{"items":[{"tags":["java","date","format","struts2"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1515091750,"post_id":48101202,"comment_id":83178544,"body_markdown":"This Stack Overflow is an English language only site. For Spanish, use https://es.stackoverflow.com","body":"This Stack Overflow is an English language only site. For Spanish, use <a href=\"https://es.stackoverflow.com\">es.stackoverflow.com</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1515091845,"post_id":48101202,"comment_id":83178586,"body_markdown":"The troublesome `Date` class is now replaced by the `Instant` class. The old date-time classes such as `java.util.Date`, [`java.util.Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [java.time](https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes built into Java 8 &amp; Java 9. See [Tutorial by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"The troublesome <code>Date</code> class is now replaced by the <code>Instant</code> class. The old date-time classes such as <code>java.util.Date</code>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes built into Java 8 &amp; Java 9. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Tutorial by Oracle</a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1515091992,"post_id":48101202,"comment_id":83178656,"body_markdown":"Your code seems to be incomplete. I cannot see how that code would result in an invalid formatting error. Please delete extraneous code, write an [MCVE](https://stackoverflow.com/help/mcve). And search Stack Overflow thoroughly before posting; most every basic date-time question has already been asked and answered.","body":"Your code seems to be incomplete. I cannot see how that code would result in an invalid formatting error. Please delete extraneous code, write an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. And search Stack Overflow thoroughly before posting; most every basic date-time question has already been asked and answered."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515110854,"creation_date":1515110854,"answer_id":48105381,"question_id":48101202,"body_markdown":"You can see how to format the date: [Formatting Dates and Numbers][1]. The action context&#39;s locale is used when the date is formatted.\r\n\r\n&gt; An appropriate en_US format definition extension could look like this:\r\n&gt; \r\n&gt;     format.date = {0,date,MM/dd/yy}\r\n\r\n\r\n    &lt;s:textfield key=&quot;dueDate&quot; value=&quot;%{getFormatted(&#39;format.date&#39;,&#39;dueDate&#39;)}&quot; /&gt;\r\n\r\n  [1]: http://struts.apache.org/core-developers/formatting-dates-and-numbers.html\r\n","title":"How to call in JSP a Date","body":"<p>You can see how to format the date: <a href=\"http://struts.apache.org/core-developers/formatting-dates-and-numbers.html\" rel=\"nofollow noreferrer\">Formatting Dates and Numbers</a>. The action context's locale is used when the date is formatted.</p>\n\n<blockquote>\n  <p>An appropriate en_US format definition extension could look like this:</p>\n\n<pre><code>format.date = {0,date,MM/dd/yy}\n</code></pre>\n</blockquote>\n\n<pre><code>&lt;s:textfield key=\"dueDate\" value=\"%{getFormatted('format.date','dueDate')}\" /&gt;\n</code></pre>\n"}],"owner":{"account_id":12617110,"reputation":1,"user_id":9174168,"display_name":"Gustavo Granato Silva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1696842722,"creation_date":1515089605,"question_id":48101202,"body_markdown":"Before everything, I searched everywhere and even founds any things, but did not work. \r\n\r\n**So, my question is:**\r\n\r\nI have \r\n\r\n1. `inicio.jsp`:\r\n```\r\n    &lt;td&gt;&lt;s:textfield name=&quot;dataInicio&quot; id=&quot;redimensiona_inputs&quot; type=&quot;text&quot; /&gt;\r\n    &lt;/td&gt;\r\n    &lt;td&gt;&lt;s:textfield name=&quot;dataFim&quot; id=&quot;redimensiona_inputs&quot; type=&quot;text&quot; /&gt;\r\n    &lt;/td&gt;\r\n ```   \r\n2. `RelatorioServiceFacadeImpl.java`:\r\n```\r\n    public String gerarRelatorioTipoFuncional() {\t\r\n\tList&lt;RelAplicacaoTipoFuncionalVO&gt; listRelatorio = relatorioServiceFacade.relTipoFuncional(aplicacao, gestor, dataInicio, dataFim);\r\n\r\n\t\tif (null == listRelatorio || listRelatorio.isEmpty()) {\r\n\t\t\taddActionError(getText(&quot;msg.erro.campo.obrigatorio&quot;,  new String[] { &quot;existem campos vazios&quot; }));\r\n\t\t}\r\n\t\t\r\n\t\treturn SUCCESS; \r\n\t}\r\n```\r\n3. `RelatorioAction.java`:\r\n```\r\n    private boolean validaCampos(String aplicacao, String gestor, Date dataInicio, Date dataFim) {\r\n\t\t\r\n\t\tif (gestor.isEmpty() || gestor == null) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tif (dataInicio.equals(null)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tif (dataFim.equals(null)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tif (dataInicio.after(dataFim)){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t} \r\n```\r\n\r\nBe returning this: `Invalid date format`.\r\n\r\n","title":"How to call in JSP a Date","body":"<p>Before everything, I searched everywhere and even founds any things, but did not work.</p>\n<p><strong>So, my question is:</strong></p>\n<p>I have</p>\n<ol>\n<li><code>inicio.jsp</code>:</li>\n</ol>\n<pre><code>    &lt;td&gt;&lt;s:textfield name=&quot;dataInicio&quot; id=&quot;redimensiona_inputs&quot; type=&quot;text&quot; /&gt;\n    &lt;/td&gt;\n    &lt;td&gt;&lt;s:textfield name=&quot;dataFim&quot; id=&quot;redimensiona_inputs&quot; type=&quot;text&quot; /&gt;\n    &lt;/td&gt;\n</code></pre>\n<ol start=\"2\">\n<li><code>RelatorioServiceFacadeImpl.java</code>:</li>\n</ol>\n<pre><code>    public String gerarRelatorioTipoFuncional() {   \n    List&lt;RelAplicacaoTipoFuncionalVO&gt; listRelatorio = relatorioServiceFacade.relTipoFuncional(aplicacao, gestor, dataInicio, dataFim);\n\n        if (null == listRelatorio || listRelatorio.isEmpty()) {\n            addActionError(getText(&quot;msg.erro.campo.obrigatorio&quot;,  new String[] { &quot;existem campos vazios&quot; }));\n        }\n        \n        return SUCCESS; \n    }\n</code></pre>\n<ol start=\"3\">\n<li><code>RelatorioAction.java</code>:</li>\n</ol>\n<pre><code>    private boolean validaCampos(String aplicacao, String gestor, Date dataInicio, Date dataFim) {\n        \n        if (gestor.isEmpty() || gestor == null) {\n            return false;\n        }\n        \n        if (dataInicio.equals(null)) {\n            return false;\n        }\n        \n        if (dataFim.equals(null)) {\n            return false;\n        }\n        \n        if (dataInicio.after(dataFim)){\n            return false;\n        }\n        \n        return true;\n    } \n</code></pre>\n<p>Be returning this: <code>Invalid date format</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":29391722,"reputation":13,"user_id":22519909,"display_name":"Lewis Jack"},"score":0,"creation_date":1696992239,"post_id":77257561,"comment_id":136222172,"body_markdown":"mFrontImageReader.setOnImageAvailableListener(mOnImageAvailableListenerFront, mFrontgroundHandler);\nmFrontPreviewRequestBuilder.addTarget(mFrontImageReader.getSurface());\nAfter writing this way, the callback method can be triggered，why?","body":"mFrontImageReader.setOnImageAvailableListener(mOnImageAvaila&zwnj;&#8203;bleListenerFront, mFrontgroundHandler); mFrontPreviewRequestBuilder.addTarget(mFrontImageReader.getS&zwnj;&#8203;urface()); After writing this way, the callback method can be triggered，why?"}],"owner":{"account_id":29391722,"reputation":13,"user_id":22519909,"display_name":"Lewis Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696842717,"creation_date":1696842717,"question_id":77257561,"body_markdown":"During the camera preview process, the callback method for processing the preview image cannot be triggered normally.\r\n\r\n    private void openCamera(boolean isBack, int width, int height) {\r\n        if (ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.CAMERA)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n            requestCameraPermission();\r\n            return;\r\n        }\r\n\r\n        final Activity activity = getActivity();\r\n        if (null == activity || activity.isFinishing()) {\r\n            return;\r\n        }\r\n\r\n        CameraManager manager = (CameraManager) activity.getSystemService(Context.CAMERA_SERVICE);\r\n\r\n        try {\r\n            if (!mCameraOpenCloseLock.tryAcquire(2500, TimeUnit.MILLISECONDS)) {\r\n                throw new RuntimeException(&quot;Time out waiting to lock camera opening.&quot;);\r\n            }\r\n\r\n            if (isBack) {\r\n                mCameraId = manager.getCameraIdList()[0];\r\n\r\n                mPreviewSize = new Size(1440, 1080);\r\n\r\n                mBackImageReader = ImageReader.newInstance(mPreviewSize.getWidth(), mPreviewSize.getHeight(), ImageFormat.YUV_420_888, mMaxImages);\r\n                mBackImageReader.setOnImageAvailableListener(mOnImageAvailableListenerBack, mBackgroundHandler);\r\n\r\n                Log.v(TAG, &quot;openCamera mCameraId=&quot; + mCameraId);\r\n                manager.openCamera(mCameraId, mStateCallBack, mBackgroundHandler);\r\n            } else {\r\n                mCameraId = manager.getCameraIdList()[1];\r\n\r\n                mPreviewSize = new Size(1080, 720);\r\n\r\n                mFrontImageReader = ImageReader.newInstance(mPreviewSize.getWidth(), mPreviewSize.getHeight(), ImageFormat.YUV_420_888, mMaxImages);\r\n                mFrontImageReader.setOnImageAvailableListener(mOnImageAvailableListenerFront, mFrontgroundHandler);\r\n\r\n                Log.v(TAG, &quot;openCamera mCameraId=&quot; + mCameraId);\r\n                manager.openCamera(mCameraId, mStateCallFront, mFrontgroundHandler);\r\n            }\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n\r\nprivate final ImageReader.OnImageAvailableListener mOnImageAvailableListenerBack = new ImageReader.OnImageAvailableListener() {\r\n        @Override\r\n        public void onImageAvailable(ImageReader reader) {\r\n            reader.acquireNextImage();\r\n        }\r\n    };\r\n\r\n    private final ImageReader.OnImageAvailableListener mOnImageAvailableListenerFront = new ImageReader.OnImageAvailableListener() {\r\n        @Override\r\n        public void onImageAvailable(ImageReader reader) {\r\n            reader.acquireNextImage();\r\n        }\r\n    };\r\n\r\n\r\nDemos on the Internet are all written like this. Why can&#39;t my code trigger the callback onImageAvailable()? What&#39;s the reason?","title":"Regarding the problem that the setOnImageAvailableListener callback method cannot be triggered","body":"<p>During the camera preview process, the callback method for processing the preview image cannot be triggered normally.</p>\n<pre><code>private void openCamera(boolean isBack, int width, int height) {\n    if (ContextCompat.checkSelfPermission(getActivity(), Manifest.permission.CAMERA)\n            != PackageManager.PERMISSION_GRANTED) {\n        requestCameraPermission();\n        return;\n    }\n\n    final Activity activity = getActivity();\n    if (null == activity || activity.isFinishing()) {\n        return;\n    }\n\n    CameraManager manager = (CameraManager) activity.getSystemService(Context.CAMERA_SERVICE);\n\n    try {\n        if (!mCameraOpenCloseLock.tryAcquire(2500, TimeUnit.MILLISECONDS)) {\n            throw new RuntimeException(&quot;Time out waiting to lock camera opening.&quot;);\n        }\n\n        if (isBack) {\n            mCameraId = manager.getCameraIdList()[0];\n\n            mPreviewSize = new Size(1440, 1080);\n\n            mBackImageReader = ImageReader.newInstance(mPreviewSize.getWidth(), mPreviewSize.getHeight(), ImageFormat.YUV_420_888, mMaxImages);\n            mBackImageReader.setOnImageAvailableListener(mOnImageAvailableListenerBack, mBackgroundHandler);\n\n            Log.v(TAG, &quot;openCamera mCameraId=&quot; + mCameraId);\n            manager.openCamera(mCameraId, mStateCallBack, mBackgroundHandler);\n        } else {\n            mCameraId = manager.getCameraIdList()[1];\n\n            mPreviewSize = new Size(1080, 720);\n\n            mFrontImageReader = ImageReader.newInstance(mPreviewSize.getWidth(), mPreviewSize.getHeight(), ImageFormat.YUV_420_888, mMaxImages);\n            mFrontImageReader.setOnImageAvailableListener(mOnImageAvailableListenerFront, mFrontgroundHandler);\n\n            Log.v(TAG, &quot;openCamera mCameraId=&quot; + mCameraId);\n            manager.openCamera(mCameraId, mStateCallFront, mFrontgroundHandler);\n        }\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>private final ImageReader.OnImageAvailableListener mOnImageAvailableListenerBack = new ImageReader.OnImageAvailableListener() {\n@Override\npublic void onImageAvailable(ImageReader reader) {\nreader.acquireNextImage();\n}\n};</p>\n<pre><code>private final ImageReader.OnImageAvailableListener mOnImageAvailableListenerFront = new ImageReader.OnImageAvailableListener() {\n    @Override\n    public void onImageAvailable(ImageReader reader) {\n        reader.acquireNextImage();\n    }\n};\n</code></pre>\n<p>Demos on the Internet are all written like this. Why can't my code trigger the callback onImageAvailable()? What's the reason?</p>\n"},{"tags":["java","android","android-room"],"comments":[{"owner":{"account_id":2327294,"reputation":623,"user_id":2041475,"display_name":"MikkelT"},"score":0,"creation_date":1696847909,"post_id":77257560,"comment_id":136200910,"body_markdown":"I think you need to remove the @Update annotation form updateTrip. It&#39;s usually meant for Entities only.","body":"I think you need to remove the @Update annotation form updateTrip. It&#39;s usually meant for Entities only."},{"owner":{"account_id":25275020,"reputation":11,"user_id":19114564,"display_name":"Guest"},"score":0,"creation_date":1696856179,"post_id":77257560,"comment_id":136202518,"body_markdown":"@MikkelT how would I then update the trip places or delete the trip along with its places?","body":"@MikkelT how would I then update the trip places or delete the trip along with its places?"}],"owner":{"account_id":25275020,"reputation":11,"user_id":19114564,"display_name":"Guest"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696842716,"creation_date":1696842716,"question_id":77257560,"body_markdown":"I need to track trips made by users. A trip consists of start km and an end km to calculate the total distance passed in that trip in addition to places the user went to. So in the app when creating a new trip the user can enter those details and choose some places from a list.\r\n\r\nMy case is similar to [this guide](https://developer.android.com/training/data-storage/room/relationships#many-to-many). A playlist with songs. So I followed that guide to achieve it. I started without adding places just to make sure the app works fine and can query from/to the database without any errors.\r\n\r\nNow I need to update a trip when places are added. I had this DAO method:\r\n\r\n```java\r\n@Update\r\nvoid updateTrip(Trip trip);\r\n```\r\nbut when I changed it to:\r\n```java\r\n@Transaction\r\n@Update\r\nvoid updateTrip(TripWithPlaces trip);\r\n```\r\nit gives compile error when trying to run the app:\r\n```\r\nerror: Type of the parameter must be a class annotated with @Entity or a collection/array of it.\r\n    void updateTrip(TripWithPlaces trip);\r\n                                   ^\r\n```\r\n(same thing for delete)\r\n\r\nSome answers here said to update the version but the answers were a little old back to previous version of room.\r\n\r\nMy current dependencies versions:\r\n```\r\n// Kotlin\r\nimplementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\r\n\r\n// Room\r\ndef room_version = &quot;2.5.2&quot;\r\nimplementation &quot;androidx.room:room-runtime:$room_version&quot;\r\nannotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\r\n\r\n// Lifecycle\r\ndef lifecycle_version = &#39;2.6.2&#39;\r\nimplementation &quot;androidx.lifecycle:lifecycle-viewmodel:$lifecycle_version&quot;\r\nimplementation &quot;androidx.lifecycle:lifecycle-livedata:$lifecycle_version&quot;\r\nimplementation &quot;androidx.lifecycle:lifecycle-common-java8:$lifecycle_version&quot;\r\n```\r\n\r\nI tried updating:\r\n- **kotlin-bom** to `1.9.10`\r\n- **room** to `2.6.0-rc01`\r\n- **lifecycle** to `2.7.0-alpha02`\r\n\r\nbut no luck I still get the same error when trying to run the app.\r\n\r\n---\r\n## Codes:\r\n\r\n**PlaceDao:**\r\n```java\r\n@Dao\r\npublic interface PlaceDao {\r\n\r\n    @Insert\r\n    void addPlace(Place place);\r\n\r\n    @Update\r\n    void updatePlace(Place place);\r\n\r\n    @Delete\r\n    void deletePlace(Place place);\r\n\r\n    @Query(&quot;SELECT * FROM place WHERE place_id = :id&quot;)\r\n    LiveData&lt;Place&gt; getPlaceByID(int id);\r\n\r\n    @Query(&quot;SELECT * FROM place&quot;)\r\n    LiveData&lt;List&lt;Place&gt;&gt; getAllPlaces();\r\n\r\n}\r\n```\r\n\r\n**TripDao:**\r\n```java\r\n@Dao\r\npublic interface TripDao {\r\n\r\n    @Insert\r\n    void addTrip(Trip trip);\r\n    \r\n    @Transaction\r\n    @Update\r\n    void updateTrip(TripWithPlaces trip);\r\n    \r\n    @Delete\r\n    void deleteTrip(Trip trip);\r\n\r\n    @Transaction\r\n    @Query(&quot;SELECT * FROM trip WHERE trip_id = :id&quot;)\r\n    LiveData&lt;TripWithPlaces&gt; getTripByID(int id);\r\n\r\n    @Query(&quot;SELECT * FROM trip&quot;)\r\n    LiveData&lt;List&lt;Trip&gt;&gt; getAllTrips();\r\n\r\n    @Transaction\r\n    @Query(&quot;SELECT * FROM trip&quot;)\r\n    LiveData&lt;List&lt;TripWithPlaces&gt;&gt; getTripsWithPlaces();\r\n\r\n}\r\n```\r\n\r\n**Place** entity:\r\n```java\r\n@Entity(tableName = &quot;place&quot;)\r\npublic class Place {\r\n\r\n    @PrimaryKey(autoGenerate = true)\r\n    @ColumnInfo(name = &quot;place_id&quot;)\r\n    private int placeID;\r\n\r\n    private String name;\r\n\r\n    private String city;\r\n\r\n    // constructors, getters, setters\r\n\r\n}\r\n```\r\n\r\n**Trip** entity:\r\n```java\r\n@Entity(tableName = &quot;trip&quot;)\r\npublic class Trip {\r\n\r\n    @PrimaryKey(autoGenerate = true)\r\n    @ColumnInfo(name = &quot;trip_id&quot;)\r\n    private int tripID;\r\n\r\n    @ColumnInfo(name = &quot;start_km&quot;)\r\n    private double startKm;\r\n\r\n    @ColumnInfo(name = &quot;end_km&quot;)\r\n    private double endKm;\r\n\r\n    private TripStatus status;\r\n\r\n    @ColumnInfo(name = &quot;created_at&quot;)\r\n    private long createdAt;\r\n\r\n    // constructors, getters, setters\r\n\r\n}\r\n```\r\n\r\n**TripPlaceCrossRef**:\r\n```java\r\n@Entity(tableName = &quot;trip_place_cross_ref&quot;, primaryKeys = {&quot;trip_id&quot;, &quot;place_id&quot;})\r\npublic class TripPlaceCrossRef {\r\n\r\n    @ColumnInfo(name = &quot;trip_id&quot;)\r\n    private int tripID;\r\n\r\n    @ColumnInfo(name = &quot;place_id&quot;)\r\n    private int placeID;\r\n\r\n    // constructors, getters, setters\r\n\r\n}\r\n```\r\n\r\n**TripWithPlaces**:\r\n```java\r\npublic class TripWithPlaces {\r\n\r\n    @Embedded\r\n    private Trip trip;\r\n\r\n    @Relation(\r\n            parentColumn = &quot;trip_id&quot;,\r\n            entityColumn = &quot;place_id&quot;,\r\n            associateBy = @Junction(TripPlaceCrossRef.class)\r\n    )\r\n    private List&lt;Place&gt; places;\r\n\r\n    // constructors, getters, setters\r\n\r\n}\r\n```","title":"Room relations: Type of the parameter must be a class annotated with @Entity or a collection/array of it","body":"<p>I need to track trips made by users. A trip consists of start km and an end km to calculate the total distance passed in that trip in addition to places the user went to. So in the app when creating a new trip the user can enter those details and choose some places from a list.</p>\n<p>My case is similar to <a href=\"https://developer.android.com/training/data-storage/room/relationships#many-to-many\" rel=\"nofollow noreferrer\">this guide</a>. A playlist with songs. So I followed that guide to achieve it. I started without adding places just to make sure the app works fine and can query from/to the database without any errors.</p>\n<p>Now I need to update a trip when places are added. I had this DAO method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Update\nvoid updateTrip(Trip trip);\n</code></pre>\n<p>but when I changed it to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transaction\n@Update\nvoid updateTrip(TripWithPlaces trip);\n</code></pre>\n<p>it gives compile error when trying to run the app:</p>\n<pre><code>error: Type of the parameter must be a class annotated with @Entity or a collection/array of it.\n    void updateTrip(TripWithPlaces trip);\n                                   ^\n</code></pre>\n<p>(same thing for delete)</p>\n<p>Some answers here said to update the version but the answers were a little old back to previous version of room.</p>\n<p>My current dependencies versions:</p>\n<pre><code>// Kotlin\nimplementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n\n// Room\ndef room_version = &quot;2.5.2&quot;\nimplementation &quot;androidx.room:room-runtime:$room_version&quot;\nannotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\n\n// Lifecycle\ndef lifecycle_version = '2.6.2'\nimplementation &quot;androidx.lifecycle:lifecycle-viewmodel:$lifecycle_version&quot;\nimplementation &quot;androidx.lifecycle:lifecycle-livedata:$lifecycle_version&quot;\nimplementation &quot;androidx.lifecycle:lifecycle-common-java8:$lifecycle_version&quot;\n</code></pre>\n<p>I tried updating:</p>\n<ul>\n<li><strong>kotlin-bom</strong> to <code>1.9.10</code></li>\n<li><strong>room</strong> to <code>2.6.0-rc01</code></li>\n<li><strong>lifecycle</strong> to <code>2.7.0-alpha02</code></li>\n</ul>\n<p>but no luck I still get the same error when trying to run the app.</p>\n<hr />\n<h2>Codes:</h2>\n<p><strong>PlaceDao:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Dao\npublic interface PlaceDao {\n\n    @Insert\n    void addPlace(Place place);\n\n    @Update\n    void updatePlace(Place place);\n\n    @Delete\n    void deletePlace(Place place);\n\n    @Query(&quot;SELECT * FROM place WHERE place_id = :id&quot;)\n    LiveData&lt;Place&gt; getPlaceByID(int id);\n\n    @Query(&quot;SELECT * FROM place&quot;)\n    LiveData&lt;List&lt;Place&gt;&gt; getAllPlaces();\n\n}\n</code></pre>\n<p><strong>TripDao:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Dao\npublic interface TripDao {\n\n    @Insert\n    void addTrip(Trip trip);\n    \n    @Transaction\n    @Update\n    void updateTrip(TripWithPlaces trip);\n    \n    @Delete\n    void deleteTrip(Trip trip);\n\n    @Transaction\n    @Query(&quot;SELECT * FROM trip WHERE trip_id = :id&quot;)\n    LiveData&lt;TripWithPlaces&gt; getTripByID(int id);\n\n    @Query(&quot;SELECT * FROM trip&quot;)\n    LiveData&lt;List&lt;Trip&gt;&gt; getAllTrips();\n\n    @Transaction\n    @Query(&quot;SELECT * FROM trip&quot;)\n    LiveData&lt;List&lt;TripWithPlaces&gt;&gt; getTripsWithPlaces();\n\n}\n</code></pre>\n<p><strong>Place</strong> entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(tableName = &quot;place&quot;)\npublic class Place {\n\n    @PrimaryKey(autoGenerate = true)\n    @ColumnInfo(name = &quot;place_id&quot;)\n    private int placeID;\n\n    private String name;\n\n    private String city;\n\n    // constructors, getters, setters\n\n}\n</code></pre>\n<p><strong>Trip</strong> entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(tableName = &quot;trip&quot;)\npublic class Trip {\n\n    @PrimaryKey(autoGenerate = true)\n    @ColumnInfo(name = &quot;trip_id&quot;)\n    private int tripID;\n\n    @ColumnInfo(name = &quot;start_km&quot;)\n    private double startKm;\n\n    @ColumnInfo(name = &quot;end_km&quot;)\n    private double endKm;\n\n    private TripStatus status;\n\n    @ColumnInfo(name = &quot;created_at&quot;)\n    private long createdAt;\n\n    // constructors, getters, setters\n\n}\n</code></pre>\n<p><strong>TripPlaceCrossRef</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(tableName = &quot;trip_place_cross_ref&quot;, primaryKeys = {&quot;trip_id&quot;, &quot;place_id&quot;})\npublic class TripPlaceCrossRef {\n\n    @ColumnInfo(name = &quot;trip_id&quot;)\n    private int tripID;\n\n    @ColumnInfo(name = &quot;place_id&quot;)\n    private int placeID;\n\n    // constructors, getters, setters\n\n}\n</code></pre>\n<p><strong>TripWithPlaces</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TripWithPlaces {\n\n    @Embedded\n    private Trip trip;\n\n    @Relation(\n            parentColumn = &quot;trip_id&quot;,\n            entityColumn = &quot;place_id&quot;,\n            associateBy = @Junction(TripPlaceCrossRef.class)\n    )\n    private List&lt;Place&gt; places;\n\n    // constructors, getters, setters\n\n}\n</code></pre>\n"},{"tags":["java","android","google-maps","memory-leaks","leakcanary"],"comments":[{"owner":{"display_name":"user2711811"},"score":0,"creation_date":1565799510,"post_id":57472976,"comment_id":101466672,"body_markdown":"First step is to confirm destroy(destroyView) is called by a breakpoint or log the  method - destroy is not guaranteed to be called.  Some info: https://stackoverflow.com/a/17195813/2711811.","body":"First step is to confirm destroy(destroyView) is called by a breakpoint or log the  method - destroy is not guaranteed to be called.  Some info: <a href=\"https://stackoverflow.com/a/17195813/2711811\">stackoverflow.com/a/17195813/2711811</a>."},{"owner":{"account_id":14688826,"reputation":535,"user_id":10608063,"display_name":"Maximilian Speicher"},"score":0,"creation_date":1565807577,"post_id":57472976,"comment_id":101469933,"body_markdown":"I&#180;ve already checked this and the `onDestroy(View)` methods are being called repsectively the memory leak is still there when the `onDestroy(View)` methods were called.","body":"I&#180;ve already checked this and the <code>onDestroy(View)</code> methods are being called repsectively the memory leak is still there when the <code>onDestroy(View)</code> methods were called."},{"owner":{"account_id":2225254,"reputation":3722,"user_id":1964191,"accept_rate":38,"display_name":"okarakose"},"score":0,"creation_date":1577218353,"post_id":57472976,"comment_id":105124551,"body_markdown":"Is there any solution to fix this memory leak ?","body":"Is there any solution to fix this memory leak ?"},{"owner":{"account_id":7494343,"reputation":2947,"user_id":5695091,"accept_rate":92,"display_name":"ysfcyln"},"score":0,"creation_date":1606996537,"post_id":57472976,"comment_id":115136081,"body_markdown":"Any solution @MaximilianSpeicher?","body":"Any solution @MaximilianSpeicher?"},{"owner":{"account_id":14688826,"reputation":535,"user_id":10608063,"display_name":"Maximilian Speicher"},"score":0,"creation_date":1607195861,"post_id":57472976,"comment_id":115198322,"body_markdown":"@ysfcyln No I haven&#39;t a solution back then, but haven&#39;t tried recently.","body":"@ysfcyln No I haven&#39;t a solution back then, but haven&#39;t tried recently."},{"owner":{"account_id":12611966,"reputation":475,"user_id":9170741,"display_name":"Z.J Hung"},"score":1,"creation_date":1610008423,"post_id":57472976,"comment_id":115998732,"body_markdown":"As a workaround, I add `mMapView.removeAllViews()` to `onDestroyView()` and no more leaks happened.","body":"As a workaround, I add <code>mMapView.removeAllViews()</code> to <code>onDestroyView()</code> and no more leaks happened."}],"answers":[{"tags":[],"owner":{"account_id":12425803,"reputation":544,"user_id":9050523,"accept_rate":100,"display_name":"faizy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696842466,"creation_date":1696842466,"answer_id":77257529,"question_id":57472976,"body_markdown":"To avoid memory leaks in map view,should add following things on fragment&#39;s `onDestroyView`.\r\n\r\n     @Override\r\n        public void onDestroyView() {\r\n            googleMap.clear()\r\n            mMapView.removeAllViews()\r\n            mMapView?.onDestroy()\r\n            super.onDestroyView()\r\n        }","title":"Google Maps MapsView leaking","body":"<p>To avoid memory leaks in map view,should add following things on fragment's <code>onDestroyView</code>.</p>\n<pre><code> @Override\n    public void onDestroyView() {\n        googleMap.clear()\n        mMapView.removeAllViews()\n        mMapView?.onDestroy()\n        super.onDestroyView()\n    }\n</code></pre>\n"}],"owner":{"account_id":14688826,"reputation":535,"user_id":10608063,"display_name":"Maximilian Speicher"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1613,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1696842466,"creation_date":1565681032,"question_id":57472976,"body_markdown":"I&#180;ve added a Google Maps MapView to a Fragment in Android. Until now it is a clear Map without any Markers, Options or anything else. Nevertheless whenever I leave the Fragment the app has a memory leak.\r\n\r\nI&#180;ve already tried all proposed solutions that I have found like attaching the MapView to the Fragment Lifecycle, setting it no null in `onDestroyView()` and so on but the memory leak still prevails.\r\n\r\nThe current code looks like this:\r\n\r\n**fragment_map.xml**\r\n```XML\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;com.google.android.gms.maps.MapView\r\n        android:id=&quot;@+id/mapView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n**MapViewFragment.java**\r\n```android\r\n@Nullable\r\n@Override\r\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_map, container, false);\r\n\r\n        mMapView = view.findViewById(R.id.mapView);\r\n        mMapView.onCreate(savedInstanceState);\r\n        mMapView.onResume();\r\n\r\n        MapsInitializer.initialize(Objects.requireNonNull(getActivity()).getApplicationContext());\r\n\r\n        mMapView.getMapAsync(googleMap -&gt; {\r\n            mGoogleMap = googleMap;\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n@Override\r\npublic void onResume() {\r\n        super.onResume();\r\n        mMapView.onResume();\r\n    }\r\n\r\n@Override\r\npublic void onPause() {\r\n        super.onPause();\r\n        mMapView.onPause();\r\n    }\r\n\r\n@Override\r\npublic void onLowMemory() {\r\n        super.onLowMemory();\r\n        mMapView.onLowMemory();\r\n    }\r\n\r\n@Override\r\npublic void onDestroyView() {\r\n        mGoogleMap.clear();\r\n\r\n        mMapView.onDestroy();\r\n        mGoogleMap = null;\r\n        mMapView = null;\r\n        super.onDestroyView();\r\n    }\r\n```\r\n\r\nThe **leak trace** looks like this:\r\n```\r\n    ┬\r\n    ├─ com.google.android.gms.internal.location.zzat\r\n    │    Leaking: NO (it&#39;s a GC root)\r\n    │    ↓ zzat.zzda\r\n    │           ~~~~\r\n    ├─ com.google.android.gms.common.api.internal.ListenerHolder\r\n    │    Leaking: UNKNOWN\r\n    │    ↓ ListenerHolder.zajl\r\n    │                     ~~~~\r\n    ├─ com.google.android.gms.common.api.internal.ListenerHolder$ListenerKey\r\n    │    Leaking: UNKNOWN\r\n    │    ↓ ListenerHolder$ListenerKey.zajk\r\n    │                                 ~~~~\r\n    ├─ package.fragments.MapViewFragment$1\r\n    │    Leaking: UNKNOWN\r\n    │    Anonymous subclass of com.google.android.gms.location.LocationCallback\r\n    │    ↓ MapViewFragment$1.this$0\r\n    │                        ~~~~~~\r\n    ╰→ package.fragments.MapViewFragment\r\n    ​     Leaking: YES (RefWatcher was watching this and Fragment#mFragmentManager is null and Fragment#mFragmentManager is null)\r\n    , retainedHeapSize=null), LeakingInstance(referenceKey=3a478407-69a0-4916-8035-42c2bfd2af4e, referenceName=, instanceClassName=android.widget.RelativeLayout, watchDurationMillis=123593, retainedDurationMillis=118589, exclusionStatus=null, leakTrace=\r\n    ┬\r\n    ├─ com.google.maps.api.android.lib6.gmm6.vector.q\r\n    │    Leaking: NO (it&#39;s a GC root)\r\n    │    Thread name: &#39;RenderDrive&#39;\r\n    │    ↓ thread q.f\r\n    │               ~\r\n    ├─ com.google.maps.api.android.lib6.gmm6.vector.n\r\n    │    Leaking: UNKNOWN\r\n    │    ↓ n.k\r\n    │        ~\r\n    ├─ com.google.maps.api.android.lib6.gmm6.api.y\r\n    │    Leaking: YES (View detached and has parent)\r\n    │    View#mParent is set\r\n    │    View#mAttachInfo is null (view detached)\r\n    │    View.mWindowAttachCount=1\r\n    │    ↓ y.mParent\r\n    ├─ android.widget.FrameLayout\r\n    │    Leaking: YES (y↑ is leaking and View detached and has parent)\r\n    │    View#mParent is set\r\n    │    View#mAttachInfo is null (view detached)\r\n    │    View.mWindowAttachCount=1\r\n    │    ↓ FrameLayout.mParent\r\n    ├─ com.google.android.gms.maps.MapView\r\n    │    Leaking: YES (FrameLayout↑ is leaking and View detached and has parent)\r\n    │    View#mParent is set\r\n    │    View#mAttachInfo is null (view detached)\r\n    │    View.mWindowAttachCount=1\r\n    │    ↓ MapView.mParent\r\n    ╰→ android.widget.RelativeLayout\r\n    ​     Leaking: YES (RefWatcher was watching this)\r\n    ​     View#mParent is null\r\n    ​     View#mAttachInfo is null (view detached)\r\n    ​     View.mWindowAttachCount=1, retainedHeapSize=null)])\r\n```\r\n\r\nHowever I&#180;ve already tried moving the lifecycle methods around from `onDestroy` to `onDestroyView` and so on.\r\n\r\nThe memory leak is about 1 to 2 MB every time I leave the MapFragment.\r\nI hope this leak can be fixed, but I don&#180;t have any idea what to try anymore.","title":"Google Maps MapsView leaking","body":"<p>I´ve added a Google Maps MapView to a Fragment in Android. Until now it is a clear Map without any Markers, Options or anything else. Nevertheless whenever I leave the Fragment the app has a memory leak.</p>\n\n<p>I´ve already tried all proposed solutions that I have found like attaching the MapView to the Fragment Lifecycle, setting it no null in <code>onDestroyView()</code> and so on but the memory leak still prevails.</p>\n\n<p>The current code looks like this:</p>\n\n<p><strong>fragment_map.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;com.google.android.gms.maps.MapView\n        android:id=\"@+id/mapView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><strong>MapViewFragment.java</strong></p>\n\n<pre><code>@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_map, container, false);\n\n        mMapView = view.findViewById(R.id.mapView);\n        mMapView.onCreate(savedInstanceState);\n        mMapView.onResume();\n\n        MapsInitializer.initialize(Objects.requireNonNull(getActivity()).getApplicationContext());\n\n        mMapView.getMapAsync(googleMap -&gt; {\n            mGoogleMap = googleMap;\n        });\n\n        return view;\n    }\n\n@Override\npublic void onResume() {\n        super.onResume();\n        mMapView.onResume();\n    }\n\n@Override\npublic void onPause() {\n        super.onPause();\n        mMapView.onPause();\n    }\n\n@Override\npublic void onLowMemory() {\n        super.onLowMemory();\n        mMapView.onLowMemory();\n    }\n\n@Override\npublic void onDestroyView() {\n        mGoogleMap.clear();\n\n        mMapView.onDestroy();\n        mGoogleMap = null;\n        mMapView = null;\n        super.onDestroyView();\n    }\n</code></pre>\n\n<p>The <strong>leak trace</strong> looks like this:</p>\n\n<pre><code>    ┬\n    ├─ com.google.android.gms.internal.location.zzat\n    │    Leaking: NO (it's a GC root)\n    │    ↓ zzat.zzda\n    │           ~~~~\n    ├─ com.google.android.gms.common.api.internal.ListenerHolder\n    │    Leaking: UNKNOWN\n    │    ↓ ListenerHolder.zajl\n    │                     ~~~~\n    ├─ com.google.android.gms.common.api.internal.ListenerHolder$ListenerKey\n    │    Leaking: UNKNOWN\n    │    ↓ ListenerHolder$ListenerKey.zajk\n    │                                 ~~~~\n    ├─ package.fragments.MapViewFragment$1\n    │    Leaking: UNKNOWN\n    │    Anonymous subclass of com.google.android.gms.location.LocationCallback\n    │    ↓ MapViewFragment$1.this$0\n    │                        ~~~~~~\n    ╰→ package.fragments.MapViewFragment\n    ​     Leaking: YES (RefWatcher was watching this and Fragment#mFragmentManager is null and Fragment#mFragmentManager is null)\n    , retainedHeapSize=null), LeakingInstance(referenceKey=3a478407-69a0-4916-8035-42c2bfd2af4e, referenceName=, instanceClassName=android.widget.RelativeLayout, watchDurationMillis=123593, retainedDurationMillis=118589, exclusionStatus=null, leakTrace=\n    ┬\n    ├─ com.google.maps.api.android.lib6.gmm6.vector.q\n    │    Leaking: NO (it's a GC root)\n    │    Thread name: 'RenderDrive'\n    │    ↓ thread q.f\n    │               ~\n    ├─ com.google.maps.api.android.lib6.gmm6.vector.n\n    │    Leaking: UNKNOWN\n    │    ↓ n.k\n    │        ~\n    ├─ com.google.maps.api.android.lib6.gmm6.api.y\n    │    Leaking: YES (View detached and has parent)\n    │    View#mParent is set\n    │    View#mAttachInfo is null (view detached)\n    │    View.mWindowAttachCount=1\n    │    ↓ y.mParent\n    ├─ android.widget.FrameLayout\n    │    Leaking: YES (y↑ is leaking and View detached and has parent)\n    │    View#mParent is set\n    │    View#mAttachInfo is null (view detached)\n    │    View.mWindowAttachCount=1\n    │    ↓ FrameLayout.mParent\n    ├─ com.google.android.gms.maps.MapView\n    │    Leaking: YES (FrameLayout↑ is leaking and View detached and has parent)\n    │    View#mParent is set\n    │    View#mAttachInfo is null (view detached)\n    │    View.mWindowAttachCount=1\n    │    ↓ MapView.mParent\n    ╰→ android.widget.RelativeLayout\n    ​     Leaking: YES (RefWatcher was watching this)\n    ​     View#mParent is null\n    ​     View#mAttachInfo is null (view detached)\n    ​     View.mWindowAttachCount=1, retainedHeapSize=null)])\n</code></pre>\n\n<p>However I´ve already tried moving the lifecycle methods around from <code>onDestroy</code> to <code>onDestroyView</code> and so on.</p>\n\n<p>The memory leak is about 1 to 2 MB every time I leave the MapFragment.\nI hope this leak can be fixed, but I don´t have any idea what to try anymore.</p>\n"},{"tags":["java","spring","cron","cron-task"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1696858998,"post_id":77257524,"comment_id":136203118,"body_markdown":"https://www.baeldung.com/cron-expressions","body":"<a href=\"https://www.baeldung.com/cron-expressions\" rel=\"nofollow noreferrer\">baeldung.com/cron-expressions</a>"}],"owner":{"account_id":2302160,"reputation":756,"user_id":2022241,"accept_rate":49,"display_name":"kyrpav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696842425,"creation_date":1696842425,"question_id":77257524,"body_markdown":"In one program having testing cron we have different behaviour.\r\nIn both cases we run a log or sysout function.\r\n\r\nFirst syntax is to run every minute:\r\n\r\n    \t@Scheduled (cron = &quot;0 * * * * ?&quot;)\r\n\tpublic void getDataTest(){\r\n        System.out.println(&quot;TEST&quot;);\r\n\t}\r\n\r\n\r\n\r\nSecond is at a specific minutes and hour every day:\r\n\r\n\t@Scheduled (cron = &quot;0 22 14 * * ?&quot;)\r\n\tpublic void getDataTestTwo(){\r\n\t\tSystem.out.println(&quot;TEST getDataTestTwo&quot;);\r\n\t}\r\n\r\nThe setup is with six field at 0 seconds which is the first value.\r\n\r\nThe first test is running normally at every minute the second is not running either if reset this after 5 minutes and restart the program.\r\n\r\nWhat could be the reason.\r\n\r\nIn the main application class we have @enableScheduling annotation. Though it is clear the cron is working cause of 1st case.\r\n","title":"Cron issue between every minute setup and specific time setup","body":"<p>In one program having testing cron we have different behaviour.\nIn both cases we run a log or sysout function.</p>\n<p>First syntax is to run every minute:</p>\n<pre><code>    @Scheduled (cron = &quot;0 * * * * ?&quot;)\npublic void getDataTest(){\n    System.out.println(&quot;TEST&quot;);\n}\n</code></pre>\n<p>Second is at a specific minutes and hour every day:</p>\n<pre><code>@Scheduled (cron = &quot;0 22 14 * * ?&quot;)\npublic void getDataTestTwo(){\n    System.out.println(&quot;TEST getDataTestTwo&quot;);\n}\n</code></pre>\n<p>The setup is with six field at 0 seconds which is the first value.</p>\n<p>The first test is running normally at every minute the second is not running either if reset this after 5 minutes and restart the program.</p>\n<p>What could be the reason.</p>\n<p>In the main application class we have @enableScheduling annotation. Though it is clear the cron is working cause of 1st case.</p>\n"},{"tags":["java","compiler-construction"],"comments":[{"owner":{"account_id":463036,"reputation":5207,"user_id":865695,"accept_rate":56,"display_name":"Sebastian"},"score":1,"creation_date":1696836614,"post_id":77256938,"comment_id":136198889,"body_markdown":"If it&#39;s not done in bytecode, it will definitely be done in assembler should the JIT compiler decide to translate that method into machine code.","body":"If it&#39;s not done in bytecode, it will definitely be done in assembler should the JIT compiler decide to translate that method into machine code."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1696836791,"post_id":77256938,"comment_id":136198919,"body_markdown":"By the way, the internet archive has that article saved https://web.archive.org/web/20170707040315/https://www.javaworld.com/article/2076060/build-ci-sdlc/compiler-optimizations.html","body":"By the way, the internet archive has that article saved <a href=\"https://web.archive.org/web/20170707040315/https://www.javaworld.com/article/2076060/build-ci-sdlc/compiler-optimizations.html\" rel=\"nofollow noreferrer\">web.archive.org/web/20170707040315/https://www.javaworld.com&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1696837176,"post_id":77256938,"comment_id":136198996,"body_markdown":"&quot;if java compiler do the constant folding optimization,how can I seen it?&quot; Your previous sentence established that javac doesn&#39;t do constant folding, so this doesn&#39;t make sense.","body":"&quot;if java compiler do the constant folding optimization,how can I seen it?&quot; Your previous sentence established that javac doesn&#39;t do constant folding, so this doesn&#39;t make sense."},{"owner":{"account_id":9789510,"reputation":1725,"user_id":7254635,"accept_rate":0,"display_name":"wang kai"},"score":0,"creation_date":1696837833,"post_id":77256938,"comment_id":136199111,"body_markdown":"Thanks.so is it means that any compiler that generate code for the &quot;stack machine&quot; (like jvm and clr and lua vm) theoretically can&#39;t do the constant folding direct(without JIT)?","body":"Thanks.so is it means that any compiler that generate code for the &quot;stack machine&quot; (like jvm and clr and lua vm) theoretically can&#39;t do the constant folding direct(without JIT)?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1696838667,"post_id":77256938,"comment_id":136199243,"body_markdown":"It would do constant folding if you had made `x`, `y`, and `z` final.","body":"It would do constant folding if you had made <code>x</code>, <code>y</code>, and <code>z</code> final."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696838946,"post_id":77256938,"comment_id":136199291,"body_markdown":"@MarkRotteveel That sounds strange to me. Those variables are *effectively* final and the compiler knows it. So why treat them differently when the keyword is there? (For the record, I don&#39;t doubt that it&#39;s true, it&#39;s just strange)","body":"@MarkRotteveel That sounds strange to me. Those variables are <i>effectively</i> final and the compiler knows it. So why treat them differently when the keyword is there? (For the record, I don&#39;t doubt that it&#39;s true, it&#39;s just strange)"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1696839039,"post_id":77256938,"comment_id":136199302,"body_markdown":"@Jorn Effectively final is not the same as being explicitly final. As far as I know, the JLS reserves these type of optimizations only for things that are explicitly final. See among others, [4.12.4. final Variables](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.4) and [15.29. Constant Expressions](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29). Explicitly final variables initialized with a constant expression are constants. The same is not specified for effectively final variables.","body":"@Jorn Effectively final is not the same as being explicitly final. As far as I know, the JLS reserves these type of optimizations only for things that are explicitly final. See among others, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">4.12.4. final Variables</a> and <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29\" rel=\"nofollow noreferrer\">15.29. Constant Expressions</a>. Explicitly final variables initialized with a constant expression are constants. The same is not specified for effectively final variables."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696841699,"post_id":77256938,"comment_id":136199762,"body_markdown":"In the case of string concatenation, case expressions, and several other things, it is *required* to do so by the JLS.","body":"In the case of string concatenation, case expressions, and several other things, it is <i>required</i> to do so by the JLS."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696841459,"creation_date":1696838919,"answer_id":77257175,"question_id":77256938,"body_markdown":"The Java compiler does perform constant folding, but only if you use literals or constant expressions, and/or if the variables you use in the calculation are `final` and have been initialised with constant expression (see among others, [4.12.4. final Variables][1] and [15.29. Constant Expressions][2] of the JLS).\r\n\r\nModifying your code to make `x`, `y` and `z` final:\r\n\r\n```java\r\nclass A\r\n{\r\n    public static void main()\r\n    {\r\n        final int x = 123;\r\n        final int y = 234;\r\n        final int z = 345;\r\n        int a=x+y+z;\r\n    }\r\n}\r\n```\r\n\r\nAfter compilation, the `javap` output now is:\r\n\r\n```none\r\n  public static void main();\r\n    Code:\r\n       0: sipush        702\r\n       3: istore_0\r\n       4: return\r\n```\r\n\r\nHowever, in general, the Java compiler doesn&#39;t do much optimizations, most of the optimization happens at runtime, by the JIT compiler, which uses information about the underlying platform (e.g. CPU instruction set), and actual runtime characteristics to decide on optimizations and compiling the code to native.\r\n\r\nAlso noteworthy: if you make `a` final as well, then it is eliminated from the bytecode as well:\r\n\r\n```none\r\n  public static void main();\r\n    Code:\r\n       0: return\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.4\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29","title":"Does the Java compiler do a constant folding optimization and how to check it?","body":"<p>The Java compiler does perform constant folding, but only if you use literals or constant expressions, and/or if the variables you use in the calculation are <code>final</code> and have been initialised with constant expression (see among others, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">4.12.4. final Variables</a> and <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29\" rel=\"nofollow noreferrer\">15.29. Constant Expressions</a> of the JLS).</p>\n<p>Modifying your code to make <code>x</code>, <code>y</code> and <code>z</code> final:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A\n{\n    public static void main()\n    {\n        final int x = 123;\n        final int y = 234;\n        final int z = 345;\n        int a=x+y+z;\n    }\n}\n</code></pre>\n<p>After compilation, the <code>javap</code> output now is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>  public static void main();\n    Code:\n       0: sipush        702\n       3: istore_0\n       4: return\n</code></pre>\n<p>However, in general, the Java compiler doesn't do much optimizations, most of the optimization happens at runtime, by the JIT compiler, which uses information about the underlying platform (e.g. CPU instruction set), and actual runtime characteristics to decide on optimizations and compiling the code to native.</p>\n<p>Also noteworthy: if you make <code>a</code> final as well, then it is eliminated from the bytecode as well:</p>\n<pre class=\"lang-none prettyprint-override\"><code>  public static void main();\n    Code:\n       0: return\n</code></pre>\n"}],"owner":{"account_id":9789510,"reputation":1725,"user_id":7254635,"accept_rate":0,"display_name":"wang kai"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1696858453,"accepted_answer_id":77257175,"answer_count":1,"score":2,"last_activity_date":1696841459,"creation_date":1696836358,"question_id":77256938,"body_markdown":"The question have been answered:\r\nhttps://stackoverflow.com/questions/2012528/is-there-any-concept-called-constant-folding-in-java, but the page in this answered I can&#39;t find:\r\nhttps://www.javaworld.com/jw-03-2000/jw-03-javaperf_4.html\r\n\r\nso this code:\r\n```java\r\nclass A\r\n{\r\n\tpublic static void main()\r\n\t{\r\n\t\tint x=123;int y=234;int z=345;\r\n\t\tint a=x+y+z;\r\n\t}\r\n}\r\n```\r\n\r\nI use javap -c to check the assemble code, it not does not do the constant folding optimization:\r\n```none\r\n public static void main();\r\n   Code:\r\n      0: bipush        123\r\n      2: istore_0\r\n      3: sipush        234\r\n      6: istore_1\r\n      7: sipush        345\r\n     10: istore_2\r\n     11: iload_0\r\n     12: iload_1\r\n     13: iadd\r\n     14: iload_2\r\n     15: iadd\r\n     16: istore_3\r\n     17: return\r\n```\r\n\r\nIt seems javac does not have optimization options like GCC&#39;s O2, so if the java compiler does the constant folding optimization, how can I seen it?","title":"Does the Java compiler do a constant folding optimization and how to check it?","body":"<p>The question have been answered:\n<a href=\"https://stackoverflow.com/questions/2012528/is-there-any-concept-called-constant-folding-in-java\">is there any concept called &quot;Constant Folding&quot; in java?</a>, but the page in this answered I can't find:\n<a href=\"https://www.javaworld.com/jw-03-2000/jw-03-javaperf_4.html\" rel=\"nofollow noreferrer\">https://www.javaworld.com/jw-03-2000/jw-03-javaperf_4.html</a></p>\n<p>so this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A\n{\n    public static void main()\n    {\n        int x=123;int y=234;int z=345;\n        int a=x+y+z;\n    }\n}\n</code></pre>\n<p>I use javap -c to check the assemble code, it not does not do the constant folding optimization:</p>\n<pre class=\"lang-none prettyprint-override\"><code> public static void main();\n   Code:\n      0: bipush        123\n      2: istore_0\n      3: sipush        234\n      6: istore_1\n      7: sipush        345\n     10: istore_2\n     11: iload_0\n     12: iload_1\n     13: iadd\n     14: iload_2\n     15: iadd\n     16: istore_3\n     17: return\n</code></pre>\n<p>It seems javac does not have optimization options like GCC's O2, so if the java compiler does the constant folding optimization, how can I seen it?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1696839818,"post_id":77257236,"comment_id":136199416,"body_markdown":"You can&#39;t determine the `&lt;T&gt;` value when *returning*. You determine it when *calling* the method. If you want to allow the method to return any `Test&lt;T&gt;`, you have to declare the return type as `Test&lt;?&gt;`.","body":"You can&#39;t determine the <code>&lt;T&gt;</code> value when <i>returning</i>. You determine it when <i>calling</i> the method. If you want to allow the method to return any <code>Test&lt;T&gt;</code>, you have to declare the return type as <code>Test&lt;?&gt;</code>."},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1696840043,"post_id":77257236,"comment_id":136199464,"body_markdown":"@Jorn I did it earlier, but how can I use it?  I need to cast it when I will use this method, but I want to use a generic method without casting types.","body":"@Jorn I did it earlier, but how can I use it?  I need to cast it when I will use this method, but I want to use a generic method without casting types."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1696840650,"post_id":77257236,"comment_id":136199569,"body_markdown":"@John That will depend on what the method is actually supposed to do and how you are trying to use it.","body":"@John That will depend on what the method is actually supposed to do and how you are trying to use it."}],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696841411,"creation_date":1696840941,"answer_id":77257363,"question_id":77257236,"body_markdown":"You are trying to return different types from a single method. Java is a statically typed language, this means that the type of a variable is checked at compile time. Therefore, you can&#39;t return different types from a single method. \r\n\r\nTo fix your code, you can use wildcard `?` to represent an unknown type if you accept to relax type constraints a bit. Below is an example:\r\n\r\n\r\n    public Test&lt;?&gt; getRecord(int type) {\r\n        switch(type) {\r\n            case 1:\r\n                return new Test&lt;String&gt;(&quot;my string&quot;);\r\n            default:\r\n                return new Test&lt;Integer&gt;(5);\r\n        }\r\n    }\r\n\r\n    // ...\r\n\r\n\r\n    Test&lt;?&gt; record1 = myClass.getRecord(1);\r\n\r\n    // Test type of record1 and cast it to Test&lt;String&gt; variable\r\n    if (record1.value() instanceof String) {\r\n         Test&lt;String&gt; tt = (Test&lt;String&gt;) record1;\r\n         // ...\r\n    }\r\n\r\nThis way you still maintain some level of typesafety.\r\n","title":"How can I write a generic method?","body":"<p>You are trying to return different types from a single method. Java is a statically typed language, this means that the type of a variable is checked at compile time. Therefore, you can't return different types from a single method.</p>\n<p>To fix your code, you can use wildcard <code>?</code> to represent an unknown type if you accept to relax type constraints a bit. Below is an example:</p>\n<pre><code>public Test&lt;?&gt; getRecord(int type) {\n    switch(type) {\n        case 1:\n            return new Test&lt;String&gt;(&quot;my string&quot;);\n        default:\n            return new Test&lt;Integer&gt;(5);\n    }\n}\n\n// ...\n\n\nTest&lt;?&gt; record1 = myClass.getRecord(1);\n\n// Test type of record1 and cast it to Test&lt;String&gt; variable\nif (record1.value() instanceof String) {\n     Test&lt;String&gt; tt = (Test&lt;String&gt;) record1;\n     // ...\n}\n</code></pre>\n<p>This way you still maintain some level of typesafety.</p>\n"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1697221032,"accepted_answer_id":77257363,"answer_count":1,"score":-1,"last_activity_date":1696841411,"creation_date":1696839703,"question_id":77257236,"body_markdown":"I need to write a generic method in the non-generic class. My code looks like the following:\r\n```\r\npublic record Test&lt;T&gt;(T value);\r\n\r\npublic class MyClass {\r\n    public &lt;T&gt; Test&lt;T&gt; getRecord() {\r\n        // some method logic\r\n        ...\r\n        switch(type) {\r\n            case 1: \r\n               return new Test&lt;String&gt;(&quot;my string&quot;); // not compile\r\n            ...\r\n            default:\r\n               return new Test&lt;Integer&gt;(5);          //not compile\r\n        }\r\n    }\r\n}\r\n```\r\nThe Intellij Idea suggests that I cast it, like this `(Test&lt;T&gt;) new Test&lt;Integer&gt;(5)`, but it is not suitable for me.\r\nCan anyone help to fix that issue?","title":"How can I write a generic method?","body":"<p>I need to write a generic method in the non-generic class. My code looks like the following:</p>\n<pre><code>public record Test&lt;T&gt;(T value);\n\npublic class MyClass {\n    public &lt;T&gt; Test&lt;T&gt; getRecord() {\n        // some method logic\n        ...\n        switch(type) {\n            case 1: \n               return new Test&lt;String&gt;(&quot;my string&quot;); // not compile\n            ...\n            default:\n               return new Test&lt;Integer&gt;(5);          //not compile\n        }\n    }\n}\n</code></pre>\n<p>The Intellij Idea suggests that I cast it, like this <code>(Test&lt;T&gt;) new Test&lt;Integer&gt;(5)</code>, but it is not suitable for me.\nCan anyone help to fix that issue?</p>\n"},{"tags":["java","pom.xml"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696846500,"post_id":77257400,"comment_id":136200646,"body_markdown":"Try using your IDE&#39;s debugger to find out what this code is actually doing","body":"Try using your IDE&#39;s debugger to find out what this code is actually doing"}],"owner":{"account_id":29630676,"reputation":9,"user_id":22709179,"display_name":"Kashish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1696841379,"creation_date":1696841284,"question_id":77257400,"body_markdown":"I am passing blank value in name field but it doesn&#39;t show error.\r\nIt simply run and stores the value in database.\r\nBut i want when i pass blank in name field then it prints error message in consle before saving entity to database\r\nthere is my code. i tried by changing the position of binding result and changing dependency.\r\n\r\nController code\r\n\r\n\r\n```\r\n@PostMapping(&quot;/register&quot;)\r\npublic String register(@Valid @ModelAttribute User user, final BindingResult result,@RequestParam(value = &quot;agreed&quot;, defaultValue = &quot;false&quot;) boolean agreed, Model model,  HttpSession session) {\r\n\t\r\n\ttry {\r\n\t\t//here error should print\r\n\t\tSystem.out.println(result.hasErrors());\r\n\t\tif(result.hasErrors()) {\r\n\t\t\tSystem.out.println(result);\r\n\t\t}\r\n     \r\n\t\tif(agreed) {\r\n\t\t\tsession.setAttribute(&quot;message&quot;, new Message(&quot;registered successfully&quot;, &quot;alert-success&quot;));\r\n\t\t\tuser.setActive(&quot;true&quot;);\r\n\t\t\tuser.setRole(&quot;USER_ROLE&quot;);\r\n\t\t\tmodel.addAttribute(&quot;user&quot;, user);\r\n\t\t\tSystem.out.println(result.hasErrors());\r\n\t\t\t\tif(result.hasErrors()) {\r\n\t\t\t\t\tSystem.out.println(result);\r\n\t\t\t\t}\r\n\t         \r\n\t         this.userservice.saveUser(user);\r\n\t\t\treturn &quot;signup&quot;;\r\n\t\t}\r\n\t\tsession.setAttribute(&quot;message&quot;, new Message(&quot;agree terms and conditions&quot;, &quot;alert-danger&quot;));\r\n\t\tmodel.addAttribute(&quot;user&quot;, new User());\r\n\t\treturn &quot;signup&quot;;\r\n\t\t\r\n\t}catch (Exception e) {\r\n\t\tsession.setAttribute(&quot;message&quot;, new Message(&quot;error &quot;+e.toString(), &quot;alert-success&quot;));\r\n\t\treturn &quot;signup&quot;;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nuser file\r\n\r\n\r\n```\r\npackage com.smart.entities;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.Size;\r\n\r\nimport jakarta.persistence.CascadeType;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.OneToMany;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;myusers&quot;)\r\npublic class User {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int id;\r\n\t\r\n\t@NotBlank(message = &quot;it is mandatory&quot;)\r\n\t@Size(min = 3, max = 20, message = &quot;length of name must be betweeen 3 nd 20.&quot;)\r\n\tprivate String name;\r\n\t@Column(unique = true)\r\n\tprivate String email;\r\n\tprivate String password;\r\n\tprivate String about;\r\n\tprivate String role;\r\n\tprivate String active;\r\n\tprivate String image;\r\n\t\r\n\t@OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n\tprivate List&lt;Contact&gt; contacts = new ArrayList&lt;Contact&gt;();\r\n\t\r\n\tpublic User() {\r\n\t\tsuper();\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\r\n\tpublic User(int id, String name, String email, String password, String about, String role, String active,\r\n\t\t\tString image, List&lt;Contact&gt; contacts) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.email = email;\r\n\t\tthis.password = password;\r\n\t\tthis.about = about;\r\n\t\tthis.role = role;\r\n\t\tthis.active = active;\r\n\t\tthis.image = image;\r\n\t\tthis.contacts = contacts;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;User [id=&quot; + id + &quot;, name=&quot; + name + &quot;, email=&quot; + email + &quot;, password=&quot; + password + &quot;, about=&quot; + about\r\n\t\t\t\t+ &quot;, role=&quot; + role + &quot;, active=&quot; + active + &quot;, image=&quot; + image + &quot;, contacts=&quot; + contacts + &quot;]&quot;;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic String getAbout() {\r\n\t\treturn about;\r\n\t}\r\n\r\n\tpublic void setAbout(String about) {\r\n\t\tthis.about = about;\r\n\t}\r\n\r\n\tpublic String getRole() {\r\n\t\treturn role;\r\n\t}\r\n\r\n\tpublic void setRole(String role) {\r\n\t\tthis.role = role;\r\n\t}\r\n\r\n\tpublic String getActive() {\r\n\t\treturn active;\r\n\t}\r\n\r\n\tpublic void setActive(String active) {\r\n\t\tthis.active = active;\r\n\t}\r\n\r\n\tpublic String getImage() {\r\n\t\treturn image;\r\n\t}\r\n\r\n\tpublic void setImage(String image) {\r\n\t\tthis.image = image;\r\n\t}\r\n\r\n\tpublic List&lt;Contact&gt; getContacts() {\r\n\t\treturn contacts;\r\n\t}\r\n\r\n\tpublic void setContacts(List&lt;Contact&gt; contacts) {\r\n\t\tthis.contacts = contacts;\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n\r\n\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;SmartContactManager&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;SmartContactManager&lt;/name&gt;\r\n\t&lt;description&gt;contact project&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n","title":"passing blank value in name field but it doesn&#39;t show error by using Binding Result and Javaxvalidation api","body":"<p>I am passing blank value in name field but it doesn't show error.\nIt simply run and stores the value in database.\nBut i want when i pass blank in name field then it prints error message in consle before saving entity to database\nthere is my code. i tried by changing the position of binding result and changing dependency.</p>\n<p>Controller code</p>\n<pre><code>@PostMapping(&quot;/register&quot;)\npublic String register(@Valid @ModelAttribute User user, final BindingResult result,@RequestParam(value = &quot;agreed&quot;, defaultValue = &quot;false&quot;) boolean agreed, Model model,  HttpSession session) {\n    \n    try {\n        //here error should print\n        System.out.println(result.hasErrors());\n        if(result.hasErrors()) {\n            System.out.println(result);\n        }\n     \n        if(agreed) {\n            session.setAttribute(&quot;message&quot;, new Message(&quot;registered successfully&quot;, &quot;alert-success&quot;));\n            user.setActive(&quot;true&quot;);\n            user.setRole(&quot;USER_ROLE&quot;);\n            model.addAttribute(&quot;user&quot;, user);\n            System.out.println(result.hasErrors());\n                if(result.hasErrors()) {\n                    System.out.println(result);\n                }\n             \n             this.userservice.saveUser(user);\n            return &quot;signup&quot;;\n        }\n        session.setAttribute(&quot;message&quot;, new Message(&quot;agree terms and conditions&quot;, &quot;alert-danger&quot;));\n        model.addAttribute(&quot;user&quot;, new User());\n        return &quot;signup&quot;;\n        \n    }catch (Exception e) {\n        session.setAttribute(&quot;message&quot;, new Message(&quot;error &quot;+e.toString(), &quot;alert-success&quot;));\n        return &quot;signup&quot;;\n    }\n}\n</code></pre>\n<p>user file</p>\n<pre><code>package com.smart.entities;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.Size;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;myusers&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @NotBlank(message = &quot;it is mandatory&quot;)\n    @Size(min = 3, max = 20, message = &quot;length of name must be betweeen 3 nd 20.&quot;)\n    private String name;\n    @Column(unique = true)\n    private String email;\n    private String password;\n    private String about;\n    private String role;\n    private String active;\n    private String image;\n    \n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    private List&lt;Contact&gt; contacts = new ArrayList&lt;Contact&gt;();\n    \n    public User() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    public User(int id, String name, String email, String password, String about, String role, String active,\n            String image, List&lt;Contact&gt; contacts) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.email = email;\n        this.password = password;\n        this.about = about;\n        this.role = role;\n        this.active = active;\n        this.image = image;\n        this.contacts = contacts;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User [id=&quot; + id + &quot;, name=&quot; + name + &quot;, email=&quot; + email + &quot;, password=&quot; + password + &quot;, about=&quot; + about\n                + &quot;, role=&quot; + role + &quot;, active=&quot; + active + &quot;, image=&quot; + image + &quot;, contacts=&quot; + contacts + &quot;]&quot;;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getAbout() {\n        return about;\n    }\n\n    public void setAbout(String about) {\n        this.about = about;\n    }\n\n    public String getRole() {\n        return role;\n    }\n\n    public void setRole(String role) {\n        this.role = role;\n    }\n\n    public String getActive() {\n        return active;\n    }\n\n    public void setActive(String active) {\n        this.active = active;\n    }\n\n    public String getImage() {\n        return image;\n    }\n\n    public void setImage(String image) {\n        this.image = image;\n    }\n\n    public List&lt;Contact&gt; getContacts() {\n        return contacts;\n    }\n\n    public void setContacts(List&lt;Contact&gt; contacts) {\n        this.contacts = contacts;\n    }\n    \n    \n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;SmartContactManager&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SmartContactManager&lt;/name&gt;\n    &lt;description&gt;contact project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","maven","junit5"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1696838385,"post_id":77257097,"comment_id":136199209,"body_markdown":"Please show your full pom file... and there seemed to be things which are not correct because here: https://blog.soebes.io/posts/2023/06/2023-06-24-how-to-use-jdk21-preview-features-incubator/ the setup works...","body":"Please show your full pom file... and there seemed to be things which are not correct because here: <a href=\"https://blog.soebes.io/posts/2023/06/2023-06-24-how-to-use-jdk21-preview-features-incubator/\" rel=\"nofollow noreferrer\">blog.soebes.io/posts/2023/06/&hellip;</a> the setup works..."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1696838402,"post_id":77257097,"comment_id":136199212,"body_markdown":"I just posted [an answer](https://stackoverflow.com/q/77256384/5133585) about this hours ago :)","body":"I just posted <a href=\"https://stackoverflow.com/q/77256384/5133585\">an answer</a> about this hours ago :)"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1696838619,"post_id":77257097,"comment_id":136199238,"body_markdown":"I would recheck the JEP&#39;s because it looks like the &quot;_&quot; pattern does not work (yet) for streams... For switch etc. it works.","body":"I would recheck the JEP&#39;s because it looks like the &quot;_&quot; pattern does not work (yet) for streams... For switch etc. it works."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1696840009,"post_id":77257097,"comment_id":136199453,"body_markdown":"@Sweeper I was just going to pass the same link.","body":"@Sweeper I was just going to pass the same link."},{"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"score":0,"creation_date":1696841257,"post_id":77257097,"comment_id":136199671,"body_markdown":"try removing space after underscore(_)","body":"try removing space after underscore(_)"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1696841611,"post_id":77257097,"comment_id":136199745,"body_markdown":"@khmarbaise The stream isn&#39;t the important part. The important part is the lambda expression, and [JEP 443: Unnamed Patterns and Variables (Preview)](https://openjdk.org/jeps/443) claims that &quot;_an unnamed variable (denoted by an underscore)_&quot; can be used as a &quot;_formal parameter of a lambda expression (JLS 15.27.1)_&quot;. Though from Sweeper&#39;s link, perhaps there&#39;s a bug involved.","body":"@khmarbaise The stream isn&#39;t the important part. The important part is the lambda expression, and <a href=\"https://openjdk.org/jeps/443\" rel=\"nofollow noreferrer\">JEP 443: Unnamed Patterns and Variables (Preview)</a> claims that &quot;<i>an unnamed variable (denoted by an underscore)</i>&quot; can be used as a &quot;<i>formal parameter of a lambda expression (JLS 15.27.1)</i>&quot;. Though from Sweeper&#39;s link, perhaps there&#39;s a bug involved."},{"owner":{"account_id":4624909,"reputation":457,"user_id":3749000,"accept_rate":44,"display_name":"lecogiteur"},"score":0,"creation_date":1696843855,"post_id":77257097,"comment_id":136200188,"body_markdown":"I remove the space after _ but it doesn&#39;t work. The answer of Sweeper works. I must deactivate generating debug info. I try your code khmarbaise, it runs. But if I add my test in your project I have the same error. So if I understand I must wait the bug fix https://bugs.openjdk.org/browse/JDK-8313323 ?","body":"I remove the space after _ but it doesn&#39;t work. The answer of Sweeper works. I must deactivate generating debug info. I try your code khmarbaise, it runs. But if I add my test in your project I have the same error. So if I understand I must wait the bug fix <a href=\"https://bugs.openjdk.org/browse/JDK-8313323\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8313323</a> ?"}],"owner":{"account_id":4624909,"reputation":457,"user_id":3749000,"accept_rate":44,"display_name":"lecogiteur"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1696841140,"creation_date":1696838073,"question_id":77257097,"body_markdown":"I try to run a simple test in JUnit 5 which contains anonymous variable `_`.\r\n\r\nI can compile with no problem, but I can&#39;t execute the test. I have this error:\r\n\r\n```none\r\n[ERROR] Please refer to /home/target/surefire-reports for the individual test results.\r\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\r\n[ERROR] There was an error in the forked process\r\n[ERROR] Illegal field name &quot;&quot; in class com/model/ConfTest\r\n[ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\r\n[ERROR] Illegal field name &quot;&quot; in com/model/ConfTest\r\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:628)\r\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:285)\r\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:250)\r\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1203)\r\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1055)\r\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:871)\r\n[ERROR]         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:370)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:351)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:215)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:171)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:163)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:294)\r\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n[ERROR]         at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n[ERROR]         at org.apache.maven.cli.MavenCli.execute(MavenCli.java:960)\r\n[ERROR]         at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:293)\r\n[ERROR]         at org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\r\n[ERROR]         at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n[ERROR]         at java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n```\r\n\r\nHere the Maven configuration\r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;release&gt;21&lt;/release&gt;\r\n          &lt;compilerArgs&gt;&lt;arg&gt;--enable-preview&lt;/arg&gt;&lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n```\r\n\r\nexample of code:\r\n\r\n```java\r\n@Test\r\nvoid test_with_(){\r\n    val l = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n    val l2 = l.stream().map(_ -&gt; &quot;not work&quot;);\r\n}\r\n```\r\n\r\nIf I replace `_` by a variable name like `aVariable`, I can execute test with success.\r\n\r\nAny idea on how to use preview syntax of Java 21 in test?\r\n\r\n[EDIT]\r\n\r\nThe entire pom file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;example&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;properties&gt;\r\n    &lt;vavr.version&gt;0.10.4&lt;/vavr.version&gt;\r\n    &lt;vertx-core.version&gt;4.4.5&lt;/vertx-core.version&gt;\r\n    &lt;commons-lang3.version&gt;3.12.0&lt;/commons-lang3.version&gt;\r\n    &lt;commons-validator.version&gt;1.7&lt;/commons-validator.version&gt;\r\n    &lt;java.version&gt;21&lt;/java.version&gt;\r\n    &lt;maven-compiler-plugin.version&gt;3.11.0&lt;/maven-compiler-plugin.version&gt;\r\n    &lt;lombok.version&gt;1.18.30&lt;/lombok.version&gt;\r\n    &lt;assertj-vavr.version&gt;0.4.3&lt;/assertj-vavr.version&gt;\r\n    &lt;awaitility.version&gt;4.2.0&lt;/awaitility.version&gt;\r\n    &lt;mockito-junit-jupiter.version&gt;5.3.1&lt;/mockito-junit-jupiter.version&gt;\r\n    &lt;junit-jupiter.version&gt;5.10.0&lt;/junit-jupiter.version&gt;\r\n    &lt;maven-surefire-plugin.version&gt;3.1.2&lt;/maven-surefire-plugin.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;io.vavr&lt;/groupId&gt;\r\n        &lt;artifactId&gt;vavr&lt;/artifactId&gt;\r\n        &lt;version&gt;${vavr.version}&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;vertx-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${vertx-core.version}&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-validator&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\r\n        &lt;version&gt;${commons-validator.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;!-- VULNERABILITY --&gt;\r\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;!-- TEST --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n        &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;assertj-vavr&lt;/artifactId&gt;\r\n        &lt;version&gt;${assertj-vavr.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n        &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n        &lt;version&gt;${awaitility.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n        &lt;version&gt;${mockito-junit-jupiter.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;!-- TEST --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n      &lt;artifactId&gt;assertj-vavr&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n      &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;release&gt;${java.version}&lt;/release&gt;\r\n          &lt;compilerArgs&gt;&lt;arg&gt;--enable-preview&lt;/arg&gt;&lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n","title":"Can&#39;t run test JUnit 5 with Java 21 preview syntax with Maven and IntelliJ IDEA","body":"<p>I try to run a simple test in JUnit 5 which contains anonymous variable <code>_</code>.</p>\n<p>I can compile with no problem, but I can't execute the test. I have this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[ERROR] Please refer to /home/target/surefire-reports for the individual test results.\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\n[ERROR] There was an error in the forked process\n[ERROR] Illegal field name &quot;&quot; in class com/model/ConfTest\n[ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\n[ERROR] Illegal field name &quot;&quot; in com/model/ConfTest\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:628)\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:285)\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:250)\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1203)\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1055)\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:871)\n[ERROR]         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:370)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:351)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:215)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:171)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:163)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n[ERROR]         at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:294)\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n[ERROR]         at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n[ERROR]         at org.apache.maven.cli.MavenCli.execute(MavenCli.java:960)\n[ERROR]         at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:293)\n[ERROR]         at org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\n[ERROR]         at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n[ERROR]         at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n</code></pre>\n<p>Here the Maven configuration</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;release&gt;21&lt;/release&gt;\n          &lt;compilerArgs&gt;&lt;arg&gt;--enable-preview&lt;/arg&gt;&lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>example of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid test_with_(){\n    val l = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\n    val l2 = l.stream().map(_ -&gt; &quot;not work&quot;);\n}\n</code></pre>\n<p>If I replace <code>_</code> by a variable name like <code>aVariable</code>, I can execute test with success.</p>\n<p>Any idea on how to use preview syntax of Java 21 in test?</p>\n<p>[EDIT]</p>\n<p>The entire pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;example&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n  &lt;properties&gt;\n    &lt;vavr.version&gt;0.10.4&lt;/vavr.version&gt;\n    &lt;vertx-core.version&gt;4.4.5&lt;/vertx-core.version&gt;\n    &lt;commons-lang3.version&gt;3.12.0&lt;/commons-lang3.version&gt;\n    &lt;commons-validator.version&gt;1.7&lt;/commons-validator.version&gt;\n    &lt;java.version&gt;21&lt;/java.version&gt;\n    &lt;maven-compiler-plugin.version&gt;3.11.0&lt;/maven-compiler-plugin.version&gt;\n    &lt;lombok.version&gt;1.18.30&lt;/lombok.version&gt;\n    &lt;assertj-vavr.version&gt;0.4.3&lt;/assertj-vavr.version&gt;\n    &lt;awaitility.version&gt;4.2.0&lt;/awaitility.version&gt;\n    &lt;mockito-junit-jupiter.version&gt;5.3.1&lt;/mockito-junit-jupiter.version&gt;\n    &lt;junit-jupiter.version&gt;5.10.0&lt;/junit-jupiter.version&gt;\n    &lt;maven-surefire-plugin.version&gt;3.1.2&lt;/maven-surefire-plugin.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.vavr&lt;/groupId&gt;\n        &lt;artifactId&gt;vavr&lt;/artifactId&gt;\n        &lt;version&gt;${vavr.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n        &lt;artifactId&gt;vertx-core&lt;/artifactId&gt;\n        &lt;version&gt;${vertx-core.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n        &lt;version&gt;${commons-validator.version}&lt;/version&gt;\n        &lt;exclusions&gt;\n          &lt;exclusion&gt;\n            &lt;!-- VULNERABILITY --&gt;\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n      &lt;/dependency&gt;\n\n      &lt;!-- TEST --&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n        &lt;artifactId&gt;assertj-vavr&lt;/artifactId&gt;\n        &lt;version&gt;${assertj-vavr.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n        &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n        &lt;version&gt;${awaitility.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;${mockito-junit-jupiter.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- TEST --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n      &lt;artifactId&gt;assertj-vavr&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n      &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n      &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;release&gt;${java.version}&lt;/release&gt;\n          &lt;compilerArgs&gt;&lt;arg&gt;--enable-preview&lt;/arg&gt;&lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","anonymous-class","anonymous-inner-class"],"comments":[{"owner":{"account_id":30276,"reputation":58105,"user_id":82474,"accept_rate":81,"display_name":"Eric Wilson"},"score":68,"creation_date":1348228387,"post_id":355167,"comment_id":16869353,"body_markdown":"It&#39;s not so much an advantage of Java as it is a way to work around the lack of closures in Java.","body":"It&#39;s not so much an advantage of Java as it is a way to work around the lack of closures in Java."},{"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":5,"creation_date":1479373535,"post_id":355167,"comment_id":68532508,"body_markdown":"Java 8 has introduced Lambda expressions as well. Check answer: https://stackoverflow.com/questions/355167/how-are-anonymous-inner-classes-used-in-java/40650596#40650596","body":"Java 8 has introduced Lambda expressions as well. Check answer: <a href=\"https://stackoverflow.com/questions/355167/how-are-anonymous-inner-classes-used-in-java/40650596#40650596\" title=\"how are anonymous inner classes used in java\">stackoverflow.com/questions/355167/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1228888204,"creation_date":1228888204,"answer_id":355175,"question_id":355167,"body_markdown":"You use it in situations where you need to create a class for a specific purpose inside another function, e.g., as a listener, as a runnable (to spawn a thread), etc.\r\n\r\nThe idea is that you call them from inside the code of a function so you never refer to them elsewhere, so you don&#39;t need to name them. The compiler just enumerates them.\r\n\r\nThey are essentially syntactic sugar, and should generally be moved elsewhere as they grow bigger.\r\n\r\nI&#39;m not sure if it is one of the advantages of Java, though if you do use them (and we all frequently use them, unfortunately), then you could argue that they are one.\r\n","title":"How are anonymous inner classes used in Java?","body":"<p>You use it in situations where you need to create a class for a specific purpose inside another function, e.g., as a listener, as a runnable (to spawn a thread), etc.</p>\n\n<p>The idea is that you call them from inside the code of a function so you never refer to them elsewhere, so you don't need to name them. The compiler just enumerates them.</p>\n\n<p>They are essentially syntactic sugar, and should generally be moved elsewhere as they grow bigger.</p>\n\n<p>I'm not sure if it is one of the advantages of Java, though if you do use them (and we all frequently use them, unfortunately), then you could argue that they are one.</p>\n"},{"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":5,"creation_date":1229274824,"post_id":355177,"comment_id":196132,"body_markdown":"Or you could refactor duplicate anonymous inner classes into one method with the anonymous inner class (and possibly some other duplicated code).","body":"Or you could refactor duplicate anonymous inner classes into one method with the anonymous inner class (and possibly some other duplicated code)."},{"owner":{"account_id":455032,"reputation":2720,"user_id":853001,"display_name":"realPK"},"score":3,"creation_date":1393187835,"post_id":355177,"comment_id":33297392,"body_markdown":"Great answer but a quick question. Does it mean Java can live without anonymous inner classes and they are like extra option to pick from?","body":"Great answer but a quick question. Does it mean Java can live without anonymous inner classes and they are like extra option to pick from?"},{"owner":{"account_id":2520097,"reputation":1974,"user_id":2190639,"accept_rate":72,"display_name":"Pievis"},"score":5,"creation_date":1395952018,"post_id":355177,"comment_id":34584935,"body_markdown":"Very well explained, even tough I would suggest anyone reading this to look up and see what java 8 and lambda expressions can do to make coding quicker and more readable.","body":"Very well explained, even tough I would suggest anyone reading this to look up and see what java 8 and lambda expressions can do to make coding quicker and more readable."},{"owner":{"account_id":1479742,"reputation":14305,"user_id":1389394,"accept_rate":58,"display_name":"bonCodigo"},"score":2,"creation_date":1399333156,"post_id":355177,"comment_id":36008735,"body_markdown":"@user2190639 Precisely, can&#39;t ask for better with [Lambda in Java8](http://www.javaworld.com/article/2147016/java-language/do-more-with-less-lambda-expressions-in-java-8.html)","body":"@user2190639 Precisely, can&#39;t ask for better with <a href=\"http://www.javaworld.com/article/2147016/java-language/do-more-with-less-lambda-expressions-in-java-8.html\" rel=\"nofollow noreferrer\">Lambda in Java8</a>"},{"owner":{"account_id":505416,"reputation":101,"user_id":955912,"display_name":"Tim"},"score":1,"creation_date":1413790090,"post_id":355177,"comment_id":41560232,"body_markdown":"Just to be a pedant, it seems as though &quot;anonymous class&quot; is actually the [correct](http://docs.oracle.com/javase/tutorial/java/javaOO/innerclasses.html) [term](http://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html).  (This may have changed in the years since this answer was posted.)","body":"Just to be a pedant, it seems as though &quot;anonymous class&quot; is actually the <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/innerclasses.html\" rel=\"nofollow noreferrer\">correct</a> <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"nofollow noreferrer\">term</a>.  (This may have changed in the years since this answer was posted.)"},{"owner":{"account_id":28866,"reputation":473,"user_id":77462,"accept_rate":38,"display_name":"LegendLength"},"score":0,"creation_date":1452135381,"post_id":355177,"comment_id":57038927,"body_markdown":"@PK Yes I believe you could just subclass ActionListener and do it that way to avoid inner classes.","body":"@PK Yes I believe you could just subclass ActionListener and do it that way to avoid inner classes."},{"owner":{"account_id":100473,"reputation":3456,"user_id":270835,"accept_rate":80,"display_name":"Tarun"},"score":3,"creation_date":1473857295,"post_id":355177,"comment_id":66299206,"body_markdown":"why did you say `overloading methods` and not `overriding methods`?","body":"why did you say <code>overloading methods</code> and not <code>overriding methods</code>?"},{"owner":{"account_id":1573946,"reputation":1998,"user_id":1460957,"accept_rate":67,"display_name":"ALZ"},"score":0,"creation_date":1521302369,"post_id":355177,"comment_id":85677916,"body_markdown":"@coobird, so you really meant to `overload` or to `override` the method?","body":"@coobird, so you really meant to <code>overload</code> or to <code>override</code> the method?"}],"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"comment_count":8,"down_vote_count":3,"up_vote_count":380,"is_accepted":true,"score":377,"last_activity_date":1537879962,"creation_date":1228888257,"answer_id":355177,"question_id":355167,"body_markdown":"By an &quot;anonymous class&quot;, I take it you mean [anonymous inner class][1].\r\n\r\nAn anonymous inner class can come useful when making an instance of an object with certain &quot;extras&quot; such as overriding methods, without having to actually subclass a class.\r\n\r\nI tend to use it as a shortcut for attaching an event listener:\r\n\r\n    button.addActionListener(new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            // do something\r\n        }\r\n    });\r\n\r\nUsing this method makes coding a little bit quicker, as I don&#39;t need to make an extra class that implements `ActionListener` -- I can just instantiate an anonymous inner class without actually making a separate class.\r\n\r\nI only use this technique for &quot;quick and dirty&quot; tasks where making an entire class feels unnecessary. Having multiple anonymous inner classes that do exactly the same thing should be refactored to an actual class, be it an inner class or a separate class.\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/innerclasses.html","title":"How are anonymous inner classes used in Java?","body":"<p>By an \"anonymous class\", I take it you mean <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/innerclasses.html\" rel=\"noreferrer\">anonymous inner class</a>.</p>\n\n<p>An anonymous inner class can come useful when making an instance of an object with certain \"extras\" such as overriding methods, without having to actually subclass a class.</p>\n\n<p>I tend to use it as a shortcut for attaching an event listener:</p>\n\n<pre><code>button.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // do something\n    }\n});\n</code></pre>\n\n<p>Using this method makes coding a little bit quicker, as I don't need to make an extra class that implements <code>ActionListener</code> -- I can just instantiate an anonymous inner class without actually making a separate class.</p>\n\n<p>I only use this technique for \"quick and dirty\" tasks where making an entire class feels unnecessary. Having multiple anonymous inner classes that do exactly the same thing should be refactored to an actual class, be it an inner class or a separate class.</p>\n"},{"comments":[{"owner":{"account_id":3702133,"reputation":2669,"user_id":3081519,"accept_rate":53,"display_name":"user3081519"},"score":1,"creation_date":1392171409,"post_id":355180,"comment_id":32840312,"body_markdown":"Did you mean to say terse? If it would be verbose, the callback would stay separately, making it a bit bigger, and thus making it verbose. If you say that this is still verbose, what would be a terse form then?","body":"Did you mean to say terse? If it would be verbose, the callback would stay separately, making it a bit bigger, and thus making it verbose. If you say that this is still verbose, what would be a terse form then?"},{"owner":{"account_id":481212,"reputation":6556,"user_id":894885,"accept_rate":88,"display_name":"Samuel Edwin Ward"},"score":1,"creation_date":1432161726,"post_id":355180,"comment_id":48814751,"body_markdown":"@user3081519, something like `myButton.addActionListener(e -&gt; { /* do stuff here */})` or `myButton.addActionListener(stuff)` would be terser.","body":"@user3081519, something like <code>myButton.addActionListener(e -&gt; { &#47;* do stuff here *&#47;})</code> or <code>myButton.addActionListener(stuff)</code> would be terser."}],"tags":[],"owner":{"account_id":8018,"reputation":47890,"user_id":14160,"accept_rate":75,"display_name":"madlep"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1228888273,"creation_date":1228888273,"answer_id":355180,"question_id":355167,"body_markdown":"They&#39;re commonly used as a verbose form of callback.\r\n\r\nI suppose you could say they&#39;re an advantage compared to not having them, and having to create a named class every time, but similar concepts are implemented much better in other languages (as closures or blocks)\r\n\r\nHere&#39;s a swing example\r\n\r\n    myButton.addActionListener(new ActionListener(){\r\n        public void actionPerformed(ActionEvent e) {\r\n            // do stuff here...\r\n        }\r\n    });\r\n\r\nAlthough it&#39;s still messily verbose, it&#39;s a lot better than forcing you to define a named class for every throw away listener like this (although depending on the situation and reuse, that may still be the better approach)","title":"How are anonymous inner classes used in Java?","body":"<p>They're commonly used as a verbose form of callback.</p>\n\n<p>I suppose you could say they're an advantage compared to not having them, and having to create a named class every time, but similar concepts are implemented much better in other languages (as closures or blocks)</p>\n\n<p>Here's a swing example</p>\n\n<pre><code>myButton.addActionListener(new ActionListener(){\n    public void actionPerformed(ActionEvent e) {\n        // do stuff here...\n    }\n});\n</code></pre>\n\n<p>Although it's still messily verbose, it's a lot better than forcing you to define a named class for every throw away listener like this (although depending on the situation and reuse, that may still be the better approach)</p>\n"},{"comments":[{"owner":{"account_id":1886487,"reputation":396597,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"score":1,"creation_date":1405080364,"post_id":355373,"comment_id":38297494,"body_markdown":"Having access to the surrounding class is very important! I think this is the reason in many cases where anonymous class is used, because it needs/uses the non-public attributes, methods and local variables of the surrounding class/method which outherwise (if a separate class would be used) would have to be passed or published.","body":"Having access to the surrounding class is very important! I think this is the reason in many cases where anonymous class is used, because it needs/uses the non-public attributes, methods and local variables of the surrounding class/method which outherwise (if a separate class would be used) would have to be passed or published."}],"tags":[],"owner":{"account_id":11216,"reputation":126,"user_id":21529,"display_name":"Lars A Fr&#248;yland"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1228895445,"creation_date":1228895445,"answer_id":355373,"question_id":355167,"body_markdown":"Yes, anonymous inner classes is definitely one of the advantages of Java.\r\n\r\nWith an anonymous inner class you have access to final and member variables of the surrounding class, and that comes in handy in listeners etc.\r\n\r\nBut a major advantage is that the inner class code, which is (at least should be) tightly coupled to the surrounding class/method/block, has a specific context (the surrounding class, method, and block).","title":"How are anonymous inner classes used in Java?","body":"<p>Yes, anonymous inner classes is definitely one of the advantages of Java.</p>\n\n<p>With an anonymous inner class you have access to final and member variables of the surrounding class, and that comes in handy in listeners etc.</p>\n\n<p>But a major advantage is that the inner class code, which is (at least should be) tightly coupled to the surrounding class/method/block, has a specific context (the surrounding class, method, and block).</p>\n"},{"comments":[{"owner":{"account_id":9396,"reputation":14580,"user_id":17335,"display_name":"Chii"},"score":20,"creation_date":1228898960,"post_id":355382,"comment_id":187194,"body_markdown":"unfortunately, the verbosity of doing functional programming in java, IMHO, outweights its gains - one of the striking points of functional programming is that it tends to reduce code size, and makes things easier to read and modify. But functional java doesnt seem to do that at all.","body":"unfortunately, the verbosity of doing functional programming in java, IMHO, outweights its gains - one of the striking points of functional programming is that it tends to reduce code size, and makes things easier to read and modify. But functional java doesnt seem to do that at all."},{"owner":{"account_id":16298,"reputation":10964,"user_id":35322,"display_name":"Adam Jaskiewicz"},"score":29,"creation_date":1228916247,"post_id":355382,"comment_id":187579,"body_markdown":"All the understandability of functional programming, with the terseness of Java!","body":"All the understandability of functional programming, with the terseness of Java!"},{"owner":{"account_id":2466,"reputation":34852,"user_id":3434,"accept_rate":90,"display_name":"Apocalisp"},"score":3,"creation_date":1228931191,"post_id":355382,"comment_id":188279,"body_markdown":"In my experience, functional style in Java is paid for with verbosity up front, but it yields brevity in the long run. For example, myList.map(f) is considerably less verbose than the corresponding for-loop.","body":"In my experience, functional style in Java is paid for with verbosity up front, but it yields brevity in the long run. For example, myList.map(f) is considerably less verbose than the corresponding for-loop."},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":2,"creation_date":1362419863,"post_id":355382,"comment_id":21432293,"body_markdown":"[Scala](http://www.scala-lang.org/), a functional programming style language, purportedly runs well inside the JVM and may be an option for functional-programming scenarios.","body":"<a href=\"http://www.scala-lang.org/\" rel=\"nofollow noreferrer\">Scala</a>, a functional programming style language, purportedly runs well inside the JVM and may be an option for functional-programming scenarios."}],"tags":[],"owner":{"account_id":2466,"reputation":34852,"user_id":3434,"accept_rate":90,"display_name":"Apocalisp"},"comment_count":4,"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1337792780,"creation_date":1228895685,"answer_id":355382,"question_id":355167,"body_markdown":"Anonymous inner classes are effectively closures, so they can be used to emulate lambda expressions or &quot;delegates&quot;. For example, take this interface:\r\n\r\n    public interface F&lt;A, B&gt; {\r\n       B f(A a);\r\n    }\r\n\r\nYou can use this anonymously to create a [first-class function][1] in Java. Let&#39;s say you have the following method that returns the first number larger than i in the given list, or i if no number is larger:\r\n\r\n    public static int larger(final List&lt;Integer&gt; ns, final int i) {\r\n      for (Integer n : ns)\r\n         if (n &gt; i)\r\n            return n;\r\n      return i;\r\n    }\r\n\r\nAnd then you have another method that returns the first number smaller than i in the given list, or i if no number is smaller:\r\n\r\n    public static int smaller(final List&lt;Integer&gt; ns, final int i) {\r\n       for (Integer n : ns)\r\n          if (n &lt; i)\r\n             return n;\r\n       return i;\r\n    }\r\n\r\nThese methods are almost identical. Using the first-class function type F, we can rewrite these into one method as follows:\r\n\r\n    public static &lt;T&gt; T firstMatch(final List&lt;T&gt; ts, final F&lt;T, Boolean&gt; f, T z) {\r\n       for (T t : ts)\r\n          if (f.f(t))\r\n             return t;\r\n       return z;\r\n    }\r\n\r\nYou can use an anonymous class to use the firstMatch method:\r\n\r\n    F&lt;Integer, Boolean&gt; greaterThanTen = new F&lt;Integer, Boolean&gt; {\r\n       Boolean f(final Integer n) {\r\n          return n &gt; 10;\r\n       }\r\n    };\r\n    int moreThanMyFingersCanCount = firstMatch(xs, greaterThanTen, x);\r\n\r\nThis is a really contrived example, but its easy to see that being able to pass functions around as if they were values is a pretty useful feature. See [&quot;Can Your Programming Language Do This&quot;][2] by Joel himself.\r\n\r\nA nice library for programming Java in this style: [Functional Java.][3]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/First-class_function\r\n  [2]: http://www.joelonsoftware.com/items/2006/08/01.html\r\n  [3]: http://functionaljava.org","title":"How are anonymous inner classes used in Java?","body":"<p>Anonymous inner classes are effectively closures, so they can be used to emulate lambda expressions or \"delegates\". For example, take this interface:</p>\n\n<pre><code>public interface F&lt;A, B&gt; {\n   B f(A a);\n}\n</code></pre>\n\n<p>You can use this anonymously to create a <a href=\"http://en.wikipedia.org/wiki/First-class_function\" rel=\"noreferrer\">first-class function</a> in Java. Let's say you have the following method that returns the first number larger than i in the given list, or i if no number is larger:</p>\n\n<pre><code>public static int larger(final List&lt;Integer&gt; ns, final int i) {\n  for (Integer n : ns)\n     if (n &gt; i)\n        return n;\n  return i;\n}\n</code></pre>\n\n<p>And then you have another method that returns the first number smaller than i in the given list, or i if no number is smaller:</p>\n\n<pre><code>public static int smaller(final List&lt;Integer&gt; ns, final int i) {\n   for (Integer n : ns)\n      if (n &lt; i)\n         return n;\n   return i;\n}\n</code></pre>\n\n<p>These methods are almost identical. Using the first-class function type F, we can rewrite these into one method as follows:</p>\n\n<pre><code>public static &lt;T&gt; T firstMatch(final List&lt;T&gt; ts, final F&lt;T, Boolean&gt; f, T z) {\n   for (T t : ts)\n      if (f.f(t))\n         return t;\n   return z;\n}\n</code></pre>\n\n<p>You can use an anonymous class to use the firstMatch method:</p>\n\n<pre><code>F&lt;Integer, Boolean&gt; greaterThanTen = new F&lt;Integer, Boolean&gt; {\n   Boolean f(final Integer n) {\n      return n &gt; 10;\n   }\n};\nint moreThanMyFingersCanCount = firstMatch(xs, greaterThanTen, x);\n</code></pre>\n\n<p>This is a really contrived example, but its easy to see that being able to pass functions around as if they were values is a pretty useful feature. See <a href=\"http://www.joelonsoftware.com/items/2006/08/01.html\" rel=\"noreferrer\">\"Can Your Programming Language Do This\"</a> by Joel himself.</p>\n\n<p>A nice library for programming Java in this style: <a href=\"http://functionaljava.org\" rel=\"noreferrer\">Functional Java.</a></p>\n"},{"comments":[{"owner":{"account_id":5334,"reputation":8391,"user_id":8528,"accept_rate":81,"display_name":"Spencer Kormos"},"score":58,"creation_date":1229051980,"post_id":360872,"comment_id":192226,"body_markdown":"To be clear, the first set of braces is the anonymous inner class (subclassing HashMap). The second set of braces is an instance initializer (rather than a static one) which then sets the values on your HashMap subclass. +1 for mentioning it, -1 for not spelling it out for the noobs. ;-D","body":"To be clear, the first set of braces is the anonymous inner class (subclassing HashMap). The second set of braces is an instance initializer (rather than a static one) which then sets the values on your HashMap subclass. +1 for mentioning it, -1 for not spelling it out for the noobs. ;-D"},{"owner":{"account_id":1322512,"reputation":18477,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"score":4,"creation_date":1361174643,"post_id":360872,"comment_id":20953279,"body_markdown":"Read more about the double-brace syntax [here](http://c2.com/cgi/wiki?DoubleBraceInitialization).","body":"Read more about the double-brace syntax <a href=\"http://c2.com/cgi/wiki?DoubleBraceInitialization\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":199983,"reputation":8331,"user_id":445600,"accept_rate":73,"display_name":"starcorn"},"score":2,"creation_date":1454365541,"post_id":360872,"comment_id":58003594,"body_markdown":"http://blog.jooq.org/2014/12/08/dont-be-clever-the-double-curly-braces-anti-pattern/","body":"<a href=\"http://blog.jooq.org/2014/12/08/dont-be-clever-the-double-curly-braces-anti-pattern/\" rel=\"nofollow noreferrer\">blog.jooq.org/2014/12/08/&hellip;</a>"}],"tags":[],"owner":{"account_id":4942,"reputation":15741,"user_id":7679,"accept_rate":100,"display_name":"Chase Seibert"},"comment_count":3,"down_vote_count":2,"up_vote_count":51,"is_accepted":false,"score":49,"last_activity_date":1439102024,"creation_date":1229029176,"answer_id":360872,"question_id":355167,"body_markdown":"I use them sometimes as a syntax hack for Map instantiation:\r\n\r\n    Map map = new HashMap() {{\r\n       put(&quot;key&quot;, &quot;value&quot;);\r\n    }};\r\n\r\nvs\r\n\r\n    Map map = new HashMap();\r\n    map.put(&quot;key&quot;, &quot;value&quot;);\r\n\r\nIt saves some redundancy when doing a lot of put statements. However, I have also run into problems doing this when the outer class needs to be serialized via remoting. ","title":"How are anonymous inner classes used in Java?","body":"<p>I use them sometimes as a syntax hack for Map instantiation:</p>\n\n<pre><code>Map map = new HashMap() {{\n   put(\"key\", \"value\");\n}};\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>Map map = new HashMap();\nmap.put(\"key\", \"value\");\n</code></pre>\n\n<p>It saves some redundancy when doing a lot of put statements. However, I have also run into problems doing this when the outer class needs to be serialized via remoting. </p>\n"},{"comments":[{"owner":{"account_id":1886487,"reputation":396597,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"score":0,"creation_date":1405079661,"post_id":10724855,"comment_id":38297098,"body_markdown":"Regarding #3: Not entirely true. You can acquire multiple instances of an anonymous class with reflection, e.g. `ref.getClass().newInstance()`.","body":"Regarding #3: Not entirely true. You can acquire multiple instances of an anonymous class with reflection, e.g. <code>ref.getClass().newInstance()</code>."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1439102061,"post_id":10724855,"comment_id":51717924,"body_markdown":"Rules don&#39;t answer the question.","body":"Rules don&#39;t answer the question."}],"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1337793605,"creation_date":1337793605,"answer_id":10724855,"question_id":355167,"body_markdown":"GuideLines for Anonymous Class.\r\n\r\n1. Anonymous class is declared and initialized simultaneously.\r\n\r\n2. Anonymous class must extend or implement to one and only one class or interface resp.\r\n\r\n3. As anonymouse class has no name, it can be used only once.\r\n\r\n\r\neg:  \r\n\r\n    button.addActionListener(new ActionListener(){\r\n\r\n                public void actionPerformed(ActionEvent arg0) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\r\n\t\t}\r\n\t});","title":"How are anonymous inner classes used in Java?","body":"<p>GuideLines for Anonymous Class.</p>\n\n<ol>\n<li><p>Anonymous class is declared and initialized simultaneously.</p></li>\n<li><p>Anonymous class must extend or implement to one and only one class or interface resp.</p></li>\n<li><p>As anonymouse class has no name, it can be used only once.</p></li>\n</ol>\n\n<p>eg:  </p>\n\n<pre><code>button.addActionListener(new ActionListener(){\n\n            public void actionPerformed(ActionEvent arg0) {\n        // TODO Auto-generated method stub\n\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":261743,"reputation":780,"user_id":546130,"accept_rate":25,"display_name":"Hazhir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1356692410,"creation_date":1356691098,"answer_id":14068232,"question_id":355167,"body_markdown":"One of the major usage of anonymous classes in class-finalization which called *finalizer guardian*. In Java world using the finalize methods should be avoided until you really need them. You have to remember, when you override the finalize method for sub-classes, you should always invoke `super.finalize()` as well, because the finalize method of super class won&#39;t invoke automatically and you can have trouble with memory leaks.\r\n\r\nso considering the fact mentioned above, you can just use the anonymous classes like:\r\n\r\n    public class HeavyClass{\r\n        private final Object finalizerGuardian = new Object() {\r\n            @Override\r\n            protected void finalize() throws Throwable{\r\n                //Finalize outer HeavyClass object\r\n            }\r\n        };\r\n    }\r\n\r\nUsing this technique you relieved yourself and your other developers to call `super.finalize()` on each sub-class of the `HeavyClass` which needs finalize method.","title":"How are anonymous inner classes used in Java?","body":"<p>One of the major usage of anonymous classes in class-finalization which called <em>finalizer guardian</em>. In Java world using the finalize methods should be avoided until you really need them. You have to remember, when you override the finalize method for sub-classes, you should always invoke <code>super.finalize()</code> as well, because the finalize method of super class won't invoke automatically and you can have trouble with memory leaks.</p>\n\n<p>so considering the fact mentioned above, you can just use the anonymous classes like:</p>\n\n<pre><code>public class HeavyClass{\n    private final Object finalizerGuardian = new Object() {\n        @Override\n        protected void finalize() throws Throwable{\n            //Finalize outer HeavyClass object\n        }\n    };\n}\n</code></pre>\n\n<p>Using this technique you relieved yourself and your other developers to call <code>super.finalize()</code> on each sub-class of the <code>HeavyClass</code> which needs finalize method.</p>\n"},{"tags":[],"owner":{"account_id":1235727,"reputation":2403,"user_id":1199342,"display_name":"raja"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1487624798,"creation_date":1363845551,"answer_id":15540478,"question_id":355167,"body_markdown":"\tnew Thread() {\r\n            public void run() {\r\n                try {\r\n                    Thread.sleep(300);\r\n                } catch (InterruptedException e) {\r\n                    System.out.println(&quot;Exception message: &quot; + e.getMessage());\r\n                    System.out.println(&quot;Exception cause: &quot; + e.getCause());\r\n                }\r\n            }\r\n        }.start();\r\n\r\n\r\nThis is also one of the example for anonymous inner type using thread","title":"How are anonymous inner classes used in Java?","body":"<pre><code>new Thread() {\n        public void run() {\n            try {\n                Thread.sleep(300);\n            } catch (InterruptedException e) {\n                System.out.println(\"Exception message: \" + e.getMessage());\n                System.out.println(\"Exception cause: \" + e.getCause());\n            }\n        }\n    }.start();\n</code></pre>\n\n<p>This is also one of the example for anonymous inner type using thread</p>\n"},{"tags":[],"owner":{"account_id":3380035,"reputation":181,"user_id":2837260,"accept_rate":43,"display_name":"user2837260"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1472681376,"creation_date":1381382247,"answer_id":19287625,"question_id":355167,"body_markdown":"i use anonymous objects  for calling new Threads..\r\n\r\n    new Thread(new Runnable() {\r\n        public void run() {\r\n            // you code\r\n        }\r\n    }).start();","title":"How are anonymous inner classes used in Java?","body":"<p>i use anonymous objects  for calling new Threads..</p>\n\n<pre><code>new Thread(new Runnable() {\n    public void run() {\n        // you code\n    }\n}).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2171736,"reputation":4684,"user_id":1923551,"display_name":"user1923551"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1387263546,"creation_date":1387263546,"answer_id":20627859,"question_id":355167,"body_markdown":"Anonymous inner class can be beneficial while giving different implementations for different objects. But should be used very sparingly as it creates problem for program readability.\r\n","title":"How are anonymous inner classes used in Java?","body":"<p>Anonymous inner class can be beneficial while giving different implementations for different objects. But should be used very sparingly as it creates problem for program readability.</p>\n"},{"comments":[{"owner":{"account_id":993505,"reputation":1090,"user_id":1010076,"accept_rate":94,"display_name":"xdl"},"score":10,"creation_date":1398384701,"post_id":22286426,"comment_id":35636101,"body_markdown":"Great answer, looks like 3.) is the pattern used for event listeners","body":"Great answer, looks like 3.) is the pattern used for event listeners"},{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":0,"creation_date":1597039875,"post_id":22286426,"comment_id":111993350,"body_markdown":"Good explanation.","body":"Good explanation."}],"tags":[],"owner":{"account_id":3313640,"reputation":611,"user_id":2786474,"display_name":"Sandeep Kumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1624415444,"creation_date":1394390548,"answer_id":22286426,"question_id":355167,"body_markdown":"Anonymous inner class is used in following scenario:\r\n\r\n1.) For Overriding(subclassing), when class definition is not usable except current case:\r\n\r\n    class A{\r\n        public void methodA() {\r\n            System.out.println(&quot;methodA&quot;);\r\n        }\r\n    }\r\n    \r\n    class B{\r\n        A a = new A() {\r\n            public void methodA() {\r\n                System.out.println(&quot;anonymous methodA&quot;);\r\n            }\r\n        };\r\n    }\r\n\r\n2.) For implementing an interface, when implementation of interface is required only for current case:\r\n\r\n    interface InterfaceA{\r\n        public void methodA();\r\n    }\r\n    \r\n    class B{\r\n        InterfaceA a = new InterfaceA() {\r\n            public void methodA() {\r\n                System.out.println(&quot;anonymous methodA implementer&quot;);\r\n            }\r\n        };\r\n    }\r\n\r\n3.) Argument Defined Anonymous inner class:\r\n\r\n    interface Foo {\r\n        void methodFoo();\r\n    }\r\n    \r\n    class B{\r\n        void do(Foo f) { }\r\n    }\r\n    \r\n    class A{\r\n        void methodA() {\r\n            B b = new B();\r\n            b.do(new Foo() {\r\n                public void methodFoo() {\r\n                    System.out.println(&quot;methodFoo&quot;);\r\n                } \r\n            });\r\n        } \r\n    } \r\n","title":"How are anonymous inner classes used in Java?","body":"<p>Anonymous inner class is used in following scenario:</p>\n<p>1.) For Overriding(subclassing), when class definition is not usable except current case:</p>\n<pre><code>class A{\n    public void methodA() {\n        System.out.println(&quot;methodA&quot;);\n    }\n}\n\nclass B{\n    A a = new A() {\n        public void methodA() {\n            System.out.println(&quot;anonymous methodA&quot;);\n        }\n    };\n}\n</code></pre>\n<p>2.) For implementing an interface, when implementation of interface is required only for current case:</p>\n<pre><code>interface InterfaceA{\n    public void methodA();\n}\n\nclass B{\n    InterfaceA a = new InterfaceA() {\n        public void methodA() {\n            System.out.println(&quot;anonymous methodA implementer&quot;);\n        }\n    };\n}\n</code></pre>\n<p>3.) Argument Defined Anonymous inner class:</p>\n<pre><code>interface Foo {\n    void methodFoo();\n}\n\nclass B{\n    void do(Foo f) { }\n}\n\nclass A{\n    void methodA() {\n        B b = new B();\n        b.do(new Foo() {\n            public void methodFoo() {\n                System.out.println(&quot;methodFoo&quot;);\n            } \n        });\n    } \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2375051,"reputation":7605,"user_id":2078672,"accept_rate":20,"display_name":"Saurabh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435936810,"creation_date":1435929836,"answer_id":31207900,"question_id":355167,"body_markdown":"You can use anonymous class this way\r\n\r\n    TreeSet treeSetObj = new TreeSet(new Comparator()\r\n    {\r\n        public int compare(String i1,String i2)\r\n        {\r\n            return i2.compareTo(i1);\r\n        }\r\n    });","title":"How are anonymous inner classes used in Java?","body":"<p>You can use anonymous class this way</p>\n\n<pre><code>TreeSet treeSetObj = new TreeSet(new Comparator()\n{\n    public int compare(String i1,String i2)\n    {\n        return i2.compareTo(i1);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3915513,"reputation":10992,"user_id":3239417,"display_name":"vsminkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471464410,"creation_date":1471464410,"answer_id":39005385,"question_id":355167,"body_markdown":"Seems nobody mentioned here but you can also use anonymous class to hold generic type argument _(which normally lost due to type erasure)_:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public abstract class TypeHolder&lt;T&gt; {\r\n        private final Type type;\r\n\r\n        public TypeReference() {\r\n            // you may do do additional sanity checks here\r\n            final Type superClass = getClass().getGenericSuperclass();\r\n            this.type = ((ParameterizedType) superClass).getActualTypeArguments()[0];\r\n        }\r\n\r\n        public final Type getType() {\r\n            return this.type;\r\n        }\r\n    }\r\n\r\nIf you&#39;ll instantiate this class in anonymous way \r\n\r\n    TypeHolder&lt;List&lt;String&gt;, Map&lt;Ineger, Long&gt;&gt; holder = \r\n        new TypeHolder&lt;List&lt;String&gt;, Map&lt;Ineger, Long&gt;&gt;() {};\r\n\r\nthen such `holder` instance will contain non-erasured definition of passed type. \r\n\r\n### Usage\r\n\r\nThis is very handy for building validators/deserializators. Also you can instantiate generic type with reflection _(so if you ever wanted to do `new T()` in parametrized type - you are welcome!)_.\r\n\r\n### Drawbacks/Limitations\r\n\r\n1. You should pass generic parameter explicitly. Failing to do so will lead to type parameter loss\r\n2. Each instantiation will cost you additional class to be generated by compiler which leads to classpath pollution/jar bloating\r\n","title":"How are anonymous inner classes used in Java?","body":"<p>Seems nobody mentioned here but you can also use anonymous class to hold generic type argument <em>(which normally lost due to type erasure)</em>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class TypeHolder&lt;T&gt; {\n    private final Type type;\n\n    public TypeReference() {\n        // you may do do additional sanity checks here\n        final Type superClass = getClass().getGenericSuperclass();\n        this.type = ((ParameterizedType) superClass).getActualTypeArguments()[0];\n    }\n\n    public final Type getType() {\n        return this.type;\n    }\n}\n</code></pre>\n\n<p>If you'll instantiate this class in anonymous way </p>\n\n<pre><code>TypeHolder&lt;List&lt;String&gt;, Map&lt;Ineger, Long&gt;&gt; holder = \n    new TypeHolder&lt;List&lt;String&gt;, Map&lt;Ineger, Long&gt;&gt;() {};\n</code></pre>\n\n<p>then such <code>holder</code> instance will contain non-erasured definition of passed type. </p>\n\n<h3>Usage</h3>\n\n<p>This is very handy for building validators/deserializators. Also you can instantiate generic type with reflection <em>(so if you ever wanted to do <code>new T()</code> in parametrized type - you are welcome!)</em>.</p>\n\n<h3>Drawbacks/Limitations</h3>\n\n<ol>\n<li>You should pass generic parameter explicitly. Failing to do so will lead to type parameter loss</li>\n<li>Each instantiation will cost you additional class to be generated by compiler which leads to classpath pollution/jar bloating</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1479373470,"creation_date":1479373470,"answer_id":40650596,"question_id":355167,"body_markdown":"An [inner class][1] is associated with an instance of the outer class and there are two special kinds: Local class and [Anonymous class][2]. An anonymous class enables us to declare and instantiate a class at same time, hence makes the code concise. We use them when we need a local class only once as they don&#39;t have a name.\r\n\r\nConsider the example from [doc][3] where we have a `Person` class:\r\n\r\n    public class Person {\r\n    \r\n        public enum Sex {\r\n            MALE, FEMALE\r\n        }\r\n    \r\n        String name;\r\n        LocalDate birthday;\r\n        Sex gender;\r\n        String emailAddress;\r\n    \r\n        public int getAge() {\r\n            // ...\r\n        }\r\n    \r\n        public void printPerson() {\r\n            // ...\r\n        }\r\n    }\r\n\r\n and we have a method to print members that match search criteria as:\r\n\r\n    public static void printPersons(\r\n        List&lt;Person&gt; roster, CheckPerson tester) {\r\n        for (Person p : roster) {\r\n            if (tester.test(p)) {\r\n                p.printPerson();\r\n            }\r\n        }\r\n    }\r\n\r\nwhere `CheckPerson` is an interface like:\r\n\r\n    interface CheckPerson {\r\n        boolean test(Person p);\r\n    }\r\n\r\nNow we can make use of anonymous class which implements this interface to specify search criteria as:\r\n\r\n    printPersons(\r\n        roster,\r\n        new CheckPerson() {\r\n            public boolean test(Person p) {\r\n                return p.getGender() == Person.Sex.MALE\r\n                    &amp;&amp; p.getAge() &gt;= 18\r\n                    &amp;&amp; p.getAge() &lt;= 25;\r\n            }\r\n        }\r\n    );\r\n\r\nHere the interface is very simple and the syntax of anonymous class seems unwieldy and unclear.\r\n\r\n**Java 8** has introduced a term [Functional Interface][4] which is an interface with only one abstract method, hence we can say `CheckPerson` is a functional interface.  We can make use of [Lambda Expression][3] which allows us to pass the function as method argument as:\r\n\r\n    printPersons(\r\n                    roster,\r\n                    (Person p) -&gt; p.getGender() == Person.Sex.MALE\r\n                            &amp;&amp; p.getAge() &gt;= 18\r\n                            &amp;&amp; p.getAge() &lt;= 25\r\n            );\r\n\r\nWe can use a standard functional interface `Predicate` in place of the interface `CheckPerson`, which will further reduce the amount of code required.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/innerclasses.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/lang/FunctionalInterface.html","title":"How are anonymous inner classes used in Java?","body":"<p>An <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/innerclasses.html\" rel=\"nofollow noreferrer\">inner class</a> is associated with an instance of the outer class and there are two special kinds: Local class and <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"nofollow noreferrer\">Anonymous class</a>. An anonymous class enables us to declare and instantiate a class at same time, hence makes the code concise. We use them when we need a local class only once as they don't have a name.</p>\n\n<p>Consider the example from <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">doc</a> where we have a <code>Person</code> class:</p>\n\n<pre><code>public class Person {\n\n    public enum Sex {\n        MALE, FEMALE\n    }\n\n    String name;\n    LocalDate birthday;\n    Sex gender;\n    String emailAddress;\n\n    public int getAge() {\n        // ...\n    }\n\n    public void printPerson() {\n        // ...\n    }\n}\n</code></pre>\n\n<p>and we have a method to print members that match search criteria as:</p>\n\n<pre><code>public static void printPersons(\n    List&lt;Person&gt; roster, CheckPerson tester) {\n    for (Person p : roster) {\n        if (tester.test(p)) {\n            p.printPerson();\n        }\n    }\n}\n</code></pre>\n\n<p>where <code>CheckPerson</code> is an interface like:</p>\n\n<pre><code>interface CheckPerson {\n    boolean test(Person p);\n}\n</code></pre>\n\n<p>Now we can make use of anonymous class which implements this interface to specify search criteria as:</p>\n\n<pre><code>printPersons(\n    roster,\n    new CheckPerson() {\n        public boolean test(Person p) {\n            return p.getGender() == Person.Sex.MALE\n                &amp;&amp; p.getAge() &gt;= 18\n                &amp;&amp; p.getAge() &lt;= 25;\n        }\n    }\n);\n</code></pre>\n\n<p>Here the interface is very simple and the syntax of anonymous class seems unwieldy and unclear.</p>\n\n<p><strong>Java 8</strong> has introduced a term <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/FunctionalInterface.html\" rel=\"nofollow noreferrer\">Functional Interface</a> which is an interface with only one abstract method, hence we can say <code>CheckPerson</code> is a functional interface.  We can make use of <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">Lambda Expression</a> which allows us to pass the function as method argument as:</p>\n\n<pre><code>printPersons(\n                roster,\n                (Person p) -&gt; p.getGender() == Person.Sex.MALE\n                        &amp;&amp; p.getAge() &gt;= 18\n                        &amp;&amp; p.getAge() &lt;= 25\n        );\n</code></pre>\n\n<p>We can use a standard functional interface <code>Predicate</code> in place of the interface <code>CheckPerson</code>, which will further reduce the amount of code required.</p>\n"},{"tags":[],"owner":{"account_id":6022358,"reputation":423,"user_id":4729076,"accept_rate":80,"display_name":"Shivendra Pandey"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1502720280,"creation_date":1502720280,"answer_id":45676637,"question_id":355167,"body_markdown":"The best way to optimize code. also, We can use for an overriding method of a class or interface.  \r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n    abstract class AnonymousInner {\r\n    \tabstract void sum();\r\n    }\r\n    \r\n    class AnonymousInnerMain {\r\n    \tpublic static void main(String []k){\r\n    \t\tScanner sn = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter two vlaues&quot;);\r\n    \t\t\tint a= Integer.parseInt(sn.nextLine());\r\n    \t\t\tint b= Integer.parseInt(sn.nextLine());\t\r\n    \t\tAnonymousInner ac = new AnonymousInner(){\r\n    \t\t\tvoid sum(){\r\n    \t\t\t\tint c= a+b;\r\n    \t\t\t\tSystem.out.println(&quot;Sum of two number is: &quot;+c);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tac.sum();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"How are anonymous inner classes used in Java?","body":"<p>The best way to optimize code. also, We can use for an overriding method of a class or interface.  </p>\n\n<pre><code>import java.util.Scanner;\nabstract class AnonymousInner {\n    abstract void sum();\n}\n\nclass AnonymousInnerMain {\n    public static void main(String []k){\n        Scanner sn = new Scanner(System.in);\n        System.out.println(\"Enter two vlaues\");\n            int a= Integer.parseInt(sn.nextLine());\n            int b= Integer.parseInt(sn.nextLine()); \n        AnonymousInner ac = new AnonymousInner(){\n            void sum(){\n                int c= a+b;\n                System.out.println(\"Sum of two number is: \"+c);\n            }\n        };\n        ac.sum();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10550719,"reputation":41,"user_id":7773519,"display_name":"Avishka Ariyaratne"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521635047,"creation_date":1521635047,"answer_id":49406296,"question_id":355167,"body_markdown":"An **Anonymous Inner Class** is used to create an object that will never be referenced again. It has no name and is declared and created in the same statement.\r\nThis is used where you would normally use an object&#39;s variable. You replace the variable with the `new` keyword, a call to a constructor and the class definition inside `{` and `}`.\r\n\r\nWhen writing a Threaded Program in Java, it would usually look like this\r\n\r\n    ThreadClass task = new ThreadClass();\r\n    Thread runner = new Thread(task);\r\n    runner.start();\r\n\r\nThe `ThreadClass` used here would be user defined. This class will implement the `Runnable` interface which is required for creating threads. In the `ThreadClass` the `run()` method (only method in `Runnable`) needs to be implemented as well. \r\nIt is clear that getting rid of `ThreadClass` would be more efficient and that&#39;s exactly why Anonymous Inner Classes exist.\r\n\r\nLook at the following code \r\n\r\n\r\n    Thread runner = new Thread(new Runnable() {\r\n        public void run() {\r\n            //Thread does it&#39;s work here\r\n        }\r\n    });\r\n    runner.start();\r\n\r\nThis code replaces the reference made to `task` in the top most example. Rather than having a separate class, the Anonymous Inner Class inside the `Thread()` constructor returns an unnamed object that implements the `Runnable` interface and overrides the `run()` method. The method `run()` would include statements inside  that do the work required by the thread.\r\n\r\nAnswering the question on whether Anonymous Inner Classes is one of the advantages of Java, I would have to say that I&#39;m not quite sure as I am not familiar with many programming languages at the moment. But what I can say is it is definitely a quicker and easier method of coding.\r\n\r\n**References: Sams Teach Yourself Java in 21 Days Seventh Edition**","title":"How are anonymous inner classes used in Java?","body":"<p>An <strong>Anonymous Inner Class</strong> is used to create an object that will never be referenced again. It has no name and is declared and created in the same statement.\nThis is used where you would normally use an object's variable. You replace the variable with the <code>new</code> keyword, a call to a constructor and the class definition inside <code>{</code> and <code>}</code>.</p>\n\n<p>When writing a Threaded Program in Java, it would usually look like this</p>\n\n<pre><code>ThreadClass task = new ThreadClass();\nThread runner = new Thread(task);\nrunner.start();\n</code></pre>\n\n<p>The <code>ThreadClass</code> used here would be user defined. This class will implement the <code>Runnable</code> interface which is required for creating threads. In the <code>ThreadClass</code> the <code>run()</code> method (only method in <code>Runnable</code>) needs to be implemented as well. \nIt is clear that getting rid of <code>ThreadClass</code> would be more efficient and that's exactly why Anonymous Inner Classes exist.</p>\n\n<p>Look at the following code </p>\n\n<pre><code>Thread runner = new Thread(new Runnable() {\n    public void run() {\n        //Thread does it's work here\n    }\n});\nrunner.start();\n</code></pre>\n\n<p>This code replaces the reference made to <code>task</code> in the top most example. Rather than having a separate class, the Anonymous Inner Class inside the <code>Thread()</code> constructor returns an unnamed object that implements the <code>Runnable</code> interface and overrides the <code>run()</code> method. The method <code>run()</code> would include statements inside  that do the work required by the thread.</p>\n\n<p>Answering the question on whether Anonymous Inner Classes is one of the advantages of Java, I would have to say that I'm not quite sure as I am not familiar with many programming languages at the moment. But what I can say is it is definitely a quicker and easier method of coding.</p>\n\n<p><strong>References: Sams Teach Yourself Java in 21 Days Seventh Edition</strong></p>\n"},{"tags":[],"owner":{"account_id":5448501,"reputation":1780,"user_id":4334162,"display_name":"Arun Raaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526127723,"creation_date":1526127723,"answer_id":50306195,"question_id":355167,"body_markdown":"One more advantage:  \r\nAs you know that Java doesn&#39;t support multiple inheritance, so if you use &quot;Thread&quot; kinda class as anonymous class then the class still has one space left for any other class to extend.","title":"How are anonymous inner classes used in Java?","body":"<p>One more advantage:<br>\nAs you know that Java doesn't support multiple inheritance, so if you use \"Thread\" kinda class as anonymous class then the class still has one space left for any other class to extend.</p>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696841274,"post_id":77257291,"comment_id":136199675,"body_markdown":"Please don&#39;t copy answers written by others. You may _quote_ from other answers, but the majority of an answers must still be yours. Right now you have copied most of the other answer, and added zero information of your own, except for breaking up your quote with some interjections that add nothing new.","body":"Please don&#39;t copy answers written by others. You may <i>quote</i> from other answers, but the majority of an answers must still be yours. Right now you have copied most of the other answer, and added zero information of your own, except for breaking up your quote with some interjections that add nothing new."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696841334,"post_id":77257291,"comment_id":136199688,"body_markdown":"And the quoted answer is especially not useful, as it doesn&#39;t actually address the general use of anonymous classes, but only the specific case the OP of the other question was asking about.","body":"And the quoted answer is especially not useful, as it doesn&#39;t actually address the general use of anonymous classes, but only the specific case the OP of the other question was asking about."}],"tags":[],"owner":{"account_id":27981129,"reputation":69,"user_id":21368856,"display_name":"ypa y yhm"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696840196,"creation_date":1696840196,"answer_id":77257291,"question_id":355167,"body_markdown":"I found [that answer with its question (which is duplicated)](https://stackoverflow.com/questions/36799485/what-does-anonymous-subclass-mean-in-java) is a very terse reply for this question.\r\n\r\nHere are my notes.\r\n\r\nFor a use case: \r\n\r\n&gt; ~~~ java\r\n&gt; Type type = new TypeToken&lt;Collection&lt;Data&gt;&gt;(){}.getType();\r\n&gt; ~~~\r\n&gt; \r\n\r\nIt&#39;s same as: \r\n\r\n&gt; ~~~ java\r\n&gt; class MyTypeToken extends TypeToken&lt;Collection&lt;Data&gt;&gt; { }\r\n&gt; TypeToken&lt;Collection&lt;Data&gt;&gt; tcd = new MyTypeToken();\r\n&gt; Type type = tcd.getType();\r\n&gt; ~~~\r\n&gt; \r\n\r\nMore succinct shorthand: \r\n\r\n&gt; ~~~ java\r\n&gt; Type type =\r\n&gt;     new TypeToken&lt;Collection&lt;Data&gt;&gt;() { // this will initialise an anonymous object\r\n&gt;         /* in here you can override methods and add your own if you need to */\r\n&gt; \r\n&gt;     }   /* this ends the initialisation of the object. \r\n&gt;            At this point the anonymous class is created and initialised. */\r\n&gt; \r\n&gt;     .getType(); // here you call a method on the object\r\n&gt; ~~~\r\n&gt; \r\n\r\nsame as: \r\n\r\n&gt; ~~~ java\r\n&gt; TypeToken&lt;Collection&lt;Data&gt;&gt; tt = new TypeToken&lt;Collection&lt;Data&gt;&gt;(){ };\r\n&gt; Type type = tt.getType();\r\n&gt; ~~~\r\n&gt; \r\n\r\n\r\nAnd ...\r\n\r\n&gt; One more thing I want to mention is that anonymous classes do not have the same class type as other anonymous classes which inherit from the same parent.\r\n&gt; \r\n&gt; So if you have the following:\r\n&gt; \r\n&gt; ~~~ java\r\n&gt; TypeToken&lt;Collection&lt;Data&gt;&gt; tt1 = new TypeToken&lt;Collection&lt;Data&gt;&gt;(){ };\r\n&gt; TypeToken&lt;Collection&lt;Data&gt;&gt; tt2 = new TypeToken&lt;Collection&lt;Data&gt;&gt;(){ };\r\n&gt; ~~~\r\n&gt; \r\n&gt; `tt1.getClass() == tt2.getClass()` will **never** be true.\r\n&gt; \r\n\r\nAnd that&#39;s all important points about the *anonymous subclass* mean in java.","title":"How are anonymous inner classes used in Java?","body":"<p>I found <a href=\"https://stackoverflow.com/questions/36799485/what-does-anonymous-subclass-mean-in-java\">that answer with its question (which is duplicated)</a> is a very terse reply for this question.</p>\n<p>Here are my notes.</p>\n<p>For a use case:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>Type type = new TypeToken&lt;Collection&lt;Data&gt;&gt;(){}.getType();\n</code></pre>\n</blockquote>\n<p>It's same as:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>class MyTypeToken extends TypeToken&lt;Collection&lt;Data&gt;&gt; { }\nTypeToken&lt;Collection&lt;Data&gt;&gt; tcd = new MyTypeToken();\nType type = tcd.getType();\n</code></pre>\n</blockquote>\n<p>More succinct shorthand:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>Type type =\n    new TypeToken&lt;Collection&lt;Data&gt;&gt;() { // this will initialise an anonymous object\n        /* in here you can override methods and add your own if you need to */\n\n    }   /* this ends the initialisation of the object. \n           At this point the anonymous class is created and initialised. */\n\n    .getType(); // here you call a method on the object\n</code></pre>\n</blockquote>\n<p>same as:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>TypeToken&lt;Collection&lt;Data&gt;&gt; tt = new TypeToken&lt;Collection&lt;Data&gt;&gt;(){ };\nType type = tt.getType();\n</code></pre>\n</blockquote>\n<p>And ...</p>\n<blockquote>\n<p>One more thing I want to mention is that anonymous classes do not have the same class type as other anonymous classes which inherit from the same parent.</p>\n<p>So if you have the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TypeToken&lt;Collection&lt;Data&gt;&gt; tt1 = new TypeToken&lt;Collection&lt;Data&gt;&gt;(){ };\nTypeToken&lt;Collection&lt;Data&gt;&gt; tt2 = new TypeToken&lt;Collection&lt;Data&gt;&gt;(){ };\n</code></pre>\n<p><code>tt1.getClass() == tt2.getClass()</code> will <strong>never</strong> be true.</p>\n</blockquote>\n<p>And that's all important points about the <em>anonymous subclass</em> mean in java.</p>\n"}],"owner":{"account_id":18028,"reputation":39206,"user_id":40933,"accept_rate":63,"display_name":"Warrior"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239409,"favorite_count":0,"down_vote_count":0,"up_vote_count":320,"accepted_answer_id":355177,"answer_count":19,"score":320,"last_activity_date":1696841065,"creation_date":1228887726,"question_id":355167,"body_markdown":"What is the use of anonymous classes in Java? Can we say that usage of anonymous class is one of the advantages of Java?","title":"How are anonymous inner classes used in Java?","body":"<p>What is the use of anonymous classes in Java? Can we say that usage of anonymous class is one of the advantages of Java?</p>\n"},{"tags":["java","spring","spring-boot","graalvm-native-image"],"comments":[{"owner":{"account_id":1295413,"reputation":617,"user_id":1246600,"display_name":"Michael"},"score":0,"creation_date":1697471814,"post_id":77257367,"comment_id":136281112,"body_markdown":"Can you run the build again with debug logging enabled (-X switch) and update your question with the output?\nmvn -Pnative spring-boot:build-image -X","body":"Can you run the build again with debug logging enabled (-X switch) and update your question with the output? mvn -Pnative spring-boot:build-image -X"}],"owner":{"account_id":6478031,"reputation":311,"user_id":5016049,"accept_rate":60,"display_name":"Wild Tang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696840960,"creation_date":1696840960,"question_id":77257367,"body_markdown":"I am trying to use the latest GraalVM(GraalVM-JDK-21-x64\\graalvm-jdk-21+35.1) \r\nto generate native image from a Spring Boot project, but it failed. Can anyone help me, thanks!\r\nSpring boot version is spring-boot:3.1.4.\r\nAnd OS is Windows 11.\r\n\r\nI am new to GraalVM, saw that GraalVM platform can integrate some major computing languages, \r\nso try to build a native image from a simple spring boot project.\r\n\r\n```\r\n ~#@❯ mvn -Pnative spring-boot:build-image\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ---------------&lt; com.example:app &gt;---------------\r\n[INFO] Building app 0.0.1-SNAPSHOT\r\n[INFO]   from pom.xml\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] &gt;&gt;&gt; spring-boot:3.1.4:build-image (default-cli) &gt; package @ app &gt;&gt;&gt;\r\n[INFO] \r\n[INFO] --- native:0.9.27:add-reachability-metadata (add-reachability-metadata) @ app ---\r\n[INFO] [graalvm reachability metadata repository for ch.qos.logback:logback-classic:1.4.11]: Configuration directory not found. Trying latest version.\r\n[INFO] [graalvm reachability metadata repository for ch.qos.logback:logback-classic:1.4.11]: Configuration directory is ch.qos.logback\\logback-classic\\1.4.1\r\n...\r\n[INFO] [graalvm reachability metadata repository for net.java.dev.jna:jna:5.13.0]: Configuration directory not found. Trying latest version.\r\n[INFO] [graalvm reachability metadata repository for net.java.dev.jna:jna:5.13.0]: Configuration directory is net.java.dev.jna\\jna\\5.8.0\r\n[INFO] --- resources:3.3.1:resources (default-resources) @ app ---\r\n[INFO] Copying 1 resource from src\\main\\resources to target\\classes\r\n[INFO] Copying 1 resource from src\\main\\resources to target\\classes\r\n[INFO] --- compiler:3.11.0:compile (default-compile) @ app ---\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO] --- resources:3.3.1:testResources (default-testResources) @ app ---\r\n[INFO] skip non existing resourceDirectory F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app\\src\\test\\resources\r\n[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ app ---\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO] --- surefire:3.0.0:test (default-test) @ app ---\r\n[WARNING]  Parameter &#39;systemProperties&#39; is deprecated: Use systemPropertyVariables instead.\r\n[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider\r\n[INFO] \r\nWARNING: A Java agent has been loaded dynamically (C:\\Users\\wild\\.m2\\repository\\net\\bytebuddy\\byte-buddy-agent\\1.14.8\\byte-buddy-agent-1.14.8.jar)\r\nWARNING: If a serviceability tool is in use, please run with -XX:+EnableDynamicAgentLoading to hide this warning\r\nWARNING: If a serviceability tool is not in use, please run with -Djdk.instrument.traceUsage for more information\r\nWARNING: Dynamic loading of agents will be disallowed by default in a future release\r\nJava HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\r\n[INFO] --- asciidoctor:2.2.1:process-asciidoc (generate-docs) @ app ---\r\n[INFO] sourceDirectory F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app\\src\\docs\\asciidoc does not exist\r\n[INFO] sourceDirectory F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app\\src\\asciidoc does not exist\r\n[INFO] sourceDirectory F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app\\src\\main\\asciidoc does not exist     \r\n[INFO] No sourceDirectory found. Skipping processing\r\n[INFO]\r\n[INFO] --- spring-boot:3.1.4:process-aot (process-aot) @ app ---\r\n :: Spring Boot ::                (v3.1.4)\r\n\r\n2023-10-09T16:17:33.197+08:00  INFO 34512 --- [           main] com.example.lpm.LightApplication    : Starting LightApplication using Java 21 with PID 34512 (F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app\\target\\classes started by wild in F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app)\r\n2023-10-09T16:17:33.197+08:00  INFO 34512 --- [           main] com.example.lpm.LightApplication    : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-10-09T16:17:34.016+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n2023-10-09T16:17:34.016+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.\r\n2023-10-09T16:17:34.037+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.\r\n2023-10-09T16:17:34.058+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n2023-10-09T16:17:34.058+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-10-09T16:17:34.065+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.\r\n2023-10-09T16:17:34.232+08:00  INFO 34512 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named &#39;errorChannel&#39; has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.\r\n2023-10-09T16:17:34.240+08:00  INFO 34512 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named &#39;integrationHeaderChannelRegistry&#39; has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.\r\n2023-10-09T16:17:35.168+08:00  INFO 34512 --- [           main] org.reflections.Reflections              : Reflections took 234 ms to scan 50 urls, producing 484 keys and 2651 values\r\n2023-10-09T16:17:35.210+08:00  INFO 34512 --- [           main] org.reflections.Reflections              : Reflections took 0 ms to scan 2 urls, producing 4 keys and 5 values\r\n2023-10-09T16:17:35.973+08:00  INFO 34512 --- [           main] org.reflections.Reflections              : Reflections took 166 ms to scan 50 urls, producing 484 keys and 2651 values\r\n2023-10-09T16:17:36.138+08:00  INFO 34512 --- [           main] org.reflections.Reflections              : Reflections took 16 ms to scan 2 urls, producing 4 keys and 5 values\r\n2023-10-09T16:17:36.206+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class com.example.lpm.controller.MailController$$SpringCGLIB$$0 for class com.example.lpm.controller.MailController\r\n2023-10-09T16:17:36.216+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class com.example.lpm.controller.RootController$$SpringCGLIB$$0 for class com.example.lpm.controller.RootController\r\n2023-10-09T16:17:36.310+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController$$SpringCGLIB$$0 for class org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController\r\n2023-10-09T16:17:36.466+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.RepositoryController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.RepositoryController\r\n2023-10-09T16:17:36.487+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.RepositoryEntityController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.RepositoryEntityController\r\n2023-10-09T16:17:36.498+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController\r\n2023-10-09T16:17:36.513+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.RepositorySearchController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.RepositorySearchController\r\n2023-10-09T16:17:36.529+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.RepositorySchemaController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.RepositorySchemaController\r\n2023-10-09T16:17:36.544+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.alps.AlpsController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.alps.AlpsController\r\n2023-10-09T16:17:36.544+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.ProfileController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.ProfileController\r\n2023-10-09T16:17:36.560+08:00  INFO 34512 --- [           main] o.springframework.hateoas.aot.AotUtils   : Registering Spring HATEOAS types in org.springframework.hateoas.mediatype.hal for reflection.\r\n2023-10-09T16:17:36.591+08:00  INFO 34512 --- [           main] o.springframework.hateoas.aot.AotUtils   : Registering Spring HATEOAS types in org.springframework.hateoas.mediatype.hal.forms for reflection.\r\n2023-10-09T16:17:36.623+08:00  INFO 34512 --- [           main] o.springframework.hateoas.aot.AotUtils   : Registering Spring HATEOAS types in org.springframework.hateoas.mediatype.alps for reflection.\r\n2023-10-09T16:17:36.623+08:00  INFO 34512 --- [           main] o.springframework.hateoas.aot.AotUtils   : Registering Spring HATEOAS types in org.springframework.hateoas.mediatype.problem for reflection.\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Failed to generate code for &#39;org.springframework.web.util.pattern.PathPatternParser@2eb6d34a&#39; with type org.springframework.web.util.pattern.PathPatternParser\r\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertyValueCodeGenerator.generateCode(BeanDefinitionPropertyValueCodeGenerator.java:102)\r\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertiesCodeGenerator.generateValue(BeanDefinitionPropertiesCodeGenerator.java:220)\r\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertiesCodeGenerator.addPropertyValues(BeanDefinitionPropertiesCodeGenerator.java:184)\r\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertiesCodeGenerator.generateCode(BeanDefinitionPropertiesCodeGenerator.java:123)\r\n        at org.springframework.beans.factory.aot.DefaultBeanRegistrationCodeFragments.generateSetBeanDefinitionPropertiesCode(DefaultBeanRegistrationCodeFragments.java:167)\r\n        at org.springframework.beans.factory.aot.BeanRegistrationCodeGenerator.generateCode(BeanRegistrationCodeGenerator.java:86) \r\n        at org.springframework.beans.factory.aot.BeanDefinitionMethodGenerator.lambda$generateBeanDefinitionMethod$3(BeanDefinitionMethodGenerator.java:192)\r\n        at org.springframework.aot.generate.GeneratedMethod.&lt;init&gt;(GeneratedMethod.java:54)\r\n        at org.springframework.aot.generate.GeneratedMethods.add(GeneratedMethods.java:112)\r\n        at org.springframework.aot.generate.GeneratedMethods.add(GeneratedMethods.java:89)\r\n        at org.springframework.beans.factory.aot.BeanDefinitionMethodGenerator.generateBeanDefinitionMethod(BeanDefinitionMethodGenerator.java:186)\r\n        at org.springframework.beans.factory.aot.BeanDefinitionMethodGenerator.generateBeanDefinitionMethod(BeanDefinitionMethodGenerator.java:107)\r\n        at org.springframework.beans.factory.aot.BeanRegistrationsAotContribution.lambda$generateRegisterBeanDefinitionsMethod$2(BeanRegistrationsAotContribution.java:93)\r\n        at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)\r\n        at org.springframework.beans.factory.aot.BeanRegistrationsAotContribution.generateRegisterBeanDefinitionsMethod(BeanRegistrationsAotContribution.java:91)\r\n        at org.springframework.beans.factory.aot.BeanRegistrationsAotContribution.lambda$applyTo$1(BeanRegistrationsAotContribution.java:76)\r\n        at org.springframework.aot.generate.GeneratedMethod.&lt;init&gt;(GeneratedMethod.java:54)\r\n        at org.springframework.aot.generate.GeneratedMethods.add(GeneratedMethods.java:112)\r\n        at org.springframework.aot.generate.GeneratedMethods.add(GeneratedMethods.java:89)\r\n        at org.springframework.beans.factory.aot.BeanRegistrationsAotContribution.applyTo(BeanRegistrationsAotContribution.java:75)\r\n        at org.springframework.context.aot.BeanFactoryInitializationAotContributions.applyTo(BeanFactoryInitializationAotContributions.java:78)\r\n        at org.springframework.context.aot.ApplicationContextAotGenerator.lambda$processAheadOfTime$0(ApplicationContextAotGenerator.java:58)\r\n        at org.springframework.context.aot.ApplicationContextAotGenerator.withCglibClassHandler(ApplicationContextAotGenerator.java:67)\r\n        at org.springframework.context.aot.ApplicationContextAotGenerator.processAheadOfTime(ApplicationContextAotGenerator.java:53)\r\n        at org.springframework.context.aot.ContextAotProcessor.performAotProcessing(ContextAotProcessor.java:106)\r\n        at org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:84)\r\n        at org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:49)\r\n        at org.springframework.context.aot.AbstractAotProcessor.process(AbstractAotProcessor.java:82)\r\n        at org.springframework.boot.SpringApplicationAotProcessor.main(SpringApplicationAotProcessor.java:80)\r\nCaused by: java.lang.IllegalArgumentException: Code generation does not support org.springframework.web.util.pattern.PathPatternParser\r\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertyValueCodeGenerator.generateCode(BeanDefinitionPropertyValueCodeGenerator.java:134)\r\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertyValueCodeGenerator.generateCode(BeanDefinitionPropertyValueCodeGenerator.java:99)\r\n        ... 28 more\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  16.743 s\r\n[INFO] Finished at: 2023-10-09T16:17:36+08:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.1.4:process-aot (process-aot) on project app: Process terminated with exit code: 1 -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```","title":"GraalVM generate native image failed","body":"<p>I am trying to use the latest GraalVM(GraalVM-JDK-21-x64\\graalvm-jdk-21+35.1)\nto generate native image from a Spring Boot project, but it failed. Can anyone help me, thanks!\nSpring boot version is spring-boot:3.1.4.\nAnd OS is Windows 11.</p>\n<p>I am new to GraalVM, saw that GraalVM platform can integrate some major computing languages,\nso try to build a native image from a simple spring boot project.</p>\n<pre><code> ~#@❯ mvn -Pnative spring-boot:build-image\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ---------------&lt; com.example:app &gt;---------------\n[INFO] Building app 0.0.1-SNAPSHOT\n[INFO]   from pom.xml\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] &gt;&gt;&gt; spring-boot:3.1.4:build-image (default-cli) &gt; package @ app &gt;&gt;&gt;\n[INFO] \n[INFO] --- native:0.9.27:add-reachability-metadata (add-reachability-metadata) @ app ---\n[INFO] [graalvm reachability metadata repository for ch.qos.logback:logback-classic:1.4.11]: Configuration directory not found. Trying latest version.\n[INFO] [graalvm reachability metadata repository for ch.qos.logback:logback-classic:1.4.11]: Configuration directory is ch.qos.logback\\logback-classic\\1.4.1\n...\n[INFO] [graalvm reachability metadata repository for net.java.dev.jna:jna:5.13.0]: Configuration directory not found. Trying latest version.\n[INFO] [graalvm reachability metadata repository for net.java.dev.jna:jna:5.13.0]: Configuration directory is net.java.dev.jna\\jna\\5.8.0\n[INFO] --- resources:3.3.1:resources (default-resources) @ app ---\n[INFO] Copying 1 resource from src\\main\\resources to target\\classes\n[INFO] Copying 1 resource from src\\main\\resources to target\\classes\n[INFO] --- compiler:3.11.0:compile (default-compile) @ app ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] --- resources:3.3.1:testResources (default-testResources) @ app ---\n[INFO] skip non existing resourceDirectory F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app\\src\\test\\resources\n[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ app ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] --- surefire:3.0.0:test (default-test) @ app ---\n[WARNING]  Parameter 'systemProperties' is deprecated: Use systemPropertyVariables instead.\n[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider\n[INFO] \nWARNING: A Java agent has been loaded dynamically (C:\\Users\\wild\\.m2\\repository\\net\\bytebuddy\\byte-buddy-agent\\1.14.8\\byte-buddy-agent-1.14.8.jar)\nWARNING: If a serviceability tool is in use, please run with -XX:+EnableDynamicAgentLoading to hide this warning\nWARNING: If a serviceability tool is not in use, please run with -Djdk.instrument.traceUsage for more information\nWARNING: Dynamic loading of agents will be disallowed by default in a future release\nJava HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\n[INFO] --- asciidoctor:2.2.1:process-asciidoc (generate-docs) @ app ---\n[INFO] sourceDirectory F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app\\src\\docs\\asciidoc does not exist\n[INFO] sourceDirectory F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app\\src\\asciidoc does not exist\n[INFO] sourceDirectory F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app\\src\\main\\asciidoc does not exist     \n[INFO] No sourceDirectory found. Skipping processing\n[INFO]\n[INFO] --- spring-boot:3.1.4:process-aot (process-aot) @ app ---\n :: Spring Boot ::                (v3.1.4)\n\n2023-10-09T16:17:33.197+08:00  INFO 34512 --- [           main] com.example.lpm.LightApplication    : Starting LightApplication using Java 21 with PID 34512 (F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app\\target\\classes started by wild in F:\\MyCode\\VCS-Repos\\gitserver\\Light\\app)\n2023-10-09T16:17:33.197+08:00  INFO 34512 --- [           main] com.example.lpm.LightApplication    : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-10-09T16:17:34.016+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-10-09T16:17:34.016+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.\n2023-10-09T16:17:34.037+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.\n2023-10-09T16:17:34.058+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-10-09T16:17:34.058+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-10-09T16:17:34.065+08:00  INFO 34512 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.\n2023-10-09T16:17:34.232+08:00  INFO 34512 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.\n2023-10-09T16:17:34.240+08:00  INFO 34512 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.\n2023-10-09T16:17:35.168+08:00  INFO 34512 --- [           main] org.reflections.Reflections              : Reflections took 234 ms to scan 50 urls, producing 484 keys and 2651 values\n2023-10-09T16:17:35.210+08:00  INFO 34512 --- [           main] org.reflections.Reflections              : Reflections took 0 ms to scan 2 urls, producing 4 keys and 5 values\n2023-10-09T16:17:35.973+08:00  INFO 34512 --- [           main] org.reflections.Reflections              : Reflections took 166 ms to scan 50 urls, producing 484 keys and 2651 values\n2023-10-09T16:17:36.138+08:00  INFO 34512 --- [           main] org.reflections.Reflections              : Reflections took 16 ms to scan 2 urls, producing 4 keys and 5 values\n2023-10-09T16:17:36.206+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class com.example.lpm.controller.MailController$$SpringCGLIB$$0 for class com.example.lpm.controller.MailController\n2023-10-09T16:17:36.216+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class com.example.lpm.controller.RootController$$SpringCGLIB$$0 for class com.example.lpm.controller.RootController\n2023-10-09T16:17:36.310+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController$$SpringCGLIB$$0 for class org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController\n2023-10-09T16:17:36.466+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.RepositoryController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.RepositoryController\n2023-10-09T16:17:36.487+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.RepositoryEntityController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.RepositoryEntityController\n2023-10-09T16:17:36.498+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController\n2023-10-09T16:17:36.513+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.RepositorySearchController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.RepositorySearchController\n2023-10-09T16:17:36.529+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.RepositorySchemaController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.RepositorySchemaController\n2023-10-09T16:17:36.544+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.alps.AlpsController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.alps.AlpsController\n2023-10-09T16:17:36.544+08:00  INFO 34512 --- [           main] rocessor$ProxyRegisteringAotContribution : Created proxy type class org.springframework.data.rest.webmvc.ProfileController$$SpringCGLIB$$0 for class org.springframework.data.rest.webmvc.ProfileController\n2023-10-09T16:17:36.560+08:00  INFO 34512 --- [           main] o.springframework.hateoas.aot.AotUtils   : Registering Spring HATEOAS types in org.springframework.hateoas.mediatype.hal for reflection.\n2023-10-09T16:17:36.591+08:00  INFO 34512 --- [           main] o.springframework.hateoas.aot.AotUtils   : Registering Spring HATEOAS types in org.springframework.hateoas.mediatype.hal.forms for reflection.\n2023-10-09T16:17:36.623+08:00  INFO 34512 --- [           main] o.springframework.hateoas.aot.AotUtils   : Registering Spring HATEOAS types in org.springframework.hateoas.mediatype.alps for reflection.\n2023-10-09T16:17:36.623+08:00  INFO 34512 --- [           main] o.springframework.hateoas.aot.AotUtils   : Registering Spring HATEOAS types in org.springframework.hateoas.mediatype.problem for reflection.\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Failed to generate code for 'org.springframework.web.util.pattern.PathPatternParser@2eb6d34a' with type org.springframework.web.util.pattern.PathPatternParser\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertyValueCodeGenerator.generateCode(BeanDefinitionPropertyValueCodeGenerator.java:102)\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertiesCodeGenerator.generateValue(BeanDefinitionPropertiesCodeGenerator.java:220)\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertiesCodeGenerator.addPropertyValues(BeanDefinitionPropertiesCodeGenerator.java:184)\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertiesCodeGenerator.generateCode(BeanDefinitionPropertiesCodeGenerator.java:123)\n        at org.springframework.beans.factory.aot.DefaultBeanRegistrationCodeFragments.generateSetBeanDefinitionPropertiesCode(DefaultBeanRegistrationCodeFragments.java:167)\n        at org.springframework.beans.factory.aot.BeanRegistrationCodeGenerator.generateCode(BeanRegistrationCodeGenerator.java:86) \n        at org.springframework.beans.factory.aot.BeanDefinitionMethodGenerator.lambda$generateBeanDefinitionMethod$3(BeanDefinitionMethodGenerator.java:192)\n        at org.springframework.aot.generate.GeneratedMethod.&lt;init&gt;(GeneratedMethod.java:54)\n        at org.springframework.aot.generate.GeneratedMethods.add(GeneratedMethods.java:112)\n        at org.springframework.aot.generate.GeneratedMethods.add(GeneratedMethods.java:89)\n        at org.springframework.beans.factory.aot.BeanDefinitionMethodGenerator.generateBeanDefinitionMethod(BeanDefinitionMethodGenerator.java:186)\n        at org.springframework.beans.factory.aot.BeanDefinitionMethodGenerator.generateBeanDefinitionMethod(BeanDefinitionMethodGenerator.java:107)\n        at org.springframework.beans.factory.aot.BeanRegistrationsAotContribution.lambda$generateRegisterBeanDefinitionsMethod$2(BeanRegistrationsAotContribution.java:93)\n        at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)\n        at org.springframework.beans.factory.aot.BeanRegistrationsAotContribution.generateRegisterBeanDefinitionsMethod(BeanRegistrationsAotContribution.java:91)\n        at org.springframework.beans.factory.aot.BeanRegistrationsAotContribution.lambda$applyTo$1(BeanRegistrationsAotContribution.java:76)\n        at org.springframework.aot.generate.GeneratedMethod.&lt;init&gt;(GeneratedMethod.java:54)\n        at org.springframework.aot.generate.GeneratedMethods.add(GeneratedMethods.java:112)\n        at org.springframework.aot.generate.GeneratedMethods.add(GeneratedMethods.java:89)\n        at org.springframework.beans.factory.aot.BeanRegistrationsAotContribution.applyTo(BeanRegistrationsAotContribution.java:75)\n        at org.springframework.context.aot.BeanFactoryInitializationAotContributions.applyTo(BeanFactoryInitializationAotContributions.java:78)\n        at org.springframework.context.aot.ApplicationContextAotGenerator.lambda$processAheadOfTime$0(ApplicationContextAotGenerator.java:58)\n        at org.springframework.context.aot.ApplicationContextAotGenerator.withCglibClassHandler(ApplicationContextAotGenerator.java:67)\n        at org.springframework.context.aot.ApplicationContextAotGenerator.processAheadOfTime(ApplicationContextAotGenerator.java:53)\n        at org.springframework.context.aot.ContextAotProcessor.performAotProcessing(ContextAotProcessor.java:106)\n        at org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:84)\n        at org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:49)\n        at org.springframework.context.aot.AbstractAotProcessor.process(AbstractAotProcessor.java:82)\n        at org.springframework.boot.SpringApplicationAotProcessor.main(SpringApplicationAotProcessor.java:80)\nCaused by: java.lang.IllegalArgumentException: Code generation does not support org.springframework.web.util.pattern.PathPatternParser\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertyValueCodeGenerator.generateCode(BeanDefinitionPropertyValueCodeGenerator.java:134)\n        at org.springframework.beans.factory.aot.BeanDefinitionPropertyValueCodeGenerator.generateCode(BeanDefinitionPropertyValueCodeGenerator.java:99)\n        ... 28 more\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  16.743 s\n[INFO] Finished at: 2023-10-09T16:17:36+08:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.1.4:process-aot (process-aot) on project app: Process terminated with exit code: 1 -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"},{"tags":["java","modelmapper","java-14","java-record"],"comments":[{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":0,"creation_date":1592500290,"post_id":62455515,"comment_id":110455032,"body_markdown":"Can you try using version `2.3.8` of `ModelMapper`? The version that you&#39;re using was created before `record`s were released as a preview feature.","body":"Can you try using version <code>2.3.8</code> of <code>ModelMapper</code>? The version that you&#39;re using was created before <code>record</code>s were released as a preview feature."},{"owner":{"account_id":16632752,"reputation":447,"user_id":12020238,"display_name":"Pawel"},"score":0,"creation_date":1592500631,"post_id":62455515,"comment_id":110455201,"body_markdown":"Updated, but not working.","body":"Updated, but not working."},{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":0,"creation_date":1592500676,"post_id":62455515,"comment_id":110455223,"body_markdown":"Then `ModelMapper` does not yet support `record`. I recommend opening an issue on their [GitHub](https://github.com/modelmapper/modelmapper) repository.","body":"Then <code>ModelMapper</code> does not yet support <code>record</code>. I recommend opening an issue on their <a href=\"https://github.com/modelmapper/modelmapper\" rel=\"nofollow noreferrer\">GitHub</a> repository."},{"owner":{"account_id":16632752,"reputation":447,"user_id":12020238,"display_name":"Pawel"},"score":0,"creation_date":1592500927,"post_id":62455515,"comment_id":110455365,"body_markdown":"So what other tools, should I select to map dto to entity?","body":"So what other tools, should I select to map dto to entity?"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1592502764,"post_id":62455515,"comment_id":110456400,"body_markdown":"related to the resolution of the no-argument constructor, - [Define default constructor for record](https://stackoverflow.com/questions/61152337/define-default-constructor-for-record)","body":"related to the resolution of the no-argument constructor, - <a href=\"https://stackoverflow.com/questions/61152337/define-default-constructor-for-record\">Define default constructor for record</a>"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1592503302,"post_id":62455515,"comment_id":110456669,"body_markdown":"As @JacobG. said and just in case it works out, here is a tracker on GitHub - [#modelmapper/issues/546](https://github.com/modelmapper/modelmapper/issues/546)","body":"As @JacobG. said and just in case it works out, here is a tracker on GitHub - <a href=\"https://github.com/modelmapper/modelmapper/issues/546\" rel=\"nofollow noreferrer\">#modelmapper/issues/546</a>"}],"answers":[{"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1592502314,"post_id":62455787,"comment_id":110456181,"body_markdown":"..additionally for a Lombok vs Record decision, here is a [link to another Q&amp;A](https://stackoverflow.com/questions/61306802/lombok-getter-setter-vs-java-14-record)","body":"..additionally for a Lombok vs Record decision, here is a <a href=\"https://stackoverflow.com/questions/61306802/lombok-getter-setter-vs-java-14-record\">link to another Q&amp;A</a>"},{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":1,"creation_date":1592502554,"post_id":62455787,"comment_id":110456307,"body_markdown":"Yes, till it relies on the no arg constructor to create a object, you can use lombok.","body":"Yes, till it relies on the no arg constructor to create a object, you can use lombok."},{"owner":{"account_id":16632752,"reputation":447,"user_id":12020238,"display_name":"Pawel"},"score":0,"creation_date":1592581172,"post_id":62455787,"comment_id":110485950,"body_markdown":"Thanks for your help, but I have decided to use other mapper - MapStruct. In this tools problem with contructor is avoid","body":"Thanks for your help, but I have decided to use other mapper - MapStruct. In this tools problem with contructor is avoid"}],"tags":[],"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668197054,"creation_date":1592500889,"answer_id":62455787,"question_id":62455515,"body_markdown":"&lt;strike&gt;`record` is a preview feature in Java 14 so I would recommend you to not use it on production.&lt;/strike&gt;  Records were finalized in Java 16.  Secondly, it doesn&#39;t mimic java bean.\r\n\r\n`record` doesn&#39;t have a default no arg constructor implicitly if there are fields. If you wrote a no arg constructor, you will have to delegate the call to all args constructor and since all the fields are `final` you can only set them once. So you are kind of stuck there. See [JEP 359](https://openjdk.java.net/jeps/359):\r\n\r\n&gt; It is not a goal to declare &quot;war on boilerplate&quot;; in particular, it is not a goal to address the problems of mutable classes using the JavaBean naming conventions.\r\n\r\nAn alternative that works today would be to use [`Lombok`](https://projectlombok.org/). Example of `UserDto` using Lombok:\r\n\r\n\t@NoArgsConstructor\r\n\t@AllArgsConstructor\r\n\t@Data\r\n\tpublic class UserDto {\r\n\t\tprivate String firstName;\r\n\t\tprivate String lastName;\r\n\t\tprivate String email;\r\n\t\tprivate String imageUrl;\r\n\t}","title":"How can I use Java records as DTO with ModelMapper?","body":"<p><strike><code>record</code> is a preview feature in Java 14 so I would recommend you to not use it on production.</strike>  Records were finalized in Java 16.  Secondly, it doesn't mimic java bean.</p>\n<p><code>record</code> doesn't have a default no arg constructor implicitly if there are fields. If you wrote a no arg constructor, you will have to delegate the call to all args constructor and since all the fields are <code>final</code> you can only set them once. So you are kind of stuck there. See <a href=\"https://openjdk.java.net/jeps/359\" rel=\"nofollow noreferrer\">JEP 359</a>:</p>\n<blockquote>\n<p>It is not a goal to declare &quot;war on boilerplate&quot;; in particular, it is not a goal to address the problems of mutable classes using the JavaBean naming conventions.</p>\n</blockquote>\n<p>An alternative that works today would be to use <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\"><code>Lombok</code></a>. Example of <code>UserDto</code> using Lombok:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class UserDto {\n    private String firstName;\n    private String lastName;\n    private String email;\n    private String imageUrl;\n}\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user7780894"},"score":2,"creation_date":1592663008,"post_id":62486959,"comment_id":110508076,"body_markdown":"Yes mr architect but it is still a language feature in 14 so lombok sounds pretty promising till the feature gets delivered.","body":"Yes mr architect but it is still a language feature in 14 so lombok sounds pretty promising till the feature gets delivered."}],"tags":[],"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"comment_count":1,"down_vote_count":1,"up_vote_count":26,"is_accepted":true,"score":25,"last_activity_date":1592662467,"creation_date":1592662467,"answer_id":62486959,"question_id":62455515,"body_markdown":"The fields of a record are final, so they must be set through the constructor.  Many frameworks will cheat and use various tricks to modify final fields after the fact anyway, but these will not work on records.  If you want to instantiate a record, you have to provide all the field values at construction time.  \r\n\r\nIt may take a little time for frameworks to learn about records.  The old model of &quot;call a no-arg constructor, then set the fields&quot; will not work for records.  Some frameworks are already able to deal with this (e.g., &quot;constructor injection&quot;), while others are not yet there.  But, we expect that frameworks will get there soon enough.  \r\n\r\nAs the commenters said, you should encourage your framework provider to support them.  It isn&#39;t hard.","title":"How can I use Java records as DTO with ModelMapper?","body":"<p>The fields of a record are final, so they must be set through the constructor.  Many frameworks will cheat and use various tricks to modify final fields after the fact anyway, but these will not work on records.  If you want to instantiate a record, you have to provide all the field values at construction time.</p>\n<p>It may take a little time for frameworks to learn about records.  The old model of &quot;call a no-arg constructor, then set the fields&quot; will not work for records.  Some frameworks are already able to deal with this (e.g., &quot;constructor injection&quot;), while others are not yet there.  But, we expect that frameworks will get there soon enough.</p>\n<p>As the commenters said, you should encourage your framework provider to support them.  It isn't hard.</p>\n"},{"tags":[],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696840724,"creation_date":1696840262,"answer_id":77257294,"question_id":62455515,"body_markdown":"The initial version for modelmapper with support for records is [finally out][1]. The new dependency for this is:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n    &lt;artifactId&gt;modelmapper-module-record&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nYou then need to register the `RecordModule` like so: \r\n\r\n```java\r\nprivate ModelMapper modelMapper = new ModelMapper().registerModule(new RecordModule());\r\n```\r\n\r\n\r\n  [1]: https://github.com/modelmapper/modelmapper/pull/715#issuecomment-1635143374","title":"How can I use Java records as DTO with ModelMapper?","body":"<p>The initial version for modelmapper with support for records is <a href=\"https://github.com/modelmapper/modelmapper/pull/715#issuecomment-1635143374\" rel=\"nofollow noreferrer\">finally out</a>. The new dependency for this is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n    &lt;artifactId&gt;modelmapper-module-record&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You then need to register the <code>RecordModule</code> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private ModelMapper modelMapper = new ModelMapper().registerModule(new RecordModule());\n</code></pre>\n"}],"owner":{"account_id":16632752,"reputation":447,"user_id":12020238,"display_name":"Pawel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15838,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":62486959,"answer_count":3,"score":14,"last_activity_date":1696840724,"creation_date":1592500039,"question_id":62455515,"body_markdown":"I&#39;m refactoring my code. I want to use java records instead of java class in my DTO. To convert DTO to Entity, I&#39;m using ModelMapper (version 2.3.5). When I try to get info about user (call method co convert Entity to DTO) I get this error. \r\n\r\n`Failed to instantiate instance of destination xxx.UserDto. Ensure that xxx.UserDto has a non-private no-argument constructor.`\r\n\r\nThis is my code.\r\n\r\n```\r\npublic record UserDto(String firstName,\r\n                      String lastName,\r\n                      String email,\r\n                      String imageUrl) {}\r\n\r\n```\r\n\r\n```\r\n@RestController\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private ModelMapper modelMapper;\r\n\r\n\r\n    @GetMapping(&quot;/user/me&quot;)\r\n    @PreAuthorize(&quot;hasRole(&#39;USER&#39;)&quot;)\r\n    public UserDto getCurrentUser(@CurrentUser UserPrincipal userPrincipal) {\r\n        return convertToDto(userRepository.findById(userPrincipal.getId())\r\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;User&quot;, &quot;id&quot;, userPrincipal.getId())));\r\n    }\r\n\r\n\r\n    private UserDto convertToDto(User user) {\r\n        UserDto userDto = modelMapper.map(user, UserDto.class);\r\n        return userDto;\r\n    }\r\n\r\n    private User convertToEntity(UserDto userDto) throws Exception {\r\n        User post = modelMapper.map(userDto, User.class);\r\n        return post;\r\n    }\r\n}\r\n```\r\n\r\n***Edit***: Updating to version `2.3.8` doesn&#39;t help!","title":"How can I use Java records as DTO with ModelMapper?","body":"<p>I'm refactoring my code. I want to use java records instead of java class in my DTO. To convert DTO to Entity, I'm using ModelMapper (version 2.3.5). When I try to get info about user (call method co convert Entity to DTO) I get this error. </p>\n\n<p><code>Failed to instantiate instance of destination xxx.UserDto. Ensure that xxx.UserDto has a non-private no-argument constructor.</code></p>\n\n<p>This is my code.</p>\n\n<pre><code>public record UserDto(String firstName,\n                      String lastName,\n                      String email,\n                      String imageUrl) {}\n\n</code></pre>\n\n<pre><code>@RestController\npublic class UserController {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private ModelMapper modelMapper;\n\n\n    @GetMapping(\"/user/me\")\n    @PreAuthorize(\"hasRole('USER')\")\n    public UserDto getCurrentUser(@CurrentUser UserPrincipal userPrincipal) {\n        return convertToDto(userRepository.findById(userPrincipal.getId())\n                .orElseThrow(() -&gt; new ResourceNotFoundException(\"User\", \"id\", userPrincipal.getId())));\n    }\n\n\n    private UserDto convertToDto(User user) {\n        UserDto userDto = modelMapper.map(user, UserDto.class);\n        return userDto;\n    }\n\n    private User convertToEntity(UserDto userDto) throws Exception {\n        User post = modelMapper.map(userDto, User.class);\n        return post;\n    }\n}\n</code></pre>\n\n<p><strong><em>Edit</em></strong>: Updating to version <code>2.3.8</code> doesn't help!</p>\n"},{"tags":["java","spring","spring-boot","spring-security","cors"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687211343,"post_id":76507961,"comment_id":134902272,"body_markdown":"first remove this `.configurationSource(this.corsConfigurationSource())` since you have declared it as a `@Bean` the framework will apply it automatically. Second, `know that the CORS configuration is not being applied because the API is allowing requests from any origin` this cant be true, since if there is no CORS configuration the browser will deny all requests. Please update your question with the headers from a successful request to the backend","body":"first remove this <code>.configurationSource(this.corsConfigurationSource())</code> since you have declared it as a <code>@Bean</code> the framework will apply it automatically. Second, <code>know that the CORS configuration is not being applied because the API is allowing requests from any origin</code> this cant be true, since if there is no CORS configuration the browser will deny all requests. Please update your question with the headers from a successful request to the backend"},{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1687216159,"post_id":76507961,"comment_id":134902820,"body_markdown":"@Toerktumlare I&#39;ve added the headers to my question and removed the `.configurationSource(this.corsConfigurationSource())` line, but it didn&#39;t make any difference. I hope the headers helps.","body":"@Toerktumlare I&#39;ve added the headers to my question and removed the <code>.configurationSource(this.corsConfigurationSource())</code> line, but it didn&#39;t make any difference. I hope the headers helps."},{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1687217222,"post_id":76507961,"comment_id":134902902,"body_markdown":"The `Access-Control-Allow-Origin` is missing from the response headers and as you can see I&#39;m sending it in my code.","body":"The <code>Access-Control-Allow-Origin</code> is missing from the response headers and as you can see I&#39;m sending it in my code."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687217902,"post_id":76507961,"comment_id":134902953,"body_markdown":"how are you doing your request? the vary: Origin header is telling you that you need to include the origin header in your request. This is usually done automatic unless you are doing your request in some strange way. If you are doing curl read this https://reqbin.com/req/c-taimahsa/curl-cors-request","body":"how are you doing your request? the vary: Origin header is telling you that you need to include the origin header in your request. This is usually done automatic unless you are doing your request in some strange way. If you are doing curl read this <a href=\"https://reqbin.com/req/c-taimahsa/curl-cors-request\" rel=\"nofollow noreferrer\">reqbin.com/req/c-taimahsa/curl-cors-request</a>"},{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1687218165,"post_id":76507961,"comment_id":134902977,"body_markdown":"I&#39;m not using `curl`, I&#39;m sending through Postman and doing nothing with it, keeping it the default. Also, I don&#39;t have NGINX  or any proxy set up. I really don&#39;t know what&#39;s happening.","body":"I&#39;m not using <code>curl</code>, I&#39;m sending through Postman and doing nothing with it, keeping it the default. Also, I don&#39;t have NGINX  or any proxy set up. I really don&#39;t know what&#39;s happening."},{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1687218257,"post_id":76507961,"comment_id":134902984,"body_markdown":"Before, I was sending the requests through Google, by typing the endpoint, and the results were the same.","body":"Before, I was sending the requests through Google, by typing the endpoint, and the results were the same."},{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1687219412,"post_id":76507961,"comment_id":134903066,"body_markdown":"Look what I found: [link](https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#:~:text=Vary%20headers%20are%20added%20for%20non%2DCORS%20requests%20on%20CORS%20endpoints). Since I&#39;m running all from my own machine (`localhost`), it means that I won&#39;t be able to test CORS. I have to deploy both backend and frontend applications and test after, right?","body":"Look what I found: <a href=\"https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x#:~:text=Vary%20headers%20are%20added%20for%20non%2DCORS%20requests%20on%20CORS%20endpoints\" rel=\"nofollow noreferrer\">link</a>. Since I&#39;m running all from my own machine (<code>localhost</code>), it means that I won&#39;t be able to test CORS. I have to deploy both backend and frontend applications and test after, right?"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687244234,"post_id":76507961,"comment_id":134905332,"body_markdown":"But doing requests from postman will ignore CORS, cors is only enforced in browsers","body":"But doing requests from postman will ignore CORS, cors is only enforced in browsers"},{"owner":{"account_id":13808553,"reputation":513,"user_id":9966834,"display_name":"Sachin Mewar"},"score":0,"creation_date":1687602644,"post_id":76507961,"comment_id":134962017,"body_markdown":"Are you positive that allowedOrigins list is not empty and taking the defined values from properties file.","body":"Are you positive that allowedOrigins list is not empty and taking the defined values from properties file."},{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1687609465,"post_id":76507961,"comment_id":134962642,"body_markdown":"@SachinMewar I&#39;m 100% sure! I&#39;m printing the list inside `corsConfigurationSource` and its state is as I expect.","body":"@SachinMewar I&#39;m 100% sure! I&#39;m printing the list inside <code>corsConfigurationSource</code> and its state is as I expect."}],"answers":[{"tags":[],"owner":{"account_id":28896577,"reputation":39,"user_id":22132445,"display_name":"Aksh Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687953394,"creation_date":1687841719,"answer_id":76561723,"question_id":76507961,"body_markdown":"Place ````@EnableWebMvc```` at Controller Level.\r\n\r\nPlace url value in ````application.properties````\r\n\r\nBelow is the code that you can use as configuration.\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class SecurityConfiguration {\r\n    \r\n    \t@Autowired\r\n    \tprivate Environment environment;    \r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n            return httpSecurity\r\n                .csrf().disable().cors().configurationSource(this.corsConfigurationSource()).and()\r\n                .authorizeHttpRequests().anyRequest().permitAll().and().build();\r\n        }\r\n    \r\n        @Bean\r\n        public CorsConfigurationSource corsConfigurationSource() {\r\n            CorsConfiguration configuration = new CorsConfiguration();\r\n    \r\n            configuration.setAllowedOrigins(this.allowedOrigins);\r\n    \r\n            configuration.setAllowedMethods(Arrays.asList(\r\n                HttpMethod.GET.name(), HttpMethod.POST.name(), HttpMethod.PUT.name(),\r\n                HttpMethod.DELETE.name(), HttpMethod.HEAD.name(), HttpMethod.OPTIONS.name()\r\n            ));\r\n    \r\n            configuration.setAllowedHeaders(Arrays.asList(\r\n                HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, HttpHeaders.CONTENT_TYPE, HttpHeaders.ACCEPT,\r\n                HttpHeaders.ORIGIN, HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD, HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS,\r\n                HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, HttpHeaders.AUTHORIZATION\r\n            ));\r\n    \r\n            configuration.setExposedHeaders(Arrays.asList(\r\n                HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD,\r\n                HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS, HttpHeaders.ORIGIN, HttpHeaders.AUTHORIZATION\r\n            ));\r\n    \r\n            configuration.setAllowCredentials(true);\r\n    \r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n    \r\n            source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n    \r\n            return source;\r\n        }\r\n    \r\n\t\t@Override\r\n\t\tpublic void addCorsMappings(CorsRegistry registry) {\r\n\t\t\r\n\t\t\tString origins = environment.getProperty(&quot;url&quot;);\r\n\t\t\r\n\t\t\tregistry.addMapping(&quot;/v1/**&quot;)\r\n\t\t\t\t.allowedMethods(&quot;PATCH&quot;,&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;,&quot;PUT&quot;, &quot;DELETE&quot;)\r\n\t\t\t\t.allowedOrigins(origins.split(&quot;,&quot;))\r\n\t\t\t\t.allowedHeaders(&quot;*&quot;).allowCredentials(true);\r\n\t\t}\r\n\t}\r\n","title":"Spring Boot is ignoring my CORS configuration","body":"<p>Place <code>@EnableWebMvc</code> at Controller Level.</p>\n<p>Place url value in <code>application.properties</code></p>\n<p>Below is the code that you can use as configuration.</p>\n<pre><code>@Configuration\n@PropertySource(&quot;classpath:application.properties&quot;)\npublic class SecurityConfiguration {\n\n    @Autowired\n    private Environment environment;    \n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n        return httpSecurity\n            .csrf().disable().cors().configurationSource(this.corsConfigurationSource()).and()\n            .authorizeHttpRequests().anyRequest().permitAll().and().build();\n    }\n\n    @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n\n        configuration.setAllowedOrigins(this.allowedOrigins);\n\n        configuration.setAllowedMethods(Arrays.asList(\n            HttpMethod.GET.name(), HttpMethod.POST.name(), HttpMethod.PUT.name(),\n            HttpMethod.DELETE.name(), HttpMethod.HEAD.name(), HttpMethod.OPTIONS.name()\n        ));\n\n        configuration.setAllowedHeaders(Arrays.asList(\n            HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, HttpHeaders.CONTENT_TYPE, HttpHeaders.ACCEPT,\n            HttpHeaders.ORIGIN, HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD, HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS,\n            HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, HttpHeaders.AUTHORIZATION\n        ));\n\n        configuration.setExposedHeaders(Arrays.asList(\n            HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD,\n            HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS, HttpHeaders.ORIGIN, HttpHeaders.AUTHORIZATION\n        ));\n\n        configuration.setAllowCredentials(true);\n\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n\n        return source;\n    }\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n    \n        String origins = environment.getProperty(&quot;url&quot;);\n    \n        registry.addMapping(&quot;/v1/**&quot;)\n            .allowedMethods(&quot;PATCH&quot;,&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;,&quot;PUT&quot;, &quot;DELETE&quot;)\n            .allowedOrigins(origins.split(&quot;,&quot;))\n            .allowedHeaders(&quot;*&quot;).allowCredentials(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22649991,"reputation":41,"user_id":16824796,"display_name":"Sidof"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696839836,"creation_date":1696839836,"answer_id":77257249,"question_id":76507961,"body_markdown":"I just using Spring boot annotation on the head of my class that implement the enpoind`@CrossOrigin(origins = &quot;http://localhost:4200/&quot;, maxAge = 3600)[enter image description here][1]`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IanK4.png","title":"Spring Boot is ignoring my CORS configuration","body":"<p>I just using Spring boot annotation on the head of my class that implement the enpoind<code>@CrossOrigin(origins = &quot;http://localhost:4200/&quot;, maxAge = 3600)[enter image description here][1]</code></p>\n"}],"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696839836,"creation_date":1687187726,"question_id":76507961,"body_markdown":"I have a REST API with CORS enabled, but it seems like Spring Boot is ignoring my CORS configuration. Here it is the configuration class:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    @Value(value = &quot;${cors.allowed-origins}&quot;)\r\n    private List&lt;String&gt; allowedOrigins;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n        return httpSecurity\r\n            .csrf().disable().cors().configurationSource(this.corsConfigurationSource()).and()\r\n            .authorizeHttpRequests().anyRequest().permitAll().and().build();\r\n    }\r\n\r\n    @Bean\r\n    public CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n\r\n        configuration.setAllowedOrigins(this.allowedOrigins);\r\n\r\n        configuration.setAllowedMethods(Arrays.asList(\r\n            HttpMethod.GET.name(), HttpMethod.POST.name(), HttpMethod.PUT.name(),\r\n            HttpMethod.DELETE.name(), HttpMethod.HEAD.name(), HttpMethod.OPTIONS.name()\r\n        ));\r\n\r\n        configuration.setAllowedHeaders(Arrays.asList(\r\n            HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, HttpHeaders.CONTENT_TYPE, HttpHeaders.ACCEPT,\r\n            HttpHeaders.ORIGIN, HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD, HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS,\r\n            HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, HttpHeaders.AUTHORIZATION\r\n        ));\r\n\r\n        configuration.setExposedHeaders(Arrays.asList(\r\n            HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD,\r\n            HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS, HttpHeaders.ORIGIN, HttpHeaders.AUTHORIZATION\r\n        ));\r\n\r\n        configuration.setAllowCredentials(true);\r\n\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n\r\n        return source;\r\n    }\r\n}\r\n```\r\n\r\nAnd here it is the Spring Boot application class:\r\n\r\n```java\r\n@SpringBootApplication(exclude = {UserDetailsServiceAutoConfiguration.class})\r\npublic class RaioXcapeBackend {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(RaioXcapeBackend.class, args);\r\n    }\r\n}\r\n```\r\n\r\nI know that the CORS configuration is not being applied because the API is allowing requests from any origin (e.g.: I send a `GET` request from my local running front-end), but my goal is to allow only from one origin, which is my deployed front-end application domain.\r\n\r\nWhat could be happening? I&#39;ve already checked the `${cors.allowed-origins}`, and it&#39;s correct.\r\n\r\n**UPDATE 1**\r\n\r\nBelow are the headers of a `GET` request to the API.\r\n\r\n```txt\r\nResponse Headers\r\n\r\nCache-Control:          no-cache, no-store, max-age=0, must-revalidate\r\nConnection:             keep-alive\r\nContent-Type:           application/json\r\nDate:                   Mon, 19 Jun 2023 22:58:41 GMT\r\nExpires:                0\r\nKeep-Alive:             timeout=60\r\nPragma:                 no-cache\r\nTransfer-Encoding:      chunked\r\nVary:                   Access-Control-Request-Headers\r\nVary:                   Access-Control-Request-Method\r\nVary:                   Origin\r\nX-Content-Type-Options: nosniff\r\nX-Frame-Options:        DENY\r\nX-Xss-Protection:       0\r\n\r\nRequest Headers\r\n\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7\r\nAccept-Encoding: gzip, deflate, br\r\nAccept-Language: en,pt;q=0.9\r\nCache-Control: no-cache\r\nConnection: keep-alive\r\nDnt: 1\r\nHost: localhost:8080\r\nPragma: no-cache\r\nSec-Ch-Ua: &quot;Not.A/Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;114&quot;, &quot;Google Chrome&quot;;v=&quot;114&quot;\r\nSec-Ch-Ua-Mobile: ?0\r\nSec-Ch-Ua-Platform: &quot;Windows&quot;\r\nSec-Fetch-Dest: document\r\nSec-Fetch-Mode: navigate\r\nSec-Fetch-Site: none\r\nSec-Fetch-User: ?1\r\nUpgrade-Insecure-Requests: 1\r\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\r\n```\r\n","title":"Spring Boot is ignoring my CORS configuration","body":"<p>I have a REST API with CORS enabled, but it seems like Spring Boot is ignoring my CORS configuration. Here it is the configuration class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    @Value(value = &quot;${cors.allowed-origins}&quot;)\n    private List&lt;String&gt; allowedOrigins;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n        return httpSecurity\n            .csrf().disable().cors().configurationSource(this.corsConfigurationSource()).and()\n            .authorizeHttpRequests().anyRequest().permitAll().and().build();\n    }\n\n    @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n\n        configuration.setAllowedOrigins(this.allowedOrigins);\n\n        configuration.setAllowedMethods(Arrays.asList(\n            HttpMethod.GET.name(), HttpMethod.POST.name(), HttpMethod.PUT.name(),\n            HttpMethod.DELETE.name(), HttpMethod.HEAD.name(), HttpMethod.OPTIONS.name()\n        ));\n\n        configuration.setAllowedHeaders(Arrays.asList(\n            HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, HttpHeaders.CONTENT_TYPE, HttpHeaders.ACCEPT,\n            HttpHeaders.ORIGIN, HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD, HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS,\n            HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, HttpHeaders.AUTHORIZATION\n        ));\n\n        configuration.setExposedHeaders(Arrays.asList(\n            HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD,\n            HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS, HttpHeaders.ORIGIN, HttpHeaders.AUTHORIZATION\n        ));\n\n        configuration.setAllowCredentials(true);\n\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n\n        return source;\n    }\n}\n</code></pre>\n<p>And here it is the Spring Boot application class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication(exclude = {UserDetailsServiceAutoConfiguration.class})\npublic class RaioXcapeBackend {\n\n    public static void main(String[] args) {\n        SpringApplication.run(RaioXcapeBackend.class, args);\n    }\n}\n</code></pre>\n<p>I know that the CORS configuration is not being applied because the API is allowing requests from any origin (e.g.: I send a <code>GET</code> request from my local running front-end), but my goal is to allow only from one origin, which is my deployed front-end application domain.</p>\n<p>What could be happening? I've already checked the <code>${cors.allowed-origins}</code>, and it's correct.</p>\n<p><strong>UPDATE 1</strong></p>\n<p>Below are the headers of a <code>GET</code> request to the API.</p>\n<pre><code>Response Headers\n\nCache-Control:          no-cache, no-store, max-age=0, must-revalidate\nConnection:             keep-alive\nContent-Type:           application/json\nDate:                   Mon, 19 Jun 2023 22:58:41 GMT\nExpires:                0\nKeep-Alive:             timeout=60\nPragma:                 no-cache\nTransfer-Encoding:      chunked\nVary:                   Access-Control-Request-Headers\nVary:                   Access-Control-Request-Method\nVary:                   Origin\nX-Content-Type-Options: nosniff\nX-Frame-Options:        DENY\nX-Xss-Protection:       0\n\nRequest Headers\n\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7\nAccept-Encoding: gzip, deflate, br\nAccept-Language: en,pt;q=0.9\nCache-Control: no-cache\nConnection: keep-alive\nDnt: 1\nHost: localhost:8080\nPragma: no-cache\nSec-Ch-Ua: &quot;Not.A/Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;114&quot;, &quot;Google Chrome&quot;;v=&quot;114&quot;\nSec-Ch-Ua-Mobile: ?0\nSec-Ch-Ua-Platform: &quot;Windows&quot;\nSec-Fetch-Dest: document\nSec-Fetch-Mode: navigate\nSec-Fetch-Site: none\nSec-Fetch-User: ?1\nUpgrade-Insecure-Requests: 1\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\n</code></pre>\n"},{"tags":["java","date-format"],"comments":[{"owner":{"account_id":3633891,"reputation":6968,"user_id":3029484,"accept_rate":100,"display_name":"Fidan Hakaj"},"score":2,"creation_date":1395574936,"post_id":22590381,"comment_id":34391948,"body_markdown":"Have a look at the javadoc : \nhttp://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","body":"Have a look at the javadoc :  <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/text/&hellip;</a>"},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":17,"creation_date":1395574979,"post_id":22590381,"comment_id":34391964,"body_markdown":"If you are particularly unlucky, results could also be `23/59/2014`.","body":"If you are particularly unlucky, results could also be <code>23&#47;59&#47;2014</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1689975782,"post_id":22590381,"comment_id":135293808,"body_markdown":"**Update:** These classes `SimpleDateFormat` and `java.sql.Date` have been supplanted by the modern *java.time* classes defined in JSR 310. Specifically replaced by `DateTimeFormatter` and `LocalDate`. See modern solution in [Answer by Avinash](https://stackoverflow.com/a/76723160/642706).","body":"<b>Update:</b> These classes <code>SimpleDateFormat</code> and <code>java.sql.Date</code> have been supplanted by the modern <i>java.time</i> classes defined in JSR 310. Specifically replaced by <code>DateTimeFormatter</code> and <code>LocalDate</code>. See modern solution in <a href=\"https://stackoverflow.com/a/76723160/642706\">Answer by Avinash</a>."}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"comment_count":0,"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1696839289,"creation_date":1395574879,"answer_id":22590397,"question_id":22590381,"body_markdown":"It&#39;s because `mm` is for minutes, not months. More in [the documentation][1].\r\n\r\n----\r\n\r\nJust about the time you were asking your question the newer [`java.time` package][2] was added to the standard Java library. These days, you&#39;d probably use that [as shown in Arvind Kumar Avinash&#39;s answer](https://stackoverflow.com/a/76723160/157247). But the same thing applies to the formatter there, `mm` is minutes, `MM` is months.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/package-summary.html","title":"dd/mm/yyyy vs dd/MM/yyyy?","body":"<p>It's because <code>mm</code> is for minutes, not months. More in <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n<hr />\n<p>Just about the time you were asking your question the newer <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time</code> package</a> was added to the standard Java library. These days, you'd probably use that <a href=\"https://stackoverflow.com/a/76723160/157247\">as shown in Arvind Kumar Avinash's answer</a>. But the same thing applies to the formatter there, <code>mm</code> is minutes, <code>MM</code> is months.</p>\n"},{"tags":[],"owner":{"account_id":2744625,"reputation":8577,"user_id":2365297,"accept_rate":36,"display_name":"Salah"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1395574903,"creation_date":1395574903,"answer_id":22590401,"question_id":22590381,"body_markdown":"`mm` represents minutes, so when you use `mm`, it will print minutes instead of month.\r\n\r\nWhile `MM` represents months.\r\n\r\nRead more about [`Time Patterns`][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","title":"dd/mm/yyyy vs dd/MM/yyyy?","body":"<p><code>mm</code> represents minutes, so when you use <code>mm</code>, it will print minutes instead of month.</p>\n\n<p>While <code>MM</code> represents months.</p>\n\n<p>Read more about <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>Time Patterns</code></a></p>\n"},{"comments":[{"owner":{"account_id":14402833,"reputation":2668,"user_id":10403902,"display_name":"Deepak"},"score":1,"creation_date":1608743451,"post_id":22590508,"comment_id":115674004,"body_markdown":"That&#39;s really helpful!","body":"That&#39;s really helpful!"},{"owner":{"account_id":238697,"reputation":1454,"user_id":507761,"accept_rate":100,"display_name":"Matthew Read"},"score":0,"creation_date":1618859369,"post_id":22590508,"comment_id":118725506,"body_markdown":"Note that in some date/time libraries, `D`/`DD` is day-of-year while `d`/`dd` is day-of month.","body":"Note that in some date/time libraries, <code>D</code>/<code>DD</code> is day-of-year while <code>d</code>/<code>dd</code> is day-of month."}],"tags":[],"owner":{"account_id":3841443,"reputation":6838,"user_id":3761928,"accept_rate":72,"display_name":"Shell"},"comment_count":2,"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1582183189,"creation_date":1395575468,"answer_id":22590508,"question_id":22590381,"body_markdown":"In C# and VB.NET, it&#39;s a case sensitive especially to format the Month or Minutes. Because initial character of both the words is same.\r\n\r\nThe following detail may help you in formatting the date &amp; time.\r\n\r\n    1. d/D: day without 0 prefix on single digit. \r\n    2. dd/DD: day with 0 prefix if single digit.\r\n    3. M: Month without 0 prefix on single digit.\r\n    4. MM: Month with 0 prefix if single digit.\r\n    5. yy/YY: Last two digit of year.\r\n    6. yyyy/YYYY: represents full year.\r\n    7. HH: 24 hour based hour. ie. 13:00. **H** will display hour without prefix 0 if single digit\r\n    8. hh: 12 hour based hour. ie. 01:00. **h** will display hour without prefix 0 if single digit\r\n    9. m: minute without 0 prefix on single digit. \r\n    10.mm: minute with 0 prefix if single digit.\r\n    11.s: second without 0 prefix on single digit. \r\n    12.ss: second with 0 prefix if single digit.\r\n    13.tt: represent the AM or PM","title":"dd/mm/yyyy vs dd/MM/yyyy?","body":"<p>In C# and VB.NET, it's a case sensitive especially to format the Month or Minutes. Because initial character of both the words is same.</p>\n\n<p>The following detail may help you in formatting the date &amp; time.</p>\n\n<pre><code>1. d/D: day without 0 prefix on single digit. \n2. dd/DD: day with 0 prefix if single digit.\n3. M: Month without 0 prefix on single digit.\n4. MM: Month with 0 prefix if single digit.\n5. yy/YY: Last two digit of year.\n6. yyyy/YYYY: represents full year.\n7. HH: 24 hour based hour. ie. 13:00. **H** will display hour without prefix 0 if single digit\n8. hh: 12 hour based hour. ie. 01:00. **h** will display hour without prefix 0 if single digit\n9. m: minute without 0 prefix on single digit. \n10.mm: minute with 0 prefix if single digit.\n11.s: second without 0 prefix on single digit. \n12.ss: second with 0 prefix if single digit.\n13.tt: represent the AM or PM\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4573108,"reputation":1479,"user_id":3712298,"display_name":"sanjeevjha"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582189873,"creation_date":1582189873,"answer_id":60316328,"question_id":22590381,"body_markdown":"Yes it is because `mm` represents `minutes`\r\n\r\n   \r\n\r\n     Date date=new Date();\r\n        System.out.println(date);\r\n        System.out.println(&quot;Date: &quot;+new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(date));\r\n        System.out.println(&quot;Date: &quot;+new SimpleDateFormat(&quot;dd/mm/yyyy&quot;).format(date));\r\n\r\n&gt; if you observed the output you will find  when we print date object, there is value of minutes, month, etc and in 2nd line and 3rd line same minute is printed corresponding to mm and month value is printed\r\n&gt; corresponding to MM\r\n\r\n    Thu Feb 20 14:33:00 IST 2020\r\n    20/02/2020\r\n    20/33/2020\r\n\r\n","title":"dd/mm/yyyy vs dd/MM/yyyy?","body":"<p>Yes it is because <code>mm</code> represents <code>minutes</code></p>\n\n<pre><code> Date date=new Date();\n    System.out.println(date);\n    System.out.println(\"Date: \"+new SimpleDateFormat(\"dd/MM/yyyy\").format(date));\n    System.out.println(\"Date: \"+new SimpleDateFormat(\"dd/mm/yyyy\").format(date));\n</code></pre>\n\n<blockquote>\n  <p>if you observed the output you will find  when we print date object, there is value of minutes, month, etc and in 2nd line and 3rd line same minute is printed corresponding to mm and month value is printed\n  corresponding to MM</p>\n</blockquote>\n\n<pre><code>Thu Feb 20 14:33:00 IST 2020\n20/02/2020\n20/33/2020\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1691959308,"post_id":76723160,"comment_id":135557789,"body_markdown":"Thanks for the good answer. While the same solution applies to java.time as applied to `SimpleDateFormat` in its days, the problem manifests quite differently. `SimpleDateFormat` gave nonsense output, which was awfully typical for that class. `LocalDate` will throw an exception because a date hasn’t got minutes and thus make sure that the problem is noticed and no nonsense output is produced. One of the many advantages of java.time.","body":"Thanks for the good answer. While the same solution applies to java.time as applied to <code>SimpleDateFormat</code> in its days, the problem manifests quite differently. <code>SimpleDateFormat</code> gave nonsense output, which was awfully typical for that class. <code>LocalDate</code> will throw an exception because a date hasn’t got minutes and thus make sure that the problem is noticed and no nonsense output is produced. One of the many advantages of java.time."}],"tags":[],"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689782509,"creation_date":1689782164,"answer_id":76723160,"question_id":22590381,"body_markdown":"java.time\r\n--\r\n\r\nThe [accepted answer](https://stackoverflow.com/a/22590397/10819573) is correct and also applicable to the modern date-time API. More in [the documentation](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html).\r\n\r\nNote that Java-8, released in March 2014, introduced the modern date-time API which supplanted the outdated and error-prone `java.util` Date-Time API and their formatting API, `SimpleDateFormat`. Since then it has been strongly recommended to switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html).\r\n\r\n**Demo using `java.time`, the modern Date-Time API:**\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/uuuu&quot;, Locale.ENGLISH);\r\n            System.out.println(LocalDate.now().format(formatter));\r\n    \r\n            // Alternatively,\r\n            System.out.println(formatter.format(LocalDate.now()));\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    19/07/2023\r\n    19/07/2023\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/wZJeI2)\r\n\r\n**Note:** Here, you can use `y` instead of `u` but [I prefer](https://stackoverflow.com/a/65928023/10819573) `u` to `y`.\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n\r\n\r\n","title":"dd/mm/yyyy vs dd/MM/yyyy?","body":"<h2>java.time</h2>\n<p>The <a href=\"https://stackoverflow.com/a/22590397/10819573\">accepted answer</a> is correct and also applicable to the modern date-time API. More in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n<p>Note that Java-8, released in March 2014, introduced the modern date-time API which supplanted the outdated and error-prone <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code>. Since then it has been strongly recommended to switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a>.</p>\n<p><strong>Demo using <code>java.time</code>, the modern Date-Time API:</strong></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/uuuu&quot;, Locale.ENGLISH);\n        System.out.println(LocalDate.now().format(formatter));\n\n        // Alternatively,\n        System.out.println(formatter.format(LocalDate.now()));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>19/07/2023\n19/07/2023\n</code></pre>\n<p><a href=\"https://ideone.com/wZJeI2\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p><strong>Note:</strong> Here, you can use <code>y</code> instead of <code>u</code> but <a href=\"https://stackoverflow.com/a/65928023/10819573\">I prefer</a> <code>u</code> to <code>y</code>.</p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":3860808,"reputation":5608,"user_id":3198603,"accept_rate":70,"display_name":"user3198603"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100307,"favorite_count":0,"down_vote_count":5,"up_vote_count":37,"accepted_answer_id":22590397,"answer_count":5,"score":32,"last_activity_date":1696839289,"creation_date":1395574826,"question_id":22590381,"body_markdown":"    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n        \tString date = sdf.format(new Date()); \r\n        \tSystem.out.println(date); \r\n        \t\r\n Result is todays date i.e 23/03/2014\r\n \r\n But when I do\r\n \r\n     SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/mm/yyyy&quot;); \r\n \r\nresult can be 23/04/2014, 23/05/2014, 23/06/2014  and so on with each run of program. Why so?","title":"dd/mm/yyyy vs dd/MM/yyyy?","body":"<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        String date = sdf.format(new Date()); \n        System.out.println(date); \n        \n</code></pre>\n<p>Result is todays date i.e 23/03/2014</p>\n<p>But when I do</p>\n<pre><code> SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/mm/yyyy&quot;); \n</code></pre>\n<p>result can be 23/04/2014, 23/05/2014, 23/06/2014  and so on with each run of program. Why so?</p>\n"},{"tags":["java","android","sqlite"],"answers":[{"comments":[{"owner":{"account_id":5687604,"reputation":69,"user_id":4496638,"accept_rate":40,"display_name":"k0ala Xing"},"score":0,"creation_date":1696924731,"post_id":77255678,"comment_id":136211442,"body_markdown":"Thanks for the response, how do you connect to the sqlite database when debugging ?","body":"Thanks for the response, how do you connect to the sqlite database when debugging ?"},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1696930175,"post_id":77255678,"comment_id":136212352,"body_markdown":"@k0alaXing If the database hasn&#39;t been closed and the App is running, then [*App Inspection*] in Android Studio.","body":"@k0alaXing If the database hasn&#39;t been closed and the App is running, then [<i>App Inspection</i>] in Android Studio."}],"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696839071,"creation_date":1696808339,"answer_id":77255678,"question_id":77253091,"body_markdown":"You are deleting the database, you should not. \r\n\r\nWhen the `onCreate` method is called(invoked), the actual database (empty apart from sqlite_master and android_metadata) has been created. So it will exist, so you are always deleting it and not creating it (which if you did would not be pointed to anyway as it would be another file handle).\r\n\r\nIf you look at onCreate&#39;s parameters, it has the database passed to it.\r\n\r\nRemove the block of code:-\r\n\r\n        if (databaseFile.exists()) {\r\n            // Delete the existing database file\r\n            SQLiteDatabase.deleteDatabase(databaseFile);\r\n        }\r\n\r\n- The database will always exist\r\n    - it will have no tables other than sqlite_master (the schema which will only have android_metedata) and android_metadata (this being an API generated table that stores the locale).\r\n- Deleting the database or the file (same thing really) will result in issues as the file handle (terminology may not be correct but means whatever points to the file) will no longer be valid.\r\n\r\nUsing your code, with the `convertInputStreamToString` method included in the Helper, and the suggested commenting out the of delete as per:-\r\n\r\n    public class MapleDBHelper extends SQLiteOpenHelper {\r\n        public Context context;\r\n        private static final String DATABASE_NAME = &quot;cosmic&quot;;\r\n        private static final int DATABASE_VERSION = 1;\r\n        private static MapleDBHelper sInstance;\r\n        private MapleDBHelper(Context context) {\r\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n            this.context = context;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            File databaseFile = context.getDatabasePath(DATABASE_NAME);\r\n            if (databaseFile.exists()) {\r\n                // Delete the existing database file\r\n                //SQLiteDatabase.deleteDatabase(databaseFile);\r\n            }\r\n    \r\n            try {\r\n                AssetManager assetManager = context.getAssets();\r\n                InputStream db_database = assetManager.open(&quot;sql/1_db_database.sql&quot;);\r\n                InputStream db_drops = assetManager.open(&quot;sql/2_db_drops.sql&quot;);\r\n                InputStream db_shopupdate = assetManager.open(&quot;sql/3_db_shopupdate.sql&quot;);\r\n                InputStream db_admin = assetManager.open(&quot;sql/4_db-admin.sql&quot;);\r\n                db.execSQL(convertInputStreamToString(db_database));\r\n                db.execSQL(convertInputStreamToString(db_drops));\r\n                db.execSQL(convertInputStreamToString(db_shopupdate));\r\n                db.execSQL(convertInputStreamToString(db_admin));\r\n    \r\n                db_database.close();\r\n                db_drops.close();\r\n                db_shopupdate.close();\r\n                db_admin.close();\r\n            } catch (FileNotFoundException e) {\r\n                throw new RuntimeException(&quot;Could not read database file : &quot; + e.getMessage());\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(&quot;Could not successfully parse database file &quot; + e.getMessage());\r\n            }\r\n        }\r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        }\r\n    \r\n        public static synchronized MapleDBHelper getInstance(Context context) {\r\n            if (sInstance == null) {\r\n                sInstance = new MapleDBHelper(context.getApplicationContext());\r\n            }\r\n            return sInstance;\r\n        }\r\n        private String convertInputStreamToString(InputStream is) {\r\n            String str = &quot;&quot;;\r\n            StringBuffer buf = new StringBuffer();\r\n            try {\r\n                BufferedReader br = new BufferedReader(new InputStreamReader(is));\r\n                if (is != null) {\r\n                    while((str = br.readLine())!= null) {\r\n                        buf.append(str).append(&quot;\\n&quot;);\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    is.close();\r\n                } catch (Throwable ignore){}\r\n            }\r\n            return buf.toString();\r\n        }\r\n    }\r\n\r\nAnd 4 asset files each with a simple table create (all the same except for table1,2,3 and 4) e.g. `CREATE TABLE IF NOT EXISTS table1 (id INTEGER PRIMARY KEY, c1 TEXT);`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd the following Activity code:-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        MapleDBHelper _MDB;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            _MDB = MapleDBHelper.getInstance(this);\r\n            Cursor csr = _MDB.getWritableDatabase().query(&quot;sqlite_master&quot;,null,null,null,null,null,null,null);\r\n            DatabaseUtils.dumpCursor(csr);\r\n            csr.close();\r\n        }\r\n    }\r\n\r\nWhen run then the log shows the schema (sqlite_master) as:-\r\n\r\n    2023-10-09 19:02:15.585 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@d598771\r\n    2023-10-09 19:02:15.586 I/System.out: 0 {\r\n    2023-10-09 19:02:15.586 I/System.out:    type=table\r\n    2023-10-09 19:02:15.586 I/System.out:    name=android_metadata\r\n    2023-10-09 19:02:15.586 I/System.out:    tbl_name=android_metadata\r\n    2023-10-09 19:02:15.586 I/System.out:    rootpage=3\r\n    2023-10-09 19:02:15.586 I/System.out:    sql=CREATE TABLE android_metadata (locale TEXT)\r\n    2023-10-09 19:02:15.586 I/System.out: }\r\n    2023-10-09 19:02:15.586 I/System.out: 1 {\r\n    2023-10-09 19:02:15.586 I/System.out:    type=table\r\n    2023-10-09 19:02:15.586 I/System.out:    name=table1\r\n    2023-10-09 19:02:15.586 I/System.out:    tbl_name=table1\r\n    2023-10-09 19:02:15.587 I/System.out:    rootpage=4\r\n    2023-10-09 19:02:15.587 I/System.out:    sql=CREATE TABLE table1 (id INTEGER PRIMARY KEY, c1 TEXT)\r\n    2023-10-09 19:02:15.587 I/System.out: }\r\n    2023-10-09 19:02:15.587 I/System.out: 2 {\r\n    2023-10-09 19:02:15.587 I/System.out:    type=table\r\n    2023-10-09 19:02:15.587 I/System.out:    name=table2\r\n    2023-10-09 19:02:15.587 I/System.out:    tbl_name=table2\r\n    2023-10-09 19:02:15.587 I/System.out:    rootpage=5\r\n    2023-10-09 19:02:15.587 I/System.out:    sql=CREATE TABLE table2 (id INTEGER PRIMARY KEY, c1 TEXT)\r\n    2023-10-09 19:02:15.587 I/System.out: }\r\n    2023-10-09 19:02:15.587 I/System.out: 3 {\r\n    2023-10-09 19:02:15.587 I/System.out:    type=table\r\n    2023-10-09 19:02:15.588 I/System.out:    name=table3\r\n    2023-10-09 19:02:15.588 I/System.out:    tbl_name=table3\r\n    2023-10-09 19:02:15.588 I/System.out:    rootpage=6\r\n    2023-10-09 19:02:15.588 I/System.out:    sql=CREATE TABLE table3 (id INTEGER PRIMARY KEY, c1 TEXT)\r\n    2023-10-09 19:02:15.588 I/System.out: }\r\n    2023-10-09 19:02:15.588 I/System.out: 4 {\r\n    2023-10-09 19:02:15.588 I/System.out:    type=table\r\n    2023-10-09 19:02:15.588 I/System.out:    name=table4\r\n    2023-10-09 19:02:15.588 I/System.out:    tbl_name=table4\r\n    2023-10-09 19:02:15.588 I/System.out:    rootpage=7\r\n    2023-10-09 19:02:15.588 I/System.out:    sql=CREATE TABLE table4 (id INTEGER PRIMARY KEY, c1 TEXT)\r\n    2023-10-09 19:02:15.589 I/System.out: }\r\n    2023-10-09 19:02:15.589 I/System.out: &lt;&lt;&lt;&lt;&lt;\r\n\r\ni.e. android_metadata table and the 4 tables as created from the 4 assets.\r\n\r\nAnd App Inspection showing:-\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YKDCD.png\r\n  [2]: https://i.stack.imgur.com/rvi7Y.png","title":"SQLite on Android: android.database.sqlite.SQLiteReadOnlyDatabaseException: attempt to write a readonly database (code 1032 SQLITE_READONLY_DBMOVED)","body":"<p>You are deleting the database, you should not.</p>\n<p>When the <code>onCreate</code> method is called(invoked), the actual database (empty apart from sqlite_master and android_metadata) has been created. So it will exist, so you are always deleting it and not creating it (which if you did would not be pointed to anyway as it would be another file handle).</p>\n<p>If you look at onCreate's parameters, it has the database passed to it.</p>\n<p>Remove the block of code:-</p>\n<pre><code>    if (databaseFile.exists()) {\n        // Delete the existing database file\n        SQLiteDatabase.deleteDatabase(databaseFile);\n    }\n</code></pre>\n<ul>\n<li>The database will always exist\n<ul>\n<li>it will have no tables other than sqlite_master (the schema which will only have android_metedata) and android_metadata (this being an API generated table that stores the locale).</li>\n</ul>\n</li>\n<li>Deleting the database or the file (same thing really) will result in issues as the file handle (terminology may not be correct but means whatever points to the file) will no longer be valid.</li>\n</ul>\n<p>Using your code, with the <code>convertInputStreamToString</code> method included in the Helper, and the suggested commenting out the of delete as per:-</p>\n<pre><code>public class MapleDBHelper extends SQLiteOpenHelper {\n    public Context context;\n    private static final String DATABASE_NAME = &quot;cosmic&quot;;\n    private static final int DATABASE_VERSION = 1;\n    private static MapleDBHelper sInstance;\n    private MapleDBHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        this.context = context;\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        File databaseFile = context.getDatabasePath(DATABASE_NAME);\n        if (databaseFile.exists()) {\n            // Delete the existing database file\n            //SQLiteDatabase.deleteDatabase(databaseFile);\n        }\n\n        try {\n            AssetManager assetManager = context.getAssets();\n            InputStream db_database = assetManager.open(&quot;sql/1_db_database.sql&quot;);\n            InputStream db_drops = assetManager.open(&quot;sql/2_db_drops.sql&quot;);\n            InputStream db_shopupdate = assetManager.open(&quot;sql/3_db_shopupdate.sql&quot;);\n            InputStream db_admin = assetManager.open(&quot;sql/4_db-admin.sql&quot;);\n            db.execSQL(convertInputStreamToString(db_database));\n            db.execSQL(convertInputStreamToString(db_drops));\n            db.execSQL(convertInputStreamToString(db_shopupdate));\n            db.execSQL(convertInputStreamToString(db_admin));\n\n            db_database.close();\n            db_drops.close();\n            db_shopupdate.close();\n            db_admin.close();\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(&quot;Could not read database file : &quot; + e.getMessage());\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Could not successfully parse database file &quot; + e.getMessage());\n        }\n    }\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    }\n\n    public static synchronized MapleDBHelper getInstance(Context context) {\n        if (sInstance == null) {\n            sInstance = new MapleDBHelper(context.getApplicationContext());\n        }\n        return sInstance;\n    }\n    private String convertInputStreamToString(InputStream is) {\n        String str = &quot;&quot;;\n        StringBuffer buf = new StringBuffer();\n        try {\n            BufferedReader br = new BufferedReader(new InputStreamReader(is));\n            if (is != null) {\n                while((str = br.readLine())!= null) {\n                    buf.append(str).append(&quot;\\n&quot;);\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                is.close();\n            } catch (Throwable ignore){}\n        }\n        return buf.toString();\n    }\n}\n</code></pre>\n<p>And 4 asset files each with a simple table create (all the same except for table1,2,3 and 4) e.g. <code>CREATE TABLE IF NOT EXISTS table1 (id INTEGER PRIMARY KEY, c1 TEXT);</code></p>\n<p><a href=\"https://i.stack.imgur.com/YKDCD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YKDCD.png\" alt=\"enter image description here\" /></a></p>\n<p>And the following Activity code:-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    MapleDBHelper _MDB;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        _MDB = MapleDBHelper.getInstance(this);\n        Cursor csr = _MDB.getWritableDatabase().query(&quot;sqlite_master&quot;,null,null,null,null,null,null,null);\n        DatabaseUtils.dumpCursor(csr);\n        csr.close();\n    }\n}\n</code></pre>\n<p>When run then the log shows the schema (sqlite_master) as:-</p>\n<pre><code>2023-10-09 19:02:15.585 I/System.out: &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@d598771\n2023-10-09 19:02:15.586 I/System.out: 0 {\n2023-10-09 19:02:15.586 I/System.out:    type=table\n2023-10-09 19:02:15.586 I/System.out:    name=android_metadata\n2023-10-09 19:02:15.586 I/System.out:    tbl_name=android_metadata\n2023-10-09 19:02:15.586 I/System.out:    rootpage=3\n2023-10-09 19:02:15.586 I/System.out:    sql=CREATE TABLE android_metadata (locale TEXT)\n2023-10-09 19:02:15.586 I/System.out: }\n2023-10-09 19:02:15.586 I/System.out: 1 {\n2023-10-09 19:02:15.586 I/System.out:    type=table\n2023-10-09 19:02:15.586 I/System.out:    name=table1\n2023-10-09 19:02:15.586 I/System.out:    tbl_name=table1\n2023-10-09 19:02:15.587 I/System.out:    rootpage=4\n2023-10-09 19:02:15.587 I/System.out:    sql=CREATE TABLE table1 (id INTEGER PRIMARY KEY, c1 TEXT)\n2023-10-09 19:02:15.587 I/System.out: }\n2023-10-09 19:02:15.587 I/System.out: 2 {\n2023-10-09 19:02:15.587 I/System.out:    type=table\n2023-10-09 19:02:15.587 I/System.out:    name=table2\n2023-10-09 19:02:15.587 I/System.out:    tbl_name=table2\n2023-10-09 19:02:15.587 I/System.out:    rootpage=5\n2023-10-09 19:02:15.587 I/System.out:    sql=CREATE TABLE table2 (id INTEGER PRIMARY KEY, c1 TEXT)\n2023-10-09 19:02:15.587 I/System.out: }\n2023-10-09 19:02:15.587 I/System.out: 3 {\n2023-10-09 19:02:15.587 I/System.out:    type=table\n2023-10-09 19:02:15.588 I/System.out:    name=table3\n2023-10-09 19:02:15.588 I/System.out:    tbl_name=table3\n2023-10-09 19:02:15.588 I/System.out:    rootpage=6\n2023-10-09 19:02:15.588 I/System.out:    sql=CREATE TABLE table3 (id INTEGER PRIMARY KEY, c1 TEXT)\n2023-10-09 19:02:15.588 I/System.out: }\n2023-10-09 19:02:15.588 I/System.out: 4 {\n2023-10-09 19:02:15.588 I/System.out:    type=table\n2023-10-09 19:02:15.588 I/System.out:    name=table4\n2023-10-09 19:02:15.588 I/System.out:    tbl_name=table4\n2023-10-09 19:02:15.588 I/System.out:    rootpage=7\n2023-10-09 19:02:15.588 I/System.out:    sql=CREATE TABLE table4 (id INTEGER PRIMARY KEY, c1 TEXT)\n2023-10-09 19:02:15.589 I/System.out: }\n2023-10-09 19:02:15.589 I/System.out: &lt;&lt;&lt;&lt;&lt;\n</code></pre>\n<p>i.e. android_metadata table and the 4 tables as created from the 4 assets.</p>\n<p>And App Inspection showing:-</p>\n<p><a href=\"https://i.stack.imgur.com/rvi7Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rvi7Y.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5687604,"reputation":69,"user_id":4496638,"accept_rate":40,"display_name":"k0ala Xing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77255678,"answer_count":1,"score":1,"last_activity_date":1696839071,"creation_date":1696758320,"question_id":77253091,"body_markdown":"I&#39;m trying to migrate a Java project to android with SQLite, when instantiate a new MapleDBHelper class, I got following exception: \r\n\r\n**attempt to write a readonly database (code 1032 SQLITE_READONLY_DBMOVED)**\r\n\r\nI searched on the Internet but got no clue, what cloud be the reason ?\r\n\r\n**Code:**\r\n\r\n```\r\ntry (MapleDBHelper mapledb = MapleDBHelper.getInstance(this.context);\r\n     SQLiteDatabase db = mapledb.getWritableDatabase()) {\r\n     // Code Modifying DB\r\n} catch (SQLiteException sqle) {\r\n    Log.e(&quot;Failed to run all startup-bound database tasks&quot;, sqle.toString());\r\n    throw new IllegalStateException(sqle);\r\n}\r\n```\r\n\r\n**DBHelper Class:** \r\n\r\n```\r\npublic class MapleDBHelper extends SQLiteOpenHelper {\r\n    public Context context;\r\n    private static final String DATABASE_NAME = &quot;cosmic&quot;;\r\n    private static final int DATABASE_VERSION = 1;\r\n    private static MapleDBHelper sInstance;\r\n    private MapleDBHelper(Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n        this.context = context;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        File databaseFile = context.getDatabasePath(DATABASE_NAME);\r\n        if (databaseFile.exists()) {\r\n            // Delete the existing database file\r\n            SQLiteDatabase.deleteDatabase(databaseFile);\r\n        }\r\n\r\n        try {\r\n            AssetManager assetManager = context.getAssets();\r\n            InputStream db_database = assetManager.open(&quot;sql/1_db_database.sql&quot;);\r\n            InputStream db_drops = assetManager.open(&quot;sql/2_db_drops.sql&quot;);\r\n            InputStream db_shopupdate = assetManager.open(&quot;sql/3_db_shopupdate.sql&quot;);\r\n            InputStream db_admin = assetManager.open(&quot;sql/4_db-admin.sql&quot;);\r\n            db.execSQL(convertInputStreamToString(db_database));\r\n            db.execSQL(convertInputStreamToString(db_drops));\r\n            db.execSQL(convertInputStreamToString(db_shopupdate));\r\n            db.execSQL(convertInputStreamToString(db_admin));\r\n\r\n            db_database.close();\r\n            db_drops.close();\r\n            db_shopupdate.close();\r\n            db_admin.close();\r\n        } catch (FileNotFoundException e) {\r\n            throw new RuntimeException(&quot;Could not read database file : &quot; + e.getMessage());\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;Could not successfully parse database file &quot; + e.getMessage());\r\n        }\r\n    }\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n    }\r\n\r\n    public static synchronized MapleDBHelper getInstance(Context context) {\r\n        if (sInstance == null) {\r\n            sInstance = new MapleDBHelper(context.getApplicationContext());\r\n        }\r\n        return sInstance;\r\n    }\r\n}\r\n```\r\n```\r\nStacktrace:\r\n0 = {StackTraceElement@17117} &quot;android.database.sqlite.SQLiteConnection.nativeExecuteForChangedRowCount(Native Method)&quot;\r\n1 = {StackTraceElement@17118} &quot;android.database.sqlite.SQLiteConnection.executeForChangedRowCount(SQLiteConnection.java:890)&quot;\r\n2 = {StackTraceElement@17119} &quot;android.database.sqlite.SQLiteSession.executeForChangedRowCount(SQLiteSession.java:756)&quot;\r\n3 = {StackTraceElement@17120} &quot;android.database.sqlite.SQLiteStatement.executeUpdateDelete(SQLiteStatement.java:66)&quot;\r\n4 = {StackTraceElement@17121} &quot;android.database.sqlite.SQLiteDatabase.executeSql(SQLiteDatabase.java:1920)&quot;\r\n5 = {StackTraceElement@17122} &quot;android.database.sqlite.SQLiteDatabase.execSQL(SQLiteDatabase.java:1841)&quot;\r\n6 = {StackTraceElement@17123} &quot;android.database.sqlite.SQLiteDatabase.setVersion(SQLiteDatabase.java:1102)&quot;\r\n7 = {StackTraceElement@17124} &quot;android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:419)&quot;\r\n8 = {StackTraceElement@17125} &quot;android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:316)&quot;\r\n9 = {StackTraceElement@17126} &quot;net.server.Server.init(Server.java:897)&quot;\r\n10 = {StackTraceElement@17127} &quot;net.server.Server.main(Server.java:1017)&quot;\r\n11 = {StackTraceElement@17128} &quot;com.mapleserver.MainActivity.startMapleServer(MainActivity.kt:34)&quot;\r\n12 = {StackTraceElement@17129} &quot;com.mapleserver.MainActivity.onCreate(MainActivity.kt:28)&quot;\r\n```","title":"SQLite on Android: android.database.sqlite.SQLiteReadOnlyDatabaseException: attempt to write a readonly database (code 1032 SQLITE_READONLY_DBMOVED)","body":"<p>I'm trying to migrate a Java project to android with SQLite, when instantiate a new MapleDBHelper class, I got following exception:</p>\n<p><strong>attempt to write a readonly database (code 1032 SQLITE_READONLY_DBMOVED)</strong></p>\n<p>I searched on the Internet but got no clue, what cloud be the reason ?</p>\n<p><strong>Code:</strong></p>\n<pre><code>try (MapleDBHelper mapledb = MapleDBHelper.getInstance(this.context);\n     SQLiteDatabase db = mapledb.getWritableDatabase()) {\n     // Code Modifying DB\n} catch (SQLiteException sqle) {\n    Log.e(&quot;Failed to run all startup-bound database tasks&quot;, sqle.toString());\n    throw new IllegalStateException(sqle);\n}\n</code></pre>\n<p><strong>DBHelper Class:</strong></p>\n<pre><code>public class MapleDBHelper extends SQLiteOpenHelper {\n    public Context context;\n    private static final String DATABASE_NAME = &quot;cosmic&quot;;\n    private static final int DATABASE_VERSION = 1;\n    private static MapleDBHelper sInstance;\n    private MapleDBHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        this.context = context;\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        File databaseFile = context.getDatabasePath(DATABASE_NAME);\n        if (databaseFile.exists()) {\n            // Delete the existing database file\n            SQLiteDatabase.deleteDatabase(databaseFile);\n        }\n\n        try {\n            AssetManager assetManager = context.getAssets();\n            InputStream db_database = assetManager.open(&quot;sql/1_db_database.sql&quot;);\n            InputStream db_drops = assetManager.open(&quot;sql/2_db_drops.sql&quot;);\n            InputStream db_shopupdate = assetManager.open(&quot;sql/3_db_shopupdate.sql&quot;);\n            InputStream db_admin = assetManager.open(&quot;sql/4_db-admin.sql&quot;);\n            db.execSQL(convertInputStreamToString(db_database));\n            db.execSQL(convertInputStreamToString(db_drops));\n            db.execSQL(convertInputStreamToString(db_shopupdate));\n            db.execSQL(convertInputStreamToString(db_admin));\n\n            db_database.close();\n            db_drops.close();\n            db_shopupdate.close();\n            db_admin.close();\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(&quot;Could not read database file : &quot; + e.getMessage());\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Could not successfully parse database file &quot; + e.getMessage());\n        }\n    }\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    }\n\n    public static synchronized MapleDBHelper getInstance(Context context) {\n        if (sInstance == null) {\n            sInstance = new MapleDBHelper(context.getApplicationContext());\n        }\n        return sInstance;\n    }\n}\n</code></pre>\n<pre><code>Stacktrace:\n0 = {StackTraceElement@17117} &quot;android.database.sqlite.SQLiteConnection.nativeExecuteForChangedRowCount(Native Method)&quot;\n1 = {StackTraceElement@17118} &quot;android.database.sqlite.SQLiteConnection.executeForChangedRowCount(SQLiteConnection.java:890)&quot;\n2 = {StackTraceElement@17119} &quot;android.database.sqlite.SQLiteSession.executeForChangedRowCount(SQLiteSession.java:756)&quot;\n3 = {StackTraceElement@17120} &quot;android.database.sqlite.SQLiteStatement.executeUpdateDelete(SQLiteStatement.java:66)&quot;\n4 = {StackTraceElement@17121} &quot;android.database.sqlite.SQLiteDatabase.executeSql(SQLiteDatabase.java:1920)&quot;\n5 = {StackTraceElement@17122} &quot;android.database.sqlite.SQLiteDatabase.execSQL(SQLiteDatabase.java:1841)&quot;\n6 = {StackTraceElement@17123} &quot;android.database.sqlite.SQLiteDatabase.setVersion(SQLiteDatabase.java:1102)&quot;\n7 = {StackTraceElement@17124} &quot;android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:419)&quot;\n8 = {StackTraceElement@17125} &quot;android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:316)&quot;\n9 = {StackTraceElement@17126} &quot;net.server.Server.init(Server.java:897)&quot;\n10 = {StackTraceElement@17127} &quot;net.server.Server.main(Server.java:1017)&quot;\n11 = {StackTraceElement@17128} &quot;com.mapleserver.MainActivity.startMapleServer(MainActivity.kt:34)&quot;\n12 = {StackTraceElement@17129} &quot;com.mapleserver.MainActivity.onCreate(MainActivity.kt:28)&quot;\n</code></pre>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":906628,"reputation":1933,"user_id":980828,"accept_rate":71,"display_name":"LEQADA"},"score":0,"creation_date":1466904631,"post_id":38032379,"comment_id":63508967,"body_markdown":"Your code is working well. I think it is a problem with mongodb. Try to stop and start it again. Is there any error?","body":"Your code is working well. I think it is a problem with mongodb. Try to stop and start it again. Is there any error?"},{"owner":{"account_id":8702201,"reputation":31,"user_id":6511625,"display_name":"Jonathan Qu"},"score":0,"creation_date":1466910505,"post_id":38032379,"comment_id":63509735,"body_markdown":"This error keeps repeating... So before executing I first started the Mongodb in command line. Is this the only thing to do?\nOr it might possibly be a installation problem since I basically dragged every Mongodb driver file into the project directory because I can&#39;t get the maven to work.","body":"This error keeps repeating... So before executing I first started the Mongodb in command line. Is this the only thing to do? Or it might possibly be a installation problem since I basically dragged every Mongodb driver file into the project directory because I can&#39;t get the maven to work."},{"owner":{"account_id":8702201,"reputation":31,"user_id":6511625,"display_name":"Jonathan Qu"},"score":0,"creation_date":1466915368,"post_id":38032379,"comment_id":63510365,"body_markdown":"I changed the installation method: imported .jar files into project structure/modules. Yet this bug is still happening","body":"I changed the installation method: imported .jar files into project structure/modules. Yet this bug is still happening"},{"owner":{"account_id":906628,"reputation":1933,"user_id":980828,"accept_rate":71,"display_name":"LEQADA"},"score":0,"creation_date":1466969583,"post_id":38032379,"comment_id":63524724,"body_markdown":"Can you describe step-by-step how you installed MongoDB, how you included mongodb java libraries to your project and how you compiled it?","body":"Can you describe step-by-step how you installed MongoDB, how you included mongodb java libraries to your project and how you compiled it?"}],"answers":[{"tags":[],"owner":{"account_id":1709322,"reputation":2168,"user_id":1567678,"accept_rate":60,"display_name":"Aditya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489490335,"creation_date":1489490335,"answer_id":42784567,"question_id":38032379,"body_markdown":"The ReadPreferenceServerSelector is used internally when firing requests to Mongo. In your scenario, you do not need to go into that detail.\r\n\r\nThe error of importance to me is this. The linked answer describes why this error might be coming. But it should not be repeating on multiple attempts.\r\n\r\n&gt; [Software caused connection abort: socket write error][1]\r\n\r\n1. Can you check if mongo is running on the port 27017 and is accessible via command line ?\r\n2. Simply using the mongo-java-driver should be sufficient for your to run a test like this. Just make sure the jar version matches the installed mongodb version. A better idea would be to use something like maven as described in this [tutorial][2].\r\n\r\nPlease post if the error persists after trying these things.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2126607/official-reasons-for-software-caused-connection-abort-socket-write-error\r\n  [2]: http://www.mkyong.com/mongodb/java-mongodb-hello-world-example/","title":"How to solve error: No server chosen by ReadPreferenceServerSelector","body":"<p>The ReadPreferenceServerSelector is used internally when firing requests to Mongo. In your scenario, you do not need to go into that detail.</p>\n\n<p>The error of importance to me is this. The linked answer describes why this error might be coming. But it should not be repeating on multiple attempts.</p>\n\n<blockquote>\n  <p><a href=\"https://stackoverflow.com/questions/2126607/official-reasons-for-software-caused-connection-abort-socket-write-error\">Software caused connection abort: socket write error</a></p>\n</blockquote>\n\n<ol>\n<li>Can you check if mongo is running on the port 27017 and is accessible via command line ?</li>\n<li>Simply using the mongo-java-driver should be sufficient for your to run a test like this. Just make sure the jar version matches the installed mongodb version. A better idea would be to use something like maven as described in this <a href=\"http://www.mkyong.com/mongodb/java-mongodb-hello-world-example/\" rel=\"nofollow noreferrer\">tutorial</a>.</li>\n</ol>\n\n<p>Please post if the error persists after trying these things.</p>\n"}],"owner":{"account_id":8702201,"reputation":31,"user_id":6511625,"display_name":"Jonathan Qu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10387,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1696838810,"creation_date":1466884300,"question_id":38032379,"body_markdown":"I&#39;m very new to Java and MongoDB (or any databases) and I have been building this Java program to test the connection. It&#39;s supposed to just simply establish the connection and list all existing database names.\r\n\r\n    import com.mongodb.MongoClient;\r\n\r\n    import com.mongodb.client.MongoCursor;\r\n\r\n    public class test {\r\n        public static void main(String[] args) {\r\n            try{\r\n                MongoClient mongoClient = new MongoClient( &quot;localhost&quot; , 27017 );\r\n\r\n                MongoCursor&lt;String&gt; dbsCursor = mongoClient.listDatabaseNames().iterator();\r\n                while(dbsCursor.hasNext()) {\r\n                    System.out.println(dbsCursor.next());\r\n                }\r\n\r\n            }catch(Exception e){\r\n                System.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\r\n            }\r\n        }\r\n    }\r\n\r\nThe MongoDB server is already started. However, when I run this app, it shows errors like these\r\n\r\n    Jun 25, 2016 3:35:06 PM com.mongodb.diagnostics.logging.JULLogger log\r\n    INFO: Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout=&#39;30000 ms&#39;, maxWaitQueueSize=500}\r\n    Jun 25, 2016 3:35:06 PM com.mongodb.diagnostics.logging.JULLogger log\r\n    INFO: No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, all=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out\r\n    Jun 25, 2016 3:35:06 PM com.mongodb.diagnostics.logging.JULLogger log\r\n    INFO: Exception in monitor thread while connecting to server localhost:27017\r\n    com.mongodb.MongoSocketWriteException: Exception sending message\r\n        at com.mongodb.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:462)\r\n        at com.mongodb.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:205)\r\n        at com.mongodb.connection.CommandHelper.sendMessage(CommandHelper.java:89)\r\n        at com.mongodb.connection.CommandHelper.executeCommand(CommandHelper.java:32)\r\n        at com.mongodb.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:83)\r\n        at com.mongodb.connection.InternalStreamConnectionInitializer.initialize(InternalStreamConnectionInitializer.java:43)\r\n        at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:115)\r\n        at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:128)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.net.SocketException: Software caused connection abort: socket write error\r\n        at java.net.SocketOutputStream.socketWrite0(Native Method)\r\n        at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:109)\r\n\t    at java.net.SocketOutputStream.write(SocketOutputStream.java:153)\r\n\t    at com.mongodb.connection.SocketStream.write(SocketStream.java:75)\r\n\t    at        com.mongodb.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:201)\r\n\t... 7 more\r\n\r\n    com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketWriteException: Exception sending message}, caused by {java.net.SocketException: Software caused connection abort: socket write error}}]\r\n\r\n    Process finished with exit code 0\r\n\r\nWhat could these mean?  Am I suppose to set ReadPreferenceServerSelector? But I can&#39;t find any related documents online. ","title":"How to solve error: No server chosen by ReadPreferenceServerSelector","body":"<p>I'm very new to Java and MongoDB (or any databases) and I have been building this Java program to test the connection. It's supposed to just simply establish the connection and list all existing database names.</p>\n<pre><code>import com.mongodb.MongoClient;\n\nimport com.mongodb.client.MongoCursor;\n\npublic class test {\n    public static void main(String[] args) {\n        try{\n            MongoClient mongoClient = new MongoClient( &quot;localhost&quot; , 27017 );\n\n            MongoCursor&lt;String&gt; dbsCursor = mongoClient.listDatabaseNames().iterator();\n            while(dbsCursor.hasNext()) {\n                System.out.println(dbsCursor.next());\n            }\n\n        }catch(Exception e){\n            System.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\n        }\n    }\n}\n</code></pre>\n<p>The MongoDB server is already started. However, when I run this app, it shows errors like these</p>\n<pre><code>Jun 25, 2016 3:35:06 PM com.mongodb.diagnostics.logging.JULLogger log\nINFO: Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}\nJun 25, 2016 3:35:06 PM com.mongodb.diagnostics.logging.JULLogger log\nINFO: No server chosen by ReadPreferenceServerSelector{readPreference=primary} from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, all=[ServerDescription{address=localhost:27017, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out\nJun 25, 2016 3:35:06 PM com.mongodb.diagnostics.logging.JULLogger log\nINFO: Exception in monitor thread while connecting to server localhost:27017\ncom.mongodb.MongoSocketWriteException: Exception sending message\n    at com.mongodb.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:462)\n    at com.mongodb.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:205)\n    at com.mongodb.connection.CommandHelper.sendMessage(CommandHelper.java:89)\n    at com.mongodb.connection.CommandHelper.executeCommand(CommandHelper.java:32)\n    at com.mongodb.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:83)\n    at com.mongodb.connection.InternalStreamConnectionInitializer.initialize(InternalStreamConnectionInitializer.java:43)\n    at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:115)\n    at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:128)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.net.SocketException: Software caused connection abort: socket write error\n    at java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:109)\n    at java.net.SocketOutputStream.write(SocketOutputStream.java:153)\n    at com.mongodb.connection.SocketStream.write(SocketStream.java:75)\n    at        com.mongodb.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:201)\n... 7 more\n\ncom.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches ReadPreferenceServerSelector{readPreference=primary}. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketWriteException: Exception sending message}, caused by {java.net.SocketException: Software caused connection abort: socket write error}}]\n\nProcess finished with exit code 0\n</code></pre>\n<p>What could these mean?  Am I suppose to set ReadPreferenceServerSelector? But I can't find any related documents online.</p>\n"},{"tags":["java","selenium-webdriver","selenium-grid","lambdatest"],"answers":[{"tags":[],"owner":{"account_id":29612929,"reputation":1,"user_id":22695742,"display_name":"Lambdatest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696838382,"creation_date":1696830858,"answer_id":77256506,"question_id":75648969,"body_markdown":"Check whether the downloaded file exists in the test machine.\r\n```\r\n((JavascriptExecutor) driver).executeScript(&quot;lambda-file-exists=file-name.file_format&quot;);\r\n```\r\n\r\nList down the file in the download directory.\r\n```\r\nprint driver.execute_script(&quot;lambda-file-list={match string with filename}&quot;);\r\n```\r\nie:\r\n```\r\ndriver.execute_script(&quot;lambda-file-list=sample&quot;)\r\n```\r\nResponse: List of files in downloads dir starting with sample","title":"How to use lambda-file-exists validation when not knowing the file name","body":"<p>Check whether the downloaded file exists in the test machine.</p>\n<pre><code>((JavascriptExecutor) driver).executeScript(&quot;lambda-file-exists=file-name.file_format&quot;);\n</code></pre>\n<p>List down the file in the download directory.</p>\n<pre><code>print driver.execute_script(&quot;lambda-file-list={match string with filename}&quot;);\n</code></pre>\n<p>ie:</p>\n<pre><code>driver.execute_script(&quot;lambda-file-list=sample&quot;)\n</code></pre>\n<p>Response: List of files in downloads dir starting with sample</p>\n"}],"owner":{"account_id":15468908,"reputation":163,"user_id":11159536,"display_name":"drkvader"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696838382,"creation_date":1678094177,"question_id":75648969,"body_markdown":"Im creating an automation testing using Selenium+Lambda and have to validade if a file is downloaded.\r\n\r\nI found the following solution in lambda support page\r\nhttps://www.lambdatest.com/support/docs/download-files-using-lambdatest-selenium-grid/\r\n\r\nIndeed i implemented the following and worked, my test its validating if a file is downloaded or not.\r\n&quot;**Assert.assertEquals(((JavascriptExecutor) driver).executeScript(&quot;lambda-file-exists=myw3schoolsimage.jpg&quot;), true);**&quot;\r\n\r\nThe problem is.. i had to pass the file name hardcoded in that command, and that wont work for my scenarios as my files have dinamic names.\r\n\r\nThere is a way handle it?\r\n\r\nThanks!","title":"How to use lambda-file-exists validation when not knowing the file name","body":"<p>Im creating an automation testing using Selenium+Lambda and have to validade if a file is downloaded.</p>\n<p>I found the following solution in lambda support page\n<a href=\"https://www.lambdatest.com/support/docs/download-files-using-lambdatest-selenium-grid/\" rel=\"nofollow noreferrer\">https://www.lambdatest.com/support/docs/download-files-using-lambdatest-selenium-grid/</a></p>\n<p>Indeed i implemented the following and worked, my test its validating if a file is downloaded or not.\n&quot;<strong>Assert.assertEquals(((JavascriptExecutor) driver).executeScript(&quot;lambda-file-exists=myw3schoolsimage.jpg&quot;), true);</strong>&quot;</p>\n<p>The problem is.. i had to pass the file name hardcoded in that command, and that wont work for my scenarios as my files have dinamic names.</p>\n<p>There is a way handle it?</p>\n<p>Thanks!</p>\n"},{"tags":["java","hibernate-envers"],"answers":[{"tags":[],"owner":{"account_id":793,"reputation":24042,"user_id":1035,"accept_rate":92,"display_name":"GaryF"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1696838015,"creation_date":1300189786,"answer_id":5311266,"question_id":5310808,"body_markdown":"Yes, if you annotate a given entity with `@AuditTable` you can specify the table that should be used. I don&#39;t think you can specify a global naming strategy to use.","title":"envers audit table name","body":"<p>Yes, if you annotate a given entity with <code>@AuditTable</code> you can specify the table that should be used. I don't think you can specify a global naming strategy to use.</p>\n"},{"tags":[],"owner":{"account_id":360251,"reputation":31,"user_id":702147,"display_name":"akokov"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1302525090,"creation_date":1302525090,"answer_id":5621293,"question_id":5310808,"body_markdown":"use configuration http://docs.jboss.org/envers/docs/index.html#configuration and you&#39;ve got custom prefix or suffix for audited tables","title":"envers audit table name","body":"<p>use configuration <a href=\"http://docs.jboss.org/envers/docs/index.html#configuration\" rel=\"nofollow\">http://docs.jboss.org/envers/docs/index.html#configuration</a> and you've got custom prefix or suffix for audited tables</p>\n"}],"owner":{"account_id":702440,"reputation":543,"user_id":596699,"accept_rate":44,"display_name":"parbi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9046,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":5311266,"answer_count":2,"score":1,"last_activity_date":1696838015,"creation_date":1300187280,"question_id":5310808,"body_markdown":"I have kind of naive question related to envers. Can we name a audit table to something other then the default one, i.e., TableName_AUD and ya not just Prefix or suffix, full name.","title":"envers audit table name","body":"<p>I have kind of naive question related to envers. Can we name a audit table to something other then the default one, i.e., TableName_AUD and ya not just Prefix or suffix, full name.</p>\n"},{"tags":["java","spring","spring-boot","maven","aws-lambda"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696841882,"post_id":77255151,"comment_id":136199811,"body_markdown":"No, it seems your *unzipped data* is too large: &quot;Unzipped size must be smaller than 262144000 bytes&quot;.","body":"No, it seems your <i>unzipped data</i> is too large: &quot;Unzipped size must be smaller than 262144000 bytes&quot;."}],"answers":[{"comments":[{"owner":{"account_id":26429220,"reputation":344,"user_id":20075659,"display_name":"Siyum"},"score":1,"creation_date":1696858527,"post_id":77257078,"comment_id":136203024,"body_markdown":"Yeah, I wanted to use S3 for the service. I removed whole SDK and insert only the S3 SDK.","body":"Yeah, I wanted to use S3 for the service. I removed whole SDK and insert only the S3 SDK."}],"tags":[],"owner":{"account_id":15870243,"reputation":703,"user_id":11451116,"display_name":"Sat21343"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1696837968,"creation_date":1696837968,"answer_id":77257078,"question_id":77255151,"body_markdown":"Lambda quotas:\r\n\r\nDeployment package (.zip file archive) size\r\n\r\n 1. 50 MB (zipped, for direct upload)\r\n 2. 250 MB (unzipped)\r\n\r\nSolutions: \r\n 1. Please ensure you are zipping only the executable jar file under `target/` folder.\r\n 2. Reduce the dependent packages, for example &quot;aws-sdk&quot; package size is around 11MB. For reducing the size please exclude the unnecessary package. \r\nhttps://stackoverflow.com/questions/22043166/aws-sdk-very-big-11mb-i-want-to-use-only-the-simpledb-service\r\n 3. If above solutions doesn&#39;t resolve your issue.Then, Containerise the java application and deploy it to lambda. Allowed image size is 10GB.\r\n https://docs.aws.amazon.com/lambda/latest/dg/java-image.html#java-image-instructions","title":"Zip File too large to upload lambda","body":"<p>Lambda quotas:</p>\n<p>Deployment package (.zip file archive) size</p>\n<ol>\n<li>50 MB (zipped, for direct upload)</li>\n<li>250 MB (unzipped)</li>\n</ol>\n<p>Solutions:</p>\n<ol>\n<li>Please ensure you are zipping only the executable jar file under <code>target/</code> folder.</li>\n<li>Reduce the dependent packages, for example &quot;aws-sdk&quot; package size is around 11MB. For reducing the size please exclude the unnecessary package.\n<a href=\"https://stackoverflow.com/questions/22043166/aws-sdk-very-big-11mb-i-want-to-use-only-the-simpledb-service\">AWS SDK - very big - 11MB. I want to use only the SimpleDB service</a></li>\n<li>If above solutions doesn't resolve your issue.Then, Containerise the java application and deploy it to lambda. Allowed image size is 10GB.\n<a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-image.html#java-image-instructions\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/java-image.html#java-image-instructions</a></li>\n</ol>\n"}],"owner":{"account_id":26429220,"reputation":344,"user_id":20075659,"display_name":"Siyum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77257078,"answer_count":1,"score":-2,"last_activity_date":1696837968,"creation_date":1696795366,"question_id":77255151,"body_markdown":"I am trying to deploy a reactive web application to lambda. I am using terraform and aws SDK for development.\r\n\r\nWhen I tried to mvn package and terraform apply I got the following error.\r\n\r\n&gt; ╷ │ Error: updating Lambda Function (next_travel_Products_BE) code:\r\n&gt; operation error Lambda: UpdateFunctionCode, https response error\r\n&gt; StatusCode: 400, RequestID: 97ac5a23-12ea-4d5b-b868-82f6f3b65db1,\r\n&gt; InvalidParameterValueException: Unzipped size must be smaller than\r\n&gt; 262144000 bytes │  │   with aws_lambda_function.guideserviceFunction,\r\n&gt; │   on main.tf line 92, in resource &quot;aws_lambda_function&quot;\r\n&gt; &quot;guideserviceFunction&quot;: │   92: resource &quot;aws_lambda_function&quot;\r\n&gt; &quot;guideserviceFunction&quot; {\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSeems like my zip file is too large. How can I reduce this size? \r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere is the pom file of the project\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;me.siyum&lt;/groupId&gt;\r\n        &lt;artifactId&gt;guide_service_v4&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;Serverless Spring Boot 2 API&lt;/name&gt;\r\n        &lt;url&gt;https://github.com/awslabs/aws-serverless-java-container&lt;/url&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.11&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.amazonaws.serverless&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aws-serverless-java-container-springboot2&lt;/artifactId&gt;\r\n                &lt;version&gt;1.9.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.28&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n                &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n                &lt;version&gt;1.12.565&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;shaded-jar&lt;/id&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.2.4&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                            &lt;/configuration&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;phase&gt;package&lt;/phase&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;shade&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                    &lt;configuration&gt;\r\n                                        &lt;artifactSet&gt;\r\n                                            &lt;excludes&gt;\r\n                                                &lt;exclude&gt;org.apache.tomcat.embed:*&lt;/exclude&gt;\r\n                                            &lt;/excludes&gt;\r\n                                        &lt;/artifactSet&gt;\r\n                                    &lt;/configuration&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;assembly-zip&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n                &lt;/activation&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;!-- don&#39;t build a jar, we&#39;ll use the classes dir --&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.2.0&lt;/version&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;default-jar&lt;/id&gt;\r\n                                    &lt;phase&gt;none&lt;/phase&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.0.0-M1&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;skip&gt;true&lt;/skip&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;!-- select and copy only runtime dependencies to a temporary lib folder --&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.2.0&lt;/version&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                                    &lt;phase&gt;package&lt;/phase&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                    &lt;configuration&gt;\r\n                                        &lt;outputDirectory&gt;${project.build.directory}${file.separator}lib&lt;/outputDirectory&gt;\r\n                                        &lt;includeScope&gt;runtime&lt;/includeScope&gt;\r\n                                    &lt;/configuration&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.3.0&lt;/version&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;zip-assembly&lt;/id&gt;\r\n                                    &lt;phase&gt;package&lt;/phase&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;single&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                    &lt;configuration&gt;\r\n                                        &lt;finalName&gt;${project.artifactId}-${project.version}&lt;/finalName&gt;\r\n                                        &lt;descriptors&gt;\r\n                                            &lt;descriptor&gt;src${file.separator}assembly${file.separator}bin.xml&lt;/descriptor&gt;\r\n                                        &lt;/descriptors&gt;\r\n                                        &lt;attach&gt;false&lt;/attach&gt;\r\n                                    &lt;/configuration&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hrEjt.png\r\n  [2]: https://i.stack.imgur.com/efqBP.png","title":"Zip File too large to upload lambda","body":"<p>I am trying to deploy a reactive web application to lambda. I am using terraform and aws SDK for development.</p>\n<p>When I tried to mvn package and terraform apply I got the following error.</p>\n<blockquote>\n<p>╷ │ Error: updating Lambda Function (next_travel_Products_BE) code:\noperation error Lambda: UpdateFunctionCode, https response error\nStatusCode: 400, RequestID: 97ac5a23-12ea-4d5b-b868-82f6f3b65db1,\nInvalidParameterValueException: Unzipped size must be smaller than\n262144000 bytes │  │   with aws_lambda_function.guideserviceFunction,\n│   on main.tf line 92, in resource &quot;aws_lambda_function&quot;\n&quot;guideserviceFunction&quot;: │   92: resource &quot;aws_lambda_function&quot;\n&quot;guideserviceFunction&quot; {</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/hrEjt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hrEjt.png\" alt=\"enter image description here\" /></a></p>\n<p>Seems like my zip file is too large. How can I reduce this size?</p>\n<p><a href=\"https://i.stack.imgur.com/efqBP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/efqBP.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the pom file of the project</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;me.siyum&lt;/groupId&gt;\n    &lt;artifactId&gt;guide_service_v4&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;Serverless Spring Boot 2 API&lt;/name&gt;\n    &lt;url&gt;https://github.com/awslabs/aws-serverless-java-container&lt;/url&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.11&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws.serverless&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-serverless-java-container-springboot2&lt;/artifactId&gt;\n            &lt;version&gt;1.9.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.28&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n            &lt;version&gt;1.12.565&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;shaded-jar&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.2.4&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                        &lt;/configuration&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;shade&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;artifactSet&gt;\n                                        &lt;excludes&gt;\n                                            &lt;exclude&gt;org.apache.tomcat.embed:*&lt;/exclude&gt;\n                                        &lt;/excludes&gt;\n                                    &lt;/artifactSet&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;assembly-zip&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;!-- don't build a jar, we'll use the classes dir --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.2.0&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;default-jar&lt;/id&gt;\n                                &lt;phase&gt;none&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.0.0-M1&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;skip&gt;true&lt;/skip&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;!-- select and copy only runtime dependencies to a temporary lib folder --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.2.0&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;copy-dependencies&lt;/id&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;outputDirectory&gt;${project.build.directory}${file.separator}lib&lt;/outputDirectory&gt;\n                                    &lt;includeScope&gt;runtime&lt;/includeScope&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.3.0&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;zip-assembly&lt;/id&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;single&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;finalName&gt;${project.artifactId}-${project.version}&lt;/finalName&gt;\n                                    &lt;descriptors&gt;\n                                        &lt;descriptor&gt;src${file.separator}assembly${file.separator}bin.xml&lt;/descriptor&gt;\n                                    &lt;/descriptors&gt;\n                                    &lt;attach&gt;false&lt;/attach&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa"],"owner":{"account_id":13784590,"reputation":65,"user_id":12085910,"display_name":"s.sofiane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696837803,"creation_date":1696837803,"question_id":77257062,"body_markdown":"i&#39;m trying to do filtering using specification , but when i want to filter in subobject i get this error (it&#39;s worked fine without @join attrbute).\r\n\r\n   \r\n\r\n     nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1e6454ec] with root cause java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1e6454ec\r\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n    \tat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:552)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363)\r\n    \tat org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:585)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108)\r\n    \tat org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n    \tat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134)\r\n    \tat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319)\r\n    \tat org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:572)\r\n    \tat org.springframework.cglib.proxy.Enhancer.create(Enhancer.java:387)\r\n    \tat net.kaczmarzyk.spring.data.jpa.web.EnhancerUtil.wrapWithIfaceImplementation(EnhancerUtil.java:45)\r\n    \tat net.kaczmarzyk.spring.data.jpa.web.SpecificationArgumentResolver.resolveArgument(SpecificationArgumentResolver.java:111)\r\n    \tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nhere is my entities : \r\n\r\nOrder.java : \r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;Orders&quot;)\r\n    public class Orders {\r\n      \r\n      //...\r\n    \r\n      @JsonManagedReference\r\n      @OneToMany(mappedBy = &quot;orders&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n      private List&lt;Address&gt; addresses = new ArrayList&lt;&gt;();\r\n     \r\n     //...\r\n    }\r\n\r\nAddress.java\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;Address&quot;)\r\n    public class Address {\r\n    \r\n      //...\r\n    \r\n      @ManyToOne(fetch = FetchType.LAZY)\r\n      @JsonBackReference\r\n      private Orders orders;\r\n    \r\n      //...\r\n    \r\n    }\r\n\r\nAnd here is how i&#39;m using automated @Specification in my controller (without @join worked fine) where &quot;reference&quot; is an attribute of Order : \r\n\r\n    @RestController\r\n    public class OrderController {\r\n       \r\n    //...\r\n    \r\n    public ResponseEntity&lt;SearchOrdersResultDTO&gt; getOrders(\r\n     \r\n      @Spec(path = &quot;reference&quot;, spec = Equal.class)) Specification&lt;Orders&gt; ordersSpec) {\r\n    \t\t\t\r\n    \t\t\t// ...\r\n    \t\t\t\r\n    }   \r\n    \r\n    //...\r\n        \r\n    }\r\n\r\nAnd here is how i&#39;m using automated @Specification in my controller (with @join and is not worked) where &quot;city&quot; is an attribute of Address : \r\n\r\n    @RestController\r\n        public class OrderController {\r\n           \r\n        //...\r\n        \r\n        public ResponseEntity&lt;SearchOrdersResultDTO&gt; getOrders(\r\n         \r\n    \t @Join(path = &quot;addresses&quot;, alias = &quot;a&quot;)\r\n    \t @Spec(path = &quot;a.city&quot; , params = &quot;city&quot;, spec = Equal.class)\r\n    \t Specification&lt;Orders&gt; ordersSpec) {\r\n        \t\t\t\r\n        \t\t\t// ...\r\n        \t\t\t\r\n        }   \r\n        \r\n        //...\r\n            \r\n    }\r\n\r\n","title":"Filtering using join attribute of @Specification not work","body":"<p>i'm trying to do filtering using specification , but when i want to filter in subobject i get this error (it's worked fine without @join attrbute).</p>\n<pre><code> nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1e6454ec] with root cause java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1e6454ec\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:552)\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363)\n    at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:585)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108)\n    at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134)\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319)\n    at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:572)\n    at org.springframework.cglib.proxy.Enhancer.create(Enhancer.java:387)\n    at net.kaczmarzyk.spring.data.jpa.web.EnhancerUtil.wrapWithIfaceImplementation(EnhancerUtil.java:45)\n    at net.kaczmarzyk.spring.data.jpa.web.SpecificationArgumentResolver.resolveArgument(SpecificationArgumentResolver.java:111)\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>here is my entities :</p>\n<p>Order.java :</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;Orders&quot;)\npublic class Orders {\n  \n  //...\n\n  @JsonManagedReference\n  @OneToMany(mappedBy = &quot;orders&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n  private List&lt;Address&gt; addresses = new ArrayList&lt;&gt;();\n \n //...\n}\n</code></pre>\n<p>Address.java</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;Address&quot;)\npublic class Address {\n\n  //...\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JsonBackReference\n  private Orders orders;\n\n  //...\n\n}\n</code></pre>\n<p>And here is how i'm using automated @Specification in my controller (without @join worked fine) where &quot;reference&quot; is an attribute of Order :</p>\n<pre><code>@RestController\npublic class OrderController {\n   \n//...\n\npublic ResponseEntity&lt;SearchOrdersResultDTO&gt; getOrders(\n \n  @Spec(path = &quot;reference&quot;, spec = Equal.class)) Specification&lt;Orders&gt; ordersSpec) {\n            \n            // ...\n            \n}   \n\n//...\n    \n}\n</code></pre>\n<p>And here is how i'm using automated @Specification in my controller (with @join and is not worked) where &quot;city&quot; is an attribute of Address :</p>\n<pre><code>@RestController\n    public class OrderController {\n       \n    //...\n    \n    public ResponseEntity&lt;SearchOrdersResultDTO&gt; getOrders(\n     \n     @Join(path = &quot;addresses&quot;, alias = &quot;a&quot;)\n     @Spec(path = &quot;a.city&quot; , params = &quot;city&quot;, spec = Equal.class)\n     Specification&lt;Orders&gt; ordersSpec) {\n                \n                // ...\n                \n    }   \n    \n    //...\n        \n}\n</code></pre>\n"},{"tags":["java","spring","docker","ssh","devops"],"answers":[{"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695674750,"creation_date":1695674750,"answer_id":77175611,"question_id":77175540,"body_markdown":"&gt; When I remove the port from the URL, photos, styles and scripts are not loaded\r\n\r\nYour Spring MVC application is configured to serve static resources from the `src/main/resources/static` directory. However, the reverse proxy doesn&#39;t forward the request to your Spring MVC application when you access your application using the URL `https://ssh.host:/project/admin/view`. This is because the reverse proxy is configured to only forward requests to port 443.\r\n\r\nTo fix your issue, you need to configure your reverse proxy to forward requests to your Spring MVC application for all paths, not just `port 443`.\r\n\r\nP.s.\r\nI hope it can help you. If you would have have problems still, let me know, please.","title":"When I remove the port from the URL, photos, styles and scripts are not loaded","body":"<blockquote>\n<p>When I remove the port from the URL, photos, styles and scripts are not loaded</p>\n</blockquote>\n<p>Your Spring MVC application is configured to serve static resources from the <code>src/main/resources/static</code> directory. However, the reverse proxy doesn't forward the request to your Spring MVC application when you access your application using the URL <code>https://ssh.host:/project/admin/view</code>. This is because the reverse proxy is configured to only forward requests to port 443.</p>\n<p>To fix your issue, you need to configure your reverse proxy to forward requests to your Spring MVC application for all paths, not just <code>port 443</code>.</p>\n<p>P.s.\nI hope it can help you. If you would have have problems still, let me know, please.</p>\n"},{"tags":[],"owner":{"account_id":15460581,"reputation":36,"user_id":12959340,"display_name":"Adel Babzadeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696837707,"creation_date":1696837375,"answer_id":77257026,"question_id":77175540,"body_markdown":"You should use a webserver like Nginx to forward your requests to your applications.\r\n\r\nYou can forward your requests to applications on Nginx with reverse proxy configuration. for instance:\r\n\r\n    server {\r\n      server_name example.com;\r\n      location / {\r\n      proxy_set_header Upgrade            $http_upgrade;\r\n      proxy_set_header Connection         &quot;upgrade&quot;;\r\n      proxy_set_header Host               $host;\r\n      proxy_set_header X-Real-IP          $remote_addr;\r\n      proxy_set_header X-Forwarded-For    $proxy_add_x_forwarded_for;\r\n      proxy_set_header X-Forwarded-Proto  $scheme;\r\n      proxy_set_header X-Forwarded-Host   $host;\r\n      proxy_set_header X-Forwarded-Server $host;\r\n      proxy_set_header X-Forwarded-Port   $server_port;\r\n      client_max_body_size 10M;\r\n\r\n      proxy_pass http://127.0.0.1:8088;\r\n      }\r\n\r\n     location /user/ {\r\n      proxy_pass http://127.0.0.1:8881;\r\n      proxy_http_version 1.1;\r\n      proxy_set_header Upgrade $http_upgrade;\r\n      proxy_set_header Connection &#39;upgrade&#39;;\r\n      proxy_set_header Host $host;\r\n      proxy_cache_bypass $http_upgrade;\r\n      } \r\n\r\n      location /trade/ {\r\n      proxy_pass http://127.0.0.1:8882;\r\n      }\r\n\r\n    }\r\n\r\nAlso, you can find Other examples of nginx reverse proxy [here.][1]\r\n\r\n\r\n  [1]: https://docs.nginx.com/nginx/admin-guide/web-server/reverse-proxy/\r\n\r\nthis config should be on `/etc/nginx/sites-enabled/example.conf` or `/etc/nginx/conf.d/example.conf` \r\n","title":"When I remove the port from the URL, photos, styles and scripts are not loaded","body":"<p>You should use a webserver like Nginx to forward your requests to your applications.</p>\n<p>You can forward your requests to applications on Nginx with reverse proxy configuration. for instance:</p>\n<pre><code>server {\n  server_name example.com;\n  location / {\n  proxy_set_header Upgrade            $http_upgrade;\n  proxy_set_header Connection         &quot;upgrade&quot;;\n  proxy_set_header Host               $host;\n  proxy_set_header X-Real-IP          $remote_addr;\n  proxy_set_header X-Forwarded-For    $proxy_add_x_forwarded_for;\n  proxy_set_header X-Forwarded-Proto  $scheme;\n  proxy_set_header X-Forwarded-Host   $host;\n  proxy_set_header X-Forwarded-Server $host;\n  proxy_set_header X-Forwarded-Port   $server_port;\n  client_max_body_size 10M;\n\n  proxy_pass http://127.0.0.1:8088;\n  }\n\n location /user/ {\n  proxy_pass http://127.0.0.1:8881;\n  proxy_http_version 1.1;\n  proxy_set_header Upgrade $http_upgrade;\n  proxy_set_header Connection 'upgrade';\n  proxy_set_header Host $host;\n  proxy_cache_bypass $http_upgrade;\n  } \n\n  location /trade/ {\n  proxy_pass http://127.0.0.1:8882;\n  }\n\n}\n</code></pre>\n<p>Also, you can find Other examples of nginx reverse proxy <a href=\"https://docs.nginx.com/nginx/admin-guide/web-server/reverse-proxy/\" rel=\"nofollow noreferrer\">here.</a></p>\n<p>this config should be on <code>/etc/nginx/sites-enabled/example.conf</code> or <code>/etc/nginx/conf.d/example.conf</code></p>\n"}],"owner":{"account_id":27802774,"reputation":15,"user_id":21226915,"display_name":"Denis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77257026,"answer_count":2,"score":1,"last_activity_date":1696837707,"creation_date":1695673792,"question_id":77175540,"body_markdown":"I have a Spring MVC project, I collected it in a docker container\r\n\r\n```\r\ndocker pull dockerHubAcc/project-admin:latest\r\ndocker run -d --name project-admin-container -p 8088:443 --network someNetwork -v someVolume:/var/photos dockerHubAcc/project-admin\r\n```\r\n\r\nI wrote in the application.yaml file\r\n\r\n```\r\nserver:\r\n  servlet:\r\n    context-path: /project\r\n```\r\n\r\nwhy if I enter the following address path: http://ssh.host:8088/project/admin/view\r\nthen everything works correctly and all styles and scripts from the src/main/resources/static folder and files from volume are loaded.\r\n\r\nBut when I enter the following address path: https://ssh.host:/project/admin/view (removed port)\r\nI encounter an issue where some styles are not loading, while others load successfully. This is despite the fact that all styles are stored in the src/main/resources/static directory.\r\nFor example:\r\n\r\n```\r\n&lt;script src=&quot;/project/adminlte/plugins/jquery/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;/project/adminlte/plugins/bootstrap/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;/project/adminlte/dist/js/adminlte.js?v=3.2.0&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;/project/adminlte/dist/js/demo.js&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;/project/script.js&quot;&gt;&lt;/script&gt;\r\n```\r\n\r\nIn this block, all scripts load except for this one:\r\n\r\n```\r\n&lt;script src=&quot;/project/script.js&quot;&gt;&lt;/script&gt;\r\n```\r\n\r\nIn the configuration class, I added:\r\n\r\n```\r\n@Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry\r\n                .addResourceHandler(&quot;/**&quot;)\r\n                .addResourceLocations(&quot;classpath:/static/&quot;);\r\n        registry\r\n                .addResourceHandler(&quot;/uploads/**&quot;)\r\n                .addResourceLocations(&quot;file:/var/photos/&quot;);\r\n    }\r\n```\r\n\r\nAlso, when I retrieve files from the volume, for example:\r\nWhen I use src=&quot;/uploads/house/k1mmljpoct78hawq.jpg&quot; and specify the port in the URL, everything works, and the photo loads. However, when I remove the port, the files do not load.\r\n\r\nbefore:\r\n[enter image description here](https://i.stack.imgur.com/8qidz.png)\r\nafter:\r\n[enter image description here](https://i.stack.imgur.com/RrWgc.png)\r\n\r\nI tried changing the port to 80 and it didn&#39;t help.\r\nI don&#39;t know how important this information is, but I noticed that in the src/main/resources/static folder, files are uploaded only from the adminlte subfolder, and data is not uploaded from other subfolders, and this is quite strange.\r\n[enter image description here](https://i.stack.imgur.com/qMlDO.png)","title":"When I remove the port from the URL, photos, styles and scripts are not loaded","body":"<p>I have a Spring MVC project, I collected it in a docker container</p>\n<pre><code>docker pull dockerHubAcc/project-admin:latest\ndocker run -d --name project-admin-container -p 8088:443 --network someNetwork -v someVolume:/var/photos dockerHubAcc/project-admin\n</code></pre>\n<p>I wrote in the application.yaml file</p>\n<pre><code>server:\n  servlet:\n    context-path: /project\n</code></pre>\n<p>why if I enter the following address path: <a href=\"http://ssh.host:8088/project/admin/view\" rel=\"nofollow noreferrer\">http://ssh.host:8088/project/admin/view</a>\nthen everything works correctly and all styles and scripts from the src/main/resources/static folder and files from volume are loaded.</p>\n<p>But when I enter the following address path: <a href=\"https://ssh.host:/project/admin/view\" rel=\"nofollow noreferrer\">https://ssh.host:/project/admin/view</a> (removed port)\nI encounter an issue where some styles are not loading, while others load successfully. This is despite the fact that all styles are stored in the src/main/resources/static directory.\nFor example:</p>\n<pre><code>&lt;script src=&quot;/project/adminlte/plugins/jquery/jquery.min.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/project/adminlte/plugins/bootstrap/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/project/adminlte/dist/js/adminlte.js?v=3.2.0&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/project/adminlte/dist/js/demo.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/project/script.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>In this block, all scripts load except for this one:</p>\n<pre><code>&lt;script src=&quot;/project/script.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>In the configuration class, I added:</p>\n<pre><code>@Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry\n                .addResourceHandler(&quot;/**&quot;)\n                .addResourceLocations(&quot;classpath:/static/&quot;);\n        registry\n                .addResourceHandler(&quot;/uploads/**&quot;)\n                .addResourceLocations(&quot;file:/var/photos/&quot;);\n    }\n</code></pre>\n<p>Also, when I retrieve files from the volume, for example:\nWhen I use src=&quot;/uploads/house/k1mmljpoct78hawq.jpg&quot; and specify the port in the URL, everything works, and the photo loads. However, when I remove the port, the files do not load.</p>\n<p>before:\n<a href=\"https://i.stack.imgur.com/8qidz.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nafter:\n<a href=\"https://i.stack.imgur.com/RrWgc.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried changing the port to 80 and it didn't help.\nI don't know how important this information is, but I noticed that in the src/main/resources/static folder, files are uploaded only from the adminlte subfolder, and data is not uploaded from other subfolders, and this is quite strange.\n<a href=\"https://i.stack.imgur.com/qMlDO.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","spring-boot","active-directory","ldap"],"owner":{"account_id":29369550,"reputation":79,"user_id":22502444,"display_name":"KripDo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696837266,"creation_date":1696837266,"question_id":77257018,"body_markdown":"I have a certain structure in AD, and there is a site on which there is a user profile. All users are saved in AD. I wrote code that should update thumbnailPhoto in AD using LDAP, but an error occurs.\r\n\r\n    2023-10-09T10:23:35.148+03:00 ERROR 13892 --- [nio-8088-exec-2] o.a.c.c.C.[.[.[/]. \r\n    [dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context \r\n    with path [] threw exception [Request processing failed: \r\n    org.springframework.ldap.NameNotFoundException: [LDAP: error code 32 - 0000208D: \r\n    NameErr: DSID-03100288, problem 2001 (NO_OBJECT), data 0, best match of:\r\n\t&#39;OU=Пользователи,OU=Учетные записи,OU=Технологии надежности,DC=reliab,DC=tech&#39;\r\n    ]] with root cause\r\n\r\n    javax.naming.NameNotFoundException: [LDAP: error code 32 - 0000208D: NameErr: DSID- \r\n    03100288, problem 2001 (NO_OBJECT), data 0, best match of:\r\n\t&#39;OU=Пользователи,OU=Учетные записи,OU=Технологии надежности,DC=reliab,DC=tech&#39;]\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtx.mapErrorCode(LdapCtx.java:3285) ~[na:na]\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:3206) ~[na:na]\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:2997) ~[na:na]\r\n\tat java.naming/com.sun.jndi.ldap.LdapCtx.c_modifyAttributes(LdapCtx.java:1505) ~[na:na]\r\n\tat \r\n\r\nThe error indicates that the object supposedly does not exist in AD, but this is not so, below I attach all the code that I use.\r\nController:\r\n\r\n\r\n    @PostMapping(&quot;/photo&quot;)\r\n    @PreAuthorize(&quot;hasAuthority(&#39;user:update&#39;)&quot;)\r\n    @Override\r\n    public ResponseEntity&lt;Object&gt; uploadPhoto(@ModelAttribute UploadPhotoDto request) {\r\n        log.debug(&quot;uploading photo&quot;);\r\n        var id = employeeService.uploadPhoto(request);\r\n        return id == null ?\r\n                ResponseEntity.internalServerError().build() :\r\n                ResponseEntity.ok().body(id);\r\n    }\r\n\r\nService:\r\n\r\n    public UUID uploadPhoto(UploadPhotoDto request) {\r\n        Employee employee = AuthUtil.getUser().getEmployee();\r\n        updatePhotoInAD(request, employee.getEmail());\r\n        try {\r\n            employee.setPhoto(request.getFile().getBytes());\r\n            return save(employee).getId();\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error while uploading photo&quot;, e);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private void updatePhotoInAD(UploadPhotoDto request, String email) {\r\n        var dto = ldapAdapter.getOne(email);\r\n        try {\r\n            ldapAdapter.updatePhoto(dto.getDn(), request.getFile().getBytes());\r\n        } catch (IOException e) {\r\n            log.error(&quot;Error while uploading photo&quot;, e);\r\n        }\r\n    }\r\n\r\nPhoto reqeust DTO:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class UploadPhotoDto {\r\n    private MultipartFile file;\r\n    }\r\n\r\nLdap adapter: \r\n\r\n    @Override\r\n    public LdapEmployeeDto getOne(String email) {\r\n        log.debug(&quot;getting employee by email {}&quot;, email);\r\n        return getByEmail(email);\r\n    }\r\n    private LdapEmployeeDto getByEmail(@Nonnull String email) {\r\n        return findByEquals(ATTRIBUTE_PRINCIPAL_NAME, email)\r\n                .stream()\r\n                .findFirst()\r\n                .orElseThrow();\r\n    }\r\n    private List&lt;LdapEmployeeDto&gt; search(Filter filter) {\r\n        List&lt;LdapEmployeeDto&gt; entities = new ArrayList&lt;&gt;();\r\n        try {\r\n            long startTime = System.currentTimeMillis();\r\n            entities = template.search(EMPTY, filter.encode(), mapper);\r\n            long endTime = System.currentTimeMillis();\r\n            log.debug(&quot;Request to AD lasts {} milis&quot;, endTime - startTime);\r\n        } catch (InvalidNameException e) {\r\n            log.error(&quot;Error while getting &quot; + filter.toString() + &quot; {}&quot;, e.getMessage());\r\n        } catch (CommunicationException e) {\r\n            log.error(&quot;Cannot connect to {}&quot;, e.getMessage());\r\n        }\r\n        return entities;\r\n    }\r\n    public void updatePhoto(String userDn, byte[] photo) {\r\n        template.modifyAttributes(userDn, new ModificationItem[]{\r\n                new ModificationItem(DirContext.REPLACE_ATTRIBUTE, new \r\n    BasicAttribute(ATTRIBUTE_PHOTO, photo))\r\n        });\r\n    }\r\n    private List&lt;LdapEmployeeDto&gt; findByEquals(String attribute, String value) {\r\n        log.debug(&quot;searching by equals {}, {}&quot;, attribute, value);\r\n        Filter filter = new EqualsFilter(attribute, value);\r\n        return search(filter);\r\n    }\r\n\r\nString utils:\r\n\r\n    public static final String ATTRIBUTE_DISTINGUISHED_NAME = &quot;distinguishedName&quot;;\r\n    public static final String ATTRIBUTE_CABINET_NUMBER = &quot;physicaldeliveryofficename&quot;;\r\n    public static final String ATTRIBUTE_PRINCIPAL_NAME = &quot;userPrincipalName&quot;;\r\n    public static final String ATTRIBUTE_PHONE_NUMBER = &quot;telephonenumber&quot;;\r\n    public static final String ATTRIBUTE_DISPLAY_NAME = &quot;displayName&quot;;\r\n    public static final String ATTRIBUTE_CREATE_DATE = &quot;whencreated&quot;;\r\n    public static final String ATTRIBUTE_REPORTS = &quot;directreports&quot;;\r\n    public static final String ATTRIBUTE_DEPARTMENT = &quot;department&quot;;\r\n    public static final String ATTRIBUTE_GIVEN_NAME = &quot;givenname&quot;;\r\n    public static final String ATTRIBUTE_PHOTO = &quot;thumbnailPhoto&quot;;\r\n    public static final String ATTRIBUTE_BIRTHDAY = &quot;birthday&quot;;\r\n    public static final String ATTRIBUTE_TELEGRAM = &quot;telegram&quot;;\r\n    public static final String ATTRIBUTE_MANAGER = &quot;manager&quot;;\r\n    public static final String ATTRIBUTE_COMPANY = &quot;company&quot;;\r\n    public static final String ATTRIBUTE_TITLE = &quot;title&quot;;\r\n    public static final String ATTRIBUTE_SN = &quot;sn&quot;;\r\n    public static final String ATTRIBUTE_CN = &quot;cn&quot;;\r\n    @SneakyThrows\r\n    public static String getAttribute(String name, Attributes attributes) {\r\n        Attribute attribute = attributes.get(name);\r\n        if (attribute != null) {\r\n            return attribute.get().toString();\r\n        }\r\n        log.warn(&quot;Cannot map empty attribute {}&quot;, name);\r\n        return null;\r\n    }\r\n\r\n    @SneakyThrows\r\n    public static byte[] getPhotoAttribute(Attributes attributes) {\r\n        Attribute attribute = attributes.get(ATTRIBUTE_PHOTO);\r\n        if (attribute != null) {\r\n            return (byte[]) attribute.get();\r\n        }\r\n        log.warn(&quot;Cannot map empty attribute {}&quot;, ATTRIBUTE_PHOTO);\r\n        return null;\r\n    }\r\n\r\n    public static String getManagerNameAttribute(Attributes attributes) {\r\n        String rawName = getAttribute(ATTRIBUTE_MANAGER, attributes);\r\n        return ofNullable(rawName)\r\n                .map(StringUtil::extractManagerName)\r\n                .orElse(null);\r\n    }\r\n\r\nMapper:\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class LdapEmployeeAttributeMapper implements AttributesMapper&lt;LdapEmployeeDto&gt; {\r\n\r\n    @Override\r\n    public LdapEmployeeDto mapFromAttributes(Attributes attributes) {\r\n        var dto = new LdapEmployeeDto();\r\n        dto.setDn(getAttribute(ATTRIBUTE_DISTINGUISHED_NAME, attributes));\r\n        dto.setPatronymic(getPatronymic(getAttribute(ATTRIBUTE_DISPLAY_NAME, attributes)));\r\n        dto.setDepartmentName(getAttribute(ATTRIBUTE_DEPARTMENT, attributes));\r\n        dto.setPhoneNumber(getAttribute(ATTRIBUTE_PHONE_NUMBER, attributes));\r\n        dto.setStartDate(getAttribute(ATTRIBUTE_CREATE_DATE, attributes));\r\n        dto.setEmail(getAttribute(ATTRIBUTE_PRINCIPAL_NAME, attributes));\r\n        dto.setFirstName(getAttribute(ATTRIBUTE_GIVEN_NAME, attributes));\r\n        dto.setCompanyName(getAttribute(ATTRIBUTE_COMPANY, attributes));\r\n        dto.setTelegramId(getAttribute(ATTRIBUTE_TELEGRAM, attributes));\r\n        dto.setBirthday(getAttribute(ATTRIBUTE_BIRTHDAY, attributes));\r\n        dto.setPosition(getAttribute(ATTRIBUTE_TITLE, attributes));\r\n        dto.setSimpleName(getAttribute(ATTRIBUTE_CN, attributes));\r\n        dto.setLastName(getAttribute(ATTRIBUTE_SN, attributes));\r\n        dto.setOfficeId(getAttribute(ATTRIBUTE_CABINET_NUMBER, attributes));\r\n        dto.setManagerName(getManagerNameAttribute(attributes));\r\n        dto.setPhoto(getPhotoAttribute(attributes));\r\n        return dto;\r\n    }\r\n    }\r\nMy connection to AD is working, because i can get employees, so i don&#39;t know why exception is throws. \r\n\r\n","title":"Problem updating photos in AD using LDAP?","body":"<p>I have a certain structure in AD, and there is a site on which there is a user profile. All users are saved in AD. I wrote code that should update thumbnailPhoto in AD using LDAP, but an error occurs.</p>\n<pre><code>2023-10-09T10:23:35.148+03:00 ERROR 13892 --- [nio-8088-exec-2] o.a.c.c.C.[.[.[/]. \n[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context \nwith path [] threw exception [Request processing failed: \norg.springframework.ldap.NameNotFoundException: [LDAP: error code 32 - 0000208D: \nNameErr: DSID-03100288, problem 2001 (NO_OBJECT), data 0, best match of:\n'OU=Пользователи,OU=Учетные записи,OU=Технологии надежности,DC=reliab,DC=tech'\n]] with root cause\n\njavax.naming.NameNotFoundException: [LDAP: error code 32 - 0000208D: NameErr: DSID- \n03100288, problem 2001 (NO_OBJECT), data 0, best match of:\n'OU=Пользователи,OU=Учетные записи,OU=Технологии надежности,DC=reliab,DC=tech']\nat java.naming/com.sun.jndi.ldap.LdapCtx.mapErrorCode(LdapCtx.java:3285) ~[na:na]\nat java.naming/com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:3206) ~[na:na]\nat java.naming/com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:2997) ~[na:na]\nat java.naming/com.sun.jndi.ldap.LdapCtx.c_modifyAttributes(LdapCtx.java:1505) ~[na:na]\nat \n</code></pre>\n<p>The error indicates that the object supposedly does not exist in AD, but this is not so, below I attach all the code that I use.\nController:</p>\n<pre><code>@PostMapping(&quot;/photo&quot;)\n@PreAuthorize(&quot;hasAuthority('user:update')&quot;)\n@Override\npublic ResponseEntity&lt;Object&gt; uploadPhoto(@ModelAttribute UploadPhotoDto request) {\n    log.debug(&quot;uploading photo&quot;);\n    var id = employeeService.uploadPhoto(request);\n    return id == null ?\n            ResponseEntity.internalServerError().build() :\n            ResponseEntity.ok().body(id);\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>public UUID uploadPhoto(UploadPhotoDto request) {\n    Employee employee = AuthUtil.getUser().getEmployee();\n    updatePhotoInAD(request, employee.getEmail());\n    try {\n        employee.setPhoto(request.getFile().getBytes());\n        return save(employee).getId();\n    } catch (Exception e) {\n        log.error(&quot;Error while uploading photo&quot;, e);\n        return null;\n    }\n}\n\nprivate void updatePhotoInAD(UploadPhotoDto request, String email) {\n    var dto = ldapAdapter.getOne(email);\n    try {\n        ldapAdapter.updatePhoto(dto.getDn(), request.getFile().getBytes());\n    } catch (IOException e) {\n        log.error(&quot;Error while uploading photo&quot;, e);\n    }\n}\n</code></pre>\n<p>Photo reqeust DTO:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class UploadPhotoDto {\nprivate MultipartFile file;\n}\n</code></pre>\n<p>Ldap adapter:</p>\n<pre><code>@Override\npublic LdapEmployeeDto getOne(String email) {\n    log.debug(&quot;getting employee by email {}&quot;, email);\n    return getByEmail(email);\n}\nprivate LdapEmployeeDto getByEmail(@Nonnull String email) {\n    return findByEquals(ATTRIBUTE_PRINCIPAL_NAME, email)\n            .stream()\n            .findFirst()\n            .orElseThrow();\n}\nprivate List&lt;LdapEmployeeDto&gt; search(Filter filter) {\n    List&lt;LdapEmployeeDto&gt; entities = new ArrayList&lt;&gt;();\n    try {\n        long startTime = System.currentTimeMillis();\n        entities = template.search(EMPTY, filter.encode(), mapper);\n        long endTime = System.currentTimeMillis();\n        log.debug(&quot;Request to AD lasts {} milis&quot;, endTime - startTime);\n    } catch (InvalidNameException e) {\n        log.error(&quot;Error while getting &quot; + filter.toString() + &quot; {}&quot;, e.getMessage());\n    } catch (CommunicationException e) {\n        log.error(&quot;Cannot connect to {}&quot;, e.getMessage());\n    }\n    return entities;\n}\npublic void updatePhoto(String userDn, byte[] photo) {\n    template.modifyAttributes(userDn, new ModificationItem[]{\n            new ModificationItem(DirContext.REPLACE_ATTRIBUTE, new \nBasicAttribute(ATTRIBUTE_PHOTO, photo))\n    });\n}\nprivate List&lt;LdapEmployeeDto&gt; findByEquals(String attribute, String value) {\n    log.debug(&quot;searching by equals {}, {}&quot;, attribute, value);\n    Filter filter = new EqualsFilter(attribute, value);\n    return search(filter);\n}\n</code></pre>\n<p>String utils:</p>\n<pre><code>public static final String ATTRIBUTE_DISTINGUISHED_NAME = &quot;distinguishedName&quot;;\npublic static final String ATTRIBUTE_CABINET_NUMBER = &quot;physicaldeliveryofficename&quot;;\npublic static final String ATTRIBUTE_PRINCIPAL_NAME = &quot;userPrincipalName&quot;;\npublic static final String ATTRIBUTE_PHONE_NUMBER = &quot;telephonenumber&quot;;\npublic static final String ATTRIBUTE_DISPLAY_NAME = &quot;displayName&quot;;\npublic static final String ATTRIBUTE_CREATE_DATE = &quot;whencreated&quot;;\npublic static final String ATTRIBUTE_REPORTS = &quot;directreports&quot;;\npublic static final String ATTRIBUTE_DEPARTMENT = &quot;department&quot;;\npublic static final String ATTRIBUTE_GIVEN_NAME = &quot;givenname&quot;;\npublic static final String ATTRIBUTE_PHOTO = &quot;thumbnailPhoto&quot;;\npublic static final String ATTRIBUTE_BIRTHDAY = &quot;birthday&quot;;\npublic static final String ATTRIBUTE_TELEGRAM = &quot;telegram&quot;;\npublic static final String ATTRIBUTE_MANAGER = &quot;manager&quot;;\npublic static final String ATTRIBUTE_COMPANY = &quot;company&quot;;\npublic static final String ATTRIBUTE_TITLE = &quot;title&quot;;\npublic static final String ATTRIBUTE_SN = &quot;sn&quot;;\npublic static final String ATTRIBUTE_CN = &quot;cn&quot;;\n@SneakyThrows\npublic static String getAttribute(String name, Attributes attributes) {\n    Attribute attribute = attributes.get(name);\n    if (attribute != null) {\n        return attribute.get().toString();\n    }\n    log.warn(&quot;Cannot map empty attribute {}&quot;, name);\n    return null;\n}\n\n@SneakyThrows\npublic static byte[] getPhotoAttribute(Attributes attributes) {\n    Attribute attribute = attributes.get(ATTRIBUTE_PHOTO);\n    if (attribute != null) {\n        return (byte[]) attribute.get();\n    }\n    log.warn(&quot;Cannot map empty attribute {}&quot;, ATTRIBUTE_PHOTO);\n    return null;\n}\n\npublic static String getManagerNameAttribute(Attributes attributes) {\n    String rawName = getAttribute(ATTRIBUTE_MANAGER, attributes);\n    return ofNullable(rawName)\n            .map(StringUtil::extractManagerName)\n            .orElse(null);\n}\n</code></pre>\n<p>Mapper:</p>\n<pre><code>@Slf4j\n@Component\npublic class LdapEmployeeAttributeMapper implements AttributesMapper&lt;LdapEmployeeDto&gt; {\n\n@Override\npublic LdapEmployeeDto mapFromAttributes(Attributes attributes) {\n    var dto = new LdapEmployeeDto();\n    dto.setDn(getAttribute(ATTRIBUTE_DISTINGUISHED_NAME, attributes));\n    dto.setPatronymic(getPatronymic(getAttribute(ATTRIBUTE_DISPLAY_NAME, attributes)));\n    dto.setDepartmentName(getAttribute(ATTRIBUTE_DEPARTMENT, attributes));\n    dto.setPhoneNumber(getAttribute(ATTRIBUTE_PHONE_NUMBER, attributes));\n    dto.setStartDate(getAttribute(ATTRIBUTE_CREATE_DATE, attributes));\n    dto.setEmail(getAttribute(ATTRIBUTE_PRINCIPAL_NAME, attributes));\n    dto.setFirstName(getAttribute(ATTRIBUTE_GIVEN_NAME, attributes));\n    dto.setCompanyName(getAttribute(ATTRIBUTE_COMPANY, attributes));\n    dto.setTelegramId(getAttribute(ATTRIBUTE_TELEGRAM, attributes));\n    dto.setBirthday(getAttribute(ATTRIBUTE_BIRTHDAY, attributes));\n    dto.setPosition(getAttribute(ATTRIBUTE_TITLE, attributes));\n    dto.setSimpleName(getAttribute(ATTRIBUTE_CN, attributes));\n    dto.setLastName(getAttribute(ATTRIBUTE_SN, attributes));\n    dto.setOfficeId(getAttribute(ATTRIBUTE_CABINET_NUMBER, attributes));\n    dto.setManagerName(getManagerNameAttribute(attributes));\n    dto.setPhoto(getPhotoAttribute(attributes));\n    return dto;\n}\n}\n</code></pre>\n<p>My connection to AD is working, because i can get employees, so i don't know why exception is throws.</p>\n"},{"tags":["java","spring-boot","response","sql-delete"],"comments":[{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1696836426,"post_id":77256917,"comment_id":136198864,"body_markdown":"I would say that you don&#39;t have to check if resp is null: the ResponseEntity wrap thing for you (eg: the http response and code) and it should not be null.","body":"I would say that you don&#39;t have to check if resp is null: the ResponseEntity wrap thing for you (eg: the http response and code) and it should not be null."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1696839723,"post_id":77256917,"comment_id":136199401,"body_markdown":"In a properly implemented service, if the deletion did not go correctly an exception should be thrown which should be mapped to a 4xx or 5xx HTTP response (404 if the record to delete could not be found, 500 if something went wrong on the backend, etc.). On the client side this is often transformed back into an exception (but not the same one).","body":"In a properly implemented service, if the deletion did not go correctly an exception should be thrown which should be mapped to a 4xx or 5xx HTTP response (404 if the record to delete could not be found, 500 if something went wrong on the backend, etc.). On the client side this is often transformed back into an exception (but not the same one)."}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696836071,"creation_date":1696836071,"question_id":77256917,"body_markdown":"I&#39;m working on a Spring Boot project and I call a method from an external service that returns an object of type `ResponseEntity&lt;Void&gt;`. This method make a delete in the database and I want to check if the deleted operation was made. The code looks like this:\r\n\r\n    ResponseEntity&lt;Void&gt; resp = obj.deleteMethod();\r\n\r\nIs a good idea to check if the `resp != null`? Thank you!","title":"How to check if delete operation was made when response is of type ResponseEntity&lt;Void&gt; in Spring Boot?","body":"<p>I'm working on a Spring Boot project and I call a method from an external service that returns an object of type <code>ResponseEntity&lt;Void&gt;</code>. This method make a delete in the database and I want to check if the deleted operation was made. The code looks like this:</p>\n<pre><code>ResponseEntity&lt;Void&gt; resp = obj.deleteMethod();\n</code></pre>\n<p>Is a good idea to check if the <code>resp != null</code>? Thank you!</p>\n"},{"tags":["java","spring-boot","adobe"],"owner":{"account_id":409274,"reputation":1,"user_id":780446,"display_name":"Vikas naik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696835759,"creation_date":1696835574,"question_id":77256872,"body_markdown":"getting validation exception when triggering rest request for converting docx to pdf using springboot and adobe- Below is the exception stacktrace -\r\n\r\n=======================================================================\r\n\r\njava.lang.ClassNotFoundException: javax.validation.Validation\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525) ~[na:na]\r\n\tat com.adobe.pdfservices.operation.auth.Credentials.validate(Credentials.java:52) ~[pdfservices-sdk-3.4.0.jar:3.4.0]\r\n\tat com.adobe.pdfservices.operation.auth.ServicePrincipalCredentials.&lt;init&gt;(ServicePrincipalCredentials.java:31) ~[pdfservices-sdk-3.4.0.jar:3.4.0]\r\n\tat com.adobe.pdfservices.operation.auth.ServicePrincipalCredentials$Builder.build(ServicePrincipalCredentials.java:90) ~[pdfservices-sdk-3.4.0.jar:3.4.0]\r\n\tat com.bmw.poi.pdfprinter.converter.AdobePdfConverterImpl.convertDocxToPdf(AdobePdfConverterImpl.java:40) ~[classes/:na]\r\n\tat com.bmw.poi.pdfprinter.controller.AdobeController.convertToPdf(AdobeController.java:23) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n\r\n\r\n================================================================================\r\n\r\n\r\nBelow is the pom.xml file -\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.adobe.documentservices&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pdfservices-sdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${pdfservices.sdk.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.adobe.documentcloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;dc-services-sdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${dc.services.sdk.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- slf4j logger dependency --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.17.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.2.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n=====================================================\r\n\r\nBelow is the springboot + java code for adobe - taken reference from adobe website - \r\n\r\n    public String convertDocxToPdf(String input, String contentType) throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n        //Create an ExecutionContext using credentials and create a new operation instance.\r\n\t\ttry\r\n\t\t{\r\n\t        Credentials credentials = Credentials.servicePrincipalCredentialsBuilder()\r\n\t                .withClientId(ADOBE_CLIENT_ID)\r\n\t                .withClientSecret(ADOBE_CLIENT_SECRET)\r\n\t                .build();\r\n\t        \r\n\r\n\t\t\tExecutionContext executionContext = ExecutionContext.create(credentials);\r\n\t\t\tCreatePDFOperation createPdfOperation = CreatePDFOperation.createNew();\r\n\r\n\t\t\t// Set operation input from a source file.\r\n\t\t\tFileRef source = FileRef.createFromLocalFile(INPUT_FILE_PATH_PREFIX + input);\r\n\t\t\tcreatePdfOperation.setInput(source);\r\n\r\n\t\t\t// Execute the operation.\r\n\t\t\tFileRef result = createPdfOperation.execute(executionContext);\r\n\r\n\t\t\t// Save the result to the specified location.\r\n\t\t\tString outputFilePath = createOutputFilePath();\r\n        \r\n\t\t\tlogger.info(&quot;output file path ::&gt;&gt;&gt; &quot;+outputFilePath);\r\n        \r\n\t\t\tresult.saveAs(outputFilePath);\r\n\t\t}\r\n\t\tcatch (ServiceApiException | IOException | SdkException | ServiceUsageException e) {\r\n\t\t\tlogger.error(&quot;Exception encountered while executing operation&quot;, e);\r\n        }\r\n\r\n\t\treturn &quot;docx converted to pdf. check the output folder&quot;;\r\n\t}\r\n\r\n\r\nhelp would be really appreciated \r\n\r\n","title":"getting validation exception when triggering rest request for converting docx to pdf using springboot and adobe","body":"<p>getting validation exception when triggering rest request for converting docx to pdf using springboot and adobe- Below is the exception stacktrace -</p>\n<p>=======================================================================</p>\n<p>java.lang.ClassNotFoundException: javax.validation.Validation\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525) ~[na:na]\nat com.adobe.pdfservices.operation.auth.Credentials.validate(Credentials.java:52) ~[pdfservices-sdk-3.4.0.jar:3.4.0]\nat com.adobe.pdfservices.operation.auth.ServicePrincipalCredentials.(ServicePrincipalCredentials.java:31) ~[pdfservices-sdk-3.4.0.jar:3.4.0]\nat com.adobe.pdfservices.operation.auth.ServicePrincipalCredentials$Builder.build(ServicePrincipalCredentials.java:90) ~[pdfservices-sdk-3.4.0.jar:3.4.0]\nat com.bmw.poi.pdfprinter.converter.AdobePdfConverterImpl.convertDocxToPdf(AdobePdfConverterImpl.java:40) ~[classes/:na]\nat com.bmw.poi.pdfprinter.controller.AdobeController.convertToPdf(AdobeController.java:23) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.9.jar:6.0.9]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.9.jar:6.0.9]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.9.jar:6.0.9]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.9.jar:6.0.9]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.9.jar:6.0.9]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.9.jar:6.0.9]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar:6.0.9]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar:6.0.9]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar:6.0.9]\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.9.jar:6.0.9]\nat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.8.jar:6.0]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.9.jar:6.0.9]\nat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar:6.0.9]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.9.jar:6.0.9]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.9.jar:6.0.9]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\nat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]</p>\n<p>================================================================================</p>\n<p>Below is the pom.xml file -</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.adobe.documentservices&lt;/groupId&gt;\n        &lt;artifactId&gt;pdfservices-sdk&lt;/artifactId&gt;\n        &lt;version&gt;${pdfservices.sdk.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.adobe.documentcloud&lt;/groupId&gt;\n        &lt;artifactId&gt;dc-services-sdk&lt;/artifactId&gt;\n        &lt;version&gt;${dc.services.sdk.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- slf4j logger dependency --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.17.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;6.1.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>=====================================================</p>\n<p>Below is the springboot + java code for adobe - taken reference from adobe website -</p>\n<pre><code>public String convertDocxToPdf(String input, String contentType) throws Exception {\n    // TODO Auto-generated method stub\n    \n    //Create an ExecutionContext using credentials and create a new operation instance.\n    try\n    {\n        Credentials credentials = Credentials.servicePrincipalCredentialsBuilder()\n                .withClientId(ADOBE_CLIENT_ID)\n                .withClientSecret(ADOBE_CLIENT_SECRET)\n                .build();\n        \n\n        ExecutionContext executionContext = ExecutionContext.create(credentials);\n        CreatePDFOperation createPdfOperation = CreatePDFOperation.createNew();\n\n        // Set operation input from a source file.\n        FileRef source = FileRef.createFromLocalFile(INPUT_FILE_PATH_PREFIX + input);\n        createPdfOperation.setInput(source);\n\n        // Execute the operation.\n        FileRef result = createPdfOperation.execute(executionContext);\n\n        // Save the result to the specified location.\n        String outputFilePath = createOutputFilePath();\n    \n        logger.info(&quot;output file path ::&gt;&gt;&gt; &quot;+outputFilePath);\n    \n        result.saveAs(outputFilePath);\n    }\n    catch (ServiceApiException | IOException | SdkException | ServiceUsageException e) {\n        logger.error(&quot;Exception encountered while executing operation&quot;, e);\n    }\n\n    return &quot;docx converted to pdf. check the output folder&quot;;\n}\n</code></pre>\n<p>help would be really appreciated</p>\n"},{"tags":["java","ibm-mq"],"answers":[{"comments":[{"owner":{"account_id":19145040,"reputation":313,"user_id":13984230,"display_name":"richc"},"score":1,"creation_date":1696930036,"post_id":77256883,"comment_id":136212327,"body_markdown":"There are additional samples in the ibmmq dev-patterns repo here &gt; https://github.com/ibm-messaging/mq-dev-patterns/tree/master/transactions/JMS/SE &lt;. Also this tutorial on transactions might be useful &gt; https://developer.ibm.com/articles/an-introduction-to-local-transactions-using-mq-and-jms/ &lt;","body":"There are additional samples in the ibmmq dev-patterns repo here &gt; <a href=\"https://github.com/ibm-messaging/mq-dev-patterns/tree/master/transactions/JMS/SE\" rel=\"nofollow noreferrer\">github.com/ibm-messaging/mq-dev-patterns/tree/master/&hellip;</a> &lt;. Also this tutorial on transactions might be useful &gt; <a href=\"https://developer.ibm.com/articles/an-introduction-to-local-transactions-using-mq-and-jms/\" rel=\"nofollow noreferrer\">developer.ibm.com/articles/&hellip;</a> &lt;"},{"owner":{"account_id":7955892,"reputation":352,"user_id":6005228,"display_name":"root"},"score":1,"creation_date":1696931056,"post_id":77256883,"comment_id":136212517,"body_markdown":"Something else to note for future readers is that the channel that production applications connect through should not be SYSTEM.DEF.SVRCONN. It is only used in the above answer for demonstration purposes. It&#39;s recommended to talk to your MQ admins &amp; have a channel for your specific application created. This allows for the use of channel authentication (CHLAUTH) to restrict access to the channel, and also enforce various other security concepts (eg user mapping or user authentication, which then hooks into the Object Authority Manager (OAM), and so on).","body":"Something else to note for future readers is that the channel that production applications connect through should not be SYSTEM.DEF.SVRCONN. It is only used in the above answer for demonstration purposes. It&#39;s recommended to talk to your MQ admins &amp; have a channel for your specific application created. This allows for the use of channel authentication (CHLAUTH) to restrict access to the channel, and also enforce various other security concepts (eg user mapping or user authentication, which then hooks into the Object Authority Manager (OAM), and so on)."}],"tags":[],"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696835646,"creation_date":1696835646,"answer_id":77256883,"question_id":77256663,"body_markdown":"There are samples shipped with IBM MQ. Please refer them as starting point. The following example is modified from SimplePTP.java sample to send messages in a loop and then commit. There is createSession call with first parameter as `true` to start a transaction and there is `session.commit` to commit the transaction after all messages are sent.\r\n\r\n    try {\r\n      // Create a connection factory\r\n      JmsFactoryFactory ff = JmsFactoryFactory.getInstance(WMQConstants.WMQ_PROVIDER);\r\n      JmsConnectionFactory cf = ff.createConnectionFactory();\r\n\r\n      // Set the properties\r\n      cf.setStringProperty(WMQConstants.WMQ_HOST_NAME, &quot;localhost&quot;);\r\n      cf.setIntProperty(WMQConstants.WMQ_PORT, 1414);\r\n      cf.setStringProperty(WMQConstants.WMQ_CHANNEL, &quot;SYSTEM.DEF.SVRCONN&quot;);\r\n      cf.setIntProperty(WMQConstants.WMQ_CONNECTION_MODE, WMQConstants.WMQ_CM_CLIENT);\r\n      cf.setStringProperty(WMQConstants.WMQ_QUEUE_MANAGER, &quot;QM1&quot;);\r\n      cf.setStringProperty(WMQConstants.WMQ_APPLICATIONNAME, &quot;SimplePTP (JMS)&quot;);\r\n\r\n      // Create JMS objects\r\n      connection = cf.createConnection();\r\n      session = connection.createSession(true, Session.AUTO_ACKNOWLEDGE);\r\n      destination = session.createQueue(&quot;queue:///Q1&quot;);\r\n      producer = session.createProducer(destination);\r\n\r\n      // Start the connection\r\n      connection.start();\r\n\r\n      for (int i=0; i &lt; 10; i++) {\r\n      long uniqueNumber = System.currentTimeMillis() % 1000;\r\n      TextMessage message = session.createTextMessage(&quot;SimplePTP: Your lucky number today is &quot; + uniqueNumber);\r\n      // And, send the message\r\n      producer.send(message);\r\n      System.out.println(&quot;Sent message:\\n&quot; + message);\r\n      }\r\n      session.commit();\r\n    }\r\n    catch (JMSException jmsex) {\r\n    }\r\n","title":"How to send messages to ibm mq transactionally","body":"<p>There are samples shipped with IBM MQ. Please refer them as starting point. The following example is modified from SimplePTP.java sample to send messages in a loop and then commit. There is createSession call with first parameter as <code>true</code> to start a transaction and there is <code>session.commit</code> to commit the transaction after all messages are sent.</p>\n<pre><code>try {\n  // Create a connection factory\n  JmsFactoryFactory ff = JmsFactoryFactory.getInstance(WMQConstants.WMQ_PROVIDER);\n  JmsConnectionFactory cf = ff.createConnectionFactory();\n\n  // Set the properties\n  cf.setStringProperty(WMQConstants.WMQ_HOST_NAME, &quot;localhost&quot;);\n  cf.setIntProperty(WMQConstants.WMQ_PORT, 1414);\n  cf.setStringProperty(WMQConstants.WMQ_CHANNEL, &quot;SYSTEM.DEF.SVRCONN&quot;);\n  cf.setIntProperty(WMQConstants.WMQ_CONNECTION_MODE, WMQConstants.WMQ_CM_CLIENT);\n  cf.setStringProperty(WMQConstants.WMQ_QUEUE_MANAGER, &quot;QM1&quot;);\n  cf.setStringProperty(WMQConstants.WMQ_APPLICATIONNAME, &quot;SimplePTP (JMS)&quot;);\n\n  // Create JMS objects\n  connection = cf.createConnection();\n  session = connection.createSession(true, Session.AUTO_ACKNOWLEDGE);\n  destination = session.createQueue(&quot;queue:///Q1&quot;);\n  producer = session.createProducer(destination);\n\n  // Start the connection\n  connection.start();\n\n  for (int i=0; i &lt; 10; i++) {\n  long uniqueNumber = System.currentTimeMillis() % 1000;\n  TextMessage message = session.createTextMessage(&quot;SimplePTP: Your lucky number today is &quot; + uniqueNumber);\n  // And, send the message\n  producer.send(message);\n  System.out.println(&quot;Sent message:\\n&quot; + message);\n  }\n  session.commit();\n}\ncatch (JMSException jmsex) {\n}\n</code></pre>\n"}],"owner":{"account_id":26297453,"reputation":33,"user_id":19963454,"display_name":"greeger 228"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77256883,"answer_count":1,"score":1,"last_activity_date":1696835646,"creation_date":1696832995,"question_id":77256663,"body_markdown":"I found [similar question](https://stackoverflow.com/questions/6022576/can-i-send-batched-messages-through-a-websphere-mq-queue-using-java-jms), but I dont know how to apply the answer to my program. I dont understand how to open session and send all messages in one transaction.\r\n\r\nFor now I call `JmsTemplate.convertAndSend(&quot;queue&quot;, &quot;message&quot;)` in a for loop.","title":"How to send messages to ibm mq transactionally","body":"<p>I found <a href=\"https://stackoverflow.com/questions/6022576/can-i-send-batched-messages-through-a-websphere-mq-queue-using-java-jms\">similar question</a>, but I dont know how to apply the answer to my program. I dont understand how to open session and send all messages in one transaction.</p>\n<p>For now I call <code>JmsTemplate.convertAndSend(&quot;queue&quot;, &quot;message&quot;)</code> in a for loop.</p>\n"},{"tags":["javascript","java","selenium-webdriver","digital-signature","signature"],"owner":{"account_id":29318897,"reputation":1,"user_id":22462939,"display_name":"Anony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696835442,"creation_date":1696485945,"question_id":77234577,"body_markdown":"I&#39;m currently working on automating a web application using Selenium and Java. Our task involves automating a digital signature on a canvas element, but unfortunately, nothing seems to be drawn on the canvas.\r\n\r\nI&#39;ve included my automation script and the relevant HTML code below. Could anyone provide guidance or a solution to this issue?\r\n```\r\n WebElement canvas = driver.findElement(By.id(&quot;react-sketch-canvas__canvas-background&quot;));\r\n\r\n        Actions builder = new Actions(driver);\r\n        Action draw = builder.moveToElement(canvas, 50, 50) // Start at position (50, 50)\r\n                            .clickAndHold()\r\n                            .moveByOffset(100, 0) // Draw a line to the right (100 pixels)\r\n                            .moveByOffset(0, 100) // Draw a line downwards (100 pixels)\r\n                            .release()\r\n                            .build();\r\n\r\n        draw.perform();\r\n```\r\n\r\nHTML code:\r\n```\r\n&lt;g id=&quot;react-sketch-canvas__canvas-background-group&quot;&gt;&lt;rect id=&quot;react-sketch-canvas__canvas-background&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;100%&quot; height=&quot;100%&quot; fill=&quot;white&quot;&gt;&lt;/rect&gt;&lt;/g&gt;\r\n&lt;rect id=&quot;react-sketch-canvas__canvas-background&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;100%&quot; height=&quot;100%&quot; fill=&quot;white&quot;&gt;&lt;/rect&gt;\r\n&lt;g id=&quot;react-sketch-canvas__canvas-background-group&quot;&gt;&lt;rect id=&quot;react-sketch-canvas__canvas-background&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;100%&quot; height=&quot;100%&quot; fill=&quot;white&quot;&gt;&lt;/rect&gt;&lt;/g&gt;\r\n```\r\n\r\nI tried doing that using Javascript and Actions class but nothing works.","title":"Digital Signature on Canvas with Selenium Java","body":"<p>I'm currently working on automating a web application using Selenium and Java. Our task involves automating a digital signature on a canvas element, but unfortunately, nothing seems to be drawn on the canvas.</p>\n<p>I've included my automation script and the relevant HTML code below. Could anyone provide guidance or a solution to this issue?</p>\n<pre><code> WebElement canvas = driver.findElement(By.id(&quot;react-sketch-canvas__canvas-background&quot;));\n\n        Actions builder = new Actions(driver);\n        Action draw = builder.moveToElement(canvas, 50, 50) // Start at position (50, 50)\n                            .clickAndHold()\n                            .moveByOffset(100, 0) // Draw a line to the right (100 pixels)\n                            .moveByOffset(0, 100) // Draw a line downwards (100 pixels)\n                            .release()\n                            .build();\n\n        draw.perform();\n</code></pre>\n<p>HTML code:</p>\n<pre><code>&lt;g id=&quot;react-sketch-canvas__canvas-background-group&quot;&gt;&lt;rect id=&quot;react-sketch-canvas__canvas-background&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;100%&quot; height=&quot;100%&quot; fill=&quot;white&quot;&gt;&lt;/rect&gt;&lt;/g&gt;\n&lt;rect id=&quot;react-sketch-canvas__canvas-background&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;100%&quot; height=&quot;100%&quot; fill=&quot;white&quot;&gt;&lt;/rect&gt;\n&lt;g id=&quot;react-sketch-canvas__canvas-background-group&quot;&gt;&lt;rect id=&quot;react-sketch-canvas__canvas-background&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;100%&quot; height=&quot;100%&quot; fill=&quot;white&quot;&gt;&lt;/rect&gt;&lt;/g&gt;\n</code></pre>\n<p>I tried doing that using Javascript and Actions class but nothing works.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696831778,"post_id":77256118,"comment_id":136198203,"body_markdown":"Does this helps : https://stackoverflow.com/questions/32319396/cors-with-spring-boot-and-angularjs-not-working","body":"Does this helps : <a href=\"https://stackoverflow.com/questions/32319396/cors-with-spring-boot-and-angularjs-not-working\" title=\"cors with spring boot and angularjs not working\">stackoverflow.com/questions/32319396/&hellip;</a>"},{"owner":{"account_id":28042409,"reputation":9,"user_id":21419747,"display_name":"nathan augusto barbosa"},"score":0,"creation_date":1696855052,"post_id":77256118,"comment_id":136202304,"body_markdown":"It didn&#39;t work because in the video I put it I only use https://www.youtube.com/watch?v=hqhogtMZCq0\njump to minute 3:48 it just uses @CrossOrigin(origins=&quot;*&quot;) and it works but on mine it doesn&#39;t","body":"It didn&#39;t work because in the video I put it I only use <a href=\"https://www.youtube.com/watch?v=hqhogtMZCq0\" rel=\"nofollow noreferrer\">youtube.com/watch?v=hqhogtMZCq0</a> jump to minute 3:48 it just uses @CrossOrigin(origins=&quot;*&quot;) and it works but on mine it doesn&#39;t"}],"owner":{"account_id":28042409,"reputation":9,"user_id":21419747,"display_name":"nathan augusto barbosa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1696835413,"creation_date":1696821806,"question_id":77256118,"body_markdown":"I&#39;m trying to get rid of the `cors` error in the index but it&#39;s not working. I tried using the code `@CrossOrigin(origins=&quot;*&quot;)` but it didn&#39;t work. Is it because I&#39;m using version 21 and in the video it uses version 17?\r\n\r\n    @RestController\r\n    @CrossOrigin(origins=&quot;*&quot;)\r\n\r\n    public class Controller {\r\n    @Autowired\r\n    private Repositorio acao;\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    \r\n    public Cliente cadastrar(@RequestBody Cliente c ){\r\n        return acao.save(c);\r\n    }\r\n    @GetMapping(&quot;/&quot;)\r\n    public Iterable&lt;Cliente&gt; teste(){\r\n        return acao.findAll();\r\n    }\r\n\r\n    @PutMapping(&quot;/&quot;)\r\n    public Cliente editar(@RequestBody Cliente c){\r\n        return acao.save(c);\r\n    }\r\n    @DeleteMapping(&quot;/{codigo}&quot;)\r\n    public void remover(@PathVariable long codigo){\r\n        acao.deleteById(codigo);\r\n    }\r\n    }\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/AQqnC.png)\r\n","title":"CrossOrigin code in spring to remove the index error","body":"<p>I'm trying to get rid of the <code>cors</code> error in the index but it's not working. I tried using the code <code>@CrossOrigin(origins=&quot;*&quot;)</code> but it didn't work. Is it because I'm using version 21 and in the video it uses version 17?</p>\n<pre><code>@RestController\n@CrossOrigin(origins=&quot;*&quot;)\n\npublic class Controller {\n@Autowired\nprivate Repositorio acao;\n\n@PostMapping(&quot;/&quot;)\n\npublic Cliente cadastrar(@RequestBody Cliente c ){\n    return acao.save(c);\n}\n@GetMapping(&quot;/&quot;)\npublic Iterable&lt;Cliente&gt; teste(){\n    return acao.findAll();\n}\n\n@PutMapping(&quot;/&quot;)\npublic Cliente editar(@RequestBody Cliente c){\n    return acao.save(c);\n}\n@DeleteMapping(&quot;/{codigo}&quot;)\npublic void remover(@PathVariable long codigo){\n    acao.deleteById(codigo);\n}\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/AQqnC.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring-boot","weka"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1696460393,"post_id":77228795,"comment_id":136157546,"body_markdown":"please share the error that you are getting","body":"please share the error that you are getting"}],"answers":[{"tags":[],"owner":{"account_id":25113755,"reputation":71,"user_id":19801993,"display_name":"SamPaul Isaac"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696437448,"creation_date":1696429749,"answer_id":77230487,"question_id":77228795,"body_markdown":"**In Java, any task/operation which is to be performed should be inside a function.**\r\n\r\nBelow is the updated code.\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import weka.core.Instances;\r\n    import weka.core.converters.CSVLoader;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    @SpringBootApplication\r\n    public class Demo3Application {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \t\tSpringApplication.run(Demo3Application.class, args);\r\n    \t\tCSVLoader loader = new CSVLoader();\r\n    \t\tloader.setSource(new File(&quot;C:\\\\Users\\\\Caroline.Karam\\\\IdeaProjects\\\\demo3\\\\testdata3.csv.csv&quot;));\r\n    \t\tInstances data = loader.getDataSet();\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Can&#39;t load a csv file using CSVLoader","body":"<p><strong>In Java, any task/operation which is to be performed should be inside a function.</strong></p>\n<p>Below is the updated code.</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport weka.core.Instances;\nimport weka.core.converters.CSVLoader;\n\nimport java.io.File;\nimport java.io.IOException;\n\n@SpringBootApplication\npublic class Demo3Application {\n\n    public static void main(String[] args) throws IOException {\n        SpringApplication.run(Demo3Application.class, args);\n        CSVLoader loader = new CSVLoader();\n        loader.setSource(new File(&quot;C:\\\\Users\\\\Caroline.Karam\\\\IdeaProjects\\\\demo3\\\\testdata3.csv.csv&quot;));\n        Instances data = loader.getDataSet();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22093934,"reputation":448,"user_id":16351561,"display_name":"AndreaCavallo.class"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696661351,"creation_date":1696661351,"answer_id":77248702,"question_id":77228795,"body_markdown":"    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    import weka.core.Instances;\r\n    import weka.core.converters.CSVLoader;\r\n    \r\n    @SpringBootApplication\r\n    public class Demo3Application {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Demo3Application.class, args);\r\n        }\r\n    \r\n        @PostConstruct\r\n        public void loadCSV() {\r\n            try {\r\n                // Load CSV file\r\n                CSVLoader loader = new CSVLoader();\r\n                loader.setSource(new File(&quot;C:\\\\Users\\\\Caroline.Karam\\\\IdeaProjects\\\\demo3\\\\testdata3.csv.csv&quot;));\r\n                Instances data = loader.getDataSet();\r\n                // TODO: Do something with the data\r\n    \r\n            } catch (IOException e) {\r\n                // Log and handle the exception\r\n                System.err.println(&quot;An error occurred while loading the CSV file: &quot; + e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Can&#39;t load a csv file using CSVLoader","body":"<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport javax.annotation.PostConstruct;\nimport java.io.File;\nimport java.io.IOException;\n\nimport weka.core.Instances;\nimport weka.core.converters.CSVLoader;\n\n@SpringBootApplication\npublic class Demo3Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Demo3Application.class, args);\n    }\n\n    @PostConstruct\n    public void loadCSV() {\n        try {\n            // Load CSV file\n            CSVLoader loader = new CSVLoader();\n            loader.setSource(new File(&quot;C:\\\\Users\\\\Caroline.Karam\\\\IdeaProjects\\\\demo3\\\\testdata3.csv.csv&quot;));\n            Instances data = loader.getDataSet();\n            // TODO: Do something with the data\n\n        } catch (IOException e) {\n            // Log and handle the exception\n            System.err.println(&quot;An error occurred while loading the CSV file: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26009946,"reputation":19,"user_id":19719169,"display_name":"Carol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1696670685,"accepted_answer_id":77230487,"answer_count":2,"score":-2,"last_activity_date":1696835233,"creation_date":1696415468,"question_id":77228795,"body_markdown":"While using weka csv loader it gives me error in setSource Function &quot; cannot resolve setSource\r\n\r\n\r\n```\r\nimport weka.core.Instances;\r\nimport weka.core.converters.CSVLoader;\r\nimport java.io.File;\r\n@SpringBootApplication\r\npublic class Demo3Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Demo3Application.class, args);\r\n\t}\r\n\r\n\r\n\t// Load CSV file\r\n\tCSVLoader loader = new CSVLoader();\r\n\tloader.setSource(new File(&quot;C:\\\\Users\\\\user\\\\IdeaProjects\\\\demo3\\\\testdata3.csv.csv&quot;));\r\n\tInstances data = loader.getDataSet();\r\n}\r\n```","title":"Can&#39;t load a csv file using CSVLoader","body":"<p>While using weka csv loader it gives me error in setSource Function &quot; cannot resolve setSource</p>\n<pre><code>import weka.core.Instances;\nimport weka.core.converters.CSVLoader;\nimport java.io.File;\n@SpringBootApplication\npublic class Demo3Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Demo3Application.class, args);\n    }\n\n\n    // Load CSV file\n    CSVLoader loader = new CSVLoader();\n    loader.setSource(new File(&quot;C:\\\\Users\\\\user\\\\IdeaProjects\\\\demo3\\\\testdata3.csv.csv&quot;));\n    Instances data = loader.getDataSet();\n}\n</code></pre>\n"},{"tags":["java","swagger","springfox"],"comments":[{"owner":{"account_id":28758112,"reputation":401,"user_id":22024689,"display_name":"Iman Hosseinzadeh"},"score":0,"creation_date":1696836407,"post_id":77250056,"comment_id":136198861,"body_markdown":"Check this question: \n\nhttps://stackoverflow.com/questions/65822218/springfox-swagger-ui-html-not-loading","body":"Check this question:   <a href=\"https://stackoverflow.com/questions/65822218/springfox-swagger-ui-html-not-loading\" title=\"springfox swagger ui html not loading\">stackoverflow.com/questions/65822218/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3537420,"reputation":400,"user_id":2955337,"display_name":"sleepyhead"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696688160,"creation_date":1696688160,"answer_id":77250154,"question_id":77250056,"body_markdown":"When I look at the sources below I see a project that looks abandoned for 3 years now, right after 3.0.0 was released, with questions on this error not answered. My guess is that setting the baseUrl is required somewhere and I would experiment with the @enableswagger2 or use spring boot without springfox.\r\n\r\nhttps://github.com/springfox/springfox\r\n\r\nhttps://stackoverflow.com/questions/74065529/springfox-boot-starter-3-0-0-unable-to-infer-base-url\r\n\r\nhttps://springfox.github.io/springfox/docs/current/\r\n\r\nhttps://github.com/springfox/springfox/issues/4064\r\n\r\n@EnableSwagger2\r\n\r\n```\r\npublic SwaggerUiWebMvcConfigurer(String baseUrl) {\r\n    this.baseUrl = baseUrl;\r\n  }\r\n```","title":"I can&#39;t log in to swagger. Unable to infer base url","body":"<p>When I look at the sources below I see a project that looks abandoned for 3 years now, right after 3.0.0 was released, with questions on this error not answered. My guess is that setting the baseUrl is required somewhere and I would experiment with the @enableswagger2 or use spring boot without springfox.</p>\n<p><a href=\"https://github.com/springfox/springfox\" rel=\"nofollow noreferrer\">https://github.com/springfox/springfox</a></p>\n<p><a href=\"https://stackoverflow.com/questions/74065529/springfox-boot-starter-3-0-0-unable-to-infer-base-url\">springfox-boot-starter 3.0.0 : Unable to infer base url</a></p>\n<p><a href=\"https://springfox.github.io/springfox/docs/current/\" rel=\"nofollow noreferrer\">https://springfox.github.io/springfox/docs/current/</a></p>\n<p><a href=\"https://github.com/springfox/springfox/issues/4064\" rel=\"nofollow noreferrer\">https://github.com/springfox/springfox/issues/4064</a></p>\n<p>@EnableSwagger2</p>\n<pre><code>public SwaggerUiWebMvcConfigurer(String baseUrl) {\n    this.baseUrl = baseUrl;\n  }\n</code></pre>\n"}],"owner":{"account_id":29138698,"reputation":1,"user_id":22322222,"display_name":"PoToM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696835215,"creation_date":1696686559,"question_id":77250056,"body_markdown":"Gives the following error. I don&#39;t use spring Security\r\ntried different versions, rebuilt the project, no idea what the problem is\r\n\r\n```\r\n@Configuration\r\n@EnableSwagger2WebMvc\r\npublic class SwaggerConfig {\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.mycompany.trainbooking.controller&quot;))\r\n                .paths(PathSelectors.any())\r\n                .build()\r\n                .apiInfo(apiInfo())\r\n                .host(&quot;localhost:8080&quot;)\r\n                .pathMapping(&quot;/tickets&quot;);\r\n    }\r\n\r\n    private ApiInfo apiInfo() {\r\n        return new ApiInfoBuilder()\r\n                .title(&quot;Train Booking API&quot;)\r\n                .description(&quot;API для управления бронированием билетов на поезд&quot;)\r\n                .version(&quot;1.0&quot;)\r\n                .build();\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n```\r\n&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.10.5&lt;/version&gt; &lt;!-- Обновите до актуальной версии Swagger --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.10.5&lt;/version&gt; &lt;!-- Используйте ту же версию, что и springfox-swagger2 --&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/tickets&quot;)\r\n```\r\n[enter image description here](https://i.stack.imgur.com/Pk9Lv.jpg)\r\n\r\n\r\nI wrote path Mapping(&quot;/&quot;) differently, and generally cleaned","title":"I can&#39;t log in to swagger. Unable to infer base url","body":"<p>Gives the following error. I don't use spring Security\ntried different versions, rebuilt the project, no idea what the problem is</p>\n<pre><code>@Configuration\n@EnableSwagger2WebMvc\npublic class SwaggerConfig {\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.mycompany.trainbooking.controller&quot;))\n                .paths(PathSelectors.any())\n                .build()\n                .apiInfo(apiInfo())\n                .host(&quot;localhost:8080&quot;)\n                .pathMapping(&quot;/tickets&quot;);\n    }\n\n    private ApiInfo apiInfo() {\n        return new ApiInfoBuilder()\n                .title(&quot;Train Booking API&quot;)\n                .description(&quot;API для управления бронированием билетов на поезд&quot;)\n                .version(&quot;1.0&quot;)\n                .build();\n    }\n}\n\n\n</code></pre>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.10.5&lt;/version&gt; &lt;!-- Обновите до актуальной версии Swagger --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.10.5&lt;/version&gt; &lt;!-- Используйте ту же версию, что и springfox-swagger2 --&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre><code>@RestController\n@RequestMapping(&quot;/tickets&quot;)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Pk9Lv.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I wrote path Mapping(&quot;/&quot;) differently, and generally cleaned</p>\n"},{"tags":["java","node.js","spring-boot","visual-studio-code","node-modules"],"comments":[{"owner":{"account_id":7573059,"reputation":2286,"user_id":5746236,"display_name":"Yash Rami"},"score":0,"creation_date":1643022979,"post_id":70832824,"comment_id":125221092,"body_markdown":"you need to create the API in spring boot and consume that api in the front end","body":"you need to create the API in spring boot and consume that api in the front end"},{"owner":{"account_id":22639709,"reputation":1,"user_id":16816064,"display_name":"Chrisbees"},"score":0,"creation_date":1643023848,"post_id":70832824,"comment_id":125221457,"body_markdown":"how do I do that?","body":"how do I do that?"},{"owner":{"account_id":7573059,"reputation":2286,"user_id":5746236,"display_name":"Yash Rami"},"score":0,"creation_date":1643027078,"post_id":70832824,"comment_id":125222670,"body_markdown":"have you used any front end framework?","body":"have you used any front end framework?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643790572,"post_id":70832824,"comment_id":125429772,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":19885858,"reputation":11,"user_id":14568847,"display_name":"ahsan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646064082,"creation_date":1646064082,"answer_id":71297719,"question_id":70832824,"body_markdown":"Develop all your necessary API&#39;s with spring boot for getting backend data. Then, to get the data in frontend you can use ExpressJs (web application framework for Node.js). ","title":"Vscode frontend link with springboot","body":"<p>Develop all your necessary API's with spring boot for getting backend data. Then, to get the data in frontend you can use ExpressJs (web application framework for Node.js).</p>\n"},{"tags":[],"owner":{"account_id":29627722,"reputation":1,"user_id":22706954,"display_name":"harsh gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696834764,"creation_date":1696834764,"answer_id":77256813,"question_id":70832824,"body_markdown":"To connnect your SpringBoot Backend Server with your SpringBoot Running Application let&#39;s Say At localhost 8080 then you just Have to know your Backend Api&#39;s are working or not for that Postman is the best tool. then As you said you have the data but you just have to post or get it from server then you can use XML Http Request from you frontend at Specific URL, And will surely get the payload/ Post it to the server here is XML Http Request Example:-\r\n\r\n```\r\n// Define the data you want to send to the server\r\nconst dataToSend = {\r\n  name: &quot;John Doe&quot;,\r\n  email: &quot;johndoe@example.com&quot;,\r\n};\r\n\r\n// Create a new XMLHttpRequest object\r\nconst xhr = new XMLHttpRequest();\r\n\r\n \r\nxhr.open(&quot;POST&quot;, &quot;http://localhost:8080/api/create&quot;, true);\r\n\r\n\r\nxhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n \r\nxhr.onload = function () {\r\n  if (xhr.status === 200) {\r\n    // Request was successful, handle the response data here\r\n    const responseData = JSON.parse(xhr.responseText);\r\n    console.log(&quot;Response from server:&quot;, responseData);\r\n  } else {\r\n    // Request encountered an error, handle the error here\r\n    console.error(&quot;Error:&quot;, xhr.status, xhr.statusText);\r\n  }\r\n};\r\n\r\n \r\nxhr.onerror = function () {\r\n  console.error(&quot;Network error occurred&quot;);\r\n};\r\n\r\n \r\nconst jsonData = JSON.stringify(dataToSend);\r\n\r\n \r\nxhr.send(jsonData);\r\n```\r\nDon&#39;t forget to Stringify your data for converting to JSON Format .\r\n\r\nIt&#39;s Just One Working Way to Connect Front-End With SpringBoot Application.\r\n\r\nHAPPY LEARNING.:)","title":"Vscode frontend link with springboot","body":"<p>To connnect your SpringBoot Backend Server with your SpringBoot Running Application let's Say At localhost 8080 then you just Have to know your Backend Api's are working or not for that Postman is the best tool. then As you said you have the data but you just have to post or get it from server then you can use XML Http Request from you frontend at Specific URL, And will surely get the payload/ Post it to the server here is XML Http Request Example:-</p>\n<pre><code>// Define the data you want to send to the server\nconst dataToSend = {\n  name: &quot;John Doe&quot;,\n  email: &quot;johndoe@example.com&quot;,\n};\n\n// Create a new XMLHttpRequest object\nconst xhr = new XMLHttpRequest();\n\n \nxhr.open(&quot;POST&quot;, &quot;http://localhost:8080/api/create&quot;, true);\n\n\nxhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n \nxhr.onload = function () {\n  if (xhr.status === 200) {\n    // Request was successful, handle the response data here\n    const responseData = JSON.parse(xhr.responseText);\n    console.log(&quot;Response from server:&quot;, responseData);\n  } else {\n    // Request encountered an error, handle the error here\n    console.error(&quot;Error:&quot;, xhr.status, xhr.statusText);\n  }\n};\n\n \nxhr.onerror = function () {\n  console.error(&quot;Network error occurred&quot;);\n};\n\n \nconst jsonData = JSON.stringify(dataToSend);\n\n \nxhr.send(jsonData);\n</code></pre>\n<p>Don't forget to Stringify your data for converting to JSON Format .</p>\n<p>It's Just One Working Way to Connect Front-End With SpringBoot Application.</p>\n<p>HAPPY LEARNING.:)</p>\n"}],"owner":{"account_id":22639709,"reputation":1,"user_id":16816064,"display_name":"Chrisbees"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696834764,"creation_date":1643022287,"question_id":70832824,"body_markdown":"I built my frontend with vscode (html,sass and js node modules) and my backend with springboot. How do i link my springboot backend to my vscode frontend?","title":"Vscode frontend link with springboot","body":"<p>I built my frontend with vscode (html,sass and js node modules) and my backend with springboot. How do i link my springboot backend to my vscode frontend?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696834447,"creation_date":1696602385,"answer_id":77245255,"question_id":77244632,"body_markdown":"You need to set additional property,\r\n\r\n    spring.jpa.defer-datasource-initialization=true\r\n\r\nIn yaml form,\r\n\r\n    spring:\r\n        jpa:\r\n          defer-datasource-initialization:true\r\n            \r\n\r\n","title":"Why is the schema not created within SpringBoot Application","body":"<p>You need to set additional property,</p>\n<pre><code>spring.jpa.defer-datasource-initialization=true\n</code></pre>\n<p>In yaml form,</p>\n<pre><code>spring:\n    jpa:\n      defer-datasource-initialization:true\n        \n</code></pre>\n"}],"owner":{"account_id":15454135,"reputation":117,"user_id":11148741,"display_name":"Matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77245255,"answer_count":1,"score":0,"last_activity_date":1696834447,"creation_date":1696597010,"question_id":77244632,"body_markdown":"A spring boot application (3.1.4).\r\n\r\nFor faster progress with flyway migrations the schema should be created and written to a file. This is the configuration:\r\n\r\napplication.yml:\r\n```\r\nserver:\r\n  port: ${PORT:8080}\r\n\r\napplication:\r\n  title: MyApp\r\n  version: @project.version@\r\n  buildnumber: @buildNumber@\r\n\r\nspring:\r\n  profiles:\r\n    active: @activatedProperties@\r\n  \r\n  jpa:\r\n      open-in-view: false\r\n```\r\n\r\napplication-createsql.yml\r\n\r\n```\r\nflyway:\r\n  enabled: false\r\n\r\nspring:\r\n  datasource:\r\n    url: &quot;jdbc:h2:file:./data/myDB&quot;\r\n    driverClassName: org.h2.Driver\r\n    username: sa\r\n    password: password\r\n\r\n    jpa:\r\n      properties:\r\n        jakarta:\r\n          persistence:\r\n            schema-generation:\r\n              create-source: metadata\r\n              scripts:\r\n                action: drop-and-create\r\n                create-target: create.sql\r\n                drop-target: drop.sql\r\n```\r\nIf the application is started with this profile nothing happens, I would expect the file create.sql to be created within project root folder. Also if I exchange jakarta with javax nothing happens.\r\n\r\nWhat could be the reason for this?\r\n\r\nThanks and Best Regards\r\nmatt","title":"Why is the schema not created within SpringBoot Application","body":"<p>A spring boot application (3.1.4).</p>\n<p>For faster progress with flyway migrations the schema should be created and written to a file. This is the configuration:</p>\n<p>application.yml:</p>\n<pre><code>server:\n  port: ${PORT:8080}\n\napplication:\n  title: MyApp\n  version: @project.version@\n  buildnumber: @buildNumber@\n\nspring:\n  profiles:\n    active: @activatedProperties@\n  \n  jpa:\n      open-in-view: false\n</code></pre>\n<p>application-createsql.yml</p>\n<pre><code>flyway:\n  enabled: false\n\nspring:\n  datasource:\n    url: &quot;jdbc:h2:file:./data/myDB&quot;\n    driverClassName: org.h2.Driver\n    username: sa\n    password: password\n\n    jpa:\n      properties:\n        jakarta:\n          persistence:\n            schema-generation:\n              create-source: metadata\n              scripts:\n                action: drop-and-create\n                create-target: create.sql\n                drop-target: drop.sql\n</code></pre>\n<p>If the application is started with this profile nothing happens, I would expect the file create.sql to be created within project root folder. Also if I exchange jakarta with javax nothing happens.</p>\n<p>What could be the reason for this?</p>\n<p>Thanks and Best Regards\nmatt</p>\n"},{"tags":["java","spring-boot","quartz-scheduler"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696768767,"post_id":77252928,"comment_id":136193059,"body_markdown":"By providing the proper cron expression, which you now probably have for every minute. WIthout knowing how you schedule these things this will be impossible to know.","body":"By providing the proper cron expression, which you now probably have for every minute. WIthout knowing how you schedule these things this will be impossible to know."}],"answers":[{"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696834012,"creation_date":1696834012,"answer_id":77256750,"question_id":77252928,"body_markdown":"Create a Quartz job by implementing the org.quartz.Job interface. This interface requires you to implement the execute() method, which contains the logic to be executed by the job.\r\n\r\n    public class MyJob implements Job {\r\n    @Override\r\n    public void execute(JobExecutionContext context) throws JobExecutionException {\r\n        // Your job logic goes here\r\n     }\r\n    }\r\n\r\nConfigure the job and trigger in a Quartz configuration class using the @Configuration annotation. Define a SchedulerFactoryBean bean and set the job and trigger details.\r\n\r\n     @Configuration\r\n     public class QuartzConfig {\r\n    // Define your job\r\n    @Bean\r\n    public JobDetailFactoryBean jobDetailFactoryBean() {\r\n        JobDetailFactoryBean factory = new JobDetailFactoryBean();\r\n        factory.setJobClass(MyJob.class);\r\n        return factory;\r\n    }\r\n\r\n    // Define your trigger\r\n    @Bean\r\n    public SimpleTriggerFactoryBean simpleTriggerFactoryBean() {\r\n        SimpleTriggerFactoryBean factory = new SimpleTriggerFactoryBean();\r\n        factory.setJobDetail(jobDetailFactoryBean().getObject());\r\n        factory.setRepeatInterval(60000); // Repeat every 60 seconds\r\n        return factory;\r\n    }\r\n\r\n    // Define the scheduler\r\n    @Bean\r\n    public SchedulerFactoryBean schedulerFactoryBean() {\r\n        SchedulerFactoryBean factory = new SchedulerFactoryBean();\r\n        factory.setTriggers(simpleTriggerFactoryBean().getObject());\r\n        return factory;\r\n     }\r\n    }\r\n","title":"spring QuartzJobBean set frequency","body":"<p>Create a Quartz job by implementing the org.quartz.Job interface. This interface requires you to implement the execute() method, which contains the logic to be executed by the job.</p>\n<pre><code>public class MyJob implements Job {\n@Override\npublic void execute(JobExecutionContext context) throws JobExecutionException {\n    // Your job logic goes here\n }\n}\n</code></pre>\n<p>Configure the job and trigger in a Quartz configuration class using the @Configuration annotation. Define a SchedulerFactoryBean bean and set the job and trigger details.</p>\n<pre><code> @Configuration\n public class QuartzConfig {\n// Define your job\n@Bean\npublic JobDetailFactoryBean jobDetailFactoryBean() {\n    JobDetailFactoryBean factory = new JobDetailFactoryBean();\n    factory.setJobClass(MyJob.class);\n    return factory;\n}\n\n// Define your trigger\n@Bean\npublic SimpleTriggerFactoryBean simpleTriggerFactoryBean() {\n    SimpleTriggerFactoryBean factory = new SimpleTriggerFactoryBean();\n    factory.setJobDetail(jobDetailFactoryBean().getObject());\n    factory.setRepeatInterval(60000); // Repeat every 60 seconds\n    return factory;\n}\n\n// Define the scheduler\n@Bean\npublic SchedulerFactoryBean schedulerFactoryBean() {\n    SchedulerFactoryBean factory = new SchedulerFactoryBean();\n    factory.setTriggers(simpleTriggerFactoryBean().getObject());\n    return factory;\n }\n}\n</code></pre>\n"}],"owner":{"account_id":6090414,"reputation":348,"user_id":11758203,"display_name":"Rahul SK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696834012,"creation_date":1696755100,"question_id":77252928,"body_markdown":"I have a spring boot app,my scheduler class as follows up.\r\nProblem is, it runs every one minute.\r\nhow do i schedule it to run every 1 hour instead of every1 minute?\r\n\r\n\r\n    import org.springframework.scheduling.quartz.QuartzJobBean;\r\n\r\n    public class ApplicationPendingConsentJob extends QuartzJobBean {\r\n\t\r\n    }","title":"spring QuartzJobBean set frequency","body":"<p>I have a spring boot app,my scheduler class as follows up.\nProblem is, it runs every one minute.\nhow do i schedule it to run every 1 hour instead of every1 minute?</p>\n<pre><code>import org.springframework.scheduling.quartz.QuartzJobBean;\n\npublic class ApplicationPendingConsentJob extends QuartzJobBean {\n\n}\n</code></pre>\n"},{"tags":["javascript","java","shacl"],"answers":[{"tags":[],"owner":{"account_id":11216540,"reputation":1211,"user_id":8228978,"display_name":"Holger Knublauch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696833883,"creation_date":1696833883,"answer_id":77256740,"question_id":77254985,"body_markdown":"Maybe the successor of Nashorn - GraalVM - can help, but I don&#39;t know for sure.\r\n\r\nI personally wouldn&#39;t invest into SHACL-JS further, as I don&#39;t think it has been widely used outside of TopBraid tools. And even there we have removed SHACL-JS support recently, in favour of a more comprehensive JavaScript-based technology that we developed for our product, called Active Data Shapes. Not all W3C drafts make it into standards or de-facto standards.","title":"Executing SHACL JavaScript Extension via org/topbraid/shacl/1.3.2","body":"<p>Maybe the successor of Nashorn - GraalVM - can help, but I don't know for sure.</p>\n<p>I personally wouldn't invest into SHACL-JS further, as I don't think it has been widely used outside of TopBraid tools. And even there we have removed SHACL-JS support recently, in favour of a more comprehensive JavaScript-based technology that we developed for our product, called Active Data Shapes. Not all W3C drafts make it into standards or de-facto standards.</p>\n"}],"owner":{"account_id":19576542,"reputation":55,"user_id":14326506,"display_name":"Livio Robaldo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77256740,"answer_count":1,"score":0,"last_activity_date":1696833883,"creation_date":1696792158,"question_id":77254985,"body_markdown":"I am trying to learn how to validate RDF graphs by using the SHACL JavaScript Extensions:\r\n\r\nhttps://www.w3.org/TR/shacl-js/\r\n\r\nI am trying to execute the ex:germanLabel example here: https://www.w3.org/TR/shacl-js/#js-constraints-example\r\n\r\nBut I don&#39;t manage: I get the exception &quot;Exception: Oracle Nashorn not found in the current context&quot;\r\n\r\nI am using shacl-1.3.2.jar from: https://repo1.maven.org/maven2/org/topbraid/shacl/1.3.2/\r\n\r\nAnd I have JDK 19. \r\n\r\nI read at &quot;https://en.wikipedia.org/wiki/Nashorn_(JavaScript_engine)&quot; that Nashorn has been removed from JDK 15 onwards.\r\n\r\nDoes that mean that the only way to execute the SHACL JavaScript extension is to use an outdated JDK, e.g., JDK 8?\r\n\r\nOr is there any other option? Does any of you know some sample code that I can download and run?\r\n\r\nThanks \r\nLivio\r\n\r\n","title":"Executing SHACL JavaScript Extension via org/topbraid/shacl/1.3.2","body":"<p>I am trying to learn how to validate RDF graphs by using the SHACL JavaScript Extensions:</p>\n<p><a href=\"https://www.w3.org/TR/shacl-js/\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/shacl-js/</a></p>\n<p>I am trying to execute the ex:germanLabel example here: <a href=\"https://www.w3.org/TR/shacl-js/#js-constraints-example\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/shacl-js/#js-constraints-example</a></p>\n<p>But I don't manage: I get the exception &quot;Exception: Oracle Nashorn not found in the current context&quot;</p>\n<p>I am using shacl-1.3.2.jar from: <a href=\"https://repo1.maven.org/maven2/org/topbraid/shacl/1.3.2/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/topbraid/shacl/1.3.2/</a></p>\n<p>And I have JDK 19.</p>\n<p>I read at &quot;https://en.wikipedia.org/wiki/Nashorn_(JavaScript_engine)&quot; that Nashorn has been removed from JDK 15 onwards.</p>\n<p>Does that mean that the only way to execute the SHACL JavaScript extension is to use an outdated JDK, e.g., JDK 8?</p>\n<p>Or is there any other option? Does any of you know some sample code that I can download and run?</p>\n<p>Thanks\nLivio</p>\n"},{"tags":["java","spring-boot","cassandra","datastax","datastax-java-driver"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696487735,"post_id":77234431,"comment_id":136159673,"body_markdown":"I even doubt that this property would do anything in Spring Data Cassandra. Should you set `spring.data.cassandra.request.duration` for this?","body":"I even doubt that this property would do anything in Spring Data Cassandra. Should you set <code>spring.data.cassandra.request.duration</code> for this?"},{"owner":{"account_id":1051982,"reputation":187,"user_id":1055679,"display_name":"Sudhirkumar Murkute"},"score":0,"creation_date":1696917708,"post_id":77234431,"comment_id":136210333,"body_markdown":"@M.Deinum You are suggesting to use `spring.data.cassandra.request.timeout` ?","body":"@M.Deinum You are suggesting to use <code>spring.data.cassandra.request.timeout</code> ?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696918565,"post_id":77234431,"comment_id":136210441,"body_markdown":"Indeed as that is the one you should configure as the C* driver has no `read-timeout-millis` or anything related to that.","body":"Indeed as that is the one you should configure as the C* driver has no <code>read-timeout-millis</code> or anything related to that."}],"owner":{"account_id":1051982,"reputation":187,"user_id":1055679,"display_name":"Sudhirkumar Murkute"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696833809,"creation_date":1696483358,"question_id":77234431,"body_markdown":"In *Cassandra 3.11v*, we set **read-timeout-millis** properties like below.\r\n\r\n```\r\nspring:\r\n  data:\r\n    cassandra:\r\n      read-timeout-millis: 2000ms\r\n```\r\n\r\nBut how can we set **read-timeout** properties in the latest *Cassandra DataStax 4.x(4.13)*?\r\n\r\nAs per the properties reference given by Cassandra DataStax, we don&#39;t find read-timeout https://docs.datastax.com/en/developer/java-driver/4.13/manual/core/configuration/reference/ \r\n\r\nHow can we set read-timeout properties in the latest Cassandra DataStax 4.x?","title":"How to set read timeout (read-timeout-millis 3.11V ) in latest datastax 4.x version in Cassandra","body":"<p>In <em>Cassandra 3.11v</em>, we set <strong>read-timeout-millis</strong> properties like below.</p>\n<pre><code>spring:\n  data:\n    cassandra:\n      read-timeout-millis: 2000ms\n</code></pre>\n<p>But how can we set <strong>read-timeout</strong> properties in the latest <em>Cassandra DataStax 4.x(4.13)</em>?</p>\n<p>As per the properties reference given by Cassandra DataStax, we don't find read-timeout <a href=\"https://docs.datastax.com/en/developer/java-driver/4.13/manual/core/configuration/reference/\" rel=\"nofollow noreferrer\">https://docs.datastax.com/en/developer/java-driver/4.13/manual/core/configuration/reference/</a></p>\n<p>How can we set read-timeout properties in the latest Cassandra DataStax 4.x?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":3,"creation_date":1696829427,"post_id":77256384,"comment_id":136197967,"body_markdown":"The Java 21 specification says &quot;The underscore may be used in identifiers formed of two or more characters, but it cannot be used as a one-character identifier due to being a keyword.&quot;. This may be the cause of the error.","body":"The Java 21 specification says &quot;The underscore may be used in identifiers formed of two or more characters, but it cannot be used as a one-character identifier due to being a keyword.&quot;. This may be the cause of the error."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1696833459,"creation_date":1696829626,"answer_id":77256442,"question_id":77256384,"body_markdown":"This is a [bug][1]. According to the bug report, it is fixed in Java 21.0.1.\r\n\r\nThis only occurs when variable names are generated, such as by using the `-g` option.\r\n\r\nYou can use `-g:none` to disable it, or turn this option off in [IntelliJ IDEA][2]:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nRebuild the project and it should run.\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8313323\r\n  [2]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [3]: https://i.stack.imgur.com/6ORoRl.png","title":"java 21 preview unnamed symbol for try-with-resource","body":"<p>This is a <a href=\"https://bugs.openjdk.org/browse/JDK-8313323\" rel=\"noreferrer\">bug</a>. According to the bug report, it is fixed in Java 21.0.1.</p>\n<p>This only occurs when variable names are generated, such as by using the <code>-g</code> option.</p>\n<p>You can use <code>-g:none</code> to disable it, or turn this option off in <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"noreferrer\">IntelliJ IDEA</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/6ORoRl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6ORoRl.png\" alt=\"enter image description here\" /></a></p>\n<p>Rebuild the project and it should run.</p>\n"}],"owner":{"account_id":23570327,"reputation":93,"user_id":17610547,"display_name":"kevin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":77256442,"answer_count":1,"score":8,"last_activity_date":1696833459,"creation_date":1696828457,"question_id":77256384,"body_markdown":"I&#39;m reading the java 21 new future [java21 unnamed](https://openjdk.org/jeps/443) ,and I trying to the use unnamed in try-with-resource,But i get the Error: LinkageError occurred while loading main class the Resoen is java.lang.ClassFormatError: Illegal field name &quot;&quot; in class,Is it because this function has not been developed yet or is it a preview, so it is unstable? Or is there something wrong with my usage?\r\n```java\r\n try (var _ = new FileInputStream(&quot;/Users/task/Desktop/ttt&quot;)) {\r\n\r\n    } catch (IOException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n```\r\n\r\nPlease tell me the relevant information. Thank you.","title":"java 21 preview unnamed symbol for try-with-resource","body":"<p>I'm reading the java 21 new future <a href=\"https://openjdk.org/jeps/443\" rel=\"noreferrer\">java21 unnamed</a> ,and I trying to the use unnamed in try-with-resource,But i get the Error: LinkageError occurred while loading main class the Resoen is java.lang.ClassFormatError: Illegal field name &quot;&quot; in class,Is it because this function has not been developed yet or is it a preview, so it is unstable? Or is there something wrong with my usage?</p>\n<pre class=\"lang-java prettyprint-override\"><code> try (var _ = new FileInputStream(&quot;/Users/task/Desktop/ttt&quot;)) {\n\n    } catch (IOException e) {\n      throw new RuntimeException(e);\n    }\n</code></pre>\n<p>Please tell me the relevant information. Thank you.</p>\n"},{"tags":["java","character-encoding"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1604223321,"post_id":64630395,"comment_id":114276161,"body_markdown":"Is 髙 a relatively rare character? My understanding is that ISO-2022-JP is just a &quot;switching charset&quot; which can switch between different other charsets and those don&#39;t cover the entirety of all Japanese characters. You might have run into one that&#39;s simply not supported by that charset (or you might have run into a bug in the ISO-2022-JP implementation).","body":"Is 髙 a relatively rare character? My understanding is that ISO-2022-JP is just a &quot;switching charset&quot; which can switch between different other charsets and those don&#39;t cover the entirety of all Japanese characters. You might have run into one that&#39;s simply not supported by that charset (or you might have run into a bug in the ISO-2022-JP implementation)."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1604224008,"post_id":64630395,"comment_id":114276304,"body_markdown":"You have used &quot;髙&quot; U+9AD9, which is a variant of &quot;高&quot; U+9AD8. When I was typing the former, my IME tells me that &quot;一部のメールクライアントでは表示できません&quot; (some mail clients may not be able to display this) That, plus Joachim Sauer&#39;s comment, it seems like ISO-2022-JP indeed doesn&#39;t support the character.","body":"You have used &quot;髙&quot; U+9AD9, which is a variant of &quot;高&quot; U+9AD8. When I was typing the former, my IME tells me that &quot;一部のメールクライアントでは表示できません&quot; (some mail clients may not be able to display this) That, plus Joachim Sauer&#39;s comment, it seems like ISO-2022-JP indeed doesn&#39;t support the character."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1604224253,"post_id":64630395,"comment_id":114276360,"body_markdown":"[Scroll down this page](http://unicode.scarfboy.com/?s=髙) and find `iso2022_jp` in the list of &quot;Encodings that will damage your data&quot;.","body":"<a href=\"http://unicode.scarfboy.com/?s=%E9%AB%99\" rel=\"nofollow noreferrer\">Scroll down this page</a> and find <code>iso2022_jp</code> in the list of &quot;Encodings that will damage your data&quot;."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1604224867,"post_id":64630395,"comment_id":114276506,"body_markdown":"I don&#39;t think it&#39;s implementation. The character really isn&#39;t supported. Try `iconv` and you&#39;ll get the same problem.","body":"I don&#39;t think it&#39;s implementation. The character really isn&#39;t supported. Try <code>iconv</code> and you&#39;ll get the same problem."}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696833413,"creation_date":1604224970,"answer_id":64630640,"question_id":64630395,"body_markdown":"**From Oracle&#39;s [Supported Encodings Documentation][1] :**\r\n\r\n&gt; You have to use `x-windows-iso2022jp` encoding charset. It is a\r\n&gt; **Variant ISO-2022-JP (MS932 based)**\r\n\r\n\r\nTry out this code:\r\n\r\n    public class App {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tfinal String z = &quot;髙&quot;;\r\n    \t\tfinal Charset charset = Charset.forName(&quot;x-windows-iso2022jp&quot;);\r\n    \t\tfinal byte[] byteArr = z.getBytes(charset);\r\n    \t\tfinal String z2 = new String(byteArr, charset);\r\n    \t\tSystem.out.println(z);\r\n    \t\tSystem.out.println(z2); \r\n    \t}\r\n    \r\n    }\r\n\r\nOutput using AdoptedOpenJDK 11:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/intl/encoding.doc.html\r\n  [2]: https://i.stack.imgur.com/IuOb3.png","title":"Unable to decode a single Japanese kanji character using character set iso-2022-jp","body":"<p><strong>From Oracle's <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/intl/encoding.doc.html\" rel=\"nofollow noreferrer\">Supported Encodings Documentation</a> :</strong></p>\n<blockquote>\n<p>You have to use <code>x-windows-iso2022jp</code> encoding charset. It is a\n<strong>Variant ISO-2022-JP (MS932 based)</strong></p>\n</blockquote>\n<p>Try out this code:</p>\n<pre><code>public class App {\n\n    public static void main(String[] args) {\n        final String z = &quot;髙&quot;;\n        final Charset charset = Charset.forName(&quot;x-windows-iso2022jp&quot;);\n        final byte[] byteArr = z.getBytes(charset);\n        final String z2 = new String(byteArr, charset);\n        System.out.println(z);\n        System.out.println(z2); \n    }\n\n}\n</code></pre>\n<p>Output using AdoptedOpenJDK 11:</p>\n<p><a href=\"https://i.stack.imgur.com/IuOb3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IuOb3.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1041,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64630640,"answer_count":1,"score":1,"last_activity_date":1696833413,"creation_date":1604222896,"question_id":64630395,"body_markdown":"I am processing client emails written in Japanese.  Some have HTML bodies encoded using character set iso-2022-jp.  I found a strange scenario where I am unable to decode a single Japanese kanji character using character set iso-2022-jp.\r\n\r\nSample code to reproduce the issue:\r\n```\r\nfinal String z = &quot;髙&quot;;\r\nfinal Charset charset = Charset.forName(&quot;iso-2022-jp&quot;);\r\nfinal byte[] byteArr = z.getBytes(charset);\r\nfinal String z2 = new String(byteArr, charset);\r\nSystem.out.println(z);  // prints &quot;髙&quot;\r\nSystem.out.println(z2);  // prints &quot;？&quot;\r\n```\r\n\r\nIf I use charset &quot;utf-8&quot;, it works fine.\r\n\r\nTo be clear, I am absolutely sure the character here is Unicode character [U+9AD9][1].  This is a common character in Japanese text, e.g., [Takashimaya dept store][2]: 髙島屋.  The above code will correctly encode/decode the last two chars: 島 and 屋.\r\n\r\nI am 99.99% sure I am using the decode/encode API **incorrectly**.  What am I doing wrong?\r\n\r\nFinally, I am debugging with IntelliJ 2020 on Windows 7 using the latest JDK 11.  I also deal with Japanese text on a regular basis, so I know my fonts are setup OK.\r\n\r\n&lt;h2&gt;Update&lt;/h2&gt;\r\n\r\nThank you for the very helpful comments.\r\n\r\n 1. I did not notice this kanji is a &quot;variant&quot; of the more common 高 ([U+9AD8][3]).  My fonts were too small to notice.\r\n 1. The client office address is the Takashimaya building in Nihombashi, Tokyo.  Thus, 髙島屋 appears in the email footer.\r\n 1. It appears the original email was sent using a combination of Microsoft Outlook and Exchange.  The HTML body has this head tag: ```&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=iso-2022-jp&quot;&gt;```  Unbelievable!\r\n 1. The workaround in Java is to override the MIME content type from `iso-2022-jp` to `x-windows-iso2022jp`.  (Hat tip to Anish B!)\r\n\r\n\r\n  [1]: https://www.compart.com/en/unicode/U+9AD9\r\n  [2]: https://en.wikipedia.org/wiki/Takashimaya\r\n  [3]: https://www.compart.com/en/unicode/U+9AD8","title":"Unable to decode a single Japanese kanji character using character set iso-2022-jp","body":"<p>I am processing client emails written in Japanese.  Some have HTML bodies encoded using character set iso-2022-jp.  I found a strange scenario where I am unable to decode a single Japanese kanji character using character set iso-2022-jp.</p>\n<p>Sample code to reproduce the issue:</p>\n<pre><code>final String z = &quot;髙&quot;;\nfinal Charset charset = Charset.forName(&quot;iso-2022-jp&quot;);\nfinal byte[] byteArr = z.getBytes(charset);\nfinal String z2 = new String(byteArr, charset);\nSystem.out.println(z);  // prints &quot;髙&quot;\nSystem.out.println(z2);  // prints &quot;？&quot;\n</code></pre>\n<p>If I use charset &quot;utf-8&quot;, it works fine.</p>\n<p>To be clear, I am absolutely sure the character here is Unicode character <a href=\"https://www.compart.com/en/unicode/U+9AD9\" rel=\"nofollow noreferrer\">U+9AD9</a>.  This is a common character in Japanese text, e.g., <a href=\"https://en.wikipedia.org/wiki/Takashimaya\" rel=\"nofollow noreferrer\">Takashimaya dept store</a>: 髙島屋.  The above code will correctly encode/decode the last two chars: 島 and 屋.</p>\n<p>I am 99.99% sure I am using the decode/encode API <strong>incorrectly</strong>.  What am I doing wrong?</p>\n<p>Finally, I am debugging with IntelliJ 2020 on Windows 7 using the latest JDK 11.  I also deal with Japanese text on a regular basis, so I know my fonts are setup OK.</p>\n<h2>Update</h2>\n<p>Thank you for the very helpful comments.</p>\n<ol>\n<li>I did not notice this kanji is a &quot;variant&quot; of the more common 高 (<a href=\"https://www.compart.com/en/unicode/U+9AD8\" rel=\"nofollow noreferrer\">U+9AD8</a>).  My fonts were too small to notice.</li>\n<li>The client office address is the Takashimaya building in Nihombashi, Tokyo.  Thus, 髙島屋 appears in the email footer.</li>\n<li>It appears the original email was sent using a combination of Microsoft Outlook and Exchange.  The HTML body has this head tag: <code>&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=iso-2022-jp&quot;&gt;</code>  Unbelievable!</li>\n<li>The workaround in Java is to override the MIME content type from <code>iso-2022-jp</code> to <code>x-windows-iso2022jp</code>.  (Hat tip to Anish B!)</li>\n</ol>\n"},{"tags":["java","azure-databricks"],"answers":[{"comments":[{"owner":{"account_id":12580334,"reputation":81,"user_id":10905492,"display_name":"diguex"},"score":0,"creation_date":1702228846,"post_id":77256668,"comment_id":136868177,"body_markdown":"Thank you! Totally out of time, but this makes sense and solved my problem!","body":"Thank you! Totally out of time, but this makes sense and solved my problem!"}],"tags":[],"owner":{"account_id":28240342,"reputation":2984,"user_id":21588207,"display_name":"JayashankarGS"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696833082,"creation_date":1696833082,"answer_id":77256668,"question_id":77244073,"body_markdown":"You can run jar files in databricks jobs, follow below steps.\r\n\r\nGo To &gt; **Workflows** and click on **Create Job**.\r\n\r\n![enter image description here](https://i.imgur.com/TANiaxQ.png)\r\n\r\nYou will get interface like below, fill all the details and click on create.\r\n\r\n![enter image description here](https://i.imgur.com/fxn74Ab.png)\r\n\r\n**Task name** - Give a name to the task.\r\n**Type** - Select the type. Here it is **JAR**.\r\n**Main class** - Give the name of your class. Make sure you are giving correct name.\r\n**Cluster** - Select the cluster on which your task should run.\r\n**Dependent libraries** - Add your jar file here.\r\n**Parameters** - Give parameters in the list.\r\n\r\nAfter clicking on create you will get below page.\r\n\r\n![enter image description here](https://i.imgur.com/lakGXuw.png)\r\n\r\nHere, click on **Run Now** and see details in **runs**.\r\n\r\n![enter image description here](https://i.imgur.com/8XdgOtx.png)\r\n\r\nand output.\r\n\r\n![enter image description here](https://i.imgur.com/24vchgj.png)","title":"Run a jar in a Databricks notebook cell","body":"<p>You can run jar files in databricks jobs, follow below steps.</p>\n<p>Go To &gt; <strong>Workflows</strong> and click on <strong>Create Job</strong>.</p>\n<p><img src=\"https://i.imgur.com/TANiaxQ.png\" alt=\"enter image description here\" /></p>\n<p>You will get interface like below, fill all the details and click on create.</p>\n<p><img src=\"https://i.imgur.com/fxn74Ab.png\" alt=\"enter image description here\" /></p>\n<p><strong>Task name</strong> - Give a name to the task.\n<strong>Type</strong> - Select the type. Here it is <strong>JAR</strong>.\n<strong>Main class</strong> - Give the name of your class. Make sure you are giving correct name.\n<strong>Cluster</strong> - Select the cluster on which your task should run.\n<strong>Dependent libraries</strong> - Add your jar file here.\n<strong>Parameters</strong> - Give parameters in the list.</p>\n<p>After clicking on create you will get below page.</p>\n<p><img src=\"https://i.imgur.com/lakGXuw.png\" alt=\"enter image description here\" /></p>\n<p>Here, click on <strong>Run Now</strong> and see details in <strong>runs</strong>.</p>\n<p><img src=\"https://i.imgur.com/8XdgOtx.png\" alt=\"enter image description here\" /></p>\n<p>and output.</p>\n<p><img src=\"https://i.imgur.com/24vchgj.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":12580334,"reputation":81,"user_id":10905492,"display_name":"diguex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77256668,"answer_count":1,"score":0,"last_activity_date":1696833082,"creation_date":1696591754,"question_id":77244073,"body_markdown":"I&#39;m totally new using Databricks (and in fact all Azure components).\r\n\r\nLong story short:\r\nI need to invoke a jar file like I do on my terminal.\r\nMeaning something like\r\n`java -jar C:\\Windows\\...\\myjavaapp.jar javaClass configFile=C:\\Windows\\...\\params.properties aParam1=True aParam2=Field1,Field2,Field3 aParam3=output.csv`\r\n\r\nSo this is how I&#39;m running it on Windows terminal.\r\nBut now how to do this on a Databricks notebook cell? Is it possible? I already imported the `jar` file into my notebook libs.\r\n\r\nlocally I built a python app to run these commands, and it worked perfectly.\r\nIs it possible to do it in Databricks? I tried, but no success. Don&#39;t know if it&#39;s something I&#39;m doing it wrong, or it just doesn&#39;t work at all.\r\nI need to do this kind of dyanmic, meaning I working with String manipulation where I build the different commands.\r\n\r\nHope I was clear with my question.\r\n\r\nThanks for your help and time!\r\n\r\nEDIT:\r\nhere&#39;s the python function I&#39;m using to run the command:\r\n\r\n    def java_run_command(command):\r\n          try:\r\n            print(&#39;Trying to running command &#39; + command)\r\n            result = subprocess.run(command, capture_output=True, text=True, check=True, shell=True)\r\n            output = result.stdout\r\n            error = result.stderr\r\n            if error:\r\n              print(date_format_str() + &quot; - Some errors were found: \\n&quot;)\r\n              print(error)\r\n          except subprocess.CalledProcessError as e:\r\n              print(date_format_str() + &quot; - Error executing java command: \\n&quot;)\r\n              print(e)","title":"Run a jar in a Databricks notebook cell","body":"<p>I'm totally new using Databricks (and in fact all Azure components).</p>\n<p>Long story short:\nI need to invoke a jar file like I do on my terminal.\nMeaning something like\n<code>java -jar C:\\Windows\\...\\myjavaapp.jar javaClass configFile=C:\\Windows\\...\\params.properties aParam1=True aParam2=Field1,Field2,Field3 aParam3=output.csv</code></p>\n<p>So this is how I'm running it on Windows terminal.\nBut now how to do this on a Databricks notebook cell? Is it possible? I already imported the <code>jar</code> file into my notebook libs.</p>\n<p>locally I built a python app to run these commands, and it worked perfectly.\nIs it possible to do it in Databricks? I tried, but no success. Don't know if it's something I'm doing it wrong, or it just doesn't work at all.\nI need to do this kind of dyanmic, meaning I working with String manipulation where I build the different commands.</p>\n<p>Hope I was clear with my question.</p>\n<p>Thanks for your help and time!</p>\n<p>EDIT:\nhere's the python function I'm using to run the command:</p>\n<pre><code>def java_run_command(command):\n      try:\n        print('Trying to running command ' + command)\n        result = subprocess.run(command, capture_output=True, text=True, check=True, shell=True)\n        output = result.stdout\n        error = result.stderr\n        if error:\n          print(date_format_str() + &quot; - Some errors were found: \\n&quot;)\n          print(error)\n      except subprocess.CalledProcessError as e:\n          print(date_format_str() + &quot; - Error executing java command: \\n&quot;)\n          print(e)\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-authentication","classcastexception"],"answers":[{"comments":[{"owner":{"account_id":27355989,"reputation":43,"user_id":20864367,"display_name":"Surya Pratap Raj"},"score":0,"creation_date":1696677139,"post_id":77249317,"comment_id":136185998,"body_markdown":"But the `task.getException().getMessage()` method should return the exact exception but it is always returning &quot;An Error has occured [INVALID_LOGIN_CREDENTIALS]&quot; in every exception. Just by this statement how can I get the cause of exception.","body":"But the <code>task.getException().getMessage()</code> method should return the exact exception but it is always returning &quot;An Error has occured [INVALID_LOGIN_CREDENTIALS]&quot; in every exception. Just by this statement how can I get the cause of exception."},{"owner":{"account_id":27355989,"reputation":43,"user_id":20864367,"display_name":"Surya Pratap Raj"},"score":0,"creation_date":1696677201,"post_id":77249317,"comment_id":136186003,"body_markdown":"In my previous projects, the same code was working fine and I was able to cast.","body":"In my previous projects, the same code was working fine and I was able to cast."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1696762437,"post_id":77249317,"comment_id":136192478,"body_markdown":"Then that&#39;s the problem, `INVALID_LOGIN_CREDENTIALS`. That&#39;s the cause, you have used invalid credentials. There is no way you can perform such a cast.","body":"Then that&#39;s the problem, <code>INVALID_LOGIN_CREDENTIALS</code>. That&#39;s the cause, you have used invalid credentials. There is no way you can perform such a cast."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1696762931,"post_id":77249317,"comment_id":136192522,"body_markdown":"Please also see this [answer](https://stackoverflow.com/a/77250121/5246885).","body":"Please also see this <a href=\"https://stackoverflow.com/a/77250121/5246885\">answer</a>."},{"owner":{"account_id":27355989,"reputation":43,"user_id":20864367,"display_name":"Surya Pratap Raj"},"score":0,"creation_date":1696765962,"post_id":77249317,"comment_id":136192791,"body_markdown":"Yes, your comment helped me a lot. Thanks!","body":"Yes, your comment helped me a lot. Thanks!"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1696832325,"post_id":77249317,"comment_id":136198271,"body_markdown":"I have edited my answer and added the comment in the answer. Is it OK now? Can I help you with other information?","body":"I have edited my answer and added the comment in the answer. Is it OK now? Can I help you with other information?"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696832287,"creation_date":1696673292,"answer_id":77249317,"question_id":77249219,"body_markdown":"When you&#39;re using the following line of code:\r\n\r\n    String errorCode = ((FirebaseAuthException) task.getException()).getErrorCode();\r\n\r\nThe type of object that is returned by `task.getException()` is [FirebaseException][1]. Trying to cast such an object to an object of type [\r\nFirebaseAuthException][2] will indeed produce the following error:\r\n\r\n&gt; java.lang.ClassCastException: com.google.firebase.FirebaseException cannot be cast to com.google.firebase.auth.FirebaseAuthException\r\n\r\nWhy? Because you cannot cast an object of a super-class into an object of a sub-class. Please note that the inheritance relationship is FirebaseAuthException extends FirebaseException and not vice versa. Where the FirebaseException class is the super-class, while the FirebaseAuthException is the sub-class.\r\n\r\nPlease also note that a FirebaseAuthException is thrown only if signing in via the [startActivityForSignInWithProvider][3] method has been disabled in the Firebase Console, or if the provider passed is configured improperly.\r\n\r\nIf you want to get more details about the Exception, then you should consider calling [getCause()][4], [getMessage()][5], or [printStackTrace()][6].\r\n\r\n**Edit:**\r\n\r\nWhen it comes to errors like this:\r\n\r\n&gt; INVALID_LOGIN_CREDENTIALS\r\n\r\nThen please also see the answer below:\r\n\r\n* https://stackoverflow.com/questions/77249904/i-dont-get-error-codes-of-firebase-auth-in-my-flutter-app-i-only-get-invalid-l/77250121#77250121\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/FirebaseException\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuthException\r\n  [3]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth#public-taskauthresult-startactivityforsigninwithprovider-activity-activity,-federatedauthprovider-federatedauthprovider\r\n  [4]: https://developer.android.com/reference/java/lang/Throwable#getCause()\r\n  [5]: https://developer.android.com/reference/java/lang/Throwable#getMessage()\r\n  [6]: https://developer.android.com/reference/java/lang/Throwable#printStackTrace()","title":"java.lang.ClassCastException: com.google.firebase.FirebaseException cannot be cast to com.google.firebase.auth.FirebaseAuthException","body":"<p>When you're using the following line of code:</p>\n<pre><code>String errorCode = ((FirebaseAuthException) task.getException()).getErrorCode();\n</code></pre>\n<p>The type of object that is returned by <code>task.getException()</code> is <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/FirebaseException\" rel=\"nofollow noreferrer\">FirebaseException</a>. Trying to cast such an object to an object of type <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuthException\" rel=\"nofollow noreferrer\">\nFirebaseAuthException</a> will indeed produce the following error:</p>\n<blockquote>\n<p>java.lang.ClassCastException: com.google.firebase.FirebaseException cannot be cast to com.google.firebase.auth.FirebaseAuthException</p>\n</blockquote>\n<p>Why? Because you cannot cast an object of a super-class into an object of a sub-class. Please note that the inheritance relationship is FirebaseAuthException extends FirebaseException and not vice versa. Where the FirebaseException class is the super-class, while the FirebaseAuthException is the sub-class.</p>\n<p>Please also note that a FirebaseAuthException is thrown only if signing in via the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseAuth#public-taskauthresult-startactivityforsigninwithprovider-activity-activity,-federatedauthprovider-federatedauthprovider\" rel=\"nofollow noreferrer\">startActivityForSignInWithProvider</a> method has been disabled in the Firebase Console, or if the provider passed is configured improperly.</p>\n<p>If you want to get more details about the Exception, then you should consider calling <a href=\"https://developer.android.com/reference/java/lang/Throwable#getCause()\" rel=\"nofollow noreferrer\">getCause()</a>, <a href=\"https://developer.android.com/reference/java/lang/Throwable#getMessage()\" rel=\"nofollow noreferrer\">getMessage()</a>, or <a href=\"https://developer.android.com/reference/java/lang/Throwable#printStackTrace()\" rel=\"nofollow noreferrer\">printStackTrace()</a>.</p>\n<p><strong>Edit:</strong></p>\n<p>When it comes to errors like this:</p>\n<blockquote>\n<p>INVALID_LOGIN_CREDENTIALS</p>\n</blockquote>\n<p>Then please also see the answer below:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/77249904/i-dont-get-error-codes-of-firebase-auth-in-my-flutter-app-i-only-get-invalid-l/77250121#77250121\">I Don&#39;t get Error codes of Firebase Auth in my Flutter App (I ONLY get INVALID_LOGIN_CREDENTIALS)</a></li>\n</ul>\n"}],"owner":{"account_id":27355989,"reputation":43,"user_id":20864367,"display_name":"Surya Pratap Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1696679773,"accepted_answer_id":77249317,"answer_count":1,"score":1,"last_activity_date":1696832287,"creation_date":1696671453,"question_id":77249219,"body_markdown":"Whenever I am trying to get the errorCode from the exception received from `task.getException()` by typecasting to &quot;FirebaseAuthException&quot; it gives and error as `java.lang.ClassCastException: com.google.firebase.FirebaseException cannot be cast to com.google.firebase.auth.FirebaseAuthException` and it always returns \r\n&quot;An Error has occurred [INVALID_LOGIN_CREDENTIALS]&quot; by the getMessage method\r\n`task.getException().getMessage();`\r\n\r\nHere is the code which is causing the error.\r\n\r\n`String errorCode = ((FirebaseAuthException) task.getException()).getErrorCode();`\r\n\r\nI have provided invalid credentials just to get the exception, but I am not getting the exact exception like if the password is wrong the email is incorrect, or user is not found, etc.\r\n\r\nI am using Android Studio Giraffe, 2022.3.1 Patch 2\r\n\r\nHere are the dependencies I am using\r\n````\r\nimplementation(&quot;com.google.firebase:firebase-auth:22.1.2&quot;)\r\nimplementation(&quot;com.google.firebase:firebase-database:20.2.2&quot;)\r\nimplementation(&quot;com.google.firebase:firebase-storage:20.2.1&quot;)\r\n````","title":"java.lang.ClassCastException: com.google.firebase.FirebaseException cannot be cast to com.google.firebase.auth.FirebaseAuthException","body":"<p>Whenever I am trying to get the errorCode from the exception received from <code>task.getException()</code> by typecasting to &quot;FirebaseAuthException&quot; it gives and error as <code>java.lang.ClassCastException: com.google.firebase.FirebaseException cannot be cast to com.google.firebase.auth.FirebaseAuthException</code> and it always returns\n&quot;An Error has occurred [INVALID_LOGIN_CREDENTIALS]&quot; by the getMessage method\n<code>task.getException().getMessage();</code></p>\n<p>Here is the code which is causing the error.</p>\n<p><code>String errorCode = ((FirebaseAuthException) task.getException()).getErrorCode();</code></p>\n<p>I have provided invalid credentials just to get the exception, but I am not getting the exact exception like if the password is wrong the email is incorrect, or user is not found, etc.</p>\n<p>I am using Android Studio Giraffe, 2022.3.1 Patch 2</p>\n<p>Here are the dependencies I am using</p>\n<pre><code>implementation(&quot;com.google.firebase:firebase-auth:22.1.2&quot;)\nimplementation(&quot;com.google.firebase:firebase-database:20.2.2&quot;)\nimplementation(&quot;com.google.firebase:firebase-storage:20.2.1&quot;)\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1696628477,"post_id":77243175,"comment_id":136182700,"body_markdown":"MapsId won&#39;t work on partial keys like this - you&#39;ll have to remove that mapsId annotation and mark the either the join column &quot;date&quot; reference or the PK &quot;date&quot; as updatable=false, insertable=false so that there is only one writeable mapping for the column.","body":"MapsId won&#39;t work on partial keys like this - you&#39;ll have to remove that mapsId annotation and mark the either the join column &quot;date&quot; reference or the PK &quot;date&quot; as updatable=false, insertable=false so that there is only one writeable mapping for the column."},{"owner":{"account_id":29610074,"reputation":1,"user_id":22693542,"display_name":"Corina"},"score":0,"creation_date":1696831781,"post_id":77243175,"comment_id":136198204,"body_markdown":"Tried to remove MapsId and to set date as updatable=false, insertable=false. I receive exception: Column mappings for property &#39;null&#39; mix insertable with &#39;insertable=false&#39;.","body":"Tried to remove MapsId and to set date as updatable=false, insertable=false. I receive exception: Column mappings for property &#39;null&#39; mix insertable with &#39;insertable=false&#39;."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1698072902,"post_id":77243175,"comment_id":136355753,"body_markdown":"Show what you mean as I don&#39;t see how it wouldn&#39;t work, and the full error as I don&#39;t know what that you&#39;ve posted might mean. If you remove the MapsId annotation, you should now have two mappings that set the &quot;date&quot; value in the B table. You&#39;ll manually need to set the date from the A reference, and mark the joinColumn for the &#39;date&#39; as updatable=false, insertable=false, letting JPA know you are setting it yourself via the B.id.date property. Make sure it isn&#39;t null - and it could be just a hibernate bug or lack of support for JPA: https://stackoverflow.com/a/9567902/496099","body":"Show what you mean as I don&#39;t see how it wouldn&#39;t work, and the full error as I don&#39;t know what that you&#39;ve posted might mean. If you remove the MapsId annotation, you should now have two mappings that set the &quot;date&quot; value in the B table. You&#39;ll manually need to set the date from the A reference, and mark the joinColumn for the &#39;date&#39; as updatable=false, insertable=false, letting JPA know you are setting it yourself via the B.id.date property. Make sure it isn&#39;t null - and it could be just a hibernate bug or lack of support for JPA: <a href=\"https://stackoverflow.com/a/9567902/496099\">stackoverflow.com/a/9567902/496099</a>"}],"owner":{"account_id":29610074,"reputation":1,"user_id":22693542,"display_name":"Corina"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696832127,"creation_date":1696583147,"question_id":77243175,"body_markdown":"In order to support high load rates, our team decided to apply table partitioning in Postgres. For this we needed a composite primary key. Respectively, other tables referencing partitioned tables will do this by specifying a composite foreign key.\r\n\r\n**Here is the database ddl statement for creation of the a table:**\r\n\r\n```\r\ncreate table if not exists a\r\n(\r\n    id                             bigint     not null,\r\n    date                   timestamp  not null,\r\n    constraint &quot;PK_a&quot;\r\n        primary key (id, date)\r\n)\r\n    partition by RANGE (date);\r\n\r\ncreate table if not exists a_2023\r\n   partition of a\r\n        (\r\n            primary key (id, date),\r\n            )\r\n        FOR VALUES FROM (&#39;2023-01-01 00:00:00&#39;) TO (&#39;2024-01-01 00:00:00&#39;);\r\n```\r\nThe ddl statement for table b:\r\n\r\n```\r\ncreate table if not exists b\r\n(\r\n    id                    bigint    not null,\r\n    date          timestamp not null,\r\n    a_fk            bigint,\r\n    constraint pk_table_id\r\n        primary key (id, date),\r\n    constraint fk_a_b\r\n        foreign key (a_fk, date) references a,\r\n    foreign key (a_fk, date) references a_2023\r\n)\r\n    partition by RANGE (date);\r\n\r\ncreate table if not exists b_2023\r\n    partition of b\r\n        (\r\n            primary key (id, date),\r\n            constraint fk_a_b\r\n                foreign key (a_fk, date) references a\r\n            )\r\n        FOR VALUES FROM (&#39;2023-01-01 00:00:00&#39;) TO (&#39;2024-01-01 00:00:00&#39;);\r\n```\r\n\r\n\r\n**Example of the code in Spring Boot.**\r\n\r\nThe primary key class:\r\n```\r\n@Embeddable\r\nclass PK {\r\n    private Long id;\r\n\r\n    private LocalDateTime date;\r\n\r\n    public PK(LocalDateTime date) {\r\n        this.date= date;\r\n    }\r\n\r\n    public PK(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false;\r\n        PK entity = (PK) o;\r\n        return Objects.equals(this.date, entity.date) &amp;&amp;\r\n                Objects.equals(this.id, entity.id);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(date, id);\r\n    }\r\n// consturctor, getters and setters\r\n}\r\n```\r\n\r\nThe parent class:\r\n```\r\n@Entity\r\n@Table(name = &quot;a&quot;)\r\nclass A {\r\n    @Id\r\n    @EmbeddedId\r\n    private PK id;\r\n\r\n   @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;aFk&quot;)\r\n   List&lt;B&gt; bs = new ArrayList&lt;&gt;();\r\n// consturctor, getters and setters\r\n}\r\n```\r\n\r\nThe child class:\r\n```\r\n@Entity\r\n@Table(name = &quot;b&quot;)\r\nclass B {\r\n    @Id\r\n    @EmbeddedId\r\n    private PK id;\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @MapsId(&quot;date&quot;)\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;a_fk&quot;, referencedColumnName = &quot;id&quot;),\r\n            @JoinColumn(name = &quot;date&quot;, referencedColumnName = &quot;date&quot;)\r\n    })\r\n    private aFk;\r\n// consturctor, getters and setters\r\n}\r\n```\r\nWhen I save the entities:\r\n```\r\nLocalDateTime now = LocalDateTime.now();\r\nA a = new A(new PK(id, now)); // id is a taken from the database by calling nextval\r\n\r\nA savedA = entityManager.merge(a);\r\n\r\nB b = new B(new PK(id, now), savedA); // id is a taken from the database by calling nextval\r\nentityManager.merge(b);\r\n```\r\n\r\nPlease note that date is both a primary and a foreign key for B.\r\n\r\nThe problem is that the a_fk field is null. When looking in the Hibernate insertion, the statement doesn&#39;t contain a_fk field. It seems like Hibernate is ignoring the JoinColumn contianing the a_Fk column. Tried with **CascadeType.ALL** in A class (in that case I was adding the list containing object B in the bs of A), the result is the same.\r\nAlso, if I delete `@MapsId(&quot;date&quot;)`, an error appears saying that I should set date JoinColumn as insertable and updatable to true. Tried to set insertable and updatable to true, another error saying: Column mappings for property &#39;null&#39; mix insertable with &#39;insertable=false&#39;.\r\nIf I set `@MapsId` without date, then Hibernate inserts a_fk and date, but the id of B is null.\r\n\r\nMaybe someone had a similar situation and has some ideas how to handle it.\r\n\r\nAfter a long research and trying different solutions, my team came to the following. Here is the changed class B:\r\n```\r\n@Entity\r\n@Table(name = &quot;b&quot;)\r\nclass B {\r\n    @Id\r\n    @EmbeddedId\r\n    private PK id;\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @MapsId(&quot;date&quot;)\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;a_fk&quot;, referencedColumnName = &quot;id&quot;),\r\n            @JoinColumn(name = &quot;date&quot;, referencedColumnName = &quot;date&quot;)\r\n    })\r\n    private a;\r\n\r\n    @Column(name = &quot;a_fk&quot;)\r\n    private Long aFk;\r\n\r\n   public void setA(A a) {\r\n        this.a= a;\r\n        this.aFk = a.getPk().getId();\r\n    }\r\n// consturctor, getters and setters\r\n}\r\n``` \r\n\r\nHowever I&#39;d like to know your opinion, is this solution ok?","title":"Bidirectional One to Many relation with composite primary and foreign key","body":"<p>In order to support high load rates, our team decided to apply table partitioning in Postgres. For this we needed a composite primary key. Respectively, other tables referencing partitioned tables will do this by specifying a composite foreign key.</p>\n<p><strong>Here is the database ddl statement for creation of the a table:</strong></p>\n<pre><code>create table if not exists a\n(\n    id                             bigint     not null,\n    date                   timestamp  not null,\n    constraint &quot;PK_a&quot;\n        primary key (id, date)\n)\n    partition by RANGE (date);\n\ncreate table if not exists a_2023\n   partition of a\n        (\n            primary key (id, date),\n            )\n        FOR VALUES FROM ('2023-01-01 00:00:00') TO ('2024-01-01 00:00:00');\n</code></pre>\n<p>The ddl statement for table b:</p>\n<pre><code>create table if not exists b\n(\n    id                    bigint    not null,\n    date          timestamp not null,\n    a_fk            bigint,\n    constraint pk_table_id\n        primary key (id, date),\n    constraint fk_a_b\n        foreign key (a_fk, date) references a,\n    foreign key (a_fk, date) references a_2023\n)\n    partition by RANGE (date);\n\ncreate table if not exists b_2023\n    partition of b\n        (\n            primary key (id, date),\n            constraint fk_a_b\n                foreign key (a_fk, date) references a\n            )\n        FOR VALUES FROM ('2023-01-01 00:00:00') TO ('2024-01-01 00:00:00');\n</code></pre>\n<p><strong>Example of the code in Spring Boot.</strong></p>\n<p>The primary key class:</p>\n<pre><code>@Embeddable\nclass PK {\n    private Long id;\n\n    private LocalDateTime date;\n\n    public PK(LocalDateTime date) {\n        this.date= date;\n    }\n\n    public PK(Long id) {\n        this.id = id;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false;\n        PK entity = (PK) o;\n        return Objects.equals(this.date, entity.date) &amp;&amp;\n                Objects.equals(this.id, entity.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(date, id);\n    }\n// consturctor, getters and setters\n}\n</code></pre>\n<p>The parent class:</p>\n<pre><code>@Entity\n@Table(name = &quot;a&quot;)\nclass A {\n    @Id\n    @EmbeddedId\n    private PK id;\n\n   @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;aFk&quot;)\n   List&lt;B&gt; bs = new ArrayList&lt;&gt;();\n// consturctor, getters and setters\n}\n</code></pre>\n<p>The child class:</p>\n<pre><code>@Entity\n@Table(name = &quot;b&quot;)\nclass B {\n    @Id\n    @EmbeddedId\n    private PK id;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;date&quot;)\n    @JoinColumns({\n            @JoinColumn(name = &quot;a_fk&quot;, referencedColumnName = &quot;id&quot;),\n            @JoinColumn(name = &quot;date&quot;, referencedColumnName = &quot;date&quot;)\n    })\n    private aFk;\n// consturctor, getters and setters\n}\n</code></pre>\n<p>When I save the entities:</p>\n<pre><code>LocalDateTime now = LocalDateTime.now();\nA a = new A(new PK(id, now)); // id is a taken from the database by calling nextval\n\nA savedA = entityManager.merge(a);\n\nB b = new B(new PK(id, now), savedA); // id is a taken from the database by calling nextval\nentityManager.merge(b);\n</code></pre>\n<p>Please note that date is both a primary and a foreign key for B.</p>\n<p>The problem is that the a_fk field is null. When looking in the Hibernate insertion, the statement doesn't contain a_fk field. It seems like Hibernate is ignoring the JoinColumn contianing the a_Fk column. Tried with <strong>CascadeType.ALL</strong> in A class (in that case I was adding the list containing object B in the bs of A), the result is the same.\nAlso, if I delete <code>@MapsId(&quot;date&quot;)</code>, an error appears saying that I should set date JoinColumn as insertable and updatable to true. Tried to set insertable and updatable to true, another error saying: Column mappings for property 'null' mix insertable with 'insertable=false'.\nIf I set <code>@MapsId</code> without date, then Hibernate inserts a_fk and date, but the id of B is null.</p>\n<p>Maybe someone had a similar situation and has some ideas how to handle it.</p>\n<p>After a long research and trying different solutions, my team came to the following. Here is the changed class B:</p>\n<pre><code>@Entity\n@Table(name = &quot;b&quot;)\nclass B {\n    @Id\n    @EmbeddedId\n    private PK id;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;date&quot;)\n    @JoinColumns({\n            @JoinColumn(name = &quot;a_fk&quot;, referencedColumnName = &quot;id&quot;),\n            @JoinColumn(name = &quot;date&quot;, referencedColumnName = &quot;date&quot;)\n    })\n    private a;\n\n    @Column(name = &quot;a_fk&quot;)\n    private Long aFk;\n\n   public void setA(A a) {\n        this.a= a;\n        this.aFk = a.getPk().getId();\n    }\n// consturctor, getters and setters\n}\n</code></pre>\n<p>However I'd like to know your opinion, is this solution ok?</p>\n"},{"tags":["java","ssl","spring-boot"],"comments":[{"owner":{"account_id":8584600,"reputation":801,"user_id":6431178,"accept_rate":50,"display_name":"Marco A. Hernandez"},"score":0,"creation_date":1521117432,"post_id":49294011,"comment_id":85600974,"body_markdown":"Are you sure you are using the same server.pfx file? keystoreType = &quot;PKCS12&quot; should return an error if the type is JKS. It looks like the file Spring Boot is loading is a copy that only imported the private key but not the CA certificates.","body":"Are you sure you are using the same server.pfx file? keystoreType = &quot;PKCS12&quot; should return an error if the type is JKS. It looks like the file Spring Boot is loading is a copy that only imported the private key but not the CA certificates."},{"owner":{"account_id":423223,"reputation":5101,"user_id":802482,"accept_rate":67,"display_name":"Black"},"score":0,"creation_date":1521151561,"post_id":49294011,"comment_id":85621984,"body_markdown":"thanks for the comment, but it&#39;s definitely a copy of the same file","body":"thanks for the comment, but it&#39;s definitely a copy of the same file"},{"owner":{"account_id":94824,"reputation":1439,"user_id":258660,"accept_rate":60,"display_name":"Charles Morin"},"score":0,"creation_date":1527604682,"post_id":49294011,"comment_id":88183354,"body_markdown":"Did you find a solution to that problem?","body":"Did you find a solution to that problem?"},{"owner":{"account_id":11171319,"reputation":2160,"user_id":8198203,"accept_rate":75,"display_name":"Frischling"},"score":1,"creation_date":1529507510,"post_id":49294011,"comment_id":88900733,"body_markdown":"A private key has to be either self signed, or accompanied by a certificate change, which you get, if a Certificate Authority is signing your Certificate Signing Request. This you can import (with the same alias as your private key) into your keystore, and then have the full monty.\nThe self-signed certificate is created by java&#39;s keytool, if you say -genkeypair","body":"A private key has to be either self signed, or accompanied by a certificate change, which you get, if a Certificate Authority is signing your Certificate Signing Request. This you can import (with the same alias as your private key) into your keystore, and then have the full monty. The self-signed certificate is created by java&#39;s keytool, if you say -genkeypair"},{"owner":{"account_id":3087422,"reputation":509,"user_id":2614310,"accept_rate":14,"display_name":"Arvind Kumar"},"score":0,"creation_date":1567106339,"post_id":49294011,"comment_id":101874881,"body_markdown":"same issue.. still struggling to get the solution","body":"same issue.. still struggling to get the solution"}],"answers":[{"tags":[],"owner":{"account_id":8553651,"reputation":91,"user_id":6409900,"display_name":"Roman Romaniuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673395906,"creation_date":1673395906,"answer_id":75077141,"question_id":49294011,"body_markdown":"It&#39;s too late for the party, but I faced a similar issue.\r\nI tried to add Bouncy Castle&#39;s keystore to my Spring&#39;s app:\r\n`server.ssl.key-store-type=BCFKS` and my app always switched back to `PKCS12` for some reason.\r\n\r\nI fixed it by changing properties name: \r\n\r\ninstead of `server.ssl.key-store-type=BCFKS`\r\n\r\nI added `server.ssl.keyStoreType=BCFKS`\r\n\r\n\r\n\r\n","title":"Spring Boot - Failed to load keystore type [PKCS12]","body":"<p>It's too late for the party, but I faced a similar issue.\nI tried to add Bouncy Castle's keystore to my Spring's app:\n<code>server.ssl.key-store-type=BCFKS</code> and my app always switched back to <code>PKCS12</code> for some reason.</p>\n<p>I fixed it by changing properties name:</p>\n<p>instead of <code>server.ssl.key-store-type=BCFKS</code></p>\n<p>I added <code>server.ssl.keyStoreType=BCFKS</code></p>\n"}],"owner":{"account_id":423223,"reputation":5101,"user_id":802482,"accept_rate":67,"display_name":"Black"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9519,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1696831620,"creation_date":1521100069,"question_id":49294011,"body_markdown":"I have a Spring Boot web project, \r\nI&#39;m trying to set up SSL with a certificate provided by my employer.\r\n\r\nThe PFX file is currently working fine to achieve SSL on stand-alone Tomcat with the following config:\r\n\r\n\t\t&lt;Connector port=&quot;8443&quot; maxHttpHeaderSize=&quot;8192&quot;\r\n\t\t\tmaxThreads=&quot;150&quot; minSpareThreads=&quot;25&quot; enableLookups=&quot;false&quot;\r\n\t\t\tdisableUploadTimeout=&quot;true&quot; keystoreFile=&quot;server.pfx&quot; \r\n            keystoreType=&quot;PKCS12&quot;  keystorePass=&quot;secret&quot;\r\n\t\t\tacceptCount=&quot;100&quot; scheme=&quot;https&quot; secure=&quot;true&quot; SSLEnabled=&quot;true&quot; \r\n            clientAuth=&quot;false&quot;\r\n\t\t\tsslProtocol=&quot;TLS&quot; /&gt;\r\n\r\n\r\nIn Spring Boot, with the embedded Tomcat I use the following `application.properties`:\r\n\r\n    server.port=8088\r\n    security.require-ssl=true\r\n    server.ssl.enabled=true\r\n    server.ssl.key-password=secret\r\n    server.ssl.key-store=classpath:server.pfx\r\n    server.ssl.key-store-provider=SUN\r\n    server.ssl.key-store-type=PKCS12\r\n    server.ssl.key-alias=1\r\n\r\n\r\nwhen I start the project, I get the error message\r\n\r\n&gt; Caused by: java.io.IOException: Failed to load keystore type [PKCS12] with path [file:/Users/user/workspace/tracking/target/classes/server.pfx] due to [PKCS12 not found]\r\n\r\nthe command `keytool -list -keystore /Users/user/workspace/tracking/target/classes/server.pfx&#39;`\r\n\r\nreturns \r\n&gt; Keystore type: JKS\r\n&gt;\r\nKeystore provider: SUN\r\n\r\n&gt; Your keystore contains 1 entry\r\n\r\n&gt; 1, 15-Mar-2018, PrivateKeyEntry, \r\nCertificate fingerprint (SHA1): F8:A0:CF:A6:AF:B4:ED:53:A0:79:25:03:04:D9:79:F0:FC:B2:49:DF\r\n\r\n\r\nis there a different value I should be using for `server.ssl.key-store-type`?\r\n\r\n**UPDATE**\r\n\r\nI also tried changing to `server.ssl.key-store-type=JKS` but then I get: \r\n&gt; IllegalArgumentException: Private key must be accompanied by \r\ncertificate chain \r\n\r\nIs there a way around either of these problems?","title":"Spring Boot - Failed to load keystore type [PKCS12]","body":"<p>I have a Spring Boot web project, \nI'm trying to set up SSL with a certificate provided by my employer.</p>\n\n<p>The PFX file is currently working fine to achieve SSL on stand-alone Tomcat with the following config:</p>\n\n<pre><code>    &lt;Connector port=\"8443\" maxHttpHeaderSize=\"8192\"\n        maxThreads=\"150\" minSpareThreads=\"25\" enableLookups=\"false\"\n        disableUploadTimeout=\"true\" keystoreFile=\"server.pfx\" \n        keystoreType=\"PKCS12\"  keystorePass=\"secret\"\n        acceptCount=\"100\" scheme=\"https\" secure=\"true\" SSLEnabled=\"true\" \n        clientAuth=\"false\"\n        sslProtocol=\"TLS\" /&gt;\n</code></pre>\n\n<p>In Spring Boot, with the embedded Tomcat I use the following <code>application.properties</code>:</p>\n\n<pre><code>server.port=8088\nsecurity.require-ssl=true\nserver.ssl.enabled=true\nserver.ssl.key-password=secret\nserver.ssl.key-store=classpath:server.pfx\nserver.ssl.key-store-provider=SUN\nserver.ssl.key-store-type=PKCS12\nserver.ssl.key-alias=1\n</code></pre>\n\n<p>when I start the project, I get the error message</p>\n\n<blockquote>\n  <p>Caused by: java.io.IOException: Failed to load keystore type [PKCS12] with path [file:/Users/user/workspace/tracking/target/classes/server.pfx] due to [PKCS12 not found]</p>\n</blockquote>\n\n<p>the command <code>keytool -list -keystore /Users/user/workspace/tracking/target/classes/server.pfx'</code></p>\n\n<p>returns </p>\n\n<blockquote>\n  <p>Keystore type: JKS</p>\n  \n  <p>Keystore provider: SUN</p>\n  \n  <p>Your keystore contains 1 entry</p>\n  \n  <p>1, 15-Mar-2018, PrivateKeyEntry, \n  Certificate fingerprint (SHA1): F8:A0:CF:A6:AF:B4:ED:53:A0:79:25:03:04:D9:79:F0:FC:B2:49:DF</p>\n</blockquote>\n\n<p>is there a different value I should be using for <code>server.ssl.key-store-type</code>?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I also tried changing to <code>server.ssl.key-store-type=JKS</code> but then I get: </p>\n\n<blockquote>\n  <p>IllegalArgumentException: Private key must be accompanied by \n  certificate chain </p>\n</blockquote>\n\n<p>Is there a way around either of these problems?</p>\n"},{"tags":["java","spring","tomcat"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1637902817,"post_id":70104853,"comment_id":123952342,"body_markdown":"In your case the exception reached Tomcat&#39;s code and was logged by Tomcat. The exception was passed as parameter in the call to the logger, so your logger must have stacktrace logging disabled. Can you add the configuration of your logger?","body":"In your case the exception reached Tomcat&#39;s code and was logged by Tomcat. The exception was passed as parameter in the call to the logger, so your logger must have stacktrace logging disabled. Can you add the configuration of your logger?"},{"owner":{"account_id":2010126,"reputation":924,"user_id":1798786,"accept_rate":73,"display_name":"skwisgaar"},"score":0,"creation_date":1638103119,"post_id":70104853,"comment_id":123993205,"body_markdown":"@PiotrP.Karwasz thanks for the insight, I tried to find any settings in tomcat related to printing stacktraces but couldn&#39;t, can you suggest where to find them? regarding the configuration of the logger - I see only log path defined in the properties, maybe it&#39;s overridden somewhere in server config as running the app locally prints those stactraces fine, is there&#39;s a way to print all the related settings in runtime to compare those from local and server? (sry if I&#39;m asking noob questions :) )","body":"@PiotrP.Karwasz thanks for the insight, I tried to find any settings in tomcat related to printing stacktraces but couldn&#39;t, can you suggest where to find them? regarding the configuration of the logger - I see only log path defined in the properties, maybe it&#39;s overridden somewhere in server config as running the app locally prints those stactraces fine, is there&#39;s a way to print all the related settings in runtime to compare those from local and server? (sry if I&#39;m asking noob questions :) )"}],"answers":[{"tags":[],"owner":{"account_id":4424106,"reputation":130,"user_id":3603039,"display_name":"PeakCode"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696831440,"creation_date":1696831440,"answer_id":77256546,"question_id":70104853,"body_markdown":"The reason for the missing stack trace is a JVM optimisation. It&#39;s a bit hard to find documentation for, but you can read a little about it [here][1] (search for OmitStackTraceInFastThrow).\r\n\r\nTo disable the optimisation use `-XX:-OmitStackTraceInFastThrow`.\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/release-notes-introduction.html","title":"What actually handles exceptions in Tomcat + Spring?","body":"<p>The reason for the missing stack trace is a JVM optimisation. It's a bit hard to find documentation for, but you can read a little about it <a href=\"https://www.oracle.com/java/technologies/javase/release-notes-introduction.html\" rel=\"nofollow noreferrer\">here</a> (search for OmitStackTraceInFastThrow).</p>\n<p>To disable the optimisation use <code>-XX:-OmitStackTraceInFastThrow</code>.</p>\n"}],"owner":{"account_id":2010126,"reputation":924,"user_id":1798786,"accept_rate":73,"display_name":"skwisgaar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696831440,"creation_date":1637803869,"question_id":70104853,"body_markdown":"I recently realized that I&#39;m not entirely sure which exact exception handler prints error info to the logs. The reason for it was that at some point the stacktraces disappeared from the log when the error happens in controller, e.g.\r\n```\r\n    ERROR o.a.c.c.C.[.[.[/].[dispatcherServlet] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\r\n    \r\n    java.lang.NullPointerException: null\r\n        ...\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n```\r\nstarted looking like\r\n```\r\n\r\n    ERROR o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\r\n    \r\n    java.lang.NullPointerException: null\r\n```\r\n(stacktrace is completely absent).\r\nAs far as I understand it isn&#39;t related to the logger settings as both messages still have level ERROR, so it must be something inside the handler which decides whether to print stacktrace or not. Can anybody point me into the right direction?","title":"What actually handles exceptions in Tomcat + Spring?","body":"<p>I recently realized that I'm not entirely sure which exact exception handler prints error info to the logs. The reason for it was that at some point the stacktraces disappeared from the log when the error happens in controller, e.g.</p>\n<pre><code>    ERROR o.a.c.c.C.[.[.[/].[dispatcherServlet] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\n    \n    java.lang.NullPointerException: null\n        ...\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>started looking like</p>\n<pre><code>\n    ERROR o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\n    \n    java.lang.NullPointerException: null\n</code></pre>\n<p>(stacktrace is completely absent).\nAs far as I understand it isn't related to the logger settings as both messages still have level ERROR, so it must be something inside the handler which decides whether to print stacktrace or not. Can anybody point me into the right direction?</p>\n"},{"tags":["java","linked-list","singly-linked-list"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1696589970,"post_id":77243854,"comment_id":136175806,"body_markdown":"Please format your code properly.","body":"Please format your code properly."},{"owner":{"account_id":20662707,"reputation":27,"user_id":15170334,"display_name":"Lakshya Gupta"},"score":0,"creation_date":1696590271,"post_id":77243854,"comment_id":136175878,"body_markdown":"can you run your code in the link provide in the question and then run it ?","body":"can you run your code in the link provide in the question and then run it ?"},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1696590358,"post_id":77243854,"comment_id":136175895,"body_markdown":"Why is everything declared as `static`?","body":"Why is everything declared as <code>static</code>?"},{"owner":{"account_id":20662707,"reputation":27,"user_id":15170334,"display_name":"Lakshya Gupta"},"score":0,"creation_date":1696590529,"post_id":77243854,"comment_id":136175924,"body_markdown":"I have changed the codebase of the question , also should I remove the static keyword from every variable/method ?","body":"I have changed the codebase of the question , also should I remove the static keyword from every variable/method ?"},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1696590534,"post_id":77243854,"comment_id":136175925,"body_markdown":"You don&#39;t have to implement `Node` yourself. It&#39;s already there in their environment.","body":"You don&#39;t have to implement <code>Node</code> yourself. It&#39;s already there in their environment."},{"owner":{"account_id":20662707,"reputation":27,"user_id":15170334,"display_name":"Lakshya Gupta"},"score":0,"creation_date":1696590644,"post_id":77243854,"comment_id":136175946,"body_markdown":"the node class was given in the question , I just created additional class to implement the function addatend","body":"the node class was given in the question , I just created additional class to implement the function addatend"},{"owner":{"account_id":20662707,"reputation":27,"user_id":15170334,"display_name":"Lakshya Gupta"},"score":0,"creation_date":1696590747,"post_id":77243854,"comment_id":136175966,"body_markdown":"can I solve the problem through the code which i wrote ?","body":"can I solve the problem through the code which i wrote ?"},{"owner":{"account_id":20662707,"reputation":27,"user_id":15170334,"display_name":"Lakshya Gupta"},"score":0,"creation_date":1696590970,"post_id":77243854,"comment_id":136176012,"body_markdown":"Thanks a lot everyone my code ran , but unfortunately showed TLE in one test case .\nCheers !!","body":"Thanks a lot everyone my code ran , but unfortunately showed TLE in one test case . Cheers !!"}],"answers":[{"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1696831136,"post_id":77244019,"comment_id":136198140,"body_markdown":"@user85421, thanks, I edited my answer to include this alternative solution.","body":"@user85421, thanks, I edited my answer to include this alternative solution."}],"tags":[],"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696831102,"creation_date":1696591117,"answer_id":77244019,"question_id":77243854,"body_markdown":"Use two pointers instead.\r\n\r\n    public static Node constructLL(int[] arr) {\r\n        Node head = null;\r\n        Node end = null;\r\n        for (int a : arr) {\r\n            if (head == null) {\r\n                head = new Node(a);\r\n                end = head;\r\n            }\r\n            else {\r\n                end.next = new Node(a);\r\n                end = end.next;\r\n            }\r\n        }\r\n        return head;\r\n    }\r\n\r\nAlternative solution - traverse array from end and insert to the list at the front:\r\n\r\n    public static Node constructLL(int[] arr) {\r\n        Node head = null;\r\n        for (int i = arr.length - 1; i &gt;= 0; --i) {\r\n            Node temp = new Node(arr[i]);\r\n            temp.next = head;\r\n            head = temp;\r\n        }\r\n        return head;\r\n    }","title":"Implement a singly linked list in java without classes","body":"<p>Use two pointers instead.</p>\n<pre><code>public static Node constructLL(int[] arr) {\n    Node head = null;\n    Node end = null;\n    for (int a : arr) {\n        if (head == null) {\n            head = new Node(a);\n            end = head;\n        }\n        else {\n            end.next = new Node(a);\n            end = end.next;\n        }\n    }\n    return head;\n}\n</code></pre>\n<p>Alternative solution - traverse array from end and insert to the list at the front:</p>\n<pre><code>public static Node constructLL(int[] arr) {\n    Node head = null;\n    for (int i = arr.length - 1; i &gt;= 0; --i) {\n        Node temp = new Node(arr[i]);\n        temp.next = head;\n        head = temp;\n    }\n    return head;\n}\n</code></pre>\n"}],"owner":{"account_id":20662707,"reputation":27,"user_id":15170334,"display_name":"Lakshya Gupta"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1696831102,"creation_date":1696589449,"question_id":77243854,"body_markdown":"I was solving the question : https://www.codingninjas.com/studio/problems/introduction-to-linked-list_8144737?utm_source=striver&amp;utm_medium=website&amp;utm_campaign=a_zcoursetuf&amp;leftPanelTab=0 \r\n and on implementing the code i got the error saying &quot;Duplicate class name : Node&quot;. Below is the code which I wrote for the same :\r\n\r\n     class Node {\r\n     public static int data;\r\n     public static  Node next;\r\n\r\n     Node()\r\n     {\r\n         this.data = 0;\r\n         this.next = null;\r\n     }\r\n\r\n     Node(int data)\r\n     {\r\n         this.data = data;\r\n         this.next = null;\r\n     }\r\n\r\n     Node(int data, Node next)\r\n     {\r\n         this.data = data;\r\n         this.next = next;\r\n     }\r\n     };\r\n\r\n   \r\n\r\n    class implement {\r\n     public static  Node head;\r\n     static Node addatend(int value){\r\n         Node temp=head;\r\n         Node add= new Node(value);\r\n         if(head==null){\r\n            head=add;\r\n         }\r\n         else{\r\n             while(temp.next!=null){\r\n                 temp=temp.next;\r\n             }\r\n             temp.next=add;\r\n         }\r\n         return head;\r\n    }\r\n\r\n \r\n\r\n    public class Solution {\r\n     public static Node constructLL(int []arr) {\r\n        // Write your code here\r\n        Node ans=null;\r\n        implement z = new implement ();\r\n        for(int i=0;i&lt;arr.length;i++){\r\n            int t=arr[i];\r\n           ans= z.addatend(t);\r\n\r\n        }\r\n        return ans;\r\n    }\r\n    }\r\n\r\nCan anyone point to the error in the code?","title":"Implement a singly linked list in java without classes","body":"<p>I was solving the question : <a href=\"https://www.codingninjas.com/studio/problems/introduction-to-linked-list_8144737?utm_source=striver&amp;utm_medium=website&amp;utm_campaign=a_zcoursetuf&amp;leftPanelTab=0\" rel=\"nofollow noreferrer\">https://www.codingninjas.com/studio/problems/introduction-to-linked-list_8144737?utm_source=striver&amp;utm_medium=website&amp;utm_campaign=a_zcoursetuf&amp;leftPanelTab=0</a>\nand on implementing the code i got the error saying &quot;Duplicate class name : Node&quot;. Below is the code which I wrote for the same :</p>\n<pre><code> class Node {\n public static int data;\n public static  Node next;\n\n Node()\n {\n     this.data = 0;\n     this.next = null;\n }\n\n Node(int data)\n {\n     this.data = data;\n     this.next = null;\n }\n\n Node(int data, Node next)\n {\n     this.data = data;\n     this.next = next;\n }\n };\n\n\n\nclass implement {\n public static  Node head;\n static Node addatend(int value){\n     Node temp=head;\n     Node add= new Node(value);\n     if(head==null){\n        head=add;\n     }\n     else{\n         while(temp.next!=null){\n             temp=temp.next;\n         }\n         temp.next=add;\n     }\n     return head;\n}\n\n\n\npublic class Solution {\n public static Node constructLL(int []arr) {\n    // Write your code here\n    Node ans=null;\n    implement z = new implement ();\n    for(int i=0;i&lt;arr.length;i++){\n        int t=arr[i];\n       ans= z.addatend(t);\n\n    }\n    return ans;\n}\n}\n</code></pre>\n<p>Can anyone point to the error in the code?</p>\n"},{"tags":["java","spring-boot","spring-cloud-stream","spring-amqp","spring-rabbit"],"answers":[{"comments":[{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1700478130,"post_id":77187720,"comment_id":136655289,"body_markdown":"There are side effects of this behaviour. Concurrent consumed messages are duplicated. https://github.com/spring-cloud/spring-cloud-stream/issues","body":"There are side effects of this behaviour. Concurrent consumed messages are duplicated. <a href=\"https://github.com/spring-cloud/spring-cloud-stream/issues\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-stream/issues</a>"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1700510470,"post_id":77187720,"comment_id":136661209,"body_markdown":"Spring has no control over this, the amqp-client closes the connection when a message that is too large is received; this means that any other in-flight message(s) will also be requeued. RabbitMQ makes no promise of &quot;exactly once delivery&quot; semantics, only &quot;at least once&quot;; there are many scenarios (such as this one, or any network glitch etc., etc.) that can cause duplicate deliveries; it is up to the application to detect duplicates and/or make updates idempotent. You can mitigate it by using `CacheMode.CONNECTION` so each listener gets its own. But you still need to handle dups.","body":"Spring has no control over this, the amqp-client closes the connection when a message that is too large is received; this means that any other in-flight message(s) will also be requeued. RabbitMQ makes no promise of &quot;exactly once delivery&quot; semantics, only &quot;at least once&quot;; there are many scenarios (such as this one, or any network glitch etc., etc.) that can cause duplicate deliveries; it is up to the application to detect duplicates and/or make updates idempotent. You can mitigate it by using <code>CacheMode.CONNECTION</code> so each listener gets its own. But you still need to handle dups."},{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1700554296,"post_id":77187720,"comment_id":136665743,"body_markdown":"Thank you very much for this Information :)","body":"Thank you very much for this Information :)"}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1695819342,"creation_date":1695819342,"answer_id":77187720,"question_id":77185001,"body_markdown":"This is due to a recent change to the amqp-client to prevent OOMs with very large messages; the error is detected before Spring receives the message; hence there is no way for Spring to send it to a DLQ.\r\n\r\n```java\r\n/**\r\n * Maximum body size of inbound (received) messages in bytes.\r\n *\r\n * &lt;p&gt;Default value is 67,108,864 (64 MiB).\r\n *\r\n * @param maxInboundMessageBodySize the maximum size of inbound messages\r\n */\r\npublic void setMaxInboundMessageBodySize(int maxInboundMessageBodySize) {\r\n```\r\n\r\nYou can increase the allowed size by adding a customizer bean to your application. e.g. to increase it to 128MiB:\r\n\r\n```java\r\n@Bean\r\nConnectionFactoryCustomizer cust() {\r\n\treturn cf -&gt; cf.setMaxInboundMessageBodySize(1024 * 1024 * 128);\r\n}\r\n```\r\n","title":"Spring cloud stream with RabbitMQ binder throws java.lang.IllegalStateException: Message body is too large","body":"<p>This is due to a recent change to the amqp-client to prevent OOMs with very large messages; the error is detected before Spring receives the message; hence there is no way for Spring to send it to a DLQ.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Maximum body size of inbound (received) messages in bytes.\n *\n * &lt;p&gt;Default value is 67,108,864 (64 MiB).\n *\n * @param maxInboundMessageBodySize the maximum size of inbound messages\n */\npublic void setMaxInboundMessageBodySize(int maxInboundMessageBodySize) {\n</code></pre>\n<p>You can increase the allowed size by adding a customizer bean to your application. e.g. to increase it to 128MiB:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nConnectionFactoryCustomizer cust() {\n    return cf -&gt; cf.setMaxInboundMessageBodySize(1024 * 1024 * 128);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12610920,"reputation":31,"user_id":9170094,"display_name":"Jam3si"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696830664,"creation_date":1696830664,"answer_id":77256500,"question_id":77185001,"body_markdown":"The solution mentioned by Gary works and explains the logic behind. As I was searching for answers I have also found that Spring version 3.2 brings settings to change max inbound size.\r\n\r\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2.0-RC1-Release-Notes#limited-message-body-size-with-rabbitmq\r\n\r\nIn application.properties, you can set the size as: \r\n\r\n    spring.rabbitmq.max-inbound-message-body-size=XY\r\n\r\nBut... there is still problem with messages that are bigger as I can not catch the exception. So My solution is to calculate size of payload in spring function (as producer) every time I want to send the message to RabbitMQ:\r\n\r\n        \r\n\r\n        long byteSize = calculateObjectSize(resultMessage);\r\n                                System.out.println(byteSize);\r\n                                // Check if the byte size exceeds the allowed limit (50MB)\r\n                                if (byteSize &gt; 50 * 1024 * 1024) {\r\n                                    // Handle the case where the payload exceeds the limit\r\n                                    // You can return an error message or throw an exception here.\r\n                              return error;\r\n                                }\r\n    \r\n        public long calculateObjectSize(ResultMessage object) {\r\n            try {\r\n                ByteArrayOutputStream byteStream = new ByteArrayOutputStream();\r\n                ObjectOutputStream objectStream = new ObjectOutputStream(byteStream);\r\n                objectStream.writeObject(object);\r\n                objectStream.flush();\r\n                return byteStream.size();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return -1; // Handle the error as needed\r\n            }\r\n            }","title":"Spring cloud stream with RabbitMQ binder throws java.lang.IllegalStateException: Message body is too large","body":"<p>The solution mentioned by Gary works and explains the logic behind. As I was searching for answers I have also found that Spring version 3.2 brings settings to change max inbound size.</p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2.0-RC1-Release-Notes#limited-message-body-size-with-rabbitmq\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2.0-RC1-Release-Notes#limited-message-body-size-with-rabbitmq</a></p>\n<p>In application.properties, you can set the size as:</p>\n<pre><code>spring.rabbitmq.max-inbound-message-body-size=XY\n</code></pre>\n<p>But... there is still problem with messages that are bigger as I can not catch the exception. So My solution is to calculate size of payload in spring function (as producer) every time I want to send the message to RabbitMQ:</p>\n<pre><code>    long byteSize = calculateObjectSize(resultMessage);\n                            System.out.println(byteSize);\n                            // Check if the byte size exceeds the allowed limit (50MB)\n                            if (byteSize &gt; 50 * 1024 * 1024) {\n                                // Handle the case where the payload exceeds the limit\n                                // You can return an error message or throw an exception here.\n                          return error;\n                            }\n\n    public long calculateObjectSize(ResultMessage object) {\n        try {\n            ByteArrayOutputStream byteStream = new ByteArrayOutputStream();\n            ObjectOutputStream objectStream = new ObjectOutputStream(byteStream);\n            objectStream.writeObject(object);\n            objectStream.flush();\n            return byteStream.size();\n        } catch (Exception e) {\n            e.printStackTrace();\n            return -1; // Handle the error as needed\n        }\n        }\n</code></pre>\n"}],"owner":{"account_id":12610920,"reputation":31,"user_id":9170094,"display_name":"Jam3si"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696830664,"creation_date":1695794972,"question_id":77185001,"body_markdown":"I&#39;m using spring cloud stream 4.0.4 with rabbitmq binder 4.0.4 to proccess messages in spring boot 3.1.3 app. I&#39;m also using rabbitMQ 3.10.0. The thing is, there is an bug in my application when the message size is 94MB i will get an exception:\r\n\r\n```\r\njava.lang.IllegalStateException: Message body is too large (94664210), maximum configured size is 67108864. See ConnectionFactory#setMaxInboundMessageBodySize if you need to increase the limit.\r\n    at com.rabbitmq.client.impl.CommandAssembler.consumeHeaderFrame(CommandAssembler.java:109) ~[amqp-client-5.17.1.jar!/:5.17.1]\r\n    at com.rabbitmq.client.impl.CommandAssembler.handleFrame(CommandAssembler.java:172) ~[amqp-client-5.17.1.jar!/:5.17.1]\r\n    at com.rabbitmq.client.impl.AMQCommand.handleFrame(AMQCommand.java:105) ~[amqp-client-5.17.1.jar!/:5.17.1]\r\n    at com.rabbitmq.client.impl.AMQChannel.handleFrame(AMQChannel.java:115) ~[amqp-client-5.17.1.jar!/:5.17.1]\r\n    at com.rabbitmq.client.impl.AMQConnection.readFrame(AMQConnection.java:746) ~[amqp-client-5.17.1.jar!/:5.17.1]\r\n    at com.rabbitmq.client.impl.AMQConnection.access$300(AMQConnection.java:47) ~[amqp-client-5.17.1.jar!/:5.17.1]\r\n    at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:673) ~[amqp-client-5.17.1.jar!/:5.17.1]\r\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\nMy application.properties:\r\n\r\n```\r\nspring.cloud.function.definition=result\r\nspring.cloud.stream.bindings.result-in-0.group=coreGroup\r\nspring.cloud.stream.bindings.result-in-0.destination=result\r\n```\r\n\r\nThe Bean (it is calling simple auditRepository.save(auditRecord)):\r\n\r\n```\r\n    @Bean\r\n    public Consumer&lt;ResultMessage&gt; result() {\r\n            return auditController::storeAuditRecord;\r\n    }\r\n```\r\n\r\nI tried to set DLX with DLQ in application.properties like this:\r\n\r\n```\r\nspring.cloud.stream.bindings.result-in-0.consumer.max-attempts=2\r\nspring.cloud.stream.rabbit.bindings.result-in-0.consumer.auto-bind-dlq=true\r\nspring.cloud.stream.rabbit.bindings.result-in-0.consumer.dead-letter-exchange=resultDLX\r\nspring.cloud.stream.rabbit.bindings.result-in-0.consumer.error-channel-enabled=true\r\n```\r\n\r\nI have also tried to set max size:\r\n\r\n```\r\nspring.cloud.stream.rabbit.bindings.result-in-0.consumer.max-message-size=209715200\r\n```\r\n\r\nbut it will always crash. Message is not pushed to DLQ and setting max size did not do anything.\r\n\r\nIt is not mandatory for me to process that big messages, I can somehow check the size in code, but sometimes there is important payload which can be up to 100MB (happens 1 in 1.000 cases).\r\n\r\nAfter the exception is thrown, the consumer is not able to work and the app will stop working for users as they can&#39;t get the result payload after saving audit record.\r\n\r\nHow can I push this message to DLQ to future investigation? ","title":"Spring cloud stream with RabbitMQ binder throws java.lang.IllegalStateException: Message body is too large","body":"<p>I'm using spring cloud stream 4.0.4 with rabbitmq binder 4.0.4 to proccess messages in spring boot 3.1.3 app. I'm also using rabbitMQ 3.10.0. The thing is, there is an bug in my application when the message size is 94MB i will get an exception:</p>\n<pre><code>java.lang.IllegalStateException: Message body is too large (94664210), maximum configured size is 67108864. See ConnectionFactory#setMaxInboundMessageBodySize if you need to increase the limit.\n    at com.rabbitmq.client.impl.CommandAssembler.consumeHeaderFrame(CommandAssembler.java:109) ~[amqp-client-5.17.1.jar!/:5.17.1]\n    at com.rabbitmq.client.impl.CommandAssembler.handleFrame(CommandAssembler.java:172) ~[amqp-client-5.17.1.jar!/:5.17.1]\n    at com.rabbitmq.client.impl.AMQCommand.handleFrame(AMQCommand.java:105) ~[amqp-client-5.17.1.jar!/:5.17.1]\n    at com.rabbitmq.client.impl.AMQChannel.handleFrame(AMQChannel.java:115) ~[amqp-client-5.17.1.jar!/:5.17.1]\n    at com.rabbitmq.client.impl.AMQConnection.readFrame(AMQConnection.java:746) ~[amqp-client-5.17.1.jar!/:5.17.1]\n    at com.rabbitmq.client.impl.AMQConnection.access$300(AMQConnection.java:47) ~[amqp-client-5.17.1.jar!/:5.17.1]\n    at com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:673) ~[amqp-client-5.17.1.jar!/:5.17.1]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>My application.properties:</p>\n<pre><code>spring.cloud.function.definition=result\nspring.cloud.stream.bindings.result-in-0.group=coreGroup\nspring.cloud.stream.bindings.result-in-0.destination=result\n</code></pre>\n<p>The Bean (it is calling simple auditRepository.save(auditRecord)):</p>\n<pre><code>    @Bean\n    public Consumer&lt;ResultMessage&gt; result() {\n            return auditController::storeAuditRecord;\n    }\n</code></pre>\n<p>I tried to set DLX with DLQ in application.properties like this:</p>\n<pre><code>spring.cloud.stream.bindings.result-in-0.consumer.max-attempts=2\nspring.cloud.stream.rabbit.bindings.result-in-0.consumer.auto-bind-dlq=true\nspring.cloud.stream.rabbit.bindings.result-in-0.consumer.dead-letter-exchange=resultDLX\nspring.cloud.stream.rabbit.bindings.result-in-0.consumer.error-channel-enabled=true\n</code></pre>\n<p>I have also tried to set max size:</p>\n<pre><code>spring.cloud.stream.rabbit.bindings.result-in-0.consumer.max-message-size=209715200\n</code></pre>\n<p>but it will always crash. Message is not pushed to DLQ and setting max size did not do anything.</p>\n<p>It is not mandatory for me to process that big messages, I can somehow check the size in code, but sometimes there is important payload which can be up to 100MB (happens 1 in 1.000 cases).</p>\n<p>After the exception is thrown, the consumer is not able to work and the app will stop working for users as they can't get the result payload after saving audit record.</p>\n<p>How can I push this message to DLQ to future investigation?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1696854729,"post_id":77256440,"comment_id":136202244,"body_markdown":"There is something wrong with values.xml, check its content or recent changes. Also cleaning often solves problems.","body":"There is something wrong with values.xml, check its content or recent changes. Also cleaning often solves problems."}],"owner":{"account_id":29629575,"reputation":1,"user_id":22708301,"display_name":"Majid Kheshtzarrin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696830536,"creation_date":1696829612,"question_id":77256440,"body_markdown":"this is my build.gradle file:\r\n\r\n\t`apply plugin: &#39;com.android.application&#39;`\r\n\r\n\t`android {\r\n    \tcompileSdkVersion 28\r\n    \tdefaultConfig {\r\n        \tapplicationId &#39;com.****.erp&#39;\r\n        \tminSdkVersion 15\r\n       \t// targetSdkVersion 28\r\n        \tversionCode 1\r\n        \tversionName &quot;1.0&quot;\r\n        \ttestInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n    \t}\r\n    \tbuildTypes {\r\n        \trelease {\r\n            \tminifyEnabled false\r\n            \tproguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n       \t }\r\n    \t}\r\n    \tproductFlavors {\r\n   \t }\r\n   \t namespace &#39;com.****.erp&#39;\r\n\t}\r\n\r\n\tdependencies {\r\n    \timplementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    \tandroidTestImplementation (&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n      \t  exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n    \t})\r\n    \timplementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n    \timplementation &#39;com.android.support:design:28.0.0&#39;\r\n    \timplementation &#39;com.android.support:support-v4:28.0.0&#39;\r\n    \timplementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n   \t testImplementation &#39;junit:junit:4.12&#39;\r\n    \timplementation &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n\r\n\t}\r\n\tandroid{\r\n  \t  aaptOptions.cruncherEnabled = false\r\n\t    aaptOptions.useNewCruncher = false\r\n\t}\r\n`\r\n\r\nwhen I want to build I got this error message:\r\n\r\n&gt; FAILURE: Build failed with an exception.\r\n&gt; \r\n&gt; What went wrong:\r\n&gt; Execution failed for task &#39;:app:mergeReleaseResources&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.res.ResourceCompilerRunnable\r\n&gt; Resource compilation failed (Failed to compile values resource file C:\\Users\\majid-pc\\Documents\\Prj\\ERP\\app\\build\\intermediates\\incremental\\release\\mergeReleaseResources\\merged.dir\\values\\values.xml. Cause: java.lang.IllegalStateException: Can not extract resource from com.android.aaptcompiler.ParsedResource@6b387bc3.). Check logs for more details.\r\n\r\nmy android studio version:\r\n\r\n&gt; Android Studio Giraffe | 2022.3.1 Patch 2\r\n&gt; Build #AI-223.8836.35.2231.10811636, built on September 15, 2023\r\n&gt; Runtime version: 17.0.6+0-b2043.56-10027231 amd64\r\n&gt; VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\n&gt; Windows 10 10.0\r\n&gt; GC: G1 Young Generation, G1 Old Generation\r\n&gt; Memory: 2048M\r\n&gt; Cores: 4\r\n&gt; Registry:\r\n&gt; external.system.auto.import.disabled=true\r\n&gt; ide.text.editor.with.preview.show.floating.toolbar=false\r\n&gt; ide.instant.shutdown=false\r\n\r\n\r\nIt should builds my apk.\r\n\r\n.caches resource:\r\n    &lt;item name=&quot;up&quot; type=&quot;id&quot;/&gt;\r\n    \r\n\r\n&gt; C:\\Users\\majid-pc\\.gradle\\caches\\transforms-3\\56e5e0dd128196c308e382e8342f0793\\transformed\\appcompat-v7-28.0.0\\res\\values\\values.xml:1404:4:\r\n&gt; &lt;item&gt; inner element must either be a resource reference or empty.","title":"Execution failed for task :app:mergeReleaseResources","body":"<p>this is my build.gradle file:</p>\n<pre><code>`apply plugin: 'com.android.application'`\n\n`android {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId 'com.****.erp'\n        minSdkVersion 15\n    // targetSdkVersion 28\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n     }\n    }\n    productFlavors {\n }\n namespace 'com.****.erp'\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestImplementation ('com.android.support.test.espresso:espresso-core:2.2.2', {\n      exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support:support-v4:28.0.0'\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n testImplementation 'junit:junit:4.12'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n\n}\nandroid{\n  aaptOptions.cruncherEnabled = false\n    aaptOptions.useNewCruncher = false\n}\n</code></pre>\n<p>`</p>\n<p>when I want to build I got this error message:</p>\n<blockquote>\n<p>FAILURE: Build failed with an exception.</p>\n<p>What went wrong:\nExecution failed for task ':app:mergeReleaseResources'.\nA failure occurred while executing com.android.build.gradle.internal.res.ResourceCompilerRunnable\nResource compilation failed (Failed to compile values resource file C:\\Users\\majid-pc\\Documents\\Prj\\ERP\\app\\build\\intermediates\\incremental\\release\\mergeReleaseResources\\merged.dir\\values\\values.xml. Cause: java.lang.IllegalStateException: Can not extract resource from com.android.aaptcompiler.ParsedResource@6b387bc3.). Check logs for more details.</p>\n</blockquote>\n<p>my android studio version:</p>\n<blockquote>\n<p>Android Studio Giraffe | 2022.3.1 Patch 2\nBuild #AI-223.8836.35.2231.10811636, built on September 15, 2023\nRuntime version: 17.0.6+0-b2043.56-10027231 amd64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nWindows 10 10.0\nGC: G1 Young Generation, G1 Old Generation\nMemory: 2048M\nCores: 4\nRegistry:\nexternal.system.auto.import.disabled=true\nide.text.editor.with.preview.show.floating.toolbar=false\nide.instant.shutdown=false</p>\n</blockquote>\n<p>It should builds my apk.</p>\n<p>.caches resource:\n</p>\n<blockquote>\n<p>C:\\Users\\majid-pc.gradle\\caches\\transforms-3\\56e5e0dd128196c308e382e8342f0793\\transformed\\appcompat-v7-28.0.0\\res\\values\\values.xml:1404:4:\n inner element must either be a resource reference or empty.</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":2,"creation_date":1696827939,"post_id":77256357,"comment_id":136197822,"body_markdown":"You cannot assign &quot;null&quot; to primitive data types like int.","body":"You cannot assign &quot;null&quot; to primitive data types like int."},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":1,"creation_date":1696828152,"post_id":77256357,"comment_id":136197839,"body_markdown":"What exactly are you trying to do in the loop body? If you are trying to swap two positions the first line should be `swap = cards[x];` instead of `cards[x] = swap;`.","body":"What exactly are you trying to do in the loop body? If you are trying to swap two positions the first line should be <code>swap = cards[x];</code> instead of <code>cards[x] = swap;</code>."},{"owner":{"account_id":24805780,"reputation":7,"user_id":18687815,"display_name":"Zach"},"score":0,"creation_date":1696828288,"post_id":77256357,"comment_id":136197853,"body_markdown":"Trying to take an array, and use an algorithm to random shuffle then save those values. Using the Fisher - Yates Shuffle. Im not completely sure this is correct at all but maybe you could help? Thanks!","body":"Trying to take an array, and use an algorithm to random shuffle then save those values. Using the Fisher - Yates Shuffle. Im not completely sure this is correct at all but maybe you could help? Thanks!"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696828350,"post_id":77256357,"comment_id":136197859,"body_markdown":"Ermm ... look carefully at the way you are swapping elements.  Hint: how does `swap` ever get a non-null value in the code you have written?  And what does that mean???","body":"Ermm ... look carefully at the way you are swapping elements.  Hint: how does <code>swap</code> ever get a non-null value in the code you have written?  And what does that mean???"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1696828488,"post_id":77256357,"comment_id":136197878,"body_markdown":"You need to understand the difference between objects and [primitives](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html) in Java. Java isn&#39;t one of those &quot;everything is an object&quot; languages like Python or Ruby. If you want to initialize a primitive like int, try assigning 0 or -1, depending on what your program considers a meaningful value.","body":"You need to understand the difference between objects and <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">primitives</a> in Java. Java isn&#39;t one of those &quot;everything is an object&quot; languages like Python or Ruby. If you want to initialize a primitive like int, try assigning 0 or -1, depending on what your program considers a meaningful value."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696828543,"post_id":77256357,"comment_id":136197884,"body_markdown":"Ah yes ... a compilation error **as well**.   Hint #2: don&#39;t run code with compilation errors. Fix them first.","body":"Ah yes ... a compilation error <b>as well</b>.   Hint #2: don&#39;t run code with compilation errors. Fix them first."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1696829735,"post_id":77256357,"comment_id":136198001,"body_markdown":"[Shuffle a given array using Fisher–Yates shuffle Algorithm](https://www.geeksforgeeks.org/shuffle-a-given-array-using-fisher-yates-shuffle-algorithm/)","body":"<a href=\"https://www.geeksforgeeks.org/shuffle-a-given-array-using-fisher-yates-shuffle-algorithm/\" rel=\"nofollow noreferrer\">Shuffle a given array using Fisher–Yates shuffle Algorithm</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696830254,"post_id":77256357,"comment_id":136198051,"body_markdown":"@Abra - Hah!   Someone needs to tell the author of that code about &quot;separation of concerns&quot;!  Printing the array is not the concern of a shuffle method.","body":"@Abra - Hah!   Someone needs to tell the author of that code about &quot;separation of concerns&quot;!  Printing the array is not the concern of a shuffle method."}],"answers":[{"tags":[],"owner":{"account_id":29527757,"reputation":1,"user_id":22629008,"display_name":"VictorJiang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696828455,"creation_date":1696828455,"answer_id":77256383,"question_id":77256357,"body_markdown":"try int swap; instead of int swap = null","title":"Could someone help me trying to figure out this error that I&#39;m getting in Java","body":"<p>try int swap; instead of int swap = null</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1696828872,"post_id":77256385,"comment_id":136197906,"body_markdown":"And the third one?  But here&#39;s the problem ... if you tell the OP how to fix his beginner code, he doesn&#39;t get the benefit of learning to fix it for himself.","body":"And the third one?  But here&#39;s the problem ... if you tell the OP how to fix his beginner code, he doesn&#39;t get the benefit of learning to fix it for himself."},{"owner":{"account_id":5087263,"reputation":21,"user_id":4081419,"display_name":"lpe234"},"score":0,"creation_date":1696830038,"post_id":77256385,"comment_id":136198034,"body_markdown":"@StephenC My mistake!","body":"@StephenC My mistake!"}],"tags":[],"owner":{"account_id":5087263,"reputation":21,"user_id":4081419,"display_name":"lpe234"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696828480,"creation_date":1696828480,"answer_id":77256385,"question_id":77256357,"body_markdown":"first, replace `int swap = null;` with `int swap = 0;`;\r\n\r\nsecond, `int[] cards` array index range is `[0, cards.length-1]`.replace `x &lt;= cards.length` with `x &lt;= cards.length-1` or `x &lt; cards.length`;","title":"Could someone help me trying to figure out this error that I&#39;m getting in Java","body":"<p>first, replace <code>int swap = null;</code> with <code>int swap = 0;</code>;</p>\n<p>second, <code>int[] cards</code> array index range is <code>[0, cards.length-1]</code>.replace <code>x &lt;= cards.length</code> with <code>x &lt;= cards.length-1</code> or <code>x &lt; cards.length</code>;</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696828967,"post_id":77256402,"comment_id":136197920,"body_markdown":"Well to be clear, this is not about the &gt;default&lt; value of `int`.  An `int` cannot be `null` AT ALL.   (And switching from `int` to `Integer` is not the *correct* solution.  You&#39;ve changed the problem!)","body":"Well to be clear, this is not about the &gt;default&lt; value of <code>int</code>.  An <code>int</code> cannot be <code>null</code> AT ALL.   (And switching from <code>int</code> to <code>Integer</code> is not the <i>correct</i> solution.  You&#39;ve changed the problem!)"},{"owner":{"account_id":12821764,"reputation":1662,"user_id":9885352,"display_name":"Sandeep Pareek"},"score":0,"creation_date":1696829126,"post_id":77256402,"comment_id":136197932,"body_markdown":"yes you right but i guess he was want to assign null that&#39;s why i did.","body":"yes you right but i guess he was want to assign null that&#39;s why i did."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696829225,"post_id":77256402,"comment_id":136197944,"body_markdown":"Yes.  I see why you did it.  But wanting to assign `null` was his mistake ... and affirming his mistake rather than correcting it is not helping him.   If you are going to teach people, it is important to teach them correctly.   (Think of it like this.  You might get get him as a coworker at your company in a year or so ... and you don&#39;t want to have to be correcting all of his inappropriate use of `Integer` in code reviews.)","body":"Yes.  I see why you did it.  But wanting to assign <code>null</code> was his mistake ... and affirming his mistake rather than correcting it is not helping him.   If you are going to teach people, it is important to teach them correctly.   (Think of it like this.  You might get get him as a coworker at your company in a year or so ... and you don&#39;t want to have to be correcting all of his inappropriate use of <code>Integer</code> in code reviews.)"},{"owner":{"account_id":20032413,"reputation":104,"user_id":14684883,"display_name":"Habibur Rahman"},"score":0,"creation_date":1696829489,"post_id":77256402,"comment_id":136197974,"body_markdown":"`x &lt;= cards.length` will be `x &lt; cards.length`","body":"<code>x &lt;= cards.length</code> will be <code>x &lt; cards.length</code>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696829518,"post_id":77256402,"comment_id":136197978,"body_markdown":"Yea ... there is another error too.","body":"Yea ... there is another error too."}],"tags":[],"owner":{"account_id":12821764,"reputation":1662,"user_id":9885352,"display_name":"Sandeep Pareek"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696829002,"creation_date":1696828844,"answer_id":77256402,"question_id":77256357,"body_markdown":"actually int default value is 0 it can not be null.\r\nif you really want to assign null then you should you big Int like:\r\n\r\n    private static void randomShuffle(Integer[] cards, Random random)\r\n    {\r\n        Integer swap = null;\r\n        for (Integer x = 0; x &lt;= cards.length; x++) {\r\n                int rand = random.nextInt(cards.length);\r\n                cards[x] = swap;\r\n                cards[x] = cards[rand];\r\n                cards[rand] = swap;\r\n        }\r\n    }\r\n    \r\n\r\n\r\n","title":"Could someone help me trying to figure out this error that I&#39;m getting in Java","body":"<p>actually int default value is 0 it can not be null.\nif you really want to assign null then you should you big Int like:</p>\n<pre><code>private static void randomShuffle(Integer[] cards, Random random)\n{\n    Integer swap = null;\n    for (Integer x = 0; x &lt;= cards.length; x++) {\n            int rand = random.nextInt(cards.length);\n            cards[x] = swap;\n            cards[x] = cards[rand];\n            cards[rand] = swap;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24805780,"reputation":7,"user_id":18687815,"display_name":"Zach"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1696828966,"answer_count":3,"score":-2,"last_activity_date":1696829002,"creation_date":1696827867,"question_id":77256357,"body_markdown":"```\r\nprivate static void randomShuffle(int[] cards, Random random)\r\n\t{\r\n\t\tint swap = null;\r\n\t\tfor (int x = 0; x &lt;= cards.length; x++) {\r\n\t\t\t\tint rand = random.nextInt(cards.length);\r\n\t\t\t\tcards[x] = swap;\r\n\t\t\t\tcards[x] = cards[rand];\r\n\t\t\t\tcards[rand] = swap;\r\n\t\t}\r\n\t}\r\n```\r\nThe error I&#39;m getting is:\r\n\r\n     Type mismatch: cannot convert from null to int\r\n\r\n             at Assignment02.randomShuffle(Assignment02.java:283)\r\n             at Assignment02.playGame(Assignment02.java:335)\r\n             at Assignment02.main(Assignment02.java:605)\r\n\r\n\r\nI am new to Java and am trying to make a card game but I can&#39;t figure out where I am going wrong here, could some one please help.\r\n\r\nI tried a few various things but I couldn&#39;t quite seem to figure it out.","title":"Could someone help me trying to figure out this error that I&#39;m getting in Java","body":"<pre><code>private static void randomShuffle(int[] cards, Random random)\n    {\n        int swap = null;\n        for (int x = 0; x &lt;= cards.length; x++) {\n                int rand = random.nextInt(cards.length);\n                cards[x] = swap;\n                cards[x] = cards[rand];\n                cards[rand] = swap;\n        }\n    }\n</code></pre>\n<p>The error I'm getting is:</p>\n<pre><code> Type mismatch: cannot convert from null to int\n\n         at Assignment02.randomShuffle(Assignment02.java:283)\n         at Assignment02.playGame(Assignment02.java:335)\n         at Assignment02.main(Assignment02.java:605)\n</code></pre>\n<p>I am new to Java and am trying to make a card game but I can't figure out where I am going wrong here, could some one please help.</p>\n<p>I tried a few various things but I couldn't quite seem to figure it out.</p>\n"},{"tags":["java","switch-statement","character"],"answers":[{"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1312244696,"creation_date":1312244696,"answer_id":6906010,"question_id":6906001,"body_markdown":"[`charAt`](http://download.oracle.com/javase/6/docs/api/java/lang/String.html#charAt%28int%29) gets a character from a string, and you can switch on them since `char` is an integer type.\r\n\r\nSo to switch on the first `char` in the `String` `hello`,\r\n\r\n    switch (hello.charAt(0)) {\r\n      case &#39;a&#39;: ... break;\r\n    }\r\n\r\nYou should be aware though that Java `char`s do not correspond one-to-one with code-points.  See [`codePointAt`](http://download.oracle.com/javase/6/docs/api/java/lang/String.html#codePointAt%28int%29) for a way to reliably get a single Unicode codepoints.","title":"How do I use a char as the case in a switch-case?","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#charAt%28int%29\" rel=\"noreferrer\"><code>charAt</code></a> gets a character from a string, and you can switch on them since <code>char</code> is an integer type.</p>\n\n<p>So to switch on the first <code>char</code> in the <code>String</code> <code>hello</code>,</p>\n\n<pre><code>switch (hello.charAt(0)) {\n  case 'a': ... break;\n}\n</code></pre>\n\n<p>You should be aware though that Java <code>char</code>s do not correspond one-to-one with code-points.  See <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#codePointAt%28int%29\" rel=\"noreferrer\"><code>codePointAt</code></a> for a way to reliably get a single Unicode codepoints.</p>\n"},{"tags":[],"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1312244755,"creation_date":1312244755,"answer_id":6906012,"question_id":6906001,"body_markdown":"Like that. Except `char hi=hello;` should be `char hi=hello.charAt(0)`. (Don&#39;t forget your `break;` statements).","title":"How do I use a char as the case in a switch-case?","body":"<p>Like that. Except <code>char hi=hello;</code> should be <code>char hi=hello.charAt(0)</code>. (Don't forget your <code>break;</code> statements).</p>\n"},{"tags":[],"owner":{"account_id":4899,"reputation":103686,"user_id":7595,"accept_rate":70,"display_name":"Pablo Fernandez"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1631549428,"creation_date":1312244797,"answer_id":6906016,"question_id":6906001,"body_markdown":"    public class SwitCase {\r\n        public static void main(String[] args) {\r\n            String hello = JOptionPane.showInputDialog(&quot;Input a letter: &quot;);\r\n            char hi = hello.charAt(0); // get the first char.\r\n            switch(hi) {\r\n                case &#39;a&#39;: System.out.println(&quot;a&quot;);\r\n            }\r\n        }   \r\n    }","title":"How do I use a char as the case in a switch-case?","body":"<pre><code>public class SwitCase {\n    public static void main(String[] args) {\n        String hello = JOptionPane.showInputDialog(&quot;Input a letter: &quot;);\n        char hi = hello.charAt(0); // get the first char.\n        switch(hi) {\n            case 'a': System.out.println(&quot;a&quot;);\n        }\n    }   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":382428,"reputation":2011,"user_id":737641,"accept_rate":97,"display_name":"Arj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1312245014,"creation_date":1312245014,"answer_id":6906042,"question_id":6906001,"body_markdown":"Using a char when the variable is a string won&#39;t work. Using\r\n\r\n    switch (hello.charAt(0)) \r\n\r\nyou will extract the first character of the *hello* variable instead of trying to use the variable as it is, in string form. You also need to get rid of your space inside \r\n\r\n    case &#39;a &#39;","title":"How do I use a char as the case in a switch-case?","body":"<p>Using a char when the variable is a string won't work. Using</p>\n\n<pre><code>switch (hello.charAt(0)) \n</code></pre>\n\n<p>you will extract the first character of the <em>hello</em> variable instead of trying to use the variable as it is, in string form. You also need to get rid of your space inside </p>\n\n<pre><code>case 'a '\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1579874,"reputation":273,"user_id":1465438,"accept_rate":0,"display_name":"Revanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507084347,"creation_date":1507084347,"answer_id":46556116,"question_id":6906001,"body_markdown":"Here&#39;s an example:\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            double val1 = 100;\r\n            double val2 = 10;\r\n            char operation = &#39;d&#39;;\r\n            double result = 0;\r\n    \r\n            switch (operation) {\r\n    \r\n                case &#39;a&#39;:\r\n                    result = val1 + val2; break;\r\n    \r\n                case &#39;s&#39;:\r\n                    result = val1 - val2; break;\r\n                case &#39;d&#39;:\r\n                    if (val2 != 0)\r\n                        result = val1 / val2; break;\r\n                case &#39;m&#39;:\r\n                    result = val1 * val2; break;\r\n    \r\n                default: System.out.println(&quot;Not a defined operation&quot;);\r\n    \r\n    \r\n            }\r\n    \r\n            System.out.println(result);\r\n        }\r\n    }\r\n\r\n","title":"How do I use a char as the case in a switch-case?","body":"<p>Here's an example:</p>\n\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n\n        double val1 = 100;\n        double val2 = 10;\n        char operation = 'd';\n        double result = 0;\n\n        switch (operation) {\n\n            case 'a':\n                result = val1 + val2; break;\n\n            case 's':\n                result = val1 - val2; break;\n            case 'd':\n                if (val2 != 0)\n                    result = val1 / val2; break;\n            case 'm':\n                result = val1 * val2; break;\n\n            default: System.out.println(\"Not a defined operation\");\n\n\n        }\n\n        System.out.println(result);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24003247,"reputation":11,"user_id":17987813,"display_name":"Preeti Poddar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696828553,"creation_date":1696828357,"answer_id":77256380,"question_id":6906001,"body_markdown":"Try this if you are taking input from user:\r\n\r\n    \r\n    Scanner sc = new Scanner(System.in);\r\n    char alphabet = sc.next().charAt(0); //takes character input\r\n    switch(alphabet) {\r\n        case &#39;a&#39;: System.out.println(&quot;a&quot;);\r\n        break;\r\n        case &#39;b&#39;: System.out.println(&quot;b&quot;);\r\n        break;\r\n        default: System.out.println(&quot;Error&quot;);\r\n    }","title":"How do I use a char as the case in a switch-case?","body":"<p>Try this if you are taking input from user:</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nchar alphabet = sc.next().charAt(0); //takes character input\nswitch(alphabet) {\n    case 'a': System.out.println(&quot;a&quot;);\n    break;\n    case 'b': System.out.println(&quot;b&quot;);\n    break;\n    default: System.out.println(&quot;Error&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":257348,"reputation":1421,"user_id":538705,"accept_rate":69,"display_name":"Zhianc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150368,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":6906016,"answer_count":6,"score":13,"last_activity_date":1696828553,"creation_date":1312244586,"question_id":6906001,"body_markdown":"How do I use a character in a switch-case? I will be getting the first letter of whatever the user inputs.\r\n\r\n    import javax.swing.*;\r\n    \r\n    public class SwitchCase {\r\n    \tpublic static void main (String[] args) {\r\n    \t\tString hello = &quot;&quot;;\r\n    \t\thello = JOptionPane.showInputDialog(&quot;Input a letter: &quot;);\r\n    \t\tchar hi = hello;\r\n    \t\tswitch(hi) {\r\n    \t\t\tcase &#39;a&#39;: System.out.println(&quot;a&quot;);\r\n    \t\t}\r\n    \t}\t\r\n    }","title":"How do I use a char as the case in a switch-case?","body":"<p>How do I use a character in a switch-case? I will be getting the first letter of whatever the user inputs.</p>\n<pre><code>import javax.swing.*;\n\npublic class SwitchCase {\n    public static void main (String[] args) {\n        String hello = &quot;&quot;;\n        hello = JOptionPane.showInputDialog(&quot;Input a letter: &quot;);\n        char hi = hello;\n        switch(hi) {\n            case 'a': System.out.println(&quot;a&quot;);\n        }\n    }   \n}\n</code></pre>\n"},{"tags":["java","netbeans","gwt"],"answers":[{"tags":[],"owner":{"account_id":102157,"reputation":1558,"user_id":1824841,"display_name":"Ignacio Baca"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1558015011,"creation_date":1558015011,"answer_id":56170280,"question_id":56166304,"body_markdown":"Yes, you can use NetBeans to develop GWT, and you don&#39;t need any plugin.\r\n\r\nIf you delegate the whole project configuration to maven or gradle (or buck, bazel…) then you can use any IDE. This is the best approach, and the project will work seamlessly also in your CI and using the command line. NetBeans maven integration is excellent and currently, maven is the easiest way to manage a GWT project.\r\n\r\nClone any [&quot;modern&quot; project][1] and try it out in your NetBeans installation to see if it satisfies you. Also, take a look at this [tutorial][2] for a more detailed explanation.  \r\n\r\n\r\n  [1]: https://github.com/ibaca/gameoflife\r\n  [2]: https://dev.to/ibaca/modern-gwt-first-steps-509k","title":"NetBeans 8.0 + GWT 2.6+","body":"<p>Yes, you can use NetBeans to develop GWT, and you don't need any plugin.</p>\n\n<p>If you delegate the whole project configuration to maven or gradle (or buck, bazel…) then you can use any IDE. This is the best approach, and the project will work seamlessly also in your CI and using the command line. NetBeans maven integration is excellent and currently, maven is the easiest way to manage a GWT project.</p>\n\n<p>Clone any <a href=\"https://github.com/ibaca/gameoflife\" rel=\"nofollow noreferrer\">\"modern\" project</a> and try it out in your NetBeans installation to see if it satisfies you. Also, take a look at this <a href=\"https://dev.to/ibaca/modern-gwt-first-steps-509k\" rel=\"nofollow noreferrer\">tutorial</a> for a more detailed explanation.  </p>\n"}],"owner":{"account_id":14919539,"reputation":41,"user_id":10772320,"display_name":"Huge_Noob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56170280,"answer_count":1,"score":0,"last_activity_date":1696826818,"creation_date":1558002110,"question_id":56166304,"body_markdown":"Got a simple question. Is it possible to use GWT versions 2.6+ with NetBeans 8.0, taking into consideration, that the last GWT version gwt4nb plugin for NB 8.0 checks for is 2.5? \r\nOr does that mean, that I can only use features from GWT under 2.5 versions with 2.6+ libs? ","title":"NetBeans 8.0 + GWT 2.6+","body":"<p>Got a simple question. Is it possible to use GWT versions 2.6+ with NetBeans 8.0, taking into consideration, that the last GWT version gwt4nb plugin for NB 8.0 checks for is 2.5? \nOr does that mean, that I can only use features from GWT under 2.5 versions with 2.6+ libs? </p>\n"},{"tags":["java","rest","http"],"comments":[{"owner":{"account_id":218143,"reputation":119,"user_id":474323,"accept_rate":39,"display_name":"Walking Corpse"},"score":2,"creation_date":1696681231,"post_id":77227650,"comment_id":136186366,"body_markdown":"I have edited the code in my question itself to be a complete program. Just compile it and run it. There are no 3rd party library dependencies.","body":"I have edited the code in my question itself to be a complete program. Just compile it and run it. There are no 3rd party library dependencies."}],"answers":[{"comments":[{"owner":{"account_id":218143,"reputation":119,"user_id":474323,"accept_rate":39,"display_name":"Walking Corpse"},"score":1,"creation_date":1696692120,"post_id":77249756,"comment_id":136187346,"body_markdown":"Thank you so much.","body":"Thank you so much."}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1696682961,"creation_date":1696681694,"answer_id":77249756,"question_id":77227650,"body_markdown":"You were adding multiple `Cookie` request property while calling `&quot;https://www.nseindia.com/api/option-chain-indices?symbol=MIDCPNIFTY&quot;` which was causing 401.\r\n\r\nAlso, I updated your code to fix the way you were adding `Cookie` in the headers while doing the request.\r\n\r\nNow this will work :)\r\n\r\nTry this:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import java.net.*;\r\n    import java.util.List;\r\n    import java.io.InputStream;\r\n    import java.util.Map;\r\n    import java.util.Objects;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class PollNSEIndia {\r\n        public static void main(String args[]) throws Exception {\r\n            while (true) {\r\n                CookieManager cookieManager = new CookieManager();\r\n                CookieHandler.setDefault(cookieManager);\r\n                HttpURLConnection baseUrlConnection = (HttpURLConnection) new URL(&quot;https://www.nseindia.com/&quot;).openConnection();\r\n                baseUrlConnection.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\r\n                baseUrlConnection.setRequestProperty(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\r\n                baseUrlConnection.setRequestProperty(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;);\r\n                baseUrlConnection.setRequestProperty(\r\n                        &quot;User-Agent&quot;,\r\n                        &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko)&quot;\r\n                                + &quot; Chrome/89.0.4389.114 Safari/537.36&quot;);\r\n                baseUrlConnection.setRequestProperty(\r\n                        &quot;Accept&quot;,\r\n                        &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&quot;);\r\n                baseUrlConnection.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.9&quot;);\r\n                baseUrlConnection.getContent();\r\n                List&lt;HttpCookie&gt; cookieList = cookieManager.getCookieStore().getCookies();\r\n    \r\n                URL url = new URL(&quot;https://www.nseindia.com/api/option-chain-indices?symbol=MIDCPNIFTY&quot;);\r\n                HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\r\n                httpURLConnection.setRequestMethod(&quot;GET&quot;);\r\n                httpURLConnection.setRequestProperty(&quot;Cookie&quot;, cookieList.stream().filter(Objects::nonNull)\r\n                        .map(cookie -&gt; cookie.getName() + &quot;=&quot; + cookie.getValue()).collect(Collectors.joining(&quot;;&quot;)));\r\n                httpURLConnection.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\r\n                httpURLConnection.setRequestProperty(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\r\n                httpURLConnection.setRequestProperty(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;);\r\n                httpURLConnection.setRequestProperty(\r\n                        &quot;User-Agent&quot;,\r\n                        &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko)&quot;\r\n                                + &quot; Chrome/89.0.4389.114 Safari/537.36&quot;);\r\n                httpURLConnection.setRequestProperty(\r\n                        &quot;Accept&quot;,\r\n                        &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&quot;);\r\n                httpURLConnection.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.9&quot;);\r\n                InputStream inputStream = httpURLConnection.getInputStream();\r\n                System.out.println(httpURLConnection.getResponseCode());\r\n                System.out.println(&quot;Got inputstream.&quot;);\r\n\r\n                // checking output via Jackson for testing (ignore this)\r\n                ObjectMapper mapper = new ObjectMapper();\r\n                Map data = mapper.readValue(inputStream, Map.class);\r\n                System.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(data));\r\n\r\n                Thread.sleep(1000);\r\n            }\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    200\r\n    Got inputstream.\r\n    {\r\n      &quot;records&quot; : {\r\n        &quot;expiryDates&quot; : [ &quot;09-Oct-2023&quot;, &quot;16-Oct-2023&quot;, &quot;23-Oct-2023&quot;, &quot;30-Oct-2023&quot;, &quot;06-Nov-2023&quot;, &quot;22-Dec-2023&quot; ],\r\n        &quot;data&quot; : [ {\r\n          &quot;strikePrice&quot; : 7800,\r\n          &quot;expiryDate&quot; : &quot;09-Oct-2023&quot;,\r\n          &quot;PE&quot; : {\r\n            &quot;strikePrice&quot; : 7800,\r\n            &quot;expiryDate&quot; : &quot;09-Oct-2023&quot;,\r\n            &quot;underlying&quot; : &quot;MIDCPNIFTY&quot;,\r\n            &quot;identifier&quot; : &quot;OPTIDXMIDCPNIFTY09-10-2023PE7800.00&quot;,\r\n            &quot;openInterest&quot; : 386,\r\n            &quot;changeinOpenInterest&quot; : -33,\r\n            &quot;pchangeinOpenInterest&quot; : -7.875894988066825,\r\n            &quot;totalTradedVolume&quot; : 985,\r\n            &quot;impliedVolatility&quot; : 52.73,\r\n            &quot;lastPrice&quot; : 0.05,\r\n            &quot;change&quot; : -0.4,\r\n    ....\r\n\r\n\r\n","title":"Getting 401 Unauthorized even after setting browser name and cookie in header","body":"<p>You were adding multiple <code>Cookie</code> request property while calling <code>&quot;https://www.nseindia.com/api/option-chain-indices?symbol=MIDCPNIFTY&quot;</code> which was causing 401.</p>\n<p>Also, I updated your code to fix the way you were adding <code>Cookie</code> in the headers while doing the request.</p>\n<p>Now this will work :)</p>\n<p>Try this:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport java.net.*;\nimport java.util.List;\nimport java.io.InputStream;\nimport java.util.Map;\nimport java.util.Objects;\nimport java.util.stream.Collectors;\n\npublic class PollNSEIndia {\n    public static void main(String args[]) throws Exception {\n        while (true) {\n            CookieManager cookieManager = new CookieManager();\n            CookieHandler.setDefault(cookieManager);\n            HttpURLConnection baseUrlConnection = (HttpURLConnection) new URL(&quot;https://www.nseindia.com/&quot;).openConnection();\n            baseUrlConnection.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\n            baseUrlConnection.setRequestProperty(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\n            baseUrlConnection.setRequestProperty(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;);\n            baseUrlConnection.setRequestProperty(\n                    &quot;User-Agent&quot;,\n                    &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko)&quot;\n                            + &quot; Chrome/89.0.4389.114 Safari/537.36&quot;);\n            baseUrlConnection.setRequestProperty(\n                    &quot;Accept&quot;,\n                    &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&quot;);\n            baseUrlConnection.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.9&quot;);\n            baseUrlConnection.getContent();\n            List&lt;HttpCookie&gt; cookieList = cookieManager.getCookieStore().getCookies();\n\n            URL url = new URL(&quot;https://www.nseindia.com/api/option-chain-indices?symbol=MIDCPNIFTY&quot;);\n            HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\n            httpURLConnection.setRequestMethod(&quot;GET&quot;);\n            httpURLConnection.setRequestProperty(&quot;Cookie&quot;, cookieList.stream().filter(Objects::nonNull)\n                    .map(cookie -&gt; cookie.getName() + &quot;=&quot; + cookie.getValue()).collect(Collectors.joining(&quot;;&quot;)));\n            httpURLConnection.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\n            httpURLConnection.setRequestProperty(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\n            httpURLConnection.setRequestProperty(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;);\n            httpURLConnection.setRequestProperty(\n                    &quot;User-Agent&quot;,\n                    &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko)&quot;\n                            + &quot; Chrome/89.0.4389.114 Safari/537.36&quot;);\n            httpURLConnection.setRequestProperty(\n                    &quot;Accept&quot;,\n                    &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&quot;);\n            httpURLConnection.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.9&quot;);\n            InputStream inputStream = httpURLConnection.getInputStream();\n            System.out.println(httpURLConnection.getResponseCode());\n            System.out.println(&quot;Got inputstream.&quot;);\n\n            // checking output via Jackson for testing (ignore this)\n            ObjectMapper mapper = new ObjectMapper();\n            Map data = mapper.readValue(inputStream, Map.class);\n            System.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(data));\n\n            Thread.sleep(1000);\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>200\nGot inputstream.\n{\n  &quot;records&quot; : {\n    &quot;expiryDates&quot; : [ &quot;09-Oct-2023&quot;, &quot;16-Oct-2023&quot;, &quot;23-Oct-2023&quot;, &quot;30-Oct-2023&quot;, &quot;06-Nov-2023&quot;, &quot;22-Dec-2023&quot; ],\n    &quot;data&quot; : [ {\n      &quot;strikePrice&quot; : 7800,\n      &quot;expiryDate&quot; : &quot;09-Oct-2023&quot;,\n      &quot;PE&quot; : {\n        &quot;strikePrice&quot; : 7800,\n        &quot;expiryDate&quot; : &quot;09-Oct-2023&quot;,\n        &quot;underlying&quot; : &quot;MIDCPNIFTY&quot;,\n        &quot;identifier&quot; : &quot;OPTIDXMIDCPNIFTY09-10-2023PE7800.00&quot;,\n        &quot;openInterest&quot; : 386,\n        &quot;changeinOpenInterest&quot; : -33,\n        &quot;pchangeinOpenInterest&quot; : -7.875894988066825,\n        &quot;totalTradedVolume&quot; : 985,\n        &quot;impliedVolatility&quot; : 52.73,\n        &quot;lastPrice&quot; : 0.05,\n        &quot;change&quot; : -0.4,\n....\n</code></pre>\n"}],"owner":{"account_id":218143,"reputation":119,"user_id":474323,"accept_rate":39,"display_name":"Walking Corpse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77249756,"answer_count":1,"score":3,"last_activity_date":1696826388,"creation_date":1696405074,"question_id":77227650,"body_markdown":"I&#39;m running the below Java code for fetching option-chain data from the NSE stock exchange&#39;s REST api. At first I&#39;m making a GET to the home page and using the cookie from the response in the subsequent request to actually fetch the option-chain data. I repeat both these steps continuously with a scheduled task. It works one or two times but after that it starts giving 401 unauthorized error in the HTTP response. I&#39;m setting a browser name in both request headers. Any help is much appreciated.\r\n\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    import java.util.List;\r\n    import java.io.InputStream;\r\n    \r\n    public class PollNSEIndia {\r\n        public static void main(String args[]) throws Exception {\r\n            while (true) {\r\n                HttpURLConnection baseUrlConnection = (HttpURLConnection) new URL(&quot;https://www.nseindia.com/&quot;).openConnection();\r\n                baseUrlConnection.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\r\n                baseUrlConnection.setRequestProperty(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\r\n                baseUrlConnection.setRequestProperty(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;);\r\n                baseUrlConnection.setRequestProperty(\r\n                        &quot;User-Agent&quot;,\r\n                        &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko)&quot;\r\n                                + &quot; Chrome/89.0.4389.114 Safari/537.36&quot;);\r\n                baseUrlConnection.setRequestProperty(\r\n                        &quot;Accept&quot;,\r\n                        &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&quot;);\r\n                baseUrlConnection.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.9&quot;);\r\n                List&lt;String&gt; cookies = baseUrlConnection.getHeaderFields().get(&quot;Set-Cookie&quot;);\r\n    \r\n                URL url = new URL(&quot;https://www.nseindia.com/api/option-chain-indices?symbol=MIDCPNIFTY&quot;);\r\n                HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\r\n                httpURLConnection.setRequestMethod(&quot;GET&quot;);\r\n                for (String cookie : cookies) {\r\n                    httpURLConnection.addRequestProperty(&quot;Cookie&quot;, cookie.split(&quot;;&quot;, 2)[0]);\r\n                }\r\n                httpURLConnection.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\r\n                httpURLConnection.setRequestProperty(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\r\n                httpURLConnection.setRequestProperty(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;);\r\n                httpURLConnection.setRequestProperty(\r\n                        &quot;User-Agent&quot;,\r\n                        &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko)&quot;\r\n                                + &quot; Chrome/89.0.4389.114 Safari/537.36&quot;);\r\n                httpURLConnection.setRequestProperty(\r\n                        &quot;Accept&quot;,\r\n                        &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&quot;);\r\n                httpURLConnection.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.9&quot;);\r\n                InputStream inputStream = httpURLConnection.getInputStream();\r\n                System.out.println(&quot;Got inputstream.&quot;);\r\n                Thread.sleep(1000);\r\n            }\r\n        }\r\n    }","title":"Getting 401 Unauthorized even after setting browser name and cookie in header","body":"<p>I'm running the below Java code for fetching option-chain data from the NSE stock exchange's REST api. At first I'm making a GET to the home page and using the cookie from the response in the subsequent request to actually fetch the option-chain data. I repeat both these steps continuously with a scheduled task. It works one or two times but after that it starts giving 401 unauthorized error in the HTTP response. I'm setting a browser name in both request headers. Any help is much appreciated.</p>\n<pre><code>import java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.List;\nimport java.io.InputStream;\n\npublic class PollNSEIndia {\n    public static void main(String args[]) throws Exception {\n        while (true) {\n            HttpURLConnection baseUrlConnection = (HttpURLConnection) new URL(&quot;https://www.nseindia.com/&quot;).openConnection();\n            baseUrlConnection.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\n            baseUrlConnection.setRequestProperty(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\n            baseUrlConnection.setRequestProperty(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;);\n            baseUrlConnection.setRequestProperty(\n                    &quot;User-Agent&quot;,\n                    &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko)&quot;\n                            + &quot; Chrome/89.0.4389.114 Safari/537.36&quot;);\n            baseUrlConnection.setRequestProperty(\n                    &quot;Accept&quot;,\n                    &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&quot;);\n            baseUrlConnection.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.9&quot;);\n            List&lt;String&gt; cookies = baseUrlConnection.getHeaderFields().get(&quot;Set-Cookie&quot;);\n\n            URL url = new URL(&quot;https://www.nseindia.com/api/option-chain-indices?symbol=MIDCPNIFTY&quot;);\n            HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\n            httpURLConnection.setRequestMethod(&quot;GET&quot;);\n            for (String cookie : cookies) {\n                httpURLConnection.addRequestProperty(&quot;Cookie&quot;, cookie.split(&quot;;&quot;, 2)[0]);\n            }\n            httpURLConnection.setRequestProperty(&quot;Connection&quot;, &quot;keep-alive&quot;);\n            httpURLConnection.setRequestProperty(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\n            httpURLConnection.setRequestProperty(&quot;Upgrade-Insecure-Requests&quot;, &quot;1&quot;);\n            httpURLConnection.setRequestProperty(\n                    &quot;User-Agent&quot;,\n                    &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko)&quot;\n                            + &quot; Chrome/89.0.4389.114 Safari/537.36&quot;);\n            httpURLConnection.setRequestProperty(\n                    &quot;Accept&quot;,\n                    &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&quot;);\n            httpURLConnection.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.9&quot;);\n            InputStream inputStream = httpURLConnection.getInputStream();\n            System.out.println(&quot;Got inputstream.&quot;);\n            Thread.sleep(1000);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","jms"],"answers":[{"comments":[{"owner":{"account_id":1746243,"reputation":788,"user_id":1596398,"accept_rate":58,"display_name":"Hmmmmm"},"score":0,"creation_date":1543380805,"post_id":53511458,"comment_id":93893979,"body_markdown":"Thanks for the response. It fulfills our needs in our DEV environment and we will test it in the other ones but we still are not sure if it is considered best practice or not. We like to move things into production once they pass testing in the other environments and once we have confirmed we are following best practices (or have a very good reason to deviate from best practices).","body":"Thanks for the response. It fulfills our needs in our DEV environment and we will test it in the other ones but we still are not sure if it is considered best practice or not. We like to move things into production once they pass testing in the other environments and once we have confirmed we are following best practices (or have a very good reason to deviate from best practices)."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1543420496,"post_id":53511458,"comment_id":93915568,"body_markdown":"I updated my answer with some additional details. Hope that helps.","body":"I updated my answer with some additional details. Hope that helps."},{"owner":{"account_id":1746243,"reputation":788,"user_id":1596398,"accept_rate":58,"display_name":"Hmmmmm"},"score":0,"creation_date":1543455887,"post_id":53511458,"comment_id":93929739,"body_markdown":"In your update you wrote that it would be a bug if the application were programmed to create a MessageListener and then exit without actually waiting for messages. My question is about the last part of that sentence. What is the proper way to wait for messages? When I run a test app from Eclipse my main method completes but the process doesn&#39;t terminate (terminate button is still enabled), presumably because I never closed the connection. Is keeping the connection open a good way to keep a program running and waiting for messages?","body":"In your update you wrote that it would be a bug if the application were programmed to create a MessageListener and then exit without actually waiting for messages. My question is about the last part of that sentence. What is the proper way to wait for messages? When I run a test app from Eclipse my main method completes but the process doesn&#39;t terminate (terminate button is still enabled), presumably because I never closed the connection. Is keeping the connection open a good way to keep a program running and waiting for messages?"},{"owner":{"account_id":1746243,"reputation":788,"user_id":1596398,"accept_rate":58,"display_name":"Hmmmmm"},"score":0,"creation_date":1543456950,"post_id":53511458,"comment_id":93929940,"body_markdown":"I added a code sample to further explain what I mean by using the JMS client connection to keep the program running. Take a look at the comment above the commented out &quot;test.close()&quot; in the main method. Thanks!","body":"I added a code sample to further explain what I mean by using the JMS client connection to keep the program running. Take a look at the comment above the commented out &quot;test.close()&quot; in the main method. Thanks!"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1543508585,"post_id":53511458,"comment_id":93953543,"body_markdown":"Keeping the connection open is **not** a good way to keep the program running. I&#39;ve updated my answer with additional details to clarify.","body":"Keeping the connection open is <b>not</b> a good way to keep the program running. I&#39;ve updated my answer with additional details to clarify."},{"owner":{"account_id":1746243,"reputation":788,"user_id":1596398,"accept_rate":58,"display_name":"Hmmmmm"},"score":0,"creation_date":1543512567,"post_id":53511458,"comment_id":93955663,"body_markdown":"Sorry, I put short code up there to make it easy to read. We do create MessageConsumers with MessageListeners in our actual production code. But, currently the parent object does eventually fall out of scope, and that is where my problem resides. What is the best way to keep the program running? A loop that constantly checks for some kind of signal to stop? A prompt to read input from a user? The loop seems like it would unnecessarily waste CPU and the input prompt looks like it could get accidental input from a user causing the program to terminate.","body":"Sorry, I put short code up there to make it easy to read. We do create MessageConsumers with MessageListeners in our actual production code. But, currently the parent object does eventually fall out of scope, and that is where my problem resides. What is the best way to keep the program running? A loop that constantly checks for some kind of signal to stop? A prompt to read input from a user? The loop seems like it would unnecessarily waste CPU and the input prompt looks like it could get accidental input from a user causing the program to terminate."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1543514487,"post_id":53511458,"comment_id":93956622,"body_markdown":"Update your question with more realistic code and I&#39;ll be able to comment.","body":"Update your question with more realistic code and I&#39;ll be able to comment."},{"owner":{"account_id":1746243,"reputation":788,"user_id":1596398,"accept_rate":58,"display_name":"Hmmmmm"},"score":0,"creation_date":1543528666,"post_id":53511458,"comment_id":93963006,"body_markdown":"OK, I updated the question with a more realistic example. The MessageListener and MessageConsumer are now registered, but the object still falls out of scope and is therefore expecting the open connection to keep the program running.","body":"OK, I updated the question with a more realistic example. The MessageListener and MessageConsumer are now registered, but the object still falls out of scope and is therefore expecting the open connection to keep the program running."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1543540384,"post_id":53511458,"comment_id":93966210,"body_markdown":"I updated my answer with some additional suggestions.","body":"I updated my answer with some additional suggestions."},{"owner":{"account_id":1746243,"reputation":788,"user_id":1596398,"accept_rate":58,"display_name":"Hmmmmm"},"score":0,"creation_date":1543541402,"post_id":53511458,"comment_id":93966413,"body_markdown":"Thank you for your responses. Your first and third options are what we have played with and they have worked fine for us. Thank you for confirming that those are considered good solutions to this problem.","body":"Thank you for your responses. Your first and third options are what we have played with and they have worked fine for us. Thank you for confirming that those are considered good solutions to this problem."}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1543540358,"creation_date":1543374061,"answer_id":53511458,"question_id":53511049,"body_markdown":"Is the current client implementation fulfilling your requirements?  If so, I would not change it.  If the current client implementation is *not* fulfilling your requirements then I would change it. Changing software which is working without a problem and fulfilling your needs (and with no clear foreseeable problems) simply to adhere to a &quot;best practice&quot; is almost certainly not the best investment of resources.\r\n\r\nUltimately the behavior of the application is up to the application itself.  I don&#39;t see how running the application as a service or doing anything else external to the application would actually force it to stay up and running properly while it listens/waits for messages.  It would be a bug if the application were programmed, for example, to use the JMS API and create a MessageListener (i.e. the class responsible for receiving messages asynchronously) and then exit without actually waiting for messages. Running such an application as a service so that the OS keeps restarting it after it incorrectly exits wouldn&#39;t be a good solution.\r\n\r\nHaving a properly written client is the best practice. Propping it up with some external mechanism is bad practice.\r\n\r\nThe sample code you provided is poorly written and has some clear problems:\r\n\r\n 1. The `Connection` and `Session` objects fall out of scope which means they can never be properly closed. Eventually those objects will be garbage collected by the JVM. This is improper resource management.\r\n 2. The only reason the application doesn&#39;t terminate completely is due to the way the ActiveMQ 5.x client is implemented (i.e. the open connection blocks the JVM process from terminating). This implementation detail is not part of the public contract provided by the JMS API and should therefore not be relied upon. If you were to use a different JMS client implementation, e.g. the ActiveMQ Artemis core JMS client, the application *would* terminate completely as soon as `main()` exited.\r\n\r\nTo fix this, your `main()` method should wait after creating the `JmsTestWithoutClose` instance. There are lots of ways to do this in Java:\r\n\r\n  1. Use a `while` loop with a `Thread.sleep()` where the loop&#39;s condition can be modified as needed to allow the application to exit.\r\n  2. Use an object specifically designed for thread coordination like [`java.util.concurrent.CountDownLatch`][1]. Using a `CountDownLatch` the `main()` method can invoke `await()` and when the application is finished processing messages the `MessageListener` implementation, for example, can invoke `countDown()`\r\n  3. Use a `while` loop reading input from the console and only continue when a special string is input (e.g. _exit_).\r\n\r\nIn any case, it&#39;s important that the application close all of the resources it created (e.g. sessions, connections, etc.).\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html","title":"JMS client that doesn&#39;t terminate","body":"<p>Is the current client implementation fulfilling your requirements?  If so, I would not change it.  If the current client implementation is <em>not</em> fulfilling your requirements then I would change it. Changing software which is working without a problem and fulfilling your needs (and with no clear foreseeable problems) simply to adhere to a \"best practice\" is almost certainly not the best investment of resources.</p>\n\n<p>Ultimately the behavior of the application is up to the application itself.  I don't see how running the application as a service or doing anything else external to the application would actually force it to stay up and running properly while it listens/waits for messages.  It would be a bug if the application were programmed, for example, to use the JMS API and create a MessageListener (i.e. the class responsible for receiving messages asynchronously) and then exit without actually waiting for messages. Running such an application as a service so that the OS keeps restarting it after it incorrectly exits wouldn't be a good solution.</p>\n\n<p>Having a properly written client is the best practice. Propping it up with some external mechanism is bad practice.</p>\n\n<p>The sample code you provided is poorly written and has some clear problems:</p>\n\n<ol>\n<li>The <code>Connection</code> and <code>Session</code> objects fall out of scope which means they can never be properly closed. Eventually those objects will be garbage collected by the JVM. This is improper resource management.</li>\n<li>The only reason the application doesn't terminate completely is due to the way the ActiveMQ 5.x client is implemented (i.e. the open connection blocks the JVM process from terminating). This implementation detail is not part of the public contract provided by the JMS API and should therefore not be relied upon. If you were to use a different JMS client implementation, e.g. the ActiveMQ Artemis core JMS client, the application <em>would</em> terminate completely as soon as <code>main()</code> exited.</li>\n</ol>\n\n<p>To fix this, your <code>main()</code> method should wait after creating the <code>JmsTestWithoutClose</code> instance. There are lots of ways to do this in Java:</p>\n\n<ol>\n<li>Use a <code>while</code> loop with a <code>Thread.sleep()</code> where the loop's condition can be modified as needed to allow the application to exit.</li>\n<li>Use an object specifically designed for thread coordination like <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\"><code>java.util.concurrent.CountDownLatch</code></a>. Using a <code>CountDownLatch</code> the <code>main()</code> method can invoke <code>await()</code> and when the application is finished processing messages the <code>MessageListener</code> implementation, for example, can invoke <code>countDown()</code></li>\n<li>Use a <code>while</code> loop reading input from the console and only continue when a special string is input (e.g. <em>exit</em>).</li>\n</ol>\n\n<p>In any case, it's important that the application close all of the resources it created (e.g. sessions, connections, etc.).</p>\n"}],"owner":{"account_id":1746243,"reputation":788,"user_id":1596398,"accept_rate":58,"display_name":"Hmmmmm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":901,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53511458,"answer_count":1,"score":1,"last_activity_date":1696825807,"creation_date":1543370802,"question_id":53511049,"body_markdown":"We have a JMS client that needs to sit idle until it receives a message. When it receives a message, it will execute some functionality and then go back to an idle state. My question is, what is the best way to ensure that the client stays up and running? Is it good practice to let the JMS client software handle this or do we need to run the software as a service on the host machine (and/or do something else)? We are currently relying on the JMS client software as it seems to keep a thread active with the open connection but I am unsure if this is best practice. We use ActiveMQ as our message broker and for the client software.\r\n\r\n**Edit: Added code sample**\r\n\r\nBelow is an example of how the client stays up using the JMS client connection:\r\n    \r\n    import javax.jms.Connection;\r\n    import javax.jms.Destination;\r\n    import javax.jms.JMSException;\r\n    import javax.jms.Message;\r\n    import javax.jms.MessageConsumer;\r\n    import javax.jms.MessageListener;\r\n    import javax.jms.Session;\r\n    import org.apache.activemq.ActiveMQConnectionFactory;\r\n    \r\n    public class JmsTestWithoutClose implements MessageListener {\r\n    \r\n    \tprivate final Connection connection;\r\n    \tprivate final Session session;\r\n    \tprivate final MessageConsumer consumer;\r\n    \t\r\n    \tpublic static void main(String[] args) throws JMSException {\r\n            System.out.println(&quot;Starting...&quot;);\r\n            JmsTestWithoutClose test = new JmsTestWithoutClose(&quot;&lt;username&gt;&quot;, &quot;&lt;password&gt;&quot;, &quot;tcp://&lt;host&gt;:&lt;port&gt;&quot;);\r\n    \t\t// if you uncomment the line below, the program will terminate\r\n            // if you keep it commented, the program will NOT terminate\r\n    \t\t// test.close();\r\n            System.out.println(&quot;Last line of main method...&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic JmsTestWithoutClose(String username, String password, String url) throws JMSException {\r\n    \t\t// create connection and session\r\n    \t\tActiveMQConnectionFactory factory = new ActiveMQConnectionFactory(username, password, url);\r\n    \t\tthis.connection = factory.createConnection();\r\n            connection.start();\r\n            this.session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n            Destination destination = session.createTopic(&quot;Topic_Name&quot;);\r\n    \t\tconsumer = session.createConsumer(destination);\r\n    \t\tconsumer.setMessageListener(this);\r\n    \t}\r\n    \t\r\n    \tpublic void close() throws JMSException {\r\n    \t\tsession.close();\r\n    \t\tconnection.close();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onMessage(Message message) {\r\n    \t\t// process the message\r\n    \t}\r\n    \r\n    }\r\n    ","title":"JMS client that doesn&#39;t terminate","body":"<p>We have a JMS client that needs to sit idle until it receives a message. When it receives a message, it will execute some functionality and then go back to an idle state. My question is, what is the best way to ensure that the client stays up and running? Is it good practice to let the JMS client software handle this or do we need to run the software as a service on the host machine (and/or do something else)? We are currently relying on the JMS client software as it seems to keep a thread active with the open connection but I am unsure if this is best practice. We use ActiveMQ as our message broker and for the client software.</p>\n\n<p><strong>Edit: Added code sample</strong></p>\n\n<p>Below is an example of how the client stays up using the JMS client connection:</p>\n\n<pre><code>import javax.jms.Connection;\nimport javax.jms.Destination;\nimport javax.jms.JMSException;\nimport javax.jms.Message;\nimport javax.jms.MessageConsumer;\nimport javax.jms.MessageListener;\nimport javax.jms.Session;\nimport org.apache.activemq.ActiveMQConnectionFactory;\n\npublic class JmsTestWithoutClose implements MessageListener {\n\n    private final Connection connection;\n    private final Session session;\n    private final MessageConsumer consumer;\n\n    public static void main(String[] args) throws JMSException {\n        System.out.println(\"Starting...\");\n        JmsTestWithoutClose test = new JmsTestWithoutClose(\"&lt;username&gt;\", \"&lt;password&gt;\", \"tcp://&lt;host&gt;:&lt;port&gt;\");\n        // if you uncomment the line below, the program will terminate\n        // if you keep it commented, the program will NOT terminate\n        // test.close();\n        System.out.println(\"Last line of main method...\");\n    }\n\n    public JmsTestWithoutClose(String username, String password, String url) throws JMSException {\n        // create connection and session\n        ActiveMQConnectionFactory factory = new ActiveMQConnectionFactory(username, password, url);\n        this.connection = factory.createConnection();\n        connection.start();\n        this.session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n        Destination destination = session.createTopic(\"Topic_Name\");\n        consumer = session.createConsumer(destination);\n        consumer.setMessageListener(this);\n    }\n\n    public void close() throws JMSException {\n        session.close();\n        connection.close();\n    }\n\n    @Override\n    public void onMessage(Message message) {\n        // process the message\n    }\n\n}\n</code></pre>\n"},{"tags":["java","node.js","express","https"],"answers":[{"tags":[],"owner":{"account_id":21678944,"reputation":31,"user_id":15995442,"display_name":"dvdkwei"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1691571477,"creation_date":1691571477,"answer_id":76866109,"question_id":76652485,"body_markdown":"I also got the same error with a vite project that&#39;s communicating with an api server through docker. The problem was that the IP address of the api in my .env was wrong. It is fixed, once I changed my variable with the correct value/ IP. Does your app somehow make a request prior to the initiation of your app? If yes, you may want to check the address you are requesting to. If the problem still occurs, I would suggest to: \r\n\r\n 1. Delete `node_modules`\r\n 2. Run `npm cache verify` to make sure there are no other problems.\r\n 3. Run `npm install`","title":"How to stop a random node error: &#39;(node:196569) Warning: An error event has already been emitted on the socket.&#39;","body":"<p>I also got the same error with a vite project that's communicating with an api server through docker. The problem was that the IP address of the api in my .env was wrong. It is fixed, once I changed my variable with the correct value/ IP. Does your app somehow make a request prior to the initiation of your app? If yes, you may want to check the address you are requesting to. If the problem still occurs, I would suggest to:</p>\n<ol>\n<li>Delete <code>node_modules</code></li>\n<li>Run <code>npm cache verify</code> to make sure there are no other problems.</li>\n<li>Run <code>npm install</code></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":16879926,"reputation":526,"user_id":12206312,"display_name":"Snailedlt"},"score":0,"creation_date":1702037835,"post_id":77256230,"comment_id":136851550,"body_markdown":"I&#39;m getting the same error on Node v19.9.0. Deleting `node_modules` and reinstalling with `pnpm i &amp;&amp; pnpm dev` didn&#39;t work either","body":"I&#39;m getting the same error on Node v19.9.0. Deleting <code>node_modules</code> and reinstalling with <code>pnpm i &amp;&amp; pnpm dev</code> didn&#39;t work either"}],"tags":[],"owner":{"account_id":14859860,"reputation":1,"user_id":10731075,"display_name":"James"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696824713,"creation_date":1696824713,"answer_id":77256230,"question_id":76652485,"body_markdown":"I also ran into this issue, seemingly without any problems from my code.\r\n\r\nThat message was added in this Node pull request:\r\nhttps://github.com/nodejs/node/pull/46769/files\r\n\r\nThere was another pull request later that fixed a bug in it:\r\nhttps://github.com/nodejs/node/pull/48592/files\r\n\r\nI wager that the bug being fixed is probably the cause.\r\n\r\nThe fix was rolled out in node v18.8.0. I&#39;ve already upgrade my node version, so if I see the issue again then I&#39;ll try to remember to update this answer to rule it out.","title":"How to stop a random node error: &#39;(node:196569) Warning: An error event has already been emitted on the socket.&#39;","body":"<p>I also ran into this issue, seemingly without any problems from my code.</p>\n<p>That message was added in this Node pull request:\n<a href=\"https://github.com/nodejs/node/pull/46769/files\" rel=\"nofollow noreferrer\">https://github.com/nodejs/node/pull/46769/files</a></p>\n<p>There was another pull request later that fixed a bug in it:\n<a href=\"https://github.com/nodejs/node/pull/48592/files\" rel=\"nofollow noreferrer\">https://github.com/nodejs/node/pull/48592/files</a></p>\n<p>I wager that the bug being fixed is probably the cause.</p>\n<p>The fix was rolled out in node v18.8.0. I've already upgrade my node version, so if I see the issue again then I'll try to remember to update this answer to rule it out.</p>\n"}],"owner":{"account_id":24235383,"reputation":73,"user_id":18188599,"display_name":"hutchyBop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3077,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1696824713,"creation_date":1688981782,"question_id":76652485,"body_markdown":"I have an express web server built in node.js. When I run my server, eventually I get the following error in the terminal:\r\n\r\n\r\n```\r\n(node:196569) Warning: An error event has already been emitted on the socket. Please use the destroy method on the socket while handling a &#39;clientError&#39; event.\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\n```\r\n\r\nI am using node:https to create the server as follows:\r\n\r\n\r\n```\r\nconst express = require(&#39;express&#39;);\r\nconst https = require(&#39;node:https&#39;);\r\n\r\n// setting up express\r\nconst app = express();\r\n\r\n// Setting up SSL Certificates\r\nconst https_options = {\r\n    key: process.env.HUTCHYBOP_KEY.replace(/\\\\n/g, &#39;\\n&#39;),\r\n    cert: process.env.CRT_CODE.replace(/\\\\n/g, &#39;\\n&#39;),\r\n    keepAlive: false\r\n};\r\n\r\n... rest of my code, routes ect...\r\n\r\n\r\n// http server (Port 80, should redirect to https);\r\napp.listen(80);\r\n\r\n// https Server (Port 443)\r\nhttps.createServer(https_options, app).listen(443, () =&gt; {\r\n    console.log(&#39;Server listening on PORT 443 (https)&#39;);\r\n    serveHTTP() // logging function\r\n});\r\n```\r\n\r\n\r\nAfter doing some reading, I added the keepAlive option hoping it might solve the issue, it did not.\r\n\r\nI have added the --trace-warnings option and got:\r\n\r\n```\r\n(node:230020) Warning: An error event has already been emitted on the socket. Please use the destroy method on the socket while handling a &#39;clientError&#39; event.\r\n    at warnUnclosedSocket (node:_http_server:827:11)\r\n    at TLSSocket.socketOnError (node:_http_server:841:5)\r\n    at onParserExecuteCommon (node:_http_server:876:19)\r\n    at onParserExecute (node:_http_server:797:3)\r\n```\r\n\r\nI have had a google round for solutions to the error but have come up short and I&#39;m fairly new to this so I&#39;m now stuggling to work out what to do next.\r\n\r\nDoes anybody know why the error is happing and how to stop it?","title":"How to stop a random node error: &#39;(node:196569) Warning: An error event has already been emitted on the socket.&#39;","body":"<p>I have an express web server built in node.js. When I run my server, eventually I get the following error in the terminal:</p>\n<pre><code>(node:196569) Warning: An error event has already been emitted on the socket. Please use the destroy method on the socket while handling a 'clientError' event.\n(Use `node --trace-warnings ...` to show where the warning was created)\n</code></pre>\n<p>I am using node:https to create the server as follows:</p>\n<pre><code>const express = require('express');\nconst https = require('node:https');\n\n// setting up express\nconst app = express();\n\n// Setting up SSL Certificates\nconst https_options = {\n    key: process.env.HUTCHYBOP_KEY.replace(/\\\\n/g, '\\n'),\n    cert: process.env.CRT_CODE.replace(/\\\\n/g, '\\n'),\n    keepAlive: false\n};\n\n... rest of my code, routes ect...\n\n\n// http server (Port 80, should redirect to https);\napp.listen(80);\n\n// https Server (Port 443)\nhttps.createServer(https_options, app).listen(443, () =&gt; {\n    console.log('Server listening on PORT 443 (https)');\n    serveHTTP() // logging function\n});\n</code></pre>\n<p>After doing some reading, I added the keepAlive option hoping it might solve the issue, it did not.</p>\n<p>I have added the --trace-warnings option and got:</p>\n<pre><code>(node:230020) Warning: An error event has already been emitted on the socket. Please use the destroy method on the socket while handling a 'clientError' event.\n    at warnUnclosedSocket (node:_http_server:827:11)\n    at TLSSocket.socketOnError (node:_http_server:841:5)\n    at onParserExecuteCommon (node:_http_server:876:19)\n    at onParserExecute (node:_http_server:797:3)\n</code></pre>\n<p>I have had a google round for solutions to the error but have come up short and I'm fairly new to this so I'm now stuggling to work out what to do next.</p>\n<p>Does anybody know why the error is happing and how to stop it?</p>\n"},{"tags":["java","hadoop","jdbc","hive","cloudera-cdh"],"comments":[{"owner":{"account_id":1922736,"reputation":2622,"user_id":1733834,"accept_rate":47,"display_name":"K S Nidhin"},"score":0,"creation_date":1453313878,"post_id":34898931,"comment_id":57551080,"body_markdown":"GSS initiate failed this error generally occurs when your kerboros ticket gets expired. Try re validating the token each time you run the java code.","body":"GSS initiate failed this error generally occurs when your kerboros ticket gets expired. Try re validating the token each time you run the java code."},{"owner":{"account_id":418796,"reputation":314,"user_id":795576,"accept_rate":65,"display_name":"Fayaz"},"score":0,"creation_date":1453383900,"post_id":34898931,"comment_id":57584262,"body_markdown":"I have already tried regenerating ticket using kninit command. But no luck.","body":"I have already tried regenerating ticket using kninit command. But no luck."},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":0,"creation_date":1453403420,"post_id":34898931,"comment_id":57597413,"body_markdown":"What flavor of JVM are you using? And what kind of encryption is expected by the KDC? *(spoiler: the Oracle/Sun JRE does not support AES256 by default, you must download the &quot;unlimited strength cryptography&quot;)*","body":"What flavor of JVM are you using? And what kind of encryption is expected by the KDC? <i>(spoiler: the Oracle/Sun JRE does not support AES256 by default, you must download the &quot;unlimited strength cryptography&quot;)</i>"},{"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"score":1,"creation_date":1453403601,"post_id":34898931,"comment_id":57597526,"body_markdown":"Did you try the JAAS trace flag `-Djava.security.debug=gssloginconfig,configfile,configparser,logincontext` to debug your issue?","body":"Did you try the JAAS trace flag <code>-Djava.security.debug=gssloginconfig,configfile,configparser&zwnj;&#8203;,logincontext</code> to debug your issue?"}],"answers":[{"tags":[],"owner":{"account_id":215757,"reputation":14141,"user_id":470583,"accept_rate":55,"display_name":"Tagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463437962,"creation_date":1463436746,"answer_id":37264088,"question_id":34898931,"body_markdown":"It&#39;s not a missing/expired ticket problem. Otherwise error stack will read also &quot;Caused by GSSException: No valid credentials provided&quot; down right after &quot;GSS initiate failed&quot;.\r\n\r\nPossible problems:\r\n\r\n1. It seems that the server where you&#39;re trying to connect to (Hive Server 2, port 10000) and your client machine (that makes jdbc: hive connection) are in different domains. Is it the case?\r\n\r\n2. To confirm that your server and client can authenticate in that one domain, and its domain configurations are correct (krb5.conf etc.), do\r\n\r\n        $ kinit -k -t hive.keytab hive/cdh-542-kerberos.informatica.com@INFAQAKERB (like you did)\r\n        $ klist \r\n\r\n - do this on server and client side and copy-paste result here.\r\n\r\n3. &quot;org.apache.hive.jdbc.HiveConnection.openTransport(HiveConnection.java:215) &quot; can give a clue that it might be a firewall/domain configuration issue from HS2 server to domain controller server. Although you can create ticket on client side, HS2 server can&#39;t validate it.\r\n\r\n4. On your code snippets - check out [Examples of connecting to Kerberos Hive in JDBC](http://appcrawler.com/wordpress/2015/06/18/examples-of-connecting-to-kerberos-hive-in-jdbc/).\r\n\r\n It seems your code is at least missing:\r\n\r\n        UserGroupInformation.setConfiguration(conf);\r\n\r\n not sure though if it&#39;s relevant for your use case...\r\n\r\nKeep us updated if you are able to resolve this.","title":"Issue connecting to Hive using JDBC with Kerberos authentication","body":"<p>It's not a missing/expired ticket problem. Otherwise error stack will read also \"Caused by GSSException: No valid credentials provided\" down right after \"GSS initiate failed\".</p>\n\n<p>Possible problems:</p>\n\n<ol>\n<li><p>It seems that the server where you're trying to connect to (Hive Server 2, port 10000) and your client machine (that makes jdbc: hive connection) are in different domains. Is it the case?</p></li>\n<li><p>To confirm that your server and client can authenticate in that one domain, and its domain configurations are correct (krb5.conf etc.), do</p>\n\n<pre><code>$ kinit -k -t hive.keytab hive/cdh-542-kerberos.informatica.com@INFAQAKERB (like you did)\n$ klist \n</code></pre>\n\n<ul>\n<li>do this on server and client side and copy-paste result here.</li>\n</ul></li>\n<li><p>\"org.apache.hive.jdbc.HiveConnection.openTransport(HiveConnection.java:215) \" can give a clue that it might be a firewall/domain configuration issue from HS2 server to domain controller server. Although you can create ticket on client side, HS2 server can't validate it.</p></li>\n<li><p>On your code snippets - check out <a href=\"http://appcrawler.com/wordpress/2015/06/18/examples-of-connecting-to-kerberos-hive-in-jdbc/\" rel=\"nofollow\">Examples of connecting to Kerberos Hive in JDBC</a>.</p>\n\n<p>It seems your code is at least missing:</p>\n\n<pre><code>UserGroupInformation.setConfiguration(conf);\n</code></pre>\n\n<p>not sure though if it's relevant for your use case...</p></li>\n</ol>\n\n<p>Keep us updated if you are able to resolve this.</p>\n"},{"tags":[],"owner":{"account_id":1175500,"reputation":91,"user_id":1151622,"display_name":"chandugunturi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506365204,"creation_date":1506365204,"answer_id":46412171,"question_id":34898931,"body_markdown":"For hive, you shouldn&#39;t use proxyuser to do ugi.doAs. Modify your code to \r\n\r\n    public static UserGroupInformation createkerbUser( String principal, String keyTabFilePath) \r\n    {\r\n        return  UserGroupInformation.loginUserFromKeytabAndReturnUGI(principal, keyTabFilePath);\r\n    }\r\nOR\r\n\r\n        public static UserGroupInformation createkerbUser( String principal, String keyTabFilePath) \r\n            {\r\n                UserGroupInformation.loginUserFromKeytab(principal, keyTabFilePath);\r\n                return UserGroupInformation.getLoginUser();\r\n            }\r\n\r\nAnd if you need to do impersonation, append \r\n\r\n&gt; hive.server2.proxy.user=`&lt;proxyUser&gt;`\r\n\r\n (for apache driver) to the JDBC connection string.\r\n\r\nPS: In the cluster configuration, hive user should have privileges to impersonate to different user if you planning to use &#39;proxy user&#39; property.\r\n","title":"Issue connecting to Hive using JDBC with Kerberos authentication","body":"<p>For hive, you shouldn't use proxyuser to do ugi.doAs. Modify your code to </p>\n\n<pre><code>public static UserGroupInformation createkerbUser( String principal, String keyTabFilePath) \n{\n    return  UserGroupInformation.loginUserFromKeytabAndReturnUGI(principal, keyTabFilePath);\n}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>    public static UserGroupInformation createkerbUser( String principal, String keyTabFilePath) \n        {\n            UserGroupInformation.loginUserFromKeytab(principal, keyTabFilePath);\n            return UserGroupInformation.getLoginUser();\n        }\n</code></pre>\n\n<p>And if you need to do impersonation, append </p>\n\n<blockquote>\n  <p>hive.server2.proxy.user=<code>&lt;proxyUser&gt;</code></p>\n</blockquote>\n\n<p>(for apache driver) to the JDBC connection string.</p>\n\n<p>PS: In the cluster configuration, hive user should have privileges to impersonate to different user if you planning to use 'proxy user' property.</p>\n"}],"owner":{"account_id":418796,"reputation":314,"user_id":795576,"accept_rate":65,"display_name":"Fayaz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8160,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1696824215,"creation_date":1453289711,"question_id":34898931,"body_markdown":"I am trying to write a program to connect to Hive using Jdbc Driver with Kerberos authentication. My program is as folloows : \r\n\r\n\tpublic static void main(String a[])\r\n\t{\r\n\r\n\t\t...\r\n\r\n\t\tconnectionString_ = &quot;jdbc:hive2://cdh-542-kerberos.domain.com:10000/default;principal=hive/cdh-542-kerberos.domain.com@REALMDOMAIN&quot;;\r\n\r\n\t\tUserGroupInformation ugi = createUgi();\r\n\t\r\n\t\tconnection = ugi.doAs(new PrivilegedExceptionAction&lt;Connection&gt;() {\r\n\t\t\tpublic Connection run() throws Exception {\r\n\t\t\t\tConnection connection = null;\r\n\t\t\t\tClass.forName(jdbcDriverClass_);\r\n\t\t\t\tconnection =  DriverManager.getConnection(connectionString_);\r\n\t\t\t\treturn connection;\r\n\t\t\t}\r\n\t\t});\r\n\t\t...\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tpublic static UserGroupInformation createUgi() \r\n\t{\r\n\t\ttry{\r\n\t\t\tUserGroupInformation ugi = null;\r\n\t\t\t\r\n\t\t\tString principal = &quot;hive/cdh-542-kerberos.domain.com@REALMDOMAIN&quot;\r\n\t\t\tString keyTabLocation = &quot;hive.keytab&quot;\r\n\t\t\t\r\n\t\t\tlogger.debug(&quot;principal:&quot; + principal);\r\n\t\t\tlogger.debug(&quot;keyTabLocation:&quot; + keyTabLocation);\r\n\t\t\tugi =  createkerbUser( principal, keyTabLocation);\r\n\t\t\treturn ugi;\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\tthrow new BDEToolSecurityException(BDEToolSecurityException.SECURITYEXCPETION, e);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static UserGroupInformation createkerbUser( String principal, String keyTabFilePath) \r\n\t{\r\n\t\tUserGroupInformation app_ugi = UserGroupInformation.loginUserFromKeytabAndReturnUGI(principal, keyTabFilePath);\r\n\t\tString user = getUserfromPrincipal(principal);\r\n\t\t\r\n\t\tif(user.trim().length() &gt; 0){\r\n\t\t\tUserGroupInformation proxy_ugi = UserGroupInformation.createProxyUser(user, app_ugi);\r\n\t\t\treturn proxy_ugi;\r\n\t\t}\r\n\t\treturn app_ugi;\r\n\t}\r\n\t\r\n\tprivate static String getUserfromPrincipal(String principal)\r\n\t{\r\n\t\tString user = Constants.emptyString;\r\n\t\t\r\n\t\tif(principal.contains(Constants.fSlash)){\r\n\t\t\tString[]  tokens = principal.split(Constants.fSlash);\t\t\t\r\n\t\t\tif(tokens.length &gt; 1){\r\n\t\t\t\tuser = tokens[0];\r\n\t\t\t}\t\t\t \r\n\t\t}\t\t\r\n\t\treturn user;\r\n\t}\r\n\r\nThis code is failing when it is trying to `ugi.doAs() ...` with below exception \t\r\n\r\n    java.sql.SQLException: Could not open client transport with JDBC Uri: jdbc:hive2://cdh-542-kerberos.informatica.com:10000/default;principal=hive/cdh-542-kerberos.informatica.com@INFAQAKERB: GSS initiate failed\r\n    \tat org.apache.hive.jdbc.HiveConnection.openTransport(HiveConnection.java:215)\r\n    \tat org.apache.hive.jdbc.HiveConnection.&lt;init&gt;(HiveConnection.java:163)\r\n    \tat org.apache.hive.jdbc.HiveDriver.connect(HiveDriver.java:105)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:571)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:233)\r\n    \tat com.informatica.gcs.tools.bde.connectivity.tool.hive.HiveJdbcTest$1.run(HiveJdbcTest.java:148)\r\n    \tat com.informatica.gcs.tools.bde.connectivity.tool.hive.HiveJdbcTest$1.run(HiveJdbcTest.java:144)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.Subject.doAs(Subject.java:415)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1671)\r\n    \t... 6 more\r\n    Caused by: org.apache.thrift.transport.TTransportException: GSS initiate failed\r\n    \tat org.apache.thrift.transport.TSaslTransport.sendAndThrowMessage(TSaslTransport.java:232)\r\n    \tat org.apache.thrift.transport.TSaslTransport.open(TSaslTransport.java:316)\r\n    \tat org.apache.thrift.transport.TSaslClientTransport.open(TSaslClientTransport.java:37)\r\n    \tat org.apache.hadoop.hive.thrift.client.TUGIAssumingTransport$1.run(TUGIAssumingTransport.java:52)\r\n    \tat org.apache.hadoop.hive.thrift.client.TUGIAssumingTransport$1.run(TUGIAssumingTransport.java:49)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.Subject.doAs(Subject.java:415)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1671)\r\n    \tat org.apache.hadoop.hive.thrift.client.TUGIAssumingTransport.open(TUGIAssumingTransport.java:49)\r\n    \tat org.apache.hive.jdbc.HiveConnection.openTransport(HiveConnection.java:190)\r\n    \t... 15 more\r\n\r\nBoth the keytab and princiapl seems to be correct. I can successfully run the command\r\n\r\n    kinit -k -t hive.keytab hive/cdh-542-kerberos.informatica.com@INFAQAKERB\r\n\r\nCan anybody help me further on this. I am stuck for almost a week on this problem. I can provide additional information, if required.\r\n","title":"Issue connecting to Hive using JDBC with Kerberos authentication","body":"<p>I am trying to write a program to connect to Hive using Jdbc Driver with Kerberos authentication. My program is as folloows :</p>\n<pre><code>public static void main(String a[])\n{\n\n    ...\n\n    connectionString_ = &quot;jdbc:hive2://cdh-542-kerberos.domain.com:10000/default;principal=hive/cdh-542-kerberos.domain.com@REALMDOMAIN&quot;;\n\n    UserGroupInformation ugi = createUgi();\n\n    connection = ugi.doAs(new PrivilegedExceptionAction&lt;Connection&gt;() {\n        public Connection run() throws Exception {\n            Connection connection = null;\n            Class.forName(jdbcDriverClass_);\n            connection =  DriverManager.getConnection(connectionString_);\n            return connection;\n        }\n    });\n    ... \n}\n\n\n\npublic static UserGroupInformation createUgi() \n{\n    try{\n        UserGroupInformation ugi = null;\n        \n        String principal = &quot;hive/cdh-542-kerberos.domain.com@REALMDOMAIN&quot;\n        String keyTabLocation = &quot;hive.keytab&quot;\n        \n        logger.debug(&quot;principal:&quot; + principal);\n        logger.debug(&quot;keyTabLocation:&quot; + keyTabLocation);\n        ugi =  createkerbUser( principal, keyTabLocation);\n        return ugi;\n    }\n    catch(Exception e)\n    {\n        throw new BDEToolSecurityException(BDEToolSecurityException.SECURITYEXCPETION, e);\n    }\n}\n\npublic static UserGroupInformation createkerbUser( String principal, String keyTabFilePath) \n{\n    UserGroupInformation app_ugi = UserGroupInformation.loginUserFromKeytabAndReturnUGI(principal, keyTabFilePath);\n    String user = getUserfromPrincipal(principal);\n    \n    if(user.trim().length() &gt; 0){\n        UserGroupInformation proxy_ugi = UserGroupInformation.createProxyUser(user, app_ugi);\n        return proxy_ugi;\n    }\n    return app_ugi;\n}\n\nprivate static String getUserfromPrincipal(String principal)\n{\n    String user = Constants.emptyString;\n    \n    if(principal.contains(Constants.fSlash)){\n        String[]  tokens = principal.split(Constants.fSlash);           \n        if(tokens.length &gt; 1){\n            user = tokens[0];\n        }            \n    }       \n    return user;\n}\n</code></pre>\n<p>This code is failing when it is trying to <code>ugi.doAs() ...</code> with below exception</p>\n<pre><code>java.sql.SQLException: Could not open client transport with JDBC Uri: jdbc:hive2://cdh-542-kerberos.informatica.com:10000/default;principal=hive/cdh-542-kerberos.informatica.com@INFAQAKERB: GSS initiate failed\n    at org.apache.hive.jdbc.HiveConnection.openTransport(HiveConnection.java:215)\n    at org.apache.hive.jdbc.HiveConnection.&lt;init&gt;(HiveConnection.java:163)\n    at org.apache.hive.jdbc.HiveDriver.connect(HiveDriver.java:105)\n    at java.sql.DriverManager.getConnection(DriverManager.java:571)\n    at java.sql.DriverManager.getConnection(DriverManager.java:233)\n    at com.informatica.gcs.tools.bde.connectivity.tool.hive.HiveJdbcTest$1.run(HiveJdbcTest.java:148)\n    at com.informatica.gcs.tools.bde.connectivity.tool.hive.HiveJdbcTest$1.run(HiveJdbcTest.java:144)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:415)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1671)\n    ... 6 more\nCaused by: org.apache.thrift.transport.TTransportException: GSS initiate failed\n    at org.apache.thrift.transport.TSaslTransport.sendAndThrowMessage(TSaslTransport.java:232)\n    at org.apache.thrift.transport.TSaslTransport.open(TSaslTransport.java:316)\n    at org.apache.thrift.transport.TSaslClientTransport.open(TSaslClientTransport.java:37)\n    at org.apache.hadoop.hive.thrift.client.TUGIAssumingTransport$1.run(TUGIAssumingTransport.java:52)\n    at org.apache.hadoop.hive.thrift.client.TUGIAssumingTransport$1.run(TUGIAssumingTransport.java:49)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:415)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1671)\n    at org.apache.hadoop.hive.thrift.client.TUGIAssumingTransport.open(TUGIAssumingTransport.java:49)\n    at org.apache.hive.jdbc.HiveConnection.openTransport(HiveConnection.java:190)\n    ... 15 more\n</code></pre>\n<p>Both the keytab and princiapl seems to be correct. I can successfully run the command</p>\n<pre><code>kinit -k -t hive.keytab hive/cdh-542-kerberos.informatica.com@INFAQAKERB\n</code></pre>\n<p>Can anybody help me further on this. I am stuck for almost a week on this problem. I can provide additional information, if required.</p>\n"},{"tags":["java","tomcat","wildfly","activemq-artemis"],"comments":[{"owner":{"account_id":5029471,"reputation":5138,"user_id":4040179,"display_name":"Federico Sierra"},"score":0,"creation_date":1485037856,"post_id":41764209,"comment_id":70760438,"body_markdown":"Are you sure Wildfly is listening in `127.0.0.1:18080`?","body":"Are you sure Wildfly is listening in <code>127.0.0.1:18080</code>?"},{"owner":{"account_id":9814481,"reputation":155,"user_id":7271398,"accept_rate":75,"display_name":"Tinie Sluijter"},"score":0,"creation_date":1485156214,"post_id":41764209,"comment_id":70790017,"body_markdown":"Yes, I&#39;m sure. I started Wildfly with the parameter  `-Djboss.socket.binding.port-offset=10000`. I would also get the error `Failed to connect to any server` if the port would not be correct.","body":"Yes, I&#39;m sure. I started Wildfly with the parameter  <code>-Djboss.socket.binding.port-offset=10000</code>. I would also get the error <code>Failed to connect to any server</code> if the port would not be correct."},{"owner":{"account_id":9814481,"reputation":155,"user_id":7271398,"accept_rate":75,"display_name":"Tinie Sluijter"},"score":0,"creation_date":1485169794,"post_id":41764209,"comment_id":70797380,"body_markdown":"I resolved the problem at this moment by using a standalone ActiveMQ server. This server can be used from my Wildfly and Tomcat webapps.","body":"I resolved the problem at this moment by using a standalone ActiveMQ server. This server can be used from my Wildfly and Tomcat webapps."}],"owner":{"account_id":9814481,"reputation":155,"user_id":7271398,"accept_rate":75,"display_name":"Tinie Sluijter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696822671,"creation_date":1484916844,"question_id":41764209,"body_markdown":"I have ActiveMQ running within Wildfly 10. I can produce and consume messages from within a Wildfly Java EE application and a standalone Java application. But I cannot connect to ActiveMQ from a Tomcat application (which is what I need)\r\n\r\nThe ActiveMQ module within Wildfly standalone.xml looks as follows:\r\n\r\n       &lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:1.0&quot;&gt;\r\n            &lt;server name=&quot;default&quot;&gt;\r\n                &lt;security-setting name=&quot;#&quot;&gt;\r\n                    &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\r\n                &lt;/security-setting&gt;\r\n                &lt;address-setting name=&quot;#&quot; dead-letter-address=&quot;jms.queue.DLQ&quot; expiry-address=&quot;jms.queue.ExpiryQueue&quot; max-size-bytes=&quot;10485760&quot; page-size-bytes=&quot;2097152&quot; message-counter-history-day-limit=&quot;10&quot;/&gt;\r\n                &lt;http-connector name=&quot;http-connector&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor&quot;/&gt;\r\n                &lt;http-connector name=&quot;bridge-connector&quot; socket-binding=&quot;messaging-remote&quot; endpoint=&quot;bridge-acceptor&quot;/&gt;\r\n                &lt;http-connector name=&quot;http-connector-throughput&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor-throughput&quot;&gt;\r\n                    &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\r\n                &lt;/http-connector&gt;\r\n                &lt;in-vm-connector name=&quot;in-vm&quot; server-id=&quot;0&quot;/&gt;\r\n                &lt;http-acceptor name=&quot;http-acceptor&quot; http-listener=&quot;default&quot;/&gt;\r\n                &lt;http-acceptor name=&quot;http-acceptor-throughput&quot; http-listener=&quot;default&quot;&gt;\r\n                    &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\r\n                    &lt;param name=&quot;direct-deliver&quot; value=&quot;false&quot;/&gt;\r\n                &lt;/http-acceptor&gt;\r\n                &lt;in-vm-acceptor name=&quot;in-vm&quot; server-id=&quot;0&quot;/&gt;\r\n                &lt;jms-queue name=&quot;ExpiryQueue&quot; entries=&quot;java:/jms/queue/ExpiryQueue&quot;/&gt;\r\n                &lt;jms-queue name=&quot;DLQ&quot; entries=&quot;java:/jms/queue/DLQ&quot;/&gt;\r\n                &lt;jms-topic name=&quot;MjopTopic&quot; entries=&quot;topic/MjopTopic java:/jms/topic/MjopTopic java:/jboss/exported/jms/topic/MjopTopic&quot;/&gt;\r\n                &lt;connection-factory name=&quot;InVmConnectionFactory&quot; entries=&quot;java:/ConnectionFactory&quot; connectors=&quot;in-vm&quot;/&gt;\r\n                &lt;connection-factory name=&quot;RemoteConnectionFactory&quot; entries=&quot;java:jboss/exported/jms/RemoteConnectionFactory&quot; connectors=&quot;http-connector&quot;/&gt;\r\n                &lt;pooled-connection-factory name=&quot;activemq-ra&quot; entries=&quot;java:/JmsXA java:jboss/DefaultJMSConnectionFactory&quot; connectors=&quot;in-vm&quot; transaction=&quot;xa&quot;/&gt;\r\n            &lt;/server&gt;\r\n        &lt;/subsystem&gt;\r\n\r\nThe code to connect from within the Tomcat webapp looks as follows:\r\n\r\n\tstatic final String PROVIDER_URL = &quot;http-remoting://127.0.0.1:18080&quot;;\r\n\tstatic final String CONNECTION_FACTORY = &quot;jms/RemoteConnectionFactory&quot;;\r\n\tstatic final String DESTINATION = &quot;jms/topic/MjopTopic&quot;;\r\n\r\n\tfinal Properties env = new Properties();\r\n\tenv.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.jboss.naming.remote.client.InitialContextFactory&quot;);\r\n\tenv.put(Context.PROVIDER_URL, PROVIDER_URL);\r\n\tenv.put(Context.SECURITY_PRINCIPAL, &quot;jmsuser&quot;);\r\n\tenv.put(Context.SECURITY_CREDENTIALS, &quot;v13wp01nt*&quot;);\r\n\tenv.put(&quot;java.naming.factory.url.pkgs&quot;,&quot;org.jboss.ejb.client.naming&quot;);\r\n\tContext namingContext = new InitialContext(env);\r\n\r\n\tConnectionFactory cf = (ConnectionFactory) namingContext.lookup(CONNECTION_FACTORY);\r\n\tTopic topic = (Topic) namingContext.lookup(DESTINATION);\r\n\tJMSContext context = cf.createContext(&quot;jmsuser&quot;, &quot;v13wp01nt*&quot;);\r\n\r\n\tJMSConsumer consumer = context.createSharedDurableConsumer(topic, &quot;vp5&quot;);\r\n\tconsumer.setMessageListener(new VPMessageListener());\r\n\r\nI get the next exception from line `ConnectionFactory cf = (ConnectionFactory) namingContext.lookup(CONNECTION_FACTORY)`.\r\n\r\n&gt; javax.naming.NamingException: Unable to invoke lookup, status=WAITING\r\n\r\nEdit:\r\n\r\nI&#39;ve changed the maven dependencies in the webapp.\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jboss-remote-naming&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.4.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.xnio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xnio-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.3.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.xnio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xnio-nio&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.3.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;artemis-jms-client&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nBut now I get another error:\r\n\r\n&gt; ActiveMQConnectionTimedOutException[errorType=CONNECTION_TIMEDOUT message=AMQ119013: Timed out waiting to receive cluster topology. Group:null]","title":"Cannot connect to ActiveMQ on Wildfly from Tomcat webapp","body":"<p>I have ActiveMQ running within Wildfly 10. I can produce and consume messages from within a Wildfly Java EE application and a standalone Java application. But I cannot connect to ActiveMQ from a Tomcat application (which is what I need)</p>\n\n<p>The ActiveMQ module within Wildfly standalone.xml looks as follows:</p>\n\n<pre><code>   &lt;subsystem xmlns=\"urn:jboss:domain:messaging-activemq:1.0\"&gt;\n        &lt;server name=\"default\"&gt;\n            &lt;security-setting name=\"#\"&gt;\n                &lt;role name=\"guest\" send=\"true\" consume=\"true\" create-non-durable-queue=\"true\" delete-non-durable-queue=\"true\"/&gt;\n            &lt;/security-setting&gt;\n            &lt;address-setting name=\"#\" dead-letter-address=\"jms.queue.DLQ\" expiry-address=\"jms.queue.ExpiryQueue\" max-size-bytes=\"10485760\" page-size-bytes=\"2097152\" message-counter-history-day-limit=\"10\"/&gt;\n            &lt;http-connector name=\"http-connector\" socket-binding=\"http\" endpoint=\"http-acceptor\"/&gt;\n            &lt;http-connector name=\"bridge-connector\" socket-binding=\"messaging-remote\" endpoint=\"bridge-acceptor\"/&gt;\n            &lt;http-connector name=\"http-connector-throughput\" socket-binding=\"http\" endpoint=\"http-acceptor-throughput\"&gt;\n                &lt;param name=\"batch-delay\" value=\"50\"/&gt;\n            &lt;/http-connector&gt;\n            &lt;in-vm-connector name=\"in-vm\" server-id=\"0\"/&gt;\n            &lt;http-acceptor name=\"http-acceptor\" http-listener=\"default\"/&gt;\n            &lt;http-acceptor name=\"http-acceptor-throughput\" http-listener=\"default\"&gt;\n                &lt;param name=\"batch-delay\" value=\"50\"/&gt;\n                &lt;param name=\"direct-deliver\" value=\"false\"/&gt;\n            &lt;/http-acceptor&gt;\n            &lt;in-vm-acceptor name=\"in-vm\" server-id=\"0\"/&gt;\n            &lt;jms-queue name=\"ExpiryQueue\" entries=\"java:/jms/queue/ExpiryQueue\"/&gt;\n            &lt;jms-queue name=\"DLQ\" entries=\"java:/jms/queue/DLQ\"/&gt;\n            &lt;jms-topic name=\"MjopTopic\" entries=\"topic/MjopTopic java:/jms/topic/MjopTopic java:/jboss/exported/jms/topic/MjopTopic\"/&gt;\n            &lt;connection-factory name=\"InVmConnectionFactory\" entries=\"java:/ConnectionFactory\" connectors=\"in-vm\"/&gt;\n            &lt;connection-factory name=\"RemoteConnectionFactory\" entries=\"java:jboss/exported/jms/RemoteConnectionFactory\" connectors=\"http-connector\"/&gt;\n            &lt;pooled-connection-factory name=\"activemq-ra\" entries=\"java:/JmsXA java:jboss/DefaultJMSConnectionFactory\" connectors=\"in-vm\" transaction=\"xa\"/&gt;\n        &lt;/server&gt;\n    &lt;/subsystem&gt;\n</code></pre>\n\n<p>The code to connect from within the Tomcat webapp looks as follows:</p>\n\n<pre><code>static final String PROVIDER_URL = \"http-remoting://127.0.0.1:18080\";\nstatic final String CONNECTION_FACTORY = \"jms/RemoteConnectionFactory\";\nstatic final String DESTINATION = \"jms/topic/MjopTopic\";\n\nfinal Properties env = new Properties();\nenv.put(Context.INITIAL_CONTEXT_FACTORY, \"org.jboss.naming.remote.client.InitialContextFactory\");\nenv.put(Context.PROVIDER_URL, PROVIDER_URL);\nenv.put(Context.SECURITY_PRINCIPAL, \"jmsuser\");\nenv.put(Context.SECURITY_CREDENTIALS, \"v13wp01nt*\");\nenv.put(\"java.naming.factory.url.pkgs\",\"org.jboss.ejb.client.naming\");\nContext namingContext = new InitialContext(env);\n\nConnectionFactory cf = (ConnectionFactory) namingContext.lookup(CONNECTION_FACTORY);\nTopic topic = (Topic) namingContext.lookup(DESTINATION);\nJMSContext context = cf.createContext(\"jmsuser\", \"v13wp01nt*\");\n\nJMSConsumer consumer = context.createSharedDurableConsumer(topic, \"vp5\");\nconsumer.setMessageListener(new VPMessageListener());\n</code></pre>\n\n<p>I get the next exception from line <code>ConnectionFactory cf = (ConnectionFactory) namingContext.lookup(CONNECTION_FACTORY)</code>.</p>\n\n<blockquote>\n  <p>javax.naming.NamingException: Unable to invoke lookup, status=WAITING</p>\n</blockquote>\n\n<p>Edit:</p>\n\n<p>I've changed the maven dependencies in the webapp.</p>\n\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-remote-naming&lt;/artifactId&gt;\n        &lt;version&gt;2.0.4.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.xnio&lt;/groupId&gt;\n        &lt;artifactId&gt;xnio-api&lt;/artifactId&gt;\n        &lt;version&gt;3.4.3.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.xnio&lt;/groupId&gt;\n        &lt;artifactId&gt;xnio-nio&lt;/artifactId&gt;\n        &lt;version&gt;3.4.3.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n        &lt;artifactId&gt;artemis-jms-client&lt;/artifactId&gt;\n        &lt;version&gt;1.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>But now I get another error:</p>\n\n<blockquote>\n  <p>ActiveMQConnectionTimedOutException[errorType=CONNECTION_TIMEDOUT message=AMQ119013: Timed out waiting to receive cluster topology. Group:null]</p>\n</blockquote>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1561120261,"post_id":56703380,"comment_id":99970183,"body_markdown":"Sorry, but what is your question? What do you try to achieve?","body":"Sorry, but what is your question? What do you try to achieve?"},{"owner":{"account_id":10247968,"reputation":759,"user_id":11504689,"display_name":"mwarren"},"score":0,"creation_date":1561120595,"post_id":56703380,"comment_id":99970332,"body_markdown":"Probably needs button.setDefaultCapable(true);","body":"Probably needs button.setDefaultCapable(true);"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1561126343,"post_id":56703380,"comment_id":99973616,"body_markdown":"@mwarren Perhaps, but according to the [documentation](https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/javax/swing/JButton.html#setDefaultCapable%28boolean%29) it’s true by default.","body":"@mwarren Perhaps, but according to the <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.desktop/javax/swing/JButton.html#setDefaultCapable%28boolean%29\" rel=\"nofollow noreferrer\">documentation</a> it’s true by default."},{"owner":{"account_id":10247968,"reputation":759,"user_id":11504689,"display_name":"mwarren"},"score":0,"creation_date":1561126630,"post_id":56703380,"comment_id":99973786,"body_markdown":"@VGR You are totally correct, the documentation also says &#39; The default value of the defaultCapable property is true unless otherwise specified by the look and feel.&#39; So it might be false.","body":"@VGR You are totally correct, the documentation also says &#39; The default value of the defaultCapable property is true unless otherwise specified by the look and feel.&#39; So it might be false."}],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1696827522,"post_id":77255480,"comment_id":136197791,"body_markdown":"The line of code in your answer already appears in the question, so how does it solve the problem?","body":"The line of code in your answer already appears in the question, so how does it solve the problem?"},{"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"score":0,"creation_date":1696850794,"post_id":77255480,"comment_id":136201481,"body_markdown":"@Abra I guess he was kinda confused that that was the answer right there, so I simplified it by giving it as an answer. Someone who will come looking for the same thing will see the question as unanswered and just go back as opposed to when they see even a single answer, they&#39;ll try it out and it works, which is the whole point. What I mean is, people look for answers in the answer section, not in the questions. Thanks","body":"@Abra I guess he was kinda confused that that was the answer right there, so I simplified it by giving it as an answer. Someone who will come looking for the same thing will see the question as unanswered and just go back as opposed to when they see even a single answer, they&#39;ll try it out and it works, which is the whole point. What I mean is, people look for answers in the answer section, not in the questions. Thanks"}],"tags":[],"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696802054,"creation_date":1696802054,"answer_id":77255480,"question_id":56703380,"body_markdown":"To set a button as a default button (i.e to be selected/focused by default on application startup), you can do:\r\n\r\n    frame.getRootPane().setDefaultButton(yourButton);","title":"How to set a JButton as default Button in java?","body":"<p>To set a button as a default button (i.e to be selected/focused by default on application startup), you can do:</p>\n<pre><code>frame.getRootPane().setDefaultButton(yourButton);\n</code></pre>\n"}],"owner":{"account_id":16125959,"reputation":1,"user_id":11681114,"display_name":"ganesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696822665,"creation_date":1561119703,"question_id":56703380,"body_markdown":"Problem: I have a look and feel already defined for default buttons.\r\nNow I have written a JButton which I want to be set as a default button. How do I make it a default button? \r\nAnswers are appreciated in advance.Below is a snippet of my code:\r\n\r\n    JFrame frame = new JFrame();\r\n    button = new JButton(IConfigConstants.GENERATE_BUTTON_TEXT);\r\n    boolean enable = node.isComplete();\r\n    button.setEnabled(enable);\r\n    frame.setVisible(false);\r\n    frame.add(button);\r\n    frame.getRootPane().setDefaultButton(button);","title":"How to set a JButton as default Button in java?","body":"<p>Problem: I have a look and feel already defined for default buttons.\nNow I have written a JButton which I want to be set as a default button. How do I make it a default button?\nAnswers are appreciated in advance.Below is a snippet of my code:</p>\n<pre><code>JFrame frame = new JFrame();\nbutton = new JButton(IConfigConstants.GENERATE_BUTTON_TEXT);\nboolean enable = node.isComplete();\nbutton.setEnabled(enable);\nframe.setVisible(false);\nframe.add(button);\nframe.getRootPane().setDefaultButton(button);\n</code></pre>\n"},{"tags":["java","jms","activemq-artemis","wildfly-10"],"comments":[{"owner":{"account_id":5772257,"reputation":1594,"user_id":4555367,"accept_rate":73,"display_name":"Prasad"},"score":0,"creation_date":1484844591,"post_id":41747285,"comment_id":70687300,"body_markdown":"You may need to refer this before asking a query http://stackoverflow.com/help/how-to-ask","body":"You may need to refer this before asking a query <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":2693770,"reputation":1,"user_id":2326376,"display_name":"Ravi Chandanani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485165605,"creation_date":1485165605,"answer_id":41803550,"question_id":41747285,"body_markdown":"This issue is resolved, it was jar related issue. Since I was upgrading from jboss 6 to wildfly 10, somehow the project was referring jar &quot;jboss-connector-api_1.5_spec-1.0.0.Final.jar&quot; which is specific to jboss 6. I corrected this dependency and configured correct module &quot;javax.resource.api&quot; which has latest jar &quot;jboss-connector-api_1.7_spec-1.0.0.Final.jar&quot;, and error got resolved.\r\n\r\nso conclusion is project was referring older version of jar which needed to be corrected.\r\n\r\nHope this helps!!","title":"Wildfly 10 JMS : EmailDispatchMDB$$$endpoint2 cannot be cast to javax.resource.spi.endpoint.MessageEndpoint","body":"<p>This issue is resolved, it was jar related issue. Since I was upgrading from jboss 6 to wildfly 10, somehow the project was referring jar \"jboss-connector-api_1.5_spec-1.0.0.Final.jar\" which is specific to jboss 6. I corrected this dependency and configured correct module \"javax.resource.api\" which has latest jar \"jboss-connector-api_1.7_spec-1.0.0.Final.jar\", and error got resolved.</p>\n\n<p>so conclusion is project was referring older version of jar which needed to be corrected.</p>\n\n<p>Hope this helps!!</p>\n"}],"owner":{"account_id":2693770,"reputation":1,"user_id":2326376,"display_name":"Ravi Chandanani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696822656,"creation_date":1484844480,"question_id":41747285,"body_markdown":"I am migrating an old application which is running on Jboss 6.1.0 currently to wildfly 10.1.0.\r\n \r\nI have created all queue from old application to the default configuration of standalone-full.xml But while server start up i am getting issue &quot;cannot be cast to javax.resource.spi.endpoint.MessageEndpoint&quot;.\r\nI have also added code snippet which is throwing this error.\r\n \r\nAny idea what i am doing wrong ?\r\n\r\n&lt;b&gt;standalone-full.xml&lt;/b&gt;\r\n\r\n\r\n\r\n    ...\r\n    ...\r\n    \r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:1.0&quot;&gt;\r\n                &lt;server name=&quot;default&quot;&gt;\r\n                    &lt;security-setting name=&quot;#&quot;&gt;\r\n                        &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\r\n                    &lt;/security-setting&gt;\r\n                    &lt;address-setting name=&quot;#&quot; dead-letter-address=&quot;jms.queue.DLQ&quot; expiry-address=&quot;jms.queue.ExpiryQueue&quot; max-size-bytes=&quot;10485760&quot; page-size-bytes=&quot;2097152&quot; message-counter-history-day-limit=&quot;10&quot;/&gt;\r\n                    &lt;address-setting name=&quot;jms.queue.InboundNotificationResponseQueue&quot; dead-letter-address=&quot;jms.queue.bblDeadLetterQueue&quot; expiry-address=&quot;jms.queue.bblExpiryQueue&quot;/&gt;\r\n                    &lt;address-setting name=&quot;jms.queue.EventDispatchQueue&quot; dead-letter-address=&quot;jms.queue.bblDeadLetterQueue&quot; expiry-address=&quot;jms.queue.bblExpiryQueue&quot;/&gt;\r\n                    &lt;address-setting name=&quot;jms.queue.OutboundEmailQueue&quot; dead-letter-address=&quot;jms.queue.bblDeadLetterQueue&quot; expiry-address=&quot;jms.queue.bblExpiryQueue&quot;/&gt;\r\n                 \r\n                    &lt;http-connector name=&quot;http-connector&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor&quot;/&gt;\r\n                    &lt;http-connector name=&quot;http-connector-throughput&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor-throughput&quot;&gt;\r\n                        &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\r\n                    &lt;/http-connector&gt;\r\n                    &lt;in-vm-connector name=&quot;in-vm&quot; server-id=&quot;0&quot;/&gt;\r\n                    &lt;http-acceptor name=&quot;http-acceptor&quot; http-listener=&quot;default&quot;/&gt;\r\n                    &lt;http-acceptor name=&quot;http-acceptor-throughput&quot; http-listener=&quot;default&quot;&gt;\r\n                        &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\r\n                        &lt;param name=&quot;direct-deliver&quot; value=&quot;false&quot;/&gt;\r\n                    &lt;/http-acceptor&gt;\r\n                    &lt;in-vm-acceptor name=&quot;in-vm&quot; server-id=&quot;0&quot;/&gt;\r\n                    &lt;jms-queue name=&quot;ExpiryQueue&quot; entries=&quot;java:/jms/queue/ExpiryQueue&quot;/&gt;\r\n                    &lt;jms-queue name=&quot;DLQ&quot; entries=&quot;java:/jms/queue/DLQ&quot;/&gt;\r\n                    &lt;jms-queue name=&quot;bblDeadLetterQueue&quot; entries=&quot;java:/bbl/bblDeadLetterQueue&quot;/&gt;\r\n                    &lt;jms-queue name=&quot;OutboundEmailQueue&quot; entries=&quot;java:/bbl/OutboundEmailQueue&quot;/&gt;\r\n                    &lt;jms-queue name=&quot;InboundNotificationResponseQueue&quot; entries=&quot;java:/bbl/InboundNotificationResponseQueue&quot;/&gt;\r\n                 \r\n                    &lt;jms-queue name=&quot;EventDispatchQueue&quot; entries=&quot;java:/bbl/EventDispatchQueue&quot;/&gt;\r\n                    &lt;jms-queue name=&quot;bblExpiryQueue&quot; entries=&quot;java:/bbl/bblExpiryQueue&quot;/&gt;\r\n                    &lt;connection-factory name=&quot;InVmConnectionFactory&quot; entries=&quot;java:/ConnectionFactory&quot; connectors=&quot;in-vm&quot;/&gt;\r\n                    &lt;connection-factory name=&quot;RemoteConnectionFactory&quot; entries=&quot;java:jboss/exported/jms/RemoteConnectionFactory&quot; connectors=&quot;http-connector&quot;/&gt;\r\n                    &lt;pooled-connection-factory name=&quot;activemq-ra&quot; entries=&quot;java:/JmsXA java:jboss/DefaultJMSConnectionFactory&quot; connectors=&quot;in-vm&quot; transaction=&quot;xa&quot;/&gt;\r\n                &lt;/server&gt;\r\n            &lt;/subsystem&gt;\r\n    ...\r\n    ...\r\n\r\n \r\n\r\n\r\n&lt;b&gt;Code : EmailDispatchMDB.java&lt;/b&gt;\r\n\r\n    package com.mcg.bbl.email.dispatcher;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n     \r\n     \r\n    import javax.annotation.Resource;\r\n    import javax.ejb.ActivationConfigProperty;\r\n    import javax.ejb.EJB;\r\n    import javax.ejb.MessageDriven;\r\n    import javax.ejb.MessageDrivenContext;\r\n    import javax.ejb.TransactionAttribute;\r\n    import javax.ejb.TransactionAttributeType;\r\n    import javax.jms.Destination;\r\n    import javax.jms.JMSException;\r\n    import javax.jms.Message;\r\n    import javax.jms.MessageListener;\r\n    import javax.jms.ObjectMessage;\r\n     \r\n     \r\n    import org.apache.commons.lang.time.StopWatch;\r\n    import org.apache.log4j.Logger;\r\n     \r\n     \r\n    @MessageDriven(name = &quot;EmailDispatchMDB&quot;, activationConfig = {\r\n      @ActivationConfigProperty(propertyName=&quot;destinationType&quot;, propertyValue=&quot;javax.jms.Queue&quot;),\r\n      @ActivationConfigProperty(propertyName=&quot;destination&quot;, propertyValue=&quot;java:/bbl/OutboundEmailQueue&quot;)\r\n    })\r\n     \r\n    public class EmailDispatchMDB implements MessageListener {\r\n     \r\n      private static final Logger LOG = Logger.getLogger(EmailDispatchMDB.class); \r\n     \r\n        @Resource\r\n        private MessageDrivenContext context;\r\n     \r\n     \r\n        @EJB(mappedName=&quot;bbl-server/NotificationService/remote&quot;)\r\n        private NotificationService notificationService;\r\n     \r\n     \r\n      public EmailDispatchMDB(){\r\n      }\r\n     \r\n      public void finalize() throws Throwable {\r\n      }\r\n      \r\n      @TransactionAttribute(TransactionAttributeType.REQUIRED)\r\n        public void onMessage( Message message ) {\r\n      /* Custom Code */\r\n      }\r\n      }\r\n\r\n&lt;b&gt;Log Statements :&lt;/b&gt;\r\n \r\n\r\n&gt; 17:09:21,506 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 64) AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,journalDirectory=D:\\projects\\MCG\\Software\\wildfly-10.1.0.Final\\standalone\\data\\activemq\\journal,bindingsDirectory=D:\\projects\\MCG\\Software\\wildfly-10.1.0.Final\\standalone\\data\\activemq\\bindings,largeMessagesDirectory=D:\\projects\\MCG\\Software\\wildfly-10.1.0.Final\\standalone\\data\\activemq\\largemessages,pagingDirectory=D:\\projects\\MCG\\Software\\wildfly-10.1.0.Final\\standalone\\data\\activemq\\paging)&lt;br/&gt;&lt;br/&gt;...&lt;br/&gt;&lt;br/&gt;17:09:28,604 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 64) AMQ221001: Apache ActiveMQ Artemis Message Broker version 1.1.0.wildfly-017 [nodeID=a3b04b10-d656-11e6-8bd3-c391bfc23687]&lt;br/&gt;&lt;br/&gt;...&lt;br/&gt;&lt;br/&gt;17:09:28,888 INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 72) WFLYMSGAMQ0002: Bound messaging object to jndi name java:jboss/exported/jms/RemoteConnectionFactory\r\n17:09:28,898 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 73) AMQ221003: trying to deploy queue jms.queue.OutboundEmailQueue&lt;br/&gt;&lt;br/&gt;...&lt;br/&gt;&lt;br/&gt;17:09:49,857 INFO  [org.jboss.as.ejb3] (MSC service thread 1-5) WFLYEJB0042: Started message driven bean &#39;EmailDispatchMDB&#39; with &#39;activemq-ra.rar&#39; resource adapter&lt;br/&gt;&lt;br/&gt;...&lt;br/&gt;&lt;br/&gt; &lt;b&gt;\r\n17:09:56,420 WARN  [org.apache.activemq.artemis.ra] (default-threads - 5) AMQ152005: Failure in broker activation org.apache.activemq.artemis.ra.inflow.ActiveMQActivationSpec(ra=org.apache.activemq.artemis.ra.ActiveMQResourceAdapter@78712571 destination=java:/bbl/OutboundEmailQueue destinationType=javax.jms.Queue ack=Auto-acknowledge durable=false clientID=null user=null maxSession=15): java.lang.ClassCastException: com.MCG.bbl.email.dispatcher.EmailDispatchMDB$$$endpoint2 cannot be cast to javax.resource.spi.endpoint.MessageEndpoint\r\n        at org.jboss.as.ejb3.inflow.JBossMessageEndpointFactory.createEndpoint(JBossMessageEndpointFactory.java:75)\r\n        at org.jboss.as.ejb3.inflow.JBossMessageEndpointFactory.createEndpoint(JBossMessageEndpointFactory.java:63)\r\n        at org.apache.activemq.artemis.ra.inflow.ActiveMQMessageHandler.setup(ActiveMQMessageHandler.java:187)\r\n        at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation.setup(ActiveMQActivation.java:318)\r\n        at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation$SetupActivation.run(ActiveMQActivation.java:719)\r\n        at org.jboss.jca.core.workmanager.WorkWrapper.run(WorkWrapper.java:223)\r\n        at org.jboss.threads.SimpleDirectExecutor.execute(SimpleDirectExecutor.java:33)\r\n        at org.jboss.threads.QueueExecutor.runTask(QueueExecutor.java:808)\r\n        at org.jboss.threads.QueueExecutor.access$100(QueueExecutor.java:45)\r\n        at org.jboss.threads.QueueExecutor$Worker.run(QueueExecutor.java:828)\r\n        at java.lang.Thread.run(Thread.java:744)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:320)&lt;br/&gt;&lt;br/&gt;\r\n...&lt;br/&gt;&lt;br/&gt; &lt;/b&gt;\r\n17:09:58,488 INFO  [org.apache.activemq.artemis.ra] (default-threads - 5) AMQ151001: Attempting to reconnect org.apache.activemq.artemis.ra.inflow.ActiveMQActivationSpec(ra=org.apache.activemq.artemis.ra.ActiveMQResourceAdapter@78712571 destination=java:/bbl/OutboundEmailQueue destinationType=javax.jms.Queue ack=Auto-acknowledge durable=false clientID=null user=null maxSession=15)&lt;br/&gt;&lt;br/&gt; ...&lt;br/&gt;&lt;br/&gt;17:09:58,693 ERROR [org.apache.activemq.artemis.ra] (default-threads - 5) AMQ154003: Unable to reconnect org.apache.activemq.artemis.ra.inflow.ActiveMQActivationSpec(ra=org.apache.activemq.artemis.ra.ActiveMQResourceAdapter@78712571 destination=java:/bbl/OutboundEmailQueue destinationType=javax.jms.Queue ack=Auto-acknowledge durable=false clientID=null user=null maxSession=15): java.lang.ClassCastException: com.mcg.bbl.email.dispatcher.EmailDispatchMDB$$$endpoint2 cannot be cast to javax.resource.spi.endpoint.MessageEndpoint\r\n        at org.jboss.as.ejb3.inflow.JBossMessageEndpointFactory.createEndpoint(JBossMessageEndpointFactory.java:75)\r\n        at org.jboss.as.ejb3.inflow.JBossMessageEndpointFactory.createEndpoint(JBossMessageEndpointFactory.java:63)\r\n        at org.apache.activemq.artemis.ra.inflow.ActiveMQMessageHandler.setup(ActiveMQMessageHandler.java:187)\r\n        at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation.setup(ActiveMQActivation.java:318)\r\n        at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation.reconnect(ActiveMQActivation.java:678)\r\n        at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation$SetupActivation.run(ActiveMQActivation.java:722)\r\n        at org.jboss.jca.core.workmanager.WorkWrapper.run(WorkWrapper.java:223)\r\n        at org.jboss.threads.SimpleDirectExecutor.execute(SimpleDirectExecutor.java:33)\r\n        at org.jboss.threads.QueueExecutor.runTask(QueueExecutor.java:808)\r\n        at org.jboss.threads.QueueExecutor.access$100(QueueExecutor.java:45)\r\n        at org.jboss.threads.QueueExecutor$Worker.run(QueueExecutor.java:828)\r\n        at java.lang.Thread.run(Thread.java:744)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:320)","title":"Wildfly 10 JMS : EmailDispatchMDB$$$endpoint2 cannot be cast to javax.resource.spi.endpoint.MessageEndpoint","body":"<p>I am migrating an old application which is running on Jboss 6.1.0 currently to wildfly 10.1.0.</p>\n\n<p>I have created all queue from old application to the default configuration of standalone-full.xml But while server start up i am getting issue \"cannot be cast to javax.resource.spi.endpoint.MessageEndpoint\".\nI have also added code snippet which is throwing this error.</p>\n\n<p>Any idea what i am doing wrong ?</p>\n\n<p><b>standalone-full.xml</b></p>\n\n<pre><code>...\n...\n\n&lt;subsystem xmlns=\"urn:jboss:domain:messaging-activemq:1.0\"&gt;\n            &lt;server name=\"default\"&gt;\n                &lt;security-setting name=\"#\"&gt;\n                    &lt;role name=\"guest\" send=\"true\" consume=\"true\" create-non-durable-queue=\"true\" delete-non-durable-queue=\"true\"/&gt;\n                &lt;/security-setting&gt;\n                &lt;address-setting name=\"#\" dead-letter-address=\"jms.queue.DLQ\" expiry-address=\"jms.queue.ExpiryQueue\" max-size-bytes=\"10485760\" page-size-bytes=\"2097152\" message-counter-history-day-limit=\"10\"/&gt;\n                &lt;address-setting name=\"jms.queue.InboundNotificationResponseQueue\" dead-letter-address=\"jms.queue.bblDeadLetterQueue\" expiry-address=\"jms.queue.bblExpiryQueue\"/&gt;\n                &lt;address-setting name=\"jms.queue.EventDispatchQueue\" dead-letter-address=\"jms.queue.bblDeadLetterQueue\" expiry-address=\"jms.queue.bblExpiryQueue\"/&gt;\n                &lt;address-setting name=\"jms.queue.OutboundEmailQueue\" dead-letter-address=\"jms.queue.bblDeadLetterQueue\" expiry-address=\"jms.queue.bblExpiryQueue\"/&gt;\n\n                &lt;http-connector name=\"http-connector\" socket-binding=\"http\" endpoint=\"http-acceptor\"/&gt;\n                &lt;http-connector name=\"http-connector-throughput\" socket-binding=\"http\" endpoint=\"http-acceptor-throughput\"&gt;\n                    &lt;param name=\"batch-delay\" value=\"50\"/&gt;\n                &lt;/http-connector&gt;\n                &lt;in-vm-connector name=\"in-vm\" server-id=\"0\"/&gt;\n                &lt;http-acceptor name=\"http-acceptor\" http-listener=\"default\"/&gt;\n                &lt;http-acceptor name=\"http-acceptor-throughput\" http-listener=\"default\"&gt;\n                    &lt;param name=\"batch-delay\" value=\"50\"/&gt;\n                    &lt;param name=\"direct-deliver\" value=\"false\"/&gt;\n                &lt;/http-acceptor&gt;\n                &lt;in-vm-acceptor name=\"in-vm\" server-id=\"0\"/&gt;\n                &lt;jms-queue name=\"ExpiryQueue\" entries=\"java:/jms/queue/ExpiryQueue\"/&gt;\n                &lt;jms-queue name=\"DLQ\" entries=\"java:/jms/queue/DLQ\"/&gt;\n                &lt;jms-queue name=\"bblDeadLetterQueue\" entries=\"java:/bbl/bblDeadLetterQueue\"/&gt;\n                &lt;jms-queue name=\"OutboundEmailQueue\" entries=\"java:/bbl/OutboundEmailQueue\"/&gt;\n                &lt;jms-queue name=\"InboundNotificationResponseQueue\" entries=\"java:/bbl/InboundNotificationResponseQueue\"/&gt;\n\n                &lt;jms-queue name=\"EventDispatchQueue\" entries=\"java:/bbl/EventDispatchQueue\"/&gt;\n                &lt;jms-queue name=\"bblExpiryQueue\" entries=\"java:/bbl/bblExpiryQueue\"/&gt;\n                &lt;connection-factory name=\"InVmConnectionFactory\" entries=\"java:/ConnectionFactory\" connectors=\"in-vm\"/&gt;\n                &lt;connection-factory name=\"RemoteConnectionFactory\" entries=\"java:jboss/exported/jms/RemoteConnectionFactory\" connectors=\"http-connector\"/&gt;\n                &lt;pooled-connection-factory name=\"activemq-ra\" entries=\"java:/JmsXA java:jboss/DefaultJMSConnectionFactory\" connectors=\"in-vm\" transaction=\"xa\"/&gt;\n            &lt;/server&gt;\n        &lt;/subsystem&gt;\n...\n...\n</code></pre>\n\n<p><b>Code : EmailDispatchMDB.java</b></p>\n\n<pre><code>package com.mcg.bbl.email.dispatcher;\nimport java.util.Arrays;\nimport java.util.List;\n\n\nimport javax.annotation.Resource;\nimport javax.ejb.ActivationConfigProperty;\nimport javax.ejb.EJB;\nimport javax.ejb.MessageDriven;\nimport javax.ejb.MessageDrivenContext;\nimport javax.ejb.TransactionAttribute;\nimport javax.ejb.TransactionAttributeType;\nimport javax.jms.Destination;\nimport javax.jms.JMSException;\nimport javax.jms.Message;\nimport javax.jms.MessageListener;\nimport javax.jms.ObjectMessage;\n\n\nimport org.apache.commons.lang.time.StopWatch;\nimport org.apache.log4j.Logger;\n\n\n@MessageDriven(name = \"EmailDispatchMDB\", activationConfig = {\n  @ActivationConfigProperty(propertyName=\"destinationType\", propertyValue=\"javax.jms.Queue\"),\n  @ActivationConfigProperty(propertyName=\"destination\", propertyValue=\"java:/bbl/OutboundEmailQueue\")\n})\n\npublic class EmailDispatchMDB implements MessageListener {\n\n  private static final Logger LOG = Logger.getLogger(EmailDispatchMDB.class); \n\n    @Resource\n    private MessageDrivenContext context;\n\n\n    @EJB(mappedName=\"bbl-server/NotificationService/remote\")\n    private NotificationService notificationService;\n\n\n  public EmailDispatchMDB(){\n  }\n\n  public void finalize() throws Throwable {\n  }\n\n  @TransactionAttribute(TransactionAttributeType.REQUIRED)\n    public void onMessage( Message message ) {\n  /* Custom Code */\n  }\n  }\n</code></pre>\n\n<p><b>Log Statements :</b></p>\n\n<blockquote>\n  <p>17:09:21,506 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 64) AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,journalDirectory=D:\\projects\\MCG\\Software\\wildfly-10.1.0.Final\\standalone\\data\\activemq\\journal,bindingsDirectory=D:\\projects\\MCG\\Software\\wildfly-10.1.0.Final\\standalone\\data\\activemq\\bindings,largeMessagesDirectory=D:\\projects\\MCG\\Software\\wildfly-10.1.0.Final\\standalone\\data\\activemq\\largemessages,pagingDirectory=D:\\projects\\MCG\\Software\\wildfly-10.1.0.Final\\standalone\\data\\activemq\\paging)<br/><br/>...<br/><br/>17:09:28,604 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 64) AMQ221001: Apache ActiveMQ Artemis Message Broker version 1.1.0.wildfly-017 [nodeID=a3b04b10-d656-11e6-8bd3-c391bfc23687]<br/><br/>...<br/><br/>17:09:28,888 INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 72) WFLYMSGAMQ0002: Bound messaging object to jndi name java:jboss/exported/jms/RemoteConnectionFactory\n  17:09:28,898 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 73) AMQ221003: trying to deploy queue jms.queue.OutboundEmailQueue<br/><br/>...<br/><br/>17:09:49,857 INFO  [org.jboss.as.ejb3] (MSC service thread 1-5) WFLYEJB0042: Started message driven bean 'EmailDispatchMDB' with 'activemq-ra.rar' resource adapter<br/><br/>...<br/><br/> <b>\n  17:09:56,420 WARN  [org.apache.activemq.artemis.ra] (default-threads - 5) AMQ152005: Failure in broker activation org.apache.activemq.artemis.ra.inflow.ActiveMQActivationSpec(ra=org.apache.activemq.artemis.ra.ActiveMQResourceAdapter@78712571 destination=java:/bbl/OutboundEmailQueue destinationType=javax.jms.Queue ack=Auto-acknowledge durable=false clientID=null user=null maxSession=15): java.lang.ClassCastException: com.MCG.bbl.email.dispatcher.EmailDispatchMDB$$$endpoint2 cannot be cast to javax.resource.spi.endpoint.MessageEndpoint\n          at org.jboss.as.ejb3.inflow.JBossMessageEndpointFactory.createEndpoint(JBossMessageEndpointFactory.java:75)\n          at org.jboss.as.ejb3.inflow.JBossMessageEndpointFactory.createEndpoint(JBossMessageEndpointFactory.java:63)\n          at org.apache.activemq.artemis.ra.inflow.ActiveMQMessageHandler.setup(ActiveMQMessageHandler.java:187)\n          at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation.setup(ActiveMQActivation.java:318)\n          at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation$SetupActivation.run(ActiveMQActivation.java:719)\n          at org.jboss.jca.core.workmanager.WorkWrapper.run(WorkWrapper.java:223)\n          at org.jboss.threads.SimpleDirectExecutor.execute(SimpleDirectExecutor.java:33)\n          at org.jboss.threads.QueueExecutor.runTask(QueueExecutor.java:808)\n          at org.jboss.threads.QueueExecutor.access$100(QueueExecutor.java:45)\n          at org.jboss.threads.QueueExecutor$Worker.run(QueueExecutor.java:828)\n          at java.lang.Thread.run(Thread.java:744)\n          at org.jboss.threads.JBossThread.run(JBossThread.java:320)<br/><br/>\n  ...<br/><br/> </b>\n  17:09:58,488 INFO  [org.apache.activemq.artemis.ra] (default-threads - 5) AMQ151001: Attempting to reconnect org.apache.activemq.artemis.ra.inflow.ActiveMQActivationSpec(ra=org.apache.activemq.artemis.ra.ActiveMQResourceAdapter@78712571 destination=java:/bbl/OutboundEmailQueue destinationType=javax.jms.Queue ack=Auto-acknowledge durable=false clientID=null user=null maxSession=15)<br/><br/> ...<br/><br/>17:09:58,693 ERROR [org.apache.activemq.artemis.ra] (default-threads - 5) AMQ154003: Unable to reconnect org.apache.activemq.artemis.ra.inflow.ActiveMQActivationSpec(ra=org.apache.activemq.artemis.ra.ActiveMQResourceAdapter@78712571 destination=java:/bbl/OutboundEmailQueue destinationType=javax.jms.Queue ack=Auto-acknowledge durable=false clientID=null user=null maxSession=15): java.lang.ClassCastException: com.mcg.bbl.email.dispatcher.EmailDispatchMDB$$$endpoint2 cannot be cast to javax.resource.spi.endpoint.MessageEndpoint\n          at org.jboss.as.ejb3.inflow.JBossMessageEndpointFactory.createEndpoint(JBossMessageEndpointFactory.java:75)\n          at org.jboss.as.ejb3.inflow.JBossMessageEndpointFactory.createEndpoint(JBossMessageEndpointFactory.java:63)\n          at org.apache.activemq.artemis.ra.inflow.ActiveMQMessageHandler.setup(ActiveMQMessageHandler.java:187)\n          at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation.setup(ActiveMQActivation.java:318)\n          at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation.reconnect(ActiveMQActivation.java:678)\n          at org.apache.activemq.artemis.ra.inflow.ActiveMQActivation$SetupActivation.run(ActiveMQActivation.java:722)\n          at org.jboss.jca.core.workmanager.WorkWrapper.run(WorkWrapper.java:223)\n          at org.jboss.threads.SimpleDirectExecutor.execute(SimpleDirectExecutor.java:33)\n          at org.jboss.threads.QueueExecutor.runTask(QueueExecutor.java:808)\n          at org.jboss.threads.QueueExecutor.access$100(QueueExecutor.java:45)\n          at org.jboss.threads.QueueExecutor$Worker.run(QueueExecutor.java:828)\n          at java.lang.Thread.run(Thread.java:744)\n          at org.jboss.threads.JBossThread.run(JBossThread.java:320)</p>\n</blockquote>\n"},{"tags":["java","mq"],"comments":[{"owner":{"account_id":4502668,"reputation":1637,"user_id":3660859,"display_name":"fhussonnois"},"score":0,"creation_date":1467650362,"post_id":38172479,"comment_id":63803914,"body_markdown":"Have a look at http://stackoverflow.com/questions/731233/activemq-or-rabbitmq-or-zeromq-or/5350026#5350026 - also the Confluent Platform provides a Rest Proxy to produce messages into kafka through HTTP","body":"Have a look at <a href=\"http://stackoverflow.com/questions/731233/activemq-or-rabbitmq-or-zeromq-or/5350026#5350026\" title=\"activemq or rabbitmq or zeromq or\">stackoverflow.com/questions/731233/&hellip;</a> - also the Confluent Platform provides a Rest Proxy to produce messages into kafka through HTTP"},{"owner":{"account_id":308512,"reputation":462,"user_id":3654309,"accept_rate":50,"display_name":"Tolstoyevsky"},"score":0,"creation_date":1467653094,"post_id":38172479,"comment_id":63804976,"body_markdown":"Thanks, I will look at the question. Although I don&#39;t see how a REST proxy will help me, I intend to use Kafka&#39;s java API directly for the high performance TCP protocol and less middlemen.","body":"Thanks, I will look at the question. Although I don&#39;t see how a REST proxy will help me, I intend to use Kafka&#39;s java API directly for the high performance TCP protocol and less middlemen."}],"answers":[{"tags":[],"owner":{"account_id":308512,"reputation":462,"user_id":3654309,"accept_rate":50,"display_name":"Tolstoyevsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489327784,"creation_date":1473151657,"answer_id":39344559,"question_id":38172479,"body_markdown":"If anyone comes across this, we went with Kafka in the end. Its performance is impressive and so far it&#39;s very stable on linux. No attempt yet to run it on windows in production deployments.\r\n\r\n**UPDATE 12/3/2017:**\r\nWorks fine and very stable on Linux, but on Windows this is not usable in production. Old data never gets deleted due to leaky file handles, the relevant Jira is being ignored since 2013: https://issues.apache.org/jira/browse/KAFKA-1194","title":"MQ choice for point-to-point high throughput","body":"<p>If anyone comes across this, we went with Kafka in the end. Its performance is impressive and so far it's very stable on linux. No attempt yet to run it on windows in production deployments.</p>\n\n<p><strong>UPDATE 12/3/2017:</strong>\nWorks fine and very stable on Linux, but on Windows this is not usable in production. Old data never gets deleted due to leaky file handles, the relevant Jira is being ignored since 2013: <a href=\"https://issues.apache.org/jira/browse/KAFKA-1194\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/KAFKA-1194</a></p>\n"}],"owner":{"account_id":308512,"reputation":462,"user_id":3654309,"accept_rate":50,"display_name":"Tolstoyevsky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696822281,"creation_date":1467566606,"question_id":38172479,"body_markdown":"I have a scenario with these particular demands:\r\n\r\n - Production ready &amp; stable.\r\n - Point to point connection, with the producer behind a firewall and a consumer in the cloud. It might be possible to split the traffic between a couple of producers\\consumers, but all the traffic still has to traverse a single WAN connection which will probably be the bottleneck.\r\n - High throughput - something along the order of 300 Mb/sec (may be up to 1Gb!). Message sizes vary from ~1KB to possibly several MBs.\r\n - Guaranteed delivery a must - every message has to arrive at the consumer eventually, so we need to start saving messages to disk in the event of a momentary network outage or risk running out of memory.\r\n - Message order is not important, messages are timestamped and can be re-arranged at the consumer.\r\n - Highly preferable but not as important - should run on both linux &amp; windows (JVM seems the obvious choice)\r\n\r\nI&#39;ve been looking at so many MQs lately, and I don&#39;t have any hands-on experience with any. &lt;br/&gt;\r\nThought it will be a better idea to ask someone with experience. &lt;br/&gt;\r\nWe&#39;re considering mostly Kafka, but I&#39;m not sure it&#39;s the best for our use case, seems to be tailored to distributed deployment &amp; mutliple topics\\consumers\\producers. Also, definitely not production ready on windows.\r\nWhat about Apache ActiveMQ or Apollo\\Artemis? RabbitMQ seems not to be a good fit for our performance requirements. Or maybe there&#39;s some Java library that has the features we need without a middleman broker? &lt;br/&gt;\r\nAny help making sense of this kludge would be greatly appreciated.\r\n","title":"MQ choice for point-to-point high throughput","body":"<p>I have a scenario with these particular demands:</p>\n\n<ul>\n<li>Production ready &amp; stable.</li>\n<li>Point to point connection, with the producer behind a firewall and a consumer in the cloud. It might be possible to split the traffic between a couple of producers\\consumers, but all the traffic still has to traverse a single WAN connection which will probably be the bottleneck.</li>\n<li>High throughput - something along the order of 300 Mb/sec (may be up to 1Gb!). Message sizes vary from ~1KB to possibly several MBs.</li>\n<li>Guaranteed delivery a must - every message has to arrive at the consumer eventually, so we need to start saving messages to disk in the event of a momentary network outage or risk running out of memory.</li>\n<li>Message order is not important, messages are timestamped and can be re-arranged at the consumer.</li>\n<li>Highly preferable but not as important - should run on both linux &amp; windows (JVM seems the obvious choice)</li>\n</ul>\n\n<p>I've been looking at so many MQs lately, and I don't have any hands-on experience with any. <br/>\nThought it will be a better idea to ask someone with experience. <br/>\nWe're considering mostly Kafka, but I'm not sure it's the best for our use case, seems to be tailored to distributed deployment &amp; mutliple topics\\consumers\\producers. Also, definitely not production ready on windows.\nWhat about Apache ActiveMQ or Apollo\\Artemis? RabbitMQ seems not to be a good fit for our performance requirements. Or maybe there's some Java library that has the features we need without a middleman broker? <br/>\nAny help making sense of this kludge would be greatly appreciated.</p>\n"},{"tags":["java","json","apache-kafka","jackson"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696821737,"creation_date":1696746121,"answer_id":77252544,"question_id":77251783,"body_markdown":"Your list is nullable; the problem isn&#39;t directly related to the consumer. Kafka itself doesn&#39;t care what format your data is in. It stores bytes, so people generally use a binary data format rather than JSON since it&#39;s faster and takes less storage of the broker. \r\n\r\nIn any case, perhaps start debugging with printing the value of the producer before it&#39;s sent and just use `kafka-console-consumer` to look what your the broker is returning. If you see the list there, **then** worry about your deserializer and consumer config ","title":"Kafka send nested json object","body":"<p>Your list is nullable; the problem isn't directly related to the consumer. Kafka itself doesn't care what format your data is in. It stores bytes, so people generally use a binary data format rather than JSON since it's faster and takes less storage of the broker.</p>\n<p>In any case, perhaps start debugging with printing the value of the producer before it's sent and just use <code>kafka-console-consumer</code> to look what your the broker is returning. If you see the list there, <strong>then</strong> worry about your deserializer and consumer config</p>\n"}],"owner":{"account_id":1927135,"reputation":192,"user_id":1737297,"accept_rate":60,"display_name":"kurt_vonnegut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77252544,"answer_count":1,"score":0,"last_activity_date":1696821737,"creation_date":1696720032,"question_id":77251783,"body_markdown":"I am trying to create a basic Kafka project that will send nested JSON object but keep receiving only the root level field on the consumer.\r\n\r\n    @Builder\r\n    @Jacksonized\r\n    @ToString\r\n    public class UserCreate implements Serializable {\r\n\r\n        @JsonSerialize(using = LocalDateSerializer.class)\r\n        @JsonDeserialize(using = LocalDateDeserializer.class)\r\n        private final LocalDate createDate;\r\n\r\n        private final List&lt;Order&gt; orders;\r\n\r\n    }\r\n\r\nthen Order class\r\n\r\n    @Builder\r\n    @Jacksonized\r\n    @ToString\r\n    public class Order implements Serializable {\r\n       private final String name;\r\n    }\r\n\r\nProducer Config:\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, UserCreate&gt; transferProducerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, TransferRequest&gt; transferKafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(transferProducerFactory());\r\n    }\r\n\r\nConsumerConfig:\r\n\r\n    public ConsumerFactory&lt;String, UserCreate&gt; transferConsumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;my-group-id&quot;);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(\r\n            props,\r\n            new StringDeserializer(),\r\n            new JsonDeserializer&lt;&gt;(UserCreate.class));\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, UserCreate&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, UserCreate&gt; factory =\r\n            new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(transferConsumerFactory());\r\n        return factory;\r\n    }\r\n\r\nthis setup ends with the following result:\r\n\r\n    Received message: UserCreate(createDate=2023-10-08, orders=null)\r\n","title":"Kafka send nested json object","body":"<p>I am trying to create a basic Kafka project that will send nested JSON object but keep receiving only the root level field on the consumer.</p>\n<pre><code>@Builder\n@Jacksonized\n@ToString\npublic class UserCreate implements Serializable {\n\n    @JsonSerialize(using = LocalDateSerializer.class)\n    @JsonDeserialize(using = LocalDateDeserializer.class)\n    private final LocalDate createDate;\n\n    private final List&lt;Order&gt; orders;\n\n}\n</code></pre>\n<p>then Order class</p>\n<pre><code>@Builder\n@Jacksonized\n@ToString\npublic class Order implements Serializable {\n   private final String name;\n}\n</code></pre>\n<p>Producer Config:</p>\n<pre><code>@Bean\npublic ProducerFactory&lt;String, UserCreate&gt; transferProducerFactory() {\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n    configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n    configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n}\n\n@Bean\npublic KafkaTemplate&lt;String, TransferRequest&gt; transferKafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(transferProducerFactory());\n}\n</code></pre>\n<p>ConsumerConfig:</p>\n<pre><code>public ConsumerFactory&lt;String, UserCreate&gt; transferConsumerFactory() {\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n    props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;my-group-id&quot;);\n    return new DefaultKafkaConsumerFactory&lt;&gt;(\n        props,\n        new StringDeserializer(),\n        new JsonDeserializer&lt;&gt;(UserCreate.class));\n}\n\n@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, UserCreate&gt; kafkaListenerContainerFactory() {\n    ConcurrentKafkaListenerContainerFactory&lt;String, UserCreate&gt; factory =\n        new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(transferConsumerFactory());\n    return factory;\n}\n</code></pre>\n<p>this setup ends with the following result:</p>\n<pre><code>Received message: UserCreate(createDate=2023-10-08, orders=null)\n</code></pre>\n"},{"tags":["java","activemq","durable-subscription"],"answers":[{"tags":[],"owner":{"account_id":179840,"reputation":22133,"user_id":412763,"accept_rate":91,"display_name":"Petter Nordlander"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1516178459,"creation_date":1516178459,"answer_id":48296847,"question_id":48292564,"body_markdown":"Some examples\r\n\r\n* Your consumers are not interested in historical data when they come online. Think of a screen displaying time until a bus arrives at the bus station.\r\n\r\n* You need to distribute load among several nodes in a consumer cluster. Then you need to use queues (VirtualTopics) instead, or go for JMS2.0 in ActiveMQ Artemis.","title":"When are JMS durable subscriptions a bad idea?","body":"<p>Some examples</p>\n\n<ul>\n<li><p>Your consumers are not interested in historical data when they come online. Think of a screen displaying time until a bus arrives at the bus station.</p></li>\n<li><p>You need to distribute load among several nodes in a consumer cluster. Then you need to use queues (VirtualTopics) instead, or go for JMS2.0 in ActiveMQ Artemis.</p></li>\n</ul>\n"}],"owner":{"account_id":520698,"reputation":127,"user_id":7273897,"display_name":"mig81"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":48296847,"answer_count":1,"score":-1,"last_activity_date":1696821603,"creation_date":1516154407,"question_id":48292564,"body_markdown":"My understanding is that [JMS durable subscriptions][1] allow the consumer to receive all messages that are published to a topic, say if there was a lost connection and then connectivity is restored.\r\n\r\nHaving said this, it seems like durable subscriptions can also cause the JMS broker&#39;s message buffer to fill up, eventually creating an overhead for the broker.\r\n\r\nWhat are any other common best practices for *not* using durable subscriptions with JMS?\r\n\r\nFor reference, I&#39;m using ActiveMQ &quot;Classic.&quot;\r\n\r\n[1]: https://docs.oracle.com/cd/E19798-01/821-1841/bncgd/index.html","title":"When are JMS durable subscriptions a bad idea?","body":"<p>My understanding is that <a href=\"https://docs.oracle.com/cd/E19798-01/821-1841/bncgd/index.html\" rel=\"nofollow noreferrer\">JMS durable subscriptions</a> allow the consumer to receive all messages that are published to a topic, say if there was a lost connection and then connectivity is restored.</p>\n<p>Having said this, it seems like durable subscriptions can also cause the JMS broker's message buffer to fill up, eventually creating an overhead for the broker.</p>\n<p>What are any other common best practices for <em>not</em> using durable subscriptions with JMS?</p>\n<p>For reference, I'm using ActiveMQ &quot;Classic.&quot;</p>\n"},{"tags":["java","jms","activemq","activemq-artemis"],"answers":[{"comments":[{"owner":{"display_name":"user130532"},"score":0,"creation_date":1518725020,"post_id":48815289,"comment_id":84634550,"body_markdown":"I have an extremely simple use case of periodically sending a message an external JMS broker. I was looking to leverage the simpler API in order to do so.\n\nRegarding the protocols, I thought both were capable of using the Openwire protocol.","body":"I have an extremely simple use case of periodically sending a message an external JMS broker. I was looking to leverage the simpler API in order to do so.  Regarding the protocols, I thought both were capable of using the Openwire protocol."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":1,"creation_date":1518728571,"post_id":48815289,"comment_id":84636263,"body_markdown":"Both the ActiveMQ 5.x and ActiveMQ Artemis brokers support the OpenWire protocol.  However, as Tim said, the Artemis JMS client uses the Artemis core protocol (i.e. not OpenWire) which the 5.x broker doesn&#39;t support.  If you want to be able to connect to both a 5.x broker and an Artemis broker with the same client you can use the 5.x OpenWire JMS client.  Of course, that will limit you to the JMS 1.1 API.","body":"Both the ActiveMQ 5.x and ActiveMQ Artemis brokers support the OpenWire protocol.  However, as Tim said, the Artemis JMS client uses the Artemis core protocol (i.e. not OpenWire) which the 5.x broker doesn&#39;t support.  If you want to be able to connect to both a 5.x broker and an Artemis broker with the same client you can use the 5.x OpenWire JMS client.  Of course, that will limit you to the JMS 1.1 API."}],"tags":[],"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696530187,"creation_date":1518724719,"answer_id":48815289,"question_id":48814657,"body_markdown":"No, the Artemis JMS client uses the Artemis Core protocol which the ActiveMQ 5.x broker does not understand so you cannot connect to it with that client.  Even if you could that wouldn&#39;t enable any JMS 2.0 features as the broker needs to support the 2.0 features like shared subscriptions etc.\r\n\r\nDepending on what you are trying to do there&#39;s a good chance you can still do it with the ActiveMQ JMS client over JMS 1.1 APIs such as using Virtual Topics to implement shared style subscription behaviors.  \r\n\r\nThe Artemis Broker does understand the OpenWire protocol so you can use the same ActiveMQ 5.x JMS client to connect to both however that client is limited to the JMS 1.1 API. \r\n\r\nBoth brokers also support AMQP 1.0 so the Qpid JMS AMQP 1.0 client would be able to talk to either broker.  Qpid-JMS is a JMS 2.0 based client so the features of 2.0 like shared subscriptions wouldn&#39;t work against ActiveMQ 5.x but some of the other syntactic sugar type APIs of 2.0 like JMSContext based bits would mostly work.  ","title":"Can an Apache ActiveMQ Artemis client connect to an existing ActiveMQ &quot;Classic&quot; 5.15.x broker?","body":"<p>No, the Artemis JMS client uses the Artemis Core protocol which the ActiveMQ 5.x broker does not understand so you cannot connect to it with that client.  Even if you could that wouldn't enable any JMS 2.0 features as the broker needs to support the 2.0 features like shared subscriptions etc.</p>\n<p>Depending on what you are trying to do there's a good chance you can still do it with the ActiveMQ JMS client over JMS 1.1 APIs such as using Virtual Topics to implement shared style subscription behaviors.</p>\n<p>The Artemis Broker does understand the OpenWire protocol so you can use the same ActiveMQ 5.x JMS client to connect to both however that client is limited to the JMS 1.1 API.</p>\n<p>Both brokers also support AMQP 1.0 so the Qpid JMS AMQP 1.0 client would be able to talk to either broker.  Qpid-JMS is a JMS 2.0 based client so the features of 2.0 like shared subscriptions wouldn't work against ActiveMQ 5.x but some of the other syntactic sugar type APIs of 2.0 like JMSContext based bits would mostly work.</p>\n"},{"tags":[],"owner":{"account_id":179840,"reputation":22133,"user_id":412763,"accept_rate":91,"display_name":"Petter Nordlander"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1518855943,"creation_date":1518855943,"answer_id":48839394,"question_id":48814657,"body_markdown":"As Tim states, the Artemis client is not supported. However, at least some parts* of the JMS 2.0 API works if you are using the QPid client and the AMQP 1.0 protocol instead.\r\n\r\n\r\nThe following code, for instance, works to put a message to ActiveMQ 5.15\r\n\r\n    Hashtable&lt;String,Object&gt; properties = new Hashtable&lt;&gt;();\r\n        properties.put(&quot;connectionfactory.connectionFactory&quot;,&quot;amqp://localhost:5672&quot;);\r\n        properties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.apache.qpid.jms.jndi.JmsInitialContextFactory&quot;);\r\n        Context jndiContext = new InitialContext(properties);\r\n        ConnectionFactory connectionFactory\r\n                = (ConnectionFactory) jndiContext.lookup(&quot;connectionFactory&quot;);\r\n\r\n        try (JMSContext context = connectionFactory.createContext();) {\r\n            context.createProducer().send(context.createQueue(&quot;QueueX&quot;),&quot;Hello World&quot; );\r\n        }\r\n\r\nUsing qpid-jms-client 0.29.\r\n\r\nYou also need to configure the amqp connector i ActiveMQ with `transport.transformer=jms`.\r\n\r\n*) I have not tried all features such as shared subscribers etc as the broker may or may not have trouble with these.","title":"Can an Apache ActiveMQ Artemis client connect to an existing ActiveMQ &quot;Classic&quot; 5.15.x broker?","body":"<p>As Tim states, the Artemis client is not supported. However, at least some parts* of the JMS 2.0 API works if you are using the QPid client and the AMQP 1.0 protocol instead.</p>\n\n<p>The following code, for instance, works to put a message to ActiveMQ 5.15</p>\n\n<pre><code>Hashtable&lt;String,Object&gt; properties = new Hashtable&lt;&gt;();\n    properties.put(\"connectionfactory.connectionFactory\",\"amqp://localhost:5672\");\n    properties.put(Context.INITIAL_CONTEXT_FACTORY, \"org.apache.qpid.jms.jndi.JmsInitialContextFactory\");\n    Context jndiContext = new InitialContext(properties);\n    ConnectionFactory connectionFactory\n            = (ConnectionFactory) jndiContext.lookup(\"connectionFactory\");\n\n    try (JMSContext context = connectionFactory.createContext();) {\n        context.createProducer().send(context.createQueue(\"QueueX\"),\"Hello World\" );\n    }\n</code></pre>\n\n<p>Using qpid-jms-client 0.29.</p>\n\n<p>You also need to configure the amqp connector i ActiveMQ with <code>transport.transformer=jms</code>.</p>\n\n<p>*) I have not tried all features such as shared subscribers etc as the broker may or may not have trouble with these.</p>\n"}],"owner":{"display_name":"user130532"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1707,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48815289,"answer_count":2,"score":2,"last_activity_date":1696821328,"creation_date":1518722039,"question_id":48814657,"body_markdown":"ActiveMQ &quot;Classic&quot; 5.15.3 does not support the JMS 2.0 API. Most developers suggest projects use ActiveMQ Artemis if they want 2.0 client support. Can an ActiveMQ Artemis client connect to an ActiveMQ &quot;Classic&quot; broker? \r\n\r\n","title":"Can an Apache ActiveMQ Artemis client connect to an existing ActiveMQ &quot;Classic&quot; 5.15.x broker?","body":"<p>ActiveMQ &quot;Classic&quot; 5.15.3 does not support the JMS 2.0 API. Most developers suggest projects use ActiveMQ Artemis if they want 2.0 client support. Can an ActiveMQ Artemis client connect to an ActiveMQ &quot;Classic&quot; broker?</p>\n"},{"tags":["java","opengl","graphics","lwjgl"],"comments":[{"owner":{"account_id":2879629,"reputation":23886,"user_id":2470818,"accept_rate":82,"display_name":"vallentin"},"score":0,"creation_date":1696810172,"post_id":77255738,"comment_id":136196766,"body_markdown":"It isn&#39;t entirely clear to me, what the issue is. For instance [`glDrawArrays()`](https://registry.khronos.org/OpenGL-Refpages/gl4/html/glDrawArrays.xhtml) already has a `first` and `count`. So for each range, you could set the uniforms and then draw only that range","body":"It isn&#39;t entirely clear to me, what the issue is. For instance <a href=\"https://registry.khronos.org/OpenGL-Refpages/gl4/html/glDrawArrays.xhtml\" rel=\"nofollow noreferrer\"><code>glDrawArrays()</code></a> already has a <code>first</code> and <code>count</code>. So for each range, you could set the uniforms and then draw only that range"},{"owner":{"account_id":27546284,"reputation":19,"user_id":21022183,"display_name":"labradorEater"},"score":0,"creation_date":1696812311,"post_id":77255738,"comment_id":136196916,"body_markdown":"@vallentin That&#39;s helpful, thanks. Maybe I&#39;m being too hesitant about making multiple draw calls. Is calling glDrawArrays() for every object in a scene too expensive/is there another way or is that more efficient than every other method?","body":"@vallentin That&#39;s helpful, thanks. Maybe I&#39;m being too hesitant about making multiple draw calls. Is calling glDrawArrays() for every object in a scene too expensive/is there another way or is that more efficient than every other method?"}],"answers":[{"comments":[{"owner":{"account_id":27546284,"reputation":19,"user_id":21022183,"display_name":"labradorEater"},"score":0,"creation_date":1696864691,"post_id":77256089,"comment_id":136204333,"body_markdown":"Thanks a ton! This seems like a much better answer. I&#39;ll test it and mark my question answered.","body":"Thanks a ton! This seems like a much better answer. I&#39;ll test it and mark my question answered."}],"tags":[],"owner":{"account_id":8669140,"reputation":68,"user_id":6488590,"display_name":"tkap1"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696821095,"creation_date":1696821095,"answer_id":77256089,"question_id":77255738,"body_markdown":"It sounds like you want some data for each &quot;object&quot;, rather than for each vertex in the object? You can do this with [glVertexAttribDivisor][1] and [glDrawArraysInstanced][2]\r\n\r\nIt could look something like:\r\n1) Create and bind a VAO (glGenVertexArrays, glBindVertexArray)\r\n2) Create and bind a VBO that contains the vertices (glGenBuffers, glBindBuffer, glVertexAttribPointer, glEnableVertexAttribArray, glBufferData)\r\n3) Create and bind a VBO that contains the data that you want per object/instance (same as above, plus glVertexAttribDivisor)\r\n\r\nYou should call glDrawArraysInstanced rather than glDrawArrays.\r\n\r\n\r\n  [1]: https://docs.gl/gl3/glVertexAttribDivisor\r\n  [2]: https://docs.gl/gl3/glDrawArraysInstanced","title":"How do I upload a collection of position vectors and rotation quaternions to the GPU in OpenGL?","body":"<p>It sounds like you want some data for each &quot;object&quot;, rather than for each vertex in the object? You can do this with <a href=\"https://docs.gl/gl3/glVertexAttribDivisor\" rel=\"nofollow noreferrer\">glVertexAttribDivisor</a> and <a href=\"https://docs.gl/gl3/glDrawArraysInstanced\" rel=\"nofollow noreferrer\">glDrawArraysInstanced</a></p>\n<p>It could look something like:</p>\n<ol>\n<li>Create and bind a VAO (glGenVertexArrays, glBindVertexArray)</li>\n<li>Create and bind a VBO that contains the vertices (glGenBuffers, glBindBuffer, glVertexAttribPointer, glEnableVertexAttribArray, glBufferData)</li>\n<li>Create and bind a VBO that contains the data that you want per object/instance (same as above, plus glVertexAttribDivisor)</li>\n</ol>\n<p>You should call glDrawArraysInstanced rather than glDrawArrays.</p>\n"}],"owner":{"account_id":27546284,"reputation":19,"user_id":21022183,"display_name":"labradorEater"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1696821095,"creation_date":1696809803,"question_id":77255738,"body_markdown":"First, I upload the mesh of an object to a VAO (which I know how to do) and reuse that data every frame where a new mesh hasn&#39;t been introduced. \r\n\r\nI want to then use the Vertex Shader to parallelize rotating and translating the many vertices into their real positions, by handing the GPU a position vector and rotation quaternion for each set of data that represents its own contiguous object.\r\n\r\nI don&#39;t know how to do that second part without making the position and rotation data a uniform upload to the Shader, necessitating a draw call for each contiguous object, which I&#39;m guessing is really inefficient.\r\n\r\n**Is there any way to upload a series of positions and rotations and tell OpenGL to transform certain sections of the VAO by them?**\r\n\r\nI tried looking for an answer all day but the documentation is just a bit to confusing for me at the moment.\r\n\r\nHere&#39;s what my Shader input looks like:\r\n\r\n```\r\nlayout (location=0) in vec3 aPos;\r\nlayout (location=1) in vec4 aColor;\r\n\r\nuniform mat4 uProjection;\r\nuniform mat4 uView;\r\n```\r\n\r\nI&#39;m thinking it would be great to have some form of &#39;uniform&#39; upload that&#39;s only used by a range of vertices when being processed by the GPU, but I&#39;m not sure.","title":"How do I upload a collection of position vectors and rotation quaternions to the GPU in OpenGL?","body":"<p>First, I upload the mesh of an object to a VAO (which I know how to do) and reuse that data every frame where a new mesh hasn't been introduced.</p>\n<p>I want to then use the Vertex Shader to parallelize rotating and translating the many vertices into their real positions, by handing the GPU a position vector and rotation quaternion for each set of data that represents its own contiguous object.</p>\n<p>I don't know how to do that second part without making the position and rotation data a uniform upload to the Shader, necessitating a draw call for each contiguous object, which I'm guessing is really inefficient.</p>\n<p><strong>Is there any way to upload a series of positions and rotations and tell OpenGL to transform certain sections of the VAO by them?</strong></p>\n<p>I tried looking for an answer all day but the documentation is just a bit to confusing for me at the moment.</p>\n<p>Here's what my Shader input looks like:</p>\n<pre><code>layout (location=0) in vec3 aPos;\nlayout (location=1) in vec4 aColor;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\n</code></pre>\n<p>I'm thinking it would be great to have some form of 'uniform' upload that's only used by a range of vertices when being processed by the GPU, but I'm not sure.</p>\n"},{"tags":["java","jms","wildfly","cluster-computing","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":1944447,"reputation":488,"user_id":1749907,"display_name":"dbricman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533218417,"creation_date":1533218417,"answer_id":51655537,"question_id":51515917,"body_markdown":"Ok, I saolve it myself in some way. Clustered singleton delivery is what I needed. It works similar like exclusive consumer. The Mdb bean is deployed on all nodes of cluster servers but only on one node is active (it consuming messages). In case of node fail, Mdb is started on next node in chain (i.e failover).\r\n\r\n    @MessageDriven(name = &quot;queueMDB&quot;, activationConfig = {\r\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;destination&quot;, propertyValue = &quot;TestQueue&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;maxSession&quot;, propertyValue = &quot;5&quot;),\r\n        })\r\n    @ClusteredSingleton\r\n    public class ConsumerMdb implements MessageListener {\r\n        // your mdb implementation\r\n    }\r\n \r\nReference: https://docs.jboss.org/author/display/WFLY10/Message+Driven+Beans+Controlled+Delivery","title":"How to setup Wildfly clustered jms (apachemq) queue with exclusive consumer","body":"<p>Ok, I saolve it myself in some way. Clustered singleton delivery is what I needed. It works similar like exclusive consumer. The Mdb bean is deployed on all nodes of cluster servers but only on one node is active (it consuming messages). In case of node fail, Mdb is started on next node in chain (i.e failover).</p>\n\n<pre><code>@MessageDriven(name = \"queueMDB\", activationConfig = {\n    @ActivationConfigProperty(propertyName = \"destinationType\", propertyValue = \"javax.jms.Queue\"),\n    @ActivationConfigProperty(propertyName = \"destination\", propertyValue = \"TestQueue\"),\n    @ActivationConfigProperty(propertyName = \"acknowledgeMode\", propertyValue = \"Auto-acknowledge\"),\n    @ActivationConfigProperty(propertyName = \"maxSession\", propertyValue = \"5\"),\n    })\n@ClusteredSingleton\npublic class ConsumerMdb implements MessageListener {\n    // your mdb implementation\n}\n</code></pre>\n\n<p>Reference: <a href=\"https://docs.jboss.org/author/display/WFLY10/Message+Driven+Beans+Controlled+Delivery\" rel=\"nofollow noreferrer\">https://docs.jboss.org/author/display/WFLY10/Message+Driven+Beans+Controlled+Delivery</a></p>\n"}],"owner":{"account_id":1944447,"reputation":488,"user_id":1749907,"display_name":"dbricman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696821013,"creation_date":1532512308,"question_id":51515917,"body_markdown":"How to setup wildfly jms messageing in clustered enviroment to properly deliver messages in same group?  \r\nI have found property for activeMq, which resolve this problem [here](http://activemq.apache.org/exclusive-consumer.html), but I&#39; don&#39;t now how to apply this to wildfly&#39;s jms subsystem. How to setup queue or Mdb to work in exclusive mode?\r\n\r\nI have tried to set flag &quot;exclusive?=true&quot; trough jms producer like:\r\n\r\n    @Inject\r\n    private JMSContext context;\r\n\r\n    @Resource(mappedName = &quot;java:/jms/queue/TestQueue?consumer.exclusive=true&quot;)\r\n    private Queue testQueue;\r\n\r\n\tpublic void pushToQueue(String messagePayload, String messageGroup) {\r\n    try {\r\n        Message message = context.createTextMessage(messagePayload);\r\n        message.setStringProperty(&quot;JMSXGroupID&quot;, messageGroup);\r\n        context.createProducer().send(processQueue, message);\r\n    } catch (JMSException e) {\r\n        e.printStackTrace();\r\n\t}\r\n\r\nand with other aproach like:\r\n\r\n    @Resource(name=&quot;DefaultJMSConnectionFactory&quot;)\r\n    private ConnectionFactory connectionFactory;\r\n\r\n    try {\r\n        Connection connection = connectionFactory.createConnection();\r\n        Session  session = connection.createSession();\r\n        Queue queue = session.createQueue(&quot;TestQueue?consumer.exclusive=true&quot;);\r\n        Message message = session.createTextMessage(messagePayload);\r\n        session.createProducer(queue).send(message);\r\n    } catch (JMSException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nand on Mdb side:\r\n\r\n    @MessageDriven(name = &quot;queueMDB&quot;, activationConfig = {\r\n    @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\r\n    @ActivationConfigProperty(propertyName = &quot;destination&quot;, propertyValue = &quot;java:/jms/queue/TestQueue?consumer.exclusive=true&quot;),\r\n    @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;),\r\n    @ActivationConfigProperty(propertyName = &quot;maxSession&quot;, propertyValue = &quot;5&quot;),\r\n    })\r\n    public class ConsumerMdb implements MessageListener {\r\n        ...\r\n    }\r\n\r\n\r\nall without succsess. In this cases I thing the string pf queue name is not parsed as URl parameter, but the whole string represent queue name (or JNI name)\r\n\r\nThan I tried use of &#39;ActiveMQQueue&#39; class for creating a queue object (which implements interface of javax.jms.Destination)\r\ncode:\r\n\r\n\tpublic void pushToQueue(String messagePayload, String messageGroup) {\r\n\t\ttry {\r\n\t\t\tConnection connection = connectionFactory.createConnection();\r\n\t\t\tSession  session = connection.createSession();\r\n\t\t\tActiveMQQueue queue = new ActiveMQQueue(&quot;TestQueue?consumer.exclusive=true&quot;);\r\n\t\t\t//ActiveMQQueue queue = new ActiveMQQueue(&quot;jms.queue.TestQueue&quot;);\r\n\t\t\tMessage message = session.createTextMessage(messagePayload);\r\n\t\t\tsession.createProducer(queue).send(message);\r\n\t\t} catch (JMSException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nWith different possible cases of queue names:\r\n\r\n    ActiveMQQueue queue = new ActiveMQQueue(&quot;TestQueue&quot;);\r\n\r\n    ActiveMQQueue queue = new ActiveMQQueue(&quot;TestQueue?consumer.exclusive=true&quot;);\r\n\r\n    ActiveMQQueue queue = new ActiveMQQueue(&quot;java:/jms/queue/TestQueue&quot;);\r\n\r\n    ActiveMQQueue queue = new ActiveMQQueue(&quot;jms.queue.TestQueue&quot;);\r\n    \r\nalso withour succsess. I heve got InvalidDestinationException:\r\n\r\n    12:54:12,959 ERROR [stderr] (default task-37) javax.jms.InvalidDestinationException: Not an ActiveMQ Artemis Destination:queue://TestQueue\r\n    12:54:12,959 ERROR [stderr] (default task-37) \tat org.apache.activemq.artemis.jms.client.ActiveMQSession.createProducer(ActiveMQSession.java:293)\r\n    12:54:12,959 ERROR [stderr] (default task-37) \tat org.apache.activemq.artemis.ra.ActiveMQRASession.createProducer(ActiveMQRASession.java:1082)\r\n    12:54:12,959 ERROR [stderr] (default task-37) \tat si.teletech.test.eecluster.ejb.queue.Producer.pushToQueue(Producer.java:67)\r\n    12:54:12,960 ERROR [stderr] (default task-37) \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    12:54:12,960 ERROR [stderr] (default task-37) \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    12:54:12,960 ERROR [stderr] (default task-37) \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    12:54:12,960 ERROR [stderr] (default task-37) \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    12:54:12,960 ERROR [stderr] (default task-37) \tat org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)\r\n    12:54:12,960 ERROR [stderr] (default task-37) \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\r\n    12:54:12,960 ERROR [stderr] (default task-37) \tat org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\r\n    12:54:12,960 ERROR [stderr] (default task-37) \tat org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:90)\r\n\t...\r\n\r\nBut here in exception I noticed the queue name is parsed correctly &quot;Destination:queue://TestQueue&quot; without URL parameters.\r\n\r\n\r\n","title":"How to setup Wildfly clustered jms (apachemq) queue with exclusive consumer","body":"<p>How to setup wildfly jms messageing in clustered enviroment to properly deliver messages in same group?<br>\nI have found property for activeMq, which resolve this problem <a href=\"http://activemq.apache.org/exclusive-consumer.html\" rel=\"nofollow noreferrer\">here</a>, but I' don't now how to apply this to wildfly's jms subsystem. How to setup queue or Mdb to work in exclusive mode?</p>\n\n<p>I have tried to set flag \"exclusive?=true\" trough jms producer like:</p>\n\n<pre><code>@Inject\nprivate JMSContext context;\n\n@Resource(mappedName = \"java:/jms/queue/TestQueue?consumer.exclusive=true\")\nprivate Queue testQueue;\n\npublic void pushToQueue(String messagePayload, String messageGroup) {\ntry {\n    Message message = context.createTextMessage(messagePayload);\n    message.setStringProperty(\"JMSXGroupID\", messageGroup);\n    context.createProducer().send(processQueue, message);\n} catch (JMSException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>and with other aproach like:</p>\n\n<pre><code>@Resource(name=\"DefaultJMSConnectionFactory\")\nprivate ConnectionFactory connectionFactory;\n\ntry {\n    Connection connection = connectionFactory.createConnection();\n    Session  session = connection.createSession();\n    Queue queue = session.createQueue(\"TestQueue?consumer.exclusive=true\");\n    Message message = session.createTextMessage(messagePayload);\n    session.createProducer(queue).send(message);\n} catch (JMSException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>and on Mdb side:</p>\n\n<pre><code>@MessageDriven(name = \"queueMDB\", activationConfig = {\n@ActivationConfigProperty(propertyName = \"destinationType\", propertyValue = \"javax.jms.Queue\"),\n@ActivationConfigProperty(propertyName = \"destination\", propertyValue = \"java:/jms/queue/TestQueue?consumer.exclusive=true\"),\n@ActivationConfigProperty(propertyName = \"acknowledgeMode\", propertyValue = \"Auto-acknowledge\"),\n@ActivationConfigProperty(propertyName = \"maxSession\", propertyValue = \"5\"),\n})\npublic class ConsumerMdb implements MessageListener {\n    ...\n}\n</code></pre>\n\n<p>all without succsess. In this cases I thing the string pf queue name is not parsed as URl parameter, but the whole string represent queue name (or JNI name)</p>\n\n<p>Than I tried use of 'ActiveMQQueue' class for creating a queue object (which implements interface of javax.jms.Destination)\ncode:</p>\n\n<pre><code>public void pushToQueue(String messagePayload, String messageGroup) {\n    try {\n        Connection connection = connectionFactory.createConnection();\n        Session  session = connection.createSession();\n        ActiveMQQueue queue = new ActiveMQQueue(\"TestQueue?consumer.exclusive=true\");\n        //ActiveMQQueue queue = new ActiveMQQueue(\"jms.queue.TestQueue\");\n        Message message = session.createTextMessage(messagePayload);\n        session.createProducer(queue).send(message);\n    } catch (JMSException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>With different possible cases of queue names:</p>\n\n<pre><code>ActiveMQQueue queue = new ActiveMQQueue(\"TestQueue\");\n\nActiveMQQueue queue = new ActiveMQQueue(\"TestQueue?consumer.exclusive=true\");\n\nActiveMQQueue queue = new ActiveMQQueue(\"java:/jms/queue/TestQueue\");\n\nActiveMQQueue queue = new ActiveMQQueue(\"jms.queue.TestQueue\");\n</code></pre>\n\n<p>also withour succsess. I heve got InvalidDestinationException:</p>\n\n<pre><code>12:54:12,959 ERROR [stderr] (default task-37) javax.jms.InvalidDestinationException: Not an ActiveMQ Artemis Destination:queue://TestQueue\n12:54:12,959 ERROR [stderr] (default task-37)   at org.apache.activemq.artemis.jms.client.ActiveMQSession.createProducer(ActiveMQSession.java:293)\n12:54:12,959 ERROR [stderr] (default task-37)   at org.apache.activemq.artemis.ra.ActiveMQRASession.createProducer(ActiveMQRASession.java:1082)\n12:54:12,959 ERROR [stderr] (default task-37)   at si.teletech.test.eecluster.ejb.queue.Producer.pushToQueue(Producer.java:67)\n12:54:12,960 ERROR [stderr] (default task-37)   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n12:54:12,960 ERROR [stderr] (default task-37)   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n12:54:12,960 ERROR [stderr] (default task-37)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n12:54:12,960 ERROR [stderr] (default task-37)   at java.lang.reflect.Method.invoke(Method.java:498)\n12:54:12,960 ERROR [stderr] (default task-37)   at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)\n12:54:12,960 ERROR [stderr] (default task-37)   at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\n12:54:12,960 ERROR [stderr] (default task-37)   at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\n12:54:12,960 ERROR [stderr] (default task-37)   at org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:90)\n...\n</code></pre>\n\n<p>But here in exception I noticed the queue name is parsed correctly \"Destination:queue://TestQueue\" without URL parameters.</p>\n"},{"tags":["java","spring-boot","java.library.path"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650623901,"post_id":71966221,"comment_id":127168367,"body_markdown":"That looks like a missing dependency. Check out https://stackoverflow.com/questions/6242761/determine-direct-shared-object-dependencies-of-a-linux-binary to find out what the dependencies are and you might see what is actually missing","body":"That looks like a missing dependency. Check out <a href=\"https://stackoverflow.com/questions/6242761/determine-direct-shared-object-dependencies-of-a-linux-binary\" title=\"determine direct shared object dependencies of a linux binary\">stackoverflow.com/questions/6242761/&hellip;</a> to find out what the dependencies are and you might see what is actually missing"},{"owner":{"account_id":2480042,"reputation":1134,"user_id":2159680,"accept_rate":81,"display_name":"Eric Huang"},"score":0,"creation_date":1650644395,"post_id":71966221,"comment_id":127175995,"body_markdown":"Yeah from the exception log `Caused by: java.io.FileNotFoundException: META-INF/native/libnetty_resolver_dns_native_macos_aarch_64.jnilib` is missing.  But even adding the dependency suggested from github link.... still no luck.  I don&#39;t even know what this dependency do...","body":"Yeah from the exception log <code>Caused by: java.io.FileNotFoundException: META-INF&#47;native&#47;libnetty_resolver_dns_native_macos_aarch_64.&zwnj;&#8203;jnilib</code> is missing.  But even adding the dependency suggested from github link.... still no luck.  I don&#39;t even know what this dependency do..."}],"answers":[{"comments":[{"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"score":0,"creation_date":1655202813,"post_id":72077713,"comment_id":128270938,"body_markdown":"This worked on my Mac with M1 Pro. Pay close attention to the error: &quot;no netty_resolver_dns_native_macos_aarch_64&quot;, aarch is the ARM CPU architecture, so x86_64 (intel) won&#39;t work in that case.","body":"This worked on my Mac with M1 Pro. Pay close attention to the error: &quot;no netty_resolver_dns_native_macos_aarch_64&quot;, aarch is the ARM CPU architecture, so x86_64 (intel) won&#39;t work in that case."},{"owner":{"account_id":1647390,"reputation":5075,"user_id":1518668,"accept_rate":45,"display_name":"sonoerin"},"score":0,"creation_date":1656345533,"post_id":72077713,"comment_id":128543684,"body_markdown":"dumb question - but will this impact once I deploy this service to AWS?","body":"dumb question - but will this impact once I deploy this service to AWS?"}],"tags":[],"owner":{"account_id":25164941,"reputation":121,"user_id":19008618,"display_name":"Alphabet18"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1651416273,"creation_date":1651416273,"answer_id":72077713,"question_id":71966221,"body_markdown":"You must add the proper classifier to the to the netty-resolver-dns-native-macos artifact, so that the proper version of the native library is loaded:\r\n\r\n    implementation(&quot;io.netty:netty-resolver-dns-native-macos:4.1.75.Final&quot;) {\r\n        artifact {\r\n            classifier = &quot;osx-aarch_64&quot;\r\n        }\r\n    }\r\n","title":"Spring Api-Gateway: (M1) java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64","body":"<p>You must add the proper classifier to the to the netty-resolver-dns-native-macos artifact, so that the proper version of the native library is loaded:</p>\n<pre><code>implementation(&quot;io.netty:netty-resolver-dns-native-macos:4.1.75.Final&quot;) {\n    artifact {\n        classifier = &quot;osx-aarch_64&quot;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"score":6,"creation_date":1655202858,"post_id":72078881,"comment_id":128270949,"body_markdown":"Classifier osx-x86_64 only works if you have an intel CPU. For the ARM M1 CPU&#39;s this won&#39;t work.","body":"Classifier osx-x86_64 only works if you have an intel CPU. For the ARM M1 CPU&#39;s this won&#39;t work."}],"tags":[],"owner":{"account_id":2480042,"reputation":1134,"user_id":2159680,"accept_rate":81,"display_name":"Eric Huang"},"comment_count":1,"down_vote_count":1,"up_vote_count":24,"is_accepted":true,"score":23,"last_activity_date":1657624990,"creation_date":1651425277,"answer_id":72078881,"question_id":71966221,"body_markdown":"Found an issue on GitHub:\r\nhttps://github.com/netty/netty/issues/11020\r\n\r\nGet the newest version: https://mvnrepository.com/artifact/io.netty/netty-resolver-dns-native-macos\r\n\r\nStill doesn&#39;t explain why this problem occurs, but here it is that fixed the issue for me:\r\n\r\nMaven\r\n```\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n          &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n          &lt;version&gt;XXX&lt;/version&gt;\r\n          &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nGradle\r\n```\r\nimplementation group: &#39;io.netty&#39;, name: &#39;netty-resolver-dns-native-macos&#39;, version: &#39;xxx&#39;, classifier: &#39;osx-aarch_64&#39;\r\n```","title":"Spring Api-Gateway: (M1) java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64","body":"<p>Found an issue on GitHub:\n<a href=\"https://github.com/netty/netty/issues/11020\" rel=\"noreferrer\">https://github.com/netty/netty/issues/11020</a></p>\n<p>Get the newest version: <a href=\"https://mvnrepository.com/artifact/io.netty/netty-resolver-dns-native-macos\" rel=\"noreferrer\">https://mvnrepository.com/artifact/io.netty/netty-resolver-dns-native-macos</a></p>\n<p>Still doesn't explain why this problem occurs, but here it is that fixed the issue for me:</p>\n<p>Maven</p>\n<pre><code>        &lt;dependency&gt;\n          &lt;groupId&gt;io.netty&lt;/groupId&gt;\n          &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n          &lt;version&gt;XXX&lt;/version&gt;\n          &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Gradle</p>\n<pre><code>implementation group: 'io.netty', name: 'netty-resolver-dns-native-macos', version: 'xxx', classifier: 'osx-aarch_64'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3014567,"reputation":56,"user_id":2557118,"display_name":"Mihai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661182955,"creation_date":1657562157,"answer_id":72942765,"question_id":71966221,"body_markdown":"## Edited ##\r\nAfter trying the solution above and not working for me, and fixed with a stupid long solution, I&#39;ve realised that my server starts with Tomcat because of a transitive dependency that introduced org.apache.tomcat.embed:tomcat-embed-core.\r\nAfter fixing that, including the dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n        &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n        &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\njust works. I am not deleting this post for other people that see the exception, but don&#39;t observe that their server starts with Tomcat.\r\n\r\n&lt;s&gt;For me it was not enough to add the dependency as in the accepted answer.\r\nI am using Spring Boot and it still complains about missing:\r\n\r\n`Caused by: java.io.FileNotFoundException: META INF/native/libnetty_resolver_dns_native_macos_aarch_64.jnilib`\r\n\r\nI needed to copy the \r\n\r\n`/target/asr-reactive-example-1.0-SNAPSHOT.jar/BOOT-INF/classes/netty-resolver-dns-native-macos-4.1.75.Final-osx-aarch_64.jar/META-INF/native`\r\n\r\nfolder, to: \r\n\r\n`/target/asr-reactive-example-1.0-SNAPSHOT.jar/META-INF`\r\n\r\nwhich contains the file:\r\n`libnetty_resolver_dns_native_macos_aarch_64.jnilib`\r\n\r\nFor sure it can be automated with maven, but I don&#39;t know if this is the solution.\r\n\r\n## Edited: ##\r\n\r\nWell, I don&#39;t know why the accepted answer works for other people, but for me it was really annoying to see that error at startup and I didn&#39;t want to disable the logging for MacOSDnsServerAddressStreamProvider or who is logging the error.\r\n\r\nAfter I&#39;ve entered with the debugger in netty and jdk, I&#39;ve found that it tries load it by using `System.loadLibrary()`:\r\n\r\n[load with System][1]\r\n\r\nwhich is searching in:\r\n\r\n[System search][2]\r\n\r\nand:\r\n\r\n[User search][3]\r\n\r\nOf course that it is not there. Then it tries to look for it in classpath but it fails:\r\n\r\n[classpath1][4]\r\n\r\n[classpath2][5]\r\n\r\nAfter I&#39;ve copied the library to `META-INF/native`, then it founds the library by using the classpath (after failing with the System/User locations). Then copies the library to the root of the working directory and finally succeed because `System.loadLibrary()` founds it in &quot;.&quot;:\r\n\r\n[found-it][6]\r\n\r\nNow, for auto-copy the file I&#39;ve made some acrobatics:\r\n\r\nset some version:\r\n\r\n    &lt;properties&gt;\r\n        &lt;netty.dns.native.resolver.version&gt;4.1.79.Final&lt;/netty.dns.native.resolver.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nThen include the dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n        &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n        &lt;version&gt;${netty.dns.native.resolver.version}&lt;/version&gt;\r\n        &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen copy the native library:\r\n\r\n    &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.3.0&lt;/version&gt;\r\n          &lt;executions&gt;\r\n          &lt;execution&gt;\r\n                &lt;id&gt;unpack&lt;/id&gt;\r\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                      &lt;goal&gt;unpack&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                      &lt;skip&gt;${skip.aarch64.copy}&lt;/skip&gt;\r\n                      &lt;artifactItems&gt;\r\n                      &lt;artifactItem&gt;\r\n                            &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n                            &lt;version&gt;${netty.dns.native.resolver.version}&lt;/version&gt;\r\n                            &lt;type&gt;jar&lt;/type&gt;\r\n                            &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n                            &lt;overWrite&gt;false&lt;/overWrite&gt;\r\n                            &lt;includes&gt;**/native/*.jnilib&lt;/includes&gt;\r\n                      &lt;/artifactItem&gt;\r\n                      &lt;/artifactItems&gt;\r\n                      &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\r\n                      &lt;overWriteReleases&gt;true&lt;/overWriteReleases&gt;\r\n                      &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\r\n                      &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n                &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nbut only if os architecture is ARM 64 (see the `&lt;skip&gt;${skip.aarch64.copy}&lt;/skip&gt;`):\r\n\r\n    &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;1.8&lt;/version&gt;\r\n          &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                      &lt;phase&gt;validate&lt;/phase&gt;\r\n                      &lt;goals&gt;\r\n                      &lt;goal&gt;run&lt;/goal&gt;\r\n                      &lt;/goals&gt;\r\n                      &lt;configuration&gt;\r\n                      &lt;exportAntProperties&gt;true&lt;/exportAntProperties&gt;\r\n                      &lt;target&gt;\r\n                            &lt;condition property=&quot;skip.aarch64.copy&quot; value=&quot;true&quot; else=&quot;false&quot;&gt;\r\n                                  &lt;not&gt;\r\n                                  &lt;equals arg1=&quot;${os.detected.arch}&quot; arg2=&quot;aarch_64&quot;/&gt;\r\n                                  &lt;/not&gt;\r\n                            &lt;/condition&gt;\r\n                            &lt;echo message=&quot;Skip AARCH-64: ${skip.aarch64.copy}&quot;/&gt;\r\n                      &lt;/target&gt;\r\n                      &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nand for &quot;os.detected.arch&quot; property from above i&#39;ve used:\r\n\r\n    &lt;build&gt;\r\n          &lt;extensions&gt;\r\n              &lt;extension&gt;\r\n                  &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\r\n                  &lt;version&gt;1.7.0&lt;/version&gt;\r\n              &lt;/extension&gt;\r\n          &lt;/extensions&gt;\r\n    ......\r\n    &lt;/build&gt;\r\n\r\nI know. Veeeeery complicated solution. If anyone have other solution, please post it here.&lt;/s&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/cfAEN.png\r\n  [2]: https://i.stack.imgur.com/ykMjE.png\r\n  [3]: https://i.stack.imgur.com/ZyWa7.png\r\n  [4]: https://i.stack.imgur.com/BibC7.png\r\n  [5]: https://i.stack.imgur.com/JG7iw.png\r\n  [6]: https://i.stack.imgur.com/t2mM2.png","title":"Spring Api-Gateway: (M1) java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64","body":"<h2>Edited</h2>\n<p>After trying the solution above and not working for me, and fixed with a stupid long solution, I've realised that my server starts with Tomcat because of a transitive dependency that introduced org.apache.tomcat.embed:tomcat-embed-core.\nAfter fixing that, including the dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n    &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>just works. I am not deleting this post for other people that see the exception, but don't observe that their server starts with Tomcat.</p>\n<p><s>For me it was not enough to add the dependency as in the accepted answer.\nI am using Spring Boot and it still complains about missing:</p>\n<p><code>Caused by: java.io.FileNotFoundException: META INF/native/libnetty_resolver_dns_native_macos_aarch_64.jnilib</code></p>\n<p>I needed to copy the</p>\n<p><code>/target/asr-reactive-example-1.0-SNAPSHOT.jar/BOOT-INF/classes/netty-resolver-dns-native-macos-4.1.75.Final-osx-aarch_64.jar/META-INF/native</code></p>\n<p>folder, to:</p>\n<p><code>/target/asr-reactive-example-1.0-SNAPSHOT.jar/META-INF</code></p>\n<p>which contains the file:\n<code>libnetty_resolver_dns_native_macos_aarch_64.jnilib</code></p>\n<p>For sure it can be automated with maven, but I don't know if this is the solution.</p>\n<h2>Edited:</h2>\n<p>Well, I don't know why the accepted answer works for other people, but for me it was really annoying to see that error at startup and I didn't want to disable the logging for MacOSDnsServerAddressStreamProvider or who is logging the error.</p>\n<p>After I've entered with the debugger in netty and jdk, I've found that it tries load it by using <code>System.loadLibrary()</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/cfAEN.png\" rel=\"nofollow noreferrer\">load with System</a></p>\n<p>which is searching in:</p>\n<p><a href=\"https://i.stack.imgur.com/ykMjE.png\" rel=\"nofollow noreferrer\">System search</a></p>\n<p>and:</p>\n<p><a href=\"https://i.stack.imgur.com/ZyWa7.png\" rel=\"nofollow noreferrer\">User search</a></p>\n<p>Of course that it is not there. Then it tries to look for it in classpath but it fails:</p>\n<p><a href=\"https://i.stack.imgur.com/BibC7.png\" rel=\"nofollow noreferrer\">classpath1</a></p>\n<p><a href=\"https://i.stack.imgur.com/JG7iw.png\" rel=\"nofollow noreferrer\">classpath2</a></p>\n<p>After I've copied the library to <code>META-INF/native</code>, then it founds the library by using the classpath (after failing with the System/User locations). Then copies the library to the root of the working directory and finally succeed because <code>System.loadLibrary()</code> founds it in &quot;.&quot;:</p>\n<p><a href=\"https://i.stack.imgur.com/t2mM2.png\" rel=\"nofollow noreferrer\">found-it</a></p>\n<p>Now, for auto-copy the file I've made some acrobatics:</p>\n<p>set some version:</p>\n<pre><code>&lt;properties&gt;\n    &lt;netty.dns.native.resolver.version&gt;4.1.79.Final&lt;/netty.dns.native.resolver.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Then include the dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n    &lt;version&gt;${netty.dns.native.resolver.version}&lt;/version&gt;\n    &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then copy the native library:</p>\n<pre><code>&lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.3.0&lt;/version&gt;\n      &lt;executions&gt;\n      &lt;execution&gt;\n            &lt;id&gt;unpack&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                  &lt;goal&gt;unpack&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                  &lt;skip&gt;${skip.aarch64.copy}&lt;/skip&gt;\n                  &lt;artifactItems&gt;\n                  &lt;artifactItem&gt;\n                        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n                        &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n                        &lt;version&gt;${netty.dns.native.resolver.version}&lt;/version&gt;\n                        &lt;type&gt;jar&lt;/type&gt;\n                        &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n                        &lt;overWrite&gt;false&lt;/overWrite&gt;\n                        &lt;includes&gt;**/native/*.jnilib&lt;/includes&gt;\n                  &lt;/artifactItem&gt;\n                  &lt;/artifactItems&gt;\n                  &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\n                  &lt;overWriteReleases&gt;true&lt;/overWriteReleases&gt;\n                  &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\n                  &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n            &lt;/configuration&gt;\n      &lt;/execution&gt;\n      &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>but only if os architecture is ARM 64 (see the <code>&lt;skip&gt;${skip.aarch64.copy}&lt;/skip&gt;</code>):</p>\n<pre><code>&lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n      &lt;version&gt;1.8&lt;/version&gt;\n      &lt;executions&gt;\n            &lt;execution&gt;\n                  &lt;phase&gt;validate&lt;/phase&gt;\n                  &lt;goals&gt;\n                  &lt;goal&gt;run&lt;/goal&gt;\n                  &lt;/goals&gt;\n                  &lt;configuration&gt;\n                  &lt;exportAntProperties&gt;true&lt;/exportAntProperties&gt;\n                  &lt;target&gt;\n                        &lt;condition property=&quot;skip.aarch64.copy&quot; value=&quot;true&quot; else=&quot;false&quot;&gt;\n                              &lt;not&gt;\n                              &lt;equals arg1=&quot;${os.detected.arch}&quot; arg2=&quot;aarch_64&quot;/&gt;\n                              &lt;/not&gt;\n                        &lt;/condition&gt;\n                        &lt;echo message=&quot;Skip AARCH-64: ${skip.aarch64.copy}&quot;/&gt;\n                  &lt;/target&gt;\n                  &lt;/configuration&gt;\n            &lt;/execution&gt;\n      &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>and for &quot;os.detected.arch&quot; property from above i've used:</p>\n<pre><code>&lt;build&gt;\n      &lt;extensions&gt;\n          &lt;extension&gt;\n              &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\n              &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\n              &lt;version&gt;1.7.0&lt;/version&gt;\n          &lt;/extension&gt;\n      &lt;/extensions&gt;\n......\n&lt;/build&gt;\n</code></pre>\n<p>I know. Veeeeery complicated solution. If anyone have other solution, please post it here.</s></p>\n"},{"tags":[],"owner":{"account_id":105656,"reputation":10434,"user_id":281815,"display_name":"rbento"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1691449411,"creation_date":1661736397,"answer_id":73523375,"question_id":71966221,"body_markdown":"On a **Macbook Pro** with an **Apple M1 Pro** chip:\r\n\r\n**Gradle - Groovy DSL**\r\n```groovy\r\nruntimeOnly &#39;io.netty:netty-resolver-dns-native-macos:4.1.80.Final:osx-aarch_64&#39;\r\n```\r\n\r\n**Gradle - Kotlin DSL**\r\n```\r\nruntimeOnly(&quot;io.netty:netty-resolver-dns-native-macos:4.1.80.Final:osx-aarch_64&quot;)\r\n```\r\n\r\n**Maven**\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n    &lt;version&gt;4.1.80.Final&lt;/version&gt;\r\n    &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSee newer versions of [netty-resolver-dns-native-macos](https://mvnrepository.com/artifact/io.netty/netty-resolver-dns-native-macos) on mvnrepository.com","title":"Spring Api-Gateway: (M1) java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64","body":"<p>On a <strong>Macbook Pro</strong> with an <strong>Apple M1 Pro</strong> chip:</p>\n<p><strong>Gradle - Groovy DSL</strong></p>\n<pre><code>runtimeOnly 'io.netty:netty-resolver-dns-native-macos:4.1.80.Final:osx-aarch_64'\n</code></pre>\n<p><strong>Gradle - Kotlin DSL</strong></p>\n<pre><code>runtimeOnly(&quot;io.netty:netty-resolver-dns-native-macos:4.1.80.Final:osx-aarch_64&quot;)\n</code></pre>\n<p><strong>Maven</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n    &lt;version&gt;4.1.80.Final&lt;/version&gt;\n    &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>See newer versions of <a href=\"https://mvnrepository.com/artifact/io.netty/netty-resolver-dns-native-macos\" rel=\"nofollow noreferrer\">netty-resolver-dns-native-macos</a> on mvnrepository.com</p>\n"},{"tags":[],"owner":{"account_id":13680295,"reputation":21,"user_id":9870822,"display_name":"Nenad Jevdjenic"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669715727,"creation_date":1669715727,"answer_id":74612156,"question_id":71966221,"body_markdown":"For Maven the workaround looks like following:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.73.Final&lt;/version&gt;\r\n            &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n\r\nFirst exclude the referenced library. And then add it explicit with the classifier. Worked on M2 chip MacBook Pro 2022.","title":"Spring Api-Gateway: (M1) java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64","body":"<p>For Maven the workaround looks like following:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;io.netty&lt;/groupId&gt;\n                &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n        &lt;version&gt;4.1.73.Final&lt;/version&gt;\n        &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>First exclude the referenced library. And then add it explicit with the classifier. Worked on M2 chip MacBook Pro 2022.</p>\n"},{"tags":[],"owner":{"account_id":9140206,"reputation":146,"user_id":6798321,"display_name":"Zane"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696820362,"creation_date":1696820362,"answer_id":77256057,"question_id":71966221,"body_markdown":"I use mac M1, I solved this problem by changing jdk.\r\n\r\n- **before:** zulu jdk ❌\r\n- **after:** oracle jdk ✅","title":"Spring Api-Gateway: (M1) java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64","body":"<p>I use mac M1, I solved this problem by changing jdk.</p>\n<ul>\n<li><strong>before:</strong> zulu jdk ❌</li>\n<li><strong>after:</strong> oracle jdk ✅</li>\n</ul>\n"}],"owner":{"account_id":2480042,"reputation":1134,"user_id":2159680,"accept_rate":81,"display_name":"Eric Huang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20829,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":72078881,"answer_count":6,"score":17,"last_activity_date":1696820362,"creation_date":1650618636,"question_id":71966221,"body_markdown":"Just to clearify this only occurs on M1 Mac, the intel version doesn&#39;t seem to have this problem.  \r\n\r\nJDK 17\r\n```\r\nopenjdk version &quot;17.0.1&quot; 2021-10-19\r\nOpenJDK Runtime Environment Homebrew (build 17.0.1+1)\r\nOpenJDK 64-Bit Server VM Homebrew (build 17.0.1+1, mixed mode, sharing)\r\n\r\n# List of all JDK\r\nMatching Java Virtual Machines (2):\r\n    17.0.1 (arm64) &quot;Homebrew&quot; - &quot;OpenJDK 17.0.1&quot; /opt/homebrew/Cellar/openjdk/17.0.1_1/libexec/openjdk.jdk/Contents/Home\r\n    16.0.2 (arm64) &quot;Azul Systems, Inc.&quot; - &quot;Zulu 16.32.15&quot; /Users/xxxxxx/Library/Java/JavaVirtualMachines/azul-16.0.2/Contents/Home\r\n/opt/homebrew/Cellar/openjdk/17.0.1_1/libexec/openjdk.jdk/Contents/Home\r\n\r\n```\r\n\r\n\r\n**Project Diagram**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Problem:**\r\n\r\n`java.lang.UnsatisfiedLinkError` exception is thrown when trying to access one of the microservice through API-Gateway.  For example, `http://localhost:8082/API-USER/users/status/ok` will throw this exception.\r\n\r\nThe `return` value is correct, API-Gateway continues to run despite the annoying exception.\r\n\r\n```\r\nCaused by: java.lang.UnsatisfiedLinkError: failed to load the required native library\r\n\tat io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider.ensureAvailability(MacOSDnsServerAddressStreamProvider.java:110) ~[netty-resolver-dns-classes-macos-4.1.75.Final.jar:4.1.75.Final]\r\nCaused by: java.lang.UnsatisfiedLinkError: failed to load the required native library\r\n\r\n\tat io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider.&lt;init&gt;(MacOSDnsServerAddressStreamProvider.java:120) ~[netty-resolver-dns-classes-macos-4.1.75.Final.jar:4.1.75.Final]\r\n\t... 202 common frames omitted\r\nCaused by: java.lang.UnsatisfiedLinkError: could not load a native library: netty_resolver_dns_native_macos_aarch_64\r\n\tat io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:224) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\r\n\tat io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider.loadNativeLibrary(MacOSDnsServerAddressStreamProvider.java:92) ~[netty-resolver-dns-classes-macos-4.1.75.Final.jar:4.1.75.Final]\r\n\tat io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider.&lt;clinit&gt;(MacOSDnsServerAddressStreamProvider.java:77) ~[netty-resolver-dns-classes-macos-4.1.75.Final.jar:4.1.75.Final]\r\n\tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\nCaused by: java.lang.UnsatisfiedLinkError: could not load a native library: netty_resolver_dns_native_macos_aarch_64\r\n\r\n\tat java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\r\n\tat io.netty.resolver.dns.DnsServerAddressStreamProviders$1.run(DnsServerAddressStreamProviders.java:50) ~[netty-resolver-dns-4.1.75.Final.jar:4.1.75.Final]\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318) ~[na:na]\r\n\tat io.netty.resolver.dns.DnsServerAddressStreamProviders.&lt;clinit&gt;(DnsServerAddressStreamProviders.java:46) ~[netty-resolver-dns-4.1.75.Final.jar:4.1.75.Final]\r\n\t... 196 common frames omitted\r\n\tSuppressed: java.lang.UnsatisfiedLinkError: could not load a native library: netty_resolver_dns_native_macos\r\n\t\tat io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:224) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\r\n\t\tat io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider.loadNativeLibrary(MacOSDnsServerAddressStreamProvider.java:95) ~[netty-resolver-dns-classes-macos-4.1.75.Final.jar:4.1.75.Final]\r\n\t\t... 202 common frames omitted\r\n\tCaused by: java.io.FileNotFoundException: META-INF/native/libnetty_resolver_dns_native_macos.jnilib\r\n\t\tat io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:166)\r\n\tCaused by: java.io.FileNotFoundException: META-INF/native/libnetty_resolver_dns_native_macos.jnilib\r\n\r\n\t\t... 203 common frames omitted\r\n\t\tSuppressed: java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos in java.library.path: /Users/erichuang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\r\n\t\t\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429)\r\n\t\t\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\r\n\t\t\tat java.base/java.lang.System.loadLibrary(System.java:1989)\r\n\t\t\tat io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\r\n\t\t\tat io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:376)\r\n\t\t\tat io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:146)\r\n\t\t\t... 203 common frames omitted\r\n\t\t\tSuppressed: java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos in java.library.path: /Users/erichuang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\r\n\t\t\t\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429)\r\n\t\t\t\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\r\n\t\t\t\tat java.base/java.lang.System.loadLibrary(System.java:1989)\r\n\t\t\t\tat io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\r\n\t\t\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\t\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\t\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\t\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\t\t\tat io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:410)\r\n\t\t\t\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n\t\t\t\tat io.netty.util.internal.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:402)\r\n\t\t\t\tat io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:368)\r\n\t\t\t\t... 204 common frames omitted\r\nCaused by: java.io.FileNotFoundException: META-INF/native/libnetty_resolver_dns_native_macos_aarch_64.jnilib\r\n\tat io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:166) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\r\n\t... 203 common frames omitted\r\n\tSuppressed: java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64 in java.library.path: /Users/erichuang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\r\n\t\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429) ~[na:na]\r\nCaused by: java.io.FileNotFoundException: META-INF/native/libnetty_resolver_dns_native_macos_aarch_64.jnilib\r\n\r\n\t\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818) ~[na:na]\r\n\t\tat java.base/java.lang.System.loadLibrary(System.java:1989) ~[na:na]\r\n\t\tat io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\r\n\t\tat io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:376) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\r\n\t\tat io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:146) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\r\n\t\t... 203 common frames omitted\r\n\t\tSuppressed: java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64 in java.library.path: /Users/erichuang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\r\n\t\t\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429)\r\n\t\t\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\r\n\t\t\tat java.base/java.lang.System.loadLibrary(System.java:1989)\r\n\t\t\tat io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\r\n\t\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\t\tat io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:410)\r\n\t\t\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n\t\t\tat io.netty.util.internal.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:402)\r\n\t\t\tat io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:368)\r\n\t\t\t... 204 common frames omitted\r\n```\r\n\r\n\r\n\r\n**Question**\r\n\r\nDoes any one know how to mitigate this error? \r\n\r\n\r\n**I tired...**\r\n\r\n - https://github.com/netty/netty-tcnative/issues/576\r\n - https://github.com/netty/netty-tcnative/issues/343\r\n\r\nBoth of these links suggested to add `netty-tcnative-boringssl-static` dependency but that didn&#39;t work either...\r\n\r\nAPI-Gateway : `build.gradle`\r\n\r\n```\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\timplementation &#39;org.springframework.cloud:spring-cloud-starter-gateway&#39;\r\n\timplementation &#39;org.springframework.cloud:spring-cloud-starter-netflix-eureka-client&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\r\n\t// https://mvnrepository.com/artifact/io.netty/netty-tcnative-boringssl-static\r\n\timplementation group: &#39;io.netty&#39;, name: &#39;netty-tcnative-boringssl-static&#39;, version: &#39;2.0.51.Final&#39;\r\n\r\n\r\n}\r\n\r\nThanks for helping\r\n\r\n```\r\n  [1]: https://i.stack.imgur.com/gpNe7.png","title":"Spring Api-Gateway: (M1) java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64","body":"<p>Just to clearify this only occurs on M1 Mac, the intel version doesn't seem to have this problem.</p>\n<p>JDK 17</p>\n<pre><code>openjdk version &quot;17.0.1&quot; 2021-10-19\nOpenJDK Runtime Environment Homebrew (build 17.0.1+1)\nOpenJDK 64-Bit Server VM Homebrew (build 17.0.1+1, mixed mode, sharing)\n\n# List of all JDK\nMatching Java Virtual Machines (2):\n    17.0.1 (arm64) &quot;Homebrew&quot; - &quot;OpenJDK 17.0.1&quot; /opt/homebrew/Cellar/openjdk/17.0.1_1/libexec/openjdk.jdk/Contents/Home\n    16.0.2 (arm64) &quot;Azul Systems, Inc.&quot; - &quot;Zulu 16.32.15&quot; /Users/xxxxxx/Library/Java/JavaVirtualMachines/azul-16.0.2/Contents/Home\n/opt/homebrew/Cellar/openjdk/17.0.1_1/libexec/openjdk.jdk/Contents/Home\n\n</code></pre>\n<p><strong>Project Diagram</strong></p>\n<p><a href=\"https://i.stack.imgur.com/gpNe7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gpNe7.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Problem:</strong></p>\n<p><code>java.lang.UnsatisfiedLinkError</code> exception is thrown when trying to access one of the microservice through API-Gateway.  For example, <code>http://localhost:8082/API-USER/users/status/ok</code> will throw this exception.</p>\n<p>The <code>return</code> value is correct, API-Gateway continues to run despite the annoying exception.</p>\n<pre><code>Caused by: java.lang.UnsatisfiedLinkError: failed to load the required native library\n    at io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider.ensureAvailability(MacOSDnsServerAddressStreamProvider.java:110) ~[netty-resolver-dns-classes-macos-4.1.75.Final.jar:4.1.75.Final]\nCaused by: java.lang.UnsatisfiedLinkError: failed to load the required native library\n\n    at io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider.&lt;init&gt;(MacOSDnsServerAddressStreamProvider.java:120) ~[netty-resolver-dns-classes-macos-4.1.75.Final.jar:4.1.75.Final]\n    ... 202 common frames omitted\nCaused by: java.lang.UnsatisfiedLinkError: could not load a native library: netty_resolver_dns_native_macos_aarch_64\n    at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:224) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider.loadNativeLibrary(MacOSDnsServerAddressStreamProvider.java:92) ~[netty-resolver-dns-classes-macos-4.1.75.Final.jar:4.1.75.Final]\n    at io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider.&lt;clinit&gt;(MacOSDnsServerAddressStreamProvider.java:77) ~[netty-resolver-dns-classes-macos-4.1.75.Final.jar:4.1.75.Final]\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\nCaused by: java.lang.UnsatisfiedLinkError: could not load a native library: netty_resolver_dns_native_macos_aarch_64\n\n    at java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\n    at io.netty.resolver.dns.DnsServerAddressStreamProviders$1.run(DnsServerAddressStreamProviders.java:50) ~[netty-resolver-dns-4.1.75.Final.jar:4.1.75.Final]\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318) ~[na:na]\n    at io.netty.resolver.dns.DnsServerAddressStreamProviders.&lt;clinit&gt;(DnsServerAddressStreamProviders.java:46) ~[netty-resolver-dns-4.1.75.Final.jar:4.1.75.Final]\n    ... 196 common frames omitted\n    Suppressed: java.lang.UnsatisfiedLinkError: could not load a native library: netty_resolver_dns_native_macos\n        at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:224) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\n        at io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider.loadNativeLibrary(MacOSDnsServerAddressStreamProvider.java:95) ~[netty-resolver-dns-classes-macos-4.1.75.Final.jar:4.1.75.Final]\n        ... 202 common frames omitted\n    Caused by: java.io.FileNotFoundException: META-INF/native/libnetty_resolver_dns_native_macos.jnilib\n        at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:166)\n    Caused by: java.io.FileNotFoundException: META-INF/native/libnetty_resolver_dns_native_macos.jnilib\n\n        ... 203 common frames omitted\n        Suppressed: java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos in java.library.path: /Users/erichuang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\n            at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429)\n            at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\n            at java.base/java.lang.System.loadLibrary(System.java:1989)\n            at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\n            at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:376)\n            at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:146)\n            ... 203 common frames omitted\n            Suppressed: java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos in java.library.path: /Users/erichuang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\n                at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429)\n                at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\n                at java.base/java.lang.System.loadLibrary(System.java:1989)\n                at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n                at io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:410)\n                at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n                at io.netty.util.internal.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:402)\n                at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:368)\n                ... 204 common frames omitted\nCaused by: java.io.FileNotFoundException: META-INF/native/libnetty_resolver_dns_native_macos_aarch_64.jnilib\n    at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:166) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\n    ... 203 common frames omitted\n    Suppressed: java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64 in java.library.path: /Users/erichuang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429) ~[na:na]\nCaused by: java.io.FileNotFoundException: META-INF/native/libnetty_resolver_dns_native_macos_aarch_64.jnilib\n\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818) ~[na:na]\n        at java.base/java.lang.System.loadLibrary(System.java:1989) ~[na:na]\n        at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\n        at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:376) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\n        at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:146) ~[netty-common-4.1.75.Final.jar:4.1.75.Final]\n        ... 203 common frames omitted\n        Suppressed: java.lang.UnsatisfiedLinkError: no netty_resolver_dns_native_macos_aarch_64 in java.library.path: /Users/erichuang/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\n            at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429)\n            at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\n            at java.base/java.lang.System.loadLibrary(System.java:1989)\n            at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n            at io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:410)\n            at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n            at io.netty.util.internal.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:402)\n            at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:368)\n            ... 204 common frames omitted\n</code></pre>\n<p><strong>Question</strong></p>\n<p>Does any one know how to mitigate this error?</p>\n<p><strong>I tired...</strong></p>\n<ul>\n<li><a href=\"https://github.com/netty/netty-tcnative/issues/576\" rel=\"nofollow noreferrer\">https://github.com/netty/netty-tcnative/issues/576</a></li>\n<li><a href=\"https://github.com/netty/netty-tcnative/issues/343\" rel=\"nofollow noreferrer\">https://github.com/netty/netty-tcnative/issues/343</a></li>\n</ul>\n<p>Both of these links suggested to add <code>netty-tcnative-boringssl-static</code> dependency but that didn't work either...</p>\n<p>API-Gateway : <code>build.gradle</code></p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.cloud:spring-cloud-starter-gateway'\n    implementation 'org.springframework.cloud:spring-cloud-starter-netflix-eureka-client'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n\n    // https://mvnrepository.com/artifact/io.netty/netty-tcnative-boringssl-static\n    implementation group: 'io.netty', name: 'netty-tcnative-boringssl-static', version: '2.0.51.Final'\n\n\n}\n\nThanks for helping\n\n</code></pre>\n"},{"tags":["java","activemq","activemq-artemis"],"answers":[{"comments":[{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1456344528,"post_id":35611774,"comment_id":58908026,"body_markdown":"Thanks a lot. After I posted a question I continued searching and came to the same conclusions. I didn&#39;t know the bit about the Artemis though, thanks. So the solution we are going to implement is to wait for the message to be consumed and treat it as cancelled upon consumption.. Thanks again for a nice reply","body":"Thanks a lot. After I posted a question I continued searching and came to the same conclusions. I didn&#39;t know the bit about the Artemis though, thanks. So the solution we are going to implement is to wait for the message to be consumed and treat it as cancelled upon consumption.. Thanks again for a nice reply"}],"tags":[],"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1456343699,"creation_date":1456343699,"answer_id":35611774,"question_id":35581562,"body_markdown":"First off, &#39;[ActiveMQ Artemis][1]&#39; is a sub-project within the ActiveMQ project that represents an entirely new broker with a radically different underlying architecture than the main ActiveMQ broker.  You would run one or the other.\r\n\r\nTo manage messages in the ActiveMQ broker you would use the [JMX Mamagement API][2] and the Queue#remove methods it exposes to remove specific messages.  This can be done using the Message ID or more broadly using a message selector to capture more than one message if need be.  The JMX API is also exposed via Jolokia so that you can manage the broker via simple REST calls instead of the JMX way if you prefer.  \r\n\r\nIn any case this sort of message level management on the broker is a bit of an anti-pattern in the messaging world.  If you find yourself needing to treat the broker as a database then you should ask yourself why you aren&#39;t using a database since a broker is not a database.  Often you will run into many more issues trying to manage your messages this way as opposed to just putting them into a database.  \r\n\r\n\r\n  [1]: https://activemq.apache.org/artemis/\r\n  [2]: http://activemq.apache.org/jmx.html","title":"How to manage messages in ActiveMQ","body":"<p>First off, '<a href=\"https://activemq.apache.org/artemis/\" rel=\"nofollow\">ActiveMQ Artemis</a>' is a sub-project within the ActiveMQ project that represents an entirely new broker with a radically different underlying architecture than the main ActiveMQ broker.  You would run one or the other.</p>\n\n<p>To manage messages in the ActiveMQ broker you would use the <a href=\"http://activemq.apache.org/jmx.html\" rel=\"nofollow\">JMX Mamagement API</a> and the Queue#remove methods it exposes to remove specific messages.  This can be done using the Message ID or more broadly using a message selector to capture more than one message if need be.  The JMX API is also exposed via Jolokia so that you can manage the broker via simple REST calls instead of the JMX way if you prefer.  </p>\n\n<p>In any case this sort of message level management on the broker is a bit of an anti-pattern in the messaging world.  If you find yourself needing to treat the broker as a database then you should ask yourself why you aren't using a database since a broker is not a database.  Often you will run into many more issues trying to manage your messages this way as opposed to just putting them into a database.  </p>\n"}],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":918,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":35611774,"answer_count":1,"score":0,"last_activity_date":1696820355,"creation_date":1456241405,"question_id":35581562,"body_markdown":"I have Apache ActiveMQ &quot;Classic&quot; embedded into my Java 8 server-side project. Its working fine, and I am able to send and consume messages from pre-configured queues. I now need to be able programatically remove messages from the queue upon request. After reading some docs I found that Apache ActiveMQ has a sub-project called ActiveMQ Artemis that seems to provide the required functionality, but I am a bit confused on how to do it. Is Artemis sort of plugin on top of ActiveMQ &quot;Classic&quot; and I just need to add required dependencies and use the tools or is it a separate product and it doesn&#39;t work with ActiveMQ &quot;Classic&quot; but instead as an independent product. If so how do I manage individual messages (in particular delete requested message) in ActiveMQ &quot;Classic&quot;?","title":"How to manage messages in ActiveMQ","body":"<p>I have Apache ActiveMQ &quot;Classic&quot; embedded into my Java 8 server-side project. Its working fine, and I am able to send and consume messages from pre-configured queues. I now need to be able programatically remove messages from the queue upon request. After reading some docs I found that Apache ActiveMQ has a sub-project called ActiveMQ Artemis that seems to provide the required functionality, but I am a bit confused on how to do it. Is Artemis sort of plugin on top of ActiveMQ &quot;Classic&quot; and I just need to add required dependencies and use the tools or is it a separate product and it doesn't work with ActiveMQ &quot;Classic&quot; but instead as an independent product. If so how do I manage individual messages (in particular delete requested message) in ActiveMQ &quot;Classic&quot;?</p>\n"},{"tags":["java","jms"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1445093255,"post_id":33187596,"comment_id":54181588,"body_markdown":"your question is currently unclear, you are going to need to provide some more details and possibly some code samples to clarify what you are asking.","body":"your question is currently unclear, you are going to need to provide some more details and possibly some code samples to clarify what you are asking."}],"answers":[{"tags":[],"owner":{"account_id":179840,"reputation":22133,"user_id":412763,"accept_rate":91,"display_name":"Petter Nordlander"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696820168,"creation_date":1445198777,"answer_id":33202652,"question_id":33187596,"body_markdown":"So, given you publish to a topic, you want to consume the messages from a queue. I assume you use ActiveMQ since you added that tag.\r\n\r\nThe main reason for this setup is to be able to load balance multiple cluster nodes of the consumer. Plain durable subscriptions won&#39;t allow that in JMS 1.x. I guess your case is similar.\r\n\r\n* In generic JMS, this is not possible. However, in JMS 2.0 durable subscriptions can be load balanced and hence work a bit like queues. Not all JMS brokers implements JMS 2.0. ActiveMQ does not implement JMS 2.0, but ActiveMQ Artemis does.\r\n\r\n* ActiveMQ allows this by a concept called Virtual Topics. Using [Virtual Topics][1] you can give the topic a certain name, say VirtualTopic.MyTopic would forward all published messages to any created queue that matches Consumer.MyConsumer.VirtualTopic.MyTopic.\r\n\r\nExample topic name: \r\n\r\n - VirtualTopic.GameScores\r\n\r\nExample queue names: \r\n\r\n - Consumer.ScoreBoardService.VirtualTopic.GameScores \r\n - Consumer.BettingService.VirtualTopic.GameScores\r\n\r\n  [1]: http://activemq.apache.org/virtual-destinations.html","title":"JMS topic receive in a Queue listener","body":"<p>So, given you publish to a topic, you want to consume the messages from a queue. I assume you use ActiveMQ since you added that tag.</p>\n<p>The main reason for this setup is to be able to load balance multiple cluster nodes of the consumer. Plain durable subscriptions won't allow that in JMS 1.x. I guess your case is similar.</p>\n<ul>\n<li><p>In generic JMS, this is not possible. However, in JMS 2.0 durable subscriptions can be load balanced and hence work a bit like queues. Not all JMS brokers implements JMS 2.0. ActiveMQ does not implement JMS 2.0, but ActiveMQ Artemis does.</p>\n</li>\n<li><p>ActiveMQ allows this by a concept called Virtual Topics. Using <a href=\"http://activemq.apache.org/virtual-destinations.html\" rel=\"nofollow noreferrer\">Virtual Topics</a> you can give the topic a certain name, say VirtualTopic.MyTopic would forward all published messages to any created queue that matches Consumer.MyConsumer.VirtualTopic.MyTopic.</p>\n</li>\n</ul>\n<p>Example topic name:</p>\n<ul>\n<li>VirtualTopic.GameScores</li>\n</ul>\n<p>Example queue names:</p>\n<ul>\n<li>Consumer.ScoreBoardService.VirtualTopic.GameScores</li>\n<li>Consumer.BettingService.VirtualTopic.GameScores</li>\n</ul>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":33202652,"answer_count":1,"score":0,"last_activity_date":1696820203,"creation_date":1445091217,"question_id":33187596,"body_markdown":"I have a question regarding JMS. I&#39;ve been checking some blogs, where show how a sending topic message can be receive by a queue listener. It is that even possible, as far as I know only a client subscribe to a particular topic can receive a message published. ","title":"JMS topic receive in a Queue listener","body":"<p>I have a question regarding JMS. I've been checking some blogs, where show how a sending topic message can be receive by a queue listener. It is that even possible, as far as I know only a client subscribe to a particular topic can receive a message published.</p>\n"},{"tags":["java","image","user-interface","netbeans"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696850990,"post_id":77256046,"comment_id":136201524,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28404178,"reputation":1,"user_id":21728505,"display_name":"Jenny king"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696820081,"creation_date":1696820081,"question_id":77256046,"body_markdown":"whenever I tried to had a new package for images and import them this error is shown  \r\nFailed to execute goal org.codehaus.mojo:exec-maven-plugin:3.1.0:exec (default-cli) on project Juego: Command execution failed.: Process exited with an error: 1 (Exit value: 1) -\\&gt; \\[Help 1\\]\r\n\r\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\r\n\r\nRe-run Maven using the -X switch to enable full debug logging.\r\n\r\nFor more information about the errors and possible solutions, please read the following articles:\r\n\r\n\\[Help 1\\] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\ni do not know why, if I use the local path this doesnt happen, but If I try to have the package with the images it automatically fails.\r\n\r\nI try making a package a folder, putting it in the same folder as the proyect but its no use.\r\n\r\nI did exactly like indicated in: https://netbeans.apache.org/kb/docs/java/gui-image-display.html#:~:text=In%20the%20icon%20property%20dialog,newpackage%20folder%20and%20click%20Finish.\r\n\r\nbut i dont dont, netbeans its just hard to look at","title":"Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.1.0:exec","body":"<p>whenever I tried to had a new package for images and import them this error is shown<br />\nFailed to execute goal org.codehaus.mojo:exec-maven-plugin:3.1.0:exec (default-cli) on project Juego: Command execution failed.: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]</p>\n<p>To see the full stack trace of the errors, re-run Maven with the -e switch.</p>\n<p>Re-run Maven using the -X switch to enable full debug logging.</p>\n<p>For more information about the errors and possible solutions, please read the following articles:</p>\n<p>[Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException</a></p>\n<p>i do not know why, if I use the local path this doesnt happen, but If I try to have the package with the images it automatically fails.</p>\n<p>I try making a package a folder, putting it in the same folder as the proyect but its no use.</p>\n<p>I did exactly like indicated in: <a href=\"https://netbeans.apache.org/kb/docs/java/gui-image-display.html#:%7E:text=In%20the%20icon%20property%20dialog,newpackage%20folder%20and%20click%20Finish\" rel=\"nofollow noreferrer\">https://netbeans.apache.org/kb/docs/java/gui-image-display.html#:~:text=In%20the%20icon%20property%20dialog,newpackage%20folder%20and%20click%20Finish</a>.</p>\n<p>but i dont dont, netbeans its just hard to look at</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-session"],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696818312,"creation_date":1696818312,"answer_id":77255989,"question_id":77255457,"body_markdown":"        CustomFilter mupaf = new CustomFilter();\r\n        mupaf.setAuthenticationManager(authConfig.getAuthenticationManager());\r\n        SecurityContextRepository securityContextRepository = http.getSharedObject(SecurityContextRepository.class);\r\n        if (securityContextRepository == null) {\r\n            mupaf.setSecurityContextRepository(new DelegatingSecurityContextRepository(new RequestAttributeSecurityContextRepository(), new HttpSessionSecurityContextRepository()));\r\n        }","title":"springboot 3.1.3 problem with customfilter extending AbstractAuthenticationProcessingFilter","body":"<pre><code>    CustomFilter mupaf = new CustomFilter();\n    mupaf.setAuthenticationManager(authConfig.getAuthenticationManager());\n    SecurityContextRepository securityContextRepository = http.getSharedObject(SecurityContextRepository.class);\n    if (securityContextRepository == null) {\n        mupaf.setSecurityContextRepository(new DelegatingSecurityContextRepository(new RequestAttributeSecurityContextRepository(), new HttpSessionSecurityContextRepository()));\n    }\n</code></pre>\n"}],"owner":{"account_id":29627933,"reputation":13,"user_id":22707098,"display_name":"Rych"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77255989,"answer_count":1,"score":1,"last_activity_date":1696818312,"creation_date":1696801766,"question_id":77255457,"body_markdown":"So I have observed that when I am trying to use custom filter in security chain, i am not getting session cookie... Why i am doing that ? Because i want to send username and password in JSON not in query string...\r\n\r\nI based on this:\r\n\r\nhttps://ckinan.com/blog/spring-security-credentials-from-json-request/\r\n\r\nI checked that:\r\n\r\nhttps://stackoverflow.com/questions/35724278/spring-security-send-credentials-as-json-instead-of-regular-form-in-rest-servic\r\n\r\n\r\nMy custom filter:\r\n\r\n\r\n```\r\npublic class CustomFilter extends AbstractAuthenticationProcessingFilter {\r\n    protected CustomFilter() {\r\n        super(new AntPathRequestMatcher(&quot;/login&quot;, &quot;POST&quot;));\r\n    }\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(\r\n            HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n\r\n        String username, password;\r\n\r\n        try {\r\n            Map&lt;String, String&gt; requestMap = new ObjectMapper().readValue(request.getInputStream(), Map.class);\r\n            username = requestMap.get(&quot;username&quot;);\r\n            password = requestMap.get(&quot;password&quot;);\r\n        } catch (IOException e) {\r\n            throw new AuthenticationServiceException(e.getMessage(), e);\r\n        }\r\n\r\n        UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(\r\n                username, password);\r\n\r\n        return this.getAuthenticationManager().authenticate(authRequest);\r\n    }\r\n}\r\n```\r\n\r\nmy securityConfig:\r\n\r\n``` @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n        return authConfig.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        CustomFilter mupaf = new CustomFilter();\r\n        mupaf.setAuthenticationManager(authenticationManager(authenticationManagerBuilder));\r\n\r\n        http.csrf(AbstractHttpConfigurer::disable)\r\n                .sessionManagement((sessionManagement) -&gt;\r\n                        sessionManagement.sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\r\n                                .sessionFixation().changeSessionId())\r\n                .authorizeHttpRequests((authorizeHttpRequests) -&gt;\r\n                        authorizeHttpRequests.requestMatchers(&quot;/index&quot;).permitAll()\r\n                                .requestMatchers(&quot;/login&quot;).permitAll()\r\n                                .anyRequest().authenticated()\r\n                ).addFilterAt(mupaf, UsernamePasswordAuthenticationFilter.class\r\n                )\r\n                .logout((logout) -&gt;\r\n                        logout.deleteCookies(&quot;remove&quot;)\r\n                                .invalidateHttpSession(false)\r\n                                .logoutSuccessUrl(&quot;/index&quot;)\r\n                );\r\n        return http.build();\r\n    }\r\n```\r\nserver answer:\r\n\r\n```\r\n❯ curl -X POST http://localhost:8080/login -H &#39;Content-Type: application/json&#39; -d &#39;{&quot;username&quot;:&quot;admin&quot;,&quot;password&quot;:&quot;pass&quot;}&#39; -i\r\nHTTP/1.1 302\r\nX-Content-Type-Options: nosniff\r\nX-XSS-Protection: 0\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\nPragma: no-cache\r\nExpires: 0\r\nX-Frame-Options: DENY\r\nLocation: http://localhost:8080/\r\nContent-Length: 0\r\nDate: Sun, 08 Oct 2023 21:39:46 GMT\r\n```\r\n\r\nWhen I disable filter response is:\r\n\r\n```\r\n❯ curl -X POST http://localhost:8080/login\\?username\\=ADMIN\\&amp;password\\=pass -i\r\nHTTP/1.1 302\r\nSet-Cookie: SESSION=40E7A645752D0AACFA52C79D5DEA10EF; Path=/; HttpOnly\r\nX-Content-Type-Options: nosniff\r\nX-XSS-Protection: 0\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\nPragma: no-cache\r\nExpires: 0\r\nX-Frame-Options: DENY\r\nLocation: http://localhost:8080/\r\nContent-Length: 0\r\nDate: Sun, 08 Oct 2023 21:41:20 GMT\r\n```\r\n\r\nAnd security config looks like that:\r\n\r\n```    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.csrf(AbstractHttpConfigurer::disable)\r\n                .sessionManagement((sessionManagement) -&gt;\r\n                        sessionManagement.sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\r\n                                .sessionFixation().changeSessionId())\r\n                .authorizeHttpRequests((authorizeHttpRequests) -&gt;\r\n                        authorizeHttpRequests.requestMatchers(&quot;/index&quot;).permitAll()\r\n                                .requestMatchers(&quot;/login&quot;).permitAll()\r\n                                .anyRequest().authenticated()\r\n                ).formLogin((formLogin) -&gt;\r\n                        formLogin.defaultSuccessUrl(&quot;/success&quot;, true)\r\n                                .failureHandler(customLoginFailureHandler)\r\n                                .successHandler(customLoginSuccessHandler)\r\n                )\r\n                .logout((logout) -&gt;\r\n                        logout.deleteCookies(&quot;remove&quot;)\r\n                                .invalidateHttpSession(false)\r\n                                .logoutSuccessUrl(&quot;/index&quot;)\r\n                );\r\n        return http.build();\r\n    }\r\n```\r\n","title":"springboot 3.1.3 problem with customfilter extending AbstractAuthenticationProcessingFilter","body":"<p>So I have observed that when I am trying to use custom filter in security chain, i am not getting session cookie... Why i am doing that ? Because i want to send username and password in JSON not in query string...</p>\n<p>I based on this:</p>\n<p><a href=\"https://ckinan.com/blog/spring-security-credentials-from-json-request/\" rel=\"nofollow noreferrer\">https://ckinan.com/blog/spring-security-credentials-from-json-request/</a></p>\n<p>I checked that:</p>\n<p><a href=\"https://stackoverflow.com/questions/35724278/spring-security-send-credentials-as-json-instead-of-regular-form-in-rest-servic\">Spring security- Send credentials as json instead of regular form in rest service</a></p>\n<p>My custom filter:</p>\n<pre><code>public class CustomFilter extends AbstractAuthenticationProcessingFilter {\n    protected CustomFilter() {\n        super(new AntPathRequestMatcher(&quot;/login&quot;, &quot;POST&quot;));\n    }\n\n    @Override\n    public Authentication attemptAuthentication(\n            HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n\n        String username, password;\n\n        try {\n            Map&lt;String, String&gt; requestMap = new ObjectMapper().readValue(request.getInputStream(), Map.class);\n            username = requestMap.get(&quot;username&quot;);\n            password = requestMap.get(&quot;password&quot;);\n        } catch (IOException e) {\n            throw new AuthenticationServiceException(e.getMessage(), e);\n        }\n\n        UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(\n                username, password);\n\n        return this.getAuthenticationManager().authenticate(authRequest);\n    }\n}\n</code></pre>\n<p>my securityConfig:</p>\n<pre><code>    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        CustomFilter mupaf = new CustomFilter();\n        mupaf.setAuthenticationManager(authenticationManager(authenticationManagerBuilder));\n\n        http.csrf(AbstractHttpConfigurer::disable)\n                .sessionManagement((sessionManagement) -&gt;\n                        sessionManagement.sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\n                                .sessionFixation().changeSessionId())\n                .authorizeHttpRequests((authorizeHttpRequests) -&gt;\n                        authorizeHttpRequests.requestMatchers(&quot;/index&quot;).permitAll()\n                                .requestMatchers(&quot;/login&quot;).permitAll()\n                                .anyRequest().authenticated()\n                ).addFilterAt(mupaf, UsernamePasswordAuthenticationFilter.class\n                )\n                .logout((logout) -&gt;\n                        logout.deleteCookies(&quot;remove&quot;)\n                                .invalidateHttpSession(false)\n                                .logoutSuccessUrl(&quot;/index&quot;)\n                );\n        return http.build();\n    }\n</code></pre>\n<p>server answer:</p>\n<pre><code>❯ curl -X POST http://localhost:8080/login -H 'Content-Type: application/json' -d '{&quot;username&quot;:&quot;admin&quot;,&quot;password&quot;:&quot;pass&quot;}' -i\nHTTP/1.1 302\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 0\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nX-Frame-Options: DENY\nLocation: http://localhost:8080/\nContent-Length: 0\nDate: Sun, 08 Oct 2023 21:39:46 GMT\n</code></pre>\n<p>When I disable filter response is:</p>\n<pre><code>❯ curl -X POST http://localhost:8080/login\\?username\\=ADMIN\\&amp;password\\=pass -i\nHTTP/1.1 302\nSet-Cookie: SESSION=40E7A645752D0AACFA52C79D5DEA10EF; Path=/; HttpOnly\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 0\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nX-Frame-Options: DENY\nLocation: http://localhost:8080/\nContent-Length: 0\nDate: Sun, 08 Oct 2023 21:41:20 GMT\n</code></pre>\n<p>And security config looks like that:</p>\n<pre><code>    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf(AbstractHttpConfigurer::disable)\n                .sessionManagement((sessionManagement) -&gt;\n                        sessionManagement.sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\n                                .sessionFixation().changeSessionId())\n                .authorizeHttpRequests((authorizeHttpRequests) -&gt;\n                        authorizeHttpRequests.requestMatchers(&quot;/index&quot;).permitAll()\n                                .requestMatchers(&quot;/login&quot;).permitAll()\n                                .anyRequest().authenticated()\n                ).formLogin((formLogin) -&gt;\n                        formLogin.defaultSuccessUrl(&quot;/success&quot;, true)\n                                .failureHandler(customLoginFailureHandler)\n                                .successHandler(customLoginSuccessHandler)\n                )\n                .logout((logout) -&gt;\n                        logout.deleteCookies(&quot;remove&quot;)\n                                .invalidateHttpSession(false)\n                                .logoutSuccessUrl(&quot;/index&quot;)\n                );\n        return http.build();\n    }\n</code></pre>\n"},{"tags":["java","spring-mvc","resttemplate","spring-rest"],"comments":[{"owner":{"account_id":9317260,"reputation":165,"user_id":6917208,"display_name":"Adam McClenaghan"},"score":0,"creation_date":1556628406,"post_id":55921261,"comment_id":98496170,"body_markdown":"You haven&#39;t attached any exception message","body":"You haven&#39;t attached any exception message"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1556628486,"post_id":55921261,"comment_id":98496225,"body_markdown":"I can&#39;t really see where you did something wrong. Do you manually configure jackson or just use the one spring provides?","body":"I can&#39;t really see where you did something wrong. Do you manually configure jackson or just use the one spring provides?"},{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1556628687,"post_id":55921261,"comment_id":98496350,"body_markdown":"Possible duplicate of [HttpMessageConverter exception : RestClientException: Could not write request: no suitable HttpMessageConverter found](https://stackoverflow.com/questions/54656530/httpmessageconverter-exception-restclientexception-could-not-write-request-n) try this, should solve your problem","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/54656530/httpmessageconverter-exception-restclientexception-could-not-write-request-n\">HttpMessageConverter exception : RestClientException: Could not write request: no suitable HttpMessageConverter found</a> try this, should solve your problem"},{"owner":{"account_id":13071224,"reputation":857,"user_id":9444720,"display_name":"GeekySelene"},"score":0,"creation_date":1556629475,"post_id":55921261,"comment_id":98496856,"body_markdown":"@AdamMcClenaghan sorry I updated the question.","body":"@AdamMcClenaghan sorry I updated the question."},{"owner":{"account_id":13071224,"reputation":857,"user_id":9444720,"display_name":"GeekySelene"},"score":0,"creation_date":1556632574,"post_id":55921261,"comment_id":98498695,"body_markdown":"@Lino im using jackson","body":"@Lino im using jackson"}],"answers":[{"comments":[{"owner":{"account_id":9273909,"reputation":3750,"user_id":6887084,"display_name":"ScanQR"},"score":0,"creation_date":1556632781,"post_id":55922448,"comment_id":98498849,"body_markdown":"@GeekySelene ok i have updated my answer check if that solves the issue","body":"@GeekySelene ok i have updated my answer check if that solves the issue"},{"owner":{"account_id":13071224,"reputation":857,"user_id":9444720,"display_name":"GeekySelene"},"score":0,"creation_date":1556632895,"post_id":55922448,"comment_id":98498928,"body_markdown":"what is the &#39;request&#39; here?","body":"what is the &#39;request&#39; here?"},{"owner":{"account_id":9273909,"reputation":3750,"user_id":6887084,"display_name":"ScanQR"},"score":0,"creation_date":1556632958,"post_id":55922448,"comment_id":98498974,"body_markdown":"i am trying your issue with POST request but you can ignore that.","body":"i am trying your issue with POST request but you can ignore that."}],"tags":[],"owner":{"account_id":9273909,"reputation":3750,"user_id":6887084,"display_name":"ScanQR"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556633367,"creation_date":1556632334,"answer_id":55922448,"question_id":55921261,"body_markdown":"Try additional settings as follows,\r\n\r\n   \r\n\r\n    httpHeaders.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n    httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n\r\nAlso fix your exchange call,\r\n\r\n    ResponseEntity&lt;List&lt;LeadUser&gt;&gt; response = restTemplate.exchange(\r\n                adminApiUrl, HttpMethod.GET, entity, new ParameterizedTypeReference&lt;List&lt;LeadUser&gt;&gt;(){});","title":"No suitable HttpMessageConverter found for response type and content type [application/json;charset=UTF-8] exception occurs","body":"<p>Try additional settings as follows,</p>\n\n<pre><code>httpHeaders.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\nhttpHeaders.setContentType(MediaType.APPLICATION_JSON);\n</code></pre>\n\n<p>Also fix your exchange call,</p>\n\n<pre><code>ResponseEntity&lt;List&lt;LeadUser&gt;&gt; response = restTemplate.exchange(\n            adminApiUrl, HttpMethod.GET, entity, new ParameterizedTypeReference&lt;List&lt;LeadUser&gt;&gt;(){});\n</code></pre>\n"}],"owner":{"account_id":13071224,"reputation":857,"user_id":9444720,"display_name":"GeekySelene"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14585,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696816965,"creation_date":1556628317,"question_id":55921261,"body_markdown":"Im trying to hit Spring REST endpoint in my other module of the application. So im trying to use the REST Template to get a list of users as below :\r\n\r\nThe API request using REST Template :\r\n\r\n    public List&lt;LeadUser&gt; getUsersBySignUpType(String type, String id) {\r\n\r\n        String adminApiUrl = adminApiBaseUrl+&quot;/crm/v1/users/?type=&quot;+type+&quot;&amp;id=&quot;+id;\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(org.springframework.http.MediaType.APPLICATION_JSON);\r\n        HttpEntity entity = new HttpEntity(headers);\r\n        ResponseEntity&lt;LeadUserList&gt; response = restTemplate.exchange(\r\n                adminApiUrl, HttpMethod.GET, entity, LeadUserList.class);\r\n        return response.getBody().getUsersList();\r\n    }\r\n\r\nLeadUserList class : \r\n\r\n    public class LeadUserList {\r\n\r\n        private List&lt;LeadUser&gt; usersList;\r\n\r\n        public List&lt;LeadUser&gt; getUsersList() {\r\n            return usersList;\r\n        }\r\n    }\r\n\r\nLeadUser model class : \r\n\r\n    public class LeadUser {\r\n\r\n        @JsonProperty(&quot;id&quot;)\r\n        private String id;\r\n        @JsonProperty(&quot;email&quot;)\r\n        private String email;\r\n        @JsonProperty(&quot;name&quot;)\r\n        private String name;\r\n        @JsonProperty(&quot;businessName&quot;)\r\n        private String businessName;\r\n        @JsonProperty(&quot;phone&quot;)\r\n        private String phone;\r\n        @JsonProperty(&quot;address&quot;)\r\n        private String address;\r\n        @JsonProperty(&quot;createdTime&quot;)\r\n        @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n        private Date createdTime;\r\n        @JsonProperty(&quot;updatedTime&quot;)\r\n        @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n        private Date updatedTime;\r\n        @JsonProperty(&quot;bookletSignups&quot;)\r\n        private BookletSignUp bookletSignUp;\r\n        @JsonProperty(&quot;eventSignups&quot;)\r\n        private EventSignUp eventSignUp;\r\n        @JsonProperty(&quot;infoSignups&quot;)\r\n        private InfoSignUp infoSignUp;\r\n        @JsonProperty(&quot;webinarSignups&quot;)\r\n        private WebinarSignUp webinarSignUp;\r\n\r\n        public LeadUser() {\r\n        }\r\n    }\r\n\r\nThe API endpoint controller class :\r\n\r\n    @Controller\r\n    @Component\r\n    @RequestMapping(path = &quot;/crm/v1&quot;)\r\n    public class UserController {\r\n\r\n        @Autowired\r\n        UserService userService;\r\n\r\n        @RequestMapping(value = &quot;/users&quot;, method = GET,produces = &quot;application/json&quot;)\r\n        @ResponseBody\r\n        public ResponseEntity&lt;List&lt;User&gt;&gt; getPartnersByDate(@RequestParam(&quot;type&quot;) String type, \r\n        @RequestParam(&quot;id&quot;) String id) throws ParseException {\r\n\r\n            List&lt;User&gt; usersList = userService.getUsersByType(type);\r\n            return new ResponseEntity&lt;List&lt;User&gt;&gt;(usersList, HttpStatus.OK);\r\n        }\r\n    }\r\n\r\nAlthough the return type is JSON from the API endpoint im getting the above exception. What have I done wrong here? \r\n\r\nThe exception :\r\n\r\n    Could not extract response: no suitable HttpMessageConverter found for response type [class admin.client.domain.LeadUserList] and content type [application/json]","title":"No suitable HttpMessageConverter found for response type and content type [application/json;charset=UTF-8] exception occurs","body":"<p>Im trying to hit Spring REST endpoint in my other module of the application. So im trying to use the REST Template to get a list of users as below :</p>\n\n<p>The API request using REST Template :</p>\n\n<pre><code>public List&lt;LeadUser&gt; getUsersBySignUpType(String type, String id) {\n\n    String adminApiUrl = adminApiBaseUrl+\"/crm/v1/users/?type=\"+type+\"&amp;id=\"+id;\n    RestTemplate restTemplate = new RestTemplate();\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(org.springframework.http.MediaType.APPLICATION_JSON);\n    HttpEntity entity = new HttpEntity(headers);\n    ResponseEntity&lt;LeadUserList&gt; response = restTemplate.exchange(\n            adminApiUrl, HttpMethod.GET, entity, LeadUserList.class);\n    return response.getBody().getUsersList();\n}\n</code></pre>\n\n<p>LeadUserList class : </p>\n\n<pre><code>public class LeadUserList {\n\n    private List&lt;LeadUser&gt; usersList;\n\n    public List&lt;LeadUser&gt; getUsersList() {\n        return usersList;\n    }\n}\n</code></pre>\n\n<p>LeadUser model class : </p>\n\n<pre><code>public class LeadUser {\n\n    @JsonProperty(\"id\")\n    private String id;\n    @JsonProperty(\"email\")\n    private String email;\n    @JsonProperty(\"name\")\n    private String name;\n    @JsonProperty(\"businessName\")\n    private String businessName;\n    @JsonProperty(\"phone\")\n    private String phone;\n    @JsonProperty(\"address\")\n    private String address;\n    @JsonProperty(\"createdTime\")\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n    private Date createdTime;\n    @JsonProperty(\"updatedTime\")\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n    private Date updatedTime;\n    @JsonProperty(\"bookletSignups\")\n    private BookletSignUp bookletSignUp;\n    @JsonProperty(\"eventSignups\")\n    private EventSignUp eventSignUp;\n    @JsonProperty(\"infoSignups\")\n    private InfoSignUp infoSignUp;\n    @JsonProperty(\"webinarSignups\")\n    private WebinarSignUp webinarSignUp;\n\n    public LeadUser() {\n    }\n}\n</code></pre>\n\n<p>The API endpoint controller class :</p>\n\n<pre><code>@Controller\n@Component\n@RequestMapping(path = \"/crm/v1\")\npublic class UserController {\n\n    @Autowired\n    UserService userService;\n\n    @RequestMapping(value = \"/users\", method = GET,produces = \"application/json\")\n    @ResponseBody\n    public ResponseEntity&lt;List&lt;User&gt;&gt; getPartnersByDate(@RequestParam(\"type\") String type, \n    @RequestParam(\"id\") String id) throws ParseException {\n\n        List&lt;User&gt; usersList = userService.getUsersByType(type);\n        return new ResponseEntity&lt;List&lt;User&gt;&gt;(usersList, HttpStatus.OK);\n    }\n}\n</code></pre>\n\n<p>Although the return type is JSON from the API endpoint im getting the above exception. What have I done wrong here? </p>\n\n<p>The exception :</p>\n\n<pre><code>Could not extract response: no suitable HttpMessageConverter found for response type [class admin.client.domain.LeadUserList] and content type [application/json]\n</code></pre>\n"},{"tags":["java","wildfly","jndi","ejb-3.1"],"comments":[{"owner":{"account_id":2391416,"reputation":3895,"user_id":2091200,"display_name":"Abhijith Nagarajan"},"score":1,"creation_date":1553602125,"post_id":55355503,"comment_id":97437094,"body_markdown":"Is it remote EJB that you are trying to connect? The error message says you do not have anything running on 8080 to connect to.","body":"Is it remote EJB that you are trying to connect? The error message says you do not have anything running on 8080 to connect to."},{"owner":{"account_id":8652806,"reputation":23,"user_id":6477937,"display_name":"david"},"score":0,"creation_date":1553602975,"post_id":55355503,"comment_id":97437626,"body_markdown":"hi\nyes i am trying to connect remote ejb. \ni have successfully deployed .ear file on the wildfly console and when i start the wildfly server it shows the below line in the logs---------------------------\n  [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0006: Undertow HTTP listener default listening on 127.0.0.1:8080","body":"hi yes i am trying to connect remote ejb.  i have successfully deployed .ear file on the wildfly console and when i start the wildfly server it shows the below line in the logs---------------------------   [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0006: Undertow HTTP listener default listening on 127.0.0.1:8080"},{"owner":{"account_id":2391416,"reputation":3895,"user_id":2091200,"display_name":"Abhijith Nagarajan"},"score":0,"creation_date":1553604086,"post_id":55355503,"comment_id":97438412,"body_markdown":"This article might help you https://www.baeldung.com/wildfly-ejb-jndi","body":"This article might help you <a href=\"https://www.baeldung.com/wildfly-ejb-jndi\" rel=\"nofollow noreferrer\">baeldung.com/wildfly-ejb-jndi</a>"},{"owner":{"account_id":8652806,"reputation":23,"user_id":6477937,"display_name":"david"},"score":0,"creation_date":1553604551,"post_id":55355503,"comment_id":97438741,"body_markdown":"I have already made the changes using this article but still i am getting this exception. Please Help me out.","body":"I have already made the changes using this article but still i am getting this exception. Please Help me out."},{"owner":{"account_id":8652806,"reputation":23,"user_id":6477937,"display_name":"david"},"score":0,"creation_date":1553604977,"post_id":55355503,"comment_id":97439042,"body_markdown":"When i deploy the .ear file on wildfly console i am not getting the jndi namespaces logs\njava:global/EJBWildFly-1.0-SNAPSHOT/TextProcessorBean!com.gct.interfaces.TextProcessorRemote\n\tjava:app/EJBWildFly-1.0-SNAPSHOT/TextProcessorBean!com.gct.interfaces.TextProcessorRemote\n\tjava:module/TextProcessorBean!com.gct.interfaces.TextProcessorRemote\n\tjava:jboss/exported/EJBWildFly-1.0-SNAPSHOT/TextProcessorBean!com.gct.interfaces.TextProcessorRemote\n\tjava:global/EJBWildFly-1.0-SNAPSHOT/TextProcessorBean\n\tjava:app/EJBWildFly-1.0-SNAPSHOT/TextProcessorBean\n\tjava:module/TextProcessorBean","body":"When i deploy the .ear file on wildfly console i am not getting the jndi namespaces logs java:global/EJBWildFly-1.0-SNAPSHOT/TextProcessorBean!com.gc&zwnj;&#8203;t.interfaces.TextPro&zwnj;&#8203;cessorRemote \tjava:app/EJBWildFly-1.0-SNAPSHOT/TextProcessorBean!com.gct.&zwnj;&#8203;interfaces.TextProce&zwnj;&#8203;ssorRemote \tjava:module/TextProcessorBean!com.gct.interfaces.TextProces&zwnj;&#8203;sorRemote \tjava:jboss/exported/EJBWildFly-1.0-SNAPSHOT/TextProcessorBe&zwnj;&#8203;an!com.gct.interface&zwnj;&#8203;s.TextProcessorRemot&zwnj;&#8203;e \tjava:global/EJBWildFly-1.0-SNAPSHOT/TextProcessorBean \tjava:app/EJBWildFly-1.0-SNAPSHOT/TextProcessorBean \tjava:module/TextProcessorBean"},{"owner":{"account_id":2391416,"reputation":3895,"user_id":2091200,"display_name":"Abhijith Nagarajan"},"score":0,"creation_date":1553605686,"post_id":55355503,"comment_id":97439586,"body_markdown":"Do you have the required class and interface with right annotations?","body":"Do you have the required class and interface with right annotations?"},{"owner":{"account_id":8652806,"reputation":23,"user_id":6477937,"display_name":"david"},"score":0,"creation_date":1553607127,"post_id":55355503,"comment_id":97440591,"body_markdown":"This is my code looks like \n\n@Remote(MyRemote.class) @Stateless @RolesAllowed(&quot;user&quot;) public class MyAdminBean implements MyRemote, MyLocal {}@Remote public interface MyRemote extends MyAdminImpl{}@Local public interface MyLocal extends MyAdminImpl{}","body":"This is my code looks like   @Remote(MyRemote.class) @Stateless @RolesAllowed(&quot;user&quot;) public class MyAdminBean implements MyRemote, MyLocal {}@Remote public interface MyRemote extends MyAdminImpl{}@Local public interface MyLocal extends MyAdminImpl{}"},{"owner":{"account_id":938600,"reputation":566,"user_id":967088,"display_name":"Will Tatam"},"score":0,"creation_date":1553676032,"post_id":55355503,"comment_id":97468014,"body_markdown":"I would try and deploy the remote ejb example from the quickstarts, so you know your server setup works, then compare their code to yours. Remember it might he the classpath that&#39;s the issue rather than the code. It&#39;s best to use the ejb BOM in your POM","body":"I would try and deploy the remote ejb example from the quickstarts, so you know your server setup works, then compare their code to yours. Remember it might he the classpath that&#39;s the issue rather than the code. It&#39;s best to use the ejb BOM in your POM"},{"owner":{"account_id":3877614,"reputation":181,"user_id":6951847,"display_name":"erod"},"score":0,"creation_date":1646418077,"post_id":55355503,"comment_id":126126258,"body_markdown":"Hello @David, Im &#237;n the same situation, could you connect from cliente to server JNDI?","body":"Hello @David, Im &#237;n the same situation, could you connect from cliente to server JNDI?"}],"answers":[{"comments":[{"owner":{"account_id":8652806,"reputation":23,"user_id":6477937,"display_name":"david"},"score":0,"creation_date":1553680448,"post_id":55372955,"comment_id":97470685,"body_markdown":"Actually, we are migrating the application from jboss 5 to wildfly 12 and in line config.put(Context.INITIAL_CONTEXT_FACTORY, JNP_NAMING_CONTEXT_FACTORY); the JNP_NAMING_CONTEXT_FACTORY is just a variable and the value of JNP_NAMING_CONTEXT_FACTORY = &quot;org.wildfly.naming.client.WildFlyInitialContextFactory&quot;;","body":"Actually, we are migrating the application from jboss 5 to wildfly 12 and in line config.put(Context.INITIAL_CONTEXT_FACTORY, JNP_NAMING_CONTEXT_FACTORY); the JNP_NAMING_CONTEXT_FACTORY is just a variable and the value of JNP_NAMING_CONTEXT_FACTORY = &quot;org.wildfly.naming.client.WildFlyInitialContextFactory&quot;;"}],"tags":[],"owner":{"account_id":938600,"reputation":566,"user_id":967088,"display_name":"Will Tatam"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553676262,"creation_date":1553676262,"answer_id":55372955,"question_id":55355503,"body_markdown":"You&#39;re initial context factory may be wrong, you don&#39;t show the value for that, but the name of that constant implies is still the only jnp protocol","title":"EJBCLIENT000409: No more destinations are available","body":"<p>You're initial context factory may be wrong, you don't show the value for that, but the name of that constant implies is still the only jnp protocol</p>\n"},{"tags":[],"owner":{"account_id":3811602,"reputation":567,"user_id":3162265,"display_name":"Erhard Siegl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554241796,"creation_date":1554241796,"answer_id":55484053,"question_id":55355503,"body_markdown":"When you are using `org.jboss.ejb.client.naming`, the connection is usually defined in a file named `jboss-ejb-client.properties`. You provided it in the map for `jndi.properties`. The `jboss-ejb-client.properties` looks like this:\r\n```\r\nremote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED=false\r\nremote.connections=default\r\nremote.connection.default.host=localhost\r\nremote.connection.default.port = 8080\r\nremote.connection.default.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS=false\r\nremote.connection.two.host=localhost\r\nremote.connection.two.port = 8080\r\nremote.connection.two.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS=false\r\n```\r\nIf this works, but you don&#39;t want to use a file for the connection-properties, you may take a look on https://developer.jboss.org/thread/202008","title":"EJBCLIENT000409: No more destinations are available","body":"<p>When you are using <code>org.jboss.ejb.client.naming</code>, the connection is usually defined in a file named <code>jboss-ejb-client.properties</code>. You provided it in the map for <code>jndi.properties</code>. The <code>jboss-ejb-client.properties</code> looks like this:</p>\n\n<pre><code>remote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED=false\nremote.connections=default\nremote.connection.default.host=localhost\nremote.connection.default.port = 8080\nremote.connection.default.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS=false\nremote.connection.two.host=localhost\nremote.connection.two.port = 8080\nremote.connection.two.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS=false\n</code></pre>\n\n<p>If this works, but you don't want to use a file for the connection-properties, you may take a look on <a href=\"https://developer.jboss.org/thread/202008\" rel=\"nofollow noreferrer\">https://developer.jboss.org/thread/202008</a></p>\n"},{"tags":[],"owner":{"account_id":1200302,"reputation":96,"user_id":1171102,"display_name":"FranAB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562757300,"creation_date":1562757300,"answer_id":56969522,"question_id":55355503,"body_markdown":"Probably the problem is not the InitialContext Configuration, it seems correct.\r\n\r\nTry the lookup with this format:\r\n\r\n    ctx.lookup(&quot;ejb:EJBWildFly-1.0-SNAPSHOT/TextProcessorBean!com.gct.interfaces.TextProcessorRemote&quot;);\r\n\r\nFormat is:\r\n\r\n    context.lookup(&quot;ejb:&quot; + appName + &quot;/&quot; + moduleName + &quot;/&quot; + distinctName + &quot;/&quot; + beanName + &quot;!&quot; + viewClassName);\r\n\r\nCheck this documentation example for more information:\r\nhttps://docs.jboss.org/author/display/WFLY8/EJB+invocations+from+a+remote+client+using+JNDI\r\n\r\n","title":"EJBCLIENT000409: No more destinations are available","body":"<p>Probably the problem is not the InitialContext Configuration, it seems correct.</p>\n\n<p>Try the lookup with this format:</p>\n\n<pre><code>ctx.lookup(\"ejb:EJBWildFly-1.0-SNAPSHOT/TextProcessorBean!com.gct.interfaces.TextProcessorRemote\");\n</code></pre>\n\n<p>Format is:</p>\n\n<pre><code>context.lookup(\"ejb:\" + appName + \"/\" + moduleName + \"/\" + distinctName + \"/\" + beanName + \"!\" + viewClassName);\n</code></pre>\n\n<p>Check this documentation example for more information:\n<a href=\"https://docs.jboss.org/author/display/WFLY8/EJB+invocations+from+a+remote+client+using+JNDI\" rel=\"nofollow noreferrer\">https://docs.jboss.org/author/display/WFLY8/EJB+invocations+from+a+remote+client+using+JNDI</a></p>\n"}],"owner":{"account_id":8652806,"reputation":23,"user_id":6477937,"display_name":"david"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16270,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1696816965,"creation_date":1553597973,"question_id":55355503,"body_markdown":"i am doing migration from jboss 5 to wildfly 12.\r\ni got stuck in one of my exceptions\r\ni am doing ejb (3.1) invocation using wildfly 12 with jndi in java 8\r\ni have deployed .ear file on the wildfly console\r\nafter that i am getting this exception.\r\ni am using java ee 5.     \r\n\r\nThis is for a Wildfly 12 server, java 8. I have tried changes in jndi properties.\r\n\r\n```\r\nprivate final Properties config;\r\n\r\nconfig = new Properties();\r\n\r\nconfig.put(Context.INITIAL_CONTEXT_FACTORY, JNP_NAMING_CONTEXT_FACTORY);\r\nconfig.put(Context.URL_PKG_PREFIXES, &quot;org.jboss.ejb.client.naming&quot;);\r\nconfig.put(Context.PROVIDER_URL, &quot;http-remoting://127.0.0.1:8080/&quot;);\r\n//config.put(Context.PROVIDER_URL,&quot;remote+http://127.0.0.1:8080&quot;);\r\nconfig.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SASL_POLICY_NOPLAINTEXT&quot;, &quot;false&quot;);\r\n\r\nconfig.put(&quot;jboss.naming.client.ejb.context&quot;, &quot;true&quot;); \r\nconfig.put(Context.SECURITY_PRINCIPAL, &quot;wixxxxxx&quot;);\r\nconfig.put(Context.SECURITY_CREDENTIALS, &quot;xxxxxx123&quot;);\r\n\r\nContext ctx = new InitialContext(config);\r\n```\r\n\r\nI expect the output of migration and running the project successfully, but the actual output is \r\n\r\n    org.jboss.ejb.client.RequestSendFailedException: EJBCLIENT000409: No more destinations are available\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:567)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\r\n    \tat org.jboss.ejb.protocol.remote.RemotingEJBClientInterceptor.handleInvocationResult(RemotingEJBClientInterceptor.java:56)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:569)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\r\n    \tat org.jboss.ejb.client.TransactionPostDiscoveryInterceptor.handleInvocationResult(TransactionPostDiscoveryInterceptor.java:133)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:569)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\r\n    \tat org.jboss.ejb.client.DiscoveryEJBClientInterceptor.handleInvocationResult(DiscoveryEJBClientInterceptor.java:108)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:569)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\r\n    \tat org.jboss.ejb.client.NamingEJBClientInterceptor.handleInvocationResult(NamingEJBClientInterceptor.java:78)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:569)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\r\n    \tat org.jboss.ejb.client.TransactionInterceptor.handleInvocationResult(TransactionInterceptor.java:172)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:569)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\r\n    \tat org.jboss.ejb.client.EJBClientInvocationContext.awaitResponse(EJBClientInvocationContext.java:913)\r\n    \tat org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:177)\r\n    \tat org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:112)\r\n    \tat com.sun.proxy.$Proxy15.getServerInfo(Unknown Source)\r\n    \tat com.verizon.delphi.hyperion.cli.CommLine$Info.cmdProc(CommLine.java:741)\r\n    \tat tcl.lang.Parser.evalObjv(Parser.java)\r\n    \tat tcl.lang.Parser.eval2(Parser.java)\r\n    \tat tcl.lang.Interp.eval(Interp.java)\r\n    \tat tcl.lang.Interp.eval(Interp.java)\r\n    \tat com.verizon.delphi.hyperion.cli.CommLine.startInterpreter(CommLine.java:5638)\r\n    \tat com.verizon.delphi.hyperion.cli.App.main(App.java:133)\r\n    \tSuppressed: org.jboss.ejb.client.RequestSendFailedException: org.jboss.remoting3.ServiceOpenException: Unknown service name@http-remoting://127.0.0.1:8080\r\n    \t\tat org.jboss.ejb.protocol.remote.RemoteEJBReceiver$1.lambda$handleDone$0(RemoteEJBReceiver.java:83)\r\n    \t\tat org.xnio.AbstractIoFuture$NotifierRunnable.run(AbstractIoFuture.java:720)\r\n    \t\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n    \t\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)\r\n    \t\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)\r\n    \t\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)\r\n    \t\tat java.lang.Thread.run(Thread.java:748)\r\n    Failed to get sys infoEJBCLIENT000409: No more destinations are available","title":"EJBCLIENT000409: No more destinations are available","body":"<p>i am doing migration from jboss 5 to wildfly 12.\ni got stuck in one of my exceptions\ni am doing ejb (3.1) invocation using wildfly 12 with jndi in java 8\ni have deployed .ear file on the wildfly console\nafter that i am getting this exception.\ni am using java ee 5.     </p>\n\n<p>This is for a Wildfly 12 server, java 8. I have tried changes in jndi properties.</p>\n\n<pre><code>private final Properties config;\n\nconfig = new Properties();\n\nconfig.put(Context.INITIAL_CONTEXT_FACTORY, JNP_NAMING_CONTEXT_FACTORY);\nconfig.put(Context.URL_PKG_PREFIXES, \"org.jboss.ejb.client.naming\");\nconfig.put(Context.PROVIDER_URL, \"http-remoting://127.0.0.1:8080/\");\n//config.put(Context.PROVIDER_URL,\"remote+http://127.0.0.1:8080\");\nconfig.put(\"jboss.naming.client.connect.options.org.xnio.Options.SASL_POLICY_NOPLAINTEXT\", \"false\");\n\nconfig.put(\"jboss.naming.client.ejb.context\", \"true\"); \nconfig.put(Context.SECURITY_PRINCIPAL, \"wixxxxxx\");\nconfig.put(Context.SECURITY_CREDENTIALS, \"xxxxxx123\");\n\nContext ctx = new InitialContext(config);\n</code></pre>\n\n<p>I expect the output of migration and running the project successfully, but the actual output is </p>\n\n<pre><code>org.jboss.ejb.client.RequestSendFailedException: EJBCLIENT000409: No more destinations are available\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:567)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\n    at org.jboss.ejb.protocol.remote.RemotingEJBClientInterceptor.handleInvocationResult(RemotingEJBClientInterceptor.java:56)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:569)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\n    at org.jboss.ejb.client.TransactionPostDiscoveryInterceptor.handleInvocationResult(TransactionPostDiscoveryInterceptor.java:133)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:569)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\n    at org.jboss.ejb.client.DiscoveryEJBClientInterceptor.handleInvocationResult(DiscoveryEJBClientInterceptor.java:108)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:569)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\n    at org.jboss.ejb.client.NamingEJBClientInterceptor.handleInvocationResult(NamingEJBClientInterceptor.java:78)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:569)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\n    at org.jboss.ejb.client.TransactionInterceptor.handleInvocationResult(TransactionInterceptor.java:172)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:569)\n    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:503)\n    at org.jboss.ejb.client.EJBClientInvocationContext.awaitResponse(EJBClientInvocationContext.java:913)\n    at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:177)\n    at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:112)\n    at com.sun.proxy.$Proxy15.getServerInfo(Unknown Source)\n    at com.verizon.delphi.hyperion.cli.CommLine$Info.cmdProc(CommLine.java:741)\n    at tcl.lang.Parser.evalObjv(Parser.java)\n    at tcl.lang.Parser.eval2(Parser.java)\n    at tcl.lang.Interp.eval(Interp.java)\n    at tcl.lang.Interp.eval(Interp.java)\n    at com.verizon.delphi.hyperion.cli.CommLine.startInterpreter(CommLine.java:5638)\n    at com.verizon.delphi.hyperion.cli.App.main(App.java:133)\n    Suppressed: org.jboss.ejb.client.RequestSendFailedException: org.jboss.remoting3.ServiceOpenException: Unknown service name@http-remoting://127.0.0.1:8080\n        at org.jboss.ejb.protocol.remote.RemoteEJBReceiver$1.lambda$handleDone$0(RemoteEJBReceiver.java:83)\n        at org.xnio.AbstractIoFuture$NotifierRunnable.run(AbstractIoFuture.java:720)\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)\n        at java.lang.Thread.run(Thread.java:748)\nFailed to get sys infoEJBCLIENT000409: No more destinations are available\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6248516,"reputation":4305,"user_id":4859873,"accept_rate":67,"display_name":"Sanjeev"},"score":1,"creation_date":1437209174,"post_id":31489401,"comment_id":50942844,"body_markdown":"Always provide your code for reference ,to see what you have done","body":"Always provide your code for reference ,to see what you have done"},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1437209194,"post_id":31489401,"comment_id":50942852,"body_markdown":"`I have some problem with http post connection in android.`. Which ones?","body":"<code>I have some problem with http post connection in android.</code>. Which ones?"}],"answers":[{"tags":[],"owner":{"account_id":2318390,"reputation":702,"user_id":2034848,"accept_rate":60,"display_name":"JiratPasuksmit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437209376,"creation_date":1437209376,"answer_id":31489457,"question_id":31489401,"body_markdown":"Try using some great library like ion \r\n\r\nIt will handle all complicate stuffs for you,\r\njust do\r\n\r\n    Ion.with(getContext())\r\n    .load(&quot;https://koush.clockworkmod.com/test/echo&quot;) // your server side script url\r\n    .setBodyParameter(&quot;goop&quot;, &quot;noop&quot;) // parameter to send\r\n    .setBodyParameter(&quot;foo&quot;, &quot;bar&quot;)\r\n    .asString()\r\n    .setCallback(...)\r\n\r\nMore information here (https://github.com/koush/ion)","title":"Android Http Post","body":"<p>Try using some great library like ion </p>\n\n<p>It will handle all complicate stuffs for you,\njust do</p>\n\n<pre><code>Ion.with(getContext())\n.load(\"https://koush.clockworkmod.com/test/echo\") // your server side script url\n.setBodyParameter(\"goop\", \"noop\") // parameter to send\n.setBodyParameter(\"foo\", \"bar\")\n.asString()\n.setCallback(...)\n</code></pre>\n\n<p>More information here (<a href=\"https://github.com/koush/ion\" rel=\"nofollow\">https://github.com/koush/ion</a>)</p>\n"},{"tags":[],"owner":{"account_id":17819915,"reputation":1,"user_id":12942526,"display_name":"Unyime"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696816693,"creation_date":1696816693,"answer_id":77255928,"question_id":31489401,"body_markdown":"    public class MyAsyncClass extends AsyncTask&lt;String, String, String&gt;{\r\n            //String cid = &quot;&quot;;\r\n            //String vid = &quot;&quot;;\r\n            String otp = &quot;&quot;;\r\n    \r\n            String data = &quot;&quot;;\r\n            String response = &quot;&quot;;\r\n            BufferedReader  reader = null;\r\n            HttpURLConnection conn = null;\r\n            String url = &quot;http://192.168.43.192/voting/voteAI.php&quot;;\r\n            //String url = &quot;https://kontiaps.com/biometrics/index.php&quot;;\r\n            @Override\r\n            protected String doInBackground(String... strings) {\r\n                //cid = strings[0];\r\n                //vid = strings[1];\r\n                otp = strings[0].toString();\r\n                try{\r\n                    URL url1 = new URL(url);\r\n                    conn = (HttpURLConnection) url1.openConnection();\r\n                    conn.setRequestMethod(&quot;POST&quot;);\r\n                    conn.setDoOutput(true);\r\n                    OutputStreamWriter outputStreamWriter = new OutputStreamWriter(conn.getOutputStream());\r\n                    data += &quot;&amp;&quot;+ URLEncoder.encode(&quot;otp&quot;, &quot;UTF-8&quot;) + &quot;=&quot;  +URLEncoder.encode(otp, &quot;UTF-8&quot;);/*+\r\n                            &quot;&amp;&quot;+ URLEncoder.encode(&quot;vid&quot;, &quot;UTF-8&quot;) + &quot;=&quot; +URLEncoder.encode(vid, &quot;UTF-8&quot;) +\r\n                            &quot;&amp;&quot;+ URLEncoder.encode(&quot;botp&quot;, &quot;UTF-8&quot;) + &quot;=&quot; +URLEncoder.encode(otp, &quot;UTF-8&quot;);*/\r\n                    outputStreamWriter.write(data);\r\n                    outputStreamWriter.flush();\r\n                    reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\n                    StringBuilder stringBuilder = new StringBuilder();\r\n                    String line = null;\r\n                    while ((line = reader.readLine()) != null){\r\n                        stringBuilder.append(line+&quot;\\n&quot;);\r\n                    }\r\n                    response = stringBuilder.toString();\r\n                } catch (MalformedURLException e) {\r\n                    e.printStackTrace();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    try {\r\n                        if(reader != null) {\r\n                            reader.close();\r\n                        }\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    if(conn != null){\r\n                        conn.disconnect();\r\n                    }\r\n                }\r\n                return response;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(String result) {\r\n                super.onPostExecute(result);\r\n                if(result != null) {\r\n                    Toast.makeText(MainActivity.this, &quot;onpost execute &quot;+result, Toast.LENGTH_SHORT).show();\r\n                    if (result.equals(&quot;200&quot;)) {\r\n                        Toast.makeText(MainActivity.this, &quot;Vote successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                        /*AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(getApplicationContext());\r\n                        alertDialogBuilder.setTitle(&quot;Exit Application&quot;);\r\n                        alertDialogBuilder.setMessage(&quot;You are about to exist from this application. Do you wan to continue&quot;);\r\n                        alertDialogBuilder.setCancelable(false);\r\n                        alertDialogBuilder.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                finishAffinity();\r\n                                System.exit(0);\r\n                            }\r\n                        });\r\n                        alertDialogBuilder.setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                dialogInterface.cancel();\r\n                            }\r\n                        });\r\n                        AlertDialog alertDialog = alertDialogBuilder.create();\r\n                        alertDialog.show();*/\r\n                    } else if (result.equals(&quot;100&quot;)) {\r\n                        Toast.makeText(MainActivity.this, &quot;You have already voted&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else if (result.equals(&quot;101&quot;)) {\r\n                        Toast.makeText(MainActivity.this, &quot;Incorrect OTP. Please try again&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        Toast.makeText(MainActivity.this, &quot;Something went wrong. Please check your internet connection&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n    \r\n            }\r\n        }","title":"Android Http Post","body":"<pre><code>public class MyAsyncClass extends AsyncTask&lt;String, String, String&gt;{\n        //String cid = &quot;&quot;;\n        //String vid = &quot;&quot;;\n        String otp = &quot;&quot;;\n\n        String data = &quot;&quot;;\n        String response = &quot;&quot;;\n        BufferedReader  reader = null;\n        HttpURLConnection conn = null;\n        String url = &quot;http://192.168.43.192/voting/voteAI.php&quot;;\n        //String url = &quot;https://kontiaps.com/biometrics/index.php&quot;;\n        @Override\n        protected String doInBackground(String... strings) {\n            //cid = strings[0];\n            //vid = strings[1];\n            otp = strings[0].toString();\n            try{\n                URL url1 = new URL(url);\n                conn = (HttpURLConnection) url1.openConnection();\n                conn.setRequestMethod(&quot;POST&quot;);\n                conn.setDoOutput(true);\n                OutputStreamWriter outputStreamWriter = new OutputStreamWriter(conn.getOutputStream());\n                data += &quot;&amp;&quot;+ URLEncoder.encode(&quot;otp&quot;, &quot;UTF-8&quot;) + &quot;=&quot;  +URLEncoder.encode(otp, &quot;UTF-8&quot;);/*+\n                        &quot;&amp;&quot;+ URLEncoder.encode(&quot;vid&quot;, &quot;UTF-8&quot;) + &quot;=&quot; +URLEncoder.encode(vid, &quot;UTF-8&quot;) +\n                        &quot;&amp;&quot;+ URLEncoder.encode(&quot;botp&quot;, &quot;UTF-8&quot;) + &quot;=&quot; +URLEncoder.encode(otp, &quot;UTF-8&quot;);*/\n                outputStreamWriter.write(data);\n                outputStreamWriter.flush();\n                reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\n                StringBuilder stringBuilder = new StringBuilder();\n                String line = null;\n                while ((line = reader.readLine()) != null){\n                    stringBuilder.append(line+&quot;\\n&quot;);\n                }\n                response = stringBuilder.toString();\n            } catch (MalformedURLException e) {\n                e.printStackTrace();\n            } catch (IOException e) {\n                e.printStackTrace();\n            } finally {\n                try {\n                    if(reader != null) {\n                        reader.close();\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                if(conn != null){\n                    conn.disconnect();\n                }\n            }\n            return response;\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n            super.onPostExecute(result);\n            if(result != null) {\n                Toast.makeText(MainActivity.this, &quot;onpost execute &quot;+result, Toast.LENGTH_SHORT).show();\n                if (result.equals(&quot;200&quot;)) {\n                    Toast.makeText(MainActivity.this, &quot;Vote successfully&quot;, Toast.LENGTH_SHORT).show();\n                    /*AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(getApplicationContext());\n                    alertDialogBuilder.setTitle(&quot;Exit Application&quot;);\n                    alertDialogBuilder.setMessage(&quot;You are about to exist from this application. Do you wan to continue&quot;);\n                    alertDialogBuilder.setCancelable(false);\n                    alertDialogBuilder.setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialogInterface, int i) {\n                            finishAffinity();\n                            System.exit(0);\n                        }\n                    });\n                    alertDialogBuilder.setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialogInterface, int i) {\n                            dialogInterface.cancel();\n                        }\n                    });\n                    AlertDialog alertDialog = alertDialogBuilder.create();\n                    alertDialog.show();*/\n                } else if (result.equals(&quot;100&quot;)) {\n                    Toast.makeText(MainActivity.this, &quot;You have already voted&quot;, Toast.LENGTH_SHORT).show();\n                } else if (result.equals(&quot;101&quot;)) {\n                    Toast.makeText(MainActivity.this, &quot;Incorrect OTP. Please try again&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(MainActivity.this, &quot;Something went wrong. Please check your internet connection&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":6643578,"reputation":1,"user_id":5128534,"display_name":"Kmwtw Szymon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1696816693,"creation_date":1437209028,"question_id":31489401,"body_markdown":"I have some problem with http post connection in android.\n\nI want make connect when my app starting. Next i want exchenge many request and response (when customer press button i send request and read response) and close Connect if my app is close. \n\nIt\n--\n\n  is possible ? Do I must close inputstream after read response ??\n\nI have acting http post connection but i send post read response and close input stream if it is only solution ? I want have only one http client.\n\n","title":"Android Http Post","body":"<p>I have some problem with http post connection in android.</p>\n<p>I want make connect when my app starting. Next i want exchenge many request and response (when customer press button i send request and read response) and close Connect if my app is close.</p>\n<h2>It</h2>\n<p>is possible ? Do I must close inputstream after read response ??</p>\n<p>I have acting http post connection but i send post read response and close input stream if it is only solution ? I want have only one http client.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":234138,"reputation":7661,"user_id":500105,"accept_rate":73,"display_name":"SuperFrog"},"score":0,"creation_date":1445026212,"post_id":33178708,"comment_id":54164741,"body_markdown":"Why don&#39;t you remove the try catch surrounding the initalization of the BufferedReader, and see weather it crashes.","body":"Why don&#39;t you remove the try catch surrounding the initalization of the BufferedReader, and see weather it crashes."}],"answers":[{"comments":[{"owner":{"account_id":2806908,"reputation":1355,"user_id":2413972,"accept_rate":100,"display_name":"user2413972"},"score":0,"creation_date":1445028271,"post_id":33178778,"comment_id":54165707,"body_markdown":"I answered the first, and you have chosen a different answer correct. Lol. Horrible world ... It seems to me that you do not understand how work finally. It is always satisfied.","body":"I answered the first, and you have chosen a different answer correct. Lol. Horrible world ... It seems to me that you do not understand how work finally. It is always satisfied."}],"tags":[],"owner":{"account_id":2806908,"reputation":1355,"user_id":2413972,"accept_rate":100,"display_name":"user2413972"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445026987,"creation_date":1445026181,"answer_id":33178778,"question_id":33178708,"body_markdown":"You need to check &quot;Null&quot; in the finally . Something is happening, and reader not created.\r\n\r\n                try {\r\n                    if (reader != null) reader.close();\r\n                    if (inputStream!= null) inputStream.close();\r\n                } catch (IOException e) {\r\n                    Log.e(&quot;READER.CLOSE()&quot;, e.toString());\r\n                }\r\n\r\nYou do `return null`, but the finally is done. And in it `BufferedReader reader = null;`. See **example**:\r\n\r\n    public static void main(String[] args){\r\n        System.out.println(0);\r\n        Object o = get();\r\n        System.out.println(2);\r\n    }\r\n\r\n    public static Object get(){\r\n        try {\r\n            System.out.println(1);\r\n            return null;\r\n        } catch (Exception e){\r\n\r\n        } finally {\r\n            System.out.println(&quot;finally&quot;);\r\n        }\r\n        return null;\r\n    }\r\n\r\n**Output:**\r\n&gt; 0 \r\n&gt; 1\r\n&gt; finally\r\n&gt; 2","title":"Attempt to invoke virtual method &#39;void java.io.BufferedReader.close()&#39; on a null object reference","body":"<p>You need to check \"Null\" in the finally . Something is happening, and reader not created.</p>\n\n<pre><code>            try {\n                if (reader != null) reader.close();\n                if (inputStream!= null) inputStream.close();\n            } catch (IOException e) {\n                Log.e(\"READER.CLOSE()\", e.toString());\n            }\n</code></pre>\n\n<p>You do <code>return null</code>, but the finally is done. And in it <code>BufferedReader reader = null;</code>. See <strong>example</strong>:</p>\n\n<pre><code>public static void main(String[] args){\n    System.out.println(0);\n    Object o = get();\n    System.out.println(2);\n}\n\npublic static Object get(){\n    try {\n        System.out.println(1);\n        return null;\n    } catch (Exception e){\n\n    } finally {\n        System.out.println(\"finally\");\n    }\n    return null;\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<blockquote>\n  <p>0 \n  1\n  finally\n  2</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":6304026,"reputation":273,"user_id":4897701,"accept_rate":75,"display_name":"Nitish Chopra"},"score":1,"creation_date":1445028012,"post_id":33178858,"comment_id":54165580,"body_markdown":"Thanks it worked but now its throwing another exception       Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;int java.lang.String.length()&#39; on a null object reference what do i do now???","body":"Thanks it worked but now its throwing another exception       Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;int java.lang.String.length()&#39; on a null object reference what do i do now???"},{"owner":{"account_id":234138,"reputation":7661,"user_id":500105,"accept_rate":73,"display_name":"SuperFrog"},"score":0,"creation_date":1445028336,"post_id":33178858,"comment_id":54165738,"body_markdown":"That&#39;s not a good approach. You should check for null, yes. But before that check why you&#39;re getting null.","body":"That&#39;s not a good approach. You should check for null, yes. But before that check why you&#39;re getting null."}],"tags":[],"owner":{"account_id":1953733,"reputation":452,"user_id":1757271,"display_name":"Ahmed Sayed"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1445026536,"creation_date":1445026536,"answer_id":33178858,"question_id":33178708,"body_markdown":"if exception happened before initializing the reader it will lead to this error because reader.close() is placed in finally block. It&#39;s good practice to always check for null before closing resources in finally\r\n\r\n    if(reader != null)\r\n        reader.close();\r\n    if(inputStream != null)\r\n        inputStream.close();","title":"Attempt to invoke virtual method &#39;void java.io.BufferedReader.close()&#39; on a null object reference","body":"<p>if exception happened before initializing the reader it will lead to this error because reader.close() is placed in finally block. It's good practice to always check for null before closing resources in finally</p>\n\n<pre><code>if(reader != null)\n    reader.close();\nif(inputStream != null)\n    inputStream.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6304026,"reputation":273,"user_id":4897701,"accept_rate":75,"display_name":"Nitish Chopra"},"score":0,"creation_date":1445028039,"post_id":33178899,"comment_id":54165592,"body_markdown":"Thanks it worked but now its throwing another exception Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;int java.lang.String.length()&#39; on a null object reference what do i do now???","body":"Thanks it worked but now its throwing another exception Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;int java.lang.String.length()&#39; on a null object reference what do i do now???"},{"owner":{"account_id":4271611,"reputation":238,"user_id":3649190,"accept_rate":83,"display_name":"Sudheer"},"score":0,"creation_date":1445028930,"post_id":33178899,"comment_id":54165986,"body_markdown":"I can&#39;t find where your trying to access the string length in your background task. Exception maybe caused in some other part of app.","body":"I can&#39;t find where your trying to access the string length in your background task. Exception maybe caused in some other part of app."}],"tags":[],"owner":{"account_id":4271611,"reputation":238,"user_id":3649190,"accept_rate":83,"display_name":"Sudheer"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445027146,"creation_date":1445026733,"answer_id":33178899,"question_id":33178708,"body_markdown":"It maybe caused because of exception in your urlconnection or your inputstream is null.\n\n    if (inputStream == null)\n    return null;\n\nYour code will run finally block if exception is thrown or return is called from inputstream null checking.\n\nReader object to be created using inputstream is never created. So when you try close() method it&#39;s throwing null pointer exception.\n\nYou should always use null checking before using close() method on streams and readers, writers.","title":"Attempt to invoke virtual method &#39;void java.io.BufferedReader.close()&#39; on a null object reference","body":"<p>It maybe caused because of exception in your urlconnection or your inputstream is null.</p>\n\n<pre><code>if (inputStream == null)\nreturn null;\n</code></pre>\n\n<p>Your code will run finally block if exception is thrown or return is called from inputstream null checking.</p>\n\n<p>Reader object to be created using inputstream is never created. So when you try close() method it's throwing null pointer exception.</p>\n\n<p>You should always use null checking before using close() method on streams and readers, writers.</p>\n"},{"tags":[],"owner":{"account_id":7077493,"reputation":86,"user_id":5416939,"display_name":"Sasha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445029622,"creation_date":1445028237,"answer_id":33179252,"question_id":33178708,"body_markdown":"As it is seen from the discription the exception occurs when you are trying to close the `BufferedReader reader` object in the `finally` block as it is `null` at that moment. It happens because you get some other exception in your `try` block wich occurs before you initialize the reader or because your `return` statement is called, i.e somewhere in this piece of code:\r\n\r\n            URL url = new URL(FINAL_URL);\r\n            urlConnection = (HttpURLConnection) url.openConnection();\r\n            urlConnection.setRequestMethod(&quot;GET&quot;);\r\n            urlConnection.connect();\r\n\r\n            // Read the input stream into a String\r\n            inputStream = urlConnection.getInputStream();\r\n            StringBuffer buffer = new StringBuffer();\r\n            if (inputStream == null) {\r\n                // Nothing to do.\r\n                return null;\r\n            }\r\nTo avoid such situation, you should check your `reader` and `inputStream` for `null` before closing like this:\r\n\r\n    if(reader != null) {\r\n        reader.close;\r\n        reader = null;\r\n    }\r\n    if(inputStream != null) {\r\n        inputStream.close;\r\n        inputStream = null;\r\n    }\r\n\r\nBesides take a look at this post about catching Throwables:\r\nhttps://stackoverflow.com/questions/6083248/is-it-a-bad-practice-to-catch-throwable\r\n\r\nAnyway, I think you shall find out why does this flow takes place as it is not what you want as far as I can understand\r\n\r\nWhy have you moved this block of code outside the first `try-catch`?:\r\n    \r\n    try {\r\n            return jsonParse(movieJsonStr);\r\n        } catch (JSONException e) {\r\n            Log.e(&quot;BACKGROUNDTASK&quot;, &quot;EXCEPTION FROM jsonParse()&quot;, e);\r\n        }\r\n\r\nYou can catch multiple types of exceptions from one `try{}`, you just have to specify them one by one.\r\nAs written above, when something goes wrong(and it does) you are finishing previous try-catch block before creating reader and everything after that. Therefore in this place your movieJsonStr is also null, and you are passing it forward to create a `JSONOblect` from it. This is where your next exception comes from. Move the `return jsonParse(movieJsonStr);` string to the place where you are certain it is the string you want to process.","title":"Attempt to invoke virtual method &#39;void java.io.BufferedReader.close()&#39; on a null object reference","body":"<p>As it is seen from the discription the exception occurs when you are trying to close the <code>BufferedReader reader</code> object in the <code>finally</code> block as it is <code>null</code> at that moment. It happens because you get some other exception in your <code>try</code> block wich occurs before you initialize the reader or because your <code>return</code> statement is called, i.e somewhere in this piece of code:</p>\n\n<pre><code>        URL url = new URL(FINAL_URL);\n        urlConnection = (HttpURLConnection) url.openConnection();\n        urlConnection.setRequestMethod(\"GET\");\n        urlConnection.connect();\n\n        // Read the input stream into a String\n        inputStream = urlConnection.getInputStream();\n        StringBuffer buffer = new StringBuffer();\n        if (inputStream == null) {\n            // Nothing to do.\n            return null;\n        }\n</code></pre>\n\n<p>To avoid such situation, you should check your <code>reader</code> and <code>inputStream</code> for <code>null</code> before closing like this:</p>\n\n<pre><code>if(reader != null) {\n    reader.close;\n    reader = null;\n}\nif(inputStream != null) {\n    inputStream.close;\n    inputStream = null;\n}\n</code></pre>\n\n<p>Besides take a look at this post about catching Throwables:\n<a href=\"https://stackoverflow.com/questions/6083248/is-it-a-bad-practice-to-catch-throwable\">Is it a bad practice to catch Throwable?</a></p>\n\n<p>Anyway, I think you shall find out why does this flow takes place as it is not what you want as far as I can understand</p>\n\n<p>Why have you moved this block of code outside the first <code>try-catch</code>?:</p>\n\n<pre><code>try {\n        return jsonParse(movieJsonStr);\n    } catch (JSONException e) {\n        Log.e(\"BACKGROUNDTASK\", \"EXCEPTION FROM jsonParse()\", e);\n    }\n</code></pre>\n\n<p>You can catch multiple types of exceptions from one <code>try{}</code>, you just have to specify them one by one.\nAs written above, when something goes wrong(and it does) you are finishing previous try-catch block before creating reader and everything after that. Therefore in this place your movieJsonStr is also null, and you are passing it forward to create a <code>JSONOblect</code> from it. This is where your next exception comes from. Move the <code>return jsonParse(movieJsonStr);</code> string to the place where you are certain it is the string you want to process.</p>\n"},{"tags":[],"owner":{"account_id":3469153,"reputation":1,"user_id":2904006,"display_name":"shan.singh001"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567535321,"creation_date":1567535321,"answer_id":57776999,"question_id":33178708,"body_markdown":"sometimes this is the problem because of you are closing the BufferedReader which is not assigned any value or its value is null. so it throwing exception **java.lang.NullPointerException: Attempt to invoke virtual method &#39;void java.io.BufferedReader.close()&#39; on a null object reference**\r\nto overcome this problem : goto your manifest file and give INTERNET permission \r\n **&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;**","title":"Attempt to invoke virtual method &#39;void java.io.BufferedReader.close()&#39; on a null object reference","body":"<p>sometimes this is the problem because of you are closing the BufferedReader which is not assigned any value or its value is null. so it throwing exception <strong>java.lang.NullPointerException: Attempt to invoke virtual method 'void java.io.BufferedReader.close()' on a null object reference</strong>\nto overcome this problem : goto your manifest file and give INTERNET permission \n <strong></strong></p>\n"},{"tags":[],"owner":{"account_id":17819915,"reputation":1,"user_id":12942526,"display_name":"Unyime"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696816549,"creation_date":1696816549,"answer_id":77255925,"question_id":33178708,"body_markdown":"                try {\r\n                    if(reader != null) {\r\n                        reader.close();\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }","title":"Attempt to invoke virtual method &#39;void java.io.BufferedReader.close()&#39; on a null object reference","body":"<pre><code>            try {\n                if(reader != null) {\n                    reader.close();\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n</code></pre>\n"}],"owner":{"account_id":6304026,"reputation":273,"user_id":4897701,"accept_rate":75,"display_name":"Nitish Chopra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29619,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":33178858,"answer_count":6,"score":4,"last_activity_date":1696816549,"creation_date":1445025877,"question_id":33178708,"body_markdown":"Attempt to invoke virtual method &#39;void java.io.BufferedReader.close()&#39; on a null object reference  this Exception is thrown by JRE please help!!\r\n\r\nhere is the class \r\n\r\n    package com.example.MovieMania.fragmentTv;\r\n    \r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    \r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    import com.example.MovieMania.R;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.os.AsyncTask;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.GridView;\r\n    import android.widget.AdapterView.OnItemClickListener;\r\n    \r\n    public class BackgroundTaskTv extends AsyncTask&lt;String, Void, String[]&gt; {\r\n    \r\n    \tfinal String DEF_BASE_URL = &quot;http:api.themoviedb.org/3/tv/popular?[api_key]&quot;;\r\n    \t\r\n    \tprivate final Context context;\r\n    \r\n    \tpublic BackgroundTaskTv(Context context) {\r\n    \t\tthis.context = context;\r\n    \t}\r\n    \t\r\n    \tpublic static String JsonStr;  // so that JSONstring can be used by other activities\r\n    \r\n    \tprivate String[] jsonParse(String movieJsonStr) throws JSONException {\r\n    \r\n    \t\tfinal String POSTER_PATH = &quot;poster_path&quot;; // JSON STRING PARSING AND\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t// RETURN\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t// POSTER PATHS\r\n    \r\n    \t\tJSONObject jsonObj = new JSONObject(movieJsonStr);\r\n    \t\tJSONArray resultArray = jsonObj.getJSONArray(&quot;results&quot;);\r\n    \t\t\r\n    \t\tint len =resultArray.length();\r\n    \t\tString[] posters = new String[len];\r\n    \t\tfor (int i = 0; i &lt; len; i++) {\r\n    \t\t\tposters[i] = resultArray.getJSONObject(i).getString(POSTER_PATH);\r\n    \t\t}\r\n    \r\n    \t\tfor (String res : posters)\r\n    \t\t\tLog.v(POSTER_PATH, res);\r\n    \r\n    \t\treturn posters;\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected String[] doInBackground(String... params) {\r\n    \t\t\r\n    \t \r\n    \r\n    \t\tString movieJsonStr = null;\r\n    \t\tInputStream inputStream = null;\r\n    \t\t\r\n    \t\t\r\n    \t\tString FINAL_URL=DEF_BASE_URL;\r\n    \t\tImageAdapterTv.poster_paths.clear();\r\n    \r\n    \t\tBufferedReader reader = null;\r\n    \t\tHttpURLConnection urlConnection = null; // READ THE INPUTSTREAM AND\r\n    \t\t\t\t\t\t\t\t\t\t\t\t// GET THE JSONSTRING\r\n    \t\ttry {\r\n    \t\t\tURL url = new URL(FINAL_URL);\r\n    \t\t\turlConnection = (HttpURLConnection) url.openConnection();\r\n    \t\t\turlConnection.setRequestMethod(&quot;GET&quot;);\r\n    \t\t\turlConnection.connect();\r\n    \r\n    \t\t\t// Read the input stream into a String\r\n    \t\t\tinputStream = urlConnection.getInputStream();\r\n    \t\t\tStringBuffer buffer = new StringBuffer();\r\n    \t\t\tif (inputStream == null) {\r\n    \t\t\t\t// Nothing to do.\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \r\n    \t\t\treader = new BufferedReader(new InputStreamReader(inputStream));\r\n    \r\n    \t\t\tString line;\r\n    \t\t\twhile ((line = reader.readLine()) != null) {\r\n    \t\t\t\t// Since it&#39;s JSON, adding a newline isn&#39;t necessary (it\r\n    \t\t\t\t// won&#39;t affect parsing)\r\n    \t\t\t\t// But it does make debugging a *lot* easier if you print\r\n    \t\t\t\t// out the completed\r\n    \t\t\t\t// buffer for debugging.\r\n    \t\t\t\tbuffer.append(line + &quot;\\n&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (buffer.length() == 0) {\r\n    \t\t\t\t// Stream was empty. No point in parsing.\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \r\n    \t\t\tmovieJsonStr = buffer.toString();\r\n    \t\t\tJsonStr=movieJsonStr;\r\n    \t\t\t\r\n    \t\t\tLog.v(&quot;Tv string: &quot;, movieJsonStr);\r\n    \t\t} catch (Throwable e) {\r\n    \t\t\tLog.e(&quot;backgroundtask&quot;, &quot;EXCEPTION&quot;, e);\r\n    \t\t} finally {\r\n    \t\t\turlConnection.disconnect();\r\n    \t\t\ttry {\r\n    \t\t\t\treader.close();\r\n    \t\t\t\tinputStream.close();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\tLog.e(&quot;READER.CLOSE()&quot;, e.toString());\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\treturn jsonParse(movieJsonStr);\r\n    \t\t} catch (JSONException e) {\r\n    \t\t\tLog.e(&quot;BACKGROUNDTASK&quot;, &quot;EXCEPTION FROM jsonParse()&quot;, e);\r\n    \t\t}\r\n    \r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void onPostExecute(String[] result) {\r\n    \t\tif (ImageAdapterTv.poster_paths.isEmpty()) {\r\n    \t\t\tfor (String s : result) {\r\n    \t\t\t\tImageAdapterTv.poster_paths.add(s);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tfinal Activity activity = (Activity) context;\r\n    \t\tactivity.runOnUiThread(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\t// this code is written so that the grid view is populated after\r\n    \t\t\t// backgroundTask\r\n    \t\t\tpublic void run() { // produce results so that there is no blank\r\n    \t\t\t\t\t\t\t\t// screen on launch\r\n    \t\t\t\tGridView grid = (GridView) activity.findViewById(R.id.gridview_tv);\r\n    \t\t\t\tgrid.setAdapter(new ImageAdapterTv(context));\r\n    \t\t\t\t\r\n    \t\t\t\tgrid.setOnItemClickListener(new OnItemClickListener() {\r\n    \t\t\t    \t@Override\r\n    \t\t\t    \tpublic void onItemClick(AdapterView&lt;?&gt; parent, View view,\r\n    \t\t\t    \t\t\tint position, long id) {\r\n    \t\t\t    \t\tString path=ImageAdapterTv.poster_paths.get(position);\r\n    \t\t\t    \t\tIntent intent=new Intent(context,DetailActivityTv.class);\r\n    \t\t\t    \t\tintent.putExtra(&quot;poster&quot;, path);\r\n    \t\t\t    \t\tintent.putExtra(&quot;POSITION&quot;, position);\r\n    \t\t\t    \t\tactivity.startActivity(intent);\r\n    \t\t\t    \t\t}\r\n    \t\t\t\t});\r\n    \t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    }\r\n\r\nIt is a background thread which is getting the json response from an api\r\nI dont know why this exception is thrown.","title":"Attempt to invoke virtual method &#39;void java.io.BufferedReader.close()&#39; on a null object reference","body":"<p>Attempt to invoke virtual method 'void java.io.BufferedReader.close()' on a null object reference  this Exception is thrown by JRE please help!!</p>\n\n<p>here is the class </p>\n\n<pre><code>package com.example.MovieMania.fragmentTv;\n\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\n\n\n\n\nimport com.example.MovieMania.R;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.AsyncTask;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.GridView;\nimport android.widget.AdapterView.OnItemClickListener;\n\npublic class BackgroundTaskTv extends AsyncTask&lt;String, Void, String[]&gt; {\n\n    final String DEF_BASE_URL = \"http:api.themoviedb.org/3/tv/popular?[api_key]\";\n\n    private final Context context;\n\n    public BackgroundTaskTv(Context context) {\n        this.context = context;\n    }\n\n    public static String JsonStr;  // so that JSONstring can be used by other activities\n\n    private String[] jsonParse(String movieJsonStr) throws JSONException {\n\n        final String POSTER_PATH = \"poster_path\"; // JSON STRING PARSING AND\n                                                    // RETURN\n                                                    // POSTER PATHS\n\n        JSONObject jsonObj = new JSONObject(movieJsonStr);\n        JSONArray resultArray = jsonObj.getJSONArray(\"results\");\n\n        int len =resultArray.length();\n        String[] posters = new String[len];\n        for (int i = 0; i &lt; len; i++) {\n            posters[i] = resultArray.getJSONObject(i).getString(POSTER_PATH);\n        }\n\n        for (String res : posters)\n            Log.v(POSTER_PATH, res);\n\n        return posters;\n\n    }\n\n    @Override\n    protected String[] doInBackground(String... params) {\n\n\n\n        String movieJsonStr = null;\n        InputStream inputStream = null;\n\n\n        String FINAL_URL=DEF_BASE_URL;\n        ImageAdapterTv.poster_paths.clear();\n\n        BufferedReader reader = null;\n        HttpURLConnection urlConnection = null; // READ THE INPUTSTREAM AND\n                                                // GET THE JSONSTRING\n        try {\n            URL url = new URL(FINAL_URL);\n            urlConnection = (HttpURLConnection) url.openConnection();\n            urlConnection.setRequestMethod(\"GET\");\n            urlConnection.connect();\n\n            // Read the input stream into a String\n            inputStream = urlConnection.getInputStream();\n            StringBuffer buffer = new StringBuffer();\n            if (inputStream == null) {\n                // Nothing to do.\n                return null;\n            }\n\n            reader = new BufferedReader(new InputStreamReader(inputStream));\n\n            String line;\n            while ((line = reader.readLine()) != null) {\n                // Since it's JSON, adding a newline isn't necessary (it\n                // won't affect parsing)\n                // But it does make debugging a *lot* easier if you print\n                // out the completed\n                // buffer for debugging.\n                buffer.append(line + \"\\n\");\n            }\n\n            if (buffer.length() == 0) {\n                // Stream was empty. No point in parsing.\n                return null;\n            }\n\n            movieJsonStr = buffer.toString();\n            JsonStr=movieJsonStr;\n\n            Log.v(\"Tv string: \", movieJsonStr);\n        } catch (Throwable e) {\n            Log.e(\"backgroundtask\", \"EXCEPTION\", e);\n        } finally {\n            urlConnection.disconnect();\n            try {\n                reader.close();\n                inputStream.close();\n            } catch (IOException e) {\n                Log.e(\"READER.CLOSE()\", e.toString());\n            }\n        }\n\n        try {\n            return jsonParse(movieJsonStr);\n        } catch (JSONException e) {\n            Log.e(\"BACKGROUNDTASK\", \"EXCEPTION FROM jsonParse()\", e);\n        }\n\n        return null;\n    }\n\n    @Override\n    protected void onPostExecute(String[] result) {\n        if (ImageAdapterTv.poster_paths.isEmpty()) {\n            for (String s : result) {\n                ImageAdapterTv.poster_paths.add(s);\n            }\n        }\n\n        final Activity activity = (Activity) context;\n        activity.runOnUiThread(new Runnable() {\n            @Override\n            // this code is written so that the grid view is populated after\n            // backgroundTask\n            public void run() { // produce results so that there is no blank\n                                // screen on launch\n                GridView grid = (GridView) activity.findViewById(R.id.gridview_tv);\n                grid.setAdapter(new ImageAdapterTv(context));\n\n                grid.setOnItemClickListener(new OnItemClickListener() {\n                    @Override\n                    public void onItemClick(AdapterView&lt;?&gt; parent, View view,\n                            int position, long id) {\n                        String path=ImageAdapterTv.poster_paths.get(position);\n                        Intent intent=new Intent(context,DetailActivityTv.class);\n                        intent.putExtra(\"poster\", path);\n                        intent.putExtra(\"POSITION\", position);\n                        activity.startActivity(intent);\n                        }\n                });\n\n                }\n        });\n    }\n\n}\n</code></pre>\n\n<p>It is a background thread which is getting the json response from an api\nI dont know why this exception is thrown.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":23659651,"reputation":104,"user_id":17687406,"display_name":"mi1000"},"score":1,"creation_date":1696521149,"post_id":77238671,"comment_id":136166751,"body_markdown":"First of all, I advise you to create and use relevant methods to your code, this is very hard to read like that and not easy to tell what&#39;s going on","body":"First of all, I advise you to create and use relevant methods to your code, this is very hard to read like that and not easy to tell what&#39;s going on"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1696521435,"post_id":77238671,"comment_id":136166807,"body_markdown":"You&#39;ll probably encounter an endless loop in `while (KeyIndex &lt;= EngMorseArray.length)`, because if neither your if nor the else is entered you just do nothing and the loop gets stuck because the variables you use to check its condition never change.","body":"You&#39;ll probably encounter an endless loop in <code>while (KeyIndex &lt;= EngMorseArray.length)</code>, because if neither your if nor the else is entered you just do nothing and the loop gets stuck because the variables you use to check its condition never change."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696523548,"post_id":77238671,"comment_id":136167244,"body_markdown":"Have you run this code in a debugger?  If you haven&#39;t, you should. Set a breakpoint prior to where you think the problem is, and then run the code one-step-at-a-time while monitoring variables.","body":"Have you run this code in a debugger?  If you haven&#39;t, you should. Set a breakpoint prior to where you think the problem is, and then run the code one-step-at-a-time while monitoring variables."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1696524562,"post_id":77238671,"comment_id":136167431,"body_markdown":"My first choice for debugging is placing ubiquitous print statements at key locations.  Print values to ensure they are what you expect them to be, accompanied by some indication to uniquely identify each print statement.  And if you don&#39;t know how to use a debugger, practice on working code to get familiar with it prior to really needing it.","body":"My first choice for debugging is placing ubiquitous print statements at key locations.  Print values to ensure they are what you expect them to be, accompanied by some indication to uniquely identify each print statement.  And if you don&#39;t know how to use a debugger, practice on working code to get familiar with it prior to really needing it."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696524579,"post_id":77238671,"comment_id":136167432,"body_markdown":"Off-topic:  The Java `String` API offers a [toCharArray()](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#toCharArray()) method.  Consider simplifying your code by using `index` methods from the `String` API , and / or binary search methods of  the [Arrays API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html) . Also, your code will be easier for others to read if you follow [Java naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html) .","body":"Off-topic:  The Java <code>String</code> API offers a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#toCharArray()\" rel=\"nofollow noreferrer\">toCharArray()</a> method.  Consider simplifying your code by using <code>index</code> methods from the <code>String</code> API , and / or binary search methods of  the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html\" rel=\"nofollow noreferrer\">Arrays API</a> . Also, your code will be easier for others to read if you follow <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a> ."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696525092,"post_id":77238671,"comment_id":136167536,"body_markdown":"Way off-topic:  Hint to simplify your code:  `char` in Java is an integer type. You can do arithmetic with `char` data. Example:  `char letter = &#39;g&#39;; System.out.println (letter + &quot; is at position &quot; + (letter - &#39;a&#39; + 1) + &quot; in the alphabet.&quot;);`","body":"Way off-topic:  Hint to simplify your code:  <code>char</code> in Java is an integer type. You can do arithmetic with <code>char</code> data. Example:  <code>char letter = &#39;g&#39;; System.out.println (letter + &quot; is at position &quot; + (letter - &#39;a&#39; + 1) + &quot; in the alphabet.&quot;);</code>"},{"owner":{"account_id":28732510,"reputation":3,"user_id":22004159,"display_name":"Puppy_With_Pinecone"},"score":0,"creation_date":1696554090,"post_id":77238671,"comment_id":136171514,"body_markdown":"Ok so I am making all of the suggested changes now:\n\nI added a method to separate the conversion from the main array, thanks!\nI added an else-if to iterate the KeyIndex, thank you!\nI am gonna look up how to use the debugger in eclipse.  Didn&#39;t think to do that!\nI usually drop print statements in to test the code too, thanks\ntoCharArray() sounds very useful, I will look it up\nNaming conventions are important, got it.  \n\nI&#39;ll come back with an updated program when I&#39;m done.","body":"Ok so I am making all of the suggested changes now:  I added a method to separate the conversion from the main array, thanks! I added an else-if to iterate the KeyIndex, thank you! I am gonna look up how to use the debugger in eclipse.  Didn&#39;t think to do that! I usually drop print statements in to test the code too, thanks toCharArray() sounds very useful, I will look it up Naming conventions are important, got it.    I&#39;ll come back with an updated program when I&#39;m done."}],"answers":[{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696527598,"creation_date":1696527598,"answer_id":77239422,"question_id":77238671,"body_markdown":"Your problem seems to be in the nested loops. \r\n\r\n1. Your loop condition should be `CharStringArray.length` instead of `EngMorseArray.length` in the outer loop.\r\n2. Your `KeyIndex` should be initialized inside the outer loop.\r\n3. `KeyIndex` should incremented when no match is found.\r\n4. When you find a match, you should break out of inner loop.\r\n\r\nHere is the updated code snippet.\r\n```java\r\n            /*\r\n             * convert from char Array to string again for (int index = 0; index &lt;=\r\n             * CharStringArray[index]; index++) { String charString = &quot;&quot;; charString +=\r\n             * CharStringArray[index]; }\r\n             */\r\n            System.out.println();\r\n            int InputIndex;\r\n            for (InputIndex = 0; InputIndex &lt; CharStringArray.length; InputIndex++) {\r\n                if (CharStringArray[InputIndex] == &#39; &#39;) {\r\n                    System.out.print(&quot; | &quot;);\r\n                    continue;\r\n                }\r\n\r\n                int KeyIndex = 0;\r\n                while (KeyIndex &lt; EngMorseArray.length) {\r\n                    if (EngMorseArray[KeyIndex] == CharStringArray[InputIndex]) {\r\n                        System.out.print(MorseEngArray[KeyIndex] + &quot; &quot;);\r\n                        break;\r\n                    }\r\n                    KeyIndex++;\r\n                }\r\n            }\r\n```\r\nThere are other places where the code can be improved. Like using library method [`String.toCharArray()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#toCharArray()) to convert string to char array. You can use maps instead of arrays to keep key, value pair.\r\n","title":"Java morse code program - the program gets stuck on input","body":"<p>Your problem seems to be in the nested loops.</p>\n<ol>\n<li>Your loop condition should be <code>CharStringArray.length</code> instead of <code>EngMorseArray.length</code> in the outer loop.</li>\n<li>Your <code>KeyIndex</code> should be initialized inside the outer loop.</li>\n<li><code>KeyIndex</code> should incremented when no match is found.</li>\n<li>When you find a match, you should break out of inner loop.</li>\n</ol>\n<p>Here is the updated code snippet.</p>\n<pre class=\"lang-java prettyprint-override\"><code>            /*\n             * convert from char Array to string again for (int index = 0; index &lt;=\n             * CharStringArray[index]; index++) { String charString = &quot;&quot;; charString +=\n             * CharStringArray[index]; }\n             */\n            System.out.println();\n            int InputIndex;\n            for (InputIndex = 0; InputIndex &lt; CharStringArray.length; InputIndex++) {\n                if (CharStringArray[InputIndex] == ' ') {\n                    System.out.print(&quot; | &quot;);\n                    continue;\n                }\n\n                int KeyIndex = 0;\n                while (KeyIndex &lt; EngMorseArray.length) {\n                    if (EngMorseArray[KeyIndex] == CharStringArray[InputIndex]) {\n                        System.out.print(MorseEngArray[KeyIndex] + &quot; &quot;);\n                        break;\n                    }\n                    KeyIndex++;\n                }\n            }\n</code></pre>\n<p>There are other places where the code can be improved. Like using library method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#toCharArray()\" rel=\"nofollow noreferrer\"><code>String.toCharArray()</code></a> to convert string to char array. You can use maps instead of arrays to keep key, value pair.</p>\n"},{"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696815115,"post_id":77241609,"comment_id":136197091,"body_markdown":"By the way, instead of `EngInput = input.nextLine();` to read the end of the preceding line, you could have `input.nextLine(); // read and discard remaining characters in input buffer`.  Even though `input.nextLine()` returns a value, you are not required to &quot;see&quot; the result. `input.nextLine()` is being called for its side effect.","body":"By the way, instead of <code>EngInput = input.nextLine();</code> to read the end of the preceding line, you could have <code>input.nextLine(); &#47;&#47; read and discard remaining characters in input buffer</code>.  Even though <code>input.nextLine()</code> returns a value, you are not required to &quot;see&quot; the result. <code>input.nextLine()</code> is being called for its side effect."}],"tags":[],"owner":{"account_id":28732510,"reputation":3,"user_id":22004159,"display_name":"Puppy_With_Pinecone"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696560624,"creation_date":1696560624,"answer_id":77241609,"question_id":77238671,"body_markdown":"Ok so here is the new and improved program based on everyone&#39;s input.  First, the main program:  \r\n\r\n    public static void main(String[] args)\r\n    {\r\n    Scanner input = new Scanner(System.in);\r\n\r\n    String WhichConversion; // 1 means EngToMorse, 2 means MorseToEng\r\n\r\n    String EngInput; // raw string input for EngToMorse\r\n    String CodeOutput; // Output from EngToMorse\r\n    char[] EngInputArray; // EngInput converted to char array\r\n\r\n    String CodeInput; // raw code input for MorseToEng\r\n    String EngOutput; // Output from MorseToEng\r\n\r\n    // First we identify if we are going eng - morse or vice versa\r\n    System.out.println(&quot;for Eng -&gt; Morse, enter 1.  for Morse -&gt; Eng, enter 2&quot;);\r\n    WhichConversion = input.next();\r\n\r\n    // English to Morse\r\n    if (WhichConversion.equals(&quot;1&quot;))\r\n    {\r\n       System.out.println(&quot;What is the text you would like coded?&quot;\r\n       + &quot; (lowercase a-z and 0-9 with a space between words, &quot; + &quot;please) \r\n       &quot;);\r\n\r\n    EngInput = input.nextLine(); // this line is here twice\r\n    EngInput = input.nextLine(); // to avoid nextInt/nextLine issue\r\n\r\n    // declare array after EngInput is defined\r\n    EngInputArray = new char[EngInput.length() + 1];\r\n\r\n    // Convert EngInput to EngInputArray\r\n    for (int index = 0; index &lt; EngInput.length(); index++)\r\n    {\r\n        EngInputArray[index] += EngInput.charAt(index);\r\n    }\r\n    System.out.print(EngInputArray);\r\n    System.out.println(&quot; &quot;);\r\n\r\n    convertToMorse(EngInputArray);\r\n    }\r\n     &#39;&#39;&#39;\r\n\r\nAnd here is the method for the conversion from English to morse code:\r\n     \r\n    private static void convertToMorse(char[] EngInputArray)\r\n    {\r\n        char[] EngArray =\r\n        { &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, \r\n            &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;,\r\n            &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39; };\r\n\r\n        String[] MorseArray =\r\n        { &quot;.-&quot;, &quot;-...&quot;, &quot;-.-.&quot;, &quot;-..&quot;, &quot;.&quot;, &quot;..-.&quot;, &quot;--.&quot;, &quot;....&quot;, &quot;..&quot;, &quot;.---&quot;, \r\n            &quot;-.- &quot;, &quot;.-..&quot;, &quot;--&quot;, &quot;-.&quot;, &quot;---&quot;, &quot;.--.&quot;, &quot;--.-&quot;, &quot;.-.&quot;, &quot;…&quot;, &quot;-&quot;, &quot;..- \r\n            &quot;, &quot;...-&quot;, &quot;.--&quot;, &quot;-..-&quot;, &quot;-.--&quot;, &quot;--..&quot;, &quot;-----&quot;, &quot;.----&quot;, &quot;..---&quot;, \r\n            &quot;...--&quot;, &quot;....-&quot;, &quot;.....&quot;, &quot;-....&quot;, &quot;--...&quot;, &quot;---..&quot;, &quot;----.&quot; \r\n        };\r\n\r\n    int KeyIndex = 0;\r\n    int InputIndex = 0;\r\n\r\n    for (InputIndex = 0; InputIndex &lt; EngArray.length; InputIndex++)\r\n    {\r\n        KeyIndex = 0;\r\n        System.out.print(&quot; &quot;);\r\n\r\n        while (KeyIndex &lt; EngArray.length &amp; InputIndex &lt; EngInputArray.length)\r\n        {\r\n            if (EngArray[KeyIndex] == EngInputArray[InputIndex])\r\n            {\r\n                 System.out.print(MorseArray[KeyIndex] + &quot; &quot;);\r\n                 KeyIndex = EngArray.length;\r\n                 break;\r\n            } else if (EngInputArray[InputIndex] == &#39; &#39;)\r\n            {\r\n                System.out.print(&quot; | &quot;);\r\n                KeyIndex = EngArray.length;\r\n                break;\r\n            } else if (EngInputArray[InputIndex] != &#39; &#39; &amp; EngArray[KeyIndex] != \r\n                EngInputArray[InputIndex])\r\n            {\r\n               KeyIndex++;\r\n            }\r\n           }\r\n        }\r\n    } // End EngToMorse","title":"Java morse code program - the program gets stuck on input","body":"<p>Ok so here is the new and improved program based on everyone's input.  First, the main program:</p>\n<pre><code>public static void main(String[] args)\n{\nScanner input = new Scanner(System.in);\n\nString WhichConversion; // 1 means EngToMorse, 2 means MorseToEng\n\nString EngInput; // raw string input for EngToMorse\nString CodeOutput; // Output from EngToMorse\nchar[] EngInputArray; // EngInput converted to char array\n\nString CodeInput; // raw code input for MorseToEng\nString EngOutput; // Output from MorseToEng\n\n// First we identify if we are going eng - morse or vice versa\nSystem.out.println(&quot;for Eng -&gt; Morse, enter 1.  for Morse -&gt; Eng, enter 2&quot;);\nWhichConversion = input.next();\n\n// English to Morse\nif (WhichConversion.equals(&quot;1&quot;))\n{\n   System.out.println(&quot;What is the text you would like coded?&quot;\n   + &quot; (lowercase a-z and 0-9 with a space between words, &quot; + &quot;please) \n   &quot;);\n\nEngInput = input.nextLine(); // this line is here twice\nEngInput = input.nextLine(); // to avoid nextInt/nextLine issue\n\n// declare array after EngInput is defined\nEngInputArray = new char[EngInput.length() + 1];\n\n// Convert EngInput to EngInputArray\nfor (int index = 0; index &lt; EngInput.length(); index++)\n{\n    EngInputArray[index] += EngInput.charAt(index);\n}\nSystem.out.print(EngInputArray);\nSystem.out.println(&quot; &quot;);\n\nconvertToMorse(EngInputArray);\n}\n '''\n</code></pre>\n<p>And here is the method for the conversion from English to morse code:</p>\n<pre><code>private static void convertToMorse(char[] EngInputArray)\n{\n    char[] EngArray =\n    { 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', \n        'p', 'q', 'r', 's', 't', 'u', 'v',\n        'w', 'x', 'y', 'z', '1', '2', '3', '4', '5', '6', '7', '8', '9' };\n\n    String[] MorseArray =\n    { &quot;.-&quot;, &quot;-...&quot;, &quot;-.-.&quot;, &quot;-..&quot;, &quot;.&quot;, &quot;..-.&quot;, &quot;--.&quot;, &quot;....&quot;, &quot;..&quot;, &quot;.---&quot;, \n        &quot;-.- &quot;, &quot;.-..&quot;, &quot;--&quot;, &quot;-.&quot;, &quot;---&quot;, &quot;.--.&quot;, &quot;--.-&quot;, &quot;.-.&quot;, &quot;…&quot;, &quot;-&quot;, &quot;..- \n        &quot;, &quot;...-&quot;, &quot;.--&quot;, &quot;-..-&quot;, &quot;-.--&quot;, &quot;--..&quot;, &quot;-----&quot;, &quot;.----&quot;, &quot;..---&quot;, \n        &quot;...--&quot;, &quot;....-&quot;, &quot;.....&quot;, &quot;-....&quot;, &quot;--...&quot;, &quot;---..&quot;, &quot;----.&quot; \n    };\n\nint KeyIndex = 0;\nint InputIndex = 0;\n\nfor (InputIndex = 0; InputIndex &lt; EngArray.length; InputIndex++)\n{\n    KeyIndex = 0;\n    System.out.print(&quot; &quot;);\n\n    while (KeyIndex &lt; EngArray.length &amp; InputIndex &lt; EngInputArray.length)\n    {\n        if (EngArray[KeyIndex] == EngInputArray[InputIndex])\n        {\n             System.out.print(MorseArray[KeyIndex] + &quot; &quot;);\n             KeyIndex = EngArray.length;\n             break;\n        } else if (EngInputArray[InputIndex] == ' ')\n        {\n            System.out.print(&quot; | &quot;);\n            KeyIndex = EngArray.length;\n            break;\n        } else if (EngInputArray[InputIndex] != ' ' &amp; EngArray[KeyIndex] != \n            EngInputArray[InputIndex])\n        {\n           KeyIndex++;\n        }\n       }\n    }\n} // End EngToMorse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696573960,"creation_date":1696573960,"answer_id":77242278,"question_id":77238671,"body_markdown":"&gt; _&quot;... when executing the code I seem to be stuck in an input mode before the [int KeyIndex = 0;] line. ...&quot;_\r\n\r\nUse the _next_ method if you&#39;re parsing more than one value from the input line.\\\r\nOthewise, use the _nextLine_ method.\r\n\r\n```java\r\nString WhichConversion = input.nextLine();\r\n```\r\n\r\nThen, the _CharString_ assignment will only require one _nextLine_ call.","title":"Java morse code program - the program gets stuck on input","body":"<blockquote>\n<p><em>&quot;... when executing the code I seem to be stuck in an input mode before the [int KeyIndex = 0;] line. ...&quot;</em></p>\n</blockquote>\n<p>Use the <em>next</em> method if you're parsing more than one value from the input line.<br />\nOthewise, use the <em>nextLine</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String WhichConversion = input.nextLine();\n</code></pre>\n<p>Then, the <em>CharString</em> assignment will only require one <em>nextLine</em> call.</p>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696815541,"creation_date":1696798254,"answer_id":77255297,"question_id":77238671,"body_markdown":"I&#39;d like to illustrate how using arithmetic on `char` types can simplify this code. It&#39;s not really related to the question about input.\r\n\r\nFirst, the Morse code array should be `static` data of the class. After all, the same data will be needed to encode to Morse as decode from Morse.\r\n\r\n````\r\npublic class Puppy_with_pinecone {\r\n    \r\n    private static final String[] MORSE_CODE =  { \r\n          // letters a to z (lowercase)\r\n          &quot;•‒&quot;, &quot;‒•••&quot;, &quot;‒•‒•&quot;, &quot;‒••&quot;, &quot;•&quot; , &quot;••‒•&quot;, &quot;‒‒•&quot;, &quot;••••&quot;, &quot;••&quot;\r\n        , &quot;•‒‒‒&quot;, &quot;‒•‒ &quot;, &quot;•‒••&quot;, &quot;‒‒&quot;, &quot;‒•&quot;, &quot;‒‒‒&quot;, &quot;•‒‒•&quot;, &quot;‒‒•‒&quot;, &quot;•‒•&quot;\r\n        , &quot;•••&quot;, &quot;‒&quot;, &quot;••‒&quot;, &quot;•••‒&quot;, &quot;•‒‒&quot;, &quot;‒••‒&quot;, &quot;‒•‒‒&quot;, &quot;‒‒••&quot;\r\n         // digits 0 to 9      \r\n        , &quot;‒‒‒‒‒&quot;, &quot;•‒‒‒‒&quot;, &quot;••‒‒‒&quot;, &quot;•••‒‒&quot;, &quot;••••‒&quot; \r\n        , &quot;•••••&quot;, &quot;‒••••&quot;, &quot;‒‒•••&quot;, &quot;‒‒‒••&quot;, &quot;‒‒‒‒•&quot;    \r\n    };\r\n    \r\n    private static final char SPACE = &#39; &#39;;\r\n\r\n    public static void main(String[] args) {\r\n    ...\r\n}\r\n````\r\n\r\nThe following works because the letters `A` to `Z` are consecutive in ASCII, as are the letters `a` to `z` and the digits `0` to `9`.[1]  And Unicode is based on ASCII. \r\n\r\nThe `char` type in Java is an integer type primitive. So, `char` data can be used for arithmetic. \r\n\r\n````\r\n    \r\n    public static String toMorse (String input) {\r\n\r\n        StringBuilder output = new StringBuilder(input.length() * 6);           \r\n            \r\n        for (int inpIndex = 0; inpIndex &lt; input.length(); inpIndex++) {\r\n            char letter = Character.toLowerCase(input.charAt(inpIndex));\r\n            if (letter &gt;= &#39;a&#39; &amp;&amp; letter &lt;= &#39;z&#39;) {\r\n                output.append (MORSE_CODE [letter - &#39;a&#39;]).append(SPACE);\r\n            } else if (letter &gt;= &#39;0&#39; &amp;&amp; letter &lt;= &#39;9&#39;) {\r\n                output.append (MORSE_CODE [letter - &#39;0&#39; + 26]).append (SPACE);\r\n            }\r\n            else if (Character.isWhitespace(letter))  {\r\n                output.append (&quot; | &quot;);\r\n            }\r\n        }\r\n        return output.toString();\r\n    }  \r\n\r\n````\r\n\r\n - Returning a `String` is in keeping with separation of responsibilities design. Having the output handled outside the method that does the conversion makes it easier to reuse the conversion method. You might, for example, want to write the Morse code to a file, or pass it to a method that generates the sound of Morse code. \r\n\r\n\r\n[1] Note this is not true of EBCDIC.","title":"Java morse code program - the program gets stuck on input","body":"<p>I'd like to illustrate how using arithmetic on <code>char</code> types can simplify this code. It's not really related to the question about input.</p>\n<p>First, the Morse code array should be <code>static</code> data of the class. After all, the same data will be needed to encode to Morse as decode from Morse.</p>\n<pre><code>public class Puppy_with_pinecone {\n    \n    private static final String[] MORSE_CODE =  { \n          // letters a to z (lowercase)\n          &quot;•‒&quot;, &quot;‒•••&quot;, &quot;‒•‒•&quot;, &quot;‒••&quot;, &quot;•&quot; , &quot;••‒•&quot;, &quot;‒‒•&quot;, &quot;••••&quot;, &quot;••&quot;\n        , &quot;•‒‒‒&quot;, &quot;‒•‒ &quot;, &quot;•‒••&quot;, &quot;‒‒&quot;, &quot;‒•&quot;, &quot;‒‒‒&quot;, &quot;•‒‒•&quot;, &quot;‒‒•‒&quot;, &quot;•‒•&quot;\n        , &quot;•••&quot;, &quot;‒&quot;, &quot;••‒&quot;, &quot;•••‒&quot;, &quot;•‒‒&quot;, &quot;‒••‒&quot;, &quot;‒•‒‒&quot;, &quot;‒‒••&quot;\n         // digits 0 to 9      \n        , &quot;‒‒‒‒‒&quot;, &quot;•‒‒‒‒&quot;, &quot;••‒‒‒&quot;, &quot;•••‒‒&quot;, &quot;••••‒&quot; \n        , &quot;•••••&quot;, &quot;‒••••&quot;, &quot;‒‒•••&quot;, &quot;‒‒‒••&quot;, &quot;‒‒‒‒•&quot;    \n    };\n    \n    private static final char SPACE = ' ';\n\n    public static void main(String[] args) {\n    ...\n}\n</code></pre>\n<p>The following works because the letters <code>A</code> to <code>Z</code> are consecutive in ASCII, as are the letters <code>a</code> to <code>z</code> and the digits <code>0</code> to <code>9</code>.[1]  And Unicode is based on ASCII.</p>\n<p>The <code>char</code> type in Java is an integer type primitive. So, <code>char</code> data can be used for arithmetic.</p>\n<pre><code>    \n    public static String toMorse (String input) {\n\n        StringBuilder output = new StringBuilder(input.length() * 6);           \n            \n        for (int inpIndex = 0; inpIndex &lt; input.length(); inpIndex++) {\n            char letter = Character.toLowerCase(input.charAt(inpIndex));\n            if (letter &gt;= 'a' &amp;&amp; letter &lt;= 'z') {\n                output.append (MORSE_CODE [letter - 'a']).append(SPACE);\n            } else if (letter &gt;= '0' &amp;&amp; letter &lt;= '9') {\n                output.append (MORSE_CODE [letter - '0' + 26]).append (SPACE);\n            }\n            else if (Character.isWhitespace(letter))  {\n                output.append (&quot; | &quot;);\n            }\n        }\n        return output.toString();\n    }  \n\n</code></pre>\n<ul>\n<li>Returning a <code>String</code> is in keeping with separation of responsibilities design. Having the output handled outside the method that does the conversion makes it easier to reuse the conversion method. You might, for example, want to write the Morse code to a file, or pass it to a method that generates the sound of Morse code.</li>\n</ul>\n<p>[1] Note this is not true of EBCDIC.</p>\n"}],"owner":{"account_id":28732510,"reputation":3,"user_id":22004159,"display_name":"Puppy_With_Pinecone"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77239422,"answer_count":4,"score":0,"last_activity_date":1696815541,"creation_date":1696520760,"question_id":77238671,"body_markdown":"This program is using string methods to convert from English to morse code.  when executing the code I seem to be stuck in an input mode before the [int KeyIndex = 0;] line.  I am only testing for the English to morse code loop, so I have not included the morse to english portion of the code.\r\n\r\n`public static void main(String[] args)\r\n   {\r\n      Scanner input = new Scanner(System.in);\r\n\r\n      char[] EngMorseArray =\r\n      { &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;,\r\n            &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39; };\r\n\r\n      String[] MorseEngArray =\r\n      { &quot;.-&quot;, &quot;-...&quot;, &quot;-.-.&quot;, &quot;-..&quot;, &quot;.&quot;, &quot;..-.&quot;, &quot;--.&quot;, &quot;....&quot;, &quot;..&quot;, &quot;.---&quot;, &quot;-.-&quot;, &quot;.-..&quot;, &quot;--&quot;, &quot;-.&quot;, &quot;---&quot;, &quot;.--.&quot;,\r\n            &quot;--.-&quot;, &quot;.-.&quot;, &quot;…&quot;, &quot;-&quot;, &quot;..-&quot;, &quot;...-&quot;, &quot;.--&quot;, &quot;-..-&quot;, &quot;-.--&quot;, &quot;--..&quot;, &quot;-----&quot;, &quot;.----&quot;, &quot;..---&quot;, &quot;...--&quot;,\r\n            &quot;....-&quot;, &quot;.....&quot;, &quot;-....&quot;, &quot;--...&quot;, &quot;---..&quot;, &quot;----.&quot; };\r\n\r\n      // First we identify if we are going eng - morse or vice versa\r\n      System.out.println(&quot;for Eng -&gt; Morse, enter 1.  for Morse -&gt; Eng, enter 2&quot;);\r\n      String WhichConversion = input.next();\r\n\r\n      if (WhichConversion.equals(&quot;1&quot;)) // English to Morse\r\n      {\r\n         System.out.println(&quot;What is the text you would like coded?&quot;\r\n               + &quot; (lowercase a-z and 0-9 with a space between words, &quot; + &quot;please) &quot;);\r\n         \r\n         String CharString = input.nextLine(); // this line is here twice\r\n         CharString = input.nextLine(); // to avoid nextInt/nextLine issue\r\n         \r\n         char[] CharStringArray = new char[CharString.length() + 1];\r\n         \r\n         \r\n         for (int index = 0; index &lt; CharString.length(); index++) // Convert string to char array\r\n         {\r\n            CharStringArray[index] = CharString.charAt(index);\r\n            System.out.print(CharStringArray[index]);\r\n         }\r\n         /*\r\n          * convert from char Array to string again for (int index = 0; index &lt;=\r\n          * CharStringArray[index]; index++) { String charString = &quot;&quot;; charString +=\r\n          * CharStringArray[index]; }\r\n          */\r\n         \r\n         int KeyIndex = 0;\r\n         int InputIndex;\r\n\r\n         for (InputIndex = 0; InputIndex &lt; EngMorseArray.length; InputIndex++)\r\n         {\r\n\r\n            while (KeyIndex &lt;= EngMorseArray.length)\r\n            {\r\n               \r\n               if (EngMorseArray[KeyIndex] == CharStringArray[InputIndex])\r\n               {\r\n                  System.out.println(MorseEngArray[KeyIndex] + &quot; &quot;);\r\n                  KeyIndex++;\r\n               } else if (CharStringArray[InputIndex] == &#39; &#39;)\r\n               {\r\n                  System.out.println(&quot; | &quot;);\r\n                  KeyIndex++;\r\n               }`","title":"Java morse code program - the program gets stuck on input","body":"<p>This program is using string methods to convert from English to morse code.  when executing the code I seem to be stuck in an input mode before the [int KeyIndex = 0;] line.  I am only testing for the English to morse code loop, so I have not included the morse to english portion of the code.</p>\n<p>`public static void main(String[] args)\n{\nScanner input = new Scanner(System.in);</p>\n<pre><code>  char[] EngMorseArray =\n  { 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v',\n        'w', 'x', 'y', 'z', '1', '2', '3', '4', '5', '6', '7', '8', '9' };\n\n  String[] MorseEngArray =\n  { &quot;.-&quot;, &quot;-...&quot;, &quot;-.-.&quot;, &quot;-..&quot;, &quot;.&quot;, &quot;..-.&quot;, &quot;--.&quot;, &quot;....&quot;, &quot;..&quot;, &quot;.---&quot;, &quot;-.-&quot;, &quot;.-..&quot;, &quot;--&quot;, &quot;-.&quot;, &quot;---&quot;, &quot;.--.&quot;,\n        &quot;--.-&quot;, &quot;.-.&quot;, &quot;…&quot;, &quot;-&quot;, &quot;..-&quot;, &quot;...-&quot;, &quot;.--&quot;, &quot;-..-&quot;, &quot;-.--&quot;, &quot;--..&quot;, &quot;-----&quot;, &quot;.----&quot;, &quot;..---&quot;, &quot;...--&quot;,\n        &quot;....-&quot;, &quot;.....&quot;, &quot;-....&quot;, &quot;--...&quot;, &quot;---..&quot;, &quot;----.&quot; };\n\n  // First we identify if we are going eng - morse or vice versa\n  System.out.println(&quot;for Eng -&gt; Morse, enter 1.  for Morse -&gt; Eng, enter 2&quot;);\n  String WhichConversion = input.next();\n\n  if (WhichConversion.equals(&quot;1&quot;)) // English to Morse\n  {\n     System.out.println(&quot;What is the text you would like coded?&quot;\n           + &quot; (lowercase a-z and 0-9 with a space between words, &quot; + &quot;please) &quot;);\n     \n     String CharString = input.nextLine(); // this line is here twice\n     CharString = input.nextLine(); // to avoid nextInt/nextLine issue\n     \n     char[] CharStringArray = new char[CharString.length() + 1];\n     \n     \n     for (int index = 0; index &lt; CharString.length(); index++) // Convert string to char array\n     {\n        CharStringArray[index] = CharString.charAt(index);\n        System.out.print(CharStringArray[index]);\n     }\n     /*\n      * convert from char Array to string again for (int index = 0; index &lt;=\n      * CharStringArray[index]; index++) { String charString = &quot;&quot;; charString +=\n      * CharStringArray[index]; }\n      */\n     \n     int KeyIndex = 0;\n     int InputIndex;\n\n     for (InputIndex = 0; InputIndex &lt; EngMorseArray.length; InputIndex++)\n     {\n\n        while (KeyIndex &lt;= EngMorseArray.length)\n        {\n           \n           if (EngMorseArray[KeyIndex] == CharStringArray[InputIndex])\n           {\n              System.out.println(MorseEngArray[KeyIndex] + &quot; &quot;);\n              KeyIndex++;\n           } else if (CharStringArray[InputIndex] == ' ')\n           {\n              System.out.println(&quot; | &quot;);\n              KeyIndex++;\n           }`\n</code></pre>\n"},{"tags":["java","collections","hashset","linkedhashset"],"comments":[{"owner":{"account_id":2188639,"reputation":2082,"user_id":1936390,"accept_rate":20,"display_name":"shreyansh jogi"},"score":1,"creation_date":1385469908,"post_id":20217414,"comment_id":30147307,"body_markdown":"such a huge topic to give you answer here better first study thouroghly","body":"such a huge topic to give you answer here better first study thouroghly"},{"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"score":2,"creation_date":1385469966,"post_id":20217414,"comment_id":30147343,"body_markdown":"Why do you ask here when the official documentation answers all your questions?","body":"Why do you ask here when the official documentation answers all your questions?"},{"owner":{"account_id":208696,"reputation":2360,"user_id":459347,"accept_rate":100,"display_name":"lscoughlin"},"score":2,"creation_date":1385469971,"post_id":20217414,"comment_id":30147350,"body_markdown":"Downvoted because you didn&#39;t google it first.","body":"Downvoted because you didn&#39;t google it first."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1385470087,"post_id":20217414,"comment_id":30147411,"body_markdown":"Maybe it is not duplicate since you are asking about Sets but this seems similar: http://stackoverflow.com/questions/2889777/difference-between-hashmap-linkedhashmap-and-sortedmap-in-java/17708526","body":"Maybe it is not duplicate since you are asking about Sets but this seems similar: <a href=\"http://stackoverflow.com/questions/2889777/difference-between-hashmap-linkedhashmap-and-sortedmap-in-java/17708526\" title=\"difference between hashmap linkedhashmap and sortedmap in java\">stackoverflow.com/questions/2889777/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"score":2,"creation_date":1385470159,"post_id":20217507,"comment_id":30147461,"body_markdown":"In fact `LinkedHashSet` uses a `LinkedHashMap` which extends `HashMap`. Basically it is a decorator for a `HashMap`.","body":"In fact <code>LinkedHashSet</code> uses a <code>LinkedHashMap</code> which extends <code>HashMap</code>. Basically it is a decorator for a <code>HashMap</code>."},{"owner":{"account_id":1168964,"reputation":4060,"user_id":1146585,"accept_rate":100,"display_name":"Pierre Arlaud"},"score":0,"creation_date":1385471169,"post_id":20217507,"comment_id":30148041,"body_markdown":"Interesting, thanks. The point is, you shouldn&#39;t really care what&#39;s behind it as long as they do not allow duplicates :)","body":"Interesting, thanks. The point is, you shouldn&#39;t really care what&#39;s behind it as long as they do not allow duplicates :)"}],"tags":[],"owner":{"account_id":1168964,"reputation":4060,"user_id":1146585,"accept_rate":100,"display_name":"Pierre Arlaud"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385470019,"creation_date":1385470019,"answer_id":20217507,"question_id":20217414,"body_markdown":"I&#39;ll be succinct.\r\n\r\nA Set follows the math theory of sets. A Set (AbstractSet is the supertype in Java) is similar to a list except it cannot have the same element twice.\r\n\r\nHashSet implements it with a HashMap,\r\nTreeSet implements it with a Tree,\r\nLinkedHashset implements it with a doubly-linked list.\r\n","title":"What is the main difference between Hashset, Treeset and LinkedHashset, Hashmap and how does it work in Java?","body":"<p>I'll be succinct.</p>\n\n<p>A Set follows the math theory of sets. A Set (AbstractSet is the supertype in Java) is similar to a list except it cannot have the same element twice.</p>\n\n<p>HashSet implements it with a HashMap,\nTreeSet implements it with a Tree,\nLinkedHashset implements it with a doubly-linked list.</p>\n"},{"tags":[],"owner":{"account_id":2353390,"reputation":4575,"user_id":2061763,"accept_rate":67,"display_name":"Andrei Nicusan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1385470511,"creation_date":1385470511,"answer_id":20217691,"question_id":20217414,"body_markdown":"First of all, you need to know that all `Set` implementations share the same feature: they don&#39;t allow duplicates. It&#39;s not just a feature of the `LinkedHashSet`.\r\n\r\nSecond, one important difference is that, out of the 3 set types you asked about, the `TreeSet` is a sorted set, that is elements are ordered according to their natural ordering or according to a logic described imperatively using a `Comparator` or implementing the `Comparable` interface.\r\n\r\nSwitching to the difference between `HashSet` and `LinkedHashSet`, please note that `LinkedHashSet` is a subclass of `HashSet`. They are not sorted sets. \r\n\r\n`HashSet` is the fastest implementation of a set and it ensures the uniqueness of elements using (first) their hash value returned by the `hashCode()` method and (then) their `equals()` method. Behind the scenes, it uses a `HashMap`. \r\n\r\nThe `LinkedHashSet` ensures consistent ordering over the elements of the set with the help of a `LinkedList`, which basic `HashSet`s do not provide.","title":"What is the main difference between Hashset, Treeset and LinkedHashset, Hashmap and how does it work in Java?","body":"<p>First of all, you need to know that all <code>Set</code> implementations share the same feature: they don't allow duplicates. It's not just a feature of the <code>LinkedHashSet</code>.</p>\n\n<p>Second, one important difference is that, out of the 3 set types you asked about, the <code>TreeSet</code> is a sorted set, that is elements are ordered according to their natural ordering or according to a logic described imperatively using a <code>Comparator</code> or implementing the <code>Comparable</code> interface.</p>\n\n<p>Switching to the difference between <code>HashSet</code> and <code>LinkedHashSet</code>, please note that <code>LinkedHashSet</code> is a subclass of <code>HashSet</code>. They are not sorted sets. </p>\n\n<p><code>HashSet</code> is the fastest implementation of a set and it ensures the uniqueness of elements using (first) their hash value returned by the <code>hashCode()</code> method and (then) their <code>equals()</code> method. Behind the scenes, it uses a <code>HashMap</code>. </p>\n\n<p>The <code>LinkedHashSet</code> ensures consistent ordering over the elements of the set with the help of a <code>LinkedList</code>, which basic <code>HashSet</code>s do not provide.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696814882,"creation_date":1385470833,"answer_id":20217811,"question_id":20217414,"body_markdown":"&gt; My doubt is, why &quot;a&quot; is inserting in between &quot;B&quot; and &quot;C&quot;.\r\n\r\nA `TreeSet` orders the entries.\r\n\r\nA `LinkedHashSet` preserves the insertion order.\r\n\r\nA `HashSet` does not preserve the order of insertion, and is does not sort/order the entries.  That means that when you iterate over the set, the entries are returned in an order that is hard to fathom ... and of no practical significance.  There is no particular &quot;reason&quot; that `&quot;a&quot;` is inserted at that point.  That&#39;s just how it turned out ... given the set of input keys and the order in which they were inserted.\r\n\r\n&gt; My only doubt is, how does `HashSet` works in Java.\r\n\r\nIt is implemented a hash table.  Read the Wikipedia page on [hash tables][1] for a general overview, and the source code of `java.util.HashMap` and `java.util.HashSet` for the details.\r\n\r\nThe short answer is that `HashSet` and `HashMap` are both a hash table implemented as an array of hash chains.\r\n\r\n&gt; And I know that, `LinkedHashSet` follows doubly linked list. If it uses doubly linked list then how does it stores the elements?\r\n\r\n`LinkedHashSet` is essentially a hash table with an additional linked list that records the insertion order.  The elements are stored in the main hash table ... and that is what provides fast lookup.  Again, refer to the source code for details.\r\n\r\n&gt; What does mean by doubly linked list and how does it works?\r\n\r\nRead the article in Wikipedia on [doubly linked lists][2].\r\n\r\n--------------------------\r\n\r\n&gt; Then where all these three `HashSet`, `TreeSet`, `LinkedHashSet` would be used in Java and which one has better performance in java?\r\n\r\nThere are a number of things to think about when choosing between these three classes (and others):\r\n\r\n  - Do they provide the required functionality.  For example, we&#39;ve already seen that they have *different* behavior with respect to the order of iteration.\r\n\r\n  - Do they have the required concurrency properties?  For example, are they thread-safe? do they deal with contention? do they allow concurrent modification?  (Note: that none of these 3 classes are thread-safe.)\r\n\r\n  - How much space do they require?\r\n\r\n  - What are the performance (time) characteristics.\r\n\r\nOn the last two points?  \r\n\r\n  - A `TreeSet` uses the least space, and a `LinkedHashSet` uses the most.  The actual space requirements are platform dependent, and in the case of hashsets they can vary depending on how the set was created and populated.)\r\n\r\n  - A `HashSet` tends to be fastest for lookup, insertion and deletion for larger sets, and a `TreeSet` tends to be slowest.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Hash_table\r\n  [2]: http://en.wikipedia.org/wiki/Doubly_linked_list","title":"What is the main difference between Hashset, Treeset and LinkedHashset, Hashmap and how does it work in Java?","body":"<blockquote>\n<p>My doubt is, why &quot;a&quot; is inserting in between &quot;B&quot; and &quot;C&quot;.</p>\n</blockquote>\n<p>A <code>TreeSet</code> orders the entries.</p>\n<p>A <code>LinkedHashSet</code> preserves the insertion order.</p>\n<p>A <code>HashSet</code> does not preserve the order of insertion, and is does not sort/order the entries.  That means that when you iterate over the set, the entries are returned in an order that is hard to fathom ... and of no practical significance.  There is no particular &quot;reason&quot; that <code>&quot;a&quot;</code> is inserted at that point.  That's just how it turned out ... given the set of input keys and the order in which they were inserted.</p>\n<blockquote>\n<p>My only doubt is, how does <code>HashSet</code> works in Java.</p>\n</blockquote>\n<p>It is implemented a hash table.  Read the Wikipedia page on <a href=\"http://en.wikipedia.org/wiki/Hash_table\" rel=\"nofollow noreferrer\">hash tables</a> for a general overview, and the source code of <code>java.util.HashMap</code> and <code>java.util.HashSet</code> for the details.</p>\n<p>The short answer is that <code>HashSet</code> and <code>HashMap</code> are both a hash table implemented as an array of hash chains.</p>\n<blockquote>\n<p>And I know that, <code>LinkedHashSet</code> follows doubly linked list. If it uses doubly linked list then how does it stores the elements?</p>\n</blockquote>\n<p><code>LinkedHashSet</code> is essentially a hash table with an additional linked list that records the insertion order.  The elements are stored in the main hash table ... and that is what provides fast lookup.  Again, refer to the source code for details.</p>\n<blockquote>\n<p>What does mean by doubly linked list and how does it works?</p>\n</blockquote>\n<p>Read the article in Wikipedia on <a href=\"http://en.wikipedia.org/wiki/Doubly_linked_list\" rel=\"nofollow noreferrer\">doubly linked lists</a>.</p>\n<hr />\n<blockquote>\n<p>Then where all these three <code>HashSet</code>, <code>TreeSet</code>, <code>LinkedHashSet</code> would be used in Java and which one has better performance in java?</p>\n</blockquote>\n<p>There are a number of things to think about when choosing between these three classes (and others):</p>\n<ul>\n<li><p>Do they provide the required functionality.  For example, we've already seen that they have <em>different</em> behavior with respect to the order of iteration.</p>\n</li>\n<li><p>Do they have the required concurrency properties?  For example, are they thread-safe? do they deal with contention? do they allow concurrent modification?  (Note: that none of these 3 classes are thread-safe.)</p>\n</li>\n<li><p>How much space do they require?</p>\n</li>\n<li><p>What are the performance (time) characteristics.</p>\n</li>\n</ul>\n<p>On the last two points?</p>\n<ul>\n<li><p>A <code>TreeSet</code> uses the least space, and a <code>LinkedHashSet</code> uses the most.  The actual space requirements are platform dependent, and in the case of hashsets they can vary depending on how the set was created and populated.)</p>\n</li>\n<li><p>A <code>HashSet</code> tends to be fastest for lookup, insertion and deletion for larger sets, and a <code>TreeSet</code> tends to be slowest.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3154315,"reputation":1227,"user_id":2667029,"accept_rate":25,"display_name":"Reetika"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439188109,"creation_date":1439188109,"answer_id":31912882,"question_id":20217414,"body_markdown":" - HashSet does&#39;t preserve the order of elements.So you can&#39;t identify\r\n   its order. \r\n - LinkedHashSet preserve the order as elements are added in    set. It\r\n   keep the order as we insert in it.\r\n\r\n \r\n\r\n - TreeSet maintains the  order of element.    TreeSet is slowest\r\n   because it arrange its elements after every    element addition or\r\n   deletion.\r\n\r\n   \r\n   Otherwise it all repends on your requirement , whether you need\r\n   ordered list, thread-safe etc.","title":"What is the main difference between Hashset, Treeset and LinkedHashset, Hashmap and how does it work in Java?","body":"<ul>\n<li>HashSet does't preserve the order of elements.So you can't identify\nits order. </li>\n<li><p>LinkedHashSet preserve the order as elements are added in    set. It\nkeep the order as we insert in it.</p></li>\n<li><p>TreeSet maintains the  order of element.    TreeSet is slowest\nbecause it arrange its elements after every    element addition or\ndeletion.</p>\n\n<p>Otherwise it all repends on your requirement , whether you need\nordered list, thread-safe etc.</p></li>\n</ul>\n"}],"owner":{"account_id":1724004,"reputation":1636,"user_id":1579111,"accept_rate":92,"display_name":"Achiever"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15319,"favorite_count":0,"down_vote_count":5,"up_vote_count":7,"accepted_answer_id":20217811,"answer_count":4,"score":2,"last_activity_date":1696814882,"creation_date":1385469759,"question_id":20217414,"body_markdown":"I just understand that LinkedHashSet does not allows duplicate elements when it is inserting. But, I dont understand how does Hashset works in Hava? I know a bit that Hashtable is used in Hashset so the hashtable used to store the elements and here also does not allow the duplicate elements. Then, Treeset is also similar to Hashset it also does not allows duplicate entries so unique elements will be seen and it follows ascending order.\r\n\r\nI have one more doubt regarding HashMap - Hashmap does not maintains order. It may have one null key and multiple null values. I just dont understand this and what does it mean actually? Any practical example for this?\r\n\r\nI know a bit, Hashmap used to work based on this - Key and values used to put in buckets also bucket has unique numbers. So that, can identify and get the key and value from the buckets. When I put the key/value pair in the bucket of which identifier is the hash code of the key.\r\n\r\nFor an eg: Hash code of the key is 101 so it is stored in bucket 101. One bucket can store more than key and value pairs. Suppose take an example as Object1 is &quot;A&quot;, object2 is &quot;A&quot;and object3 is &quot;B&quot; then it has a same Hash code. So, it stores the different objects by sharing the same Hashcode in same bucket. My doubt is, objects with same Hashcode should be equal and different objects should have different Hashcodes?\r\n\r\nThis is the program using HashSet:\r\n\r\n        import java.util.*;\r\n        public class Simple{\r\n        public static void main(String[] args){\r\n        HashSet hh=new HashSet();\r\n        hh.add(&quot;D&quot;);\r\n        hh.add(&quot;A&quot;);\r\n        hh.add(&quot;B&quot;);\r\n        hh.add(&quot;C&quot;);\r\n        hh.add(&quot;a&quot;);        \r\n        System.out.println(&quot;Checking the size is:&quot;+hh.size()+&quot;&quot;);\r\n        System.out.println(hh);\r\n\r\n        Iterator i=hh.iterator();\r\n        while(i.hasNext()){\r\n        System.out.println(i.next());\r\n        }      \r\n        }\r\n        }\r\n\r\nOutput is,\r\n\r\n    Checking the size is:5\r\n    [D, A, B, a, C]\r\n    D\r\n    A\r\n    B\r\n    a\r\n    C\r\n\r\nMy doubt is, why &quot;a&quot; is inserting in between &quot;B&quot; and &quot;C&quot;.\r\n\r\nNow, I am using LinkedHashSet so,\r\n\r\n    public class Simple{\r\n    public static void main(String[] args){\r\n        LinkedHashSet hh=new LinkedHashSet();\r\n                hh.add(&quot;D&quot;);\r\n                hh.add(&quot;A&quot;);\r\n        hh.add(&quot;B&quot;);\r\n        hh.add(&quot;C&quot;);\r\n                hh.add(&quot;a&quot;);  \r\n                \r\n            System.out.println(&quot;Checking the size is:&quot;+hh.size()+&quot;&quot;);\r\n        System.out.println(hh);\r\n\r\n        Iterator i=hh.iterator();\r\n        while(i.hasNext()){\r\n            System.out.println(i.next());\r\n        }      \r\n    }\r\n    }\r\n\r\nI just understand that, it follows insertion order and it avoids duplicate elements. So the output is,\r\n\r\n    Checking the size is:5\r\n    [D, A, B, C, a]\r\n    D\r\n    A\r\n    B\r\n    C\r\n    a\r\n\r\nNow, Using Treeset:\r\n\r\n    import java.util.*;\r\n    public class Simple{\r\n    public static void main(String[] args){\r\n        TreeSet hh=new TreeSet();\r\n                hh.add(&quot;1&quot;);\r\n                hh.add(&quot;5&quot;);\r\n                hh.add(&quot;3&quot;);\r\n                hh.add(&quot;5&quot;);\r\n                hh.add(&quot;2&quot;);\r\n                hh.add(&quot;7&quot;);  \r\n                \r\n    System.out.println(&quot;Checking the size is:&quot;+hh.size()+&quot;&quot;);\r\n    System.out.println(hh);\r\n\r\n        Iterator i=hh.iterator();\r\n        while(i.hasNext()){\r\n            System.out.println(i.next());\r\n        }      \r\n    }\r\n    }\r\n\r\nHere, I just understand that - Treeset follows ascending order.\r\n    \r\n    The output is,\r\n    Checking the size is:5\r\n    [1, 2, 3, 5, 7]\r\n    1\r\n    2\r\n    3\r\n    5\r\n    7\r\n\r\nThen my doubt is, how does Hashset works in Java? And I know that LinkedHashset follows doubly linkedlist. If it uses doubly linked list then how does it stores the elements? What does mean by doubly linkedlist and how does it works? Then where all these three Hashset, Treeset, LinkedHashset would be used in Java and which one has better performance in Java?\r\n","title":"What is the main difference between Hashset, Treeset and LinkedHashset, Hashmap and how does it work in Java?","body":"<p>I just understand that LinkedHashSet does not allows duplicate elements when it is inserting. But, I dont understand how does Hashset works in Hava? I know a bit that Hashtable is used in Hashset so the hashtable used to store the elements and here also does not allow the duplicate elements. Then, Treeset is also similar to Hashset it also does not allows duplicate entries so unique elements will be seen and it follows ascending order.</p>\n\n<p>I have one more doubt regarding HashMap - Hashmap does not maintains order. It may have one null key and multiple null values. I just dont understand this and what does it mean actually? Any practical example for this?</p>\n\n<p>I know a bit, Hashmap used to work based on this - Key and values used to put in buckets also bucket has unique numbers. So that, can identify and get the key and value from the buckets. When I put the key/value pair in the bucket of which identifier is the hash code of the key.</p>\n\n<p>For an eg: Hash code of the key is 101 so it is stored in bucket 101. One bucket can store more than key and value pairs. Suppose take an example as Object1 is \"A\", object2 is \"A\"and object3 is \"B\" then it has a same Hash code. So, it stores the different objects by sharing the same Hashcode in same bucket. My doubt is, objects with same Hashcode should be equal and different objects should have different Hashcodes?</p>\n\n<p>This is the program using HashSet:</p>\n\n<pre><code>    import java.util.*;\n    public class Simple{\n    public static void main(String[] args){\n    HashSet hh=new HashSet();\n    hh.add(\"D\");\n    hh.add(\"A\");\n    hh.add(\"B\");\n    hh.add(\"C\");\n    hh.add(\"a\");        \n    System.out.println(\"Checking the size is:\"+hh.size()+\"\");\n    System.out.println(hh);\n\n    Iterator i=hh.iterator();\n    while(i.hasNext()){\n    System.out.println(i.next());\n    }      \n    }\n    }\n</code></pre>\n\n<p>Output is,</p>\n\n<pre><code>Checking the size is:5\n[D, A, B, a, C]\nD\nA\nB\na\nC\n</code></pre>\n\n<p>My doubt is, why \"a\" is inserting in between \"B\" and \"C\".</p>\n\n<p>Now, I am using LinkedHashSet so,</p>\n\n<pre><code>public class Simple{\npublic static void main(String[] args){\n    LinkedHashSet hh=new LinkedHashSet();\n            hh.add(\"D\");\n            hh.add(\"A\");\n    hh.add(\"B\");\n    hh.add(\"C\");\n            hh.add(\"a\");  \n\n        System.out.println(\"Checking the size is:\"+hh.size()+\"\");\n    System.out.println(hh);\n\n    Iterator i=hh.iterator();\n    while(i.hasNext()){\n        System.out.println(i.next());\n    }      \n}\n}\n</code></pre>\n\n<p>I just understand that, it follows insertion order and it avoids duplicate elements. So the output is,</p>\n\n<pre><code>Checking the size is:5\n[D, A, B, C, a]\nD\nA\nB\nC\na\n</code></pre>\n\n<p>Now, Using Treeset:</p>\n\n<pre><code>import java.util.*;\npublic class Simple{\npublic static void main(String[] args){\n    TreeSet hh=new TreeSet();\n            hh.add(\"1\");\n            hh.add(\"5\");\n            hh.add(\"3\");\n            hh.add(\"5\");\n            hh.add(\"2\");\n            hh.add(\"7\");  \n\nSystem.out.println(\"Checking the size is:\"+hh.size()+\"\");\nSystem.out.println(hh);\n\n    Iterator i=hh.iterator();\n    while(i.hasNext()){\n        System.out.println(i.next());\n    }      \n}\n}\n</code></pre>\n\n<p>Here, I just understand that - Treeset follows ascending order.</p>\n\n<pre><code>The output is,\nChecking the size is:5\n[1, 2, 3, 5, 7]\n1\n2\n3\n5\n7\n</code></pre>\n\n<p>Then my doubt is, how does Hashset works in Java? And I know that LinkedHashset follows doubly linkedlist. If it uses doubly linked list then how does it stores the elements? What does mean by doubly linkedlist and how does it works? Then where all these three Hashset, Treeset, LinkedHashset would be used in Java and which one has better performance in Java?</p>\n"},{"tags":["java","set"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1291879749,"post_id":4395871,"comment_id":4791452,"body_markdown":"What would you expect getIndex to return if you&#39;d removed &quot;one&quot; in the meantime?","body":"What would you expect getIndex to return if you&#39;d removed &quot;one&quot; in the meantime?"},{"owner":{"account_id":55151,"reputation":8058,"user_id":165103,"accept_rate":88,"display_name":"Mahmoud Hanafy"},"score":0,"creation_date":1291879818,"post_id":4395871,"comment_id":4791465,"body_markdown":"if it&#39;s not in commons-collections http://commons.apache.org/collections/ then I think you&#39;ll have to implement it yourself","body":"if it&#39;s not in commons-collections <a href=\"http://commons.apache.org/collections/\" rel=\"nofollow noreferrer\">commons.apache.org/collections</a> then I think you&#39;ll have to implement it yourself"},{"owner":{"account_id":83857,"reputation":2211,"user_id":234838,"accept_rate":84,"display_name":"Jose L Martinez-Avial"},"score":0,"creation_date":1291880139,"post_id":4395871,"comment_id":4791495,"body_markdown":"Well, since the set should be ordered, if an element is removed all the elements inserted after that would be reallocated one position. I suppose that if I do a getIndex of an element that does not exist, or has been removed, I would get a -1.","body":"Well, since the set should be ordered, if an element is removed all the elements inserted after that would be reallocated one position. I suppose that if I do a getIndex of an element that does not exist, or has been removed, I would get a -1."}],"answers":[{"comments":[{"owner":{"account_id":83857,"reputation":2211,"user_id":234838,"accept_rate":84,"display_name":"Jose L Martinez-Avial"},"score":2,"creation_date":1291880439,"post_id":4395920,"comment_id":4791539,"body_markdown":"TreeSet will not keep the order in which the elements were added, they will be ordered in their natural order.","body":"TreeSet will not keep the order in which the elements were added, they will be ordered in their natural order."}],"tags":[],"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"comment_count":1,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1422650622,"creation_date":1291880003,"answer_id":4395920,"question_id":4395871,"body_markdown":"you can extend [`LinkedHashSet`][1] adding your desired `getIndex()` method. It&#39;s 15 minutes to implement and test it. Just go through the set using iterator and counter, check the object for equality. If found, return the counter.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/LinkedHashSet.html","title":"How to get index of an item in java.util.Set","body":"<p>you can extend <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/LinkedHashSet.html\" rel=\"nofollow\"><code>LinkedHashSet</code></a> adding your desired <code>getIndex()</code> method. It's 15 minutes to implement and test it. Just go through the set using iterator and counter, check the object for equality. If found, return the counter.</p>\n"},{"comments":[{"owner":{"account_id":83857,"reputation":2211,"user_id":234838,"accept_rate":84,"display_name":"Jose L Martinez-Avial"},"score":0,"creation_date":1291881019,"post_id":4395994,"comment_id":4791599,"body_markdown":"Thanks for the example. One question, is it worth to call contains(T entry) before iterating through the Set?","body":"Thanks for the example. One question, is it worth to call contains(T entry) before iterating through the Set?"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1291881157,"post_id":4395994,"comment_id":4791613,"body_markdown":"@Jose - depends on the Set. HashSet: yes, contains runs in O(1). TreeSet - no, as contains need O(n) exactly like the `getIndex` algorithm. So it would take twice as long.","body":"@Jose - depends on the Set. HashSet: yes, contains runs in O(1). TreeSet - no, as contains need O(n) exactly like the <code>getIndex</code> algorithm. So it would take twice as long."},{"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"score":2,"creation_date":1291889263,"post_id":4395994,"comment_id":4792757,"body_markdown":"Note that if you decorate a HashSet, you won&#39;t get the desired behavior (i.e. index according to insertion order). You must provide a Set whose iteration order matched the insertion order. LinkedHashSet is capable of it.","body":"Note that if you decorate a HashSet, you won&#39;t get the desired behavior (i.e. index according to insertion order). You must provide a Set whose iteration order matched the insertion order. LinkedHashSet is capable of it."},{"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"score":1,"creation_date":1291896286,"post_id":4395994,"comment_id":4793854,"body_markdown":"-1: I still don&#39;t see how this response answers the original problem. There is no guarantee that the indices will reflect the insertion order. Iteration over TreeSet or HashSet will not necessarily follow the insertion order.","body":"-1: I still don&#39;t see how this response answers the original problem. There is no guarantee that the indices will reflect the insertion order. Iteration over TreeSet or HashSet will not necessarily follow the insertion order."},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":2,"creation_date":1291897401,"post_id":4395994,"comment_id":4794083,"body_markdown":"@Eyal - (1) TreeSet does not preserve insertion order others mentioned, OP should use `LinkedHashSet`. (2) both snippets/examples can be used with *any* `Set` implementation. You just need to say `new IndexAwareSet(new LinkedHashSet())` and it should work as expected. BTW - I mentioned HashSet and TreeSet only to answer Jose&#39;s question in his comment, not in the answer.","body":"@Eyal - (1) TreeSet does not preserve insertion order others mentioned, OP should use <code>LinkedHashSet</code>. (2) both snippets/examples can be used with <i>any</i> <code>Set</code> implementation. You just need to say <code>new IndexAwareSet(new LinkedHashSet())</code> and it should work as expected. BTW - I mentioned HashSet and TreeSet only to answer Jose&#39;s question in his comment, not in the answer."},{"owner":{"account_id":290123,"reputation":29330,"user_id":591495,"display_name":"obataku"},"score":0,"creation_date":1344461285,"post_id":4395994,"comment_id":15797163,"body_markdown":"@Andreas_D sorry for the bump, but `TreeSet.contains` is actually O(log n) :p This algorithm is a linear search, while `TreeSet` uses a binary search.","body":"@Andreas_D sorry for the bump, but <code>TreeSet.contains</code> is actually O(log n) :p This algorithm is a linear search, while <code>TreeSet</code> uses a binary search."}],"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":6,"down_vote_count":2,"up_vote_count":23,"is_accepted":true,"score":21,"last_activity_date":1647473774,"creation_date":1291880847,"answer_id":4395994,"question_id":4395871,"body_markdown":"A small static custom method in a `Util` class would help:\r\n\r\n     public static &lt;T&gt; int getIndex(Set&lt;T&gt; set, T value) {\r\n       int result = 0;\r\n       for (T entry:set) {\r\n         if (entry.equals(value)) return result;\r\n         result++;\r\n       }\r\n       return -1;\r\n     }\r\n      \r\nIf you need/want one class that *is a* `Set` and offers a `getIndex()` method, I strongly suggest to implement a new `Set` and use the decorator pattern:\r\n\r\n     public class IndexAwareSet&lt;T&gt; implements Set {\r\n       private Set&lt;T&gt; set;\r\n       public IndexAwareSet(Set&lt;T&gt; set) {\r\n         this.set = set;\r\n       }\r\n\r\n       // ... implement all methods from Set and delegate to the internal Set\r\n\r\n       public int getIndex(T entry) {\r\n         int result = 0;\r\n         for (T entry:set) {\r\n           if (entry.equals(value)) return result;\r\n           result++;\r\n         }\r\n         return -1;\r\n       }\r\n     }\r\n\r\n","title":"How to get index of an item in java.util.Set","body":"<p>A small static custom method in a <code>Util</code> class would help:</p>\n<pre><code> public static &lt;T&gt; int getIndex(Set&lt;T&gt; set, T value) {\n   int result = 0;\n   for (T entry:set) {\n     if (entry.equals(value)) return result;\n     result++;\n   }\n   return -1;\n }\n  \n</code></pre>\n<p>If you need/want one class that <em>is a</em> <code>Set</code> and offers a <code>getIndex()</code> method, I strongly suggest to implement a new <code>Set</code> and use the decorator pattern:</p>\n<pre><code> public class IndexAwareSet&lt;T&gt; implements Set {\n   private Set&lt;T&gt; set;\n   public IndexAwareSet(Set&lt;T&gt; set) {\n     this.set = set;\n   }\n\n   // ... implement all methods from Set and delegate to the internal Set\n\n   public int getIndex(T entry) {\n     int result = 0;\n     for (T entry:set) {\n       if (entry.equals(value)) return result;\n       result++;\n     }\n     return -1;\n   }\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1531241,"reputation":3354,"user_id":1428388,"display_name":"jzonthemtn"},"score":3,"creation_date":1386860283,"post_id":20199097,"comment_id":30725068,"body_markdown":"I believe the question was how to get the index of an item in a set and not how to get an item by an index.","body":"I believe the question was how to get the index of an item in a set and not how to get an item by an index."},{"owner":{"account_id":1250250,"reputation":699,"user_id":1210793,"display_name":"Dr. Daniel Thommes"},"score":11,"creation_date":1397981134,"post_id":20199097,"comment_id":35451283,"body_markdown":"stringsList.indexOf(&quot;string1&quot;);","body":"stringsList.indexOf(&quot;string1&quot;);"}],"tags":[],"owner":{"account_id":2182450,"reputation":1023,"user_id":1931613,"accept_rate":43,"display_name":"Kiryl Ivanou"},"comment_count":2,"down_vote_count":4,"up_vote_count":44,"is_accepted":false,"score":40,"last_activity_date":1412544365,"creation_date":1385399630,"answer_id":20199097,"question_id":4395871,"body_markdown":"After creating Set just convert it to List and get by index from List:\r\n\r\n    Set&lt;String&gt; stringsSet = new HashSet&lt;&gt;();\r\n    stringsSet.add(&quot;string1&quot;);\r\n    stringsSet.add(&quot;string2&quot;);\r\n    \r\n    List&lt;String&gt; stringsList = new ArrayList&lt;&gt;(stringsSet);\r\n    stringsList.get(0); // &quot;string1&quot;;\r\n    stringsList.get(1); // &quot;string2&quot;;\r\n","title":"How to get index of an item in java.util.Set","body":"<p>After creating Set just convert it to List and get by index from List:</p>\n\n<pre><code>Set&lt;String&gt; stringsSet = new HashSet&lt;&gt;();\nstringsSet.add(\"string1\");\nstringsSet.add(\"string2\");\n\nList&lt;String&gt; stringsList = new ArrayList&lt;&gt;(stringsSet);\nstringsList.get(0); // \"string1\";\nstringsList.get(1); // \"string2\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2773657,"reputation":11,"user_id":2387717,"display_name":"abinkleysf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532030252,"creation_date":1532030252,"answer_id":51430822,"question_id":4395871,"body_markdown":"How about add the strings to a hashtable where the value is an index:\r\n\r\n      Hashtable&lt;String, Integer&gt; itemIndex = new Hashtable&lt;&gt;();\r\n      itemIndex.put(&quot;First String&quot;,1);\r\n      itemIndex.put(&quot;Second String&quot;,2);\r\n      itemIndex.put(&quot;Third String&quot;,3);\r\n\r\n      int indexOfThirdString = itemIndex.get(&quot;Third String&quot;);","title":"How to get index of an item in java.util.Set","body":"<p>How about add the strings to a hashtable where the value is an index:</p>\n\n<pre><code>  Hashtable&lt;String, Integer&gt; itemIndex = new Hashtable&lt;&gt;();\n  itemIndex.put(\"First String\",1);\n  itemIndex.put(\"Second String\",2);\n  itemIndex.put(\"Third String\",3);\n\n  int indexOfThirdString = itemIndex.get(\"Third String\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1764655,"reputation":2160,"user_id":1610778,"display_name":"Stan Sokolov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570463161,"creation_date":1570463161,"answer_id":58272969,"question_id":4395871,"body_markdown":"One solution (though not very pretty) is to use Apache common List/Set mutation\r\n\r\n    import org.apache.commons.collections.list.SetUniqueList;\r\n    \r\n    final List&lt;Long&gt; vertexes=SetUniqueList.setUniqueList(new LinkedList&lt;&gt;());\r\n\r\nit is a list without duplicates\r\n\r\nhttps://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/index.html?org/apache/commons/collections/list/SetUniqueList.html","title":"How to get index of an item in java.util.Set","body":"<p>One solution (though not very pretty) is to use Apache common List/Set mutation</p>\n\n<pre><code>import org.apache.commons.collections.list.SetUniqueList;\n\nfinal List&lt;Long&gt; vertexes=SetUniqueList.setUniqueList(new LinkedList&lt;&gt;());\n</code></pre>\n\n<p>it is a list without duplicates</p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/index.html?org/apache/commons/collections/list/SetUniqueList.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/index.html?org/apache/commons/collections/list/SetUniqueList.html</a></p>\n"},{"tags":[],"owner":{"account_id":23582062,"reputation":11,"user_id":17620953,"display_name":"Mave Rich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696814624,"creation_date":1661761380,"answer_id":73525990,"question_id":4395871,"body_markdown":"you can send your set data to a new list   \r\n\r\n    ArrayList&lt;String&gt; myList = new ArrayList&lt;&gt;();\r\n    myList.addAll(uniqueNameSet);\r\n    myList.indexOf(&quot;xxx&quot;);","title":"How to get index of an item in java.util.Set","body":"<p>you can send your set data to a new list</p>\n<pre><code>ArrayList&lt;String&gt; myList = new ArrayList&lt;&gt;();\nmyList.addAll(uniqueNameSet);\nmyList.indexOf(&quot;xxx&quot;);\n</code></pre>\n"}],"owner":{"account_id":83857,"reputation":2211,"user_id":234838,"accept_rate":84,"display_name":"Jose L Martinez-Avial"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192711,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":4395994,"answer_count":6,"score":48,"last_activity_date":1696814624,"creation_date":1291879623,"question_id":4395871,"body_markdown":"I know the differences between Set and List(unique vs. duplications allowed, not ordered/ordered, etc). What I&#39;m looking for is a set that keeps the elements ordered(that&#39;s easy), but I also need to be able to recover the index in which an element was inserted. So if I insert four elements, then I want to be able to know the order in which one of them was inserted.\r\n\r\n    MySet&lt;String&gt; set = MySet&lt;String&gt;();\r\n    set.add(&quot;one&quot;);\r\n    set.add(&quot;two&quot;);\r\n    set.add(&quot;three&quot;);\r\n    set.add(&quot;four&quot;);\r\n\r\n    int index = set.getIndex(&quot;two&quot;);\r\n\r\n  So at any given moment I can check if a String was already added, and get the index of the string in the set. Is there anything like this, or I need to implement it myself?\r\n\r\n","title":"How to get index of an item in java.util.Set","body":"<p>I know the differences between Set and List(unique vs. duplications allowed, not ordered/ordered, etc). What I'm looking for is a set that keeps the elements ordered(that's easy), but I also need to be able to recover the index in which an element was inserted. So if I insert four elements, then I want to be able to know the order in which one of them was inserted.</p>\n\n<pre><code>MySet&lt;String&gt; set = MySet&lt;String&gt;();\nset.add(\"one\");\nset.add(\"two\");\nset.add(\"three\");\nset.add(\"four\");\n\nint index = set.getIndex(\"two\");\n</code></pre>\n\n<p>So at any given moment I can check if a String was already added, and get the index of the string in the set. Is there anything like this, or I need to implement it myself?</p>\n"},{"tags":["java","intellij-plugin"],"comments":[{"owner":{"account_id":8835692,"reputation":1670,"user_id":6629569,"accept_rate":71,"display_name":"Abby"},"score":0,"creation_date":1699015699,"post_id":77255832,"comment_id":136480846,"body_markdown":"You also asked [this question](https://stackoverflow.com/questions/77252860/intellij-idea-plugin-developmentblack-screen-will-disappear-while-switching-be) one day earlier.","body":"You also asked <a href=\"https://stackoverflow.com/questions/77252860/intellij-idea-plugin-developmentblack-screen-will-disappear-while-switching-be\">this question</a> one day earlier."}],"owner":{"account_id":29623009,"reputation":11,"user_id":22703475,"display_name":"Java_dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696813711,"creation_date":1696813711,"question_id":77255832,"body_markdown":"**To create the cefBrowser, follow the steps below:**\r\n\r\n```\r\ncefBrowser = jbCefClient.getCefClient().createBrowser(&quot;file:///xxxxx&quot;, false, false);\r\n\r\njPanel.add(cefBrowser.getUIComponent(), BorderLayout.CENTER);\r\n```\r\nuse this api:\r\n\r\n```\r\npublic CefBrowser createBrowser(String url, boolean isOffscreenRendered, boolean isTransparent) {\r\n        return this.createBrowser(url, isOffscreenRendered, isTransparent, (CefRequestContext)null);\r\n    }\r\n```\r\n\r\n**When you switch between multiple pages, a black screen occurs and the page content is lost.**\r\n\r\n*Before switching pages:*\r\nThe HTML page is displayed properly.\r\n\r\n*After clicking Switch Page：*\r\n\r\nAll HTML GUI elements are lost, and a black screen is displayed.\r\n\r\n**Problem decribed above can be regenerated under #IU-221.5591.52 Runtime version: 11.0.14.1+1-b2043.45 amd64. For previous versions, the function is normal.**\r\n\r\nIn IntelliJ IDEA 2022 and later versions, when multiple HTML pages created using JCEF are opened, the GUI elements are normal and no black screen is displayed after multiple clicks.","title":"[IntelliJ IDEA plugin development]Black screen will disappear while switching between opened pages if an HTML page was loaded After IntelliJ IDEA 2022","body":"<p><strong>To create the cefBrowser, follow the steps below:</strong></p>\n<pre><code>cefBrowser = jbCefClient.getCefClient().createBrowser(&quot;file:///xxxxx&quot;, false, false);\n\njPanel.add(cefBrowser.getUIComponent(), BorderLayout.CENTER);\n</code></pre>\n<p>use this api:</p>\n<pre><code>public CefBrowser createBrowser(String url, boolean isOffscreenRendered, boolean isTransparent) {\n        return this.createBrowser(url, isOffscreenRendered, isTransparent, (CefRequestContext)null);\n    }\n</code></pre>\n<p><strong>When you switch between multiple pages, a black screen occurs and the page content is lost.</strong></p>\n<p><em>Before switching pages:</em>\nThe HTML page is displayed properly.</p>\n<p><em>After clicking Switch Page：</em></p>\n<p>All HTML GUI elements are lost, and a black screen is displayed.</p>\n<p><strong>Problem decribed above can be regenerated under #IU-221.5591.52 Runtime version: 11.0.14.1+1-b2043.45 amd64. For previous versions, the function is normal.</strong></p>\n<p>In IntelliJ IDEA 2022 and later versions, when multiple HTML pages created using JCEF are opened, the GUI elements are normal and no black screen is displayed after multiple clicks.</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1696797311,"post_id":77255179,"comment_id":136195884,"body_markdown":"`for (int j = 1; j &lt;= 12; j++)` means “run the body of this loop as long as j is less than or equal to 12.”  `for (int n = 1; num1 == num2; num1++)` means “run the body this loop as long as num1 is exactly equal to num2.”  If num1 and num2 are not equal to begin with, the loop will run zero times.  Perhaps you meant to write `num1 &lt;= num2`?","body":"<code>for (int j = 1; j &lt;= 12; j++)</code> means “run the body of this loop as long as j is less than or equal to 12.”  <code>for (int n = 1; num1 == num2; num1++)</code> means “run the body this loop as long as num1 is exactly equal to num2.”  If num1 and num2 are not equal to begin with, the loop will run zero times.  Perhaps you meant to write <code>num1 &lt;= num2</code>?"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":2,"creation_date":1696798604,"post_id":77255179,"comment_id":136195999,"body_markdown":"What is the expected output? What do the terms **the 4 times table, the 5 times table ...** mean? Can you add your desired output for your example values?","body":"What is the expected output? What do the terms <b>the 4 times table, the 5 times table ...</b> mean? Can you add your desired output for your example values?"}],"answers":[{"comments":[{"owner":{"account_id":29625412,"reputation":13,"user_id":22705274,"display_name":"John Hughes"},"score":0,"creation_date":1696827442,"post_id":77255326,"comment_id":136197781,"body_markdown":"Thank you, just tried it out, worked like a charm!","body":"Thank you, just tried it out, worked like a charm!"}],"tags":[],"owner":{"account_id":910051,"reputation":3554,"user_id":944099,"accept_rate":90,"display_name":"babanin"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696798920,"creation_date":1696798920,"answer_id":77255326,"question_id":77255179,"body_markdown":"The problem is the following condition in the external loop:\r\n\r\n    num1 == num2\r\n\r\nIn order to make `for` cycle work, it should become `true`. In your case you should replace `num1 == num2` with `num1 &lt;= num2`:\r\n\r\n    for (int n = 1; num1 &lt;= num2; num1++)","title":"Trying to create a times table program for a range of tables","body":"<p>The problem is the following condition in the external loop:</p>\n<pre><code>num1 == num2\n</code></pre>\n<p>In order to make <code>for</code> cycle work, it should become <code>true</code>. In your case you should replace <code>num1 == num2</code> with <code>num1 &lt;= num2</code>:</p>\n<pre><code>for (int n = 1; num1 &lt;= num2; num1++)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29625412,"reputation":13,"user_id":22705274,"display_name":"John Hughes"},"score":1,"creation_date":1696827495,"post_id":77255499,"comment_id":136197786,"body_markdown":"Thank you for taking the time to write this, I managed to solve the problem!","body":"Thank you for taking the time to write this, I managed to solve the problem!"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696813121,"creation_date":1696802741,"answer_id":77255499,"question_id":77255179,"body_markdown":"Loop from _num1_ to _num2_ inclusive, and then from _1_ to _12_.\r\n\r\n```java\r\nfor (int i = num1, j; i &lt;= num2; i++) {\r\n    for (j = 1; j &lt;= 12; j++)\r\n        System.out.printf(&quot;%s x %s = %s%n&quot;, i, j, i * j);\r\n    System.out.println();\r\n}\r\n```\r\n\r\nHere is an example output.\r\n\r\n```none\r\n5 x 1 = 5\r\n5 x 2 = 10\r\n5 x 3 = 15\r\n5 x 4 = 20\r\n5 x 5 = 25\r\n5 x 6 = 30\r\n5 x 7 = 35\r\n5 x 8 = 40\r\n5 x 9 = 45\r\n5 x 10 = 50\r\n5 x 11 = 55\r\n5 x 12 = 60\r\n```","title":"Trying to create a times table program for a range of tables","body":"<p>Loop from <em>num1</em> to <em>num2</em> inclusive, and then from <em>1</em> to <em>12</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = num1, j; i &lt;= num2; i++) {\n    for (j = 1; j &lt;= 12; j++)\n        System.out.printf(&quot;%s x %s = %s%n&quot;, i, j, i * j);\n    System.out.println();\n}\n</code></pre>\n<p>Here is an example output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>5 x 1 = 5\n5 x 2 = 10\n5 x 3 = 15\n5 x 4 = 20\n5 x 5 = 25\n5 x 6 = 30\n5 x 7 = 35\n5 x 8 = 40\n5 x 9 = 45\n5 x 10 = 50\n5 x 11 = 55\n5 x 12 = 60\n</code></pre>\n"}],"owner":{"account_id":29625412,"reputation":13,"user_id":22705274,"display_name":"John Hughes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77255326,"answer_count":2,"score":1,"last_activity_date":1696813121,"creation_date":1696795924,"question_id":77255179,"body_markdown":"I am trying to create a program that will display times tables for a user, the times tables displayed should be between two user inputted numbers. for example, the user inputs 4 and 8, the program should display the 4 times table, the 5 times table, the 6 times table, the 7 times table and the 8 times table. I am very new to Java, I have looked online, but I couldn&#39;t really find anything that helped me a great deal. I am slowly understanding loops, but as I mentioned before, I am very much still a novice. Thank you :)!\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class timesTables\r\n{\r\n    public static void main (String[] args)\r\n    {\r\n        // variables\r\n        int num1 = 0;\r\n        int num2 = 0;\r\n\r\n        // open scanner\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        // ask user for a table number\r\n        System.out.println(&quot;Please enter a number: &quot;);\r\n\r\n        // store input in a variable\r\n        num1 = sc.nextInt();\r\n\r\n        // ask user for another table number\r\n        System.out.println(&quot;Please enter another number: &quot;);\r\n\r\n        // store input in a variable\r\n        num2 = sc.nextInt();\r\n\r\n        // display times table from num1 to num2\r\n        /* for (int i = 0; i &lt;= 12; i++)\r\n        {\r\n            // multiply num1 by i\r\n            int j = num1 * i;\r\n\r\n            // display result of previous calculation\r\n            System.out.println(j);\r\n        } */\r\n\r\n        for (int n = 1; num1 == num2; num1++)\r\n        {\r\n            for (int j = 1; j &lt;= 12; j++)\r\n            {\r\n                // multiply num1 by j\r\n                int multiplication = num1 * j;\r\n\r\n                // display result of previous calculation\r\n                System.out.println(multiplication);\r\n            }\r\n        }\r\n\r\n        // close scanner\r\n        sc.close();\r\n    }\r\n}\r\n```","title":"Trying to create a times table program for a range of tables","body":"<p>I am trying to create a program that will display times tables for a user, the times tables displayed should be between two user inputted numbers. for example, the user inputs 4 and 8, the program should display the 4 times table, the 5 times table, the 6 times table, the 7 times table and the 8 times table. I am very new to Java, I have looked online, but I couldn't really find anything that helped me a great deal. I am slowly understanding loops, but as I mentioned before, I am very much still a novice. Thank you :)!</p>\n<pre><code>import java.util.Scanner;\n\npublic class timesTables\n{\n    public static void main (String[] args)\n    {\n        // variables\n        int num1 = 0;\n        int num2 = 0;\n\n        // open scanner\n        Scanner sc = new Scanner(System.in);\n\n        // ask user for a table number\n        System.out.println(&quot;Please enter a number: &quot;);\n\n        // store input in a variable\n        num1 = sc.nextInt();\n\n        // ask user for another table number\n        System.out.println(&quot;Please enter another number: &quot;);\n\n        // store input in a variable\n        num2 = sc.nextInt();\n\n        // display times table from num1 to num2\n        /* for (int i = 0; i &lt;= 12; i++)\n        {\n            // multiply num1 by i\n            int j = num1 * i;\n\n            // display result of previous calculation\n            System.out.println(j);\n        } */\n\n        for (int n = 1; num1 == num2; num1++)\n        {\n            for (int j = 1; j &lt;= 12; j++)\n            {\n                // multiply num1 by j\n                int multiplication = num1 * j;\n\n                // display result of previous calculation\n                System.out.println(multiplication);\n            }\n        }\n\n        // close scanner\n        sc.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","terminal"],"comments":[{"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"score":0,"creation_date":1654753112,"post_id":52497961,"comment_id":128167719,"body_markdown":"any update on this for intellij community 2022.1.1?","body":"any update on this for intellij community 2022.1.1?"}],"answers":[{"comments":[{"owner":{"account_id":12170967,"reputation":592,"user_id":8885662,"display_name":"giotto"},"score":0,"creation_date":1537880278,"post_id":52498423,"comment_id":91938024,"body_markdown":"This is already set correctly as jdk 8, the issue here is that this setting does not influence the jdk used in the terminal inside intellj","body":"This is already set correctly as jdk 8, the issue here is that this setting does not influence the jdk used in the terminal inside intellj"}],"tags":[],"owner":{"account_id":9291552,"reputation":1,"user_id":10412510,"display_name":"nilopanda"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537883405,"creation_date":1537879089,"answer_id":52498423,"question_id":52497961,"body_markdown":"You need to change the SDK version in project structure. You can change it through IntelliJ navigation top bar, by following this path:\r\n\r\nFile &gt; Project Structure &gt; Project tab &gt; Project SDK\r\n\r\n","title":"IntelliJ terminal jdk setting","body":"<p>You need to change the SDK version in project structure. You can change it through IntelliJ navigation top bar, by following this path:</p>\n\n<p>File > Project Structure > Project tab > Project SDK</p>\n"},{"comments":[{"owner":{"account_id":12170967,"reputation":592,"user_id":8885662,"display_name":"giotto"},"score":0,"creation_date":1537881780,"post_id":52498894,"comment_id":91939084,"body_markdown":"if I change the env settings these are system wide. I want only that the intellj terminal jdk mirrors the project settings.","body":"if I change the env settings these are system wide. I want only that the intellj terminal jdk mirrors the project settings."},{"owner":{"account_id":13945839,"reputation":446,"user_id":10070623,"display_name":"Frito"},"score":1,"creation_date":1537883331,"post_id":52498894,"comment_id":91940143,"body_markdown":"You can use the &quot;shell implementation&quot; setting to provide a custom rc config file. See the IntelliJ documentation for more information on this. But IntelliJ is not able to pass some project configuration specific values to the forked terminal windows. You have to file an enhancement request to Jetbrains if you need something like that.","body":"You can use the &quot;shell implementation&quot; setting to provide a custom rc config file. See the IntelliJ documentation for more information on this. But IntelliJ is not able to pass some project configuration specific values to the forked terminal windows. You have to file an enhancement request to Jetbrains if you need something like that."},{"owner":{"account_id":12170967,"reputation":592,"user_id":8885662,"display_name":"giotto"},"score":0,"creation_date":1537958092,"post_id":52498894,"comment_id":91970927,"body_markdown":"could you pls expand the concept _You can use the &quot;shell implementation&quot; setting to provide a custom rc config file_?  Then, if _IntelliJ is not able to pass some project configuration specific values to the forked terminal windows_,  **that is exactly what I need**, why should I _See the IntelliJ documentation for more information_ ?. I don&#39;t get it sorry..","body":"could you pls expand the concept <i>You can use the &quot;shell implementation&quot; setting to provide a custom rc config file</i>?  Then, if <i>IntelliJ is not able to pass some project configuration specific values to the forked terminal windows</i>,  <b>that is exactly what I need</b>, why should I <i>See the IntelliJ documentation for more information</i> ?. I don&#39;t get it sorry.."},{"owner":{"account_id":49385,"reputation":93769,"user_id":147024,"display_name":"yole"},"score":1,"creation_date":1537978025,"post_id":52498894,"comment_id":91983525,"body_markdown":"The feature you&#39;re asking for does not exist. Here&#39;s one related issue: https://youtrack.jetbrains.com/issue/IDEA-199430","body":"The feature you&#39;re asking for does not exist. Here&#39;s one related issue: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-199430\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-199430</a>"}],"tags":[],"owner":{"account_id":13945839,"reputation":446,"user_id":10070623,"display_name":"Frito"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537977093,"creation_date":1537880598,"answer_id":52498894,"question_id":52497961,"body_markdown":"Check Preferences-&gt;Tools-&gt;Terminal do determine the used shell implementation.\r\n\r\nChange the shell path or change your environment settings with the used shell to take effect e.g. for setting `JAVA_HOME` and `PATH`.\r\n\r\nYou can even use the &quot;shell integration&quot; flag to load a custom rc config file. Please check the IntelliJ documentation for this.\r\n\r\nYou are not able to use the configured projects JDK in a dynamic way. If you need this, please file an enhancement request to Jetbrains.\r\n\r\n","title":"IntelliJ terminal jdk setting","body":"<p>Check Preferences->Tools->Terminal do determine the used shell implementation.</p>\n\n<p>Change the shell path or change your environment settings with the used shell to take effect e.g. for setting <code>JAVA_HOME</code> and <code>PATH</code>.</p>\n\n<p>You can even use the \"shell integration\" flag to load a custom rc config file. Please check the IntelliJ documentation for this.</p>\n\n<p>You are not able to use the configured projects JDK in a dynamic way. If you need this, please file an enhancement request to Jetbrains.</p>\n"},{"tags":[],"owner":{"account_id":12170967,"reputation":592,"user_id":8885662,"display_name":"giotto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1538055892,"creation_date":1538055892,"answer_id":52538539,"question_id":52497961,"body_markdown":"I repost the answer of @yole from the comments. It is not possible.","title":"IntelliJ terminal jdk setting","body":"<p>I repost the answer of @yole from the comments. It is not possible.</p>\n"},{"tags":[],"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669987292,"creation_date":1669196109,"answer_id":74544549,"question_id":52497961,"body_markdown":"For anyone else who stumbles on this question, here is how I resolved a similar issue:\r\n\r\nMaybe this is just my company&#39;s security*, but when a JDK is installed with an .exe, something like the following path is created and added to the root of the %path% variable:\r\nC:\\Program Files\\Common Files\\Oracle\\Java\\javapath\r\n\r\nOn that path you&#39;ll find a &#39;java&#39; executable for the installed version of java.\r\n\r\nThe fix was to simply uninstall that version of java, via the system settings.\r\n\r\n`*` I mean that I was unable to see the &#39;true&#39; path variable, may have been my company&#39;s security.\r\n","title":"IntelliJ terminal jdk setting","body":"<p>For anyone else who stumbles on this question, here is how I resolved a similar issue:</p>\n<p>Maybe this is just my company's security*, but when a JDK is installed with an .exe, something like the following path is created and added to the root of the %path% variable:\nC:\\Program Files\\Common Files\\Oracle\\Java\\javapath</p>\n<p>On that path you'll find a 'java' executable for the installed version of java.</p>\n<p>The fix was to simply uninstall that version of java, via the system settings.</p>\n<p><code>*</code> I mean that I was unable to see the 'true' path variable, may have been my company's security.</p>\n"},{"tags":[],"owner":{"account_id":28183256,"reputation":1,"user_id":21539933,"display_name":"jmwdev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696812155,"creation_date":1696811846,"answer_id":77255789,"question_id":52497961,"body_markdown":"As per other answers - doesn&#39;t look like its supported but in the meantime I thought I would post a workaround that solves the poster&#39;s problem:\r\n\r\nmy solution is to create a shell script that launches with the terminal profile:\r\n* check the existence of .idea directory in current working directory\r\n* if it does then pull the configured name of the jdk from the misc.xml\r\n* find the jdk directory under $home/.jdks where intellij installs them.\r\n* add the found jdk bin directory to the head of the path in the current session\r\n\r\nmy solution is in powershell as I found it an interesting exercise to solve.  The same can be achieved in Unix as easily if not easier.\r\n\r\n\r\n```\r\n# $Home\\Documents\\WindowsPowerShell\\Microsoft.PowerShell_profile.ps1\r\n\r\n$ideaDir = &quot;./.idea&quot;\r\nif (Test-Path -Path $ideaDir)\r\n{\r\n    $jdksDir = &quot;$Home\\.jdks&quot;\r\n    $match = Select-String -Path &quot;$ideaDir/misc.xml&quot; -Pattern &quot;project-jdk-name=`&quot;(.*?)`&quot; &quot;\r\n    $jdkName = $match.Matches.groups[1].value\r\n\r\n    [array]$jdks = ls -Directory -Name $jdksDir\r\n    $success = 0\r\n    foreach( $jdk in $jdks) {\r\n        if($jdk.Contains( $jdkName )) {\r\n            $pathBlock = &quot;$jdksDir\\$jdk\\bin&quot;\r\n            echo &quot;adding $pathBlock to path&quot;\r\n            $env:Path = &quot;$pathBlock;&quot; + $env:Path\r\n            $success = 1\r\n            break\r\n        }\r\n    }\r\n    if( $success -eq 0) {\r\n        &quot;failed to add jdk $jdkName to path&quot;\r\n    }\r\n}\r\n```\r\n\r\nSome assumptions have been made here: \r\n* jdks are installed via intellij and jdk names are defaulted (I tested with correto-18 and openjdk-21).\r\n* I noticed is that workspace files are saved on exit, not on the change itself.  If you&#39;re swapping around quickly then it&#39;s not much of a solution.  If however you&#39;ve got different projects on different jdks then it may make life easier.  You can paste the code into your powershell [profile][1] to execute on new terminal sessions \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/powershell/scripting/learn/shell/creating-profiles?view=powershell-7.3","title":"IntelliJ terminal jdk setting","body":"<p>As per other answers - doesn't look like its supported but in the meantime I thought I would post a workaround that solves the poster's problem:</p>\n<p>my solution is to create a shell script that launches with the terminal profile:</p>\n<ul>\n<li>check the existence of .idea directory in current working directory</li>\n<li>if it does then pull the configured name of the jdk from the misc.xml</li>\n<li>find the jdk directory under $home/.jdks where intellij installs them.</li>\n<li>add the found jdk bin directory to the head of the path in the current session</li>\n</ul>\n<p>my solution is in powershell as I found it an interesting exercise to solve.  The same can be achieved in Unix as easily if not easier.</p>\n<pre><code># $Home\\Documents\\WindowsPowerShell\\Microsoft.PowerShell_profile.ps1\n\n$ideaDir = &quot;./.idea&quot;\nif (Test-Path -Path $ideaDir)\n{\n    $jdksDir = &quot;$Home\\.jdks&quot;\n    $match = Select-String -Path &quot;$ideaDir/misc.xml&quot; -Pattern &quot;project-jdk-name=`&quot;(.*?)`&quot; &quot;\n    $jdkName = $match.Matches.groups[1].value\n\n    [array]$jdks = ls -Directory -Name $jdksDir\n    $success = 0\n    foreach( $jdk in $jdks) {\n        if($jdk.Contains( $jdkName )) {\n            $pathBlock = &quot;$jdksDir\\$jdk\\bin&quot;\n            echo &quot;adding $pathBlock to path&quot;\n            $env:Path = &quot;$pathBlock;&quot; + $env:Path\n            $success = 1\n            break\n        }\n    }\n    if( $success -eq 0) {\n        &quot;failed to add jdk $jdkName to path&quot;\n    }\n}\n</code></pre>\n<p>Some assumptions have been made here:</p>\n<ul>\n<li>jdks are installed via intellij and jdk names are defaulted (I tested with correto-18 and openjdk-21).</li>\n<li>I noticed is that workspace files are saved on exit, not on the change itself.  If you're swapping around quickly then it's not much of a solution.  If however you've got different projects on different jdks then it may make life easier.  You can paste the code into your powershell <a href=\"https://learn.microsoft.com/en-us/powershell/scripting/learn/shell/creating-profiles?view=powershell-7.3\" rel=\"nofollow noreferrer\">profile</a> to execute on new terminal sessions</li>\n</ul>\n"}],"owner":{"account_id":12170967,"reputation":592,"user_id":8885662,"display_name":"giotto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2496,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52538539,"answer_count":5,"score":1,"last_activity_date":1696812155,"creation_date":1537877495,"question_id":52497961,"body_markdown":"I have a project in IntelliJ Idea that uses jdk 8. In my system I have many jdk installed for development. Every time I create a new terminal window inside IntelliJ, the latest system jdk (jdk 10) is used and not the project one (jdk 8 in this case) and I have to switch manually. Of course I realise the error only after some build which requires jdk 8 does not work properly.\r\n\r\nIs there a possibility to set the jdk used in IntelliJ terminal? ","title":"IntelliJ terminal jdk setting","body":"<p>I have a project in IntelliJ Idea that uses jdk 8. In my system I have many jdk installed for development. Every time I create a new terminal window inside IntelliJ, the latest system jdk (jdk 10) is used and not the project one (jdk 8 in this case) and I have to switch manually. Of course I realise the error only after some build which requires jdk 8 does not work properly.</p>\n\n<p>Is there a possibility to set the jdk used in IntelliJ terminal? </p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","querydsl"],"comments":[{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1696748189,"post_id":77251851,"comment_id":136191313,"body_markdown":"With using projections I&#39;d advise to use two queries. First fetch all the workers including their id, then extract the worker&#39;s ids and pass them to another query fetching all the cars by worker id. Of course there is some glue logic to join the projections/DTOs but you will have a constant of two queries.","body":"With using projections I&#39;d advise to use two queries. First fetch all the workers including their id, then extract the worker&#39;s ids and pass them to another query fetching all the cars by worker id. Of course there is some glue logic to join the projections/DTOs but you will have a constant of two queries."},{"owner":{"account_id":29622402,"reputation":11,"user_id":22703024,"display_name":"Mehmet Fırat &#214;ZG&#220;N"},"score":0,"creation_date":1696761604,"post_id":77251851,"comment_id":136192416,"body_markdown":"when there are a so many person, the loop take too much time, almost impossible. that is why i want to get them from db together.","body":"when there are a so many person, the loop take too much time, almost impossible. that is why i want to get them from db together."}],"answers":[{"tags":[],"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696727148,"creation_date":1696727148,"answer_id":77251982,"question_id":77251851,"body_markdown":"Default FetchType for @OneToMany is FetchType.LAZY. If you want get workers with filled cars you can change FetchType to EAGER but this is not recommended.\r\n\r\nYou can achieve that creating your own method which can return List&lt;Person&gt;:\r\n\r\n    @Query(&quot;SELECT DISTINCT person FROM Person person &quot; +\r\n            &quot;JOIN FETCH person.cars cars&quot;)\r\n\r\nor using EntityGraph on existing repository method e.g. findAll:\r\n\r\n    @EntityGraph(attributePaths = {&quot;cars&quot;})","title":"How to take a list field from database for a DTO? Spring boot - querydsl?","body":"<p>Default FetchType for @OneToMany is FetchType.LAZY. If you want get workers with filled cars you can change FetchType to EAGER but this is not recommended.</p>\n<p>You can achieve that creating your own method which can return List:</p>\n<pre><code>@Query(&quot;SELECT DISTINCT person FROM Person person &quot; +\n        &quot;JOIN FETCH person.cars cars&quot;)\n</code></pre>\n<p>or using EntityGraph on existing repository method e.g. findAll:</p>\n<pre><code>@EntityGraph(attributePaths = {&quot;cars&quot;})\n</code></pre>\n"}],"owner":{"account_id":29622402,"reputation":11,"user_id":22703024,"display_name":"Mehmet Fırat &#214;ZG&#220;N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696811670,"creation_date":1696722639,"question_id":77251851,"body_markdown":"edit: \r\n\r\ni think i am solving this by creating views in db.\r\n\r\nedit 2:\r\n\r\nyeah, views worked.\r\n\r\nthe original post:\r\n\r\n\r\nI am gonna write my tables and I will give the main DTO (WorkerDTO) and the other DTO&#39;s which are I want to use as fields of the main one.\r\n\r\nI want to get the list of WorkerDTO which contains a list of  CarDTO. How can I do that? I want to do it in one shot. I don&#39;t want to go to database again and again.\r\n\r\nI will lose my little mind.\r\n\r\n```\r\n@Table(name = &quot;person&quot;)\r\npublic class Person {\r\n    @Id\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @OneToMany(mappedBy = &quot;personId&quot;, cascade = CascadeType.ALL)\r\n    private Set&lt;Car&gt; cars = new LinkedHashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n```\r\n@Table(name = &quot;car&quot;)\r\npublic class Car {\r\n    @Id\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;person_id&quot;)\r\n    private Person personId;\r\n\r\n    @JoinColumn(name = &quot;motor_id&quot;)\r\n    private Motor motorId;\r\n\r\n    @Column(name = &quot;model&quot;)\r\n    private String model;\r\n\r\n    @Column(name = &quot;color&quot;)\r\n    private String color;\r\n}\r\n```\r\n\r\n```\r\n@Table(name = &quot;motor&quot;)\r\npublic class Motor {\r\n    @Id\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;type&quot;)\r\n    private String type;\r\n}\r\n```\r\n\r\n```\r\npublic class WorkerDTO {\r\n     private string name;\r\n     private List&lt;CarDTO&gt; cars; \r\n     \r\n}\r\n```\r\n\r\n```\r\npublic class CarDTO{\r\n     private MotorDTO motor;\r\n     private String model;\r\n}\r\n```\r\n\r\n```\r\npublic class MotorDTO{\r\n     private String type;\r\n}\r\n```\r\n\r\n\r\n\r\nI used QueryDsl&#39;s Projections.list(...) method to left join the list of cars.\r\n\r\nI tried @Query(&quot;select new WorkerDTO(...&quot;)\r\n\r\nI think i will find the question like the second one.","title":"How to take a list field from database for a DTO? Spring boot - querydsl?","body":"<p>edit:</p>\n<p>i think i am solving this by creating views in db.</p>\n<p>edit 2:</p>\n<p>yeah, views worked.</p>\n<p>the original post:</p>\n<p>I am gonna write my tables and I will give the main DTO (WorkerDTO) and the other DTO's which are I want to use as fields of the main one.</p>\n<p>I want to get the list of WorkerDTO which contains a list of  CarDTO. How can I do that? I want to do it in one shot. I don't want to go to database again and again.</p>\n<p>I will lose my little mind.</p>\n<pre><code>@Table(name = &quot;person&quot;)\npublic class Person {\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @OneToMany(mappedBy = &quot;personId&quot;, cascade = CascadeType.ALL)\n    private Set&lt;Car&gt; cars = new LinkedHashSet&lt;&gt;();\n}\n</code></pre>\n<pre><code>@Table(name = &quot;car&quot;)\npublic class Car {\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;person_id&quot;)\n    private Person personId;\n\n    @JoinColumn(name = &quot;motor_id&quot;)\n    private Motor motorId;\n\n    @Column(name = &quot;model&quot;)\n    private String model;\n\n    @Column(name = &quot;color&quot;)\n    private String color;\n}\n</code></pre>\n<pre><code>@Table(name = &quot;motor&quot;)\npublic class Motor {\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;type&quot;)\n    private String type;\n}\n</code></pre>\n<pre><code>public class WorkerDTO {\n     private string name;\n     private List&lt;CarDTO&gt; cars; \n     \n}\n</code></pre>\n<pre><code>public class CarDTO{\n     private MotorDTO motor;\n     private String model;\n}\n</code></pre>\n<pre><code>public class MotorDTO{\n     private String type;\n}\n</code></pre>\n<p>I used QueryDsl's Projections.list(...) method to left join the list of cars.</p>\n<p>I tried @Query(&quot;select new WorkerDTO(...&quot;)</p>\n<p>I think i will find the question like the second one.</p>\n"},{"tags":["java","jms","spring-jms"],"answers":[{"comments":[{"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"score":0,"creation_date":1463057738,"post_id":37187487,"comment_id":61907782,"body_markdown":"OK, I looked at MessagePostProcessor, but I thought it was a method of receiving a response ascynhronously. The MessagePostProcessor will execute prior to the send, by JMS? This seems promising.","body":"OK, I looked at MessagePostProcessor, but I thought it was a method of receiving a response ascynhronously. The MessagePostProcessor will execute prior to the send, by JMS? This seems promising."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1463057969,"post_id":37187487,"comment_id":61907958,"body_markdown":"Yes; it&#39;s a mechanism allowing you to modify the JMS Message created by the conversion, before it is sent to JMS.","body":"Yes; it&#39;s a mechanism allowing you to modify the JMS Message created by the conversion, before it is sent to JMS."},{"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"score":0,"creation_date":1463058002,"post_id":37187487,"comment_id":61907984,"body_markdown":"OK, it looks like the convertSendAndReceive you specified doesn&#39;t exist. I think I need to specify the target class type.","body":"OK, it looks like the convertSendAndReceive you specified doesn&#39;t exist. I think I need to specify the target class type."},{"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"score":0,"creation_date":1463058234,"post_id":37187487,"comment_id":61908183,"body_markdown":"I created a new org.springframework.messaging.core.MessagePostProcessor, but there is no method named setStringProperty on org.springframework.messaging.Message","body":"I created a new org.springframework.messaging.core.MessagePostProcessor, but there is no method named setStringProperty on org.springframework.messaging.Message"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1463058595,"post_id":37187487,"comment_id":61908471,"body_markdown":"Please read the answer more carefully - there are two different callbacks depending on whether you are using a `JmsTemplate` or a `JmsMessagingTemplate`. The older `JmsTemplate` doesn&#39;t support generics so you have to cast the reply but in this case it would be more efficient because you would avoid the intermediate spring-messaging `Message`.","body":"Please read the answer more carefully - there are two different callbacks depending on whether you are using a <code>JmsTemplate</code> or a <code>JmsMessagingTemplate</code>. The older <code>JmsTemplate</code> doesn&#39;t support generics so you have to cast the reply but in this case it would be more efficient because you would avoid the intermediate spring-messaging <code>Message</code>."},{"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"score":0,"creation_date":1463058944,"post_id":37187487,"comment_id":61908749,"body_markdown":"OK, so since I&#39;m using JmsMessageTemplate, it seems like I can do the following. Do you agree?\n\nreturn MessageBuilder.fromMessage(message).\n                                    setHeader(&quot;requiresReply&quot;, &quot;false&quot;).build();\n\n\nAlso, I want to use convertAndSend, not convertSendAndReceive.","body":"OK, so since I&#39;m using JmsMessageTemplate, it seems like I can do the following. Do you agree?  return MessageBuilder.fromMessage(message).                                     setHeader(&quot;requiresReply&quot;, &quot;false&quot;).build();   Also, I want to use convertAndSend, not convertSendAndReceive."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1463060015,"post_id":37187487,"comment_id":61909612,"body_markdown":"For the message you expect replies to, you will use `convertSendAndReceive()` for those that you don&#39;t expect a reply, you&#39;ll use `convertAndSend()`. Of course you&#39;ll need a different post processor for each. Or, you can just use 2 different queues to make life simpler. Of course, the `JmsListener` that doesn&#39;t produce a reply should return `null` (or have a `void` return).","body":"For the message you expect replies to, you will use <code>convertSendAndReceive()</code> for those that you don&#39;t expect a reply, you&#39;ll use <code>convertAndSend()</code>. Of course you&#39;ll need a different post processor for each. Or, you can just use 2 different queues to make life simpler. Of course, the <code>JmsListener</code> that doesn&#39;t produce a reply should return <code>null</code> (or have a <code>void</code> return)."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1463060118,"post_id":37187487,"comment_id":61909694,"body_markdown":"For the message you expect replies to, you will use `convertSendAndReceive()` for those that you don&#39;t expect a reply, you&#39;ll use `convertAndSend()`. Of course you&#39;ll need a different post processor for each. Or, you can just use 2 different queues to make life simpler. Of course, the `JmsListener` that doesn&#39;t produce a reply should return `null` (or have a `void` return). See my edit for an alternative to all this, if the listener knows from the data whether a reply is expected or not.","body":"For the message you expect replies to, you will use <code>convertSendAndReceive()</code> for those that you don&#39;t expect a reply, you&#39;ll use <code>convertAndSend()</code>. Of course you&#39;ll need a different post processor for each. Or, you can just use 2 different queues to make life simpler. Of course, the <code>JmsListener</code> that doesn&#39;t produce a reply should return <code>null</code> (or have a <code>void</code> return). See my edit for an alternative to all this, if the listener knows from the data whether a reply is expected or not."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1463060483,"post_id":37187487,"comment_id":61909984,"body_markdown":"Yes; that is perfectly fine; you&#39;ll only get an error routing a reply (with no replyTo) if the method actually returns a result. If it returns `null`, that&#39;s the end of things.","body":"Yes; that is perfectly fine; you&#39;ll only get an error routing a reply (with no replyTo) if the method actually returns a result. If it returns <code>null</code>, that&#39;s the end of things."},{"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"score":0,"creation_date":1463060536,"post_id":37187487,"comment_id":61910043,"body_markdown":"OK, I was also considering two seperate queues, but am curious if I can use the selector.  Is this correct for jmsMessageTemplate ? MessageBuilder.fromMessage(message). setHeader(&quot;requiresReply&quot;, &quot;false&quot;).build(); c","body":"OK, I was also considering two seperate queues, but am curious if I can use the selector.  Is this correct for jmsMessageTemplate ? MessageBuilder.fromMessage(message). setHeader(&quot;requiresReply&quot;, &quot;false&quot;).build(); c"},{"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"score":0,"creation_date":1463060589,"post_id":37187487,"comment_id":61910100,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/111770/discussion-between-stealth-rabbi-and-gary-russell).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/111770/discussion-between-stealth-rabbi-and-gary-russell\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":11,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1463060080,"creation_date":1463057533,"answer_id":37187487,"question_id":37186017,"body_markdown":"You can use two `@JmsListener`s and the `selector` property to direct the different message types to each listener.\r\n\r\nThis requires the sender to set a message property that is then used in the selector expression.\r\n\r\nIt&#39;s a bit more complicated when using the messaging template because you have to build a new message but with the basic `JmsTemplate`:\r\n\r\n\r\n    jmsTemplate.convertSendAndReceive(dest, object, messagePostProcessor);\r\n\r\nwhere `messagePostProcessor` has a method\r\n\r\n    public Message postProcessMessage(Message message) {\r\n        message.setStringProperty(&quot;requiresReply&quot;, &quot;yes&quot;);\r\n        return message;\r\n    }\r\n\r\nThen use `requiresReply=yes/no` in the selector.\r\n\r\nIf you want to avoid the cast and use the messaging template, you need to use `MessageBuilder.fromMessage(message).setHeader(...).build()` in the (different) `MessagePostProcessor`). In this case it&#39;s a spring-messaging `Message` not a JMS `Message`.\r\n\r\n__EDIT__\r\n\r\nYou really don&#39;t need any of this, though, if your listener can tell from the data whether a reply is expected and simply returns `null` for messages that don&#39;t need a reply.\r\n","title":"Using a @JmsListener to handle sendAndReceive and just send","body":"<p>You can use two <code>@JmsListener</code>s and the <code>selector</code> property to direct the different message types to each listener.</p>\n\n<p>This requires the sender to set a message property that is then used in the selector expression.</p>\n\n<p>It's a bit more complicated when using the messaging template because you have to build a new message but with the basic <code>JmsTemplate</code>:</p>\n\n<pre><code>jmsTemplate.convertSendAndReceive(dest, object, messagePostProcessor);\n</code></pre>\n\n<p>where <code>messagePostProcessor</code> has a method</p>\n\n<pre><code>public Message postProcessMessage(Message message) {\n    message.setStringProperty(\"requiresReply\", \"yes\");\n    return message;\n}\n</code></pre>\n\n<p>Then use <code>requiresReply=yes/no</code> in the selector.</p>\n\n<p>If you want to avoid the cast and use the messaging template, you need to use <code>MessageBuilder.fromMessage(message).setHeader(...).build()</code> in the (different) <code>MessagePostProcessor</code>). In this case it's a spring-messaging <code>Message</code> not a JMS <code>Message</code>.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>You really don't need any of this, though, if your listener can tell from the data whether a reply is expected and simply returns <code>null</code> for messages that don't need a reply.</p>\n"}],"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9524,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696811601,"creation_date":1463053798,"question_id":37186017,"body_markdown":"I have a spring service that has @JmsListener method. It gets invoked by a client send out a message via JmsMessagingTemplate.convertSendAndReceive(). This works fine.\r\n\r\n    @Service\r\n    public class JmsMessageProcessor {\r\n        @JmsListener(destination = &quot;myDestination&quot;)\r\n        protected Message&lt;MyResponseObj&gt; handleRequest(final MyInputObj myObj) {\r\n            return MessageBuilder.withPayload(processObj(myObj)).build();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n.\r\n\r\n    // client\r\n     MyResponseObj response = jmsMessagingTemplate.convertSendAndReceive(myDestination, myObj,\r\n                    MyResponseObj.class);\r\n\r\n\r\nI&#39;m attemptign to implement on the client, functionality for just doing a `convertSend` call. That is, the client will send and forget, and not wait for a response. I have made such a call, and it does get processed on the server side\r\n\r\n     jmsMessagingTemplate.convertAndSend(myDestination, myObj);\r\n\r\n\r\nBut, I get an error on the server side indicating that the request message does not contain a reply-to destination. This makes some sense to me, because i&#39;m not doing a &quot;receive&quot; method call via the jmsMessageTemplate. But, I&#39;m not sure what to do about this. Is it possible to have another JmsListener method for the same destination, but handle specificaly the &quot;send without reply&quot; requests, or do i have to create a seperate destination and JMS queue? Basically, I want my server / jms listener to be able to not send back a response if it doesn&#39;t need to.\r\n\r\n    javax.jms.InvalidDestinationException: Cannot determine response destination: Request message does not contain reply-to destination, and no default response destination set.\r\n    org.springframework.jms.listener.adapter.ReplyFailureException: Failed to send reply with payload [GenericMessage [payload=MyResponseObj@51c082ec, headers={timestamp=1462996638601, id=41877e45-b220-a320-f07a-64f9d50d98ae}]]; nested exception is javax.jms.InvalidDestinationException: Cannot determine response destination: Request message does not contain reply-to destination, and no default response destination set.\r\n            at org.springframework.jms.listener.adapter.AbstractAdaptableMessageListener.handleResult(AbstractAdaptableMessageListener.java:249) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:68) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:721) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:681) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:651) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:315) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:253) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1150) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1142) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1039) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at java.lang.Thread.run(Thread.java:745) [?:1.7.0_99]\r\n    Caused by: javax.jms.InvalidDestinationException: Cannot determine response destination: Request message does not contain reply-to destination, and no default response destination set.\r\n            at org.springframework.jms.listener.adapter.AbstractAdaptableMessageListener.getResponseDestination(AbstractAdaptableMessageListener.java:343) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.adapter.AbstractAdaptableMessageListener.getResponseDestination(AbstractAdaptableMessageListener.java:316) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.adapter.AbstractAdaptableMessageListener.handleResult(AbstractAdaptableMessageListener.java:245) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            ... 10 more\r\n\r\n","title":"Using a @JmsListener to handle sendAndReceive and just send","body":"<p>I have a spring service that has @JmsListener method. It gets invoked by a client send out a message via JmsMessagingTemplate.convertSendAndReceive(). This works fine.</p>\n<pre><code>@Service\npublic class JmsMessageProcessor {\n    @JmsListener(destination = &quot;myDestination&quot;)\n    protected Message&lt;MyResponseObj&gt; handleRequest(final MyInputObj myObj) {\n        return MessageBuilder.withPayload(processObj(myObj)).build();\n    }\n\n}\n</code></pre>\n<p>.</p>\n<pre><code>// client\n MyResponseObj response = jmsMessagingTemplate.convertSendAndReceive(myDestination, myObj,\n                MyResponseObj.class);\n</code></pre>\n<p>I'm attemptign to implement on the client, functionality for just doing a <code>convertSend</code> call. That is, the client will send and forget, and not wait for a response. I have made such a call, and it does get processed on the server side</p>\n<pre><code> jmsMessagingTemplate.convertAndSend(myDestination, myObj);\n</code></pre>\n<p>But, I get an error on the server side indicating that the request message does not contain a reply-to destination. This makes some sense to me, because i'm not doing a &quot;receive&quot; method call via the jmsMessageTemplate. But, I'm not sure what to do about this. Is it possible to have another JmsListener method for the same destination, but handle specificaly the &quot;send without reply&quot; requests, or do i have to create a seperate destination and JMS queue? Basically, I want my server / jms listener to be able to not send back a response if it doesn't need to.</p>\n<pre><code>javax.jms.InvalidDestinationException: Cannot determine response destination: Request message does not contain reply-to destination, and no default response destination set.\norg.springframework.jms.listener.adapter.ReplyFailureException: Failed to send reply with payload [GenericMessage [payload=MyResponseObj@51c082ec, headers={timestamp=1462996638601, id=41877e45-b220-a320-f07a-64f9d50d98ae}]]; nested exception is javax.jms.InvalidDestinationException: Cannot determine response destination: Request message does not contain reply-to destination, and no default response destination set.\n        at org.springframework.jms.listener.adapter.AbstractAdaptableMessageListener.handleResult(AbstractAdaptableMessageListener.java:249) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:68) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:721) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:681) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:651) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:315) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:253) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1150) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1142) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1039) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at java.lang.Thread.run(Thread.java:745) [?:1.7.0_99]\nCaused by: javax.jms.InvalidDestinationException: Cannot determine response destination: Request message does not contain reply-to destination, and no default response destination set.\n        at org.springframework.jms.listener.adapter.AbstractAdaptableMessageListener.getResponseDestination(AbstractAdaptableMessageListener.java:343) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.adapter.AbstractAdaptableMessageListener.getResponseDestination(AbstractAdaptableMessageListener.java:316) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.adapter.AbstractAdaptableMessageListener.handleResult(AbstractAdaptableMessageListener.java:245) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        ... 10 more\n</code></pre>\n"},{"tags":["java","recursion","linked-list"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1696780896,"post_id":77254262,"comment_id":136194243,"body_markdown":"Why does your code and with **2** closing braces with no indentation? Find the reason for that, and you&#39;ll find the reason why javac can&#39;t find your main.","body":"Why does your code and with <b>2</b> closing braces with no indentation? Find the reason for that, and you&#39;ll find the reason why javac can&#39;t find your main."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696799684,"post_id":77254262,"comment_id":136196081,"body_markdown":"There is no such thing as a recursive linked list.","body":"There is no such thing as a recursive linked list."},{"owner":{"account_id":29626368,"reputation":1,"user_id":22705992,"display_name":"Viv"},"score":0,"creation_date":1696813052,"post_id":77254262,"comment_id":136196967,"body_markdown":"I added extra brackets because the code wouldn&#39;t compile without the rainbow class being open, which I thought was weird. Based on the comment below, I&#39;m going to try and separate the two methods, and this way it won&#39;t be so muddled anymore hopefully. \n\nI guess a better labeling of this would be a recursive approach to counting a linked list.","body":"I added extra brackets because the code wouldn&#39;t compile without the rainbow class being open, which I thought was weird. Based on the comment below, I&#39;m going to try and separate the two methods, and this way it won&#39;t be so muddled anymore hopefully.   I guess a better labeling of this would be a recursive approach to counting a linked list."}],"answers":[{"comments":[{"owner":{"account_id":29626368,"reputation":1,"user_id":22705992,"display_name":"Viv"},"score":0,"creation_date":1696812884,"post_id":77255349,"comment_id":136196953,"body_markdown":"I appreciate the feedback, thank you. They are variants of the same thing, I was trying to change it around to see if I could get it to work. I didn&#39;t realize I was using two different methods. I&#39;ll do my best to separate the two methods and focus on one.\nAs for the brackets, if I didn&#39;t open it to the public rainbow class, it wouldn&#39;t let another operation work, which I thought was weird. But worst case, I will reset my code.","body":"I appreciate the feedback, thank you. They are variants of the same thing, I was trying to change it around to see if I could get it to work. I didn&#39;t realize I was using two different methods. I&#39;ll do my best to separate the two methods and focus on one. As for the brackets, if I didn&#39;t open it to the public rainbow class, it wouldn&#39;t let another operation work, which I thought was weird. But worst case, I will reset my code."}],"tags":[],"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696811592,"creation_date":1696799231,"answer_id":77255349,"question_id":77254262,"body_markdown":"Please save yourself a good deal of trouble and follow standard formatting guidelines and use an autoformatter. Brackets should open and close in a predictable manner and indentation should strictly follow the brackets.\r\n\r\n`main` needs to be top-level, and you probably want your classes unnested in general:\r\n\r\n```java\r\nimport java.util.LinkedList;\r\n\r\npublic class Rainbow {\r\n    // Create the nodes for the linked list Rainbow\r\n\r\n    class Node {\r\n        int info;\r\n        Node next;\r\n        Node(int k) {\r\n            info = k;\r\n            next = null;\r\n        }\r\n    }\r\n\r\n    class ManageNodes {\r\n        // Create head of the list\r\n        Node head;\r\n\r\n        // Put a new node at the front of the list\r\n        public void push(int new_info) {\r\n            // Create node pointer and data\r\n            Node new_node = new Node(new_info);\r\n\r\n            // The new_node.next becomes the new head\r\n            new_node.next = head;\r\n\r\n            // The head points to the new node\r\n            head = new_node;\r\n        }\r\n\r\n        // Count nodes in the linked list\r\n        public int getCountRainbow(Node node) {\r\n            // End of the list\r\n            if (node == null)\r\n                return 0;\r\n\r\n            // count this node and the rest on the list\r\n            return 1 + getCountRainbow(node.next);\r\n        }\r\n\r\n        public int getCount() { return getCountRainbow(head); }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // Create the linked list named &quot;rainbow&quot;\r\n        LinkedList rainbow = new LinkedList();\r\n\r\n        // Add the colors into the linked list\r\n        rainbow.push(&quot;Red&quot;);\r\n        rainbow.push(&quot;Orange&quot;);\r\n        rainbow.push(&quot;Yellow&quot;);\r\n        rainbow.push(&quot;Green&quot;);\r\n        rainbow.push(&quot;Blue&quot;);\r\n        rainbow.push(&quot;Indigo&quot;);\r\n        rainbow.push(&quot;Violet&quot;);\r\n        // System.out.println(&quot;Count of nodes is &quot; + rainbow.getCount());\r\n    }\r\n}\r\n```\r\n\r\nAnd:\r\n\r\n```java\r\nimport java.util.LinkedList;\r\n\r\npublic class Rainbow {\r\n\r\n    // Create the nodes for the linked list Rainbow\r\n    class Node {\r\n        String data;\r\n        Node next;\r\n        Node(String k) {\r\n            data = k;\r\n            next = null;\r\n        }\r\n\r\n        // Create head of the list\r\n        Node head;\r\n\r\n        // Put a new node at the front of the list\r\n        public void push(String new_data) {\r\n            // Add data to new_node\r\n            Node new_node = new Node(new_data);\r\n\r\n            // The new_node.next becomes the new head\r\n            new_node.next = head;\r\n\r\n            // The head points to the new node\r\n            head = new_node;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // Create the linked list named &quot;rainbow&quot;\r\n        LinkedList&lt;String&gt; rainbow = new LinkedList&lt;String&gt;();\r\n\r\n        // Add the colors into the linked list\r\n        rainbow.push(&quot;Red&quot;);\r\n        rainbow.push(&quot;Orange&quot;);\r\n        rainbow.push(&quot;Yellow&quot;);\r\n        rainbow.push(&quot;Green&quot;);\r\n        rainbow.push(&quot;Blue&quot;);\r\n        rainbow.push(&quot;Indigo&quot;);\r\n        rainbow.push(&quot;Violet&quot;);\r\n\r\n        // Print list\r\n        // System.out.println(&quot;There are &quot; + rainbow.getLength() +\r\n        //                    &quot; nodes in total.&quot;);\r\n    }\r\n\r\n    // Call the getCount() function\r\n    // public int getLength() { return getCount(this.head); }\r\n\r\n    // Count nodes in the linked list\r\n    private int getCount(Node currentPointer) {\r\n        // End of the list\r\n        if (currentPointer == null)\r\n            return 0;\r\n\r\n        // count this node and the rest on the list\r\n        return 1 + getCount(currentPointer.next);\r\n    }\r\n}\r\n```\r\n\r\nBoth files need to be called Rainbow.java to compile, so I assume they&#39;re variants of the same thing.\r\n\r\nThere are other problems in your code, but this should at least get you moving forward. Any commented-out lines were preventing compilation and need to be fixed.\r\n\r\nTaking a further step back, it&#39;s unusual use the builtin LinkedList as well as your own linked Node classes. I&#39;m not sure what you&#39;re trying to do, but if this is a data structure exercise, you&#39;d usually implement your own linked list without Java collections. On the other hand, if you&#39;re not implementing your own linked list class, skip writing Node and NodeManager classes completely and use the collections API. Calling `rainbow.getCount()` suggests that you are confusing your custom linked list with the builtin Java linked list. Choose one or the other.","title":"Can&#39;t compile Java Code that Counts a Recursive Linked List","body":"<p>Please save yourself a good deal of trouble and follow standard formatting guidelines and use an autoformatter. Brackets should open and close in a predictable manner and indentation should strictly follow the brackets.</p>\n<p><code>main</code> needs to be top-level, and you probably want your classes unnested in general:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.LinkedList;\n\npublic class Rainbow {\n    // Create the nodes for the linked list Rainbow\n\n    class Node {\n        int info;\n        Node next;\n        Node(int k) {\n            info = k;\n            next = null;\n        }\n    }\n\n    class ManageNodes {\n        // Create head of the list\n        Node head;\n\n        // Put a new node at the front of the list\n        public void push(int new_info) {\n            // Create node pointer and data\n            Node new_node = new Node(new_info);\n\n            // The new_node.next becomes the new head\n            new_node.next = head;\n\n            // The head points to the new node\n            head = new_node;\n        }\n\n        // Count nodes in the linked list\n        public int getCountRainbow(Node node) {\n            // End of the list\n            if (node == null)\n                return 0;\n\n            // count this node and the rest on the list\n            return 1 + getCountRainbow(node.next);\n        }\n\n        public int getCount() { return getCountRainbow(head); }\n    }\n\n    public static void main(String[] args) {\n        // Create the linked list named &quot;rainbow&quot;\n        LinkedList rainbow = new LinkedList();\n\n        // Add the colors into the linked list\n        rainbow.push(&quot;Red&quot;);\n        rainbow.push(&quot;Orange&quot;);\n        rainbow.push(&quot;Yellow&quot;);\n        rainbow.push(&quot;Green&quot;);\n        rainbow.push(&quot;Blue&quot;);\n        rainbow.push(&quot;Indigo&quot;);\n        rainbow.push(&quot;Violet&quot;);\n        // System.out.println(&quot;Count of nodes is &quot; + rainbow.getCount());\n    }\n}\n</code></pre>\n<p>And:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.LinkedList;\n\npublic class Rainbow {\n\n    // Create the nodes for the linked list Rainbow\n    class Node {\n        String data;\n        Node next;\n        Node(String k) {\n            data = k;\n            next = null;\n        }\n\n        // Create head of the list\n        Node head;\n\n        // Put a new node at the front of the list\n        public void push(String new_data) {\n            // Add data to new_node\n            Node new_node = new Node(new_data);\n\n            // The new_node.next becomes the new head\n            new_node.next = head;\n\n            // The head points to the new node\n            head = new_node;\n        }\n    }\n\n    public static void main(String[] args) {\n        // Create the linked list named &quot;rainbow&quot;\n        LinkedList&lt;String&gt; rainbow = new LinkedList&lt;String&gt;();\n\n        // Add the colors into the linked list\n        rainbow.push(&quot;Red&quot;);\n        rainbow.push(&quot;Orange&quot;);\n        rainbow.push(&quot;Yellow&quot;);\n        rainbow.push(&quot;Green&quot;);\n        rainbow.push(&quot;Blue&quot;);\n        rainbow.push(&quot;Indigo&quot;);\n        rainbow.push(&quot;Violet&quot;);\n\n        // Print list\n        // System.out.println(&quot;There are &quot; + rainbow.getLength() +\n        //                    &quot; nodes in total.&quot;);\n    }\n\n    // Call the getCount() function\n    // public int getLength() { return getCount(this.head); }\n\n    // Count nodes in the linked list\n    private int getCount(Node currentPointer) {\n        // End of the list\n        if (currentPointer == null)\n            return 0;\n\n        // count this node and the rest on the list\n        return 1 + getCount(currentPointer.next);\n    }\n}\n</code></pre>\n<p>Both files need to be called Rainbow.java to compile, so I assume they're variants of the same thing.</p>\n<p>There are other problems in your code, but this should at least get you moving forward. Any commented-out lines were preventing compilation and need to be fixed.</p>\n<p>Taking a further step back, it's unusual use the builtin LinkedList as well as your own linked Node classes. I'm not sure what you're trying to do, but if this is a data structure exercise, you'd usually implement your own linked list without Java collections. On the other hand, if you're not implementing your own linked list class, skip writing Node and NodeManager classes completely and use the collections API. Calling <code>rainbow.getCount()</code> suggests that you are confusing your custom linked list with the builtin Java linked list. Choose one or the other.</p>\n"}],"owner":{"account_id":29626368,"reputation":1,"user_id":22705992,"display_name":"Viv"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1696811592,"creation_date":1696780106,"question_id":77254262,"body_markdown":"I have made two different versions of trying to compile a Java code that counts a linked list. I have changed the order of the main string, as well as variables, but I continue to get the same error: &quot;Error: Main method not found in class Rainbow, please define the main method as:\r\n   public static void main(String[] args)\r\nor a JavaFX application class must extend javafx.application.Application&quot;. Does anyone know what I am doing wrong? I have to keep the public class Rainbow or else I get an error as well. \r\n\r\n\r\n```\r\nimport java.util.LinkedList;\r\n\t\r\npublic class Rainbow {\t\r\n\t\r\n\t// Create the nodes for the linked list Rainbow\r\n\tclass Node {\r\n\t\tString data;\r\n\t\tNode next;\r\n\t\tNode(String k)\r\n\t\t{\r\n\t\t\tdata = k;\r\n\t\t\tnext = null;\r\n\t\t}\r\n\r\n\t\t// Create head of the list\r\n\t\tNode head;\r\n\t\t\r\n\t\t// Put a new node at the front of the list\r\n\tpublic void push(String new_data)\r\n\t\t{\r\n\t\t\t// Add data to new_node\r\n\t\t\tNode new_node = new Node(new_data);\r\n\t\t\t\r\n\t\t\t// The new_node.next becomes the new head\r\n\t\t\tnew_node.next = head;\r\n\t\t\t\r\n\t\t\t// The head points to the new node \r\n\t\t\thead = new_node; \t\r\n\t\t}\r\n\t\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\t\r\n\t\t// Create the linked list named &quot;rainbow&quot;\r\n\t\tLinkedList&lt;String&gt; rainbow = new LinkedList&lt;String&gt;();\r\n\t\t\t\r\n\t\t// Add the colors into the linked list\r\n\t\trainbow.push(&quot;Red&quot;);\r\n\t\trainbow.push(&quot;Orange&quot;);\r\n\t\trainbow.push(&quot;Yellow&quot;);\r\n\t\trainbow.push(&quot;Green&quot;);\r\n\t\trainbow.push(&quot;Blue&quot;);\r\n\t\trainbow.push(&quot;Indigo&quot;);\r\n\t\trainbow.push(&quot;Violet&quot;);\r\n\t\t\t\r\n\t\t// Print list\r\n\t\tSystem.out.println(&quot;There are &quot; + rainbow.getLength() + &quot; nodes in total.&quot;);\r\n\t\t}\r\n\t\r\n\t//Call the getCount() function\r\n\tpublic int getLength() {\r\n\t\treturn getCount(this.head);\r\n\t}\r\n\t\r\n\t// Count nodes in the linked list\r\n\tprivate int getCount(Node currentPointer)\r\n\t{\r\n\t\t// End of the list\r\n\t\tif (currentPointer == null)\r\n\t\t\treturn 0;\r\n\t\t\r\n\t\t// count this node and the rest on the list\r\n\t\treturn 1 + getCount(currentPointer.next);\r\n\t}\r\n\t\r\n\t\r\n\t}\r\n}\r\n}\r\n\r\n```\r\n\r\nAnd also:\r\n\r\n\r\n```\r\nimport java.util.LinkedList;\r\n\r\n            \r\n\r\npublic class Rainbow { \r\n\r\n            \r\n\r\n            // Create the nodes for the linked list Rainbow\r\n\r\n            class Node {\r\n\r\n                        int info;\r\n\r\n                        Node next;\r\n\r\n                        Node(int k)\r\n\r\n                        {\r\n\r\n                                    info = k;\r\n\r\n                                    next = null;\r\n\r\n                        }\r\n\r\n \r\n\r\n            class ManageNodes {\r\n\r\n                        // Create head of the list\r\n\r\n                        Node head;\r\n\r\n                        \r\n\r\n                        // Put a new node at the front of the list\r\n\r\n                        public void push(int new_info)\r\n\r\n                        {\r\n\r\n                                    // Create node pointer and data\r\n\r\n                                    Node new_node = new Node(new_info);\r\n\r\n                                    \r\n\r\n                                    // The new_node.next becomes the new head\r\n\r\n                                    new_node.next = head;\r\n\r\n                                    \r\n\r\n                                    // The head points to the new node\r\n\r\n                                    head = new_node;      \r\n\r\n                        }\r\n\r\n                        \r\n\r\n            \r\n\r\n            // Count nodes in the linked list\r\n\r\n            public int getCountRainbow(Node node)\r\n\r\n            {\r\n\r\n                        // End of the list\r\n\r\n                        if (node ==null)\r\n\r\n                                    return 0;\r\n\r\n                        \r\n\r\n                        // count this node and the rest on the list\r\n\r\n                        return 1 + getCountRainbow(node.next);\r\n\r\n            }\r\n\r\n            \r\n\r\n            public int getCount() {return getCountRainbow(head);}\r\n\r\n            \r\n\r\n            public static void main(String[] args) {\r\n\r\n            \r\n\r\n                        // Create the linked list named &quot;rainbow&quot;\r\n\r\n                        LinkedList rainbow = new LinkedList();\r\n\r\n                        \r\n\r\n                        // Add the colors into the linked list\r\n\r\n                        rainbow.push(&quot;Red&quot;);\r\n\r\n                        rainbow.push(&quot;Orange&quot;);\r\n\r\n                        rainbow.push(&quot;Yellow&quot;);\r\n\r\n                        rainbow.push(&quot;Green&quot;);\r\n\r\n                        rainbow.push(&quot;Blue&quot;);\r\n\r\n                        rainbow.push(&quot;Indigo&quot;);\r\n\r\n                        rainbow.push(&quot;Violet&quot;);\r\n\r\n                        \r\n\r\n                        System.out.println(&quot;Count of nodes is &quot; + rainbow.getCount());\r\n\r\n                        }\r\n\r\n            }\r\n\r\n}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI tried reordering the different parts of the code, changing variable types, and moving the main. I continue to get errors. ","title":"Can&#39;t compile Java Code that Counts a Recursive Linked List","body":"<p>I have made two different versions of trying to compile a Java code that counts a linked list. I have changed the order of the main string, as well as variables, but I continue to get the same error: &quot;Error: Main method not found in class Rainbow, please define the main method as:\npublic static void main(String[] args)\nor a JavaFX application class must extend javafx.application.Application&quot;. Does anyone know what I am doing wrong? I have to keep the public class Rainbow or else I get an error as well.</p>\n<pre><code>import java.util.LinkedList;\n    \npublic class Rainbow {  \n    \n    // Create the nodes for the linked list Rainbow\n    class Node {\n        String data;\n        Node next;\n        Node(String k)\n        {\n            data = k;\n            next = null;\n        }\n\n        // Create head of the list\n        Node head;\n        \n        // Put a new node at the front of the list\n    public void push(String new_data)\n        {\n            // Add data to new_node\n            Node new_node = new Node(new_data);\n            \n            // The new_node.next becomes the new head\n            new_node.next = head;\n            \n            // The head points to the new node \n            head = new_node;    \n        }\n        \n    public static void main(String[] args) {\n            \n        // Create the linked list named &quot;rainbow&quot;\n        LinkedList&lt;String&gt; rainbow = new LinkedList&lt;String&gt;();\n            \n        // Add the colors into the linked list\n        rainbow.push(&quot;Red&quot;);\n        rainbow.push(&quot;Orange&quot;);\n        rainbow.push(&quot;Yellow&quot;);\n        rainbow.push(&quot;Green&quot;);\n        rainbow.push(&quot;Blue&quot;);\n        rainbow.push(&quot;Indigo&quot;);\n        rainbow.push(&quot;Violet&quot;);\n            \n        // Print list\n        System.out.println(&quot;There are &quot; + rainbow.getLength() + &quot; nodes in total.&quot;);\n        }\n    \n    //Call the getCount() function\n    public int getLength() {\n        return getCount(this.head);\n    }\n    \n    // Count nodes in the linked list\n    private int getCount(Node currentPointer)\n    {\n        // End of the list\n        if (currentPointer == null)\n            return 0;\n        \n        // count this node and the rest on the list\n        return 1 + getCount(currentPointer.next);\n    }\n    \n    \n    }\n}\n}\n\n</code></pre>\n<p>And also:</p>\n<pre><code>import java.util.LinkedList;\n\n            \n\npublic class Rainbow { \n\n            \n\n            // Create the nodes for the linked list Rainbow\n\n            class Node {\n\n                        int info;\n\n                        Node next;\n\n                        Node(int k)\n\n                        {\n\n                                    info = k;\n\n                                    next = null;\n\n                        }\n\n \n\n            class ManageNodes {\n\n                        // Create head of the list\n\n                        Node head;\n\n                        \n\n                        // Put a new node at the front of the list\n\n                        public void push(int new_info)\n\n                        {\n\n                                    // Create node pointer and data\n\n                                    Node new_node = new Node(new_info);\n\n                                    \n\n                                    // The new_node.next becomes the new head\n\n                                    new_node.next = head;\n\n                                    \n\n                                    // The head points to the new node\n\n                                    head = new_node;      \n\n                        }\n\n                        \n\n            \n\n            // Count nodes in the linked list\n\n            public int getCountRainbow(Node node)\n\n            {\n\n                        // End of the list\n\n                        if (node ==null)\n\n                                    return 0;\n\n                        \n\n                        // count this node and the rest on the list\n\n                        return 1 + getCountRainbow(node.next);\n\n            }\n\n            \n\n            public int getCount() {return getCountRainbow(head);}\n\n            \n\n            public static void main(String[] args) {\n\n            \n\n                        // Create the linked list named &quot;rainbow&quot;\n\n                        LinkedList rainbow = new LinkedList();\n\n                        \n\n                        // Add the colors into the linked list\n\n                        rainbow.push(&quot;Red&quot;);\n\n                        rainbow.push(&quot;Orange&quot;);\n\n                        rainbow.push(&quot;Yellow&quot;);\n\n                        rainbow.push(&quot;Green&quot;);\n\n                        rainbow.push(&quot;Blue&quot;);\n\n                        rainbow.push(&quot;Indigo&quot;);\n\n                        rainbow.push(&quot;Violet&quot;);\n\n                        \n\n                        System.out.println(&quot;Count of nodes is &quot; + rainbow.getCount());\n\n                        }\n\n            }\n\n}\n\n}\n</code></pre>\n<p>I tried reordering the different parts of the code, changing variable types, and moving the main. I continue to get errors.</p>\n"},{"tags":["java","spring-boot","spring-jms"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1498655762,"post_id":44800330,"comment_id":76587058,"body_markdown":"It&#39;s not clear what you mean by &quot;synchronous clients&quot;. That code will create a single asynchronous consumer.","body":"It&#39;s not clear what you mean by &quot;synchronous clients&quot;. That code will create a single asynchronous consumer."},{"owner":{"account_id":11211346,"reputation":13,"user_id":8225323,"display_name":"Matwfo"},"score":0,"creation_date":1498658370,"post_id":44800330,"comment_id":76589282,"body_markdown":"I wanted to create 10 message clients listening to the same queue to process a message. Once, the message gets consumed by the message client, then it should synchronous.","body":"I wanted to create 10 message clients listening to the same queue to process a message. Once, the message gets consumed by the message client, then it should synchronous."}],"answers":[{"comments":[{"owner":{"account_id":11211346,"reputation":13,"user_id":8225323,"display_name":"Matwfo"},"score":0,"creation_date":1498660929,"post_id":44805128,"comment_id":76591343,"body_markdown":"I set those properties. It looks like if I publish 100 messages, all seems to be getting consumed from 1 client. Is there any way to know which message client picked up a message from the queue to process.","body":"I set those properties. It looks like if I publish 100 messages, all seems to be getting consumed from 1 client. Is there any way to know which message client picked up a message from the queue to process."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1498661273,"post_id":44805128,"comment_id":76591604,"body_markdown":"If you are using ActiveMQ; I think he uses a default prefetch of 1000 which means one consumer will get all 100 messages. You need to configure ActiveMQ to reduce the prefetch to better distribute the messages. [See here](http://activemq.apache.org/what-is-the-prefetch-limit-for.html). If you write a log message (e.g. via slf4j), boot&#39;s default configuration includes the thread name - each consumer runs on a distinct thread.","body":"If you are using ActiveMQ; I think he uses a default prefetch of 1000 which means one consumer will get all 100 messages. You need to configure ActiveMQ to reduce the prefetch to better distribute the messages. <a href=\"http://activemq.apache.org/what-is-the-prefetch-limit-for.html\" rel=\"nofollow noreferrer\">See here</a>. If you write a log message (e.g. via slf4j), boot&#39;s default configuration includes the thread name - each consumer runs on a distinct thread."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1498659479,"creation_date":1498659479,"answer_id":44805128,"question_id":44800330,"body_markdown":"Set the boot properties...\r\n\r\n\r\n    spring.jms.listener.concurrency=10\r\n    spring.jms.listener.max-concurrency=10\r\n\r\n\r\nThe listener container will start 10 threads - each consuming from the same queue; they will invoke the JMS listener method.\r\n\r\nSee the [Spring Boot documentation - Application Properties](http://docs.spring.io/spring-boot/docs/1.5.4.RELEASE/reference/html/common-application-properties.html) and scroll down to the JMS section.\r\n","title":"Spring Factory to create synchronous consumers listening to the queue","body":"<p>Set the boot properties...</p>\n\n<pre><code>spring.jms.listener.concurrency=10\nspring.jms.listener.max-concurrency=10\n</code></pre>\n\n<p>The listener container will start 10 threads - each consuming from the same queue; they will invoke the JMS listener method.</p>\n\n<p>See the <a href=\"http://docs.spring.io/spring-boot/docs/1.5.4.RELEASE/reference/html/common-application-properties.html\" rel=\"nofollow noreferrer\">Spring Boot documentation - Application Properties</a> and scroll down to the JMS section.</p>\n"}],"owner":{"account_id":11211346,"reputation":13,"user_id":8225323,"display_name":"Matwfo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44805128,"answer_count":1,"score":1,"last_activity_date":1696811379,"creation_date":1498646820,"question_id":44800330,"body_markdown":"I am new to Spring Boot and coding for my college project work and I need some help.\r\nI want to create a spring boot application, which starts a factory class that will create and starts 10 synchronous clients. These clients must be listening constantly to the queues. Below is my code. I am not sure, if I am on right track and need some help. Is my implementation correct? How can I make sure that 10 synchronous clients are created? How do I use identifier to identify which  message client processed the message ?\r\n\r\nApplication.java\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n        @Bean\r\n        public MesFactory mesFactory(){\r\n            return new MesFactory();\r\n        }\r\n    \r\n        public static void main(String... args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n    \r\n    public class MesFactory {\r\n    \r\n        private ExecutorService executorService = \r\n    \r\n        Executors.newFixedThreadPool(10);\r\n    \r\n        @PostConstruct\r\n        public void build(){\r\n            executorService.execute(() -&gt; new MesClient());\r\n        }\r\n    }\r\n    \r\n    \r\n    @Component\r\n    @EnableJms\r\n    public class MesClient {\r\n    \r\n        private static final Log log = LogFactory.getLog(MesClient.class);\r\n    \r\n        @Autowired\r\n        private JmsTemplate jmsTemplate;\r\n    \r\n        @JmsListener(destination = &quot;incoming-messages-queue&quot;)\r\n        public void receive(String message) {\r\n            System.out.println(&quot;Received &lt;&quot; + message + &quot;&gt;&quot;);\r\n            doPerformMessage(message);\r\n        }\r\n    \r\n        public void doPerformMessage(String message){\r\n           // parsing happens here\r\n        } \r\n    \r\n        @Bean\r\n        ConnectionFactory connectionFactory() {\r\n            return new RMQConnectionFactory();\r\n        }\r\n    \r\n        @Scheduled(fixedRate = 100000000L)\r\n        public void sendMessage() {\r\n    \r\n            String message= &quot;Hi World&quot;;\r\n    \r\n            // Coerce a javax.jms.MessageCreator\r\n            MessageCreator messageCreator = (Session session) -&gt; {\r\n                return session.createTextMessage(message);\r\n            };\r\n    \r\n            // And publish to RabbitMQ using Spring&#39;s JmsTemplate\r\n            jmsTemplate.send(&quot;incoming-messages-queue&quot;, messageCreator);\r\n        }\r\n    \r\n    }\r\n\r\n   \r\n\r\n\r\n\r\n","title":"Spring Factory to create synchronous consumers listening to the queue","body":"<p>I am new to Spring Boot and coding for my college project work and I need some help.\nI want to create a spring boot application, which starts a factory class that will create and starts 10 synchronous clients. These clients must be listening constantly to the queues. Below is my code. I am not sure, if I am on right track and need some help. Is my implementation correct? How can I make sure that 10 synchronous clients are created? How do I use identifier to identify which  message client processed the message ?</p>\n\n<p>Application.java</p>\n\n<pre><code>@SpringBootApplication\npublic class Application {\n\n    @Bean\n    public MesFactory mesFactory(){\n        return new MesFactory();\n    }\n\n    public static void main(String... args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n\npublic class MesFactory {\n\n    private ExecutorService executorService = \n\n    Executors.newFixedThreadPool(10);\n\n    @PostConstruct\n    public void build(){\n        executorService.execute(() -&gt; new MesClient());\n    }\n}\n\n\n@Component\n@EnableJms\npublic class MesClient {\n\n    private static final Log log = LogFactory.getLog(MesClient.class);\n\n    @Autowired\n    private JmsTemplate jmsTemplate;\n\n    @JmsListener(destination = \"incoming-messages-queue\")\n    public void receive(String message) {\n        System.out.println(\"Received &lt;\" + message + \"&gt;\");\n        doPerformMessage(message);\n    }\n\n    public void doPerformMessage(String message){\n       // parsing happens here\n    } \n\n    @Bean\n    ConnectionFactory connectionFactory() {\n        return new RMQConnectionFactory();\n    }\n\n    @Scheduled(fixedRate = 100000000L)\n    public void sendMessage() {\n\n        String message= \"Hi World\";\n\n        // Coerce a javax.jms.MessageCreator\n        MessageCreator messageCreator = (Session session) -&gt; {\n            return session.createTextMessage(message);\n        };\n\n        // And publish to RabbitMQ using Spring's JmsTemplate\n        jmsTemplate.send(\"incoming-messages-queue\", messageCreator);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jms","spring-jms"],"comments":[{"owner":{"account_id":473351,"reputation":5860,"user_id":882403,"display_name":"dimoniy"},"score":0,"creation_date":1385153960,"post_id":20154237,"comment_id":30041155,"body_markdown":"I&#39;d check that the temp queue really gets created. Go to [ActiveMQ web console](http://activemq.apache.org/web-console.html) and see what&#39;s going on.","body":"I&#39;d check that the temp queue really gets created. Go to <a href=\"http://activemq.apache.org/web-console.html\" rel=\"nofollow noreferrer\">ActiveMQ web console</a> and see what&#39;s going on."},{"owner":{"account_id":1813967,"reputation":11831,"user_id":1649466,"accept_rate":64,"display_name":"tonga"},"score":0,"creation_date":1385154145,"post_id":20154237,"comment_id":30041252,"body_markdown":"I went to the ActiveMQ web admin web console and checked it. I didn&#39;t find any items under the `Queue` column. Should `TemporaryQueue` belong to `Queue` in ActiveMQ?","body":"I went to the ActiveMQ web admin web console and checked it. I didn&#39;t find any items under the <code>Queue</code> column. Should <code>TemporaryQueue</code> belong to <code>Queue</code> in ActiveMQ?"},{"owner":{"account_id":473351,"reputation":5860,"user_id":882403,"display_name":"dimoniy"},"score":0,"creation_date":1385155847,"post_id":20154237,"comment_id":30042018,"body_markdown":"I&#39;m not sure about queues created with createTemproraryQueue(), but named temp queues which just start with &quot;dynamicQueues&quot; definitely show up. Check out &quot;Dynamically creating destinations&quot; section of [this document](http://activemq.apache.org/jndi-support.html) - maybe it will work for your project","body":"I&#39;m not sure about queues created with createTemproraryQueue(), but named temp queues which just start with &quot;dynamicQueues&quot; definitely show up. Check out &quot;Dynamically creating destinations&quot; section of <a href=\"http://activemq.apache.org/jndi-support.html\" rel=\"nofollow noreferrer\">this document</a> - maybe it will work for your project"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385156654,"creation_date":1385156301,"answer_id":20154949,"question_id":20154237,"body_markdown":"If you are using spring-jms, why not just use a [MessageListenerAdapter][1] as your listener? - he will take care of the replyTo stuff and your listener can be a simple POJO.\r\n\r\nIn any case, you don&#39;t need to cast it to a Tempoarary queue; it&#39;s just a destination as far as the listener is concerned.\r\n\r\nCheckout the [MessageListenerAdapter` javadocs][2].\r\n\r\nAlso, you need to create a consumer on the temp queue on the sending side, to receive the reply. If the sending connection is closed, the temp queue will go away.\r\n\r\n[1]:http://docs.spring.io/spring-framework/docs/current/spring-framework-reference/html/jms.html#jms-receiving-async-message-listener-adapter\r\n\r\n[2]:http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/adapter/MessageListenerAdapter.html","title":"Get receipt confirmation from the listener in JMS","body":"<p>If you are using spring-jms, why not just use a <a href=\"http://docs.spring.io/spring-framework/docs/current/spring-framework-reference/html/jms.html#jms-receiving-async-message-listener-adapter\" rel=\"nofollow\">MessageListenerAdapter</a> as your listener? - he will take care of the replyTo stuff and your listener can be a simple POJO.</p>\n\n<p>In any case, you don't need to cast it to a Tempoarary queue; it's just a destination as far as the listener is concerned.</p>\n\n<p>Checkout the <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/adapter/MessageListenerAdapter.html\" rel=\"nofollow\">MessageListenerAdapter` javadocs</a>.</p>\n\n<p>Also, you need to create a consumer on the temp queue on the sending side, to receive the reply. If the sending connection is closed, the temp queue will go away.</p>\n"},{"tags":[],"owner":{"account_id":1813967,"reputation":11831,"user_id":1649466,"accept_rate":64,"display_name":"tonga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385312310,"creation_date":1385312310,"answer_id":20177223,"question_id":20154237,"body_markdown":"I ended up using a separate JMS Queue to send the acknowledge message from the listener-1 to the sender. For some reason, the temporaryQueue created by ActiveMQ is not available during the JMS session. ","title":"Get receipt confirmation from the listener in JMS","body":"<p>I ended up using a separate JMS Queue to send the acknowledge message from the listener-1 to the sender. For some reason, the temporaryQueue created by ActiveMQ is not available during the JMS session. </p>\n"}],"owner":{"account_id":1813967,"reputation":11831,"user_id":1649466,"accept_rate":64,"display_name":"tonga"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1787,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696811297,"creation_date":1385153437,"question_id":20154237,"body_markdown":"I&#39;m using Spring JMS and ActiveMQ to send message from a sender to multiple listeners using JMS topic (publish/subscribe). So far all listeners can receive message from the sender. But I want to add a functionality that when a particular listener, say listener1, gets the message, listener1 will send a receipt confirmation to the sender. I followed the comment in  [my old post][1] and created a `TemporaryQueue` in the sender and used ReplyTo in the sender and receiver to get the confirmation message from the listener to the sender. \r\n\r\nMy sender class is:\r\n\r\n    public class CustomerStatusSender {\r\n    \tprivate JmsTemplate jmsTemplate;\r\n    \tprivate Topic topic;\r\n    \r\n    \tpublic void setJmsTemplate(JmsTemplate jmsTemplate) {\r\n    \t\tthis.jmsTemplate = jmsTemplate;\r\n    \t}\r\n    \t\r\n    \tpublic void setTopic(Topic topic) {\r\n    \t\tthis.topic = topic;\r\n    \t}\r\n    \t\r\n    \tpublic void simpleSend(final String customerStatusMessage) {\r\n    \t\tjmsTemplate.send(topic, new MessageCreator() {\r\n    \t\t\tpublic Message createMessage(Session session) throws JMSException {\r\n    \t\t\t\tTextMessage message = session.createTextMessage(&quot;hello world&quot;);\r\n    \t\t\t\tmessage.setStringProperty(&quot;content&quot;, customerStatusMessage);\r\n    \t\t\t\tmessage.setIntProperty(&quot;count&quot;, 10);\r\n    \t\t\t\t//send acknowledge request to a listener via a tempQueue\r\n    \t\t\t\tDestination tempQueue = session.createTemporaryQueue();\r\n    \t\t\t\tmessage.setJMSCorrelationID(&quot;replyMessage&quot;);\r\n    \t\t\t\tmessage.setJMSReplyTo(tempQueue);\r\n    \t\t\t\treturn message;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\nThe sender creates a `TemporaryQueue` for the listener to send back the confirmation message. Then in one of the listeners, I have the following code to send the confirmation message back to the sender:\r\n\r\n    public class CustomerStatusListener implements SessionAwareMessageListener&lt;Message&gt; {\r\n    \tpublic void onMessage(Message message, Session session) {\r\n    \t\tif (message instanceof TextMessage) {\r\n    \t\t\ttry {\r\n    \t\t\t\tSystem.out.println(&quot;Subscriber 1 got you! The message is: &quot;\r\n    \t\t\t\t\t\t+ message.getStringProperty(&quot;content&quot;));\r\n    \t\t\t\t//create a receipt confirmation message and send it back to the sender\r\n    \t\t\t\tMessage response = session.createMessage();\r\n    \t\t\t\tresponse.setJMSCorrelationID(message.getJMSCorrelationID());\r\n    \t\t\t\tresponse.setBooleanProperty(&quot;Ack&quot;, true);\r\n    \t\t\t\tTemporaryQueue tempQueue = (TemporaryQueue) message.getJMSReplyTo();\r\n    \t\t\t\tMessageProducer producer = session.createProducer(tempQueue);\r\n    \t\t\t\tproducer.send(tempQueue, response);\r\n    \t\t\t} catch (JMSException ex) {\r\n    \t\t\t\tthrow new RuntimeException(ex);\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tthrow new IllegalArgumentException(\r\n    \t\t\t\t\t&quot;Message must be of type TextMessage&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nHowever, I found that the following line in the Listener class throws an error:\r\n\r\n    TemporaryQueue tempQueue = (TemporaryQueue) message.getJMSReplyTo();\r\n    MessageProducer producer = session.createProducer(tempQueue);\r\n\r\nThe exception error says: \r\n\r\n    The destination temp-queue://ID:xyz-1385491-1:2:1 does not exist. \r\n\r\nSo what&#39;s wrong here? I assume that `tempQueue` created by the sender is available for the listener in the same JMS session. Why the `tempQueue` object after calling `message.getJMSReplyTo()` does not return a valid `TemporaryQueue`? \r\n\r\nThe other question is: How do I receive the confirmation message in the sender? Should I implements `MessageListener` interface in the sender in order to receive the confirmation from the listener? Or should I just call `receive()` method to receive it synchronously?\r\n\r\nThanks for any suggestions!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20059056/how-to-know-if-a-listener-gets-the-message-in-jms","title":"Get receipt confirmation from the listener in JMS","body":"<p>I'm using Spring JMS and ActiveMQ to send message from a sender to multiple listeners using JMS topic (publish/subscribe). So far all listeners can receive message from the sender. But I want to add a functionality that when a particular listener, say listener1, gets the message, listener1 will send a receipt confirmation to the sender. I followed the comment in  <a href=\"https://stackoverflow.com/questions/20059056/how-to-know-if-a-listener-gets-the-message-in-jms\">my old post</a> and created a <code>TemporaryQueue</code> in the sender and used ReplyTo in the sender and receiver to get the confirmation message from the listener to the sender.</p>\n<p>My sender class is:</p>\n<pre><code>public class CustomerStatusSender {\n    private JmsTemplate jmsTemplate;\n    private Topic topic;\n\n    public void setJmsTemplate(JmsTemplate jmsTemplate) {\n        this.jmsTemplate = jmsTemplate;\n    }\n    \n    public void setTopic(Topic topic) {\n        this.topic = topic;\n    }\n    \n    public void simpleSend(final String customerStatusMessage) {\n        jmsTemplate.send(topic, new MessageCreator() {\n            public Message createMessage(Session session) throws JMSException {\n                TextMessage message = session.createTextMessage(&quot;hello world&quot;);\n                message.setStringProperty(&quot;content&quot;, customerStatusMessage);\n                message.setIntProperty(&quot;count&quot;, 10);\n                //send acknowledge request to a listener via a tempQueue\n                Destination tempQueue = session.createTemporaryQueue();\n                message.setJMSCorrelationID(&quot;replyMessage&quot;);\n                message.setJMSReplyTo(tempQueue);\n                return message;\n            }\n        });\n    }\n}\n</code></pre>\n<p>The sender creates a <code>TemporaryQueue</code> for the listener to send back the confirmation message. Then in one of the listeners, I have the following code to send the confirmation message back to the sender:</p>\n<pre><code>public class CustomerStatusListener implements SessionAwareMessageListener&lt;Message&gt; {\n    public void onMessage(Message message, Session session) {\n        if (message instanceof TextMessage) {\n            try {\n                System.out.println(&quot;Subscriber 1 got you! The message is: &quot;\n                        + message.getStringProperty(&quot;content&quot;));\n                //create a receipt confirmation message and send it back to the sender\n                Message response = session.createMessage();\n                response.setJMSCorrelationID(message.getJMSCorrelationID());\n                response.setBooleanProperty(&quot;Ack&quot;, true);\n                TemporaryQueue tempQueue = (TemporaryQueue) message.getJMSReplyTo();\n                MessageProducer producer = session.createProducer(tempQueue);\n                producer.send(tempQueue, response);\n            } catch (JMSException ex) {\n                throw new RuntimeException(ex);\n            }\n        } else {\n            throw new IllegalArgumentException(\n                    &quot;Message must be of type TextMessage&quot;);\n        }\n    }\n}\n</code></pre>\n<p>However, I found that the following line in the Listener class throws an error:</p>\n<pre><code>TemporaryQueue tempQueue = (TemporaryQueue) message.getJMSReplyTo();\nMessageProducer producer = session.createProducer(tempQueue);\n</code></pre>\n<p>The exception error says:</p>\n<pre><code>The destination temp-queue://ID:xyz-1385491-1:2:1 does not exist. \n</code></pre>\n<p>So what's wrong here? I assume that <code>tempQueue</code> created by the sender is available for the listener in the same JMS session. Why the <code>tempQueue</code> object after calling <code>message.getJMSReplyTo()</code> does not return a valid <code>TemporaryQueue</code>?</p>\n<p>The other question is: How do I receive the confirmation message in the sender? Should I implements <code>MessageListener</code> interface in the sender in order to receive the confirmation from the listener? Or should I just call <code>receive()</code> method to receive it synchronously?</p>\n<p>Thanks for any suggestions!</p>\n"},{"tags":["java","spring-boot","spring-jms"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1596752936,"post_id":63290283,"comment_id":111920189,"body_markdown":"So is the code you pasted the code you&#39;re using to generate the warning about exceeding the number of allowed connections or the code you modified in order to avoid the warning?","body":"So is the code you pasted the code you&#39;re using to generate the warning about exceeding the number of allowed connections or the code you modified in order to avoid the warning?"},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1596814266,"post_id":63290283,"comment_id":111940892,"body_markdown":"@JustinBertram I only added finally block and didn&#39;t test it. If we exclude finally block, it&#39;s going to generate that warning message or who knows with finally block also it&#39;s going to behave in same manner.","body":"@JustinBertram I only added finally block and didn&#39;t test it. If we exclude finally block, it&#39;s going to generate that warning message or who knows with finally block also it&#39;s going to behave in same manner."}],"answers":[{"comments":[{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1596743322,"post_id":63290424,"comment_id":111917024,"body_markdown":"Could you please elaborate on `get a session from it and close the session. Based on usage you can even keep session for longer.` , maybe by modifying my code? That will help me understand your solution better. Thanks!","body":"Could you please elaborate on <code>get a session from it and close the session. Based on usage you can even keep session for longer.</code> , maybe by modifying my code? That will help me understand your solution better. Thanks!"}],"tags":[],"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596741664,"creation_date":1596741664,"answer_id":63290424,"question_id":63290283,"body_markdown":"The issue is the below code, which will open new connection each message - you should make this ideally invoke this once (and again if connection expires). \r\n\r\n    // Getting JMS connection from the server and starting it\r\n    ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(url);\r\n    connection = connectionFactory.createConnection();\r\n    connection.start();\r\n\r\n get a session from it and close the session. Based on usage you can even keep session for longer.\r\n","title":"Trying to release conncection to avoid maximum client connection error","body":"<p>The issue is the below code, which will open new connection each message - you should make this ideally invoke this once (and again if connection expires).</p>\n<pre><code>// Getting JMS connection from the server and starting it\nConnectionFactory connectionFactory = new ActiveMQConnectionFactory(url);\nconnection = connectionFactory.createConnection();\nconnection.start();\n</code></pre>\n<p>get a session from it and close the session. Based on usage you can even keep session for longer.</p>\n"},{"comments":[{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1596817034,"post_id":63305361,"comment_id":111942155,"body_markdown":"Thanks very much Justin for great explanation. Quick questions :1)  Did you deliberately not included the `finally` block in the code after this line `catch (Throwable th) {\n th.printStackTrace();}`. 2) Do you think PooledConnection Factory would be a good idea to use since each time (in my original code) the code comes inside `else` block, I was creating a new connection? i guess your approach solved this problem?","body":"Thanks very much Justin for great explanation. Quick questions :1)  Did you deliberately not included the <code>finally</code> block in the code after this line <code>catch (Throwable th) {  th.printStackTrace();}</code>. 2) Do you think PooledConnection Factory would be a good idea to use since each time (in my original code) the code comes inside <code>else</code> block, I was creating a new connection? i guess your approach solved this problem?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1596817358,"post_id":63305361,"comment_id":111942303,"body_markdown":"Regarding the `finally` block, I updated my answer to clarify. Regarding the pooled connection factory, that would work as well but is probably overkill for your use-case. Read the code and you&#39;ll see that it no longer creates a connection every time you enter the `else`.","body":"Regarding the <code>finally</code> block, I updated my answer to clarify. Regarding the pooled connection factory, that would work as well but is probably overkill for your use-case. Read the code and you&#39;ll see that it no longer creates a connection every time you enter the <code>else</code>."},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1597106832,"post_id":63305361,"comment_id":112019889,"body_markdown":"Thanks. I tested it and it works fine with single connection without any issues. Quick question: Do you think holding resources for indefinite periods of time is a good idea?","body":"Thanks. I tested it and it works fine with single connection without any issues. Quick question: Do you think holding resources for indefinite periods of time is a good idea?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1597154418,"post_id":63305361,"comment_id":112037201,"body_markdown":"It&#39;s common for a JMS client to hold a connection open for the duration of its life. Holding a connection open is a much better idea than re-creating one often.","body":"It&#39;s common for a JMS client to hold a connection open for the duration of its life. Holding a connection open is a much better idea than re-creating one often."},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1597168053,"post_id":63305361,"comment_id":112043943,"body_markdown":"@Justing Betram Thanks. One more question: Let&#39;s say if more than one thread at a time accesses this code, ie. if multiple users try to access this code at the same time, then there shouldn&#39;t be any issue?","body":"@Justing Betram Thanks. One more question: Let&#39;s say if more than one thread at a time accesses this code, ie. if multiple users try to access this code at the same time, then there shouldn&#39;t be any issue?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1597169241,"post_id":63305361,"comment_id":112044438,"body_markdown":"There are some potential issues for concurrent access. I updated the code to provide concurrency protections. Hope that helps.","body":"There are some potential issues for concurrent access. I updated the code to provide concurrency protections. Hope that helps."},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1605909302,"post_id":63305361,"comment_id":114807451,"body_markdown":"Hi @Justin Bertram - Recently I noticed my database team complaining about some inactive open connections . I have described it here (https://stackoverflow.com/questions/64936273/java-process-connection-issues). Could you take a look and see if closing a connection is needed at this point of time?","body":"Hi @Justin Bertram - Recently I noticed my database team complaining about some inactive open connections . I have described it here (<a href=\"https://stackoverflow.com/questions/64936273/java-process-connection-issues\" title=\"java process connection issues\">stackoverflow.com/questions/64936273/&hellip;</a>). Could you take a look and see if closing a connection is needed at this point of time?"}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1597169216,"creation_date":1596816016,"answer_id":63305361,"question_id":63290283,"body_markdown":"The reason you&#39;re getting &quot;Exceeded the maximum number of allowed client connections&quot; is because you&#39;re creating connections and not closing them. In other words, your application is &quot;leaking&quot; connections. In order to fix the leak you need to close the connection. Closing a JMS connection in a `finally` block is the generally accepted practice so your code looks good there. However, you need to check for `null` in case there is a problem before the `connection` is actually created, e.g.:\r\n\r\n```java\r\nfinally {\r\n    if (connection != null) {\r\n        connection.close();\r\n    }                \r\n}\r\n```\r\n\r\nThat said, it&#39;s worth noting that creating &amp; closing a JMS connection &amp; session &amp; producer to send a *single* message is a well-known anti-pattern. It would be better if you cached the connection (e.g. in a `static` variable) and re-used it. For example:\r\n\r\n```java\r\n@Component\r\npublic class DownloadConsumer {\r\n\r\n   @Autowired\r\n   private JavaMailSender javaMailSender;\r\n\r\n   // one instance, reuse\r\n   private final CloseableHttpClient httpClient = HttpClients.createDefault();\r\n\r\n   private static Connection connection;\r\n\r\n   private static Object connectionLock = new Object();\r\n\r\n   // URL of the JMS server. DEFAULT_BROKER_URL will just mean that JMS server is on localhost\r\n   private static String url = ActiveMQConnection.DEFAULT_BROKER_URL;\r\n   private static String subject = &quot;MessageProducerJMSV1&quot;; //Queue Name\r\n   // default broker URL is : tcp://localhost:61616&quot;\r\n\r\n   private static ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;ApplicationContext.xml&quot;);\r\n   private static final Logger logger = LoggerFactory.getLogger(DownloadConsumer.class);\r\n\r\n   // Working Code with JMS 2.0\r\n   @JmsListener(destination = &quot;MessageProducerJMSV1&quot;)\r\n   public void processBrokerQueues(String message) throws DaoException, JMSException {\r\n\r\n      try {\r\n\r\n         RequestDao requestDao = (RequestDao) context.getBean(&quot;requestDao&quot;);\r\n\r\n         String receivedStatus = requestDao.getRequestStatus(message);\r\n\r\n         //Retrieve Username from the message to include in an email\r\n         String[] parts = message.split(&quot;#&quot;);\r\n         String userName = parts[1].trim();\r\n\r\n         //Retrieve personnelID from the message to include in the webservice calls\r\n\r\n         String personnelID = parts[3].trim();\r\n\r\n         //Before sending this message, do the check for COMPLETE or ERROR etc\r\n         if (receivedStatus.equals(&quot;COMPLETE&quot;)) {\r\n\r\n            String latestUUID = requestDao.getUUID();\r\n\r\n            logger.info(&quot;Received UUID in Controller is as follows! &quot;);\r\n            logger.info(latestUUID);\r\n\r\n            requestDao.sendMessage(message, latestUUID);\r\n            logger.info(&quot;Received status is COMPLETE! &quot;);\r\n            logger.info(&quot;Sending email to the user! &quot;);\r\n            String emailMessage = &quot;Dear &quot; + userName + &quot;,&lt;p&gt;Your files are ready. &lt;/p&gt;&lt;p&gt; Thanks,&lt;br/&gt; Jack/p&gt;&quot;;\r\n            String recipientEmail = userName + &quot;@organization.com&quot;;\r\n\r\n            /*****************************************************\\\r\n             // START: EMAIL Related Code\r\n             *******************************************************/\r\n\r\n            MimeMessage msg = javaMailSender.createMimeMessage();\r\n            MimeMessageHelper helper = new MimeMessageHelper(msg, true);\r\n            helper.setFrom(&quot;ABCResearch@organization.com&quot;);\r\n            helper.setTo(recipientEmail);\r\n            helper.setSubject(&quot;Requested Files !&quot;);\r\n            helper.setText(emailMessage, true);\r\n\r\n            javaMailSender.send(msg);\r\n\r\n         } else {\r\n            try {\r\n               createConnection();\r\n\r\n               Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n\r\n               // Destination represents here our queue &#39;MessageProducerJMSV1&#39; on the  JMS server\r\n               Destination destination = session.createQueue(subject);\r\n\r\n               MessageProducer producer = session.createProducer(destination);\r\n\r\n               //Sending message to the queue\r\n               TextMessage toSendMessage = session.createTextMessage(message);\r\n\r\n               long delay = 300 * 1000;\r\n               long period = 300 * 1000;\r\n\r\n               toSendMessage.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, delay);\r\n\r\n               producer.send(toSendMessage);\r\n            } catch (Throwable th) {\r\n               th.printStackTrace();\r\n               \r\n               synchronized (connectionLock) {\r\n                  // if there are any problems close the connection and it will be re-created next time\r\n                  if (connection != null) {\r\n                     connection.close();\r\n                     connection = null;\r\n                  }\r\n               }\r\n            }\r\n         }\r\n      } catch (Throwable th) {\r\n         th.printStackTrace();\r\n      }\r\n   }\r\n   \r\n   private void createConnection() {\r\n      synchronized (connectionLock) {\r\n         if (connection == null) {\r\n            // Getting JMS connection from the server\r\n            ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(url);\r\n            connection = connectionFactory.createConnection();\r\n         }\r\n      }\r\n   }\r\n}\r\n```\r\nYou&#39;ll note that in this code there is no `finally` block to close the connection. That&#39;s intentional because the whole point of this code is *keep the connection open* so that it&#39;s not opening &amp; closing the connection to send a single message. The connection is being re-used between invocations. The only time the connection is closed is when a `Throwable` is caught.\r\n\r\nAlso, keep in mind that there&#39;s no reason to call `start()` on the JMS connection if it&#39;s just *sending* a message. The `start()` method only impacts *consumers*.","title":"Trying to release conncection to avoid maximum client connection error","body":"<p>The reason you're getting &quot;Exceeded the maximum number of allowed client connections&quot; is because you're creating connections and not closing them. In other words, your application is &quot;leaking&quot; connections. In order to fix the leak you need to close the connection. Closing a JMS connection in a <code>finally</code> block is the generally accepted practice so your code looks good there. However, you need to check for <code>null</code> in case there is a problem before the <code>connection</code> is actually created, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>finally {\n    if (connection != null) {\n        connection.close();\n    }                \n}\n</code></pre>\n<p>That said, it's worth noting that creating &amp; closing a JMS connection &amp; session &amp; producer to send a <em>single</em> message is a well-known anti-pattern. It would be better if you cached the connection (e.g. in a <code>static</code> variable) and re-used it. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class DownloadConsumer {\n\n   @Autowired\n   private JavaMailSender javaMailSender;\n\n   // one instance, reuse\n   private final CloseableHttpClient httpClient = HttpClients.createDefault();\n\n   private static Connection connection;\n\n   private static Object connectionLock = new Object();\n\n   // URL of the JMS server. DEFAULT_BROKER_URL will just mean that JMS server is on localhost\n   private static String url = ActiveMQConnection.DEFAULT_BROKER_URL;\n   private static String subject = &quot;MessageProducerJMSV1&quot;; //Queue Name\n   // default broker URL is : tcp://localhost:61616&quot;\n\n   private static ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;ApplicationContext.xml&quot;);\n   private static final Logger logger = LoggerFactory.getLogger(DownloadConsumer.class);\n\n   // Working Code with JMS 2.0\n   @JmsListener(destination = &quot;MessageProducerJMSV1&quot;)\n   public void processBrokerQueues(String message) throws DaoException, JMSException {\n\n      try {\n\n         RequestDao requestDao = (RequestDao) context.getBean(&quot;requestDao&quot;);\n\n         String receivedStatus = requestDao.getRequestStatus(message);\n\n         //Retrieve Username from the message to include in an email\n         String[] parts = message.split(&quot;#&quot;);\n         String userName = parts[1].trim();\n\n         //Retrieve personnelID from the message to include in the webservice calls\n\n         String personnelID = parts[3].trim();\n\n         //Before sending this message, do the check for COMPLETE or ERROR etc\n         if (receivedStatus.equals(&quot;COMPLETE&quot;)) {\n\n            String latestUUID = requestDao.getUUID();\n\n            logger.info(&quot;Received UUID in Controller is as follows! &quot;);\n            logger.info(latestUUID);\n\n            requestDao.sendMessage(message, latestUUID);\n            logger.info(&quot;Received status is COMPLETE! &quot;);\n            logger.info(&quot;Sending email to the user! &quot;);\n            String emailMessage = &quot;Dear &quot; + userName + &quot;,&lt;p&gt;Your files are ready. &lt;/p&gt;&lt;p&gt; Thanks,&lt;br/&gt; Jack/p&gt;&quot;;\n            String recipientEmail = userName + &quot;@organization.com&quot;;\n\n            /*****************************************************\\\n             // START: EMAIL Related Code\n             *******************************************************/\n\n            MimeMessage msg = javaMailSender.createMimeMessage();\n            MimeMessageHelper helper = new MimeMessageHelper(msg, true);\n            helper.setFrom(&quot;ABCResearch@organization.com&quot;);\n            helper.setTo(recipientEmail);\n            helper.setSubject(&quot;Requested Files !&quot;);\n            helper.setText(emailMessage, true);\n\n            javaMailSender.send(msg);\n\n         } else {\n            try {\n               createConnection();\n\n               Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n\n               // Destination represents here our queue 'MessageProducerJMSV1' on the  JMS server\n               Destination destination = session.createQueue(subject);\n\n               MessageProducer producer = session.createProducer(destination);\n\n               //Sending message to the queue\n               TextMessage toSendMessage = session.createTextMessage(message);\n\n               long delay = 300 * 1000;\n               long period = 300 * 1000;\n\n               toSendMessage.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, delay);\n\n               producer.send(toSendMessage);\n            } catch (Throwable th) {\n               th.printStackTrace();\n               \n               synchronized (connectionLock) {\n                  // if there are any problems close the connection and it will be re-created next time\n                  if (connection != null) {\n                     connection.close();\n                     connection = null;\n                  }\n               }\n            }\n         }\n      } catch (Throwable th) {\n         th.printStackTrace();\n      }\n   }\n   \n   private void createConnection() {\n      synchronized (connectionLock) {\n         if (connection == null) {\n            // Getting JMS connection from the server\n            ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(url);\n            connection = connectionFactory.createConnection();\n         }\n      }\n   }\n}\n</code></pre>\n<p>You'll note that in this code there is no <code>finally</code> block to close the connection. That's intentional because the whole point of this code is <em>keep the connection open</em> so that it's not opening &amp; closing the connection to send a single message. The connection is being re-used between invocations. The only time the connection is closed is when a <code>Throwable</code> is caught.</p>\n<p>Also, keep in mind that there's no reason to call <code>start()</code> on the JMS connection if it's just <em>sending</em> a message. The <code>start()</code> method only impacts <em>consumers</em>.</p>\n"}],"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63305361,"answer_count":2,"score":0,"last_activity_date":1696810585,"creation_date":1596741038,"question_id":63290283,"body_markdown":"I am trying to figure out a solution for the following error message without increasing the default connection size from 1000 to 2000 or more.\r\n\r\n Recently I came across the following error when around 1000 messages were sent to the broker with a delay of 5 minutes as shown in the code below.\r\n\r\n    WARN  | Could not accept connection  : Exceeded the maximum number of allowed client connections. See the &#39;maximumConnections&#39; property on the TCP transport configuration URI in the ActiveMQ configuration file (e.g., activemq.xml) | org.apache.activemq.broker.TransportConnector | ActiveMQ Transport Server Thread Handler: tcp://0.0.0.0:61616?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600\r\n\r\n\r\n\r\n\r\n\r\nThe following is the code which is listening to ActiveMQ continously and as soon as it sees `COMPLETE`, it sends out an email to the user after generating a file.Otherwise, it goes inside `else`\r\nblock and sends out the message to the broker again. \r\n\r\nInside the else block, I want to test by closing the connection after I am done sending the message. So I have closed the connection inside a finally block as shown below. Is this a correct way to go about it?\r\n\r\n    @Component\r\n    public class DownloadConsumer {\r\n    \t\r\n    \t@Autowired\r\n        private JavaMailSender javaMailSender;\r\n    \t\r\n    \t// one instance, reuse\r\n        private final CloseableHttpClient httpClient = HttpClients.createDefault();\r\n        \r\n    \tConnection connection;\r\n    \t        \r\n    \t\r\n    \t// Working Code with JMS 2.0\r\n    \t@JmsListener(destination = &quot;MessageProducerJMSV1&quot;)\r\n    \t\tpublic void processBrokerQueues(String message) throws DaoException, JMSException {\r\n    \t\t\t\r\n    \t\t\r\n    \t\t try {\r\n    \t\t\t\r\n    \t\t\tRequestDao requestDao = (RequestDao) context.getBean(&quot;requestDao&quot;);\r\n    \t\t\t\r\n    \t\t\tString receivedStatus = requestDao.getRequestStatus(message);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t     \r\n    \t\t\t//Retrieve Username from the message to include in an email\r\n    \t\t\t String[] parts = message.split(&quot;#&quot;);\r\n    \t\t\t String userName = parts[1].trim();\r\n    \t\t\t \r\n    \t\t\t//Retrieve personnelID from the message to include in the webservice calls\r\n    \t\t\t\r\n    \t\t\t String personnelID = parts[3].trim();\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t//Before sending this message, do the check for COMPLETE or ERROR etc\r\n    \t\t\tif(receivedStatus.equals(&quot;COMPLETE&quot;)) {\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\tString latestUUID = requestDao.getUUID();\r\n    \t\t\t\t\r\n    \t\t\t\tlogger.info(&quot;Received UUID in Controller is as follows! &quot;);\r\n    \t\t\t\tlogger.info(latestUUID);\r\n    \t\t\t\t\r\n    \t\t\t\trequestDao.sendMessage(message,latestUUID);\r\n    \t\t\t\tlogger.info(&quot;Received status is COMPLETE! &quot;);\r\n    \t\t\t\tlogger.info(&quot;Sending email to the user! &quot;);\r\n    \t\t\t\tString emailMessage = &quot;Dear &quot;+userName+&quot;,&lt;p&gt;Your files are ready. &lt;/p&gt;&lt;p&gt; Thanks,&lt;br/&gt; Jack/p&gt;&quot;;\r\n    \t\t\t\tString recipientEmail = userName+&quot;@organization.com&quot;;\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t/*****************************************************\\\r\n    \t\t\t\t// START: EMAIL Related Code\r\n    \t\t\t\t\r\n    \t\t\t\t *******************************************************/\r\n    \t\t\t\t\r\n    \t\t\t\tMimeMessage msg = javaMailSender.createMimeMessage();\r\n    \t\t\t\t MimeMessageHelper helper = new MimeMessageHelper(msg, true);\r\n    \t\t\t\t helper.setFrom(&quot;ABCResearch@organization.com&quot;);\r\n    \t\t\t\t helper.setTo(recipientEmail);\r\n    \t\t\t\t helper.setSubject(&quot;Requested Files !&quot;);\r\n    \t\t\t\t helper.setText(emailMessage,true);\r\n    \t\t\t\t \r\n    \t\t\t\t javaMailSender.send(msg);\r\n    \t\t\t\t \r\n    \t\t\t\t\r\n    \t\t\t        \r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t// Getting JMS connection from the server and starting it\r\n    \t\t\t\tConnectionFactory connectionFactory = new ActiveMQConnectionFactory(url);\r\n    \t\t\t\tconnection = connectionFactory.createConnection();\r\n    \t\t\t\tconnection.start();\r\n    \t\t\t\t\r\n    \t\t\t\tSession session = connection.createSession(false,\r\n    \t\t\t\t\t\tSession.AUTO_ACKNOWLEDGE);\r\n    \t\t\t\t\r\n    \t\t\t\t// Destination represents here our queue &#39;MessageProducerJMSV1&#39; on the  JMS server\r\n    \t\t\t\tDestination destination = session.createQueue(subject);\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\tMessageProducer producer = session.createProducer(destination);\r\n    \t\t\t\t\r\n    \t\t\t\t//Sending message to the queue\r\n    \t\t\t\tTextMessage toSendMessage = session.createTextMessage(message);\r\n    \t\t\t\t\r\n    \t\t\t\tlong delay = 300 * 1000;\r\n    \t\t\t\tlong period =300 * 1000;\r\n    \t\t\t\t\r\n    \t\t\t\ttoSendMessage.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, delay);\r\n    \t\t\t\t\r\n    \t\t\t\tproducer.send(toSendMessage);\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t}\r\n    \t\t\tcatch(Throwable th){\r\n    \t\t\t\tth.printStackTrace();\t\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\tfinally {\r\n    \t\t\t\r\n    \t\t\t\tconnection.close();\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t     }\r\n       // URL of the JMS server. DEFAULT_BROKER_URL will just mean that JMS server is on localhost\r\n    \tprivate static String url = ActiveMQConnection.DEFAULT_BROKER_URL;\r\n    \tprivate static String subject = &quot;MessageProducerJMSV1&quot;; //Queue Name\r\n    \t// default broker URL is : tcp://localhost:61616&quot;\r\n    \t\r\n    \tprivate static ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;ApplicationContext.xml&quot;);\r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(DownloadConsumer.class);\r\n    \t\r\n    \t\r\n    \r\n    }","title":"Trying to release conncection to avoid maximum client connection error","body":"<p>I am trying to figure out a solution for the following error message without increasing the default connection size from 1000 to 2000 or more.</p>\n<p>Recently I came across the following error when around 1000 messages were sent to the broker with a delay of 5 minutes as shown in the code below.</p>\n<pre><code>WARN  | Could not accept connection  : Exceeded the maximum number of allowed client connections. See the 'maximumConnections' property on the TCP transport configuration URI in the ActiveMQ configuration file (e.g., activemq.xml) | org.apache.activemq.broker.TransportConnector | ActiveMQ Transport Server Thread Handler: tcp://0.0.0.0:61616?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600\n</code></pre>\n<p>The following is the code which is listening to ActiveMQ continously and as soon as it sees <code>COMPLETE</code>, it sends out an email to the user after generating a file.Otherwise, it goes inside <code>else</code>\nblock and sends out the message to the broker again.</p>\n<p>Inside the else block, I want to test by closing the connection after I am done sending the message. So I have closed the connection inside a finally block as shown below. Is this a correct way to go about it?</p>\n<pre><code>@Component\npublic class DownloadConsumer {\n    \n    @Autowired\n    private JavaMailSender javaMailSender;\n    \n    // one instance, reuse\n    private final CloseableHttpClient httpClient = HttpClients.createDefault();\n    \n    Connection connection;\n            \n    \n    // Working Code with JMS 2.0\n    @JmsListener(destination = &quot;MessageProducerJMSV1&quot;)\n        public void processBrokerQueues(String message) throws DaoException, JMSException {\n            \n        \n         try {\n            \n            RequestDao requestDao = (RequestDao) context.getBean(&quot;requestDao&quot;);\n            \n            String receivedStatus = requestDao.getRequestStatus(message);\n            \n            \n             \n            //Retrieve Username from the message to include in an email\n             String[] parts = message.split(&quot;#&quot;);\n             String userName = parts[1].trim();\n             \n            //Retrieve personnelID from the message to include in the webservice calls\n            \n             String personnelID = parts[3].trim();\n            \n            \n            \n            \n            //Before sending this message, do the check for COMPLETE or ERROR etc\n            if(receivedStatus.equals(&quot;COMPLETE&quot;)) {\n                \n                \n                \n                String latestUUID = requestDao.getUUID();\n                \n                logger.info(&quot;Received UUID in Controller is as follows! &quot;);\n                logger.info(latestUUID);\n                \n                requestDao.sendMessage(message,latestUUID);\n                logger.info(&quot;Received status is COMPLETE! &quot;);\n                logger.info(&quot;Sending email to the user! &quot;);\n                String emailMessage = &quot;Dear &quot;+userName+&quot;,&lt;p&gt;Your files are ready. &lt;/p&gt;&lt;p&gt; Thanks,&lt;br/&gt; Jack/p&gt;&quot;;\n                String recipientEmail = userName+&quot;@organization.com&quot;;\n                \n                \n                \n                \n                /*****************************************************\\\n                // START: EMAIL Related Code\n                \n                 *******************************************************/\n                \n                MimeMessage msg = javaMailSender.createMimeMessage();\n                 MimeMessageHelper helper = new MimeMessageHelper(msg, true);\n                 helper.setFrom(&quot;ABCResearch@organization.com&quot;);\n                 helper.setTo(recipientEmail);\n                 helper.setSubject(&quot;Requested Files !&quot;);\n                 helper.setText(emailMessage,true);\n                 \n                 javaMailSender.send(msg);\n                 \n                \n                    \n                                \n            }\n            else {\n                \n                \n                // Getting JMS connection from the server and starting it\n                ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(url);\n                connection = connectionFactory.createConnection();\n                connection.start();\n                \n                Session session = connection.createSession(false,\n                        Session.AUTO_ACKNOWLEDGE);\n                \n                // Destination represents here our queue 'MessageProducerJMSV1' on the  JMS server\n                Destination destination = session.createQueue(subject);\n                \n                \n                MessageProducer producer = session.createProducer(destination);\n                \n                //Sending message to the queue\n                TextMessage toSendMessage = session.createTextMessage(message);\n                \n                long delay = 300 * 1000;\n                long period =300 * 1000;\n                \n                toSendMessage.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, delay);\n                \n                producer.send(toSendMessage);\n                \n                \n                \n                \n            }\n            \n            }\n            catch(Throwable th){\n                th.printStackTrace();   \n                \n            }\n            finally {\n            \n                connection.close();\n                \n            }\n            \n         }\n   // URL of the JMS server. DEFAULT_BROKER_URL will just mean that JMS server is on localhost\n    private static String url = ActiveMQConnection.DEFAULT_BROKER_URL;\n    private static String subject = &quot;MessageProducerJMSV1&quot;; //Queue Name\n    // default broker URL is : tcp://localhost:61616&quot;\n    \n    private static ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;ApplicationContext.xml&quot;);\n    private static final Logger logger = LoggerFactory.getLogger(DownloadConsumer.class);\n    \n    \n\n}\n</code></pre>\n"},{"tags":["java","concurrency","spring-jms"],"comments":[{"owner":{"account_id":179840,"reputation":22133,"user_id":412763,"accept_rate":91,"display_name":"Petter Nordlander"},"score":0,"creation_date":1445842874,"post_id":33339224,"comment_id":54476041,"body_markdown":"What do you mean by &quot;in reality it starts 3 consumers simultaneously&quot; ? If you can see 10 consumers in AMQ console, then you have 10 consumers. Try give it steady load over time and you will notice all 10 consumers will get load.","body":"What do you mean by &quot;in reality it starts 3 consumers simultaneously&quot; ? If you can see 10 consumers in AMQ console, then you have 10 consumers. Try give it steady load over time and you will notice all 10 consumers will get load."},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1445843073,"post_id":33339224,"comment_id":54476125,"body_markdown":"@PetterNordlander I will just update my question to bring in clarity.","body":"@PetterNordlander I will just update my question to bring in clarity."},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1445843332,"post_id":33339224,"comment_id":54476242,"body_markdown":"@PetterNordlander please see my edit. I mean to say in my consumer code i am printing received message text. So from output it looks like it has started 3 consumers simultaneously and not 10.","body":"@PetterNordlander please see my edit. I mean to say in my consumer code i am printing received message text. So from output it looks like it has started 3 consumers simultaneously and not 10."},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1445850102,"post_id":33339224,"comment_id":54479405,"body_markdown":"@PetterNordlander please see my observations in the question above. I have updated my question.","body":"@PetterNordlander please see my observations in the question above. I have updated my question."},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":1,"creation_date":1445850748,"post_id":33339224,"comment_id":54479778,"body_markdown":"@mahendra if you specify only one number it means a &quot;maximum&quot; number of consumers will be started. Which mean always less than &quot;maximum&quot; is started unless Spring JMS thinks it needs more. Try to specify a range with a minimum value and give your consumer a steady load (not 50 messages). And you will see all consumers working up to the specified maximum.","body":"@mahendra if you specify only one number it means a &quot;maximum&quot; number of consumers will be started. Which mean always less than &quot;maximum&quot; is started unless Spring JMS thinks it needs more. Try to specify a range with a minimum value and give your consumer a steady load (not 50 messages). And you will see all consumers working up to the specified maximum."},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1445851052,"post_id":33339224,"comment_id":54479937,"body_markdown":"@Strelok By the term steady load you mean I should increase number of messages and specify range for consumers. Right ?","body":"@Strelok By the term steady load you mean I should increase number of messages and specify range for consumers. Right ?"},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1445851711,"post_id":33339224,"comment_id":54480324,"body_markdown":"Just start your consumer program and then start your producer to produce messages in an infinite loop as fast as possible. You will see all your consumers working.","body":"Just start your consumer program and then start your producer to produce messages in an infinite loop as fast as possible. You will see all your consumers working."},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1445851992,"post_id":33339224,"comment_id":54480477,"body_markdown":"Yes that way I can see. But consumer and producer are 2 independent applications. Consumer may not be available at the same time when producer sends messages.","body":"Yes that way I can see. But consumer and producer are 2 independent applications. Consumer may not be available at the same time when producer sends messages."},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1445852356,"post_id":33339224,"comment_id":54480672,"body_markdown":"And If I first start producer and send messages and then start consumer I can see it is hardly consuming with 3 threads maximum and not 5","body":"And If I first start producer and send messages and then start consumer I can see it is hardly consuming with 3 threads maximum and not 5"},{"owner":{"account_id":179840,"reputation":22133,"user_id":412763,"accept_rate":91,"display_name":"Petter Nordlander"},"score":0,"creation_date":1445855114,"post_id":33339224,"comment_id":54482308,"body_markdown":"Well.. DMLC is built to adjust to a given load with some algorithm.  I fail to see the problem. As well, DMLC is not really built to scale well with start/stop behavior. Rather it&#39;s usually kept running with a given amount of max consumers. If you want to do some detailed tweaks on this, consider implementing your own message listener and threading, or extend DMLC","body":"Well.. DMLC is built to adjust to a given load with some algorithm.  I fail to see the problem. As well, DMLC is not really built to scale well with start/stop behavior. Rather it&#39;s usually kept running with a given amount of max consumers. If you want to do some detailed tweaks on this, consider implementing your own message listener and threading, or extend DMLC"},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1445855674,"post_id":33339224,"comment_id":54482639,"body_markdown":"Your consumers can be prefetching many messages at ones from the queue. The answers in this question might be helpful: http://stackoverflow.com/questions/12583161/defaultmessagelistenercontainer-not-scaling","body":"Your consumers can be prefetching many messages at ones from the queue. The answers in this question might be helpful: <a href=\"http://stackoverflow.com/questions/12583161/defaultmessagelistenercontainer-not-scaling\" title=\"defaultmessagelistenercontainer not scaling\">stackoverflow.com/questions/12583161/&hellip;</a>"},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1445856221,"post_id":33339224,"comment_id":54482986,"body_markdown":"@Strelok But I am not setting any `prefetch` attribute on listener-container","body":"@Strelok But I am not setting any <code>prefetch</code> attribute on listener-container"},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1446006906,"post_id":33339224,"comment_id":54559398,"body_markdown":"@Gary Russell can you provide some suggestion on this ? I have posted my solution below. But just want to know is this proper way of doing this ?","body":"@Gary Russell can you provide some suggestion on this ? I have posted my solution below. But just want to know is this proper way of doing this ?"}],"answers":[{"comments":[{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1446006996,"post_id":33346507,"comment_id":54559428,"body_markdown":"@Gary Russell Can you tell me when to use spring jmsTemplate and when to use Spring Integration JMS ? If I want to replace my existing config with Spring Integraion JMS then what all I need to care of ?","body":"@Gary Russell Can you tell me when to use spring jmsTemplate and when to use Spring Integration JMS ? If I want to replace my existing config with Spring Integraion JMS then what all I need to care of ?"}],"tags":[],"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445864655,"creation_date":1445864655,"answer_id":33346507,"question_id":33339224,"body_markdown":"As Strelok pointed me about prefetching of messages. Created `prefetchPolicy` bean with `queuePrefetch` property set to 1.\r\nWhose reference is set in connectionFactory.\r\n\r\nI did some changes in configuration, those are as below:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:jms=&quot;http://www.springframework.org/schema/jms&quot;\r\n    \r\n    \txmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n    \thttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    \thttp://www.springframework.org/schema/jms\r\n    \thttp://www.springframework.org/schema/jms/spring-jms-3.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;bean id=&quot;connectionFactory&quot; class=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot; p:brokerURL=&quot;tcp://localhost:61616&quot;\r\n    \t\tp:prefetchPolicy-ref=&quot;prefetchPolicy&quot; /&gt;\r\n    \r\n    \t&lt;bean id=&quot;prefetchPolicy&quot; class=&quot;org.apache.activemq.ActiveMQPrefetchPolicy&quot;\r\n    \t\tp:queuePrefetch=&quot;1&quot; /&gt;\r\n    \r\n    \t&lt;bean id=&quot;listener&quot; class=&quot;com.javatpoint.MyMessageListener&quot;&gt;&lt;/bean&gt;\r\n    \r\n    \t&lt;jms:listener-container concurrency=&quot;10-15&quot; connection-factory=&quot;connectionFactory&quot;&gt;\r\n    \t\t&lt;jms:listener destination=&quot;javatpointQueue&quot; ref=&quot;listener&quot;\r\n    \t\t\tmethod=&quot;onMessage&quot;&gt;&lt;/jms:listener&gt;\r\n    \t&lt;/jms:listener-container&gt;\r\n    \r\n    \t&lt;!-- The JMS destination --&gt;\r\n    \r\n    \t  &lt;bean id=&quot;destination&quot; class=&quot;org.apache.activemq.command.ActiveMQQueue&quot;&gt;\r\n    \t    &lt;constructor-arg value=&quot;javatpointQueue&quot; /&gt;\r\n    \t  &lt;/bean&gt;\r\n    &lt;/beans&gt;","title":"Spring JMS listener-container concurrency attribute not working","body":"<p>As Strelok pointed me about prefetching of messages. Created <code>prefetchPolicy</code> bean with <code>queuePrefetch</code> property set to 1.\nWhose reference is set in connectionFactory.</p>\n\n<p>I did some changes in configuration, those are as below:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:jms=\"http://www.springframework.org/schema/jms\"\n\n    xmlns:p=\"http://www.springframework.org/schema/p\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans \n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n    http://www.springframework.org/schema/jms\n    http://www.springframework.org/schema/jms/spring-jms-3.0.xsd\"&gt;\n\n    &lt;bean id=\"connectionFactory\" class=\"org.apache.activemq.ActiveMQConnectionFactory\" p:brokerURL=\"tcp://localhost:61616\"\n        p:prefetchPolicy-ref=\"prefetchPolicy\" /&gt;\n\n    &lt;bean id=\"prefetchPolicy\" class=\"org.apache.activemq.ActiveMQPrefetchPolicy\"\n        p:queuePrefetch=\"1\" /&gt;\n\n    &lt;bean id=\"listener\" class=\"com.javatpoint.MyMessageListener\"&gt;&lt;/bean&gt;\n\n    &lt;jms:listener-container concurrency=\"10-15\" connection-factory=\"connectionFactory\"&gt;\n        &lt;jms:listener destination=\"javatpointQueue\" ref=\"listener\"\n            method=\"onMessage\"&gt;&lt;/jms:listener&gt;\n    &lt;/jms:listener-container&gt;\n\n    &lt;!-- The JMS destination --&gt;\n\n      &lt;bean id=\"destination\" class=\"org.apache.activemq.command.ActiveMQQueue\"&gt;\n        &lt;constructor-arg value=\"javatpointQueue\" /&gt;\n      &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1489655,"reputation":1239,"user_id":1397066,"display_name":"Pavan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494915024,"creation_date":1494915024,"answer_id":43993664,"question_id":33339224,"body_markdown":"JMS can work in concurrency mode. Below I am sharing the sample snippet \r\n***concurrentConsumers = 100 value***\r\n\r\n[Spring JMS Documentation][1]\r\n\r\n    &lt;bean id=&quot;listenerContainer&quot;\t\tclass=&quot;org.springframework.jms.listener.DefaultMessageListenerContainer&quot;&gt;\r\n    \t\t&lt;property name=&quot;concurrentConsumers&quot;&gt;\r\n    \t\t\t&lt;value&gt;100&lt;/value&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connectionFactory&quot; ref=&quot;connectionFactory&quot; /&gt;\r\n    \t\t&lt;property name=&quot;destination&quot; ref=&quot;queue&quot; /&gt;\r\n    \t\t&lt;property name=&quot;messageListener&quot; ref=&quot;messageListener&quot; /&gt;\r\n    \t\t&lt;property name=&quot;sessionTransacted&quot; value=&quot;false&quot; /&gt;\r\n    \t\t&lt;property name=&quot;sessionAcknowledgeMode&quot; value=&quot;1&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/4.0.3.RELEASE/spring-framework-reference/html/remoting.html#remoting-jms","title":"Spring JMS listener-container concurrency attribute not working","body":"<p>JMS can work in concurrency mode. Below I am sharing the sample snippet \n<strong><em>concurrentConsumers = 100 value</em></strong></p>\n\n<p><a href=\"http://docs.spring.io/spring/docs/4.0.3.RELEASE/spring-framework-reference/html/remoting.html#remoting-jms\" rel=\"nofollow noreferrer\">Spring JMS Documentation</a></p>\n\n<pre><code>&lt;bean id=\"listenerContainer\"        class=\"org.springframework.jms.listener.DefaultMessageListenerContainer\"&gt;\n        &lt;property name=\"concurrentConsumers\"&gt;\n            &lt;value&gt;100&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=\"connectionFactory\" ref=\"connectionFactory\" /&gt;\n        &lt;property name=\"destination\" ref=\"queue\" /&gt;\n        &lt;property name=\"messageListener\" ref=\"messageListener\" /&gt;\n        &lt;property name=\"sessionTransacted\" value=\"false\" /&gt;\n        &lt;property name=\"sessionAcknowledgeMode\" value=\"1\" /&gt;\n    &lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9167277,"reputation":161,"user_id":6816321,"display_name":"Alexey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524903069,"creation_date":1524903069,"answer_id":50074363,"question_id":33339224,"body_markdown":"Just met this problem on spring-boot 1.5.9 application.\r\n\r\nAs pointed out by @Strelok and @mahendra kawde, the issue is due to prefetchPolicy parameter. The default value is 1000.\r\n\r\n&gt; Large prefetch values are recommended for high performance with high message volumes. However, for lower message volumes, where each message takes a long time to process, the prefetch should be set to 1. This ensures that a consumer is only processing one message at a time. Specifying a prefetch limit of zero, however, will cause the consumer to poll for messages, one at a time, instead of the message being pushed to the consumer.\r\n\r\nTake a look at http://activemq.apache.org/what-is-the-prefetch-limit-for.html\r\n\r\nOne can change prefetchPolicy parameter as following:\r\n\r\n 1. In `application.properties` file ([working example][1])\r\n\r\n        spring.activemq.broker-url=tcp://localhost:61616?jms.prefetchPolicy.queuePrefetch=1\r\n 2. In DefaultMessageListenerContainer by modifying destinationName parameter ([working example][2]) \r\n\r\n        &lt;bean id=&quot;cons-even&quot; class=&quot;org.springframework.jms.listener.DefaultMessageListenerContainer&quot;&gt;\r\n          &lt;property name=&quot;destinationName&quot; value=&quot;queue-name?consumer.prefetchSize=1&quot;/&gt;\r\n          ...\r\n        &lt;/bean&gt;\r\n\r\n 3. In ConnectionFactory bean ([working example][3]):\r\n\r\n        @Bean\r\n        public ConnectionFactory jmsConnectionFactory() {\r\n            ActiveMQConnectionFactory factory = new ActiveMQConnectionFactory(brokerUrl);\r\n            ActiveMQPrefetchPolicy policy = new ActiveMQPrefetchPolicy();\r\n            policy.setQueuePrefetch(1);\r\n            factory.setPrefetchPolicy(policy);\r\n            return factory;\r\n        }\r\n\r\n\r\nRelated topics:\r\n\r\n 1. https://stackoverflow.com/questions/35492496/how-do-i-make-spring-jmslistener-burst-to-max-concurrent-threads\r\n 2. https://stackoverflow.com/questions/43042909/dynamic-scaling-of-jms-consumer-in-spring-boot\r\n\r\n\r\n  [1]: https://github.com/estarter/jms-spring-camel-demo/tree/conf1\r\n  [2]: https://github.com/estarter/jms-spring-camel-demo/tree/conf2\r\n  [3]: https://github.com/estarter/jms-spring-camel-demo/tree/conf3","title":"Spring JMS listener-container concurrency attribute not working","body":"<p>Just met this problem on spring-boot 1.5.9 application.</p>\n\n<p>As pointed out by @Strelok and @mahendra kawde, the issue is due to prefetchPolicy parameter. The default value is 1000.</p>\n\n<blockquote>\n  <p>Large prefetch values are recommended for high performance with high message volumes. However, for lower message volumes, where each message takes a long time to process, the prefetch should be set to 1. This ensures that a consumer is only processing one message at a time. Specifying a prefetch limit of zero, however, will cause the consumer to poll for messages, one at a time, instead of the message being pushed to the consumer.</p>\n</blockquote>\n\n<p>Take a look at <a href=\"http://activemq.apache.org/what-is-the-prefetch-limit-for.html\" rel=\"nofollow noreferrer\">http://activemq.apache.org/what-is-the-prefetch-limit-for.html</a></p>\n\n<p>One can change prefetchPolicy parameter as following:</p>\n\n<ol>\n<li><p>In <code>application.properties</code> file (<a href=\"https://github.com/estarter/jms-spring-camel-demo/tree/conf1\" rel=\"nofollow noreferrer\">working example</a>)</p>\n\n<pre><code>spring.activemq.broker-url=tcp://localhost:61616?jms.prefetchPolicy.queuePrefetch=1\n</code></pre></li>\n<li><p>In DefaultMessageListenerContainer by modifying destinationName parameter (<a href=\"https://github.com/estarter/jms-spring-camel-demo/tree/conf2\" rel=\"nofollow noreferrer\">working example</a>) </p>\n\n<pre><code>&lt;bean id=\"cons-even\" class=\"org.springframework.jms.listener.DefaultMessageListenerContainer\"&gt;\n  &lt;property name=\"destinationName\" value=\"queue-name?consumer.prefetchSize=1\"/&gt;\n  ...\n&lt;/bean&gt;\n</code></pre></li>\n<li><p>In ConnectionFactory bean (<a href=\"https://github.com/estarter/jms-spring-camel-demo/tree/conf3\" rel=\"nofollow noreferrer\">working example</a>):</p>\n\n<pre><code>@Bean\npublic ConnectionFactory jmsConnectionFactory() {\n    ActiveMQConnectionFactory factory = new ActiveMQConnectionFactory(brokerUrl);\n    ActiveMQPrefetchPolicy policy = new ActiveMQPrefetchPolicy();\n    policy.setQueuePrefetch(1);\n    factory.setPrefetchPolicy(policy);\n    return factory;\n}\n</code></pre></li>\n</ol>\n\n<p>Related topics:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/35492496/how-do-i-make-spring-jmslistener-burst-to-max-concurrent-threads\">How do I make Spring JMSListener burst to max concurrent threads?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/43042909/dynamic-scaling-of-jms-consumer-in-spring-boot\">Dynamic scaling of JMS consumer in spring boot</a></li>\n</ol>\n"}],"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36118,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1696810490,"creation_date":1445838644,"question_id":33339224,"body_markdown":"Hi I am learning Spring JMS with ActiveMQ. \r\nIn my example scenario is Producer application sends around 50 messages in queue and when I start Consumer application it starts to  consume those messages.\r\n\r\nNow I want multiple consumer threads to consume messages from queue.\r\nI am using **JMS listener-container**. When I googled for that I found there is a **concurrency** attribute.\r\n\r\nAccording to [Spring JMS doc][1] concurrency attribute specifies\r\n\r\n&gt; The number of concurrent sessions/consumers to start for each listener. Can either be a simple number indicating the maximum number (e.g. &quot;5&quot;) or a range indicating the lower as well as the upper limit (e.g. &quot;3-5&quot;). Note that a specified minimum is just a hint and might be ignored at runtime. Default is 1; keep concurrency limited to 1 in case of a topic listener or if queue ordering is important; consider raising it for general queues.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/jms.html#jms-namespace\r\n\r\nBut in my configuration I am setting this attribute to 5 but it seems it fails to start 5 concurrent listeners.\r\n\r\nConfiguration for listener:\r\n\r\n**consumer-applicationContext.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:jms=&quot;http://www.springframework.org/schema/jms&quot;\r\n    \r\n    \txmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n    \thttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    \thttp://www.springframework.org/schema/jms\r\n    \thttp://www.springframework.org/schema/jms/spring-jms-3.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;bean id=&quot;connectionFactory&quot; class=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot; p:brokerURL=&quot;tcp://localhost:61616&quot; /&gt;\r\n    \r\n    \t&lt;bean id=&quot;listener&quot; class=&quot;com.jms.example.MyMessageListener&quot;&gt;&lt;/bean&gt;\r\n    \r\n    \t&lt;jms:listener-container container-type=&quot;default&quot; concurrency=&quot;5&quot;\r\n    \t\tconnection-factory=&quot;connectionFactory&quot;&gt;\r\n    \t\t&lt;jms:listener destination=&quot;MyQueue&quot; ref=&quot;listener&quot;\r\n    \t\t\tmethod=&quot;onMessage&quot;&gt;&lt;/jms:listener&gt;\r\n    \t&lt;/jms:listener-container&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nAnd If I used bean **DefaultMessageListenerContainer** instead of **jms:listener-container** with properties:\r\n\r\n    &lt;bean id=&quot;msgListenerContainer&quot; \r\n    \t\tclass=&quot;org.springframework.jms.listener.DefaultMessageListenerContainer&quot;\r\n    \t\tp:connectionFactory-ref=&quot;connectionFactory&quot;\r\n    \t\tp:destination-ref=&quot;destination&quot;\r\n    \t\tp:messageListener-ref=&quot;listener&quot;\r\n        \tp:concurrentConsumers=&quot;10&quot;\r\n    \t    p:maxConcurrentConsumers=&quot;50&quot; /&gt;\r\n\r\nThen in ActiveMQ console I could see 10 consumers but in reality it starts 3 consumers simultaneously or sometimes 6 or only 1 consumer.\r\n\r\n**EDIT:**\r\n\r\nConsumer code:\r\n\r\n    public class MyMessageListener implements MessageListener{\r\n    \r\n    \t\r\n    \tpublic void onMessage(Message m) {\r\n    \t\tTextMessage message=(TextMessage)m;\r\n    \t\ttry{\r\n    \t\t\tSystem.out.println(&quot;Start = &quot; + message.getText());\r\n    \t\t\tThread.sleep(5000);\r\n    \t\t\tSystem.out.println(&quot;End = &quot; + message.getText());\r\n    \t\t}catch (Exception e) {e.printStackTrace();\t}\r\n    \t}\r\n    }\r\n\r\nI am printing consumed messages on console whose output is explained in scenarios below:\r\n\r\n**OBSERVATION:**\r\n\r\nI observed some weird behavior. \r\nMy producer and consumer are two independent applications. \r\n\r\n**Scenario - 1:**\r\n\r\n 1. I start producer and send messages(Meanwhile consumer is NOT running)\r\n 2. Then I start consumer to consume messages.\r\n\r\nHere problem is it does not loads all 10 consumers. Sometimes it loads 3 OR 1.\r\n\r\n \r\n\r\n    Start = hello jms 1 // consumer 1 started \r\n    Start = hello jms 2 // consumer 2 started \r\n    Start = hello jms 3 // consumer 3 started \r\n    End = hello jms 1  //  consumer 1 ended\r\n    Start = hello jms 4 // consumer 4 started and hence always 3 consumers and not 10\r\n    End = hello jms 2\r\n    Start = hello jms 5\r\n    End = hello jms 3\r\n    Start = hello jms 6\r\n\r\n**Scenario - 2:**\r\n\r\n 1. I start producer and send messages(Meanwhile consumer is running)\r\n 2. Since the consumer is in running state it starts to consume them.\r\n\r\nSo it does load all 5 consumers properly as expected. so the output is:\r\n\r\n    Start = hello jms 1 // consumer 1 started \r\n    Start = hello jms 2 // consumer 2 started \r\n    Start = hello jms 3 // consumer 3 started \r\n    Start = hello jms 4 // consumer 4 started \r\n    Start = hello jms 5 // consumer 5 started \r\n    Start = hello jms 6 // consumer 6 started \r\n    Start = hello jms 7 // consumer 7 started \r\n    Start = hello jms 8 // consumer 8 started \r\n    Start = hello jms 9 // consumer 9 started \r\n    Start = hello jms 10 // consumer 10 started. Hence all them started at same time as expected.\r\n    End = hello jms 1\r\n    Start = hello jms 11\r\n    End = hello jms 2\r\n    Start = hello jms 12\r\n    End = hello jms 3\r\n    Start = hello jms 13\r\n\r\nWhy is this happening. It is really eating my brain.\r\nI don&#39;t want to keep consumer to be running forever. I want to keep both detached. \r\n\r\n\r\nPlease help.","title":"Spring JMS listener-container concurrency attribute not working","body":"<p>Hi I am learning Spring JMS with ActiveMQ. \nIn my example scenario is Producer application sends around 50 messages in queue and when I start Consumer application it starts to  consume those messages.</p>\n\n<p>Now I want multiple consumer threads to consume messages from queue.\nI am using <strong>JMS listener-container</strong>. When I googled for that I found there is a <strong>concurrency</strong> attribute.</p>\n\n<p>According to <a href=\"http://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/jms.html#jms-namespace\" rel=\"nofollow\">Spring JMS doc</a> concurrency attribute specifies</p>\n\n<blockquote>\n  <p>The number of concurrent sessions/consumers to start for each listener. Can either be a simple number indicating the maximum number (e.g. \"5\") or a range indicating the lower as well as the upper limit (e.g. \"3-5\"). Note that a specified minimum is just a hint and might be ignored at runtime. Default is 1; keep concurrency limited to 1 in case of a topic listener or if queue ordering is important; consider raising it for general queues.</p>\n</blockquote>\n\n<p>But in my configuration I am setting this attribute to 5 but it seems it fails to start 5 concurrent listeners.</p>\n\n<p>Configuration for listener:</p>\n\n<p><strong>consumer-applicationContext.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:jms=\"http://www.springframework.org/schema/jms\"\n\n    xmlns:p=\"http://www.springframework.org/schema/p\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans \n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n    http://www.springframework.org/schema/jms\n    http://www.springframework.org/schema/jms/spring-jms-3.0.xsd\"&gt;\n\n    &lt;bean id=\"connectionFactory\" class=\"org.apache.activemq.ActiveMQConnectionFactory\" p:brokerURL=\"tcp://localhost:61616\" /&gt;\n\n    &lt;bean id=\"listener\" class=\"com.jms.example.MyMessageListener\"&gt;&lt;/bean&gt;\n\n    &lt;jms:listener-container container-type=\"default\" concurrency=\"5\"\n        connection-factory=\"connectionFactory\"&gt;\n        &lt;jms:listener destination=\"MyQueue\" ref=\"listener\"\n            method=\"onMessage\"&gt;&lt;/jms:listener&gt;\n    &lt;/jms:listener-container&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>And If I used bean <strong>DefaultMessageListenerContainer</strong> instead of <strong>jms:listener-container</strong> with properties:</p>\n\n<pre><code>&lt;bean id=\"msgListenerContainer\" \n        class=\"org.springframework.jms.listener.DefaultMessageListenerContainer\"\n        p:connectionFactory-ref=\"connectionFactory\"\n        p:destination-ref=\"destination\"\n        p:messageListener-ref=\"listener\"\n        p:concurrentConsumers=\"10\"\n        p:maxConcurrentConsumers=\"50\" /&gt;\n</code></pre>\n\n<p>Then in ActiveMQ console I could see 10 consumers but in reality it starts 3 consumers simultaneously or sometimes 6 or only 1 consumer.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Consumer code:</p>\n\n<pre><code>public class MyMessageListener implements MessageListener{\n\n\n    public void onMessage(Message m) {\n        TextMessage message=(TextMessage)m;\n        try{\n            System.out.println(\"Start = \" + message.getText());\n            Thread.sleep(5000);\n            System.out.println(\"End = \" + message.getText());\n        }catch (Exception e) {e.printStackTrace();  }\n    }\n}\n</code></pre>\n\n<p>I am printing consumed messages on console whose output is explained in scenarios below:</p>\n\n<p><strong>OBSERVATION:</strong></p>\n\n<p>I observed some weird behavior. \nMy producer and consumer are two independent applications. </p>\n\n<p><strong>Scenario - 1:</strong></p>\n\n<ol>\n<li>I start producer and send messages(Meanwhile consumer is NOT running)</li>\n<li>Then I start consumer to consume messages.</li>\n</ol>\n\n<p>Here problem is it does not loads all 10 consumers. Sometimes it loads 3 OR 1.</p>\n\n<pre><code>Start = hello jms 1 // consumer 1 started \nStart = hello jms 2 // consumer 2 started \nStart = hello jms 3 // consumer 3 started \nEnd = hello jms 1  //  consumer 1 ended\nStart = hello jms 4 // consumer 4 started and hence always 3 consumers and not 10\nEnd = hello jms 2\nStart = hello jms 5\nEnd = hello jms 3\nStart = hello jms 6\n</code></pre>\n\n<p><strong>Scenario - 2:</strong></p>\n\n<ol>\n<li>I start producer and send messages(Meanwhile consumer is running)</li>\n<li>Since the consumer is in running state it starts to consume them.</li>\n</ol>\n\n<p>So it does load all 5 consumers properly as expected. so the output is:</p>\n\n<pre><code>Start = hello jms 1 // consumer 1 started \nStart = hello jms 2 // consumer 2 started \nStart = hello jms 3 // consumer 3 started \nStart = hello jms 4 // consumer 4 started \nStart = hello jms 5 // consumer 5 started \nStart = hello jms 6 // consumer 6 started \nStart = hello jms 7 // consumer 7 started \nStart = hello jms 8 // consumer 8 started \nStart = hello jms 9 // consumer 9 started \nStart = hello jms 10 // consumer 10 started. Hence all them started at same time as expected.\nEnd = hello jms 1\nStart = hello jms 11\nEnd = hello jms 2\nStart = hello jms 12\nEnd = hello jms 3\nStart = hello jms 13\n</code></pre>\n\n<p>Why is this happening. It is really eating my brain.\nI don't want to keep consumer to be running forever. I want to keep both detached. </p>\n\n<p>Please help.</p>\n"},{"tags":["java","spring-boot","asynchronous","spring-jms"],"comments":[{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":1,"creation_date":1629720019,"post_id":68890488,"comment_id":121753235,"body_markdown":"Did you check the transaction handling? Could it be that `convertAndSend` does not commit the message, so the listener can not see it?","body":"Did you check the transaction handling? Could it be that <code>convertAndSend</code> does not commit the message, so the listener can not see it?"}],"answers":[{"comments":[{"owner":{"account_id":5254523,"reputation":925,"user_id":4197768,"accept_rate":40,"display_name":"Mark Sch&#228;fer"},"score":0,"creation_date":1629722974,"post_id":68892932,"comment_id":121754559,"body_markdown":"Are transactions enabled by default? And if so, can they be disabled?","body":"Are transactions enabled by default? And if so, can they be disabled?"}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1629722554,"creation_date":1629722554,"answer_id":68892932,"question_id":68890488,"body_markdown":"It looks like you are using transactions, the transaction won&#39;t commit until the `@JmsListener` method exits so the other consumer won&#39;t see it.\r\n\r\nYou can&#39;t use transactions for this use case.\r\n\r\nHence the `@Async` works because the send will be performed in a different transaction.","title":"Spring Boot JmsListener blocked by other JmsListener for different destination","body":"<p>It looks like you are using transactions, the transaction won't commit until the <code>@JmsListener</code> method exits so the other consumer won't see it.</p>\n<p>You can't use transactions for this use case.</p>\n<p>Hence the <code>@Async</code> works because the send will be performed in a different transaction.</p>\n"}],"owner":{"account_id":5254523,"reputation":925,"user_id":4197768,"accept_rate":40,"display_name":"Mark Sch&#228;fer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68892932,"answer_count":1,"score":0,"last_activity_date":1696809667,"creation_date":1629712141,"question_id":68890488,"body_markdown":"I encountered the following situation in a Spring Boot application with JMS over ActiveMQ 5 as broker.\r\n\r\nA `@JMSListener` annotated method processes a message and sends a response message to a different destination. There is also a `@JMSListener` for this destination, which is not called when the response has been sent to the broker, but only when the processing of the original listner is completely finished. If this listener is additionally annotated with `@Async`, the reponse is received immediately after sending as expected.\r\n\r\nThe original project is way too big, so I prepared the minimal example below.\r\nIt contains a Spring Boot application `TestApp` with a single `@JmsListener` *(1)* which immediately forwards a message from Destination *in* to *out* and *afterwards* sleeps for 3 seconds.\r\n\r\nThe application is started in a test which sends a single message to *in* and waits for 2 seconds for the response on *out*. \r\n\r\nOnly if the `@Async` is present at *(1)* the test is successful.\r\n\r\nFurther observations:\r\n- Same behaviour if the test uses variant *(2)* and receives the response via `JmsTemplate` instead using a `JmsListener`.\r\n- In any case one can see that the message is present in the broker immediately after sending.\r\n\r\n**Question**: Why is receiving self-sent messages blocked in this situation? How can the outgoing message be received immediately without using `@Async`?\r\n\r\n\r\n**Update/Solution**: As Gary suggested there is indeed a transaction present but seemingly not of Spring Boot but one created by the included activemq-lib. \r\n\r\n\r\n```java\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\nimport static org.hamcrest.Matchers.hasSize;\r\nimport static org.springframework.boot.test.context.SpringBootTest.WebEnvironment.NONE;\r\n\r\nimport java.time.Duration;\r\nimport java.util.LinkedList;\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.jms.annotation.EnableJms;\r\nimport org.springframework.jms.annotation.JmsListener;\r\nimport org.springframework.jms.core.JmsTemplate;\r\nimport org.springframework.scheduling.annotation.Async;\r\nimport org.springframework.scheduling.annotation.EnableAsync;\r\nimport org.springframework.test.context.DynamicPropertyRegistry;\r\nimport org.springframework.test.context.DynamicPropertySource;\r\nimport org.testcontainers.containers.GenericContainer;\r\nimport org.testcontainers.containers.output.Slf4jLogConsumer;\r\nimport org.testcontainers.containers.wait.strategy.LogMessageWaitStrategy;\r\nimport org.testcontainers.junit.jupiter.Container;\r\nimport org.testcontainers.junit.jupiter.Testcontainers;\r\nimport org.testcontainers.utility.DockerImageName;\r\n\r\n@SpringBootTest(classes = TestApp.class, webEnvironment = NONE)\r\n@Testcontainers\r\npublic class JmsTest\r\n{\r\n    private static final Logger LOG = LoggerFactory.getLogger(JmsTest.class);\r\n\r\n    @Container\r\n    public static final GenericContainer&lt;?&gt; ACTIVEMQ =\r\n        new GenericContainer&lt;&gt;(DockerImageName.parse(&quot;rmohr/activemq&quot;))\r\n            .withExposedPorts(8161, 61616)\r\n            .waitingFor(new LogMessageWaitStrategy().withRegEx(&quot;.*Apache ActiveMQ .* started.*&quot;))\r\n            .withStartupTimeout(Duration.ofSeconds(60))\r\n            .withLogConsumer(new Slf4jLogConsumer(LOG));\r\n\r\n    @DynamicPropertySource\r\n    private static void ports(DynamicPropertyRegistry registry)\r\n    {\r\n        registry.add(&quot;spring.activemq.broker-url&quot;, () -&gt; &quot;tcp://&quot; + ACTIVEMQ.getHost() + &quot;:&quot; + ACTIVEMQ.getMappedPort(61616));\r\n    }\r\n\r\n    @Autowired\r\n    private JmsTemplate jmsTemplate;\r\n\r\n    private List&lt;String&gt; messages = new LinkedList&lt;&gt;();\r\n\r\n    @Async\r\n    @JmsListener(destination = &quot;out&quot;)\r\n    public void onOut(String message)\r\n    {\r\n        LOG.warn(&quot;Received message from out: {}&quot;, message);\r\n        messages.add(message);\r\n    }\r\n\r\n    @Test\r\n    public void foo() throws InterruptedException\r\n    {\r\n        LOG.warn(&quot;Sending request&quot;);\r\n        // Sending some message on destination &#39;in&#39; to be received and answered by the listener below\r\n        jmsTemplate.convertAndSend(&quot;in&quot;, UUID.randomUUID().toString());\r\n\r\n        LOG.warn(&quot;Waiting for repsonse&quot;);\r\n\r\n        // (2)    // Try to receive response from &#39;out&#39;\r\n        //        jmsTemplate.setReceiveTimeout(2_000);\r\n        //        Message response = jmsTemplate.receive(&quot;out&quot;);\r\n        //        assertThat(response, notNullValue());\r\n        \r\n        Thread.sleep(2_000);\r\n        assertThat(messages, hasSize(1));\r\n\r\n    }\r\n}\r\n\r\n@SpringBootApplication\r\n@EnableJms\r\n@EnableAsync\r\nclass TestApp\r\n{\r\n    private static final Logger LOG = LoggerFactory.getLogger(TestApp.class);\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        SpringApplication.run(TestApp.class, args);\r\n    }\r\n\r\n    @Autowired\r\n    private JmsTemplate jmsTemplate;\r\n\r\n    // (1)\r\n    // @Async\r\n    @JmsListener(destination = &quot;in&quot;)\r\n    public void onIn(String message) throws InterruptedException\r\n    {\r\n        LOG.warn(&quot;Received message from in: {}&quot;, message);\r\n\r\n        jmsTemplate.convertAndSend(&quot;out&quot;, message);\r\n        LOG.warn(&quot;Sent Response&quot;);\r\n\r\n        LOG.warn(&quot;Sleeping ...&quot;);\r\n        Thread.sleep(3_000);\r\n\r\n        LOG.warn(&quot;Finished&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHere the `pom.xml`:\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;foo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jmstest&lt;/artifactId&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.3&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n            &lt;version&gt;1.15.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.15.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```","title":"Spring Boot JmsListener blocked by other JmsListener for different destination","body":"<p>I encountered the following situation in a Spring Boot application with JMS over ActiveMQ 5 as broker.</p>\n<p>A <code>@JMSListener</code> annotated method processes a message and sends a response message to a different destination. There is also a <code>@JMSListener</code> for this destination, which is not called when the response has been sent to the broker, but only when the processing of the original listner is completely finished. If this listener is additionally annotated with <code>@Async</code>, the reponse is received immediately after sending as expected.</p>\n<p>The original project is way too big, so I prepared the minimal example below.\nIt contains a Spring Boot application <code>TestApp</code> with a single <code>@JmsListener</code> <em>(1)</em> which immediately forwards a message from Destination <em>in</em> to <em>out</em> and <em>afterwards</em> sleeps for 3 seconds.</p>\n<p>The application is started in a test which sends a single message to <em>in</em> and waits for 2 seconds for the response on <em>out</em>.</p>\n<p>Only if the <code>@Async</code> is present at <em>(1)</em> the test is successful.</p>\n<p>Further observations:</p>\n<ul>\n<li>Same behaviour if the test uses variant <em>(2)</em> and receives the response via <code>JmsTemplate</code> instead using a <code>JmsListener</code>.</li>\n<li>In any case one can see that the message is present in the broker immediately after sending.</li>\n</ul>\n<p><strong>Question</strong>: Why is receiving self-sent messages blocked in this situation? How can the outgoing message be received immediately without using <code>@Async</code>?</p>\n<p><strong>Update/Solution</strong>: As Gary suggested there is indeed a transaction present but seemingly not of Spring Boot but one created by the included activemq-lib.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.Matchers.hasSize;\nimport static org.springframework.boot.test.context.SpringBootTest.WebEnvironment.NONE;\n\nimport java.time.Duration;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.UUID;\n\nimport org.junit.jupiter.api.Test;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.jms.annotation.EnableJms;\nimport org.springframework.jms.annotation.JmsListener;\nimport org.springframework.jms.core.JmsTemplate;\nimport org.springframework.scheduling.annotation.Async;\nimport org.springframework.scheduling.annotation.EnableAsync;\nimport org.springframework.test.context.DynamicPropertyRegistry;\nimport org.springframework.test.context.DynamicPropertySource;\nimport org.testcontainers.containers.GenericContainer;\nimport org.testcontainers.containers.output.Slf4jLogConsumer;\nimport org.testcontainers.containers.wait.strategy.LogMessageWaitStrategy;\nimport org.testcontainers.junit.jupiter.Container;\nimport org.testcontainers.junit.jupiter.Testcontainers;\nimport org.testcontainers.utility.DockerImageName;\n\n@SpringBootTest(classes = TestApp.class, webEnvironment = NONE)\n@Testcontainers\npublic class JmsTest\n{\n    private static final Logger LOG = LoggerFactory.getLogger(JmsTest.class);\n\n    @Container\n    public static final GenericContainer&lt;?&gt; ACTIVEMQ =\n        new GenericContainer&lt;&gt;(DockerImageName.parse(&quot;rmohr/activemq&quot;))\n            .withExposedPorts(8161, 61616)\n            .waitingFor(new LogMessageWaitStrategy().withRegEx(&quot;.*Apache ActiveMQ .* started.*&quot;))\n            .withStartupTimeout(Duration.ofSeconds(60))\n            .withLogConsumer(new Slf4jLogConsumer(LOG));\n\n    @DynamicPropertySource\n    private static void ports(DynamicPropertyRegistry registry)\n    {\n        registry.add(&quot;spring.activemq.broker-url&quot;, () -&gt; &quot;tcp://&quot; + ACTIVEMQ.getHost() + &quot;:&quot; + ACTIVEMQ.getMappedPort(61616));\n    }\n\n    @Autowired\n    private JmsTemplate jmsTemplate;\n\n    private List&lt;String&gt; messages = new LinkedList&lt;&gt;();\n\n    @Async\n    @JmsListener(destination = &quot;out&quot;)\n    public void onOut(String message)\n    {\n        LOG.warn(&quot;Received message from out: {}&quot;, message);\n        messages.add(message);\n    }\n\n    @Test\n    public void foo() throws InterruptedException\n    {\n        LOG.warn(&quot;Sending request&quot;);\n        // Sending some message on destination 'in' to be received and answered by the listener below\n        jmsTemplate.convertAndSend(&quot;in&quot;, UUID.randomUUID().toString());\n\n        LOG.warn(&quot;Waiting for repsonse&quot;);\n\n        // (2)    // Try to receive response from 'out'\n        //        jmsTemplate.setReceiveTimeout(2_000);\n        //        Message response = jmsTemplate.receive(&quot;out&quot;);\n        //        assertThat(response, notNullValue());\n        \n        Thread.sleep(2_000);\n        assertThat(messages, hasSize(1));\n\n    }\n}\n\n@SpringBootApplication\n@EnableJms\n@EnableAsync\nclass TestApp\n{\n    private static final Logger LOG = LoggerFactory.getLogger(TestApp.class);\n\n    public static void main(String[] args)\n    {\n        SpringApplication.run(TestApp.class, args);\n    }\n\n    @Autowired\n    private JmsTemplate jmsTemplate;\n\n    // (1)\n    // @Async\n    @JmsListener(destination = &quot;in&quot;)\n    public void onIn(String message) throws InterruptedException\n    {\n        LOG.warn(&quot;Received message from in: {}&quot;, message);\n\n        jmsTemplate.convertAndSend(&quot;out&quot;, message);\n        LOG.warn(&quot;Sent Response&quot;);\n\n        LOG.warn(&quot;Sleeping ...&quot;);\n        Thread.sleep(3_000);\n\n        LOG.warn(&quot;Finished&quot;);\n    }\n}\n</code></pre>\n<p>Here the <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;foo&lt;/groupId&gt;\n    &lt;artifactId&gt;jmstest&lt;/artifactId&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2.5.3&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n            &lt;version&gt;1.15.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;1.15.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","activemq","spring-jms"],"answers":[{"comments":[{"owner":{"account_id":12840968,"reputation":469,"user_id":9289030,"display_name":"Kristof Plennings"},"score":0,"creation_date":1523510419,"post_id":49770042,"comment_id":86591978,"body_markdown":"Hmm, if I try this it starts up a new embedded activemq rather than the one I am pointing to. (swapped the first addConnector with my url, and removed the second addConnector.","body":"Hmm, if I try this it starts up a new embedded activemq rather than the one I am pointing to. (swapped the first addConnector with my url, and removed the second addConnector."},{"owner":{"account_id":8694271,"reputation":3895,"user_id":6506229,"display_name":"Hassen Bennour"},"score":0,"creation_date":1523514482,"post_id":49770042,"comment_id":86593750,"body_markdown":"@KristofPlennings Okk i do not understood that you are pointing to an external AMQ! So in this case the deadLetterStrategy can only be set in the destination policy map of the activemq.xml configuration file, see my updated answer","body":"@KristofPlennings Okk i do not understood that you are pointing to an external AMQ! So in this case the deadLetterStrategy can only be set in the destination policy map of the activemq.xml configuration file, see my updated answer"}],"tags":[],"owner":{"account_id":8694271,"reputation":3895,"user_id":6506229,"display_name":"Hassen Bennour"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1523514448,"creation_date":1523434913,"answer_id":49770042,"question_id":49769219,"body_markdown":"`deadLetterStrategy` concerns broker, so you have to define beans as below\r\n\r\ntake a look at \r\nhttp://activemq.apache.org/message-redelivery-and-dlq-handling.html\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.jms.ConnectionFactory;\r\n    \r\n    import org.apache.activemq.ActiveMQConnectionFactory;\r\n    import org.apache.activemq.RedeliveryPolicy;\r\n    import org.apache.activemq.broker.BrokerService;\r\n    import org.apache.activemq.broker.region.policy.DeadLetterStrategy;\r\n    import org.apache.activemq.broker.region.policy.IndividualDeadLetterStrategy;\r\n    import org.apache.activemq.broker.region.policy.PolicyEntry;\r\n    import org.apache.activemq.broker.region.policy.PolicyMap;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.ConfigurableApplicationContext;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.FilterType;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @SpringBootApplication\r\n    @Configuration\r\n    @ComponentScan(excludeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION, classes = { Configuration.class,\r\n    \t\tComponent.class }))\r\n    public class ActiveMQConfigurationDeadLetterStrategy {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tConfigurableApplicationContext app = SpringApplication.run(ActiveMQConfigurationDeadLetterStrategy.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic BrokerService broker() throws Exception {\r\n    \t\tfinal BrokerService broker = new BrokerService();\r\n    \t\tbroker.addConnector(&quot;tcp://localhost:61616&quot;);\r\n    \t\tbroker.addConnector(&quot;vm://localhost&quot;);\r\n    \t\tbroker.setPersistent(false);\r\n    \t\tbroker.setDestinationPolicy(policyMap());\r\n    \t\treturn broker;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic PolicyMap policyMap() {\r\n    \t\tPolicyMap destinationPolicy = new PolicyMap();\r\n    \t\tList&lt;PolicyEntry&gt; entries = new ArrayList&lt;PolicyEntry&gt;();\r\n    \t\tPolicyEntry queueEntry = new PolicyEntry();\r\n    \t\tqueueEntry.setQueue(&quot;&gt;&quot;);\r\n    \t\tqueueEntry.setDeadLetterStrategy(deadLetterStrategy());\r\n    \t\tPolicyEntry topicEntry = new PolicyEntry();\r\n    \t\ttopicEntry.setTopic(&quot;&gt;&quot;);\r\n    \t\ttopicEntry.setDeadLetterStrategy(deadLetterStrategy());\r\n    \t\tentries.add(queueEntry);\r\n    \t\tentries.add(topicEntry);\r\n    \t\tdestinationPolicy.setPolicyEntries(entries);\r\n    \t\treturn destinationPolicy;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic DeadLetterStrategy deadLetterStrategy() {\r\n    \t\tIndividualDeadLetterStrategy deadLetterStrategy = new IndividualDeadLetterStrategy();\r\n    \t\tdeadLetterStrategy.setQueueSuffix(&quot;.dlq&quot;);\r\n    \t\tdeadLetterStrategy.setUseQueueForQueueMessages(true);\r\n    \t\treturn deadLetterStrategy;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic RedeliveryPolicy redeliveryPolicy() {\r\n    \t\tRedeliveryPolicy redeliveryPolicy = new RedeliveryPolicy();\r\n    \t\tredeliveryPolicy.setInitialRedeliveryDelay(5000);\r\n    \t\tredeliveryPolicy.setBackOffMultiplier(2);\r\n    \t\tredeliveryPolicy.setUseExponentialBackOff(true);\r\n    \t\tredeliveryPolicy.setMaximumRedeliveries(5);\r\n    \t\treturn redeliveryPolicy;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ConnectionFactory jmsConnectionFactory() {\r\n    \t\tActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory();\r\n    \t\tconnectionFactory.setRedeliveryPolicy(redeliveryPolicy());\r\n    \t\treturn connectionFactory;\r\n    \t}\r\n    }\r\n\r\n**UPDATE**\r\n\r\nIf you use an external AMQ the deadLetterStrategy can only be set in the destination policy map of the activemq.xml configuration file\r\nFor example :\r\n\r\n    &lt;broker&gt;\r\n       \r\n      &lt;destinationPolicy&gt;\r\n        &lt;policyMap&gt;\r\n          &lt;policyEntries&gt;\r\n            &lt;!-- Set the following policy on all queues using the &#39;&gt;&#39; wildcard --&gt;\r\n            &lt;policyEntry queue=&quot;&gt;&quot;&gt;\r\n              &lt;deadLetterStrategy&gt;\r\n                &lt;!--\r\n                  Use the prefix &#39;DLQ.&#39; for the destination name, and make\r\n                  the DLQ a queue rather than a topic\r\n                --&gt;\r\n                &lt;individualDeadLetterStrategy queuePrefix=&quot;DLQ.&quot; useQueueForQueueMessages=&quot;true&quot;/&gt;\r\n              &lt;/deadLetterStrategy&gt;\r\n            &lt;/policyEntry&gt;\r\n          &lt;/policyEntries&gt;\r\n        &lt;/policyMap&gt;\r\n      &lt;/destinationPolicy&gt;\r\n       \r\n    &lt;/broker&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.jms.ConnectionFactory;\r\n    \r\n    import org.apache.activemq.ActiveMQConnectionFactory;\r\n    import org.apache.activemq.RedeliveryPolicy;\r\n    import org.apache.activemq.broker.BrokerService;\r\n    import org.apache.activemq.broker.region.policy.DeadLetterStrategy;\r\n    import org.apache.activemq.broker.region.policy.IndividualDeadLetterStrategy;\r\n    import org.apache.activemq.broker.region.policy.PolicyEntry;\r\n    import org.apache.activemq.broker.region.policy.PolicyMap;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.ConfigurableApplicationContext;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.FilterType;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @SpringBootApplication\r\n    @Configuration\r\n    @ComponentScan(excludeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION, classes = { Configuration.class,\r\n    \t\tComponent.class }))\r\n    public class ActiveMQConfigurationDeadLetterStrategy {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tConfigurableApplicationContext app = SpringApplication.run(ActiveMQConfigurationDeadLetterStrategy.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic RedeliveryPolicy redeliveryPolicy() {\r\n    \t\tRedeliveryPolicy redeliveryPolicy = new RedeliveryPolicy();\r\n    \t\tredeliveryPolicy.setInitialRedeliveryDelay(5000);\r\n    \t\tredeliveryPolicy.setBackOffMultiplier(2);\r\n    \t\tredeliveryPolicy.setUseExponentialBackOff(true);\r\n    \t\tredeliveryPolicy.setMaximumRedeliveries(5);\r\n    \t\treturn redeliveryPolicy;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ConnectionFactory jmsConnectionFactory() {\r\n    \t\tActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;tcp://localhost:61616&quot;);\r\n    \t\tconnectionFactory.setRedeliveryPolicy(redeliveryPolicy());\r\n    \t\treturn connectionFactory;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n","title":"spring-boot-jms Redeliverypolicy bean ignored?","body":"<p><code>deadLetterStrategy</code> concerns broker, so you have to define beans as below</p>\n\n<p>take a look at \n<a href=\"http://activemq.apache.org/message-redelivery-and-dlq-handling.html\" rel=\"nofollow noreferrer\">http://activemq.apache.org/message-redelivery-and-dlq-handling.html</a></p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport javax.jms.ConnectionFactory;\n\nimport org.apache.activemq.ActiveMQConnectionFactory;\nimport org.apache.activemq.RedeliveryPolicy;\nimport org.apache.activemq.broker.BrokerService;\nimport org.apache.activemq.broker.region.policy.DeadLetterStrategy;\nimport org.apache.activemq.broker.region.policy.IndividualDeadLetterStrategy;\nimport org.apache.activemq.broker.region.policy.PolicyEntry;\nimport org.apache.activemq.broker.region.policy.PolicyMap;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.FilterType;\nimport org.springframework.stereotype.Component;\n\n@SpringBootApplication\n@Configuration\n@ComponentScan(excludeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION, classes = { Configuration.class,\n        Component.class }))\npublic class ActiveMQConfigurationDeadLetterStrategy {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext app = SpringApplication.run(ActiveMQConfigurationDeadLetterStrategy.class, args);\n    }\n\n    @Bean\n    public BrokerService broker() throws Exception {\n        final BrokerService broker = new BrokerService();\n        broker.addConnector(\"tcp://localhost:61616\");\n        broker.addConnector(\"vm://localhost\");\n        broker.setPersistent(false);\n        broker.setDestinationPolicy(policyMap());\n        return broker;\n    }\n\n    @Bean\n    public PolicyMap policyMap() {\n        PolicyMap destinationPolicy = new PolicyMap();\n        List&lt;PolicyEntry&gt; entries = new ArrayList&lt;PolicyEntry&gt;();\n        PolicyEntry queueEntry = new PolicyEntry();\n        queueEntry.setQueue(\"&gt;\");\n        queueEntry.setDeadLetterStrategy(deadLetterStrategy());\n        PolicyEntry topicEntry = new PolicyEntry();\n        topicEntry.setTopic(\"&gt;\");\n        topicEntry.setDeadLetterStrategy(deadLetterStrategy());\n        entries.add(queueEntry);\n        entries.add(topicEntry);\n        destinationPolicy.setPolicyEntries(entries);\n        return destinationPolicy;\n    }\n\n    @Bean\n    public DeadLetterStrategy deadLetterStrategy() {\n        IndividualDeadLetterStrategy deadLetterStrategy = new IndividualDeadLetterStrategy();\n        deadLetterStrategy.setQueueSuffix(\".dlq\");\n        deadLetterStrategy.setUseQueueForQueueMessages(true);\n        return deadLetterStrategy;\n    }\n\n    @Bean\n    public RedeliveryPolicy redeliveryPolicy() {\n        RedeliveryPolicy redeliveryPolicy = new RedeliveryPolicy();\n        redeliveryPolicy.setInitialRedeliveryDelay(5000);\n        redeliveryPolicy.setBackOffMultiplier(2);\n        redeliveryPolicy.setUseExponentialBackOff(true);\n        redeliveryPolicy.setMaximumRedeliveries(5);\n        return redeliveryPolicy;\n    }\n\n    @Bean\n    public ConnectionFactory jmsConnectionFactory() {\n        ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory();\n        connectionFactory.setRedeliveryPolicy(redeliveryPolicy());\n        return connectionFactory;\n    }\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>If you use an external AMQ the deadLetterStrategy can only be set in the destination policy map of the activemq.xml configuration file\nFor example :</p>\n\n<pre><code>&lt;broker&gt;\n\n  &lt;destinationPolicy&gt;\n    &lt;policyMap&gt;\n      &lt;policyEntries&gt;\n        &lt;!-- Set the following policy on all queues using the '&gt;' wildcard --&gt;\n        &lt;policyEntry queue=\"&gt;\"&gt;\n          &lt;deadLetterStrategy&gt;\n            &lt;!--\n              Use the prefix 'DLQ.' for the destination name, and make\n              the DLQ a queue rather than a topic\n            --&gt;\n            &lt;individualDeadLetterStrategy queuePrefix=\"DLQ.\" useQueueForQueueMessages=\"true\"/&gt;\n          &lt;/deadLetterStrategy&gt;\n        &lt;/policyEntry&gt;\n      &lt;/policyEntries&gt;\n    &lt;/policyMap&gt;\n  &lt;/destinationPolicy&gt;\n\n&lt;/broker&gt;\n\n\n\n\n\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.jms.ConnectionFactory;\n\nimport org.apache.activemq.ActiveMQConnectionFactory;\nimport org.apache.activemq.RedeliveryPolicy;\nimport org.apache.activemq.broker.BrokerService;\nimport org.apache.activemq.broker.region.policy.DeadLetterStrategy;\nimport org.apache.activemq.broker.region.policy.IndividualDeadLetterStrategy;\nimport org.apache.activemq.broker.region.policy.PolicyEntry;\nimport org.apache.activemq.broker.region.policy.PolicyMap;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.FilterType;\nimport org.springframework.stereotype.Component;\n\n@SpringBootApplication\n@Configuration\n@ComponentScan(excludeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION, classes = { Configuration.class,\n        Component.class }))\npublic class ActiveMQConfigurationDeadLetterStrategy {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext app = SpringApplication.run(ActiveMQConfigurationDeadLetterStrategy.class, args);\n    }\n\n    @Bean\n    public RedeliveryPolicy redeliveryPolicy() {\n        RedeliveryPolicy redeliveryPolicy = new RedeliveryPolicy();\n        redeliveryPolicy.setInitialRedeliveryDelay(5000);\n        redeliveryPolicy.setBackOffMultiplier(2);\n        redeliveryPolicy.setUseExponentialBackOff(true);\n        redeliveryPolicy.setMaximumRedeliveries(5);\n        return redeliveryPolicy;\n    }\n\n    @Bean\n    public ConnectionFactory jmsConnectionFactory() {\n        ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(\"tcp://localhost:61616\");\n        connectionFactory.setRedeliveryPolicy(redeliveryPolicy());\n        return connectionFactory;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12840968,"reputation":469,"user_id":9289030,"display_name":"Kristof Plennings"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3274,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49770042,"answer_count":1,"score":3,"last_activity_date":1696809570,"creation_date":1523432394,"question_id":49769219,"body_markdown":"So I&#39;m setting up Spring JMS with ActiveMQ, and I&#39;m testing my setup a bit.\r\n\r\nI&#39;m trying to setup a `RedeliveryPolicy` so it isn&#39;t instantly retried, but I noticed in my logging + ActiveMQ broker that it&#39;s instantly retried and not using my `RedeliveryPolicy` bean. Could anyone point me out what I&#39;m doing wrong? According to what I could find in the docs it seems to be correct. (and if anyone sees why my `individualdeadletterstrategy` is ignored but put on the general DLQ always welcome).\r\n```java\r\n    @Bean\r\n    public MessageConverter jacksonJmsMessageConverter() {\r\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n        converter.setTargetType(MessageType.TEXT);\r\n        converter.setTypeIdPropertyName(&quot;_type&quot;);\r\n        return converter;\r\n    }\r\n\r\n    @Bean\r\n    public DeadLetterStrategy deadLetterStrategy() {\r\n        IndividualDeadLetterStrategy deadLetterStrategy = new IndividualDeadLetterStrategy();\r\n        deadLetterStrategy.setQueueSuffix(&quot;.dlq&quot;);\r\n        deadLetterStrategy.setUseQueueForQueueMessages(true);\r\n        return deadLetterStrategy;\r\n    }\r\n\r\n    @Bean\r\n    public RedeliveryPolicy redeliveryPolicy() {\r\n        RedeliveryPolicy redeliveryPolicy = new RedeliveryPolicy();\r\n        redeliveryPolicy.setInitialRedeliveryDelay(5000);\r\n        redeliveryPolicy.setBackOffMultiplier(2);\r\n        redeliveryPolicy.setUseExponentialBackOff(true);\r\n        redeliveryPolicy.setMaximumRedeliveries(5);\r\n        return redeliveryPolicy;\r\n    }\r\n\r\n    @Bean\r\n    public Queue myQueue() {\r\n        return new ActiveMQQueue(&quot;myQueue&quot;);\r\n    }\r\n```","title":"spring-boot-jms Redeliverypolicy bean ignored?","body":"<p>So I'm setting up Spring JMS with ActiveMQ, and I'm testing my setup a bit.</p>\n<p>I'm trying to setup a <code>RedeliveryPolicy</code> so it isn't instantly retried, but I noticed in my logging + ActiveMQ broker that it's instantly retried and not using my <code>RedeliveryPolicy</code> bean. Could anyone point me out what I'm doing wrong? According to what I could find in the docs it seems to be correct. (and if anyone sees why my <code>individualdeadletterstrategy</code> is ignored but put on the general DLQ always welcome).</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public MessageConverter jacksonJmsMessageConverter() {\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n        converter.setTargetType(MessageType.TEXT);\n        converter.setTypeIdPropertyName(&quot;_type&quot;);\n        return converter;\n    }\n\n    @Bean\n    public DeadLetterStrategy deadLetterStrategy() {\n        IndividualDeadLetterStrategy deadLetterStrategy = new IndividualDeadLetterStrategy();\n        deadLetterStrategy.setQueueSuffix(&quot;.dlq&quot;);\n        deadLetterStrategy.setUseQueueForQueueMessages(true);\n        return deadLetterStrategy;\n    }\n\n    @Bean\n    public RedeliveryPolicy redeliveryPolicy() {\n        RedeliveryPolicy redeliveryPolicy = new RedeliveryPolicy();\n        redeliveryPolicy.setInitialRedeliveryDelay(5000);\n        redeliveryPolicy.setBackOffMultiplier(2);\n        redeliveryPolicy.setUseExponentialBackOff(true);\n        redeliveryPolicy.setMaximumRedeliveries(5);\n        return redeliveryPolicy;\n    }\n\n    @Bean\n    public Queue myQueue() {\n        return new ActiveMQQueue(&quot;myQueue&quot;);\n    }\n</code></pre>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":17715726,"reputation":2215,"user_id":12862111,"display_name":"apodidae"},"score":0,"creation_date":1696807633,"post_id":77255452,"comment_id":136196621,"body_markdown":"Error message states GToolTip class does not exist.","body":"Error message states GToolTip class does not exist."}],"answers":[{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696808377,"creation_date":1696808377,"answer_id":77255679,"question_id":77255452,"body_markdown":"You&#39;re close, but you still need 3 more &quot;ingredients&quot;:\r\n 1. your points should have labels (e.g. `dataPoints.add(1500, 5.0, &quot;Sample data point 1&quot;);`)\r\n 2. you should assign those points to the plot via `setPoints()`: `plot1.setPoints(dataPoints);`\r\n 3. you need to manually force drawing the labels in `draw()` (otherwise the labels will be rendered [*if* the mouse is pressed or dragged *and* `activatePointLabels()` was called][1]): `plot1.drawLabelsAt(mouseX, mouseY);` (within the plot&#39;s `beginDraw()`/`endDraw()` context calls)\r\n\r\n(You should also remove any code you don&#39;t use)\r\n\r\n```java\r\nimport grafica.*;\r\n\r\nGPlot plot1;\r\nGPointsArray dataPoints;\r\n\r\nvoid setup() {\r\n  size(1920, 1080);\r\n  createPlot();\r\n  \r\n}\r\n\r\nvoid createPlot() {\r\n  \r\n  plot1 = new GPlot(this);\r\n  plot1.setPos(0, 0);\r\n  plot1.setDim(1280, 720);\r\n  plot1.getTitle().setText(&quot;MAP A&quot;);\r\n  plot1.getXAxis().getAxisLabel().setText(&quot;Vehicle Weight (lbs)&quot;);\r\n  plot1.getYAxis().getAxisLabel().setText(&quot;Acceleration time 0 to 60 (Sec)&quot;);\r\n  plot1.setPointColor(color(0, 0, 0, 255));\r\n  plot1.setPointSize(30);\r\n  \r\n  // Sample data points\r\n  dataPoints = new GPointsArray();\r\n  dataPoints.add(1500/2, 5.0, &quot;sample data point 1&quot;);\r\n  dataPoints.add(2000/2, 6.5, &quot;sample data point 2&quot;);\r\n  dataPoints.add(2500/2, 4.2, &quot;sample data point 3&quot;);\r\n  dataPoints.add(1800/2, 5.8, &quot;sample data point 4&quot;);\r\n  // populate plot with points\r\n  plot1.setPoints(dataPoints);\r\n}\r\n\r\nvoid draw() {\r\n  plot1.beginDraw();\r\n  plot1.drawBackground();\r\n  plot1.drawBox();\r\n  plot1.drawXAxis();\r\n  plot1.drawYAxis();\r\n  plot1.drawTitle();\r\n  plot1.drawGridLines(GPlot.BOTH);\r\n  plot1.drawPoints(); \r\n  // force drawing labels on hover\r\n  plot1.drawLabelsAt(mouseX, mouseY);\r\n  plot1.endDraw();\r\n}\r\n```\r\n(I tweaked the sketch dimensions and plot point coordinates to fit on my laptop screen: feel free to adjust as needed of course)\r\n\r\nThis is the first time I use this library and noticed the [library website][2] isn&#39;t hosting the documentation. Processing libraries tend to come with javadocs generated documentation. You should be able to find that in **Documents/Processing/libraries/grafica/reference**.\r\n\r\n\r\n  [1]: https://github.com/jagracar/grafica/blob/master/src/grafica/GPlot.java#L2942C9-L2942C9\r\n  [2]: https://jagracar.com/grafica.php","title":"I&#39;m having issues displaying text on a point in a graph when you hover over it in Processing4","body":"<p>You're close, but you still need 3 more &quot;ingredients&quot;:</p>\n<ol>\n<li>your points should have labels (e.g. <code>dataPoints.add(1500, 5.0, &quot;Sample data point 1&quot;);</code>)</li>\n<li>you should assign those points to the plot via <code>setPoints()</code>: <code>plot1.setPoints(dataPoints);</code></li>\n<li>you need to manually force drawing the labels in <code>draw()</code> (otherwise the labels will be rendered <a href=\"https://github.com/jagracar/grafica/blob/master/src/grafica/GPlot.java#L2942C9-L2942C9\" rel=\"nofollow noreferrer\"><em>if</em> the mouse is pressed or dragged <em>and</em> <code>activatePointLabels()</code> was called</a>): <code>plot1.drawLabelsAt(mouseX, mouseY);</code> (within the plot's <code>beginDraw()</code>/<code>endDraw()</code> context calls)</li>\n</ol>\n<p>(You should also remove any code you don't use)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import grafica.*;\n\nGPlot plot1;\nGPointsArray dataPoints;\n\nvoid setup() {\n  size(1920, 1080);\n  createPlot();\n  \n}\n\nvoid createPlot() {\n  \n  plot1 = new GPlot(this);\n  plot1.setPos(0, 0);\n  plot1.setDim(1280, 720);\n  plot1.getTitle().setText(&quot;MAP A&quot;);\n  plot1.getXAxis().getAxisLabel().setText(&quot;Vehicle Weight (lbs)&quot;);\n  plot1.getYAxis().getAxisLabel().setText(&quot;Acceleration time 0 to 60 (Sec)&quot;);\n  plot1.setPointColor(color(0, 0, 0, 255));\n  plot1.setPointSize(30);\n  \n  // Sample data points\n  dataPoints = new GPointsArray();\n  dataPoints.add(1500/2, 5.0, &quot;sample data point 1&quot;);\n  dataPoints.add(2000/2, 6.5, &quot;sample data point 2&quot;);\n  dataPoints.add(2500/2, 4.2, &quot;sample data point 3&quot;);\n  dataPoints.add(1800/2, 5.8, &quot;sample data point 4&quot;);\n  // populate plot with points\n  plot1.setPoints(dataPoints);\n}\n\nvoid draw() {\n  plot1.beginDraw();\n  plot1.drawBackground();\n  plot1.drawBox();\n  plot1.drawXAxis();\n  plot1.drawYAxis();\n  plot1.drawTitle();\n  plot1.drawGridLines(GPlot.BOTH);\n  plot1.drawPoints(); \n  // force drawing labels on hover\n  plot1.drawLabelsAt(mouseX, mouseY);\n  plot1.endDraw();\n}\n</code></pre>\n<p>(I tweaked the sketch dimensions and plot point coordinates to fit on my laptop screen: feel free to adjust as needed of course)</p>\n<p>This is the first time I use this library and noticed the <a href=\"https://jagracar.com/grafica.php\" rel=\"nofollow noreferrer\">library website</a> isn't hosting the documentation. Processing libraries tend to come with javadocs generated documentation. You should be able to find that in <strong>Documents/Processing/libraries/grafica/reference</strong>.</p>\n"}],"owner":{"account_id":26623937,"reputation":9,"user_id":20242262,"display_name":"Elvis C."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1696808377,"creation_date":1696801647,"question_id":77255452,"body_markdown":"I&#39;m having issues displaying text on a point in a graph when you hover over it in Processing4.\r\n\r\nI have tried using a loop to display the text but it seems the graph plot doesn&#39;t allow anything display on it. \r\n\r\nI dont know what else to do.\r\nI have tried using the GTooltip function in the G4P library (with no success).\r\n\r\nHere&#39;s my attempt so far:\r\n```\r\nimport interfascia.*;\r\n\r\nimport controlP5.*;\r\n\r\nimport grafica.*;\r\n\r\nimport g4p_controls.*;\r\n\r\nGPlot plot1;\r\nGButton clearButton;\r\nGButton updateButton;\r\nGPointsArray dataPoints;\r\nGToolTip tooltip;\r\n\r\nvoid setup() {\r\n  size(2000, 1300);\r\n  createGUI();\r\n  createPlot();\r\n}\r\n\r\nvoid createGUI() {}\r\n\r\nvoid createPlot() {\r\n  plot1 = new GPlot(this);\r\n  plot1.setPos(0, 0);\r\n  plot1.setDim(1500, 1000);\r\n  plot1.getTitle().setText(&quot;MAP A&quot;);\r\n  plot1.getXAxis().getAxisLabel().setText(&quot;Vehicle Weight (lbs)&quot;);\r\n  plot1.getYAxis().getAxisLabel().setText(&quot;Acceleration time 0 to 60 (Sec)&quot;);\r\n  plot1.setPointColor(color(0, 0, 0, 255));\r\n  plot1.setPointSize(10);\r\n\r\n  // Sample data points\r\n  dataPoints = new GPointsArray();\r\n  dataPoints.add(1500, 5.0);  // Sample data point 1\r\n  dataPoints.add(2000, 6.5);  // Sample data point 2\r\n  dataPoints.add(2500, 4.2);  // Sample data point 3\r\n  dataPoints.add(1800, 5.8);  // Sample data point 4\r\n\r\n  \r\n}\r\n\r\nvoid draw() {\r\n  plot1.beginDraw();\r\n  plot1.drawBackground();\r\n  plot1.drawBox();\r\n  plot1.drawXAxis();\r\n  plot1.drawYAxis();\r\n  plot1.drawTitle();\r\n  plot1.drawGridLines(GPlot.BOTH);\r\n  plot1.drawPoints(); \r\n  plot1.endDraw();\r\n}\r\n\r\n\r\n```\r\n","title":"I&#39;m having issues displaying text on a point in a graph when you hover over it in Processing4","body":"<p>I'm having issues displaying text on a point in a graph when you hover over it in Processing4.</p>\n<p>I have tried using a loop to display the text but it seems the graph plot doesn't allow anything display on it.</p>\n<p>I dont know what else to do.\nI have tried using the GTooltip function in the G4P library (with no success).</p>\n<p>Here's my attempt so far:</p>\n<pre><code>import interfascia.*;\n\nimport controlP5.*;\n\nimport grafica.*;\n\nimport g4p_controls.*;\n\nGPlot plot1;\nGButton clearButton;\nGButton updateButton;\nGPointsArray dataPoints;\nGToolTip tooltip;\n\nvoid setup() {\n  size(2000, 1300);\n  createGUI();\n  createPlot();\n}\n\nvoid createGUI() {}\n\nvoid createPlot() {\n  plot1 = new GPlot(this);\n  plot1.setPos(0, 0);\n  plot1.setDim(1500, 1000);\n  plot1.getTitle().setText(&quot;MAP A&quot;);\n  plot1.getXAxis().getAxisLabel().setText(&quot;Vehicle Weight (lbs)&quot;);\n  plot1.getYAxis().getAxisLabel().setText(&quot;Acceleration time 0 to 60 (Sec)&quot;);\n  plot1.setPointColor(color(0, 0, 0, 255));\n  plot1.setPointSize(10);\n\n  // Sample data points\n  dataPoints = new GPointsArray();\n  dataPoints.add(1500, 5.0);  // Sample data point 1\n  dataPoints.add(2000, 6.5);  // Sample data point 2\n  dataPoints.add(2500, 4.2);  // Sample data point 3\n  dataPoints.add(1800, 5.8);  // Sample data point 4\n\n  \n}\n\nvoid draw() {\n  plot1.beginDraw();\n  plot1.drawBackground();\n  plot1.drawBox();\n  plot1.drawXAxis();\n  plot1.drawYAxis();\n  plot1.drawTitle();\n  plot1.drawGridLines(GPlot.BOTH);\n  plot1.drawPoints(); \n  plot1.endDraw();\n}\n\n\n</code></pre>\n"},{"tags":["java","hive"],"answers":[{"comments":[{"owner":{"account_id":4524298,"reputation":1987,"user_id":3676621,"accept_rate":25,"display_name":"Reena Upadhyay"},"score":0,"creation_date":1448879434,"post_id":33994479,"comment_id":55748473,"body_markdown":"I used both of the configuration parameter in connection string. It did not worked. jdbc:hive2://192.168.145.182:10000/;hive.server2.idle.session.timeout=5000ms;hive.server2.session.check.interval=4000ms","body":"I used both of the configuration parameter in connection string. It did not worked. jdbc:hive2://192.168.145.182:10000/;hive.server2.idle.sessio&zwnj;&#8203;n.timeout=5000ms;hiv&zwnj;&#8203;e.server2.session.ch&zwnj;&#8203;eck.interval=4000ms"},{"owner":{"account_id":414825,"reputation":567,"user_id":789261,"display_name":"Muhammad Haris Altaf"},"score":0,"creation_date":1452871555,"post_id":33994479,"comment_id":57370711,"body_markdown":"@ReenaUpadhyay did you find some solution for that? I have read this link and it seems useful but i haven&#39;t tried it yet http://www.ericlin.me/how-to-configue-session-timeout-in-hive\nMoreover, in my case my spark application is killed after some undefined idle interval without any log indication and once it is started again my jboss server can&#39;t reconnect to it","body":"@ReenaUpadhyay did you find some solution for that? I have read this link and it seems useful but i haven&#39;t tried it yet <a href=\"http://www.ericlin.me/how-to-configue-session-timeout-in-hive\" rel=\"nofollow noreferrer\">ericlin.me/how-to-configue-session-timeout-in-hive</a> Moreover, in my case my spark application is killed after some undefined idle interval without any log indication and once it is started again my jboss server can&#39;t reconnect to it"}],"tags":[],"owner":{"account_id":6584319,"reputation":63,"user_id":5087549,"display_name":"sandy"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448872932,"creation_date":1448872932,"answer_id":33994479,"question_id":33993706,"body_markdown":"The  hive.server2.idle.session.timeout causes a session to be terminated when it is not accessed for the specified duration. However, hive.server2.idle.session.timeout needs to be specified with hive.server2.session.check.interval set to \r\na positive value. basically, we need to be specify a number of session checks within the timeout interval to cause the session to be closed.\r\n\r\nMore details can be checked here\r\nhttps://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.server2.session.check.interval","title":"How to set idle Hive jdbc connection out from java code using hive jdbc","body":"<p>The  hive.server2.idle.session.timeout causes a session to be terminated when it is not accessed for the specified duration. However, hive.server2.idle.session.timeout needs to be specified with hive.server2.session.check.interval set to \na positive value. basically, we need to be specify a number of session checks within the timeout interval to cause the session to be closed.</p>\n\n<p>More details can be checked here\n<a href=\"https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.server2.session.check.interval\" rel=\"nofollow\">https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.server2.session.check.interval</a></p>\n"},{"tags":[],"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1490857794,"creation_date":1452897145,"answer_id":34820985,"question_id":33993706,"body_markdown":"You are looking at the problem the wrong way. These properties are **not** set in the URL, as described in the [Hive AdminManual][1]...\r\n\r\nIn the Hadoop ecosystem, **server defaults** are set in XML config files -- in that case `/etc/hive/conf/hive-site.xml` and/or `hiveserver2-site.xml`\r\n\r\nOnce your session is open, you can set **custom values** with the `set &lt;prop&gt;=&lt;value&gt;` statement *(somewhat similar to the Oracle ALTER SESSION)*.\r\n\r\nCaveat: some properties are defined as &quot;final&quot; in the config files and cannot be overriden. Check with your Hadoop Admin if in doubt.\r\n\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/Hive/AdminManual+Configuration","title":"How to set idle Hive jdbc connection out from java code using hive jdbc","body":"<p>You are looking at the problem the wrong way. These properties are <strong>not</strong> set in the URL, as described in the <a href=\"https://cwiki.apache.org/confluence/display/Hive/AdminManual+Configuration\" rel=\"nofollow noreferrer\">Hive AdminManual</a>...</p>\n\n<p>In the Hadoop ecosystem, <strong>server defaults</strong> are set in XML config files -- in that case <code>/etc/hive/conf/hive-site.xml</code> and/or <code>hiveserver2-site.xml</code></p>\n\n<p>Once your session is open, you can set <strong>custom values</strong> with the <code>set &lt;prop&gt;=&lt;value&gt;</code> statement <em>(somewhat similar to the Oracle ALTER SESSION)</em>.</p>\n\n<p>Caveat: some properties are defined as \"final\" in the config files and cannot be overriden. Check with your Hadoop Admin if in doubt.</p>\n"}],"owner":{"account_id":4524298,"reputation":1987,"user_id":3676621,"accept_rate":25,"display_name":"Reena Upadhyay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696806125,"creation_date":1448869692,"question_id":33993706,"body_markdown":"I am using hive jdbc 1.0 in my java application to create connection with hive server and execute query. I want to set the idle hive connection timeout from java code. Like say, user first creates the hive connection, and if the hive connection remains idle for next 10 minutes, then this connection object should get expired. If user uses this same connection object after 10 minutes for executing query, then hive jdbc should throw error. Can you please tell me the way to achieve this through java code.\r\n\r\nI know there is a property `hive.server2.idle.session.timeout` in hive, but I don&#39;t know whether this is the right property required to be set from java code or there is some other property. I tried setting this property in jdbc connection string but it did not worked.\r\n\r\n    try {\r\n        Class.forName(&quot;org.apache.hive.jdbc.HiveDriver&quot;);\r\n    } catch (ClassNotFoundException e) {\r\n        LOG.error(ExceptionUtils.getStackTrace(e));\r\n    }\r\n        \r\n    String jdbcurl = &quot;jdbc:hive2://localhost:10000/idw?hive.server2.idle.session.timeout=1000ms&quot;;\r\n    Connection con;\r\n    con = DriverManager.getConnection(jdbcurl,&quot;root&quot;,&quot;&quot;);\r\n                    \r\n    Thread.sleep(3000);\r\n\r\nNow below I am using connection object, hive jdbc should throw error here as I used connection object after 3000 ms but I had set the idle timeout as 1000ms but hive jdbc had not thrown error \r\n\r\n    ResultSet rs = con.createStatement().executeQuery(&quot;select * from idw.emp&quot;);\r\n\r\nNeed help on this.","title":"How to set idle Hive jdbc connection out from java code using hive jdbc","body":"<p>I am using hive jdbc 1.0 in my java application to create connection with hive server and execute query. I want to set the idle hive connection timeout from java code. Like say, user first creates the hive connection, and if the hive connection remains idle for next 10 minutes, then this connection object should get expired. If user uses this same connection object after 10 minutes for executing query, then hive jdbc should throw error. Can you please tell me the way to achieve this through java code.</p>\n\n<p>I know there is a property <code>hive.server2.idle.session.timeout</code> in hive, but I don't know whether this is the right property required to be set from java code or there is some other property. I tried setting this property in jdbc connection string but it did not worked.</p>\n\n<pre><code>try {\n    Class.forName(\"org.apache.hive.jdbc.HiveDriver\");\n} catch (ClassNotFoundException e) {\n    LOG.error(ExceptionUtils.getStackTrace(e));\n}\n\nString jdbcurl = \"jdbc:hive2://localhost:10000/idw?hive.server2.idle.session.timeout=1000ms\";\nConnection con;\ncon = DriverManager.getConnection(jdbcurl,\"root\",\"\");\n\nThread.sleep(3000);\n</code></pre>\n\n<p>Now below I am using connection object, hive jdbc should throw error here as I used connection object after 3000 ms but I had set the idle timeout as 1000ms but hive jdbc had not thrown error </p>\n\n<pre><code>ResultSet rs = con.createStatement().executeQuery(\"select * from idw.emp\");\n</code></pre>\n\n<p>Need help on this.</p>\n"},{"tags":["java","hibernate","jpa","single-table-inheritance","discriminator"],"answers":[{"tags":[],"owner":{"account_id":11343192,"reputation":642,"user_id":8316534,"display_name":"Vitalii Muzalevskyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1502049110,"creation_date":1502049110,"answer_id":45536005,"question_id":45533514,"body_markdown":"I&#39;m think you have this problem because you specified wrong parameter of `@DiscriminatorColumn` anotation, you should use `name` instead of `columnDefinition`.","title":"Hibernate ignoring discriminator column - always using &#39;dtype&#39;","body":"<p>I'm think you have this problem because you specified wrong parameter of <code>@DiscriminatorColumn</code> anotation, you should use <code>name</code> instead of <code>columnDefinition</code>.</p>\n"}],"owner":{"account_id":10015178,"reputation":73,"user_id":7406734,"display_name":"Ian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2900,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45536005,"answer_count":1,"score":2,"last_activity_date":1696805342,"creation_date":1502033043,"question_id":45533514,"body_markdown":"I have a strange situation in my SINGLE_TAB inheritance Hibernate config whereby the @DiscriminatorColumn seems to be ignored and the query is always defaulting back to the &#39;dtype&#39; column. It&#39;s like the behaviour I would see when I had not included the annotation at all (the default column name being &#39;dtype&#39;).\r\n\r\nBase entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;post&quot;)\r\n    @Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n    @DiscriminatorColumn(columnDefinition = &quot;post_type&quot;, discriminatorType = DiscriminatorType.STRING)\r\n    public class Post {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;title&quot;)\r\n        private String title;\r\n    \r\n        @Column(name = &quot;body&quot;)\r\n        private String body;\r\n    \r\n        @NotNull\r\n        @Column(name = &quot;post_type&quot;, insertable = false, updatable = false)\r\n        private String postType;\r\n    \r\n        // other simple columns\r\n    \r\n    \r\n    \r\n        // ommit getters/setters + hashcode etc\r\n    }\r\n\r\nSubclass entity:\r\n\r\n    @Entity\r\n    @DiscriminatorValue(value = &quot;EVENT&quot;)\r\n    public class Event extends Post {\r\n    \r\n        // ommitted basic methods, no extra config\r\n    \r\n    }\r\n\r\nI also need access to the discriminator value itself within each object (the postType field). I still have the same behaviour even if I remove it so it doesn&#39;t seem to be the cause.\r\n\r\nWhen I try to do a query on the subclass through a JPA repository:\r\n\r\n    public interface EventRepository extends JpaRepository&lt;Event, Integer&gt; {\r\n        List&lt;Event&gt; findAll();\r\n    }\r\n\r\nHibernate generates the query:\r\n\r\n    select post0_.id as id2_4_, post0_.bodyl as body_bod3_4_, post0_.title as title12_4_ \r\n    from post post0_ \r\n    where post0_.dtype=&#39;EVENT&#39;\r\n\r\nwhich of course generates an error as &#39;dtype&#39; doesn&#39;t exist in the table.\r\n\r\nThe strange thing is that if I use @DiscriminatorFormula(&quot;post_type&quot;) on the Post entity instead, everything seems to work. It is however slower so I would prefer to use the @DiscriminatorColumn as it should fit my needs exactly.\r\n\r\nI am using Hibernate 5.2.10-FINAL and Spring Data JPA 1.11.4 (or generally the latest of hopefully everything).\r\n\r\nAny ideas on what could be causing this?\r\n","title":"Hibernate ignoring discriminator column - always using &#39;dtype&#39;","body":"<p>I have a strange situation in my SINGLE_TAB inheritance Hibernate config whereby the @DiscriminatorColumn seems to be ignored and the query is always defaulting back to the 'dtype' column. It's like the behaviour I would see when I had not included the annotation at all (the default column name being 'dtype').</p>\n\n<p>Base entity:</p>\n\n<pre><code>@Entity\n@Table(name = \"post\")\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(columnDefinition = \"post_type\", discriminatorType = DiscriminatorType.STRING)\npublic class Post {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    @Column(name = \"title\")\n    private String title;\n\n    @Column(name = \"body\")\n    private String body;\n\n    @NotNull\n    @Column(name = \"post_type\", insertable = false, updatable = false)\n    private String postType;\n\n    // other simple columns\n\n\n\n    // ommit getters/setters + hashcode etc\n}\n</code></pre>\n\n<p>Subclass entity:</p>\n\n<pre><code>@Entity\n@DiscriminatorValue(value = \"EVENT\")\npublic class Event extends Post {\n\n    // ommitted basic methods, no extra config\n\n}\n</code></pre>\n\n<p>I also need access to the discriminator value itself within each object (the postType field). I still have the same behaviour even if I remove it so it doesn't seem to be the cause.</p>\n\n<p>When I try to do a query on the subclass through a JPA repository:</p>\n\n<pre><code>public interface EventRepository extends JpaRepository&lt;Event, Integer&gt; {\n    List&lt;Event&gt; findAll();\n}\n</code></pre>\n\n<p>Hibernate generates the query:</p>\n\n<pre><code>select post0_.id as id2_4_, post0_.bodyl as body_bod3_4_, post0_.title as title12_4_ \nfrom post post0_ \nwhere post0_.dtype='EVENT'\n</code></pre>\n\n<p>which of course generates an error as 'dtype' doesn't exist in the table.</p>\n\n<p>The strange thing is that if I use @DiscriminatorFormula(\"post_type\") on the Post entity instead, everything seems to work. It is however slower so I would prefer to use the @DiscriminatorColumn as it should fit my needs exactly.</p>\n\n<p>I am using Hibernate 5.2.10-FINAL and Spring Data JPA 1.11.4 (or generally the latest of hopefully everything).</p>\n\n<p>Any ideas on what could be causing this?</p>\n"},{"tags":["java","jsp","include","jsp-tags","tagfile"],"answers":[{"comments":[{"owner":{"account_id":1399208,"reputation":6264,"user_id":1328300,"accept_rate":79,"display_name":"Uooo"},"score":1,"creation_date":1360245229,"post_id":14580718,"comment_id":20646559,"body_markdown":"Do you mean like you showed in your question: `&lt;t:mytag&gt;&lt;h1&gt;Hello World&lt;/h1&gt;&lt;/t:mytag&gt;`? That&#39;s not an include, it&#39;s the normal use of a tag (like `&lt;jsp:useBean&gt;` or `&lt;c:if&gt;`).","body":"Do you mean like you showed in your question: <code>&lt;t:mytag&gt;&lt;h1&gt;Hello World&lt;&#47;h1&gt;&lt;&#47;t:mytag&gt;</code>? That&#39;s not an include, it&#39;s the normal use of a tag (like <code>&lt;jsp:useBean&gt;</code> or <code>&lt;c:if&gt;</code>)."},{"owner":{"account_id":1986060,"reputation":4978,"user_id":1814823,"accept_rate":65,"display_name":"sonicboom"},"score":0,"creation_date":1360279566,"post_id":14580718,"comment_id":20664262,"body_markdown":"So what is the difference between using tag files and includes as it seems tag files can be used to include content in a page?","body":"So what is the difference between using tag files and includes as it seems tag files can be used to include content in a page?"}],"tags":[],"owner":{"account_id":1360098,"reputation":433,"user_id":1297631,"accept_rate":88,"display_name":"Darth"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1359455212,"creation_date":1359455212,"answer_id":14580718,"question_id":14580120,"body_markdown":"[Possible Duplicate Question][1]\r\n\r\n`&lt;@include&gt;` - The directive tag instructs the JSP compiler to merge contents of the included file into the JSP before creating the generated servlet code. It is the equivalent to cutting and pasting the text from your include page right into your JSP.\r\n\r\n\r\n - Only one servlet is executed at run time.\r\n - Scriptlet variables declared in the parent page can be accessed in the included page (remember, they are the same page).\r\n - The included page does not need to able to be compiled as a standalone JSP. It can be a code fragment or plain text. The included page will never be compiled as a standalone. The included page can also have any extension, though .jspf has become a conventionally used extension.\r\n - One drawback on older containers is that changes to the include pages may not take effect until the parent page is updated. Recent versions of Tomcat will check the include pages for updates and force a recompile of the parent if they&#39;re updated.\r\n - A further drawback is that since the code is inlined directly into the service method of the generated servlet, the method can grow very large. If it exceeds 64 KB, your JSP compilation will likely fail.\r\n\r\n`&lt;jsp:include&gt;` - The JSP Action tag on the other hand instructs the container to pause the execution of this page, go run the included page, and merge the output from that page into the output from this page.\r\n\r\n - Each included page is executed as a separate servlet at run time.\r\n - Pages can conditionally be included at run time. This is often useful for templating frameworks that build pages out of includes. The parent page can determine which page, if any, to include according to some run-time condition.\r\n - The values of scriptlet variables need to be explicitly passed to the include page.\r\n - The included page must be able to be run on its own.\r\n - You are less likely to run into compilation errors due to the maximum method size being exceeded in the generated servlet class.\r\n\r\n&gt; Depending on your needs, you may either use `&lt;@include&gt;` or\r\n&gt; `&lt;jsp:include&gt;`\r\n\r\n  [1]: https://stackoverflow.com/questions/7879906/what-is-the-difference-between-jspinclude-page-and-include-file","title":"What&#39;s the difference between including files with JSP include directive, JSP include action and using JSP Tag Files?","body":"<p><a href=\"https://stackoverflow.com/questions/7879906/what-is-the-difference-between-jspinclude-page-and-include-file\">Possible Duplicate Question</a></p>\n\n<p><code>&lt;@include&gt;</code> - The directive tag instructs the JSP compiler to merge contents of the included file into the JSP before creating the generated servlet code. It is the equivalent to cutting and pasting the text from your include page right into your JSP.</p>\n\n<ul>\n<li>Only one servlet is executed at run time.</li>\n<li>Scriptlet variables declared in the parent page can be accessed in the included page (remember, they are the same page).</li>\n<li>The included page does not need to able to be compiled as a standalone JSP. It can be a code fragment or plain text. The included page will never be compiled as a standalone. The included page can also have any extension, though .jspf has become a conventionally used extension.</li>\n<li>One drawback on older containers is that changes to the include pages may not take effect until the parent page is updated. Recent versions of Tomcat will check the include pages for updates and force a recompile of the parent if they're updated.</li>\n<li>A further drawback is that since the code is inlined directly into the service method of the generated servlet, the method can grow very large. If it exceeds 64 KB, your JSP compilation will likely fail.</li>\n</ul>\n\n<p><code>&lt;jsp:include&gt;</code> - The JSP Action tag on the other hand instructs the container to pause the execution of this page, go run the included page, and merge the output from that page into the output from this page.</p>\n\n<ul>\n<li>Each included page is executed as a separate servlet at run time.</li>\n<li>Pages can conditionally be included at run time. This is often useful for templating frameworks that build pages out of includes. The parent page can determine which page, if any, to include according to some run-time condition.</li>\n<li>The values of scriptlet variables need to be explicitly passed to the include page.</li>\n<li>The included page must be able to be run on its own.</li>\n<li>You are less likely to run into compilation errors due to the maximum method size being exceeded in the generated servlet class.</li>\n</ul>\n\n<blockquote>\n  <p>Depending on your needs, you may either use <code>&lt;@include&gt;</code> or\n  <code>&lt;jsp:include&gt;</code></p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1986060,"reputation":4978,"user_id":1814823,"accept_rate":65,"display_name":"sonicboom"},"score":0,"creation_date":1360279469,"post_id":14760220,"comment_id":20664225,"body_markdown":"What about tagfiles, I know how inlcudes work. I&#39;m wondering how tag files relate to includes as it seems they provide the same functionality. What is the differrence between using tagfiles and using includes?","body":"What about tagfiles, I know how inlcudes work. I&#39;m wondering how tag files relate to includes as it seems they provide the same functionality. What is the differrence between using tagfiles and using includes?"},{"owner":{"account_id":2799929,"reputation":8527,"user_id":2408342,"accept_rate":90,"display_name":"Roshana Pitigala"},"score":0,"creation_date":1575001029,"post_id":14760220,"comment_id":104430393,"body_markdown":"how about `&lt;%@include file=&quot;somefile.jsp?menu=value&quot; %&gt;`? Is that restricted too?","body":"how about <code>&lt;%@include file=&quot;somefile.jsp?menu=value&quot; %&gt;</code>? Is that restricted too?"}],"tags":[],"owner":{"account_id":1070146,"reputation":427,"user_id":1069633,"display_name":"Saurabh Ande"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1466628310,"creation_date":1360268315,"answer_id":14760220,"question_id":14580120,"body_markdown":"Main advantage of `&lt;jsp:include /&gt;` over `&lt;%@ include &gt;` is:\r\n\r\n`&lt;jsp:include /&gt;` allows to pass parameters\r\n\r\n    &lt;jsp:include page=&quot;inclusion.jsp&quot;&gt;\r\n        &lt;jsp:param name=&quot;menu&quot; value=&quot;objectValue&quot;/&gt;\r\n    &lt;/jsp:include&gt;\r\n\r\n \r\n\r\nwhich is not possible in `&lt;%@include file=&quot;somefile.jsp&quot; %&gt;`\r\n    \r\n\r\n","title":"What&#39;s the difference between including files with JSP include directive, JSP include action and using JSP Tag Files?","body":"<p>Main advantage of <code>&lt;jsp:include /&gt;</code> over <code>&lt;%@ include &gt;</code> is:</p>\n\n<p><code>&lt;jsp:include /&gt;</code> allows to pass parameters</p>\n\n<pre><code>&lt;jsp:include page=\"inclusion.jsp\"&gt;\n    &lt;jsp:param name=\"menu\" value=\"objectValue\"/&gt;\n&lt;/jsp:include&gt;\n</code></pre>\n\n<p>which is not possible in <code>&lt;%@include file=\"somefile.jsp\" %&gt;</code></p>\n"},{"comments":[{"owner":{"account_id":1986060,"reputation":4978,"user_id":1814823,"accept_rate":65,"display_name":"sonicboom"},"score":1,"creation_date":1360284022,"post_id":14763794,"comment_id":20665680,"body_markdown":"But isn&#39;t &lt;jsp:include&gt; the same as using tag files? I can&#39;t see any difference...You can pass variables to files included with &lt;jsp:include&gt; just as you can pass variables to tag files. Both methods let you re-use content, they seem to do exactly the same thing. Is there any difference between them other than their names?","body":"But isn&#39;t &lt;jsp:include&gt; the same as using tag files? I can&#39;t see any difference...You can pass variables to files included with &lt;jsp:include&gt; just as you can pass variables to tag files. Both methods let you re-use content, they seem to do exactly the same thing. Is there any difference between them other than their names?"},{"owner":{"account_id":104823,"reputation":2772,"user_id":280043,"accept_rate":50,"display_name":"Russell Silva"},"score":2,"creation_date":1384454863,"post_id":14763794,"comment_id":29753735,"body_markdown":"@informatik01 very nice answer, I appreciate the depth, the nice formatting and the very handy 4 mechanisms list.","body":"@informatik01 very nice answer, I appreciate the depth, the nice formatting and the very handy 4 mechanisms list."},{"owner":{"account_id":1803342,"reputation":305,"user_id":1641086,"accept_rate":73,"display_name":"Chaitanya Gudala"},"score":2,"creation_date":1389772386,"post_id":14763794,"comment_id":31799882,"body_markdown":"what exactly is the advantage of &lt;jsp:include&gt; over &lt;*@ include url..&gt; ?","body":"what exactly is the advantage of &lt;jsp:include&gt; over &lt;*@ include url..&gt; ?"},{"owner":{"account_id":430960,"reputation":16088,"user_id":814702,"accept_rate":100,"display_name":"informatik01"},"score":0,"creation_date":1389799728,"post_id":14763794,"comment_id":31816901,"body_markdown":"@KrsnaChaitanya Note: you have a typo (the asterisk `*`) in the include directive. `&lt;jsp:include&gt;` is a standard include **action**, `&lt;%@ include file=&quot;&quot; %&gt;` is the include **directive**. Read the very last section (in the grey box) which outlines the advantages (i.e. recommendations when to choose one or another). Also check out this [article](http://sharat.wordpress.com/2006/08/28/10-what-is-the-difference-between-pagedirective-include-action-tag-include/) for the detailed description. Hope this helps.","body":"@KrsnaChaitanya Note: you have a typo (the asterisk <code>*</code>) in the include directive. <code>&lt;jsp:include&gt;</code> is a standard include <b>action</b>, <code>&lt;%@ include file=&quot;&quot; %&gt;</code> is the include <b>directive</b>. Read the very last section (in the grey box) which outlines the advantages (i.e. recommendations when to choose one or another). Also check out this <a href=\"http://sharat.wordpress.com/2006/08/28/10-what-is-the-difference-between-pagedirective-include-action-tag-include/\" rel=\"nofollow noreferrer\">article</a> for the detailed description. Hope this helps."},{"owner":{"account_id":19402702,"reputation":989,"user_id":14188899,"display_name":"Stefan"},"score":0,"creation_date":1610238846,"post_id":14763794,"comment_id":116070425,"body_markdown":"@informatik01 Does that mean that using `include standard action`, included page will be translated every single time when we &quot;asked for it&quot;? Because if it was translated only once, it wouldn&#39;t be **dynamic**, right? I mean it won&#39;t see any changed content.","body":"@informatik01 Does that mean that using <code>include standard action</code>, included page will be translated every single time when we &quot;asked for it&quot;? Because if it was translated only once, it wouldn&#39;t be <b>dynamic</b>, right? I mean it won&#39;t see any changed content."},{"owner":{"account_id":430960,"reputation":16088,"user_id":814702,"accept_rate":100,"display_name":"informatik01"},"score":2,"creation_date":1610248358,"post_id":14763794,"comment_id":116071685,"body_markdown":"@Stefan Not every single time, but only IF it was changed, i.e. the same way as with the containing (&quot;parent&quot;) JSP. See [this answer](https://stackoverflow.com/a/9768153/814702) for the example of the resulting code when `&lt;jsp:include&gt;` is used. Also this is very helpful description of the [&quot;JSP Execution&quot;](https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#sthref115) process.","body":"@Stefan Not every single time, but only IF it was changed, i.e. the same way as with the containing (&quot;parent&quot;) JSP. See <a href=\"https://stackoverflow.com/a/9768153/814702\">this answer</a> for the example of the resulting code when <code>&lt;jsp:include&gt;</code> is used. Also this is very helpful description of the <a href=\"https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#sthref115\" rel=\"nofollow noreferrer\">&quot;JSP Execution&quot;</a> process."}],"tags":[],"owner":{"account_id":430960,"reputation":16088,"user_id":814702,"accept_rate":100,"display_name":"informatik01"},"comment_count":6,"down_vote_count":0,"up_vote_count":303,"is_accepted":true,"score":303,"last_activity_date":1696804340,"creation_date":1360283701,"answer_id":14763794,"question_id":14580120,"body_markdown":"## Overview of JSP Syntax Elements\r\nFirst, to make things more clear, here is a short overview of [JSP syntax elements](https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#i1005711):\r\n\r\n - [*Directives*][1]: These convey information regarding the JSP page as a\r\n   whole.\r\n - [*Scripting elements*][2]: These are Java coding elements such as\r\n   declarations, expressions, scriptlets, and comments.\r\n - [*Objects* and *scopes*][3]: JSP objects can be created either explicitly or\r\n   implicitly and are accessible within a given scope, such as from\r\n   anywhere in the JSP page or the session.\r\n - [*Actions*][4]: These create objects or affect the output stream in the JSP\r\n   response (or both).\r\n\r\n---\r\n## How content is included in JSP\r\nThere are several mechanisms for reusing content in a JSP file.\r\n\r\nThe following **4 mechanisms to include content in JSP** can be categorized as **direct reuse**:  \r\n(for the first 3 mechanisms quoting from [&quot;Head First Servlets and JSP&quot;](http://www.amazon.com/Head-First-Servlets-JSP-Certified/dp/0596516681))\r\n\r\n&gt; ## 1) The include *directive*:\r\n&gt; \r\n&gt;     &lt;%@ include file=&quot;header.html&quot; %&gt;\r\n&gt; **Static**: adds the content from the value of the file  attribute to the current page **at translation time**.  The directive was\r\n&gt; originally intended for static layout templates, like HTML  headers.\r\n\r\n&gt; ## 2) The &lt;code&gt;&amp;lt;jsp:include&amp;gt;&lt;/code&gt; *standard action*:\r\n&gt;     &lt;jsp:include page=&quot;header.jsp&quot; /&gt;\r\n&gt; **Dynamic**: adds the content from the value of the  page attribute to the current page **at request time**. Was intended more for dynamic\r\n&gt; content  coming from JSPs.\r\n&gt; &lt;h2&gt;3) The &lt;code&gt;&amp;lt;c:import&amp;gt;&lt;/code&gt; JSTL tag:&lt;/h2&gt;\r\n&gt; \r\n&gt;     &lt;c:import url=”http://www.example.com/foo/bar.html” /&gt;\r\n&gt; **Dynamic**: adds the content from the value of the  URL attribute to the current page, **at request time**.  It works a lot like\r\n&gt; `&lt;jsp:include&gt;`, but it’s more  powerful and flexible: unlike the\r\n&gt; other two includes,  the `&lt;c:import&gt;` **URL can be from  outside the\r\n&gt; web Container**!\r\n&gt; \r\n&gt; ## 4) Preludes and codas:\r\n&gt; **Static**: *preludes* and *codas* **can be applied only to the beginnings and ends of pages**.  \r\n&gt; You can implicitly include *preludes* (also called headers) and *codas*\r\n&gt; (also called footers) for a group of JSP pages by adding\r\n&gt; `&lt;include-prelude&gt;` and `&lt;include-coda&gt;` elements respectively within\r\n&gt; a `&lt;jsp-property-group&gt;` element in the Web application *web.xml* deployment descriptor.  \r\n&gt;\r\n&gt; Read more here:  \r\n&gt; • [Configuring Implicit Includes at the Beginning and End of JSPs](https://docs.oracle.com/cd/E24329_01/web.1211/e21049/configurejsp.htm#WBAPP188)  \r\n&gt; • [Defining implicit includes](http://docs.oracle.com/javaee/5/tutorial/doc/bnajg.html#bnajl)  \r\n\r\n\r\n---\r\n**Tag File** is an **indirect method** of content reuse, the way of **encapsulating reusable content**. \r\nA _Tag File_ is a source file that contains a fragment of JSP code that is reusable as a **custom tag**.  \r\n\r\nThe PURPOSE of includes and Tag Files is different.\r\n \r\n[**Tag file**](http://www.softwaresummit.com/2005/speakers/BergmanJSP2.0TagFiles.pdf) (a concept introduced with JSP 2.0) is one of the options **for creating custom tags**.  It&#39;s a faster and easier way to build _custom tags_. \r\n[**Custom tags**](http://docs.oracle.com/javaee/5/tutorial/doc/bnalj.html), also known as tag extensions, are JSP elements that allow custom logic and output provided by other Java components to be inserted into JSP pages. The logic provided through a custom tag is implemented by a Java object known as a _tag handler_.   \r\n\r\n\r\nSome examples of tasks that can be performed by custom tags include operating on implicit objects, processing forms, accessing databases and other enterprise services such as email and directories, and implementing flow control. \r\n\r\n---\r\n&lt;h3&gt;Regarding your Edit&lt;/h3&gt;\r\n\r\nMaybe in your example (in your _&quot;Edit&quot;_ paragraph), there is no difference between using direct include and a Tag File. But **custom tags have a rich set of features**. They can\r\n\r\n  -  Be customized by means of attributes passed from the calling page.\r\n\r\n  -  Pass variables back to the calling page.\r\n\r\n  -  Access all the objects available to JSP pages.\r\n\r\n  -  Communicate with each other. You can create and initialize a JavaBeans component, create a public EL variable that refers to that bean in one tag, and then use the bean in another tag.\r\n\r\n  - Be nested within one another and communicate by means of private variables.\r\n \r\n\r\nAlso read this from &quot;Pro JSP 2&quot;: [Understanding JSP Custom Tags](http://books.google.ee/books?id=A3FuJXgx0RAC&amp;lpg=PA256&amp;ots=hqQMmIx_cH&amp;dq=usage%20of%20jsp%20tag%20files&amp;pg=PA252#v=onepage&amp;q=usage%20of%20jsp%20tag%20files&amp;f=false).\r\n\r\n---\r\n&lt;h2&gt;Useful reading&lt;/h2&gt;\r\n\r\n - [**Difference between include directive and include action in\r\n   JSP**](http://javarevisited.blogspot.com/2012/01/difference-between-page-include-and.html)\r\n\r\n - [**JSP tricks to make templating\r\n   easier**](https://stackoverflow.com/a/3257426/814702)\r\n\r\n - Very informative and easy to understand tutorial from _coreservlet.com_ with beautiful\r\n   explanations that include `&lt;jsp:include&gt; VS. &lt;%@ include %&gt;`\r\n   comparison table:  \r\n[**Including Files and Applets in JSP\r\n   Pages**](https://web.archive.org/web/20200720001812/http://www.java-programming.info/tutorial/pdf/csajsp2/12-File-Inclusion.pdf)\r\n\r\n - Another nice tutorial from _coreservlets.com_ related to tag libraries and\r\n   tag files:   \r\n[**Creating Custom JSP Tag Libraries: The\r\n   Basics**](http://courses.coreservlets.com/Course-Materials/pdf/msajsp/07-Basic-Custom-Tags.pdf)\r\n\r\n - The official Java EE 5 Tutorial with examples:  \r\n[**Encapsulating Reusable Content\r\n   Using Tag\r\n   Files**](http://docs.oracle.com/javaee/5/tutorial/doc/bnama.html). \r\n\r\n - This page from the official Java EE 5 tutorial should give you even\r\n   more understanding:     \r\n[**Reusing Content in JSP\r\n   Pages**](http://docs.oracle.com/javaee/5/tutorial/doc/bnajb.html).\r\n\r\n - This excerpt from the book &quot;Pro JSP 2&quot; also discuses **why do you need\r\n   a Tag File instead of using static include**:  \r\n[**Reusing Content with Tag\r\n   Files**](http://books.google.ee/books?id=A3FuJXgx0RAC&amp;lpg=PA256&amp;ots=hqQMmIx_cH&amp;dq=usage%20of%20jsp%20tag%20files&amp;pg=PA257#v=onepage&amp;q&amp;f=false)\r\n\r\n - Very useful guide right from the Oracle documentation:  \r\n   [**Static Includes Versus Dynamic Includes**](https://docs.oracle.com/cd/A97336_01/buslog.102/a83726/keydev1.htm#1015959)\r\n\r\n---\r\n# Conclusion\r\n\r\n&gt; _Use the right tools for each task._\r\n\r\n**Use _Tag Files_** as a quick and easy way of creating _custom tags_ that can help you *encapsulate reusable content*.  \r\n\r\nAs for the including content in JSP (quote from [here](http://sharat.wordpress.com/2006/08/28/10-what-is-the-difference-between-pagedirective-include-action-tag-include/)):\r\n\r\n&gt;  - **Use the include directive** if the file *changes rarely*. It’s the fastest mechanism. If your container doesn’t automatically detect changes, you can force the changes to take effect by deleting the main page class file.\r\n&gt;  - **Use the include action** only for content that *changes often*, and if which page to include cannot be decided until the main page is requested.\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#sthref25\r\n  [2]: https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#sthref37\r\n  [3]: https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#sthref51\r\n  [4]: https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#sthref75","title":"What&#39;s the difference between including files with JSP include directive, JSP include action and using JSP Tag Files?","body":"<h2>Overview of JSP Syntax Elements</h2>\n<p>First, to make things more clear, here is a short overview of <a href=\"https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#i1005711\" rel=\"nofollow noreferrer\">JSP syntax elements</a>:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#sthref25\" rel=\"nofollow noreferrer\"><em>Directives</em></a>: These convey information regarding the JSP page as a\nwhole.</li>\n<li><a href=\"https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#sthref37\" rel=\"nofollow noreferrer\"><em>Scripting elements</em></a>: These are Java coding elements such as\ndeclarations, expressions, scriptlets, and comments.</li>\n<li><a href=\"https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#sthref51\" rel=\"nofollow noreferrer\"><em>Objects</em> and <em>scopes</em></a>: JSP objects can be created either explicitly or\nimplicitly and are accessible within a given scope, such as from\nanywhere in the JSP page or the session.</li>\n<li><a href=\"https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#sthref75\" rel=\"nofollow noreferrer\"><em>Actions</em></a>: These create objects or affect the output stream in the JSP\nresponse (or both).</li>\n</ul>\n<hr />\n<h2>How content is included in JSP</h2>\n<p>There are several mechanisms for reusing content in a JSP file.</p>\n<p>The following <strong>4 mechanisms to include content in JSP</strong> can be categorized as <strong>direct reuse</strong>:<br />\n(for the first 3 mechanisms quoting from <a href=\"https://rads.stackoverflow.com/amzn/click/com/0596516681\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">&quot;Head First Servlets and JSP&quot;</a>)</p>\n<blockquote>\n<h2>1) The include <em>directive</em>:</h2>\n<pre><code>&lt;%@ include file=&quot;header.html&quot; %&gt;\n</code></pre>\n<p><strong>Static</strong>: adds the content from the value of the file  attribute to the current page <strong>at translation time</strong>.  The directive was\noriginally intended for static layout templates, like HTML  headers.</p>\n</blockquote>\n<blockquote>\n<h2>2) The <code>&lt;jsp:include&gt;</code> <em>standard action</em>:</h2>\n<pre><code>&lt;jsp:include page=&quot;header.jsp&quot; /&gt;\n</code></pre>\n<p><strong>Dynamic</strong>: adds the content from the value of the  page attribute to the current page <strong>at request time</strong>. Was intended more for dynamic\ncontent  coming from JSPs.</p>\n<h2>3) The <code>&lt;c:import&gt;</code> JSTL tag:</h2>\n<pre><code>&lt;c:import url=”http://www.example.com/foo/bar.html” /&gt;\n</code></pre>\n<p><strong>Dynamic</strong>: adds the content from the value of the  URL attribute to the current page, <strong>at request time</strong>.  It works a lot like\n<code>&lt;jsp:include&gt;</code>, but it’s more  powerful and flexible: unlike the\nother two includes,  the <code>&lt;c:import&gt;</code> <strong>URL can be from  outside the\nweb Container</strong>!</p>\n<h2>4) Preludes and codas:</h2>\n<p><strong>Static</strong>: <em>preludes</em> and <em>codas</em> <strong>can be applied only to the beginnings and ends of pages</strong>.<br />\nYou can implicitly include <em>preludes</em> (also called headers) and <em>codas</em>\n(also called footers) for a group of JSP pages by adding\n<code>&lt;include-prelude&gt;</code> and <code>&lt;include-coda&gt;</code> elements respectively within\na <code>&lt;jsp-property-group&gt;</code> element in the Web application <em>web.xml</em> deployment descriptor.</p>\n<p>Read more here:<br />\n• <a href=\"https://docs.oracle.com/cd/E24329_01/web.1211/e21049/configurejsp.htm#WBAPP188\" rel=\"nofollow noreferrer\">Configuring Implicit Includes at the Beginning and End of JSPs</a><br />\n• <a href=\"http://docs.oracle.com/javaee/5/tutorial/doc/bnajg.html#bnajl\" rel=\"nofollow noreferrer\">Defining implicit includes</a></p>\n</blockquote>\n<hr />\n<p><strong>Tag File</strong> is an <strong>indirect method</strong> of content reuse, the way of <strong>encapsulating reusable content</strong>.\nA <em>Tag File</em> is a source file that contains a fragment of JSP code that is reusable as a <strong>custom tag</strong>.</p>\n<p>The PURPOSE of includes and Tag Files is different.</p>\n<p><a href=\"http://www.softwaresummit.com/2005/speakers/BergmanJSP2.0TagFiles.pdf\" rel=\"nofollow noreferrer\"><strong>Tag file</strong></a> (a concept introduced with JSP 2.0) is one of the options <strong>for creating custom tags</strong>.  It's a faster and easier way to build <em>custom tags</em>.\n<a href=\"http://docs.oracle.com/javaee/5/tutorial/doc/bnalj.html\" rel=\"nofollow noreferrer\"><strong>Custom tags</strong></a>, also known as tag extensions, are JSP elements that allow custom logic and output provided by other Java components to be inserted into JSP pages. The logic provided through a custom tag is implemented by a Java object known as a <em>tag handler</em>.</p>\n<p>Some examples of tasks that can be performed by custom tags include operating on implicit objects, processing forms, accessing databases and other enterprise services such as email and directories, and implementing flow control.</p>\n<hr />\n<h3>Regarding your Edit</h3>\n<p>Maybe in your example (in your <em>&quot;Edit&quot;</em> paragraph), there is no difference between using direct include and a Tag File. But <strong>custom tags have a rich set of features</strong>. They can</p>\n<ul>\n<li><p>Be customized by means of attributes passed from the calling page.</p>\n</li>\n<li><p>Pass variables back to the calling page.</p>\n</li>\n<li><p>Access all the objects available to JSP pages.</p>\n</li>\n<li><p>Communicate with each other. You can create and initialize a JavaBeans component, create a public EL variable that refers to that bean in one tag, and then use the bean in another tag.</p>\n</li>\n<li><p>Be nested within one another and communicate by means of private variables.</p>\n</li>\n</ul>\n<p>Also read this from &quot;Pro JSP 2&quot;: <a href=\"http://books.google.ee/books?id=A3FuJXgx0RAC&amp;lpg=PA256&amp;ots=hqQMmIx_cH&amp;dq=usage%20of%20jsp%20tag%20files&amp;pg=PA252#v=onepage&amp;q=usage%20of%20jsp%20tag%20files&amp;f=false\" rel=\"nofollow noreferrer\">Understanding JSP Custom Tags</a>.</p>\n<hr />\n<h2>Useful reading</h2>\n<ul>\n<li><p><a href=\"http://javarevisited.blogspot.com/2012/01/difference-between-page-include-and.html\" rel=\"nofollow noreferrer\"><strong>Difference between include directive and include action in\nJSP</strong></a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/3257426/814702\"><strong>JSP tricks to make templating\neasier</strong></a></p>\n</li>\n<li><p>Very informative and easy to understand tutorial from <em>coreservlet.com</em> with beautiful\nexplanations that include <code>&lt;jsp:include&gt; VS. &lt;%@ include %&gt;</code>\ncomparison table:<br />\n<a href=\"https://web.archive.org/web/20200720001812/http://www.java-programming.info/tutorial/pdf/csajsp2/12-File-Inclusion.pdf\" rel=\"nofollow noreferrer\"><strong>Including Files and Applets in JSP\nPages</strong></a></p>\n</li>\n<li><p>Another nice tutorial from <em>coreservlets.com</em> related to tag libraries and\ntag files:<br />\n<a href=\"http://courses.coreservlets.com/Course-Materials/pdf/msajsp/07-Basic-Custom-Tags.pdf\" rel=\"nofollow noreferrer\"><strong>Creating Custom JSP Tag Libraries: The\nBasics</strong></a></p>\n</li>\n<li><p>The official Java EE 5 Tutorial with examples:<br />\n<a href=\"http://docs.oracle.com/javaee/5/tutorial/doc/bnama.html\" rel=\"nofollow noreferrer\"><strong>Encapsulating Reusable Content\nUsing Tag\nFiles</strong></a>.</p>\n</li>\n<li><p>This page from the official Java EE 5 tutorial should give you even\nmore understanding:<br />\n<a href=\"http://docs.oracle.com/javaee/5/tutorial/doc/bnajb.html\" rel=\"nofollow noreferrer\"><strong>Reusing Content in JSP\nPages</strong></a>.</p>\n</li>\n<li><p>This excerpt from the book &quot;Pro JSP 2&quot; also discuses <strong>why do you need\na Tag File instead of using static include</strong>:<br />\n<a href=\"http://books.google.ee/books?id=A3FuJXgx0RAC&amp;lpg=PA256&amp;ots=hqQMmIx_cH&amp;dq=usage%20of%20jsp%20tag%20files&amp;pg=PA257#v=onepage&amp;q&amp;f=false\" rel=\"nofollow noreferrer\"><strong>Reusing Content with Tag\nFiles</strong></a></p>\n</li>\n<li><p>Very useful guide right from the Oracle documentation:<br />\n<a href=\"https://docs.oracle.com/cd/A97336_01/buslog.102/a83726/keydev1.htm#1015959\" rel=\"nofollow noreferrer\"><strong>Static Includes Versus Dynamic Includes</strong></a></p>\n</li>\n</ul>\n<hr />\n<h1>Conclusion</h1>\n<blockquote>\n<p><em>Use the right tools for each task.</em></p>\n</blockquote>\n<p><strong>Use <em>Tag Files</em></strong> as a quick and easy way of creating <em>custom tags</em> that can help you <em>encapsulate reusable content</em>.</p>\n<p>As for the including content in JSP (quote from <a href=\"http://sharat.wordpress.com/2006/08/28/10-what-is-the-difference-between-pagedirective-include-action-tag-include/\" rel=\"nofollow noreferrer\">here</a>):</p>\n<blockquote>\n<ul>\n<li><strong>Use the include directive</strong> if the file <em>changes rarely</em>. It’s the fastest mechanism. If your container doesn’t automatically detect changes, you can force the changes to take effect by deleting the main page class file.</li>\n<li><strong>Use the include action</strong> only for content that <em>changes often</em>, and if which page to include cannot be decided until the main page is requested.</li>\n</ul>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":19402702,"reputation":989,"user_id":14188899,"display_name":"Stefan"},"score":0,"creation_date":1610239246,"post_id":14767241,"comment_id":116070495,"body_markdown":"So if one JSP is calling `&lt;jsp:include&gt;` 10 times some *other* file, that *other* file would be translated 10 times (plus send its response). While using `&lt;@include&gt;` 10 times, it would translate that *other*  file just once (at translation time). Did I get it right?","body":"So if one JSP is calling <code>&lt;jsp:include&gt;</code> 10 times some <i>other</i> file, that <i>other</i> file would be translated 10 times (plus send its response). While using <code>&lt;@include&gt;</code> 10 times, it would translate that <i>other</i>  file just once (at translation time). Did I get it right?"},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":0,"creation_date":1650401019,"post_id":14767241,"comment_id":127105614,"body_markdown":"@Stefan For `&lt;jsp:include&gt;` the other file would be translated into Java code and then compiled _once_, then the compiled class (method) would be _invoked_ (called) 10 times. For `@include` 10 copies of the other file would be &quot;pasted&quot; into the calling file, then whole thing would be translated and compiled once. If the included file contained a variable declaration you&#39;d get errors because the var would be re-declared 9 times with `@include`","body":"@Stefan For <code>&lt;jsp:include&gt;</code> the other file would be translated into Java code and then compiled <i>once</i>, then the compiled class (method) would be <i>invoked</i> (called) 10 times. For <code>@include</code> 10 copies of the other file would be &quot;pasted&quot; into the calling file, then whole thing would be translated and compiled once. If the included file contained a variable declaration you&#39;d get errors because the var would be re-declared 9 times with <code>@include</code>"}],"tags":[],"owner":{"account_id":13694,"reputation":1056,"user_id":27649,"display_name":"Hari"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1360310921,"creation_date":1360306338,"answer_id":14767241,"question_id":14580120,"body_markdown":"All three template options - `&lt;%@include&gt;`, `&lt;jsp:include&gt;` and `&lt;%@tag&gt;` are valid, and all three cover different use cases.\r\n\r\nWith `&lt;@include&gt;`, the JSP parser in-lines the content of the included file into the JSP before compilation (similar to a C `#include`). You&#39;d use this option with simple, static content: for example, if you wanted to include header, footer, or navigation elements into every page in your web-app. The included content becomes part of the compiled JSP and there&#39;s no extra cost at runtime.\r\n\r\n`&lt;jsp:include&gt;` (and JSTL&#39;s `&lt;c:import&gt;`, which is similar and even more powerful) are best suited to dynamic content. Use these when you need to include content from another URL, local or remote; when the resource you&#39;re including is itself dynamic; or when the included content uses variables or bean definitions that conflict with the including page. `&lt;c:import&gt;` also allows you to store the included text in a variable, which you can further manipulate or reuse. Both these incur an additional runtime cost for the dispatch: this is minimal, but you need to be aware that the dynamic include is not &quot;free&quot;.\r\n\r\nUse tag files when you want to create reusable user interface components. If you have a List of Widgets, say, and you want to iterate over the Widgets and display properties of each (in a table, or in a form), you&#39;d create a tag. Tags can take arguments, using `&lt;%@tag attribute&gt;` and these arguments can be either mandatory or optional - somewhat like method parameters. \r\n\r\nTag files are a simpler, JSP-based mechanism of writing tag libraries, which (pre JSP 2.0) you had to write using Java code. It&#39;s a lot cleaner to write JSP tag files when there&#39;s a lot of rendering to do in the tag: you don&#39;t need to mix Java and HTML code as you&#39;d have to do if you wrote your tags in Java.\r\n","title":"What&#39;s the difference between including files with JSP include directive, JSP include action and using JSP Tag Files?","body":"<p>All three template options - <code>&lt;%@include&gt;</code>, <code>&lt;jsp:include&gt;</code> and <code>&lt;%@tag&gt;</code> are valid, and all three cover different use cases.</p>\n\n<p>With <code>&lt;@include&gt;</code>, the JSP parser in-lines the content of the included file into the JSP before compilation (similar to a C <code>#include</code>). You'd use this option with simple, static content: for example, if you wanted to include header, footer, or navigation elements into every page in your web-app. The included content becomes part of the compiled JSP and there's no extra cost at runtime.</p>\n\n<p><code>&lt;jsp:include&gt;</code> (and JSTL's <code>&lt;c:import&gt;</code>, which is similar and even more powerful) are best suited to dynamic content. Use these when you need to include content from another URL, local or remote; when the resource you're including is itself dynamic; or when the included content uses variables or bean definitions that conflict with the including page. <code>&lt;c:import&gt;</code> also allows you to store the included text in a variable, which you can further manipulate or reuse. Both these incur an additional runtime cost for the dispatch: this is minimal, but you need to be aware that the dynamic include is not \"free\".</p>\n\n<p>Use tag files when you want to create reusable user interface components. If you have a List of Widgets, say, and you want to iterate over the Widgets and display properties of each (in a table, or in a form), you'd create a tag. Tags can take arguments, using <code>&lt;%@tag attribute&gt;</code> and these arguments can be either mandatory or optional - somewhat like method parameters. </p>\n\n<p>Tag files are a simpler, JSP-based mechanism of writing tag libraries, which (pre JSP 2.0) you had to write using Java code. It's a lot cleaner to write JSP tag files when there's a lot of rendering to do in the tag: you don't need to mix Java and HTML code as you'd have to do if you wrote your tags in Java.</p>\n"},{"tags":[],"owner":{"account_id":1530819,"reputation":2490,"user_id":1428052,"accept_rate":50,"display_name":"Abhijeet Ashok Muneshwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581379757,"creation_date":1382078053,"answer_id":19443081,"question_id":14580120,"body_markdown":"According to: \r\n[Java Revisited](http://javarevisited.blogspot.in/2012/01/difference-between-page-include-and.html)\r\n\r\n1. Resources included by include directive are loaded during jsp translation time, while resources included by include action are loaded during request time.\r\n\r\n2. Any change on included resources will not be visible in case of include directive until jsp file compiles again. While in case of include action, any change in included resource will be visible in the next request.\r\n\r\n3. Include directive is static import, while include action is dynamic import.\r\n\r\n4. Include directive uses file attribute to specify resources to be included while include action uses page attribute for the same purpose.","title":"What&#39;s the difference between including files with JSP include directive, JSP include action and using JSP Tag Files?","body":"<p>According to: \n<a href=\"http://javarevisited.blogspot.in/2012/01/difference-between-page-include-and.html\" rel=\"nofollow noreferrer\">Java Revisited</a></p>\n\n<ol>\n<li><p>Resources included by include directive are loaded during jsp translation time, while resources included by include action are loaded during request time.</p></li>\n<li><p>Any change on included resources will not be visible in case of include directive until jsp file compiles again. While in case of include action, any change in included resource will be visible in the next request.</p></li>\n<li><p>Include directive is static import, while include action is dynamic import.</p></li>\n<li><p>Include directive uses file attribute to specify resources to be included while include action uses page attribute for the same purpose.</p></li>\n</ol>\n"}],"owner":{"account_id":1986060,"reputation":4978,"user_id":1814823,"accept_rate":65,"display_name":"sonicboom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132477,"favorite_count":0,"down_vote_count":1,"up_vote_count":162,"accepted_answer_id":14763794,"answer_count":5,"score":161,"last_activity_date":1696804340,"creation_date":1359453512,"question_id":14580120,"body_markdown":"It seems that there are two methods for templating with JSP. Including files with one of these statements \r\n\r\n    &lt;%@ include file=&quot;foo.html&quot; %&gt;\r\n    &lt;jsp:include page=&quot;foo.html&quot; /&gt;\r\n\r\nor using JSP tag files \r\n\r\n    // Save this as mytag.tag\r\n    &lt;%@ tag description=&quot;Description&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;jsp:doBody/&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nAnd in another JSP page call it with\r\n\r\n    &lt;%@ taglib prefix=&quot;t&quot; tagdir=&quot;/WEB-INF/tags&quot; %&gt;\r\n        \r\n    &lt;t:mytag&gt;\r\n        &lt;h1&gt;Hello World&lt;/h1&gt;\r\n    &lt;/t:mytag&gt;\r\n\r\nSo which method should I use? Is one now considered deprecated or are they both valid and cover different use cases?\r\n\r\n**Edit**\r\n\r\nIsn&#39;t using this tag file the same as using an include?\r\n\r\n    // Save this as product.tag\r\n    &lt;%@ tag description=&quot;Product templage&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@ tag import=&quot;com.myapp.Product&quot; %&gt;\r\n    &lt;%@ attribute name=&quot;product&quot; required=&quot;true&quot; type=&quot;com.myapp.Product&quot;%&gt;\r\n    \r\n    Product name: ${product.name} &lt;br/&gt;\r\n    Quantity: ${product.quantity} &lt;br/&gt;\r\n\r\nAnd call it on another JSP with\r\n\r\n    &lt;%@ taglib prefix=&quot;t&quot; tagdir=&quot;/WEB-INF/tags&quot; %&gt;\r\n    \r\n    &lt;t:product&gt;\r\n        &lt;c:forEach items=&quot;${cart.products}&quot; var=&quot;product&quot;&gt;\r\n            &lt;t:product product=&quot;${product}&quot;/&gt;\r\n        &lt;/c:forEach&gt;\r\n    &lt;/t:product&gt;\r\n\r\nThat seems to me to be the very same as using an include and passing parameters to it. So are Tag Files the same as includes?","title":"What&#39;s the difference between including files with JSP include directive, JSP include action and using JSP Tag Files?","body":"<p>It seems that there are two methods for templating with JSP. Including files with one of these statements </p>\n\n<pre><code>&lt;%@ include file=\"foo.html\" %&gt;\n&lt;jsp:include page=\"foo.html\" /&gt;\n</code></pre>\n\n<p>or using JSP tag files </p>\n\n<pre><code>// Save this as mytag.tag\n&lt;%@ tag description=\"Description\" pageEncoding=\"UTF-8\"%&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;jsp:doBody/&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And in another JSP page call it with</p>\n\n<pre><code>&lt;%@ taglib prefix=\"t\" tagdir=\"/WEB-INF/tags\" %&gt;\n\n&lt;t:mytag&gt;\n    &lt;h1&gt;Hello World&lt;/h1&gt;\n&lt;/t:mytag&gt;\n</code></pre>\n\n<p>So which method should I use? Is one now considered deprecated or are they both valid and cover different use cases?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Isn't using this tag file the same as using an include?</p>\n\n<pre><code>// Save this as product.tag\n&lt;%@ tag description=\"Product templage\" pageEncoding=\"UTF-8\"%&gt;\n&lt;%@ tag import=\"com.myapp.Product\" %&gt;\n&lt;%@ attribute name=\"product\" required=\"true\" type=\"com.myapp.Product\"%&gt;\n\nProduct name: ${product.name} &lt;br/&gt;\nQuantity: ${product.quantity} &lt;br/&gt;\n</code></pre>\n\n<p>And call it on another JSP with</p>\n\n<pre><code>&lt;%@ taglib prefix=\"t\" tagdir=\"/WEB-INF/tags\" %&gt;\n\n&lt;t:product&gt;\n    &lt;c:forEach items=\"${cart.products}\" var=\"product\"&gt;\n        &lt;t:product product=\"${product}\"/&gt;\n    &lt;/c:forEach&gt;\n&lt;/t:product&gt;\n</code></pre>\n\n<p>That seems to me to be the very same as using an include and passing parameters to it. So are Tag Files the same as includes?</p>\n"},{"tags":["java","xml","dom","runtime-error","java-17"],"owner":{"account_id":24170163,"reputation":11,"user_id":18132344,"display_name":"newbee_to_code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696804287,"creation_date":1696787988,"question_id":77254731,"body_markdown":"I&#39;m facing this issue in a individual module of a spring boot application while migrating from JAVA 11 to JAVA 17. The parent pom has xercesImpl 2.12.0.SP03 , jaxb-api 2.3.1, jaxb-impl 2.3.2, jersey-media-jaxb 2.31.\r\n\r\nThere is no error at the compile time build is success, but there is error at the run time. \r\n\r\nI have upgrade the spring boot version from 2.3.5 to 2.7.13 and spring-core version from 5.2.20 to 5.3.28\r\n\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from class path resource [SpringConfiguration.xml]; nested exception is java.lang.NoClassDefFoundError: org/w3c/dom/ls/DocumentLS\r\n    \r\n    Caused by: java.lang.ClassNotFoundException: org.w3c.dom.ls.DocumentLS\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 43 common frames omitted\r\n\r\nI have checked in maven dependencies resolver, that either xercesImpl is coming from some other dependencies in the pom, but it is not. Even I have tried to run by adding it externally in the pom as we are parsing some xml document. But still getting the same issue .\r\n\r\nPlease advice. Thanks in advance...\r\n```\r\nthis is the pom.xml of the concerned module\r\n\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.tibco.tibjms&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tibjms&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activemq-client&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;*&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;knowledge-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;drools-compiler&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;drools-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;eclipse-jdt-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;antlr-runtime&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;xmlpull&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xmlpull&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xstream&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core-lgpl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;com.ibm.mq.allclient&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;dhbcore&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;axiom-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;*&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\r\n\t\t\r\n\t\t&lt;!-- Logback appender using ELK over Kafka --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.danielwegener&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-kafka-appender&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Logback appender using ELK over Kafka end --&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\r\n\r\n\r\nThere is JAVA_OPTIONS in start.sh of the project -Dmovement.springInitFiles=SpringConfiguration.xml. \r\n```\r\nAnd SpringConfiguration.xml is present in the resources folder of the module.\r\n\r\n\r\nI tried adding externally xerces and xercesImpl in the module by looking some of the solutions Available.\r\n```\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;xerces&lt;/groupId&gt;\r\n                &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n                &lt;version&gt;2.12.0.SP03&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n                 &lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;xerces&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;xerces&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n   \r\n```\r\n But it didn&#39;t worked. I dont have lesser version of xerces than 2.6.2 in internal repo.\r\n","title":"Caused by: java.lang.NoClassDefFoundError: org/w3c/dom/ls/DocumentLS error in JDK 11 to JDK17 migration","body":"<p>I'm facing this issue in a individual module of a spring boot application while migrating from JAVA 11 to JAVA 17. The parent pom has xercesImpl 2.12.0.SP03 , jaxb-api 2.3.1, jaxb-impl 2.3.2, jersey-media-jaxb 2.31.</p>\n<p>There is no error at the compile time build is success, but there is error at the run time.</p>\n<p>I have upgrade the spring boot version from 2.3.5 to 2.7.13 and spring-core version from 5.2.20 to 5.3.28</p>\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from class path resource [SpringConfiguration.xml]; nested exception is java.lang.NoClassDefFoundError: org/w3c/dom/ls/DocumentLS\n\nCaused by: java.lang.ClassNotFoundException: org.w3c.dom.ls.DocumentLS\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 43 common frames omitted\n</code></pre>\n<p>I have checked in maven dependencies resolver, that either xercesImpl is coming from some other dependencies in the pom, but it is not. Even I have tried to run by adding it externally in the pom as we are parsing some xml document. But still getting the same issue .</p>\n<p>Please advice. Thanks in advance...</p>\n<pre><code>this is the pom.xml of the concerned module\n\n&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.tibco.tibjms&lt;/groupId&gt;\n            &lt;artifactId&gt;tibjms&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n            &lt;artifactId&gt;activemq-client&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.drools&lt;/groupId&gt;\n            &lt;artifactId&gt;knowledge-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.drools&lt;/groupId&gt;\n            &lt;artifactId&gt;drools-compiler&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.drools&lt;/groupId&gt;\n            &lt;artifactId&gt;drools-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;&lt;/groupId&gt;\n            &lt;artifactId&gt;eclipse-jdt-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n            &lt;artifactId&gt;antlr-runtime&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;xmlpull&lt;/groupId&gt;\n            &lt;artifactId&gt;xmlpull&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\n            &lt;artifactId&gt;xstream&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core-lgpl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n        &lt;artifactId&gt;com.ibm.mq.allclient&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n            &lt;artifactId&gt;dhbcore&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\n            &lt;artifactId&gt;axiom-impl&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        \n    \n        \n        &lt;!-- Logback appender using ELK over Kafka --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.danielwegener&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-kafka-appender&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Logback appender using ELK over Kafka end --&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    \n\n\nThere is JAVA_OPTIONS in start.sh of the project -Dmovement.springInitFiles=SpringConfiguration.xml. \n</code></pre>\n<p>And SpringConfiguration.xml is present in the resources folder of the module.</p>\n<p>I tried adding externally xerces and xercesImpl in the module by looking some of the solutions Available.</p>\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;xerces&lt;/groupId&gt;\n                &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n                &lt;version&gt;2.12.0.SP03&lt;/version&gt;\n            &lt;/dependency&gt;\n                 &lt;dependency&gt;\n                &lt;groupId&gt;xerces&lt;/groupId&gt;\n                &lt;artifactId&gt;xerces&lt;/artifactId&gt;\n                &lt;version&gt;2.6.2&lt;/version&gt;\n            &lt;/dependency&gt;\n\n   \n</code></pre>\n<p>But it didn't worked. I dont have lesser version of xerces than 2.6.2 in internal repo.</p>\n"},{"tags":["java","spring","rest","spring-boot","interceptor"],"answers":[{"tags":[],"owner":{"account_id":14209744,"reputation":81,"user_id":10265330,"display_name":"Rembrandt"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1665167845,"creation_date":1540275940,"answer_id":52942407,"question_id":52810882,"body_markdown":"Finally I have figured it out so I will leave here some simple but useful advice for others.\r\nI have used a request wrapper but to make it work properly I have added a filter with highest order to wrap every request into wrapper at the beginning, before interceptor is executed. Now it works well ;)\r\nHere&#39;s most important code - filter to wrap every request into multi read wrapper(interceptor looks almost the same as above and wrapper is not invented by me, found on stack and I found it as most clear and readable):\r\n\r\n\r\n    import lombok.SneakyThrows;\r\n    import org.springframework.core.Ordered;\r\n    import org.springframework.core.annotation.Order;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import javax.servlet.*;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletRequestWrapper;\r\n    import java.io.BufferedReader;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @Component\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class GlobalWrapFilter implements Filter {\r\n    \r\n    \r\n        @Override\r\n        @SneakyThrows\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) {\r\n            MultiReadRequest wrapper = new MultiReadRequest((HttpServletRequest) request);\r\n            chain.doFilter(wrapper, response);\r\n        }\r\n    \r\n        @Override\r\n        public void destroy() {\r\n        }\r\n    \r\n        class MultiReadRequest extends HttpServletRequestWrapper {\r\n    \r\n            private String requestBody;\r\n    \r\n            @SneakyThrows\r\n            public MultiReadRequest(HttpServletRequest request) {\r\n                super(request);\r\n                requestBody = request.getReader().lines().collect(Collectors.joining(System.lineSeparator()));\r\n            }\r\n    \r\n            @Override\r\n            public ServletInputStream getInputStream() throws IOException {\r\n                final ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(requestBody.getBytes());\r\n                return new ServletInputStream() {\r\n                    @Override\r\n                    public boolean isFinished() {\r\n                        return byteArrayInputStream.available() == 0;\r\n                    }\r\n    \r\n                    @Override\r\n                    public boolean isReady() {\r\n                        return true;\r\n                    }\r\n    \r\n                    @Override\r\n                    public void setReadListener(ReadListener readListener) {\r\n    \r\n                    }\r\n    \r\n                    @Override\r\n                    public int read() throws IOException {\r\n                        return byteArrayInputStream.read();\r\n                    }\r\n                };\r\n            }\r\n    \r\n            @Override\r\n            @SneakyThrows\r\n            public BufferedReader getReader() {\r\n                return new BufferedReader(new InputStreamReader(this.getInputStream(), StandardCharsets.UTF_8));\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Cannot properly read reqest body in interceptor - Spring BOOT 2.0.4","body":"<p>Finally I have figured it out so I will leave here some simple but useful advice for others.\nI have used a request wrapper but to make it work properly I have added a filter with highest order to wrap every request into wrapper at the beginning, before interceptor is executed. Now it works well ;)\nHere's most important code - filter to wrap every request into multi read wrapper(interceptor looks almost the same as above and wrapper is not invented by me, found on stack and I found it as most clear and readable):</p>\n<pre><code>import lombok.SneakyThrows;\nimport org.springframework.core.Ordered;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletRequestWrapper;\nimport java.io.BufferedReader;\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.nio.charset.StandardCharsets;\nimport java.util.stream.Collectors;\n\n@Component\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class GlobalWrapFilter implements Filter {\n\n\n    @Override\n    @SneakyThrows\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) {\n        MultiReadRequest wrapper = new MultiReadRequest((HttpServletRequest) request);\n        chain.doFilter(wrapper, response);\n    }\n\n    @Override\n    public void destroy() {\n    }\n\n    class MultiReadRequest extends HttpServletRequestWrapper {\n\n        private String requestBody;\n\n        @SneakyThrows\n        public MultiReadRequest(HttpServletRequest request) {\n            super(request);\n            requestBody = request.getReader().lines().collect(Collectors.joining(System.lineSeparator()));\n        }\n\n        @Override\n        public ServletInputStream getInputStream() throws IOException {\n            final ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(requestBody.getBytes());\n            return new ServletInputStream() {\n                @Override\n                public boolean isFinished() {\n                    return byteArrayInputStream.available() == 0;\n                }\n\n                @Override\n                public boolean isReady() {\n                    return true;\n                }\n\n                @Override\n                public void setReadListener(ReadListener readListener) {\n\n                }\n\n                @Override\n                public int read() throws IOException {\n                    return byteArrayInputStream.read();\n                }\n            };\n        }\n\n        @Override\n        @SneakyThrows\n        public BufferedReader getReader() {\n            return new BufferedReader(new InputStreamReader(this.getInputStream(), StandardCharsets.UTF_8));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26421834,"reputation":1,"user_id":20069397,"display_name":"KP_EV"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696803172,"creation_date":1696573012,"answer_id":77242204,"question_id":52810882,"body_markdown":"I dont have enough karma to comment, but the answer from @Rembrandt has a critical flaw:\r\n\r\n```java\r\nrequestBody = request.getReader().lines().collect(Collectors.joining(System.lineSeparator()));\r\n```\r\n\r\n\r\nThis line is destroying every utf8 encoding in a spring boot app.\r\n\r\nThe fix is to not use getReader(), but to use .getInputStream() instead to get the actual raw data without any interpretation","title":"Cannot properly read reqest body in interceptor - Spring BOOT 2.0.4","body":"<p>I dont have enough karma to comment, but the answer from @Rembrandt has a critical flaw:</p>\n<pre class=\"lang-java prettyprint-override\"><code>requestBody = request.getReader().lines().collect(Collectors.joining(System.lineSeparator()));\n</code></pre>\n<p>This line is destroying every utf8 encoding in a spring boot app.</p>\n<p>The fix is to not use getReader(), but to use .getInputStream() instead to get the actual raw data without any interpretation</p>\n"}],"owner":{"account_id":14209744,"reputation":81,"user_id":10265330,"display_name":"Rembrandt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52942407,"answer_count":2,"score":1,"last_activity_date":1696803172,"creation_date":1539585075,"question_id":52810882,"body_markdown":"I have a problem with reading request body in interceptor. Both `getReader()` and `getInputStream()` causing problems.\r\nMy interceptor:\r\n\r\n    public class MyInterceptor extends HandlerInterceptorAdapter {\r\n    @Override\r\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception exception)\r\n            throws Exception {\r\n        // TODO Auto-generated method stub\r\n\r\n    }\r\n    @Override\r\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)\r\n            throws Exception {\r\n        // TODO Auto-generated method stub\r\n    }\r\n    @Override\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n\r\n        String requestBody = httpRequest.getReader().lines().collect(Collectors.joining(System.lineSeparator()));\r\n\r\n    //or\r\n    // String requestBody = new BufferedReader(new InputStreamReader(httpRequest.getInputStream()))\r\n    //                .lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n    //some logic...\r\n        return true;\r\n    }\r\n\r\nBoth approaches failing because probably spring uses such resource somewhere internally.\r\nFirst causess **java.lang.IllegalStateException: getReader() has already been called for this request** and other **Required request body is missing: org.springframework.http.ResponseEntity**...\r\n\r\nI have tried some workarounds with wrappers without an effect. I think its because I cannot pass wrapper down like in filters(i dont want to use filter cause I have common exception managager(@ControllerAdvice).\r\n\r\nIs this a known issue? Is there any workaround for this?\r\n","title":"Cannot properly read reqest body in interceptor - Spring BOOT 2.0.4","body":"<p>I have a problem with reading request body in interceptor. Both <code>getReader()</code> and <code>getInputStream()</code> causing problems.\nMy interceptor:</p>\n\n<pre><code>public class MyInterceptor extends HandlerInterceptorAdapter {\n@Override\npublic void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception exception)\n        throws Exception {\n    // TODO Auto-generated method stub\n\n}\n@Override\npublic void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)\n        throws Exception {\n    // TODO Auto-generated method stub\n}\n@Override\npublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n\n    String requestBody = httpRequest.getReader().lines().collect(Collectors.joining(System.lineSeparator()));\n\n//or\n// String requestBody = new BufferedReader(new InputStreamReader(httpRequest.getInputStream()))\n//                .lines().collect(Collectors.joining(\"\\n\"));\n//some logic...\n    return true;\n}\n</code></pre>\n\n<p>Both approaches failing because probably spring uses such resource somewhere internally.\nFirst causess <strong>java.lang.IllegalStateException: getReader() has already been called for this request</strong> and other <strong>Required request body is missing: org.springframework.http.ResponseEntity</strong>...</p>\n\n<p>I have tried some workarounds with wrappers without an effect. I think its because I cannot pass wrapper down like in filters(i dont want to use filter cause I have common exception managager(@ControllerAdvice).</p>\n\n<p>Is this a known issue? Is there any workaround for this?</p>\n"},{"tags":["java","android","delete-file"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1645723684,"post_id":71255668,"comment_id":125953131,"body_markdown":"And what is logcat saying ?","body":"And what is logcat saying ?"},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":1,"creation_date":1645723848,"post_id":71255668,"comment_id":125953185,"body_markdown":"Look for scoped storage. You need to use content resolver","body":"Look for scoped storage. You need to use content resolver"},{"owner":{"account_id":22447115,"reputation":108,"user_id":16650865,"display_name":"UserOfStackOverFlow"},"score":0,"creation_date":1645724124,"post_id":71255668,"comment_id":125953282,"body_markdown":"@PeterMmm Nothing more, but the deletion really returns false.","body":"@PeterMmm Nothing more, but the deletion really returns false."},{"owner":{"account_id":22447115,"reputation":108,"user_id":16650865,"display_name":"UserOfStackOverFlow"},"score":0,"creation_date":1645724465,"post_id":71255668,"comment_id":125953408,"body_markdown":"@cmak Ok, I&#39;ll read more about this. From what I&#39;ve just seen, this is something from Android 11, correct?","body":"@cmak Ok, I&#39;ll read more about this. From what I&#39;ve just seen, this is something from Android 11, correct?"},{"owner":{"account_id":13115303,"reputation":1248,"user_id":9474700,"display_name":"behrad"},"score":0,"creation_date":1645725058,"post_id":71255668,"comment_id":125953630,"body_markdown":"https://stackoverflow.com/a/5322390/9474700 check this","body":"<a href=\"https://stackoverflow.com/a/5322390/9474700\">stackoverflow.com/a/5322390/9474700</a> check this"},{"owner":{"account_id":22447115,"reputation":108,"user_id":16650865,"display_name":"UserOfStackOverFlow"},"score":0,"creation_date":1645726521,"post_id":71255668,"comment_id":125954138,"body_markdown":"@behrad Not worked.","body":"@behrad Not worked."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1645727229,"post_id":71255668,"comment_id":125954369,"body_markdown":"You should have started telling full path of folder. After that who created that folder and if it contains files. If it contains files then tell also who created them.","body":"You should have started telling full path of folder. After that who created that folder and if it contains files. If it contains files then tell also who created them."},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":1,"creation_date":1645731783,"post_id":71255668,"comment_id":125955851,"body_markdown":"@Whats91356 Get the document folder https://developer.android.com/training/data-storage/shared/documents-files#open-file\nthen delete it https://stackoverflow.com/a/31755101/11880323 There&#39;s no way to do it directly unless your app is granted the access all storage permission, which Play Store only allows to apps that really need it like file managers","body":"@Whats91356 Get the document folder <a href=\"https://developer.android.com/training/data-storage/shared/documents-files#open-file\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/shared/&hellip;</a> then delete it <a href=\"https://stackoverflow.com/a/31755101/11880323\">stackoverflow.com/a/31755101/11880323</a> There&#39;s no way to do it directly unless your app is granted the access all storage permission, which Play Store only allows to apps that really need it like file managers"},{"owner":{"account_id":22447115,"reputation":108,"user_id":16650865,"display_name":"UserOfStackOverFlow"},"score":0,"creation_date":1645732826,"post_id":71255668,"comment_id":125956197,"body_markdown":"@cmak Thanks cmak, it is a valious information, reading the articles.","body":"@cmak Thanks cmak, it is a valious information, reading the articles."}],"answers":[{"comments":[{"owner":{"account_id":22447115,"reputation":108,"user_id":16650865,"display_name":"UserOfStackOverFlow"},"score":1,"creation_date":1645728705,"post_id":71256726,"comment_id":125954843,"body_markdown":"Interesting, it seems more secure. I&#39;ll check the content, thanks.","body":"Interesting, it seems more secure. I&#39;ll check the content, thanks."}],"tags":[],"owner":{"account_id":336119,"reputation":17010,"user_id":663604,"accept_rate":89,"display_name":"Oliver Spryn"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645727922,"creation_date":1645727922,"answer_id":71256726,"question_id":71255668,"body_markdown":"Android has done much to change its permission models around file access since Android 10 and 11. The preferred approach is to use [Scoped Storage APIs][1].\r\n\r\nMany of the old file read/write permissions are on life support and will no longer work. If they do continue to work, then must justify to Google why you need them, and then go through a security approval by Google. You will only be granted approval if you app is classified as a file browser application, or the like.\r\n\r\nBasically, the new model is to use Android&#39;s file browsers to gain access to read/write/update a particular file that the user selects, and defer the rest of the file management to Google&#39;s first-party applications. The access you get is based on what the user selected in the first-party file browser. You are then handed a URI back to your application with the proper permissions to perform the intended action, such as read/write/etc...\r\n\r\nYou may find this video useful:\r\n\r\nhttps://www.youtube.com/watch?v=RjyYCUW-9tY\r\n\r\n  [1]: https://developer.android.com/about/versions/11/privacy/storage","title":"How to delete a folder on Android 11?","body":"<p>Android has done much to change its permission models around file access since Android 10 and 11. The preferred approach is to use <a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">Scoped Storage APIs</a>.</p>\n<p>Many of the old file read/write permissions are on life support and will no longer work. If they do continue to work, then must justify to Google why you need them, and then go through a security approval by Google. You will only be granted approval if you app is classified as a file browser application, or the like.</p>\n<p>Basically, the new model is to use Android's file browsers to gain access to read/write/update a particular file that the user selects, and defer the rest of the file management to Google's first-party applications. The access you get is based on what the user selected in the first-party file browser. You are then handed a URI back to your application with the proper permissions to perform the intended action, such as read/write/etc...</p>\n<p>You may find this video useful:</p>\n<p><a href=\"https://www.youtube.com/watch?v=RjyYCUW-9tY\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=RjyYCUW-9tY</a></p>\n"},{"comments":[{"owner":{"account_id":22447115,"reputation":108,"user_id":16650865,"display_name":"UserOfStackOverFlow"},"score":0,"creation_date":1645815438,"post_id":71258942,"comment_id":125978891,"body_markdown":"I tested that, not worked. The first answer has a good explanation the why it occurs. Thanks!","body":"I tested that, not worked. The first answer has a good explanation the why it occurs. Thanks!"}],"tags":[],"owner":{"account_id":8016842,"reputation":327,"user_id":6046829,"display_name":"AmirMohamamd"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645741343,"creation_date":1645741343,"answer_id":71258942,"question_id":71255668,"body_markdown":"Have you tried Context.deleteFile() ?\r\n\r\n    getApplicationContext().deleteFile(filename);","title":"How to delete a folder on Android 11?","body":"<p>Have you tried Context.deleteFile() ?</p>\n<pre><code>getApplicationContext().deleteFile(filename);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11255966,"reputation":347,"user_id":8255752,"display_name":"Mohammed Alomair"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696801946,"creation_date":1696801946,"answer_id":77255473,"question_id":71255668,"body_markdown":"To delete all files inside the ExternalFilesDir\r\n\r\n    fun removeAllFilesInExternalFilesDir(context: Context, folder: String) {\r\n        context.getExternalFilesDir(folder)?.listFiles()?.forEach {\r\n            it.delete()\r\n        }\r\n    }","title":"How to delete a folder on Android 11?","body":"<p>To delete all files inside the ExternalFilesDir</p>\n<pre><code>fun removeAllFilesInExternalFilesDir(context: Context, folder: String) {\n    context.getExternalFilesDir(folder)?.listFiles()?.forEach {\n        it.delete()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22447115,"reputation":108,"user_id":16650865,"display_name":"UserOfStackOverFlow"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1062,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71256726,"answer_count":3,"score":1,"last_activity_date":1696801946,"creation_date":1645722352,"question_id":71255668,"body_markdown":"I have a doubt, how I can delete a folder on Android 11 (or 10)?\r\n\r\nHave much answers here on Stack how to do it, but nothing of worked.\r\n\r\nThis code worked for me on Android 5:\r\n\r\n     public static boolean deleteDir(File dir) {\r\n          if (dir.isDirectory()) {\r\n               String[] children = dir.list();\r\n               for (int i=0; i&lt;children.length; i++) {\r\n                    boolean success = deleteDir(new File(dir, children[i]));\r\n                    if (!success) {\r\n                         return false;\r\n                    }\r\n               }\r\n          }\r\n    \r\n          // The directory is now empty so delete it\r\n          return dir.delete();\r\n     }\r\n\r\nOn newest versions of Android it not work. I noticed that there are applications that can to do this, so I imagine it is possible. Any answer about it?","title":"How to delete a folder on Android 11?","body":"<p>I have a doubt, how I can delete a folder on Android 11 (or 10)?</p>\n<p>Have much answers here on Stack how to do it, but nothing of worked.</p>\n<p>This code worked for me on Android 5:</p>\n<pre><code> public static boolean deleteDir(File dir) {\n      if (dir.isDirectory()) {\n           String[] children = dir.list();\n           for (int i=0; i&lt;children.length; i++) {\n                boolean success = deleteDir(new File(dir, children[i]));\n                if (!success) {\n                     return false;\n                }\n           }\n      }\n\n      // The directory is now empty so delete it\n      return dir.delete();\n }\n</code></pre>\n<p>On newest versions of Android it not work. I noticed that there are applications that can to do this, so I imagine it is possible. Any answer about it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":2,"creation_date":1580453007,"post_id":59998928,"comment_id":106109530,"body_markdown":"https://stackoverflow.com/questions/2626981/restricting-dynamically-loaded-classes-and-jars-based-on-a-security-policy This might be helpful to you.","body":"<a href=\"https://stackoverflow.com/questions/2626981/restricting-dynamically-loaded-classes-and-jars-based-on-a-security-policy\" title=\"restricting dynamically loaded classes and jars based on a security policy\">stackoverflow.com/questions/2626981/&hellip;</a> This might be helpful to you."},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":2,"creation_date":1580453124,"post_id":59998928,"comment_id":106109569,"body_markdown":"Looks like you have to set SecurityManager  https://docs.oracle.com/javase/6/docs/api/java/lang/SecurityManager.html","body":"Looks like you have to set SecurityManager  <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/SecurityManager.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/lang/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8446144,"reputation":577,"user_id":6336728,"display_name":"timlg07"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696801089,"creation_date":1696769490,"answer_id":77253689,"question_id":59998928,"body_markdown":"While for this exact situation, a SecurityManager might be the best fit (even though it is deprecated and marked for removal without replacement since Java 17), you actually can restrict access to other classes via the class loader.\r\n\r\nThis can be done by overriding your class loader&#39;s `loadClass` method.  \r\nIt is essential to understand the delegation model for class loaders to restrict it:\r\n\r\n&gt; The ClassLoader class uses a delegation model to search for classes\r\n&gt; and resources. Each instance of ClassLoader has an associated parent\r\n&gt; class loader. When requested to find a class or resource, a\r\n&gt; ClassLoader instance will delegate the search for the class or\r\n&gt; resource to its parent class loader before attempting to find the\r\n&gt; class or resource itself. The virtual machine&#39;s built-in class loader,\r\n&gt; called the &quot;bootstrap class loader&quot;, does not itself have a parent but\r\n&gt; may serve as the parent of a ClassLoader instance.\r\n\r\nThe role of the `loadClass` method is the following:\r\n\r\n&gt; Loads the class with the specified binary name. The default\r\n&gt; implementation of this method searches for classes in the following\r\n&gt; order: \r\n&gt; - Invoke findLoadedClass(String) to check if the class has\r\n&gt; already been loaded.\r\n&gt; \r\n&gt; - Invoke the loadClass method on the parent class loader. If the parent\r\n&gt; is null the class loader built-in to the virtual machine is used,\r\n&gt; instead.\r\n&gt; \r\n&gt; - Invoke the findClass(String) method to find the class.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html\r\n\r\nSo if we override `findClass` our code is only called if the parent class loader could not load/find the class. But we want to intercept all loaded classes, so we need to override `loadClass` instead:\r\n\r\n\r\n    @Override\r\n    public Class&lt;?&gt; loadClass(String name) throws ClassNotFoundException {\r\n        synchronized (getClassLoadingLock(name)) {\r\n            if (allowDelegateLoadingOf(name)) {\r\n                System.out.println(&quot;Delegate loading of &quot; + name + &quot; to parent class loader.&quot;);\r\n                return super.loadClass(name);\r\n            }\r\n\r\n            System.out.println(&quot;Prohibit class from delegating: &quot; + name);\r\n            return findClass(name);\r\n        }\r\n    }\r\n\r\nIn this case the `allowDelegateLoadingOf` is just a simple boolean method that determines if a class should be delegated and therefore loaded or not. This can be done by simply checking the class name against a list of whitelisted or blacklisted packages/classes.","title":"Custom Class loader to restrict access to classes","body":"<p>While for this exact situation, a SecurityManager might be the best fit (even though it is deprecated and marked for removal without replacement since Java 17), you actually can restrict access to other classes via the class loader.</p>\n<p>This can be done by overriding your class loader's <code>loadClass</code> method.<br />\nIt is essential to understand the delegation model for class loaders to restrict it:</p>\n<blockquote>\n<p>The ClassLoader class uses a delegation model to search for classes\nand resources. Each instance of ClassLoader has an associated parent\nclass loader. When requested to find a class or resource, a\nClassLoader instance will delegate the search for the class or\nresource to its parent class loader before attempting to find the\nclass or resource itself. The virtual machine's built-in class loader,\ncalled the &quot;bootstrap class loader&quot;, does not itself have a parent but\nmay serve as the parent of a ClassLoader instance.</p>\n</blockquote>\n<p>The role of the <code>loadClass</code> method is the following:</p>\n<blockquote>\n<p>Loads the class with the specified binary name. The default\nimplementation of this method searches for classes in the following\norder:</p>\n<ul>\n<li><p>Invoke findLoadedClass(String) to check if the class has\nalready been loaded.</p>\n</li>\n<li><p>Invoke the loadClass method on the parent class loader. If the parent\nis null the class loader built-in to the virtual machine is used,\ninstead.</p>\n</li>\n<li><p>Invoke the findClass(String) method to find the class.</p>\n</li>\n</ul>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html</a></p>\n<p>So if we override <code>findClass</code> our code is only called if the parent class loader could not load/find the class. But we want to intercept all loaded classes, so we need to override <code>loadClass</code> instead:</p>\n<pre><code>@Override\npublic Class&lt;?&gt; loadClass(String name) throws ClassNotFoundException {\n    synchronized (getClassLoadingLock(name)) {\n        if (allowDelegateLoadingOf(name)) {\n            System.out.println(&quot;Delegate loading of &quot; + name + &quot; to parent class loader.&quot;);\n            return super.loadClass(name);\n        }\n\n        System.out.println(&quot;Prohibit class from delegating: &quot; + name);\n        return findClass(name);\n    }\n}\n</code></pre>\n<p>In this case the <code>allowDelegateLoadingOf</code> is just a simple boolean method that determines if a class should be delegated and therefore loaded or not. This can be done by simply checking the class name against a list of whitelisted or blacklisted packages/classes.</p>\n"}],"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696801089,"creation_date":1580452099,"question_id":59998928,"body_markdown":"My application have this custom classloader:\r\n\r\n    JarByteClassloader loader = new JarByteClassloader(jar);\r\n    Class c = loader.loadClass(classToLoad);\r\n    Thread.currentThread().setContextClassLoader(loader);\r\n    JarEntryObject jarEntry = (JarEntryObject) c.newInstance();\r\n\r\nI&#39;d like to ask if it&#39;s possible to restrict access to specific classes from the instances loaded by a custom classloader? \r\n\r\nAs such, for example, `System.getProperty()` or `System.getenv()` should fail. In what way can this be done? ","title":"Custom Class loader to restrict access to classes","body":"<p>My application have this custom classloader:</p>\n\n<pre><code>JarByteClassloader loader = new JarByteClassloader(jar);\nClass c = loader.loadClass(classToLoad);\nThread.currentThread().setContextClassLoader(loader);\nJarEntryObject jarEntry = (JarEntryObject) c.newInstance();\n</code></pre>\n\n<p>I'd like to ask if it's possible to restrict access to specific classes from the instances loaded by a custom classloader? </p>\n\n<p>As such, for example, <code>System.getProperty()</code> or <code>System.getenv()</code> should fail. In what way can this be done? </p>\n"},{"tags":["java","eclipse","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":2188639,"reputation":2082,"user_id":1936390,"accept_rate":20,"display_name":"shreyansh jogi"},"score":0,"creation_date":1385450656,"post_id":20210853,"comment_id":30136431,"body_markdown":"iterate it and simple increase counter by one","body":"iterate it and simple increase counter by one"},{"owner":{"account_id":3364665,"reputation":143,"user_id":2825603,"accept_rate":40,"display_name":"Jaydev"},"score":0,"creation_date":1385450851,"post_id":20210853,"comment_id":30136522,"body_markdown":"dont we have any inbuilt function for that?","body":"dont we have any inbuilt function for that?"},{"owner":{"account_id":158028,"reputation":1877,"user_id":376365,"accept_rate":17,"display_name":"CMerrill"},"score":0,"creation_date":1395673052,"post_id":20210853,"comment_id":34432014,"body_markdown":"Why haven&#39;t you accepted one of the answers?","body":"Why haven&#39;t you accepted one of the answers?"},{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":0,"creation_date":1472816633,"post_id":20210853,"comment_id":65916691,"body_markdown":"As the element as ID, you should use ID instead of xpath. Because ID is more preferable than xpath.","body":"As the element as ID, you should use ID instead of xpath. Because ID is more preferable than xpath."}],"answers":[{"tags":[],"owner":{"account_id":3599950,"reputation":395,"user_id":3003463,"display_name":"Ajay"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1696800925,"creation_date":1385451875,"answer_id":20211224,"question_id":20210853,"body_markdown":"Use `.getOptions()` method and store them in a list .Then find its size.\r\n\r\n    Select se = new Select(driver.findElement(By.id(&quot;select drop down locator&quot;)));\r\n\r\n    List&lt;WebElement&gt; l = se.getOptions();\r\n    l.size();\r\n\r\n\r\n","title":"How to count the number of options in a select drop down box in Selenium WebDriver using Java?","body":"<p>Use <code>.getOptions()</code> method and store them in a list .Then find its size.</p>\n<pre><code>Select se = new Select(driver.findElement(By.id(&quot;select drop down locator&quot;)));\n\nList&lt;WebElement&gt; l = se.getOptions();\nl.size();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3865924,"reputation":21,"user_id":3202485,"display_name":"Meena T"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390292989,"creation_date":1389875884,"answer_id":21162006,"question_id":20210853,"body_markdown":"Use `.getXpathCount()` method\r\n\r\n    int numOptions = selenium.getXpathCount(&quot;//*[@id=&#39;ddlTablePay&#39;]/option&quot;).intValue();","title":"How to count the number of options in a select drop down box in Selenium WebDriver using Java?","body":"<p>Use <code>.getXpathCount()</code> method</p>\n\n<pre><code>int numOptions = selenium.getXpathCount(\"//*[@id='ddlTablePay']/option\").intValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1625469,"reputation":4314,"user_id":1501118,"accept_rate":36,"display_name":"Sharanabasu Angadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442399628,"creation_date":1442399628,"answer_id":32606170,"question_id":20210853,"body_markdown":"    optionItems = Select(driver.find_element_by_xpath(&quot;//select[@id=&#39;ddlTablePay&#39;]&quot;))\r\n    print &quot;Total Elements &quot; + str(len(optionItems.options))\r\n\r\n","title":"How to count the number of options in a select drop down box in Selenium WebDriver using Java?","body":"<pre><code>optionItems = Select(driver.find_element_by_xpath(\"//select[@id='ddlTablePay']\"))\nprint \"Total Elements \" + str(len(optionItems.options))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1527414,"reputation":2329,"user_id":1425488,"accept_rate":82,"display_name":"Scorpio"},"score":0,"creation_date":1443526310,"post_id":32842373,"comment_id":53519861,"body_markdown":"maybe elaborate on the solution?","body":"maybe elaborate on the solution?"}],"tags":[],"owner":{"account_id":7033595,"reputation":31,"user_id":5388492,"display_name":"IVI4K LI"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1443525291,"creation_date":1443524977,"answer_id":32842373,"question_id":20210853,"body_markdown":"    String[] options = driver.findElement(By.id(&quot;dropdown&quot;)).getText().split(&quot;\\n&quot;);\r\n    options.length;","title":"How to count the number of options in a select drop down box in Selenium WebDriver using Java?","body":"<pre><code>String[] options = driver.findElement(By.id(\"dropdown\")).getText().split(\"\\n\");\noptions.length;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":0,"creation_date":1472818304,"post_id":39292110,"comment_id":65917803,"body_markdown":"I have used ID instead of xpath though xpath also definitely works. ID is more preferable than xpath if any control/element has ID.","body":"I have used ID instead of xpath though xpath also definitely works. ID is more preferable than xpath if any control/element has ID."}],"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696800901,"creation_date":1472818221,"answer_id":39292110,"question_id":20210853,"body_markdown":"To count the number of options\r\n\r\n    Select dropDown = new Select(driver.findElement(By.id(&quot;ddlTablePay&quot;)));\r\n    List&lt;WebElement&gt; elementCount = dropDown.getOptions();\r\n    System.out.println(&quot;Number of items: &quot; + elementCount.size());\r\n\r\nTo get and print all the Options\r\n\r\n    Select dropDown = new Select(driver.findElement(By.id(&quot;ddlTablePay&quot;)));\r\n    \t\tList &lt;WebElement&gt; elementCount = dropDown.getOptions();\r\n    \t\tint itemSize = elementCount.size();\r\n    \t\tfor(int i = 0; i &lt; itemSize ; i++){\r\n    \t\t\tString optionsValue = elementCount.get(i).getText();\r\n    \t\t\tSystem.out.println(optionsValue);\r\n    \t\t}\r\n\r\n","title":"How to count the number of options in a select drop down box in Selenium WebDriver using Java?","body":"<p>To count the number of options</p>\n<pre><code>Select dropDown = new Select(driver.findElement(By.id(&quot;ddlTablePay&quot;)));\nList&lt;WebElement&gt; elementCount = dropDown.getOptions();\nSystem.out.println(&quot;Number of items: &quot; + elementCount.size());\n</code></pre>\n<p>To get and print all the Options</p>\n<pre><code>Select dropDown = new Select(driver.findElement(By.id(&quot;ddlTablePay&quot;)));\n        List &lt;WebElement&gt; elementCount = dropDown.getOptions();\n        int itemSize = elementCount.size();\n        for(int i = 0; i &lt; itemSize ; i++){\n            String optionsValue = elementCount.get(i).getText();\n            System.out.println(optionsValue);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10205950,"reputation":321,"user_id":7534680,"display_name":"Aawara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665207494,"creation_date":1665207494,"answer_id":73994662,"question_id":20210853,"body_markdown":"Pass the xpath of the dropdown whose count you want:\r\n\r\n    static int getDropdownListCount(String xpath) {\r\n    \t\t\r\n    \tWebElement element = driver.findElement(By.xpath(xpath));\r\n    \tSelect select = new Select(element);\r\n    \tList&lt;WebElement&gt; elements = select.getOptions();\r\n    \treturn elements.size();\r\n    }\r\n\r\nIt&#39;ll return count of total number of options under that dropdown.","title":"How to count the number of options in a select drop down box in Selenium WebDriver using Java?","body":"<p>Pass the xpath of the dropdown whose count you want:</p>\n<pre><code>static int getDropdownListCount(String xpath) {\n        \n    WebElement element = driver.findElement(By.xpath(xpath));\n    Select select = new Select(element);\n    List&lt;WebElement&gt; elements = select.getOptions();\n    return elements.size();\n}\n</code></pre>\n<p>It'll return count of total number of options under that dropdown.</p>\n"},{"tags":[],"owner":{"account_id":17487416,"reputation":1,"user_id":12680170,"display_name":"Divesh Pathak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696800879,"creation_date":1696501465,"answer_id":77236273,"question_id":20210853,"body_markdown":"you can use the below syntax to count the number of element in drop down list. First you need to read anyone element from drop down list as below. \r\n```\r\nString report1 = driver.findElement(By.xpath(&quot;xpath of first element of dropdown list&quot;)).getText();\r\n\r\nString [] element = driver.findElement(By.xpath(&quot;your-xpath-complete drop down section&quot;)).getText().split(&quot;\\n&quot;);\r\n\r\nelements.length\r\n```\r\nelements.length is the number of elements present in your drop down list","title":"How to count the number of options in a select drop down box in Selenium WebDriver using Java?","body":"<p>you can use the below syntax to count the number of element in drop down list. First you need to read anyone element from drop down list as below.</p>\n<pre><code>String report1 = driver.findElement(By.xpath(&quot;xpath of first element of dropdown list&quot;)).getText();\n\nString [] element = driver.findElement(By.xpath(&quot;your-xpath-complete drop down section&quot;)).getText().split(&quot;\\n&quot;);\n\nelements.length\n</code></pre>\n<p>elements.length is the number of elements present in your drop down list</p>\n"}],"owner":{"account_id":3364665,"reputation":143,"user_id":2825603,"accept_rate":40,"display_name":"Jaydev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49421,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":7,"score":8,"last_activity_date":1696800925,"creation_date":1385450619,"question_id":20210853,"body_markdown":"I have Select Dropdown list with this: \r\n\r\n    xpath //*[@id=&quot;ddlTablePay&quot;] \r\n\r\nI need to count the number of options in this drop-down. Thank You","title":"How to count the number of options in a select drop down box in Selenium WebDriver using Java?","body":"<p>I have Select Dropdown list with this: </p>\n\n<pre><code>xpath //*[@id=\"ddlTablePay\"] \n</code></pre>\n\n<p>I need to count the number of options in this drop-down. Thank You</p>\n"},{"tags":["java","javafx","netbeans","java-8","scenebuilder"],"answers":[{"comments":[{"owner":{"account_id":29627250,"reputation":61,"user_id":22706630,"display_name":"Enzo Pirineli Pacheco"},"score":0,"creation_date":1696869003,"post_id":77255059,"comment_id":136205180,"body_markdown":"I tested your solution and it worked perfectly, thank you very much for your help!","body":"I tested your solution and it worked perfectly, thank you very much for your help!"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1696869101,"post_id":77255059,"comment_id":136205200,"body_markdown":"@EnzoPirineliPacheco Please accept the answer if it answers the question. It will make it easier for other users to find.","body":"@EnzoPirineliPacheco Please accept the answer if it answers the question. It will make it easier for other users to find."},{"owner":{"account_id":29627250,"reputation":61,"user_id":22706630,"display_name":"Enzo Pirineli Pacheco"},"score":0,"creation_date":1696881153,"post_id":77255059,"comment_id":136207239,"body_markdown":"Could you help me with one more step? I thought about creating a class for the circles, but I don&#39;t know how to do it...\n\nI can send you my complete codes to view!","body":"Could you help me with one more step? I thought about creating a class for the circles, but I don&#39;t know how to do it...  I can send you my complete codes to view!"}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696799423,"creation_date":1696793689,"answer_id":77255059,"question_id":77255002,"body_markdown":"Keyboard events are only delivered to the node with the keyboard focus. So when the circle is selected, you need to request that the circle has focus:\r\n\r\n    private void handleCircleClick(Circle clickedCircle) {\r\n        /*circles.forEach((circle) -&gt; {\r\n        circle.setStroke(Color.TRANSPARENT);\r\n        });*/\r\n        \r\n        if(selectedCircle != null){\r\n            selectedCircle.setStroke(Color.TRANSPARENT);\r\n        }\r\n        \r\n        selectedCircle = clickedCircle;\r\n        selectedCircle.setStroke(Color.BLACK);\r\n        selectedCircle.setStrokeWidth(2.0);\r\n\r\n        selectedCircle.requestFocus();\r\n    }\r\n\r\nAdditionally, the default keyboard handlers on the scene will move focus to other nodes for certain key presses. So you probably want to consume the events for keys you are handling to prevent keyboard focus from moving:\r\n\r\n    private void handleCircleMovement(KeyEvent event, Circle circle){\r\n        if(event.getCode() == KeyCode.LEFT){\r\n            circle.setCenterX(circle.getCenterX() - 10);\r\n            event.consume();\r\n        } else if(event.getCode() == KeyCode.RIGHT){\r\n            circle.setCenterX(circle.getCenterX() + 10);\r\n            event.consume();\r\n        } else if(event.getCode() == KeyCode.UP){\r\n            circle.setCenterY(circle.getCenterY() - 10);\r\n            event.consume();\r\n        } else if(event.getCode() == KeyCode.DOWN){\r\n            circle.setCenterY(circle.getCenterY() + 10);\r\n            event.consume();\r\n        }\r\n\r\n    }\r\n\r\n---\r\n\r\nAs an alternative solution, you might also consider adding the key listener to the scene, instead of to the individual circles. First, define a method in the controller to move the selected circle, and remove the existing key handler code:\r\n\r\n```\r\npublic class FXMLDocumentController implements Initializable {\r\n\r\n    @FXML\r\n    private Pane containerPane;\r\n\r\n    @FXML\r\n    private Button addCircleButton;\r\n\r\n    @FXML\r\n    private ColorPicker colorPicker;\r\n\r\n    @FXML\r\n    private Slider sizeSlider;\r\n\r\n    private List&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\r\n    private Circle selectedCircle = null;\r\n\r\n    @FXML\r\n    private void handleAddCircleButton(ActionEvent event) {\r\n\r\n        Random rand = new Random();\r\n        int x = rand.nextInt(500);\r\n        int y = rand.nextInt(200);\r\n\r\n        Color selectedColor = colorPicker.getValue();\r\n        double selectedSize = sizeSlider.getValue();\r\n\r\n        Circle circle = new Circle(x, y, selectedSize, selectedColor);\r\n\r\n        circle.setOnMouseClicked((MouseEvent e) -&gt; {\r\n            handleCircleClick(circle);\r\n        });\r\n\r\n//        circle.setOnKeyPressed((KeyEvent e) -&gt; {\r\n//            handleCircleMovement(e, circle);\r\n//        });\r\n\r\n        circles.add(circle);\r\n        containerPane.getChildren().add(circle);\r\n\r\n\r\n        System.out.println(&quot;New circle was created!&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n        // TODO\r\n    }\r\n\r\n    private void handleCircleClick(Circle clickedCircle) {\r\n        /*circles.forEach((circle) -&gt; {\r\n        circle.setStroke(Color.TRANSPARENT);\r\n        });*/\r\n\r\n        if(selectedCircle != null){\r\n            selectedCircle.setStroke(Color.TRANSPARENT);\r\n        }\r\n\r\n        selectedCircle = clickedCircle;\r\n        selectedCircle.setStroke(Color.BLACK);\r\n        selectedCircle.setStrokeWidth(2.0);\r\n\r\n        selectedCircle.requestFocus();\r\n    }\r\n\r\n    public void moveSelectedCircle(double deltaX, double deltaY) {\r\n        if (selectedCircle != null) {\r\n            selectedCircle.setCenterX(selectedCircle.getCenterX() + deltaX);\r\n            selectedCircle.setCenterY(selectedCircle.getCenterY() + deltaY);\r\n        }\r\n    }\r\n\r\n//    private void handleCircleMovement(KeyEvent event, Circle circle){\r\n//        if(event.getCode() == KeyCode.LEFT){\r\n//            circle.setCenterX(circle.getCenterX() - 10);\r\n//            event.consume();\r\n//        } else if(event.getCode() == KeyCode.RIGHT){\r\n//            circle.setCenterX(circle.getCenterX() + 10);\r\n//            event.consume();\r\n//        } else if(event.getCode() == KeyCode.UP){\r\n//            circle.setCenterY(circle.getCenterY() - 10);\r\n//            event.consume();\r\n//        } else if(event.getCode() == KeyCode.DOWN){\r\n//            circle.setCenterY(circle.getCenterY() + 10);\r\n//            event.consume();\r\n//        }\r\n//\r\n//    }\r\n\r\n\r\n}\r\n```\r\n\r\nThen, modify the application code to retrieve a reference to the controller. Add a key pressed handler to the scene and invoke the `moveSelectedCircle(...)` method on the controller with the appropriate parameter values:\r\n\r\n```\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class AddCircleApp extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\r\n        Parent root = loader.load();\r\n        FXMLDocumentController controller = loader.getController();\r\n\r\n        Scene scene = new Scene(root);\r\n        scene.addEventFilter(KeyEvent.KEY_PRESSED, e -&gt; {\r\n            double deltaX = switch (e.getCode()) {\r\n                case LEFT -&gt; -10;\r\n                case RIGHT -&gt; 10;\r\n                default -&gt; 0;\r\n            };\r\n            double deltaY = switch (e.getCode()) {\r\n                case UP -&gt; -10;\r\n                case DOWN -&gt; 10;\r\n                default -&gt; 0;\r\n            };\r\n            switch (e.getCode()) {\r\n                case LEFT, RIGHT, UP, DOWN -&gt; {\r\n                    controller.moveSelectedCircle(deltaX, deltaY);\r\n                    e.consume();\r\n                }\r\n            }\r\n        });\r\n\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n}\r\n```","title":"I can&#39;t move a circle shape using the keyboard in javaFX","body":"<p>Keyboard events are only delivered to the node with the keyboard focus. So when the circle is selected, you need to request that the circle has focus:</p>\n<pre><code>private void handleCircleClick(Circle clickedCircle) {\n    /*circles.forEach((circle) -&gt; {\n    circle.setStroke(Color.TRANSPARENT);\n    });*/\n    \n    if(selectedCircle != null){\n        selectedCircle.setStroke(Color.TRANSPARENT);\n    }\n    \n    selectedCircle = clickedCircle;\n    selectedCircle.setStroke(Color.BLACK);\n    selectedCircle.setStrokeWidth(2.0);\n\n    selectedCircle.requestFocus();\n}\n</code></pre>\n<p>Additionally, the default keyboard handlers on the scene will move focus to other nodes for certain key presses. So you probably want to consume the events for keys you are handling to prevent keyboard focus from moving:</p>\n<pre><code>private void handleCircleMovement(KeyEvent event, Circle circle){\n    if(event.getCode() == KeyCode.LEFT){\n        circle.setCenterX(circle.getCenterX() - 10);\n        event.consume();\n    } else if(event.getCode() == KeyCode.RIGHT){\n        circle.setCenterX(circle.getCenterX() + 10);\n        event.consume();\n    } else if(event.getCode() == KeyCode.UP){\n        circle.setCenterY(circle.getCenterY() - 10);\n        event.consume();\n    } else if(event.getCode() == KeyCode.DOWN){\n        circle.setCenterY(circle.getCenterY() + 10);\n        event.consume();\n    }\n\n}\n</code></pre>\n<hr />\n<p>As an alternative solution, you might also consider adding the key listener to the scene, instead of to the individual circles. First, define a method in the controller to move the selected circle, and remove the existing key handler code:</p>\n<pre><code>public class FXMLDocumentController implements Initializable {\n\n    @FXML\n    private Pane containerPane;\n\n    @FXML\n    private Button addCircleButton;\n\n    @FXML\n    private ColorPicker colorPicker;\n\n    @FXML\n    private Slider sizeSlider;\n\n    private List&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\n    private Circle selectedCircle = null;\n\n    @FXML\n    private void handleAddCircleButton(ActionEvent event) {\n\n        Random rand = new Random();\n        int x = rand.nextInt(500);\n        int y = rand.nextInt(200);\n\n        Color selectedColor = colorPicker.getValue();\n        double selectedSize = sizeSlider.getValue();\n\n        Circle circle = new Circle(x, y, selectedSize, selectedColor);\n\n        circle.setOnMouseClicked((MouseEvent e) -&gt; {\n            handleCircleClick(circle);\n        });\n\n//        circle.setOnKeyPressed((KeyEvent e) -&gt; {\n//            handleCircleMovement(e, circle);\n//        });\n\n        circles.add(circle);\n        containerPane.getChildren().add(circle);\n\n\n        System.out.println(&quot;New circle was created!&quot;);\n    }\n\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n        // TODO\n    }\n\n    private void handleCircleClick(Circle clickedCircle) {\n        /*circles.forEach((circle) -&gt; {\n        circle.setStroke(Color.TRANSPARENT);\n        });*/\n\n        if(selectedCircle != null){\n            selectedCircle.setStroke(Color.TRANSPARENT);\n        }\n\n        selectedCircle = clickedCircle;\n        selectedCircle.setStroke(Color.BLACK);\n        selectedCircle.setStrokeWidth(2.0);\n\n        selectedCircle.requestFocus();\n    }\n\n    public void moveSelectedCircle(double deltaX, double deltaY) {\n        if (selectedCircle != null) {\n            selectedCircle.setCenterX(selectedCircle.getCenterX() + deltaX);\n            selectedCircle.setCenterY(selectedCircle.getCenterY() + deltaY);\n        }\n    }\n\n//    private void handleCircleMovement(KeyEvent event, Circle circle){\n//        if(event.getCode() == KeyCode.LEFT){\n//            circle.setCenterX(circle.getCenterX() - 10);\n//            event.consume();\n//        } else if(event.getCode() == KeyCode.RIGHT){\n//            circle.setCenterX(circle.getCenterX() + 10);\n//            event.consume();\n//        } else if(event.getCode() == KeyCode.UP){\n//            circle.setCenterY(circle.getCenterY() - 10);\n//            event.consume();\n//        } else if(event.getCode() == KeyCode.DOWN){\n//            circle.setCenterY(circle.getCenterY() + 10);\n//            event.consume();\n//        }\n//\n//    }\n\n\n}\n</code></pre>\n<p>Then, modify the application code to retrieve a reference to the controller. Add a key pressed handler to the scene and invoke the <code>moveSelectedCircle(...)</code> method on the controller with the appropriate parameter values:</p>\n<pre><code>\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class AddCircleApp extends Application {\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\n        Parent root = loader.load();\n        FXMLDocumentController controller = loader.getController();\n\n        Scene scene = new Scene(root);\n        scene.addEventFilter(KeyEvent.KEY_PRESSED, e -&gt; {\n            double deltaX = switch (e.getCode()) {\n                case LEFT -&gt; -10;\n                case RIGHT -&gt; 10;\n                default -&gt; 0;\n            };\n            double deltaY = switch (e.getCode()) {\n                case UP -&gt; -10;\n                case DOWN -&gt; 10;\n                default -&gt; 0;\n            };\n            switch (e.getCode()) {\n                case LEFT, RIGHT, UP, DOWN -&gt; {\n                    controller.moveSelectedCircle(deltaX, deltaY);\n                    e.consume();\n                }\n            }\n        });\n\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":29627250,"reputation":61,"user_id":22706630,"display_name":"Enzo Pirineli Pacheco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77255059,"answer_count":1,"score":1,"last_activity_date":1696799423,"creation_date":1696792520,"question_id":77255002,"body_markdown":"I&#39;m developing a challenge in which I must add a new circle to the screen every time the user presses a button. In addition to allowing the user to choose the size and color of the circle to be added. I managed to develop this functionality!\r\n\r\nThe next step is to select a circle, highlight it from the others and allow you to move it around the interface using the arrow keys. The first part I managed to develop, every time the user selects a circle with the mouse, a border appears on it, highlighting it. However, I am unable to develop the move functionality.  Whenever I click an arrow key, the circle doesn&#39;t move, instead, what changes is the focus between the buttons.\r\n\r\nCould you help me, please?\r\n\r\nThis is my FXMLDocumentController.java:\r\n\r\n``` java\r\npackage addcircleapp;\r\n\r\nimport java.net.URL;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ColorPicker;\r\nimport javafx.scene.control.Slider;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.input.KeyCode;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\nimport java.util.ResourceBundle;\r\n\r\npublic class FXMLDocumentController implements Initializable {\r\n    \r\n    @FXML\r\n    private Pane containerPane;\r\n    \r\n    @FXML\r\n    private Button addCircleButton;\r\n    \r\n    @FXML\r\n    private ColorPicker colorPicker;\r\n    \r\n    @FXML\r\n    private Slider sizeSlider;\r\n    \r\n    private List&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\r\n    private Circle selectedCircle = null;\r\n    \r\n    @FXML\r\n    private void handleAddCircleButton(ActionEvent event) {\r\n        \r\n        Random rand = new Random();\r\n        int x = rand.nextInt(500);\r\n        int y = rand.nextInt(200);\r\n        \r\n        Color selectedColor = colorPicker.getValue();\r\n        double selectedSize = sizeSlider.getValue();\r\n        \r\n        Circle circle = new Circle(x, y, selectedSize, selectedColor);\r\n        \r\n        circle.setOnMouseClicked((MouseEvent e) -&gt; {\r\n            handleCircleClick(circle);\r\n        });\r\n        \r\n        circle.setOnKeyPressed((KeyEvent e) -&gt; {\r\n            handleCircleMovement(e, circle);\r\n        });\r\n        \r\n        circles.add(circle);\r\n        containerPane.getChildren().add(circle);\r\n        \r\n        System.out.println(&quot;New circle was created!&quot;);\r\n    }\r\n    \r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n        // TODO\r\n    }    \r\n\r\n    private void handleCircleClick(Circle clickedCircle) {\r\n        /*circles.forEach((circle) -&gt; {\r\n        circle.setStroke(Color.TRANSPARENT);\r\n        });*/\r\n        \r\n        if(selectedCircle != null){\r\n            selectedCircle.setStroke(Color.TRANSPARENT);\r\n        }\r\n        \r\n        selectedCircle = clickedCircle;\r\n        selectedCircle.setStroke(Color.BLACK);\r\n        selectedCircle.setStrokeWidth(2.0);\r\n    }\r\n    \r\n    private void handleCircleMovement(KeyEvent event, Circle circle){\r\n        if(event.getCode() == KeyCode.LEFT){\r\n            circle.setCenterX(circle.getCenterX() - 10);\r\n        } else if(event.getCode() == KeyCode.RIGHT){\r\n            circle.setCenterX(circle.getCenterX() + 10);\r\n        } else if(event.getCode() == KeyCode.UP){\r\n            circle.setCenterY(circle.getCenterY() - 10);\r\n        } else if(event.getCode() == KeyCode.DOWN){\r\n            circle.setCenterY(circle.getCenterY() + 10);\r\n        }\r\n    \r\n    }    \r\n        \r\n        \r\n}\r\n\r\n```\r\n\r\n\r\nThis is my FXMLDocument.fxml:\r\n\r\n``` xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.ColorPicker?&gt;\r\n&lt;?import javafx.scene.control.Slider?&gt;\r\n&lt;?import javafx.scene.layout.Pane?&gt;\r\n\r\n\r\n&lt;Pane fx:id=&quot;containerPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;addcircleapp.FXMLDocumentController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Button fx:id=&quot;addCircleButton&quot; layoutX=&quot;345.0&quot; layoutY=&quot;362.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleAddCircleButton&quot; text=&quot;AddCircle&quot; /&gt;\r\n      &lt;ColorPicker fx:id=&quot;colorPicker&quot; layoutX=&quot;14.0&quot; layoutY=&quot;361.0&quot; /&gt;\r\n      &lt;Slider fx:id=&quot;sizeSlider&quot; blockIncrement=&quot;1.0&quot; layoutX=&quot;180.0&quot; layoutY=&quot;367.0&quot; min=&quot;1.0&quot; value=&quot;50.0&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/Pane&gt;\r\n```\r\n\r\n\r\nThis is my AddCircleApp.java:\r\n\r\n``` java\r\npackage addcircleapp;\r\n\r\nimport java.util.ArrayList;\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class AddCircleApp extends Application {\r\n    \r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\r\n        \r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nThis is a screenshot of the interface:\r\n[Interface](https://i.stack.imgur.com/FMU7B.png)\r\n\r\nThis is a gif of the problem:\r\n[Problem](https://i.stack.imgur.com/3mIVb.gif)\r\n\r\nI want to move the selected circle around the interface, and not change the focus between the inputs present in the interface. I already tried to find the solution using ChatGPT, but I was unsuccessful.","title":"I can&#39;t move a circle shape using the keyboard in javaFX","body":"<p>I'm developing a challenge in which I must add a new circle to the screen every time the user presses a button. In addition to allowing the user to choose the size and color of the circle to be added. I managed to develop this functionality!</p>\n<p>The next step is to select a circle, highlight it from the others and allow you to move it around the interface using the arrow keys. The first part I managed to develop, every time the user selects a circle with the mouse, a border appears on it, highlighting it. However, I am unable to develop the move functionality.  Whenever I click an arrow key, the circle doesn't move, instead, what changes is the focus between the buttons.</p>\n<p>Could you help me, please?</p>\n<p>This is my FXMLDocumentController.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package addcircleapp;\n\nimport java.net.URL;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ColorPicker;\nimport javafx.scene.control.Slider;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.ResourceBundle;\n\npublic class FXMLDocumentController implements Initializable {\n    \n    @FXML\n    private Pane containerPane;\n    \n    @FXML\n    private Button addCircleButton;\n    \n    @FXML\n    private ColorPicker colorPicker;\n    \n    @FXML\n    private Slider sizeSlider;\n    \n    private List&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\n    private Circle selectedCircle = null;\n    \n    @FXML\n    private void handleAddCircleButton(ActionEvent event) {\n        \n        Random rand = new Random();\n        int x = rand.nextInt(500);\n        int y = rand.nextInt(200);\n        \n        Color selectedColor = colorPicker.getValue();\n        double selectedSize = sizeSlider.getValue();\n        \n        Circle circle = new Circle(x, y, selectedSize, selectedColor);\n        \n        circle.setOnMouseClicked((MouseEvent e) -&gt; {\n            handleCircleClick(circle);\n        });\n        \n        circle.setOnKeyPressed((KeyEvent e) -&gt; {\n            handleCircleMovement(e, circle);\n        });\n        \n        circles.add(circle);\n        containerPane.getChildren().add(circle);\n        \n        System.out.println(&quot;New circle was created!&quot;);\n    }\n    \n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n        // TODO\n    }    \n\n    private void handleCircleClick(Circle clickedCircle) {\n        /*circles.forEach((circle) -&gt; {\n        circle.setStroke(Color.TRANSPARENT);\n        });*/\n        \n        if(selectedCircle != null){\n            selectedCircle.setStroke(Color.TRANSPARENT);\n        }\n        \n        selectedCircle = clickedCircle;\n        selectedCircle.setStroke(Color.BLACK);\n        selectedCircle.setStrokeWidth(2.0);\n    }\n    \n    private void handleCircleMovement(KeyEvent event, Circle circle){\n        if(event.getCode() == KeyCode.LEFT){\n            circle.setCenterX(circle.getCenterX() - 10);\n        } else if(event.getCode() == KeyCode.RIGHT){\n            circle.setCenterX(circle.getCenterX() + 10);\n        } else if(event.getCode() == KeyCode.UP){\n            circle.setCenterY(circle.getCenterY() - 10);\n        } else if(event.getCode() == KeyCode.DOWN){\n            circle.setCenterY(circle.getCenterY() + 10);\n        }\n    \n    }    \n        \n        \n}\n\n</code></pre>\n<p>This is my FXMLDocument.fxml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ColorPicker?&gt;\n&lt;?import javafx.scene.control.Slider?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n\n\n&lt;Pane fx:id=&quot;containerPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;addcircleapp.FXMLDocumentController&quot;&gt;\n   &lt;children&gt;\n      &lt;Button fx:id=&quot;addCircleButton&quot; layoutX=&quot;345.0&quot; layoutY=&quot;362.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleAddCircleButton&quot; text=&quot;AddCircle&quot; /&gt;\n      &lt;ColorPicker fx:id=&quot;colorPicker&quot; layoutX=&quot;14.0&quot; layoutY=&quot;361.0&quot; /&gt;\n      &lt;Slider fx:id=&quot;sizeSlider&quot; blockIncrement=&quot;1.0&quot; layoutX=&quot;180.0&quot; layoutY=&quot;367.0&quot; min=&quot;1.0&quot; value=&quot;50.0&quot; /&gt;\n   &lt;/children&gt;\n&lt;/Pane&gt;\n</code></pre>\n<p>This is my AddCircleApp.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package addcircleapp;\n\nimport java.util.ArrayList;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class AddCircleApp extends Application {\n    \n    @Override\n    public void start(Stage stage) throws Exception {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\n        \n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        launch(args);\n    }\n    \n}\n\n</code></pre>\n<p>This is a screenshot of the interface:\n<a href=\"https://i.stack.imgur.com/FMU7B.png\" rel=\"nofollow noreferrer\">Interface</a></p>\n<p>This is a gif of the problem:\n<a href=\"https://i.stack.imgur.com/3mIVb.gif\" rel=\"nofollow noreferrer\">Problem</a></p>\n<p>I want to move the selected circle around the interface, and not change the focus between the inputs present in the interface. I already tried to find the solution using ChatGPT, but I was unsuccessful.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":1988124,"reputation":163,"user_id":1782902,"display_name":"lumi"},"score":0,"creation_date":1431031528,"post_id":30039882,"comment_id":48333448,"body_markdown":"thanks for your comments..but what is bean.setConverters(...); it shows an error - org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type com.lumiin.mytalk.dto.CityDTO to type com.lumiin.mytalk.model.City","body":"thanks for your comments..but what is bean.setConverters(...); it shows an error - org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type com.lumiin.mytalk.dto.CityDTO to type com.lumiin.mytalk.model.City"},{"owner":{"account_id":1252292,"reputation":1244,"user_id":1212463,"accept_rate":82,"display_name":"lmazgon"},"score":0,"creation_date":1431032484,"post_id":30039882,"comment_id":48333979,"body_markdown":"You probably didn&#39;t specify a converter - you have to create a class, which implements the interface `Converter&lt;City, CityDTO&gt;`, and another one the other way around, then register both in the `ConversionServiceFactoryBean`. Please look at this tutorial: http://www.javabeat.net/introduction-to-spring-converters-and-formatters/","body":"You probably didn&#39;t specify a converter - you have to create a class, which implements the interface <code>Converter&lt;City, CityDTO&gt;</code>, and another one the other way around, then register both in the <code>ConversionServiceFactoryBean</code>. Please look at this tutorial: <a href=\"http://www.javabeat.net/introduction-to-spring-converters-and-formatters/\" rel=\"nofollow noreferrer\">javabeat.net/introduction-to-spring-converters-and-formatter&zwnj;&#8203;s</a>"},{"owner":{"account_id":163292,"reputation":5509,"user_id":385335,"accept_rate":82,"display_name":"cdxf"},"score":0,"creation_date":1523497580,"post_id":30039882,"comment_id":86588790,"body_markdown":"In the Javaconfig, You don&#39;t even need to return a `ConverstionService` from the `ConversionServiceFactoryBean` like the example above, just  return a `ConversionServiceFactoryBean` bean and spring will do the rest for you","body":"In the Javaconfig, You don&#39;t even need to return a <code>ConverstionService</code> from the <code>ConversionServiceFactoryBean</code> like the example above, just  return a <code>ConversionServiceFactoryBean</code> bean and spring will do the rest for you"},{"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"score":0,"creation_date":1656339574,"post_id":30039882,"comment_id":128541176,"body_markdown":"I wouldn&#39;t recommend this: it causes the default `ApplicationConversionService` to be replaced on your application context which means you could lose some useful converters that it provides. (This happens in `AbstractApplicationContext.finishBeanFactoryInitialization`.) Rather add your converters to the conversion services on `Environment` and `BeanFactory`; I&#39;ll show an example that worked for me in an answer.","body":"I wouldn&#39;t recommend this: it causes the default <code>ApplicationConversionService</code> to be replaced on your application context which means you could lose some useful converters that it provides. (This happens in <code>AbstractApplicationContext.finishBeanFactoryInitialization</code>.) Rather add your converters to the conversion services on <code>Environment</code> and <code>BeanFactory</code>; I&#39;ll show an example that worked for me in an answer."}],"tags":[],"owner":{"account_id":1252292,"reputation":1244,"user_id":1212463,"accept_rate":82,"display_name":"lmazgon"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1430773731,"creation_date":1430773255,"answer_id":30039882,"question_id":30039619,"body_markdown":"Apparently there is no `ConversionService` bean available, judging by the last nested exception:\r\n\r\n    org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [org.springframework.core.convert.ConversionService] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency.\r\n\r\nA look into the [Spring documentation][1] reveals, that you should declare a `ConversionService` bean. In the XML configuration it would look like this:\r\n\r\n    &lt;bean id=&quot;conversionService&quot; class=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;converters&quot;&gt;\r\n            &lt;set&gt;\r\n                &lt;bean class=&quot;example.MyCustomConverter&quot;/&gt;\r\n            &lt;/set&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nAnd since you&#39;re using Spring Boot, I assume you are creating the context programatically, so you should create a method annotated with `@Bean`, which returns a `ConverstionService`, like this ([explained here][2]):\r\n\r\n    @Bean(name=&quot;conversionService&quot;)\r\n    public ConversionService getConversionService() {\r\n        ConversionServiceFactoryBean bean = new ConversionServiceFactoryBean();\r\n        bean.setConverters(...); //add converters\r\n        bean.afterPropertiesSet();\r\n        return bean.getObject();\r\n    }\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/validation.html#core-convert-Spring-config\r\n  [2]: https://stackoverflow.com/questions/11273443/how-to-configure-spring-conversionservice-with-java-config","title":"How to Autowired in ConversionService in springboot","body":"<p>Apparently there is no <code>ConversionService</code> bean available, judging by the last nested exception:</p>\n\n<pre><code>org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [org.springframework.core.convert.ConversionService] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency.\n</code></pre>\n\n<p>A look into the <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/validation.html#core-convert-Spring-config\" rel=\"noreferrer\">Spring documentation</a> reveals, that you should declare a <code>ConversionService</code> bean. In the XML configuration it would look like this:</p>\n\n<pre><code>&lt;bean id=\"conversionService\" class=\"org.springframework.context.support.ConversionServiceFactoryBean\"&gt;\n    &lt;property name=\"converters\"&gt;\n        &lt;set&gt;\n            &lt;bean class=\"example.MyCustomConverter\"/&gt;\n        &lt;/set&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>And since you're using Spring Boot, I assume you are creating the context programatically, so you should create a method annotated with <code>@Bean</code>, which returns a <code>ConverstionService</code>, like this (<a href=\"https://stackoverflow.com/questions/11273443/how-to-configure-spring-conversionservice-with-java-config\">explained here</a>):</p>\n\n<pre><code>@Bean(name=\"conversionService\")\npublic ConversionService getConversionService() {\n    ConversionServiceFactoryBean bean = new ConversionServiceFactoryBean();\n    bean.setConverters(...); //add converters\n    bean.afterPropertiesSet();\n    return bean.getObject();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":291702,"reputation":989,"user_id":1232197,"accept_rate":73,"display_name":"anton1980"},"score":3,"creation_date":1537798039,"post_id":47346231,"comment_id":91903736,"body_markdown":"the `mvcConversionService` will only be present if you have `org.springframework.boot:spring-boot-starter-web` dependency in your project","body":"the <code>mvcConversionService</code> will only be present if you have <code>org.springframework.boot:spring-boot-starter-web</code> dependency in your project"}],"tags":[],"owner":{"account_id":1568342,"reputation":841,"user_id":1456631,"display_name":"vijay"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1510907160,"creation_date":1510907160,"answer_id":47346231,"question_id":30039619,"body_markdown":"Not totally agreed with the accepted answers, because there would be a default `ConverstionService` named `mvcConversionService` so you would get **duplicate bean exception**. Instead `addConverter` to `FormatterRegistry`, here is the link for the part answer:\r\n\r\n[https://stackoverflow.com/questions/25219061/java-config-equivalent-for-conversionservice-formattingconversionservicefactor][1]\r\n\r\nAlso you would need (in some cases) to define to at least an empty `Component` for `ConversionService`, something like below:\r\n\r\n    @Component @Primary\r\n    public class MyConversionService extends DefaultConversionService implements ConversionService {\r\n        // an empty ConversionService to initiate call to register converters\r\n    }\r\n\r\nThis is to force spring container to initiate a call to:\r\n\r\n    class WebMvcConfigurerAdapter {\r\n        ...\r\n\r\n        public void addFormatters(FormatterRegistry registry) {\r\n             //registry.addConverter(...);\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25219061/java-config-equivalent-for-conversionservice-formattingconversionservicefactor","title":"How to Autowired in ConversionService in springboot","body":"<p>Not totally agreed with the accepted answers, because there would be a default <code>ConverstionService</code> named <code>mvcConversionService</code> so you would get <strong>duplicate bean exception</strong>. Instead <code>addConverter</code> to <code>FormatterRegistry</code>, here is the link for the part answer:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/25219061/java-config-equivalent-for-conversionservice-formattingconversionservicefactor\">Java Config equivalent for conversionService / FormattingConversionServiceFactoryBean</a></p>\n\n<p>Also you would need (in some cases) to define to at least an empty <code>Component</code> for <code>ConversionService</code>, something like below:</p>\n\n<pre><code>@Component @Primary\npublic class MyConversionService extends DefaultConversionService implements ConversionService {\n    // an empty ConversionService to initiate call to register converters\n}\n</code></pre>\n\n<p>This is to force spring container to initiate a call to:</p>\n\n<pre><code>class WebMvcConfigurerAdapter {\n    ...\n\n    public void addFormatters(FormatterRegistry registry) {\n         //registry.addConverter(...);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656412052,"creation_date":1656397377,"answer_id":72781591,"question_id":30039619,"body_markdown":"Existing answers didn&#39;t work for me:\r\n- Customizing via `WebMvcConfigurerAdapter.addFormatters` (or simply annotating the converter with `@Component`) only works in the WebMvc context and I want my custom converter to be available *everywhere*, including `@Value` injections on any bean.\r\n- Defining a `ConversionService` bean (via `ConversionServiceFactoryBean` `@Bean` or `@Component`) causes Spring Boot to replace the default `ApplicationConversionService` on the `SpringApplication` bean factory with the custom bean you&#39;ve defined, which will probably be based on `DefaultConversionService` (in `AbstractApplicationContext.finishBeanFactoryInitialization`). The problem is that Spring Boot adds some handy converters such as `StringToDurationConverter` to the standard set in `DefaultConversionService`, so by replacing it you lose those conversions. This may not be an issue for you if you don&#39;t use them, but it means that solution won&#39;t work for everyone.\r\n\r\nI created the following `@Configuration` class which did the trick for me. It basically adds custom converters to the `ConversionService` instance used by `Environment` (which is then passed on to `BeanFactory`). This maintains as much backwards compatibility as possible while still adding your custom converter into the conversion services in use.\r\n\r\n```java\r\n@Configuration\r\npublic class ConversionServiceConfiguration {\r\n\r\n    @Autowired\r\n    private ConfigurableEnvironment environment;\r\n\r\n    @PostConstruct\r\n    public void addCustomConverters() {\r\n        ConfigurableConversionService conversionService = environment.getConversionService();\r\n        conversionService.addConverter(new MyCustomConverter());\r\n    }\r\n}\r\n```\r\n\r\nObviously you can autowire a list of custom converters into this configuration class and loop over them to add them to the conversion service instead of the hard-coded way of doing it above, if you want the process to be more automatic.\r\n\r\nTo make sure this configuration class gets run before any beans are instantiated that might require the converter to have been added to the `ConversionService`, add it as a *primary source* in your spring application&#39;s `run()` call:\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class MySpringBootApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(new Class&lt;?&gt;[] { MySpringBootApplication.class, ConversionServiceConfiguration.class }, args);\r\n    }\r\n}\r\n```\r\n\r\nIf you don&#39;t do this, it might work, or not, depending on the order in which your classes end up in the Spring Boot JAR, which determines the order in which they are scanned. (I found this out the hard way: it worked when compiling locally with an Oracle JDK, but not on our CI server which was using a Azul Zulu JDK.)\r\n\r\nNote that for this to work in `@WebMvcTest`s, I had to also combine this configuration class along with my Spring Boot application class into a `@ContextConfiguration`:\r\n\r\n```java\r\n@WebMvcTest(controllers = MyController.class)\r\n@ContextConfiguration(classes = { MySpringBootApplication.class, ConversionServiceConfiguration.class })\r\n@TestPropertySource(properties = { /* ... properties to inject into beans, possibly using your custom converter ... */ })\r\nclass MyControllerTest {\r\n   // ...\r\n}","title":"How to Autowired in ConversionService in springboot","body":"<p>Existing answers didn't work for me:</p>\n<ul>\n<li>Customizing via <code>WebMvcConfigurerAdapter.addFormatters</code> (or simply annotating the converter with <code>@Component</code>) only works in the WebMvc context and I want my custom converter to be available <em>everywhere</em>, including <code>@Value</code> injections on any bean.</li>\n<li>Defining a <code>ConversionService</code> bean (via <code>ConversionServiceFactoryBean</code> <code>@Bean</code> or <code>@Component</code>) causes Spring Boot to replace the default <code>ApplicationConversionService</code> on the <code>SpringApplication</code> bean factory with the custom bean you've defined, which will probably be based on <code>DefaultConversionService</code> (in <code>AbstractApplicationContext.finishBeanFactoryInitialization</code>). The problem is that Spring Boot adds some handy converters such as <code>StringToDurationConverter</code> to the standard set in <code>DefaultConversionService</code>, so by replacing it you lose those conversions. This may not be an issue for you if you don't use them, but it means that solution won't work for everyone.</li>\n</ul>\n<p>I created the following <code>@Configuration</code> class which did the trick for me. It basically adds custom converters to the <code>ConversionService</code> instance used by <code>Environment</code> (which is then passed on to <code>BeanFactory</code>). This maintains as much backwards compatibility as possible while still adding your custom converter into the conversion services in use.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ConversionServiceConfiguration {\n\n    @Autowired\n    private ConfigurableEnvironment environment;\n\n    @PostConstruct\n    public void addCustomConverters() {\n        ConfigurableConversionService conversionService = environment.getConversionService();\n        conversionService.addConverter(new MyCustomConverter());\n    }\n}\n</code></pre>\n<p>Obviously you can autowire a list of custom converters into this configuration class and loop over them to add them to the conversion service instead of the hard-coded way of doing it above, if you want the process to be more automatic.</p>\n<p>To make sure this configuration class gets run before any beans are instantiated that might require the converter to have been added to the <code>ConversionService</code>, add it as a <em>primary source</em> in your spring application's <code>run()</code> call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class MySpringBootApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(new Class&lt;?&gt;[] { MySpringBootApplication.class, ConversionServiceConfiguration.class }, args);\n    }\n}\n</code></pre>\n<p>If you don't do this, it might work, or not, depending on the order in which your classes end up in the Spring Boot JAR, which determines the order in which they are scanned. (I found this out the hard way: it worked when compiling locally with an Oracle JDK, but not on our CI server which was using a Azul Zulu JDK.)</p>\n<p>Note that for this to work in <code>@WebMvcTest</code>s, I had to also combine this configuration class along with my Spring Boot application class into a <code>@ContextConfiguration</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(controllers = MyController.class)\n@ContextConfiguration(classes = { MySpringBootApplication.class, ConversionServiceConfiguration.class })\n@TestPropertySource(properties = { /* ... properties to inject into beans, possibly using your custom converter ... */ })\nclass MyControllerTest {\n   // ...\n}\n</code></pre>\n"}],"owner":{"account_id":1988124,"reputation":163,"user_id":1782902,"display_name":"lumi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25748,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":30039882,"answer_count":3,"score":15,"last_activity_date":1696798712,"creation_date":1430772294,"question_id":30039619,"body_markdown":"Trying to access the ConversionControl in model in springboot, no luck.\r\n\r\n    @Component\r\n    public class CityHelperService  {\r\n\t\r\n        @Autowired\r\n        ConversionService conversionService;// = ConversionServiceFactory.registerConverters();\r\n\t\r\n\t    public City toEntity(CityDTO dto){\r\n            City entity = conversionService.convert(dto, City.class);\r\n            return entity;\r\n        }\r\n\r\n        public CityDTO toDTO(City entity){\r\n            CityDTO dto = conversionService.convert(entity, CityDTO.class);\r\n            return dto;\r\n        }\r\n    }\r\n\r\nIt shows the following error:\r\n\r\n    Injection of autowired dependencies failed;\r\n    nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.lumiin.mytalk.model.CityModel com.lumiin.mytalk.controllers.CityController.cityModel;\r\n    nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;cityModel&#39; defined in file : Unsatisfied dependency expressed through constructor argument with index 1 of type [com.lumiin.mytalk.dao.CityHelperService]: : Error creating bean with name &#39;cityHelperService&#39;: Injection of autowired dependencies failed;\r\n    nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: org.springframework.core.convert.ConversionService com.lumiin.mytalk.dao.CityHelperService.conversionService;\r\n    nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [org.springframework.core.convert.ConversionService] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)};\r\n    nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cityHelperService&#39;: Injection of autowired dependencies failed;\r\n    nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: org.springframework.core.convert.ConversionService com.lumiin.mytalk.dao.CityHelperService.conversionService;\r\n    nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [org.springframework.core.convert.ConversionService] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}","title":"How to Autowired in ConversionService in springboot","body":"<p>Trying to access the ConversionControl in model in springboot, no luck.</p>\n\n<pre><code>@Component\npublic class CityHelperService  {\n\n    @Autowired\n    ConversionService conversionService;// = ConversionServiceFactory.registerConverters();\n\n    public City toEntity(CityDTO dto){\n        City entity = conversionService.convert(dto, City.class);\n        return entity;\n    }\n\n    public CityDTO toDTO(City entity){\n        CityDTO dto = conversionService.convert(entity, CityDTO.class);\n        return dto;\n    }\n}\n</code></pre>\n\n<p>It shows the following error:</p>\n\n<pre><code>Injection of autowired dependencies failed;\nnested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.lumiin.mytalk.model.CityModel com.lumiin.mytalk.controllers.CityController.cityModel;\nnested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cityModel' defined in file : Unsatisfied dependency expressed through constructor argument with index 1 of type [com.lumiin.mytalk.dao.CityHelperService]: : Error creating bean with name 'cityHelperService': Injection of autowired dependencies failed;\nnested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: org.springframework.core.convert.ConversionService com.lumiin.mytalk.dao.CityHelperService.conversionService;\nnested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [org.springframework.core.convert.ConversionService] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)};\nnested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cityHelperService': Injection of autowired dependencies failed;\nnested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: org.springframework.core.convert.ConversionService com.lumiin.mytalk.dao.CityHelperService.conversionService;\nnested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [org.springframework.core.convert.ConversionService] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":29412,"reputation":5855,"user_id":79450,"accept_rate":100,"display_name":"Catchwa"},"score":0,"creation_date":1496381903,"post_id":44321371,"comment_id":75648015,"body_markdown":"How is `filePath` defined? Is it based on user input?","body":"How is <code>filePath</code> defined? Is it based on user input?"},{"owner":{"account_id":4305839,"reputation":165,"user_id":3518223,"accept_rate":88,"display_name":"user3518223"},"score":0,"creation_date":1496382576,"post_id":44321371,"comment_id":75648278,"body_markdown":"File path is taking  from an external property file .","body":"File path is taking  from an external property file ."},{"owner":{"account_id":29412,"reputation":5855,"user_id":79450,"accept_rate":100,"display_name":"Catchwa"},"score":1,"creation_date":1496704901,"post_id":44321371,"comment_id":75759076,"body_markdown":"Possible duplicate of [How to fix &quot;Path Manipulation Vulnerability&quot; in some Java Code?](https://stackoverflow.com/questions/12690652/how-to-fix-path-manipulation-vulnerability-in-some-java-code)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/12690652/how-to-fix-path-manipulation-vulnerability-in-some-java-code\">How to fix &quot;Path Manipulation Vulnerability&quot; in some Java Code?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2698527,"reputation":2274,"user_id":2622079,"accept_rate":57,"display_name":"fan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540297337,"creation_date":1540297337,"answer_id":52948977,"question_id":44321371,"body_markdown":"You should use the Path type instead of String\r\n(https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Path.html)\r\n\r\nit would look like something like this:\r\n\r\n     Path path = Paths.get(properties.getProperty(&quot;DO.LIB.LOC&quot;));\r\n     path = path.resolve(Paths.get(request.getParameter(&quot;read&quot;)));","title":"Coverity issues for Filesystem path, filename, or URI manipulation in java","body":"<p>You should use the Path type instead of String\n(<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Path.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Path.html</a>)</p>\n\n<p>it would look like something like this:</p>\n\n<pre><code> Path path = Paths.get(properties.getProperty(\"DO.LIB.LOC\"));\n path = path.resolve(Paths.get(request.getParameter(\"read\")));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1681831864,"post_id":76045411,"comment_id":134118679,"body_markdown":"I doubt it. You add a null check, and then return `null` when we don&#39;t know if the caller can handle that. But the real problem the linter is complaining about is that the code uses unsanitized, tainted user input. If someone enters `../../../../../etc/passwd` (with enough `../`s) they can eventually download the system&#39;s passwords file.","body":"I doubt it. You add a null check, and then return <code>null</code> when we don&#39;t know if the caller can handle that. But the real problem the linter is complaining about is that the code uses unsanitized, tainted user input. If someone enters <code>..&#47;..&#47;..&#47;..&#47;..&#47;etc&#47;passwd</code> (with enough <code>..&#47;</code>s) they can eventually download the system&#39;s passwords file."},{"owner":{"account_id":13342452,"reputation":557,"user_id":9630273,"display_name":"V.Aggarwal"},"score":0,"creation_date":1682069214,"post_id":76045411,"comment_id":134161079,"body_markdown":"Thanks for pointing this out.\nUpdated the code a bit.","body":"Thanks for pointing this out. Updated the code a bit."}],"tags":[],"owner":{"account_id":13342452,"reputation":557,"user_id":9630273,"display_name":"V.Aggarwal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682069330,"creation_date":1681825692,"answer_id":76045411,"question_id":44321371,"body_markdown":"Something like this will work:\r\n\r\n\r\n        List&lt;String&gt; INVALID_FILE_NAME_CHARACTERS = Arrays.asList(&quot;..&quot;, &quot;:&quot;, &quot;/&quot;, &quot;\\\\&quot;);\r\n        String filePath = properties.getProperty(&quot;DO.LIB.LOC&quot;);\r\n        String fileName = (String) request.getParameter(&quot;read&quot;);\r\n\r\n        // Validate inputs\r\n        if(filePath==null || fileName==null) return;\r\n        for(String character : B2BProfileConstant.INVALID_FILE_NAME_CHARACTERS) {\r\n            if(fileName.contains(character)) return;\r\n        }\r\n\r\n        Path path = Paths.get(filePath).resolve(fileName).normalize();\r\n        String finalPath = path.toString();","title":"Coverity issues for Filesystem path, filename, or URI manipulation in java","body":"<p>Something like this will work:</p>\n<pre><code>    List&lt;String&gt; INVALID_FILE_NAME_CHARACTERS = Arrays.asList(&quot;..&quot;, &quot;:&quot;, &quot;/&quot;, &quot;\\\\&quot;);\n    String filePath = properties.getProperty(&quot;DO.LIB.LOC&quot;);\n    String fileName = (String) request.getParameter(&quot;read&quot;);\n\n    // Validate inputs\n    if(filePath==null || fileName==null) return;\n    for(String character : B2BProfileConstant.INVALID_FILE_NAME_CHARACTERS) {\n        if(fileName.contains(character)) return;\n    }\n\n    Path path = Paths.get(filePath).resolve(fileName).normalize();\n    String finalPath = path.toString();\n</code></pre>\n"}],"owner":{"account_id":4305839,"reputation":165,"user_id":3518223,"accept_rate":88,"display_name":"user3518223"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9223,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696795580,"creation_date":1496381068,"question_id":44321371,"body_markdown":"I am working with some coverity issues in my source code . Here i am using \r\n    the code like ,\r\n        \r\n\r\n        filePath = properties.getProperty(&quot;DO.LIB.LOC&quot;);\r\n        String fileName = (String) request.getParameter(&quot;read&quot;);\r\n\t\tfilePath += &quot;/&quot; + fileName;\r\n        downloadResultSet.flushFile(filePath, response, \r\n        fileName.substring(fileName.lastIndexOf(&quot;.&quot;) + 1));\r\n    \r\n\r\n&gt; In my coveiry scanned tool found an error like &quot;CID 38762 (#1 of 2): \r\n&gt; Filesystem path, filename, or URI manipulation (PATH_MANIPULATION)\r\n&gt; 2. sink: Constructing a path or URI using the tainted value filePath. This  may allow an attacker to access, modify, or test the existence\r\n&gt; of critical  or sensitive files. The value is used unsafely in\r\n&gt; bytecode, which cannot be  displayed.&quot;\r\n\r\n  File Path defined in an external property file and file name takes from \r\n  request .\r\n    \r\n   I am using the same code in different java file for file upload ,delete \r\n   ,download functionalities . How can i avoid these kind of vulnerabilities \r\n   from my code . Can any one help me on this ?\r\n","title":"Coverity issues for Filesystem path, filename, or URI manipulation in java","body":"<p>I am working with some coverity issues in my source code . Here i am using \n    the code like ,</p>\n\n<pre><code>    filePath = properties.getProperty(\"DO.LIB.LOC\");\n    String fileName = (String) request.getParameter(\"read\");\n    filePath += \"/\" + fileName;\n    downloadResultSet.flushFile(filePath, response, \n    fileName.substring(fileName.lastIndexOf(\".\") + 1));\n</code></pre>\n\n<blockquote>\n  <p>In my coveiry scanned tool found an error like \"CID 38762 (#1 of 2): \n  Filesystem path, filename, or URI manipulation (PATH_MANIPULATION)\n  2. sink: Constructing a path or URI using the tainted value filePath. This  may allow an attacker to access, modify, or test the existence\n  of critical  or sensitive files. The value is used unsafely in\n  bytecode, which cannot be  displayed.\"</p>\n</blockquote>\n\n<p>File Path defined in an external property file and file name takes from \n  request .</p>\n\n<p>I am using the same code in different java file for file upload ,delete \n   ,download functionalities . How can i avoid these kind of vulnerabilities \n   from my code . Can any one help me on this ?</p>\n"},{"tags":["java","undertow","xnio"],"owner":{"account_id":7287204,"reputation":1737,"user_id":5554930,"accept_rate":52,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696794927,"creation_date":1696794927,"question_id":77255124,"body_markdown":"Undertow web server (or XNIO TCP server) accepts requests in the IO threads. If IO thread blocks, requests are accumulated in the queue. \r\n\r\nIs there a way to track size of these queues (e.g. JMX)? What would be a good approach to track it?","title":"XNIO / Undertow - queue size for IO threads","body":"<p>Undertow web server (or XNIO TCP server) accepts requests in the IO threads. If IO thread blocks, requests are accumulated in the queue.</p>\n<p>Is there a way to track size of these queues (e.g. JMX)? What would be a good approach to track it?</p>\n"},{"tags":["java","maven","tomcat","rapidclipse"],"comments":[{"owner":{"account_id":3233740,"reputation":143,"user_id":2728391,"display_name":"Schwabenheinz"},"score":0,"creation_date":1674749862,"post_id":75164773,"comment_id":132784579,"body_markdown":"Not an answer, but I used RC11 on Linux and I had the same problem. \nRunning in RC/Eclipse development environment works fine, But deployment on other tomcat by a generated war file did not work.","body":"Not an answer, but I used RC11 on Linux and I had the same problem.  Running in RC/Eclipse development environment works fine, But deployment on other tomcat by a generated war file did not work."}],"answers":[{"tags":[],"owner":{"account_id":3511729,"reputation":11,"user_id":9364926,"display_name":"Dirk Bundies"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696794906,"creation_date":1696794906,"answer_id":77255123,"question_id":75164773,"body_markdown":"In the Develop Perspective select your RapidClipse Project, then right click on it to open the context menu. Click on &#39;Run As&#39; then &#39;Maven build...&#39;. In the dialog enter the following in the field &#39;goals&#39;:\r\n\r\nclean package -Pproduction\r\n\r\nThen press &#39;Run&#39;. At the end a .war-File has been created in your /target folder of the RapidClipse Project which contains everything to run this .war-File on another machine running.\r\n\r\nIf you only have choosed &#39;clean package&#39; the .war-File does not contain all necessary files to run on another machine.\r\n","title":"RapidClipse X + 11 deployment generates a &quot;war-file&quot; without any index-file inside","body":"<p>In the Develop Perspective select your RapidClipse Project, then right click on it to open the context menu. Click on 'Run As' then 'Maven build...'. In the dialog enter the following in the field 'goals':</p>\n<p>clean package -Pproduction</p>\n<p>Then press 'Run'. At the end a .war-File has been created in your /target folder of the RapidClipse Project which contains everything to run this .war-File on another machine running.</p>\n<p>If you only have choosed 'clean package' the .war-File does not contain all necessary files to run on another machine.</p>\n"}],"owner":{"account_id":27497168,"reputation":11,"user_id":20981515,"display_name":"andre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696794906,"creation_date":1674072568,"question_id":75164773,"body_markdown":"I am interested in working with rapidclipse and I tried it out a little. \r\nI installed rapidclipse on win10 pro. \r\nEverything works fine, and the internal preview from rapidclipse works shows the expected result.\r\n\r\nBut when I generate a war-file and deploy it to Tomcat, Tomcat shows an error: &quot;resource not found&quot;. \r\nI found out that there were no index files in the deployed folder from Tomcat. \r\nAfter creating an index file manually, the error disappeared from Tomcat.\r\n\r\nAt last I found out, there is no index-file inside the war-archive.\r\n\r\nThe index-file in the generated war-archive by rapidclipse is always missing.\r\n\r\nI guess that it is a configuration problem of rapidclipse.\r\n\r\nIs there anybody there who can help me?\r\n\r\n**What i&#39;ve tried:**\r\n\r\n* I updated maven as is it described in the tutorial and checked all possible configurations in the properties from rapidclipse.\r\n* I used different Tomcat versions (9,10,11), and also a jetty server for deploying.\r\n* I installed rapidclipse in different versions (10,11) on different machines (4 or 5 pcs)","title":"RapidClipse X + 11 deployment generates a &quot;war-file&quot; without any index-file inside","body":"<p>I am interested in working with rapidclipse and I tried it out a little.\nI installed rapidclipse on win10 pro.\nEverything works fine, and the internal preview from rapidclipse works shows the expected result.</p>\n<p>But when I generate a war-file and deploy it to Tomcat, Tomcat shows an error: &quot;resource not found&quot;.\nI found out that there were no index files in the deployed folder from Tomcat.\nAfter creating an index file manually, the error disappeared from Tomcat.</p>\n<p>At last I found out, there is no index-file inside the war-archive.</p>\n<p>The index-file in the generated war-archive by rapidclipse is always missing.</p>\n<p>I guess that it is a configuration problem of rapidclipse.</p>\n<p>Is there anybody there who can help me?</p>\n<p><strong>What i've tried:</strong></p>\n<ul>\n<li>I updated maven as is it described in the tutorial and checked all possible configurations in the properties from rapidclipse.</li>\n<li>I used different Tomcat versions (9,10,11), and also a jetty server for deploying.</li>\n<li>I installed rapidclipse in different versions (10,11) on different machines (4 or 5 pcs)</li>\n</ul>\n"},{"tags":["java","gradle","kotlin-multiplatform"],"answers":[{"comments":[{"owner":{"account_id":12327091,"reputation":23,"user_id":8994358,"display_name":"Mirage"},"score":0,"creation_date":1696783305,"post_id":77253175,"comment_id":136194504,"body_markdown":"Moving the dependencies from the common target to the other ones will cause project &quot;:sub1&quot;&#39;s common source to not be available to &quot;:sub2&quot; and any other parent projects.\n\nWhen you mean &quot;specify variant attribute&quot;, do you mean just setting the attribute?","body":"Moving the dependencies from the common target to the other ones will cause project &quot;:sub1&quot;&#39;s common source to not be available to &quot;:sub2&quot; and any other parent projects.  When you mean &quot;specify variant attribute&quot;, do you mean just setting the attribute?"},{"owner":{"account_id":9869929,"reputation":2144,"user_id":7309962,"display_name":"Evgeny K"},"score":0,"creation_date":1696793611,"post_id":77253175,"comment_id":136195541,"body_markdown":"Yes, you need to mark the targets on both the library and consumer sides with a custom attribute, which Gradle uses during dependency resolution. Why do you think common source won&#39;t be available? It will be.","body":"Yes, you need to mark the targets on both the library and consumer sides with a custom attribute, which Gradle uses during dependency resolution. Why do you think common source won&#39;t be available? It will be."},{"owner":{"account_id":12327091,"reputation":23,"user_id":8994358,"display_name":"Mirage"},"score":0,"creation_date":1696805134,"post_id":77253175,"comment_id":136196471,"body_markdown":"So, when I do that, the IDE I&#39;m using (Android Studio) cannot resolve the common source references in the parent projects. It seems if I build using gradle only, the build actually succeeds. I figured out that moving the dependencies with the attribute set to the targets, as you stated, but ALSO adding a &quot;compileOnly(project(&quot;:sub1&quot;))&quot; to the common target in :sub2 fixes the unresolved references in the IDE.","body":"So, when I do that, the IDE I&#39;m using (Android Studio) cannot resolve the common source references in the parent projects. It seems if I build using gradle only, the build actually succeeds. I figured out that moving the dependencies with the attribute set to the targets, as you stated, but ALSO adding a &quot;compileOnly(project(&quot;:sub1&quot;))&quot; to the common target in :sub2 fixes the unresolved references in the IDE."}],"tags":[],"owner":{"account_id":9869929,"reputation":2144,"user_id":7309962,"display_name":"Evgeny K"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696793772,"creation_date":1696759783,"answer_id":77253175,"question_id":77252663,"body_markdown":"According to error message in project `:sub2` Gradle can&#39;t choose between `jvm` and `jvm(&quot;custom&quot;)` for `:sub1`.\r\n\r\nTargets should be marked on both the library and consumer sides with a custom attribute, which Gradle uses during dependency resolution.\r\n\r\nSo in project `:sub2` you either need to specify variant attribute for `:sub1` project or move dependency from common source. For example:\r\n\r\n```kotlin\r\nkotlin {\r\n    ...\r\n    sourceSets {\r\n        val jvmMain by getting {\r\n            dependencies {\r\n                api(project(&quot;:sub1&quot;)) {\r\n                    attributes {\r\n                        attribute(customAttribute, &quot;normal&quot;)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        val customMain by getting {\r\n            dependencies {\r\n                api(project(&quot;:sub1&quot;)) {\r\n                    attributes {\r\n                        attribute(customAttribute, &quot;customValue&quot;)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nTake a look at [Kotlin Multiplatform documentations for several targets](https://kotlinlang.org/docs/multiplatform-set-up-targets.html#distinguish-several-targets-for-one-platform)","title":"Gradle KMM custom attribute doesn&#39;t get propagated to project&#39;s KMM dependencies","body":"<p>According to error message in project <code>:sub2</code> Gradle can't choose between <code>jvm</code> and <code>jvm(&quot;custom&quot;)</code> for <code>:sub1</code>.</p>\n<p>Targets should be marked on both the library and consumer sides with a custom attribute, which Gradle uses during dependency resolution.</p>\n<p>So in project <code>:sub2</code> you either need to specify variant attribute for <code>:sub1</code> project or move dependency from common source. For example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>kotlin {\n    ...\n    sourceSets {\n        val jvmMain by getting {\n            dependencies {\n                api(project(&quot;:sub1&quot;)) {\n                    attributes {\n                        attribute(customAttribute, &quot;normal&quot;)\n                    }\n                }\n            }\n        }\n        val customMain by getting {\n            dependencies {\n                api(project(&quot;:sub1&quot;)) {\n                    attributes {\n                        attribute(customAttribute, &quot;customValue&quot;)\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Take a look at <a href=\"https://kotlinlang.org/docs/multiplatform-set-up-targets.html#distinguish-several-targets-for-one-platform\" rel=\"nofollow noreferrer\">Kotlin Multiplatform documentations for several targets</a></p>\n"}],"owner":{"account_id":12327091,"reputation":23,"user_id":8994358,"display_name":"Mirage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77253175,"answer_count":1,"score":0,"last_activity_date":1696793772,"creation_date":1696749227,"question_id":77252663,"body_markdown":"Assume I have 3 gradle projects with the following paths and file contents:\r\n\r\n`:sub1` is a KMM project:\r\n```\r\nplugins {\r\n    kotlin(&quot;multiplatform&quot;)\r\n}\r\n\r\nval customAttribute = Attribute.of(&quot;custom&quot;, String::class.java)\r\n\r\n@OptIn(org.jetbrains.kotlin.gradle.ExperimentalKotlinGradlePluginApi::class)\r\nkotlin {\r\n    targetHierarchy.default()\r\n\r\n    jvm {\r\n        attributes {\r\n            attribute(customAttribute, &quot;normal&quot;)\r\n        }\r\n    }\r\n    jvm(&quot;custom&quot;) {\r\n        attributes {\r\n            attribute(customAttribute, &quot;customValue&quot;)\r\n        }\r\n    }\r\n\r\n    sourceSets {\r\n        val commonMain by getting\r\n    }\r\n}\r\n```\r\n\r\n`:sub2` is a KMM project that depends on `:sub1`:\r\n```\r\nplugins {\r\n    kotlin(&quot;multiplatform&quot;)\r\n}\r\n\r\nval customAttribute = Attribute.of(&quot;custom&quot;, String::class.java)\r\n\r\n@OptIn(org.jetbrains.kotlin.gradle.ExperimentalKotlinGradlePluginApi::class)\r\nkotlin {\r\n    targetHierarchy.default()\r\n\r\n    jvm {\r\n        attributes {\r\n            attribute(customAttribute, &quot;normal&quot;)\r\n        }\r\n    }\r\n    jvm(&quot;custom&quot;) {\r\n        attributes {\r\n            attribute(customAttribute, &quot;customValue&quot;)\r\n        }\r\n    }\r\n\r\n    sourceSets {\r\n        val commonMain by getting {\r\n            dependencies {\r\n                api(project(&quot;:sub1&quot;))\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n`:parent` which is a JVM project that depends on `:sub2`:\r\n```\r\nplugins {\r\n    id(&quot;kotlin&quot;)\r\n    id(&quot;org.jetbrains.kotlin.jvm&quot;)\r\n}\r\n\r\njava {\r\n    sourceCompatibility = JavaVersion.VERSION_17\r\n    targetCompatibility = JavaVersion.VERSION_17\r\n}\r\n\r\nval customAttribute = Attribute.of(&quot;custom&quot;, String::class.java)\r\n\r\ndependencies {\r\n    api(project(&quot;:sub2&quot;)) {\r\n        attributes {\r\n            attribute(customAttribute, &quot;customValue&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBuilding `:project` causes the following error:\r\n```\r\n   &gt; Could not resolve project :sub1.\r\n     Required by:\r\n         project :project &gt; project :sub2\r\n      &gt; The consumer was configured to find a library for use during compile-time, compatible with Java 17, preferably in the form of class files, preferably optimized for standard JVMs, and its dependencies declared externally, as well as attribute &#39;org.jetbrains.kotlin.platform.type&#39; with value &#39;jvm&#39;. However we cannot choose between the following variants of project :sub1\r\n          - jvmApiElements\r\n          - jvmRuntimeElements\r\n          - customApiElements\r\n          - customRuntimeElements\r\n\r\n```\r\n\r\nHow do I make it so that the &quot;customValue&quot; of customAttribute declared in `:project` propagates down to the project `:sub1` from `:sub2`, instead of only going down to `:sub2`, so that the &quot;custom&quot; JVM target is chosen?\r\n\r\nI have tried to set a Gradle project property during the configuration step, but I can&#39;t seem to find a way to guarantee project configuration order, so I can&#39;t reliably use properties either.","title":"Gradle KMM custom attribute doesn&#39;t get propagated to project&#39;s KMM dependencies","body":"<p>Assume I have 3 gradle projects with the following paths and file contents:</p>\n<p><code>:sub1</code> is a KMM project:</p>\n<pre><code>plugins {\n    kotlin(&quot;multiplatform&quot;)\n}\n\nval customAttribute = Attribute.of(&quot;custom&quot;, String::class.java)\n\n@OptIn(org.jetbrains.kotlin.gradle.ExperimentalKotlinGradlePluginApi::class)\nkotlin {\n    targetHierarchy.default()\n\n    jvm {\n        attributes {\n            attribute(customAttribute, &quot;normal&quot;)\n        }\n    }\n    jvm(&quot;custom&quot;) {\n        attributes {\n            attribute(customAttribute, &quot;customValue&quot;)\n        }\n    }\n\n    sourceSets {\n        val commonMain by getting\n    }\n}\n</code></pre>\n<p><code>:sub2</code> is a KMM project that depends on <code>:sub1</code>:</p>\n<pre><code>plugins {\n    kotlin(&quot;multiplatform&quot;)\n}\n\nval customAttribute = Attribute.of(&quot;custom&quot;, String::class.java)\n\n@OptIn(org.jetbrains.kotlin.gradle.ExperimentalKotlinGradlePluginApi::class)\nkotlin {\n    targetHierarchy.default()\n\n    jvm {\n        attributes {\n            attribute(customAttribute, &quot;normal&quot;)\n        }\n    }\n    jvm(&quot;custom&quot;) {\n        attributes {\n            attribute(customAttribute, &quot;customValue&quot;)\n        }\n    }\n\n    sourceSets {\n        val commonMain by getting {\n            dependencies {\n                api(project(&quot;:sub1&quot;))\n            }\n        }\n    }\n}\n</code></pre>\n<p><code>:parent</code> which is a JVM project that depends on <code>:sub2</code>:</p>\n<pre><code>plugins {\n    id(&quot;kotlin&quot;)\n    id(&quot;org.jetbrains.kotlin.jvm&quot;)\n}\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_17\n    targetCompatibility = JavaVersion.VERSION_17\n}\n\nval customAttribute = Attribute.of(&quot;custom&quot;, String::class.java)\n\ndependencies {\n    api(project(&quot;:sub2&quot;)) {\n        attributes {\n            attribute(customAttribute, &quot;customValue&quot;)\n        }\n    }\n}\n</code></pre>\n<p>Building <code>:project</code> causes the following error:</p>\n<pre><code>   &gt; Could not resolve project :sub1.\n     Required by:\n         project :project &gt; project :sub2\n      &gt; The consumer was configured to find a library for use during compile-time, compatible with Java 17, preferably in the form of class files, preferably optimized for standard JVMs, and its dependencies declared externally, as well as attribute 'org.jetbrains.kotlin.platform.type' with value 'jvm'. However we cannot choose between the following variants of project :sub1\n          - jvmApiElements\n          - jvmRuntimeElements\n          - customApiElements\n          - customRuntimeElements\n\n</code></pre>\n<p>How do I make it so that the &quot;customValue&quot; of customAttribute declared in <code>:project</code> propagates down to the project <code>:sub1</code> from <code>:sub2</code>, instead of only going down to <code>:sub2</code>, so that the &quot;custom&quot; JVM target is chosen?</p>\n<p>I have tried to set a Gradle project property during the configuration step, but I can't seem to find a way to guarantee project configuration order, so I can't reliably use properties either.</p>\n"},{"tags":["java","android","android-toolbar","android-collapsingtoolbarlayout"],"answers":[{"tags":[],"owner":{"account_id":15219035,"reputation":74,"user_id":18515851,"display_name":"Jordy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696790949,"creation_date":1696790949,"answer_id":77254912,"question_id":77254556,"body_markdown":"It&#39;s all about AppBarLayout.\r\n\r\nYou can configure this way. \r\n\r\nAs mentioned in this question [here][1]\r\n```xml\r\n&lt;com.google.android.material.appbar.AppBarLayout \r\n\t\t\t\t \r\n        android:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:background=&quot;@null&quot;\r\n\t\tandroid:theme=&quot;?attr/actionBarTheme&quot;\r\n\t    android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/AppBarLayout&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:outlineProvider=&quot;none&quot;\r\n        app:elevation=&quot;0dp&quot;&gt;\r\n    \r\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/58797479/how-i-can-remove-shadow-or-divider-from-bottom-of-appbar-layout-or-toolbar","title":"How to make the background of a toolbar transparent","body":"<p>It's all about AppBarLayout.</p>\n<p>You can configure this way.</p>\n<p>As mentioned in this question <a href=\"https://stackoverflow.com/questions/58797479/how-i-can-remove-shadow-or-divider-from-bottom-of-appbar-layout-or-toolbar\">here</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;com.google.android.material.appbar.AppBarLayout \n                 \n        android:layout_width=&quot;match_parent&quot;\n        android:background=&quot;@null&quot;\n        android:theme=&quot;?attr/actionBarTheme&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/AppBarLayout&quot;\n        android:orientation=&quot;vertical&quot;\n        android:outlineProvider=&quot;none&quot;\n        app:elevation=&quot;0dp&quot;&gt;\n    \n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24462790,"reputation":13,"user_id":18383612,"display_name":"Waleed Ashraf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696793743,"creation_date":1696793743,"answer_id":77255064,"question_id":77254556,"body_markdown":"To remove the white rectangular view behind the toolbar, you can try the following:\r\n\r\nUse a custom background for the collapsing toolbar. This can be a transparent drawable or a drawable with a gradient that matches the status bar color. This will hide the white background when the toolbar collapses.\r\nUse a splash screen. A splash screen can be used to display the app&#39;s logo and branding while the app is initializing. This will hide the white background and give the user the impression that the app is loading.\r\nOptimize the app&#39;s initialization. This will minimize the amount of time that the white background is visible. You can do this by loading essential resources lazily and asynchronously, and by delaying resource-heavy operations until after the main activity has started.\r\nHere is an example of how to use a custom background for the collapsing toolbar:\r\n\r\n    &lt;com.google.android.material.appbar.CollapsingToolbarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/custom_collapsing_toolbar_background&quot;\r\n        app:contentScrim=&quot;@drawable/custom_collapsing_toolbar_background&quot;\r\n        app:expandedTitleTextAppearance=&quot;@style/expandedTitleTextAppearance&quot;\r\n        app:layout_scrollFlags=&quot;scroll|snap|exitUntilCollapsed&quot;&gt;\r\n    \r\n        // ...\r\n    \r\n    &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\r\n\r\nThe `custom_collapsing_toolbar_background.xml` drawable can be a transparent drawable or a drawable with a gradient that matches the status bar color.\r\n\r\nHere is an example of how to use a splash screen:\r\n\r\n    &lt;activity android:name=&quot;.SplashActivity&quot;\r\n        android:theme=&quot;@style/SplashTheme&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\nThe `SplashActivity` class can be used to display the app&#39;s logo and branding while the app is initializing. Once the app has initialized, the `SplashActivity` can finish and the main activity can be started.\r\n\r\nHere is an example of how to optimize the app&#39;s initialization:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            // Load essential resources lazily and asynchronously.\r\n            // ...\r\n    \r\n            // Delay resource-heavy operations until after the main activity has started.\r\n            // ...\r\n        }\r\n    }\r\n\r\n","title":"How to make the background of a toolbar transparent","body":"<p>To remove the white rectangular view behind the toolbar, you can try the following:</p>\n<p>Use a custom background for the collapsing toolbar. This can be a transparent drawable or a drawable with a gradient that matches the status bar color. This will hide the white background when the toolbar collapses.\nUse a splash screen. A splash screen can be used to display the app's logo and branding while the app is initializing. This will hide the white background and give the user the impression that the app is loading.\nOptimize the app's initialization. This will minimize the amount of time that the white background is visible. You can do this by loading essential resources lazily and asynchronously, and by delaying resource-heavy operations until after the main activity has started.\nHere is an example of how to use a custom background for the collapsing toolbar:</p>\n<pre><code>&lt;com.google.android.material.appbar.CollapsingToolbarLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;@drawable/custom_collapsing_toolbar_background&quot;\n    app:contentScrim=&quot;@drawable/custom_collapsing_toolbar_background&quot;\n    app:expandedTitleTextAppearance=&quot;@style/expandedTitleTextAppearance&quot;\n    app:layout_scrollFlags=&quot;scroll|snap|exitUntilCollapsed&quot;&gt;\n\n    // ...\n\n&lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n</code></pre>\n<p>The <code>custom_collapsing_toolbar_background.xml</code> drawable can be a transparent drawable or a drawable with a gradient that matches the status bar color.</p>\n<p>Here is an example of how to use a splash screen:</p>\n<pre><code>&lt;activity android:name=&quot;.SplashActivity&quot;\n    android:theme=&quot;@style/SplashTheme&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n<p>The <code>SplashActivity</code> class can be used to display the app's logo and branding while the app is initializing. Once the app has initialized, the <code>SplashActivity</code> can finish and the main activity can be started.</p>\n<p>Here is an example of how to optimize the app's initialization:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Load essential resources lazily and asynchronously.\n        // ...\n\n        // Delay resource-heavy operations until after the main activity has started.\n        // ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23727738,"reputation":13,"user_id":17747424,"display_name":"user17747424"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77254912,"answer_count":2,"score":0,"last_activity_date":1696793743,"creation_date":1696785089,"question_id":77254556,"body_markdown":"I have a collapsing toolbar set up and everything is working as intended. There is only one problem, when the toolbar collapses, there is a white rectangular view behind the toolbar as shown in the image below.[![look closely behind the toolbar as shown by the arrows](https://i.stack.imgur.com/Ydptz.png)](https://i.stack.imgur.com/Ydptz.png) \r\nHere is the code for the activity_home.xml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.HomeActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@android:color/transparent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            app:contentScrim=&quot;@drawable/custom_app_bar_background&quot;\r\n            app:expandedTitleTextAppearance=&quot;@style/expandedTitleTextAppearance&quot;\r\n            app:layout_scrollFlags=&quot;scroll|snap|exitUntilCollapsed&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;300dp&quot;\r\n                android:background=&quot;@drawable/custom_app_bar_background&quot;\r\n                android:paddingHorizontal=&quot;20dp&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;40dp&quot;\r\n                    android:text=&quot;Empowering Discovery: Search the Database for a World of Information&quot;\r\n                    android:textColor=&quot;@color/white&quot;\r\n                    android:textSize=&quot;30sp&quot;\r\n                    android:textStyle=&quot;bold&quot;/&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:text=&quot;Search The Database&quot;\r\n                    android:textColor=&quot;#c9d3f7&quot;\r\n                    android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n                &lt;EditText\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:height=&quot;50dp&quot;\r\n                    android:hint=&quot;Search for media...&quot;\r\n                    android:paddingStart=&quot;20dp&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:drawableEnd=&quot;@drawable/search_btn&quot;\r\n                    android:paddingRight=&quot;5dp&quot;\r\n                    android:background=&quot;@drawable/search_bar_background&quot;/&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n            \r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;@drawable/gradient&quot;\r\n                app:layout_collapseMode=&quot;pin&quot;/&gt;\r\n\r\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\r\n\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;androidx.core.widget.NestedScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_behavior=&quot;com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:textSize=&quot;25sp&quot;\r\n            android:text=&quot;If you&#39;re looking to remove the default white background that appears while your app initializes, there isn&#39;t a direct way to remove it completely, as it&#39;s part of the Android system behavior. However, you can make it less noticeable or disguise it using various techniques. Here are a few alternatives:\r\n\r\n1. Use a Splash Screen:\r\nAs mentioned earlier, using a splash screen with your app&#39;s branding or logo can provide a smoother transition. The splash screen gives the impression that something is happening during the initialization phase, making the white background less noticeable.\r\n\r\n2. Optimize Initialization:\r\nEfficiently optimize your app&#39;s initialization process. Load essential resources lazily and asynchronously. Delay resource-heavy operations until after the main activity has started. By optimizing your initialization, the white background period is minimized, making it less noticeable.\r\n\r\n3. Set a Theme with Transparent Background:\r\nIn your app&#39;s theme, set the background to be transparent. This doesn&#39;t remove the white background but makes it less noticeable since the default background will be transparent instead of white. Add the following line to your theme in styles.xml:&quot;/&gt;\r\n\r\n    &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\nHere is the gradient.xml file code used for the toolbar background:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;gradient\r\n        android:angle=&quot;120&quot;\r\n        android:endColor=&quot;@android:color/transparent&quot;\r\n        android:startColor=&quot;#3BB1EC&quot; /&gt;\r\n\r\n&lt;/shape&gt;\r\n\r\n```\r\nHere is the code for the custom_app_bar_background.xml file used as scrim for CollapsingToolbarLayout and Linear layout background when the collapsing toolbar has expanded:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;rectangle&quot;&gt;\r\n\r\n    &lt;gradient\r\n        android:startColor=&quot;#3BB1EC&quot;\r\n        android:endColor=&quot;#216CF1&quot;\r\n        android:angle=&quot;120&quot;/&gt;\r\n\r\n    &lt;corners\r\n        android:bottomRightRadius=&quot;40dp&quot;\r\n        android:bottomLeftRadius=&quot;40dp&quot;/&gt;\r\n\r\n&lt;/shape&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI have tried setting the background of the toolbar to transparent which did not work, because the status bar color did not smoothly mix with the tool bar color. The goal was to remove the white rectangular view behind the toolbar, as shown in the picture above.","title":"How to make the background of a toolbar transparent","body":"<p>I have a collapsing toolbar set up and everything is working as intended. There is only one problem, when the toolbar collapses, there is a white rectangular view behind the toolbar as shown in the image below.<a href=\"https://i.stack.imgur.com/Ydptz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ydptz.png\" alt=\"look closely behind the toolbar as shown by the arrows\" /></a>\nHere is the code for the activity_home.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.HomeActivity&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@android:color/transparent&quot;\n            app:contentScrim=&quot;@drawable/custom_app_bar_background&quot;\n            app:expandedTitleTextAppearance=&quot;@style/expandedTitleTextAppearance&quot;\n            app:layout_scrollFlags=&quot;scroll|snap|exitUntilCollapsed&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;300dp&quot;\n                android:background=&quot;@drawable/custom_app_bar_background&quot;\n                android:paddingHorizontal=&quot;20dp&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;40dp&quot;\n                    android:text=&quot;Empowering Discovery: Search the Database for a World of Information&quot;\n                    android:textColor=&quot;@color/white&quot;\n                    android:textSize=&quot;30sp&quot;\n                    android:textStyle=&quot;bold&quot;/&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:text=&quot;Search The Database&quot;\n                    android:textColor=&quot;#c9d3f7&quot;\n                    android:textSize=&quot;20sp&quot; /&gt;\n\n                &lt;EditText\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:height=&quot;50dp&quot;\n                    android:hint=&quot;Search for media...&quot;\n                    android:paddingStart=&quot;20dp&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:drawableEnd=&quot;@drawable/search_btn&quot;\n                    android:paddingRight=&quot;5dp&quot;\n                    android:background=&quot;@drawable/search_bar_background&quot;/&gt;\n\n            &lt;/LinearLayout&gt;\n            \n            &lt;androidx.appcompat.widget.Toolbar\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;?attr/actionBarSize&quot;\n                android:background=&quot;@drawable/gradient&quot;\n                app:layout_collapseMode=&quot;pin&quot;/&gt;\n\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;androidx.core.widget.NestedScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_behavior=&quot;com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:gravity=&quot;center&quot;\n            android:textSize=&quot;25sp&quot;\n            android:text=&quot;If you're looking to remove the default white background that appears while your app initializes, there isn't a direct way to remove it completely, as it's part of the Android system behavior. However, you can make it less noticeable or disguise it using various techniques. Here are a few alternatives:\n\n1. Use a Splash Screen:\nAs mentioned earlier, using a splash screen with your app's branding or logo can provide a smoother transition. The splash screen gives the impression that something is happening during the initialization phase, making the white background less noticeable.\n\n2. Optimize Initialization:\nEfficiently optimize your app's initialization process. Load essential resources lazily and asynchronously. Delay resource-heavy operations until after the main activity has started. By optimizing your initialization, the white background period is minimized, making it less noticeable.\n\n3. Set a Theme with Transparent Background:\nIn your app's theme, set the background to be transparent. This doesn't remove the white background but makes it less noticeable since the default background will be transparent instead of white. Add the following line to your theme in styles.xml:&quot;/&gt;\n\n    &lt;/androidx.core.widget.NestedScrollView&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>Here is the gradient.xml file code used for the toolbar background:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;gradient\n        android:angle=&quot;120&quot;\n        android:endColor=&quot;@android:color/transparent&quot;\n        android:startColor=&quot;#3BB1EC&quot; /&gt;\n\n&lt;/shape&gt;\n\n</code></pre>\n<p>Here is the code for the custom_app_bar_background.xml file used as scrim for CollapsingToolbarLayout and Linear layout background when the collapsing toolbar has expanded:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape=&quot;rectangle&quot;&gt;\n\n    &lt;gradient\n        android:startColor=&quot;#3BB1EC&quot;\n        android:endColor=&quot;#216CF1&quot;\n        android:angle=&quot;120&quot;/&gt;\n\n    &lt;corners\n        android:bottomRightRadius=&quot;40dp&quot;\n        android:bottomLeftRadius=&quot;40dp&quot;/&gt;\n\n&lt;/shape&gt;\n</code></pre>\n<p>I have tried setting the background of the toolbar to transparent which did not work, because the status bar color did not smoothly mix with the tool bar color. The goal was to remove the white rectangular view behind the toolbar, as shown in the picture above.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9997,"page":137,"page_size":100}
