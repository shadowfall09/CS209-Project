{"items":[{"tags":["java","arrays","pointers"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1689183977,"post_id":76673175,"comment_id":135178828,"body_markdown":"If you want to become a professional software developer, or regularly develop software, you will need to have debugging skills. And, this is a good problem to practice debugging  on. An IDE usually will have a debugger tool. It will allow you to set a break point, and then follow the code step-by-step, while monitoring the values of variables.","body":"If you want to become a professional software developer, or regularly develop software, you will need to have debugging skills. And, this is a good problem to practice debugging  on. An IDE usually will have a debugger tool. It will allow you to set a break point, and then follow the code step-by-step, while monitoring the values of variables."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1689184498,"post_id":76673175,"comment_id":135178924,"body_markdown":"When referencing tasks that have web pages, such as problems from coding challenge and practice sites, please include a link to the page in the question.  For reference, the LeetCode page seems to be this one:  https://leetcode.com/problems/shuffle-the-array/","body":"When referencing tasks that have web pages, such as problems from coding challenge and practice sites, please include a link to the page in the question.  For reference, the LeetCode page seems to be this one:  <a href=\"https://leetcode.com/problems/shuffle-the-array/\" rel=\"nofollow noreferrer\">leetcode.com/problems/shuffle-the-array</a>"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1689188329,"post_id":76673175,"comment_id":135179665,"body_markdown":"What exactly is the purpose of `n`.  It isn&#39;t defined in the question.","body":"What exactly is the purpose of <code>n</code>.  It isn&#39;t defined in the question."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1689188401,"post_id":76673175,"comment_id":135179685,"body_markdown":"@WJS &quot;Given the array nums consisting of **2n** elements&quot;","body":"@WJS &quot;Given the array nums consisting of <b>2n</b> elements&quot;"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1689359309,"post_id":76673175,"comment_id":135207668,"body_markdown":"Off-topic: After you solve your current problem, see if you can think of a way to do this without creating intermediate arrays, such as `first` or `second`.","body":"Off-topic: After you solve your current problem, see if you can think of a way to do this without creating intermediate arrays, such as <code>first</code> or <code>second</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1689365573,"post_id":76673175,"comment_id":135208712,"body_markdown":"Does this answer your question? [What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?](https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it)  You can also [search for other Java questions about `ArrayIndexOutOfBoundsException`](https://stackoverflow.com/search?q=%5Bjava%5D+arrayindexoutofboundsexception)`","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\">What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?</a>  You can also <a href=\"https://stackoverflow.com/search?q=%5Bjava%5D+arrayindexoutofboundsexception\">search for other Java questions about <code>ArrayIndexOutOfBoundsException</code></a>`"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689183807,"creation_date":1689183807,"answer_id":76673197,"question_id":76673175,"body_markdown":"You get this exception because `nums.length` is two times `n`, so the index goes out of bounds when `i` reaches `n`.\r\n\r\nYou could solve this with just one loop of `n` iterations:\r\n\r\n```java\r\npublic int[] shuffle(int[] nums, int n) {\r\n    int[] ans = new int[2 * n];\r\n    for (int i = 0; i &lt; n; i++) {\r\n        ans[i * 2] = nums[i];\r\n        ans[i * 2 + 1] = nums[n + i];\r\n    }\r\n    return ans;\r\n}\r\n```","title":"Leetcode, Shuffle the Array, what&#39;s wrong with my answer?","body":"<p>You get this exception because <code>nums.length</code> is two times <code>n</code>, so the index goes out of bounds when <code>i</code> reaches <code>n</code>.</p>\n<p>You could solve this with just one loop of <code>n</code> iterations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int[] shuffle(int[] nums, int n) {\n    int[] ans = new int[2 * n];\n    for (int i = 0; i &lt; n; i++) {\n        ans[i * 2] = nums[i];\n        ans[i * 2 + 1] = nums[n + i];\n    }\n    return ans;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10976280,"reputation":125,"user_id":8064868,"display_name":"Kumar Shanoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689184048,"creation_date":1689184048,"answer_id":76673225,"question_id":76673175,"body_markdown":"At ans[i + 1] For i= (length of the array-1 ).you are assigning it to ans array .Since the indies starts from 0 ,at ans[n] there won’t be any assignment and the index will be out of bound.Solution is to run the loop n-2 times only","title":"Leetcode, Shuffle the Array, what&#39;s wrong with my answer?","body":"<p>At ans[i + 1] For i= (length of the array-1 ).you are assigning it to ans array .Since the indies starts from 0 ,at ans[n] there won’t be any assignment and the index will be out of bound.Solution is to run the loop n-2 times only</p>\n"},{"tags":[],"owner":{"account_id":28969902,"reputation":61,"user_id":22190461,"display_name":"Guillem Chesa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689184171,"creation_date":1689184171,"answer_id":76673244,"question_id":76673175,"body_markdown":"The array `nums` is of size `2n` whereas `first` and `second` are of size `n`. Let&#39;s say `nums` has a size of 100, then `first` and `second` will have a size of 50. At some point your loop is trying to access indices that don&#39;t exist in `first` and `second`.\r\n\r\nAlso, you&#39;re going to have an exception in the next line too, since `ans[i+1]` will eventually try to access the index 100, being the maximum 99.","title":"Leetcode, Shuffle the Array, what&#39;s wrong with my answer?","body":"<p>The array <code>nums</code> is of size <code>2n</code> whereas <code>first</code> and <code>second</code> are of size <code>n</code>. Let's say <code>nums</code> has a size of 100, then <code>first</code> and <code>second</code> will have a size of 50. At some point your loop is trying to access indices that don't exist in <code>first</code> and <code>second</code>.</p>\n<p>Also, you're going to have an exception in the next line too, since <code>ans[i+1]</code> will eventually try to access the index 100, being the maximum 99.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689216472,"creation_date":1689216472,"answer_id":76675577,"question_id":76673175,"body_markdown":"Firstly, your parameters for the _second_ _arraycopy_ are incorrect.\r\n\r\nConsider the following; where _n_ is _5_.\r\n\r\n```java\r\nint[] nums = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 0 };\r\nint[] second = new int[n];\r\nSystem.arraycopy(nums, n + 1, second, 0, n - 1);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[7, 8, 9, 0, 0]\r\n```\r\n\r\nThe _srcPos_ and _length_ parameter should both be _n_.\r\n\r\n```java\r\nSystem.arraycopy(nums, n, second, 0, n);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[6, 7, 8, 9, 0]\r\n```\r\n\r\n&gt; _&quot;... I&#39;m getting the error &quot;java.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3&quot;... What can I do to fix that error? ...&quot;_\r\n\r\nYou can utilize two _loop_ parameters.  \r\nOne to hold the index for the _first_ and _second_ array, and one to hold the index of the _ans_ array.\r\n\r\n```java\r\npublic static int[] shuffle(int[] nums, int n) {\r\n    int[] first = new int[n];\r\n    int[] second = new int[n];\r\n    int[] ans = new int[n+n];\r\n    System.arraycopy(nums, 0, first, 0, n);\r\n    System.arraycopy(nums, n, second, 0, n);\r\n    for(int indexA = 0, indexB = 0; indexA &lt; n; indexA++, indexB += 2){\r\n        ans[indexB] = first[indexA];\r\n        ans[indexB + 1] = second[indexA];\r\n    }\r\n    return ans;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[1, 6, 2, 7, 3, 8, 4, 9, 5, 0]\r\n```","title":"Leetcode, Shuffle the Array, what&#39;s wrong with my answer?","body":"<p>Firstly, your parameters for the <em>second</em> <em>arraycopy</em> are incorrect.</p>\n<p>Consider the following; where <em>n</em> is <em>5</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] nums = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 0 };\nint[] second = new int[n];\nSystem.arraycopy(nums, n + 1, second, 0, n - 1);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[7, 8, 9, 0, 0]\n</code></pre>\n<p>The <em>srcPos</em> and <em>length</em> parameter should both be <em>n</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.arraycopy(nums, n, second, 0, n);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[6, 7, 8, 9, 0]\n</code></pre>\n<blockquote>\n<p><em>&quot;... I'm getting the error &quot;java.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3&quot;... What can I do to fix that error? ...&quot;</em></p>\n</blockquote>\n<p>You can utilize two <em>loop</em> parameters.<br />\nOne to hold the index for the <em>first</em> and <em>second</em> array, and one to hold the index of the <em>ans</em> array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int[] shuffle(int[] nums, int n) {\n    int[] first = new int[n];\n    int[] second = new int[n];\n    int[] ans = new int[n+n];\n    System.arraycopy(nums, 0, first, 0, n);\n    System.arraycopy(nums, n, second, 0, n);\n    for(int indexA = 0, indexB = 0; indexA &lt; n; indexA++, indexB += 2){\n        ans[indexB] = first[indexA];\n        ans[indexB + 1] = second[indexA];\n    }\n    return ans;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[1, 6, 2, 7, 3, 8, 4, 9, 5, 0]\n</code></pre>\n"}],"owner":{"account_id":28000722,"reputation":1,"user_id":21385087,"display_name":"j k"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1689216472,"creation_date":1689183551,"question_id":76673175,"body_markdown":"**The Problem**: \r\nGiven the array nums consisting of 2n elements in the form \\[x1,x2,...,xn,y1,y2,...,yn\\].\r\n\r\nReturn the array in the form \\[x1,y1,x2,y2,...,xn,yn\\].\r\n\r\nI figured I could copy the first half in one array, the second half in another, and take turns putting them in a new array but I&#39;m getting the error &quot;java.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3&quot;... What can I do to fix that error?\r\n\r\nThe hint said I could use pointers, but what was wrong with the way I thought of going about it?\r\n\r\n**Here&#39;s my code**:\r\n```\r\nclass Solution {\r\n    public int[] shuffle(int[] nums, int n) {\r\n        int[] first = new int[n];\r\n        int[] second = new int[n];\r\n        int[] ans = new int[n+n];\r\n        System.arraycopy(nums, 0, first, 0, n);\r\n        System.arraycopy(nums, n + 1, second, 0, n - 1);\r\n        for(int i = 0; i &lt; (nums.length); i++){\r\n            ans[i] = first[i]; //GETTING ERROR HERE\r\n            ans[i + 1] = second[i];\r\n        }\r\n        return ans;\r\n    }\r\n}\r\n```\r\n\r\n","title":"Leetcode, Shuffle the Array, what&#39;s wrong with my answer?","body":"<p><strong>The Problem</strong>:\nGiven the array nums consisting of 2n elements in the form [x1,x2,...,xn,y1,y2,...,yn].</p>\n<p>Return the array in the form [x1,y1,x2,y2,...,xn,yn].</p>\n<p>I figured I could copy the first half in one array, the second half in another, and take turns putting them in a new array but I'm getting the error &quot;java.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3&quot;... What can I do to fix that error?</p>\n<p>The hint said I could use pointers, but what was wrong with the way I thought of going about it?</p>\n<p><strong>Here's my code</strong>:</p>\n<pre><code>class Solution {\n    public int[] shuffle(int[] nums, int n) {\n        int[] first = new int[n];\n        int[] second = new int[n];\n        int[] ans = new int[n+n];\n        System.arraycopy(nums, 0, first, 0, n);\n        System.arraycopy(nums, n + 1, second, 0, n - 1);\n        for(int i = 0; i &lt; (nums.length); i++){\n            ans[i] = first[i]; //GETTING ERROR HERE\n            ans[i + 1] = second[i];\n        }\n        return ans;\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","sockets","objectoutputstream"],"comments":[{"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"score":0,"creation_date":1338141759,"post_id":10775709,"comment_id":14012731,"body_markdown":"What is ServerModelManager doing when you call `model.addClient(nickname, connectionSocket,outToClient,inFromClient);`?  There may be code within it that is corrupting the stream.","body":"What is ServerModelManager doing when you call <code>model.addClient(nickname, connectionSocket,outToClient,inFromClient);</code>?  There may be code within it that is corrupting the stream."},{"owner":{"account_id":1520471,"reputation":161,"user_id":1420273,"display_name":"user1420273"},"score":0,"creation_date":1338144364,"post_id":10775709,"comment_id":14013214,"body_markdown":"addClient(adds the user to an ArrayList of type ClientRepresantative that hold the socket, objectouput and input stream.) it doesn&#39;t read anything","body":"addClient(adds the user to an ArrayList of type ClientRepresantative that hold the socket, objectouput and input stream.) it doesn&#39;t read anything"},{"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"score":0,"creation_date":1338148105,"post_id":10775709,"comment_id":14013944,"body_markdown":"Alright. Also, you should flush ObjectOutputStreams after constructing them to ensure that the header is sent.  That may be the reason you are receiving that error; the stream header hasn&#39;t gone through yet.  Flush the ObjectOutputStream on both the client and the server after creation.","body":"Alright. Also, you should flush ObjectOutputStreams after constructing them to ensure that the header is sent.  That may be the reason you are receiving that error; the stream header hasn&#39;t gone through yet.  Flush the ObjectOutputStream on both the client and the server after creation."},{"owner":{"account_id":1520471,"reputation":161,"user_id":1420273,"display_name":"user1420273"},"score":0,"creation_date":1338150896,"post_id":10775709,"comment_id":14014457,"body_markdown":"I added the flushing, nothing changed","body":"I added the flushing, nothing changed"},{"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"score":0,"creation_date":1338153767,"post_id":10775709,"comment_id":14015080,"body_markdown":"Do you mind adding your client code where you write objects?","body":"Do you mind adding your client code where you write objects?"},{"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"score":0,"creation_date":1338153910,"post_id":10775709,"comment_id":14015110,"body_markdown":"Sorry, I meant the code where the client writes objects to the server.","body":"Sorry, I meant the code where the client writes objects to the server."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1338160620,"post_id":10775709,"comment_id":14016132,"body_markdown":"@Vulcan The ObjectOutputStream flushes itself during construction. I&#39;ve been giving that advice for years too, but it isn&#39;t necessary. It is necessary to construct it before the ObjectInputStream, preferably at both ends to avoid accidents.","body":"@Vulcan The ObjectOutputStream flushes itself during construction. I&#39;ve been giving that advice for years too, but it isn&#39;t necessary. It is necessary to construct it before the ObjectInputStream, preferably at both ends to avoid accidents."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1338160916,"post_id":10775709,"comment_id":14016159,"body_markdown":"@user1420273 Constructing new Strings around string literals is wasteful. Don&#39;t do that; use writeUnshared() instead.","body":"@user1420273 Constructing new Strings around string literals is wasteful. Don&#39;t do that; use writeUnshared() instead."},{"owner":{"account_id":1520471,"reputation":161,"user_id":1420273,"display_name":"user1420273"},"score":0,"creation_date":1338227488,"post_id":10775709,"comment_id":14032485,"body_markdown":"what exactly do you mean by &quot;Constructing new Strings around string literals&quot; could you clarify please?","body":"what exactly do you mean by &quot;Constructing new Strings around string literals&quot; could you clarify please?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1357336253,"post_id":10775709,"comment_id":19625829,"body_markdown":"@user1420273 new String(&quot;abc&quot;) is semantically identical to &quot;abc&quot; except that it refers to a different, redundant, object. Just use &quot;abc&quot;.","body":"@user1420273 new String(&quot;abc&quot;) is semantically identical to &quot;abc&quot; except that it refers to a different, redundant, object. Just use &quot;abc&quot;."},{"owner":{"account_id":3249338,"reputation":2505,"user_id":2740071,"accept_rate":80,"display_name":"Melih Altıntaş"},"score":0,"creation_date":1399658585,"post_id":10775709,"comment_id":36171891,"body_markdown":"I have the same problem.How did you solve this problem?","body":"I have the same problem.How did you solve this problem?"}],"answers":[{"comments":[{"owner":{"account_id":1520471,"reputation":161,"user_id":1420273,"display_name":"user1420273"},"score":1,"creation_date":1338197867,"post_id":10777950,"comment_id":14022749,"body_markdown":"I create the ObjectOutputStream first at both sides(Proxy,ServerCommunicationThread). I construct it only once and then just send a reference to it to the other Thread. I don&#39;t use any other kind of stream.\nThe only thing that comes to mind is that i&#39;m trying to read an object from the same ObjectInputStream in 2 Threads at the same time.(ServerCommunicationThread,ServerGameThread) Can this be the problem? (from the location of the exception i would assume so..)","body":"I create the ObjectOutputStream first at both sides(Proxy,ServerCommunicationThread). I construct it only once and then just send a reference to it to the other Thread. I don&#39;t use any other kind of stream. The only thing that comes to mind is that i&#39;m trying to read an object from the same ObjectInputStream in 2 Threads at the same time.(ServerCommunicationThread,ServerGameThread) Can this be the problem? (from the location of the exception i would assume so..)"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1357336102,"post_id":10777950,"comment_id":19625762,"body_markdown":"@user1420273 Certainly it can, unless you have appropriate synchronization.","body":"@user1420273 Certainly it can, unless you have appropriate synchronization."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1541696836,"creation_date":1338160800,"answer_id":10777950,"question_id":10775709,"body_markdown":"This problem can happen if you \r\n\r\n- construct a new `ObjectInputStream` or `ObjectOutputStream` over the same socket instead of using the same ones for the life of the socket;\r\n- use another kind of stream over the same socket as well; or,\r\n- use the object streams to read or write something that isn&#39;t an object and you get out of sync.","title":"java.io.StreamCorruptedException: invalid type code: 00","body":"<p>This problem can happen if you </p>\n\n<ul>\n<li>construct a new <code>ObjectInputStream</code> or <code>ObjectOutputStream</code> over the same socket instead of using the same ones for the life of the socket;</li>\n<li>use another kind of stream over the same socket as well; or,</li>\n<li>use the object streams to read or write something that isn't an object and you get out of sync.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1357336157,"post_id":13263036,"comment_id":19625784,"body_markdown":"No it can&#39;t. That condition causes a ClassNotFoundException.","body":"No it can&#39;t. That condition causes a ClassNotFoundException."},{"owner":{"account_id":184675,"reputation":14560,"user_id":420867,"accept_rate":68,"display_name":"drevicko"},"score":1,"creation_date":1357460408,"post_id":13263036,"comment_id":19652348,"body_markdown":"I made this answer as I had successfully fixed the error in the question by installing the correct jar files. I believe in my case I had the wrong versions (and the version UID was not properly maintained), though it was a while ago now... It may also be possible with class name conflicts? @ejp I&#39;ll amend my answer to indicate jar file versions - fell free to remove your down vote, it doesn&#39;t motivate one to provide others with the benefit of ones experiences!","body":"I made this answer as I had successfully fixed the error in the question by installing the correct jar files. I believe in my case I had the wrong versions (and the version UID was not properly maintained), though it was a while ago now... It may also be possible with class name conflicts? @ejp I&#39;ll amend my answer to indicate jar file versions - fell free to remove your down vote, it doesn&#39;t motivate one to provide others with the benefit of ones experiences!"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1357462002,"post_id":13263036,"comment_id":19652580,"body_markdown":"If you have a `serialVersionUID` mismatch you get an exception that explicitly says so, listing both the expected and the actual `serialVersionUIDs.` You do not get a `StreamCorruptedException` that says `unexpected type code 0x00.` Mis-diagnoses aren&#39;t  beneficial to anybody.","body":"If you have a <code>serialVersionUID</code> mismatch you get an exception that explicitly says so, listing both the expected and the actual <code>serialVersionUIDs.</code> You do not get a <code>StreamCorruptedException</code> that says <code>unexpected type code 0x00.</code> Mis-diagnoses aren&#39;t  beneficial to anybody."},{"owner":{"account_id":184675,"reputation":14560,"user_id":420867,"accept_rate":68,"display_name":"drevicko"},"score":2,"creation_date":1357520220,"post_id":13263036,"comment_id":19667605,"body_markdown":"Unfortunately the world is not perfect, and not everybody maintains `serialVersionUID`&#39;s properly. There was not a `serialVersionUID` mismatch - it had not been properly maintained between versions. As I said, I had the error stated in the question and solved it by installing the correct version. This is NOT a misdiagnosis! It is a possible cause of this error.","body":"Unfortunately the world is not perfect, and not everybody maintains <code>serialVersionUID</code>&#39;s properly. There was not a <code>serialVersionUID</code> mismatch - it had not been properly maintained between versions. As I said, I had the error stated in the question and solved it by installing the correct version. This is NOT a misdiagnosis! It is a possible cause of this error."},{"owner":{"account_id":184675,"reputation":14560,"user_id":420867,"accept_rate":68,"display_name":"drevicko"},"score":2,"creation_date":1357527209,"post_id":13263036,"comment_id":19669004,"body_markdown":"Just in case it&#39;s not clear, by &#39;not properly maintained&#39; I mean to say that the `serialVersionUID` of a class was not changed between versions. Thus the version UID&#39;s matched, and the exception raised was a `StreamCorruptedException`, since the `ObjectInputStream` did not find elements corresponding to those it was expecting. Believe me, it took some time to figure that out, and this SO question was one of the places I looked for the answer - hence I provide it here for others who encounter a similar situation.","body":"Just in case it&#39;s not clear, by &#39;not properly maintained&#39; I mean to say that the <code>serialVersionUID</code> of a class was not changed between versions. Thus the version UID&#39;s matched, and the exception raised was a <code>StreamCorruptedException</code>, since the <code>ObjectInputStream</code> did not find elements corresponding to those it was expecting. Believe me, it took some time to figure that out, and this SO question was one of the places I looked for the answer - hence I provide it here for others who encounter a similar situation."},{"owner":{"account_id":1006770,"reputation":401,"user_id":1020315,"display_name":"Phil"},"score":1,"creation_date":1394681918,"post_id":13263036,"comment_id":34002410,"body_markdown":"to @drevicko&#39;s point, it is similarly described [here](http://stackoverflow.com/questions/9217010/serialisation-in-java-invalid-type-code-00#answers).","body":"to @drevicko&#39;s point, it is similarly described <a href=\"http://stackoverflow.com/questions/9217010/serialisation-in-java-invalid-type-code-00#answers\">here</a>."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1399723849,"post_id":13263036,"comment_id":36189993,"body_markdown":"@drevicko There is nothing &#39;proper&#39; about changing the serialVersuonUID between versions. This is merely a very widely spread misconception. It appears nobody has actual read the Versioning chapter of the Object Serialization Specification, or they wouldn&#39;t be deliberately causing unnecessary incompatibilities and extra work for themselves with this bizarre practice.","body":"@drevicko There is nothing &#39;proper&#39; about changing the serialVersuonUID between versions. This is merely a very widely spread misconception. It appears nobody has actual read the Versioning chapter of the Object Serialization Specification, or they wouldn&#39;t be deliberately causing unnecessary incompatibilities and extra work for themselves with this bizarre practice."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1479764676,"post_id":13263036,"comment_id":68687244,"body_markdown":"@dreveo And your assertion that class changes can produce a `StreamCorruptedExceptuon` remains false.","body":"@dreveo And your assertion that class changes can produce a <code>StreamCorruptedExceptuon</code> remains false."},{"owner":{"account_id":184675,"reputation":14560,"user_id":420867,"accept_rate":68,"display_name":"drevicko"},"score":0,"creation_date":1480335461,"post_id":13263036,"comment_id":68905075,"body_markdown":"@EJP Did you test the scenario I presented? I reported this because it DID happen. Perhaps in recent versions of Java it is no longer possible, but at the time I can assure you it was.","body":"@EJP Did you test the scenario I presented? I reported this because it DID happen. Perhaps in recent versions of Java it is no longer possible, but at the time I can assure you it was."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1549227258,"post_id":13263036,"comment_id":95818603,"body_markdown":"it isn&#39;t necessary to test it. The Object Serialization Specification provides that adding fields to a class is compatible under Serialization.","body":"it isn&#39;t necessary to test it. The Object Serialization Specification provides that adding fields to a class is compatible under Serialization."}],"tags":[],"owner":{"account_id":184675,"reputation":14560,"user_id":420867,"accept_rate":68,"display_name":"drevicko"},"comment_count":10,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1357527488,"creation_date":1352261693,"answer_id":13263036,"question_id":10775709,"body_markdown":"This can also happen if the JVM reading the serialized object does not have the correct class/jar files for the object. This usually results in a `ClassNotFoundException`, but if you have different jar/class versions and the `serialVersionUID` was not changed between versions, a `StreamCorruptedException` is produced. (This exception may also be possible if there is a class name conflict. e.g.: a jar containing a different class with the same full class name, though they probably also need the same `serilVersionUID`).\r\n\r\nCheck that the client side has the correct versions of jars and class files.","title":"java.io.StreamCorruptedException: invalid type code: 00","body":"<p>This can also happen if the JVM reading the serialized object does not have the correct class/jar files for the object. This usually results in a <code>ClassNotFoundException</code>, but if you have different jar/class versions and the <code>serialVersionUID</code> was not changed between versions, a <code>StreamCorruptedException</code> is produced. (This exception may also be possible if there is a class name conflict. e.g.: a jar containing a different class with the same full class name, though they probably also need the same <code>serilVersionUID</code>).</p>\n\n<p>Check that the client side has the correct versions of jars and class files.</p>\n"},{"tags":[],"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1399723493,"creation_date":1399723493,"answer_id":23580843,"question_id":10775709,"body_markdown":"If `ObjectInputStream` is constructed only once and then just passed a reference of it to the other Thread then simply enclose the access of this object inside `synchronized` block to make sure that only one thread can access this object at a time.\r\n\r\nWhenever you are reading from `ObjectInputStream` just access it inside the `synchronized` block if it is shared between multiple threads.\r\n______\r\n\r\nSample code:(do it for all the occurrences of `readObject()`)\r\n\r\n    ...\r\n    String nickname = null;\r\n    synchronized (inFromClient) {\r\n        nickname = (String) inFromClient.readObject();\r\n    }\r\n   ","title":"java.io.StreamCorruptedException: invalid type code: 00","body":"<p>If <code>ObjectInputStream</code> is constructed only once and then just passed a reference of it to the other Thread then simply enclose the access of this object inside <code>synchronized</code> block to make sure that only one thread can access this object at a time.</p>\n\n<p>Whenever you are reading from <code>ObjectInputStream</code> just access it inside the <code>synchronized</code> block if it is shared between multiple threads.</p>\n\n<hr>\n\n<p>Sample code:(do it for all the occurrences of <code>readObject()</code>)</p>\n\n<pre><code>...\nString nickname = null;\nsynchronized (inFromClient) {\n    nickname = (String) inFromClient.readObject();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1426629230,"post_id":27586042,"comment_id":46450231,"body_markdown":"This is not a correct statement of the problem. The issue is that you must call `defaultReadObject().` Once you&#39;ve done that it isn&#39;t important that you read the exact number of bytes of your own stuff.","body":"This is not a correct statement of the problem. The issue is that you must call <code>defaultReadObject().</code> Once you&#39;ve done that it isn&#39;t important that you read the exact number of bytes of your own stuff."}],"tags":[],"owner":{"account_id":2558256,"reputation":542,"user_id":2219808,"display_name":"user2219808"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1426722202,"creation_date":1419126456,"answer_id":27586042,"question_id":10775709,"body_markdown":"There&#39;s another possibility that I ran across where if you implement a custom deserialization routine for a class by adding this method:\r\n\r\n    private void readObject( ObjectInputStream objectInputStream ) throws IOException\r\n\r\nthen objectInputStream.defaultReadObject() must be called and called before any further reads of the input stream to properly initialise the object.\r\n\r\nI missed this and despite the object returning without an exception being thrown it was the next read of the object stream that confusingly raised the invalid type code exception.\r\n\r\nThis link provides further information on the process: [http://osdir.com/ml/java.sun.jini/2003-10/msg00204.html][1].\r\n\r\n\r\n  [1]: http://osdir.com/ml/java.sun.jini/2003-10/msg00204.html","title":"java.io.StreamCorruptedException: invalid type code: 00","body":"<p>There's another possibility that I ran across where if you implement a custom deserialization routine for a class by adding this method:</p>\n\n<pre><code>private void readObject( ObjectInputStream objectInputStream ) throws IOException\n</code></pre>\n\n<p>then objectInputStream.defaultReadObject() must be called and called before any further reads of the input stream to properly initialise the object.</p>\n\n<p>I missed this and despite the object returning without an exception being thrown it was the next read of the object stream that confusingly raised the invalid type code exception.</p>\n\n<p>This link provides further information on the process: <a href=\"http://osdir.com/ml/java.sun.jini/2003-10/msg00204.html\" rel=\"nofollow\">http://osdir.com/ml/java.sun.jini/2003-10/msg00204.html</a>.</p>\n"},{"comments":[{"owner":{"account_id":16236827,"reputation":487,"user_id":13088461,"display_name":"Paul Kocian"},"score":1,"creation_date":1653754099,"post_id":27821085,"comment_id":127930263,"body_markdown":"Yes, using synchronized functions works perfectly!","body":"Yes, using synchronized functions works perfectly!"}],"tags":[],"owner":{"account_id":5520793,"reputation":4379,"user_id":4383820,"accept_rate":81,"display_name":"Lasitha Yapa"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1420639040,"creation_date":1420639040,"answer_id":27821085,"question_id":10775709,"body_markdown":"I too had this exception. It occurred because I used two threads for Server class and Client class. I used one thread for object sending and receiving thing. Then it was ok. This is easy way to solve the problem if you are not familiar with `synchronized`.\r\n","title":"java.io.StreamCorruptedException: invalid type code: 00","body":"<p>I too had this exception. It occurred because I used two threads for Server class and Client class. I used one thread for object sending and receiving thing. Then it was ok. This is easy way to solve the problem if you are not familiar with <code>synchronized</code>.</p>\n"},{"tags":[],"owner":{"account_id":11120658,"reputation":139,"user_id":8163593,"accept_rate":75,"display_name":"BWC semaJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497493677,"creation_date":1497493677,"answer_id":44557552,"question_id":10775709,"body_markdown":"&gt;java.io.StreamCorruptedException: invalid type code: 00\r\n\r\nI recently ran into this problem, not doing what OP did though. Did a quick google search and didn&#39;t find anything that was too helpful and because I think I solved it I am making a comment with my solution.\r\n\r\nTLDR: Don&#39;t have multiple threads write to the same output stream at same time (instead take turns). Will cause issues for when client side tries to read the data. Solution is putting a lock on the writing to output.\r\n\r\nI am doing something very similar to OP, making a multiplayer (client-server model) game. I have a thread like OP that is listening for traffic. What was happening, in my server side was that server had multiple threads that were writing to a client&#39;s stream at the same time (didn&#39;t think it was possible, game was semi turn base). Client side thread that was reading the incoming traffic was throwing this exception. To solve this I basically put a lock on the part that wrote to the client&#39;s stream (on server side) so each thread in server side would have to obtain the lock before writing to the stream.","title":"java.io.StreamCorruptedException: invalid type code: 00","body":"<blockquote>\n  <p>java.io.StreamCorruptedException: invalid type code: 00</p>\n</blockquote>\n\n<p>I recently ran into this problem, not doing what OP did though. Did a quick google search and didn't find anything that was too helpful and because I think I solved it I am making a comment with my solution.</p>\n\n<p>TLDR: Don't have multiple threads write to the same output stream at same time (instead take turns). Will cause issues for when client side tries to read the data. Solution is putting a lock on the writing to output.</p>\n\n<p>I am doing something very similar to OP, making a multiplayer (client-server model) game. I have a thread like OP that is listening for traffic. What was happening, in my server side was that server had multiple threads that were writing to a client's stream at the same time (didn't think it was possible, game was semi turn base). Client side thread that was reading the incoming traffic was throwing this exception. To solve this I basically put a lock on the part that wrote to the client's stream (on server side) so each thread in server side would have to obtain the lock before writing to the stream.</p>\n"},{"comments":[{"owner":{"account_id":6893227,"reputation":171,"user_id":5295979,"display_name":"Matthias Miro"},"score":0,"creation_date":1689338565,"post_id":76582011,"comment_id":135203073,"body_markdown":"Thanks!! :) in 2023 with IntelliJ this should be the accepted answer :)","body":"Thanks!! :) in 2023 with IntelliJ this should be the accepted answer :)"}],"tags":[],"owner":{"account_id":10114466,"reputation":151,"user_id":7473616,"display_name":"Kiran Maharjan"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1688048859,"creation_date":1688048859,"answer_id":76582011,"question_id":10775709,"body_markdown":"In intellij this is how I solved for Java.\r\nGo to  build&gt; gradle\r\n[![enter image description here][1]][1]\r\n\r\nthen change the java version to lower one.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y5vfI.png\r\n  [2]: https://i.stack.imgur.com/NojjK.png","title":"java.io.StreamCorruptedException: invalid type code: 00","body":"<p>In intellij this is how I solved for Java.\nGo to  build&gt; gradle\n<a href=\"https://i.stack.imgur.com/Y5vfI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Y5vfI.png\" alt=\"enter image description here\" /></a></p>\n<p>then change the java version to lower one.\n<a href=\"https://i.stack.imgur.com/NojjK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NojjK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":4357309,"reputation":351,"user_id":3555485,"display_name":"phancuongviet"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689216161,"creation_date":1689216161,"answer_id":76675561,"question_id":10775709,"body_markdown":"My problem is gradle JVM is configed incorrect. Please check that compatible JDK is used in Settings\r\n\r\n    1. File | Setting | Build, Execution, Deployment | Build Tools | Gradle | Gradle JVM (Here is my problem)\r\n    \r\n    2. Please select the correct your own JDK directory installation in the local computer (default dir in windows is located at the path &quot;C:\\Program Files\\Java\\jdk-17&quot;)\r\n\r\nHope to help you all","title":"java.io.StreamCorruptedException: invalid type code: 00","body":"<p>My problem is gradle JVM is configed incorrect. Please check that compatible JDK is used in Settings</p>\n<pre><code>1. File | Setting | Build, Execution, Deployment | Build Tools | Gradle | Gradle JVM (Here is my problem)\n\n2. Please select the correct your own JDK directory installation in the local computer (default dir in windows is located at the path &quot;C:\\Program Files\\Java\\jdk-17&quot;)\n</code></pre>\n<p>Hope to help you all</p>\n"}],"owner":{"account_id":1520471,"reputation":161,"user_id":1420273,"display_name":"user1420273"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57333,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":8,"score":16,"last_activity_date":1689216161,"creation_date":1338137895,"question_id":10775709,"body_markdown":"So basically im writing a client-server multiplayer game.\r\nI have a SeverCommunicationThread that creates a gameThread if he receives a RequestForGame creates a gameThread. \r\nWhen i send a RequestForGame exception is thrown java.io.StreamCorruptedException: invalid type code: 00\r\nI assume it&#39;s because both threads try to read the same ObjectInputStream, I don&#39;t have much understanding about how it works, i just know how to use it. Could you help me understand what&#39;s the problem and how to fix it?\r\nThanks :)\r\n\r\n \r\n \tpublic class ServerCommunicationThread extends Thread{\r\n\tprivate Socket connectionSocket;\r\n\tprivate ObjectInputStream inFromClient;\r\n\tprivate ObjectOutputStream outToClient;\r\n\tprivate String nickname;\r\n\tprivate ServerModelManager model;\r\n\t\r\n\r\n\tpublic ServerCommunicationThread(Socket connectionSocket,\r\n\t\t\tServerModelManager model) throws IOException {\r\n\t\tthis.connectionSocket = connectionSocket;\r\n\t\tinFromClient = new ObjectInputStream(connectionSocket.getInputStream());\r\n\t\toutToClient = new ObjectOutputStream(connectionSocket.getOutputStream());\r\n\t\tthis.model = model;\r\n\t\tstart();\r\n\t\t\r\n\t}\r\n\r\n\tpublic void run() {\r\n\t\ttry {\r\n\t\t\tString nickname = (String) inFromClient.readObject();\r\n\t\t\tif (model.exists(nickname)){\r\n\t\t\t\tSystem.out.println(nickname + &quot; already exists&quot;);\r\n\t\t\t\toutToClient.writeObject(new MessageForClient(&quot;Please choose another nickname&quot;));\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(nickname + &quot; connected, adding to list&quot;);\r\n\t\t\t\tmodel.addClient(nickname, connectionSocket,outToClient,inFromClient);\r\n\t\t\t\tthis.nickname=nickname;\r\n\t\t\t}\r\n\t\t\twhile(true){\r\n\t\t\t\tObject o= inFromClient.readObject();//StreamCorruptedexception\r\n\t\t\t\tif(o instanceof RequestForGame)\r\n\t\t\t\t{\r\n\t\t\t\t\tRequestForGame r=(RequestForGame)o;\r\n\t\t\t\t\tString userToPlayWith=r.getUserToPlayWith();\r\n\t\t\t\t\tif(userToPlayWith.equals(nickname))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tString message=&quot;Playing with yourself makes your palms hairy, choose another opponent&quot;;\r\n\t\t\t\t\t\toutToClient.writeObject(message);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;received request to play with &quot;+userToPlayWith+&quot;. starting game&quot;);\r\n\t\t\t\t\tClientRepresentative client1=model.getClient(nickname);\r\n\t\t\t\t\tClientRepresentative client2=model.getClient(userToPlayWith);\r\n\t\t\t\t\tServerGameThread s=new ServerGameThread(client2,client1,client2.getInStream(),client1.getInStream(),client1.getOutStream(),client2.getOutStream());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(o instanceof String)\r\n\t\t\t\t{\r\n\t\t\t\t\tString s=(String) o;\r\n\t\t\t\t\tif(s.equals(&quot;i want to quit&quot;))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tmodel.deleteClient(nickname);\r\n\t\t\t\t\t\tinFromClient.close();\r\n\t\t\t\t\t\tString q=&quot;quit&quot;;\r\n\t\t\t\t\t\toutToClient.writeObject(q);\r\n\t\t\t\t\t\tconnectionSocket.close();\r\n\t\t\t\t\t\tSystem.out.println(nickname+&quot;has quit without exc&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (EOFException e) {\r\n\t\t\tSystem.out.println(nickname+&quot; has quit&quot;);\r\n\t\t}\r\n\t\tcatch (SocketException e)\r\n\t\t{\r\n\t\t\tSystem.out.println(nickname+&quot; has quit&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tcatch (Exception e) {\r\n\t\t\t\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n     public class ServerGameThread extends Thread {\r\n\r\n\tprivate ClientRepresentative client1,client2;\r\n\tprivate ObjectInputStream inFromClient1,inFromClient2;\r\n\tprivate ObjectOutputStream outToClient1,outToClient2;\r\n\tprivate Field gameField; \r\n\tpublic ServerGameThread(ClientRepresentative client1, ClientRepresentative client2,ObjectInputStream inFromClient1,ObjectInputStream inFromClient2,ObjectOutputStream outToClient1,ObjectOutputStream outToClient2)\r\n\t{\r\n\t\tSystem.out.println(&quot;startin game thred&quot;);\r\n\t\tthis.client1=client1;//client 1 goes first\r\n\t\tthis.client2=client2;//client 2 started game\r\n\r\n\t\r\n\t\t\tthis.inFromClient1=inFromClient1;\r\n\t\t\tthis.inFromClient2=inFromClient2;\r\n\t\t\tthis.outToClient1=outToClient1;\r\n\t\t\tthis.outToClient2=outToClient2;\r\n\t\t\t\r\n\t\t\r\n\t\t\tgameField=new Field();\r\n\t\t\tSystem.out.println(&quot;check&quot;);\r\n\t\t\tstart();\r\n\t}\r\n\tpublic void run()\r\n\t{\r\n\t\tSystem.out.println(&quot;Starting game. players: &quot;+client1.getNickname()+&quot;;&quot;+client2.getNickname());\r\n\t\ttry {\r\n\t\t\toutToClient1.writeObject(gameField);\r\n\t\t\toutToClient2.writeObject(gameField);\r\n\t\t\twhile(true)\r\n\t\t\t{\r\n\t\t\t\ttry {\r\n\t\t\t\t\tSystem.out.println(&quot;listening to &quot;+client1.getNickname());\r\n\t\t\t\t\tObject o1=inFromClient1.readObject();//read move from client 1.**//StreamCorruptedexception**\r\n\t\t\t\t\t\r\n\t\t\t\t\twhile(!(o1 instanceof PlayerMove))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\to1=inFromClient1.readObject();//read move from client 1.\r\n\t\t\t\t\t}\r\n\t\t\t\t\tPlayerMove move1=(PlayerMove)o1;\r\n\t\t\t\t\tSystem.out.println(&quot;received move &quot;+move1+&quot; sending to &quot;+client2.getNickname());\r\n\t\t\t\t\toutToClient2.writeObject(move1);\r\n\t\t\t\t\tSystem.out.println(&quot;listening to &quot;+client2.getNickname());\r\n\t\t\t\t\tObject o2=inFromClient2.readObject();//read move from client 1.\r\n\t\t\t\t\twhile(!(o2 instanceof PlayerMove))\r\n\t\t\t\t\t{\t\r\n\t\t\t\t\t\to2=inFromClient2.readObject();//read move from client 1.\r\n\t\t\t\t\t}\r\n\t\t\t\t\tPlayerMove move2=(PlayerMove)o2;\r\n\t\t\t\t\tSystem.out.println(&quot;received move &quot;+move2+&quot; sending to &quot;+client1.getNickname());\r\n\t\t\t\t\toutToClient1.writeObject(move2);\r\n\t\t\t\t}\r\n\t\t\t\t\tcatch (ClassNotFoundException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n    }\t \r\n\r\n   the model.addClient method though i don&#39;t think the problem is here\r\n   \r\n      public void addClient(String nickname, Socket       clientSocket,ObjectOutputStream stream,ObjectInputStream inStream)\r\n \t{\r\n\t\tclients.addClient(nickname, clientSocket,stream,inStream);//add to arraylist\r\n\t//send client list to all clients\r\n\t\tString[] users=this.getAvailableClients();\r\n\t\tObjectOutputStream[] streams=clients.getOutStreams();\r\n\t\tfor(int i=0;i&lt;streams.length;i++)\r\n\t\t{\r\n\t\t\ttry {\r\n\t\t\t\tstreams[i].writeObject(users);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nThe client side proxy that sends objects to server, the methods are triggered by user actions in GUI\r\n      \r\n      public class Proxy {\r\n \tfinal int PORT = 1337;\r\n\tString host;\r\n\tString nickname;\r\n\tprivate Socket clientSocket;\r\n\tprivate ObjectOutputStream outToServer;\r\n\tprivate ObjectInputStream inFromServer;\r\n\tprivate ClientModelManager manager;\r\n\tpublic Proxy(String nickname,String host,ClientModelManager manager)\r\n\t{\r\n\t\tthis.nickname=nickname;\r\n\t\tthis.host=host;\r\n\t\tthis.manager=manager;\r\n\t\tthis.connect(nickname);\r\n\t}\r\n\tpublic void connect(String nick)\r\n\t{\r\n\t\tSocket clientSocket;\r\n\t\ttry {\r\n\t\t\tclientSocket = new Socket(host, PORT);\r\n\t\t\tSystem.out.println(&quot;client socket created&quot;);\r\n\t\t\toutToServer = new ObjectOutputStream(clientSocket.getOutputStream());\r\n\t\t\tinFromServer=new ObjectInputStream(clientSocket.getInputStream());\r\n\t\t\toutToServer.flush();\r\n\t\t\toutToServer.writeObject(nick);\r\n\t\t\tClientReceiverThread t=new ClientReceiverThread(inFromServer,manager);\r\n\t\t\tt.start();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} \r\n\t}\r\n\tpublic void makeRequest(String user)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\toutToServer.writeObject(new RequestForGame(user));\r\n\t\t}\r\n\t\tcatch(IOException e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\tpublic void quit()\r\n\t{\r\n\t\ttry {\r\n\t\t\toutToServer.writeObject(new String(&quot;i want to quit&quot;));\r\n\t\t\t//clientSocket.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\tpublic void sendMove(PlayerMove move)\r\n\t{\r\n\t\ttry {\r\n\t\t\toutToServer.writeObject(move);\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\r\n}\r\n\r\n","title":"java.io.StreamCorruptedException: invalid type code: 00","body":"<p>So basically im writing a client-server multiplayer game.\nI have a SeverCommunicationThread that creates a gameThread if he receives a RequestForGame creates a gameThread. \nWhen i send a RequestForGame exception is thrown java.io.StreamCorruptedException: invalid type code: 00\nI assume it's because both threads try to read the same ObjectInputStream, I don't have much understanding about how it works, i just know how to use it. Could you help me understand what's the problem and how to fix it?\nThanks :)</p>\n\n<pre><code>public class ServerCommunicationThread extends Thread{\nprivate Socket connectionSocket;\nprivate ObjectInputStream inFromClient;\nprivate ObjectOutputStream outToClient;\nprivate String nickname;\nprivate ServerModelManager model;\n\n\npublic ServerCommunicationThread(Socket connectionSocket,\n        ServerModelManager model) throws IOException {\n    this.connectionSocket = connectionSocket;\n    inFromClient = new ObjectInputStream(connectionSocket.getInputStream());\n    outToClient = new ObjectOutputStream(connectionSocket.getOutputStream());\n    this.model = model;\n    start();\n\n}\n\npublic void run() {\n    try {\n        String nickname = (String) inFromClient.readObject();\n        if (model.exists(nickname)){\n            System.out.println(nickname + \" already exists\");\n            outToClient.writeObject(new MessageForClient(\"Please choose another nickname\"));\n        }\n        else\n        {\n            System.out.println(nickname + \" connected, adding to list\");\n            model.addClient(nickname, connectionSocket,outToClient,inFromClient);\n            this.nickname=nickname;\n        }\n        while(true){\n            Object o= inFromClient.readObject();//StreamCorruptedexception\n            if(o instanceof RequestForGame)\n            {\n                RequestForGame r=(RequestForGame)o;\n                String userToPlayWith=r.getUserToPlayWith();\n                if(userToPlayWith.equals(nickname))\n                {\n                    String message=\"Playing with yourself makes your palms hairy, choose another opponent\";\n                    outToClient.writeObject(message);\n                }\n                else\n                {\n                System.out.println(\"received request to play with \"+userToPlayWith+\". starting game\");\n                ClientRepresentative client1=model.getClient(nickname);\n                ClientRepresentative client2=model.getClient(userToPlayWith);\n                ServerGameThread s=new ServerGameThread(client2,client1,client2.getInStream(),client1.getInStream(),client1.getOutStream(),client2.getOutStream());\n                }\n            }\n            else if(o instanceof String)\n            {\n                String s=(String) o;\n                if(s.equals(\"i want to quit\"))\n                {\n                    model.deleteClient(nickname);\n                    inFromClient.close();\n                    String q=\"quit\";\n                    outToClient.writeObject(q);\n                    connectionSocket.close();\n                    System.out.println(nickname+\"has quit without exc\");\n                }\n            }\n        }\n    } catch (EOFException e) {\n        System.out.println(nickname+\" has quit\");\n    }\n    catch (SocketException e)\n    {\n        System.out.println(nickname+\" has quit\");\n    }\n\n    catch (Exception e) {\n\n        e.printStackTrace();\n    }\n}\n\n}\n public class ServerGameThread extends Thread {\n\nprivate ClientRepresentative client1,client2;\nprivate ObjectInputStream inFromClient1,inFromClient2;\nprivate ObjectOutputStream outToClient1,outToClient2;\nprivate Field gameField; \npublic ServerGameThread(ClientRepresentative client1, ClientRepresentative client2,ObjectInputStream inFromClient1,ObjectInputStream inFromClient2,ObjectOutputStream outToClient1,ObjectOutputStream outToClient2)\n{\n    System.out.println(\"startin game thred\");\n    this.client1=client1;//client 1 goes first\n    this.client2=client2;//client 2 started game\n\n\n        this.inFromClient1=inFromClient1;\n        this.inFromClient2=inFromClient2;\n        this.outToClient1=outToClient1;\n        this.outToClient2=outToClient2;\n\n\n        gameField=new Field();\n        System.out.println(\"check\");\n        start();\n}\npublic void run()\n{\n    System.out.println(\"Starting game. players: \"+client1.getNickname()+\";\"+client2.getNickname());\n    try {\n        outToClient1.writeObject(gameField);\n        outToClient2.writeObject(gameField);\n        while(true)\n        {\n            try {\n                System.out.println(\"listening to \"+client1.getNickname());\n                Object o1=inFromClient1.readObject();//read move from client 1.**//StreamCorruptedexception**\n\n                while(!(o1 instanceof PlayerMove))\n                {\n                    o1=inFromClient1.readObject();//read move from client 1.\n                }\n                PlayerMove move1=(PlayerMove)o1;\n                System.out.println(\"received move \"+move1+\" sending to \"+client2.getNickname());\n                outToClient2.writeObject(move1);\n                System.out.println(\"listening to \"+client2.getNickname());\n                Object o2=inFromClient2.readObject();//read move from client 1.\n                while(!(o2 instanceof PlayerMove))\n                {   \n                    o2=inFromClient2.readObject();//read move from client 1.\n                }\n                PlayerMove move2=(PlayerMove)o2;\n                System.out.println(\"received move \"+move2+\" sending to \"+client1.getNickname());\n                outToClient1.writeObject(move2);\n            }\n                catch (ClassNotFoundException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n}\n}    \n</code></pre>\n\n<p>the model.addClient method though i don't think the problem is here</p>\n\n<pre><code>  public void addClient(String nickname, Socket       clientSocket,ObjectOutputStream stream,ObjectInputStream inStream)\n{\n    clients.addClient(nickname, clientSocket,stream,inStream);//add to arraylist\n//send client list to all clients\n    String[] users=this.getAvailableClients();\n    ObjectOutputStream[] streams=clients.getOutStreams();\n    for(int i=0;i&lt;streams.length;i++)\n    {\n        try {\n            streams[i].writeObject(users);\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>The client side proxy that sends objects to server, the methods are triggered by user actions in GUI</p>\n\n<pre><code>  public class Proxy {\nfinal int PORT = 1337;\nString host;\nString nickname;\nprivate Socket clientSocket;\nprivate ObjectOutputStream outToServer;\nprivate ObjectInputStream inFromServer;\nprivate ClientModelManager manager;\npublic Proxy(String nickname,String host,ClientModelManager manager)\n{\n    this.nickname=nickname;\n    this.host=host;\n    this.manager=manager;\n    this.connect(nickname);\n}\npublic void connect(String nick)\n{\n    Socket clientSocket;\n    try {\n        clientSocket = new Socket(host, PORT);\n        System.out.println(\"client socket created\");\n        outToServer = new ObjectOutputStream(clientSocket.getOutputStream());\n        inFromServer=new ObjectInputStream(clientSocket.getInputStream());\n        outToServer.flush();\n        outToServer.writeObject(nick);\n        ClientReceiverThread t=new ClientReceiverThread(inFromServer,manager);\n        t.start();\n    } catch (Exception e) {\n        e.printStackTrace();\n    } \n}\npublic void makeRequest(String user)\n{\n    try\n    {\n    outToServer.writeObject(new RequestForGame(user));\n    }\n    catch(IOException e)\n    {\n        e.printStackTrace();\n    }\n}\npublic void quit()\n{\n    try {\n        outToServer.writeObject(new String(\"i want to quit\"));\n        //clientSocket.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\npublic void sendMove(PlayerMove move)\n{\n    try {\n        outToServer.writeObject(move);\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","android","gradle"],"owner":{"account_id":14366367,"reputation":145,"user_id":10377294,"display_name":"abhinav chavali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689215858,"creation_date":1689215858,"question_id":76675549,"body_markdown":"I&#39;m trying to use the Quiet modem [library](https://github.com/quiet/org.quietmodem.Quiet) on a desktop java application using Gradle.\r\n\r\nI&#39;ve tried to build the library using &quot;./gradlew build&quot;, but get the error ```Could not determine java version from &#39;11.0.19&#39;.```\r\n\r\nShould I be using the android library on desktop or is it better to write java bindings to the C library? Or how could I modify the gradle to get it working?","title":"Setup quietmodem android library for desktop java application","body":"<p>I'm trying to use the Quiet modem <a href=\"https://github.com/quiet/org.quietmodem.Quiet\" rel=\"nofollow noreferrer\">library</a> on a desktop java application using Gradle.</p>\n<p>I've tried to build the library using &quot;./gradlew build&quot;, but get the error <code>Could not determine java version from '11.0.19'.</code></p>\n<p>Should I be using the android library on desktop or is it better to write java bindings to the C library? Or how could I modify the gradle to get it working?</p>\n"},{"tags":["java","algorithm","set","combinations"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689211833,"post_id":76675320,"comment_id":135182525,"body_markdown":"&quot;Debugging like a pest agency&quot;? Try printing the value of `total` for `generateCombinations(15, 2)`. Then learn about integer overflow.","body":"&quot;Debugging like a pest agency&quot;? Try printing the value of <code>total</code> for <code>generateCombinations(15, 2)</code>. Then learn about integer overflow."}],"answers":[{"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1689214347,"post_id":76675397,"comment_id":135182736,"body_markdown":"Also with `factorial(n) / (factorial(k)` you should consider [Integer division](http://stackoverflow.com/questions/4685450/why-is-the-result-of-1-3-0)","body":"Also with <code>factorial(n) &#47; (factorial(k)</code> you should consider <a href=\"http://stackoverflow.com/questions/4685450/why-is-the-result-of-1-3-0\">Integer division</a>"},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1689215021,"post_id":76675397,"comment_id":135182788,"body_markdown":"also this problem could be solved without knowing the number of answers, and without depending on random number generation","body":"also this problem could be solved without knowing the number of answers, and without depending on random number generation"},{"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"score":0,"creation_date":1689215632,"post_id":76675397,"comment_id":135182831,"body_markdown":"Could you guys please provide examples too? Reading it and seeing it are different animals.","body":"Could you guys please provide examples too? Reading it and seeing it are different animals."}],"tags":[],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689215558,"creation_date":1689212676,"answer_id":76675397,"question_id":76675320,"body_markdown":"&gt; Try printing the value of total for generateCombinations(15, 2). Then learn about integer overflow. – \r\ntgdavies\r\n\r\nThank you for the insight, that is what this site is here for. I know about overflow which is why I facepalmed to the roof. For those that do not know, hitting the value of 2^32 with integers will send you into the negatives. While this is not a permanent fix -- BigInteger is preferable for extreme edge cases -- here lies the problem:\r\n\r\n```java\r\npublic static int factorial(int n)\r\n    return n * ((n &gt; 1) ? factorial(n - 1) : n);\r\n}\r\n```\r\nand here is a simple solution:\r\n```java\r\npublic static double factorial(double n)\r\n    return n * ((n &gt; 1) ? factorial(n - 1) : n);\r\n}\r\n```\r\n\r\n**Edit for a more detailed solution**\r\n```java\r\n// exact decimal values\r\npublic static BigInteger factorial(BigInteger n) {\r\n    return (n.compareTo(BigDecimal.ONE) &lt;= 0)\r\n            ? BigInteger.ONE\r\n            : n.multiply(factorial(n.subtract(BigInteger.ONE)));\r\n}\r\n\r\n// finding the number of combinations given the algorithm\r\npublic static long total(int n, int k) {\r\n    if (n == 0 || k == 0 || n &lt; k)\r\n        return 0;\r\n    if (n == k)\r\n        return 1;\r\n    BigInteger factorial = factorial(BigInteger.valueOf(n))\r\n            .divide(factorial(BigInteger.valueOf(k))\r\n                    .multiply(factorial(BigInteger.valueOf(n - k))));\r\n    return factorial.longValue();\r\n}\r\n```\r\nThis states that BigInteger `n` will be divided by the product of `factorial(n - 1)` and `factorial(n - k)` where `n` is the number of elements and `k` is the size of each list generated","title":"A method with return type Set&lt;Set&lt;Integer&gt;&gt; is providing inconsistent output based on input","body":"<blockquote>\n<p>Try printing the value of total for generateCombinations(15, 2). Then learn about integer overflow. –\ntgdavies</p>\n</blockquote>\n<p>Thank you for the insight, that is what this site is here for. I know about overflow which is why I facepalmed to the roof. For those that do not know, hitting the value of 2^32 with integers will send you into the negatives. While this is not a permanent fix -- BigInteger is preferable for extreme edge cases -- here lies the problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int factorial(int n)\n    return n * ((n &gt; 1) ? factorial(n - 1) : n);\n}\n</code></pre>\n<p>and here is a simple solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static double factorial(double n)\n    return n * ((n &gt; 1) ? factorial(n - 1) : n);\n}\n</code></pre>\n<p><strong>Edit for a more detailed solution</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// exact decimal values\npublic static BigInteger factorial(BigInteger n) {\n    return (n.compareTo(BigDecimal.ONE) &lt;= 0)\n            ? BigInteger.ONE\n            : n.multiply(factorial(n.subtract(BigInteger.ONE)));\n}\n\n// finding the number of combinations given the algorithm\npublic static long total(int n, int k) {\n    if (n == 0 || k == 0 || n &lt; k)\n        return 0;\n    if (n == k)\n        return 1;\n    BigInteger factorial = factorial(BigInteger.valueOf(n))\n            .divide(factorial(BigInteger.valueOf(k))\n                    .multiply(factorial(BigInteger.valueOf(n - k))));\n    return factorial.longValue();\n}\n</code></pre>\n<p>This states that BigInteger <code>n</code> will be divided by the product of <code>factorial(n - 1)</code> and <code>factorial(n - k)</code> where <code>n</code> is the number of elements and <code>k</code> is the size of each list generated</p>\n"}],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689215558,"creation_date":1689211223,"question_id":76675320,"body_markdown":"While strengthening my understanding of the Set class, I was given the following prompt: &quot;A combination is a way of selecting a given number of elements from a set of given sizes. As you might already know, there are `n! / (k! * (n-k)!)` ways of choosing `k` elements from an `n`-element set&quot;\r\n```\r\nn - size of the set\r\nk - number of elements to be chosen from the set\r\n```\r\nThe output is a &quot;set of combinations, encoded as k-sized Sets of integers containing indices of chosen elements (zero-based).&quot;\r\n```\r\nint: n = 3, k = 2\r\n\r\nSet&lt;Set&lt;Integer&gt;&gt;: [[0,1], [1,2], [0,2]]\r\n```\r\nI came to the following approach:\r\n```java\r\npublic static Set&lt;Set&lt;Integer&gt;&gt; generateCombinations(int n, int k) {\r\n    Set&lt;Set&lt;Integer&gt;&gt; totalCombinations = new HashSet&lt;&gt;();\r\n\r\n    int total = (n == 0 || k == 0 || n &lt; k)\r\n            ? 0\r\n            : (n == k)\r\n                    ? 1\r\n                    : factorial(n) / (factorial(k) * factorial(n - k));\r\n\r\n    while (totalCombinations.size() &lt; total) {\r\n        Set&lt;Integer&gt; combination = new HashSet&lt;&gt;();\r\n\r\n        while (combination.size() &lt; k) {\r\n            combination.add((int) (Math.random() * n));\r\n        }\r\n        totalCombinations.add(combination);\r\n    }\r\n    return totalCombinations;\r\n}\r\n\r\npublic static int factorial(int n) {\r\n    return n * ((n &gt; 1) ? factorial(n - 1) : n);\r\n}\r\n```\r\nSome inputs that work: \r\n```\r\ngenerateCombinations(3, 2): [[0, 1], [0, 2], [1, 2]]\r\ngenerateCombinations(3, 1): [[0], [1], [2]]\r\ngenerateCombinations(1, 2): []\r\ngenerateCombinations(0, 6): []\r\n```\r\nSome inputs that don&#39;t work:\r\n```\r\ngenerateCombinations(14, 4): [[2, 9, 10, 12], [3, 5, 12, 13], [4, 10, 11, 12], [6, 8, 12, 13], [1, 2, 4, 8], [0, 5, 6, 7], [0, 3, 7, 10], [1, 2, 7, 12], [2, 5, 8, 9], [1, 2, 9, 13], [1, 4, 8, 13], [1, 7, 8, 13], [0, 7, 10, 12], [3, 4, 11, 12]]\r\ngenerateCombinations(15, 4): [[4, 9, 10, 13], [0, 1, 4, 5]]\r\ngenerateCombinations(15, 2): []\r\ngenerateCombinations(13, 2): [[0, 1], [0, 2], [0, 3], [0, 7], [3, 4], [3, 5], [1, 7], [2, 7], [3, 6], [1, 8], [1, 10], [0, 12], [1, 11], [1, 12], [2, 12], [4, 10], [6, 9], [7, 8], [3, 12], [4, 12], [7, 10], [8, 10], [7, 11], [9, 10]]\r\n```\r\nI have been debugging like a pest agency and can&#39;t figure out what is up with my code. Any pointers would be greatly appreciated!\r\n\r\n**Note: the ternary expression to find the total is in place of a try-catch block for division by zero**","title":"A method with return type Set&lt;Set&lt;Integer&gt;&gt; is providing inconsistent output based on input","body":"<p>While strengthening my understanding of the Set class, I was given the following prompt: &quot;A combination is a way of selecting a given number of elements from a set of given sizes. As you might already know, there are <code>n! / (k! * (n-k)!)</code> ways of choosing <code>k</code> elements from an <code>n</code>-element set&quot;</p>\n<pre><code>n - size of the set\nk - number of elements to be chosen from the set\n</code></pre>\n<p>The output is a &quot;set of combinations, encoded as k-sized Sets of integers containing indices of chosen elements (zero-based).&quot;</p>\n<pre><code>int: n = 3, k = 2\n\nSet&lt;Set&lt;Integer&gt;&gt;: [[0,1], [1,2], [0,2]]\n</code></pre>\n<p>I came to the following approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Set&lt;Set&lt;Integer&gt;&gt; generateCombinations(int n, int k) {\n    Set&lt;Set&lt;Integer&gt;&gt; totalCombinations = new HashSet&lt;&gt;();\n\n    int total = (n == 0 || k == 0 || n &lt; k)\n            ? 0\n            : (n == k)\n                    ? 1\n                    : factorial(n) / (factorial(k) * factorial(n - k));\n\n    while (totalCombinations.size() &lt; total) {\n        Set&lt;Integer&gt; combination = new HashSet&lt;&gt;();\n\n        while (combination.size() &lt; k) {\n            combination.add((int) (Math.random() * n));\n        }\n        totalCombinations.add(combination);\n    }\n    return totalCombinations;\n}\n\npublic static int factorial(int n) {\n    return n * ((n &gt; 1) ? factorial(n - 1) : n);\n}\n</code></pre>\n<p>Some inputs that work:</p>\n<pre><code>generateCombinations(3, 2): [[0, 1], [0, 2], [1, 2]]\ngenerateCombinations(3, 1): [[0], [1], [2]]\ngenerateCombinations(1, 2): []\ngenerateCombinations(0, 6): []\n</code></pre>\n<p>Some inputs that don't work:</p>\n<pre><code>generateCombinations(14, 4): [[2, 9, 10, 12], [3, 5, 12, 13], [4, 10, 11, 12], [6, 8, 12, 13], [1, 2, 4, 8], [0, 5, 6, 7], [0, 3, 7, 10], [1, 2, 7, 12], [2, 5, 8, 9], [1, 2, 9, 13], [1, 4, 8, 13], [1, 7, 8, 13], [0, 7, 10, 12], [3, 4, 11, 12]]\ngenerateCombinations(15, 4): [[4, 9, 10, 13], [0, 1, 4, 5]]\ngenerateCombinations(15, 2): []\ngenerateCombinations(13, 2): [[0, 1], [0, 2], [0, 3], [0, 7], [3, 4], [3, 5], [1, 7], [2, 7], [3, 6], [1, 8], [1, 10], [0, 12], [1, 11], [1, 12], [2, 12], [4, 10], [6, 9], [7, 8], [3, 12], [4, 12], [7, 10], [8, 10], [7, 11], [9, 10]]\n</code></pre>\n<p>I have been debugging like a pest agency and can't figure out what is up with my code. Any pointers would be greatly appreciated!</p>\n<p><strong>Note: the ternary expression to find the total is in place of a try-catch block for division by zero</strong></p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2489020,"reputation":820,"user_id":2166900,"display_name":"GoGoris"},"score":1,"creation_date":1557228863,"post_id":56021511,"comment_id":98687060,"body_markdown":"Hi, welcome to stackoverflow!\nMost of the time the java documentation contains an explanation when something is deprecated. I recommend you to read the official java docs from spring: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/xml/XmlBeanFactory.html","body":"Hi, welcome to stackoverflow! Most of the time the java documentation contains an explanation when something is deprecated. I recommend you to read the official java docs from spring: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/xml/XmlBeanFactory.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":15715142,"reputation":374,"user_id":11339530,"display_name":"Anil Kumar Moharana"},"score":0,"creation_date":1557229099,"post_id":56021511,"comment_id":98687195,"body_markdown":"ApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\nEmployee employee = ctx.getBean(Employee.class);","body":"ApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;); Employee employee = ctx.getBean(Employee.class);"},{"owner":{"account_id":15715142,"reputation":374,"user_id":11339530,"display_name":"Anil Kumar Moharana"},"score":0,"creation_date":1557229299,"post_id":56021511,"comment_id":98687300,"body_markdown":"Same Program You can go thru this link&gt;&gt;&gt; https://howtodoinjava.com/spring5/core/applicationcontext-xml-config-example/","body":"Same Program You can go thru this link&gt;&gt;&gt; <a href=\"https://howtodoinjava.com/spring5/core/applicationcontext-xml-config-example/\" rel=\"nofollow noreferrer\">howtodoinjava.com/spring5/core/&hellip;</a>"},{"owner":{"account_id":2489020,"reputation":820,"user_id":2166900,"display_name":"GoGoris"},"score":1,"creation_date":1557229350,"post_id":56021511,"comment_id":98687327,"body_markdown":"@Navin If I may give you a piece of advice, I would use up to date material when you are learning spring. It has changed a lot between now and when that tutorial was written. I recommend you to check out the official guides: https://spring.io/guides","body":"@Navin If I may give you a piece of advice, I would use up to date material when you are learning spring. It has changed a lot between now and when that tutorial was written. I recommend you to check out the official guides: <a href=\"https://spring.io/guides\" rel=\"nofollow noreferrer\">spring.io/guides</a>"}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557236611,"creation_date":1557229251,"answer_id":56021800,"question_id":56021511,"body_markdown":"Use this instead :\r\n\r\n    public class Test {  \r\n        public static void main(String[] args) {  \r\n           ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\r\n           Employee s = context.getBean(&quot;e&quot;, Employee.class);  \r\n           s.show();  \r\n    \r\n        }  \r\n    } ","title":"Spring XmlBeanFactory is deprecated","body":"<p>Use this instead :</p>\n\n<pre><code>public class Test {  \n    public static void main(String[] args) {  \n       ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n       Employee s = context.getBean(\"e\", Employee.class);  \n       s.show();  \n\n    }  \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":26025547,"reputation":1,"user_id":19732515,"display_name":"Prajapati saurabh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689213733,"creation_date":1689213733,"answer_id":76675451,"question_id":56021511,"body_markdown":"In Spring Framework, `XmlBeanFactory` was the implementations of the `BeanFactory` interface for creating and managing bean based on xml configuration. However starting from spring 3.* , `XmlBeanFactory` has been marked as deprecated.\r\n\r\nYou can use `ApplicationContext` interface, or its implementations, such as `ClassPathXmlApplicationContext` or `FileSystemXmlApplicationContext`.\r\n\r\n\r\nReference:\r\n\r\n 1. [ApplicationContext][1]\r\n 2. [ClassPathXmlApplicationContext][2]\r\n 3. [FileSystemXmlApplicationContext][3]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationContext.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/ClassPathXmlApplicationContext.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/FileSystemXmlApplicationContext.html","title":"Spring XmlBeanFactory is deprecated","body":"<p>In Spring Framework, <code>XmlBeanFactory</code> was the implementations of the <code>BeanFactory</code> interface for creating and managing bean based on xml configuration. However starting from spring 3.* , <code>XmlBeanFactory</code> has been marked as deprecated.</p>\n<p>You can use <code>ApplicationContext</code> interface, or its implementations, such as <code>ClassPathXmlApplicationContext</code> or <code>FileSystemXmlApplicationContext</code>.</p>\n<p>Reference:</p>\n<ol>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/ApplicationContext.html\" rel=\"nofollow noreferrer\">ApplicationContext</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/ClassPathXmlApplicationContext.html\" rel=\"nofollow noreferrer\">ClassPathXmlApplicationContext</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/FileSystemXmlApplicationContext.html\" rel=\"nofollow noreferrer\">FileSystemXmlApplicationContext</a></li>\n</ol>\n"}],"owner":{"account_id":15874897,"reputation":19,"user_id":11454418,"display_name":"PurpleFists"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":964,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1689213733,"creation_date":1557228190,"question_id":56021511,"body_markdown":"Currently I am following site : https://www.javatpoint.com/spring-tutorial-dependency-injection-by-constructor  to learn spring.\r\n\r\n\r\n\r\nI tried an example where we inject dependency by constructor using primitive and string based values.\r\n\r\nThe type org.springframework.beans.factory.xml.xmlbeanfactory&#39; is deprecated.\r\n\r\nI was unable to find suitable solution.\r\n\r\nThe code that i used was :-\r\n\r\n\r\n    public class Test {  \r\n        public static void main(String[] args) {  \r\n              \r\n            Resource r=new ClassPathResource(&quot;applicationContext.xml&quot;);  \r\n            BeanFactory factory=new XmlBeanFactory(r);  \r\n              \r\n            Employee s=(Employee)factory.getBean(&quot;e&quot;);  \r\n            s.show();  \r\n              \r\n        }  \r\n    }","title":"Spring XmlBeanFactory is deprecated","body":"<p>Currently I am following site : <a href=\"https://www.javatpoint.com/spring-tutorial-dependency-injection-by-constructor\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/spring-tutorial-dependency-injection-by-constructor</a>  to learn spring.</p>\n\n<p>I tried an example where we inject dependency by constructor using primitive and string based values.</p>\n\n<p>The type org.springframework.beans.factory.xml.xmlbeanfactory' is deprecated.</p>\n\n<p>I was unable to find suitable solution.</p>\n\n<p>The code that i used was :-</p>\n\n<pre><code>public class Test {  \n    public static void main(String[] args) {  \n\n        Resource r=new ClassPathResource(\"applicationContext.xml\");  \n        BeanFactory factory=new XmlBeanFactory(r);  \n\n        Employee s=(Employee)factory.getBean(\"e\");  \n        s.show();  \n\n    }  \n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1689229228,"post_id":76675421,"comment_id":135184248,"body_markdown":"IMHO the `columnDefinition` attribute should be removed. The `columnDefinition` attribute is only used to generate the DDL (https://docs.oracle.com/javaee/6/api/javax/persistence/Column.html#columnDefinition()) but you are using Liquibase to generate the view - you seem to never use Hibernate to generate the DDL.","body":"IMHO the <code>columnDefinition</code> attribute should be removed. The <code>columnDefinition</code> attribute is only used to generate the DDL (<a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/Column.html#columnDefinition()\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/6/api/javax/persistence/&hellip;</a>) but you are using Liquibase to generate the view - you seem to never use Hibernate to generate the DDL."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1689266556,"post_id":76675421,"comment_id":135192713,"body_markdown":"If you want to define a columnDefinition so that the DB can be generated for these entities out side of liquibase but need a different type per database, you will need to have different mappings for the different databases. This is done through the use of deployment specific persistence.xml and Orm.xml files. orm.xml overrides entity annotation mappings, so this gives you the opportunity to change the type from the default. For ROWID, you can&#39;t use JPA generation you&#39;d need a different orm.xml just for DDL generation that excludes this mapping so it isn&#39;t generated since it isn&#39;t a real column","body":"If you want to define a columnDefinition so that the DB can be generated for these entities out side of liquibase but need a different type per database, you will need to have different mappings for the different databases. This is done through the use of deployment specific persistence.xml and Orm.xml files. orm.xml overrides entity annotation mappings, so this gives you the opportunity to change the type from the default. For ROWID, you can&#39;t use JPA generation you&#39;d need a different orm.xml just for DDL generation that excludes this mapping so it isn&#39;t generated since it isn&#39;t a real column"}],"owner":{"account_id":29006274,"reputation":11,"user_id":22218726,"display_name":"MizuMate"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689213213,"creation_date":1689213213,"question_id":76675421,"body_markdown":"I have an SQL view that is generated by Liquibase and is mapped in Hibernate like this\r\n```\r\n@Entity\r\n@Immutable\r\n@Table(name = &quot;VIEW_ABC&quot;)\r\npublic class ViewABC {\r\n    ...\r\n\r\n    @Column(name = &quot;ATTR&quot;, columnDefinition = &quot;ROWID&quot;)\r\n    private String attr;\r\n\r\n    ...\r\n}\r\n```\r\nThe `attr` attribute is working fine with Oracle database but there is a need for migration to Postgres, which doesn&#39;t support `rowid` datatype. There is however semi-equivalent type `ctid`.\r\n\r\nWhile view generating is simple with two separate files:\r\n\r\nOracle: `SELECT rowid AS attr ...`\r\n\r\nPostgres: `SELECT ctid AS attr ...`\r\n\r\nI am unsure though how to deal with `columnDefinition` becease the application need to support both Oracle and Postgres\r\n\r\n\r\nAt this time only viable solution I can think of is to just store this as String and convert to required datatypes when used in queries.","title":"Can Hibernate support different datatypes on the same field?","body":"<p>I have an SQL view that is generated by Liquibase and is mapped in Hibernate like this</p>\n<pre><code>@Entity\n@Immutable\n@Table(name = &quot;VIEW_ABC&quot;)\npublic class ViewABC {\n    ...\n\n    @Column(name = &quot;ATTR&quot;, columnDefinition = &quot;ROWID&quot;)\n    private String attr;\n\n    ...\n}\n</code></pre>\n<p>The <code>attr</code> attribute is working fine with Oracle database but there is a need for migration to Postgres, which doesn't support <code>rowid</code> datatype. There is however semi-equivalent type <code>ctid</code>.</p>\n<p>While view generating is simple with two separate files:</p>\n<p>Oracle: <code>SELECT rowid AS attr ...</code></p>\n<p>Postgres: <code>SELECT ctid AS attr ...</code></p>\n<p>I am unsure though how to deal with <code>columnDefinition</code> becease the application need to support both Oracle and Postgres</p>\n<p>At this time only viable solution I can think of is to just store this as String and convert to required datatypes when used in queries.</p>\n"},{"tags":["java","maven","visual-studio-code"],"answers":[{"comments":[{"owner":{"account_id":13780981,"reputation":57,"user_id":9946116,"display_name":"Abhilash Patel"},"score":0,"creation_date":1689262268,"post_id":76675410,"comment_id":135191680,"body_markdown":"works like a charm! I tried many things but did not work out. Thank you so much.","body":"works like a charm! I tried many things but did not work out. Thank you so much."}],"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689213026,"creation_date":1689213026,"answer_id":76675410,"question_id":76673582,"body_markdown":"Looks like your VS Code Java is using its own embedded JDK 17, which does not contain source code.\r\n\r\n\r\nPlease set the setting `&quot;java.configuration.runtimes&quot;`:\r\n\r\n```\r\n&quot;java.configuration.runtimes&quot; : [\r\n    {\r\n        &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n        &quot;path&quot;: &quot;&lt;YOUR_JDK_LOCATION&gt;&quot;\r\n    },\r\n]\r\n```\r\n\r\nIt should work after a window reload.","title":"While trying to open native class in java open jdk 17, decompiled class without documentation is being opened","body":"<p>Looks like your VS Code Java is using its own embedded JDK 17, which does not contain source code.</p>\n<p>Please set the setting <code>&quot;java.configuration.runtimes&quot;</code>:</p>\n<pre><code>&quot;java.configuration.runtimes&quot; : [\n    {\n        &quot;name&quot;: &quot;JavaSE-17&quot;,\n        &quot;path&quot;: &quot;&lt;YOUR_JDK_LOCATION&gt;&quot;\n    },\n]\n</code></pre>\n<p>It should work after a window reload.</p>\n"}],"owner":{"account_id":13780981,"reputation":57,"user_id":9946116,"display_name":"Abhilash Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76675410,"answer_count":1,"score":0,"last_activity_date":1689213026,"creation_date":1689187338,"question_id":76673582,"body_markdown":"I am using openjdk 17, vscode as IDE and maven springboot project.\\\r\nWhile running as normal project works fine but running as maven project, it does not have source code documentation available for native java classes. Means, when I open a jdk file like List.class or ArrayDeque.class in the vscode IDE, the context inside has methods etc. but the documentation corresponding to the method is missing.\r\n\r\nWhile opening List.class below text is opened with beginning of file looking like this:\r\n\r\n    // Source code is decompiled from a .class file using FernFlower decompiler.\r\n    package java.util;\r\n    \r\n    import java.util.function.UnaryOperator;\r\n    \r\n    public interface List&lt;E&gt; extends Collection&lt;E&gt; {\r\n       int size();\r\n\r\nI want it to look like this i.e. context of src.zip included:\r\n\r\n    /*\r\n     * Copyright (c) 1997, 2020, Oracle and/or its affiliates. All rights reserved.\r\n     * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\r\n     *\r\n     * This code is free software; you can redistribute it and/or modify it\r\n     * under the terms of the GNU General Public License version 2 only, as\r\n     * published by the Free Software Foundation.  Oracle designates this\r\n     * particular file as subject to the &quot;Classpath&quot; exception as provided\r\n     * by Oracle in the LICENSE file that accompanied this code.\r\n     *\r\n     * This code is distributed in the hope that it will be useful, but WITHOUT\r\n     * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\r\n     * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\r\n     * version 2 for more details (a copy is included in the LICENSE file that\r\n     * accompanied this code).\r\n    * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\r\n     * or visit www.oracle.com if you need additional information or have any\r\n     * questions.\r\n     */\r\n    \r\n    package java.util;\r\n    \r\n    import java.util.function.UnaryOperator;\r\n\r\nHow can I achieve this?\\\r\nI am using VSCode but solution for other IDE is also welcome. ","title":"While trying to open native class in java open jdk 17, decompiled class without documentation is being opened","body":"<p>I am using openjdk 17, vscode as IDE and maven springboot project.<br />\nWhile running as normal project works fine but running as maven project, it does not have source code documentation available for native java classes. Means, when I open a jdk file like List.class or ArrayDeque.class in the vscode IDE, the context inside has methods etc. but the documentation corresponding to the method is missing.</p>\n<p>While opening List.class below text is opened with beginning of file looking like this:</p>\n<pre><code>// Source code is decompiled from a .class file using FernFlower decompiler.\npackage java.util;\n\nimport java.util.function.UnaryOperator;\n\npublic interface List&lt;E&gt; extends Collection&lt;E&gt; {\n   int size();\n</code></pre>\n<p>I want it to look like this i.e. context of src.zip included:</p>\n<pre><code>/*\n * Copyright (c) 1997, 2020, Oracle and/or its affiliates. All rights reserved.\n * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n *\n * This code is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License version 2 only, as\n * published by the Free Software Foundation.  Oracle designates this\n * particular file as subject to the &quot;Classpath&quot; exception as provided\n * by Oracle in the LICENSE file that accompanied this code.\n *\n * This code is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n * version 2 for more details (a copy is included in the LICENSE file that\n * accompanied this code).\n* Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n * or visit www.oracle.com if you need additional information or have any\n * questions.\n */\n\npackage java.util;\n\nimport java.util.function.UnaryOperator;\n</code></pre>\n<p>How can I achieve this?<br />\nI am using VSCode but solution for other IDE is also welcome.</p>\n"},{"tags":["java","android-studio","webview"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689212695,"post_id":76675372,"comment_id":135182604,"body_markdown":"What&#39;s the issue with your current code? And what is clicking on the img supposed to do?","body":"What&#39;s the issue with your current code? And what is clicking on the img supposed to do?"},{"owner":{"account_id":29006238,"reputation":1,"user_id":22218696,"display_name":"application dev"},"score":0,"creation_date":1689247021,"post_id":76675372,"comment_id":135187846,"body_markdown":"My code is not working, I don&#39;t know why\nIn the normal case, when pressed, it moves to another page","body":"My code is not working, I don&#39;t know why In the normal case, when pressed, it moves to another page"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689270920,"post_id":76675372,"comment_id":135193486,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":29006238,"reputation":1,"user_id":22218696,"display_name":"application dev"},"score":0,"creation_date":1689593962,"post_id":76675372,"comment_id":135230742,"body_markdown":"Sorry bro for the delay\nI want to create an android app that works on https://shop2game.com\nHe enters the user number, retrieves information, and charges gems in the Free Fire game","body":"Sorry bro for the delay I want to create an android app that works on <a href=\"https://shop2game.com\" rel=\"nofollow noreferrer\">shop2game.com</a> He enters the user number, retrieves information, and charges gems in the Free Fire game"}],"owner":{"account_id":29006238,"reputation":1,"user_id":22218696,"display_name":"application dev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689212157,"creation_date":1689212157,"question_id":76675372,"body_markdown":"```\r\n&lt;div&gt;&lt;img class=&quot;_2snGchWsjFpMyNZLH-C5ri&quot; src=&quot;https:cdn-gop.garenanow.com/gop/app/0000/100/067/icon.png&quot; alt=&quot;Recharger Free Fire&quot;&gt;&lt;/div&gt;\r\n```\r\n\r\nhow to click class class=&quot;**_2snGchWsjFpMyNZLH-C5ri**&quot;\r\n\r\n```\r\nString className=&quot;_2snGchWsjFpMyNZLH-C5ri&quot;;\r\nString javascriptCode = &quot;document.getElementsByClassName(&#39;&quot; + className + &quot;&#39;)[0].click();&quot;;\r\n\r\nwebView.evaluateJavascript(javascriptCode, new ValueCallback&lt;String&gt;() {\r\n      @Override\r\n      public void onReceiveValue(String value) {\r\n    \r\n      }\r\n});\r\n```\r\n","title":"how to click Elements javascript code in Webview android studio","body":"<pre><code>&lt;div&gt;&lt;img class=&quot;_2snGchWsjFpMyNZLH-C5ri&quot; src=&quot;https:cdn-gop.garenanow.com/gop/app/0000/100/067/icon.png&quot; alt=&quot;Recharger Free Fire&quot;&gt;&lt;/div&gt;\n</code></pre>\n<p>how to click class class=&quot;<strong>_2snGchWsjFpMyNZLH-C5ri</strong>&quot;</p>\n<pre><code>String className=&quot;_2snGchWsjFpMyNZLH-C5ri&quot;;\nString javascriptCode = &quot;document.getElementsByClassName('&quot; + className + &quot;')[0].click();&quot;;\n\nwebView.evaluateJavascript(javascriptCode, new ValueCallback&lt;String&gt;() {\n      @Override\n      public void onReceiveValue(String value) {\n    \n      }\n});\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"score":0,"creation_date":1689133336,"post_id":76666660,"comment_id":135168389,"body_markdown":"try http.authorizeRequests()\n                .antMatchers(&quot;/api/**&quot;).permitAll()\n                .anyRequest().authenticated()","body":"try http.authorizeRequests()                 .antMatchers(&quot;/api/**&quot;).permitAll()                 .anyRequest().authenticated()"},{"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"score":0,"creation_date":1689133416,"post_id":76666660,"comment_id":135168391,"body_markdown":"Also click on `Authorization` button on postman and provide a image of what you are sending as credentials","body":"Also click on <code>Authorization</code> button on postman and provide a image of what you are sending as credentials"},{"owner":{"account_id":23254441,"reputation":49,"user_id":17341714,"display_name":"user17341714"},"score":0,"creation_date":1689133900,"post_id":76666660,"comment_id":135168443,"body_markdown":"im guessing what you are suggesting is a deprecated method and for the authorization part i chose basic auth and gave username and password as what i mentioned in the application.properties file","body":"im guessing what you are suggesting is a deprecated method and for the authorization part i chose basic auth and gave username and password as what i mentioned in the application.properties file"},{"owner":{"account_id":23254441,"reputation":49,"user_id":17341714,"display_name":"user17341714"},"score":0,"creation_date":1689134039,"post_id":76666660,"comment_id":135168457,"body_markdown":"and i have added the authorization ss in the post for your reference, thanks for the advice","body":"and i have added the authorization ss in the post for your reference, thanks for the advice"},{"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"score":0,"creation_date":1689135832,"post_id":76666660,"comment_id":135168624,"body_markdown":"This api has permitAll permission right? can u try `no auth` in postman?","body":"This api has permitAll permission right? can u try <code>no auth</code> in postman?"},{"owner":{"account_id":23254441,"reputation":49,"user_id":17341714,"display_name":"user17341714"},"score":0,"creation_date":1689136089,"post_id":76666660,"comment_id":135168662,"body_markdown":"yes it does have permitAll and i tried with no auth,still no luck :(","body":"yes it does have permitAll and i tried with no auth,still no luck :("},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1689160211,"post_id":76666660,"comment_id":135173234,"body_markdown":"May i ask the reason for why you havnt looked up how to enable spring security debug logs and read the actual reason for the 401, before you decided to ask here?","body":"May i ask the reason for why you havnt looked up how to enable spring security debug logs and read the actual reason for the 401, before you decided to ask here?"},{"owner":{"account_id":23254441,"reputation":49,"user_id":17341714,"display_name":"user17341714"},"score":0,"creation_date":1689167350,"post_id":76666660,"comment_id":135174879,"body_markdown":"wdym? @Toerktumlare","body":"wdym? @Toerktumlare"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1689172164,"post_id":76666660,"comment_id":135176215,"body_markdown":"that if you just enable spring security debug logs you can just read the reason as to why you are getting a 401. Why havnt you done that? instead of everyone here just trying to guess what is wrong with your code. And if you dont understand what it says in the logs you edit your question and include your logs in your question and ask about that instead?","body":"that if you just enable spring security debug logs you can just read the reason as to why you are getting a 401. Why havnt you done that? instead of everyone here just trying to guess what is wrong with your code. And if you dont understand what it says in the logs you edit your question and include your logs in your question and ask about that instead?"},{"owner":{"account_id":23254441,"reputation":49,"user_id":17341714,"display_name":"user17341714"},"score":0,"creation_date":1689211487,"post_id":76666660,"comment_id":135182493,"body_markdown":"lmao my bad i added the debug log,its saying a csrf invalid token but idk what to do about it","body":"lmao my bad i added the debug log,its saying a csrf invalid token but idk what to do about it"}],"owner":{"account_id":23254441,"reputation":49,"user_id":17341714,"display_name":"user17341714"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689211511,"creation_date":1689125853,"question_id":76666660,"body_markdown":"I am developing a api hit to register users to a database. But when I call the api, it&#39;s showing a 401 unauthorized error in postman. As of right now, i&#39;m just using basic auth and will later implement JWT authorization. Can someone help me?\r\n\r\nController Class:\r\n```\r\nimport com.insta.backend.exceptions.UserException;\r\nimport com.insta.backend.model.User;\r\nimport com.insta.backend.service.UserService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;api&quot;)\r\npublic class AuthController {\r\n    \r\n    @Autowired\r\n    private final UserService userService;\r\n\r\n    public AuthController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @PostMapping(&quot;/signup&quot;)\r\n    public ResponseEntity&lt;User&gt; registerUserHandler(@RequestBody User user) throws UserException {\r\n        User createdUser = userService.registerUser(user);\r\n        return new ResponseEntity&lt;User&gt;(createdUser, HttpStatus.OK);\r\n    }\r\n}\r\n\r\n```\r\n\r\nUserService class:\r\n\r\n```\r\npublic interface UserService{\r\n    \r\n    public User registerUser(User user) throws UserException;\r\n    public User findUserById(Integer userId) throws UserException;\r\n    public User findUserByProfile(String token) throws UserException;\r\n    public User findUserByUserName(String userName) throws UserException;\r\n    public String followUser(Integer reqUserId,Integer followUserId) throws UserException;\r\n    public String unFollowUser(Integer reqUserId,Integer followUserId) throws UserException;\r\n    \r\n    public List&lt;User&gt; findUsersByIds(List&lt;Integer&gt; userIds) throws UserException;\r\n    \r\n    public List&lt;User&gt; searchUser(String query) throws UserException; //api for searching users\r\n    public User updateUserDetails(User updatedUser,User existingUser) throws UserException; //api for updating users\r\n    \r\n    \r\n    \r\n\r\n}\r\n\r\n```\r\n\r\nUserServiceImpl class:\r\n```\r\nimport com.insta.backend.dto.UserDto;\r\nimport com.insta.backend.exceptions.UserException;\r\nimport com.insta.backend.model.User;\r\nimport com.insta.backend.repository.UserRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.parameters.P;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport javax.swing.text.html.Option;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class UserServiceImplementation implements UserService {\r\n    \r\n    @Autowired\r\n    private UserRepository userRepository;\r\n    \r\n    \r\n    @Override\r\n    public User registerUser(User user) throws UserException {\r\n        Optional&lt;User&gt; doesEmailExist = userRepository.findByEmail(user.getEmail());\r\n        if(doesEmailExist.isPresent()){\r\n            throw new UserException(&quot;Email is already in use!!&quot;);\r\n        }\r\n        Optional&lt;User&gt; doesUserNameExist = userRepository.findByUsername(user.getUserName());\r\n\r\n        if(doesEmailExist.isPresent()){\r\n            throw new UserException(&quot;Username is already taken!!&quot;);\r\n        }\r\n        if(user.getUserName()==null || user.getEmail()==null||user.getPassword()==null|| user.getRealName()==null){\r\n            throw new UserException(&quot;All fields are mandatory&quot;);\r\n        }\r\n        User newUser = new User(); \r\n        newUser.setEmail(user.getEmail());\r\n        newUser.setPassword(user.getPassword());\r\n        newUser.setUserName(user.getUserName());\r\n        newUser.setRealName(user.getRealName());\r\n        return userRepository.save(newUser);\r\n    }\r\n\r\n    @Override\r\n    public User findUserById(Integer userId) throws UserException {\r\n        Optional&lt;User&gt; optUser= userRepository.findById(userId);\r\n        if(optUser.isPresent()){\r\n            return optUser.get();\r\n        }\r\n        throw new UserException(&quot;User does not exist with the following id:&quot;+userId);\r\n    }\r\n\r\n    @Override\r\n    public User findUserByProfile(String token) throws UserException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public User findUserByUserName(String userName) throws UserException {\r\n        Optional&lt;User&gt; user=userRepository.findByUsername(userName);\r\n        if(user.isPresent()){\r\n            return user.get();\r\n        }\r\n        throw new UserException(&quot;User with the inputted username doesn&#39;t exist&quot;+userName);\r\n    }\r\n\r\n    @Override\r\n    public String followUser(Integer reqUserId, Integer followUserId) throws UserException {\r\n       \r\n       User reqUser = findUserById(reqUserId);\r\n       User followUser = findUserById(followUserId);\r\n\r\n        UserDto follower = new UserDto();\r\n        follower.setEmail(reqUser.getEmail());\r\n        follower.setId(reqUser.getId());\r\n        follower.setName(reqUser.getRealName());\r\n        follower.setUserImage(reqUser.getImage());\r\n        follower.setUsername(reqUser.getUserName());\r\n        \r\n        UserDto following = new UserDto();\r\n        following.setEmail(follower.getEmail());       \r\n        following.setUsername(follower.getUsername());       \r\n        following.setId(follower.getId());       \r\n        following.setName(follower.getName());       \r\n        following.setUserImage(follower.getUserImage());       \r\n        \r\n        reqUser.getFollowing().add(following);\r\n        followUser.getFollower().add(follower);\r\n        \r\n        userRepository.save(followUser);\r\n        userRepository.save(reqUser);\r\n        \r\n        \r\n        return &quot;You are following :&quot;+followUser.getUserName();\r\n    }\r\n\r\n    @Override\r\n    public String unFollowUser(Integer reqUserId, Integer followUserId) throws UserException {\r\n\r\n        User reqUser = findUserById(reqUserId);\r\n        User followUser = findUserById(followUserId);\r\n\r\n        UserDto follower = new UserDto();\r\n        follower.setEmail(reqUser.getEmail());\r\n        follower.setId(reqUser.getId());\r\n        follower.setName(reqUser.getRealName());\r\n        follower.setUserImage(reqUser.getImage());\r\n        follower.setUsername(reqUser.getUserName());\r\n\r\n        UserDto following = new UserDto();\r\n        following.setEmail(follower.getEmail());\r\n        following.setUsername(follower.getUsername());\r\n        following.setId(follower.getId());\r\n        following.setName(follower.getName());\r\n        following.setUserImage(follower.getUserImage());\r\n\r\n        reqUser.getFollowing().remove(following);\r\n        followUser.getFollower().remove(follower);\r\n\r\n        userRepository.save(followUser);\r\n        userRepository.save(reqUser);\r\n\r\n\r\n        return &quot;You just unfollowed :&quot;+followUser.getUserName();\r\n        \r\n        \r\n        \r\n    }\r\n\r\n    @Override\r\n    public List&lt;User&gt; findUsersByIds(List&lt;Integer&gt; userIds) throws UserException {\r\n        List&lt;User&gt; users = userRepository.findAllUsersByUserIds(userIds);\r\n        return users;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;User&gt; searchUser(String query) throws UserException {\r\n        List&lt;User&gt; users = userRepository.findByQuery(query);\r\n        if(users.size()==0){\r\n            throw new UserException(&quot;No users retrieved!&quot;);\r\n        }\r\n        return users;\r\n    }\r\n\r\n    @Override\r\n    public User updateUserDetails(User updatedUser, User existingUser) throws UserException {\r\n        if(updatedUser.getEmail()!=null){\r\n            existingUser.setEmail(updatedUser.getEmail());\r\n        }\r\n\r\n        if(updatedUser.getBio()!=null){\r\n            existingUser.setBio(updatedUser.getBio());\r\n        }\r\n        if(updatedUser.getRealName()!=null){\r\n            existingUser.setRealName(updatedUser.getRealName());\r\n        }\r\n        if(updatedUser.getUserName()!=null){\r\n            existingUser.setUserName(updatedUser.getUserName());\r\n        }\r\n        if(updatedUser.getMobile()!=null){\r\n            existingUser.setMobile(updatedUser.getMobile());\r\n        }\r\n        if(updatedUser.getGender()!=null){\r\n            existingUser.setGender(updatedUser.getBio());\r\n        }\r\n        \r\n        if(updatedUser.getWebsite()!=null){\r\n            existingUser.setWebsite(updatedUser.getWebsite());\r\n        }\r\n        \r\n        if(updatedUser.getImage()!=null){\r\n            existingUser.setImage(updatedUser.getImage());\r\n        }\r\n        \r\n        if(updatedUser.getId().equals(existingUser.getId())){\r\n            return userRepository.save(existingUser);\r\n        }\r\n        \r\n        \r\n        \r\n         throw new UserException(&quot;You can&#39;t update this user&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nSecurityConfig class:\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.Customizer;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.access.intercept.AuthorizationFilter;\r\nimport org.springframework.security.web.authentication.www.BasicAuthenticationFilter;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\nimport static org.springframework.security.config.Customizer.withDefaults;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class AppConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityConfiguration(HttpSecurity http) throws Exception{\r\n        return http\r\n                // ...\r\n                .csrf((csrf)-&gt;csrf.disable())\r\n                .sessionManagement((session) -&gt; session\r\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                )\r\n                .authorizeHttpRequests((auth)-&gt;auth\r\n                        .requestMatchers(&quot;/api/**&quot;).permitAll()\r\n                        .requestMatchers(&quot;/signup&quot;).permitAll()\r\n                        .anyRequest().authenticated())\r\n//                .addFilterAfter(new JwtTokenGenerator(), BasicAuthenticationFilter.class) //generates json token after validation of whatever request api is coming\r\n//                .addFilterBefore(new JwtTokenValidation(),BasicAuthenticationFilter.class) // validates the request api before sending it into the application\r\n              \r\n                .formLogin(withDefaults())\r\n                .build();\r\n\r\n\r\n\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-devtools --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-test --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.24&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\napplication.properties:\r\n```\r\nserver.port=8090\r\n\r\nspring.datasource.driverClassName = com.mysql.jdbc.Driver\r\nspring.datasource.username = root\r\nspring.datasource.password = root\r\nspring.datasource.url=jdbc:mysql://localhost:3306/insta_clone\r\n\r\nspirng.jpa.generate-ddl=true \r\nspring.jpa.hibernate.ddl-auto=create\r\nspring.jpa.show-sql=true\r\n\r\nspring.security.user.name=******\r\nspring.security.user.password=********\r\n\r\nlogging.level.guru.sfg.brewery=debug\r\nlogging.level.org.springframework.security=debug\r\n\r\n```\r\n\r\nerror:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nauthorization in postman:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n** Note: Even before and  after disabling for test purposes, I&#39;m still getting an invalid CSRF token error in the output terminal when I debug the application **\r\n\r\nDebug Log:\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9fc17.png\r\n  [2]: https://i.stack.imgur.com/HKoTG.png\r\n  [3]: https://i.stack.imgur.com/gQYPr.png","title":"Postman 401 getting unauthorized (SpringBoot)","body":"<p>I am developing a api hit to register users to a database. But when I call the api, it's showing a 401 unauthorized error in postman. As of right now, i'm just using basic auth and will later implement JWT authorization. Can someone help me?</p>\n<p>Controller Class:</p>\n<pre><code>import com.insta.backend.exceptions.UserException;\nimport com.insta.backend.model.User;\nimport com.insta.backend.service.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;api&quot;)\npublic class AuthController {\n    \n    @Autowired\n    private final UserService userService;\n\n    public AuthController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @PostMapping(&quot;/signup&quot;)\n    public ResponseEntity&lt;User&gt; registerUserHandler(@RequestBody User user) throws UserException {\n        User createdUser = userService.registerUser(user);\n        return new ResponseEntity&lt;User&gt;(createdUser, HttpStatus.OK);\n    }\n}\n\n</code></pre>\n<p>UserService class:</p>\n<pre><code>public interface UserService{\n    \n    public User registerUser(User user) throws UserException;\n    public User findUserById(Integer userId) throws UserException;\n    public User findUserByProfile(String token) throws UserException;\n    public User findUserByUserName(String userName) throws UserException;\n    public String followUser(Integer reqUserId,Integer followUserId) throws UserException;\n    public String unFollowUser(Integer reqUserId,Integer followUserId) throws UserException;\n    \n    public List&lt;User&gt; findUsersByIds(List&lt;Integer&gt; userIds) throws UserException;\n    \n    public List&lt;User&gt; searchUser(String query) throws UserException; //api for searching users\n    public User updateUserDetails(User updatedUser,User existingUser) throws UserException; //api for updating users\n    \n    \n    \n\n}\n\n</code></pre>\n<p>UserServiceImpl class:</p>\n<pre><code>import com.insta.backend.dto.UserDto;\nimport com.insta.backend.exceptions.UserException;\nimport com.insta.backend.model.User;\nimport com.insta.backend.repository.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.parameters.P;\nimport org.springframework.stereotype.Service;\n\nimport javax.swing.text.html.Option;\nimport java.util.List;\nimport java.util.Optional;\n\n@Service\npublic class UserServiceImplementation implements UserService {\n    \n    @Autowired\n    private UserRepository userRepository;\n    \n    \n    @Override\n    public User registerUser(User user) throws UserException {\n        Optional&lt;User&gt; doesEmailExist = userRepository.findByEmail(user.getEmail());\n        if(doesEmailExist.isPresent()){\n            throw new UserException(&quot;Email is already in use!!&quot;);\n        }\n        Optional&lt;User&gt; doesUserNameExist = userRepository.findByUsername(user.getUserName());\n\n        if(doesEmailExist.isPresent()){\n            throw new UserException(&quot;Username is already taken!!&quot;);\n        }\n        if(user.getUserName()==null || user.getEmail()==null||user.getPassword()==null|| user.getRealName()==null){\n            throw new UserException(&quot;All fields are mandatory&quot;);\n        }\n        User newUser = new User(); \n        newUser.setEmail(user.getEmail());\n        newUser.setPassword(user.getPassword());\n        newUser.setUserName(user.getUserName());\n        newUser.setRealName(user.getRealName());\n        return userRepository.save(newUser);\n    }\n\n    @Override\n    public User findUserById(Integer userId) throws UserException {\n        Optional&lt;User&gt; optUser= userRepository.findById(userId);\n        if(optUser.isPresent()){\n            return optUser.get();\n        }\n        throw new UserException(&quot;User does not exist with the following id:&quot;+userId);\n    }\n\n    @Override\n    public User findUserByProfile(String token) throws UserException {\n        return null;\n    }\n\n    @Override\n    public User findUserByUserName(String userName) throws UserException {\n        Optional&lt;User&gt; user=userRepository.findByUsername(userName);\n        if(user.isPresent()){\n            return user.get();\n        }\n        throw new UserException(&quot;User with the inputted username doesn't exist&quot;+userName);\n    }\n\n    @Override\n    public String followUser(Integer reqUserId, Integer followUserId) throws UserException {\n       \n       User reqUser = findUserById(reqUserId);\n       User followUser = findUserById(followUserId);\n\n        UserDto follower = new UserDto();\n        follower.setEmail(reqUser.getEmail());\n        follower.setId(reqUser.getId());\n        follower.setName(reqUser.getRealName());\n        follower.setUserImage(reqUser.getImage());\n        follower.setUsername(reqUser.getUserName());\n        \n        UserDto following = new UserDto();\n        following.setEmail(follower.getEmail());       \n        following.setUsername(follower.getUsername());       \n        following.setId(follower.getId());       \n        following.setName(follower.getName());       \n        following.setUserImage(follower.getUserImage());       \n        \n        reqUser.getFollowing().add(following);\n        followUser.getFollower().add(follower);\n        \n        userRepository.save(followUser);\n        userRepository.save(reqUser);\n        \n        \n        return &quot;You are following :&quot;+followUser.getUserName();\n    }\n\n    @Override\n    public String unFollowUser(Integer reqUserId, Integer followUserId) throws UserException {\n\n        User reqUser = findUserById(reqUserId);\n        User followUser = findUserById(followUserId);\n\n        UserDto follower = new UserDto();\n        follower.setEmail(reqUser.getEmail());\n        follower.setId(reqUser.getId());\n        follower.setName(reqUser.getRealName());\n        follower.setUserImage(reqUser.getImage());\n        follower.setUsername(reqUser.getUserName());\n\n        UserDto following = new UserDto();\n        following.setEmail(follower.getEmail());\n        following.setUsername(follower.getUsername());\n        following.setId(follower.getId());\n        following.setName(follower.getName());\n        following.setUserImage(follower.getUserImage());\n\n        reqUser.getFollowing().remove(following);\n        followUser.getFollower().remove(follower);\n\n        userRepository.save(followUser);\n        userRepository.save(reqUser);\n\n\n        return &quot;You just unfollowed :&quot;+followUser.getUserName();\n        \n        \n        \n    }\n\n    @Override\n    public List&lt;User&gt; findUsersByIds(List&lt;Integer&gt; userIds) throws UserException {\n        List&lt;User&gt; users = userRepository.findAllUsersByUserIds(userIds);\n        return users;\n    }\n\n    @Override\n    public List&lt;User&gt; searchUser(String query) throws UserException {\n        List&lt;User&gt; users = userRepository.findByQuery(query);\n        if(users.size()==0){\n            throw new UserException(&quot;No users retrieved!&quot;);\n        }\n        return users;\n    }\n\n    @Override\n    public User updateUserDetails(User updatedUser, User existingUser) throws UserException {\n        if(updatedUser.getEmail()!=null){\n            existingUser.setEmail(updatedUser.getEmail());\n        }\n\n        if(updatedUser.getBio()!=null){\n            existingUser.setBio(updatedUser.getBio());\n        }\n        if(updatedUser.getRealName()!=null){\n            existingUser.setRealName(updatedUser.getRealName());\n        }\n        if(updatedUser.getUserName()!=null){\n            existingUser.setUserName(updatedUser.getUserName());\n        }\n        if(updatedUser.getMobile()!=null){\n            existingUser.setMobile(updatedUser.getMobile());\n        }\n        if(updatedUser.getGender()!=null){\n            existingUser.setGender(updatedUser.getBio());\n        }\n        \n        if(updatedUser.getWebsite()!=null){\n            existingUser.setWebsite(updatedUser.getWebsite());\n        }\n        \n        if(updatedUser.getImage()!=null){\n            existingUser.setImage(updatedUser.getImage());\n        }\n        \n        if(updatedUser.getId().equals(existingUser.getId())){\n            return userRepository.save(existingUser);\n        }\n        \n        \n        \n         throw new UserException(&quot;You can't update this user&quot;);\n    }\n}\n\n</code></pre>\n<p>SecurityConfig class:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.access.intercept.AuthorizationFilter;\nimport org.springframework.security.web.authentication.www.BasicAuthenticationFilter;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport static org.springframework.security.config.Customizer.withDefaults;\n\n@Configuration\n@EnableWebSecurity\npublic class AppConfig {\n\n    @Bean\n    public SecurityFilterChain securityConfiguration(HttpSecurity http) throws Exception{\n        return http\n                // ...\n                .csrf((csrf)-&gt;csrf.disable())\n                .sessionManagement((session) -&gt; session\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                )\n                .authorizeHttpRequests((auth)-&gt;auth\n                        .requestMatchers(&quot;/api/**&quot;).permitAll()\n                        .requestMatchers(&quot;/signup&quot;).permitAll()\n                        .anyRequest().authenticated())\n//                .addFilterAfter(new JwtTokenGenerator(), BasicAuthenticationFilter.class) //generates json token after validation of whatever request api is coming\n//                .addFilterBefore(new JwtTokenValidation(),BasicAuthenticationFilter.class) // validates the request api before sending it into the application\n              \n                .formLogin(withDefaults())\n                .build();\n\n\n\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n}\n\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-devtools --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;6.1.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.24&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties:</p>\n<pre><code>server.port=8090\n\nspring.datasource.driverClassName = com.mysql.jdbc.Driver\nspring.datasource.username = root\nspring.datasource.password = root\nspring.datasource.url=jdbc:mysql://localhost:3306/insta_clone\n\nspirng.jpa.generate-ddl=true \nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.show-sql=true\n\nspring.security.user.name=******\nspring.security.user.password=********\n\nlogging.level.guru.sfg.brewery=debug\nlogging.level.org.springframework.security=debug\n\n</code></pre>\n<p>error:\n<a href=\"https://i.stack.imgur.com/9fc17.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9fc17.png\" alt=\"enter image description here\" /></a></p>\n<p>authorization in postman:\n<a href=\"https://i.stack.imgur.com/HKoTG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HKoTG.png\" alt=\"enter image description here\" /></a></p>\n<p>** Note: Even before and  after disabling for test purposes, I'm still getting an invalid CSRF token error in the output terminal when I debug the application **</p>\n<p>Debug Log:\n<a href=\"https://i.stack.imgur.com/gQYPr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gQYPr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","entity-framework-6"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684481455,"post_id":76286759,"comment_id":134526564,"body_markdown":"generate method is now part of IdentifierGenerator interface and can be used together wit @IdGeneratorType annotation. More details here: https://docs.jboss.org/hibernate/orm/6.0/userguide/html_single/Hibernate_User_Guide.html#identifiers-generators-IdGeneratorType","body":"generate method is now part of IdentifierGenerator interface and can be used together wit @IdGeneratorType annotation. More details here: <a href=\"https://docs.jboss.org/hibernate/orm/6.0/userguide/html_single/Hibernate_User_Guide.html#identifiers-generators-IdGeneratorType\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/6.0/userguide/html_single/&hellip;</a>"},{"owner":{"account_id":6741843,"reputation":821,"user_id":5194837,"accept_rate":71,"display_name":"Kunal Batra"},"score":0,"creation_date":1684483922,"post_id":76286759,"comment_id":134527017,"body_markdown":"That is also not working, already tested","body":"That is also not working, already tested"}],"answers":[{"tags":[],"owner":{"account_id":15474518,"reputation":7,"user_id":11163519,"display_name":"JIbran Shaikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687672436,"creation_date":1687432140,"answer_id":76531280,"question_id":76286759,"body_markdown":"I face the same issue as i m using Hibernate 6.2.5 Final, on exploring I found `IdentifierGenerator`interface which have `generate` method by implementing `IdentifierGenerator`to your class `CustomIdentityGenerator` you can achive what you need,\r\n\r\n```\r\npublic class CustomIdentityGenerator implements IdentifierGenerator {\r\n\r\n    @Override\r\n    public Serializable generate(SharedSessionContractImplementor session, Object object) {\r\n    \r\n    \\\\ your logic\r\n    \r\n    }\r\n\r\n}\r\n````","title":"how to generate auto increment id in hibernate only if identity column is null in hibernate 6.X?","body":"<p>I face the same issue as i m using Hibernate 6.2.5 Final, on exploring I found <code>IdentifierGenerator</code>interface which have <code>generate</code> method by implementing <code>IdentifierGenerator</code>to your class <code>CustomIdentityGenerator</code> you can achive what you need,</p>\n<pre><code>public class CustomIdentityGenerator implements IdentifierGenerator {\n\n    @Override\n    public Serializable generate(SharedSessionContractImplementor session, Object object) {\n    \n    \\\\ your logic\n    \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25632647,"reputation":11,"user_id":19402773,"display_name":"Glisa060"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688214554,"creation_date":1688214554,"answer_id":76594714,"question_id":76286759,"body_markdown":"Here is my complete class with logic in case someone needs it.\r\n\r\n    import java.io.Serializable;\r\n    import java.util.HashSet;\r\n    import java.util.Random;\r\n    import java.util.Set;\r\n    import org.hibernate.HibernateException;\r\n    import org.hibernate.engine.spi.SharedSessionContractImplementor;\r\n    import org.hibernate.id.IdentifierGenerator;\r\n    import org.hibernate.persister.entity.EntityPersister;\r\n    \r\n    \r\n    public class NativeIfNotAssignedIdentityGenerator implements IdentifierGenerator {\r\n    \r\n      private static final long serialVersionUID = 1L;\r\n    \r\n      @Override\r\n      public Serializable generate(SharedSessionContractImplementor session, Object entity)\r\n          throws HibernateException {\r\n    \r\n        final Random r = new Random();\r\n        final Set&lt;Integer&gt; s = new HashSet&lt;&gt;();\r\n        for(int i = 0; i &lt; 4; i++){\r\n                while(true) {\r\n                int num = r.nextInt(4) + 1;\r\n                if (s.contains(num) == false) {\r\n                    s.add(num);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    \r\n        Serializable idOld;\r\n        Serializable idNew = &quot;&quot;;\r\n        EntityPersister persister = session.getEntityPersister(null, entity);\r\n        // Determine if an ID has been assigned.\r\n        idOld = (Serializable) persister.getIdentifier(entity, session);\r\n        if (idOld == null) {\r\n          idNew = (Serializable) s;\r\n        }\r\n        return idNew;\r\n      }\r\n    }\r\n","title":"how to generate auto increment id in hibernate only if identity column is null in hibernate 6.X?","body":"<p>Here is my complete class with logic in case someone needs it.</p>\n<pre><code>import java.io.Serializable;\nimport java.util.HashSet;\nimport java.util.Random;\nimport java.util.Set;\nimport org.hibernate.HibernateException;\nimport org.hibernate.engine.spi.SharedSessionContractImplementor;\nimport org.hibernate.id.IdentifierGenerator;\nimport org.hibernate.persister.entity.EntityPersister;\n\n\npublic class NativeIfNotAssignedIdentityGenerator implements IdentifierGenerator {\n\n  private static final long serialVersionUID = 1L;\n\n  @Override\n  public Serializable generate(SharedSessionContractImplementor session, Object entity)\n      throws HibernateException {\n\n    final Random r = new Random();\n    final Set&lt;Integer&gt; s = new HashSet&lt;&gt;();\n    for(int i = 0; i &lt; 4; i++){\n            while(true) {\n            int num = r.nextInt(4) + 1;\n            if (s.contains(num) == false) {\n                s.add(num);\n                break;\n            }\n        }\n    }\n\n    Serializable idOld;\n    Serializable idNew = &quot;&quot;;\n    EntityPersister persister = session.getEntityPersister(null, entity);\n    // Determine if an ID has been assigned.\n    idOld = (Serializable) persister.getIdentifier(entity, session);\n    if (idOld == null) {\n      idNew = (Serializable) s;\n    }\n    return idNew;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":6741843,"reputation":821,"user_id":5194837,"accept_rate":71,"display_name":"Kunal Batra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":977,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689211509,"creation_date":1684479964,"question_id":76286759,"body_markdown":"Use case is while saving new entity there is two options for IdentityColumn\r\n\r\n 1. Generate auto_increment id if id column is null( works perfect with  `@GeneratedValue(strategy = GenerationType.IDENTITY)`\r\n 2. do not generate auto increment id if id column is not null and use the same id which we are manually setting while saving entity. This was also working fine with combination of  Hibernate assigned generator with identity generator by using below Annotations on identity column.\r\n    \r\n        @Id\r\n        @org.springframework.data.annotation.Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY,  generator = &quot;CustomIdGenerator&quot;)\r\n        @GenericGenerator(name = &quot;CustomIdGenerator&quot;, strategy = &quot;com.CustomIdentityGenerator &quot;)\r\n        private Long id;\r\n    \r\n\r\nBoth of the use cases was working fine with hibernate version 5.X with below code of &#39;CustomIdentityGenerator&#39;\r\n\r\n    public class CustomIdentityGenerator extends IdentityGenerator {\r\n    \r\n        @Override\r\n        public Serializable generate(SharedSessionContractImplementor session, Object object) throws HibernateException {\r\n            Serializable id = session.getEntityPersister(null, object).getClassMetadata().getIdentifier(object, session);\r\n            return id != null &amp;&amp; id != Integer.valueOf(0) ? id : super.generate(session, object);\r\n        }\r\n    }\r\n  \r\nHowever after update to hibernate version 6.X  Generate method is not present in **&#39;IdentityGenerator&#39;**. Tried multiple ways to override but nothing works.\r\n\r\nIs it even possible in hibernate 6.X to achieve this use case?","title":"how to generate auto increment id in hibernate only if identity column is null in hibernate 6.X?","body":"<p>Use case is while saving new entity there is two options for IdentityColumn</p>\n<ol>\n<li><p>Generate auto_increment id if id column is null( works perfect with  <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code></p>\n</li>\n<li><p>do not generate auto increment id if id column is not null and use the same id which we are manually setting while saving entity. This was also working fine with combination of  Hibernate assigned generator with identity generator by using below Annotations on identity column.</p>\n<pre><code>@Id\n@org.springframework.data.annotation.Id\n@GeneratedValue(strategy = GenerationType.IDENTITY,  generator = &quot;CustomIdGenerator&quot;)\n@GenericGenerator(name = &quot;CustomIdGenerator&quot;, strategy = &quot;com.CustomIdentityGenerator &quot;)\nprivate Long id;\n</code></pre>\n</li>\n</ol>\n<p>Both of the use cases was working fine with hibernate version 5.X with below code of 'CustomIdentityGenerator'</p>\n<pre><code>public class CustomIdentityGenerator extends IdentityGenerator {\n\n    @Override\n    public Serializable generate(SharedSessionContractImplementor session, Object object) throws HibernateException {\n        Serializable id = session.getEntityPersister(null, object).getClassMetadata().getIdentifier(object, session);\n        return id != null &amp;&amp; id != Integer.valueOf(0) ? id : super.generate(session, object);\n    }\n}\n</code></pre>\n<p>However after update to hibernate version 6.X  Generate method is not present in <strong>'IdentityGenerator'</strong>. Tried multiple ways to override but nothing works.</p>\n<p>Is it even possible in hibernate 6.X to achieve this use case?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1689209316,"post_id":76675182,"comment_id":135182313,"body_markdown":"All class types are subclasses, directly or indirectly, of Object.  Thus &#39;T extends Object&#39; is any class type whatsoever..  The compiler cannot guess that you want to use only 2 particular types out of the infinity of possibilities.","body":"All class types are subclasses, directly or indirectly, of Object.  Thus &#39;T extends Object&#39; is any class type whatsoever..  The compiler cannot guess that you want to use only 2 particular types out of the infinity of possibilities."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689209421,"post_id":76675182,"comment_id":135182321,"body_markdown":"Because `A` and `B` are unrelated classes, their `getName` methods are also unrelated, and you can&#39;t have a name which refers to both.","body":"Because <code>A</code> and <code>B</code> are unrelated classes, their <code>getName</code> methods are also unrelated, and you can&#39;t have a name which refers to both."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689211449,"post_id":76675182,"comment_id":135182487,"body_markdown":"If I had many of these classes, and there *really* was no way to introduce an interface, I&#39;d consider reflection.","body":"If I had many of these classes, and there <i>really</i> was no way to introduce an interface, I&#39;d consider reflection."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689208275,"creation_date":1689208275,"answer_id":76675201,"question_id":76675182,"body_markdown":"You could overload two `map` methods. One that takes an `A` and one that takes a `B`. And, you could do it in `Data`. Like,\r\n\r\n\tpublic class Data {\r\n\t\tprivate String name;\r\n\r\n\t\tpublic Data(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\r\n\t\tpublic static Data map(A a) {\r\n\t\t\treturn new Data(a.getName());\r\n\t\t}\r\n\r\n\t\tpublic static Data map(B b) {\r\n\t\t\treturn new Data(b.getName());\r\n\t\t}\r\n\t}","title":"Static method with generic argument type","body":"<p>You could overload two <code>map</code> methods. One that takes an <code>A</code> and one that takes a <code>B</code>. And, you could do it in <code>Data</code>. Like,</p>\n<pre><code>public class Data {\n    private String name;\n\n    public Data(String name) {\n        this.name = name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public static Data map(A a) {\n        return new Data(a.getName());\n    }\n\n    public static Data map(B b) {\n        return new Data(b.getName());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":411268,"reputation":683,"user_id":783620,"accept_rate":92,"display_name":"markfw"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689208275,"creation_date":1689207867,"question_id":76675182,"body_markdown":"I have the following Java classes that inherit from `Object` class (Generated code).\r\n```\r\npublic class A extends Object {\r\n  public String getName() {\r\n    return &quot;A&quot;\r\n  }\r\n}\r\n\r\npublic class B extends Object {\r\n  public String getName() {\r\n    return &quot;B&quot;\r\n  }\r\n}\r\n```\r\n\r\nI also have a class called `Data`\r\n```\r\npublic class Data {\r\n  private String name;\r\n\r\n  public setName(String name) {\r\n    this.name = name;\r\n  }\r\n}\r\n```\r\n\r\nI want to create `static` method that accepts (`A`, `B` ...) and return `Data`. I defined the following `Mapper` class but `getName` is not defined on type `T`\r\n\r\n```\r\npublic class DataMapper {\r\n  public static &lt;T extends Object&gt; Data map(T input) {\r\n    Data data = new Data();\r\n    data.setName(input.getName()); // &lt;-- Cannot resolve getName\r\n\r\n    return data;\r\n  }\r\n}\r\n```\r\n\r\nAnd this is how I call `map` method\r\n```\r\n...\r\npublic void processA(A input) {\r\n  Data data = DataMapper.map(input);\r\n  // Do more with data\r\n  ...\r\n}\r\n\r\npublic void processB(B input) {\r\n  Data data = DataMapper.map(input);\r\n  // Do more with data\r\n  ...\r\n}\r\n...\r\n```\r\n\r\nThis gives me a compiled error and I&#39;m not sure how I can achieve this (Mapping `A` and `B` to `Data`) and I hope someone in here can help.\r\n\r\nNote that I won&#39;t be able to change the inheritance of `A` and `B` since it is generated code and using `ObjectMapper` is not an option.","title":"Static method with generic argument type","body":"<p>I have the following Java classes that inherit from <code>Object</code> class (Generated code).</p>\n<pre><code>public class A extends Object {\n  public String getName() {\n    return &quot;A&quot;\n  }\n}\n\npublic class B extends Object {\n  public String getName() {\n    return &quot;B&quot;\n  }\n}\n</code></pre>\n<p>I also have a class called <code>Data</code></p>\n<pre><code>public class Data {\n  private String name;\n\n  public setName(String name) {\n    this.name = name;\n  }\n}\n</code></pre>\n<p>I want to create <code>static</code> method that accepts (<code>A</code>, <code>B</code> ...) and return <code>Data</code>. I defined the following <code>Mapper</code> class but <code>getName</code> is not defined on type <code>T</code></p>\n<pre><code>public class DataMapper {\n  public static &lt;T extends Object&gt; Data map(T input) {\n    Data data = new Data();\n    data.setName(input.getName()); // &lt;-- Cannot resolve getName\n\n    return data;\n  }\n}\n</code></pre>\n<p>And this is how I call <code>map</code> method</p>\n<pre><code>...\npublic void processA(A input) {\n  Data data = DataMapper.map(input);\n  // Do more with data\n  ...\n}\n\npublic void processB(B input) {\n  Data data = DataMapper.map(input);\n  // Do more with data\n  ...\n}\n...\n</code></pre>\n<p>This gives me a compiled error and I'm not sure how I can achieve this (Mapping <code>A</code> and <code>B</code> to <code>Data</code>) and I hope someone in here can help.</p>\n<p>Note that I won't be able to change the inheritance of <code>A</code> and <code>B</code> since it is generated code and using <code>ObjectMapper</code> is not an option.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":3,"creation_date":1449093565,"post_id":34048617,"comment_id":55861957,"body_markdown":"You shouldn&#39;t need to do anything as Spring Boot will automatically configure the hidden http method filter for you","body":"You shouldn&#39;t need to do anything as Spring Boot will automatically configure the hidden http method filter for you"},{"owner":{"account_id":369204,"reputation":2282,"user_id":716448,"accept_rate":76,"display_name":"diligent"},"score":0,"creation_date":1449103687,"post_id":34048617,"comment_id":55865857,"body_markdown":"@AndyWilkinson thanks a lot man.  I edit my question, But if I do not configure the hidden http method filter, how can I use a put submit in html form.","body":"@AndyWilkinson thanks a lot man.  I edit my question, But if I do not configure the hidden http method filter, how can I use a put submit in html form."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1449126470,"post_id":34048617,"comment_id":55873188,"body_markdown":"Like you normally would. Just put the element in the form...","body":"Like you normally would. Just put the element in the form..."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":3,"creation_date":1583780987,"post_id":34048617,"comment_id":107224327,"body_markdown":"Since Spring Boot 2.2, the filter is no longer automatically configured. Set `spring.mvc.hiddenmethod.filter.enabled=true` in your `application.properties` to enable it again.","body":"Since Spring Boot 2.2, the filter is no longer automatically configured. Set <code>spring.mvc.hiddenmethod.filter.enabled=true</code> in your <code>application.properties</code> to enable it again."},{"owner":{"account_id":132543,"reputation":9418,"user_id":333296,"accept_rate":68,"display_name":"Nux"},"score":0,"creation_date":1591617273,"post_id":34048617,"comment_id":110114537,"body_markdown":"Note that using `HiddenHttpMethodFilter` opens your application to a whole bunch of new CSRF attacks. Be sure you have other means of blocking requests from external forms. And no, CORS does not work for forms.","body":"Note that using <code>HiddenHttpMethodFilter</code> opens your application to a whole bunch of new CSRF attacks. Be sure you have other means of blocking requests from external forms. And no, CORS does not work for forms."}],"answers":[{"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":6,"creation_date":1583781072,"post_id":53648817,"comment_id":107224367,"body_markdown":"If you use Spring Boot, add `spring.mvc.hiddenmethod.filter.enabled=true` to your `application.properties` to avoid the manual bean configuration. If you use Thymeleaf for the templates, you can use `th:method=&quot;DELETE&quot;` to have Thymelaf add the hidden field automatically.","body":"If you use Spring Boot, add <code>spring.mvc.hiddenmethod.filter.enabled=true</code> to your <code>application.properties</code> to avoid the manual bean configuration. If you use Thymeleaf for the templates, you can use <code>th:method=&quot;DELETE&quot;</code> to have Thymelaf add the hidden field automatically."},{"owner":{"account_id":1360281,"reputation":361,"user_id":1297789,"display_name":"Omnibyte"},"score":0,"creation_date":1590663885,"post_id":53648817,"comment_id":109767771,"body_markdown":"@WimDeblauwe your comment deserves more upvotes, worked for me!","body":"@WimDeblauwe your comment deserves more upvotes, worked for me!"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1590664140,"post_id":53648817,"comment_id":109767901,"body_markdown":"Turned it into a separate answer now for easier upvoting :)","body":"Turned it into a separate answer now for easier upvoting :)"}],"tags":[],"owner":{"account_id":11448505,"reputation":61,"user_id":8391529,"display_name":"Brain U"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1544096903,"creation_date":1544090617,"answer_id":53648817,"question_id":34048617,"body_markdown":"I had dealt with this problem not long ago. You only need to and a Bean under anyone `@Configuration` class. Such as:  \r\n![add HiddenHttpMethodFilter][1]\r\n\r\n\r\nThen, you could use delete request on form. Such as:  \r\n![use delete request on form][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EncWJ.png\r\n  [2]: https://i.stack.imgur.com/4MB2T.png","title":"Spring Boot how to use HiddenHttpMethodFilter","body":"<p>I had dealt with this problem not long ago. You only need to and a Bean under anyone <code>@Configuration</code> class. Such as:<br>\n<img src=\"https://i.stack.imgur.com/EncWJ.png\" alt=\"add HiddenHttpMethodFilter\"></p>\n\n<p>Then, you could use delete request on form. Such as:<br>\n<img src=\"https://i.stack.imgur.com/4MB2T.png\" alt=\"use delete request on form\"></p>\n"},{"comments":[{"owner":{"account_id":21764389,"reputation":232,"user_id":16068500,"display_name":"Thomas_Mylonas"},"score":2,"creation_date":1655967548,"post_id":62063236,"comment_id":128458386,"body_markdown":"[Updated]@Deblauwe. I use Sping boot 2.7.0. I put in the form th:method=&quot;delete&quot;, and atDeleteMapping, and the : &quot;spring.mvc.hiddenmethod.filter.enabled=true&quot; in application.yaml, and it does not work. It says about &quot;Request method post not supported&quot;. Any idea please? It is not supported in newest Spring boot versions. Thanks in advance","body":"[Updated]@Deblauwe. I use Sping boot 2.7.0. I put in the form th:method=&quot;delete&quot;, and atDeleteMapping, and the : &quot;spring.mvc.hiddenmethod.filter.enabled=true&quot; in application.yaml, and it does not work. It says about &quot;Request method post not supported&quot;. Any idea please? It is not supported in newest Spring boot versions. Thanks in advance"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":1,"creation_date":1656055656,"post_id":62063236,"comment_id":128482736,"body_markdown":"@Thomas_Mylonas please ask a separate question for this.","body":"@Thomas_Mylonas please ask a separate question for this."},{"owner":{"account_id":21764389,"reputation":232,"user_id":16068500,"display_name":"Thomas_Mylonas"},"score":1,"creation_date":1656063412,"post_id":62063236,"comment_id":128485435,"body_markdown":"Hello @Deblauwe sir. Thanks for the reply. I used the atBean FilterRegistrationBean, I saw in the next reply. For me, my spring boot did not to create it for me, using the yaml property you mentioned. But, I will make this comment a separate question as you told me, so, you can help me, and the thymeleaf community. I will do it in the next 2 hours (I am in work right now)","body":"Hello @Deblauwe sir. Thanks for the reply. I used the atBean FilterRegistrationBean, I saw in the next reply. For me, my spring boot did not to create it for me, using the yaml property you mentioned. But, I will make this comment a separate question as you told me, so, you can help me, and the thymeleaf community. I will do it in the next 2 hours (I am in work right now)"},{"owner":{"account_id":21764389,"reputation":232,"user_id":16068500,"display_name":"Thomas_Mylonas"},"score":1,"creation_date":1656075292,"post_id":62063236,"comment_id":128489745,"body_markdown":"@Deblauwe - Hello sir. I made this question as you adviced me: &quot;stackoverflow.com/questions/72744349/…&quot;. Your experience in this topic will be valuable to me. Thanks in advance","body":"@Deblauwe - Hello sir. I made this question as you adviced me: &quot;stackoverflow.com/questions/72744349/…&quot;. Your experience in this topic will be valuable to me. Thanks in advance"}],"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":4,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1689207469,"creation_date":1590664122,"answer_id":62063236,"question_id":34048617,"body_markdown":"Add the following to your `application.properties` file:\r\n\r\n    spring.mvc.hiddenmethod.filter.enabled=true\r\n\r\nThis will automatically configure the `HiddenHttpMethodFilter` class.\r\n\r\nNext, use `th:method=&quot;DELETE&quot;` on the form to have `Thymeleaf` add the hidden field automatically.\r\n\r\n**Note**\r\n\r\n* For Spring Boot &lt; 2.2 always registers the filter\r\n* For Spring Boot 2.2 or higher you need to set the property","title":"Spring Boot how to use HiddenHttpMethodFilter","body":"<p>Add the following to your <code>application.properties</code> file:</p>\n<pre><code>spring.mvc.hiddenmethod.filter.enabled=true\n</code></pre>\n<p>This will automatically configure the <code>HiddenHttpMethodFilter</code> class.</p>\n<p>Next, use <code>th:method=&quot;DELETE&quot;</code> on the form to have <code>Thymeleaf</code> add the hidden field automatically.</p>\n<p><strong>Note</strong></p>\n<ul>\n<li>For Spring Boot &lt; 2.2 always registers the filter</li>\n<li>For Spring Boot 2.2 or higher you need to set the property</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1660681015,"post_id":73343599,"comment_id":129588706,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73343599/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23581484,"reputation":1,"user_id":17620436,"display_name":"DiZzza"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660387812,"creation_date":1660387615,"answer_id":73343599,"question_id":34048617,"body_markdown":"Addition to Wim Deblauwe answer.\r\nIf you use **application.yml**, you need to add:\r\n**spring:mvc:hiddenmethod:filter:enabled: true**","title":"Spring Boot how to use HiddenHttpMethodFilter","body":"<p>Addition to Wim Deblauwe answer.\nIf you use <strong>application.yml</strong>, you need to add:\n<strong>spring:mvc:hiddenmethod:filter:enabled: true</strong></p>\n"}],"owner":{"account_id":369204,"reputation":2282,"user_id":716448,"accept_rate":76,"display_name":"diligent"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17011,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1689207469,"creation_date":1449075654,"question_id":34048617,"body_markdown":"As we all know, forms only support `GET` or `POST` methods, like this:\r\n\r\n    &lt;form method=&quot;[GET|POST]&quot; action=&quot;/user/create&quot;&gt;\r\n\r\nIf our controller has a `PUT` mapping, we get a 405 error, which means we can only use `GET` or `POST` but not `PUT`.\r\n\r\n```\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @RequestMapping(value = &quot;/create&quot;, method = RequestMethod.PUT)\r\n    public ModelAndView createUser(@ModelAttribute(&quot;user&quot;) Users user, BindingResult bindingResult){\r\n        ModelAndView mv = new ModelAndView(&quot;list&quot;);\r\n        // do something...\r\n        return mv;\r\n    }\r\n}\r\n```\r\n\r\nIn spring MVC, we can solve this problem:\r\n\r\nFirst, create a hidden field like this:\r\n\r\n    &lt;form method=&quot;[GET|POST]&quot; action=&quot;/user/create&quot;&gt;\r\n        &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;put&quot;/&gt;\r\n\r\nSecond, add a filter\r\n\r\n    &lt;filter&gt;  \r\n        &lt;filter-name&gt;HiddenHttpMethodFilter&lt;/filter-name&gt;  \r\n        &lt;filter-class&gt;org.springframework.web.filter.HiddenHttpMethodFilter&lt;/filter-class&gt;  \r\n    &lt;/filter&gt;  \r\n  \r\n    &lt;filter-mapping&gt;  \r\n        &lt;filter-name&gt;HiddenHttpMethodFilter&lt;/filter-name&gt;  \r\n        &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt;  \r\n    &lt;/filter-mapping&gt;     \r\n\r\nIn this way, we can use the `PUT` method.\r\n\r\nBut how can I do it in Spring Boot? I know Spring Boot have a class named `WebMvcAutoConfiguration` which owns a method `hiddenHttpMethodFilter`, but how can I use the class?","title":"Spring Boot how to use HiddenHttpMethodFilter","body":"<p>As we all know, forms only support <code>GET</code> or <code>POST</code> methods, like this:</p>\n<pre><code>&lt;form method=&quot;[GET|POST]&quot; action=&quot;/user/create&quot;&gt;\n</code></pre>\n<p>If our controller has a <code>PUT</code> mapping, we get a 405 error, which means we can only use <code>GET</code> or <code>POST</code> but not <code>PUT</code>.</p>\n<pre><code>public class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    @RequestMapping(value = &quot;/create&quot;, method = RequestMethod.PUT)\n    public ModelAndView createUser(@ModelAttribute(&quot;user&quot;) Users user, BindingResult bindingResult){\n        ModelAndView mv = new ModelAndView(&quot;list&quot;);\n        // do something...\n        return mv;\n    }\n}\n</code></pre>\n<p>In spring MVC, we can solve this problem:</p>\n<p>First, create a hidden field like this:</p>\n<pre><code>&lt;form method=&quot;[GET|POST]&quot; action=&quot;/user/create&quot;&gt;\n    &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;put&quot;/&gt;\n</code></pre>\n<p>Second, add a filter</p>\n<pre><code>&lt;filter&gt;  \n    &lt;filter-name&gt;HiddenHttpMethodFilter&lt;/filter-name&gt;  \n    &lt;filter-class&gt;org.springframework.web.filter.HiddenHttpMethodFilter&lt;/filter-class&gt;  \n&lt;/filter&gt;  \n\n&lt;filter-mapping&gt;  \n    &lt;filter-name&gt;HiddenHttpMethodFilter&lt;/filter-name&gt;  \n    &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt;  \n&lt;/filter-mapping&gt;     \n</code></pre>\n<p>In this way, we can use the <code>PUT</code> method.</p>\n<p>But how can I do it in Spring Boot? I know Spring Boot have a class named <code>WebMvcAutoConfiguration</code> which owns a method <code>hiddenHttpMethodFilter</code>, but how can I use the class?</p>\n"},{"tags":["java","hibernate","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":97808,"reputation":4702,"user_id":265119,"accept_rate":31,"display_name":"Magick"},"score":0,"creation_date":1689228949,"post_id":76675163,"comment_id":135184198,"body_markdown":"Thanks @Luca Basso Ricci - I think that may have been the problem.","body":"Thanks @Luca Basso Ricci - I think that may have been the problem."}],"owner":{"account_id":97808,"reputation":4702,"user_id":265119,"accept_rate":31,"display_name":"Magick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689229298,"answer_count":0,"score":0,"last_activity_date":1689207348,"creation_date":1689207348,"question_id":76675163,"body_markdown":"I&#39;m trying to add a new JPA Entity to a quarkus project but I&#39;m getting the below error. Unfortunately the error is so cryptic that it doesnt really give any clear indication as to where or what the problem is.\r\n\r\n\r\n```\r\nError running Quarkus: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat io.quarkus.runner.bootstrap.StartupActionImpl$1.run(StartupActionImpl.java:104)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.ExceptionInInitializerError\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat io.quarkus.runtime.Quarkus.run(Quarkus.java:70)\r\n\tat io.quarkus.runtime.Quarkus.run(Quarkus.java:44)\r\n\tat io.quarkus.runtime.Quarkus.run(Quarkus.java:124)\r\n\tat io.quarkus.runner.GeneratedMain.main(Unknown Source)\r\n\t... 6 more\r\nCaused by: java.lang.RuntimeException: Failed to start quarkus\r\n\tat io.quarkus.runner.ApplicationImpl.&lt;clinit&gt;(Unknown Source)\r\n\t... 15 more\r\nCaused by: org.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for `org.acme.employeescheduling.domain.Contract`\r\n\tat org.hibernate.type.descriptor.java.spi.UnknownBasicJavaType.getRecommendedJdbcType(UnknownBasicJavaType.java:37)\r\n\tat org.hibernate.boot.model.process.internal.InferredBasicValueResolver.from(InferredBasicValueResolver.java:222)\r\n\tat org.hibernate.mapping.BasicValue.buildResolution(BasicValue.java:480)\r\n\tat org.hibernate.mapping.BasicValue.resolve(BasicValue.java:310)\r\n\tat org.hibernate.mapping.BasicValue.resolve(BasicValue.java:300)\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.lambda$processValueResolvers$4(InFlightMetadataCollectorImpl.java:1831)\r\n\tat java.base/java.util.ArrayList.removeIf(ArrayList.java:1682)\r\n\tat java.base/java.util.ArrayList.removeIf(ArrayList.java:1660)\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processValueResolvers(InFlightMetadataCollectorImpl.java:1830)\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1816)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:328)\r\n\tat io.quarkus.hibernate.orm.runtime.boot.FastBootMetadataBuilder.build(FastBootMetadataBuilder.java:406)\r\n\tat io.quarkus.hibernate.orm.runtime.PersistenceUnitsHolder.createMetadata(PersistenceUnitsHolder.java:101)\r\n\tat io.quarkus.hibernate.orm.runtime.PersistenceUnitsHolder.constructMetadataAdvance(PersistenceUnitsHolder.java:73)\r\n\tat io.quarkus.hibernate.orm.runtime.PersistenceUnitsHolder.initializeJpa(PersistenceUnitsHolder.java:40)\r\n\tat io.quarkus.hibernate.orm.runtime.HibernateOrmRecorder$1.created(HibernateOrmRecorder.java:78)\r\n\tat io.quarkus.arc.runtime.ArcRecorder.initBeanContainer(ArcRecorder.java:79)\r\n\tat io.quarkus.deployment.steps.ArcProcessor$generateResources844392269.deploy_0(Unknown Source)\r\n\tat io.quarkus.deployment.steps.ArcProcessor$generateResources844392269.deploy(Unknown Source)\r\n\t... 16 more\r\n\r\n\r\n```\r\n\r\nThe entity I&#39;m trying to add is very simple - with types being `string` and `long`.\r\n\r\n```\r\n\r\n@Entity\r\npublic class Contract {\r\n\t\r\n\t@Id\r\n    @PlanningId\r\n    @GeneratedValue\t\r\n    private Long id;\r\n\t\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tprivate String code;\r\n\tprivate String description;   \r\n\t    \r\n\r\n\r\n\t    public Contract() {\r\n\t    }\r\n\r\n\t    public Contract(long id) {\r\n\t    \tthis.id = id;\r\n\t    \t\r\n\t    }\r\n\r\n\t    public Contract(long id, String code, String description) {\r\n\t    \tthis.id = id;\r\n\t        this.code = code;\r\n\t        this.description = description;\r\n\t    }\r\n\r\n\t    public String getCode() {\r\n\t        return code;\r\n\t    }\r\n\r\n\t    public void setCode(String code) {\r\n\t        this.code = code;\r\n\t    }\r\n\r\n\t    public String getDescription() {\r\n\t        return description;\r\n\t    }\r\n\r\n\t    public void setDescription(String description) {\r\n\t        this.description = description;\r\n\t    }\r\n\r\n\r\n\t    @Override\r\n\t    public String toString() {\r\n\t        return code;\r\n\t    }\r\n\r\n}\r\n```\r\n\r\nIt would be really appreciated if someone could advise on how to extract something meaningful and useful from the stacktrace. ","title":"Could not determine recommended JdbcType - Quarkus","body":"<p>I'm trying to add a new JPA Entity to a quarkus project but I'm getting the below error. Unfortunately the error is so cryptic that it doesnt really give any clear indication as to where or what the problem is.</p>\n<pre><code>Error running Quarkus: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at io.quarkus.runner.bootstrap.StartupActionImpl$1.run(StartupActionImpl.java:104)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.ExceptionInInitializerError\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at io.quarkus.runtime.Quarkus.run(Quarkus.java:70)\n    at io.quarkus.runtime.Quarkus.run(Quarkus.java:44)\n    at io.quarkus.runtime.Quarkus.run(Quarkus.java:124)\n    at io.quarkus.runner.GeneratedMain.main(Unknown Source)\n    ... 6 more\nCaused by: java.lang.RuntimeException: Failed to start quarkus\n    at io.quarkus.runner.ApplicationImpl.&lt;clinit&gt;(Unknown Source)\n    ... 15 more\nCaused by: org.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for `org.acme.employeescheduling.domain.Contract`\n    at org.hibernate.type.descriptor.java.spi.UnknownBasicJavaType.getRecommendedJdbcType(UnknownBasicJavaType.java:37)\n    at org.hibernate.boot.model.process.internal.InferredBasicValueResolver.from(InferredBasicValueResolver.java:222)\n    at org.hibernate.mapping.BasicValue.buildResolution(BasicValue.java:480)\n    at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:310)\n    at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:300)\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.lambda$processValueResolvers$4(InFlightMetadataCollectorImpl.java:1831)\n    at java.base/java.util.ArrayList.removeIf(ArrayList.java:1682)\n    at java.base/java.util.ArrayList.removeIf(ArrayList.java:1660)\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processValueResolvers(InFlightMetadataCollectorImpl.java:1830)\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1816)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:328)\n    at io.quarkus.hibernate.orm.runtime.boot.FastBootMetadataBuilder.build(FastBootMetadataBuilder.java:406)\n    at io.quarkus.hibernate.orm.runtime.PersistenceUnitsHolder.createMetadata(PersistenceUnitsHolder.java:101)\n    at io.quarkus.hibernate.orm.runtime.PersistenceUnitsHolder.constructMetadataAdvance(PersistenceUnitsHolder.java:73)\n    at io.quarkus.hibernate.orm.runtime.PersistenceUnitsHolder.initializeJpa(PersistenceUnitsHolder.java:40)\n    at io.quarkus.hibernate.orm.runtime.HibernateOrmRecorder$1.created(HibernateOrmRecorder.java:78)\n    at io.quarkus.arc.runtime.ArcRecorder.initBeanContainer(ArcRecorder.java:79)\n    at io.quarkus.deployment.steps.ArcProcessor$generateResources844392269.deploy_0(Unknown Source)\n    at io.quarkus.deployment.steps.ArcProcessor$generateResources844392269.deploy(Unknown Source)\n    ... 16 more\n\n\n</code></pre>\n<p>The entity I'm trying to add is very simple - with types being <code>string</code> and <code>long</code>.</p>\n<pre><code>\n@Entity\npublic class Contract {\n    \n    @Id\n    @PlanningId\n    @GeneratedValue \n    private Long id;\n    \n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    private String code;\n    private String description;   \n        \n\n\n        public Contract() {\n        }\n\n        public Contract(long id) {\n            this.id = id;\n            \n        }\n\n        public Contract(long id, String code, String description) {\n            this.id = id;\n            this.code = code;\n            this.description = description;\n        }\n\n        public String getCode() {\n            return code;\n        }\n\n        public void setCode(String code) {\n            this.code = code;\n        }\n\n        public String getDescription() {\n            return description;\n        }\n\n        public void setDescription(String description) {\n            this.description = description;\n        }\n\n\n        @Override\n        public String toString() {\n            return code;\n        }\n\n}\n</code></pre>\n<p>It would be really appreciated if someone could advise on how to extract something meaningful and useful from the stacktrace.</p>\n"},{"tags":["java","spring-boot","http-status-code-404"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689166538,"post_id":76666969,"comment_id":135174656,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":28998863,"reputation":1,"user_id":22212832,"display_name":"Gian Gabriel"},"score":0,"creation_date":1689207084,"post_id":76667019,"comment_id":135182149,"body_markdown":"Sadly i doesn&#39;t work i have tried to mess around with names before","body":"Sadly i doesn&#39;t work i have tried to mess around with names before"}],"tags":[],"owner":{"account_id":13678417,"reputation":11,"user_id":9869340,"display_name":"jack.l"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689133278,"creation_date":1689133278,"answer_id":76667019,"question_id":76666969,"body_markdown":"[try remove .jsp][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/srgNb.png\r\n\r\ntry remove &quot;.jsp&quot; at the controller return line","title":"Can&#39;t return a view for my springboot application, get 404 instead","body":"<p><a href=\"https://i.stack.imgur.com/srgNb.png\" rel=\"nofollow noreferrer\">try remove .jsp</a></p>\n<p>try remove &quot;.jsp&quot; at the controller return line</p>\n"}],"owner":{"account_id":28998863,"reputation":1,"user_id":22212832,"display_name":"Gian Gabriel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689207159,"creation_date":1689132226,"question_id":76666969,"body_markdown":"I know this type of problem has propably a lot coverage already, but i was unable to find anything that i could understand to solve my issue (admittedly because i don&#39;t how to look). So i am making a very basic and barebones springboot web application, however i can&#39;t for the love of god make my controller return a view that lists all the user in the database.\r\n\r\nHere is the controller\r\n\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/usuario&quot;)\r\npublic class UsuarioController {\r\n\r\n    private final UsuarioDAO usuarioDAO;\r\n\r\n    public UsuarioController(UsuarioDAO usuarioDAO){\r\n        this.usuarioDAO = usuarioDAO;\r\n    }\r\n\r\n    @GetMapping(&quot;/exibirUsuario&quot;)\r\n    public String exibirUsuario(Model model){\r\n        model.addAttribute(&quot;usuarios&quot;, usuarioDAO.getUsuarios());\r\n        return &quot;ExibirU.jsp&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nmy pom:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;poowspring&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;name&gt;poowspring&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nand my application.properties\r\n\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/csi.poow1\r\nspring.datasource.username=postgres\r\nspring.datasource.password=1234\r\nspring.mvc.view.prefix=/WEB-INF/jsp/\r\nspring.mvc.view.suffix=.jsp\r\n```\r\n\r\n\r\nAgain sorry if this feels like d&#233;j&#224; vu, but really can&#39;t understand what is wrong here.\r\n","title":"Can&#39;t return a view for my springboot application, get 404 instead","body":"<p>I know this type of problem has propably a lot coverage already, but i was unable to find anything that i could understand to solve my issue (admittedly because i don't how to look). So i am making a very basic and barebones springboot web application, however i can't for the love of god make my controller return a view that lists all the user in the database.</p>\n<p>Here is the controller</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/usuario&quot;)\npublic class UsuarioController {\n\n    private final UsuarioDAO usuarioDAO;\n\n    public UsuarioController(UsuarioDAO usuarioDAO){\n        this.usuarioDAO = usuarioDAO;\n    }\n\n    @GetMapping(&quot;/exibirUsuario&quot;)\n    public String exibirUsuario(Model model){\n        model.addAttribute(&quot;usuarios&quot;, usuarioDAO.getUsuarios());\n        return &quot;ExibirU.jsp&quot;;\n    }\n}\n\n</code></pre>\n<p>my pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;poowspring&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;poowspring&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>and my application.properties</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/csi.poow1\nspring.datasource.username=postgres\nspring.datasource.password=1234\nspring.mvc.view.prefix=/WEB-INF/jsp/\nspring.mvc.view.suffix=.jsp\n</code></pre>\n<p>Again sorry if this feels like déjà vu, but really can't understand what is wrong here.</p>\n"},{"tags":["java","eclipse","jar","swt"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1689143436,"post_id":76666803,"comment_id":135169544,"body_markdown":"Well, it&#39;s internal,  so you shouldn&#39;t build on that. [Here is the source code of `org.eclipse.swt.internal.win32.OS`](https://github.com/eclipse-platform/eclipse.platform.swt/blob/master/bundles/org.eclipse.swt/Eclipse%20SWT%20PI/win32/org/eclipse/swt/internal/win32/OS.java) and [here the history](https://github.com/eclipse-platform/eclipse.platform.swt/commits/master/bundles/org.eclipse.swt/Eclipse%20SWT%20PI/win32/org/eclipse/swt/internal/win32/OS.java).","body":"Well, it&#39;s internal,  so you shouldn&#39;t build on that. <a href=\"https://github.com/eclipse-platform/eclipse.platform.swt/blob/master/bundles/org.eclipse.swt/Eclipse%20SWT%20PI/win32/org/eclipse/swt/internal/win32/OS.java\" rel=\"nofollow noreferrer\">Here is the source code of <code>org.eclipse.swt.internal.win32.OS</code></a> and <a href=\"https://github.com/eclipse-platform/eclipse.platform.swt/commits/master/bundles/org.eclipse.swt/Eclipse%20SWT%20PI/win32/org/eclipse/swt/internal/win32/OS.java\" rel=\"nofollow noreferrer\">here the history</a>."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1689144149,"post_id":76666803,"comment_id":135169691,"body_markdown":"As an internal API this is subject to change without notice. You might be able to rewrite the code to use JNA instead - the `com.sun.jna` and `com.sun.jna.platform` plug-ins are included in recent versions of Eclipse.","body":"As an internal API this is subject to change without notice. You might be able to rewrite the code to use JNA instead - the <code>com.sun.jna</code> and <code>com.sun.jna.platform</code> plug-ins are included in recent versions of Eclipse."},{"owner":{"account_id":9595308,"reputation":1,"user_id":7124648,"display_name":"Seunghun Jun"},"score":0,"creation_date":1689149453,"post_id":76666803,"comment_id":135170741,"body_markdown":"@howlger Thanks for the comment, and yes that is what I figured.","body":"@howlger Thanks for the comment, and yes that is what I figured."},{"owner":{"account_id":9595308,"reputation":1,"user_id":7124648,"display_name":"Seunghun Jun"},"score":0,"creation_date":1689149792,"post_id":76666803,"comment_id":135170827,"body_markdown":"@greg-449 that is what I was looking for. So I tried with newest version of jna-5.13.0 but I couldn&#39;t make it. That is why I posted this on here...","body":"@greg-449 that is what I was looking for. So I tried with newest version of jna-5.13.0 but I couldn&#39;t make it. That is why I posted this on here..."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689178529,"post_id":76666803,"comment_id":135177747,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1689231028,"post_id":76666803,"comment_id":135184514,"body_markdown":"Note: You should not try to mix the SWT OS.xxx code with JNA, they may not represent things the same way. Switch completely to JNA.","body":"Note: You should not try to mix the SWT OS.xxx code with JNA, they may not represent things the same way. Switch completely to JNA."}],"owner":{"account_id":9595308,"reputation":1,"user_id":7124648,"display_name":"Seunghun Jun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689206546,"creation_date":1689129103,"question_id":76666803,"body_markdown":"In my project, I had a method which was using org.eclipse.swt.internal.win32.OS. The jar that I was using were org.eclipse.swt.win32.win32.x86_64-3.106.0.jar and org.eclipse.swt-3.106.0.jar\r\n\r\nWhile I am working on my project, I had to switch the version of those jar to 116.0. Then, I figured out that OS.FindWindow method were gone. I tried to find out the other way to cover OS.FindWindow method but I had no luck.\r\nIs there anyone had some Idea?\r\n\r\n\r\nHere is my code\r\n\r\n```\r\nimport org.eclipse.swt.internal.win32.OS;\r\nimport org.eclipse.swt.internal.win32.TCHAR;\r\n\r\nimport mypackage.DEFINE;\r\n\r\npublic class WindowUtil {\r\n\r\n\t\r\n\tpublic static void fireMessage(int msg,long wParam ,long lParam) {\r\n\t\t\r\n\t\t\r\n\t\tTCHAR  win_name = new TCHAR(OS.CP_INSTALLED, DEFINE.WIN_TITLE,true);\r\n\t\tlong hWnd = OS.FindWindow(null,win_name);\r\n\t\t//x64\r\n\t\tboolean blan = OS.PostMessage(hWnd, msg, wParam, lParam);\r\n\t\t//x86\r\n//\t\tboolean blan = OS.PostMessage((int)hWnd, msg, (int)wParam, (int)lParam);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nwhat I tried:\r\n\r\nI added jna-5.13.0.jar and jna-platform-4.5.0.jar. And I changed my code like below.\r\n\r\n    import org.eclipse.swt.internal.win32.TCHAR;\r\n    import com.sun.jna.platform.win32.WinDef.HWND;\r\n    import com.sun.jna.platform.win32.User32;\r\n    import org.eclipse.swt.internal.win32.OS;\r\n    import com.sun.jna.Pointer;\r\n\r\n    public class WindowUtil {\r\n\r\n\t\r\n\tpublic static void fireMessage(int msg,long wParam ,long lParam) {\r\n\t\t\r\n\t\t\r\n\t\tTCHAR  win_name = new TCHAR(0x1, DEFINE.WIN_TITLE,true);\r\n\t\tHWND hwnd = User32.INSTANCE.FindWindow(null, DEFINE.WIN_TITLE);\r\n\t\tlong handle = Pointer.nativeValue(hwnd.getPointer());\r\n\t\t//x64\r\n\t\tboolean blan = OS.PostMessage(handle, msg, wParam, lParam);\r\n\t\t//x86\r\n    //\t\tboolean blan = OS.PostMessage((int)hWnd, msg, (int)wParam,  (int)lParam);\r\n\t\t\r\n\t}\r\n    }\r\n\r\n\r\nthen I got errors like this.\r\n\r\n    Exception in thread &quot;Thread-15&quot; java.lang.NoClassDefFoundError: Could\r\n    not initialize class com.sun.jna.platform.win32.WinBase\r\n    atcom.sun.jna.platform.win32.WinNT$HANDLE.fromNative(WinNT.java:1366) at com.sun.jna.NativeMappedConverter.fromNative(NativeMappedConverter.java:70)at com.sun.jna.Function.invoke(Function.java:370)at com.sun.jna.Library$Handler.invoke(Library.java:270)at com.sun.proxy.$Proxy0.FindWindow(Unknown Source)\r\n","title":"org.eclipse.swt jar updated and OS.FindWindow is gone","body":"<p>In my project, I had a method which was using org.eclipse.swt.internal.win32.OS. The jar that I was using were org.eclipse.swt.win32.win32.x86_64-3.106.0.jar and org.eclipse.swt-3.106.0.jar</p>\n<p>While I am working on my project, I had to switch the version of those jar to 116.0. Then, I figured out that OS.FindWindow method were gone. I tried to find out the other way to cover OS.FindWindow method but I had no luck.\nIs there anyone had some Idea?</p>\n<p>Here is my code</p>\n<pre><code>import org.eclipse.swt.internal.win32.OS;\nimport org.eclipse.swt.internal.win32.TCHAR;\n\nimport mypackage.DEFINE;\n\npublic class WindowUtil {\n\n    \n    public static void fireMessage(int msg,long wParam ,long lParam) {\n        \n        \n        TCHAR  win_name = new TCHAR(OS.CP_INSTALLED, DEFINE.WIN_TITLE,true);\n        long hWnd = OS.FindWindow(null,win_name);\n        //x64\n        boolean blan = OS.PostMessage(hWnd, msg, wParam, lParam);\n        //x86\n//      boolean blan = OS.PostMessage((int)hWnd, msg, (int)wParam, (int)lParam);\n        \n    }\n}\n</code></pre>\n<p>what I tried:</p>\n<p>I added jna-5.13.0.jar and jna-platform-4.5.0.jar. And I changed my code like below.</p>\n<pre><code>import org.eclipse.swt.internal.win32.TCHAR;\nimport com.sun.jna.platform.win32.WinDef.HWND;\nimport com.sun.jna.platform.win32.User32;\nimport org.eclipse.swt.internal.win32.OS;\nimport com.sun.jna.Pointer;\n\npublic class WindowUtil {\n\n\npublic static void fireMessage(int msg,long wParam ,long lParam) {\n    \n    \n    TCHAR  win_name = new TCHAR(0x1, DEFINE.WIN_TITLE,true);\n    HWND hwnd = User32.INSTANCE.FindWindow(null, DEFINE.WIN_TITLE);\n    long handle = Pointer.nativeValue(hwnd.getPointer());\n    //x64\n    boolean blan = OS.PostMessage(handle, msg, wParam, lParam);\n    //x86\n//      boolean blan = OS.PostMessage((int)hWnd, msg, (int)wParam,  (int)lParam);\n    \n}\n}\n</code></pre>\n<p>then I got errors like this.</p>\n<pre><code>Exception in thread &quot;Thread-15&quot; java.lang.NoClassDefFoundError: Could\nnot initialize class com.sun.jna.platform.win32.WinBase\natcom.sun.jna.platform.win32.WinNT$HANDLE.fromNative(WinNT.java:1366) at com.sun.jna.NativeMappedConverter.fromNative(NativeMappedConverter.java:70)at com.sun.jna.Function.invoke(Function.java:370)at com.sun.jna.Library$Handler.invoke(Library.java:270)at com.sun.proxy.$Proxy0.FindWindow(Unknown Source)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7902850,"reputation":959,"user_id":5969346,"display_name":"Rehan Haider"},"score":0,"creation_date":1457770551,"post_id":35955245,"comment_id":59566327,"body_markdown":"Are you using escape sequence while passing special characters to replaceAll method?","body":"Are you using escape sequence while passing special characters to replaceAll method?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1457770651,"post_id":35955245,"comment_id":59566357,"body_markdown":"Why don&#39;t you just use `something = something.replace(&quot;\\\\&quot;, &quot;/&quot;);`?","body":"Why don&#39;t you just use <code>something = something.replace(&quot;\\\\&quot;, &quot;&#47;&quot;);</code>?"},{"owner":{"account_id":1019629,"reputation":14292,"user_id":1469259,"accept_rate":88,"display_name":"CupawnTae"},"score":0,"creation_date":1457773388,"post_id":35955245,"comment_id":59566992,"body_markdown":"Java&#39;s string replace methods are very poorly named. The choice of `replaceAll` to indicate the regex version makes no sense, and suggests that `replace` only makes a single substitution, which of course it doesn&#39;t. Aside: in this case the single-character version `something.replace(&#39;\\\\&#39;,&#39;/&#39;)` would also work.","body":"Java&#39;s string replace methods are very poorly named. The choice of <code>replaceAll</code> to indicate the regex version makes no sense, and suggests that <code>replace</code> only makes a single substitution, which of course it doesn&#39;t. Aside: in this case the single-character version <code>something.replace(&#39;\\\\&#39;,&#39;&#47;&#39;)</code> would also work."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1689205577,"post_id":35955245,"comment_id":135182009,"body_markdown":"Possibly related: *[How do I write a backslash (\\) in a string?](https://stackoverflow.com/questions/18532691/)* and [C# Escape Sequence List](https://stackoverflow.com/questions/323640/can-i-convert-a-c-sharp-string-value-to-an-escaped-string-literal/323664#323664).","body":"Possibly related: <i><a href=\"https://stackoverflow.com/questions/18532691/\">How do I write a backslash (&#41; in a string?</a></i> and <a href=\"https://stackoverflow.com/questions/323640/can-i-convert-a-c-sharp-string-value-to-an-escaped-string-literal/323664#323664\">C# Escape Sequence List</a>."}],"answers":[{"tags":[],"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1457771690,"creation_date":1457771690,"answer_id":35955478,"question_id":35955245,"body_markdown":"To replace backslashes with replaceAll you&#39;ll have to escape them properly in the regular expression that you are using.\r\n\r\nIn your case the correct expression would be:\r\n\r\n    final String path = &quot;C:\\\\Users\\\\SXR8036\\\\Downloads\\\\LANE-914.xls&quot;;\r\n    final String normalizedPath = path.replaceAll(&quot;\\\\\\\\&quot;, &quot;/&quot;);\r\n\r\nAs the backslash itself is the escape character in Java Strings it needs to be escaped twice to work as desired.\r\n\r\nIn general you can pass very complex regular expressions to `String.replaceAll`. See the JavaDocs of [java.lang.String.replaceAll][1] and especially [java.util.regex.Pattern][2] for more information.\r\n\r\n[1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replaceAll-java.lang.String-java.lang.String-\r\n[2]: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#sum","title":"Replace a special character string with another special character","body":"<p>To replace backslashes with replaceAll you'll have to escape them properly in the regular expression that you are using.</p>\n\n<p>In your case the correct expression would be:</p>\n\n<pre><code>final String path = \"C:\\\\Users\\\\SXR8036\\\\Downloads\\\\LANE-914.xls\";\nfinal String normalizedPath = path.replaceAll(\"\\\\\\\\\", \"/\");\n</code></pre>\n\n<p>As the backslash itself is the escape character in Java Strings it needs to be escaped twice to work as desired.</p>\n\n<p>In general you can pass very complex regular expressions to <code>String.replaceAll</code>. See the JavaDocs of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#replaceAll-java.lang.String-java.lang.String-\" rel=\"nofollow\">java.lang.String.replaceAll</a> and especially <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#sum\" rel=\"nofollow\">java.util.regex.Pattern</a> for more information.</p>\n"},{"comments":[{"owner":{"account_id":1019629,"reputation":14292,"user_id":1469259,"accept_rate":88,"display_name":"CupawnTae"},"score":0,"creation_date":1457773890,"post_id":35955654,"comment_id":59567130,"body_markdown":"Very interesting - I didn&#39;t know the `CharSequence` version uses regex under the hood - seems like a bizarre choice - wonder why they did that","body":"Very interesting - I didn&#39;t know the <code>CharSequence</code> version uses regex under the hood - seems like a bizarre choice - wonder why they did that"},{"owner":{"account_id":1397403,"reputation":12323,"user_id":1326913,"accept_rate":89,"display_name":"ᴇʟᴇvᴀтᴇ"},"score":0,"creation_date":1457774133,"post_id":35955654,"comment_id":59567201,"body_markdown":"Yeah, it&#39;s funny isn&#39;t it? You&#39;d think by using that method you&#39;d avoid the overhead of regex, but you don&#39;t. It&#39;s another reminder why you have to *profile* when you optimize and not make assumptions.","body":"Yeah, it&#39;s funny isn&#39;t it? You&#39;d think by using that method you&#39;d avoid the overhead of regex, but you don&#39;t. It&#39;s another reminder why you have to <i>profile</i> when you optimize and not make assumptions."},{"owner":{"account_id":1019629,"reputation":14292,"user_id":1469259,"accept_rate":88,"display_name":"CupawnTae"},"score":0,"creation_date":1457775406,"post_id":35955654,"comment_id":59567490,"body_markdown":"Digging around in the source a bit, it makes sense - `Pattern` has special-case code for dealing with literal patterns (`Pattern.LITERAL`), so it won&#39;t be doing *full* regex processing, and it makes sense not to duplicate the code/logic in both `String` and `Pattern`, so one of them *should* call the other for the `Pattern.LITERAL` case. `char` version is still better though.","body":"Digging around in the source a bit, it makes sense - <code>Pattern</code> has special-case code for dealing with literal patterns (<code>Pattern.LITERAL</code>), so it won&#39;t be doing <i>full</i> regex processing, and it makes sense not to duplicate the code/logic in both <code>String</code> and <code>Pattern</code>, so one of them <i>should</i> call the other for the <code>Pattern.LITERAL</code> case. <code>char</code> version is still better though."}],"tags":[],"owner":{"account_id":1397403,"reputation":12323,"user_id":1326913,"accept_rate":89,"display_name":"ᴇʟᴇvᴀтᴇ"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1457773627,"creation_date":1457773027,"answer_id":35955654,"question_id":35955245,"body_markdown":"It&#39;s better in this case to use non-regex `replace()` instead of regex `replaceAll()`. You don&#39;t need regular expressions for this replacement and it complicates things because it needs extra escapes. Backslash is a special character in Java and also in regular expressions, so in Java if you want a straight backslash you have to double it up `\\\\` and if you want a straight backslash in a regular expression in Java you have to quadruple it `\\\\\\\\`.\r\n\r\n    something = something.replace(&quot;\\\\&quot;, &quot;/&quot;);\r\n\r\nBehind the scenes, `replace(String, String)` uses regular expression patterns (at least in Oracle JDK) so has some overhead. In your specific case, you can actually use single character replacement, which may be more efficient (not that it probably matters!):\r\n\r\n    something = something.replace(&#39;\\\\&#39;, &#39;/&#39;);\r\n\r\nIf you were to use regular expressions:\r\n\r\n    something = something.replaceAll(&quot;\\\\\\\\&quot;, &quot;/&quot;);\r\n\r\nOr:\r\n\r\n    something = something.replaceAll(Pattern.quote(&quot;\\\\&quot;), &quot;/&quot;);\r\n","title":"Replace a special character string with another special character","body":"<p>It's better in this case to use non-regex <code>replace()</code> instead of regex <code>replaceAll()</code>. You don't need regular expressions for this replacement and it complicates things because it needs extra escapes. Backslash is a special character in Java and also in regular expressions, so in Java if you want a straight backslash you have to double it up <code>\\\\</code> and if you want a straight backslash in a regular expression in Java you have to quadruple it <code>\\\\\\\\</code>.</p>\n\n<pre><code>something = something.replace(\"\\\\\", \"/\");\n</code></pre>\n\n<p>Behind the scenes, <code>replace(String, String)</code> uses regular expression patterns (at least in Oracle JDK) so has some overhead. In your specific case, you can actually use single character replacement, which may be more efficient (not that it probably matters!):</p>\n\n<pre><code>something = something.replace('\\\\', '/');\n</code></pre>\n\n<p>If you were to use regular expressions:</p>\n\n<pre><code>something = something.replaceAll(\"\\\\\\\\\", \"/\");\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>something = something.replaceAll(Pattern.quote(\"\\\\\"), \"/\");\n</code></pre>\n"}],"owner":{"account_id":7339537,"reputation":57,"user_id":5589666,"accept_rate":83,"display_name":"rishav kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7749,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":35955654,"answer_count":2,"score":1,"last_activity_date":1689205453,"creation_date":1457769920,"question_id":35955245,"body_markdown":"I have a string which is a path taken dynamically from my system.\r\nI store it in a string.\r\n`C:\\Users\\SXR8036\\Downloads\\LANE-914.xls`\r\n\r\nI need to pass this path to a read Excel file function, but it needs the backslashes to be replaced with forward slash.\r\n\r\nAnd I want something like `C:/Users/SXR8036/Downloads/LANE-914.xls`,\r\ni.e., all backslashes replaced with forward ones.\r\n\r\nWith the String replace method, I am only able to replace with a-z characters, but it shows an error when I replace *special* characters.\r\n\r\n    something.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;/&quot;);\r\n\r\nI have to pass the String name to read a file.\r\n\r\n\r\n","title":"Replace a special character string with another special character","body":"<p>I have a string which is a path taken dynamically from my system.\nI store it in a string.\n<code>C:\\Users\\SXR8036\\Downloads\\LANE-914.xls</code></p>\n<p>I need to pass this path to a read Excel file function, but it needs the backslashes to be replaced with forward slash.</p>\n<p>And I want something like <code>C:/Users/SXR8036/Downloads/LANE-914.xls</code>,\ni.e., all backslashes replaced with forward ones.</p>\n<p>With the String replace method, I am only able to replace with a-z characters, but it shows an error when I replace <em>special</em> characters.</p>\n<pre><code>something.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;/&quot;);\n</code></pre>\n<p>I have to pass the String name to read a file.</p>\n"},{"tags":["java","spring","gradle","spring-boot"],"comments":[{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1530331978,"post_id":34724299,"comment_id":89210222,"body_markdown":"I get the same symptom loading the Spring Boot 2.0 apps from here:  https://github.com/bijukunjummen/boot2-load-demo","body":"I get the same symptom loading the Spring Boot 2.0 apps from here:  <a href=\"https://github.com/bijukunjummen/boot2-load-demo\" rel=\"nofollow noreferrer\">github.com/bijukunjummen/boot2-load-demo</a>"}],"answers":[{"comments":[{"owner":{"account_id":174940,"reputation":6518,"user_id":404604,"accept_rate":47,"display_name":"Psycho Punch"},"score":0,"creation_date":1452530713,"post_id":34725645,"comment_id":57199303,"body_markdown":"It&#39;s not working for me though. When I define a controller for example, it redirects me to an error page.","body":"It&#39;s not working for me though. When I define a controller for example, it redirects me to an error page."},{"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"score":2,"creation_date":1452535975,"post_id":34725645,"comment_id":57202544,"body_markdown":"Maybe your Application have an error somewhere then? What does it say? It&#39;s a 404? Where do you try to access the app?","body":"Maybe your Application have an error somewhere then? What does it say? It&#39;s a 404? Where do you try to access the app?"},{"owner":{"account_id":4733666,"reputation":1817,"user_id":3828593,"accept_rate":57,"display_name":"Vic Torious"},"score":1,"creation_date":1485806117,"post_id":34725645,"comment_id":71068783,"body_markdown":"In my case I cannot acces localhost:8080 but can indeed access the &quot;/greeting&quot; endpoint as shown in this startup guide: https://spring.io/guides/gs/rest-service/","body":"In my case I cannot acces localhost:8080 but can indeed access the &quot;/greeting&quot; endpoint as shown in this startup guide: <a href=\"https://spring.io/guides/gs/rest-service/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/rest-service</a>"},{"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"score":1,"creation_date":1485866331,"post_id":34725645,"comment_id":71094297,"body_markdown":"@VicTorious Do you have a controller for &quot;/&quot; or do you have an index.html added as a static resource? If not then you will get a 404 as a result when trying to access &quot;/&quot;.","body":"@VicTorious Do you have a controller for &quot;/&quot; or do you have an index.html added as a static resource? If not then you will get a 404 as a result when trying to access &quot;/&quot;."},{"owner":{"account_id":4733666,"reputation":1817,"user_id":3828593,"accept_rate":57,"display_name":"Vic Torious"},"score":0,"creation_date":1485953936,"post_id":34725645,"comment_id":71138313,"body_markdown":"@LakatosGyula well, I just followed the mentioned Guide - so no, I have neither of these. I actually thought, that in this case I should land at some kind of &quot;default Tomcat page&quot;.","body":"@LakatosGyula well, I just followed the mentioned Guide - so no, I have neither of these. I actually thought, that in this case I should land at some kind of &quot;default Tomcat page&quot;."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1689068489,"post_id":34725645,"comment_id":135157422,"body_markdown":"Well, it&#39;s a relief that *&quot;it&#39;s perfectly normal&quot;*, but at the same time, I disagree with that sentence. I wouldn&#39;t call a hanging progress indicator normal.","body":"Well, it&#39;s a relief that <i>&quot;it&#39;s perfectly normal&quot;</i>, but at the same time, I disagree with that sentence. I wouldn&#39;t call a hanging progress indicator normal."},{"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"score":0,"creation_date":1689328776,"post_id":34725645,"comment_id":135201159,"body_markdown":"@MCEmperor It is not hanging, merely waiting for your app to finish. As a webapp it will only happen once you kill it, but as a command line application, it might finish running in a couple of seconds for example.","body":"@MCEmperor It is not hanging, merely waiting for your app to finish. As a webapp it will only happen once you kill it, but as a command line application, it might finish running in a couple of seconds for example."}],"tags":[],"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"comment_count":7,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1452528375,"creation_date":1452527351,"answer_id":34725645,"question_id":34724299,"body_markdown":"It&#39;s actually running that&#39;s what the *Started QuickstartApplication in 5.312 seconds (JVM running for 6.091)* indicate.\r\n\r\nIgnore the *&gt; Building 80% &gt; :bootRun*. When you terminate the spring process some more cleanup things will run in gradle.\r\n\r\nI have a pretty big build process, mine prints *Started...* at 96%. :)\r\n\r\nIt&#39;s perfectly normal.","title":"Why does my Spring Boot web app not run completely in Gradle?","body":"<p>It's actually running that's what the <em>Started QuickstartApplication in 5.312 seconds (JVM running for 6.091)</em> indicate.</p>\n\n<p>Ignore the <em>> Building 80% > :bootRun</em>. When you terminate the spring process some more cleanup things will run in gradle.</p>\n\n<p>I have a pretty big build process, mine prints <em>Started...</em> at 96%. :)</p>\n\n<p>It's perfectly normal.</p>\n"},{"tags":[],"owner":{"account_id":9911462,"reputation":51,"user_id":9341117,"display_name":"Lightz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689205279,"creation_date":1689067783,"answer_id":76660533,"question_id":34724299,"body_markdown":"Spring Boot Web App can run in Gradle.  \r\nIt could be that your IDE does not support Spring project.  \r\n\r\nRegarding SpringBoot Setup, you may follow these steps from my GitHub Project:\r\nhttps://github.com/worldpeacez0991/SpringBoot_demo1\r\n\r\nGive a star to my project if it helps you :)","title":"Why does my Spring Boot web app not run completely in Gradle?","body":"<p>Spring Boot Web App can run in Gradle.<br />\nIt could be that your IDE does not support Spring project.</p>\n<p>Regarding SpringBoot Setup, you may follow these steps from my GitHub Project:\n<a href=\"https://github.com/worldpeacez0991/SpringBoot_demo1\" rel=\"nofollow noreferrer\">https://github.com/worldpeacez0991/SpringBoot_demo1</a></p>\n<p>Give a star to my project if it helps you :)</p>\n"}],"owner":{"account_id":174940,"reputation":6518,"user_id":404604,"accept_rate":47,"display_name":"Psycho Punch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17521,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":34725645,"answer_count":2,"score":27,"last_activity_date":1689205279,"creation_date":1452523685,"question_id":34724299,"body_markdown":"I&#39;ve been trying to set up a new Spring Boot Web application using the following command:\r\n\r\n    spring init --java-version=1.7 --build=gradle --packaging=war --groupId=me.psychopunch.lab.springboot --artifactId=sample --name=quickstart sample\r\n\r\nHowever, when I trying running the generated code using: `gradle bootRun`, I build does not complete, and does not throw error either. I only get:\r\n\r\n    ...\r\n    2016-01-11 22:44:28.127  INFO 3579 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\r\n    2016-01-11 22:44:28.260  INFO 3579 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)\r\n    2016-01-11 22:44:28.266  INFO 3579 --- [           main] com.example.QuickstartApplication        : Started QuickstartApplication in 5.312 seconds (JVM running for 6.091)\r\n    &gt; Building 80% &gt; :bootRun\r\n\r\nThe build gets stuck at around 80%. Sometimes it&#39;s 83%, 85%, etc. but it won&#39;t complete up to 100%. What am I doing wrong here?","title":"Why does my Spring Boot web app not run completely in Gradle?","body":"<p>I've been trying to set up a new Spring Boot Web application using the following command:</p>\n\n<pre><code>spring init --java-version=1.7 --build=gradle --packaging=war --groupId=me.psychopunch.lab.springboot --artifactId=sample --name=quickstart sample\n</code></pre>\n\n<p>However, when I trying running the generated code using: <code>gradle bootRun</code>, I build does not complete, and does not throw error either. I only get:</p>\n\n<pre><code>...\n2016-01-11 22:44:28.127  INFO 3579 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\n2016-01-11 22:44:28.260  INFO 3579 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)\n2016-01-11 22:44:28.266  INFO 3579 --- [           main] com.example.QuickstartApplication        : Started QuickstartApplication in 5.312 seconds (JVM running for 6.091)\n&gt; Building 80% &gt; :bootRun\n</code></pre>\n\n<p>The build gets stuck at around 80%. Sometimes it's 83%, 85%, etc. but it won't complete up to 100%. What am I doing wrong here?</p>\n"},{"tags":["java","spring","spring-cloud","netflix-eureka"],"answers":[{"tags":[],"owner":{"account_id":26313377,"reputation":21,"user_id":19976554,"display_name":"Danni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689202633,"creation_date":1689202633,"answer_id":76674932,"question_id":75760470,"body_markdown":"I think easier to add alias to containers and pass that in properties.\r\n\r\nHere is my code:  \r\nyml:\r\n\r\n    spring:\r\n      config:\r\n        activate:\r\n          on-profile: peer1\r\n    server:\r\n      port: 8761\r\n    eureka:\r\n      instance:\r\n        hostname: peer1\r\n        statusPageUrl: https://${eureka.instance.hostname}/info\r\n        healthCheckUrl: https://${eureka.instance.hostname}/health\r\n      client:\r\n        serviceUrl:\r\n          defaultZone: http://peer2:8762/eureka/\r\n    ---\r\n    spring:\r\n      config:\r\n        activate:\r\n          on-profile: peer2\r\n    server:\r\n      port: 8762\r\n    eureka:\r\n      instance:\r\n        hostname: peer2\r\n        statusPageUrl: https://${eureka.instance.hostname}/info\r\n        healthCheckUrl: https://${eureka.instance.hostname}/health\r\n      client:\r\n        serviceUrl:\r\n          defaultZone: http://peer1:8761/eureka/\r\n\r\nand the compose:\r\n  \r\n  \r\n\r\n    eureka-server1:\r\n        container_name: eureka-server\r\n        image: YOUR IMAGE\r\n        build:\r\n          dockerfile: Dockerfile\r\n        ports:\r\n          - 8761:8761\r\n        environment:\r\n          - SPRING_PROFILES_ACTIVE=peer1\r\n        networks:\r\n          ant:\r\n            aliases:\r\n              - peer1\r\n        volumes:\r\n          - &quot;/etc/timezone:/etc/timezone:ro&quot;\r\n          - &quot;/etc/localtime:/etc/localtime:ro&quot;\r\n        restart: always\r\n    \r\n      eureka-server2:\r\n          container_name: eureka-server2\r\n          image: YOUR IMAGE\r\n          build:\r\n            dockerfile: Dockerfile\r\n          ports:\r\n            - 8762:8762\r\n          environment:\r\n            - SPRING_PROFILES_ACTIVE=peer2\r\n          networks:\r\n            ant:\r\n              aliases:\r\n                - peer2\r\n          volumes:\r\n            - &quot;/etc/timezone:/etc/timezone:ro&quot;\r\n            - &quot;/etc/localtime:/etc/localtime:ro&quot;\r\n          restart: always\r\n\r\n[![eureka show available replicas][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MZC2G.png\r\n\r\nHope it helps ","title":"Eureka unavailable-replicas","body":"<p>I think easier to add alias to containers and pass that in properties.</p>\n<p>Here is my code:<br />\nyml:</p>\n<pre><code>spring:\n  config:\n    activate:\n      on-profile: peer1\nserver:\n  port: 8761\neureka:\n  instance:\n    hostname: peer1\n    statusPageUrl: https://${eureka.instance.hostname}/info\n    healthCheckUrl: https://${eureka.instance.hostname}/health\n  client:\n    serviceUrl:\n      defaultZone: http://peer2:8762/eureka/\n---\nspring:\n  config:\n    activate:\n      on-profile: peer2\nserver:\n  port: 8762\neureka:\n  instance:\n    hostname: peer2\n    statusPageUrl: https://${eureka.instance.hostname}/info\n    healthCheckUrl: https://${eureka.instance.hostname}/health\n  client:\n    serviceUrl:\n      defaultZone: http://peer1:8761/eureka/\n</code></pre>\n<p>and the compose:</p>\n<pre><code>eureka-server1:\n    container_name: eureka-server\n    image: YOUR IMAGE\n    build:\n      dockerfile: Dockerfile\n    ports:\n      - 8761:8761\n    environment:\n      - SPRING_PROFILES_ACTIVE=peer1\n    networks:\n      ant:\n        aliases:\n          - peer1\n    volumes:\n      - &quot;/etc/timezone:/etc/timezone:ro&quot;\n      - &quot;/etc/localtime:/etc/localtime:ro&quot;\n    restart: always\n\n  eureka-server2:\n      container_name: eureka-server2\n      image: YOUR IMAGE\n      build:\n        dockerfile: Dockerfile\n      ports:\n        - 8762:8762\n      environment:\n        - SPRING_PROFILES_ACTIVE=peer2\n      networks:\n        ant:\n          aliases:\n            - peer2\n      volumes:\n        - &quot;/etc/timezone:/etc/timezone:ro&quot;\n        - &quot;/etc/localtime:/etc/localtime:ro&quot;\n      restart: always\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/MZC2G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MZC2G.png\" alt=\"eureka show available replicas\" /></a></p>\n<p>Hope it helps</p>\n"}],"owner":{"account_id":4342698,"reputation":1507,"user_id":3545570,"accept_rate":58,"display_name":"VladRia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689202633,"creation_date":1678992325,"question_id":75760470,"body_markdown":"I created two instances of Eureka using Docker containers. It works like a charm:\r\n\r\n- a service A registers with an Eureka instance 1\r\n- a service B registers with an Eureka instance 2\r\n- The Eureka instance 1 shows the services A and B =&gt; replication works\r\n- The Eureka instance 2 shows the services A and B =&gt; replication works\r\n- The service A discovers service B and makes a HTTP request successfully\r\n\r\nBut I cannot make neither instance of Eureka to show another one in `available-replicas`. The instance 1 shows the instance 2 in `registered-replicas` and `unavailable-replicas`. \r\n\r\nHere is my code: https://github.com/vria/eureka-cluster-example\r\n\r\nThank you in advance folks.\r\n\r\nP.S. I&#39;ve read the docs and other suggestions on Stackoverflow. My instances have the same name and different hostnames. Replication seems to work. But still.","title":"Eureka unavailable-replicas","body":"<p>I created two instances of Eureka using Docker containers. It works like a charm:</p>\n<ul>\n<li>a service A registers with an Eureka instance 1</li>\n<li>a service B registers with an Eureka instance 2</li>\n<li>The Eureka instance 1 shows the services A and B =&gt; replication works</li>\n<li>The Eureka instance 2 shows the services A and B =&gt; replication works</li>\n<li>The service A discovers service B and makes a HTTP request successfully</li>\n</ul>\n<p>But I cannot make neither instance of Eureka to show another one in <code>available-replicas</code>. The instance 1 shows the instance 2 in <code>registered-replicas</code> and <code>unavailable-replicas</code>.</p>\n<p>Here is my code: <a href=\"https://github.com/vria/eureka-cluster-example\" rel=\"nofollow noreferrer\">https://github.com/vria/eureka-cluster-example</a></p>\n<p>Thank you in advance folks.</p>\n<p>P.S. I've read the docs and other suggestions on Stackoverflow. My instances have the same name and different hostnames. Replication seems to work. But still.</p>\n"},{"tags":["java","gradle","checkstyle"],"answers":[{"comments":[{"owner":{"account_id":4648836,"reputation":5096,"user_id":3766231,"accept_rate":95,"display_name":"iam.Carrot"},"score":1,"creation_date":1689210031,"post_id":76674908,"comment_id":135182366,"body_markdown":"Marking the answer as accepted because it was the right root cause. For anyone stumbling here, checkout [this answer on stack](https://stackoverflow.com/a/64275624/3766231) for a complete list of fixes","body":"Marking the answer as accepted because it was the right root cause. For anyone stumbling here, checkout <a href=\"https://stackoverflow.com/a/64275624/3766231\">this answer on stack</a> for a complete list of fixes"}],"tags":[],"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689202301,"creation_date":1689202301,"answer_id":76674908,"question_id":76674786,"body_markdown":"The `SuppressionCommentFilter` after the version 8.1 of checkstyle is no longer child of `Checker` but `TreeWalker` instead. \r\n\r\nThis breaking change is described in the [release notes][1] for 8.1\r\n\r\n[Here][2] is the PR for the changes along with a sugestion on how to migrate the `SuppressionCommentFilter` in the newer versions with an [example][3]:\r\n\r\n&gt; SuppressWithNearbyCommentFilter - just move config part under TreeWalker (from Checker).\r\nSuppressCommentFilter - Unfortunately we caused regression by this fix till 8.6 version for SuppressCommentFilter, upgrade is to use new Filter http://checkstyle.sourceforge.net/config_filters.html#SuppressWithPlainTextCommentFilter - just rename name of module. SuppressCommentFilter become a bit different Filter by functionality - become java code related only (can not suppress violations in comments anymore).\r\n\r\n\r\n  [1]: https://checkstyle.sourceforge.io/releasenotes_old_8-0_8-34.html\r\n  [2]: https://github.com/checkstyle/checkstyle/issues/4714\r\n  [3]: https://github.com/OpenGamma/OG-Tools/commit/7fc6a37016ab41c7c51e71879c51d3d0fd5add50","title":"Checkstyle not working: SuppressionCommentFilter is not allowed as a child in Checker","body":"<p>The <code>SuppressionCommentFilter</code> after the version 8.1 of checkstyle is no longer child of <code>Checker</code> but <code>TreeWalker</code> instead.</p>\n<p>This breaking change is described in the <a href=\"https://checkstyle.sourceforge.io/releasenotes_old_8-0_8-34.html\" rel=\"nofollow noreferrer\">release notes</a> for 8.1</p>\n<p><a href=\"https://github.com/checkstyle/checkstyle/issues/4714\" rel=\"nofollow noreferrer\">Here</a> is the PR for the changes along with a sugestion on how to migrate the <code>SuppressionCommentFilter</code> in the newer versions with an <a href=\"https://github.com/OpenGamma/OG-Tools/commit/7fc6a37016ab41c7c51e71879c51d3d0fd5add50\" rel=\"nofollow noreferrer\">example</a>:</p>\n<blockquote>\n<p>SuppressWithNearbyCommentFilter - just move config part under TreeWalker (from Checker).\nSuppressCommentFilter - Unfortunately we caused regression by this fix till 8.6 version for SuppressCommentFilter, upgrade is to use new Filter <a href=\"http://checkstyle.sourceforge.net/config_filters.html#SuppressWithPlainTextCommentFilter\" rel=\"nofollow noreferrer\">http://checkstyle.sourceforge.net/config_filters.html#SuppressWithPlainTextCommentFilter</a> - just rename name of module. SuppressCommentFilter become a bit different Filter by functionality - become java code related only (can not suppress violations in comments anymore).</p>\n</blockquote>\n"}],"owner":{"account_id":4648836,"reputation":5096,"user_id":3766231,"accept_rate":95,"display_name":"iam.Carrot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76674908,"answer_count":1,"score":0,"last_activity_date":1689202301,"creation_date":1689200107,"question_id":76674786,"body_markdown":"Hey trying to get hands on with checkstyle,  am trying to use the below checkstyle config:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;!DOCTYPE module PUBLIC\r\n        &quot;-//Puppy Crawl//DTD Check Configuration 1.2//EN&quot;\r\n        &quot;https://www.puppycrawl.com/dtds/configuration_1_2.dtd&quot;&gt;\r\n\r\n&lt;module name=&quot;Checker&quot;&gt;\r\n    &lt;property name=&quot;basedir&quot; value=&quot;${basedir}&quot;/&gt;\r\n    &lt;!-- Checks that a package.html file exists for each package.     --&gt;\r\n    &lt;!-- See http://checkstyle.sf.net/config_javadoc.html#JavadocPackage --&gt;\r\n    &lt;module name=&quot;JavadocPackage&quot;&gt;\r\n        &lt;property name=&quot;allowLegacy&quot; value=&quot;${checkstyle.legacypackagedocs}&quot;\r\n                  default=&quot;true&quot; /&gt;\r\n    &lt;/module&gt;\r\n\r\n    &lt;!-- Checks whether files end with a new line.                        --&gt;\r\n    &lt;!-- See http://checkstyle.sf.net/config_misc.html#NewlineAtEndOfFile --&gt;\r\n    &lt;module name=&quot;NewlineAtEndOfFile&quot;/&gt;\r\n\r\n    &lt;!-- Allows the suppression of checkstyle event violations within a block. --&gt;\r\n    &lt;!--  More here  http://checkstyle.sourceforge.net/config_filters.html#SuppressionCommentFilter --&gt;\r\n    &lt;module name=&quot;SuppressionCommentFilter&quot;/&gt;\r\n\r\n\r\n    &lt;!-- Checks that property files contain the same keys.         --&gt;\r\n    &lt;!-- See http://checkstyle.sf.net/config_misc.html#Translation --&gt;\r\n    &lt;module name=&quot;Translation&quot;/&gt;\r\n\r\n    &lt;!-- Checks for Size Violations.                    --&gt;\r\n    &lt;!-- See http://checkstyle.sf.net/config_sizes.html --&gt;\r\n    &lt;module name=&quot;FileLength&quot;/&gt;\r\n\r\n    &lt;!-- Checks for whitespace                               --&gt;\r\n    &lt;!-- See http://checkstyle.sf.net/config_whitespace.html --&gt;\r\n    &lt;module name=&quot;FileTabCharacter&quot;/&gt;\r\n    &lt;module name=&quot;RegexpSingleline&quot;&gt;\r\n        &lt;property name=&quot;format&quot; value=&quot;\\s+$&quot;/&gt;\r\n        &lt;property name=&quot;message&quot; value=&quot;Line has trailing spaces.&quot;/&gt;\r\n    &lt;/module&gt;\r\n\r\n    &lt;module name=&quot;SuppressionFilter&quot;&gt;\r\n        &lt;property name=&quot;file&quot; value=&quot;${checkstyle.suppression.filter}&quot; /&gt;\r\n    &lt;/module&gt;\r\n\r\n    &lt;module name=&quot;SuppressionCommentFilter&quot;&gt;\r\n        &lt;property name=&quot;offCommentFormat&quot; value=&quot;CHECKSTYLE\\:SUPPRESS\\:([\\w\\|]+)&quot;/&gt;\r\n        &lt;property name=&quot;onCommentFormat&quot; value=&quot;CHECKSTYLE\\:UNSUPPRESS\\:([\\w\\|]+)$&quot;/&gt;\r\n        &lt;property name=&quot;checkFormat&quot; value=&quot;$1&quot;/&gt;\r\n    &lt;/module&gt;\r\n\r\n    &lt;module name=&quot;SuppressWarningsFilter&quot; /&gt;\r\n    &lt;module name=&quot;TreeWalker&quot;&gt;\r\n        &lt;!-- Make comments available for the suppression comment filter. --&gt;\r\n        &lt;module name=&quot;FileContentsHolder&quot;/&gt;\r\n        &lt;module name=&quot;SuppressWarningsHolder&quot; /&gt;\r\n\r\n        &lt;!-- Checks for Javadoc comments.                     --&gt;\r\n        &lt;!-- See http://checkstyle.sf.net/config_javadoc.html --&gt;\r\n        &lt;module name=&quot;JavadocMethod&quot;&gt;\r\n            &lt;property name=&quot;allowUndeclaredRTE&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;scope&quot; value=&quot;package&quot; /&gt;\r\n        &lt;/module&gt;\r\n        &lt;module name=&quot;JavadocType&quot;&gt;\r\n            &lt;property name=&quot;scope&quot; value=&quot;package&quot; /&gt;\r\n        &lt;/module&gt;\r\n        &lt;module name=&quot;JavadocStyle&quot;&gt;\r\n            &lt;property name=&quot;checkFirstSentence&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;checkEmptyJavadoc&quot; value=&quot;true&quot; /&gt;\r\n        &lt;/module&gt;\r\n\r\n        &lt;!-- Checks for Naming Conventions.                  --&gt;\r\n        &lt;!-- See http://checkstyle.sf.net/config_naming.html --&gt;\r\n        &lt;module name=&quot;ConstantName&quot;&gt;\r\n            &lt;property name=&quot;format&quot; value=&quot;^[A-Z][A-Z0-9]*(_[A-Z0-9]+)*$|^log$&quot; /&gt;\r\n        &lt;/module&gt;\r\n        &lt;module name=&quot;LocalFinalVariableName&quot;/&gt;\r\n        &lt;module name=&quot;LocalVariableName&quot;/&gt;\r\n        &lt;module name=&quot;MemberName&quot;/&gt;\r\n        &lt;module name=&quot;MethodName&quot;/&gt;\r\n        &lt;module name=&quot;PackageName&quot;/&gt;\r\n        &lt;module name=&quot;ParameterName&quot;/&gt;\r\n        &lt;module name=&quot;StaticVariableName&quot;/&gt;\r\n        &lt;module name=&quot;TypeName&quot;/&gt;\r\n\r\n        &lt;!-- Checks for imports                              --&gt;\r\n        &lt;!-- See http://checkstyle.sf.net/config_import.html --&gt;\r\n        &lt;module name=&quot;AvoidStarImport&quot;/&gt;\r\n        &lt;module name=&quot;IllegalImport&quot;/&gt; &lt;!-- defaults to sun.* packages --&gt;\r\n        &lt;module name=&quot;RedundantImport&quot;/&gt;\r\n        &lt;module name=&quot;UnusedImports&quot;/&gt;\r\n\r\n        &lt;!-- Checks for Size Violations.                    --&gt;\r\n        &lt;!-- See http://checkstyle.sf.net/config_sizes.html --&gt;\r\n        &lt;module name=&quot;LineLength&quot;&gt;\r\n            &lt;property name=&quot;max&quot; value=&quot;${checkstyle.linelength}&quot; default=&quot;150&quot;/&gt;\r\n            &lt;property name=&quot;ignorePattern&quot; value=&quot;(^ *\\** *\\$Id\\:)|(^(package|import) .*)&quot;/&gt;\r\n        &lt;/module&gt;\r\n        &lt;module name=&quot;MethodLength&quot;/&gt;\r\n        &lt;module name=&quot;ParameterNumber&quot;&gt;\r\n            &lt;property name=&quot;max&quot; value=&quot;9&quot; /&gt;\r\n        &lt;/module&gt;\r\n        &lt;module name=&quot;ReturnCount&quot;&gt;\r\n            &lt;property name=&quot;max&quot; value=&quot;3&quot; /&gt;\r\n        &lt;/module&gt;\r\n\r\n        &lt;!-- Checks for whitespace                               --&gt;\r\n        &lt;!-- See http://checkstyle.sf.net/config_whitespace.html --&gt;\r\n        &lt;module name=&quot;EmptyForIteratorPad&quot;/&gt;\r\n        &lt;module name=&quot;GenericWhitespace&quot;/&gt;\r\n        &lt;module name=&quot;MethodParamPad&quot;/&gt;\r\n        &lt;module name=&quot;NoWhitespaceAfter&quot;/&gt;\r\n        &lt;module name=&quot;NoWhitespaceBefore&quot;/&gt;\r\n        &lt;module name=&quot;OperatorWrap&quot;/&gt;\r\n        &lt;module name=&quot;ParenPad&quot;/&gt;\r\n        &lt;module name=&quot;TypecastParenPad&quot;/&gt;\r\n        &lt;module name=&quot;WhitespaceAfter&quot;&gt;\r\n            &lt;property name=&quot;tokens&quot; value=&quot;COMMA, SEMI&quot; /&gt;\r\n        &lt;/module&gt;\r\n        &lt;!-- Enforce WhitespaceAround the usual tokens, except GENERIC_*. --&gt;\r\n        &lt;module name=&quot;WhitespaceAround&quot;&gt;\r\n            &lt;property\r\n                    name=&quot;tokens&quot;\r\n                    value=&quot;ASSIGN, BAND, BAND_ASSIGN, BOR, BOR_ASSIGN, BSR,\r\n                     BSR_ASSIGN, BXOR, BXOR_ASSIGN, COLON, DIV, DIV_ASSIGN,\r\n                     EQUAL, GE, GT, LAND, LCURLY, LE, LITERAL_ASSERT,\r\n                     LITERAL_CATCH, LITERAL_DO, LITERAL_ELSE, LITERAL_FINALLY,\r\n                     LITERAL_FOR, LITERAL_IF, LITERAL_RETURN,\r\n                     LITERAL_SYNCHRONIZED, LITERAL_TRY, LITERAL_WHILE, LOR,\r\n                     LT, MINUS, MINUS_ASSIGN, MOD, MOD_ASSIGN, NOT_EQUAL,\r\n                     PLUS, PLUS_ASSIGN, QUESTION, RCURLY, SL, SLIST, SL_ASSIGN,\r\n                     SR, SR_ASSIGN, STAR, STAR_ASSIGN, TYPE_EXTENSION_AND&quot;/&gt;\r\n        &lt;/module&gt;\r\n\r\n        &lt;!-- Modifier Checks                                    --&gt;\r\n        &lt;!-- See http://checkstyle.sf.net/config_modifiers.html --&gt;\r\n        &lt;module name=&quot;ModifierOrder&quot;/&gt;\r\n        &lt;module name=&quot;RedundantModifier&quot;/&gt;\r\n\r\n        &lt;!-- Checks for blocks. You know, those {}&#39;s         --&gt;\r\n        &lt;!-- See http://checkstyle.sf.net/config_blocks.html --&gt;\r\n        &lt;module name=&quot;EmptyBlock&quot;/&gt;\r\n        &lt;module name=&quot;LeftCurly&quot;/&gt;\r\n        &lt;module name=&quot;NeedBraces&quot;/&gt;\r\n        &lt;module name=&quot;RightCurly&quot;/&gt;\r\n\r\n        &lt;!-- Checks for common coding problems               --&gt;\r\n        &lt;!-- See http://checkstyle.sf.net/config_coding.html --&gt;\r\n        &lt;module name=&quot;EmptyStatement&quot;/&gt;\r\n        &lt;module name=&quot;EqualsHashCode&quot;/&gt;\r\n        &lt;module name=&quot;HiddenField&quot;&gt;\r\n            &lt;property name=&quot;ignoreSetter&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;ignoreConstructorParameter&quot; value=&quot;true&quot;/&gt;\r\n        &lt;/module&gt;\r\n        \r\n        &lt;module name=&quot;IllegalImport&quot;&gt;\r\n            &lt;property name=&quot;illegalPkgs&quot;\r\n                      value=&quot;edu.emory.mathcs.backport,\r\n         org.joda,\r\n         sun, com.sun&quot;/&gt;\r\n        &lt;/module&gt;\r\n\r\n        &lt;module name=&quot;IllegalInstantiation&quot;/&gt;\r\n        &lt;module name=&quot;InnerAssignment&quot;/&gt;\r\n        &lt;module name=&quot;MagicNumber&quot;/&gt;\r\n        &lt;module name=&quot;MissingSwitchDefault&quot;/&gt;\r\n        &lt;module name=&quot;SimplifyBooleanExpression&quot;/&gt;\r\n        &lt;module name=&quot;SimplifyBooleanReturn&quot;/&gt;\r\n\r\n        &lt;!-- Checks for class design                         --&gt;\r\n        &lt;!-- See http://checkstyle.sf.net/config_design.html --&gt;\r\n        &lt;module name=&quot;FinalClass&quot;/&gt;\r\n        &lt;module name=&quot;HideUtilityClassConstructor&quot;/&gt;\r\n        &lt;module name=&quot;InterfaceIsType&quot;/&gt;\r\n        &lt;module name=&quot;VisibilityModifier&quot;&gt;\r\n            &lt;property name=&quot;protectedAllowed&quot; value=&quot;true&quot; /&gt;\r\n        &lt;/module&gt;\r\n\r\n        &lt;!-- Miscellaneous other checks.                   --&gt;\r\n        &lt;!-- See http://checkstyle.sf.net/config_misc.html --&gt;\r\n        &lt;module name=&quot;ArrayTypeStyle&quot;/&gt;\r\n        &lt;module name=&quot;FinalParameters&quot;/&gt;\r\n        &lt;module name=&quot;TodoComment&quot;&gt;\r\n            &lt;property name=&quot;severity&quot; value=&quot;info&quot;/&gt;\r\n        &lt;/module&gt;\r\n        &lt;module name=&quot;UpperEll&quot;/&gt;\r\n\r\n    &lt;/module&gt;\r\n\r\n&lt;/module&gt;\r\n```\r\n\r\nI keep getting the error: `Unable to create Root Module: config {MY_PATH}`. When I used `./gradlew checkstyleMain -s` I get the exception:\r\n\r\n```\r\nCaused by: com.puppycrawl.tools.checkstyle.api.CheckstyleException: SuppressionCommentFilter is not allowed as a child in Checker\r\n        at com.puppycrawl.tools.checkstyle.Checker.setupChild(Checker.java:496)\r\n        at com.puppycrawl.tools.checkstyle.api.AutomaticBean.configure(AutomaticBean.java:201)\r\n        at com.puppycrawl.tools.checkstyle.ant.CheckstyleAntTask.createRootModule(CheckstyleAntTask.java:424)\r\n        ... 39 more\r\n\r\n```\r\n\r\nI went through the other answers but something or the other keeps breaking. I need help.\r\n\r\n```\r\nGradle: 7.6.1\r\nKotlin: 1.7.10\r\nGroovy: 3.0.13\r\nCheckstyle: 8.45.1\r\n```\r\n\r\nBelow is my checkstyle plugin definition:\r\n```\r\ncheckstyle {\r\n    toolVersion = &quot;8.45.1&quot;\r\n    isIgnoreFailures = false\r\n    sourceSets = listOf(the&lt;SourceSetContainer&gt;()[&quot;main&quot;])\r\n    configFile = file(&quot;checkstyle/checkstyle-rules.xml&quot;)\r\n\r\n    val suppressionFile = file(&quot;checkstyle/checkstyle-suppressions.xml&quot;)\r\n    configProperties[&quot;checkstyle.suppression.filter&quot;] = suppressionFile\r\n}\r\n```","title":"Checkstyle not working: SuppressionCommentFilter is not allowed as a child in Checker","body":"<p>Hey trying to get hands on with checkstyle,  am trying to use the below checkstyle config:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!DOCTYPE module PUBLIC\n        &quot;-//Puppy Crawl//DTD Check Configuration 1.2//EN&quot;\n        &quot;https://www.puppycrawl.com/dtds/configuration_1_2.dtd&quot;&gt;\n\n&lt;module name=&quot;Checker&quot;&gt;\n    &lt;property name=&quot;basedir&quot; value=&quot;${basedir}&quot;/&gt;\n    &lt;!-- Checks that a package.html file exists for each package.     --&gt;\n    &lt;!-- See http://checkstyle.sf.net/config_javadoc.html#JavadocPackage --&gt;\n    &lt;module name=&quot;JavadocPackage&quot;&gt;\n        &lt;property name=&quot;allowLegacy&quot; value=&quot;${checkstyle.legacypackagedocs}&quot;\n                  default=&quot;true&quot; /&gt;\n    &lt;/module&gt;\n\n    &lt;!-- Checks whether files end with a new line.                        --&gt;\n    &lt;!-- See http://checkstyle.sf.net/config_misc.html#NewlineAtEndOfFile --&gt;\n    &lt;module name=&quot;NewlineAtEndOfFile&quot;/&gt;\n\n    &lt;!-- Allows the suppression of checkstyle event violations within a block. --&gt;\n    &lt;!--  More here  http://checkstyle.sourceforge.net/config_filters.html#SuppressionCommentFilter --&gt;\n    &lt;module name=&quot;SuppressionCommentFilter&quot;/&gt;\n\n\n    &lt;!-- Checks that property files contain the same keys.         --&gt;\n    &lt;!-- See http://checkstyle.sf.net/config_misc.html#Translation --&gt;\n    &lt;module name=&quot;Translation&quot;/&gt;\n\n    &lt;!-- Checks for Size Violations.                    --&gt;\n    &lt;!-- See http://checkstyle.sf.net/config_sizes.html --&gt;\n    &lt;module name=&quot;FileLength&quot;/&gt;\n\n    &lt;!-- Checks for whitespace                               --&gt;\n    &lt;!-- See http://checkstyle.sf.net/config_whitespace.html --&gt;\n    &lt;module name=&quot;FileTabCharacter&quot;/&gt;\n    &lt;module name=&quot;RegexpSingleline&quot;&gt;\n        &lt;property name=&quot;format&quot; value=&quot;\\s+$&quot;/&gt;\n        &lt;property name=&quot;message&quot; value=&quot;Line has trailing spaces.&quot;/&gt;\n    &lt;/module&gt;\n\n    &lt;module name=&quot;SuppressionFilter&quot;&gt;\n        &lt;property name=&quot;file&quot; value=&quot;${checkstyle.suppression.filter}&quot; /&gt;\n    &lt;/module&gt;\n\n    &lt;module name=&quot;SuppressionCommentFilter&quot;&gt;\n        &lt;property name=&quot;offCommentFormat&quot; value=&quot;CHECKSTYLE\\:SUPPRESS\\:([\\w\\|]+)&quot;/&gt;\n        &lt;property name=&quot;onCommentFormat&quot; value=&quot;CHECKSTYLE\\:UNSUPPRESS\\:([\\w\\|]+)$&quot;/&gt;\n        &lt;property name=&quot;checkFormat&quot; value=&quot;$1&quot;/&gt;\n    &lt;/module&gt;\n\n    &lt;module name=&quot;SuppressWarningsFilter&quot; /&gt;\n    &lt;module name=&quot;TreeWalker&quot;&gt;\n        &lt;!-- Make comments available for the suppression comment filter. --&gt;\n        &lt;module name=&quot;FileContentsHolder&quot;/&gt;\n        &lt;module name=&quot;SuppressWarningsHolder&quot; /&gt;\n\n        &lt;!-- Checks for Javadoc comments.                     --&gt;\n        &lt;!-- See http://checkstyle.sf.net/config_javadoc.html --&gt;\n        &lt;module name=&quot;JavadocMethod&quot;&gt;\n            &lt;property name=&quot;allowUndeclaredRTE&quot; value=&quot;true&quot; /&gt;\n            &lt;property name=&quot;scope&quot; value=&quot;package&quot; /&gt;\n        &lt;/module&gt;\n        &lt;module name=&quot;JavadocType&quot;&gt;\n            &lt;property name=&quot;scope&quot; value=&quot;package&quot; /&gt;\n        &lt;/module&gt;\n        &lt;module name=&quot;JavadocStyle&quot;&gt;\n            &lt;property name=&quot;checkFirstSentence&quot; value=&quot;true&quot; /&gt;\n            &lt;property name=&quot;checkEmptyJavadoc&quot; value=&quot;true&quot; /&gt;\n        &lt;/module&gt;\n\n        &lt;!-- Checks for Naming Conventions.                  --&gt;\n        &lt;!-- See http://checkstyle.sf.net/config_naming.html --&gt;\n        &lt;module name=&quot;ConstantName&quot;&gt;\n            &lt;property name=&quot;format&quot; value=&quot;^[A-Z][A-Z0-9]*(_[A-Z0-9]+)*$|^log$&quot; /&gt;\n        &lt;/module&gt;\n        &lt;module name=&quot;LocalFinalVariableName&quot;/&gt;\n        &lt;module name=&quot;LocalVariableName&quot;/&gt;\n        &lt;module name=&quot;MemberName&quot;/&gt;\n        &lt;module name=&quot;MethodName&quot;/&gt;\n        &lt;module name=&quot;PackageName&quot;/&gt;\n        &lt;module name=&quot;ParameterName&quot;/&gt;\n        &lt;module name=&quot;StaticVariableName&quot;/&gt;\n        &lt;module name=&quot;TypeName&quot;/&gt;\n\n        &lt;!-- Checks for imports                              --&gt;\n        &lt;!-- See http://checkstyle.sf.net/config_import.html --&gt;\n        &lt;module name=&quot;AvoidStarImport&quot;/&gt;\n        &lt;module name=&quot;IllegalImport&quot;/&gt; &lt;!-- defaults to sun.* packages --&gt;\n        &lt;module name=&quot;RedundantImport&quot;/&gt;\n        &lt;module name=&quot;UnusedImports&quot;/&gt;\n\n        &lt;!-- Checks for Size Violations.                    --&gt;\n        &lt;!-- See http://checkstyle.sf.net/config_sizes.html --&gt;\n        &lt;module name=&quot;LineLength&quot;&gt;\n            &lt;property name=&quot;max&quot; value=&quot;${checkstyle.linelength}&quot; default=&quot;150&quot;/&gt;\n            &lt;property name=&quot;ignorePattern&quot; value=&quot;(^ *\\** *\\$Id\\:)|(^(package|import) .*)&quot;/&gt;\n        &lt;/module&gt;\n        &lt;module name=&quot;MethodLength&quot;/&gt;\n        &lt;module name=&quot;ParameterNumber&quot;&gt;\n            &lt;property name=&quot;max&quot; value=&quot;9&quot; /&gt;\n        &lt;/module&gt;\n        &lt;module name=&quot;ReturnCount&quot;&gt;\n            &lt;property name=&quot;max&quot; value=&quot;3&quot; /&gt;\n        &lt;/module&gt;\n\n        &lt;!-- Checks for whitespace                               --&gt;\n        &lt;!-- See http://checkstyle.sf.net/config_whitespace.html --&gt;\n        &lt;module name=&quot;EmptyForIteratorPad&quot;/&gt;\n        &lt;module name=&quot;GenericWhitespace&quot;/&gt;\n        &lt;module name=&quot;MethodParamPad&quot;/&gt;\n        &lt;module name=&quot;NoWhitespaceAfter&quot;/&gt;\n        &lt;module name=&quot;NoWhitespaceBefore&quot;/&gt;\n        &lt;module name=&quot;OperatorWrap&quot;/&gt;\n        &lt;module name=&quot;ParenPad&quot;/&gt;\n        &lt;module name=&quot;TypecastParenPad&quot;/&gt;\n        &lt;module name=&quot;WhitespaceAfter&quot;&gt;\n            &lt;property name=&quot;tokens&quot; value=&quot;COMMA, SEMI&quot; /&gt;\n        &lt;/module&gt;\n        &lt;!-- Enforce WhitespaceAround the usual tokens, except GENERIC_*. --&gt;\n        &lt;module name=&quot;WhitespaceAround&quot;&gt;\n            &lt;property\n                    name=&quot;tokens&quot;\n                    value=&quot;ASSIGN, BAND, BAND_ASSIGN, BOR, BOR_ASSIGN, BSR,\n                     BSR_ASSIGN, BXOR, BXOR_ASSIGN, COLON, DIV, DIV_ASSIGN,\n                     EQUAL, GE, GT, LAND, LCURLY, LE, LITERAL_ASSERT,\n                     LITERAL_CATCH, LITERAL_DO, LITERAL_ELSE, LITERAL_FINALLY,\n                     LITERAL_FOR, LITERAL_IF, LITERAL_RETURN,\n                     LITERAL_SYNCHRONIZED, LITERAL_TRY, LITERAL_WHILE, LOR,\n                     LT, MINUS, MINUS_ASSIGN, MOD, MOD_ASSIGN, NOT_EQUAL,\n                     PLUS, PLUS_ASSIGN, QUESTION, RCURLY, SL, SLIST, SL_ASSIGN,\n                     SR, SR_ASSIGN, STAR, STAR_ASSIGN, TYPE_EXTENSION_AND&quot;/&gt;\n        &lt;/module&gt;\n\n        &lt;!-- Modifier Checks                                    --&gt;\n        &lt;!-- See http://checkstyle.sf.net/config_modifiers.html --&gt;\n        &lt;module name=&quot;ModifierOrder&quot;/&gt;\n        &lt;module name=&quot;RedundantModifier&quot;/&gt;\n\n        &lt;!-- Checks for blocks. You know, those {}'s         --&gt;\n        &lt;!-- See http://checkstyle.sf.net/config_blocks.html --&gt;\n        &lt;module name=&quot;EmptyBlock&quot;/&gt;\n        &lt;module name=&quot;LeftCurly&quot;/&gt;\n        &lt;module name=&quot;NeedBraces&quot;/&gt;\n        &lt;module name=&quot;RightCurly&quot;/&gt;\n\n        &lt;!-- Checks for common coding problems               --&gt;\n        &lt;!-- See http://checkstyle.sf.net/config_coding.html --&gt;\n        &lt;module name=&quot;EmptyStatement&quot;/&gt;\n        &lt;module name=&quot;EqualsHashCode&quot;/&gt;\n        &lt;module name=&quot;HiddenField&quot;&gt;\n            &lt;property name=&quot;ignoreSetter&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;ignoreConstructorParameter&quot; value=&quot;true&quot;/&gt;\n        &lt;/module&gt;\n        \n        &lt;module name=&quot;IllegalImport&quot;&gt;\n            &lt;property name=&quot;illegalPkgs&quot;\n                      value=&quot;edu.emory.mathcs.backport,\n         org.joda,\n         sun, com.sun&quot;/&gt;\n        &lt;/module&gt;\n\n        &lt;module name=&quot;IllegalInstantiation&quot;/&gt;\n        &lt;module name=&quot;InnerAssignment&quot;/&gt;\n        &lt;module name=&quot;MagicNumber&quot;/&gt;\n        &lt;module name=&quot;MissingSwitchDefault&quot;/&gt;\n        &lt;module name=&quot;SimplifyBooleanExpression&quot;/&gt;\n        &lt;module name=&quot;SimplifyBooleanReturn&quot;/&gt;\n\n        &lt;!-- Checks for class design                         --&gt;\n        &lt;!-- See http://checkstyle.sf.net/config_design.html --&gt;\n        &lt;module name=&quot;FinalClass&quot;/&gt;\n        &lt;module name=&quot;HideUtilityClassConstructor&quot;/&gt;\n        &lt;module name=&quot;InterfaceIsType&quot;/&gt;\n        &lt;module name=&quot;VisibilityModifier&quot;&gt;\n            &lt;property name=&quot;protectedAllowed&quot; value=&quot;true&quot; /&gt;\n        &lt;/module&gt;\n\n        &lt;!-- Miscellaneous other checks.                   --&gt;\n        &lt;!-- See http://checkstyle.sf.net/config_misc.html --&gt;\n        &lt;module name=&quot;ArrayTypeStyle&quot;/&gt;\n        &lt;module name=&quot;FinalParameters&quot;/&gt;\n        &lt;module name=&quot;TodoComment&quot;&gt;\n            &lt;property name=&quot;severity&quot; value=&quot;info&quot;/&gt;\n        &lt;/module&gt;\n        &lt;module name=&quot;UpperEll&quot;/&gt;\n\n    &lt;/module&gt;\n\n&lt;/module&gt;\n</code></pre>\n<p>I keep getting the error: <code>Unable to create Root Module: config {MY_PATH}</code>. When I used <code>./gradlew checkstyleMain -s</code> I get the exception:</p>\n<pre><code>Caused by: com.puppycrawl.tools.checkstyle.api.CheckstyleException: SuppressionCommentFilter is not allowed as a child in Checker\n        at com.puppycrawl.tools.checkstyle.Checker.setupChild(Checker.java:496)\n        at com.puppycrawl.tools.checkstyle.api.AutomaticBean.configure(AutomaticBean.java:201)\n        at com.puppycrawl.tools.checkstyle.ant.CheckstyleAntTask.createRootModule(CheckstyleAntTask.java:424)\n        ... 39 more\n\n</code></pre>\n<p>I went through the other answers but something or the other keeps breaking. I need help.</p>\n<pre><code>Gradle: 7.6.1\nKotlin: 1.7.10\nGroovy: 3.0.13\nCheckstyle: 8.45.1\n</code></pre>\n<p>Below is my checkstyle plugin definition:</p>\n<pre><code>checkstyle {\n    toolVersion = &quot;8.45.1&quot;\n    isIgnoreFailures = false\n    sourceSets = listOf(the&lt;SourceSetContainer&gt;()[&quot;main&quot;])\n    configFile = file(&quot;checkstyle/checkstyle-rules.xml&quot;)\n\n    val suppressionFile = file(&quot;checkstyle/checkstyle-suppressions.xml&quot;)\n    configProperties[&quot;checkstyle.suppression.filter&quot;] = suppressionFile\n}\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1689111211,"post_id":76664593,"comment_id":135166501,"body_markdown":"The `blockIncrement` property is &quot;The amount by which to adjust the slider if the track of the slider is clicked.&quot;","body":"The <code>blockIncrement</code> property is &quot;The amount by which to adjust the slider if the track of the slider is clicked.&quot;"},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1689146749,"post_id":76664593,"comment_id":135170176,"body_markdown":"It is not working. I think there is a typo in the documentation. This is in the in-depth-documentation: This is used when manipulating the slider position using _keys_","body":"It is not working. I think there is a typo in the documentation. This is in the in-depth-documentation: This is used when manipulating the slider position using <i>keys</i>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1689160466,"post_id":76664593,"comment_id":135173279,"body_markdown":"Ah, I see; you want something like a _page_ adjustment, as happens in a `ScrollBar`; one approach is examined [here](https://stackoverflow.com/q/50209540/230513).","body":"Ah, I see; you want something like a <i>page</i> adjustment, as happens in a <code>ScrollBar</code>; one approach is examined <a href=\"https://stackoverflow.com/q/50209540/230513\">here</a>."},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1689166934,"post_id":76664593,"comment_id":135174773,"body_markdown":"Yes, that may be a solution, except that the drag-function is lost - I also want the slider-value to change when the user clicks and drags the thumb.","body":"Yes, that may be a solution, except that the drag-function is lost - I also want the slider-value to change when the user clicks and drags the thumb."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689198804,"post_id":76664593,"comment_id":135181297,"body_markdown":"You can [answer your own question](https://stackoverflow.com/help/self-answer), which is preferable to posting answers inside the question.","body":"You can <a href=\"https://stackoverflow.com/help/self-answer\">answer your own question</a>, which is preferable to posting answers inside the question."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689201198,"post_id":76664593,"comment_id":135181593,"body_markdown":"Your working example doesn&#39;t seem to do what the question asks: &quot;ignore track click&quot;. The user can still click on the track in the example you provided and the slider will react. I wonder a bit if this is an [xyproblem](https://xyproblem.info) and you may not want to actually ignore the track click.","body":"Your working example doesn&#39;t seem to do what the question asks: &quot;ignore track click&quot;. The user can still click on the track in the example you provided and the slider will react. I wonder a bit if this is an <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">xyproblem</a> and you may not want to actually ignore the track click."},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1689237145,"post_id":76664593,"comment_id":135185731,"body_markdown":"Yes, I guess that was a classic x-y-problem. I did not see my own solutions as a proper answer, I think it was too complicated so I did not want to post it as an answer.","body":"Yes, I guess that was a classic x-y-problem. I did not see my own solutions as a proper answer, I think it was too complicated so I did not want to post it as an answer."}],"answers":[{"comments":[{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":1,"creation_date":1689235979,"post_id":76674845,"comment_id":135185476,"body_markdown":"This is exactly what I was looking/hoping for! Nice and simple and very nice making a new subclass with the new behavior. It may seem odd I want to disable the track click but I think that is always needed when the slider will function as a fader in a sound-mixing or light-mixing app (level-control), then you never want the fader to jump if the user by a mistake touches the track.","body":"This is exactly what I was looking/hoping for! Nice and simple and very nice making a new subclass with the new behavior. It may seem odd I want to disable the track click but I think that is always needed when the slider will function as a fader in a sound-mixing or light-mixing app (level-control), then you never want the fader to jump if the user by a mistake touches the track."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689244078,"post_id":76674845,"comment_id":135187174,"body_markdown":"@droid the mixing desk fader use-case for this makes total sense, thanks for explaining it.","body":"@droid the mixing desk fader use-case for this makes total sense, thanks for explaining it."}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689201552,"creation_date":1689201103,"answer_id":76674845,"question_id":76664593,"body_markdown":"&gt; (ignore track click)\r\n\r\nIf you look at the [CSS guide for JavaFX][1], the substructure for a slider consists of &quot;axis, track, thumb&quot;.\r\n\r\nIf you only want the user to be able to click on the thumb in the slider, you can [add an event filter][2] to the slider and filter out all mouse events that don&#39;t relate to the thumb.  You can find the thumb node via a [lookup][3].\r\n\r\nHere is an example:\r\n\r\n    import javafx.scene.Node;\r\n    import javafx.scene.control.Slider;\r\n    import javafx.scene.input.MouseEvent;\r\n    \r\n    public class BlockedSlider extends Slider {\r\n        public BlockedSlider(double min, double max, double value, double increment) {\r\n            super(min, max, value);\r\n            setMajorTickUnit(increment);\r\n            setMinorTickCount(0);\r\n            setBlockIncrement(increment);\r\n            setShowTickMarks(true);\r\n            setSnapToTicks(true);\r\n            addEventFilter(MouseEvent.ANY, event -&gt; {\r\n                Node thumb = lookup(&quot;.thumb&quot;);\r\n                if (thumb != event.getTarget()) {\r\n                    event.consume();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nThe example also adds some other settings to customize the slider, which makes it easier to see the operation and what it is doing.  You can adjust those customizations to fit your application requirements.\r\n\r\nThe example still allows keyboard input to change the slider value, so it doesn&#39;t &quot;only respond to drag&quot;.  The slider value can also be set in code, without user interaction, and the slider will still respond to that.\r\n\r\nHere is an example of using the example `BlockedSlider` class:\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Slider;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class BlockedSliderApp extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n            Slider slider = new BlockedSlider(1, 5, 3, 1);\r\n            slider.valueProperty().addListener(o -&gt; {\r\n                if (!slider.isValueChanging()) {\r\n                    System.out.println(&quot;Slider value: &quot; + slider.getValue());\r\n                }\r\n            });\r\n    \r\n            StackPane layout = new StackPane();\r\n            layout.getChildren().add(slider);\r\n            layout.setPadding(new Insets(10));\r\n    \r\n            var scene = new Scene(layout);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n    \r\n            slider.setValue(1.8);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nPersonally, I&#39;d be hesitant about disabling the default ability to click on the track to update the slider value.  I find it makes the slider work differently than other slider controls I have used.  I would look to other potential solutions, retaining standard functionality, to implement the UI.\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/doc-files/cssref.html#slider\r\n  [2]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#addEventFilter(javafx.event.EventType,javafx.event.EventHandler)\r\n  [3]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#lookup(java.lang.String)","title":"JavaFX slider - only respond to drag (ignore track click)","body":"<blockquote>\n<p>(ignore track click)</p>\n</blockquote>\n<p>If you look at the <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/doc-files/cssref.html#slider\" rel=\"nofollow noreferrer\">CSS guide for JavaFX</a>, the substructure for a slider consists of &quot;axis, track, thumb&quot;.</p>\n<p>If you only want the user to be able to click on the thumb in the slider, you can <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#addEventFilter(javafx.event.EventType,javafx.event.EventHandler)\" rel=\"nofollow noreferrer\">add an event filter</a> to the slider and filter out all mouse events that don't relate to the thumb.  You can find the thumb node via a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#lookup(java.lang.String)\" rel=\"nofollow noreferrer\">lookup</a>.</p>\n<p>Here is an example:</p>\n<pre><code>import javafx.scene.Node;\nimport javafx.scene.control.Slider;\nimport javafx.scene.input.MouseEvent;\n\npublic class BlockedSlider extends Slider {\n    public BlockedSlider(double min, double max, double value, double increment) {\n        super(min, max, value);\n        setMajorTickUnit(increment);\n        setMinorTickCount(0);\n        setBlockIncrement(increment);\n        setShowTickMarks(true);\n        setSnapToTicks(true);\n        addEventFilter(MouseEvent.ANY, event -&gt; {\n            Node thumb = lookup(&quot;.thumb&quot;);\n            if (thumb != event.getTarget()) {\n                event.consume();\n            }\n        });\n    }\n}\n</code></pre>\n<p>The example also adds some other settings to customize the slider, which makes it easier to see the operation and what it is doing.  You can adjust those customizations to fit your application requirements.</p>\n<p>The example still allows keyboard input to change the slider value, so it doesn't &quot;only respond to drag&quot;.  The slider value can also be set in code, without user interaction, and the slider will still respond to that.</p>\n<p>Here is an example of using the example <code>BlockedSlider</code> class:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Slider;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\npublic class BlockedSliderApp extends Application {\n    @Override\n    public void start(Stage stage) {\n        Slider slider = new BlockedSlider(1, 5, 3, 1);\n        slider.valueProperty().addListener(o -&gt; {\n            if (!slider.isValueChanging()) {\n                System.out.println(&quot;Slider value: &quot; + slider.getValue());\n            }\n        });\n\n        StackPane layout = new StackPane();\n        layout.getChildren().add(slider);\n        layout.setPadding(new Insets(10));\n\n        var scene = new Scene(layout);\n        stage.setScene(scene);\n        stage.show();\n\n        slider.setValue(1.8);\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>Personally, I'd be hesitant about disabling the default ability to click on the track to update the slider value.  I find it makes the slider work differently than other slider controls I have used.  I would look to other potential solutions, retaining standard functionality, to implement the UI.</p>\n"}],"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76674845,"answer_count":1,"score":0,"last_activity_date":1689201552,"creation_date":1689097935,"question_id":76664593,"body_markdown":"I would like the slider only to respond to the user dragging the slider and always ignoring when the user clicks on the track.\r\n\r\nThis is my sample code:\r\n\r\n    public class App extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            Slider slider = new Slider();\r\n    \r\n            slider.addEventHandler(MouseEvent.ANY, new EventHandler&lt;MouseEvent&gt;() {\r\n                public void handle(MouseEvent event) {\r\n    \r\n                    event.getTarget();\r\n                    //Do something here based on target...?\r\n                    event.consume();\r\n    \r\n                }\r\n            });\r\n    \r\n            FlowPane flowPane = new FlowPane();\r\n            flowPane.getChildren().add(slider);\r\n    \r\n            var scene = new Scene(flowPane);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n    }\r\n\r\nI have tried working around with the addEventHandler and getting the target (track or thumb) but not sure what to do.\r\n\r\nEDIT: Another solution may be only changing the value by one when clicking the track.\r\n\r\nSECOND EDIT: Below is my latest try and it prints exactly what I want in the console, so all is fine, except for the fact (and most important) that the slider reacts very slow so it is not a usable solution:\r\n\r\n    public class App extends Application {\r\n    \r\n        private boolean valueChanged;\r\n        int blockIncrementStep = 1;\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            Slider slider = new Slider();\r\n            slider.setMin(0);\r\n            slider.setMax(255);\r\n            slider.setBlockIncrement(blockIncrementStep);\r\n    \r\n            slider.setOnMouseDragged(e -&gt; {\r\n    \r\n                valueChanged = false;\r\n                System.out.println((int) slider.getValue());\r\n    \r\n            });\r\n    \r\n            slider.setOnMouseClicked(event -&gt; valueChanged = false);\r\n    \r\n            slider.valueProperty().addListener((ov, oldValue, newValue) -&gt; {\r\n    \r\n                if (!valueChanged) {\r\n    \r\n                    valueChanged = true;\r\n    \r\n                    if (newValue.intValue() &gt; oldValue.intValue()) {\r\n    \r\n                        slider.setValue(oldValue.intValue() + blockIncrementStep);\r\n                        System.out.println(oldValue.intValue() + blockIncrementStep);\r\n                        \r\n                    } else {\r\n    \r\n                        slider.setValue(oldValue.intValue() - blockIncrementStep);\r\n                        System.out.println(oldValue.intValue() - blockIncrementStep);\r\n                        \r\n                    }\r\n                } else {\r\n    \r\n                }\r\n            });\r\n    \r\n            FlowPane flowPane = new FlowPane();\r\n            flowPane.getChildren().add(slider);\r\n    \r\n            var scene = new Scene(flowPane);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n        \r\n    }\r\n\r\nI had to add &quot;valueChanged = false&quot; to setOnMouseDragged or else it would not function properly when the slider was dragged to the min and max of the slider.\r\n\r\nTHIRD EDIT:\r\n\r\nI think I got an working example now:\r\n\r\n    public class App extends Application {\r\n    \r\n        private boolean valueChanged;\r\n        int blockIncrementStep = 1;\r\n        Slider slider;\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            slider = new Slider();\r\n            slider.setMin(0);\r\n            slider.setMax(255);\r\n            slider.setBlockIncrement(blockIncrementStep);\r\n    \r\n            slider.setOnMouseDragged(e -&gt; {\r\n    \r\n                getSliderValue();\r\n    \r\n            });\r\n    \r\n            slider.setOnMouseClicked(event -&gt; valueChanged = false);\r\n    \r\n            slider.valueProperty().addListener((ov, oldValue, newValue) -&gt; {\r\n    \r\n                if (newValue.intValue() == 255 || oldValue.intValue() == 255 || newValue.intValue() == 0 || oldValue.intValue() == 0) {\r\n    \r\n                    valueChanged = false;\r\n    \r\n                }\r\n    \r\n            });\r\n    \r\n            slider.valueProperty().addListener((ov, oldValue, newValue) -&gt; {\r\n    \r\n                if (!valueChanged) {\r\n    \r\n                    valueChanged = true;\r\n    \r\n                    if (newValue.intValue() &gt; oldValue.intValue()) {\r\n    \r\n                        slider.setValue(oldValue.intValue() + blockIncrementStep);\r\n                        getSliderValue();\r\n    \r\n                    } else {\r\n    \r\n                        slider.setValue(oldValue.intValue() - blockIncrementStep);\r\n                        getSliderValue();\r\n    \r\n                    }\r\n                }\r\n    \r\n            });\r\n    \r\n            FlowPane flowPane = new FlowPane();\r\n            flowPane.getChildren().add(slider);\r\n    \r\n            var scene = new Scene(flowPane);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n    \r\n        }\r\n    \r\n        private void getSliderValue() {\r\n    \r\n            System.out.println((int) slider.getValue());\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            launch();\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nFeel free to post an answer if you got a better solution. Especially a easier solution as I have many sliders in my app :)\r\n\r\nRegards\r\n\r\n\r\n","title":"JavaFX slider - only respond to drag (ignore track click)","body":"<p>I would like the slider only to respond to the user dragging the slider and always ignoring when the user clicks on the track.</p>\n<p>This is my sample code:</p>\n<pre><code>public class App extends Application {\n\n    @Override\n    public void start(Stage stage) {\n\n        Slider slider = new Slider();\n\n        slider.addEventHandler(MouseEvent.ANY, new EventHandler&lt;MouseEvent&gt;() {\n            public void handle(MouseEvent event) {\n\n                event.getTarget();\n                //Do something here based on target...?\n                event.consume();\n\n            }\n        });\n\n        FlowPane flowPane = new FlowPane();\n        flowPane.getChildren().add(slider);\n\n        var scene = new Scene(flowPane);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n}\n</code></pre>\n<p>I have tried working around with the addEventHandler and getting the target (track or thumb) but not sure what to do.</p>\n<p>EDIT: Another solution may be only changing the value by one when clicking the track.</p>\n<p>SECOND EDIT: Below is my latest try and it prints exactly what I want in the console, so all is fine, except for the fact (and most important) that the slider reacts very slow so it is not a usable solution:</p>\n<pre><code>public class App extends Application {\n\n    private boolean valueChanged;\n    int blockIncrementStep = 1;\n\n    @Override\n    public void start(Stage stage) {\n\n        Slider slider = new Slider();\n        slider.setMin(0);\n        slider.setMax(255);\n        slider.setBlockIncrement(blockIncrementStep);\n\n        slider.setOnMouseDragged(e -&gt; {\n\n            valueChanged = false;\n            System.out.println((int) slider.getValue());\n\n        });\n\n        slider.setOnMouseClicked(event -&gt; valueChanged = false);\n\n        slider.valueProperty().addListener((ov, oldValue, newValue) -&gt; {\n\n            if (!valueChanged) {\n\n                valueChanged = true;\n\n                if (newValue.intValue() &gt; oldValue.intValue()) {\n\n                    slider.setValue(oldValue.intValue() + blockIncrementStep);\n                    System.out.println(oldValue.intValue() + blockIncrementStep);\n                    \n                } else {\n\n                    slider.setValue(oldValue.intValue() - blockIncrementStep);\n                    System.out.println(oldValue.intValue() - blockIncrementStep);\n                    \n                }\n            } else {\n\n            }\n        });\n\n        FlowPane flowPane = new FlowPane();\n        flowPane.getChildren().add(slider);\n\n        var scene = new Scene(flowPane);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n    \n}\n</code></pre>\n<p>I had to add &quot;valueChanged = false&quot; to setOnMouseDragged or else it would not function properly when the slider was dragged to the min and max of the slider.</p>\n<p>THIRD EDIT:</p>\n<p>I think I got an working example now:</p>\n<pre><code>public class App extends Application {\n\n    private boolean valueChanged;\n    int blockIncrementStep = 1;\n    Slider slider;\n\n    @Override\n    public void start(Stage stage) {\n\n        slider = new Slider();\n        slider.setMin(0);\n        slider.setMax(255);\n        slider.setBlockIncrement(blockIncrementStep);\n\n        slider.setOnMouseDragged(e -&gt; {\n\n            getSliderValue();\n\n        });\n\n        slider.setOnMouseClicked(event -&gt; valueChanged = false);\n\n        slider.valueProperty().addListener((ov, oldValue, newValue) -&gt; {\n\n            if (newValue.intValue() == 255 || oldValue.intValue() == 255 || newValue.intValue() == 0 || oldValue.intValue() == 0) {\n\n                valueChanged = false;\n\n            }\n\n        });\n\n        slider.valueProperty().addListener((ov, oldValue, newValue) -&gt; {\n\n            if (!valueChanged) {\n\n                valueChanged = true;\n\n                if (newValue.intValue() &gt; oldValue.intValue()) {\n\n                    slider.setValue(oldValue.intValue() + blockIncrementStep);\n                    getSliderValue();\n\n                } else {\n\n                    slider.setValue(oldValue.intValue() - blockIncrementStep);\n                    getSliderValue();\n\n                }\n            }\n\n        });\n\n        FlowPane flowPane = new FlowPane();\n        flowPane.getChildren().add(slider);\n\n        var scene = new Scene(flowPane);\n        stage.setScene(scene);\n        stage.show();\n\n    }\n\n    private void getSliderValue() {\n\n        System.out.println((int) slider.getValue());\n\n    }\n\n    public static void main(String[] args) {\n\n        launch();\n\n    }\n\n}\n</code></pre>\n<p>Feel free to post an answer if you got a better solution. Especially a easier solution as I have many sliders in my app :)</p>\n<p>Regards</p>\n"},{"tags":["java","mysql","android-studio","database-connection"],"comments":[{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1689197989,"post_id":76674596,"comment_id":135181189,"body_markdown":"and what is the complete error message you are getting","body":"and what is the complete error message you are getting"},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1689198456,"post_id":76674596,"comment_id":135181251,"body_markdown":"Do you truly have mysql installed on android?","body":"Do you truly have mysql installed on android?"},{"owner":{"account_id":29005479,"reputation":1,"user_id":22218135,"display_name":"You Kookie"},"score":0,"creation_date":1689198653,"post_id":76674596,"comment_id":135181279,"body_markdown":"this is the whole message, it&#39;s from the catch exception.","body":"this is the whole message, it&#39;s from the catch exception."},{"owner":{"account_id":29005479,"reputation":1,"user_id":22218135,"display_name":"You Kookie"},"score":0,"creation_date":1689198727,"post_id":76674596,"comment_id":135181289,"body_markdown":"yes, i&#39;m working with xampp","body":"yes, i&#39;m working with xampp"},{"owner":{"account_id":1225662,"reputation":12165,"user_id":1191247,"accept_rate":75,"display_name":"user1191247"},"score":0,"creation_date":1689602562,"post_id":76674596,"comment_id":135232790,"body_markdown":"Apologies if I am barking up the wrong tree, but I suspect _&quot;yes, i&#39;m working with xampp&quot;_ actually means &quot;no, xampp is running on my host PC&quot;. `localhost` is referring to the emulator (or testing device), not the host PC.","body":"Apologies if I am barking up the wrong tree, but I suspect <i>&quot;yes, i&#39;m working with xampp&quot;</i> actually means &quot;no, xampp is running on my host PC&quot;. <code>localhost</code> is referring to the emulator (or testing device), not the host PC."}],"owner":{"account_id":29005479,"reputation":1,"user_id":22218135,"display_name":"You Kookie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689201468,"creation_date":1689197793,"question_id":76674596,"body_markdown":"So this is my first time with Android studio,I am trying to connect mysql database using jdbc. Here is my Database connection Class:\r\n\r\n\r\n```\r\nimport android.util.Log;\r\n\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\n\r\npublic class conBD {\r\n\r\n\r\n    public static Connection getconnection() {\r\n        Connection con = null;\r\n        try{\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/achat&quot;,&quot;root&quot;,&quot;&quot;);\r\n\r\n        }\r\n        catch(Exception e) {\r\n            Log.d(&quot;conbdtry&quot;, e.getMessage());\r\n\r\n        }\r\n\r\n        return con;\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nAnd &quot;getconnection&quot; should be executed when clicking a button in th main activity. But i don&#39;t know why i&#39;m keep getting the exception msg of &quot;Could not create connection to database server&quot;.\r\n\r\n\r\nI tried the same code in netbeans and it&#39;s working as it should, it inserts, selects and deletes from my database, I also tried changing the host to my ip adress but always same problem. can anyone help me please!","title":"Could not create connection to database server, Android Studio","body":"<p>So this is my first time with Android studio,I am trying to connect mysql database using jdbc. Here is my Database connection Class:</p>\n<pre><code>import android.util.Log;\n\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\n\npublic class conBD {\n\n\n    public static Connection getconnection() {\n        Connection con = null;\n        try{\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/achat&quot;,&quot;root&quot;,&quot;&quot;);\n\n        }\n        catch(Exception e) {\n            Log.d(&quot;conbdtry&quot;, e.getMessage());\n\n        }\n\n        return con;\n\n    }\n\n}\n\n</code></pre>\n<p>And &quot;getconnection&quot; should be executed when clicking a button in th main activity. But i don't know why i'm keep getting the exception msg of &quot;Could not create connection to database server&quot;.</p>\n<p>I tried the same code in netbeans and it's working as it should, it inserts, selects and deletes from my database, I also tried changing the host to my ip adress but always same problem. can anyone help me please!</p>\n"},{"tags":["java","sql","database","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689156198,"post_id":76669320,"comment_id":135172330,"body_markdown":"you are trying to us a MySQL Jdbc driver to connect to a Microsoft SQL Server database. That isn&#39;t going to work. You need the SQL Server JDBC driver.","body":"you are trying to us a MySQL Jdbc driver to connect to a Microsoft SQL Server database. That isn&#39;t going to work. You need the SQL Server JDBC driver."},{"owner":{"account_id":29001238,"reputation":1,"user_id":22214755,"display_name":"Dex"},"score":0,"creation_date":1689156390,"post_id":76669320,"comment_id":135172376,"body_markdown":"Thank you, but could you specify what I have to remove or add please, I&#39;m a little lost","body":"Thank you, but could you specify what I have to remove or add please, I&#39;m a little lost"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689161605,"post_id":76669320,"comment_id":135173500,"body_markdown":"I do assume you know what you are doing. You are using Microsoft SQL Server and try to connect to it with a MySQL JDBC driver (`mysql-connector-java` and `mysql-connector-j` in your dependencies). MySQL is **not** Microsoft SQL Server, you will need other drivers for it, the Microsoft SQL Server JDBC Drivers.","body":"I do assume you know what you are doing. You are using Microsoft SQL Server and try to connect to it with a MySQL JDBC driver (<code>mysql-connector-java</code> and <code>mysql-connector-j</code> in your dependencies). MySQL is <b>not</b> Microsoft SQL Server, you will need other drivers for it, the Microsoft SQL Server JDBC Drivers."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689162547,"post_id":76669320,"comment_id":135173654,"body_markdown":"Hello and welcome. As stated above you need a proper driver. Just start over using https://start.spring.io/ but instead of MySQL select MS SQL Server Driver.","body":"Hello and welcome. As stated above you need a proper driver. Just start over using <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a> but instead of MySQL select MS SQL Server Driver."}],"owner":{"account_id":29001238,"reputation":1,"user_id":22214755,"display_name":"Dex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689201272,"creation_date":1689155728,"question_id":76669320,"body_markdown":"I&#39;ve been stuck with this task for a few hours, a few days ago I formatted my pc and I had to install everything again, IDE, database manager, jdk...etc. \r\n\r\nThe fact is that I&#39;ve downloaded everything I need and I created a new project with spring initializer, and after hours of attempts I can&#39;t start it because it doesn&#39;t establish a connection to the database. I&#39;m using sql management studio.\r\n\r\nI leave here the pom.xml and aplciation properties,(https://i.stack.imgur.com/ApC8I.png)](https://i.stack.imgur.com/G7KjK.png)\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.dex&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;testRestFul&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;testRestFul&lt;/name&gt;\r\n\t&lt;description&gt;Pruebas con apiRestFul&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;20&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.33&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nI want to be able to connect my application with spring boot to a local db, if possible with sql management studio[The error that the console gives me](https://i.stack.imgur.com/ZmsXf.png)","title":"Connect spring boot project to database in sql management studio?","body":"<p>I've been stuck with this task for a few hours, a few days ago I formatted my pc and I had to install everything again, IDE, database manager, jdk...etc.</p>\n<p>The fact is that I've downloaded everything I need and I created a new project with spring initializer, and after hours of attempts I can't start it because it doesn't establish a connection to the database. I'm using sql management studio.</p>\n<p>I leave here the pom.xml and aplciation properties,(<a href=\"https://i.stack.imgur.com/ApC8I.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ApC8I.png</a>)](<a href=\"https://i.stack.imgur.com/G7KjK.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/G7KjK.png</a>)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.dex&lt;/groupId&gt;\n    &lt;artifactId&gt;testRestFul&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;testRestFul&lt;/name&gt;\n    &lt;description&gt;Pruebas con apiRestFul&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;20&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.33&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I want to be able to connect my application with spring boot to a local db, if possible with sql management studio<a href=\"https://i.stack.imgur.com/ZmsXf.png\" rel=\"nofollow noreferrer\">The error that the console gives me</a></p>\n"},{"tags":["java","spring","spring-boot","flapdoodle-embed-mongo"],"answers":[{"tags":[],"owner":{"account_id":8111089,"reputation":881,"user_id":6111165,"display_name":"Carlos Jafet Neto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689200838,"creation_date":1689197260,"answer_id":76674554,"question_id":75283894,"body_markdown":"This can be fixed by upgrading your flapdoodle version to 3.3.0. \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAlso make sure you have the following dependency for your Spring Boot version.\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nI am using flapdoodle 3.3.0 with Spring Boot 2.7.8 and it is working fine.","title":"org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration.embeddedMongoServer","body":"<p>This can be fixed by upgrading your flapdoodle version to 3.3.0.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also make sure you have the following dependency for your Spring Boot version.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n    &lt;version&gt;2.7.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I am using flapdoodle 3.3.0 with Spring Boot 2.7.8 and it is working fine.</p>\n"}],"owner":{"account_id":27451779,"reputation":11,"user_id":20943898,"display_name":"Ragnar_viking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689200838,"creation_date":1675078852,"question_id":75283894,"body_markdown":"when I&#39;m trying to update my spring-boot project to 2.7.x from 2.0.1, I&#39;m getting the following error... \r\nalso, I&#39;m using the flapdoodle embded dependemcy with version 3.0.0 for my testcases.\r\n\r\nnested exception is java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration.embeddedMongoServer\r\n\r\n**DEPENDENCIES**\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n            &lt;version&gt;1.33&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Test --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n            \t&lt;exclusion&gt;\r\n            \t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            \t\t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            \t&lt;/exclusion&gt;\r\n            \t&lt;exclusion&gt;\r\n            \t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            \t\t&lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n            \t&lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;","title":"org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration.embeddedMongoServer","body":"<p>when I'm trying to update my spring-boot project to 2.7.x from 2.0.1, I'm getting the following error...\nalso, I'm using the flapdoodle embded dependemcy with version 3.0.0 for my testcases.</p>\n<p>nested exception is java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration.embeddedMongoServer</p>\n<p><strong>DEPENDENCIES</strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n    &lt;/dependency&gt;\n  \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n        &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n        &lt;version&gt;1.33&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;1.2.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n        &lt;version&gt;4.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\n        &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n        &lt;version&gt;2.17.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Test --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n                &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","swing","tree","treeview","awt"],"owner":{"account_id":1811993,"reputation":888,"user_id":1647851,"accept_rate":85,"display_name":"null"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689200707,"creation_date":1688615544,"question_id":76625386,"body_markdown":"I&#39;ve read the [fireTreeNodesInserted](https://docs.oracle.com/javase/7/docs/api/javax/swing/tree/DefaultTreeModel.html#fireTreeNodesInserted(java.lang.Object,%20java.lang.Object%5B%5D,%20int%5B%5D,%20java.lang.Object%5B%5D) doco but &quot;path - the path to the parent the nodes were added to&quot; is confusing me.\r\n\r\n**General Question:** Where would I find good example code for implementing the MutableTreeNode notifications to TreeModelListener ?\r\n\r\n**Specific Question:** In this case the root node is having the nodes added. So what to use as the path?  The root has no parent.\r\n\r\nI thought a path should always include the node being referred to. Am I wrong?\r\n\r\nIn this case what path should the getPathFromRoot() be?\r\n\r\n```\t@Override // MutableTreeNode\r\n\tpublic void insert(MutableTreeNode child, int index) {\r\n\t\tlogger.debug(&quot;this=&#39;&quot; + this + &quot;&#39;, child=&#39;&quot; + child + &quot;&#39; at index=&quot;\r\n\t\t\t\t+ index);\r\n\r\n\t\t// If child has existing parent then super will remove it.\r\n\t\t// TODO Fire event on old parent for losing a node.\r\n\t\tsuper.insert(child, index);\r\n\r\n\t\t// Inform our listeners that we have inserted node(s).\r\n\t\t// https://docs.oracle.com/javase/7/docs/api/javax/swing/tree/DefaultTreeModel.html#fireTreeNodesInserted(java.lang.Object,%20java.lang.Object[],%20int[],%20java.lang.Object[])\r\n\t\tTreeModelEvent e = new TreeModelEvent(this, \r\n\r\n                getPathFromRoot(),   //  &lt;======== HERE\r\n\r\n\t\t\t\tnew int[] { index }, new TreeNode[] { child });\r\n\t\tlogger.debug(&quot;this=&quot; + this + &quot; fire event &quot; + e);\r\n\t\tfireTreeNodesInserted(e);\r\n\t}\r\n```\r\n\r\n\r\n```\t@Test\r\n\tpublic void testAddFireTreeNodesInserted() {\r\n\t\tNodeJTreeModel model = new NodeJTreeModel();\r\n\t\tNode root = new Node();\r\n\t\tTestTreeModelListener listener = new TestTreeModelListener();\r\n\t\tmodel.addTreeModelListener(listener);\r\n\t\tmodel.setRoot(root);\r\n\t\tNode child1 = new Node();\r\n\t\troot.insert(child1, 0);\r\n\t\tvar got = listener.getNodesInserted();\r\n\r\n        // These expected values might not be correct. \r\n\t\tassertEquals(1, got.size());\r\n\t\tassertEquals(root, got.get(0).getSource());\r\n\t\tassertEquals(1, got.get(0).getPath().length);\r\n\t\tassertEquals(root, got.get(0).getPath()[0]);\r\n\t\tassertEquals(new int[] { 0 }, got.get(0).getChildIndices());\r\n\t\tassertEquals(1, got.get(0).getChildren().length);\r\n\t\tassertEquals(root , got.get(0).getChildren()[0]);\r\n\t}\r\n```\r\n\r\n\r\n","title":"When inserting a node to root and calling fireTreeNodesInserted, what TreeModelEvent parameters to use?","body":"<p>I've read the [fireTreeNodesInserted](<a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/tree/DefaultTreeModel.html#fireTreeNodesInserted(java.lang.Object,%20java.lang.Object%5B%5D,%20int%5B%5D,%20java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/javax/swing/tree/DefaultTreeModel.html#fireTreeNodesInserted(java.lang.Object,%20java.lang.Object%5B%5D,%20int%5B%5D,%20java.lang.Object%5B%5D)</a> doco but &quot;path - the path to the parent the nodes were added to&quot; is confusing me.</p>\n<p><strong>General Question:</strong> Where would I find good example code for implementing the MutableTreeNode notifications to TreeModelListener ?</p>\n<p><strong>Specific Question:</strong> In this case the root node is having the nodes added. So what to use as the path?  The root has no parent.</p>\n<p>I thought a path should always include the node being referred to. Am I wrong?</p>\n<p>In this case what path should the getPathFromRoot() be?</p>\n<pre><code>    public void insert(MutableTreeNode child, int index) {\n        logger.debug(&quot;this='&quot; + this + &quot;', child='&quot; + child + &quot;' at index=&quot;\n                + index);\n\n        // If child has existing parent then super will remove it.\n        // TODO Fire event on old parent for losing a node.\n        super.insert(child, index);\n\n        // Inform our listeners that we have inserted node(s).\n        // https://docs.oracle.com/javase/7/docs/api/javax/swing/tree/DefaultTreeModel.html#fireTreeNodesInserted(java.lang.Object,%20java.lang.Object[],%20int[],%20java.lang.Object[])\n        TreeModelEvent e = new TreeModelEvent(this, \n\n                getPathFromRoot(),   //  &lt;======== HERE\n\n                new int[] { index }, new TreeNode[] { child });\n        logger.debug(&quot;this=&quot; + this + &quot; fire event &quot; + e);\n        fireTreeNodesInserted(e);\n    }\n</code></pre>\n<pre><code>    public void testAddFireTreeNodesInserted() {\n        NodeJTreeModel model = new NodeJTreeModel();\n        Node root = new Node();\n        TestTreeModelListener listener = new TestTreeModelListener();\n        model.addTreeModelListener(listener);\n        model.setRoot(root);\n        Node child1 = new Node();\n        root.insert(child1, 0);\n        var got = listener.getNodesInserted();\n\n        // These expected values might not be correct. \n        assertEquals(1, got.size());\n        assertEquals(root, got.get(0).getSource());\n        assertEquals(1, got.get(0).getPath().length);\n        assertEquals(root, got.get(0).getPath()[0]);\n        assertEquals(new int[] { 0 }, got.get(0).getChildIndices());\n        assertEquals(1, got.get(0).getChildren().length);\n        assertEquals(root , got.get(0).getChildren()[0]);\n    }\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"owner":{"account_id":29000971,"reputation":11,"user_id":22214525,"display_name":"Fady Seha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1689200216,"answer_count":0,"score":1,"last_activity_date":1689200326,"creation_date":1689153581,"question_id":76668983,"body_markdown":"So, I am starting to learn how to use selenium and wanted to start off by opening the google website. I followed [this](https://www.browserstack.com/guide/selenium-with-java-for-automated-test) tutorial and so far I have this code:\r\n\r\n```\r\nimport java.time.Duration;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class Proj {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;hi&quot;);\r\n\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\sehaf\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\r\n        WebDriver driver = new ChromeDriver(); \r\n\r\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n        driver.manage().window().maximize();\r\n\r\n        driver.get(&quot;https://www.google.com&quot;);\r\n\r\n        driver.close();\r\n        System.out.println(&quot;bhye&quot;);\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nThe problem seems to be with creating a new ChromeDriver object and I suspect it may have something to do with how I set my project up or the setProperty line. Also, I am using Intellij but most of the information I find online is using Eclipse. I would greatly appreciate any help, and if you have any websites or places to start learning how to work with selenium that would be great.","title":"NoClassDefFoundError exception in java when working with selenium","body":"<p>So, I am starting to learn how to use selenium and wanted to start off by opening the google website. I followed <a href=\"https://www.browserstack.com/guide/selenium-with-java-for-automated-test\" rel=\"nofollow noreferrer\">this</a> tutorial and so far I have this code:</p>\n<pre><code>import java.time.Duration;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class Proj {\n    public static void main(String[] args) {\n        System.out.println(&quot;hi&quot;);\n\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\sehaf\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n\n        WebDriver driver = new ChromeDriver(); \n\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n        driver.manage().window().maximize();\n\n        driver.get(&quot;https://www.google.com&quot;);\n\n        driver.close();\n        System.out.println(&quot;bhye&quot;);\n\n    }\n}\n</code></pre>\n<p>The problem seems to be with creating a new ChromeDriver object and I suspect it may have something to do with how I set my project up or the setProperty line. Also, I am using Intellij but most of the information I find online is using Eclipse. I would greatly appreciate any help, and if you have any websites or places to start learning how to work with selenium that would be great.</p>\n"},{"tags":["java","azure-cosmosdb","azure-cosmosdb-sqlapi"],"comments":[{"owner":{"account_id":2232109,"reputation":1138,"user_id":1969412,"accept_rate":97,"display_name":"Vivek Vardhan"},"score":1,"creation_date":1613589665,"post_id":65068555,"comment_id":117124671,"body_markdown":"@user11725513 did you solve it? I am also facing the same issue","body":"@user11725513 did you solve it? I am also facing the same issue"},{"owner":{"account_id":16238580,"reputation":63,"user_id":11725513,"display_name":"user11725513"},"score":0,"creation_date":1613731464,"post_id":65068555,"comment_id":117172485,"body_markdown":"@VivekVardhan No didnt find solution for it, I used older dependency azure-documentdb to work with it","body":"@VivekVardhan No didnt find solution for it, I used older dependency azure-documentdb to work with it"}],"owner":{"account_id":16238580,"reputation":63,"user_id":11725513,"display_name":"user11725513"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689200178,"creation_date":1606714442,"question_id":65068555,"body_markdown":"    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n        &lt;artifactId&gt;azure-cosmos&lt;/artifactId&gt;\r\n        &lt;version&gt;4.8.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhile using above dependency I am getting following error - \r\n\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;Cosmosdb&#39; defined in class path resource [com/walmart/dna/sourcing/jdbc/config/CosmosConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.cosmos.CosmosClient]: Factory method &#39;cosmosClient&#39; threw exception; nested exception is java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\t... 32 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.cosmos.CosmosClient]: Factory method &#39;cosmosClient&#39; threw exception; nested exception is java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\t... 44 common frames omitted\r\nCaused by: java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA\r\n\tat com.azure.cosmos.implementation.Utils.&lt;clinit&gt;(Utils.java:76) ~[azure-cosmos-4.8.0.jar:na]\r\n\tat com.azure.cosmos.implementation.RxDocumentClientImpl.&lt;clinit&gt;(RxDocumentClientImpl.java:100) ~[azure-cosmos-4.8.0.jar:na]\r\n\tat com.azure.cosmos.implementation.AsyncDocumentClient$Builder.build(AsyncDocumentClient.java:207) ~[azure-cosmos-4.8.0.jar:na]\r\n\tat com.azure.cosmos.CosmosAsyncClient.&lt;init&gt;(CosmosAsyncClient.java:102) ~[azure-cosmos-4.8.0.jar:na]\r\n\tat com.azure.cosmos.CosmosClientBuilder.buildAsyncClient(CosmosClientBuilder.java:699) ~[azure-cosmos-4.8.0.jar:na]\r\n\tat com.azure.cosmos.CosmosClient.&lt;init&gt;(CosmosClient.java:30) ~[azure-cosmos-4.8.0.jar:na]\r\n\tat com.azure.cosmos.CosmosClientBuilder.buildClient(CosmosClientBuilder.java:711) ~[azure-cosmos-4.8.0.jar:na]\r\n\tat com.walmart.dna.sourcing.jdbc.config.CosmosConfiguration.cosmosClient(CosmosConfiguration.java:43) ~[classes/:na]\r\n\tat com.walmart.dna.sourcing.jdbc.config.CosmosConfiguration$$EnhancerBySpringCGLIB$$682f48b.CGLIB$cosmosClient$0(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.walmart.dna.sourcing.jdbc.config.CosmosConfiguration$$EnhancerBySpringCGLIB$$682f48b$$FastClassBySpringCGLIB$$e4ee6466.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:356) ~[spring-context-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat com.walmart.dna.sourcing.jdbc.config.CosmosConfiguration$$EnhancerBySpringCGLIB$$682f48b.cosmosClient(&lt;generated&gt;) ~[classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_25]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_25]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_25]\r\n\tat java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_25]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\t... 45 common frames omitted\r\n```","title":"Error while using v4 Java SDK dependency to connect to CosmosDB","body":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-cosmos&lt;/artifactId&gt;\n    &lt;version&gt;4.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>While using above dependency I am getting following error -</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'Cosmosdb' defined in class path resource [com/walmart/dna/sourcing/jdbc/config/CosmosConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.cosmos.CosmosClient]: Factory method 'cosmosClient' threw exception; nested exception is java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    ... 32 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.cosmos.CosmosClient]: Factory method 'cosmosClient' threw exception; nested exception is java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    ... 44 common frames omitted\nCaused by: java.lang.NoSuchFieldError: ALLOW_TRAILING_COMMA\n    at com.azure.cosmos.implementation.Utils.&lt;clinit&gt;(Utils.java:76) ~[azure-cosmos-4.8.0.jar:na]\n    at com.azure.cosmos.implementation.RxDocumentClientImpl.&lt;clinit&gt;(RxDocumentClientImpl.java:100) ~[azure-cosmos-4.8.0.jar:na]\n    at com.azure.cosmos.implementation.AsyncDocumentClient$Builder.build(AsyncDocumentClient.java:207) ~[azure-cosmos-4.8.0.jar:na]\n    at com.azure.cosmos.CosmosAsyncClient.&lt;init&gt;(CosmosAsyncClient.java:102) ~[azure-cosmos-4.8.0.jar:na]\n    at com.azure.cosmos.CosmosClientBuilder.buildAsyncClient(CosmosClientBuilder.java:699) ~[azure-cosmos-4.8.0.jar:na]\n    at com.azure.cosmos.CosmosClient.&lt;init&gt;(CosmosClient.java:30) ~[azure-cosmos-4.8.0.jar:na]\n    at com.azure.cosmos.CosmosClientBuilder.buildClient(CosmosClientBuilder.java:711) ~[azure-cosmos-4.8.0.jar:na]\n    at com.walmart.dna.sourcing.jdbc.config.CosmosConfiguration.cosmosClient(CosmosConfiguration.java:43) ~[classes/:na]\n    at com.walmart.dna.sourcing.jdbc.config.CosmosConfiguration$$EnhancerBySpringCGLIB$$682f48b.CGLIB$cosmosClient$0(&lt;generated&gt;) ~[classes/:na]\n    at com.walmart.dna.sourcing.jdbc.config.CosmosConfiguration$$EnhancerBySpringCGLIB$$682f48b$$FastClassBySpringCGLIB$$e4ee6466.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:356) ~[spring-context-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at com.walmart.dna.sourcing.jdbc.config.CosmosConfiguration$$EnhancerBySpringCGLIB$$682f48b.cosmosClient(&lt;generated&gt;) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_25]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_25]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_25]\n    at java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_25]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    ... 45 common frames omitted\n</code></pre>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1689114200,"post_id":76666072,"comment_id":135166861,"body_markdown":"You&#39;re already using `@SpringBootApplication` which enables all of the annotations. Add an `@Autowired` to your bean and it should &quot;just work&quot;.","body":"You&#39;re already using <code>@SpringBootApplication</code> which enables all of the annotations. Add an <code>@Autowired</code> to your bean and it should &quot;just work&quot;."},{"owner":{"account_id":27835683,"reputation":142,"user_id":21253186,"display_name":"otaxhu"},"score":0,"creation_date":1689114360,"post_id":76666072,"comment_id":135166880,"body_markdown":"can you explain me that? what is a bean? do you mean the serverSettings property?","body":"can you explain me that? what is a bean? do you mean the serverSettings property?"}],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689140118,"creation_date":1689115314,"answer_id":76666188,"question_id":76666072,"body_markdown":"&gt; Consider defining a bean of type &#39;settings.Settings$Server&#39; in your configuration\r\n\r\nadding @Component on top of Server class should solve your problem\r\n\r\n\r\n----------\r\nNow that you dont wanna springboot to apply any DI (you wanna practice DI on your own) you should remove all @Component annotations from ur classes. Also remove @SpringBootApplication annotation on RestApp class.\r\nThese annotations mark the underlying class as a managed component that spring will take care of creating and injecting dependencies to on your behalf","title":"how to do dependency injection manually in spring boot","body":"<blockquote>\n<p>Consider defining a bean of type 'settings.Settings$Server' in your configuration</p>\n</blockquote>\n<p>adding @Component on top of Server class should solve your problem</p>\n<hr />\n<p>Now that you dont wanna springboot to apply any DI (you wanna practice DI on your own) you should remove all @Component annotations from ur classes. Also remove @SpringBootApplication annotation on RestApp class.\nThese annotations mark the underlying class as a managed component that spring will take care of creating and injecting dependencies to on your behalf</p>\n"},{"tags":[],"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689132369,"creation_date":1689131998,"answer_id":76666950,"question_id":76666072,"body_markdown":"\r\nAdd a new method like this so that spring creates a bean with provided name(name not required, you can also use `@Bean`)\r\n```\r\n@Bean(name = &quot;serverSettings&quot;)\r\npublic Server server() {\r\n    Server serverSettings = new Server(); \r\n    return serverSettings;\r\n}\r\n```\r\n\r\nOr add @Component to the class, name is optional though\r\n\r\n```\r\n@Component(&quot;beanName&quot;)\r\npublic class Server {\r\n //\r\n}\r\n```","title":"how to do dependency injection manually in spring boot","body":"<p>Add a new method like this so that spring creates a bean with provided name(name not required, you can also use <code>@Bean</code>)</p>\n<pre><code>@Bean(name = &quot;serverSettings&quot;)\npublic Server server() {\n    Server serverSettings = new Server(); \n    return serverSettings;\n}\n</code></pre>\n<p>Or add @Component to the class, name is optional though</p>\n<pre><code>@Component(&quot;beanName&quot;)\npublic class Server {\n //\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27835683,"reputation":142,"user_id":21253186,"display_name":"otaxhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689200070,"creation_date":1689200070,"answer_id":76674782,"question_id":76666072,"body_markdown":"You cannot use Spring Boot nor Spring Framework without using Beans. So I was looking for another framework/library that have the job done without making any of this &quot;magic&quot; of dependency injection and Spring Beans. And I found this thingy called Jakarta RESTful Web Services that doesn&#39;t obligate you to do magic things with the dependency injection and the Beans. So I only added the Jersey framework, that is an implementation of Jakarta RESTful Web Services to my project and deleted Spring Boot. It has an very intuitive API without any magic and is straightforward","title":"how to do dependency injection manually in spring boot","body":"<p>You cannot use Spring Boot nor Spring Framework without using Beans. So I was looking for another framework/library that have the job done without making any of this &quot;magic&quot; of dependency injection and Spring Beans. And I found this thingy called Jakarta RESTful Web Services that doesn't obligate you to do magic things with the dependency injection and the Beans. So I only added the Jersey framework, that is an implementation of Jakarta RESTful Web Services to my project and deleted Spring Boot. It has an very intuitive API without any magic and is straightforward</p>\n"}],"owner":{"account_id":27835683,"reputation":142,"user_id":21253186,"display_name":"otaxhu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76674782,"answer_count":3,"score":0,"last_activity_date":1689200070,"creation_date":1689113193,"question_id":76666072,"body_markdown":"I&#39;m trying to instantiate a class that implements an interface called `RestApp` with a `start()` method.\r\n\r\n```\r\npublic interface RestApp {\r\n    void start() throws RestAppException;\r\n}\r\n```\r\n\r\nThe class that implements that interface is the following:\r\n\r\n```java\r\nimport settings.Settings.Server;\r\n\r\n@SpringBootApplication\r\nclass SpringRestApp implements RestApp {\r\n    private final Server serverSettings;\r\n\r\n    SpringRestApp(Server serverSettings) {\r\n        this.serverSettings = serverSettings;\r\n    }\r\n\r\n    @Override\r\n    public void start() throws RestAppException {\r\n        var app = new SpringApplication(SpringRestApp.class);\r\n        app.setDefaultProperties(Collections.singletonMap(&quot;server.port&quot;, this.serverSettings.port()));\r\n        app.run();\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s my first time using spring boot, and i&#39;ve tried to start the application and it give me the next error:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in internal.rest.SpringRestApp required a bean of type &#39;settings.Settings$Server&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;settings.Settings$Server&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nWhat I&#39;m really trying to do is decouple spring boot from all the project and the only responsability of spring is listen to HTTP requests and handle that requests with the controllers.\r\n\r\nIn fact, I&#39;m not using the autoconfiguration of spring boot, I&#39;m using my own class of configuration that uses &quot;Apache Configurations&quot; library, I don&#39;t want any annotation in my class Settings.\r\n\r\nI&#39;ve tried using chat gpt but it only says me this crap:\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        // Create instances of the needed objects\r\n        Server serverSettings = new Server(); // Suppose that this is your settings class\r\n        RestApp restApp = new SpringRestApp(serverSettings);\r\n\r\n        // Do the dependency injection manually    &lt;-- WTF?!?!\r\n        // ...\r\n\r\n        // Start the application\r\n        try {\r\n            restApp.start();\r\n        } catch (RestAppException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd i&#39;ve no found any info in google nor youtube. Sorry for my english but I appreciate your help.\r\n\r\nThe next class is the class that instantiate the settings records for the database and the server http named: Database and Server respectively. i&#39;ve tried putting the Component annotation in the Server record but it didn&#39;t work.\r\n\r\n```java\r\npublic class Settings {\r\n\r\n    public final Database database;\r\n    public final Server server;\r\n\r\n    public Settings() throws ConfigurationException {\r\n\r\n        var config = new Configurations().properties(new File(&quot;.properties&quot;));\r\n\r\n        config.setThrowExceptionOnMissing(true);\r\n\r\n        this.database = new Database(\r\n                config.getString(&quot;DB_USER&quot;),\r\n                config.getString(&quot;DB_PASSWORD&quot;, &quot;&quot;),\r\n                config.getString(&quot;DB_DRIVER&quot;),\r\n                config.getString(&quot;DB_HOST&quot;),\r\n                config.getInt(&quot;DB_PORT&quot;),\r\n                config.getString(&quot;DB_NAME&quot;)\r\n        );\r\n\r\n        this.server = new Server(\r\n                config.getInt(&quot;SERVER_PORT&quot;),\r\n                config.getString(&quot;SERVER_FRAMEWORK&quot;)\r\n        );\r\n    }\r\n    public record Database(\r\n            String user,\r\n            String password,\r\n            String driver,\r\n            String host,\r\n            int    port,\r\n            String name\r\n    ) {}\r\n\r\n    @Component\r\n    public record Server(\r\n            int port,\r\n            String framework\r\n    ){}\r\n}\r\n```","title":"how to do dependency injection manually in spring boot","body":"<p>I'm trying to instantiate a class that implements an interface called <code>RestApp</code> with a <code>start()</code> method.</p>\n<pre><code>public interface RestApp {\n    void start() throws RestAppException;\n}\n</code></pre>\n<p>The class that implements that interface is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import settings.Settings.Server;\n\n@SpringBootApplication\nclass SpringRestApp implements RestApp {\n    private final Server serverSettings;\n\n    SpringRestApp(Server serverSettings) {\n        this.serverSettings = serverSettings;\n    }\n\n    @Override\n    public void start() throws RestAppException {\n        var app = new SpringApplication(SpringRestApp.class);\n        app.setDefaultProperties(Collections.singletonMap(&quot;server.port&quot;, this.serverSettings.port()));\n        app.run();\n    }\n}\n</code></pre>\n<p>It's my first time using spring boot, and i've tried to start the application and it give me the next error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in internal.rest.SpringRestApp required a bean of type 'settings.Settings$Server' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'settings.Settings$Server' in your configuration.\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>What I'm really trying to do is decouple spring boot from all the project and the only responsability of spring is listen to HTTP requests and handle that requests with the controllers.</p>\n<p>In fact, I'm not using the autoconfiguration of spring boot, I'm using my own class of configuration that uses &quot;Apache Configurations&quot; library, I don't want any annotation in my class Settings.</p>\n<p>I've tried using chat gpt but it only says me this crap:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        // Create instances of the needed objects\n        Server serverSettings = new Server(); // Suppose that this is your settings class\n        RestApp restApp = new SpringRestApp(serverSettings);\n\n        // Do the dependency injection manually    &lt;-- WTF?!?!\n        // ...\n\n        // Start the application\n        try {\n            restApp.start();\n        } catch (RestAppException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>And i've no found any info in google nor youtube. Sorry for my english but I appreciate your help.</p>\n<p>The next class is the class that instantiate the settings records for the database and the server http named: Database and Server respectively. i've tried putting the Component annotation in the Server record but it didn't work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Settings {\n\n    public final Database database;\n    public final Server server;\n\n    public Settings() throws ConfigurationException {\n\n        var config = new Configurations().properties(new File(&quot;.properties&quot;));\n\n        config.setThrowExceptionOnMissing(true);\n\n        this.database = new Database(\n                config.getString(&quot;DB_USER&quot;),\n                config.getString(&quot;DB_PASSWORD&quot;, &quot;&quot;),\n                config.getString(&quot;DB_DRIVER&quot;),\n                config.getString(&quot;DB_HOST&quot;),\n                config.getInt(&quot;DB_PORT&quot;),\n                config.getString(&quot;DB_NAME&quot;)\n        );\n\n        this.server = new Server(\n                config.getInt(&quot;SERVER_PORT&quot;),\n                config.getString(&quot;SERVER_FRAMEWORK&quot;)\n        );\n    }\n    public record Database(\n            String user,\n            String password,\n            String driver,\n            String host,\n            int    port,\n            String name\n    ) {}\n\n    @Component\n    public record Server(\n            int port,\n            String framework\n    ){}\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","serverless"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1689182342,"post_id":76672914,"comment_id":135178501,"body_markdown":"It&#39;s not the best idea to just sit around waiting for some lengthy process to complete. Ideally you would leverage some kind of event notification or, if that&#39;s not viable, use a polling mechanism. That aside, one way to make Lambda functions faster is to increase the amount of RAM configured for the function (because CPU is proportional to RAM), so you can try that if one of your Lambda functions is simply taking too long. If it&#39;s essentially waiting on some external process that you have no control over then this won&#39;t help, of course.","body":"It&#39;s not the best idea to just sit around waiting for some lengthy process to complete. Ideally you would leverage some kind of event notification or, if that&#39;s not viable, use a polling mechanism. That aside, one way to make Lambda functions faster is to increase the amount of RAM configured for the function (because CPU is proportional to RAM), so you can try that if one of your Lambda functions is simply taking too long. If it&#39;s essentially waiting on some external process that you have no control over then this won&#39;t help, of course."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1689184424,"post_id":76672914,"comment_id":135178913,"body_markdown":"Why are you using Java V1? This is not best practice.  At the very least - upgrade to V2 and use software.amazon.awssdk.services.lambda.LambdaClient.","body":"Why are you using Java V1? This is not best practice.  At the very least - upgrade to V2 and use software.amazon.awssdk.services.lambda.LambdaClient."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1689184488,"post_id":76672914,"comment_id":135178922,"body_markdown":"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/lambda","body":"<a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/lambda\" rel=\"nofollow noreferrer\">github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/&hellip;</a>"},{"owner":{"account_id":29004174,"reputation":1,"user_id":22217122,"display_name":"Yoru no kir"},"score":0,"creation_date":1689216427,"post_id":76672914,"comment_id":135182886,"body_markdown":"@jarmod the function uses a certain amount of threads so increasing the cpu doesn&#39;t speed up the function, could you elaborate on the polling mechanism? I rather not use dynamo to store the results of the functions since that would mean restructuring the whole system... again.","body":"@jarmod the function uses a certain amount of threads so increasing the cpu doesn&#39;t speed up the function, could you elaborate on the polling mechanism? I rather not use dynamo to store the results of the functions since that would mean restructuring the whole system... again."},{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1689258293,"post_id":76672914,"comment_id":135190611,"body_markdown":"Your post is a little unclear, but I think you are saying that the code shown is invoking a long-running Lambda function and the execution of that function is exceeding the 15 minutes maximum. Given that we don&#39;t know anything about that function and cannot see its code, it&#39;s hard to suggest how you might fix this but the obvious suggestions are 1) increase its RAM size (and hence CPU) 2) find a way to split the long-running task into multiple subtasks e.g. using Step Functions 3) move the processing from Lambda to ECS or EC2.","body":"Your post is a little unclear, but I think you are saying that the code shown is invoking a long-running Lambda function and the execution of that function is exceeding the 15 minutes maximum. Given that we don&#39;t know anything about that function and cannot see its code, it&#39;s hard to suggest how you might fix this but the obvious suggestions are 1) increase its RAM size (and hence CPU) 2) find a way to split the long-running task into multiple subtasks e.g. using Step Functions 3) move the processing from Lambda to ECS or EC2."}],"owner":{"account_id":29004174,"reputation":1,"user_id":22217122,"display_name":"Yoru no kir"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689199397,"creation_date":1689181160,"question_id":76672914,"body_markdown":"I&#39;m having this problem and I think I&#39;ve tried everything to fix it.\r\n\r\nthe error I&#39;m having is:\r\n\r\n`Error: java.util.concurrent.ExecutionException: com.amazonaws.SdkClientException: Unable to execute HTTP request: Read timed out The functions ends succesfully and this time it took 11 minutes and 14.607 seconds to execute`\r\n\r\nthis is how I configured the aws client:\r\n\r\n```\r\npublic void configureLambdaClient() throws Exception{\r\n        try {\r\n            ClientConfiguration clientConfiguration = new ClientConfiguration();\r\n            clientConfiguration.setSocketTimeout(900000);\r\n            clientConfiguration.setConnectionTimeout(5000);\r\n            clientConfiguration.setMaxErrorRetry(0);\r\n            clientConfiguration.setRequestTimeout(1200000);\r\n            clientConfiguration.setClientExecutionTimeout(1200000);\r\n            log.debug(&quot;Get socket timeout: &quot; + clientConfiguration.getSocketTimeout());\r\n            log.debug(&quot;Max error retries: &quot; + clientConfiguration.getMaxErrorRetry());\r\n\r\n            this.awsLambda = AWSLambdaClientBuilder.standard()\r\n                    .withCredentials(new AWSStaticCredentialsProvider(awsCreds))\r\n                    .withRegion(Regions.EU_WEST_1).withClientConfiguration(clientConfiguration).build();\r\n        }catch(Exception e){\r\n            throw new Exception();\r\n        }\r\n    }\r\n```\r\n\r\nThis used to be synchronous but I changed it to asynchronous to see if that&#39;d fix the issue, the current code to call the function is the following:\r\n\r\n```\r\npublic CompletableFuture&lt;String&gt; executeAsyncFunction() throws Exception {\r\n        long start = System.currentTimeMillis();\r\n        this.configureLambdaClient(); //Resets client configuration\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n            try {\r\n                log.debug(&quot;Creating &quot; + function + &quot; Invoke request.&quot;);\r\n\r\n                InvokeRequest invokeRequest = new InvokeRequest()\r\n                        .withFunctionName(function).\r\n                        withPayload(jsonPayload).\r\n                        withLogType(&quot;Tail&quot;).\r\n                        withInvocationType(&quot;RequestResponse&quot;);\r\n                InvokeResult invokeResult = null;\r\n\r\n                log.debug(&quot;Invoking &quot; + function);\r\n\r\n                invokeResult = this.awsLambda.invoke(invokeRequest);\r\n                return new String(invokeResult.getPayload().array(), StandardCharsets.UTF_8);\r\n            } catch (Exception e) {\r\n                throw new CompletionException(&quot;Error: Couldn&#39;t execute the function, please contact the developers, &quot;, e);\r\n            } finally {\r\n                long finish = System.currentTimeMillis();\r\n                long timeElapsed = finish - start;\r\n                log.debug(&quot;TIME OF EXECUTION: &quot; + timeElapsed);\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nto get this answer I do:\r\n\r\n```\r\npublic String executeFunction() throws Exception {\r\n        CompletableFuture&lt;String&gt; execution = executeAsyncFunction();\r\n        Thread.sleep(FIVE_SECONDS);\r\n        while (true) {\r\n            if (execution.isDone()) {\r\n                log.debug(&quot;Function done, retrieving answer&quot;);\r\n                return (String) execution.get();\r\n            }\r\n            log.debug(&quot;Function isn&#39;t done yet, waiting a minute for a response&quot;);\r\n            Thread.sleep(MINUTE);\r\n        }\r\n    }\r\n```\r\n\r\n(the lambda function timeout in aws is also set to 15 minutes)\r\n\r\nAll advice is welcome :(\r\n\r\nI have tried a lot of things but I&#39;m completely lost now, what can I do? on short functions (less than 10 minutes) this has never happened, but since our machine learning model data increased, the functions are taking a longer time to finished and so this happens.","title":"Lambda function gets timed out from SDK","body":"<p>I'm having this problem and I think I've tried everything to fix it.</p>\n<p>the error I'm having is:</p>\n<p><code>Error: java.util.concurrent.ExecutionException: com.amazonaws.SdkClientException: Unable to execute HTTP request: Read timed out The functions ends succesfully and this time it took 11 minutes and 14.607 seconds to execute</code></p>\n<p>this is how I configured the aws client:</p>\n<pre><code>public void configureLambdaClient() throws Exception{\n        try {\n            ClientConfiguration clientConfiguration = new ClientConfiguration();\n            clientConfiguration.setSocketTimeout(900000);\n            clientConfiguration.setConnectionTimeout(5000);\n            clientConfiguration.setMaxErrorRetry(0);\n            clientConfiguration.setRequestTimeout(1200000);\n            clientConfiguration.setClientExecutionTimeout(1200000);\n            log.debug(&quot;Get socket timeout: &quot; + clientConfiguration.getSocketTimeout());\n            log.debug(&quot;Max error retries: &quot; + clientConfiguration.getMaxErrorRetry());\n\n            this.awsLambda = AWSLambdaClientBuilder.standard()\n                    .withCredentials(new AWSStaticCredentialsProvider(awsCreds))\n                    .withRegion(Regions.EU_WEST_1).withClientConfiguration(clientConfiguration).build();\n        }catch(Exception e){\n            throw new Exception();\n        }\n    }\n</code></pre>\n<p>This used to be synchronous but I changed it to asynchronous to see if that'd fix the issue, the current code to call the function is the following:</p>\n<pre><code>public CompletableFuture&lt;String&gt; executeAsyncFunction() throws Exception {\n        long start = System.currentTimeMillis();\n        this.configureLambdaClient(); //Resets client configuration\n        return CompletableFuture.supplyAsync(() -&gt; {\n            try {\n                log.debug(&quot;Creating &quot; + function + &quot; Invoke request.&quot;);\n\n                InvokeRequest invokeRequest = new InvokeRequest()\n                        .withFunctionName(function).\n                        withPayload(jsonPayload).\n                        withLogType(&quot;Tail&quot;).\n                        withInvocationType(&quot;RequestResponse&quot;);\n                InvokeResult invokeResult = null;\n\n                log.debug(&quot;Invoking &quot; + function);\n\n                invokeResult = this.awsLambda.invoke(invokeRequest);\n                return new String(invokeResult.getPayload().array(), StandardCharsets.UTF_8);\n            } catch (Exception e) {\n                throw new CompletionException(&quot;Error: Couldn't execute the function, please contact the developers, &quot;, e);\n            } finally {\n                long finish = System.currentTimeMillis();\n                long timeElapsed = finish - start;\n                log.debug(&quot;TIME OF EXECUTION: &quot; + timeElapsed);\n            }\n        });\n    }\n</code></pre>\n<p>to get this answer I do:</p>\n<pre><code>public String executeFunction() throws Exception {\n        CompletableFuture&lt;String&gt; execution = executeAsyncFunction();\n        Thread.sleep(FIVE_SECONDS);\n        while (true) {\n            if (execution.isDone()) {\n                log.debug(&quot;Function done, retrieving answer&quot;);\n                return (String) execution.get();\n            }\n            log.debug(&quot;Function isn't done yet, waiting a minute for a response&quot;);\n            Thread.sleep(MINUTE);\n        }\n    }\n</code></pre>\n<p>(the lambda function timeout in aws is also set to 15 minutes)</p>\n<p>All advice is welcome :(</p>\n<p>I have tried a lot of things but I'm completely lost now, what can I do? on short functions (less than 10 minutes) this has never happened, but since our machine learning model data increased, the functions are taking a longer time to finished and so this happens.</p>\n"},{"tags":["java","selenium-webdriver","thread-sleep"],"comments":[{"owner":{"account_id":19780770,"reputation":55,"user_id":14485842,"display_name":"Ar2r"},"score":0,"creation_date":1689167190,"post_id":76670363,"comment_id":135174845,"body_markdown":"ImplicitWait also does not work, because despite the command \ndriver.findElement(By.cssSelector(&quot;#loaderBtn&quot;)).click(); the button is still not pressed and instead the code that is in the lower lines is run","body":"ImplicitWait also does not work, because despite the command  driver.findElement(By.cssSelector(&quot;#loaderBtn&quot;)).click(); the button is still not pressed and instead the code that is in the lower lines is run"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689198637,"creation_date":1689198637,"answer_id":76674666,"question_id":76670363,"body_markdown":"Given the HTML:\r\n\r\n\t&lt;li class=&quot;v-action&quot; id=&quot;gwt-uid-69&quot; aria-labelledby=&quot;gwt-uid-68&quot; tabindex=&quot;0&quot; style=&quot;&quot;&gt;\r\n\t\t&lt;span class=&quot;v-icon icon-add-item&quot;&gt;&lt;/span&gt;\r\n\t\t&lt;span class=&quot;v-text&quot; id=&quot;gwt-uid-68&quot; for=&quot;gwt-uid-69&quot;&gt;Add page&lt;/span&gt;\r\n\t&lt;/li&gt;\r\n\r\nThe _id_ attribute values like _`gwt-uid-69`_, _`gwt-uid-68`_ are dynamically generated and is bound to change sooner/later. They may change next time you access the application afresh or even while next application startup. So can&#39;t be used in locators.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nAs the element is a [GWT](http://www.gwtproject.org/overview.html) enabled element so to click on the element you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;li.v-action[id^=&#39;gwt-uid&#39;][aria-labelledby^=&#39;gwt-uid&#39;] span.v-text[id^=&#39;gwt-uid&#39;][for^=&#39;gwt-uid&#39;]&quot;))).click();\r\n           \t\r\n- Using _xpath_:\r\n\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//li[@class=&#39;v-action&#39;][starts-with(@id, &#39;gwt-uid&#39;) and starts-with(@aria-labelledby, &#39;gwt-uid&#39;)]//span[@class=&#39;v-text&#39; and text()=&#39;Add page&#39;]&quot;))).click();","title":"Selenium - the .click() command is not executed when I use Explicit Wait but when I use Thread.sleep it does","body":"<p>Given the HTML:</p>\n<pre><code>&lt;li class=&quot;v-action&quot; id=&quot;gwt-uid-69&quot; aria-labelledby=&quot;gwt-uid-68&quot; tabindex=&quot;0&quot; style=&quot;&quot;&gt;\n    &lt;span class=&quot;v-icon icon-add-item&quot;&gt;&lt;/span&gt;\n    &lt;span class=&quot;v-text&quot; id=&quot;gwt-uid-68&quot; for=&quot;gwt-uid-69&quot;&gt;Add page&lt;/span&gt;\n&lt;/li&gt;\n</code></pre>\n<p>The <em>id</em> attribute values like <em><code>gwt-uid-69</code></em>, <em><code>gwt-uid-68</code></em> are dynamically generated and is bound to change sooner/later. They may change next time you access the application afresh or even while next application startup. So can't be used in locators.</p>\n<hr />\n<h2>Solution</h2>\n<p>As the element is a <a href=\"http://www.gwtproject.org/overview.html\" rel=\"nofollow noreferrer\">GWT</a> enabled element so to click on the element you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;li.v-action[id^='gwt-uid'][aria-labelledby^='gwt-uid'] span.v-text[id^='gwt-uid'][for^='gwt-uid']&quot;))).click();\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//li[@class='v-action'][starts-with(@id, 'gwt-uid') and starts-with(@aria-labelledby, 'gwt-uid')]//span[@class='v-text' and text()='Add page']&quot;))).click();\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":19780770,"reputation":55,"user_id":14485842,"display_name":"Ar2r"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689198637,"creation_date":1689163635,"question_id":76670363,"body_markdown":"I tried using Explicit Wait with different conditions but none works. In addition, I tried with JavascriptExecutor but here also the element was not clicked. \r\nIn the case of the code below, the element is not clicked even though the .click() command is used\r\n\r\n        WebDriverWait wait = new WebDriverWait(driver, 30);\r\n        wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;#gwt-uid-6&quot;)));\r\n        driver.findElement(By.cssSelector(&quot;#gwt-uid-6&quot;)).click();\r\n\r\nAnd in the case of the one below with the use of Thread.sleep the .click() command is executed correctly\r\n\r\n        Thread.sleep(8000);\r\n        driver.findElement(By.cssSelector(&quot;#gwt-uid-6&quot;)).click();\r\n\r\nHTML Code\r\n\r\n    &lt;li class=&quot;v-action&quot; id=&quot;gwt-uid-69&quot; aria-labelledby=&quot;gwt-uid-68&quot; tabindex=&quot;0&quot; style=&quot;&quot;&gt;&lt;span class=&quot;v-icon icon-add-item&quot;&gt;&lt;/span&gt;&lt;span class=&quot;v-text&quot; id=&quot;gwt-uid-68&quot; for=&quot;gwt-uid-69&quot;&gt;Add page&lt;/span&gt;&lt;/li&gt;\r\n\r\nWhat is causing this and what other way than Thread.sleep can this problem be solved?","title":"Selenium - the .click() command is not executed when I use Explicit Wait but when I use Thread.sleep it does","body":"<p>I tried using Explicit Wait with different conditions but none works. In addition, I tried with JavascriptExecutor but here also the element was not clicked.\nIn the case of the code below, the element is not clicked even though the .click() command is used</p>\n<pre><code>    WebDriverWait wait = new WebDriverWait(driver, 30);\n    wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;#gwt-uid-6&quot;)));\n    driver.findElement(By.cssSelector(&quot;#gwt-uid-6&quot;)).click();\n</code></pre>\n<p>And in the case of the one below with the use of Thread.sleep the .click() command is executed correctly</p>\n<pre><code>    Thread.sleep(8000);\n    driver.findElement(By.cssSelector(&quot;#gwt-uid-6&quot;)).click();\n</code></pre>\n<p>HTML Code</p>\n<pre><code>&lt;li class=&quot;v-action&quot; id=&quot;gwt-uid-69&quot; aria-labelledby=&quot;gwt-uid-68&quot; tabindex=&quot;0&quot; style=&quot;&quot;&gt;&lt;span class=&quot;v-icon icon-add-item&quot;&gt;&lt;/span&gt;&lt;span class=&quot;v-text&quot; id=&quot;gwt-uid-68&quot; for=&quot;gwt-uid-69&quot;&gt;Add page&lt;/span&gt;&lt;/li&gt;\n</code></pre>\n<p>What is causing this and what other way than Thread.sleep can this problem be solved?</p>\n"},{"tags":["java","reactjs","spring-boot"],"owner":{"account_id":29005386,"reputation":1,"user_id":22218061,"display_name":"VIJAY SAI"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1691665013,"answer_count":1,"score":-4,"last_activity_date":1689198427,"creation_date":1689194985,"question_id":76674363,"body_markdown":"Can someone please help me on this ?\r\nI want to build a react app/UI with a File Upload/Dropbox button and On click of Submit/Upload, I want to save the file in src/main/resources of my spring boot application.\r\n\r\nThanks.\r\n\r\nI am new to this React and I want to build a simple app where a user should be able to upload a file/drag and drop the file on to the UI so that we can provide an option to submit/upload the file and it should store under a specific location inside my spring boot where i have couple of services to interact from React.","title":"How to write a react app/UI with a File Upload button","body":"<p>Can someone please help me on this ?\nI want to build a react app/UI with a File Upload/Dropbox button and On click of Submit/Upload, I want to save the file in src/main/resources of my spring boot application.</p>\n<p>Thanks.</p>\n<p>I am new to this React and I want to build a simple app where a user should be able to upload a file/drag and drop the file on to the UI so that we can provide an option to submit/upload the file and it should store under a specific location inside my spring boot where i have couple of services to interact from React.</p>\n"},{"tags":["java","docker","testcontainers","junit-jupiter"],"answers":[{"tags":[],"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689198147,"creation_date":1689195475,"answer_id":76674400,"question_id":76672892,"body_markdown":"The issue was around the port numbers. Every time `Testcontainers` starts a new `Docker` container, the *internal port* `5432` is mapped to a random port — and that&#39;s the one should be used.\r\n\r\nI ended up [using the approach][1] with the specially modified `JDBC URL Driver`, so I made the following changes:\r\n\r\n- Remove `org.testcontainers:junit-jupiter:1.18.3`\r\n- Remove the `JUnit Jupiter` setup — `Testcontainers`-specific annotations within tests, etc.\r\n- Update `jakarta.persistence.jdbc.driver`&#39;s value to `org.testcontainers.jdbc.ContainerDatabaseDriver` — although it works as well with `org.postgresql.Driver`\r\n- Update `jakarta.persistence.jdbc.url`&#39;s value to `jdbc:tc:postgresql:15.3-alpine3.18:///jakarta_persistence?currentSchema=my_schema_name`\r\n\r\n  [1]: https://java.testcontainers.org/modules/databases/jdbc/","title":"Unable to connect to Docker container using Testcontainers and JUnit Jupiter","body":"<p>The issue was around the port numbers. Every time <code>Testcontainers</code> starts a new <code>Docker</code> container, the <em>internal port</em> <code>5432</code> is mapped to a random port — and that's the one should be used.</p>\n<p>I ended up <a href=\"https://java.testcontainers.org/modules/databases/jdbc/\" rel=\"nofollow noreferrer\">using the approach</a> with the specially modified <code>JDBC URL Driver</code>, so I made the following changes:</p>\n<ul>\n<li>Remove <code>org.testcontainers:junit-jupiter:1.18.3</code></li>\n<li>Remove the <code>JUnit Jupiter</code> setup — <code>Testcontainers</code>-specific annotations within tests, etc.</li>\n<li>Update <code>jakarta.persistence.jdbc.driver</code>'s value to <code>org.testcontainers.jdbc.ContainerDatabaseDriver</code> — although it works as well with <code>org.postgresql.Driver</code></li>\n<li>Update <code>jakarta.persistence.jdbc.url</code>'s value to <code>jdbc:tc:postgresql:15.3-alpine3.18:///jakarta_persistence?currentSchema=my_schema_name</code></li>\n</ul>\n"}],"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76674400,"answer_count":1,"score":0,"last_activity_date":1689198147,"creation_date":1689180939,"question_id":76672892,"body_markdown":"I have a simple project in `Java` that uses `Jakarta Persistence`. I&#39;m running the tests using `JUnit Jupiter`, `Testcontainers`, and `JBoss Weld`.\r\n\r\nThis is one test:\r\n\r\n```java\r\n@EnableAutoWeld\r\n@Testcontainers\r\n@AddBeanClasses({ CategoryRepository.class, EntityManagerProducer.class })\r\nfinal class CategoryRepositoryTest {\r\n  public static final String POSTGRES_15_3 = &quot;postgres:15.3-alpine3.18&quot;;\r\n\r\n  @Container\r\n  private final PostgreSQLContainer&lt;?&gt; container = new PostgreSQLContainer&lt;&gt;(DockerImageName.parse(POSTGRES_15_3));\r\n\r\n  @Inject\r\n  private CategoryRepository repository;\r\n\r\n  @Test\r\n  void save() {\r\n    repository.save(new Category(1L, &quot;Name&quot;, &quot;Description&quot;));\r\n    // ...assertions here\r\n  }\r\n}\r\n```\r\n\r\nI&#39;m certain the container is started and exposed through port `5432`. The default database, username, and password are all defaulted to `test` — and that&#39;s what I&#39;m using in `persistence.xml`.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\r\n    xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\r\n    version=&quot;3.0&quot;&gt;\r\n  &lt;persistence-unit name=&quot;test&quot;&gt;\r\n    ...\r\n    &lt;properties&gt;\r\n      &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\r\n      &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;test&quot; /&gt;\r\n      &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://localhost:5432/test&quot; /&gt;\r\n      &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;test&quot; /&gt;\r\n      &lt;property name=&quot;jakarta.persistence.provider&quot; value=&quot;org.eclipse.persistence.jpa.PersistenceProvider&quot; /&gt;\r\n      &lt;property name=&quot;jakarta.persistence.schema-generation.create-script-source&quot; value=&quot;database/schema.sql&quot; /&gt;\r\n      &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;create&quot; /&gt;\r\n      &lt;property name=&quot;jakarta.persistence.sql-load-script-source&quot; value=&quot;database/data.sql&quot; /&gt;\r\n      &lt;property name=&quot;jakarta.persistence.transactionType&quot; value=&quot;RESOURCE_LOCAL&quot; /&gt;\r\n    &lt;/properties&gt;\r\n  &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\nI do have the following (relevant to this issue) dependencies in the `Gradle` build script:\r\n\r\n- `runtimeOnly(&quot;org.postgresql:postgresql:42.6.0&quot;)`\r\n- `testImplementation(&quot;org.jboss.weld:weld-junit5:4.0.0.Final&quot;)`\r\n- `testImplementation(&quot;org.testcontainers:junit-jupiter:1.18.3&quot;)`\r\n- `testImplementation(&quot;org.testcontainers:postgresql:1.18.3&quot;)`\r\n\r\n...but still, the tests are unable to connect to the running `Docker` container:\r\n\r\n```shell\r\nException [EclipseLink-4002] (Eclipse Persistence Services - 4.0.2.v202306161219): org.eclipse.persistence.exceptions.DatabaseException\r\nInternal Exception: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\nError Code: 0\r\njakarta.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 4.0.2.v202306161219): org.eclipse.persistence.exceptions.DatabaseException\r\nInternal Exception: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\nError Code: 0\r\n\tat app//org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:856)\r\n\tat app//org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getAbstractSession(EntityManagerFactoryDelegate.java:221)\r\n\tat app//org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getDatabaseSession(EntityManagerFactoryDelegate.java:199)\r\n\tat app//org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.getDatabaseSession(EntityManagerFactoryImpl.java:534)\r\n\tat app//org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactoryImpl(PersistenceProvider.java:153)\r\n\tat app//org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:191)\r\n\tat app//jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:80)\r\n\tat app//jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\r\n\tat app//org.acme.config.EntityManagerProducer.entityManager(EntityManagerProducer.java:19)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)\r\n\tat app//org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)\r\n\tat app//org.jboss.weld.injection.producer.ProducerMethodProducer.produce(ProducerMethodProducer.java:103)\r\n\tat app//org.jboss.weld.injection.producer.AbstractMemberProducer.produce(AbstractMemberProducer.java:161)\r\n\tat app//org.jboss.weld.bean.AbstractProducerBean.create(AbstractProducerBean.java:180)\r\n\tat app//org.jboss.weld.contexts.AbstractContext.get(AbstractContext.java:96)\r\n\tat app//org.jboss.weld.bean.ContextualInstanceStrategy$DefaultContextualInstanceStrategy.get(ContextualInstanceStrategy.java:100)\r\n\tat app//org.jboss.weld.bean.ContextualInstanceStrategy$ApplicationScopedContextualInstanceStrategy.get(ContextualInstanceStrategy.java:140)\r\n\tat app//org.jboss.weld.bean.ContextualInstance.get(ContextualInstance.java:50)\r\n\tat app//org.jboss.weld.bean.proxy.ContextBeanInstance.getInstance(ContextBeanInstance.java:102)\r\n\tat app//org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:105)\r\n\tat org.jboss.weld.generated.proxies.persistence.EntityManager$AutoCloseable$1352611957$Proxy$_$$_WeldClientProxy.getTransaction(Unknown Source)\r\n\tat app//org.acme.persistence.CategoryRepository.save(CategoryRepository.java:51)\r\n\tat app//org.acme.persistence.CategoryRepositoryTest.save(CategoryRepositoryTest.java:67)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)\r\n\tat app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 4.0.2.v202306161219): org.eclipse.persistence.exceptions.DatabaseException\r\nInternal Exception: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\nError Code: 0\r\n\tat app//org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:334)\r\n\tat app//org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:329)\r\n\tat app//org.eclipse.persistence.sessions.DefaultConnector.connect(DefaultConnector.java:142)\r\n\tat app//org.eclipse.persistence.sessions.DatasourceLogin.connectToDatasource(DatasourceLogin.java:174)\r\n\tat app//org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.setOrDetectDatasource(DatabaseSessionImpl.java:226)\r\n\tat app//org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.loginAndDetectDatasource(DatabaseSessionImpl.java:809)\r\n\tat app//org.eclipse.persistence.internal.jpa.EntityManagerFactoryProvider.login(EntityManagerFactoryProvider.java:259)\r\n\tat app//org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:771)\r\n\t... 111 more\r\nCaused by: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\n\tat app//org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)\r\n\tat app//org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\r\n\tat app//org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263)\r\n\tat app//org.postgresql.Driver.makeConnection(Driver.java:443)\r\n\tat app//org.postgresql.Driver.connect(Driver.java:297)\r\n\tat platform/java.sql@17.0.7/java.sql.DriverManager.getConnection(DriverManager.java:681)\r\n\tat platform/java.sql@17.0.7/java.sql.DriverManager.getConnection(DriverManager.java:190)\r\n\tat app//org.eclipse.persistence.sessions.DefaultConnector.connect(DefaultConnector.java:102)\r\n\t... 116 more\r\nCaused by: java.net.ConnectException: Connection refused\r\n\tat java.base/sun.nio.ch.Net.pollConnect(Native Method)\r\n\tat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n\tat java.base/java.net.Socket.connect(Socket.java:633)\r\n\tat org.postgresql.core.PGStream.createSocket(PGStream.java:243)\r\n\tat org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:98)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\r\n\t... 123 more\r\n```\r\n\r\nI&#39;ve also tried setting `.withNetworkAliases(&quot;some_alias&quot;)` and using `some_alias` as the hostname, but the error message is similar.\r\n\r\nBasically, the tests are unable to access the running `Docker` container with the provided settings. Not sure why this is happening, but looks like I&#39;m missing something obvious.","title":"Unable to connect to Docker container using Testcontainers and JUnit Jupiter","body":"<p>I have a simple project in <code>Java</code> that uses <code>Jakarta Persistence</code>. I'm running the tests using <code>JUnit Jupiter</code>, <code>Testcontainers</code>, and <code>JBoss Weld</code>.</p>\n<p>This is one test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableAutoWeld\n@Testcontainers\n@AddBeanClasses({ CategoryRepository.class, EntityManagerProducer.class })\nfinal class CategoryRepositoryTest {\n  public static final String POSTGRES_15_3 = &quot;postgres:15.3-alpine3.18&quot;;\n\n  @Container\n  private final PostgreSQLContainer&lt;?&gt; container = new PostgreSQLContainer&lt;&gt;(DockerImageName.parse(POSTGRES_15_3));\n\n  @Inject\n  private CategoryRepository repository;\n\n  @Test\n  void save() {\n    repository.save(new Category(1L, &quot;Name&quot;, &quot;Description&quot;));\n    // ...assertions here\n  }\n}\n</code></pre>\n<p>I'm certain the container is started and exposed through port <code>5432</code>. The default database, username, and password are all defaulted to <code>test</code> — and that's what I'm using in <code>persistence.xml</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\n    xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\n    version=&quot;3.0&quot;&gt;\n  &lt;persistence-unit name=&quot;test&quot;&gt;\n    ...\n    &lt;properties&gt;\n      &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\n      &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;test&quot; /&gt;\n      &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://localhost:5432/test&quot; /&gt;\n      &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;test&quot; /&gt;\n      &lt;property name=&quot;jakarta.persistence.provider&quot; value=&quot;org.eclipse.persistence.jpa.PersistenceProvider&quot; /&gt;\n      &lt;property name=&quot;jakarta.persistence.schema-generation.create-script-source&quot; value=&quot;database/schema.sql&quot; /&gt;\n      &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;create&quot; /&gt;\n      &lt;property name=&quot;jakarta.persistence.sql-load-script-source&quot; value=&quot;database/data.sql&quot; /&gt;\n      &lt;property name=&quot;jakarta.persistence.transactionType&quot; value=&quot;RESOURCE_LOCAL&quot; /&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>I do have the following (relevant to this issue) dependencies in the <code>Gradle</code> build script:</p>\n<ul>\n<li><code>runtimeOnly(&quot;org.postgresql:postgresql:42.6.0&quot;)</code></li>\n<li><code>testImplementation(&quot;org.jboss.weld:weld-junit5:4.0.0.Final&quot;)</code></li>\n<li><code>testImplementation(&quot;org.testcontainers:junit-jupiter:1.18.3&quot;)</code></li>\n<li><code>testImplementation(&quot;org.testcontainers:postgresql:1.18.3&quot;)</code></li>\n</ul>\n<p>...but still, the tests are unable to connect to the running <code>Docker</code> container:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Exception [EclipseLink-4002] (Eclipse Persistence Services - 4.0.2.v202306161219): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\nError Code: 0\njakarta.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 4.0.2.v202306161219): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\nError Code: 0\n    at app//org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:856)\n    at app//org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getAbstractSession(EntityManagerFactoryDelegate.java:221)\n    at app//org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getDatabaseSession(EntityManagerFactoryDelegate.java:199)\n    at app//org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.getDatabaseSession(EntityManagerFactoryImpl.java:534)\n    at app//org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactoryImpl(PersistenceProvider.java:153)\n    at app//org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:191)\n    at app//jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:80)\n    at app//jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\n    at app//org.acme.config.EntityManagerProducer.entityManager(EntityManagerProducer.java:19)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:95)\n    at app//org.jboss.weld.injection.StaticMethodInjectionPoint.invoke(StaticMethodInjectionPoint.java:85)\n    at app//org.jboss.weld.injection.producer.ProducerMethodProducer.produce(ProducerMethodProducer.java:103)\n    at app//org.jboss.weld.injection.producer.AbstractMemberProducer.produce(AbstractMemberProducer.java:161)\n    at app//org.jboss.weld.bean.AbstractProducerBean.create(AbstractProducerBean.java:180)\n    at app//org.jboss.weld.contexts.AbstractContext.get(AbstractContext.java:96)\n    at app//org.jboss.weld.bean.ContextualInstanceStrategy$DefaultContextualInstanceStrategy.get(ContextualInstanceStrategy.java:100)\n    at app//org.jboss.weld.bean.ContextualInstanceStrategy$ApplicationScopedContextualInstanceStrategy.get(ContextualInstanceStrategy.java:140)\n    at app//org.jboss.weld.bean.ContextualInstance.get(ContextualInstance.java:50)\n    at app//org.jboss.weld.bean.proxy.ContextBeanInstance.getInstance(ContextBeanInstance.java:102)\n    at app//org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:105)\n    at org.jboss.weld.generated.proxies.persistence.EntityManager$AutoCloseable$1352611957$Proxy$_$$_WeldClientProxy.getTransaction(Unknown Source)\n    at app//org.acme.persistence.CategoryRepository.save(CategoryRepository.java:51)\n    at app//org.acme.persistence.CategoryRepositoryTest.save(CategoryRepositoryTest.java:67)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)\n    at app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 4.0.2.v202306161219): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\nError Code: 0\n    at app//org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:334)\n    at app//org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:329)\n    at app//org.eclipse.persistence.sessions.DefaultConnector.connect(DefaultConnector.java:142)\n    at app//org.eclipse.persistence.sessions.DatasourceLogin.connectToDatasource(DatasourceLogin.java:174)\n    at app//org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.setOrDetectDatasource(DatabaseSessionImpl.java:226)\n    at app//org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.loginAndDetectDatasource(DatabaseSessionImpl.java:809)\n    at app//org.eclipse.persistence.internal.jpa.EntityManagerFactoryProvider.login(EntityManagerFactoryProvider.java:259)\n    at app//org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:771)\n    ... 111 more\nCaused by: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\n    at app//org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)\n    at app//org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\n    at app//org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263)\n    at app//org.postgresql.Driver.makeConnection(Driver.java:443)\n    at app//org.postgresql.Driver.connect(Driver.java:297)\n    at platform/java.sql@17.0.7/java.sql.DriverManager.getConnection(DriverManager.java:681)\n    at platform/java.sql@17.0.7/java.sql.DriverManager.getConnection(DriverManager.java:190)\n    at app//org.eclipse.persistence.sessions.DefaultConnector.connect(DefaultConnector.java:102)\n    ... 116 more\nCaused by: java.net.ConnectException: Connection refused\n    at java.base/sun.nio.ch.Net.pollConnect(Native Method)\n    at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)\n    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at org.postgresql.core.PGStream.createSocket(PGStream.java:243)\n    at org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:98)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\n    ... 123 more\n</code></pre>\n<p>I've also tried setting <code>.withNetworkAliases(&quot;some_alias&quot;)</code> and using <code>some_alias</code> as the hostname, but the error message is similar.</p>\n<p>Basically, the tests are unable to access the running <code>Docker</code> container with the provided settings. Not sure why this is happening, but looks like I'm missing something obvious.</p>\n"},{"tags":["java","algorithm","hashmap","time-complexity"],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1688864488,"post_id":76643221,"comment_id":135131123,"body_markdown":"The last line should be removed - then this is a fine answer. The last line makes no sense. The string conatenation is irrelevant here (it&#39;s just 2 strings, not &#39;a string that is being continually grown&#39;), and isn&#39;t `O(n)`  given that you defined `n` to be the number of documents in the list. Even if it was, `O(n+n)` is simply `O(n)`, so removing one `O(n)` from that doesn&#39;t change the big-O notation at all. I don&#39;t think the line is necessary nor that it can be salvaged. Just remove it.","body":"The last line should be removed - then this is a fine answer. The last line makes no sense. The string conatenation is irrelevant here (it&#39;s just 2 strings, not &#39;a string that is being continually grown&#39;), and isn&#39;t <code>O(n)</code>  given that you defined <code>n</code> to be the number of documents in the list. Even if it was, <code>O(n+n)</code> is simply <code>O(n)</code>, so removing one <code>O(n)</code> from that doesn&#39;t change the big-O notation at all. I don&#39;t think the line is necessary nor that it can be salvaged. Just remove it."}],"tags":[],"owner":{"account_id":19460277,"reputation":248,"user_id":14234726,"display_name":"dan-koller"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688879975,"creation_date":1688823371,"answer_id":76643221,"question_id":76643137,"body_markdown":"The time complexity of your code can be calculated as follows:\r\n\r\n1. Your outer for loop iterates over n documents in the given ArrayList (`O(n)`)\r\n2. The inner for loop iterates m times over the current document (`O(m)`)\r\n\r\nTherefore, I would say the time complexity of the provided code snippet is `O(n * m)` in the worst case, where &quot;n&quot; represents the number of documents and &quot;m&quot; represents the average size of the documents.\r\n\r\nGood luck!","title":"How do I calculate the time complexity of this code?","body":"<p>The time complexity of your code can be calculated as follows:</p>\n<ol>\n<li>Your outer for loop iterates over n documents in the given ArrayList (<code>O(n)</code>)</li>\n<li>The inner for loop iterates m times over the current document (<code>O(m)</code>)</li>\n</ol>\n<p>Therefore, I would say the time complexity of the provided code snippet is <code>O(n * m)</code> in the worst case, where &quot;n&quot; represents the number of documents and &quot;m&quot; represents the average size of the documents.</p>\n<p>Good luck!</p>\n"},{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1688864357,"post_id":76643695,"comment_id":135131117,"body_markdown":"This answer is incorrect. There are 2 loops here; you can&#39;t reduce this down to `O(n)` unless you decree that one of these loops is to be treated as constant.","body":"This answer is incorrect. There are 2 loops here; you can&#39;t reduce this down to <code>O(n)</code> unless you decree that one of these loops is to be treated as constant."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1688880964,"post_id":76643695,"comment_id":135131972,"body_markdown":"The answer is fine.  I don&#39;t think you&#39;re considering the definition of &#39;n&#39;.","body":"The answer is fine.  I don&#39;t think you&#39;re considering the definition of &#39;n&#39;."}],"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688830583,"creation_date":1688830583,"answer_id":76643695,"question_id":76643137,"body_markdown":"We would normally say that this code is O(n) in the size of the input.  The &quot;size of the input&quot; is the number_of_documents + total_document_strings + total_string_length;\r\n\r\nIt&#39;s not possible to do better than that in the worst case, since it takes that much time just to read the input, and in the worst case you have to read it all.\r\n\r\nTechnically, though, it&#39;s O(n) *expected* time, because the `HashMap` operations are O(1) expected time.  The word &quot;expected&quot; implies that the hash function is treated as random, but in fact it is not and an adversary who knows the hash function could maliciously devise inputs that take more than O(n) time.  We often don&#39;t worry about this distinction.","title":"How do I calculate the time complexity of this code?","body":"<p>We would normally say that this code is O(n) in the size of the input.  The &quot;size of the input&quot; is the number_of_documents + total_document_strings + total_string_length;</p>\n<p>It's not possible to do better than that in the worst case, since it takes that much time just to read the input, and in the worst case you have to read it all.</p>\n<p>Technically, though, it's O(n) <em>expected</em> time, because the <code>HashMap</code> operations are O(1) expected time.  The word &quot;expected&quot; implies that the hash function is treated as random, but in fact it is not and an adversary who knows the hash function could maliciously devise inputs that take more than O(n) time.  We often don't worry about this distinction.</p>\n"},{"tags":[],"owner":{"account_id":28520012,"reputation":11,"user_id":21828851,"display_name":"user-m"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689197896,"creation_date":1689197896,"answer_id":76674607,"question_id":76643137,"body_markdown":"The time complexity of your code can be understood as follows:\r\n\r\nThe outer loop (i.e., for(ArrayList&lt;String&gt; doc : documents)) will run as many times as there are documents in your input list. So if there are n documents, this loop runs n times.\r\n\r\nThe inner loop (i.e., for(int i=0; i&lt;doc.size-1; i++)) will run as many times as there are words in each document. So if there are m words in each document, the inner loop runs m times.\r\n\r\nSo overall, the time complexity of your code can be considered as O(n*m).\r\n\r\nHowever, this is not the final complexity. The HashMap operation counter.compute() also has a time complexity which is usually O(1) in the average case but can be O(n) in the worst case where n is the number of elements in the map. But since HashMap operations are generally considered to have a time complexity of O(1) in average case scenarios, we usually consider the time complexity of your code to be O(n*m).\r\n\r\nIn terms of improving your code:you can use a pair of strings as the key to your HashMap instead of concatenating the strings(You can create a simple Pair class for this purpose) or u can use the Map.merge() method instead of Map.compute().These will make it easier to manipulate and understand. But these changes are not going to change the time complexity of your code.","title":"How do I calculate the time complexity of this code?","body":"<p>The time complexity of your code can be understood as follows:</p>\n<p>The outer loop (i.e., for(ArrayList doc : documents)) will run as many times as there are documents in your input list. So if there are n documents, this loop runs n times.</p>\n<p>The inner loop (i.e., for(int i=0; i&lt;doc.size-1; i++)) will run as many times as there are words in each document. So if there are m words in each document, the inner loop runs m times.</p>\n<p>So overall, the time complexity of your code can be considered as O(n*m).</p>\n<p>However, this is not the final complexity. The HashMap operation counter.compute() also has a time complexity which is usually O(1) in the average case but can be O(n) in the worst case where n is the number of elements in the map. But since HashMap operations are generally considered to have a time complexity of O(1) in average case scenarios, we usually consider the time complexity of your code to be O(n*m).</p>\n<p>In terms of improving your code:you can use a pair of strings as the key to your HashMap instead of concatenating the strings(You can create a simple Pair class for this purpose) or u can use the Map.merge() method instead of Map.compute().These will make it easier to manipulate and understand. But these changes are not going to change the time complexity of your code.</p>\n"}],"owner":{"account_id":27088527,"reputation":1,"user_id":20636673,"display_name":"salimski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1689197896,"creation_date":1688822010,"question_id":76643137,"body_markdown":"I&#39;ve built a data structure that receives an array list of documents (ArrayList&lt;ArrayList&lt;String&gt;&gt; documents) and I need to store each subsequent words in a data structure and how many times the subsequent has appeared. \r\n\r\nSo I built a HashMap that has the two strings concated as the key and how many times they&#39;ve appeared as value.\r\n\r\n\r\nHere&#39;s my code:\r\n\r\n\r\n```\r\nHashMap&lt;String, Integer&gt; counter; //Treat as its initialized\r\n\r\npublic add(ArrayList&lt;ArrayList&lt;String&gt;&gt; documents){\r\n\r\n      for(ArrayList&lt;String&gt; doc : documents){\r\n          for(int i=0; i&lt;doc.size-1; i++){\r\n\r\n              String concated = doc.get(i)+doc.get(i+1);\r\n              counter.compute(concated, (k,v) -&gt; v==null ? 1 : v+1);\r\n           }\r\n        }\r\n\r\n```\r\n\r\nWhats the time complexity of this and how do you calculate it? and could&#39;ve I made this algorithm faster in anyway?\r\n\r\n\r\nI tried watching youtube videos about the Big O but none of the videos go into complex situations like this. ","title":"How do I calculate the time complexity of this code?","body":"<p>I've built a data structure that receives an array list of documents (ArrayList&lt;ArrayList&gt; documents) and I need to store each subsequent words in a data structure and how many times the subsequent has appeared.</p>\n<p>So I built a HashMap that has the two strings concated as the key and how many times they've appeared as value.</p>\n<p>Here's my code:</p>\n<pre><code>HashMap&lt;String, Integer&gt; counter; //Treat as its initialized\n\npublic add(ArrayList&lt;ArrayList&lt;String&gt;&gt; documents){\n\n      for(ArrayList&lt;String&gt; doc : documents){\n          for(int i=0; i&lt;doc.size-1; i++){\n\n              String concated = doc.get(i)+doc.get(i+1);\n              counter.compute(concated, (k,v) -&gt; v==null ? 1 : v+1);\n           }\n        }\n\n</code></pre>\n<p>Whats the time complexity of this and how do you calculate it? and could've I made this algorithm faster in anyway?</p>\n<p>I tried watching youtube videos about the Big O but none of the videos go into complex situations like this.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":0,"creation_date":1688004164,"post_id":76577568,"comment_id":135016733,"body_markdown":"Hi, what are you using as rest client? `RestTemplate`? Does the error happen on server side? caller side?","body":"Hi, what are you using as rest client? <code>RestTemplate</code>? Does the error happen on server side? caller side?"},{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":0,"creation_date":1688015344,"post_id":76577568,"comment_id":135017515,"body_markdown":"Maybe try typing the `ResponseEntity` as `ResponseEntity&lt;Void&gt;`. I think you wouldnt need to specify the media type, nor Spring should try to make any conversions","body":"Maybe try typing the <code>ResponseEntity</code> as <code>ResponseEntity&lt;Void&gt;</code>. I think you wouldnt need to specify the media type, nor Spring should try to make any conversions"},{"owner":{"account_id":12256232,"reputation":617,"user_id":8945198,"display_name":"AP11"},"score":0,"creation_date":1688023896,"post_id":76577568,"comment_id":135018748,"body_markdown":"You don&#39;t have to include the `contentType` in a `ResponseEntity` as you already defined it in the annotation of the endpoint. Also what object are you returning in the `ResponseEntity`?","body":"You don&#39;t have to include the <code>contentType</code> in a <code>ResponseEntity</code> as you already defined it in the annotation of the endpoint. Also what object are you returning in the <code>ResponseEntity</code>?"},{"owner":{"account_id":3486962,"reputation":882,"user_id":2917629,"accept_rate":21,"display_name":"user2917629"},"score":0,"creation_date":1688085360,"post_id":76577568,"comment_id":135030128,"body_markdown":"@Jhilton - The error is on the caller side. The http client used in the caller is javax.ws.rs.client. If i use ResponseEntity&lt;Void&gt; and remove everything related to Media Type, I get this error just calling the endpoint via Postman: org.jboss.resteasy.core.NoMessageBodyWriterFoundFailure: Could not find MessageBodyWriter for response object of type: org.springframework.http.ResponseEntity of media type: application/octet-stream","body":"@Jhilton - The error is on the caller side. The http client used in the caller is javax.ws.rs.client. If i use ResponseEntity&lt;Void&gt; and remove everything related to Media Type, I get this error just calling the endpoint via Postman: org.jboss.resteasy.core.NoMessageBodyWriterFoundFailure: Could not find MessageBodyWriter for response object of type: org.springframework.http.ResponseEntity of media type: application/octet-stream"},{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":0,"creation_date":1688085528,"post_id":76577568,"comment_id":135030143,"body_markdown":"Sorry, I would need to setup a project to test around for a really proper answer, the quick and dirty way might be to &quot;produce&quot; text plain, have the ResponseEntity as `ResponseEntity&lt;String&gt;`, and just assume the text is always empty, or not look for the response body at all on caller&#39;s side","body":"Sorry, I would need to setup a project to test around for a really proper answer, the quick and dirty way might be to &quot;produce&quot; text plain, have the ResponseEntity as <code>ResponseEntity&lt;String&gt;</code>, and just assume the text is always empty, or not look for the response body at all on caller&#39;s side"},{"owner":{"account_id":3486962,"reputation":882,"user_id":2917629,"accept_rate":21,"display_name":"user2917629"},"score":0,"creation_date":1688085752,"post_id":76577568,"comment_id":135030156,"body_markdown":"@AP11 - I&#39;m not attaching any object to ResponseEntity, I hope I could keep it as is.","body":"@AP11 - I&#39;m not attaching any object to ResponseEntity, I hope I could keep it as is."},{"owner":{"account_id":12256232,"reputation":617,"user_id":8945198,"display_name":"AP11"},"score":0,"creation_date":1688107609,"post_id":76577568,"comment_id":135032077,"body_markdown":"@user2917629 Then, as @Jhilton suggested, just change it to `ResponseEntity&lt;Void&gt;` so it knows that no body should be attached to it.\nThen you should return only this `return ResponseEntity.ok();`","body":"@user2917629 Then, as @Jhilton suggested, just change it to <code>ResponseEntity&lt;Void&gt;</code> so it knows that no body should be attached to it. Then you should return only this <code>return ResponseEntity.ok();</code>"},{"owner":{"account_id":3486962,"reputation":882,"user_id":2917629,"accept_rate":21,"display_name":"user2917629"},"score":0,"creation_date":1688162688,"post_id":76577568,"comment_id":135042126,"body_markdown":"@AP11 - I&#39;ve tried with void, it didn&#39;t work. I got this error just calling the endpoint via Postman: org.jboss.resteasy.core.NoMessageBodyWriterFoundFailure: Could not find MessageBodyWriter for response object of type: org.springframework.http.ResponseEntity of media type: application/octet-stream","body":"@AP11 - I&#39;ve tried with void, it didn&#39;t work. I got this error just calling the endpoint via Postman: org.jboss.resteasy.core.NoMessageBodyWriterFoundFailure: Could not find MessageBodyWriter for response object of type: org.springframework.http.ResponseEntity of media type: application/octet-stream"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688621953,"post_id":76577568,"comment_id":135098665,"body_markdown":"You are mixing a Spring `ResponseEntity` with JAX-RS which doesn&#39;t know what to do with it. So either stop using `ResponseEntity` as that is for Spring not for JAX-RS or ditch JAX-RS and use Spring MVC instead.","body":"You are mixing a Spring <code>ResponseEntity</code> with JAX-RS which doesn&#39;t know what to do with it. So either stop using <code>ResponseEntity</code> as that is for Spring not for JAX-RS or ditch JAX-RS and use Spring MVC instead."},{"owner":{"account_id":3486962,"reputation":882,"user_id":2917629,"accept_rate":21,"display_name":"user2917629"},"score":0,"creation_date":1688767370,"post_id":76577568,"comment_id":135122871,"body_markdown":"@M.Deinum - Thank you, yes, I&#39;m going to try replacing  ResponseEntity with just Response next.","body":"@M.Deinum - Thank you, yes, I&#39;m going to try replacing  ResponseEntity with just Response next."}],"answers":[{"tags":[],"owner":{"account_id":3486962,"reputation":882,"user_id":2917629,"accept_rate":21,"display_name":"user2917629"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689197663,"creation_date":1689197663,"answer_id":76674589,"question_id":76577568,"body_markdown":"In order to fix the deserialization error, this custom Json object Cancellation is returned instead of ResponseEntity:\r\n```\r\n    @POST\r\n    @Path(&quot;/runtest&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    Cancellation runtest(MyRequestObject obj);\r\n```","title":"Java - Deserialization issue for ResponseEntity as a response","body":"<p>In order to fix the deserialization error, this custom Json object Cancellation is returned instead of ResponseEntity:</p>\n<pre><code>    @POST\n    @Path(&quot;/runtest&quot;)\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    Cancellation runtest(MyRequestObject obj);\n</code></pre>\n"}],"owner":{"account_id":3486962,"reputation":882,"user_id":2917629,"accept_rate":21,"display_name":"user2917629"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689197663,"creation_date":1688002450,"question_id":76577568,"body_markdown":"I&#39;m attempting to set up a stub endpoint and a caller for it in a separate app.  By design, the endpoint needs to return something very simple - very basic response with status code 200 or 500 - no extra response objects are required. Currently the caller of the endpoint is throwing the error below. It is too early to tell what kind of MediaType the endpoint will return, but currently I have it set to json as follows:\r\n\r\nThe error:\r\n```\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of org.springframework.http.ResponseEntity (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n```\r\nThe endpoint definition:\r\n```\r\n    @POST\r\n    @Path(&quot;/runtest&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    ResponseEntity runtest(MyRequestObject obj);\r\n```\r\n\r\nAnd a stub endpoint implementation:\r\n\r\n```\r\n    public ResponseEntity runtest(MyRequestObject obj) {\r\n        return ResponseEntity.ok().contentType(MediaType.APPLICATION_JSON).build();\r\n    } \r\n```\r\n\r\nThe caller code in a separate application utilizing the endpoint:\r\n```\r\n    public ResponseEntity runtest(MyRequestObject obj) {\r\n        return service.runtest(obj);\r\n    }\r\n```\r\nWhen I hit the endpoint with just the Postman, I get back what I would expect without any errors:\r\n```\r\n{\r\n    &quot;headers&quot;: {...},\r\n    &quot;body&quot;: null,\r\n    &quot;statusCodeValue&quot;: 200,\r\n    &quot;statusCode&quot;: &quot;OK&quot;\r\n}\r\n```\r\n\r\nHere is what I&#39;m hoping to resolve:\r\n - Is there a simple way to get the above to work, without attaching a DTO object to the ResponseEntity? The response needs to be very basic. \r\n - I&#39;d rather not set MediaType for ResponseEntity, but it seems to me that I have to have it to match the definition of the endpoint.\r\n\r\nMuch appreciate your input and time.\r\n\r\n","title":"Java - Deserialization issue for ResponseEntity as a response","body":"<p>I'm attempting to set up a stub endpoint and a caller for it in a separate app.  By design, the endpoint needs to return something very simple - very basic response with status code 200 or 500 - no extra response objects are required. Currently the caller of the endpoint is throwing the error below. It is too early to tell what kind of MediaType the endpoint will return, but currently I have it set to json as follows:</p>\n<p>The error:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of org.springframework.http.ResponseEntity (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n</code></pre>\n<p>The endpoint definition:</p>\n<pre><code>    @POST\n    @Path(&quot;/runtest&quot;)\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    ResponseEntity runtest(MyRequestObject obj);\n</code></pre>\n<p>And a stub endpoint implementation:</p>\n<pre><code>    public ResponseEntity runtest(MyRequestObject obj) {\n        return ResponseEntity.ok().contentType(MediaType.APPLICATION_JSON).build();\n    } \n</code></pre>\n<p>The caller code in a separate application utilizing the endpoint:</p>\n<pre><code>    public ResponseEntity runtest(MyRequestObject obj) {\n        return service.runtest(obj);\n    }\n</code></pre>\n<p>When I hit the endpoint with just the Postman, I get back what I would expect without any errors:</p>\n<pre><code>{\n    &quot;headers&quot;: {...},\n    &quot;body&quot;: null,\n    &quot;statusCodeValue&quot;: 200,\n    &quot;statusCode&quot;: &quot;OK&quot;\n}\n</code></pre>\n<p>Here is what I'm hoping to resolve:</p>\n<ul>\n<li>Is there a simple way to get the above to work, without attaching a DTO object to the ResponseEntity? The response needs to be very basic.</li>\n<li>I'd rather not set MediaType for ResponseEntity, but it seems to me that I have to have it to match the definition of the endpoint.</li>\n</ul>\n<p>Much appreciate your input and time.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":23057477,"reputation":21,"user_id":17173324,"display_name":"Ozren Dabić"},"score":0,"creation_date":1689233941,"post_id":76674461,"comment_id":135185075,"body_markdown":"I can confirm that a SpEL expression like `&quot;#{T(org.example.Job).valueOf(&#39;${app.job.type}&#39;) == T(org.example.Job).CODE}&quot;` works. But I&#39;m still curious, if this is not possible with `Conditional` is there another method or annotation for creating components based on the values of a bean?","body":"I can confirm that a SpEL expression like <code>&quot;#{T(org.example.Job).valueOf(&#39;${app.job.type}&#39;) == T(org.example.Job).CODE}&quot;</code> works. But I&#39;m still curious, if this is not possible with <code>Conditional</code> is there another method or annotation for creating components based on the values of a bean?"},{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1689239932,"post_id":76674461,"comment_id":135186310,"body_markdown":"I don&#39;t think so. I&#39;m curious, how would you use `FirstJobComponent`? Since it will exist only when the condition is matched, how would you handle the case when the component doesn&#39;t exist?","body":"I don&#39;t think so. I&#39;m curious, how would you use <code>FirstJobComponent</code>? Since it will exist only when the condition is matched, how would you handle the case when the component doesn&#39;t exist?"},{"owner":{"account_id":23057477,"reputation":21,"user_id":17173324,"display_name":"Ozren Dabić"},"score":0,"creation_date":1689240768,"post_id":76674461,"comment_id":135186527,"body_markdown":"I would not &quot;use&quot; it anywhere. It&#39;s not shown in the example but the component&#39;s `run()` method is annotated with `@Scheduled`. If the bean does not exist, the scheduled task should not spawn (which is already the current behaviour). I guess the alternative would be to schedule `Runnable` instances in a dedicated `Configuration` class, based on the bean value. I hope what I&#39;m saying makes sense.","body":"I would not &quot;use&quot; it anywhere. It&#39;s not shown in the example but the component&#39;s <code>run()</code> method is annotated with <code>@Scheduled</code>. If the bean does not exist, the scheduled task should not spawn (which is already the current behaviour). I guess the alternative would be to schedule <code>Runnable</code> instances in a dedicated <code>Configuration</code> class, based on the bean value. I hope what I&#39;m saying makes sense."},{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1689241945,"post_id":76674461,"comment_id":135186770,"body_markdown":"I get it. Runnable is probably the alternative, but I still think it is better to use `ConditionalOnExpression` mentioned in the answer. In that case, the` jobType` bean is unnecessary, since it can be injected into the component using `@Value` in the constructor.","body":"I get it. Runnable is probably the alternative, but I still think it is better to use <code>ConditionalOnExpression</code> mentioned in the answer. In that case, the` jobType` bean is unnecessary, since it can be injected into the component using <code>@Value</code> in the constructor."},{"owner":{"account_id":23057477,"reputation":21,"user_id":17173324,"display_name":"Ozren Dabić"},"score":0,"creation_date":1689328446,"post_id":76674461,"comment_id":135201102,"body_markdown":"In the end, I decided to use the solution based on your first comment. I wish that you could use bean references in the annotation, as it would make the expression less verbose. But I understand it&#39;s not possible. Since there are no other proposed solutions, and mine is based on your answer, I&#39;ll accept it.","body":"In the end, I decided to use the solution based on your first comment. I wish that you could use bean references in the annotation, as it would make the expression less verbose. But I understand it&#39;s not possible. Since there are no other proposed solutions, and mine is based on your answer, I&#39;ll accept it."},{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1700044946,"post_id":76674461,"comment_id":136605729,"body_markdown":"@OzrenDabić have you found a better solution?","body":"@OzrenDabić have you found a better solution?"}],"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689196201,"creation_date":1689196201,"answer_id":76674461,"question_id":76670226,"body_markdown":"[Conditional][1] annotations are used to determine whether a bean is going to be registered or not, therefore when conditions are evaluated the bean does not exist yet.\r\n\r\nThe way to solve your issue is to refer to the `app.job.type` in the SpEL expression, as follows:\r\n\r\n    @ConditionalOnExpression(&quot;#{T(com.example.Job).JOB_1.toString().equals(&#39;${app.job.type}&#39;)}&quot;)\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/6.0.10/javadoc-api/org/springframework/context/annotation/Conditional.html","title":"Referencing `@Configuration` bean of enum type in `@ConditionalOnExpression`","body":"<p><a href=\"https://docs.spring.io/spring-framework/docs/6.0.10/javadoc-api/org/springframework/context/annotation/Conditional.html\" rel=\"nofollow noreferrer\">Conditional</a> annotations are used to determine whether a bean is going to be registered or not, therefore when conditions are evaluated the bean does not exist yet.</p>\n<p>The way to solve your issue is to refer to the <code>app.job.type</code> in the SpEL expression, as follows:</p>\n<pre><code>@ConditionalOnExpression(&quot;#{T(com.example.Job).JOB_1.toString().equals('${app.job.type}')}&quot;)\n</code></pre>\n"}],"owner":{"account_id":23057477,"reputation":21,"user_id":17173324,"display_name":"Ozren Dabić"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689196201,"creation_date":1689162579,"question_id":76670226,"body_markdown":"I define a `Job` enum in my application as:\r\n\r\n```java\r\npackage org.example;\r\n\r\npublic enum Job {\r\n    JOB_1, JOB_2, JOB_3\r\n}\r\n```\r\n\r\nAnd create a Bean of the same type inside a class annotated with `@Configuration`:\r\n\r\n```java\r\n@Configuration\r\npublic class AppConfig {\r\n\r\n    @Bean\r\n    public Job jobType(@Value(&quot;${app.job.type}&quot;) Job jobType) {\r\n        return jobType;\r\n    }\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nThe value used for creating said bean is drawn from the `application.properties`:\r\n\r\n```properties\r\napp.job.type=${APP_JOB:JOB_1}\r\n```\r\n\r\nWhile the bean creation works fine, what I want to do next is create a `@Component` conditionally based on the value of the bean. So far I&#39;ve tried:\r\n\r\n```java\r\n@Slf4j\r\n@Component\r\n@ConditionalOnExpression(&quot;#{ T(org.example.Job).JOB_1.equals(jobType) }&quot;)\r\n@RequiredArgsConstructor(onConstructor_ = @Autowired)\r\n@FieldDefaults(level = AccessLevel.PRIVATE, makeFinal = true)\r\npublic class FirstJobComponent {\r\n\r\n    Job jobType;\r\n\r\n    // ...\r\n\r\n}\r\n```\r\n\r\nBut this results in an exception:\r\n\r\n```log\r\n2023-07-12 13:39:41.240 ERROR 83861 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [/_redacted_/target/classes/org/example/FirstJobComponent.class]; nested exception is java.lang.IllegalStateException: Error processing condition on org.example.FirstJobComponent\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:457) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:295) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:748) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.13.jar:2.7.13]\r\n\tat org.example.Application.main(Application.java:10) ~[classes/:na]\r\nCaused by: java.lang.IllegalStateException: Error processing condition on org.example.FirstJobComponent\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\r\n\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:88) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:71) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.isConditionMatch(ClassPathScanningCandidateComponentProvider.java:512) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.isCandidateComponent(ClassPathScanningCandidateComponentProvider.java:495) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:430) ~[spring-context-5.3.28.jar:5.3.28]\r\n\t... 19 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field &#39;jobType&#39; cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39; - maybe not public or not valid?\r\n\tat org.springframework.context.expression.StandardBeanExpressionResolver.evaluate(StandardBeanExpressionResolver.java:170) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.boot.autoconfigure.condition.OnExpressionCondition.evaluateExpression(OnExpressionCondition.java:60) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.autoconfigure.condition.OnExpressionCondition.getMatchOutcome(OnExpressionCondition.java:48) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\r\n\t... 25 common frames omitted\r\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field &#39;jobType&#39; cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39; - maybe not public or not valid?\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:223) ~[spring-expression-5.3.28.jar:5.3.28]\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:106) ~[spring-expression-5.3.28.jar:5.3.28]\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:93) ~[spring-expression-5.3.28.jar:5.3.28]\r\n\tat org.springframework.expression.spel.ast.MethodReference.getArguments(MethodReference.java:164) ~[spring-expression-5.3.28.jar:5.3.28]\r\n\tat org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:81) ~[spring-expression-5.3.28.jar:5.3.28]\r\n\tat org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:71) ~[spring-expression-5.3.28.jar:5.3.28]\r\n\tat org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.3.28.jar:5.3.28]\r\n\tat org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:114) ~[spring-expression-5.3.28.jar:5.3.28]\r\n\tat org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:273) ~[spring-expression-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.expression.StandardBeanExpressionResolver.evaluate(StandardBeanExpressionResolver.java:167) ~[spring-context-5.3.28.jar:5.3.28]\r\n\t... 28 common frames omitted\r\n```\r\n\r\nWhat could be the cause of this? Does the `@ConditionalOnExpression` get evaluated before the bean is defined? I thought that it would cause a bean to get defined early if it does not exist. The Spring Expression Language reference is not very helpful here.","title":"Referencing `@Configuration` bean of enum type in `@ConditionalOnExpression`","body":"<p>I define a <code>Job</code> enum in my application as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\npublic enum Job {\n    JOB_1, JOB_2, JOB_3\n}\n</code></pre>\n<p>And create a Bean of the same type inside a class annotated with <code>@Configuration</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AppConfig {\n\n    @Bean\n    public Job jobType(@Value(&quot;${app.job.type}&quot;) Job jobType) {\n        return jobType;\n    }\n\n    // ...\n}\n</code></pre>\n<p>The value used for creating said bean is drawn from the <code>application.properties</code>:</p>\n<pre><code>app.job.type=${APP_JOB:JOB_1}\n</code></pre>\n<p>While the bean creation works fine, what I want to do next is create a <code>@Component</code> conditionally based on the value of the bean. So far I've tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Component\n@ConditionalOnExpression(&quot;#{ T(org.example.Job).JOB_1.equals(jobType) }&quot;)\n@RequiredArgsConstructor(onConstructor_ = @Autowired)\n@FieldDefaults(level = AccessLevel.PRIVATE, makeFinal = true)\npublic class FirstJobComponent {\n\n    Job jobType;\n\n    // ...\n\n}\n</code></pre>\n<p>But this results in an exception:</p>\n<pre><code>2023-07-12 13:39:41.240 ERROR 83861 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [/_redacted_/target/classes/org/example/FirstJobComponent.class]; nested exception is java.lang.IllegalStateException: Error processing condition on org.example.FirstJobComponent\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:457) ~[spring-context-5.3.28.jar:5.3.28]\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316) ~[spring-context-5.3.28.jar:5.3.28]\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276) ~[spring-context-5.3.28.jar:5.3.28]\n    at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128) ~[spring-context-5.3.28.jar:5.3.28]\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:295) ~[spring-context-5.3.28.jar:5.3.28]\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.3.28.jar:5.3.28]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206) ~[spring-context-5.3.28.jar:5.3.28]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174) ~[spring-context-5.3.28.jar:5.3.28]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.28.jar:5.3.28]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.28.jar:5.3.28]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.28.jar:5.3.28]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.28.jar:5.3.28]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:748) ~[spring-context-5.3.28.jar:5.3.28]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.28.jar:5.3.28]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.13.jar:2.7.13]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.13.jar:2.7.13]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.13.jar:2.7.13]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.13.jar:2.7.13]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.13.jar:2.7.13]\n    at org.example.Application.main(Application.java:10) ~[classes/:na]\nCaused by: java.lang.IllegalStateException: Error processing condition on org.example.FirstJobComponent\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.28.jar:5.3.28]\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:88) ~[spring-context-5.3.28.jar:5.3.28]\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:71) ~[spring-context-5.3.28.jar:5.3.28]\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.isConditionMatch(ClassPathScanningCandidateComponentProvider.java:512) ~[spring-context-5.3.28.jar:5.3.28]\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.isCandidateComponent(ClassPathScanningCandidateComponentProvider.java:495) ~[spring-context-5.3.28.jar:5.3.28]\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:430) ~[spring-context-5.3.28.jar:5.3.28]\n    ... 19 common frames omitted\nCaused by: org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'jobType' cannot be found on object of type 'org.springframework.beans.factory.config.BeanExpressionContext' - maybe not public or not valid?\n    at org.springframework.context.expression.StandardBeanExpressionResolver.evaluate(StandardBeanExpressionResolver.java:170) ~[spring-context-5.3.28.jar:5.3.28]\n    at org.springframework.boot.autoconfigure.condition.OnExpressionCondition.evaluateExpression(OnExpressionCondition.java:60) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\n    at org.springframework.boot.autoconfigure.condition.OnExpressionCondition.getMatchOutcome(OnExpressionCondition.java:48) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\n    ... 25 common frames omitted\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'jobType' cannot be found on object of type 'org.springframework.beans.factory.config.BeanExpressionContext' - maybe not public or not valid?\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:223) ~[spring-expression-5.3.28.jar:5.3.28]\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:106) ~[spring-expression-5.3.28.jar:5.3.28]\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:93) ~[spring-expression-5.3.28.jar:5.3.28]\n    at org.springframework.expression.spel.ast.MethodReference.getArguments(MethodReference.java:164) ~[spring-expression-5.3.28.jar:5.3.28]\n    at org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:81) ~[spring-expression-5.3.28.jar:5.3.28]\n    at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:71) ~[spring-expression-5.3.28.jar:5.3.28]\n    at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.3.28.jar:5.3.28]\n    at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:114) ~[spring-expression-5.3.28.jar:5.3.28]\n    at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:273) ~[spring-expression-5.3.28.jar:5.3.28]\n    at org.springframework.context.expression.StandardBeanExpressionResolver.evaluate(StandardBeanExpressionResolver.java:167) ~[spring-context-5.3.28.jar:5.3.28]\n    ... 28 common frames omitted\n</code></pre>\n<p>What could be the cause of this? Does the <code>@ConditionalOnExpression</code> get evaluated before the bean is defined? I thought that it would cause a bean to get defined early if it does not exist. The Spring Expression Language reference is not very helpful here.</p>\n"},{"tags":["java","docker","google-chrome","selenium-webdriver","selenium-chromedriver"],"answers":[{"comments":[{"owner":{"account_id":28995277,"reputation":1,"user_id":22210091,"display_name":"Dhamore"},"score":0,"creation_date":1689489488,"post_id":76674365,"comment_id":135218807,"body_markdown":"I tried to drop the options, but still the same error.","body":"I tried to drop the options, but still the same error."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689194990,"creation_date":1689194990,"answer_id":76674365,"question_id":76672165,"body_markdown":"You need to consider a couple of things:\r\n\r\n- [_`--disable-gpu`_](https://stackoverflow.com/a/59047724/7429447) was originally intended to be used only in [tag:windows] environment. The system being a **non-windows** system you need to drop the argument.\r\n- `--remote-allow-origins=*` is no more mandatory with Chrome and [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) _version: 114.0_. So you can drop it.\r\n- `--disable-extensions` is no more effective in modern [tag:google-chrome] browsers. So you can drop it.\r\n- [`--no-sandbox`](https://stackoverflow.com/a/71699916/7429447) isn&#39;t mandatory unless you are executing you test as a `root` user. So you can drop it.\r\n- [_`disable-dev-shm-usage`_](https://stackoverflow.com/a/76615980/7429447) and [`--disable-setuid-sandbox`](https://stackoverflow.com/a/60547368/7429447) isn&#39;t effective unless you are using the `--no-sandbox` argument. So you can drop it.\r\n\r\nMaking the above mentioned adjustments execute your code.","title":"Ubuntu java selenium google chrome Could not start a new session","body":"<p>You need to consider a couple of things:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/59047724/7429447\"><em><code>--disable-gpu</code></em></a> was originally intended to be used only in <a href=\"/questions/tagged/windows\" class=\"post-tag\" title=\"show questions tagged &#39;windows&#39;\" aria-label=\"show questions tagged &#39;windows&#39;\" rel=\"tag\" aria-labelledby=\"tag-windows-tooltip-container\">windows</a> environment. The system being a <strong>non-windows</strong> system you need to drop the argument.</li>\n<li><code>--remote-allow-origins=*</code> is no more mandatory with Chrome and <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> <em>version: 114.0</em>. So you can drop it.</li>\n<li><code>--disable-extensions</code> is no more effective in modern <a href=\"/questions/tagged/google-chrome\" class=\"post-tag\" title=\"show questions tagged &#39;google-chrome&#39;\" aria-label=\"show questions tagged &#39;google-chrome&#39;\" rel=\"tag\" aria-labelledby=\"tag-google-chrome-tooltip-container\">google-chrome</a> browsers. So you can drop it.</li>\n<li><a href=\"https://stackoverflow.com/a/71699916/7429447\"><code>--no-sandbox</code></a> isn't mandatory unless you are executing you test as a <code>root</code> user. So you can drop it.</li>\n<li><a href=\"https://stackoverflow.com/a/76615980/7429447\"><em><code>disable-dev-shm-usage</code></em></a> and <a href=\"https://stackoverflow.com/a/60547368/7429447\"><code>--disable-setuid-sandbox</code></a> isn't effective unless you are using the <code>--no-sandbox</code> argument. So you can drop it.</li>\n</ul>\n<p>Making the above mentioned adjustments execute your code.</p>\n"}],"owner":{"account_id":28995277,"reputation":1,"user_id":22210091,"display_name":"Dhamore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689194990,"creation_date":1689175290,"question_id":76672165,"body_markdown":"Platform: Ubuntu 22.04\r\nJava version: 17.0.7\r\nSelenium: 4.10.0\r\nChrome and chromedriver version: 114.0.5735\r\n\r\n1. Create ChromeDriver with google chrome and chromedriver installed in host system \r\n\r\nI tested the google chrome connection by this:\r\n\r\n```\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, chromeWebdriver);\r\n\r\nChromeOptions co = new ChromeOptions();\r\nco.addArguments(&quot;--remote-allow-origins=*&quot;);\r\nco.addArguments(&quot;--headless=new&quot;);\r\nco.addArguments(&quot;--allowed-ips=127.0.0.1&quot;);\r\nco.addArguments(&quot;--no-sandbox&quot;);\r\nco.addArguments(&quot;--disable-setuid-sandbox&quot;);\r\nco.addArguments(&quot;--remote-debugging-port=9222&quot;);\r\nco.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\nco.addArguments(&quot;--disable-extensions&quot;);\r\nco.addArguments(&quot;--disable-gpu&quot;);\r\n\r\ndriver = new ChromeDriver(co);\r\ndriver.get(W3SCHOOL_URL);\r\nlogger.info(&quot;test_chrome_by_system_property page title: {}&quot;, driver.getTitle());\r\n```\r\n\r\n2. Create ChromeDriver with google chrome and chromedriver Dockerfile\r\n\r\n```\r\n## install google chrome\r\nRUN wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | apt-key add -\r\nRUN sh -c &#39;echo &quot;deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main&quot; &gt;&gt; /etc/apt/sources.list.d/google-chrome.list&#39;\r\nRUN apt-get -y update\r\nRUN apt-get install -y google-chrome-stable\r\n\r\n## install chrome webdriver\r\nRUN wget -q -O $APP_DIR/chromedriver_$CHROME_DRIVER_VERSION_linux64.zip https://chromedriver.storage.googleapis.com/$CHROME_DRIVER_VERSION/chromedriver_linux64.zip\r\nRUN unzip $APP_DIR/chromedriver_$CHROME_DRIVER_VERSION_linux64.zip -d /usr/bin/\r\nRUN chmod +x /usr/bin/chromedriver\r\nRUN rm -rf $APP_DIR/chromedriver_$CHROME_DRIVER_VERSION_linux64.zip\r\n```\r\n\r\nI checked the google chrome and chromedriver status on docker, return this:\r\n\r\n&gt; docker exec -it my_docker_container_name google-chrome --help\r\n&gt; Google Chrome 114.0.5735.198\r\n&gt; docker exec -it my_docker_container_name chromedriver --version\r\n&gt; ChromeDriver 114.0.5735.90 (386bc09e8f4f2e025eddae123f36f6263096ae49-refs/branch-heads/5735@{#1052})\r\n\r\nBut always the same error occured.\r\n\r\n```\r\nException:\r\n2023-07-12 13:15:05 [main] INFO  c.e.maventest.MavenTestApplication.logStarted(61) - Started MavenTestApplication in 18.556 seconds (JVM running for 21.414)\r\nStarting ChromeDriver 114.0.5735.90 (386bc09e8f4f2e025eddae123f36f6263096ae49-refs/branch-heads/5735@{#1052}) on port 45237\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n[1689167707.191][SEVERE]: bind() failed: Cannot assign requested address (99)\r\nChromeDriver was started successfully.\r\n2023-07-12 13:15:12 [main] ERROR c.e.m.service.SpringSeleniumRunner.run(101) - SpringSeleniumRunner exception: {}\r\njava.lang.Exception: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\r\n  (unknown error: unable to discover open pages)\r\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\r\nBuild info: version: &#39;4.1.4&#39;, revision: &#39;535d840ee2&#39;\r\nSystem info: host: &#39;247af48ef4bc&#39;, ip: &#39;172.17.0.2&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.49-linuxkit-pr&#39;, java.version: &#39;17.0.7&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*, --headless=new, --allowed-ips=127.0.0.1, --no-sandbox, --disable-setuid-sandbox, --remote-debugging-port=9222, --disable-dev-shm-usage, --disable-extensions, --disable-gpu], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*, --headless=new, --allowed-ips=127.0.0.1, --no-sandbox, --disable-setuid-sandbox, --remote-debugging-port=9222, --disable-dev-shm-usage, --disable-extensions, --disable-gpu], extensions: []}}}]\r\n\tat com.example.maventest.service.SpringSeleniumRunner.testChromeBySystemProperty(SpringSeleniumRunner.java:60)\r\n\tat com.example.maventest.service.SpringSeleniumRunner.run(SpringSeleniumRunner.java:98)\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:759)\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:749)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:314)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n\tat com.example.maventest.MavenTestApplication.main(MavenTestApplication.java:13)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\nCaused by: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\r\n  (unknown error: unable to discover open pages)\r\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\r\nBuild info: version: &#39;4.1.4&#39;, revision: &#39;535d840ee2&#39;\r\nSystem info: host: &#39;247af48ef4bc&#39;, ip: &#39;172.17.0.2&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.49-linuxkit-pr&#39;, java.version: &#39;17.0.7&#39;\r\n```\r\n","title":"Ubuntu java selenium google chrome Could not start a new session","body":"<p>Platform: Ubuntu 22.04\nJava version: 17.0.7\nSelenium: 4.10.0\nChrome and chromedriver version: 114.0.5735</p>\n<ol>\n<li>Create ChromeDriver with google chrome and chromedriver installed in host system</li>\n</ol>\n<p>I tested the google chrome connection by this:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, chromeWebdriver);\n\nChromeOptions co = new ChromeOptions();\nco.addArguments(&quot;--remote-allow-origins=*&quot;);\nco.addArguments(&quot;--headless=new&quot;);\nco.addArguments(&quot;--allowed-ips=127.0.0.1&quot;);\nco.addArguments(&quot;--no-sandbox&quot;);\nco.addArguments(&quot;--disable-setuid-sandbox&quot;);\nco.addArguments(&quot;--remote-debugging-port=9222&quot;);\nco.addArguments(&quot;--disable-dev-shm-usage&quot;);\nco.addArguments(&quot;--disable-extensions&quot;);\nco.addArguments(&quot;--disable-gpu&quot;);\n\ndriver = new ChromeDriver(co);\ndriver.get(W3SCHOOL_URL);\nlogger.info(&quot;test_chrome_by_system_property page title: {}&quot;, driver.getTitle());\n</code></pre>\n<ol start=\"2\">\n<li>Create ChromeDriver with google chrome and chromedriver Dockerfile</li>\n</ol>\n<pre><code>## install google chrome\nRUN wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | apt-key add -\nRUN sh -c 'echo &quot;deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main&quot; &gt;&gt; /etc/apt/sources.list.d/google-chrome.list'\nRUN apt-get -y update\nRUN apt-get install -y google-chrome-stable\n\n## install chrome webdriver\nRUN wget -q -O $APP_DIR/chromedriver_$CHROME_DRIVER_VERSION_linux64.zip https://chromedriver.storage.googleapis.com/$CHROME_DRIVER_VERSION/chromedriver_linux64.zip\nRUN unzip $APP_DIR/chromedriver_$CHROME_DRIVER_VERSION_linux64.zip -d /usr/bin/\nRUN chmod +x /usr/bin/chromedriver\nRUN rm -rf $APP_DIR/chromedriver_$CHROME_DRIVER_VERSION_linux64.zip\n</code></pre>\n<p>I checked the google chrome and chromedriver status on docker, return this:</p>\n<blockquote>\n<p>docker exec -it my_docker_container_name google-chrome --help\nGoogle Chrome 114.0.5735.198\ndocker exec -it my_docker_container_name chromedriver --version\nChromeDriver 114.0.5735.90 (386bc09e8f4f2e025eddae123f36f6263096ae49-refs/branch-heads/5735@{#1052})</p>\n</blockquote>\n<p>But always the same error occured.</p>\n<pre><code>Exception:\n2023-07-12 13:15:05 [main] INFO  c.e.maventest.MavenTestApplication.logStarted(61) - Started MavenTestApplication in 18.556 seconds (JVM running for 21.414)\nStarting ChromeDriver 114.0.5735.90 (386bc09e8f4f2e025eddae123f36f6263096ae49-refs/branch-heads/5735@{#1052}) on port 45237\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\n[1689167707.191][SEVERE]: bind() failed: Cannot assign requested address (99)\nChromeDriver was started successfully.\n2023-07-12 13:15:12 [main] ERROR c.e.m.service.SpringSeleniumRunner.run(101) - SpringSeleniumRunner exception: {}\njava.lang.Exception: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\n  (unknown error: unable to discover open pages)\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\nBuild info: version: '4.1.4', revision: '535d840ee2'\nSystem info: host: '247af48ef4bc', ip: '172.17.0.2', os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.49-linuxkit-pr', java.version: '17.0.7'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*, --headless=new, --allowed-ips=127.0.0.1, --no-sandbox, --disable-setuid-sandbox, --remote-debugging-port=9222, --disable-dev-shm-usage, --disable-extensions, --disable-gpu], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*, --headless=new, --allowed-ips=127.0.0.1, --no-sandbox, --disable-setuid-sandbox, --remote-debugging-port=9222, --disable-dev-shm-usage, --disable-extensions, --disable-gpu], extensions: []}}}]\n    at com.example.maventest.service.SpringSeleniumRunner.testChromeBySystemProperty(SpringSeleniumRunner.java:60)\n    at com.example.maventest.service.SpringSeleniumRunner.run(SpringSeleniumRunner.java:98)\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:759)\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:749)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:314)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n    at com.example.maventest.MavenTestApplication.main(MavenTestApplication.java:13)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\n  (unknown error: unable to discover open pages)\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\nBuild info: version: '4.1.4', revision: '535d840ee2'\nSystem info: host: '247af48ef4bc', ip: '172.17.0.2', os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.49-linuxkit-pr', java.version: '17.0.7'\n</code></pre>\n"},{"tags":["java","grpc-java"],"answers":[{"comments":[{"owner":{"account_id":4027832,"reputation":474,"user_id":3315259,"accept_rate":60,"display_name":"suraj1291993"},"score":0,"creation_date":1689595879,"post_id":76674350,"comment_id":135231155,"body_markdown":"I will only know what the Server B is after Server A goes down. So only my question is how to handle this case.","body":"I will only know what the Server B is after Server A goes down. So only my question is how to handle this case."}],"tags":[],"owner":{"account_id":7221178,"reputation":124,"user_id":5511606,"display_name":"apolcyn"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689194850,"creation_date":1689194850,"answer_id":76674350,"question_id":76658331,"body_markdown":"The default load balancing policy in gRPC is &quot;pick_first&quot;, which will walk the list of addresses that the name resolver finds, and connect to the first one that works. So in the event that the first server goes down but the second remains up, the client would reconnect to the second server.\r\n\r\nSo I think your solution in this case is a matter of getting the name resolver to resolve both server A and B. If you want the client to prefer A, then the address for A should come first.","title":"Switched Server Associated with a ManagedChannel in gRPC Java","body":"<p>The default load balancing policy in gRPC is &quot;pick_first&quot;, which will walk the list of addresses that the name resolver finds, and connect to the first one that works. So in the event that the first server goes down but the second remains up, the client would reconnect to the second server.</p>\n<p>So I think your solution in this case is a matter of getting the name resolver to resolve both server A and B. If you want the client to prefer A, then the address for A should come first.</p>\n"}],"owner":{"account_id":4027832,"reputation":474,"user_id":3315259,"accept_rate":60,"display_name":"suraj1291993"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689194850,"creation_date":1689041610,"question_id":76658331,"body_markdown":"​\r\n\r\n\r\n​I am building a sample GRPC app in Java and I need help in the following case​.\r\n\r\n\r\n​Assume 2 GRPC Servers (Server A &amp; B) are running. When Server A goes down, I want to connect to server B.​ I will know what the Server B is only after Server A goes down.\r\n\r\n​I don&#39;t want to reinitialise the Stubs and ManagedChannel when switching from Server A to Server B or write retry logic on the stub invocation part explicitly for this requirement.​\r\n\r\n[​This is the code](https://github.com/anantharaman93/grpc-failover-test/blob/main/src/main/java/com/ananth/grpc/Test.java) I am trying...​\r\n\r\n​My requirement is I want to capture the request failure to server A somehow so that I can switch the actual server I want to connect to by using some logic like `HostSwitcher` specified there.​\r\n\r\n​Need help with this.​ ​Thanks.","title":"Switched Server Associated with a ManagedChannel in gRPC Java","body":"<p>​</p>\n<p>​I am building a sample GRPC app in Java and I need help in the following case​.</p>\n<p>​Assume 2 GRPC Servers (Server A &amp; B) are running. When Server A goes down, I want to connect to server B.​ I will know what the Server B is only after Server A goes down.</p>\n<p>​I don't want to reinitialise the Stubs and ManagedChannel when switching from Server A to Server B or write retry logic on the stub invocation part explicitly for this requirement.​</p>\n<p><a href=\"https://github.com/anantharaman93/grpc-failover-test/blob/main/src/main/java/com/ananth/grpc/Test.java\" rel=\"nofollow noreferrer\">​This is the code</a> I am trying...​</p>\n<p>​My requirement is I want to capture the request failure to server A somehow so that I can switch the actual server I want to connect to by using some logic like <code>HostSwitcher</code> specified there.​</p>\n<p>​Need help with this.​ ​Thanks.</p>\n"},{"tags":["java","file","browser","download"],"answers":[{"comments":[{"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"score":0,"creation_date":1689192481,"post_id":76672762,"comment_id":135180386,"body_markdown":"Hi! Thanks for the answer, but the file name is still `null`. The `Files.probeContentType(file.toPath()` is because there are a lot of different `content-types`, so I get them dinamically. I also tried to create a new File without any `path` by copying the original file onto another, but still the same problem.","body":"Hi! Thanks for the answer, but the file name is still <code>null</code>. The <code>Files.probeContentType(file.toPath()</code> is because there are a lot of different <code>content-types</code>, so I get them dinamically. I also tried to create a new File without any <code>path</code> by copying the original file onto another, but still the same problem."}],"tags":[],"owner":{"account_id":19935722,"reputation":214,"user_id":14608443,"display_name":"IveGotCodeButImNotACoder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689179790,"creation_date":1689179790,"answer_id":76672762,"question_id":76672060,"body_markdown":"Can you try something like this? Not sure if the `Files.probeContentType(file.toPath()` is required. \r\n\r\n        public DefaultStreamedContent downloadFiles(String s) {\r\n        try {\r\n            File file = new File(s);\r\n            String filename = file.getName();\r\n            \r\n            InputStream is = new DefaultStreamedContent(new FileInputStream(file), Files.probeContentType(file.toPath())).getStream();\r\n            byte[] array = IOUtils.toByteArray(is);\r\n            \r\n            return new DefaultStreamedContent(new ByteArrayInputStream(array), filename);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }","title":"Java - The name of the file is always &#39;null&#39; when downloading it from server to my location","body":"<p>Can you try something like this? Not sure if the <code>Files.probeContentType(file.toPath()</code> is required.</p>\n<pre><code>    public DefaultStreamedContent downloadFiles(String s) {\n    try {\n        File file = new File(s);\n        String filename = file.getName();\n        \n        InputStream is = new DefaultStreamedContent(new FileInputStream(file), Files.probeContentType(file.toPath())).getStream();\n        byte[] array = IOUtils.toByteArray(is);\n        \n        return new DefaultStreamedContent(new ByteArrayInputStream(array), filename);\n    } catch (Exception e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689194281,"creation_date":1689194281,"answer_id":76674291,"question_id":76672060,"body_markdown":"I solved my problem using [this][1] answer.\r\nI basically copied the code and adapted to my needs. So, it works perfectly!\r\n\r\n  [1]: https://stackoverflow.com/a/25159580/11703579","title":"Java - The name of the file is always &#39;null&#39; when downloading it from server to my location","body":"<p>I solved my problem using <a href=\"https://stackoverflow.com/a/25159580/11703579\">this</a> answer.\nI basically copied the code and adapted to my needs. So, it works perfectly!</p>\n"}],"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76674291,"answer_count":2,"score":0,"last_activity_date":1689194281,"creation_date":1689174506,"question_id":76672060,"body_markdown":"I have the following method to download files from a certain folder in my server.\r\n\r\n    public DefaultStreamedContent downloadFiles(String s) {\r\n\t\ttry {\r\n\t\t\tFile file = new File(s);\r\n\t\t\t\r\n\t\t\tInputStream is = new DefaultStreamedContent(new FileInputStream(file), Files.probeContentType(file.toPath())).getStream();\r\n       \t \tbyte[] array = IOUtils.toByteArray(is);\r\n       \t \t\r\n            return new DefaultStreamedContent(new ByteArrayInputStream(array));\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\nThe code works well, as the files in the folder are downloaded correctly (I checked it&#180;s contents). The problem is: The file name, when downloaded by the browser and saved in my `Downloads` folder locally, is always `null`. The files should have the same name of those files stored in the server. Let&#180;s assume that the original file to be downloaded is `server\\folder1\\folder2\\file.extension`. Why, when downloading it, the file name goes as `null` to my `Downloads` folder? \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI thought that the `file path` is assumed as the file&#180;s name, and therefore the Browser/OS saves it as `null` because slashes `\\` are not valid for file&#180;s names.\r\n\r\nHow can I solve this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1F1xM.png","title":"Java - The name of the file is always &#39;null&#39; when downloading it from server to my location","body":"<p>I have the following method to download files from a certain folder in my server.</p>\n<pre><code>public DefaultStreamedContent downloadFiles(String s) {\n    try {\n        File file = new File(s);\n        \n        InputStream is = new DefaultStreamedContent(new FileInputStream(file), Files.probeContentType(file.toPath())).getStream();\n        byte[] array = IOUtils.toByteArray(is);\n        \n        return new DefaultStreamedContent(new ByteArrayInputStream(array));\n    } catch (Exception e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n<p>The code works well, as the files in the folder are downloaded correctly (I checked it´s contents). The problem is: The file name, when downloaded by the browser and saved in my <code>Downloads</code> folder locally, is always <code>null</code>. The files should have the same name of those files stored in the server. Let´s assume that the original file to be downloaded is <code>server\\folder1\\folder2\\file.extension</code>. Why, when downloading it, the file name goes as <code>null</code> to my <code>Downloads</code> folder?</p>\n<p><a href=\"https://i.stack.imgur.com/1F1xM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1F1xM.png\" alt=\"enter image description here\" /></a></p>\n<p>I thought that the <code>file path</code> is assumed as the file´s name, and therefore the Browser/OS saves it as <code>null</code> because slashes <code>\\</code> are not valid for file´s names.</p>\n<p>How can I solve this?</p>\n"},{"tags":["java","class","generics"],"answers":[{"comments":[{"owner":{"account_id":16578529,"reputation":242,"user_id":11979729,"display_name":"Daniel Afriyie"},"score":0,"creation_date":1689193136,"post_id":76674158,"comment_id":135180477,"body_markdown":"awesome, that works, what if i want to pass argument to the constructor, is that possible?","body":"awesome, that works, what if i want to pass argument to the constructor, is that possible?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689193175,"post_id":76674158,"comment_id":135180483,"body_markdown":"@DanielAfriyie You would need to use `.getDeclaredConstructor(String.class)` for example to get the constructor accepting a single String. You can pass as many classes to `.getDeclaredConstructor` as needed. Then pass those arguments to `.newInstance`.","body":"@DanielAfriyie You would need to use <code>.getDeclaredConstructor(String.class)</code> for example to get the constructor accepting a single String. You can pass as many classes to <code>.getDeclaredConstructor</code> as needed. Then pass those arguments to <code>.newInstance</code>."},{"owner":{"account_id":16578529,"reputation":242,"user_id":11979729,"display_name":"Daniel Afriyie"},"score":1,"creation_date":1689194146,"post_id":76674158,"comment_id":135180620,"body_markdown":"it worked, thanks.","body":"it worked, thanks."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689194168,"post_id":76674158,"comment_id":135180623,"body_markdown":"@DanielAfriyie Glad to help.","body":"@DanielAfriyie Glad to help."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1689194194,"creation_date":1689192893,"answer_id":76674158,"question_id":76674100,"body_markdown":"Use a generic type parameter for the return type so you don&#39;t need to cast the result from `Object`.\r\n\r\n`.getDeclaredConstructor().newInstance()` can be used on a `Class` object to create an instance using the no-argument constructor.\r\n\r\n```java\r\npublic static &lt;T&gt; T createInstanceOfAnyClass(Class&lt;T&gt; klassType) {\r\n    try {\r\n        return klassType.getDeclaredConstructor().newInstance();\r\n    } catch (ReflectiveOperationException e) {\r\n        throw new RuntimeException(e); // or other handling\r\n    }\r\n}\r\n// Usage:\r\nA a = B.createInstanceOfAnyClass(A.class);\r\n```","title":"Receive class type and argument and return instance","body":"<p>Use a generic type parameter for the return type so you don't need to cast the result from <code>Object</code>.</p>\n<p><code>.getDeclaredConstructor().newInstance()</code> can be used on a <code>Class</code> object to create an instance using the no-argument constructor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; T createInstanceOfAnyClass(Class&lt;T&gt; klassType) {\n    try {\n        return klassType.getDeclaredConstructor().newInstance();\n    } catch (ReflectiveOperationException e) {\n        throw new RuntimeException(e); // or other handling\n    }\n}\n// Usage:\nA a = B.createInstanceOfAnyClass(A.class);\n</code></pre>\n"}],"owner":{"account_id":16578529,"reputation":242,"user_id":11979729,"display_name":"Daniel Afriyie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76674158,"answer_count":1,"score":1,"last_activity_date":1689194194,"creation_date":1689192186,"question_id":76674100,"body_markdown":"I know this maybe be a duplicate but i&#39;ve been scouring through stack overflow but i&#39;m still yet to find an answer.\r\n\r\nWhat i want to do is accept a `class` type as argument and `return` an `instance` of that class. Here is what i&#39;m trying to do\r\n\r\n```java\r\nclass A {\r\n\r\n}\r\n\r\nclass B {\r\n\r\n    /* \r\n    * Takes class type as argument and returns an instance of that class\r\n    */\r\n    public static Object createInstanceOfAnyClass(Class&lt;?&gt; klassType) {\r\n        return new klassType();\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        A a = B.createInstanceOfAnyClass(A);  // pass class(type) A and receive an instance of A\r\n    }\r\n}\r\n```\r\n\r\nBasically, after passing `Class&lt;A&gt;` as argument to `B.createInstanceOfAnyClass`, i should get an instance of `class` `A`.","title":"Receive class type and argument and return instance","body":"<p>I know this maybe be a duplicate but i've been scouring through stack overflow but i'm still yet to find an answer.</p>\n<p>What i want to do is accept a <code>class</code> type as argument and <code>return</code> an <code>instance</code> of that class. Here is what i'm trying to do</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n\n}\n\nclass B {\n\n    /* \n    * Takes class type as argument and returns an instance of that class\n    */\n    public static Object createInstanceOfAnyClass(Class&lt;?&gt; klassType) {\n        return new klassType();\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        A a = B.createInstanceOfAnyClass(A);  // pass class(type) A and receive an instance of A\n    }\n}\n</code></pre>\n<p>Basically, after passing <code>Class&lt;A&gt;</code> as argument to <code>B.createInstanceOfAnyClass</code>, i should get an instance of <code>class</code> <code>A</code>.</p>\n"},{"tags":["python","java","binaryfiles"],"comments":[{"owner":{"account_id":6475833,"reputation":90585,"user_id":5014455,"display_name":"juanpa.arrivillaga"},"score":2,"creation_date":1689188632,"post_id":76673666,"comment_id":135179735,"body_markdown":"what you are asking really doesn&#39;t make any sense. why don&#39;t you want to use `unpack`?  there is no way to directly read from a file and get a tuple of float objets, which is the result you get using `struct.unpack`. Probably, you should just use `numpy`, but that&#39;s a third-party library.","body":"what you are asking really doesn&#39;t make any sense. why don&#39;t you want to use <code>unpack</code>?  there is no way to directly read from a file and get a tuple of float objets, which is the result you get using <code>struct.unpack</code>. Probably, you should just use <code>numpy</code>, but that&#39;s a third-party library."},{"owner":{"account_id":6475833,"reputation":90585,"user_id":5014455,"display_name":"juanpa.arrivillaga"},"score":0,"creation_date":1689188900,"post_id":76673666,"comment_id":135179795,"body_markdown":"So 1) you haven&#39;t given any example input 2) you **haven&#39;t actually told us what output you want**. I noticed you *tagged* this with numpy, but you never mentioned it in your question.","body":"So 1) you haven&#39;t given any example input 2) you <b>haven&#39;t actually told us what output you want</b>. I noticed you <i>tagged</i> this with numpy, but you never mentioned it in your question."},{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":1,"creation_date":1689195712,"post_id":76673666,"comment_id":135180851,"body_markdown":"Right.  There are some simple facts that you are trying to avoid here.  If you have binary data, then you need to use `struct.unpack` to turn it into a Python structure.  This is EXACTLY the inverse operation to the `putFloat` method you&#39;re using in Java.  It&#39;s not a problem, that&#39;s simply the way it is done.","body":"Right.  There are some simple facts that you are trying to avoid here.  If you have binary data, then you need to use <code>struct.unpack</code> to turn it into a Python structure.  This is EXACTLY the inverse operation to the <code>putFloat</code> method you&#39;re using in Java.  It&#39;s not a problem, that&#39;s simply the way it is done."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689194120,"creation_date":1689188753,"answer_id":76673734,"question_id":76673666,"body_markdown":"To start with DataOutputStream is Java-only (it was created to deal with the &quot;endian&quot; issue), so that&#39;s a problem. And unless you are doing inefficient writing (calling lots of little writes vs writing everything at once) just use a raw OutputStream (otherwise, add a BufferedOutputStream on top of this)\r\n\r\nSecond of all, you really ought to use a communication protocol (like XML or JSON) - data is so much easier to export and import this way.","title":"How to create a binary output in java that can be read directly in Python without using the unpack function?","body":"<p>To start with DataOutputStream is Java-only (it was created to deal with the &quot;endian&quot; issue), so that's a problem. And unless you are doing inefficient writing (calling lots of little writes vs writing everything at once) just use a raw OutputStream (otherwise, add a BufferedOutputStream on top of this)</p>\n<p>Second of all, you really ought to use a communication protocol (like XML or JSON) - data is so much easier to export and import this way.</p>\n"}],"owner":{"account_id":23669032,"reputation":51,"user_id":17696091,"display_name":"newbie5050"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1689194120,"creation_date":1689188104,"question_id":76673666,"body_markdown":"I am having an issue in Java converting a 2d float array in a binary format that Python could open without using unpack method. I [followed](https://stackoverflow.com/questions/14619653/how-to-convert-a-float-into-a-byte-array-and-vice-versa) the instruction and learned how to convert a float to a byte array but the results did not match when I open the output in Python. As I said I don&#39;t want to use the unpack function in Python. Is there any way to convert the results in Java to Python without using unpack function? \r\n\r\nGiven the input 2d array:\r\n\r\n```\r\nfloat[128][128] imageObjArray = ...;\r\n\r\n        ByteBuffer byteBuffer;\r\n        try (DataOutputStream out = new DataOutputStream(\r\n                new BufferedOutputStream(\r\n                        new FileOutputStream(outFilePath + outFileName)))) {\r\n                for (int j = 0; j &lt; 128; j++) {\r\n                    for (int k = 0; k &lt; 128; k++) {\r\n                        byteBuffer = ByteBuffer.allocate(Float.BYTES);\r\n                        byteBuffer.putFloat(imageObjArray[j][k]);\r\n                        out.write(byteBuffer.array());\r\n                    }\r\n                }\r\n            out.flush();\r\n        }\r\n```\r\nIn Python, this may work but I want to get the results without using unpack:\r\n\r\n```\r\nwith open(filename, &quot;rb&quot;) as file:\r\n     numbers = struct.unpack(&#39;f&#39; * 128 * 128, file.read(4 * 128 * 128))","title":"How to create a binary output in java that can be read directly in Python without using the unpack function?","body":"<p>I am having an issue in Java converting a 2d float array in a binary format that Python could open without using unpack method. I <a href=\"https://stackoverflow.com/questions/14619653/how-to-convert-a-float-into-a-byte-array-and-vice-versa\">followed</a> the instruction and learned how to convert a float to a byte array but the results did not match when I open the output in Python. As I said I don't want to use the unpack function in Python. Is there any way to convert the results in Java to Python without using unpack function?</p>\n<p>Given the input 2d array:</p>\n<pre><code>float[128][128] imageObjArray = ...;\n\n        ByteBuffer byteBuffer;\n        try (DataOutputStream out = new DataOutputStream(\n                new BufferedOutputStream(\n                        new FileOutputStream(outFilePath + outFileName)))) {\n                for (int j = 0; j &lt; 128; j++) {\n                    for (int k = 0; k &lt; 128; k++) {\n                        byteBuffer = ByteBuffer.allocate(Float.BYTES);\n                        byteBuffer.putFloat(imageObjArray[j][k]);\n                        out.write(byteBuffer.array());\n                    }\n                }\n            out.flush();\n        }\n</code></pre>\n<p>In Python, this may work but I want to get the results without using unpack:</p>\n<pre><code>with open(filename, &quot;rb&quot;) as file:\n     numbers = struct.unpack('f' * 128 * 128, file.read(4 * 128 * 128))\n</code></pre>\n"},{"tags":["java","jsp","url","httpurlconnection"],"owner":{"account_id":16873624,"reputation":635,"user_id":12201585,"display_name":"kw88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689193961,"creation_date":1689188899,"question_id":76673751,"body_markdown":"I built a JSP script which is used to call different APIs end point (such as https://sample.io/api/register). This JSP script will be called/triggered every time I want to call any APIs. I tested my JSP script using POSTMAN, by calling the same JSP script (with different request body) multiple times, and I&#39;m facing an issue where the fulfilment (Successfully called) of the request through this JSP script is not consistent, sometimes it success, sometimes it failed. When it failed, the exception:\r\n\r\n&gt; java.net.SocketTimeoutException: connect timed out\r\n \r\nhas happened and logged into my server log. \r\n\r\nI try to verify and change my code and keep testing these 2 days, but I still can&#39;t solve this. I&#39;m not sure what I had missed out or anything out of my knowledge, please help me.\r\n\r\n\r\nThe following is the specification: \r\n\r\n&gt; JAVA VERSION: jdk1.8.0_361\r\n\r\n\r\nThe following is the error message: \r\n\r\n&gt; java.net.SocketTimeoutException: connect timed out\r\n\tat java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)\r\n\tat java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:81)\r\n\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)\r\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)\r\n\tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:162)\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)\r\n\tat java.net.Socket.connect(Socket.java:606)\r\n\tat sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:303)\r\n\tat sun.net.NetworkClient.doConnect(NetworkClient.java:175)\r\n\tat sun.net.www.http.HttpClient.openServer(HttpClient.java:499)\r\n\tat sun.net.www.http.HttpClient.openServer(HttpClient.java:594)\r\n\tat sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:263)\r\n\tat sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:366)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:207)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1167)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1061)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:193)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1354)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1329)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:264)\r\n\r\n\r\nThe following is the sample JSP code snippet for API Https call: \r\n\r\n    &lt;!%\r\n    public static class inteCall {\r\n    \r\n            inteCall(){\r\n    \r\n            }\r\n    \r\n            public String PostRequest(String requestURL, String jsonString) {\r\n                String returnMsg = &quot;&quot;;\r\n                try {\r\n                    URL url = new URL(requestURL);\r\n                    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                    connection.setRequestMethod(&quot;POST&quot;);\r\n    \r\n                    Map&lt;String, String&gt; httpParams = new HashMap&lt;String, String&gt;();\r\n                    httpParams.put(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\r\n                    httpParams.put(&quot;charset&quot;, &quot;utf-8&quot;);\r\n                    httpParams.put(&quot;Authorization&quot;,&quot;3tC7xQw4zqYQSWXuzZPvtfpem2CDJ1hF32fxaqT7saSsT8Bbs3eSqQ5paTT2MXWxUPxW1BCXq7DVQTuAiGFPq7XT1jmBUTxEJQjJeqiBWroikooZrXRirYLo1fGfiVFqighZ5muk7FGr5JAMBkm9QF6FaiRjhgq3vANeujWWckuLpV7Y7jzwnst6bzT8YyDyZKLXkKgp7fQJsXbJKeP1Eh3CLnKDqapyTJicudpWuNEYXee5RK&quot;);\r\n                    byte[] paramBuff = jsonString.getBytes(StandardCharsets.UTF_8);\r\n                    httpParams.put(&quot;Content-Length&quot;, Integer.toString(paramBuff.length));\r\n    \r\n                    List&lt;String&gt; requestKeys = new ArrayList&lt;String&gt;(httpParams.keySet());\r\n                    for(int i = 0; i &lt; requestKeys.size(); i++){\r\n                        connection.setRequestProperty(requestKeys.get(i), httpParams.get(requestKeys.get(i)));\r\n                    }\r\n    \r\n                    connection.setDoOutput(true);\r\n                    try (BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(connection.getOutputStream(), &quot;UTF-8&quot;))) {\r\n                        writer.write(jsonString);\r\n                        writer.flush();\r\n                        writer.close();\r\n    \r\n                        int responseCode = connection.getResponseCode();\r\n                        String contentType = connection.getContentType();\r\n    \r\n                        InputStream inputStream;\r\n                        if (responseCode &lt; HttpsURLConnection.HTTP_BAD_REQUEST) {\r\n                            inputStream = connection.getInputStream();\r\n                        } else {\r\n                            inputStream = connection.getErrorStream();\r\n                        }\r\n    \r\n                        final int BUFFER_SIZE = 8192;\r\n                        int bytesRead = -1;\r\n                        byte[] buffer = new byte[BUFFER_SIZE];\r\n    \r\n                        StringBuilder respBody = new StringBuilder();\r\n    \r\n                        while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                            byte[] bufferRead = Arrays.copyOf(buffer, bytesRead);\r\n                            respBody.append(new String(bufferRead));\r\n                        }\r\n    \r\n                        inputStream.close();\r\n    \r\n                        returnMsg = respBody.toString());\r\n                    }catch (Exception innerEx){\r\n                        innerEx.printStackTrace();\r\n                    }finally {\r\n                        connection.disconnect();\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return returnMsg;\r\n            }\r\n        }\r\n    %&gt;\r\n    &lt;%\r\n        JSONObject root = new JSONObject();\r\n        try {\r\n            JSONObject jsonData = new JSONObject();\r\n            jsonData.put(&quot;payload&quot;, &quot;E3i32qyjYJZqwoQ2qptIQ4Wx/t6aBIEz/StCFxsKDSBku8ZFItDC8+YrAA8tDMGrf3HT7G4lc/2AfkKhYBpqV+2nnwuw==&quot;);\r\n            String apiEndpoint = &quot;https://sample.io/api/register&quot;;\r\n            inteCall inteCall = new inteCall();\r\n            String resp = inteCall.PostRequest(apiEndpoint, jsonData.toString());\r\n            root.put(&quot;status&quot;, &quot;1&quot;);\r\n            root.put(&quot;msg&quot;, resp);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            root.put(&quot;status&quot;, &quot;-1&quot;);\r\n            root.put(&quot;msg&quot;, e.getMessage());\r\n        }\r\n        out.print(root);\r\n    %&gt;\r\n\r\n","title":"Java HttpURLConnection - Connect timed out happened intermittently","body":"<p>I built a JSP script which is used to call different APIs end point (such as <a href=\"https://sample.io/api/register\" rel=\"nofollow noreferrer\">https://sample.io/api/register</a>). This JSP script will be called/triggered every time I want to call any APIs. I tested my JSP script using POSTMAN, by calling the same JSP script (with different request body) multiple times, and I'm facing an issue where the fulfilment (Successfully called) of the request through this JSP script is not consistent, sometimes it success, sometimes it failed. When it failed, the exception:</p>\n<blockquote>\n<p>java.net.SocketTimeoutException: connect timed out</p>\n</blockquote>\n<p>has happened and logged into my server log.</p>\n<p>I try to verify and change my code and keep testing these 2 days, but I still can't solve this. I'm not sure what I had missed out or anything out of my knowledge, please help me.</p>\n<p>The following is the specification:</p>\n<blockquote>\n<p>JAVA VERSION: jdk1.8.0_361</p>\n</blockquote>\n<p>The following is the error message:</p>\n<blockquote>\n<p>java.net.SocketTimeoutException: connect timed out\nat java.net.DualStackPlainSocketImpl.waitForConnect(Native Method)\nat java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:81)\nat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)\nat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)\nat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)\nat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:162)\nat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)\nat java.net.Socket.connect(Socket.java:606)\nat sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:303)\nat sun.net.NetworkClient.doConnect(NetworkClient.java:175)\nat sun.net.www.http.HttpClient.openServer(HttpClient.java:499)\nat sun.net.www.http.HttpClient.openServer(HttpClient.java:594)\nat sun.net.www.protocol.https.HttpsClient.(HttpsClient.java:263)\nat sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:366)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:207)\nat sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1167)\nat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1061)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:193)\nat sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1354)\nat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1329)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:264)</p>\n</blockquote>\n<p>The following is the sample JSP code snippet for API Https call:</p>\n<pre><code>&lt;!%\npublic static class inteCall {\n\n        inteCall(){\n\n        }\n\n        public String PostRequest(String requestURL, String jsonString) {\n            String returnMsg = &quot;&quot;;\n            try {\n                URL url = new URL(requestURL);\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n                connection.setRequestMethod(&quot;POST&quot;);\n\n                Map&lt;String, String&gt; httpParams = new HashMap&lt;String, String&gt;();\n                httpParams.put(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\n                httpParams.put(&quot;charset&quot;, &quot;utf-8&quot;);\n                httpParams.put(&quot;Authorization&quot;,&quot;3tC7xQw4zqYQSWXuzZPvtfpem2CDJ1hF32fxaqT7saSsT8Bbs3eSqQ5paTT2MXWxUPxW1BCXq7DVQTuAiGFPq7XT1jmBUTxEJQjJeqiBWroikooZrXRirYLo1fGfiVFqighZ5muk7FGr5JAMBkm9QF6FaiRjhgq3vANeujWWckuLpV7Y7jzwnst6bzT8YyDyZKLXkKgp7fQJsXbJKeP1Eh3CLnKDqapyTJicudpWuNEYXee5RK&quot;);\n                byte[] paramBuff = jsonString.getBytes(StandardCharsets.UTF_8);\n                httpParams.put(&quot;Content-Length&quot;, Integer.toString(paramBuff.length));\n\n                List&lt;String&gt; requestKeys = new ArrayList&lt;String&gt;(httpParams.keySet());\n                for(int i = 0; i &lt; requestKeys.size(); i++){\n                    connection.setRequestProperty(requestKeys.get(i), httpParams.get(requestKeys.get(i)));\n                }\n\n                connection.setDoOutput(true);\n                try (BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(connection.getOutputStream(), &quot;UTF-8&quot;))) {\n                    writer.write(jsonString);\n                    writer.flush();\n                    writer.close();\n\n                    int responseCode = connection.getResponseCode();\n                    String contentType = connection.getContentType();\n\n                    InputStream inputStream;\n                    if (responseCode &lt; HttpsURLConnection.HTTP_BAD_REQUEST) {\n                        inputStream = connection.getInputStream();\n                    } else {\n                        inputStream = connection.getErrorStream();\n                    }\n\n                    final int BUFFER_SIZE = 8192;\n                    int bytesRead = -1;\n                    byte[] buffer = new byte[BUFFER_SIZE];\n\n                    StringBuilder respBody = new StringBuilder();\n\n                    while ((bytesRead = inputStream.read(buffer)) != -1) {\n                        byte[] bufferRead = Arrays.copyOf(buffer, bytesRead);\n                        respBody.append(new String(bufferRead));\n                    }\n\n                    inputStream.close();\n\n                    returnMsg = respBody.toString());\n                }catch (Exception innerEx){\n                    innerEx.printStackTrace();\n                }finally {\n                    connection.disconnect();\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            return returnMsg;\n        }\n    }\n%&gt;\n&lt;%\n    JSONObject root = new JSONObject();\n    try {\n        JSONObject jsonData = new JSONObject();\n        jsonData.put(&quot;payload&quot;, &quot;E3i32qyjYJZqwoQ2qptIQ4Wx/t6aBIEz/StCFxsKDSBku8ZFItDC8+YrAA8tDMGrf3HT7G4lc/2AfkKhYBpqV+2nnwuw==&quot;);\n        String apiEndpoint = &quot;https://sample.io/api/register&quot;;\n        inteCall inteCall = new inteCall();\n        String resp = inteCall.PostRequest(apiEndpoint, jsonData.toString());\n        root.put(&quot;status&quot;, &quot;1&quot;);\n        root.put(&quot;msg&quot;, resp);\n    } catch (Exception e) {\n        e.printStackTrace();\n        root.put(&quot;status&quot;, &quot;-1&quot;);\n        root.put(&quot;msg&quot;, e.getMessage());\n    }\n    out.print(root);\n%&gt;\n</code></pre>\n"},{"tags":["java","android","flutter","android-studio","kotlin"],"comments":[{"owner":{"account_id":1387746,"reputation":2211,"user_id":1319363,"accept_rate":71,"display_name":"ronline"},"score":0,"creation_date":1613142734,"post_id":66164771,"comment_id":116992741,"body_markdown":"The issue is pointing to https://developer.android.com/studio/build/dependencies#duplicate_classes , now let&#39;s compare the gradle and Android Studio Dependencies.","body":"The issue is pointing to <a href=\"https://developer.android.com/studio/build/dependencies#duplicate_classes\" rel=\"nofollow noreferrer\">developer.android.com/studio/build/&hellip;</a> , now let&#39;s compare the gradle and Android Studio Dependencies."}],"answers":[{"tags":[],"owner":{"account_id":1387746,"reputation":2211,"user_id":1319363,"accept_rate":71,"display_name":"ronline"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1624731083,"creation_date":1624671185,"answer_id":68138475,"question_id":66164771,"body_markdown":"The conflict is caused by autogenerated Kotlin references in gradle. \r\n\r\nRemoving all Kotlin entries from gradle config files is sufficient to get the `flutter run` command back to order\r\n","title":"Type project.com.project.MainActivity is defined multiple times","body":"<p>The conflict is caused by autogenerated Kotlin references in gradle.</p>\n<p>Removing all Kotlin entries from gradle config files is sufficient to get the <code>flutter run</code> command back to order</p>\n"},{"tags":[],"owner":{"account_id":19812540,"reputation":81,"user_id":14510997,"display_name":"Kartik Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1653559302,"creation_date":1653559263,"answer_id":72390035,"question_id":66164771,"body_markdown":"apply plugin: &#39;kotlin-android&#39; remove this line from app/build.gradle","title":"Type project.com.project.MainActivity is defined multiple times","body":"<p>apply plugin: 'kotlin-android' remove this line from app/build.gradle</p>\n"},{"tags":[],"owner":{"account_id":14238102,"reputation":2486,"user_id":10285344,"display_name":"ASAD HAMEED"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684510748,"creation_date":1684510748,"answer_id":76290564,"question_id":66164771,"body_markdown":"Removing `Kotlin` entries from `build.gradle` did work for me, but I seemed like a work-around, but not the actual solution. Also `flutter clean` didn&#39;t do the job for me.\r\n\r\n## **Cause of the problem**\r\n\r\nThe project I was working on was created with `java` support, rather than `Kotlin`, and for a plugin to work I need the Kotlin folder. Nevertheless, I created the kotlin directly using this command,\r\n\r\n```\r\nflutter create -a kotlin .\r\n```\r\n\r\nAs a result, my product had two class files for `MainActivity` (Inside both Kotlin &amp; Java directories) and I figured it out by digging deep into the build folder, inside `intermediates` and `tmp` sub directories. **This was the actual error, that poped up in the logs.**\r\n\r\n## **The Solution**\r\nThen by taking some hints from another of my projects, that had `Kotlin` support, I deleted `com.example.my_project` folder from `android/app/src/main/java` and the error was resolved.","title":"Type project.com.project.MainActivity is defined multiple times","body":"<p>Removing <code>Kotlin</code> entries from <code>build.gradle</code> did work for me, but I seemed like a work-around, but not the actual solution. Also <code>flutter clean</code> didn't do the job for me.</p>\n<h2><strong>Cause of the problem</strong></h2>\n<p>The project I was working on was created with <code>java</code> support, rather than <code>Kotlin</code>, and for a plugin to work I need the Kotlin folder. Nevertheless, I created the kotlin directly using this command,</p>\n<pre><code>flutter create -a kotlin .\n</code></pre>\n<p>As a result, my product had two class files for <code>MainActivity</code> (Inside both Kotlin &amp; Java directories) and I figured it out by digging deep into the build folder, inside <code>intermediates</code> and <code>tmp</code> sub directories. <strong>This was the actual error, that poped up in the logs.</strong></p>\n<h2><strong>The Solution</strong></h2>\n<p>Then by taking some hints from another of my projects, that had <code>Kotlin</code> support, I deleted <code>com.example.my_project</code> folder from <code>android/app/src/main/java</code> and the error was resolved.</p>\n"},{"tags":[],"owner":{"account_id":14419010,"reputation":329,"user_id":10415632,"display_name":"Waqad Arshad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689193239,"creation_date":1689193239,"answer_id":76674181,"question_id":66164771,"body_markdown":"The reason for me was that **I had both Java and Kotlin support in my app**. And both the **MainActivity.java** and **MainActivity.kt** had a MainActivity class. Now, there were **two possible solutions** for this:\r\n\r\n**1:** Delete one of the folders: Either java or kotlin. whichever is not being used.\r\n\r\n**2:** Comment out the MainActivity class in one of them.\r\n\r\nI used the 2nd option and this is how I did it:\r\n\r\n**Before:**\r\n\r\n[![Before][1]][1]\r\n\r\n**After:**\r\n\r\n[![After][2]][2]\r\n\r\n\r\n\r\n**P.S. The reason why I choose the 2nd option is that initially, the app had Kotlin support which I removed and added the Java support to add a native module. But then I commented that java based native module because I did not need it anymore. So, I added the Kotlin support again but I also wanted to keep the commented Java code, so I did not delete the Java folder.**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8SnHk.png\r\n  [2]: https://i.stack.imgur.com/BuCtm.png","title":"Type project.com.project.MainActivity is defined multiple times","body":"<p>The reason for me was that <strong>I had both Java and Kotlin support in my app</strong>. And both the <strong>MainActivity.java</strong> and <strong>MainActivity.kt</strong> had a MainActivity class. Now, there were <strong>two possible solutions</strong> for this:</p>\n<p><strong>1:</strong> Delete one of the folders: Either java or kotlin. whichever is not being used.</p>\n<p><strong>2:</strong> Comment out the MainActivity class in one of them.</p>\n<p>I used the 2nd option and this is how I did it:</p>\n<p><strong>Before:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/8SnHk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8SnHk.png\" alt=\"Before\" /></a></p>\n<p><strong>After:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/BuCtm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BuCtm.png\" alt=\"After\" /></a></p>\n<p><strong>P.S. The reason why I choose the 2nd option is that initially, the app had Kotlin support which I removed and added the Java support to add a native module. But then I commented that java based native module because I did not need it anymore. So, I added the Kotlin support again but I also wanted to keep the commented Java code, so I did not delete the Java folder.</strong></p>\n"}],"owner":{"account_id":1387746,"reputation":2211,"user_id":1319363,"accept_rate":71,"display_name":"ronline"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4507,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":68138475,"answer_count":4,"score":5,"last_activity_date":1689193239,"creation_date":1613088270,"question_id":66164771,"body_markdown":"Android Application ID conflicts in Kotlin and Java MainActivity classes\r\n\r\nError: \r\n\r\n    Type project.com.project.MainActivity is defined multiple times \r\n    ./project/build/app/intermediates/javac/debug/classes/project/com/project/MainActivity.class,\r\n    ./project/build/app/tmp/kotlin-classes/debug/project/com/project/MainActivity.class\r\n\r\nBoth Kotlin and Java MainActivity classes are generated with the `flutter run` command and both  include  `package project.com.project`  \r\n\r\nMainActivity.class \r\n\r\n    package project.com.project\r\n    \r\n    public class MainActivity {\r\n       public MainActivity() {\r\n       }\r\n    }\r\n\r\nMainActivity.kt \r\n\r\n    package project.com.project\r\n    \r\n    import io.flutter.embedding.android.FlutterActivity\r\n    \r\n    class MainActivity: FlutterActivity() {\r\n    \r\n    }\r\n\r\nEnvironment :\r\n\r\n    Android Studio \t4.1.2\r\n    Gradle Plugin \t\t4.1.2 \r\n    Gradle Version \t6.5 \r\n    Flutter Version \t1.22\r\n\r\nTried in Android Studio : \r\n\r\n    Build -&gt; Clean Project, \r\n    Build -&gt; Rebuild Project, \r\n    File -&gt; Invalidate Cache Restart \r\n\r\n \r\nTried in Command Line : \r\n\r\n    flutter clean \r\n    flutter run\r\n    rm -Rf ~/.gradle/caches \r\n\r\nThe error is still there. \r\n\r\n","title":"Type project.com.project.MainActivity is defined multiple times","body":"<p>Android Application ID conflicts in Kotlin and Java MainActivity classes</p>\n<p>Error:</p>\n<pre><code>Type project.com.project.MainActivity is defined multiple times \n./project/build/app/intermediates/javac/debug/classes/project/com/project/MainActivity.class,\n./project/build/app/tmp/kotlin-classes/debug/project/com/project/MainActivity.class\n</code></pre>\n<p>Both Kotlin and Java MainActivity classes are generated with the <code>flutter run</code> command and both  include  <code>package project.com.project</code></p>\n<p>MainActivity.class</p>\n<pre><code>package project.com.project\n\npublic class MainActivity {\n   public MainActivity() {\n   }\n}\n</code></pre>\n<p>MainActivity.kt</p>\n<pre><code>package project.com.project\n\nimport io.flutter.embedding.android.FlutterActivity\n\nclass MainActivity: FlutterActivity() {\n\n}\n</code></pre>\n<p>Environment :</p>\n<pre><code>Android Studio  4.1.2\nGradle Plugin       4.1.2 \nGradle Version  6.5 \nFlutter Version     1.22\n</code></pre>\n<p>Tried in Android Studio :</p>\n<pre><code>Build -&gt; Clean Project, \nBuild -&gt; Rebuild Project, \nFile -&gt; Invalidate Cache Restart \n</code></pre>\n<p>Tried in Command Line :</p>\n<pre><code>flutter clean \nflutter run\nrm -Rf ~/.gradle/caches \n</code></pre>\n<p>The error is still there.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1689191600,"post_id":76673689,"comment_id":135180222,"body_markdown":"What you are suggesting makes no sense. There is no interaction between instances; if you stop one container, only that one will stop, the partitions will be reassigned to the other instance. If the concurrency is 6 and you only have 6 partitions then all 6 partitions might be assigned to one instance. `concurrency*instances` must be less than or equal to the number of partitions. Otherwise you will have idle consumers with no partitions assigned.","body":"What you are suggesting makes no sense. There is no interaction between instances; if you stop one container, only that one will stop, the partitions will be reassigned to the other instance. If the concurrency is 6 and you only have 6 partitions then all 6 partitions might be assigned to one instance. <code>concurrency*instances</code> must be less than or equal to the number of partitions. Otherwise you will have idle consumers with no partitions assigned."},{"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"score":0,"creation_date":1689222317,"post_id":76673689,"comment_id":135183365,"body_markdown":"@GaryRussell I have concurrency set as 3 .Correct me in that case if application is deployed in two instances, then each instance will be assigned three partition correct?And how to get container details per instance using Java?","body":"@GaryRussell I have concurrency set as 3 .Correct me in that case if application is deployed in two instances, then each instance will be assigned three partition correct?And how to get container details per instance using Java?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689254360,"post_id":76673689,"comment_id":135189504,"body_markdown":"For 6 partitions, that&#39;s not guaranteed. You could end up with 6+0, or 5+1,or 4+2, depending on the PartitionAssignor that&#39;s been configured... You can see Spring-kafka docs for `onPartitionsAssigned` callback function to check","body":"For 6 partitions, that&#39;s not guaranteed. You could end up with 6+0, or 5+1,or 4+2, depending on the PartitionAssignor that&#39;s been configured... You can see Spring-kafka docs for <code>onPartitionsAssigned</code> callback function to check"}],"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689192345,"creation_date":1689188333,"question_id":76673689,"body_markdown":"I am using Spring boot application with Spring Kafka. The application is deployed in two servers. I have a Kafka Consumer listening to a particular topic. I have set the concurrency of consumer to be 6. So there are 3 consumers created in each server listening to the topic.\r\n\r\nMy requirement is to stop all the kafka consumer on any one server. So the end result is that there will be only 3 Kafka consumer remaining started and other 3 is stopped.  \r\nI have gone through the answers where it stops container and as a result all the consumers are stopped. But I want to stop consumers based on server.","title":"Stop Kafka Consumer Dynamically","body":"<p>I am using Spring boot application with Spring Kafka. The application is deployed in two servers. I have a Kafka Consumer listening to a particular topic. I have set the concurrency of consumer to be 6. So there are 3 consumers created in each server listening to the topic.</p>\n<p>My requirement is to stop all the kafka consumer on any one server. So the end result is that there will be only 3 Kafka consumer remaining started and other 3 is stopped.<br />\nI have gone through the answers where it stops container and as a result all the consumers are stopped. But I want to stop consumers based on server.</p>\n"},{"tags":["java","exception","illegalstateexception"],"comments":[{"owner":{"account_id":138032,"reputation":1705,"user_id":342687,"display_name":"Andrew McNamee"},"score":4,"creation_date":1349212045,"post_id":12698275,"comment_id":17143101,"body_markdown":"On an maybe unrelated, note, I noticed StackOverflow&#39;s [illegalstatexception] tag says `In Java, an exception that occurs when using multiple threads, whereby one thread modifies an object in a way that makes it incompatible with the use of that object in the second thread, thus putting the object into an illegal state.`. Huh? Where does this come from?","body":"On an maybe unrelated, note, I noticed StackOverflow&#39;s [illegalstatexception] tag says <code>In Java, an exception that occurs when using multiple threads, whereby one thread modifies an object in a way that makes it incompatible with the use of that object in the second thread, thus putting the object into an illegal state.</code>. Huh? Where does this come from?"},{"owner":{"account_id":1427775,"reputation":11535,"user_id":1350869,"display_name":"Frank Pavageau"},"score":3,"creation_date":1349212053,"post_id":12698275,"comment_id":17143104,"body_markdown":"The &quot;Java application&quot; is the one you write, and you can use `IllegalStateException` there (either directly or because you&#39;re using Guava, for example). Where&#39;s the discrepancy?","body":"The &quot;Java application&quot; is the one you write, and you can use <code>IllegalStateException</code> there (either directly or because you&#39;re using Guava, for example). Where&#39;s the discrepancy?"},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":4,"creation_date":1349214367,"post_id":12698275,"comment_id":17143912,"body_markdown":"The tag wiki looks bogus, I have submitted an edit by liberally borrowing from this question; you should see the new version once it has passed peer review.","body":"The tag wiki looks bogus, I have submitted an edit by liberally borrowing from this question; you should see the new version once it has passed peer review."}],"answers":[{"comments":[{"owner":{"account_id":1298254,"reputation":2903,"user_id":1248724,"accept_rate":67,"display_name":"Zarathustra"},"score":1,"creation_date":1441033886,"post_id":12698372,"comment_id":52503952,"body_markdown":"I agree with your answer. But this doesn&#39;t explain why Effectiva Java and Guava uses this Exception like an ``IllegalArgumentException``","body":"I agree with your answer. But this doesn&#39;t explain why Effectiva Java and Guava uses this Exception like an <code>IllegalArgumentException</code>"}],"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":1,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1349212481,"creation_date":1349212179,"answer_id":12698372,"question_id":12698275,"body_markdown":"Here is one particularly legitimate usage of this exception in JDK (see: [`URLConnection.setIfModifiedSince(long)`](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/net/URLConnection.java#URLConnection.setIfModifiedSince(long)) among 300+ other usages of it:\r\n\r\n    public void setIfModifiedSince(long ifmodifiedsince) {\r\n\t\tif (connected)\r\n\t\t\tthrow new IllegalStateException(&quot;Already connected&quot;);\r\n\t\tifModifiedSince = ifmodifiedsince;\r\n    }\r\n\r\nI think the example is pretty clear. If the object is in particular state (&quot;*Already connected*&quot;), some operations should not be called. In this case when connection was established, some properties cannot be set.\r\n\r\nThis exception is especially useful when your class has some state (state machine?) that changes over time, making some methods irrelevant or impossible. Think about a `Car` class that has `start()`, `stop()` and `fuel()` methods. While calling `start()` twice, one after another, is probably nothing wrong, but fueling a started car is certainly a bad idea. Namely - car is in a wrong state.\r\n\r\nArguably good API should not allow us to call methods in wrong state so that problems like that are discovered at compile time, not at runtime. In this particular example connecting to a URL should return a different object with a subset of methods, all of which are valid after connecting.","title":"What&#39;s the intended use of IllegalStateException?","body":"<p>Here is one particularly legitimate usage of this exception in JDK (see: <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/net/URLConnection.java#URLConnection.setIfModifiedSince(long)\" rel=\"noreferrer\"><code>URLConnection.setIfModifiedSince(long)</code></a> among 300+ other usages of it:</p>\n\n<pre><code>public void setIfModifiedSince(long ifmodifiedsince) {\n    if (connected)\n        throw new IllegalStateException(\"Already connected\");\n    ifModifiedSince = ifmodifiedsince;\n}\n</code></pre>\n\n<p>I think the example is pretty clear. If the object is in particular state (\"<em>Already connected</em>\"), some operations should not be called. In this case when connection was established, some properties cannot be set.</p>\n\n<p>This exception is especially useful when your class has some state (state machine?) that changes over time, making some methods irrelevant or impossible. Think about a <code>Car</code> class that has <code>start()</code>, <code>stop()</code> and <code>fuel()</code> methods. While calling <code>start()</code> twice, one after another, is probably nothing wrong, but fueling a started car is certainly a bad idea. Namely - car is in a wrong state.</p>\n\n<p>Arguably good API should not allow us to call methods in wrong state so that problems like that are discovered at compile time, not at runtime. In this particular example connecting to a URL should return a different object with a subset of methods, all of which are valid after connecting.</p>\n"},{"tags":[],"owner":{"account_id":437352,"reputation":19077,"user_id":824987,"accept_rate":56,"display_name":"Amit Deshpande"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1349212422,"creation_date":1349212422,"answer_id":12698420,"question_id":12698275,"body_markdown":"I guess if you see usage of `IllegalStateException` I would say second if more appropriate. This exception is used in lot of packages\r\n\r\n - java.net\r\n - java.nio\r\n - java.util\r\n - java.util.concurrrent etc\r\n\r\nTo specify one example [ArrayBlockingQueue.add](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ArrayBlockingQueue.html#add%28E%29) throws this exception if queue is already full. Now full is state of the object and it is being invoked at inappropriate or Illegal time\r\n\r\nI guess both means same but difference of wording.\r\n\r\n","title":"What&#39;s the intended use of IllegalStateException?","body":"<p>I guess if you see usage of <code>IllegalStateException</code> I would say second if more appropriate. This exception is used in lot of packages</p>\n\n<ul>\n<li>java.net</li>\n<li>java.nio</li>\n<li>java.util</li>\n<li>java.util.concurrrent etc</li>\n</ul>\n\n<p>To specify one example <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ArrayBlockingQueue.html#add%28E%29\" rel=\"nofollow\">ArrayBlockingQueue.add</a> throws this exception if queue is already full. Now full is state of the object and it is being invoked at inappropriate or Illegal time</p>\n\n<p>I guess both means same but difference of wording.</p>\n"},{"comments":[{"owner":{"account_id":138032,"reputation":1705,"user_id":342687,"display_name":"Andrew McNamee"},"score":1,"creation_date":1349386971,"post_id":12698892,"comment_id":17203909,"body_markdown":"Ah, I like this example! The `InternalError` throw just below the ISE also demonstrates how useful it is to make a &quot;You messed up&quot; vs &quot;I messed up&quot; distinction. Also, it does show how static state (you could say &quot;Java Application&quot; or &quot;Java Environment&quot; state) still counts as state as far as ISEs are concerned.","body":"Ah, I like this example! The <code>InternalError</code> throw just below the ISE also demonstrates how useful it is to make a &quot;You messed up&quot; vs &quot;I messed up&quot; distinction. Also, it does show how static state (you could say &quot;Java Application&quot; or &quot;Java Environment&quot; state) still counts as state as far as ISEs are concerned."},{"owner":{"account_id":68273,"reputation":8282,"user_id":199288,"accept_rate":91,"display_name":"Ramon"},"score":0,"creation_date":1349606960,"post_id":12698892,"comment_id":17254769,"body_markdown":"@AndrewMcNamee I think that `AssertionError` would be more appropriate for cases where I know that I messed up. It seems be an `InternalError` only because it&#39;s inside JDK code rather than application code - a dubious distinction.","body":"@AndrewMcNamee I think that <code>AssertionError</code> would be more appropriate for cases where I know that I messed up. It seems be an <code>InternalError</code> only because it&#39;s inside JDK code rather than application code - a dubious distinction."},{"owner":{"account_id":138032,"reputation":1705,"user_id":342687,"display_name":"Andrew McNamee"},"score":0,"creation_date":1349707263,"post_id":12698892,"comment_id":17281414,"body_markdown":"Yep, I definitely agree about `AssertionError`; it seems to convey &quot;I messed up&quot; as opposed to &quot;You messed up&quot; (which ISE implies). I use it a lot in the `default` case for `switch`es. IMO `InternalError` still serves a useful purpose; the person reading stack trace knows they can assume &quot;Whoa, the JDK messed up&quot;, but the JDK authors probably could have left it out.","body":"Yep, I definitely agree about <code>AssertionError</code>; it seems to convey &quot;I messed up&quot; as opposed to &quot;You messed up&quot; (which ISE implies). I use it a lot in the <code>default</code> case for <code>switch</code>es. IMO <code>InternalError</code> still serves a useful purpose; the person reading stack trace knows they can assume &quot;Whoa, the JDK messed up&quot;, but the JDK authors probably could have left it out."}],"tags":[],"owner":{"account_id":1824055,"reputation":7962,"user_id":1657364,"display_name":"Guido Simone"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1349273165,"creation_date":1349214573,"answer_id":12698892,"question_id":12698275,"body_markdown":"Here is an example in the JDK.  There is a package private class called java.lang.Shutdown. If the system is shutting down and you attempt to add a new hook, it throws the IllegalStateException.  One could argue that this meets the criteria of the &quot;javadoc&quot; guidance - since it is the Java environment that is in the wrong state.\r\n\r\n    class Shutdown {    \r\n    ...\r\n\r\n       /* Add a new shutdown hook.  Checks the shutdown state and the hook itself,\r\n        * but does not do any security checks.\r\n        */\r\n        static void add(int slot, Runnable hook) {\r\n            synchronized (lock) {\r\n                if (state &gt; RUNNING)\r\n                    throw new IllegalStateException(&quot;Shutdown in progress&quot;);\r\n    \r\n                if (hooks[slot] != null)\r\n                    throw new InternalError(&quot;Shutdown hook at slot &quot; + slot + &quot; already registered&quot;);\r\n    \r\n                hooks[slot] = hook;\r\n            }\r\n        }\r\n\r\nHowever it also illustrates that there really is no distinction between the &quot;javadoc&quot; guidance and the &quot;Effective Java&quot; guidance.  Because of the way Shutdown is implemented, the shutdown-ness of the JVM is stored in a field called state.  Therefore it also meets the &quot;Effective Java&quot; guidance for when to use IllegalStateException, since the &quot;state&quot; field is part of the state of the receiving object. Since the receiving object (Shutdown) is in the wrong state, it throws the IllegalStateException.\r\n\r\nIn my opinion the two descriptions of when to use IllegalStateException are consistent.  The Effective Java description is a bit more practical, that&#39;s all.  For most of us, the most important part of the entire Java environment is the class that we are writing right now, so that is what the author is focusing on.  ","title":"What&#39;s the intended use of IllegalStateException?","body":"<p>Here is an example in the JDK.  There is a package private class called java.lang.Shutdown. If the system is shutting down and you attempt to add a new hook, it throws the IllegalStateException.  One could argue that this meets the criteria of the \"javadoc\" guidance - since it is the Java environment that is in the wrong state.</p>\n\n<pre><code>class Shutdown {    \n...\n\n   /* Add a new shutdown hook.  Checks the shutdown state and the hook itself,\n    * but does not do any security checks.\n    */\n    static void add(int slot, Runnable hook) {\n        synchronized (lock) {\n            if (state &gt; RUNNING)\n                throw new IllegalStateException(\"Shutdown in progress\");\n\n            if (hooks[slot] != null)\n                throw new InternalError(\"Shutdown hook at slot \" + slot + \" already registered\");\n\n            hooks[slot] = hook;\n        }\n    }\n</code></pre>\n\n<p>However it also illustrates that there really is no distinction between the \"javadoc\" guidance and the \"Effective Java\" guidance.  Because of the way Shutdown is implemented, the shutdown-ness of the JVM is stored in a field called state.  Therefore it also meets the \"Effective Java\" guidance for when to use IllegalStateException, since the \"state\" field is part of the state of the receiving object. Since the receiving object (Shutdown) is in the wrong state, it throws the IllegalStateException.</p>\n\n<p>In my opinion the two descriptions of when to use IllegalStateException are consistent.  The Effective Java description is a bit more practical, that's all.  For most of us, the most important part of the entire Java environment is the class that we are writing right now, so that is what the author is focusing on.  </p>\n"},{"comments":[{"owner":{"account_id":138032,"reputation":1705,"user_id":342687,"display_name":"Andrew McNamee"},"score":0,"creation_date":1349387383,"post_id":12700153,"comment_id":17204022,"body_markdown":"I suppose you could say that. But on the other hand, if it did have intended usage circumstances that were different from the circumstance he gave, then the might not be as meaningful since it&#39;d be less specific. In other words, if ISE were intended to be used in other circumstances than the current &quot;You called this method on me, but I&#39;m not in a state where I can do that&quot; case, it might not be as informative. But admittedly, I think I&#39;m splitting hairs here ;)","body":"I suppose you could say that. But on the other hand, if it did have intended usage circumstances that were different from the circumstance he gave, then the might not be as meaningful since it&#39;d be less specific. In other words, if ISE were intended to be used in other circumstances than the current &quot;You called this method on me, but I&#39;m not in a state where I can do that&quot; case, it might not be as informative. But admittedly, I think I&#39;m splitting hairs here ;)"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1353200576,"post_id":12700153,"comment_id":18368351,"body_markdown":"@AndrewMcNamee I *did* say that. I don&#39;t know what the rest of your comment even means, but you are trying to manufacture a discrepancy where none exists. You are committing a logical fallacy.","body":"@AndrewMcNamee I <i>did</i> say that. I don&#39;t know what the rest of your comment even means, but you are trying to manufacture a discrepancy where none exists. You are committing a logical fallacy."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349240058,"creation_date":1349222441,"answer_id":12700153,"question_id":12698275,"body_markdown":"There is no &#39;discrepancy&#39; here. There is nothing in Bloch&#39;s wording that excludes what it says in the JLS. Bloch is simply saying that if you have circumstance A, throw this exception. He is *not* saying that this exception is/should be thrown *only* in this condition. The JLS is saying this exception is thrown if A, B, or C. ","title":"What&#39;s the intended use of IllegalStateException?","body":"<p>There is no 'discrepancy' here. There is nothing in Bloch's wording that excludes what it says in the JLS. Bloch is simply saying that if you have circumstance A, throw this exception. He is <em>not</em> saying that this exception is/should be thrown <em>only</em> in this condition. The JLS is saying this exception is thrown if A, B, or C. </p>\n"},{"tags":[],"owner":{"account_id":1027813,"reputation":19711,"user_id":1036728,"accept_rate":53,"display_name":"antak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398909732,"creation_date":1398909732,"answer_id":23401016,"question_id":12698275,"body_markdown":"I ran into this with:\r\n\r\n    try {\r\n        MessageDigest digest = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n        ...\r\n    } catch (NoSuchAlgorithmException e) {\r\n        throw new AssertionError(e);\r\n    }\r\n\r\nI think it will be impractical for me to throw `IllegalStateException` here in place of `AssertionException` even though this falls into the &quot;the Java environment&quot; category.","title":"What&#39;s the intended use of IllegalStateException?","body":"<p>I ran into this with:</p>\n\n<pre><code>try {\n    MessageDigest digest = MessageDigest.getInstance(\"SHA-1\");\n    ...\n} catch (NoSuchAlgorithmException e) {\n    throw new AssertionError(e);\n}\n</code></pre>\n\n<p>I think it will be impractical for me to throw <code>IllegalStateException</code> here in place of <code>AssertionException</code> even though this falls into the \"the Java environment\" category.</p>\n"},{"tags":[],"owner":{"account_id":923928,"reputation":3612,"user_id":955091,"accept_rate":68,"display_name":"Yang Bo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459584008,"creation_date":1459583695,"answer_id":36370700,"question_id":12698275,"body_markdown":"Given a library, it should throw an `IllegalStateException` or `IllegalArgumentException` whenever it detects a bug due to the user code, whereas the library should throw an `AssertionError` whenever it detects a bug due to the library&#39;s own implementation.\r\n\r\nFor example, in the library&#39;s tests, you may expect the library throws an `IllegalStateException` when the order of method calls are wrong. But you will never expect the library throws an `AssertionError`.","title":"What&#39;s the intended use of IllegalStateException?","body":"<p>Given a library, it should throw an <code>IllegalStateException</code> or <code>IllegalArgumentException</code> whenever it detects a bug due to the user code, whereas the library should throw an <code>AssertionError</code> whenever it detects a bug due to the library's own implementation.</p>\n\n<p>For example, in the library's tests, you may expect the library throws an <code>IllegalStateException</code> when the order of method calls are wrong. But you will never expect the library throws an <code>AssertionError</code>.</p>\n"}],"owner":{"account_id":138032,"reputation":1705,"user_id":342687,"display_name":"Andrew McNamee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80873,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"answer_count":6,"score":81,"last_activity_date":1689191992,"creation_date":1349211747,"question_id":12698275,"body_markdown":"This came up in a discussion with a colleague today.\r\n\r\nThe Javadocs for Java&#39;s [`IllegalStateException`][1] state that it:\r\n\r\n&gt;Signals that a method has been invoked at an illegal or inappropriate time. In other words, the Java environment or Java application is not in an appropriate state for the requested operation.\r\n\r\nAnd Effective Java says (Item 60, page 248):\r\n\r\n&gt;Another commonly reused exception is IllegalStateException. This is generally the exception to throw if the invocation is illegal because of the state of the receiving object. For example, this would be the exception to throw if the caller attempted to use some object before it had been properly initialized.\r\n\r\nIt seems there&#39;s a bit of discrepancy here. The second sentence of the javadocs makes it sound like the exception could describe a very broad condition about the Java execution state, but the description in Effective Java makes it sound like it&#39;s used for conditions related specifically to the state of the object whose method has been called.\r\n\r\nThe usages I&#39;ve seen in the JDK (e.g. collections, `Matcher`) and in Guava definitely seem to fall into the category that Effective Java talks about (&quot;This object is in a state where this method can&#39;t be called&quot;). This also seems consistent with `IllegalStateException`&#39;s sibling `IllegalArgumentException`.\r\n\r\nAre there any legitimate `IllegalStateException` usages in the JDK that do relate to the &quot;Java environment&quot; or &quot;Java application&quot;? Or do any best practices guides advocate using it for the broader execution state? If not, why the heck are the javadocs phrased like that? ;)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html","title":"What&#39;s the intended use of IllegalStateException?","body":"<p>This came up in a discussion with a colleague today.</p>\n<p>The Javadocs for Java's <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html\" rel=\"nofollow noreferrer\"><code>IllegalStateException</code></a> state that it:</p>\n<blockquote>\n<p>Signals that a method has been invoked at an illegal or inappropriate time. In other words, the Java environment or Java application is not in an appropriate state for the requested operation.</p>\n</blockquote>\n<p>And Effective Java says (Item 60, page 248):</p>\n<blockquote>\n<p>Another commonly reused exception is IllegalStateException. This is generally the exception to throw if the invocation is illegal because of the state of the receiving object. For example, this would be the exception to throw if the caller attempted to use some object before it had been properly initialized.</p>\n</blockquote>\n<p>It seems there's a bit of discrepancy here. The second sentence of the javadocs makes it sound like the exception could describe a very broad condition about the Java execution state, but the description in Effective Java makes it sound like it's used for conditions related specifically to the state of the object whose method has been called.</p>\n<p>The usages I've seen in the JDK (e.g. collections, <code>Matcher</code>) and in Guava definitely seem to fall into the category that Effective Java talks about (&quot;This object is in a state where this method can't be called&quot;). This also seems consistent with <code>IllegalStateException</code>'s sibling <code>IllegalArgumentException</code>.</p>\n<p>Are there any legitimate <code>IllegalStateException</code> usages in the JDK that do relate to the &quot;Java environment&quot; or &quot;Java application&quot;? Or do any best practices guides advocate using it for the broader execution state? If not, why the heck are the javadocs phrased like that? ;)</p>\n"},{"tags":["java","multithreading","log4j","data-masking"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1689186263,"post_id":76673358,"comment_id":135179255,"body_markdown":"Your `maskedOutput` variable is local, not global. Please edit the question and add what your exact requirement is, because creating a thread and not waiting for it before returning is *wrong*.","body":"Your <code>maskedOutput</code> variable is local, not global. Please edit the question and add what your exact requirement is, because creating a thread and not waiting for it before returning is <i>wrong</i>."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1689189393,"post_id":76673358,"comment_id":135179892,"body_markdown":"It&#39;s hard to see how using a thread to do some work here will help, as you&#39;d need to wait for the task to end in order to pass the value back to the caller of the method.","body":"It&#39;s hard to see how using a thread to do some work here will help, as you&#39;d need to wait for the task to end in order to pass the value back to the caller of the method."},{"owner":{"account_id":29003834,"reputation":1,"user_id":22216862,"display_name":"Sujit Kumar Mishra"},"score":0,"creation_date":1689239781,"post_id":76673358,"comment_id":135186272,"body_markdown":"@RealSkeptic, I want to set &#39;super.format(event);&#39; into a String type variable and want to return the same variable from the format(LoggingEvent event) method. If will declare the variable inside the format(LoggingEvent event) method, then I can easily return the same, but can not use that to assign the result of the masking logic inside run() method as this is not final and if I will make it final then I would not able to assign the result into it. If I will declare the variable under Runnable instance then I can assign the result but would not able to return the same from the above method.","body":"@RealSkeptic, I want to set &#39;super.format(event);&#39; into a String type variable and want to return the same variable from the format(LoggingEvent event) method. If will declare the variable inside the format(LoggingEvent event) method, then I can easily return the same, but can not use that to assign the result of the masking logic inside run() method as this is not final and if I will make it final then I would not able to assign the result into it. If I will declare the variable under Runnable instance then I can assign the result but would not able to return the same from the above method."},{"owner":{"account_id":29003834,"reputation":1,"user_id":22216862,"display_name":"Sujit Kumar Mishra"},"score":0,"creation_date":1689241096,"post_id":76673358,"comment_id":135186596,"body_markdown":"@RealSkeptic, I can not declare the variable which I want to return from the in class level, I have format(LoggingEvent event), there are certain restrictions as per our project requirement and yes one more thing is we can not make LoggingEvent object as final, as per our project requirement, but without making LoggingEvent object as final we can not use it inside run() method during masking logic execution. How to execute the masking logic inside run() method without making LoggingEvent as final? How to return the masking logic&#39;s result from format(LoggingEvent event) method?","body":"@RealSkeptic, I can not declare the variable which I want to return from the in class level, I have format(LoggingEvent event), there are certain restrictions as per our project requirement and yes one more thing is we can not make LoggingEvent object as final, as per our project requirement, but without making LoggingEvent object as final we can not use it inside run() method during masking logic execution. How to execute the masking logic inside run() method without making LoggingEvent as final? How to return the masking logic&#39;s result from format(LoggingEvent event) method?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689274208,"post_id":76673358,"comment_id":135194187,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":29003834,"reputation":1,"user_id":22216862,"display_name":"Sujit Kumar Mishra"},"score":0,"creation_date":1689305255,"post_id":76673358,"comment_id":135197668,"body_markdown":"Actually, our project&#39;s requirement is to mask Personally Identifiable Information (PII) before printing those in the log files like debug.log, error.log, info.log, etc. In our project, we are capturing log messages for each and every functionality that we are performing. But this PII masking logic which we are executing during the log capturing process for each activity takes much time to execute and after the execution of this masking logic and printing masked output into our log files, then the process will complete and will get the output on the screen.","body":"Actually, our project&#39;s requirement is to mask Personally Identifiable Information (PII) before printing those in the log files like debug.log, error.log, info.log, etc. In our project, we are capturing log messages for each and every functionality that we are performing. But this PII masking logic which we are executing during the log capturing process for each activity takes much time to execute and after the execution of this masking logic and printing masked output into our log files, then the process will complete and will get the output on the screen."},{"owner":{"account_id":29003834,"reputation":1,"user_id":22216862,"display_name":"Sujit Kumar Mishra"},"score":0,"creation_date":1689305886,"post_id":76673358,"comment_id":135197719,"body_markdown":"To avoid the above performance issue during each operation we are performing in our application, we are trying to keep our custom masking logic in a separate Thread so that the masking logic execution will not disturb the current Thread and our application will work smoothly and will get the expected output on the screen within very less time. At the same time in the backend, the dedicated Thread for custom masking logic execution will complete the masking process and will write the masked log messages into corresponding log files without disturbing our main process.","body":"To avoid the above performance issue during each operation we are performing in our application, we are trying to keep our custom masking logic in a separate Thread so that the masking logic execution will not disturb the current Thread and our application will work smoothly and will get the expected output on the screen within very less time. At the same time in the backend, the dedicated Thread for custom masking logic execution will complete the masking process and will write the masked log messages into corresponding log files without disturbing our main process."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1689504255,"post_id":76673358,"comment_id":135220138,"body_markdown":"You should add these long explanation *into* your question, by clicking [edit]. But it sounds like you don&#39;t understand how to work with threads. You really shouldn&#39;t be using a thread, but rather an executor service. And you should set it up separately and send messages to it.","body":"You should add these long explanation <i>into</i> your question, by clicking <a href=\"https://stackoverflow.com/posts/76673358/edit\">edit</a>. But it sounds like you don&#39;t understand how to work with threads. You really shouldn&#39;t be using a thread, but rather an executor service. And you should set it up separately and send messages to it."}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689191970,"creation_date":1689191970,"answer_id":76674079,"question_id":76673358,"body_markdown":"Log4j 1.2 is **unsupported** since 2015. All modern replacements have some sort of regex substitution support.\r\n\r\nIn **Log4j 2.x** you can use:\r\n```lang-xml\r\n&lt;PatternLayout pattern=&quot;your_pattern&quot;&gt;\r\n  &lt;Replace regex=&quot;(\\d{4})\\d{8}(\\d{4})&quot; replacement=&quot;$1********$2&quot;/&gt;\r\n&lt;/PatternLayout&gt;\r\n```\r\nor\r\n```lang-xml\r\n&lt;PatternLayout pattern=&quot;%replace{your_pattern}{(\\d{4})\\d{8}(\\d{4})}{$1********$2}&quot;/&gt;\r\n```\r\n\r\nIn **Logback** you can use:\r\n```lang-xml\r\n&lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n  &lt;pattern&gt;\r\n    %replace(your_pattern){&quot;(\\d{4})\\d{8}(\\d{4})&quot;, &quot;$1********$2&quot;}\r\n  &lt;/pattern&gt;\r\n&lt;/encoder&gt;\r\n```","title":"Use of PatternLayout class&#39;s format(LoggingEvent event) method from a newly created Thread to execute custom log masking logic independently","body":"<p>Log4j 1.2 is <strong>unsupported</strong> since 2015. All modern replacements have some sort of regex substitution support.</p>\n<p>In <strong>Log4j 2.x</strong> you can use:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;PatternLayout pattern=&quot;your_pattern&quot;&gt;\n  &lt;Replace regex=&quot;(\\d{4})\\d{8}(\\d{4})&quot; replacement=&quot;$1********$2&quot;/&gt;\n&lt;/PatternLayout&gt;\n</code></pre>\n<p>or</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;PatternLayout pattern=&quot;%replace{your_pattern}{(\\d{4})\\d{8}(\\d{4})}{$1********$2}&quot;/&gt;\n</code></pre>\n<p>In <strong>Logback</strong> you can use:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n  &lt;pattern&gt;\n    %replace(your_pattern){&quot;(\\d{4})\\d{8}(\\d{4})&quot;, &quot;$1********$2&quot;}\n  &lt;/pattern&gt;\n&lt;/encoder&gt;\n</code></pre>\n"}],"owner":{"account_id":29003834,"reputation":1,"user_id":22216862,"display_name":"Sujit Kumar Mishra"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689191970,"creation_date":1689185185,"question_id":76673358,"body_markdown":"Unable to call PatternLayout class&#39;s format(LoggingEvent event) method from a newly created Thread to execute custom log masking logic independently without putting any impact on the actual functionlity. Getting multiple errors like - \r\n1. Compiler is asking to make the LoggingEvent object final.\r\n2. Unable to store the masked response into the global variable **maskedOutput** inside run() method, which we want to return from the format(LoggingEvent event) method.\r\n\r\n**Below is the actual code:-**\r\n\r\n```\r\npublic class CardNumberFilteringLayout extends PatternLayout {\r\n    private static final String MASK = &quot;$1++++++++++++&quot;;\r\n    private static final Pattern PATTERN = Pattern.compile(&quot;([0-9]{4})([0-9]{9,15})&quot;);\r\n    @Override\r\n    public String format(LoggingEvent event) {\r\n        if (event.getMessage() instanceof String) {\r\n            String message = event.getRenderedMessage();\r\n            Matcher matcher = PATTERN.matcher(message);\r\n            if (matcher.find()) {\r\n                String maskedMessage = matcher.replaceAll(MASK);\r\n                @SuppressWarnings({ &quot;ThrowableResultOfMethodCallIgnored&quot; })\r\n                Throwable throwable = event.getThrowableInformation() != null ? \r\n                        event.getThrowableInformation().getThrowable() : null;\r\n                LoggingEvent maskedEvent = new LoggingEvent(event.fqnOfCategoryClass,\r\n                        Logger.getLogger(event.getLoggerName()), event.timeStamp, \r\n                        event.getLevel(), maskedMessage, throwable);\r\n                return super.format(maskedEvent);\r\n            }\r\n        }\r\n        return super.format(event);\r\n    }\r\n}\r\n```\r\n\r\n**As per our requirement, we are trying to change the above piece of code into below:-**\r\n\r\n```\r\n@Override\r\npublic String format(LoggingEvent event) {\r\n    String maskedOutput = null;\r\n    new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            maskedOutput = //Masking Logic(Same As Above)\r\n        } \r\n    }).start();\r\n    return maskedOutput; \r\n}\r\n```\r\n","title":"Use of PatternLayout class&#39;s format(LoggingEvent event) method from a newly created Thread to execute custom log masking logic independently","body":"<p>Unable to call PatternLayout class's format(LoggingEvent event) method from a newly created Thread to execute custom log masking logic independently without putting any impact on the actual functionlity. Getting multiple errors like -</p>\n<ol>\n<li>Compiler is asking to make the LoggingEvent object final.</li>\n<li>Unable to store the masked response into the global variable <strong>maskedOutput</strong> inside run() method, which we want to return from the format(LoggingEvent event) method.</li>\n</ol>\n<p><strong>Below is the actual code:-</strong></p>\n<pre><code>public class CardNumberFilteringLayout extends PatternLayout {\n    private static final String MASK = &quot;$1++++++++++++&quot;;\n    private static final Pattern PATTERN = Pattern.compile(&quot;([0-9]{4})([0-9]{9,15})&quot;);\n    @Override\n    public String format(LoggingEvent event) {\n        if (event.getMessage() instanceof String) {\n            String message = event.getRenderedMessage();\n            Matcher matcher = PATTERN.matcher(message);\n            if (matcher.find()) {\n                String maskedMessage = matcher.replaceAll(MASK);\n                @SuppressWarnings({ &quot;ThrowableResultOfMethodCallIgnored&quot; })\n                Throwable throwable = event.getThrowableInformation() != null ? \n                        event.getThrowableInformation().getThrowable() : null;\n                LoggingEvent maskedEvent = new LoggingEvent(event.fqnOfCategoryClass,\n                        Logger.getLogger(event.getLoggerName()), event.timeStamp, \n                        event.getLevel(), maskedMessage, throwable);\n                return super.format(maskedEvent);\n            }\n        }\n        return super.format(event);\n    }\n}\n</code></pre>\n<p><strong>As per our requirement, we are trying to change the above piece of code into below:-</strong></p>\n<pre><code>@Override\npublic String format(LoggingEvent event) {\n    String maskedOutput = null;\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            maskedOutput = //Masking Logic(Same As Above)\n        } \n    }).start();\n    return maskedOutput; \n}\n</code></pre>\n"},{"tags":["java","spring","spring-security","spring-data-jpa"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1689150807,"post_id":76668352,"comment_id":135171106,"body_markdown":"Your question became part of the source code. Please fix the formatting and maybe put it at the bottom or the top of the question. I haven&#39;t notice it at first.","body":"Your question became part of the source code. Please fix the formatting and maybe put it at the bottom or the top of the question. I haven&#39;t notice it at first."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1689151299,"post_id":76668352,"comment_id":135171230,"body_markdown":"Do you get a login dialogue when accessing admin content? And does the access work, when you provide correct credentials?","body":"Do you get a login dialogue when accessing admin content? And does the access work, when you provide correct credentials?"},{"owner":{"account_id":2765614,"reputation":89,"user_id":2381415,"display_name":"Bruno"},"score":0,"creation_date":1689152981,"post_id":76668352,"comment_id":135171631,"body_markdown":"For me whenever i setup up security and have some problems i go to security filter chain and debug, that is the only way that you can be sure where you messed up. Check this article https://www.marcobehler.com/guides/spring-security and start debugging from org.springframework.security.authentication.ProviderManager where all authentication provider are ran.","body":"For me whenever i setup up security and have some problems i go to security filter chain and debug, that is the only way that you can be sure where you messed up. Check this article <a href=\"https://www.marcobehler.com/guides/spring-security\" rel=\"nofollow noreferrer\">marcobehler.com/guides/spring-security</a> and start debugging from org.springframework.security.authentication.ProviderManager where all authentication provider are ran."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1689160027,"post_id":76668352,"comment_id":135173201,"body_markdown":"May i ask for the reason as to why you havn’t just enabled spring security debug logs and read the reason for the 403 before asking here?","body":"May i ask for the reason as to why you havn’t just enabled spring security debug logs and read the reason for the 403 before asking here?"},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1689185796,"post_id":76668352,"comment_id":135179181,"body_markdown":"As @Toerktumlare said, add `logging.level.org.springframework.security=TRACE` to your `application.properties`","body":"As @Toerktumlare said, add <code>logging.level.org.springframework.security=TRACE</code> to your <code>application.properties</code>"},{"owner":{"account_id":24490388,"reputation":9,"user_id":18407540,"display_name":"Lenroc 777"},"score":0,"creation_date":1689191266,"post_id":76668352,"comment_id":135180163,"body_markdown":"@ValerijDobler I get login page when I try to access /user or /admin, but when I provide correct data I still get 403 error","body":"@ValerijDobler I get login page when I try to access /user or /admin, but when I provide correct data I still get 403 error"},{"owner":{"account_id":24490388,"reputation":9,"user_id":18407540,"display_name":"Lenroc 777"},"score":0,"creation_date":1689191460,"post_id":76668352,"comment_id":135180192,"body_markdown":"I enabled logs and just before 403 response I get:\n`Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=User(id=null, username=admin, password=$2a$1..., roles=[Role(id=1, name=ADMIN), Role(id=2, name=USER)]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=45C4F...], Granted Authorities=[ADMIN, USER]] ` and `Sending UsernamePasswordAuthenticationToken [Principal=User(id=null, username=admin...`","body":"I enabled logs and just before 403 response I get: <code>Did not set SecurityContextHolder since already authenticated UsernamePasswordAuthenticationToken [Principal=User(id=null, username=admin, password=$2a$1..., roles=[Role(id=1, name=ADMIN), Role(id=2, name=USER)]), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=45C4F...], Granted Authorities=[ADMIN, USER]] </code> and <code>Sending UsernamePasswordAuthenticationToken [Principal=User(id=null, username=admin...</code>"},{"owner":{"account_id":24490388,"reputation":9,"user_id":18407540,"display_name":"Lenroc 777"},"score":0,"creation_date":1689191483,"post_id":76668352,"comment_id":135180196,"body_markdown":"the next line is just `org.springframework.security.access.AccessDeniedException: Access Denied`","body":"the next line is just <code>org.springframework.security.access.AccessDeniedException: Access Denied</code>"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1689192577,"post_id":76668352,"comment_id":135180401,"body_markdown":"please dont include the logs in comment, you can edit your question, please use that function, and include the full logs, not just a snippet. We want the context","body":"please dont include the logs in comment, you can edit your question, please use that function, and include the full logs, not just a snippet. We want the context"}],"answers":[{"comments":[{"owner":{"account_id":24490388,"reputation":9,"user_id":18407540,"display_name":"Lenroc 777"},"score":0,"creation_date":1689151728,"post_id":76668670,"comment_id":135171331,"body_markdown":".anyRequest().authenticated() won’t demand logging in on any request, including these which match “/public”?","body":".anyRequest().authenticated() won’t demand logging in on any request, including these which match “/public”?"},{"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"score":1,"creation_date":1689157710,"post_id":76668670,"comment_id":135172671,"body_markdown":".anyRequest().authenticated() means that spring security will ask for authentication to access the services other then `/public`. only services which comes under `/public` are allowed to access without authentication.","body":".anyRequest().authenticated() means that spring security will ask for authentication to access the services other then <code>&#47;public</code>. only services which comes under <code>&#47;public</code> are allowed to access without authentication."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1689166414,"post_id":76668670,"comment_id":135174621,"body_markdown":"As @DhrumanDesai said. It applies for anything else, which you didn&#39;t provide a matcher. This also includes `/admin/something-else` , for matching this also only with ADMIN role use an AntMatcher instead.","body":"As @DhrumanDesai said. It applies for anything else, which you didn&#39;t provide a matcher. This also includes <code>&#47;admin&#47;something-else</code> , for matching this also only with ADMIN role use an AntMatcher instead."},{"owner":{"account_id":24490388,"reputation":9,"user_id":18407540,"display_name":"Lenroc 777"},"score":0,"creation_date":1689180991,"post_id":76668670,"comment_id":135178228,"body_markdown":"after changing the mapping to:\n`@GetMapping(&quot;/public&quot;)\n    public String home(){\n        return (&quot;&lt;h1&gt;Welcome&lt;/h1&gt;&quot;);\n    }`\ni still can&#39;t get access without loggin in. I have tried this request on postman **http://localhost:8081/public**\nand it returns log in form","body":"after changing the mapping to: <code>@GetMapping(&quot;&#47;public&quot;)     public String home(){         return (&quot;&lt;h1&gt;Welcome&lt;&#47;h1&gt;&quot;);     }</code> i still can&#39;t get access without loggin in. I have tried this request on postman <b><a href=\"http://localhost:8081/public\" rel=\"nofollow noreferrer\">localhost:8081/public</a></b> and it returns log in form"}],"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689151262,"creation_date":1689151262,"answer_id":76668670,"question_id":76668352,"body_markdown":"Try adding your public content behind the mapping `/public` and adjust the matchers like so:\r\n\r\n```java\r\n        http.authorizeHttpRequests((auth)-&gt; {\r\n            auth.requestMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\r\n            .requestMatchers(&quot;/user&quot;).hasRole(&quot;USER&quot;)\r\n            .requestMatchers(&quot;/public&quot;).permitAll()\r\n            .anyRequest().authenticated());\r\n        }\r\n```","title":"How to configure Spring Security properly?","body":"<p>Try adding your public content behind the mapping <code>/public</code> and adjust the matchers like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        http.authorizeHttpRequests((auth)-&gt; {\n            auth.requestMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\n            .requestMatchers(&quot;/user&quot;).hasRole(&quot;USER&quot;)\n            .requestMatchers(&quot;/public&quot;).permitAll()\n            .anyRequest().authenticated());\n        }\n</code></pre>\n"}],"owner":{"account_id":24490388,"reputation":9,"user_id":18407540,"display_name":"Lenroc 777"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689191874,"creation_date":1689148980,"question_id":76668352,"body_markdown":"I&#39;ve got a problem configuring SpringSecurity. This is my configuration class:\r\n\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\n\r\npublic class SecurityConfiguration{\r\n\r\n    private final UserService userService;\r\n    public SecurityConfiguration(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\r\n        http.csrf(AbstractHttpConfigurer::disable);\r\n        http.authorizeHttpRequests((auth)-&gt; {\r\n            auth.requestMatchers(&quot;/&quot;).permitAll();\r\n            auth.requestMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;);\r\n            auth.requestMatchers(&quot;/user&quot;).hasRole(&quot;USER&quot;);\r\n          })\r\n           .userDetailsService(userService)\r\n           .formLogin(Customizer.withDefaults());\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\n\r\nand here is my controller class\r\n\r\n```\r\n@Controller\r\npublic class HomeController {\r\n    @GetMapping(&quot;/&quot;)\r\n    public String home(){\r\n        return (&quot;&lt;h1&gt;Welcome&lt;/h1&gt;&quot;);\r\n    }\r\n    @GetMapping(&quot;/user&quot;)\r\n    public String homeUser(){\r\n        return (&quot;&lt;h1&gt;Welcome user &lt;/h1&gt;&quot;);\r\n    }\r\n    @GetMapping(&quot;/admin&quot;)\r\n    public String homeAdmin(){\r\n        return (&quot;&lt;h1&gt;Welcome admin &lt;/h1&gt;&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAs I understand, while visiting localhost address I should be able to see `&lt;h1&gt;Welcome&lt;/h1&gt;` tag without authentication needed, but when I try to access the address, the login form appears. When I log in as an user or admin, I get HTTP 403 response. \r\n\r\nHere is rest of my project files:\r\nRole model:\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;role&quot;)\r\npublic class Role {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;role_id&quot;)\r\n    private Long id;\r\n    private String name;\r\n\r\n    public Role(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n\r\nUser model\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name=&quot;user&quot;)\r\npublic class User implements UserDetails {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;user_id&quot;)\r\n    private Long id;\r\n    private String username;\r\n    private String password;\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(\r\n            name=&quot;user_role&quot;,\r\n            joinColumns = @JoinColumn(name=&quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name=&quot;role_id&quot;)\r\n    )\r\n    private List &lt;Role&gt; roles;\r\n\r\n    public User(String username, String password, List &lt;Role&gt; roles) {\r\n        this.username = username;\r\n        this.password = password;\r\n        this.roles = roles;\r\n    }\r\n\r\n    public User(User user) {\r\n        this.username = user.getUsername();\r\n        this.password = user.getPassword();\r\n        this.roles = user.getRoles();\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        Collection &lt;? extends GrantedAuthority&gt; authorities = roles.stream()\r\n                .map(role -&gt; new SimpleGrantedAuthority(role.getName()))\r\n                .collect(Collectors.toList());\r\n        System.out.println(authorities.getClass());\r\n        return authorities;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n\r\nUser repository\r\n\r\n```\r\npublic interface UserRepository extends JpaRepository &lt;User, Long&gt;{\r\n    Optional &lt;User&gt; findByUsername(String username);\r\n}\r\n```\r\n\r\nRole repository\r\n\r\n\r\n```\r\npublic interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {\r\n    Role findByName(String name);\r\n}\r\n```\r\n\r\n\r\nUserService\r\n\r\n```\r\n@Service\r\npublic class UserService implements UserDetailsService {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        return userRepository\r\n                .findByUsername(username)\r\n                .map(User::new)\r\n                .orElseThrow(()-&gt;new UsernameNotFoundException(&quot;Username not found: &quot;+username));\r\n    }\r\n}\r\n```\r\n\r\nThis is class with the main method that adds roles and users to the database:\r\n\r\n\r\n```\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\t@Bean\r\n\tCommandLineRunner commandLineRunner(UserRepository users, RoleRepository roles, PasswordEncoder encoder){\r\n\t\treturn args-&gt;{\r\n\t\t\tRole adminRole = roles.save(new Role(&quot;ADMIN&quot;));\r\n\t\t\tRole userRole = roles.save(new Role(&quot;USER&quot;));\r\n\r\n\t\t\tList&lt;Role&gt; userRoles = Arrays.asList(userRole);\r\n\t\t\tList&lt;Role&gt; adminRoles = Arrays.asList(adminRole, userRole);\r\n\r\n\t\t\tusers.save(new User(&quot;user&quot;, encoder.encode(&quot;user&quot;), userRoles));\r\n\t\t\tusers.save(new User(&quot;admin&quot;, encoder.encode(&quot;admin&quot;), adminRoles));\r\n\t\t};\r\n\t}\r\n\r\n}\r\n```\r\n\r\napplication.yaml file:\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:mysql://${MYSQL_HOST:localhost}:3306/demo\r\n    username: root\r\n    password: &quot;&quot;\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: create-drop\r\n    show-sql: true\r\n    properties:\r\n      hibernate:\r\n        format_sql: true\r\n    database: mysql\r\nserver:\r\n  port: 8081\r\n\r\n```\r\nI&#39;m using mysql on xampp and after starting the app, everything seems to be working fine. There are records in the user, role and user_role tables.\r\n\r\n\r\nI think have already tried every possible combination of requestMatchers() with just &quot;/&quot;, &quot;/**&quot;, &quot;/user&quot;, &quot;/user/**&quot;. I have also tried using @EnableMethodSecurity with the same result. I think it might be something to do with the Authorities but after logging that to console, it returns correct roles.","title":"How to configure Spring Security properly?","body":"<p>I've got a problem configuring SpringSecurity. This is my configuration class:</p>\n<pre><code>@EnableWebSecurity\n@Configuration\n\npublic class SecurityConfiguration{\n\n    private final UserService userService;\n    public SecurityConfiguration(UserService userService) {\n        this.userService = userService;\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\n        http.csrf(AbstractHttpConfigurer::disable);\n        http.authorizeHttpRequests((auth)-&gt; {\n            auth.requestMatchers(&quot;/&quot;).permitAll();\n            auth.requestMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;);\n            auth.requestMatchers(&quot;/user&quot;).hasRole(&quot;USER&quot;);\n          })\n           .userDetailsService(userService)\n           .formLogin(Customizer.withDefaults());\n\n        return http.build();\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>and here is my controller class</p>\n<pre><code>@Controller\npublic class HomeController {\n    @GetMapping(&quot;/&quot;)\n    public String home(){\n        return (&quot;&lt;h1&gt;Welcome&lt;/h1&gt;&quot;);\n    }\n    @GetMapping(&quot;/user&quot;)\n    public String homeUser(){\n        return (&quot;&lt;h1&gt;Welcome user &lt;/h1&gt;&quot;);\n    }\n    @GetMapping(&quot;/admin&quot;)\n    public String homeAdmin(){\n        return (&quot;&lt;h1&gt;Welcome admin &lt;/h1&gt;&quot;);\n    }\n}\n</code></pre>\n<p>As I understand, while visiting localhost address I should be able to see <code>&lt;h1&gt;Welcome&lt;/h1&gt;</code> tag without authentication needed, but when I try to access the address, the login form appears. When I log in as an user or admin, I get HTTP 403 response.</p>\n<p>Here is rest of my project files:\nRole model:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;role&quot;)\npublic class Role {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;role_id&quot;)\n    private Long id;\n    private String name;\n\n    public Role(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>User model</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name=&quot;user&quot;)\npublic class User implements UserDetails {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;user_id&quot;)\n    private Long id;\n    private String username;\n    private String password;\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(\n            name=&quot;user_role&quot;,\n            joinColumns = @JoinColumn(name=&quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name=&quot;role_id&quot;)\n    )\n    private List &lt;Role&gt; roles;\n\n    public User(String username, String password, List &lt;Role&gt; roles) {\n        this.username = username;\n        this.password = password;\n        this.roles = roles;\n    }\n\n    public User(User user) {\n        this.username = user.getUsername();\n        this.password = user.getPassword();\n        this.roles = user.getRoles();\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        Collection &lt;? extends GrantedAuthority&gt; authorities = roles.stream()\n                .map(role -&gt; new SimpleGrantedAuthority(role.getName()))\n                .collect(Collectors.toList());\n        System.out.println(authorities.getClass());\n        return authorities;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n}\n</code></pre>\n<p>User repository</p>\n<pre><code>public interface UserRepository extends JpaRepository &lt;User, Long&gt;{\n    Optional &lt;User&gt; findByUsername(String username);\n}\n</code></pre>\n<p>Role repository</p>\n<pre><code>public interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {\n    Role findByName(String name);\n}\n</code></pre>\n<p>UserService</p>\n<pre><code>@Service\npublic class UserService implements UserDetailsService {\n    @Autowired\n    private UserRepository userRepository;\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        return userRepository\n                .findByUsername(username)\n                .map(User::new)\n                .orElseThrow(()-&gt;new UsernameNotFoundException(&quot;Username not found: &quot;+username));\n    }\n}\n</code></pre>\n<p>This is class with the main method that adds roles and users to the database:</p>\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n    @Bean\n    CommandLineRunner commandLineRunner(UserRepository users, RoleRepository roles, PasswordEncoder encoder){\n        return args-&gt;{\n            Role adminRole = roles.save(new Role(&quot;ADMIN&quot;));\n            Role userRole = roles.save(new Role(&quot;USER&quot;));\n\n            List&lt;Role&gt; userRoles = Arrays.asList(userRole);\n            List&lt;Role&gt; adminRoles = Arrays.asList(adminRole, userRole);\n\n            users.save(new User(&quot;user&quot;, encoder.encode(&quot;user&quot;), userRoles));\n            users.save(new User(&quot;admin&quot;, encoder.encode(&quot;admin&quot;), adminRoles));\n        };\n    }\n\n}\n</code></pre>\n<p>application.yaml file:</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:mysql://${MYSQL_HOST:localhost}:3306/demo\n    username: root\n    password: &quot;&quot;\n    driver-class-name: com.mysql.cj.jdbc.Driver\n  jpa:\n    hibernate:\n      ddl-auto: create-drop\n    show-sql: true\n    properties:\n      hibernate:\n        format_sql: true\n    database: mysql\nserver:\n  port: 8081\n\n</code></pre>\n<p>I'm using mysql on xampp and after starting the app, everything seems to be working fine. There are records in the user, role and user_role tables.</p>\n<p>I think have already tried every possible combination of requestMatchers() with just &quot;/&quot;, &quot;/<strong>&quot;, &quot;/user&quot;, &quot;/user/</strong>&quot;. I have also tried using @EnableMethodSecurity with the same result. I think it might be something to do with the Authorities but after logging that to console, it returns correct roles.</p>\n"},{"tags":["java","keycloak"],"owner":{"account_id":14448284,"reputation":3,"user_id":12831123,"display_name":"Sanzhar Sarsekov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689189928,"creation_date":1689188410,"question_id":76673698,"body_markdown":"I need to have only one session per person, for this I wanted to revoke all tokens from active sessions and then delete them\r\n\r\nSo i tried to revoke the session token through the builtin calling the session.users().revokeConsentForClient builtin session method, but for some reason the token was still valid. So I tried to just remove all sessions session.sessions().removeUserSessions, but that also had no effect.  If there are solutions to this problem?  keycloak version 15.0.2  Code example\r\n\r\n```\r\n    public void deleteActiveSessions(RealmModel realmModel, UserAdapter userModel) {\r\n        session.users().revokeConsentForClient(realmModel,userModel.getId(),&quot;master&quot;);\r\n        session.sessions().removeUserSessions(realmModel, userModel);\r\n        session.userCache().clear();\r\n    }\r\n```","title":"How to revoke session token in keycloak?","body":"<p>I need to have only one session per person, for this I wanted to revoke all tokens from active sessions and then delete them</p>\n<p>So i tried to revoke the session token through the builtin calling the session.users().revokeConsentForClient builtin session method, but for some reason the token was still valid. So I tried to just remove all sessions session.sessions().removeUserSessions, but that also had no effect.  If there are solutions to this problem?  keycloak version 15.0.2  Code example</p>\n<pre><code>    public void deleteActiveSessions(RealmModel realmModel, UserAdapter userModel) {\n        session.users().revokeConsentForClient(realmModel,userModel.getId(),&quot;master&quot;);\n        session.sessions().removeUserSessions(realmModel, userModel);\n        session.userCache().clear();\n    }\n</code></pre>\n"},{"tags":["java","caching","weblogic","weblogic12c","weblogic11g"],"comments":[{"owner":{"account_id":8415430,"reputation":2566,"user_id":6316044,"display_name":"Emmanuel Collin"},"score":0,"creation_date":1689256265,"post_id":76673620,"comment_id":135190076,"body_markdown":"As java is a dynamic language you could face issues with your applications. You should restart all your servers.","body":"As java is a dynamic language you could face issues with your applications. You should restart all your servers."}],"owner":{"account_id":1646650,"reputation":821,"user_id":1518078,"accept_rate":41,"display_name":"Shitu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689189499,"creation_date":1689187652,"question_id":76673620,"body_markdown":"Will a Weblogic keep running fine if we delete the /tmp or /cache folder while the Weblogic is already UP?\r\nIssue is we accidently cleared the cache while JVMs were","title":"Weblogic cache cleanup while its Running","body":"<p>Will a Weblogic keep running fine if we delete the /tmp or /cache folder while the Weblogic is already UP?\nIssue is we accidently cleared the cache while JVMs were</p>\n"},{"tags":["java","multithreading","java-8","java-stream"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1689100418,"post_id":76664828,"comment_id":135164521,"body_markdown":"What framework do those annotations come from?  Can you duplicate this in a test harness outside of the container?","body":"What framework do those annotations come from?  Can you duplicate this in a test harness outside of the container?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1689100460,"post_id":76664828,"comment_id":135164528,"body_markdown":"Please provide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example).","body":"Please provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"score":0,"creation_date":1689100469,"post_id":76664828,"comment_id":135164531,"body_markdown":"The annotations are from Lombok. The problem about reproducing this code is that it doesn&#39;t happen all the time. There are sudden spike in failure and then it goes away. Not able to understand what is causing this.","body":"The annotations are from Lombok. The problem about reproducing this code is that it doesn&#39;t happen all the time. There are sudden spike in failure and then it goes away. Not able to understand what is causing this."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1689100515,"post_id":76664828,"comment_id":135164544,"body_markdown":"Also, is `randomizeOrder()` your exact method or did you make changes just for Stack Overflow?  (I&quot;ll agree with aled: even if you need to loop 10,000,000 times, a [mcve] that reproduces this error at least once per run would be invaluable.)","body":"Also, is <code>randomizeOrder()</code> your exact method or did you make changes just for Stack Overflow?  (I&quot;ll agree with aled: even if you need to loop 10,000,000 times, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that reproduces this error at least once per run would be invaluable.)"},{"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"score":0,"creation_date":1689100574,"post_id":76664828,"comment_id":135164558,"body_markdown":"More of less the exact method. Just removed a few branching (experimental branching) which decides whether we execute this code or not.","body":"More of less the exact method. Just removed a few branching (experimental branching) which decides whether we execute this code or not."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1689100665,"post_id":76664828,"comment_id":135164573,"body_markdown":"Right, &quot;more or less&quot; leaves a lot of room for error.  If the code above produces the error, fine, but please prove to us and yourself that the code above does produce the error by creating a full [mcve].","body":"Right, &quot;more or less&quot; leaves a lot of room for error.  If the code above produces the error, fine, but please prove to us and yourself that the code above does produce the error by creating a full <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"score":0,"creation_date":1689100778,"post_id":76664828,"comment_id":135164598,"body_markdown":"That&#39;s the whole problem. I have a test running every minute and since yesterday night this kind of failure only happened 3 ( in an 8hr period executing this code every minute). Not very helpful i know..\n\nLooking more into insight if anyone can spot anything obviously wrong..","body":"That&#39;s the whole problem. I have a test running every minute and since yesterday night this kind of failure only happened 3 ( in an 8hr period executing this code every minute). Not very helpful i know..  Looking more into insight if anyone can spot anything obviously wrong.."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1689100898,"post_id":76664828,"comment_id":135164628,"body_markdown":"The only thing I see is that `TestPojo` is not threadsafe, and might be not the actual object you are testing with.","body":"The only thing I see is that <code>TestPojo</code> is not threadsafe, and might be not the actual object you are testing with."},{"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"score":0,"creation_date":1689100938,"post_id":76664828,"comment_id":135164639,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254452/discussion-between-belphegor21-and-markspace).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254452/discussion-between-belphegor21-and-markspace\">continue this discussion in chat</a>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1689101048,"post_id":76664828,"comment_id":135164658,"body_markdown":"how big/small is `testObjects`? I believe that if less than 5 elements, that code will have a hard time to find 3 distinct random numbers","body":"how big/small is <code>testObjects</code>? I believe that if less than 5 elements, that code will have a hard time to find 3 distinct random numbers"},{"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"score":0,"creation_date":1689101538,"post_id":76664828,"comment_id":135164758,"body_markdown":"testObjects generally is 80-90 elements but can be small as well. We make sure to not call this function we don&#39;t have at least 2 items. Won&#39;t the `Random.int(2, topLimit)` not generate any random numbers preventing the execution if topLimit is low?","body":"testObjects generally is 80-90 elements but can be small as well. We make sure to not call this function we don&#39;t have at least 2 items. Won&#39;t the <code>Random.int(2, topLimit)</code> not generate any random numbers preventing the execution if topLimit is low?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1689101613,"post_id":76664828,"comment_id":135164772,"body_markdown":"if  `topLimit` is 4 (or 3) this stream will block! There is no way to generate 3 distinct numbers from integers between 2 and 3 (inclusive)","body":"if  <code>topLimit</code> is 4 (or 3) this stream will block! There is no way to generate 3 distinct numbers from integers between 2 and 3 (inclusive)"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1689102182,"post_id":76664828,"comment_id":135164881,"body_markdown":"The stacktrace suggests that the thread is stuck in calculating the hash. Seems weird.","body":"The stacktrace suggests that the thread is stuck in calculating the hash. Seems weird."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1689102185,"post_id":76664828,"comment_id":135164883,"body_markdown":"just tested it with `topLimit = 4` and got very similar [stack trace](https://i.stack.imgur.com/pPrSH.png) - simplified test: `new Random().ints(2, topLimit).distinct().limit(3).forEach(System.out::print);`","body":"just tested it with <code>topLimit = 4</code> and got very similar <a href=\"https://i.stack.imgur.com/pPrSH.png\" rel=\"nofollow noreferrer\">stack trace</a> - simplified test: <code>new Random().ints(2, topLimit).distinct().limit(3).forEach(System.out::print);</code>"},{"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"score":0,"creation_date":1689106048,"post_id":76664828,"comment_id":135165520,"body_markdown":"@user16320675 you are right. It blocks. the javadoc of limit() does&#39;t mention such behaviour. Thanks for pointing it out.","body":"@user16320675 you are right. It blocks. the javadoc of limit() does&#39;t mention such behaviour. Thanks for pointing it out."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1689106364,"post_id":76664828,"comment_id":135165572,"body_markdown":"I don&#39;t think the problem is with `limit()` alone, but also includes `distinct()` - it is impossible to generate three (or more) distinct number if given a bunch of `2`s and `3`s","body":"I don&#39;t think the problem is with <code>limit()</code> alone, but also includes <code>distinct()</code> - it is impossible to generate three (or more) distinct number if given a bunch of <code>2</code>s and <code>3</code>s"},{"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"score":0,"creation_date":1689106987,"post_id":76664828,"comment_id":135165701,"body_markdown":"Posted an answer with findings. Individually no function in the problem. It is the combination of an infinite stream( from random) and using limit() which is causing it.","body":"Posted an answer with findings. Individually no function in the problem. It is the combination of an infinite stream( from random) and using limit() which is causing it."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1689109199,"post_id":76664828,"comment_id":135166165,"body_markdown":"no, if you remove the `limit()` it will still block. Kind of obvious, how is `distinct()` expected to generate more distinct numbers as given? With `limit()` low enough, the stream can be terminated before all distinct numbers are used.","body":"no, if you remove the <code>limit()</code> it will still block. Kind of obvious, how is <code>distinct()</code> expected to generate more distinct numbers as given? With <code>limit()</code> low enough, the stream can be terminated before all distinct numbers are used."}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1689109537,"post_id":76665512,"comment_id":135166227,"body_markdown":"WRONG `distinct()` will **not** generate an infinite stream - it will try to, but it cannot generate more than the numbers given to it (in your example it is only getting `0`s and `1`s, so it will only be able to generate one `0` and one `1` (in same order as it got them) and must wait until it gets a different number, but `Random` will never provide a different one - `distinct()` will be stuck  - unless stopped by `limit()` || if you remove `limit()` from first code snippet it will still block","body":"WRONG <code>distinct()</code> will <b>not</b> generate an infinite stream - it will try to, but it cannot generate more than the numbers given to it (in your example it is only getting <code>0</code>s and <code>1</code>s, so it will only be able to generate one <code>0</code> and one <code>1</code> (in same order as it got them) and must wait until it gets a different number, but <code>Random</code> will never provide a different one - <code>distinct()</code> will be stuck  - unless stopped by <code>limit()</code> || if you remove <code>limit()</code> from first code snippet it will still block"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1689119543,"post_id":76665512,"comment_id":135167350,"body_markdown":"@user16320675 It isn&#39;t `distinct()` producing an infinite stream, it&#39;s `ints()`. The answer is admittedly confusingly worded, but it&#39;s clear enough where the infinite stream starts.","body":"@user16320675 It isn&#39;t <code>distinct()</code> producing an infinite stream, it&#39;s <code>ints()</code>. The answer is admittedly confusingly worded, but it&#39;s clear enough where the infinite stream starts."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689120122,"post_id":76665512,"comment_id":135167392,"body_markdown":"It&#39;s not blocked, it is spinning in `Random`. Terminology please.","body":"It&#39;s not blocked, it is spinning in <code>Random</code>. Terminology please."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1689140762,"post_id":76665512,"comment_id":135169120,"body_markdown":"@David sorry, not clear what your problem is with my comment? What you want to say?  What you wrote is exactly my point, I even emphasized it: &quot;*`distinct()` will **not** generate an infinite stream*&quot;, but the answer is stating &quot;*Distinct will generate an infinite stream*&quot;","body":"@David sorry, not clear what your problem is with my comment? What you want to say?  What you wrote is exactly my point, I even emphasized it: &quot;<i><code>distinct()</code> will <b>not</b> generate an infinite stream</i>&quot;, but the answer is stating &quot;<i>Distinct will generate an infinite stream</i>&quot;"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1689188844,"post_id":76665512,"comment_id":135179785,"body_markdown":"@user16320675 Yes, but immediately before that it says &quot;the issue come from an infinite stream generated from Random.ints()&quot; so while the next statement does make it a little unclear, it does indicate that the problem comes from Random.ints(). I was just pointing that out. I&#39;ve edited Belphegor21&#39;s answer, hope that helps.","body":"@user16320675 Yes, but immediately before that it says &quot;the issue come from an infinite stream generated from Random.ints()&quot; so while the next statement does make it a little unclear, it does indicate that the problem comes from Random.ints(). I was just pointing that out. I&#39;ve edited Belphegor21&#39;s answer, hope that helps."}],"tags":[],"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689188951,"creation_date":1689106888,"answer_id":76665512,"question_id":76664828,"body_markdown":"```java\r\nnew Random().ints(0, 2).distinct().limit(3).forEach(System.out::println); // Can only generate 0 and 1.\r\n```\r\n\r\nThe above line of code blocks. However\r\n\r\n```java\r\nIntStream.of(0, 1).distinct().limit(3).forEach(System.out::println);\r\n```\r\nDoesn&#39;t block.\r\n\r\n\r\nIn the second example the size of stream is fixed thus `limit` knows that and doesn&#39;t block. However, in first example `Random.ints()` isn&#39;t fixed in length thus `limit` keeps on waiting and thus ends up blocking the thread.\r\n\r\nBasically the issue come from an infinite stream generated from Random.ints(). Distinct will pass along unique elements from that infinite stream and then limit will pick the top n. But since there is no third unique value, distinct keeps on waiting and limit is not stopping it. In second case since the stream limit is known if we didn&#39;t get a 3rd unique value by the end of stream jvm stops the processing.","title":"Java distinct causing thread block","body":"<pre class=\"lang-java prettyprint-override\"><code>new Random().ints(0, 2).distinct().limit(3).forEach(System.out::println); // Can only generate 0 and 1.\n</code></pre>\n<p>The above line of code blocks. However</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntStream.of(0, 1).distinct().limit(3).forEach(System.out::println);\n</code></pre>\n<p>Doesn't block.</p>\n<p>In the second example the size of stream is fixed thus <code>limit</code> knows that and doesn't block. However, in first example <code>Random.ints()</code> isn't fixed in length thus <code>limit</code> keeps on waiting and thus ends up blocking the thread.</p>\n<p>Basically the issue come from an infinite stream generated from Random.ints(). Distinct will pass along unique elements from that infinite stream and then limit will pick the top n. But since there is no third unique value, distinct keeps on waiting and limit is not stopping it. In second case since the stream limit is known if we didn't get a 3rd unique value by the end of stream jvm stops the processing.</p>\n"}],"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76665512,"answer_count":1,"score":0,"last_activity_date":1689188951,"creation_date":1689100150,"question_id":76664828,"body_markdown":"In short, a chain of `distinct().limit(3).forEach()` is causing my thread to get blocked which is causing unhealthy container. My service is running in ECS fargate.\r\n\r\n``` java\r\n@Builder(toBuilder = true)\r\n@ToString\r\n@Getter\r\n@EqualsAndHashCode\r\npublic class TestPojo {\r\n    private String pojoId;\r\n\r\n    private String score;\r\n    @EqualsAndHashCode.Exclude\r\n    private boolean isRandomOrdered;\r\n}\r\n\r\n\r\nprivate List&lt;TestPojo&gt; randomizeOrder(final List&lt;TestPojo&gt; testObjects) {\r\n    // Picking testObjects randomly only from top 25\r\n    final int topLimit = Math.min(testObjects.size(), 25);\r\n    final Set&lt;TestPojo&gt; newOrderedPojos = new LinkedHashSet&lt;&gt;();\r\n    // First 2 position are fixed\r\n    newOrderedPojos.add(testObjects.get(0)); // Validations are present in calling function to make sure that get(0) and get(1) don&#39;t throw out of bound error.\r\n    newOrderedPojos.add(testObjects.get(1)); \r\n    new Random().ints(2, topLimit).distinct().limit(3)\r\n         .forEach(i -&gt; newOrderedPojos.add(testObjects.get(i).toBuilder()\r\n                                               .isRandomOrdered(true)\r\n                                               .build()));\r\n\r\n    // Add remaining objects. Since this is a set only objects not already present will be inserted.\r\n    newOrderedPojos.addAll(asins);\r\n\r\n    return ImmutableList.copyOf(newOrderedPojos);\r\n}\r\n\r\n```\r\n\r\n\r\nThe above intermittently gets a thread block and causes the whole container to go unhealthy since it is blocking threads and thus health check fails.\r\n\r\n```\r\n11 Jul 2023 16:19:12,942 [33m[WARN][m   (abc-periodic-metrics-0) com.abc.xyz.bobcat.StuckThreadDetectingValve: Thread Bobcat-2 is detected as stuck as it has been blocked for 4442432 ms\r\ncom.abc.xyz.bobcat.StuckThreadDetectingValve$StuckThreadException: Check stacktrace to see where the thread is stuck\r\n    at java.util.HashMap.hash(HashMap.java:340)\r\n    at java.util.HashMap.containsKey(HashMap.java:597)\r\n    at java.util.HashSet.contains(HashSet.java:204)\r\n    at java.util.stream.DistinctOps$1$2.accept(DistinctOps.java:173)\r\n    at java.util.stream.IntPipeline$4$1.accept(IntPipeline.java:250)\r\n    at java.util.Random$RandomIntsSpliterator.tryAdvance(Random.java:1029)\r\n    at java.util.stream.IntPipeline.forEachWithCancel(IntPipeline.java:162)\r\n    at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:499)\r\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:486)\r\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n    at java.util.stream.ForEachOps$ForEachOp$OfInt.evaluateSequential(ForEachOps.java:188)\r\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    at java.util.stream.IntPipeline.forEach(IntPipeline.java:427)\r\n    at com.abc.service.xyz.randomizeAsinOrder(TestClass.java:123)\r\n```\r\n\r\nDoes anyone know what could be the issue? I checked the javadoc for distinct and limit and foreach but non seem to indicate that they are thread un-safe or such a case could happen.","title":"Java distinct causing thread block","body":"<p>In short, a chain of <code>distinct().limit(3).forEach()</code> is causing my thread to get blocked which is causing unhealthy container. My service is running in ECS fargate.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder(toBuilder = true)\n@ToString\n@Getter\n@EqualsAndHashCode\npublic class TestPojo {\n    private String pojoId;\n\n    private String score;\n    @EqualsAndHashCode.Exclude\n    private boolean isRandomOrdered;\n}\n\n\nprivate List&lt;TestPojo&gt; randomizeOrder(final List&lt;TestPojo&gt; testObjects) {\n    // Picking testObjects randomly only from top 25\n    final int topLimit = Math.min(testObjects.size(), 25);\n    final Set&lt;TestPojo&gt; newOrderedPojos = new LinkedHashSet&lt;&gt;();\n    // First 2 position are fixed\n    newOrderedPojos.add(testObjects.get(0)); // Validations are present in calling function to make sure that get(0) and get(1) don't throw out of bound error.\n    newOrderedPojos.add(testObjects.get(1)); \n    new Random().ints(2, topLimit).distinct().limit(3)\n         .forEach(i -&gt; newOrderedPojos.add(testObjects.get(i).toBuilder()\n                                               .isRandomOrdered(true)\n                                               .build()));\n\n    // Add remaining objects. Since this is a set only objects not already present will be inserted.\n    newOrderedPojos.addAll(asins);\n\n    return ImmutableList.copyOf(newOrderedPojos);\n}\n\n</code></pre>\n<p>The above intermittently gets a thread block and causes the whole container to go unhealthy since it is blocking threads and thus health check fails.</p>\n<pre><code>11 Jul 2023 16:19:12,942 [33m[WARN][m   (abc-periodic-metrics-0) com.abc.xyz.bobcat.StuckThreadDetectingValve: Thread Bobcat-2 is detected as stuck as it has been blocked for 4442432 ms\ncom.abc.xyz.bobcat.StuckThreadDetectingValve$StuckThreadException: Check stacktrace to see where the thread is stuck\n    at java.util.HashMap.hash(HashMap.java:340)\n    at java.util.HashMap.containsKey(HashMap.java:597)\n    at java.util.HashSet.contains(HashSet.java:204)\n    at java.util.stream.DistinctOps$1$2.accept(DistinctOps.java:173)\n    at java.util.stream.IntPipeline$4$1.accept(IntPipeline.java:250)\n    at java.util.Random$RandomIntsSpliterator.tryAdvance(Random.java:1029)\n    at java.util.stream.IntPipeline.forEachWithCancel(IntPipeline.java:162)\n    at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:499)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:486)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.util.stream.ForEachOps$ForEachOp$OfInt.evaluateSequential(ForEachOps.java:188)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.IntPipeline.forEach(IntPipeline.java:427)\n    at com.abc.service.xyz.randomizeAsinOrder(TestClass.java:123)\n</code></pre>\n<p>Does anyone know what could be the issue? I checked the javadoc for distinct and limit and foreach but non seem to indicate that they are thread un-safe or such a case could happen.</p>\n"},{"tags":["java","spring-boot","system-design","resilience4j","resilience4j-retry"],"owner":{"account_id":21138393,"reputation":19,"user_id":15541371,"display_name":"postgis-user"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689188736,"creation_date":1689186892,"question_id":76673539,"body_markdown":"Here&#39;s a reformatted version of your Stack Overflow question:\r\n\r\n\r\nI am already familiar with how the `@Retry` annotation from Resilience4j works for synchronous functions, but I&#39;m unsure of how to design an Auto Retry mechanism for Kafka calls. Here&#39;s the scenario:\r\n\r\n1. I need to publish a message to Kafka on `topic_1`.\r\n2. The message is consumed by an external service.\r\n3. The external service sends a callback on `topic_2`.\r\n4. Based on the callback event received on `topic_2`, we decide whether to republish the message to `topic_1` or not.\r\n\r\nI&#39;m looking for guidance on how to implement Auto Retry for Kafka calls in this scenario. Is there a framework available that can help with this, or should I implement it myself? Any insights or examples would be greatly appreciated.\r\n\r\nEDIT: \r\nOne more question, `@Retry` block the current thread for the time until all retry attempts are exhausted ? I couldn&#39;t find this anywhere in documentation.","title":"Retry mechanism for Kafka Consumer","body":"<p>Here's a reformatted version of your Stack Overflow question:</p>\n<p>I am already familiar with how the <code>@Retry</code> annotation from Resilience4j works for synchronous functions, but I'm unsure of how to design an Auto Retry mechanism for Kafka calls. Here's the scenario:</p>\n<ol>\n<li>I need to publish a message to Kafka on <code>topic_1</code>.</li>\n<li>The message is consumed by an external service.</li>\n<li>The external service sends a callback on <code>topic_2</code>.</li>\n<li>Based on the callback event received on <code>topic_2</code>, we decide whether to republish the message to <code>topic_1</code> or not.</li>\n</ol>\n<p>I'm looking for guidance on how to implement Auto Retry for Kafka calls in this scenario. Is there a framework available that can help with this, or should I implement it myself? Any insights or examples would be greatly appreciated.</p>\n<p>EDIT:\nOne more question, <code>@Retry</code> block the current thread for the time until all retry attempts are exhausted ? I couldn't find this anywhere in documentation.</p>\n"},{"tags":["java","hibernate","tomcat"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689537303,"post_id":76673723,"comment_id":135223981,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76673723/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27092088,"reputation":1,"user_id":21024383,"display_name":"Yassine_De"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689188621,"creation_date":1689188621,"answer_id":76673723,"question_id":76580426,"body_markdown":"I faced the same exception in `@OneToMany` relationship when I was trying **delete operation**, by changing lazy fetching to eager fetching did solve my problem:\r\n `fetch = FetchType.LAZY` to `fetch = FetchType.EAGER`\r\nI hope this help.","title":"Hibernate `LazyInitializationException` in local tomcat but not in K8s pods","body":"<p>I faced the same exception in <code>@OneToMany</code> relationship when I was trying <strong>delete operation</strong>, by changing lazy fetching to eager fetching did solve my problem:\n<code>fetch = FetchType.LAZY</code> to <code>fetch = FetchType.EAGER</code>\nI hope this help.</p>\n"}],"owner":{"account_id":9518077,"reputation":3742,"user_id":8135721,"display_name":"Bawantha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689188621,"creation_date":1688036500,"question_id":76580426,"body_markdown":"I have this exception my local tomcat but not k8s pods, did add `@Transactional` and didn&#39;t work could you please someone help me on this\r\n\r\n\r\n\r\n```updateContract rq failed while process error reason. extracted error msg: failed to lazily initialize a collection of role: it.codegen.tbx.accomsetupservice.domain.acc.AccContractGroup.accContractCollection, could not initialize proxy - no Session\r\norg.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: it.codegen.tbx.accomsetupservice.domain.acc.AccContractGroup.accContractCollection, could not initialize proxy - no Session\r\n        at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:602) ~[hibernate-core-5.4.3.Final.jar:5.4.3.Final]\r\n        at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:217) ~[hibernate-core-5.4.3.Final.jar:5.4.3.Final]\r\n        at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:581) ~[hibernate-core-5.4.3.Final.jar:5.4.3.Final]\r\n        at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:148) ~[hibernate-core-5.4.3.Final.jar:5.4.3.Final]\r\n        at org.hibernate.collection.internal.PersistentBag.iterator(PersistentBag.java:303) ~[hibernate-core-5.4.3.Final.jar:5.4.3.Final]\r\n        at java.util.Spliterators$IteratorSpliterator.estimateSize(Spliterators.java:1821) ~[?:?]\r\n        at java.util.Spliterator.getExactSizeIfKnown(Spliterator.java:408) ~[?:?]\r\n        at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:501) ~[?:?]\r\n        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488) ~[?:?]\r\n        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[?:?]\r\n        at java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150) ~[?:?]\r\n        at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\r\n        at java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:543) ~[?:?]\r\n        at it.codegen.tbx.accomsetupservice.service.AccommodationConcurrencyChecker.isPassiveLocked(AccommodationConcurrencyChecker.java:155) ~[?:?]\r\n        at it.codegen.tbx.accomsetupservice.service.AccommodationConcurrencyChecker$$FastClassBySpringCGLIB$$172f4172.invoke(&lt;generated&gt;) ~[?:?]\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684) ~[spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at it.codegen.tbx.accomsetupservice.service.AccommodationConcurrencyChecker$$EnhancerBySpringCGLIB$$c9d66a20.isPassiveLocked(&lt;generated&gt;) ~[?:?]\r\n        at it.codegen.tbx.accomsetupservice.service.AccommodationContractGroup.findOrCreateContractGroup(AccommodationContractGroup.java:163) ~[?:?]\r\n        at it.codegen.tbx.accomsetupservice.service.AccommodationContractGroup.getUpdatableContract(AccommodationContractGroup.java:122) ~[?:?]\r\n        at it.codegen.tbx.accomsetupservice.service.AccommodationContractGroup$$FastClassBySpringCGLIB$$8af049bd.invoke(&lt;generated&gt;) ~[?:?]\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684) ~[spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at it.codegen.tbx.accomsetupservice.service.AccommodationContractGroup$$EnhancerBySpringCGLIB$$a08f89e1.getUpdatableContract(&lt;generated&gt;) ~[?:?]\r\n        at it.codegen.tbx.accomsetupservice.service.Impl.AccommodationServiceImpl.updateContract(AccommodationServiceImpl.java:225) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:205) ~[spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at com.sun.proxy.$Proxy519.updateContract(Unknown Source) ~[?:?]\r\n        at it.codegen.tbx.accomsetupservice.extention.AccommodationServiceAdapter.updateContract(AccommodationServiceAdapter.java:182) [classes/:]\r\n        at it.codegen.tbx.accomsetupservice.extention.AccommodationServiceAdapter$$FastClassBySpringCGLIB$$21d34c53.invoke(&lt;generated&gt;) [classes/:]\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) [spring-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) [spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136) [spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) [spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) [spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at it.codegen.tbx.accomsetupservice.extention.AccommodationServiceAdapter$$EnhancerBySpringCGLIB$$d566dd43.updateContract(&lt;generated&gt;) [classes/:]\r\n        at it.codegen.tbx.api.accomsetup.v2.channel.AccommodationContractServiceAdapter.updateContract(AccommodationContractServiceAdapter.java:81) [rest-tbx-connector-tc.jar:]\r\n        at it.codegen.tbx.api.accomsetup.v2.controller.AccomContractController.updateAccomContract(AccomContractController.java:191) [classes/:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) [spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) [spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) [spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) [spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) [spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) [spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) [spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) [spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) [spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:919) [spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:663) [servlet-api.jar:?]\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) [spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [servlet-api.jar:?]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [catalina.jar:9.0.19]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:9.0.19]\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-websocket%20-%20Copy.jar:9.0.19]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:9.0.19]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:9.0.19]\r\n        at it.codegen.tbx.api.service.base.v2.config.filters.CharsetFilter.doFilter(CharsetFilter.java:23) [base-service-2.40.1-FC-0000-SNAPSHOT.jar:?]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:9.0.19]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:9.0.19]\r\n        at it.codegen.tbx.api.service.base.v2.config.filters.VisibilityControlFilter.doFilterInternal(VisibilityControlFilter.java:72) [base-service-2.40.1-FC-0000-SNAPSHOT.jar:?]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109) [spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:9.0.19]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:9.0.19]\r\n        at it.codegen.tbx.api.service.base.v2.config.filters.XSSFilter.doFilter(XSSFilter.java:38) [base-service-2.40.1-FC-0000-SNAPSHOT.jar:?]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:9.0.19]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:9.0.19]\r\n        at it.codegen.tbx.api.v2.filters.LoggingFilter.doFilterInternal(LoggingFilter.java:132) [x-base-service-extensions-6.7.10-SNAPSHOT.jar:?]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109) [spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:9.0.19]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:9.0.19]\r\n        at it.codegen.tbx.api.v2.security.authorization.filter.AccessControlFilter.doFilterInternal(AccessControlFilter.java:48) [base-service-security-1.0-TB-1170-SNAPSHOT.jar:?]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109) [spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:9.0.19]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:9.0.19]\r\n        at it.codegen.tbx.api.v2.filters.AuthFilter.doFilterInternal(AuthFilter.java:41) [base-service-security-1.0-TB-1170-SNAPSHOT.jar:?]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109) [spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:9.0.19]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:9.0.19]\r\n        at it.codegen.tbx.api.v2.filters.CORSFilter.doFilter(CORSFilter.java:94) [x-base-service-extensions-6.7.10-SNAPSHOT.jar:?]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:9.0.19]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:9.0.19]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) [catalina.jar:9.0.19]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [catalina.jar:9.0.19]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [catalina.jar:9.0.19]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [catalina.jar:9.0.19]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [catalina.jar:9.0.19]\r\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:678) [catalina.jar:9.0.19]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [catalina.jar:9.0.19]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [catalina.jar:9.0.19]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-coyote.jar:9.0.19]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-coyote.jar:9.0.19]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836) [tomcat-coyote.jar:9.0.19]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747) [tomcat-coyote.jar:9.0.19]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-coyote.jar:9.0.19]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-util.jar:9.0.19]\r\n        at java.lang.Thread.run(Thread.java:829) [?:?]\r\n```\r\n\r\n\r\n\r\n\r\nGetting response as this\r\n\r\n\r\n\r\n```failed to lazily initialize a collection of role: it.codegen.tbx.accomsetupservice.domain.acc.AccContractGroup.accContractCollection, could not initialize proxy - no Session&quot;,``` . Is this because of Hibernate Session close how to avoid it?","title":"Hibernate `LazyInitializationException` in local tomcat but not in K8s pods","body":"<p>I have this exception my local tomcat but not k8s pods, did add <code>@Transactional</code> and didn't work could you please someone help me on this</p>\n<pre><code>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: it.codegen.tbx.accomsetupservice.domain.acc.AccContractGroup.accContractCollection, could not initialize proxy - no Session\n        at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:602) ~[hibernate-core-5.4.3.Final.jar:5.4.3.Final]\n        at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:217) ~[hibernate-core-5.4.3.Final.jar:5.4.3.Final]\n        at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:581) ~[hibernate-core-5.4.3.Final.jar:5.4.3.Final]\n        at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:148) ~[hibernate-core-5.4.3.Final.jar:5.4.3.Final]\n        at org.hibernate.collection.internal.PersistentBag.iterator(PersistentBag.java:303) ~[hibernate-core-5.4.3.Final.jar:5.4.3.Final]\n        at java.util.Spliterators$IteratorSpliterator.estimateSize(Spliterators.java:1821) ~[?:?]\n        at java.util.Spliterator.getExactSizeIfKnown(Spliterator.java:408) ~[?:?]\n        at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:501) ~[?:?]\n        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488) ~[?:?]\n        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[?:?]\n        at java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150) ~[?:?]\n        at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\n        at java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:543) ~[?:?]\n        at it.codegen.tbx.accomsetupservice.service.AccommodationConcurrencyChecker.isPassiveLocked(AccommodationConcurrencyChecker.java:155) ~[?:?]\n        at it.codegen.tbx.accomsetupservice.service.AccommodationConcurrencyChecker$$FastClassBySpringCGLIB$$172f4172.invoke(&lt;generated&gt;) ~[?:?]\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684) ~[spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at it.codegen.tbx.accomsetupservice.service.AccommodationConcurrencyChecker$$EnhancerBySpringCGLIB$$c9d66a20.isPassiveLocked(&lt;generated&gt;) ~[?:?]\n        at it.codegen.tbx.accomsetupservice.service.AccommodationContractGroup.findOrCreateContractGroup(AccommodationContractGroup.java:163) ~[?:?]\n        at it.codegen.tbx.accomsetupservice.service.AccommodationContractGroup.getUpdatableContract(AccommodationContractGroup.java:122) ~[?:?]\n        at it.codegen.tbx.accomsetupservice.service.AccommodationContractGroup$$FastClassBySpringCGLIB$$8af049bd.invoke(&lt;generated&gt;) ~[?:?]\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:684) ~[spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at it.codegen.tbx.accomsetupservice.service.AccommodationContractGroup$$EnhancerBySpringCGLIB$$a08f89e1.getUpdatableContract(&lt;generated&gt;) ~[?:?]\n        at it.codegen.tbx.accomsetupservice.service.Impl.AccommodationServiceImpl.updateContract(AccommodationServiceImpl.java:225) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:205) ~[spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at com.sun.proxy.$Proxy519.updateContract(Unknown Source) ~[?:?]\n        at it.codegen.tbx.accomsetupservice.extention.AccommodationServiceAdapter.updateContract(AccommodationServiceAdapter.java:182) [classes/:]\n        at it.codegen.tbx.accomsetupservice.extention.AccommodationServiceAdapter$$FastClassBySpringCGLIB$$21d34c53.invoke(&lt;generated&gt;) [classes/:]\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) [spring-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) [spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) [spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136) [spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124) [spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) [spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) [spring-aop-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at it.codegen.tbx.accomsetupservice.extention.AccommodationServiceAdapter$$EnhancerBySpringCGLIB$$d566dd43.updateContract(&lt;generated&gt;) [classes/:]\n        at it.codegen.tbx.api.accomsetup.v2.channel.AccommodationContractServiceAdapter.updateContract(AccommodationContractServiceAdapter.java:81) [rest-tbx-connector-tc.jar:]\n        at it.codegen.tbx.api.accomsetup.v2.controller.AccomContractController.updateAccomContract(AccomContractController.java:191) [classes/:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) [spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) [spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) [spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) [spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) [spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) [spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) [spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) [spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) [spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:919) [spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:663) [servlet-api.jar:?]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) [spring-webmvc-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [servlet-api.jar:?]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [catalina.jar:9.0.19]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:9.0.19]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-websocket%20-%20Copy.jar:9.0.19]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:9.0.19]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:9.0.19]\n        at it.codegen.tbx.api.service.base.v2.config.filters.CharsetFilter.doFilter(CharsetFilter.java:23) [base-service-2.40.1-FC-0000-SNAPSHOT.jar:?]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:9.0.19]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:9.0.19]\n        at it.codegen.tbx.api.service.base.v2.config.filters.VisibilityControlFilter.doFilterInternal(VisibilityControlFilter.java:72) [base-service-2.40.1-FC-0000-SNAPSHOT.jar:?]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109) [spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:9.0.19]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:9.0.19]\n        at it.codegen.tbx.api.service.base.v2.config.filters.XSSFilter.doFilter(XSSFilter.java:38) [base-service-2.40.1-FC-0000-SNAPSHOT.jar:?]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:9.0.19]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:9.0.19]\n        at it.codegen.tbx.api.v2.filters.LoggingFilter.doFilterInternal(LoggingFilter.java:132) [x-base-service-extensions-6.7.10-SNAPSHOT.jar:?]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109) [spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:9.0.19]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:9.0.19]\n        at it.codegen.tbx.api.v2.security.authorization.filter.AccessControlFilter.doFilterInternal(AccessControlFilter.java:48) [base-service-security-1.0-TB-1170-SNAPSHOT.jar:?]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109) [spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:9.0.19]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:9.0.19]\n        at it.codegen.tbx.api.v2.filters.AuthFilter.doFilterInternal(AuthFilter.java:41) [base-service-security-1.0-TB-1170-SNAPSHOT.jar:?]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:109) [spring-web-5.1.8.RELEASE.jar:5.1.8.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:9.0.19]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:9.0.19]\n        at it.codegen.tbx.api.v2.filters.CORSFilter.doFilter(CORSFilter.java:94) [x-base-service-extensions-6.7.10-SNAPSHOT.jar:?]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [catalina.jar:9.0.19]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [catalina.jar:9.0.19]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) [catalina.jar:9.0.19]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [catalina.jar:9.0.19]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [catalina.jar:9.0.19]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [catalina.jar:9.0.19]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [catalina.jar:9.0.19]\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:678) [catalina.jar:9.0.19]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [catalina.jar:9.0.19]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [catalina.jar:9.0.19]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-coyote.jar:9.0.19]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-coyote.jar:9.0.19]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836) [tomcat-coyote.jar:9.0.19]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747) [tomcat-coyote.jar:9.0.19]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-coyote.jar:9.0.19]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-util.jar:9.0.19]\n        at java.lang.Thread.run(Thread.java:829) [?:?]\n</code></pre>\n<p>Getting response as this</p>\n<p><code>failed to lazily initialize a collection of role: it.codegen.tbx.accomsetupservice.domain.acc.AccContractGroup.accContractCollection, could not initialize proxy - no Session&quot;,</code> . Is this because of Hibernate Session close how to avoid it?</p>\n"},{"tags":["java","android","unity-game-engine"],"answers":[{"tags":[],"owner":{"account_id":27616855,"reputation":21,"user_id":21078742,"display_name":"Alex Minchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689187954,"creation_date":1689187954,"answer_id":76673653,"question_id":75232333,"body_markdown":"I created issue ticket on issue tracker service. And google fixed it. The fix will be available in the next version.\r\n\r\nhttps://issuetracker.google.com/issues/266608214?pli=1","title":"BackupAccountManagerService: java.lang.SecurityException: GoogleCertificatesRslt: not allowed","body":"<p>I created issue ticket on issue tracker service. And google fixed it. The fix will be available in the next version.</p>\n<p><a href=\"https://issuetracker.google.com/issues/266608214?pli=1\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/266608214?pli=1</a></p>\n"}],"owner":{"account_id":27616855,"reputation":21,"user_id":21078742,"display_name":"Alex Minchenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1581,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76673653,"answer_count":1,"score":2,"last_activity_date":1689187954,"creation_date":1674641008,"question_id":75232333,"body_markdown":"Got this error in unity app.\r\nI&#39;ve investigated a lot of similar problems \r\nfor example: https://stackoverflow.com/questions/64196715/securityexception-googlecertificatesrslt-not-allowed,\r\nbut none of them contain the issue related to [Block Store](https://developers.google.com/identity/blockstore/android)\r\nWhy is this happening?\r\n\r\n```\r\nI/AppOps: updateUidProcState uid: 10227 procState: 3 capability:15\r\nI/AppOps: commitUidPendingStateLocked() :: UID - 10227, 500 &gt; 500, 8 &gt; 15\r\nD/NetworkPolicy: onUidStateChanged() uid: 10227, isForeground(true, 3)\r\n? D/BoundBrokerSvc: onBind: Intent { act=com.google.android.gms.auth.blockstore.service.START dat=chimera-action: cmp=com.google.android.gms/.chimera.GmsApiService }\r\n? D/BoundBrokerSvc: Loading bound service for intent: Intent { act=com.google.android.gms.auth.blockstore.service.START dat=chimera-action: cmp=com.google.android.gms/.chimera.GmsApiService }\r\n\r\n[BackupAccountManagerService] Security Exception in getBackupAccount\r\n    java.lang.SecurityException: GoogleCertificatesRslt: not allowed: pkg=com.example.app, sha256=[sha256 redacted], atk=false, ver=225014045.true (go/gsrlt)\r\n        at yvp.d(:com.google.android.gms@225014045@22.50.14 (190408-499278674):3)\r\n        at yvu.e(:com.google.android.gms@225014045@22.50.14 (190408-499278674):2)\r\n        at udo.a(:com.google.android.gms@225014045@22.50.14 (190408-499278674):2)\r\n        at uau.a(:com.google.android.gms@225014045@22.50.14 (190408-499278674):0)\r\n        at uaw.b(:com.google.android.gms@225014045@22.50.14 (190408-499278674):4)\r\n        at uaw.a(:com.google.android.gms@225014045@22.50.14 (190408-499278674):0)\r\n        at nzy.b(:com.google.android.gms@225014045@22.50.14 (190408-499278674):1)\r\n        at com.google.android.gms.auth.blockstore.service.BlockstoreApiChimeraService.d(:com.google.android.gms@225014045@22.50.14 (190408-499278674):0)\r\n        at com.google.android.gms.auth.blockstore.service.BlockstoreApiChimeraService.a(:com.google.android.gms@225014045@22.50.14 (190408-499278674):4)\r\n        at asoe.a(:com.google.android.gms@225014045@22.50.14 (190408-499278674):0)\r\n        at aspc.a(:com.google.android.gms@225014045@22.50.14 (190408-499278674):0)\r\n        at aspf.gi(:com.google.android.gms@225014045@22.50.14 (190408-499278674):45)\r\n        at zwe.onTransact(:com.google.android.gms@225014045@22.50.14 (190408-499278674):5)\r\n        at android.os.Binder.transact(Binder.java:1100)\r\n        at alqf.onTransact(:com.google.android.gms@225014045@22.50.14 (190408-499278674):17)\r\n        at android.os.Binder.transact(Binder.java:1100)\r\n        at arlh.onTransact(:com.google.android.gms@225014045@22.50.14 (190408-499278674):1)\r\n        at android.os.Binder.execTransactInternal(Binder.java:1220)\r\n        at android.os.Binder.execTransact(Binder.java:1179)\r\n```\r\n\r\n\r\n\r\nI&#39;ve tried changing android api level, installing the app from google app store, the local build, different devices, and android versions, in both cases the same problem occurs.","title":"BackupAccountManagerService: java.lang.SecurityException: GoogleCertificatesRslt: not allowed","body":"<p>Got this error in unity app.\nI've investigated a lot of similar problems\nfor example: <a href=\"https://stackoverflow.com/questions/64196715/securityexception-googlecertificatesrslt-not-allowed\">SecurityException - GoogleCertificatesRslt: not allowed</a>,\nbut none of them contain the issue related to <a href=\"https://developers.google.com/identity/blockstore/android\" rel=\"nofollow noreferrer\">Block Store</a>\nWhy is this happening?</p>\n<pre><code>I/AppOps: updateUidProcState uid: 10227 procState: 3 capability:15\nI/AppOps: commitUidPendingStateLocked() :: UID - 10227, 500 &gt; 500, 8 &gt; 15\nD/NetworkPolicy: onUidStateChanged() uid: 10227, isForeground(true, 3)\n? D/BoundBrokerSvc: onBind: Intent { act=com.google.android.gms.auth.blockstore.service.START dat=chimera-action: cmp=com.google.android.gms/.chimera.GmsApiService }\n? D/BoundBrokerSvc: Loading bound service for intent: Intent { act=com.google.android.gms.auth.blockstore.service.START dat=chimera-action: cmp=com.google.android.gms/.chimera.GmsApiService }\n\n[BackupAccountManagerService] Security Exception in getBackupAccount\n    java.lang.SecurityException: GoogleCertificatesRslt: not allowed: pkg=com.example.app, sha256=[sha256 redacted], atk=false, ver=225014045.true (go/gsrlt)\n        at yvp.d(:com.google.android.gms@225014045@22.50.14 (190408-499278674):3)\n        at yvu.e(:com.google.android.gms@225014045@22.50.14 (190408-499278674):2)\n        at udo.a(:com.google.android.gms@225014045@22.50.14 (190408-499278674):2)\n        at uau.a(:com.google.android.gms@225014045@22.50.14 (190408-499278674):0)\n        at uaw.b(:com.google.android.gms@225014045@22.50.14 (190408-499278674):4)\n        at uaw.a(:com.google.android.gms@225014045@22.50.14 (190408-499278674):0)\n        at nzy.b(:com.google.android.gms@225014045@22.50.14 (190408-499278674):1)\n        at com.google.android.gms.auth.blockstore.service.BlockstoreApiChimeraService.d(:com.google.android.gms@225014045@22.50.14 (190408-499278674):0)\n        at com.google.android.gms.auth.blockstore.service.BlockstoreApiChimeraService.a(:com.google.android.gms@225014045@22.50.14 (190408-499278674):4)\n        at asoe.a(:com.google.android.gms@225014045@22.50.14 (190408-499278674):0)\n        at aspc.a(:com.google.android.gms@225014045@22.50.14 (190408-499278674):0)\n        at aspf.gi(:com.google.android.gms@225014045@22.50.14 (190408-499278674):45)\n        at zwe.onTransact(:com.google.android.gms@225014045@22.50.14 (190408-499278674):5)\n        at android.os.Binder.transact(Binder.java:1100)\n        at alqf.onTransact(:com.google.android.gms@225014045@22.50.14 (190408-499278674):17)\n        at android.os.Binder.transact(Binder.java:1100)\n        at arlh.onTransact(:com.google.android.gms@225014045@22.50.14 (190408-499278674):1)\n        at android.os.Binder.execTransactInternal(Binder.java:1220)\n        at android.os.Binder.execTransact(Binder.java:1179)\n</code></pre>\n<p>I've tried changing android api level, installing the app from google app store, the local build, different devices, and android versions, in both cases the same problem occurs.</p>\n"},{"tags":["java","junit","spring-boot-test","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":15284220,"reputation":3452,"user_id":11027700,"display_name":"i.bondarenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567006653,"creation_date":1567006653,"answer_id":57695907,"question_id":57695526,"body_markdown":"Have a look at \r\nhttps://stackoverflow.com/questions/33869155/jsonpath-or-condition-using-mockmvc \r\n\r\n    .andExpect(jsonPath(&quot;$.isPass&quot;, anyOf(is(false),is(true))));\r\n\r\n","title":"Spring MockMvc: Assert Json field is either an empty array or not existed","body":"<p>Have a look at \n<a href=\"https://stackoverflow.com/questions/33869155/jsonpath-or-condition-using-mockmvc\">JsonPath OR condition using MockMVC</a> </p>\n\n<pre><code>.andExpect(jsonPath(\"$.isPass\", anyOf(is(false),is(true))));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":59884,"reputation":2756,"user_id":179058,"accept_rate":71,"display_name":"Kevin M"},"score":0,"creation_date":1619475850,"post_id":60724515,"comment_id":118912959,"body_markdown":"This doesn&#39;t catch the case where the field is not in the json body.","body":"This doesn&#39;t catch the case where the field is not in the json body."}],"tags":[],"owner":{"account_id":17993393,"reputation":11,"user_id":13076992,"display_name":"Yang Yongjie"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1584458475,"creation_date":1584455706,"answer_id":60724515,"question_id":57695526,"body_markdown":"    import static org.hamcrest.collection.IsEmptyCollection.empty;\r\n    \r\n    .andExpect(jsonPath(&quot;$.isPass&quot;,empty() ));","title":"Spring MockMvc: Assert Json field is either an empty array or not existed","body":"<pre><code>import static org.hamcrest.collection.IsEmptyCollection.empty;\n\n.andExpect(jsonPath(\"$.isPass\",empty() ));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":59884,"reputation":2756,"user_id":179058,"accept_rate":71,"display_name":"Kevin M"},"score":0,"creation_date":1619475838,"post_id":62273896,"comment_id":118912957,"body_markdown":"This doesn&#39;t catch the case where the field is not in the json body.","body":"This doesn&#39;t catch the case where the field is not in the json body."},{"owner":{"account_id":2100640,"reputation":588,"user_id":1868371,"accept_rate":100,"display_name":"Gerardo Cauich"},"score":0,"creation_date":1629396666,"post_id":62273896,"comment_id":121682862,"body_markdown":"Even though this doesn&#39;t answer the original question, I found this useful.","body":"Even though this doesn&#39;t answer the original question, I found this useful."}],"tags":[],"owner":{"account_id":403920,"reputation":174,"user_id":771951,"display_name":"marcello"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1591668435,"creation_date":1591668435,"answer_id":62273896,"question_id":57695526,"body_markdown":"If you have something like this:\r\n\r\n    { &quot;arrayFieldName&quot;: [] }\r\n\r\nYou can use:\r\n\r\n    .andExpect( jsonPath( &quot;$.arrayFieldName&quot;, Matchers.empty() );\r\n\r\nthat is cleaner.","title":"Spring MockMvc: Assert Json field is either an empty array or not existed","body":"<p>If you have something like this:</p>\n\n<pre><code>{ \"arrayFieldName\": [] }\n</code></pre>\n\n<p>You can use:</p>\n\n<pre><code>.andExpect( jsonPath( \"$.arrayFieldName\", Matchers.empty() );\n</code></pre>\n\n<p>that is cleaner.</p>\n"},{"tags":[],"owner":{"account_id":59884,"reputation":2756,"user_id":179058,"accept_rate":71,"display_name":"Kevin M"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1619537242,"creation_date":1619537242,"answer_id":67286070,"question_id":57695526,"body_markdown":"This is how you can check that the field does NOT exist in the json payload. \r\n\r\n    .andExpect(jsonPath(&quot;$.fieldThatShouldNotExist&quot;).doesNotExist())\r\n\r\nIf you wanted to be able to test for if it exists and is empty OR it doesn&#39;t exist, you&#39;d have to write your own custom Matcher to create an XOR like behavior. See this answer as a guide. https://stackoverflow.com/questions/29609476/testing-in-hamcrest-that-exists-only-one-item-in-a-list-with-a-specific-property/29610402#29610402","title":"Spring MockMvc: Assert Json field is either an empty array or not existed","body":"<p>This is how you can check that the field does NOT exist in the json payload.</p>\n<pre><code>.andExpect(jsonPath(&quot;$.fieldThatShouldNotExist&quot;).doesNotExist())\n</code></pre>\n<p>If you wanted to be able to test for if it exists and is empty OR it doesn't exist, you'd have to write your own custom Matcher to create an XOR like behavior. See this answer as a guide. <a href=\"https://stackoverflow.com/questions/29609476/testing-in-hamcrest-that-exists-only-one-item-in-a-list-with-a-specific-property/29610402#29610402\">Testing in Hamcrest that exists only one item in a list with a specific property</a></p>\n"},{"tags":[],"owner":{"account_id":27091248,"reputation":1,"user_id":20638999,"display_name":"John-OOO"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689187745,"creation_date":1689187745,"answer_id":76673634,"question_id":57695526,"body_markdown":"In order to catch the case where the field isn&#39;t in the json body at all, you can use `doesNotHaveJsonPath()`:\r\n\r\n```java\r\n.andExpect(jsonPath(&quot;$.fieldThatShouldNotExistOrEvenBeNull&quot;).doesNotHaveJsonPath())\r\n```\r\n\r\nSo if your `shares` field isn&#39;t present in the body, this matcher will pass. If it is present, this matcher will fail.","title":"Spring MockMvc: Assert Json field is either an empty array or not existed","body":"<p>In order to catch the case where the field isn't in the json body at all, you can use <code>doesNotHaveJsonPath()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.andExpect(jsonPath(&quot;$.fieldThatShouldNotExistOrEvenBeNull&quot;).doesNotHaveJsonPath())\n</code></pre>\n<p>So if your <code>shares</code> field isn't present in the body, this matcher will pass. If it is present, this matcher will fail.</p>\n"}],"owner":{"account_id":4990575,"reputation":482,"user_id":4012934,"accept_rate":54,"display_name":"Nosairat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8034,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1689187745,"creation_date":1567005226,"question_id":57695526,"body_markdown":"I&#39;m using [MockMvc][1] to test an API which returns JSON content, and that JSON may contain a field called **shares** as an empty array, or may not be existed at all (I mean **shares** field).\r\n\r\nJSON sample:\r\n\r\n    {\r\n        &quot;id&quot;:1234,\r\n         .....\r\n        &quot;shares&quot;:[]\r\n    }\r\n\r\n    //or\r\n\r\n    {\r\n        &quot;id&quot;:1234,\r\n        ....\r\n    }\r\n\r\nHow can I assert that this field is either empty or not existed\r\n\r\nlike:\r\n\r\n    mvc.perform(\r\n    \tpost(&quot;....url.......&quot;)\r\n        \t.andExpect(status().is(200))\r\n            // I need one of the following to be true, but this code will assert both of them, so it will fail\r\n            .andExpect(jsonPath(&quot;$.shares&quot;).isEmpty())\r\n            .andExpect(jsonPath(&quot;$.shares&quot;).doesNotExist())\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/servlet/MockMvc.html","title":"Spring MockMvc: Assert Json field is either an empty array or not existed","body":"<p>I'm using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/servlet/MockMvc.html\" rel=\"nofollow noreferrer\">MockMvc</a> to test an API which returns JSON content, and that JSON may contain a field called <strong>shares</strong> as an empty array, or may not be existed at all (I mean <strong>shares</strong> field).</p>\n\n<p>JSON sample:</p>\n\n<pre><code>{\n    \"id\":1234,\n     .....\n    \"shares\":[]\n}\n\n//or\n\n{\n    \"id\":1234,\n    ....\n}\n</code></pre>\n\n<p>How can I assert that this field is either empty or not existed</p>\n\n<p>like:</p>\n\n<pre><code>mvc.perform(\n    post(\"....url.......\")\n        .andExpect(status().is(200))\n        // I need one of the following to be true, but this code will assert both of them, so it will fail\n        .andExpect(jsonPath(\"$.shares\").isEmpty())\n        .andExpect(jsonPath(\"$.shares\").doesNotExist())\n</code></pre>\n"},{"tags":["java","log4j","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1689189178,"post_id":76673595,"comment_id":135179846,"body_markdown":"This is a known issue: [LOG4J2-2649](https://issues.apache.org/jira/browse/LOG4J2-2649)","body":"This is a known issue: <a href=\"https://issues.apache.org/jira/browse/LOG4J2-2649\" rel=\"nofollow noreferrer\">LOG4J2-2649</a>"}],"owner":{"account_id":22587204,"reputation":1,"user_id":16770949,"display_name":"zivoric"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689187435,"creation_date":1689187435,"question_id":76673595,"body_markdown":"I am using native-image to compile a JAR into a windows executable, and the application uses Log4j (v2.19.0) as a logger. Native-image is able to compile the executable without errors, but when I run the program, it gives the following error:\r\n\r\n```\r\nERROR StatusLogger Unable to load services for service class org.apache.logging.log4j.spi.Provider\r\n java.lang.InternalError: com.oracle.svm.core.jdk.UnsupportedFeatureError: Defining hidden classes at runtime is not supported.\r\n        at java.base@20.0.1/java.lang.invoke.InnerClassLambdaMetafactory.generateInnerClass(InnerClassLambdaMetafactory.java:485)\r\n        at java.base@20.0.1/java.lang.invoke.InnerClassLambdaMetafactory.spinInnerClass(InnerClassLambdaMetafactory.java:387)\r\n        at java.base@20.0.1/java.lang.invoke.InnerClassLambdaMetafactory.buildCallSite(InnerClassLambdaMetafactory.java:322)\r\n        at java.base@20.0.1/java.lang.invoke.LambdaMetafactory.metafactory(LambdaMetafactory.java:341)\r\n        at org.apache.logging.log4j.util.ServiceLoaderUtil.loadClassloaderServices(ServiceLoaderUtil.java:93)\r\n        at org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:74)\r\n        at org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:68)\r\n        at org.apache.logging.log4j.util.ProviderUtil.&lt;init&gt;(ProviderUtil.java:67)\r\n        at org.apache.logging.log4j.util.ProviderUtil.lazyInit(ProviderUtil.java:145)\r\n        at org.apache.logging.log4j.util.ProviderUtil.hasProviders(ProviderUtil.java:129)\r\n        at org.apache.logging.log4j.LogManager.&lt;clinit&gt;(LogManager.java:90)\r\n        at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\r\n        at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\r\n        at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\r\n        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:358)\r\n        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:383)\r\n        at com.mojang.logging.LogUtils.getLogger(LogUtils.java:62)\r\n        at net.minecraft.client.main.Main.&lt;clinit&gt;(Main.java:42)\r\nCaused by: com.oracle.svm.core.jdk.UnsupportedFeatureError: Defining hidden classes at runtime is not supported.\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.util.VMError.unsupportedFeature(VMError.java:92)\r\n        at java.base@20.0.1/java.lang.ClassLoader.defineClass0(ClassLoader.java:338)\r\n        at java.base@20.0.1/java.lang.System$2.defineClass(System.java:2382)\r\n        at java.base@20.0.1/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2448)\r\n        at java.base@20.0.1/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClassAsLookup(MethodHandles.java:2429)\r\n        at java.base@20.0.1/java.lang.invoke.MethodHandles$Lookup.defineHiddenClass(MethodHandles.java:2135)\r\n        at java.base@20.0.1/java.lang.invoke.InnerClassLambdaMetafactory.generateInnerClass(InnerClassLambdaMetafactory.java:479)\r\n        ... 17 more\r\nERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\r\n```\r\n\r\nFollowing this, a segfault occurs and gives this: [Pastebin link](https://pastebin.com/dxyJeRbV)\r\n\r\nI would first like to figure out if there is a possible way to fix the error from occurring at all, but I suspect this might not be possible given the nature of native-image with hidden classes and lambdas at runtime. If that is not possible, then I would like to figure out if there is a way to prevent the segfault from occurring, since it seems to try to fallback to a SimpleLogger right before, which I would be fine with happening.\r\n\r\n**What I have tried:**\r\n\r\n- Using `-agentlib:native-image-agent=config-output-dir` to generate configuration for native-image (before doing this, it did not compile at all)\r\n- Using an earlier version of GraalVM that matched the JAR version (JAR is Java 17; Originally used GraalVM 20.0.1, then tried 17.0.7)\r\n\r\n**Restriction**\r\n\r\nI do not have access to the source code, only the compiled JAR, meaning changing the version of Log4j would be questionable if not impossible. Ideally there would be some sort of change to my native-image build process, or an argument at runtime that allows the program to run, since I cannot change the source code.","title":"GraalVM Native Image and Log4j causing error: &quot;Defining hidden classes at runtime is not supported&quot;","body":"<p>I am using native-image to compile a JAR into a windows executable, and the application uses Log4j (v2.19.0) as a logger. Native-image is able to compile the executable without errors, but when I run the program, it gives the following error:</p>\n<pre><code>ERROR StatusLogger Unable to load services for service class org.apache.logging.log4j.spi.Provider\n java.lang.InternalError: com.oracle.svm.core.jdk.UnsupportedFeatureError: Defining hidden classes at runtime is not supported.\n        at java.base@20.0.1/java.lang.invoke.InnerClassLambdaMetafactory.generateInnerClass(InnerClassLambdaMetafactory.java:485)\n        at java.base@20.0.1/java.lang.invoke.InnerClassLambdaMetafactory.spinInnerClass(InnerClassLambdaMetafactory.java:387)\n        at java.base@20.0.1/java.lang.invoke.InnerClassLambdaMetafactory.buildCallSite(InnerClassLambdaMetafactory.java:322)\n        at java.base@20.0.1/java.lang.invoke.LambdaMetafactory.metafactory(LambdaMetafactory.java:341)\n        at org.apache.logging.log4j.util.ServiceLoaderUtil.loadClassloaderServices(ServiceLoaderUtil.java:93)\n        at org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:74)\n        at org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:68)\n        at org.apache.logging.log4j.util.ProviderUtil.&lt;init&gt;(ProviderUtil.java:67)\n        at org.apache.logging.log4j.util.ProviderUtil.lazyInit(ProviderUtil.java:145)\n        at org.apache.logging.log4j.util.ProviderUtil.hasProviders(ProviderUtil.java:129)\n        at org.apache.logging.log4j.LogManager.&lt;clinit&gt;(LogManager.java:90)\n        at org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:55)\n        at org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:47)\n        at org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\n        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:358)\n        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:383)\n        at com.mojang.logging.LogUtils.getLogger(LogUtils.java:62)\n        at net.minecraft.client.main.Main.&lt;clinit&gt;(Main.java:42)\nCaused by: com.oracle.svm.core.jdk.UnsupportedFeatureError: Defining hidden classes at runtime is not supported.\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.util.VMError.unsupportedFeature(VMError.java:92)\n        at java.base@20.0.1/java.lang.ClassLoader.defineClass0(ClassLoader.java:338)\n        at java.base@20.0.1/java.lang.System$2.defineClass(System.java:2382)\n        at java.base@20.0.1/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2448)\n        at java.base@20.0.1/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClassAsLookup(MethodHandles.java:2429)\n        at java.base@20.0.1/java.lang.invoke.MethodHandles$Lookup.defineHiddenClass(MethodHandles.java:2135)\n        at java.base@20.0.1/java.lang.invoke.InnerClassLambdaMetafactory.generateInnerClass(InnerClassLambdaMetafactory.java:479)\n        ... 17 more\nERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\n</code></pre>\n<p>Following this, a segfault occurs and gives this: <a href=\"https://pastebin.com/dxyJeRbV\" rel=\"nofollow noreferrer\">Pastebin link</a></p>\n<p>I would first like to figure out if there is a possible way to fix the error from occurring at all, but I suspect this might not be possible given the nature of native-image with hidden classes and lambdas at runtime. If that is not possible, then I would like to figure out if there is a way to prevent the segfault from occurring, since it seems to try to fallback to a SimpleLogger right before, which I would be fine with happening.</p>\n<p><strong>What I have tried:</strong></p>\n<ul>\n<li>Using <code>-agentlib:native-image-agent=config-output-dir</code> to generate configuration for native-image (before doing this, it did not compile at all)</li>\n<li>Using an earlier version of GraalVM that matched the JAR version (JAR is Java 17; Originally used GraalVM 20.0.1, then tried 17.0.7)</li>\n</ul>\n<p><strong>Restriction</strong></p>\n<p>I do not have access to the source code, only the compiled JAR, meaning changing the version of Log4j would be questionable if not impossible. Ideally there would be some sort of change to my native-image build process, or an argument at runtime that allows the program to run, since I cannot change the source code.</p>\n"},{"tags":["java","maven","gradle","repository","asyncapi"],"answers":[{"tags":[],"owner":{"account_id":28969902,"reputation":61,"user_id":22190461,"display_name":"Guillem Chesa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689187368,"creation_date":1689187368,"answer_id":76673586,"question_id":76673274,"body_markdown":"Try changing it from `1.0.0-EAP.1` to `1.0.0-EAP-1`. If it doesn&#39;t works, it&#39;s also available on [mvncentral](https://mvnrepository.com/artifact/com.asyncapi.asyncapi-gradle-plugin/com.asyncapi.asyncapi-gradle-plugin.gradle.plugin/1.0.0-EAP-1).","title":"Gradle look into wrong maven repository l","body":"<p>Try changing it from <code>1.0.0-EAP.1</code> to <code>1.0.0-EAP-1</code>. If it doesn't works, it's also available on <a href=\"https://mvnrepository.com/artifact/com.asyncapi.asyncapi-gradle-plugin/com.asyncapi.asyncapi-gradle-plugin.gradle.plugin/1.0.0-EAP-1\" rel=\"nofollow noreferrer\">mvncentral</a>.</p>\n"}],"owner":{"account_id":25042032,"reputation":21,"user_id":21092608,"display_name":"Настя"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689187368,"creation_date":1689184393,"question_id":76673274,"body_markdown":"How I add plugin in build.gradle.\r\nSource: https://plugins.gradle.org/plugin/com.asyncapi.asyncapi-gradle-plugin\r\n```\r\n buildscript {\r\n  repositories {\r\n    maven {\r\n      url = uri(&quot;https://plugins.gradle.org/m2/&quot;)\r\n    }\r\n  }\r\n  dependencies {\r\n    classpath(&quot;com.asyncapi:asyncapi-gradle-plugin:1.0.0-EAP.1&quot;)\r\n  }\r\n}\r\n\r\napply(plugin = &quot;com.asyncapi.asyncapi-gradle-plugin&quot;)\r\n```\r\nI get error: \r\n```\r\nA problem occurred configuring root project &#39;java-backend&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not find com.asyncapi:asyncapi-core:1.0.0-SNAPSHOT.\r\n     Searched in the following locations:\r\n       - https://plugins.gradle.org/m2/com/asyncapi/asyncapi-core/1.0.0-SNAPSHOT/maven-metadata.xml\r\n       - https://plugins.gradle.org/m2/com/asyncapi/asyncapi-core/1.0.0-SNAPSHOT/asyncapi-core-1.0.0-SNAPSHOT.pom\r\n     Required by:\r\n         project : &gt; com.asyncapi:asyncapi-gradle-plugin:1.0.0-EAP.1 &gt; com.asyncapi:asyncapi-plugin-core:1.0.0-EAP\r\n\r\nPossible solution:\r\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n```\r\nthe repository must be searched by path https://plugins.gradle.org/m2/com/asyncapi/asyncapi-gradle-plugin/1.0.0-EAP.1/ ...Why is he looking for another way?","title":"Gradle look into wrong maven repository l","body":"<p>How I add plugin in build.gradle.\nSource: <a href=\"https://plugins.gradle.org/plugin/com.asyncapi.asyncapi-gradle-plugin\" rel=\"nofollow noreferrer\">https://plugins.gradle.org/plugin/com.asyncapi.asyncapi-gradle-plugin</a></p>\n<pre><code> buildscript {\n  repositories {\n    maven {\n      url = uri(&quot;https://plugins.gradle.org/m2/&quot;)\n    }\n  }\n  dependencies {\n    classpath(&quot;com.asyncapi:asyncapi-gradle-plugin:1.0.0-EAP.1&quot;)\n  }\n}\n\napply(plugin = &quot;com.asyncapi.asyncapi-gradle-plugin&quot;)\n</code></pre>\n<p>I get error:</p>\n<pre><code>A problem occurred configuring root project 'java-backend'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not find com.asyncapi:asyncapi-core:1.0.0-SNAPSHOT.\n     Searched in the following locations:\n       - https://plugins.gradle.org/m2/com/asyncapi/asyncapi-core/1.0.0-SNAPSHOT/maven-metadata.xml\n       - https://plugins.gradle.org/m2/com/asyncapi/asyncapi-core/1.0.0-SNAPSHOT/asyncapi-core-1.0.0-SNAPSHOT.pom\n     Required by:\n         project : &gt; com.asyncapi:asyncapi-gradle-plugin:1.0.0-EAP.1 &gt; com.asyncapi:asyncapi-plugin-core:1.0.0-EAP\n\nPossible solution:\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\n</code></pre>\n<p>the repository must be searched by path <a href=\"https://plugins.gradle.org/m2/com/asyncapi/asyncapi-gradle-plugin/1.0.0-EAP.1/\" rel=\"nofollow noreferrer\">https://plugins.gradle.org/m2/com/asyncapi/asyncapi-gradle-plugin/1.0.0-EAP.1/</a> ...Why is he looking for another way?</p>\n"},{"tags":["java","android","css","tailwind-css"],"answers":[{"tags":[],"owner":{"account_id":5640902,"reputation":19,"user_id":4464812,"display_name":"Jo&#227;o Luca"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689187207,"creation_date":1689187207,"answer_id":76673568,"question_id":65429360,"body_markdown":"It seems that some tailwind classes only work beyond a certain version of webiew. With webview version 74, tailwind color classes work, but spacing classes like `gap` don&#39;t. In webview version 103 all classes seem to work normally. Updating webdriver version should solve this problem.","title":"TailwindCSS isn&#39;t working as expected on Android WebView","body":"<p>It seems that some tailwind classes only work beyond a certain version of webiew. With webview version 74, tailwind color classes work, but spacing classes like <code>gap</code> don't. In webview version 103 all classes seem to work normally. Updating webdriver version should solve this problem.</p>\n"}],"owner":{"account_id":19543248,"reputation":49,"user_id":14300612,"display_name":"Niklas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689187207,"creation_date":1608749030,"question_id":65429360,"body_markdown":"I have created a simply WebView-App on Android Studio:\r\n\r\n```\r\nWebView = findViewById(R.id.WebView);\r\nWebView.setWebViewClient(new WebViewClient());\r\ngetSupportActionBar().hide();\r\nWebView.loadUrl(&quot;file:///android_asset/index.html&quot;);\r\n```\r\n\r\nThe app works as expected (tailwind.css and index.html are loaded fine) but some features of tailwind.css doesn&#39;t work, I added a simple button:\r\n\r\n```\r\n&lt;div class=&quot;float-right&quot;&gt;\r\n     &lt;button class=&quot;h-16 px-10 m-2 text-lg text-indigo-100 transition-colors duration-150 bg-indigo-700 rounded-lg focus:shadow-outline hover:bg-indigo-800&quot;&gt;LOGIN&lt;/button&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nBut the button has no (background)-color (using desktop version of chrome it will be rendered as expected with a background-color) but float-right for example works.\r\n","title":"TailwindCSS isn&#39;t working as expected on Android WebView","body":"<p>I have created a simply WebView-App on Android Studio:</p>\n<pre><code>WebView = findViewById(R.id.WebView);\nWebView.setWebViewClient(new WebViewClient());\ngetSupportActionBar().hide();\nWebView.loadUrl(&quot;file:///android_asset/index.html&quot;);\n</code></pre>\n<p>The app works as expected (tailwind.css and index.html are loaded fine) but some features of tailwind.css doesn't work, I added a simple button:</p>\n<pre><code>&lt;div class=&quot;float-right&quot;&gt;\n     &lt;button class=&quot;h-16 px-10 m-2 text-lg text-indigo-100 transition-colors duration-150 bg-indigo-700 rounded-lg focus:shadow-outline hover:bg-indigo-800&quot;&gt;LOGIN&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n<p>But the button has no (background)-color (using desktop version of chrome it will be rendered as expected with a background-color) but float-right for example works.</p>\n"},{"tags":["python","java","kotlin","uml"],"answers":[{"comments":[{"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"score":0,"creation_date":1689183191,"post_id":76673087,"comment_id":135178680,"body_markdown":"Is it the same for types in programming languages as well?","body":"Is it the same for types in programming languages as well?"},{"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"score":2,"creation_date":1689185546,"post_id":76673087,"comment_id":135179140,"body_markdown":"@AliDehkhodaei Sure it is. Names are there to give things meaning that come to a common level between humans in oder to communicate.","body":"@AliDehkhodaei Sure it is. Names are there to give things meaning that come to a common level between humans in oder to communicate."},{"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"score":0,"creation_date":1689186622,"post_id":76673087,"comment_id":135179319,"body_markdown":"@qwerty_so I meant data types, is the answer still yes? For example Unit in Kotlin, void in Java and None in Python.","body":"@qwerty_so I meant data types, is the answer still yes? For example Unit in Kotlin, void in Java and None in Python."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1689187022,"post_id":76673087,"comment_id":135179381,"body_markdown":"@AliDehkhodaei You generally use the names of your target programming language. Otherwise you&#39;ll only add confusion or overhead when going between the UML diagram and your code.","body":"@AliDehkhodaei You generally use the names of your target programming language. Otherwise you&#39;ll only add confusion or overhead when going between the UML diagram and your code."},{"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"score":1,"creation_date":1689193483,"post_id":76673087,"comment_id":135180527,"body_markdown":"@AliDehkhodaei Names are names. Be it operation, attribute, data type or whatever. So, yes, as well...","body":"@AliDehkhodaei Names are names. Be it operation, attribute, data type or whatever. So, yes, as well..."},{"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"score":0,"creation_date":1689233314,"post_id":76673087,"comment_id":135184939,"body_markdown":"Please open a new question. This is for comments only.","body":"Please open a new question. This is for comments only."}],"tags":[],"owner":{"account_id":8351846,"reputation":146,"user_id":6273692,"display_name":"rene"},"comment_count":6,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1689186968,"creation_date":1689182853,"answer_id":76673087,"question_id":76673056,"body_markdown":"There is not one &quot;standard&quot; for UML naming conventions. I would advise you use names similar to what you would use in the programming language you are using. As long as your intended reader understands the material then it is a good convention.\r\n\r\nMost important is that whatever you choose remains consistent throughout your documentation. \r\n\r\nSee: [this question as well][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13887799/naming-convention-for-uml","title":"Differences in Type and Naming Conventions for UML Class in Different Programming Languages","body":"<p>There is not one &quot;standard&quot; for UML naming conventions. I would advise you use names similar to what you would use in the programming language you are using. As long as your intended reader understands the material then it is a good convention.</p>\n<p>Most important is that whatever you choose remains consistent throughout your documentation.</p>\n<p>See: <a href=\"https://stackoverflow.com/questions/13887799/naming-convention-for-uml\">this question as well</a>.</p>\n"}],"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76673087,"answer_count":1,"score":4,"last_activity_date":1689186968,"creation_date":1689182543,"question_id":76673056,"body_markdown":"Are UML class representations different for each programming language, or do they adhere to a standard? I have conducted extensive research but remain confused.\r\n\r\nFor instance:\r\n\r\n- In Python: set_name(): None\r\n- In Java: setName(): void\r\n- In Kotlin: setName(): Unit\r\n\r\n","title":"Differences in Type and Naming Conventions for UML Class in Different Programming Languages","body":"<p>Are UML class representations different for each programming language, or do they adhere to a standard? I have conducted extensive research but remain confused.</p>\n<p>For instance:</p>\n<ul>\n<li>In Python: set_name(): None</li>\n<li>In Java: setName(): void</li>\n<li>In Kotlin: setName(): Unit</li>\n</ul>\n"},{"tags":["java","json","sonarqube"],"comments":[{"owner":{"account_id":1244219,"reputation":892,"user_id":1206007,"accept_rate":43,"display_name":"Bhavesh"},"score":1,"creation_date":1509096890,"post_id":46971389,"comment_id":80891133,"body_markdown":"Refer https://stackoverflow.com/questions/12135939/how-to-make-sonar-ignore-some-classes-for-codecoverage-metric to exclude some code coverage","body":"Refer <a href=\"https://stackoverflow.com/questions/12135939/how-to-make-sonar-ignore-some-classes-for-codecoverage-metric\" title=\"how to make sonar ignore some classes for codecoverage metric\">stackoverflow.com/questions/12135939/&hellip;</a> to exclude some code coverage"}],"answers":[{"comments":[{"owner":{"account_id":14222505,"reputation":1873,"user_id":10275943,"display_name":"Ikbel"},"score":0,"creation_date":1689147478,"post_id":46971883,"comment_id":135170321,"body_markdown":"The  documentation link is  no more  accessible, feel free to amend/delete it","body":"The  documentation link is  no more  accessible, feel free to amend/delete it"}],"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689185151,"creation_date":1509096772,"answer_id":46971883,"question_id":46971389,"body_markdown":"The issue raised by SonarQube is a false positive in this example.\r\nYour best course of action is to mark it as such on SonarQube.\r\n\r\nIf your DTO files follow a consistent naming pattern,\r\nthen it could also be interesting to configure SonarQube to ignore this issue in those files by default. ","title":"Sonar showing issue for private fields of DTO class","body":"<p>The issue raised by SonarQube is a false positive in this example.\nYour best course of action is to mark it as such on SonarQube.</p>\n<p>If your DTO files follow a consistent naming pattern,\nthen it could also be interesting to configure SonarQube to ignore this issue in those files by default.</p>\n"},{"comments":[{"owner":{"account_id":5382000,"reputation":5258,"user_id":4286990,"accept_rate":60,"display_name":"vatsal mevada"},"score":1,"creation_date":1509098337,"post_id":46971993,"comment_id":80892113,"body_markdown":"this seems like adding too much complexity just to resolve sonar cube issue.","body":"this seems like adding too much complexity just to resolve sonar cube issue."}],"tags":[],"owner":{"account_id":11720754,"reputation":1,"user_id":8579801,"display_name":"Dennis Hendriksen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509097105,"creation_date":1509097105,"answer_id":46971993,"question_id":46971389,"body_markdown":"In order to prevent SonarQube false positives for your DTOs you could use [AutoValue](https://github.com/google/auto/tree/master/value) as a library to create DTOs:\r\n\r\n    @AutoValue\r\n    @AutoGson(autoValueClass = AutoValue_DTO.class)\r\n    public abstract class DTO\r\n    {\r\n    \tpublic abstract String getA();\r\n    }\r\n\r\nwith AutoGson defined as:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.TYPE)\r\n    public @interface AutoGson\r\n    {\r\n    \tClass autoValueClass();\r\n    }\r\n\r\nand a Gson type adapter defined as:\r\n\r\n    public class AutoValueTypeAdapterFactory implements TypeAdapterFactory\r\n    {\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t@Override\r\n    \tpublic &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type)\r\n    \t{\r\n    \t\tClass&lt;? super T&gt; rawType = type.getRawType();\r\n    \r\n    \t\tAutoGson annotation = rawType.getAnnotation(AutoGson.class);\r\n    \t\tif (annotation == null)\r\n    \t\t{\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \r\n    \t\treturn (TypeAdapter&lt;T&gt;) gson.getAdapter(annotation.autoValueClass());\r\n    \t}\r\n    }\r\n\r\nwhich is used by Gson as:\r\n\r\n    Gson gson = new GsonBuilder().registerTypeAdapterFactory(new AutoValueTypeAdapterFactory())","title":"Sonar showing issue for private fields of DTO class","body":"<p>In order to prevent SonarQube false positives for your DTOs you could use <a href=\"https://github.com/google/auto/tree/master/value\" rel=\"nofollow noreferrer\">AutoValue</a> as a library to create DTOs:</p>\n\n<pre><code>@AutoValue\n@AutoGson(autoValueClass = AutoValue_DTO.class)\npublic abstract class DTO\n{\n    public abstract String getA();\n}\n</code></pre>\n\n<p>with AutoGson defined as:</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\npublic @interface AutoGson\n{\n    Class autoValueClass();\n}\n</code></pre>\n\n<p>and a Gson type adapter defined as:</p>\n\n<pre><code>public class AutoValueTypeAdapterFactory implements TypeAdapterFactory\n{\n    @SuppressWarnings(\"unchecked\")\n    @Override\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type)\n    {\n        Class&lt;? super T&gt; rawType = type.getRawType();\n\n        AutoGson annotation = rawType.getAnnotation(AutoGson.class);\n        if (annotation == null)\n        {\n            return null;\n        }\n\n        return (TypeAdapter&lt;T&gt;) gson.getAdapter(annotation.autoValueClass());\n    }\n}\n</code></pre>\n\n<p>which is used by Gson as:</p>\n\n<pre><code>Gson gson = new GsonBuilder().registerTypeAdapterFactory(new AutoValueTypeAdapterFactory())\n</code></pre>\n"}],"owner":{"account_id":5382000,"reputation":5258,"user_id":4286990,"accept_rate":60,"display_name":"vatsal mevada"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2721,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46971883,"answer_count":2,"score":1,"last_activity_date":1689185151,"creation_date":1509095249,"question_id":46971389,"body_markdown":"I have this DTO class: \r\n\r\n    class DTO{\r\n        private String a;\r\n        \r\n        public DTO(String a){\r\n            this.a = a;\r\n        }\r\n    }\r\n\r\nI am JSON serializing this class using Gson and sending it over to other application.\r\n\r\nI don&#39;t need getters for this class. For this class sonar is showing following issue:\r\n\r\n    &quot;Remove this unused &quot;a&quot; private field.&quot;\r\n\r\nShould I ignore this sonar issue or there is another ideal way to change my code to eliminate this sonar error?","title":"Sonar showing issue for private fields of DTO class","body":"<p>I have this DTO class: </p>\n\n<pre><code>class DTO{\n    private String a;\n\n    public DTO(String a){\n        this.a = a;\n    }\n}\n</code></pre>\n\n<p>I am JSON serializing this class using Gson and sending it over to other application.</p>\n\n<p>I don't need getters for this class. For this class sonar is showing following issue:</p>\n\n<pre><code>\"Remove this unused \"a\" private field.\"\n</code></pre>\n\n<p>Should I ignore this sonar issue or there is another ideal way to change my code to eliminate this sonar error?</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":2,"creation_date":1689163652,"post_id":76670308,"comment_id":135173937,"body_markdown":"use `ApplicationContext.getBean(yourImplClassOrQualifiedName)`","body":"use <code>ApplicationContext.getBean(yourImplClassOrQualifiedName)</code>"},{"owner":{"account_id":253896,"reputation":6385,"user_id":532901,"accept_rate":90,"display_name":"Tiddo"},"score":0,"creation_date":1689167643,"post_id":76670308,"comment_id":135174965,"body_markdown":"How would that work? Mind that I want to make the selection in the `Controller`, without explicitly passing anything down to the services. I don&#39;t think calling `ApplicationContext.getBean` at that level does anything useful for me here, nor will it help me in `Service1` without drilling down arguments.","body":"How would that work? Mind that I want to make the selection in the <code>Controller</code>, without explicitly passing anything down to the services. I don&#39;t think calling <code>ApplicationContext.getBean</code> at that level does anything useful for me here, nor will it help me in <code>Service1</code> without drilling down arguments."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689168482,"post_id":76670308,"comment_id":135175188,"body_markdown":"Well it allows you to get implementation instance based on some input argument you were looking for, no? It is literally your `MyInterfaceRegistry`","body":"Well it allows you to get implementation instance based on some input argument you were looking for, no? It is literally your <code>MyInterfaceRegistry</code>"},{"owner":{"account_id":253896,"reputation":6385,"user_id":532901,"accept_rate":90,"display_name":"Tiddo"},"score":0,"creation_date":1689169635,"post_id":76670308,"comment_id":135175530,"body_markdown":"Ok, but that&#39;s not the problem we&#39;re trying to solve, The problem we&#39;re trying to solve is that we want to _select_ the implementation in `Controller`, but _use_ it in `Service1`, without passing parameters down. I.e. the `.bind` bit at the end of my question.","body":"Ok, but that&#39;s not the problem we&#39;re trying to solve, The problem we&#39;re trying to solve is that we want to <i>select</i> the implementation in <code>Controller</code>, but <i>use</i> it in <code>Service1</code>, without passing parameters down. I.e. the <code>.bind</code> bit at the end of my question."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1689170187,"post_id":76670308,"comment_id":135175699,"body_markdown":"Putting aside that this is a bad design choice IMO - Having your services lets say, `RequestScoped` you can get `service2Provider` in controller, set the correct implementation (it is just a holder) and down the line again use `service2Provider` to get it back. It will not work with singletons as long as you plan to have more that 1 request the time. (I just noticed that Controller is a Component thus maybe it is not about web)","body":"Putting aside that this is a bad design choice IMO - Having your services lets say, <code>RequestScoped</code> you can get <code>service2Provider</code> in controller, set the correct implementation (it is just a holder) and down the line again use <code>service2Provider</code> to get it back. It will not work with singletons as long as you plan to have more that 1 request the time. (I just noticed that Controller is a Component thus maybe it is not about web)"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1689170373,"post_id":76670308,"comment_id":135175753,"body_markdown":"So the long story short, use `Provider&lt;Service2&gt; service2Provider` in your `Controller` and `Service1` with to bean scopes and concurency.","body":"So the long story short, use <code>Provider&lt;Service2&gt; service2Provider</code> in your <code>Controller</code> and <code>Service1</code> with to bean scopes and concurency."},{"owner":{"account_id":253896,"reputation":6385,"user_id":532901,"accept_rate":90,"display_name":"Tiddo"},"score":0,"creation_date":1689171160,"post_id":76670308,"comment_id":135175966,"body_markdown":"It&#39;s just IoC, I don&#39;t think there&#39;s anything wrong with that ;) Regardless, `RequestScoped` does point me in a good direction. As you&#39;ve correctly noticed (sharp eye), the &quot;real world&quot; situation isn&#39;t about web, but I can create a custom Scope for that. The main takeaway is that I can have a stateful `Provider` bean that&#39;s `@Scope`d to my &quot;request&quot;, which then allows me to set the value at the entry point, and use it throughout the request handling. Thanks!","body":"It&#39;s just IoC, I don&#39;t think there&#39;s anything wrong with that ;) Regardless, <code>RequestScoped</code> does point me in a good direction. As you&#39;ve correctly noticed (sharp eye), the &quot;real world&quot; situation isn&#39;t about web, but I can create a custom Scope for that. The main takeaway is that I can have a stateful <code>Provider</code> bean that&#39;s <code>@Scope</code>d to my &quot;request&quot;, which then allows me to set the value at the entry point, and use it throughout the request handling. Thanks!"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689181652,"post_id":76670308,"comment_id":135178356,"body_markdown":"The fact, that *It&#39;s just IoC* means only that it is doable one way or another. Now why it is bad design choice - uneeded flow complexity added to the code which leads to the situation where you have to analise what happened X layers prior the frame in which NPE happened to understand why it did. All in all, it will work until it stops - and then the price raises. Take look on many legacy systems. We can all agree that they all work just fine - until they stop. And then it is sometimes cheeper to write everything from the scrach that try to fix black magic code :) Food for thought. Good luck.","body":"The fact, that <i>It&#39;s just IoC</i> means only that it is doable one way or another. Now why it is bad design choice - uneeded flow complexity added to the code which leads to the situation where you have to analise what happened X layers prior the frame in which NPE happened to understand why it did. All in all, it will work until it stops - and then the price raises. Take look on many legacy systems. We can all agree that they all work just fine - until they stop. And then it is sometimes cheeper to write everything from the scrach that try to fix black magic code :) Food for thought. Good luck."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689181776,"post_id":76670308,"comment_id":135178391,"body_markdown":"And yes, having statefull components is kind of must in here. Stateless are simpler to maintain :","body":"And yes, having statefull components is kind of must in here. Stateless are simpler to maintain :"},{"owner":{"account_id":253896,"reputation":6385,"user_id":532901,"accept_rate":90,"display_name":"Tiddo"},"score":0,"creation_date":1690364198,"post_id":76670308,"comment_id":135341900,"body_markdown":"Yeap, the challenge here is that the real world situation is quite a bit more complex than the example here. I&#39;m dealing with a situation where high in the call chain a strategy is selected, which the &quot;middle layer&quot; is agnostic to, and then far down the call chain we need to select the right implementations. The surface area of all of this is quite large, passing the strategy down manually adds its own complexity (+ lots of noise). From a theoretical perspective I want to create/select/fork an IoC container at the top of the request, which is feasible in other frameworks, ... (cont)","body":"Yeap, the challenge here is that the real world situation is quite a bit more complex than the example here. I&#39;m dealing with a situation where high in the call chain a strategy is selected, which the &quot;middle layer&quot; is agnostic to, and then far down the call chain we need to select the right implementations. The surface area of all of this is quite large, passing the strategy down manually adds its own complexity (+ lots of noise). From a theoretical perspective I want to create/select/fork an IoC container at the top of the request, which is feasible in other frameworks, ... (cont)"},{"owner":{"account_id":253896,"reputation":6385,"user_id":532901,"accept_rate":90,"display_name":"Tiddo"},"score":0,"creation_date":1690364355,"post_id":76670308,"comment_id":135341926,"body_markdown":"... but seems to go against the design principles of spring. So now I&#39;m stuck to choose between 2 suboptimal situations: either I make ALL of the code aware of the strategy, which adds complexity everywhere but is explicit, or I use a stateful approach, which adds complexity in just one place but is implicit. Of course, the right trade-off here is massively influenced by the particularities of the real-world application, which is not relevant for the broader SO audience, but I&#39;m leaning towards the stateful approach being the lesser evil for my case.","body":"... but seems to go against the design principles of spring. So now I&#39;m stuck to choose between 2 suboptimal situations: either I make ALL of the code aware of the strategy, which adds complexity everywhere but is explicit, or I use a stateful approach, which adds complexity in just one place but is implicit. Of course, the right trade-off here is massively influenced by the particularities of the real-world application, which is not relevant for the broader SO audience, but I&#39;m leaning towards the stateful approach being the lesser evil for my case."}],"answers":[{"tags":[],"owner":{"account_id":97618,"reputation":168086,"user_id":264697,"accept_rate":100,"display_name":"Steven"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689185083,"creation_date":1689174319,"answer_id":76672026,"question_id":76670308,"body_markdown":"The provided `impl` value is runtime data, supplied to the Controller after it and its whole object graph have long been constructed. This means that you can&#39;t *inject* different `MyInterface` implementations based on this runtime condition. But even if you could, it is my opinion that you should strive to have a object graphs that are fixed in structure; you do not switch injected implementations during the lifetime of the application; that only complicated things. This is related to the argument I made [here][1] about injecting *runtime data* into your application components.\r\n\r\nBut since injecting different dependencies is not a feasible option, there are two alternatives left:\r\n\r\n### Option 1: Pushing `impl` down the call graph\r\n\r\nYou pass on the `impl` runtime data down the call graph to `Service1` and let `Service1` decide which implementation to call; assuming that you now inject both `MyInterface` implementations into `Service1`&#39;s constructor.\r\n\r\n``` java\r\n@Component\r\nclass Service1 {\r\n    private MyInterface impl1;\r\n    private MyInterface impl2;\r\n\r\n    public void do(String impl) {\r\n        if (impl == &quot;impl1&quot;)\r\n            this.impl1.do();\r\n        else\r\n            this.impl2.do();\r\n    }\r\n}\r\n\r\n@Component\r\nclass Service2 {\r\n    private Service1 service1;\r\n\r\n    public void do(String impl) {\r\n        this.service1.do(impl);\r\n    }\r\n}\r\n\r\n@Component\r\nclass Controller {\r\n    public void do(String impl) {\r\n        service2.do(impl);\r\n    }\r\n}\r\n```\r\n\r\nDownside of this approach is that this can cause a snowball effect throughout the application depending on where `MyInterface` is used. When `MyInterface` is an implementation detail for a given service it would cause that service to leak implementation details because it now requires its abstraction to be changed so that `impl` can be supplied to it. There is, therefore, another option to consider:\r\n\r\n\r\n## Supply `impl` to the rest of the graph through a &#39;context provider&#39;.\r\n\r\nYou can create and inject an `ImplContext` service into `Controller` that allows you to set the specific `impl` for the given context (current web request). Instead of injecting either `Impl1` or `Impl2` into `Service1` you can now inject a &#39;context-based MyInterface proxy&#39; class that depends on `Impl1`, `Impl2`, *and* `ImplContext`. Based on the choice made in the `Controller`, it can either call `Impl1` or `Impl2.\r\n\r\nHere&#39;s an example:\r\n\r\n``` java\r\ninterface ImplContext\r\n{\r\n    String Impl { get; set; }\r\n}\r\n\r\nclass ClosureImplContext implements ImplContext\r\n{\r\n    public String Impl { get; set; }\r\n}\r\n\r\n@Component class Controller {\r\n    private ImplContext context;\r\n\r\n    public void do(String impl) {\r\n        this.context.Impl = impl;\r\n        service2.do();\r\n    }\r\n}\r\n\r\n@Component class ContextBasedInterfaceProxy implements MyInterface {\r\n    private MyInterface impl1;\r\n    private MyInterface impl2;\r\n    private ImplContext context;\r\n\r\n    public void do() {\r\n        this.GetImplemtentation().do();\r\n    }\r\n\r\n    private MyInterface GetImplementation() {\r\n        if (this.context.Impl == &quot;impl1&quot;) return this.impl1;\r\n        return this.impl2;\r\n    }\r\n}\r\n```\r\n\r\nTo make it easier to create a mental model, this is what it would look like if you would construct the object graph by hand:\r\n\r\n``` java\r\n// ClosureImplContext is shared within the context of a single controller\r\nvar context = new ClosureImplContext();\r\nnew Controller(\r\n    new Service2(\r\n        new Service1(\r\n            new ContextBasedInterfaceProxy(\r\n                new Impl1(),\r\n                new Impl2(),\r\n                context))));\r\n```\r\n\r\nThe advantage of this approach is that `Service2` and `Service1` will be oblivious to the existing of the switching between implementations. This prevents leaking implementation details throughout the object graph and prevents cascading changes to the graph. The downside is that a contextual service needs to be used that `Controller` needs to know of.\r\n\r\nNotice how, with this approach, `ContextBasedInterfaceProxy` switches between the two implementations, but it always gets both implementations injected into it. This means that the whole object graph for `Controller` will never change, but only when the `Controller` is used, will the decisions be made to either call `Impl1` or `Impl2`. \r\n\r\n\r\n  [1]: https://blogs.cuttingedge.it/steven/p/runtime-data/","title":"Deeply inject different implementation at runtime","body":"<p>The provided <code>impl</code> value is runtime data, supplied to the Controller after it and its whole object graph have long been constructed. This means that you can't <em>inject</em> different <code>MyInterface</code> implementations based on this runtime condition. But even if you could, it is my opinion that you should strive to have a object graphs that are fixed in structure; you do not switch injected implementations during the lifetime of the application; that only complicated things. This is related to the argument I made <a href=\"https://blogs.cuttingedge.it/steven/p/runtime-data/\" rel=\"nofollow noreferrer\">here</a> about injecting <em>runtime data</em> into your application components.</p>\n<p>But since injecting different dependencies is not a feasible option, there are two alternatives left:</p>\n<h3>Option 1: Pushing <code>impl</code> down the call graph</h3>\n<p>You pass on the <code>impl</code> runtime data down the call graph to <code>Service1</code> and let <code>Service1</code> decide which implementation to call; assuming that you now inject both <code>MyInterface</code> implementations into <code>Service1</code>'s constructor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nclass Service1 {\n    private MyInterface impl1;\n    private MyInterface impl2;\n\n    public void do(String impl) {\n        if (impl == &quot;impl1&quot;)\n            this.impl1.do();\n        else\n            this.impl2.do();\n    }\n}\n\n@Component\nclass Service2 {\n    private Service1 service1;\n\n    public void do(String impl) {\n        this.service1.do(impl);\n    }\n}\n\n@Component\nclass Controller {\n    public void do(String impl) {\n        service2.do(impl);\n    }\n}\n</code></pre>\n<p>Downside of this approach is that this can cause a snowball effect throughout the application depending on where <code>MyInterface</code> is used. When <code>MyInterface</code> is an implementation detail for a given service it would cause that service to leak implementation details because it now requires its abstraction to be changed so that <code>impl</code> can be supplied to it. There is, therefore, another option to consider:</p>\n<h2>Supply <code>impl</code> to the rest of the graph through a 'context provider'.</h2>\n<p>You can create and inject an <code>ImplContext</code> service into <code>Controller</code> that allows you to set the specific <code>impl</code> for the given context (current web request). Instead of injecting either <code>Impl1</code> or <code>Impl2</code> into <code>Service1</code> you can now inject a 'context-based MyInterface proxy' class that depends on <code>Impl1</code>, <code>Impl2</code>, <em>and</em> <code>ImplContext</code>. Based on the choice made in the <code>Controller</code>, it can either call <code>Impl1</code> or `Impl2.</p>\n<p>Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface ImplContext\n{\n    String Impl { get; set; }\n}\n\nclass ClosureImplContext implements ImplContext\n{\n    public String Impl { get; set; }\n}\n\n@Component class Controller {\n    private ImplContext context;\n\n    public void do(String impl) {\n        this.context.Impl = impl;\n        service2.do();\n    }\n}\n\n@Component class ContextBasedInterfaceProxy implements MyInterface {\n    private MyInterface impl1;\n    private MyInterface impl2;\n    private ImplContext context;\n\n    public void do() {\n        this.GetImplemtentation().do();\n    }\n\n    private MyInterface GetImplementation() {\n        if (this.context.Impl == &quot;impl1&quot;) return this.impl1;\n        return this.impl2;\n    }\n}\n</code></pre>\n<p>To make it easier to create a mental model, this is what it would look like if you would construct the object graph by hand:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ClosureImplContext is shared within the context of a single controller\nvar context = new ClosureImplContext();\nnew Controller(\n    new Service2(\n        new Service1(\n            new ContextBasedInterfaceProxy(\n                new Impl1(),\n                new Impl2(),\n                context))));\n</code></pre>\n<p>The advantage of this approach is that <code>Service2</code> and <code>Service1</code> will be oblivious to the existing of the switching between implementations. This prevents leaking implementation details throughout the object graph and prevents cascading changes to the graph. The downside is that a contextual service needs to be used that <code>Controller</code> needs to know of.</p>\n<p>Notice how, with this approach, <code>ContextBasedInterfaceProxy</code> switches between the two implementations, but it always gets both implementations injected into it. This means that the whole object graph for <code>Controller</code> will never change, but only when the <code>Controller</code> is used, will the decisions be made to either call <code>Impl1</code> or <code>Impl2</code>.</p>\n"}],"owner":{"account_id":253896,"reputation":6385,"user_id":532901,"accept_rate":90,"display_name":"Tiddo"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76672026,"answer_count":1,"score":0,"last_activity_date":1689185083,"creation_date":1689163179,"question_id":76670308,"body_markdown":"How can I &quot;deeply inject&quot; different implementations at runtime? For example, suppose that I have a `MyInterface` interface that has multiple implementations. The interface is used some levels deep into the application hierarchy, and I want to select the right implementation at a higher level. \r\n\r\nE.g. in this example, I have an `Controller` that takes in an `impl` parameter, and then has a call chain from `Controller-&gt;Service2-&gt;Service1-&gt;MyInterface`. Based on the `impl` passed in to the controller, we need to use a different `MyInterface`.\r\n\r\n```\r\ninterface MyInterface {\r\n    public void do();\r\n}\r\n\r\n@Component\r\nclass Impl1 implements MyInterface { /* */ }\r\n\r\n@Component\r\nclass Impl2 implements MyInterface { /* */ }\r\n\r\n@Component\r\nclass Service1 {\r\n    private MyInterface myInt;\r\n\r\n    public void do() {\r\n        this.myInt.do();\r\n    }\r\n}\r\n\r\n@Component\r\nclass Service2 {\r\n    private Service1 service1;\r\n\r\n    public void do() {\r\n        this.service1.do();\r\n    }\r\n}\r\n\r\n@Component\r\nclass Controller {\r\n    private Service2 service2;\r\n\r\n    public void do(String impl /* &quot;impl1&quot; or &quot;impl2&quot; */) {\r\n        // TODO: How to &quot;inject&quot; the right implementation here based on `impl`?\r\n        this.service2.do();\r\n    }\r\n}\r\n```\r\n\r\nNow in this contrived example, I could create a `MyInterfaceRegistry` which `Service1` depends on, and then drill down `impl` through the stack. However, in real-world scenarios we might be using `MyInterface` in many different places and many layers deep. The registry approach would then require us to drill down the `impl` through all layers of the application, which I want to avoid. \r\n\r\nI&#39;m looking for something in this spirit:\r\n\r\n\r\n```\r\n@Component\r\nclass Controller {\r\n    private Provider&lt;Service2&gt; service2Provider;\r\n    private MyInterfaceRegistry myInterfaceRegistry;\r\n\r\n    public void do(String impl /* &quot;impl1&quot; or &quot;impl2&quot; */) {\r\n        // &quot;bind&quot; the implementation here, such that `Service1` will use the bound provider without needing to drill down parameters\r\n        Service2 service2 = service2Provider\r\n            .bind(MyInterface, myInterfaceRegistry.get(impl))\r\n            .get();\r\n        service2.do();\r\n    }\r\n}\r\n```\r\n\r\nHow can I achieve this with Spring Boot?","title":"Deeply inject different implementation at runtime","body":"<p>How can I &quot;deeply inject&quot; different implementations at runtime? For example, suppose that I have a <code>MyInterface</code> interface that has multiple implementations. The interface is used some levels deep into the application hierarchy, and I want to select the right implementation at a higher level.</p>\n<p>E.g. in this example, I have an <code>Controller</code> that takes in an <code>impl</code> parameter, and then has a call chain from <code>Controller-&gt;Service2-&gt;Service1-&gt;MyInterface</code>. Based on the <code>impl</code> passed in to the controller, we need to use a different <code>MyInterface</code>.</p>\n<pre><code>interface MyInterface {\n    public void do();\n}\n\n@Component\nclass Impl1 implements MyInterface { /* */ }\n\n@Component\nclass Impl2 implements MyInterface { /* */ }\n\n@Component\nclass Service1 {\n    private MyInterface myInt;\n\n    public void do() {\n        this.myInt.do();\n    }\n}\n\n@Component\nclass Service2 {\n    private Service1 service1;\n\n    public void do() {\n        this.service1.do();\n    }\n}\n\n@Component\nclass Controller {\n    private Service2 service2;\n\n    public void do(String impl /* &quot;impl1&quot; or &quot;impl2&quot; */) {\n        // TODO: How to &quot;inject&quot; the right implementation here based on `impl`?\n        this.service2.do();\n    }\n}\n</code></pre>\n<p>Now in this contrived example, I could create a <code>MyInterfaceRegistry</code> which <code>Service1</code> depends on, and then drill down <code>impl</code> through the stack. However, in real-world scenarios we might be using <code>MyInterface</code> in many different places and many layers deep. The registry approach would then require us to drill down the <code>impl</code> through all layers of the application, which I want to avoid.</p>\n<p>I'm looking for something in this spirit:</p>\n<pre><code>@Component\nclass Controller {\n    private Provider&lt;Service2&gt; service2Provider;\n    private MyInterfaceRegistry myInterfaceRegistry;\n\n    public void do(String impl /* &quot;impl1&quot; or &quot;impl2&quot; */) {\n        // &quot;bind&quot; the implementation here, such that `Service1` will use the bound provider without needing to drill down parameters\n        Service2 service2 = service2Provider\n            .bind(MyInterface, myInterfaceRegistry.get(impl))\n            .get();\n        service2.do();\n    }\n}\n</code></pre>\n<p>How can I achieve this with Spring Boot?</p>\n"},{"tags":["java","graph-theory","guava","jgrapht"],"comments":[{"owner":{"account_id":9061,"reputation":19437,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1689175973,"post_id":76672173,"comment_id":135177204,"body_markdown":"Since JOB3 depends on nothing, there is something wrong with your input to the &#39;topological iterator&#39; since it is showing JOB3 depending on job1.  You need to post your input.","body":"Since JOB3 depends on nothing, there is something wrong with your input to the &#39;topological iterator&#39; since it is showing JOB3 depending on job1.  You need to post your input."},{"owner":{"account_id":10198641,"reputation":91,"user_id":7558680,"display_name":"vkp"},"score":0,"creation_date":1689183570,"post_id":76672173,"comment_id":135178749,"body_markdown":"@ravenspoint apologies for the confusion, have added sample code and o/p","body":"@ravenspoint apologies for the confusion, have added sample code and o/p"},{"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"score":0,"creation_date":1689184733,"post_id":76672173,"comment_id":135178974,"body_markdown":"Question seems to be a duplicate of: [Topological sort with detecting vertices that have equal priorities with JGraphT](https://stackoverflow.com/questions/69745237/topological-sort-with-detecting-vertices-that-have-equal-priorities-with-jgrapht/69758522#69758522)\nAlso related: [Using JGraphT to Manage Ordering of Dependent Tasks](https://stackoverflow.com/questions/46840485/using-jgrapht-to-manage-ordering-of-dependent-tasks)","body":"Question seems to be a duplicate of: <a href=\"https://stackoverflow.com/questions/69745237/topological-sort-with-detecting-vertices-that-have-equal-priorities-with-jgrapht/69758522#69758522\">Topological sort with detecting vertices that have equal priorities with JGraphT</a> Also related: <a href=\"https://stackoverflow.com/questions/46840485/using-jgrapht-to-manage-ordering-of-dependent-tasks\">Using JGraphT to Manage Ordering of Dependent Tasks</a>"},{"owner":{"account_id":10198641,"reputation":91,"user_id":7558680,"display_name":"vkp"},"score":0,"creation_date":1689185152,"post_id":76672173,"comment_id":135179061,"body_markdown":"@JorisKinable yes, that answers it. Thank you so much.","body":"@JorisKinable yes, that answers it. Thank you so much."}],"owner":{"account_id":10198641,"reputation":91,"user_id":7558680,"display_name":"vkp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689185158,"answer_count":0,"score":0,"last_activity_date":1689185053,"creation_date":1689175362,"question_id":76672173,"body_markdown":"I have a usecase where I have jobs which can have dependencies or be boxes containing other jobs like in autosys.\r\n\r\nFor e.g JOB_BOX contains JOB1, JOB2 and JOB3 where JOB2 depends on JOB1 and JOB3 depends on nothing.\r\n\r\n1. JOB_BOX \r\n    - JOB1\r\n    - JOB2\r\n    - JOB3\r\n\r\nboxes can contain box type job as well. \r\nso when someone triggers JOB_BOX the following should occur\r\n1. Start JOB1 and JOB3 parallely\r\n2. Once JOB1 completes start JOB2\r\n3. Mark JOB_BOX complete when all of the jobs are complete.\r\n\r\nI am using JgraphT DirectedAcyclicGraph to construct the graph of these jobs but I am not sure how to go about accomplishing this usecase using topological sort. \r\n\r\nThe topological iterator will give me [JOB1 -&gt; JOB3 -&gt; JOB2 -&gt; JOB_BOX] but I will need to execute JOB1 and JOB3 simultaneously.\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        DirectedAcyclicGraph&lt;String, DefaultEdge&gt; jobGraph = new DirectedAcyclicGraph&lt;&gt;(DefaultEdge.class);\r\n        jobGraph.addVertex(&quot;JOB_BOX&quot;);\r\n        jobGraph.addVertex(&quot;JOB1&quot;);\r\n        jobGraph.addVertex(&quot;JOB2&quot;);\r\n        jobGraph.addVertex(&quot;JOB3&quot;);\r\n        //preReqJob -&gt; Job\r\n        jobGraph.addEdge(&quot;JOB1&quot;, &quot;JOB_BOX&quot;);\r\n        jobGraph.addEdge(&quot;JOB2&quot;, &quot;JOB_BOX&quot;);\r\n        jobGraph.addEdge(&quot;JOB3&quot;, &quot;JOB_BOX&quot;);\r\n        jobGraph.addEdge(&quot;JOB1&quot;, &quot;JOB2&quot;);\r\n        TopologicalOrderIterator&lt;String, DefaultEdge&gt; iterator = new TopologicalOrderIterator&lt;&gt;(jobGraph);\r\n        iterator.forEachRemaining(job -&gt; {\r\n            System.out.print(job + &quot; -&gt; &quot;);\r\n        });\r\n    }\r\n}\r\n\r\n\r\no/p for the above:\r\n\r\n    JOB1 -&gt; JOB3 -&gt; JOB2 -&gt; JOB_BOX -&gt; \r\n\r\nIdea is that I need to go in sequence of executing jobs based on the dependencies but also apply parallelism wherever applicable.\r\n\r\nI have thought of an approach\r\n\r\nApproach 1:\r\n\r\n - I do the topological traversal and then for every jobName that I get\r\n   I check the inDegree of that job i.e if(inDegreeOfJob == 0) then it\r\n   is a candidate of simultaneous execution. that way I get JOB1 and\r\n   JOB3 from the first set of traversal. \r\n - Once JOB1 and JOB3 are complete, I check for subsequent jobs which \r\n   are connecting JOB1 and JOB3 in that case I will get JOB2 alone \r\n   since there is an edge from JOB1 -&gt; JOB2 \r\n - once JOB2 is complete, I check for subsequent job which\r\n   is connecting hence I get JOB_BOX and I mark that complete.\r\n\r\nany help is appreciated and if there is any resource or any other approach you can point me to that would also be great.\r\n\r\nRef:\r\n\r\n[https://stackoverflow.com/questions/62372211/how-to-do-topological-sort-dependency-resolution-with-java][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/62372211/how-to-do-topological-sort-dependency-resolution-with-java","title":"Graph - How to use topological sort to execute dependency tasks","body":"<p>I have a usecase where I have jobs which can have dependencies or be boxes containing other jobs like in autosys.</p>\n<p>For e.g JOB_BOX contains JOB1, JOB2 and JOB3 where JOB2 depends on JOB1 and JOB3 depends on nothing.</p>\n<ol>\n<li>JOB_BOX\n<ul>\n<li>JOB1</li>\n<li>JOB2</li>\n<li>JOB3</li>\n</ul>\n</li>\n</ol>\n<p>boxes can contain box type job as well.\nso when someone triggers JOB_BOX the following should occur</p>\n<ol>\n<li>Start JOB1 and JOB3 parallely</li>\n<li>Once JOB1 completes start JOB2</li>\n<li>Mark JOB_BOX complete when all of the jobs are complete.</li>\n</ol>\n<p>I am using JgraphT DirectedAcyclicGraph to construct the graph of these jobs but I am not sure how to go about accomplishing this usecase using topological sort.</p>\n<p>The topological iterator will give me [JOB1 -&gt; JOB3 -&gt; JOB2 -&gt; JOB_BOX] but I will need to execute JOB1 and JOB3 simultaneously.</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n    DirectedAcyclicGraph&lt;String, DefaultEdge&gt; jobGraph = new DirectedAcyclicGraph&lt;&gt;(DefaultEdge.class);\n    jobGraph.addVertex(&quot;JOB_BOX&quot;);\n    jobGraph.addVertex(&quot;JOB1&quot;);\n    jobGraph.addVertex(&quot;JOB2&quot;);\n    jobGraph.addVertex(&quot;JOB3&quot;);\n    //preReqJob -&gt; Job\n    jobGraph.addEdge(&quot;JOB1&quot;, &quot;JOB_BOX&quot;);\n    jobGraph.addEdge(&quot;JOB2&quot;, &quot;JOB_BOX&quot;);\n    jobGraph.addEdge(&quot;JOB3&quot;, &quot;JOB_BOX&quot;);\n    jobGraph.addEdge(&quot;JOB1&quot;, &quot;JOB2&quot;);\n    TopologicalOrderIterator&lt;String, DefaultEdge&gt; iterator = new TopologicalOrderIterator&lt;&gt;(jobGraph);\n    iterator.forEachRemaining(job -&gt; {\n        System.out.print(job + &quot; -&gt; &quot;);\n    });\n}\n</code></pre>\n<p>}</p>\n<p>o/p for the above:</p>\n<pre><code>JOB1 -&gt; JOB3 -&gt; JOB2 -&gt; JOB_BOX -&gt; \n</code></pre>\n<p>Idea is that I need to go in sequence of executing jobs based on the dependencies but also apply parallelism wherever applicable.</p>\n<p>I have thought of an approach</p>\n<p>Approach 1:</p>\n<ul>\n<li>I do the topological traversal and then for every jobName that I get\nI check the inDegree of that job i.e if(inDegreeOfJob == 0) then it\nis a candidate of simultaneous execution. that way I get JOB1 and\nJOB3 from the first set of traversal.</li>\n<li>Once JOB1 and JOB3 are complete, I check for subsequent jobs which\nare connecting JOB1 and JOB3 in that case I will get JOB2 alone\nsince there is an edge from JOB1 -&gt; JOB2</li>\n<li>once JOB2 is complete, I check for subsequent job which\nis connecting hence I get JOB_BOX and I mark that complete.</li>\n</ul>\n<p>any help is appreciated and if there is any resource or any other approach you can point me to that would also be great.</p>\n<p>Ref:</p>\n<p><a href=\"https://stackoverflow.com/questions/62372211/how-to-do-topological-sort-dependency-resolution-with-java\">How to do Topological Sort (Dependency Resolution) with Java</a></p>\n"},{"tags":["java","spring-boot","apache-pulsar","spring-pulsar"],"answers":[{"tags":[],"owner":{"account_id":24209301,"reputation":491,"user_id":18166042,"display_name":"onobc"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670338644,"creation_date":1670338644,"answer_id":74704602,"question_id":74687204,"body_markdown":"The 1st error is due to Java17 strong encapsulation of internals by default. To get around this you end up having to `add-opens` in all the places you are launching. [Here is an example](https://github.com/spring-projects-experimental/spring-pulsar/blob/7ee744bcfce2c33245c3795079b60d120be7eaca/spring-pulsar-sample-apps/sample-app1/build.gradle#L19) that sets it for the `bootRun` when using the Spring Boot Gradle Plugin to launch the app. This is an annoyance, but not the cause of the final NPE. \r\n\r\nThe actual cause is that `SchemaType.AUTO_CONSUME` is not supported in `@PulsarListener`. Set it to `SchemaType.JSON`. See [here](https://docs.spring.io/spring-pulsar/docs/current-SNAPSHOT/reference/html/#_specify_schema_information) for more details.\r\n\r\n\r\n\r\n","title":"Custom Objects with Apache Pulsar and Spring Boot","body":"<p>The 1st error is due to Java17 strong encapsulation of internals by default. To get around this you end up having to <code>add-opens</code> in all the places you are launching. <a href=\"https://github.com/spring-projects-experimental/spring-pulsar/blob/7ee744bcfce2c33245c3795079b60d120be7eaca/spring-pulsar-sample-apps/sample-app1/build.gradle#L19\" rel=\"nofollow noreferrer\">Here is an example</a> that sets it for the <code>bootRun</code> when using the Spring Boot Gradle Plugin to launch the app. This is an annoyance, but not the cause of the final NPE.</p>\n<p>The actual cause is that <code>SchemaType.AUTO_CONSUME</code> is not supported in <code>@PulsarListener</code>. Set it to <code>SchemaType.JSON</code>. See <a href=\"https://docs.spring.io/spring-pulsar/docs/current-SNAPSHOT/reference/html/#_specify_schema_information\" rel=\"nofollow noreferrer\">here</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689184487,"creation_date":1689184487,"answer_id":76673283,"question_id":74687204,"body_markdown":"You can try using `SchemaType.JSON` and have your SomeClass Object follow the required conventions for json serialization/deserialization.\r\n\r\nYou can include the SchemaType in your consumer as below:\r\n\r\n    @PulsarListener(subscriptionName = &quot;hello-pulsar-subscription&quot;, topics = &quot;hello-pulsar&quot;, schemaType = SchemaType.JSON)\r\n    public void consumeMessage(SomeClass message) {\r\n        // further processing of your message\r\n    }\r\n\r\nfor Complete post on similar topic check the [Apache Pulsar and Spring Boot][1] post.\r\n\r\n\r\n  [1]: https://www.wranto.com/2023/06/apache-pulsar-and-spring-boot-wranto.html","title":"Custom Objects with Apache Pulsar and Spring Boot","body":"<p>You can try using <code>SchemaType.JSON</code> and have your SomeClass Object follow the required conventions for json serialization/deserialization.</p>\n<p>You can include the SchemaType in your consumer as below:</p>\n<pre><code>@PulsarListener(subscriptionName = &quot;hello-pulsar-subscription&quot;, topics = &quot;hello-pulsar&quot;, schemaType = SchemaType.JSON)\npublic void consumeMessage(SomeClass message) {\n    // further processing of your message\n}\n</code></pre>\n<p>for Complete post on similar topic check the <a href=\"https://www.wranto.com/2023/06/apache-pulsar-and-spring-boot-wranto.html\" rel=\"nofollow noreferrer\">Apache Pulsar and Spring Boot</a> post.</p>\n"}],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1689184487,"creation_date":1670238558,"question_id":74687204,"body_markdown":"I&#39;m using Apache Pulsar for the first time but finding it hard to publish and listen to custom objects. I have defined schemas as directed by [this][1] reference pages but for some reason it’s not working.\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class QuickbooksApplication {\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(QuickbooksApplication.class, args);\r\n  }\r\n\r\n  @Data\r\n  @Builder\r\n  @ToString\r\n  @NoArgsConstructor\r\n  @AllArgsConstructor\r\n  public static class SomeClass {\r\n    private String someVariable;\r\n  }\r\n\r\n  @Bean\r\n  ApplicationRunner runner(PulsarTemplate&lt;SomeClass&gt; pulsarTemplate) {\r\n    pulsarTemplate.setSchema(JSONSchema.of(SomeClass.class));\r\n    SomeClass someClass = SomeClass.builder().someVariable(&quot;Hello World!!!&quot;).build();\r\n    return (args) -&gt; pulsarTemplate.send(&quot;hello-pulsar&quot;, someClass);\r\n  }\r\n\r\n  @PulsarListener(\r\n      subscriptionName = &quot;hello-pulsar-subscription&quot;,\r\n      topics = &quot;hello-pulsar&quot;,\r\n      schemaType = SchemaType.AUTO_CONSUME)\r\n  void listen(SomeClass message) {\r\n    System.out.println(&quot;Message Received: &quot; + message);\r\n  }\r\n}\r\n```\r\nWhen I run this I simply get two errors,\r\n&gt; java.lang.IllegalAccessException: class org.apache.pulsar.common.util.netty.DnsResolverUtil cannot access class sun.net.InetAddressCachePolicy (in module java.base) because module java.base does not export sun.net to unnamed module @544ff9ef\r\n\tat java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392) ~[na:an]\r\n\r\n&gt; java.lang.NullPointerException: Cannot invoke &quot;org.apache.pulsar.client.api.Schema.getSchemaInfo()&quot; because the return value of &quot;org.springframework.pulsar.listener.PulsarContainerProperties.getSchema()&quot; is null\r\n\r\nWhen I consume it as string though, everything works.\r\n\r\nAny help will be appreciated. Thanks in advance.\r\n\r\n  [1]: https://docs.spring.io/spring-pulsar/docs/current-SNAPSHOT/reference/html/#_schema","title":"Custom Objects with Apache Pulsar and Spring Boot","body":"<p>I'm using Apache Pulsar for the first time but finding it hard to publish and listen to custom objects. I have defined schemas as directed by <a href=\"https://docs.spring.io/spring-pulsar/docs/current-SNAPSHOT/reference/html/#_schema\" rel=\"nofollow noreferrer\">this</a> reference pages but for some reason it’s not working.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class QuickbooksApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(QuickbooksApplication.class, args);\n  }\n\n  @Data\n  @Builder\n  @ToString\n  @NoArgsConstructor\n  @AllArgsConstructor\n  public static class SomeClass {\n    private String someVariable;\n  }\n\n  @Bean\n  ApplicationRunner runner(PulsarTemplate&lt;SomeClass&gt; pulsarTemplate) {\n    pulsarTemplate.setSchema(JSONSchema.of(SomeClass.class));\n    SomeClass someClass = SomeClass.builder().someVariable(&quot;Hello World!!!&quot;).build();\n    return (args) -&gt; pulsarTemplate.send(&quot;hello-pulsar&quot;, someClass);\n  }\n\n  @PulsarListener(\n      subscriptionName = &quot;hello-pulsar-subscription&quot;,\n      topics = &quot;hello-pulsar&quot;,\n      schemaType = SchemaType.AUTO_CONSUME)\n  void listen(SomeClass message) {\n    System.out.println(&quot;Message Received: &quot; + message);\n  }\n}\n</code></pre>\n<p>When I run this I simply get two errors,</p>\n<blockquote>\n<p>java.lang.IllegalAccessException: class org.apache.pulsar.common.util.netty.DnsResolverUtil cannot access class sun.net.InetAddressCachePolicy (in module java.base) because module java.base does not export sun.net to unnamed module @544ff9ef\nat java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392) ~[na:an]</p>\n</blockquote>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke &quot;org.apache.pulsar.client.api.Schema.getSchemaInfo()&quot; because the return value of &quot;org.springframework.pulsar.listener.PulsarContainerProperties.getSchema()&quot; is null</p>\n</blockquote>\n<p>When I consume it as string though, everything works.</p>\n<p>Any help will be appreciated. Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1689185358,"post_id":76673220,"comment_id":135179102,"body_markdown":"`Caused by: java.lang.NoClassDefFoundError: javax/servlet/Filter` make it seems that there is some conflict in the dependencies. Are you sure that you are not using Spring Boot 3 or Spring Framework 6 somewhere?","body":"<code>Caused by: java.lang.NoClassDefFoundError: javax&#47;servlet&#47;Filter</code> make it seems that there is some conflict in the dependencies. Are you sure that you are not using Spring Boot 3 or Spring Framework 6 somewhere?"},{"owner":{"account_id":21843340,"reputation":33,"user_id":16136572,"display_name":"Armaan Brar"},"score":0,"creation_date":1689185569,"post_id":76673220,"comment_id":135179144,"body_markdown":"I have downloaded the zip file from start.spring.io using 2.7.13 version","body":"I have downloaded the zip file from start.spring.io using 2.7.13 version"},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":1,"creation_date":1689185696,"post_id":76673220,"comment_id":135179170,"body_markdown":"I do not recall Spring Initializr providing model mapper, lombok, etc.","body":"I do not recall Spring Initializr providing model mapper, lombok, etc."},{"owner":{"account_id":21843340,"reputation":33,"user_id":16136572,"display_name":"Armaan Brar"},"score":0,"creation_date":1689185803,"post_id":76673220,"comment_id":135179185,"body_markdown":"I added ModelMapper myself but Lombok was added when I installed the file.","body":"I added ModelMapper myself but Lombok was added when I installed the file."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1689193378,"post_id":76673220,"comment_id":135180512,"body_markdown":"could you please provide an application somewhere for us to download so that we can have a closer look?","body":"could you please provide an application somewhere for us to download so that we can have a closer look?"}],"owner":{"account_id":21843340,"reputation":33,"user_id":16136572,"display_name":"Armaan Brar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689184004,"creation_date":1689184004,"question_id":76673220,"body_markdown":"When I am extending the WebConfigurerAdapter Class in my WebSecurityConfig of Spring boot Application in IntelliJ, I am getting this error.\r\nI am providing the full stack trace below:\r\n\r\n   \r\n\r\n    java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\r\n\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:748) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.13.jar:2.7.13]\r\n\tat com.jobopenings.JobPostingsApplication.main(JobPostingsApplication.java:10) ~[classes/:an]\r\n    Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@4d7e1886]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485) ~[spring-core-5.3.28.jar:5.3.28]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:361) ~[spring-core-5.3.28.jar:5.3.28]\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:418) ~[spring-core-5.3.28.jar:5.3.28]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765) ~[spring-beans-5.3.28.jar:5.3.28]\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764) ~[spring-beans-5.3.28.jar:5.3.28]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703) ~[spring-beans-5.3.28.jar:5.3.28]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.28.jar:5.3.28]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1684) ~[spring-beans-5.3.28.jar:5.3.28]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.28.jar:5.3.28]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.28.jar:5.3.28]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:246) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:239) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:229) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:182) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:157) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\r\n\t... 16 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: javax/servlet/Filter\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3434) ~[na:na]\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2536) ~[na:na]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467) ~[spring-core-5.3.28.jar:5.3.28]\r\n\t... 32 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: javax.servlet.Filter\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\t... 36 common frames omitted\r\n\r\n    2023-07-12 22:54:35.612  WARN 19876 --- [           main] o.s.boot.SpringApplication               : Unable to close ApplicationContext\r\n\r\n    java.lang.IllegalStateException: Failed to introspect Class [org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@4d7e1886]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485) ~[spring-core-5.3.28.jar:5.3.28]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:361) ~[spring-core-5.3.28.jar:5.3.28]\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:418) ~[spring-core-5.3.28.jar:5.3.28]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765) ~[spring-beans-5.3.28.jar:5.3.28]\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764) ~[spring-beans-5.3.28.jar:5.3.28]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703) ~[spring-beans-5.3.28.jar:5.3.28]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.28.jar:5.3.28]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1684) ~[spring-beans-5.3.28.jar:5.3.28]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.28.jar:5.3.28]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.28.jar:5.3.28]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:669) ~[spring-beans-5.3.28.jar:5.3.28]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:661) ~[spring-beans-5.3.28.jar:5.3.28]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1302) ~[spring-context-5.3.28.jar:5.3.28]\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:864) ~[spring-boot-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:852) ~[spring-boot-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:839) ~[spring-boot-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:779) ~[spring-boot-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:317) ~[spring-boot-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.13.jar:2.7.13]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.13.jar:2.7.13]\r\n\tat com.jobopenings.JobPostingsApplication.main(JobPostingsApplication.java:10) ~[classes/:na]Caused by: java.lang.ClassNotFoundException: javax.servlet.Filter\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\t... 25 common frames omitted\r\n\r\n\r\nPom.xml -\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.13&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.jobopenings&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;JobPostings&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;JobPostings&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nWebSecurityConfig -\r\n\r\n    package com.jobopenings.config;\r\n\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    \r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n        @Override\r\n        public void configure(HttpSecurity httpSecurity) throws Exception {\r\n            httpSecurity.authorizeRequests()\r\n                    .antMatchers(&quot;/api/auth/**&quot;)\r\n                    .permitAll()\r\n                    .anyRequest()\r\n                    .authenticated();\r\n        }\r\n\r\n    }\r\n\r\nI have already tried to remove the scope of \r\n&gt; spring-boot-starter-tomcat\r\n\r\nCan anyone please help me resolve this issue.\r\n\r\n\r\n","title":"Error when extending WebSecurityConfigurerAdapter in SecurityConfig","body":"<p>When I am extending the WebConfigurerAdapter Class in my WebSecurityConfig of Spring boot Application in IntelliJ, I am getting this error.\nI am providing the full stack trace below:</p>\n<pre><code>java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer\nat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\nat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.28.jar:5.3.28]\nat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193) ~[spring-context-5.3.28.jar:5.3.28]\nat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153) ~[spring-context-5.3.28.jar:5.3.28]\nat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.28.jar:5.3.28]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.28.jar:5.3.28]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.28.jar:5.3.28]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.28.jar:5.3.28]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.28.jar:5.3.28]\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:748) ~[spring-context-5.3.28.jar:5.3.28]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.28.jar:5.3.28]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.13.jar:2.7.13]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.13.jar:2.7.13]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.13.jar:2.7.13]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.13.jar:2.7.13]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.13.jar:2.7.13]\nat com.jobopenings.JobPostingsApplication.main(JobPostingsApplication.java:10) ~[classes/:an]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@4d7e1886]\nat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485) ~[spring-core-5.3.28.jar:5.3.28]\nat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:361) ~[spring-core-5.3.28.jar:5.3.28]\nat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:418) ~[spring-core-5.3.28.jar:5.3.28]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765) ~[spring-beans-5.3.28.jar:5.3.28]\nat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764) ~[spring-beans-5.3.28.jar:5.3.28]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703) ~[spring-beans-5.3.28.jar:5.3.28]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.28.jar:5.3.28]\nat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1684) ~[spring-beans-5.3.28.jar:5.3.28]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.28.jar:5.3.28]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.28.jar:5.3.28]\nat org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:246) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\nat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:239) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\nat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:229) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\nat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:182) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\nat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:157) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\nat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.7.13.jar:2.7.13]\n... 16 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/Filter\nat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\nat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3434) ~[na:na]\nat java.base/java.lang.Class.getDeclaredMethods(Class.java:2536) ~[na:na]\nat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467) ~[spring-core-5.3.28.jar:5.3.28]\n... 32 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n... 36 common frames omitted\n\n2023-07-12 22:54:35.612  WARN 19876 --- [           main] o.s.boot.SpringApplication               : Unable to close ApplicationContext\n\njava.lang.IllegalStateException: Failed to introspect Class [org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@4d7e1886]\nat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485) ~[spring-core-5.3.28.jar:5.3.28]\nat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:361) ~[spring-core-5.3.28.jar:5.3.28]\nat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:418) ~[spring-core-5.3.28.jar:5.3.28]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765) ~[spring-beans-5.3.28.jar:5.3.28]\nat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764) ~[spring-beans-5.3.28.jar:5.3.28]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703) ~[spring-beans-5.3.28.jar:5.3.28]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.28.jar:5.3.28]\nat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1684) ~[spring-beans-5.3.28.jar:5.3.28]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.28.jar:5.3.28]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.28.jar:5.3.28]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:669) ~[spring-beans-5.3.28.jar:5.3.28]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:661) ~[spring-beans-5.3.28.jar:5.3.28]\nat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1302) ~[spring-context-5.3.28.jar:5.3.28]\nat org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:864) ~[spring-boot-2.7.13.jar:2.7.13]\nat org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:852) ~[spring-boot-2.7.13.jar:2.7.13]\nat org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:839) ~[spring-boot-2.7.13.jar:2.7.13]\nat org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:779) ~[spring-boot-2.7.13.jar:2.7.13]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:317) ~[spring-boot-2.7.13.jar:2.7.13]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.13.jar:2.7.13]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.13.jar:2.7.13]\nat com.jobopenings.JobPostingsApplication.main(JobPostingsApplication.java:10) ~[classes/:na]Caused by: java.lang.ClassNotFoundException: javax.servlet.Filter\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n... 25 common frames omitted\n</code></pre>\n<p>Pom.xml -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.13&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.jobopenings&lt;/groupId&gt;\n    &lt;artifactId&gt;JobPostings&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;JobPostings&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n        &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>WebSecurityConfig -</p>\n<pre><code>package com.jobopenings.config;\n\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    public void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.authorizeRequests()\n                .antMatchers(&quot;/api/auth/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated();\n    }\n\n}\n</code></pre>\n<p>I have already tried to remove the scope of</p>\n<blockquote>\n<p>spring-boot-starter-tomcat</p>\n</blockquote>\n<p>Can anyone please help me resolve this issue.</p>\n"},{"tags":["java","node.js","android-studio"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689120169,"post_id":76665601,"comment_id":135167402,"body_markdown":"Is that the full text of the error message? No &#39;connection refused&#39;, &#39;connect timeout&#39;, ...?","body":"Is that the full text of the error message? No &#39;connection refused&#39;, &#39;connect timeout&#39;, ...?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1689121246,"post_id":76665601,"comment_id":135167481,"body_markdown":"You wrote “I have a nodejs express server running on my LAN.” Are the client and server on different hosts or the same? 127.0.01 is the loopback address, so this code tells the client to try to connect to port 10000 on the same host. If the server is on a different host, you’ll need to use its LAN IP address.","body":"You wrote “I have a nodejs express server running on my LAN.” Are the client and server on different hosts or the same? 127.0.01 is the loopback address, so this code tells the client to try to connect to port 10000 on the same host. If the server is on a different host, you’ll need to use its LAN IP address."},{"owner":{"account_id":21695440,"reputation":1234,"user_id":16009435,"display_name":"seriously"},"score":0,"creation_date":1689183513,"post_id":76665601,"comment_id":135178738,"body_markdown":"@TimMoore Yeah, your suggestion made me think about that. Thanks!","body":"@TimMoore Yeah, your suggestion made me think about that. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":21695440,"reputation":1234,"user_id":16009435,"display_name":"seriously"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689183446,"creation_date":1689183446,"answer_id":76673166,"question_id":76665601,"body_markdown":"So I was running the Java code inside Android studio emulator, and the emulated device was running on a separate network interface that was not bridged with the local LAN of the server machine, so it couldn&#39;t reach the URL ```http://127.0.0.1:10000/api/server/```. The error can be solved by either creating a bridge with the emulated devices network interface or using a live public IP through the internet.","title":"Failed to connect to URL when trying to connect to api server","body":"<p>So I was running the Java code inside Android studio emulator, and the emulated device was running on a separate network interface that was not bridged with the local LAN of the server machine, so it couldn't reach the URL <code>http://127.0.0.1:10000/api/server/</code>. The error can be solved by either creating a bridge with the emulated devices network interface or using a live public IP through the internet.</p>\n"}],"owner":{"account_id":21695440,"reputation":1234,"user_id":16009435,"display_name":"seriously"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76673166,"answer_count":1,"score":2,"last_activity_date":1689183446,"creation_date":1689107844,"question_id":76665601,"body_markdown":"So I am trying to set up a basic API server to get data from node js to java. I have a nodejs express server running on my LAN. I&#39;m trying to send a post request in Java to a URL and get a response back, but I&#39;m getting error ```java.net.ConnectException: Failed to connect to /127.0.0.1:10000```. The node js express server is indeed running, and I also tried accessing the server from a javascript client using ```fetch``` and successfully got a response back. Where did I go wrong, and how can I fix it? Thanks in advance.\r\n\r\n**index.js**\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    &quot;use strict&quot;;\r\n    const express = require(&quot;express&quot;);\r\n\r\n    const app = express();\r\n\r\n    const PORT = 10000;\r\n\r\n    app.use(express.json({ limit: &quot;50mb&quot; }));\r\n\r\n    app.use(&quot;/api&quot;, require(&quot;./controllers/auth&quot;));\r\n\r\n    app.listen(PORT, function (err) {\r\n      if (err) console.log(&quot;Error in server setup&quot;);\r\n      console.log(&quot;Server listening on Port&quot;, PORT);\r\n    });\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**auth.js**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const express = require(&quot;express&quot;);\r\n    const server = require(&quot;./server&quot;);\r\n\r\n    const router = express.Router();\r\n\r\n    router.post(&quot;/server&quot;, server);\r\n\r\n    module.exports = router;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**server.js**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const server = async (req, res) =&gt; {\r\n      console.log(req.body);\r\n      return res.json({ status: &quot;success&quot; });\r\n    };\r\n\r\n    module.exports = server;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Main.java**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public class Main {\r\n      public static void main(String[] args) throws Exception {\r\n        String url = &quot;http://127.0.0.1:10000/api/server&quot;;\r\n        String json = &quot;{\\&quot;request\\&quot;: \\&quot;requesting\\&quot;}&quot;;\r\n\r\n        URL obj = new URL(url);\r\n        HttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n\r\n        con.setRequestMethod(&quot;POST&quot;);\r\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        con.setDoOutput(true);\r\n\r\n        DataOutputStream wr = new DataOutputStream(con.getOutputStream());\r\n        wr.writeBytes(json);\r\n        wr.flush();\r\n        wr.close();\r\n\r\n        int responseCode = con.getResponseCode();\r\n        System.out.println(&quot;res code&quot;);\r\n        System.out.println(&quot;Response Code: &quot; + responseCode);\r\n\r\n        BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n        String inputLine;\r\n        StringBuffer response = new StringBuffer();\r\n\r\n        while ((inputLine = in .readLine()) != null) {\r\n          response.append(inputLine);\r\n        } in .close();\r\n\r\n        System.out.println(&quot;res string&quot;);\r\n        System.out.println(response.toString());\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Failed to connect to URL when trying to connect to api server","body":"<p>So I am trying to set up a basic API server to get data from node js to java. I have a nodejs express server running on my LAN. I'm trying to send a post request in Java to a URL and get a response back, but I'm getting error <code>java.net.ConnectException: Failed to connect to /127.0.0.1:10000</code>. The node js express server is indeed running, and I also tried accessing the server from a javascript client using <code>fetch</code> and successfully got a response back. Where did I go wrong, and how can I fix it? Thanks in advance.</p>\n<p><strong>index.js</strong>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>\"use strict\";\nconst express = require(\"express\");\n\nconst app = express();\n\nconst PORT = 10000;\n\napp.use(express.json({ limit: \"50mb\" }));\n\napp.use(\"/api\", require(\"./controllers/auth\"));\n\napp.listen(PORT, function (err) {\n  if (err) console.log(\"Error in server setup\");\n  console.log(\"Server listening on Port\", PORT);\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>auth.js</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const express = require(\"express\");\nconst server = require(\"./server\");\n\nconst router = express.Router();\n\nrouter.post(\"/server\", server);\n\nmodule.exports = router;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>server.js</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const server = async (req, res) =&gt; {\n  console.log(req.body);\n  return res.json({ status: \"success\" });\n};\n\nmodule.exports = server;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>Main.java</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public class Main {\n  public static void main(String[] args) throws Exception {\n    String url = \"http://127.0.0.1:10000/api/server\";\n    String json = \"{\\\"request\\\": \\\"requesting\\\"}\";\n\n    URL obj = new URL(url);\n    HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n\n    con.setRequestMethod(\"POST\");\n    con.setRequestProperty(\"Content-Type\", \"application/json\");\n    con.setDoOutput(true);\n\n    DataOutputStream wr = new DataOutputStream(con.getOutputStream());\n    wr.writeBytes(json);\n    wr.flush();\n    wr.close();\n\n    int responseCode = con.getResponseCode();\n    System.out.println(\"res code\");\n    System.out.println(\"Response Code: \" + responseCode);\n\n    BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n    String inputLine;\n    StringBuffer response = new StringBuffer();\n\n    while ((inputLine = in .readLine()) != null) {\n      response.append(inputLine);\n    } in .close();\n\n    System.out.println(\"res string\");\n    System.out.println(response.toString());\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","android","clean-architecture"],"answers":[{"comments":[{"owner":{"account_id":8985649,"reputation":156,"user_id":6699286,"display_name":"emeraldinspirations"},"score":3,"creation_date":1507514644,"post_id":46637205,"comment_id":80224994,"body_markdown":"(I just ran a search for this question) and was leaning &quot;Yes&quot; due to the DRY principle.  I can see an `Interactor` object (use case) creating a new `RequestModel` and passing it to a separate `Interactor` object.\n\nHowever, as you said, there is &quot;very little on the subject&quot;.","body":"(I just ran a search for this question) and was leaning &quot;Yes&quot; due to the DRY principle.  I can see an <code>Interactor</code> object (use case) creating a new <code>RequestModel</code> and passing it to a separate <code>Interactor</code> object.  However, as you said, there is &quot;very little on the subject&quot;."},{"owner":{"account_id":1922426,"reputation":913,"user_id":1733576,"accept_rate":50,"display_name":"Chris Rohit Brendan"},"score":4,"creation_date":1507565255,"post_id":46637205,"comment_id":80250373,"body_markdown":"I used interactors that executed other interactors to avoid my presentation layers from being too confusing and large and haven&#39;t come across any issues as such.","body":"I used interactors that executed other interactors to avoid my presentation layers from being too confusing and large and haven&#39;t come across any issues as such."},{"owner":{"account_id":12522577,"reputation":3285,"user_id":9113457,"accept_rate":100,"display_name":"plainionist"},"score":1,"creation_date":1519453970,"post_id":46637205,"comment_id":84926594,"body_markdown":"I see it in the same way. For a more detailed example on this topic pls see https://plainionist.github.io/Implementing-Clean-Architecture-UseCases/","body":"I see it in the same way. For a more detailed example on this topic pls see <a href=\"https://plainionist.github.io/Implementing-Clean-Architecture-UseCases/\" rel=\"nofollow noreferrer\">plainionist.github.io/Implementing-Clean-Architecture-UseCas&zwnj;&#8203;es</a>"},{"owner":{"account_id":7175930,"reputation":1690,"user_id":5481865,"accept_rate":93,"display_name":"FailedUnitTest"},"score":0,"creation_date":1616498996,"post_id":46637205,"comment_id":118015295,"body_markdown":"I agree, this is the place to do it. This way is far better than combining this logic in the Presentation layer.","body":"I agree, this is the place to do it. This way is far better than combining this logic in the Presentation layer."},{"owner":{"account_id":10184568,"reputation":127,"user_id":8636111,"display_name":"O.O"},"score":2,"creation_date":1635682075,"post_id":46637205,"comment_id":123355849,"body_markdown":"As my experience - never do that or get then spagetti-code :-) Interactors should be changed independently, cause they are different parts of application. If you gave interactor opportunity to use another interactor - something gone wrong and you should to transfer logic from interactor to entity or gateway. If we talking about this concrete question - it is fully incorrect. Why? Cause if you have adjective word to Album entity - it is property of its own","body":"As my experience - never do that or get then spagetti-code :-) Interactors should be changed independently, cause they are different parts of application. If you gave interactor opportunity to use another interactor - something gone wrong and you should to transfer logic from interactor to entity or gateway. If we talking about this concrete question - it is fully incorrect. Why? Cause if you have adjective word to Album entity - it is property of its own"},{"owner":{"account_id":1229384,"reputation":2851,"user_id":1194289,"accept_rate":80,"display_name":"Ben Neill"},"score":0,"creation_date":1639476280,"post_id":46637205,"comment_id":124352371,"body_markdown":"in my experience it&#39;s rarely needed or makes sense, however when it does it is the correct thing to do otherwise you&#39;ll end up with a maintenance nightmare. In his example, this makes total sense to me assuming there&#39;s some actual domain logic in both of the other use cases. If not, it makes more sense to go to the repository directly and fetch all.","body":"in my experience it&#39;s rarely needed or makes sense, however when it does it is the correct thing to do otherwise you&#39;ll end up with a maintenance nightmare. In his example, this makes total sense to me assuming there&#39;s some actual domain logic in both of the other use cases. If not, it makes more sense to go to the repository directly and fetch all."},{"owner":{"account_id":7751266,"reputation":61,"user_id":5867113,"display_name":"Sylwester Szymanski"},"score":1,"creation_date":1653832526,"post_id":46637205,"comment_id":127942624,"body_markdown":"I am also a fan of this approach, having use cases use other use cases indeed creates dependency between them, but if we treat these usecases as orchestrators this dependencies actually makes sense. I worked in complex project where without it we would have to move the business logic to the presentation layer, which would be obviously wrong, and create lot more problems when business logic changes. We would need then to refactor presentation layer instead, where the logic would reside.","body":"I am also a fan of this approach, having use cases use other use cases indeed creates dependency between them, but if we treat these usecases as orchestrators this dependencies actually makes sense. I worked in complex project where without it we would have to move the business logic to the presentation layer, which would be obviously wrong, and create lot more problems when business logic changes. We would need then to refactor presentation layer instead, where the logic would reside."}],"tags":[],"owner":{"account_id":1229384,"reputation":2851,"user_id":1194289,"accept_rate":80,"display_name":"Ben Neill"},"comment_count":7,"down_vote_count":2,"up_vote_count":53,"is_accepted":false,"score":51,"last_activity_date":1639476043,"creation_date":1507507058,"answer_id":46637205,"question_id":43803666,"body_markdown":"I have been pondering the same thing and after finding very little on the subject, I have come to the conclusion &quot;Yes&quot; it is _probably_ the best option.\r\n\r\nmy reasoning as follows:\r\n\r\n1. Single Responsibility: If you can&#39;t aggregate use-cases, then each can&#39;t _really_ be single responsibility. Without aggregation, it means domain logic ends up in the presentation layer, defeating the purpose. \r\n2. DRY: use cases can be shared, and _should_ be where it makes sense. As long as the intent of the use case is identical. Obviously this should be thought through before being done. In my experience there&#39;s rarely a need for this outside of the next point.\r\n3. Orchestrator classes: for instance if you need to fetch multiple data sources and persist to a repository. A use case which will run all of those child use cases is required, ensuring things like order of operations and concurrency are correctly implemented. This I think is the most compelling reason for calling other use cases.\r\n\r\nTo preserve single responsibility, I would consider limiting aggregating use-cases to do _only that_, i.e. executing those use cases and doing any final transformations. \r\n\r\nGiven the age of this question, I&#39;d be interested to know which way you went with this and issues you encountered.","title":"Clean Architecture: Combining Interactors","body":"<p>I have been pondering the same thing and after finding very little on the subject, I have come to the conclusion &quot;Yes&quot; it is <em>probably</em> the best option.</p>\n<p>my reasoning as follows:</p>\n<ol>\n<li>Single Responsibility: If you can't aggregate use-cases, then each can't <em>really</em> be single responsibility. Without aggregation, it means domain logic ends up in the presentation layer, defeating the purpose.</li>\n<li>DRY: use cases can be shared, and <em>should</em> be where it makes sense. As long as the intent of the use case is identical. Obviously this should be thought through before being done. In my experience there's rarely a need for this outside of the next point.</li>\n<li>Orchestrator classes: for instance if you need to fetch multiple data sources and persist to a repository. A use case which will run all of those child use cases is required, ensuring things like order of operations and concurrency are correctly implemented. This I think is the most compelling reason for calling other use cases.</li>\n</ol>\n<p>To preserve single responsibility, I would consider limiting aggregating use-cases to do <em>only that</em>, i.e. executing those use cases and doing any final transformations.</p>\n<p>Given the age of this question, I'd be interested to know which way you went with this and issues you encountered.</p>\n"},{"comments":[{"owner":{"account_id":6375892,"reputation":4706,"user_id":4946857,"accept_rate":71,"display_name":"Cory Robinson"},"score":0,"creation_date":1624760356,"post_id":60920393,"comment_id":120444249,"body_markdown":"I&#39;ve come to this conclusion in my implementation as well, great comment @goredefex","body":"I&#39;ve come to this conclusion in my implementation as well, great comment @goredefex"},{"owner":{"account_id":1086776,"reputation":327,"user_id":1082308,"accept_rate":50,"display_name":"IronHide"},"score":5,"creation_date":1649414215,"post_id":60920393,"comment_id":126874762,"body_markdown":"isn&#39;t usecase and interactor same thing ? I think Uncle Bobo uses them interchangeably","body":"isn&#39;t usecase and interactor same thing ? I think Uncle Bobo uses them interchangeably"},{"owner":{"account_id":250524,"reputation":3013,"user_id":527302,"accept_rate":41,"display_name":"friartuck"},"score":0,"creation_date":1665471107,"post_id":60920393,"comment_id":130701563,"body_markdown":"I would be interested to see how you differentiate an interactor from a use case. Additionally, how you structure this in your codebase (i.e. folder structure) @GoreDefex. I thought they were one and the same","body":"I would be interested to see how you differentiate an interactor from a use case. Additionally, how you structure this in your codebase (i.e. folder structure) @GoreDefex. I thought they were one and the same"},{"owner":{"account_id":2927911,"reputation":1481,"user_id":3794876,"accept_rate":97,"display_name":"GoreDefex"},"score":0,"creation_date":1671704741,"post_id":60920393,"comment_id":132157299,"body_markdown":"@friartuck From my current experience it seems to matter if you are in a strongly typed language or not. I could be wrong, but it seems to me that in scripted languages like Javascript or Python, the use case function IS the use case interactor. Where as in strongly types languages like C# or Java, a use case is an interface and the interactor is the class that extends many of these use cases and gains action(s) as a result.","body":"@friartuck From my current experience it seems to matter if you are in a strongly typed language or not. I could be wrong, but it seems to me that in scripted languages like Javascript or Python, the use case function IS the use case interactor. Where as in strongly types languages like C# or Java, a use case is an interface and the interactor is the class that extends many of these use cases and gains action(s) as a result."}],"tags":[],"owner":{"account_id":2927911,"reputation":1481,"user_id":3794876,"accept_rate":97,"display_name":"GoreDefex"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585514073,"creation_date":1585514073,"answer_id":60920393,"question_id":43803666,"body_markdown":"I am very new to Uncle Bob&#39;s work and I am also going through these exact same questions and problems. \r\n\r\nMy answer to maintaining the SRP and not repeating yourself (DRY) with use cases was to separate the use cases from the interactor. It&#39;s possible that this is overkill but it really worked out well for me. \r\n\r\nI have my use cases in their own files, separated from the interactors so that all separate interactors can use whichever use cases they want and share. All the while, the interactor just &quot;uses&quot; (imports, depends on, etc) any use case it wants.\r\n\r\nDoing it this way has made my interactors very simple and is really only a container for the dependency injection(s) required, and some class level member vars. \r\n\r\nSo in summary, getAllAlbums, getEmptyAlbums and getOtherAlbums use cases become their own files and follow SRP and you have an Interactor class that aggregates at will and/or stitches together use cases in sequence. \r\n\r\nLately I have also been making my use cases only do actual business logic and not include things from dependency injection gateways like database or network calls. I then put the code for these dependency gateway actions in the methods operating the use cases...\r\n\r\nNow if you only have &quot;black-boxed&quot; business logic concepts in use cases, you can test without including the dependencies being tightly coupled. So if you we&#39;re making the game &quot;Tic Tac Toe&quot; for example, your use cases when (looked at in quick glance) would be talking only the language of &quot;Tic Tac Toe&quot; and not &quot;save&quot;, &quot;commit&quot; or &quot;fetch[_X_]&quot;. You can save testing those things in the interactors test or in the gateway itself.","title":"Clean Architecture: Combining Interactors","body":"<p>I am very new to Uncle Bob's work and I am also going through these exact same questions and problems. </p>\n\n<p>My answer to maintaining the SRP and not repeating yourself (DRY) with use cases was to separate the use cases from the interactor. It's possible that this is overkill but it really worked out well for me. </p>\n\n<p>I have my use cases in their own files, separated from the interactors so that all separate interactors can use whichever use cases they want and share. All the while, the interactor just \"uses\" (imports, depends on, etc) any use case it wants.</p>\n\n<p>Doing it this way has made my interactors very simple and is really only a container for the dependency injection(s) required, and some class level member vars. </p>\n\n<p>So in summary, getAllAlbums, getEmptyAlbums and getOtherAlbums use cases become their own files and follow SRP and you have an Interactor class that aggregates at will and/or stitches together use cases in sequence. </p>\n\n<p>Lately I have also been making my use cases only do actual business logic and not include things from dependency injection gateways like database or network calls. I then put the code for these dependency gateway actions in the methods operating the use cases...</p>\n\n<p>Now if you only have \"black-boxed\" business logic concepts in use cases, you can test without including the dependencies being tightly coupled. So if you we're making the game \"Tic Tac Toe\" for example, your use cases when (looked at in quick glance) would be talking only the language of \"Tic Tac Toe\" and not \"save\", \"commit\" or \"fetch[<em>X</em>]\". You can save testing those things in the interactors test or in the gateway itself.</p>\n"},{"comments":[{"owner":{"account_id":4286646,"reputation":559,"user_id":3504181,"accept_rate":93,"display_name":"sanevys"},"score":2,"creation_date":1611246455,"post_id":61433861,"comment_id":116395032,"body_markdown":"can we reuse repositories in different use cases? Or everything in feature should be independent from another feature?","body":"can we reuse repositories in different use cases? Or everything in feature should be independent from another feature?"},{"owner":{"account_id":6933419,"reputation":2450,"user_id":11661407,"display_name":"GaboBrandX"},"score":2,"creation_date":1611265239,"post_id":61433861,"comment_id":116403086,"body_markdown":"Each use case should have its own repository. You will generate accidental duplication. But you&#39;ll get a vertical layer with domain, data and presentation that is completely isolated.\nHowever, remember that this is not the ultimate software architecture. It&#39;s really helpful for big teams, but for a small team it can be overkill to apply it at perfection. You must ask yourself if would this repository have to change for more than one reason when reusing it in another use case? And make a decision based on that. You can (and should) always refactor anyway","body":"Each use case should have its own repository. You will generate accidental duplication. But you&#39;ll get a vertical layer with domain, data and presentation that is completely isolated. However, remember that this is not the ultimate software architecture. It&#39;s really helpful for big teams, but for a small team it can be overkill to apply it at perfection. You must ask yourself if would this repository have to change for more than one reason when reusing it in another use case? And make a decision based on that. You can (and should) always refactor anyway"},{"owner":{"account_id":1229384,"reputation":2851,"user_id":1194289,"accept_rate":80,"display_name":"Ben Neill"},"score":0,"creation_date":1613364573,"post_id":61433861,"comment_id":117043164,"body_markdown":"If you aren&#39;t mocking your dependencies in tests, you&#39;ll be in a world of hurt. this includes other use cases. \n\nIf all you are doing is fetching items, you should be fetching them from a repository. If theres business logic that needs to be processed as part of that, it&#39;s likely to be common and DRY approach makes sense.","body":"If you aren&#39;t mocking your dependencies in tests, you&#39;ll be in a world of hurt. this includes other use cases.   If all you are doing is fetching items, you should be fetching them from a repository. If theres business logic that needs to be processed as part of that, it&#39;s likely to be common and DRY approach makes sense."},{"owner":{"account_id":6933419,"reputation":2450,"user_id":11661407,"display_name":"GaboBrandX"},"score":1,"creation_date":1613413022,"post_id":61433861,"comment_id":117062309,"body_markdown":"@BenNeill I agree with you about calling the repository directly to avoid having middle man use cases. Now, when we talk about Uncle Bob&#39;s Clean Architecture, repositories should be encapsulated to be only called from their interactors. One reason is repositories return entities, and the presenters shouldn&#39;t use those (because the view won&#39;t use all data or invoke entity methods). Also, repositories should be encapsulated to avoid using them from outside the interactors. Like I said, that&#39;s what Clean Architecture establish. It does not mean is the best choice for everyone or every moment :)","body":"@BenNeill I agree with you about calling the repository directly to avoid having middle man use cases. Now, when we talk about Uncle Bob&#39;s Clean Architecture, repositories should be encapsulated to be only called from their interactors. One reason is repositories return entities, and the presenters shouldn&#39;t use those (because the view won&#39;t use all data or invoke entity methods). Also, repositories should be encapsulated to avoid using them from outside the interactors. Like I said, that&#39;s what Clean Architecture establish. It does not mean is the best choice for everyone or every moment :)"},{"owner":{"account_id":6933419,"reputation":2450,"user_id":11661407,"display_name":"GaboBrandX"},"score":1,"creation_date":1613413868,"post_id":61433861,"comment_id":117062595,"body_markdown":"By the way, regarding DRY, the 20th anniversary edition of The Pragmatic Progammer made some clarifications about that principle. It shows that &quot;duplicated&quot; code does not necessarily means a DRY violation. Tip 25 (Don&#39;t Repeat Yourself) on page 31.","body":"By the way, regarding DRY, the 20th anniversary edition of The Pragmatic Progammer made some clarifications about that principle. It shows that &quot;duplicated&quot; code does not necessarily means a DRY violation. Tip 25 (Don&#39;t Repeat Yourself) on page 31."},{"owner":{"account_id":1229384,"reputation":2851,"user_id":1194289,"accept_rate":80,"display_name":"Ben Neill"},"score":0,"creation_date":1613516675,"post_id":61433861,"comment_id":117097863,"body_markdown":"@GaboBrandX In regards to DRY, it definitely is a case by case basis, reuse for the sake of it can be dangerous. If you have a complex piece of business logic, it often makes sense to break it down into logical blocks to make it more testable and readable, reuse is just a bonus when it happens. I find that is the most likely reason for dependencies on other interactors, where one&#39;s job is just to orchestrate the others.","body":"@GaboBrandX In regards to DRY, it definitely is a case by case basis, reuse for the sake of it can be dangerous. If you have a complex piece of business logic, it often makes sense to break it down into logical blocks to make it more testable and readable, reuse is just a bonus when it happens. I find that is the most likely reason for dependencies on other interactors, where one&#39;s job is just to orchestrate the others."},{"owner":{"account_id":1229384,"reputation":2851,"user_id":1194289,"accept_rate":80,"display_name":"Ben Neill"},"score":0,"creation_date":1613516832,"post_id":61433861,"comment_id":117097900,"body_markdown":"I am certainly not talking about bypassing use cases, I am saying I&#39;d use a repository directly rather than pulling in a use case that has trivial logic, such as a &#39;pass through&#39; that just fetches and transforms.","body":"I am certainly not talking about bypassing use cases, I am saying I&#39;d use a repository directly rather than pulling in a use case that has trivial logic, such as a &#39;pass through&#39; that just fetches and transforms."},{"owner":{"account_id":2027460,"reputation":862,"user_id":1812073,"accept_rate":75,"display_name":"Konrad"},"score":0,"creation_date":1645969627,"post_id":61433861,"comment_id":126004049,"body_markdown":"@GaboBrandX As far as I understand Clean Architecture, use cases are all part of the same boundary so it is not possible that a use case depending on another use case would break a boundary. In an even remotely complex app it would be unreasonable to believe that every use case is independent of each other; functionally it doesn&#39;t seem realistic.","body":"@GaboBrandX As far as I understand Clean Architecture, use cases are all part of the same boundary so it is not possible that a use case depending on another use case would break a boundary. In an even remotely complex app it would be unreasonable to believe that every use case is independent of each other; functionally it doesn&#39;t seem realistic."},{"owner":{"account_id":6933419,"reputation":2450,"user_id":11661407,"display_name":"GaboBrandX"},"score":0,"creation_date":1646050358,"post_id":61433861,"comment_id":126021032,"body_markdown":"@Konrad Use cases are part of the same horizontal layer (Domain) but each use case is a different vertical layer. It is realistic, I&#39;ve defined this architecture in many complex projects at my work, and my devs are developing independently as expected. It just requires discipline.","body":"@Konrad Use cases are part of the same horizontal layer (Domain) but each use case is a different vertical layer. It is realistic, I&#39;ve defined this architecture in many complex projects at my work, and my devs are developing independently as expected. It just requires discipline."},{"owner":{"account_id":2027460,"reputation":862,"user_id":1812073,"accept_rate":75,"display_name":"Konrad"},"score":0,"creation_date":1646052360,"post_id":61433861,"comment_id":126021695,"body_markdown":"Won&#39;t you necessarily, at some point, end up with a use case that orchestrates and calls several other use cases? For instance creating a resource, managed by one use case, may have consequences upon another resource, managed by another use case. Is this when you duplicate code because you consider they are different use cases? Honestly I find the use case independency &quot;rule&quot; a little confusing","body":"Won&#39;t you necessarily, at some point, end up with a use case that orchestrates and calls several other use cases? For instance creating a resource, managed by one use case, may have consequences upon another resource, managed by another use case. Is this when you duplicate code because you consider they are different use cases? Honestly I find the use case independency &quot;rule&quot; a little confusing"},{"owner":{"account_id":6933419,"reputation":2450,"user_id":11661407,"display_name":"GaboBrandX"},"score":0,"creation_date":1646143841,"post_id":61433861,"comment_id":126047057,"body_markdown":"@Konrad That&#39;s exactly the point of Clean Architecture. You don&#39;t want to modify one use case and have consequences on another one. Please read about Common Closure Principle and Single Responsibility. Also if you&#39;re thinking about DRY principle, please check the 20th anniversary edition of Pragmatic Programmer, like I said in a comment before.","body":"@Konrad That&#39;s exactly the point of Clean Architecture. You don&#39;t want to modify one use case and have consequences on another one. Please read about Common Closure Principle and Single Responsibility. Also if you&#39;re thinking about DRY principle, please check the 20th anniversary edition of Pragmatic Programmer, like I said in a comment before."}],"tags":[],"owner":{"account_id":6933419,"reputation":2450,"user_id":11661407,"display_name":"GaboBrandX"},"comment_count":11,"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1591732368,"creation_date":1587856606,"answer_id":61433861,"question_id":43803666,"body_markdown":"My answer would be no. Let me explain the reasons:\r\n\r\n1. **That would be breaking boundaries**\r\n\r\nOne of the most important concepts of Clean Architecture, is boundaries. Each use case defines a boundary, a vertical layer of a system. Therefore there&#39;s no reason to let a use case know about the existence of another use case. This vertical layers, allows to get independent develop-ability and deployability of the use cases. Imagine we are working as a team, you develop GetEmptyAlbums use case, and I work on the GetAllAlbums use case. If I call your use case in my own, we are not developing independently. Neither we&#39;re achieving independent deployability. The vertical boundaries breaks. See page 152 of Clean Architecture book and chapter 16 in general, for more details on that.\r\n\r\n2. **SRP would be broken too**\r\n\r\nSuppose GetEmptyAlbums business rules changes for any reason. You will be in need to refactor that use case. And now maybe you need to accept some input. If GetAllAlbums invokes GetEmptyAlbums, this use case must be refactored too. In other words, by coupling use cases you are adding more responsibilities. Therefore SRP breaks.\r\n\r\n3. **DRY is still complaint**\r\n\r\nThere are 2 kinds of duplication: *true* duplication and *accidental* duplication. By defining 2 or more use cases that are very similar with each other, you&#39;re getting accidental duplication. It is accidental, because in the future the will become different probably and (this is what&#39;s matters) for different reasons. See page 154 for this concepts.\r\n\r\n4. **Tests become more fragile**\r\n\r\nVery related to SRP. If you change something on use case A, and C calls A, not only A tests will break, but C tests too.\r\n\r\n\r\nIn conclusion, the answer is no, you cannot call a use case interactor from another one. But this rule applies if you want to achieve a pure Clean Architecture approach, which not always might be the right decision.\r\n\r\nAnother thing to point out, is that use cases must declare an input and output data structures. I&#39;m not sure if your Album class is an Entity, but if so, there&#39;s a problem there. As Uncle Bob says: &quot;we don&#39;t want to cheat and pass Entity objects&quot; between boundaries (page 207).\r\n\r\n\r\n","title":"Clean Architecture: Combining Interactors","body":"<p>My answer would be no. Let me explain the reasons:</p>\n\n<ol>\n<li><strong>That would be breaking boundaries</strong></li>\n</ol>\n\n<p>One of the most important concepts of Clean Architecture, is boundaries. Each use case defines a boundary, a vertical layer of a system. Therefore there's no reason to let a use case know about the existence of another use case. This vertical layers, allows to get independent develop-ability and deployability of the use cases. Imagine we are working as a team, you develop GetEmptyAlbums use case, and I work on the GetAllAlbums use case. If I call your use case in my own, we are not developing independently. Neither we're achieving independent deployability. The vertical boundaries breaks. See page 152 of Clean Architecture book and chapter 16 in general, for more details on that.</p>\n\n<ol start=\"2\">\n<li><strong>SRP would be broken too</strong></li>\n</ol>\n\n<p>Suppose GetEmptyAlbums business rules changes for any reason. You will be in need to refactor that use case. And now maybe you need to accept some input. If GetAllAlbums invokes GetEmptyAlbums, this use case must be refactored too. In other words, by coupling use cases you are adding more responsibilities. Therefore SRP breaks.</p>\n\n<ol start=\"3\">\n<li><strong>DRY is still complaint</strong></li>\n</ol>\n\n<p>There are 2 kinds of duplication: <em>true</em> duplication and <em>accidental</em> duplication. By defining 2 or more use cases that are very similar with each other, you're getting accidental duplication. It is accidental, because in the future the will become different probably and (this is what's matters) for different reasons. See page 154 for this concepts.</p>\n\n<ol start=\"4\">\n<li><strong>Tests become more fragile</strong></li>\n</ol>\n\n<p>Very related to SRP. If you change something on use case A, and C calls A, not only A tests will break, but C tests too.</p>\n\n<p>In conclusion, the answer is no, you cannot call a use case interactor from another one. But this rule applies if you want to achieve a pure Clean Architecture approach, which not always might be the right decision.</p>\n\n<p>Another thing to point out, is that use cases must declare an input and output data structures. I'm not sure if your Album class is an Entity, but if so, there's a problem there. As Uncle Bob says: \"we don't want to cheat and pass Entity objects\" between boundaries (page 207).</p>\n"},{"comments":[{"owner":{"account_id":1229384,"reputation":2851,"user_id":1194289,"accept_rate":80,"display_name":"Ben Neill"},"score":2,"creation_date":1621988527,"post_id":66337684,"comment_id":119658841,"body_markdown":"That&#39;s a really good point, DRY doesn&#39;t apply unless the intent is the same for both operations.","body":"That&#39;s a really good point, DRY doesn&#39;t apply unless the intent is the same for both operations."}],"tags":[],"owner":{"account_id":2634856,"reputation":563,"user_id":2279855,"accept_rate":67,"display_name":"Tymur Yarosh"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1614099751,"creation_date":1614099751,"answer_id":66337684,"question_id":43803666,"body_markdown":"Take a look at the 16th chapter of the amazing &quot;Clean Architecture&quot; book. Uncle Bob answered this question at the part named &quot;Duplication&quot;. There are 2 types of duplication:\r\n\r\n**Real duplication** — introducing a change affects multiple places where the duplicated code exists.\r\n\r\n**Accidental duplication** — the code is similar right now, but the ideas behind it are different, and the code becomes different over time.\r\n\r\nIn case of a real duplication, you can couple use cases, though be careful because it would be much harder to split them as the software evolves in case of accidental duplication.","title":"Clean Architecture: Combining Interactors","body":"<p>Take a look at the 16th chapter of the amazing &quot;Clean Architecture&quot; book. Uncle Bob answered this question at the part named &quot;Duplication&quot;. There are 2 types of duplication:</p>\n<p><strong>Real duplication</strong> — introducing a change affects multiple places where the duplicated code exists.</p>\n<p><strong>Accidental duplication</strong> — the code is similar right now, but the ideas behind it are different, and the code becomes different over time.</p>\n<p>In case of a real duplication, you can couple use cases, though be careful because it would be much harder to split them as the software evolves in case of accidental duplication.</p>\n"},{"tags":[],"owner":{"account_id":14727825,"reputation":153,"user_id":10636137,"display_name":"Dmytro T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686497051,"creation_date":1686359830,"answer_id":76444380,"question_id":43803666,"body_markdown":"Let&#39;s refer to the primary source, the book &quot;Clean Architecture: A Craftsman&#39;s Guide to Software Structure and Design&quot;.\r\n\r\n&gt; A use case is an object. It has one or more functions that implement the\r\napplication-specific business rules. It also has data elements that include the input data, the output data, and the references to the appropriate Entities with which it interacts.\r\n&gt; \r\n&gt; A use case is a description of the way that an automated system is used. It specifies the input to be provided by the user, the output to be returned to the user, and the processing steps involved in producing that output. \r\n\r\n&gt; The system&#39;s use cases will be plainly visible within the structure of that system. Those elements will be classes or functions or modules that have prominent positions within the architecture, and they will have names that clearly describe their process.\r\n\r\nIn the book, there are a couple of scenarios of how use case interactors should be used. Still, there is no mention of any scenario where this use-case interactor would need to call another use-case interactor to perform its task.\r\n\r\n*Now my humble opinion.*\r\n\r\nUse cases are on the same level, communicating with each other does not violate any principles outlined in the book. \r\n\r\nBy following this quote:\r\n\r\n&gt; It specifies... the processing steps\r\n\r\nin my implementation of the use case interactor, these steps were the corresponding methods from the gateways. Ideally, we would not need to use other use case interactors, if for every step we have gateway implementation, since this way we keep every Use Case encapsulated and protected from the change to another Use Case. \r\n\r\nHowever, in my experience, there were a couple of moments when I used a Use Case interactor to call another Use Case when it had more common sense.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dZjTr.png","title":"Clean Architecture: Combining Interactors","body":"<p>Let's refer to the primary source, the book &quot;Clean Architecture: A Craftsman's Guide to Software Structure and Design&quot;.</p>\n<blockquote>\n<p>A use case is an object. It has one or more functions that implement the\napplication-specific business rules. It also has data elements that include the input data, the output data, and the references to the appropriate Entities with which it interacts.</p>\n<p>A use case is a description of the way that an automated system is used. It specifies the input to be provided by the user, the output to be returned to the user, and the processing steps involved in producing that output.</p>\n</blockquote>\n<blockquote>\n<p>The system's use cases will be plainly visible within the structure of that system. Those elements will be classes or functions or modules that have prominent positions within the architecture, and they will have names that clearly describe their process.</p>\n</blockquote>\n<p>In the book, there are a couple of scenarios of how use case interactors should be used. Still, there is no mention of any scenario where this use-case interactor would need to call another use-case interactor to perform its task.</p>\n<p><em>Now my humble opinion.</em></p>\n<p>Use cases are on the same level, communicating with each other does not violate any principles outlined in the book.</p>\n<p>By following this quote:</p>\n<blockquote>\n<p>It specifies... the processing steps</p>\n</blockquote>\n<p>in my implementation of the use case interactor, these steps were the corresponding methods from the gateways. Ideally, we would not need to use other use case interactors, if for every step we have gateway implementation, since this way we keep every Use Case encapsulated and protected from the change to another Use Case.</p>\n<p>However, in my experience, there were a couple of moments when I used a Use Case interactor to call another Use Case when it had more common sense.</p>\n<p><a href=\"https://i.stack.imgur.com/dZjTr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dZjTr.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1689313658,"post_id":76673049,"comment_id":135198432,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76673049/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29004326,"reputation":1,"user_id":22217244,"display_name":"cym0ril"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689183229,"creation_date":1689182436,"answer_id":76673049,"question_id":43803666,"body_markdown":"This thread is a bit a old, but as I am encountering the same question currently, I will share my approach.\r\n\r\nI don&#39;t see why we should not do that. Of course, it depends on the context, and as it create dependency between several UseCase, it should be well thought, however in my case I found this approach much more reliable than putting logic on the upper layers and maybe duplicating code.\r\n\r\nFirst, the dependency can be not so strong if you standardize your UseCase output, especially in term of error or &quot;empty&quot; response when you have complex query with some logic in it.\r\n\r\nSecondly, I also found it valuable to separate Domain UseCase and Application UseCase. Application may need to request several sub-usecase to process their logic in order to provide a full response. In this case, it could be done directly in the controller, however, you may have some overall logic you want to keep in this layer to avoid duplication.\r\n\r\nFinally, having a use case calling an other use case is very similar to having different services working together. If we want to really avoid all dependencies, we could use a Facade Pattern. But it really depends on the context, on mine we are not yet at that stage and having this &quot;standardize&quot; dependency betewen use case is completely acceptable.\r\n\r\n\r\n[EDIT]\r\nRegarding the test question, I also don&#39;t see why it should be more fragile. Every UseCase is still tested separately, and because you standardize ouput, you can have fully reliable testing through it.\r\nAgain, of course it depends on the size of the application, but if you are in the situation where you are working with a lot of different services, maybe yo should look at patterns like Facade to avoid dependencies and you are back in &quot;standardized output&quot; situation.","title":"Clean Architecture: Combining Interactors","body":"<p>This thread is a bit a old, but as I am encountering the same question currently, I will share my approach.</p>\n<p>I don't see why we should not do that. Of course, it depends on the context, and as it create dependency between several UseCase, it should be well thought, however in my case I found this approach much more reliable than putting logic on the upper layers and maybe duplicating code.</p>\n<p>First, the dependency can be not so strong if you standardize your UseCase output, especially in term of error or &quot;empty&quot; response when you have complex query with some logic in it.</p>\n<p>Secondly, I also found it valuable to separate Domain UseCase and Application UseCase. Application may need to request several sub-usecase to process their logic in order to provide a full response. In this case, it could be done directly in the controller, however, you may have some overall logic you want to keep in this layer to avoid duplication.</p>\n<p>Finally, having a use case calling an other use case is very similar to having different services working together. If we want to really avoid all dependencies, we could use a Facade Pattern. But it really depends on the context, on mine we are not yet at that stage and having this &quot;standardize&quot; dependency betewen use case is completely acceptable.</p>\n<p>[EDIT]\nRegarding the test question, I also don't see why it should be more fragile. Every UseCase is still tested separately, and because you standardize ouput, you can have fully reliable testing through it.\nAgain, of course it depends on the size of the application, but if you are in the situation where you are working with a lot of different services, maybe yo should look at patterns like Facade to avoid dependencies and you are back in &quot;standardized output&quot; situation.</p>\n"}],"owner":{"account_id":1922426,"reputation":913,"user_id":1733576,"accept_rate":50,"display_name":"Chris Rohit Brendan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18331,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"answer_count":6,"score":44,"last_activity_date":1689183229,"creation_date":1493983243,"question_id":43803666,"body_markdown":"I&#39;ve recently stumbled upon [Clean Architecture][1], by Uncle Bob, and I&#39;m curious to know whether Interactors can execute other Interactors.\r\n\r\nFor example, these are my Interactors as of now: getEmptyAlbums, getOtherAlbums. Both have Callbacks that return with a list of Albums (An ArrayList of an Album model) respectively.\r\n\r\nAm I allowed to have an Interactor called getAllAlbums that executes the previous two Interactors within it&#39;s run block?\r\n\r\n    @Override\r\n    public void run() {\r\n        getEmptyAlbums.execute();       \r\n    }\r\n\r\n    void onEmptyAlbumsReceived(ArrayList&lt;Album&gt; albums){\r\n         getOtherAlbums.execute;\r\n    }\r\n    void onOtherAlbumsReceived(ArrayList&lt;Album&gt; albums){\r\n         mMainThread.post(new Runnable() {\r\n             callback.onAlbumsReceived(albums);\r\n         }\r\n    });\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Hexagonal_architecture_(software)","title":"Clean Architecture: Combining Interactors","body":"<p>I've recently stumbled upon <a href=\"https://en.m.wikipedia.org/wiki/Hexagonal_architecture_(software)\" rel=\"noreferrer\">Clean Architecture</a>, by Uncle Bob, and I'm curious to know whether Interactors can execute other Interactors.</p>\n<p>For example, these are my Interactors as of now: getEmptyAlbums, getOtherAlbums. Both have Callbacks that return with a list of Albums (An ArrayList of an Album model) respectively.</p>\n<p>Am I allowed to have an Interactor called getAllAlbums that executes the previous two Interactors within it's run block?</p>\n<pre><code>@Override\npublic void run() {\n    getEmptyAlbums.execute();       \n}\n\nvoid onEmptyAlbumsReceived(ArrayList&lt;Album&gt; albums){\n     getOtherAlbums.execute;\n}\nvoid onOtherAlbumsReceived(ArrayList&lt;Album&gt; albums){\n     mMainThread.post(new Runnable() {\n         callback.onAlbumsReceived(albums);\n     }\n});\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":24532734,"reputation":1,"user_id":21143328,"display_name":"Jesus Liscano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689183060,"creation_date":1689183060,"question_id":76673120,"body_markdown":"I am making a launcher type application where I request administrator permissions, but I also need administrator permissions in the profile, I found the way and it is with\r\n`adb shell dpm set-device-owner [your.package]/.DeviceAdminReceiver`, \r\nbut that is in a console from the pc.\r\n\r\nIs there a way to do it from java or some alternative to have administrator permissions in the device profile?\r\n\r\n\r\n`adb shell dpm set-device-owner [your.package]/.DeviceAdminReceiver`, ","title":"You can run &quot;adb shell dpm set-profile-owner&quot; from java android?","body":"<p>I am making a launcher type application where I request administrator permissions, but I also need administrator permissions in the profile, I found the way and it is with\n<code>adb shell dpm set-device-owner [your.package]/.DeviceAdminReceiver</code>,\nbut that is in a console from the pc.</p>\n<p>Is there a way to do it from java or some alternative to have administrator permissions in the device profile?</p>\n<p><code>adb shell dpm set-device-owner [your.package]/.DeviceAdminReceiver</code>,</p>\n"},{"tags":["java","cucumber","testng","assertion","test-suite"],"comments":[{"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"score":0,"creation_date":1689229798,"post_id":76673041,"comment_id":135184321,"body_markdown":"Without knowing more about your tests and the system under test it going to be hard for us to help you find the root cause of your flaky tests. Common causes can include: timeouts, asynch, race conditions, data being manipulated by other tests, not being in control of tests&#39; preconditions (data/state), environment issues, etc. I would start by check which scenarios are flaky and what (if anything) they have in common that might be the underlying cause of their flakiness.","body":"Without knowing more about your tests and the system under test it going to be hard for us to help you find the root cause of your flaky tests. Common causes can include: timeouts, asynch, race conditions, data being manipulated by other tests, not being in control of tests&#39; preconditions (data/state), environment issues, etc. I would start by check which scenarios are flaky and what (if anything) they have in common that might be the underlying cause of their flakiness."}],"owner":{"account_id":28289284,"reputation":1,"user_id":21629699,"display_name":"Garry-anonymous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689182762,"creation_date":1689182369,"question_id":76673041,"body_markdown":"I have been running Cucumber TestNG framework. Whenever i execute suite on remote machine (on one of the AWS instance), some times suite runs perfectly fine without any issues.\r\nBut most of the times 2-3 test cases fails and gets the below error.\r\nIt doesn&#39;t fail because of any element identification. It&#39;s really hard to find out the exact cause. Its very intermittent.\r\nHas anyone faced this issue?\r\nYour help much appreciated!\r\n\r\nFramework: Cucumber TestNG\r\nJava version: 8\r\nCucumber Version:\r\n```\r\n&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n&lt;version&gt;7.3.4&lt;/version&gt;\r\n\t\t\t\r\nCucumber-TestNG version:\r\n&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n&lt;version&gt;7.3.4&lt;/version&gt;\r\n`\r\n&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n&lt;version&gt;4.9.0&lt;/version&gt;\r\n\r\n````\r\n\r\nActual Error:\r\n\r\n    java.lang.AssertionError\r\n    \tat com.google.gson.internal.LinkedTreeMap.replaceInParent(LinkedTreeMap.java:318)\r\n    `\tat com.google.gson.internal.LinkedTreeMap.removeInternal(LinkedTreeMap.java:291)\r\n    \tat com.google.gson.internal.LinkedTreeMap.removeInternalByKey(LinkedTreeMap.java:302)\r\n    \tat com.google.gson.internal.LinkedTreeMap.remove(LinkedTreeMap.java:134)\r\n    \tat com.aventstack.extentreports.gherkin.GherkinDialect.&lt;init&gt;(GherkinDialect.java:25)\r\n    \tat com.aventstack.extentreports.gherkin.GherkinDialectManager.setLanguage(GherkinDialectManager.java:76)\r\n    \tat com.aventstack.extentreports.ExtentReports.setGherkinDialect(ExtentReports.java:446)\r\n    \tat com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter.createFeature(ExtentCucumberAdapter.java:314)\r\n    \tat com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter.handleStartOfFeature(ExtentCucumberAdapter.java:307)\r\n    \tat com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter.handleTestCaseStarted(ExtentCucumberAdapter.java:161)\r\n    \tat com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter.access$100(ExtentCucumberAdapter.java:63)\r\n    \tat com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter$3.receive(ExtentCucumberAdapter.java:107)\r\n    \tat com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter$3.receive(ExtentCucumberAdapter.java:104)\r\n    \tat io.cucumber.core.eventbus.AbstractEventPublisher.send(AbstractEventPublisher.java:51)\r\n    \tat io.cucumber.core.eventbus.AbstractEventBus.send(AbstractEventBus.java:12)\r\n    \tat io.cucumber.core.runtime.SynchronizedEventBus.send(SynchronizedEventBus.java:47)\r\n    \tat io.cucumber.core.runtime.ThreadLocalRunnerSupplier$LocalEventBus.send(ThreadLocalRunnerSupplier.java:62)\r\n    \tat io.cucumber.core.runner.TestCase.emitTestCaseStarted(TestCase.java:206)\r\n    \tat io.cucumber.core.runner.TestCase.run(TestCase.java:72)\r\n    \tat io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n    \tat io.cucumber.testng.TestNGCucumberRunner.lambda$runScenario$1(TestNGCucumberRunner.java:132)\r\n    \tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:130)\r\n    \tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n    \tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:130)\r\n    \tat io.cucumber.testng.TestNGCucumberRunner.runScenario(TestNGCucumberRunner.java:129)\r\n    \tat io.cucumber.testng.AbstractTestNGCucumberTests.runScenario(AbstractTestNGCucumberTests.java:35)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    ... Removed 9 stack frames\r\n\r\nI have tried locally and those works fine. But fails on remote machine.","title":"Getting &quot;java.lang.AssertionError&quot; while running scripts using Cucumebr TestNG Framework. It appears intermittently with different cases","body":"<p>I have been running Cucumber TestNG framework. Whenever i execute suite on remote machine (on one of the AWS instance), some times suite runs perfectly fine without any issues.\nBut most of the times 2-3 test cases fails and gets the below error.\nIt doesn't fail because of any element identification. It's really hard to find out the exact cause. Its very intermittent.\nHas anyone faced this issue?\nYour help much appreciated!</p>\n<p>Framework: Cucumber TestNG\nJava version: 8\nCucumber Version:</p>\n<pre><code>&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n&lt;version&gt;7.3.4&lt;/version&gt;\n            \nCucumber-TestNG version:\n&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n&lt;version&gt;7.3.4&lt;/version&gt;\n`\n&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n&lt;version&gt;4.9.0&lt;/version&gt;\n\n</code></pre>\n<p>Actual Error:</p>\n<pre><code>java.lang.AssertionError\n    at com.google.gson.internal.LinkedTreeMap.replaceInParent(LinkedTreeMap.java:318)\n`   at com.google.gson.internal.LinkedTreeMap.removeInternal(LinkedTreeMap.java:291)\n    at com.google.gson.internal.LinkedTreeMap.removeInternalByKey(LinkedTreeMap.java:302)\n    at com.google.gson.internal.LinkedTreeMap.remove(LinkedTreeMap.java:134)\n    at com.aventstack.extentreports.gherkin.GherkinDialect.&lt;init&gt;(GherkinDialect.java:25)\n    at com.aventstack.extentreports.gherkin.GherkinDialectManager.setLanguage(GherkinDialectManager.java:76)\n    at com.aventstack.extentreports.ExtentReports.setGherkinDialect(ExtentReports.java:446)\n    at com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter.createFeature(ExtentCucumberAdapter.java:314)\n    at com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter.handleStartOfFeature(ExtentCucumberAdapter.java:307)\n    at com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter.handleTestCaseStarted(ExtentCucumberAdapter.java:161)\n    at com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter.access$100(ExtentCucumberAdapter.java:63)\n    at com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter$3.receive(ExtentCucumberAdapter.java:107)\n    at com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter$3.receive(ExtentCucumberAdapter.java:104)\n    at io.cucumber.core.eventbus.AbstractEventPublisher.send(AbstractEventPublisher.java:51)\n    at io.cucumber.core.eventbus.AbstractEventBus.send(AbstractEventBus.java:12)\n    at io.cucumber.core.runtime.SynchronizedEventBus.send(SynchronizedEventBus.java:47)\n    at io.cucumber.core.runtime.ThreadLocalRunnerSupplier$LocalEventBus.send(ThreadLocalRunnerSupplier.java:62)\n    at io.cucumber.core.runner.TestCase.emitTestCaseStarted(TestCase.java:206)\n    at io.cucumber.core.runner.TestCase.run(TestCase.java:72)\n    at io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\n    at io.cucumber.testng.TestNGCucumberRunner.lambda$runScenario$1(TestNGCucumberRunner.java:132)\n    at io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:130)\n    at io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\n    at io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:130)\n    at io.cucumber.testng.TestNGCucumberRunner.runScenario(TestNGCucumberRunner.java:129)\n    at io.cucumber.testng.AbstractTestNGCucumberTests.runScenario(AbstractTestNGCucumberTests.java:35)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n... Removed 9 stack frames\n</code></pre>\n<p>I have tried locally and those works fine. But fails on remote machine.</p>\n"},{"tags":["java","spring","spring-security","jwt"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1689164931,"post_id":76670472,"comment_id":135174251,"body_markdown":"How do you know they are not triggered - have you tried settings breakpoints with a debugger? What do the logs show?","body":"How do you know they are not triggered - have you tried settings breakpoints with a debugger? What do the logs show?"},{"owner":{"account_id":13378005,"reputation":11,"user_id":9654280,"display_name":"Hajji Achref"},"score":0,"creation_date":1689165383,"post_id":76670472,"comment_id":135174363,"body_markdown":"Usign System.out.println() as shown in code section above. nothing is printed so i know they are not triggered","body":"Usign System.out.println() as shown in code section above. nothing is printed so i know they are not triggered"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1689165607,"post_id":76670472,"comment_id":135174418,"body_markdown":"i hope you are aware that what you have built is very unsafe. Using JWTs as sessions is very unsafe, and also spring already has handling for JWTs built in, so instead of following poor blogposts, please read the spring documentation and the chapter on JWTs","body":"i hope you are aware that what you have built is very unsafe. Using JWTs as sessions is very unsafe, and also spring already has handling for JWTs built in, so instead of following poor blogposts, please read the spring documentation and the chapter on JWTs"},{"owner":{"account_id":13378005,"reputation":11,"user_id":9654280,"display_name":"Hajji Achref"},"score":0,"creation_date":1689166116,"post_id":76670472,"comment_id":135174544,"body_markdown":"@Toerktumlare can you explain more please?","body":"@Toerktumlare can you explain more please?"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1689172095,"post_id":76670472,"comment_id":135176200,"body_markdown":"if you just google you can read all about it. https://developer.okta.com/blog/2017/08/17/why-jwts-suck-as-session-tokens i suggest you read about what a session is, and then read what a JWT is. JWTs are tokens they are not meant to be a session, and you are exposing yourself for the risk of session hijacking and XSS","body":"if you just google you can read all about it. <a href=\"https://developer.okta.com/blog/2017/08/17/why-jwts-suck-as-session-tokens\" rel=\"nofollow noreferrer\">developer.okta.com/blog/2017/08/17/&hellip;</a> i suggest you read about what a session is, and then read what a JWT is. JWTs are tokens they are not meant to be a session, and you are exposing yourself for the risk of session hijacking and XSS"}],"answers":[{"comments":[{"owner":{"account_id":13378005,"reputation":11,"user_id":9654280,"display_name":"Hajji Achref"},"score":0,"creation_date":1689236132,"post_id":76673055,"comment_id":135185504,"body_markdown":"I&#39;m using `/login` url to test the `JwtAuthenticationFilter` and the method `attemptAuthentication()` is not called.\nAnd i&#39;m using other urls to test the `JwtAuthorizationFilter`.\nI tried changing the order of filters \n` .addFilterBefore(new JwtAuthenticationFilter(authenticationManager()), UsernamePasswordAuthenticationFilter.class)\n.addFilterBefore(new JwtAuthorizationFilter(), JwtAuthenticationFilter.class);\n`  but it doesn&#39;t fix the problem","body":"I&#39;m using <code>&#47;login</code> url to test the <code>JwtAuthenticationFilter</code> and the method <code>attemptAuthentication()</code> is not called. And i&#39;m using other urls to test the <code>JwtAuthorizationFilter</code>. I tried changing the order of filters  ` .addFilterBefore(new JwtAuthenticationFilter(authenticationManager()), UsernamePasswordAuthenticationFilter.class) .addFilterBefore(new JwtAuthorizationFilter(), JwtAuthenticationFilter.class); `  but it doesn&#39;t fix the problem"}],"tags":[],"owner":{"account_id":16437617,"reputation":19,"user_id":11874829,"display_name":"ownerofglory"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689182534,"creation_date":1689182534,"answer_id":76673055,"question_id":76670472,"body_markdown":"Your `JwtAuthorizationFilter` should be invoked for every request that matches the security configuration you&#39;ve provided.\r\n\r\nRemember that filters are configured to run in a particular order. The `OncePerRequestFilter` ensures that a specific filter is executed at most once for a single request.\r\n\r\nHowever, the filter chain works in such a way that if an earlier filter in the chain has handled the request and doesn&#39;t call `doFilter` of the `FilterChain`, the later filters in the chain won&#39;t get called.\r\n\r\nOne potential issue could be related to the URL patterns you&#39;re testing. Remember that you&#39;re allowing all requests to `/login` without authentication. So, if you&#39;re testing with `/login`, your `JwtAuthorizationFilter` won&#39;t get called because you&#39;re permitting all requests to `/login`\r\n\r\nAlso, your `JwtAuthorizationFilter` is added before the `UsernamePasswordAuthenticationFilter`. However, the `JwtAuthenticationFilter` you&#39;ve defined is added after `UsernamePasswordAuthenticationFilter` which is not the usual case in JWT authentication scenarios. Usually, `JwtAuthenticationFilter` is used instead of `UsernamePasswordAuthenticationFilter`","title":"Spring Security filters not triggered","body":"<p>Your <code>JwtAuthorizationFilter</code> should be invoked for every request that matches the security configuration you've provided.</p>\n<p>Remember that filters are configured to run in a particular order. The <code>OncePerRequestFilter</code> ensures that a specific filter is executed at most once for a single request.</p>\n<p>However, the filter chain works in such a way that if an earlier filter in the chain has handled the request and doesn't call <code>doFilter</code> of the <code>FilterChain</code>, the later filters in the chain won't get called.</p>\n<p>One potential issue could be related to the URL patterns you're testing. Remember that you're allowing all requests to <code>/login</code> without authentication. So, if you're testing with <code>/login</code>, your <code>JwtAuthorizationFilter</code> won't get called because you're permitting all requests to <code>/login</code></p>\n<p>Also, your <code>JwtAuthorizationFilter</code> is added before the <code>UsernamePasswordAuthenticationFilter</code>. However, the <code>JwtAuthenticationFilter</code> you've defined is added after <code>UsernamePasswordAuthenticationFilter</code> which is not the usual case in JWT authentication scenarios. Usually, <code>JwtAuthenticationFilter</code> is used instead of <code>UsernamePasswordAuthenticationFilter</code></p>\n"}],"owner":{"account_id":13378005,"reputation":11,"user_id":9654280,"display_name":"Hajji Achref"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689182534,"creation_date":1689164459,"question_id":76670472,"body_markdown":"I have implemented an authentication/authorization mecanism in my spring java application.\r\nThis is my config class:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Autowired\r\n\tprivate CustomUserDetailsService userDetailsService;\r\n\r\n\t@Override\r\n\tpublic void configure(HttpSecurity http) throws Exception\r\n\t{\r\n\t\thttp.csrf().disable()\r\n\t\t\t\t\t\t.authorizeRequests()\r\n\t\t\t\t\t\t.antMatchers(&quot;/login&quot;).permitAll()\r\n\t\t\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t\t\t\t.and()\r\n\t\t\t\t\t\t.addFilter(new JwtAuthenticationFilter(authenticationManager()))\r\n\t\t\t\t\t\t.addFilterBefore(new JwtAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class)\r\n\t\t\t\t\t\t.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic BCryptPasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\t@Bean\r\n\t@Override\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\treturn super.authenticationManagerBean();\r\n\t}\r\n\r\n}\r\n```\r\nAnd those are my filters:\r\n\r\n```\r\npublic class JwtAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n\r\n  private final AuthenticationManager authenticationManager;\r\n\r\n  public JwtAuthenticationFilter(AuthenticationManager authenticationManager) {\r\n    this.authenticationManager = authenticationManager;\r\n  }\r\n\r\n  @Override\r\n  public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n    try {\r\n      // Parse the user&#39;s credentials from the request body\r\n      LoginRequest loginRequest = new ObjectMapper().readValue(request.getInputStream(), LoginRequest.class);\r\n\r\n      System.out.println(&quot;loginRequest: &quot; + loginRequest);\r\n\r\n      // Create an authentication token with the user&#39;s credentials\r\n      UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(\r\n              loginRequest.getUsername(),\r\n              loginRequest.getPassword(),\r\n              new ArrayList&lt;&gt;()\r\n      );\r\n\r\n      // Authenticate the user\r\n      return authenticationManager.authenticate(authenticationToken);\r\n    } catch (IOException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n  }\r\n\r\n  @Override\r\n  protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException {\r\n    // Get the authenticated user&#39;s details\r\n    BoUser userDetails = (BoUser) authResult.getPrincipal();\r\n\r\n    // Create a JWT token for the user\r\n    String token = JwtTokenUtil.generateToken(userDetails);\r\n\r\n    // Add the token to the response headers\r\n    response.addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n  }\r\n}\r\n```\r\n\r\n```\r\npublic class JwtAuthorizationFilter extends OncePerRequestFilter {\r\n\r\n  @Override\r\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n    System.out.println(&quot;do filter internal&quot;);\r\n    if (request.getMethod().equals(&quot;OPTIONS&quot;)) {\r\n      response.setStatus(HttpServletResponse.SC_OK);\r\n    }\r\n    else {\r\n      String jwtToken = request.getHeader(SecParams.JWT_HEADER_NAME);\r\n      System.out.println(&quot;jwtToken = &quot; + jwtToken);\r\n      if (jwtToken == null || !jwtToken.startsWith(SecParams.HEADER_PREFIX)) {\r\n        System.out.println(&quot;null or doesn&#39;t start with Bearer&quot;);\r\n        filterChain.doFilter(request, response);\r\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n        return;\r\n      }\r\n      JWTVerifier jwtVerifier = JWT.require(Algorithm.HMAC256(SecParams.SECRET)).build();\r\n      System.out.println(&quot;jwtVerifier = &quot; + jwtVerifier);\r\n      DecodedJWT decodedJWT = jwtVerifier.verify(jwtToken.substring(SecParams.HEADER_PREFIX.length()));\r\n      System.out.println(&quot;decodedJWT = &quot; + decodedJWT);\r\n      String email = decodedJWT.getSubject();\r\n      System.out.println(&quot;email = &quot; + email);\r\n      List&lt;String&gt; roles = decodedJWT.getClaims().get(&quot;roles&quot;).asList(String.class);\r\n      System.out.println(&quot;roles = &quot; + roles);\r\n      Collection&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n      roles.forEach(rn -&gt; {\r\n        authorities.add(new SimpleGrantedAuthority(rn));\r\n      });\r\n      UsernamePasswordAuthenticationToken user = new UsernamePasswordAuthenticationToken(email, null, authorities);\r\n      SecurityContextHolder.getContext().setAuthentication(user);\r\n      filterChain.doFilter(request, response);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe problem is that those filters are not triggered when sending requests; so i still can access resources without the need to send a token in the request.\r\n\r\n\r\n\r\n\r\n\r\ni want to know why my filters are not triggered and how to fix that","title":"Spring Security filters not triggered","body":"<p>I have implemented an authentication/authorization mecanism in my spring java application.\nThis is my config class:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private CustomUserDetailsService userDetailsService;\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception\n    {\n        http.csrf().disable()\n                        .authorizeRequests()\n                        .antMatchers(&quot;/login&quot;).permitAll()\n                        .anyRequest().authenticated()\n                        .and()\n                        .addFilter(new JwtAuthenticationFilter(authenticationManager()))\n                        .addFilterBefore(new JwtAuthorizationFilter(), UsernamePasswordAuthenticationFilter.class)\n                        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n}\n</code></pre>\n<p>And those are my filters:</p>\n<pre><code>public class JwtAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n\n  private final AuthenticationManager authenticationManager;\n\n  public JwtAuthenticationFilter(AuthenticationManager authenticationManager) {\n    this.authenticationManager = authenticationManager;\n  }\n\n  @Override\n  public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n    try {\n      // Parse the user's credentials from the request body\n      LoginRequest loginRequest = new ObjectMapper().readValue(request.getInputStream(), LoginRequest.class);\n\n      System.out.println(&quot;loginRequest: &quot; + loginRequest);\n\n      // Create an authentication token with the user's credentials\n      UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(\n              loginRequest.getUsername(),\n              loginRequest.getPassword(),\n              new ArrayList&lt;&gt;()\n      );\n\n      // Authenticate the user\n      return authenticationManager.authenticate(authenticationToken);\n    } catch (IOException e) {\n      throw new RuntimeException(e);\n    }\n  }\n\n  @Override\n  protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException {\n    // Get the authenticated user's details\n    BoUser userDetails = (BoUser) authResult.getPrincipal();\n\n    // Create a JWT token for the user\n    String token = JwtTokenUtil.generateToken(userDetails);\n\n    // Add the token to the response headers\n    response.addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n  }\n}\n</code></pre>\n<pre><code>public class JwtAuthorizationFilter extends OncePerRequestFilter {\n\n  @Override\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n    System.out.println(&quot;do filter internal&quot;);\n    if (request.getMethod().equals(&quot;OPTIONS&quot;)) {\n      response.setStatus(HttpServletResponse.SC_OK);\n    }\n    else {\n      String jwtToken = request.getHeader(SecParams.JWT_HEADER_NAME);\n      System.out.println(&quot;jwtToken = &quot; + jwtToken);\n      if (jwtToken == null || !jwtToken.startsWith(SecParams.HEADER_PREFIX)) {\n        System.out.println(&quot;null or doesn't start with Bearer&quot;);\n        filterChain.doFilter(request, response);\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n        return;\n      }\n      JWTVerifier jwtVerifier = JWT.require(Algorithm.HMAC256(SecParams.SECRET)).build();\n      System.out.println(&quot;jwtVerifier = &quot; + jwtVerifier);\n      DecodedJWT decodedJWT = jwtVerifier.verify(jwtToken.substring(SecParams.HEADER_PREFIX.length()));\n      System.out.println(&quot;decodedJWT = &quot; + decodedJWT);\n      String email = decodedJWT.getSubject();\n      System.out.println(&quot;email = &quot; + email);\n      List&lt;String&gt; roles = decodedJWT.getClaims().get(&quot;roles&quot;).asList(String.class);\n      System.out.println(&quot;roles = &quot; + roles);\n      Collection&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n      roles.forEach(rn -&gt; {\n        authorities.add(new SimpleGrantedAuthority(rn));\n      });\n      UsernamePasswordAuthenticationToken user = new UsernamePasswordAuthenticationToken(email, null, authorities);\n      SecurityContextHolder.getContext().setAuthentication(user);\n      filterChain.doFilter(request, response);\n    }\n  }\n}\n</code></pre>\n<p>The problem is that those filters are not triggered when sending requests; so i still can access resources without the need to send a token in the request.</p>\n<p>i want to know why my filters are not triggered and how to fix that</p>\n"},{"tags":["java","junit","mocking"],"comments":[{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1689139710,"post_id":76667269,"comment_id":135169015,"body_markdown":"could you please share how you your test looks like - it is not so clear how you inject the mock from your question....","body":"could you please share how you your test looks like - it is not so clear how you inject the mock from your question...."},{"owner":{"account_id":24207140,"reputation":135,"user_id":18164170,"display_name":"Pramit Pakhira"},"score":1,"creation_date":1689142238,"post_id":76667269,"comment_id":135169333,"body_markdown":"Sure, updated above.","body":"Sure, updated above."}],"owner":{"account_id":24207140,"reputation":135,"user_id":18164170,"display_name":"Pramit Pakhira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689181166,"creation_date":1689138127,"question_id":76667269,"body_markdown":"I have a class definition like below,\r\n\r\n    @Component\r\n    @EnableKafka\r\n    @Slf4j\r\n    @ConditionalOnProperty(prefix = &quot;load&quot;, name = &quot;kafka.config&quot;, havingValue = &quot;True&quot;)\r\n    public class InsightApiKafkaScheduler extends InsightsAPISchedulerService {\r\n    \r\n    \t@Value(&quot;${kafka.source.topic}&quot;)\r\n    \tString sourceTopic;\r\n    \r\n    \tprivate final ConsumerFactory&lt;String,String&gt; consumerFactory;\r\n    \tList&lt;String&gt; insightsMessages;\r\n    \r\n    \tprivate final CompanyDeviceService deviceServiceImpl;\r\n    \tprivate final CompanyDeviceService companyServiceImpl;\r\n    \tprivate final WaterMarkUpdationServiceImpl waterMarkUpdationServiceImpl;\r\n    \tprivate final RestService restService;\r\n    \tprivate final KafkaService kafkaService;\r\n    \r\n    \t@Autowired\r\n    \tpublic InsightApiKafkaScheduler(ConsumerFactory&lt;String, String&gt; consumerFactory, CompanyDeviceService deviceServiceImpl, CompanyDeviceService companyServiceImpl, WaterMarkUpdationServiceImpl waterMarkUpdationServiceImpl, RestService restService, KafkaService kafkaService) {\r\n    \t\tthis.consumerFactory = consumerFactory;\r\n    \t\tthis.deviceServiceImpl = deviceServiceImpl;\r\n    \t\tthis.companyServiceImpl = companyServiceImpl;\r\n    \t\tthis.restService = restService;\r\n    \t\tthis.kafkaService = kafkaService;\r\n    \t\tthis.auditPayload = new ArrayList&lt;&gt;();\r\n    \t\tthis.waterMarkUpdationServiceImpl = waterMarkUpdationServiceImpl;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \t@Scheduled(cron = &quot;${insights.api.schedule}&quot;)\r\n    \tpublic void consumeMessages(){\r\n    \t\tinsightsMessages = new ArrayList&lt;&gt;();\r\n    \t\tlog.debug(String.valueOf(consumerFactory.getConfigurationProperties()));\r\n    \t\tKafkaConsumer&lt;String,String&gt; kafkaConsumer = new KafkaConsumer&lt;&gt;(consumerFactory.getConfigurationProperties());\r\n    \t\t...\r\n    \t\tConsumerRecords&lt;String,String&gt; consumerRecords = kafkaConsumer.poll(Duration.ofMillis(20000L));\r\n    \t\t...\r\n    \t}\r\n    ...\r\n    }\r\n\r\nNow when I am trying to write a test case for `consumeMessages()`, I&#39;ll need to create a mock object of `KafkaConsumer` in order to further mock the `consumerRecords` data returned by `kafkaConsumer.poll()`. Since `KafkaConsumer` object is being created here using `new`, I tried using below to get a mock,\r\n\r\n    KafkaConsumer&lt;String, String&gt; kafkaConsumer = Mockito.mock(KafkaConsumer.class);\r\n    PowerMockito.whenNew(KafkaConsumer.class).withAnyArguments().thenReturn(kafkaConsumer);\r\n\r\nHowever, it does not work and the program goes on to create a real object of `KafkaConsumer` while control goes in the actual code.\r\n\r\nProvided I&#39;ll not be able to make any changes/refactoring in the actual code, how can I create a mock object of `KafkaConsumer` here? \r\n\r\nEdit: Here is how I am trying to write the test case,\r\n\r\n    \r\n    \r\n    @RunWith(SpringRunner.class)\r\n    public class InsightApiKafkaSchedulerTest {\r\n    \r\n    \t\r\n        @SuppressWarnings(&quot;rawtypes&quot;)\r\n    \t@Mock\r\n        private ConsumerFactory&lt;String,String&gt; consumerFactory;\r\n    \r\n        @Mock\r\n        private WaterMarkUpdationServiceImpl waterMarkUpdationServiceImpl;\r\n    \r\n        @Mock\r\n        private KafkaConsumer&lt;String, String&gt; kafkaConsumer;\r\n    \r\n        @Mock\r\n        private CompanyServiceImpl companyServiceImpl;\r\n    \r\n        @Mock\r\n        private DeviceServiceImpl deviceServiceImpl;\r\n    \r\n        @Mock\r\n        private RestService restService;\r\n    \r\n        @Mock\r\n        private KafkaService kafkaService;\r\n        \r\n        @InjectMocks\r\n        private InsightApiKafkaScheduler insightApiKafkaScheduler;\r\n        \r\n        @Before\r\n        public void setup(){\r\n            ReflectionTestUtils.setField(insightApiKafkaScheduler, &quot;deviceServiceImpl&quot;, deviceServiceImpl);\r\n            ReflectionTestUtils.setField(insightApiKafkaScheduler, &quot;companyServiceImpl&quot;, companyServiceImpl);\r\n            ReflectionTestUtils.setField(insightApiKafkaScheduler,&quot;waterMarkUpdationServiceImpl&quot;, waterMarkUpdationServiceImpl);\r\n            ReflectionTestUtils.setField(insightApiKafkaScheduler,&quot;consumerFactory&quot;,consumerFactory);\r\n            ReflectionTestUtils.setField(insightApiKafkaScheduler,&quot;restService&quot;, restService);\r\n            ReflectionTestUtils.setField(insightApiKafkaScheduler,&quot;kafkaService&quot;, kafkaService);\r\n        }\r\n    \r\n        @Test\r\n        public void testConsumeMessages() throws Exception {\r\n            long startOffset = 10L;\r\n            ConsumerRecords&lt;String, String&gt; consumerRecords = buildConsumerRecords();\r\n    \r\n        \tHashMap&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n            config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n            config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,StringDeserializer.class);\r\n            config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,&quot;my-server.com:9092&quot;);\r\n            \r\n            when(consumerFactory.getConfigurationProperties()).thenReturn(config);\r\n            PowerMockito.whenNew(KafkaConsumer.class).withAnyArguments().thenReturn(kafkaConsumer);\r\n            TopicPartition topicPartition = new TopicPartition(&quot;my-source-topic&quot;, 0);\r\n            PowerMockito.whenNew(TopicPartition.class).withAnyArguments().thenReturn(topicPartition);\r\n            \r\n            when(kafkaConsumer.poll(any(Duration.class))).thenReturn(consumerRecords);\r\n            when(waterMarkUpdationServiceImpl.getWatermark()).thenReturn(startOffset);\r\n            doNothing().when(companyServiceImpl).sendMessages(any(), any());\r\n            doNothing().when(kafkaService).commitOffsetsToKafka(any(), any(), any());\r\n            doNothing().when(waterMarkUpdationServiceImpl).updateProcessTracking(any());\r\n    \r\n            insightApiKafkaScheduler.consumeMessages();\r\n        }\r\n    \r\n        private ConsumerRecords&lt;String, String&gt; buildConsumerRecords() {\r\n            List&lt;String&gt; messages = new ArrayList&lt;&gt;();\r\n            \r\n        \t// populates messages with test data\r\n        \t\r\n    \t\treturn records;\r\n        }\r\n    }\r\n\r\n","title":"Unable to create mock object where the actual object is being created using new in the main code","body":"<p>I have a class definition like below,</p>\n<pre><code>@Component\n@EnableKafka\n@Slf4j\n@ConditionalOnProperty(prefix = &quot;load&quot;, name = &quot;kafka.config&quot;, havingValue = &quot;True&quot;)\npublic class InsightApiKafkaScheduler extends InsightsAPISchedulerService {\n\n    @Value(&quot;${kafka.source.topic}&quot;)\n    String sourceTopic;\n\n    private final ConsumerFactory&lt;String,String&gt; consumerFactory;\n    List&lt;String&gt; insightsMessages;\n\n    private final CompanyDeviceService deviceServiceImpl;\n    private final CompanyDeviceService companyServiceImpl;\n    private final WaterMarkUpdationServiceImpl waterMarkUpdationServiceImpl;\n    private final RestService restService;\n    private final KafkaService kafkaService;\n\n    @Autowired\n    public InsightApiKafkaScheduler(ConsumerFactory&lt;String, String&gt; consumerFactory, CompanyDeviceService deviceServiceImpl, CompanyDeviceService companyServiceImpl, WaterMarkUpdationServiceImpl waterMarkUpdationServiceImpl, RestService restService, KafkaService kafkaService) {\n        this.consumerFactory = consumerFactory;\n        this.deviceServiceImpl = deviceServiceImpl;\n        this.companyServiceImpl = companyServiceImpl;\n        this.restService = restService;\n        this.kafkaService = kafkaService;\n        this.auditPayload = new ArrayList&lt;&gt;();\n        this.waterMarkUpdationServiceImpl = waterMarkUpdationServiceImpl;\n    }\n\n    @Override\n    @Scheduled(cron = &quot;${insights.api.schedule}&quot;)\n    public void consumeMessages(){\n        insightsMessages = new ArrayList&lt;&gt;();\n        log.debug(String.valueOf(consumerFactory.getConfigurationProperties()));\n        KafkaConsumer&lt;String,String&gt; kafkaConsumer = new KafkaConsumer&lt;&gt;(consumerFactory.getConfigurationProperties());\n        ...\n        ConsumerRecords&lt;String,String&gt; consumerRecords = kafkaConsumer.poll(Duration.ofMillis(20000L));\n        ...\n    }\n...\n}\n</code></pre>\n<p>Now when I am trying to write a test case for <code>consumeMessages()</code>, I'll need to create a mock object of <code>KafkaConsumer</code> in order to further mock the <code>consumerRecords</code> data returned by <code>kafkaConsumer.poll()</code>. Since <code>KafkaConsumer</code> object is being created here using <code>new</code>, I tried using below to get a mock,</p>\n<pre><code>KafkaConsumer&lt;String, String&gt; kafkaConsumer = Mockito.mock(KafkaConsumer.class);\nPowerMockito.whenNew(KafkaConsumer.class).withAnyArguments().thenReturn(kafkaConsumer);\n</code></pre>\n<p>However, it does not work and the program goes on to create a real object of <code>KafkaConsumer</code> while control goes in the actual code.</p>\n<p>Provided I'll not be able to make any changes/refactoring in the actual code, how can I create a mock object of <code>KafkaConsumer</code> here?</p>\n<p>Edit: Here is how I am trying to write the test case,</p>\n<pre><code>@RunWith(SpringRunner.class)\npublic class InsightApiKafkaSchedulerTest {\n\n    \n    @SuppressWarnings(&quot;rawtypes&quot;)\n    @Mock\n    private ConsumerFactory&lt;String,String&gt; consumerFactory;\n\n    @Mock\n    private WaterMarkUpdationServiceImpl waterMarkUpdationServiceImpl;\n\n    @Mock\n    private KafkaConsumer&lt;String, String&gt; kafkaConsumer;\n\n    @Mock\n    private CompanyServiceImpl companyServiceImpl;\n\n    @Mock\n    private DeviceServiceImpl deviceServiceImpl;\n\n    @Mock\n    private RestService restService;\n\n    @Mock\n    private KafkaService kafkaService;\n    \n    @InjectMocks\n    private InsightApiKafkaScheduler insightApiKafkaScheduler;\n    \n    @Before\n    public void setup(){\n        ReflectionTestUtils.setField(insightApiKafkaScheduler, &quot;deviceServiceImpl&quot;, deviceServiceImpl);\n        ReflectionTestUtils.setField(insightApiKafkaScheduler, &quot;companyServiceImpl&quot;, companyServiceImpl);\n        ReflectionTestUtils.setField(insightApiKafkaScheduler,&quot;waterMarkUpdationServiceImpl&quot;, waterMarkUpdationServiceImpl);\n        ReflectionTestUtils.setField(insightApiKafkaScheduler,&quot;consumerFactory&quot;,consumerFactory);\n        ReflectionTestUtils.setField(insightApiKafkaScheduler,&quot;restService&quot;, restService);\n        ReflectionTestUtils.setField(insightApiKafkaScheduler,&quot;kafkaService&quot;, kafkaService);\n    }\n\n    @Test\n    public void testConsumeMessages() throws Exception {\n        long startOffset = 10L;\n        ConsumerRecords&lt;String, String&gt; consumerRecords = buildConsumerRecords();\n\n        HashMap&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,StringDeserializer.class);\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,&quot;my-server.com:9092&quot;);\n        \n        when(consumerFactory.getConfigurationProperties()).thenReturn(config);\n        PowerMockito.whenNew(KafkaConsumer.class).withAnyArguments().thenReturn(kafkaConsumer);\n        TopicPartition topicPartition = new TopicPartition(&quot;my-source-topic&quot;, 0);\n        PowerMockito.whenNew(TopicPartition.class).withAnyArguments().thenReturn(topicPartition);\n        \n        when(kafkaConsumer.poll(any(Duration.class))).thenReturn(consumerRecords);\n        when(waterMarkUpdationServiceImpl.getWatermark()).thenReturn(startOffset);\n        doNothing().when(companyServiceImpl).sendMessages(any(), any());\n        doNothing().when(kafkaService).commitOffsetsToKafka(any(), any(), any());\n        doNothing().when(waterMarkUpdationServiceImpl).updateProcessTracking(any());\n\n        insightApiKafkaScheduler.consumeMessages();\n    }\n\n    private ConsumerRecords&lt;String, String&gt; buildConsumerRecords() {\n        List&lt;String&gt; messages = new ArrayList&lt;&gt;();\n        \n        // populates messages with test data\n        \n        return records;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","rest","spring-data-jpa","spring-repositories"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683011363,"creation_date":1683011363,"answer_id":76152497,"question_id":76150808,"body_markdown":"Your interface should be declared as \r\n```java\r\n@NoRepositoryBean\r\npublic interface VerifyingRepo&lt;T, ID&gt; extends JpaRepository&lt;T, ID&gt; {\r\n    @Override\r\n    &lt;S extends T&gt; S save(S s);\r\n}\r\n```","title":"Spring data doesn&#39;t add fragment to repository","body":"<p>Your interface should be declared as</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoRepositoryBean\npublic interface VerifyingRepo&lt;T, ID&gt; extends JpaRepository&lt;T, ID&gt; {\n    @Override\n    &lt;S extends T&gt; S save(S s);\n}\n</code></pre>\n"}],"owner":{"account_id":3092145,"reputation":330,"user_id":2618056,"accept_rate":75,"display_name":"ba3a"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689180439,"creation_date":1682984055,"question_id":76150808,"body_markdown":"I have a Spring repository that I try to customize. I use fragments because I need a spring bean wired to perform my logic.\r\n\r\nHere is the interface I&#39;m using to override the standard logic:\r\n```\r\n@NoRepositoryBean\r\npublic interface VerifyingRepo&lt;T, ID&gt; extends CrudRepository&lt;T, ID&gt;, PagingAndSortingRepository&lt;T, ID&gt; {\r\n    @Override\r\n    &lt;S extends T&gt; S save(S s);\r\n}\r\n```\r\nHere is its implementation:\r\n```\r\npublic class VerifyingRepoImpl&lt;T, ID&gt; extends SimpleJpaRepository&lt;T, ID&gt; implements VerifyingRepo&lt;T, ID&gt; {\r\n    private final MyBean myBean;\r\n\r\n    public VerifyingRepoImpl(MyBean myBean, JpaEntityInformation&lt;T, ?&gt; entityInformation, EntityManager em) {\r\n        super(entityInformation, em);\r\n        this.myBean= myBean;\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public &lt;S extends T&gt; S save(S entity) {\r\n        myBean.customLogic(entity);\r\n        return super.save(entity);\r\n    }\r\n}\r\n```\r\nHere is my repository I&#39;m trying to use:\r\n```\r\n@RepositoryRestResource\r\npublic interface MyRepo extends VerifyingRepo&lt;MyEntity, Long&gt; {\r\n}\r\n```\r\nI expect my custom logic to fire when I&#39;m invoking the `save()` method of `MyRepo` (when I&#39;m posting a dto to it&#39;s representing path). However, Spring instantiates `MyRepo` as `SimpleJpaRepository` and invokes only it&#39;s `save()`\r\n\r\nWhy doesn&#39;t Spring add the fragment with my custom `save()` to the resulting repository instance? It doesn&#39;t even instantiate my class.","title":"Spring data doesn&#39;t add fragment to repository","body":"<p>I have a Spring repository that I try to customize. I use fragments because I need a spring bean wired to perform my logic.</p>\n<p>Here is the interface I'm using to override the standard logic:</p>\n<pre><code>@NoRepositoryBean\npublic interface VerifyingRepo&lt;T, ID&gt; extends CrudRepository&lt;T, ID&gt;, PagingAndSortingRepository&lt;T, ID&gt; {\n    @Override\n    &lt;S extends T&gt; S save(S s);\n}\n</code></pre>\n<p>Here is its implementation:</p>\n<pre><code>public class VerifyingRepoImpl&lt;T, ID&gt; extends SimpleJpaRepository&lt;T, ID&gt; implements VerifyingRepo&lt;T, ID&gt; {\n    private final MyBean myBean;\n\n    public VerifyingRepoImpl(MyBean myBean, JpaEntityInformation&lt;T, ?&gt; entityInformation, EntityManager em) {\n        super(entityInformation, em);\n        this.myBean= myBean;\n    }\n\n    @Override\n    @Transactional\n    public &lt;S extends T&gt; S save(S entity) {\n        myBean.customLogic(entity);\n        return super.save(entity);\n    }\n}\n</code></pre>\n<p>Here is my repository I'm trying to use:</p>\n<pre><code>@RepositoryRestResource\npublic interface MyRepo extends VerifyingRepo&lt;MyEntity, Long&gt; {\n}\n</code></pre>\n<p>I expect my custom logic to fire when I'm invoking the <code>save()</code> method of <code>MyRepo</code> (when I'm posting a dto to it's representing path). However, Spring instantiates <code>MyRepo</code> as <code>SimpleJpaRepository</code> and invokes only it's <code>save()</code></p>\n<p>Why doesn't Spring add the fragment with my custom <code>save()</code> to the resulting repository instance? It doesn't even instantiate my class.</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":2,"creation_date":1440401827,"post_id":32176702,"comment_id":52239292,"body_markdown":"Yes, the answer is `depends`","body":"Yes, the answer is <code>depends</code>"}],"answers":[{"tags":[],"owner":{"account_id":4211407,"reputation":216,"user_id":3448985,"accept_rate":100,"display_name":"Krishnat Molawade"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1440402761,"creation_date":1440402761,"answer_id":32177031,"question_id":32176702,"body_markdown":"In any system not handling exceptions is not a good idea. \r\n\r\nIf you want centralized exception handling then\r\nyou can throw exceptions from multiple parts of application and handle in centralized class/controller\r\n in such cases you can use\r\n\r\n    try{\r\n    } catch(Exception e){\r\n        throw new RuntimeException(&quot;...&quot;)\r\n    }\r\n\r\nin catch you can have custom exception classes with proper message and all\r\n\r\nIf you want handle exceptions right away then you can try\r\n\r\n        try{\r\n    \r\n    } catch(Exception e){\r\n        log.error(&quot;..&quot;)\r\n        return someresult;// -1, empty list or others\r\n    }\r\n\r\nfor e.g. if exception comes in try block you will be returning false otherwise true. Or null or blank message depends on implementation.\r\n\r\nwhen you are re-throwing exception you can use finally to close resultsets/ open stream etc which is good practise","title":"DBUtil - Return error code, msg or throw exception","body":"<p>In any system not handling exceptions is not a good idea. </p>\n\n<p>If you want centralized exception handling then\nyou can throw exceptions from multiple parts of application and handle in centralized class/controller\n in such cases you can use</p>\n\n<pre><code>try{\n} catch(Exception e){\n    throw new RuntimeException(\"...\")\n}\n</code></pre>\n\n<p>in catch you can have custom exception classes with proper message and all</p>\n\n<p>If you want handle exceptions right away then you can try</p>\n\n<pre><code>    try{\n\n} catch(Exception e){\n    log.error(\"..\")\n    return someresult;// -1, empty list or others\n}\n</code></pre>\n\n<p>for e.g. if exception comes in try block you will be returning false otherwise true. Or null or blank message depends on implementation.</p>\n\n<p>when you are re-throwing exception you can use finally to close resultsets/ open stream etc which is good practise</p>\n"},{"tags":[],"owner":{"account_id":6183221,"reputation":494,"user_id":4818048,"display_name":"Niketh Sudhakaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468481670,"creation_date":1468481670,"answer_id":38368178,"question_id":32176702,"body_markdown":"I think the best way is to create a custom exception class for your application. \r\nHandle all your exception in one custom class. And handling method inside this class for all the exceptions occurred.\r\n\r\n    class CustomExc extends Exception{  \r\n     CustomExc(String s){  \r\n      super(s);  \r\n     }  \r\n    }  \r\n\r\n","title":"DBUtil - Return error code, msg or throw exception","body":"<p>I think the best way is to create a custom exception class for your application. \nHandle all your exception in one custom class. And handling method inside this class for all the exceptions occurred.</p>\n\n<pre><code>class CustomExc extends Exception{  \n CustomExc(String s){  \n  super(s);  \n }  \n}  \n</code></pre>\n"}],"owner":{"account_id":4231547,"reputation":5,"user_id":3463752,"display_name":"aspire丶la"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32177031,"answer_count":2,"score":0,"last_activity_date":1689180338,"creation_date":1440401629,"question_id":32176702,"body_markdown":" I have a DBUtil class for jdbc,  some method like query, insert and update, when   some errors occur, we throw a RuntimeException now, but I have some questions.\r\n When error occor, if I don&#39;t use try catch block to handle exception, I can&#39;t define whether it was succeed or not in code, so I can&#39;t do other things using the result, and controller will have no response rather than 500 error.\r\n\r\n1:\r\n\r\n    try{\r\n    \t\r\n    } catch(Exception e){\r\n    \tthrow new RuntimeException(&quot;...&quot;)\r\n    }\r\n\r\n2:\r\n\r\n    try{\r\n    \t\r\n    } catch(Exception e){\r\n    \tlog.error(&quot;..&quot;)\r\n    \treturn someresult;// -1, empty list or others\r\n    }\r\n\r\nso, which is better in code?\r\nThanks!","title":"DBUtil - Return error code, msg or throw exception","body":"<p>I have a DBUtil class for jdbc,  some method like query, insert and update, when   some errors occur, we throw a RuntimeException now, but I have some questions.\n When error occor, if I don't use try catch block to handle exception, I can't define whether it was succeed or not in code, so I can't do other things using the result, and controller will have no response rather than 500 error.</p>\n\n<p>1:</p>\n\n<pre><code>try{\n\n} catch(Exception e){\n    throw new RuntimeException(\"...\")\n}\n</code></pre>\n\n<p>2:</p>\n\n<pre><code>try{\n\n} catch(Exception e){\n    log.error(\"..\")\n    return someresult;// -1, empty list or others\n}\n</code></pre>\n\n<p>so, which is better in code?\nThanks!</p>\n"},{"tags":["java","generics","methods"],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689179881,"creation_date":1689179881,"answer_id":76672780,"question_id":76672503,"body_markdown":"Yes, Java&#39;s type erasure makes it impossible to infer the generic type at runtime without explicitly passing the class. More formal: \r\n&gt; the generic type information is not retained at runtime due to type erasure, which removes all generic type information, replacing it with their bounds or with `Object` if the type parameters are unbounded.\r\n\r\nSo the typical way to handle this problem is indeed to pass the `Class` object of the desired return type to the method, let&#39;s try to create something for String-&gt;Integer for example:\r\n```java\r\nabstract class Converter {\r\n\r\n    public static &lt;TInto, TFrom&gt; TInto convertDataTypes(TFrom from, Class&lt;TInto&gt; intoClass) {\r\n        TInto into = null;\r\n\r\n        if (intoClass == String.class &amp;&amp; from instanceof Integer) {\r\n            into = intoClass.cast(Integer.toString((Integer) from));\r\n        } else if (intoClass == Integer.class &amp;&amp; from instanceof String) {\r\n            into = intoClass.cast(Integer.parseInt((String) from));\r\n        }\r\n        // maybe you&#39;ll have more converters here, depending on the given types\r\n\r\n        return into;\r\n    }\r\n}\r\n```\r\nUsage:\r\n```java\r\nInteger i = Converter.convertDataTypes(&quot;41&quot;, Integer.class);\r\nString s = Converter.convertDataTypes(41, String.class);\r\n```","title":"Java Generic Methods get Class from Returntype","body":"<p>Yes, Java's type erasure makes it impossible to infer the generic type at runtime without explicitly passing the class. More formal:</p>\n<blockquote>\n<p>the generic type information is not retained at runtime due to type erasure, which removes all generic type information, replacing it with their bounds or with <code>Object</code> if the type parameters are unbounded.</p>\n</blockquote>\n<p>So the typical way to handle this problem is indeed to pass the <code>Class</code> object of the desired return type to the method, let's try to create something for String-&gt;Integer for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class Converter {\n\n    public static &lt;TInto, TFrom&gt; TInto convertDataTypes(TFrom from, Class&lt;TInto&gt; intoClass) {\n        TInto into = null;\n\n        if (intoClass == String.class &amp;&amp; from instanceof Integer) {\n            into = intoClass.cast(Integer.toString((Integer) from));\n        } else if (intoClass == Integer.class &amp;&amp; from instanceof String) {\n            into = intoClass.cast(Integer.parseInt((String) from));\n        }\n        // maybe you'll have more converters here, depending on the given types\n\n        return into;\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer i = Converter.convertDataTypes(&quot;41&quot;, Integer.class);\nString s = Converter.convertDataTypes(41, String.class);\n</code></pre>\n"}],"owner":{"account_id":27070897,"reputation":25,"user_id":20621559,"display_name":"FelixFeuerdorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76672780,"answer_count":1,"score":1,"last_activity_date":1689179881,"creation_date":1689177854,"question_id":76672503,"body_markdown":"I would like to create a mapper that reads the individual variables with the specification of two entity classes and passes the various data types (with content) to a converter, which then returns the data under various conditions.\r\nMy problem is that I am not yet 100% familiar with Java Generics and therefore need help how to determine the return types in the best possible/standardized way. \r\n\r\nAs far as I found out, I have to define a generic class or pass the class to the generic method, that should be correct, right? Because I had already tried to define a generic method without passing the class as a parameter and to determine the type from this is not supposed to work in Java.\r\n\r\nCould you maybe show me an example, how a generic method determines the return type, if a generic class is available?\r\n\r\n```\r\npublic abstract class Converter{\r\n    public static &lt;TInto, TFrom&gt; TInto convertDataTypes(TFrom from){\r\n        TInto into = null;\r\n        /* My Try \r\n        Class&lt;?&gt; intoClass = (Class&lt;?&gt;) ((java.lang.reflect.ParameterizedType Converter.class.getDeclaredMethods()[0]\r\n                .getGenericReturnType()).getActualTypeArguments()[0];\r\n\r\n        into = (TInto) intoClass.getDeclaredConstructor().newInstance();\r\n        */\r\n        // TODO: init into;\r\n        // TODO: get into class\r\n        return into;\r\n    }\r\n}\r\n```\r\n\r\nI also tried with the simple &#39;Type&#39;, because ParameterizedType throws an exception, but then &#39;getActualTypeArguments&#39; doesn&#39;t work, or I still don&#39;t get the correct type (Boolean) that I want...\r\n\r\nWhat I also didn&#39;t quite understand is why even if I specify the generic types, so when I call the generic method it doesn&#39;t recognize what I attach to the method.\r\nFunction call simply as Example:\r\n\r\n```\r\nBoolean b = Converter.&lt;Boolean,String&gt;convertDataTypes(&quot;true&quot;);\r\n```","title":"Java Generic Methods get Class from Returntype","body":"<p>I would like to create a mapper that reads the individual variables with the specification of two entity classes and passes the various data types (with content) to a converter, which then returns the data under various conditions.\nMy problem is that I am not yet 100% familiar with Java Generics and therefore need help how to determine the return types in the best possible/standardized way.</p>\n<p>As far as I found out, I have to define a generic class or pass the class to the generic method, that should be correct, right? Because I had already tried to define a generic method without passing the class as a parameter and to determine the type from this is not supposed to work in Java.</p>\n<p>Could you maybe show me an example, how a generic method determines the return type, if a generic class is available?</p>\n<pre><code>public abstract class Converter{\n    public static &lt;TInto, TFrom&gt; TInto convertDataTypes(TFrom from){\n        TInto into = null;\n        /* My Try \n        Class&lt;?&gt; intoClass = (Class&lt;?&gt;) ((java.lang.reflect.ParameterizedType Converter.class.getDeclaredMethods()[0]\n                .getGenericReturnType()).getActualTypeArguments()[0];\n\n        into = (TInto) intoClass.getDeclaredConstructor().newInstance();\n        */\n        // TODO: init into;\n        // TODO: get into class\n        return into;\n    }\n}\n</code></pre>\n<p>I also tried with the simple 'Type', because ParameterizedType throws an exception, but then 'getActualTypeArguments' doesn't work, or I still don't get the correct type (Boolean) that I want...</p>\n<p>What I also didn't quite understand is why even if I specify the generic types, so when I call the generic method it doesn't recognize what I attach to the method.\nFunction call simply as Example:</p>\n<pre><code>Boolean b = Converter.&lt;Boolean,String&gt;convertDataTypes(&quot;true&quot;);\n</code></pre>\n"},{"tags":["java","networking","network-programming","httpurlconnection","urlconnection"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1689180193,"post_id":76672701,"comment_id":135178054,"body_markdown":"I guess the issue here is that you write data to the output stream of the connection, but you do not close the output stream, so your POST request is not being finalized","body":"I guess the issue here is that you write data to the output stream of the connection, but you do not close the output stream, so your POST request is not being finalized"},{"owner":{"account_id":270025,"reputation":6187,"user_id":3649629,"accept_rate":67,"display_name":"Gleichmut"},"score":0,"creation_date":1689222333,"post_id":76672701,"comment_id":135183369,"body_markdown":"Not, it is not an issue. To confirm end of writing ```flush()``` call is used, server should receive data, but it is not happened.","body":"Not, it is not an issue. To confirm end of writing <code>flush()</code> call is used, server should receive data, but it is not happened."}],"owner":{"account_id":270025,"reputation":6187,"user_id":3649629,"accept_rate":67,"display_name":"Gleichmut"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689179275,"creation_date":1689179275,"question_id":76672701,"body_markdown":"I am working on custom ```gradle``` plugin which trigger API ```POST``` call. There is no many option for networking from ```gradle``` and ```UrlConnection``` looks as a best tool. I am able to trigger GET API call, but can not do it for POST. \r\n\r\nHere is my client code from gradle plugin:\r\n```\r\ninterface SwapTestPluginExtension {\r\n    val backEndEndpoint: Property&lt;String&gt;\r\n}\r\n\r\nclass SwapTestPlugin: Plugin&lt;Project&gt; {\r\n    override fun apply(target: Project) {\r\n\r\n        val extension = target.extensions.create(&quot;swapTest&quot;, SwapTestPluginExtension::class.java)\r\n        target.task(&quot;prepareTestEnvironment&quot;) {\r\n            doLast {\r\n                try {\r\n                    println(&quot;[start] ${SwapTestPlugin::class.simpleName}&quot;)\r\n                    executePostApiCall(extension)\r\n                } catch (ex: Exception) {\r\n                    println(&quot;Something whent wrong in ${SwapTestPlugin::class.simpleName} with exception ${ex}&quot;)\r\n                } finally {\r\n                    println(&quot;[end] ${SwapTestPlugin::class.simpleName}&quot;)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun executePostApiCall(extension: SwapTestPluginExtension) {\r\n        val credentials = &quot;{\\&quot;name\\&quot;: \\&quot;\\&quot;, \\&quot;pwd\\&quot; : \\&quot;\\&quot;}&quot;\r\n        val req = URL(&quot;${extension.backEndEndpoint.get()}/test/environment&quot;).openConnection() as HttpURLConnection\r\n        req.setRequestMethod(&quot;POST&quot;)\r\n        req.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;)\r\n        req.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\r\n        req.setDoOutput(true)\r\n        println(&quot;[swap-test-plugin] prepare to call API&quot;)\r\n        req.getOutputStream().write(JsonOutput.toJson(credentials).toByteArray(Charsets.UTF_8)/*.getBytes(&quot;UTF-8&quot;)*/)\r\n        req.outputStream.flush()\r\n        println(&quot;[swap-test-plugin] API has been called, going to read results&quot;)\r\n        val br = BufferedReader(InputStreamReader(req.inputStream, Charsets.UTF_8.name()))\r\n        val response = StringBuilder()\r\n        var responseLine: String? = null\r\n        while (br.readLine().also { responseLine = it } != null) {\r\n            response.append(responseLine!!.trim { it &lt;= &#39; &#39; })\r\n        }\r\n        println(&quot;[swap-test-plugin] prepare to parse result&quot;)\r\n        val json = JsonSlurper().parseText(response.toString())\r\n        println(&quot;[json] ${json}&quot;)\r\n    }\r\n\r\n}\r\n``` \r\nHere is stubs for API methods on the backend: \r\n```\r\ncontrollers/test.js\r\n\r\nconst config = require(&#39;config&#39;);\r\nconst network = require(&#39;../utils/network&#39;)\r\nconst logger = require(&#39;../utils/logger&#39;)\r\n\r\nexports.setEnvironment = async function(req, res) { \r\n    logger.log(&quot;[start] /test/environment call&quot;);\r\n    let result\r\n    if (config.isProduction) {\r\n        result = network.getErrorMsg(501, &quot;This method is only supported for non-production mode for test purposes.&quot;)\r\n    } else {\r\n        // TODO clean up database if it is a debug mode\r\n        result = network.getMsg(200, JSON.stringify({&quot;msg&quot; : &quot;just a stub&quot;}));\r\n    }\r\n    logger.log(`[end] response ${JSON.stringify(result)}`)\r\n    network.send(req, res, result);\r\n}\r\n\r\nroutes/index.js\r\n...\r\nrouter.post(&#39;/api/v1/test/environment&#39;, tests.setEnvironment);\r\n...\r\n```\r\n\r\nWireshark shows an POST request happens, but there is not activity on the server - it looks like it never reaches. The similar GET request works fine. [Here is a source code][1] of the backend in case you would like to copy-paste this block of code and reproduce. \r\n\r\n```\r\n1589\t960.149964545\t127.0.0.1\t127.0.0.1\tHTTP/JSON\t100\tPOST /api/v1/test/environment HTTP/1.1 , JavaScript Object Notation (application/json)\r\n1590\t960.149967554\t127.0.0.1\t127.0.0.1\tTCP\t66\t3100 → 50170 [ACK] Seq=1 Ack=262 Win=65280 Len=0 TSval=3277455079 TSecr=3277455079\r\n```\r\n\r\nDo you notice cause of this issue? \r\n\r\n  [1]: https://github.com/Gelassen/swap/tree/main/server","title":"HttpUrlConnection hangs out on POST request","body":"<p>I am working on custom <code>gradle</code> plugin which trigger API <code>POST</code> call. There is no many option for networking from <code>gradle</code> and <code>UrlConnection</code> looks as a best tool. I am able to trigger GET API call, but can not do it for POST.</p>\n<p>Here is my client code from gradle plugin:</p>\n<pre><code>interface SwapTestPluginExtension {\n    val backEndEndpoint: Property&lt;String&gt;\n}\n\nclass SwapTestPlugin: Plugin&lt;Project&gt; {\n    override fun apply(target: Project) {\n\n        val extension = target.extensions.create(&quot;swapTest&quot;, SwapTestPluginExtension::class.java)\n        target.task(&quot;prepareTestEnvironment&quot;) {\n            doLast {\n                try {\n                    println(&quot;[start] ${SwapTestPlugin::class.simpleName}&quot;)\n                    executePostApiCall(extension)\n                } catch (ex: Exception) {\n                    println(&quot;Something whent wrong in ${SwapTestPlugin::class.simpleName} with exception ${ex}&quot;)\n                } finally {\n                    println(&quot;[end] ${SwapTestPlugin::class.simpleName}&quot;)\n                }\n            }\n        }\n    }\n\n    private fun executePostApiCall(extension: SwapTestPluginExtension) {\n        val credentials = &quot;{\\&quot;name\\&quot;: \\&quot;\\&quot;, \\&quot;pwd\\&quot; : \\&quot;\\&quot;}&quot;\n        val req = URL(&quot;${extension.backEndEndpoint.get()}/test/environment&quot;).openConnection() as HttpURLConnection\n        req.setRequestMethod(&quot;POST&quot;)\n        req.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;)\n        req.setRequestProperty(&quot;Accept&quot;, &quot;*/*&quot;);\n        req.setDoOutput(true)\n        println(&quot;[swap-test-plugin] prepare to call API&quot;)\n        req.getOutputStream().write(JsonOutput.toJson(credentials).toByteArray(Charsets.UTF_8)/*.getBytes(&quot;UTF-8&quot;)*/)\n        req.outputStream.flush()\n        println(&quot;[swap-test-plugin] API has been called, going to read results&quot;)\n        val br = BufferedReader(InputStreamReader(req.inputStream, Charsets.UTF_8.name()))\n        val response = StringBuilder()\n        var responseLine: String? = null\n        while (br.readLine().also { responseLine = it } != null) {\n            response.append(responseLine!!.trim { it &lt;= ' ' })\n        }\n        println(&quot;[swap-test-plugin] prepare to parse result&quot;)\n        val json = JsonSlurper().parseText(response.toString())\n        println(&quot;[json] ${json}&quot;)\n    }\n\n}\n</code></pre>\n<p>Here is stubs for API methods on the backend:</p>\n<pre><code>controllers/test.js\n\nconst config = require('config');\nconst network = require('../utils/network')\nconst logger = require('../utils/logger')\n\nexports.setEnvironment = async function(req, res) { \n    logger.log(&quot;[start] /test/environment call&quot;);\n    let result\n    if (config.isProduction) {\n        result = network.getErrorMsg(501, &quot;This method is only supported for non-production mode for test purposes.&quot;)\n    } else {\n        // TODO clean up database if it is a debug mode\n        result = network.getMsg(200, JSON.stringify({&quot;msg&quot; : &quot;just a stub&quot;}));\n    }\n    logger.log(`[end] response ${JSON.stringify(result)}`)\n    network.send(req, res, result);\n}\n\nroutes/index.js\n...\nrouter.post('/api/v1/test/environment', tests.setEnvironment);\n...\n</code></pre>\n<p>Wireshark shows an POST request happens, but there is not activity on the server - it looks like it never reaches. The similar GET request works fine. <a href=\"https://github.com/Gelassen/swap/tree/main/server\" rel=\"nofollow noreferrer\">Here is a source code</a> of the backend in case you would like to copy-paste this block of code and reproduce.</p>\n<pre><code>1589    960.149964545   127.0.0.1   127.0.0.1   HTTP/JSON   100 POST /api/v1/test/environment HTTP/1.1 , JavaScript Object Notation (application/json)\n1590    960.149967554   127.0.0.1   127.0.0.1   TCP 66  3100 → 50170 [ACK] Seq=1 Ack=262 Win=65280 Len=0 TSval=3277455079 TSecr=3277455079\n</code></pre>\n<p>Do you notice cause of this issue?</p>\n"},{"tags":["java","spring-boot","jpa","spring-cloud-config"],"owner":{"account_id":10990612,"reputation":117,"user_id":8074755,"display_name":"raman077"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689179257,"creation_date":1689179257,"question_id":76672697,"body_markdown":"I am trying to run a very basic SpringBoot crud application using an externally hosted server to contain configurations. For this I implemented **PropertySourceLocator** interface. Implementation below\r\n```\r\n\r\n@Component\r\n@Order(0)\r\n\r\nclass CustomHeaderPropertySourceLocator implements PropertySourceLocator {\r\n\tprivate final RestTemplate restTemplate;\r\n\tprivate final HttpHeaders headers;\r\n\tprivate final String configServerUrl;\r\n\t@Autowired\r\n\tprivate ConfigurableEnvironment configurableEnvironment;\r\n\r\n\tpublic CustomHeaderPropertySourceLocator() {\r\n\t\tthis.configServerUrl = &quot;&quot;;\r\n\t\tthis.headers = new HttpHeaders();\r\n\t\tthis.restTemplate = new RestTemplate();\r\n\t}\r\n\r\n\r\n\t@PostConstruct\r\n\tpublic void init() {\r\n\t\tPropertySource&lt;?&gt; customPropertySource = locate(configurableEnvironment);\r\n\t\tconfigurableEnvironment.getPropertySources().addFirst(customPropertySource);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic PropertySource&lt;?&gt; locate(Environment environment) {\r\n\t\ttry {\r\n\t\t\tRestTemplate restTemplate = new RestTemplate();\r\n\t\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\t\tString url = &quot;&quot;;\r\n\r\n\t\t\tHttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\r\n\r\n\t\t\tResponseEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.GET, requestEntity, String.class);\r\n\r\n            // Logic to handle response\r\n\t\t\tMapPropertySource propertySource = new MapPropertySource(&quot;externalPropertySource&quot;, flatProperties);\r\n\t\t\r\n\t}\r\n``` \r\n\r\nNow all runs well and good till I am not connecting to a database. I am able to fetch the config via @{Value} notation and use it in an API. \r\nBut when I try to connect to a DB, because JPA is being initialised before this happens, I get connection error as it is not able to read the database config properties due to the config not fetched.\r\n\r\nNow this can hamper anything that requires params to be present at runtime. How do I make sure that this runs before anything and works as seamlessly as spring cloud config does?\r\nPlease consider that I can&#39;t use spring cloud config for this.\r\n","title":"Boot Time properties like JPA is not loaded using external hosted configuration (via REST) in springboot application","body":"<p>I am trying to run a very basic SpringBoot crud application using an externally hosted server to contain configurations. For this I implemented <strong>PropertySourceLocator</strong> interface. Implementation below</p>\n<pre><code>\n@Component\n@Order(0)\n\nclass CustomHeaderPropertySourceLocator implements PropertySourceLocator {\n    private final RestTemplate restTemplate;\n    private final HttpHeaders headers;\n    private final String configServerUrl;\n    @Autowired\n    private ConfigurableEnvironment configurableEnvironment;\n\n    public CustomHeaderPropertySourceLocator() {\n        this.configServerUrl = &quot;&quot;;\n        this.headers = new HttpHeaders();\n        this.restTemplate = new RestTemplate();\n    }\n\n\n    @PostConstruct\n    public void init() {\n        PropertySource&lt;?&gt; customPropertySource = locate(configurableEnvironment);\n        configurableEnvironment.getPropertySources().addFirst(customPropertySource);\n    }\n\n    @Override\n    public PropertySource&lt;?&gt; locate(Environment environment) {\n        try {\n            RestTemplate restTemplate = new RestTemplate();\n            HttpHeaders headers = new HttpHeaders();\n            String url = &quot;&quot;;\n\n            HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\n\n            ResponseEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.GET, requestEntity, String.class);\n\n            // Logic to handle response\n            MapPropertySource propertySource = new MapPropertySource(&quot;externalPropertySource&quot;, flatProperties);\n        \n    }\n</code></pre>\n<p>Now all runs well and good till I am not connecting to a database. I am able to fetch the config via @{Value} notation and use it in an API.\nBut when I try to connect to a DB, because JPA is being initialised before this happens, I get connection error as it is not able to read the database config properties due to the config not fetched.</p>\n<p>Now this can hamper anything that requires params to be present at runtime. How do I make sure that this runs before anything and works as seamlessly as spring cloud config does?\nPlease consider that I can't use spring cloud config for this.</p>\n"},{"tags":["java","text","types","mime-types"],"comments":[{"owner":{"account_id":108205,"reputation":27809,"user_id":287316,"accept_rate":87,"display_name":"The Student"},"score":0,"creation_date":1284389182,"post_id":3655564,"comment_id":3902664,"body_markdown":"retagged, more tags may help you have more answers.. ;)","body":"retagged, more tags may help you have more answers.. ;)"}],"answers":[{"comments":[{"owner":{"account_id":22774,"reputation":18102,"user_id":56524,"accept_rate":45,"display_name":"mP."},"score":0,"creation_date":1299820391,"post_id":3709626,"comment_id":5935981,"body_markdown":"The dottoro and pdx-edu links are fairly good but hardly comprehensive.. any chance you have a more complete link ? Im not interested in lists that only give mime type = file extensions...","body":"The dottoro and pdx-edu links are fairly good but hardly comprehensive.. any chance you have a more complete link ? Im not interested in lists that only give mime type = file extensions..."}],"tags":[],"owner":{"account_id":174580,"reputation":15838,"user_id":404033,"accept_rate":84,"display_name":"William Niu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1284473175,"creation_date":1284473175,"answer_id":3709626,"question_id":3655564,"body_markdown":"The following links might save you some time:\r\n\r\n - http://help.dottoro.com/lapuadlp.php\r\n - http://www.yolinux.com/TUTORIALS/LinuxTutorialMimeTypesAndApplications.html\r\n - http://www.hansenb.pdx.edu/DMKB/dict/tutorials/mime_typ.php\r\n\r\nAnd here are a couple of links that maps mime types and the file extensions:\r\n\r\n - http://www.webmaster-toolkit.com/mime-types.shtml\r\n - http://www.w3schools.com/media/media_mimeref.asp","title":"Java library or text file that maps mime types to nice human friendly file types","body":"<p>The following links might save you some time:</p>\n\n<ul>\n<li><a href=\"http://help.dottoro.com/lapuadlp.php\" rel=\"nofollow noreferrer\">http://help.dottoro.com/lapuadlp.php</a></li>\n<li><a href=\"http://www.yolinux.com/TUTORIALS/LinuxTutorialMimeTypesAndApplications.html\" rel=\"nofollow noreferrer\">http://www.yolinux.com/TUTORIALS/LinuxTutorialMimeTypesAndApplications.html</a></li>\n<li><a href=\"http://www.hansenb.pdx.edu/DMKB/dict/tutorials/mime_typ.php\" rel=\"nofollow noreferrer\">http://www.hansenb.pdx.edu/DMKB/dict/tutorials/mime_typ.php</a></li>\n</ul>\n\n<p>And here are a couple of links that maps mime types and the file extensions:</p>\n\n<ul>\n<li><a href=\"http://www.webmaster-toolkit.com/mime-types.shtml\" rel=\"nofollow noreferrer\">http://www.webmaster-toolkit.com/mime-types.shtml</a></li>\n<li><a href=\"http://www.w3schools.com/media/media_mimeref.asp\" rel=\"nofollow noreferrer\">http://www.w3schools.com/media/media_mimeref.asp</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":22774,"reputation":18102,"user_id":56524,"accept_rate":45,"display_name":"mP."},"score":1,"creation_date":1284514586,"post_id":3712079,"comment_id":3919036,"body_markdown":"Thanks for spotting that. Inside tika-core.jar theres an xml file tika-mimetypes.xml which has a lot of mime types and descriptions defined within it. It looks like it should work... thanx again!","body":"Thanks for spotting that. Inside tika-core.jar theres an xml file tika-mimetypes.xml which has a lot of mime types and descriptions defined within it. It looks like it should work... thanx again!"},{"owner":{"account_id":22774,"reputation":18102,"user_id":56524,"accept_rate":45,"display_name":"mP."},"score":0,"creation_date":1284518098,"post_id":3712079,"comment_id":3919289,"body_markdown":"Most of the entries in the xml are ignored because for some strage reason tika is setting descriptions from tags called &quot;_comment&quot; but not &quot;description&quot; etc. Going to file an issue/patch..","body":"Most of the entries in the xml are ignored because for some strage reason tika is setting descriptions from tags called &quot;_comment&quot; but not &quot;description&quot; etc. Going to file an issue/patch.."},{"owner":{"account_id":7349,"reputation":45939,"user_id":12744,"accept_rate":94,"display_name":"Colin Pickard"},"score":0,"creation_date":1435776728,"post_id":3712079,"comment_id":50346560,"body_markdown":"this appears to be fixed from version 0.8 (https://issues.apache.org/jira/browse/TIKA-515)","body":"this appears to be fixed from version 0.8 (<a href=\"https://issues.apache.org/jira/browse/TIKA-515\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/TIKA-515</a>)"}],"tags":[],"owner":{"account_id":161745,"reputation":49245,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1284491237,"creation_date":1284491237,"answer_id":3712079,"question_id":3655564,"body_markdown":"Apache Tika supports [MimeTypes][1]. It also supports [Content Detection][2] by the way if you don&#39;t know the mime type. Anyway, it looks like you need to do:\r\n\r\n    String t = &quot;text/plain&quot;;\r\n    org.apache.tika.mime.MimeTypes.getMimeType(t).getDescription();\r\n\r\nDisclaimer: I didn&#39;t actually try it. Also, I don&#39;t know if it supports all mime types you need.\r\n\r\n  [1]: http://tika.apache.org/0.7/api/org/apache/tika/mime/MimeTypes.html\r\n  [2]: http://tika.apache.org/0.7/detection.html","title":"Java library or text file that maps mime types to nice human friendly file types","body":"<p>Apache Tika supports <a href=\"http://tika.apache.org/0.7/api/org/apache/tika/mime/MimeTypes.html\" rel=\"nofollow noreferrer\">MimeTypes</a>. It also supports <a href=\"http://tika.apache.org/0.7/detection.html\" rel=\"nofollow noreferrer\">Content Detection</a> by the way if you don't know the mime type. Anyway, it looks like you need to do:</p>\n\n<pre><code>String t = \"text/plain\";\norg.apache.tika.mime.MimeTypes.getMimeType(t).getDescription();\n</code></pre>\n\n<p>Disclaimer: I didn't actually try it. Also, I don't know if it supports all mime types you need.</p>\n"},{"tags":[],"owner":{"account_id":9283001,"reputation":3219,"user_id":6893709,"accept_rate":0,"display_name":"Ali Bagheri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580142910,"creation_date":1580142910,"answer_id":59935290,"question_id":3655564,"body_markdown":"Use this library\r\n\r\nthis works by files,bytes,...\r\n\r\n\r\nMimeUtil &gt;\r\nhttps://github.com/saces/MimeUtil\r\n\r\nusage:\r\n\r\n    MagicMimeMimeDetector g = new MagicMimeMimeDetector();\r\n\tCollection&lt;MimeType&gt; list =  g.getMimeTypes(file);\r\n\r\n\tif(list.size() &gt; 0)\r\n\t{\r\n\t\tMimeType mime = list.iterator().next();\r\n\t\treturn mime.toString();\r\n\t}","title":"Java library or text file that maps mime types to nice human friendly file types","body":"<p>Use this library</p>\n\n<p>this works by files,bytes,...</p>\n\n<p>MimeUtil >\n<a href=\"https://github.com/saces/MimeUtil\" rel=\"nofollow noreferrer\">https://github.com/saces/MimeUtil</a></p>\n\n<p>usage:</p>\n\n<pre><code>MagicMimeMimeDetector g = new MagicMimeMimeDetector();\nCollection&lt;MimeType&gt; list =  g.getMimeTypes(file);\n\nif(list.size() &gt; 0)\n{\n    MimeType mime = list.iterator().next();\n    return mime.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45499,"reputation":2925,"user_id":134120,"accept_rate":69,"display_name":"AsGoodAsItGets"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689179173,"creation_date":1689179173,"answer_id":76672687,"question_id":3655564,"body_markdown":"For anyone coming to this in 2023 or later this looks like a more official and definitive resource for the mappings:\r\n\r\nhttps://www.iana.org/assignments/media-types/media-types.xhtml\r\n\r\nHowever, if you&#39;re looking for a Java library, you can&#39;t go wrong with Apache Tika in Java, as already suggested.","title":"Java library or text file that maps mime types to nice human friendly file types","body":"<p>For anyone coming to this in 2023 or later this looks like a more official and definitive resource for the mappings:</p>\n<p><a href=\"https://www.iana.org/assignments/media-types/media-types.xhtml\" rel=\"nofollow noreferrer\">https://www.iana.org/assignments/media-types/media-types.xhtml</a></p>\n<p>However, if you're looking for a Java library, you can't go wrong with Apache Tika in Java, as already suggested.</p>\n"}],"owner":{"account_id":22774,"reputation":18102,"user_id":56524,"accept_rate":45,"display_name":"mP."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2198,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":3709626,"answer_count":4,"score":5,"last_activity_date":1689179173,"creation_date":1283830254,"question_id":3655564,"body_markdown":"GOAL\r\nMy goal is to find a text file or library that enables me to map when given a mime type input and return a nice human friendly format.\r\n\r\nFor example given the mime type for Word (as shown below) I would like a result that is something like &quot;Microsoft Office Word Document&quot;.\r\n\r\n    application/vnd.openxmlformats-officedocument.wordprocessingml.document\r\n\r\nI realise I could compile my own list and use something like a Map (Java) but then it would not be comprehensive etc.\r\n\r\nSIMPLISTIC OPTION\r\nI know I can examine and return the sub mime type and keep the last component but that is not very sophisticated as per the Word mime type above the result would be a very generic &quot;document&quot;. I could expand and take more components but the result is still quite ugly.\r\n    \r\nKEY/VALUE FILE\r\nAnother option I have tried to find is a text file with key/value pairs where the key is the mime type in full and the value being the nice human friendly text.\r\n\r\n    text/plain=Plain Text File\r\n    application/octet-stream=Unknown binary file\r\n\r\nThis seems like a nice option but I have not been able to find a definitive text file with lots of entries. It would also be nice if a source for just the media( i prefer to call it the primary mime type) the &quot;text&quot; in &quot;text/plain&quot; was present so an unknown text mime type such as &quot;text/unknown a.b.c&quot; would return &quot;Unknown text file/format&quot;.   \r\n","title":"Java library or text file that maps mime types to nice human friendly file types","body":"<p>GOAL\nMy goal is to find a text file or library that enables me to map when given a mime type input and return a nice human friendly format.</p>\n\n<p>For example given the mime type for Word (as shown below) I would like a result that is something like \"Microsoft Office Word Document\".</p>\n\n<pre><code>application/vnd.openxmlformats-officedocument.wordprocessingml.document\n</code></pre>\n\n<p>I realise I could compile my own list and use something like a Map (Java) but then it would not be comprehensive etc.</p>\n\n<p>SIMPLISTIC OPTION\nI know I can examine and return the sub mime type and keep the last component but that is not very sophisticated as per the Word mime type above the result would be a very generic \"document\". I could expand and take more components but the result is still quite ugly.</p>\n\n<p>KEY/VALUE FILE\nAnother option I have tried to find is a text file with key/value pairs where the key is the mime type in full and the value being the nice human friendly text.</p>\n\n<pre><code>text/plain=Plain Text File\napplication/octet-stream=Unknown binary file\n</code></pre>\n\n<p>This seems like a nice option but I have not been able to find a definitive text file with lots of entries. It would also be nice if a source for just the media( i prefer to call it the primary mime type) the \"text\" in \"text/plain\" was present so an unknown text mime type such as \"text/unknown a.b.c\" would return \"Unknown text file/format\".   </p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1689178942,"post_id":76672547,"comment_id":135177823,"body_markdown":"Consider Invalidate Caches / Restart first, update to the newer version of IntelliJ second, check some custom plugins you&#39;re using third, and finally submit a ticket to IntelliJ Comunity YouTrack here: https://youtrack.jetbrains.com/issues/idea","body":"Consider Invalidate Caches / Restart first, update to the newer version of IntelliJ second, check some custom plugins you&#39;re using third, and finally submit a ticket to IntelliJ Comunity YouTrack here: <a href=\"https://youtrack.jetbrains.com/issues/idea\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/idea</a>"}],"answers":[{"comments":[{"owner":{"account_id":10073835,"reputation":787,"user_id":7446623,"accept_rate":5,"display_name":"apex2022"},"score":0,"creation_date":1689182111,"post_id":76672673,"comment_id":135178451,"body_markdown":"The files are not in a cloud sync managed folder. Sorry if I said something that gave that impression. They are on a network drive though, although it is a wired network. Would that cause the same issue? I can move the repository to my local hard drive. I only put it on a network drive because on my previous laptop I had run out of drive space, so I&#39;m trying to prevent that with my new laptop.","body":"The files are not in a cloud sync managed folder. Sorry if I said something that gave that impression. They are on a network drive though, although it is a wired network. Would that cause the same issue? I can move the repository to my local hard drive. I only put it on a network drive because on my previous laptop I had run out of drive space, so I&#39;m trying to prevent that with my new laptop."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1689182320,"post_id":76672673,"comment_id":135178493,"body_markdown":"Yes, network drive connection can also cause such problems. Always use local drive for the projects.","body":"Yes, network drive connection can also cause such problems. Always use local drive for the projects."}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689179117,"creation_date":1689179117,"answer_id":76672673,"question_id":76672547,"body_markdown":"Move your files away from the cloud sync managed folder and open the project from the new location. Cloud sync software such as OneDrive and Dropbox can interfere with the file system operations and remove local files to save space (keeping only shortcuts to them and download the files on the fly when you try to access them). IDE is not designed to work with files that are not available offline.","title":"intellij - open files disappear from view while I&#39;m using them","body":"<p>Move your files away from the cloud sync managed folder and open the project from the new location. Cloud sync software such as OneDrive and Dropbox can interfere with the file system operations and remove local files to save space (keeping only shortcuts to them and download the files on the fly when you try to access them). IDE is not designed to work with files that are not available offline.</p>\n"}],"owner":{"account_id":10073835,"reputation":787,"user_id":7446623,"accept_rate":5,"display_name":"apex2022"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76672673,"answer_count":1,"score":0,"last_activity_date":1689179117,"creation_date":1689178224,"question_id":76672547,"body_markdown":"Not sure if this is a bug or if there&#39;s a setting I need to adjust, so I&#39;m posting this question in case it&#39;s the latter. I just updated my IntelliJ Community Edition to 2022.2.5.\r\n\r\nI have my Java project listed in the Project view (it happens with every project I&#39;ve worked on so far). I&#39;m doing Java work, so I go to the src folder and go through the folders and find a class to work on, say PolicyService.java. I have that open and am looking through it, and may or may not be making changes to it. I then go to my PaymentsService.java and open it, so now I have two classes open and in view (not sure of the name of the window on the screen where you have the file open and are editing them). Then maybe I open a few more (although it happens when I have just one file open also).\r\n\r\nThen suddenly, all the files disappear from the view, and the Project view suddenly collapses all the open folders so it looks like I didn&#39;t open any folders. Just project-name folder, along with the folders on the same level for External Libraries and Scratches and Consoles. \r\n\r\nWhat&#39;s even weirder is what happens to the breadcrumbs in the bar above the Project view and the open file view. It was normal when I had the file open - project-name &gt; src &gt; main &gt; java &gt; com &gt; am &gt; api &gt; appdesk &gt; service &gt; PolicyService &gt; whatever method I was on. But when the file disappears it changes to Sample &gt; sample &gt; sample &gt; sample &gt; sample &gt; sample &gt; sample &gt; sample &gt; sample &gt; sample &gt; (can&#39;t remember what it said in place of the method). It stays like that for a few minutes, and then the breadcrumbs disappear.\r\n\r\nThe other interesting thing is that when I go to open one of the files again, instead of showing the top of the file, the file opens at precisely the point I had it open before it disappears.\r\n\r\nDoes anybody know what&#39;s going on with this? I did a quick Google search on files disappearing from view and didn&#39;t see anything about any bugs. A few of the search results that came up had to do with files actually disappearing from the folders themselves, but that&#39;s not happening here. The files are still there in the folders, they just disappear from the editor view. \r\n\r\nIs this a know bug? Is this potentially a new bug? Is there some new setting I need to change? Is it anything else?\r\n\r\nAny help or input is appreciated.","title":"intellij - open files disappear from view while I&#39;m using them","body":"<p>Not sure if this is a bug or if there's a setting I need to adjust, so I'm posting this question in case it's the latter. I just updated my IntelliJ Community Edition to 2022.2.5.</p>\n<p>I have my Java project listed in the Project view (it happens with every project I've worked on so far). I'm doing Java work, so I go to the src folder and go through the folders and find a class to work on, say PolicyService.java. I have that open and am looking through it, and may or may not be making changes to it. I then go to my PaymentsService.java and open it, so now I have two classes open and in view (not sure of the name of the window on the screen where you have the file open and are editing them). Then maybe I open a few more (although it happens when I have just one file open also).</p>\n<p>Then suddenly, all the files disappear from the view, and the Project view suddenly collapses all the open folders so it looks like I didn't open any folders. Just project-name folder, along with the folders on the same level for External Libraries and Scratches and Consoles.</p>\n<p>What's even weirder is what happens to the breadcrumbs in the bar above the Project view and the open file view. It was normal when I had the file open - project-name &gt; src &gt; main &gt; java &gt; com &gt; am &gt; api &gt; appdesk &gt; service &gt; PolicyService &gt; whatever method I was on. But when the file disappears it changes to Sample &gt; sample &gt; sample &gt; sample &gt; sample &gt; sample &gt; sample &gt; sample &gt; sample &gt; sample &gt; (can't remember what it said in place of the method). It stays like that for a few minutes, and then the breadcrumbs disappear.</p>\n<p>The other interesting thing is that when I go to open one of the files again, instead of showing the top of the file, the file opens at precisely the point I had it open before it disappears.</p>\n<p>Does anybody know what's going on with this? I did a quick Google search on files disappearing from view and didn't see anything about any bugs. A few of the search results that came up had to do with files actually disappearing from the folders themselves, but that's not happening here. The files are still there in the folders, they just disappear from the editor view.</p>\n<p>Is this a know bug? Is this potentially a new bug? Is there some new setting I need to change? Is it anything else?</p>\n<p>Any help or input is appreciated.</p>\n"},{"tags":["java","data-structures","stack","custom-data-type","peek"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1689176367,"post_id":76672236,"comment_id":135177288,"body_markdown":"Why do you think you need instance variables to achieve the peek method? The peek method is pretty much doing exactly the same as the pop method, returning the element from the front only with the difference that it isn&#39;t removing it. I really don&#39;t see what makes you think &quot;I need to add an instance variable to achieve that!&quot;. If you aren&#39;t allowed to add methods to the List classes a solution would be to call`stackList.removeFromFront()` and save the result of that in a local variable, then readdd that saved local variable via `insertAtFront` and then return it.","body":"Why do you think you need instance variables to achieve the peek method? The peek method is pretty much doing exactly the same as the pop method, returning the element from the front only with the difference that it isn&#39;t removing it. I really don&#39;t see what makes you think &quot;I need to add an instance variable to achieve that!&quot;. If you aren&#39;t allowed to add methods to the List classes a solution would be to call<code>stackList.removeFromFront()</code> and save the result of that in a local variable, then readdd that saved local variable via <code>insertAtFront</code> and then return it."},{"owner":{"account_id":3352154,"reputation":206,"user_id":2815984,"display_name":"Roopesh Payyanath"},"score":0,"creation_date":1689176935,"post_id":76672236,"comment_id":135177411,"body_markdown":"I&#39;m sure you will find few examples on leetcode and hackerrank.\nSimilar to https://leetcode.com/problems/min-stack/description/","body":"I&#39;m sure you will find few examples on leetcode and hackerrank. Similar to <a href=\"https://leetcode.com/problems/min-stack/description/\" rel=\"nofollow noreferrer\">leetcode.com/problems/min-stack/description</a>"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1689177036,"post_id":76672236,"comment_id":135177437,"body_markdown":"@RoopeshPayyanath Why would hackerank or leetcode have code that uses some custom classes his teacher/professor has written? I mean sure there are lot&#39;s of existing implementations of a stack data structure, but i really don&#39;t see how this will help in this specific case.","body":"@RoopeshPayyanath Why would hackerank or leetcode have code that uses some custom classes his teacher/professor has written? I mean sure there are lot&#39;s of existing implementations of a stack data structure, but i really don&#39;t see how this will help in this specific case."},{"owner":{"account_id":3352154,"reputation":206,"user_id":2815984,"display_name":"Roopesh Payyanath"},"score":0,"creation_date":1689177666,"post_id":76672236,"comment_id":135177552,"body_markdown":"@OHGODSPIDERS I&#39;m assuming the question is coming from an academic textbook and there should be something similar in the practice question sections of these sites.","body":"@OHGODSPIDERS I&#39;m assuming the question is coming from an academic textbook and there should be something similar in the practice question sections of these sites."},{"owner":{"account_id":26265512,"reputation":3,"user_id":19936114,"display_name":"johnthor"},"score":0,"creation_date":1689179219,"post_id":76672236,"comment_id":135177888,"body_markdown":"I appreciate yall commenting and offering assistance! @OldDogProgrammer I removed his name, but feel like I made my intentions clear - I wasn&#39;t looking for an exact answer but something along the lines of what OHGODSPIDERS was saying (which I appreciate btw). Several people have dropped this class because of the same issues and I am one of the last remaining ones! So again, I appreciate yalls help","body":"I appreciate yall commenting and offering assistance! @OldDogProgrammer I removed his name, but feel like I made my intentions clear - I wasn&#39;t looking for an exact answer but something along the lines of what OHGODSPIDERS was saying (which I appreciate btw). Several people have dropped this class because of the same issues and I am one of the last remaining ones! So again, I appreciate yalls help"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1689179227,"post_id":76672236,"comment_id":135177890,"body_markdown":"I agree with OH GOD SPIDERS.  Let me reinforce that comment:  Is your code for `class List&lt;E&gt;` complete? Does it contain methods you have not shown us? If you have shown all the code, are you allowed or expected to complete `class List &lt;E&gt;`? I ask, because a List should have methods that allow traversal without modifying it. For example, it might have `getHead`, `hasNext`, and `getNext` methods. What you have shown has no such methods: It is not truly a List. If you complete `class List&lt;E&gt;`, your `Stack&lt;T&gt;` problem will be easy to solve.","body":"I agree with OH GOD SPIDERS.  Let me reinforce that comment:  Is your code for <code>class List&lt;E&gt;</code> complete? Does it contain methods you have not shown us? If you have shown all the code, are you allowed or expected to complete <code>class List &lt;E&gt;</code>? I ask, because a List should have methods that allow traversal without modifying it. For example, it might have <code>getHead</code>, <code>hasNext</code>, and <code>getNext</code> methods. What you have shown has no such methods: It is not truly a List. If you complete <code>class List&lt;E&gt;</code>, your <code>Stack&lt;T&gt;</code> problem will be easy to solve."},{"owner":{"account_id":26265512,"reputation":3,"user_id":19936114,"display_name":"johnthor"},"score":0,"creation_date":1689179881,"post_id":76672236,"comment_id":135178010,"body_markdown":"@OldDogProgrammer I&#39;m not allowed to change anything in class List&lt;E&gt;. Trust me, I would&#39;ve solved this issue long ago if I was allowed to change more than just adding a peek method. The whole assignment is an infix to postfix converter, which I have that down. All that&#39;s missing is the peek method which I implemented in my own way, and worked. But the prof said I couldn&#39;t do it that way, and that killed everything for me. Idk why I didn&#39;t think to store it in a variable -_-\n\nStress from the class and overthinking things as usual lol.","body":"@OldDogProgrammer I&#39;m not allowed to change anything in class List&lt;E&gt;. Trust me, I would&#39;ve solved this issue long ago if I was allowed to change more than just adding a peek method. The whole assignment is an infix to postfix converter, which I have that down. All that&#39;s missing is the peek method which I implemented in my own way, and worked. But the prof said I couldn&#39;t do it that way, and that killed everything for me. Idk why I didn&#39;t think to store it in a variable -_-  Stress from the class and overthinking things as usual lol."},{"owner":{"account_id":26265512,"reputation":3,"user_id":19936114,"display_name":"johnthor"},"score":3,"creation_date":1689180044,"post_id":76672236,"comment_id":135178036,"body_markdown":"I implemented what @OHGODSPIDERS said and got it to work. Thank yall again so super much. I understand what I did too, storing the reference to the node in a variable, then making sure that node isn&#39;t actually removed by placing it back in the front , using the temporary variable&#39;s node reference (mouthful). Then returning that temp var&#39;s node reference.","body":"I implemented what @OHGODSPIDERS said and got it to work. Thank yall again so super much. I understand what I did too, storing the reference to the node in a variable, then making sure that node isn&#39;t actually removed by placing it back in the front , using the temporary variable&#39;s node reference (mouthful). Then returning that temp var&#39;s node reference."}],"owner":{"account_id":26265512,"reputation":3,"user_id":19936114,"display_name":"johnthor"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689179055,"creation_date":1689175888,"question_id":76672236,"body_markdown":"I have an assignment due soon and my professor doesn&#39;t actually teach our class. He shows us powerpoints from our textbook and expects us to be able to solve problems with that minor information. \r\n\r\nCurrently, I am working on custom data structures. He has a custom ListNode and List class that I have included, as well as the custom Stack class he created. \r\n\r\nMy problem lies where the only code I can add to this is a peek method in the stack class WITHOUT adding any instance variables. I can only add a variable in the peek method. He has not shown us how this is possible, and when I ask for help (I&#39;ve asked several times) he just says &quot;look at the sample code for the chapter,&quot; quite literally verbatim. I need help and he is NOT helping me, so I am hoping someone here can educate me.\r\n\r\nI will update this post as I need to, and apologize if not enough information is given up front. \r\n\r\nList.java:\r\n\r\n```\r\nimport java.util.NoSuchElementException;\r\n\r\n// class to represent one node in a list\r\nclass ListNode&lt;E&gt;\r\n{\r\n   // package access members; List can access these directly\r\n   E data; // data for this node\r\n   ListNode&lt;E&gt; nextNode; // reference to the next node in the list\r\n\r\n   // constructor creates a ListNode that refers to object\r\n   ListNode(E object)\r\n   {\r\n\t   this(object, null);\r\n   }\r\n\r\n   // constructor creates ListNode that refers to the specified\r\n   // object and to the next ListNode\r\n   ListNode(E object, ListNode&lt;E&gt; node)\r\n   {\r\n      data = object;    \r\n      nextNode = node;  \r\n   } \r\n\r\n   // return reference to data in node\r\n   E getData()\r\n   {\r\n\t   return data;\r\n   }\r\n\r\n   // return reference to next node in list\r\n   ListNode&lt;E&gt; getNext()\r\n   {\r\n\t   return nextNode;\r\n   }\r\n} \r\n\r\n// class List definition\r\npublic class List&lt;E&gt; {\r\n   private ListNode&lt;E&gt; firstNode;\r\n   private ListNode&lt;E&gt; lastNode; \r\n   private String name; // string like &quot;list&quot; used in printing\r\n\r\n   // constructor creates empty List with &quot;list&quot; as the name\r\n   public List()\r\n   {\r\n\t   this(&quot;list&quot;);\r\n   }\r\n\r\n   // constructor creates an empty List with a name\r\n   public List(String listName)\r\n   {\r\n      name = listName;\r\n      firstNode = lastNode = null;\r\n   } \r\n\r\n   // insert item at front of List\r\n   public void insertAtFront(E insertItem)\r\n   {\r\n      if (isEmpty()) { // firstNode and lastNode refer to same object\r\n         firstNode = lastNode = new ListNode&lt;E&gt;(insertItem);\r\n      } \r\n      else { // firstNode refers to new node\r\n         firstNode = new ListNode&lt;E&gt;(insertItem, firstNode);\r\n      } \r\n   } \r\n\r\n   // insert item at end of List\r\n   public void insertAtBack(E insertItem)\r\n   {\r\n      if (isEmpty()) { // firstNode and lastNode refer to same object\r\n         firstNode = lastNode = new ListNode&lt;E&gt;(insertItem);\r\n      } \r\n      else { // lastNode&#39;s nextNode refers to new node\r\n         lastNode = lastNode.nextNode = new ListNode&lt;E&gt;(insertItem);\r\n      } \r\n   } \r\n\r\n   // remove first node from List\r\n   public E removeFromFront() throws NoSuchElementException\r\n   {\r\n      if (isEmpty()) // throw exception if List is empty\r\n\t  { \r\n         throw new NoSuchElementException(name + &quot; is empty&quot;);\r\n      }\r\n\r\n      E removedItem = firstNode.data; // retrieve data being removed\r\n\r\n      // update references firstNode and lastNode \r\n      if (firstNode == lastNode)\r\n\t  {\r\n         firstNode = lastNode = null;\r\n      }\r\n      else\r\n\t  {\r\n         firstNode = firstNode.nextNode;\r\n      }\r\n\r\n      return removedItem; // return removed node data\r\n   } \r\n\r\n   // remove last node from List\r\n   public E removeFromBack() throws NoSuchElementException\r\n   {\r\n      if (isEmpty()) // throw exception if List is empty\r\n\t  { \r\n         throw new NoSuchElementException(name + &quot; is empty&quot;);\r\n      }\r\n\r\n      E removedItem = lastNode.data; // retrieve data being removed\r\n\r\n      // update references firstNode and lastNode\r\n      if (firstNode == lastNode)\r\n\t  {\r\n         firstNode = lastNode = null;\r\n      }\r\n      else\r\n\t  {  // locate new last node\r\n         ListNode&lt;E&gt; current = firstNode;\r\n\r\n         // loop while current node does not refer to lastNode\r\n         while (current.nextNode != lastNode)\r\n\t\t {\r\n            current = current.nextNode;\r\n         }\r\n   \r\n         lastNode = current; // current is new lastNode\r\n         current.nextNode = null;\r\n      } \r\n\r\n      return removedItem; // return removed node data\r\n   } \r\n\r\n   // determine whether list is empty; returns true if so\r\n   public boolean isEmpty()\r\n   {\r\n\t   return firstNode == null;\r\n   }\r\n\r\n   // output list contents\r\n   public void print()\r\n   {\r\n      if (isEmpty())\r\n\t  {\r\n         System.out.printf(&quot;Empty %s%n&quot;, name);\r\n         return;\r\n      } \r\n\r\n      System.out.printf(&quot;The %s is: &quot;, name);\r\n      ListNode&lt;E&gt; current = firstNode;\r\n\r\n      // while not at end of list, output current node&#39;s data\r\n      while (current != null)\r\n\t  {\r\n         System.out.printf(&quot;%s &quot;, current.data);\r\n         current = current.nextNode;\r\n      } \r\n\r\n      System.out.println();\r\n   } \r\n}\r\n```\r\n\r\nStack.java:\r\n\r\n```\r\nimport java.util.NoSuchElementException;\r\n\r\npublic class Stack&lt;T&gt;\r\n{\r\n   private final List&lt;T&gt; stackList;\r\n\r\n   // no-argument constructor\r\n   public Stack()\r\n   { \r\n      stackList = new List&lt;&gt;(&quot;stack&quot;); \r\n   }\r\n\r\n   // add object to stack\r\n   public void push(T object)\r\n   { \r\n      stackList.insertAtFront(object); \r\n   }\r\n\r\n   // remove object from stack\r\n   public T pop() throws NoSuchElementException\r\n   { \r\n      return stackList.removeFromFront(); \r\n   }\r\n\r\n   // determine if stack is empty\r\n   public boolean isEmpty()\r\n   { \r\n      return stackList.isEmpty(); \r\n   }\r\n\r\n   // output stack contents\r\n   public void print()\r\n   { \r\n      stackList.print(); \r\n   }\r\n}\r\n```\r\n\r\nOnce again, thanks for the help and I apologize if there is missing information. I will update as needed with whatever yall need to help me out with this. I just need to write a functional peek method to return the top of the stack to my test class with a main(). I&#39;m not just looking for an answer, I would appreciate an explanation of how and why it works. \r\n\r\nThere is something I am missing here obviously, and I cannot put my finger on it.\r\n\r\nI looked everywhere online including here on StackOverflow, and everyone uses either prebuilt data structures (which we are told to never reinvent the wheel but still need to learn how they work), and I HAVE to use the files that he has included, which are missing methods like size in the List class, which would make my peek method fairly easy to achieve. \r\n\r\nThe only way I got this to work was to add an instance variable and manipulate the variable in the push and pop methods to always be pointing at the top of the stack. After he said I couldn&#39;t do that, I erased everything and screamed lol.","title":"custom stack peek method in java","body":"<p>I have an assignment due soon and my professor doesn't actually teach our class. He shows us powerpoints from our textbook and expects us to be able to solve problems with that minor information.</p>\n<p>Currently, I am working on custom data structures. He has a custom ListNode and List class that I have included, as well as the custom Stack class he created.</p>\n<p>My problem lies where the only code I can add to this is a peek method in the stack class WITHOUT adding any instance variables. I can only add a variable in the peek method. He has not shown us how this is possible, and when I ask for help (I've asked several times) he just says &quot;look at the sample code for the chapter,&quot; quite literally verbatim. I need help and he is NOT helping me, so I am hoping someone here can educate me.</p>\n<p>I will update this post as I need to, and apologize if not enough information is given up front.</p>\n<p>List.java:</p>\n<pre><code>import java.util.NoSuchElementException;\n\n// class to represent one node in a list\nclass ListNode&lt;E&gt;\n{\n   // package access members; List can access these directly\n   E data; // data for this node\n   ListNode&lt;E&gt; nextNode; // reference to the next node in the list\n\n   // constructor creates a ListNode that refers to object\n   ListNode(E object)\n   {\n       this(object, null);\n   }\n\n   // constructor creates ListNode that refers to the specified\n   // object and to the next ListNode\n   ListNode(E object, ListNode&lt;E&gt; node)\n   {\n      data = object;    \n      nextNode = node;  \n   } \n\n   // return reference to data in node\n   E getData()\n   {\n       return data;\n   }\n\n   // return reference to next node in list\n   ListNode&lt;E&gt; getNext()\n   {\n       return nextNode;\n   }\n} \n\n// class List definition\npublic class List&lt;E&gt; {\n   private ListNode&lt;E&gt; firstNode;\n   private ListNode&lt;E&gt; lastNode; \n   private String name; // string like &quot;list&quot; used in printing\n\n   // constructor creates empty List with &quot;list&quot; as the name\n   public List()\n   {\n       this(&quot;list&quot;);\n   }\n\n   // constructor creates an empty List with a name\n   public List(String listName)\n   {\n      name = listName;\n      firstNode = lastNode = null;\n   } \n\n   // insert item at front of List\n   public void insertAtFront(E insertItem)\n   {\n      if (isEmpty()) { // firstNode and lastNode refer to same object\n         firstNode = lastNode = new ListNode&lt;E&gt;(insertItem);\n      } \n      else { // firstNode refers to new node\n         firstNode = new ListNode&lt;E&gt;(insertItem, firstNode);\n      } \n   } \n\n   // insert item at end of List\n   public void insertAtBack(E insertItem)\n   {\n      if (isEmpty()) { // firstNode and lastNode refer to same object\n         firstNode = lastNode = new ListNode&lt;E&gt;(insertItem);\n      } \n      else { // lastNode's nextNode refers to new node\n         lastNode = lastNode.nextNode = new ListNode&lt;E&gt;(insertItem);\n      } \n   } \n\n   // remove first node from List\n   public E removeFromFront() throws NoSuchElementException\n   {\n      if (isEmpty()) // throw exception if List is empty\n      { \n         throw new NoSuchElementException(name + &quot; is empty&quot;);\n      }\n\n      E removedItem = firstNode.data; // retrieve data being removed\n\n      // update references firstNode and lastNode \n      if (firstNode == lastNode)\n      {\n         firstNode = lastNode = null;\n      }\n      else\n      {\n         firstNode = firstNode.nextNode;\n      }\n\n      return removedItem; // return removed node data\n   } \n\n   // remove last node from List\n   public E removeFromBack() throws NoSuchElementException\n   {\n      if (isEmpty()) // throw exception if List is empty\n      { \n         throw new NoSuchElementException(name + &quot; is empty&quot;);\n      }\n\n      E removedItem = lastNode.data; // retrieve data being removed\n\n      // update references firstNode and lastNode\n      if (firstNode == lastNode)\n      {\n         firstNode = lastNode = null;\n      }\n      else\n      {  // locate new last node\n         ListNode&lt;E&gt; current = firstNode;\n\n         // loop while current node does not refer to lastNode\n         while (current.nextNode != lastNode)\n         {\n            current = current.nextNode;\n         }\n   \n         lastNode = current; // current is new lastNode\n         current.nextNode = null;\n      } \n\n      return removedItem; // return removed node data\n   } \n\n   // determine whether list is empty; returns true if so\n   public boolean isEmpty()\n   {\n       return firstNode == null;\n   }\n\n   // output list contents\n   public void print()\n   {\n      if (isEmpty())\n      {\n         System.out.printf(&quot;Empty %s%n&quot;, name);\n         return;\n      } \n\n      System.out.printf(&quot;The %s is: &quot;, name);\n      ListNode&lt;E&gt; current = firstNode;\n\n      // while not at end of list, output current node's data\n      while (current != null)\n      {\n         System.out.printf(&quot;%s &quot;, current.data);\n         current = current.nextNode;\n      } \n\n      System.out.println();\n   } \n}\n</code></pre>\n<p>Stack.java:</p>\n<pre><code>import java.util.NoSuchElementException;\n\npublic class Stack&lt;T&gt;\n{\n   private final List&lt;T&gt; stackList;\n\n   // no-argument constructor\n   public Stack()\n   { \n      stackList = new List&lt;&gt;(&quot;stack&quot;); \n   }\n\n   // add object to stack\n   public void push(T object)\n   { \n      stackList.insertAtFront(object); \n   }\n\n   // remove object from stack\n   public T pop() throws NoSuchElementException\n   { \n      return stackList.removeFromFront(); \n   }\n\n   // determine if stack is empty\n   public boolean isEmpty()\n   { \n      return stackList.isEmpty(); \n   }\n\n   // output stack contents\n   public void print()\n   { \n      stackList.print(); \n   }\n}\n</code></pre>\n<p>Once again, thanks for the help and I apologize if there is missing information. I will update as needed with whatever yall need to help me out with this. I just need to write a functional peek method to return the top of the stack to my test class with a main(). I'm not just looking for an answer, I would appreciate an explanation of how and why it works.</p>\n<p>There is something I am missing here obviously, and I cannot put my finger on it.</p>\n<p>I looked everywhere online including here on StackOverflow, and everyone uses either prebuilt data structures (which we are told to never reinvent the wheel but still need to learn how they work), and I HAVE to use the files that he has included, which are missing methods like size in the List class, which would make my peek method fairly easy to achieve.</p>\n<p>The only way I got this to work was to add an instance variable and manipulate the variable in the push and pop methods to always be pointing at the top of the stack. After he said I couldn't do that, I erased everything and screamed lol.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1689185761,"post_id":76672521,"comment_id":135179176,"body_markdown":"Could you add the code that demonstrates that one is faster that the other? I fail to imagine why there could possibly be a difference.","body":"Could you add the code that demonstrates that one is faster that the other? I fail to imagine why there could possibly be a difference."}],"answers":[{"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1689179210,"post_id":76672629,"comment_id":135177886,"body_markdown":"There are exactly as many MyService as there are MyService.obj.","body":"There are exactly as many MyService as there are MyService.obj."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1689185374,"post_id":76672629,"comment_id":135179105,"body_markdown":"@S&#246;ren is right. The only advantage of using a private object to lock on is that external code cannot &quot;steal&quot; your lock by using `synchronized (beanInstance)`. However, Spring Boot&#39;s proxy mechanism probably already prevents that.","body":"@S&#246;ren is right. The only advantage of using a private object to lock on is that external code cannot &quot;steal&quot; your lock by using <code>synchronized (beanInstance)</code>. However, Spring Boot&#39;s proxy mechanism probably already prevents that."}],"tags":[],"owner":{"account_id":19935722,"reputation":214,"user_id":14608443,"display_name":"IveGotCodeButImNotACoder"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689178836,"creation_date":1689178836,"answer_id":76672629,"question_id":76672521,"body_markdown":"In the first example, it means that the lock is acquired on the instance of the class itself (eg `this` refers to current instance). This creates a single  lock for all the synchronized blocks in the class. Multiple threads are trying to execute your methods at the same time, so they will fight for the same lock. This can cause delays as each thread is waiting for the lock to be released. \r\n\r\nIn the second scenario you give, you create a separate `Object` instance (`obj`) and each method now synchronises on its own `obj` instance resulting in each method having its own lock. This leads to better performance as you mention because the threads are acquiring different locks rather than the same one. ","title":"Using Synchonized in Springboot","body":"<p>In the first example, it means that the lock is acquired on the instance of the class itself (eg <code>this</code> refers to current instance). This creates a single  lock for all the synchronized blocks in the class. Multiple threads are trying to execute your methods at the same time, so they will fight for the same lock. This can cause delays as each thread is waiting for the lock to be released.</p>\n<p>In the second scenario you give, you create a separate <code>Object</code> instance (<code>obj</code>) and each method now synchronises on its own <code>obj</code> instance resulting in each method having its own lock. This leads to better performance as you mention because the threads are acquiring different locks rather than the same one.</p>\n"}],"owner":{"account_id":5701123,"reputation":103,"user_id":4506038,"display_name":"Somen Biswas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689178836,"creation_date":1689178005,"question_id":76672521,"body_markdown":"I am seeing this behavior in my Springboot application. So, I have a component in my application as:\r\n\r\n    @Service\r\n    public class MyService {\r\n       public methodA() {\r\n          synchronized(this) {\r\n               // some operation\r\n          }  \r\n       }\r\n    \r\n       public methodB() {\r\n          synchronized(this) {\r\n               // some operation\r\n          }  \r\n       }\r\n        \r\n       public methodC() {\r\n          synchronized(this) {\r\n               // some operation\r\n          }  \r\n       }\r\n    }\r\n\r\nWhen I am running multiple threads calling the methods, there is slowness seen which is because of the locking, which is as expected.\r\n\r\n\r\nNow for the same class, if intstead of using `synchronized(this)`, if I use a different object created as member variable in the class, I don&#39;t see the slowness anymore.\r\n\r\n   \r\n\r\n    @Service\r\n    public class MyService {\r\n       Object obj;\r\n       \r\n       @PostConstruct\r\n       void init() {\r\n          this.obj = new Object();\r\n       }\r\n       \r\n       public methodA() {\r\n          synchronized(obj) {\r\n               // some operation\r\n          }  \r\n       }\r\n    \r\n       public methodB() {\r\n          synchronized(obj) {\r\n               // some operation\r\n          }  \r\n       }\r\n    \r\n       public methodC() {\r\n          synchronized(obj) {\r\n               // some operation\r\n          }  \r\n       }\r\n    }\r\n\r\nI am having hard time in understanding this behaviour, since in both cases object monitor is used, only that objects are different. Does it have anything to do with Springboot bean used as the monitor?","title":"Using Synchonized in Springboot","body":"<p>I am seeing this behavior in my Springboot application. So, I have a component in my application as:</p>\n<pre><code>@Service\npublic class MyService {\n   public methodA() {\n      synchronized(this) {\n           // some operation\n      }  \n   }\n\n   public methodB() {\n      synchronized(this) {\n           // some operation\n      }  \n   }\n    \n   public methodC() {\n      synchronized(this) {\n           // some operation\n      }  \n   }\n}\n</code></pre>\n<p>When I am running multiple threads calling the methods, there is slowness seen which is because of the locking, which is as expected.</p>\n<p>Now for the same class, if intstead of using <code>synchronized(this)</code>, if I use a different object created as member variable in the class, I don't see the slowness anymore.</p>\n<pre><code>@Service\npublic class MyService {\n   Object obj;\n   \n   @PostConstruct\n   void init() {\n      this.obj = new Object();\n   }\n   \n   public methodA() {\n      synchronized(obj) {\n           // some operation\n      }  \n   }\n\n   public methodB() {\n      synchronized(obj) {\n           // some operation\n      }  \n   }\n\n   public methodC() {\n      synchronized(obj) {\n           // some operation\n      }  \n   }\n}\n</code></pre>\n<p>I am having hard time in understanding this behaviour, since in both cases object monitor is used, only that objects are different. Does it have anything to do with Springboot bean used as the monitor?</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1689108023,"post_id":76665116,"comment_id":135165941,"body_markdown":"Have you checked the compiled application where it contains the font resource?","body":"Have you checked the compiled application where it contains the font resource?"},{"owner":{"account_id":17216137,"reputation":31,"user_id":16906770,"display_name":"Armin Brkić"},"score":0,"creation_date":1689109132,"post_id":76665116,"comment_id":135166150,"body_markdown":"the font file is also there in the css folder.  I tried putting it in the root folder as well and I get the same error.  I create a File based on that path, I don&#39;t get an error.  so it is included in the application","body":"the font file is also there in the css folder.  I tried putting it in the root folder as well and I get the same error.  I create a File based on that path, I don&#39;t get an error.  so it is included in the application"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1689147534,"post_id":76665116,"comment_id":135170333,"body_markdown":"Can you share the stack trace of the issue and show which code line in your code is indicated therein?","body":"Can you share the stack trace of the issue and show which code line in your code is indicated therein?"},{"owner":{"account_id":17216137,"reputation":31,"user_id":16906770,"display_name":"Armin Brkić"},"score":0,"creation_date":1689178862,"post_id":76665116,"comment_id":135177809,"body_markdown":"I edited the question, I marked where I get the error","body":"I edited the question, I marked where I get the error"},{"owner":{"account_id":17216137,"reputation":31,"user_id":16906770,"display_name":"Armin Brkić"},"score":0,"creation_date":1689185926,"post_id":76665116,"comment_id":135179195,"body_markdown":"Also if I totaly remove external fonts I catch exception &quot;Invalid font type&quot;  on first paragraph","body":"Also if I totaly remove external fonts I catch exception &quot;Invalid font type&quot;  on first paragraph"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1689226104,"post_id":76665116,"comment_id":135183797,"body_markdown":"You show where you catch the exception but not where it is thrown. Can you also output the stack trace in your`catch` block?","body":"You show where you catch the exception but not where it is thrown. Can you also output the stack trace in your<code>catch</code> block?"}],"owner":{"account_id":17216137,"reputation":31,"user_id":16906770,"display_name":"Armin Brkić"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689178696,"creation_date":1689102859,"question_id":76665116,"body_markdown":"I have a problem when generating a PDF document in Java. When running in an IDE environment, everything works. However, when I build the .exe I get error &quot;css/Montserrat-Regular.ttf not found&quot; and PDF is not created\r\nI also tried to delete css/, I tried to put the font file in the same folder where the class is\r\n\r\nAnd font file is included in build. I am using &quot;Intellij Idea IDE&quot;\r\n\r\nImports:\r\n\r\n    implementation &#39;com.itextpdf:itext7-core:7.0.4&#39;\r\n    \r\n    import com.itextpdf.kernel.font.PdfFont;\r\n    \r\n    import com.itextpdf.kernel.pdf.PdfDocument;\r\n\r\nI tried this\r\n\r\n    static PdfFont regular, bold;\r\n\r\n    URL font_path = Thread.currentThread().getContextClassLoader().getResource(&quot;css/Montserrat-Regular.ttf&quot;);\r\n            try (InputStream is = font_path.openStream()) {\r\n                byte[] bytes = StreamUtil.inputStreamToArray(is);\r\n                regular = PdfFontFactory.createFont(bytes, BaseFont.IDENTITY_H, true);\r\n\r\n            }\r\nor this\r\n\r\n                String link1 = Thread.currentThread().getContextClassLoader().getResource(&quot;css/Montserrat-Regular.ttf&quot;).getPath();\r\n            regular = PdfFontFactory.createFont(link1, BaseFont.IDENTITY_H, true);\r\n\r\nEven this not work\r\n\r\n    regular = PdfFontFactory.createFont(FontConstants.HELVETICA, BaseFont.IDENTITY_H, true);\r\n            bold = PdfFontFactory.createFont(FontConstants.TIMES_BOLD, BaseFont.IDENTITY_H, true);\r\n\r\nAnd this\r\n\r\n            String path1 = (CreatePDFInvoice.class.getClassLoader().getResource(&quot;css/Montserrat-Regular.ttf&quot;).getPath());\r\n            regular = PdfFontFactory.createFont(path1, &quot;Identity-H&quot;, true);\r\n\r\n\r\nThis is part of code:\r\n\r\n\r\n    try {\r\n\r\n            String link1 = CreatePDFKUF.class.getClassLoader().getResource(&quot;css/Montserrat-Regular.ttf&quot;).getPath();\r\n            String link2 = CreatePDFKUF.class.getClassLoader()..getResource(&quot;css/Montserrat-Bold.ttf&quot;).getPath();\r\n\r\n            // This dialog is executed\r\n            Functions.showOKdialogSimple(&quot;Upute&quot;, null, link1);\r\n\r\n            // executed - error\r\n            regular = PdfFontFactory.createFont(link1, BaseFont.IDENTITY_H, true);\r\n\r\n           \r\n\t\t\tString folder = Functions.odabranaFirma.getNaziv();\r\n            String subfolder = &quot;KIF&quot;;\r\n            String filename = Functions.odabranaFirma.getPDV_broj() + &quot;_&quot; + poreskiPeriod;\r\n            theDir = new File(&quot;C:\\\\CSV_PDV\\\\&quot; + folder + &quot;\\\\&quot; + subfolder + &quot;\\\\&quot;);\r\n\r\n            System.out.println(theDir.getPath());\r\n\r\n            if (!theDir.exists()) {\r\n                System.out.println(&quot;Kreiraj&quot;);\r\n                theDir.mkdirs();\r\n            }\r\n\r\n            String path = &quot;C:/CSV_PDV/&quot; + filename + &quot;_&quot; + LocalDate.now() + &quot;_&quot; + String.valueOf(Functions.getTime()).replace(&quot;:&quot;, &quot;&quot;) + &quot;.pdf&quot;;\r\n            System.out.println(&quot;Naziv datoteke &quot; + path);\r\n            PdfWriter pdfWriter = new PdfWriter(path);\r\n            PdfDocument pdfDocument = new PdfDocument(pdfWriter);\r\n            pdfDocument.setDefaultPageSize(PageSize.A4.rotate());\r\n\r\n            Document document = new Document(pdfDocument);\r\n\r\n\r\n            PageXofY event = new PageXofY(CreatePDFKUF.class, pdfDocument);\r\n            pdfDocument.addEventHandler(PdfDocumentEvent.END_PAGE, event);\r\n\r\n\r\n            setHeader(document);\r\n            setDetails(document, poreskiPeriod);\r\n            setTable(document, kufs);\r\n            document.add(sp);\r\n            document.add(sp);\r\n            UnitValue pagesize = document.getWidth();\r\n            System.err.println(pagesize + &quot; page size&quot;);\r\n\r\n\r\n            event.writeTotal(pdfDocument);\r\n            document.close();\r\n\r\n\r\n        } catch (Exception e) {\r\n            // This exception is executed\r\n            Functions.showOKdialogSimple(&quot;Greška&quot;, null, e.getMessage());\r\n\r\n        }\r\n\r\n[![First dialog][1]][1]\r\n[![Error dialog][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jHVvR.png\r\n  [2]: https://i.stack.imgur.com/vRDHn.png","title":"PdfDocument problem with loading font file - Java","body":"<p>I have a problem when generating a PDF document in Java. When running in an IDE environment, everything works. However, when I build the .exe I get error &quot;css/Montserrat-Regular.ttf not found&quot; and PDF is not created\nI also tried to delete css/, I tried to put the font file in the same folder where the class is</p>\n<p>And font file is included in build. I am using &quot;Intellij Idea IDE&quot;</p>\n<p>Imports:</p>\n<pre><code>implementation 'com.itextpdf:itext7-core:7.0.4'\n\nimport com.itextpdf.kernel.font.PdfFont;\n\nimport com.itextpdf.kernel.pdf.PdfDocument;\n</code></pre>\n<p>I tried this</p>\n<pre><code>static PdfFont regular, bold;\n\nURL font_path = Thread.currentThread().getContextClassLoader().getResource(&quot;css/Montserrat-Regular.ttf&quot;);\n        try (InputStream is = font_path.openStream()) {\n            byte[] bytes = StreamUtil.inputStreamToArray(is);\n            regular = PdfFontFactory.createFont(bytes, BaseFont.IDENTITY_H, true);\n\n        }\n</code></pre>\n<p>or this</p>\n<pre><code>            String link1 = Thread.currentThread().getContextClassLoader().getResource(&quot;css/Montserrat-Regular.ttf&quot;).getPath();\n        regular = PdfFontFactory.createFont(link1, BaseFont.IDENTITY_H, true);\n</code></pre>\n<p>Even this not work</p>\n<pre><code>regular = PdfFontFactory.createFont(FontConstants.HELVETICA, BaseFont.IDENTITY_H, true);\n        bold = PdfFontFactory.createFont(FontConstants.TIMES_BOLD, BaseFont.IDENTITY_H, true);\n</code></pre>\n<p>And this</p>\n<pre><code>        String path1 = (CreatePDFInvoice.class.getClassLoader().getResource(&quot;css/Montserrat-Regular.ttf&quot;).getPath());\n        regular = PdfFontFactory.createFont(path1, &quot;Identity-H&quot;, true);\n</code></pre>\n<p>This is part of code:</p>\n<pre><code>try {\n\n        String link1 = CreatePDFKUF.class.getClassLoader().getResource(&quot;css/Montserrat-Regular.ttf&quot;).getPath();\n        String link2 = CreatePDFKUF.class.getClassLoader()..getResource(&quot;css/Montserrat-Bold.ttf&quot;).getPath();\n\n        // This dialog is executed\n        Functions.showOKdialogSimple(&quot;Upute&quot;, null, link1);\n\n        // executed - error\n        regular = PdfFontFactory.createFont(link1, BaseFont.IDENTITY_H, true);\n\n       \n        String folder = Functions.odabranaFirma.getNaziv();\n        String subfolder = &quot;KIF&quot;;\n        String filename = Functions.odabranaFirma.getPDV_broj() + &quot;_&quot; + poreskiPeriod;\n        theDir = new File(&quot;C:\\\\CSV_PDV\\\\&quot; + folder + &quot;\\\\&quot; + subfolder + &quot;\\\\&quot;);\n\n        System.out.println(theDir.getPath());\n\n        if (!theDir.exists()) {\n            System.out.println(&quot;Kreiraj&quot;);\n            theDir.mkdirs();\n        }\n\n        String path = &quot;C:/CSV_PDV/&quot; + filename + &quot;_&quot; + LocalDate.now() + &quot;_&quot; + String.valueOf(Functions.getTime()).replace(&quot;:&quot;, &quot;&quot;) + &quot;.pdf&quot;;\n        System.out.println(&quot;Naziv datoteke &quot; + path);\n        PdfWriter pdfWriter = new PdfWriter(path);\n        PdfDocument pdfDocument = new PdfDocument(pdfWriter);\n        pdfDocument.setDefaultPageSize(PageSize.A4.rotate());\n\n        Document document = new Document(pdfDocument);\n\n\n        PageXofY event = new PageXofY(CreatePDFKUF.class, pdfDocument);\n        pdfDocument.addEventHandler(PdfDocumentEvent.END_PAGE, event);\n\n\n        setHeader(document);\n        setDetails(document, poreskiPeriod);\n        setTable(document, kufs);\n        document.add(sp);\n        document.add(sp);\n        UnitValue pagesize = document.getWidth();\n        System.err.println(pagesize + &quot; page size&quot;);\n\n\n        event.writeTotal(pdfDocument);\n        document.close();\n\n\n    } catch (Exception e) {\n        // This exception is executed\n        Functions.showOKdialogSimple(&quot;Greška&quot;, null, e.getMessage());\n\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jHVvR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jHVvR.png\" alt=\"First dialog\" /></a>\n<a href=\"https://i.stack.imgur.com/vRDHn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vRDHn.png\" alt=\"Error dialog\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1689170242,"post_id":76671307,"comment_id":135175715,"body_markdown":"Just place the `application.properties` next to your jar file and it will be loaded. If you really want it like this please show the logging you have (the output while starting the application).","body":"Just place the <code>application.properties</code> next to your jar file and it will be loaded. If you really want it like this please show the logging you have (the output while starting the application)."},{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":0,"creation_date":1689173792,"post_id":76671307,"comment_id":135176665,"body_markdown":"You almost certainly need to escape that path.  IIRC you can also just use the other slash and Spring will convert it for you (i.e. file:D:/config/application.properties )","body":"You almost certainly need to escape that path.  IIRC you can also just use the other slash and Spring will convert it for you (i.e. file:D:/config/application.properties )"},{"owner":{"account_id":29002894,"reputation":1,"user_id":22216121,"display_name":"Vijaya Kumar"},"score":0,"creation_date":1689178685,"post_id":76671307,"comment_id":135177780,"body_markdown":"I have a copy of properties file next to jar file. still spring unable to read the file.","body":"I have a copy of properties file next to jar file. still spring unable to read the file."},{"owner":{"account_id":29002894,"reputation":1,"user_id":22216121,"display_name":"Vijaya Kumar"},"score":0,"creation_date":1689178765,"post_id":76671307,"comment_id":135177794,"body_markdown":"tried all sort of slash \\\\ // \\ /.. still unable to load the properties file.","body":"tried all sort of slash \\\\ // \\ /.. still unable to load the properties file."}],"answers":[{"comments":[{"owner":{"account_id":29002894,"reputation":1,"user_id":22216121,"display_name":"Vijaya Kumar"},"score":0,"creation_date":1689178386,"post_id":76671959,"comment_id":135177715,"body_markdown":"yes i have read write access","body":"yes i have read write access"}],"tags":[],"owner":{"account_id":23657270,"reputation":21,"user_id":17685341,"display_name":"Alexy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689173955,"creation_date":1689173955,"answer_id":76671959,"question_id":76671307,"body_markdown":"I tried with a SpringBoot 3.0.4 app, Java 19 and placing the `appplication.properties` file in another disk. I had no issue.\r\nI used the same command line as you :\r\n\r\n    java -jar my-app.jar --spring.config.location=file:J:\\application.properties\r\n\r\nBe sure you have right to read the file.","title":"How to Externalize the application.properties Configuration in Spring Boot Application","body":"<p>I tried with a SpringBoot 3.0.4 app, Java 19 and placing the <code>appplication.properties</code> file in another disk. I had no issue.\nI used the same command line as you :</p>\n<pre><code>java -jar my-app.jar --spring.config.location=file:J:\\application.properties\n</code></pre>\n<p>Be sure you have right to read the file.</p>\n"}],"owner":{"account_id":29002894,"reputation":1,"user_id":22216121,"display_name":"Vijaya Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689178349,"creation_date":1689169707,"question_id":76671307,"body_markdown":"In my springboot 2.5.4 standalone application (not a web application) i am trying to externalize the application.properties (out of the jar file).\r\n\r\nHere is the command. \r\n\r\njava -jar  app-1.0.jar\t--spring.config.location=file:D:\\config\\application.properties \r\n\r\nI am getting error\r\n\r\nCaused by: java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist\r\n\r\nEven setting environmental variable does not work \r\nset SPRING_CONFIG_NAME=application \r\nset SPRING_CONFIG_LOCATION=file:D:\\config\\application.properties\r\n\r\nIs there any other solution. \r\n\r\n [Followed this](https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-external-config.html) \r\n\r\nHere is the log\r\n```\r\n2023-07-12 21:34:40.984  INFO 8604 --- [           main] com.s7.SchedulerApplication              : Starting SchedulerApplication v2.1.4 using Java 11.0.16.1 on DESKTOP-6NOAC01 with PID 8604 (C:\\Users\\app\\IdeaProjects\\scheduler-app\\target\\scheduler-app.2.1.4.jar started by app in C:\\Users\\app\\IdeaProjects\\scheduler-app\\target)\r\n2023-07-12 21:34:41.028  INFO 8604 --- [           main] com.s7.SchedulerApplication              : No active profile set, falling back to default profiles: default\r\n2023-07-12 21:34:41.435  WARN 8604 --- [           main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.s7.SchedulerApplication]; nested exception is java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist\r\n2023-07-12 21:34:41.617 ERROR 8604 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.s7.SchedulerApplication]; nested exception is java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:189) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.4.jar!/:2.5.4]\r\n        at com.s7.SchedulerApplication.main(SchedulerApplication.java:35) ~[classes!/:2.1.4]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[scheduler-app.2.1.4.jar:2.1.4]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[scheduler-app.2.1.4.jar:2.1.4]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[scheduler-app.2.1.4.jar:2.1.4]\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[scheduler-app.2.1.4.jar:2.1.4]\r\nCaused by: java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist\r\n        at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:187) ~[spring-core-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.core.io.support.EncodedResource.getInputStream(EncodedResource.java:159) ~[spring-core-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:110) ~[spring-core-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:81) ~[spring-core-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.core.io.support.PropertiesLoaderUtils.loadProperties(PropertiesLoaderUtils.java:67) ~[spring-core-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.core.io.support.ResourcePropertySource.&lt;init&gt;(ResourcePropertySource.java:67) ~[spring-core-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.core.io.support.DefaultPropertySourceFactory.createPropertySource(DefaultPropertySourceFactory.java:37) ~[spring-core-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processPropertySource(ConfigurationClassParser.java:463) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:280) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:199) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:304) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n        ... 19 common frames omitted\r\n```\r\n","title":"How to Externalize the application.properties Configuration in Spring Boot Application","body":"<p>In my springboot 2.5.4 standalone application (not a web application) i am trying to externalize the application.properties (out of the jar file).</p>\n<p>Here is the command.</p>\n<p>java -jar  app-1.0.jar  --spring.config.location=file:D:\\config\\application.properties</p>\n<p>I am getting error</p>\n<p>Caused by: java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist</p>\n<p>Even setting environmental variable does not work\nset SPRING_CONFIG_NAME=application\nset SPRING_CONFIG_LOCATION=file:D:\\config\\application.properties</p>\n<p>Is there any other solution.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">Followed this</a></p>\n<p>Here is the log</p>\n<pre><code>2023-07-12 21:34:40.984  INFO 8604 --- [           main] com.s7.SchedulerApplication              : Starting SchedulerApplication v2.1.4 using Java 11.0.16.1 on DESKTOP-6NOAC01 with PID 8604 (C:\\Users\\app\\IdeaProjects\\scheduler-app\\target\\scheduler-app.2.1.4.jar started by app in C:\\Users\\app\\IdeaProjects\\scheduler-app\\target)\n2023-07-12 21:34:41.028  INFO 8604 --- [           main] com.s7.SchedulerApplication              : No active profile set, falling back to default profiles: default\n2023-07-12 21:34:41.435  WARN 8604 --- [           main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.s7.SchedulerApplication]; nested exception is java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist\n2023-07-12 21:34:41.617 ERROR 8604 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.s7.SchedulerApplication]; nested exception is java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:189) ~[spring-context-5.3.9.jar!/:5.3.9]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.9.jar!/:5.3.9]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.9.jar!/:5.3.9]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.9.jar!/:5.3.9]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.9.jar!/:5.3.9]\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.9.jar!/:5.3.9]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.9.jar!/:5.3.9]\n        at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64) ~[spring-boot-2.5.4.jar!/:2.5.4]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.4.jar!/:2.5.4]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.4.jar!/:2.5.4]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.4.jar!/:2.5.4]\n        at com.s7.SchedulerApplication.main(SchedulerApplication.java:35) ~[classes!/:2.1.4]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[scheduler-app.2.1.4.jar:2.1.4]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[scheduler-app.2.1.4.jar:2.1.4]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[scheduler-app.2.1.4.jar:2.1.4]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[scheduler-app.2.1.4.jar:2.1.4]\nCaused by: java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist\n        at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:187) ~[spring-core-5.3.9.jar!/:5.3.9]\n        at org.springframework.core.io.support.EncodedResource.getInputStream(EncodedResource.java:159) ~[spring-core-5.3.9.jar!/:5.3.9]\n        at org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:110) ~[spring-core-5.3.9.jar!/:5.3.9]\n        at org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:81) ~[spring-core-5.3.9.jar!/:5.3.9]\n        at org.springframework.core.io.support.PropertiesLoaderUtils.loadProperties(PropertiesLoaderUtils.java:67) ~[spring-core-5.3.9.jar!/:5.3.9]\n        at org.springframework.core.io.support.ResourcePropertySource.&lt;init&gt;(ResourcePropertySource.java:67) ~[spring-core-5.3.9.jar!/:5.3.9]\n        at org.springframework.core.io.support.DefaultPropertySourceFactory.createPropertySource(DefaultPropertySourceFactory.java:37) ~[spring-core-5.3.9.jar!/:5.3.9]\n        at org.springframework.context.annotation.ConfigurationClassParser.processPropertySource(ConfigurationClassParser.java:463) ~[spring-context-5.3.9.jar!/:5.3.9]\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:280) ~[spring-context-5.3.9.jar!/:5.3.9]\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.9.jar!/:5.3.9]\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:199) ~[spring-context-5.3.9.jar!/:5.3.9]\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:304) ~[spring-context-5.3.9.jar!/:5.3.9]\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.9.jar!/:5.3.9]\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207) ~[spring-context-5.3.9.jar!/:5.3.9]\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175) ~[spring-context-5.3.9.jar!/:5.3.9]\n        ... 19 common frames omitted\n</code></pre>\n"},{"tags":["java","arrays","knapsack-problem","partition-problem"],"comments":[{"owner":{"account_id":2530747,"reputation":2060,"user_id":2199102,"accept_rate":81,"display_name":"Dan"},"score":0,"creation_date":1634554908,"post_id":69614703,"comment_id":123047649,"body_markdown":"Sort the array anyway. Most array problems you generally need to sort. When sorted the first and last elements are in the one list while the second and second last ones are in the other list. The 4 middle numbers are confusing me tho as when writing it out I thought it was all even placed nums in one list and all odd placed nums in another, but that is not right tho","body":"Sort the array anyway. Most array problems you generally need to sort. When sorted the first and last elements are in the one list while the second and second last ones are in the other list. The 4 middle numbers are confusing me tho as when writing it out I thought it was all even placed nums in one list and all odd placed nums in another, but that is not right tho"}],"answers":[{"tags":[],"owner":{"account_id":21709395,"reputation":162,"user_id":16021237,"display_name":"GalliadII"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634554881,"creation_date":1634554881,"answer_id":69614899,"question_id":69614703,"body_markdown":"you would use an iteration and traverse the array first. then you make 2 integers.\r\nIn each iteration cycle, you first check if integer1 is bigger than integer2. then put one number in array1 and add its value to integer1. repeat. \r\nif int1 is bigger than int2, you put it in array2 and add the value to int2. \r\nin the end, sort the array and you are done. \r\nthat is how I would solve it. Does this work? I am genuinely interested.","title":"Split array into two even sets of integers, each so that both sets add up to the same number","body":"<p>you would use an iteration and traverse the array first. then you make 2 integers.\nIn each iteration cycle, you first check if integer1 is bigger than integer2. then put one number in array1 and add its value to integer1. repeat.\nif int1 is bigger than int2, you put it in array2 and add the value to int2.\nin the end, sort the array and you are done.\nthat is how I would solve it. Does this work? I am genuinely interested.</p>\n"},{"comments":[{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":1,"creation_date":1634564430,"post_id":69615198,"comment_id":123051769,"body_markdown":"Another improvement would be to check whether `discardedSum &gt; arrSum/2` (to be incremented in the second-case branch), since you can go wrong both ways - if you discard too high a total, you will not find equilibrium down that path. Otherwise, I doubt that this can be much improved on.","body":"Another improvement would be to check whether <code>discardedSum &gt; arrSum&#47;2</code> (to be incremented in the second-case branch), since you can go wrong both ways - if you discard too high a total, you will not find equilibrium down that path. Otherwise, I doubt that this can be much improved on."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1634566009,"post_id":69615198,"comment_id":123052545,"body_markdown":"@tucuxi as reviewer I would pay attention to things like `do; recurse; undo` and pitfalls like `remove(int)`. But `discardedSum &gt; ...` to cut is very fine. My code does not _look_ fine too.","body":"@tucuxi as reviewer I would pay attention to things like <code>do; recurse; undo</code> and pitfalls like <code>remove(int)</code>. But <code>discardedSum &gt; ...</code> to cut is very fine. My code does not <i>look</i> fine too."},{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":1,"creation_date":1634570115,"post_id":69615198,"comment_id":123054378,"body_markdown":"I meant algorithmically. Yes, your code is messy and does not compile - but you knew that already :-)","body":"I meant algorithmically. Yes, your code is messy and does not compile - but you knew that already :-)"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1634571645,"post_id":69615198,"comment_id":123055059,"body_markdown":"@tucuxi I am certain this is not the case here, but I have encountered a couple of work-by-googling folks, so I surely will not put effort for too elegant code. Would have been delighted seeing your answer though. An other time.","body":"@tucuxi I am certain this is not the case here, but I have encountered a couple of work-by-googling folks, so I surely will not put effort for too elegant code. Would have been delighted seeing your answer though. An other time."},{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":1,"creation_date":1634577264,"post_id":69615198,"comment_id":123057091,"body_markdown":"I took the time to write an answer - and avoided inserting-and-removing to (my equivalent of) `selectedNumbers`, which should speed things up significantly.","body":"I took the time to write an answer - and avoided inserting-and-removing to (my equivalent of) <code>selectedNumbers</code>, which should speed things up significantly."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634556294,"creation_date":1634556294,"answer_id":69615198,"question_id":69614703,"body_markdown":"The problem need not to be sequentially-in-time coded. Make a centrally procedure to solve this knapsack problem, but do not code it yet. Then sort the results, and give the results.\r\n\r\nNow should you fail solving, say for time-out, there still is an approach done.\r\n\r\nThe problem could be further simplified, by using the sum of the array `arr`, divide it by 2, and search a subarray of this half-sum.\r\n\r\nThe problem poses some weird restrictions: `arr` keeps an even number of values (8), the two resulting arrays should have the same even number of values (both 4).\r\n\r\nTo select to which subarray the i&lt;sup&gt;th&lt;/sup&gt; value belongs is binary.\r\n\r\nSo start with a sorted array, cut the solutions when the half is reached.\r\n\r\nYou could start with 00001111 (half the bits 1) which probably is too big, the following bits would be 00010111, 00011011, 00011101, 00011110, 00101110, ...\r\n\r\nEasier would probably simple recursion, with a count upto the half:\r\n\r\n    // Array arr sorted decreasingly to have less values to try out.\r\n    boolean solve(Set&lt;Integer&gt; selectedNumbers, int selectedSum, int index) {\r\n        if (selectedNumbers.size() &gt;= arr.length/2) {\r\n            return sum == arrSum/2;\r\n        }\r\n        if (index &gt; arr.length) {\r\n            return false;\r\n        }\r\n        boolean solved = false;\r\n\r\n        // First case: add array element at this index:\r\n        if (selectedSum + arr[index] &lt;= arrSum/2) {\r\n            seplectedNumbers.add(arr[index]);\r\n            arrSum += arr[index];\r\n            solved = solve(selectedNumbers, arrSum, index + 1);\r\n            if (!solved) {\r\n                // No remove(int index), so remove an Object, Integer.\r\n                selectedNumbers.remove(Integer.valueOf(arr[index]));\r\n                arrSum -= arr[index];\r\n            }\r\n        }\r\n\r\n        // Second case: do not add array element at this index:\r\n        if (!solved) {\r\n            solved = solve(selectedNumbers, arrSum, index + 1);\r\n        }\r\n        return solved;\r\n    }\r\n\r\nThe above of course is a brute force solution. If you are into Operations Research you might find a distribution of those numbers to start with (like the bits mentioned). But time needed and for me my meager math knowledge would prevent that.\r\nWhen solved you might put in a remark should you know a faster solution.","title":"Split array into two even sets of integers, each so that both sets add up to the same number","body":"<p>The problem need not to be sequentially-in-time coded. Make a centrally procedure to solve this knapsack problem, but do not code it yet. Then sort the results, and give the results.</p>\n<p>Now should you fail solving, say for time-out, there still is an approach done.</p>\n<p>The problem could be further simplified, by using the sum of the array <code>arr</code>, divide it by 2, and search a subarray of this half-sum.</p>\n<p>The problem poses some weird restrictions: <code>arr</code> keeps an even number of values (8), the two resulting arrays should have the same even number of values (both 4).</p>\n<p>To select to which subarray the i<sup>th</sup> value belongs is binary.</p>\n<p>So start with a sorted array, cut the solutions when the half is reached.</p>\n<p>You could start with 00001111 (half the bits 1) which probably is too big, the following bits would be 00010111, 00011011, 00011101, 00011110, 00101110, ...</p>\n<p>Easier would probably simple recursion, with a count upto the half:</p>\n<pre><code>// Array arr sorted decreasingly to have less values to try out.\nboolean solve(Set&lt;Integer&gt; selectedNumbers, int selectedSum, int index) {\n    if (selectedNumbers.size() &gt;= arr.length/2) {\n        return sum == arrSum/2;\n    }\n    if (index &gt; arr.length) {\n        return false;\n    }\n    boolean solved = false;\n\n    // First case: add array element at this index:\n    if (selectedSum + arr[index] &lt;= arrSum/2) {\n        seplectedNumbers.add(arr[index]);\n        arrSum += arr[index];\n        solved = solve(selectedNumbers, arrSum, index + 1);\n        if (!solved) {\n            // No remove(int index), so remove an Object, Integer.\n            selectedNumbers.remove(Integer.valueOf(arr[index]));\n            arrSum -= arr[index];\n        }\n    }\n\n    // Second case: do not add array element at this index:\n    if (!solved) {\n        solved = solve(selectedNumbers, arrSum, index + 1);\n    }\n    return solved;\n}\n</code></pre>\n<p>The above of course is a brute force solution. If you are into Operations Research you might find a distribution of those numbers to start with (like the bits mentioned). But time needed and for me my meager math knowledge would prevent that.\nWhen solved you might put in a remark should you know a faster solution.</p>\n"},{"comments":[{"owner":{"account_id":16985671,"reputation":41,"user_id":12286514,"display_name":"Nabreezy"},"score":0,"creation_date":1634609221,"post_id":69620016,"comment_id":123064946,"body_markdown":"Thank you for the response. This solution works to find two sub arrays with equal sum. But the two subarrays are not the size of half of the array given.    the array has to be divided into two equal subarrays where each subarray is = to arr.lenght/2;","body":"Thank you for the response. This solution works to find two sub arrays with equal sum. But the two subarrays are not the size of half of the array given.    the array has to be divided into two equal subarrays where each subarray is = to arr.lenght/2;"}],"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634577160,"creation_date":1634577160,"answer_id":69620016,"question_id":69614703,"body_markdown":"This answer is similar in spirit to that of [Joop Eggen](https://stackoverflow.com/a/69615198/15472). It implements the (smallish) optimization of checking both `selectedTotal` *and* `discardedTotal` to abort a branch if it exceeds the goal (note that this assumes that all values are positive; if this is not the case, and the smallest value is, say, `x &lt; 0`, you would just have to add `-x` to all values, run the algorithm, and substract `-x` from the answers).  \r\n\r\nThe output is exactly as specified by the original post - and since it is only generated when a full solution is found, this code *should* be faster than algorithms where values are being constantly added and removed from a partial answer, such as Joop&#39;s (`selectedNumbers.add` followed by `selectedNumbers.remove` when it turns out not to work; set operations may be fast, but not performing them is even faster!).\r\n\r\n    public class Main {\r\n        public static boolean search(int[] values, int goal, int index,\r\n                                    int selectedTotal, int discardedTotal,\r\n                                    List&lt;Integer&gt; selected, List&lt;Integer&gt; discarded) {\r\n            if (selected.size() == values.length/2 &amp;&amp;\r\n                    discarded.size() == values.length/2) {\r\n                return selectedTotal == goal;\r\n            }\r\n            if (selectedTotal &gt; goal ||\r\n                    discardedTotal &gt; goal ||\r\n                    index == values.length) {\r\n                return selectedTotal == goal;\r\n            }\r\n    \r\n            // try selecting value at index ...\r\n            if (selected.size() &lt; values.length/2 &amp;&amp;\r\n                    search(values, goal, index + 1,\r\n                        selectedTotal + values[index], discardedTotal,\r\n                        selected, discarded)) {\r\n                selected.add(values[index]);\r\n                return true;\r\n            }\r\n    \r\n            // ... and, if that did not work, try discarding value at index\r\n            if (discarded.size() &lt; values.length/2 &amp;&amp;\r\n                    search(values, goal, index + 1,\r\n                        selectedTotal, discardedTotal + values[index],\r\n                        selected, discarded)) {\r\n                discarded.add(values[index]);\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        public static List&lt;Integer&gt; solve(int[] values) {\r\n            Arrays.sort(values);\r\n            int goal = IntStream.of(values).sum() / 2;\r\n            List&lt;Integer&gt; selected = new ArrayList&lt;&gt;();\r\n            List&lt;Integer&gt; discarded = new ArrayList&lt;&gt;();\r\n            if ( ! search(values, goal, 0,\r\n                    0, 0, selected, discarded)) {\r\n                throw new IllegalArgumentException(&quot;This puzzle cannot be solved&quot;);\r\n            }\r\n            Collections.reverse(selected);\r\n            Collections.reverse(discarded);\r\n            selected.addAll(discarded);\r\n            return selected;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(solve(new int[] {16,22,35,8,20,1,21,11}));\r\n        }\r\n    }\r\n","title":"Split array into two even sets of integers, each so that both sets add up to the same number","body":"<p>This answer is similar in spirit to that of <a href=\"https://stackoverflow.com/a/69615198/15472\">Joop Eggen</a>. It implements the (smallish) optimization of checking both <code>selectedTotal</code> <em>and</em> <code>discardedTotal</code> to abort a branch if it exceeds the goal (note that this assumes that all values are positive; if this is not the case, and the smallest value is, say, <code>x &lt; 0</code>, you would just have to add <code>-x</code> to all values, run the algorithm, and substract <code>-x</code> from the answers).</p>\n<p>The output is exactly as specified by the original post - and since it is only generated when a full solution is found, this code <em>should</em> be faster than algorithms where values are being constantly added and removed from a partial answer, such as Joop's (<code>selectedNumbers.add</code> followed by <code>selectedNumbers.remove</code> when it turns out not to work; set operations may be fast, but not performing them is even faster!).</p>\n<pre><code>public class Main {\n    public static boolean search(int[] values, int goal, int index,\n                                int selectedTotal, int discardedTotal,\n                                List&lt;Integer&gt; selected, List&lt;Integer&gt; discarded) {\n        if (selected.size() == values.length/2 &amp;&amp;\n                discarded.size() == values.length/2) {\n            return selectedTotal == goal;\n        }\n        if (selectedTotal &gt; goal ||\n                discardedTotal &gt; goal ||\n                index == values.length) {\n            return selectedTotal == goal;\n        }\n\n        // try selecting value at index ...\n        if (selected.size() &lt; values.length/2 &amp;&amp;\n                search(values, goal, index + 1,\n                    selectedTotal + values[index], discardedTotal,\n                    selected, discarded)) {\n            selected.add(values[index]);\n            return true;\n        }\n\n        // ... and, if that did not work, try discarding value at index\n        if (discarded.size() &lt; values.length/2 &amp;&amp;\n                search(values, goal, index + 1,\n                    selectedTotal, discardedTotal + values[index],\n                    selected, discarded)) {\n            discarded.add(values[index]);\n            return true;\n        }\n        return false;\n    }\n\n    public static List&lt;Integer&gt; solve(int[] values) {\n        Arrays.sort(values);\n        int goal = IntStream.of(values).sum() / 2;\n        List&lt;Integer&gt; selected = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; discarded = new ArrayList&lt;&gt;();\n        if ( ! search(values, goal, 0,\n                0, 0, selected, discarded)) {\n            throw new IllegalArgumentException(&quot;This puzzle cannot be solved&quot;);\n        }\n        Collections.reverse(selected);\n        Collections.reverse(discarded);\n        selected.addAll(discarded);\n        return selected;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(solve(new int[] {16,22,35,8,20,1,21,11}));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29003942,"reputation":1,"user_id":22216948,"display_name":"JAGJIT SINGH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689178192,"creation_date":1689178192,"answer_id":76672542,"question_id":69614703,"body_markdown":"```\r\nconst arr = [16, 22, 35, 8, 20, 1, 21, 11];\r\n\r\nfunction accumulate(arr, first, last) {\r\n  let init = 0;\r\n  for (let i = first; i &lt; last; i++) {\r\n    init = init + arr[i];\r\n  }\r\n  return init;\r\n}\r\n\r\n\r\nfunction combinationUtil(arr, half, start, end,\r\n  index, n, sum) {\r\n\r\n  // Current combination is ready to\r\n  // be printed, print it\r\n  if (index == n / 2) {\r\n    let curr_sum = accumulate(half, 0, n / 2);\r\n    return (curr_sum + curr_sum == sum);\r\n  }\r\n\r\n  // Replace index with all possible elements.\r\n  // The condition &quot;end-i+1 &gt;= n/2-index&quot; makes\r\n  // sure that including one element at index\r\n  // will make a combination with remaining\r\n  // elements at remaining positions\r\n  for (let i = start; i &lt;= end &amp;&amp; end - i + 1 &gt;= n / 2 - index; i++) {\r\n    half[index] = arr[i];\r\n    if (combinationUtil(arr, half, i + 1, end,\r\n        index + 1, n, sum))\r\n      return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction evenSlpit(arr) {\r\n  const n = arr.length;\r\n  arr.sort((a, b) =&gt; a - b);\r\n  const sum = arr.reduce((acc, red) =&gt; acc + red, 0);\r\n\r\n  if (n % 2 != 0)\r\n    return false;\r\n\r\n  // If sum of array is not even.\r\n  if (sum % 2 != 0)\r\n    return false;\r\n\r\n  // A temporary array to store all\r\n  // combination one by one let k=n/2;\r\n  let half = [];\r\n\r\n  // Print all combination using temporary\r\n  // array &#39;half[]&#39;\r\n  const res = combinationUtil(arr, half, 0, n - 1,\r\n    0, n, sum);\r\n  if (res) {\r\n    const temp = [...half];\r\n    const otherHalf = [];\r\n\r\n    for (let i = 0; i &lt; arr.length; i++) {\r\n      if (temp.includes(arr[i])) {\r\n        const index = temp.indexOf(arr[i]);\r\n        temp.splice(1, index);\r\n      } else {\r\n        otherHalf.push(arr[i]);\r\n      }\r\n    }\r\n    return [...half.sort((a, b) =&gt; a - b), ...otherHalf.sort((a, b) =&gt; a - b)]\r\n  }\r\n  return -1\r\n}\r\n\r\nconsole.log(evenSlpit(arr))\r\nconsole.log(evenSlpit([1,2,3,4]))\r\nconsole.log(evenSlpit([1,7,8,3,5,4]));\r\n```","title":"Split array into two even sets of integers, each so that both sets add up to the same number","body":"<pre><code>const arr = [16, 22, 35, 8, 20, 1, 21, 11];\n\nfunction accumulate(arr, first, last) {\n  let init = 0;\n  for (let i = first; i &lt; last; i++) {\n    init = init + arr[i];\n  }\n  return init;\n}\n\n\nfunction combinationUtil(arr, half, start, end,\n  index, n, sum) {\n\n  // Current combination is ready to\n  // be printed, print it\n  if (index == n / 2) {\n    let curr_sum = accumulate(half, 0, n / 2);\n    return (curr_sum + curr_sum == sum);\n  }\n\n  // Replace index with all possible elements.\n  // The condition &quot;end-i+1 &gt;= n/2-index&quot; makes\n  // sure that including one element at index\n  // will make a combination with remaining\n  // elements at remaining positions\n  for (let i = start; i &lt;= end &amp;&amp; end - i + 1 &gt;= n / 2 - index; i++) {\n    half[index] = arr[i];\n    if (combinationUtil(arr, half, i + 1, end,\n        index + 1, n, sum))\n      return true;\n  }\n  return false;\n}\n\nfunction evenSlpit(arr) {\n  const n = arr.length;\n  arr.sort((a, b) =&gt; a - b);\n  const sum = arr.reduce((acc, red) =&gt; acc + red, 0);\n\n  if (n % 2 != 0)\n    return false;\n\n  // If sum of array is not even.\n  if (sum % 2 != 0)\n    return false;\n\n  // A temporary array to store all\n  // combination one by one let k=n/2;\n  let half = [];\n\n  // Print all combination using temporary\n  // array 'half[]'\n  const res = combinationUtil(arr, half, 0, n - 1,\n    0, n, sum);\n  if (res) {\n    const temp = [...half];\n    const otherHalf = [];\n\n    for (let i = 0; i &lt; arr.length; i++) {\n      if (temp.includes(arr[i])) {\n        const index = temp.indexOf(arr[i]);\n        temp.splice(1, index);\n      } else {\n        otherHalf.push(arr[i]);\n      }\n    }\n    return [...half.sort((a, b) =&gt; a - b), ...otherHalf.sort((a, b) =&gt; a - b)]\n  }\n  return -1\n}\n\nconsole.log(evenSlpit(arr))\nconsole.log(evenSlpit([1,2,3,4]))\nconsole.log(evenSlpit([1,7,8,3,5,4]));\n</code></pre>\n"}],"owner":{"account_id":16985671,"reputation":41,"user_id":12286514,"display_name":"Nabreezy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9326,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1689178192,"creation_date":1634553915,"question_id":69614703,"body_markdown":"I have had this problem for an interview and can&#39;t seem to wrap my mind around how to solve it. I have not found any tutorials that explains the logic behind it as well.\r\n\r\nHave the function `ArrayChallenge(arr)`, take the array of integers stored in `arr` which will always contain an even amount of integers, and determine how they can be split into two even sets, then return a string representation of the first set followed by the second set with each integer separated by a comma and both sets sorted in ascending order. The set that goes first is the set with smallest first integer. \r\n\r\nFor example if arr is [16,22,35,8,20,1,21,11], then your program should output 1,11,20,35,8,16,21,22 \r\n\r\n[16,22,35,8,20,1,21,11] sum = 134\r\n\r\nthe sum of 1,11,20,35 is = 67\r\nthe sum of 8,16,21,22 is = 67\r\n\r\nAlso the size of the two arrays are equal to arr.length /2 \r\n\r\n\r\n ","title":"Split array into two even sets of integers, each so that both sets add up to the same number","body":"<p>I have had this problem for an interview and can't seem to wrap my mind around how to solve it. I have not found any tutorials that explains the logic behind it as well.</p>\n<p>Have the function <code>ArrayChallenge(arr)</code>, take the array of integers stored in <code>arr</code> which will always contain an even amount of integers, and determine how they can be split into two even sets, then return a string representation of the first set followed by the second set with each integer separated by a comma and both sets sorted in ascending order. The set that goes first is the set with smallest first integer.</p>\n<p>For example if arr is [16,22,35,8,20,1,21,11], then your program should output 1,11,20,35,8,16,21,22</p>\n<p>[16,22,35,8,20,1,21,11] sum = 134</p>\n<p>the sum of 1,11,20,35 is = 67\nthe sum of 8,16,21,22 is = 67</p>\n<p>Also the size of the two arrays are equal to arr.length /2</p>\n"},{"tags":["java","integer","division"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":2,"creation_date":1464877383,"post_id":37594582,"comment_id":62674039,"body_markdown":"If damageDealt is an int &lt; 10 you&#39;ll get zero back.  It&#39;s important to understand how integer division works.  Cast it to a float/double and you&#39;ll do better.","body":"If damageDealt is an int &lt; 10 you&#39;ll get zero back.  It&#39;s important to understand how integer division works.  Cast it to a float/double and you&#39;ll do better."},{"owner":{"account_id":2262060,"reputation":591,"user_id":1991872,"display_name":"Grayson"},"score":0,"creation_date":1464882382,"post_id":37594582,"comment_id":62678005,"body_markdown":"If you are updating your `health`, it should probably be `health += lifeTake`.","body":"If you are updating your <code>health</code>, it should probably be <code>health += lifeTake</code>."}],"answers":[{"comments":[{"owner":{"account_id":6411938,"reputation":4104,"user_id":4971422,"display_name":"FredK"},"score":2,"creation_date":1464878603,"post_id":37594631,"comment_id":62675053,"body_markdown":"Why not just `lifeTake = (damageDealt/10.0) + health;` ?","body":"Why not just <code>lifeTake = (damageDealt&#47;10.0) + health;</code> ?"}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464877474,"creation_date":1464877474,"answer_id":37594631,"question_id":37594582,"body_markdown":"Try it like this: \r\n\r\n    // I assume these are not Strings.  If they are, compare using equals\r\n    if (cWeapon == soulSteeler) {\r\n        lifeTake = damageDealt/10.0;\r\n        lifeTake += health;\r\n    }\r\n\r\n","title":"Division of random variables java","body":"<p>Try it like this: </p>\n\n<pre><code>// I assume these are not Strings.  If they are, compare using equals\nif (cWeapon == soulSteeler) {\n    lifeTake = damageDealt/10.0;\n    lifeTake += health;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1464880389,"post_id":37595331,"comment_id":62676478,"body_markdown":"I don&#39;t recall needed a second.  It doesn&#39;t seem helpful or necessary to repeat what I said.","body":"I don&#39;t recall needed a second.  It doesn&#39;t seem helpful or necessary to repeat what I said."}],"tags":[],"owner":{"account_id":4605170,"reputation":980,"user_id":3734853,"accept_rate":100,"display_name":"objectively C"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464879315,"creation_date":1464879315,"answer_id":37595331,"question_id":37594582,"body_markdown":"Like Duffymo said, It is likely that damageDealt is an integer less than 10 which would make damageDealt/10 always 0.  To fix this, change 10 to 10.0, or cast it as a float or a double.  Also cast damageDealt as a double or a float to give you the correct result.  Also make sure that lifeTake is a float/double or else you will suffer from the same data narrowing.","title":"Division of random variables java","body":"<p>Like Duffymo said, It is likely that damageDealt is an integer less than 10 which would make damageDealt/10 always 0.  To fix this, change 10 to 10.0, or cast it as a float or a double.  Also cast damageDealt as a double or a float to give you the correct result.  Also make sure that lifeTake is a float/double or else you will suffer from the same data narrowing.</p>\n"}],"owner":{"account_id":8500602,"reputation":9,"user_id":6373702,"display_name":"Will"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689178117,"creation_date":1464877328,"question_id":37594582,"body_markdown":"I have a weird logic error in my code which doesn&#39;t allow me to divide my variables.\r\n\r\n    if (cWeapon == soulSteeler) {\r\n\t\tlifeTake = damageDealt / 10;\r\n\t\tlifeTake += health;\r\n\t}\r\n\r\nThis is where I try to divide the damage dealt and add it to my health.  I change my `int` to `float` on `lifeTake damageDealt` and `health` because I knew that I could get some decimals.\r\n\r\nWhen I do this nothing happens.","title":"Division of random variables java","body":"<p>I have a weird logic error in my code which doesn't allow me to divide my variables.</p>\n<pre><code>if (cWeapon == soulSteeler) {\n    lifeTake = damageDealt / 10;\n    lifeTake += health;\n}\n</code></pre>\n<p>This is where I try to divide the damage dealt and add it to my health.  I change my <code>int</code> to <code>float</code> on <code>lifeTake damageDealt</code> and <code>health</code> because I knew that I could get some decimals.</p>\n<p>When I do this nothing happens.</p>\n"},{"tags":["java","spring-boot","spring-cloud","spring-cloud-gateway"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1689179144,"post_id":76672532,"comment_id":135177869,"body_markdown":"You&#39;re trying to modify the HTTP response after the response *has already been committed*, which can&#39;t be done. You need to handle it at the `pre` or `post` phase intstead, by intercepting the response before it&#39;s sent back to the client","body":"You&#39;re trying to modify the HTTP response after the response <i>has already been committed</i>, which can&#39;t be done. You need to handle it at the <code>pre</code> or <code>post</code> phase intstead, by intercepting the response before it&#39;s sent back to the client"},{"owner":{"account_id":29003863,"reputation":1,"user_id":22216884,"display_name":"vincent bui"},"score":0,"creation_date":1689182110,"post_id":76672532,"comment_id":135178450,"body_markdown":"I thought Mono.fromrunable is Handle in post phase? How should I access this post phase before commit?","body":"I thought Mono.fromrunable is Handle in post phase? How should I access this post phase before commit?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689270934,"post_id":76672532,"comment_id":135193492,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":29003863,"reputation":1,"user_id":22216884,"display_name":"vincent bui"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689178090,"creation_date":1689178090,"question_id":76672532,"body_markdown":"```\r\npublic class FileBrowserPostFilter implements GatewayFilter, Ordered {\r\n    @Autowired\r\n    private Gson gson;\r\n\r\n    @Autowired\r\n    private FileBrowserService fileBrowserService;\r\n\r\n    @Override\r\n    public int getOrder() {\r\n        return 100;\r\n    }\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\r\n        return chain.filter(exchange)\r\n                .then(Mono.fromRunnable(() -&gt; {\r\n                    var request = exchange.getRequest();\r\n                    var response = exchange.getResponse();\r\n                    String requestMethod = request.getMethod().name().toUpperCase();\r\n                    var status = response.getStatusCode();\r\n\r\n                    if (requestMethod.equals(&quot;POST&quot;) &amp;&amp; status.is2xxSuccessful()) {\r\n                        String path = request.getPath().subPath(4).value();\r\n                        var newItem = this.fileBrowserService.getItem(path);\r\n                        var newItemJson = this.gson.toJson(newItem);\r\n                        response.setRawStatusCode(201);\r\n                        DataBuffer dataBuffer = response.bufferFactory()\r\n                                .wrap(newItemJson.getBytes(StandardCharsets.UTF_8));\r\n                        response.writeWith(Mono.just(dataBuffer));\r\n                        exchange.mutate().response(response).build();\r\n                    }\r\n                }));\r\n    }\r\n}\r\n```\r\n\r\nasume fileBrowserService will always return a valid item\r\nI am expecting the filter to \r\nchange status code to 201 (successful)\r\nmodify the response body to something like so:\r\n\r\n```\r\n{\r\n        &quot;id&quot;: 1,\r\n        &quot;path&quot;: &quot;/1/name.jpg&quot;,\r\n        &quot;name&quot;: &quot;name.jpg&quot;,\r\n        &quot;size&quot;: 503627,\r\n        &quot;extension&quot;: &quot;.jpg&quot;,\r\n        &quot;modified&quot;: &quot;2023-07-12T11:55:22.440578974-04:00&quot;,\r\n        &quot;mode&quot;: 493,\r\n        &quot;type&quot;: &quot;image&quot;,\r\n        &quot;sharedUsers&quot;: [],\r\n        &quot;public&quot;: false,\r\n        &quot;dir&quot;: false,\r\n        &quot;symlink&quot;: false\r\n    }\r\n```\r\nbut it keep returning it original response body\r\n\r\n```\r\n200 ok\r\n```\r\nwhich should not happening\r\ndoes anyone know why?\r\n\r\n\r\nI have try all these solution here\r\n[https://wankhedeshubham.medium.com/spring-cloud-gateway-modify-response-body-using-global-post-filter-1dbe0a077f8e](https://wankhedeshubham.medium.com/spring-cloud-gateway-modify-response-body-using-global-post-filter-1dbe0a077f8e)\r\n[https://stackoverflow.com/questions/72127761/spring-cloud-gateway-modify-response-body-in-global-post-filter](https://stackoverflow.com/questions/72127761/spring-cloud-gateway-modify-response-body-in-global-post-filter)\r\nand it is not working.","title":"Spring boot Gateway Post filter won&#39;t modify response body","body":"<pre><code>public class FileBrowserPostFilter implements GatewayFilter, Ordered {\n    @Autowired\n    private Gson gson;\n\n    @Autowired\n    private FileBrowserService fileBrowserService;\n\n    @Override\n    public int getOrder() {\n        return 100;\n    }\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\n        return chain.filter(exchange)\n                .then(Mono.fromRunnable(() -&gt; {\n                    var request = exchange.getRequest();\n                    var response = exchange.getResponse();\n                    String requestMethod = request.getMethod().name().toUpperCase();\n                    var status = response.getStatusCode();\n\n                    if (requestMethod.equals(&quot;POST&quot;) &amp;&amp; status.is2xxSuccessful()) {\n                        String path = request.getPath().subPath(4).value();\n                        var newItem = this.fileBrowserService.getItem(path);\n                        var newItemJson = this.gson.toJson(newItem);\n                        response.setRawStatusCode(201);\n                        DataBuffer dataBuffer = response.bufferFactory()\n                                .wrap(newItemJson.getBytes(StandardCharsets.UTF_8));\n                        response.writeWith(Mono.just(dataBuffer));\n                        exchange.mutate().response(response).build();\n                    }\n                }));\n    }\n}\n</code></pre>\n<p>asume fileBrowserService will always return a valid item\nI am expecting the filter to\nchange status code to 201 (successful)\nmodify the response body to something like so:</p>\n<pre><code>{\n        &quot;id&quot;: 1,\n        &quot;path&quot;: &quot;/1/name.jpg&quot;,\n        &quot;name&quot;: &quot;name.jpg&quot;,\n        &quot;size&quot;: 503627,\n        &quot;extension&quot;: &quot;.jpg&quot;,\n        &quot;modified&quot;: &quot;2023-07-12T11:55:22.440578974-04:00&quot;,\n        &quot;mode&quot;: 493,\n        &quot;type&quot;: &quot;image&quot;,\n        &quot;sharedUsers&quot;: [],\n        &quot;public&quot;: false,\n        &quot;dir&quot;: false,\n        &quot;symlink&quot;: false\n    }\n</code></pre>\n<p>but it keep returning it original response body</p>\n<pre><code>200 ok\n</code></pre>\n<p>which should not happening\ndoes anyone know why?</p>\n<p>I have try all these solution here\n<a href=\"https://wankhedeshubham.medium.com/spring-cloud-gateway-modify-response-body-using-global-post-filter-1dbe0a077f8e\" rel=\"nofollow noreferrer\">https://wankhedeshubham.medium.com/spring-cloud-gateway-modify-response-body-using-global-post-filter-1dbe0a077f8e</a>\n<a href=\"https://stackoverflow.com/questions/72127761/spring-cloud-gateway-modify-response-body-in-global-post-filter\">Spring Cloud Gateway - modify response body in global Post filter</a>\nand it is not working.</p>\n"},{"tags":["java","spring-boot","rest","microservices"],"answers":[{"tags":[],"owner":{"account_id":977507,"reputation":2280,"user_id":998126,"display_name":"Alexander Pavlov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573478711,"creation_date":1573357211,"answer_id":58785538,"question_id":58785222,"body_markdown":"**Method 1: Convert objects to Map, remove surplus keys, convert Map to Json**\r\n\r\n    @GetMapping(&quot;/v1/users&quot;)\r\n    @ResponseBody\r\n    public List&lt;Map&gt; getUsers(@RequestParam(required = false) Set&lt;String&gt; fields) { \r\n        List&lt;User&gt; users = ...;\r\n        ObjectMapper oMapper = new ObjectMapper();\r\n        return users.stream().map(u -&gt; oMapper.convertValue(u, Map.class))\r\n           .peek(map -&gt; { \r\n              if (fields != null) map.keySet().retainAll(fields)\r\n           })\r\n           .collect(Collectors.toList());\r\n    }\r\n\r\n**Method 2: Use Gson**\r\n\r\n    @GetMapping(&quot;/v1/users&quot;)\r\n    @ResponseBody\r\n    public String getUsers(@RequestParam(required = false) Set&lt;String&gt; fields) { \r\n        List&lt;User&gt; users = ...;\r\n        Gson gson = new GsonBuilder()\r\n                .setExclusionStrategies(new ExclusionStrategy() {\r\n                    @Override\r\n                    public boolean shouldSkipField(FieldAttributes f) {\r\n                        return f.getDeclaringClass().equals(User.class)\r\n                                 &amp;&amp; fields != null \r\n                                 &amp;&amp; !fields.contains(f.getFieldName())\r\n                                ;\r\n                    }\r\n    \r\n                    @Override\r\n                    public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\r\n                        return false;\r\n                    }\r\n                }).create();\r\n        return gson.toJson(users); \r\n    }\r\n\r\n\r\n&gt; Came across &quot;https://github.com/monitorjbl/json-view&quot;. But was shot down by the team.\r\n\r\nBtw, Jackson has `@JsonView` annotation support but it does not allow to include/exclude fields dynamically as you want. You can define fields subset and then return these subsets\r\n\r\n    public class Views {\r\n        public static class Short {\r\n        }\r\n    }\r\n    \r\n    public class User {\r\n        @JsonView(Views.Short.class)\r\n        public String city;\r\n    \r\n        @JsonView(Views.Short.class)\r\n        public String name;\r\n    \r\n        public String phone;\r\n    \r\n        public String country;\r\n    }\r\n    \r\n    @GetMapping(&quot;/v1/users&quot;)\r\n    @ResponseBody\r\n    public String getUsers(@RequestParam(required = false) boolean shortView) { \r\n        List&lt;User&gt; users = ...;\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        if (shortView) mapper = mapper.writerWithView(Views.Short.class);\r\n        return mapper.writeValueAsString(users);\r\n    }\r\n\r\n","title":"Modify REST API response to only include fields requested in query parameter","body":"<p><strong>Method 1: Convert objects to Map, remove surplus keys, convert Map to Json</strong></p>\n\n<pre><code>@GetMapping(\"/v1/users\")\n@ResponseBody\npublic List&lt;Map&gt; getUsers(@RequestParam(required = false) Set&lt;String&gt; fields) { \n    List&lt;User&gt; users = ...;\n    ObjectMapper oMapper = new ObjectMapper();\n    return users.stream().map(u -&gt; oMapper.convertValue(u, Map.class))\n       .peek(map -&gt; { \n          if (fields != null) map.keySet().retainAll(fields)\n       })\n       .collect(Collectors.toList());\n}\n</code></pre>\n\n<p><strong>Method 2: Use Gson</strong></p>\n\n<pre><code>@GetMapping(\"/v1/users\")\n@ResponseBody\npublic String getUsers(@RequestParam(required = false) Set&lt;String&gt; fields) { \n    List&lt;User&gt; users = ...;\n    Gson gson = new GsonBuilder()\n            .setExclusionStrategies(new ExclusionStrategy() {\n                @Override\n                public boolean shouldSkipField(FieldAttributes f) {\n                    return f.getDeclaringClass().equals(User.class)\n                             &amp;&amp; fields != null \n                             &amp;&amp; !fields.contains(f.getFieldName())\n                            ;\n                }\n\n                @Override\n                public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\n                    return false;\n                }\n            }).create();\n    return gson.toJson(users); \n}\n</code></pre>\n\n<blockquote>\n  <p>Came across \"<a href=\"https://github.com/monitorjbl/json-view\" rel=\"nofollow noreferrer\">https://github.com/monitorjbl/json-view</a>\". But was shot down by the team.</p>\n</blockquote>\n\n<p>Btw, Jackson has <code>@JsonView</code> annotation support but it does not allow to include/exclude fields dynamically as you want. You can define fields subset and then return these subsets</p>\n\n<pre><code>public class Views {\n    public static class Short {\n    }\n}\n\npublic class User {\n    @JsonView(Views.Short.class)\n    public String city;\n\n    @JsonView(Views.Short.class)\n    public String name;\n\n    public String phone;\n\n    public String country;\n}\n\n@GetMapping(\"/v1/users\")\n@ResponseBody\npublic String getUsers(@RequestParam(required = false) boolean shortView) { \n    List&lt;User&gt; users = ...;\n    ObjectMapper mapper = new ObjectMapper();\n    if (shortView) mapper = mapper.writerWithView(Views.Short.class);\n    return mapper.writeValueAsString(users);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":977507,"reputation":2280,"user_id":998126,"display_name":"Alexander Pavlov"},"score":0,"creation_date":1573479734,"post_id":58786041,"comment_id":103884963,"body_markdown":"+ Assumption 3: domain model allows nulls. Sometimes enforced non-nullability (e.g. for collections) pays itself by simplifying handling of such objects. Allowing nulls just for customize serialization could be bad trade off.","body":"+ Assumption 3: domain model allows nulls. Sometimes enforced non-nullability (e.g. for collections) pays itself by simplifying handling of such objects. Allowing nulls just for customize serialization could be bad trade off."}],"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573479373,"creation_date":1573364438,"answer_id":58786041,"question_id":58785222,"body_markdown":"Here is an another approach:\r\n\r\nAssumption 1: I believe its better to define return type of controller to be a domain object and let spring deal alone with conversion of it to JSON (unlike @Alexander Pavlov&#39;s answer). IMO its better for general code readability and for tools like swagger that \r\nintrospect the controller and should know what should be returned.\r\n\r\nAssumption 2: You don&#39;t have primitives in your User class.\r\n\r\n\r\nOk, now the controller obviously calls some &quot;service&quot; that makes some queries to the db, or in general does some logic that eventually produces the list of users (the list that you return to the client). The return object should be something like this:\r\n\r\n    class Users {\r\n\r\n         private List&lt;User&gt; data;\r\n    }\r\n\r\n    class User { // + constructors, getters, setters, etc.\r\n       private String name;\r\n       private String city;\r\n       private String phone;\r\n       private String country;    \r\n    }\r\n\r\n\r\nIn this case in the service you can place &quot;null&quot; in field that you do not want to return:\r\n\r\n    User user = new User(&quot;John&quot;, &quot;LA&quot;, null, null); // you only have name and city\r\n\r\nNow you can place the annotation `@JsonInclude(Include.NON_NULL)` on class `User` and this will instruct Jackson to not include fields that have value &#39;null&#39; into serialized response at all.\r\n\r\nIf you want this behaviour to be applied globally, you can configure `ObjectMapper` bean:\r\n\r\n     ObjectMapper mapper = new ObjectMapper();\r\n     mapper.setSerializationInclusion(Include.NON_NULL);\r\n\r\n    \r\n\r\n\r\n\r\n\r\n\r\n","title":"Modify REST API response to only include fields requested in query parameter","body":"<p>Here is an another approach:</p>\n\n<p>Assumption 1: I believe its better to define return type of controller to be a domain object and let spring deal alone with conversion of it to JSON (unlike @Alexander Pavlov's answer). IMO its better for general code readability and for tools like swagger that \nintrospect the controller and should know what should be returned.</p>\n\n<p>Assumption 2: You don't have primitives in your User class.</p>\n\n<p>Ok, now the controller obviously calls some \"service\" that makes some queries to the db, or in general does some logic that eventually produces the list of users (the list that you return to the client). The return object should be something like this:</p>\n\n<pre><code>class Users {\n\n     private List&lt;User&gt; data;\n}\n\nclass User { // + constructors, getters, setters, etc.\n   private String name;\n   private String city;\n   private String phone;\n   private String country;    \n}\n</code></pre>\n\n<p>In this case in the service you can place \"null\" in field that you do not want to return:</p>\n\n<pre><code>User user = new User(\"John\", \"LA\", null, null); // you only have name and city\n</code></pre>\n\n<p>Now you can place the annotation <code>@JsonInclude(Include.NON_NULL)</code> on class <code>User</code> and this will instruct Jackson to not include fields that have value 'null' into serialized response at all.</p>\n\n<p>If you want this behaviour to be applied globally, you can configure <code>ObjectMapper</code> bean:</p>\n\n<pre><code> ObjectMapper mapper = new ObjectMapper();\n mapper.setSerializationInclusion(Include.NON_NULL);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17991969,"reputation":21,"user_id":13075873,"display_name":"Kevin Luko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689166323,"creation_date":1689166323,"answer_id":76670782,"question_id":58785222,"body_markdown":"You can use ```@JsonInclude(JsonInclude.Include. NON_NULL)``` annotation. It should be applied to the class-level, directly above the class declaration. it instructs the Jackson JSON serialization/deserialization process to exclude fields with null values from the resulting JSON representation. \r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\n\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class ClassABC {\r\n    // Class code here\r\n}","title":"Modify REST API response to only include fields requested in query parameter","body":"<p>You can use <code>@JsonInclude(JsonInclude.Include. NON_NULL)</code> annotation. It should be applied to the class-level, directly above the class declaration. it instructs the Jackson JSON serialization/deserialization process to exclude fields with null values from the resulting JSON representation.</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonInclude;\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class ClassABC {\n    // Class code here\n}\n</code></pre>\n"}],"owner":{"account_id":9235697,"reputation":115,"user_id":6860417,"display_name":"nash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5835,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1689178010,"creation_date":1573352360,"question_id":58785222,"body_markdown":"I want to send response containing only requested fields for GET API. Reducing total size of response.\r\n\r\nExample,\r\nDefault behavior, when to specific fields requested:\r\n\r\n    GET /v1/users/\r\n    \r\n    {\r\n       &quot;data&quot; : \r\n         [\r\n            {\r\n                &quot;name&quot; : &quot;User1&quot;,\r\n                &quot;phone&quot; : &quot;800-999-9999&quot;,\r\n                &quot;city&quot; : &quot;XYZ1&quot;,\r\n                &quot;country&quot; : &quot;PQR1&quot;\r\n            },\r\n            {\r\n                &quot;name&quot; : &quot;User2&quot;,\r\n                &quot;phone&quot; : &quot;800-999-9999&quot;,\r\n                &quot;city&quot; : &quot;XYZ2&quot;,\r\n                &quot;country&quot; : &quot;PQR2&quot;\r\n             }\r\n         ]\r\n    }\r\n\r\n\r\nUse case, where fields needed are passed as query parameters\r\n\r\n\r\n    GET /v1/users/?fields=name,city\r\n    \r\n    {\r\n       &quot;data&quot; : \r\n         [\r\n            {\r\n                &quot;name&quot; : &quot;User1&quot;,\r\n                &quot;city&quot; : &quot;XYZ1&quot;\r\n            },\r\n            {\r\n                &quot;name&quot; : &quot;User2&quot;,\r\n                &quot;city&quot; : &quot;XYZ2&quot;\r\n             }\r\n         ]\r\n    }\r\n\r\n\r\nCame across &quot;https://github.com/monitorjbl/json-view&quot;. But was shot down by the team.\r\n\r\nHow can I implement this functionality using spring boot? How do organizations using java microservices implement this feature? ","title":"Modify REST API response to only include fields requested in query parameter","body":"<p>I want to send response containing only requested fields for GET API. Reducing total size of response.</p>\n<p>Example,\nDefault behavior, when to specific fields requested:</p>\n<pre><code>GET /v1/users/\n\n{\n   &quot;data&quot; : \n     [\n        {\n            &quot;name&quot; : &quot;User1&quot;,\n            &quot;phone&quot; : &quot;800-999-9999&quot;,\n            &quot;city&quot; : &quot;XYZ1&quot;,\n            &quot;country&quot; : &quot;PQR1&quot;\n        },\n        {\n            &quot;name&quot; : &quot;User2&quot;,\n            &quot;phone&quot; : &quot;800-999-9999&quot;,\n            &quot;city&quot; : &quot;XYZ2&quot;,\n            &quot;country&quot; : &quot;PQR2&quot;\n         }\n     ]\n}\n</code></pre>\n<p>Use case, where fields needed are passed as query parameters</p>\n<pre><code>GET /v1/users/?fields=name,city\n\n{\n   &quot;data&quot; : \n     [\n        {\n            &quot;name&quot; : &quot;User1&quot;,\n            &quot;city&quot; : &quot;XYZ1&quot;\n        },\n        {\n            &quot;name&quot; : &quot;User2&quot;,\n            &quot;city&quot; : &quot;XYZ2&quot;\n         }\n     ]\n}\n</code></pre>\n<p>Came across &quot;https://github.com/monitorjbl/json-view&quot;. But was shot down by the team.</p>\n<p>How can I implement this functionality using spring boot? How do organizations using java microservices implement this feature?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","persistence"],"comments":[{"owner":{"account_id":15258408,"reputation":972,"user_id":11009351,"display_name":"Kemal Kaplan"},"score":1,"creation_date":1628152028,"post_id":68662951,"comment_id":121345913,"body_markdown":"Please add  @Transactional annotation to the function. Or decorate your service class with this annotation if this is a part of a transaction which contains more than one DML.","body":"Please add  @Transactional annotation to the function. Or decorate your service class with this annotation if this is a part of a transaction which contains more than one DML."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1628153762,"post_id":68662951,"comment_id":121346586,"body_markdown":"Not the class! The method must be Transactional","body":"Not the class! The method must be Transactional"},{"owner":{"account_id":10484756,"reputation":847,"user_id":7728676,"display_name":"lewis machilika"},"score":0,"creation_date":1628154103,"post_id":68662951,"comment_id":121346718,"body_markdown":"There is no any other function.","body":"There is no any other function."},{"owner":{"account_id":10484756,"reputation":847,"user_id":7728676,"display_name":"lewis machilika"},"score":0,"creation_date":1628154479,"post_id":68662951,"comment_id":121346883,"body_markdown":"I tried changing interface to @Transactional not working aswel","body":"I tried changing interface to @Transactional not working aswel"},{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1628158383,"post_id":68662951,"comment_id":121348480,"body_markdown":"share the complete stack trace","body":"share the complete stack trace"}],"answers":[{"comments":[{"owner":{"account_id":210409,"reputation":305,"user_id":462009,"accept_rate":15,"display_name":"vamsi-vegi"},"score":1,"creation_date":1689378026,"post_id":68665056,"comment_id":135210100,"body_markdown":"if using multiple datasources then do not forget to provide the transactionManager as shown below","body":"if using multiple datasources then do not forget to provide the transactionManager as shown below"},{"owner":{"account_id":210409,"reputation":305,"user_id":462009,"accept_rate":15,"display_name":"vamsi-vegi"},"score":1,"creation_date":1689378163,"post_id":68665056,"comment_id":135210105,"body_markdown":"if using multiple datasources, then add the transactionManager as shown below  @Repository\n@Transactional(&quot;transactionManager4entstg&quot;)\npublic interface MDHNativeQueryRepo extends JpaRepository&lt;StgCip900Kna1, String&gt;","body":"if using multiple datasources, then add the transactionManager as shown below  @Repository @Transactional(&quot;transactionManager4entstg&quot;) public interface MDHNativeQueryRepo extends JpaRepository&lt;StgCip900Kna1, String&gt;"}],"tags":[],"owner":{"account_id":3923602,"reputation":738,"user_id":3244998,"display_name":"thepaoloboi"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1628160080,"creation_date":1628160080,"answer_id":68665056,"question_id":68662951,"body_markdown":"Given your `ApplicationRepository`, I am assuming that you are using Spring JPA.\r\n\r\nThe exception you are facing to is `javax.persistence.TransactionRequiredException`.\r\n\r\nYou have already added `@Transactional` annotation to the repository, but please make sure that the import which you are using for is **`org.springframework.transaction.annotation.Transactional`**, because it seems that you might be using `javax.transaction.Transactional`.\r\n\r\nI also suggest to you to use `@Transactional` on the class/method of the repository consumer.","title":"Executing an update/delete query; nested exception is javax.persistence.TransactionRequiredException: Executing an update/delete query","body":"<p>Given your <code>ApplicationRepository</code>, I am assuming that you are using Spring JPA.</p>\n<p>The exception you are facing to is <code>javax.persistence.TransactionRequiredException</code>.</p>\n<p>You have already added <code>@Transactional</code> annotation to the repository, but please make sure that the import which you are using for is <strong><code>org.springframework.transaction.annotation.Transactional</code></strong>, because it seems that you might be using <code>javax.transaction.Transactional</code>.</p>\n<p>I also suggest to you to use <code>@Transactional</code> on the class/method of the repository consumer.</p>\n"},{"tags":[],"owner":{"account_id":29003908,"reputation":1,"user_id":22216920,"display_name":"aidara aidara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689177917,"creation_date":1689177917,"answer_id":76672514,"question_id":68662951,"body_markdown":"@Transactional instead of @Transaction you have made @Transaction this is the issues","title":"Executing an update/delete query; nested exception is javax.persistence.TransactionRequiredException: Executing an update/delete query","body":"<p>@Transactional instead of @Transaction you have made @Transaction this is the issues</p>\n"}],"owner":{"account_id":10484756,"reputation":847,"user_id":7728676,"display_name":"lewis machilika"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23535,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":68665056,"answer_count":2,"score":5,"last_activity_date":1689177917,"creation_date":1628151490,"question_id":68662951,"body_markdown":"I have tried various suggestions on solving the above error but its still there. Below is my repository. How can I solve this? \r\n```\r\n@Transaction\r\npublic interface ApplicationRepository extends JpaRepository&lt;Application, BigInteger&gt; {\r\n\r\n    @Modifying\r\n    @Query(nativeQuery = true, value = &quot;update application set transaction_status = :transaction_status where id =:id&quot;)\r\n    void updateStatus(@Param(&quot;transaction_status&quot;) int transaction_status, @Param(&quot;id&quot;) BigInteger id);\r\n}\r\n```","title":"Executing an update/delete query; nested exception is javax.persistence.TransactionRequiredException: Executing an update/delete query","body":"<p>I have tried various suggestions on solving the above error but its still there. Below is my repository. How can I solve this?</p>\n<pre><code>@Transaction\npublic interface ApplicationRepository extends JpaRepository&lt;Application, BigInteger&gt; {\n\n    @Modifying\n    @Query(nativeQuery = true, value = &quot;update application set transaction_status = :transaction_status where id =:id&quot;)\n    void updateStatus(@Param(&quot;transaction_status&quot;) int transaction_status, @Param(&quot;id&quot;) BigInteger id);\n}\n</code></pre>\n"},{"tags":["java","sql","jdbc"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1689168742,"post_id":76671060,"comment_id":135175268,"body_markdown":"*String nr = rs.getString(&quot;a1atnr&quot;);* should be in your `else` block. Also, you should really only use [all caps for constants](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions)","body":"<i>String nr = rs.getString(&quot;a1atnr&quot;);</i> should be in your <code>else</code> block. Also, you should really only use <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">all caps for constants</a>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1689169126,"post_id":76671060,"comment_id":135175381,"body_markdown":"I&#39;d remove the `;` from your query in the Java code for now, and I&#39;d also try without re-use of the PreparedStatement. Do the tables have shared column names? If so, you may want table aliases as stated below, but that doesn&#39;t explain them working elsewhere","body":"I&#39;d remove the <code>;</code> from your query in the Java code for now, and I&#39;d also try without re-use of the PreparedStatement. Do the tables have shared column names? If so, you may want table aliases as stated below, but that doesn&#39;t explain them working elsewhere"},{"owner":{"account_id":26909570,"reputation":23,"user_id":20485378,"display_name":"Splatted I0I"},"score":0,"creation_date":1689169208,"post_id":76671060,"comment_id":135175404,"body_markdown":"I have tried removing the comma, also the column names are all unique","body":"I have tried removing the comma, also the column names are all unique"}],"answers":[{"comments":[{"owner":{"account_id":26909570,"reputation":23,"user_id":20485378,"display_name":"Splatted I0I"},"score":0,"creation_date":1689169453,"post_id":76671156,"comment_id":135175475,"body_markdown":"This worked for me, thank you so much. Very confusing why it works in the SQL Query tool but not in java.","body":"This worked for me, thank you so much. Very confusing why it works in the SQL Query tool but not in java."}],"tags":[],"owner":{"account_id":26758492,"reputation":46,"user_id":20356781,"display_name":"Pyaeth"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689177559,"creation_date":1689168740,"answer_id":76671156,"question_id":76671060,"body_markdown":"could you try adding aliases for the two tables in your FROM clause and use them in the ON clause like this:\r\n````\r\n&quot;SELECT a1atnr &quot; +\r\n&quot;FROM market.a1 a1Table INNER JOIN market.asol asolTable &quot; +\r\n&quot;ON a1Table.a1atnr = asolTable.asoatnr &quot; +\r\n&quot;WHERE asoatikid = ?;&quot;;\r\n````","title":"ResultSet Empty but SQL Statement correct","body":"<p>could you try adding aliases for the two tables in your FROM clause and use them in the ON clause like this:</p>\n<pre><code>&quot;SELECT a1atnr &quot; +\n&quot;FROM market.a1 a1Table INNER JOIN market.asol asolTable &quot; +\n&quot;ON a1Table.a1atnr = asolTable.asoatnr &quot; +\n&quot;WHERE asoatikid = ?;&quot;;\n</code></pre>\n"}],"owner":{"account_id":26909570,"reputation":23,"user_id":20485378,"display_name":"Splatted I0I"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76671156,"answer_count":1,"score":1,"last_activity_date":1689177559,"creation_date":1689168074,"question_id":76671060,"body_markdown":"I&#39;m trying to SELECT a column from my table, but the ResultSet is always empty. \r\nThe SQL Statement works as expected when I try it in the IntelliJ database tool and I even printed it out using System.out.print and put it into the sql query tool and it works.\r\n\r\nBecause the ResultSet is empty I keep getting the error &quot;ResultSet is not positioned correctly&quot; (I tried writing rs.next but it didn&#39;t work) \r\n\r\nHere is the code\r\n\r\n    private final String HELP_STATEMENT_STR =\r\n                    &quot;SELECT a1atnr &quot; +\r\n                    &quot;FROM market.a1 INNER JOIN market.asol ON a1atnr = asoatnr &quot; +\r\n                    &quot;WHERE asoatikid = ?;&quot;;\r\n        \r\n    private PreparedStatement HELP_STATEMENT;\r\n\r\n    public List&lt;Long&gt; deleteArticle(String ext_article_nr) throws SQLException {\r\n        if (HELP_STATEMENT == null){\r\n            HELP_STATEMENT = database.getConnection().prepareStatement(HELP_STATEMENT_STR);\r\n        }\r\n        HELP_STATEMENT.setString(1, ext_article_nr);\r\n        System.out.println(HELP_STATEMENT.toString());\r\n        ResultSet rs = HELP_STATEMENT.executeQuery();\r\n        if (!rs.next()){\r\n            System.out.println(&quot;ResultSet is empty&quot;);\r\n        } else {\r\n            System.out.println(&quot;ResultSet is not empty&quot;);\r\n        }\r\n        String nr = rs.getString(&quot;a1atnr&quot;);\r\n    }\r\nI also tried using a normal Statement instead of a prepareStatement but the results are exactly the same\r\n\r\nAny help would be appreciated ","title":"ResultSet Empty but SQL Statement correct","body":"<p>I'm trying to SELECT a column from my table, but the ResultSet is always empty.\nThe SQL Statement works as expected when I try it in the IntelliJ database tool and I even printed it out using System.out.print and put it into the sql query tool and it works.</p>\n<p>Because the ResultSet is empty I keep getting the error &quot;ResultSet is not positioned correctly&quot; (I tried writing rs.next but it didn't work)</p>\n<p>Here is the code</p>\n<pre><code>private final String HELP_STATEMENT_STR =\n                &quot;SELECT a1atnr &quot; +\n                &quot;FROM market.a1 INNER JOIN market.asol ON a1atnr = asoatnr &quot; +\n                &quot;WHERE asoatikid = ?;&quot;;\n    \nprivate PreparedStatement HELP_STATEMENT;\n\npublic List&lt;Long&gt; deleteArticle(String ext_article_nr) throws SQLException {\n    if (HELP_STATEMENT == null){\n        HELP_STATEMENT = database.getConnection().prepareStatement(HELP_STATEMENT_STR);\n    }\n    HELP_STATEMENT.setString(1, ext_article_nr);\n    System.out.println(HELP_STATEMENT.toString());\n    ResultSet rs = HELP_STATEMENT.executeQuery();\n    if (!rs.next()){\n        System.out.println(&quot;ResultSet is empty&quot;);\n    } else {\n        System.out.println(&quot;ResultSet is not empty&quot;);\n    }\n    String nr = rs.getString(&quot;a1atnr&quot;);\n}\n</code></pre>\n<p>I also tried using a normal Statement instead of a prepareStatement but the results are exactly the same</p>\n<p>Any help would be appreciated</p>\n"},{"tags":["javascript","java","gwt","smartgwt","smartclient"],"owner":{"account_id":29003325,"reputation":1,"user_id":22216459,"display_name":"java_dev8604"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689176834,"creation_date":1689175539,"question_id":76672195,"body_markdown":"I have a SelectItem component attached to a Dynamic form. the component has a valueMap set and there is no explicit operator set by me. According to the Smart GWT java docs, the default search operator for fields in a form that produces a AdvancedCriteria is &quot;iContains&quot; but it does not apply to special fields where exact match is obviously the right default setting, such as fields of type:&quot;enum&quot;, or fields with a valueMap or optionDataSource.\r\n\r\nhttps://smartclient.com/smartgwt/javadoc/com/smartgwt/client/widgets/form/fields/FormItem.html#getOperator--\r\n\r\nhttps://smartclient.com/smartgwt/javadoc/com/smartgwt/client/widgets/form/DynamicForm.html#getDefaultSearchOperator--\r\n\r\nI should be getting &quot;equals&quot; operator but instead i&#39;m getting &quot;iContains&quot;. Am I missing any configuration? What am I doing wrong? I&#39;ll be greatly appreciative of your help.\r\n\r\nCode Sample:\r\n```\r\nSelectItem selectItem = new SelectItem(WorkDS.STATUS, &quot;Status&quot;);\r\nselectItem.setValueMap(&quot;SCHEDULED&quot;, &quot;COMPLETED&quot;, &quot;VERIFIED&quot;);\r\nselectItem.setWidth(&quot;150&quot;);\r\n```\r\nsetting the form items:\r\n`form.setItems(...,selectItem,....);`\r\n\r\nI&#39;m getting the AdvancedCriteria through the method DynamicForm.getValuesAsAdvancedCriteria()\r\n\r\n```\r\nAdvancedCriteria ac = form.getValuesAsAdvancedCriteria();\r\n```\r\n\r\n\r\n\r\nI did some digging and found out that earlier Smart GWT used to return &quot;equals&quot; operator if the field has a valueMap, or a optionDatasource etc. Inline with the documentation. But in the latest version (v13) it first gets the default operator (&quot;iContains&quot;) based on the field type which is &#39;text&#39; and then performs some checks and based on that decides whether to return &quot;equals&quot; or the default operator.\r\n\r\nit gets the default operator\r\n```\r\n_4 = isc.SimpleType.getDefaultOperator(this.getType())\r\n```\r\n\r\nthen goes on to perform the check below. _5 is set to true only of we have a operator set for the field, which in my case is false. _3 remains undefined. allowExpressions property is not set on my form so it is false. _4 is equal to &quot;iContains&quot;. _7 evaluates to be true.\r\n```\r\nvar _7 = _3 || _5 || (!_5 &amp;&amp; _4 &amp;&amp; !(this.form &amp;&amp; this.form.allowExpressions &amp;&amp; _4 == &quot;iContains&quot;));\r\n _4 = this.$199l(_1, _2, _7, _4);\r\n```\r\n\r\n```\r\n$199l = function FormItem__getDefaultOperator(_1, _2, _3, _4) {\r\n        var _5 = this.getValidOperators();\r\n        var _6 = this.getType();\r\n        if (this.valueMap || this.optionDataSource || SimpleType.inheritsFrom(_6, &quot;enum&quot;) || SimpleType.inheritsFrom(_6, &quot;boolean&quot;) || SimpleType.inheritsFrom(_6, &quot;float&quot;) || SimpleType.inheritsFrom(_6, &quot;integer&quot;) || SimpleType.inheritsFrom(_6, &quot;date&quot;) || SimpleType.inheritsFrom(_6, &quot;datetime&quot;) || SimpleType.inheritsFrom(_6, &quot;time&quot;)) {\r\n            return _3 ? _4 : &quot;equals&quot;\r\n        } else {\r\n            var _7 = _3 ? null : &quot;iContains&quot;;\r\n            if (this.form) {\r\n                _7 = this.form.defaultSearchOperator || (_3 ? null : (this.form.allowExpressions ? &quot;iContainsPattern&quot; : &quot;iContains&quot;));\r\n                var _8 = this.form.getDataSource()\r\n                  , _9 = _8 &amp;&amp; _8.getFieldOperators(this.name)\r\n                  , _10 = _9 &amp;&amp; _9.contains(_7);\r\n                if (!_10 &amp;&amp; _9) {\r\n                    if (_3)\r\n                        return _4;\r\n                    _7 = _9[0]\r\n                }\r\n            }\r\n            return DataSource.getCriteriaOperator(null, _1, _7, _3) || _4\r\n        }\r\n    }\r\n```\r\n\r\nhere it checks for the valueMap and returns the operator based on _3 which is the same value as _7.\r\n\r\nI don&#39;t want to change my code since then I&#39;d have to make changes in several places. I expect the framework to return &quot;equals&quot; operator for the fields for which a valueMap is set, and as mentioned in the documents. Does anyone else have come across this issue? if yes, were you able to resolve it? Any kind of help is appreciated.","title":"Getting unexpected operator in advance criteria generated by dynamic form - smart gwt v13.0p","body":"<p>I have a SelectItem component attached to a Dynamic form. the component has a valueMap set and there is no explicit operator set by me. According to the Smart GWT java docs, the default search operator for fields in a form that produces a AdvancedCriteria is &quot;iContains&quot; but it does not apply to special fields where exact match is obviously the right default setting, such as fields of type:&quot;enum&quot;, or fields with a valueMap or optionDataSource.</p>\n<p><a href=\"https://smartclient.com/smartgwt/javadoc/com/smartgwt/client/widgets/form/fields/FormItem.html#getOperator--\" rel=\"nofollow noreferrer\">https://smartclient.com/smartgwt/javadoc/com/smartgwt/client/widgets/form/fields/FormItem.html#getOperator--</a></p>\n<p><a href=\"https://smartclient.com/smartgwt/javadoc/com/smartgwt/client/widgets/form/DynamicForm.html#getDefaultSearchOperator--\" rel=\"nofollow noreferrer\">https://smartclient.com/smartgwt/javadoc/com/smartgwt/client/widgets/form/DynamicForm.html#getDefaultSearchOperator--</a></p>\n<p>I should be getting &quot;equals&quot; operator but instead i'm getting &quot;iContains&quot;. Am I missing any configuration? What am I doing wrong? I'll be greatly appreciative of your help.</p>\n<p>Code Sample:</p>\n<pre><code>SelectItem selectItem = new SelectItem(WorkDS.STATUS, &quot;Status&quot;);\nselectItem.setValueMap(&quot;SCHEDULED&quot;, &quot;COMPLETED&quot;, &quot;VERIFIED&quot;);\nselectItem.setWidth(&quot;150&quot;);\n</code></pre>\n<p>setting the form items:\n<code>form.setItems(...,selectItem,....);</code></p>\n<p>I'm getting the AdvancedCriteria through the method DynamicForm.getValuesAsAdvancedCriteria()</p>\n<pre><code>AdvancedCriteria ac = form.getValuesAsAdvancedCriteria();\n</code></pre>\n<p>I did some digging and found out that earlier Smart GWT used to return &quot;equals&quot; operator if the field has a valueMap, or a optionDatasource etc. Inline with the documentation. But in the latest version (v13) it first gets the default operator (&quot;iContains&quot;) based on the field type which is 'text' and then performs some checks and based on that decides whether to return &quot;equals&quot; or the default operator.</p>\n<p>it gets the default operator</p>\n<pre><code>_4 = isc.SimpleType.getDefaultOperator(this.getType())\n</code></pre>\n<p>then goes on to perform the check below. _5 is set to true only of we have a operator set for the field, which in my case is false. _3 remains undefined. allowExpressions property is not set on my form so it is false. _4 is equal to &quot;iContains&quot;. _7 evaluates to be true.</p>\n<pre><code>var _7 = _3 || _5 || (!_5 &amp;&amp; _4 &amp;&amp; !(this.form &amp;&amp; this.form.allowExpressions &amp;&amp; _4 == &quot;iContains&quot;));\n _4 = this.$199l(_1, _2, _7, _4);\n</code></pre>\n<pre><code>$199l = function FormItem__getDefaultOperator(_1, _2, _3, _4) {\n        var _5 = this.getValidOperators();\n        var _6 = this.getType();\n        if (this.valueMap || this.optionDataSource || SimpleType.inheritsFrom(_6, &quot;enum&quot;) || SimpleType.inheritsFrom(_6, &quot;boolean&quot;) || SimpleType.inheritsFrom(_6, &quot;float&quot;) || SimpleType.inheritsFrom(_6, &quot;integer&quot;) || SimpleType.inheritsFrom(_6, &quot;date&quot;) || SimpleType.inheritsFrom(_6, &quot;datetime&quot;) || SimpleType.inheritsFrom(_6, &quot;time&quot;)) {\n            return _3 ? _4 : &quot;equals&quot;\n        } else {\n            var _7 = _3 ? null : &quot;iContains&quot;;\n            if (this.form) {\n                _7 = this.form.defaultSearchOperator || (_3 ? null : (this.form.allowExpressions ? &quot;iContainsPattern&quot; : &quot;iContains&quot;));\n                var _8 = this.form.getDataSource()\n                  , _9 = _8 &amp;&amp; _8.getFieldOperators(this.name)\n                  , _10 = _9 &amp;&amp; _9.contains(_7);\n                if (!_10 &amp;&amp; _9) {\n                    if (_3)\n                        return _4;\n                    _7 = _9[0]\n                }\n            }\n            return DataSource.getCriteriaOperator(null, _1, _7, _3) || _4\n        }\n    }\n</code></pre>\n<p>here it checks for the valueMap and returns the operator based on _3 which is the same value as _7.</p>\n<p>I don't want to change my code since then I'd have to make changes in several places. I expect the framework to return &quot;equals&quot; operator for the fields for which a valueMap is set, and as mentioned in the documents. Does anyone else have come across this issue? if yes, were you able to resolve it? Any kind of help is appreciated.</p>\n"},{"tags":["java","selenium-webdriver","cookies","automation"],"comments":[{"owner":{"account_id":7912553,"reputation":345,"user_id":5976130,"display_name":"Samira Kumar Nanda"},"score":1,"creation_date":1689180185,"post_id":76672354,"comment_id":135178051,"body_markdown":"In Java, using Selenium WebDriver, it is not possible to add cookies to a website before the page loads. The reason is that the cookies are associated with a specific domain, and the WebDriver needs to have a session with that domain in order to add cookies successfully.\nWhen you create a new WebDriver session, it starts with an incognito mode with nothing associated, meaning it has no cookies or session information. You need to navigate to the website first before you can add cookies to that domain.","body":"In Java, using Selenium WebDriver, it is not possible to add cookies to a website before the page loads. The reason is that the cookies are associated with a specific domain, and the WebDriver needs to have a session with that domain in order to add cookies successfully. When you create a new WebDriver session, it starts with an incognito mode with nothing associated, meaning it has no cookies or session information. You need to navigate to the website first before you can add cookies to that domain."}],"owner":{"account_id":29003330,"reputation":1,"user_id":22216463,"display_name":"Dmitry Ulasevich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689176794,"creation_date":1689176684,"question_id":76672354,"body_markdown":"Is that possible to add cookies using Java before the page load? Or the only way is to go to the site first and only then the cookies can be added?\r\n\r\nI&#39;m logging to the Site1 in session1 and have cookies saved. Then I start a new session2 in a different browser and want to have cookies added before I visit Site1 in order to avoid logging again (the site is designed in the way I will always get login screen if I have no active session). But I&#39;m not sure how to add them since there is no site specified in the Cookies storage yet (https://i.stack.imgur.com/TODvI.png)\r\n\r\nI know there is driver.manage().addCookie() method which can be used, but this is working correctly only if we have the site opened, otherwise I&#39;m getting InvalidCookieDomainException. In my case I&#39;m trying to achieve the situation when I add cookies first and then visit the site - this way I should not get the login screen since I have cookies added.\r\n\r\n\r\n\r\nI was unable to find the solution on the internet, trying to understand if that&#39;s possible at all.","title":"Add cokies using Java before page load","body":"<p>Is that possible to add cookies using Java before the page load? Or the only way is to go to the site first and only then the cookies can be added?</p>\n<p>I'm logging to the Site1 in session1 and have cookies saved. Then I start a new session2 in a different browser and want to have cookies added before I visit Site1 in order to avoid logging again (the site is designed in the way I will always get login screen if I have no active session). But I'm not sure how to add them since there is no site specified in the Cookies storage yet (<a href=\"https://i.stack.imgur.com/TODvI.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/TODvI.png</a>)</p>\n<p>I know there is driver.manage().addCookie() method which can be used, but this is working correctly only if we have the site opened, otherwise I'm getting InvalidCookieDomainException. In my case I'm trying to achieve the situation when I add cookies first and then visit the site - this way I should not get the login screen since I have cookies added.</p>\n<p>I was unable to find the solution on the internet, trying to understand if that's possible at all.</p>\n"},{"tags":["java","flutter","plugins"],"owner":{"account_id":19235430,"reputation":431,"user_id":14056496,"display_name":"jdevp2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689176195,"creation_date":1689176195,"question_id":76672287,"body_markdown":"I&#39;m writing a screen recoding Flutter plugin. The recoding activity stops whenever the device is rotated and the plugin is detached from the engine.  How can I prevent that from happening so the recording will continue? \r\n\r\n    @Override\r\n        public void onAttachedToEngine(@NonNull FlutterPluginBinding binding) {\r\n            context = binding.getApplicationContext();\r\n            methodChannel = new MethodChannel(binding.getBinaryMessenger(), CHANNEL_NAME);\r\n            methodChannel.setMethodCallHandler(this);\r\n        }\r\n        @Override\r\n        public void onDetachedFromEngine(@NonNull FlutterPluginBinding binding) {\r\n            methodChannel.setMethodCallHandler(null);\r\n            methodChannel = null;\r\n            context = null;\r\n            System.out.println(&quot;detaching engine&quot;);\r\n        }\r\n        @Override\r\n        public void onAttachedToActivity(@NonNull ActivityPluginBinding binding) {\r\n            activity = binding.getActivity();\r\n            binding.addActivityResultListener(this);\r\n            if (activity != null) {\r\n                activity.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LOCKED);\r\n            }\r\n        }\r\n\r\n","title":"How to prevent Flutter plugin from detaching from engine when a device is rotated?","body":"<p>I'm writing a screen recoding Flutter plugin. The recoding activity stops whenever the device is rotated and the plugin is detached from the engine.  How can I prevent that from happening so the recording will continue?</p>\n<pre><code>@Override\n    public void onAttachedToEngine(@NonNull FlutterPluginBinding binding) {\n        context = binding.getApplicationContext();\n        methodChannel = new MethodChannel(binding.getBinaryMessenger(), CHANNEL_NAME);\n        methodChannel.setMethodCallHandler(this);\n    }\n    @Override\n    public void onDetachedFromEngine(@NonNull FlutterPluginBinding binding) {\n        methodChannel.setMethodCallHandler(null);\n        methodChannel = null;\n        context = null;\n        System.out.println(&quot;detaching engine&quot;);\n    }\n    @Override\n    public void onAttachedToActivity(@NonNull ActivityPluginBinding binding) {\n        activity = binding.getActivity();\n        binding.addActivityResultListener(this);\n        if (activity != null) {\n            activity.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LOCKED);\n        }\n    }\n</code></pre>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1688661482,"post_id":76628936,"comment_id":135107165,"body_markdown":"Does this answer your question? [MapStruct mapper error: Unknown property &quot;propertyName&quot; in result type Dto. Did you mean &quot;null&quot;?](https://stackoverflow.com/questions/73240057/mapstruct-mapper-error-unknown-property-propertyname-in-result-type-dto-did)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/73240057/mapstruct-mapper-error-unknown-property-propertyname-in-result-type-dto-did\">MapStruct mapper error: Unknown property &quot;propertyName&quot; in result type Dto. Did you mean &quot;null&quot;?</a>"},{"owner":{"account_id":11165474,"reputation":110,"user_id":8194286,"display_name":"xKrasusX"},"score":0,"creation_date":1688713811,"post_id":76628936,"comment_id":135113448,"body_markdown":"No, that&#39;s not my case. I don&#39;t have Lombok in my project.","body":"No, that&#39;s not my case. I don&#39;t have Lombok in my project."},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1689489955,"post_id":76628936,"comment_id":135218860,"body_markdown":"This should work out of the box. Can you please raise an issue in the MapStruct project?","body":"This should work out of the box. Can you please raise an issue in the MapStruct project?"}],"answers":[{"tags":[],"owner":{"account_id":11165474,"reputation":110,"user_id":8194286,"display_name":"xKrasusX"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689000263,"creation_date":1689000263,"answer_id":76654874,"question_id":76628936,"body_markdown":"I think I figured this out. I need to use `@MapperConfig`:\r\n\r\n    @MapperConfig\r\n    public interface VehicleMapperConfig {\r\n        @Mapping(target = &quot;name&quot;, constant = &quot;noname&quot;)\r\n        void mapVehicleToDto(Vehicle vehicle, @MappingTarget VehicleDto target);\r\n    }\r\n\r\n    @Mapper(config = VehicleMapperConfig.class, subclassExhaustiveStrategy = RUNTIME_EXCEPTION)\r\n    public interface VehicleMapper {\r\n        @InheritConfiguration(name = &quot;mapVehicleToDto&quot;)\r\n        @SubclassMapping(target = CarDto.class, source = Car.class)\r\n        @SubclassMapping(target = MotorbikeDto.class, source = Motorbike.class)\r\n        VehicleDto mapToDto(Vehicle vehicle);\r\n    }\r\n\r\nWith this solution the superclass field `name` is mapped properly.\r\n\r\n","title":"Mapstruct - abstract target class fields mapping","body":"<p>I think I figured this out. I need to use <code>@MapperConfig</code>:</p>\n<pre><code>@MapperConfig\npublic interface VehicleMapperConfig {\n    @Mapping(target = &quot;name&quot;, constant = &quot;noname&quot;)\n    void mapVehicleToDto(Vehicle vehicle, @MappingTarget VehicleDto target);\n}\n\n@Mapper(config = VehicleMapperConfig.class, subclassExhaustiveStrategy = RUNTIME_EXCEPTION)\npublic interface VehicleMapper {\n    @InheritConfiguration(name = &quot;mapVehicleToDto&quot;)\n    @SubclassMapping(target = CarDto.class, source = Car.class)\n    @SubclassMapping(target = MotorbikeDto.class, source = Motorbike.class)\n    VehicleDto mapToDto(Vehicle vehicle);\n}\n</code></pre>\n<p>With this solution the superclass field <code>name</code> is mapped properly.</p>\n"}],"owner":{"account_id":11165474,"reputation":110,"user_id":8194286,"display_name":"xKrasusX"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689175956,"creation_date":1688647186,"question_id":76628936,"body_markdown":"Source classes:\r\n\r\n    public abstract class Vehicle {\r\n        private final String name; // with getter\r\n    }\r\n    public class Car extends Vehicle {\r\n        private final int numOfDoors; // with getter\r\n    }\r\n    public class Motorbike extends Vehicle {\r\n        private final boolean allowedForMinor; // with getter\r\n    }\r\n\r\nTarget classes:\r\n\r\n    public abstract class VehicleDto {\r\n        private final String name;\r\n        public VehicleDto(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n    public class CarDto extends VehicleDto {\r\n        private final int numOfDoors;\r\n        public CarDto(String name, int numOfDoors) {\r\n            super(name);\r\n            this.numOfDoors = numOfDoors;\r\n        }\r\n    }\r\n    public class MotorbikeDto extends VehicleDto {\r\n        private final boolean allowedForMinor;\r\n        public MotorbikeDto(String name, boolean allowedForMinor) {\r\n            super(name);\r\n            this.allowedForMinor = allowedForMinor;\r\n        }\r\n    }\r\n\r\nMapper config:\r\n\r\n    @Mapper(subclassExhaustiveStrategy = SubclassExhaustiveStrategy.RUNTIME_EXCEPTION)\r\n    public interface VehicleMapper {\r\n        @SubclassMapping(target = CarDto.class, source = Car.class)\r\n        @SubclassMapping(target = MotorbikeDto.class, source = Motorbike.class)\r\n        VehicleDto mapToDto(Vehicle vehicle);\r\n    }\r\n\r\nEverything works fine so far, the mapper class is generated and mapping correctly all the fields.\r\nThe problem occurs when I&#39;m trying to add anything related to `name` field in VehicleDto, for example:\r\n\r\n    @Mapper(subclassExhaustiveStrategy = SubclassExhaustiveStrategy.RUNTIME_EXCEPTION)\r\n    public interface VehicleMapper {\r\n        @SubclassMapping(target = CarDto.class, source = Car.class)\r\n        @SubclassMapping(target = MotorbikeDto.class, source = Motorbike.class)\r\n        @Mapping(target = &quot;name&quot;, constant = &quot;noname&quot;) // &lt;-------- added this one --------\r\n        VehicleDto mapToDto(Vehicle vehicle);\r\n    }\r\n\r\nIn this case I&#39;m getting a compilation error:\r\n\r\n&gt; Unknown property &quot;name&quot; in result type VehicleDto. Did you mean\r\n&gt; &quot;null&quot;?\r\n\r\nHow can Mapstruct recognize the field `name` by default, and not with custom config? Is there a clean Mapstruct way to fix this, preferably without any changes to the source/target classes?\r\n\r\n\r\n","title":"Mapstruct - abstract target class fields mapping","body":"<p>Source classes:</p>\n<pre><code>public abstract class Vehicle {\n    private final String name; // with getter\n}\npublic class Car extends Vehicle {\n    private final int numOfDoors; // with getter\n}\npublic class Motorbike extends Vehicle {\n    private final boolean allowedForMinor; // with getter\n}\n</code></pre>\n<p>Target classes:</p>\n<pre><code>public abstract class VehicleDto {\n    private final String name;\n    public VehicleDto(String name) {\n        this.name = name;\n    }\n}\npublic class CarDto extends VehicleDto {\n    private final int numOfDoors;\n    public CarDto(String name, int numOfDoors) {\n        super(name);\n        this.numOfDoors = numOfDoors;\n    }\n}\npublic class MotorbikeDto extends VehicleDto {\n    private final boolean allowedForMinor;\n    public MotorbikeDto(String name, boolean allowedForMinor) {\n        super(name);\n        this.allowedForMinor = allowedForMinor;\n    }\n}\n</code></pre>\n<p>Mapper config:</p>\n<pre><code>@Mapper(subclassExhaustiveStrategy = SubclassExhaustiveStrategy.RUNTIME_EXCEPTION)\npublic interface VehicleMapper {\n    @SubclassMapping(target = CarDto.class, source = Car.class)\n    @SubclassMapping(target = MotorbikeDto.class, source = Motorbike.class)\n    VehicleDto mapToDto(Vehicle vehicle);\n}\n</code></pre>\n<p>Everything works fine so far, the mapper class is generated and mapping correctly all the fields.\nThe problem occurs when I'm trying to add anything related to <code>name</code> field in VehicleDto, for example:</p>\n<pre><code>@Mapper(subclassExhaustiveStrategy = SubclassExhaustiveStrategy.RUNTIME_EXCEPTION)\npublic interface VehicleMapper {\n    @SubclassMapping(target = CarDto.class, source = Car.class)\n    @SubclassMapping(target = MotorbikeDto.class, source = Motorbike.class)\n    @Mapping(target = &quot;name&quot;, constant = &quot;noname&quot;) // &lt;-------- added this one --------\n    VehicleDto mapToDto(Vehicle vehicle);\n}\n</code></pre>\n<p>In this case I'm getting a compilation error:</p>\n<blockquote>\n<p>Unknown property &quot;name&quot; in result type VehicleDto. Did you mean\n&quot;null&quot;?</p>\n</blockquote>\n<p>How can Mapstruct recognize the field <code>name</code> by default, and not with custom config? Is there a clean Mapstruct way to fix this, preferably without any changes to the source/target classes?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2485059,"reputation":1,"user_id":2163631,"display_name":"Eeshwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660303458,"creation_date":1660303458,"answer_id":73333394,"question_id":73333285,"body_markdown":"Before modification:\r\n\r\ncode added in Java file and this retry.excludeRetry added in application.properties file:\r\n\r\n@Value(“#{retry.excludeRetry}”)\r\nPrivate List&lt;String&gt; excludeRetryStatus;\r\n\r\n\r\nPost modification  :\r\n\r\nSo, this is Comma separated values in application.properties file\r\n\r\nAnd we need to modify code like \r\n\r\n@Value(“#{${retry.excludeRetry}.split (‘,’)}”)\r\nPrivate List&lt;String&gt; excludeRetryStatus;\r\n\r\n\r\n","title":"EL1008E: Property or field ‘retry’ cannot be found on object of type ‘org.springframework.beans.factory.config.BeanExpressionContext’-maybe not public","body":"<p>Before modification:</p>\n<p>code added in Java file and this retry.excludeRetry added in application.properties file:</p>\n<p>@Value(“#{retry.excludeRetry}”)\nPrivate List excludeRetryStatus;</p>\n<p>Post modification  :</p>\n<p>So, this is Comma separated values in application.properties file</p>\n<p>And we need to modify code like</p>\n<p>@Value(“#{${retry.excludeRetry}.split (‘,’)}”)\nPrivate List excludeRetryStatus;</p>\n"}],"owner":{"account_id":2485059,"reputation":1,"user_id":2163631,"display_name":"Eeshwar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689175514,"creation_date":1660302892,"question_id":73333285,"body_markdown":"Find stack trace in image\r\n\r\n    Caused by:\r\n    \r\n    erg-springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;ApilInvokerDelegate’: Unsat\r\n    dependency expressed through field &#39;excludedRetryStatus&#39;;\r\n    nested exception is org.springframework.beans.factory.BeanExpressionException. Expression\r\n    Parsing failed; nested exception is org-springframework.expression.spel.SpelEvaluationException: \r\n    ELIO08E: Property or field ‘retry’ Cannot be found\r\n    On Object of type ‘org.springframework.beans.factory.config.BeanExpressionContext&#39; - maybe not public or not valid?\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4aizC.jpg\r\n\r\n","title":"EL1008E: Property or field ‘retry’ cannot be found on object of type ‘org.springframework.beans.factory.config.BeanExpressionContext’-maybe not public","body":"<p>Find stack trace in image</p>\n<pre><code>Caused by:\n\nerg-springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ApilInvokerDelegate’: Unsat\ndependency expressed through field 'excludedRetryStatus';\nnested exception is org.springframework.beans.factory.BeanExpressionException. Expression\nParsing failed; nested exception is org-springframework.expression.spel.SpelEvaluationException: \nELIO08E: Property or field ‘retry’ Cannot be found\nOn Object of type ‘org.springframework.beans.factory.config.BeanExpressionContext' - maybe not public or not valid?\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4aizC.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring-boot","exception","microservices","controller-advice"],"owner":{"account_id":19770905,"reputation":31,"user_id":14477894,"display_name":"Mahdi Ezzaouia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689175123,"creation_date":1689171878,"question_id":76671630,"body_markdown":"Is it considered as a best practise if we put the same controllerAdvice in the parent project of our microservice architecture. In fact we can throw only two runtime exceptions (FunctionalException and TechnicalException). Both of them are also in a common parent project. Moreover, we have the same respone model in case of errors.","title":"Use the same ControllerAdvice in a parent module of a microservice architecture","body":"<p>Is it considered as a best practise if we put the same controllerAdvice in the parent project of our microservice architecture. In fact we can throw only two runtime exceptions (FunctionalException and TechnicalException). Both of them are also in a common parent project. Moreover, we have the same respone model in case of errors.</p>\n"},{"tags":["java","abstract-class","abstract"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1689173797,"post_id":76671926,"comment_id":135176669,"body_markdown":"`Block`. Program to the *interface*. Your question is both incredibly broad and incredibly vague.","body":"<code>Block</code>. Program to the <i>interface</i>. Your question is both incredibly broad and incredibly vague."},{"owner":{"account_id":28362342,"reputation":11,"user_id":21692158,"display_name":"mingus2"},"score":0,"creation_date":1689174753,"post_id":76671926,"comment_id":135176948,"body_markdown":"okay i see this is really broad and vague sorry for that. i try to make it clearer in the post right now","body":"okay i see this is really broad and vague sorry for that. i try to make it clearer in the post right now"},{"owner":{"account_id":28362342,"reputation":11,"user_id":21692158,"display_name":"mingus2"},"score":0,"creation_date":1689175101,"post_id":76671926,"comment_id":135177030,"body_markdown":"tried my best is it a bit clearer know ?","body":"tried my best is it a bit clearer know ?"},{"owner":{"account_id":28362342,"reputation":11,"user_id":21692158,"display_name":"mingus2"},"score":0,"creation_date":1689175102,"post_id":76671926,"comment_id":135177031,"body_markdown":"tried my best is it a bit clearer know ?","body":"tried my best is it a bit clearer know ?"},{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":0,"creation_date":1689203608,"post_id":76671926,"comment_id":135181818,"body_markdown":"@mingus2 Have you read my answer?","body":"@mingus2 Have you read my answer?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689582628,"post_id":76671926,"comment_id":135228413,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689174160,"creation_date":1689174160,"answer_id":76671999,"question_id":76671926,"body_markdown":"The solution should implement [generics][1]. This would look like the following:\r\n\r\n```java\r\npublic abstract class Parent&lt;T extends Parent&lt;T&gt;&gt; {\r\n    ...\r\n    abstract T method();\r\n    ...\r\n}\r\n```\r\n\r\nYour child class would look like:\r\n\r\n```java\r\npublic class ChildA&lt;ChildA&gt; {\r\n    ...\r\n}\r\n```\r\n\r\nThis will let you call `method()` through any of the child classes and that method will return an instance of that specific child class.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/types.html","title":"what should be given back in an abstract java method if the object given back will always be a different child object created as an extend?","body":"<p>The solution should implement <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">generics</a>. This would look like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Parent&lt;T extends Parent&lt;T&gt;&gt; {\n    ...\n    abstract T method();\n    ...\n}\n</code></pre>\n<p>Your child class would look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ChildA&lt;ChildA&gt; {\n    ...\n}\n</code></pre>\n<p>This will let you call <code>method()</code> through any of the child classes and that method will return an instance of that specific child class.</p>\n"}],"owner":{"account_id":28362342,"reputation":11,"user_id":21692158,"display_name":"mingus2"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689175071,"creation_date":1689173728,"question_id":76671926,"body_markdown":"lets say you got a parent class called block that has a lot of child classes and has the abstract method called rotate that should give you back a different child of block. what should the abstract method &quot;give back&quot; if its always a specific other child object ?\r\n\r\ni tried working around it but it unfortunately doesn&#39;t work with other options trying to just change the parameter i needed to in the method implementation of the child classes.\r\n\r\nI have tried looking up any solutions or examples for this but i&#39;m not quite sure for what to actually search. \r\n\r\nlets say \r\n\r\n    public class Block{\r\n         abstract public void rotate();\r\n    }\r\n\r\nbut instead of void what should i do to give back a different object extending block. if i got the public class T extends Block{} and the method rotate should give back the object from public class Ttilt extends Block{}.","title":"what should be given back in an abstract java method if the object given back will always be a different child object created as an extend?","body":"<p>lets say you got a parent class called block that has a lot of child classes and has the abstract method called rotate that should give you back a different child of block. what should the abstract method &quot;give back&quot; if its always a specific other child object ?</p>\n<p>i tried working around it but it unfortunately doesn't work with other options trying to just change the parameter i needed to in the method implementation of the child classes.</p>\n<p>I have tried looking up any solutions or examples for this but i'm not quite sure for what to actually search.</p>\n<p>lets say</p>\n<pre><code>public class Block{\n     abstract public void rotate();\n}\n</code></pre>\n<p>but instead of void what should i do to give back a different object extending block. if i got the public class T extends Block{} and the method rotate should give back the object from public class Ttilt extends Block{}.</p>\n"},{"tags":["java","unit-testing","kotlin"],"answers":[{"comments":[{"owner":{"account_id":2260450,"reputation":919,"user_id":1990698,"accept_rate":24,"display_name":"Felix Aballi"},"score":0,"creation_date":1684935441,"post_id":53177229,"comment_id":134590357,"body_markdown":"The *Solution 2*, worked like a charm!","body":"The <i>Solution 2</i>, worked like a charm!"}],"tags":[],"owner":{"account_id":3273477,"reputation":1291,"user_id":2756220,"accept_rate":83,"display_name":"HarryQ"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1689174938,"creation_date":1541526245,"answer_id":53177229,"question_id":53174839,"body_markdown":"**Solution 1 : add a caller function in the calling class**\r\n\r\n    class DummyWrapper {\r\n      val foo get() = DummyCompanion.Companion\r\n\r\n      fun callAStaticMethod() {\r\n        foo.staticMethod()\r\n      }\r\n\r\n      fun callCompanionMethod(){\r\n        foo.someCompanionMethod();\r\n      }\r\n    }\r\n\r\nIn the test class, we can use Mockito to provide a stub for the `get()` function and verified it is called.\r\n\r\n    @Test\r\n    fun testCase() {\r\n      ....\r\n      val mockCompanionObj: DummyCompanion.Companion = mock()\r\n      val wrapper = DummyWrapper()\r\n\r\n      whenever(wrapper.foo).thenReturn(mockCompanionObj)\r\n      wrapper.callCompanionMethod()\r\n      verify(mockCompanionObj).someCompanionMethod()\r\n      ....\r\n    }\r\n\r\n\r\n**Solution 2: using Mockk**\r\nMocking companion object in Mockk is easy. There is no need to insert a test interfacing object in the source code.\r\n\r\n    @Test\r\n    fun testCompanionObject() {\r\n      // Mock the companion object\r\n      mockkObject(DummyCompanion.Companion)\r\n\r\n      // Define the stubbing behavior of a companion object method\r\n      every { DummyCompanion.someCompanionMethod() } answers { stubMethod() }\r\n\r\n      val testObject = DummyWrapper()\r\n\r\n      // Call a method that calls the companion object method\r\n      // You can verify stubMethod() is called\r\n      testObject.callCompanionMethod()\r\n\r\n      verify(exactly = 1) { DummyCompanion.someCompanionMethod() }\r\n    }\r\n\r\nFor details see [Mockk][1]\r\n\r\n    \r\n    \r\n\r\n\r\n  [1]: https://mockk.io","title":"Unit Testing verifying a companion object method is called (mocking a companion object)","body":"<p><strong>Solution 1 : add a caller function in the calling class</strong></p>\n<pre><code>class DummyWrapper {\n  val foo get() = DummyCompanion.Companion\n\n  fun callAStaticMethod() {\n    foo.staticMethod()\n  }\n\n  fun callCompanionMethod(){\n    foo.someCompanionMethod();\n  }\n}\n</code></pre>\n<p>In the test class, we can use Mockito to provide a stub for the <code>get()</code> function and verified it is called.</p>\n<pre><code>@Test\nfun testCase() {\n  ....\n  val mockCompanionObj: DummyCompanion.Companion = mock()\n  val wrapper = DummyWrapper()\n\n  whenever(wrapper.foo).thenReturn(mockCompanionObj)\n  wrapper.callCompanionMethod()\n  verify(mockCompanionObj).someCompanionMethod()\n  ....\n}\n</code></pre>\n<p><strong>Solution 2: using Mockk</strong>\nMocking companion object in Mockk is easy. There is no need to insert a test interfacing object in the source code.</p>\n<pre><code>@Test\nfun testCompanionObject() {\n  // Mock the companion object\n  mockkObject(DummyCompanion.Companion)\n\n  // Define the stubbing behavior of a companion object method\n  every { DummyCompanion.someCompanionMethod() } answers { stubMethod() }\n\n  val testObject = DummyWrapper()\n\n  // Call a method that calls the companion object method\n  // You can verify stubMethod() is called\n  testObject.callCompanionMethod()\n\n  verify(exactly = 1) { DummyCompanion.someCompanionMethod() }\n}\n</code></pre>\n<p>For details see <a href=\"https://mockk.io\" rel=\"nofollow noreferrer\">Mockk</a></p>\n"},{"tags":[],"owner":{"account_id":9455893,"reputation":567,"user_id":7031224,"display_name":"C&#233;sar Mu&#241;oz"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1557702403,"creation_date":1557702403,"answer_id":56104184,"question_id":53174839,"body_markdown":"You can do so with PowerMock too, it&#39;d be like this:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({DummyCompanion.class})\r\n    public class staticClassTest {\r\n        \r\n        @Test\r\n        public void testForCompanionMethod() {\r\n           PowerMockito.mockStatic(DummyCompanion.class);\r\n           DummyCompanion.Companion companionMock = PowerMockito.mock(DummyCompanion.Companion.class);\r\n           Whitebox.setInternalState(\r\n            DummyCompanion.class, &quot;Companion&quot;,\r\n            companionMock\r\n           );\r\n\r\n           DummyWrapper testObject = new DummyWrapper();\r\n           testObject.callCompanionMethod();\r\n           Mockito.verify(companionMock,Mockito.times(1)).someCompanionMethod();\r\n        }\r\n    }\r\n\r\nKotlin creates for Java (in the Kotlin class, which is `DummyCompanion` in this case) a static field of its Companion subclass named `Companion` which can be set using PowerMock&#39;s `WhiteBox.setInternalState` tool to a mocked `Companion` instance that you can later verify method calling to.","title":"Unit Testing verifying a companion object method is called (mocking a companion object)","body":"<p>You can do so with PowerMock too, it'd be like this:</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({DummyCompanion.class})\npublic class staticClassTest {\n\n    @Test\n    public void testForCompanionMethod() {\n       PowerMockito.mockStatic(DummyCompanion.class);\n       DummyCompanion.Companion companionMock = PowerMockito.mock(DummyCompanion.Companion.class);\n       Whitebox.setInternalState(\n        DummyCompanion.class, \"Companion\",\n        companionMock\n       );\n\n       DummyWrapper testObject = new DummyWrapper();\n       testObject.callCompanionMethod();\n       Mockito.verify(companionMock,Mockito.times(1)).someCompanionMethod();\n    }\n}\n</code></pre>\n\n<p>Kotlin creates for Java (in the Kotlin class, which is <code>DummyCompanion</code> in this case) a static field of its Companion subclass named <code>Companion</code> which can be set using PowerMock's <code>WhiteBox.setInternalState</code> tool to a mocked <code>Companion</code> instance that you can later verify method calling to.</p>\n"},{"tags":[],"owner":{"account_id":309633,"reputation":744,"user_id":622189,"display_name":"Takaitra"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584045829,"creation_date":1584045829,"answer_id":60661617,"question_id":53174839,"body_markdown":"Here is one more solution that doesn&#39;t require Mockk or PowerMock.\r\n\r\n1. Extract an interface from the companion object and place it in the same file but outside of the class.\r\n2. Have the companion object inherit from the interface\r\n3. Add a new optional property to the constructor of the class calling the static methods. Its default value should be the companion object.\r\n4. Switch to using instance calls (lowercase `helper`) in the calling class. Now it can be mocked normally in unit tests.\r\n```\r\ninterface IStaticHelper {\r\n    fun foo(): String\r\n    fun bar(): String\r\n}\r\n\r\nclass StaticHelper {\r\n    companion object : IStaticHelper {\r\n        override fun foo() = &quot;foo&quot;\r\n        override fun bar() = &quot;bar&quot;\r\n    }\r\n}\r\n\r\nclass Caller(private val helper: IStaticHelper = StaticHelper.Companion) {\r\n    fun callsTheHelper(): String {\r\n        return helper.foo()\r\n    }\r\n}\r\n\r\nclass CallerTest {\r\n    @Test\r\n    fun testCallsTheHelper() {\r\n        val helper = mock()\r\n        val caller = Caller(helper)\r\n        assertThat(caller.callsTheHelper()).isEqualTo(&quot;foo&quot;)\r\n    }\r\n}\r\n```\r\n\r\nWhile it&#39;s true that the caller in this case is no longer making static method calls, other classes can continue to do so unchanged.","title":"Unit Testing verifying a companion object method is called (mocking a companion object)","body":"<p>Here is one more solution that doesn't require Mockk or PowerMock.</p>\n\n<ol>\n<li>Extract an interface from the companion object and place it in the same file but outside of the class.</li>\n<li>Have the companion object inherit from the interface</li>\n<li>Add a new optional property to the constructor of the class calling the static methods. Its default value should be the companion object.</li>\n<li>Switch to using instance calls (lowercase <code>helper</code>) in the calling class. Now it can be mocked normally in unit tests.</li>\n</ol>\n\n<pre><code>interface IStaticHelper {\n    fun foo(): String\n    fun bar(): String\n}\n\nclass StaticHelper {\n    companion object : IStaticHelper {\n        override fun foo() = \"foo\"\n        override fun bar() = \"bar\"\n    }\n}\n\nclass Caller(private val helper: IStaticHelper = StaticHelper.Companion) {\n    fun callsTheHelper(): String {\n        return helper.foo()\n    }\n}\n\nclass CallerTest {\n    @Test\n    fun testCallsTheHelper() {\n        val helper = mock()\n        val caller = Caller(helper)\n        assertThat(caller.callsTheHelper()).isEqualTo(\"foo\")\n    }\n}\n</code></pre>\n\n<p>While it's true that the caller in this case is no longer making static method calls, other classes can continue to do so unchanged.</p>\n"}],"owner":{"account_id":3273477,"reputation":1291,"user_id":2756220,"accept_rate":83,"display_name":"HarryQ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24277,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":53177229,"answer_count":3,"score":14,"last_activity_date":1689174938,"creation_date":1541517628,"question_id":53174839,"body_markdown":"When switching to Kotlin, static methods are moved into a companion object. However, there is no obvious way to unit test other methods which call these &quot;static method&quot;.\r\n\r\nIn Java, we could use PowerMockito&#39;s MockStatic(SomeClass.class) to verify a static method is called in the method under test. PowerMock loses its magic in Kotlin. \r\n\r\nFor testing, I have create the following classes.\r\n\r\n    public class DummyJava {\r\n        static public Void staticMechod(){\r\n              System.out.print(&quot;Dummy method is called&quot;);\r\n              return null;\r\n         }\r\n    }\r\n\r\n    class DummyCompanion {\r\n        companion object {\r\n            fun someCompanionMethod(){\r\n                System.out.printf(&quot;companion method is called\\n&quot;)\r\n            }\r\n        }\r\n    }\r\n\r\nNow there is a another class which calls the `DummyCompanion.someCompanion`\r\n\r\n    public class DummyWrapper {\r\n        public void callAStaticMethod(){\r\n            DummyJava.staticMechod();\r\n        }\r\n\r\n        public void callCompanionMethod(){\r\n            DummyCompanion.Companion.someCompanionMethod();\r\n        }\r\n    }\r\n\r\nTo unit test `callAStaticMethod()` We used the following\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({DummyJava.class, DummyCompanion.Companion.class})\r\n    public class staticClassTest {\r\n        //This case works\r\n        @Test \r\n        public void testForStaticMethod() {\r\n            PowerMockito.mockStatic(DummyJava.class);   \r\n            DummyWrapper testObject = new DummyWrapper();\r\n\r\n            Mockito.when(DummyJava.staticMechod()).thenCallRealMethod();\r\n            \r\n            testObject.callAStaticMethod();\r\n\r\n            PowerMockito.verifyStatic(Dummy.class);\r\n            DummyJava.staticMechod();\r\n        }\r\n\r\n        //This case doesn&#39;t work. It always passes.\r\n        @Test\r\n        public void testForCompanionMethod() {\r\n            PowerMockito.mockStatic(DummyCompanion.Companion.class);\r\n            DummyWrapper testObject = new DummyWrapper();\r\n            testObject.callCompanionMethod();\r\n    PowerMockito.verifyStatic(DummyCompanion.Companion.class,Mockito.times(1));\r\n            DummyCompanion.Companion.someCompanionMethod();\r\n    }\r\n\r\nMy question is how to verify the companion method is called.","title":"Unit Testing verifying a companion object method is called (mocking a companion object)","body":"<p>When switching to Kotlin, static methods are moved into a companion object. However, there is no obvious way to unit test other methods which call these \"static method\".</p>\n\n<p>In Java, we could use PowerMockito's MockStatic(SomeClass.class) to verify a static method is called in the method under test. PowerMock loses its magic in Kotlin. </p>\n\n<p>For testing, I have create the following classes.</p>\n\n<pre><code>public class DummyJava {\n    static public Void staticMechod(){\n          System.out.print(\"Dummy method is called\");\n          return null;\n     }\n}\n\nclass DummyCompanion {\n    companion object {\n        fun someCompanionMethod(){\n            System.out.printf(\"companion method is called\\n\")\n        }\n    }\n}\n</code></pre>\n\n<p>Now there is a another class which calls the <code>DummyCompanion.someCompanion</code></p>\n\n<pre><code>public class DummyWrapper {\n    public void callAStaticMethod(){\n        DummyJava.staticMechod();\n    }\n\n    public void callCompanionMethod(){\n        DummyCompanion.Companion.someCompanionMethod();\n    }\n}\n</code></pre>\n\n<p>To unit test <code>callAStaticMethod()</code> We used the following</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({DummyJava.class, DummyCompanion.Companion.class})\npublic class staticClassTest {\n    //This case works\n    @Test \n    public void testForStaticMethod() {\n        PowerMockito.mockStatic(DummyJava.class);   \n        DummyWrapper testObject = new DummyWrapper();\n\n        Mockito.when(DummyJava.staticMechod()).thenCallRealMethod();\n\n        testObject.callAStaticMethod();\n\n        PowerMockito.verifyStatic(Dummy.class);\n        DummyJava.staticMechod();\n    }\n\n    //This case doesn't work. It always passes.\n    @Test\n    public void testForCompanionMethod() {\n        PowerMockito.mockStatic(DummyCompanion.Companion.class);\n        DummyWrapper testObject = new DummyWrapper();\n        testObject.callCompanionMethod();\nPowerMockito.verifyStatic(DummyCompanion.Companion.class,Mockito.times(1));\n        DummyCompanion.Companion.someCompanionMethod();\n}\n</code></pre>\n\n<p>My question is how to verify the companion method is called.</p>\n"},{"tags":["java","android","kotlin","admob","google-play-services"],"owner":{"account_id":10601752,"reputation":31,"user_id":7808499,"display_name":"Suhrab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689174890,"creation_date":1689174307,"question_id":76672024,"body_markdown":"When I scroll the RecyclerView after showing an ad, all RecyclerView items disappear.\r\nI have a RecyclerView which shows items with GridLayoutManager 3 items vertically but every 40 items shows Admob Native AD as one item vertically using RecyclerView adapter\r\n\r\n```\r\nval layoutManager: GridLayoutManager = if (resources.configuration.orientation == Configuration.ORIENTATION_PORTRAIT) {\r\n                    GridLayoutManager(this, 3)\r\n                } else {\r\n                    GridLayoutManager(this, 5)\r\n                }\r\n            // Create a custom SpanSizeLookup where the first item spans both columns\r\n            layoutManager.spanSizeLookup = object : SpanSizeLookup() {\r\n                override fun getSpanSize(position: Int): Int {\r\n                    return if (position != 0 &amp;&amp; (position + 1) % 40 == 0) {\r\n                        3\r\n                    } else {\r\n                        1\r\n                    }\r\n                }\r\n            }\r\n            recyclerView!!.setLayoutManager(layoutManager)\r\n```\r\nadapter code:\r\n\r\n```\r\n    override fun onCreateViewHolder(viewGroup: ViewGroup, i: Int): RecyclerView.ViewHolder {\r\n        val layoutView: View\r\n        return when (i) {\r\n            AdView -&gt; {\r\n                layoutView = LayoutInflater.from(viewGroup.context).inflate(\r\n                    R.layout.ads_in_recy, viewGroup, false\r\n                )\r\n                return ItemViewHolder(layoutView)\r\n            }\r\n            TYPE -&gt; {\r\n                layoutView = LayoutInflater.from(viewGroup.context).inflate(\r\n                    R.layout.cardveiw_item_book, viewGroup, false\r\n                )\r\n                return ItemViewHolder(layoutView)\r\n            }\r\n            else -&gt; {                layoutView = LayoutInflater.from(viewGroup.context).inflate(\r\n                R.layout.cardveiw_item_book, viewGroup, false\r\n            )\r\n                return ItemViewHolder(layoutView)}\r\n        }\r\n\r\n    }\r\n---------------\r\nwhen (viewType) {\r\n            AdView -&gt; {\r\n                MobileAds.initialize(context) { initializationStatus: InitializationStatus? -&gt; }\r\n\r\n                    val adLoader2 =\r\n                        AdLoader.Builder(context, context.resources.getString(R.string.nativeAD))\r\n                            .forNativeAd { nativeAd: NativeAd? -&gt;\r\n                                val styles =\r\n                                    NativeTemplateStyle.Builder()\r\n                                        .withMainBackgroundColor(background)\r\n                                        .build()\r\n                                itemViewHolder.template2W!!.setStyles(styles)\r\n                                itemViewHolder.template2W.setNativeAd(nativeAd)\r\n                                itemViewHolder.template2W.visibility = View.VISIBLE\r\n                            }.withAdListener(object : AdListener() {\r\n                                override fun onAdFailedToLoad(adError: LoadAdError) {\r\n                                    if (itemViewHolder.template2W!!.visibility == View.GONE) {\r\n                                        Yandex.yandexNativeAds(context, itemViewHolder.yadAds!!)\r\n                                        if (Yandex.yandexNativeAds(\r\n                                                context,\r\n                                                itemViewHolder.yadAds\r\n                                            )\r\n                                        ) {\r\n                                            val aadRequest = AdRequest.Builder().build()\r\n                                            itemViewHolder.maAdViewW!!.visibility = View.VISIBLE\r\n                                            itemViewHolder.maAdViewW.loadAd(aadRequest)\r\n                                        }\r\n                                    }\r\n\r\n                                }\r\n                            })\r\n                            .withNativeAdOptions(NativeAdOptions.Builder().build())\r\n                            .build()\r\n                    adLoader2.loadAd(AdRequest.Builder().build())\r\n            }\r\n```\r\nthe only yellow errors I see in Logcat:\r\n\r\n```\r\n2023-07-12 Ads    W  Precache exception                                                     com.google.android.gms.internal.ads.zzfz: javax.net.ssl.SSLProtocolException: Read error: ssl=0x76fbf20c3758: Failure in SSL library, usually a protocol error\r\n                                                                                                    error:1e000065:Cipher functions:OPENSSL_internal:BAD_DECRYPT (third_party/openssl/boringssl/src/crypto/fipsmodule/cipher/e_aes.c:1078 0x76fadea2461e:0x00000000)\r\n                                                                                                    error:1000008b:SSL routines:OPENSSL_internal:DECRYPTION_FAILED_OR_BAD_RECORD_MAC (third_party/openssl/boringssl/src/ssl/tls_record.cc:294 0x76fadea2461e:0x00000000)\r\n                                                                                                    \tat com.google.android.gms.internal.ads.zzft.zza(com.google.android.gms:play-services-ads@@22.0.0:5)\r\n                                                                                                    \tat com.google.android.gms.internal.ads.zzgh.zza(com.google.android.gms:play-services-ads@@22.0.0:1)\r\n                                                                                                    \tat com.google.android.gms.internal.ads.zzzk.zzq(com.google.android.gms:play-services-ads@@22.0.0:3)\r\n                                                                                                    \tat com.google.android.gms.internal.ads.zzzk.zza(com.google.android.gms:play-services-ads@@22.0.0:2)\r\n                                                                                                    \tat com.google.android.gms.internal.ads.zzuc.zza(com.google.android.gms:play-services-ads@@22.0.0:4)\r\n                                                                                                    \tat com.google.android.gms.internal.ads.zzui.zzf(com.google.android.gms:play-services-ads@@22.0.0:1)\r\n                                                                                                    \tat com.google.android.gms.internal.ads.zzaaz.zza(com.google.android.gms:play-services-ads@@22.0.0:1)\r\n                                                                                                    \tat com.google.android.gms.internal.ads.zzaeu.zzq(com.google.android.gms:play-services-ads@@22.0.0:2)\r\n                                                                                                    \tat com.google.android.gms.internal.ads.zzaeu.zzp(com.google.android.gms:play-services-ads@@22.0.0:68)\r\n                                                                                                    \tat com.google.android.gms.internal.ads.zzaeu.zzg(com.google.android.gms:play-services-ads@@22.0.0:72)\r\n                                                                                                    \tat com.google.android.gms.internal.ads.zzaen.zzc(com.google.android.gms:play-services-ads@@22.0.0:17)\r\n                                                                                                    \tat com.google.android.gms.internal.ads.zzaeu.zza(com.google.android.gms:play-services-ads@@22.0.0:1)\r\n                                                                                                    \tat com.google.android.gms.internal.ads.zzrv.zza(com.google.android.gms:play-services-ads@@22.0.0:1)\r\n                                                                                                    \tat com.google.android.gms.internal.ads.zztq.zzh(com.google.android.gms:play-services-ads@@22.0.0:33)\r\n                                                                                                    \tat com.google.android.gms.internal.ads.zzxb.run(com.google.android.gms:play-services-ads@@22.0.0:6)\r\n                                                                                                    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\n                                                                                                    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\n                                                                                                    \tat java.lang.Thread.run(Thread.java:1012)\r\n                                                                                                    Caused by: javax.net.ssl.SSLProtocolException: Read error: ssl=0x76fbf20c3758: Failure in SSL library, usually a protocol error\r\n                                                                                                    error:1e000065:Cipher functions:OPENSSL_internal:BAD_DECRYPT (third_party/openssl/boringssl/src/crypto/fipsmodule/cipher/e_aes.c:1078 0x76fadea2461e:0x00000000)\r\n                                                                                                    error:1000008b:SSL routines:OPENSSL_internal:DECRYPTION_FAILED_OR_BAD_RECORD_MAC (third_party/openssl/boringssl/src/ssl/tls_record.cc:294 0x76fadea2461e:0x00000000)\r\n                                                                                                    \tat com.google.android.gms.org.conscrypt.NativeCrypto.SSL_read(Native Method)\r\n                                                                                                    \tat com.google.android.gms.org.conscrypt.NativeSsl.read(:com.google.android.gms@225014047@22.50.14 (190800-499278674):3)\r\n                                                                                                    \tat com.google.android.gms.org.conscrypt.ConscryptFileDescriptorSocket$SSLInputStream.read(:com.google.android.gms@225014047@22.50.14 (190800-499278674):6)\r\n                                                                                                    \tat com.android.okhttp.okio.Okio$2.read(Okio.java:138)\r\n                                                                                                    \tat com.android.okhttp.okio.AsyncTimeout$2.read(AsyncTimeout.java:213)\r\n                                                                                                    \tat com.android.okhttp.okio.RealBufferedSource.read(RealBufferedSource.java:51)\r\n                                                                                                    \tat com.android.okhttp.internal.http.Http1xStream$FixedLengthSource.read(Http1xStream.java:395)\r\n                                                                                                    \tat com.android.okhttp.okio.RealBufferedSource$1.read(RealBufferedSource.java:372)\r\n                                                                                                    \tat com.google.android.gms.internal.ads.zzft.zza(com.google.android.gms:play-services-ads@@22.0.0:2)\r\n                                                                                                    \t... 17 more\r\n2023-07-12  TrafficStats   D  tagSocket(596) with statsTag=0xffffffff, statsUid=-1\r\n```\r\nPlease help solve the problem\r\n\r\n\r\nI tried changing AdMob dependency versions\r\n\r\n```\r\nimplementation &#39;com.google.android.gms:play-services-ads:22.0.0&#39;\r\n```\r\n","title":"Admob Native AD error causes RecyclerView to disappear with all items","body":"<p>When I scroll the RecyclerView after showing an ad, all RecyclerView items disappear.\nI have a RecyclerView which shows items with GridLayoutManager 3 items vertically but every 40 items shows Admob Native AD as one item vertically using RecyclerView adapter</p>\n<pre><code>val layoutManager: GridLayoutManager = if (resources.configuration.orientation == Configuration.ORIENTATION_PORTRAIT) {\n                    GridLayoutManager(this, 3)\n                } else {\n                    GridLayoutManager(this, 5)\n                }\n            // Create a custom SpanSizeLookup where the first item spans both columns\n            layoutManager.spanSizeLookup = object : SpanSizeLookup() {\n                override fun getSpanSize(position: Int): Int {\n                    return if (position != 0 &amp;&amp; (position + 1) % 40 == 0) {\n                        3\n                    } else {\n                        1\n                    }\n                }\n            }\n            recyclerView!!.setLayoutManager(layoutManager)\n</code></pre>\n<p>adapter code:</p>\n<pre><code>    override fun onCreateViewHolder(viewGroup: ViewGroup, i: Int): RecyclerView.ViewHolder {\n        val layoutView: View\n        return when (i) {\n            AdView -&gt; {\n                layoutView = LayoutInflater.from(viewGroup.context).inflate(\n                    R.layout.ads_in_recy, viewGroup, false\n                )\n                return ItemViewHolder(layoutView)\n            }\n            TYPE -&gt; {\n                layoutView = LayoutInflater.from(viewGroup.context).inflate(\n                    R.layout.cardveiw_item_book, viewGroup, false\n                )\n                return ItemViewHolder(layoutView)\n            }\n            else -&gt; {                layoutView = LayoutInflater.from(viewGroup.context).inflate(\n                R.layout.cardveiw_item_book, viewGroup, false\n            )\n                return ItemViewHolder(layoutView)}\n        }\n\n    }\n---------------\nwhen (viewType) {\n            AdView -&gt; {\n                MobileAds.initialize(context) { initializationStatus: InitializationStatus? -&gt; }\n\n                    val adLoader2 =\n                        AdLoader.Builder(context, context.resources.getString(R.string.nativeAD))\n                            .forNativeAd { nativeAd: NativeAd? -&gt;\n                                val styles =\n                                    NativeTemplateStyle.Builder()\n                                        .withMainBackgroundColor(background)\n                                        .build()\n                                itemViewHolder.template2W!!.setStyles(styles)\n                                itemViewHolder.template2W.setNativeAd(nativeAd)\n                                itemViewHolder.template2W.visibility = View.VISIBLE\n                            }.withAdListener(object : AdListener() {\n                                override fun onAdFailedToLoad(adError: LoadAdError) {\n                                    if (itemViewHolder.template2W!!.visibility == View.GONE) {\n                                        Yandex.yandexNativeAds(context, itemViewHolder.yadAds!!)\n                                        if (Yandex.yandexNativeAds(\n                                                context,\n                                                itemViewHolder.yadAds\n                                            )\n                                        ) {\n                                            val aadRequest = AdRequest.Builder().build()\n                                            itemViewHolder.maAdViewW!!.visibility = View.VISIBLE\n                                            itemViewHolder.maAdViewW.loadAd(aadRequest)\n                                        }\n                                    }\n\n                                }\n                            })\n                            .withNativeAdOptions(NativeAdOptions.Builder().build())\n                            .build()\n                    adLoader2.loadAd(AdRequest.Builder().build())\n            }\n</code></pre>\n<p>the only yellow errors I see in Logcat:</p>\n<pre><code>2023-07-12 Ads    W  Precache exception                                                     com.google.android.gms.internal.ads.zzfz: javax.net.ssl.SSLProtocolException: Read error: ssl=0x76fbf20c3758: Failure in SSL library, usually a protocol error\n                                                                                                    error:1e000065:Cipher functions:OPENSSL_internal:BAD_DECRYPT (third_party/openssl/boringssl/src/crypto/fipsmodule/cipher/e_aes.c:1078 0x76fadea2461e:0x00000000)\n                                                                                                    error:1000008b:SSL routines:OPENSSL_internal:DECRYPTION_FAILED_OR_BAD_RECORD_MAC (third_party/openssl/boringssl/src/ssl/tls_record.cc:294 0x76fadea2461e:0x00000000)\n                                                                                                        at com.google.android.gms.internal.ads.zzft.zza(com.google.android.gms:play-services-ads@@22.0.0:5)\n                                                                                                        at com.google.android.gms.internal.ads.zzgh.zza(com.google.android.gms:play-services-ads@@22.0.0:1)\n                                                                                                        at com.google.android.gms.internal.ads.zzzk.zzq(com.google.android.gms:play-services-ads@@22.0.0:3)\n                                                                                                        at com.google.android.gms.internal.ads.zzzk.zza(com.google.android.gms:play-services-ads@@22.0.0:2)\n                                                                                                        at com.google.android.gms.internal.ads.zzuc.zza(com.google.android.gms:play-services-ads@@22.0.0:4)\n                                                                                                        at com.google.android.gms.internal.ads.zzui.zzf(com.google.android.gms:play-services-ads@@22.0.0:1)\n                                                                                                        at com.google.android.gms.internal.ads.zzaaz.zza(com.google.android.gms:play-services-ads@@22.0.0:1)\n                                                                                                        at com.google.android.gms.internal.ads.zzaeu.zzq(com.google.android.gms:play-services-ads@@22.0.0:2)\n                                                                                                        at com.google.android.gms.internal.ads.zzaeu.zzp(com.google.android.gms:play-services-ads@@22.0.0:68)\n                                                                                                        at com.google.android.gms.internal.ads.zzaeu.zzg(com.google.android.gms:play-services-ads@@22.0.0:72)\n                                                                                                        at com.google.android.gms.internal.ads.zzaen.zzc(com.google.android.gms:play-services-ads@@22.0.0:17)\n                                                                                                        at com.google.android.gms.internal.ads.zzaeu.zza(com.google.android.gms:play-services-ads@@22.0.0:1)\n                                                                                                        at com.google.android.gms.internal.ads.zzrv.zza(com.google.android.gms:play-services-ads@@22.0.0:1)\n                                                                                                        at com.google.android.gms.internal.ads.zztq.zzh(com.google.android.gms:play-services-ads@@22.0.0:33)\n                                                                                                        at com.google.android.gms.internal.ads.zzxb.run(com.google.android.gms:play-services-ads@@22.0.0:6)\n                                                                                                        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\n                                                                                                        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\n                                                                                                        at java.lang.Thread.run(Thread.java:1012)\n                                                                                                    Caused by: javax.net.ssl.SSLProtocolException: Read error: ssl=0x76fbf20c3758: Failure in SSL library, usually a protocol error\n                                                                                                    error:1e000065:Cipher functions:OPENSSL_internal:BAD_DECRYPT (third_party/openssl/boringssl/src/crypto/fipsmodule/cipher/e_aes.c:1078 0x76fadea2461e:0x00000000)\n                                                                                                    error:1000008b:SSL routines:OPENSSL_internal:DECRYPTION_FAILED_OR_BAD_RECORD_MAC (third_party/openssl/boringssl/src/ssl/tls_record.cc:294 0x76fadea2461e:0x00000000)\n                                                                                                        at com.google.android.gms.org.conscrypt.NativeCrypto.SSL_read(Native Method)\n                                                                                                        at com.google.android.gms.org.conscrypt.NativeSsl.read(:com.google.android.gms@225014047@22.50.14 (190800-499278674):3)\n                                                                                                        at com.google.android.gms.org.conscrypt.ConscryptFileDescriptorSocket$SSLInputStream.read(:com.google.android.gms@225014047@22.50.14 (190800-499278674):6)\n                                                                                                        at com.android.okhttp.okio.Okio$2.read(Okio.java:138)\n                                                                                                        at com.android.okhttp.okio.AsyncTimeout$2.read(AsyncTimeout.java:213)\n                                                                                                        at com.android.okhttp.okio.RealBufferedSource.read(RealBufferedSource.java:51)\n                                                                                                        at com.android.okhttp.internal.http.Http1xStream$FixedLengthSource.read(Http1xStream.java:395)\n                                                                                                        at com.android.okhttp.okio.RealBufferedSource$1.read(RealBufferedSource.java:372)\n                                                                                                        at com.google.android.gms.internal.ads.zzft.zza(com.google.android.gms:play-services-ads@@22.0.0:2)\n                                                                                                        ... 17 more\n2023-07-12  TrafficStats   D  tagSocket(596) with statsTag=0xffffffff, statsUid=-1\n</code></pre>\n<p>Please help solve the problem</p>\n<p>I tried changing AdMob dependency versions</p>\n<pre><code>implementation 'com.google.android.gms:play-services-ads:22.0.0'\n</code></pre>\n"},{"tags":["java","spring","kotlin","mockk"],"comments":[{"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"score":0,"creation_date":1689177776,"post_id":76672038,"comment_id":135177573,"body_markdown":"You could try to extend MockMultipartFile. From what I can see it&#39;s not final.","body":"You could try to extend MockMultipartFile. From what I can see it&#39;s not final."}],"owner":{"account_id":29003540,"reputation":1,"user_id":22216630,"display_name":"QendresaZ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689174388,"creation_date":1689174388,"question_id":76672038,"body_markdown":"I&#39;m trying to mock a MultipartFile in a Spring Boot test using the Mockk library. I&#39;m experiencing an issue where I get an AbstractMethodError when calling the getContentType() method on the mocked file.\r\n\r\nError message:\r\njava.lang.AbstractMethodError: Receiver class org.springframework.web.multipart.MultipartFile$Subclass0 does not define or inherit an implementation of the resolved method &#39;abstract java.lang.String getContentType()&#39; of interface org.springframework.web.multipart.MultipartFile.\r\n\r\nCode:\r\nHere&#39;s the test where I&#39;m encountering the issue:\r\n\r\n```\r\nimport io.mockk.every\r\nimport org.junit.jupiter.api.Test\r\nimport org.springframework.http.MediaType\r\nimport org.springframework.mock.web.MockMultipartFile\r\nimport org.springframework.test.web.servlet.MockMvc\r\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders.multipart\r\nimport org.springframework.test.web.servlet.result.MockMvcResultMatchers.status\r\nimport test.dto.PdfDocumentResponseDto\r\nimport test.service.S3FileService\r\n\r\nclass PdfDocumentControllerIntegrationTest {\r\n\r\nlateinit var mockMvc: MockMvc\r\n\r\nlateinit var s3FileService: S3FileService\r\n\r\n@Test\r\nfun `should upload file`() {\r\n    val mockFile = MockMultipartFile(&quot;file&quot;, &quot;test.pdf&quot;, &quot;application/pdf&quot;, &quot;test data&quot;.toByteArray())\r\n    val responseDto = PdfDocumentResponseDto(\r\n        pdfDocumentFilePath = &quot;test-path.com&quot;\r\n    )\r\n\r\n    every { s3FileService.uploadFile(any()) } returns responseDto\r\n\r\n    mockMvc.perform(multipart(&quot;/v1/pdf-test-service/pdf&quot;)\r\n        .file(mockFile)\r\n        .contentType(MediaType.MULTIPART_FORM_DATA))\r\n        .andExpect(status().isOk)\r\n}\r\n}\r\n\r\n```\r\n\r\nEnvironment:\r\n\r\nSpring Boot version &quot;3.0.5&quot;\r\nMockk version: 3.0.1&quot;\r\nKotlin version: &quot;1.7.22&quot;\r\nOperating System: macOS\r\n\r\nAny help would be greatly appreciated!\r\n\r\nI&#39;ve tried using a custom stub implementation of MultipartFile and passing that to the mockMvc.perform() method, but the .file() method only accepts MockMultipartFile objects.\r\n","title":"AbstractMethodError when Mocking MultipartFile in Spring Boot Test","body":"<p>I'm trying to mock a MultipartFile in a Spring Boot test using the Mockk library. I'm experiencing an issue where I get an AbstractMethodError when calling the getContentType() method on the mocked file.</p>\n<p>Error message:\njava.lang.AbstractMethodError: Receiver class org.springframework.web.multipart.MultipartFile$Subclass0 does not define or inherit an implementation of the resolved method 'abstract java.lang.String getContentType()' of interface org.springframework.web.multipart.MultipartFile.</p>\n<p>Code:\nHere's the test where I'm encountering the issue:</p>\n<pre><code>import io.mockk.every\nimport org.junit.jupiter.api.Test\nimport org.springframework.http.MediaType\nimport org.springframework.mock.web.MockMultipartFile\nimport org.springframework.test.web.servlet.MockMvc\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders.multipart\nimport org.springframework.test.web.servlet.result.MockMvcResultMatchers.status\nimport test.dto.PdfDocumentResponseDto\nimport test.service.S3FileService\n\nclass PdfDocumentControllerIntegrationTest {\n\nlateinit var mockMvc: MockMvc\n\nlateinit var s3FileService: S3FileService\n\n@Test\nfun `should upload file`() {\n    val mockFile = MockMultipartFile(&quot;file&quot;, &quot;test.pdf&quot;, &quot;application/pdf&quot;, &quot;test data&quot;.toByteArray())\n    val responseDto = PdfDocumentResponseDto(\n        pdfDocumentFilePath = &quot;test-path.com&quot;\n    )\n\n    every { s3FileService.uploadFile(any()) } returns responseDto\n\n    mockMvc.perform(multipart(&quot;/v1/pdf-test-service/pdf&quot;)\n        .file(mockFile)\n        .contentType(MediaType.MULTIPART_FORM_DATA))\n        .andExpect(status().isOk)\n}\n}\n\n</code></pre>\n<p>Environment:</p>\n<p>Spring Boot version &quot;3.0.5&quot;\nMockk version: 3.0.1&quot;\nKotlin version: &quot;1.7.22&quot;\nOperating System: macOS</p>\n<p>Any help would be greatly appreciated!</p>\n<p>I've tried using a custom stub implementation of MultipartFile and passing that to the mockMvc.perform() method, but the .file() method only accepts MockMultipartFile objects.</p>\n"},{"tags":["java","eclipse","log4j2"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1689177051,"post_id":76672015,"comment_id":135177439,"body_markdown":"The `[36m` stuff is just attempts to set the console colours using `ANSI control codes`. You can enable support for colours in the Eclipse console in the Eclipse Preferences in &#39;Run/Debug &gt; Console &gt; ANSI Support&#39;","body":"The <code>[36m</code> stuff is just attempts to set the console colours using <code>ANSI control codes</code>. You can enable support for colours in the Eclipse console in the Eclipse Preferences in &#39;Run/Debug &gt; Console &gt; ANSI Support&#39;"},{"owner":{"account_id":22176960,"reputation":21,"user_id":16421328,"display_name":"OTA"},"score":0,"creation_date":1689362959,"post_id":76672015,"comment_id":135208258,"body_markdown":"@greg-449, then it does not have anything to do with &quot;Source not found...&quot; existing issue. Thanks.","body":"@greg-449, then it does not have anything to do with &quot;Source not found...&quot; existing issue. Thanks."}],"owner":{"account_id":22176960,"reputation":21,"user_id":16421328,"display_name":"OTA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689174244,"creation_date":1689174244,"question_id":76672015,"body_markdown":"In log4j2.xml, root level includeLocation property is set to true, but when clicking the hyperlink in the console &quot;Source not found for [36muitap.framework.DefaultSettings&quot; is displayed.\r\n\r\nHere part of the Appenders and Loggers\r\n\r\n```\r\n...\r\n  &lt;Console name=&quot;CONS&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${PATTERN}&quot; disableAnsi=&quot;false&quot;/&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    \r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;all&quot; includeLocation=&quot;true&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;CONS&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nIn Console, location hyperlink is displayed\r\n`2023-07-12 10:22:40.957 [ DEBUG] [main] - [uitap.utils.ZSettings(ZSettings.java:106)   : hrties(real.user)`\r\n\r\nBut the **(ZSettings.java:106)** hyperlinks throws &quot;Source not found...&quot;.\r\n\r\nAdditional details: I just noticed that when the log file displays logs like this:\r\n\r\n\r\n```\r\n2023-07-12 10:22:40.957 [ [36mDEBUG[m] [[35mmain[m] -  [36muitap.utils.ZSettings[m(ZSettings.java:86)  : hrties(real.user)\r\n2023-07-12 10:22:40.957 [ [36mDEBUG[m] [[35mmain[m] -  [36muitap.utils.ZSettings[m(ZSettings.java:86)  : hrties(foreign.user)\r\n2023-07-12 10:22:40.957 [ [36mDEBUG[m] [[35mmain[m] -  [36muitap.utils.ZSettings[m(ZSettings.java:86)  : hrties(local.user)\r\n```\r\n\r\nSouldn&#39;t the count starts in ... [34m ... [35m ... [36m...?\r\n\r\nI remember moving some maven packages around using &quot;refactor&quot; feature, so I would like that fact as the cause of the number order issue.\r\n\r\nAny pointing direction is welcome, thanks.\r\n\r\n\r\n\r\n**What did I try?**\r\n\r\n1. I tried changing folder changing package order using Java Build Path &gt;&gt; Order and Export\r\n2. I tried verify that all classes properly have the Logger log = LogManager.getLogger() with the class parameter.","title":"Log4j2 Root Location - Source not found","body":"<p>In log4j2.xml, root level includeLocation property is set to true, but when clicking the hyperlink in the console &quot;Source not found for [36muitap.framework.DefaultSettings&quot; is displayed.</p>\n<p>Here part of the Appenders and Loggers</p>\n<pre><code>...\n  &lt;Console name=&quot;CONS&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${PATTERN}&quot; disableAnsi=&quot;false&quot;/&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    \n    &lt;Loggers&gt;\n        &lt;Root level=&quot;all&quot; includeLocation=&quot;true&quot;&gt;\n            &lt;AppenderRef ref=&quot;CONS&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>In Console, location hyperlink is displayed\n<code>2023-07-12 10:22:40.957 [ DEBUG] [main] - [uitap.utils.ZSettings(ZSettings.java:106)   : hrties(real.user)</code></p>\n<p>But the <strong>(ZSettings.java:106)</strong> hyperlinks throws &quot;Source not found...&quot;.</p>\n<p>Additional details: I just noticed that when the log file displays logs like this:</p>\n<pre><code>2023-07-12 10:22:40.957 [ [36mDEBUG[m] [[35mmain[m] -  [36muitap.utils.ZSettings[m(ZSettings.java:86)  : hrties(real.user)\n2023-07-12 10:22:40.957 [ [36mDEBUG[m] [[35mmain[m] -  [36muitap.utils.ZSettings[m(ZSettings.java:86)  : hrties(foreign.user)\n2023-07-12 10:22:40.957 [ [36mDEBUG[m] [[35mmain[m] -  [36muitap.utils.ZSettings[m(ZSettings.java:86)  : hrties(local.user)\n</code></pre>\n<p>Souldn't the count starts in ... [34m ... [35m ... [36m...?</p>\n<p>I remember moving some maven packages around using &quot;refactor&quot; feature, so I would like that fact as the cause of the number order issue.</p>\n<p>Any pointing direction is welcome, thanks.</p>\n<p><strong>What did I try?</strong></p>\n<ol>\n<li>I tried changing folder changing package order using Java Build Path &gt;&gt; Order and Export</li>\n<li>I tried verify that all classes properly have the Logger log = LogManager.getLogger() with the class parameter.</li>\n</ol>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"score":3,"creation_date":1422450010,"post_id":28192547,"comment_id":44752770,"body_markdown":"The error message means one column returns data in a type which cannot be mapped. `No Dialect mapping for JDBC type: 1111` indicates java.sql.Types.OTHER`. What column types do you select from the table?","body":"The error message means one column returns data in a type which cannot be mapped. <code>No Dialect mapping for JDBC type: 1111</code> indicates java.sql.Types.OTHER`. What column types do you select from the table?"},{"owner":{"account_id":1924775,"reputation":1501,"user_id":1735497,"accept_rate":70,"display_name":"SakeSushiBig"},"score":1,"creation_date":1422450121,"post_id":28192547,"comment_id":44752832,"body_markdown":"Oh, thanks. I thought this means the dialect type ... Yeah I like to use UUIDs as IDs and we previously always worked with postgres, which has a UUID column type. So we could just say @Type(type=&quot;pg-uuid&quot;); I don&#39;t think mysql has an UUID column type though","body":"Oh, thanks. I thought this means the dialect type ... Yeah I like to use UUIDs as IDs and we previously always worked with postgres, which has a UUID column type. So we could just say @Type(type=&quot;pg-uuid&quot;); I don&#39;t think mysql has an UUID column type though"},{"owner":{"account_id":1924775,"reputation":1501,"user_id":1735497,"accept_rate":70,"display_name":"SakeSushiBig"},"score":0,"creation_date":1422450438,"post_id":28192547,"comment_id":44753033,"body_markdown":"Just found out it is very similar to postgres: apply @Type(type=&quot;uuid-char&quot;) annotation to the id attribute.","body":"Just found out it is very similar to postgres: apply @Type(type=&quot;uuid-char&quot;) annotation to the id attribute."},{"owner":{"account_id":2465273,"reputation":710,"user_id":2148530,"accept_rate":50,"display_name":"giaffa86"},"score":1,"creation_date":1489770607,"post_id":28192547,"comment_id":72836679,"body_markdown":"I have this problem if put on SELECT statement a json field.\nI use PostgresSQL and a custom hibernate field Type for json type.","body":"I have this problem if put on SELECT statement a json field. I use PostgresSQL and a custom hibernate field Type for json type."}],"answers":[{"comments":[{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":3,"creation_date":1458748106,"post_id":28193142,"comment_id":60000800,"body_markdown":"If you get the exception only in test environment on HSQLDB - take a look at http://stackoverflow.com/questions/1007176/using-different-hibernate-user-types-in-different-situations","body":"If you get the exception only in test environment on HSQLDB - take a look at <a href=\"http://stackoverflow.com/questions/1007176/using-different-hibernate-user-types-in-different-situations\" title=\"using different hibernate user types in different situations\">stackoverflow.com/questions/1007176/&hellip;</a>"},{"owner":{"account_id":4560957,"reputation":2276,"user_id":3703307,"accept_rate":25,"display_name":"Tim"},"score":1,"creation_date":1480248783,"post_id":28193142,"comment_id":68875359,"body_markdown":"I agree with Lu55 . You should not add the @Type annotation until it is really necessary. But I don&#39;t really agree with the solutions provided in the linked issue (maybe they are just too old?). Therefore I create a post with my own solution: http://stackoverflow.com/questions/1007176/using-different-hibernate-user-types-in-different-situations/40828806#40828806","body":"I agree with Lu55 . You should not add the @Type annotation until it is really necessary. But I don&#39;t really agree with the solutions provided in the linked issue (maybe they are just too old?). Therefore I create a post with my own solution: <a href=\"http://stackoverflow.com/questions/1007176/using-different-hibernate-user-types-in-different-situations/40828806#40828806\" title=\"using different hibernate user types in different situations\">stackoverflow.com/questions/1007176/&hellip;</a>"},{"owner":{"account_id":9512217,"reputation":1116,"user_id":7069816,"accept_rate":75,"display_name":"absin"},"score":1,"creation_date":1488876851,"post_id":28193142,"comment_id":72414760,"body_markdown":"Or alternatively in your query string you can also do a Casting to Varchar  like so:\nCAST( table_name.column_name as VARCHAR) AS table_name","body":"Or alternatively in your query string you can also do a Casting to Varchar  like so: CAST( table_name.column_name as VARCHAR) AS table_name"}],"tags":[],"owner":{"account_id":1924775,"reputation":1501,"user_id":1735497,"accept_rate":70,"display_name":"SakeSushiBig"},"comment_count":3,"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1513162936,"creation_date":1422450542,"answer_id":28193142,"question_id":28192547,"body_markdown":"Here the answer based on the comment from SubOptimal:\r\n\r\nThe error message actually says that one column type cannot be mapped to a database type by hibernate.\r\nIn my case it was the `java.util.UUID` type I use as primary key in some of my entities. Just apply the annotation `@Type(type=&quot;uuid-char&quot;)` (for postgres `@Type(type=&quot;pg-uuid&quot;)`)","title":"No Dialect mapping for JDBC type: 1111","body":"<p>Here the answer based on the comment from SubOptimal:</p>\n\n<p>The error message actually says that one column type cannot be mapped to a database type by hibernate.\nIn my case it was the <code>java.util.UUID</code> type I use as primary key in some of my entities. Just apply the annotation <code>@Type(type=\"uuid-char\")</code> (for postgres <code>@Type(type=\"pg-uuid\")</code>)</p>\n"},{"tags":[],"owner":{"account_id":1463263,"reputation":5978,"user_id":1376947,"accept_rate":70,"display_name":"icl7126"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1433102340,"creation_date":1433102340,"answer_id":30562066,"question_id":28192547,"body_markdown":"There is also another common use-case throwing this exception. Calling function which returns `void`. For more info and solution go [here][1].\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12557957/jpa-hibernate-call-postgres-function-void-return-mappingexception","title":"No Dialect mapping for JDBC type: 1111","body":"<p>There is also another common use-case throwing this exception. Calling function which returns <code>void</code>. For more info and solution go <a href=\"https://stackoverflow.com/questions/12557957/jpa-hibernate-call-postgres-function-void-return-mappingexception\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":2109967,"reputation":6673,"user_id":1875434,"accept_rate":67,"display_name":"abbas"},"score":0,"creation_date":1562585325,"post_id":32457211,"comment_id":100408304,"body_markdown":"RETURN 1 will be quick I guess.","body":"RETURN 1 will be quick I guess."}],"tags":[],"owner":{"account_id":4905682,"reputation":839,"user_id":3952494,"display_name":"Klapsa2503"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1441713378,"creation_date":1441713378,"answer_id":32457211,"question_id":28192547,"body_markdown":"Sometimes when you call sql procedure/function it might be required to return something. You can try returning void: `RETURN;` or string (this one worked for me): `RETURN &#39;OK&#39;`","title":"No Dialect mapping for JDBC type: 1111","body":"<p>Sometimes when you call sql procedure/function it might be required to return something. You can try returning void: <code>RETURN;</code> or string (this one worked for me): <code>RETURN 'OK'</code></p>\n"},{"comments":[{"owner":{"account_id":4697107,"reputation":413,"user_id":3801728,"display_name":"dwana"},"score":3,"creation_date":1502103030,"post_id":40973830,"comment_id":78049752,"body_markdown":"I had a native query with a my own SqlResultMapping and this was the problem, fixed it by adding a cast to the query &#39;&#39;CAST(&#39;staticstring&#39; AS varchar(50)) as columnmappingname","body":"I had a native query with a my own SqlResultMapping and this was the problem, fixed it by adding a cast to the query &#39;&#39;CAST(&#39;staticstring&#39; AS varchar(50)) as columnmappingname"},{"owner":{"account_id":2273221,"reputation":716,"user_id":2000123,"display_name":"jaskirat Singh"},"score":0,"creation_date":1530523467,"post_id":40973830,"comment_id":89250184,"body_markdown":"Yes,  you have to use this CAST function within your QUERY to typecast into your appropriate DataType.","body":"Yes,  you have to use this CAST function within your QUERY to typecast into your appropriate DataType."}],"tags":[],"owner":{"account_id":2273221,"reputation":716,"user_id":2000123,"display_name":"jaskirat Singh"},"comment_count":2,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1480939259,"creation_date":1480939259,"answer_id":40973830,"question_id":28192547,"body_markdown":"Please Check if some Column return many have **unknow Type** in Query .\r\n\r\n**eg : &#39;1&#39; as column_name**  can have type unknown \r\n\r\nand **1 as column_name is Integer**  is correct One .\r\n\r\nThis thing worked for me.","title":"No Dialect mapping for JDBC type: 1111","body":"<p>Please Check if some Column return many have <strong>unknow Type</strong> in Query .</p>\n\n<p><strong>eg : '1' as column_name</strong>  can have type unknown </p>\n\n<p>and <strong>1 as column_name is Integer</strong>  is correct One .</p>\n\n<p>This thing worked for me.</p>\n"},{"tags":[],"owner":{"account_id":2186655,"reputation":481,"user_id":1934919,"display_name":"Anubis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516269978,"creation_date":1516269978,"answer_id":48318631,"question_id":28192547,"body_markdown":"For anybody getting this error with an old hibernate (3.x) version:\r\n\r\ndo not write the return type in capital letters. hibernate type implementation mapping uses lowercase return types and does not convert  them:\r\n\r\n    CREATE OR REPLACE FUNCTION do_something(param varchar)\r\n    \tRETURNS integer AS\r\n    $BODY$\r\n    ...","title":"No Dialect mapping for JDBC type: 1111","body":"<p>For anybody getting this error with an old hibernate (3.x) version:</p>\n\n<p>do not write the return type in capital letters. hibernate type implementation mapping uses lowercase return types and does not convert  them:</p>\n\n<pre><code>CREATE OR REPLACE FUNCTION do_something(param varchar)\n    RETURNS integer AS\n$BODY$\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8473858,"reputation":689,"user_id":6355666,"accept_rate":93,"display_name":"GaborH"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522065097,"creation_date":1522065097,"answer_id":49490797,"question_id":28192547,"body_markdown":"In my case the problem was that, I forgot to add resultClasses attribute when I setup my stored procedure in my User class.\r\n\r\n    @NamedStoredProcedureQuery(name = &quot;find_email&quot;,\r\n                    procedureName = &quot;find_email&quot;, resultClasses = User.class, //&lt;--I forgot that. \r\n                    parameters = {\r\n                        @StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;param_email&quot;, type = String.class)\r\n                    }),","title":"No Dialect mapping for JDBC type: 1111","body":"<p>In my case the problem was that, I forgot to add resultClasses attribute when I setup my stored procedure in my User class.</p>\n\n<pre><code>@NamedStoredProcedureQuery(name = \"find_email\",\n                procedureName = \"find_email\", resultClasses = User.class, //&lt;--I forgot that. \n                parameters = {\n                    @StoredProcedureParameter(mode = ParameterMode.IN, name = \"param_email\", type = String.class)\n                }),\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15012017,"reputation":581,"user_id":10836208,"display_name":"Ramya"},"comment_count":0,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1546620313,"creation_date":1546496163,"answer_id":54017193,"question_id":28192547,"body_markdown":"I got the same error because my query returned a UUID column. To fix that I returned the UUID column as varchar type through the query like &quot;cast(columnName as varchar)&quot;, then it worked. \r\n\r\nExample:\r\n\r\n    public interface StudRepository extends JpaRepository&lt;Mark, UUID&gt; {\r\n        \r\n        @Modifying\r\n    \t@Query(value = &quot;SELECT Cast(stuid as varchar) id, SUM(marks) as marks FROM studs where group by stuid&quot;, nativeQuery = true)\r\n    \tList&lt;Student&gt; findMarkGroupByStuid();\r\n\r\n        public static interface Student(){\r\n            private String getId();\r\n            private String getMarks();\r\n        }\r\n    }","title":"No Dialect mapping for JDBC type: 1111","body":"<p>I got the same error because my query returned a UUID column. To fix that I returned the UUID column as varchar type through the query like \"cast(columnName as varchar)\", then it worked. </p>\n\n<p>Example:</p>\n\n<pre><code>public interface StudRepository extends JpaRepository&lt;Mark, UUID&gt; {\n\n    @Modifying\n    @Query(value = \"SELECT Cast(stuid as varchar) id, SUM(marks) as marks FROM studs where group by stuid\", nativeQuery = true)\n    List&lt;Student&gt; findMarkGroupByStuid();\n\n    public static interface Student(){\n        private String getId();\n        private String getMarks();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15883816,"reputation":63,"user_id":11579483,"display_name":"Mike Packer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562254048,"creation_date":1562254048,"answer_id":56890954,"question_id":28192547,"body_markdown":"This also happens when you are using Hibernate and returning a void function. AT least w/ postgres. It doesnt know how to handle the void.  I ended up having to change my void to a return int.","title":"No Dialect mapping for JDBC type: 1111","body":"<p>This also happens when you are using Hibernate and returning a void function. AT least w/ postgres. It doesnt know how to handle the void.  I ended up having to change my void to a return int.</p>\n"},{"comments":[{"owner":{"account_id":3545546,"reputation":180,"user_id":2961606,"accept_rate":90,"display_name":"MavidDeyers"},"score":0,"creation_date":1588854889,"post_id":57310214,"comment_id":109063987,"body_markdown":"im facing the same problem as mentioned here. is there an other solution yet? it keeps me from doing asterisk queries.","body":"im facing the same problem as mentioned here. is there an other solution yet? it keeps me from doing asterisk queries."}],"tags":[],"owner":{"account_id":451822,"reputation":1120,"user_id":847917,"accept_rate":79,"display_name":"tutak"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564666307,"creation_date":1564666307,"answer_id":57310214,"question_id":28192547,"body_markdown":"If you are using Postgres, check that you don&#39;t have a column of type **Abstime**. Abstime is an internal Postgres datatype not recognized by JPA. In this case, converting to Text using **TO_CHAR** *could* help if permitted by your business requirements.","title":"No Dialect mapping for JDBC type: 1111","body":"<p>If you are using Postgres, check that you don't have a column of type <strong>Abstime</strong>. Abstime is an internal Postgres datatype not recognized by JPA. In this case, converting to Text using <strong>TO_CHAR</strong> <em>could</em> help if permitted by your business requirements.</p>\n"},{"tags":[],"owner":{"account_id":6555365,"reputation":1959,"user_id":5068213,"accept_rate":86,"display_name":"Bharti Rawat"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1570621930,"creation_date":1570621930,"answer_id":58303533,"question_id":28192547,"body_markdown":"If you have native SQL query then fix it by adding a cast to the query.\r\n\r\n**Example**:\r\n\r\n    CAST(&#39;yourString&#39; AS varchar(50)) as anyColumnName\r\n\r\nIn my case it worked for me.","title":"No Dialect mapping for JDBC type: 1111","body":"<p>If you have native SQL query then fix it by adding a cast to the query.</p>\n\n<p><strong>Example</strong>:</p>\n\n<pre><code>CAST('yourString' AS varchar(50)) as anyColumnName\n</code></pre>\n\n<p>In my case it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":11738231,"reputation":356,"user_id":8591363,"display_name":"Ashok Parmar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571134125,"creation_date":1571132813,"answer_id":58391790,"question_id":28192547,"body_markdown":"This is for Hibernate (5.x) version\r\n\r\nCalling database function which return JSON string/object\r\n\r\nFor this use `unwrap(org.hibernate.query.NativeQuery.class).addScalar()` methods for the same.\r\n\r\nExample as below (Spring &amp; Hibernate):\r\n\r\n```\r\n@PersistenceContext\r\n\r\nEntityManager em;\r\n\r\n@Override\r\n\r\n\tpublic String getJson(String strLayerName) {\r\n\r\n\t\tString *nativeQuery* = &quot;select fn_layer_attributes(:layername)&quot;;\r\n\r\n\t\treturn em.createNativeQuery(*nativeQuery*).setParameter(&quot;layername&quot;, strLayerName).**unwrap(org.hibernate.query.NativeQuery.class).addScalar**(&quot;fn_layer_attributes&quot;, **new JsonNodeBinaryType()**) .getSingleResult().toString();\r\n \t\t\r\n\t}\r\n \t\t\r\n```","title":"No Dialect mapping for JDBC type: 1111","body":"<p>This is for Hibernate (5.x) version</p>\n\n<p>Calling database function which return JSON string/object</p>\n\n<p>For this use <code>unwrap(org.hibernate.query.NativeQuery.class).addScalar()</code> methods for the same.</p>\n\n<p>Example as below (Spring &amp; Hibernate):</p>\n\n<pre><code>@PersistenceContext\n\nEntityManager em;\n\n@Override\n\n    public String getJson(String strLayerName) {\n\n        String *nativeQuery* = \"select fn_layer_attributes(:layername)\";\n\n        return em.createNativeQuery(*nativeQuery*).setParameter(\"layername\", strLayerName).**unwrap(org.hibernate.query.NativeQuery.class).addScalar**(\"fn_layer_attributes\", **new JsonNodeBinaryType()**) .getSingleResult().toString();\n\n    }\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4438528,"reputation":2896,"user_id":3613702,"accept_rate":14,"display_name":"Code Name Jack"},"score":0,"creation_date":1611032074,"post_id":59754570,"comment_id":116312866,"body_markdown":"Adding dialect didn&#39;t help, unfortunately only Unit test build is failing in my case. (UT has local db) @Vlad Mihalcea","body":"Adding dialect didn&#39;t help, unfortunately only Unit test build is failing in my case. (UT has local db) @Vlad Mihalcea"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1611036928,"post_id":59754570,"comment_id":116313914,"body_markdown":"As long as you run the integration tests  on MySQL in a Docker container, everything will work like a charm. If you use in-memory DBs, like H2 or HSQLDB, it will not work.","body":"As long as you run the integration tests  on MySQL in a Docker container, everything will work like a charm. If you use in-memory DBs, like H2 or HSQLDB, it will not work."},{"owner":{"account_id":4438528,"reputation":2896,"user_id":3613702,"accept_rate":14,"display_name":"Code Name Jack"},"score":0,"creation_date":1611038502,"post_id":59754570,"comment_id":116314273,"body_markdown":"Ya using, in memory db here, got past that error, now facing another. `Caused by: org.hibernate.exception.SQLGrammarException: could not prepare statement` \nWill try to fix this too.","body":"Ya using, in memory db here, got past that error, now facing another. <code>Caused by: org.hibernate.exception.SQLGrammarException: could not prepare statement</code>  Will try to fix this too."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1689174123,"creation_date":1579101981,"answer_id":59754570,"question_id":28192547,"body_markdown":"Finding the column that triggered the issue\r\n-------------------------------------------\r\n\r\nFirst, you didn&#39;t provide the entity mapping so that we could tell what column generated this problem. For instance, it could be a `UUID` or a `JSON` column.\r\n\r\nNow, you are using a very old Hibernate Dialect. The `MySQL5Dialect` is meant for MySQL 5. Most likely you are using a newer MySQL version.\r\n\r\nSo, try to use the `MySQL8Dialect` instead:\r\n\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\r\n\r\nAdding non-standard types\r\n-------------------------\r\n\r\nIn case you got the issue because you are using a JSON column type, try to provide a custom Hibernate Dialect that supports the non-standard Type:\r\n\r\n    public class MySQL8JsonDialect\r\n            extends MySQL8Dialect{\r\n     \r\n        public MySQL8JsonDialect() {\r\n            super();\r\n            this.registerHibernateType(\r\n                Types.OTHER, JsonStringType.class.getName()\r\n            );\r\n        }\r\n    }\r\n\r\nAnd use the custom Hibernate Dialect:\r\n\r\n    &lt;property\r\n        name=&quot;hibernate.dialect&quot;\r\n        value=&quot;com.vladmihalcea.book.hpjp.hibernate.type.json.MySQL8JsonDialect&quot;\r\n    /&gt;\r\n\r\nIf you get this exception when executing SQL native queries, then you need to pass the type via [`addScalar`](https://vladmihalcea.com/hibernate-no-dialect-mapping-for-jdbc-type/):\r\n\r\n    JsonNode properties = (JsonNode) entityManager\r\n    .createNativeQuery(\r\n        &quot;SELECT properties &quot; +\r\n        &quot;FROM book &quot; +\r\n        &quot;WHERE isbn = :isbn&quot;)\r\n    .setParameter(&quot;isbn&quot;, &quot;978-9730228236&quot;)\r\n    .unwrap(org.hibernate.query.NativeQuery.class)\r\n    .addScalar(&quot;properties&quot;, JsonStringType.INSTANCE)\r\n    .getSingleResult();\r\n     \r\n    assertEquals(\r\n        &quot;High-Performance Java Persistence&quot;,\r\n        properties.get(&quot;title&quot;).asText()\r\n    );\r\n","title":"No Dialect mapping for JDBC type: 1111","body":"<h2>Finding the column that triggered the issue</h2>\n<p>First, you didn't provide the entity mapping so that we could tell what column generated this problem. For instance, it could be a <code>UUID</code> or a <code>JSON</code> column.</p>\n<p>Now, you are using a very old Hibernate Dialect. The <code>MySQL5Dialect</code> is meant for MySQL 5. Most likely you are using a newer MySQL version.</p>\n<p>So, try to use the <code>MySQL8Dialect</code> instead:</p>\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\n</code></pre>\n<h2>Adding non-standard types</h2>\n<p>In case you got the issue because you are using a JSON column type, try to provide a custom Hibernate Dialect that supports the non-standard Type:</p>\n<pre><code>public class MySQL8JsonDialect\n        extends MySQL8Dialect{\n \n    public MySQL8JsonDialect() {\n        super();\n        this.registerHibernateType(\n            Types.OTHER, JsonStringType.class.getName()\n        );\n    }\n}\n</code></pre>\n<p>And use the custom Hibernate Dialect:</p>\n<pre><code>&lt;property\n    name=&quot;hibernate.dialect&quot;\n    value=&quot;com.vladmihalcea.book.hpjp.hibernate.type.json.MySQL8JsonDialect&quot;\n/&gt;\n</code></pre>\n<p>If you get this exception when executing SQL native queries, then you need to pass the type via <a href=\"https://vladmihalcea.com/hibernate-no-dialect-mapping-for-jdbc-type/\" rel=\"nofollow noreferrer\"><code>addScalar</code></a>:</p>\n<pre><code>JsonNode properties = (JsonNode) entityManager\n.createNativeQuery(\n    &quot;SELECT properties &quot; +\n    &quot;FROM book &quot; +\n    &quot;WHERE isbn = :isbn&quot;)\n.setParameter(&quot;isbn&quot;, &quot;978-9730228236&quot;)\n.unwrap(org.hibernate.query.NativeQuery.class)\n.addScalar(&quot;properties&quot;, JsonStringType.INSTANCE)\n.getSingleResult();\n \nassertEquals(\n    &quot;High-Performance Java Persistence&quot;,\n    properties.get(&quot;title&quot;).asText()\n);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":0,"creation_date":1606034414,"post_id":61050586,"comment_id":114831942,"body_markdown":"Thanks, works. Why is UUID not converted into anything? Is it supposed to be that way or is it a bug?","body":"Thanks, works. Why is UUID not converted into anything? Is it supposed to be that way or is it a bug?"}],"tags":[],"owner":{"account_id":9229376,"reputation":902,"user_id":6856020,"display_name":"Supreet Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1586127197,"creation_date":1586127197,"answer_id":61050586,"question_id":28192547,"body_markdown":"I got the same error, the problem here is UUID stored in DB is not converting to object.\r\n\r\nI tried  applying these annotations @Type(type=&quot;uuid-char&quot;) (for postgres @Type(type=&quot;pg-uuid&quot;) but it didn&#39;t work for me.\r\n\r\n\r\nThis worked for me. Suppose you want id and name from a table with a native query in JPA. Create one entity class like &#39;User&#39; with fields id and name and then try converting object[] to entity we want. Here this matched data is list of array of object we are getting from query.\r\n\r\n    @Query( value = &quot;SELECT CAST(id as varchar) id, name from users &quot;, nativeQuery = true)\r\n        \r\n    public List&lt;Object[]&gt; search();\r\n\r\n    public class User{\r\n       private UUID id;\r\n       private String name;\r\n    }\r\n    \r\n    \r\n    List&lt;User&gt; userList=new ArrayList&lt;&gt;();\r\n\r\n    for(Object[] data:matchedData){\r\n            userList.add(new User(UUID.fromString(String.valueOf(data[0])),\r\n                    String.valueOf(data[1])));\r\n\r\n        }\r\n\r\n\r\n\r\n\r\nSuppose this is the entity we have \r\n","title":"No Dialect mapping for JDBC type: 1111","body":"<p>I got the same error, the problem here is UUID stored in DB is not converting to object.</p>\n\n<p>I tried  applying these annotations @Type(type=\"uuid-char\") (for postgres @Type(type=\"pg-uuid\") but it didn't work for me.</p>\n\n<p>This worked for me. Suppose you want id and name from a table with a native query in JPA. Create one entity class like 'User' with fields id and name and then try converting object[] to entity we want. Here this matched data is list of array of object we are getting from query.</p>\n\n<pre><code>@Query( value = \"SELECT CAST(id as varchar) id, name from users \", nativeQuery = true)\n\npublic List&lt;Object[]&gt; search();\n\npublic class User{\n   private UUID id;\n   private String name;\n}\n\n\nList&lt;User&gt; userList=new ArrayList&lt;&gt;();\n\nfor(Object[] data:matchedData){\n        userList.add(new User(UUID.fromString(String.valueOf(data[0])),\n                String.valueOf(data[1])));\n\n    }\n</code></pre>\n\n<p>Suppose this is the entity we have </p>\n"},{"tags":[],"owner":{"account_id":8212780,"reputation":173,"user_id":6180243,"display_name":"iamfnizami"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600517209,"creation_date":1600517209,"answer_id":63968611,"question_id":28192547,"body_markdown":"Function or procedure returning **void** cause some issue with JPA/Hibernate, so changing it with return **integer** and calling return 1 at the end of procedure may solved the problem.\r\n\r\nSQL Type 1111 represents String.","title":"No Dialect mapping for JDBC type: 1111","body":"<p>Function or procedure returning <strong>void</strong> cause some issue with JPA/Hibernate, so changing it with return <strong>integer</strong> and calling return 1 at the end of procedure may solved the problem.</p>\n<p>SQL Type 1111 represents String.</p>\n"},{"tags":[],"owner":{"account_id":121188,"reputation":5073,"user_id":314089,"accept_rate":60,"display_name":"icyerasor"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1614330854,"creation_date":1614330854,"answer_id":66383032,"question_id":28192547,"body_markdown":"Another simple explanation might be that you&#39;re fetching a complex Type (Entity/POJO) but do not specify the Entity to map to:\r\n\r\n    String sql = &quot;select yourentity.* from {h-schema}Yourentity yourentity&quot;;\r\n    return entityManager.createNativeQuery(sql).getResultList();\r\n\r\nsimply add the class to map to in the createNativeQuery method:\r\n\r\n    return entityManager.createNativeQuery(sql, Yourentity.class).getResultList();","title":"No Dialect mapping for JDBC type: 1111","body":"<p>Another simple explanation might be that you're fetching a complex Type (Entity/POJO) but do not specify the Entity to map to:</p>\n<pre><code>String sql = &quot;select yourentity.* from {h-schema}Yourentity yourentity&quot;;\nreturn entityManager.createNativeQuery(sql).getResultList();\n</code></pre>\n<p>simply add the class to map to in the createNativeQuery method:</p>\n<pre><code>return entityManager.createNativeQuery(sql, Yourentity.class).getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3881045,"reputation":2358,"user_id":3213527,"accept_rate":100,"display_name":"Andrei Savin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1616574919,"creation_date":1616574919,"answer_id":66777378,"question_id":28192547,"body_markdown":"In my case, the issue was Hibernate not knowing how to deal with an `UUID` column. If you are using Postgres, try adding this to your `resources/application.properties`:\r\n\r\n```\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL9Dialect\r\n```","title":"No Dialect mapping for JDBC type: 1111","body":"<p>In my case, the issue was Hibernate not knowing how to deal with an <code>UUID</code> column. If you are using Postgres, try adding this to your <code>resources/application.properties</code>:</p>\n<pre><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL9Dialect\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3378723,"reputation":948,"user_id":2836301,"display_name":"Tonsic"},"score":0,"creation_date":1647194157,"post_id":66969207,"comment_id":126304626,"body_markdown":"And if you are using spring, instead of the hibernate.dialect prop mentioned, at the properties file put: `spring.jpa.properties.hibernate.dialect=com.abc.CustomPostgreSqlDialect`","body":"And if you are using spring, instead of the hibernate.dialect prop mentioned, at the properties file put: <code>spring.jpa.properties.hibernate.dialect=com.abc.CustomPostgr&zwnj;&#8203;eSqlDialect</code>"}],"tags":[],"owner":{"account_id":8942000,"reputation":91,"user_id":6670693,"display_name":"Ashish Rajput"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617717714,"creation_date":1617714236,"answer_id":66969207,"question_id":28192547,"body_markdown":"**if using Postgres**\r\n\r\n\r\n    public class CustomPostgreSqlDialect extends PostgreSQL94Dialect{\r\n    \r\n        @Override\r\n        public SqlTypeDescriptor remapSqlTypeDescriptor(SqlTypeDescriptor sqlTypeDescriptor)\r\n        {\r\n            switch (sqlTypeDescriptor.getSqlType())\r\n            {\r\n            case Types.CLOB:\r\n                return VarcharTypeDescriptor.INSTANCE;\r\n            case Types.BLOB:\r\n                return VarcharTypeDescriptor.INSTANCE;\r\n            case 1111://1111 should be json of pgsql\r\n                return VarcharTypeDescriptor.INSTANCE;\r\n            }\r\n            return super.remapSqlTypeDescriptor(sqlTypeDescriptor);\r\n        }\r\n        public CustomPostgreSqlDialect() {\r\n            super();\r\n            registerHibernateType(1111, &quot;string&quot;);\r\n        }}\r\n\r\n\r\nand use \r\n\r\n \r\n\r\n    &lt;prop key=&quot;hibernate.dialect&quot;&gt;com.abc.CustomPostgreSqlDialect&lt;/prop&gt;\r\n\r\n   \r\n\r\n\r\n","title":"No Dialect mapping for JDBC type: 1111","body":"<p><strong>if using Postgres</strong></p>\n<pre><code>public class CustomPostgreSqlDialect extends PostgreSQL94Dialect{\n\n    @Override\n    public SqlTypeDescriptor remapSqlTypeDescriptor(SqlTypeDescriptor sqlTypeDescriptor)\n    {\n        switch (sqlTypeDescriptor.getSqlType())\n        {\n        case Types.CLOB:\n            return VarcharTypeDescriptor.INSTANCE;\n        case Types.BLOB:\n            return VarcharTypeDescriptor.INSTANCE;\n        case 1111://1111 should be json of pgsql\n            return VarcharTypeDescriptor.INSTANCE;\n        }\n        return super.remapSqlTypeDescriptor(sqlTypeDescriptor);\n    }\n    public CustomPostgreSqlDialect() {\n        super();\n        registerHibernateType(1111, &quot;string&quot;);\n    }}\n</code></pre>\n<p>and use</p>\n<pre><code>&lt;prop key=&quot;hibernate.dialect&quot;&gt;com.abc.CustomPostgreSqlDialect&lt;/prop&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2929919,"reputation":11,"user_id":2510439,"display_name":"user2510439"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647015993,"creation_date":1647015993,"answer_id":71441625,"question_id":28192547,"body_markdown":"If you are calling EntityManager.createNativeQuery(), be sure to include the resulting java class in the second parameter:\r\n\r\n```\r\nreturn em.createNativeQuery(sql, MyRecord.class).getResultList()\r\n```\r\n\r\n\r\n","title":"No Dialect mapping for JDBC type: 1111","body":"<p>If you are calling EntityManager.createNativeQuery(), be sure to include the resulting java class in the second parameter:</p>\n<pre><code>return em.createNativeQuery(sql, MyRecord.class).getResultList()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":141852,"reputation":4322,"user_id":349169,"accept_rate":78,"display_name":"Chris"},"score":0,"creation_date":1651143011,"post_id":72042342,"comment_id":127295675,"body_markdown":"@VladMihalcea according to the last comment in https://gist.github.com/agrawald/adad25d28bf6c56a7e4618fe95ee5a39 I shouldn&#39;t need this fix when using your JsonType. However, I was already using your JsonType (for PostGIS in Production and H2 in my `@SpringDataTest`s), and only the above solution was able to fix it for me.","body":"@VladMihalcea according to the last comment in <a href=\"https://gist.github.com/agrawald/adad25d28bf6c56a7e4618fe95ee5a39\" rel=\"nofollow noreferrer\">gist.github.com/agrawald/adad25d28bf6c56a7e4618fe95ee5a39</a> I shouldn&#39;t need this fix when using your JsonType. However, I was already using your JsonType (for PostGIS in Production and H2 in my <code>@SpringDataTest</code>s), and only the above solution was able to fix it for me."}],"tags":[],"owner":{"account_id":141852,"reputation":4322,"user_id":349169,"accept_rate":78,"display_name":"Chris"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651142903,"creation_date":1651142903,"answer_id":72042342,"question_id":28192547,"body_markdown":"After trying many proposed solutions, including:\r\n- https://stackoverflow.com/a/59754570/349169 which is one of the solutions proposed here\r\n- https://vladmihalcea.com/hibernate-no-dialect-mapping-for-jdbc-type/\r\n\r\nit was finally this one that fixed everything with the least amount of changes:\r\n\r\nhttps://gist.github.com/agrawald/adad25d28bf6c56a7e4618fe95ee5a39\r\n\r\nThe trick is to not have `@TypeDef` on your class, but instead have 2 different `@TypeDef` in 2 different `package-info.java` files. One inside your production code package for your production DB, and one inside your test package for your test H2 DB.","title":"No Dialect mapping for JDBC type: 1111","body":"<p>After trying many proposed solutions, including:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/59754570/349169\">https://stackoverflow.com/a/59754570/349169</a> which is one of the solutions proposed here</li>\n<li><a href=\"https://vladmihalcea.com/hibernate-no-dialect-mapping-for-jdbc-type/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/hibernate-no-dialect-mapping-for-jdbc-type/</a></li>\n</ul>\n<p>it was finally this one that fixed everything with the least amount of changes:</p>\n<p><a href=\"https://gist.github.com/agrawald/adad25d28bf6c56a7e4618fe95ee5a39\" rel=\"nofollow noreferrer\">https://gist.github.com/agrawald/adad25d28bf6c56a7e4618fe95ee5a39</a></p>\n<p>The trick is to not have <code>@TypeDef</code> on your class, but instead have 2 different <code>@TypeDef</code> in 2 different <code>package-info.java</code> files. One inside your production code package for your production DB, and one inside your test package for your test H2 DB.</p>\n"},{"tags":[],"owner":{"account_id":19394380,"reputation":235,"user_id":14182376,"display_name":"Vitaly Kolesnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682607329,"creation_date":1682607329,"answer_id":76121848,"question_id":28192547,"body_markdown":"I had the same issue and wasted like 1 hour before I noticed that I use JpaRepository of one entity (let&#39;s say Person) to retrive another entity (let&#39;s say Order). Hope this helps someone.","title":"No Dialect mapping for JDBC type: 1111","body":"<p>I had the same issue and wasted like 1 hour before I noticed that I use JpaRepository of one entity (let's say Person) to retrive another entity (let's say Order). Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":10451715,"reputation":745,"user_id":7705116,"display_name":"drt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684268542,"creation_date":1684268542,"answer_id":76266807,"question_id":28192547,"body_markdown":"I had little different issue, I was facing this issue for pagination. When select query was pulling number of records (15) more than pageSize(10) then I was getting below error. - \r\n\r\n    Details: org.springframework.orm.jpa.JpaSystemException: No Dialect mapping for JDBC type: 1111; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111\r\n \r\nBefore fixing I made sure - \r\n 1. My Dialect lib is latest\r\n 2. column data types are correct\r\n\r\nFix - added `registerHibernateType`\r\n\r\n    @Component\r\n    public class JSONBPostgreSQLDialect extends PostgreSQL95Dialect {\r\n    \r\n        public JSONBPostgreSQLDialect() {\r\n            super();\r\n            registerColumnType(Types.JAVA_OBJECT, JSONBUserType.JSONB_TYPE);\r\n            //This line fixed Dialect mapping errorx\r\n            registerHibernateType(Types.OTHER, String.class.getName());\r\n        }\r\n    }\r\n\r\n`JSONBUserType` is custom type created. \r\n\r\n    @Component\r\n    public class JSONBUserType implements UserType, ParameterizedType {\r\n    \r\n        private static final ClassLoaderService classLoaderService = new ClassLoaderServiceImpl();\r\n    \r\n        public static final String JSONB_TYPE = &quot;jsonb&quot;;\r\n        public static final String CLASS = &quot;CLASS&quot;;\r\n    \r\n        private Class jsonClassType;\r\n    \r\n        @Override\r\n        public Class&lt;Object&gt; returnedClass() {\r\n            return Object.class;\r\n        }\r\n    \r\n        @Override\r\n        public int[] sqlTypes() {\r\n            return new int[]{Types.JAVA_OBJECT};\r\n        }\r\n    \r\n        @Override\r\n        public Object nullSafeGet(ResultSet rs,\r\n                                  String[] names,\r\n                                  SharedSessionContractImplementor session,\r\n                                  Object owner)\r\n                throws HibernateException, SQLException {\r\n    \r\n            final String cellContent = rs.getString(names[0]);\r\n            if (cellContent == null) {\r\n                return null;\r\n            }\r\n            try {\r\n                final ObjectMapper mapper = new ObjectMapper();\r\n                return mapper.readValue(cellContent.getBytes(&quot;UTF-8&quot;), jsonClassType);\r\n            } catch (final Exception ex) {\r\n                throw new RuntimeException(&quot;Failed to convert String to Invoice: &quot; + ex.getMessage(), ex);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void nullSafeSet(PreparedStatement ps,\r\n                                Object value,\r\n                                int idx,\r\n                                SharedSessionContractImplementor session)\r\n                throws HibernateException, SQLException {\r\n            if (value == null) {\r\n                ps.setNull(idx,\r\n                           Types.OTHER);\r\n                return;\r\n            }\r\n            try {\r\n                final ObjectMapper mapper = new ObjectMapper();\r\n                final StringWriter w = new StringWriter();\r\n                mapper.writeValue(w,\r\n                                  value);\r\n                w.flush();\r\n                ps.setObject(idx,\r\n                             w.toString(),\r\n                             Types.OTHER);\r\n            } catch (final Exception ex) {\r\n                throw new RuntimeException(&quot;Failed to convert Invoice to String: &quot; + ex.getMessage(),\r\n                                           ex);\r\n            }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void setParameterValues(Properties parameters) {\r\n            final String clazz = (String) parameters.get(CLASS);\r\n            if (null != clazz) {\r\n                jsonClassType = classLoaderService.classForName(clazz);\r\n            }\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        @Override\r\n        public Object deepCopy(Object value) throws HibernateException {\r\n    \r\n            if (!(value instanceof Collection)) {\r\n                return value;\r\n            }\r\n    \r\n            Collection&lt;?&gt; collection = (Collection) value;\r\n            Collection collectionClone = CollectionFactory.newInstance(collection.getClass());\r\n    \r\n            collectionClone.addAll(collection.stream()\r\n                                             .map(this::deepCopy)\r\n                                             .collect(Collectors.toList()));\r\n    \r\n            return collectionClone;\r\n        }\r\n    \r\n        static final class CollectionFactory {\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            static &lt;E, T extends Collection&lt;E&gt;&gt; T newInstance(Class&lt;T&gt; collectionClass) {\r\n                if (List.class.isAssignableFrom(collectionClass)) {\r\n                    return (T) new ArrayList&lt;E&gt;();\r\n                } else if (Set.class.isAssignableFrom(collectionClass)) {\r\n                    return (T) new HashSet&lt;E&gt;();\r\n                } else {\r\n                    throw new IllegalArgumentException(&quot;Unsupported collection type : &quot; + collectionClass);\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public boolean isMutable() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object x,\r\n                              Object y) throws HibernateException {\r\n            if (x == y) {\r\n                return true;\r\n            }\r\n    \r\n            if ((x == null) || (y == null)) {\r\n                return false;\r\n            }\r\n    \r\n            return x.equals(y);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode(Object x) throws HibernateException {\r\n            assert (x != null);\r\n            return x.hashCode();\r\n        }\r\n    \r\n        @Override\r\n        public Object assemble(Serializable cached,\r\n                               Object owner) throws HibernateException {\r\n            return deepCopy(cached);\r\n        }\r\n    \r\n        @Override\r\n        public Serializable disassemble(Object value) throws HibernateException {\r\n            Object deepCopy = deepCopy(value);\r\n    \r\n            if (!(deepCopy instanceof Serializable)) {\r\n                throw new SerializationException(String.format(&quot;%s is not serializable class&quot;,\r\n                                                               value),\r\n                                                 null);\r\n            }\r\n    \r\n            return (Serializable) deepCopy;\r\n        }\r\n    \r\n        @Override\r\n        public Object replace(Object original,\r\n                              Object target,\r\n                              Object owner) throws HibernateException {\r\n            return deepCopy(original);\r\n        }\r\n    }\r\n\r\nAnd it is used in entity like this\r\n\r\n    @TypeDef(name = &quot;addressValType&quot;, typeClass = JSONBUserType.class, parameters = {@Parameter(name = JSONBUserType.CLASS, value = &quot;com.address.response.AddressResponse&quot;)})\r\n    @Table(name = &quot;addressValidation&quot;)\r\n    public class Address implements Serializable {\r\n        private static final long serialVersionUID = -2370572023911224797L;\r\n        @Id\r\n        @Column(name = &quot;employeeNumber&quot;)\r\n        private Integer employeeNumber;\r\n    \r\n        @Column(name = &quot;inputAddress&quot;, columnDefinition = &quot;jsonb&quot;)\r\n        @Type(type = &quot;addressValType&quot;)\r\n        private SapPostalAddressResponse inputAddress;\r\n      }\r\n\r\n","title":"No Dialect mapping for JDBC type: 1111","body":"<p>I had little different issue, I was facing this issue for pagination. When select query was pulling number of records (15) more than pageSize(10) then I was getting below error. -</p>\n<pre><code>Details: org.springframework.orm.jpa.JpaSystemException: No Dialect mapping for JDBC type: 1111; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111\n</code></pre>\n<p>Before fixing I made sure -</p>\n<ol>\n<li>My Dialect lib is latest</li>\n<li>column data types are correct</li>\n</ol>\n<p>Fix - added <code>registerHibernateType</code></p>\n<pre><code>@Component\npublic class JSONBPostgreSQLDialect extends PostgreSQL95Dialect {\n\n    public JSONBPostgreSQLDialect() {\n        super();\n        registerColumnType(Types.JAVA_OBJECT, JSONBUserType.JSONB_TYPE);\n        //This line fixed Dialect mapping errorx\n        registerHibernateType(Types.OTHER, String.class.getName());\n    }\n}\n</code></pre>\n<p><code>JSONBUserType</code> is custom type created.</p>\n<pre><code>@Component\npublic class JSONBUserType implements UserType, ParameterizedType {\n\n    private static final ClassLoaderService classLoaderService = new ClassLoaderServiceImpl();\n\n    public static final String JSONB_TYPE = &quot;jsonb&quot;;\n    public static final String CLASS = &quot;CLASS&quot;;\n\n    private Class jsonClassType;\n\n    @Override\n    public Class&lt;Object&gt; returnedClass() {\n        return Object.class;\n    }\n\n    @Override\n    public int[] sqlTypes() {\n        return new int[]{Types.JAVA_OBJECT};\n    }\n\n    @Override\n    public Object nullSafeGet(ResultSet rs,\n                              String[] names,\n                              SharedSessionContractImplementor session,\n                              Object owner)\n            throws HibernateException, SQLException {\n\n        final String cellContent = rs.getString(names[0]);\n        if (cellContent == null) {\n            return null;\n        }\n        try {\n            final ObjectMapper mapper = new ObjectMapper();\n            return mapper.readValue(cellContent.getBytes(&quot;UTF-8&quot;), jsonClassType);\n        } catch (final Exception ex) {\n            throw new RuntimeException(&quot;Failed to convert String to Invoice: &quot; + ex.getMessage(), ex);\n        }\n    }\n\n    @Override\n    public void nullSafeSet(PreparedStatement ps,\n                            Object value,\n                            int idx,\n                            SharedSessionContractImplementor session)\n            throws HibernateException, SQLException {\n        if (value == null) {\n            ps.setNull(idx,\n                       Types.OTHER);\n            return;\n        }\n        try {\n            final ObjectMapper mapper = new ObjectMapper();\n            final StringWriter w = new StringWriter();\n            mapper.writeValue(w,\n                              value);\n            w.flush();\n            ps.setObject(idx,\n                         w.toString(),\n                         Types.OTHER);\n        } catch (final Exception ex) {\n            throw new RuntimeException(&quot;Failed to convert Invoice to String: &quot; + ex.getMessage(),\n                                       ex);\n        }\n\n    }\n\n    @Override\n    public void setParameterValues(Properties parameters) {\n        final String clazz = (String) parameters.get(CLASS);\n        if (null != clazz) {\n            jsonClassType = classLoaderService.classForName(clazz);\n        }\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @Override\n    public Object deepCopy(Object value) throws HibernateException {\n\n        if (!(value instanceof Collection)) {\n            return value;\n        }\n\n        Collection&lt;?&gt; collection = (Collection) value;\n        Collection collectionClone = CollectionFactory.newInstance(collection.getClass());\n\n        collectionClone.addAll(collection.stream()\n                                         .map(this::deepCopy)\n                                         .collect(Collectors.toList()));\n\n        return collectionClone;\n    }\n\n    static final class CollectionFactory {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        static &lt;E, T extends Collection&lt;E&gt;&gt; T newInstance(Class&lt;T&gt; collectionClass) {\n            if (List.class.isAssignableFrom(collectionClass)) {\n                return (T) new ArrayList&lt;E&gt;();\n            } else if (Set.class.isAssignableFrom(collectionClass)) {\n                return (T) new HashSet&lt;E&gt;();\n            } else {\n                throw new IllegalArgumentException(&quot;Unsupported collection type : &quot; + collectionClass);\n            }\n        }\n    }\n\n    @Override\n    public boolean isMutable() {\n        return true;\n    }\n\n    @Override\n    public boolean equals(Object x,\n                          Object y) throws HibernateException {\n        if (x == y) {\n            return true;\n        }\n\n        if ((x == null) || (y == null)) {\n            return false;\n        }\n\n        return x.equals(y);\n    }\n\n    @Override\n    public int hashCode(Object x) throws HibernateException {\n        assert (x != null);\n        return x.hashCode();\n    }\n\n    @Override\n    public Object assemble(Serializable cached,\n                           Object owner) throws HibernateException {\n        return deepCopy(cached);\n    }\n\n    @Override\n    public Serializable disassemble(Object value) throws HibernateException {\n        Object deepCopy = deepCopy(value);\n\n        if (!(deepCopy instanceof Serializable)) {\n            throw new SerializationException(String.format(&quot;%s is not serializable class&quot;,\n                                                           value),\n                                             null);\n        }\n\n        return (Serializable) deepCopy;\n    }\n\n    @Override\n    public Object replace(Object original,\n                          Object target,\n                          Object owner) throws HibernateException {\n        return deepCopy(original);\n    }\n}\n</code></pre>\n<p>And it is used in entity like this</p>\n<pre><code>@TypeDef(name = &quot;addressValType&quot;, typeClass = JSONBUserType.class, parameters = {@Parameter(name = JSONBUserType.CLASS, value = &quot;com.address.response.AddressResponse&quot;)})\n@Table(name = &quot;addressValidation&quot;)\npublic class Address implements Serializable {\n    private static final long serialVersionUID = -2370572023911224797L;\n    @Id\n    @Column(name = &quot;employeeNumber&quot;)\n    private Integer employeeNumber;\n\n    @Column(name = &quot;inputAddress&quot;, columnDefinition = &quot;jsonb&quot;)\n    @Type(type = &quot;addressValType&quot;)\n    private SapPostalAddressResponse inputAddress;\n  }\n</code></pre>\n"}],"owner":{"account_id":1924775,"reputation":1501,"user_id":1735497,"accept_rate":70,"display_name":"SakeSushiBig"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152287,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":28193142,"answer_count":21,"score":63,"last_activity_date":1689174123,"creation_date":1422448926,"question_id":28192547,"body_markdown":"I&#39;m working on a Spring JPA Application, using MySQL as database. I ensured that all spring-jpa libraries, hibernate and mysql-connector-java is loaded.\r\n\r\nI&#39;m running a mysql 5 instance. Here is a excerpt of my application.properties file:\r\n\r\n    spring.jpa.show-sql=false\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect\r\n    \r\n    spring.datasource.url=jdbc:mysql://localhost/mydatabase\r\n    spring.datasource.username=myuser\r\n    spring.datasource.password=SUPERSECRET\r\n    spring.datasource.driverClassName=com.mysql.jdbc.Driver\r\n\r\nWhen executing an integration test, spring startsup properly but fails on creating the hibernate SessionFactory, with the exception:\r\n\r\n    org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111\r\n\r\nI think my dialects should be Mysql5Dialect, I also tried the one explicitly stating InnoDB, and the two dialect options which don&#39;t indicate the version 5. But I always end up with the same &#39;No Dialect mapping for JDBC type: 1111&#39; message.\r\nMy application.properties file resides in the test/resources source folder. It is recognized by the JUnit Test runner (I previously got an exception because of an typo in it).\r\n\r\nAre the properties I&#39;m setting wrong? I couldn&#39;t find some official documentation on these property names but found a hint in this stackoverflow answer: https://stackoverflow.com/a/25941616/1735497\r\n\r\nLooking forward for your answers, thanks!\r\n\r\nBTW The application is already using spring boot.","title":"No Dialect mapping for JDBC type: 1111","body":"<p>I'm working on a Spring JPA Application, using MySQL as database. I ensured that all spring-jpa libraries, hibernate and mysql-connector-java is loaded.</p>\n\n<p>I'm running a mysql 5 instance. Here is a excerpt of my application.properties file:</p>\n\n<pre><code>spring.jpa.show-sql=false\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect\n\nspring.datasource.url=jdbc:mysql://localhost/mydatabase\nspring.datasource.username=myuser\nspring.datasource.password=SUPERSECRET\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\n</code></pre>\n\n<p>When executing an integration test, spring startsup properly but fails on creating the hibernate SessionFactory, with the exception:</p>\n\n<pre><code>org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111\n</code></pre>\n\n<p>I think my dialects should be Mysql5Dialect, I also tried the one explicitly stating InnoDB, and the two dialect options which don't indicate the version 5. But I always end up with the same 'No Dialect mapping for JDBC type: 1111' message.\nMy application.properties file resides in the test/resources source folder. It is recognized by the JUnit Test runner (I previously got an exception because of an typo in it).</p>\n\n<p>Are the properties I'm setting wrong? I couldn't find some official documentation on these property names but found a hint in this stackoverflow answer: <a href=\"https://stackoverflow.com/a/25941616/1735497\">https://stackoverflow.com/a/25941616/1735497</a></p>\n\n<p>Looking forward for your answers, thanks!</p>\n\n<p>BTW The application is already using spring boot.</p>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1501602893,"post_id":45442236,"comment_id":77845875,"body_markdown":"How would other classes be able to use an instance of a dynamically created class?","body":"How would other classes be able to use an instance of a dynamically created class?"},{"owner":{"account_id":8370572,"reputation":1860,"user_id":6285832,"accept_rate":60,"display_name":"Omegaspard"},"score":0,"creation_date":1501661203,"post_id":45442236,"comment_id":77870552,"body_markdown":"I don&#39;t know much about the subject so I can&#39;t answer.","body":"I don&#39;t know much about the subject so I can&#39;t answer."}],"owner":{"account_id":8370572,"reputation":1860,"user_id":6285832,"accept_rate":60,"display_name":"Omegaspard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689174111,"creation_date":1501602234,"question_id":45442236,"body_markdown":"I have a map containing the fields of a case class I would to create.\r\nI don&#39;t want to only instantiate the class, I want to create it from scratch and use it at run time.\r\nThe class I want to create will only contains fields (no methods).\r\n\r\nOne of my first was to interpret code at runtime that would return this new class from string interpretation.\r\nWe can do something like this with toolBox:\r\n\r\n    import scala.reflect.runtime._\r\n    import scala.tools.reflect.ToolBox\r\n     val cm = universe.runtimeMirror(getClass.getClassLoader)\r\n      val tb = cm.mkToolBox()\r\n      val myClass = tb.eval(tb.parse(&quot;class C(val a:Int, val b:Int); scala.reflect.classTag[C].runtimeClass&quot;))\r\n\r\nI found the code [here][1].\r\nBut I don&#39;t know what to do after.\r\nI have the myClass object which seems to be a java.lang.Class.\r\nSince the code line:\r\n\r\n    println(myClass.getClass.getName) \r\n\r\nreturns:\r\n\r\n    java.lang.Class\r\n\r\n\r\nWhat should I do after?  \r\nWould I manage to do what I want with this?  \r\nIf no what are the others possibility.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12122939/generating-a-class-from-string-and-instantiating-it-in-scala-2-10/12123609#12123609","title":"Creation of a case class at runtime from a map","body":"<p>I have a map containing the fields of a case class I would to create.\nI don't want to only instantiate the class, I want to create it from scratch and use it at run time.\nThe class I want to create will only contains fields (no methods).</p>\n<p>One of my first was to interpret code at runtime that would return this new class from string interpretation.\nWe can do something like this with toolBox:</p>\n<pre><code>import scala.reflect.runtime._\nimport scala.tools.reflect.ToolBox\n val cm = universe.runtimeMirror(getClass.getClassLoader)\n  val tb = cm.mkToolBox()\n  val myClass = tb.eval(tb.parse(&quot;class C(val a:Int, val b:Int); scala.reflect.classTag[C].runtimeClass&quot;))\n</code></pre>\n<p>I found the code <a href=\"https://stackoverflow.com/questions/12122939/generating-a-class-from-string-and-instantiating-it-in-scala-2-10/12123609#12123609\">here</a>.\nBut I don't know what to do after.\nI have the myClass object which seems to be a java.lang.Class.\nSince the code line:</p>\n<pre><code>println(myClass.getClass.getName) \n</code></pre>\n<p>returns:</p>\n<pre><code>java.lang.Class\n</code></pre>\n<p>What should I do after?<br />\nWould I manage to do what I want with this?<br />\nIf no what are the others possibility.</p>\n"},{"tags":["java","war"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1689146896,"post_id":76668064,"comment_id":135170210,"body_markdown":"Try some decompilers like http://java-decompiler.github.io/","body":"Try some decompilers like <a href=\"http://java-decompiler.github.io/\" rel=\"nofollow noreferrer\">java-decompiler.github.io</a>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1689147105,"post_id":76668064,"comment_id":135170261,"body_markdown":"a war file (and jar4 files) are zip files.  If you rename the extension, you can open windows explorer.  But whether there is source code in that file or not is a different matter.","body":"a war file (and jar4 files) are zip files.  If you rename the extension, you can open windows explorer.  But whether there is source code in that file or not is a different matter."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1689147368,"post_id":76668064,"comment_id":135170304,"body_markdown":"I would be very surprised to find *actual* source code inside a WAR file.","body":"I would be very surprised to find <i>actual</i> source code inside a WAR file."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1689147747,"post_id":76668064,"comment_id":135170371,"body_markdown":"WAR files usually contain compiled Java classes, i.e. files with the `.class` extension, and those files contain [bytecode](https://en.wikipedia.org/wiki/Java_bytecode) and not source code. You can extract the `.class` files - one way is to use the [jar](https://docs.oracle.com/en/java/javase/20/docs/specs/man/jar.html) command - and then [decompile](https://www.javacodegeeks.com/2021/11/13-best-java-decompilers-for-download-and-online-use-for-java-developers.html) them.","body":"WAR files usually contain compiled Java classes, i.e. files with the <code>.class</code> extension, and those files contain <a href=\"https://en.wikipedia.org/wiki/Java_bytecode\" rel=\"nofollow noreferrer\">bytecode</a> and not source code. You can extract the <code>.class</code> files - one way is to use the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/jar.html\" rel=\"nofollow noreferrer\">jar</a> command - and then <a href=\"https://www.javacodegeeks.com/2021/11/13-best-java-decompilers-for-download-and-online-use-for-java-developers.html\" rel=\"nofollow noreferrer\">decompile</a> them."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689155896,"post_id":76668064,"comment_id":135172269,"body_markdown":"There shouldn&#39;t be any Java source code *in* the WAR file if it has been competently constructed.","body":"There shouldn&#39;t be any Java source code <i>in</i> the WAR file if it has been competently constructed."}],"answers":[{"tags":[],"owner":{"account_id":14794402,"reputation":1,"user_id":10684385,"display_name":"Soheil Babadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689173887,"creation_date":1689173887,"answer_id":76671951,"question_id":76668064,"body_markdown":"Just Rename the .war file extension to .zip. This allow you to treat the WAR file as a regular ZIP archive.\r\nUse a file extraction tool or utility such as winrar to extract the contents of the renamed WAR file.\r\nOnce extracted, navigate to WEB-INF/src or src directory and look for files with the .java extension\r\n\r\nenjoy!","title":"Extracting java source code from WAR files","body":"<p>Just Rename the .war file extension to .zip. This allow you to treat the WAR file as a regular ZIP archive.\nUse a file extraction tool or utility such as winrar to extract the contents of the renamed WAR file.\nOnce extracted, navigate to WEB-INF/src or src directory and look for files with the .java extension</p>\n<p>enjoy!</p>\n"}],"owner":{"account_id":22270474,"reputation":1,"user_id":22213881,"display_name":"Dadmin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689173887,"creation_date":1689146755,"question_id":76668064,"body_markdown":"Is there a way to extract java source code from WAR files?\r\n\r\nI have tried using different mechanisms to extract the source code, but it yielded no desired results. I used command prompt it seems there was some extraction but upon examination of the extracted files nothing of interest was there. ","title":"Extracting java source code from WAR files","body":"<p>Is there a way to extract java source code from WAR files?</p>\n<p>I have tried using different mechanisms to extract the source code, but it yielded no desired results. I used command prompt it seems there was some extraction but upon examination of the extracted files nothing of interest was there.</p>\n"},{"tags":["java","spring","hibernate"],"owner":{"account_id":4728451,"reputation":451,"user_id":3824715,"accept_rate":62,"display_name":"ch1ll"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689173388,"creation_date":1679992651,"question_id":75864015,"body_markdown":"I have a class which holds a `List&lt;User&gt;`, like this:\r\n\r\n\r\n```\r\n\r\n@Entity\r\n@Audited\r\npublic class Instruction {\r\n\r\n\r\n...\r\n\r\n    @NotAudited\r\n    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.DETACH)\r\n    @JoinTable(\r\n            name = &quot;inspection_attended_joinTable&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;inspection_id&quot;, referencedColumnName = &quot;id&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)}\r\n    )\r\n    private List&lt;User&gt; attendedUsers;\r\n\r\n...\r\n\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n\r\nNow I try to alter the attendedUsers like this:  \r\n\r\n```\r\n// attendeduserDtos = List&lt;User&gt; with less users than instruction.attendedUsers\r\n\r\nList&lt;User&gt; entities = instruction.getAttendedUsers();\r\n\r\nList&lt;User&gt; removeEntities = entities.stream().filter(entity -&gt; entity != null &amp;&amp; !existsDtoWithId(entity.getId(), attendedUserDtos)).collect(Collectors.toList());\r\n            removeEntities.forEach(entity -&gt; {\r\n                removeParentOfEntity(entity);\r\n                entities.remove(entity);\r\n            });\r\n```\r\n\r\nSo this calls entities.remove(entity) which should remove the entity. But the entity object is still a `HibernateProxy` at this time. so `org.hibernate.collection.internal.PersistentBag.remove(Object o)` is called instead of the actual `List` implementation.  \r\n\r\n```\r\n\t@Override\r\n\tpublic boolean remove(Object o) {\r\n\t\tinitialize( true );\r\n\t\tif ( bag.remove( o ) ) { // returns false, o is still a HibernateProxy\r\n\t\t\telementRemoved = true;\r\n\t\t\tdirty();\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nSo the element stays in the original entity and does not get deleted. \r\n\r\n\r\nNow the weird thing is, in this List of users, most are loaded into to current context, but one is not. And deleting this user fails. Deleting other users which are loaded works.\r\n\r\nAny idea why one user could still be a HibernateProxy while others are not? Is the debugger trustworthy at this point? \r\n\r\nEverything works if I call `Hibernate.unproxy()` on the object before. `@Transactional` on the service method that handles all this does not change anything.","title":"Hibernate is loading a Collection with only some Proxy objects","body":"<p>I have a class which holds a <code>List&lt;User&gt;</code>, like this:</p>\n<pre><code>\n@Entity\n@Audited\npublic class Instruction {\n\n\n...\n\n    @NotAudited\n    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.DETACH)\n    @JoinTable(\n            name = &quot;inspection_attended_joinTable&quot;,\n            joinColumns = {@JoinColumn(name = &quot;inspection_id&quot;, referencedColumnName = &quot;id&quot;)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)}\n    )\n    private List&lt;User&gt; attendedUsers;\n\n...\n\n}\n\n\n\n</code></pre>\n<p>Now I try to alter the attendedUsers like this:</p>\n<pre><code>// attendeduserDtos = List&lt;User&gt; with less users than instruction.attendedUsers\n\nList&lt;User&gt; entities = instruction.getAttendedUsers();\n\nList&lt;User&gt; removeEntities = entities.stream().filter(entity -&gt; entity != null &amp;&amp; !existsDtoWithId(entity.getId(), attendedUserDtos)).collect(Collectors.toList());\n            removeEntities.forEach(entity -&gt; {\n                removeParentOfEntity(entity);\n                entities.remove(entity);\n            });\n</code></pre>\n<p>So this calls entities.remove(entity) which should remove the entity. But the entity object is still a <code>HibernateProxy</code> at this time. so <code>org.hibernate.collection.internal.PersistentBag.remove(Object o)</code> is called instead of the actual <code>List</code> implementation.</p>\n<pre><code>    @Override\n    public boolean remove(Object o) {\n        initialize( true );\n        if ( bag.remove( o ) ) { // returns false, o is still a HibernateProxy\n            elementRemoved = true;\n            dirty();\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n</code></pre>\n<p>So the element stays in the original entity and does not get deleted.</p>\n<p>Now the weird thing is, in this List of users, most are loaded into to current context, but one is not. And deleting this user fails. Deleting other users which are loaded works.</p>\n<p>Any idea why one user could still be a HibernateProxy while others are not? Is the debugger trustworthy at this point?</p>\n<p>Everything works if I call <code>Hibernate.unproxy()</code> on the object before. <code>@Transactional</code> on the service method that handles all this does not change anything.</p>\n"},{"tags":["java","spring","mongodb"],"owner":{"account_id":17020027,"reputation":11,"user_id":22216327,"display_name":"Cezar Marcu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689173374,"creation_date":1689172331,"question_id":76671712,"body_markdown":"I&#39;m trying to count the occurrences of every value of a field of every document of a mongoDB collection.For this task I use the Java Spring Framework.\r\n In order to do so I create a function in a service class that gets as arguments the name of collection and the field I want to count it&#39;s values, the function returns a Map where the key is an Object type and the value is a Long type. The problem is when I try to print the Map into the console I get an empty map. If you have any ideea how I can solve this problem I would appreciete.\r\n\r\nHere is the source code of the function:\r\n\r\n     \r\n```\r\npublic class ComicService {\r\n\r\n    @Autowired\r\n    private MongoTemplate mongoTemplate;\r\n\r\n\r\n    public Map&lt;Object, Long&gt; countFieldValuesOccurrences(String collectionName, String fieldName) {\r\n\r\n        GroupOperation groupOperation = Aggregation.group(fieldName).count().as(&quot;count&quot;);\r\n        Aggregation aggregation = Aggregation.newAggregation(groupOperation);\r\n        AggregationResults&lt;FieldValueCount&gt; result = mongoTemplate.aggregate(aggregation, collectionName, FieldValueCount.class);\r\n\r\n        List&lt;FieldValueCount&gt; fieldValueCounts = result.getMappedResults();\r\n\r\n        Map&lt;Object, Long&gt; fieldValueOccurrences = new HashMap&lt;&gt;();\r\n        for (FieldValueCount fieldValueCount : fieldValueCounts) {\r\n            fieldValueOccurrences.put(fieldValueCount.getFieldValue(), fieldValueCount.getCount());\r\n        }\r\n        System.out.println(fieldValueCounts);\r\n        return fieldValueOccurrences;\r\n    }\r\n\r\n}\r\n\r\n```\r\nThe source code of the FieldValueCount class:\r\n```\r\npublic class FieldValueCount {\r\n    private Object fieldValue;\r\n    private long count;\r\n\r\n    public Object getFieldValue() {\r\n        return fieldValue;\r\n    }\r\n\r\n    public long getCount() {\r\n        return count;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried to complete the task using agregate.\r\nThe result I expect should look like this:\r\n\r\n```\r\n{\r\n  Available : 1,\r\n  Out of stoc :3,\r\n}\r\n```\r\n\r\ninstead I got this: \r\n\r\n```\r\n{}\r\n```","title":"MongoDB aggregation returns an empty result","body":"<p>I'm trying to count the occurrences of every value of a field of every document of a mongoDB collection.For this task I use the Java Spring Framework.\nIn order to do so I create a function in a service class that gets as arguments the name of collection and the field I want to count it's values, the function returns a Map where the key is an Object type and the value is a Long type. The problem is when I try to print the Map into the console I get an empty map. If you have any ideea how I can solve this problem I would appreciete.</p>\n<p>Here is the source code of the function:</p>\n<pre><code>public class ComicService {\n\n    @Autowired\n    private MongoTemplate mongoTemplate;\n\n\n    public Map&lt;Object, Long&gt; countFieldValuesOccurrences(String collectionName, String fieldName) {\n\n        GroupOperation groupOperation = Aggregation.group(fieldName).count().as(&quot;count&quot;);\n        Aggregation aggregation = Aggregation.newAggregation(groupOperation);\n        AggregationResults&lt;FieldValueCount&gt; result = mongoTemplate.aggregate(aggregation, collectionName, FieldValueCount.class);\n\n        List&lt;FieldValueCount&gt; fieldValueCounts = result.getMappedResults();\n\n        Map&lt;Object, Long&gt; fieldValueOccurrences = new HashMap&lt;&gt;();\n        for (FieldValueCount fieldValueCount : fieldValueCounts) {\n            fieldValueOccurrences.put(fieldValueCount.getFieldValue(), fieldValueCount.getCount());\n        }\n        System.out.println(fieldValueCounts);\n        return fieldValueOccurrences;\n    }\n\n}\n\n</code></pre>\n<p>The source code of the FieldValueCount class:</p>\n<pre><code>public class FieldValueCount {\n    private Object fieldValue;\n    private long count;\n\n    public Object getFieldValue() {\n        return fieldValue;\n    }\n\n    public long getCount() {\n        return count;\n    }\n}\n</code></pre>\n<p>I tried to complete the task using agregate.\nThe result I expect should look like this:</p>\n<pre><code>{\n  Available : 1,\n  Out of stoc :3,\n}\n</code></pre>\n<p>instead I got this:</p>\n<pre><code>{}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7854,"page":314,"page_size":100}
