{"items":[{"tags":["java","strictfp"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1689162857,"post_id":76670233,"comment_id":135173730,"body_markdown":"From Java 17 version, strictfp keyword is NOT required explicitly as all floating point expressions are strictly evaluated. https://openjdk.org/jeps/306","body":"From Java 17 version, strictfp keyword is NOT required explicitly as all floating point expressions are strictly evaluated. <a href=\"https://openjdk.org/jeps/306\" rel=\"nofollow noreferrer\">openjdk.org/jeps/306</a>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1689162881,"post_id":76670233,"comment_id":135173738,"body_markdown":"What exactly do you mean by &quot;the same result&quot;? Floating point semantics are always strict since java 17 ([see this JEP](https://openjdk.org/jeps/306)), making this keyword useless.","body":"What exactly do you mean by &quot;the same result&quot;? Floating point semantics are always strict since java 17 (<a href=\"https://openjdk.org/jeps/306\" rel=\"nofollow noreferrer\">see this JEP</a>), making this keyword useless."},{"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":5,"creation_date":1689162886,"post_id":76670233,"comment_id":135173739,"body_markdown":"“But how to achieve the same result?” —&#160;*Every* floating point arithmetic in Java 17 achieves the same result. That’s the whole point. Java 17 behaves as if `strictfp` was used everywhere.","body":"“But how to achieve the same result?” — <i>Every</i> floating point arithmetic in Java 17 achieves the same result. That’s the whole point. Java 17 behaves as if <code>strictfp</code> was used everywhere."},{"owner":{"account_id":197015,"reputation":1212,"user_id":440803,"accept_rate":78,"display_name":"felipe"},"score":0,"creation_date":1689163189,"post_id":76670233,"comment_id":135173806,"body_markdown":"@f1sh I changed the question thanks","body":"@f1sh I changed the question thanks"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1689163265,"post_id":76670233,"comment_id":135173825,"body_markdown":"You **always** get the behaviour as if you had previously used `strictfp` before. The thing that was removed was the option to *maybe* get non-strictfp behaviour if your JVM was implemented that way.","body":"You <b>always</b> get the behaviour as if you had previously used <code>strictfp</code> before. The thing that was removed was the option to <i>maybe</i> get non-strictfp behaviour if your JVM was implemented that way."},{"owner":{"account_id":197015,"reputation":1212,"user_id":440803,"accept_rate":78,"display_name":"felipe"},"score":0,"creation_date":1689163283,"post_id":76670233,"comment_id":135173831,"body_markdown":"@experimentunit1998X ok, so every calculation is strictly evaluated now? it&#39;s really interesting, doesnt this make any performance loss or something?","body":"@experimentunit1998X ok, so every calculation is strictly evaluated now? it&#39;s really interesting, doesnt this make any performance loss or something?"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1689163309,"post_id":76670233,"comment_id":135173838,"body_markdown":"It might have been a factor 20 years ago, but it is not anymore. You can read the linked JEP for details on this. Quote: &quot;_[...] stemmed from a bad interaction between the original Java language and JVM semantics and some unfortunate peculiarities of the x87 floating-point co-processor instruction set of the popular x86 architecture. Matching the exact floating-point semantics in all cases, including subnormal operands and results, required large overheads of additional instructions.&quot;_","body":"It might have been a factor 20 years ago, but it is not anymore. You can read the linked JEP for details on this. Quote: &quot;<i>[...] stemmed from a bad interaction between the original Java language and JVM semantics and some unfortunate peculiarities of the x87 floating-point co-processor instruction set of the popular x86 architecture. Matching the exact floating-point semantics in all cases, including subnormal operands and results, required large overheads of additional instructions.&quot;</i>"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1689163410,"post_id":76670233,"comment_id":135173867,"body_markdown":"On Intel based systems, the `strictfp` keyword was necessary to *reduce* the intermediate precision of floating point operations used internally by the CPU  (basically, Intel uses extended precision). The change in Java 17 was to replace the Intel native floating point math operations with SSE2 calls (Pentium 4 and newer, around 2001). See [JEPS-306](https://openjdk.org/jeps/306).","body":"On Intel based systems, the <code>strictfp</code> keyword was necessary to <i>reduce</i> the intermediate precision of floating point operations used internally by the CPU  (basically, Intel uses extended precision). The change in Java 17 was to replace the Intel native floating point math operations with SSE2 calls (Pentium 4 and newer, around 2001). See <a href=\"https://openjdk.org/jeps/306\" rel=\"nofollow noreferrer\">JEPS-306</a>."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1689165712,"post_id":76670233,"comment_id":135174434,"body_markdown":"What part of _&quot;As of Java 17, IEEE 754 semantics is required, thus using this keyword has no effect.&quot;_ is unclear? Did you think `strictfp` was something other than IEEE 754 semantics?","body":"What part of <i>&quot;As of Java 17, IEEE 754 semantics is required, thus using this keyword has no effect.&quot;</i> is unclear? Did you think <code>strictfp</code> was something other than IEEE 754 semantics?"},{"owner":{"account_id":197015,"reputation":1212,"user_id":440803,"accept_rate":78,"display_name":"felipe"},"score":0,"creation_date":1689176834,"post_id":76670233,"comment_id":135177390,"body_markdown":"@MarkRotteveel it&#39;s unclear, if we don&#39;t use it how can we achive IEEE 754 similar standard, like same float point operations every processor? but as experimentunit1998X said all calculations are strictly evaluated now, so I understand we have similar feature to IEEE 754 by default now","body":"@MarkRotteveel it&#39;s unclear, if we don&#39;t use it how can we achive IEEE 754 similar standard, like same float point operations every processor? but as experimentunit1998X said all calculations are strictly evaluated now, so I understand we have similar feature to IEEE 754 by default now"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1689182972,"post_id":76670233,"comment_id":135178635,"body_markdown":"`strictfp` **is** IEEE 754 behaviour, and that has now been made the default behaviour again, so you don&#39;t need to specify `strictfp` anymore to get the IEEE 754 behaviour, because since Java 17 you always get that.","body":"<code>strictfp</code> <b>is</b> IEEE 754 behaviour, and that has now been made the default behaviour again, so you don&#39;t need to specify <code>strictfp</code> anymore to get the IEEE 754 behaviour, because since Java 17 you always get that."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1689196259,"post_id":76670233,"comment_id":135180927,"body_markdown":"@felipe Prior to Java 17, on Intel systems, Java would (by default) use 80 bit **extended** precision IEEE 754 because that is what the Intel floating point unit supported; on other platforms (like ARM, and IBM Power) it would use 64 bit precision IEEE 754. `strictfp` (when it did anything at all) limited Intel systems to 64 bit precision IEEE 754. It was always IEEE 754. And it only really mattered when you needed to reconcile with a non-Intel system (and with a large number of transactions).","body":"@felipe Prior to Java 17, on Intel systems, Java would (by default) use 80 bit <b>extended</b> precision IEEE 754 because that is what the Intel floating point unit supported; on other platforms (like ARM, and IBM Power) it would use 64 bit precision IEEE 754. <code>strictfp</code> (when it did anything at all) limited Intel systems to 64 bit precision IEEE 754. It was always IEEE 754. And it only really mattered when you needed to reconcile with a non-Intel system (and with a large number of transactions)."},{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":0,"creation_date":1689266029,"post_id":76670233,"comment_id":135192626,"body_markdown":"Aside from performance, I think people used to say there was a loss of accuracy with using strictfp, in exchange for the consistency.  Does this mean that the more accurate, performant calculations are no longer available?","body":"Aside from performance, I think people used to say there was a loss of accuracy with using strictfp, in exchange for the consistency.  Does this mean that the more accurate, performant calculations are no longer available?"}],"owner":{"account_id":197015,"reputation":1212,"user_id":440803,"accept_rate":78,"display_name":"felipe"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689163168,"creation_date":1689162628,"question_id":76670233,"body_markdown":"&gt; The strictfp keyword was introduced into Java with the Java virtual machine version 1.2 and its functionality was removed in JVM version 17. As of Java 17, IEEE 754 semantics is required, thus using this keyword has no effect.\r\n\r\nBut how to achieve the same result of IEEE 754 standard? Was it simply removed from the language?","title":"what replaced strictfp in java?","body":"<blockquote>\n<p>The strictfp keyword was introduced into Java with the Java virtual machine version 1.2 and its functionality was removed in JVM version 17. As of Java 17, IEEE 754 semantics is required, thus using this keyword has no effect.</p>\n</blockquote>\n<p>But how to achieve the same result of IEEE 754 standard? Was it simply removed from the language?</p>\n"},{"tags":["java","batch-processing","websphere-liberty"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689133821,"post_id":76666994,"comment_id":135168434,"body_markdown":"Where are the API docs for the jar, is there a web URL for the version?  And does the jar require to start with a main method or is it add on , just classes?","body":"Where are the API docs for the jar, is there a web URL for the version?  And does the jar require to start with a main method or is it add on , just classes?"},{"owner":{"account_id":6895683,"reputation":233,"user_id":5297726,"accept_rate":0,"display_name":"Shankar Anand"},"score":0,"creation_date":1689137077,"post_id":76666994,"comment_id":135168785,"body_markdown":"It a jar file required to start with a main method. Want to retain as such so that i dont have to make code changes.","body":"It a jar file required to start with a main method. Want to retain as such so that i dont have to make code changes."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689137512,"post_id":76666994,"comment_id":135168838,"body_markdown":"If your organisation is standardised on using Liberty Batch Server, surely one of your colleagues can help?","body":"If your organisation is standardised on using Liberty Batch Server, surely one of your colleagues can help?"},{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1689605562,"post_id":76666994,"comment_id":135233518,"body_markdown":"Do you want to run multiple jobs per JVM instance (per server start) or just a single job (after which the JVM can exit)?","body":"Do you want to run multiple jobs per JVM instance (per server start) or just a single job (after which the JVM can exit)?"},{"owner":{"account_id":6895683,"reputation":233,"user_id":5297726,"accept_rate":0,"display_name":"Shankar Anand"},"score":0,"creation_date":1690190192,"post_id":76666994,"comment_id":135313591,"body_markdown":"Single job. Want to trigger the job from a shell script and the scheduler we have will invoke the shell script","body":"Single job. Want to trigger the job from a shell script and the scheduler we have will invoke the shell script"}],"answers":[{"tags":[],"owner":{"account_id":7631067,"reputation":419,"user_id":5786105,"display_name":"DFollis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689163129,"creation_date":1689163129,"answer_id":76670305,"question_id":76666994,"body_markdown":"Your script can use the batchManager command line utility (https://www.ibm.com/docs/en/was-liberty/core?topic=liberty-batchmanager-command-line-client-utility) to submit the job to the Liberty server indicated in the parameters you supply to the CLI.  The parameters also include the application name (leading to the .war file, so yes, .war, not .jar) and the name of the JSL file within it.  If you&#39;re on z/OS, there is also a batchManagerZos utility that does the same thing, but without requiring a userid/password since you&#39;re already authenticated to z/OS.  You could also directly use the REST interface which batchManager is driving under the covers (https://www.ibm.com/docs/en/was-liberty/core?topic=liberty-batch-rest-api).  ","title":"Deploy jar file in IBM Liberty Batch Server","body":"<p>Your script can use the batchManager command line utility (<a href=\"https://www.ibm.com/docs/en/was-liberty/core?topic=liberty-batchmanager-command-line-client-utility\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/was-liberty/core?topic=liberty-batchmanager-command-line-client-utility</a>) to submit the job to the Liberty server indicated in the parameters you supply to the CLI.  The parameters also include the application name (leading to the .war file, so yes, .war, not .jar) and the name of the JSL file within it.  If you're on z/OS, there is also a batchManagerZos utility that does the same thing, but without requiring a userid/password since you're already authenticated to z/OS.  You could also directly use the REST interface which batchManager is driving under the covers (<a href=\"https://www.ibm.com/docs/en/was-liberty/core?topic=liberty-batch-rest-api\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/was-liberty/core?topic=liberty-batch-rest-api</a>).</p>\n"}],"owner":{"account_id":6895683,"reputation":233,"user_id":5297726,"accept_rate":0,"display_name":"Shankar Anand"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689163129,"creation_date":1689132662,"question_id":76666994,"body_markdown":"What are all the artifacts (Jar, war or ear) that can be deployed in a Liberty Batch Server. I a currently running standalone jar file (triggered from a shell script). As per the standards established in my Organization, I have to move this to IBM Liberty Batch server. Do I need to convert this jar to war file to deploy or I can directly run the jar file in Liberty Batch server. If I run the jar in batch server container, how do I trigger the batch from my shell script? or i don&#39;t have to use shell script for triggering?","title":"Deploy jar file in IBM Liberty Batch Server","body":"<p>What are all the artifacts (Jar, war or ear) that can be deployed in a Liberty Batch Server. I a currently running standalone jar file (triggered from a shell script). As per the standards established in my Organization, I have to move this to IBM Liberty Batch server. Do I need to convert this jar to war file to deploy or I can directly run the jar file in Liberty Batch server. If I run the jar in batch server container, how do I trigger the batch from my shell script? or i don't have to use shell script for triggering?</p>\n"},{"tags":["java","3d","converters","gltf"],"comments":[{"owner":{"account_id":444710,"reputation":11883,"user_id":836708,"display_name":"emackey"},"score":0,"creation_date":1689173829,"post_id":76666231,"comment_id":135176677,"body_markdown":"The chunk size is an unsigned int, which is not the same as just flipping a negative value positive.  Try `long foo = dataInputStream.readInt() &amp; 0xffffffffL;` as suggested in this answer: https://stackoverflow.com/a/22938125/836708","body":"The chunk size is an unsigned int, which is not the same as just flipping a negative value positive.  Try <code>long foo = dataInputStream.readInt() &amp; 0xffffffffL;</code> as suggested in this answer: <a href=\"https://stackoverflow.com/a/22938125/836708\">stackoverflow.com/a/22938125/836708</a>"}],"owner":{"account_id":28371712,"reputation":1,"user_id":21700202,"display_name":"Rhysling"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689162390,"creation_date":1689115924,"question_id":76666231,"body_markdown":"\r\nIn order to build a file converter with gltf/glb being the starting file type, i need input the data of the glb file first. When tring to do that, I encountered a negative arry error given the fact it tried to read the JSON part of the glb file\r\n\r\n\r\n```\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport javax.swing.*;\r\nimport javax.swing.filechooser.FileNameExtensionFilter;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.io.*;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.ByteOrder;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\n```\r\n```\r\npublic class glTFConverter implements ActionListener {\r\n\r\n    private static final String[] SUPPORTED_FILE_EXTENSIONS = {&quot;gltf&quot;, &quot;glb&quot;};\r\n    private static final String[] SUPPORTED_OUTPUT_FORMATS = {&quot;obj&quot;};\r\n\r\n    private JFrame frame;\r\n    private JFileChooser fileChooser;\r\n    private JCheckBox keepOriginalCheckBox;\r\n\r\n    public glTFConverter() {\r\n        frame = new JFrame(&quot;GLTF to OBJ Converter&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(400, 200);\r\n        frame.setLayout(new FlowLayout());\r\n\r\n        fileChooser = new JFileChooser();\r\n        FileNameExtensionFilter filter = new FileNameExtensionFilter(&quot;GLTF Files&quot;, SUPPORTED_FILE_EXTENSIONS);\r\n        fileChooser.setFileFilter(filter);\r\n        fileChooser.setFileSelectionMode(JFileChooser.FILES_AND_DIRECTORIES);\r\n\r\n        JButton selectButton = new JButton(&quot;Select File or Folder&quot;);\r\n        selectButton.addActionListener(this);\r\n\r\n        keepOriginalCheckBox = new JCheckBox(&quot;Keep Original Files&quot;, true);\r\n\r\n        frame.add(selectButton);\r\n        frame.add(keepOriginalCheckBox);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getActionCommand().equals(&quot;Select File or Folder&quot;)) {\r\n            int result = fileChooser.showOpenDialog(frame);\r\n            if (result == JFileChooser.APPROVE_OPTION) {\r\n                File selectedFile = fileChooser.getSelectedFile();\r\n                if (selectedFile.isDirectory()) {\r\n                    convertFolder(selectedFile.getAbsolutePath());\r\n                } else {\r\n                    convertFile(selectedFile.getAbsolutePath());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public void convertFolder(String folderPath) {\r\n        File folder = new File(folderPath);\r\n        if (!folder.exists() || !folder.isDirectory()) {\r\n            System.out.println(&quot;Invalid folder path: &quot; + folderPath);\r\n            return;\r\n        }\r\n\r\n        File[] files = folder.listFiles();\r\n        if (files != null) {\r\n            for (File file : files) {\r\n                if (file.isFile()) {\r\n                    convertFile(file.getAbsolutePath());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public void convertFile(String filePath) {\r\n        String fileExtension = getFileExtension(filePath);\r\n        if (fileExtension != null &amp;&amp; isSupportedFileExtension(fileExtension)) {\r\n            String outputFormat = SUPPORTED_OUTPUT_FORMATS[0];\r\n            String outputFilePath = convertGLTFToOutputFormat(filePath, outputFormat);\r\n            if (outputFilePath != null) {\r\n                System.out.println(&quot;Converted file: &quot; + outputFilePath);\r\n\r\n                // Delete the original file if required\r\n                if (!keepOriginalCheckBox.isSelected()) {\r\n                    File originalFile = new File(filePath);\r\n                    originalFile.delete();\r\n                }\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Unsupported file extension: &quot; + fileExtension);\r\n        }\r\n    }\r\n\r\n    private String convertGLTFToOutputFormat(String filePath, String outputFormat) {\r\n        String fileExtension = getFileExtension(filePath);\r\n        if (fileExtension.equalsIgnoreCase(&quot;gltf&quot;)) {\r\n            if (outputFormat.equalsIgnoreCase(&quot;obj&quot;)) {\r\n                return convertGLTFToOBJ(filePath);\r\n            } else {\r\n                System.out.println(&quot;Unsupported output format: &quot; + outputFormat);\r\n            }\r\n        } else if (fileExtension.equalsIgnoreCase(&quot;glb&quot;)) {\r\n            if (outputFormat.equalsIgnoreCase(&quot;obj&quot;)) {\r\n                return convertGLBToOBJ(filePath);\r\n            } else {\r\n                System.out.println(&quot;Unsupported output format: &quot; + outputFormat);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Unsupported file extension: &quot; + fileExtension);\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n\r\n    private String convertGLBToOBJ(String glbFilePath) {\r\n        try (DataInputStream dataInputStream = new DataInputStream(new FileInputStream(glbFilePath))) {\r\n            byte[] magic = new byte[4];\r\n            dataInputStream.readFully(magic);\r\n\r\n            if (!new String(magic).equals(&quot;glTF&quot;)) {\r\n                System.out.println(&quot;Invalid GLB file format: &quot; + glbFilePath);\r\n                return null;\r\n            }\r\n\r\n            dataInputStream.skipBytes(8);\r\n            int jsonChunkLength = dataInputStream.readInt();\r\n            System.out.println(&quot;JSON Chunk Length: &quot; + jsonChunkLength);\r\n            int jsonChunkType = dataInputStream.readInt();\r\n            System.out.println(&quot;JSON Chunk Type: &quot; + jsonChunkType);\r\n\r\n            byte[] jsonChunkBytes = new byte[jsonChunkLength];\r\n            dataInputStream.readFully(jsonChunkBytes);\r\n            String jsonString = new String(jsonChunkBytes);\r\n            System.out.println(&quot;JSON String: &quot; + jsonString);\r\n\r\n            String tempGLTFFilePath = convertGLBToGLTF(glbFilePath);\r\n            if (tempGLTFFilePath != null) {\r\n                JSONObject gltfJson = readGLTFFile(tempGLTFFilePath);\r\n                if (gltfJson != null) {\r\n                    JSONArray gltfMeshes;\r\n                    if (gltfJson.has(&quot;meshes&quot;)) {\r\n                        Object meshes = gltfJson.get(&quot;meshes&quot;);\r\n                        if (meshes instanceof JSONArray) {\r\n                            gltfMeshes = (JSONArray) meshes;\r\n                        } else {\r\n                            gltfMeshes = new JSONArray().put(meshes);\r\n                        }\r\n                    } else {\r\n                        gltfMeshes = new JSONArray();\r\n                    }\r\n\r\n                    JSONArray gltfNodes;\r\n                    if (gltfJson.has(&quot;nodes&quot;)) {\r\n                        Object nodes = gltfJson.get(&quot;nodes&quot;);\r\n                        if (nodes instanceof JSONArray) {\r\n                            gltfNodes = (JSONArray) nodes;\r\n                        } else {\r\n                            gltfNodes = new JSONArray().put(nodes);\r\n                        }\r\n                    } else {\r\n                        gltfNodes = new JSONArray();\r\n                    }\r\n\r\n                    JSONObject gltfAccessors;\r\n                    if (gltfJson.has(&quot;accessors&quot;) &amp;&amp; gltfJson.get(&quot;accessors&quot;) instanceof JSONObject) {\r\n                        gltfAccessors = gltfJson.getJSONObject(&quot;accessors&quot;);\r\n                    } else {\r\n                        gltfAccessors = new JSONObject();\r\n                    }\r\n\r\n                    String objFilePath = glbFilePath.replace(&quot;.glb&quot;, &quot;.obj&quot;);\r\n                    try (FileWriter fileWriter = new FileWriter(objFilePath);\r\n                         BufferedWriter bufferedWriter = new BufferedWriter(fileWriter)) {\r\n                        bufferedWriter.write(&quot;# OBJ file&quot;);\r\n                        bufferedWriter.newLine();\r\n\r\n                        JSONArray positions = gltfAccessors.getJSONArray(&quot;POSITION&quot;);\r\n\r\n                        for (int i = 0; i &lt; positions.length(); i += 3) {\r\n                            double x = positions.getJSONArray(i).getDouble(0);\r\n                            double y = positions.getJSONArray(i + 1).getDouble(0);\r\n                            double z = positions.getJSONArray(i + 2).getDouble(0);\r\n                            bufferedWriter.write(&quot;v &quot; + x + &quot; &quot; + y + &quot; &quot; + z);\r\n                            bufferedWriter.newLine();\r\n                        }\r\n\r\n                        for (int i = 0; i &lt; gltfMeshes.length(); i++) {\r\n                            JSONObject mesh = gltfMeshes.getJSONObject(i);\r\n                            JSONArray primitives = mesh.getJSONArray(&quot;primitives&quot;);\r\n                            for (int j = 0; j &lt; primitives.length(); j++) {\r\n                                JSONObject primitive = primitives.getJSONObject(j);\r\n                                JSONObject indicesObject = primitive.getJSONObject(&quot;indices&quot;);\r\n                                JSONArray indicesArray = gltfAccessors.getJSONArray(indicesObject.getString(&quot;accessor&quot;));\r\n                                for (int k = 0; k &lt; indicesArray.length(); k += 3) {\r\n                                    int index1 = indicesArray.getJSONArray(k).getInt(0) + 1;\r\n                                    int index2 = indicesArray.getJSONArray(k + 1).getInt(0) + 1;\r\n                                    int index3 = indicesArray.getJSONArray(k + 2).getInt(0) + 1;\r\n                                    bufferedWriter.write(&quot;f &quot; + index1 + &quot; &quot; + index2 + &quot; &quot; + index3);\r\n                                    bufferedWriter.newLine();\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    return objFilePath;\r\n                }\r\n            }\r\n        } catch (EOFException e) {\r\n            System.out.println(&quot;Unexpected end of file encountered: &quot; + glbFilePath);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private JSONObject readGLTFFile(String filePath) throws IOException {\r\n        byte[] bytes = Files.readAllBytes(Paths.get(filePath));\r\n        String jsonString = new String(bytes);\r\n        try {\r\n            return new JSONObject(jsonString);\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    private String getFileExtension(String filePath) {\r\n        int dotIndex = filePath.lastIndexOf(&quot;.&quot;);\r\n        if (dotIndex &gt; 0 &amp;&amp; dotIndex &lt; filePath.length() - 1) {\r\n            return filePath.substring(dotIndex + 1).toLowerCase();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private boolean isSupportedFileExtension(String extension) {\r\n        for (String supportedExtension : SUPPORTED_FILE_EXTENSIONS) {\r\n            if (extension.equalsIgnoreCase(supportedExtension)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new glTFConverter();\r\n    }\r\n}\r\n```\r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NegativeArraySizeException\r\n\tat glTFConverter.convertGLBToOBJ(glTFConverter.java:184)\r\n\tat glTFConverter.convertGLTFToOutputFormat(glTFConverter.java:106)\r\n```\r\n\r\n```\r\nJSON Chunk Length: -133890048\r\nJSON Chunk Type: 1246973774\r\n```\r\n\r\n\r\ntried to work around that error with turning the negtive value positive and also in using a different start point when reading the JSON part of the file","title":"GLB File reader wont read GLB file","body":"<p>In order to build a file converter with gltf/glb being the starting file type, i need input the data of the glb file first. When tring to do that, I encountered a negative arry error given the fact it tried to read the JSON part of the glb file</p>\n<pre><code>import org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport javax.swing.*;\nimport javax.swing.filechooser.FileNameExtensionFilter;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.*;\nimport java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n</code></pre>\n<pre><code>public class glTFConverter implements ActionListener {\n\n    private static final String[] SUPPORTED_FILE_EXTENSIONS = {&quot;gltf&quot;, &quot;glb&quot;};\n    private static final String[] SUPPORTED_OUTPUT_FORMATS = {&quot;obj&quot;};\n\n    private JFrame frame;\n    private JFileChooser fileChooser;\n    private JCheckBox keepOriginalCheckBox;\n\n    public glTFConverter() {\n        frame = new JFrame(&quot;GLTF to OBJ Converter&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(400, 200);\n        frame.setLayout(new FlowLayout());\n\n        fileChooser = new JFileChooser();\n        FileNameExtensionFilter filter = new FileNameExtensionFilter(&quot;GLTF Files&quot;, SUPPORTED_FILE_EXTENSIONS);\n        fileChooser.setFileFilter(filter);\n        fileChooser.setFileSelectionMode(JFileChooser.FILES_AND_DIRECTORIES);\n\n        JButton selectButton = new JButton(&quot;Select File or Folder&quot;);\n        selectButton.addActionListener(this);\n\n        keepOriginalCheckBox = new JCheckBox(&quot;Keep Original Files&quot;, true);\n\n        frame.add(selectButton);\n        frame.add(keepOriginalCheckBox);\n        frame.setVisible(true);\n    }\n\n    public void actionPerformed(ActionEvent e) {\n        if (e.getActionCommand().equals(&quot;Select File or Folder&quot;)) {\n            int result = fileChooser.showOpenDialog(frame);\n            if (result == JFileChooser.APPROVE_OPTION) {\n                File selectedFile = fileChooser.getSelectedFile();\n                if (selectedFile.isDirectory()) {\n                    convertFolder(selectedFile.getAbsolutePath());\n                } else {\n                    convertFile(selectedFile.getAbsolutePath());\n                }\n            }\n        }\n    }\n\n    public void convertFolder(String folderPath) {\n        File folder = new File(folderPath);\n        if (!folder.exists() || !folder.isDirectory()) {\n            System.out.println(&quot;Invalid folder path: &quot; + folderPath);\n            return;\n        }\n\n        File[] files = folder.listFiles();\n        if (files != null) {\n            for (File file : files) {\n                if (file.isFile()) {\n                    convertFile(file.getAbsolutePath());\n                }\n            }\n        }\n    }\n\n    public void convertFile(String filePath) {\n        String fileExtension = getFileExtension(filePath);\n        if (fileExtension != null &amp;&amp; isSupportedFileExtension(fileExtension)) {\n            String outputFormat = SUPPORTED_OUTPUT_FORMATS[0];\n            String outputFilePath = convertGLTFToOutputFormat(filePath, outputFormat);\n            if (outputFilePath != null) {\n                System.out.println(&quot;Converted file: &quot; + outputFilePath);\n\n                // Delete the original file if required\n                if (!keepOriginalCheckBox.isSelected()) {\n                    File originalFile = new File(filePath);\n                    originalFile.delete();\n                }\n            }\n        } else {\n            System.out.println(&quot;Unsupported file extension: &quot; + fileExtension);\n        }\n    }\n\n    private String convertGLTFToOutputFormat(String filePath, String outputFormat) {\n        String fileExtension = getFileExtension(filePath);\n        if (fileExtension.equalsIgnoreCase(&quot;gltf&quot;)) {\n            if (outputFormat.equalsIgnoreCase(&quot;obj&quot;)) {\n                return convertGLTFToOBJ(filePath);\n            } else {\n                System.out.println(&quot;Unsupported output format: &quot; + outputFormat);\n            }\n        } else if (fileExtension.equalsIgnoreCase(&quot;glb&quot;)) {\n            if (outputFormat.equalsIgnoreCase(&quot;obj&quot;)) {\n                return convertGLBToOBJ(filePath);\n            } else {\n                System.out.println(&quot;Unsupported output format: &quot; + outputFormat);\n            }\n        } else {\n            System.out.println(&quot;Unsupported file extension: &quot; + fileExtension);\n        }\n        return null;\n    }\n\n\n\n    private String convertGLBToOBJ(String glbFilePath) {\n        try (DataInputStream dataInputStream = new DataInputStream(new FileInputStream(glbFilePath))) {\n            byte[] magic = new byte[4];\n            dataInputStream.readFully(magic);\n\n            if (!new String(magic).equals(&quot;glTF&quot;)) {\n                System.out.println(&quot;Invalid GLB file format: &quot; + glbFilePath);\n                return null;\n            }\n\n            dataInputStream.skipBytes(8);\n            int jsonChunkLength = dataInputStream.readInt();\n            System.out.println(&quot;JSON Chunk Length: &quot; + jsonChunkLength);\n            int jsonChunkType = dataInputStream.readInt();\n            System.out.println(&quot;JSON Chunk Type: &quot; + jsonChunkType);\n\n            byte[] jsonChunkBytes = new byte[jsonChunkLength];\n            dataInputStream.readFully(jsonChunkBytes);\n            String jsonString = new String(jsonChunkBytes);\n            System.out.println(&quot;JSON String: &quot; + jsonString);\n\n            String tempGLTFFilePath = convertGLBToGLTF(glbFilePath);\n            if (tempGLTFFilePath != null) {\n                JSONObject gltfJson = readGLTFFile(tempGLTFFilePath);\n                if (gltfJson != null) {\n                    JSONArray gltfMeshes;\n                    if (gltfJson.has(&quot;meshes&quot;)) {\n                        Object meshes = gltfJson.get(&quot;meshes&quot;);\n                        if (meshes instanceof JSONArray) {\n                            gltfMeshes = (JSONArray) meshes;\n                        } else {\n                            gltfMeshes = new JSONArray().put(meshes);\n                        }\n                    } else {\n                        gltfMeshes = new JSONArray();\n                    }\n\n                    JSONArray gltfNodes;\n                    if (gltfJson.has(&quot;nodes&quot;)) {\n                        Object nodes = gltfJson.get(&quot;nodes&quot;);\n                        if (nodes instanceof JSONArray) {\n                            gltfNodes = (JSONArray) nodes;\n                        } else {\n                            gltfNodes = new JSONArray().put(nodes);\n                        }\n                    } else {\n                        gltfNodes = new JSONArray();\n                    }\n\n                    JSONObject gltfAccessors;\n                    if (gltfJson.has(&quot;accessors&quot;) &amp;&amp; gltfJson.get(&quot;accessors&quot;) instanceof JSONObject) {\n                        gltfAccessors = gltfJson.getJSONObject(&quot;accessors&quot;);\n                    } else {\n                        gltfAccessors = new JSONObject();\n                    }\n\n                    String objFilePath = glbFilePath.replace(&quot;.glb&quot;, &quot;.obj&quot;);\n                    try (FileWriter fileWriter = new FileWriter(objFilePath);\n                         BufferedWriter bufferedWriter = new BufferedWriter(fileWriter)) {\n                        bufferedWriter.write(&quot;# OBJ file&quot;);\n                        bufferedWriter.newLine();\n\n                        JSONArray positions = gltfAccessors.getJSONArray(&quot;POSITION&quot;);\n\n                        for (int i = 0; i &lt; positions.length(); i += 3) {\n                            double x = positions.getJSONArray(i).getDouble(0);\n                            double y = positions.getJSONArray(i + 1).getDouble(0);\n                            double z = positions.getJSONArray(i + 2).getDouble(0);\n                            bufferedWriter.write(&quot;v &quot; + x + &quot; &quot; + y + &quot; &quot; + z);\n                            bufferedWriter.newLine();\n                        }\n\n                        for (int i = 0; i &lt; gltfMeshes.length(); i++) {\n                            JSONObject mesh = gltfMeshes.getJSONObject(i);\n                            JSONArray primitives = mesh.getJSONArray(&quot;primitives&quot;);\n                            for (int j = 0; j &lt; primitives.length(); j++) {\n                                JSONObject primitive = primitives.getJSONObject(j);\n                                JSONObject indicesObject = primitive.getJSONObject(&quot;indices&quot;);\n                                JSONArray indicesArray = gltfAccessors.getJSONArray(indicesObject.getString(&quot;accessor&quot;));\n                                for (int k = 0; k &lt; indicesArray.length(); k += 3) {\n                                    int index1 = indicesArray.getJSONArray(k).getInt(0) + 1;\n                                    int index2 = indicesArray.getJSONArray(k + 1).getInt(0) + 1;\n                                    int index3 = indicesArray.getJSONArray(k + 2).getInt(0) + 1;\n                                    bufferedWriter.write(&quot;f &quot; + index1 + &quot; &quot; + index2 + &quot; &quot; + index3);\n                                    bufferedWriter.newLine();\n                                }\n                            }\n                        }\n                    }\n                    return objFilePath;\n                }\n            }\n        } catch (EOFException e) {\n            System.out.println(&quot;Unexpected end of file encountered: &quot; + glbFilePath);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n\n\n\n\n\n    private JSONObject readGLTFFile(String filePath) throws IOException {\n        byte[] bytes = Files.readAllBytes(Paths.get(filePath));\n        String jsonString = new String(bytes);\n        try {\n            return new JSONObject(jsonString);\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n\n    private String getFileExtension(String filePath) {\n        int dotIndex = filePath.lastIndexOf(&quot;.&quot;);\n        if (dotIndex &gt; 0 &amp;&amp; dotIndex &lt; filePath.length() - 1) {\n            return filePath.substring(dotIndex + 1).toLowerCase();\n        }\n        return null;\n    }\n\n    private boolean isSupportedFileExtension(String extension) {\n        for (String supportedExtension : SUPPORTED_FILE_EXTENSIONS) {\n            if (extension.equalsIgnoreCase(supportedExtension)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public static void main(String[] args) {\n        new glTFConverter();\n    }\n}\n</code></pre>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NegativeArraySizeException\n    at glTFConverter.convertGLBToOBJ(glTFConverter.java:184)\n    at glTFConverter.convertGLTFToOutputFormat(glTFConverter.java:106)\n</code></pre>\n<pre><code>JSON Chunk Length: -133890048\nJSON Chunk Type: 1246973774\n</code></pre>\n<p>tried to work around that error with turning the negtive value positive and also in using a different start point when reading the JSON part of the file</p>\n"},{"tags":["java","docker","tomcat","kubernetes"],"comments":[{"owner":{"account_id":3220587,"reputation":10783,"user_id":2718151,"accept_rate":50,"display_name":"Nicola Ben"},"score":0,"creation_date":1535208059,"post_id":52011947,"comment_id":90986833,"body_markdown":"Please post some of your YAML files.","body":"Please post some of your YAML files."},{"owner":{"account_id":10732605,"reputation":149,"user_id":7898224,"display_name":"Revanth Reddy"},"score":0,"creation_date":1535230180,"post_id":52011947,"comment_id":90992648,"body_markdown":"sure @NicolaBen . please find the deployment section of my manifests below.","body":"sure @NicolaBen . please find the deployment section of my manifests below."},{"owner":{"account_id":3220587,"reputation":10783,"user_id":2718151,"accept_rate":50,"display_name":"Nicola Ben"},"score":0,"creation_date":1535230263,"post_id":52011947,"comment_id":90992671,"body_markdown":"Re-edit your question adding your YAML manifests, please.","body":"Re-edit your question adding your YAML manifests, please."},{"owner":{"account_id":3220587,"reputation":10783,"user_id":2718151,"accept_rate":50,"display_name":"Nicola Ben"},"score":0,"creation_date":1535231107,"post_id":52011947,"comment_id":90992837,"body_markdown":"You declared 3 volumes, but you don&#39;t use them. Is your yaml complete? The tomcat image is public or in your repos?","body":"You declared 3 volumes, but you don&#39;t use them. Is your yaml complete? The tomcat image is public or in your repos?"},{"owner":{"account_id":10732605,"reputation":149,"user_id":7898224,"display_name":"Revanth Reddy"},"score":0,"creation_date":1535260617,"post_id":52011947,"comment_id":90997108,"body_markdown":"there is another container(splunk forwarder) that is using the remaining volumes. the tomcat image i am using is from my organization&#39;s private repo.","body":"there is another container(splunk forwarder) that is using the remaining volumes. the tomcat image i am using is from my organization&#39;s private repo."},{"owner":{"account_id":467927,"reputation":4327,"user_id":873601,"accept_rate":89,"display_name":"Vishal Biyani"},"score":0,"creation_date":1535363375,"post_id":52011947,"comment_id":91023463,"body_markdown":"What specifically happens differently in your case when Tomcat shuts down abruptly?","body":"What specifically happens differently in your case when Tomcat shuts down abruptly?"}],"answers":[{"tags":[],"owner":{"account_id":10732605,"reputation":149,"user_id":7898224,"display_name":"Revanth Reddy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1671636080,"creation_date":1535230330,"answer_id":52021132,"question_id":52011947,"body_markdown":"found the issue: \r\n\r\nI was running this prestop lifecycle hook: \r\n\r\nlifecycle:\r\n          preStop:\r\n            exec:\r\n             command: [&quot;/usr/local/tomcat/bin/catalina.sh stop&quot;]\r\n\r\n\r\nIt should be something like: \r\n\r\nlifecycle:\r\n          preStop:\r\n            exec:\r\n             command: [&quot;/usr/local/tomcat/bin/catalina.sh stop &amp;&amp; sleep 30&quot;]\r\n\r\nIn the first case, K8s was attempting to exit out of the lifecycle hook as soon as it invokes the shutdown.sh without waiting for tomcat to drain all threads. \r\n\r\n\r\nit just takes about 5-10 secs depending upon your app. giving a sleep of 30 secs will keep the prestop hook active which should give enough time for tomcat to finish the shutdown process&quot; . ","title":"Graceful shutdown of tomcat on a kubernetes cluster","body":"<p>found the issue:</p>\n<p>I was running this prestop lifecycle hook:</p>\n<p>lifecycle:\npreStop:\nexec:\ncommand: [&quot;/usr/local/tomcat/bin/catalina.sh stop&quot;]</p>\n<p>It should be something like:</p>\n<p>lifecycle:\npreStop:\nexec:\ncommand: [&quot;/usr/local/tomcat/bin/catalina.sh stop &amp;&amp; sleep 30&quot;]</p>\n<p>In the first case, K8s was attempting to exit out of the lifecycle hook as soon as it invokes the shutdown.sh without waiting for tomcat to drain all threads.</p>\n<p>it just takes about 5-10 secs depending upon your app. giving a sleep of 30 secs will keep the prestop hook active which should give enough time for tomcat to finish the shutdown process&quot; .</p>\n"},{"tags":[],"owner":{"account_id":4474415,"reputation":1971,"user_id":3639856,"display_name":"Remigius Stalder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671693783,"creation_date":1671693783,"answer_id":74885255,"question_id":52011947,"body_markdown":"As of 2022, we tried adding the given command `/usr/local/tomcat/bin/catalina.sh stop &amp;&amp; sleep 30` as our preStop hook. However, we endountered a `FailedPreStopHook` event displaying `exited with 137` (137 seems to be a memory error). After a few experiments, we have now the following setup to shutdown `tomcat` gracefully (see explanations below):\r\n\r\n1. `terminationGracePeriodSeconds`set to 30s (the default - just *pro memoria*)\r\n1. preStop hook is `/usr/local/tomcat/bin/catalina.sh stop 20`\r\n1. in the `tomcat` image, we added `unloadDelay=&quot;10000&quot;` to the `Context`\r\n\r\nAs the grace period starts when the preStop hook is invoked, we think 30s total should be enough for a graceful shutdown. The parameter `20` added to the `catalina stop` command gives `tomcat` 20s to shutdown gracefully and *wait for it* before exiting - under the control of `catalina.sh` / `tomcat`, which avoids the `FailedPreStopHook` event. Finally, the added `unloadDelay=&quot;10000&quot;` should tell tomcat to wait at most 30s for the servlets to finish ongoing connections. Note that a) at the same time the preStop hook is invoked (i.e. the beginning of the termination process), the Pod status is set to `Terminating` and no more new connections are routed to it by ingresses / load balancers, and b) the preStop hook delays sending the `SIGTERM` to the process in then pod.\r\n\r\nHere are some more resources we encountered:\r\n\r\n* https://www.containiq.com/post/exit-code-137#:~:text=Exit%20code%20137%20means%20a,host%20system%20to%20become%20unstable.\r\n* https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/#container-hooks\r\n* https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#pod-termination\r\n* http://muralitechblog.com/kubernetes-graceful-shutdown-of-pods/\r\n* https://stackoverflow.com/questions/11154533/what-happens-to-requests-when-tomcat-stops/11154770#11154770\r\n* https://tomcat.apache.org/tomcat-10.1-doc/config/context.html#:~:text=will%20be%20used.-,unloadDelay,-Number%20of%20ms\r\n* https://tomcat.apache.org/tomcat-10.1-doc/api/org/apache/catalina/startup/Catalina.html\r\n\r\nfor a slightly more detailed explanation of the parameters for `catalina.sh`, you can also just invoke `catalina.sh --help`, giving:\r\n\r\n    /usr/local/apache-tomcat-10.0.22 # catalina.sh --help\r\n    Using CATALINA_BASE:   /usr/local/tomcat\r\n    Using CATALINA_HOME:   /usr/local/tomcat\r\n    Using CATALINA_TMPDIR: /usr/local/tomcat/temp\r\n    Using JRE_HOME:        /opt/java/openjdk\r\n    Using CLASSPATH:       /usr/local/tomcat/bin/bootstrap.jar:/usr/local/tomcat/bin/tomcat-juli.jar\r\n    Using CATALINA_OPTS:   \r\n    Usage: catalina.sh ( commands ... )\r\n    commands:\r\n      debug             Start Catalina in a debugger\r\n      debug -security   Debug Catalina with a security manager\r\n      jpda start        Start Catalina under JPDA debugger\r\n      run               Start Catalina in the current window\r\n      run -security     Start in the current window with security manager\r\n      start             Start Catalina in a separate window\r\n      start -security   Start in a separate window with security manager\r\n      stop              Stop Catalina, waiting up to 5 seconds for the process to end\r\n      stop n            Stop Catalina, waiting up to n seconds for the process to end\r\n      stop -force       Stop Catalina, wait up to 5 seconds and then use kill -KILL if still running\r\n      stop n -force     Stop Catalina, wait up to n seconds and then use kill -KILL if still running\r\n      configtest        Run a basic syntax check on server.xml - check exit code for result\r\n      version           What version of tomcat are you running?\r\n    Note: Waiting for the process to end and use of the -force option require that $CATALINA_PID is defined","title":"Graceful shutdown of tomcat on a kubernetes cluster","body":"<p>As of 2022, we tried adding the given command <code>/usr/local/tomcat/bin/catalina.sh stop &amp;&amp; sleep 30</code> as our preStop hook. However, we endountered a <code>FailedPreStopHook</code> event displaying <code>exited with 137</code> (137 seems to be a memory error). After a few experiments, we have now the following setup to shutdown <code>tomcat</code> gracefully (see explanations below):</p>\n<ol>\n<li><code>terminationGracePeriodSeconds</code>set to 30s (the default - just <em>pro memoria</em>)</li>\n<li>preStop hook is <code>/usr/local/tomcat/bin/catalina.sh stop 20</code></li>\n<li>in the <code>tomcat</code> image, we added <code>unloadDelay=&quot;10000&quot;</code> to the <code>Context</code></li>\n</ol>\n<p>As the grace period starts when the preStop hook is invoked, we think 30s total should be enough for a graceful shutdown. The parameter <code>20</code> added to the <code>catalina stop</code> command gives <code>tomcat</code> 20s to shutdown gracefully and <em>wait for it</em> before exiting - under the control of <code>catalina.sh</code> / <code>tomcat</code>, which avoids the <code>FailedPreStopHook</code> event. Finally, the added <code>unloadDelay=&quot;10000&quot;</code> should tell tomcat to wait at most 30s for the servlets to finish ongoing connections. Note that a) at the same time the preStop hook is invoked (i.e. the beginning of the termination process), the Pod status is set to <code>Terminating</code> and no more new connections are routed to it by ingresses / load balancers, and b) the preStop hook delays sending the <code>SIGTERM</code> to the process in then pod.</p>\n<p>Here are some more resources we encountered:</p>\n<ul>\n<li><a href=\"https://www.containiq.com/post/exit-code-137#:%7E:text=Exit%20code%20137%20means%20a,host%20system%20to%20become%20unstable\" rel=\"nofollow noreferrer\">https://www.containiq.com/post/exit-code-137#:~:text=Exit%20code%20137%20means%20a,host%20system%20to%20become%20unstable</a>.</li>\n<li><a href=\"https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/#container-hooks\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/#container-hooks</a></li>\n<li><a href=\"https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#pod-termination\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#pod-termination</a></li>\n<li><a href=\"http://muralitechblog.com/kubernetes-graceful-shutdown-of-pods/\" rel=\"nofollow noreferrer\">http://muralitechblog.com/kubernetes-graceful-shutdown-of-pods/</a></li>\n<li><a href=\"https://stackoverflow.com/questions/11154533/what-happens-to-requests-when-tomcat-stops/11154770#11154770\">What happens to requests when tomcat stops</a></li>\n<li><a href=\"https://tomcat.apache.org/tomcat-10.1-doc/config/context.html#:%7E:text=will%20be%20used.-,unloadDelay,-Number%20of%20ms\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-10.1-doc/config/context.html#:~:text=will%20be%20used.-,unloadDelay,-Number%20of%20ms</a></li>\n<li><a href=\"https://tomcat.apache.org/tomcat-10.1-doc/api/org/apache/catalina/startup/Catalina.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-10.1-doc/api/org/apache/catalina/startup/Catalina.html</a></li>\n</ul>\n<p>for a slightly more detailed explanation of the parameters for <code>catalina.sh</code>, you can also just invoke <code>catalina.sh --help</code>, giving:</p>\n<pre><code>/usr/local/apache-tomcat-10.0.22 # catalina.sh --help\nUsing CATALINA_BASE:   /usr/local/tomcat\nUsing CATALINA_HOME:   /usr/local/tomcat\nUsing CATALINA_TMPDIR: /usr/local/tomcat/temp\nUsing JRE_HOME:        /opt/java/openjdk\nUsing CLASSPATH:       /usr/local/tomcat/bin/bootstrap.jar:/usr/local/tomcat/bin/tomcat-juli.jar\nUsing CATALINA_OPTS:   \nUsage: catalina.sh ( commands ... )\ncommands:\n  debug             Start Catalina in a debugger\n  debug -security   Debug Catalina with a security manager\n  jpda start        Start Catalina under JPDA debugger\n  run               Start Catalina in the current window\n  run -security     Start in the current window with security manager\n  start             Start Catalina in a separate window\n  start -security   Start in a separate window with security manager\n  stop              Stop Catalina, waiting up to 5 seconds for the process to end\n  stop n            Stop Catalina, waiting up to n seconds for the process to end\n  stop -force       Stop Catalina, wait up to 5 seconds and then use kill -KILL if still running\n  stop n -force     Stop Catalina, wait up to n seconds and then use kill -KILL if still running\n  configtest        Run a basic syntax check on server.xml - check exit code for result\n  version           What version of tomcat are you running?\nNote: Waiting for the process to end and use of the -force option require that $CATALINA_PID is defined\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8349329,"reputation":86,"user_id":6272055,"display_name":"Saul Ramos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689162027,"creation_date":1689162027,"answer_id":76670153,"question_id":52011947,"body_markdown":"I have tried the above but I did not get any result.\r\n\r\nAfter lots of researching I have stepped in my way with this tool which it has ended up working really well.\r\n\r\n[https://github.com/Yelp/dumb-init#dumb-init][1]\r\n\r\nI hope that helps!!\r\n\r\n\r\n  [1]: https://github.com/Yelp/dumb-init#dumb-init","title":"Graceful shutdown of tomcat on a kubernetes cluster","body":"<p>I have tried the above but I did not get any result.</p>\n<p>After lots of researching I have stepped in my way with this tool which it has ended up working really well.</p>\n<p><a href=\"https://github.com/Yelp/dumb-init#dumb-init\" rel=\"nofollow noreferrer\">https://github.com/Yelp/dumb-init#dumb-init</a></p>\n<p>I hope that helps!!</p>\n"}],"owner":{"account_id":10732605,"reputation":149,"user_id":7898224,"display_name":"Revanth Reddy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4818,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":52021132,"answer_count":3,"score":4,"last_activity_date":1689162027,"creation_date":1535146067,"question_id":52011947,"body_markdown":"I am running a java application on tomcat in a k8s cluster, I am using a prestop lifecycle hook to run `/usr/local/tomcat/bin/shutdown.sh` before the container gets terminated. Also defining a termination grace period of 60 secs. \r\n\r\nexpected behaviour: tomcat shutsdown gracefully when I kill a pod or delete a deployment. \r\n\r\nactual behaviour: tomcat shutsdown abruptly.\r\n\r\nAny thoughts? Thanks in advance. \r\n\r\n    \r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    metadata:\r\n      name: sample\r\n      annotations:\r\n    spec:\r\n      replicas: 2\r\n      selector:\r\n        matchLabels:\r\n          app: sample\r\n          name: sample\r\n      template:\r\n        metadata:\r\n          labels:\r\n            app: sample\r\n            name: sample\r\n        spec:\r\n          hostname: sample-web\r\n          terminationGracePeriodSeconds: 60\r\n          volumes:\r\n           - name: splunk-inputs\r\n             configMap:\r\n               name: splunk-conf\r\n               items:\r\n               - key: inputs.conf\r\n                 path: ./inputs.conf\r\n           - name: splunk-outputs\r\n             configMap:\r\n               name: splunk-conf\r\n               items:\r\n               - key: outputs.conf\r\n                 path: ./outputs.conf\r\n           - name: docker-socket\r\n             hostPath:\r\n              path: /var/run/docker.sock\r\n           - name: tomcat-log-common\r\n             emptyDir: {} \r\n          containers:\r\n          - name: sample\r\n            image: sampleregistery.azurecr.io/root\r\n            imagePullPolicy: IfNotPresent\r\n            lifecycle:\r\n              preStop:\r\n                exec:\r\n                  command: [&quot;/usr/local/tomcat/bin/shutdown.sh&quot;]","title":"Graceful shutdown of tomcat on a kubernetes cluster","body":"<p>I am running a java application on tomcat in a k8s cluster, I am using a prestop lifecycle hook to run <code>/usr/local/tomcat/bin/shutdown.sh</code> before the container gets terminated. Also defining a termination grace period of 60 secs. </p>\n\n<p>expected behaviour: tomcat shutsdown gracefully when I kill a pod or delete a deployment. </p>\n\n<p>actual behaviour: tomcat shutsdown abruptly.</p>\n\n<p>Any thoughts? Thanks in advance. </p>\n\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: sample\n  annotations:\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: sample\n      name: sample\n  template:\n    metadata:\n      labels:\n        app: sample\n        name: sample\n    spec:\n      hostname: sample-web\n      terminationGracePeriodSeconds: 60\n      volumes:\n       - name: splunk-inputs\n         configMap:\n           name: splunk-conf\n           items:\n           - key: inputs.conf\n             path: ./inputs.conf\n       - name: splunk-outputs\n         configMap:\n           name: splunk-conf\n           items:\n           - key: outputs.conf\n             path: ./outputs.conf\n       - name: docker-socket\n         hostPath:\n          path: /var/run/docker.sock\n       - name: tomcat-log-common\n         emptyDir: {} \n      containers:\n      - name: sample\n        image: sampleregistery.azurecr.io/root\n        imagePullPolicy: IfNotPresent\n        lifecycle:\n          preStop:\n            exec:\n              command: [\"/usr/local/tomcat/bin/shutdown.sh\"]\n</code></pre>\n"},{"tags":["java","memory","heap-dump","eclipse-memory-analyzer","eclipse-mat"],"owner":{"account_id":29002060,"reputation":1,"user_id":22215432,"display_name":"Yanle Wei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689162011,"creation_date":1689162011,"question_id":76670150,"body_markdown":"I&#39;m using batch mode to analyze an hprof file, but I&#39;m encountering an issue. I am using JDK 8, MAT version 1.11.0 (I have downloaded versions 1.12.0 and later, but they indicate that JDK 8 is not supported), and I am on macOS (Intel).\r\n\r\nInitially, MAT reported an error saying &quot;Failed to create the Java Virtual Machine&quot;. I added the JDK path to the MemoryAnalyzer.ini file, which allowed it to open successfully. It works fine when I use the GUI to analyze dump files.\r\n\r\nHowever, what I actually need is to use the batch mode. I copied &quot;ParseHeapDump.sh&quot; to &quot;mat.app/Contents/MacOS/&quot; and ran the commands mentioned in the documentation at https://help.eclipse.org/2023-03/index.jsp?topic=/org.eclipse.mat.ui.help/tasks/batch.html. When I use &quot;org.eclipse.mat.api:suspects&quot; or &quot;org.eclipse.mat.api:overview,&quot; the output shows that I&#39;m stuck at the subtask &quot;Test &#39;Biggest Objects (Overview)&#39; of section &#39;Top Consumers&#39;&quot;. Similarly, when I use &quot;org.eclipse.mat.api:top_components,&quot; it gets stuck at the subtask &quot;Test &#39;Distribution&#39; of section &#39;Overview&#39;&quot;. The process cannot be interrupted by Ctrl+C, and I have to kill it or quit the app.\r\n\r\nFurthermore, when I use &quot;org.eclipse.mat.api:query,&quot; it runs successfully, but I cannot find the retained size in the result. Therefore, I need to find a way to run the aforementioned commands.\r\n\r\nAdditionally, the size of the dump file is less than 10MB, so it does not seem to be a memory size issue.\r\n\r\nCould you please help me solve this problem? Thank you!","title":"Using eclipse Memory Analyzer(MAT) in batch mode and stuck at a subtask","body":"<p>I'm using batch mode to analyze an hprof file, but I'm encountering an issue. I am using JDK 8, MAT version 1.11.0 (I have downloaded versions 1.12.0 and later, but they indicate that JDK 8 is not supported), and I am on macOS (Intel).</p>\n<p>Initially, MAT reported an error saying &quot;Failed to create the Java Virtual Machine&quot;. I added the JDK path to the MemoryAnalyzer.ini file, which allowed it to open successfully. It works fine when I use the GUI to analyze dump files.</p>\n<p>However, what I actually need is to use the batch mode. I copied &quot;ParseHeapDump.sh&quot; to &quot;mat.app/Contents/MacOS/&quot; and ran the commands mentioned in the documentation at <a href=\"https://help.eclipse.org/2023-03/index.jsp?topic=/org.eclipse.mat.ui.help/tasks/batch.html\" rel=\"nofollow noreferrer\">https://help.eclipse.org/2023-03/index.jsp?topic=/org.eclipse.mat.ui.help/tasks/batch.html</a>. When I use &quot;org.eclipse.mat.api:suspects&quot; or &quot;org.eclipse.mat.api:overview,&quot; the output shows that I'm stuck at the subtask &quot;Test 'Biggest Objects (Overview)' of section 'Top Consumers'&quot;. Similarly, when I use &quot;org.eclipse.mat.api:top_components,&quot; it gets stuck at the subtask &quot;Test 'Distribution' of section 'Overview'&quot;. The process cannot be interrupted by Ctrl+C, and I have to kill it or quit the app.</p>\n<p>Furthermore, when I use &quot;org.eclipse.mat.api:query,&quot; it runs successfully, but I cannot find the retained size in the result. Therefore, I need to find a way to run the aforementioned commands.</p>\n<p>Additionally, the size of the dump file is less than 10MB, so it does not seem to be a memory size issue.</p>\n<p>Could you please help me solve this problem? Thank you!</p>\n"},{"tags":["java","android"],"owner":{"account_id":26267089,"reputation":49,"user_id":19937474,"display_name":"viswareddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689161523,"creation_date":1689161523,"question_id":76670081,"body_markdown":"i want to save all recycler view item views from the activity. after Changning modifications. but here only coming those those views are visible. but I want for all item views which not currently showing also   \r\n\r\nThis is my adapter class \r\n\r\n```\r\npublic class MultifitRecyclerViewAdapter extends RecyclerView.Adapter&lt;MultifitRecyclerViewAdapter.ViewHolder&gt; {\r\n    ArrayList&lt;Bitmap&gt; selectedBitmaps;\r\n    Context context;\r\n\r\n    String selectedFilterConfig;\r\n\r\n    String selectedAdjustConfig;\r\n    private float mScaleSize;\r\n    private ArrayList&lt;Bitmap&gt; backgroundImgList;\r\n    int height;\r\n    boolean isRatio;\r\n    int ratioWidth;\r\n    int ratioHeight;\r\n\r\n    public MultifitRecyclerViewAdapter(ArrayList&lt;Bitmap&gt; selectedBitmaps, Context context, float mScaleSize, ArrayList&lt;Bitmap&gt; backgroundImgList) {\r\n        this.selectedBitmaps = selectedBitmaps;\r\n        this.context = context;\r\n        this.mScaleSize = mScaleSize;\r\n        this.backgroundImgList = backgroundImgList;\r\n        this.selectedAdjustConfig = &quot;&quot;;\r\n        this.selectedFilterConfig = &quot;&quot;;\r\n        isRatio = false;\r\n        this.height = 985;\r\n    }\r\n\r\n    public void setSelectedBitmaps(ArrayList&lt;Bitmap&gt; selectedBitmaps) {\r\n        this.selectedBitmaps = selectedBitmaps;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    public void setmScaleSize(float mScaleSize) {\r\n        this.mScaleSize = mScaleSize;\r\n    }\r\n\r\n    public void setRatio(boolean isRatio) {\r\n        this.isRatio = isRatio;\r\n    }\r\n\r\n    public void setRatioWidth(int ratioWidth) {\r\n        this.ratioWidth = ratioWidth;\r\n    }\r\n\r\n    public int getRatioWidth() {\r\n        return ratioWidth;\r\n    }\r\n\r\n    public void setRatioHeight(int ratioHeight) {\r\n        this.ratioHeight = ratioHeight;\r\n    }\r\n\r\n    public int getRatioHeight() {\r\n        return ratioHeight;\r\n    }\r\n\r\n    public void setBackgroundImgList(ArrayList&lt;Bitmap&gt; backgroundImgList) {\r\n        this.backgroundImgList = backgroundImgList;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MultifitRecyclerViewAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.multifit_item, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n            holder.ivCover.setImageBitmap(this.selectedBitmaps.get(position));\r\n\r\n                    holder.ivFrame.setImageBitmap(backgroundImgList.get(position));\r\n\r\n            holder.ivCover.setScaleX(mScaleSize);\r\n            holder.ivCover.setScaleY(mScaleSize);\r\n        if (isRatio) {\r\n            height = holder.cRatio.getHeight();\r\n            holder.cWrapper.setLayoutParams(new ConstraintLayout.LayoutParams(ratioWidth, ratioHeight));\r\n            ViewGroup.LayoutParams layoutParams = holder.ivCover.getLayoutParams();\r\n            layoutParams.width = ratioWidth;\r\n            layoutParams.height = ratioHeight;\r\n            holder.ivCover.setLayoutParams(layoutParams);\r\n            ConstraintSet constraintSet = new ConstraintSet();\r\n            constraintSet.clone(holder.cRatio);\r\n            constraintSet.connect(holder.cWrapper.getId(), 3, holder.cRatio.getId(), 3, 0);\r\n            constraintSet.connect(holder.cWrapper.getId(), 1, holder.cRatio.getId(), 1, 0);\r\n            constraintSet.connect(holder.cWrapper.getId(), 4, holder.cRatio.getId(), 4, 0);\r\n            constraintSet.connect(holder.cWrapper.getId(), 2, holder.cRatio.getId(), 2, 0);\r\n            constraintSet.applyTo(holder.cRatio);\r\n        }\r\n\r\n    }\r\n\r\n    public int getHeight() {\r\n        return height;\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return selectedBitmaps.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        public PhotoEditorView pvEditor;\r\n        RectangularLayout rectangularLayout;\r\n        public ImageView ivFrame, ivCover;\r\n        public ConstraintLayout cRatio;\r\n        public FrameLayout cWrapper;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            pvEditor = itemView.findViewById(R.id.photo_editor_view);\r\n            ivFrame = itemView.findViewById(R.id.ivFrame);\r\n            ivCover = itemView.findViewById(R.id.ivCover);\r\n            cRatio = itemView.findViewById(R.id.cRatio);\r\n            cWrapper = itemView.findViewById(R.id.frame_layout_wrapper);\r\n            rectangularLayout = itemView.findViewById(R.id.relative_layout_wrapper_photo);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand then im taking view from adapter like this and saving them in gallery like this \r\n\r\n```\r\n    class SaveBitmap extends AsyncTask&lt;Void, String, List&lt;String&gt;&gt; {\r\n\r\n        SaveBitmap() {\r\n\r\n        }\r\n\r\n        public void onPreExecute() {\r\n            // customLoader.hide();\r\n            //  customLoader.show();\r\n        }\r\n\r\n        public List&lt;String&gt; doInBackground(Void... voids) {\r\n            List&lt;String&gt; filePaths = new ArrayList&lt;&gt;();\r\n\r\n            for (int i = 0; i &lt; multifitRecyclerViewAdapter.getItemCount(); i++) {\r\n                MultifitRecyclerViewAdapter.ViewHolder holder = (MultifitRecyclerViewAdapter.ViewHolder) multiFitRecyclerView.findViewHolderForAdapterPosition(i);\r\n                if (holder != null) {\r\n                    Bitmap bitmap1 = Bitmap.createBitmap(holder.pvEditor.getWidth(), holder.pvEditor.getHeight(), Bitmap.Config.ARGB_8888);\r\n                    Canvas canvas = new Canvas(bitmap1);\r\n                    holder.pvEditor.draw(canvas);\r\n\r\n                    try {\r\n                        String filename = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;, Locale.ENGLISH).format(new Date());\r\n                        File file = SaveFileUtils.saveBitmapFileRemoveBg(MultifitActivity.this, bitmap1, filename, null);\r\n                        if (file != null) {\r\n                            filePaths.add(file.getAbsolutePath());\r\n                        }\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n\r\n            return filePaths;\r\n        }\r\n\r\n        public void onPostExecute(List&lt;String&gt; filePaths) {\r\n            // customLoader.hide();\r\n            if (filePaths == null || filePaths.isEmpty()) {\r\n                Toast.makeText(getApplicationContext(), R.string.went_wrong, Toast.LENGTH_LONG).show();\r\n                return;\r\n            }\r\n            Intent i = new Intent(MultifitActivity.this, MultiShareActivity.class);\r\n            i.putStringArrayListExtra(&quot;path&quot;, (ArrayList&lt;String&gt;) filePaths);\r\n            startActivity(i);\r\n            AdsManager.showAdmobInterstitialAd(MultifitActivity.this, &quot;PhotoEditor&quot;);\r\n        }\r\n\r\n    }\r\n```\r\nhere i want save all items from reyclcerview item views but it saving only two images which showing.\r\n","title":"How to get all recylerview item views in activity?","body":"<p>i want to save all recycler view item views from the activity. after Changning modifications. but here only coming those those views are visible. but I want for all item views which not currently showing also</p>\n<p>This is my adapter class</p>\n<pre><code>public class MultifitRecyclerViewAdapter extends RecyclerView.Adapter&lt;MultifitRecyclerViewAdapter.ViewHolder&gt; {\n    ArrayList&lt;Bitmap&gt; selectedBitmaps;\n    Context context;\n\n    String selectedFilterConfig;\n\n    String selectedAdjustConfig;\n    private float mScaleSize;\n    private ArrayList&lt;Bitmap&gt; backgroundImgList;\n    int height;\n    boolean isRatio;\n    int ratioWidth;\n    int ratioHeight;\n\n    public MultifitRecyclerViewAdapter(ArrayList&lt;Bitmap&gt; selectedBitmaps, Context context, float mScaleSize, ArrayList&lt;Bitmap&gt; backgroundImgList) {\n        this.selectedBitmaps = selectedBitmaps;\n        this.context = context;\n        this.mScaleSize = mScaleSize;\n        this.backgroundImgList = backgroundImgList;\n        this.selectedAdjustConfig = &quot;&quot;;\n        this.selectedFilterConfig = &quot;&quot;;\n        isRatio = false;\n        this.height = 985;\n    }\n\n    public void setSelectedBitmaps(ArrayList&lt;Bitmap&gt; selectedBitmaps) {\n        this.selectedBitmaps = selectedBitmaps;\n        notifyDataSetChanged();\n    }\n\n    public void setmScaleSize(float mScaleSize) {\n        this.mScaleSize = mScaleSize;\n    }\n\n    public void setRatio(boolean isRatio) {\n        this.isRatio = isRatio;\n    }\n\n    public void setRatioWidth(int ratioWidth) {\n        this.ratioWidth = ratioWidth;\n    }\n\n    public int getRatioWidth() {\n        return ratioWidth;\n    }\n\n    public void setRatioHeight(int ratioHeight) {\n        this.ratioHeight = ratioHeight;\n    }\n\n    public int getRatioHeight() {\n        return ratioHeight;\n    }\n\n    public void setBackgroundImgList(ArrayList&lt;Bitmap&gt; backgroundImgList) {\n        this.backgroundImgList = backgroundImgList;\n        notifyDataSetChanged();\n    }\n\n    @NonNull\n    @Override\n    public MultifitRecyclerViewAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.multifit_item, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n            holder.ivCover.setImageBitmap(this.selectedBitmaps.get(position));\n\n                    holder.ivFrame.setImageBitmap(backgroundImgList.get(position));\n\n            holder.ivCover.setScaleX(mScaleSize);\n            holder.ivCover.setScaleY(mScaleSize);\n        if (isRatio) {\n            height = holder.cRatio.getHeight();\n            holder.cWrapper.setLayoutParams(new ConstraintLayout.LayoutParams(ratioWidth, ratioHeight));\n            ViewGroup.LayoutParams layoutParams = holder.ivCover.getLayoutParams();\n            layoutParams.width = ratioWidth;\n            layoutParams.height = ratioHeight;\n            holder.ivCover.setLayoutParams(layoutParams);\n            ConstraintSet constraintSet = new ConstraintSet();\n            constraintSet.clone(holder.cRatio);\n            constraintSet.connect(holder.cWrapper.getId(), 3, holder.cRatio.getId(), 3, 0);\n            constraintSet.connect(holder.cWrapper.getId(), 1, holder.cRatio.getId(), 1, 0);\n            constraintSet.connect(holder.cWrapper.getId(), 4, holder.cRatio.getId(), 4, 0);\n            constraintSet.connect(holder.cWrapper.getId(), 2, holder.cRatio.getId(), 2, 0);\n            constraintSet.applyTo(holder.cRatio);\n        }\n\n    }\n\n    public int getHeight() {\n        return height;\n    }\n\n    @Override\n    public int getItemCount() {\n        return selectedBitmaps.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        public PhotoEditorView pvEditor;\n        RectangularLayout rectangularLayout;\n        public ImageView ivFrame, ivCover;\n        public ConstraintLayout cRatio;\n        public FrameLayout cWrapper;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            pvEditor = itemView.findViewById(R.id.photo_editor_view);\n            ivFrame = itemView.findViewById(R.id.ivFrame);\n            ivCover = itemView.findViewById(R.id.ivCover);\n            cRatio = itemView.findViewById(R.id.cRatio);\n            cWrapper = itemView.findViewById(R.id.frame_layout_wrapper);\n            rectangularLayout = itemView.findViewById(R.id.relative_layout_wrapper_photo);\n        }\n    }\n}\n</code></pre>\n<p>and then im taking view from adapter like this and saving them in gallery like this</p>\n<pre><code>    class SaveBitmap extends AsyncTask&lt;Void, String, List&lt;String&gt;&gt; {\n\n        SaveBitmap() {\n\n        }\n\n        public void onPreExecute() {\n            // customLoader.hide();\n            //  customLoader.show();\n        }\n\n        public List&lt;String&gt; doInBackground(Void... voids) {\n            List&lt;String&gt; filePaths = new ArrayList&lt;&gt;();\n\n            for (int i = 0; i &lt; multifitRecyclerViewAdapter.getItemCount(); i++) {\n                MultifitRecyclerViewAdapter.ViewHolder holder = (MultifitRecyclerViewAdapter.ViewHolder) multiFitRecyclerView.findViewHolderForAdapterPosition(i);\n                if (holder != null) {\n                    Bitmap bitmap1 = Bitmap.createBitmap(holder.pvEditor.getWidth(), holder.pvEditor.getHeight(), Bitmap.Config.ARGB_8888);\n                    Canvas canvas = new Canvas(bitmap1);\n                    holder.pvEditor.draw(canvas);\n\n                    try {\n                        String filename = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;, Locale.ENGLISH).format(new Date());\n                        File file = SaveFileUtils.saveBitmapFileRemoveBg(MultifitActivity.this, bitmap1, filename, null);\n                        if (file != null) {\n                            filePaths.add(file.getAbsolutePath());\n                        }\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n\n            return filePaths;\n        }\n\n        public void onPostExecute(List&lt;String&gt; filePaths) {\n            // customLoader.hide();\n            if (filePaths == null || filePaths.isEmpty()) {\n                Toast.makeText(getApplicationContext(), R.string.went_wrong, Toast.LENGTH_LONG).show();\n                return;\n            }\n            Intent i = new Intent(MultifitActivity.this, MultiShareActivity.class);\n            i.putStringArrayListExtra(&quot;path&quot;, (ArrayList&lt;String&gt;) filePaths);\n            startActivity(i);\n            AdsManager.showAdmobInterstitialAd(MultifitActivity.this, &quot;PhotoEditor&quot;);\n        }\n\n    }\n</code></pre>\n<p>here i want save all items from reyclcerview item views but it saving only two images which showing.</p>\n"},{"tags":["java","spring","spring-mvc","controller","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3716903,"reputation":131,"user_id":3092891,"display_name":"craig"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1443705456,"creation_date":1443705456,"answer_id":32888613,"question_id":32497657,"body_markdown":"Are you using Tomcat or Undertow as your application server?\r\n\r\nIf it&#39;s Undertow, it may just be a benign exception informing you that the temporary file can&#39;t be deleted because it&#39;s already been deleted (source: https://github.com/spring-projects/spring-boot/issues/3966 which also mentions a bug ticket open [UNDERTOW-542](https://issues.jboss.org/browse/UNDERTOW-542) ).\r\n\r\nI ran into this same issue when running a jHipster-based project using the `fast` profile, which uses Undertow. Everything worked as expected, but this error was thrown. If I used the `dev` profile, which uses Tomcat, no error was thrown.","title":"Spring is unable to perform cleanup of multipart items","body":"<p>Are you using Tomcat or Undertow as your application server?</p>\n\n<p>If it's Undertow, it may just be a benign exception informing you that the temporary file can't be deleted because it's already been deleted (source: <a href=\"https://github.com/spring-projects/spring-boot/issues/3966\" rel=\"nofollow\">https://github.com/spring-projects/spring-boot/issues/3966</a> which also mentions a bug ticket open <a href=\"https://issues.jboss.org/browse/UNDERTOW-542\" rel=\"nofollow\">UNDERTOW-542</a> ).</p>\n\n<p>I ran into this same issue when running a jHipster-based project using the <code>fast</code> profile, which uses Undertow. Everything worked as expected, but this error was thrown. If I used the <code>dev</code> profile, which uses Tomcat, no error was thrown.</p>\n"},{"tags":[],"owner":{"account_id":1735752,"reputation":2511,"user_id":1588361,"accept_rate":54,"display_name":"Ravi MCA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493295210,"creation_date":1493295210,"answer_id":43657506,"question_id":32497657,"body_markdown":"I ran into the same issue when I started using `Spring 4.3.1.RELEASE` with `wildfly 9.x`.\r\n\r\nTo fix the issue I just updated my Spring version from `4.2.2.RELEASE` to `4.2.3.RELEASE` which solved the issue.","title":"Spring is unable to perform cleanup of multipart items","body":"<p>I ran into the same issue when I started using <code>Spring 4.3.1.RELEASE</code> with <code>wildfly 9.x</code>.</p>\n\n<p>To fix the issue I just updated my Spring version from <code>4.2.2.RELEASE</code> to <code>4.2.3.RELEASE</code> which solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":28238466,"reputation":33,"user_id":21586591,"display_name":"Raja Mali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684687719,"creation_date":1684415907,"answer_id":76281233,"question_id":32497657,"body_markdown":"This is my service class\r\n\r\n\t@Override\r\n\tpublic String uploadImage(String path, MultipartFile file) throws IOException {\r\n\r\n\t\t// File Name\r\n\t\tString name = file.getOriginalFilename();\r\n\r\n\t\t//Random name generate of file\r\n\t\t  String randomID=UUID.randomUUID().toString();\r\n\t\t  String fileName1= randomID.concat(name.substring(name.lastIndexOf(&quot;.&quot;)));\r\n\t\t\r\n\t\t// Full Path\r\n\t\tString filePath = path + File.separator + fileName1;\r\n\r\n\t\t// Create folder if not create\r\n\t\tFile f = new File(path);\r\n\t\tif (!f.exists()) {\r\n\t\t\tf.mkdir();\r\n\t\t}\r\n\r\n\t\t\r\n\t\t// file copy\r\n\r\n\t\tFiles.copy(file.getInputStream(), Paths.get(filePath));\r\n\t\t//System.gc();  //or \r\n\t\tf.delete();\r\n\t\t/* I am resolve my exception using above System.gc(); or f.delete() method using both are working for me \r\n\t\t*/\r\n\t\treturn fileName1;\r\n\t}","title":"Spring is unable to perform cleanup of multipart items","body":"<p>This is my service class</p>\n<pre><code>@Override\npublic String uploadImage(String path, MultipartFile file) throws IOException {\n\n    // File Name\n    String name = file.getOriginalFilename();\n\n    //Random name generate of file\n      String randomID=UUID.randomUUID().toString();\n      String fileName1= randomID.concat(name.substring(name.lastIndexOf(&quot;.&quot;)));\n    \n    // Full Path\n    String filePath = path + File.separator + fileName1;\n\n    // Create folder if not create\n    File f = new File(path);\n    if (!f.exists()) {\n        f.mkdir();\n    }\n\n    \n    // file copy\n\n    Files.copy(file.getInputStream(), Paths.get(filePath));\n    //System.gc();  //or \n    f.delete();\n    /* I am resolve my exception using above System.gc(); or f.delete() method using both are working for me \n    */\n    return fileName1;\n}\n</code></pre>\n"}],"owner":{"account_id":1779330,"reputation":1007,"user_id":1622461,"accept_rate":80,"display_name":"Marcin Majewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10097,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1689161327,"creation_date":1441876280,"question_id":32497657,"body_markdown":"I am sending to controller multipartfile and when logic in controller is completed spring invokes error:\r\n\r\n    2015-09-10 10:41:05 WARN  (StandardServletMultipartResolver.java:91) - Failed to perform cleanup of multipart items\r\n    java.io.IOException: UT010015: Could not delete file ....\\Path\\undertow6870903013120486522upload\r\n    \tat io.undertow.servlet.spec.PartImpl.delete(PartImpl.java:111)\r\n\r\nMy controller:\r\n\r\n    @RequestMapping(value = &quot;api/{name}/file&quot;, method = RequestMethod.POST,consumes=&quot;multipart/form-data&quot;)\r\n     public ResponseEntity&lt;?&gt; receiveFile(@RequestParam(value = &quot;file&quot;) MultipartFile multipartFile,\r\n    @PathVariable(&quot;name&quot;) String name) throws IOException {\r\n        logic here\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    }\r\n\r\nI am using AngularJS (ng-file-upload module) to send file:\r\n\r\n    file.upload = Upload.upload({\r\n    \t\t\t\t\t\t\turl: sUrl,\r\n    \t\t\t\t\t\t\tmethod: &#39;POST&#39;,\r\n    \t\t\t\t\t\t\theaders: {&#39;Content-Type&#39;: &#39;&quot;multipart/form-data&#39;},\r\n    \t\t\t\t\t\t\tfile: file,\r\n    \t\t\t\t\t\t\tfileFormDataName: &#39;file&#39;\r\n    \t\t\t\t\t\t});\r\n\r\n","title":"Spring is unable to perform cleanup of multipart items","body":"<p>I am sending to controller multipartfile and when logic in controller is completed spring invokes error:</p>\n\n<pre><code>2015-09-10 10:41:05 WARN  (StandardServletMultipartResolver.java:91) - Failed to perform cleanup of multipart items\njava.io.IOException: UT010015: Could not delete file ....\\Path\\undertow6870903013120486522upload\n    at io.undertow.servlet.spec.PartImpl.delete(PartImpl.java:111)\n</code></pre>\n\n<p>My controller:</p>\n\n<pre><code>@RequestMapping(value = \"api/{name}/file\", method = RequestMethod.POST,consumes=\"multipart/form-data\")\n public ResponseEntity&lt;?&gt; receiveFile(@RequestParam(value = \"file\") MultipartFile multipartFile,\n@PathVariable(\"name\") String name) throws IOException {\n    logic here\n    return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n}\n</code></pre>\n\n<p>I am using AngularJS (ng-file-upload module) to send file:</p>\n\n<pre><code>file.upload = Upload.upload({\n                            url: sUrl,\n                            method: 'POST',\n                            headers: {'Content-Type': '\"multipart/form-data'},\n                            file: file,\n                            fileFormDataName: 'file'\n                        });\n</code></pre>\n"},{"tags":["java","redis","connection-pooling","jedis"],"owner":{"account_id":915328,"reputation":243,"user_id":948235,"accept_rate":0,"display_name":"Sneha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689160877,"creation_date":1689160877,"question_id":76669990,"body_markdown":"    private static StringRedisTemplate stringRedisTemplate = null;\r\nprivate static JedisConnectionFactory connectionFactory = null;\r\n\r\n\r\n\t\ttry {\r\n\t\t\tRedisSentinelConfiguration sentinelConfig;\t\t\t\r\n\t\t\tJedisPoolConfig poolConf = getPoolConfig();\r\n\t\t\t\t\t\t\r\n\t\t\tif (StringUtils.isNotEmpty(System.getenv(&quot;REDIS_SENTINEL_MASTER&quot;))) {\r\n\t\t\t\tlog.info(&quot;Inside REDIS_SENTINEL_MASTER &quot; + EMSUtil.encode(System.getenv(&quot;REDIS_SENTINEL_MASTER&quot;)));\r\n\t\t\t\tsentinelConfig = new RedisSentinelConfiguration().master(System.getenv(&quot;REDIS_SENTINEL_MASTER&quot;));\r\n\t\t\t\tString[] nodeArray = System.getenv(&quot;REDIS_SENTINEL_NODES&quot;).split(&quot;,&quot;);\r\n\t\t\t\tlog.info(&quot;Nodes &quot; + EMSUtil.encode(System.getenv(&quot;REDIS_SENTINEL_NODES&quot;)));\r\n\t\t\t\tList&lt;RedisNode&gt; redisList = new ArrayList&lt;RedisNode&gt;();\r\n\t\t\t\tif (nodeArray != null) {\r\n\t\t\t\t\tfor (String node : nodeArray) {\r\n\t\t\t\t\t\tString[] nodeAddrArry = node.split(&quot;:&quot;);\r\n\t\t\t\t\t\tlog.info(&quot;Node Info : &quot; + EMSUtil.encode(nodeAddrArry[0]) + &quot; : &quot; + EMSUtil.encode(nodeAddrArry[1]));\r\n\t\t\t\t\t\tif (nodeAddrArry != null) {\r\n\t\t\t\t\t\t\tRedisNode redisNode = new RedisNode(nodeAddrArry[0], Integer.parseInt(nodeAddrArry[1]));\r\n\t\t\t\t\t\t\tredisList.add(redisNode);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsentinelConfig.setSentinels(redisList);\r\n\t\t\t\tconnectionFactory = new JedisConnectionFactory(sentinelConfig, poolConf);\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\t// Defining Jedis Configuration\r\n\t\t\t\tif (StringUtils.isNotEmpty(System.getenv(&quot;REDIS_SENTINEL_NODES&quot;))) {\r\n\t\t\t\t\tJedisPoolConfig poolConfig = new JedisPoolConfig();\r\n\t\t\t\t\tpoolConfig.setMaxTotal(15);\r\n\t\t\t\t\tpoolConfig.setTestOnBorrow(true);\r\n\t\t\t\t\tpoolConfig.setTestOnReturn(true);\r\n\t\t\t\t\tconnectionFactory = new JedisConnectionFactory(poolConfig);\r\n\t\t\t\t\tconnectionFactory.setUsePool(true);\r\n\t\t\t\t\tconnectionFactory.setHostName(System.getenv(&quot;REDIS_SENTINEL_NODES&quot;));\r\n\t\t\t\t\tconnectionFactory.setPort(6379);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\t\t\r\n\t\t\tif (connectionFactory != null) {\r\n\t\t\t\tconnectionFactory.afterPropertiesSet();\r\n\t\t\t\tstringRedisTemplate = new StringRedisTemplate(connectionFactory);\r\n\t\t\t\tstringRedisTemplate.setConnectionFactory(connectionFactory);\r\n                stringRedisTemplate.setEnableTransactionSupport(true);\r\n\t\t\t\tstringRedisTemplate.afterPropertiesSet();\r\n\t\t\t\t\r\n\t\t} catch (Throwable jce) {\r\n\t\t\tlog.fatal(&quot;Redis server error&quot;, jce);\r\n\r\n\t\t}\t\t\r\n\t}\r\n\t\r\n\tpublic static void setRedisKeyValue(String key, String value, String timestamp) {\r\n\t\tif(log.isTraceEnabled())\r\n\t\t\tlog.trace(&quot;Entered in setRedisKeyValue &quot;+System.currentTimeMillis());\r\n\t\tboolean automaticLicUpdate = EMSUtil.isAutomaticLicUpdate();\r\n\t\tif (automaticLicUpdate) {\r\n\t\t\tvalue += &quot;&amp;&amp;&quot; + timestamp;\r\n\t\t\ttry {\r\n\t\t\t\tif (stringRedisTemplate != null) {\r\n\t\t\t\t\tstringRedisTemplate.opsForValue().set(key, value);\r\n\t\t\t\t\tlog.debug(&quot;Value of redis value is....&quot; + value);\r\n\t\t\t\t}\r\n\r\n\t\t\t} catch (Throwable jce) {\r\n\t\t\t\tlog.fatal(&quot;Redish Server Connection Refused: Not able to connect Jedis server..............&quot; ,  jce);\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nThere is a loop where 400 keys are being updated, but since max pool size is specified as 15 so only 15 keys are updated in redis cache, why the connection is not released to the pool once the key is updated. Its sequential call, not multithreaded call. If I increase the cache size to 400 then there is no issue, but I do not want to increase the cache size.","title":"Redis connection is not being released back to the pool","body":"<pre><code>private static StringRedisTemplate stringRedisTemplate = null;\n</code></pre>\n<p>private static JedisConnectionFactory connectionFactory = null;</p>\n<pre><code>    try {\n        RedisSentinelConfiguration sentinelConfig;          \n        JedisPoolConfig poolConf = getPoolConfig();\n                    \n        if (StringUtils.isNotEmpty(System.getenv(&quot;REDIS_SENTINEL_MASTER&quot;))) {\n            log.info(&quot;Inside REDIS_SENTINEL_MASTER &quot; + EMSUtil.encode(System.getenv(&quot;REDIS_SENTINEL_MASTER&quot;)));\n            sentinelConfig = new RedisSentinelConfiguration().master(System.getenv(&quot;REDIS_SENTINEL_MASTER&quot;));\n            String[] nodeArray = System.getenv(&quot;REDIS_SENTINEL_NODES&quot;).split(&quot;,&quot;);\n            log.info(&quot;Nodes &quot; + EMSUtil.encode(System.getenv(&quot;REDIS_SENTINEL_NODES&quot;)));\n            List&lt;RedisNode&gt; redisList = new ArrayList&lt;RedisNode&gt;();\n            if (nodeArray != null) {\n                for (String node : nodeArray) {\n                    String[] nodeAddrArry = node.split(&quot;:&quot;);\n                    log.info(&quot;Node Info : &quot; + EMSUtil.encode(nodeAddrArry[0]) + &quot; : &quot; + EMSUtil.encode(nodeAddrArry[1]));\n                    if (nodeAddrArry != null) {\n                        RedisNode redisNode = new RedisNode(nodeAddrArry[0], Integer.parseInt(nodeAddrArry[1]));\n                        redisList.add(redisNode);\n                    }\n                }\n            }\n            sentinelConfig.setSentinels(redisList);\n            connectionFactory = new JedisConnectionFactory(sentinelConfig, poolConf);\n            \n        } else {\n            // Defining Jedis Configuration\n            if (StringUtils.isNotEmpty(System.getenv(&quot;REDIS_SENTINEL_NODES&quot;))) {\n                JedisPoolConfig poolConfig = new JedisPoolConfig();\n                poolConfig.setMaxTotal(15);\n                poolConfig.setTestOnBorrow(true);\n                poolConfig.setTestOnReturn(true);\n                connectionFactory = new JedisConnectionFactory(poolConfig);\n                connectionFactory.setUsePool(true);\n                connectionFactory.setHostName(System.getenv(&quot;REDIS_SENTINEL_NODES&quot;));\n                connectionFactory.setPort(6379);\n                \n                \n            }\n        }       \n        if (connectionFactory != null) {\n            connectionFactory.afterPropertiesSet();\n            stringRedisTemplate = new StringRedisTemplate(connectionFactory);\n            stringRedisTemplate.setConnectionFactory(connectionFactory);\n            stringRedisTemplate.setEnableTransactionSupport(true);\n            stringRedisTemplate.afterPropertiesSet();\n            \n    } catch (Throwable jce) {\n        log.fatal(&quot;Redis server error&quot;, jce);\n\n    }       \n}\n\npublic static void setRedisKeyValue(String key, String value, String timestamp) {\n    if(log.isTraceEnabled())\n        log.trace(&quot;Entered in setRedisKeyValue &quot;+System.currentTimeMillis());\n    boolean automaticLicUpdate = EMSUtil.isAutomaticLicUpdate();\n    if (automaticLicUpdate) {\n        value += &quot;&amp;&amp;&quot; + timestamp;\n        try {\n            if (stringRedisTemplate != null) {\n                stringRedisTemplate.opsForValue().set(key, value);\n                log.debug(&quot;Value of redis value is....&quot; + value);\n            }\n\n        } catch (Throwable jce) {\n            log.fatal(&quot;Redish Server Connection Refused: Not able to connect Jedis server..............&quot; ,  jce);\n\n        }\n    }\n}\n</code></pre>\n<p>There is a loop where 400 keys are being updated, but since max pool size is specified as 15 so only 15 keys are updated in redis cache, why the connection is not released to the pool once the key is updated. Its sequential call, not multithreaded call. If I increase the cache size to 400 then there is no issue, but I do not want to increase the cache size.</p>\n"},{"tags":["java","css"],"comments":[{"owner":{"account_id":4625781,"reputation":1972,"user_id":4142459,"accept_rate":100,"display_name":"Zargold"},"score":0,"creation_date":1462357522,"post_id":37024960,"comment_id":61600152,"body_markdown":"Why not use input type=&quot;file&quot; what&#39;s wrong with it?","body":"Why not use input type=&quot;file&quot; what&#39;s wrong with it?"},{"owner":{"account_id":8340579,"reputation":139,"user_id":6266015,"accept_rate":10,"display_name":"Saurabh Gupta"},"score":0,"creation_date":1462357659,"post_id":37024960,"comment_id":61600245,"body_markdown":"i do not no about dear my developers not use any file type because i am uploading any photo then my photo is show without button click,","body":"i do not no about dear my developers not use any file type because i am uploading any photo then my photo is show without button click,"},{"owner":{"account_id":5143096,"reputation":9867,"user_id":4119808,"accept_rate":87,"display_name":"Gaurav Aggarwal"},"score":0,"creation_date":1462358165,"post_id":37024960,"comment_id":61600632,"body_markdown":"if its about styling then add a hidden input type=&quot;file&quot; and trigger it on span click","body":"if its about styling then add a hidden input type=&quot;file&quot; and trigger it on span click"},{"owner":{"account_id":8340579,"reputation":139,"user_id":6266015,"accept_rate":10,"display_name":"Saurabh Gupta"},"score":0,"creation_date":1462358847,"post_id":37024960,"comment_id":61601128,"body_markdown":"How to use Gourav Plz type script for uploading file..","body":"How to use Gourav Plz type script for uploading file.."}],"answers":[{"tags":[],"owner":{"account_id":8340579,"reputation":139,"user_id":6266015,"accept_rate":10,"display_name":"Saurabh Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462434365,"creation_date":1462431429,"answer_id":37044365,"question_id":37024960,"body_markdown":"        Finally, I  got it answer  when Input Type is not &quot;File&quot;....\r\n    Thanks Everyone Who suggest me......\r\n        \r\n        \t\r\n\r\n    public static void main(String[] args) throws InterruptedException\r\n            \t{\r\n            \t\tWebDriver driver = new FirefoxDriver();\r\n            \t\tString appUrl = &quot;http://demo.theupbeetkitchen.com/&quot;;\r\n            \t\tdriver.get(appUrl);\r\n            \t\tdriver.manage().timeouts().implicitlyWait(60, TimeUnit.SECONDS);\r\n            \t\tdriver.findElement(By.id(&quot;customLogin&quot;)).click();\r\n            \t\t driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n            \t     String newSet = driver.getWindowHandle();\r\n            \t\t driver.switchTo().window(newSet); \t \r\n            \t\t driver.findElement(By.id(&quot;login_div&quot;)).click(); \r\n            \t\t driver.findElement(By.id(&quot;ID&quot;)).sendKeys(&quot;mr.saurabh.gupta92@gmail.com&quot;);\r\n            \t\t driver.findElement(By.id(&quot;Password&quot;)).sendKeys(&quot;123456&quot;);\r\n            \t\t driver.findElement(By.id(&quot;loginButton&quot;)).submit();\r\n            \t\t driver.findElement(By.id(&quot;customWelcome Chef Saurabh Gupta!&quot;)).click();\r\n            \t\t driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n            \t\t driver.findElement(By.className(&quot;btn&quot;)).click();\r\n            \t\t driver.findElement(By.id(&quot;photoVideoPage&quot;)).click();\r\n            \t\t Thread.sleep(2000);\r\n            \t\t WebElement uploading=driver.findElement(By.cssSelector(&quot;div[class=&#39;form_advanced_wrapper my-events_host_wrapper&#39;] span[class=&#39;glyphicon glyphicon-plus avatarUploacIcon&#39;]&quot;));\r\n            \t     uploading.click();\r\n            \t     uploadFile(&quot;C:\\\\pic.jpg&quot;);\r\n            \t\t System.out.println(&quot;Successfully Done...........&quot;);\r\n            \t}\r\n            \tpublic static void uploadFile(String fileLocation) \r\n            \t{\r\n                    try\r\n                    {\r\n                        setClipboardData(fileLocation);\r\n                        Robot robot = new Robot();\t\r\n                        robot.keyPress(KeyEvent.VK_CONTROL);\r\n                        robot.keyPress(KeyEvent.VK_V);\r\n                        robot.keyRelease(KeyEvent.VK_V);\r\n                        robot.keyRelease(KeyEvent.VK_CONTROL);\r\n                        robot.keyPress(KeyEvent.VK_ENTER);\r\n                        robot.keyRelease(KeyEvent.VK_ENTER);\r\n                        robot.delay(2000);\r\n                        robot.keyPress(KeyEvent.VK_ENTER);\r\n                    \r\n                    } \r\n                    catch (Exception exp) \r\n                    \t{\r\n                    \t\texp.printStackTrace();\r\n                    \t}\r\n            \t}\r\n            \tprivate static void setClipboardData(String string) \r\n            \t{\r\n            \t\t// TODO Auto-generated method stub\r\n            \t\t StringSelection stringSelection = new StringSelection(string);\r\n            \t\t   Toolkit.getDefaultToolkit().getSystemClipboard().setContents(stringSelection, null);\r\n            \t\t\r\n            \t}","title":"How to upload Photo when Input type is not &#39;File&#39; in Selenium Webdriver by Using Java","body":"<pre><code>    Finally, I  got it answer  when Input Type is not \"File\"....\nThanks Everyone Who suggest me......\n\n\n\npublic static void main(String[] args) throws InterruptedException\n            {\n                WebDriver driver = new FirefoxDriver();\n                String appUrl = \"http://demo.theupbeetkitchen.com/\";\n                driver.get(appUrl);\n                driver.manage().timeouts().implicitlyWait(60, TimeUnit.SECONDS);\n                driver.findElement(By.id(\"customLogin\")).click();\n                 driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n                 String newSet = driver.getWindowHandle();\n                 driver.switchTo().window(newSet);   \n                 driver.findElement(By.id(\"login_div\")).click(); \n                 driver.findElement(By.id(\"ID\")).sendKeys(\"mr.saurabh.gupta92@gmail.com\");\n                 driver.findElement(By.id(\"Password\")).sendKeys(\"123456\");\n                 driver.findElement(By.id(\"loginButton\")).submit();\n                 driver.findElement(By.id(\"customWelcome Chef Saurabh Gupta!\")).click();\n                 driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n                 driver.findElement(By.className(\"btn\")).click();\n                 driver.findElement(By.id(\"photoVideoPage\")).click();\n                 Thread.sleep(2000);\n                 WebElement uploading=driver.findElement(By.cssSelector(\"div[class='form_advanced_wrapper my-events_host_wrapper'] span[class='glyphicon glyphicon-plus avatarUploacIcon']\"));\n                 uploading.click();\n                 uploadFile(\"C:\\\\pic.jpg\");\n                 System.out.println(\"Successfully Done...........\");\n            }\n            public static void uploadFile(String fileLocation) \n            {\n                try\n                {\n                    setClipboardData(fileLocation);\n                    Robot robot = new Robot();  \n                    robot.keyPress(KeyEvent.VK_CONTROL);\n                    robot.keyPress(KeyEvent.VK_V);\n                    robot.keyRelease(KeyEvent.VK_V);\n                    robot.keyRelease(KeyEvent.VK_CONTROL);\n                    robot.keyPress(KeyEvent.VK_ENTER);\n                    robot.keyRelease(KeyEvent.VK_ENTER);\n                    robot.delay(2000);\n                    robot.keyPress(KeyEvent.VK_ENTER);\n\n                } \n                catch (Exception exp) \n                    {\n                        exp.printStackTrace();\n                    }\n            }\n            private static void setClipboardData(String string) \n            {\n                // TODO Auto-generated method stub\n                 StringSelection stringSelection = new StringSelection(string);\n                   Toolkit.getDefaultToolkit().getSystemClipboard().setContents(stringSelection, null);\n\n            }\n</code></pre>\n"}],"owner":{"account_id":8340579,"reputation":139,"user_id":6266015,"accept_rate":10,"display_name":"Saurabh Gupta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689160289,"creation_date":1462357399,"question_id":37024960,"body_markdown":"    &lt;span&gt;\r\n    &lt;span class=&quot;glyphicon glyphicon-plus avatarUploacIcon&quot;&gt;&lt;/span&gt;\r\n    Upload profile image&lt;/span&gt;\r\ni am using below code..\r\n\r\n\t WebElement uploading=driver.findElement(By.cssSelector(&quot;div[class=&#39;form_advanced_wrapper my-events_host_wrapper&#39;] span[class=&#39;glyphicon glyphicon-plus avatarUploacIcon&#39;]&quot;));\r\n\t\t\t uploading.click();\r\n\t\t\t uploading.sendKeys(&quot;C:\\pic.jpg&quot;);\r\nI have reached proper direction  but not upload any image, please help my\r\nI have applied more and more syntax but not success to upload image because my type is not &#39;File&#39;.\r\nIf any one use image upload without File type , \r\nPlease share me how to use this ............... ","title":"How to upload Photo when Input type is not &#39;File&#39; in Selenium Webdriver by Using Java","body":"<pre><code>&lt;span&gt;\n&lt;span class=\"glyphicon glyphicon-plus avatarUploacIcon\"&gt;&lt;/span&gt;\nUpload profile image&lt;/span&gt;\n</code></pre>\n\n<p>i am using below code..</p>\n\n<pre><code> WebElement uploading=driver.findElement(By.cssSelector(\"div[class='form_advanced_wrapper my-events_host_wrapper'] span[class='glyphicon glyphicon-plus avatarUploacIcon']\"));\n         uploading.click();\n         uploading.sendKeys(\"C:\\pic.jpg\");\n</code></pre>\n\n<p>I have reached proper direction  but not upload any image, please help my\nI have applied more and more syntax but not success to upload image because my type is not 'File'.\nIf any one use image upload without File type , \nPlease share me how to use this ............... </p>\n"},{"tags":["java","jmeter","ibm-mq","mq"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689159960,"creation_date":1689159960,"answer_id":76669883,"question_id":76669715,"body_markdown":"Looking into the code:\r\n\r\n\tdef consumer=vars.getObject(&quot;Consumer&quot;);\r\n\tdef session=vars.getObject(&quot;ReceiverSession&quot;)\r\n\t \r\n\tdef msg = consumer.receive(&quot;${receive_timeout}&quot; as Integer) \r\n\t\r\n\tif(msg!=null) {\r\n\t\tif(&quot;${transacted}&quot;.equals(&quot;true&quot;)) session.commit()\r\n\t\t\r\n\t\tlog.debug(&quot;########### Message Received&quot;+msg)\r\n\t\r\n\t\tSampleResult.setResponseData(msg.toString())\r\n\t\tSampleResult.setDataType(org.apache.jmeter.samplers.SampleResult.TEXT)\r\n\t} else {\r\n\t\tlog.info(&quot;############ consumer.receive timed out (timeout value: &quot; + &quot;${receive_timeout}&quot; + &quot;)&quot;)\r\n\t\t//Mark timeout as &#39;error&#39; to enable filtering out in listeners (to just analyse successful receive rate etc)\r\n\t\tSampleResult.setSuccessful(false)\r\n\t}\r\n\r\nit appears that you will get the following error:\r\n\r\n&gt;############ consumer.receive timed out (timeout value: 5000)\r\n\r\nwhen the receiver thread fails to retrieve the message withing 5 seconds timeout. \r\n\r\nSo first thing I would check is your [MQ broker container logs][1] \r\n\r\nIn general [JMeter in non-GUI mode has much better performance than in GUI mode][2] so it might be the case it just overloads your MQ broker instance and it cannot properly respond on message receive requests. \r\n\r\nApart from checking the logs you can additionally ensure that the broker has enough headroom to operate in terms of CPU, RAM, Network, Disk, etc. It can be done using container monitoring solution like [docker stats][3] or [JMeter PerfMon Plugin][4]. If this is the case you might need to increase [container limits][5] or [Docker engine][6]  \r\n\r\n\r\n  [1]: https://docs.docker.com/engine/reference/commandline/logs/\r\n  [2]: https://jmeter.apache.org/usermanual/get-started.html#non_gui\r\n  [3]: https://www.docker.com/blog/how-to-monitor-container-memory-and-cpu-usage-in-docker-desktop/\r\n  [4]: https://www.blazemeter.com/blog/jmeter-performance-metrics\r\n  [5]: https://docs.docker.com/config/containers/resource_constraints/\r\n  [6]: https://forums.docker.com/t/how-to-increase-memory-size-that-is-available-for-a-docker-container/78483","title":"Jmeter MQ GUI is working properly but cli summary showing error. Aggregate report shows different result","body":"<p>Looking into the code:</p>\n<pre><code>def consumer=vars.getObject(&quot;Consumer&quot;);\ndef session=vars.getObject(&quot;ReceiverSession&quot;)\n \ndef msg = consumer.receive(&quot;${receive_timeout}&quot; as Integer) \n\nif(msg!=null) {\n    if(&quot;${transacted}&quot;.equals(&quot;true&quot;)) session.commit()\n    \n    log.debug(&quot;########### Message Received&quot;+msg)\n\n    SampleResult.setResponseData(msg.toString())\n    SampleResult.setDataType(org.apache.jmeter.samplers.SampleResult.TEXT)\n} else {\n    log.info(&quot;############ consumer.receive timed out (timeout value: &quot; + &quot;${receive_timeout}&quot; + &quot;)&quot;)\n    //Mark timeout as 'error' to enable filtering out in listeners (to just analyse successful receive rate etc)\n    SampleResult.setSuccessful(false)\n}\n</code></pre>\n<p>it appears that you will get the following error:</p>\n<blockquote>\n<p>############ consumer.receive timed out (timeout value: 5000)</p>\n</blockquote>\n<p>when the receiver thread fails to retrieve the message withing 5 seconds timeout.</p>\n<p>So first thing I would check is your <a href=\"https://docs.docker.com/engine/reference/commandline/logs/\" rel=\"nofollow noreferrer\">MQ broker container logs</a></p>\n<p>In general <a href=\"https://jmeter.apache.org/usermanual/get-started.html#non_gui\" rel=\"nofollow noreferrer\">JMeter in non-GUI mode has much better performance than in GUI mode</a> so it might be the case it just overloads your MQ broker instance and it cannot properly respond on message receive requests.</p>\n<p>Apart from checking the logs you can additionally ensure that the broker has enough headroom to operate in terms of CPU, RAM, Network, Disk, etc. It can be done using container monitoring solution like <a href=\"https://www.docker.com/blog/how-to-monitor-container-memory-and-cpu-usage-in-docker-desktop/\" rel=\"nofollow noreferrer\">docker stats</a> or <a href=\"https://www.blazemeter.com/blog/jmeter-performance-metrics\" rel=\"nofollow noreferrer\">JMeter PerfMon Plugin</a>. If this is the case you might need to increase <a href=\"https://docs.docker.com/config/containers/resource_constraints/\" rel=\"nofollow noreferrer\">container limits</a> or <a href=\"https://forums.docker.com/t/how-to-increase-memory-size-that-is-available-for-a-docker-container/78483\" rel=\"nofollow noreferrer\">Docker engine</a></p>\n"}],"owner":{"account_id":9647272,"reputation":25,"user_id":7159571,"display_name":"JL007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76669883,"answer_count":1,"score":0,"last_activity_date":1689159960,"creation_date":1689158680,"question_id":76669715,"body_markdown":"Hi I am new to Jmeter and I am trying to use Jmeter to do some performance testing on IBM MQ docker.\r\n\r\nI have setup IBM MQ docker following this:\r\n\r\nhttps://developer.ibm.com/tutorials/mq-connect-app-queue-manager-containers/\r\n\r\nMy apps can consume and publish to the broker so its working fine.\r\n\r\nI am trying out Jmeter for performance testing and I have setup the Jmeter(5.6.2) with the jmx file provided following the pdf guide.\r\n\r\nhttps://github.com/ibm-messaging/mqperf/tree/gh-pages/jmeter\r\n\r\nAfter running the GUI, it seems working fine.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nBut when I run it in cli, it seem to be giving me errors. And the result seems weird by having more received msg than send. It could be due to retry but I am not sure. The following is the command I used:\r\n\r\n```\r\njmeter.bat -n -t &quot;C:\\Users\\alex\\Desktop\\all jmeter stuff\\jmeter test plan jmx files\\MQ-Sender-Receiver-Plan.jmx&quot; -l &quot;C:\\Users\\alex\\Desktop\\all jmeter stuff\\jmeter test plan jmx files\\results.jtl&quot; -j &quot;C:\\Users\\alex\\Desktop\\all jmeter stuff\\jmeter test plan jmx files\\log.jtl&quot;\r\n```\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BZCFw.png\r\n  [2]: https://i.stack.imgur.com/loHD3.png\r\n  [3]: https://i.stack.imgur.com/dVhcP.png\r\n  [4]: https://i.stack.imgur.com/koTDB.png\r\n\r\nI have the cli logs here. Thanks in advance for any helps!\r\n\r\n```\r\n2023-07-12 18:28:32,787 INFO o.a.j.u.JMeterUtils: Setting Locale to en_EN\r\n2023-07-12 18:28:32,799 INFO o.a.j.JMeter: Loading user properties from: user.properties\r\n2023-07-12 18:28:32,799 INFO o.a.j.JMeter: Loading system properties from: system.properties\r\n2023-07-12 18:28:32,804 INFO o.a.j.JMeter: Copyright (c) 1998-2023 The Apache Software Foundation\r\n2023-07-12 18:28:32,804 INFO o.a.j.JMeter: Version 5.6.2\r\n2023-07-12 18:28:32,804 INFO o.a.j.JMeter: java.version=11.0.19\r\n2023-07-12 18:28:32,804 INFO o.a.j.JMeter: java.vm.name=Java HotSpot(TM) 64-Bit Server VM\r\n2023-07-12 18:28:32,804 INFO o.a.j.JMeter: os.name=Windows 10\r\n2023-07-12 18:28:32,804 INFO o.a.j.JMeter: os.arch=amd64\r\n2023-07-12 18:28:32,804 INFO o.a.j.JMeter: os.version=10.0\r\n2023-07-12 18:28:32,813 INFO o.a.j.JMeter: file.encoding=Cp1252\r\n2023-07-12 18:28:32,813 INFO o.a.j.JMeter: java.awt.headless=true\r\n2023-07-12 18:28:32,813 INFO o.a.j.JMeter: Max memory     =4294967296\r\n2023-07-12 18:28:32,813 INFO o.a.j.JMeter: Available Processors =12\r\n2023-07-12 18:28:32,818 INFO o.a.j.JMeter: Default Locale=English (EN)\r\n2023-07-12 18:28:32,818 INFO o.a.j.JMeter: JMeter  Locale=English (EN)\r\n2023-07-12 18:28:32,818 INFO o.a.j.JMeter: JMeterHome=C:\\Users\\alex\\Desktop\\all jmeter stuff\\apache-jmeter-5.6.2\r\n2023-07-12 18:28:32,818 INFO o.a.j.JMeter: user.dir  =C:\\Users\\alex\\Desktop\\all jmeter stuff\\apache-jmeter-5.6.2\\bin\r\n2023-07-12 18:28:32,818 INFO o.a.j.JMeter: PWD       =C:\\Users\\alex\\Desktop\\all jmeter stuff\\apache-jmeter-5.6.2\\bin\r\n2023-07-12 18:28:32,819 INFO o.a.j.JMeter: IP: 202.188.100.169 Name: P_IFSLT2650 FullName: parkview-100-169.tm.net.my\r\n2023-07-12 18:28:32,828 INFO o.a.j.s.FileServer: Default base=&#39;C:\\Users\\alex\\Desktop\\all jmeter stuff\\apache-jmeter-5.6.2\\bin&#39;\r\n2023-07-12 18:28:32,829 INFO o.a.j.s.FileServer: Set new base=&#39;C:\\Users\\alex\\Desktop\\all jmeter stuff\\jmeter test plan jmx files&#39;\r\n2023-07-12 18:28:32,926 INFO o.a.j.s.SaveService: Testplan (JMX) version: 2.2. Testlog (JTL) version: 2.2\r\n2023-07-12 18:28:32,941 INFO o.a.j.s.SaveService: Using SaveService properties version 5.0\r\n2023-07-12 18:28:32,944 INFO o.a.j.s.SaveService: Using SaveService properties file encoding UTF-8\r\n2023-07-12 18:28:32,946 INFO o.a.j.s.SaveService: Loading file: C:\\Users\\alex\\Desktop\\all jmeter stuff\\jmeter test plan jmx files\\MQ-Sender-Receiver-Plan_no_diode - Copy.jmx\r\n2023-07-12 18:28:33,010 INFO o.a.j.JMeter: Creating summariser &lt;summary&gt;\r\n2023-07-12 18:28:33,020 INFO o.a.j.e.StandardJMeterEngine: Running the test!\r\n2023-07-12 18:28:33,021 INFO o.a.j.s.SampleEvent: List of sample_variables: []\r\n2023-07-12 18:28:33,021 INFO o.a.j.s.SampleEvent: List of sample_variables: []\r\n2023-07-12 18:28:33,028 INFO o.a.j.e.u.CompoundVariable: Note: Function class names must contain the string: &#39;.functions.&#39;\r\n2023-07-12 18:28:33,028 INFO o.a.j.e.u.CompoundVariable: Note: Function class names must not contain the string: &#39;.gui.&#39;\r\n2023-07-12 18:28:33,225 INFO o.a.j.t.TestPlan: added C:\\Users\\alex\\Desktop\\all jmeter stuff\\apache-jmeter-5.6.2\\lib\\mqjars\\com.ibm.mq.allclient.jar to classpath\r\n2023-07-12 18:28:33,225 INFO o.a.j.t.TestPlan: added C:\\Users\\alex\\Desktop\\all jmeter stuff\\apache-jmeter-5.6.2\\lib\\mqjars\\jms.jar to classpath\r\n2023-07-12 18:28:33,226 INFO o.a.j.t.TestPlan: added C:\\Users\\alex\\Desktop\\all jmeter stuff\\apache-jmeter-5.6.2\\lib\\mqjars\\org.json.jar to classpath\r\n2023-07-12 18:28:33,434 INFO o.a.j.JMeter: Running test (1689157713434)\r\n2023-07-12 18:28:33,435 INFO o.a.j.e.StandardJMeterEngine: Starting setUp thread groups\r\n2023-07-12 18:28:33,435 INFO o.a.j.e.StandardJMeterEngine: Starting setUp ThreadGroup: 1 : setUp  Thread Group (Sender Connections) \r\n2023-07-12 18:28:33,435 INFO o.a.j.e.StandardJMeterEngine: Starting 1 threads for group setUp  Thread Group (Sender Connections).\r\n2023-07-12 18:28:33,435 INFO o.a.j.e.StandardJMeterEngine: Test will stop abruptly on error\r\n2023-07-12 18:28:33,435 INFO o.a.j.t.ThreadGroup: Starting thread group... number=1 threads=1 ramp-up=1 delayedStart=false\r\n2023-07-12 18:28:33,438 INFO o.a.j.t.ThreadGroup: Started thread group number 1\r\n2023-07-12 18:28:33,438 INFO o.a.j.e.StandardJMeterEngine: Starting setUp ThreadGroup: 2 : setUp Thread Group (Receiver Connections) \r\n2023-07-12 18:28:33,438 INFO o.a.j.e.StandardJMeterEngine: Starting 1 threads for group setUp Thread Group (Receiver Connections).\r\n2023-07-12 18:28:33,438 INFO o.a.j.e.StandardJMeterEngine: Thread will continue on error\r\n2023-07-12 18:28:33,438 INFO o.a.j.t.ThreadGroup: Starting thread group... number=2 threads=1 ramp-up=1 delayedStart=false\r\n2023-07-12 18:28:33,440 INFO o.a.j.t.ThreadGroup: Started thread group number 2\r\n2023-07-12 18:28:33,441 INFO o.a.j.e.StandardJMeterEngine: Waiting for all setup thread groups to exit\r\n2023-07-12 18:28:33,444 INFO o.a.j.t.JMeterThread: Thread started: setUp Thread Group (Receiver Connections) 2-1\r\n2023-07-12 18:28:33,444 INFO o.a.j.t.JMeterThread: Thread started: setUp  Thread Group (Sender Connections) 1-1\r\n2023-07-12 18:28:33,446 INFO o.a.j.s.SampleResult: Note: Sample TimeStamps are START times\r\n2023-07-12 18:28:33,446 INFO o.a.j.s.SampleResult: sampleresult.default.encoding is set to UTF-8\r\n2023-07-12 18:28:33,446 INFO o.a.j.s.SampleResult: sampleresult.useNanoTime=true\r\n2023-07-12 18:28:33,446 INFO o.a.j.s.SampleResult: sampleresult.nanoThreadSleep=5000\r\n2023-07-12 18:28:34,740 INFO o.a.j.p.j.s.J.Create Sender Connections to Queue Manager: ####### Sender connection #0 to queue manager QM1 established.\r\n2023-07-12 18:28:34,740 INFO o.a.j.p.j.s.J.Create Receiver Connections to Queue Manager: ####### Receiver connection #0 to queue manager QM1 established.\r\n2023-07-12 18:28:34,752 INFO o.a.j.t.JMeterThread: Thread is done: setUp  Thread Group (Sender Connections) 1-1\r\n2023-07-12 18:28:34,752 INFO o.a.j.t.JMeterThread: Thread finished: setUp  Thread Group (Sender Connections) 1-1\r\n2023-07-12 18:28:34,753 INFO o.a.j.r.Summariser: summary +      1 in 00:00:01 =    0.8/s Avg:  1303 Min:  1303 Max:  1303 Err:     0 (0.00%) Active: 1 Started: 2 Finished: 1\r\n2023-07-12 18:28:34,753 INFO o.a.j.t.JMeterThread: Thread is done: setUp Thread Group (Receiver Connections) 2-1\r\n2023-07-12 18:28:34,753 INFO o.a.j.t.JMeterThread: Thread finished: setUp Thread Group (Receiver Connections) 2-1\r\n2023-07-12 18:28:34,754 INFO o.a.j.e.StandardJMeterEngine: All Setup Threads have ended\r\n2023-07-12 18:28:34,770 INFO o.a.j.e.StandardJMeterEngine: Starting ThreadGroup: 1 : Senders\r\n2023-07-12 18:28:34,770 INFO o.a.j.e.StandardJMeterEngine: Starting 1 threads for group Senders.\r\n2023-07-12 18:28:34,770 INFO o.a.j.e.StandardJMeterEngine: Test will stop abruptly on error\r\n2023-07-12 18:28:34,770 INFO o.a.j.t.ThreadGroup: Starting thread group... number=1 threads=1 ramp-up=1 delayedStart=false\r\n2023-07-12 18:28:34,771 INFO o.a.j.t.ThreadGroup: Started thread group number 1\r\n2023-07-12 18:28:34,771 INFO o.a.j.e.StandardJMeterEngine: Starting ThreadGroup: 2 : Receivers\r\n2023-07-12 18:28:34,771 INFO o.a.j.e.StandardJMeterEngine: Starting 1 threads for group Receivers.\r\n2023-07-12 18:28:34,771 INFO o.a.j.e.StandardJMeterEngine: Thread will continue on error\r\n2023-07-12 18:28:34,771 INFO o.a.j.t.ThreadGroup: Starting thread group... number=2 threads=1 ramp-up=1 delayedStart=false\r\n2023-07-12 18:28:34,772 INFO o.a.j.t.JMeterThread: Thread started: Senders 1-1\r\n2023-07-12 18:28:34,772 INFO o.a.j.t.ThreadGroup: Started thread group number 2\r\n2023-07-12 18:28:34,772 INFO o.a.j.e.StandardJMeterEngine: All thread groups have been started\r\n2023-07-12 18:28:34,773 INFO o.a.j.t.JMeterThread: Thread started: Receivers 2-1\r\n2023-07-12 18:29:00,002 INFO o.a.j.r.Summariser: summary +   4986 in 00:00:25 =  197.5/s Avg:     2 Min:     1 Max:  1303 Err:     0 (0.00%) Active: 2 Started: 2 Finished: 0\r\n2023-07-12 18:29:00,003 INFO o.a.j.r.Summariser: summary =   4987 in 00:00:27 =  187.7/s Avg:     3 Min:     1 Max:  1303 Err:     0 (0.00%)\r\n2023-07-12 18:29:30,002 INFO o.a.j.r.Summariser: summary +   6000 in 00:00:30 =  200.0/s Avg:     2 Min:     1 Max:     9 Err:     0 (0.00%) Active: 2 Started: 2 Finished: 0\r\n2023-07-12 18:29:30,003 INFO o.a.j.r.Summariser: summary =  10987 in 00:00:57 =  194.2/s Avg:     2 Min:     1 Max:  1303 Err:     0 (0.00%)\r\n2023-07-12 18:29:34,771 INFO o.a.j.t.JMeterThread: Stopping because end time detected by thread: Senders 1-1\r\n2023-07-12 18:29:34,772 INFO o.a.j.t.JMeterThread: Thread finished: Senders 1-1\r\n2023-07-12 18:29:39,809 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\r\n2023-07-12 18:29:44,823 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\r\n2023-07-12 18:29:49,837 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\r\n2023-07-12 18:29:54,852 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\r\n2023-07-12 18:29:59,870 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\r\n2023-07-12 18:30:04,886 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\r\n2023-07-12 18:30:04,886 INFO o.a.j.r.Summariser: summary +    961 in 00:00:35 =   27.5/s Avg:    33 Min:     1 Max:  5031 Err:     6 (0.62%) Active: 1 Started: 2 Finished: 1\r\n2023-07-12 18:30:04,888 INFO o.a.j.r.Summariser: summary =  11948 in 00:01:31 =  130.6/s Avg:     5 Min:     1 Max:  5031 Err:     6 (0.05%)\r\n2023-07-12 18:30:09,903 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\r\n2023-07-12 18:30:14,915 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\r\n2023-07-12 18:30:19,929 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\r\n2023-07-12 18:30:24,946 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\r\n2023-07-12 18:30:29,961 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\r\n2023-07-12 18:30:34,982 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\r\n2023-07-12 18:30:34,983 INFO o.a.j.r.Summariser: summary +      6 in 00:00:30 =    0.2/s Avg:  5015 Min:  5012 Max:  5020 Err:     6 (100.00%) Active: 1 Started: 2 Finished: 1\r\n2023-07-12 18:30:34,984 INFO o.a.j.r.Summariser: summary =  11954 in 00:02:02 =   98.3/s Avg:     7 Min:     1 Max:  5031 Err:    12 (0.10%)\r\n2023-07-12 18:30:34,985 INFO o.a.j.t.JMeterThread: Stopping because end time detected by thread: Receivers 2-1\r\n2023-07-12 18:30:34,986 INFO o.a.j.t.JMeterThread: Thread finished: Receivers 2-1\r\n2023-07-12 18:30:34,986 INFO o.a.j.e.StandardJMeterEngine: Starting tearDown thread groups\r\n2023-07-12 18:30:34,986 INFO o.a.j.e.StandardJMeterEngine: Starting tearDown ThreadGroup: 1 : tearDown Thread Group (Sender Connections)\r\n2023-07-12 18:30:34,986 INFO o.a.j.e.StandardJMeterEngine: Starting 1 threads for group tearDown Thread Group (Sender Connections).\r\n2023-07-12 18:30:34,986 INFO o.a.j.e.StandardJMeterEngine: Test will stop abruptly on error\r\n2023-07-12 18:30:34,987 INFO o.a.j.t.ThreadGroup: Starting thread group... number=1 threads=1 ramp-up=1 delayedStart=false\r\n2023-07-12 18:30:34,989 INFO o.a.j.t.ThreadGroup: Started thread group number 1\r\n2023-07-12 18:30:34,989 INFO o.a.j.e.StandardJMeterEngine: Starting tearDown ThreadGroup: 2 : tearDown Thread Group (Receiver Connections)\r\n2023-07-12 18:30:34,989 INFO o.a.j.e.StandardJMeterEngine: Starting 1 threads for group tearDown Thread Group (Receiver Connections).\r\n2023-07-12 18:30:34,990 INFO o.a.j.e.StandardJMeterEngine: Thread will continue on error\r\n2023-07-12 18:30:34,990 INFO o.a.j.t.ThreadGroup: Starting thread group... number=2 threads=1 ramp-up=1 delayedStart=false\r\n2023-07-12 18:30:34,990 INFO o.a.j.t.JMeterThread: Thread started: tearDown Thread Group (Sender Connections) 1-1\r\n2023-07-12 18:30:34,991 INFO o.a.j.t.ThreadGroup: Started thread group number 2\r\n2023-07-12 18:30:34,991 INFO o.a.j.t.JMeterThread: Thread started: tearDown Thread Group (Receiver Connections) 2-1\r\n2023-07-12 18:30:35,042 INFO o.a.j.p.j.s.J.Close Receiver Connections: ###### Receiver Connection Closed\r\n2023-07-12 18:30:35,042 INFO o.a.j.p.j.s.J.Close Sender Connections: ###### Sender Connection closed\r\n2023-07-12 18:30:35,043 INFO o.a.j.t.JMeterThread: Thread is done: tearDown Thread Group (Sender Connections) 1-1\r\n2023-07-12 18:30:35,043 INFO o.a.j.t.JMeterThread: Thread is done: tearDown Thread Group (Receiver Connections) 2-1\r\n2023-07-12 18:30:35,043 INFO o.a.j.t.JMeterThread: Thread finished: tearDown Thread Group (Sender Connections) 1-1\r\n2023-07-12 18:30:35,043 INFO o.a.j.t.JMeterThread: Thread finished: tearDown Thread Group (Receiver Connections) 2-1\r\n2023-07-12 18:30:35,043 INFO o.a.j.e.StandardJMeterEngine: Notifying test listeners of end of test\r\n2023-07-12 18:30:35,048 INFO o.a.j.r.Summariser: summary +      2 in 00:00:00 =   30.8/s Avg:    50 Min:    49 Max:    51 Err:     0 (0.00%) Active: 0 Started: 2 Finished: 2\r\n2023-07-12 18:30:35,049 INFO o.a.j.r.Summariser: summary =  11956 in 00:02:02 =   98.3/s Avg:     7 Min:     1 Max:  5031 Err:    12 (0.10%)\r\n\r\n```","title":"Jmeter MQ GUI is working properly but cli summary showing error. Aggregate report shows different result","body":"<p>Hi I am new to Jmeter and I am trying to use Jmeter to do some performance testing on IBM MQ docker.</p>\n<p>I have setup IBM MQ docker following this:</p>\n<p><a href=\"https://developer.ibm.com/tutorials/mq-connect-app-queue-manager-containers/\" rel=\"nofollow noreferrer\">https://developer.ibm.com/tutorials/mq-connect-app-queue-manager-containers/</a></p>\n<p>My apps can consume and publish to the broker so its working fine.</p>\n<p>I am trying out Jmeter for performance testing and I have setup the Jmeter(5.6.2) with the jmx file provided following the pdf guide.</p>\n<p><a href=\"https://github.com/ibm-messaging/mqperf/tree/gh-pages/jmeter\" rel=\"nofollow noreferrer\">https://github.com/ibm-messaging/mqperf/tree/gh-pages/jmeter</a></p>\n<p>After running the GUI, it seems working fine.\n<a href=\"https://i.stack.imgur.com/BZCFw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BZCFw.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/loHD3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/loHD3.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I run it in cli, it seem to be giving me errors. And the result seems weird by having more received msg than send. It could be due to retry but I am not sure. The following is the command I used:</p>\n<pre><code>jmeter.bat -n -t &quot;C:\\Users\\alex\\Desktop\\all jmeter stuff\\jmeter test plan jmx files\\MQ-Sender-Receiver-Plan.jmx&quot; -l &quot;C:\\Users\\alex\\Desktop\\all jmeter stuff\\jmeter test plan jmx files\\results.jtl&quot; -j &quot;C:\\Users\\alex\\Desktop\\all jmeter stuff\\jmeter test plan jmx files\\log.jtl&quot;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dVhcP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dVhcP.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/koTDB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/koTDB.png\" alt=\"enter image description here\" /></a></p>\n<p>I have the cli logs here. Thanks in advance for any helps!</p>\n<pre><code>2023-07-12 18:28:32,787 INFO o.a.j.u.JMeterUtils: Setting Locale to en_EN\n2023-07-12 18:28:32,799 INFO o.a.j.JMeter: Loading user properties from: user.properties\n2023-07-12 18:28:32,799 INFO o.a.j.JMeter: Loading system properties from: system.properties\n2023-07-12 18:28:32,804 INFO o.a.j.JMeter: Copyright (c) 1998-2023 The Apache Software Foundation\n2023-07-12 18:28:32,804 INFO o.a.j.JMeter: Version 5.6.2\n2023-07-12 18:28:32,804 INFO o.a.j.JMeter: java.version=11.0.19\n2023-07-12 18:28:32,804 INFO o.a.j.JMeter: java.vm.name=Java HotSpot(TM) 64-Bit Server VM\n2023-07-12 18:28:32,804 INFO o.a.j.JMeter: os.name=Windows 10\n2023-07-12 18:28:32,804 INFO o.a.j.JMeter: os.arch=amd64\n2023-07-12 18:28:32,804 INFO o.a.j.JMeter: os.version=10.0\n2023-07-12 18:28:32,813 INFO o.a.j.JMeter: file.encoding=Cp1252\n2023-07-12 18:28:32,813 INFO o.a.j.JMeter: java.awt.headless=true\n2023-07-12 18:28:32,813 INFO o.a.j.JMeter: Max memory     =4294967296\n2023-07-12 18:28:32,813 INFO o.a.j.JMeter: Available Processors =12\n2023-07-12 18:28:32,818 INFO o.a.j.JMeter: Default Locale=English (EN)\n2023-07-12 18:28:32,818 INFO o.a.j.JMeter: JMeter  Locale=English (EN)\n2023-07-12 18:28:32,818 INFO o.a.j.JMeter: JMeterHome=C:\\Users\\alex\\Desktop\\all jmeter stuff\\apache-jmeter-5.6.2\n2023-07-12 18:28:32,818 INFO o.a.j.JMeter: user.dir  =C:\\Users\\alex\\Desktop\\all jmeter stuff\\apache-jmeter-5.6.2\\bin\n2023-07-12 18:28:32,818 INFO o.a.j.JMeter: PWD       =C:\\Users\\alex\\Desktop\\all jmeter stuff\\apache-jmeter-5.6.2\\bin\n2023-07-12 18:28:32,819 INFO o.a.j.JMeter: IP: 202.188.100.169 Name: P_IFSLT2650 FullName: parkview-100-169.tm.net.my\n2023-07-12 18:28:32,828 INFO o.a.j.s.FileServer: Default base='C:\\Users\\alex\\Desktop\\all jmeter stuff\\apache-jmeter-5.6.2\\bin'\n2023-07-12 18:28:32,829 INFO o.a.j.s.FileServer: Set new base='C:\\Users\\alex\\Desktop\\all jmeter stuff\\jmeter test plan jmx files'\n2023-07-12 18:28:32,926 INFO o.a.j.s.SaveService: Testplan (JMX) version: 2.2. Testlog (JTL) version: 2.2\n2023-07-12 18:28:32,941 INFO o.a.j.s.SaveService: Using SaveService properties version 5.0\n2023-07-12 18:28:32,944 INFO o.a.j.s.SaveService: Using SaveService properties file encoding UTF-8\n2023-07-12 18:28:32,946 INFO o.a.j.s.SaveService: Loading file: C:\\Users\\alex\\Desktop\\all jmeter stuff\\jmeter test plan jmx files\\MQ-Sender-Receiver-Plan_no_diode - Copy.jmx\n2023-07-12 18:28:33,010 INFO o.a.j.JMeter: Creating summariser &lt;summary&gt;\n2023-07-12 18:28:33,020 INFO o.a.j.e.StandardJMeterEngine: Running the test!\n2023-07-12 18:28:33,021 INFO o.a.j.s.SampleEvent: List of sample_variables: []\n2023-07-12 18:28:33,021 INFO o.a.j.s.SampleEvent: List of sample_variables: []\n2023-07-12 18:28:33,028 INFO o.a.j.e.u.CompoundVariable: Note: Function class names must contain the string: '.functions.'\n2023-07-12 18:28:33,028 INFO o.a.j.e.u.CompoundVariable: Note: Function class names must not contain the string: '.gui.'\n2023-07-12 18:28:33,225 INFO o.a.j.t.TestPlan: added C:\\Users\\alex\\Desktop\\all jmeter stuff\\apache-jmeter-5.6.2\\lib\\mqjars\\com.ibm.mq.allclient.jar to classpath\n2023-07-12 18:28:33,225 INFO o.a.j.t.TestPlan: added C:\\Users\\alex\\Desktop\\all jmeter stuff\\apache-jmeter-5.6.2\\lib\\mqjars\\jms.jar to classpath\n2023-07-12 18:28:33,226 INFO o.a.j.t.TestPlan: added C:\\Users\\alex\\Desktop\\all jmeter stuff\\apache-jmeter-5.6.2\\lib\\mqjars\\org.json.jar to classpath\n2023-07-12 18:28:33,434 INFO o.a.j.JMeter: Running test (1689157713434)\n2023-07-12 18:28:33,435 INFO o.a.j.e.StandardJMeterEngine: Starting setUp thread groups\n2023-07-12 18:28:33,435 INFO o.a.j.e.StandardJMeterEngine: Starting setUp ThreadGroup: 1 : setUp  Thread Group (Sender Connections) \n2023-07-12 18:28:33,435 INFO o.a.j.e.StandardJMeterEngine: Starting 1 threads for group setUp  Thread Group (Sender Connections).\n2023-07-12 18:28:33,435 INFO o.a.j.e.StandardJMeterEngine: Test will stop abruptly on error\n2023-07-12 18:28:33,435 INFO o.a.j.t.ThreadGroup: Starting thread group... number=1 threads=1 ramp-up=1 delayedStart=false\n2023-07-12 18:28:33,438 INFO o.a.j.t.ThreadGroup: Started thread group number 1\n2023-07-12 18:28:33,438 INFO o.a.j.e.StandardJMeterEngine: Starting setUp ThreadGroup: 2 : setUp Thread Group (Receiver Connections) \n2023-07-12 18:28:33,438 INFO o.a.j.e.StandardJMeterEngine: Starting 1 threads for group setUp Thread Group (Receiver Connections).\n2023-07-12 18:28:33,438 INFO o.a.j.e.StandardJMeterEngine: Thread will continue on error\n2023-07-12 18:28:33,438 INFO o.a.j.t.ThreadGroup: Starting thread group... number=2 threads=1 ramp-up=1 delayedStart=false\n2023-07-12 18:28:33,440 INFO o.a.j.t.ThreadGroup: Started thread group number 2\n2023-07-12 18:28:33,441 INFO o.a.j.e.StandardJMeterEngine: Waiting for all setup thread groups to exit\n2023-07-12 18:28:33,444 INFO o.a.j.t.JMeterThread: Thread started: setUp Thread Group (Receiver Connections) 2-1\n2023-07-12 18:28:33,444 INFO o.a.j.t.JMeterThread: Thread started: setUp  Thread Group (Sender Connections) 1-1\n2023-07-12 18:28:33,446 INFO o.a.j.s.SampleResult: Note: Sample TimeStamps are START times\n2023-07-12 18:28:33,446 INFO o.a.j.s.SampleResult: sampleresult.default.encoding is set to UTF-8\n2023-07-12 18:28:33,446 INFO o.a.j.s.SampleResult: sampleresult.useNanoTime=true\n2023-07-12 18:28:33,446 INFO o.a.j.s.SampleResult: sampleresult.nanoThreadSleep=5000\n2023-07-12 18:28:34,740 INFO o.a.j.p.j.s.J.Create Sender Connections to Queue Manager: ####### Sender connection #0 to queue manager QM1 established.\n2023-07-12 18:28:34,740 INFO o.a.j.p.j.s.J.Create Receiver Connections to Queue Manager: ####### Receiver connection #0 to queue manager QM1 established.\n2023-07-12 18:28:34,752 INFO o.a.j.t.JMeterThread: Thread is done: setUp  Thread Group (Sender Connections) 1-1\n2023-07-12 18:28:34,752 INFO o.a.j.t.JMeterThread: Thread finished: setUp  Thread Group (Sender Connections) 1-1\n2023-07-12 18:28:34,753 INFO o.a.j.r.Summariser: summary +      1 in 00:00:01 =    0.8/s Avg:  1303 Min:  1303 Max:  1303 Err:     0 (0.00%) Active: 1 Started: 2 Finished: 1\n2023-07-12 18:28:34,753 INFO o.a.j.t.JMeterThread: Thread is done: setUp Thread Group (Receiver Connections) 2-1\n2023-07-12 18:28:34,753 INFO o.a.j.t.JMeterThread: Thread finished: setUp Thread Group (Receiver Connections) 2-1\n2023-07-12 18:28:34,754 INFO o.a.j.e.StandardJMeterEngine: All Setup Threads have ended\n2023-07-12 18:28:34,770 INFO o.a.j.e.StandardJMeterEngine: Starting ThreadGroup: 1 : Senders\n2023-07-12 18:28:34,770 INFO o.a.j.e.StandardJMeterEngine: Starting 1 threads for group Senders.\n2023-07-12 18:28:34,770 INFO o.a.j.e.StandardJMeterEngine: Test will stop abruptly on error\n2023-07-12 18:28:34,770 INFO o.a.j.t.ThreadGroup: Starting thread group... number=1 threads=1 ramp-up=1 delayedStart=false\n2023-07-12 18:28:34,771 INFO o.a.j.t.ThreadGroup: Started thread group number 1\n2023-07-12 18:28:34,771 INFO o.a.j.e.StandardJMeterEngine: Starting ThreadGroup: 2 : Receivers\n2023-07-12 18:28:34,771 INFO o.a.j.e.StandardJMeterEngine: Starting 1 threads for group Receivers.\n2023-07-12 18:28:34,771 INFO o.a.j.e.StandardJMeterEngine: Thread will continue on error\n2023-07-12 18:28:34,771 INFO o.a.j.t.ThreadGroup: Starting thread group... number=2 threads=1 ramp-up=1 delayedStart=false\n2023-07-12 18:28:34,772 INFO o.a.j.t.JMeterThread: Thread started: Senders 1-1\n2023-07-12 18:28:34,772 INFO o.a.j.t.ThreadGroup: Started thread group number 2\n2023-07-12 18:28:34,772 INFO o.a.j.e.StandardJMeterEngine: All thread groups have been started\n2023-07-12 18:28:34,773 INFO o.a.j.t.JMeterThread: Thread started: Receivers 2-1\n2023-07-12 18:29:00,002 INFO o.a.j.r.Summariser: summary +   4986 in 00:00:25 =  197.5/s Avg:     2 Min:     1 Max:  1303 Err:     0 (0.00%) Active: 2 Started: 2 Finished: 0\n2023-07-12 18:29:00,003 INFO o.a.j.r.Summariser: summary =   4987 in 00:00:27 =  187.7/s Avg:     3 Min:     1 Max:  1303 Err:     0 (0.00%)\n2023-07-12 18:29:30,002 INFO o.a.j.r.Summariser: summary +   6000 in 00:00:30 =  200.0/s Avg:     2 Min:     1 Max:     9 Err:     0 (0.00%) Active: 2 Started: 2 Finished: 0\n2023-07-12 18:29:30,003 INFO o.a.j.r.Summariser: summary =  10987 in 00:00:57 =  194.2/s Avg:     2 Min:     1 Max:  1303 Err:     0 (0.00%)\n2023-07-12 18:29:34,771 INFO o.a.j.t.JMeterThread: Stopping because end time detected by thread: Senders 1-1\n2023-07-12 18:29:34,772 INFO o.a.j.t.JMeterThread: Thread finished: Senders 1-1\n2023-07-12 18:29:39,809 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\n2023-07-12 18:29:44,823 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\n2023-07-12 18:29:49,837 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\n2023-07-12 18:29:54,852 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\n2023-07-12 18:29:59,870 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\n2023-07-12 18:30:04,886 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\n2023-07-12 18:30:04,886 INFO o.a.j.r.Summariser: summary +    961 in 00:00:35 =   27.5/s Avg:    33 Min:     1 Max:  5031 Err:     6 (0.62%) Active: 1 Started: 2 Finished: 1\n2023-07-12 18:30:04,888 INFO o.a.j.r.Summariser: summary =  11948 in 00:01:31 =  130.6/s Avg:     5 Min:     1 Max:  5031 Err:     6 (0.05%)\n2023-07-12 18:30:09,903 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\n2023-07-12 18:30:14,915 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\n2023-07-12 18:30:19,929 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\n2023-07-12 18:30:24,946 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\n2023-07-12 18:30:29,961 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\n2023-07-12 18:30:34,982 INFO o.a.j.p.j.s.J.Receive Messages: ############ consumer.receive timed out (timeout value: 5000)\n2023-07-12 18:30:34,983 INFO o.a.j.r.Summariser: summary +      6 in 00:00:30 =    0.2/s Avg:  5015 Min:  5012 Max:  5020 Err:     6 (100.00%) Active: 1 Started: 2 Finished: 1\n2023-07-12 18:30:34,984 INFO o.a.j.r.Summariser: summary =  11954 in 00:02:02 =   98.3/s Avg:     7 Min:     1 Max:  5031 Err:    12 (0.10%)\n2023-07-12 18:30:34,985 INFO o.a.j.t.JMeterThread: Stopping because end time detected by thread: Receivers 2-1\n2023-07-12 18:30:34,986 INFO o.a.j.t.JMeterThread: Thread finished: Receivers 2-1\n2023-07-12 18:30:34,986 INFO o.a.j.e.StandardJMeterEngine: Starting tearDown thread groups\n2023-07-12 18:30:34,986 INFO o.a.j.e.StandardJMeterEngine: Starting tearDown ThreadGroup: 1 : tearDown Thread Group (Sender Connections)\n2023-07-12 18:30:34,986 INFO o.a.j.e.StandardJMeterEngine: Starting 1 threads for group tearDown Thread Group (Sender Connections).\n2023-07-12 18:30:34,986 INFO o.a.j.e.StandardJMeterEngine: Test will stop abruptly on error\n2023-07-12 18:30:34,987 INFO o.a.j.t.ThreadGroup: Starting thread group... number=1 threads=1 ramp-up=1 delayedStart=false\n2023-07-12 18:30:34,989 INFO o.a.j.t.ThreadGroup: Started thread group number 1\n2023-07-12 18:30:34,989 INFO o.a.j.e.StandardJMeterEngine: Starting tearDown ThreadGroup: 2 : tearDown Thread Group (Receiver Connections)\n2023-07-12 18:30:34,989 INFO o.a.j.e.StandardJMeterEngine: Starting 1 threads for group tearDown Thread Group (Receiver Connections).\n2023-07-12 18:30:34,990 INFO o.a.j.e.StandardJMeterEngine: Thread will continue on error\n2023-07-12 18:30:34,990 INFO o.a.j.t.ThreadGroup: Starting thread group... number=2 threads=1 ramp-up=1 delayedStart=false\n2023-07-12 18:30:34,990 INFO o.a.j.t.JMeterThread: Thread started: tearDown Thread Group (Sender Connections) 1-1\n2023-07-12 18:30:34,991 INFO o.a.j.t.ThreadGroup: Started thread group number 2\n2023-07-12 18:30:34,991 INFO o.a.j.t.JMeterThread: Thread started: tearDown Thread Group (Receiver Connections) 2-1\n2023-07-12 18:30:35,042 INFO o.a.j.p.j.s.J.Close Receiver Connections: ###### Receiver Connection Closed\n2023-07-12 18:30:35,042 INFO o.a.j.p.j.s.J.Close Sender Connections: ###### Sender Connection closed\n2023-07-12 18:30:35,043 INFO o.a.j.t.JMeterThread: Thread is done: tearDown Thread Group (Sender Connections) 1-1\n2023-07-12 18:30:35,043 INFO o.a.j.t.JMeterThread: Thread is done: tearDown Thread Group (Receiver Connections) 2-1\n2023-07-12 18:30:35,043 INFO o.a.j.t.JMeterThread: Thread finished: tearDown Thread Group (Sender Connections) 1-1\n2023-07-12 18:30:35,043 INFO o.a.j.t.JMeterThread: Thread finished: tearDown Thread Group (Receiver Connections) 2-1\n2023-07-12 18:30:35,043 INFO o.a.j.e.StandardJMeterEngine: Notifying test listeners of end of test\n2023-07-12 18:30:35,048 INFO o.a.j.r.Summariser: summary +      2 in 00:00:00 =   30.8/s Avg:    50 Min:    49 Max:    51 Err:     0 (0.00%) Active: 0 Started: 2 Finished: 2\n2023-07-12 18:30:35,049 INFO o.a.j.r.Summariser: summary =  11956 in 00:02:02 =   98.3/s Avg:     7 Min:     1 Max:  5031 Err:    12 (0.10%)\n\n</code></pre>\n"},{"tags":["java","hibernate","auto-increment"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":185,"is_accepted":true,"score":184,"last_activity_date":1488296253,"creation_date":1262763942,"answer_id":2011544,"question_id":2011528,"body_markdown":"    @Id\r\n    @GeneratedValue(strategy=GenerationType.AUTO)\r\n    private int id;\r\n\r\nand you leave it `null` (`0`) when persisting. (`null` if you use the `Integer` / `Long` wrappers)\r\n\r\nIn some cases the `AUTO` strategy is resolved to `SEQUENCE` rathen than to `IDENTITY` or `TABLE`, so you might want to manually set it to `IDENTITY` or `TABLE` (depending on the underlying database).\r\n\r\nIt seems __`SEQUENCE`__ + __specifying the sequence name__ worked for you.","title":"Hibernate Auto Increment ID","body":"<pre><code>@Id\n@GeneratedValue(strategy=GenerationType.AUTO)\nprivate int id;\n</code></pre>\n\n<p>and you leave it <code>null</code> (<code>0</code>) when persisting. (<code>null</code> if you use the <code>Integer</code> / <code>Long</code> wrappers)</p>\n\n<p>In some cases the <code>AUTO</code> strategy is resolved to <code>SEQUENCE</code> rathen than to <code>IDENTITY</code> or <code>TABLE</code>, so you might want to manually set it to <code>IDENTITY</code> or <code>TABLE</code> (depending on the underlying database).</p>\n\n<p>It seems <strong><code>SEQUENCE</code></strong> + <strong>specifying the sequence name</strong> worked for you.</p>\n"},{"tags":[],"owner":{"account_id":203256,"reputation":7026,"user_id":450812,"accept_rate":83,"display_name":"alfonx"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1689159720,"creation_date":1296809537,"answer_id":4896112,"question_id":2011528,"body_markdown":"If you have a numeric column that you want to auto-increment, it might be an option to set `columnDefinition` directly. This has the advantage, that the schema auto-generates the value even if it is used without hibernate. This might make your code db-specific though:\r\n\r\n    import javax.persistence.Column;\r\n    @Column(columnDefinition = &quot;serial&quot;) // PostgreSQL\r\n    @Column(columnDefinition = &quot;integer auto_increment&quot;) // MySql\r\n","title":"Hibernate Auto Increment ID","body":"<p>If you have a numeric column that you want to auto-increment, it might be an option to set <code>columnDefinition</code> directly. This has the advantage, that the schema auto-generates the value even if it is used without hibernate. This might make your code db-specific though:</p>\n<pre><code>import javax.persistence.Column;\n@Column(columnDefinition = &quot;serial&quot;) // PostgreSQL\n@Column(columnDefinition = &quot;integer auto_increment&quot;) // MySql\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1138237,"reputation":6479,"user_id":1122841,"accept_rate":57,"display_name":"Kaushik Lele"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1334840824,"creation_date":1334840824,"answer_id":10228759,"question_id":2011528,"body_markdown":"Do it as follows :-\r\n\r\n    @Id\r\n    @GenericGenerator(name=&quot;kaugen&quot; , strategy=&quot;increment&quot;)\r\n    @GeneratedValue(generator=&quot;kaugen&quot;)\r\n    @Column(name=&quot;proj_id&quot;)\r\n      public Integer getId() {\r\n        return id;\r\n     }\r\n\r\nYou can use any arbitrary name instead of kaugen.\r\nIt worked well, I could see below queries on console\r\n\r\n    Hibernate: select max(proj_id) from javaproj\r\n    Hibernate: insert into javaproj (AUTH_email, AUTH_firstName, AUTH_lastName, projname,         proj_id) values (?, ?, ?, ?, ?)\r\n","title":"Hibernate Auto Increment ID","body":"<p>Do it as follows :-</p>\n\n<pre><code>@Id\n@GenericGenerator(name=\"kaugen\" , strategy=\"increment\")\n@GeneratedValue(generator=\"kaugen\")\n@Column(name=\"proj_id\")\n  public Integer getId() {\n    return id;\n }\n</code></pre>\n\n<p>You can use any arbitrary name instead of kaugen.\nIt worked well, I could see below queries on console</p>\n\n<pre><code>Hibernate: select max(proj_id) from javaproj\nHibernate: insert into javaproj (AUTH_email, AUTH_firstName, AUTH_lastName, projname,         proj_id) values (?, ?, ?, ?, ?)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1352123,"reputation":1576,"user_id":1291456,"accept_rate":71,"display_name":"jmoreira"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1343404694,"creation_date":1343404694,"answer_id":11691472,"question_id":2011528,"body_markdown":"FYI\r\n\r\nUsing **netbeans** *New Entity Classes from Database* with a **mysql** *auto_increment* column, creates you an attribute with the following annotations:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Basic(optional = false)\r\n    @Column(name = &quot;id&quot;)\r\n    @NotNull\r\n    private Integer id;\r\n\r\nThis was getting me the same an error saying the column must not be null, so i simply removed the @NotNull anotation leaving the attribute null, and it works!","title":"Hibernate Auto Increment ID","body":"<p>FYI</p>\n\n<p>Using <strong>netbeans</strong> <em>New Entity Classes from Database</em> with a <strong>mysql</strong> *auto_increment* column, creates you an attribute with the following annotations:</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Basic(optional = false)\n@Column(name = \"id\")\n@NotNull\nprivate Integer id;\n</code></pre>\n\n<p>This was getting me the same an error saying the column must not be null, so i simply removed the @NotNull anotation leaving the attribute null, and it works!</p>\n"},{"tags":[],"owner":{"account_id":2980600,"reputation":393,"user_id":2530633,"display_name":"user2530633"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1408986993,"creation_date":1408986993,"answer_id":25491029,"question_id":2011528,"body_markdown":"Hibernate defines five types of identifier generation strategies:\r\n\r\n**AUTO** - either identity column, sequence or table depending on the underlying DB\r\n\r\n**TABLE** - table holding the id\r\n\r\n**IDENTITY** - identity column\r\n\r\n**SEQUENCE** - sequence\r\n\r\n**identity copy** – the identity is copied from another entity\r\n\r\nExample using Table\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.TABLE , generator=&quot;employee_generator&quot;)\r\n    @TableGenerator(name=&quot;employee_generator&quot;, \r\n                    table=&quot;pk_table&quot;, \r\n                    pkColumnName=&quot;name&quot;, \r\n                    valueColumnName=&quot;value&quot;,                            \r\n                    allocationSize=100) \r\n    @Column(name=&quot;employee_id&quot;)\r\n    private Long employeeId;\r\n\r\nfor more details, check the [link][1].\r\n\r\n\r\n  [1]: http://supportmycode.com/2014/08/21/generating-the-identifier-property-generatedvaluestrategygenerationtype-table/","title":"Hibernate Auto Increment ID","body":"<p>Hibernate defines five types of identifier generation strategies:</p>\n\n<p><strong>AUTO</strong> - either identity column, sequence or table depending on the underlying DB</p>\n\n<p><strong>TABLE</strong> - table holding the id</p>\n\n<p><strong>IDENTITY</strong> - identity column</p>\n\n<p><strong>SEQUENCE</strong> - sequence</p>\n\n<p><strong>identity copy</strong> – the identity is copied from another entity</p>\n\n<p>Example using Table</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy=GenerationType.TABLE , generator=\"employee_generator\")\n@TableGenerator(name=\"employee_generator\", \n                table=\"pk_table\", \n                pkColumnName=\"name\", \n                valueColumnName=\"value\",                            \n                allocationSize=100) \n@Column(name=\"employee_id\")\nprivate Long employeeId;\n</code></pre>\n\n<p>for more details, check the <a href=\"http://supportmycode.com/2014/08/21/generating-the-identifier-property-generatedvaluestrategygenerationtype-table/\" rel=\"noreferrer\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":1518790,"reputation":958,"user_id":1419099,"accept_rate":64,"display_name":"Henrique C."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553680083,"creation_date":1553679530,"answer_id":55373957,"question_id":2011528,"body_markdown":"In case anyone &quot;bumps&quot; in this SO question in search for strategies for **Informix** table when **PK** is type **Serial**.\r\n\r\nI have found that this works...as an example.\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    @Column(name = &quot;special_serial_pk&quot;)\r\n    private Integer special_serial_pk;\r\n\r\nFor this to work make sure when you do **session.SaveOrUpdate** you pass the value for the column **special_serial_pk** **NULL**  .\r\n\r\nIn my case i do an **HTML** **POST** with **JSON** like so...\r\n\r\n    {\r\n    &quot;special_serial_pk&quot;: null, //&lt;-- Field to be incremented\r\n    &quot;specialcolumn1&quot;: 1,\r\n    &quot;specialcolumn2&quot;: &quot;I love to code&quot;,\r\n    &quot;specialcolumn3&quot;: true\r\n    }\r\n\r\n","title":"Hibernate Auto Increment ID","body":"<p>In case anyone \"bumps\" in this SO question in search for strategies for <strong>Informix</strong> table when <strong>PK</strong> is type <strong>Serial</strong>.</p>\n\n<p>I have found that this works...as an example.</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy=GenerationType.IDENTITY)\n@Column(name = \"special_serial_pk\")\nprivate Integer special_serial_pk;\n</code></pre>\n\n<p>For this to work make sure when you do <strong>session.SaveOrUpdate</strong> you pass the value for the column <strong>special_serial_pk</strong> <strong>NULL</strong>  .</p>\n\n<p>In my case i do an <strong>HTML</strong> <strong>POST</strong> with <strong>JSON</strong> like so...</p>\n\n<pre><code>{\n\"special_serial_pk\": null, //&lt;-- Field to be incremented\n\"specialcolumn1\": 1,\n\"specialcolumn2\": \"I love to code\",\n\"specialcolumn3\": true\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14387415,"reputation":1,"user_id":10393006,"display_name":"Ankur Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556863233,"creation_date":1556863233,"answer_id":55964048,"question_id":2011528,"body_markdown":"\r\nUsing netbeans New Entity Classes from Database with a mysql *auto_increment* column, creates you an attribute with the following hibernate.hbm.xml:\r\nid is auto increment\r\n &lt;id name=&quot;id&quot;&gt;&lt;generator class=&quot;increment&quot;&gt;&lt;/generator&gt;\r\n&lt;/id&gt;","title":"Hibernate Auto Increment ID","body":"<p>Using netbeans New Entity Classes from Database with a mysql <em>auto_increment</em> column, creates you an attribute with the following hibernate.hbm.xml:\nid is auto increment\n \n</p>\n"}],"owner":{"account_id":49346,"reputation":3117,"user_id":146873,"accept_rate":86,"display_name":"cedric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326227,"favorite_count":0,"down_vote_count":0,"up_vote_count":99,"accepted_answer_id":2011544,"answer_count":7,"score":99,"last_activity_date":1689159720,"creation_date":1262763638,"question_id":2011528,"body_markdown":"I have a j2ee application using hibernate with annotation. How do I annotate the Id field in my pojo class to set it as auto increment or auto generated. and in adding the bean do I leave that field in my bean null?","title":"Hibernate Auto Increment ID","body":"<p>I have a j2ee application using hibernate with annotation. How do I annotate the Id field in my pojo class to set it as auto increment or auto generated. and in adding the bean do I leave that field in my bean null?</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":626,"is_accepted":true,"score":626,"last_activity_date":1497454585,"creation_date":1286830159,"answer_id":3909846,"question_id":3907929,"body_markdown":"Yes, that is safe and recommended.\r\n\r\nThe only caveat from the page you referred is that you can&#39;t be modifying configuration of the mapper once it is shared; but you are not changing configuration so that is fine. If you did need to change configuration, you would do that from the static block and it would be fine as well.\r\n\r\n__EDIT__: (2013/10)\r\n\r\nWith 2.0 and above, above can be augmented by noting that there is an even better way: use `ObjectWriter` and `ObjectReader` objects, which can be constructed by `ObjectMapper`.\r\nThey are fully immutable, thread-safe, meaning that it is not even theoretically possible to cause thread-safety issues (which can occur with `ObjectMapper` if code tries to re-configure instance).\r\n","title":"Should I declare Jackson&#39;s ObjectMapper as a static field?","body":"<p>Yes, that is safe and recommended.</p>\n\n<p>The only caveat from the page you referred is that you can't be modifying configuration of the mapper once it is shared; but you are not changing configuration so that is fine. If you did need to change configuration, you would do that from the static block and it would be fine as well.</p>\n\n<p><strong>EDIT</strong>: (2013/10)</p>\n\n<p>With 2.0 and above, above can be augmented by noting that there is an even better way: use <code>ObjectWriter</code> and <code>ObjectReader</code> objects, which can be constructed by <code>ObjectMapper</code>.\nThey are fully immutable, thread-safe, meaning that it is not even theoretically possible to cause thread-safety issues (which can occur with <code>ObjectMapper</code> if code tries to re-configure instance).</p>\n"},{"tags":[],"owner":{"account_id":495819,"reputation":13159,"user_id":1017787,"accept_rate":64,"display_name":"JBCP"},"down_vote_count":8,"up_vote_count":11,"is_accepted":false,"score":3,"last_activity_date":1441809937,"creation_date":1366821546,"answer_id":16197551,"question_id":3907929,"body_markdown":"Although it is safe to declare a static ObjectMapper in terms of thread safety, you should be aware that constructing static Object variables in Java is considered bad practice. For more details, see https://stackoverflow.com/questions/7026507 (and if you&#39;d like, [my answer][1])\r\n\r\n  [1]: https://stackoverflow.com/a/10307299/1017787\r\n\r\nIn short, statics should be avoided because the make it difficult to write concise unit tests. For example, with a static final ObjectMapper, you can&#39;t swap out the JSON serialization for dummy code or a no-op.\r\n\r\nIn addition, a static final prevents you from ever reconfiguring ObjectMapper at runtime. You might not envision a reason for that now, but if you lock yourself into a static final pattern, nothing short of tearing down the classloader will let you re-initialize it.\r\n\r\nIn the case of ObjectMapper its fine, but in general it is bad practice and there is no advantage over using a singleton pattern or inversion-of-control to manage your long-lived objects.","title":"Should I declare Jackson&#39;s ObjectMapper as a static field?","body":"<p>Although it is safe to declare a static ObjectMapper in terms of thread safety, you should be aware that constructing static Object variables in Java is considered bad practice. For more details, see <a href=\"https://stackoverflow.com/questions/7026507\">Why are static variables considered evil?</a> (and if you'd like, <a href=\"https://stackoverflow.com/a/10307299/1017787\">my answer</a>)</p>\n\n<p>In short, statics should be avoided because the make it difficult to write concise unit tests. For example, with a static final ObjectMapper, you can't swap out the JSON serialization for dummy code or a no-op.</p>\n\n<p>In addition, a static final prevents you from ever reconfiguring ObjectMapper at runtime. You might not envision a reason for that now, but if you lock yourself into a static final pattern, nothing short of tearing down the classloader will let you re-initialize it.</p>\n\n<p>In the case of ObjectMapper its fine, but in general it is bad practice and there is no advantage over using a singleton pattern or inversion-of-control to manage your long-lived objects.</p>\n"},{"tags":[],"owner":{"account_id":5119569,"reputation":1104,"user_id":4103615,"accept_rate":83,"display_name":"Gary Greenberg"},"down_vote_count":1,"up_vote_count":89,"is_accepted":false,"score":88,"last_activity_date":1458671765,"creation_date":1458671765,"answer_id":36162525,"question_id":3907929,"body_markdown":"Although ObjectMapper is thread safe, I would strongly discourage from declaring it as a static variable, especially in multithreaded application.\r\nNot even because it is a bad practice, but because you are running a heavy risk of deadlocking. I am telling it from my own experience. I created an application with 4 identical threads that were getting and processing JSON data from web services.\r\nMy application was frequently stalling on the following command, according to the thread dump:\r\n\r\n    Map aPage = mapper.readValue(reader, Map.class);\r\n\r\nBeside that, performance was not good.\r\nWhen I replaced static variable with the instance based variable, stalling disappeared and performance quadrupled. I.e. 2.4 millions JSON documents were processed in 40min.56sec., instead of 2.5 hours previously.","title":"Should I declare Jackson&#39;s ObjectMapper as a static field?","body":"<p>Although ObjectMapper is thread safe, I would strongly discourage from declaring it as a static variable, especially in multithreaded application.\nNot even because it is a bad practice, but because you are running a heavy risk of deadlocking. I am telling it from my own experience. I created an application with 4 identical threads that were getting and processing JSON data from web services.\nMy application was frequently stalling on the following command, according to the thread dump:</p>\n\n<pre><code>Map aPage = mapper.readValue(reader, Map.class);\n</code></pre>\n\n<p>Beside that, performance was not good.\nWhen I replaced static variable with the instance based variable, stalling disappeared and performance quadrupled. I.e. 2.4 millions JSON documents were processed in 40min.56sec., instead of 2.5 hours previously.</p>\n"},{"tags":[],"owner":{"account_id":8016571,"reputation":1174,"user_id":6046655,"accept_rate":50,"display_name":"Harshit"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1493374568,"creation_date":1493374568,"answer_id":43677778,"question_id":3907929,"body_markdown":"\r\n*com.fasterxml.jackson.databind.type.TypeFactory._hashMapSuperInterfaceChain(HierarchicType)*\r\n\r\n    com.fasterxml.jackson.databind.type.TypeFactory._findSuperInterfaceChain(Type, Class)\r\n      com.fasterxml.jackson.databind.type.TypeFactory._findSuperTypeChain(Class, Class)\r\n         com.fasterxml.jackson.databind.type.TypeFactory.findTypeParameters(Class, Class, TypeBindings)\r\n            com.fasterxml.jackson.databind.type.TypeFactory.findTypeParameters(JavaType, Class)\r\n               com.fasterxml.jackson.databind.type.TypeFactory._fromParamType(ParameterizedType, TypeBindings)\r\n                  com.fasterxml.jackson.databind.type.TypeFactory._constructType(Type, TypeBindings)\r\n                     com.fasterxml.jackson.databind.type.TypeFactory.constructType(TypeReference)\r\n                        com.fasterxml.jackson.databind.ObjectMapper.convertValue(Object, TypeReference)\r\n\r\nThe method _hashMapSuperInterfaceChain in class **com.fasterxml.jackson.databind.type.TypeFactory** is synchronized. \r\nAm seeing contention on the same at high loads.\r\n\r\nMay be another reason to avoid a static ObjectMapper","title":"Should I declare Jackson&#39;s ObjectMapper as a static field?","body":"<p><em>com.fasterxml.jackson.databind.type.TypeFactory._hashMapSuperInterfaceChain(HierarchicType)</em></p>\n\n<pre><code>com.fasterxml.jackson.databind.type.TypeFactory._findSuperInterfaceChain(Type, Class)\n  com.fasterxml.jackson.databind.type.TypeFactory._findSuperTypeChain(Class, Class)\n     com.fasterxml.jackson.databind.type.TypeFactory.findTypeParameters(Class, Class, TypeBindings)\n        com.fasterxml.jackson.databind.type.TypeFactory.findTypeParameters(JavaType, Class)\n           com.fasterxml.jackson.databind.type.TypeFactory._fromParamType(ParameterizedType, TypeBindings)\n              com.fasterxml.jackson.databind.type.TypeFactory._constructType(Type, TypeBindings)\n                 com.fasterxml.jackson.databind.type.TypeFactory.constructType(TypeReference)\n                    com.fasterxml.jackson.databind.ObjectMapper.convertValue(Object, TypeReference)\n</code></pre>\n\n<p>The method _hashMapSuperInterfaceChain in class <strong>com.fasterxml.jackson.databind.type.TypeFactory</strong> is synchronized. \nAm seeing contention on the same at high loads.</p>\n\n<p>May be another reason to avoid a static ObjectMapper</p>\n"},{"tags":[],"owner":{"account_id":5021560,"reputation":189,"user_id":4304298,"display_name":"Lin_n"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1538371169,"creation_date":1538371169,"answer_id":52584949,"question_id":3907929,"body_markdown":"A trick I learned from this [PR][1] if you don&#39;t want to define it as a static final variable but want to save a bit of overhead and guarantee thread safe.\r\n\r\n    private static final ThreadLocal&lt;ObjectMapper&gt; om = new ThreadLocal&lt;ObjectMapper&gt;() {\r\n        @Override\r\n        protected ObjectMapper initialValue() {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            return objectMapper;\r\n        }\r\n    };\r\n\r\n    public static ObjectMapper getObjectMapper() {\r\n        return om.get();\r\n    }\r\ncredit to the author.\r\n\r\n  [1]: https://github.com/yandex/clickhouse-jdbc/pull/149","title":"Should I declare Jackson&#39;s ObjectMapper as a static field?","body":"<p>A trick I learned from this <a href=\"https://github.com/yandex/clickhouse-jdbc/pull/149\" rel=\"noreferrer\">PR</a> if you don't want to define it as a static final variable but want to save a bit of overhead and guarantee thread safe.</p>\n\n<pre><code>private static final ThreadLocal&lt;ObjectMapper&gt; om = new ThreadLocal&lt;ObjectMapper&gt;() {\n    @Override\n    protected ObjectMapper initialValue() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        return objectMapper;\n    }\n};\n\npublic static ObjectMapper getObjectMapper() {\n    return om.get();\n}\n</code></pre>\n\n<p>credit to the author.</p>\n"},{"tags":[],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637788287,"creation_date":1637788287,"answer_id":70102985,"question_id":3907929,"body_markdown":"This question may be old, but here&#39;s what I do.\r\n\r\nHold the `ObjectMapper` instance in a thread-safe singleton:\r\n\r\n```java\r\npublic final class JacksonObjectMapperHolder {\r\n\r\n  private static volatile JacksonObjectMapperHolder INSTANCE;\r\n\r\n  private static final Object MUTEX = new Object();\r\n\r\n  public static JacksonObjectMapperHolder getInstance() {\r\n    JacksonObjectMapperHolder instance = INSTANCE;\r\n\r\n    if(instance == null) {\r\n      synchronized(MUTEX) {\r\n        instance = INSTANCE;\r\n\r\n        if(instance == null) {\r\n          INSTANCE = instance = new JacksonObjectMapperHolder();\r\n        }\r\n      }\r\n    }\r\n\r\n    return instance;\r\n  }\r\n\r\n  private final ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n  private JacksonObjectMapperHolder() {\r\n    super();\r\n  }\r\n\r\n  public final ObjectMapper getObjectMapper() {\r\n    return objectMapper;\r\n  }\r\n\r\n}\r\n```","title":"Should I declare Jackson&#39;s ObjectMapper as a static field?","body":"<p>This question may be old, but here's what I do.</p>\n<p>Hold the <code>ObjectMapper</code> instance in a thread-safe singleton:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class JacksonObjectMapperHolder {\n\n  private static volatile JacksonObjectMapperHolder INSTANCE;\n\n  private static final Object MUTEX = new Object();\n\n  public static JacksonObjectMapperHolder getInstance() {\n    JacksonObjectMapperHolder instance = INSTANCE;\n\n    if(instance == null) {\n      synchronized(MUTEX) {\n        instance = INSTANCE;\n\n        if(instance == null) {\n          INSTANCE = instance = new JacksonObjectMapperHolder();\n        }\n      }\n    }\n\n    return instance;\n  }\n\n  private final ObjectMapper objectMapper = new ObjectMapper();\n\n  private JacksonObjectMapperHolder() {\n    super();\n  }\n\n  public final ObjectMapper getObjectMapper() {\n    return objectMapper;\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226936,"favorite_count":0,"down_vote_count":0,"up_vote_count":467,"accepted_answer_id":3909846,"answer_count":6,"score":467,"last_activity_date":1689159710,"creation_date":1286813293,"question_id":3907929,"body_markdown":"The Jackson library&#39;s `ObjectMapper` class [seems to be thread safe][1].\r\n\r\nDoes this mean that I should declare my `ObjectMapper` as a static field like this\r\n\r\n    class Me {\r\n        private static final ObjectMapper mapper = new ObjectMapper();\r\n    }\r\n\r\ninstead of as an instance-level field like this?\r\n\r\n    class Me {\r\n        private final ObjectMapper mapper = new ObjectMapper();\r\n    }\r\n\r\n  [1]: https://www.programming-books.io/essential/java/using-jackson-object-mapper-abee93d1c8c645d5a31af402c11e7617","title":"Should I declare Jackson&#39;s ObjectMapper as a static field?","body":"<p>The Jackson library's <code>ObjectMapper</code> class <a href=\"https://www.programming-books.io/essential/java/using-jackson-object-mapper-abee93d1c8c645d5a31af402c11e7617\" rel=\"noreferrer\">seems to be thread safe</a>.</p>\n\n<p>Does this mean that I should declare my <code>ObjectMapper</code> as a static field like this</p>\n\n<pre><code>class Me {\n    private static final ObjectMapper mapper = new ObjectMapper();\n}\n</code></pre>\n\n<p>instead of as an instance-level field like this?</p>\n\n<pre><code>class Me {\n    private final ObjectMapper mapper = new ObjectMapper();\n}\n</code></pre>\n"},{"tags":["java","calendar","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":0,"creation_date":1687860617,"post_id":76562991,"comment_id":134992528,"body_markdown":"It looks ok on the surface, but maybe there&#39;s some subtle error. Have you tried hard-coding the date and time of the event?","body":"It looks ok on the surface, but maybe there&#39;s some subtle error. Have you tried hard-coding the date and time of the event?"},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1687871020,"post_id":76562991,"comment_id":134994919,"body_markdown":"What does &quot;does not work&quot; mean? Also your subject states &quot;addEntry&quot;, but\nin your code only is a call to &quot;addEntries&quot;. Typo?","body":"What does &quot;does not work&quot; mean? Also your subject states &quot;addEntry&quot;, but in your code only is a call to &quot;addEntries&quot;. Typo?"}],"answers":[{"tags":[],"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689159273,"creation_date":1689159273,"answer_id":76669791,"question_id":76562991,"body_markdown":"now i understand better.\r\nto create a event by clicking on a date on the calendar:\r\n\r\n     private void showEditorDialog(Entry entryOnClick, boolean isNew, FullCalendar calendar) {\r\n                InMemoryEntryProvider&lt;Entry&gt; entryProvider = calendar.getEntryProvider().asInMemory();\r\n\r\n                Dialog editorDialog = new Dialog();\r\n                VerticalLayout layout = new VerticalLayout();\r\n                TextField titleField = new TextField(&quot;Titolo Evento&quot;);\r\n                titleField.setValue(entryOnClick.getTitle());\r\n                layout.add(titleField);\r\n\r\n                // Save button click listener\r\n                Button saveButton = new Button(&quot;Salva&quot;, event -&gt; {\r\n                    entryOnClick.setTitle(titleField.getValue());\r\n                    if (isNew) {\r\n                        entryProvider.addEntry(entryOnClick);\r\n                    } else {\r\n                        entryProvider.refreshItem(entryOnClick);\r\n                    }\r\n                    editorDialog.close();\r\n                    entryProvider.refreshAll();\r\n                });\r\n\r\n                // Cancel button click listener\r\n                Button cancelButton = new Button(&quot;Cancella&quot;, event -&gt; {\r\n                    entryProvider.removeEntry(entryOnClick);\r\n                    editorDialog.close();\r\n                    entryProvider.refreshAll();\r\n                });\r\n\r\n                layout.add(saveButton, cancelButton);\r\n                editorDialog.add(layout);\r\n                editorDialog.open();\r\n            }\r\n\r\nThen i created a separate class to handle the toolbar:\r\n\r\n     protected SubMenu initEditItems() {\r\n        SubMenu calendarItems = addItem(&quot;Crea Evento&quot;).getSubMenu();\r\n\r\n        MenuItem addRecurringItems;\r\n        MenuItem addSingleItem;\r\n        InMemoryEntryProvider&lt;Entry&gt; entryProviderToolbar = calendar.getEntryProvider().asInMemory();\r\n\r\n        if (onSamplesCreated != null) {\r\n            addSingleItem = calendarItems.addItem(&quot;Crea singolo Evento&quot;, event -&gt; {\r\n            //event.getSource().setEnabled(false);\r\n\r\n            // Create a dialog to collect user input\r\n            Dialog dialog = new Dialog();\r\n            VerticalLayout layout = new VerticalLayout();\r\n\r\n            // Create Vaadin components for user input\r\n            TextField titleField = new TextField(&quot;Titolo Evento&quot;);\r\n            titleField.setRequiredIndicatorVisible(true);\r\n\r\n            DatePicker startDatePicker = new DatePicker(&quot;Inizio Evento&quot;);\r\n            startDatePicker.setRequiredIndicatorVisible(true);\r\n\r\n            TimePicker startTimePicker = new TimePicker(&quot;Orario Inizio Evento&quot;);\r\n            startTimePicker.setValue(LocalTime.MIN);\r\n            DatePicker endDatePicker = new DatePicker(&quot;Fine evento&quot;);\r\n            endDatePicker.setValue(LocalDate.now());\r\n            TimePicker endTimePicker = new TimePicker(&quot;Orario Fine Evento&quot;);\r\n            endTimePicker.setValue(LocalTime.MAX);\r\n\r\n            // Add components to the layout\r\n            layout.add(titleField, startDatePicker, startTimePicker, endDatePicker, endTimePicker);\r\n\r\n            // Create save and cancel buttons\r\n            Button saveButton = new Button(&quot;Salva&quot;, saveEvent -&gt; {\r\n                //validate required fields\r\n                if (titleField.getValue().isEmpty() || startDatePicker.getValue() == null) {\r\n                    Notification.show(&quot;Pervafore inserisci tutti i campi obbligatori&quot;, 3000, Notification.Position.MIDDLE);\r\n                    return;\r\n                }\r\n                // Create a new entry with the user&#39;s input\r\n                Entry entry = new Entry();\r\n                entry.setStart(startDatePicker.getValue().atTime(startTimePicker.getValue()));\r\n                entry.setEnd(endDatePicker.getValue().atTime(endTimePicker.getValue()));\r\n                entry.setTitle(titleField.getValue());\r\n\r\n                // Add the entry to the calendar and refresh the view\r\n                entryProviderToolbar.addEntry(entry);\r\n                entryProviderToolbar.refreshAll();\r\n                onSamplesCreated.accept(Collections.singletonList(entry));\r\n                Notification.show(&quot;Added a single entry&quot;);\r\n\r\n                // Close the dialog\r\n                dialog.close();\r\n            });\r\n            saveButton.addThemeVariants(ButtonVariant.LUMO_PRIMARY);\r\n\r\n            Button cancelButton = new Button(&quot;Cancella&quot;, cancelEvent -&gt; {\r\n                dialog.close();\r\n            });\r\n\r\n        // Add buttons to the layout\r\n        layout.add(saveButton, cancelButton);\r\n\r\n        // Add layout to the dialog and open it\r\n        dialog.add(layout);\r\n        dialog.open();\r\n    });\r\nthis is how you can create an event outside and inside the calendar","title":"addEntry does not work in Vaadin FullCalendar add-on","body":"<p>now i understand better.\nto create a event by clicking on a date on the calendar:</p>\n<pre><code> private void showEditorDialog(Entry entryOnClick, boolean isNew, FullCalendar calendar) {\n            InMemoryEntryProvider&lt;Entry&gt; entryProvider = calendar.getEntryProvider().asInMemory();\n\n            Dialog editorDialog = new Dialog();\n            VerticalLayout layout = new VerticalLayout();\n            TextField titleField = new TextField(&quot;Titolo Evento&quot;);\n            titleField.setValue(entryOnClick.getTitle());\n            layout.add(titleField);\n\n            // Save button click listener\n            Button saveButton = new Button(&quot;Salva&quot;, event -&gt; {\n                entryOnClick.setTitle(titleField.getValue());\n                if (isNew) {\n                    entryProvider.addEntry(entryOnClick);\n                } else {\n                    entryProvider.refreshItem(entryOnClick);\n                }\n                editorDialog.close();\n                entryProvider.refreshAll();\n            });\n\n            // Cancel button click listener\n            Button cancelButton = new Button(&quot;Cancella&quot;, event -&gt; {\n                entryProvider.removeEntry(entryOnClick);\n                editorDialog.close();\n                entryProvider.refreshAll();\n            });\n\n            layout.add(saveButton, cancelButton);\n            editorDialog.add(layout);\n            editorDialog.open();\n        }\n</code></pre>\n<p>Then i created a separate class to handle the toolbar:</p>\n<pre><code> protected SubMenu initEditItems() {\n    SubMenu calendarItems = addItem(&quot;Crea Evento&quot;).getSubMenu();\n\n    MenuItem addRecurringItems;\n    MenuItem addSingleItem;\n    InMemoryEntryProvider&lt;Entry&gt; entryProviderToolbar = calendar.getEntryProvider().asInMemory();\n\n    if (onSamplesCreated != null) {\n        addSingleItem = calendarItems.addItem(&quot;Crea singolo Evento&quot;, event -&gt; {\n        //event.getSource().setEnabled(false);\n\n        // Create a dialog to collect user input\n        Dialog dialog = new Dialog();\n        VerticalLayout layout = new VerticalLayout();\n\n        // Create Vaadin components for user input\n        TextField titleField = new TextField(&quot;Titolo Evento&quot;);\n        titleField.setRequiredIndicatorVisible(true);\n\n        DatePicker startDatePicker = new DatePicker(&quot;Inizio Evento&quot;);\n        startDatePicker.setRequiredIndicatorVisible(true);\n\n        TimePicker startTimePicker = new TimePicker(&quot;Orario Inizio Evento&quot;);\n        startTimePicker.setValue(LocalTime.MIN);\n        DatePicker endDatePicker = new DatePicker(&quot;Fine evento&quot;);\n        endDatePicker.setValue(LocalDate.now());\n        TimePicker endTimePicker = new TimePicker(&quot;Orario Fine Evento&quot;);\n        endTimePicker.setValue(LocalTime.MAX);\n\n        // Add components to the layout\n        layout.add(titleField, startDatePicker, startTimePicker, endDatePicker, endTimePicker);\n\n        // Create save and cancel buttons\n        Button saveButton = new Button(&quot;Salva&quot;, saveEvent -&gt; {\n            //validate required fields\n            if (titleField.getValue().isEmpty() || startDatePicker.getValue() == null) {\n                Notification.show(&quot;Pervafore inserisci tutti i campi obbligatori&quot;, 3000, Notification.Position.MIDDLE);\n                return;\n            }\n            // Create a new entry with the user's input\n            Entry entry = new Entry();\n            entry.setStart(startDatePicker.getValue().atTime(startTimePicker.getValue()));\n            entry.setEnd(endDatePicker.getValue().atTime(endTimePicker.getValue()));\n            entry.setTitle(titleField.getValue());\n\n            // Add the entry to the calendar and refresh the view\n            entryProviderToolbar.addEntry(entry);\n            entryProviderToolbar.refreshAll();\n            onSamplesCreated.accept(Collections.singletonList(entry));\n            Notification.show(&quot;Added a single entry&quot;);\n\n            // Close the dialog\n            dialog.close();\n        });\n        saveButton.addThemeVariants(ButtonVariant.LUMO_PRIMARY);\n\n        Button cancelButton = new Button(&quot;Cancella&quot;, cancelEvent -&gt; {\n            dialog.close();\n        });\n\n    // Add buttons to the layout\n    layout.add(saveButton, cancelButton);\n\n    // Add layout to the dialog and open it\n    dialog.add(layout);\n    dialog.open();\n});\n</code></pre>\n<p>this is how you can create an event outside and inside the calendar</p>\n"}],"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76669791,"answer_count":1,"score":0,"last_activity_date":1689159273,"creation_date":1687854454,"question_id":76562991,"body_markdown":"I&#39;ve written logic that adds an event inside a Vaadin FullCalendar but it does not work.\r\n\r\nThis is my code so far. By clicking &quot;update&quot; I should be able to add an event to my calendar:\r\n\r\n``` \r\nInMemoryEntryProvider&lt;ResourceEntry&gt; entryProvider = new InMemoryEntryProvider&lt;&gt;();\r\ncalendar.setEntryProvider(entryProvider);\r\n  \r\n//update or remove a calendar entry\r\nHorizontalLayout entryControlsLayout = new HorizontalLayout();\r\nentryControlsLayout.setSpacing(true);\r\nentryControlsLayout.setAlignItems(Alignment.BASELINE);\r\nEntry entryCustom = new Entry();\r\nSelect&lt;String&gt; selectTitle = new Select&lt;&gt;();\r\nDatePicker datePickerStart = new DatePicker(&quot;inzio&quot;);\r\nDatePicker datePickerEnd = new DatePicker(&quot;fine&quot;);\r\nTimePicker timePicker = new TimePicker(&quot;Select Time&quot;);\r\nTimePicker timePickerEnd = new TimePicker(&quot;Select Time&quot;);\r\ndatePickerStart.setValue(LocalDate.now());\r\ndatePickerEnd.setValue(LocalDate.now());\r\ntimePicker.setValue(LocalTime.now());\r\ntimePickerEnd.setValue(LocalTime.now());\r\nselectTitle.setLabel(&quot;Ordina Come&quot;);\r\nselectTitle.setItems(&quot;Primo pi&#249; recente&quot;, &quot;Rating: high to low&quot;, &quot;Rating: low to high&quot;, &quot;Price: high to low&quot;, &quot;Price: low to high&quot;);\r\nselectTitle.setValue(&quot;Primo pi&#249; recente&quot;);\r\nentryCustom.setTitle(selectTitle.getValue());\r\nentryCustom.setColor(&quot;#ff3333&quot;);\r\nentryCustom.setStartEditable(true);\r\nentryCustom.setStart(datePickerStart.getValue().atTime(timePicker.getValue()));\r\nentryCustom.setEnd(datePickerEnd.getValue().atTime(timePickerEnd.getValue()));\r\nButton updateButton = new Button(&quot;Update&quot;, e -&gt; {\r\n   entryCustom.setTitle(selectTitle.getValue());\r\n   entryCustom.setStart(datePickerStart.getValue().atTime(timePicker.getValue()));\r\n   entryCustom.setEnd(datePickerEnd.getValue().atTime(timePickerEnd.getValue()));\r\n   calendar.getEntryProvider().asInMemory().addEntries(entryCustom);\r\n});\r\nButton removeButton = new Button(&quot;Remove&quot;, e -&gt; {\r\n  calendar.getEntryProvider().asInMemory().removeEntries(entryCustom);\r\n});\r\nentryControlsLayout.add(selectTitle, datePickerStart, datePickerEnd, timePicker, timePickerEnd, updateButton, removeButton );\r\n```\r\n\r\nand this is the style setting that I have:\r\n\r\n``` \r\ncalendar.setSizeFull();\r\ncalendar.setLocale(Locale.ITALIAN);\r\ncalendar.setFirstDay(DayOfWeek.MONDAY);\r\ncalendar.setTimezone(Timezone.UTC);\r\ncalendar.setNowIndicatorShown(true);\r\ncalendar.setNumberClickable(true);\r\ncalendar.setWeekNumbersVisible(false);\r\n\r\nHorizontalLayout calendarLayout = new HorizontalLayout();\r\ncalendarLayout.setSizeFull();\r\ncalendarLayout.addClassName(&quot;calendar-layout&quot;);\r\ncalendarLayout.add(calendar);\r\n\r\nadd(entryControlsLayout, topControlsLayout, calendarLayout);\r\n\r\nmonthViewButton.addClickListener(event -&gt; calendar.changeView(CalendarViewImpl.DAY_GRID_MONTH));\r\nweekViewButton.addClickListener(event -&gt; calendar.changeView(CalendarViewImpl.TIME_GRID_WEEK));\r\ndayViewButton.addClickListener(event -&gt; calendar.changeView(CalendarViewImpl.TIME_GRID_DAY));\r\n\r\nsetSizeFull();\r\nsetSpacing(true);\r\n```\r\n\r\nI&#39;ve been trying [to follow this][1] but it doesn&#39;t make much sense to me.\r\n\r\n\r\n  [1]: https://github.com/stefanuebe/vaadin_fullcalendar/wiki/FullCalendar-Examples","title":"addEntry does not work in Vaadin FullCalendar add-on","body":"<p>I've written logic that adds an event inside a Vaadin FullCalendar but it does not work.</p>\n<p>This is my code so far. By clicking &quot;update&quot; I should be able to add an event to my calendar:</p>\n<pre><code>InMemoryEntryProvider&lt;ResourceEntry&gt; entryProvider = new InMemoryEntryProvider&lt;&gt;();\ncalendar.setEntryProvider(entryProvider);\n  \n//update or remove a calendar entry\nHorizontalLayout entryControlsLayout = new HorizontalLayout();\nentryControlsLayout.setSpacing(true);\nentryControlsLayout.setAlignItems(Alignment.BASELINE);\nEntry entryCustom = new Entry();\nSelect&lt;String&gt; selectTitle = new Select&lt;&gt;();\nDatePicker datePickerStart = new DatePicker(&quot;inzio&quot;);\nDatePicker datePickerEnd = new DatePicker(&quot;fine&quot;);\nTimePicker timePicker = new TimePicker(&quot;Select Time&quot;);\nTimePicker timePickerEnd = new TimePicker(&quot;Select Time&quot;);\ndatePickerStart.setValue(LocalDate.now());\ndatePickerEnd.setValue(LocalDate.now());\ntimePicker.setValue(LocalTime.now());\ntimePickerEnd.setValue(LocalTime.now());\nselectTitle.setLabel(&quot;Ordina Come&quot;);\nselectTitle.setItems(&quot;Primo più recente&quot;, &quot;Rating: high to low&quot;, &quot;Rating: low to high&quot;, &quot;Price: high to low&quot;, &quot;Price: low to high&quot;);\nselectTitle.setValue(&quot;Primo più recente&quot;);\nentryCustom.setTitle(selectTitle.getValue());\nentryCustom.setColor(&quot;#ff3333&quot;);\nentryCustom.setStartEditable(true);\nentryCustom.setStart(datePickerStart.getValue().atTime(timePicker.getValue()));\nentryCustom.setEnd(datePickerEnd.getValue().atTime(timePickerEnd.getValue()));\nButton updateButton = new Button(&quot;Update&quot;, e -&gt; {\n   entryCustom.setTitle(selectTitle.getValue());\n   entryCustom.setStart(datePickerStart.getValue().atTime(timePicker.getValue()));\n   entryCustom.setEnd(datePickerEnd.getValue().atTime(timePickerEnd.getValue()));\n   calendar.getEntryProvider().asInMemory().addEntries(entryCustom);\n});\nButton removeButton = new Button(&quot;Remove&quot;, e -&gt; {\n  calendar.getEntryProvider().asInMemory().removeEntries(entryCustom);\n});\nentryControlsLayout.add(selectTitle, datePickerStart, datePickerEnd, timePicker, timePickerEnd, updateButton, removeButton );\n</code></pre>\n<p>and this is the style setting that I have:</p>\n<pre><code>calendar.setSizeFull();\ncalendar.setLocale(Locale.ITALIAN);\ncalendar.setFirstDay(DayOfWeek.MONDAY);\ncalendar.setTimezone(Timezone.UTC);\ncalendar.setNowIndicatorShown(true);\ncalendar.setNumberClickable(true);\ncalendar.setWeekNumbersVisible(false);\n\nHorizontalLayout calendarLayout = new HorizontalLayout();\ncalendarLayout.setSizeFull();\ncalendarLayout.addClassName(&quot;calendar-layout&quot;);\ncalendarLayout.add(calendar);\n\nadd(entryControlsLayout, topControlsLayout, calendarLayout);\n\nmonthViewButton.addClickListener(event -&gt; calendar.changeView(CalendarViewImpl.DAY_GRID_MONTH));\nweekViewButton.addClickListener(event -&gt; calendar.changeView(CalendarViewImpl.TIME_GRID_WEEK));\ndayViewButton.addClickListener(event -&gt; calendar.changeView(CalendarViewImpl.TIME_GRID_DAY));\n\nsetSizeFull();\nsetSpacing(true);\n</code></pre>\n<p>I've been trying <a href=\"https://github.com/stefanuebe/vaadin_fullcalendar/wiki/FullCalendar-Examples\" rel=\"nofollow noreferrer\">to follow this</a> but it doesn't make much sense to me.</p>\n"},{"tags":["java","module"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689159085,"creation_date":1689149249,"answer_id":76668388,"question_id":76667243,"body_markdown":"Those libraries don&#39;t have a `module-info.class`, nor do they have an `Automatic-Module-Name` entry in their manifest, so Java uses a heuristic to derive a module name from the JAR filename. This heuristic fails and results in an invalid name. \r\n\r\nYou have two choices:\r\n\r\n1. Don&#39;t try to use these libraries as modules, but add them to the classpath instead of the modulepath; this will make them part of the unnamed module. Your modular code will not be able to interact with them directly. Only non-modularized code (JARs without a `module-info.class`) on the modulepath can directly interact with classes on the classpath. So, maybe it is a sign you shouldn&#39;t attempt to modularize this application.\r\n\r\n2. You will either need to manually patch those libraries so at minimum they declare an `Automatic-Module-Name` in their manifest, or contain a `module-info.class`, or you need to look for a version which is either properly modularized, or at least declares the `Automatic-Module-Name` (FYI, even Kafka 3.5.0 doesn&#39;t have this yet). Alternatively, rename the libraries on your deployment so they don&#39;t break the derivation of module names (specifically, remove the `-2.13` of the Scala version, and maybe the `-test` suffix needs to come before the version).\r\n\r\nThere is an open issue on the Kafka project requesting addition of an `Automatic-Module-Name`, [KAFKA-7490][1], but given it has been open since 2018, I wouldn&#39;t hold my breath waiting for it.\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/KAFKA-7490","title":"Modularization of a Java 17 project: compilation warns me against Invalid module names of third parties jars. Will this prevent me from succeed?","body":"<p>Those libraries don't have a <code>module-info.class</code>, nor do they have an <code>Automatic-Module-Name</code> entry in their manifest, so Java uses a heuristic to derive a module name from the JAR filename. This heuristic fails and results in an invalid name.</p>\n<p>You have two choices:</p>\n<ol>\n<li><p>Don't try to use these libraries as modules, but add them to the classpath instead of the modulepath; this will make them part of the unnamed module. Your modular code will not be able to interact with them directly. Only non-modularized code (JARs without a <code>module-info.class</code>) on the modulepath can directly interact with classes on the classpath. So, maybe it is a sign you shouldn't attempt to modularize this application.</p>\n</li>\n<li><p>You will either need to manually patch those libraries so at minimum they declare an <code>Automatic-Module-Name</code> in their manifest, or contain a <code>module-info.class</code>, or you need to look for a version which is either properly modularized, or at least declares the <code>Automatic-Module-Name</code> (FYI, even Kafka 3.5.0 doesn't have this yet). Alternatively, rename the libraries on your deployment so they don't break the derivation of module names (specifically, remove the <code>-2.13</code> of the Scala version, and maybe the <code>-test</code> suffix needs to come before the version).</p>\n</li>\n</ol>\n<p>There is an open issue on the Kafka project requesting addition of an <code>Automatic-Module-Name</code>, <a href=\"https://issues.apache.org/jira/browse/KAFKA-7490\" rel=\"nofollow noreferrer\">KAFKA-7490</a>, but given it has been open since 2018, I wouldn't hold my breath waiting for it.</p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76668388,"answer_count":1,"score":0,"last_activity_date":1689159085,"creation_date":1689137713,"question_id":76667243,"body_markdown":"I&#39;m starting my project modularization.\r\n\r\nThis way, I expect getting rid of boring `--add-exports`, `--add-opens` declarations I have everywhere around `java` commands in command lines scripts, _Maven_ POM, service of `systemctl` declaration.\r\n\r\n```\r\n--add-exports java.base/sun.nio.ch=ALL-UNNAMED\r\n--add-opens java.base/java.util=ALL-UNNAMED\r\n--add-opens java.base/java.io=ALL-UNNAMED\r\n--add-opens java.base/java.nio=ALL-UNNAMED\r\n--add-opens java.base/java.lang=ALL-UNNAMED\r\n--add-opens java.base/java.lang.invoke=ALL-UNNAMED\r\n--add-opens java.base/sun.security.util=ALL-UNNAMED\r\n--add-opens java.base/sun.security.action=ALL-UNNAMED\r\n```\r\n\r\nAnd it&#39;s also a good time for cleaning POMs from excessive dependencies.\r\n\r\n---\r\n\r\nBut as soon I&#39;ve wrote my first `modules.java` file for my first component (among 54),  \r\n_Maven_ handles it and _Java_ compilation warns me against some  \r\n__invalid module names__  \r\nthat can be found among third parties dependencies (here, from a parent POM).\r\n\r\n```log\r\nCan&#39;t extract module name from kafka_2.13-3.1.2-test.jar: kafka.2.13: Invalid module name: &#39;2&#39; is not a Java identifier\r\nCan&#39;t extract module name from jackson-module-scala_2.13-2.13.5.jar: jackson.module.scala.2.13: Invalid module name: &#39;2&#39; is not a Java identifier\r\nCan&#39;t extract module name from scala-logging_2.13-3.9.3.jar: scala.logging.2.13: Invalid module name: &#39;2&#39; is not a Java identifier\r\nCan&#39;t extract module name from kafka_2.13-3.1.2.jar: kafka.2.13: Invalid module name: &#39;2&#39; is not a Java identifier\r\n```\r\n\r\nDoes this mean I am doomed, and eventually these jars will prevent modularization,  \r\nor do I have a way to workaround them?","title":"Modularization of a Java 17 project: compilation warns me against Invalid module names of third parties jars. Will this prevent me from succeed?","body":"<p>I'm starting my project modularization.</p>\n<p>This way, I expect getting rid of boring <code>--add-exports</code>, <code>--add-opens</code> declarations I have everywhere around <code>java</code> commands in command lines scripts, <em>Maven</em> POM, service of <code>systemctl</code> declaration.</p>\n<pre><code>--add-exports java.base/sun.nio.ch=ALL-UNNAMED\n--add-opens java.base/java.util=ALL-UNNAMED\n--add-opens java.base/java.io=ALL-UNNAMED\n--add-opens java.base/java.nio=ALL-UNNAMED\n--add-opens java.base/java.lang=ALL-UNNAMED\n--add-opens java.base/java.lang.invoke=ALL-UNNAMED\n--add-opens java.base/sun.security.util=ALL-UNNAMED\n--add-opens java.base/sun.security.action=ALL-UNNAMED\n</code></pre>\n<p>And it's also a good time for cleaning POMs from excessive dependencies.</p>\n<hr />\n<p>But as soon I've wrote my first <code>modules.java</code> file for my first component (among 54),<br />\n<em>Maven</em> handles it and <em>Java</em> compilation warns me against some<br />\n<strong>invalid module names</strong><br />\nthat can be found among third parties dependencies (here, from a parent POM).</p>\n<pre><code>Can't extract module name from kafka_2.13-3.1.2-test.jar: kafka.2.13: Invalid module name: '2' is not a Java identifier\nCan't extract module name from jackson-module-scala_2.13-2.13.5.jar: jackson.module.scala.2.13: Invalid module name: '2' is not a Java identifier\nCan't extract module name from scala-logging_2.13-3.9.3.jar: scala.logging.2.13: Invalid module name: '2' is not a Java identifier\nCan't extract module name from kafka_2.13-3.1.2.jar: kafka.2.13: Invalid module name: '2' is not a Java identifier\n</code></pre>\n<p>Does this mean I am doomed, and eventually these jars will prevent modularization,<br />\nor do I have a way to workaround them?</p>\n"},{"tags":["java","kotlin","class","intellij-idea","uml"],"answers":[{"tags":[],"owner":{"account_id":29001724,"reputation":41,"user_id":22215152,"display_name":"Anton Mefodichev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689159055,"creation_date":1689159036,"answer_id":76669765,"question_id":76663495,"body_markdown":"I have created a ticket for Kotlin Plugin team regarding the issue:\r\n\r\nhttps://youtrack.jetbrains.com/issue/KTIJ-26254/Private-variables-are-not-shown-in-Diagram\r\n\r\nThank you for reporting the issue!","title":"Private variables don&#39;t show in Diagram intelij IDE","body":"<p>I have created a ticket for Kotlin Plugin team regarding the issue:</p>\n<p><a href=\"https://youtrack.jetbrains.com/issue/KTIJ-26254/Private-variables-are-not-shown-in-Diagram\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KTIJ-26254/Private-variables-are-not-shown-in-Diagram</a></p>\n<p>Thank you for reporting the issue!</p>\n"}],"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76669765,"answer_count":1,"score":1,"last_activity_date":1689159055,"creation_date":1689088775,"question_id":76663495,"body_markdown":"I want convert my kotlin class to uml class. I used Diagram option in intellij IDE but it don&#39;t show my private variables in uml class. For Java classes it&#39;s okay but kotlin classes have this problem.\r\n\r\nMy version intellij IDE is 2023.1.3.\r\n\r\nThis is my simple Java and Kotlin class:\r\n\r\n1.\r\n\r\n    public class JavaClass {\r\n    \r\n      private String name=&quot;&quot;;\r\n    \r\n      private int age;\r\n    \r\n      public int getAge() {\r\n        return age;\r\n      }\r\n    \r\n      public void setAge(int age) {\r\n        this.age = age;\r\n      }\r\n    \r\n    }\r\n\r\n[![Java class][1]][1]\r\n\r\n2.\r\n\r\n    class KotlinClass {\r\n        private var name:String=&quot;&quot;\r\n        var age:Int=0\r\n    }\r\n\r\n[![Kotlin class][2]][2]\r\n\r\n\r\n\r\nIn this [IntelliJ video][3], it has a &#39;Fields&#39; section, but I don&#39;t have this option, and I have also checked the settings.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aEu9r.png\r\n  [2]: https://i.stack.imgur.com/ZB2Ms.png\r\n  [3]: https://www.jetbrains.com/idea/guide/tips/uml-diagrams-for-kotlin","title":"Private variables don&#39;t show in Diagram intelij IDE","body":"<p>I want convert my kotlin class to uml class. I used Diagram option in intellij IDE but it don't show my private variables in uml class. For Java classes it's okay but kotlin classes have this problem.</p>\n<p>My version intellij IDE is 2023.1.3.</p>\n<p>This is my simple Java and Kotlin class:</p>\n<p>1.</p>\n<pre><code>public class JavaClass {\n\n  private String name=&quot;&quot;;\n\n  private int age;\n\n  public int getAge() {\n    return age;\n  }\n\n  public void setAge(int age) {\n    this.age = age;\n  }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/aEu9r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aEu9r.png\" alt=\"Java class\" /></a></p>\n<p>2.</p>\n<pre><code>class KotlinClass {\n    private var name:String=&quot;&quot;\n    var age:Int=0\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZB2Ms.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZB2Ms.png\" alt=\"Kotlin class\" /></a></p>\n<p>In this <a href=\"https://www.jetbrains.com/idea/guide/tips/uml-diagrams-for-kotlin\" rel=\"nofollow noreferrer\">IntelliJ video</a>, it has a 'Fields' section, but I don't have this option, and I have also checked the settings.</p>\n"},{"tags":["java","android","string","class","interface"],"comments":[{"owner":{"account_id":26215555,"reputation":35,"user_id":19893729,"display_name":"KMD"},"score":0,"creation_date":1689158631,"post_id":76669614,"comment_id":135172862,"body_markdown":"I am using rxjava, its a void, and its not important, the main question is how to give that String to it.","body":"I am using rxjava, its a void, and its not important, the main question is how to give that String to it."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689162957,"post_id":76669614,"comment_id":135173758,"body_markdown":"And the answer is to do what you claim you are already doing: pass it as a parameter.","body":"And the answer is to do what you claim you are already doing: pass it as a parameter."}],"owner":{"account_id":26215555,"reputation":35,"user_id":19893729,"display_name":"KMD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689158857,"creation_date":1689157908,"question_id":76669614,"body_markdown":"I have a simple question even though I can&#39;t answer it myself.\r\n\r\nI have a class which is my Api class with a single which expect a string query parameeter:\r\n\r\n```\r\npublic Single&lt;List&lt;Products&gt;&gt; searchProducts(){\r\n        return api.searchProducts();\r\n    }\r\n```\r\n\r\nand I have a Activity class with the data that I need which is searchEt:\r\n\r\n```\r\nString searchData = searchEt.toString();\r\n```\r\n\r\nmy question is that how can I pass this searchEt to my Api class which need the String query?\r\n\r\n```\r\napi.searchProducts();\r\n```\r\n\r\nI tried to use interface but I&#39;ve got confused.","title":"How to pass a string between classes","body":"<p>I have a simple question even though I can't answer it myself.</p>\n<p>I have a class which is my Api class with a single which expect a string query parameeter:</p>\n<pre><code>public Single&lt;List&lt;Products&gt;&gt; searchProducts(){\n        return api.searchProducts();\n    }\n</code></pre>\n<p>and I have a Activity class with the data that I need which is searchEt:</p>\n<pre><code>String searchData = searchEt.toString();\n</code></pre>\n<p>my question is that how can I pass this searchEt to my Api class which need the String query?</p>\n<pre><code>api.searchProducts();\n</code></pre>\n<p>I tried to use interface but I've got confused.</p>\n"},{"tags":["java","gradle","wsdl","xjc"],"owner":{"account_id":6701697,"reputation":197,"user_id":5167964,"accept_rate":100,"display_name":"Vivek Buddhadev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689158802,"creation_date":1689158802,"question_id":76669734,"body_markdown":"I&#39;m using the gradle-xjc-plugin (Version: 1.4.2) to generate required classes from WSDL. the xjcGenerate task in my gradle worked fine until I migrated the gradle version to 7.4 from 6.8.\r\n\r\n\r\n    xjcGenerate {\r\n       targetPackage = &quot;nl.cir.xsd&quot;\r\n       source = fileTree(&#39;src/main/resources/wsdl&#39;)\r\n       extraArgs = [ &#39;-wsdl&#39; ]\r\n    }\r\n\r\n\r\nI&#39;m receiving the following error during task execution...\r\n\r\n    Some problems were found with the configuration of task &#39;:cir:xjcGenerate&#39; (type &#39;XjcGenerate&#39;).\r\n      - In plugin &#39;org.unbroken-dome.xjc&#39; type &#39;org.unbrokendome.gradle.plugins.xjc.XjcGenerate&#39; property &#39;contentForWildcard&#39; has redundant getters: &#39;getContentForWildcard()&#39; and &#39;isContentForWildcard()&#39;.\r\n\r\nWould anyone be able to help me to resolve this issue?","title":"Property &#39;contentForWildcard&#39; has redundant after migrating to Gradle 7.4 from 6.8","body":"<p>I'm using the gradle-xjc-plugin (Version: 1.4.2) to generate required classes from WSDL. the xjcGenerate task in my gradle worked fine until I migrated the gradle version to 7.4 from 6.8.</p>\n<pre><code>xjcGenerate {\n   targetPackage = &quot;nl.cir.xsd&quot;\n   source = fileTree('src/main/resources/wsdl')\n   extraArgs = [ '-wsdl' ]\n}\n</code></pre>\n<p>I'm receiving the following error during task execution...</p>\n<pre><code>Some problems were found with the configuration of task ':cir:xjcGenerate' (type 'XjcGenerate').\n  - In plugin 'org.unbroken-dome.xjc' type 'org.unbrokendome.gradle.plugins.xjc.XjcGenerate' property 'contentForWildcard' has redundant getters: 'getContentForWildcard()' and 'isContentForWildcard()'.\n</code></pre>\n<p>Would anyone be able to help me to resolve this issue?</p>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":26472396,"reputation":63,"user_id":20112807,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689158705,"creation_date":1689158705,"question_id":76669719,"body_markdown":"I am selecting one or more images from gallery and with seek bar i am specifying the range that the transformations will apply, but when i am displaying the images in GridView all images are black! my `editedImages` is `List&lt;Bitmap&gt; editedImages;`also i showed how i am using the intent in code below.\r\n\r\nCode :\r\n\r\n     private void applyRandomTransformations() {\r\n\r\n        Random random = new Random();\r\n        editedImages.clear();\r\n\r\n        for (Uri imageUri : originalImageUris) {\r\n            try {\r\n                Bitmap originalImage = MediaStore.Images.Media.getBitmap(getContentResolver(), imageUri);\r\n\r\n                if (originalImage.getWidth() &lt;= 0) {\r\n                    // Skip this image if the width is invalid\r\n                    continue;\r\n                }\r\n                // Apply rotation\r\n                int rotationAngle = random.nextInt(MAX_ROTATION_ANGLE);\r\n                Bitmap rotatedImage = rotateImage(originalImage, rotationAngle);\r\n\r\n                // Apply cropping\r\n                int cropPercentage = random.nextInt(MAX_CROP_PERCENTAGE);\r\n                Bitmap croppedImage = cropImage(rotatedImage, cropPercentage);\r\n\r\n                // Apply contrast adjustment\r\n                int contrastValue = contrastSeekBar.getProgress() - (MAX_CONTRAST_VALUE / 2);\r\n                Bitmap contrastedImage = adjustContrast(croppedImage, contrastValue);\r\n\r\n                // Apply hue adjustment\r\n                int hueValue = hueSeekBar.getProgress();\r\n                Bitmap hueAdjustedImage = adjustHue(contrastedImage, hueValue);\r\n\r\n                // Apply saturation adjustment\r\n                int saturationValue = saturationSeekBar.getProgress() - (MAX_SATURATION_VALUE / 2);\r\n                Bitmap finalImage = adjustSaturation(hueAdjustedImage, saturationValue);\r\n\r\n                editedImages.add(finalImage);\r\n\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    private void displayEditedImages() {\r\n        if (!editedImages.isEmpty()) {\r\n\r\n            Intent intent = new Intent(MainActivity.this, EditedImagesActivity.class);\r\n\r\n            // Convert the byte arrays to Bitmap objects\r\n            ArrayList&lt;Bitmap&gt; bitmaps = new ArrayList&lt;&gt;(editedImages);\r\n            // Pass the edited images as an ArrayList of Bitmap objects\r\n            intent.putParcelableArrayListExtra(&quot;editedImages&quot;, bitmaps);\r\n\r\n\r\n            startActivity(intent);\r\n        }\r\n    }\r\n\r\n    private Bitmap rotateImage(Bitmap image, float angle) {\r\n        Matrix matrix = new Matrix();\r\n        matrix.postRotate(angle);\r\n        return Bitmap.createBitmap(image, 0, 0, image.getWidth(), image.getHeight(), matrix, true);\r\n    }\r\n\r\n    private Bitmap cropImage(Bitmap image, int cropPercentage) {\r\n        int width = image.getWidth();\r\n        int height = image.getHeight();\r\n        int cropSize = Math.min(width, height) * cropPercentage / 100;\r\n        int left = (width - cropSize) / 2;\r\n        int top = (height - cropSize) / 2;\r\n        Bitmap croppedImage = Bitmap.createBitmap(image, left, top, cropSize, cropSize);\r\n        croppedImage.setHasAlpha(true);\r\n        return croppedImage;\r\n    }\r\n\r\n    private Bitmap adjustContrast(Bitmap image, float value) {\r\n        Bitmap adjustedImage = Bitmap.createBitmap(image.getWidth(), image.getHeight(), image.getConfig());\r\n        Canvas canvas = new Canvas(adjustedImage);\r\n\r\n        ColorMatrix colorMatrix = new ColorMatrix();\r\n        colorMatrix.set(new float[]{\r\n                value / 100f, 0, 0, 0, 0,\r\n                0, value / 100f, 0, 0, 0,\r\n                0, 0, value / 100f, 0, 0,\r\n                0, 0, 0, 1, 0\r\n        });\r\n\r\n        Paint paint = new Paint();\r\n        paint.setColorFilter(new ColorMatrixColorFilter(colorMatrix));\r\n        canvas.drawBitmap(image, 0, 0, paint);\r\n\r\n        return adjustedImage;\r\n    }\r\n\r\n    private Bitmap adjustHue(Bitmap image, float value) {\r\n        Bitmap adjustedImage = Bitmap.createBitmap(image.getWidth(), image.getHeight(), image.getConfig());\r\n        Canvas canvas = new Canvas(adjustedImage);\r\n\r\n        ColorMatrix colorMatrix = new ColorMatrix();\r\n        colorMatrix.setRotate(0, value);\r\n        colorMatrix.setRotate(1, value);\r\n        colorMatrix.setRotate(2, value);\r\n\r\n        Paint paint = new Paint();\r\n        paint.setColorFilter(new ColorMatrixColorFilter(colorMatrix));\r\n        canvas.drawBitmap(image, 0, 0, paint);\r\n\r\n        return adjustedImage;\r\n    }\r\n\r\n    private Bitmap adjustSaturation(Bitmap image, float value) {\r\n        Bitmap adjustedImage = Bitmap.createBitmap(image.getWidth(), image.getHeight(), image.getConfig());\r\n        Canvas canvas = new Canvas(adjustedImage);\r\n\r\n        ColorMatrix colorMatrix = new ColorMatrix();\r\n        colorMatrix.setSaturation(value / 100f);\r\n\r\n        Paint paint = new Paint();\r\n        paint.setColorFilter(new ColorMatrixColorFilter(colorMatrix));\r\n        canvas.drawBitmap(image, 0, 0, paint);\r\n\r\n        return adjustedImage;\r\n    }\r\n\r\n**OnActivityResult**:\r\n\r\n     @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == REQUEST_SELECT_PHOTOS &amp;&amp; resultCode == RESULT_OK) {\r\n            if (data.getClipData() != null) {\r\n                int count = data.getClipData().getItemCount();\r\n                for (int i = 0; i &lt; count; i++) {\r\n                    Uri imageUri = data.getClipData().getItemAt(i).getUri();\r\n                    originalImageUris.add(imageUri);\r\n                    imageView.setImageURI(imageUri);\r\n                }\r\n            }\r\n            else if (data.getData() != null) {\r\n                Uri imageUri = data.getData();\r\n                originalImageUris.add(imageUri);\r\n                imageView.setImageURI(imageUri);\r\n            }\r\n\r\n            // Update the visibility of seek bars and &quot;Generate&quot; button\r\n            if (!originalImageUris.isEmpty()) {\r\n                findViewById(R.id.editOptionsLayout).setVisibility(View.VISIBLE);\r\n                findViewById(R.id.generateButton).setVisibility(View.VISIBLE);\r\n            }\r\n        }\r\n    }","title":"Applying multiple transformation to bitmap image(s)","body":"<p>I am selecting one or more images from gallery and with seek bar i am specifying the range that the transformations will apply, but when i am displaying the images in GridView all images are black! my <code>editedImages</code> is <code>List&lt;Bitmap&gt; editedImages;</code>also i showed how i am using the intent in code below.</p>\n<p>Code :</p>\n<pre><code> private void applyRandomTransformations() {\n\n    Random random = new Random();\n    editedImages.clear();\n\n    for (Uri imageUri : originalImageUris) {\n        try {\n            Bitmap originalImage = MediaStore.Images.Media.getBitmap(getContentResolver(), imageUri);\n\n            if (originalImage.getWidth() &lt;= 0) {\n                // Skip this image if the width is invalid\n                continue;\n            }\n            // Apply rotation\n            int rotationAngle = random.nextInt(MAX_ROTATION_ANGLE);\n            Bitmap rotatedImage = rotateImage(originalImage, rotationAngle);\n\n            // Apply cropping\n            int cropPercentage = random.nextInt(MAX_CROP_PERCENTAGE);\n            Bitmap croppedImage = cropImage(rotatedImage, cropPercentage);\n\n            // Apply contrast adjustment\n            int contrastValue = contrastSeekBar.getProgress() - (MAX_CONTRAST_VALUE / 2);\n            Bitmap contrastedImage = adjustContrast(croppedImage, contrastValue);\n\n            // Apply hue adjustment\n            int hueValue = hueSeekBar.getProgress();\n            Bitmap hueAdjustedImage = adjustHue(contrastedImage, hueValue);\n\n            // Apply saturation adjustment\n            int saturationValue = saturationSeekBar.getProgress() - (MAX_SATURATION_VALUE / 2);\n            Bitmap finalImage = adjustSaturation(hueAdjustedImage, saturationValue);\n\n            editedImages.add(finalImage);\n\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n\nprivate void displayEditedImages() {\n    if (!editedImages.isEmpty()) {\n\n        Intent intent = new Intent(MainActivity.this, EditedImagesActivity.class);\n\n        // Convert the byte arrays to Bitmap objects\n        ArrayList&lt;Bitmap&gt; bitmaps = new ArrayList&lt;&gt;(editedImages);\n        // Pass the edited images as an ArrayList of Bitmap objects\n        intent.putParcelableArrayListExtra(&quot;editedImages&quot;, bitmaps);\n\n\n        startActivity(intent);\n    }\n}\n\nprivate Bitmap rotateImage(Bitmap image, float angle) {\n    Matrix matrix = new Matrix();\n    matrix.postRotate(angle);\n    return Bitmap.createBitmap(image, 0, 0, image.getWidth(), image.getHeight(), matrix, true);\n}\n\nprivate Bitmap cropImage(Bitmap image, int cropPercentage) {\n    int width = image.getWidth();\n    int height = image.getHeight();\n    int cropSize = Math.min(width, height) * cropPercentage / 100;\n    int left = (width - cropSize) / 2;\n    int top = (height - cropSize) / 2;\n    Bitmap croppedImage = Bitmap.createBitmap(image, left, top, cropSize, cropSize);\n    croppedImage.setHasAlpha(true);\n    return croppedImage;\n}\n\nprivate Bitmap adjustContrast(Bitmap image, float value) {\n    Bitmap adjustedImage = Bitmap.createBitmap(image.getWidth(), image.getHeight(), image.getConfig());\n    Canvas canvas = new Canvas(adjustedImage);\n\n    ColorMatrix colorMatrix = new ColorMatrix();\n    colorMatrix.set(new float[]{\n            value / 100f, 0, 0, 0, 0,\n            0, value / 100f, 0, 0, 0,\n            0, 0, value / 100f, 0, 0,\n            0, 0, 0, 1, 0\n    });\n\n    Paint paint = new Paint();\n    paint.setColorFilter(new ColorMatrixColorFilter(colorMatrix));\n    canvas.drawBitmap(image, 0, 0, paint);\n\n    return adjustedImage;\n}\n\nprivate Bitmap adjustHue(Bitmap image, float value) {\n    Bitmap adjustedImage = Bitmap.createBitmap(image.getWidth(), image.getHeight(), image.getConfig());\n    Canvas canvas = new Canvas(adjustedImage);\n\n    ColorMatrix colorMatrix = new ColorMatrix();\n    colorMatrix.setRotate(0, value);\n    colorMatrix.setRotate(1, value);\n    colorMatrix.setRotate(2, value);\n\n    Paint paint = new Paint();\n    paint.setColorFilter(new ColorMatrixColorFilter(colorMatrix));\n    canvas.drawBitmap(image, 0, 0, paint);\n\n    return adjustedImage;\n}\n\nprivate Bitmap adjustSaturation(Bitmap image, float value) {\n    Bitmap adjustedImage = Bitmap.createBitmap(image.getWidth(), image.getHeight(), image.getConfig());\n    Canvas canvas = new Canvas(adjustedImage);\n\n    ColorMatrix colorMatrix = new ColorMatrix();\n    colorMatrix.setSaturation(value / 100f);\n\n    Paint paint = new Paint();\n    paint.setColorFilter(new ColorMatrixColorFilter(colorMatrix));\n    canvas.drawBitmap(image, 0, 0, paint);\n\n    return adjustedImage;\n}\n</code></pre>\n<p><strong>OnActivityResult</strong>:</p>\n<pre><code> @Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == REQUEST_SELECT_PHOTOS &amp;&amp; resultCode == RESULT_OK) {\n        if (data.getClipData() != null) {\n            int count = data.getClipData().getItemCount();\n            for (int i = 0; i &lt; count; i++) {\n                Uri imageUri = data.getClipData().getItemAt(i).getUri();\n                originalImageUris.add(imageUri);\n                imageView.setImageURI(imageUri);\n            }\n        }\n        else if (data.getData() != null) {\n            Uri imageUri = data.getData();\n            originalImageUris.add(imageUri);\n            imageView.setImageURI(imageUri);\n        }\n\n        // Update the visibility of seek bars and &quot;Generate&quot; button\n        if (!originalImageUris.isEmpty()) {\n            findViewById(R.id.editOptionsLayout).setVisibility(View.VISIBLE);\n            findViewById(R.id.generateButton).setVisibility(View.VISIBLE);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-security","jwt"],"comments":[{"owner":{"account_id":17517154,"reputation":309,"user_id":12703962,"display_name":"spazzola"},"score":0,"creation_date":1585931675,"post_id":61016123,"comment_id":107947733,"body_markdown":"Exception is thrown exactly in method extractAllClaims:  return Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJwt(token).getBody();","body":"Exception is thrown exactly in method extractAllClaims:  return Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJwt(token&zwnj;&#8203;).getBody();"},{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":6,"creation_date":1585933002,"post_id":61016123,"comment_id":107948371,"body_markdown":"Shouldnt you use `parseClaimsJws`? Somehting like `Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token).getBody();`","body":"Shouldnt you use <code>parseClaimsJws</code>? Somehting like <code>Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token&zwnj;&#8203;).getBody();</code>"},{"owner":{"account_id":17517154,"reputation":309,"user_id":12703962,"display_name":"spazzola"},"score":0,"creation_date":1585934894,"post_id":61016123,"comment_id":107949268,"body_markdown":"That was the mistake. Thanks!","body":"That was the mistake. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1637136343,"creation_date":1585935308,"answer_id":61017392,"question_id":61016123,"body_markdown":"You should use `parseClaimsJws()` instead of `parseClaimsJwt()` to verify the **JWS** (**JWT with signature**) :\r\n\r\n```java\r\nJwts.parser()\r\n    .setSigningKey(SECRET_KEY)\r\n    .parseClaimsJws(token)\r\n    .getBody();\r\n```","title":"io.jsonwebtoken.UnsupportedJwtException: Signed Claims JWSs are not supported","body":"<p>You should use <code>parseClaimsJws()</code> instead of <code>parseClaimsJwt()</code> to verify the <strong>JWS</strong> (<strong>JWT with signature</strong>) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Jwts.parser()\n    .setSigningKey(SECRET_KEY)\n    .parseClaimsJws(token)\n    .getBody();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9412171,"reputation":448,"user_id":7000862,"display_name":"saurav singh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1672149914,"creation_date":1672149914,"answer_id":74930280,"question_id":61016123,"body_markdown":"If anyone facing an issue with spring boot 3.0.instead of `parser()` use `parserBuilder()`.\r\n\r\n    Jwts.parserBuilder().setSigningKey(JwtSigningKey).build().parse(token).getBody();\r\n\r\nHope this will help and upvote for upcoming stackoverflowers.","title":"io.jsonwebtoken.UnsupportedJwtException: Signed Claims JWSs are not supported","body":"<p>If anyone facing an issue with spring boot 3.0.instead of <code>parser()</code> use <code>parserBuilder()</code>.</p>\n<pre><code>Jwts.parserBuilder().setSigningKey(JwtSigningKey).build().parse(token).getBody();\n</code></pre>\n<p>Hope this will help and upvote for upcoming stackoverflowers.</p>\n"},{"tags":[],"owner":{"account_id":13938899,"reputation":1,"user_id":10065306,"display_name":"senal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689158474,"creation_date":1689158474,"answer_id":76669685,"question_id":61016123,"body_markdown":"    private Claims extractAllClaims(String token) {\r\n        return Jwts.parserBuilder()\r\n                .setSigningKey(getSigninKey())\r\n                .build()\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n    }","title":"io.jsonwebtoken.UnsupportedJwtException: Signed Claims JWSs are not supported","body":"<pre><code>private Claims extractAllClaims(String token) {\n    return Jwts.parserBuilder()\n            .setSigningKey(getSigninKey())\n            .build()\n            .parseClaimsJws(token)\n            .getBody();\n}\n</code></pre>\n"}],"owner":{"account_id":17517154,"reputation":309,"user_id":12703962,"display_name":"spazzola"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19582,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":61017392,"answer_count":3,"score":22,"last_activity_date":1689158474,"creation_date":1585930593,"question_id":61016123,"body_markdown":"I just added Jwt to my application. When I&#39;m trying to send get request via postman which require authorization, then I&#39;ve got following error: \r\n\r\n**io.jsonwebtoken.UnsupportedJwtException: Signed Claims JWSs are not supported.**\r\n\r\nI&#39;m sending in body &quot;Authorization&quot; as a Header and &quot;Bearer token-value&quot; as a Value.\r\n\r\nHave anyone idea how to solve that? \r\n\r\nHere is my jwt class: \r\n    \r\n    @Service\r\n    public class JwtUtil {\r\n\r\n    private String SECRET_KEY = &quot;secret&quot;;\r\n\r\n    public String extractUsername(String token) {\r\n        return extractClaim(token, Claims::getSubject);\r\n    }\r\n\r\n    public Date extractExpiration(String token) {\r\n        return extractClaim(token, Claims::getExpiration);\r\n    }\r\n\r\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\r\n        final Claims claims = extractAllClaims(token);\r\n        return claimsResolver.apply(claims);\r\n    }\r\n\r\n    public Claims extractAllClaims(String token) {\r\n        return Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJwt(token).getBody();\r\n    }\r\n\r\n    public Boolean isTokenExpired(String token) {\r\n        return extractExpiration(token).before(new Date());\r\n    }\r\n\r\n    public String generateToken(UserDetails userDetails) {\r\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n        return createToken(claims, userDetails.getUsername());\r\n    }\r\n\r\n    public String createToken(Map&lt;String, Object&gt; claims, String subject) {\r\n        return Jwts.builder()\r\n                .setClaims(claims)\r\n                .setSubject(subject)\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 60 * 10))\r\n                .signWith(SignatureAlgorithm.HS256, SECRET_KEY).compact();\r\n    }\r\n\r\n    public Boolean validateToken(String token, UserDetails userDetails) {\r\n        final String userName = extractUsername(token);\r\n        return (userName.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\r\n    }\r\n\r\n}\r\n\r\nand here is my filter: \r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, FilterChain filterChain) throws ServletException, IOException {\r\n        final String authorizationHeader = httpServletRequest.getHeader(&quot;Authorization&quot;);\r\n\r\n        String userName = null;\r\n        String jwt = null;\r\n\r\n        if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer&quot;)) {\r\n            jwt = authorizationHeader.substring(7);\r\n            userName = jwtUtil.extractUsername(jwt);\r\n        }\r\n\r\n        if (userName != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = this.myUserDetailsService.loadUserByUsername(userName);\r\n\r\n            if (jwtUtil.validateToken(jwt, userDetails)) {\r\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =\r\n                        new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n                usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(httpServletRequest));\r\n\r\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n            }\r\n        }\r\n        filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n    }\r\n\r\n\r\nEDIT: \r\nhere&#39;s stacktrace: \r\n\r\n    io.jsonwebtoken.UnsupportedJwtException: Signed Claims JWSs are not supported.\r\n\tat io.jsonwebtoken.JwtHandlerAdapter.onClaimsJws(JwtHandlerAdapter.java:50) ~[jjwt-0.9.1.jar:0.9.1]\r\n\tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:487) ~[jjwt-0.9.1.jar:0.9.1]\r\n\tat io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJwt(DefaultJwtParser.java:514) ~[jjwt-0.9.1.jar:0.9.1]\r\n\tat com.tradesystem.jwt.JwtUtil.extractAllClaims(JwtUtil.java:33) ~[classes/:na]\r\n\tat com.tradesystem.jwt.JwtUtil.extractClaim(JwtUtil.java:28) ~[classes/:na]\r\n\tat com.tradesystem.jwt.JwtUtil.extractUsername(JwtUtil.java:20) ~[classes/:na]\r\n\tat com.tradesystem.jwt.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:42) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n\r\n----------\r\n\r\n","title":"io.jsonwebtoken.UnsupportedJwtException: Signed Claims JWSs are not supported","body":"<p>I just added Jwt to my application. When I'm trying to send get request via postman which require authorization, then I've got following error: </p>\n\n<p><strong>io.jsonwebtoken.UnsupportedJwtException: Signed Claims JWSs are not supported.</strong></p>\n\n<p>I'm sending in body \"Authorization\" as a Header and \"Bearer token-value\" as a Value.</p>\n\n<p>Have anyone idea how to solve that? </p>\n\n<p>Here is my jwt class: </p>\n\n<pre><code>@Service\npublic class JwtUtil {\n\nprivate String SECRET_KEY = \"secret\";\n\npublic String extractUsername(String token) {\n    return extractClaim(token, Claims::getSubject);\n}\n\npublic Date extractExpiration(String token) {\n    return extractClaim(token, Claims::getExpiration);\n}\n\npublic &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\n    final Claims claims = extractAllClaims(token);\n    return claimsResolver.apply(claims);\n}\n\npublic Claims extractAllClaims(String token) {\n    return Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJwt(token).getBody();\n}\n\npublic Boolean isTokenExpired(String token) {\n    return extractExpiration(token).before(new Date());\n}\n\npublic String generateToken(UserDetails userDetails) {\n    Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n    return createToken(claims, userDetails.getUsername());\n}\n\npublic String createToken(Map&lt;String, Object&gt; claims, String subject) {\n    return Jwts.builder()\n            .setClaims(claims)\n            .setSubject(subject)\n            .setIssuedAt(new Date(System.currentTimeMillis()))\n            .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 60 * 10))\n            .signWith(SignatureAlgorithm.HS256, SECRET_KEY).compact();\n}\n\npublic Boolean validateToken(String token, UserDetails userDetails) {\n    final String userName = extractUsername(token);\n    return (userName.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\n}\n</code></pre>\n\n<p>}</p>\n\n<p>and here is my filter: </p>\n\n<pre><code>@Override\nprotected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, FilterChain filterChain) throws ServletException, IOException {\n    final String authorizationHeader = httpServletRequest.getHeader(\"Authorization\");\n\n    String userName = null;\n    String jwt = null;\n\n    if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(\"Bearer\")) {\n        jwt = authorizationHeader.substring(7);\n        userName = jwtUtil.extractUsername(jwt);\n    }\n\n    if (userName != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n        UserDetails userDetails = this.myUserDetailsService.loadUserByUsername(userName);\n\n        if (jwtUtil.validateToken(jwt, userDetails)) {\n            UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =\n                    new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n            usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(httpServletRequest));\n\n            SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n        }\n    }\n    filterChain.doFilter(httpServletRequest, httpServletResponse);\n}\n</code></pre>\n\n<p>EDIT: \nhere's stacktrace: </p>\n\n<pre><code>io.jsonwebtoken.UnsupportedJwtException: Signed Claims JWSs are not supported.\nat io.jsonwebtoken.JwtHandlerAdapter.onClaimsJws(JwtHandlerAdapter.java:50) ~[jjwt-0.9.1.jar:0.9.1]\nat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:487) ~[jjwt-0.9.1.jar:0.9.1]\nat io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJwt(DefaultJwtParser.java:514) ~[jjwt-0.9.1.jar:0.9.1]\nat com.tradesystem.jwt.JwtUtil.extractAllClaims(JwtUtil.java:33) ~[classes/:na]\nat com.tradesystem.jwt.JwtUtil.extractClaim(JwtUtil.java:28) ~[classes/:na]\nat com.tradesystem.jwt.JwtUtil.extractUsername(JwtUtil.java:20) ~[classes/:na]\nat com.tradesystem.jwt.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:42) ~[classes/:na]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\nat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.3.RELEASE.jar:5.2.3.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.30.jar:9.0.30]\nat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n\n<hr>\n"},{"tags":["java","spring","spring-boot","hikaricp"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1682352036,"post_id":76093375,"comment_id":134197876,"body_markdown":"It&#39;s not a ready solution, however this is the official explanation about this kind of messages: https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=103099526","body":"It&#39;s not a ready solution, however this is the official explanation about this kind of messages: <a href=\"https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=103099526\" rel=\"nofollow noreferrer\">cwiki.apache.org/confluence/pages/&hellip;</a>"},{"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"score":0,"creation_date":1682507977,"post_id":76093375,"comment_id":134226180,"body_markdown":"@Pino Yea unfortunately that doesn&#39;t really explain why spring isn&#39;t shutting down the Hikari datasource, which is started up by spring itself.","body":"@Pino Yea unfortunately that doesn&#39;t really explain why spring isn&#39;t shutting down the Hikari datasource, which is started up by spring itself."},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1682514266,"post_id":76093375,"comment_id":134227831,"body_markdown":"The error message says that your Spring-boot based web app is named &quot;ROOT&quot;.  Is it true?  I guess no.  This is something to investigate.","body":"The error message says that your Spring-boot based web app is named &quot;ROOT&quot;.  Is it true?  I guess no.  This is something to investigate."},{"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"score":0,"creation_date":1682541675,"post_id":76093375,"comment_id":134234409,"body_markdown":"@Pino Yes I am not sure why it says that. I assumed it was something that spring generated automatically, but I&#39;m not certain.","body":"@Pino Yes I am not sure why it says that. I assumed it was something that spring generated automatically, but I&#39;m not certain."}],"answers":[{"tags":[],"owner":{"account_id":24144518,"reputation":1,"user_id":18110330,"display_name":"Yuvraj Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689158332,"creation_date":1689158332,"answer_id":76669665,"question_id":76093375,"body_markdown":"I had @Type annotation which I removed and got the error then again I put it so error resolved.\r\n\r\n      @Type(type = &quot;json&quot;)\r\n        @Column(columnDefinition = &quot;json&quot;, name = &quot;payload&quot;)\r\n        private Map&lt;String, String&gt; payload;","title":"Spring boot Hikari Pool Threads - &quot;web application appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it.&quot;","body":"<p>I had @Type annotation which I removed and got the error then again I put it so error resolved.</p>\n<pre><code>  @Type(type = &quot;json&quot;)\n    @Column(columnDefinition = &quot;json&quot;, name = &quot;payload&quot;)\n    private Map&lt;String, String&gt; payload;\n</code></pre>\n"}],"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1557,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689158332,"creation_date":1682349002,"question_id":76093375,"body_markdown":"(A similar question [here][1] is related to Tomcat resources, not spring boot managed beans)\r\n\r\nTwo Hikari DataSource pools are being creating like this:\r\n\r\n    @Primary\r\n    \t@Bean(value=&quot;appDataSource&quot;,destroyMethod=&quot;close&quot;)\r\n    \t@ConfigurationProperties(&quot;app.db.datasource&quot;)\r\n    \t@Override\r\n    \tpublic DataSource dataSource() {\r\n    \t\treturn DataSourceBuilder.create().build(); \r\n    \t}\r\n    \r\n    \r\n    @Bean(value=&quot;pacsDataSource&quot;,destroyMethod=&quot;close&quot;)\r\n    \t@Override\r\n        public DataSource dataSource() {\r\n    \t\treturn new HikariDataSource(hikariConfig());\r\n        }\r\n\r\nBut when the application is shut down I see the below errors in the logs and the java process fails to exit. From what I can tell spring should be calling close() on those datasources, which should terminate the pool threads.\r\n\r\n   \r\n\r\n     2023-04-24T11:02:24.758 [https-jsse-nio-8080-exec-2] WARN  org.apache.catalina.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n         java.base@15.0.1/jdk.internal.misc.Unsafe.park(Native Method)\r\n         java.base@15.0.1/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\r\n         java.base@15.0.1/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1661)\r\n         java.base@15.0.1/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\r\n         java.base@15.0.1/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n         java.base@15.0.1/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1056)\r\n         java.base@15.0.1/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1116)\r\n         java.base@15.0.1/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n         java.base@15.0.1/java.lang.Thread.run(Thread.java:832)\r\n    \r\n    2023-04-24T11:02:24.759 [https-jsse-nio-8080-exec-2] WARN  org.apache.catalina.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-2 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     java.base@15.0.1/jdk.internal.misc.Unsafe.park(Native Method)\r\n     java.base@15.0.1/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\r\n     java.base@15.0.1/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1661)\r\n     java.base@15.0.1/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\r\n     java.base@15.0.1/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n     java.base@15.0.1/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1056)\r\n     java.base@15.0.1/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1116)\r\n     java.base@15.0.1/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n     java.base@15.0.1/java.lang.Thread.run(Thread.java:832)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41836059/the-web-application-appears-to-have-started-a-thread-named-hikaripool-1-houseke\r\n\r\nEdit: Oddly enough I have one VM where this error does *not* prevent the java process from exiting. So I&#39;m working on trying to figure out the difference. The .jar is exactly the same, but there are other environmental differences. Either way it seems like the process should exit when spring is boot shutdown.","title":"Spring boot Hikari Pool Threads - &quot;web application appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it.&quot;","body":"<p>(A similar question <a href=\"https://stackoverflow.com/questions/41836059/the-web-application-appears-to-have-started-a-thread-named-hikaripool-1-houseke\">here</a> is related to Tomcat resources, not spring boot managed beans)</p>\n<p>Two Hikari DataSource pools are being creating like this:</p>\n<pre><code>@Primary\n    @Bean(value=&quot;appDataSource&quot;,destroyMethod=&quot;close&quot;)\n    @ConfigurationProperties(&quot;app.db.datasource&quot;)\n    @Override\n    public DataSource dataSource() {\n        return DataSourceBuilder.create().build(); \n    }\n\n\n@Bean(value=&quot;pacsDataSource&quot;,destroyMethod=&quot;close&quot;)\n    @Override\n    public DataSource dataSource() {\n        return new HikariDataSource(hikariConfig());\n    }\n</code></pre>\n<p>But when the application is shut down I see the below errors in the logs and the java process fails to exit. From what I can tell spring should be calling close() on those datasources, which should terminate the pool threads.</p>\n<pre><code> 2023-04-24T11:02:24.758 [https-jsse-nio-8080-exec-2] WARN  org.apache.catalina.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n     java.base@15.0.1/jdk.internal.misc.Unsafe.park(Native Method)\n     java.base@15.0.1/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\n     java.base@15.0.1/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1661)\n     java.base@15.0.1/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\n     java.base@15.0.1/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n     java.base@15.0.1/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1056)\n     java.base@15.0.1/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1116)\n     java.base@15.0.1/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n     java.base@15.0.1/java.lang.Thread.run(Thread.java:832)\n\n2023-04-24T11:02:24.759 [https-jsse-nio-8080-exec-2] WARN  org.apache.catalina.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-2 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@15.0.1/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@15.0.1/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\n java.base@15.0.1/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1661)\n java.base@15.0.1/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\n java.base@15.0.1/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@15.0.1/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1056)\n java.base@15.0.1/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1116)\n java.base@15.0.1/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n java.base@15.0.1/java.lang.Thread.run(Thread.java:832)\n</code></pre>\n<p>Edit: Oddly enough I have one VM where this error does <em>not</em> prevent the java process from exiting. So I'm working on trying to figure out the difference. The .jar is exactly the same, but there are other environmental differences. Either way it seems like the process should exit when spring is boot shutdown.</p>\n"},{"tags":["java","c#","performance","dictionary"],"comments":[{"owner":{"account_id":115043,"reputation":10123,"user_id":302248,"accept_rate":77,"display_name":"Sach"},"score":2,"creation_date":1507586801,"post_id":46655665,"comment_id":80260441,"body_markdown":"Your method is the right way to go about it. Perhaps write a quick function for it so you can reuse?","body":"Your method is the right way to go about it. Perhaps write a quick function for it so you can reuse?"},{"owner":{"account_id":221336,"reputation":21834,"user_id":479251,"accept_rate":83,"display_name":"Pac0"},"score":0,"creation_date":1507586812,"post_id":46655665,"comment_id":80260446,"body_markdown":"It&#39;s not the main point of the question, but anyway : `var oldValue = null;` doesn&#39;t make sense. If you initialize a variable with null, either declare it the correct type, or cast the null to the correct type, but `var` can&#39;t be inferred by the compiler otherwise.","body":"It&#39;s not the main point of the question, but anyway : <code>var oldValue = null;</code> doesn&#39;t make sense. If you initialize a variable with null, either declare it the correct type, or cast the null to the correct type, but <code>var</code> can&#39;t be inferred by the compiler otherwise."},{"owner":{"account_id":1210689,"reputation":1608,"user_id":1179284,"accept_rate":76,"display_name":"AndrewP"},"score":1,"creation_date":1507587358,"post_id":46655665,"comment_id":80260618,"body_markdown":"@ekaerovets, doing lookup by key in a dictionary is a very quick operation. don&#39;t worry about the overhead of doing so. If you are worried, remember the first rule of Code Optimisation: Don&#39;t.  (http://wiki.c2.com/?RulesOfOptimization)","body":"@ekaerovets, doing lookup by key in a dictionary is a very quick operation. don&#39;t worry about the overhead of doing so. If you are worried, remember the first rule of Code Optimisation: Don&#39;t.  (<a href=\"http://wiki.c2.com/?RulesOfOptimization\" rel=\"nofollow noreferrer\">wiki.c2.com/?RulesOfOptimization</a>)"},{"owner":{"account_id":3435465,"reputation":390,"user_id":2878684,"display_name":"OctoCode"},"score":0,"creation_date":1507587391,"post_id":46655665,"comment_id":80260634,"body_markdown":"Just write the helper method which is going to read, update and return the old value.","body":"Just write the helper method which is going to read, update and return the old value."},{"owner":{"account_id":3145484,"reputation":1158,"user_id":2660039,"accept_rate":50,"display_name":"ekaerovets"},"score":0,"creation_date":1507587507,"post_id":46655665,"comment_id":80260664,"body_markdown":"@AndrewP actually two lines of boilerplate code bother me more, than the extra lookup. Anyway, I got the idea.","body":"@AndrewP actually two lines of boilerplate code bother me more, than the extra lookup. Anyway, I got the idea."},{"owner":{"account_id":6111237,"reputation":18715,"user_id":4767498,"accept_rate":87,"display_name":"M.kazem Akhgary"},"score":0,"creation_date":1507587868,"post_id":46655665,"comment_id":80260783,"body_markdown":"dictionary look up performance mostly depends on performance of `GetHashCode` and `Equals` that is implemented for key object. since keys are string here, pass `StringComparer.Ordinal` to dictionary constructor for better performance. also dictionary that has not been filled to its maximum capacity will perform demonstrably faster. if you are doing few look ups you shouldn&#39;t even care about these.","body":"dictionary look up performance mostly depends on performance of <code>GetHashCode</code> and <code>Equals</code> that is implemented for key object. since keys are string here, pass <code>StringComparer.Ordinal</code> to dictionary constructor for better performance. also dictionary that has not been filled to its maximum capacity will perform demonstrably faster. if you are doing few look ups you shouldn&#39;t even care about these."}],"answers":[{"tags":[],"owner":{"account_id":115043,"reputation":10123,"user_id":302248,"accept_rate":77,"display_name":"Sach"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1507589206,"creation_date":1507587893,"answer_id":46655862,"question_id":46655665,"body_markdown":"You can make use of Extension Methods and write one.\r\n\r\nBelow returns true/false depending on if key is found or not.\r\n\r\n    public static bool UpdateDictionaryAndGetOldValue(this Dictionary&lt;string, string&gt; dict, string key, string newVal, out string oldVal)\r\n    {\r\n        oldVal = string.Empty;\r\n        if (dict.TryGetValue(key, out oldVal))\r\n        {\r\n            dict[key] = newVal;\r\n            return true;\r\n        }\r\n        else\r\n            return false;\r\n    }\r\n\r\nThis returns the old value.\r\n\r\n    public static string UpdateDictionaryAndGetOldValue(this Dictionary&lt;string, string&gt; dict, string key, string newVal)\r\n    {\r\n        string oldVal = string.Empty;\r\n        dict.TryGetValue(key, out oldVal);\r\n        dict[key] = newVal;\r\n        return oldVal;\r\n    }\r\n\r\nAnd `TK` and `TV` can be used to make this general.","title":"Update dictionary value and get the previous one in C#","body":"<p>You can make use of Extension Methods and write one.</p>\n\n<p>Below returns true/false depending on if key is found or not.</p>\n\n<pre><code>public static bool UpdateDictionaryAndGetOldValue(this Dictionary&lt;string, string&gt; dict, string key, string newVal, out string oldVal)\n{\n    oldVal = string.Empty;\n    if (dict.TryGetValue(key, out oldVal))\n    {\n        dict[key] = newVal;\n        return true;\n    }\n    else\n        return false;\n}\n</code></pre>\n\n<p>This returns the old value.</p>\n\n<pre><code>public static string UpdateDictionaryAndGetOldValue(this Dictionary&lt;string, string&gt; dict, string key, string newVal)\n{\n    string oldVal = string.Empty;\n    dict.TryGetValue(key, out oldVal);\n    dict[key] = newVal;\n    return oldVal;\n}\n</code></pre>\n\n<p>And <code>TK</code> and <code>TV</code> can be used to make this general.</p>\n"},{"tags":[],"owner":{"account_id":4253888,"reputation":2207,"user_id":8365439,"display_name":"Valerii"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1507589490,"creation_date":1507588468,"answer_id":46655961,"question_id":46655665,"body_markdown":"    public static class DictionaryExtensions\r\n    {\r\n        public static TValue UpdateAndGet&lt;TKey, TValue&gt;(this Dictionary&lt;TKey, TValue&gt; dictionary, TKey key, TValue newVal)\r\n        {\r\n            TValue oldVal;\r\n            dictionary.TryGetValue(key, out oldVal);\r\n            dictionary[key] = newVal;\r\n\r\n            return oldVal;\r\n        }\r\n    }","title":"Update dictionary value and get the previous one in C#","body":"<pre><code>public static class DictionaryExtensions\n{\n    public static TValue UpdateAndGet&lt;TKey, TValue&gt;(this Dictionary&lt;TKey, TValue&gt; dictionary, TKey key, TValue newVal)\n    {\n        TValue oldVal;\n        dictionary.TryGetValue(key, out oldVal);\n        dictionary[key] = newVal;\n\n        return oldVal;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9211539,"reputation":7783,"user_id":6844481,"accept_rate":100,"display_name":"Shahar Shokrani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689156440,"creation_date":1535441939,"answer_id":52052521,"question_id":46655665,"body_markdown":"You can make use of the built in `AddOrUpdate` method of the &quot;thread-safe&quot; `ConcurrentDictionary&lt;TKey,TValue&gt;` class which inherits from `IDictionary&lt;TKey,TValue&gt;` like:\r\n\r\n    public static ConcurrentDictionary&lt;string, Country&gt; countries = new ConcurrentDictionary&lt;string, Country&gt;();\r\n\r\n    public void Main()\r\n    {\r\n        Country poland = new Country { Name = &quot;Poland&quot;, Capital = &quot;Krakow&quot; };\r\n        countries[poland.Name] = poland; \r\n        // oops lets update the right capital:\r\n        poland.Capital = &quot;Warsaw&quot;;\r\n\r\n        myList.AddOrUpdate(poland.Name, poland, (key, oldValue) =&gt; \r\n                                             {\r\n                                                 Console.WriteLine($&quot;The old value was: &#39;{oldValue}&#39;&quot;);  \r\n                                                 return oldValue; \r\n                                             });\r\n    }\r\n\r\n    //Output: The old value was: &#39;Krakow&#39;\r\n\r\nSee more info on [msdn][1].\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/api/system.collections.concurrent.concurrentdictionary-2.addorupdate?redirectedfrom=MSDN&amp;view=netframework-4.7.2","title":"Update dictionary value and get the previous one in C#","body":"<p>You can make use of the built in <code>AddOrUpdate</code> method of the &quot;thread-safe&quot; <code>ConcurrentDictionary&lt;TKey,TValue&gt;</code> class which inherits from <code>IDictionary&lt;TKey,TValue&gt;</code> like:</p>\n<pre><code>public static ConcurrentDictionary&lt;string, Country&gt; countries = new ConcurrentDictionary&lt;string, Country&gt;();\n\npublic void Main()\n{\n    Country poland = new Country { Name = &quot;Poland&quot;, Capital = &quot;Krakow&quot; };\n    countries[poland.Name] = poland; \n    // oops lets update the right capital:\n    poland.Capital = &quot;Warsaw&quot;;\n\n    myList.AddOrUpdate(poland.Name, poland, (key, oldValue) =&gt; \n                                         {\n                                             Console.WriteLine($&quot;The old value was: '{oldValue}'&quot;);  \n                                             return oldValue; \n                                         });\n}\n\n//Output: The old value was: 'Krakow'\n</code></pre>\n<p>See more info on <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.collections.concurrent.concurrentdictionary-2.addorupdate?redirectedfrom=MSDN&amp;view=netframework-4.7.2\" rel=\"nofollow noreferrer\">msdn</a>.</p>\n"},{"tags":[],"owner":{"account_id":15495526,"reputation":36852,"user_id":11178549,"display_name":"Theodor Zoulias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689157766,"creation_date":1689157766,"answer_id":76669598,"question_id":46655665,"body_markdown":"Starting from .NET 6 you could use the advanced API [`CollectionsMarshal.GetValueRefOrAddDefault`][1], and do the `AddOrUpdate` operation with a single key hashing:\r\n\r\n    public static void AddOrUpdate&lt;TKey, TValue&gt;(\r\n        this Dictionary&lt;TKey, TValue&gt; dictionary,\r\n        TKey key, TValue value,\r\n        out bool oldValueExists, out TValue oldValue)\r\n    {\r\n        ref TValue valueRef = ref CollectionsMarshal\r\n            .GetValueRefOrAddDefault(dictionary, key, out oldValueExists);\r\n        oldValue = valueRef;\r\n        valueRef = value;\r\n    }\r\n\r\nThis is the signature of the `CollectionsMarshal.GetValueRefOrAddDefault` method:\r\n\r\n    // Gets a reference to a TValue in the specified dictionary,\r\n    // adding a new entry with a default value if the key does not exist.\r\n    public static ref TValue? GetValueRefOrAddDefault&lt;TKey,TValue&gt;(\r\n        Dictionary&lt;TKey,TValue&gt; dictionary, TKey key, out bool exists);\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.collectionsmarshal.getvaluereforadddefault","title":"Update dictionary value and get the previous one in C#","body":"<p>Starting from .NET 6 you could use the advanced API <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.collectionsmarshal.getvaluereforadddefault\" rel=\"nofollow noreferrer\"><code>CollectionsMarshal.GetValueRefOrAddDefault</code></a>, and do the <code>AddOrUpdate</code> operation with a single key hashing:</p>\n<pre><code>public static void AddOrUpdate&lt;TKey, TValue&gt;(\n    this Dictionary&lt;TKey, TValue&gt; dictionary,\n    TKey key, TValue value,\n    out bool oldValueExists, out TValue oldValue)\n{\n    ref TValue valueRef = ref CollectionsMarshal\n        .GetValueRefOrAddDefault(dictionary, key, out oldValueExists);\n    oldValue = valueRef;\n    valueRef = value;\n}\n</code></pre>\n<p>This is the signature of the <code>CollectionsMarshal.GetValueRefOrAddDefault</code> method:</p>\n<pre><code>// Gets a reference to a TValue in the specified dictionary,\n// adding a new entry with a default value if the key does not exist.\npublic static ref TValue? GetValueRefOrAddDefault&lt;TKey,TValue&gt;(\n    Dictionary&lt;TKey,TValue&gt; dictionary, TKey key, out bool exists);\n</code></pre>\n"}],"owner":{"account_id":3145484,"reputation":1158,"user_id":2660039,"accept_rate":50,"display_name":"ekaerovets"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7074,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":46655961,"answer_count":4,"score":5,"last_activity_date":1689157923,"creation_date":1507586634,"question_id":46655665,"body_markdown":"I&#39;ve came to C# world from Java background.\r\n\r\nI need to update the value in a map/dictionary and get the previous value (or null if there were none). I would do the following in Java:\r\n\r\n```java\r\nString oldValue = myMap.put(key, newValue);\r\nsomeFunction(oldValue, newValue);\r\n```\r\n\r\nIn C# I use `Dictionary`, but I&#39;ve found no method to get the previous value on update. So far I need to perform 2 lookups to accomplish this, which I see not very optimal in terms of performance and lines of code\r\n\r\n    string oldValue = null;\r\n    myDictionary.TryGetValue(key, oldValue);\r\n    myDictionary[key] = newValue;\r\n    SomeFunction(oldValue, newValue);\r\n\r\nIs there an easier way to update value and get the previous one?","title":"Update dictionary value and get the previous one in C#","body":"<p>I've came to C# world from Java background.</p>\n<p>I need to update the value in a map/dictionary and get the previous value (or null if there were none). I would do the following in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String oldValue = myMap.put(key, newValue);\nsomeFunction(oldValue, newValue);\n</code></pre>\n<p>In C# I use <code>Dictionary</code>, but I've found no method to get the previous value on update. So far I need to perform 2 lookups to accomplish this, which I see not very optimal in terms of performance and lines of code</p>\n<pre><code>string oldValue = null;\nmyDictionary.TryGetValue(key, oldValue);\nmyDictionary[key] = newValue;\nSomeFunction(oldValue, newValue);\n</code></pre>\n<p>Is there an easier way to update value and get the previous one?</p>\n"},{"tags":["java","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1681105913,"post_id":75974522,"comment_id":133999166,"body_markdown":"hopefully someone else can help here, but in my opinion you have missed something from the archetype which only you can figure out. if maven and the archetype is too hard, you can use the VS code plugin (which bundles the karate runtime) and start running feature files: https://marketplace.visualstudio.com/items?itemName=karatelabs.karate","body":"hopefully someone else can help here, but in my opinion you have missed something from the archetype which only you can figure out. if maven and the archetype is too hard, you can use the VS code plugin (which bundles the karate runtime) and start running feature files: <a href=\"https://marketplace.visualstudio.com/items?itemName=karatelabs.karate\" rel=\"nofollow noreferrer\">marketplace.visualstudio.com/items?itemName=karatelabs.karat&zwnj;&#8203;e</a>"},{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":0,"creation_date":1681124888,"post_id":75974522,"comment_id":134001918,"body_markdown":"Thank you Peter, I am only looking forward to work on Idea and its running as I explain below: \nI moved the `users.feature` directly into `java` directory. Now, I am able to run it with absolute path - `/users/xploreraj/repo/myProject/ftModule`, but not with &quot;classpath:&quot; which should be the way to introduce the tests in my project. Should the &quot;classpath:&quot; resolve to the path till ft module since the test runners are placed inside that module?","body":"Thank you Peter, I am only looking forward to work on Idea and its running as I explain below:  I moved the <code>users.feature</code> directly into <code>java</code> directory. Now, I am able to run it with absolute path - <code>&#47;users&#47;xploreraj&#47;repo&#47;myProject&#47;ftModule</code>, but not with &quot;classpath:&quot; which should be the way to introduce the tests in my project. Should the &quot;classpath:&quot; resolve to the path till ft module since the test runners are placed inside that module?"},{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1681126068,"post_id":75974522,"comment_id":134002115,"body_markdown":"everything depends on how your project is set up. yes, normally the `src/test/java` folder should be the root of the `classpath:`, refer the docs: https://github.com/karatelabs/karate#classpath - if you still are stuck and need help, follow this process: https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue","body":"everything depends on how your project is set up. yes, normally the <code>src&#47;test&#47;java</code> folder should be the root of the <code>classpath:</code>, refer the docs: <a href=\"https://github.com/karatelabs/karate#classpath\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate#classpath</a> - if you still are stuck and need help, follow this process: <a href=\"https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue</a>"},{"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"score":0,"creation_date":1681127157,"post_id":75974522,"comment_id":134002311,"body_markdown":"I have fixed the issue and added the answer to the question too. Thank you once again :)","body":"I have fixed the issue and added the answer to the question too. Thank you once again :)"}],"answers":[{"tags":[],"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681125904,"creation_date":1681125904,"answer_id":75976661,"question_id":75974522,"body_markdown":"The solution is to inform Maven to point to `src/test/java` instead of defaulting to `src/test/resources` as outlined here: https://github.com/karatelabs/karate#folder-structure\r\n\r\n    &lt;build&gt;\r\n        &lt;testResources&gt;\r\n            &lt;testResource&gt;\r\n                &lt;directory&gt;src/test/java&lt;/directory&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/testResource&gt;\r\n        &lt;/testResources&gt;        \r\n        &lt;plugins&gt;\r\n        ...\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\nAnd then `Karate.run(&quot;classpath:&lt;path_to_feature_directory_or_file&gt;&quot;)` will work properly.\r\n\r\nI could only figure this out once I used absolute path to debug the issue. Hope it helps others.","title":"Unable to run karate tests - feature file not found","body":"<p>The solution is to inform Maven to point to <code>src/test/java</code> instead of defaulting to <code>src/test/resources</code> as outlined here: <a href=\"https://github.com/karatelabs/karate#folder-structure\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate#folder-structure</a></p>\n<pre><code>&lt;build&gt;\n    &lt;testResources&gt;\n        &lt;testResource&gt;\n            &lt;directory&gt;src/test/java&lt;/directory&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/testResource&gt;\n    &lt;/testResources&gt;        \n    &lt;plugins&gt;\n    ...\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>And then <code>Karate.run(&quot;classpath:&lt;path_to_feature_directory_or_file&gt;&quot;)</code> will work properly.</p>\n<p>I could only figure this out once I used absolute path to debug the issue. Hope it helps others.</p>\n"},{"tags":[],"owner":{"account_id":20717463,"reputation":190,"user_id":15212573,"display_name":"roudlek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689157328,"creation_date":1689157328,"answer_id":76669540,"question_id":75974522,"body_markdown":"please refer to karate official documentation :\r\nfor does ho get a null pointer exception and exceptionInitialize or something like that: https://github.com/karatelabs/karate\r\n\r\nthis one dependencie does the job :\r\n\r\n    &lt;dependencies&gt;         \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;karate-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\t\t\r\n    &lt;/dependencies&gt; \r\n\r\ni got this from : official documentation","title":"Unable to run karate tests - feature file not found","body":"<p>please refer to karate official documentation :\nfor does ho get a null pointer exception and exceptionInitialize or something like that: <a href=\"https://github.com/karatelabs/karate\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate</a></p>\n<p>this one dependencie does the job :</p>\n<pre><code>&lt;dependencies&gt;         \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\n        &lt;artifactId&gt;karate-junit5&lt;/artifactId&gt;\n        &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;       \n&lt;/dependencies&gt; \n</code></pre>\n<p>i got this from : official documentation</p>\n"}],"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75976661,"answer_count":2,"score":1,"last_activity_date":1689157328,"creation_date":1681104987,"question_id":75974522,"body_markdown":"I am getting error - no features or scenarios found.\r\n\r\nInitially, I wrote my own feature but after repeated failures, I tried copying the entire `src/test/java` directory from the demo karate project generated using archetype and removed my own files, but what works there, fails in my own project.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bdCus.png\r\n\r\nDependency in my pom which is also same as the demo project:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;karate-junit5&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI am running UsersRunner.java. Below is the error:\r\n\r\n\r\n    org.opentest4j.AssertionFailedError: no features or scenarios found: [classpath:examples/users]\r\n    at com.intuit.karate.junit5.Karate.iterator(Karate.java:72)","title":"Unable to run karate tests - feature file not found","body":"<p>I am getting error - no features or scenarios found.</p>\n<p>Initially, I wrote my own feature but after repeated failures, I tried copying the entire <code>src/test/java</code> directory from the demo karate project generated using archetype and removed my own files, but what works there, fails in my own project.</p>\n<p><a href=\"https://i.stack.imgur.com/bdCus.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bdCus.png\" alt=\"enter image description here\" /></a></p>\n<p>Dependency in my pom which is also same as the demo project:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\n    &lt;artifactId&gt;karate-junit5&lt;/artifactId&gt;\n    &lt;version&gt;1.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I am running UsersRunner.java. Below is the error:</p>\n<pre><code>org.opentest4j.AssertionFailedError: no features or scenarios found: [classpath:examples/users]\nat com.intuit.karate.junit5.Karate.iterator(Karate.java:72)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-cloud","hystrix"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1625157950,"post_id":68212747,"comment_id":120559561,"body_markdown":"That works in my test. What project has the hystrix dashboard dependency? Idea will never resolve most hystrix.* properties. Can you check the value of `hystrix.dashboard.proxy-stream-allow-list` in /actuator/configprops?","body":"That works in my test. What project has the hystrix dashboard dependency? Idea will never resolve most hystrix.* properties. Can you check the value of <code>hystrix.dashboard.proxy-stream-allow-list</code> in /actuator/configprops?"},{"owner":{"account_id":21059096,"reputation":121,"user_id":15477842,"display_name":"Mykola"},"score":0,"creation_date":1625225701,"post_id":68212747,"comment_id":120577496,"body_markdown":"@spencergibb, I added configprops to `management.endpoints.web.exposure.include` and opened the webpage on url http://localhost:8080/actuator/configprops, but I do not see `proxy-stream-allow-list` field. Please, check update screen in Q.","body":"@spencergibb, I added configprops to <code>management.endpoints.web.exposure.include</code> and opened the webpage on url <a href=\"http://localhost:8080/actuator/configprops\" rel=\"nofollow noreferrer\">localhost:8080/actuator/configprops</a>, but I do not see <code>proxy-stream-allow-list</code> field. Please, check update screen in Q."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1625611411,"post_id":68212747,"comment_id":120671518,"body_markdown":"Then the problem is it isn&#39;t configured correctly. You never answered which project has the dashboard dependency.","body":"Then the problem is it isn&#39;t configured correctly. You never answered which project has the dashboard dependency."},{"owner":{"account_id":21059096,"reputation":121,"user_id":15477842,"display_name":"Mykola"},"score":0,"creation_date":1626184650,"post_id":68212747,"comment_id":120821627,"body_markdown":"@spencergibb I create new module for dashboard called hystrix-dashboard.","body":"@spencergibb I create new module for dashboard called hystrix-dashboard."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1626272432,"post_id":68212747,"comment_id":120849023,"body_markdown":"And what does that projects application.yml look like?","body":"And what does that projects application.yml look like?"},{"owner":{"account_id":21059096,"reputation":121,"user_id":15477842,"display_name":"Mykola"},"score":0,"creation_date":1626335744,"post_id":68212747,"comment_id":120866742,"body_markdown":"Module &#39;hystrix-dashboard&#39; has only server.port property in application.properties. It starts on port 9195. I updated a question.","body":"Module &#39;hystrix-dashboard&#39; has only server.port property in application.properties. It starts on port 9195. I updated a question."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1626387995,"post_id":68212747,"comment_id":120886786,"body_markdown":"Put `hystrix.dashboard.proxy-stream-allow-list` configuration in that project","body":"Put <code>hystrix.dashboard.proxy-stream-allow-list</code> configuration in that project"}],"answers":[{"tags":[],"owner":{"account_id":28984857,"reputation":1,"user_id":22201878,"display_name":"aiyi-rain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689157023,"creation_date":1688980223,"answer_id":76652295,"question_id":68212747,"body_markdown":"modfiy application.yml\r\n\r\n```yaml\r\n  management:\r\n    endpoints:\r\n        web:\r\n          exposure:\r\n            include: hystrix.stream\r\n      endpoint:\r\n        hystrix:\r\n          stream:\r\n            enabled: true\r\n    hystrix:\r\n      dashboard:\r\n        proxy-stream-allow-list: 127.0.0.1,1xx.xxx.xxx.xxx\r\n```","title":"How to solve &#39;Unable to connect to Command Metric Stream.&#39; for Hystrix with Spring Boot 2.3.12 and Java 11?","body":"<p>modfiy application.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  management:\n    endpoints:\n        web:\n          exposure:\n            include: hystrix.stream\n      endpoint:\n        hystrix:\n          stream:\n            enabled: true\n    hystrix:\n      dashboard:\n        proxy-stream-allow-list: 127.0.0.1,1xx.xxx.xxx.xxx\n</code></pre>\n"}],"owner":{"account_id":21059096,"reputation":121,"user_id":15477842,"display_name":"Mykola"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1689157023,"creation_date":1625152296,"question_id":68212747,"body_markdown":"I am making an application using Spring Boot 2.3.12, Java 11 and Spring Cloud Hoxton.SR11. I added Eureka and Hystrix services. When I call &#39;http://localhost:8080/actuator/hystrix.stream&#39; I get a stream of messages like `data: {&quot;type&quot;: &quot;ping&quot;}`. \r\n\r\nBut when I insert this path into &#39;http://localhost:9195/hystrix/&#39; I get an error message &#39;Unable to connect to Command Metric Stream.&#39; and WARN-log *&#39;Origin parameter: http://localhost:8080/actuator/hystrix.stream is not in the allowed list of proxy host names. If it should be allowed add it to hystrix.dashboard.proxyStreamAllowList&#39;*.\r\n\r\nI added this to gateway properties.yaml:\r\n```java\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: hystrix.stream, info, health\r\n\r\nhystrix:\r\n  dashboard:\r\n    proxy-stream-allow-list: &quot;*&quot;\r\n  command:\r\n    default:\r\n      execution:\r\n        isolation:\r\n          thread:\r\n            timeoutInMilliseconds: 10000\r\n```\r\n\r\n[![EUREKA][1]][1]\r\n\r\n[![HYSTRIX][2]][2]\r\n\r\n**Additional info:** \r\n\r\n1. I added `spring-boot-starter-actuator` to pom.xml of gateway-service. I also added `spring-cloud-starter-circuitbreaker-reactor-resilience4j`.\r\n2. IntelliJ IDEA marked `proxy-stream-allow-list` and `timeoutInMilliseconds` as *&#39;Cannot resolve configuration property&#39;*\r\n3. These links didn&#39;t help: https://stackoverflow.com/questions/51177728/unable-to-connect-to-command-metric-stream-in-hystrix-dashboard, https://stackoverflow.com/questions/49792290/unable-to-connect-to-command-metric-stream-for-hystrix-dashboard-with-spring-clo, https://stackoverflow.com/questions/41300418/hystrix-unable-to-connect-to-command-metric-stream, https://stackoverflow.com/questions/39752946/hystrix-dashboard-issue-in-spring-boot, https://stackoverflow.com/questions/59738969/unable-to-connect-to-command-metric-stream-in-hystrix-dashboard-issue.\r\n\r\n**UPDATE 1:**\r\n[![unresolved dependency][3]][3]\r\n\r\n**UPDATE 2:**\r\n\r\nI use Hystrix Dashboard as separate new Java module. This module contains application.properties:\r\n```properties\r\nserver.port=9195\r\n```\r\nAnd main class:\r\n```java\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cloud.netflix.hystrix.dashboard.EnableHystrixDashboard;\r\n\r\n@SpringBootApplication\r\n@EnableHystrixDashboard\r\npublic class HystrixDashboardApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(HystrixDashboardApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dEjFJ.png\r\n  [2]: https://i.stack.imgur.com/rsXX3.png\r\n  [3]: https://i.stack.imgur.com/AfCdl.png","title":"How to solve &#39;Unable to connect to Command Metric Stream.&#39; for Hystrix with Spring Boot 2.3.12 and Java 11?","body":"<p>I am making an application using Spring Boot 2.3.12, Java 11 and Spring Cloud Hoxton.SR11. I added Eureka and Hystrix services. When I call 'http://localhost:8080/actuator/hystrix.stream' I get a stream of messages like <code>data: {&quot;type&quot;: &quot;ping&quot;}</code>.</p>\n<p>But when I insert this path into 'http://localhost:9195/hystrix/' I get an error message 'Unable to connect to Command Metric Stream.' and WARN-log <em>'Origin parameter: http://localhost:8080/actuator/hystrix.stream is not in the allowed list of proxy host names. If it should be allowed add it to hystrix.dashboard.proxyStreamAllowList'</em>.</p>\n<p>I added this to gateway properties.yaml:</p>\n<pre class=\"lang-java prettyprint-override\"><code>management:\n  endpoints:\n    web:\n      exposure:\n        include: hystrix.stream, info, health\n\nhystrix:\n  dashboard:\n    proxy-stream-allow-list: &quot;*&quot;\n  command:\n    default:\n      execution:\n        isolation:\n          thread:\n            timeoutInMilliseconds: 10000\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dEjFJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dEjFJ.png\" alt=\"EUREKA\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/rsXX3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rsXX3.png\" alt=\"HYSTRIX\" /></a></p>\n<p><strong>Additional info:</strong></p>\n<ol>\n<li>I added <code>spring-boot-starter-actuator</code> to pom.xml of gateway-service. I also added <code>spring-cloud-starter-circuitbreaker-reactor-resilience4j</code>.</li>\n<li>IntelliJ IDEA marked <code>proxy-stream-allow-list</code> and <code>timeoutInMilliseconds</code> as <em>'Cannot resolve configuration property'</em></li>\n<li>These links didn't help: <a href=\"https://stackoverflow.com/questions/51177728/unable-to-connect-to-command-metric-stream-in-hystrix-dashboard\">Unable to connect to Command Metric Stream in hystrix dashboard</a>, <a href=\"https://stackoverflow.com/questions/49792290/unable-to-connect-to-command-metric-stream-for-hystrix-dashboard-with-spring-clo\">Unable to connect to Command Metric Stream for Hystrix Dashboard with Spring Cloud</a>, <a href=\"https://stackoverflow.com/questions/41300418/hystrix-unable-to-connect-to-command-metric-stream\">Hystrix: Unable to connect to Command Metric Stream</a>, <a href=\"https://stackoverflow.com/questions/39752946/hystrix-dashboard-issue-in-spring-boot\">Hystrix Dashboard Issue in Spring Boot</a>, <a href=\"https://stackoverflow.com/questions/59738969/unable-to-connect-to-command-metric-stream-in-hystrix-dashboard-issue\">Unable to connect to Command Metric Stream. in Hystrix Dashboard issue</a>.</li>\n</ol>\n<p><strong>UPDATE 1:</strong>\n<a href=\"https://i.stack.imgur.com/AfCdl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AfCdl.png\" alt=\"unresolved dependency\" /></a></p>\n<p><strong>UPDATE 2:</strong></p>\n<p>I use Hystrix Dashboard as separate new Java module. This module contains application.properties:</p>\n<pre><code>server.port=9195\n</code></pre>\n<p>And main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.netflix.hystrix.dashboard.EnableHystrixDashboard;\n\n@SpringBootApplication\n@EnableHystrixDashboard\npublic class HystrixDashboardApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(HystrixDashboardApplication.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":19580981,"reputation":106,"user_id":14330061,"display_name":"dauthDaert06"},"score":0,"creation_date":1689159217,"post_id":76669486,"comment_id":135172992,"body_markdown":"I have a similar endpoint. Im returning ResponseEntity&lt;ByteArrayResource&gt; instead of byte[], and contentType is set to MediaType.APPLICATION_OCTET_STREAM. You can try those maybe.","body":"I have a similar endpoint. Im returning ResponseEntity&lt;ByteArrayResource&gt; instead of byte[], and contentType is set to MediaType.APPLICATION_OCTET_STREAM. You can try those maybe."},{"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"score":0,"creation_date":1689159953,"post_id":76669486,"comment_id":135173179,"body_markdown":"@dauthDaert06 I created a ByteArrayResource : `ByteArrayResource resource = new ByteArrayResource(file);`\nand returned `return new ResponseEntity&lt;&gt;(resource, headers, HttpStatus.OK);`\nwhen I test it I download empty file ( o octet) without any extension","body":"@dauthDaert06 I created a ByteArrayResource : <code>ByteArrayResource resource = new ByteArrayResource(file);</code> and returned <code>return new ResponseEntity&lt;&gt;(resource, headers, HttpStatus.OK);</code> when I test it I download empty file ( o octet) without any extension"},{"owner":{"account_id":19580981,"reputation":106,"user_id":14330061,"display_name":"dauthDaert06"},"score":0,"creation_date":1689163500,"post_id":76669486,"comment_id":135173892,"body_markdown":"Hmm.. are you in control of the database ? When client uploads a file, you are the one who inserts the file to the database and can you change the table (add a column) ?","body":"Hmm.. are you in control of the database ? When client uploads a file, you are the one who inserts the file to the database and can you change the table (add a column) ?"},{"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"score":0,"creation_date":1689164267,"post_id":76669486,"comment_id":135174098,"body_markdown":"Yes, are you thinking of adding new column to store the file type ? or changing the data type of the file to VARCHAR (encode the file to base64) ?","body":"Yes, are you thinking of adding new column to store the file type ? or changing the data type of the file to VARCHAR (encode the file to base64) ?"},{"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"score":0,"creation_date":1689164632,"post_id":76669486,"comment_id":135174187,"body_markdown":"well, by using ByteArrayResource the downloaded file is not empty but it doesn&#39;t have extension.","body":"well, by using ByteArrayResource the downloaded file is not empty but it doesn&#39;t have extension."},{"owner":{"account_id":19580981,"reputation":106,"user_id":14330061,"display_name":"dauthDaert06"},"score":1,"creation_date":1689164789,"post_id":76669486,"comment_id":135174217,"body_markdown":"Yes I was thinking of adding fileName column if that solves your problem. MultipartFile has a method getOriginalFilename() which returns the fullname (like &#39;image.png&#39;). And when serving you can add this name in the header.\n`FileEntity fileEntity = myService.findDocByCode(code);\nreturn ResponseEntity.ok()\n                    .contentType(MediaType.APPLICATION_OCTET_STREAM)\n                    .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + fileEntity .getFileName() + &quot;\\&quot;&quot;)\n                    .body(new ByteArrayResource(fileEntity .getFile()));`","body":"Yes I was thinking of adding fileName column if that solves your problem. MultipartFile has a method getOriginalFilename() which returns the fullname (like &#39;image.png&#39;). And when serving you can add this name in the header. <code>FileEntity fileEntity = myService.findDocByCode(code); return ResponseEntity.ok()                     .contentType(MediaType.APPLICATION_OCTET_STREAM)                     .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + fileEntity .getFileName() + &quot;\\&quot;&quot;)                     .body(new ByteArrayResource(fileEntity .getFile()));</code>"},{"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"score":0,"creation_date":1689164966,"post_id":76669486,"comment_id":135174257,"body_markdown":"@dauthDaert06 I didn&#39;t want to add more columns but it seems to be my only solution, I&#39;ll do it.\n Next time I&#39;ll use base64 instead of this. Thank you.","body":"@dauthDaert06 I didn&#39;t want to add more columns but it seems to be my only solution, I&#39;ll do it.  Next time I&#39;ll use base64 instead of this. Thank you."},{"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"score":0,"creation_date":1689165966,"post_id":76669486,"comment_id":135174500,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254464/discussion-between-hamzadevxx-and-dauthdaert06).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254464/discussion-between-hamzadevxx-and-dauthdaert06\">continue this discussion in chat</a>."}],"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689156862,"creation_date":1689156862,"question_id":76669486,"body_markdown":"In the project&#39;s requirements the user should be able to upload image or pdf and later can download it.\r\n\r\nFor now I know how to do it if the type of the file is known, for example if it&#39;s a Pdf :\r\n\r\n\r\n\r\n    public ResponseEntity&lt;byte[]&gt; getSupportDoc(@PathVariable String code) throws Exception {\r\n    \r\n      byte[] file = myService.findDocByCode(code).getFile();\r\n    \r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_PDF);\r\n        headers.setContentLength(file.length);\r\n    \r\n    \r\n        return new ResponseEntity&lt;&gt;(file, headers, HttpStatus.OK);\r\n        }\r\n\r\n\r\nthis works perfectly, and if the file is image I need just to change the line:\r\n\r\n    headers.setContentType(MediaType.APPLICATION_PDF);\r\n\r\nto:\r\n\r\n    headers.setContentType(MediaType.IMAGE_JPEG);\r\n\r\nMy question is how to detect automatically the type and set the MediaType ?\r\n I have read this answer :\r\n\r\nhttps://stackoverflow.com/questions/19912267/how-to-get-a-file-name-from-a-files-byte-array\r\n\r\nbut I&#39;m wondering if there&#39;s any easier way to do it\r\n\r\n","title":"How to download image or pdf stored as LONGBLOB in database in Spring boot","body":"<p>In the project's requirements the user should be able to upload image or pdf and later can download it.</p>\n<p>For now I know how to do it if the type of the file is known, for example if it's a Pdf :</p>\n<pre><code>public ResponseEntity&lt;byte[]&gt; getSupportDoc(@PathVariable String code) throws Exception {\n\n  byte[] file = myService.findDocByCode(code).getFile();\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_PDF);\n    headers.setContentLength(file.length);\n\n\n    return new ResponseEntity&lt;&gt;(file, headers, HttpStatus.OK);\n    }\n</code></pre>\n<p>this works perfectly, and if the file is image I need just to change the line:</p>\n<pre><code>headers.setContentType(MediaType.APPLICATION_PDF);\n</code></pre>\n<p>to:</p>\n<pre><code>headers.setContentType(MediaType.IMAGE_JPEG);\n</code></pre>\n<p>My question is how to detect automatically the type and set the MediaType ?\nI have read this answer :</p>\n<p><a href=\"https://stackoverflow.com/questions/19912267/how-to-get-a-file-name-from-a-files-byte-array\">How to get a file name from a file&#39;s byte array?</a></p>\n<p>but I'm wondering if there's any easier way to do it</p>\n"},{"tags":["java","spring","spring-security","toggle"],"comments":[{"owner":{"account_id":167914,"reputation":5962,"user_id":393021,"accept_rate":62,"display_name":"Igbanam"},"score":0,"creation_date":1695407861,"post_id":76609890,"comment_id":136025410,"body_markdown":"The magic for me here was to expose `togglz` as a management endpoint","body":"The magic for me here was to expose <code>togglz</code> as a management endpoint"}],"answers":[{"tags":[],"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689156798,"creation_date":1689156798,"answer_id":76669471,"question_id":76609890,"body_markdown":"The cause of this problem is that when the request for `/togglz-console` is checked by `PathPatternMatchableHandlerMapping` it looks at\r\n\r\n```\r\nServletRequestPathUtils.getParsedRequestPath(request).pathWithinApplication()\r\n```\r\nThe request path _is_ `/togglz-console`, however `pathWithinApplication()` returns `&quot;&quot;`. For some reason `/togglz-console` is not being considered &#39;part of the application&#39; (perhaps because it&#39;s being provided as a 3rd party add-on).\r\n\r\nA solution to this is to add special `requestMatcher`, which can be configured to look at the whole request path, and ignore the `pathWithinApplication`.\r\n\r\nfor example:\r\n\r\n```java\r\n@Bean\r\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    return http.authorizeHttpRequests(requests -&gt; \r\n         requests\r\n             .requestMatchers(customMatcher(&quot;/togglz-console&quot;),\r\n                              customMatcher(&quot;/togglz-console/*&quot;))\r\n             .permitAll()\r\n             .requestMatchers(&quot;/public&quot;)\r\n             .permitAll()\r\n             .anyRequest()\r\n             .authenticated()\r\n             .formLogin(withDefaults())\r\n             .build();\r\n}\r\n\r\nprivate RequestMatcher customMatcher(String pattern) {\r\n    return request -&gt; {\r\n        var matcher = new PathPatternParser().parse(pattern);\r\n        var path = ServletRequestPathUtils.parseAndCache(request);\r\n        return matcher.matches(path);\r\n    };\r\n}\r\n```","title":"Exclude togglz-console from spring security","body":"<p>The cause of this problem is that when the request for <code>/togglz-console</code> is checked by <code>PathPatternMatchableHandlerMapping</code> it looks at</p>\n<pre><code>ServletRequestPathUtils.getParsedRequestPath(request).pathWithinApplication()\n</code></pre>\n<p>The request path <em>is</em> <code>/togglz-console</code>, however <code>pathWithinApplication()</code> returns <code>&quot;&quot;</code>. For some reason <code>/togglz-console</code> is not being considered 'part of the application' (perhaps because it's being provided as a 3rd party add-on).</p>\n<p>A solution to this is to add special <code>requestMatcher</code>, which can be configured to look at the whole request path, and ignore the <code>pathWithinApplication</code>.</p>\n<p>for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    return http.authorizeHttpRequests(requests -&gt; \n         requests\n             .requestMatchers(customMatcher(&quot;/togglz-console&quot;),\n                              customMatcher(&quot;/togglz-console/*&quot;))\n             .permitAll()\n             .requestMatchers(&quot;/public&quot;)\n             .permitAll()\n             .anyRequest()\n             .authenticated()\n             .formLogin(withDefaults())\n             .build();\n}\n\nprivate RequestMatcher customMatcher(String pattern) {\n    return request -&gt; {\n        var matcher = new PathPatternParser().parse(pattern);\n        var path = ServletRequestPathUtils.parseAndCache(request);\n        return matcher.matches(path);\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76669471,"answer_count":1,"score":2,"last_activity_date":1689156798,"creation_date":1688452284,"question_id":76609890,"body_markdown":"I&#39;d like to exclude the toggle-console from being included in the spring-security auth process: I want to access it on the management port without auth. Despite adding matchers to the requestMatchers in my WebSecurityConfig the console is always  blocked by the login prompt.\r\n\r\nThe SecurityFilterChain bean I have:\r\n```java\r\n  @Bean\r\n  public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n      return http\r\n              .authorizeHttpRequests(requests -&gt; requests\r\n                      .requestMatchers(&quot;/actuator&quot;,\r\n                              &quot;/actuator/*&quot;,\r\n                              &quot;/togglz-console&quot;,\r\n                              &quot;/togglz-console/**&quot;,\r\n                              &quot;/togglz*&quot;,\r\n                              &quot;/togglz**&quot;\r\n                      )\r\n                      .permitAll()\r\n                      .anyRequest()\r\n                      .authenticated()\r\n              )\r\n              .csrf(AbstractHttpConfigurer::disable)\r\n              .formLogin(AbstractAuthenticationFilterConfigurer::permitAll)\r\n              .logout(LogoutConfigurer::permitAll)\r\n              .build();\r\n  }\r\n```\r\n\r\nin application.properties I have the following:\r\n```yaml\r\ntogglz:\r\n  enabled:\r\n    true\r\n  features:\r\n    CHEEKY_GREETING:\r\n      enabled: false\r\n  console:\r\n    secured: false\r\n    use-management-port: true\r\n  endpoint:\r\n    enabled: true\r\n    id: togglz\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: &#39;togglz, health&#39;\r\n  server:\r\n    port: 8081\r\n```\r\n\r\nMy project has the following dependencies:\r\n```groovy\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;3.1.0&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n    id &#39;java&#39;\r\n}\r\next {\r\n    togglz_version = &quot;4.0.1&quot;\r\n}\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n\r\n    testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n\r\n    implementation(&quot;org.togglz:togglz-spring-boot-starter:${togglz_version}&quot;)\r\n    implementation(&quot;org.togglz:togglz-console:${togglz_version}&quot;)\r\n}\r\n```\r\nI tried adding the `togglz-security-spring-boot-starter` too, but made no change.\r\n\r\nCode all on a branch here: https://github.com/robjwilkins/showcase/tree/add/togglz\r\n\r\nAny suggestions what I&#39;m doing wrong? thanks","title":"Exclude togglz-console from spring security","body":"<p>I'd like to exclude the toggle-console from being included in the spring-security auth process: I want to access it on the management port without auth. Despite adding matchers to the requestMatchers in my WebSecurityConfig the console is always  blocked by the login prompt.</p>\n<p>The SecurityFilterChain bean I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Bean\n  public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n      return http\n              .authorizeHttpRequests(requests -&gt; requests\n                      .requestMatchers(&quot;/actuator&quot;,\n                              &quot;/actuator/*&quot;,\n                              &quot;/togglz-console&quot;,\n                              &quot;/togglz-console/**&quot;,\n                              &quot;/togglz*&quot;,\n                              &quot;/togglz**&quot;\n                      )\n                      .permitAll()\n                      .anyRequest()\n                      .authenticated()\n              )\n              .csrf(AbstractHttpConfigurer::disable)\n              .formLogin(AbstractAuthenticationFilterConfigurer::permitAll)\n              .logout(LogoutConfigurer::permitAll)\n              .build();\n  }\n</code></pre>\n<p>in application.properties I have the following:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>togglz:\n  enabled:\n    true\n  features:\n    CHEEKY_GREETING:\n      enabled: false\n  console:\n    secured: false\n    use-management-port: true\n  endpoint:\n    enabled: true\n    id: togglz\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: 'togglz, health'\n  server:\n    port: 8081\n</code></pre>\n<p>My project has the following dependencies:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '3.1.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n    id 'java'\n}\next {\n    togglz_version = &quot;4.0.1&quot;\n}\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n\n    testImplementation('org.springframework.boot:spring-boot-starter-test')\n\n    implementation(&quot;org.togglz:togglz-spring-boot-starter:${togglz_version}&quot;)\n    implementation(&quot;org.togglz:togglz-console:${togglz_version}&quot;)\n}\n</code></pre>\n<p>I tried adding the <code>togglz-security-spring-boot-starter</code> too, but made no change.</p>\n<p>Code all on a branch here: <a href=\"https://github.com/robjwilkins/showcase/tree/add/togglz\" rel=\"nofollow noreferrer\">https://github.com/robjwilkins/showcase/tree/add/togglz</a></p>\n<p>Any suggestions what I'm doing wrong? thanks</p>\n"},{"tags":["java","birt"],"comments":[{"owner":{"account_id":1072326,"reputation":1069,"user_id":1071302,"accept_rate":43,"display_name":"Sundar G"},"score":0,"creation_date":1345640216,"post_id":12072082,"comment_id":16127648,"body_markdown":"Can you elaborate a little bit.I didn&#39;t get your point?","body":"Can you elaborate a little bit.I didn&#39;t get your point?"},{"owner":{"account_id":1699305,"reputation":2918,"user_id":1559854,"accept_rate":56,"display_name":"vmb"},"score":0,"creation_date":1346834248,"post_id":12072082,"comment_id":16465368,"body_markdown":"Serial number should reset based on grouping.","body":"Serial number should reset based on grouping."},{"owner":{"account_id":1699305,"reputation":2918,"user_id":1559854,"accept_rate":56,"display_name":"vmb"},"score":0,"creation_date":1346834526,"post_id":12072082,"comment_id":16465485,"body_markdown":"if we grouping employess based on job role,serial number should reset to 1 after every job role","body":"if we grouping employess based on job role,serial number should reset to 1 after every job role"}],"answers":[{"tags":[],"owner":{"account_id":170731,"reputation":4483,"user_id":397667,"accept_rate":100,"display_name":"bw_&#252;ezi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1347376036,"creation_date":1347376036,"answer_id":12372781,"question_id":12072082,"body_markdown":"Serial Number may be a confusing word...&lt;br&gt;\r\nI think you look for something like a Row Number that is reset to 1 for each group.\r\n\r\nTry this:\r\n\r\n- Add Aggregation\r\n\r\nin the Aggregation Binding Builder use these values:\r\n\r\n    Column Binding Name:    SerialNumber\r\n    Data Type:              Float\r\n    Function:               RUNNINGSUM\r\n    Expression:             1\r\n    Aggregation On:         Group\r\n\r\n","title":"How to add Serial Number column in BIRT","body":"<p>Serial Number may be a confusing word...<br>\nI think you look for something like a Row Number that is reset to 1 for each group.</p>\n\n<p>Try this:</p>\n\n<ul>\n<li>Add Aggregation</li>\n</ul>\n\n<p>in the Aggregation Binding Builder use these values:</p>\n\n<pre><code>Column Binding Name:    SerialNumber\nData Type:              Float\nFunction:               RUNNINGSUM\nExpression:             1\nAggregation On:         Group\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2621378,"reputation":44,"user_id":2269315,"display_name":"Farrukh Afzaal Kurd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365666889,"creation_date":1365666889,"answer_id":15943445,"question_id":12072082,"body_markdown":"I normally add an aggregation function with data type float and function running count for this kind of problem, just place the aggregate on group, so that the number will be reset on change of group.","title":"How to add Serial Number column in BIRT","body":"<p>I normally add an aggregation function with data type float and function running count for this kind of problem, just place the aggregate on group, so that the number will be reset on change of group.</p>\n"},{"tags":[],"owner":{"account_id":4715973,"reputation":9,"user_id":3815093,"display_name":"user3815093"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1404801005,"creation_date":1404801005,"answer_id":24625063,"question_id":12072082,"body_markdown":"7.\tIf we need S.No Click on computed columns ---- &gt;Click on New computed column Button ---- &gt;\r\nEnter Column Name(S.No)--- &gt;Select Data type--- &gt;Select Aggregation In our Example Running Count -- ---- &gt; OK\r\n \r\n","title":"How to add Serial Number column in BIRT","body":"<ol>\n<li>If we need S.No Click on computed columns ---- >Click on New computed column Button ---- >\nEnter Column Name(S.No)--- >Select Data type--- >Select Aggregation In our Example Running Count -- ---- > OK</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":26607121,"reputation":11,"user_id":20227771,"display_name":"Thưởng Tạ Quang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689156368,"creation_date":1689156098,"answer_id":76669376,"question_id":12072082,"body_markdown":"I can runningcount for me!!!\r\ndata type: integer\r\nfunction: runningcount\r\nexpression: vars[&quot;no&quot;]\r\naggregate on: group","title":"How to add Serial Number column in BIRT","body":"<p>I can runningcount for me!!!\ndata type: integer\nfunction: runningcount\nexpression: vars[&quot;no&quot;]\naggregate on: group</p>\n"}],"owner":{"account_id":1699305,"reputation":2918,"user_id":1559854,"accept_rate":56,"display_name":"vmb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5703,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":12372781,"answer_count":4,"score":2,"last_activity_date":1689156368,"creation_date":1345634903,"question_id":12072082,"body_markdown":"I want to add a serial number column in birt report.It should be reset based on grouping.How can i achieve this in BIRT?\r\n\r\nExample:\r\n\r\n    | SerialNumber | Job Role | Employee       |\r\n    |              | role1    |                |\r\n    |       1      |          | Mickey Mouse   |\r\n    |       2      |          | Goofy          |\r\n    |       3      |          | Pluto          |\r\n    |              | role2    |                |\r\n    |       1      |          | Donald Duck    |\r\n    |              | role3    |                |\r\n    |       1      |          | Minnie Mouse   |\r\n    |       2      |          | Doctor Einmug  |\r\n","title":"How to add Serial Number column in BIRT","body":"<p>I want to add a serial number column in birt report.It should be reset based on grouping.How can i achieve this in BIRT?</p>\n\n<p>Example:</p>\n\n<pre><code>| SerialNumber | Job Role | Employee       |\n|              | role1    |                |\n|       1      |          | Mickey Mouse   |\n|       2      |          | Goofy          |\n|       3      |          | Pluto          |\n|              | role2    |                |\n|       1      |          | Donald Duck    |\n|              | role3    |                |\n|       1      |          | Minnie Mouse   |\n|       2      |          | Doctor Einmug  |\n</code></pre>\n"},{"tags":["java","vaadin","vaadin24"],"comments":[{"owner":{"account_id":15754805,"reputation":805,"user_id":11368281,"display_name":"Sascha I&#223;br&#252;cker"},"score":2,"creation_date":1687451866,"post_id":76533511,"comment_id":134942140,"body_markdown":"The dependency / JAR file that you added through Maven does not contain that class. It&#39;s part of the project&#39;s demo module, which doesn&#39;t seem to be distributed through Maven: https://github.com/stefanuebe/vaadin_fullcalendar/blob/master/demo","body":"The dependency / JAR file that you added through Maven does not contain that class. It&#39;s part of the project&#39;s demo module, which doesn&#39;t seem to be distributed through Maven: <a href=\"https://github.com/stefanuebe/vaadin_fullcalendar/blob/master/demo\" rel=\"nofollow noreferrer\">github.com/stefanuebe/vaadin_fullcalendar/blob/master/demo</a>"},{"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"score":0,"creation_date":1687532907,"post_id":76533511,"comment_id":134955028,"body_markdown":"hello Sascha is there any way to use that import ?","body":"hello Sascha is there any way to use that import ?"},{"owner":{"account_id":15754805,"reputation":805,"user_id":11368281,"display_name":"Sascha I&#223;br&#252;cker"},"score":1,"creation_date":1687537519,"post_id":76533511,"comment_id":134955998,"body_markdown":"Why do you want to use it, it&#39;s only for demonstration purposes? Looking at the examples on the page that you linked, you are supposed to use an `EntryProvider` with the component.","body":"Why do you want to use it, it&#39;s only for demonstration purposes? Looking at the examples on the page that you linked, you are supposed to use an <code>EntryProvider</code> with the component."}],"answers":[{"tags":[],"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689156335,"creation_date":1689156335,"answer_id":76669405,"question_id":76533511,"body_markdown":"As sasha metioned this import is from the demos and it just for demostration.\r\n\r\n    import org.vaadin.stefan.ui.view.demos.entryproviders.EntryService;\r\n\r\nIf you want to use entryservice you have to manually create the java class and the package inside your own application.","title":"FullCalendar Component in Vaadin import not working","body":"<p>As sasha metioned this import is from the demos and it just for demostration.</p>\n<pre><code>import org.vaadin.stefan.ui.view.demos.entryproviders.EntryService;\n</code></pre>\n<p>If you want to use entryservice you have to manually create the java class and the package inside your own application.</p>\n"}],"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76669405,"answer_count":1,"score":0,"last_activity_date":1689156335,"creation_date":1687447932,"question_id":76533511,"body_markdown":"Pretty much the title, i&#39;m using [this Vaadin component](https://vaadin.com/directory/component/full-calendar-flow) to implement a calendar in my application.  \r\nThis is the relevant part of my Pom.xml file:\r\n```    \r\n        &lt;repository&gt;\r\n            &lt;id&gt;Vaadin Directory&lt;/id&gt;\r\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n                                /////////////\r\n\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.vaadin.stefan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fullcalendar2&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nI should be able to use this import, anywhere in my application:\r\n\r\n``` \r\nimport org.vaadin.stefan.ui.view.demos.entryproviders.EntryService;\r\n```\r\n\r\nBut i can&#39;t i continuosly run into the error:\r\n\r\n``` \r\nThe import org.vaadin.stefan.ui cannot be resolvedJava(268435846)\r\n```\r\n\r\nWitch is very strange since the import should work.  \r\n\r\nCan you help me make org.vaadin.stefan.ui work?","title":"FullCalendar Component in Vaadin import not working","body":"<p>Pretty much the title, i'm using <a href=\"https://vaadin.com/directory/component/full-calendar-flow\" rel=\"nofollow noreferrer\">this Vaadin component</a> to implement a calendar in my application.<br />\nThis is the relevant part of my Pom.xml file:</p>\n<pre><code>        &lt;repository&gt;\n            &lt;id&gt;Vaadin Directory&lt;/id&gt;\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n                                /////////////\n\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.vaadin.stefan&lt;/groupId&gt;\n            &lt;artifactId&gt;fullcalendar2&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I should be able to use this import, anywhere in my application:</p>\n<pre><code>import org.vaadin.stefan.ui.view.demos.entryproviders.EntryService;\n</code></pre>\n<p>But i can't i continuosly run into the error:</p>\n<pre><code>The import org.vaadin.stefan.ui cannot be resolvedJava(268435846)\n</code></pre>\n<p>Witch is very strange since the import should work.</p>\n<p>Can you help me make org.vaadin.stefan.ui work?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1485572421,"post_id":41905863,"comment_id":70993980,"body_markdown":".java files go in /src, of course.  I usually put execution scripts (e.g. *.bat or *.cmd for Windows, *.sh for *nix) in /bin.","body":".java files go in /src, of course.  I usually put execution scripts (e.g. *.bat or *.cmd for Windows, *.sh for *nix) in /bin."},{"owner":{"account_id":269864,"reputation":2160,"user_id":559467,"accept_rate":100,"display_name":"D.N."},"score":2,"creation_date":1485573310,"post_id":41905863,"comment_id":70994108,"body_markdown":"To reinforce, the source goes in /src, of course, of course","body":"To reinforce, the source goes in /src, of course, of course"}],"answers":[{"tags":[],"owner":{"account_id":269864,"reputation":2160,"user_id":559467,"accept_rate":100,"display_name":"D.N."},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1485571897,"creation_date":1485571897,"answer_id":41905872,"question_id":41905863,"body_markdown":"`src` files are your raw, human-readable source code (in this case, `.java`).\r\n`bin` files are your compiled code (in this case, `.class`)","title":"Difference between SRC and BIN?","body":"<p><code>src</code> files are your raw, human-readable source code (in this case, <code>.java</code>).\n<code>bin</code> files are your compiled code (in this case, <code>.class</code>)</p>\n"},{"tags":[],"owner":{"account_id":14176614,"reputation":41,"user_id":10241645,"display_name":"Sagar Bhatt"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1534557740,"creation_date":1534557740,"answer_id":51904652,"question_id":41905863,"body_markdown":"if you are working on a Java project, src folder and its subfolders would hold the .java files (human readable codes). &quot;Bin&quot; folder is usually where the compiled files are copied to (computer readable codes). For example, this folder will have the .class, .jar etc files which are compiled.","title":"Difference between SRC and BIN?","body":"<p>if you are working on a Java project, src folder and its subfolders would hold the .java files (human readable codes). \"Bin\" folder is usually where the compiled files are copied to (computer readable codes). For example, this folder will have the .class, .jar etc files which are compiled.</p>\n"}],"owner":{"account_id":8439769,"reputation":181,"user_id":6332733,"accept_rate":71,"display_name":"L4undry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17029,"favorite_count":0,"down_vote_count":3,"up_vote_count":8,"accepted_answer_id":41905872,"answer_count":2,"score":5,"last_activity_date":1689155538,"creation_date":1485571794,"question_id":41905863,"body_markdown":"What is the difference between the `src` folder and the `bin` folder in an Eclipse project? They both seem the same, however, `src` uses .java files whereas `bin` uses .class files. Why is this? What difference do they have?","title":"Difference between SRC and BIN?","body":"<p>What is the difference between the <code>src</code> folder and the <code>bin</code> folder in an Eclipse project? They both seem the same, however, <code>src</code> uses .java files whereas <code>bin</code> uses .class files. Why is this? What difference do they have?</p>\n"},{"tags":["java","postgresql","jdbc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689151993,"post_id":76668559,"comment_id":135171401,"body_markdown":"Now if there would be a aptly named [`NamedParameterJdbcTemplate`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html) that would just do that.","body":"Now if there would be a aptly named <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html\" rel=\"nofollow noreferrer\"><code>NamedParameterJdbcTemplate</code></a> that would just do that."},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1689152279,"post_id":76668559,"comment_id":135171473,"body_markdown":"It wonnt inject if it is a pat of the string. Like `val = :val` will work but `val = &#39;:val&#39;` gives me error. As in the string i need to inject into is also a string.","body":"It wonnt inject if it is a pat of the string. Like <code>val = :val</code> will work but <code>val = &#39;:val&#39;</code> gives me error. As in the string i need to inject into is also a string."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689152451,"post_id":76668559,"comment_id":135171513,"body_markdown":"If hte parameter is properlly marked as string you don&#39;t need the quotes, the JDBC driver will act accordingly. I suspect you are trying to outsmart the JDBC driver","body":"If hte parameter is properlly marked as string you don&#39;t need the quotes, the JDBC driver will act accordingly. I suspect you are trying to outsmart the JDBC driver"},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1689152532,"post_id":76668559,"comment_id":135171538,"body_markdown":"Like i said. This is simplified example. In real usecase i have something like `&#39;AND val1 = :val1 and val2 = :val2&#39;` that gets passed to myfunc as a string parameter.","body":"Like i said. This is simplified example. In real usecase i have something like <code>&#39;AND val1 = :val1 and val2 = :val2&#39;</code> that gets passed to myfunc as a string parameter."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689153222,"post_id":76668559,"comment_id":135171672,"body_markdown":"Then replace it yourself. Instead of adding variables add the actual value. Yes that is prone to SQL injection. But either do that or don&#39;t use Strings like this.","body":"Then replace it yourself. Instead of adding variables add the actual value. Yes that is prone to SQL injection. But either do that or don&#39;t use Strings like this."},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1689153748,"post_id":76668559,"comment_id":135171773,"body_markdown":"cant allow sql injection danger. How would you handle a situation where the expected result is a product of crosstab with dynamic amount of columns where each column is user defined on runtime and you need to use this result of crosstab as a filter for another query?","body":"cant allow sql injection danger. How would you handle a situation where the expected result is a product of crosstab with dynamic amount of columns where each column is user defined on runtime and you need to use this result of crosstab as a filter for another query?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689153852,"post_id":76668559,"comment_id":135171794,"body_markdown":"I would generate a normal query and not invoke a function. Just run the query.","body":"I would generate a normal query and not invoke a function. Just run the query."},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1689154173,"post_id":76668559,"comment_id":135171845,"body_markdown":"But what if all the data you need exists in DB in multiple tables and colelctind the data for crosstab is non trivial?","body":"But what if all the data you need exists in DB in multiple tables and colelctind the data for crosstab is non trivial?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689154855,"post_id":76668559,"comment_id":135172030,"body_markdown":"That query is still somewhere, regardless of anything the query needs to be written. If you do that in a function/procedure or Java with JDBC it is still the same query.","body":"That query is still somewhere, regardless of anything the query needs to be written. If you do that in a function/procedure or Java with JDBC it is still the same query."},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1689154918,"post_id":76668559,"comment_id":135172045,"body_markdown":"There is tho 1 thing. I might be able to buuild it on Java side, but main issue is. Crosstab takes queries as strings so the issue remains. And i need crosstab since i need a pivot table.","body":"There is tho 1 thing. I might be able to buuild it on Java side, but main issue is. Crosstab takes queries as strings so the issue remains. And i need crosstab since i need a pivot table."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689155092,"post_id":76668559,"comment_id":135172073,"body_markdown":"What is crosstab what you are referencing?","body":"What is crosstab what you are referencing?"},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1689155144,"post_id":76668559,"comment_id":135172084,"body_markdown":"https://www.sqlshack.com/how-to-use-the-crosstab-function-in-postgresql/ a function in postgresql to create pivot tables.","body":"<a href=\"https://www.sqlshack.com/how-to-use-the-crosstab-function-in-postgresql/\" rel=\"nofollow noreferrer\">sqlshack.com/how-to-use-the-crosstab-function-in-postgresql</a> a function in postgresql to create pivot tables."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689155352,"post_id":76668559,"comment_id":135172135,"body_markdown":"Now that is some crucial piece of information you want to include in your question.","body":"Now that is some crucial piece of information you want to include in your question."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689155706,"post_id":76668559,"comment_id":135172218,"body_markdown":"According to [this](https://stackoverflow.com/a/53006570/2696260) you can obtain the SQL String from a PostgresSQL statement. So you can make it a 2 part process. First prepare the query you want to pass to the `crosstab` function, get it as a `String` then prepare the second query.","body":"According to <a href=\"https://stackoverflow.com/a/53006570/2696260\">this</a> you can obtain the SQL String from a PostgresSQL statement. So you can make it a 2 part process. First prepare the query you want to pass to the <code>crosstab</code> function, get it as a <code>String</code> then prepare the second query."}],"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689155461,"creation_date":1689150360,"question_id":76668559,"body_markdown":"I have a query in format\r\n\r\n    namedJdbcTemplate.queryForObject(&quot;&quot;&quot;\r\n    select * from table\r\n    where column = &#39;somethins :param&#39;\r\n    &quot;&quot;&quot;, new MapSqlParameterSource(&#39;param&#39;, someValue), someReturnType);\r\n\r\nHow can i make it inject the param value into the string?\r\n\r\nThis is a simplified case. Actual usecase uses a function on DB side to construct a complex query, all im giving it is a where clause and params for the where clause:\r\n\r\n    namedJdbcTemplate.queryForObject(&quot;&quot;&quot;\r\n        select myfunc($$%s$$)\r\n        &quot;&quot;&quot;.formatted(getFilterClauseFromDB()), params, someReturnType);\r\n\r\nWhen the formatting does its work it should look something like this\r\n\r\n   \r\n\r\n     namedJdbcTemplate.queryForObject(&quot;&quot;&quot;\r\n            select myfunc($$AND val1 = :val1 and val2 = :val2 $$)\r\n            &quot;&quot;&quot;, params, someReturnType);\r\n\r\n\r\nwhere params is a Map&lt;string, object&gt; of parameters parsed by a generic parameter parsing system to put them into correct format. But the namedJDBCTemplate does not map parameters to :val1 and :val2 for some reason. Function intenrally runs a postgres crosstab function. Even if i do away with my function the issue remains. I need to inject parameters into a string that is inside SQL since crosstab accepts queries in the format of string.\r\n\r\nSomehow i need to get the params placed into the filterclause that is a string that is built on the runtime. Is there a way i can do it? Currently it throws error `The column index is out of range: 1, number of columns: 0`\r\n\r\n\r\n","title":"How to inject parameter into a string inside query string with namesJDBCTemplate?","body":"<p>I have a query in format</p>\n<pre><code>namedJdbcTemplate.queryForObject(&quot;&quot;&quot;\nselect * from table\nwhere column = 'somethins :param'\n&quot;&quot;&quot;, new MapSqlParameterSource('param', someValue), someReturnType);\n</code></pre>\n<p>How can i make it inject the param value into the string?</p>\n<p>This is a simplified case. Actual usecase uses a function on DB side to construct a complex query, all im giving it is a where clause and params for the where clause:</p>\n<pre><code>namedJdbcTemplate.queryForObject(&quot;&quot;&quot;\n    select myfunc($$%s$$)\n    &quot;&quot;&quot;.formatted(getFilterClauseFromDB()), params, someReturnType);\n</code></pre>\n<p>When the formatting does its work it should look something like this</p>\n<pre><code> namedJdbcTemplate.queryForObject(&quot;&quot;&quot;\n        select myfunc($$AND val1 = :val1 and val2 = :val2 $$)\n        &quot;&quot;&quot;, params, someReturnType);\n</code></pre>\n<p>where params is a Map&lt;string, object&gt; of parameters parsed by a generic parameter parsing system to put them into correct format. But the namedJDBCTemplate does not map parameters to :val1 and :val2 for some reason. Function intenrally runs a postgres crosstab function. Even if i do away with my function the issue remains. I need to inject parameters into a string that is inside SQL since crosstab accepts queries in the format of string.</p>\n<p>Somehow i need to get the params placed into the filterclause that is a string that is built on the runtime. Is there a way i can do it? Currently it throws error <code>The column index is out of range: 1, number of columns: 0</code></p>\n"},{"tags":["java","spring","logback"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689155128,"post_id":76669003,"comment_id":135172079,"body_markdown":"You like the suspence don&#39;t you? What is happening that doesn&#39;t happen? You dump some configuration without any error/result and expect us to know what is wrong? one thing I see is that it is old, very old and I doubt it is adapted for newer logback versions. Why do you need this anyway?","body":"You like the suspence don&#39;t you? What is happening that doesn&#39;t happen? You dump some configuration without any error/result and expect us to know what is wrong? one thing I see is that it is old, very old and I doubt it is adapted for newer logback versions. Why do you need this anyway?"},{"owner":{"account_id":16366572,"reputation":343,"user_id":11820899,"display_name":"arbitrary_A"},"score":0,"creation_date":1689155341,"post_id":76669003,"comment_id":135172130,"body_markdown":"I have given the error as question title, I got. I have just got the one line error. Ok, I am updating the question","body":"I have given the error as question title, I got. I have just got the one line error. Ok, I am updating the question"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689155416,"post_id":76669003,"comment_id":135172152,"body_markdown":"IT won&#39;t work regardless as this is for JavaEE and not JakartaEE. I also don&#39;t see why you would need it in the first place as the logback.xml will be loaded anyway by logback itself.","body":"IT won&#39;t work regardless as this is for JavaEE and not JakartaEE. I also don&#39;t see why you would need it in the first place as the logback.xml will be loaded anyway by logback itself."},{"owner":{"account_id":16366572,"reputation":343,"user_id":11820899,"display_name":"arbitrary_A"},"score":0,"creation_date":1689155575,"post_id":76669003,"comment_id":135172187,"body_markdown":"Yes. I know that logback should be loaded by logback itself. But its not working somehow","body":"Yes. I know that logback should be loaded by logback itself. But its not working somehow"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689155731,"post_id":76669003,"comment_id":135172224,"body_markdown":"You don&#39;t need the listener to have the configuration loaded. just ditch the listener it won&#39;t work anyway. Also Spring 3 is old, so I assume Spring Boot 3. Which uses a newer version of Logback which you are managing back to an old unsupported version.","body":"You don&#39;t need the listener to have the configuration loaded. just ditch the listener it won&#39;t work anyway. Also Spring 3 is old, so I assume Spring Boot 3. Which uses a newer version of Logback which you are managing back to an old unsupported version."},{"owner":{"account_id":16366572,"reputation":343,"user_id":11820899,"display_name":"arbitrary_A"},"score":0,"creation_date":1689156307,"post_id":76669003,"comment_id":135172358,"body_markdown":"It is Spring 3 which is too old. But I need to integrate with it","body":"It is Spring 3 which is too old. But I need to integrate with it"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689161508,"post_id":76669003,"comment_id":135173473,"body_markdown":"You are aware that Spring 3 (or anything below 5.3) isn&#39;t supported anymore. I don&#39;t see why you would need this listener in te first place. If you `logback.xml` is in `src/main/resources` it will be loaded automatically.","body":"You are aware that Spring 3 (or anything below 5.3) isn&#39;t supported anymore. I don&#39;t see why you would need this listener in te first place. If you <code>logback.xml</code> is in <code>src&#47;main&#47;resources</code> it will be loaded automatically."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689162631,"post_id":76669003,"comment_id":135173676,"body_markdown":"If our file is already there the `/resources/logback.xml` is the wrong location, that should be `classpath:/logback.xml` instead.","body":"If our file is already there the <code>&#47;resources&#47;logback.xml</code> is the wrong location, that should be <code>classpath:&#47;logback.xml</code> instead."},{"owner":{"account_id":16366572,"reputation":343,"user_id":11820899,"display_name":"arbitrary_A"},"score":0,"creation_date":1689165955,"post_id":76669003,"comment_id":135174494,"body_markdown":"Nothing worked. I tried to resolve in different ways","body":"Nothing worked. I tried to resolve in different ways"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689167822,"post_id":76669003,"comment_id":135175004,"body_markdown":"What have you tried as that isn&#39;t clear. As stated from what you posted here the location should be `classpath:/logback.xml` if that doesn&#39;t work it either isn&#39;t in the place you state or there is another error (and judging from the code there should be more information on the cause) so please post the actual logging output instead of a single line.","body":"What have you tried as that isn&#39;t clear. As stated from what you posted here the location should be <code>classpath:&#47;logback.xml</code> if that doesn&#39;t work it either isn&#39;t in the place you state or there is another error (and judging from the code there should be more information on the cause) so please post the actual logging output instead of a single line."}],"owner":{"account_id":16366572,"reputation":343,"user_id":11820899,"display_name":"arbitrary_A"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689155436,"creation_date":1689153701,"question_id":76669003,"body_markdown":"***Error*** - **org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file**\r\n\r\nI am getting this error after adding logback config listener within web.xml.\r\n\r\nI am using the following dependencies - \r\n\r\n        &lt;logback.version&gt;1.2.9&lt;/logback.version&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.32&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;${logback.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${logback.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.logback-extensions&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-ext-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nweb.xml\r\n\r\n    &lt;context-param&gt;\r\n\t\t&lt;param-name&gt;logbackConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;/resources/logback.xml&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;ch.qos.logback.ext.spring.web.LogbackConfigListener&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n\r\nI have added **logback.xml** config for logging within **/src/main/resources/** location.\r\n\r\nIt would be great if there is anyone who can assist me on this.\r\n\r\nThanks.","title":"LogbackConfigListener is failed to start in Spring 3.0.0","body":"<p><em><strong>Error</strong></em> - <strong>org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file</strong></p>\n<p>I am getting this error after adding logback config listener within web.xml.</p>\n<p>I am using the following dependencies -</p>\n<pre><code>    &lt;logback.version&gt;1.2.9&lt;/logback.version&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.32&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;${logback.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n        &lt;version&gt;${logback.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.logback-extensions&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-ext-spring&lt;/artifactId&gt;\n        &lt;version&gt;0.1.5&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>web.xml</p>\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;logbackConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;/resources/logback.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;listener&gt;\n    &lt;listener-class&gt;ch.qos.logback.ext.spring.web.LogbackConfigListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n<p>I have added <strong>logback.xml</strong> config for logging within <strong>/src/main/resources/</strong> location.</p>\n<p>It would be great if there is anyone who can assist me on this.</p>\n<p>Thanks.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1689152300,"post_id":76668777,"comment_id":135171475,"body_markdown":"Please share an [mcve]","body":"Please share an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":4713088,"reputation":1325,"user_id":3813027,"display_name":"senerh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689155277,"creation_date":1689155277,"answer_id":76669256,"question_id":76668777,"body_markdown":"I&#39;m not sure to understand your problem, but you can try something like this:\r\n\r\n    ordersList = listOfMap.stream()\r\n        .map(s -&gt; {\r\n            ProductDTO p = productService.getProductById(Long.valueOf(s.get(0))).orElseThrow();\r\n            p.setDescription(s.get(1));\r\n        })\r\n        .collect(Collectors.toList());\r\n","title":"How to cast to ProductDTO from stream?","body":"<p>I'm not sure to understand your problem, but you can try something like this:</p>\n<pre><code>ordersList = listOfMap.stream()\n    .map(s -&gt; {\n        ProductDTO p = productService.getProductById(Long.valueOf(s.get(0))).orElseThrow();\n        p.setDescription(s.get(1));\n    })\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25339479,"reputation":71,"user_id":19158062,"display_name":"dustbin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689155421,"creation_date":1689155421,"answer_id":76669277,"question_id":76668777,"body_markdown":"i dont know `productService.getProductById` method return what, `Optional` or`List`.\r\nif `Optional`,you can use the method `flatMap`.\r\nif `List`,you can change the methd `peek` to `map`\r\nHere is the pseudo-code,hope it useful.\r\n```\r\n    listOfMap.forEach(s-&gt;ordersList.add(productService.\r\n                    getProductById(Long.valueOf(s.get(0))).flatMap(e-&gt;{ e.setDescription(s.get(1));return e;})));\r\n```    \r\n```\r\n listOfMap.forEach(s-&gt;ordersList.add(productService.\r\n                getProductById(Long.valueOf(s.get(0))).stream().\r\n                map(e-&gt;{return e.setDescription(s.get(1));}.collect(Collectors.toList()).get(0))));\r\n```\r\n\r\n            \r\n","title":"How to cast to ProductDTO from stream?","body":"<p>i dont know <code>productService.getProductById</code> method return what, <code>Optional</code> or<code>List</code>.\nif <code>Optional</code>,you can use the method <code>flatMap</code>.\nif <code>List</code>,you can change the methd <code>peek</code> to <code>map</code>\nHere is the pseudo-code,hope it useful.</p>\n<pre><code>    listOfMap.forEach(s-&gt;ordersList.add(productService.\n                    getProductById(Long.valueOf(s.get(0))).flatMap(e-&gt;{ e.setDescription(s.get(1));return e;})));\n</code></pre>\n<pre><code> listOfMap.forEach(s-&gt;ordersList.add(productService.\n                getProductById(Long.valueOf(s.get(0))).stream().\n                map(e-&gt;{return e.setDescription(s.get(1));}.collect(Collectors.toList()).get(0))));\n</code></pre>\n"}],"owner":{"account_id":14771499,"reputation":23,"user_id":10667826,"display_name":"George"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76669277,"answer_count":2,"score":-1,"last_activity_date":1689155421,"creation_date":1689152085,"question_id":76668777,"body_markdown":"I have list of lists where each list is [[ID,AMOUNT],[ID,AMOUNT]]\r\nTrying to put all this into a list where each element will be Product that i get from DB and description i the amount of products...\r\n\r\nThe main problem happens when i try to cast back from stream into ProductDTO.\r\n\r\nCould be done in a few seconds without using Stream Api, but i have to use only them=(\r\n\r\n\r\n\r\n```\r\n        List&lt;List&lt;String&gt;&gt; listOfMap = new ArrayList&lt;&gt;(); // Data [[25,1],[13,2],[30,1],[22,1]]\r\n\r\n        List&lt;ProductDTO&gt; ordersList = new ArrayList&lt;&gt;();\r\n\r\n\r\n\r\n        listOfMap.forEach(s-&gt;ordersList.add(productService.\r\n                getProductById(Long.valueOf(s.get(0))).stream().\r\n                peek(e-&gt;e.setDescription(s.get(1)))));\r\n\r\n\r\nThis data inside List&lt;List&lt;String&gt;&gt;\r\n[[25,1],[13,2],[30,1],[22,1]]\r\nShould be this\r\n[PersonDTO,PersonDTO]\r\n\r\n```\r\nthe same solution but with loop\r\n\r\n        for (int i = 0; i &lt; listOfMap.size(); i++){\r\n            ordersList.add(productService.getProductById(Long.valueOf(listOfMap.get(i).get(0))).orElseThrow());\r\n            ordersList.get(i).setDescription(listOfMap.get(i).get(1));\r\n        }\r\n\r\n```\r\nRequired type:\r\nProductDTO\r\n\r\nProvided:\r\nStream\r\n&lt;org.greenway.backend.dto.ProductDTO&gt;","title":"How to cast to ProductDTO from stream?","body":"<p>I have list of lists where each list is [[ID,AMOUNT],[ID,AMOUNT]]\nTrying to put all this into a list where each element will be Product that i get from DB and description i the amount of products...</p>\n<p>The main problem happens when i try to cast back from stream into ProductDTO.</p>\n<p>Could be done in a few seconds without using Stream Api, but i have to use only them=(</p>\n<pre><code>        List&lt;List&lt;String&gt;&gt; listOfMap = new ArrayList&lt;&gt;(); // Data [[25,1],[13,2],[30,1],[22,1]]\n\n        List&lt;ProductDTO&gt; ordersList = new ArrayList&lt;&gt;();\n\n\n\n        listOfMap.forEach(s-&gt;ordersList.add(productService.\n                getProductById(Long.valueOf(s.get(0))).stream().\n                peek(e-&gt;e.setDescription(s.get(1)))));\n\n\nThis data inside List&lt;List&lt;String&gt;&gt;\n[[25,1],[13,2],[30,1],[22,1]]\nShould be this\n[PersonDTO,PersonDTO]\n\n</code></pre>\n<p>the same solution but with loop</p>\n<pre><code>    for (int i = 0; i &lt; listOfMap.size(); i++){\n        ordersList.add(productService.getProductById(Long.valueOf(listOfMap.get(i).get(0))).orElseThrow());\n        ordersList.get(i).setDescription(listOfMap.get(i).get(1));\n    }\n</code></pre>\n<pre><code>Required type:\nProductDTO\n\nProvided:\nStream\n&lt;org.greenway.backend.dto.ProductDTO&gt;\n</code></pre>\n"},{"tags":["java","long-integer"],"comments":[{"owner":{"account_id":339701,"reputation":4025,"user_id":669337,"accept_rate":64,"display_name":"M S"},"score":2,"creation_date":1322809167,"post_id":8352671,"comment_id":10302987,"body_markdown":"Could you please explain more on `machine-style long int` and how 123 is represented by that long binary. Coz binary of 123 is 1111011. Sorry if i didnt got your question right.","body":"Could you please explain more on <code>machine-style long int</code> and how 123 is represented by that long binary. Coz binary of 123 is 1111011. Sorry if i didnt got your question right."},{"owner":{"account_id":1079434,"reputation":780,"user_id":1076840,"accept_rate":95,"display_name":"Sefier Tang"},"score":0,"creation_date":1322809550,"post_id":8352671,"comment_id":10303046,"body_markdown":"First, Thank you very much. It&#39;s -123 but not 123, which is negative. machine-style means it&#39;s the representation of the hardware of the computer, which use &quot;1&quot; in the first bit to mean negative number, and 0 to mean non-positive number, it&#39;s different from human-style, who use &quot;-&quot; for negative number. Am I clear?","body":"First, Thank you very much. It&#39;s -123 but not 123, which is negative. machine-style means it&#39;s the representation of the hardware of the computer, which use &quot;1&quot; in the first bit to mean negative number, and 0 to mean non-positive number, it&#39;s different from human-style, who use &quot;-&quot; for negative number. Am I clear?"},{"owner":{"account_id":357628,"reputation":3877,"user_id":697909,"accept_rate":89,"display_name":"buruzaemon"},"score":0,"creation_date":1322809817,"post_id":8352671,"comment_id":10303091,"body_markdown":"I think you might need to double-check your string representation of -123 as a long number. `Long.toString(-123, 2)` yields `-1111011`.","body":"I think you might need to double-check your string representation of -123 as a long number. <code>Long.toString(-123, 2)</code> yields <code>-1111011</code>."}],"answers":[{"tags":[],"owner":{"account_id":36521,"reputation":59667,"user_id":104200,"accept_rate":95,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1322809559,"creation_date":1322809559,"answer_id":8352858,"question_id":8352671,"body_markdown":"My incredibly hacked-together solution, tested only on your case:\r\n\r\n    public static long makeLong(String input) {\r\n        if(input.substring(0,1).equals(&quot;1&quot;)) {\r\n            return -1 * (Long.MAX_VALUE - Long.parseLong(input.substring(1), 2) + 1);\r\n        } else {\r\n            return Long.parseLong(input, 2);\r\n        }\r\n    }\r\n\r\nBasically, if the first bit is a one, the number is negative, so we parse the rest of the number as a positive, then do some two&#39;s complement magic by subtracting that result from `Long.MAX_VALUE` and adding one, then forcing the negative back onto the number returned. Otherwise, the normal conversion applies.","title":"How could I convert a 64-width binary string to long in Java?","body":"<p>My incredibly hacked-together solution, tested only on your case:</p>\n\n<pre><code>public static long makeLong(String input) {\n    if(input.substring(0,1).equals(\"1\")) {\n        return -1 * (Long.MAX_VALUE - Long.parseLong(input.substring(1), 2) + 1);\n    } else {\n        return Long.parseLong(input, 2);\n    }\n}\n</code></pre>\n\n<p>Basically, if the first bit is a one, the number is negative, so we parse the rest of the number as a positive, then do some two's complement magic by subtracting that result from <code>Long.MAX_VALUE</code> and adding one, then forcing the negative back onto the number returned. Otherwise, the normal conversion applies.</p>\n"},{"tags":[],"owner":{"account_id":1063558,"reputation":25048,"user_id":1064659,"accept_rate":77,"display_name":"Taymon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322809617,"creation_date":1322809617,"answer_id":8352865,"question_id":8352671,"body_markdown":"I don&#39;t think there&#39;s a library function to do what you want, but this should work:\r\n\r\n    long num = 0L;\r\n    for (int i = 0; i &lt; 64; i++) {\r\n        if (yourString.charAt(i) == &#39;1&#39;) {\r\n            num ^= 1L &lt;&lt; (63 - i);\r\n        }\r\n    }\r\n\r\nOf course, you should check to make sure that the string is length 64 and contains only 0 and 1.","title":"How could I convert a 64-width binary string to long in Java?","body":"<p>I don't think there's a library function to do what you want, but this should work:</p>\n\n<pre><code>long num = 0L;\nfor (int i = 0; i &lt; 64; i++) {\n    if (yourString.charAt(i) == '1') {\n        num ^= 1L &lt;&lt; (63 - i);\n    }\n}\n</code></pre>\n\n<p>Of course, you should check to make sure that the string is length 64 and contains only 0 and 1.</p>\n"},{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1322810306,"creation_date":1322809703,"answer_id":8352875,"question_id":8352671,"body_markdown":"You could just set the bits yourself...\r\n\r\n    assert string.length() == 64;\r\n    long result = 0;\r\n    for (int i = 0; i &lt; 64; ++i) {\r\n        char c = string.charAt(63-i);\r\n        switch (c) {\r\n            case &#39;1&#39;: result |= (1L &lt;&lt; i); break;\r\n            case &#39;0&#39;; break;\r\n            default: throw new WhateverException(&quot;bad char &quot; + c);\r\n        }\r\n    }\r\n\r\nEDIT: I originally had 1 &lt;&lt; i, which means the shifting is being done as an int. Fixed to make it being done as a long.","title":"How could I convert a 64-width binary string to long in Java?","body":"<p>You could just set the bits yourself...</p>\n\n<pre><code>assert string.length() == 64;\nlong result = 0;\nfor (int i = 0; i &lt; 64; ++i) {\n    char c = string.charAt(63-i);\n    switch (c) {\n        case '1': result |= (1L &lt;&lt; i); break;\n        case '0'; break;\n        default: throw new WhateverException(\"bad char \" + c);\n    }\n}\n</code></pre>\n\n<p>EDIT: I originally had 1 &lt;&lt; i, which means the shifting is being done as an int. Fixed to make it being done as a long.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1322818443,"creation_date":1322818443,"answer_id":8354293,"question_id":8352671,"body_markdown":"You can use BigInteger\r\n\r\n    public static void main(String... args) {\r\n        String s = &quot;1111111111111111111111111111111111111111111111111111111110000101&quot;;\r\n        long l = parseLong(s, 2);\r\n        System.out.println(s +&quot; =&gt; &quot; + l);\r\n\r\n        String s2 = s.substring(1);\r\n        long l2 = parseLong(s2, 2);\r\n        System.out.println(s2 +&quot; =&gt; &quot; + l2);\r\n    }\r\n\r\n    private static long parseLong(String s, int base) {\r\n        return new BigInteger(s, base).longValue();\r\n    }\r\n\r\nprints\r\n\r\n    1111111111111111111111111111111111111111111111111111111110000101 =&gt; -123\r\n    111111111111111111111111111111111111111111111111111111110000101 =&gt; 9223372036854775685\r\n\r\n","title":"How could I convert a 64-width binary string to long in Java?","body":"<p>You can use BigInteger</p>\n\n<pre><code>public static void main(String... args) {\n    String s = \"1111111111111111111111111111111111111111111111111111111110000101\";\n    long l = parseLong(s, 2);\n    System.out.println(s +\" =&gt; \" + l);\n\n    String s2 = s.substring(1);\n    long l2 = parseLong(s2, 2);\n    System.out.println(s2 +\" =&gt; \" + l2);\n}\n\nprivate static long parseLong(String s, int base) {\n    return new BigInteger(s, base).longValue();\n}\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>1111111111111111111111111111111111111111111111111111111110000101 =&gt; -123\n111111111111111111111111111111111111111111111111111111110000101 =&gt; 9223372036854775685\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14489223,"reputation":1,"user_id":10466115,"display_name":"ValeriST"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689155247,"creation_date":1689155247,"answer_id":76669250,"question_id":8352671,"body_markdown":"I think that the easiest way is to use `Long.parseUnsignedLong` for example:\r\n\r\n    String str = &quot;1111111111111111111111111111111111111111111111111111111110000101&quot;;\r\n    System.out.println(Long.parseUnsignedLong(str, 2));\r\nWill print:\r\n\r\n    -123\r\n\r\n","title":"How could I convert a 64-width binary string to long in Java?","body":"<p>I think that the easiest way is to use <code>Long.parseUnsignedLong</code> for example:</p>\n<pre><code>String str = &quot;1111111111111111111111111111111111111111111111111111111110000101&quot;;\nSystem.out.println(Long.parseUnsignedLong(str, 2));\n</code></pre>\n<p>Will print:</p>\n<pre><code>-123\n</code></pre>\n"}],"owner":{"account_id":1079434,"reputation":780,"user_id":1076840,"accept_rate":95,"display_name":"Sefier Tang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20668,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":8354293,"answer_count":5,"score":13,"last_activity_date":1689155247,"creation_date":1322808168,"question_id":8352671,"body_markdown":"I want to convert a 64-width binary string to long, there is a static method:\r\n\r\n    Long.parseLong(String s, int radix)\r\n\r\nto do this, but it isn&#39;t suitable for my case. \r\n\r\nThe problem is my binary string is a machine-style long int. \r\n\r\nFor example:\r\n\r\n`1111111111111111111111111111111111111111111111111111111110000101` \r\nrepresents `-123`, but this method recognize it as a huge positive number, this troubles me, how could I solve this problem? \r\n\r\nMust I write a function that does the complement?\r\n\r\n","title":"How could I convert a 64-width binary string to long in Java?","body":"<p>I want to convert a 64-width binary string to long, there is a static method:</p>\n\n<pre><code>Long.parseLong(String s, int radix)\n</code></pre>\n\n<p>to do this, but it isn't suitable for my case. </p>\n\n<p>The problem is my binary string is a machine-style long int. </p>\n\n<p>For example:</p>\n\n<p><code>1111111111111111111111111111111111111111111111111111111110000101</code> \nrepresents <code>-123</code>, but this method recognize it as a huge positive number, this troubles me, how could I solve this problem? </p>\n\n<p>Must I write a function that does the complement?</p>\n"},{"tags":["java","javaparser"],"comments":[{"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"score":0,"creation_date":1623047547,"post_id":67810320,"comment_id":119956585,"body_markdown":"logger.log. @loggable.","body":"logger.log. @loggable."}],"answers":[{"tags":[],"owner":{"account_id":254630,"reputation":159,"user_id":534157,"display_name":"Luis M. Villa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1626389638,"creation_date":1626389638,"answer_id":68401633,"question_id":67810320,"body_markdown":"Finally, I&#39;ve made a hack: changing the name of the method to &quot;//&quot; + method name, so it ends up commented.","title":"Javaparser comment expression","body":"<p>Finally, I've made a hack: changing the name of the method to &quot;//&quot; + method name, so it ends up commented.</p>\n"},{"tags":[],"owner":{"account_id":6470949,"reputation":382,"user_id":5011127,"accept_rate":0,"display_name":"jpl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689155127,"creation_date":1689155127,"answer_id":76669227,"question_id":67810320,"body_markdown":"You have to set the comment to the node (here a MethoCallExpr) and return the node itself.","title":"Javaparser comment expression","body":"<p>You have to set the comment to the node (here a MethoCallExpr) and return the node itself.</p>\n"}],"owner":{"account_id":254630,"reputation":159,"user_id":534157,"display_name":"Luis M. Villa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68401633,"answer_count":2,"score":2,"last_activity_date":1689155127,"creation_date":1622656980,"question_id":67810320,"body_markdown":"I&#39;m trying to comment all calls to a custom method inside a java file using Javaparser. My first approach is to use a ModifierVisitor:\r\n\r\n```\r\nModifierVisitor&lt;Object&gt; visitante = new ModifierVisitor&lt;Object&gt;() {\r\n\r\n            @Override\r\n            public Visitable visit(MethodCallExpr n, Object arg) {\r\n                if (!&quot;MYMETHOD&quot;.equalsIgnoreCase(n.getNameAsString())) {\r\n                    return super.visit(n, arg);\r\n                }\r\n                Node comment = new BlockComment(n.toString());\r\n                return comment;\r\n            }\r\n        };\r\n        visitante.visit(this.ficheroCompilado, null);\r\n```\r\n\r\n... the code finds the method calls to &quot;MYMETHOD&quot; correctly, but when I try to replace it with a BlockComment, an exception is thrown: \r\n\r\n```\r\njava.lang.ClassCastException: com.github.javaparser.ast.comments.LineComment cannot be cast to com.github.javaparser.ast.expr.Expression\r\n\tat com.github.javaparser.ast.visitor.ModifierVisitor.visit(ModifierVisitor.java:477)\r\n\tat com.github.javaparser.ast.visitor.ModifierVisitor.visit(ModifierVisitor.java:51)\r\n\tat com.github.javaparser.ast.stmt.ExpressionStmt.accept(ExpressionStmt.java:71)\r\n\r\n\r\n...\r\n\r\n```\r\n\r\nIt seems I can only replace an Expression by another Expression (because the change is inside an ExpressionStmt).\r\n\r\nHow could I about it and convert the method call to a comment?\r\n\r\nThank you all\r\n\r\n**Updated:**\r\n*Finally, I&#39;ve made a hack: changing the name of the method to &quot;//&quot; + method name, so it ends up commented.*","title":"Javaparser comment expression","body":"<p>I'm trying to comment all calls to a custom method inside a java file using Javaparser. My first approach is to use a ModifierVisitor:</p>\n<pre><code>ModifierVisitor&lt;Object&gt; visitante = new ModifierVisitor&lt;Object&gt;() {\n\n            @Override\n            public Visitable visit(MethodCallExpr n, Object arg) {\n                if (!&quot;MYMETHOD&quot;.equalsIgnoreCase(n.getNameAsString())) {\n                    return super.visit(n, arg);\n                }\n                Node comment = new BlockComment(n.toString());\n                return comment;\n            }\n        };\n        visitante.visit(this.ficheroCompilado, null);\n</code></pre>\n<p>... the code finds the method calls to &quot;MYMETHOD&quot; correctly, but when I try to replace it with a BlockComment, an exception is thrown:</p>\n<pre><code>java.lang.ClassCastException: com.github.javaparser.ast.comments.LineComment cannot be cast to com.github.javaparser.ast.expr.Expression\n    at com.github.javaparser.ast.visitor.ModifierVisitor.visit(ModifierVisitor.java:477)\n    at com.github.javaparser.ast.visitor.ModifierVisitor.visit(ModifierVisitor.java:51)\n    at com.github.javaparser.ast.stmt.ExpressionStmt.accept(ExpressionStmt.java:71)\n\n\n...\n\n</code></pre>\n<p>It seems I can only replace an Expression by another Expression (because the change is inside an ExpressionStmt).</p>\n<p>How could I about it and convert the method call to a comment?</p>\n<p>Thank you all</p>\n<p><strong>Updated:</strong>\n<em>Finally, I've made a hack: changing the name of the method to &quot;//&quot; + method name, so it ends up commented.</em></p>\n"},{"tags":["java","sorting","spring-data-jpa","nativequery"],"answers":[{"tags":[],"owner":{"account_id":4294979,"reputation":914,"user_id":3510285,"display_name":"Hatice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527020016,"creation_date":1527020016,"answer_id":50475781,"question_id":50475700,"body_markdown":"It has Sort class for this you can use this maybe. Besides, it is easy to use.\r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.sorting","title":"Spring jpa native query sorting adding prefix to order by field name","body":"<p>It has Sort class for this you can use this maybe. Besides, it is easy to use.</p>\n\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.sorting\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.sorting</a></p>\n"},{"tags":[],"owner":{"account_id":94817,"reputation":410,"user_id":258645,"accept_rate":0,"display_name":"vitali_y"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1571326175,"creation_date":1571326175,"answer_id":58436092,"question_id":50475700,"body_markdown":"here is jira ticket with more details which can be key for resolution ([https://jira.spring.io/browse/DATAJPA-1613][1]).\r\n\r\nQueryUtils.ALIAS_MATCH\r\n\r\n    (?&lt;=from)(?:\\s)+([._[\\P\\\\{Z}&amp;&amp;\\P\\\\{Cc}&amp;&amp;\\P\\\\{Cf}&amp;&amp;\\P\\\\{P}]]+)(?:\\sas)*(?:\\s)+(?!(?:where|group\\s*by|order\\s*by))(\\w+)\r\n\r\nresponsible to incorrect alias extraction. The solution for my case was rewrite native query, so it doesn&#39;t match the provided regexp.\r\n\r\n\r\n  [1]: https://jira.spring.io/browse/DATAJPA-1613","title":"Spring jpa native query sorting adding prefix to order by field name","body":"<p>here is jira ticket with more details which can be key for resolution (<a href=\"https://jira.spring.io/browse/DATAJPA-1613\" rel=\"nofollow noreferrer\">https://jira.spring.io/browse/DATAJPA-1613</a>).</p>\n\n<p>QueryUtils.ALIAS_MATCH</p>\n\n<pre><code>(?&lt;=from)(?:\\s)+([._[\\P\\\\{Z}&amp;&amp;\\P\\\\{Cc}&amp;&amp;\\P\\\\{Cf}&amp;&amp;\\P\\\\{P}]]+)(?:\\sas)*(?:\\s)+(?!(?:where|group\\s*by|order\\s*by))(\\w+)\n</code></pre>\n\n<p>responsible to incorrect alias extraction. The solution for my case was rewrite native query, so it doesn't match the provided regexp.</p>\n"},{"tags":[],"owner":{"account_id":2641127,"reputation":951,"user_id":2284742,"display_name":"amishra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648173287,"creation_date":1598048969,"answer_id":63530808,"question_id":50475700,"body_markdown":"This may be a little late to answer this question. But thought to share how I got around this issue. \r\nFor native queries, it seems like hibernate tries to use the alias of the first table used in the query when it applies the sorting criteria. In your case, the first table alias is `R` hence you see `R.name desc` in the query generated by hibernate.\r\n\r\nOne way to get around this issue is to wrap your query in a select clause and name it as `R`, like \t\t\r\n\r\n    &quot;SELECT * FROM(SELECT D.ID as dealerId , D.NAME as dealerName, K.ID as kpiId, &quot; +\r\n        &quot;K.NAME as kpiName FROM REGION R, DEALER D, KPI K &quot;\r\n        + &quot;WHERE R.IMPORTER_ID = :importerId &quot;\r\n        + &quot;AND D.REGION_ID = R.ID &quot;\r\n        + &quot;AND K.IMPORTER_ID = :importerId ) R&quot;\r\n\r\nThis way at runtime hibernate would apply the sort criteria on top of your query which corresponds to `R` now.","title":"Spring jpa native query sorting adding prefix to order by field name","body":"<p>This may be a little late to answer this question. But thought to share how I got around this issue.\nFor native queries, it seems like hibernate tries to use the alias of the first table used in the query when it applies the sorting criteria. In your case, the first table alias is <code>R</code> hence you see <code>R.name desc</code> in the query generated by hibernate.</p>\n<p>One way to get around this issue is to wrap your query in a select clause and name it as <code>R</code>, like</p>\n<pre><code>&quot;SELECT * FROM(SELECT D.ID as dealerId , D.NAME as dealerName, K.ID as kpiId, &quot; +\n    &quot;K.NAME as kpiName FROM REGION R, DEALER D, KPI K &quot;\n    + &quot;WHERE R.IMPORTER_ID = :importerId &quot;\n    + &quot;AND D.REGION_ID = R.ID &quot;\n    + &quot;AND K.IMPORTER_ID = :importerId ) R&quot;\n</code></pre>\n<p>This way at runtime hibernate would apply the sort criteria on top of your query which corresponds to <code>R</code> now.</p>\n"},{"tags":[],"owner":{"account_id":12565201,"reputation":4559,"user_id":9141437,"display_name":"Thanthu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651203613,"creation_date":1651047862,"answer_id":72025534,"question_id":50475700,"body_markdown":"I faced similar issue especially in case of complex queries where there is `ORDER BY` with in the query. I was getting syntax error because a `,` was getting added before `ORDER BY`.\r\n\r\nThe way I solved this issue was to create a `VIEW` with the `SELECT` query having necessary fields required for result set and `WHERE` condition (so you can run query with params in `WHERE` condition against the `VIEW`). And write native query to `SELECT` `FROM` the `VIEW`\r\n\r\n    CREATE VIEW my_view AS (// your complex select query with required fields);\r\n\r\n    @Query(&quot;SELECT field1 AS alias1, field2  AS alias2 FROM my_view  &quot;\r\n            + &quot;WHERE field3  = :param1 AND field4 = :param2&quot;)\r\n    Page&lt;MyDto&gt; myFunction(@Param(&quot;param1&quot;) Long param1, @Param(&quot;param1&quot;) String param2, Pageable pageable);\r\n","title":"Spring jpa native query sorting adding prefix to order by field name","body":"<p>I faced similar issue especially in case of complex queries where there is <code>ORDER BY</code> with in the query. I was getting syntax error because a <code>,</code> was getting added before <code>ORDER BY</code>.</p>\n<p>The way I solved this issue was to create a <code>VIEW</code> with the <code>SELECT</code> query having necessary fields required for result set and <code>WHERE</code> condition (so you can run query with params in <code>WHERE</code> condition against the <code>VIEW</code>). And write native query to <code>SELECT</code> <code>FROM</code> the <code>VIEW</code></p>\n<pre><code>CREATE VIEW my_view AS (// your complex select query with required fields);\n\n@Query(&quot;SELECT field1 AS alias1, field2  AS alias2 FROM my_view  &quot;\n        + &quot;WHERE field3  = :param1 AND field4 = :param2&quot;)\nPage&lt;MyDto&gt; myFunction(@Param(&quot;param1&quot;) Long param1, @Param(&quot;param1&quot;) String param2, Pageable pageable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29001272,"reputation":1,"user_id":22214782,"display_name":"anon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689155072,"creation_date":1689155072,"answer_id":76669215,"question_id":50475700,"body_markdown":"for anyone searching for a simple solution you can use JPASort.by() instead, it won&#39;t add an alias to the resulting query","title":"Spring jpa native query sorting adding prefix to order by field name","body":"<p>for anyone searching for a simple solution you can use JPASort.by() instead, it won't add an alias to the resulting query</p>\n"}],"owner":{"account_id":13627919,"reputation":61,"user_id":9830717,"display_name":"Pavel Konir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7220,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1689155072,"creation_date":1527019597,"question_id":50475700,"body_markdown":"I have problem with sorting.\n\nRepository method:\n\n    @Query(nativeQuery = true,\n        value = &quot;SELECT D.ID as dealerId , D.NAME as dealerName, K.ID as kpiId, &quot; +\n        &quot;K.NAME as kpiName FROM REGION R, DEALER D, KPI K &quot;\n        + &quot;WHERE R.IMPORTER_ID = :importerId &quot;\n        + &quot;AND D.REGION_ID = R.ID &quot;\n        + &quot;AND K.IMPORTER_ID = :importerId &quot;)\n\n    Page&lt;DealersKpiTargets&gt; getDealersKpiTargets(@Param(&quot;importerId&quot;) Long importerId, Pageable pageable);\n\nPageable object:\n\n    Page request [number: 0, size 20, sort: name: DESC]\n\nHibernate log:\n\n    Hibernate: SELECT D.ID as dealerId , D.NAME as dealerName, K.ID as kpiId, K.NAME as kpiName FROM REGION R, DEALER D, KPI K WHERE R.IMPORTER_ID = ? AND D.REGION_ID = R.ID AND K.IMPORTER_ID = ?  order by R.name desc limit ?\n\nI don&#39;t understand where `R.name` prefix came from, in the `order by` part in `Hibernate` (towards the end).\n\nFor reference, I am using:\n\n&gt; spring-data-jpa version 2.0.7.RELEASE\n&gt;\n&gt; spring-boot-starter-data-jpa version 2.0.2.RELEASE\n\n\n**UPDATE**\n\nI have solved this by changing the query from the native query to jpa query and it&#39;s working. And I changed cartesian to join version.\n\n            @Query(&quot;SELECT dealerEntity.id AS dealerId , dealerEntity.name AS dealerName, kpiEntity.id AS kpiId, &quot; +\n            &quot;kpiEntity.name AS kpiName FROM KpiEntity kpiEntity &quot;\n            + &quot;JOIN RegionEntity regionEntity ON regionEntity.importerEntity = kpiEntity.importerEntity &quot;\n            + &quot;JOIN DealerEntity dealerEntity ON dealerEntity.importerEntity = regionEntity.importerEntity &quot;\n            + &quot;WHERE kpiEntity.importerEntity = :importerEntity &quot;)\n    Page&lt;DealersKpiTargets&gt; getDealersKpiTargets(@Param(&quot;importerEntity&quot;) ImporterEntity importerEntity, Pageable pageable);\n\n","title":"Spring jpa native query sorting adding prefix to order by field name","body":"<p>I have problem with sorting.</p>\n<p>Repository method:</p>\n<pre><code>@Query(nativeQuery = true,\n    value = &quot;SELECT D.ID as dealerId , D.NAME as dealerName, K.ID as kpiId, &quot; +\n    &quot;K.NAME as kpiName FROM REGION R, DEALER D, KPI K &quot;\n    + &quot;WHERE R.IMPORTER_ID = :importerId &quot;\n    + &quot;AND D.REGION_ID = R.ID &quot;\n    + &quot;AND K.IMPORTER_ID = :importerId &quot;)\n\nPage&lt;DealersKpiTargets&gt; getDealersKpiTargets(@Param(&quot;importerId&quot;) Long importerId, Pageable pageable);\n</code></pre>\n<p>Pageable object:</p>\n<pre><code>Page request [number: 0, size 20, sort: name: DESC]\n</code></pre>\n<p>Hibernate log:</p>\n<pre><code>Hibernate: SELECT D.ID as dealerId , D.NAME as dealerName, K.ID as kpiId, K.NAME as kpiName FROM REGION R, DEALER D, KPI K WHERE R.IMPORTER_ID = ? AND D.REGION_ID = R.ID AND K.IMPORTER_ID = ?  order by R.name desc limit ?\n</code></pre>\n<p>I don't understand where <code>R.name</code> prefix came from, in the <code>order by</code> part in <code>Hibernate</code> (towards the end).</p>\n<p>For reference, I am using:</p>\n<blockquote>\n<p>spring-data-jpa version 2.0.7.RELEASE</p>\n<p>spring-boot-starter-data-jpa version 2.0.2.RELEASE</p>\n</blockquote>\n<p><strong>UPDATE</strong></p>\n<p>I have solved this by changing the query from the native query to jpa query and it's working. And I changed cartesian to join version.</p>\n<pre><code>        @Query(&quot;SELECT dealerEntity.id AS dealerId , dealerEntity.name AS dealerName, kpiEntity.id AS kpiId, &quot; +\n        &quot;kpiEntity.name AS kpiName FROM KpiEntity kpiEntity &quot;\n        + &quot;JOIN RegionEntity regionEntity ON regionEntity.importerEntity = kpiEntity.importerEntity &quot;\n        + &quot;JOIN DealerEntity dealerEntity ON dealerEntity.importerEntity = regionEntity.importerEntity &quot;\n        + &quot;WHERE kpiEntity.importerEntity = :importerEntity &quot;)\nPage&lt;DealersKpiTargets&gt; getDealersKpiTargets(@Param(&quot;importerEntity&quot;) ImporterEntity importerEntity, Pageable pageable);\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689155603,"post_id":76669204,"comment_id":135172194,"body_markdown":"Renaming the property is the most sensible solution.","body":"Renaming the property is the most sensible solution."}],"owner":{"account_id":18761713,"reputation":11,"user_id":13680544,"display_name":"Jay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689154989,"creation_date":1689154989,"question_id":76669204,"body_markdown":"In my application.yml has this:\r\n\r\n    company:\r\n      core:\r\n        3rd:\r\n    #     Other variable...\r\n\r\n\r\nMy config file:\r\n\r\n    @Configuration(&quot;companyProperties&quot;)\r\n    @ConfigurationProperties(prefix = &quot;company&quot;, ignoreUnknownFields = false)\r\n    public class CompanyProperties {\r\n        //jhipster-needle-application-properties-property\r\n        private final CoreProperties core = new CoreProperties();\r\n    \t// other fields ...\r\n        //jhipster-needle-application-properties-property-getter\r\n    \t//getter and setter ...\r\n        //jhipster-needle-application-properties-property-class\r\n    \r\n        // Nested class for Core properties\r\n        public static class CoreProperties {\r\n            @JsonProperty(&quot;3rd&quot;)\r\n            private final ThirdPartyProperties third = new ThirdPartyProperties();\r\n    \t\t//...\r\n    \r\n            public ThirdPartyProperties getThird() {\r\n                return third;\r\n            }\r\n        }\r\n    \r\n        // Nested class for Third Party properties\r\n        public static class ThirdPartyProperties {\r\n    \t// some fields, getter and setter\r\n        }\r\n    \r\n    }\r\n\r\nAnd I faced this error:\r\n\r\n    Property: company.core.3rd.[other_variables_inside_3rd...]__    Value: &quot;&quot;__    Origin: class path resource [config/application.yml] - 555:12__    Reason: The elements [company.core.3rd.[other_variables_inside_3rd...] were left unbound\r\n\r\nI think because property in class config cannot refer to &quot;3rd&quot; in application.yml file.\r\nHow can I solve this problem?\r\n","title":"How to refer to a variable(start with number) defined in the application.yml file with @ConfigurationProperties","body":"<p>In my application.yml has this:</p>\n<pre><code>company:\n  core:\n    3rd:\n#     Other variable...\n</code></pre>\n<p>My config file:</p>\n<pre><code>@Configuration(&quot;companyProperties&quot;)\n@ConfigurationProperties(prefix = &quot;company&quot;, ignoreUnknownFields = false)\npublic class CompanyProperties {\n    //jhipster-needle-application-properties-property\n    private final CoreProperties core = new CoreProperties();\n    // other fields ...\n    //jhipster-needle-application-properties-property-getter\n    //getter and setter ...\n    //jhipster-needle-application-properties-property-class\n\n    // Nested class for Core properties\n    public static class CoreProperties {\n        @JsonProperty(&quot;3rd&quot;)\n        private final ThirdPartyProperties third = new ThirdPartyProperties();\n        //...\n\n        public ThirdPartyProperties getThird() {\n            return third;\n        }\n    }\n\n    // Nested class for Third Party properties\n    public static class ThirdPartyProperties {\n    // some fields, getter and setter\n    }\n\n}\n</code></pre>\n<p>And I faced this error:</p>\n<pre><code>Property: company.core.3rd.[other_variables_inside_3rd...]__    Value: &quot;&quot;__    Origin: class path resource [config/application.yml] - 555:12__    Reason: The elements [company.core.3rd.[other_variables_inside_3rd...] were left unbound\n</code></pre>\n<p>I think because property in class config cannot refer to &quot;3rd&quot; in application.yml file.\nHow can I solve this problem?</p>\n"},{"tags":["java","php","linux","shell","jar"],"comments":[{"owner":{"account_id":40721,"reputation":357288,"user_id":118068,"display_name":"Marc B"},"score":0,"creation_date":1452878799,"post_id":34816516,"comment_id":57375215,"body_markdown":"does the user the php script is running as have permission to read/write the directory this stuff is in? just because it works for you at the command prompt doesn&#39;t mean much. that&#39;s a different user, in a much different environment.","body":"does the user the php script is running as have permission to read/write the directory this stuff is in? just because it works for you at the command prompt doesn&#39;t mean much. that&#39;s a different user, in a much different environment."},{"owner":{"account_id":7534784,"reputation":2010,"user_id":5721508,"display_name":"Patrick Lee"},"score":0,"creation_date":1452878863,"post_id":34816516,"comment_id":57375254,"body_markdown":"First, I&#39;m not a fan of exec given the security implications. Having said that, try using the full path to the `java` executable and the files in that command and see if that works.","body":"First, I&#39;m not a fan of exec given the security implications. Having said that, try using the full path to the <code>java</code> executable and the files in that command and see if that works."},{"owner":{"account_id":7644730,"reputation":28,"user_id":5795775,"display_name":"Calling Void"},"score":0,"creation_date":1452878907,"post_id":34816516,"comment_id":57375281,"body_markdown":"@MarcB yes, the Apache user is the same as the user under which I executed that from console (on that server) and it worked fine","body":"@MarcB yes, the Apache user is the same as the user under which I executed that from console (on that server) and it worked fine"},{"owner":{"account_id":40721,"reputation":357288,"user_id":118068,"display_name":"Marc B"},"score":1,"creation_date":1452878963,"post_id":34816516,"comment_id":57375310,"body_markdown":"how about java? is that in the path of the shell php is using? like I said  - much different environment.","body":"how about java? is that in the path of the shell php is using? like I said  - much different environment."},{"owner":{"account_id":7644730,"reputation":28,"user_id":5795775,"display_name":"Calling Void"},"score":0,"creation_date":1452878982,"post_id":34816516,"comment_id":57375320,"body_markdown":"@PatrickLee I don;&#39;t think I have pretty much options without exec, I&#39;ll give a try to full paths!","body":"@PatrickLee I don;&#39;t think I have pretty much options without exec, I&#39;ll give a try to full paths!"},{"owner":{"account_id":7644730,"reputation":28,"user_id":5795775,"display_name":"Calling Void"},"score":0,"creation_date":1452879572,"post_id":34816516,"comment_id":57375605,"body_markdown":"@PatrickLee thank you so much, the full path to java worked just fine! Could you please post that as an answer?","body":"@PatrickLee thank you so much, the full path to java worked just fine! Could you please post that as an answer?"},{"owner":{"account_id":7534784,"reputation":2010,"user_id":5721508,"display_name":"Patrick Lee"},"score":0,"creation_date":1452879818,"post_id":34816516,"comment_id":57375732,"body_markdown":"Glad to hear it worked. I just posted an answer with the same info.","body":"Glad to hear it worked. I just posted an answer with the same info."}],"answers":[{"tags":[],"owner":{"account_id":7534784,"reputation":2010,"user_id":5721508,"display_name":"Patrick Lee"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1452879790,"creation_date":1452879790,"answer_id":34816819,"question_id":34816516,"body_markdown":"The problem with your `exec()` is that PHP doesn&#39;t know where Java is on the server. Update your command to specify the full path to the Java executable and it should work, though you should also use full paths to the jar and text files while you&#39;re at it.","title":"Can&#39;t run java from PHP&#39;s exec","body":"<p>The problem with your <code>exec()</code> is that PHP doesn't know where Java is on the server. Update your command to specify the full path to the Java executable and it should work, though you should also use full paths to the jar and text files while you're at it.</p>\n"},{"tags":[],"owner":{"account_id":2578122,"reputation":11,"user_id":2235367,"display_name":"Pice Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689154800,"creation_date":1689154800,"answer_id":76669175,"question_id":34816516,"body_markdown":"1. Find the path of java with `which` command. Open terminal, run command\r\n```bash\r\n$ which java\r\n/usr/bin/java\r\n```\r\n\r\n2. Use full path to java in a exec command\r\n```php\r\nexec(&quot;/usr/bin/java -jar file.jar input.txt output.txt&quot;);\r\n```\r\n","title":"Can&#39;t run java from PHP&#39;s exec","body":"<ol>\n<li>Find the path of java with <code>which</code> command. Open terminal, run command</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>$ which java\n/usr/bin/java\n</code></pre>\n<ol start=\"2\">\n<li>Use full path to java in a exec command</li>\n</ol>\n<pre class=\"lang-php prettyprint-override\"><code>exec(&quot;/usr/bin/java -jar file.jar input.txt output.txt&quot;);\n</code></pre>\n"}],"owner":{"account_id":7644730,"reputation":28,"user_id":5795775,"display_name":"Calling Void"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":906,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":34816819,"answer_count":2,"score":0,"last_activity_date":1689154800,"creation_date":1452878618,"question_id":34816516,"body_markdown":"I&#39;ve been trying to run a JAR file that would read from ``input.txt`` and write to ``output.txt`` this way in console:\r\n\r\n    java -jar file.jar input.txt output.txt\r\n\r\nAnd it works 100% fine on my machine. I need to run it inside a php script, and this code works 100% fine for me (Mac OS, php built-in server):\r\n\r\n    exec(&quot;java -jar file.jar input.txt output.txt&quot;);\r\n\r\nBut once I deploy it (CentOS server) where the ``exec`` function is allowed, it fails, it returns an empty string and the jar does not work, running it directly from shell is OK.\r\n\r\nHow can I fix that? \r\nThanks in advance!","title":"Can&#39;t run java from PHP&#39;s exec","body":"<p>I've been trying to run a JAR file that would read from <code>input.txt</code> and write to <code>output.txt</code> this way in console:</p>\n\n<pre><code>java -jar file.jar input.txt output.txt\n</code></pre>\n\n<p>And it works 100% fine on my machine. I need to run it inside a php script, and this code works 100% fine for me (Mac OS, php built-in server):</p>\n\n<pre><code>exec(\"java -jar file.jar input.txt output.txt\");\n</code></pre>\n\n<p>But once I deploy it (CentOS server) where the <code>exec</code> function is allowed, it fails, it returns an empty string and the jar does not work, running it directly from shell is OK.</p>\n\n<p>How can I fix that? \nThanks in advance!</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689150739,"creation_date":1689150021,"answer_id":76668506,"question_id":76668159,"body_markdown":"Use `findElements` method instead of `findElement`, because `findElements` method returns a list of elements.\r\n````    \r\nList&lt;Webelement&gt; allelements=driver.findelements(By.xpath(&quot;&quot;));\r\nString allEl=allelements.gettext();\r\n````","title":"I couldnt find option to List&lt;WebElement&gt; when I moused over driver.findElement in selenium","body":"<p>Use <code>findElements</code> method instead of <code>findElement</code>, because <code>findElements</code> method returns a list of elements.</p>\n<pre><code>List&lt;Webelement&gt; allelements=driver.findelements(By.xpath(&quot;&quot;));\nString allEl=allelements.gettext();\n</code></pre>\n"}],"owner":{"account_id":20871669,"reputation":57,"user_id":15331462,"display_name":"taerese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76668506,"answer_count":1,"score":0,"last_activity_date":1689154715,"creation_date":1689147479,"question_id":76668159,"body_markdown":"According to the tutorial I saw on YouTube which was created in 2021, when the instructor mouseover `.findElement`, the return type was a list of WebElement but when I did the same today (2023) there was no return type.  \r\nHere is the video:  \r\nhttps://youtu.be/FtpIv7T6G28?t=624\r\n\r\nThe original code was this:\r\n````\r\ndriver.findElement(By.xpath(&quot;//div\\[@class=\\\\&quot;inventory_list\\\\&quot;\\]/div&quot;));\r\n````\r\nHe was able to store the return type into web element like this.\r\n````  \r\nList&lt;WebElement&gt; webelements = driver.findElement(By.xpath(&quot;//div\\[@class=\\\\&quot;inventory_list\\\\&quot;\\]/div&quot;));  \r\n````\r\nWhen I mouse over the `findElement`, I didn&#39;t get any return type.\r\n\r\nI am having an issue with how to store the element.","title":"I couldnt find option to List&lt;WebElement&gt; when I moused over driver.findElement in selenium","body":"<p>According to the tutorial I saw on YouTube which was created in 2021, when the instructor mouseover <code>.findElement</code>, the return type was a list of WebElement but when I did the same today (2023) there was no return type.<br />\nHere is the video:<br />\n<a href=\"https://youtu.be/FtpIv7T6G28?t=624\" rel=\"nofollow noreferrer\">https://youtu.be/FtpIv7T6G28?t=624</a></p>\n<p>The original code was this:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//div\\[@class=\\\\&quot;inventory_list\\\\&quot;\\]/div&quot;));\n</code></pre>\n<p>He was able to store the return type into web element like this.</p>\n<pre><code>List&lt;WebElement&gt; webelements = driver.findElement(By.xpath(&quot;//div\\[@class=\\\\&quot;inventory_list\\\\&quot;\\]/div&quot;));  \n</code></pre>\n<p>When I mouse over the <code>findElement</code>, I didn't get any return type.</p>\n<p>I am having an issue with how to store the element.</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1689154492,"post_id":76668925,"comment_id":135171931,"body_markdown":"Your endpoint accepts `multipart/form-data` content type only, but the request has `application/octet-stream` as Content-Type header. I suppose you are using Postman or something like that. If I&#39;m right, then change the body settings in that application.","body":"Your endpoint accepts <code>multipart&#47;form-data</code> content type only, but the request has <code>application&#47;octet-stream</code> as Content-Type header. I suppose you are using Postman or something like that. If I&#39;m right, then change the body settings in that application."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689161153,"post_id":76668925,"comment_id":135173417,"body_markdown":"I can reproduce your case. It looks like Swagger UI can&#39;t handle it correctly. Testing with Postman works fine. However only if I add a content type definition (application/json) to the request part with JSON object.","body":"I can reproduce your case. It looks like Swagger UI can&#39;t handle it correctly. Testing with Postman works fine. However only if I add a content type definition (application/json) to the request part with JSON object."}],"answers":[{"tags":[],"owner":{"account_id":2971101,"reputation":1549,"user_id":2523139,"display_name":"Aurangzeb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689154298,"creation_date":1689154298,"answer_id":76669094,"question_id":76668925,"body_markdown":"There are a few irregularities that you need to address\r\n\r\n1. MediaType.MULTIPART_FORMDATA is not json, but your application, you&#39;re expecting RequestBody to be of type application/json which the system should reject\r\n\r\n2. Are you trying to upload an exe file? If you&#39;re uploading json then the Content-Type should be application/json. On the other hand application/octet-stream is usually an exe file. for a binary file with arbitrary content, the content-type should be binary/octet-stream\r\n\r\nhope that helps","title":"Content type &#39;application/octet-stream&#39; not supported","body":"<p>There are a few irregularities that you need to address</p>\n<ol>\n<li><p>MediaType.MULTIPART_FORMDATA is not json, but your application, you're expecting RequestBody to be of type application/json which the system should reject</p>\n</li>\n<li><p>Are you trying to upload an exe file? If you're uploading json then the Content-Type should be application/json. On the other hand application/octet-stream is usually an exe file. for a binary file with arbitrary content, the content-type should be binary/octet-stream</p>\n</li>\n</ol>\n<p>hope that helps</p>\n"}],"owner":{"account_id":13795396,"reputation":37,"user_id":9956737,"display_name":"nikolas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1859,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689154298,"creation_date":1689153106,"question_id":76668925,"body_markdown":"rest api method\r\n\r\n\r\n    @PostMapping(value = &quot;/test&quot;, produces = {MediaType.APPLICATION_JSON_VALUE}, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\r\n        @ResponseStatus(HttpStatus.CREATED)\r\n        ResponseEntity&lt;DocumentBaseResponse&gt; createAsset(\r\n                @Valid @RequestPart(&quot;requestBody&quot;) MyClass jsonPart,\r\n                @Valid @NotNull @RequestPart(&quot;file&quot;) MultipartFile file);\r\n\r\n\r\n\r\nerror console\r\n\r\n\r\n    2023-07-12 10:59:48.128 WARN  [http-nio-8080-exec-4] o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/octet-stream&#39; not supported]\r\n\r\n\r\n\r\nswagger result\r\n\r\n\r\n    {\r\n      &quot;timestamp&quot;: &quot;2023-07-12T08:59:48.135+00:00&quot;,\r\n      &quot;status&quot;: 415,\r\n      &quot;error&quot;: &quot;Unsupported Media Type&quot;,\r\n      &quot;path&quot;: &quot;/v1/test&quot;\r\n    }\r\n\r\ntriggers a 415 error if I try to perform this method","title":"Content type &#39;application/octet-stream&#39; not supported","body":"<p>rest api method</p>\n<pre><code>@PostMapping(value = &quot;/test&quot;, produces = {MediaType.APPLICATION_JSON_VALUE}, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\n    @ResponseStatus(HttpStatus.CREATED)\n    ResponseEntity&lt;DocumentBaseResponse&gt; createAsset(\n            @Valid @RequestPart(&quot;requestBody&quot;) MyClass jsonPart,\n            @Valid @NotNull @RequestPart(&quot;file&quot;) MultipartFile file);\n</code></pre>\n<p>error console</p>\n<pre><code>2023-07-12 10:59:48.128 WARN  [http-nio-8080-exec-4] o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/octet-stream' not supported]\n</code></pre>\n<p>swagger result</p>\n<pre><code>{\n  &quot;timestamp&quot;: &quot;2023-07-12T08:59:48.135+00:00&quot;,\n  &quot;status&quot;: 415,\n  &quot;error&quot;: &quot;Unsupported Media Type&quot;,\n  &quot;path&quot;: &quot;/v1/test&quot;\n}\n</code></pre>\n<p>triggers a 415 error if I try to perform this method</p>\n"},{"tags":["java","data-structures","binary-tree"],"comments":[{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":0,"creation_date":1689301800,"post_id":76668826,"comment_id":135197411,"body_markdown":"Nishant, have you read my solution?","body":"Nishant, have you read my solution?"}],"answers":[{"tags":[],"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689153673,"creation_date":1689153673,"answer_id":76669001,"question_id":76668826,"body_markdown":"I believe this is a minor logical error. Specifically in this line:\r\n\r\n```java\r\nroot.data = root.left.data + leftChild + root.right.data + rightChild;\r\n```\r\n\r\nBy adding root.left.data and root.right.data you are doubling the value, and you are at risk of trying to access the data property of root.left and root.right when they could be null (which in fact is causing the error). The solution is to remove these two terms:\r\n\r\n```java\r\nroot.data = leftChild + rightChild;\r\n```\r\n\r\nI also believe you should be returning `root.data` not the `data` variable which stores the original value. This is a simple fix to the return statement, making it:\r\n```java\r\nreturn root.data;\r\n```\r\n\r\nAfter removing the now redundant `data` variable, the new function is:\r\n```java\r\npublic static int transform(Node root){\r\n    if(root == null) {\r\n        return 0;\r\n    }\r\n    int leftChild = transform(root.left);\r\n    int rightChild = transform(root.right);\r\n        \r\n    root.data = root.left.data + leftChild + root.right.data + rightChild;\r\n\r\n    return root.data;\r\n}\r\n```\r\n\r\nAlternatively, the function does not need to be static (and really shouldn&#39;t be), after a couple minor tweaks your new solution would look like:\r\n\r\n```java\r\npublic class BinaryTree09 {\r\n    static class Node {\r\n        int data;\r\n        Node left;\r\n        Node right;\r\n        Node(int data) {\r\n            this.data = data;\r\n            this.left = null;\r\n            this.right = null;\r\n        }\r\n\r\n        public int transform() {\r\n            int leftChild = this.left == null ? 0 : transform(this.left);\r\n            int rightChild = this.right == null ? 0 : transform(this.right);\r\n     \r\n            this.data = leftChild + rightChild;\r\n\r\n            return this.data;\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n       Node root = new Node(1);\r\n       root.left = new Node(2);\r\n       root.right = new Node(3);\r\n       root.left.left = new Node(4);\r\n       root.left.right = new Node(5);\r\n       root.right.left = new Node(6);\r\n       root.right.right = new Node(7);\r\n       System.out.println(root.transform());\r\n    }\r\n}\r\n```","title":"I was solving this problem - &quot;Transform to sum tree&quot;. I have written it&#39;s code but it is showing an error","body":"<p>I believe this is a minor logical error. Specifically in this line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>root.data = root.left.data + leftChild + root.right.data + rightChild;\n</code></pre>\n<p>By adding root.left.data and root.right.data you are doubling the value, and you are at risk of trying to access the data property of root.left and root.right when they could be null (which in fact is causing the error). The solution is to remove these two terms:</p>\n<pre class=\"lang-java prettyprint-override\"><code>root.data = leftChild + rightChild;\n</code></pre>\n<p>I also believe you should be returning <code>root.data</code> not the <code>data</code> variable which stores the original value. This is a simple fix to the return statement, making it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return root.data;\n</code></pre>\n<p>After removing the now redundant <code>data</code> variable, the new function is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int transform(Node root){\n    if(root == null) {\n        return 0;\n    }\n    int leftChild = transform(root.left);\n    int rightChild = transform(root.right);\n        \n    root.data = root.left.data + leftChild + root.right.data + rightChild;\n\n    return root.data;\n}\n</code></pre>\n<p>Alternatively, the function does not need to be static (and really shouldn't be), after a couple minor tweaks your new solution would look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BinaryTree09 {\n    static class Node {\n        int data;\n        Node left;\n        Node right;\n        Node(int data) {\n            this.data = data;\n            this.left = null;\n            this.right = null;\n        }\n\n        public int transform() {\n            int leftChild = this.left == null ? 0 : transform(this.left);\n            int rightChild = this.right == null ? 0 : transform(this.right);\n     \n            this.data = leftChild + rightChild;\n\n            return this.data;\n        }\n    }\n    public static void main(String[] args) {\n       Node root = new Node(1);\n       root.left = new Node(2);\n       root.right = new Node(3);\n       root.left.left = new Node(4);\n       root.left.right = new Node(5);\n       root.right.left = new Node(6);\n       root.right.right = new Node(7);\n       System.out.println(root.transform());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23886724,"reputation":1,"user_id":17886821,"display_name":"Nishant Paliwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689153673,"creation_date":1689152461,"question_id":76668826,"body_markdown":"In this question, we have to convert all nodes of tree to the sum of it&#39;s child node and itself.\r\nAll, the things are right but it is showing an error of &quot;Cannot read field &quot;data&quot; because &quot;root.left&quot; is null.&quot;\r\n[This is image of error which I am getting](https://i.stack.imgur.com/ZmSLc.png)\r\n\r\nHere is full code -\r\n\r\n```\r\npublic class BinaryTree09 {\r\n    static class Node{\r\n        int data;\r\n        Node left;\r\n        Node right;\r\n        Node(int data){\r\n            this.data = data;\r\n            this.left = null;\r\n            this.right = null;\r\n        }\r\n    }\r\n\r\n    public static int transform(Node root){\r\n        if(root == null){\r\n            return 0;\r\n        }\r\n        int leftChild = transform(root.left);\r\n        int rightChild = transform(root.right);\r\n        \r\n        int data = root.data;\r\n        root.data = root.left.data + leftChild + root.right.data + rightChild;\r\n\r\n        return data;\r\n    }\r\n    public static void main(String[] args) {\r\n        /**   1\r\n            /   \\\r\n           2     3\r\n          / \\   / \\ \r\n         4   5 6   7\r\n        */\r\n\r\n        /*Expected Output\r\n                 27\r\n                /  \\\r\n               9    13\r\n              / \\   / \\\r\n             0   0 0   0\r\n         */\r\n       Node root = new Node(1);\r\n       root.left = new Node(2);\r\n       root.right = new Node(3);\r\n       root.left.left = new Node(4);\r\n       root.left.right = new Node(5);\r\n       root.right.left = new Node(6);\r\n       root.right.right = new Node(7);\r\n       System.out.println(transform(root));\r\n    }\r\n}\r\n```","title":"I was solving this problem - &quot;Transform to sum tree&quot;. I have written it&#39;s code but it is showing an error","body":"<p>In this question, we have to convert all nodes of tree to the sum of it's child node and itself.\nAll, the things are right but it is showing an error of &quot;Cannot read field &quot;data&quot; because &quot;root.left&quot; is null.&quot;\n<a href=\"https://i.stack.imgur.com/ZmSLc.png\" rel=\"nofollow noreferrer\">This is image of error which I am getting</a></p>\n<p>Here is full code -</p>\n<pre><code>public class BinaryTree09 {\n    static class Node{\n        int data;\n        Node left;\n        Node right;\n        Node(int data){\n            this.data = data;\n            this.left = null;\n            this.right = null;\n        }\n    }\n\n    public static int transform(Node root){\n        if(root == null){\n            return 0;\n        }\n        int leftChild = transform(root.left);\n        int rightChild = transform(root.right);\n        \n        int data = root.data;\n        root.data = root.left.data + leftChild + root.right.data + rightChild;\n\n        return data;\n    }\n    public static void main(String[] args) {\n        /**   1\n            /   \\\n           2     3\n          / \\   / \\ \n         4   5 6   7\n        */\n\n        /*Expected Output\n                 27\n                /  \\\n               9    13\n              / \\   / \\\n             0   0 0   0\n         */\n       Node root = new Node(1);\n       root.left = new Node(2);\n       root.right = new Node(3);\n       root.left.left = new Node(4);\n       root.left.right = new Node(5);\n       root.right.left = new Node(6);\n       root.right.right = new Node(7);\n       System.out.println(transform(root));\n    }\n}\n</code></pre>\n"},{"tags":["java","linux","windows","macos","process"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1689164470,"post_id":76667759,"comment_id":135174142,"body_markdown":"On Windows it can done easily by scanning for pids per HWND with `EnumWindows`. I do this with Foreign Memory API but as that is still changing JDK16+ you might be better off with a script per platform independent of JDK. Some examples to look at: [Powershell](https://superuser.com/questions/1328345/find-all-window-titles-of-application-through-command-line)\n / [Panama API](https://stackoverflow.com/questions/11067484/get-titles-of-non-java-windows-in-java/75277444#75277444) but you&#39;d need to adapt with call to `GetWindowThreadProcessId` to link up HWND to a your sub-process PID.","body":"On Windows it can done easily by scanning for pids per HWND with <code>EnumWindows</code>. I do this with Foreign Memory API but as that is still changing JDK16+ you might be better off with a script per platform independent of JDK. Some examples to look at: <a href=\"https://superuser.com/questions/1328345/find-all-window-titles-of-application-through-command-line\">Powershell</a>  / <a href=\"https://stackoverflow.com/questions/11067484/get-titles-of-non-java-windows-in-java/75277444#75277444\">Panama API</a> but you&#39;d need to adapt with call to <code>GetWindowThreadProcessId</code> to link up HWND to a your sub-process PID."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1689181271,"post_id":76667759,"comment_id":135178279,"body_markdown":"Sounds interesting, although I will have to mull over it.","body":"Sounds interesting, although I will have to mull over it."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1689181301,"post_id":76667759,"comment_id":135178284,"body_markdown":"While we are going for external commands/scripts, here is something to help for Linux: https://askubuntu.com/questions/1410275/list-windows-on-command-line","body":"While we are going for external commands/scripts, here is something to help for Linux: <a href=\"https://askubuntu.com/questions/1410275/list-windows-on-command-line\" title=\"list windows on command line\">askubuntu.com/questions/1410275/list-windows-on-command-line</a>"}],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689153556,"creation_date":1689144129,"question_id":76667759,"body_markdown":"I have some java code that runs a subprocess using ProcessBuilder. I can also capture that process stdout and stderr. The process is an GUI application (not written in Java). So far so good, but sometimes the process fails to open a window yet it keeps running.\r\n\r\nHow can I detect from Java after e.g. 10 seconds whether the subprocess successfully opened a window? Based on that I would like to take recovery action.\r\n\r\nA platform agnostic solution is preferred but not necessary. I can live with solutions specific to Linux, MacOS and Windows.","title":"Java detect if subprocess opens window","body":"<p>I have some java code that runs a subprocess using ProcessBuilder. I can also capture that process stdout and stderr. The process is an GUI application (not written in Java). So far so good, but sometimes the process fails to open a window yet it keeps running.</p>\n<p>How can I detect from Java after e.g. 10 seconds whether the subprocess successfully opened a window? Based on that I would like to take recovery action.</p>\n<p>A platform agnostic solution is preferred but not necessary. I can live with solutions specific to Linux, MacOS and Windows.</p>\n"},{"tags":["java","linux","x11","xserver"],"comments":[{"owner":{"account_id":3907430,"reputation":464,"user_id":3233754,"display_name":"Technophile"},"score":0,"creation_date":1630626847,"post_id":10165761,"comment_id":122015394,"body_markdown":"If also using a VNC viewer via ssh:  after modifying the `xhost` access list, it is necessary to reopen the SSH connection.  At least on my current setup (VNC to Debian), I infer that it needs to get an updated xhost access list.","body":"If also using a VNC viewer via ssh:  after modifying the <code>xhost</code> access list, it is necessary to reopen the SSH connection.  At least on my current setup (VNC to Debian), I infer that it needs to get an updated xhost access list."}],"answers":[{"tags":[],"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"down_vote_count":1,"up_vote_count":74,"is_accepted":false,"score":73,"last_activity_date":1395742248,"creation_date":1334522559,"answer_id":10165905,"question_id":10165761,"body_markdown":"You need to specify the [`-Djava.awt.headless=true`](http://www.oracle.com/technetwork/articles/javase/headless-136834.html) parameter at startup time.\r\n","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>You need to specify the <a href=\"http://www.oracle.com/technetwork/articles/javase/headless-136834.html\" rel=\"noreferrer\"><code>-Djava.awt.headless=true</code></a> parameter at startup time.</p>\n"},{"tags":[],"owner":{"account_id":369969,"reputation":21500,"user_id":717630,"display_name":"grepit"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1478602692,"creation_date":1342537253,"answer_id":11525353,"question_id":10165761,"body_markdown":"This will fix it:\r\n\r\n    /usr/bin/java -Djava.awt.headless=true $Your_program","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>This will fix it:</p>\n\n<pre><code>/usr/bin/java -Djava.awt.headless=true $Your_program\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1509886,"reputation":2831,"user_id":1412279,"display_name":"bebbo"},"down_vote_count":6,"up_vote_count":58,"is_accepted":false,"score":52,"last_activity_date":1355174453,"creation_date":1355174453,"answer_id":13809464,"question_id":10165761,"body_markdown":"Remove the DISPLAY variable\r\n\r\n    unset DISPLAY\r\n\r\nThis helps in most cases (e.g. starting application servers or other java based tools) and avoids to modify all that many command lines.\r\n\r\nIt can also be comfortable to add it to the .bash_profile for a dedicated app-server/tools user.","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>Remove the DISPLAY variable</p>\n\n<pre><code>unset DISPLAY\n</code></pre>\n\n<p>This helps in most cases (e.g. starting application servers or other java based tools) and avoids to modify all that many command lines.</p>\n\n<p>It can also be comfortable to add it to the .bash_profile for a dedicated app-server/tools user.</p>\n"},{"tags":[],"owner":{"account_id":479723,"reputation":1493,"user_id":892568,"accept_rate":78,"display_name":"Maryam Saeidi"},"down_vote_count":7,"up_vote_count":57,"is_accepted":true,"score":50,"last_activity_date":1361800451,"creation_date":1361800451,"answer_id":15068584,"question_id":10165761,"body_markdown":"This command helped me to solve the problem:\r\n\r\n    export DISPLAY=:0","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>This command helped me to solve the problem:</p>\n\n<pre><code>export DISPLAY=:0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1002348,"reputation":497,"user_id":1016936,"accept_rate":70,"display_name":"janex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366822960,"creation_date":1366822960,"answer_id":16197986,"question_id":10165761,"body_markdown":"the only way i got it to work was running the script with a template. e.g. sudo ./glassfish-3.1.2.2-unix.sh -s template\r\n\r\nThis installs Glassfish in Silent Mode. http://docs.oracle.com/cd/E18930_01/html/821-2427/ghmva.html\r\n","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>the only way i got it to work was running the script with a template. e.g. sudo ./glassfish-3.1.2.2-unix.sh -s template</p>\n\n<p>This installs Glassfish in Silent Mode. <a href=\"http://docs.oracle.com/cd/E18930_01/html/821-2427/ghmva.html\" rel=\"nofollow\">http://docs.oracle.com/cd/E18930_01/html/821-2427/ghmva.html</a></p>\n"},{"tags":[],"owner":{"account_id":1703274,"reputation":909,"user_id":1562861,"accept_rate":0,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367473707,"creation_date":1367473707,"answer_id":16331171,"question_id":10165761,"body_markdown":"I run into the same error with you when i run the jconsole command at remote. I want to modify a parameter at jconsole that run on a remote Linux host, i can login the host use the secureCRT, the terminal throw this error information. Fortunately, when use the Putty, it&#39;s ok. Weird....","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>I run into the same error with you when i run the jconsole command at remote. I want to modify a parameter at jconsole that run on a remote Linux host, i can login the host use the secureCRT, the terminal throw this error information. Fortunately, when use the Putty, it's ok. Weird....</p>\n"},{"tags":[],"owner":{"account_id":3523971,"reputation":1,"user_id":2945593,"display_name":"user2945593"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383322515,"creation_date":1383322515,"answer_id":19730792,"question_id":10165761,"body_markdown":"If you see this error in Hudson, try to remove the .java directory from your home directory, it may work for you. ","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>If you see this error in Hudson, try to remove the .java directory from your home directory, it may work for you. </p>\n"},{"tags":[],"owner":{"account_id":4508470,"reputation":234,"user_id":3665258,"display_name":"Puneetsri"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1400766425,"creation_date":1400766425,"answer_id":23808726,"question_id":10165761,"body_markdown":"In case anybody trying to run the automated unit tests via maven-surefire-plugin on CI(jenkins,..), and getting the above mentioned error, be sure to update your surefire plugin configuration :\r\n\r\n\r\n    &lt;plugin&gt;\r\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n         &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n         &lt;configuration&gt;\r\n                &lt;systemPropertyVariables&gt;\r\n                    &lt;java.awt.headless&gt;true&lt;/java.awt.headless&gt;\r\n                &lt;/systemPropertyVariables&gt;\r\n          &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>In case anybody trying to run the automated unit tests via maven-surefire-plugin on CI(jenkins,..), and getting the above mentioned error, be sure to update your surefire plugin configuration :</p>\n\n<pre><code>&lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n     &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n     &lt;configuration&gt;\n            &lt;systemPropertyVariables&gt;\n                &lt;java.awt.headless&gt;true&lt;/java.awt.headless&gt;\n            &lt;/systemPropertyVariables&gt;\n      &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3769642,"reputation":2409,"user_id":3132194,"display_name":"user3132194"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1444648575,"creation_date":1444648575,"answer_id":33079751,"question_id":10165761,"body_markdown":"If you start application on a remote server while logged in by ssh then another way would be to start ssh with `-x` parameter or add `ForwardX11 no` in your `/etc/ssh/ssh_config`. In this case ssh will not create environment variable DISPLAY.","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>If you start application on a remote server while logged in by ssh then another way would be to start ssh with <code>-x</code> parameter or add <code>ForwardX11 no</code> in your <code>/etc/ssh/ssh_config</code>. In this case ssh will not create environment variable DISPLAY.</p>\n"},{"tags":[],"owner":{"account_id":4951539,"reputation":23,"user_id":3985297,"display_name":"Koti Anekallu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450081032,"creation_date":1450080711,"answer_id":34262292,"question_id":10165761,"body_markdown":"Michael-O gave useful approach to solve the problem. Another way to solve this is by starting the server with Putty Console.","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>Michael-O gave useful approach to solve the problem. Another way to solve this is by starting the server with Putty Console.</p>\n"},{"tags":[],"owner":{"account_id":2545813,"reputation":751,"user_id":2210647,"accept_rate":20,"display_name":"N_E"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1456643016,"creation_date":1456536383,"answer_id":35664608,"question_id":10165761,"body_markdown":"After several days of futile effort of installing glassfish on raspberry pi 2 with headless fedora 22, Below worked for me without a hitch\r\n\r\n     unset DISPLAY\r\n    java -Djava.awt.headless=true -jar glassfissh-installer-v2ur2-b04-linux.jar\r\n\r\ngot my help from [here][1]\r\n\r\n\r\n  [1]: https://confluence.atlassian.com/bamkb/error-can-t-connect-to-x11-window-server-is-reported-during-server-startup-226788690.html","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>After several days of futile effort of installing glassfish on raspberry pi 2 with headless fedora 22, Below worked for me without a hitch</p>\n\n<pre><code> unset DISPLAY\njava -Djava.awt.headless=true -jar glassfissh-installer-v2ur2-b04-linux.jar\n</code></pre>\n\n<p>got my help from <a href=\"https://confluence.atlassian.com/bamkb/error-can-t-connect-to-x11-window-server-is-reported-during-server-startup-226788690.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1770983,"reputation":724,"user_id":1615754,"display_name":"Aleks Tkachenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1477688728,"creation_date":1477688728,"answer_id":40313206,"question_id":10165761,"body_markdown":"First: start XQuartz\r\n\r\nSecond: ssh -X user@ip_address\r\n\r\n...: start your process\r\n\r\nif you ssh and then start XQuartz you will get that error","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>First: start XQuartz</p>\n\n<p>Second: ssh -X user@ip_address</p>\n\n<p>...: start your process</p>\n\n<p>if you ssh and then start XQuartz you will get that error</p>\n"},{"tags":[],"owner":{"account_id":9558313,"reputation":1,"user_id":7100062,"display_name":"Kwokman Chung"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1478012474,"creation_date":1478009981,"answer_id":40361970,"question_id":10165761,"body_markdown":"For me, the problem was that *xorg-x11-xauth* wasn&#39;t installed. I installed it and then it worked. \r\n\r\nThe packages that I have now are:\r\n\r\n* *libX11-common-1.6.3-2.el6.noarch*\r\n* *libX11-1.6.3-2.el6.i686*\r\n* *libX11-1.6.3-2.el6.x86_64*\r\n* *xorg-x11-drv-ati-firware-7.6.1-2.el6.noarch*\r\n* *xorg-x11-xauth-1.0.9-1.el6.x86_64*","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>For me, the problem was that <em>xorg-x11-xauth</em> wasn't installed. I installed it and then it worked. </p>\n\n<p>The packages that I have now are:</p>\n\n<ul>\n<li><em>libX11-common-1.6.3-2.el6.noarch</em></li>\n<li><em>libX11-1.6.3-2.el6.i686</em></li>\n<li><em>libX11-1.6.3-2.el6.x86_64</em></li>\n<li><em>xorg-x11-drv-ati-firware-7.6.1-2.el6.noarch</em></li>\n<li><em>xorg-x11-xauth-1.0.9-1.el6.x86_64</em></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3616482,"reputation":11,"user_id":3016200,"display_name":"user3016200"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483335400,"creation_date":1483335400,"answer_id":41421825,"question_id":10165761,"body_markdown":"In my case there was no space left in my machine and I faced the same issue.\r\nSome times it could be the space issue. Check the space in your Linux/Unix environment and make sure your machine have enough space.","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>In my case there was no space left in my machine and I faced the same issue.\nSome times it could be the space issue. Check the space in your Linux/Unix environment and make sure your machine have enough space.</p>\n"},{"tags":[],"owner":{"account_id":10398518,"reputation":29,"user_id":7667591,"display_name":"Shashank "},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492095042,"creation_date":1492094329,"answer_id":43395220,"question_id":10165761,"body_markdown":"I was using Xming and got similar error. Following steps were taken to fix the issue:\r\n\r\n1. In Xming launch check the box no access control.\r\n2. In putty ran the following command: `DISPLAY=XXX.XXX.XXX.XX:0.0; export DISPLAY`\r\n\r\nReplace `XXX.XXX.XXX.XX` with your IP address.","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>I was using Xming and got similar error. Following steps were taken to fix the issue:</p>\n\n<ol>\n<li>In Xming launch check the box no access control.</li>\n<li>In putty ran the following command: <code>DISPLAY=XXX.XXX.XXX.XX:0.0; export DISPLAY</code></li>\n</ol>\n\n<p>Replace <code>XXX.XXX.XXX.XX</code> with your IP address.</p>\n"},{"tags":[],"owner":{"account_id":1714467,"reputation":738,"user_id":1571862,"accept_rate":40,"display_name":"loknath"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1499078791,"creation_date":1499078791,"answer_id":44883666,"question_id":10165761,"body_markdown":"For me logging in as **-Y** instead of -X worked.\r\n\r\nIn case you&#39;ve got untrusted X11 as shown below, then try -Y flag instead (if you trust the host):\r\n\r\n**Warning**: untrusted X11 forwarding setup failed: xauth key data not generated","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>For me logging in as <strong>-Y</strong> instead of -X worked.</p>\n\n<p>In case you've got untrusted X11 as shown below, then try -Y flag instead (if you trust the host):</p>\n\n<p><strong>Warning</strong>: untrusted X11 forwarding setup failed: xauth key data not generated</p>\n"},{"tags":[],"owner":{"account_id":11259309,"reputation":309,"user_id":8258101,"display_name":"Harsh V Pillai"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1499245678,"creation_date":1499245678,"answer_id":44921720,"question_id":10165761,"body_markdown":"I think you are working in sudo mode.Please checkout to the user mode and try again","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>I think you are working in sudo mode.Please checkout to the user mode and try again</p>\n"},{"tags":[],"owner":{"account_id":8949895,"reputation":807,"user_id":6676240,"accept_rate":95,"display_name":"Akshay Maldhure"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505281579,"creation_date":1505281579,"answer_id":46189716,"question_id":10165761,"body_markdown":"If you&#39;re triggering your code from Jenkins, enabling the option &quot;Start Xvfb before the build, and shut it down after&quot; might help. It helped me.","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>If you're triggering your code from Jenkins, enabling the option \"Start Xvfb before the build, and shut it down after\" might help. It helped me.</p>\n"},{"tags":[],"owner":{"account_id":6889502,"reputation":521,"user_id":5293521,"display_name":"Vinod Ranga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505930829,"creation_date":1505930829,"answer_id":46328975,"question_id":10165761,"body_markdown":"change to a another user and try except root. it works for me.","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>change to a another user and try except root. it works for me.</p>\n"},{"tags":[],"owner":{"account_id":5942587,"reputation":3088,"user_id":4673240,"display_name":"Praveen Kumar Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515278369,"creation_date":1515274874,"answer_id":48132191,"question_id":10165761,"body_markdown":"I just didn&#39;t log out of root before running ./studio.sh All set.\r\n","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>I just didn't log out of root before running ./studio.sh All set.</p>\n"},{"tags":[],"owner":{"account_id":8018321,"reputation":718,"user_id":6047793,"accept_rate":100,"display_name":"cwilliamsz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518808533,"creation_date":1518808533,"answer_id":48833429,"question_id":10165761,"body_markdown":"For Ubuntu 17.10\r\nInstall X virtual frame buffer (xvfb)\r\n\r\n    apt install xvfb\r\n\r\nAnd added these lines to the /etc/profile file...\r\n    \r\n    # Start the X virtual frame buffer (Xvfb)\r\n    if [ -f /usr/X11R6/bin/Xvfb ]; then\r\n    /usr/X11R6/bin/Xvfb :1 -screen 0 1366x768x32\r\n    fi\r\n    \r\n    # Set the DISPLAY variable for the X virtual frame buffer (Xvfb)\r\n    export DISPLAY=localhost:1.0","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>For Ubuntu 17.10\nInstall X virtual frame buffer (xvfb)</p>\n\n<pre><code>apt install xvfb\n</code></pre>\n\n<p>And added these lines to the /etc/profile file...</p>\n\n<pre><code># Start the X virtual frame buffer (Xvfb)\nif [ -f /usr/X11R6/bin/Xvfb ]; then\n/usr/X11R6/bin/Xvfb :1 -screen 0 1366x768x32\nfi\n\n# Set the DISPLAY variable for the X virtual frame buffer (Xvfb)\nexport DISPLAY=localhost:1.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11319396,"reputation":58,"user_id":8837961,"display_name":"LMN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536047762,"creation_date":1536047762,"answer_id":52161458,"question_id":10165761,"body_markdown":"In my case this error was not related to the DISPLAY port. I was trying to load an XML into Windchill (a PLM-software) and received only the above error on the terminal. In a logfile I found the report that **my XML-file was corrupt**. Maybe someone has a similar problem and can use this answer.","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>In my case this error was not related to the DISPLAY port. I was trying to load an XML into Windchill (a PLM-software) and received only the above error on the terminal. In a logfile I found the report that <strong>my XML-file was corrupt</strong>. Maybe someone has a similar problem and can use this answer.</p>\n"},{"tags":[],"owner":{"account_id":3702943,"reputation":1484,"user_id":3082183,"accept_rate":18,"display_name":"Pankaj Kumar Katiyar"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1536133370,"creation_date":1536133370,"answer_id":52179699,"question_id":10165761,"body_markdown":"First do this either in Build Phase of Jenkins if using or set in /etc/profile:\r\n\r\n    unset DISPLAY\r\n    export DISPLAY=:0\r\n\r\nthen set this property either in java code or using maven:\r\n-Djava.awt.headless=false\r\n","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>First do this either in Build Phase of Jenkins if using or set in /etc/profile:</p>\n\n<pre><code>unset DISPLAY\nexport DISPLAY=:0\n</code></pre>\n\n<p>then set this property either in java code or using maven:\n-Djava.awt.headless=false</p>\n"},{"tags":[],"owner":{"account_id":6876679,"reputation":2100,"user_id":5284909,"accept_rate":67,"display_name":"Nilesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543988856,"creation_date":1543988856,"answer_id":53625902,"question_id":10165761,"body_markdown":"Solved. I just logout and login with xorg!","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>Solved. I just logout and login with xorg!</p>\n"},{"tags":[],"owner":{"account_id":3368891,"reputation":1608,"user_id":2828681,"display_name":"Seff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572242985,"creation_date":1572239880,"answer_id":58586062,"question_id":10165761,"body_markdown":"Mine issue was with the firewall. Disabled it temporarily.\r\n\r\n[EDIT] And, the server hostname was pointing to another IP. Set it to simply localserver. `strace xclock` helped to debug this issue.","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>Mine issue was with the firewall. Disabled it temporarily.</p>\n\n<p>[EDIT] And, the server hostname was pointing to another IP. Set it to simply localserver. <code>strace xclock</code> helped to debug this issue.</p>\n"},{"tags":[],"owner":{"account_id":5604446,"reputation":19,"user_id":4439561,"display_name":"Easwer A.P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582623511,"creation_date":1582623511,"answer_id":60391496,"question_id":10165761,"body_markdown":"I have fixed this issue by logging in using Xorg. By default, I have used Wayland. It looks like Wayland eliminates most of the design flaws of the Xorg it has its own issues.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r4qhN.jpg","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>I have fixed this issue by logging in using Xorg. By default, I have used Wayland. It looks like Wayland eliminates most of the design flaws of the Xorg it has its own issues.<a href=\"https://i.stack.imgur.com/r4qhN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r4qhN.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1273155,"reputation":115,"user_id":1228988,"accept_rate":50,"display_name":"Mohamed ELJ"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1586865467,"creation_date":1586865467,"answer_id":61207125,"question_id":10165761,"body_markdown":"If you are trying to export display using su and it still doesn&#39;t work.\r\nThis is what worked for me. Try X11 forwarding for sudo users.\r\n\r\n Connect the remote host using the -X option with ssh.\r\n\r\n    # ssh -X root@remote-host\r\n\r\n Now list the coockie set for the current user.\r\n\r\n    # xauth list $DISPLAY\r\n        node01.thegeekdiary.com/unix:10  MIT-MAGIC-COOKIE-1  dacbc5765ec54a1d7115a172147866aa\r\n    # echo $DSIPLAY\r\n        localhost:10.0\r\n\r\nSwitch to another user account using sudo. Add the cookie from the command output above to the sudo user.\r\n\r\n    # sudo su - [user]\r\n    # xauth add node01.thegeekdiary.com/unix:10  MIT-MAGIC-COOKIE-1  dacbc5765ec54a1d7115a172147866aa\r\n\r\nExport the display from step 2 again for the sudo user. Try the command xclock to verify if the x client applications are working as expected.\r\n\r\n    # export DISPLAY=localhost:10.0\r\n\r\nsource: https://www.thegeekdiary.com/how-to-set-x11-forwarding-export-remote-display-for-users-who-switch-accounts-using-sudo/","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>If you are trying to export display using su and it still doesn't work.\nThis is what worked for me. Try X11 forwarding for sudo users.</p>\n\n<p>Connect the remote host using the -X option with ssh.</p>\n\n<pre><code># ssh -X root@remote-host\n</code></pre>\n\n<p>Now list the coockie set for the current user.</p>\n\n<pre><code># xauth list $DISPLAY\n    node01.thegeekdiary.com/unix:10  MIT-MAGIC-COOKIE-1  dacbc5765ec54a1d7115a172147866aa\n# echo $DSIPLAY\n    localhost:10.0\n</code></pre>\n\n<p>Switch to another user account using sudo. Add the cookie from the command output above to the sudo user.</p>\n\n<pre><code># sudo su - [user]\n# xauth add node01.thegeekdiary.com/unix:10  MIT-MAGIC-COOKIE-1  dacbc5765ec54a1d7115a172147866aa\n</code></pre>\n\n<p>Export the display from step 2 again for the sudo user. Try the command xclock to verify if the x client applications are working as expected.</p>\n\n<pre><code># export DISPLAY=localhost:10.0\n</code></pre>\n\n<p>source: <a href=\"https://www.thegeekdiary.com/how-to-set-x11-forwarding-export-remote-display-for-users-who-switch-accounts-using-sudo/\" rel=\"noreferrer\">https://www.thegeekdiary.com/how-to-set-x11-forwarding-export-remote-display-for-users-who-switch-accounts-using-sudo/</a></p>\n"},{"tags":[],"owner":{"account_id":13591301,"reputation":57,"user_id":11567644,"display_name":"Naresh A"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673754239,"creation_date":1587661284,"answer_id":61392848,"question_id":10165761,"body_markdown":"check whether `$DISPLAY` variable is set or not, with the below command: \r\n\r\n    echo $DISPLAY\r\n\r\nif the display variable is not set, run the below command to set, (even if it is set, you can have below one for your session)\r\n\r\n    export DISPLAY=:0.0\r\n\r\n in [tag:putty] also have the `x` display location as `:0.0`","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>check whether <code>$DISPLAY</code> variable is set or not, with the below command:</p>\n<pre><code>echo $DISPLAY\n</code></pre>\n<p>if the display variable is not set, run the below command to set, (even if it is set, you can have below one for your session)</p>\n<pre><code>export DISPLAY=:0.0\n</code></pre>\n<p>in <a href=\"/questions/tagged/putty\" class=\"post-tag\" title=\"show questions tagged &#39;putty&#39;\" aria-label=\"show questions tagged &#39;putty&#39;\" rel=\"tag\" aria-labelledby=\"putty-container\">putty</a> also have the <code>x</code> display location as <code>:0.0</code></p>\n"},{"tags":[],"owner":{"account_id":9898661,"reputation":1037,"user_id":7329334,"display_name":"Bercove"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1593092463,"creation_date":1593092463,"answer_id":62576762,"question_id":10165761,"body_markdown":"This fixed my problem \r\n\r\n    xhost +\r\n\r\nbut Be aware that `xhost +` completely deactivates authentication and allows everyone to access all application on your screen.\r\n\r\n`xhost +si:localuser:root` seems to work similar with proper authentication.","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>This fixed my problem</p>\n<pre><code>xhost +\n</code></pre>\n<p>but Be aware that <code>xhost +</code> completely deactivates authentication and allows everyone to access all application on your screen.</p>\n<p><code>xhost +si:localuser:root</code> seems to work similar with proper authentication.</p>\n"},{"tags":[],"owner":{"account_id":10696708,"reputation":133,"user_id":7873599,"display_name":"veer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600096972,"creation_date":1600091057,"answer_id":63885597,"question_id":10165761,"body_markdown":"For me none of the above worked, but after long search this worked for me.\r\n```\r\nexport DISPLAY=localhost:20.0\r\n```","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>For me none of the above worked, but after long search this worked for me.</p>\n<pre><code>export DISPLAY=localhost:20.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16316579,"reputation":429,"user_id":11783513,"display_name":"M M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604232599,"creation_date":1604232599,"answer_id":64631708,"question_id":10165761,"body_markdown":"I had the same issue on the Linux server I was working on. Connecting java to a X11 display worked on the head node, but not on any other. After contacting the administrator, it turned out that the current version of our job-scheduling system (SLURM) did not support X11 forwarding. They had to update SLURM (newer versions of SLURM support it) for it to work. ","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>I had the same issue on the Linux server I was working on. Connecting java to a X11 display worked on the head node, but not on any other. After contacting the administrator, it turned out that the current version of our job-scheduling system (SLURM) did not support X11 forwarding. They had to update SLURM (newer versions of SLURM support it) for it to work.</p>\n"},{"tags":[],"owner":{"account_id":9317275,"reputation":87,"user_id":6917219,"display_name":"Dhammadip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649767535,"creation_date":1649767535,"answer_id":71842993,"question_id":10165761,"body_markdown":" 1. export localhost:1\r\n\r\n 2. -Djava.awt.headless=true\r\n\r\n\r\n","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<ol>\n<li><p>export localhost:1</p>\n</li>\n<li><p>-Djava.awt.headless=true</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10491189,"reputation":153,"user_id":7733017,"display_name":"Aleix Marin&#233;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677075118,"creation_date":1677075118,"answer_id":75533913,"question_id":10165761,"body_markdown":"In my case I have this exact error when I was launching the Jetbrains IDEs, such as Pycharm, IntelliJ IDEA...\r\n\r\nI typed this in the same terminal that I was using to start the IDE to solve the problem:\r\n\r\n```bash\r\nexport DISPLAY=:1\r\n```\r\n\r\nThen I started the IDE from the same terminal issuing the command `pycharm` and it worked like a charm.\r\n\r\nThe output of both IDEs was:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LrfWd.png","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>In my case I have this exact error when I was launching the Jetbrains IDEs, such as Pycharm, IntelliJ IDEA...</p>\n<p>I typed this in the same terminal that I was using to start the IDE to solve the problem:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export DISPLAY=:1\n</code></pre>\n<p>Then I started the IDE from the same terminal issuing the command <code>pycharm</code> and it worked like a charm.</p>\n<p>The output of both IDEs was:\n<a href=\"https://i.stack.imgur.com/LrfWd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LrfWd.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1622681,"reputation":1593,"user_id":1498924,"accept_rate":44,"display_name":"ybdesire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689153526,"creation_date":1689153526,"answer_id":76668978,"question_id":10165761,"body_markdown":"run below cmd fixed my issue. works for my case\r\n\r\n`unset DISPLAY`\r\n","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>run below cmd fixed my issue. works for my case</p>\n<p><code>unset DISPLAY</code></p>\n"}],"owner":{"account_id":388333,"reputation":2913,"user_id":747201,"accept_rate":70,"display_name":"Elteroooo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441512,"favorite_count":0,"down_vote_count":1,"up_vote_count":124,"accepted_answer_id":15068584,"answer_count":34,"score":123,"last_activity_date":1689153526,"creation_date":1334521614,"question_id":10165761,"body_markdown":"I have a script using java to connect to display X11 in the port 10.0 at localhost\r\n\r\nbut i get always this error\r\n\r\n    java.lang.InternalError: Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable.\r\n    \tat sun.awt.X11GraphicsEnvironment.initDisplay(Native Method)\r\n    \tat sun.awt.X11GraphicsEnvironment.access$200(X11GraphicsEnvironment.java:62)\r\n    \tat sun.awt.X11GraphicsEnvironment$1.run(X11GraphicsEnvironment.java:178)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.awt.X11GraphicsEnvironment.&lt;clinit&gt;(X11GraphicsEnvironment.java:142)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:186)\r\n    \tat java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment(GraphicsEnvironment.java:82)\r\n    \tat sun.awt.X11.XToolkit.&lt;clinit&gt;(XToolkit.java:112)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:186)\r\n    \tat java.awt.Toolkit$2.run(Toolkit.java:849)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.awt.Toolkit.getDefaultToolkit(Toolkit.java:841)\r\n    \tat ij.io.Opener.openJpegOrGif(Opener.java:367)\r\n    \tat ij.io.Opener.openImage(Opener.java:220)\r\n    \tat ij.io.Opener.openImage(Opener.java:249)\r\n    \tat ij.io.Opener.open(Opener.java:116)\r\n    \tat ij.IJ.open(IJ.java:1112)\r\n    \tat ij.macro.Functions.open(Functions.java:2006)\r\n    \tat ij.macro.Functions.doFunction(Functions.java:129)\r\n    \tat ij.macro.Interpreter.doStatement(Interpreter.java:205)\r\n    \tat ij.macro.Interpreter.doBlock(Interpreter.java:515)\r\n    \tat ij.macro.Interpreter.runUserFunction(Interpreter.java:278)\r\n    \tat ij.macro.Interpreter.getFactor(Interpreter.java:1200)\r\n    \tat ij.macro.Interpreter.getTerm(Interpreter.java:1162)\r\n    \tat ij.macro.Interpreter.getExpression(Interpreter.java:1145)\r\n    \tat ij.macro.Interpreter.getBooleanExpression(Interpreter.java:881)\r\n    \tat ij.macro.Interpreter.getLogicalExpression(Interpreter.java:857)\r\n    \tat ij.macro.Interpreter.getBoolean(Interpreter.java:850)\r\n    \tat ij.macro.Interpreter.doIf(Interpreter.java:829)\r\n    \tat ij.macro.Interpreter.doStatement(Interpreter.java:217)\r\n    \tat ij.macro.Interpreter.doBlock(Interpreter.java:515)\r\n    \tat ij.macro.Interpreter.doStatement(Interpreter.java:241)\r\n    \tat ij.macro.Interpreter.doIf(Interpreter.java:831)\r\n    \tat ij.macro.Interpreter.doStatement(Interpreter.java:217)\r\n    \tat ij.macro.Interpreter.doStatements(Interpreter.java:195)\r\n    \tat ij.macro.Interpreter.run(Interpreter.java:99)\r\n    \tat ij.macro.Interpreter.run(Interpreter.java:65)\r\n    \tat ij.macro.Interpreter.run(Interpreter.java:75)\r\n    \tat ij.plugin.Macro_Runner.runMacro(Macro_Runner.java:127)\r\n    \tat ij.plugin.Macro_Runner.runMacroFile(Macro_Runner.java:112)\r\n    \tat ij.IJ.runMacroFile(IJ.java:103)\r\n    \tat ij.ImageJ.main(ImageJ.java:517)\r\n\r\nI have tried everything to solve this problem like :\r\n\r\n    export DISPLAY=:10.0\r\n    export DISPLAY=localhost:10.0\r\n\r\nI tried also the port 0.0 but i get always the same error\r\n\r\nafter trying xhost \r\n\r\n    xhost +local:all\r\n    xhost:  unable to open display &quot;&quot;\r\n    xhost:  unable to open display &quot;:10.0&quot;\r\n\r\nhow can i fix this\r\ni thought that the X Server is not runing so i tried `startx` its says its runing at that port \r\n\r\nmy system is Ubuntu server edition 10.04","title":"Java Can&#39;t connect to X11 window server using &#39;localhost:10.0&#39; as the value of the DISPLAY variable","body":"<p>I have a script using java to connect to display X11 in the port 10.0 at localhost</p>\n\n<p>but i get always this error</p>\n\n<pre><code>java.lang.InternalError: Can't connect to X11 window server using 'localhost:10.0' as the value of the DISPLAY variable.\n    at sun.awt.X11GraphicsEnvironment.initDisplay(Native Method)\n    at sun.awt.X11GraphicsEnvironment.access$200(X11GraphicsEnvironment.java:62)\n    at sun.awt.X11GraphicsEnvironment$1.run(X11GraphicsEnvironment.java:178)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.awt.X11GraphicsEnvironment.&lt;clinit&gt;(X11GraphicsEnvironment.java:142)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:186)\n    at java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment(GraphicsEnvironment.java:82)\n    at sun.awt.X11.XToolkit.&lt;clinit&gt;(XToolkit.java:112)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:186)\n    at java.awt.Toolkit$2.run(Toolkit.java:849)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.awt.Toolkit.getDefaultToolkit(Toolkit.java:841)\n    at ij.io.Opener.openJpegOrGif(Opener.java:367)\n    at ij.io.Opener.openImage(Opener.java:220)\n    at ij.io.Opener.openImage(Opener.java:249)\n    at ij.io.Opener.open(Opener.java:116)\n    at ij.IJ.open(IJ.java:1112)\n    at ij.macro.Functions.open(Functions.java:2006)\n    at ij.macro.Functions.doFunction(Functions.java:129)\n    at ij.macro.Interpreter.doStatement(Interpreter.java:205)\n    at ij.macro.Interpreter.doBlock(Interpreter.java:515)\n    at ij.macro.Interpreter.runUserFunction(Interpreter.java:278)\n    at ij.macro.Interpreter.getFactor(Interpreter.java:1200)\n    at ij.macro.Interpreter.getTerm(Interpreter.java:1162)\n    at ij.macro.Interpreter.getExpression(Interpreter.java:1145)\n    at ij.macro.Interpreter.getBooleanExpression(Interpreter.java:881)\n    at ij.macro.Interpreter.getLogicalExpression(Interpreter.java:857)\n    at ij.macro.Interpreter.getBoolean(Interpreter.java:850)\n    at ij.macro.Interpreter.doIf(Interpreter.java:829)\n    at ij.macro.Interpreter.doStatement(Interpreter.java:217)\n    at ij.macro.Interpreter.doBlock(Interpreter.java:515)\n    at ij.macro.Interpreter.doStatement(Interpreter.java:241)\n    at ij.macro.Interpreter.doIf(Interpreter.java:831)\n    at ij.macro.Interpreter.doStatement(Interpreter.java:217)\n    at ij.macro.Interpreter.doStatements(Interpreter.java:195)\n    at ij.macro.Interpreter.run(Interpreter.java:99)\n    at ij.macro.Interpreter.run(Interpreter.java:65)\n    at ij.macro.Interpreter.run(Interpreter.java:75)\n    at ij.plugin.Macro_Runner.runMacro(Macro_Runner.java:127)\n    at ij.plugin.Macro_Runner.runMacroFile(Macro_Runner.java:112)\n    at ij.IJ.runMacroFile(IJ.java:103)\n    at ij.ImageJ.main(ImageJ.java:517)\n</code></pre>\n\n<p>I have tried everything to solve this problem like :</p>\n\n<pre><code>export DISPLAY=:10.0\nexport DISPLAY=localhost:10.0\n</code></pre>\n\n<p>I tried also the port 0.0 but i get always the same error</p>\n\n<p>after trying xhost </p>\n\n<pre><code>xhost +local:all\nxhost:  unable to open display \"\"\nxhost:  unable to open display \":10.0\"\n</code></pre>\n\n<p>how can i fix this\ni thought that the X Server is not runing so i tried <code>startx</code> its says its runing at that port </p>\n\n<p>my system is Ubuntu server edition 10.04</p>\n"},{"tags":["java","jpa","annotations","java-ee-7"],"answers":[{"tags":[],"owner":{"account_id":5668327,"reputation":8372,"user_id":4483840,"accept_rate":75,"display_name":"Zielu"},"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1689153074,"creation_date":1428491232,"answer_id":29512901,"question_id":29511133,"body_markdown":"`@javax.persistence.Lob` signifies that the annotated field should be represented as BLOB (binary data) in the database.\r\n\r\nYou can annotate any `Serializable` data type with this annotation. \r\nIn JPA, upon persisting (retrieval) the field content will be serialized (deserialized) using standard Java serialization.\r\n\r\nCommon use of `@Lob` is to annotate a `HashMap` field inside your Entity to store some of the object properties which are not mapped into database columns. That way, all the unmapped values can be stored in the database in one column in their binary representation.\r\n\r\nOf course, the price that is paid is that, as they are stored in binary format, they are not searchable using the JPQL/SQL.","title":"What is the significance of @javax.persistence.Lob annotation in JPA?","body":"<p><code>@javax.persistence.Lob</code> signifies that the annotated field should be represented as BLOB (binary data) in the database.</p>\n<p>You can annotate any <code>Serializable</code> data type with this annotation.\nIn JPA, upon persisting (retrieval) the field content will be serialized (deserialized) using standard Java serialization.</p>\n<p>Common use of <code>@Lob</code> is to annotate a <code>HashMap</code> field inside your Entity to store some of the object properties which are not mapped into database columns. That way, all the unmapped values can be stored in the database in one column in their binary representation.</p>\n<p>Of course, the price that is paid is that, as they are stored in binary format, they are not searchable using the JPQL/SQL.</p>\n"},{"tags":[],"owner":{"account_id":3758424,"reputation":283,"user_id":3124214,"display_name":"levrun"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1491938166,"creation_date":1469699101,"answer_id":38632722,"question_id":29511133,"body_markdown":"According to: &lt;https://docs.oracle.com/javaee/7/api/javax/persistence/Lob.html&gt;\r\n\r\n**@Lob** Specifies that a persistent property or field should be persisted as a large object to a database-supported large object type.\r\n\r\n&gt; @javax.persistence.Lob signifies that the annotated field should be\r\n&gt; represented as BLOB (binary data) in the DataBase.\r\n\r\nI suppose in database it could be not only binary data but character-based.\r\nAs we could have BLOB and CLOB. Here&#39;s examples in java code:\r\n\r\n    @Lob\r\n    @Column(name = &quot;CHARS&quot;, columnDefinition = &quot;CLOB&quot;)\r\n    private String chars;`\r\n\r\n    @Lob\r\n    @Basic(fetch = FetchType.LAZY)\r\n    @Column(name = &quot;DATA&quot;, columnDefinition = &quot;BLOB&quot;, nullable = false)\r\n    private byte[] data;","title":"What is the significance of @javax.persistence.Lob annotation in JPA?","body":"<p>According to: <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/Lob.html\" rel=\"noreferrer\">https://docs.oracle.com/javaee/7/api/javax/persistence/Lob.html</a></p>\n\n<p><strong>@Lob</strong> Specifies that a persistent property or field should be persisted as a large object to a database-supported large object type.</p>\n\n<blockquote>\n  <p>@javax.persistence.Lob signifies that the annotated field should be\n  represented as BLOB (binary data) in the DataBase.</p>\n</blockquote>\n\n<p>I suppose in database it could be not only binary data but character-based.\nAs we could have BLOB and CLOB. Here's examples in java code:</p>\n\n<pre><code>@Lob\n@Column(name = \"CHARS\", columnDefinition = \"CLOB\")\nprivate String chars;`\n\n@Lob\n@Basic(fetch = FetchType.LAZY)\n@Column(name = \"DATA\", columnDefinition = \"BLOB\", nullable = false)\nprivate byte[] data;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21754239,"reputation":51,"user_id":16059817,"display_name":"masikkk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668489173,"creation_date":1668489173,"answer_id":74440884,"question_id":29511133,"body_markdown":"In my JPA + mysql test, java entity class field annotated with @Lob will generated `longtext` mysql column by auto ddl.","title":"What is the significance of @javax.persistence.Lob annotation in JPA?","body":"<p>In my JPA + mysql test, java entity class field annotated with @Lob will generated <code>longtext</code> mysql column by auto ddl.</p>\n"}],"owner":{"account_id":4873652,"reputation":13544,"user_id":3929393,"accept_rate":75,"display_name":"Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61553,"favorite_count":0,"down_vote_count":2,"up_vote_count":67,"accepted_answer_id":29512901,"answer_count":3,"score":65,"last_activity_date":1689153074,"creation_date":1428486143,"question_id":29511133,"body_markdown":" When should I use `@javax.persistence.Lob` annotation in JPA? What datatypes can be annotated by this annotation?","title":"What is the significance of @javax.persistence.Lob annotation in JPA?","body":"<p>When should I use <code>@javax.persistence.Lob</code> annotation in JPA? What datatypes can be annotated by this annotation?</p>\n"},{"tags":["java","spring","spring-boot","maven","tomcat"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689146379,"post_id":76667958,"comment_id":135170103,"body_markdown":"Remove the war plugin.","body":"Remove the war plugin."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689147758,"post_id":76667958,"comment_id":135170374,"body_markdown":"Does this answer your question? [Spring boot 3.0.1 application not running on tomcat9 external server](https://stackoverflow.com/questions/75017269/spring-boot-3-0-1-application-not-running-on-tomcat9-external-server)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75017269/spring-boot-3-0-1-application-not-running-on-tomcat9-external-server\">Spring boot 3.0.1 application not running on tomcat9 external server</a>"},{"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"score":0,"creation_date":1689151368,"post_id":76667958,"comment_id":135171244,"body_markdown":"i removed the war plugin and changed to tomcat 10 but still just work in my machine","body":"i removed the war plugin and changed to tomcat 10 but still just work in my machine"}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689146831,"creation_date":1689146831,"answer_id":76668080,"question_id":76667958,"body_markdown":"You&#39;re using Tomcat 9.0.x [which supports Servlet 4.0](https://tomcat.apache.org/whichversion.html) and Spring Boot 3.x which requires a Servlet 5.0+ compatible container. You will have to use Tomcat 10.1 if you want to be able to deploy a Spring Boot 3 application to it.","title":"Fail to deploy to local tomcat Spring boot 3.1","body":"<p>You're using Tomcat 9.0.x <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">which supports Servlet 4.0</a> and Spring Boot 3.x which requires a Servlet 5.0+ compatible container. You will have to use Tomcat 10.1 if you want to be able to deploy a Spring Boot 3 application to it.</p>\n"},{"tags":[],"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689152927,"creation_date":1689152927,"answer_id":76668900,"question_id":76667958,"body_markdown":"i removed this dependecy in my pom.xml file:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;version&gt;9.0.75&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\nAnd it worked!","title":"Fail to deploy to local tomcat Spring boot 3.1","body":"<p>i removed this dependecy in my pom.xml file:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;version&gt;9.0.75&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And it worked!</p>\n"}],"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76668080,"answer_count":2,"score":0,"last_activity_date":1689152964,"creation_date":1689145905,"question_id":76667958,"body_markdown":"I&#39;m very green in the backend part of the business, and i can&#39;t figure it out why i can&#39;t make my application work. \r\n \r\nIt is a simple WebHook fetcher from a JSON in Postman.  \r\nTested with postman it works when started it in localhost:8080 with Spring, it doesn&#39;t when i put the .war into the tomcat server.  \r\nIn order to create the .war file i use `mvn clean install` or `./mvn clean package`  \r\nThe terminal response to the second command is this one:\r\n\r\n       Plugin validation issues were detected in 1 plugin(s)\r\n      * org.apache.maven.plugins:maven-war-plugin:3.2.2\r\nCould that be why tomcat does not work? could be an issue with my code?  \r\nTomcat version is 9.0.78\r\nApplication.properties is empty.\r\n\r\nThis is my pom.xml:\r\n ```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;test.gio&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;TestFinal&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;TestFinal&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for webhook&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;version&gt;9.0.75&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.15.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;TestFinal&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n ```\r\nMy controller.java:\r\n``` \r\n\r\n@RestController\r\npublic class WebHookController {\r\n\r\n    @PostMapping(&quot;/webhook&quot;)\r\n    public ResponseEntity&lt;String&gt; webhook(@RequestBody OrderPayload orderPayload) {\r\n        System.out.println(&quot;Webhook received!&quot;);\r\n        orderPayloadService.processOrderPayload(orderPayload);\r\n        return ResponseEntity.ok(&quot;Webhook received! Sei un grande :)&quot;);\r\n    }\r\n\r\n  @GetMapping(&quot;/hello&quot;)\r\n    public String hello()\r\n    {\r\n        return &quot;Hello User, have a nice day.&quot;;\r\n    }\r\n}\r\n\r\n```\r\nMy Application.java:\r\n``` \r\n\r\n@SpringBootApplication\r\npublic class TestFinalApplication extends SpringBootServletInitializer {\r\n\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application)\r\n\t{\r\n\t\treturn application.sources(TestFinalApplication.class);\r\n\t}\r\n\t@RequestMapping(&quot;/TestFinal&quot;)\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(TestFinalApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\nAnd my servletinitializer.java:\r\n``` \r\npublic class ServletInitializer extends SpringBootServletInitializer {\r\n\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n\t\treturn application.sources(TestFinalApplication.class);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nCan you tell me what i did wrong i am very desperate","title":"Fail to deploy to local tomcat Spring boot 3.1","body":"<p>I'm very green in the backend part of the business, and i can't figure it out why i can't make my application work.</p>\n<p>It is a simple WebHook fetcher from a JSON in Postman.<br />\nTested with postman it works when started it in localhost:8080 with Spring, it doesn't when i put the .war into the tomcat server.<br />\nIn order to create the .war file i use <code>mvn clean install</code> or <code>./mvn clean package</code><br />\nThe terminal response to the second command is this one:</p>\n<pre><code>   Plugin validation issues were detected in 1 plugin(s)\n  * org.apache.maven.plugins:maven-war-plugin:3.2.2\n</code></pre>\n<p>Could that be why tomcat does not work? could be an issue with my code?<br />\nTomcat version is 9.0.78\nApplication.properties is empty.</p>\n<p>This is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;parent&gt;\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n       &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n       &lt;version&gt;3.1.1&lt;/version&gt;\n       &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n   &lt;/parent&gt;\n   &lt;groupId&gt;test.gio&lt;/groupId&gt;\n   &lt;artifactId&gt;TestFinal&lt;/artifactId&gt;\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n   &lt;packaging&gt;war&lt;/packaging&gt;\n   &lt;name&gt;TestFinal&lt;/name&gt;\n   &lt;description&gt;Demo project for webhook&lt;/description&gt;\n   &lt;properties&gt;\n       &lt;java.version&gt;17&lt;/java.version&gt;\n   &lt;/properties&gt;\n   &lt;dependencies&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n           &lt;scope&gt;provided&lt;/scope&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n           &lt;artifactId&gt;h2&lt;/artifactId&gt;\n           &lt;scope&gt;runtime&lt;/scope&gt;\n       &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n           &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n           &lt;scope&gt;provided&lt;/scope&gt;\n           &lt;version&gt;9.0.75&lt;/version&gt;\n       &lt;/dependency&gt;\n\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n           &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n           &lt;optional&gt;true&lt;/optional&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n           &lt;scope&gt;test&lt;/scope&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n           &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n           &lt;version&gt;2.15.2&lt;/version&gt;\n       &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n\n   &lt;build&gt;\n       &lt;finalName&gt;TestFinal&lt;/finalName&gt;\n       &lt;plugins&gt;\n           &lt;plugin&gt;\n               &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n               &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n               &lt;configuration&gt;\n                   &lt;excludes&gt;\n                       &lt;exclude&gt;\n                           &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                           &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                       &lt;/exclude&gt;\n                   &lt;/excludes&gt;\n               &lt;/configuration&gt;\n           &lt;/plugin&gt;\n           &lt;plugin&gt;\n               &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n               &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n               &lt;version&gt;3.2.2&lt;/version&gt;\n               &lt;configuration&gt;\n                   &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n               &lt;/configuration&gt;\n           &lt;/plugin&gt;\n       &lt;/plugins&gt;\n   &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>My controller.java:</p>\n<pre><code>\n@RestController\npublic class WebHookController {\n\n    @PostMapping(&quot;/webhook&quot;)\n    public ResponseEntity&lt;String&gt; webhook(@RequestBody OrderPayload orderPayload) {\n        System.out.println(&quot;Webhook received!&quot;);\n        orderPayloadService.processOrderPayload(orderPayload);\n        return ResponseEntity.ok(&quot;Webhook received! Sei un grande :)&quot;);\n    }\n\n  @GetMapping(&quot;/hello&quot;)\n    public String hello()\n    {\n        return &quot;Hello User, have a nice day.&quot;;\n    }\n}\n\n</code></pre>\n<p>My Application.java:</p>\n<pre><code>\n@SpringBootApplication\npublic class TestFinalApplication extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application)\n    {\n        return application.sources(TestFinalApplication.class);\n    }\n    @RequestMapping(&quot;/TestFinal&quot;)\n    public static void main(String[] args) {\n        SpringApplication.run(TestFinalApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>And my servletinitializer.java:</p>\n<pre><code>public class ServletInitializer extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(TestFinalApplication.class);\n    }\n\n}\n\n</code></pre>\n<p>Can you tell me what i did wrong i am very desperate</p>\n"},{"tags":["java","generics","javac"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1689152113,"post_id":76668751,"comment_id":135171430,"body_markdown":"Java is statically typed, the type of `raw` doesn&#39;t change because of an assigment. So it still is `GenericTest` and not `GenericTest&lt;String&gt;`.","body":"Java is statically typed, the type of <code>raw</code> doesn&#39;t change because of an assigment. So it still is <code>GenericTest</code> and not <code>GenericTest&lt;String&gt;</code>."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1689152185,"post_id":76668751,"comment_id":135171452,"body_markdown":"`raw` can hold all of them. `test1` and `test2` should crash after assigning them. There is no warning because no implicit unchecked casting happens","body":"<code>raw</code> can hold all of them. <code>test1</code> and <code>test2</code> should crash after assigning them. There is no warning because no implicit unchecked casting happens"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689152382,"creation_date":1689152382,"answer_id":76668814,"question_id":76668751,"body_markdown":"Consult the language specification for the definition of [Unchecked conversion](https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.1.9):\r\n\r\n&gt; There is an unchecked conversion from the raw class or interface type (&#167;4.8) G to any parameterized type of the form G&lt;T1,...,Tn&gt;.\r\n&gt;\r\n&gt; There is an unchecked conversion from the raw array type G[]k to any array type of the form G&lt;T1,...,Tn&gt;[]k. (The notation []k indicates an array type of k dimensions.)\r\n\r\nNote that the direction of conversion is _from_ raw _to_ parameterized.\r\n\r\nTo answer the question as to why you don&#39;t need to be warned about a conversion in the parameterized to raw direction: yes, it&#39;s because &quot;it does not cause any further loss of type safety that already had occurred&quot;, as you suggested in the question.","title":"Unchecked warnings of java compiler does not occur in some cases","body":"<p>Consult the language specification for the definition of <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.1.9\" rel=\"nofollow noreferrer\">Unchecked conversion</a>:</p>\n<blockquote>\n<p>There is an unchecked conversion from the raw class or interface type (§4.8) G to any parameterized type of the form G&lt;T1,...,Tn&gt;.</p>\n<p>There is an unchecked conversion from the raw array type G[]k to any array type of the form G&lt;T1,...,Tn&gt;[]k. (The notation []k indicates an array type of k dimensions.)</p>\n</blockquote>\n<p>Note that the direction of conversion is <em>from</em> raw <em>to</em> parameterized.</p>\n<p>To answer the question as to why you don't need to be warned about a conversion in the parameterized to raw direction: yes, it's because &quot;it does not cause any further loss of type safety that already had occurred&quot;, as you suggested in the question.</p>\n"}],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76668814,"answer_count":1,"score":0,"last_activity_date":1689152383,"creation_date":1689151895,"question_id":76668751,"body_markdown":"Consider this very simple generic class:\r\n\r\n    class GenericTest&lt;T&gt; {\r\n        T t;\r\n        GenericTest(T t) {\r\n            this.t = t;\r\n        }\r\n    }\r\n\r\nI created multiple objects of this class, one of them is **raw type**:\r\n\r\n    class App {\r\n        public static void main(String[] args) {\r\n            GenericTest&lt;String&gt; test1 = new GenericTest&lt;&gt;(&quot;Test 1&quot;);\r\n            GenericTest&lt;String&gt; test2 = new GenericTest&lt;&gt;(&quot;Test 2&quot;);\r\n            GenericTest&lt;String&gt; test3 = new GenericTest&lt;&gt;(&quot;Test 3&quot;);\r\n    \r\n            GenericTest raw = new GenericTest(1.0); // Line 19\r\n    \r\n            test1 = raw; // Line 21\r\n            test2 = raw; // Line 22\r\n            raw = test3; // Line 23\r\n        }\r\n    }\r\n\r\nwhen compiling the project it shows **3 warnings** for these lines:\r\n\r\n&gt;     App.java:19: warning: [unchecked] unchecked call to GenericTest(T) as a member of the raw type GenericTest\r\n&gt;     App.java:21: warning: [unchecked] unchecked conversion\r\n&gt;     App.java:22: warning: [unchecked] unchecked conversion\r\n\r\n**My question is why it doesn&#39;t give a warning for the third assignment `raw = test3;`?**\r\n\r\n&lt;hr /&gt;\r\n\r\n***One possible answer**: because it does not cause any further loss of type safety that already had occurred.*\r\n- but it also was true when the second assignment `test2 = raw;` (line 22) so it should not issued any warning for the same reason, because it does not cause any further loss of type safety than line 21.\r\n","title":"Unchecked warnings of java compiler does not occur in some cases","body":"<p>Consider this very simple generic class:</p>\n<pre><code>class GenericTest&lt;T&gt; {\n    T t;\n    GenericTest(T t) {\n        this.t = t;\n    }\n}\n</code></pre>\n<p>I created multiple objects of this class, one of them is <strong>raw type</strong>:</p>\n<pre><code>class App {\n    public static void main(String[] args) {\n        GenericTest&lt;String&gt; test1 = new GenericTest&lt;&gt;(&quot;Test 1&quot;);\n        GenericTest&lt;String&gt; test2 = new GenericTest&lt;&gt;(&quot;Test 2&quot;);\n        GenericTest&lt;String&gt; test3 = new GenericTest&lt;&gt;(&quot;Test 3&quot;);\n\n        GenericTest raw = new GenericTest(1.0); // Line 19\n\n        test1 = raw; // Line 21\n        test2 = raw; // Line 22\n        raw = test3; // Line 23\n    }\n}\n</code></pre>\n<p>when compiling the project it shows <strong>3 warnings</strong> for these lines:</p>\n<blockquote>\n<pre><code>App.java:19: warning: [unchecked] unchecked call to GenericTest(T) as a member of the raw type GenericTest\nApp.java:21: warning: [unchecked] unchecked conversion\nApp.java:22: warning: [unchecked] unchecked conversion\n</code></pre>\n</blockquote>\n<p><strong>My question is why it doesn't give a warning for the third assignment <code>raw = test3;</code>?</strong></p>\n<hr />\n<p><em><strong>One possible answer</strong>: because it does not cause any further loss of type safety that already had occurred.</em></p>\n<ul>\n<li>but it also was true when the second assignment <code>test2 = raw;</code> (line 22) so it should not issued any warning for the same reason, because it does not cause any further loss of type safety than line 21.</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1689151680,"post_id":76668713,"comment_id":135171315,"body_markdown":"You can use `substring`, no need to involve regex.","body":"You can use <code>substring</code>, no need to involve regex."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1689151735,"post_id":76668713,"comment_id":135171336,"body_markdown":"By the way, why didn&#39;t you wait for your [other (now deleted) question](https://stackoverflow.com/questions/76667820/java-how-to-crate-masking-phone-number) to be reopened instead of going through the trouble of rewriting it again with a different user?","body":"By the way, why didn&#39;t you wait for your <a href=\"https://stackoverflow.com/questions/76667820/java-how-to-crate-masking-phone-number\">other (now deleted) question</a> to be reopened instead of going through the trouble of rewriting it again with a different user?"},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":1,"creation_date":1689151844,"post_id":76668713,"comment_id":135171361,"body_markdown":"Use [StringUtils.overlay()](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#overlay-java.lang.String-java.lang.String-int-int-)","body":"Use <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#overlay-java.lang.String-java.lang.String-int-int-\" rel=\"nofollow noreferrer\">StringUtils.overlay()</a>"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1689152033,"post_id":76668713,"comment_id":135171415,"body_markdown":"I don&#39;t get it: What is the input string for the method that should give you the expected result? It&#39;s clearly not `&quot;0813*****129&quot;` as this does neither end in 6600 nor in 664, and also does not start with +6287. Please add details about inputs you give, results you would expect and actual results. (2 or 3 complete test cases wouldn&#39;t hurt)","body":"I don&#39;t get it: What is the input string for the method that should give you the expected result? It&#39;s clearly not <code>&quot;0813*****129&quot;</code> as this does neither end in 6600 nor in 664, and also does not start with +6287. Please add details about inputs you give, results you would expect and actual results. (2 or 3 complete test cases wouldn&#39;t hurt)"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689152150,"creation_date":1689152150,"answer_id":76668780,"question_id":76668713,"body_markdown":"I would use a regex based approach here:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;081312345129&quot;;\r\n    String masked = input.replaceAll(&quot;(?&lt;=\\\\d{4})\\\\d(?=\\\\d{3})&quot;, &quot;*&quot;);\r\n    System.out.println(masked);  // 0813*****129\r\n\r\nThe regex used here says to match any number for which:\r\n\r\n - `(?&lt;=\\d{4})` we can look behind and see at least 4 numbers (i.e. retain first 4 numbers)\r\n - `(?=\\d{3})` we can look ahead and see at least 3 numbers (i.e. keep last 3 numbers)","title":"Java How To Crate masking phone number","body":"<p>I would use a regex based approach here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;081312345129&quot;;\nString masked = input.replaceAll(&quot;(?&lt;=\\\\d{4})\\\\d(?=\\\\d{3})&quot;, &quot;*&quot;);\nSystem.out.println(masked);  // 0813*****129\n</code></pre>\n<p>The regex used here says to match any number for which:</p>\n<ul>\n<li><code>(?&lt;=\\d{4})</code> we can look behind and see at least 4 numbers (i.e. retain first 4 numbers)</li>\n<li><code>(?=\\d{3})</code> we can look ahead and see at least 3 numbers (i.e. keep last 3 numbers)</li>\n</ul>\n"}],"owner":{"account_id":17058657,"reputation":27,"user_id":12342586,"display_name":"Putra Irawan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76668780,"answer_count":1,"score":-2,"last_activity_date":1689152150,"creation_date":1689151560,"question_id":76668713,"body_markdown":"how do you make a masking string of the first 4 digits and the last 3 digits, apart from that in masking.. as an example: 0813*****129 I&#39;ve tried to do like this \r\n\r\n    public static String maskingPhoneNumber(String value) {\r\n            return value.replaceAll(&quot;[^\\\\d\\\\+628|08]&quot;, &quot;&quot;).replaceAll(&quot;\\\\d(?=\\\\d{4})&quot;, &quot;X&quot;);\r\n        } \r\n\r\n and **result XXXXXXXX6600 not expected**\r\n\r\nexpected the below : \r\n\r\n[![expected this picture](https://i.stack.imgur.com/Gcf8a.png)](https://i.stack.imgur.com/Gcf8a.png)","title":"Java How To Crate masking phone number","body":"<p>how do you make a masking string of the first 4 digits and the last 3 digits, apart from that in masking.. as an example: 0813*****129 I've tried to do like this</p>\n<pre><code>public static String maskingPhoneNumber(String value) {\n        return value.replaceAll(&quot;[^\\\\d\\\\+628|08]&quot;, &quot;&quot;).replaceAll(&quot;\\\\d(?=\\\\d{4})&quot;, &quot;X&quot;);\n    } \n</code></pre>\n<p>and <strong>result XXXXXXXX6600 not expected</strong></p>\n<p>expected the below :</p>\n<p><a href=\"https://i.stack.imgur.com/Gcf8a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gcf8a.png\" alt=\"expected this picture\" /></a></p>\n"},{"tags":["java","spring","spring-boot","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":4236992,"reputation":1377,"user_id":3467894,"accept_rate":42,"display_name":"Michal Špondr"},"score":0,"creation_date":1668156813,"post_id":74399754,"comment_id":131342071,"body_markdown":"I am trying to find and release notes information regarding the change, but so far I haven&#39;t found anything that would help me. https://github.com/springdoc/springdoc-openapi/releases/tag/v1.6.7","body":"I am trying to find and release notes information regarding the change, but so far I haven&#39;t found anything that would help me. <a href=\"https://github.com/springdoc/springdoc-openapi/releases/tag/v1.6.7\" rel=\"nofollow noreferrer\">github.com/springdoc/springdoc-openapi/releases/tag/v1.6.7</a>"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1668160636,"post_id":74399754,"comment_id":131343328,"body_markdown":"Can you search in your IDE dependencies for `swagger-annotations` or do `mvn dependency:tree | grep swagger-annotations`   I am trying to see if you have any exclusions or perhaps different (older versions) are included somehow...","body":"Can you search in your IDE dependencies for <code>swagger-annotations</code> or do <code>mvn dependency:tree | grep swagger-annotations</code>   I am trying to see if you have any exclusions or perhaps different (older versions) are included somehow..."},{"owner":{"account_id":4236992,"reputation":1377,"user_id":3467894,"accept_rate":42,"display_name":"Michal Špondr"},"score":0,"creation_date":1668165964,"post_id":74399754,"comment_id":131345099,"body_markdown":"@JCompetence I&#39;ve added related mvn dependency:tree to the post. Trees seem to be same when using both 1.6.6 and latest 1.6.12 versions.","body":"@JCompetence I&#39;ve added related mvn dependency:tree to the post. Trees seem to be same when using both 1.6.6 and latest 1.6.12 versions."},{"owner":{"account_id":4236992,"reputation":1377,"user_id":3467894,"accept_rate":42,"display_name":"Michal Špondr"},"score":1,"creation_date":1668166383,"post_id":74399754,"comment_id":131345222,"body_markdown":"@JCompetence I&#39;ve tried to override the dependency by using io.swagger.core.v3.swagger-annotations:2.2.6 and it started working. Thanks for the hint!","body":"@JCompetence I&#39;ve tried to override the dependency by using io.swagger.core.v3.swagger-annotations:2.2.6 and it started working. Thanks for the hint!"}],"answers":[{"tags":[],"owner":{"account_id":4236992,"reputation":1377,"user_id":3467894,"accept_rate":42,"display_name":"Michal Špondr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1668176074,"creation_date":1668176074,"answer_id":74403767,"question_id":74399754,"body_markdown":"The problem was caused by the older version of package *io.swagger.core.v3:swagger-annotations:**2.1.10***, which was added to the project by a transitive dependency (latest version is 2.2.6 at the moment).\r\n\r\nThere are 2 possible solutions:\r\n\r\n**Force the use of the latest version of the *swagger-annotations* package.**\r\n\r\n\r\nor\r\n\r\n**Exclude the *swagger-annotations* package dependency**:\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n    &lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;\r\n    &lt;version&gt;7.2.2&lt;/version&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n*swagger-annotations* then enters the project as a transitive dependency of the springdoc-openapi-ui package.\r\n","title":"springdoc-openapi-ui:1.6.7 and higher does not display API UI","body":"<p>The problem was caused by the older version of package <em>io.swagger.core.v3:swagger-annotations:<strong>2.1.10</strong></em>, which was added to the project by a transitive dependency (latest version is 2.2.6 at the moment).</p>\n<p>There are 2 possible solutions:</p>\n<p><strong>Force the use of the latest version of the <em>swagger-annotations</em> package.</strong></p>\n<p>or</p>\n<p><strong>Exclude the <em>swagger-annotations</em> package dependency</strong>:</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;io.confluent&lt;/groupId&gt;\n&lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;\n&lt;version&gt;7.2.2&lt;/version&gt;\n&lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\n        &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><em>swagger-annotations</em> then enters the project as a transitive dependency of the springdoc-openapi-ui package.</p>\n"},{"tags":[],"owner":{"account_id":5733229,"reputation":546,"user_id":4528146,"display_name":"Tasos Zervos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689151858,"creation_date":1689096166,"answer_id":76664404,"question_id":74399754,"body_markdown":"I have found that when using `org.springdoc:springdoc-openapi-starter-webmvc-ui:2.1.0`, the exclusion solution wasn&#39;t working anymore.\r\n\r\nThere is a jakarta-related change to its dependencies and it now uses:&lt;br/&gt;\r\n`io.swagger.core.v3:swagger-annotations-jakarta`! [related announcement][1]\r\n\r\nThis is the solution that worked for me:\r\n```\r\ndependencies {\r\n    modules {\r\n        module(&quot;io.swagger.core.v3:swagger-annotations&quot;) {\r\n            replacedBy(&quot;io.swagger.core.v3:swagger-annotations-jakarta&quot;, &quot;swagger-annotations now supports jakarta namespace&quot;)\r\n        }\r\n    }\r\n...\r\n```\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#note-jakarta-namespace-support-since-version-217","title":"springdoc-openapi-ui:1.6.7 and higher does not display API UI","body":"<p>I have found that when using <code>org.springdoc:springdoc-openapi-starter-webmvc-ui:2.1.0</code>, the exclusion solution wasn't working anymore.</p>\n<p>There is a jakarta-related change to its dependencies and it now uses:<br/>\n<code>io.swagger.core.v3:swagger-annotations-jakarta</code>! <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#note-jakarta-namespace-support-since-version-217\" rel=\"nofollow noreferrer\">related announcement</a></p>\n<p>This is the solution that worked for me:</p>\n<pre><code>dependencies {\n    modules {\n        module(&quot;io.swagger.core.v3:swagger-annotations&quot;) {\n            replacedBy(&quot;io.swagger.core.v3:swagger-annotations-jakarta&quot;, &quot;swagger-annotations now supports jakarta namespace&quot;)\n        }\n    }\n...\n</code></pre>\n"}],"owner":{"account_id":4236992,"reputation":1377,"user_id":3467894,"accept_rate":42,"display_name":"Michal Špondr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1782,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74403767,"answer_count":2,"score":1,"last_activity_date":1689151858,"creation_date":1668154939,"question_id":74399754,"body_markdown":"I have this Spring project:\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt;\r\n\t&lt;/parent&gt;\r\n\r\nand this dependency:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nEverything works, API UI is displayed.\r\n\r\nHowever, when I upgrade springdoc-openapi-ui to version 1.6.7 and higher, I get this exception when I visit the API UI:\r\n\r\n    HttpStatus: 500 INTERNAL_SERVER_ERROR: {}.\r\n    org.springframework.web.util.NestedServletException: handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: io/swagger/v3/oas/annotations/media/PatternProperties\r\n\r\nThis is displayed when you visit the API UI page:\r\n[![enter image description here][1]][1]\r\n\r\nUpdate:\r\n\r\nHere&#39;s related `mvn dependency:tree` output:\r\n\r\n    [INFO] |  +- org.springframework.kafka:spring-kafka:jar:2.8.10:compile\r\n    [INFO] |  |  +- org.springframework:spring-context:jar:5.3.23:compile\r\n    [INFO] |  |  +- org.springframework:spring-messaging:jar:5.3.23:compile\r\n    [INFO] |  |  +- org.springframework:spring-tx:jar:5.3.23:compile\r\n    [INFO] |  |  \\- org.apache.kafka:kafka-clients:jar:3.1.2:compile\r\n    [INFO] |  |     +- com.github.luben:zstd-jni:jar:1.5.0-4:runtime\r\n    [INFO] |  |     +- org.lz4:lz4-java:jar:1.8.0:runtime\r\n    [INFO] |  |     \\- org.xerial.snappy:snappy-java:jar:1.1.8.4:runtime\r\n    [INFO] |  \\- io.confluent:kafka-avro-serializer:jar:7.2.1:compile\r\n    [INFO] |     +- org.apache.avro:avro:jar:1.11.0:compile\r\n    [INFO] |     +- io.confluent:kafka-schema-serializer:jar:7.2.1:compile\r\n    [INFO] |     +- io.confluent:kafka-schema-registry-client:jar:7.2.1:compile\r\n    [INFO] |     |  \\- io.swagger.core.v3:swagger-annotations:jar:2.1.10:compile\r\n\r\n\r\n\r\nWhat has changed and what needs to be modified?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dpWnB.png","title":"springdoc-openapi-ui:1.6.7 and higher does not display API UI","body":"<p>I have this Spring project:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.5&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>and this dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.6.6&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Everything works, API UI is displayed.</p>\n<p>However, when I upgrade springdoc-openapi-ui to version 1.6.7 and higher, I get this exception when I visit the API UI:</p>\n<pre><code>HttpStatus: 500 INTERNAL_SERVER_ERROR: {}.\norg.springframework.web.util.NestedServletException: handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: io/swagger/v3/oas/annotations/media/PatternProperties\n</code></pre>\n<p>This is displayed when you visit the API UI page:\n<a href=\"https://i.stack.imgur.com/dpWnB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dpWnB.png\" alt=\"enter image description here\" /></a></p>\n<p>Update:</p>\n<p>Here's related <code>mvn dependency:tree</code> output:</p>\n<pre><code>[INFO] |  +- org.springframework.kafka:spring-kafka:jar:2.8.10:compile\n[INFO] |  |  +- org.springframework:spring-context:jar:5.3.23:compile\n[INFO] |  |  +- org.springframework:spring-messaging:jar:5.3.23:compile\n[INFO] |  |  +- org.springframework:spring-tx:jar:5.3.23:compile\n[INFO] |  |  \\- org.apache.kafka:kafka-clients:jar:3.1.2:compile\n[INFO] |  |     +- com.github.luben:zstd-jni:jar:1.5.0-4:runtime\n[INFO] |  |     +- org.lz4:lz4-java:jar:1.8.0:runtime\n[INFO] |  |     \\- org.xerial.snappy:snappy-java:jar:1.1.8.4:runtime\n[INFO] |  \\- io.confluent:kafka-avro-serializer:jar:7.2.1:compile\n[INFO] |     +- org.apache.avro:avro:jar:1.11.0:compile\n[INFO] |     +- io.confluent:kafka-schema-serializer:jar:7.2.1:compile\n[INFO] |     +- io.confluent:kafka-schema-registry-client:jar:7.2.1:compile\n[INFO] |     |  \\- io.swagger.core.v3:swagger-annotations:jar:2.1.10:compile\n</code></pre>\n<p>What has changed and what needs to be modified?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1688851318,"post_id":76644954,"comment_id":135130257,"body_markdown":"The better layout for the two-column `JPanel` is a `GridBagLayout`.","body":"The better layout for the two-column <code>JPanel</code> is a <code>GridBagLayout</code>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1688859266,"post_id":76644954,"comment_id":135130822,"body_markdown":"Some `GroupLayout` advantages are illustrated [here](https://stackoverflow.com/a/8504753/230513).","body":"Some <code>GroupLayout</code> advantages are illustrated <a href=\"https://stackoverflow.com/a/8504753/230513\">here</a>."},{"owner":{"account_id":4343067,"reputation":198,"user_id":3545835,"accept_rate":50,"display_name":"samgi"},"score":0,"creation_date":1688906991,"post_id":76644954,"comment_id":135134447,"body_markdown":"you need to create a new class and copy both codes into that class. then remove one main method. create a new panel with flowLayout. add two panels to it. to use both guis. but as I see you are very new to swing. So you can try an IDE like Netbeans or IntelJ to create GUI easily.","body":"you need to create a new class and copy both codes into that class. then remove one main method. create a new panel with flowLayout. add two panels to it. to use both guis. but as I see you are very new to swing. So you can try an IDE like Netbeans or IntelJ to create GUI easily."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689151181,"creation_date":1689061993,"answer_id":76659765,"question_id":76644954,"body_markdown":"You can combine (as commented) both applications into one and add them to a [`JPanel`](https://docs.oracle.com/javase/tutorial/uiswing/components/panel.html) with a [`FlowLayout`](https://docs.oracle.com/javase/tutorial/uiswing/layout/flow.html).  \r\nFor instance, you can define a new class named `CombinedApplication` that includes the logic from both of your previous applications, and include a `createUI` method to set up the main UI. Each section of the UI will get their separate methods.\r\n\r\nSomething like [this code](https://www.sololearn.com/compiler-playground/cXn00LVA3DtO/) (I had to remove references to `LabelStyle.getAllStyles` or `JTextFieldNumeric`, which might be part of the [`codenameone/CodenameOne`](https://github.com/codenameone/CodenameOne) project).\r\n\r\n``` java\r\npackage com.tutorialspoint.gui;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport javax.swing.border.*;\r\nimport java.util.stream.Stream;\r\n// import com.codename1.ui.*;\r\n// import com.codename1.ui.plaf.*;\r\n\r\n\r\npublic class CombinedApplication {\r\n    private DefaultTableModel tableModel;\r\n    private JButton fixButton;\r\n    private JButton resetButton;\r\n    private JButton cancelButton;\r\n    private JPanel ui;\r\n    private static final String APP_NAME = &quot;Your App Name&quot;;\r\n\r\n    public CombinedApplication() {\r\n        // Initialization logic from your first application.\r\n        tableModel = new DefaultTableModel();\r\n        tableModel.addColumn(&quot;Style&quot;);\r\n        tableModel.addColumn(&quot;Prefix&quot;);\r\n        tableModel.addColumn(&quot;From&quot;);\r\n        tableModel.addColumn(&quot;To&quot;);\r\n        tableModel.addRow(\r\n                new String[]{&quot;Table A 00&quot;, &quot;Table A 01&quot;, &quot;Table A 02&quot;, &quot;Table A 03&quot;});\r\n        tableModel.addRow(\r\n                new String[]{&quot;Table A 10&quot;, &quot;Table A 11&quot;, &quot;Table A 12&quot;, &quot;Table A 13&quot;});\r\n    }\r\n\r\n    public void createUI() {\r\n        // Create the main JFrame.\r\n        JFrame frame = new JFrame(&quot;Combined Application&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        // Create the first and second application sections.\r\n        JPanel firstAppSection = createFirstAppSection();\r\n        JPanel secondAppSection = createSecondAppSection();\r\n\r\n        // Create a panel with FlowLayout and add both sections.\r\n        JPanel mainPanel = new JPanel(new FlowLayout());\r\n        mainPanel.add(firstAppSection);\r\n        mainPanel.add(secondAppSection);\r\n\r\n        // Add the main panel to the frame and set it visible.\r\n        frame.getContentPane().add(mainPanel);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JPanel createFirstAppSection() {\r\n        final JPanel panel = new JPanel(new GridLayout(2, 1));\r\n        final JPanel tablePanel = createTablePanel();\r\n        panel.add(tablePanel);\r\n\r\n        return panel;\r\n    }\r\n\r\n    private JPanel createTablePanel() {\r\n        final JTable table = new JTable();\r\n        table.setModel(tableModel);\r\n\r\n        final JScrollPane scrollPane = new JScrollPane(table);\r\n        scrollPane.setPreferredSize(new Dimension(400, 120));\r\n        final JPanel tablePanel = new JPanel();\r\n        tablePanel.add(scrollPane);\r\n        tablePanel.setBorder(BorderFactory.createTitledBorder(&quot;Page styles&quot;));\r\n        return tablePanel;\r\n    }\r\n\r\n    private JPanel createSecondAppSection() {\r\n        // Copy the code from your second application that initializes the UI,\r\n        // but use getTwoColumnLayout for the two-column layout.\r\n\r\n        // Initialization logic for your second application.\r\n\r\n        ui = new JPanel(new BorderLayout(4, 4));\r\n        ui.setBorder(new EmptyBorder(4, 4, 4, 4));\r\n\r\n        final JPanel jPanel = new JPanel(new BorderLayout());\r\n        ui.add(jPanel);\r\n\r\n        final JPanel actionPanel = new JPanel(new FlowLayout(FlowLayout.CENTER, 15, 15));\r\n        jPanel.add(actionPanel, BorderLayout.PAGE_END);\r\n\r\n        this.fixButton = new JButton(&quot;Fix&quot;);\r\n        this.resetButton = new JButton(&quot;Reset&quot;);\r\n        this.cancelButton = new JButton(&quot;Cancel&quot;);\r\n\r\n        Stream.of(fixButton, resetButton, cancelButton).forEach(actionPanel::add);\r\n\r\n        final String[] labels = { &quot;Page label style&quot;, &quot;Start page&quot;, &quot;Remove bookmarks&quot; };\r\n        final String[] ccString = labels;\r\n\r\n        final JPanel checkBoxPanel = new JPanel(new FlowLayout(FlowLayout.LEADING, 0, 0));\r\n        checkBoxPanel.add(new JCheckBox(&quot;&quot;, false));\r\n\r\n        final JComponent[] controls = { new JComboBox&lt;&gt;(ccString), new JTextField(5),\r\n            checkBoxPanel };\r\n\r\n        jPanel.add(getTwoColumnLayout(labels, controls));\r\n\r\n        final Border insideBorder = new CompoundBorder(new EmptyBorder(10, 10, 5, 10),\r\n            new TitledBorder(APP_NAME));\r\n        final Border border = new CompoundBorder(insideBorder, new EmptyBorder(10, 10, 5, 10));\r\n        jPanel.setBorder(border);\r\n\r\n        // Add mnemonics to buttons\r\n        addMnemonics();\r\n\r\n        return ui;\r\n    }\r\n\r\n    private void addMnemonics() {\r\n        // Copy the code from your second application that sets the mnemonics.\r\n    }\r\n\r\n    private JComponent getTwoColumnLayout(final String[] labelStrings, final JComponent[] fields) {\r\n        if (labelStrings.length != fields.length) {\r\n            throw new IllegalArgumentException(\r\n                    &quot;Different number of labels and fields!&quot;);\r\n        }\r\n\r\n        final JPanel panel = new JPanel(new GridBagLayout());\r\n        final GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.fill = GridBagConstraints.HORIZONTAL;\r\n\r\n        for (int i = 0; i &lt; labelStrings.length; i++) {\r\n            gbc.gridx = 0;\r\n            gbc.gridy = i;\r\n            gbc.weightx = 0.5;\r\n            panel.add(new JLabel(labelStrings[i]), gbc);\r\n\r\n            gbc.gridx = 1;\r\n            panel.add(fields[i], gbc);\r\n        }\r\n\r\n        return panel;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; new CombinedApplication().createUI());\r\n    }\r\n}\r\n```\r\n\r\nThe `CombinedApplication` class has a `createUI` method that sets up the main UI of the combined application. It creates a `JPanel` with a `FlowLayout`, adds both application sections to it, and sets this panel as the content pane of the main `JFrame`.\r\n\r\nThe `createFirstAppSection` and `createSecondAppSection` methods return `JPanel` instances that represent the UI sections of your first and second applications, respectively. \r\n\r\n- The `createFirstAppSection` method should include the logic from your first application that creates the single-column table and adds it to a `JPanel`, and \r\n- the `createSecondAppSection` method should include the logic from your second application that creates the two-column layout and adds it to a `JPanel`.\r\n\r\nThat way, both of your applications will be displayed side by side in the same window, thanks to the `FlowLayout` of the main panel.\r\n\r\nThe [`GridBagLayout`](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html) and a `GridBagConstraints` object set the constraints for each component. The `fill` field is set to `GridBagConstraints.HORIZONTAL` to allow components to fill their cells horizontally. The `weightx` field is set to `0.5` to distribute extra horizontal space evenly between the two columns.\r\n\r\nFor each label and field,  the `gridx` and `gridy` fields are set to specify the cell in the grid where the component should be placed. For labels, `gridx` is 0 (the first column) and for fields, `gridx` is 1 (the second column). The `gridy` value is increased for each new row.\r\n\r\nThe `addMnemonics` method is used the same as in your original code. \r\n\r\nThe result should be a two-column layout, similar to the one created with `GroupLayout`. The specifics of the layout can be adjusted by changing the[ `GridBagConstraints`](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html#gridbagConstraints). For example, you can set `insets` to add padding around components, `ipadx` and `ipady` to set the internal padding of the components, and `anchor` to specify where in the cell the component should be placed if it does not fill the cell entirely.\r\n\r\n-----\r\n\r\n&gt;  You wrote both of your applications will be displayed side by side in the same window, thanks to the `FlowLayout` of the main panel.  \r\nHow do I display my application one below the other? Which layout should I choose?\r\n\r\nIf you want to display your applications one below the other, you should use the [`BoxLayout` layout manager](https://docs.oracle.com/javase/tutorial/uiswing/layout/box.html) with a `BoxLayout.PAGE_AXIS` or `BoxLayout.Y_AXIS` orientation. That layout manager will arrange your components in a single column, top to bottom.\r\n\r\nHere is how you can modify the main panel to use a `BoxLayout`:\r\n\r\n```java\r\n// main panel with BoxLayout\r\nJPanel mainPanel = new JPanel();\r\nBoxLayout boxlayout = new BoxLayout(mainPanel, BoxLayout.Y_AXIS);\r\nmainPanel.setLayout(boxlayout);\r\nmainPanel.add(app1Panel);\r\nmainPanel.add(app2Panel);\r\n```\r\n\r\nJust replace the creation of the `mainPanel` in your combined application with this code, and the two applications should appear one below the other. Note that the `BoxLayout` constructor takes two parameters: the container that it is applied to, and the axis along which the components will be arranged.\r\n\r\n----\r\n\r\n&gt; How do I shorten the vertical space between two applications (one above, one below)? \r\n\r\nYou can control the vertical space between components in a `BoxLayout` using a [`Border`](https://docs.oracle.com/javase/tutorial/uiswing/components/border.html) to the panels or directly inserting a rigid area between them.\r\n\r\n## Option 1: Using Borders\r\n\r\nYou can add an empty border to the bottom of the first application panel and the top of the second one to decrease the space between them.  \r\nAs an example:\r\n\r\n```java\r\napp1Panel.setBorder(BorderFactory.createEmptyBorder(0, 0, 5, 0)); // add a 5-pixel padding to the bottom\r\napp2Panel.setBorder(BorderFactory.createEmptyBorder(5, 0, 0, 0)); // add a 5-pixel padding to the top\r\n```\r\n\r\n## Option 2: Inserting a Rigid Area\r\n\r\nYou can also use [`Box.createRigidArea(Dimension d)`](http://www.java2s.com/Tutorial/Java/0240__Swing/CreatingRigidAreasStrut.htm) to add a fixed space between the two panels.  \r\nFor instance, to create a space of 5 pixels, you can do:\r\n\r\n```java\r\nmainPanel.add(Box.createRigidArea(new Dimension(0, 5)));\r\n```\r\n\r\nMake sure to add this line after adding `app1Panel` and before adding `app2Panel` to `mainPanel`. You can adjust the height in the `Dimension` argument to control the spacing.\r\n\r\nThese approaches give you fine control over the spacing between components, allowing you to achieve the precise layout you want.\r\n\r\n----\r\n\r\n&gt; I&#39;m missing something. I&#39;ve changed the code to what follows but I still have a huge gap. \r\n&gt; \r\n&gt; ``` java\r\n&gt; final JPanel app1Panel = createFirstAppSection();\r\n&gt; final JPanel app2Panel = createSecondAppSection();\r\n&gt; // main panel with BoxLayout\r\n&gt; final JPanel mainPanel = new JPanel();\r\n&gt; final BoxLayout boxlayout = new BoxLayout(mainPanel, BoxLayout.Y_AXIS);\r\n&gt; mainPanel.setLayout(boxlayout);\r\n&gt; mainPanel.add(app1Panel);\r\n&gt; mainPanel.add(Box.createRigidArea(new Dimension(0, 5)));\r\n&gt; mainPanel.add(app2Panel);\r\n&gt; ```\r\n\r\nFirst, make sure that the panels `app1Panel` and `app2Panel` do not have any extra space or padding that could cause the large gap. If these panels use a layout manager, ensure that the layout is not adding any extra space.\r\n\r\nAnd make sure the `BoxLayout` is not stretching the components. By default, `BoxLayout` will stretch components to fill the available space in the box&#39;s axis. If your `app1Panel` or `app2Panel` contains fewer components or uses a layout that does not use all the available space, it could be causing the gap. In this case, consider setting the maximum size of your components:\r\n\r\n```java\r\napp1Panel.setMaximumSize(app1Panel.getPreferredSize());\r\napp2Panel.setMaximumSize(app2Panel.getPreferredSize());\r\n```\r\nBefore adding them to the `mainPanel`.\r\n\r\nIf the above two points do not seem to be the cause, it might be the way the `mainPanel` is being added to its parent component or how the parent component&#39;s layout is set up. If the parent component of `mainPanel` is set up with a layout manager that stretches its child components, it could cause the `mainPanel` (and all its child components) to be stretched, creating the gap. \r\n\r\nConsider also using debugging methods to isolate the problem. One common method is setting the background color of different components to see exactly where the extra space is. That can help you identify whether the problem is in `app1Panel`, `app2Panel`, or `mainPanel`.\r\n","title":"Combine single column mode with two column mode in Swing","body":"<p>You can combine (as commented) both applications into one and add them to a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/panel.html\" rel=\"nofollow noreferrer\"><code>JPanel</code></a> with a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/flow.html\" rel=\"nofollow noreferrer\"><code>FlowLayout</code></a>.<br />\nFor instance, you can define a new class named <code>CombinedApplication</code> that includes the logic from both of your previous applications, and include a <code>createUI</code> method to set up the main UI. Each section of the UI will get their separate methods.</p>\n<p>Something like <a href=\"https://www.sololearn.com/compiler-playground/cXn00LVA3DtO/\" rel=\"nofollow noreferrer\">this code</a> (I had to remove references to <code>LabelStyle.getAllStyles</code> or <code>JTextFieldNumeric</code>, which might be part of the <a href=\"https://github.com/codenameone/CodenameOne\" rel=\"nofollow noreferrer\"><code>codenameone/CodenameOne</code></a> project).</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.tutorialspoint.gui;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.border.*;\nimport java.util.stream.Stream;\n// import com.codename1.ui.*;\n// import com.codename1.ui.plaf.*;\n\n\npublic class CombinedApplication {\n    private DefaultTableModel tableModel;\n    private JButton fixButton;\n    private JButton resetButton;\n    private JButton cancelButton;\n    private JPanel ui;\n    private static final String APP_NAME = &quot;Your App Name&quot;;\n\n    public CombinedApplication() {\n        // Initialization logic from your first application.\n        tableModel = new DefaultTableModel();\n        tableModel.addColumn(&quot;Style&quot;);\n        tableModel.addColumn(&quot;Prefix&quot;);\n        tableModel.addColumn(&quot;From&quot;);\n        tableModel.addColumn(&quot;To&quot;);\n        tableModel.addRow(\n                new String[]{&quot;Table A 00&quot;, &quot;Table A 01&quot;, &quot;Table A 02&quot;, &quot;Table A 03&quot;});\n        tableModel.addRow(\n                new String[]{&quot;Table A 10&quot;, &quot;Table A 11&quot;, &quot;Table A 12&quot;, &quot;Table A 13&quot;});\n    }\n\n    public void createUI() {\n        // Create the main JFrame.\n        JFrame frame = new JFrame(&quot;Combined Application&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        // Create the first and second application sections.\n        JPanel firstAppSection = createFirstAppSection();\n        JPanel secondAppSection = createSecondAppSection();\n\n        // Create a panel with FlowLayout and add both sections.\n        JPanel mainPanel = new JPanel(new FlowLayout());\n        mainPanel.add(firstAppSection);\n        mainPanel.add(secondAppSection);\n\n        // Add the main panel to the frame and set it visible.\n        frame.getContentPane().add(mainPanel);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    private JPanel createFirstAppSection() {\n        final JPanel panel = new JPanel(new GridLayout(2, 1));\n        final JPanel tablePanel = createTablePanel();\n        panel.add(tablePanel);\n\n        return panel;\n    }\n\n    private JPanel createTablePanel() {\n        final JTable table = new JTable();\n        table.setModel(tableModel);\n\n        final JScrollPane scrollPane = new JScrollPane(table);\n        scrollPane.setPreferredSize(new Dimension(400, 120));\n        final JPanel tablePanel = new JPanel();\n        tablePanel.add(scrollPane);\n        tablePanel.setBorder(BorderFactory.createTitledBorder(&quot;Page styles&quot;));\n        return tablePanel;\n    }\n\n    private JPanel createSecondAppSection() {\n        // Copy the code from your second application that initializes the UI,\n        // but use getTwoColumnLayout for the two-column layout.\n\n        // Initialization logic for your second application.\n\n        ui = new JPanel(new BorderLayout(4, 4));\n        ui.setBorder(new EmptyBorder(4, 4, 4, 4));\n\n        final JPanel jPanel = new JPanel(new BorderLayout());\n        ui.add(jPanel);\n\n        final JPanel actionPanel = new JPanel(new FlowLayout(FlowLayout.CENTER, 15, 15));\n        jPanel.add(actionPanel, BorderLayout.PAGE_END);\n\n        this.fixButton = new JButton(&quot;Fix&quot;);\n        this.resetButton = new JButton(&quot;Reset&quot;);\n        this.cancelButton = new JButton(&quot;Cancel&quot;);\n\n        Stream.of(fixButton, resetButton, cancelButton).forEach(actionPanel::add);\n\n        final String[] labels = { &quot;Page label style&quot;, &quot;Start page&quot;, &quot;Remove bookmarks&quot; };\n        final String[] ccString = labels;\n\n        final JPanel checkBoxPanel = new JPanel(new FlowLayout(FlowLayout.LEADING, 0, 0));\n        checkBoxPanel.add(new JCheckBox(&quot;&quot;, false));\n\n        final JComponent[] controls = { new JComboBox&lt;&gt;(ccString), new JTextField(5),\n            checkBoxPanel };\n\n        jPanel.add(getTwoColumnLayout(labels, controls));\n\n        final Border insideBorder = new CompoundBorder(new EmptyBorder(10, 10, 5, 10),\n            new TitledBorder(APP_NAME));\n        final Border border = new CompoundBorder(insideBorder, new EmptyBorder(10, 10, 5, 10));\n        jPanel.setBorder(border);\n\n        // Add mnemonics to buttons\n        addMnemonics();\n\n        return ui;\n    }\n\n    private void addMnemonics() {\n        // Copy the code from your second application that sets the mnemonics.\n    }\n\n    private JComponent getTwoColumnLayout(final String[] labelStrings, final JComponent[] fields) {\n        if (labelStrings.length != fields.length) {\n            throw new IllegalArgumentException(\n                    &quot;Different number of labels and fields!&quot;);\n        }\n\n        final JPanel panel = new JPanel(new GridBagLayout());\n        final GridBagConstraints gbc = new GridBagConstraints();\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n\n        for (int i = 0; i &lt; labelStrings.length; i++) {\n            gbc.gridx = 0;\n            gbc.gridy = i;\n            gbc.weightx = 0.5;\n            panel.add(new JLabel(labelStrings[i]), gbc);\n\n            gbc.gridx = 1;\n            panel.add(fields[i], gbc);\n        }\n\n        return panel;\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new CombinedApplication().createUI());\n    }\n}\n</code></pre>\n<p>The <code>CombinedApplication</code> class has a <code>createUI</code> method that sets up the main UI of the combined application. It creates a <code>JPanel</code> with a <code>FlowLayout</code>, adds both application sections to it, and sets this panel as the content pane of the main <code>JFrame</code>.</p>\n<p>The <code>createFirstAppSection</code> and <code>createSecondAppSection</code> methods return <code>JPanel</code> instances that represent the UI sections of your first and second applications, respectively.</p>\n<ul>\n<li>The <code>createFirstAppSection</code> method should include the logic from your first application that creates the single-column table and adds it to a <code>JPanel</code>, and</li>\n<li>the <code>createSecondAppSection</code> method should include the logic from your second application that creates the two-column layout and adds it to a <code>JPanel</code>.</li>\n</ul>\n<p>That way, both of your applications will be displayed side by side in the same window, thanks to the <code>FlowLayout</code> of the main panel.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\"><code>GridBagLayout</code></a> and a <code>GridBagConstraints</code> object set the constraints for each component. The <code>fill</code> field is set to <code>GridBagConstraints.HORIZONTAL</code> to allow components to fill their cells horizontally. The <code>weightx</code> field is set to <code>0.5</code> to distribute extra horizontal space evenly between the two columns.</p>\n<p>For each label and field,  the <code>gridx</code> and <code>gridy</code> fields are set to specify the cell in the grid where the component should be placed. For labels, <code>gridx</code> is 0 (the first column) and for fields, <code>gridx</code> is 1 (the second column). The <code>gridy</code> value is increased for each new row.</p>\n<p>The <code>addMnemonics</code> method is used the same as in your original code.</p>\n<p>The result should be a two-column layout, similar to the one created with <code>GroupLayout</code>. The specifics of the layout can be adjusted by changing the<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html#gridbagConstraints\" rel=\"nofollow noreferrer\"> <code>GridBagConstraints</code></a>. For example, you can set <code>insets</code> to add padding around components, <code>ipadx</code> and <code>ipady</code> to set the internal padding of the components, and <code>anchor</code> to specify where in the cell the component should be placed if it does not fill the cell entirely.</p>\n<hr />\n<blockquote>\n<p>You wrote both of your applications will be displayed side by side in the same window, thanks to the <code>FlowLayout</code> of the main panel.<br />\nHow do I display my application one below the other? Which layout should I choose?</p>\n</blockquote>\n<p>If you want to display your applications one below the other, you should use the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/box.html\" rel=\"nofollow noreferrer\"><code>BoxLayout</code> layout manager</a> with a <code>BoxLayout.PAGE_AXIS</code> or <code>BoxLayout.Y_AXIS</code> orientation. That layout manager will arrange your components in a single column, top to bottom.</p>\n<p>Here is how you can modify the main panel to use a <code>BoxLayout</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// main panel with BoxLayout\nJPanel mainPanel = new JPanel();\nBoxLayout boxlayout = new BoxLayout(mainPanel, BoxLayout.Y_AXIS);\nmainPanel.setLayout(boxlayout);\nmainPanel.add(app1Panel);\nmainPanel.add(app2Panel);\n</code></pre>\n<p>Just replace the creation of the <code>mainPanel</code> in your combined application with this code, and the two applications should appear one below the other. Note that the <code>BoxLayout</code> constructor takes two parameters: the container that it is applied to, and the axis along which the components will be arranged.</p>\n<hr />\n<blockquote>\n<p>How do I shorten the vertical space between two applications (one above, one below)?</p>\n</blockquote>\n<p>You can control the vertical space between components in a <code>BoxLayout</code> using a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/border.html\" rel=\"nofollow noreferrer\"><code>Border</code></a> to the panels or directly inserting a rigid area between them.</p>\n<h2>Option 1: Using Borders</h2>\n<p>You can add an empty border to the bottom of the first application panel and the top of the second one to decrease the space between them.<br />\nAs an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>app1Panel.setBorder(BorderFactory.createEmptyBorder(0, 0, 5, 0)); // add a 5-pixel padding to the bottom\napp2Panel.setBorder(BorderFactory.createEmptyBorder(5, 0, 0, 0)); // add a 5-pixel padding to the top\n</code></pre>\n<h2>Option 2: Inserting a Rigid Area</h2>\n<p>You can also use <a href=\"http://www.java2s.com/Tutorial/Java/0240__Swing/CreatingRigidAreasStrut.htm\" rel=\"nofollow noreferrer\"><code>Box.createRigidArea(Dimension d)</code></a> to add a fixed space between the two panels.<br />\nFor instance, to create a space of 5 pixels, you can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>mainPanel.add(Box.createRigidArea(new Dimension(0, 5)));\n</code></pre>\n<p>Make sure to add this line after adding <code>app1Panel</code> and before adding <code>app2Panel</code> to <code>mainPanel</code>. You can adjust the height in the <code>Dimension</code> argument to control the spacing.</p>\n<p>These approaches give you fine control over the spacing between components, allowing you to achieve the precise layout you want.</p>\n<hr />\n<blockquote>\n<p>I'm missing something. I've changed the code to what follows but I still have a huge gap.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final JPanel app1Panel = createFirstAppSection();\nfinal JPanel app2Panel = createSecondAppSection();\n// main panel with BoxLayout\nfinal JPanel mainPanel = new JPanel();\nfinal BoxLayout boxlayout = new BoxLayout(mainPanel, BoxLayout.Y_AXIS);\nmainPanel.setLayout(boxlayout);\nmainPanel.add(app1Panel);\nmainPanel.add(Box.createRigidArea(new Dimension(0, 5)));\nmainPanel.add(app2Panel);\n</code></pre>\n</blockquote>\n<p>First, make sure that the panels <code>app1Panel</code> and <code>app2Panel</code> do not have any extra space or padding that could cause the large gap. If these panels use a layout manager, ensure that the layout is not adding any extra space.</p>\n<p>And make sure the <code>BoxLayout</code> is not stretching the components. By default, <code>BoxLayout</code> will stretch components to fill the available space in the box's axis. If your <code>app1Panel</code> or <code>app2Panel</code> contains fewer components or uses a layout that does not use all the available space, it could be causing the gap. In this case, consider setting the maximum size of your components:</p>\n<pre class=\"lang-java prettyprint-override\"><code>app1Panel.setMaximumSize(app1Panel.getPreferredSize());\napp2Panel.setMaximumSize(app2Panel.getPreferredSize());\n</code></pre>\n<p>Before adding them to the <code>mainPanel</code>.</p>\n<p>If the above two points do not seem to be the cause, it might be the way the <code>mainPanel</code> is being added to its parent component or how the parent component's layout is set up. If the parent component of <code>mainPanel</code> is set up with a layout manager that stretches its child components, it could cause the <code>mainPanel</code> (and all its child components) to be stretched, creating the gap.</p>\n<p>Consider also using debugging methods to isolate the problem. One common method is setting the background color of different components to see exactly where the extra space is. That can help you identify whether the problem is in <code>app1Panel</code>, <code>app2Panel</code>, or <code>mainPanel</code>.</p>\n"}],"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76659765,"answer_count":1,"score":1,"last_activity_date":1689151181,"creation_date":1688850371,"question_id":76644954,"body_markdown":"I&#39;ve written two Swing GUI: one with single column and one with two columns. Let me show you screen of the first app.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI also wrote an app with two columns mode. Here&#39;s screenshot:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Problem**\r\n\r\n**I&#39;d like to combine these two GUI into one applications.** The second application is based on `GroupLayout`; I find the code clean as there is virtually no hand-made positioning of components. However, many tutorials suggest that `GroupLayout` is not the right layout without pointing which layout would be better, thought. \r\n\r\nHere&#39;s the code of my first app:\r\n\r\n    public static void main(final String[] args) {\r\n           SwingUtilities.invokeLater(Mvp::createGui);\r\n        }\r\n    \r\n        private static void createGui() {\r\n            final JFrame frame = new JFrame(&quot;Page labels app&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            final JPanel panel = new JPanel(new GridLayout(2, 1));\r\n            final JPanel tablePanel = createTablePanel();\r\n            panel.add(tablePanel);\r\n    \r\n            frame.add(panel, BorderLayout.CENTER);\r\n    \r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        private static JPanel createTablePanel() {\r\n            final PageLabelsTable table = new PageLabelsTable();\r\n            final JScrollPane scrollPane = new JScrollPane(table);\r\n            scrollPane.setPreferredSize(new Dimension(400, 120));\r\n            final JPanel tablePanel = new JPanel();\r\n            tablePanel.add(scrollPane);\r\n            tablePanel.setBorder(BorderFactory.createTitledBorder(&quot;Page styles&quot;));\r\n            return tablePanel;\r\n        }\r\n    \r\n    public class PageLabelsTable extends JTable {\r\n    \r\n        private final DefaultTableModel tableModel;\r\n    \r\n        public PageLabelsTable() {\r\n    \r\n            tableModel = new DefaultTableModel();\r\n    \r\n            tableModel.addColumn(&quot;Style&quot;);\r\n            tableModel.addColumn(&quot;Prefix&quot;);\r\n            tableModel.addColumn(&quot;From&quot;);\r\n            tableModel.addColumn(&quot;To&quot;);\r\n    \r\n            tableModel.addRow(\r\n                    new String[]{&quot;Table A 00&quot;, &quot;Table A 01&quot;, &quot;Table A 02&quot;, &quot;Table A 03&quot;});\r\n    \r\n            tableModel.addRow(\r\n                    new String[]{&quot;Table A 10&quot;, &quot;Table A 11&quot;, &quot;Table A 12&quot;, &quot;Table A 13&quot;});\r\n    \r\n            setModel(tableModel);\r\n    \r\n            Toolkit.getDefaultToolkit().addAWTEventListener(event -&gt; {\r\n                if (event.getID() == MouseEvent.MOUSE_CLICKED) {\r\n                    final MouseEvent mouseEvent = (MouseEvent) event;\r\n                    final int row = rowAtPoint(mouseEvent.getPoint());\r\n                    if (row == -1) {\r\n                        clearSelection();\r\n                    }\r\n                }\r\n            }, AWTEvent.MOUSE_EVENT_MASK);\r\n    \r\n            getTableHeader().setReorderingAllowed(false);\r\n            setSelectionMode(ListSelectionModel.SINGLE_INTERVAL_SELECTION);\r\n            setDragEnabled(true);\r\n        }\r\n    }\r\n\r\n And here&#39;s the code for the second app (heavily based on the [code found here at SO][3]):\r\n\r\n    public void createUI() {\r\n    \r\n          initUI();\r\n    \r\n          final JFrame frame = new JFrame(APP_NAME);\r\n          frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n          frame.setResizable(false);\r\n    \r\n          closeOnEscape(frame);\r\n          frame.getRootPane().setDefaultButton(fixButton);\r\n    \r\n          frame.setContentPane(ui);\r\n          frame.pack();\r\n          frame.setLocationRelativeTo(null);\r\n          frame.setMinimumSize(frame.getSize());\r\n    \r\n          frame.setVisible(true);\r\n       }\r\n    \r\n       private void closeOnEscape(final JFrame frame) {\r\n          // close on ESCAPE\r\n          frame.getRootPane().getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW)\r\n              .put(KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE, 0), &quot;Cancel&quot;);\r\n    \r\n          frame.getRootPane().getActionMap().put(&quot;Cancel&quot;, disposeFrame(frame));\r\n       }\r\n    \r\n       private AbstractAction disposeFrame(final JFrame frame) {\r\n          return new AbstractAction() {\r\n             @Override\r\n             public void actionPerformed(final ActionEvent e) {\r\n                frame.dispose();\r\n             }\r\n          };\r\n       }\r\n    \r\n       private JComponent getTwoColumnLayout(final JLabel[] labels, final JComponent[] fields) {\r\n    \r\n          if ( labels.length != fields.length ) {\r\n             throw new IllegalArgumentException(\r\n                 &quot;%d labels supplied for %d fields!&quot;.formatted(labels.length, fields.length));\r\n          }\r\n          final JComponent panel = new JPanel();\r\n          final GroupLayout layout = new GroupLayout(panel);\r\n          panel.setLayout(layout);\r\n          // Turn on automatically adding gaps between components\r\n          layout.setAutoCreateGaps(true);\r\n          // Create a sequential group for the horizontal axis.\r\n          final GroupLayout.SequentialGroup hGroup = layout.createSequentialGroup();\r\n          final GroupLayout.Group yLabelGroup = layout.createParallelGroup(\r\n              GroupLayout.Alignment.TRAILING);\r\n          hGroup.addGroup(yLabelGroup);\r\n          final GroupLayout.Group yFieldGroup = layout.createParallelGroup();\r\n          hGroup.addGroup(yFieldGroup);\r\n          layout.setHorizontalGroup(hGroup);\r\n          // Create a sequential group for the vertical axis.\r\n          final GroupLayout.SequentialGroup vGroup = layout.createSequentialGroup();\r\n          layout.setVerticalGroup(vGroup);\r\n    \r\n          // add the components to the groups\r\n          for (JLabel label : labels) {\r\n             yLabelGroup.addComponent(label);\r\n          }\r\n          for (Component field : fields) {\r\n             yFieldGroup.addComponent(field, GroupLayout.PREFERRED_SIZE, GroupLayout.PREFERRED_SIZE, GroupLayout.PREFERRED_SIZE);\r\n          }\r\n          for (int i = 0; i &lt; labels.length; i++) {\r\n             vGroup.addGroup(layout.createParallelGroup().addComponent(labels[i])\r\n                 .addComponent(fields[i], GroupLayout.PREFERRED_SIZE, GroupLayout.PREFERRED_SIZE, GroupLayout.PREFERRED_SIZE));\r\n          }\r\n    \r\n          addMnemonics(labels, fields);\r\n    \r\n          return panel;\r\n       }\r\n    \r\n       private void addMnemonics(final JLabel[] labels, final JComponent[] fields) {\r\n          final Map&lt;Character, Character&gt; map = new HashMap&lt;&gt;();\r\n          for (int i = 0; i &lt; labels.length; i++) {\r\n             labels[i].setLabelFor(fields[i]);\r\n             final String lowerCase = labels[i].getText().toLowerCase();\r\n             for (int j = 0; j &lt; lowerCase.length(); j++) {\r\n                final char ch = lowerCase.charAt(j);\r\n                if ( Character.isLetterOrDigit(ch) &amp;&amp; map.get(ch) == null ) {\r\n                   map.put(ch, ch);\r\n                   labels[i].setDisplayedMnemonic(ch);\r\n                   break;\r\n                }\r\n             }\r\n          }\r\n       }\r\n    \r\n       /**\r\n        * Provides a JPanel with two columns (labels &amp; fields) laid out using GroupLayout. The arrays\r\n        * must be of equal size.\r\n        *\r\n        * @param labelStrings Strings that will be used for labels.\r\n        * @param fields       The corresponding fields.\r\n        * @return JComponent A JPanel with two columns of the components provided.\r\n        */\r\n       private JComponent getTwoColumnLayout(final String[] labelStrings, final JComponent[] fields) {\r\n          final JLabel[] labels = new JLabel[labelStrings.length];\r\n          for (int i = 0; i &lt; labels.length; i++) {\r\n             labels[i] = new JLabel(labelStrings[i]);\r\n          }\r\n          return getTwoColumnLayout(labels, fields);\r\n       }\r\n    \r\n    \r\n       private void initUI() {\r\n          if ( ui != null ) {\r\n             return;\r\n          }\r\n          ui = new JPanel(new BorderLayout(4, 4));\r\n          ui.setBorder(new EmptyBorder(4, 4, 4, 4));\r\n    \r\n          // Here is our control.  This puts a titled border around it,\r\n          // instead of using a label in the PAGE_START\r\n          final JPanel jPanel = new JPanel(new BorderLayout());\r\n          ui.add(jPanel);\r\n    \r\n          final JPanel actionPanel = new JPanel(new FlowLayout(FlowLayout.CENTER, 15, 15));\r\n          jPanel.add(actionPanel, BorderLayout.PAGE_END);\r\n    \r\n          this.fixButton = new JButton(&quot;Fix&quot;);\r\n          this.resetButton = new JButton(&quot;Reset&quot;);\r\n          this.cancelButton = new JButton(&quot;Cancel&quot;);\r\n    \r\n          Stream.of(fixButton, resetButton, cancelButton).forEach(actionPanel::add);\r\n    \r\n          // Use GroupLayout for the label/cotrnl combos.\r\n          // make the arrays for the factory method\r\n          final String[] labels = { &quot;Page label style&quot;, &quot;Start page&quot;, &quot;Remove bookmarks&quot; };\r\n          final String[] ccString = LabelStyle.getAllStyles();\r\n    \r\n          final JPanel checkBoxPanel = new JPanel(new FlowLayout(FlowLayout.LEADING, 0, 0));\r\n          checkBoxPanel.add(new JCheckBox(&quot;&quot;, false));\r\n    \r\n          final JComponent[] controls = { new JComboBox&lt;&gt;(ccString), new JTextFieldNumeric(5),\r\n              checkBoxPanel };\r\n    \r\n          jPanel.add(getTwoColumnLayout(labels, controls));\r\n    \r\n          // throw in a few borders for white space\r\n          final Border insideBorder = new CompoundBorder(new EmptyBorder(10, 10, 5, 10),\r\n              new TitledBorder(APP_NAME));\r\n          final Border border = new CompoundBorder(insideBorder, new EmptyBorder(10, 10, 5, 10));\r\n          jPanel.setBorder(border);\r\n       }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5WTd1.png\r\n  [2]: https://i.stack.imgur.com/9jIRM.png\r\n  [3]: https://stackoverflow.com/questions/26796339/jpanel-component-placement","title":"Combine single column mode with two column mode in Swing","body":"<p>I've written two Swing GUI: one with single column and one with two columns. Let me show you screen of the first app.</p>\n<p><a href=\"https://i.stack.imgur.com/5WTd1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5WTd1.png\" alt=\"enter image description here\" /></a></p>\n<p>I also wrote an app with two columns mode. Here's screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/9jIRM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9jIRM.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Problem</strong></p>\n<p><strong>I'd like to combine these two GUI into one applications.</strong> The second application is based on <code>GroupLayout</code>; I find the code clean as there is virtually no hand-made positioning of components. However, many tutorials suggest that <code>GroupLayout</code> is not the right layout without pointing which layout would be better, thought.</p>\n<p>Here's the code of my first app:</p>\n<pre><code>public static void main(final String[] args) {\n       SwingUtilities.invokeLater(Mvp::createGui);\n    }\n\n    private static void createGui() {\n        final JFrame frame = new JFrame(&quot;Page labels app&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        final JPanel panel = new JPanel(new GridLayout(2, 1));\n        final JPanel tablePanel = createTablePanel();\n        panel.add(tablePanel);\n\n        frame.add(panel, BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    private static JPanel createTablePanel() {\n        final PageLabelsTable table = new PageLabelsTable();\n        final JScrollPane scrollPane = new JScrollPane(table);\n        scrollPane.setPreferredSize(new Dimension(400, 120));\n        final JPanel tablePanel = new JPanel();\n        tablePanel.add(scrollPane);\n        tablePanel.setBorder(BorderFactory.createTitledBorder(&quot;Page styles&quot;));\n        return tablePanel;\n    }\n\npublic class PageLabelsTable extends JTable {\n\n    private final DefaultTableModel tableModel;\n\n    public PageLabelsTable() {\n\n        tableModel = new DefaultTableModel();\n\n        tableModel.addColumn(&quot;Style&quot;);\n        tableModel.addColumn(&quot;Prefix&quot;);\n        tableModel.addColumn(&quot;From&quot;);\n        tableModel.addColumn(&quot;To&quot;);\n\n        tableModel.addRow(\n                new String[]{&quot;Table A 00&quot;, &quot;Table A 01&quot;, &quot;Table A 02&quot;, &quot;Table A 03&quot;});\n\n        tableModel.addRow(\n                new String[]{&quot;Table A 10&quot;, &quot;Table A 11&quot;, &quot;Table A 12&quot;, &quot;Table A 13&quot;});\n\n        setModel(tableModel);\n\n        Toolkit.getDefaultToolkit().addAWTEventListener(event -&gt; {\n            if (event.getID() == MouseEvent.MOUSE_CLICKED) {\n                final MouseEvent mouseEvent = (MouseEvent) event;\n                final int row = rowAtPoint(mouseEvent.getPoint());\n                if (row == -1) {\n                    clearSelection();\n                }\n            }\n        }, AWTEvent.MOUSE_EVENT_MASK);\n\n        getTableHeader().setReorderingAllowed(false);\n        setSelectionMode(ListSelectionModel.SINGLE_INTERVAL_SELECTION);\n        setDragEnabled(true);\n    }\n}\n</code></pre>\n<p>And here's the code for the second app (heavily based on the <a href=\"https://stackoverflow.com/questions/26796339/jpanel-component-placement\">code found here at SO</a>):</p>\n<pre><code>public void createUI() {\n\n      initUI();\n\n      final JFrame frame = new JFrame(APP_NAME);\n      frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n      frame.setResizable(false);\n\n      closeOnEscape(frame);\n      frame.getRootPane().setDefaultButton(fixButton);\n\n      frame.setContentPane(ui);\n      frame.pack();\n      frame.setLocationRelativeTo(null);\n      frame.setMinimumSize(frame.getSize());\n\n      frame.setVisible(true);\n   }\n\n   private void closeOnEscape(final JFrame frame) {\n      // close on ESCAPE\n      frame.getRootPane().getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW)\n          .put(KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE, 0), &quot;Cancel&quot;);\n\n      frame.getRootPane().getActionMap().put(&quot;Cancel&quot;, disposeFrame(frame));\n   }\n\n   private AbstractAction disposeFrame(final JFrame frame) {\n      return new AbstractAction() {\n         @Override\n         public void actionPerformed(final ActionEvent e) {\n            frame.dispose();\n         }\n      };\n   }\n\n   private JComponent getTwoColumnLayout(final JLabel[] labels, final JComponent[] fields) {\n\n      if ( labels.length != fields.length ) {\n         throw new IllegalArgumentException(\n             &quot;%d labels supplied for %d fields!&quot;.formatted(labels.length, fields.length));\n      }\n      final JComponent panel = new JPanel();\n      final GroupLayout layout = new GroupLayout(panel);\n      panel.setLayout(layout);\n      // Turn on automatically adding gaps between components\n      layout.setAutoCreateGaps(true);\n      // Create a sequential group for the horizontal axis.\n      final GroupLayout.SequentialGroup hGroup = layout.createSequentialGroup();\n      final GroupLayout.Group yLabelGroup = layout.createParallelGroup(\n          GroupLayout.Alignment.TRAILING);\n      hGroup.addGroup(yLabelGroup);\n      final GroupLayout.Group yFieldGroup = layout.createParallelGroup();\n      hGroup.addGroup(yFieldGroup);\n      layout.setHorizontalGroup(hGroup);\n      // Create a sequential group for the vertical axis.\n      final GroupLayout.SequentialGroup vGroup = layout.createSequentialGroup();\n      layout.setVerticalGroup(vGroup);\n\n      // add the components to the groups\n      for (JLabel label : labels) {\n         yLabelGroup.addComponent(label);\n      }\n      for (Component field : fields) {\n         yFieldGroup.addComponent(field, GroupLayout.PREFERRED_SIZE, GroupLayout.PREFERRED_SIZE, GroupLayout.PREFERRED_SIZE);\n      }\n      for (int i = 0; i &lt; labels.length; i++) {\n         vGroup.addGroup(layout.createParallelGroup().addComponent(labels[i])\n             .addComponent(fields[i], GroupLayout.PREFERRED_SIZE, GroupLayout.PREFERRED_SIZE, GroupLayout.PREFERRED_SIZE));\n      }\n\n      addMnemonics(labels, fields);\n\n      return panel;\n   }\n\n   private void addMnemonics(final JLabel[] labels, final JComponent[] fields) {\n      final Map&lt;Character, Character&gt; map = new HashMap&lt;&gt;();\n      for (int i = 0; i &lt; labels.length; i++) {\n         labels[i].setLabelFor(fields[i]);\n         final String lowerCase = labels[i].getText().toLowerCase();\n         for (int j = 0; j &lt; lowerCase.length(); j++) {\n            final char ch = lowerCase.charAt(j);\n            if ( Character.isLetterOrDigit(ch) &amp;&amp; map.get(ch) == null ) {\n               map.put(ch, ch);\n               labels[i].setDisplayedMnemonic(ch);\n               break;\n            }\n         }\n      }\n   }\n\n   /**\n    * Provides a JPanel with two columns (labels &amp; fields) laid out using GroupLayout. The arrays\n    * must be of equal size.\n    *\n    * @param labelStrings Strings that will be used for labels.\n    * @param fields       The corresponding fields.\n    * @return JComponent A JPanel with two columns of the components provided.\n    */\n   private JComponent getTwoColumnLayout(final String[] labelStrings, final JComponent[] fields) {\n      final JLabel[] labels = new JLabel[labelStrings.length];\n      for (int i = 0; i &lt; labels.length; i++) {\n         labels[i] = new JLabel(labelStrings[i]);\n      }\n      return getTwoColumnLayout(labels, fields);\n   }\n\n\n   private void initUI() {\n      if ( ui != null ) {\n         return;\n      }\n      ui = new JPanel(new BorderLayout(4, 4));\n      ui.setBorder(new EmptyBorder(4, 4, 4, 4));\n\n      // Here is our control.  This puts a titled border around it,\n      // instead of using a label in the PAGE_START\n      final JPanel jPanel = new JPanel(new BorderLayout());\n      ui.add(jPanel);\n\n      final JPanel actionPanel = new JPanel(new FlowLayout(FlowLayout.CENTER, 15, 15));\n      jPanel.add(actionPanel, BorderLayout.PAGE_END);\n\n      this.fixButton = new JButton(&quot;Fix&quot;);\n      this.resetButton = new JButton(&quot;Reset&quot;);\n      this.cancelButton = new JButton(&quot;Cancel&quot;);\n\n      Stream.of(fixButton, resetButton, cancelButton).forEach(actionPanel::add);\n\n      // Use GroupLayout for the label/cotrnl combos.\n      // make the arrays for the factory method\n      final String[] labels = { &quot;Page label style&quot;, &quot;Start page&quot;, &quot;Remove bookmarks&quot; };\n      final String[] ccString = LabelStyle.getAllStyles();\n\n      final JPanel checkBoxPanel = new JPanel(new FlowLayout(FlowLayout.LEADING, 0, 0));\n      checkBoxPanel.add(new JCheckBox(&quot;&quot;, false));\n\n      final JComponent[] controls = { new JComboBox&lt;&gt;(ccString), new JTextFieldNumeric(5),\n          checkBoxPanel };\n\n      jPanel.add(getTwoColumnLayout(labels, controls));\n\n      // throw in a few borders for white space\n      final Border insideBorder = new CompoundBorder(new EmptyBorder(10, 10, 5, 10),\n          new TitledBorder(APP_NAME));\n      final Border border = new CompoundBorder(insideBorder, new EmptyBorder(10, 10, 5, 10));\n      jPanel.setBorder(border);\n   }\n</code></pre>\n"},{"tags":["java","logging","configuration","log4j","log4j2"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1422539737,"post_id":28216310,"comment_id":44796205,"body_markdown":"See https://logging.apache.org/log4j/1.2/faq.html#a3.6","body":"See <a href=\"https://logging.apache.org/log4j/1.2/faq.html#a3.6\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/1.2/faq.html#a3.6</a>"},{"owner":{"account_id":334436,"reputation":2189,"user_id":660887,"accept_rate":62,"display_name":"jamp"},"score":0,"creation_date":1422539973,"post_id":28216310,"comment_id":44796369,"body_markdown":"@pringi I don&#39;t want to have log4j &quot;watch&quot; the config file... I just want to tell log4j when to check","body":"@pringi I don&#39;t want to have log4j &quot;watch&quot; the config file... I just want to tell log4j when to check"},{"owner":{"account_id":10203549,"reputation":1434,"user_id":7532946,"accept_rate":0,"display_name":"anson"},"score":0,"creation_date":1564128912,"post_id":28216310,"comment_id":100936426,"body_markdown":"Please find my comment from another https://stackoverflow.com/a/57215782/7532946","body":"Please find my comment from another <a href=\"https://stackoverflow.com/a/57215782/7532946\">stackoverflow.com/a/57215782/7532946</a>"}],"answers":[{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1422622148,"creation_date":1422583065,"answer_id":28228067,"question_id":28216310,"body_markdown":"There is currently no clean way to do this.\r\nIt can be done with reflection. (Of course this may break if the implementation changes.)\r\n\r\nUPDATE: this is wrong. There _is_ a clean way, see jamp&#39;s answer below.\r\n\r\n    org.apache.logging.log4j.core.LoggerContext ctx = (org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false);\r\n    \r\n    org.apache.logging.log4j.core.config.FileConfigurationMonitor mon = (org.apache.logging.log4j.core.config.FileConfigurationMonitor) ctx.getConfiguration().getConfigurationMonitor();\r\n    \r\n    // use reflection to get monitor&#39;s &quot;nextCheck&quot; field.\r\n    // set field accessible\r\n    // set field value to zero\r\n    \r\n    mon.checkConfiguration();\r\n\r\n","title":"Reload log4j2 configuration on demand","body":"<p>There is currently no clean way to do this.\nIt can be done with reflection. (Of course this may break if the implementation changes.)</p>\n\n<p>UPDATE: this is wrong. There <em>is</em> a clean way, see jamp's answer below.</p>\n\n<pre><code>org.apache.logging.log4j.core.LoggerContext ctx = (org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false);\n\norg.apache.logging.log4j.core.config.FileConfigurationMonitor mon = (org.apache.logging.log4j.core.config.FileConfigurationMonitor) ctx.getConfiguration().getConfigurationMonitor();\n\n// use reflection to get monitor's \"nextCheck\" field.\n// set field accessible\n// set field value to zero\n\nmon.checkConfiguration();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":334436,"reputation":2189,"user_id":660887,"accept_rate":62,"display_name":"jamp"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1422619652,"creation_date":1422619652,"answer_id":28235591,"question_id":28216310,"body_markdown":"It looks like I&#39;ve found the solution:\r\n\r\n    ((org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false)).reconfigure();\r\n\r\nDoes anyone see anything wrong/side-effects with this?","title":"Reload log4j2 configuration on demand","body":"<p>It looks like I've found the solution:</p>\n\n<pre><code>((org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false)).reconfigure();\n</code></pre>\n\n<p>Does anyone see anything wrong/side-effects with this?</p>\n"},{"tags":[],"owner":{"account_id":1445461,"reputation":727,"user_id":1364125,"display_name":"Yoraco Gonzales"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639472009,"creation_date":1639472009,"answer_id":70346119,"question_id":28216310,"body_markdown":"What about using `org.apache.logging.log4j.core.config.Configurator` ?\r\n\r\n```java\r\n   LoggerContext loggerContext = LoggerContext.getContext(false);\r\n   final Configuration configuration = loggerContext.getConfiguration();\r\n   Configurator.reconfigure(configuration);\r\n```","title":"Reload log4j2 configuration on demand","body":"<p>What about using <code>org.apache.logging.log4j.core.config.Configurator</code> ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>   LoggerContext loggerContext = LoggerContext.getContext(false);\n   final Configuration configuration = loggerContext.getConfiguration();\n   Configurator.reconfigure(configuration);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1249312,"reputation":20734,"user_id":1210071,"accept_rate":83,"display_name":"Adrian Ber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689150930,"creation_date":1689150930,"answer_id":76668631,"question_id":28216310,"body_markdown":"What about `org.apache.logging.log4j.core.config.Configurator.reconfigure()`?","title":"Reload log4j2 configuration on demand","body":"<p>What about <code>org.apache.logging.log4j.core.config.Configurator.reconfigure()</code>?</p>\n"}],"owner":{"account_id":334436,"reputation":2189,"user_id":660887,"accept_rate":62,"display_name":"jamp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20281,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":28235591,"answer_count":4,"score":25,"last_activity_date":1689150930,"creation_date":1422539152,"question_id":28216310,"body_markdown":"I have my log4j2.xml config file set to be checked every 30 seconds:\r\n\r\n    &lt;Configuration status=&quot;WARN&quot; monitorInterval=&quot;30&quot;&gt;\r\n        ...\r\n    &lt;/Configuration&gt;\r\n\r\nIs it possible to programmatically tell log4j2 to check for changes in the configuration instead of having a timeout?\r\n\r\n**N.B.** I don&#39;t want to programmatically load the configuration specifying the config file, I just want to tell log4j2 to check the config file that has been loaded before as if the monitorInterval expired.\r\n\r\nThanks!","title":"Reload log4j2 configuration on demand","body":"<p>I have my log4j2.xml config file set to be checked every 30 seconds:</p>\n\n<pre><code>&lt;Configuration status=\"WARN\" monitorInterval=\"30\"&gt;\n    ...\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>Is it possible to programmatically tell log4j2 to check for changes in the configuration instead of having a timeout?</p>\n\n<p><strong>N.B.</strong> I don't want to programmatically load the configuration specifying the config file, I just want to tell log4j2 to check the config file that has been loaded before as if the monitorInterval expired.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","generics","casting","type-inference","builder"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1689147640,"post_id":76668058,"comment_id":135170348,"body_markdown":"No. And I suspect you mean &quot;explicit&quot;, rather than &quot;implicit&quot;.","body":"No. And I suspect you mean &quot;explicit&quot;, rather than &quot;implicit&quot;."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1689147828,"post_id":76668058,"comment_id":135170389,"body_markdown":"Or rather, no, you can&#39;t do it if you pass in the same type of &quot;thing&quot; as a parameter to `newBuilder`, and that thing doesn&#39;t involve `T`. If you could pass in a `BuilderProvider&lt;T&gt;` (or similar), you could return a `Builder&lt;T&gt;`.","body":"Or rather, no, you can&#39;t do it if you pass in the same type of &quot;thing&quot; as a parameter to <code>newBuilder</code>, and that thing doesn&#39;t involve <code>T</code>. If you could pass in a <code>BuilderProvider&lt;T&gt;</code> (or similar), you could return a <code>Builder&lt;T&gt;</code>."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1689148504,"post_id":76668058,"comment_id":135170539,"body_markdown":"Thank you for the response. I have changed the title to explicit. I will try to figure out how to add your suggested technique, maybe I can pass the information somehow with the enum as property?","body":"Thank you for the response. I have changed the title to explicit. I will try to figure out how to add your suggested technique, maybe I can pass the information somehow with the enum as property?"},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1689152817,"post_id":76668058,"comment_id":135171591,"body_markdown":"What do you want to achieve? Your code smells around the `switch (template)` part. Use some pattern here, like a strategy or similar, to avoid the `swith`ing, and most probably your problem will be solved *eo ipso*.","body":"What do you want to achieve? Your code smells around the <code>switch (template)</code> part. Use some pattern here, like a strategy or similar, to avoid the <code>swith</code>ing, and most probably your problem will be solved <i>eo ipso</i>."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1689154133,"post_id":76668058,"comment_id":135171836,"body_markdown":"@HonzaZidek: This is a pattern, to be more precisely, there are two patterns involved: one is a BuilderFactory, that is the part with the switch statement, and the other is the Builder itself. What I want to achieve is to obtain a specific builder for a class, where the involved classes are hierarchically dependent on each other.","body":"@HonzaZidek: This is a pattern, to be more precisely, there are two patterns involved: one is a BuilderFactory, that is the part with the switch statement, and the other is the Builder itself. What I want to achieve is to obtain a specific builder for a class, where the involved classes are hierarchically dependent on each other."},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":1,"creation_date":1689154847,"post_id":76668058,"comment_id":135172026,"body_markdown":"And which pattern is the usage of `switch`? Please read this: [Seven Ways to Refactor Java switch Statements](https://www.developer.com/design/seven-ways-to-refactor-java-switch-statements/)","body":"And which pattern is the usage of <code>switch</code>? Please read this: <a href=\"https://www.developer.com/design/seven-ways-to-refactor-java-switch-statements/\" rel=\"nofollow noreferrer\">Seven Ways to Refactor Java switch Statements</a>"},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1689155894,"post_id":76668058,"comment_id":135172268,"body_markdown":"The switch statement is part of the Factory, which decides upon the provided template (the template has to be passed in some way anyway) what Builder to return. Thanks for the link, I&#39;ll take a closer look into this. I&#39;m thankful for any help to get my code better.","body":"The switch statement is part of the Factory, which decides upon the provided template (the template has to be passed in some way anyway) what Builder to return. Thanks for the link, I&#39;ll take a closer look into this. I&#39;m thankful for any help to get my code better."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1689157934,"post_id":76668058,"comment_id":135172713,"body_markdown":"@HonzaZidek: I&#39;ve read the article and must admit, there are some interesting tips to grab. Currently the code I implemented (and posted as excerpt in the question here) is nearly one to one the same as of `5. Relying on Abstract Factory`. So I&#39;m glad to be at least somehow on the right track - even when I think I can do better using `1. Implementing the Strategy Pattern via Java Enum` (also I must confess, I like Josh Bloch ;)) So time for some coffee and redo. Thanks alot.","body":"@HonzaZidek: I&#39;ve read the article and must admit, there are some interesting tips to grab. Currently the code I implemented (and posted as excerpt in the question here) is nearly one to one the same as of <code>5. Relying on Abstract Factory</code>. So I&#39;m glad to be at least somehow on the right track - even when I think I can do better using <code>1. Implementing the Strategy Pattern via Java Enum</code> (also I must confess, I like Josh Bloch ;)) So time for some coffee and redo. Thanks alot."},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1689159077,"post_id":76668058,"comment_id":135172962,"body_markdown":"Implementing the strategy pattern via Java Enum is good, if the enum is really enum, which means if **there is a &quot;central authority&quot; specifying the complete list of options**, and if the list does not change often. It is still recommendable to implement the strategy pattern traditionally, i.e. via an interface and implementing classes. If each template always generates one type of class, you may also make the `Template` class aware of the type it generates.","body":"Implementing the strategy pattern via Java Enum is good, if the enum is really enum, which means if <b>there is a &quot;central authority&quot; specifying the complete list of options</b>, and if the list does not change often. It is still recommendable to implement the strategy pattern traditionally, i.e. via an interface and implementing classes. If each template always generates one type of class, you may also make the <code>Template</code> class aware of the type it generates."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1689169880,"post_id":76668058,"comment_id":135175609,"body_markdown":"You can&#39;t use enums or switches to do this.  You could make the Template type a generic class and have static final instances of it with particular type parameters.","body":"You can&#39;t use enums or switches to do this.  You could make the Template type a generic class and have static final instances of it with particular type parameters."}],"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689150520,"creation_date":1689146702,"question_id":76668058,"body_markdown":"In his book _Effective Java_ Joshua Bloch describes in _Item 2_ a builder pattern using pizzas. I have simplified the example a bit and instead of instantiating the builder directly I want to obtain the corresponding builder depending on an enum value:\r\n\r\n```java\r\npublic static &lt;T extends Person.Builder&lt;T&gt;&gt; T newBuilder(Template template) {\r\n\r\n    return (T) switch (template) {\r\n        case FRIEND -&gt; new Friend.Builder();\r\n        case STRANGER -&gt; null;\r\n    };\r\n}\r\n```\r\n\r\nImpractically, I have to cast the builder properly to get access to the subclassed methods. However, the methods of the abstract base class are accessible even without casting:\r\n\r\n```java\r\n// works with implicit casting to Friend.Builder\r\nFriend.Builder friendBuilder = newBuilder(Template.FRIEND);\r\nfriendBuilder.setNickname(&quot;friend&quot;);\r\n\r\n// works without explicit casting: setDescription (from base class) is accessible\r\nnewBuilder(Template.FRIEND).setDescription(&quot;very friendly&quot;);\r\n\r\n// doesn&#39;t work without explicit casting: setNickname (from subclass) is not accessible\r\nnewBuilder(Template.FRIEND).setNickname(&quot;friend&quot;);\r\n```\r\n\r\nIs there any chance to infer the return type (or cast the selected builder somehow within the switch statement) so that I can use methods from sub classes directly without having to cast the returned builder?\r\n\r\nHere the three classes involved in their entirety:\r\n\r\nPersonService (main):\r\n\r\n```java\r\npublic class PersonService {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        // works with implicit casting to Friend.Builder\r\n        Friend.Builder friendBuilder = newBuilder(Template.FRIEND);\r\n        friendBuilder.setNickname(&quot;friend&quot;);\r\n\r\n        // works without explicit casting: setDescription (from base class) is accessible\r\n        newBuilder(Template.FRIEND).setDescription(&quot;very friendly&quot;);\r\n\r\n        // doesn&#39;t work without explicit casting: setNickname (from subclass) is not accessible\r\n        newBuilder(Template.FRIEND).setNickname(&quot;friend&quot;);\r\n    }\r\n\r\n    public static &lt;T extends Person.Builder&lt;T&gt;&gt; T newBuilder(Template template) {\r\n\r\n        return (T) switch (template) {\r\n            case FRIEND -&gt; new Friend.Builder();\r\n            case STRANGER -&gt; null;\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nPerson:\r\n\r\n```java\r\npublic abstract class Person {\r\n\r\n    private final String description;\r\n\r\n    protected Person(Builder&lt;?&gt; builder) {\r\n        this.description = builder.description;\r\n    }\r\n\r\n    static abstract class Builder&lt;T extends Builder&lt;T&gt;&gt; {\r\n\r\n        private String description;\r\n\r\n        public T setDescription(String description) {\r\n            this.description = description;\r\n            return self();\r\n        }\r\n\r\n        public abstract Person build();\r\n        \r\n        protected abstract T self();\r\n    }\r\n\r\n    public enum Template { STRANGER, FRIEND }\r\n}\r\n```\r\n\r\nFriend:\r\n\r\n```java\r\npublic class Friend extends Person {\r\n\r\n    public Friend(Builder builder) {\r\n        super(builder);\r\n    }\r\n\r\n    public static class Builder extends Person.Builder&lt;Builder&gt; {\r\n\r\n        private String nickname;\r\n\r\n        public void setNickname(String nickname) {\r\n            this.nickname = nickname;\r\n        }\r\n\r\n        @Override\r\n        public Friend build() {\r\n            return new Friend(this);\r\n        }\r\n\r\n        @Override\r\n        protected Builder self() {\r\n            return this;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Is it possible to infer the return type without explicit casting?","body":"<p>In his book <em>Effective Java</em> Joshua Bloch describes in <em>Item 2</em> a builder pattern using pizzas. I have simplified the example a bit and instead of instantiating the builder directly I want to obtain the corresponding builder depending on an enum value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T extends Person.Builder&lt;T&gt;&gt; T newBuilder(Template template) {\n\n    return (T) switch (template) {\n        case FRIEND -&gt; new Friend.Builder();\n        case STRANGER -&gt; null;\n    };\n}\n</code></pre>\n<p>Impractically, I have to cast the builder properly to get access to the subclassed methods. However, the methods of the abstract base class are accessible even without casting:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// works with implicit casting to Friend.Builder\nFriend.Builder friendBuilder = newBuilder(Template.FRIEND);\nfriendBuilder.setNickname(&quot;friend&quot;);\n\n// works without explicit casting: setDescription (from base class) is accessible\nnewBuilder(Template.FRIEND).setDescription(&quot;very friendly&quot;);\n\n// doesn't work without explicit casting: setNickname (from subclass) is not accessible\nnewBuilder(Template.FRIEND).setNickname(&quot;friend&quot;);\n</code></pre>\n<p>Is there any chance to infer the return type (or cast the selected builder somehow within the switch statement) so that I can use methods from sub classes directly without having to cast the returned builder?</p>\n<p>Here the three classes involved in their entirety:</p>\n<p>PersonService (main):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PersonService {\n\n    public static void main(String[] args) {\n\n        // works with implicit casting to Friend.Builder\n        Friend.Builder friendBuilder = newBuilder(Template.FRIEND);\n        friendBuilder.setNickname(&quot;friend&quot;);\n\n        // works without explicit casting: setDescription (from base class) is accessible\n        newBuilder(Template.FRIEND).setDescription(&quot;very friendly&quot;);\n\n        // doesn't work without explicit casting: setNickname (from subclass) is not accessible\n        newBuilder(Template.FRIEND).setNickname(&quot;friend&quot;);\n    }\n\n    public static &lt;T extends Person.Builder&lt;T&gt;&gt; T newBuilder(Template template) {\n\n        return (T) switch (template) {\n            case FRIEND -&gt; new Friend.Builder();\n            case STRANGER -&gt; null;\n        };\n    }\n}\n</code></pre>\n<p>Person:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Person {\n\n    private final String description;\n\n    protected Person(Builder&lt;?&gt; builder) {\n        this.description = builder.description;\n    }\n\n    static abstract class Builder&lt;T extends Builder&lt;T&gt;&gt; {\n\n        private String description;\n\n        public T setDescription(String description) {\n            this.description = description;\n            return self();\n        }\n\n        public abstract Person build();\n        \n        protected abstract T self();\n    }\n\n    public enum Template { STRANGER, FRIEND }\n}\n</code></pre>\n<p>Friend:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Friend extends Person {\n\n    public Friend(Builder builder) {\n        super(builder);\n    }\n\n    public static class Builder extends Person.Builder&lt;Builder&gt; {\n\n        private String nickname;\n\n        public void setNickname(String nickname) {\n            this.nickname = nickname;\n        }\n\n        @Override\n        public Friend build() {\n            return new Friend(this);\n        }\n\n        @Override\n        protected Builder self() {\n            return this;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","arrays","flutter"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1689148164,"post_id":76668250,"comment_id":135170464,"body_markdown":"`text.split(&quot;\\n&quot;)`","body":"<code>text.split(&quot;\\n&quot;)</code>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1689148382,"post_id":76668250,"comment_id":135170520,"body_markdown":"why does `test 1 this is book` only resolve to two Strings?","body":"why does <code>test 1 this is book</code> only resolve to two Strings?"},{"owner":{"account_id":5894315,"reputation":4485,"user_id":4639894,"display_name":"Sujan Gainju"},"score":3,"creation_date":1689148449,"post_id":76668250,"comment_id":135170532,"body_markdown":"There is no common pattern in the output you want.","body":"There is no common pattern in the output you want."}],"answers":[{"tags":[],"owner":{"account_id":17093381,"reputation":21,"user_id":12368963,"display_name":"Matte97"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689148678,"creation_date":1689148678,"answer_id":76668313,"question_id":76668250,"body_markdown":"The [split][1] function is what will help you to achieve this, you&#39;ll have to **identify a pattern**, which is a [regular expression][2], that work as the split rule.\r\n\r\nFrom what I see the String **text** doesn&#39;t have an intuitive pattern\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-split-string\r\n  [2]: https://www.vogella.com/tutorials/JavaRegularExpressions/article.html","title":"how to split each line of sentence into Array of string","body":"<p>The <a href=\"https://www.baeldung.com/java-split-string\" rel=\"nofollow noreferrer\">split</a> function is what will help you to achieve this, you'll have to <strong>identify a pattern</strong>, which is a <a href=\"https://www.vogella.com/tutorials/JavaRegularExpressions/article.html\" rel=\"nofollow noreferrer\">regular expression</a>, that work as the split rule.</p>\n<p>From what I see the String <strong>text</strong> doesn't have an intuitive pattern</p>\n"},{"tags":[],"owner":{"account_id":16047151,"reputation":1,"user_id":11591380,"display_name":"Wagner Rosa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689149593,"creation_date":1689149030,"answer_id":76668360,"question_id":76668250,"body_markdown":"If you want single elements, you can do this:\r\n\r\n    List&lt;String&gt; myList = List.of(text.split(&quot; &quot;));\r\n\r\nHowever, like someone pointed out, there&#39;s no recognizable pattern in what you wanna do. You can try some weird regex inside the split but I doubt it&#39;ll work. \r\n\r\nEDIT: If you add \\n  at the end of each block of text/string it will work.  Example:\r\n\r\n      String text = &quot;test_123\\n check_1 123\\n test_1\\n ASD@#$\\n qwer #$%^\\n test  1\\n this is book\\n&quot;;\r\n        List&lt;String&gt; myList = List.of(text.split(&quot;\\n&quot;));\r\n\r\nThis should do the trick","title":"how to split each line of sentence into Array of string","body":"<p>If you want single elements, you can do this:</p>\n<pre><code>List&lt;String&gt; myList = List.of(text.split(&quot; &quot;));\n</code></pre>\n<p>However, like someone pointed out, there's no recognizable pattern in what you wanna do. You can try some weird regex inside the split but I doubt it'll work.</p>\n<p>EDIT: If you add \\n  at the end of each block of text/string it will work.  Example:</p>\n<pre><code>  String text = &quot;test_123\\n check_1 123\\n test_1\\n ASD@#$\\n qwer #$%^\\n test  1\\n this is book\\n&quot;;\n    List&lt;String&gt; myList = List.of(text.split(&quot;\\n&quot;));\n</code></pre>\n<p>This should do the trick</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689149903,"creation_date":1689149555,"answer_id":76668431,"question_id":76668250,"body_markdown":"There are a few ways to achieve this.\r\n\r\nYou can use the _[String#split](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String))_ method, which uses a regular expression pattern as the argument.\r\n\r\nThe following should suffice in identifying the new-line delimiter.\r\n\r\n```none\r\n\\r\\n?|\\n\r\n```\r\n\r\n```java\r\nString[] strings = text.split(&quot;\\\\r\\\\n?|\\\\n&quot;);\r\n```\r\n\r\nAdditionally, you could use the _[BufferedReader](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/BufferedReader.html)_ and _[StringReader](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/StringReader.html)_ classes.\r\n\r\n```java\r\nBufferedReader reader = new BufferedReader(new StringReader(text));\r\nString[] strings = reader.lines().toList().toArray(new String[0]);\r\nreader.close();\r\n```\r\n\r\nSimilarly, you could use the _[Scanner](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html)_ class.\r\n\r\n```java\r\nScanner scanner = new Scanner(text);\r\nscanner.useDelimiter(&quot;\\\\r\\\\n?|\\\\n&quot;);\r\nString[] strings = scanner.tokens().toList().toArray(new String[0]);\r\nscanner.close();\r\n```\r\n\r\nAll of these methods will output the following.\r\n\r\n```none\r\n[test_123, check_1  123, test_1, ASD@#$, qwer #$%^, test   1, this is book]\r\n```","title":"how to split each line of sentence into Array of string","body":"<p>There are a few ways to achieve this.</p>\n<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">String#split</a></em> method, which uses a regular expression pattern as the argument.</p>\n<p>The following should suffice in identifying the new-line delimiter.</p>\n<pre class=\"lang-none prettyprint-override\"><code>\\r\\n?|\\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String[] strings = text.split(&quot;\\\\r\\\\n?|\\\\n&quot;);\n</code></pre>\n<p>Additionally, you could use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/BufferedReader.html\" rel=\"nofollow noreferrer\">BufferedReader</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/StringReader.html\" rel=\"nofollow noreferrer\">StringReader</a></em> classes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedReader reader = new BufferedReader(new StringReader(text));\nString[] strings = reader.lines().toList().toArray(new String[0]);\nreader.close();\n</code></pre>\n<p>Similarly, you could use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a></em> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(text);\nscanner.useDelimiter(&quot;\\\\r\\\\n?|\\\\n&quot;);\nString[] strings = scanner.tokens().toList().toArray(new String[0]);\nscanner.close();\n</code></pre>\n<p>All of these methods will output the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[test_123, check_1  123, test_1, ASD@#$, qwer #$%^, test   1, this is book]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9035402,"reputation":1127,"user_id":6731606,"display_name":"Evgeniy Mikhalev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689150145,"creation_date":1689150145,"answer_id":76668525,"question_id":76668250,"body_markdown":"You can use [String.split][1] method. [Regular expressions][2] can be used to define delimiter. For example:\r\n\r\n        String newLine = &quot;\\n&quot;;\r\n        \r\n        String str = String.join(newLine, &quot;test_123&quot;, \r\n        &quot;check_1  123&quot;, \r\n        &quot;test_1&quot;, \r\n        &quot;ASD@#$&quot;, \r\n        &quot;qwer #$%^&quot;, \r\n        &quot;test   1&quot;, \r\n        &quot;this is book&quot;);\r\n\r\n\r\n        String[] splitted = str.split(&quot;\\\\s+|\\\\n+&quot;);\r\n        \r\n        for (int i = 0; i &lt; splitted.length; i++) {\r\n            System.out.println(splitted[i]);\r\n        }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-\r\n  [2]: https://regex101.com/","title":"how to split each line of sentence into Array of string","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-\" rel=\"nofollow noreferrer\">String.split</a> method. <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">Regular expressions</a> can be used to define delimiter. For example:</p>\n<pre><code>    String newLine = &quot;\\n&quot;;\n    \n    String str = String.join(newLine, &quot;test_123&quot;, \n    &quot;check_1  123&quot;, \n    &quot;test_1&quot;, \n    &quot;ASD@#$&quot;, \n    &quot;qwer #$%^&quot;, \n    &quot;test   1&quot;, \n    &quot;this is book&quot;);\n\n\n    String[] splitted = str.split(&quot;\\\\s+|\\\\n+&quot;);\n    \n    for (int i = 0; i &lt; splitted.length; i++) {\n        System.out.println(splitted[i]);\n    }\n</code></pre>\n"}],"owner":{"account_id":23550809,"reputation":1,"user_id":17593557,"display_name":"Sandeep Sudhakar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":4,"score":-2,"last_activity_date":1689150145,"creation_date":1689148080,"question_id":76668250,"body_markdown":"```\r\nString text = &quot;test_123\r\ncheck_1  123  \r\ntest_1\r\nASD@#$\r\nqwer #$%^\r\ntest   1\r\nthis is book&quot;;\r\n```\r\n\r\nand turn it into a string array like:\r\n\r\n```\r\n{&quot;test_123&quot;,&quot;check_1  123&quot;,&quot;test_1&quot;,&quot;ASD@#$&quot;,&quot;qwer #$%^&quot;,&quot;test   1&quot;,&quot;this is book&quot;}\r\n```","title":"how to split each line of sentence into Array of string","body":"<pre><code>String text = &quot;test_123\ncheck_1  123  \ntest_1\nASD@#$\nqwer #$%^\ntest   1\nthis is book&quot;;\n</code></pre>\n<p>and turn it into a string array like:</p>\n<pre><code>{&quot;test_123&quot;,&quot;check_1  123&quot;,&quot;test_1&quot;,&quot;ASD@#$&quot;,&quot;qwer #$%^&quot;,&quot;test   1&quot;,&quot;this is book&quot;}\n</code></pre>\n"},{"tags":["java","expression","statements"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1590090823,"post_id":61942611,"comment_id":109556854,"body_markdown":"Weak title. Rewrite to summarize your specific technical issue.","body":"Weak title. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":265971,"reputation":12313,"user_id":553279,"display_name":"fdreger"},"score":0,"creation_date":1590090825,"post_id":61942611,"comment_id":109556857,"body_markdown":"An explanation will only make sense if you know what&#39;s a &quot;statement&quot; and &quot;expression&quot;. Otherwise, you need to look them up. When you do and it still doesn&#39;t make sense - come back with a specific problem.","body":"An explanation will only make sense if you know what&#39;s a &quot;statement&quot; and &quot;expression&quot;. Otherwise, you need to look them up. When you do and it still doesn&#39;t make sense - come back with a specific problem."},{"owner":{"account_id":18288813,"reputation":89,"user_id":13316090,"display_name":"user13316090"},"score":0,"creation_date":1590326478,"post_id":61942611,"comment_id":109632805,"body_markdown":"thank you so much for your feedbacks! I rewrote my title! And looked up definitions of &quot;statement&quot; and &quot;expression&quot;","body":"thank you so much for your feedbacks! I rewrote my title! And looked up definitions of &quot;statement&quot; and &quot;expression&quot;"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1606200364,"creation_date":1590090644,"answer_id":61942722,"question_id":61942611,"body_markdown":"## a\r\nTake the expression `a+1` for instance. This makes no sense as a statement as it does not change anything and is not possible.\r\n\r\n## b\r\n`x++` returns `x` and increments it afterwards.\r\n\r\nAs it changes the variable, it can be used as a statement.\r\n\r\n## c\r\nWhen you assign a value to something else, it returns the assigned value.\r\n\r\n## d\r\nThis is possible because `x=0` sets `x` to `0` and returns `0`.\r\n\r\nThen, it sets `y` to `x` (`0`) and returns this value (`0`).\r\n\r\nThen, it sets `x` to `y` (0) (and returns this value (`0`)).","title":"Statements and Expressions in Java(The statement x = y = x = 0 is illegal??)","body":"<h2>a</h2>\n<p>Take the expression <code>a+1</code> for instance. This makes no sense as a statement as it does not change anything and is not possible.</p>\n<h2>b</h2>\n<p><code>x++</code> returns <code>x</code> and increments it afterwards.</p>\n<p>As it changes the variable, it can be used as a statement.</p>\n<h2>c</h2>\n<p>When you assign a value to something else, it returns the assigned value.</p>\n<h2>d</h2>\n<p>This is possible because <code>x=0</code> sets <code>x</code> to <code>0</code> and returns <code>0</code>.</p>\n<p>Then, it sets <code>y</code> to <code>x</code> (<code>0</code>) and returns this value (<code>0</code>).</p>\n<p>Then, it sets <code>x</code> to <code>y</code> (0) (and returns this value (<code>0</code>)).</p>\n"}],"owner":{"account_id":18288813,"reputation":89,"user_id":13316090,"display_name":"user13316090"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1590090859,"accepted_answer_id":61942722,"answer_count":1,"score":0,"last_activity_date":1689149905,"creation_date":1590090240,"question_id":61942611,"body_markdown":"I am studying Java and am having a problem with the following question.\r\n\r\nWhich of these statements are true?\r\n\r\n* a. Any expression can be used as a statement.\r\n* b. The expression x++ can be used as a statement.\r\n* c. The statement x = x + 5 is also an expression.\r\n* d. The statement x = y = x = 0 is illegal. \r\n\r\nThe correct answers are b and c. However, I don&#39;t understand why those two are the answers. Can anybody explain it for me?","title":"Statements and Expressions in Java(The statement x = y = x = 0 is illegal??)","body":"<p>I am studying Java and am having a problem with the following question.</p>\n\n<p>Which of these statements are true?</p>\n\n<ul>\n<li>a. Any expression can be used as a statement.</li>\n<li>b. The expression x++ can be used as a statement.</li>\n<li>c. The statement x = x + 5 is also an expression.</li>\n<li>d. The statement x = y = x = 0 is illegal. </li>\n</ul>\n\n<p>The correct answers are b and c. However, I don't understand why those two are the answers. Can anybody explain it for me?</p>\n"},{"tags":["java","android","kotlin","android-relativelayout","ontouchlistener"],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689149684,"creation_date":1689144015,"answer_id":76667749,"question_id":76667662,"body_markdown":"In the view class you have [View.getLocationOnScreen()][1]. You don&#39;t mention it directly, but you probably want to transform touch location from local to touched view to relative to screen. But be aware that this means the entire device screen, as is described in documentation:\r\n\r\n&gt; Gets the coordinates of this view in the coordinate space of the\r\n&gt; device screen, irrespective of system decorations and whether the\r\n&gt; system is in multi-window mode.\r\n\r\nIf on the other hand you want to transform coordinates relative to Activity, then use [View.getLocationInWindow()][2]\r\n\r\n&gt; Gets the coordinates of this view in the coordinate space of the &gt; window that contains the view, irrespective of system decorations.\r\n\r\nBoth methods will fill an array of two integers which you can add to your event.x,event.y coordinates which are in touched view coordinates.\r\n\r\nFor example, in your code:\r\n\r\n    if (event.actionMasked == MotionEvent.ACTION_DOWN) {\r\n      val location = IntArray(2)\r\n      view.getLocationOnScreen(location)\r\n      // view.getLocationInWindow(location)\r\n    \r\n      val x = location[0] + event.x\r\n      val y = location[1] + event.y\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/View#getLocationOnScreen(int[])\r\n  [2]:\r\nhttps://developer.android.com/reference/android/view/View#getLocationInWindow(int[])","title":"How to get the x,y coordinates of touch on a View (textview, button etc) in Android","body":"<p>In the view class you have <a href=\"https://developer.android.com/reference/android/view/View#getLocationOnScreen(int%5B%5D)\" rel=\"nofollow noreferrer\">View.getLocationOnScreen()</a>. You don't mention it directly, but you probably want to transform touch location from local to touched view to relative to screen. But be aware that this means the entire device screen, as is described in documentation:</p>\n<blockquote>\n<p>Gets the coordinates of this view in the coordinate space of the\ndevice screen, irrespective of system decorations and whether the\nsystem is in multi-window mode.</p>\n</blockquote>\n<p>If on the other hand you want to transform coordinates relative to Activity, then use <a href=\"https://developer.android.com/reference/android/view/View#getLocationInWindow(int%5B%5D)\" rel=\"nofollow noreferrer\">View.getLocationInWindow()</a></p>\n<blockquote>\n<p>Gets the coordinates of this view in the coordinate space of the &gt; window that contains the view, irrespective of system decorations.</p>\n</blockquote>\n<p>Both methods will fill an array of two integers which you can add to your event.x,event.y coordinates which are in touched view coordinates.</p>\n<p>For example, in your code:</p>\n<pre><code>if (event.actionMasked == MotionEvent.ACTION_DOWN) {\n  val location = IntArray(2)\n  view.getLocationOnScreen(location)\n  // view.getLocationInWindow(location)\n\n  val x = location[0] + event.x\n  val y = location[1] + event.y\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19505437,"reputation":433,"user_id":14270580,"display_name":"Venus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689148467,"creation_date":1689148467,"answer_id":76668295,"question_id":76667662,"body_markdown":"I think you can get the TouchView location easily by using getLocationOnScreen function.\r\n\r\nSo that you can use this:\r\n\r\n    var position = IntArray(2)\r\n    view.getLocationOnScreen(location)\r\n    var absoluteX = position[0] + event.x\r\n    var absoluteY = position[1] + event.y\r\n\r\nPlease check and let me know.\r\nThank you.","title":"How to get the x,y coordinates of touch on a View (textview, button etc) in Android","body":"<p>I think you can get the TouchView location easily by using getLocationOnScreen function.</p>\n<p>So that you can use this:</p>\n<pre><code>var position = IntArray(2)\nview.getLocationOnScreen(location)\nvar absoluteX = position[0] + event.x\nvar absoluteY = position[1] + event.y\n</code></pre>\n<p>Please check and let me know.\nThank you.</p>\n"}],"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76667749,"answer_count":2,"score":1,"last_activity_date":1689149684,"creation_date":1689143152,"question_id":76667662,"body_markdown":"I have the following structure in android\r\n- Relative Layout 1 (background color black)\r\n    - Relative Layout 2 (background color white)\r\n        - TextView 1 (background color red)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nwhen a user touches on my textview(MotionEvent.ACTION_DOWN), I want to get the x&amp;y coordinates of touch.\r\n\r\nI&#39;m able to get the touch coordinates with the following code:\r\n\r\n    title_text_view.setOnTouchListener (object : View.OnTouchListener {\r\n\r\n            override fun onTouch (view: View, event: MotionEvent): Boolean {\r\n\r\n                if (event.actionMasked == MotionEvent.ACTION_DOWN) {\r\n\r\n                        var x:Float\r\n                        var y:Float\r\n\r\n                    x = view.x + event.x\r\n                    y = (view.parent as ViewGroup).y + view.y + event.y\r\n\r\n                    \r\n                }\r\n\r\n                // returning false indicates that the listener has not consumed the touch event\r\n                // If no other listener consumes the event, the system will handle it according to the default behavior\r\n                return false\r\n            }\r\n        })\r\n\r\nAs you can see, to compute my Y coordinate i have to add (event.y + view.y + (view.parent as ViewGroup).y)\r\n\r\nlet&#39;s say I have click on black dot (between click me, see image), wrt to the text ClickMe, (0,0) will start from top left red corner so I can get x,y based on that (event.x &amp; event.y), but to get it wrt to screen&#39;s 0,0 i.e top left black corner I need to find View.y of parent (white part i.e. 50) and View.y of parent&#39;s parent (black part i.e. 900).\r\n\r\nthen compute actual y: 107+50+900\r\n\r\nbut I can have a more complex hierarchical structure i.e. relative layouts inside relative layouts and then finally a textview. Is there any other way to get the x,y coordinates directly without this computation?\r\n\r\nPS: I know I can a setOnTouchListener on the topmost relative layout and get x,y and i&#39;ll get x,y but i have to set event listener on my textview only.\r\n\r\n  [1]: https://i.stack.imgur.com/uwTIIl.png","title":"How to get the x,y coordinates of touch on a View (textview, button etc) in Android","body":"<p>I have the following structure in android</p>\n<ul>\n<li>Relative Layout 1 (background color black)\n<ul>\n<li>Relative Layout 2 (background color white)\n<ul>\n<li>TextView 1 (background color red)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/uwTIIl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uwTIIl.png\" alt=\"enter image description here\" /></a></p>\n<p>when a user touches on my textview(MotionEvent.ACTION_DOWN), I want to get the x&amp;y coordinates of touch.</p>\n<p>I'm able to get the touch coordinates with the following code:</p>\n<pre><code>title_text_view.setOnTouchListener (object : View.OnTouchListener {\n\n        override fun onTouch (view: View, event: MotionEvent): Boolean {\n\n            if (event.actionMasked == MotionEvent.ACTION_DOWN) {\n\n                    var x:Float\n                    var y:Float\n\n                x = view.x + event.x\n                y = (view.parent as ViewGroup).y + view.y + event.y\n\n                \n            }\n\n            // returning false indicates that the listener has not consumed the touch event\n            // If no other listener consumes the event, the system will handle it according to the default behavior\n            return false\n        }\n    })\n</code></pre>\n<p>As you can see, to compute my Y coordinate i have to add (event.y + view.y + (view.parent as ViewGroup).y)</p>\n<p>let's say I have click on black dot (between click me, see image), wrt to the text ClickMe, (0,0) will start from top left red corner so I can get x,y based on that (event.x &amp; event.y), but to get it wrt to screen's 0,0 i.e top left black corner I need to find View.y of parent (white part i.e. 50) and View.y of parent's parent (black part i.e. 900).</p>\n<p>then compute actual y: 107+50+900</p>\n<p>but I can have a more complex hierarchical structure i.e. relative layouts inside relative layouts and then finally a textview. Is there any other way to get the x,y coordinates directly without this computation?</p>\n<p>PS: I know I can a setOnTouchListener on the topmost relative layout and get x,y and i'll get x,y but i have to set event listener on my textview only.</p>\n"},{"tags":["java","ffmpeg","javacv"],"answers":[{"tags":[],"owner":{"account_id":17050079,"reputation":51,"user_id":12335929,"display_name":"zhoutian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689149653,"creation_date":1689149653,"answer_id":76668446,"question_id":76667616,"body_markdown":"finally I found solution: using `PipedOutputStream` and `PipedInputStream` to provide an inputstream for FFmpegFrameGrabber rather than create `FFmpegFrameGrabber`  again and again can make video stream keep alive","title":"Is it feasible to create FFmpegFrameGrabber one by one for single FFmpegFrameRecorder and maintain video stream keep alive?","body":"<p>finally I found solution: using <code>PipedOutputStream</code> and <code>PipedInputStream</code> to provide an inputstream for FFmpegFrameGrabber rather than create <code>FFmpegFrameGrabber</code>  again and again can make video stream keep alive</p>\n"}],"owner":{"account_id":17050079,"reputation":51,"user_id":12335929,"display_name":"zhoutian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689149653,"creation_date":1689142676,"question_id":76667616,"body_markdown":"The reason why I ask these question is I got byte [] of container data(name is dhav) one by one and I need to push that data continuously to RTMP to play。\r\n\r\nWhat&#39;s the current progress I made?\r\n\r\nFor now ，I can push data to RTMP and play RTMP by VLC just for few seconds，then the RTMP stream is end .\r\n\r\nbecause the grabber created by inputstream only contain a few of the data come from ByteBuffer ,when that inputstream is end, the RTMP is closed.\r\n```java\r\nsynchronized (buffer) {\r\n                                buffer.flip();\r\n                                byte[] bytes = new byte[buffer.remaining()];\r\n                                buffer.get(bytes);\r\n                                buffer.clear();\r\n                                isByteBufferFull[0] = false;\r\n                                try {\r\n                                    grabAndPush(bytes, SRS_PUSH_ADDRESS);\r\n                                } catch (Exception e) {\r\n                                    //throw new RuntimeException(e);\r\n                                }\r\n\r\n                            }\r\n```\r\n```java\r\nprivate static synchronized void grabAndPush(byte[] bytes, String pushAddress) throws Exception {\r\n        avutil.av_log_set_level(avutil.AV_LOG_INFO);\r\n        FFmpegLogCallback.set();\r\n\r\n        FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(new ByteArrayInputStream(bytes));\r\n...\r\n}\r\n```\r\nSo can anyone tell me how to keep the RTMP aways alive by FFmpegFrameGrabber and FFmpegFrameRecorder when the source data come from one by one.\r\nvery appreciate &#128515;\r\n\r\nthis is my code:\r\n```java\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.bytedeco.ffmpeg.avcodec.AVCodecParameters;\r\nimport org.bytedeco.ffmpeg.avformat.AVFormatContext;\r\nimport org.bytedeco.ffmpeg.avformat.AVStream;\r\nimport org.bytedeco.ffmpeg.global.avcodec;\r\nimport org.bytedeco.ffmpeg.global.avutil;\r\nimport org.bytedeco.javacv.FFmpegFrameGrabber;\r\nimport org.bytedeco.javacv.FFmpegFrameRecorder;\r\nimport org.bytedeco.javacv.FFmpegLogCallback;\r\nimport org.bytedeco.javacv.Frame;\r\nimport org.jfjy.ch2ji.ecctv.dh.api.ApiService;\r\nimport org.jfjy.ch2ji.ecctv.dh.callback.RealPlayCallback;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.nio.ByteBuffer;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\n@Slf4j\r\npublic class GetBytes2PushRTMPNew2 {\r\n\r\n    private static final String SRS_PUSH_ADDRESS = &quot;rtmp://127.0.0.1:1935/live/livestream&quot;;\r\n\r\n    static int BUFFER_CAPACITY = 1 * 1024 * 1024;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        FFmpegLogCallback.set();\r\n        ApiService apiService = new ApiService();\r\n        Long login = apiService.login(&quot;10.3.0.54&quot;, 8801, &quot;admin&quot;, &quot;xxxx&quot;);\r\n        ByteBuffer buffer = ByteBuffer.allocate(BUFFER_CAPACITY);\r\n        final boolean[] isByteBufferFull = {false};\r\n        apiService.startRealPlay(new RealPlayCallback&lt;Long, Integer, byte[]&gt;() {\r\n            @Override\r\n            public void apply(Long aLong, Integer integer, byte[] bytes) {\r\n                try {\r\n                    //push data to bytebuffer\r\n                    synchronized (buffer) {\r\n                        if (buffer.remaining() &gt; bytes.length) {\r\n                            buffer.put(bytes);\r\n                        } else {\r\n                            isByteBufferFull[0] = true;\r\n                        }\r\n                    }\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }, 0, 0);\r\n\r\n        ExecutorService executorService = Executors.newFixedThreadPool(1);\r\n        executorService.execute(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                while (true) {\r\n                    //get data from bytebuffer when buffer is full\r\n                    synchronized (isByteBufferFull) {\r\n                        if (isByteBufferFull[0]) {\r\n                            synchronized (buffer) {\r\n                                buffer.flip();\r\n                                byte[] bytes = new byte[buffer.remaining()];\r\n                                buffer.get(bytes);\r\n                                buffer.clear();\r\n                                isByteBufferFull[0] = false;\r\n                                try {\r\n                                    //using grabber and recorder to push RTMP\r\n                                    grabAndPush(bytes, SRS_PUSH_ADDRESS);\r\n                                } catch (Exception e) {\r\n                                    //throw new RuntimeException(e);\r\n                                }\r\n\r\n                            }\r\n                        }\r\n                    }\r\n                    try {\r\n                        Thread.sleep(500);\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n\r\n            }\r\n        });\r\n        while (true) {\r\n\r\n        }\r\n    }\r\n\r\n    private static synchronized void grabAndPush(byte[] bytes, String pushAddress) throws Exception {\r\n        avutil.av_log_set_level(avutil.AV_LOG_INFO);\r\n        FFmpegLogCallback.set();\r\n\r\n        FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(new ByteArrayInputStream(bytes));\r\n\r\n\r\n        grabber.setFormat(&quot;dhav&quot;);\r\n        grabber.start();\r\n\r\n        AVFormatContext avFormatContext = grabber.getFormatContext();\r\n\r\n        int streamNum = avFormatContext.nb_streams();\r\n\r\n        if (streamNum &lt; 1) {\r\n            log.error(&quot;no media!&quot;);\r\n            return;\r\n        }\r\n\r\n        int frameRate = (int) grabber.getVideoFrameRate();\r\n        if (0 == frameRate) {\r\n            frameRate = 15;\r\n        }\r\n        log.info(&quot;frameRate[{}]，duration[{}]秒，nb_streams[{}]&quot;,\r\n                frameRate,\r\n                avFormatContext.duration() / 1000000,\r\n                avFormatContext.nb_streams());\r\n\r\n        for (int i = 0; i &lt; streamNum; i++) {\r\n            AVStream avStream = avFormatContext.streams(i);\r\n            AVCodecParameters avCodecParameters = avStream.codecpar();\r\n            log.info(&quot;stream index[{}]，codec type[{}]，codec ID[{}]&quot;, i, avCodecParameters.codec_type(), avCodecParameters.codec_id());\r\n        }\r\n\r\n        int frameWidth = grabber.getImageWidth();\r\n        int frameHeight = grabber.getImageHeight();\r\n        int audioChannels = grabber.getAudioChannels();\r\n\r\n        log.info(&quot;frameWidth[{}]，frameHeight[{}]，audioChannels[{}]&quot;,\r\n                frameWidth,\r\n                frameHeight,\r\n                audioChannels);\r\n\r\n        FFmpegFrameRecorder recorder = new FFmpegFrameRecorder(pushAddress,\r\n                frameWidth,\r\n                frameHeight,\r\n                audioChannels);\r\n\r\n        recorder.setVideoCodec(avcodec.AV_CODEC_ID_H264);\r\n        recorder.setInterleaved(true);\r\n\r\n        recorder.setFormat(&quot;flv&quot;);\r\n\r\n        recorder.setFrameRate(frameRate);\r\n\r\n        recorder.setGopSize(frameRate);\r\n\r\n        recorder.setAudioChannels(grabber.getAudioChannels());\r\n\r\n\r\n        recorder.start();\r\n\r\n\r\n        Frame frame;\r\n\r\n\r\n        log.info(&quot;start push&quot;);\r\n\r\n        int videoFrameNum = 0;\r\n        int audioFrameNum = 0;\r\n        int dataFrameNum = 0;\r\n\r\n        int interVal = 1000 / frameRate;\r\n        interVal /= 8;\r\n\r\n        while (null != (frame = grabber.grab())) {\r\n\r\n            if (null != frame.image) {\r\n                videoFrameNum++;\r\n            }\r\n\r\n            if (null != frame.samples) {\r\n                audioFrameNum++;\r\n            }\r\n\r\n            if (null != frame.data) {\r\n                dataFrameNum++;\r\n            }\r\n\r\n            recorder.record(frame);\r\n\r\n            Thread.sleep(interVal);\r\n        }\r\n\r\n        log.info(&quot;push complete，videoFrameNum[{}]，audioFrameNum[{}]，dataFrameNum[{}]&quot;,\r\n                videoFrameNum,\r\n                audioFrameNum,\r\n                dataFrameNum);\r\n\r\n        recorder.close();\r\n        grabber.close();\r\n    }\r\n\r\n\r\n}\r\n```","title":"Is it feasible to create FFmpegFrameGrabber one by one for single FFmpegFrameRecorder and maintain video stream keep alive?","body":"<p>The reason why I ask these question is I got byte [] of container data(name is dhav) one by one and I need to push that data continuously to RTMP to play。</p>\n<p>What's the current progress I made?</p>\n<p>For now ，I can push data to RTMP and play RTMP by VLC just for few seconds，then the RTMP stream is end .</p>\n<p>because the grabber created by inputstream only contain a few of the data come from ByteBuffer ,when that inputstream is end, the RTMP is closed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>synchronized (buffer) {\n                                buffer.flip();\n                                byte[] bytes = new byte[buffer.remaining()];\n                                buffer.get(bytes);\n                                buffer.clear();\n                                isByteBufferFull[0] = false;\n                                try {\n                                    grabAndPush(bytes, SRS_PUSH_ADDRESS);\n                                } catch (Exception e) {\n                                    //throw new RuntimeException(e);\n                                }\n\n                            }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private static synchronized void grabAndPush(byte[] bytes, String pushAddress) throws Exception {\n        avutil.av_log_set_level(avutil.AV_LOG_INFO);\n        FFmpegLogCallback.set();\n\n        FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(new ByteArrayInputStream(bytes));\n...\n}\n</code></pre>\n<p>So can anyone tell me how to keep the RTMP aways alive by FFmpegFrameGrabber and FFmpegFrameRecorder when the source data come from one by one.\nvery appreciate 😃</p>\n<p>this is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.extern.slf4j.Slf4j;\nimport org.bytedeco.ffmpeg.avcodec.AVCodecParameters;\nimport org.bytedeco.ffmpeg.avformat.AVFormatContext;\nimport org.bytedeco.ffmpeg.avformat.AVStream;\nimport org.bytedeco.ffmpeg.global.avcodec;\nimport org.bytedeco.ffmpeg.global.avutil;\nimport org.bytedeco.javacv.FFmpegFrameGrabber;\nimport org.bytedeco.javacv.FFmpegFrameRecorder;\nimport org.bytedeco.javacv.FFmpegLogCallback;\nimport org.bytedeco.javacv.Frame;\nimport org.jfjy.ch2ji.ecctv.dh.api.ApiService;\nimport org.jfjy.ch2ji.ecctv.dh.callback.RealPlayCallback;\n\nimport java.io.ByteArrayInputStream;\nimport java.nio.ByteBuffer;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n@Slf4j\npublic class GetBytes2PushRTMPNew2 {\n\n    private static final String SRS_PUSH_ADDRESS = &quot;rtmp://127.0.0.1:1935/live/livestream&quot;;\n\n    static int BUFFER_CAPACITY = 1 * 1024 * 1024;\n\n    public static void main(String[] args) throws Exception {\n        FFmpegLogCallback.set();\n        ApiService apiService = new ApiService();\n        Long login = apiService.login(&quot;10.3.0.54&quot;, 8801, &quot;admin&quot;, &quot;xxxx&quot;);\n        ByteBuffer buffer = ByteBuffer.allocate(BUFFER_CAPACITY);\n        final boolean[] isByteBufferFull = {false};\n        apiService.startRealPlay(new RealPlayCallback&lt;Long, Integer, byte[]&gt;() {\n            @Override\n            public void apply(Long aLong, Integer integer, byte[] bytes) {\n                try {\n                    //push data to bytebuffer\n                    synchronized (buffer) {\n                        if (buffer.remaining() &gt; bytes.length) {\n                            buffer.put(bytes);\n                        } else {\n                            isByteBufferFull[0] = true;\n                        }\n                    }\n                } catch (Exception e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }, 0, 0);\n\n        ExecutorService executorService = Executors.newFixedThreadPool(1);\n        executorService.execute(new Runnable() {\n            @Override\n            public void run() {\n                while (true) {\n                    //get data from bytebuffer when buffer is full\n                    synchronized (isByteBufferFull) {\n                        if (isByteBufferFull[0]) {\n                            synchronized (buffer) {\n                                buffer.flip();\n                                byte[] bytes = new byte[buffer.remaining()];\n                                buffer.get(bytes);\n                                buffer.clear();\n                                isByteBufferFull[0] = false;\n                                try {\n                                    //using grabber and recorder to push RTMP\n                                    grabAndPush(bytes, SRS_PUSH_ADDRESS);\n                                } catch (Exception e) {\n                                    //throw new RuntimeException(e);\n                                }\n\n                            }\n                        }\n                    }\n                    try {\n                        Thread.sleep(500);\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n\n            }\n        });\n        while (true) {\n\n        }\n    }\n\n    private static synchronized void grabAndPush(byte[] bytes, String pushAddress) throws Exception {\n        avutil.av_log_set_level(avutil.AV_LOG_INFO);\n        FFmpegLogCallback.set();\n\n        FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(new ByteArrayInputStream(bytes));\n\n\n        grabber.setFormat(&quot;dhav&quot;);\n        grabber.start();\n\n        AVFormatContext avFormatContext = grabber.getFormatContext();\n\n        int streamNum = avFormatContext.nb_streams();\n\n        if (streamNum &lt; 1) {\n            log.error(&quot;no media!&quot;);\n            return;\n        }\n\n        int frameRate = (int) grabber.getVideoFrameRate();\n        if (0 == frameRate) {\n            frameRate = 15;\n        }\n        log.info(&quot;frameRate[{}]，duration[{}]秒，nb_streams[{}]&quot;,\n                frameRate,\n                avFormatContext.duration() / 1000000,\n                avFormatContext.nb_streams());\n\n        for (int i = 0; i &lt; streamNum; i++) {\n            AVStream avStream = avFormatContext.streams(i);\n            AVCodecParameters avCodecParameters = avStream.codecpar();\n            log.info(&quot;stream index[{}]，codec type[{}]，codec ID[{}]&quot;, i, avCodecParameters.codec_type(), avCodecParameters.codec_id());\n        }\n\n        int frameWidth = grabber.getImageWidth();\n        int frameHeight = grabber.getImageHeight();\n        int audioChannels = grabber.getAudioChannels();\n\n        log.info(&quot;frameWidth[{}]，frameHeight[{}]，audioChannels[{}]&quot;,\n                frameWidth,\n                frameHeight,\n                audioChannels);\n\n        FFmpegFrameRecorder recorder = new FFmpegFrameRecorder(pushAddress,\n                frameWidth,\n                frameHeight,\n                audioChannels);\n\n        recorder.setVideoCodec(avcodec.AV_CODEC_ID_H264);\n        recorder.setInterleaved(true);\n\n        recorder.setFormat(&quot;flv&quot;);\n\n        recorder.setFrameRate(frameRate);\n\n        recorder.setGopSize(frameRate);\n\n        recorder.setAudioChannels(grabber.getAudioChannels());\n\n\n        recorder.start();\n\n\n        Frame frame;\n\n\n        log.info(&quot;start push&quot;);\n\n        int videoFrameNum = 0;\n        int audioFrameNum = 0;\n        int dataFrameNum = 0;\n\n        int interVal = 1000 / frameRate;\n        interVal /= 8;\n\n        while (null != (frame = grabber.grab())) {\n\n            if (null != frame.image) {\n                videoFrameNum++;\n            }\n\n            if (null != frame.samples) {\n                audioFrameNum++;\n            }\n\n            if (null != frame.data) {\n                dataFrameNum++;\n            }\n\n            recorder.record(frame);\n\n            Thread.sleep(interVal);\n        }\n\n        log.info(&quot;push complete，videoFrameNum[{}]，audioFrameNum[{}]，dataFrameNum[{}]&quot;,\n                videoFrameNum,\n                audioFrameNum,\n                dataFrameNum);\n\n        recorder.close();\n        grabber.close();\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","caching","redis"],"owner":{"account_id":29000451,"reputation":1,"user_id":22214096,"display_name":"정명진"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689149058,"creation_date":1689149058,"question_id":76668367,"body_markdown":"First of all, sorry for my poor english...\r\n\r\nI have some problems with my spring boot application.\r\n\r\nI want to apply redis cache in my specific method. So I created CacheConfig and coded RedisCacheManagerBuilderCustomizer \r\n\r\nThis is my Redis CacheConfig file\r\n\r\n\r\n```\r\n@Configuration(proxyBeanMethods = false)\r\npublic class CacheConfig {\r\n\r\n    /**\r\n     * GenericJackson2JsonRedisSerializer\r\n     * list 역직렬화시 에러 발생할 수도..?\r\n     * @return\r\n     */\r\n    @Bean\r\n    public RedisCacheConfiguration redisCacheConfiguration() {\r\n        return RedisCacheConfiguration.defaultCacheConfig()\r\n                .entryTtl(Duration.ofSeconds(60))\r\n                .disableCachingNullValues()\r\n                .serializeKeysWith(\r\n                        RedisSerializationContext.SerializationPair.fromSerializer(new StringRedisSerializer())\r\n                )\r\n                .serializeValuesWith(\r\n                        RedisSerializationContext.SerializationPair.fromSerializer(new GenericJackson2JsonRedisSerializer())\r\n                );\r\n    }\r\n\r\n    @Bean\r\n    public RedisCacheManagerBuilderCustomizer redisCacheManagerBuilderCustomizer() {\r\n        System.out.println(&quot;CacheType.PERFORMANCE_LIST.cacheName = &quot; + CacheType.PERFORMANCE_LIST.cacheName);\r\n        System.out.println(&quot;CacheType.DETAIL.cacheName = &quot; + CacheType.PERFORMANCE_DETAIL.cacheName);\r\n        return (builder) -&gt; builder\r\n                .withCacheConfiguration(CacheType.PERFORMANCE_LIST.cacheName,\r\n                        RedisCacheConfiguration.defaultCacheConfig()\r\n                                .prefixCacheNameWith(&quot;cache&quot;)\r\n                                .entryTtl(Duration.ofHours(CacheType.PERFORMANCE_LIST.getExpireTime()))\r\n                                .disableCachingNullValues()\r\n                                .serializeKeysWith(\r\n                                        RedisSerializationContext.SerializationPair.fromSerializer(new StringRedisSerializer())\r\n                                )\r\n                                .serializeValuesWith(\r\n                                        RedisSerializationContext.SerializationPair.fromSerializer(new GenericJackson2JsonRedisSerializer())\r\n                                ))\r\n                .withCacheConfiguration(CacheType.PERFORMANCE_DETAIL.cacheName,\r\n                        RedisCacheConfiguration.defaultCacheConfig()\r\n                                .prefixCacheNameWith(&quot;cache&quot;)\r\n                                .entryTtl(Duration.ofHours(CacheType.PERFORMANCE_DETAIL.getExpireTime()))\r\n                                .disableCachingNullValues()\r\n                                .serializeKeysWith(\r\n                                        RedisSerializationContext.SerializationPair.fromSerializer(new StringRedisSerializer())\r\n                                )\r\n                                .serializeValuesWith(\r\n                                        RedisSerializationContext.SerializationPair.fromSerializer(new GenericJackson2JsonRedisSerializer())\r\n                                ));\r\n    }\r\n\r\n    @Getter\r\n    private enum CacheType{\r\n        PERFORMANCE_LIST(&quot;performanceList&quot;, 12),\r\n        PERFORMANCE_DETAIL(&quot;performanceDetail&quot;, 12);\r\n\r\n        private String cacheName;\r\n        private Integer expireTime;\r\n\r\n        CacheType(String cacheName, Integer expireTime) {\r\n            this.cacheName = cacheName;\r\n            this.expireTime = expireTime;\r\n        }\r\n\r\n        private static final Map&lt;String, CacheType&gt; CACHE_TYPE_MAP;\r\n\r\n        static{\r\n            Map&lt;String, CacheType&gt; map = new ConcurrentHashMap&lt;&gt;();\r\n            for (CacheType cacheType : CacheType.values()) {\r\n                map.put(cacheType.name(), cacheType);\r\n            }\r\n            CACHE_TYPE_MAP = Collections.unmodifiableMap(map);\r\n        }\r\n\r\n        public static CacheType get(String name){\r\n            if (!StringUtils.hasText(name)){\r\n                throw new CustomException(ErrorCode.BAD_REQUEST.getMessage(), ErrorCode.BAD_REQUEST);\r\n            }\r\n            return Optional.ofNullable(CACHE_TYPE_MAP.get(name)).orElseThrow(() -&gt; new CustomException(ErrorCode.CACHE_TYPE_NOT_FOUND.getMessage(), ErrorCode.CACHE_TYPE_NOT_FOUND));\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd This is my specific method that i want to use caching\r\n\r\n\r\n```\r\n@Cacheable(value = &quot;performanceList&quot;, key = &quot;{#sort, #pageable.pageNumber, #pageable.pageSize}&quot;)\r\n    public List&lt;CommonPerformanceDto&gt; getPerformanceBySortAndPage(Pageable pageable, String sort) {\r\n        return performanceRepositoryPort.findAllBySortAndPaging(pageable, sort).stream().map(CommonPerformanceDto::domainToDto).collect(Collectors.toList());\r\n    }\r\n```\r\n\r\nAnd My ProjectApplication Setting is\r\n\r\n\r\n```\r\n@EnableAsync\r\n@EnableCaching\r\n@EnableJpaAuditing\r\n@EnableScheduling\r\n@SpringBootApplication(exclude = {ElastiCacheAutoConfiguration.class})\r\npublic class BackendApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(BackendApplication.class, args);\r\n\t}\r\n\r\n\t@Profile(&quot;dev&quot;)\r\n\t@Bean\r\n\tpublic TestDataInit testDataInit(ArtistRepository artistRepository, PerformanceRepository performanceRepository, UserRepository userRepository, FollowRepository followRepository,\r\n\t\t\t\t\t\t\t\t\t ReviewRepository reviewRepository, UserImageRepository userImageRepository, PasswordEncoder passwordEncoder, UserSearchRepository userSearchRepository,\r\n\t\t\t\t\t\t\t\t\t ZzimRepositoryPort zzimRepositoryPort, PerformerRepository performerRepository) {\r\n\t\treturn new TestDataInit(artistRepository, performanceRepository, userRepository,\r\n\t\t\t\tfollowRepository, reviewRepository, userImageRepository, passwordEncoder,\r\n\t\t\t\tuserSearchRepository, zzimRepositoryPort, performerRepository);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nBut When i requested some api end-point that i applied @Cacheable Method, then I got error like\r\n\r\n\r\n```\r\nCannot find cache named &#39;performanceList&#39; for Builder[public] caches=[performanceList] | key=&#39;{#sort, #pageable.pageNumber, #pageable.pageSize}&#39; | keyGenerator=&#39;&#39; | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39; | unless=&#39;&#39; | sync=&#39;false&#39;]\r\n```\r\n\r\nWhy this error happened?? Please help me...","title":"Why my Spring Boot Can not find redis cache name...?","body":"<p>First of all, sorry for my poor english...</p>\n<p>I have some problems with my spring boot application.</p>\n<p>I want to apply redis cache in my specific method. So I created CacheConfig and coded RedisCacheManagerBuilderCustomizer</p>\n<p>This is my Redis CacheConfig file</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\npublic class CacheConfig {\n\n    /**\n     * GenericJackson2JsonRedisSerializer\n     * list 역직렬화시 에러 발생할 수도..?\n     * @return\n     */\n    @Bean\n    public RedisCacheConfiguration redisCacheConfiguration() {\n        return RedisCacheConfiguration.defaultCacheConfig()\n                .entryTtl(Duration.ofSeconds(60))\n                .disableCachingNullValues()\n                .serializeKeysWith(\n                        RedisSerializationContext.SerializationPair.fromSerializer(new StringRedisSerializer())\n                )\n                .serializeValuesWith(\n                        RedisSerializationContext.SerializationPair.fromSerializer(new GenericJackson2JsonRedisSerializer())\n                );\n    }\n\n    @Bean\n    public RedisCacheManagerBuilderCustomizer redisCacheManagerBuilderCustomizer() {\n        System.out.println(&quot;CacheType.PERFORMANCE_LIST.cacheName = &quot; + CacheType.PERFORMANCE_LIST.cacheName);\n        System.out.println(&quot;CacheType.DETAIL.cacheName = &quot; + CacheType.PERFORMANCE_DETAIL.cacheName);\n        return (builder) -&gt; builder\n                .withCacheConfiguration(CacheType.PERFORMANCE_LIST.cacheName,\n                        RedisCacheConfiguration.defaultCacheConfig()\n                                .prefixCacheNameWith(&quot;cache&quot;)\n                                .entryTtl(Duration.ofHours(CacheType.PERFORMANCE_LIST.getExpireTime()))\n                                .disableCachingNullValues()\n                                .serializeKeysWith(\n                                        RedisSerializationContext.SerializationPair.fromSerializer(new StringRedisSerializer())\n                                )\n                                .serializeValuesWith(\n                                        RedisSerializationContext.SerializationPair.fromSerializer(new GenericJackson2JsonRedisSerializer())\n                                ))\n                .withCacheConfiguration(CacheType.PERFORMANCE_DETAIL.cacheName,\n                        RedisCacheConfiguration.defaultCacheConfig()\n                                .prefixCacheNameWith(&quot;cache&quot;)\n                                .entryTtl(Duration.ofHours(CacheType.PERFORMANCE_DETAIL.getExpireTime()))\n                                .disableCachingNullValues()\n                                .serializeKeysWith(\n                                        RedisSerializationContext.SerializationPair.fromSerializer(new StringRedisSerializer())\n                                )\n                                .serializeValuesWith(\n                                        RedisSerializationContext.SerializationPair.fromSerializer(new GenericJackson2JsonRedisSerializer())\n                                ));\n    }\n\n    @Getter\n    private enum CacheType{\n        PERFORMANCE_LIST(&quot;performanceList&quot;, 12),\n        PERFORMANCE_DETAIL(&quot;performanceDetail&quot;, 12);\n\n        private String cacheName;\n        private Integer expireTime;\n\n        CacheType(String cacheName, Integer expireTime) {\n            this.cacheName = cacheName;\n            this.expireTime = expireTime;\n        }\n\n        private static final Map&lt;String, CacheType&gt; CACHE_TYPE_MAP;\n\n        static{\n            Map&lt;String, CacheType&gt; map = new ConcurrentHashMap&lt;&gt;();\n            for (CacheType cacheType : CacheType.values()) {\n                map.put(cacheType.name(), cacheType);\n            }\n            CACHE_TYPE_MAP = Collections.unmodifiableMap(map);\n        }\n\n        public static CacheType get(String name){\n            if (!StringUtils.hasText(name)){\n                throw new CustomException(ErrorCode.BAD_REQUEST.getMessage(), ErrorCode.BAD_REQUEST);\n            }\n            return Optional.ofNullable(CACHE_TYPE_MAP.get(name)).orElseThrow(() -&gt; new CustomException(ErrorCode.CACHE_TYPE_NOT_FOUND.getMessage(), ErrorCode.CACHE_TYPE_NOT_FOUND));\n        }\n    }\n}\n\n</code></pre>\n<p>And This is my specific method that i want to use caching</p>\n<pre><code>@Cacheable(value = &quot;performanceList&quot;, key = &quot;{#sort, #pageable.pageNumber, #pageable.pageSize}&quot;)\n    public List&lt;CommonPerformanceDto&gt; getPerformanceBySortAndPage(Pageable pageable, String sort) {\n        return performanceRepositoryPort.findAllBySortAndPaging(pageable, sort).stream().map(CommonPerformanceDto::domainToDto).collect(Collectors.toList());\n    }\n</code></pre>\n<p>And My ProjectApplication Setting is</p>\n<pre><code>@EnableAsync\n@EnableCaching\n@EnableJpaAuditing\n@EnableScheduling\n@SpringBootApplication(exclude = {ElastiCacheAutoConfiguration.class})\npublic class BackendApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BackendApplication.class, args);\n    }\n\n    @Profile(&quot;dev&quot;)\n    @Bean\n    public TestDataInit testDataInit(ArtistRepository artistRepository, PerformanceRepository performanceRepository, UserRepository userRepository, FollowRepository followRepository,\n                                     ReviewRepository reviewRepository, UserImageRepository userImageRepository, PasswordEncoder passwordEncoder, UserSearchRepository userSearchRepository,\n                                     ZzimRepositoryPort zzimRepositoryPort, PerformerRepository performerRepository) {\n        return new TestDataInit(artistRepository, performanceRepository, userRepository,\n                followRepository, reviewRepository, userImageRepository, passwordEncoder,\n                userSearchRepository, zzimRepositoryPort, performerRepository);\n    }\n\n}\n</code></pre>\n<p>But When i requested some api end-point that i applied @Cacheable Method, then I got error like</p>\n<pre><code>Cannot find cache named 'performanceList' for Builder[public] caches=[performanceList] | key='{#sort, #pageable.pageNumber, #pageable.pageSize}' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false']\n</code></pre>\n<p>Why this error happened?? Please help me...</p>\n"},{"tags":["java","spring-boot","memory","jvm"],"answers":[{"tags":[],"owner":{"account_id":25798368,"reputation":36,"user_id":19541194,"display_name":"Razmik Vardanyan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1688222923,"creation_date":1688222923,"answer_id":76595210,"question_id":76595054,"body_markdown":"That flags is fully recommended to use especially in production, for avoiding the OutOfMemory Error. But sometimes happens memory leak. This can eat heap memory. You can use java profiler tool for monitoring your jvm heap, figure out the memory leaks and understand for you which configurations will be good. If you are using Intellij you can you the integration of Java profiler: \r\n   [Intellij&lt;-&gt;JProfiler][1]\r\n\r\nThe Xms flag has no default value, and Xmx typically has a default value of 256 MB. Your total heap size must not exceed the amount of physical RAM available. You must leave some physical RAM for other applications to run on your machine. You should set Xms and Xmx to the same value for best performance. These options determine your total heap size. \r\n\r\n\r\n  [1]: https://lp.jetbrains.com/intellij-idea-profiler/?source=google&amp;medium=cpc&amp;campaign=14001267545&amp;term=java%20profiler&amp;content=602098145463&amp;gad=1&amp;gclid=Cj0KCQjwnf-kBhCnARIsAFlg493KQoHKCs3Z8j9yZ6F8OdmO8lu-nJ2ZcIPNqXF3jUYhoA-JTaEEaj4aAq7MEALw_wcB","title":"How to decide ideal memory consumtion Spring boot application","body":"<p>That flags is fully recommended to use especially in production, for avoiding the OutOfMemory Error. But sometimes happens memory leak. This can eat heap memory. You can use java profiler tool for monitoring your jvm heap, figure out the memory leaks and understand for you which configurations will be good. If you are using Intellij you can you the integration of Java profiler:\n<a href=\"https://lp.jetbrains.com/intellij-idea-profiler/?source=google&amp;medium=cpc&amp;campaign=14001267545&amp;term=java%20profiler&amp;content=602098145463&amp;gad=1&amp;gclid=Cj0KCQjwnf-kBhCnARIsAFlg493KQoHKCs3Z8j9yZ6F8OdmO8lu-nJ2ZcIPNqXF3jUYhoA-JTaEEaj4aAq7MEALw_wcB\" rel=\"nofollow noreferrer\">Intellij&lt;-&gt;JProfiler</a></p>\n<p>The Xms flag has no default value, and Xmx typically has a default value of 256 MB. Your total heap size must not exceed the amount of physical RAM available. You must leave some physical RAM for other applications to run on your machine. You should set Xms and Xmx to the same value for best performance. These options determine your total heap size.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689149050,"creation_date":1688291943,"answer_id":76598339,"question_id":76595054,"body_markdown":"&gt; How can I figure out if this memory consumption is Normal or High.\r\n\r\nIt is not possible to &quot;figure it out&quot;.  Memory consumption depends on what your application is, what it does, and the strategies it uses.\r\n\r\nFor example, an application may use a lot of the memory:\r\n\r\n  - because it employs algorithms that require a large in-memory data structures, or\r\n  - because it gets a significant performance benefit by caching things in memory, or\r\n  - because it is poorly designed / implemented; e.g. it has memory leaks, uses too many threads, *unnecessarily* creates large in-memory data structure, and so on.\r\n\r\nSo Normal vs High is highly context dependent.  And a matter of opinion.\r\n\r\n&gt; Is it recommended to use `Xmx` and `Xms` values? \r\n\r\nIt depends on the application.  For example, if you don&#39;t specify the `Xmx` value, a platform-specific formula is used to calculate a default value; see https://stackoverflow.com/questions/4667483.  That default can be appropriate.\r\n\r\n&gt; If yes, how to calculate those values?\r\n\r\nEmpirically.  You try different values and observe what happens.\r\n\r\nIt is worth noting that the JVM needs a proportion of &quot;extra&quot; space so that the GC can work efficiently&lt;sup&gt;1&lt;/sup&gt;.  So even if it was possible to calculate the aggregate of the sizes of all of the application&#39;s objects, the JVM needs substantially more memory than that for efficiency.\r\n\r\n----------------\r\n\r\n&lt;sup&gt;1 - Garbage collectors work by &quot;marking&quot; the heap to determine what is reachable, and then reclaiming the objects that are not reachable.  The work of marking is proportional to the number of reachable objects and references.  When the heap is close to full of reachable objects, the GC will spend lots of time marking, and not find many objects that can be deleted.  Clearly, the GC will be *more efficient* if it can finds lots of actual garbage to reclaim each time it runs.  This implies that the heap needs to be large enough to hold lots of garbage in addition to all of the reachable objects.&lt;/sup&gt;","title":"How to decide ideal memory consumtion Spring boot application","body":"<blockquote>\n<p>How can I figure out if this memory consumption is Normal or High.</p>\n</blockquote>\n<p>It is not possible to &quot;figure it out&quot;.  Memory consumption depends on what your application is, what it does, and the strategies it uses.</p>\n<p>For example, an application may use a lot of the memory:</p>\n<ul>\n<li>because it employs algorithms that require a large in-memory data structures, or</li>\n<li>because it gets a significant performance benefit by caching things in memory, or</li>\n<li>because it is poorly designed / implemented; e.g. it has memory leaks, uses too many threads, <em>unnecessarily</em> creates large in-memory data structure, and so on.</li>\n</ul>\n<p>So Normal vs High is highly context dependent.  And a matter of opinion.</p>\n<blockquote>\n<p>Is it recommended to use <code>Xmx</code> and <code>Xms</code> values?</p>\n</blockquote>\n<p>It depends on the application.  For example, if you don't specify the <code>Xmx</code> value, a platform-specific formula is used to calculate a default value; see <a href=\"https://stackoverflow.com/questions/4667483\">How is the default max Java heap size determined?</a>.  That default can be appropriate.</p>\n<blockquote>\n<p>If yes, how to calculate those values?</p>\n</blockquote>\n<p>Empirically.  You try different values and observe what happens.</p>\n<p>It is worth noting that the JVM needs a proportion of &quot;extra&quot; space so that the GC can work efficiently<sup>1</sup>.  So even if it was possible to calculate the aggregate of the sizes of all of the application's objects, the JVM needs substantially more memory than that for efficiency.</p>\n<hr />\n<p><sup>1 - Garbage collectors work by &quot;marking&quot; the heap to determine what is reachable, and then reclaiming the objects that are not reachable.  The work of marking is proportional to the number of reachable objects and references.  When the heap is close to full of reachable objects, the GC will spend lots of time marking, and not find many objects that can be deleted.  Clearly, the GC will be <em>more efficient</em> if it can finds lots of actual garbage to reclaim each time it runs.  This implies that the heap needs to be large enough to hold lots of garbage in addition to all of the reachable objects.</sup></p>\n"}],"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1689149050,"creation_date":1688220677,"question_id":76595054,"body_markdown":"I am running one of my Spring boot application (CRUD operations) in prod and it&#39;s taking around 400M memory. I haven&#39;t defined any Xmx and Xms values.\r\n\r\nHow can I figure out if this memory consumption is Normal or high. Is it recommended to use Xmx and Xms values? If yes, How to calculate those values?\r\n","title":"How to decide ideal memory consumtion Spring boot application","body":"<p>I am running one of my Spring boot application (CRUD operations) in prod and it's taking around 400M memory. I haven't defined any Xmx and Xms values.</p>\n<p>How can I figure out if this memory consumption is Normal or high. Is it recommended to use Xmx and Xms values? If yes, How to calculate those values?</p>\n"},{"tags":["java","amazon-web-services","kubernetes"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1689166300,"post_id":76667922,"comment_id":135174593,"body_markdown":"What have you tried so far?  What problems are you running into?  The Kubernetes API doesn&#39;t really know anything about AWS, and it can be used on several cloud providers, bare metal, and local systems.","body":"What have you tried so far?  What problems are you running into?  The Kubernetes API doesn&#39;t really know anything about AWS, and it can be used on several cloud providers, bare metal, and local systems."}],"owner":{"account_id":11239050,"reputation":167,"user_id":8244074,"display_name":"abinash sahoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689148873,"creation_date":1689145575,"question_id":76667922,"body_markdown":"I looking for a way to connect to a given aws account and cluster using kube client java api. the account and cluster details will be dynamic not constant\r\n\r\nI have checked kube client java api, but did not getting option to make a connection from one pod to another aws account and cluster kube client","title":"Connect to a account and cluster using kube client java api","body":"<p>I looking for a way to connect to a given aws account and cluster using kube client java api. the account and cluster details will be dynamic not constant</p>\n<p>I have checked kube client java api, but did not getting option to make a connection from one pod to another aws account and cluster kube client</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"score":0,"creation_date":1689148525,"post_id":76668226,"comment_id":135170541,"body_markdown":"Please, post your maven `settings.xml` file.","body":"Please, post your maven <code>settings.xml</code> file."}],"answers":[{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689148866,"creation_date":1689148866,"answer_id":76668335,"question_id":76668226,"body_markdown":"https://mvnrepository.com/artifact/com.lowagie/itextasian also states that the artifact has been relocated to `com.itextpdf:itext-asian`. Change your dependency to the relocated artifact and it should be possible for you to download it.\r\n\r\nAlso note that `mvnrepository.com` is not an actual maven repository host but merely an aggregator of information found in repositories. Information available on `mvnrepository.com` might be outdated/not in sync with your maven repo settings configuration.\r\n\r\nYou might also want to notice that https://mvnrepository.com/artifact/com.lowagie/itextasian/2.0.7 says\r\n\r\n&gt; this artifact is located at EmergyaPub repository (http://nexus.emergya.es/nexus/content/repositories/public/)\r\n\r\nYou need to add this repo to your maven config **if you trust it**.","title":"Failed to import itextasian (Not available Failure to find com.lowagie:itextasian:jar:2.0.7 in https://repo.maven.apache.org/maven2)","body":"<p><a href=\"https://mvnrepository.com/artifact/com.lowagie/itextasian\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.lowagie/itextasian</a> also states that the artifact has been relocated to <code>com.itextpdf:itext-asian</code>. Change your dependency to the relocated artifact and it should be possible for you to download it.</p>\n<p>Also note that <code>mvnrepository.com</code> is not an actual maven repository host but merely an aggregator of information found in repositories. Information available on <code>mvnrepository.com</code> might be outdated/not in sync with your maven repo settings configuration.</p>\n<p>You might also want to notice that <a href=\"https://mvnrepository.com/artifact/com.lowagie/itextasian/2.0.7\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.lowagie/itextasian/2.0.7</a> says</p>\n<blockquote>\n<p>this artifact is located at EmergyaPub repository (<a href=\"http://nexus.emergya.es/nexus/content/repositories/public/\" rel=\"nofollow noreferrer\">http://nexus.emergya.es/nexus/content/repositories/public/</a>)</p>\n</blockquote>\n<p>You need to add this repo to your maven config <strong>if you trust it</strong>.</p>\n"}],"owner":{"account_id":19326316,"reputation":201,"user_id":14128881,"display_name":"Christopher Chua"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689148866,"creation_date":1689147924,"question_id":76668226,"body_markdown":"    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n        &lt;artifactId&gt;itextasian&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI am trying to import this library in my pom.xml file, but I was getting the error of Not available Failure to find com.lowagie:itextasian:jar:2.0.7 in https://repo.maven.apache.org/maven2, but when I check in the https://mvnrepository.com/artifact/com.lowagie/itextasian/2.0.7, this library is still there for me to import. \r\n\r\nMay I know how can I import the itextasian? I have tried to import the jar file directly in intellij, but I will be getting error from the existing itext pdf library.\r\n\r\nPlease be noted that because I am using the com.lowagie&#39;s itext 2.1.5, so if possible I would like to use the itextasian from com.lowagie as well.\r\n\r\n","title":"Failed to import itextasian (Not available Failure to find com.lowagie:itextasian:jar:2.0.7 in https://repo.maven.apache.org/maven2)","body":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n    &lt;artifactId&gt;itextasian&lt;/artifactId&gt;\n    &lt;version&gt;2.0.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I am trying to import this library in my pom.xml file, but I was getting the error of Not available Failure to find com.lowagie:itextasian:jar:2.0.7 in <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>, but when I check in the <a href=\"https://mvnrepository.com/artifact/com.lowagie/itextasian/2.0.7\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.lowagie/itextasian/2.0.7</a>, this library is still there for me to import.</p>\n<p>May I know how can I import the itextasian? I have tried to import the jar file directly in intellij, but I will be getting error from the existing itext pdf library.</p>\n<p>Please be noted that because I am using the com.lowagie's itext 2.1.5, so if possible I would like to use the itextasian from com.lowagie as well.</p>\n"},{"tags":["java","windows","windows-services","jpackage"],"owner":{"account_id":13940013,"reputation":61,"user_id":10066160,"display_name":"Ahmed Saber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689148714,"creation_date":1689148714,"question_id":76668320,"body_markdown":"everyone \r\nI have problem with `jpackage` when i attemp create `windows service` \r\nafter i create java application and need create `installer` using `JPackage` \r\nby using the following commnad\r\n\r\n`jpackage --type msi --input . --app-version 1.0.00 --name my-application  --main-jar ./my-application.jar --main-class org.example.Main --icon &quot;icon.ico&quot;  --win-dir-chooser --win-shortcut --win-menu  --jlink-options --bind-services`\r\n\r\nmy `installer` work fine, but my problem i need application run as a `windows service` and `Jpackage` using [nssm](https://nssm.cc/download) to help create `installer` using `Jpackage` as a `windows service` but there problem after run the following command\r\n\r\n`jpackage --type msi --input . --app-version 1.0.00 --name my-application  --main-jar ./my-application.jar --main-class org.example.Main --icon &quot;icon.ico&quot;  --win-dir-chooser --win-shortcut --win-menu --resource-dir &quot;C:\\nssm-2.24\\win64&quot;  --launcher-as-service --jlink-options --bind-services` \r\n\r\n`installer` run `nssm.exe` not my application in windows service layer\r\n\r\ncan anyone help me in this problem?\r\n\r\nI attemp to read [JPackage](https://docs.oracle.com/en/java/javase/20/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A) documentation \r\n\r\nand using this [answer](https://stackoverflow.com/questions/73951976/how-to-create-launcher-as-windows-service-using-jpackage-java-19) as reference to create `installer` using `Jpackage` and `nssm` ","title":"Can&#39;t Create windows service using JPackage","body":"<p>everyone\nI have problem with <code>jpackage</code> when i attemp create <code>windows service</code>\nafter i create java application and need create <code>installer</code> using <code>JPackage</code>\nby using the following commnad</p>\n<p><code>jpackage --type msi --input . --app-version 1.0.00 --name my-application  --main-jar ./my-application.jar --main-class org.example.Main --icon &quot;icon.ico&quot;  --win-dir-chooser --win-shortcut --win-menu  --jlink-options --bind-services</code></p>\n<p>my <code>installer</code> work fine, but my problem i need application run as a <code>windows service</code> and <code>Jpackage</code> using <a href=\"https://nssm.cc/download\" rel=\"nofollow noreferrer\">nssm</a> to help create <code>installer</code> using <code>Jpackage</code> as a <code>windows service</code> but there problem after run the following command</p>\n<p><code>jpackage --type msi --input . --app-version 1.0.00 --name my-application  --main-jar ./my-application.jar --main-class org.example.Main --icon &quot;icon.ico&quot;  --win-dir-chooser --win-shortcut --win-menu --resource-dir &quot;C:\\nssm-2.24\\win64&quot;  --launcher-as-service --jlink-options --bind-services</code></p>\n<p><code>installer</code> run <code>nssm.exe</code> not my application in windows service layer</p>\n<p>can anyone help me in this problem?</p>\n<p>I attemp to read <a href=\"https://docs.oracle.com/en/java/javase/20/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\" rel=\"nofollow noreferrer\">JPackage</a> documentation</p>\n<p>and using this <a href=\"https://stackoverflow.com/questions/73951976/how-to-create-launcher-as-windows-service-using-jpackage-java-19\">answer</a> as reference to create <code>installer</code> using <code>Jpackage</code> and <code>nssm</code></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":0,"creation_date":1689148422,"post_id":76668260,"comment_id":135170525,"body_markdown":"Could you give some extra details on what scenario you are going to get null from what you defined in application.properties?   There is something called bootstrap.properties in Spring boot but without getting more understanding on your problem, it is hard to tell if it is the proper direction to go","body":"Could you give some extra details on what scenario you are going to get null from what you defined in application.properties?   There is something called bootstrap.properties in Spring boot but without getting more understanding on your problem, it is hard to tell if it is the proper direction to go"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689149701,"post_id":76668260,"comment_id":135170797,"body_markdown":"Hell and welcome. If only some classes are getting null values then most probably the classes are not annotated correctly or they are not found by Spring component scan. Hope it helps you to find the issue. If not - please share the code of relevant classes and of the main application class.","body":"Hell and welcome. If only some classes are getting null values then most probably the classes are not annotated correctly or they are not found by Spring component scan. Hope it helps you to find the issue. If not - please share the code of relevant classes and of the main application class."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689151756,"post_id":76668260,"comment_id":135171343,"body_markdown":"Those are already loaded before anything else. What is the usecase you are trying to solve?","body":"Those are already loaded before anything else. What is the usecase you are trying to solve?"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1689152419,"post_id":76668260,"comment_id":135171505,"body_markdown":"just throwing this out there - common problem with people starting with Spring is that they don&#39;t know that autowiring only works in Spring managed classes (classes that are annotated with `@Component` and such) and then don&#39;t understand why `@Autowired` doesn&#39;t work and values are left as null.","body":"just throwing this out there - common problem with people starting with Spring is that they don&#39;t know that autowiring only works in Spring managed classes (classes that are annotated with <code>@Component</code> and such) and then don&#39;t understand why <code>@Autowired</code> doesn&#39;t work and values are left as null."}],"owner":{"account_id":21069413,"reputation":1,"user_id":15485962,"display_name":"Abhishek Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689148179,"creation_date":1689148179,"question_id":76668260,"body_markdown":"I have a need of loading application.properties pairs in Spring Boot environment before loading all configuration classes and component classes.\r\n\r\nI tried general configuration but some classes got null values on using application.properties keys.","title":"How to load application.properties before all configuration and all components in Spring Boot","body":"<p>I have a need of loading application.properties pairs in Spring Boot environment before loading all configuration classes and component classes.</p>\n<p>I tried general configuration but some classes got null values on using application.properties keys.</p>\n"},{"tags":["java","android","android-studio","gridview","android-imagebutton"],"owner":{"account_id":28542878,"reputation":1,"user_id":21848719,"display_name":"Simo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689148110,"creation_date":1689148110,"question_id":76668254,"body_markdown":"I am trying to let users select their own icon for a task. It will basically like a notes and task application with some RPG elements like EXP and Gold. For the create task activity I made the first screenshot as a layout:[enter image description here](https://i.stack.imgur.com/qayyt.png)\r\n\r\nWhen clicking on the choose Icon button one is taken to another activity with a dynamically populated grid view which looks like this:\r\n[enter image description here](https://i.stack.imgur.com/MLeV2.png)\r\n\r\nI have 2 issues at the moment, the first being that when I click on an Item the scene immediately changes back to the create activity scene without me starting that activity or finishing the other activity at any point in my on item listener.\r\n\r\nThe second one is that the icon of the first image button remains the same eventhough I change it&#39;s source attribute in my code. It should be changed to the selected Icon and be displayed instead of the generic icon search when returning to the create task activity. I am very confused as to why this happens so i really need help what follows is the code I use:\r\n\r\nThis is the code for adding the grid items and changing the image buttons src\r\n\r\n```\r\n    package com.example.rpg_app;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.content.Intent;\r\n    import android.graphics.Color;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.GridView;\r\n    import android.widget.ImageButton;\r\n    import android.widget.ImageView;\r\n\r\n    import com.example.rpg_app.databinding.ActivityMainBinding;\r\n\r\npublic class ChooseIconActivity extends AppCompatActivity {\r\n\r\n    ActivityMainBinding binding;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_choose_icon);\r\n\r\n        int[] iconIds = {\r\n                R.drawable.image_0, R.drawable.image_1, R.drawable.image_2, R.drawable.image_3, R.drawable.image_4,\r\n                R.drawable.image_5, R.drawable.image_6, R.drawable.image_7, R.drawable.image_8, R.drawable.image_9,\r\n                R.drawable.image_10, R.drawable.image_11, R.drawable.image_12, R.drawable.image_13, R.drawable.image_14,\r\n                R.drawable.image_15, R.drawable.image_16, R.drawable.image_17, R.drawable.image_18, R.drawable.image_19,\r\n                R.drawable.image_20, R.drawable.image_21, R.drawable.image_22, R.drawable.image_23, R.drawable.image_24,\r\n                R.drawable.image_25, R.drawable.image_26, R.drawable.image_27, R.drawable.image_28, R.drawable.image_29,\r\n                R.drawable.image_30, R.drawable.image_31, R.drawable.image_32, R.drawable.image_33, R.drawable.image_34,\r\n                R.drawable.image_35, R.drawable.image_36, R.drawable.image_37, R.drawable.image_38, R.drawable.image_39,\r\n                R.drawable.image_40, R.drawable.image_41, R.drawable.image_42, R.drawable.image_43, R.drawable.image_44,\r\n                R.drawable.image_45, R.drawable.image_46, R.drawable.image_47, R.drawable.image_48, R.drawable.image_49,\r\n                R.drawable.image_50, R.drawable.image_51, R.drawable.image_52, R.drawable.image_53, R.drawable.image_54,\r\n                R.drawable.image_55, R.drawable.image_56, R.drawable.image_57, R.drawable.image_58, R.drawable.image_59,\r\n                R.drawable.image_60, R.drawable.image_61, R.drawable.image_62, R.drawable.image_63, R.drawable.image_64,\r\n                R.drawable.image_65, R.drawable.image_66, R.drawable.image_67, R.drawable.image_68, R.drawable.image_69,\r\n                R.drawable.image_70, R.drawable.image_71, R.drawable.image_72, R.drawable.image_73, R.drawable.image_74,\r\n                R.drawable.image_75, R.drawable.image_76, R.drawable.image_77, R.drawable.image_78, R.drawable.image_79,\r\n                R.drawable.image_80, R.drawable.image_81\r\n        };\r\n\r\n        GridView gridView = findViewById(R.id.gridView);\r\n        GridAdapter gridAdapter = new GridAdapter(ChooseIconActivity.this, iconIds);\r\n        gridView.setAdapter(gridAdapter);\r\n\r\n\r\n        gridView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                ImageButton imageButton = findViewById(R.id.iconBtn);\r\n                imageButton.setImageResource(iconIds[i]);\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\n\r\nThis is the code from create task activity:\r\n\r\n```\r\n    package com.example.rpg_app;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.content.Intent;\r\n    import android.graphics.drawable.Drawable;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.ImageButton;\r\n\r\n    public class CreateTaskActivity extends AppCompatActivity {\r\n\r\n        ImageButton imageButton;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_create_task_2);\r\n\r\n            imageButton = findViewById(R.id.iconBtn);\r\n\r\n            imageButton.setOnClickListener(v-&gt; chooseIcon());\r\n        }\r\n\r\n        void chooseIcon(){\r\n            startActivity(new Intent(CreateTaskActivity.this, ChooseIconActivity.class));\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\nI had first implemented the logic to change the activity. After deleting it it still changed activities for some reason. I also tried to use the input to change the background color of the selected item which of course didnt work since the activity keeps chaging","title":"Using the input of a dynamically assigned grid view item in android Studio to change the Icon in another activity does not work","body":"<p>I am trying to let users select their own icon for a task. It will basically like a notes and task application with some RPG elements like EXP and Gold. For the create task activity I made the first screenshot as a layout:<a href=\"https://i.stack.imgur.com/qayyt.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>When clicking on the choose Icon button one is taken to another activity with a dynamically populated grid view which looks like this:\n<a href=\"https://i.stack.imgur.com/MLeV2.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have 2 issues at the moment, the first being that when I click on an Item the scene immediately changes back to the create activity scene without me starting that activity or finishing the other activity at any point in my on item listener.</p>\n<p>The second one is that the icon of the first image button remains the same eventhough I change it's source attribute in my code. It should be changed to the selected Icon and be displayed instead of the generic icon search when returning to the create task activity. I am very confused as to why this happens so i really need help what follows is the code I use:</p>\n<p>This is the code for adding the grid items and changing the image buttons src</p>\n<pre><code>    package com.example.rpg_app;\n\n    import androidx.appcompat.app.AppCompatActivity;\n\n    import android.content.Intent;\n    import android.graphics.Color;\n    import android.os.Bundle;\n    import android.view.View;\n    import android.widget.AdapterView;\n    import android.widget.GridView;\n    import android.widget.ImageButton;\n    import android.widget.ImageView;\n\n    import com.example.rpg_app.databinding.ActivityMainBinding;\n\npublic class ChooseIconActivity extends AppCompatActivity {\n\n    ActivityMainBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_choose_icon);\n\n        int[] iconIds = {\n                R.drawable.image_0, R.drawable.image_1, R.drawable.image_2, R.drawable.image_3, R.drawable.image_4,\n                R.drawable.image_5, R.drawable.image_6, R.drawable.image_7, R.drawable.image_8, R.drawable.image_9,\n                R.drawable.image_10, R.drawable.image_11, R.drawable.image_12, R.drawable.image_13, R.drawable.image_14,\n                R.drawable.image_15, R.drawable.image_16, R.drawable.image_17, R.drawable.image_18, R.drawable.image_19,\n                R.drawable.image_20, R.drawable.image_21, R.drawable.image_22, R.drawable.image_23, R.drawable.image_24,\n                R.drawable.image_25, R.drawable.image_26, R.drawable.image_27, R.drawable.image_28, R.drawable.image_29,\n                R.drawable.image_30, R.drawable.image_31, R.drawable.image_32, R.drawable.image_33, R.drawable.image_34,\n                R.drawable.image_35, R.drawable.image_36, R.drawable.image_37, R.drawable.image_38, R.drawable.image_39,\n                R.drawable.image_40, R.drawable.image_41, R.drawable.image_42, R.drawable.image_43, R.drawable.image_44,\n                R.drawable.image_45, R.drawable.image_46, R.drawable.image_47, R.drawable.image_48, R.drawable.image_49,\n                R.drawable.image_50, R.drawable.image_51, R.drawable.image_52, R.drawable.image_53, R.drawable.image_54,\n                R.drawable.image_55, R.drawable.image_56, R.drawable.image_57, R.drawable.image_58, R.drawable.image_59,\n                R.drawable.image_60, R.drawable.image_61, R.drawable.image_62, R.drawable.image_63, R.drawable.image_64,\n                R.drawable.image_65, R.drawable.image_66, R.drawable.image_67, R.drawable.image_68, R.drawable.image_69,\n                R.drawable.image_70, R.drawable.image_71, R.drawable.image_72, R.drawable.image_73, R.drawable.image_74,\n                R.drawable.image_75, R.drawable.image_76, R.drawable.image_77, R.drawable.image_78, R.drawable.image_79,\n                R.drawable.image_80, R.drawable.image_81\n        };\n\n        GridView gridView = findViewById(R.id.gridView);\n        GridAdapter gridAdapter = new GridAdapter(ChooseIconActivity.this, iconIds);\n        gridView.setAdapter(gridAdapter);\n\n\n        gridView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                ImageButton imageButton = findViewById(R.id.iconBtn);\n                imageButton.setImageResource(iconIds[i]);\n            }\n        });\n    }\n</code></pre>\n<p>This is the code from create task activity:</p>\n<pre><code>    package com.example.rpg_app;\n\n    import androidx.appcompat.app.AppCompatActivity;\n\n    import android.content.Intent;\n    import android.graphics.drawable.Drawable;\n    import android.os.Bundle;\n    import android.view.View;\n    import android.widget.ImageButton;\n\n    public class CreateTaskActivity extends AppCompatActivity {\n\n        ImageButton imageButton;\n\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_create_task_2);\n\n            imageButton = findViewById(R.id.iconBtn);\n\n            imageButton.setOnClickListener(v-&gt; chooseIcon());\n        }\n\n        void chooseIcon(){\n            startActivity(new Intent(CreateTaskActivity.this, ChooseIconActivity.class));\n        }\n    }\n</code></pre>\n<p>I had first implemented the logic to change the activity. After deleting it it still changed activities for some reason. I also tried to use the input to change the background color of the selected item which of course didnt work since the activity keeps chaging</p>\n"},{"tags":["java","debugging","java-8","java-11"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1689148114,"post_id":76668245,"comment_id":135170454,"body_markdown":"You have libraries on your classpath which provide packages which are already provided by Java itself, in this case `org.w3c.dom`. Remove those libraries (or upgrade to a version which no longer includes those packages). If you use a modular project, Java doesn&#39;t allow split packages at all, if you don&#39;t use a modular project, Java doesn&#39;t allow split packages for packages which are part of the Java runtime (the classpath is essentially treated as one module, which can&#39;t split packages with modules of Java itself).","body":"You have libraries on your classpath which provide packages which are already provided by Java itself, in this case <code>org.w3c.dom</code>. Remove those libraries (or upgrade to a version which no longer includes those packages). If you use a modular project, Java doesn&#39;t allow split packages at all, if you don&#39;t use a modular project, Java doesn&#39;t allow split packages for packages which are part of the Java runtime (the classpath is essentially treated as one module, which can&#39;t split packages with modules of Java itself)."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689233447,"post_id":76668245,"comment_id":135184961,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29000364,"reputation":1,"user_id":22214024,"display_name":"Muthu Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689148058,"creation_date":1689148058,"question_id":76668245,"body_markdown":"- Error after changing Java from Java 1.8 to Java 11.\r\nThe package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml.\r\n- Module path is not used.\r\n\r\n- below class files are imported, but errors occurring\r\n1. import javax.xml.XMLConstants;\r\n2. import org.w3c.dom.Document;\r\n\r\n- The package javax.xml is accessible from more than one module: &lt;unnamed&gt;, java.xml\r\n\r\nHow to solve this issue?","title":"Eclipse JDK8 to JDK11 Issue: Package is accessible from more than one module","body":"<ul>\n<li><p>Error after changing Java from Java 1.8 to Java 11.\nThe package org.w3c.dom is accessible from more than one module: , java.xml.</p>\n</li>\n<li><p>Module path is not used.</p>\n</li>\n<li><p>below class files are imported, but errors occurring</p>\n</li>\n</ul>\n<ol>\n<li>import javax.xml.XMLConstants;</li>\n<li>import org.w3c.dom.Document;</li>\n</ol>\n<ul>\n<li>The package javax.xml is accessible from more than one module: , java.xml</li>\n</ul>\n<p>How to solve this issue?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1689148109,"post_id":76668236,"comment_id":135170453,"body_markdown":"and what is your problem ?","body":"and what is your problem ?"},{"owner":{"account_id":28999990,"reputation":1,"user_id":22213725,"display_name":"Kashaf Ali"},"score":0,"creation_date":1689149837,"post_id":76668236,"comment_id":135170842,"body_markdown":"i have mentioned above","body":"i have mentioned above"},{"owner":{"account_id":28999990,"reputation":1,"user_id":22213725,"display_name":"Kashaf Ali"},"score":0,"creation_date":1689149948,"post_id":76668236,"comment_id":135170873,"body_markdown":"i want when user click on wrong option button button color chages to red and it also highlights correct button with green color","body":"i want when user click on wrong option button button color chages to red and it also highlights correct button with green color"},{"owner":{"account_id":25373014,"reputation":101,"user_id":19305634,"display_name":"datacube"},"score":0,"creation_date":1689152725,"post_id":76668236,"comment_id":135171572,"body_markdown":"@KashafAli are you asking for someone to develop a feature for you?","body":"@KashafAli are you asking for someone to develop a feature for you?"}],"owner":{"account_id":28999990,"reputation":1,"user_id":22213725,"display_name":"Kashaf Ali"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689148027,"creation_date":1689148027,"question_id":76668236,"body_markdown":"I am creating a quiz app in android studio using java i want to add a feature that if user select wrong option it gives red color and also it tells the correct answer by highlighting correct answer color green and switch to next question.\r\nAnd when user selects correct answer it gives green color and switch to next question.\r\n\r\nHere is my code\r\n\r\n\r\n```\r\n  option1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(option1.getText()==mAnswer){\r\n                    option1.setBackgroundColor(Color.GREEN);\r\n                    mScore++;\r\n                    scores.setText(&quot;Score: &quot; + mScore);\r\n                    updateQuestions(r.nextInt(mQuestionsLength));\r\n                }\r\n                else if(option2.getText()==mAnswer){\r\n                    option2.setBackgroundColor(Color.GREEN);\r\n                } else if(option3.getText()==mAnswer){\r\n                    option3.setBackgroundColor(Color.GREEN);\r\n                } else if(option4.getText()==mAnswer){\r\n                    option4.setBackgroundColor(Color.GREEN);\r\n                }\r\n\r\n                else{\r\n\r\n                    gameOver();\r\n                }\r\n\r\n            }\r\n        });\r\n        option2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(option2.getText()==mAnswer){\r\n                    option2.setBackgroundColor(Color.GREEN);\r\n                    mScore++;\r\n                    scores.setText(&quot;Score: &quot; + mScore);\r\n                    updateQuestions(r.nextInt(mQuestionsLength));\r\n                }\r\n                else if(option1.getText()==mAnswer){\r\n                    option1.setBackgroundColor(Color.GREEN);\r\n                } else if(option3.getText()==mAnswer){\r\n                    option3.setBackgroundColor(Color.GREEN);\r\n                } else if(option4.getText()==mAnswer){\r\n                    option4.setBackgroundColor(Color.GREEN);\r\n                }\r\n                else{\r\n                    gameOver();\r\n                }\r\n\r\n            }\r\n        });\r\n        option3.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(option3.getText()==mAnswer){\r\n                    option3.setBackgroundColor(Color.GREEN);\r\n                    mScore++;\r\n                    scores.setText(&quot;Score: &quot; + mScore);\r\n                    updateQuestions(r.nextInt(mQuestionsLength));\r\n                }\r\n                else if(option1.getText()==mAnswer){\r\n                    option1.setBackgroundColor(Color.GREEN);\r\n                } else if(option2.getText()==mAnswer){\r\n                    option2.setBackgroundColor(Color.GREEN);\r\n                } else if(option4.getText()==mAnswer){\r\n                    option4.setBackgroundColor(Color.GREEN);\r\n                }\r\n                else{\r\n                    gameOver();\r\n                }\r\n\r\n            }\r\n        });\r\n        option4.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(option4.getText()==mAnswer){\r\n                    option4.setBackgroundColor(Color.GREEN);\r\n                    mScore++;\r\n                    scores.setText(&quot;Score: &quot; + mScore);\r\n                    updateQuestions(r.nextInt(mQuestionsLength));\r\n                }\r\n                else if(option1.getText()==mAnswer){\r\n                    option1.setBackgroundColor(Color.GREEN);\r\n                } else if(option2.getText()==mAnswer){\r\n                    option2.setBackgroundColor(Color.GREEN);\r\n                } else if(option3.getText()==mAnswer){\r\n                    option3.setBackgroundColor(Color.GREEN);\r\n                }\r\n                else{\r\n                    gameOver();\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n    private void updateQuestions(int num){\r\n\r\n        question.setImageResource(mQuestions.getQuestion(num));\r\n        option1.setText(mQuestions.getChoice1(num));\r\n        option2.setText(mQuestions.getChoice2(num));\r\n        option3.setText(mQuestions.getChoice3(num));\r\n        option4.setText(mQuestions.getChoice4(num));\r\n\r\n        mAnswer= mQuestions.getCorrectAnswer(num);\r\n    } private void gameOver(){\r\n        AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(MainActivity.this);\r\n        alertDialogBuilder\r\n                .setMessage(&quot;Game Over! Your Score is &quot; +mScore + &quot; points.&quot;)\r\n                .setCancelable(false)\r\n                .setPositiveButton(&quot;NEW GAME&quot;,\r\n                        new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                startActivity(new Intent(getApplicationContext(),MainActivity.class));\r\n                                finish();\r\n                            }\r\n                        })\r\n                .setNegativeButton(&quot;EXIT&quot;,\r\n                        new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                finish();\r\n                            }\r\n                        });\r\n        AlertDialog alertDialog = alertDialogBuilder.create();\r\n        alertDialog.show();\r\n    }\r\n}\r\n```\r\n","title":"Creating a quiz app when user selects wrong answer it gives color red and also highlights correct answer with green color","body":"<p>I am creating a quiz app in android studio using java i want to add a feature that if user select wrong option it gives red color and also it tells the correct answer by highlighting correct answer color green and switch to next question.\nAnd when user selects correct answer it gives green color and switch to next question.</p>\n<p>Here is my code</p>\n<pre><code>  option1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(option1.getText()==mAnswer){\n                    option1.setBackgroundColor(Color.GREEN);\n                    mScore++;\n                    scores.setText(&quot;Score: &quot; + mScore);\n                    updateQuestions(r.nextInt(mQuestionsLength));\n                }\n                else if(option2.getText()==mAnswer){\n                    option2.setBackgroundColor(Color.GREEN);\n                } else if(option3.getText()==mAnswer){\n                    option3.setBackgroundColor(Color.GREEN);\n                } else if(option4.getText()==mAnswer){\n                    option4.setBackgroundColor(Color.GREEN);\n                }\n\n                else{\n\n                    gameOver();\n                }\n\n            }\n        });\n        option2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(option2.getText()==mAnswer){\n                    option2.setBackgroundColor(Color.GREEN);\n                    mScore++;\n                    scores.setText(&quot;Score: &quot; + mScore);\n                    updateQuestions(r.nextInt(mQuestionsLength));\n                }\n                else if(option1.getText()==mAnswer){\n                    option1.setBackgroundColor(Color.GREEN);\n                } else if(option3.getText()==mAnswer){\n                    option3.setBackgroundColor(Color.GREEN);\n                } else if(option4.getText()==mAnswer){\n                    option4.setBackgroundColor(Color.GREEN);\n                }\n                else{\n                    gameOver();\n                }\n\n            }\n        });\n        option3.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(option3.getText()==mAnswer){\n                    option3.setBackgroundColor(Color.GREEN);\n                    mScore++;\n                    scores.setText(&quot;Score: &quot; + mScore);\n                    updateQuestions(r.nextInt(mQuestionsLength));\n                }\n                else if(option1.getText()==mAnswer){\n                    option1.setBackgroundColor(Color.GREEN);\n                } else if(option2.getText()==mAnswer){\n                    option2.setBackgroundColor(Color.GREEN);\n                } else if(option4.getText()==mAnswer){\n                    option4.setBackgroundColor(Color.GREEN);\n                }\n                else{\n                    gameOver();\n                }\n\n            }\n        });\n        option4.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(option4.getText()==mAnswer){\n                    option4.setBackgroundColor(Color.GREEN);\n                    mScore++;\n                    scores.setText(&quot;Score: &quot; + mScore);\n                    updateQuestions(r.nextInt(mQuestionsLength));\n                }\n                else if(option1.getText()==mAnswer){\n                    option1.setBackgroundColor(Color.GREEN);\n                } else if(option2.getText()==mAnswer){\n                    option2.setBackgroundColor(Color.GREEN);\n                } else if(option3.getText()==mAnswer){\n                    option3.setBackgroundColor(Color.GREEN);\n                }\n                else{\n                    gameOver();\n                }\n\n            }\n        });\n    }\n    private void updateQuestions(int num){\n\n        question.setImageResource(mQuestions.getQuestion(num));\n        option1.setText(mQuestions.getChoice1(num));\n        option2.setText(mQuestions.getChoice2(num));\n        option3.setText(mQuestions.getChoice3(num));\n        option4.setText(mQuestions.getChoice4(num));\n\n        mAnswer= mQuestions.getCorrectAnswer(num);\n    } private void gameOver(){\n        AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(MainActivity.this);\n        alertDialogBuilder\n                .setMessage(&quot;Game Over! Your Score is &quot; +mScore + &quot; points.&quot;)\n                .setCancelable(false)\n                .setPositiveButton(&quot;NEW GAME&quot;,\n                        new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n                                startActivity(new Intent(getApplicationContext(),MainActivity.class));\n                                finish();\n                            }\n                        })\n                .setNegativeButton(&quot;EXIT&quot;,\n                        new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n                                finish();\n                            }\n                        });\n        AlertDialog alertDialog = alertDialogBuilder.create();\n        alertDialog.show();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","project-reactor","micrometer-tracing"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1688773821,"post_id":76631278,"comment_id":135123449,"body_markdown":"your first question yes, your second question, what is &quot;correct&quot; is subjective and we are not a code giving service. You have not provided a single line of code se we have no idea what your solution looks like so it is impossible for us to know what is the &quot;correct&quot; solution for you. Good luck","body":"your first question yes, your second question, what is &quot;correct&quot; is subjective and we are not a code giving service. You have not provided a single line of code se we have no idea what your solution looks like so it is impossible for us to know what is the &quot;correct&quot; solution for you. Good luck"},{"owner":{"account_id":15984551,"reputation":41,"user_id":11535404,"display_name":"Airidas36"},"score":0,"creation_date":1688970569,"post_id":76631278,"comment_id":135140891,"body_markdown":"@Toerktumlare I updated the question with some code for context","body":"@Toerktumlare I updated the question with some code for context"}],"answers":[{"tags":[],"owner":{"account_id":11796849,"reputation":101,"user_id":8631387,"display_name":"Gaurav Bhatia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689052888,"creation_date":1689052888,"answer_id":76658896,"question_id":76631278,"body_markdown":"Spring boot 3.x uses micrometer tracing. All Spring Boot default configurations works with `micrometer Observation API`.\r\nwebflux webclient expects Observation object with key &quot;micrometer.observation&quot; to read any Observation set in current context else it starts a new observation and hence following code does not work\r\n```\r\ncontextWrite(Context.of(TraceContext.class, context));\r\n```\r\n\r\nPossible solutions to this problem\r\n\r\n 1. Use Spring Cloud binder for RabbitMQ. It supports reactive specification including receiving messages from MQ as Flux. There is zero code required to make all your scenarios work. For example, Spring WebFlux will read trace/span from request header and add it to request context. It will add this to outgoing remote calls including web calls and messages (rabbitMQ). It will read these headers on incoming messages and create span from same for any outgoing calls. All your scenarios will work out of box. You can debug this in logs if using MDC (logback etc.) as it adds trace information in MDC context and takes care of most of scenarios of context switching.\r\n 2. Instead of setting TraceContext in context, write specific ids like trace/span/parent etc directly in context and then add them to right header values when making downstream calls. Do not worry about context switches or which thread will execute webclient calls. If you simply set `Hooks.enableAutomaticContextPropagation();` in main class then with minimal overhead your context should be passed.\r\n\r\n 3. This is bit complex but I could not think of any easier solution. Create a custom io.micrometer.observation.transport.ReceiverContext and create a new Observation on same. You will not have to worry about reading spans from header as default propogator will extract it from message header. Taking inspiration from Spring RabbitMQ Message Listener does\r\n```\r\nCreate new ReceiverContext class similar to org.springframework.amqp.rabbit.support.micrometer.RabbitMessageReceiverContext\r\n\r\n---\r\n//Create new observation in receiver\r\nObservation observation = Observation.createNotStarted(...); // Resolve ObservationRegistry Bean and pass custom receiver context\r\n//Simply add code between \r\nobservation.observe(()-&gt;//your code) // this will be added to ThreadLocal and Context\r\n\r\n// PropagatingReceiverTracingObservationHandler already added to registry handler will handle this observation and extract the required header from message","title":"How to manually create and inject TraceContext into Reactor Context in Spring Webflux?","body":"<p>Spring boot 3.x uses micrometer tracing. All Spring Boot default configurations works with <code>micrometer Observation API</code>.\nwebflux webclient expects Observation object with key &quot;micrometer.observation&quot; to read any Observation set in current context else it starts a new observation and hence following code does not work</p>\n<pre><code>contextWrite(Context.of(TraceContext.class, context));\n</code></pre>\n<p>Possible solutions to this problem</p>\n<ol>\n<li><p>Use Spring Cloud binder for RabbitMQ. It supports reactive specification including receiving messages from MQ as Flux. There is zero code required to make all your scenarios work. For example, Spring WebFlux will read trace/span from request header and add it to request context. It will add this to outgoing remote calls including web calls and messages (rabbitMQ). It will read these headers on incoming messages and create span from same for any outgoing calls. All your scenarios will work out of box. You can debug this in logs if using MDC (logback etc.) as it adds trace information in MDC context and takes care of most of scenarios of context switching.</p>\n</li>\n<li><p>Instead of setting TraceContext in context, write specific ids like trace/span/parent etc directly in context and then add them to right header values when making downstream calls. Do not worry about context switches or which thread will execute webclient calls. If you simply set <code>Hooks.enableAutomaticContextPropagation();</code> in main class then with minimal overhead your context should be passed.</p>\n</li>\n<li><p>This is bit complex but I could not think of any easier solution. Create a custom io.micrometer.observation.transport.ReceiverContext and create a new Observation on same. You will not have to worry about reading spans from header as default propogator will extract it from message header. Taking inspiration from Spring RabbitMQ Message Listener does</p>\n</li>\n</ol>\n<pre><code>Create new ReceiverContext class similar to org.springframework.amqp.rabbit.support.micrometer.RabbitMessageReceiverContext\n\n---\n//Create new observation in receiver\nObservation observation = Observation.createNotStarted(...); // Resolve ObservationRegistry Bean and pass custom receiver context\n//Simply add code between \nobservation.observe(()-&gt;//your code) // this will be added to ThreadLocal and Context\n\n// PropagatingReceiverTracingObservationHandler already added to registry handler will handle this observation and extract the required header from message\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15984551,"reputation":41,"user_id":11535404,"display_name":"Airidas36"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689147892,"creation_date":1689147892,"answer_id":76668219,"question_id":76631278,"body_markdown":"I managed to get it working by following [@Gaurav][1] advice and creating my own custom `ReceiverContext` which looks like this:\r\n\r\n    public class RabbitReceiverContext extends ReceiverContext&lt;AcknowledgableDelivery&gt; {\r\n\r\n        private final String queue;\r\n        private final String listenerId;\r\n\r\n        public RabbitReceiverContext(AcknowledgableDelivery message, String queueName, String listenerId) {\r\n            super((carrier, key) -&gt; carrier.getProperties().getHeaders().getOrDefault(key, &quot;&quot;).toString());\r\n            setCarrier(message);\r\n            this.listenerId = listenerId;\r\n            this.queue = queueName;\r\n            setRemoteServiceName(&quot;RabbitMQ&quot;);\r\n        }\r\n\r\n        public String getListenerId() {\r\n            return this.listenerId;\r\n        }\r\n    \r\n        public String getSource() {\r\n            return this.queue;\r\n        }\r\n    }\r\n\r\nThen, I am able to pass it on to the `Observation` that I am creating in the `EventMessageListener` `handleMessage()` method, note - it did not work out of the box, I also had to add `.contextWrite(Context.of(ObservationThreadLocalAccessor.KEY, observation))` for it to work:\r\n\r\n    private Mono&lt;Void&gt; handleMessage(AcknowledgableDelivery message) {\r\n        var observation = Observation.createNotStarted(\r\n                &quot;calculation&quot;,\r\n                () -&gt; new RabbitReceiverContext(message, eventMessageReceiverProperties.getQueue(), eventReceiver.toString()), \r\n                observationRegistry\r\n        );\r\n        return observation.observe(() -&gt; \r\n                Mono.defer(() -&gt; eventMessageDispatcher.dispatch(message)\r\n                                .doOnSuccess(v -&gt; message.ack())\r\n                                .onErrorResume(ex -&gt; {\r\n                                    log.error(&quot;Failed to handle message {}&quot;, new String(message.getBody()));\r\n                                    log.error(&quot;Exception:&quot;, ex);\r\n                                    message.nack(false);\r\n                                    return Mono.empty();\r\n                                 })\r\n                ).contextWrite(Context.of(ObservationThreadLocalAccessor.KEY, observation))\r\n        );\r\n    }\r\n\r\nOne more thing to note - I also had to adjust the message to publishing to construct a `traceparent` header, because `micrometer` is using W3C Context Propagation by default. Header construction is done like this in the `CalculationInitializer`:\r\n\r\n    private AMQP.BasicProperties messageProperties(EventPublisherProperties.EventConfig eventConfig) {\r\n        var traceId = tracer.currentTraceContext().context().traceId();\r\n        var spanId = tracer.currentTraceContext().context().spanId();\r\n        var traceParent = String.format(&quot;00-%s-%s-00&quot;, traceId, spanId);\r\n        return new AMQP.BasicProperties.Builder()\r\n                .headers(Map.of(EVENT_TYPE_HEADER, eventConfig.headerValue(), &quot;traceparent&quot;, traceParent))\r\n                .build();\r\n    }\r\n\r\nAfter these changes were implemented every `WebClient` `exchange()` is automatically propagating the traceId from the initial request.\r\n\r\n  [1]: https://stackoverflow.com/users/8631387/gaurav-bhatia","title":"How to manually create and inject TraceContext into Reactor Context in Spring Webflux?","body":"<p>I managed to get it working by following <a href=\"https://stackoverflow.com/users/8631387/gaurav-bhatia\">@Gaurav</a> advice and creating my own custom <code>ReceiverContext</code> which looks like this:</p>\n<pre><code>public class RabbitReceiverContext extends ReceiverContext&lt;AcknowledgableDelivery&gt; {\n\n    private final String queue;\n    private final String listenerId;\n\n    public RabbitReceiverContext(AcknowledgableDelivery message, String queueName, String listenerId) {\n        super((carrier, key) -&gt; carrier.getProperties().getHeaders().getOrDefault(key, &quot;&quot;).toString());\n        setCarrier(message);\n        this.listenerId = listenerId;\n        this.queue = queueName;\n        setRemoteServiceName(&quot;RabbitMQ&quot;);\n    }\n\n    public String getListenerId() {\n        return this.listenerId;\n    }\n\n    public String getSource() {\n        return this.queue;\n    }\n}\n</code></pre>\n<p>Then, I am able to pass it on to the <code>Observation</code> that I am creating in the <code>EventMessageListener</code> <code>handleMessage()</code> method, note - it did not work out of the box, I also had to add <code>.contextWrite(Context.of(ObservationThreadLocalAccessor.KEY, observation))</code> for it to work:</p>\n<pre><code>private Mono&lt;Void&gt; handleMessage(AcknowledgableDelivery message) {\n    var observation = Observation.createNotStarted(\n            &quot;calculation&quot;,\n            () -&gt; new RabbitReceiverContext(message, eventMessageReceiverProperties.getQueue(), eventReceiver.toString()), \n            observationRegistry\n    );\n    return observation.observe(() -&gt; \n            Mono.defer(() -&gt; eventMessageDispatcher.dispatch(message)\n                            .doOnSuccess(v -&gt; message.ack())\n                            .onErrorResume(ex -&gt; {\n                                log.error(&quot;Failed to handle message {}&quot;, new String(message.getBody()));\n                                log.error(&quot;Exception:&quot;, ex);\n                                message.nack(false);\n                                return Mono.empty();\n                             })\n            ).contextWrite(Context.of(ObservationThreadLocalAccessor.KEY, observation))\n    );\n}\n</code></pre>\n<p>One more thing to note - I also had to adjust the message to publishing to construct a <code>traceparent</code> header, because <code>micrometer</code> is using W3C Context Propagation by default. Header construction is done like this in the <code>CalculationInitializer</code>:</p>\n<pre><code>private AMQP.BasicProperties messageProperties(EventPublisherProperties.EventConfig eventConfig) {\n    var traceId = tracer.currentTraceContext().context().traceId();\n    var spanId = tracer.currentTraceContext().context().spanId();\n    var traceParent = String.format(&quot;00-%s-%s-00&quot;, traceId, spanId);\n    return new AMQP.BasicProperties.Builder()\n            .headers(Map.of(EVENT_TYPE_HEADER, eventConfig.headerValue(), &quot;traceparent&quot;, traceParent))\n            .build();\n}\n</code></pre>\n<p>After these changes were implemented every <code>WebClient</code> <code>exchange()</code> is automatically propagating the traceId from the initial request.</p>\n"}],"owner":{"account_id":15984551,"reputation":41,"user_id":11535404,"display_name":"Airidas36"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1614,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76658896,"answer_count":2,"score":0,"last_activity_date":1689147892,"creation_date":1688664852,"question_id":76631278,"body_markdown":"**Background:** I have a service running on Spring Boot 3.1.0 which communicates via REST and AMQP. After it is invoked via REST, it publishes the REST payload&#39;s content to a RabbitMQ Queue using `reactor-rabbitmq` and immediately returns a HTTP response. \r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(&quot;${api.baseurl}&quot;)\r\n    public class CalculationInitiateController {\r\n\r\n        private final RequestMapper requestMapper;\r\n        private final ResponseMapper responseMapper;\r\n        private final CalculationInitializer initializer;\r\n\r\n        @ResponseStatus(code = HttpStatus.CREATED)\r\n        @PostMapping(&quot;/initiate&quot;)\r\n        public Mono&lt;CalculationInitResponseDto&gt; initiateCalculation(@RequestBody @Valid CalculationInitiationRequestDto request) {\r\n            return Mono.just(requestMapper.map(request))\r\n                    .flatMap(initializer::initiateCalculation)\r\n                    .map(responseMapper::map);\r\n        }\r\n    }\r\n\r\nEvent publishing via `reactor-rabbitmq`:\r\n\r\n\r\n    @Slf4j\r\n    @AllArgsConstructor\r\n    @Service\r\n    public class CalculationInitializer {\r\n\r\n        private final Sender sender;\r\n\t    private final ObjectMapper objectMapper;\r\n\t    private final EventPublisherProperties eventPublisherProperties;\r\n        private final OutboundMessageFactory messageFactory;\r\n\r\n        public Mono&lt;Boolean&gt; initialize(CalculationEvent calculationEvent) {\r\n            log.info(&quot;Publishing internal {} event for calculation: {}&quot;, eventType, calculationEvent.request().calculationId());\r\n\t\t    var bytePayload = objectMapper.writeValueAsBytes(calculationEvent);\r\n            var outboundMessage = new OutboundMessage(&quot;&quot;, eventConfig.getRoutingKey(), messageProperties(eventConfig), bytePayload);\r\n            return send(outboundMessage);    \r\n\t    }\r\n\t\r\n\t    private AMQP.BasicProperties messageProperties(EventPublisherProperties.EventConfig eventConfig) {\r\n            var context = tracer.currentTraceContext().context();\r\n            return new AMQP.BasicProperties.Builder()\r\n                    .correlationId(context.traceId())\r\n                    .headers(Map.of(EVENT_TYPE_HEADER, eventConfig.headerValue(), &quot;traceId&quot;, context.traceId(), &quot;spanId&quot;, context.spanId()))\r\n                    .build();\r\n        }\r\n\r\n        private Mono&lt;Boolean&gt; send(OutboundMessage outboundMessage) {\r\n            return sender.sendWithPublishConfirms(Mono.just(outboundMessage)).next()\r\n                    .flatMap(this::checkIfAcknowledged);\r\n        }\r\n\r\n        private Mono&lt;Boolean&gt; checkIfAcknowledged(OutboundMessageResult&lt;OutboundMessage&gt; result) {\r\n            if (result.isAck()) {\r\n                return Mono.just(Boolean.TRUE);\r\n            } else {\r\n                log.warn(&quot;Message not Acknowledged !!&quot;);\r\n                return Mono.error(new IllegalStateException(&quot;Did not receive ACK on message send&quot;));\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nA Rabbit receiver (also from `reactor-rabbitmq`) later on consumes the message and calls multiple APIs. \r\n\r\n    @Slf4j\r\n    @Component\r\n    @AllArgsConstructor\r\n    public class EventMessageListener {\r\n\r\n        private final EventMessageReceiverProperties eventMessageReceiverProperties;\r\n        private final Receiver eventReceiver;\r\n        private final ConsumeOptions consumeOptions;\r\n        private final Tracer tracer;\r\n\t    private final CalculationEventHandler calculationEventHandler;\r\n\r\n        @EventListener(ApplicationReadyEvent.class)\r\n        public void receiveMessages() {\r\n            eventReceiver.consumeManualAck(eventMessageReceiverProperties.getQueue(), consumeOptions)\r\n                    .flatMap(this::handleMessage)\r\n                    .doFinally(s -&gt; eventReceiver.close())\r\n                    .subscribe();\r\n        }\r\n\r\n        private Mono&lt;Void&gt; handleMessage(AcknowledgableDelivery message) {\r\n            var traceId = message.getProperties().getHeaders().get(&quot;traceId&quot;).toString();\r\n            var spanId = message.getProperties().getHeaders().get(&quot;spanId&quot;).toString();\r\n            var context = tracer.traceContextBuilder().traceId(traceId).spanId(spanId).build();\r\n            return Mono.defer(() -&gt; calculationEventHandler.handle(message)\r\n                    .doOnSuccess(v -&gt; message.ack())\r\n                    .onErrorResume(ex -&gt; {\r\n                        log.error(&quot;Failed to handle message {}&quot;, new String(message.getBody()));\r\n                        log.error(&quot;Exception:&quot;, ex);\r\n                        message.nack(false);\r\n                        return Mono.empty();\r\n                    }))\r\n                    .contextWrite(Context.of(TraceContext.class, context));\r\n        }\r\n    }\r\n\r\nThis event is then processed:\r\n\r\n\r\n    @Component\r\n    @AllArgsConstructor\r\n    public class CalculationEventHandler  {\r\n\r\n        private final ObjectMapper objectMapper;\r\n        private final CalculationErrorHandler calculationErrorHandler;\r\n        private final CalculationEventProcessor calculationEventProcessor;\r\n        private final EventMessageReceiverProperties eventMessageReceiverProperties;\r\n\r\n        public Mono&lt;Void&gt; handle(AcknowledgableDelivery message) {\r\n            try {\r\n                var event = objectMapper.readValue(message.getBody(), CalculationEvent.class);\r\n                return calculationEventProcessor.process(event)\r\n                        .onErrorResume(t -&gt; calculationErrorHandler.handleError(message, t, event))\r\n                        .then(Mono.empty());\r\n            } catch (IOException e) {\r\n                return Mono.error(e);\r\n            }\r\n        }\r\n    }\r\n\r\nProcessing includes validating the payload using some external APIs which are called in multiple `ValidationService` implementations. I&#39;m using `Flux.mergeDelayError` to wait for all the responses from API services to assemble all errors if multiple API calls failed:\r\n\r\n    @Service\r\n    @AllArgsConstructor\r\n    public class CalculationValidator {\r\n\r\n        private final List&lt;ValidationService&gt; validationServices;\r\n\r\n        public Mono&lt;Void&gt; validate(CalculationInput input) {\r\n            return Flux.mergeDelayError(Queues.XS_BUFFER_SIZE, validateWithEachService(input).toArray(Publisher[]::new)).then();\r\n        }\r\n\r\n        private List&lt;Mono&lt;Void&gt;&gt; createAttributeRequests(CalculationInput input) {\r\n            return validationServices.stream()\r\n                    .map(validationService -&gt; validationService.validate(input))\r\n                    .toList();\r\n        }\r\n    }\r\n\r\nHere&#39;s what most of the `ValidationService` implementations look like:\r\n\r\n    @Service\r\n    public class ThresholdValidatorServiceImpl implements ValidatorService {\r\n\r\n        private final WebClient webClient;\r\n        private final String endpoint;\r\n        private final ThresholdInputMapper mapper;\r\n\r\n        public ThresholdValidatorServiceImpl(WebClient.Builder builder,\r\n                                            ValidationServiceErrorFilterFactory errorFilterFactory,\r\n                                            ThresholdInputMapper mapper,\r\n                                            @Value(&quot;${integration.threshold-validator.url}&quot;) String gateway,\r\n                                            @Value(&quot;${integration.threshold-validator.endpoint}&quot;) String endpoint) {\r\n            this.webClient = builder\r\n                    .baseUrl(dpGateway)\r\n                    .filter(errorFilterFactory.createFilterFor(&quot;threshold-validator&quot;))\r\n                    .build();\r\n            this.endpoint = endpoint;\r\n            this.mapper = mapper;\r\n        }\r\n\r\n        @Override\r\n        public Mono&lt;JsonNode&gt; get(CalculationInput input) {\r\n\t\t    return Mono.just(mapper.map(input))\r\n\t\t\t\t    .map(body -&gt; webClient.post()\r\n\t\t\t\t\t\t    .uri(endpoint)\r\n\t\t\t\t\t\t    .content(MediaType.APPLICATION_JSON)\r\n\t\t\t\t\t\t    .bodyValue(body)\r\n\t\t\t\t\t\t    .retrieve()\r\n\t\t\t\t\t\t    .bodyToMono(Void.class));\r\n\t    }\r\n    }\r\n\r\n**What I am after:** I want to re-use the same `traceId` from the initial REST request by putting the `traceId` into the AMQP message properties and after consuming it via the Rabbit Receiver - inject the `traceId` into the Reactor Context so the API calls in each `ValidationService` via `WebClient` use the same `traceId` from the initial request.\r\n\r\n**Problem:** I am able to save the `traceId` from the initial request and put it inside the AMQP message properties. After consuming the RabbitMQ message I&#39;m fetching the `traceId` and writing it to the Reactor&#39;s Context using as `TraceContext`. My understanding is that this context will be used upstream in the reactive pipeline further on where the API calls are made. After doing multiple API calls the `WebClient` seems to generate a new `traceId` for each `.exchange()` which is not the behaviour I am expecting.\r\n\r\n**Question:** Is this even possible to achieve? If yes, what would be the correct approach?\r\n\r\nDependencies used:\r\n\r\n - `io.micrometer:micrometer-tracing:1.1.2`\r\n - `io.micrometer:context-propagation:1.0.3`\r\n - `io.projectreactor.rabbitmq:reactor-rabbitmq:1.5.6`\r\n - `org.springframework.boot:spring-boot-starter-webflux:3.1.0`\r\n\r\nEDIT: Added some code for more clarity, updated descriptions.\r\n\r\n","title":"How to manually create and inject TraceContext into Reactor Context in Spring Webflux?","body":"<p><strong>Background:</strong> I have a service running on Spring Boot 3.1.0 which communicates via REST and AMQP. After it is invoked via REST, it publishes the REST payload's content to a RabbitMQ Queue using <code>reactor-rabbitmq</code> and immediately returns a HTTP response.</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;${api.baseurl}&quot;)\npublic class CalculationInitiateController {\n\n    private final RequestMapper requestMapper;\n    private final ResponseMapper responseMapper;\n    private final CalculationInitializer initializer;\n\n    @ResponseStatus(code = HttpStatus.CREATED)\n    @PostMapping(&quot;/initiate&quot;)\n    public Mono&lt;CalculationInitResponseDto&gt; initiateCalculation(@RequestBody @Valid CalculationInitiationRequestDto request) {\n        return Mono.just(requestMapper.map(request))\n                .flatMap(initializer::initiateCalculation)\n                .map(responseMapper::map);\n    }\n}\n</code></pre>\n<p>Event publishing via <code>reactor-rabbitmq</code>:</p>\n<pre><code>@Slf4j\n@AllArgsConstructor\n@Service\npublic class CalculationInitializer {\n\n    private final Sender sender;\n    private final ObjectMapper objectMapper;\n    private final EventPublisherProperties eventPublisherProperties;\n    private final OutboundMessageFactory messageFactory;\n\n    public Mono&lt;Boolean&gt; initialize(CalculationEvent calculationEvent) {\n        log.info(&quot;Publishing internal {} event for calculation: {}&quot;, eventType, calculationEvent.request().calculationId());\n        var bytePayload = objectMapper.writeValueAsBytes(calculationEvent);\n        var outboundMessage = new OutboundMessage(&quot;&quot;, eventConfig.getRoutingKey(), messageProperties(eventConfig), bytePayload);\n        return send(outboundMessage);    \n    }\n\n    private AMQP.BasicProperties messageProperties(EventPublisherProperties.EventConfig eventConfig) {\n        var context = tracer.currentTraceContext().context();\n        return new AMQP.BasicProperties.Builder()\n                .correlationId(context.traceId())\n                .headers(Map.of(EVENT_TYPE_HEADER, eventConfig.headerValue(), &quot;traceId&quot;, context.traceId(), &quot;spanId&quot;, context.spanId()))\n                .build();\n    }\n\n    private Mono&lt;Boolean&gt; send(OutboundMessage outboundMessage) {\n        return sender.sendWithPublishConfirms(Mono.just(outboundMessage)).next()\n                .flatMap(this::checkIfAcknowledged);\n    }\n\n    private Mono&lt;Boolean&gt; checkIfAcknowledged(OutboundMessageResult&lt;OutboundMessage&gt; result) {\n        if (result.isAck()) {\n            return Mono.just(Boolean.TRUE);\n        } else {\n            log.warn(&quot;Message not Acknowledged !!&quot;);\n            return Mono.error(new IllegalStateException(&quot;Did not receive ACK on message send&quot;));\n        }\n    }\n}\n</code></pre>\n<p>A Rabbit receiver (also from <code>reactor-rabbitmq</code>) later on consumes the message and calls multiple APIs.</p>\n<pre><code>@Slf4j\n@Component\n@AllArgsConstructor\npublic class EventMessageListener {\n\n    private final EventMessageReceiverProperties eventMessageReceiverProperties;\n    private final Receiver eventReceiver;\n    private final ConsumeOptions consumeOptions;\n    private final Tracer tracer;\n    private final CalculationEventHandler calculationEventHandler;\n\n    @EventListener(ApplicationReadyEvent.class)\n    public void receiveMessages() {\n        eventReceiver.consumeManualAck(eventMessageReceiverProperties.getQueue(), consumeOptions)\n                .flatMap(this::handleMessage)\n                .doFinally(s -&gt; eventReceiver.close())\n                .subscribe();\n    }\n\n    private Mono&lt;Void&gt; handleMessage(AcknowledgableDelivery message) {\n        var traceId = message.getProperties().getHeaders().get(&quot;traceId&quot;).toString();\n        var spanId = message.getProperties().getHeaders().get(&quot;spanId&quot;).toString();\n        var context = tracer.traceContextBuilder().traceId(traceId).spanId(spanId).build();\n        return Mono.defer(() -&gt; calculationEventHandler.handle(message)\n                .doOnSuccess(v -&gt; message.ack())\n                .onErrorResume(ex -&gt; {\n                    log.error(&quot;Failed to handle message {}&quot;, new String(message.getBody()));\n                    log.error(&quot;Exception:&quot;, ex);\n                    message.nack(false);\n                    return Mono.empty();\n                }))\n                .contextWrite(Context.of(TraceContext.class, context));\n    }\n}\n</code></pre>\n<p>This event is then processed:</p>\n<pre><code>@Component\n@AllArgsConstructor\npublic class CalculationEventHandler  {\n\n    private final ObjectMapper objectMapper;\n    private final CalculationErrorHandler calculationErrorHandler;\n    private final CalculationEventProcessor calculationEventProcessor;\n    private final EventMessageReceiverProperties eventMessageReceiverProperties;\n\n    public Mono&lt;Void&gt; handle(AcknowledgableDelivery message) {\n        try {\n            var event = objectMapper.readValue(message.getBody(), CalculationEvent.class);\n            return calculationEventProcessor.process(event)\n                    .onErrorResume(t -&gt; calculationErrorHandler.handleError(message, t, event))\n                    .then(Mono.empty());\n        } catch (IOException e) {\n            return Mono.error(e);\n        }\n    }\n}\n</code></pre>\n<p>Processing includes validating the payload using some external APIs which are called in multiple <code>ValidationService</code> implementations. I'm using <code>Flux.mergeDelayError</code> to wait for all the responses from API services to assemble all errors if multiple API calls failed:</p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class CalculationValidator {\n\n    private final List&lt;ValidationService&gt; validationServices;\n\n    public Mono&lt;Void&gt; validate(CalculationInput input) {\n        return Flux.mergeDelayError(Queues.XS_BUFFER_SIZE, validateWithEachService(input).toArray(Publisher[]::new)).then();\n    }\n\n    private List&lt;Mono&lt;Void&gt;&gt; createAttributeRequests(CalculationInput input) {\n        return validationServices.stream()\n                .map(validationService -&gt; validationService.validate(input))\n                .toList();\n    }\n}\n</code></pre>\n<p>Here's what most of the <code>ValidationService</code> implementations look like:</p>\n<pre><code>@Service\npublic class ThresholdValidatorServiceImpl implements ValidatorService {\n\n    private final WebClient webClient;\n    private final String endpoint;\n    private final ThresholdInputMapper mapper;\n\n    public ThresholdValidatorServiceImpl(WebClient.Builder builder,\n                                        ValidationServiceErrorFilterFactory errorFilterFactory,\n                                        ThresholdInputMapper mapper,\n                                        @Value(&quot;${integration.threshold-validator.url}&quot;) String gateway,\n                                        @Value(&quot;${integration.threshold-validator.endpoint}&quot;) String endpoint) {\n        this.webClient = builder\n                .baseUrl(dpGateway)\n                .filter(errorFilterFactory.createFilterFor(&quot;threshold-validator&quot;))\n                .build();\n        this.endpoint = endpoint;\n        this.mapper = mapper;\n    }\n\n    @Override\n    public Mono&lt;JsonNode&gt; get(CalculationInput input) {\n        return Mono.just(mapper.map(input))\n                .map(body -&gt; webClient.post()\n                        .uri(endpoint)\n                        .content(MediaType.APPLICATION_JSON)\n                        .bodyValue(body)\n                        .retrieve()\n                        .bodyToMono(Void.class));\n    }\n}\n</code></pre>\n<p><strong>What I am after:</strong> I want to re-use the same <code>traceId</code> from the initial REST request by putting the <code>traceId</code> into the AMQP message properties and after consuming it via the Rabbit Receiver - inject the <code>traceId</code> into the Reactor Context so the API calls in each <code>ValidationService</code> via <code>WebClient</code> use the same <code>traceId</code> from the initial request.</p>\n<p><strong>Problem:</strong> I am able to save the <code>traceId</code> from the initial request and put it inside the AMQP message properties. After consuming the RabbitMQ message I'm fetching the <code>traceId</code> and writing it to the Reactor's Context using as <code>TraceContext</code>. My understanding is that this context will be used upstream in the reactive pipeline further on where the API calls are made. After doing multiple API calls the <code>WebClient</code> seems to generate a new <code>traceId</code> for each <code>.exchange()</code> which is not the behaviour I am expecting.</p>\n<p><strong>Question:</strong> Is this even possible to achieve? If yes, what would be the correct approach?</p>\n<p>Dependencies used:</p>\n<ul>\n<li><code>io.micrometer:micrometer-tracing:1.1.2</code></li>\n<li><code>io.micrometer:context-propagation:1.0.3</code></li>\n<li><code>io.projectreactor.rabbitmq:reactor-rabbitmq:1.5.6</code></li>\n<li><code>org.springframework.boot:spring-boot-starter-webflux:3.1.0</code></li>\n</ul>\n<p>EDIT: Added some code for more clarity, updated descriptions.</p>\n"},{"tags":["java","intellij-idea","intellij-plugin"],"answers":[{"tags":[],"owner":{"account_id":3169,"reputation":24369,"user_id":4510,"display_name":"Bas Leijdekkers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689147737,"creation_date":1689112739,"answer_id":76666035,"question_id":76663972,"body_markdown":"Take a look at the interface `com.intellij.codeInsight.daemon.ImplicitUsageProvider`. When implemented it: \r\n\r\n&gt; Allows to disable highlighting of certain elements as unused when such elements are not referenced from the code but are referenced in some other way. For example,\r\n&gt; * from generated code\r\n&gt; * from outside containers: @javax.servlet.annotation.WebServlet public class MyServlet {}\r\n&gt; * from some frameworks: @javax.ejb.EJB private DataStore myInjectedDataStore;\r\netc\r\n\r\nYou will need to register the implementation in your `plugin.xml` file using something like:\r\n`&lt;implicitUsageProvider implementation=&quot;my.package.MyImplicitUsageProvider&quot;/&gt;`","title":"How to configure &quot;Unused Declarations&quot; settings from an Intellij IDEA plugin?","body":"<p>Take a look at the interface <code>com.intellij.codeInsight.daemon.ImplicitUsageProvider</code>. When implemented it:</p>\n<blockquote>\n<p>Allows to disable highlighting of certain elements as unused when such elements are not referenced from the code but are referenced in some other way. For example,</p>\n<ul>\n<li>from generated code</li>\n<li>from outside containers: @javax.servlet.annotation.WebServlet public class MyServlet {}</li>\n<li>from some frameworks: @javax.ejb.EJB private DataStore myInjectedDataStore;\netc</li>\n</ul>\n</blockquote>\n<p>You will need to register the implementation in your <code>plugin.xml</code> file using something like:\n<code>&lt;implicitUsageProvider implementation=&quot;my.package.MyImplicitUsageProvider&quot;/&gt;</code></p>\n"}],"owner":{"account_id":392112,"reputation":5429,"user_id":753170,"display_name":"Fred Bricon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76666035,"answer_count":1,"score":0,"last_activity_date":1689147737,"creation_date":1689092411,"question_id":76663972,"body_markdown":"In Intellij IDEA Community, if you work on a REST application (JavaEE, Micronaut, Quarkus...), public methods annotated with whatever framework annotation (eg. `javax.ws.rs.GET`) are shown as &quot;unused&quot;. Now you can go in `Settings` &gt; `Editor` &gt; `Inspections` &gt; `Java` &gt; `Unused Declaration [Entry points tab]`, and manually configure annotations to ignore.\r\n\r\nIn Intellij IDEA Ultimate, this works out-of-the-box, even though the &quot;Unused Declaration&quot; annotations don&#39;t appear to be configured.\r\n\r\nNow, I&#39;m writing an Intellij plugin, and would very much like to be able to also exclude those annotations from the &quot;Unused Declaration&quot;, either via plugin.xml or programmatic configuration via some Intellij API.\r\n\r\nI&#39;ve looked for some plugin.xml configurations or examples of UnusedDeclarationInspection usages but to no avail. I don&#39;t want to create a new inspection, just configure an existing one.","title":"How to configure &quot;Unused Declarations&quot; settings from an Intellij IDEA plugin?","body":"<p>In Intellij IDEA Community, if you work on a REST application (JavaEE, Micronaut, Quarkus...), public methods annotated with whatever framework annotation (eg. <code>javax.ws.rs.GET</code>) are shown as &quot;unused&quot;. Now you can go in <code>Settings</code> &gt; <code>Editor</code> &gt; <code>Inspections</code> &gt; <code>Java</code> &gt; <code>Unused Declaration [Entry points tab]</code>, and manually configure annotations to ignore.</p>\n<p>In Intellij IDEA Ultimate, this works out-of-the-box, even though the &quot;Unused Declaration&quot; annotations don't appear to be configured.</p>\n<p>Now, I'm writing an Intellij plugin, and would very much like to be able to also exclude those annotations from the &quot;Unused Declaration&quot;, either via plugin.xml or programmatic configuration via some Intellij API.</p>\n<p>I've looked for some plugin.xml configurations or examples of UnusedDeclarationInspection usages but to no avail. I don't want to create a new inspection, just configure an existing one.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":4,"creation_date":1677651894,"post_id":75600117,"comment_id":133377984,"body_markdown":"Time to use a debugger, or sprinkle lots of `println` statements throughout your code, to see where the problem lies.","body":"Time to use a debugger, or sprinkle lots of <code>println</code> statements throughout your code, to see where the problem lies."},{"owner":{"account_id":18468340,"reputation":31,"user_id":13453909,"display_name":"Droidshizonoid"},"score":0,"creation_date":1677653990,"post_id":75600117,"comment_id":133378332,"body_markdown":"Looks like that) I think I found another way to calculate it, will post later","body":"Looks like that) I think I found another way to calculate it, will post later"},{"owner":{"account_id":18468340,"reputation":31,"user_id":13453909,"display_name":"Droidshizonoid"},"score":0,"creation_date":1677655292,"post_id":75600117,"comment_id":133378572,"body_markdown":"it is like one part of rectangle is in another one, and we need to find the area of that intersection.","body":"it is like one part of rectangle is in another one, and we need to find the area of that intersection."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1689148618,"post_id":75600117,"comment_id":135170564,"body_markdown":"Are you trying to find the smallest rectangle that encloses the two rectangles? If yes, then have you seen [Perimeter of the Union of Two Rectangles](https://www.geeksforgeeks.org/perimeter-of-the-union-of-two-rectangles/)?","body":"Are you trying to find the smallest rectangle that encloses the two rectangles? If yes, then have you seen <a href=\"https://www.geeksforgeeks.org/perimeter-of-the-union-of-two-rectangles/\" rel=\"nofollow noreferrer\">Perimeter of the Union of Two Rectangles</a>?"}],"answers":[{"tags":[],"owner":{"account_id":18468340,"reputation":31,"user_id":13453909,"display_name":"Droidshizonoid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689147484,"creation_date":1689147484,"answer_id":76668161,"question_id":75600117,"body_markdown":"        System.out.println(&quot;- What is the area of the union of two rectangles R1 and R2, where top left corner of R1 is (X1,Y1) and its size is (W1,H1), and top left corner of R2 is (X2,Y2) and its size is (W2,H2)? \\n&quot;);\r\n        System.out.print(&quot;Please enter X1, Y1, W1, H1, X2, Y2, W2, H2: &quot;);\r\n                        \r\n                   \r\n    \r\n     //taking inputs for first rectangle\r\n                    int x1 = sc.nextInt();\r\n                    int y1 = sc.nextInt();\r\n                    int w1 = sc.nextInt();\r\n                    int h1 = sc.nextInt();\r\n                    \r\n                    //taking inputs for the second rectangle\r\n                    int x2 = sc.nextInt();\r\n                    int y2 = sc.nextInt();\r\n                    int w2 = sc.nextInt();\r\n                    int h2 = sc.nextInt();\r\n    \r\n    \r\n    \r\n                    int answer = overlapCalculator(x1, y1, w1, h1, x2, y2, w2, h2);\r\n                    int area1 = w1*h1;\r\n                    int area2 = w2*h2;\r\n                    int sumArea = area1 + area2;\r\n                    int intersectionArea = sumArea - answer;\r\n                    System.out.println(&quot;Result: Intersection area is &quot; + intersectionArea + &quot; thus the total area of the union is &quot; + answer + &quot;.&quot;);","title":"Union Rectangle Calculator","body":"<pre><code>    System.out.println(&quot;- What is the area of the union of two rectangles R1 and R2, where top left corner of R1 is (X1,Y1) and its size is (W1,H1), and top left corner of R2 is (X2,Y2) and its size is (W2,H2)? \\n&quot;);\n    System.out.print(&quot;Please enter X1, Y1, W1, H1, X2, Y2, W2, H2: &quot;);\n                    \n               \n\n //taking inputs for first rectangle\n                int x1 = sc.nextInt();\n                int y1 = sc.nextInt();\n                int w1 = sc.nextInt();\n                int h1 = sc.nextInt();\n                \n                //taking inputs for the second rectangle\n                int x2 = sc.nextInt();\n                int y2 = sc.nextInt();\n                int w2 = sc.nextInt();\n                int h2 = sc.nextInt();\n\n\n\n                int answer = overlapCalculator(x1, y1, w1, h1, x2, y2, w2, h2);\n                int area1 = w1*h1;\n                int area2 = w2*h2;\n                int sumArea = area1 + area2;\n                int intersectionArea = sumArea - answer;\n                System.out.println(&quot;Result: Intersection area is &quot; + intersectionArea + &quot; thus the total area of the union is &quot; + answer + &quot;.&quot;);\n</code></pre>\n"}],"owner":{"account_id":18468340,"reputation":31,"user_id":13453909,"display_name":"Droidshizonoid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1689147484,"creation_date":1677650998,"question_id":75600117,"body_markdown":"I&#39;m new to Java and have a problem I just can&#39;t solve. \r\n\r\n&gt; What is the area of the union of two rectangles R1 and R2, where top left\r\ncorner of R1 is (X1,Y1) and its size is (W1,H1), and top left corner of R2\r\nis (X2,Y2) and its size is (W2,H2)?\r\n```\r\nPlease enter X1, Y1, W1, H1, X2, Y2, W2, H2: 0 0 5 10 0 0 10 5\r\nResult: Intersection area is 25 thus the total area of the union is 75.\r\n```\r\nThere said that I cannot use math class methods, and I wrote something like this:\r\n\r\n    public static int overlapCalculator(int x1, int y1, int w1, int h1, int x2, int y2, int w2, int h2) {\r\n        int OverlapX = 0;\r\n        int OverlapY = 0;\r\n        \r\n        // Calculate x-axis overlap\r\n        if (x1 &lt; x2 &amp;&amp; x1 + w1 &gt; x2) {\r\n            if (x2 + w2 &lt;= x1 + w1) {\r\n                OverlapX = w2;\r\n            } else {\r\n                OverlapX = x1 + w1 - x2;\r\n            }\r\n        } else if (x2 &lt; x1 &amp;&amp; x2 + w2 &gt; x1) {\r\n            if (x1 + w1 &lt;= x2 + w2) {\r\n                OverlapX = w1;\r\n            } else {\r\n                OverlapX = x2 + w2 - x1;\r\n            }\r\n        }\r\n        \r\n        // Calculate y-axis overlap\r\n        if (y1 &lt; y2 &amp;&amp; y1 + h1 &gt; y2) {\r\n            if (y2 + h2 &lt;= y1 + h1) {\r\n                OverlapY = h2;\r\n            } \r\n            \r\n            else {\r\n                OverlapY = y1 + h1 - y2;\r\n            }\r\n        } \r\n        \r\n        else if (y2 &lt; y1 &amp;&amp; y2 + h2 &gt; y1) {\r\n            if (y1 + h1 &lt;= y2 + h2) {\r\n                OverlapY = h1;\r\n            } \r\n            \r\n            else {\r\n                OverlapY = y2 + h2 - y1;\r\n            }\r\n        }\r\n        \r\n        int Area = w1 * h1 + w2 * h2 - OverlapX * OverlapY;\r\n        int overLapArea = Area - w1 * x2;\r\n        \r\n        return overLapArea;\r\n    }\r\n\r\n\r\nHow can I change it that it shows the union area separately?\r\n\r\n1. First, we declare two variables to hold the overlap in the x-axis and y-axis respectively.\r\n2. Next, we calculate the overlap in the x-axis:\r\n    1. We check if the left edge of rectangle 1 is to the left of the left edge of rectangle 2 AND the right edge of rectangle 1 is to the right of the left edge of rectangle 2. If this condition is true, then there is an overlap in the x-axis. \r\n    2. We then check if the right edge of rectangle 2 is entirely contained within rectangle 1. If it is, then the x-axis overlap is simply the width of rectangle 2. \r\n    3. Otherwise, we calculate the width of the overlap as the distance from the left edge of rectangle 2 to the right edge of rectangle 1. We handle the case where rectangle 2 is to the left of rectangle 1 in a similar manner.\r\n3. We calculate the overlap in the y-axis in a similar way.\r\n4. Finally, we calculate the area of the union of the two rectangles by adding the areas of the two rectangles and subtracting the area of the overlap.\r\n\r\nI get 100 for the first one where I should get 25 &amp; 75.\r\n","title":"Union Rectangle Calculator","body":"<p>I'm new to Java and have a problem I just can't solve.</p>\n<blockquote>\n<p>What is the area of the union of two rectangles R1 and R2, where top left\ncorner of R1 is (X1,Y1) and its size is (W1,H1), and top left corner of R2\nis (X2,Y2) and its size is (W2,H2)?</p>\n</blockquote>\n<pre><code>Please enter X1, Y1, W1, H1, X2, Y2, W2, H2: 0 0 5 10 0 0 10 5\nResult: Intersection area is 25 thus the total area of the union is 75.\n</code></pre>\n<p>There said that I cannot use math class methods, and I wrote something like this:</p>\n<pre><code>public static int overlapCalculator(int x1, int y1, int w1, int h1, int x2, int y2, int w2, int h2) {\n    int OverlapX = 0;\n    int OverlapY = 0;\n    \n    // Calculate x-axis overlap\n    if (x1 &lt; x2 &amp;&amp; x1 + w1 &gt; x2) {\n        if (x2 + w2 &lt;= x1 + w1) {\n            OverlapX = w2;\n        } else {\n            OverlapX = x1 + w1 - x2;\n        }\n    } else if (x2 &lt; x1 &amp;&amp; x2 + w2 &gt; x1) {\n        if (x1 + w1 &lt;= x2 + w2) {\n            OverlapX = w1;\n        } else {\n            OverlapX = x2 + w2 - x1;\n        }\n    }\n    \n    // Calculate y-axis overlap\n    if (y1 &lt; y2 &amp;&amp; y1 + h1 &gt; y2) {\n        if (y2 + h2 &lt;= y1 + h1) {\n            OverlapY = h2;\n        } \n        \n        else {\n            OverlapY = y1 + h1 - y2;\n        }\n    } \n    \n    else if (y2 &lt; y1 &amp;&amp; y2 + h2 &gt; y1) {\n        if (y1 + h1 &lt;= y2 + h2) {\n            OverlapY = h1;\n        } \n        \n        else {\n            OverlapY = y2 + h2 - y1;\n        }\n    }\n    \n    int Area = w1 * h1 + w2 * h2 - OverlapX * OverlapY;\n    int overLapArea = Area - w1 * x2;\n    \n    return overLapArea;\n}\n</code></pre>\n<p>How can I change it that it shows the union area separately?</p>\n<ol>\n<li>First, we declare two variables to hold the overlap in the x-axis and y-axis respectively.</li>\n<li>Next, we calculate the overlap in the x-axis:\n<ol>\n<li>We check if the left edge of rectangle 1 is to the left of the left edge of rectangle 2 AND the right edge of rectangle 1 is to the right of the left edge of rectangle 2. If this condition is true, then there is an overlap in the x-axis.</li>\n<li>We then check if the right edge of rectangle 2 is entirely contained within rectangle 1. If it is, then the x-axis overlap is simply the width of rectangle 2.</li>\n<li>Otherwise, we calculate the width of the overlap as the distance from the left edge of rectangle 2 to the right edge of rectangle 1. We handle the case where rectangle 2 is to the left of rectangle 1 in a similar manner.</li>\n</ol>\n</li>\n<li>We calculate the overlap in the y-axis in a similar way.</li>\n<li>Finally, we calculate the area of the union of the two rectangles by adding the areas of the two rectangles and subtracting the area of the overlap.</li>\n</ol>\n<p>I get 100 for the first one where I should get 25 &amp; 75.</p>\n"},{"tags":["java","spring","jdbc","opentracing"],"owner":{"account_id":12634517,"reputation":45,"user_id":9197713,"display_name":"DOKL57"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689147275,"creation_date":1688988337,"question_id":76653260,"body_markdown":"I use opentracing and all my jdbc Connections are wrapped in TracingConnection proxy.\r\nThe problem arises when I use method ```org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate#queryForStream(java.lang.String, java.util.Map&lt;java.lang.String,?&gt;, org.springframework.jdbc.core.RowMapper&lt;T&gt;)``` during transaction\r\n\r\nThis method executes method ```org.springframework.jdbc.datasource.DataSourceUtils#doReleaseConnection``` and explain, if Connection is transactional or not\r\n```\r\norg.springframework.jdbc.datasource.DataSourceUtils#doReleaseConnection\r\n```\r\nTo do this, the method compares Connection from ConnectionHolder and passed Connection, with ```org.springframework.jdbc.datasource.DataSourceUtils#connectionEquals``` method\r\n\r\n\tprivate static boolean connectionEquals(ConnectionHolder conHolder, Connection passedInCon) {\r\n\t\tif (!conHolder.hasConnection()) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tConnection heldCon = conHolder.getConnection();\r\n\t\t// Explicitly check for identity too: for Connection handles that do not implement\r\n\t\t// &quot;equals&quot; properly, such as the ones Commons DBCP exposes).\r\n\t\treturn (heldCon == passedInCon || heldCon.equals(passedInCon) ||\r\n\t\t\t\tgetTargetConnection(heldCon).equals(passedInCon));\r\n\t}\r\n\r\n\r\nThe problem is that connection from ConnectionHolder is instance of \r\n```io.opentracing.contrib.jdbc.TracingConnection``` and passedInCon is instance of ```HikariProxyConnection wrapping org.postgresql.jdbc.PgConnection```. If I unwrap Connection from ConnectionHolder, I can see that it&#39;s equals to passedInCon, but passedInCon doesn&#39;t wrapping into TracingConnection. \r\n\r\nI was figuring out why passedInCon is not an instance of TracingConnection. PassedInCon is taken from preparedStatement which in turn is created here ```io.opentracing.contrib.jdbc.TracingConnection#prepareStatement(java.lang.String)```\r\nIn that method Connection is instance of ```HikariProxyConnection wrapping org.postgresql.jdbc.PgConnection``` and further it is not wrapped in TracingConnection.\r\n\r\nWhat solutions are there so that the Connection is wrapped into TracingConnection here and when compared they are the same? Or other approaches to not closing the connection during a transaction with opentracing enabled?\r\n\r\n\r\n\r\n","title":"jdbc spring opentracing close connection during transaction","body":"<p>I use opentracing and all my jdbc Connections are wrapped in TracingConnection proxy.\nThe problem arises when I use method <code>org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate#queryForStream(java.lang.String, java.util.Map&lt;java.lang.String,?&gt;, org.springframework.jdbc.core.RowMapper&lt;T&gt;)</code> during transaction</p>\n<p>This method executes method <code>org.springframework.jdbc.datasource.DataSourceUtils#doReleaseConnection</code> and explain, if Connection is transactional or not</p>\n<pre><code>org.springframework.jdbc.datasource.DataSourceUtils#doReleaseConnection\n</code></pre>\n<p>To do this, the method compares Connection from ConnectionHolder and passed Connection, with <code>org.springframework.jdbc.datasource.DataSourceUtils#connectionEquals</code> method</p>\n<pre><code>private static boolean connectionEquals(ConnectionHolder conHolder, Connection passedInCon) {\n    if (!conHolder.hasConnection()) {\n        return false;\n    }\n    Connection heldCon = conHolder.getConnection();\n    // Explicitly check for identity too: for Connection handles that do not implement\n    // &quot;equals&quot; properly, such as the ones Commons DBCP exposes).\n    return (heldCon == passedInCon || heldCon.equals(passedInCon) ||\n            getTargetConnection(heldCon).equals(passedInCon));\n}\n</code></pre>\n<p>The problem is that connection from ConnectionHolder is instance of\n<code>io.opentracing.contrib.jdbc.TracingConnection</code> and passedInCon is instance of <code>HikariProxyConnection wrapping org.postgresql.jdbc.PgConnection</code>. If I unwrap Connection from ConnectionHolder, I can see that it's equals to passedInCon, but passedInCon doesn't wrapping into TracingConnection.</p>\n<p>I was figuring out why passedInCon is not an instance of TracingConnection. PassedInCon is taken from preparedStatement which in turn is created here <code>io.opentracing.contrib.jdbc.TracingConnection#prepareStatement(java.lang.String)</code>\nIn that method Connection is instance of <code>HikariProxyConnection wrapping org.postgresql.jdbc.PgConnection</code> and further it is not wrapped in TracingConnection.</p>\n<p>What solutions are there so that the Connection is wrapped into TracingConnection here and when compared they are the same? Or other approaches to not closing the connection during a transaction with opentracing enabled?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1689084677,"post_id":76662792,"comment_id":135161203,"body_markdown":"Might be a problem with how your code interprets the `--config.location` parameter. It has to understand this parameter, extract the value passed `C:\\MIImageUtility\\runableJar\\config\\ENV.properties`, and use that file as config file. In your code, it might not be detecting that parameter and might be opening file &#39;ENV.properties&#39; without any directory specified (i.e. the current working directory), and it does not find it there, as it is in a sub-directory.","body":"Might be a problem with how your code interprets the <code>--config.location</code> parameter. It has to understand this parameter, extract the value passed <code>C:\\MIImageUtility\\runableJar\\config\\ENV.properties</code>, and use that file as config file. In your code, it might not be detecting that parameter and might be opening file &#39;ENV.properties&#39; without any directory specified (i.e. the current working directory), and it does not find it there, as it is in a sub-directory."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1689085056,"post_id":76662792,"comment_id":135161301,"body_markdown":"Are you using some kind of library to parse the command line arguments?  E.g. https://commons.apache.org/proper/commons-cli/.  Using a library like this might help.","body":"Are you using some kind of library to parse the command line arguments?  E.g. <a href=\"https://commons.apache.org/proper/commons-cli/\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-cli</a>.  Using a library like this might help."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1689085414,"post_id":76662792,"comment_id":135161387,"body_markdown":"and `C:\\MIImageUtility\\runableJar\\ENV.properties` is really a **file** on the filesystem, or is it inside the other JAR?","body":"and <code>C:\\MIImageUtility\\runableJar\\ENV.properties</code> is really a <b>file</b> on the filesystem, or is it inside the other JAR?"},{"owner":{"account_id":8869050,"reputation":1842,"user_id":6623265,"display_name":"Jyoti Prakash Mallick"},"score":0,"creation_date":1689087018,"post_id":76662792,"comment_id":135161813,"body_markdown":"This is the declaration inside my code : static String envfilePath = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\ENV.properties&quot;;","body":"This is the declaration inside my code : static String envfilePath = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\ENV.properties&quot;;"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1689091793,"post_id":76662792,"comment_id":135162939,"body_markdown":"Edit the question as you&#39;ve not shown the relevant code which would help get an answer. You suggest it uses a command line parameter in question but say it depends on user.dir in the comment, and `dir` would confirm very quickly if your path exists or not.","body":"Edit the question as you&#39;ve not shown the relevant code which would help get an answer. You suggest it uses a command line parameter in question but say it depends on user.dir in the comment, and <code>dir</code> would confirm very quickly if your path exists or not."}],"answers":[{"tags":[],"owner":{"account_id":17084789,"reputation":27,"user_id":12362368,"display_name":"DimasG"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1689086497,"creation_date":1689086497,"answer_id":76663147,"question_id":76662792,"body_markdown":"Try\r\n\r\n    java &quot;--config.location=C:\\MIImageUtility\\runableJar\\config\\ENV.properties&quot; -jar ImageUtilityFinal.jar ","title":"Execute jar file with providing property file on another directory","body":"<p>Try</p>\n<pre><code>java &quot;--config.location=C:\\MIImageUtility\\runableJar\\config\\ENV.properties&quot; -jar ImageUtilityFinal.jar \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689147029,"creation_date":1689147029,"answer_id":76668107,"question_id":76662792,"body_markdown":"In your code block, i.e.\r\n```java\r\nstatic String envfilePath = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\ENV.properties&quot;;\r\n```\r\n`System.getProperty(&quot;user.dir&quot;)` returns the working directory, i.e. the folder that your JAR file is in. Hence when you place file _ENV.properties_ in the same folder as the JAR file, your code works.\r\n\r\nI suggest that you make _config.location_ a System property, that can be set via the [java][1] command, using `-D` as stated in the documentation:\r\n&gt; -D*property=value*  \r\n    Sets a system property value. The _property_ variable is a string with no spaces that represents the name of the property. The _value_ variable is a string that represents the value of the property. If _value_ is a string with spaces, then enclose it in quotation marks (for example `-Dfoo=&quot;foo bar&quot;`).\r\n\r\nHence the command to launch your JAR becomes:\r\n```none\r\njava -Dconfig.location=&quot;C:\\MIImageUtility\\runableJar\\config\\ENV.properties&quot; -jar ImageUtilityFinal.jar\r\n```\r\nAnd your code becomes:\r\n```java\r\nstatic String envfilePath = System.getProperty(&quot;config.location&quot;);\r\n```\r\nYou could also have a _fallback_ location, e.g.\r\n```java\r\nstatic String envfilePath = System.getProperty(&quot;config.location&quot;);\r\nif (envfilePath == null) {\r\n    envfilePath = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\ENV.properties&quot;;\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html","title":"Execute jar file with providing property file on another directory","body":"<p>In your code block, i.e.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static String envfilePath = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\ENV.properties&quot;;\n</code></pre>\n<p><code>System.getProperty(&quot;user.dir&quot;)</code> returns the working directory, i.e. the folder that your JAR file is in. Hence when you place file <em>ENV.properties</em> in the same folder as the JAR file, your code works.</p>\n<p>I suggest that you make <em>config.location</em> a System property, that can be set via the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">java</a> command, using <code>-D</code> as stated in the documentation:</p>\n<blockquote>\n<p>-D<em>property=value</em><br />\nSets a system property value. The <em>property</em> variable is a string with no spaces that represents the name of the property. The <em>value</em> variable is a string that represents the value of the property. If <em>value</em> is a string with spaces, then enclose it in quotation marks (for example <code>-Dfoo=&quot;foo bar&quot;</code>).</p>\n</blockquote>\n<p>Hence the command to launch your JAR becomes:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -Dconfig.location=&quot;C:\\MIImageUtility\\runableJar\\config\\ENV.properties&quot; -jar ImageUtilityFinal.jar\n</code></pre>\n<p>And your code becomes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static String envfilePath = System.getProperty(&quot;config.location&quot;);\n</code></pre>\n<p>You could also have a <em>fallback</em> location, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static String envfilePath = System.getProperty(&quot;config.location&quot;);\nif (envfilePath == null) {\n    envfilePath = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\ENV.properties&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":8869050,"reputation":1842,"user_id":6623265,"display_name":"Jyoti Prakash Mallick"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1689147029,"creation_date":1689084001,"question_id":76662792,"body_markdown":"Have a jar file which has some dependency on the property file. \r\n\r\nWhen I place the jar file and property file same folder and trying to run it is running fine.\r\n\r\nCommand: `java -jar ImageUtilityFinal.jar` \r\n\r\nWhen I am trying to place the property file on another folder it is throwing error. \r\n\r\nCommand: `java -jar ImageUtilityFinal.jar --config.location=&quot;C:\\MIImageUtility\\runableJar\\config\\ENV.properties&quot;`\r\n\r\nLocation of the jar file: `C:\\MIImageUtility\\runableJar\\`\r\n\r\nCodeBlock  : `static String envfilePath = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\ENV.properties&quot;;`\r\n\r\nAm getting following error,\r\n\r\n    java.io.FileNotFoundException: C:\\MIImageUtility\\runableJar\\ENV.properties (The system cannot find the file specified)\r\n            at java.base/java.io.FileInputStream.open0(Native Method)\r\n            at java.base/java.io.FileInputStream.open(FileInputStream.java:216)\r\n            at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\r\n            at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\r\n            at java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:60)\r\n            at Ambra.Ambra.DicomPushLoadTest.main(DicomPushLoadTest.java:74)","title":"Execute jar file with providing property file on another directory","body":"<p>Have a jar file which has some dependency on the property file.</p>\n<p>When I place the jar file and property file same folder and trying to run it is running fine.</p>\n<p>Command: <code>java -jar ImageUtilityFinal.jar</code></p>\n<p>When I am trying to place the property file on another folder it is throwing error.</p>\n<p>Command: <code>java -jar ImageUtilityFinal.jar --config.location=&quot;C:\\MIImageUtility\\runableJar\\config\\ENV.properties&quot;</code></p>\n<p>Location of the jar file: <code>C:\\MIImageUtility\\runableJar\\</code></p>\n<p>CodeBlock  : <code>static String envfilePath = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\ENV.properties&quot;;</code></p>\n<p>Am getting following error,</p>\n<pre><code>java.io.FileNotFoundException: C:\\MIImageUtility\\runableJar\\ENV.properties (The system cannot find the file specified)\n        at java.base/java.io.FileInputStream.open0(Native Method)\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:216)\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\n        at java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:60)\n        at Ambra.Ambra.DicomPushLoadTest.main(DicomPushLoadTest.java:74)\n</code></pre>\n"},{"tags":["java","spring-boot","http","soap","apache-camel"],"comments":[{"owner":{"account_id":15272889,"reputation":511,"user_id":11019548,"display_name":"maryem neyli"},"score":1,"creation_date":1689256413,"post_id":76667991,"comment_id":135190116,"body_markdown":"for the first question:this one may help you https://stackoverflow.com/questions/18528826/add-soap-wsdl-web-service-reference-at-runtime\n\nfor the second one: this one may help you if i understood you wright\nhttps://stackoverflow.com/questions/5389568/how-to-use-soap-ui-without-wsdl","body":"for the first question:this one may help you <a href=\"https://stackoverflow.com/questions/18528826/add-soap-wsdl-web-service-reference-at-runtime\" title=\"add soap wsdl web service reference at runtime\">stackoverflow.com/questions/18528826/&hellip;</a>  for the second one: this one may help you if i understood you wright <a href=\"https://stackoverflow.com/questions/5389568/how-to-use-soap-ui-without-wsdl\" title=\"how to use soap ui without wsdl\">stackoverflow.com/questions/5389568/&hellip;</a>"},{"owner":{"account_id":20634582,"reputation":21,"user_id":15148595,"display_name":"deem sameer"},"score":0,"creation_date":1689574787,"post_id":76667991,"comment_id":135227050,"body_markdown":"Let me explain more, I want to have dynamic soap api generated at run time with java and apache camel.","body":"Let me explain more, I want to have dynamic soap api generated at run time with java and apache camel."}],"owner":{"account_id":20634582,"reputation":21,"user_id":15148595,"display_name":"deem sameer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689146166,"creation_date":1689146166,"question_id":76667991,"body_markdown":"I am facing trouble finding if my idea is applicable or not. \r\nFirst/ Can we add soap service at run time? \r\nSecond/ Can we implement Soap over Http and without WSDL file? \r\n\r\nI want to use it with apache camel routing, on Route for http and another for Soap. \r\n\r\nYes you can or no you can&#39;t.","title":"Dynamic Soap in Rest Service","body":"<p>I am facing trouble finding if my idea is applicable or not.\nFirst/ Can we add soap service at run time?\nSecond/ Can we implement Soap over Http and without WSDL file?</p>\n<p>I want to use it with apache camel routing, on Route for http and another for Soap.</p>\n<p>Yes you can or no you can't.</p>\n"},{"tags":["java","web-applications","thread-local","thread-local-storage"],"comments":[{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":2,"creation_date":1529496925,"post_id":50947898,"comment_id":88893428,"body_markdown":"Yes and no. Your question is too broad. Alternatives depend on your usecase. Could you add more details, e.g. what are you doing and why ThreadLocal is not good for you?","body":"Yes and no. Your question is too broad. Alternatives depend on your usecase. Could you add more details, e.g. what are you doing and why ThreadLocal is not good for you?"},{"owner":{"account_id":6819296,"reputation":61,"user_id":5246934,"accept_rate":0,"display_name":"prem"},"score":0,"creation_date":1529497204,"post_id":50947898,"comment_id":88893647,"body_markdown":"I&#39;m using it for the same reason every web application uses it, to store thread specific variables, and the reason i think its not good is, if some developer somehow forgets to reset the value, the next thread might use the previous value, and there is always the memory leak that is associated with threadlocals","body":"I&#39;m using it for the same reason every web application uses it, to store thread specific variables, and the reason i think its not good is, if some developer somehow forgets to reset the value, the next thread might use the previous value, and there is always the memory leak that is associated with threadlocals"},{"owner":{"account_id":8987793,"reputation":151,"user_id":6700830,"display_name":"CodesInTheDark"},"score":0,"creation_date":1563444003,"post_id":50947898,"comment_id":100705504,"body_markdown":"Can you give code examples? Also, there should not be memory leaks if you know what you are doing. ThreadLocalMap uses WeakReferences, so if you don&#39;t have a reference to threadLocal variable and you don&#39;t have a circular dependency from value to the threadLocal then you will not have a memory leak.","body":"Can you give code examples? Also, there should not be memory leaks if you know what you are doing. ThreadLocalMap uses WeakReferences, so if you don&#39;t have a reference to threadLocal variable and you don&#39;t have a circular dependency from value to the threadLocal then you will not have a memory leak."},{"owner":{"account_id":12607836,"reputation":431,"user_id":9168107,"display_name":"Hari Bharathi"},"score":0,"creation_date":1601040559,"post_id":50947898,"comment_id":113288637,"body_markdown":"In spring framework, there is an alternative approach to achieve it. Refer this links\nhttps://stackoverflow.com/questions/25406157/spring-request-scope-vs-java-thread-local\nhttps://dzone.com/articles/an-alternative-approach-to-threadlocal-using-sprin-1","body":"In spring framework, there is an alternative approach to achieve it. Refer this links <a href=\"https://stackoverflow.com/questions/25406157/spring-request-scope-vs-java-thread-local\" title=\"spring request scope vs java thread local\">stackoverflow.com/questions/25406157/&hellip;</a> <a href=\"https://dzone.com/articles/an-alternative-approach-to-threadlocal-using-sprin-1\" rel=\"nofollow noreferrer\">dzone.com/articles/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689119806,"post_id":50947898,"comment_id":135167365,"body_markdown":"Nothing wrong with `ThreadLocal` *per se,* but people use it inappropriately. In Web applications you should be using the request or session scope.","body":"Nothing wrong with <code>ThreadLocal</code> <i>per se,</i> but people use it inappropriately. In Web applications you should be using the request or session scope."}],"answers":[{"tags":[],"owner":{"account_id":8953983,"reputation":3285,"user_id":6679072,"display_name":"ootero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689117705,"creation_date":1689117705,"answer_id":76666320,"question_id":50947898,"body_markdown":"There is an alternative to hide direct ThreadLocal usage using Spring.\r\n\r\nSee [https://tech.asimio.net/2017/11/28/An-alternative-to-ThreadLocal-using-Spring.html](https://tech.asimio.net/2017/11/28/An-alternative-to-ThreadLocal-using-Spring.html).\r\n\r\nIt still uses it but minimizes its usage to reduce the possibility of errors, such as not cleaning it after processing web requests","title":"Alternatives to ThreadLocal","body":"<p>There is an alternative to hide direct ThreadLocal usage using Spring.</p>\n<p>See <a href=\"https://tech.asimio.net/2017/11/28/An-alternative-to-ThreadLocal-using-Spring.html\" rel=\"nofollow noreferrer\">https://tech.asimio.net/2017/11/28/An-alternative-to-ThreadLocal-using-Spring.html</a>.</p>\n<p>It still uses it but minimizes its usage to reduce the possibility of errors, such as not cleaning it after processing web requests</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689126642,"creation_date":1689124425,"answer_id":76666593,"question_id":50947898,"body_markdown":"JDK 20 includes an alternative to ThreadLocals called [Scoped Values](https://openjdk.org/jeps/429). This gives a way to specify storing values in a specified scope so that other code in the same thread (or in other threads that call it) can access them. Unlike ThreadLocal the scoped value is immutable once set so downstream code can&#39;t tamper with it.","title":"Alternatives to ThreadLocal","body":"<p>JDK 20 includes an alternative to ThreadLocals called <a href=\"https://openjdk.org/jeps/429\" rel=\"nofollow noreferrer\">Scoped Values</a>. This gives a way to specify storing values in a specified scope so that other code in the same thread (or in other threads that call it) can access them. Unlike ThreadLocal the scoped value is immutable once set so downstream code can't tamper with it.</p>\n"}],"owner":{"account_id":6819296,"reputation":61,"user_id":5246934,"accept_rate":0,"display_name":"prem"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3946,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1689145593,"creation_date":1529496507,"question_id":50947898,"body_markdown":"Internet is filled with articles on disadvantages of ThreadLocal in Java, and yet people keep using it in Web Development. What I did not find is, is there any alternative to threadlocals in web application?","title":"Alternatives to ThreadLocal","body":"<p>Internet is filled with articles on disadvantages of ThreadLocal in Java, and yet people keep using it in Web Development. What I did not find is, is there any alternative to threadlocals in web application?</p>\n"},{"tags":["java","amazon-web-services","amazon-sns","localstack"],"comments":[{"owner":{"account_id":388570,"reputation":88646,"user_id":747579,"accept_rate":72,"display_name":"Abdennour TOUMI"},"score":0,"creation_date":1510614015,"post_id":47274943,"comment_id":81501202,"body_markdown":"Use slack webhooks as  middleware","body":"Use slack webhooks as  middleware"}],"answers":[{"tags":[],"owner":{"account_id":282698,"reputation":441,"user_id":579750,"display_name":"Guillaume Vauvert"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1516551347,"creation_date":1516551347,"answer_id":48368885,"question_id":47274943,"body_markdown":"To use your localstack, you have to set your [EndpointConfiguration](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/client/builder/AwsClientBuilder.EndpointConfiguration.html).\r\n\r\n\r\n    AmazonSNS amazonSNS = AmazonSNSClientBuilder.standard()\r\n\t  .withEndpointConfiguration(new EndpointConfiguration(&quot;http://localhost:4575&quot;, &quot;eu-west-1&quot;)) \r\n\t  .build();\r\n\r\nYou should also use [localstack/localstack](https://github.com/localstack/localstack) instead of [atlassian/localstack](https://github.com/atlassian/localstack) (no longer actively maintained).","title":"Localstack AWS endpoint in application","body":"<p>To use your localstack, you have to set your <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/client/builder/AwsClientBuilder.EndpointConfiguration.html\" rel=\"noreferrer\">EndpointConfiguration</a>.</p>\n\n<pre><code>AmazonSNS amazonSNS = AmazonSNSClientBuilder.standard()\n  .withEndpointConfiguration(new EndpointConfiguration(\"http://localhost:4575\", \"eu-west-1\")) \n  .build();\n</code></pre>\n\n<p>You should also use <a href=\"https://github.com/localstack/localstack\" rel=\"noreferrer\">localstack/localstack</a> instead of <a href=\"https://github.com/atlassian/localstack\" rel=\"noreferrer\">atlassian/localstack</a> (no longer actively maintained).</p>\n"},{"tags":[],"owner":{"account_id":390441,"reputation":32048,"user_id":750510,"accept_rate":98,"display_name":"madhead"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642411516,"creation_date":1569691069,"answer_id":58148645,"question_id":47274943,"body_markdown":"If you&#39;re using JUnit 5 for the tests, let me recommend you [JUnit 5 extensions for AWS](https://madhead.github.io/aws-junit5/asciidoc), a few JUnit 5 extensions that could be useful for testing AWS-related code. These extensions can be used to inject clients for AWS service clients provided by tools like localstack (or the real ones). Both AWS Java SDK v 2.x and v 1.x are supported:\r\n\r\n```java\r\npublic static class Endpoint implements AWSEndpoint {\r\n    @Override\r\n    public String url() { return &quot;http://localhost:4575&quot;; }\r\n\r\n    @Override\r\n    public String region() { return &quot;us-east-1&quot;; }\r\n\r\n    @Override\r\n    public String accessKey() { return &quot;&quot;; }\r\n\r\n    @Override\r\n    public String secretKey() { return &quot;&quot;; }\r\n}\r\n\r\n@ExtendWith(SNS.class)\r\nclass AmazonDynamoDBInjectionTest {\r\n    @AWSClient(endpoint = Endpoint.class)\r\n    private AmazonSNS client;\r\n\r\n    @Test\r\n    void test() throws Exception {\r\n        Assertions.assertNotNull(client);\r\n\r\n        …\r\n    }\r\n}\r\n```\r\n\r\n","title":"Localstack AWS endpoint in application","body":"<p>If you're using JUnit 5 for the tests, let me recommend you <a href=\"https://madhead.github.io/aws-junit5/asciidoc\" rel=\"nofollow noreferrer\">JUnit 5 extensions for AWS</a>, a few JUnit 5 extensions that could be useful for testing AWS-related code. These extensions can be used to inject clients for AWS service clients provided by tools like localstack (or the real ones). Both AWS Java SDK v 2.x and v 1.x are supported:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class Endpoint implements AWSEndpoint {\n    @Override\n    public String url() { return &quot;http://localhost:4575&quot;; }\n\n    @Override\n    public String region() { return &quot;us-east-1&quot;; }\n\n    @Override\n    public String accessKey() { return &quot;&quot;; }\n\n    @Override\n    public String secretKey() { return &quot;&quot;; }\n}\n\n@ExtendWith(SNS.class)\nclass AmazonDynamoDBInjectionTest {\n    @AWSClient(endpoint = Endpoint.class)\n    private AmazonSNS client;\n\n    @Test\n    void test() throws Exception {\n        Assertions.assertNotNull(client);\n\n        …\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10472614,"reputation":241,"user_id":7720057,"display_name":"Nitin Bisht"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689145348,"creation_date":1689145348,"answer_id":76667897,"question_id":47274943,"body_markdown":"As mentioned above, you need to add the endpoint configuraton to whichever service you are using (SQS, SNS,etc). **&quot;http://localhost:4575&quot;** didn&#39;t work in my case because we need to enable HTTPS endpoints with valid certificates.\r\n\r\nThe new endpoint which is recommended for AWS services is **&quot;localhost.localstack.cloud:4575&quot;** because the domain is publicly resolvable, and it also publish an SSL certificate that is automatically used inside LocalStack, in order to enable HTTPS endpoints with valid certificates.\r\nThe below code worked for me : \r\n\r\n     String serviceEndpoint =\r\n                  String.format(&quot;%s:%d&quot;, &quot;http://localhost.localstack.cloud&quot;, localstack.getMappedPort(4575));\r\n     AmazonSNS amazonSNS =\r\n            AmazonSNSClientBuilder.standard()\r\n                .withEndpointConfiguration(\r\n                    new EndpointConfiguration(serviceEndpoint,&quot;us-east-1&quot;)).build();\r\n\r\n**Note** : If your system is behind a corporate firewall or an internet service provider, prefer using **localhost** as it does not allow resolving **&quot;localhost.localstack.cloud&quot;** properly.\r\n","title":"Localstack AWS endpoint in application","body":"<p>As mentioned above, you need to add the endpoint configuraton to whichever service you are using (SQS, SNS,etc). <strong>&quot;http://localhost:4575&quot;</strong> didn't work in my case because we need to enable HTTPS endpoints with valid certificates.</p>\n<p>The new endpoint which is recommended for AWS services is <strong>&quot;localhost.localstack.cloud:4575&quot;</strong> because the domain is publicly resolvable, and it also publish an SSL certificate that is automatically used inside LocalStack, in order to enable HTTPS endpoints with valid certificates.\nThe below code worked for me :</p>\n<pre><code> String serviceEndpoint =\n              String.format(&quot;%s:%d&quot;, &quot;http://localhost.localstack.cloud&quot;, localstack.getMappedPort(4575));\n AmazonSNS amazonSNS =\n        AmazonSNSClientBuilder.standard()\n            .withEndpointConfiguration(\n                new EndpointConfiguration(serviceEndpoint,&quot;us-east-1&quot;)).build();\n</code></pre>\n<p><strong>Note</strong> : If your system is behind a corporate firewall or an internet service provider, prefer using <strong>localhost</strong> as it does not allow resolving <strong>&quot;localhost.localstack.cloud&quot;</strong> properly.</p>\n"}],"owner":{"account_id":1367548,"reputation":3154,"user_id":1303680,"accept_rate":47,"display_name":"Pratik Shelar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7627,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1689145348,"creation_date":1510613814,"question_id":47274943,"body_markdown":"I would like to run the functional tests for my application which tries to publish a message to AWS SNS. I tried LocalStack and found that it does everything I need to mock and publish messages locally. But my application uses amazon sdk client for java and when I run it locally it still tries to post requests to amazon region instead of the LocalStack\r\n\r\nWhat is the configuration required to make sure that the application interacts with the local stack instead of the AWS URL? Can we specify the endpoint URL in AWS config? I found this to be a open issue in AWS CLI https://github.com/aws/aws-cli/issues/1270\r\n\r\nIs there any workaround that anyone has implemented for this?\r\n","title":"Localstack AWS endpoint in application","body":"<p>I would like to run the functional tests for my application which tries to publish a message to AWS SNS. I tried LocalStack and found that it does everything I need to mock and publish messages locally. But my application uses amazon sdk client for java and when I run it locally it still tries to post requests to amazon region instead of the LocalStack</p>\n\n<p>What is the configuration required to make sure that the application interacts with the local stack instead of the AWS URL? Can we specify the endpoint URL in AWS config? I found this to be a open issue in AWS CLI <a href=\"https://github.com/aws/aws-cli/issues/1270\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-cli/issues/1270</a></p>\n\n<p>Is there any workaround that anyone has implemented for this?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1687848215,"post_id":76562134,"comment_id":134990029,"body_markdown":"Have you tried updating Hibernate to see if it would help?","body":"Have you tried updating Hibernate to see if it would help?"},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1687848341,"post_id":76562134,"comment_id":134990046,"body_markdown":"You could try to override the hibernate version that is defined in the 3.1.1 spring-boot-dependencies to be the one from 3.1.0 spring-boot-bom. Have you verified that this is an actual spring problem or is it a hibernate problem? Have you tried creating the jpa query using the EntityManager directly?","body":"You could try to override the hibernate version that is defined in the 3.1.1 spring-boot-dependencies to be the one from 3.1.0 spring-boot-bom. Have you verified that this is an actual spring problem or is it a hibernate problem? Have you tried creating the jpa query using the EntityManager directly?"},{"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"score":0,"creation_date":1687850011,"post_id":76562134,"comment_id":134990332,"body_markdown":"@JCompetence there is no newer version of Hibernate yet, 6.2.5 is the latest and greatest.","body":"@JCompetence there is no newer version of Hibernate yet, 6.2.5 is the latest and greatest."},{"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"score":0,"creation_date":1687850084,"post_id":76562134,"comment_id":134990343,"body_markdown":"@SpaceTrucker I&#39;m guessing it&#39;s a Hibernate problem, but then again can&#39;t make it work by defining an override of the Hibernate version so maybe there&#39;s something else that&#39;s fishy. I&#39;ll go and try making the query with the entityManager.","body":"@SpaceTrucker I&#39;m guessing it&#39;s a Hibernate problem, but then again can&#39;t make it work by defining an override of the Hibernate version so maybe there&#39;s something else that&#39;s fishy. I&#39;ll go and try making the query with the entityManager."},{"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"score":0,"creation_date":1687850902,"post_id":76562134,"comment_id":134990513,"body_markdown":"@SpaceTrucker when creating a query entirely through the EntityManager the query is correct. But unfortunately then we&#39;d need to also do the sorting and paging manually, which I&#39;m trying to avoid, since there&#39;s a few 100 queries like this that possibly sort on data from another table that is optional.","body":"@SpaceTrucker when creating a query entirely through the EntityManager the query is correct. But unfortunately then we&#39;d need to also do the sorting and paging manually, which I&#39;m trying to avoid, since there&#39;s a few 100 queries like this that possibly sort on data from another table that is optional."},{"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"score":0,"creation_date":1687854735,"post_id":76562134,"comment_id":134991289,"body_markdown":"I submitted a bug report at https://hibernate.atlassian.net/browse/HHH-16856","body":"I submitted a bug report at <a href=\"https://hibernate.atlassian.net/browse/HHH-16856\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-16856</a>"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1687859754,"post_id":76562134,"comment_id":134992338,"body_markdown":"The generated query uses the role table only for the `order by` clause. That could possibly be the case. Where does that come from? It&#39;s not in your query. Also, why are you even joining on the role table if you&#39;re not using it? If you only want to make sure the records are fetched, a `JOIN FETCH` is perhaps better.","body":"The generated query uses the role table only for the <code>order by</code> clause. That could possibly be the case. Where does that come from? It&#39;s not in your query. Also, why are you even joining on the role table if you&#39;re not using it? If you only want to make sure the records are fetched, a <code>JOIN FETCH</code> is perhaps better."},{"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"score":0,"creation_date":1687867205,"post_id":76562134,"comment_id":134993913,"body_markdown":"@RobSpoor the pageable can contain a sort on role.name. I want nothing from this table except the sorting. I can already get the role id from the api key entity anyway and that&#39;s all the client calling this endpoint needs. This all worked fine 1 patch version ago btw.","body":"@RobSpoor the pageable can contain a sort on role.name. I want nothing from this table except the sorting. I can already get the role id from the api key entity anyway and that&#39;s all the client calling this endpoint needs. This all worked fine 1 patch version ago btw."}],"answers":[{"tags":[],"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1687848794,"creation_date":1687848794,"answer_id":76562277,"question_id":76562134,"body_markdown":"If Role table is seprate table than you should try this.\r\n\r\n    SELECT \r\n        ak\r\n    FROM\r\n        ApiKey ak\r\n            LEFT JOIN\r\n        Role r ON ak.role = r.id\r\n    WHERE\r\n        ak.id = 1;\r\nIf you want to apply leftjoin on same table than try this\r\n\r\n    SELECT \r\n        ak\r\n    FROM\r\n        ApiKey ak\r\n            LEFT JOIN\r\n        ApiKey ak1 ON ak.role = ak1.role\r\n    WHERE\r\n        ak.id = :projectId;","title":"When moving from Spring Boot 3.1.0 to 3.1.1, JOIN queries break","body":"<p>If Role table is seprate table than you should try this.</p>\n<pre><code>SELECT \n    ak\nFROM\n    ApiKey ak\n        LEFT JOIN\n    Role r ON ak.role = r.id\nWHERE\n    ak.id = 1;\n</code></pre>\n<p>If you want to apply leftjoin on same table than try this</p>\n<pre><code>SELECT \n    ak\nFROM\n    ApiKey ak\n        LEFT JOIN\n    ApiKey ak1 ON ak.role = ak1.role\nWHERE\n    ak.id = :projectId;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689144969,"creation_date":1687919048,"answer_id":76569672,"question_id":76562134,"body_markdown":"Follow-up from ticket:\r\n\r\nThis is actually not Hibernate but Spring Data removing the `left join`, and it apparently does that because it cannot see its purpose, as the sort param is not called the same as the alias in the `left join`. Hibernate then adds a regular `join` automatically later to be able to sort on the actual `role.name` sort. I guess it does this by finding the `role` as a field name in ApiKey.\r\n\r\nWhat I would consider a bug is that it doesn&#39;t use `left join` but `join`, since now the data is automatically restricted because of a sort. It&#39;s also a big change to make in a small patch release. But at least the easy solution here would be to name the alias the same as the field in the entity. Especially if your pageable is constructed by a client (like in our case) and they wouldn&#39;t want to use alias shorthands for their sort params.","title":"When moving from Spring Boot 3.1.0 to 3.1.1, JOIN queries break","body":"<p>Follow-up from ticket:</p>\n<p>This is actually not Hibernate but Spring Data removing the <code>left join</code>, and it apparently does that because it cannot see its purpose, as the sort param is not called the same as the alias in the <code>left join</code>. Hibernate then adds a regular <code>join</code> automatically later to be able to sort on the actual <code>role.name</code> sort. I guess it does this by finding the <code>role</code> as a field name in ApiKey.</p>\n<p>What I would consider a bug is that it doesn't use <code>left join</code> but <code>join</code>, since now the data is automatically restricted because of a sort. It's also a big change to make in a small patch release. But at least the easy solution here would be to name the alias the same as the field in the entity. Especially if your pageable is constructed by a client (like in our case) and they wouldn't want to use alias shorthands for their sort params.</p>\n"}],"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76569672,"answer_count":2,"score":2,"last_activity_date":1689144969,"creation_date":1687847324,"question_id":76562134,"body_markdown":"I&#39;m migrating from Spring Boot 3.1.0 to 3.1.1, just a simple patch version upgrade.\r\n\r\nBut it incorrectly starts using JOIN on a table instead of the defined LEFT JOIN. This means I get fewer results because the foreign key is optional.\r\n\r\nRepo:\r\n\r\n```\r\n@Query(&quot;&quot;&quot;\r\n    SELECT ak FROM ApiKey ak\r\n    LEFT JOIN ak.role r\r\n    WHERE ak.projectId = :projectId\r\n    &quot;&quot;&quot;)\r\nPage&lt;ApiKey&gt; find(@Param(&quot;projectId&quot;) UUID projectId, Pageable pageable);\r\n```\r\n\r\nThe reason we LEFT JOIN on `role` is because the pageable can contain a sort on `role.name`\r\n\r\nHowever, now the following query is generated:\r\n\r\n```\r\nselect a1_0.id,a1_0.created_date,a1_0.db_version,a1_0.expiry_date,a1_0.last_used,a1_0.name,a1_0.project_id,a1_0.public_part,a1_0.role_id,a1_0.secret_key_hash,a1_0.updated_date from api_key a1_0 join role r2_0 on r2_0.id=a1_0.role_id where a1_0.project_id=? order by r2_0.name offset ? rows fetch first ? rows only\r\n```\r\n\r\n\r\nWhich has a regular join, which is clearly wrong.\r\nIs there anything I can do here except rewrite to SQL?","title":"When moving from Spring Boot 3.1.0 to 3.1.1, JOIN queries break","body":"<p>I'm migrating from Spring Boot 3.1.0 to 3.1.1, just a simple patch version upgrade.</p>\n<p>But it incorrectly starts using JOIN on a table instead of the defined LEFT JOIN. This means I get fewer results because the foreign key is optional.</p>\n<p>Repo:</p>\n<pre><code>@Query(&quot;&quot;&quot;\n    SELECT ak FROM ApiKey ak\n    LEFT JOIN ak.role r\n    WHERE ak.projectId = :projectId\n    &quot;&quot;&quot;)\nPage&lt;ApiKey&gt; find(@Param(&quot;projectId&quot;) UUID projectId, Pageable pageable);\n</code></pre>\n<p>The reason we LEFT JOIN on <code>role</code> is because the pageable can contain a sort on <code>role.name</code></p>\n<p>However, now the following query is generated:</p>\n<pre><code>select a1_0.id,a1_0.created_date,a1_0.db_version,a1_0.expiry_date,a1_0.last_used,a1_0.name,a1_0.project_id,a1_0.public_part,a1_0.role_id,a1_0.secret_key_hash,a1_0.updated_date from api_key a1_0 join role r2_0 on r2_0.id=a1_0.role_id where a1_0.project_id=? order by r2_0.name offset ? rows fetch first ? rows only\n</code></pre>\n<p>Which has a regular join, which is clearly wrong.\nIs there anything I can do here except rewrite to SQL?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1688977677,"post_id":76651775,"comment_id":135142342,"body_markdown":"How do you know it&#39;s not working?","body":"How do you know it&#39;s not working?"},{"owner":{"account_id":28825887,"reputation":1,"user_id":22077302,"display_name":"Nani K"},"score":0,"creation_date":1688978341,"post_id":76651775,"comment_id":135142509,"body_markdown":"it is failing &quot;Nani N9 Test&quot;","body":"it is failing &quot;Nani N9 Test&quot;"},{"owner":{"account_id":28825887,"reputation":1,"user_id":22077302,"display_name":"Nani K"},"score":0,"creation_date":1688978381,"post_id":76651775,"comment_id":135142518,"body_markdown":"^(?!.*(.)\\1{2})(?=[^a-zA-Z]*(?:[a-zA-Z][^a-zA-Z]*){3,})[a-zA-Z]([.&#39;\\ha-zA-Z]){2,}$ -- this is working for all critieria, except numeric","body":"^(?!.*(.)\\1{2})(?=[^a-zA-Z]*(?:[a-zA-Z][^a-zA-Z]*){3,})[a-zA&zwnj;&#8203;-Z]([.&#39;\\ha-zA-Z]){2,&zwnj;&#8203;}$ -- this is working for all critieria, except numeric"},{"owner":{"account_id":28825887,"reputation":1,"user_id":22077302,"display_name":"Nani K"},"score":0,"creation_date":1688978419,"post_id":76651775,"comment_id":135142530,"body_markdown":"So we need regexp to allow numerics also. Could you please suggets","body":"So we need regexp to allow numerics also. Could you please suggets"},{"owner":{"account_id":28825887,"reputation":1,"user_id":22077302,"display_name":"Nani K"},"score":0,"creation_date":1688980321,"post_id":76651775,"comment_id":135142887,"body_markdown":"could you please help","body":"could you please help"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1688989202,"post_id":76651775,"comment_id":135144679,"body_markdown":"Have you tried the _\\d_, or _[0-9]_ constructs?","body":"Have you tried the <i>\\d</i>, or <i>[0-9]</i> constructs?"},{"owner":{"account_id":329584,"reputation":3603,"user_id":653182,"display_name":"Patrick Janser"},"score":0,"creation_date":1689142777,"post_id":76651775,"comment_id":135169418,"body_markdown":"It would be great if you could make your question clear to read, with sentences, bullet points, correct formatting, for all the readers. I think I understood it anyway and gave you my answer, but please enhance your question for all the community, as I personally find your question very interesting and helpful for a lot of other developers needing to validate some input with multiple conditions.","body":"It would be great if you could make your question clear to read, with sentences, bullet points, correct formatting, for all the readers. I think I understood it anyway and gave you my answer, but please enhance your question for all the community, as I personally find your question very interesting and helpful for a lot of other developers needing to validate some input with multiple conditions."}],"answers":[{"tags":[],"owner":{"account_id":329584,"reputation":3603,"user_id":653182,"display_name":"Patrick Janser"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689144939,"creation_date":1689111333,"answer_id":76665919,"question_id":76651775,"body_markdown":"I suggest some little changes/improvements:\r\n\r\n- It&#39;s allowed to have a letter or a number repeated twice, as in\r\n  your question, **but for spaces, dots and apostrophes, I would not\r\n  allow any repetition**. I don&#39;t see the point of validating\r\n  `tom..cruise`, `O&#39;&#39;Reilly` or `Jack  Jones` (two spaces in between\r\n  instead of one).\r\n\r\n- It&#39;s **not allowed to start or end with a space or a dot**.\r\n\r\nBy the way, a question regarding numbers:\r\n**Why allowing `James 007` but not `Knight 2000`?**  \r\nI applied the &quot;*allow twice, but not more*&quot; on numbers as you\r\nrequested, but I would personally only apply it on letters.\r\n\r\nTo make the regular expression more readable, I used the **x** flag.\r\nThis way I can put some comments in the regular expression. To match\r\nthe space char, you can either use `\\ ` or `\\x20`. I used the first one.\r\n\r\nI also used named groups instead of indexed groups, as most regex\r\nengines allow it now.\r\n\r\nThe commented regular expression:\r\n\r\n```regex\r\n/\r\n^\r\n# The name should have at least 3 alpha characters in it:\r\n(?=(?:.*?[a-z]){3,})\r\n# Any letter or number should not be repeated more than twice:\r\n(?!.*?(?&lt;alphanum&gt;[a-z0-9])\\k&lt;alphanum&gt;{2})\r\n# Any space, dot or apostrophe should not be repeated:\r\n(?!.*?(?&lt;ponctuationchars&gt;[.&#39;\\ ])\\k&lt;ponctuationchars&gt;)\r\n# Should not start or end with a space or a dot:\r\n(?![.\\ ]|.*?[.\\ ]$)\r\n# The allowed chars are letters, numbers, space, dot and\r\n# apostrophe. Min length is 3 in any case:\r\n[a-z0-9\\ .&#39;]{3,}\r\n$\r\n/ix\r\n```\r\n\r\nIn action, with the regex explanation: https://regex101.com/r/TAULpE/1\r\n\r\nAs you now see how to add multiple conditions with positive or\r\nnegative lookaheads, you can apply some changes quite easily,\r\nespecially because the commented regex doesn&#39;t get a long horizontal\r\nunreadable pattern.\r\n\r\nTypically, what you could change/add:\r\n\r\n- Add some other valid chars, such as `-` for names like\r\n  `Jean-Pierre` or `&#180;` for `O&#180;Reilly`. But this is a matter of\r\n  choice.\r\n- Accept accented chars like `&#233;` in `H&#233;l&#232;ne`. This could be done\r\n  by replacing `[a-z]` by `\\p{L}` with the **u**nicode flag to match\r\n  any letter in any language.\r\n- Accept numbers more than twice and only apply this rule to letters.\r\n\r\nThis is what we finally get:\r\n\r\n```regex\r\n/\r\n^\r\n# The name should have at least 3 alpha characters in it:\r\n(?=(?:.*?\\p{L}){3,})\r\n# Any letter or number should not be repeated more than twice:\r\n(?!.*?(?&lt;alpha&gt;\\p{L})\\k&lt;alpha&gt;{2})\r\n# Any space, dot, apostrophe or hyphen should not be repeated:\r\n(?!.*?(?&lt;ponctuationchars&gt;[.&#39;&#180;\\ -])\\k&lt;ponctuationchars&gt;)\r\n# Should not start or end with a space or a dot:\r\n(?![.\\ ]|.*?[.\\ ]$)\r\n# The allowed chars are letters, numbers, space, dot, hyphen and\r\n# apostrophes. Min length is 3 in any case:\r\n[\\p{L}0-9\\ .&#39;&#180;-]{3,}\r\n$\r\n/ix\r\n```\r\n\r\nIn action: https://regex101.com/r/TAULpE/2","title":"Java regular expression to validate a username with multiple criteria","body":"<p>I suggest some little changes/improvements:</p>\n<ul>\n<li><p>It's allowed to have a letter or a number repeated twice, as in\nyour question, <strong>but for spaces, dots and apostrophes, I would not\nallow any repetition</strong>. I don't see the point of validating\n<code>tom..cruise</code>, <code>O''Reilly</code> or <code>Jack  Jones</code> (two spaces in between\ninstead of one).</p>\n</li>\n<li><p>It's <strong>not allowed to start or end with a space or a dot</strong>.</p>\n</li>\n</ul>\n<p>By the way, a question regarding numbers:\n<strong>Why allowing <code>James 007</code> but not <code>Knight 2000</code>?</strong><br />\nI applied the &quot;<em>allow twice, but not more</em>&quot; on numbers as you\nrequested, but I would personally only apply it on letters.</p>\n<p>To make the regular expression more readable, I used the <strong>x</strong> flag.\nThis way I can put some comments in the regular expression. To match\nthe space char, you can either use <code>\\ </code> or <code>\\x20</code>. I used the first one.</p>\n<p>I also used named groups instead of indexed groups, as most regex\nengines allow it now.</p>\n<p>The commented regular expression:</p>\n<pre><code>/\n^\n# The name should have at least 3 alpha characters in it:\n(?=(?:.*?[a-z]){3,})\n# Any letter or number should not be repeated more than twice:\n(?!.*?(?&lt;alphanum&gt;[a-z0-9])\\k&lt;alphanum&gt;{2})\n# Any space, dot or apostrophe should not be repeated:\n(?!.*?(?&lt;ponctuationchars&gt;[.'\\ ])\\k&lt;ponctuationchars&gt;)\n# Should not start or end with a space or a dot:\n(?![.\\ ]|.*?[.\\ ]$)\n# The allowed chars are letters, numbers, space, dot and\n# apostrophe. Min length is 3 in any case:\n[a-z0-9\\ .']{3,}\n$\n/ix\n</code></pre>\n<p>In action, with the regex explanation: <a href=\"https://regex101.com/r/TAULpE/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/TAULpE/1</a></p>\n<p>As you now see how to add multiple conditions with positive or\nnegative lookaheads, you can apply some changes quite easily,\nespecially because the commented regex doesn't get a long horizontal\nunreadable pattern.</p>\n<p>Typically, what you could change/add:</p>\n<ul>\n<li>Add some other valid chars, such as <code>-</code> for names like\n<code>Jean-Pierre</code> or <code>´</code> for <code>O´Reilly</code>. But this is a matter of\nchoice.</li>\n<li>Accept accented chars like <code>é</code> in <code>Hélène</code>. This could be done\nby replacing <code>[a-z]</code> by <code>\\p{L}</code> with the <strong>u</strong>nicode flag to match\nany letter in any language.</li>\n<li>Accept numbers more than twice and only apply this rule to letters.</li>\n</ul>\n<p>This is what we finally get:</p>\n<pre><code>/\n^\n# The name should have at least 3 alpha characters in it:\n(?=(?:.*?\\p{L}){3,})\n# Any letter or number should not be repeated more than twice:\n(?!.*?(?&lt;alpha&gt;\\p{L})\\k&lt;alpha&gt;{2})\n# Any space, dot, apostrophe or hyphen should not be repeated:\n(?!.*?(?&lt;ponctuationchars&gt;[.'´\\ -])\\k&lt;ponctuationchars&gt;)\n# Should not start or end with a space or a dot:\n(?![.\\ ]|.*?[.\\ ]$)\n# The allowed chars are letters, numbers, space, dot, hyphen and\n# apostrophes. Min length is 3 in any case:\n[\\p{L}0-9\\ .'´-]{3,}\n$\n/ix\n</code></pre>\n<p>In action: <a href=\"https://regex101.com/r/TAULpE/2\" rel=\"nofollow noreferrer\">https://regex101.com/r/TAULpE/2</a></p>\n"}],"owner":{"account_id":28825887,"reputation":1,"user_id":22077302,"display_name":"Nani K"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"answer_count":1,"score":-6,"last_activity_date":1689144939,"creation_date":1688975944,"question_id":76651775,"body_markdown":"I am trying to write a Java regular expression to validate a username\r\nwith these multiple criteria:\r\n\r\n- minimum 3 alpha characters.\r\n- allow numeric characters.\r\n- no special characters but space, dot, apostrophe are allowed.\r\n- character/dot/space/apostrophe not repeated more than 2 times:  \r\n  `a...`, `aaa`, `bbb`, `a&#39;&#39;&#39;`, `  `\r\n\r\nI tried this regex:\r\n\r\n`^(?!.*(.)\\1{2})(?=[^a-zA-Z]*(?:[a-zA-Z][^a-zA-Z]*){3,})[a-zA-Z0-9]([.&#39;\\ha-zA-Z0-9]){2,}$`\r\n\r\nI wrote this regular expression but it is not working:\r\n\r\n`^(?!.*(.)\\1{2})(?=[^a-zA-Z0-9]*(?:[a-zA-Z][^a-zA-Z]*){3,})[a-zA-Z]([.&#39;\\ha-zA-Z]){2,}$`\r\n\r\nIt&#39;s not working in the below scenario:\r\n\r\n&quot;Nanni 555&quot; -- seems that the above regexp is not accepting same numeric more than 2 times.","title":"Java regular expression to validate a username with multiple criteria","body":"<p>I am trying to write a Java regular expression to validate a username\nwith these multiple criteria:</p>\n<ul>\n<li>minimum 3 alpha characters.</li>\n<li>allow numeric characters.</li>\n<li>no special characters but space, dot, apostrophe are allowed.</li>\n<li>character/dot/space/apostrophe not repeated more than 2 times:<br />\n<code>a...</code>, <code>aaa</code>, <code>bbb</code>, <code>a'''</code>, <code>  </code></li>\n</ul>\n<p>I tried this regex:</p>\n<p><code>^(?!.*(.)\\1{2})(?=[^a-zA-Z]*(?:[a-zA-Z][^a-zA-Z]*){3,})[a-zA-Z0-9]([.'\\ha-zA-Z0-9]){2,}$</code></p>\n<p>I wrote this regular expression but it is not working:</p>\n<p><code>^(?!.*(.)\\1{2})(?=[^a-zA-Z0-9]*(?:[a-zA-Z][^a-zA-Z]*){3,})[a-zA-Z]([.'\\ha-zA-Z]){2,}$</code></p>\n<p>It's not working in the below scenario:</p>\n<p>&quot;Nanni 555&quot; -- seems that the above regexp is not accepting same numeric more than 2 times.</p>\n"},{"tags":["java","spring-boot","unit-testing","integration-testing","spring-boot-test"],"owner":{"account_id":9735515,"reputation":1045,"user_id":7218881,"display_name":"Sankalpa Wijewickrama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689144931,"creation_date":1689139967,"question_id":76667384,"body_markdown":"My main concern raised with the immense increment of build time while adding more test classes. In my application there are various integration test classes for different controllers and services. Each of this integration test class is equipped with `@SpringBootTest` and by definition it bootstraps the application for testing. The more integration test classes means more bootstrapping  per integration test class and it increases the build time.\r\n\r\nMy idea is to reduce the number of times bootstrapping for each and ever integration test class. I identify categories of integration test classes which will not affect the execution of one to the other. Therefore, if there is a way for me to bundle number of integration test classes and run with one bootstrap I can get the job done. At the end I can clear the context via `@DirtiesContext(classMode = AFTER_CLASS)`.\r\n\r\nI did some research and figured out `JUnit 5` has test suites and it is working fine for my use-case as long as `@SpringBootTest` is distributed among each unit test class. I want to move `@SpringBootTest` to the test suite class level such that it will bootstrap once and trigger test classes in the test suite.  \r\n\r\nI would highly appreciate if I can get insights for an approach to do this. Thank you in advance. ","title":"Is it possible to cover multiple integration test classes via one spring boot test bootstrap (@SpringBootTest)?","body":"<p>My main concern raised with the immense increment of build time while adding more test classes. In my application there are various integration test classes for different controllers and services. Each of this integration test class is equipped with <code>@SpringBootTest</code> and by definition it bootstraps the application for testing. The more integration test classes means more bootstrapping  per integration test class and it increases the build time.</p>\n<p>My idea is to reduce the number of times bootstrapping for each and ever integration test class. I identify categories of integration test classes which will not affect the execution of one to the other. Therefore, if there is a way for me to bundle number of integration test classes and run with one bootstrap I can get the job done. At the end I can clear the context via <code>@DirtiesContext(classMode = AFTER_CLASS)</code>.</p>\n<p>I did some research and figured out <code>JUnit 5</code> has test suites and it is working fine for my use-case as long as <code>@SpringBootTest</code> is distributed among each unit test class. I want to move <code>@SpringBootTest</code> to the test suite class level such that it will bootstrap once and trigger test classes in the test suite.</p>\n<p>I would highly appreciate if I can get insights for an approach to do this. Thank you in advance.</p>\n"},{"tags":["java","eclipse","gradle","eclipse-plugin"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1688672235,"post_id":76631899,"comment_id":135109002,"body_markdown":"You have obscured paths in your images that might have been useful information. **No one cares** what your workspace projects are named. You also have not shown the entire list of entries in the Build Path property page Source tab.","body":"You have obscured paths in your images that might have been useful information. <b>No one cares</b> what your workspace projects are named. You also have not shown the entire list of entries in the Build Path property page Source tab."},{"owner":{"account_id":28949040,"reputation":53,"user_id":22174061,"display_name":"ash"},"score":0,"creation_date":1688672699,"post_id":76631899,"comment_id":135109076,"body_markdown":"@nitind my confidentiality agreement does care abt all things to code. i&#39;ll see to the rest.","body":"@nitind my confidentiality agreement does care abt all things to code. i&#39;ll see to the rest."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1688677247,"post_id":76631899,"comment_id":135109919,"body_markdown":"Your problem is that you have the source folder `src/test/` and also the source folder `src/test/resources` nested/inside of the first source folder. Nesting source folders does not make sense, does it? Instead, you should have `src/test/java` and `src/test/resources` for your test code and for your test resources.","body":"Your problem is that you have the source folder <code>src&#47;test&#47;</code> and also the source folder <code>src&#47;test&#47;resources</code> nested/inside of the first source folder. Nesting source folders does not make sense, does it? Instead, you should have <code>src&#47;test&#47;java</code> and <code>src&#47;test&#47;resources</code> for your test code and for your test resources."},{"owner":{"account_id":28949040,"reputation":53,"user_id":22174061,"display_name":"ash"},"score":0,"creation_date":1689094889,"post_id":76631899,"comment_id":135163493,"body_markdown":"@howlger - relative-from-above then. write this as an ans and i&#39;ll accept.","body":"@howlger - relative-from-above then. write this as an ans and i&#39;ll accept."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689144855,"creation_date":1689144855,"answer_id":76667845,"question_id":76631899,"body_markdown":"The problem is that you have the source folder **`src/test/`** and another source folder **`src/test/resources` inside/nested** in the first source folder. Nesting source folders does not make sense and is therefore not allowed. Hence the error message.\r\n\r\nInstead, you should have the source folders `src/test/java` and `src/test/resources` for your test code and for your test resources.","title":"Eclipse project build-path -- conflicting error","body":"<p>The problem is that you have the source folder <strong><code>src/test/</code></strong> and another source folder <strong><code>src/test/resources</code> inside/nested</strong> in the first source folder. Nesting source folders does not make sense and is therefore not allowed. Hence the error message.</p>\n<p>Instead, you should have the source folders <code>src/test/java</code> and <code>src/test/resources</code> for your test code and for your test resources.</p>\n"}],"owner":{"account_id":28949040,"reputation":53,"user_id":22174061,"display_name":"ash"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76667845,"answer_count":1,"score":-1,"last_activity_date":1689144855,"creation_date":1688670725,"question_id":76631899,"body_markdown":"Eclipse is giving an error to build-path of the Gradle project on it -- \r\n\r\n&gt; Cannot nest &#39;&lt;project-name&gt;/src/test/resources&#39; inside &lt;project-name&gt;/src/test&#39;. To enable the nesting exclude &#39;resources/&#39; from &#39;&lt;project-name&gt;/src/test&#39;\r\n\r\nSo I do what it asks – both of these two -- \r\n\r\n1. by the solution here https://discuss.gradle.org/t/how-can-i-declare-an-exclusion-on-my-source-folder/22821 added \r\n            `exclude &#39;src/test/resources&#39; `\r\ninto the Java srcDirs in the `sourceSets&gt; .. &gt;java` block already there is in the `build.gradle` file of the project, \r\n\r\n1. and via Eclipse—made it exclude the `/test/resources&#39;` from the build-path, just as it asks. \r\n\r\n\r\nBut I sill see the error on the build-path. \r\n\r\n[Cleared the project name-s in the image](https://i.stack.imgur.com/29sWn.png)\r\n\r\nEDIT: image shows way after applying the changes i made-- a latter open of the source/edit window. i&#39;m a Java  eng of many yrs. just new on Gradle.  \r\n\r\nIs this a mismatch on the Eclipse/Buildship plugin and the Gradle version? Not savvy on Gradle/yet, but looks like Gradle isn’t backward compatible. \r\nVersions are:\r\n\r\n* Buildship Gradle Integration 3.0\r\n* Eclipse 2020-06\r\n* Gradle 5.5   \r\n* Java 11\r\n\r\nI imported as a Gradle project. \r\n\r\nTIA \r\n","title":"Eclipse project build-path -- conflicting error","body":"<p>Eclipse is giving an error to build-path of the Gradle project on it --</p>\n<blockquote>\n<p>Cannot nest '/src/test/resources' inside /src/test'. To enable the nesting exclude 'resources/' from '/src/test'</p>\n</blockquote>\n<p>So I do what it asks – both of these two --</p>\n<ol>\n<li><p>by the solution here <a href=\"https://discuss.gradle.org/t/how-can-i-declare-an-exclusion-on-my-source-folder/22821\" rel=\"nofollow noreferrer\">https://discuss.gradle.org/t/how-can-i-declare-an-exclusion-on-my-source-folder/22821</a> added\n<code>exclude 'src/test/resources' </code>\ninto the Java srcDirs in the <code>sourceSets&gt; .. &gt;java</code> block already there is in the <code>build.gradle</code> file of the project,</p>\n</li>\n<li><p>and via Eclipse—made it exclude the <code>/test/resources'</code> from the build-path, just as it asks.</p>\n</li>\n</ol>\n<p>But I sill see the error on the build-path.</p>\n<p><a href=\"https://i.stack.imgur.com/29sWn.png\" rel=\"nofollow noreferrer\">Cleared the project name-s in the image</a></p>\n<p>EDIT: image shows way after applying the changes i made-- a latter open of the source/edit window. i'm a Java  eng of many yrs. just new on Gradle.</p>\n<p>Is this a mismatch on the Eclipse/Buildship plugin and the Gradle version? Not savvy on Gradle/yet, but looks like Gradle isn’t backward compatible.\nVersions are:</p>\n<ul>\n<li>Buildship Gradle Integration 3.0</li>\n<li>Eclipse 2020-06</li>\n<li>Gradle 5.5</li>\n<li>Java 11</li>\n</ul>\n<p>I imported as a Gradle project.</p>\n<p>TIA</p>\n"},{"tags":["java","eclipse","server","m2eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1689072895,"post_id":76660278,"comment_id":135158355,"body_markdown":"It is probably related to the Eclipse version (or to be more precise to the m2e version, the Maven support of Eclipse) and probably also to the additional plugins you installed. Please go to the _Error Log_ view, select the error, hit Ctrl+C and paste it into your question formatted as _Sample Code_.","body":"It is probably related to the Eclipse version (or to be more precise to the m2e version, the Maven support of Eclipse) and probably also to the additional plugins you installed. Please go to the <i>Error Log</i> view, select the error, hit Ctrl+C and paste it into your question formatted as <i>Sample Code</i>."},{"owner":{"account_id":14248971,"reputation":13,"user_id":10293083,"display_name":"Arun A"},"score":0,"creation_date":1689095600,"post_id":76660278,"comment_id":135163634,"body_markdown":"@howlger changing the eclipse version worked. Thanks!","body":"@howlger changing the eclipse version worked. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689144559,"creation_date":1689143848,"answer_id":76667734,"question_id":76660278,"body_markdown":"It is probably related to the Eclipse version, more specifically the [m2e][1] version, the Maven support of Eclipse, and also to the additional plugins you have installed that do not seem to work with the m2e version you have. [Maybe due to the multiple API breakages in m2e 2.x][2].\r\n\r\nUpdate the affected plugin that uses m2e (if you don&#39;t know which plugin, go to the _Error Log_ view and look in the stack trace to see what m2e is calling). If no newer version of the plugin is yet available, using an older Eclipse/m2e version might work as a temporary workaround (m2e 2.x has been introduced in Eclipse 2022-09).\r\n\r\n\r\n  [1]: https://github.com/eclipse-m2e/m2e-core\r\n  [2]: https://github.com/eclipse-m2e/m2e-core/blob/master/RELEASE_NOTES.md#multiple-api-breakage","title":"Getting this error while launching a Jetty app &quot;Launching application_name&quot;. &#39;java.lang.String org.eclipse.m2e.core.embedder.ArtifactKey.groupId()&quot;","body":"<p>It is probably related to the Eclipse version, more specifically the <a href=\"https://github.com/eclipse-m2e/m2e-core\" rel=\"nofollow noreferrer\">m2e</a> version, the Maven support of Eclipse, and also to the additional plugins you have installed that do not seem to work with the m2e version you have. <a href=\"https://github.com/eclipse-m2e/m2e-core/blob/master/RELEASE_NOTES.md#multiple-api-breakage\" rel=\"nofollow noreferrer\">Maybe due to the multiple API breakages in m2e 2.x</a>.</p>\n<p>Update the affected plugin that uses m2e (if you don't know which plugin, go to the <em>Error Log</em> view and look in the stack trace to see what m2e is calling). If no newer version of the plugin is yet available, using an older Eclipse/m2e version might work as a temporary workaround (m2e 2.x has been introduced in Eclipse 2022-09).</p>\n"}],"owner":{"account_id":14248971,"reputation":13,"user_id":10293083,"display_name":"Arun A"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689144559,"creation_date":1689066142,"question_id":76660278,"body_markdown":"This is the output log for the error that i&#39;m getting on the console. \r\n\r\n    An internal error occurred during: &quot;Launching application-name&quot;.\r\n    org.eclipse.m2e.core.embedder.ArtifactKey.groupId()Ljava/lang/String;\r\n\r\nI&#39;m on java 8 and maven 3.6.3. Is it related any of the system configuration?","title":"Getting this error while launching a Jetty app &quot;Launching application_name&quot;. &#39;java.lang.String org.eclipse.m2e.core.embedder.ArtifactKey.groupId()&quot;","body":"<p>This is the output log for the error that i'm getting on the console.</p>\n<pre><code>An internal error occurred during: &quot;Launching application-name&quot;.\norg.eclipse.m2e.core.embedder.ArtifactKey.groupId()Ljava/lang/String;\n</code></pre>\n<p>I'm on java 8 and maven 3.6.3. Is it related any of the system configuration?</p>\n"},{"tags":["java","enums","graalvm","graalvm-native-image","graaljs"],"owner":{"account_id":7352305,"reputation":125,"user_id":5598020,"display_name":"Gestalt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689144456,"creation_date":1689139888,"question_id":76667379,"body_markdown":"I have a **@CEntryPoint** annotated method that I&#39;m converting to a shared library and using it as a native method from a different Java application. \r\n\r\nThis annotated  method returns a value based on the enum that is provided to it as a parameter.\r\n\r\n    @CEntryPoint(name=&quot;Java_package1_Mainclass_main&quot;)\r\n    public static long fetchFromEnum(Pointer jniEnv, Pointer clazz, @CentryPoint.IsolateThreadContext long isolatedId, EmployeeTierEnum var1){\r\n    //logic which returns value based on enum\r\n    }\r\n\r\nI&#39;m calling this as a native method from another java class as follows-\r\n\r\n    fetchFromEnum(isolate, EmployeeTierEnum.PRESIDENT);\r\n\r\nHere is my enum&#39;s definition\r\n\r\n    @Cenum\r\n    @CContext(value=Can&#39;t tell what goes here)\r\n    public enum EmployeeTierEnum{\r\n    PRESIDENT, SECRETARY, JANITOR;\r\n    \r\n    @CEnumLookup\r\n    public static native EmployeeTierEnum getJavaEnum(int cEnumVal /* not sure this will be simply an int or requires some special annoation or C datatype*/);\r\n    }\r\n\r\n\r\nI&#39;m aware I can&#39;t use a plain old Java enum directly in my case and I need to use some annotations to make it work. What I can&#39;t figure out is what values should I provide for **CContext** and what the correct data type for the singular paramter in the **@CEnumLookup** annotated method should be. I would love a simple example which demonstrates how these enums could work, thanks.\r\n\r\n","title":"How to pass an enum as a parameter to a Graal VM Entrypoint method?","body":"<p>I have a <strong>@CEntryPoint</strong> annotated method that I'm converting to a shared library and using it as a native method from a different Java application.</p>\n<p>This annotated  method returns a value based on the enum that is provided to it as a parameter.</p>\n<pre><code>@CEntryPoint(name=&quot;Java_package1_Mainclass_main&quot;)\npublic static long fetchFromEnum(Pointer jniEnv, Pointer clazz, @CentryPoint.IsolateThreadContext long isolatedId, EmployeeTierEnum var1){\n//logic which returns value based on enum\n}\n</code></pre>\n<p>I'm calling this as a native method from another java class as follows-</p>\n<pre><code>fetchFromEnum(isolate, EmployeeTierEnum.PRESIDENT);\n</code></pre>\n<p>Here is my enum's definition</p>\n<pre><code>@Cenum\n@CContext(value=Can't tell what goes here)\npublic enum EmployeeTierEnum{\nPRESIDENT, SECRETARY, JANITOR;\n\n@CEnumLookup\npublic static native EmployeeTierEnum getJavaEnum(int cEnumVal /* not sure this will be simply an int or requires some special annoation or C datatype*/);\n}\n</code></pre>\n<p>I'm aware I can't use a plain old Java enum directly in my case and I need to use some annotations to make it work. What I can't figure out is what values should I provide for <strong>CContext</strong> and what the correct data type for the singular paramter in the <strong>@CEnumLookup</strong> annotated method should be. I would love a simple example which demonstrates how these enums could work, thanks.</p>\n"},{"tags":["java","azure","rest","azure-active-directory"],"comments":[{"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"score":0,"creation_date":1689837644,"post_id":76667794,"comment_id":135270539,"body_markdown":"Please provide detailed information on your requirement and what you have tried along with the code snippets.","body":"Please provide detailed information on your requirement and what you have tried along with the code snippets."}],"owner":{"account_id":14894373,"reputation":11,"user_id":10755168,"display_name":"Raja K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1689852220,"answer_count":0,"score":1,"last_activity_date":1689144415,"creation_date":1689144415,"question_id":76667794,"body_markdown":"com.auth0.jwt.exceptions.SignatureVerificationException: The Token&#39;s Signature resulted invalid when verified using the Algorithm: SHA256withRSA\r\n\tat com.auth0.jwt.algorithms.RSAAlgorithm.verify(RSAAlgorithm.java:46)\r\n\tat com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:386)\r\n\tat com.example.demo.controller.service.TokenService.Validate(TokenService.java:102)\r\n\tat com.example.demo.controller.UserController.validation(UserController.java:31)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\npostUserTokenResponse false\r\n\r\n-----Repeated closed -----\r\ncom.auth0.jwt.exceptions.SignatureVerificationException: The Token&#39;s Signature resulted invalid when verified using the Algorithm: SHA256withRSA\r\n\tat com.auth0.jwt.algorithms.RSAAlgorithm.verify(RSAAlgorithm.java:46)\r\n\tat com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:386)\r\n\tat com.example.demo.controller.service.TokenService.Validate(TokenService.java:102)\r\n\tat com.example.demo.controller.UserController.validation(UserController.java:31)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)","title":"Regarding Azure AD token verification using REST API Java","body":"<p>com.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: SHA256withRSA\nat com.auth0.jwt.algorithms.RSAAlgorithm.verify(RSAAlgorithm.java:46)\nat com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:386)\nat com.example.demo.controller.service.TokenService.Validate(TokenService.java:102)\nat com.example.demo.controller.UserController.validation(UserController.java:31)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\nat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\nat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.base/java.lang.Thread.run(Thread.java:833)\npostUserTokenResponse false</p>\n<p>-----Repeated closed -----\ncom.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: SHA256withRSA\nat com.auth0.jwt.algorithms.RSAAlgorithm.verify(RSAAlgorithm.java:46)\nat com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:386)\nat com.example.demo.controller.service.TokenService.Validate(TokenService.java:102)\nat com.example.demo.controller.UserController.validation(UserController.java:31)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\nat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)</p>\n"},{"tags":["java","optimization","heap-memory","java-threads","visualvm"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1480018552,"post_id":40793580,"comment_id":68810095,"body_markdown":"You are correct. They are spawned as a result of using this tool.","body":"You are correct. They are spawned as a result of using this tool."},{"owner":{"account_id":5228861,"reputation":843,"user_id":4179961,"accept_rate":59,"display_name":"Jake"},"score":0,"creation_date":1480019200,"post_id":40793580,"comment_id":68810288,"body_markdown":"great, thanks. Correct and stupid. I would mark this as an answer if I could.","body":"great, thanks. Correct and stupid. I would mark this as an answer if I could."}],"answers":[{"tags":[],"owner":{"account_id":6915000,"reputation":76,"user_id":5309627,"display_name":"NetL"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1480018574,"creation_date":1480018122,"answer_id":40793881,"question_id":40793580,"body_markdown":"RMI is a Java API, which allows you to divide the implementation of parts of the same application on multiple computers.\r\nDo you use java.rmi library in your project?","title":"what is RMI TCP connection in Visual VM","body":"<p>RMI is a Java API, which allows you to divide the implementation of parts of the same application on multiple computers.\nDo you use java.rmi library in your project?</p>\n"},{"tags":[],"owner":{"account_id":4294949,"reputation":2245,"user_id":3510260,"display_name":"Gregor Koukkoullis"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1501089280,"creation_date":1501089280,"answer_id":45333483,"question_id":40793580,"body_markdown":"The threads are used to feed a remote JMX client (in your case Java VisualVM) with data from your JVM.\r\n\r\nOnce you disconnect the threads should not allocate so much data anymore.\r\n\r\nTo verify this you can go to the Threads tab and look at the thread dump of a RMI TCP Connection thread. You should see that the RMI operations trigger JMX beans.","title":"what is RMI TCP connection in Visual VM","body":"<p>The threads are used to feed a remote JMX client (in your case Java VisualVM) with data from your JVM.</p>\n\n<p>Once you disconnect the threads should not allocate so much data anymore.</p>\n\n<p>To verify this you can go to the Threads tab and look at the thread dump of a RMI TCP Connection thread. You should see that the RMI operations trigger JMX beans.</p>\n"},{"tags":[],"owner":{"account_id":27714767,"reputation":29,"user_id":21156730,"display_name":"Velmurugan K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685090278,"creation_date":1685090278,"answer_id":76339089,"question_id":40793580,"body_markdown":"  The RMI TCP Connection handles the serialization and deserialization of objects, method invocation requests, and responses between the client and server. It provides a transparent and remote method invocation mechanism, allowing Java objects to be accessed and manipulated remotely.\r\n\r\n  It is responsible for establishing and managing the network connection, sending requests from the client to the server, and receiving and processing the responses from the server.\r\n","title":"what is RMI TCP connection in Visual VM","body":"<p>The RMI TCP Connection handles the serialization and deserialization of objects, method invocation requests, and responses between the client and server. It provides a transparent and remote method invocation mechanism, allowing Java objects to be accessed and manipulated remotely.</p>\n<p>It is responsible for establishing and managing the network connection, sending requests from the client to the server, and receiving and processing the responses from the server.</p>\n"}],"owner":{"account_id":5228861,"reputation":843,"user_id":4179961,"accept_rate":59,"display_name":"Jake"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24591,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":45333483,"answer_count":3,"score":27,"last_activity_date":1689144335,"creation_date":1480016504,"question_id":40793580,"body_markdown":"I&#39;m making a desktop application in java and am doing some memory optimisations. That made me come across two threads running in the JVM, both named:\r\n\r\nRMI TCP connection\r\n\r\nAnd they&#39;re both contributing to heap growth quite considerably (at my perspective)\r\n\r\nNow I don&#39;t know much, but TCP sounds to me like it&#39;s some internet thing. From what I&#39;ve managed to find on google, it has something to do with serialization/deserialization over the internet. \r\n\r\nBut my application doesn&#39;t need the internet, so I would like to know two things:\r\n\r\n1. what are they and what are they doing in my JVM?\r\n2. Can I get rid of them somehow?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CVVT7.png\r\n\r\nMy tool has been &quot;Java visualVM&quot;. A though has crossed my mind that the two threads are spawned as a result of using this tool, in which case I&#39;ll feel a bit stupid.","title":"what is RMI TCP connection in Visual VM","body":"<p>I'm making a desktop application in java and am doing some memory optimisations. That made me come across two threads running in the JVM, both named:</p>\n\n<p>RMI TCP connection</p>\n\n<p>And they're both contributing to heap growth quite considerably (at my perspective)</p>\n\n<p>Now I don't know much, but TCP sounds to me like it's some internet thing. From what I've managed to find on google, it has something to do with serialization/deserialization over the internet. </p>\n\n<p>But my application doesn't need the internet, so I would like to know two things:</p>\n\n<ol>\n<li>what are they and what are they doing in my JVM?</li>\n<li>Can I get rid of them somehow?</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/CVVT7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CVVT7.png\" alt=\"enter image description here\"></a></p>\n\n<p>My tool has been \"Java visualVM\". A though has crossed my mind that the two threads are spawned as a result of using this tool, in which case I'll feel a bit stupid.</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1689075219,"post_id":76661524,"comment_id":135158826,"body_markdown":"Write an `equals` method for the class. But keep in mind that you might still run into the same issue with infinite recursion there.","body":"Write an <code>equals</code> method for the class. But keep in mind that you might still run into the same issue with infinite recursion there."},{"owner":{"account_id":28718247,"reputation":58,"user_id":21992446,"display_name":"User"},"score":0,"creation_date":1689075370,"post_id":76661524,"comment_id":135158865,"body_markdown":"@JoachimSauer Thank you but I think I need another solution. As you mentioned that I might have the same issue","body":"@JoachimSauer Thank you but I think I need another solution. As you mentioned that I might have the same issue"},{"owner":{"account_id":17348847,"reputation":79,"user_id":12567771,"display_name":"Shekhar"},"score":0,"creation_date":1689075965,"post_id":76661524,"comment_id":135158989,"body_markdown":"As @JoachimSauer You have to write equals method and write it in a way to avoid recursion, manually get the value of all the fields and compare them. Thats the easiest way.","body":"As @JoachimSauer You have to write equals method and write it in a way to avoid recursion, manually get the value of all the fields and compare them. Thats the easiest way."}],"answers":[{"tags":[],"owner":{"account_id":12953224,"reputation":523,"user_id":9364868,"display_name":"Kedar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689075228,"creation_date":1689075228,"answer_id":76661557,"question_id":76661524,"body_markdown":"Override equals method and use `assertEquals:` You can override the equals method in your objects to compare the relevant fields for equality. Then you can use `assertEquals` to compare the entire objects. \r\n\r\nFor example:\r\n\r\n```\r\n@Override\r\npublic boolean equals(Object obj) {\r\n    if (this == obj) {\r\n        return true;\r\n    }\r\n    if (obj == null || getClass() != obj.getClass()) {\r\n        return false;\r\n    }\r\n    ObjectA other = (ObjectA) obj;\r\n    return Objects.equals(field1, other.field1) &amp;&amp;\r\n           Objects.equals(field2, other.field2) &amp;&amp;\r\n           // Repeat for other fields\r\n}\r\n\r\n// In your test\r\nassertEquals(objectA, objectB);\r\n```","title":"How to test two different objects have same values","body":"<p>Override equals method and use <code>assertEquals:</code> You can override the equals method in your objects to compare the relevant fields for equality. Then you can use <code>assertEquals</code> to compare the entire objects.</p>\n<p>For example:</p>\n<pre><code>@Override\npublic boolean equals(Object obj) {\n    if (this == obj) {\n        return true;\n    }\n    if (obj == null || getClass() != obj.getClass()) {\n        return false;\n    }\n    ObjectA other = (ObjectA) obj;\n    return Objects.equals(field1, other.field1) &amp;&amp;\n           Objects.equals(field2, other.field2) &amp;&amp;\n           // Repeat for other fields\n}\n\n// In your test\nassertEquals(objectA, objectB);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689076872,"creation_date":1689076872,"answer_id":76661760,"question_id":76661524,"body_markdown":"You can use `equal(Object object)` and `hashCode()` for this:\r\n\r\n```JAVA\r\n @Override\r\n    public int hashCode() {\r\n        int hash = 0;\r\n        hash += (fieldName != null ? fieldName.hashCode() : 0);\r\n        return hash;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object object) {\r\n        if (!(object instanceof ClassName)) {\r\n            return false;\r\n        }\r\n        ClassName other = (ClassName) object;\r\n        if ((this.fieldName == null &amp;&amp; other.fieldName != null) || (this.fieldName != null &amp;&amp; !this.fieldName.equals(other.fieldName))) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n   \r\n```\r\n\r\nhashCode() is a native method and returns the integer hash code value of the object.\r\n\r\nThe implementation of `hashCode()` can be done using the field you desire to use.\r\nTwo or more objects are the same if their hashCodes match, meaning the same int value should be obtained in order to tell that the objects are same.\r\n\r\n","title":"How to test two different objects have same values","body":"<p>You can use <code>equal(Object object)</code> and <code>hashCode()</code> for this:</p>\n<pre><code> @Override\n    public int hashCode() {\n        int hash = 0;\n        hash += (fieldName != null ? fieldName.hashCode() : 0);\n        return hash;\n    }\n\n    @Override\n    public boolean equals(Object object) {\n        if (!(object instanceof ClassName)) {\n            return false;\n        }\n        ClassName other = (ClassName) object;\n        if ((this.fieldName == null &amp;&amp; other.fieldName != null) || (this.fieldName != null &amp;&amp; !this.fieldName.equals(other.fieldName))) {\n            return false;\n        }\n        return true;\n    }\n   \n</code></pre>\n<p>hashCode() is a native method and returns the integer hash code value of the object.</p>\n<p>The implementation of <code>hashCode()</code> can be done using the field you desire to use.\nTwo or more objects are the same if their hashCodes match, meaning the same int value should be obtained in order to tell that the objects are same.</p>\n"},{"tags":[],"owner":{"account_id":28969902,"reputation":61,"user_id":22190461,"display_name":"Guillem Chesa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689077112,"creation_date":1689077112,"answer_id":76661795,"question_id":76661524,"body_markdown":"I think [Kedar Thakkar](https://stackoverflow.com/a/76661557/22190461)&#39;s answer should work and it&#39;s how it should be done, but if you&#39;re still getting an infinite recursion problem, then you can just check each field you want to compare separately. You can write a method that takes both objects and returns if their values are equal, for example:\r\n\r\n```\r\npublic boolean compareFields(Object objectA, Object objectB) {\r\n\r\n  if (objectA == objectB) return true;\r\n\r\n  if (objectA == null &amp;&amp; objectB == null) return true; // depends, do you want two null objects to be treated as equal? If not, use || instead and delete the following line\r\n\r\n  if (objectA == null ^ objectB == null) return false;\r\n\r\n  return objectA.field1.equals(objectB.field1) &amp;&amp;\r\n         objectA.field2.equals(objectB.field2) &amp;&amp;\r\n         objectA.field3 == objectB.field3 &amp;&amp; // in case it&#39;s a primitive type\r\n         // and so on\r\n}\r\n```\r\n\r\nObviously you should change the class type you introduce in the method&#39;s parameters from `Object` to the specific classes you want to compare.\r\n\r\nThen you can just assert the result of this method:\r\n\r\n```\r\nassertTrue(compareFields(objectA, objectB));\r\n```","title":"How to test two different objects have same values","body":"<p>I think <a href=\"https://stackoverflow.com/a/76661557/22190461\">Kedar Thakkar</a>'s answer should work and it's how it should be done, but if you're still getting an infinite recursion problem, then you can just check each field you want to compare separately. You can write a method that takes both objects and returns if their values are equal, for example:</p>\n<pre><code>public boolean compareFields(Object objectA, Object objectB) {\n\n  if (objectA == objectB) return true;\n\n  if (objectA == null &amp;&amp; objectB == null) return true; // depends, do you want two null objects to be treated as equal? If not, use || instead and delete the following line\n\n  if (objectA == null ^ objectB == null) return false;\n\n  return objectA.field1.equals(objectB.field1) &amp;&amp;\n         objectA.field2.equals(objectB.field2) &amp;&amp;\n         objectA.field3 == objectB.field3 &amp;&amp; // in case it's a primitive type\n         // and so on\n}\n</code></pre>\n<p>Obviously you should change the class type you introduce in the method's parameters from <code>Object</code> to the specific classes you want to compare.</p>\n<p>Then you can just assert the result of this method:</p>\n<pre><code>assertTrue(compareFields(objectA, objectB));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689112417,"creation_date":1689112417,"answer_id":76666011,"question_id":76661524,"body_markdown":"You need to write a non recursive `equals` method.\r\n\r\nLet&#39;s say you classes look like:\r\n```\r\nclass A {\r\n    String name;\r\n    B b;\r\n}\r\n\r\nclass B {\r\n    String name;\r\n    A a;\r\n}\r\n```\r\nFor brevity I&#39;m using just fields -- you should write these with private fields and getters.\r\n\r\nThen `equals/hashcode` looks like:\r\n```\r\nclass A {\r\n  ...\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        B b = (B) o;\r\n        return Objects.equals(name, b.name) &amp;&amp; Objects.equals(a.name, b.a.name);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(name, a.name);\r\n    }\r\n}\r\n```\r\nRemoving the recursion. `B` needs the same treatment.\r\n\r\nOf course having this relationship means that if you add or remove a field from `B` you need to change `A`&#39;s `equals/hashcode` implementations.\r\n\r\nIf you know (because of the way you construct your A and B instances) the `x.equals(y)` implies `x == y` for all instances of `A` and `B` then you can simplify your implementations by using reference equality.\r\n","title":"How to test two different objects have same values","body":"<p>You need to write a non recursive <code>equals</code> method.</p>\n<p>Let's say you classes look like:</p>\n<pre><code>class A {\n    String name;\n    B b;\n}\n\nclass B {\n    String name;\n    A a;\n}\n</code></pre>\n<p>For brevity I'm using just fields -- you should write these with private fields and getters.</p>\n<p>Then <code>equals/hashcode</code> looks like:</p>\n<pre><code>class A {\n  ...\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        B b = (B) o;\n        return Objects.equals(name, b.name) &amp;&amp; Objects.equals(a.name, b.a.name);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(name, a.name);\n    }\n}\n</code></pre>\n<p>Removing the recursion. <code>B</code> needs the same treatment.</p>\n<p>Of course having this relationship means that if you add or remove a field from <code>B</code> you need to change <code>A</code>'s <code>equals/hashcode</code> implementations.</p>\n<p>If you know (because of the way you construct your A and B instances) the <code>x.equals(y)</code> implies <code>x == y</code> for all instances of <code>A</code> and <code>B</code> then you can simplify your implementations by using reference equality.</p>\n"},{"tags":[],"owner":{"account_id":28718247,"reputation":58,"user_id":21992446,"display_name":"User"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689144105,"creation_date":1689144105,"answer_id":76667756,"question_id":76661524,"body_markdown":"First of all, thanks all of you guys. I have too many objects and attributes. Therefore, your suggestions require a lot of changes on the source code. I didn&#39;t want to make that while I am just testing my services. I found similar problem in [here](https://groups.google.com/g/project-lombok/c/Xr13lPinsvg). I fixed the problem with `@ToString.Exclude` annotation.","title":"How to test two different objects have same values","body":"<p>First of all, thanks all of you guys. I have too many objects and attributes. Therefore, your suggestions require a lot of changes on the source code. I didn't want to make that while I am just testing my services. I found similar problem in <a href=\"https://groups.google.com/g/project-lombok/c/Xr13lPinsvg\" rel=\"nofollow noreferrer\">here</a>. I fixed the problem with <code>@ToString.Exclude</code> annotation.</p>\n"}],"owner":{"account_id":28718247,"reputation":58,"user_id":21992446,"display_name":"User"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76667756,"answer_count":5,"score":0,"last_activity_date":1689144105,"creation_date":1689075038,"question_id":76661524,"body_markdown":"I am writing test for my code with Mockito and JUnit. Everything was so good so far but know I am having `StackOverFlow` error. I think, I am getting that error because my objects are nested. For example A object has relation with B object and B object also has relation with A object.\r\n\r\nI am testing if my objects have same values like this\r\n```java\r\nassertEquals(objectA.toString(), objectB.toString());\r\n```\r\n\r\nI want to delete `@ToString` annotation from my both object to handle `StackOverFlow` error but I do not know how to test two different objects are equal or no. I saw some topics in here and they are telling use `assertThat` but I do not have that too.\r\n\r\nhow can I test that the values of two different objects are the same? Also, if you have any other solution, I would like to hear.","title":"How to test two different objects have same values","body":"<p>I am writing test for my code with Mockito and JUnit. Everything was so good so far but know I am having <code>StackOverFlow</code> error. I think, I am getting that error because my objects are nested. For example A object has relation with B object and B object also has relation with A object.</p>\n<p>I am testing if my objects have same values like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertEquals(objectA.toString(), objectB.toString());\n</code></pre>\n<p>I want to delete <code>@ToString</code> annotation from my both object to handle <code>StackOverFlow</code> error but I do not know how to test two different objects are equal or no. I saw some topics in here and they are telling use <code>assertThat</code> but I do not have that too.</p>\n<p>how can I test that the values of two different objects are the same? Also, if you have any other solution, I would like to hear.</p>\n"},{"tags":["java","sql","jdbc","oracle12c","ojdbc"],"comments":[{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1429051777,"post_id":29638552,"comment_id":47419503,"body_markdown":"Do you get the same exception even when you provide the user name and password for the connection?","body":"Do you get the same exception even when you provide the user name and password for the connection?"},{"owner":{"account_id":5950886,"reputation":637,"user_id":4678883,"accept_rate":100,"display_name":"corporateWhore"},"score":0,"creation_date":1429052214,"post_id":29638552,"comment_id":47419628,"body_markdown":"Yes, same error.  Does it NEED the username and password?  I&#39;ve read several conflicting","body":"Yes, same error.  Does it NEED the username and password?  I&#39;ve read several conflicting"},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1429052534,"post_id":29638552,"comment_id":47419720,"body_markdown":"To successfully connect ,yes. After rethinking, I guess the exception would have a different wording. Have you checked the host, port and SID? Which connect URL are you using for OCI?","body":"To successfully connect ,yes. After rethinking, I guess the exception would have a different wording. Have you checked the host, port and SID? Which connect URL are you using for OCI?"},{"owner":{"account_id":5950886,"reputation":637,"user_id":4678883,"accept_rate":100,"display_name":"corporateWhore"},"score":0,"creation_date":1429052676,"post_id":29638552,"comment_id":47419767,"body_markdown":"The OCI uses a TNS, no other info needed.  I&#39;ll try again with the un/pw and report back.","body":"The OCI uses a TNS, no other info needed.  I&#39;ll try again with the un/pw and report back."},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1429053102,"post_id":29638552,"comment_id":47419908,"body_markdown":"Have you compared the host, port and SID with the values from the TNS name?","body":"Have you compared the host, port and SID with the values from the TNS name?"},{"owner":{"account_id":5950886,"reputation":637,"user_id":4678883,"accept_rate":100,"display_name":"corporateWhore"},"score":0,"creation_date":1429053716,"post_id":29638552,"comment_id":47420056,"body_markdown":"I have:    PDBORCL =\n  (DESCRIPTION =\n    (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1522))\n    (CONNECT_DATA =\n      (SERVER = DEDICATED)\n      (SERVICE_NAME = pdborcl.global.ds.XXXXXXXXX.com)","body":"I have:    PDBORCL =   (DESCRIPTION =     (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1522))     (CONNECT_DATA =       (SERVER = DEDICATED)       (SERVICE_NAME = pdborcl.global.ds.XXXXXXXXX.com)"},{"owner":{"account_id":5950886,"reputation":637,"user_id":4678883,"accept_rate":100,"display_name":"corporateWhore"},"score":0,"creation_date":1429053830,"post_id":29638552,"comment_id":47420095,"body_markdown":"I&#39;ve tried using the SERVICE_NAME instead of orcl.  No luck","body":"I&#39;ve tried using the SERVICE_NAME instead of orcl.  No luck"}],"answers":[{"tags":[],"owner":{"account_id":5950886,"reputation":637,"user_id":4678883,"accept_rate":100,"display_name":"corporateWhore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429065368,"creation_date":1429055789,"answer_id":29639367,"question_id":29638552,"body_markdown":"I&#39;m able to connect to my container DB (containing my tables, packages, etc.) using the username/password.\r\n\r\nReturns:\r\n\r\n    JDBC driver version is 12.1.0.2.0\r\n\r\nStill can&#39;t connect to the tutorial &quot;HR&quot; PDB that comes with the oracle 12c install and which the JDBC tutorial uses.\r\n\r\nEdit:\r\n\r\nGot it to work using the following:\r\n\r\n    import java.sql.*;\r\n    import oracle.jdbc.*;\r\n    import oracle.jdbc.pool.OracleDataSource;\r\n    class JDBCVersion\r\n    {\r\n    public static void main (String args[]) throws SQLException\r\n    {\t\t\r\n    \t\tOracleDataSource ods = new OracleDataSource();\r\n    \t\tods.setURL(&quot;jdbc:oracle:thin:@//localhost:1522/pdborcl.global.XXXXXXXX.com&quot;);\r\n    \t\tods.setUser(&quot;hr&quot;);\r\n    \t\tods.setPassword(&quot;hr&quot;);\r\n    \t\tConnection conn = ods.getConnection();\r\n    \t\t// Create Oracle DatabaseMetaData object\r\n    \t\tDatabaseMetaData meta = conn.getMetaData();\r\n    \t\t// gets driver info:\r\n    \t\tSystem.out.println(&quot;JDBC driver version is &quot; + meta.getDriverVersion());\r\n    }\r\n    }\r\n\r\nStill don&#39;t understand why I need the full global name instead of the instance name.","title":"Oracle 12c database connection using thin driver throws IO error","body":"<p>I'm able to connect to my container DB (containing my tables, packages, etc.) using the username/password.</p>\n\n<p>Returns:</p>\n\n<pre><code>JDBC driver version is 12.1.0.2.0\n</code></pre>\n\n<p>Still can't connect to the tutorial \"HR\" PDB that comes with the oracle 12c install and which the JDBC tutorial uses.</p>\n\n<p>Edit:</p>\n\n<p>Got it to work using the following:</p>\n\n<pre><code>import java.sql.*;\nimport oracle.jdbc.*;\nimport oracle.jdbc.pool.OracleDataSource;\nclass JDBCVersion\n{\npublic static void main (String args[]) throws SQLException\n{       \n        OracleDataSource ods = new OracleDataSource();\n        ods.setURL(\"jdbc:oracle:thin:@//localhost:1522/pdborcl.global.XXXXXXXX.com\");\n        ods.setUser(\"hr\");\n        ods.setPassword(\"hr\");\n        Connection conn = ods.getConnection();\n        // Create Oracle DatabaseMetaData object\n        DatabaseMetaData meta = conn.getMetaData();\n        // gets driver info:\n        System.out.println(\"JDBC driver version is \" + meta.getDriverVersion());\n}\n}\n</code></pre>\n\n<p>Still don't understand why I need the full global name instead of the instance name.</p>\n"},{"tags":[],"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1429080935,"creation_date":1429079972,"answer_id":29643222,"question_id":29638552,"body_markdown":"Maybe following comments could explain why you need the sevice name instead of the SID in the URL.\r\n\r\n- the [Oracle JDBC FAQ](http://www.oracle.com/technetwork/database/enterprise-edition/jdbc-faq-090281.html#05_10) mention that `SIDs will be cease to be supported in one of the next few releases of the database`\r\n\r\n- the [Oracle JDBC devolopers guide](https://docs.oracle.com/database/121/JJDBC/appcontnew.htm#JJDBC29059) mention `Always connect to a service. Never use instance_name or SID because these do not direct to known good instances and SID is deprecated`\r\n\r\n- the [Oracle 2 day + Java developer tutorial](https://docs.oracle.com/database/121/TDPJD/getconn.htm#TDPJD138) mention the syntax `jdbc:oracle:driver_type:[username/password]@//host_name:port_number:SID` which seems to be a mixture of SID and service name URL (following the other documents and your working example)\r\n\r\n- in contrast the javadoc for [OracleDriver](https://docs.oracle.com/database/121/JAJDB/oracle/jdbc/OracleDriver.html) mention only the SID syntax\r\n\r\n- the [Oracle FAQ wiki](http://www.orafaq.com/wiki/JDBC#Thin_driver) mention both syntax\r\n\r\n.\r\n\r\n    jdbc:oracle:thin:[USER/PASSWORD]@[HOST][:PORT]:SID\r\n    jdbc:oracle:thin:[USER/PASSWORD]@//[HOST][:PORT]/SERVICE\r\n","title":"Oracle 12c database connection using thin driver throws IO error","body":"<p>Maybe following comments could explain why you need the sevice name instead of the SID in the URL.</p>\n\n<ul>\n<li><p>the <a href=\"http://www.oracle.com/technetwork/database/enterprise-edition/jdbc-faq-090281.html#05_10\" rel=\"nofollow\">Oracle JDBC FAQ</a> mention that <code>SIDs will be cease to be supported in one of the next few releases of the database</code></p></li>\n<li><p>the <a href=\"https://docs.oracle.com/database/121/JJDBC/appcontnew.htm#JJDBC29059\" rel=\"nofollow\">Oracle JDBC devolopers guide</a> mention <code>Always connect to a service. Never use instance_name or SID because these do not direct to known good instances and SID is deprecated</code></p></li>\n<li><p>the <a href=\"https://docs.oracle.com/database/121/TDPJD/getconn.htm#TDPJD138\" rel=\"nofollow\">Oracle 2 day + Java developer tutorial</a> mention the syntax <code>jdbc:oracle:driver_type:[username/password]@//host_name:port_number:SID</code> which seems to be a mixture of SID and service name URL (following the other documents and your working example)</p></li>\n<li><p>in contrast the javadoc for <a href=\"https://docs.oracle.com/database/121/JAJDB/oracle/jdbc/OracleDriver.html\" rel=\"nofollow\">OracleDriver</a> mention only the SID syntax</p></li>\n<li><p>the <a href=\"http://www.orafaq.com/wiki/JDBC#Thin_driver\" rel=\"nofollow\">Oracle FAQ wiki</a> mention both syntax</p></li>\n</ul>\n\n<p>.</p>\n\n<pre><code>jdbc:oracle:thin:[USER/PASSWORD]@[HOST][:PORT]:SID\njdbc:oracle:thin:[USER/PASSWORD]@//[HOST][:PORT]/SERVICE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5854892,"reputation":3571,"user_id":4612499,"display_name":"Jean de Lavarene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429640764,"creation_date":1429640764,"answer_id":29780258,"question_id":29638552,"body_markdown":"When connecting to a PDB you should always use the PDB&#39;s service name in the connection string. It looks like your PDB&#39;s service is &quot;pdborcl.global.XXXXXXXX.com&quot; so that&#39;s what you need to use to connect the PDB directly.\r\n\r\nPersonally I find it easier to use the long URL format:\r\n\r\n&quot;jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=localhost)(PORT=1522))(CONNECT_DATA=(SERVICE_NAME=pdborcl.global.XXXXXXXX.com)))&quot;\r\n\r\nIt makes it obvious that you&#39;re using a Service name instead of an SID.\r\n\r\nThe beauty of it is that you can also easily test your connection string with sqlplus:\r\n\r\nsqlplus &quot;hr/hr@(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=localhost)(PORT=1522))(CONNECT_DATA=(SERVICE_NAME=pdborcl.global.XXXXXXXX.com)))&quot;\r\n\r\nIf sqlplus works there is not reason why the JDBC Thin driver wouldn&#39;t.\r\n\r\nFinally you can also connect the root database using a privilege user and then execute &quot;ALTER SESSION SET CONTAINER=pdb&quot; to switch to the PDB. Should you decide to do so you would have to modify your connection string to connect to the root container first. It should have its own service name.","title":"Oracle 12c database connection using thin driver throws IO error","body":"<p>When connecting to a PDB you should always use the PDB's service name in the connection string. It looks like your PDB's service is \"pdborcl.global.XXXXXXXX.com\" so that's what you need to use to connect the PDB directly.</p>\n\n<p>Personally I find it easier to use the long URL format:</p>\n\n<p>\"jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=localhost)(PORT=1522))(CONNECT_DATA=(SERVICE_NAME=pdborcl.global.XXXXXXXX.com)))\"</p>\n\n<p>It makes it obvious that you're using a Service name instead of an SID.</p>\n\n<p>The beauty of it is that you can also easily test your connection string with sqlplus:</p>\n\n<p>sqlplus \"hr/hr@(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=localhost)(PORT=1522))(CONNECT_DATA=(SERVICE_NAME=pdborcl.global.XXXXXXXX.com)))\"</p>\n\n<p>If sqlplus works there is not reason why the JDBC Thin driver wouldn't.</p>\n\n<p>Finally you can also connect the root database using a privilege user and then execute \"ALTER SESSION SET CONTAINER=pdb\" to switch to the PDB. Should you decide to do so you would have to modify your connection string to connect to the root container first. It should have its own service name.</p>\n"},{"tags":[],"owner":{"account_id":14984953,"reputation":19,"user_id":10817791,"display_name":"sayedali musavi Khoeini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689144003,"creation_date":1689144003,"answer_id":76667745,"question_id":29638552,"body_markdown":"Ensure the password, username, and URL are correct. They might be the root of the problem.","title":"Oracle 12c database connection using thin driver throws IO error","body":"<p>Ensure the password, username, and URL are correct. They might be the root of the problem.</p>\n"}],"owner":{"account_id":5950886,"reputation":637,"user_id":4678883,"accept_rate":100,"display_name":"corporateWhore"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19859,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":29643222,"answer_count":4,"score":3,"last_activity_date":1689144003,"creation_date":1429050921,"question_id":29638552,"body_markdown":"I&#39;m following the JDBC Developer&#39;s Guide and trying to test the JDBC thin driver connection using a short java program.\r\n\r\n    import java.sql.*;\r\n    import oracle.jdbc.*;\r\n    import oracle.jdbc.pool.OracleDataSource;\r\n    class JDBCVersion\r\n    {\r\n    public static void main (String args[]) throws SQLException\r\n    {\r\n    \t\tOracleDataSource ods = new OracleDataSource();\r\n    \t\tods.setURL(&quot;jdbc:oracle:thin:hr/hr@localhost:1522:orcl&quot;);\r\n    \t\tConnection conn = ods.getConnection();\r\n    \t\t// Create Oracle DatabaseMetaData object\r\n    \t\tDatabaseMetaData meta = conn.getMetaData();\r\n    \t\t// gets driver info:\r\n    \t\tSystem.out.println(&quot;JDBC driver version is &quot; + meta.getDriverVersion());\r\n    }\r\n    } //&lt;host&gt;:&lt;port&gt;:&lt;service&gt;\r\n\r\nI&#39;ve tried every possible `&lt;host&gt;:&lt;port&gt;:&lt;service&gt;` combination but still get a `java.sql.SQLRecoverableException: IO Error: The Network Adapter could not establish the connection`\r\n\r\nI&#39;ve successfully tested the OCI driver using another program included in the tutorial....but can&#39;t get this one to work.  My application will be using the thin driver to connect to the database so my frustration level is....climbing.\r\n\r\nAny help is appreciated.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/lSeNZ.png","title":"Oracle 12c database connection using thin driver throws IO error","body":"<p>I'm following the JDBC Developer's Guide and trying to test the JDBC thin driver connection using a short java program.</p>\n\n<pre><code>import java.sql.*;\nimport oracle.jdbc.*;\nimport oracle.jdbc.pool.OracleDataSource;\nclass JDBCVersion\n{\npublic static void main (String args[]) throws SQLException\n{\n        OracleDataSource ods = new OracleDataSource();\n        ods.setURL(\"jdbc:oracle:thin:hr/hr@localhost:1522:orcl\");\n        Connection conn = ods.getConnection();\n        // Create Oracle DatabaseMetaData object\n        DatabaseMetaData meta = conn.getMetaData();\n        // gets driver info:\n        System.out.println(\"JDBC driver version is \" + meta.getDriverVersion());\n}\n} //&lt;host&gt;:&lt;port&gt;:&lt;service&gt;\n</code></pre>\n\n<p>I've tried every possible <code>&lt;host&gt;:&lt;port&gt;:&lt;service&gt;</code> combination but still get a <code>java.sql.SQLRecoverableException: IO Error: The Network Adapter could not establish the connection</code></p>\n\n<p>I've successfully tested the OCI driver using another program included in the tutorial....but can't get this one to work.  My application will be using the thin driver to connect to the database so my frustration level is....climbing.</p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["java","azure-redis-cache","spring-reactive"],"comments":[{"owner":{"account_id":18904531,"reputation":6115,"user_id":13791953,"display_name":"krishg"},"score":0,"creation_date":1598346404,"post_id":63572259,"comment_id":112421712,"body_markdown":"Can you tell more about the configuration code you have written? Also, see if this helps \n https://stackoverflow.com/questions/60872465/unable-to-connect-to-redis-nested-exception-is-io-lettuce-core-redisconnectione","body":"Can you tell more about the configuration code you have written? Also, see if this helps   <a href=\"https://stackoverflow.com/questions/60872465/unable-to-connect-to-redis-nested-exception-is-io-lettuce-core-redisconnectione\" title=\"unable to connect to redis nested exception is io lettuce core redisconnectione\">stackoverflow.com/questions/60872465/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":12450668,"reputation":41,"user_id":9065424,"display_name":"Mark Wu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608085672,"creation_date":1608085672,"answer_id":65316452,"question_id":63572259,"body_markdown":"I have encountered the same problem when enabling password authentication in AWS ElastiCache because of not using SSL for the Redis client.\r\n\r\nBellow RedisConfig.java uses SSL to connect and my error disappeared. I am using Spring Reactive by the way.\r\n\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;spring.redis&quot;)\r\n    @Setter\r\n    public class RedisConfig {\r\n    \r\n        private String host;\r\n        private String password;\r\n    \r\n        @Bean\r\n        @Primary\r\n        public ReactiveRedisConnectionFactory reactiveRedisConnectionFactory(RedisConfiguration defaultRedisConfig) {\r\n            LettuceClientConfiguration clientConfig = LettuceClientConfiguration.builder()\r\n                    .useSsl().and()\r\n                    .commandTimeout(Duration.ofMillis(60000)).build();\r\n            return new LettuceConnectionFactory(defaultRedisConfig, clientConfig);\r\n        }\r\n    \r\n        @Bean\r\n        public RedisConfiguration defaultRedisConfig() {\r\n            RedisStandaloneConfiguration config = new RedisStandaloneConfiguration();\r\n            config.setHostName(host);\r\n            config.setPassword(RedisPassword.of(password));\r\n            return config;\r\n        }\r\n    }","title":"Unable to connect to Redis;nested exception is io.lettuce.core.RedisConnectionException using RedisTempalte","body":"<p>I have encountered the same problem when enabling password authentication in AWS ElastiCache because of not using SSL for the Redis client.</p>\n<p>Bellow RedisConfig.java uses SSL to connect and my error disappeared. I am using Spring Reactive by the way.</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;spring.redis&quot;)\n@Setter\npublic class RedisConfig {\n\n    private String host;\n    private String password;\n\n    @Bean\n    @Primary\n    public ReactiveRedisConnectionFactory reactiveRedisConnectionFactory(RedisConfiguration defaultRedisConfig) {\n        LettuceClientConfiguration clientConfig = LettuceClientConfiguration.builder()\n                .useSsl().and()\n                .commandTimeout(Duration.ofMillis(60000)).build();\n        return new LettuceConnectionFactory(defaultRedisConfig, clientConfig);\n    }\n\n    @Bean\n    public RedisConfiguration defaultRedisConfig() {\n        RedisStandaloneConfiguration config = new RedisStandaloneConfiguration();\n        config.setHostName(host);\n        config.setPassword(RedisPassword.of(password));\n        return config;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11239050,"reputation":167,"user_id":8244074,"display_name":"abinash sahoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689143931,"creation_date":1689143931,"answer_id":76667739,"question_id":63572259,"body_markdown":"Make Sure to use jedisConFactory.setUseSsl(true); for aws redis connection. By Default ssl is off for redis connection.\r\n\r\n@Bean\r\n\tJedisConnectionFactory jedisConnectionFactory() {\r\n\r\n\t\tfinal JedisPoolConfig jedisPoolConfig = new JedisPoolConfig();\r\n\t\tjedisPoolConfig.setMaxTotal(300);\r\n\t\tjedisPoolConfig.setMaxIdle(20);\r\n\t\tjedisPoolConfig.setMaxWaitMillis(2000);\r\n\t\tjedisPoolConfig.setBlockWhenExhausted(true);\r\n\r\n\t\tJedisConnectionFactory jedisConFactory = new JedisConnectionFactory(jedisPoolConfig);\r\n\r\n\t\tjedisConFactory.setHostName(redisHost);\r\n\t\tjedisConFactory.setPort(redisPort);\r\n\t\tjedisConFactory.setPassword(redisPassword);\r\n\t\tjedisConFactory.setUsePool(true);\r\n\t\tjedisConFactory.setTimeout(redisTimeout);\r\n\t\tjedisConFactory.setUseSsl(redisSsl);\r\n\r\n\t\treturn jedisConFactory;\r\n\t}\r\n\r\n\t@Bean(name = &quot;redisTemplate&quot;)\r\n\tpublic RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n\t\tRedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n\t\ttemplate.setConnectionFactory(jedisConnectionFactory());\r\n\t\t//template.setEnableTransactionSupport(true);\r\n\t\ttemplate.setExposeConnection(true);\r\n\t\ttemplate.afterPropertiesSet();\r\n\t\treturn template;\r\n\t}","title":"Unable to connect to Redis;nested exception is io.lettuce.core.RedisConnectionException using RedisTempalte","body":"<p>Make Sure to use jedisConFactory.setUseSsl(true); for aws redis connection. By Default ssl is off for redis connection.</p>\n<p>@Bean\nJedisConnectionFactory jedisConnectionFactory() {</p>\n<pre><code>    final JedisPoolConfig jedisPoolConfig = new JedisPoolConfig();\n    jedisPoolConfig.setMaxTotal(300);\n    jedisPoolConfig.setMaxIdle(20);\n    jedisPoolConfig.setMaxWaitMillis(2000);\n    jedisPoolConfig.setBlockWhenExhausted(true);\n\n    JedisConnectionFactory jedisConFactory = new JedisConnectionFactory(jedisPoolConfig);\n\n    jedisConFactory.setHostName(redisHost);\n    jedisConFactory.setPort(redisPort);\n    jedisConFactory.setPassword(redisPassword);\n    jedisConFactory.setUsePool(true);\n    jedisConFactory.setTimeout(redisTimeout);\n    jedisConFactory.setUseSsl(redisSsl);\n\n    return jedisConFactory;\n}\n\n@Bean(name = &quot;redisTemplate&quot;)\npublic RedisTemplate&lt;String, Object&gt; redisTemplate() {\n    RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n    template.setConnectionFactory(jedisConnectionFactory());\n    //template.setEnableTransactionSupport(true);\n    template.setExposeConnection(true);\n    template.afterPropertiesSet();\n    return template;\n}\n</code></pre>\n"}],"owner":{"account_id":19359989,"reputation":21,"user_id":14155423,"display_name":"sree"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13819,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1689143931,"creation_date":1598331269,"question_id":63572259,"body_markdown":"I am getting **Unable to connect to Redis;nested exception is io.lettuce.core.RedisConnectionException using RedisTempalte** error when i try to connect azure redis cache from my spring reactive application.\r\n\r\nI have configured below in properties file\r\n \r\n\r\n    spring.redis.host=hostName         \r\n    spring.redis.port=6379  \r\n    spring.redis.password=password\r\n\r\nalso tried java based configuration using LettuceConnectionFactory","title":"Unable to connect to Redis;nested exception is io.lettuce.core.RedisConnectionException using RedisTempalte","body":"<p>I am getting <strong>Unable to connect to Redis;nested exception is io.lettuce.core.RedisConnectionException using RedisTempalte</strong> error when i try to connect azure redis cache from my spring reactive application.</p>\n<p>I have configured below in properties file</p>\n<pre><code>spring.redis.host=hostName         \nspring.redis.port=6379  \nspring.redis.password=password\n</code></pre>\n<p>also tried java based configuration using LettuceConnectionFactory</p>\n"},{"tags":["java","spring-boot","datadog","javaagents"],"owner":{"account_id":3762449,"reputation":1696,"user_id":3126973,"accept_rate":54,"display_name":"Romeo Sierra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689143652,"creation_date":1689143652,"question_id":76667711,"body_markdown":"I am having a setup where I run a few ECS services in AWS. These services are spring boot. I have added the Datadog Java Agent to these services. These agents are sending metrics to another ECS service, which is running the Datadog Agent as a container.\r\n\r\nMy question is, is there any mechanism in the Datadog Java Agent, that retries sending metrics, when it is unable to connect to the Datadog Agent? If there is, is it configurable? If so, how do I configure this?\r\n\r\nThe approach I thought of was that the collected metrics are persisted locally and pushing is retried under something like an **exponential backoff policy**. I went through several documents in the official documentation, but I could not find anything related to this. ","title":"Datadog Java Agent: Retry Sending Metrics","body":"<p>I am having a setup where I run a few ECS services in AWS. These services are spring boot. I have added the Datadog Java Agent to these services. These agents are sending metrics to another ECS service, which is running the Datadog Agent as a container.</p>\n<p>My question is, is there any mechanism in the Datadog Java Agent, that retries sending metrics, when it is unable to connect to the Datadog Agent? If there is, is it configurable? If so, how do I configure this?</p>\n<p>The approach I thought of was that the collected metrics are persisted locally and pushing is retried under something like an <strong>exponential backoff policy</strong>. I went through several documents in the official documentation, but I could not find anything related to this.</p>\n"},{"tags":["java","spring-boot","netflix-eureka"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689178719,"post_id":76667661,"comment_id":135177784,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28879742,"reputation":1,"user_id":22119456,"display_name":"Gokul Krishnan J"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689143521,"creation_date":1689143150,"question_id":76667661,"body_markdown":"Hi I am trying to set up Eureka Server for Feign Call I have added POM.xml and application.yml files and when I run the eureka Spring Application the output is printing in the terminal and when I try to run the localhost:8761 in website Whitelabel Error Page error occurs\r\n\r\nmy POM.xml\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;eureka&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;eureka&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;Greenwich.SR1&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-netflix-eureka-server&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nApplication.yml\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    eureka:\r\n      client:\r\n        registerWithEureka: false\r\n        fetchRegistry: false\r\n    server:\r\n      port: 8761\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/iv0qr.png)\r\n\r\nHow to solve Whitelabel Error Page.\r\n\r\nThanks.","title":"Why does Eureka Server set up shows Whitelabel Error Page..?","body":"<p>Hi I am trying to set up Eureka Server for Feign Call I have added POM.xml and application.yml files and when I run the eureka Spring Application the output is printing in the terminal and when I try to run the localhost:8761 in website Whitelabel Error Page error occurs</p>\n<p>my POM.xml</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;eureka&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;eureka&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;Greenwich.SR1&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-netflix-eureka-server&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Application.yml</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>eureka:\n  client:\n    registerWithEureka: false\n    fetchRegistry: false\nserver:\n  port: 8761</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><a href=\"https://i.stack.imgur.com/iv0qr.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>How to solve Whitelabel Error Page.</p>\n<p>Thanks.</p>\n"},{"tags":["java","tomcat","kerberos"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1681706713,"post_id":76027005,"comment_id":134094013,"body_markdown":"Does this answer your question? [&quot;GSSException Defective token detected&quot; - when trying to Authenticate to Tomcat running on Windows using Kerberos](https://stackoverflow.com/questions/47227276/gssexception-defective-token-detected-when-trying-to-authenticate-to-tomcat)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/47227276/gssexception-defective-token-detected-when-trying-to-authenticate-to-tomcat\">&quot;GSSException Defective token detected&quot; - when trying to Authenticate to Tomcat running on Windows using Kerberos</a>"},{"owner":{"account_id":27750806,"reputation":1,"user_id":21185258,"display_name":"rangesh a"},"score":1,"creation_date":1681978879,"post_id":76027005,"comment_id":134144483,"body_markdown":"The mistake i did was accessing my application using the ip address instead of **Host name** in my case(**rangesh-pt6**) is my hostname i tried accessing with **ip address** which results in giving me a NTLM token instead of Kerberos Token.\n **lol,Neenga oruthar tha bro commented, any way thanks bro.**  @seenukarthi","body":"The mistake i did was accessing my application using the ip address instead of <b>Host name</b> in my case(<b>rangesh-pt6</b>) is my hostname i tried accessing with <b>ip address</b> which results in giving me a NTLM token instead of Kerberos Token.  <b>lol,Neenga oruthar tha bro commented, any way thanks bro.</b>  @seenukarthi"}],"owner":{"account_id":27750806,"reputation":1,"user_id":21185258,"display_name":"rangesh a"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689142213,"creation_date":1681638385,"question_id":76027005,"body_markdown":"I try to configure WebSSO for a Tomcat 10 with the build-in SPNEGO\r\nauthenticator over Kerberos. When I access the application, a HTTP\r\nBasicAuth Dialog pops up and a debug entry is written in the\r\ncatalina.out (see below).\r\n\r\nMy keytab file pt6.keytab contains a principal who is registered on my AD-Server (via ktpass.exe &amp; setspn.exe).\r\n\r\nI switched on debug-mode for Kerberos, but I cannot find the problem. It simply stops at some point with Entering logout. Do you have any idea, in which step the authentication stops and what could be the reason for that? Any help is appreciated!\r\n\r\n----------\r\n\r\n**NOTE:**\r\nI am hosting it on my machine joined to my company domain(xxxyyy.com).\r\nI am having virtual machine(dc)(xxx.com) which is running in same machine.\r\n\r\n----------\r\n\r\n**CATALINA.OUT**\r\n\r\n```\r\n15-Apr-2023 20:45:52.151 FINE [http-nio-8080-exec-1] org.apache.catalina.authenticator.SpnegoAuthenticator.doAuthenticate No authorization header sent by client\r\nDebug is  true storeKey true useTicketCache false useKeyTab true doNotPrompt true ticketCache is null isInitiator true KeyTab is C:/Program Files/Apache Software Foundation/Tomcat 10.0/conf/pt6115.keytab refreshKrb5Config is false principal is HTTP/RANGESH-PT6.XXXYYY.COM@XXX.COM tryFirstPass is false useFirstPass is false storePass is false clearPass is false\r\nprincipal is HTTP/RANGESH-PT6.XXXYYY.COM@XXX.COM\r\nWill use keytab\r\nCommit Succeeded\r\n\r\n15-Apr-2023 20:45:52.311 FINE [http-nio-8080-exec-2] org.apache.catalina.authenticator.SpnegoAuthenticator.doAuthenticate Unable to login as the service principal\r\n        java.security.PrivilegedActionException: GSSException: Defective token detected (Mechanism level: GSSHeader did not find the right tag)\r\n                at java.base/java.security.AccessController.doPrivileged(AccessController.java:716)\r\n                at java.base/javax.security.auth.Subject.doAs(Subject.java:533)\r\n                at org.apache.catalina.authenticator.SpnegoAuthenticator.doAuthenticate(SpnegoAuthenticator.java:226)\r\n                at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:626)\r\n                at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n                at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n                at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n                at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n                at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:356)\r\n                at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n                at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n                at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:870)\r\n                at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1762)\r\n                at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n                at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n                at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n                at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n                at java.base/java.lang.Thread.run(Thread.java:1589)\r\n        Caused by: GSSException: Defective token detected (Mechanism level: GSSHeader did not find the right tag)\r\n                at java.security.jgss/sun.security.jgss.GSSHeader.&lt;init&gt;(GSSHeader.java:97)\r\n                at java.security.jgss/sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:325)\r\n                at java.security.jgss/sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:303)\r\n                at java.security.jgss/sun.security.jgss.spnego.SpNegoContext.GSS_acceptSecContext(SpNegoContext.java:903)\r\n                at java.security.jgss/sun.security.jgss.spnego.SpNegoContext.acceptSecContext(SpNegoContext.java:557)\r\n                at java.security.jgss/sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:361)\r\n                at java.security.jgss/sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:303)\r\n                at org.apache.catalina.authenticator.SpnegoAuthenticator$AcceptAction.run(SpnegoAuthenticator.java:326)\r\n                at org.apache.catalina.authenticator.SpnegoAuthenticator$AcceptAction.run(SpnegoAuthenticator.java:313)\r\n                at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n                ... 17 more\r\n                [Krb5LoginModule]: Entering logout\r\n                [Krb5LoginModule]: logged out Subject\r\n```\r\n\r\n**KRB5.INI**\r\n\r\n```\r\n[libdefaults]\r\n    default_realm = XXX.COM\r\n    default_keytab_name = FILE:C:\\Program Files\\Apache Software Foundation\\Tomcat 10.0\\conf\\pt6.keytab\r\n    \r\ndefault_tkt_enctypes = rc4-hmac,aes256-cts-hmac-sha1-96,aes128-cts-hmac-sha1-96\r\n    default_tgs_enctypes = rc4-hmac,aes256-cts-hmac-sha1-96,aes128-cts-hmac-sha1-96\r\n    forwardable=true\r\n\r\n[realms]\r\n    ZOHOR.COM = {\r\n        kdc = win-971madet2qs.zohor.com\r\n        admin_server = win-971madet2qs.zohor.com\r\n    }\r\n\r\n[domain_realm]\r\n    .xxx.com = XXX.COM\r\nxxx.com = XXX.COM\r\n```\r\n\r\n**JAAS.CONF**\r\n\r\n```\r\ncom.sun.security.jgss.krb5.initiate {\r\n    com.sun.security.auth.module.Krb5LoginModule required\r\n    doNotPrompt=true\r\n    principal=&quot;HTTP/RANGESH-PT6.XXXYYY.COM@XXX.COM&quot;\r\n    useKeyTab=true\r\n    keyTab=&quot;C:/Program Files/Apache Software Foundation/Tomcat 10.0/conf/pt6.keytab&quot;\r\n    storeKey=true\r\n    debug=true\r\n    moduleBanner=true;\r\n};\r\n\r\ncom.sun.security.jgss.krb5.accept {\r\n    com.sun.security.auth.module.Krb5LoginModule required\r\n    doNotPrompt=true\r\n    principal=&quot;HTTP/RANGESH-PT6.XXXYYY.COM@XXX.COM&quot;\r\n    useKeyTab=true\r\n    keyTab=&quot;C:/Program Files/Apache Software Foundation/Tomcat 10.0/conf/pt6.keytab&quot;\r\n    storeKey=true\r\n    debug=true\r\n    moduleBanner=true;\r\n};\r\n```\r\n\r\n- I tried accessing the applicaiton using host name instead of ip address\r\n\r\n- tried hosting the the tomcat on anther vm which is joined to the domain(xxx.com)\r\n\r\n- Tried pasting the krb5.ini in C:/windows/..\r\n\r\n  ----------\r\n\r\nI am getting below kerberos token while accessing in my machine\r\n\r\n```\r\n&quot;Negotiate YIGABgYrBgEFBQKgdjB0oDAwLgYKKwYBBAGCNwICCgYJKoZIgvcSAQICBgkqhkiG9xIBAgIGCisGAQQBgjcCAh6iQAQ+TlRMTVNTUAABAAAAl7II4ggACAA2AAAADgAOACgAAAAKAF1YAAAAD1JBTkdFU0gtUFQ2MTE1Wk9IT0NPUlA= Credentials=\\`��+�v0t�00. +�7  \\*�H�� \\*�H�� +�7�@\\&gt;NTLMSSP���6( \\]XRANGESH-PT6XXXYYY&quot;\r\n```\r\n\r\nI am getting below token while accessing in  machines(vm) other than the tomcat hosting machine\r\n\r\n```\r\n&quot;Negotiate TlRMTVNTUAABAAAAl4II4gAAAAAAAAAAAAAAAAAAAAAKAGNFAAAADw==&quot;\r\n```\r\n\r\nI want it to return kerberos token in all machine how to do that.","title":"Kerberos Single Singon on tomcat java J2EE","body":"<p>I try to configure WebSSO for a Tomcat 10 with the build-in SPNEGO\nauthenticator over Kerberos. When I access the application, a HTTP\nBasicAuth Dialog pops up and a debug entry is written in the\ncatalina.out (see below).</p>\n<p>My keytab file pt6.keytab contains a principal who is registered on my AD-Server (via ktpass.exe &amp; setspn.exe).</p>\n<p>I switched on debug-mode for Kerberos, but I cannot find the problem. It simply stops at some point with Entering logout. Do you have any idea, in which step the authentication stops and what could be the reason for that? Any help is appreciated!</p>\n<hr />\n<p><strong>NOTE:</strong>\nI am hosting it on my machine joined to my company domain(xxxyyy.com).\nI am having virtual machine(dc)(xxx.com) which is running in same machine.</p>\n<hr />\n<p><strong>CATALINA.OUT</strong></p>\n<pre><code>15-Apr-2023 20:45:52.151 FINE [http-nio-8080-exec-1] org.apache.catalina.authenticator.SpnegoAuthenticator.doAuthenticate No authorization header sent by client\nDebug is  true storeKey true useTicketCache false useKeyTab true doNotPrompt true ticketCache is null isInitiator true KeyTab is C:/Program Files/Apache Software Foundation/Tomcat 10.0/conf/pt6115.keytab refreshKrb5Config is false principal is HTTP/RANGESH-PT6.XXXYYY.COM@XXX.COM tryFirstPass is false useFirstPass is false storePass is false clearPass is false\nprincipal is HTTP/RANGESH-PT6.XXXYYY.COM@XXX.COM\nWill use keytab\nCommit Succeeded\n\n15-Apr-2023 20:45:52.311 FINE [http-nio-8080-exec-2] org.apache.catalina.authenticator.SpnegoAuthenticator.doAuthenticate Unable to login as the service principal\n        java.security.PrivilegedActionException: GSSException: Defective token detected (Mechanism level: GSSHeader did not find the right tag)\n                at java.base/java.security.AccessController.doPrivileged(AccessController.java:716)\n                at java.base/javax.security.auth.Subject.doAs(Subject.java:533)\n                at org.apache.catalina.authenticator.SpnegoAuthenticator.doAuthenticate(SpnegoAuthenticator.java:226)\n                at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:626)\n                at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n                at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n                at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n                at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n                at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:356)\n                at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n                at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n                at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:870)\n                at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1762)\n                at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n                at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n                at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n                at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n                at java.base/java.lang.Thread.run(Thread.java:1589)\n        Caused by: GSSException: Defective token detected (Mechanism level: GSSHeader did not find the right tag)\n                at java.security.jgss/sun.security.jgss.GSSHeader.&lt;init&gt;(GSSHeader.java:97)\n                at java.security.jgss/sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:325)\n                at java.security.jgss/sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:303)\n                at java.security.jgss/sun.security.jgss.spnego.SpNegoContext.GSS_acceptSecContext(SpNegoContext.java:903)\n                at java.security.jgss/sun.security.jgss.spnego.SpNegoContext.acceptSecContext(SpNegoContext.java:557)\n                at java.security.jgss/sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:361)\n                at java.security.jgss/sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:303)\n                at org.apache.catalina.authenticator.SpnegoAuthenticator$AcceptAction.run(SpnegoAuthenticator.java:326)\n                at org.apache.catalina.authenticator.SpnegoAuthenticator$AcceptAction.run(SpnegoAuthenticator.java:313)\n                at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n                ... 17 more\n                [Krb5LoginModule]: Entering logout\n                [Krb5LoginModule]: logged out Subject\n</code></pre>\n<p><strong>KRB5.INI</strong></p>\n<pre><code>[libdefaults]\n    default_realm = XXX.COM\n    default_keytab_name = FILE:C:\\Program Files\\Apache Software Foundation\\Tomcat 10.0\\conf\\pt6.keytab\n    \ndefault_tkt_enctypes = rc4-hmac,aes256-cts-hmac-sha1-96,aes128-cts-hmac-sha1-96\n    default_tgs_enctypes = rc4-hmac,aes256-cts-hmac-sha1-96,aes128-cts-hmac-sha1-96\n    forwardable=true\n\n[realms]\n    ZOHOR.COM = {\n        kdc = win-971madet2qs.zohor.com\n        admin_server = win-971madet2qs.zohor.com\n    }\n\n[domain_realm]\n    .xxx.com = XXX.COM\nxxx.com = XXX.COM\n</code></pre>\n<p><strong>JAAS.CONF</strong></p>\n<pre><code>com.sun.security.jgss.krb5.initiate {\n    com.sun.security.auth.module.Krb5LoginModule required\n    doNotPrompt=true\n    principal=&quot;HTTP/RANGESH-PT6.XXXYYY.COM@XXX.COM&quot;\n    useKeyTab=true\n    keyTab=&quot;C:/Program Files/Apache Software Foundation/Tomcat 10.0/conf/pt6.keytab&quot;\n    storeKey=true\n    debug=true\n    moduleBanner=true;\n};\n\ncom.sun.security.jgss.krb5.accept {\n    com.sun.security.auth.module.Krb5LoginModule required\n    doNotPrompt=true\n    principal=&quot;HTTP/RANGESH-PT6.XXXYYY.COM@XXX.COM&quot;\n    useKeyTab=true\n    keyTab=&quot;C:/Program Files/Apache Software Foundation/Tomcat 10.0/conf/pt6.keytab&quot;\n    storeKey=true\n    debug=true\n    moduleBanner=true;\n};\n</code></pre>\n<ul>\n<li><p>I tried accessing the applicaiton using host name instead of ip address</p>\n</li>\n<li><p>tried hosting the the tomcat on anther vm which is joined to the domain(xxx.com)</p>\n</li>\n<li><p>Tried pasting the krb5.ini in C:/windows/..</p>\n</li>\n</ul>\n<hr />\n<p>I am getting below kerberos token while accessing in my machine</p>\n<pre><code>&quot;Negotiate YIGABgYrBgEFBQKgdjB0oDAwLgYKKwYBBAGCNwICCgYJKoZIgvcSAQICBgkqhkiG9xIBAgIGCisGAQQBgjcCAh6iQAQ+TlRMTVNTUAABAAAAl7II4ggACAA2AAAADgAOACgAAAAKAF1YAAAAD1JBTkdFU0gtUFQ2MTE1Wk9IT0NPUlA= Credentials=\\`��+�v0t�00. +�7  \\*�H�� \\*�H�� +�7�@\\&gt;NTLMSSP���6( \\]XRANGESH-PT6XXXYYY&quot;\n</code></pre>\n<p>I am getting below token while accessing in  machines(vm) other than the tomcat hosting machine</p>\n<pre><code>&quot;Negotiate TlRMTVNTUAABAAAAl4II4gAAAAAAAAAAAAAAAAAAAAAKAGNFAAAADw==&quot;\n</code></pre>\n<p>I want it to return kerberos token in all machine how to do that.</p>\n"},{"tags":["java","jenkins","jenkins-plugins"],"answers":[{"tags":[],"owner":{"account_id":28986280,"reputation":1,"user_id":22203037,"display_name":"Frank Thyes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689142163,"creation_date":1689142163,"answer_id":76667563,"question_id":76652968,"body_markdown":"The error was caused by the pipeline maven plugin. After disabling it the performance was back to normal. ","title":"Caused by: java.lang.IllegalStateException: File corrupted in chunk 485734, expected page length 4..256, got 1769366861 [1.4.199/6]Jenkins errors","body":"<p>The error was caused by the pipeline maven plugin. After disabling it the performance was back to normal.</p>\n"}],"owner":{"account_id":28986280,"reputation":1,"user_id":22203037,"display_name":"Frank Thyes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689142163,"creation_date":1688986057,"question_id":76652968,"body_markdown":"Out of a sudden my Jenkins started lagging. Every short hang comes with an error message that refers to the same corrupted chunk.\r\n\r\n```\r\n05-Jan-2021 12:16:39.022 WARNING [Handling POST /jenkins/ajaxExecutors from 127.0.0.1 : http-nio-8181-exec-2] hudson.init.impl.InstallUncaughtExceptionHandler.handleException Caught unhandled exception with ID 917626d3-7f6f-49ab-bb23-e3ea74dd9497\r\n        javax.servlet.ServletException: Filter execution threw an exception\r\n                at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:200)\r\n                at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n                at hudson.security.HudsonFilter.doFilter(HudsonFilter.java:169)\r\n                at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n                at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n                at org.kohsuke.stapler.compression.CompressionFilter.doFilter(CompressionFilter.java:51)\r\n...skipping...\r\n                        at org.h2.command.Command.executeUpdate(Command.java:259)\r\n                        at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1603)\r\n                        at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:563)\r\n                        at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:257)\r\n                        at org.jenkinsci.plugins.pipeline.maven.dao.PipelineMavenPluginH2Dao.isEnoughProductionGradeForTheWorkload(PipelineMavenPluginH2Dao.java:69)\r\n                        ... 155 more\r\n                Caused by: java.lang.IllegalStateException: File corrupted in chunk 485734, expected page length 4..256, got 1769366861 [1.4.199/6]\r\n                        at org.h2.mvstore.DataUtils.newIllegalStateException(DataUtils.java:883)\r\n                        at org.h2.mvstore.MVStore.readBufferForPage(MVStore.java:1055)\r\n                        at org.h2.mvstore.MVStore$ChunkIdsCollector.visit(MVStore.java:1606)\r\n                        at org.h2.mvstore.Page.readChildrenPositions(Page.java:274)\r\n                        at org.h2.mvstore.MVStore$ChunkIdsCollector.visit(MVStore.java:1607)\r\n                        at org.h2.mvstore.MVStore$ChunkIdsCollector.visit(MVStore.java:1571)\r\n                        at org.h2.mvstore.MVStore$ChunkIdsCollector.visit(MVStore.java:1603)\r\n                        at org.h2.mvstore.MVStore.inspectVersion(MVStore.java:1513)\r\n                        at org.h2.mvstore.MVStore.collectReferencedChunks(MVStore.java:1458)\r\n                        at org.h2.mvstore.MVStore.freeUnusedChunks(MVStore.java:1407)\r\n                        at org.h2.mvstore.MVStore.freeUnusedIfNeeded(MVStore.java:1400)\r\n                        at org.h2.mvstore.MVStore.storeNow(MVStore.java:1208)\r\n                        at org.h2.mvstore.MVStore.store(MVStore.java:1190)\r\n                        at org.h2.mvstore.MVStore.tryCommit(MVStore.java:1135)\r\n                        at org.h2.mvstore.MVStore.writeInBackground(MVStore.java:2763)\r\n                        at org.h2.mvstore.MVStore$BackgroundWriterThread.run(MVStore.java:3123)\r\n        Caused by: [CIRCULAR REFERENCE: java.lang.IllegalStateException: File corrupted in chunk 485734, expected page length 4..256, got 1769366861 [1.4.199/6]]\r\n```\r\n\r\nA simple restart did not help so I tried to recover the h2 database but this end up with:\r\n\r\n```\r\njava -cp h2-1.4.199.jar org.h2.tools.Recover \r\nError: java.lang.IllegalArgumentException: timeNanos out of range 208648290000104\r\n```\r\n\r\nThe system did not crash and there were no updates installed when the issue started.\r\n\r\nSo I&#39;m running out of ideas. Has anybody seen / solved this type of error in the past?\r\n","title":"Caused by: java.lang.IllegalStateException: File corrupted in chunk 485734, expected page length 4..256, got 1769366861 [1.4.199/6]Jenkins errors","body":"<p>Out of a sudden my Jenkins started lagging. Every short hang comes with an error message that refers to the same corrupted chunk.</p>\n<pre><code>05-Jan-2021 12:16:39.022 WARNING [Handling POST /jenkins/ajaxExecutors from 127.0.0.1 : http-nio-8181-exec-2] hudson.init.impl.InstallUncaughtExceptionHandler.handleException Caught unhandled exception with ID 917626d3-7f6f-49ab-bb23-e3ea74dd9497\n        javax.servlet.ServletException: Filter execution threw an exception\n                at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:200)\n                at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n                at hudson.security.HudsonFilter.doFilter(HudsonFilter.java:169)\n                at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n                at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n                at org.kohsuke.stapler.compression.CompressionFilter.doFilter(CompressionFilter.java:51)\n...skipping...\n                        at org.h2.command.Command.executeUpdate(Command.java:259)\n                        at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1603)\n                        at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:563)\n                        at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:257)\n                        at org.jenkinsci.plugins.pipeline.maven.dao.PipelineMavenPluginH2Dao.isEnoughProductionGradeForTheWorkload(PipelineMavenPluginH2Dao.java:69)\n                        ... 155 more\n                Caused by: java.lang.IllegalStateException: File corrupted in chunk 485734, expected page length 4..256, got 1769366861 [1.4.199/6]\n                        at org.h2.mvstore.DataUtils.newIllegalStateException(DataUtils.java:883)\n                        at org.h2.mvstore.MVStore.readBufferForPage(MVStore.java:1055)\n                        at org.h2.mvstore.MVStore$ChunkIdsCollector.visit(MVStore.java:1606)\n                        at org.h2.mvstore.Page.readChildrenPositions(Page.java:274)\n                        at org.h2.mvstore.MVStore$ChunkIdsCollector.visit(MVStore.java:1607)\n                        at org.h2.mvstore.MVStore$ChunkIdsCollector.visit(MVStore.java:1571)\n                        at org.h2.mvstore.MVStore$ChunkIdsCollector.visit(MVStore.java:1603)\n                        at org.h2.mvstore.MVStore.inspectVersion(MVStore.java:1513)\n                        at org.h2.mvstore.MVStore.collectReferencedChunks(MVStore.java:1458)\n                        at org.h2.mvstore.MVStore.freeUnusedChunks(MVStore.java:1407)\n                        at org.h2.mvstore.MVStore.freeUnusedIfNeeded(MVStore.java:1400)\n                        at org.h2.mvstore.MVStore.storeNow(MVStore.java:1208)\n                        at org.h2.mvstore.MVStore.store(MVStore.java:1190)\n                        at org.h2.mvstore.MVStore.tryCommit(MVStore.java:1135)\n                        at org.h2.mvstore.MVStore.writeInBackground(MVStore.java:2763)\n                        at org.h2.mvstore.MVStore$BackgroundWriterThread.run(MVStore.java:3123)\n        Caused by: [CIRCULAR REFERENCE: java.lang.IllegalStateException: File corrupted in chunk 485734, expected page length 4..256, got 1769366861 [1.4.199/6]]\n</code></pre>\n<p>A simple restart did not help so I tried to recover the h2 database but this end up with:</p>\n<pre><code>java -cp h2-1.4.199.jar org.h2.tools.Recover \nError: java.lang.IllegalArgumentException: timeNanos out of range 208648290000104\n</code></pre>\n<p>The system did not crash and there were no updates installed when the issue started.</p>\n<p>So I'm running out of ideas. Has anybody seen / solved this type of error in the past?</p>\n"},{"tags":["java","android","kotlin","maven","gradle"],"answers":[{"tags":[],"owner":{"account_id":15849873,"reputation":11,"user_id":11436008,"display_name":"Ken Kihanya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689141066,"creation_date":1689141066,"answer_id":76667470,"question_id":76619096,"body_markdown":"Seems like a compatibility issue with gradle jdk v 17","title":"How to build a library that can be used by both Java and Android?","body":"<p>Seems like a compatibility issue with gradle jdk v 17</p>\n"}],"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689141066,"creation_date":1688550246,"question_id":76619096,"body_markdown":"I am writing the code of the Java server and the Android application at the same time. I found that some eneity codes of the sql database are shared. I hope to extract them and publish them to the local warehouse for the simultaneous use of the two projects.\r\n\r\n## Use Maven\r\n\r\nI used `android-maven-plugin` maven plugin to import `androidx-room` library, and publish to the maven local warehouse, but I forgot to set KSP.\r\n\r\nthen Android project report error:\r\n```\r\n[ksp] [MissingType]: Element &#39;com.sage.feature.article.database.entity.ArticleItemEntity&#39; references a type that is not present - com.sage.feature.article.database.entity.ArticleItemEntity\r\n```\r\nBut I checked the information on the Internet, it seems that Maven does not support KSP.\r\n\r\n## Use Gradle\r\nThen I try to build with gradle. \r\n\r\nI used the following gradle plugins:\r\n```toml\r\norg.springframework.boot\r\nio.spring.dependency-management\r\norg.jetbrains.kotlin.jvm\r\norg.jetbrains.kotlin.plugin.spring\r\n```\r\nThe error message is as follows:\r\n```\r\nExecution failed for task &#39;:core:database:compileKotlin&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:core:database:compileClasspath&#39;.\r\n   &gt; Could not resolve androidx.room:room-ktx:2.5.0.\r\n     Required by:\r\n         project :core:database\r\n      &gt; No matching variant of androidx.room:room-ktx:2.5.0 was found. The consumer was configured to find a library for use during compile-time, compatible with Java 17, preferably in the form of class files, preferably optimized for standard JVMs, and its dependencies declared externally, as well as attribute &#39;org.jetbrains.kotlin.platform.type&#39; with value &#39;jvm&#39; but:\r\n          - Variant &#39;releaseVariantReleaseApiPublication&#39; capability androidx.room:room-ktx:2.5.0 declares a library for use during compile-time, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component, with the library elements &#39;aar&#39; and the consumer needed a component, preferably in the form of class files\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java environment (preferred optimized for standard JVMs)\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 17)\r\n                  - Doesn&#39;t say anything about org.jetbrains.kotlin.platform.type (required &#39;jvm&#39;)\r\n          - Variant &#39;releaseVariantReleaseRuntimePublication&#39; capability androidx.room:room-ktx:2.5.0 declares a library for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component, with the library elements &#39;aar&#39; and the consumer needed a component, preferably in the form of class files\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java environment (preferred optimized for standard JVMs)\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 17)\r\n                  - Doesn&#39;t say anything about org.jetbrains.kotlin.platform.type (required &#39;jvm&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability androidx.room:room-ktx:2.5.0 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java environment (preferred optimized for standard JVMs)\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 17)\r\n                  - Doesn&#39;t say anything about its elements (required them preferably in the form of class files)\r\n                  - Doesn&#39;t say anything about org.jetbrains.kotlin.platform.type (required &#39;jvm&#39;)\r\n```\r\n\r\nI guess this is because the gradle plugin that introduces `aar` is not properly configured?\r\n\r\nBut I can&#39;t find more material on the web about gradle kotlin project importing `aar`.\r\n\r\n## question\r\n\r\nWhat should I do to build this generic library via `Maven` or `Gradle`?\r\n\r\n\r\n\r\n","title":"How to build a library that can be used by both Java and Android?","body":"<p>I am writing the code of the Java server and the Android application at the same time. I found that some eneity codes of the sql database are shared. I hope to extract them and publish them to the local warehouse for the simultaneous use of the two projects.</p>\n<h2>Use Maven</h2>\n<p>I used <code>android-maven-plugin</code> maven plugin to import <code>androidx-room</code> library, and publish to the maven local warehouse, but I forgot to set KSP.</p>\n<p>then Android project report error:</p>\n<pre><code>[ksp] [MissingType]: Element 'com.sage.feature.article.database.entity.ArticleItemEntity' references a type that is not present - com.sage.feature.article.database.entity.ArticleItemEntity\n</code></pre>\n<p>But I checked the information on the Internet, it seems that Maven does not support KSP.</p>\n<h2>Use Gradle</h2>\n<p>Then I try to build with gradle.</p>\n<p>I used the following gradle plugins:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>org.springframework.boot\nio.spring.dependency-management\norg.jetbrains.kotlin.jvm\norg.jetbrains.kotlin.plugin.spring\n</code></pre>\n<p>The error message is as follows:</p>\n<pre><code>Execution failed for task ':core:database:compileKotlin'.\n&gt; Could not resolve all files for configuration ':core:database:compileClasspath'.\n   &gt; Could not resolve androidx.room:room-ktx:2.5.0.\n     Required by:\n         project :core:database\n      &gt; No matching variant of androidx.room:room-ktx:2.5.0 was found. The consumer was configured to find a library for use during compile-time, compatible with Java 17, preferably in the form of class files, preferably optimized for standard JVMs, and its dependencies declared externally, as well as attribute 'org.jetbrains.kotlin.platform.type' with value 'jvm' but:\n          - Variant 'releaseVariantReleaseApiPublication' capability androidx.room:room-ktx:2.5.0 declares a library for use during compile-time, and its dependencies declared externally:\n              - Incompatible because this component declares a component, with the library elements 'aar' and the consumer needed a component, preferably in the form of class files\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java environment (preferred optimized for standard JVMs)\n                  - Doesn't say anything about its target Java version (required compatibility with Java 17)\n                  - Doesn't say anything about org.jetbrains.kotlin.platform.type (required 'jvm')\n          - Variant 'releaseVariantReleaseRuntimePublication' capability androidx.room:room-ktx:2.5.0 declares a library for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares a component, with the library elements 'aar' and the consumer needed a component, preferably in the form of class files\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java environment (preferred optimized for standard JVMs)\n                  - Doesn't say anything about its target Java version (required compatibility with Java 17)\n                  - Doesn't say anything about org.jetbrains.kotlin.platform.type (required 'jvm')\n          - Variant 'sourcesElements' capability androidx.room:room-ktx:2.5.0 declares a component for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java environment (preferred optimized for standard JVMs)\n                  - Doesn't say anything about its target Java version (required compatibility with Java 17)\n                  - Doesn't say anything about its elements (required them preferably in the form of class files)\n                  - Doesn't say anything about org.jetbrains.kotlin.platform.type (required 'jvm')\n</code></pre>\n<p>I guess this is because the gradle plugin that introduces <code>aar</code> is not properly configured?</p>\n<p>But I can't find more material on the web about gradle kotlin project importing <code>aar</code>.</p>\n<h2>question</h2>\n<p>What should I do to build this generic library via <code>Maven</code> or <code>Gradle</code>?</p>\n"},{"tags":["java","elasticsearch","jackson","elasticsearch-java-api"],"owner":{"account_id":6450678,"reputation":544,"user_id":4997684,"accept_rate":50,"display_name":"Paul Wellner Bou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689139657,"creation_date":1689091075,"question_id":76663796,"body_markdown":"Using the Java [ElasticsearchClient][1], is it possible to create a custom mapper, so that depending on a certain field (or index) of the result hit, a different object is mapped?\r\n\r\nI have several indices with different, but very similar documents. The base properties are the same in all of them. And if I query for a list of IDs, I ususally query for (similar) objects in different indices. Ideally I want to have a result list `List&lt;? extends BaseDocument&gt;` with potentially different objects in it, all of them extending my `BaseDocument`.\r\n\r\nOf course, one approach would be to this in my BaseDocument, which will store all unmapped properties in a map.\r\n\r\n```java\r\n@JsonAnyGetter\r\n@JsonAnySetter\r\nprotected final Map&lt;String, Object&gt; properties = new LinkedHashMap&lt;&gt;();\r\n```\r\n\r\nAnd then, in SpecialDocument, I can access those properties by\r\n\r\n```java\r\npublic getSpecialProperty() {\r\n    return super.properties.get(&quot;specialProperty&quot;);\r\n}\r\n```\r\n\r\nAnother way would be to map all result hits just to a Map, and then checking the contents of the map and using a custom ObjectMapper to map this map back to my domain objects:\r\n\r\n```java\r\npublic List&lt;? extends BaseDocument&gt; search(final List&lt;String&gt; indices, final Query query) throws IOException {\r\n\tfinal ObjectMapper objectMapper = new ObjectMapper();\r\n\tfinal SearchResponse&lt;Map&gt; searchResponse = elasticsearchClient.search(s -&gt; s.index(indices).query(query), Map.class);\r\n\treturn searchResponse.hits().hits().stream().map(\r\n\t\thit -&gt; {\r\n\t\t\tswitch (hit.source().get(&quot;documentType&quot;).toString()) {\r\n\t\t\t\tcase &quot;specialDocument&quot;:\r\n\t\t\t\t\treturn objectMapper.convertValue(hit.source(), SpecialDocument.class);\r\n\t\t\t\tcase &quot;anotherSpecialDocument&quot;:\r\n\t\t\t\t\treturn objectMapper.convertValue(hit.source(), AnotherSpecialDocument.class);\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn objectMapper.convertValue(hit.source(), BaseDocument.class);\r\n\t\t\t}\r\n\t\t}\r\n\t).toList();\r\n}\r\n```\r\n\r\nNow, this is mapping the result twice, one time to a Map, another time to a concrete object.\r\n\r\nIs there a way to pass a mapper to the ElasticsearchClient (instead of the JsonpMapper, for example?), where I can define conditions to map the result directly to a certain object, instead of treating all results as the same?\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/index.html","title":"Java ElasticsearchClient: Conditionally mapping result hits to a certain object depending on a field or index","body":"<p>Using the Java <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/index.html\" rel=\"nofollow noreferrer\">ElasticsearchClient</a>, is it possible to create a custom mapper, so that depending on a certain field (or index) of the result hit, a different object is mapped?</p>\n<p>I have several indices with different, but very similar documents. The base properties are the same in all of them. And if I query for a list of IDs, I ususally query for (similar) objects in different indices. Ideally I want to have a result list <code>List&lt;? extends BaseDocument&gt;</code> with potentially different objects in it, all of them extending my <code>BaseDocument</code>.</p>\n<p>Of course, one approach would be to this in my BaseDocument, which will store all unmapped properties in a map.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonAnyGetter\n@JsonAnySetter\nprotected final Map&lt;String, Object&gt; properties = new LinkedHashMap&lt;&gt;();\n</code></pre>\n<p>And then, in SpecialDocument, I can access those properties by</p>\n<pre class=\"lang-java prettyprint-override\"><code>public getSpecialProperty() {\n    return super.properties.get(&quot;specialProperty&quot;);\n}\n</code></pre>\n<p>Another way would be to map all result hits just to a Map, and then checking the contents of the map and using a custom ObjectMapper to map this map back to my domain objects:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;? extends BaseDocument&gt; search(final List&lt;String&gt; indices, final Query query) throws IOException {\n    final ObjectMapper objectMapper = new ObjectMapper();\n    final SearchResponse&lt;Map&gt; searchResponse = elasticsearchClient.search(s -&gt; s.index(indices).query(query), Map.class);\n    return searchResponse.hits().hits().stream().map(\n        hit -&gt; {\n            switch (hit.source().get(&quot;documentType&quot;).toString()) {\n                case &quot;specialDocument&quot;:\n                    return objectMapper.convertValue(hit.source(), SpecialDocument.class);\n                case &quot;anotherSpecialDocument&quot;:\n                    return objectMapper.convertValue(hit.source(), AnotherSpecialDocument.class);\n                default:\n                    return objectMapper.convertValue(hit.source(), BaseDocument.class);\n            }\n        }\n    ).toList();\n}\n</code></pre>\n<p>Now, this is mapping the result twice, one time to a Map, another time to a concrete object.</p>\n<p>Is there a way to pass a mapper to the ElasticsearchClient (instead of the JsonpMapper, for example?), where I can define conditions to map the result directly to a certain object, instead of treating all results as the same?</p>\n"},{"tags":["java","android","database","parameter-passing"],"answers":[{"tags":[],"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689139021,"creation_date":1689139021,"answer_id":76667326,"question_id":76666833,"body_markdown":"Try to remove the call to `getTravelTime` in the callback and see if the text appears on the screen. If so, apparently, your code in `getTravelTime` is running on UI which is a cpu-intenstive task and should run in a separate thread which is different from UI thread.\r\n\r\nYou can try to use [AsyncTasks][1]. Once you override callbacks, it will make sure to run your cpu-intensive code in a separate thread and once it is done to make changes in UI. I haven&#39;t caught up with last changes in Android but seems like AsyncTasks are deprecated, so you can use java Executors directly.\r\n\r\n  [1]: https://developer.android.com/reference/android/os/AsyncTask","title":"Is the way Im passing variables to my function correct?","body":"<p>Try to remove the call to <code>getTravelTime</code> in the callback and see if the text appears on the screen. If so, apparently, your code in <code>getTravelTime</code> is running on UI which is a cpu-intenstive task and should run in a separate thread which is different from UI thread.</p>\n<p>You can try to use <a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">AsyncTasks</a>. Once you override callbacks, it will make sure to run your cpu-intensive code in a separate thread and once it is done to make changes in UI. I haven't caught up with last changes in Android but seems like AsyncTasks are deprecated, so you can use java Executors directly.</p>\n"}],"owner":{"account_id":28951210,"reputation":1,"user_id":22175758,"display_name":"Goodsir 23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689139021,"creation_date":1689129685,"question_id":76666833,"body_markdown":"Im currently trying to pass 2 stored strings from a database to my function gettraveltime in my Directionsmanager class. once everything runs it should change an activity from the current one to one that just has some text. but currently when I press the button nothing happens and in the logcat file the only thing that regards to getting map data are these 3 log entries. \r\n\r\n&gt; 2023-07-11 22:25:21.896 24459-24505 DynamiteModule          com.example.startuptest1             W  Local module descriptor class for com.google.android.gms.providerinstaller.dynamite not found.\r\n&gt; 2023-07-11 22:25:21.995 24459-24505 DynamiteModule          com.example.startuptest1             I  Considering local module com.google.android.gms.providerinstaller.dynamite:0 and remote module com.google.android.gms.providerinstaller.dynamite:0\r\n&gt; 2023-07-11 22:25:21.998 24459-24505 ProviderInstaller       com.example.startuptest1             W  Failed to load providerinstaller module: No acceptable module com.google.android.gms.providerinstaller.dynamite found. Local version is 0 and remote version is 0.\r\n\r\n\r\n```\r\nconfirm.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                txt.setText(&quot;button pressed&quot;);\r\n                Directionsmanager dm = new Directionsmanager();\r\n                dm.getTravelTime(startLocation, endLocation, dbdisplay.this);\r\n            }\r\n        });\r\n```\r\nThis is how Im passing the variables to my function to get the travel time between the 2 saved locations.This is the Directionsmanager class in case you need to take a look at it.\r\n```\r\npackage com.example.startuptest1;\r\n\r\nimport android.content.Context;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport java.util.Calendar;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.functions.FirebaseFunctions;\r\nimport com.google.firebase.functions.HttpsCallableResult;\r\n\r\npublic class Directionsmanager {\r\n\r\n    private FirebaseFunctions mFunctions;\r\n    public Directionsmanager() {\r\n        mFunctions = FirebaseFunctions.getInstance();\r\n    }\r\n    public void getTravelTime(String startLocation, String endLocation, final OnTravelTimeListener listener) {\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        int dayOfWeek = calendar.get(Calendar.DAY_OF_WEEK);\r\n\r\n\r\n        if (dayOfWeek &gt;= Calendar.MONDAY &amp;&amp; dayOfWeek &lt;= Calendar.FRIDAY) {\r\n\r\n            Map&lt;String, Object&gt; data = new HashMap&lt;&gt;();\r\n            data.put(&quot;startLocation&quot;, startLocation);\r\n            data.put(&quot;endLocation&quot;, endLocation);\r\n            data.put(&quot;mode&quot;, &quot;transit&quot;);\r\n\r\n\r\n            calendar.set(Calendar.HOUR_OF_DAY, 9);\r\n            calendar.set(Calendar.MINUTE, 0);\r\n            calendar.set(Calendar.SECOND, 0);\r\n\r\n\r\n            if (calendar.getTimeInMillis() &lt; System.currentTimeMillis()) {\r\n                calendar.add(Calendar.DAY_OF_MONTH, 1);\r\n            }\r\n\r\n\r\n            data.put(&quot;arriveByTime&quot;, calendar.getTimeInMillis());\r\n\r\n\r\n            mFunctions.getHttpsCallable(&quot;getTravelTime&quot;)\r\n                    .call(data)\r\n                    .addOnSuccessListener(new OnSuccessListener&lt;HttpsCallableResult&gt;() {\r\n                        @Override\r\n                        public void onSuccess(HttpsCallableResult httpsCallableResult) {\r\n                            // Handle the result\r\n                            String travelTime = (String) httpsCallableResult.getData();\r\n                            listener.onTravelTimeReceived(travelTime);\r\n                        }\r\n                    });\r\n        } else {\r\n\r\n            listener.onTravelTimeReceived(&quot;No action on weekends&quot;);\r\n\r\n        }\r\n    }\r\n\r\n    public interface OnTravelTimeListener {\r\n        void onTravelTimeReceived(String travelTime);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI expected once I press the confirm button, it will pass the database values to Directions manager and once that runs and its returns a value it will change to a different activity. Currently  At first I thought that maybe the gridle file was incorrect in regards to versions and version compatibility but it was fine. if you need to see the function thats responsible for changing activity pls let me know. Theres a bit more code before the activity can change but Im not sure if its this part of the code or the function that is responsible for changing activity is the issue. \r\nThanks for the help","title":"Is the way Im passing variables to my function correct?","body":"<p>Im currently trying to pass 2 stored strings from a database to my function gettraveltime in my Directionsmanager class. once everything runs it should change an activity from the current one to one that just has some text. but currently when I press the button nothing happens and in the logcat file the only thing that regards to getting map data are these 3 log entries.</p>\n<blockquote>\n<p>2023-07-11 22:25:21.896 24459-24505 DynamiteModule          com.example.startuptest1             W  Local module descriptor class for com.google.android.gms.providerinstaller.dynamite not found.\n2023-07-11 22:25:21.995 24459-24505 DynamiteModule          com.example.startuptest1             I  Considering local module com.google.android.gms.providerinstaller.dynamite:0 and remote module com.google.android.gms.providerinstaller.dynamite:0\n2023-07-11 22:25:21.998 24459-24505 ProviderInstaller       com.example.startuptest1             W  Failed to load providerinstaller module: No acceptable module com.google.android.gms.providerinstaller.dynamite found. Local version is 0 and remote version is 0.</p>\n</blockquote>\n<pre><code>confirm.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                txt.setText(&quot;button pressed&quot;);\n                Directionsmanager dm = new Directionsmanager();\n                dm.getTravelTime(startLocation, endLocation, dbdisplay.this);\n            }\n        });\n</code></pre>\n<p>This is how Im passing the variables to my function to get the travel time between the 2 saved locations.This is the Directionsmanager class in case you need to take a look at it.</p>\n<pre><code>package com.example.startuptest1;\n\nimport android.content.Context;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport java.util.Calendar;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.firebase.functions.FirebaseFunctions;\nimport com.google.firebase.functions.HttpsCallableResult;\n\npublic class Directionsmanager {\n\n    private FirebaseFunctions mFunctions;\n    public Directionsmanager() {\n        mFunctions = FirebaseFunctions.getInstance();\n    }\n    public void getTravelTime(String startLocation, String endLocation, final OnTravelTimeListener listener) {\n\n        Calendar calendar = Calendar.getInstance();\n        int dayOfWeek = calendar.get(Calendar.DAY_OF_WEEK);\n\n\n        if (dayOfWeek &gt;= Calendar.MONDAY &amp;&amp; dayOfWeek &lt;= Calendar.FRIDAY) {\n\n            Map&lt;String, Object&gt; data = new HashMap&lt;&gt;();\n            data.put(&quot;startLocation&quot;, startLocation);\n            data.put(&quot;endLocation&quot;, endLocation);\n            data.put(&quot;mode&quot;, &quot;transit&quot;);\n\n\n            calendar.set(Calendar.HOUR_OF_DAY, 9);\n            calendar.set(Calendar.MINUTE, 0);\n            calendar.set(Calendar.SECOND, 0);\n\n\n            if (calendar.getTimeInMillis() &lt; System.currentTimeMillis()) {\n                calendar.add(Calendar.DAY_OF_MONTH, 1);\n            }\n\n\n            data.put(&quot;arriveByTime&quot;, calendar.getTimeInMillis());\n\n\n            mFunctions.getHttpsCallable(&quot;getTravelTime&quot;)\n                    .call(data)\n                    .addOnSuccessListener(new OnSuccessListener&lt;HttpsCallableResult&gt;() {\n                        @Override\n                        public void onSuccess(HttpsCallableResult httpsCallableResult) {\n                            // Handle the result\n                            String travelTime = (String) httpsCallableResult.getData();\n                            listener.onTravelTimeReceived(travelTime);\n                        }\n                    });\n        } else {\n\n            listener.onTravelTimeReceived(&quot;No action on weekends&quot;);\n\n        }\n    }\n\n    public interface OnTravelTimeListener {\n        void onTravelTimeReceived(String travelTime);\n    }\n}\n\n</code></pre>\n<p>I expected once I press the confirm button, it will pass the database values to Directions manager and once that runs and its returns a value it will change to a different activity. Currently  At first I thought that maybe the gridle file was incorrect in regards to versions and version compatibility but it was fine. if you need to see the function thats responsible for changing activity pls let me know. Theres a bit more code before the activity can change but Im not sure if its this part of the code or the function that is responsible for changing activity is the issue.\nThanks for the help</p>\n"},{"tags":["java","eclipse","eclipse-plugin"],"comments":[{"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"score":1,"creation_date":1364373426,"post_id":15654475,"comment_id":22215710,"body_markdown":"What about [grepcode](http://grepcode.com/file/repository.grepcode.com/java/eclipse.org/3.6/org.eclipse.debug/core/3.6.0/org/eclipse/debug/core/model/IProcess.java?av=f)?","body":"What about <a href=\"http://grepcode.com/file/repository.grepcode.com/java/eclipse.org/3.6/org.eclipse.debug/core/3.6.0/org/eclipse/debug/core/model/IProcess.java?av=f\" rel=\"nofollow noreferrer\">grepcode</a>?"},{"owner":{"account_id":454126,"reputation":59224,"user_id":851498,"accept_rate":90,"display_name":"Florian Margaine"},"score":0,"creation_date":1364373445,"post_id":15654475,"comment_id":22215717,"body_markdown":"From deleted answer: http://www.eclipse.org/forums/index.php?t=rview&amp;goto=1011083","body":"From deleted answer: <a href=\"http://www.eclipse.org/forums/index.php?t=rview&amp;goto=1011083\" rel=\"nofollow noreferrer\">eclipse.org/forums/index.php?t=rview&amp;goto=1011083</a>"},{"owner":{"account_id":9540,"reputation":25169,"user_id":17675,"accept_rate":81,"display_name":"Zombies"},"score":0,"creation_date":1364374333,"post_id":15654475,"comment_id":22216080,"body_markdown":"@Keppil I think grepcode is the best solution for those who want to look at the code, as opposed to run it. So I think that is the best answer.","body":"@Keppil I think grepcode is the best solution for those who want to look at the code, as opposed to run it. So I think that is the best answer."},{"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"score":0,"creation_date":1364374630,"post_id":15654475,"comment_id":22216212,"body_markdown":"@Zombies: Added it as an answer.","body":"@Zombies: Added it as an answer."}],"answers":[{"tags":[],"owner":{"account_id":9540,"reputation":25169,"user_id":17675,"accept_rate":81,"display_name":"Zombies"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1364374084,"creation_date":1364373466,"answer_id":15654623,"question_id":15654475,"body_markdown":"I found it, the tricky part was there are so many repos just listed there on their git repo page (http://git.eclipse.org/c/), you kind of have to inspect each page, it is listed under the category &quot;platform&quot;, as opposed to all the plugin ID&#39;s being listed in alphabetic order:\r\n\r\nFor org.eclipse.debug.core (where IProcess is), it is here:\r\n\r\nhttp://git.eclipse.org/c/platform/eclipse.platform.debug.git/tree/org.eclipse.debug.core","title":"How to download Eclipse&#39;s Source code?","body":"<p>I found it, the tricky part was there are so many repos just listed there on their git repo page (<a href=\"http://git.eclipse.org/c/\" rel=\"noreferrer\">http://git.eclipse.org/c/</a>), you kind of have to inspect each page, it is listed under the category \"platform\", as opposed to all the plugin ID's being listed in alphabetic order:</p>\n\n<p>For org.eclipse.debug.core (where IProcess is), it is here:</p>\n\n<p><a href=\"http://git.eclipse.org/c/platform/eclipse.platform.debug.git/tree/org.eclipse.debug.core\" rel=\"noreferrer\">http://git.eclipse.org/c/platform/eclipse.platform.debug.git/tree/org.eclipse.debug.core</a></p>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1364373581,"creation_date":1364373581,"answer_id":15654653,"question_id":15654475,"body_markdown":"Depending on your needs, [The Eclipse Common Build Infrastructure][1] (CBI) might help.\r\n\r\nThe CBI project has converted Eclipse into a Tycho project which means you can [get all the sources and compile them into a working Eclipse build][2] with 2-3 commands.\r\n\r\n\r\n  [1]: http://wiki.eclipse.org/CBI\r\n  [2]: http://wiki.eclipse.org/Platform-releng/Platform_Build","title":"How to download Eclipse&#39;s Source code?","body":"<p>Depending on your needs, <a href=\"http://wiki.eclipse.org/CBI\" rel=\"noreferrer\">The Eclipse Common Build Infrastructure</a> (CBI) might help.</p>\n\n<p>The CBI project has converted Eclipse into a Tycho project which means you can <a href=\"http://wiki.eclipse.org/Platform-releng/Platform_Build\" rel=\"noreferrer\">get all the sources and compile them into a working Eclipse build</a> with 2-3 commands.</p>\n"},{"tags":[],"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364374479,"creation_date":1364374479,"answer_id":15654889,"question_id":15654475,"body_markdown":"If you just want to look at the code you can always use [GrepCode][1].  \r\n\r\nFor example, the Eclipse 4.2 version of the class you ask for is found here: [IProcess.java][2].\r\n\r\n\r\n  [1]: http://grepcode.com/\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/eclipse.org/4.2/org.eclipse.debug/core/3.7.100/org/eclipse/debug/core/model/IProcess.java","title":"How to download Eclipse&#39;s Source code?","body":"<p>If you just want to look at the code you can always use <a href=\"http://grepcode.com/\" rel=\"nofollow\">GrepCode</a>.  </p>\n\n<p>For example, the Eclipse 4.2 version of the class you ask for is found here: <a href=\"http://grepcode.com/file/repository.grepcode.com/java/eclipse.org/4.2/org.eclipse.debug/core/3.7.100/org/eclipse/debug/core/model/IProcess.java\" rel=\"nofollow\">IProcess.java</a>.</p>\n"},{"tags":[],"owner":{"account_id":1144833,"reputation":7270,"user_id":1127843,"accept_rate":86,"display_name":"kayz1"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1364380647,"creation_date":1364380647,"answer_id":15656801,"question_id":15654475,"body_markdown":"You can also check this fresh presentation by Lars Vogel :) [How to become an Eclipse committer in 20 minutes and fork the IDE][1]\r\n\r\n\r\n  [1]: http://www.slideshare.net/LarsVogel/eclipse-committerin20minutes","title":"How to download Eclipse&#39;s Source code?","body":"<p>You can also check this fresh presentation by Lars Vogel :) <a href=\"http://www.slideshare.net/LarsVogel/eclipse-committerin20minutes\" rel=\"noreferrer\">How to become an Eclipse committer in 20 minutes and fork the IDE</a></p>\n"},{"tags":[],"owner":{"account_id":3032157,"reputation":40021,"user_id":4561887,"accept_rate":73,"display_name":"Gabriel Staples"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627529359,"creation_date":1627529359,"answer_id":68569688,"question_id":15654475,"body_markdown":"Using [this link][1] (see the &quot;Building&quot; and &quot;cloning platform source tree&quot; sections) from [@Aaron Digulla here][2], this appears to be the way to download all Eclipse source code. I actually ran these instructions and they seem to work. I think this is everything. \r\n\r\n```bash\r\n# 1 .Clone the whole repo, including all submodules (sub-repos)\r\ngit clone -b master --recursive \\\r\ngit://git.eclipse.org/gitroot/platform/eclipse.platform.releng.aggregator.git\r\n```\r\nThe clone process above took me about 30 minutes and downloaded 3.9 GB of stuff. \r\n\r\n```bash\r\n# 2. To update the git clone above, including all submodules\r\ncd eclipse.platform.releng.aggregator\r\ngit pull --recurse-submodules\r\ngit submodule update\r\n```\r\n\r\nThat&#39;s it! That appears to be everything (I think). Here is what I see in the first level of the &quot;eclipse.platform.releng.aggregator&quot; folder I just cloned now:\r\n\r\n```\r\neclipse.platform.releng.aggregator$ tree -L 1\r\n.\r\n├── cje-production\r\n├── CONTRIBUTING\r\n├── eclipse.jdt\r\n├── eclipse.jdt.core\r\n├── eclipse.jdt.core.binaries\r\n├── eclipse.jdt.debug\r\n├── eclipse.jdt.ui\r\n├── eclipse.pde.build\r\n├── eclipse.pde.ui\r\n├── eclipse.platform\r\n├── eclipse.platform.common\r\n├── eclipse.platform.debug\r\n├── eclipse-platform-parent\r\n├── eclipse.platform.releng\r\n├── eclipse.platform.releng.prereqs.sdk\r\n├── eclipse.platform.releng.tychoeclipsebuilder\r\n├── eclipse.platform.resources\r\n├── eclipse.platform.runtime\r\n├── eclipse-platform-sources\r\n├── eclipse.platform.swt\r\n├── eclipse.platform.swt.binaries\r\n├── eclipse.platform.team\r\n├── eclipse.platform.text\r\n├── eclipse.platform.ua\r\n├── eclipse.platform.ui\r\n├── eclipse.platform.ui.tools\r\n├── Jenkinsfile\r\n├── JenkinsJobs\r\n├── LICENSE\r\n├── NOTICE\r\n├── pom.xml\r\n├── production\r\n├── README.md\r\n├── rt.equinox.binaries\r\n├── rt.equinox.bundles\r\n├── rt.equinox.framework\r\n├── rt.equinox.p2\r\n└── scripts\r\n\r\n32 directories, 6 files\r\n```\r\n\r\n\r\n  [1]: https://wiki.eclipse.org/Platform-releng/Platform_Build#Building\r\n  [2]: https://stackoverflow.com/a/15654653/4561887","title":"How to download Eclipse&#39;s Source code?","body":"<p>Using <a href=\"https://wiki.eclipse.org/Platform-releng/Platform_Build#Building\" rel=\"nofollow noreferrer\">this link</a> (see the &quot;Building&quot; and &quot;cloning platform source tree&quot; sections) from <a href=\"https://stackoverflow.com/a/15654653/4561887\">@Aaron Digulla here</a>, this appears to be the way to download all Eclipse source code. I actually ran these instructions and they seem to work. I think this is everything.</p>\n<pre class=\"lang-sh prettyprint-override\"><code># 1 .Clone the whole repo, including all submodules (sub-repos)\ngit clone -b master --recursive \\\ngit://git.eclipse.org/gitroot/platform/eclipse.platform.releng.aggregator.git\n</code></pre>\n<p>The clone process above took me about 30 minutes and downloaded 3.9 GB of stuff.</p>\n<pre class=\"lang-sh prettyprint-override\"><code># 2. To update the git clone above, including all submodules\ncd eclipse.platform.releng.aggregator\ngit pull --recurse-submodules\ngit submodule update\n</code></pre>\n<p>That's it! That appears to be everything (I think). Here is what I see in the first level of the &quot;eclipse.platform.releng.aggregator&quot; folder I just cloned now:</p>\n<pre><code>eclipse.platform.releng.aggregator$ tree -L 1\n.\n├── cje-production\n├── CONTRIBUTING\n├── eclipse.jdt\n├── eclipse.jdt.core\n├── eclipse.jdt.core.binaries\n├── eclipse.jdt.debug\n├── eclipse.jdt.ui\n├── eclipse.pde.build\n├── eclipse.pde.ui\n├── eclipse.platform\n├── eclipse.platform.common\n├── eclipse.platform.debug\n├── eclipse-platform-parent\n├── eclipse.platform.releng\n├── eclipse.platform.releng.prereqs.sdk\n├── eclipse.platform.releng.tychoeclipsebuilder\n├── eclipse.platform.resources\n├── eclipse.platform.runtime\n├── eclipse-platform-sources\n├── eclipse.platform.swt\n├── eclipse.platform.swt.binaries\n├── eclipse.platform.team\n├── eclipse.platform.text\n├── eclipse.platform.ua\n├── eclipse.platform.ui\n├── eclipse.platform.ui.tools\n├── Jenkinsfile\n├── JenkinsJobs\n├── LICENSE\n├── NOTICE\n├── pom.xml\n├── production\n├── README.md\n├── rt.equinox.binaries\n├── rt.equinox.bundles\n├── rt.equinox.framework\n├── rt.equinox.p2\n└── scripts\n\n32 directories, 6 files\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5448686,"reputation":6798,"user_id":4573839,"accept_rate":89,"display_name":"yu yang Jian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689138026,"creation_date":1689138026,"answer_id":76667263,"question_id":15654475,"body_markdown":"[Eclipse Platform SDK Provisioning](https://wiki.eclipse.org/Eclipse_Platform_SDK_Provisioning) works, after  Eclipse Updater completed, it could run and debug eclipse, breakpoint also works.\r\n\r\nFor example, set breakpoint in `NewProjectAction.java` `NewProjectAction()` and `run()` method, when click `File &gt; New &gt; Project`, it pause at breakpoint.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WjMSN.png","title":"How to download Eclipse&#39;s Source code?","body":"<p><a href=\"https://wiki.eclipse.org/Eclipse_Platform_SDK_Provisioning\" rel=\"nofollow noreferrer\">Eclipse Platform SDK Provisioning</a> works, after  Eclipse Updater completed, it could run and debug eclipse, breakpoint also works.</p>\n<p>For example, set breakpoint in <code>NewProjectAction.java</code> <code>NewProjectAction()</code> and <code>run()</code> method, when click <code>File &gt; New &gt; Project</code>, it pause at breakpoint.</p>\n<p><a href=\"https://i.stack.imgur.com/WjMSN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WjMSN.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9540,"reputation":25169,"user_id":17675,"accept_rate":81,"display_name":"Zombies"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21682,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":15654623,"answer_count":6,"score":16,"last_activity_date":1689138026,"creation_date":1364372895,"question_id":15654475,"body_markdown":"After spending awhile (their wiki pages for CSV access are no longer valid, the password provided does not work) and their SVN repositories do not contain the code to Eclipse IDE or the core plugins. The same problem also appears to apply to their GIT repositories. In particular I am looking for the source code of this *core* plugin class (not even java specific): \r\n\r\nplugin: org.eclipse.debug.core\r\n\r\nclass: org.eclipse.debug.core.model.IProcess\r\n\r\nFinally, I also tried to import the plugin as a fragment with source directory. There is no packaged source file. My last option is to decompile the class files, but please tell me there is a better repository I can access with read only permission? Again their wiki is either outdated or not pointing me to the core code but other project repos.","title":"How to download Eclipse&#39;s Source code?","body":"<p>After spending awhile (their wiki pages for CSV access are no longer valid, the password provided does not work) and their SVN repositories do not contain the code to Eclipse IDE or the core plugins. The same problem also appears to apply to their GIT repositories. In particular I am looking for the source code of this <em>core</em> plugin class (not even java specific): </p>\n\n<p>plugin: org.eclipse.debug.core</p>\n\n<p>class: org.eclipse.debug.core.model.IProcess</p>\n\n<p>Finally, I also tried to import the plugin as a fragment with source directory. There is no packaged source file. My last option is to decompile the class files, but please tell me there is a better repository I can access with read only permission? Again their wiki is either outdated or not pointing me to the core code but other project repos.</p>\n"},{"tags":["java","arrays","average","sub-array"],"answers":[{"tags":[],"owner":{"account_id":21964729,"reputation":1798,"user_id":16242139,"display_name":"Zero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689077437,"creation_date":1689077437,"answer_id":76661841,"question_id":76660197,"body_markdown":"You need move \r\n\r\n    max = Math.max(max, s);\r\n\r\n out of the inner loop, so that it takes the max sum of the entire window of `k` numbers. Putting it inside will fail if windows have any trailing negative values.\r\n\r\nAlso, reset `s` to 0 with each window check.\r\n\r\nFinal code will be\r\n\r\n    class Solution {\r\n        public double findMaxAverage(int[] nums, int k) {\r\n            int n = nums.length;\r\n            double s = 0;\r\n            double max = Integer.MIN_VALUE;\r\n    \r\n            if (n == 1){\r\n                max = Double.valueOf(nums[0]);\r\n            } else{\r\n                for(int i = 0; i &lt; n-k; i++){\r\n                    s = 0;\r\n                    for(int j = i; j &lt; i+k; j++){\r\n                        s += nums[j]; \r\n                    }\r\n                    max = Math.max(max, s);\r\n                }\r\n            }\r\n    \r\n            return max/k;\r\n        }\r\n    }\r\n\r\nThis code is passing LeetCode testcases.","title":"Leetcode 643. Maximum Average Subarray I","body":"<p>You need move</p>\n<pre><code>max = Math.max(max, s);\n</code></pre>\n<p>out of the inner loop, so that it takes the max sum of the entire window of <code>k</code> numbers. Putting it inside will fail if windows have any trailing negative values.</p>\n<p>Also, reset <code>s</code> to 0 with each window check.</p>\n<p>Final code will be</p>\n<pre><code>class Solution {\n    public double findMaxAverage(int[] nums, int k) {\n        int n = nums.length;\n        double s = 0;\n        double max = Integer.MIN_VALUE;\n\n        if (n == 1){\n            max = Double.valueOf(nums[0]);\n        } else{\n            for(int i = 0; i &lt; n-k; i++){\n                s = 0;\n                for(int j = i; j &lt; i+k; j++){\n                    s += nums[j]; \n                }\n                max = Math.max(max, s);\n            }\n        }\n\n        return max/k;\n    }\n}\n</code></pre>\n<p>This code is passing LeetCode testcases.</p>\n"},{"tags":[],"owner":{"account_id":17080101,"reputation":93,"user_id":12358700,"display_name":"Jesse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689137910,"creation_date":1689137116,"answer_id":76667211,"question_id":76660197,"body_markdown":"## Fixed the solution\r\nHere are the issues with the provided solution:\r\n\r\n1. The inner loop&#39;s iteration condition is incorrect. It should be `j &lt;= i + k - 1` instead of `j &lt; i + k - 1`. The original condition causes the loop to terminate one index before the desired subarray length.\r\n\r\n2. The accumulation of the sum (`s`) is not reset correctly within each iteration of the outer loop. Currently, the sum keeps accumulating from the previous subarray, leading to incorrect results. The `s` variable should be reset to 0 at the beginning of each outer loop iteration.\r\n\r\n3. The maximum value (`max`) is not being calculated correctly. The current implementation compares the cumulative sum (`s`) with the maximum value (`max`) within the inner loop, which results in incorrect values. Instead, the maximum value should be updated after each subarray&#39;s sum is calculated, not within the inner loop.\r\n\r\nHere&#39;s the corrected code:\r\n\r\n```Java\r\nclass Solution {\r\n    public double findMaxAverage(int[] nums, int k) {\r\n        int n = nums.length;\r\n        double max = Integer.MIN_VALUE;\r\n\r\n        if (n == 1) {\r\n            max = Double.valueOf(nums[0]);\r\n        } else {\r\n            for (int i = 0; i &lt;= n - k; i++) {\r\n                double s = 0;\r\n                for (int j = i; j &lt;= i + k - 1; j++) {\r\n                    s += nums[j];\r\n                }\r\n                max = Math.max(max, s);\r\n            }\r\n        }\r\n        return max / k;\r\n    }\r\n}\r\n```\r\n\r\nWith these corrections, the solution should correctly calculate and return the maximum average value.\r\n\r\n## Optimization\r\nDue to the time complexity issue of the previous code, which was `O(n^2)` and resulted in **exceeding the time limit**, it was necessary to optimize it using the sliding window technique to achieve a time complexity of `O(n)`. Here&#39;s the optimized code:\r\n\r\n```Java\r\nclass Solution {\r\n    public double findMaxAverage(int[] nums, int k) {\r\n        int n = nums.length;\r\n        int maxSubSum = Integer.MIN_VALUE;\r\n        int currentSubSum = 0;\r\n        int l = 0;\r\n        int r = 0;\r\n        while (l + k - 1 &lt; n) {\r\n            while (r - l + 1 &lt;= k) {\r\n                currentSubSum += nums[r];\r\n                r++;\r\n            }\r\n            maxSubSum = Math.max(maxSubSum, currentSubSum);\r\n            currentSubSum -= nums[l];\r\n            l++;\r\n        }\r\n        return (double) maxSubSum / k;\r\n    }\r\n}\r\n```\r\n\r\n## The explanation of the optimized solution\r\n\r\nHere&#39;s the explanation of the optimized solution with a time complexity of `O(n)`:\r\n\r\nThe optimized solution uses a sliding window technique to find the maximum subarray sum. Here&#39;s how it works:\r\n\r\n1. Initialize the variables `maxSubSum` and `currentSubSum` to track the maximum subarray sum and the sum of the current subarray, respectively. Set `maxSubSum` to `Integer.MIN_VALUE` to ensure correct initialization.\r\n\r\n2. Initialize two pointers, `l` and `r`, representing the left and right boundaries of the subarray.\r\n\r\n3. While the right boundary `r` is within the array bounds and while the subarray length `(r - l + 1)` is less than or equal to `k`, perform the following steps:\r\n\r\n   - Add the element at the right boundary (`nums[r]`) to the `currentSubSum`.\r\n   - Increment the right boundary `r`.\r\n\r\n4. Once the subarray length exceeds `k`, update the `maxSubSum` by comparing it with the `currentSubSum`. Take the maximum of the two values.\r\n\r\n5. Subtract the element at the left boundary (`nums[l]`) from the `currentSubSum` and increment the left boundary `l`.\r\n\r\n6. Repeat steps 3 to 5 until the left boundary `l` reaches the end of the array.\r\n\r\n7. Finally, return the maximum subarray sum (`maxSubSum`) divided by `k` as the maximum average value.\r\n\r\nThis optimized solution avoids unnecessary recalculations by using a sliding window approach, reducing the time complexity to `O(n)`.","title":"Leetcode 643. Maximum Average Subarray I","body":"<h2>Fixed the solution</h2>\n<p>Here are the issues with the provided solution:</p>\n<ol>\n<li><p>The inner loop's iteration condition is incorrect. It should be <code>j &lt;= i + k - 1</code> instead of <code>j &lt; i + k - 1</code>. The original condition causes the loop to terminate one index before the desired subarray length.</p>\n</li>\n<li><p>The accumulation of the sum (<code>s</code>) is not reset correctly within each iteration of the outer loop. Currently, the sum keeps accumulating from the previous subarray, leading to incorrect results. The <code>s</code> variable should be reset to 0 at the beginning of each outer loop iteration.</p>\n</li>\n<li><p>The maximum value (<code>max</code>) is not being calculated correctly. The current implementation compares the cumulative sum (<code>s</code>) with the maximum value (<code>max</code>) within the inner loop, which results in incorrect values. Instead, the maximum value should be updated after each subarray's sum is calculated, not within the inner loop.</p>\n</li>\n</ol>\n<p>Here's the corrected code:</p>\n<pre><code>class Solution {\n    public double findMaxAverage(int[] nums, int k) {\n        int n = nums.length;\n        double max = Integer.MIN_VALUE;\n\n        if (n == 1) {\n            max = Double.valueOf(nums[0]);\n        } else {\n            for (int i = 0; i &lt;= n - k; i++) {\n                double s = 0;\n                for (int j = i; j &lt;= i + k - 1; j++) {\n                    s += nums[j];\n                }\n                max = Math.max(max, s);\n            }\n        }\n        return max / k;\n    }\n}\n</code></pre>\n<p>With these corrections, the solution should correctly calculate and return the maximum average value.</p>\n<h2>Optimization</h2>\n<p>Due to the time complexity issue of the previous code, which was <code>O(n^2)</code> and resulted in <strong>exceeding the time limit</strong>, it was necessary to optimize it using the sliding window technique to achieve a time complexity of <code>O(n)</code>. Here's the optimized code:</p>\n<pre><code>class Solution {\n    public double findMaxAverage(int[] nums, int k) {\n        int n = nums.length;\n        int maxSubSum = Integer.MIN_VALUE;\n        int currentSubSum = 0;\n        int l = 0;\n        int r = 0;\n        while (l + k - 1 &lt; n) {\n            while (r - l + 1 &lt;= k) {\n                currentSubSum += nums[r];\n                r++;\n            }\n            maxSubSum = Math.max(maxSubSum, currentSubSum);\n            currentSubSum -= nums[l];\n            l++;\n        }\n        return (double) maxSubSum / k;\n    }\n}\n</code></pre>\n<h2>The explanation of the optimized solution</h2>\n<p>Here's the explanation of the optimized solution with a time complexity of <code>O(n)</code>:</p>\n<p>The optimized solution uses a sliding window technique to find the maximum subarray sum. Here's how it works:</p>\n<ol>\n<li><p>Initialize the variables <code>maxSubSum</code> and <code>currentSubSum</code> to track the maximum subarray sum and the sum of the current subarray, respectively. Set <code>maxSubSum</code> to <code>Integer.MIN_VALUE</code> to ensure correct initialization.</p>\n</li>\n<li><p>Initialize two pointers, <code>l</code> and <code>r</code>, representing the left and right boundaries of the subarray.</p>\n</li>\n<li><p>While the right boundary <code>r</code> is within the array bounds and while the subarray length <code>(r - l + 1)</code> is less than or equal to <code>k</code>, perform the following steps:</p>\n<ul>\n<li>Add the element at the right boundary (<code>nums[r]</code>) to the <code>currentSubSum</code>.</li>\n<li>Increment the right boundary <code>r</code>.</li>\n</ul>\n</li>\n<li><p>Once the subarray length exceeds <code>k</code>, update the <code>maxSubSum</code> by comparing it with the <code>currentSubSum</code>. Take the maximum of the two values.</p>\n</li>\n<li><p>Subtract the element at the left boundary (<code>nums[l]</code>) from the <code>currentSubSum</code> and increment the left boundary <code>l</code>.</p>\n</li>\n<li><p>Repeat steps 3 to 5 until the left boundary <code>l</code> reaches the end of the array.</p>\n</li>\n<li><p>Finally, return the maximum subarray sum (<code>maxSubSum</code>) divided by <code>k</code> as the maximum average value.</p>\n</li>\n</ol>\n<p>This optimized solution avoids unnecessary recalculations by using a sliding window approach, reducing the time complexity to <code>O(n)</code>.</p>\n"}],"owner":{"account_id":28993019,"reputation":3,"user_id":22208308,"display_name":"Gargi "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76667211,"answer_count":2,"score":0,"last_activity_date":1689137910,"creation_date":1689065503,"question_id":76660197,"body_markdown":"Question - You are given an integer array nums consisting of n elements, and an integer k.Find a contiguous subarray whose length is equal to k that has the maximum average value and return this value.\r\nTest Case- nums = \\[1,12,-5,-6,50,3\\], k = 4\r\n\r\nThe answer I am getting is 12.00000 instead of 12.75000. This happens every time there a max value that is not completely divisible by k. Can someone tell me why?\r\n\r\nHere&#39;s my solution:\r\n\r\n```java\r\nclass Solution {\r\n    public double findMaxAverage(int[] nums, int k) {\r\n        int n = nums.length;\r\n        double s = 0;\r\n        double max = Integer.MIN_VALUE;\r\n\r\n        if (n == 1){\r\n            max = Double.valueOf(nums[0]);\r\n        } \r\n        else {\r\n            for (int i = 0; i &lt;= n-k; i++){\r\n                for(int j = i; j &lt; i+k-1; j++){\r\n                    s += nums[j]; \r\n                    max = Math.max(max, s);\r\n                }\r\n            }\r\n        }\r\n        return max/k;\r\n    }\r\n}\r\n```\r\n","title":"Leetcode 643. Maximum Average Subarray I","body":"<p>Question - You are given an integer array nums consisting of n elements, and an integer k.Find a contiguous subarray whose length is equal to k that has the maximum average value and return this value.\nTest Case- nums = [1,12,-5,-6,50,3], k = 4</p>\n<p>The answer I am getting is 12.00000 instead of 12.75000. This happens every time there a max value that is not completely divisible by k. Can someone tell me why?</p>\n<p>Here's my solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    public double findMaxAverage(int[] nums, int k) {\n        int n = nums.length;\n        double s = 0;\n        double max = Integer.MIN_VALUE;\n\n        if (n == 1){\n            max = Double.valueOf(nums[0]);\n        } \n        else {\n            for (int i = 0; i &lt;= n-k; i++){\n                for(int j = i; j &lt; i+k-1; j++){\n                    s += nums[j]; \n                    max = Math.max(max, s);\n                }\n            }\n        }\n        return max/k;\n    }\n}\n</code></pre>\n"},{"tags":["java","string","character","space"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":3,"creation_date":1688137093,"post_id":76590049,"comment_id":135037984,"body_markdown":"Don&#39;t try to replace anything. Think of it as building a new string from scratch.","body":"Don&#39;t try to replace anything. Think of it as building a new string from scratch."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1688137223,"post_id":76590049,"comment_id":135038008,"body_markdown":"Also I recommend using better variable names, using `a` `b` `c` and `d` is a nightmare for anyone trying to figure out the code, including yourself.","body":"Also I recommend using better variable names, using <code>a</code> <code>b</code> <code>c</code> and <code>d</code> is a nightmare for anyone trying to figure out the code, including yourself."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1688137810,"post_id":76590049,"comment_id":135038130,"body_markdown":"You are setting your variables `String c` and `String d` redundantly many times. Setting a value only to immediately discard it and setting it to something else makes little sense. Having empty else blocks like `else;` also isn&#39;t really doing much except bloating your code. Removing some of the unnecessary code your code already becomes much more compact. And if you just get rid if the pointless char variables and instead directly work from building up an empty String you&#39;ll also get the result you want:  https://ideone.com/skH6BO","body":"You are setting your variables <code>String c</code> and <code>String d</code> redundantly many times. Setting a value only to immediately discard it and setting it to something else makes little sense. Having empty else blocks like <code>else;</code> also isn&#39;t really doing much except bloating your code. Removing some of the unnecessary code your code already becomes much more compact. And if you just get rid if the pointless char variables and instead directly work from building up an empty String you&#39;ll also get the result you want:  <a href=\"https://ideone.com/skH6BO\" rel=\"nofollow noreferrer\">ideone.com/skH6BO</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688138894,"post_id":76590049,"comment_id":135038351,"body_markdown":"I&#39;m not sure if I fully understand the objective, but would it be met with `str = str.replaceAll(&quot;^oz.*&quot;, &quot;oz&quot;);`? (Not that I&#39;m saying you should do it like that)","body":"I&#39;m not sure if I fully understand the objective, but would it be met with <code>str = str.replaceAll(&quot;^oz.*&quot;, &quot;oz&quot;);</code>? (Not that I&#39;m saying you should do it like that)"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1688139439,"post_id":76590049,"comment_id":135038487,"body_markdown":"@g00se no. `startOz(&quot;open&quot;)` should return `&quot;o&quot;` and `startOz(&quot;azimuth&quot;)` should return `&quot;z&quot;`. That is, if I understand OP correctly.","body":"@g00se no. <code>startOz(&quot;open&quot;)</code> should return <code>&quot;o&quot;</code> and <code>startOz(&quot;azimuth&quot;)</code> should return <code>&quot;z&quot;</code>. That is, if I understand OP correctly."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1688139588,"post_id":76590049,"comment_id":135038520,"body_markdown":"`return ((str.length() &gt; 0 &amp;&amp; str.charAt(0) == &#39;o&#39;) ? &quot;o&quot; : &quot;&quot;) + ((str.length() &gt; 1 &amp;&amp; str.charAt(1) == &#39;z&#39;) ? &quot;z&quot; : &quot;&quot;);`?","body":"<code>return ((str.length() &gt; 0 &amp;&amp; str.charAt(0) == &#39;o&#39;) ? &quot;o&quot; : &quot;&quot;) + ((str.length() &gt; 1 &amp;&amp; str.charAt(1) == &#39;z&#39;) ? &quot;z&quot; : &quot;&quot;);</code>?"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1688200950,"post_id":76590049,"comment_id":135044600,"body_markdown":"Related: [Why is String immutable in Java?](https://stackoverflow.com/questions/22397861/why-is-string-immutable-in-java)","body":"Related: <a href=\"https://stackoverflow.com/questions/22397861/why-is-string-immutable-in-java\">Why is String immutable in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688161445,"creation_date":1688161445,"answer_id":76592365,"question_id":76590049,"body_markdown":"To **achieve** the desired behavior without using empty strings, null characters, Unicode characters, or minimum values, you can **modify** your code as follows:\r\n\r\n    public String startOz(String str) {\r\n      String result = &quot;&quot;;\r\n    \r\n      if (str.length() &gt;= 1 &amp;&amp; str.charAt(0) == &#39;o&#39;) {\r\n        result += str.charAt(0);\r\n      }\r\n    \r\n      if (str.length() &gt;= 2 &amp;&amp; str.charAt(1) == &#39;z&#39;) {\r\n        result += str.charAt(1);\r\n      }\r\n    \r\n      return result;\r\n    }\r\n\r\n","title":"How do I delete the space character?","body":"<p>To <strong>achieve</strong> the desired behavior without using empty strings, null characters, Unicode characters, or minimum values, you can <strong>modify</strong> your code as follows:</p>\n<pre><code>public String startOz(String str) {\n  String result = &quot;&quot;;\n\n  if (str.length() &gt;= 1 &amp;&amp; str.charAt(0) == 'o') {\n    result += str.charAt(0);\n  }\n\n  if (str.length() &gt;= 2 &amp;&amp; str.charAt(1) == 'z') {\n    result += str.charAt(1);\n  }\n\n  return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689137104,"creation_date":1689137104,"answer_id":76667209,"question_id":76590049,"body_markdown":"&gt; _&quot;... I&#39;m trying to find out how to make the characters empty strings ...&quot;_\r\n\r\nYou can&#39;t, you&#39;ll need to use a _String_ value.\r\n\r\nYou are implying the following.&amp;nbsp; Which is a syntax error.\r\n\r\n```java\r\nchar a = &#39;&#39;;\r\n```\r\n\r\nIt&#39;s because the _char_ is a primitive data-type, thus it requires a value.\r\n\r\nWhenever I run into this situation, I switch to a _String_ value.","title":"How do I delete the space character?","body":"<blockquote>\n<p><em>&quot;... I'm trying to find out how to make the characters empty strings ...&quot;</em></p>\n</blockquote>\n<p>You can't, you'll need to use a <em>String</em> value.</p>\n<p>You are implying the following.  Which is a syntax error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>char a = '';\n</code></pre>\n<p>It's because the <em>char</em> is a primitive data-type, thus it requires a value.</p>\n<p>Whenever I run into this situation, I switch to a <em>String</em> value.</p>\n"}],"owner":{"account_id":28251150,"reputation":1,"user_id":21597386,"display_name":"hasansabbath71"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689137104,"creation_date":1688136848,"question_id":76590049,"body_markdown":"&gt; Given a string, return a string made of the first two characters (if present), however include the first character only if it is &#39;o&#39; and include the second only if it is &#39;z&#39;, so &quot;ozymandias&quot; yields &quot;oz&quot;.\r\n\r\nis the question I&#39;m trying to solve. I can&#39;t change characters to be empty strings. I know the code is messy, but I&#39;m trying to find out how to make the characters empty strings without using null character, Unicode, or min_value, etc. How do I do it?\r\n\r\n    public String startOz(String str) {\r\n      char a = &#39; &#39;;\r\n      char b = &#39; &#39;;\r\n      String c = &quot;&quot;;\r\n      String d =&quot;&quot;;\r\n      if(str.length() &lt;= 1){\r\n        if(str.length() == 0){\r\n          return &quot;&quot;;\r\n        }\r\n        else\r\n          if(str.charAt(0) == &#39;o&#39;){\r\n            return str;\r\n          }\r\n          else;\r\n            return &quot;&quot;;\r\n\r\n      }\r\n      else{\r\n\r\n        if(str.charAt(0) == &#39;o&#39;){\r\n          a = &#39;o&#39;;\r\n          c = Character.toString(a);\r\n        }\r\n        else;\r\n          c = Character.toString(a);\r\n          c = c.substring(1);\r\n        if(str.charAt(1) == &#39;z&#39;){\r\n          b = &#39;z&#39;;\r\n          d = Character.toString(b);\r\n        }\r\n        else;\r\n          d = Character.toString(b);\r\n          d = d.substring(1);\r\n\r\n        c = Character.toString(a);\r\n        d = Character.toString(b);\r\n        return c + d;\r\n      }\r\n    }\r\n\r\n\r\n\r\n","title":"How do I delete the space character?","body":"<blockquote>\n<p>Given a string, return a string made of the first two characters (if present), however include the first character only if it is 'o' and include the second only if it is 'z', so &quot;ozymandias&quot; yields &quot;oz&quot;.</p>\n</blockquote>\n<p>is the question I'm trying to solve. I can't change characters to be empty strings. I know the code is messy, but I'm trying to find out how to make the characters empty strings without using null character, Unicode, or min_value, etc. How do I do it?</p>\n<pre><code>public String startOz(String str) {\n  char a = ' ';\n  char b = ' ';\n  String c = &quot;&quot;;\n  String d =&quot;&quot;;\n  if(str.length() &lt;= 1){\n    if(str.length() == 0){\n      return &quot;&quot;;\n    }\n    else\n      if(str.charAt(0) == 'o'){\n        return str;\n      }\n      else;\n        return &quot;&quot;;\n\n  }\n  else{\n\n    if(str.charAt(0) == 'o'){\n      a = 'o';\n      c = Character.toString(a);\n    }\n    else;\n      c = Character.toString(a);\n      c = c.substring(1);\n    if(str.charAt(1) == 'z'){\n      b = 'z';\n      d = Character.toString(b);\n    }\n    else;\n      d = Character.toString(b);\n      d = d.substring(1);\n\n    c = Character.toString(a);\n    d = Character.toString(b);\n    return c + d;\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","ubuntu","mongotemplate"],"comments":[{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1688563589,"post_id":76620741,"comment_id":135090075,"body_markdown":"Please don&#39;t paste screenshots, use formatted text. See https://meta.stackoverflow.com/q/285551","body":"Please don&#39;t paste screenshots, use formatted text. See <a href=\"https://meta.stackoverflow.com/q/285551\">meta.stackoverflow.com/q/285551</a>"}],"answers":[{"tags":[],"owner":{"account_id":12247989,"reputation":123,"user_id":8939178,"display_name":"Masoom Raza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689136551,"creation_date":1689136551,"answer_id":76667180,"question_id":76620741,"body_markdown":"There might be some configuration issue with the tutorial provided in the implementation. The proper implementation of spring data-mongotemplate is given in [javainterviewpoint][1]\r\n\r\n\r\n  [1]: https://www.javainterviewpoint.com/spring-data-mongodb-example/","title":"Read operation to server /127.0.0.1:27017 failed on database mongotmplt","body":"<p>There might be some configuration issue with the tutorial provided in the implementation. The proper implementation of spring data-mongotemplate is given in <a href=\"https://www.javainterviewpoint.com/spring-data-mongodb-example/\" rel=\"nofollow noreferrer\">javainterviewpoint</a></p>\n"}],"owner":{"account_id":12247989,"reputation":123,"user_id":8939178,"display_name":"Masoom Raza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689136551,"creation_date":1688563050,"question_id":76620741,"body_markdown":"I am working on spring + mongodb project on Ubuntu 22.04.2 LTS. I followed [Spring Data MongoDB][1] but its giving me connection error. The data is neither getting saved nor retrieve. Below are the configuration of mongodb in my ubuntu:[![enter image description here][2]][2]. I guess I am using newer version of mongodb which is causing conflict. Below are the configuration files: 1. SpringMongoConfig1.java, where I have created db &quot;mongotmplt&quot; and collection &quot;users&quot; which is empty currently.\r\n```\r\n@Configuration\r\npublic class SpringMongoConfig1 {\r\n\tpublic @Bean\r\n\tMongoDbFactory mongoDbFactory() throws Exception {\r\n\t\treturn new SimpleMongoDbFactory(new MongoClient(), &quot;mongotmplt&quot;);\r\n\t}\r\n\tpublic @Bean\r\n\tMongoTemplate mongoTemplate() throws Exception {\r\n\t\tMongoTemplate mongoTemplate = new MongoTemplate(mongoDbFactory());\t\r\n\t\treturn mongoTemplate;\t\r\n\t}\r\n}\r\n```\r\n2.SpringConfig.xml\r\n```\r\n\t&lt;mongo:mongo host=&quot;127.0.0.1&quot; port=&quot;27017&quot; /&gt;\r\n\t&lt;mongo:db-factory dbname=&quot;mongotmplt&quot; /&gt;\r\n\r\n\t&lt;bean id=&quot;mongoTemplate&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot;&gt;\r\n\t\t&lt;constructor-arg name=&quot;mongoDbFactory&quot; ref=&quot;mongoDbFactory&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n```\r\nThe error is :\r\n```\r\nException in thread &quot;main&quot; org.springframework.dao.DataAccessResourceFailureException: Read operation to server /127.0.0.1:27017 failed on database mongotmplt; nested exception is com.mongodb.MongoException$Network: Read operation to server /127.0.0.1:27017 failed on database mongotmplt\r\n\tat org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:56)\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:1665)\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.executeFindOneInternal(MongoTemplate.java:1495)\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.doFindOne(MongoTemplate.java:1302)\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:475)\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:470)\r\n\tat com.example.mongo2.Mongo2Application.main(Mongo2Application.java:37)\r\nCaused by: com.mongodb.MongoException$Network: Read operation to server /127.0.0.1:27017 failed on database mongotmplt\r\n\tat com.mongodb.DBTCPConnector.innerCall(DBTCPConnector.java:253)\r\n\tat com.mongodb.DBTCPConnector.call(DBTCPConnector.java:216)\r\n\tat com.mongodb.DBApiLayer$MyCollection.__find(DBApiLayer.java:288)\r\n\tat com.mongodb.DBApiLayer$MyCollection.__find(DBApiLayer.java:273)\r\n\tat com.mongodb.DBCollection.findOne(DBCollection.java:728)\r\n\tat com.mongodb.DBCollection.findOne(DBCollection.java:670)\r\n\tat org.springframework.data.mongodb.core.MongoTemplate$FindOneCallback.doInCollection(MongoTemplate.java:1720)\r\n\tat org.springframework.data.mongodb.core.MongoTemplate$FindOneCallback.doInCollection(MongoTemplate.java:1705)\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.executeFindOneInternal(MongoTemplate.java:1491)\r\n```\r\n\r\n  [1]: https://mkyong.com/mongodb/spring-data-mongodb-hello-world-example/\r\n  [2]: https://i.stack.imgur.com/ZUk5E.png","title":"Read operation to server /127.0.0.1:27017 failed on database mongotmplt","body":"<p>I am working on spring + mongodb project on Ubuntu 22.04.2 LTS. I followed <a href=\"https://mkyong.com/mongodb/spring-data-mongodb-hello-world-example/\" rel=\"nofollow noreferrer\">Spring Data MongoDB</a> but its giving me connection error. The data is neither getting saved nor retrieve. Below are the configuration of mongodb in my ubuntu:<a href=\"https://i.stack.imgur.com/ZUk5E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZUk5E.png\" alt=\"enter image description here\" /></a>. I guess I am using newer version of mongodb which is causing conflict. Below are the configuration files: 1. SpringMongoConfig1.java, where I have created db &quot;mongotmplt&quot; and collection &quot;users&quot; which is empty currently.</p>\n<pre><code>@Configuration\npublic class SpringMongoConfig1 {\n    public @Bean\n    MongoDbFactory mongoDbFactory() throws Exception {\n        return new SimpleMongoDbFactory(new MongoClient(), &quot;mongotmplt&quot;);\n    }\n    public @Bean\n    MongoTemplate mongoTemplate() throws Exception {\n        MongoTemplate mongoTemplate = new MongoTemplate(mongoDbFactory());  \n        return mongoTemplate;   \n    }\n}\n</code></pre>\n<p>2.SpringConfig.xml</p>\n<pre><code>    &lt;mongo:mongo host=&quot;127.0.0.1&quot; port=&quot;27017&quot; /&gt;\n    &lt;mongo:db-factory dbname=&quot;mongotmplt&quot; /&gt;\n\n    &lt;bean id=&quot;mongoTemplate&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot;&gt;\n        &lt;constructor-arg name=&quot;mongoDbFactory&quot; ref=&quot;mongoDbFactory&quot; /&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>The error is :</p>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.dao.DataAccessResourceFailureException: Read operation to server /127.0.0.1:27017 failed on database mongotmplt; nested exception is com.mongodb.MongoException$Network: Read operation to server /127.0.0.1:27017 failed on database mongotmplt\n    at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:56)\n    at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:1665)\n    at org.springframework.data.mongodb.core.MongoTemplate.executeFindOneInternal(MongoTemplate.java:1495)\n    at org.springframework.data.mongodb.core.MongoTemplate.doFindOne(MongoTemplate.java:1302)\n    at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:475)\n    at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:470)\n    at com.example.mongo2.Mongo2Application.main(Mongo2Application.java:37)\nCaused by: com.mongodb.MongoException$Network: Read operation to server /127.0.0.1:27017 failed on database mongotmplt\n    at com.mongodb.DBTCPConnector.innerCall(DBTCPConnector.java:253)\n    at com.mongodb.DBTCPConnector.call(DBTCPConnector.java:216)\n    at com.mongodb.DBApiLayer$MyCollection.__find(DBApiLayer.java:288)\n    at com.mongodb.DBApiLayer$MyCollection.__find(DBApiLayer.java:273)\n    at com.mongodb.DBCollection.findOne(DBCollection.java:728)\n    at com.mongodb.DBCollection.findOne(DBCollection.java:670)\n    at org.springframework.data.mongodb.core.MongoTemplate$FindOneCallback.doInCollection(MongoTemplate.java:1720)\n    at org.springframework.data.mongodb.core.MongoTemplate$FindOneCallback.doInCollection(MongoTemplate.java:1705)\n    at org.springframework.data.mongodb.core.MongoTemplate.executeFindOneInternal(MongoTemplate.java:1491)\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","autowired"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688998685,"creation_date":1687446633,"answer_id":76533314,"question_id":76527454,"body_markdown":"There is a dedicated annotation `@TestPropertySource` to enable testing of `ConfigurationProperties`. This should work as expected:\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@EnableConfigurationProperties(value = SpringNyseFeedConfig .class)\r\n@TestPropertySource(&quot;/application-test.properties&quot;)\r\npublic class SpringNyseFeedConfigTest {\r\n\r\n    @Autowired\r\n    private SpringNyseFeedConfig config;\r\n// ...\r\n}\r\n```\r\nPlease note: I&#39;m intentionally using properties instead YAML file because the latter doesn&#39;t work properly with tests.\r\n\r\nBased on: [https://www.baeldung.com/spring-boot-testing-configurationproperties][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-testing-configurationproperties","title":"Spring Boot Unit Test with @Autowired how to get it to to work without starting entire Application","body":"<p>There is a dedicated annotation <code>@TestPropertySource</code> to enable testing of <code>ConfigurationProperties</code>. This should work as expected:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@EnableConfigurationProperties(value = SpringNyseFeedConfig .class)\n@TestPropertySource(&quot;/application-test.properties&quot;)\npublic class SpringNyseFeedConfigTest {\n\n    @Autowired\n    private SpringNyseFeedConfig config;\n// ...\n}\n</code></pre>\n<p>Please note: I'm intentionally using properties instead YAML file because the latter doesn't work properly with tests.</p>\n<p>Based on: <a href=\"https://www.baeldung.com/spring-boot-testing-configurationproperties\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-testing-configurationproperties</a></p>\n"},{"tags":[],"owner":{"account_id":480584,"reputation":8226,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689135782,"creation_date":1687446982,"answer_id":76533361,"question_id":76527454,"body_markdown":"Use `ApplicationRunner` to assemble the context.\r\n\r\n```kotlin \r\n// kotlin code fragment\r\nclass YourTests{\r\n\r\n    private val contextRunner = ApplicationContextRunner()\r\n\r\n    @Test\r\n    fun testAppProperties() {\r\n        contextRunner\r\n            .withUserConfiguration(YourConfig::class.java)\r\n            .run {\r\n                val bean: YourBean = it.getBean(YourBean::class.java)\r\n                assertThat(bean.baseUrl).isEqualTo(&quot;http://localhost:8080&quot;)\r\n\r\n            }\r\n    }\r\n}\r\n```\r\n\r\nJava version:\r\n\r\n```java\r\npublic class YourTests{\r\n\r\n    private final ApplicationContextRunner contextRunner = new ApplicationContextRunner();\r\n\r\n    @Test\r\n    public void testAppProperties() {\r\n        contextRunner\r\n            .withUserConfiguration(YourConfig.class)\r\n            .run( ctx -&gt; {\r\n                var bean = ctx.getBean(YourBean.class);\r\n                assertThat(bean.baseUrl).isEqualTo(&quot;http://localhost:8080&quot;);\r\n\r\n           });\r\n    }\r\n}\r\n```","title":"Spring Boot Unit Test with @Autowired how to get it to to work without starting entire Application","body":"<p>Use <code>ApplicationRunner</code> to assemble the context.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// kotlin code fragment\nclass YourTests{\n\n    private val contextRunner = ApplicationContextRunner()\n\n    @Test\n    fun testAppProperties() {\n        contextRunner\n            .withUserConfiguration(YourConfig::class.java)\n            .run {\n                val bean: YourBean = it.getBean(YourBean::class.java)\n                assertThat(bean.baseUrl).isEqualTo(&quot;http://localhost:8080&quot;)\n\n            }\n    }\n}\n</code></pre>\n<p>Java version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourTests{\n\n    private final ApplicationContextRunner contextRunner = new ApplicationContextRunner();\n\n    @Test\n    public void testAppProperties() {\n        contextRunner\n            .withUserConfiguration(YourConfig.class)\n            .run( ctx -&gt; {\n                var bean = ctx.getBean(YourBean.class);\n                assertThat(bean.baseUrl).isEqualTo(&quot;http://localhost:8080&quot;);\n\n           });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":158125,"reputation":6731,"user_id":376527,"accept_rate":72,"display_name":"Sam Goldberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689135782,"creation_date":1687385317,"question_id":76527454,"body_markdown":"I am trying to unit test configuration of a class annotated with `@Configuration`.  The class is fairly simple:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;feed&quot;)\r\n    public class SpringNyseFeedConfig extends FeedConfig {\r\n    \tprivate static final Logger LOG = LoggerFactory.getLogger(SpringNyseFeedConfig.class);\t\r\n    \r\n    \tpublic SpringNyseFeedConfig() {\r\n    \t\tLOG.debug(&quot;ctor():created {}&quot;, SpringNyseFeedConfig.class);\r\n    \t}\r\n    \t\r\n    \t@PostConstruct\r\n    \tpublic void completeConfig() {\r\n    \t\tLOG.debug(&quot;completeConfig(): validating configuration...&quot;);\r\n    \t\tpostConfigure().validate();  // need to set final properties and validate\r\n    \t}\r\n    }\r\n\r\nThe unit test is also simple:\r\n\r\n    @SpringBootTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class SpringNyseFeedConfigTest {\r\n\r\n    \t@Autowired\r\n    \tprivate SpringNyseFeedConfig config;\r\n    \t\r\n    \t@Test\r\n    \tvoid propertiesReadAsExpected() {\r\n    \t\tassertNotNull(config);\r\n    \t\tServerConnection requestServer = config.getRequestServer();\r\n    \t\tassertEquals(&quot;192.168.1.200&quot;, requestServer.getHost());\r\n            ...\r\n            ...    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nThe test is getting the `config` injected correctly, and configured with properties read from an `application-test.yml` file.\r\n\r\nThe problem is that the test causes Spring initializes all the Beans in the application (which is time consuming).  \r\n\r\nI&#39;ve tried about a half dozen suggestions to try to limit the test to only instantiating the SpringNyseFeedConfig object only, but they have all resulted in either not injecting anything at all (config == null), or injecting an object not configured from the `yml` file (i.e. no properties set).\r\n\r\nHow can I update the unit test so that it will read the file and auto-configure and inject the SpringNyseFeedConfig object without instantiating every other component in the application?\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot Unit Test with @Autowired how to get it to to work without starting entire Application","body":"<p>I am trying to unit test configuration of a class annotated with <code>@Configuration</code>.  The class is fairly simple:</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;feed&quot;)\npublic class SpringNyseFeedConfig extends FeedConfig {\n    private static final Logger LOG = LoggerFactory.getLogger(SpringNyseFeedConfig.class);  \n\n    public SpringNyseFeedConfig() {\n        LOG.debug(&quot;ctor():created {}&quot;, SpringNyseFeedConfig.class);\n    }\n    \n    @PostConstruct\n    public void completeConfig() {\n        LOG.debug(&quot;completeConfig(): validating configuration...&quot;);\n        postConfigure().validate();  // need to set final properties and validate\n    }\n}\n</code></pre>\n<p>The unit test is also simple:</p>\n<pre><code>@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\npublic class SpringNyseFeedConfigTest {\n\n    @Autowired\n    private SpringNyseFeedConfig config;\n    \n    @Test\n    void propertiesReadAsExpected() {\n        assertNotNull(config);\n        ServerConnection requestServer = config.getRequestServer();\n        assertEquals(&quot;192.168.1.200&quot;, requestServer.getHost());\n        ...\n        ...         \n    }\n\n}\n</code></pre>\n<p>The test is getting the <code>config</code> injected correctly, and configured with properties read from an <code>application-test.yml</code> file.</p>\n<p>The problem is that the test causes Spring initializes all the Beans in the application (which is time consuming).</p>\n<p>I've tried about a half dozen suggestions to try to limit the test to only instantiating the SpringNyseFeedConfig object only, but they have all resulted in either not injecting anything at all (config == null), or injecting an object not configured from the <code>yml</code> file (i.e. no properties set).</p>\n<p>How can I update the unit test so that it will read the file and auto-configure and inject the SpringNyseFeedConfig object without instantiating every other component in the application?</p>\n"},{"tags":["java","mysql","datetime","jooq","timestampdiff"],"answers":[{"tags":[],"owner":{"account_id":11925198,"reputation":21,"user_id":8726687,"display_name":"Shani Madar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689135594,"creation_date":1674734160,"answer_id":75245779,"question_id":75243792,"body_markdown":"My coworker investigated and found an easy way to write it:\r\n\r\n    update(table)\r\n    .set(field_datetime1, now())\r\n    .set(field_timedifference, DSL.field(&quot;timestampDiff({0}, {1}, {2})&quot;, Long.class,  DSL.keyword(DatePart.MICROSECOND.toSQL()), field_datetime1, field_datetime2))\r\n\r\nThis way jooq generates an actual query in the set :)","title":"JOOQ timestampDiff(field_datetime1, field_datetime2) to set value in an update query not working","body":"<p>My coworker investigated and found an easy way to write it:</p>\n<pre><code>update(table)\n.set(field_datetime1, now())\n.set(field_timedifference, DSL.field(&quot;timestampDiff({0}, {1}, {2})&quot;, Long.class,  DSL.keyword(DatePart.MICROSECOND.toSQL()), field_datetime1, field_datetime2))\n</code></pre>\n<p>This way jooq generates an actual query in the set :)</p>\n"}],"owner":{"account_id":11925198,"reputation":21,"user_id":8726687,"display_name":"Shani Madar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689135594,"creation_date":1674722413,"question_id":75243792,"body_markdown":"I&#39;m using MYSQL and JOOQ and I&#39;m trying to write an update query.\r\nIn this query I want to update `field_datetime1` (type datetime) and also update `field_timedifference`  (type bigint) with the time difference in milliseconds between field_datetime1 and field_datetime2.\r\n\r\n\r\nHow do I achive that with JOOQ?\r\n\r\nI tried to write this code:\r\n\r\n    update(table)\r\n    .set(field_datetime1, now())\r\n    .set(field_timedifference, timestampDiff(field_datetime1, field_datetime2))\r\n\r\nBut it is not compiling, I get this error:\r\n\r\n    Cannot resolve method &#39;set(org.jooq.TableField&lt;MyRecordType,java.lang.Long&gt;, org.jooq.Field&lt;org.jooq.types.DayToSecond&gt;, org.jooq.TableField&lt;MyRecordType,java.lang.Long&gt;)&#39;\r\n\r\nI tried to wrap it in DSL.val and it does compile but it sends `null` in the query.\r\n\r\nThis is the query that I need to run, I tested it on MYSQL workbanch and it is exactly what I need:\r\n\r\n    update myTable \r\n    set field_timedifference = \r\n    TIMESTAMPDIFF(microsecond, field_datetime1, field_datetime2)\r\n\r\n","title":"JOOQ timestampDiff(field_datetime1, field_datetime2) to set value in an update query not working","body":"<p>I'm using MYSQL and JOOQ and I'm trying to write an update query.\nIn this query I want to update <code>field_datetime1</code> (type datetime) and also update <code>field_timedifference</code>  (type bigint) with the time difference in milliseconds between field_datetime1 and field_datetime2.</p>\n<p>How do I achive that with JOOQ?</p>\n<p>I tried to write this code:</p>\n<pre><code>update(table)\n.set(field_datetime1, now())\n.set(field_timedifference, timestampDiff(field_datetime1, field_datetime2))\n</code></pre>\n<p>But it is not compiling, I get this error:</p>\n<pre><code>Cannot resolve method 'set(org.jooq.TableField&lt;MyRecordType,java.lang.Long&gt;, org.jooq.Field&lt;org.jooq.types.DayToSecond&gt;, org.jooq.TableField&lt;MyRecordType,java.lang.Long&gt;)'\n</code></pre>\n<p>I tried to wrap it in DSL.val and it does compile but it sends <code>null</code> in the query.</p>\n<p>This is the query that I need to run, I tested it on MYSQL workbanch and it is exactly what I need:</p>\n<pre><code>update myTable \nset field_timedifference = \nTIMESTAMPDIFF(microsecond, field_datetime1, field_datetime2)\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1688698609,"post_id":76633644,"comment_id":135111898,"body_markdown":"Please fix your formatting. You can use backquotes for literal text.","body":"Please fix your formatting. You can use backquotes for literal text."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1688709750,"post_id":76633644,"comment_id":135112802,"body_markdown":"I beg your pardon, but it is not clear to me what your input string is. It looks to me that you have posted two, different input strings. Consequently, I do not understand what you need to do to the input string in order to obtain the output string. It may help me to understand if you posted a [mcve] that includes a sample input string and also shows the output you want to get from that sample input string as well as the output that you actually get.","body":"I beg your pardon, but it is not clear to me what your input string is. It looks to me that you have posted two, different input strings. Consequently, I do not understand what you need to do to the input string in order to obtain the output string. It may help me to understand if you posted a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that includes a sample input string and also shows the output you want to get from that sample input string as well as the output that you actually get."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689134928,"creation_date":1689134928,"answer_id":76667094,"question_id":76633644,"body_markdown":"&gt; _&#39;I&#39;m encountering a problem wherein I&#39;m trying to match &quot;\\*\\*\\*&quot; by using Java&#39;s contains() function, but the string contains &quot;\\*&quot; so it matches the &quot;\\*&quot;, not the &quot;***&quot; ...&#39;_\r\n\r\nThe _[String#contains](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#contains(java.lang.CharSequence))_ method will attempt to match the exact input; thus a single asterisk will not be matched if you had supplied three.\r\n\r\nHere is an example.\r\n\r\n```java\r\nSystem.out.println(&quot;*&quot;.contains(&quot;***&quot;));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nfalse\r\n```\r\n\r\n&gt; _&quot;... I need to concatenate the string by the number of asterisks. ...&quot;_\r\n\r\nThere are numerous ways to do this.\r\n\r\n- You can use the _[StringReader](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/StringReader.html)_ class in conjunction with the _[BufferedReader](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/BufferedReader.html)_ class to iterate the _String_ value line-for-line.  \r\n- Or, you could use the _[Scanner](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html)_ class to iterate each line.  \r\n- Also, you could use the _[Pattern](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html)_ and _[Matcher](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html)_ classes, utilizing a _regular expression pattern_ to evaluate the text.  \r\n- Finally, a basic approach would be to use a _[StringBuilder](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html)_ and a _for-loop_, utilizing the _[String#indexOf](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String,int))_ method to determine the number of asterisks.","title":"Matching a string that contains another substring","body":"<blockquote>\n<p><em>'I'm encountering a problem wherein I'm trying to match &quot;***&quot; by using Java's contains() function, but the string contains &quot;*&quot; so it matches the &quot;*&quot;, not the &quot;***&quot; ...'</em></p>\n</blockquote>\n<p>The <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#contains(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">String#contains</a></em> method will attempt to match the exact input; thus a single asterisk will not be matched if you had supplied three.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;*&quot;.contains(&quot;***&quot;));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>false\n</code></pre>\n<blockquote>\n<p><em>&quot;... I need to concatenate the string by the number of asterisks. ...&quot;</em></p>\n</blockquote>\n<p>There are numerous ways to do this.</p>\n<ul>\n<li>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/StringReader.html\" rel=\"nofollow noreferrer\">StringReader</a></em> class in conjunction with the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/BufferedReader.html\" rel=\"nofollow noreferrer\">BufferedReader</a></em> class to iterate the <em>String</em> value line-for-line.</li>\n<li>Or, you could use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a></em> class to iterate each line.</li>\n<li>Also, you could use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Pattern</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">Matcher</a></em> classes, utilizing a <em>regular expression pattern</em> to evaluate the text.</li>\n<li>Finally, a basic approach would be to use a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder</a></em> and a <em>for-loop</em>, utilizing the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String,int)\" rel=\"nofollow noreferrer\">String#indexOf</a></em> method to determine the number of asterisks.</li>\n</ul>\n"}],"owner":{"account_id":18437249,"reputation":1,"user_id":13430738,"display_name":"randomplant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1689134928,"creation_date":1688697931,"question_id":76633644,"body_markdown":"I&#39;m encountering a problem wherein I&#39;m trying to match &quot;\\*\\*\\*&quot; by using Java&#39;s contains() function, but the string contains &quot;\\*&quot; so it matches the &quot;\\*&quot;, not the &quot;***&quot;\r\n\r\nExample:\r\n```\r\nLorem ipsum dolor sit amet,  \r\nconsectetur adipiscing elit.\r\nAliquam imperdiet iaculis ex***\r\n```\r\n```\r\n*Lorem ipsum dolor sit amet, \r\n**consectetur adipiscing elit. \r\n***Aliquam imperdiet iaculis ex\r\n```\r\n\r\nI need to concatenate the string by the number of asterisks. So, it must output:\r\n```\r\nLorem ipsum dolor sit amet,  \r\nconsectetur adipiscing elit.   \r\nAliquam imperdiet iaculis ex***\r\n***Aliquam imperdiet iaculis ex\r\n```\r\n\r\nNOT\r\n```\r\nLorem ipsum dolor sit amet,  \r\nconsectetur adipiscing elit.\r\nAliquam imperdiet iaculis ex***\r\n*Lorem ipsum dolor sit amet,\r\n```\r\nI tried using Java&#39;s contains() function.\r\n\r\n","title":"Matching a string that contains another substring","body":"<p>I'm encountering a problem wherein I'm trying to match &quot;***&quot; by using Java's contains() function, but the string contains &quot;*&quot; so it matches the &quot;*&quot;, not the &quot;***&quot;</p>\n<p>Example:</p>\n<pre><code>Lorem ipsum dolor sit amet,  \nconsectetur adipiscing elit.\nAliquam imperdiet iaculis ex***\n</code></pre>\n<pre><code>*Lorem ipsum dolor sit amet, \n**consectetur adipiscing elit. \n***Aliquam imperdiet iaculis ex\n</code></pre>\n<p>I need to concatenate the string by the number of asterisks. So, it must output:</p>\n<pre><code>Lorem ipsum dolor sit amet,  \nconsectetur adipiscing elit.   \nAliquam imperdiet iaculis ex***\n***Aliquam imperdiet iaculis ex\n</code></pre>\n<p>NOT</p>\n<pre><code>Lorem ipsum dolor sit amet,  \nconsectetur adipiscing elit.\nAliquam imperdiet iaculis ex***\n*Lorem ipsum dolor sit amet,\n</code></pre>\n<p>I tried using Java's contains() function.</p>\n"},{"tags":["java","spring","apache-kafka","apache-kafka-streams","boot"],"comments":[{"owner":{"account_id":28912018,"reputation":166,"user_id":22144895,"display_name":"Kacper Roszczyna"},"score":0,"creation_date":1689111176,"post_id":76647724,"comment_id":135166496,"body_markdown":"Do you expect to produce multiple events under the same key in the aggregation? So if you had 150 elements to aggregate you&#39;d expect 3 events each with 50 elements in the list, all with the same key?","body":"Do you expect to produce multiple events under the same key in the aggregation? So if you had 150 elements to aggregate you&#39;d expect 3 events each with 50 elements in the list, all with the same key?"},{"owner":{"account_id":2995376,"reputation":435,"user_id":2542954,"display_name":"MightGod"},"score":0,"creation_date":1689832787,"post_id":76647724,"comment_id":135269680,"body_markdown":"yes exactly what you said","body":"yes exactly what you said"}],"answers":[{"tags":[],"owner":{"account_id":5213950,"reputation":96,"user_id":4169495,"display_name":"marhewa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689134159,"creation_date":1689132571,"answer_id":76666985,"question_id":76647724,"body_markdown":"You can try to convert your `KTable` to `KStream` and execute `flatMapValues` to split the list, something like this (code in Kotlin):\r\n\r\n```kotlin\r\nval s = streamsBuilder.stream(&quot;kafka-topic&quot;, Consumed.with(Serdes.String(), Serdes.String()))\r\nval output = s\r\n    .groupByKey()\r\n    .windowedBy(TimeWindows.ofSizeWithNoGrace(Duration.ofSeconds(2)))\r\n    .aggregate({ mutableListOf() }, { k: String, str: String, agg: List&lt;String&gt; -&gt; agg.plus(str) })\r\n    .toStream()\r\n    .flatMapValues { strList -&gt; strList.chunked(50) }\r\n```\r\n\r\nthat would mean however that you load the whole aggregated list into memory - might or might not be a concern, depending on the list size and your memory settings, but it&#39;s definitely something to keep in mind.","title":"How to aggregate KStream to list of fixed size in a specific timeframe?","body":"<p>You can try to convert your <code>KTable</code> to <code>KStream</code> and execute <code>flatMapValues</code> to split the list, something like this (code in Kotlin):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val s = streamsBuilder.stream(&quot;kafka-topic&quot;, Consumed.with(Serdes.String(), Serdes.String()))\nval output = s\n    .groupByKey()\n    .windowedBy(TimeWindows.ofSizeWithNoGrace(Duration.ofSeconds(2)))\n    .aggregate({ mutableListOf() }, { k: String, str: String, agg: List&lt;String&gt; -&gt; agg.plus(str) })\n    .toStream()\n    .flatMapValues { strList -&gt; strList.chunked(50) }\n</code></pre>\n<p>that would mean however that you load the whole aggregated list into memory - might or might not be a concern, depending on the list size and your memory settings, but it's definitely something to keep in mind.</p>\n"}],"owner":{"account_id":2995376,"reputation":435,"user_id":2542954,"display_name":"MightGod"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689134159,"creation_date":1688909624,"question_id":76647724,"body_markdown":"Consider this KStream:\r\n\r\n    KStream&lt;String, String&gt; inputStream = streamsBuilder.stream(&quot;kafka-topic&quot;, Consumed.with(Serdes.String(), Serdes.String()));\r\n    Materialized&lt;String, List&lt;String&gt;, WindowStore&lt;Bytes, byte[]&gt;&gt; with = Materialized.with(Serdes.String(), STRING_LIST_SERDE);\r\n\r\n    KStream&lt;Windowed&lt;String&gt;, List&lt;String&gt;&gt; outputStream = inputStream\r\n                .groupByKey()\r\n                .windowedBy(TimeWindows.ofSizeWithNoGrace(Duration.ofSeconds(2)))\r\n                .aggregate(\r\n                        ArrayList::new,\r\n                        (key, string, aggregate) -&gt; {\r\n                            aggregate.add(string);\r\n                            return aggregate;\r\n                        }, with)\r\n                .toStream();\r\n\r\n`outputStream` will aggregate all the messages from `inputStream` info an array of messages for the defined timeframe.\r\nNow, in addition, I want to aggregate the messages up to a specific limit, say until the list is no longer than 50 in size.\r\nIf the list has become larger than 50 during the aggregation, I want to somehow split it to additional list.\r\n\r\nBasically, the output I wish to achieve is to get an array of messages up to a limit by size (of 50 for instance) and up to a specific timeframe, whichever comes first.\r\n\r\nWhat do I missing here in order to achieve this?\r\n\r\nThanks!","title":"How to aggregate KStream to list of fixed size in a specific timeframe?","body":"<p>Consider this KStream:</p>\n<pre><code>KStream&lt;String, String&gt; inputStream = streamsBuilder.stream(&quot;kafka-topic&quot;, Consumed.with(Serdes.String(), Serdes.String()));\nMaterialized&lt;String, List&lt;String&gt;, WindowStore&lt;Bytes, byte[]&gt;&gt; with = Materialized.with(Serdes.String(), STRING_LIST_SERDE);\n\nKStream&lt;Windowed&lt;String&gt;, List&lt;String&gt;&gt; outputStream = inputStream\n            .groupByKey()\n            .windowedBy(TimeWindows.ofSizeWithNoGrace(Duration.ofSeconds(2)))\n            .aggregate(\n                    ArrayList::new,\n                    (key, string, aggregate) -&gt; {\n                        aggregate.add(string);\n                        return aggregate;\n                    }, with)\n            .toStream();\n</code></pre>\n<p><code>outputStream</code> will aggregate all the messages from <code>inputStream</code> info an array of messages for the defined timeframe.\nNow, in addition, I want to aggregate the messages up to a specific limit, say until the list is no longer than 50 in size.\nIf the list has become larger than 50 during the aggregation, I want to somehow split it to additional list.</p>\n<p>Basically, the output I wish to achieve is to get an array of messages up to a limit by size (of 50 for instance) and up to a specific timeframe, whichever comes first.</p>\n<p>What do I missing here in order to achieve this?</p>\n<p>Thanks!</p>\n"},{"tags":["java","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":20677849,"reputation":515,"user_id":15182060,"display_name":"Mereo4"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1622654574,"creation_date":1622654574,"answer_id":67809787,"question_id":67242470,"body_markdown":"Well, I just was confronted to a similar problem, and actually it&#39;s the feedback of Gradle that is really REALLY bad. It&#39;s failing because of some invalid declaration inside the &quot;android&quot; block.\r\n\r\nIn your case, it seems that it&#39;s only because of the value you assign to `versionName` not being inside (double) quotes as a string must be.\r\n\r\nSo, in your :app gradle file, just fix this:\r\n```\r\nandroid {\r\n    ...\r\n    defaultConfig {\r\n        ...\r\n        versionName &#39;5.0&#39;\r\n        ...\r\n    }\r\n    ...\r\n}\r\n```\r\n","title":"Android Studio error - groovy.lang.MissingMethodException: No signature of method: build_8sqj**q9.android() is applicable for argument types: ***","body":"<p>Well, I just was confronted to a similar problem, and actually it's the feedback of Gradle that is really REALLY bad. It's failing because of some invalid declaration inside the &quot;android&quot; block.</p>\n<p>In your case, it seems that it's only because of the value you assign to <code>versionName</code> not being inside (double) quotes as a string must be.</p>\n<p>So, in your :app gradle file, just fix this:</p>\n<pre><code>android {\n    ...\n    defaultConfig {\n        ...\n        versionName '5.0'\n        ...\n    }\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10238057,"reputation":859,"user_id":7556310,"display_name":"Vijay E"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1634737859,"creation_date":1634737859,"answer_id":69647299,"question_id":67242470,"body_markdown":"Another possibility is that you might be using properties of some plugin inside android tag, which is not declared as plugin. In my case I was trying to use \r\n\r\n    firebaseCrashlytics {\r\n                    // If you don&#39;t need crash reporting for your debug build\r\n                    mappingFileUploadEnabled false\r\n                }\r\n\r\nwithout using below plugin\r\n\r\n    apply plugin: &#39;com.google.firebase.crashlytics&#39;\r\n\r\nJust by adding plugin the issue is resolved. \r\nAlso please look for double quote and single quote string","title":"Android Studio error - groovy.lang.MissingMethodException: No signature of method: build_8sqj**q9.android() is applicable for argument types: ***","body":"<p>Another possibility is that you might be using properties of some plugin inside android tag, which is not declared as plugin. In my case I was trying to use</p>\n<pre><code>firebaseCrashlytics {\n                // If you don't need crash reporting for your debug build\n                mappingFileUploadEnabled false\n            }\n</code></pre>\n<p>without using below plugin</p>\n<pre><code>apply plugin: 'com.google.firebase.crashlytics'\n</code></pre>\n<p>Just by adding plugin the issue is resolved.\nAlso please look for double quote and single quote string</p>\n"},{"tags":[],"owner":{"account_id":11449107,"reputation":1122,"user_id":8391947,"display_name":"Bryan W"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650044612,"creation_date":1650044612,"answer_id":71887230,"question_id":67242470,"body_markdown":"Anything declared in the `android {}` block in your build.gradle could cause this build failure. \r\n\r\nAdditional to what the other answers have mentioned, look for any non-Gradle references.\r\n\r\nFor example, the cause of my build failure were these lines:\r\n\r\n    buildToolsVersion = &#39;30.0.3&#39;\r\n    installation {\r\n        installOptions &#39;-d&#39;, &#39;-t&#39;\r\n        timeOutInMs &#39;2 * 60 * 1000&#39;\r\n    }\r\nAfter removing them, the build was successful.","title":"Android Studio error - groovy.lang.MissingMethodException: No signature of method: build_8sqj**q9.android() is applicable for argument types: ***","body":"<p>Anything declared in the <code>android {}</code> block in your build.gradle could cause this build failure.</p>\n<p>Additional to what the other answers have mentioned, look for any non-Gradle references.</p>\n<p>For example, the cause of my build failure were these lines:</p>\n<pre><code>buildToolsVersion = '30.0.3'\ninstallation {\n    installOptions '-d', '-t'\n    timeOutInMs '2 * 60 * 1000'\n}\n</code></pre>\n<p>After removing them, the build was successful.</p>\n"},{"tags":[],"owner":{"account_id":8003589,"reputation":116,"user_id":6037561,"display_name":"Hemant Bharti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679477028,"creation_date":1679477028,"answer_id":75810384,"question_id":67242470,"body_markdown":"I got a message similar to mine today. The way I found to solve this error was by changing the version for the Gradle plugin on my build. [enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cmbES.png\r\n\r\n\r\nI hope this could help you. Happy coding!","title":"Android Studio error - groovy.lang.MissingMethodException: No signature of method: build_8sqj**q9.android() is applicable for argument types: ***","body":"<p>I got a message similar to mine today. The way I found to solve this error was by changing the version for the Gradle plugin on my build. <a href=\"https://i.stack.imgur.com/cmbES.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I hope this could help you. Happy coding!</p>\n"},{"tags":[],"owner":{"account_id":251813,"reputation":1963,"user_id":529442,"display_name":"Eugene Gr. Philippov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689132305,"creation_date":1689132305,"answer_id":76666971,"question_id":67242470,"body_markdown":"In my case, I ran\r\n\r\n`flutter build apk --release -v`\r\n\r\nand had\r\n\r\n`WARNING` that `useProguard` DSL element is obsolete and should be removed. I had gradle 7.4.\r\n\r\nWhen I removed `useProguard false` from `android/app/build.gradle`, all built smoothly.","title":"Android Studio error - groovy.lang.MissingMethodException: No signature of method: build_8sqj**q9.android() is applicable for argument types: ***","body":"<p>In my case, I ran</p>\n<p><code>flutter build apk --release -v</code></p>\n<p>and had</p>\n<p><code>WARNING</code> that <code>useProguard</code> DSL element is obsolete and should be removed. I had gradle 7.4.</p>\n<p>When I removed <code>useProguard false</code> from <code>android/app/build.gradle</code>, all built smoothly.</p>\n"}],"owner":{"account_id":8533562,"reputation":221,"user_id":6396242,"accept_rate":29,"display_name":"Pankaj Bhardwaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33986,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":5,"score":18,"last_activity_date":1689132305,"creation_date":1619265046,"question_id":67242470,"body_markdown":"I prepared an android app in android studio then I copied my whole code manually from one sys to another. But after that, getting this error.\r\nBelow are my both gradle files and screenshot.(Not sure why manisfest file is not shown in android studio, this might be related)\r\nPlease dont mark copy as I have tried many solution from stackoverflow. those are same error but seems diff cause.\r\n\r\nModule:app\r\n```\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 30\r\n        buildToolsVersion &#39;30.0.2&#39;\r\n        defaultConfig {\r\n            applicationId &quot;dhritiapps.tulsiramayan&quot;\r\n            minSdkVersion 23\r\n            targetSdkVersion 30\r\n            versionCode 23\r\n            versionName 5.0\r\n            multiDexEnabled true\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            compileOptions {\r\n                sourceCompatibility 1.8\r\n                targetCompatibility 1.8\r\n            }\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        packagingOptions {\r\n            exclude &#39;META-INF/DEPENDENCIES&#39;\r\n            exclude &#39;META-INF/NOTICE&#39;\r\n            exclude &#39;META-INF/LICENSE&#39;\r\n            exclude &#39;META-INF/LICENSE.txt&#39;\r\n            exclude &#39;META-INF/NOTICE.txt&#39;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n        implementation &#39;androidx.navigation:navigation-fragment:2.2.1&#39;\r\n        implementation &#39;androidx.navigation:navigation-ui:2.2.1&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:20.0.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:19.5.1&#39;\r\n        androidTestImplementation(&#39;androidx.test.espresso:espresso-core:3.1.0&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        implementation &#39;androidx.appcompat:appcompat:1.0.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        implementation &#39;com.firebase:firebase-client-android:2.5.2&#39;\r\n        implementation &#39;com.google.android.gms:play-services-auth:18.1.0&#39;\r\n        implementation &#39;com.google.gms:google-services:4.3.4&#39;\r\n        implementation &#39;link.fls:swipestack:0.3.0&#39;\r\n        implementation &#39;com.airbnb.android:lottie:3.5.0&#39;\r\n        implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n        implementation platform(&#39;com.google.firebase:firebase-bom:26.2.0&#39;)\r\n        implementation &#39;com.google.firebase:firebase-auth&#39;\r\n        implementation &#39;com.google.android.gms:play-services-auth:19.0.0&#39;\r\n        implementation &#39;me.priyesh:chroma:1.0.2&#39;\r\n        annotationProcessor &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n        implementation &#39;com.squareup.picasso:picasso:2.5.2&#39;\r\n        testImplementation &#39;junit:junit:4.13&#39;\r\n        testImplementation &#39;org.codehaus.groovy:groovy-all:2.4.15&#39;\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n\r\nProject\r\n```\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:4.1.1&#39;\r\n            classpath &#39;com.google.gms:google-services:4.3.4&#39;\r\n    \r\n            // NOTE: do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n```","title":"Android Studio error - groovy.lang.MissingMethodException: No signature of method: build_8sqj**q9.android() is applicable for argument types: ***","body":"<p>I prepared an android app in android studio then I copied my whole code manually from one sys to another. But after that, getting this error.\nBelow are my both gradle files and screenshot.(Not sure why manisfest file is not shown in android studio, this might be related)\nPlease dont mark copy as I have tried many solution from stackoverflow. those are same error but seems diff cause.</p>\n<p>Module:app</p>\n<pre><code>\n    apply plugin: 'com.android.application'\n    apply plugin: 'com.google.gms.google-services'\n    \n    android {\n        compileSdkVersion 30\n        buildToolsVersion '30.0.2'\n        defaultConfig {\n            applicationId &quot;dhritiapps.tulsiramayan&quot;\n            minSdkVersion 23\n            targetSdkVersion 30\n            versionCode 23\n            versionName 5.0\n            multiDexEnabled true\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n            compileOptions {\n                sourceCompatibility 1.8\n                targetCompatibility 1.8\n            }\n        }\n        buildTypes {\n            release {\n                minifyEnabled false\n                proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            }\n        }\n        packagingOptions {\n            exclude 'META-INF/DEPENDENCIES'\n            exclude 'META-INF/NOTICE'\n            exclude 'META-INF/LICENSE'\n            exclude 'META-INF/LICENSE.txt'\n            exclude 'META-INF/NOTICE.txt'\n        }\n    }\n    \n    dependencies {\n        implementation fileTree(dir: 'libs', include: ['*.jar'])\n        implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n        implementation 'androidx.navigation:navigation-fragment:2.2.1'\n        implementation 'androidx.navigation:navigation-ui:2.2.1'\n        implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n        implementation 'com.google.firebase:firebase-auth:20.0.1'\n        implementation 'com.google.firebase:firebase-database:19.5.1'\n        androidTestImplementation('androidx.test.espresso:espresso-core:3.1.0', {\n            exclude group: 'com.android.support', module: 'support-annotations'\n        })\n        implementation 'androidx.appcompat:appcompat:1.0.0'\n        implementation 'com.google.android.material:material:1.0.0'\n        implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n        implementation 'com.firebase:firebase-client-android:2.5.2'\n        implementation 'com.google.android.gms:play-services-auth:18.1.0'\n        implementation 'com.google.gms:google-services:4.3.4'\n        implementation 'link.fls:swipestack:0.3.0'\n        implementation 'com.airbnb.android:lottie:3.5.0'\n        implementation 'com.github.bumptech.glide:glide:4.11.0'\n        implementation platform('com.google.firebase:firebase-bom:26.2.0')\n        implementation 'com.google.firebase:firebase-auth'\n        implementation 'com.google.android.gms:play-services-auth:19.0.0'\n        implementation 'me.priyesh:chroma:1.0.2'\n        annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'\n        implementation 'com.squareup.picasso:picasso:2.5.2'\n        testImplementation 'junit:junit:4.13'\n        testImplementation 'org.codehaus.groovy:groovy-all:2.4.15'\n    }\n\n</code></pre>\n<p>Project</p>\n<pre><code>\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\n    buildscript {\n        repositories {\n            google()\n            jcenter()\n        }\n        dependencies {\n            classpath 'com.android.tools.build:gradle:4.1.1'\n            classpath 'com.google.gms:google-services:4.3.4'\n    \n            // NOTE: do not place your application dependencies here; they belong\n            // in the individual module build.gradle files\n        }\n    }\n    \n    allprojects {\n        repositories {\n            google()\n            jcenter()\n        }\n    }\n    \n    task clean(type: Delete) {\n        delete rootProject.buildDir\n    }\n\n</code></pre>\n"},{"tags":["java","wordpress","spring-boot","rss","rome"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":1,"creation_date":1689133679,"post_id":76666965,"comment_id":135168418,"body_markdown":"Did you read this [answer](https://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find)?","body":"Did you read this <a href=\"https://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find\">answer</a>?"}],"owner":{"account_id":23607970,"reputation":1,"user_id":17643410,"display_name":"Mahareshi Wahyuaji"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689132167,"creation_date":1689132167,"question_id":76666965,"body_markdown":"So i trying to read rss feed from this link https://ssioltbrw.samuel.co.id/category-research-reports/emiten-report-ssi/feed/. but my spring boot and maven rome to read the file but gets an error that stated Error reading RSS feed: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target. What should i do\r\n\r\nHere is my code \r\n\r\n\r\n```\r\npackage com.allspeak.rssfeed.components;\r\nimport com.allspeak.rssfeed.entity.Rss;\r\nimport com.rometools.rome.feed.synd.SyndEntry;\r\nimport com.rometools.rome.feed.synd.SyndFeed;\r\nimport com.rometools.rome.io.SyndFeedInput;\r\nimport com.rometools.rome.io.XmlReader;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class RssReader {\r\n\r\n    public List&lt;Rss&gt; readRssFeed(String feedUrl) {\r\n        try {\r\n            URL url = new URL(feedUrl);\r\n            SyndFeedInput input = new SyndFeedInput();\r\n            SyndFeed feed = input.build(new XmlReader(url));\r\n\r\n            List&lt;Rss&gt; feedItems = new ArrayList&lt;&gt;();\r\n            for (SyndEntry entry : feed.getEntries()) {\r\n                Rss item = new Rss();\r\n                item.setTitle(entry.getTitle());\r\n//                item.setDescription(entry.getDescription().getValue());\r\n                item.setLink(entry.getLink());\r\n                item.setPubDate(entry.getPublishedDate());\r\n\r\n                feedItems.add(item);\r\n            }\r\n\r\n            return feedItems;\r\n        } catch (Exception e) {\r\n            log.error(&quot;Error reading RSS feed: {}&quot;, e.getMessage());\r\n            return Collections.emptyList();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is my code for the controller\r\n\r\n\r\n```\r\npackage com.allspeak.rssfeed.controller;\r\nimport com.allspeak.rssfeed.components.RssReader;\r\nimport com.allspeak.rssfeed.entity.Rss;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/rss&quot;)\r\n@AllArgsConstructor\r\npublic class RssController {\r\n\r\n    private final RssReader rssReader;\r\n\r\n    @GetMapping(&quot;/feed&quot;)\r\n    public List&lt;Rss&gt; getRssFeed() {\r\n        String feedUrl = &quot;https://samuel.co.id/category-research-reports/emiten-report-ssi/feed/&quot;;\r\n        return rssReader.readRssFeed(feedUrl);\r\n    }\r\n}\r\n```\r\n\r\n","title":"Rss Feed Reading Failed","body":"<p>So i trying to read rss feed from this link <a href=\"https://ssioltbrw.samuel.co.id/category-research-reports/emiten-report-ssi/feed/\" rel=\"nofollow noreferrer\">https://ssioltbrw.samuel.co.id/category-research-reports/emiten-report-ssi/feed/</a>. but my spring boot and maven rome to read the file but gets an error that stated Error reading RSS feed: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target. What should i do</p>\n<p>Here is my code</p>\n<pre><code>package com.allspeak.rssfeed.components;\nimport com.allspeak.rssfeed.entity.Rss;\nimport com.rometools.rome.feed.synd.SyndEntry;\nimport com.rometools.rome.feed.synd.SyndFeed;\nimport com.rometools.rome.io.SyndFeedInput;\nimport com.rometools.rome.io.XmlReader;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.stereotype.Component;\n\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\n@Component\n@RequiredArgsConstructor\n@Slf4j\npublic class RssReader {\n\n    public List&lt;Rss&gt; readRssFeed(String feedUrl) {\n        try {\n            URL url = new URL(feedUrl);\n            SyndFeedInput input = new SyndFeedInput();\n            SyndFeed feed = input.build(new XmlReader(url));\n\n            List&lt;Rss&gt; feedItems = new ArrayList&lt;&gt;();\n            for (SyndEntry entry : feed.getEntries()) {\n                Rss item = new Rss();\n                item.setTitle(entry.getTitle());\n//                item.setDescription(entry.getDescription().getValue());\n                item.setLink(entry.getLink());\n                item.setPubDate(entry.getPublishedDate());\n\n                feedItems.add(item);\n            }\n\n            return feedItems;\n        } catch (Exception e) {\n            log.error(&quot;Error reading RSS feed: {}&quot;, e.getMessage());\n            return Collections.emptyList();\n        }\n    }\n}\n</code></pre>\n<p>Here is my code for the controller</p>\n<pre><code>package com.allspeak.rssfeed.controller;\nimport com.allspeak.rssfeed.components.RssReader;\nimport com.allspeak.rssfeed.entity.Rss;\nimport lombok.AllArgsConstructor;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/rss&quot;)\n@AllArgsConstructor\npublic class RssController {\n\n    private final RssReader rssReader;\n\n    @GetMapping(&quot;/feed&quot;)\n    public List&lt;Rss&gt; getRssFeed() {\n        String feedUrl = &quot;https://samuel.co.id/category-research-reports/emiten-report-ssi/feed/&quot;;\n        return rssReader.readRssFeed(feedUrl);\n    }\n}\n</code></pre>\n"},{"tags":["java","naming","corba"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1383132806,"post_id":19680693,"comment_id":29230844,"body_markdown":"Please provide the actual code you are trying to run.  (Yea I know, you copied it out of the tutorial.  Just do it anyway!)","body":"Please provide the actual code you are trying to run.  (Yea I know, you copied it out of the tutorial.  Just do it anyway!)"}],"answers":[{"tags":[],"owner":{"account_id":4253115,"reputation":1,"user_id":3479511,"display_name":"OldTimer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396228887,"creation_date":1396228887,"answer_id":22752217,"question_id":19680693,"body_markdown":"Last time I used corba was a few years back. As I recall the idea is to stay away from naked Java &quot;cast&quot; operator, the recommended way to cast a CORBA Object was(is?) to use the target type&#39;s &quot;Helper&quot; method to narrow name2 to ctx2. I recommend\r\n\r\n        NameComponent name2[] = ctx.to_name(&quot;Personal&quot;);\r\n        NamingContextExt ctx2 = NamingContextExtHelper.narrow(name2);\r\n\r\n        not\r\n\r\n        NamingContextExt ctx2 = (NamingContextExt)ctx.bind_new_context(name2);\r\n","title":"Corba: org.omg.CosNaming._NamingContextStub cannot be cast to org.omg.CosNaming.NamingContextExt","body":"<p>Last time I used corba was a few years back. As I recall the idea is to stay away from naked Java \"cast\" operator, the recommended way to cast a CORBA Object was(is?) to use the target type's \"Helper\" method to narrow name2 to ctx2. I recommend</p>\n\n<pre><code>    NameComponent name2[] = ctx.to_name(\"Personal\");\n    NamingContextExt ctx2 = NamingContextExtHelper.narrow(name2);\n\n    not\n\n    NamingContextExt ctx2 = (NamingContextExt)ctx.bind_new_context(name2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689132015,"creation_date":1689132015,"answer_id":76666953,"question_id":19680693,"body_markdown":"You can try like this: Echo is your service interface which has logic\r\n```\r\n            org.omg.CORBA.Object objRef = orb.resolve_initial_references(&quot;NameService&quot;);\r\n            NamingContextExt ncRef = NamingContextExtHelper.narrow(objRef);\r\n            Echo href = EchoHelper.narrow(ncRef.resolve_str(&quot;ECHO-SERVER&quot;));\r\n\r\n            String hello = href.echoString();\r\n            System.out.println(hello);\r\n```","title":"Corba: org.omg.CosNaming._NamingContextStub cannot be cast to org.omg.CosNaming.NamingContextExt","body":"<p>You can try like this: Echo is your service interface which has logic</p>\n<pre><code>            org.omg.CORBA.Object objRef = orb.resolve_initial_references(&quot;NameService&quot;);\n            NamingContextExt ncRef = NamingContextExtHelper.narrow(objRef);\n            Echo href = EchoHelper.narrow(ncRef.resolve_str(&quot;ECHO-SERVER&quot;));\n\n            String hello = href.echoString();\n            System.out.println(hello);\n</code></pre>\n"}],"owner":{"account_id":135066,"reputation":2289,"user_id":337620,"accept_rate":73,"display_name":"user337620"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689132015,"creation_date":1383131674,"question_id":19680693,"body_markdown":"I want to build an object hierarchy over the CORBA namespace and I tried this tutorial\r\n\r\nhttp://docs.oracle.com/javase/7/docs/technotes/guides/idl/jidlNaming.html\r\n\r\n\r\nI successfully compiled  NameClient.java, started orbd on localhost then ran the test.\r\nIt failed with the following exception:\r\n\r\n    java.lang.ClassCastException: org.omg.CosNaming._NamingContextStub cannot be cast to org.omg.CosNaming.NamingContextExt\r\n            at NameClient.main(NameClient.java:24)\r\n\r\nThe source code for the NameClient class:\r\n\r\n    import java.util.Properties;\r\n    import org.omg.CORBA.*;\r\n    import org.omg.CosNaming.*;\r\n    \r\n    public class NameClient\r\n    {\r\n       public static void main(String args[])\r\n       {\r\n          try {\r\n            Properties props = new Properties();\r\n            props.put(&quot;org.omg.CORBA.ORBInitialPort&quot;, &quot;1050&quot;);\r\n            props.put(&quot;org.omg.CORBA.ORBInitialHost&quot;, &quot;localhost&quot;);\r\n            ORB orb = ORB.init(args, props);\r\n            NamingContextExt ctx =\r\n              NamingContextExtHelper.narrow(orb.resolve_initial_references(\r\n                &quot;NameService&quot;));\r\n            org.omg.CORBA.Object objref = ctx;\r\n            \r\n            NameComponent name1[] = ctx.to_name(&quot;plans&quot;);\r\n            ctx.rebind(name1, objref);\r\n            System.out.println(&quot;plans rebind successful!&quot;);\r\n            \r\n            NameComponent name2[] = ctx.to_name(&quot;Personal&quot;);\r\n            NamingContextExt ctx2 = (NamingContextExt)ctx.bind_new_context(name2);\r\n            System.out.println(&quot;New naming context, Personal, added!&quot;);\r\n            \r\n            NameComponent name3[] = ctx.to_name(&quot;schedule&quot;);\r\n            ctx2.rebind(name3, objref);\r\n            System.out.println(&quot;schedule rebind successful!&quot;);\r\n    \r\n            NameComponent name4[] = ctx.to_name(&quot;calendar&quot;);\r\n            ctx2.rebind(name4, objref);\r\n            System.out.println(&quot;calendar rebind successful!&quot;);\r\n    \r\n    \r\n        } catch (Exception e) {\r\n            e.printStackTrace(System.err);\r\n        }\r\n      }  \r\n    }\r\n\r\nIsn&#39;t this example suppose to work ? Any idea how to get passed this error ?\r\n\r\nThank you for helping.","title":"Corba: org.omg.CosNaming._NamingContextStub cannot be cast to org.omg.CosNaming.NamingContextExt","body":"<p>I want to build an object hierarchy over the CORBA namespace and I tried this tutorial</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/idl/jidlNaming.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/technotes/guides/idl/jidlNaming.html</a></p>\n\n<p>I successfully compiled  NameClient.java, started orbd on localhost then ran the test.\nIt failed with the following exception:</p>\n\n<pre><code>java.lang.ClassCastException: org.omg.CosNaming._NamingContextStub cannot be cast to org.omg.CosNaming.NamingContextExt\n        at NameClient.main(NameClient.java:24)\n</code></pre>\n\n<p>The source code for the NameClient class:</p>\n\n<pre><code>import java.util.Properties;\nimport org.omg.CORBA.*;\nimport org.omg.CosNaming.*;\n\npublic class NameClient\n{\n   public static void main(String args[])\n   {\n      try {\n        Properties props = new Properties();\n        props.put(\"org.omg.CORBA.ORBInitialPort\", \"1050\");\n        props.put(\"org.omg.CORBA.ORBInitialHost\", \"localhost\");\n        ORB orb = ORB.init(args, props);\n        NamingContextExt ctx =\n          NamingContextExtHelper.narrow(orb.resolve_initial_references(\n            \"NameService\"));\n        org.omg.CORBA.Object objref = ctx;\n\n        NameComponent name1[] = ctx.to_name(\"plans\");\n        ctx.rebind(name1, objref);\n        System.out.println(\"plans rebind successful!\");\n\n        NameComponent name2[] = ctx.to_name(\"Personal\");\n        NamingContextExt ctx2 = (NamingContextExt)ctx.bind_new_context(name2);\n        System.out.println(\"New naming context, Personal, added!\");\n\n        NameComponent name3[] = ctx.to_name(\"schedule\");\n        ctx2.rebind(name3, objref);\n        System.out.println(\"schedule rebind successful!\");\n\n        NameComponent name4[] = ctx.to_name(\"calendar\");\n        ctx2.rebind(name4, objref);\n        System.out.println(\"calendar rebind successful!\");\n\n\n    } catch (Exception e) {\n        e.printStackTrace(System.err);\n    }\n  }  \n}\n</code></pre>\n\n<p>Isn't this example suppose to work ? Any idea how to get passed this error ?</p>\n\n<p>Thank you for helping.</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":6940896,"reputation":410,"user_id":5327287,"display_name":"user5327287"},"score":0,"creation_date":1534545600,"post_id":51903228,"comment_id":90758242,"body_markdown":"I edited it. Sorry for bad english and writing.","body":"I edited it. Sorry for bad english and writing."},{"owner":{"account_id":526476,"reputation":27861,"user_id":1790644,"accept_rate":80,"display_name":"Matt Clark"},"score":0,"creation_date":1534545673,"post_id":51903228,"comment_id":90758262,"body_markdown":"Why not controlling your own animation by adjusting the color / opacity? Would not need any gifs.","body":"Why not controlling your own animation by adjusting the color / opacity? Would not need any gifs."},{"owner":{"account_id":6940896,"reputation":410,"user_id":5327287,"display_name":"user5327287"},"score":0,"creation_date":1534545903,"post_id":51903228,"comment_id":90758311,"body_markdown":"It will look like the second image and this is what I don&#39;t want.","body":"It will look like the second image and this is what I don&#39;t want."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1534546628,"post_id":51903228,"comment_id":90758447,"body_markdown":"You do want a MouseListener.  In the mouseEntered method, call the [restart](https://docs.oracle.com/javase/10/docs/api/javax/swing/Timer.html#restart%28%29) method of a javax.swing.Timer that carries out the animation.  In the mouseExited method, call the Timer’s [stop](https://docs.oracle.com/javase/10/docs/api/javax/swing/Timer.html#stop%28%29) method.","body":"You do want a MouseListener.  In the mouseEntered method, call the <a href=\"https://docs.oracle.com/javase/10/docs/api/javax/swing/Timer.html#restart%28%29\" rel=\"nofollow noreferrer\">restart</a> method of a javax.swing.Timer that carries out the animation.  In the mouseExited method, call the Timer’s <a href=\"https://docs.oracle.com/javase/10/docs/api/javax/swing/Timer.html#stop%28%29\" rel=\"nofollow noreferrer\">stop</a> method."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1534554720,"post_id":51903228,"comment_id":90759707,"body_markdown":"Maybe the [Fader](https://stackoverflow.com/questions/29796871/how-to-slowly-change-object-color-from-one-to-another/29802041#29802041) class will help you out. The code uses focusLost/Gained to do the fading so you would need to change that to mouseEntered/Exited, but you should get the idea.","body":"Maybe the <a href=\"https://stackoverflow.com/questions/29796871/how-to-slowly-change-object-color-from-one-to-another/29802041#29802041\">Fader</a> class will help you out. The code uses focusLost/Gained to do the fading so you would need to change that to mouseEntered/Exited, but you should get the idea."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1689131681,"creation_date":1534556282,"answer_id":51904555,"question_id":51903228,"body_markdown":"First things first, you&#39;re actually asking a very difficult and complicated question.  Animation done right is not easy and requires a lot state management.\r\n\r\nFor example, what happens if the user moves the mouse out of the menu item BEFORE it&#39;s finished animating?  Do you animate from the current state? Do you animate from what was to be the finished state? Do you animate across the full time range or only the remaining time range? How would you control and manage it all!?\r\n\r\nYou&#39;re also asking about animating across color ranges.  Color blending is actually not as easy as it might sound.  Sure you could argue you&#39;re just animating the alpha value, but blending the colors gives you a much greater opportunity to provide a different animation affect, like blending from a transparent green to an opaque blue, cool.\r\n\r\nAnimation is also not normally linear, there is a lot of theory that goes into animating something well, including anticipation, squash and stench, staging, blah, blah, blah - honestly, there are better people then me to take you through that.  The point is, good animation is complicated.\r\n\r\nMy first suggestion is to go an use a good animation framework, like [TimingFramework](https://github.com/akuhtz/timingframework) which does all the heavy lifting for you.\r\n\r\nOn the off chance you can&#39;t do that, then you&#39;re in for a fun ride.\r\n\r\nThe first, well actually, easy thing, is to find a good color blending algorithm.  I spent a lot of time exploring different algorithms and trying a bunch of different things before settling on something like...\r\n\r\n\tprotected Color blend(Color color1, Color color2, double ratio) {\r\n\t\tfloat r = (float) ratio;\r\n\t\tfloat ir = (float) 1.0 - r;\r\n\r\n\t\tfloat red = color1.getRed() * r + color2.getRed() * ir;\r\n\t\tfloat green = color1.getGreen() * r + color2.getGreen() * ir;\r\n\t\tfloat blue = color1.getBlue() * r + color2.getBlue() * ir;\r\n\t\tfloat alpha = color1.getAlpha() * r + color2.getAlpha() * ir;\r\n\r\n\t\tred = Math.min(255f, Math.max(0f, red));\r\n\t\tgreen = Math.min(255f, Math.max(0f, green));\r\n\t\tblue = Math.min(255f, Math.max(0f, blue));\r\n\t\talpha = Math.min(255f, Math.max(0f, alpha));\r\n\r\n\t\tColor color = null;\r\n\t\ttry {\r\n\t\t\tcolor = new Color((int) red, (int) green, (int) blue, (int) alpha);\r\n\t\t} catch (IllegalArgumentException exp) {\r\n\t\t\texp.printStackTrace();\r\n\t\t}\r\n\t\treturn color;\r\n\t}\r\n\r\nThe reason I use this approach is I can easily move a color towards black or white, which many other approaches couldn&#39;t achieve (just moved the color to high or low ranges).  This also focuses on blending two colors together based on a ratio of between `0` and `1` (so at `0.5`, there balanced blend between the two).\r\n\r\n# Animation Engine...\r\n\r\nNote: Swing is single threaded AND not thread safe, you need to take that into consideration when developing a solution.\r\nOkay, the hard part...\r\n\r\nIt&#39;s easy to do a linear animation, animation from the start of one point until you reach the end of another point. The problem with this is, they don&#39;t scale well and don&#39;t generally produce a good natural feeling animation.\r\n\r\nInstead, what you want is a concept of an animation running over a period of time.  From this you can calculate the progression through the given period and calculate the value to be applied.\r\n\r\nThis approach scales well, you can change the time and not care about anything else, it will take care of itself.  It also works well on systems whose performance may not be up to a killer frame rate, as they can drop frames and mostly &quot;fake&quot; it\r\n\r\nOne key concept to keep in mind, animation is the &quot;illusion&quot; of change over time.\r\n\r\n## `Range`\r\n\r\n`Range` is a simple generic representation of a starting and ending point, then given a normalised progression (`0-1`) can calculate a reasonable representation between those points.\r\n\r\n\tpublic abstract class Range&lt;T&gt; {\r\n\r\n\t\tprivate T from;\r\n\t\tprivate T to;\r\n\r\n\t\tpublic Range(T from, T to) {\r\n\t\t\tthis.from = from;\r\n\t\t\tthis.to = to;\r\n\t\t}\r\n\r\n\t\tpublic T getFrom() {\r\n\t\t\treturn from;\r\n\t\t}\r\n\r\n\t\tpublic T getTo() {\r\n\t\t\treturn to;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;From &quot; + getFrom() + &quot; to &quot; + getTo();\r\n\t\t}\r\n\r\n\t\tpublic abstract T valueAt(double progress);\r\n\r\n\t}\r\n\r\nThe stupid thing is, I do this a lot, so, here is a helper class to encapsulate the core concept.\r\n\r\n## `Animator`\r\n\r\nThis is a &quot;central&quot; engine which drives all the animations.  It repeatedly ticks at about every 5 milliseconds and drives the `Animatable` objects, which actually calculate the time through the animation.\r\n\r\n\tpublic enum Animator {\r\n\r\n\t\tINSTANCE;\r\n\r\n\t\tprivate Timer timer;\r\n\r\n\t\tprivate List&lt;Animatable&gt; properies;\r\n\r\n\t\tprivate Animator() {\r\n\t\t\tproperies = new ArrayList&lt;&gt;(5);\r\n\t\t\ttimer = new Timer(5, new ActionListener() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\tIterator&lt;Animatable&gt; it = properies.iterator();\r\n\t\t\t\t\twhile (it.hasNext()) {\r\n\t\t\t\t\t\tAnimatable ap = it.next();\r\n\t\t\t\t\t\tif (ap.tick()) {\r\n\t\t\t\t\t\t\tit.remove();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (properies.isEmpty()) {\r\n\t\t\t\t\t\ttimer.stop();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tpublic void add(Animatable ap) {\r\n\t\t\tproperies.add(ap);\r\n\t\t\ttimer.start();\r\n\t\t}\r\n\r\n\t\tpublic void remove(Animatable ap) {\r\n\t\t\tproperies.remove(ap);\r\n\t\t\tif (properies.isEmpty()) {\r\n\t\t\t\ttimer.stop();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n## `Animatable`\r\n\r\nThis is &quot;something&quot; which can be animated.  It has a concept of a `Range` and a `Duration` over which it should be animated (it also supports easement, but I will talk about that later)\r\n\r\n\tpublic interface Animatable&lt;T&gt; {\r\n\t\tpublic Range&lt;T&gt; getRange();\r\n\t\tpublic T getValue();\r\n\t\tpublic boolean tick();\r\n\t\tpublic void setDuration(Duration duration);\r\n\t\tpublic Duration getDuration();\r\n\t\tpublic Easement getEasement();\r\n\t}\r\n\r\n## `AbstractAnimatable`\r\n\r\nA abstract implementation of `Animatable`.  This does all the cool, awesome, calculations on each `tick` to determine how far through the given animation cycle it is and generates notifications to registered listeners about the change in state, so they can actually do something about it...\r\n\r\n\tpublic abstract class AbstractAnimatable&lt;T&gt; implements Animatable&lt;T&gt; {\r\n\r\n\t\tprivate Range&lt;T&gt; range;\r\n\t\tprivate LocalDateTime startTime;\r\n\t\tprivate Duration duration = Duration.ofSeconds(5);\r\n\t\tprivate T value;\r\n\r\n\t\tprivate AnimatableListener&lt;T&gt; listener;\r\n\r\n\t\tprivate Easement easement;\r\n\r\n\t\tpublic AbstractAnimatable(Range&lt;T&gt; range, AnimatableListener&lt;T&gt; listener) {\r\n\t\t\tthis.range = range;\r\n\t\t\tthis.value = range.getFrom();\r\n\r\n\t\t\tthis.listener = listener;\r\n\t\t}\r\n\r\n\t\tpublic AbstractAnimatable(Range&lt;T&gt; range, Easement easement, AnimatableListener&lt;T&gt; listener) {\r\n\t\t\tthis(range, listener);\r\n\t\t\tthis.easement = easement;\r\n\t\t}\r\n\r\n\t\tpublic void setEasement(Easement easement) {\r\n\t\t\tthis.easement = easement;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Easement getEasement() {\r\n\t\t\treturn easement;\r\n\t\t}\r\n\r\n\t\tpublic void setDuration(Duration duration) {\r\n\t\t\tthis.duration = duration;\r\n\t\t}\r\n\r\n\t\tpublic Duration getDuration() {\r\n\t\t\treturn duration;\r\n\t\t}\r\n\r\n\t\tpublic Range&lt;T&gt; getRange() {\r\n\t\t\treturn range;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic T getValue() {\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\tpublic double getCurrentProgress(double rawProgress) {\r\n\t\t\tEasement easement = getEasement();\r\n\t\t\tdouble progress = Math.min(1.0, Math.max(0.0, getRawProgress()));\r\n\t\t\tif (easement != null) {\r\n\t\t\t\tprogress = easement.interpolate(progress);\r\n\t\t\t}\r\n\r\n\t\t\treturn progress;\r\n\t\t}\r\n\r\n\t\tpublic double getRawProgress() {\r\n\t\t\tif (startTime == null) {\r\n\t\t\t\tstartTime = LocalDateTime.now();\r\n\t\t\t}\r\n\t\t\tDuration duration = getDuration();\r\n\t\t\tDuration runningTime = Duration.between(startTime, LocalDateTime.now());\r\n\t\t\tdouble progress = (runningTime.toMillis() / (double) duration.toMillis());\r\n\t\t\treturn progress;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic boolean tick() {\r\n\t\t\tdouble rawProgress = getRawProgress();\r\n\t\t\tdouble progress = getCurrentProgress(rawProgress);\r\n\r\n\t\t\tif (rawProgress &gt;= 1.0) {\r\n\t\t\t\tprogress = 1.0;\r\n\t\t\t}\r\n\r\n\t\t\tvalue = getRange().valueAt(progress);\r\n\t\t\tlistener.stateChanged(this);\r\n\r\n\t\t\treturn progress &gt;= 1.0;\r\n\t\t}\r\n\r\n\t}\r\n\r\n## `AnimatableListener`\r\n\r\nA listener/observer to changes to a `AbstractAnimatable` state.  This way, the `AbstractAnimatable` can tell interested parties that the state has been updated and what that state currently is.\r\n\r\n\tpublic interface AnimatableListener&lt;T&gt; {\r\n\r\n\t\tpublic void stateChanged(Animatable&lt;T&gt; animator);\r\n\t}\r\n\r\n## `Easement`\r\n\r\nOkay, so I mentioned &quot;animation theory&quot;.  Basically what this is a implementation of a &quot;spline interpolation&quot; designed to provide common animation concepts, slow in, slow out, etc.  What this does is changes the &quot;progress&quot; value through the animation so that the &quot;speed&quot; of the animation &quot;appears&quot; to change over the duration of the animation ... fancy, pancy for making it &quot;look nice&quot;\r\n\r\n\tpublic enum Easement {\r\n\r\n\t\tSLOWINSLOWOUT(1d, 0d, 0d, 1d),\r\n\t\tFASTINSLOWOUT(0d, 0d, 1d, 1d),\r\n\t\tSLOWINFASTOUT(0d, 1d, 0d, 0d),\r\n\t\tSLOWIN(1d, 0d, 1d, 1d),\r\n\t\tSLOWOUT(0d, 0d, 0d, 1d);\r\n\r\n\t\tprivate final double points[];\r\n\r\n\t\tprivate final List&lt;PointUnit&gt; normalisedCurve;\r\n\r\n\t\tprivate Easement(double x1, double y1, double x2, double y2) {\r\n\t\t\tpoints = new double[]{x1, y1, x2, y2};\r\n\r\n\t\t\tfinal List&lt;Double&gt; baseLengths = new ArrayList&lt;&gt;();\r\n\t\t\tdouble prevX = 0;\r\n\t\t\tdouble prevY = 0;\r\n\t\t\tdouble cumulativeLength = 0;\r\n\t\t\tfor (double t = 0; t &lt;= 1; t += 0.01) {\r\n\t\t\t\tPoint2D xy = getXY(t);\r\n\t\t\t\tdouble length = cumulativeLength\r\n\t\t\t\t\t\t\t\t+ Math.sqrt((xy.getX() - prevX) * (xy.getX() - prevX)\r\n\t\t\t\t\t\t\t\t\t\t\t\t+ (xy.getY() - prevY) * (xy.getY() - prevY));\r\n\r\n\t\t\t\tbaseLengths.add(length);\r\n\t\t\t\tcumulativeLength = length;\r\n\t\t\t\tprevX = xy.getX();\r\n\t\t\t\tprevY = xy.getY();\r\n\t\t\t}\r\n\r\n\t\t\tnormalisedCurve = new ArrayList&lt;&gt;(baseLengths.size());\r\n\t\t\tint index = 0;\r\n\t\t\tfor (double t = 0; t &lt;= 1; t += 0.01) {\r\n\t\t\t\tdouble length = baseLengths.get(index++);\r\n\t\t\t\tdouble normalLength = length / cumulativeLength;\r\n\t\t\t\tnormalisedCurve.add(new PointUnit(t, normalLength));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic double interpolate(double fraction) {\r\n\t\t\tint low = 1;\r\n\t\t\tint high = normalisedCurve.size() - 1;\r\n\t\t\tint mid = 0;\r\n\t\t\twhile (low &lt;= high) {\r\n\t\t\t\tmid = (low + high) / 2;\r\n\r\n\t\t\t\tif (fraction &gt; normalisedCurve.get(mid).getPoint()) {\r\n\t\t\t\t\tlow = mid + 1;\r\n\t\t\t\t} else if (mid &gt; 0 &amp;&amp; fraction &lt; normalisedCurve.get(mid - 1).getPoint()) {\r\n\t\t\t\t\thigh = mid - 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t/*\r\n         * The answer lies between the &quot;mid&quot; item and its predecessor.\r\n\t\t\t */\r\n\t\t\tfinal PointUnit prevItem = normalisedCurve.get(mid - 1);\r\n\t\t\tfinal double prevFraction = prevItem.getPoint();\r\n\t\t\tfinal double prevT = prevItem.getDistance();\r\n\r\n\t\t\tfinal PointUnit item = normalisedCurve.get(mid);\r\n\t\t\tfinal double proportion = (fraction - prevFraction) / (item.getPoint() - prevFraction);\r\n\t\t\tfinal double interpolatedT = prevT + (proportion * (item.getDistance() - prevT));\r\n\t\t\treturn getY(interpolatedT);\r\n\t\t}\r\n\r\n\t\tprotected Point2D getXY(double t) {\r\n\t\t\tfinal double invT = 1 - t;\r\n\t\t\tfinal double b1 = 3 * t * invT * invT;\r\n\t\t\tfinal double b2 = 3 * t * t * invT;\r\n\t\t\tfinal double b3 = t * t * t;\r\n\t\t\tfinal Point2D xy = new Point2D.Double((b1 * points[0]) + (b2 * points[2]) + b3, (b1 * points[1]) + (b2 * points[3]) + b3);\r\n\t\t\treturn xy;\r\n\t\t}\r\n\r\n\t\tprotected double getY(double t) {\r\n\t\t\tfinal double invT = 1 - t;\r\n\t\t\tfinal double b1 = 3 * t * invT * invT;\r\n\t\t\tfinal double b2 = 3 * t * t * invT;\r\n\t\t\tfinal double b3 = t * t * t;\r\n\t\t\treturn (b1 * points[2]) + (b2 * points[3]) + b3;\r\n\t\t}\r\n\r\n\t\tprotected class PointUnit {\r\n\r\n\t\t\tprivate final double distance;\r\n\t\t\tprivate final double point;\r\n\r\n\t\t\tpublic PointUnit(double distance, double point) {\r\n\t\t\t\tthis.distance = distance;\r\n\t\t\t\tthis.point = point;\r\n\t\t\t}\r\n\r\n\t\t\tpublic double getDistance() {\r\n\t\t\t\treturn distance;\r\n\t\t\t}\r\n\r\n\t\t\tpublic double getPoint() {\r\n\t\t\t\treturn point;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n## So what?!\r\n\r\nOkay, about now, you&#39;re probably scratching your head, wishing you hadn&#39;t asked the question ;)\r\n\r\nHow does all this help.  The point is, all the above is re-usable, so you dump into a library somewhere and don&#39;t care about :/\r\n\r\nWhat you do is then implement the required features and apply...\r\n\r\n### `ColorRange`\r\n\r\nThis takes the `colorBlend` algorithm from before and wraps into a `Range` concept...\r\n\r\n\tpublic class ColorRange extends Range&lt;Color&gt; {\r\n\t\t\r\n\t\tpublic ColorRange(Color from, Color to) {\r\n\t\t\tsuper(from, to);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Color valueAt(double progress) {\r\n\t\t\tColor blend = blend(getTo(), getFrom(), progress);\r\n\t\t\treturn blend;\r\n\t\t}\r\n\r\n\t\tprotected Color blend(Color color1, Color color2, double ratio) {\r\n\t\t\tfloat r = (float) ratio;\r\n\t\t\tfloat ir = (float) 1.0 - r;\r\n\r\n\t\t\tfloat red = color1.getRed() * r + color2.getRed() * ir;\r\n\t\t\tfloat green = color1.getGreen() * r + color2.getGreen() * ir;\r\n\t\t\tfloat blue = color1.getBlue() * r + color2.getBlue() * ir;\r\n\t\t\tfloat alpha = color1.getAlpha() * r + color2.getAlpha() * ir;\r\n\r\n\t\t\tred = Math.min(255f, Math.max(0f, red));\r\n\t\t\tgreen = Math.min(255f, Math.max(0f, green));\r\n\t\t\tblue = Math.min(255f, Math.max(0f, blue));\r\n\t\t\talpha = Math.min(255f, Math.max(0f, alpha));\r\n\r\n\t\t\tColor color = null;\r\n\t\t\ttry {\r\n\t\t\t\tcolor = new Color((int) red, (int) green, (int) blue, (int) alpha);\r\n\t\t\t} catch (IllegalArgumentException exp) {\r\n\t\t\t\texp.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn color;\r\n\t\t}\r\n\r\n\t}\r\n\r\nThis allows us to calculate the required color based on the progression through the animation\r\n\r\n### `ColorAnimatable`\r\n\r\nWe then make a &quot;animatable color&quot; concept...\r\n\r\n\tpublic class ColorAnimatable extends AbstractAnimatable&lt;Color&gt; {\r\n\r\n\t\tpublic ColorAnimatable(ColorRange animationRange, Duration duration, AnimatableListener&lt;Color&gt; listener) {\r\n\t\t\tsuper(animationRange, listener);\r\n\t\t\tsetDuration(duration);\r\n\t\t}\r\n\r\n\t}\r\n\r\nThis means that we can establish a basic concept of a animation between two colors of a specified period of time and be notified when the animation state changes - it&#39;s nicely decoupled\r\n\r\n# Implementation...\r\n\r\nAnd &quot;finally&quot; we&#39;re ready to actually make something out of it...\r\n\r\n\tpublic class MenuItem extends JPanel {\r\n\r\n\t\tprivate Duration animationTime = Duration.ofSeconds(5);\r\n\t\tprivate JLabel label;\r\n\r\n\t\tprivate ColorAnimatable transitionAnimatable;\r\n\r\n\t\tprivate Color unfocusedColor = new Color(0, 0, 255, 0);\r\n\t\tprivate Color focusedColor = new Color(0, 0, 255, 255);\r\n\r\n\t\tpublic MenuItem() {\r\n\t\t\tsetOpaque(false);\r\n\t\t\tsetBorder(new EmptyBorder(8, 8, 8, 8));\r\n\t\t\tsetLayout(new GridBagLayout());\r\n\r\n\t\t\tsetBackground(unfocusedColor);\r\n\r\n\t\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n\t\t\tgbc.weightx = 1;\r\n\t\t\tgbc.fill = GridBagConstraints.BOTH;\r\n\r\n\t\t\tlabel = new JLabel();\r\n\t\t\tlabel.setForeground(Color.WHITE);\r\n\t\t\tlabel.setHorizontalAlignment(JLabel.LEADING);\r\n\t\t\tadd(label, gbc);\r\n\r\n\t\t\tlabel.addMouseListener(new MouseAdapter() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void mouseEntered(MouseEvent e) {\r\n\t\t\t\t\tdouble progress = stopAnimation();\r\n\t\t\t\t\ttransitionAnimatable = new ColorAnimatable(\r\n\t\t\t\t\t\t\t\t\tnew ColorRange(getBackground(), focusedColor), \r\n\t\t\t\t\t\t\t\t\tpreferredAnimationTime(progress), \r\n\t\t\t\t\t\t\t\t\tnew AnimatableListener&lt;Color&gt;() {\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void stateChanged(Animatable&lt;Color&gt; animator) {\r\n\t\t\t\t\t\t\tsetBackground(animator.getValue());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\ttransitionAnimatable.setEasement(Easement.SLOWOUT);\r\n\t\t\t\t\tAnimator.INSTANCE.add(transitionAnimatable);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void mouseExited(MouseEvent e) {\r\n\t\t\t\t\tdouble progress = stopAnimation();\r\n\t\t\t\t\ttransitionAnimatable = new ColorAnimatable(\r\n\t\t\t\t\t\t\t\t\tnew ColorRange(getBackground(), unfocusedColor), \r\n\t\t\t\t\t\t\t\t\tpreferredAnimationTime(progress), \r\n\t\t\t\t\t\t\t\t\tnew AnimatableListener&lt;Color&gt;() {\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void stateChanged(Animatable&lt;Color&gt; animator) {\r\n\t\t\t\t\t\t\tsetBackground(animator.getValue());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\ttransitionAnimatable.setEasement(Easement.SLOWOUT);\r\n\t\t\t\t\tAnimator.INSTANCE.add(transitionAnimatable);\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tpublic MenuItem(String text) {\r\n\t\t\tthis();\r\n\t\t\tsetText(text);\r\n\t\t}\r\n\r\n\t\tprotected Duration preferredAnimationTime(double currentProgress) {\r\n\t\t\tif (currentProgress &gt; 0.0 &amp;&amp; currentProgress &lt; 1.0) {\r\n\t\t\t\tdouble remainingProgress = 1.0 - currentProgress;\r\n\t\t\t\tdouble runningTime = animationTime.toMillis() * remainingProgress;\r\n\t\t\t\treturn Duration.ofMillis((long)runningTime);\r\n\t\t\t} \r\n\t\t\t\r\n\t\t\treturn animationTime;\r\n\t\t}\r\n\r\n\t\tprotected double stopAnimation() {\r\n\t\t\tif (transitionAnimatable != null) {\r\n\t\t\t\tAnimator.INSTANCE.remove(transitionAnimatable);\r\n\t\t\t\treturn transitionAnimatable.getRawProgress();\r\n\t\t\t}\r\n\t\t\treturn 0.0;\r\n\t\t}\r\n\r\n\t\tpublic void setText(String text) {\r\n\t\t\tlabel.setText(text);\r\n\t\t}\r\n\r\n\t\tpublic String getText() {\r\n\t\t\treturn label.getText();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void paintComponent(Graphics g) {\r\n\t\t\tsuper.paintComponent(g);\r\n\t\t\t// Because we&#39;re faking it\r\n\t\t\tg.setColor(getBackground());\r\n\t\t\tg.fillRect(0, 0, getWidth(), getHeight());\r\n\t\t}\r\n\r\n\t}\r\n\r\nThis looks complicated, but it&#39;s not to hard.  Basically it defines a focused and unfocused color, sets up a `MouseListener` to monitor the `mouseEntered` and `mouseExited` events and setups the `ColorAnimatable` based on the required transition.\r\n\r\nOne thing this does do, which might not be obvious, is it will take into account unfinished animation.  So if the user moves out of the item before the focus animation has completed, it will use the remaining time and the current color as starting point for the unfocus transition.\r\n\r\nBecause Swing components are either fully transparent or fully opaque, we need to &quot;fake&quot; the alpha support.  We do this by making the component fully transparent and then painting the background ourselves \r\n\r\n# Runnable example...\r\n\r\n[![Menu][1]][1]\r\n\r\n\timport java.awt.Color;\r\n\timport java.awt.EventQueue;\r\n\timport java.awt.Graphics;\r\n\timport java.awt.GridBagConstraints;\r\n\timport java.awt.GridBagLayout;\r\n\timport java.awt.event.ActionEvent;\r\n\timport java.awt.event.ActionListener;\r\n\timport java.awt.event.MouseAdapter;\r\n\timport java.awt.event.MouseEvent;\r\n\timport java.awt.geom.Point2D;\r\n\timport java.time.Duration;\r\n\timport java.time.LocalDateTime;\r\n\timport java.util.ArrayList;\r\n\timport java.util.Iterator;\r\n\timport java.util.List;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JLabel;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.Timer;\r\n\timport javax.swing.UIManager;\r\n\timport javax.swing.UnsupportedLookAndFeelException;\r\n\timport javax.swing.border.EmptyBorder;\r\n\r\n\tpublic class Test {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew Test();\r\n\t\t}\r\n\r\n\t\tpublic Test() {\r\n\t\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\t\t\t\t\t} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tJFrame frame = new JFrame(&quot;Testing&quot;);\r\n\t\t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t\tframe.add(new TestPane());\r\n\t\t\t\t\tframe.pack();\r\n\t\t\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tpublic class TestPane extends JPanel {\r\n\r\n\t\t\tpublic TestPane() {\r\n\t\t\t\tsetBorder(new EmptyBorder(8, 8, 8, 8));\r\n\t\t\t\tsetLayout(new GridBagLayout());\r\n\t\t\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n\t\t\t\tgbc.weightx = 1;\r\n\t\t\t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n\t\t\t\tgbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n\t\t\t\tadd(new MenuItem(&quot;Backup&quot;), gbc);\r\n\t\t\t\tadd(new MenuItem(&quot;Screenshots&quot;), gbc);\r\n\t\t\t\tadd(new MenuItem(&quot;Settings&quot;), gbc);\r\n\r\n\t\t\t\tsetBackground(Color.BLACK);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n        // Sorry, I&#39;m over the character limit, you will need to copy\r\n        // all the other classes yourself\r\n\t}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5L5Bl.gif\r\n\r\nYou could also have a look at:\r\n\r\n- [The Universal Tween Engine](https://github.com/AurelienRibon/universal-tween-engine) (not used yet)\r\n- [The TimingFramework](https://github.com/akuhtz/timingframework) (which a lot of the above is loosely based around)\r\n- [The Trident Animation Library](https://github.com/kirill-grouchnikov/radiance/blob/master/docs/trident/trident.md) (not used it) which is part of the [Radiance](https://github.com/kirill-grouchnikov/radiance) framework\r\n\r\nYou should also have a look at [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) to gain a better understanding into the underlying concept of how the engine itself works and why it was done this way","title":"JButton hover animation in Java Swing","body":"<p>First things first, you're actually asking a very difficult and complicated question.  Animation done right is not easy and requires a lot state management.</p>\n<p>For example, what happens if the user moves the mouse out of the menu item BEFORE it's finished animating?  Do you animate from the current state? Do you animate from what was to be the finished state? Do you animate across the full time range or only the remaining time range? How would you control and manage it all!?</p>\n<p>You're also asking about animating across color ranges.  Color blending is actually not as easy as it might sound.  Sure you could argue you're just animating the alpha value, but blending the colors gives you a much greater opportunity to provide a different animation affect, like blending from a transparent green to an opaque blue, cool.</p>\n<p>Animation is also not normally linear, there is a lot of theory that goes into animating something well, including anticipation, squash and stench, staging, blah, blah, blah - honestly, there are better people then me to take you through that.  The point is, good animation is complicated.</p>\n<p>My first suggestion is to go an use a good animation framework, like <a href=\"https://github.com/akuhtz/timingframework\" rel=\"nofollow noreferrer\">TimingFramework</a> which does all the heavy lifting for you.</p>\n<p>On the off chance you can't do that, then you're in for a fun ride.</p>\n<p>The first, well actually, easy thing, is to find a good color blending algorithm.  I spent a lot of time exploring different algorithms and trying a bunch of different things before settling on something like...</p>\n<pre><code>protected Color blend(Color color1, Color color2, double ratio) {\n    float r = (float) ratio;\n    float ir = (float) 1.0 - r;\n\n    float red = color1.getRed() * r + color2.getRed() * ir;\n    float green = color1.getGreen() * r + color2.getGreen() * ir;\n    float blue = color1.getBlue() * r + color2.getBlue() * ir;\n    float alpha = color1.getAlpha() * r + color2.getAlpha() * ir;\n\n    red = Math.min(255f, Math.max(0f, red));\n    green = Math.min(255f, Math.max(0f, green));\n    blue = Math.min(255f, Math.max(0f, blue));\n    alpha = Math.min(255f, Math.max(0f, alpha));\n\n    Color color = null;\n    try {\n        color = new Color((int) red, (int) green, (int) blue, (int) alpha);\n    } catch (IllegalArgumentException exp) {\n        exp.printStackTrace();\n    }\n    return color;\n}\n</code></pre>\n<p>The reason I use this approach is I can easily move a color towards black or white, which many other approaches couldn't achieve (just moved the color to high or low ranges).  This also focuses on blending two colors together based on a ratio of between <code>0</code> and <code>1</code> (so at <code>0.5</code>, there balanced blend between the two).</p>\n<h1>Animation Engine...</h1>\n<p>Note: Swing is single threaded AND not thread safe, you need to take that into consideration when developing a solution.\nOkay, the hard part...</p>\n<p>It's easy to do a linear animation, animation from the start of one point until you reach the end of another point. The problem with this is, they don't scale well and don't generally produce a good natural feeling animation.</p>\n<p>Instead, what you want is a concept of an animation running over a period of time.  From this you can calculate the progression through the given period and calculate the value to be applied.</p>\n<p>This approach scales well, you can change the time and not care about anything else, it will take care of itself.  It also works well on systems whose performance may not be up to a killer frame rate, as they can drop frames and mostly &quot;fake&quot; it</p>\n<p>One key concept to keep in mind, animation is the &quot;illusion&quot; of change over time.</p>\n<h2><code>Range</code></h2>\n<p><code>Range</code> is a simple generic representation of a starting and ending point, then given a normalised progression (<code>0-1</code>) can calculate a reasonable representation between those points.</p>\n<pre><code>public abstract class Range&lt;T&gt; {\n\n    private T from;\n    private T to;\n\n    public Range(T from, T to) {\n        this.from = from;\n        this.to = to;\n    }\n\n    public T getFrom() {\n        return from;\n    }\n\n    public T getTo() {\n        return to;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;From &quot; + getFrom() + &quot; to &quot; + getTo();\n    }\n\n    public abstract T valueAt(double progress);\n\n}\n</code></pre>\n<p>The stupid thing is, I do this a lot, so, here is a helper class to encapsulate the core concept.</p>\n<h2><code>Animator</code></h2>\n<p>This is a &quot;central&quot; engine which drives all the animations.  It repeatedly ticks at about every 5 milliseconds and drives the <code>Animatable</code> objects, which actually calculate the time through the animation.</p>\n<pre><code>public enum Animator {\n\n    INSTANCE;\n\n    private Timer timer;\n\n    private List&lt;Animatable&gt; properies;\n\n    private Animator() {\n        properies = new ArrayList&lt;&gt;(5);\n        timer = new Timer(5, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                Iterator&lt;Animatable&gt; it = properies.iterator();\n                while (it.hasNext()) {\n                    Animatable ap = it.next();\n                    if (ap.tick()) {\n                        it.remove();\n                    }\n                }\n                if (properies.isEmpty()) {\n                    timer.stop();\n                }\n            }\n        });\n    }\n\n    public void add(Animatable ap) {\n        properies.add(ap);\n        timer.start();\n    }\n\n    public void remove(Animatable ap) {\n        properies.remove(ap);\n        if (properies.isEmpty()) {\n            timer.stop();\n        }\n    }\n\n}\n</code></pre>\n<h2><code>Animatable</code></h2>\n<p>This is &quot;something&quot; which can be animated.  It has a concept of a <code>Range</code> and a <code>Duration</code> over which it should be animated (it also supports easement, but I will talk about that later)</p>\n<pre><code>public interface Animatable&lt;T&gt; {\n    public Range&lt;T&gt; getRange();\n    public T getValue();\n    public boolean tick();\n    public void setDuration(Duration duration);\n    public Duration getDuration();\n    public Easement getEasement();\n}\n</code></pre>\n<h2><code>AbstractAnimatable</code></h2>\n<p>A abstract implementation of <code>Animatable</code>.  This does all the cool, awesome, calculations on each <code>tick</code> to determine how far through the given animation cycle it is and generates notifications to registered listeners about the change in state, so they can actually do something about it...</p>\n<pre><code>public abstract class AbstractAnimatable&lt;T&gt; implements Animatable&lt;T&gt; {\n\n    private Range&lt;T&gt; range;\n    private LocalDateTime startTime;\n    private Duration duration = Duration.ofSeconds(5);\n    private T value;\n\n    private AnimatableListener&lt;T&gt; listener;\n\n    private Easement easement;\n\n    public AbstractAnimatable(Range&lt;T&gt; range, AnimatableListener&lt;T&gt; listener) {\n        this.range = range;\n        this.value = range.getFrom();\n\n        this.listener = listener;\n    }\n\n    public AbstractAnimatable(Range&lt;T&gt; range, Easement easement, AnimatableListener&lt;T&gt; listener) {\n        this(range, listener);\n        this.easement = easement;\n    }\n\n    public void setEasement(Easement easement) {\n        this.easement = easement;\n    }\n\n    @Override\n    public Easement getEasement() {\n        return easement;\n    }\n\n    public void setDuration(Duration duration) {\n        this.duration = duration;\n    }\n\n    public Duration getDuration() {\n        return duration;\n    }\n\n    public Range&lt;T&gt; getRange() {\n        return range;\n    }\n\n    @Override\n    public T getValue() {\n        return value;\n    }\n\n    public double getCurrentProgress(double rawProgress) {\n        Easement easement = getEasement();\n        double progress = Math.min(1.0, Math.max(0.0, getRawProgress()));\n        if (easement != null) {\n            progress = easement.interpolate(progress);\n        }\n\n        return progress;\n    }\n\n    public double getRawProgress() {\n        if (startTime == null) {\n            startTime = LocalDateTime.now();\n        }\n        Duration duration = getDuration();\n        Duration runningTime = Duration.between(startTime, LocalDateTime.now());\n        double progress = (runningTime.toMillis() / (double) duration.toMillis());\n        return progress;\n    }\n\n    @Override\n    public boolean tick() {\n        double rawProgress = getRawProgress();\n        double progress = getCurrentProgress(rawProgress);\n\n        if (rawProgress &gt;= 1.0) {\n            progress = 1.0;\n        }\n\n        value = getRange().valueAt(progress);\n        listener.stateChanged(this);\n\n        return progress &gt;= 1.0;\n    }\n\n}\n</code></pre>\n<h2><code>AnimatableListener</code></h2>\n<p>A listener/observer to changes to a <code>AbstractAnimatable</code> state.  This way, the <code>AbstractAnimatable</code> can tell interested parties that the state has been updated and what that state currently is.</p>\n<pre><code>public interface AnimatableListener&lt;T&gt; {\n\n    public void stateChanged(Animatable&lt;T&gt; animator);\n}\n</code></pre>\n<h2><code>Easement</code></h2>\n<p>Okay, so I mentioned &quot;animation theory&quot;.  Basically what this is a implementation of a &quot;spline interpolation&quot; designed to provide common animation concepts, slow in, slow out, etc.  What this does is changes the &quot;progress&quot; value through the animation so that the &quot;speed&quot; of the animation &quot;appears&quot; to change over the duration of the animation ... fancy, pancy for making it &quot;look nice&quot;</p>\n<pre><code>public enum Easement {\n\n    SLOWINSLOWOUT(1d, 0d, 0d, 1d),\n    FASTINSLOWOUT(0d, 0d, 1d, 1d),\n    SLOWINFASTOUT(0d, 1d, 0d, 0d),\n    SLOWIN(1d, 0d, 1d, 1d),\n    SLOWOUT(0d, 0d, 0d, 1d);\n\n    private final double points[];\n\n    private final List&lt;PointUnit&gt; normalisedCurve;\n\n    private Easement(double x1, double y1, double x2, double y2) {\n        points = new double[]{x1, y1, x2, y2};\n\n        final List&lt;Double&gt; baseLengths = new ArrayList&lt;&gt;();\n        double prevX = 0;\n        double prevY = 0;\n        double cumulativeLength = 0;\n        for (double t = 0; t &lt;= 1; t += 0.01) {\n            Point2D xy = getXY(t);\n            double length = cumulativeLength\n                            + Math.sqrt((xy.getX() - prevX) * (xy.getX() - prevX)\n                                            + (xy.getY() - prevY) * (xy.getY() - prevY));\n\n            baseLengths.add(length);\n            cumulativeLength = length;\n            prevX = xy.getX();\n            prevY = xy.getY();\n        }\n\n        normalisedCurve = new ArrayList&lt;&gt;(baseLengths.size());\n        int index = 0;\n        for (double t = 0; t &lt;= 1; t += 0.01) {\n            double length = baseLengths.get(index++);\n            double normalLength = length / cumulativeLength;\n            normalisedCurve.add(new PointUnit(t, normalLength));\n        }\n    }\n\n    public double interpolate(double fraction) {\n        int low = 1;\n        int high = normalisedCurve.size() - 1;\n        int mid = 0;\n        while (low &lt;= high) {\n            mid = (low + high) / 2;\n\n            if (fraction &gt; normalisedCurve.get(mid).getPoint()) {\n                low = mid + 1;\n            } else if (mid &gt; 0 &amp;&amp; fraction &lt; normalisedCurve.get(mid - 1).getPoint()) {\n                high = mid - 1;\n            } else {\n                break;\n            }\n        }\n        /*\n     * The answer lies between the &quot;mid&quot; item and its predecessor.\n         */\n        final PointUnit prevItem = normalisedCurve.get(mid - 1);\n        final double prevFraction = prevItem.getPoint();\n        final double prevT = prevItem.getDistance();\n\n        final PointUnit item = normalisedCurve.get(mid);\n        final double proportion = (fraction - prevFraction) / (item.getPoint() - prevFraction);\n        final double interpolatedT = prevT + (proportion * (item.getDistance() - prevT));\n        return getY(interpolatedT);\n    }\n\n    protected Point2D getXY(double t) {\n        final double invT = 1 - t;\n        final double b1 = 3 * t * invT * invT;\n        final double b2 = 3 * t * t * invT;\n        final double b3 = t * t * t;\n        final Point2D xy = new Point2D.Double((b1 * points[0]) + (b2 * points[2]) + b3, (b1 * points[1]) + (b2 * points[3]) + b3);\n        return xy;\n    }\n\n    protected double getY(double t) {\n        final double invT = 1 - t;\n        final double b1 = 3 * t * invT * invT;\n        final double b2 = 3 * t * t * invT;\n        final double b3 = t * t * t;\n        return (b1 * points[2]) + (b2 * points[3]) + b3;\n    }\n\n    protected class PointUnit {\n\n        private final double distance;\n        private final double point;\n\n        public PointUnit(double distance, double point) {\n            this.distance = distance;\n            this.point = point;\n        }\n\n        public double getDistance() {\n            return distance;\n        }\n\n        public double getPoint() {\n            return point;\n        }\n\n    }\n\n}\n</code></pre>\n<h2>So what?!</h2>\n<p>Okay, about now, you're probably scratching your head, wishing you hadn't asked the question ;)</p>\n<p>How does all this help.  The point is, all the above is re-usable, so you dump into a library somewhere and don't care about :/</p>\n<p>What you do is then implement the required features and apply...</p>\n<h3><code>ColorRange</code></h3>\n<p>This takes the <code>colorBlend</code> algorithm from before and wraps into a <code>Range</code> concept...</p>\n<pre><code>public class ColorRange extends Range&lt;Color&gt; {\n    \n    public ColorRange(Color from, Color to) {\n        super(from, to);\n    }\n\n    @Override\n    public Color valueAt(double progress) {\n        Color blend = blend(getTo(), getFrom(), progress);\n        return blend;\n    }\n\n    protected Color blend(Color color1, Color color2, double ratio) {\n        float r = (float) ratio;\n        float ir = (float) 1.0 - r;\n\n        float red = color1.getRed() * r + color2.getRed() * ir;\n        float green = color1.getGreen() * r + color2.getGreen() * ir;\n        float blue = color1.getBlue() * r + color2.getBlue() * ir;\n        float alpha = color1.getAlpha() * r + color2.getAlpha() * ir;\n\n        red = Math.min(255f, Math.max(0f, red));\n        green = Math.min(255f, Math.max(0f, green));\n        blue = Math.min(255f, Math.max(0f, blue));\n        alpha = Math.min(255f, Math.max(0f, alpha));\n\n        Color color = null;\n        try {\n            color = new Color((int) red, (int) green, (int) blue, (int) alpha);\n        } catch (IllegalArgumentException exp) {\n            exp.printStackTrace();\n        }\n        return color;\n    }\n\n}\n</code></pre>\n<p>This allows us to calculate the required color based on the progression through the animation</p>\n<h3><code>ColorAnimatable</code></h3>\n<p>We then make a &quot;animatable color&quot; concept...</p>\n<pre><code>public class ColorAnimatable extends AbstractAnimatable&lt;Color&gt; {\n\n    public ColorAnimatable(ColorRange animationRange, Duration duration, AnimatableListener&lt;Color&gt; listener) {\n        super(animationRange, listener);\n        setDuration(duration);\n    }\n\n}\n</code></pre>\n<p>This means that we can establish a basic concept of a animation between two colors of a specified period of time and be notified when the animation state changes - it's nicely decoupled</p>\n<h1>Implementation...</h1>\n<p>And &quot;finally&quot; we're ready to actually make something out of it...</p>\n<pre><code>public class MenuItem extends JPanel {\n\n    private Duration animationTime = Duration.ofSeconds(5);\n    private JLabel label;\n\n    private ColorAnimatable transitionAnimatable;\n\n    private Color unfocusedColor = new Color(0, 0, 255, 0);\n    private Color focusedColor = new Color(0, 0, 255, 255);\n\n    public MenuItem() {\n        setOpaque(false);\n        setBorder(new EmptyBorder(8, 8, 8, 8));\n        setLayout(new GridBagLayout());\n\n        setBackground(unfocusedColor);\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.weightx = 1;\n        gbc.fill = GridBagConstraints.BOTH;\n\n        label = new JLabel();\n        label.setForeground(Color.WHITE);\n        label.setHorizontalAlignment(JLabel.LEADING);\n        add(label, gbc);\n\n        label.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseEntered(MouseEvent e) {\n                double progress = stopAnimation();\n                transitionAnimatable = new ColorAnimatable(\n                                new ColorRange(getBackground(), focusedColor), \n                                preferredAnimationTime(progress), \n                                new AnimatableListener&lt;Color&gt;() {\n                    @Override\n                    public void stateChanged(Animatable&lt;Color&gt; animator) {\n                        setBackground(animator.getValue());\n                    }\n                });\n                transitionAnimatable.setEasement(Easement.SLOWOUT);\n                Animator.INSTANCE.add(transitionAnimatable);\n            }\n\n            @Override\n            public void mouseExited(MouseEvent e) {\n                double progress = stopAnimation();\n                transitionAnimatable = new ColorAnimatable(\n                                new ColorRange(getBackground(), unfocusedColor), \n                                preferredAnimationTime(progress), \n                                new AnimatableListener&lt;Color&gt;() {\n                    @Override\n                    public void stateChanged(Animatable&lt;Color&gt; animator) {\n                        setBackground(animator.getValue());\n                    }\n                });\n                transitionAnimatable.setEasement(Easement.SLOWOUT);\n                Animator.INSTANCE.add(transitionAnimatable);\n            }\n\n        });\n    }\n\n    public MenuItem(String text) {\n        this();\n        setText(text);\n    }\n\n    protected Duration preferredAnimationTime(double currentProgress) {\n        if (currentProgress &gt; 0.0 &amp;&amp; currentProgress &lt; 1.0) {\n            double remainingProgress = 1.0 - currentProgress;\n            double runningTime = animationTime.toMillis() * remainingProgress;\n            return Duration.ofMillis((long)runningTime);\n        } \n        \n        return animationTime;\n    }\n\n    protected double stopAnimation() {\n        if (transitionAnimatable != null) {\n            Animator.INSTANCE.remove(transitionAnimatable);\n            return transitionAnimatable.getRawProgress();\n        }\n        return 0.0;\n    }\n\n    public void setText(String text) {\n        label.setText(text);\n    }\n\n    public String getText() {\n        return label.getText();\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        // Because we're faking it\n        g.setColor(getBackground());\n        g.fillRect(0, 0, getWidth(), getHeight());\n    }\n\n}\n</code></pre>\n<p>This looks complicated, but it's not to hard.  Basically it defines a focused and unfocused color, sets up a <code>MouseListener</code> to monitor the <code>mouseEntered</code> and <code>mouseExited</code> events and setups the <code>ColorAnimatable</code> based on the required transition.</p>\n<p>One thing this does do, which might not be obvious, is it will take into account unfinished animation.  So if the user moves out of the item before the focus animation has completed, it will use the remaining time and the current color as starting point for the unfocus transition.</p>\n<p>Because Swing components are either fully transparent or fully opaque, we need to &quot;fake&quot; the alpha support.  We do this by making the component fully transparent and then painting the background ourselves</p>\n<h1>Runnable example...</h1>\n<p><a href=\"https://i.stack.imgur.com/5L5Bl.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5L5Bl.gif\" alt=\"Menu\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.geom.Point2D;\nimport java.time.Duration;\nimport java.time.LocalDateTime;\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\nimport javax.swing.border.EmptyBorder;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setBorder(new EmptyBorder(8, 8, 8, 8));\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.weightx = 1;\n            gbc.fill = GridBagConstraints.HORIZONTAL;\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            add(new MenuItem(&quot;Backup&quot;), gbc);\n            add(new MenuItem(&quot;Screenshots&quot;), gbc);\n            add(new MenuItem(&quot;Settings&quot;), gbc);\n\n            setBackground(Color.BLACK);\n        }\n\n    }\n\n    // Sorry, I'm over the character limit, you will need to copy\n    // all the other classes yourself\n}\n</code></pre>\n<p>You could also have a look at:</p>\n<ul>\n<li><a href=\"https://github.com/AurelienRibon/universal-tween-engine\" rel=\"nofollow noreferrer\">The Universal Tween Engine</a> (not used yet)</li>\n<li><a href=\"https://github.com/akuhtz/timingframework\" rel=\"nofollow noreferrer\">The TimingFramework</a> (which a lot of the above is loosely based around)</li>\n<li><a href=\"https://github.com/kirill-grouchnikov/radiance/blob/master/docs/trident/trident.md\" rel=\"nofollow noreferrer\">The Trident Animation Library</a> (not used it) which is part of the <a href=\"https://github.com/kirill-grouchnikov/radiance\" rel=\"nofollow noreferrer\">Radiance</a> framework</li>\n</ul>\n<p>You should also have a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> to gain a better understanding into the underlying concept of how the engine itself works and why it was done this way</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534691766,"creation_date":1534691766,"answer_id":51919081,"question_id":51903228,"body_markdown":"This is a much simpler implementation than what MadProgrammer has suggested.  It makes some naive assumptions, such as linear color interpolation.  It also does not attempt alpha blending of the animation colors.  And it does not support animation in response to keyboard navigation.\r\n\r\nThe inner Fader class does animation in one direction, using a javax.swing.Timer.  Each JMenuItem is assigned two Fader objects, one for transitioning to the highlight color, and another to transition back to the regular background color.\r\n\r\nIt is also necessary to override the UI delegate object, since most look-and-feels want to enforce their own colors regardless of a JMenuItem’s background, either all the time or when the menu item has keyboard focus.\r\n\r\n    import java.util.Objects;\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n\r\n    import javax.swing.AbstractButton;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JMenuItem;\r\n    import javax.swing.JPopupMenu;\r\n    import javax.swing.Timer;\r\n    import javax.swing.plaf.basic.BasicMenuItemUI;\r\n\r\n    public class FadingMenuTest {\r\n        private static final int animDurationMillis = 500;\r\n        private static final int frameCount = 8;\r\n\r\n        private static class Fader {\r\n            private final Component component;\r\n\r\n            private final Color normalBackground;\r\n            private final float[] normalRGBA;\r\n            private final float[] targetRGBA;\r\n            private final float[] rgba = new float[4];\r\n\r\n            private final Timer timer = new Timer(animDurationMillis / frameCount,\r\n                e -&gt; updateBackground());\r\n\r\n            private int frameNumber;\r\n\r\n            Fader(Component component,\r\n                  Color targetBackground,\r\n                  Color normalBackground) {\r\n\r\n                this.component = Objects.requireNonNull(component);\r\n                this.normalBackground = normalBackground;\r\n                this.normalRGBA = normalBackground.getComponents(null);\r\n                this.targetRGBA = targetBackground.getComponents(null);\r\n            }\r\n\r\n            private void updateBackground() {\r\n                if (++frameNumber &gt; frameCount) {\r\n                    timer.stop();\r\n                    return;\r\n                }\r\n\r\n                for (int i = rgba.length - 1; i &gt;= 0; i--) {\r\n                    float normal = normalRGBA[i];\r\n                    float target = targetRGBA[i];\r\n                    rgba[i] =\r\n                        normal + (target - normal) * frameNumber / frameCount;\r\n                }\r\n\r\n                component.setBackground(\r\n                    new Color(rgba[0], rgba[1], rgba[2], rgba[3]));\r\n            }\r\n\r\n            void start() {\r\n                frameNumber = 0;\r\n                timer.restart();\r\n                component.setBackground(normalBackground);\r\n            }\r\n\r\n            void stop() {\r\n                timer.stop();\r\n                component.setBackground(normalBackground);\r\n            }\r\n        }\r\n\r\n        static void addFadeOnHover(Component component,\r\n                                   Color targetBackground,\r\n                                   Color normalBackground) {\r\n\r\n            Fader entryFader =\r\n                new Fader(component, targetBackground, normalBackground);\r\n            Fader exitFader =\r\n                new Fader(component, normalBackground, targetBackground);\r\n\r\n            component.addMouseListener(new MouseAdapter() {\r\n                private static final long serialVersionUID = 1;\r\n\r\n                @Override\r\n                public void mouseEntered(MouseEvent event) {\r\n                    exitFader.stop();\r\n                    entryFader.start();\r\n                }\r\n\r\n                @Override\r\n                public void mouseExited(MouseEvent event) {\r\n                    entryFader.stop();\r\n                    exitFader.start();\r\n                }\r\n            });\r\n        }\r\n\r\n        static void show() {\r\n            Color foreground = Color.WHITE;\r\n            Color background = new Color(0, 0, 128);\r\n            Color highlight = Color.BLUE;\r\n\r\n            JPopupMenu menu = new JPopupMenu();\r\n            menu.setBackground(background);\r\n\r\n            menu.add(new JMenuItem(String.format(&quot;%c Backup&quot;, 0x1f5ce)));\r\n            menu.add(new JMenuItem(String.format(&quot;%c Screenshots&quot;, 0x1f5b5)));\r\n            menu.add(new JMenuItem(&quot;\\u26ed Settings&quot;));\r\n\r\n            // Most look-and-feels will override any colors we set, especially\r\n            // when a menu item is selected.\r\n            BasicMenuItemUI ui = new BasicMenuItemUI() {\r\n                {\r\n                    selectionForeground = foreground;\r\n                    selectionBackground = background;\r\n                }\r\n\r\n                @Override\r\n                public void paintBackground(Graphics g,\r\n                                            JMenuItem item,\r\n                                            Color background) {\r\n                    super.paintBackground(g, item, item.getBackground());\r\n                }\r\n            };\r\n\r\n            for (Component item : menu.getComponents()) {\r\n                AbstractButton b = (AbstractButton) item;\r\n                b.setContentAreaFilled(false);\r\n                b.setOpaque(true);\r\n                b.setUI(ui);\r\n\r\n                item.setForeground(foreground);\r\n                item.setBackground(background);\r\n                addFadeOnHover(item, highlight, background);\r\n            }\r\n\r\n            JLabel label = new JLabel(&quot;Right click here&quot;);\r\n            label.setBorder(BorderFactory.createEmptyBorder(200, 200, 200, 200));\r\n            label.setComponentPopupMenu(menu);\r\n\r\n            JFrame frame = new JFrame(&quot;Fading Menu Test&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.getContentPane().add(label);\r\n            frame.pack();\r\n            frame.setLocationByPlatform(true);\r\n            frame.setVisible(true);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(() -&gt; show());\r\n        }\r\n    }\r\n","title":"JButton hover animation in Java Swing","body":"<p>This is a much simpler implementation than what MadProgrammer has suggested.  It makes some naive assumptions, such as linear color interpolation.  It also does not attempt alpha blending of the animation colors.  And it does not support animation in response to keyboard navigation.</p>\n\n<p>The inner Fader class does animation in one direction, using a javax.swing.Timer.  Each JMenuItem is assigned two Fader objects, one for transitioning to the highlight color, and another to transition back to the regular background color.</p>\n\n<p>It is also necessary to override the UI delegate object, since most look-and-feels want to enforce their own colors regardless of a JMenuItem’s background, either all the time or when the menu item has keyboard focus.</p>\n\n<pre><code>import java.util.Objects;\n\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\nimport javax.swing.AbstractButton;\nimport javax.swing.BorderFactory;\nimport javax.swing.JLabel;\nimport javax.swing.JFrame;\nimport javax.swing.JMenuItem;\nimport javax.swing.JPopupMenu;\nimport javax.swing.Timer;\nimport javax.swing.plaf.basic.BasicMenuItemUI;\n\npublic class FadingMenuTest {\n    private static final int animDurationMillis = 500;\n    private static final int frameCount = 8;\n\n    private static class Fader {\n        private final Component component;\n\n        private final Color normalBackground;\n        private final float[] normalRGBA;\n        private final float[] targetRGBA;\n        private final float[] rgba = new float[4];\n\n        private final Timer timer = new Timer(animDurationMillis / frameCount,\n            e -&gt; updateBackground());\n\n        private int frameNumber;\n\n        Fader(Component component,\n              Color targetBackground,\n              Color normalBackground) {\n\n            this.component = Objects.requireNonNull(component);\n            this.normalBackground = normalBackground;\n            this.normalRGBA = normalBackground.getComponents(null);\n            this.targetRGBA = targetBackground.getComponents(null);\n        }\n\n        private void updateBackground() {\n            if (++frameNumber &gt; frameCount) {\n                timer.stop();\n                return;\n            }\n\n            for (int i = rgba.length - 1; i &gt;= 0; i--) {\n                float normal = normalRGBA[i];\n                float target = targetRGBA[i];\n                rgba[i] =\n                    normal + (target - normal) * frameNumber / frameCount;\n            }\n\n            component.setBackground(\n                new Color(rgba[0], rgba[1], rgba[2], rgba[3]));\n        }\n\n        void start() {\n            frameNumber = 0;\n            timer.restart();\n            component.setBackground(normalBackground);\n        }\n\n        void stop() {\n            timer.stop();\n            component.setBackground(normalBackground);\n        }\n    }\n\n    static void addFadeOnHover(Component component,\n                               Color targetBackground,\n                               Color normalBackground) {\n\n        Fader entryFader =\n            new Fader(component, targetBackground, normalBackground);\n        Fader exitFader =\n            new Fader(component, normalBackground, targetBackground);\n\n        component.addMouseListener(new MouseAdapter() {\n            private static final long serialVersionUID = 1;\n\n            @Override\n            public void mouseEntered(MouseEvent event) {\n                exitFader.stop();\n                entryFader.start();\n            }\n\n            @Override\n            public void mouseExited(MouseEvent event) {\n                entryFader.stop();\n                exitFader.start();\n            }\n        });\n    }\n\n    static void show() {\n        Color foreground = Color.WHITE;\n        Color background = new Color(0, 0, 128);\n        Color highlight = Color.BLUE;\n\n        JPopupMenu menu = new JPopupMenu();\n        menu.setBackground(background);\n\n        menu.add(new JMenuItem(String.format(\"%c Backup\", 0x1f5ce)));\n        menu.add(new JMenuItem(String.format(\"%c Screenshots\", 0x1f5b5)));\n        menu.add(new JMenuItem(\"\\u26ed Settings\"));\n\n        // Most look-and-feels will override any colors we set, especially\n        // when a menu item is selected.\n        BasicMenuItemUI ui = new BasicMenuItemUI() {\n            {\n                selectionForeground = foreground;\n                selectionBackground = background;\n            }\n\n            @Override\n            public void paintBackground(Graphics g,\n                                        JMenuItem item,\n                                        Color background) {\n                super.paintBackground(g, item, item.getBackground());\n            }\n        };\n\n        for (Component item : menu.getComponents()) {\n            AbstractButton b = (AbstractButton) item;\n            b.setContentAreaFilled(false);\n            b.setOpaque(true);\n            b.setUI(ui);\n\n            item.setForeground(foreground);\n            item.setBackground(background);\n            addFadeOnHover(item, highlight, background);\n        }\n\n        JLabel label = new JLabel(\"Right click here\");\n        label.setBorder(BorderFactory.createEmptyBorder(200, 200, 200, 200));\n        label.setComponentPopupMenu(menu);\n\n        JFrame frame = new JFrame(\"Fading Menu Test\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(label);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; show());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6940896,"reputation":410,"user_id":5327287,"display_name":"user5327287"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4288,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1689131681,"creation_date":1534542216,"question_id":51903228,"body_markdown":"I working on GUI window with Swing and I want to create a navegetion menu. I want to add an animation to the navegetion menu&#39;s buttons when hovering on them with the mouse.\r\n\r\nSomthing like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI can&#39;t do it with mouse listener because it just change between colors without animation like so\r\n\r\n[![enter image description here][2]][2]\r\n\r\n With rolloving it require gifs and different screens sizes will require different gif sizes.\r\n\r\nIs there a way to do it some how throw the code?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M4fQT.gif\r\n  [2]: https://i.stack.imgur.com/yXTK5.gif","title":"JButton hover animation in Java Swing","body":"<p>I working on GUI window with Swing and I want to create a navegetion menu. I want to add an animation to the navegetion menu's buttons when hovering on them with the mouse.</p>\n\n<p>Somthing like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/M4fQT.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M4fQT.gif\" alt=\"enter image description here\"></a></p>\n\n<p>I can't do it with mouse listener because it just change between colors without animation like so</p>\n\n<p><a href=\"https://i.stack.imgur.com/yXTK5.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yXTK5.gif\" alt=\"enter image description here\"></a></p>\n\n<p>With rolloving it require gifs and different screens sizes will require different gif sizes.</p>\n\n<p>Is there a way to do it some how throw the code?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9678,"page":314,"page_size":100}
