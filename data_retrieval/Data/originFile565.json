{"items":[{"tags":["java"],"owner":{"account_id":23261226,"reputation":1,"user_id":17347452,"display_name":"Aaranyak Santra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679138267,"answer_count":0,"score":0,"last_activity_date":1679138262,"creation_date":1679133843,"question_id":75775137,"body_markdown":"I have made a folder and inside that a java file. When I am trying to run the java program then I am getting this error.\r\nThe name of my folder is DSA and java file is Tut1.I have added the package DSA.\r\nAnother thing is that when I am removing that line package DSA then vscode is showing some error with red line but I am getting the ouput. How do I rectify it?\r\n\r\nI tried to remove the line Package DSA and then I was getting the output.","title":"Error: Could not find or load main class Tut1 Caused by: java.lang.NoClassDefFoundError: DSA/Tut1/Tut1 (wrong name: Tut1)","body":"<p>I have made a folder and inside that a java file. When I am trying to run the java program then I am getting this error.\nThe name of my folder is DSA and java file is Tut1.I have added the package DSA.\nAnother thing is that when I am removing that line package DSA then vscode is showing some error with red line but I am getting the ouput. How do I rectify it?</p>\n<p>I tried to remove the line Package DSA and then I was getting the output.</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":27996859,"reputation":1,"user_id":21381895,"display_name":"kassyiKuni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679137995,"creation_date":1678652742,"answer_id":75716180,"question_id":75712176,"body_markdown":"I was self-resolved\r\n\r\nI add this code to `SuccessHandler` before `response.sendRedirect(redirectPath);`\r\n\r\n    SecurityContextRepository securityContextRepository = new HttpSessionSecurityContextRepository();\r\n    SecurityContext context = securityContextHolderStrategy.createEmptyContext();\r\n    context.setAuthentication(authentication); \r\n    securityContextHolderStrategy.setContext(SecurityContextHolder.getContext());\r\n    securityContextRepository.saveContext(context, request, response); \r\n\r\nAnd add this code:\r\n\r\n    private final SecurityContextHolderStrategy securityContextHolderStrategy = SecurityContextHolder.getContextHolderStrategy();\r\n\r\n\r\nThe cause of this problem was not storing &quot;Authentication&quot;\r\n\r\nReference: https://docs.spring.io/spring-security/reference/servlet/authentication/session-management.html#store-authentication-manually","title":"When add CustomFilter then null was passed to AuthenticationPrincipal in Controller","body":"<p>I was self-resolved</p>\n<p>I add this code to <code>SuccessHandler</code> before <code>response.sendRedirect(redirectPath);</code></p>\n<pre><code>SecurityContextRepository securityContextRepository = new HttpSessionSecurityContextRepository();\nSecurityContext context = securityContextHolderStrategy.createEmptyContext();\ncontext.setAuthentication(authentication); \nsecurityContextHolderStrategy.setContext(SecurityContextHolder.getContext());\nsecurityContextRepository.saveContext(context, request, response); \n</code></pre>\n<p>And add this code:</p>\n<pre><code>private final SecurityContextHolderStrategy securityContextHolderStrategy = SecurityContextHolder.getContextHolderStrategy();\n</code></pre>\n<p>The cause of this problem was not storing &quot;Authentication&quot;</p>\n<p>Reference: <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/session-management.html#store-authentication-manually\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/authentication/session-management.html#store-authentication-manually</a></p>\n"}],"owner":{"account_id":27996859,"reputation":1,"user_id":21381895,"display_name":"kassyiKuni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679137995,"creation_date":1678613209,"question_id":75712176,"body_markdown":"I added &quot;TenantID&quot; to login-page that authenticate login-user with username and password,\r\nAnd added &quot;CustomAuthenticationFilter&quot;,&quot;CustomAuthenticationProvider&quot;,&quot;MethodSecurityConfig&quot;,&quot;SuccessHandler&quot; and append that to &quot;SecurityConfig&quot;.\r\n\r\nThen It can get  user-data by &quot;SecurityContextHolder.getContext().getAuthentication().getPrincipal()&quot; on &quot;SuccessHandler&quot; that implemented &quot;AuthenticationSuccessHandler&quot;.\r\n\r\nBut,AuthenticationPrincipal on Controller is null.\r\nI want teach me the cause and how to fix it.\r\n\r\nUse:SpringBoot3.0.4,SpringSecurity6.0.2\r\nNo problems with  &quot;SpringSecurity5.2.2&quot;  that used &quot;WebSecurityConfigurerAdapter&quot;\r\n\r\nSecurityConfig\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class SecurityConfig  {\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;SuccessHandler&quot;)\r\n    AuthenticationSuccessHandler successHandler;\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;UserDetailsServiceImpl&quot;)\r\n    private UserDetailsService userDetailsService;\r\n\r\n    //Bean by PasswordEncoder\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;CustomAuthenticationProvider&quot;)\r\n    private AuthenticationProvider authenticationProvider;\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.csrf(csrf -&gt; csrf.disable());\r\n\t\thttp.headers(head -&gt; head.frameOptions().disable());\r\n        http\r\n            .authorizeHttpRequests(authz -&gt; authz.requestMatchers(&quot;/login&quot;).permitAll() \r\n                .anyRequest().authenticated()); \r\n        http\r\n            .formLogin()\r\n//                .loginProcessingUrl(&quot;/login&quot;) \r\n                .loginPage(&quot;/login&quot;); \r\n//                .failureUrl(&quot;/login?error&quot;) \r\n//                .usernameParameter(&quot;userId&quot;) \r\n//                .passwordParameter(&quot;password&quot;) \r\n//                //.defaultSuccessUrl(&quot;/home&quot;, true); \r\n//                .successHandler(successHandler);\r\n\r\n        // Login-filters\r\n        CustomAuthenticationFilter filter = new CustomAuthenticationFilter();\r\n        filter.setRequiresAuthenticationRequestMatcher(new AntPathRequestMatcher(&quot;/login&quot;, &quot;POST&quot;));\r\n        filter.setAuthenticationManager(authenticationManagerBean());\r\n        filter.setAuthenticationFailureHandler(new SimpleUrlAuthenticationFailureHandler(&quot;/login?error&quot;));\r\n        filter.setAuthenticationSuccessHandler(successHandler);\r\n        http.addFilterBefore(filter, CustomAuthenticationFilter.class);\r\n\r\n        // Logout\r\n        http\r\n            .logout()\r\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                .logoutUrl(&quot;/logout&quot;)\r\n                .logoutSuccessUrl(&quot;/login&quot;);\r\n\r\n        return http.build();\r\n    }\r\n\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\tAuthenticationManager auth = new ProviderManager(authenticationProvider);\r\n\t\tSystem.out.println(&quot;AuthenticationManager&quot;);\r\n\t\tSystem.out.println(auth);\r\n\t\t\r\n\t\treturn new ProviderManager(authenticationProvider);\r\n\t}\r\n}\r\n```\r\n\r\nCustomAuthenticationFilter \r\n```\r\npublic class CustomAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) {\r\n\r\n        // ユーザー生成\r\n        AppUserDetails user = new AppUserDetails();\r\n        user.setTenantId(request.getParameter(&quot;tenantId&quot;));\r\n        user.setUserId(request.getParameter(&quot;userId&quot;));\r\n\r\n        // パスワード取得\r\n        String password = obtainPassword(request);\r\n\r\n        // トークンの作成\r\n        UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(user, password);\r\n\r\n        // リクエストの詳細をセットしておく\r\n        setDetails(request, authRequest);\r\n        \r\n        Authentication authz = this.getAuthenticationManager().authenticate(authRequest);\r\n        System.out.println(&quot;aaaaaaaauth&quot;);\r\n        System.out.println(authz);\r\n        // 認証の実施\r\n        return authz;\r\n    }\r\n}\r\n```\r\n\r\nCustomAuthenticationProvider \r\n```\r\n@Component(&quot;CustomAuthenticationProvider&quot;)\r\n@Slf4j\r\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\r\n\r\n    @Autowired\r\n    UserDetailsServiceImpl service;\r\n\r\n    @Autowired\r\n    MessageSource messageSource;\r\n\r\n    /** メッセージのキー(認証失敗) */\r\n    private static final String BAD_CREDENTIALS = &quot;AbstractUserDetailsAuthenticationProvider.badCredentials&quot;;\r\n\r\n    /*\r\n     * 認証処理を行うメソッド.\r\n     */\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n\r\n        // ユーザー取得(リクエストから)\r\n        AppUserDetails user = (AppUserDetails)authentication.getPrincipal();\r\n\r\n        // パスワード取得(リクエストから)\r\n        String password = (String)authentication.getCredentials();\r\n\r\n        // ユーザー取得(DBから)\r\n        user = (AppUserDetails) service.loadUserByUsernameAndTenantId(user.getUserId(), user.getTenantId());\r\n\r\n        // パスワードチェック\r\n        checkPassword(password, user.getPassword());\r\n\r\n        // 各種チェック\r\n        UserDetailsChecker checker = new AccountStatusUserDetailsChecker();\r\n        checker.check(user);\r\n\r\n        // トークンを生成\r\n        return new UsernamePasswordAuthenticationToken(user, password, user.getAuthorities());\r\n    }\r\n\r\n    /*\r\n     * 認証処理を実施するクラスの制限.\r\n     */\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        return UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\r\n    }\r\n\r\n    /**\r\n     * パスワードチェック.\r\n     */\r\n    private void checkPassword(String rawPassword, String encodedPassword) {\r\n\r\n        PasswordEncoder encoder = new BCryptPasswordEncoder();\r\n\r\n        // パスワードが一致しているかどうか\r\n        if(encoder.matches(rawPassword, encodedPassword) == false) {\r\n            // エラーメッセージ取得\r\n            String message = messageSource.getMessage(BAD_CREDENTIALS,\r\n                    null,\r\n                    Locale.getDefault());\r\n            // 例外を投げる\r\n            throw new BadCredentialsException(message);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMethodSecurityConfig \r\n```\r\n@Configuration\r\n@EnableMethodSecurity(prePostEnabled = true,securedEnabled = true,jsr250Enabled = true)\r\npublic class MethodSecurityConfig {\r\n\t\r\n\t\r\n}\r\n```\r\n\r\nSuccessHandler \r\n```\r\n@Component(&quot;SuccessHandler&quot;)\r\n@Slf4j\r\npublic class SuccessHandler implements AuthenticationSuccessHandler {\r\n\r\n    @Autowired\r\n    UserDetailsServiceImpl service;\r\n\r\n    @Override\r\n    public void onAuthenticationSuccess(HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            Authentication authentication) throws IOException, ServletException {\r\n\r\n        log.info(&quot;ログイン成功イベント開始&quot;);\r\n\r\n        // ユーザー情報の取得\r\n        AppUserDetails user = (AppUserDetails) SecurityContextHolder\r\n                .getContext()\r\n                .getAuthentication()\r\n                .getPrincipal();\r\n        log.info(user.toString());\r\n\r\n        String redirectPath = request.getContextPath();\r\n\r\n        // パスワード更新日付のチェック\r\n        if(user.getPassUpdateDate().after(new Date())) {\r\n            // パスワード期限が切れてない\r\n            log.info(&quot;遷移先：ホーム&quot;);\r\n            redirectPath += &quot;/home&quot;;\r\n\r\n        } else {\r\n            // パスワード期限切れ\r\n            log.info(&quot;遷移先：パスワード変更&quot;);\r\n            redirectPath += &quot;/password/change&quot;;\r\n\r\n        }\r\n\r\n        log.info(&quot;ログイン成功イベント終了&quot;);\r\n        response.sendRedirect(redirectPath);\r\n    }\r\n}\r\n\r\n```\r\n\r\nhomeController\r\n\r\n\r\n    public class HomeController {\r\n    @GetMapping(&quot;/home&quot;)\r\n    @PreAuthorize(&quot;hasAuthority(&#39;ROLE_ADMIN&#39;) or hasAuthority(&#39;ROLE_GENERAL&#39;)&quot;) \r\n    public String getHome(Model model,\r\n            @AuthenticationPrincipal AppUserDetails user) {\r\n\r\n        log.info(&quot;HomeController Start&quot;);\r\n\r\n        \r\n        log.info(user.toString());\r\n\r\n        log.info(&quot;HomeController End&quot;);\r\n\r\n        return &quot;home&quot;;\r\n    }\r\n\r\n\r\nI wish user-data is passed to AuthenticationPrincipal in Controller","title":"When add CustomFilter then null was passed to AuthenticationPrincipal in Controller","body":"<p>I added &quot;TenantID&quot; to login-page that authenticate login-user with username and password,\nAnd added &quot;CustomAuthenticationFilter&quot;,&quot;CustomAuthenticationProvider&quot;,&quot;MethodSecurityConfig&quot;,&quot;SuccessHandler&quot; and append that to &quot;SecurityConfig&quot;.</p>\n<p>Then It can get  user-data by &quot;SecurityContextHolder.getContext().getAuthentication().getPrincipal()&quot; on &quot;SuccessHandler&quot; that implemented &quot;AuthenticationSuccessHandler&quot;.</p>\n<p>But,AuthenticationPrincipal on Controller is null.\nI want teach me the cause and how to fix it.</p>\n<p>Use:SpringBoot3.0.4,SpringSecurity6.0.2\nNo problems with  &quot;SpringSecurity5.2.2&quot;  that used &quot;WebSecurityConfigurerAdapter&quot;</p>\n<p>SecurityConfig</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfig  {\n\n    @Autowired\n    @Qualifier(&quot;SuccessHandler&quot;)\n    AuthenticationSuccessHandler successHandler;\n\n    @Autowired\n    @Qualifier(&quot;UserDetailsServiceImpl&quot;)\n    private UserDetailsService userDetailsService;\n\n    //Bean by PasswordEncoder\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Autowired\n    private DataSource dataSource;\n\n    @Autowired\n    @Qualifier(&quot;CustomAuthenticationProvider&quot;)\n    private AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf(csrf -&gt; csrf.disable());\n        http.headers(head -&gt; head.frameOptions().disable());\n        http\n            .authorizeHttpRequests(authz -&gt; authz.requestMatchers(&quot;/login&quot;).permitAll() \n                .anyRequest().authenticated()); \n        http\n            .formLogin()\n//                .loginProcessingUrl(&quot;/login&quot;) \n                .loginPage(&quot;/login&quot;); \n//                .failureUrl(&quot;/login?error&quot;) \n//                .usernameParameter(&quot;userId&quot;) \n//                .passwordParameter(&quot;password&quot;) \n//                //.defaultSuccessUrl(&quot;/home&quot;, true); \n//                .successHandler(successHandler);\n\n        // Login-filters\n        CustomAuthenticationFilter filter = new CustomAuthenticationFilter();\n        filter.setRequiresAuthenticationRequestMatcher(new AntPathRequestMatcher(&quot;/login&quot;, &quot;POST&quot;));\n        filter.setAuthenticationManager(authenticationManagerBean());\n        filter.setAuthenticationFailureHandler(new SimpleUrlAuthenticationFailureHandler(&quot;/login?error&quot;));\n        filter.setAuthenticationSuccessHandler(successHandler);\n        http.addFilterBefore(filter, CustomAuthenticationFilter.class);\n\n        // Logout\n        http\n            .logout()\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .logoutUrl(&quot;/logout&quot;)\n                .logoutSuccessUrl(&quot;/login&quot;);\n\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        AuthenticationManager auth = new ProviderManager(authenticationProvider);\n        System.out.println(&quot;AuthenticationManager&quot;);\n        System.out.println(auth);\n        \n        return new ProviderManager(authenticationProvider);\n    }\n}\n</code></pre>\n<p>CustomAuthenticationFilter</p>\n<pre><code>public class CustomAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) {\n\n        // ユーザー生成\n        AppUserDetails user = new AppUserDetails();\n        user.setTenantId(request.getParameter(&quot;tenantId&quot;));\n        user.setUserId(request.getParameter(&quot;userId&quot;));\n\n        // パスワード取得\n        String password = obtainPassword(request);\n\n        // トークンの作成\n        UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(user, password);\n\n        // リクエストの詳細をセットしておく\n        setDetails(request, authRequest);\n        \n        Authentication authz = this.getAuthenticationManager().authenticate(authRequest);\n        System.out.println(&quot;aaaaaaaauth&quot;);\n        System.out.println(authz);\n        // 認証の実施\n        return authz;\n    }\n}\n</code></pre>\n<p>CustomAuthenticationProvider</p>\n<pre><code>@Component(&quot;CustomAuthenticationProvider&quot;)\n@Slf4j\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\n\n    @Autowired\n    UserDetailsServiceImpl service;\n\n    @Autowired\n    MessageSource messageSource;\n\n    /** メッセージのキー(認証失敗) */\n    private static final String BAD_CREDENTIALS = &quot;AbstractUserDetailsAuthenticationProvider.badCredentials&quot;;\n\n    /*\n     * 認証処理を行うメソッド.\n     */\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n\n        // ユーザー取得(リクエストから)\n        AppUserDetails user = (AppUserDetails)authentication.getPrincipal();\n\n        // パスワード取得(リクエストから)\n        String password = (String)authentication.getCredentials();\n\n        // ユーザー取得(DBから)\n        user = (AppUserDetails) service.loadUserByUsernameAndTenantId(user.getUserId(), user.getTenantId());\n\n        // パスワードチェック\n        checkPassword(password, user.getPassword());\n\n        // 各種チェック\n        UserDetailsChecker checker = new AccountStatusUserDetailsChecker();\n        checker.check(user);\n\n        // トークンを生成\n        return new UsernamePasswordAuthenticationToken(user, password, user.getAuthorities());\n    }\n\n    /*\n     * 認証処理を実施するクラスの制限.\n     */\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\n    }\n\n    /**\n     * パスワードチェック.\n     */\n    private void checkPassword(String rawPassword, String encodedPassword) {\n\n        PasswordEncoder encoder = new BCryptPasswordEncoder();\n\n        // パスワードが一致しているかどうか\n        if(encoder.matches(rawPassword, encodedPassword) == false) {\n            // エラーメッセージ取得\n            String message = messageSource.getMessage(BAD_CREDENTIALS,\n                    null,\n                    Locale.getDefault());\n            // 例外を投げる\n            throw new BadCredentialsException(message);\n        }\n    }\n}\n</code></pre>\n<p>MethodSecurityConfig</p>\n<pre><code>@Configuration\n@EnableMethodSecurity(prePostEnabled = true,securedEnabled = true,jsr250Enabled = true)\npublic class MethodSecurityConfig {\n    \n    \n}\n</code></pre>\n<p>SuccessHandler</p>\n<pre><code>@Component(&quot;SuccessHandler&quot;)\n@Slf4j\npublic class SuccessHandler implements AuthenticationSuccessHandler {\n\n    @Autowired\n    UserDetailsServiceImpl service;\n\n    @Override\n    public void onAuthenticationSuccess(HttpServletRequest request,\n            HttpServletResponse response,\n            Authentication authentication) throws IOException, ServletException {\n\n        log.info(&quot;ログイン成功イベント開始&quot;);\n\n        // ユーザー情報の取得\n        AppUserDetails user = (AppUserDetails) SecurityContextHolder\n                .getContext()\n                .getAuthentication()\n                .getPrincipal();\n        log.info(user.toString());\n\n        String redirectPath = request.getContextPath();\n\n        // パスワード更新日付のチェック\n        if(user.getPassUpdateDate().after(new Date())) {\n            // パスワード期限が切れてない\n            log.info(&quot;遷移先：ホーム&quot;);\n            redirectPath += &quot;/home&quot;;\n\n        } else {\n            // パスワード期限切れ\n            log.info(&quot;遷移先：パスワード変更&quot;);\n            redirectPath += &quot;/password/change&quot;;\n\n        }\n\n        log.info(&quot;ログイン成功イベント終了&quot;);\n        response.sendRedirect(redirectPath);\n    }\n}\n\n</code></pre>\n<p>homeController</p>\n<pre><code>public class HomeController {\n@GetMapping(&quot;/home&quot;)\n@PreAuthorize(&quot;hasAuthority('ROLE_ADMIN') or hasAuthority('ROLE_GENERAL')&quot;) \npublic String getHome(Model model,\n        @AuthenticationPrincipal AppUserDetails user) {\n\n    log.info(&quot;HomeController Start&quot;);\n\n    \n    log.info(user.toString());\n\n    log.info(&quot;HomeController End&quot;);\n\n    return &quot;home&quot;;\n}\n</code></pre>\n<p>I wish user-data is passed to AuthenticationPrincipal in Controller</p>\n"},{"tags":["java","linux","performance","mmap"],"comments":[{"owner":{"account_id":4892666,"reputation":116364,"user_id":3943312,"display_name":"Sam Varshavchik"},"score":1,"creation_date":1679139562,"post_id":75775446,"comment_id":133670017,"body_markdown":"Given that it&#39;s unlikely that your computer has 500gb of RAM, the entire file cannot be mapped in its entirety, and must be paged in/out, on demand. It is completely expected that, at some point, things are going to grind to a halt, if the access pattern cannot be sufficiently optimized. In your case, &quot;at some point&quot; probably means &quot;anything more than one pair of processes&quot;.","body":"Given that it&#39;s unlikely that your computer has 500gb of RAM, the entire file cannot be mapped in its entirety, and must be paged in/out, on demand. It is completely expected that, at some point, things are going to grind to a halt, if the access pattern cannot be sufficiently optimized. In your case, &quot;at some point&quot; probably means &quot;anything more than one pair of processes&quot;."}],"owner":{"account_id":7310073,"reputation":45,"user_id":5569631,"display_name":"trafalgar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679137646,"creation_date":1679137646,"question_id":75775446,"body_markdown":"I have some single threaded java nodes that which process some batch data. These nodes make heavy use of mmap specifically they write to an mmap file that is around 500gb in size which another process on the box then reads from and sends the data out over the network.\r\n\r\nThe problem?\r\n\r\nIf I run 1 pair of nodes that read/write to the mmap file then the batch is processed within an acceptable time.\r\n\r\nNow if I run several of these read/write pair nodes on the same box...it all grinds to a halt and it takes x4 as long to process the batch data.\r\n\r\nThere is plenty of memory free on the box and there is plenty of CPU free as well.\r\n\r\nI suspect it&#39;s the heavy use of mmap but I don&#39;t know what to look for to prove this - any ideas?","title":"Host slows down with heavy use of mmap?","body":"<p>I have some single threaded java nodes that which process some batch data. These nodes make heavy use of mmap specifically they write to an mmap file that is around 500gb in size which another process on the box then reads from and sends the data out over the network.</p>\n<p>The problem?</p>\n<p>If I run 1 pair of nodes that read/write to the mmap file then the batch is processed within an acceptable time.</p>\n<p>Now if I run several of these read/write pair nodes on the same box...it all grinds to a halt and it takes x4 as long to process the batch data.</p>\n<p>There is plenty of memory free on the box and there is plenty of CPU free as well.</p>\n<p>I suspect it's the heavy use of mmap but I don't know what to look for to prove this - any ideas?</p>\n"},{"tags":["java","spring-boot-actuator","spring-boot-admin"],"comments":[{"owner":{"account_id":4682435,"reputation":7616,"user_id":3790806,"accept_rate":86,"display_name":"hzpz"},"score":0,"creation_date":1687793636,"post_id":75774378,"comment_id":134982959,"body_markdown":"How did you register the services with Spring Boot Admin? It shouldn&#39;t be possible to register two different services and get the same instance ID.","body":"How did you register the services with Spring Boot Admin? It shouldn&#39;t be possible to register two different services and get the same instance ID."},{"owner":{"account_id":28048371,"reputation":11,"user_id":21424705,"display_name":"Rohit Kumar"},"score":0,"creation_date":1688455233,"post_id":75774378,"comment_id":135072663,"body_markdown":"suppose we have a service which we have deployed on 2 different servers but to access them we use a service url, for example, name of my service is abc and I am accessing it via example.com/abc and it is decided automatically that on which server or pod the request will go according to load balancer, and in our case we are not allowed to use ip-address to access that server via spring-boot-admin-server so we are using example.com/abc/health to register and thus we are getting same instance id","body":"suppose we have a service which we have deployed on 2 different servers but to access them we use a service url, for example, name of my service is abc and I am accessing it via example.com/abc and it is decided automatically that on which server or pod the request will go according to load balancer, and in our case we are not allowed to use ip-address to access that server via spring-boot-admin-server so we are using example.com/abc/health to register and thus we are getting same instance id"},{"owner":{"account_id":4682435,"reputation":7616,"user_id":3790806,"accept_rate":86,"display_name":"hzpz"},"score":1,"creation_date":1688718981,"post_id":75774378,"comment_id":135114335,"body_markdown":"It makes no sense to register two different services with the same health URL, because SBA will not know which of the two services it reaches when checking that health URL. You _must_ have a distinct health URL for every service if you want to use SBA.","body":"It makes no sense to register two different services with the same health URL, because SBA will not know which of the two services it reaches when checking that health URL. You <i>must</i> have a distinct health URL for every service if you want to use SBA."}],"owner":{"account_id":28048371,"reputation":11,"user_id":21424705,"display_name":"Rohit Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679137588,"creation_date":1679123545,"question_id":75774378,"body_markdown":"I have 2 replica of a single spring boot services with same service url and context path and they are running on 2 different pods and i have registered both the services to spring boot admin ui but there instance id is same can someone suggest me how to create a unique one,\r\ndue to this I am not able to change logs as it is causing issues with communication between the Spring Boot Admin Server and the instances.\r\n\r\nI have already tried to change some metadata but no luck so far.\r\n\r\nCan we set a custom instance ID that is unique for each instance of my service in spring boot admin server itself.","title":"Instance id in spring boot admin is same for 2 services, can someone suggest me how to create a unique one","body":"<p>I have 2 replica of a single spring boot services with same service url and context path and they are running on 2 different pods and i have registered both the services to spring boot admin ui but there instance id is same can someone suggest me how to create a unique one,\ndue to this I am not able to change logs as it is causing issues with communication between the Spring Boot Admin Server and the instances.</p>\n<p>I have already tried to change some metadata but no luck so far.</p>\n<p>Can we set a custom instance ID that is unique for each instance of my service in spring boot admin server itself.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679137510,"post_id":75760773,"comment_id":133669722,"body_markdown":"`AuthenticationManagerResolver` is a &quot;functional interface&quot; (an interface defining only one method) ... Since we/the sample want/s to return an `AuthenticationManagerResolver&lt;HttpServletRequest&gt;`, we need to implement `resolve(HttpServletRequest request)` method...","body":"<code>AuthenticationManagerResolver</code> is a &quot;functional interface&quot; (an interface defining only one method) ... Since we/the sample want/s to return an <code>AuthenticationManagerResolver&lt;HttpServletRequest&gt;</code>, we need to implement <code>resolve(HttpServletRequest request)</code> method..."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679138368,"post_id":75760773,"comment_id":133669843,"body_markdown":"And whoever will use that &quot;resolver&quot; (method) must/will provide a `HttpServletRequest` (hopefully not null;)","body":"And whoever will use that &quot;resolver&quot; (method) must/will provide a <code>HttpServletRequest</code> (hopefully not null;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1679183951,"post_id":75760773,"comment_id":133676324,"body_markdown":"(the implementation of `resolve(request)` method you provide with (lambda) `(request) -&gt; useJwt(request) ? jwt : opaqueToken;`)","body":"(the implementation of <code>resolve(request)</code> method you provide with (lambda) <code>(request) -&gt; useJwt(request) ? jwt : opaqueToken;</code>)"}],"owner":{"account_id":15006338,"reputation":381,"user_id":10832299,"display_name":"robinmanz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679136593,"creation_date":1678994399,"question_id":75760773,"body_markdown":"At [OAuth 2.0 Resource Server Multi-tenancy](https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/multitenancy.html) the following example is given:\r\n\r\n&gt; ```\r\n&gt; @Bean\r\n&gt; AuthenticationManagerResolver&lt;HttpServletRequest&gt; tokenAuthenticationManagerResolver\r\n&gt;        (JwtDecoder jwtDecoder, OpaqueTokenIntrospector opaqueTokenIntrospector) {\r\n&gt;    AuthenticationManager jwt = new ProviderManager(new JwtAuthenticationProvider(jwtDecoder));\r\n&gt;    AuthenticationManager opaqueToken = new ProviderManager(\r\n&gt;             new OpaqueTokenAuthenticationProvider(opaqueTokenIntrospector));\r\n&gt;    return (request) -&gt; useJwt(request) ? jwt : opaqueToken;\r\n&gt; }\r\n&gt; ```\r\n\r\nSorry but my issue reading this is, where is `request`? It is not passed to the method at all and stuff like this confuses the hell out of me when reading documentation. Can anyone enlighten me what I should look for?\r\n\r\nI need to access the `request` object to further implement the logic.","title":"How can I access the implicit object?","body":"<p>At <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/multitenancy.html\" rel=\"nofollow noreferrer\">OAuth 2.0 Resource Server Multi-tenancy</a> the following example is given:</p>\n<blockquote>\n<pre><code>@Bean\nAuthenticationManagerResolver&lt;HttpServletRequest&gt; tokenAuthenticationManagerResolver\n       (JwtDecoder jwtDecoder, OpaqueTokenIntrospector opaqueTokenIntrospector) {\n   AuthenticationManager jwt = new ProviderManager(new JwtAuthenticationProvider(jwtDecoder));\n   AuthenticationManager opaqueToken = new ProviderManager(\n            new OpaqueTokenAuthenticationProvider(opaqueTokenIntrospector));\n   return (request) -&gt; useJwt(request) ? jwt : opaqueToken;\n}\n</code></pre>\n</blockquote>\n<p>Sorry but my issue reading this is, where is <code>request</code>? It is not passed to the method at all and stuff like this confuses the hell out of me when reading documentation. Can anyone enlighten me what I should look for?</p>\n<p>I need to access the <code>request</code> object to further implement the logic.</p>\n"},{"tags":["java","sonarqube","tablesaw"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":2,"creation_date":1679072178,"post_id":75770217,"comment_id":133661217,"body_markdown":"A [mcve] would be helpful","body":"A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be helpful"},{"owner":{"account_id":2274474,"reputation":119,"user_id":6536262,"display_name":"Viki Jain"},"score":0,"creation_date":1679072401,"post_id":75770217,"comment_id":133661278,"body_markdown":"There could be a possibility that the result of method in contains returns something other than the AggregateFunction class hierarchy. Can you tell what is the relation between AggregateFunction and SummarizingFunction classes??","body":"There could be a possibility that the result of method in contains returns something other than the AggregateFunction class hierarchy. Can you tell what is the relation between AggregateFunction and SummarizingFunction classes??"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1679091028,"post_id":75770217,"comment_id":133665235,"body_markdown":"It&#39;s complaining that `aggFuncList` can&#39;t possibly contain what is returned from `getAggregationFunction()`. What are the definitions of `AggregateFunction` and `SummarizingFunction`?","body":"It&#39;s complaining that <code>aggFuncList</code> can&#39;t possibly contain what is returned from <code>getAggregationFunction()</code>. What are the definitions of <code>AggregateFunction</code> and <code>SummarizingFunction</code>?"},{"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"score":0,"creation_date":1679135797,"post_id":75770217,"comment_id":133669443,"body_markdown":"@bohemian both of them are of table saw library","body":"@bohemian both of them are of table saw library"},{"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"score":0,"creation_date":1679136296,"post_id":75770217,"comment_id":133669518,"body_markdown":"@bohemian both of them are of table saw library\n\nhttps://github.com/jtablesaw/tablesaw/blob/master/core/src/main/java/tech/tablesaw/aggregate/AggregateFunction.java\n\nSummarizingFunction is a custom class made in which i will attach in above","body":"@bohemian both of them are of table saw library  <a href=\"https://github.com/jtablesaw/tablesaw/blob/master/core/src/main/java/tech/tablesaw/aggregate/AggregateFunction.java\" rel=\"nofollow noreferrer\">github.com/jtablesaw/tablesaw/blob/master/core/src/main/java&zwnj;&#8203;/&hellip;</a>  SummarizingFunction is a custom class made in which i will attach in above"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1679170804,"post_id":75770217,"comment_id":133674872,"body_markdown":"You need to make `SummarizingFunction` extend `AggregateFunction`","body":"You need to make <code>SummarizingFunction</code> extend <code>AggregateFunction</code>"}],"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679136349,"creation_date":1679072035,"question_id":75770217,"body_markdown":"I have following code in java which is causing error in sonar.\r\n\r\nThe code is as :\r\n\r\n     private Table sliceTable(Table table, String[] columns, Map&lt;DependencyKey, List&lt;F&gt;&gt; reportFields) {\r\n        TableSliceGroup tableSlices = table.splitOn(columns);\r\n        ListMultimap map = ArrayListMultimap.create();\r\n        reportFields\r\n                .entrySet()\r\n                .stream()\r\n                .filter(entry -&gt; !entry.getKey().getDependencyType().equals(ReportingDependency.SELF) ||\r\n                        !entry.getKey().getDependencyType().equals(ReportingDependency.SELF_WITH_CHECKPOINT))\r\n                .flatMap(entry -&gt; entry.getValue().stream().map(it -&gt; Pair.of(entry.getKey().getDependencyType(), it)))\r\n                .flatMap(pair -&gt; pair.getRight().getDependencyDefinitions().stream().map(depDef -&gt; Triple.of(pair.getLeft(), pair.getRight(), depDef)))\r\n                .filter(triple -&gt; triple.getRight().getClientName().equals(triple.getLeft()))\r\n                .flatMap(triple -&gt; triple.getRight().getFields().stream().map(it -&gt; Triple.of(triple.getMiddle(), triple.getRight(), it)))\r\n                .filter(triple -&gt; TableUtils.containsColumn(table, triple.getMiddle().getClientName(),\r\n                        triple.getRight()))     // This filters out the unresolved columns\r\n                .forEach(triple -&gt; {\r\n                    List&lt;AggregateFunction&lt;?, ?&gt;&gt; aggFuncList = map.get(TableUtils.getColumnNameFromTable(table,\r\n                            triple.getMiddle().getClientName(), triple.getRight()));\r\n                    if (!aggFuncList.contains(\r\n                            TableUtils.getAggregationFunction(\r\n                                    TableUtils.getColumnFromTable(table,\r\n                                            triple.getMiddle().getClientName(),\r\n                                            triple.getRight()).type(),\r\n                                    triple.getRight().getAggregation()))) {\r\n                        map.put(TableUtils.getColumnNameFromTable(table, triple.getMiddle().getClientName(),\r\n                                triple.getRight()),\r\n                                TableUtils.getAggregationFunction(\r\n                                        TableUtils.getColumnFromTable(table,\r\n                                                triple.getMiddle().getClientName(),\r\n                                                triple.getRight()).type(),\r\n                                        triple.getRight().getAggregation()));\r\n                    }\r\n                });\r\n\r\n        Table slicedTable = TableSummarizer.aggregate(tableSlices, map, columns);\r\n        return slicedTable;\r\n    }\r\n\r\nsonar is giving error in this as on following line:\r\n\r\n \r\n\r\n     if (!aggFuncList.contains(\r\n                            TableUtils.getAggregationFunction(\r\n\r\n    A &quot;List&lt;AggregateFunction&gt;&quot; cannot contain a &quot;SummarizingFunction&quot;.\r\n\r\ncan anyone please suggest whats missing in wrong here .\r\n\r\n\r\n    public abstract class SummarizingFunction&lt;INCOL extends Column&lt;?&gt;, OUT&gt;  {\r\n\r\n    private final String functionName;\r\n\r\n    /** Constructs a function with the given name */\r\n    public SummarizingFunction(String functionName) {\r\n        this.functionName = functionName;\r\n    }\r\n\r\n    /** Returns this function&#39;s name */\r\n    public String functionName() {\r\n        return functionName;\r\n    }\r\n\r\n    /** Apply this function to the column argument */\r\n    public abstract OUT summarize(INCOL column, int[] indices);\r\n\r\n    public String toString() {\r\n        return functionName();\r\n    }\r\n\r\n    /** Returns the {@link ColumnType} to be used for the values returned by this function */\r\n    public abstract ColumnType returnType();\r\n}\r\n\r\nThanks\r\n\r\n","title":"java sonar error List&lt;T&gt;&quot; cannot contain a &quot;Function&quot;","body":"<p>I have following code in java which is causing error in sonar.</p>\n<p>The code is as :</p>\n<pre><code> private Table sliceTable(Table table, String[] columns, Map&lt;DependencyKey, List&lt;F&gt;&gt; reportFields) {\n    TableSliceGroup tableSlices = table.splitOn(columns);\n    ListMultimap map = ArrayListMultimap.create();\n    reportFields\n            .entrySet()\n            .stream()\n            .filter(entry -&gt; !entry.getKey().getDependencyType().equals(ReportingDependency.SELF) ||\n                    !entry.getKey().getDependencyType().equals(ReportingDependency.SELF_WITH_CHECKPOINT))\n            .flatMap(entry -&gt; entry.getValue().stream().map(it -&gt; Pair.of(entry.getKey().getDependencyType(), it)))\n            .flatMap(pair -&gt; pair.getRight().getDependencyDefinitions().stream().map(depDef -&gt; Triple.of(pair.getLeft(), pair.getRight(), depDef)))\n            .filter(triple -&gt; triple.getRight().getClientName().equals(triple.getLeft()))\n            .flatMap(triple -&gt; triple.getRight().getFields().stream().map(it -&gt; Triple.of(triple.getMiddle(), triple.getRight(), it)))\n            .filter(triple -&gt; TableUtils.containsColumn(table, triple.getMiddle().getClientName(),\n                    triple.getRight()))     // This filters out the unresolved columns\n            .forEach(triple -&gt; {\n                List&lt;AggregateFunction&lt;?, ?&gt;&gt; aggFuncList = map.get(TableUtils.getColumnNameFromTable(table,\n                        triple.getMiddle().getClientName(), triple.getRight()));\n                if (!aggFuncList.contains(\n                        TableUtils.getAggregationFunction(\n                                TableUtils.getColumnFromTable(table,\n                                        triple.getMiddle().getClientName(),\n                                        triple.getRight()).type(),\n                                triple.getRight().getAggregation()))) {\n                    map.put(TableUtils.getColumnNameFromTable(table, triple.getMiddle().getClientName(),\n                            triple.getRight()),\n                            TableUtils.getAggregationFunction(\n                                    TableUtils.getColumnFromTable(table,\n                                            triple.getMiddle().getClientName(),\n                                            triple.getRight()).type(),\n                                    triple.getRight().getAggregation()));\n                }\n            });\n\n    Table slicedTable = TableSummarizer.aggregate(tableSlices, map, columns);\n    return slicedTable;\n}\n</code></pre>\n<p>sonar is giving error in this as on following line:</p>\n<pre><code> if (!aggFuncList.contains(\n                        TableUtils.getAggregationFunction(\n\nA &quot;List&lt;AggregateFunction&gt;&quot; cannot contain a &quot;SummarizingFunction&quot;.\n</code></pre>\n<p>can anyone please suggest whats missing in wrong here .</p>\n<pre><code>public abstract class SummarizingFunction&lt;INCOL extends Column&lt;?&gt;, OUT&gt;  {\n\nprivate final String functionName;\n\n/** Constructs a function with the given name */\npublic SummarizingFunction(String functionName) {\n    this.functionName = functionName;\n}\n\n/** Returns this function's name */\npublic String functionName() {\n    return functionName;\n}\n\n/** Apply this function to the column argument */\npublic abstract OUT summarize(INCOL column, int[] indices);\n\npublic String toString() {\n    return functionName();\n}\n\n/** Returns the {@link ColumnType} to be used for the values returned by this function */\npublic abstract ColumnType returnType();\n</code></pre>\n<p>}</p>\n<p>Thanks</p>\n"},{"tags":["java","sql","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":3670600,"reputation":319,"user_id":3057914,"accept_rate":67,"display_name":"fedden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679136263,"creation_date":1679136263,"answer_id":75775345,"question_id":75775284,"body_markdown":"To find JPA entities by their fields you could add a method to the interface of the repository, JPA will generate an SQL query based on the method name\r\n\r\nFor example to find an unique student by teacherId and name you could write \r\n\r\n```\r\npublic Strudent getByNameAndTeacherId(String name, Long teacherId)\r\n```\r\n\r\nif the value is nullable use `find` instead of `get`\r\n\r\n\r\n```\r\npublic Strudent? findByNameAndTeacherId(String name, Long teacherId)\r\n```\r\n\r\n\r\n\r\nhttps://www.baeldung.com/spring-data-derived-queries","title":"In Spring JPA, how do I efficiently retrieve a specific record from a child table?","body":"<p>To find JPA entities by their fields you could add a method to the interface of the repository, JPA will generate an SQL query based on the method name</p>\n<p>For example to find an unique student by teacherId and name you could write</p>\n<pre><code>public Strudent getByNameAndTeacherId(String name, Long teacherId)\n</code></pre>\n<p>if the value is nullable use <code>find</code> instead of <code>get</code></p>\n<pre><code>public Strudent? findByNameAndTeacherId(String name, Long teacherId)\n</code></pre>\n<p><a href=\"https://www.baeldung.com/spring-data-derived-queries\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-derived-queries</a></p>\n"}],"owner":{"account_id":3479550,"reputation":699,"user_id":2911983,"accept_rate":72,"display_name":"itsmarziparzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679136263,"creation_date":1679135345,"question_id":75775284,"body_markdown":"Let&#39;s say I have the following tables\r\n\r\n    One Teacher to Many Student\r\n    \r\n    Teacher\r\n    id (pk)\r\n    \r\n    Student\r\n    id (pk)\r\n    teacher_id (fk)\r\n    name (string)\r\n\r\nAnd with Spring, I have an entity for `Teacher` and a corresponding `TeacherRepository` , and the same for `Student`.\r\n\r\nWith JPA, how would I retrieve a `Student` object using a `teacher.id` and `student.name`?\r\n\r\nI&#39;d be able to do this using SQL statements with native query, but I&#39;d want to do this maintaining object relations.\r\n\r\nFor example, with `id` and `name` as input, I might achieve this like so:\r\n\r\n    Teacher teacher = teacherRepository.findBy(id);\r\n    Set&lt;Student&gt; students= teacher.getStudents();\r\n    for (Student s : students) {\r\n      if (s.getName() == name)\r\n        return s;\r\n    }\r\n\r\nBut the problem with that is that `findBy` would not be doing a `select` command with a `where Student.name=name`. What&#39;s the JPA way that would produce a SQL query that fetches the specific object?","title":"In Spring JPA, how do I efficiently retrieve a specific record from a child table?","body":"<p>Let's say I have the following tables</p>\n<pre><code>One Teacher to Many Student\n\nTeacher\nid (pk)\n\nStudent\nid (pk)\nteacher_id (fk)\nname (string)\n</code></pre>\n<p>And with Spring, I have an entity for <code>Teacher</code> and a corresponding <code>TeacherRepository</code> , and the same for <code>Student</code>.</p>\n<p>With JPA, how would I retrieve a <code>Student</code> object using a <code>teacher.id</code> and <code>student.name</code>?</p>\n<p>I'd be able to do this using SQL statements with native query, but I'd want to do this maintaining object relations.</p>\n<p>For example, with <code>id</code> and <code>name</code> as input, I might achieve this like so:</p>\n<pre><code>Teacher teacher = teacherRepository.findBy(id);\nSet&lt;Student&gt; students= teacher.getStudents();\nfor (Student s : students) {\n  if (s.getName() == name)\n    return s;\n}\n</code></pre>\n<p>But the problem with that is that <code>findBy</code> would not be doing a <code>select</code> command with a <code>where Student.name=name</code>. What's the JPA way that would produce a SQL query that fetches the specific object?</p>\n"},{"tags":["java","stringbuilder"],"comments":[{"owner":{"account_id":2675582,"reputation":1012,"user_id":2312064,"display_name":"krzydyn"},"score":2,"creation_date":1679076787,"post_id":75770768,"comment_id":133662351,"body_markdown":"condition `str.charAt(i)&lt;=&#39;A&#39; &amp;&amp; str.charAt(i)&gt;=&#39;Z&#39; &amp;&amp; str.charAt(i)&lt;=&#39;a&#39; &amp;&amp; str.charAt(i)&gt;=&#39;z&#39;)` is never satisfied.","body":"condition <code>str.charAt(i)&lt;=&#39;A&#39; &amp;&amp; str.charAt(i)&gt;=&#39;Z&#39; &amp;&amp; str.charAt(i)&lt;=&#39;a&#39; &amp;&amp; str.charAt(i)&gt;=&#39;z&#39;)</code> is never satisfied."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1679076857,"post_id":75770768,"comment_id":133662366,"body_markdown":"To put it more simply - imagine you were dealing with integers. Your condition would be something like `if (x &lt;= 5 &amp;&amp; x &gt;= 10 &amp;&amp; x &lt;= 25 &amp;&amp; x &gt;= 30)`. What value would you expect to satisfy all those parts? (I&#39;d also suggest that if you call `str.charAt(i)` *once* and store the result in a local variable to use in your condition multiple times, your condition is likely to end up being more readable.)","body":"To put it more simply - imagine you were dealing with integers. Your condition would be something like <code>if (x &lt;= 5 &amp;&amp; x &gt;= 10 &amp;&amp; x &lt;= 25 &amp;&amp; x &gt;= 30)</code>. What value would you expect to satisfy all those parts? (I&#39;d also suggest that if you call <code>str.charAt(i)</code> <i>once</i> and store the result in a local variable to use in your condition multiple times, your condition is likely to end up being more readable.)"},{"owner":{"account_id":21851611,"reputation":25,"user_id":16143615,"display_name":"CodeThrust"},"score":0,"creation_date":1679077070,"post_id":75770768,"comment_id":133662411,"body_markdown":"@JonSkeet I was trying to relate charAt() values with the Ascii table reference","body":"@JonSkeet I was trying to relate charAt() values with the Ascii table reference"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1679077142,"post_id":75770768,"comment_id":133662425,"body_markdown":"Yes, I realise that - but I suggest you look *really carefully* at what I&#39;ve suggested (both parts). What value of `x` is both &quot;less than or equal to 5&quot; *and* &quot;greater than or equal to 10&quot;? Then apply that same thinking to character comparisons.","body":"Yes, I realise that - but I suggest you look <i>really carefully</i> at what I&#39;ve suggested (both parts). What value of <code>x</code> is both &quot;less than or equal to 5&quot; <i>and</i> &quot;greater than or equal to 10&quot;? Then apply that same thinking to character comparisons."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1679077234,"post_id":75770768,"comment_id":133662449,"body_markdown":"@SURAJMAHAKAL you&#39;re missing the point of the comments. Try a sample input string for which  `isValidString(StringBuilder str)` is supposed to return `true`.  Pretend you are the computer, and follow the logic of that method. Use pen and paper for your computer memory. Create truth tables with columns such as `c &lt;=&#39;A&#39;`, `c&gt;=&#39;Z&#39;`, and so on.","body":"@SURAJMAHAKAL you&#39;re missing the point of the comments. Try a sample input string for which  <code>isValidString(StringBuilder str)</code> is supposed to return <code>true</code>.  Pretend you are the computer, and follow the logic of that method. Use pen and paper for your computer memory. Create truth tables with columns such as <code>c &lt;=&#39;A&#39;</code>, <code>c&gt;=&#39;Z&#39;</code>, and so on."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1679077793,"post_id":75770768,"comment_id":133662561,"body_markdown":"... where `c`, in my previous comment, represents the current value pointed to by `str.charAt(i)`.","body":"... where <code>c</code>, in my previous comment, represents the current value pointed to by <code>str.charAt(i)</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1679155537,"post_id":75770768,"comment_id":133672591,"body_markdown":"A version of this is common question on Stack Overflow. Unfortunately, I&#39;m not good at finding the duplicates.","body":"A version of this is common question on Stack Overflow. Unfortunately, I&#39;m not good at finding the duplicates."}],"answers":[{"tags":[],"owner":{"account_id":7266777,"reputation":138,"user_id":5541152,"display_name":"Arvind Rachuri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679077417,"creation_date":1679077417,"answer_id":75770955,"question_id":75770768,"body_markdown":"Simply put, you will never have a character that is `&lt;= A` and `&gt;=Z` because the range `A-Z` is contiguous and ascending. The same is true for the range `a-z`. So instead of \\\r\n`str.charAt(i)&lt;=&#39;A&#39; &amp;&amp; str.charAt(i)&gt;=&#39;Z&#39; &amp;&amp; str.charAt(i)&lt;=&#39;a&#39; &amp;&amp; str.charAt(i)&gt;=&#39;z&#39;` \\\r\nyou need this - \\\r\n`!(str.charAt(i)&gt;=&#39;A&#39; &amp;&amp; str.charAt(i)&lt;=&#39;Z&#39;) &amp;&amp; !(str.charAt(i)&gt;=&#39;a&#39; &amp;&amp; str.charAt(i)&lt;=&#39;z&#39;)`","title":"problem while comparing char with relational operators","body":"<p>Simply put, you will never have a character that is <code>&lt;= A</code> and <code>&gt;=Z</code> because the range <code>A-Z</code> is contiguous and ascending. The same is true for the range <code>a-z</code>. So instead of <br />\n<code>str.charAt(i)&lt;='A' &amp;&amp; str.charAt(i)&gt;='Z' &amp;&amp; str.charAt(i)&lt;='a' &amp;&amp; str.charAt(i)&gt;='z'</code> <br />\nyou need this - <br />\n<code>!(str.charAt(i)&gt;='A' &amp;&amp; str.charAt(i)&lt;='Z') &amp;&amp; !(str.charAt(i)&gt;='a' &amp;&amp; str.charAt(i)&lt;='z')</code></p>\n"}],"owner":{"account_id":21851611,"reputation":25,"user_id":16143615,"display_name":"CodeThrust"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1679135966,"creation_date":1679076016,"question_id":75770768,"body_markdown":"```\r\nimport java.util.Scanner;\r\npublic class ValidString {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter the String: &quot;);\r\n\t\t//String s = scan.nextLine();\r\n\t\tStringBuilder str = new StringBuilder(scan.nextLine());\r\n\t\tSystem.out.println(isValidString(str));\r\n\t\tscan.close();\r\n\t}\r\n\r\n\tpublic static boolean isValidString(StringBuilder str) {\r\n\t\tfor(int i = 0;i&lt;str.length();i++) {\r\n\t\tint s = (int)newStr.charAt(i);\r\n\t\t\tif(s&gt;=97 &amp;&amp; s&lt;=122 || s&gt;=65 &amp;&amp; s&lt;=90){\r\n\t\t\t\t\r\n\t\t\t\tcontinue;\r\n\t\t\t}else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI was expecting the output as true if string contains only Alphabets else false value.\r\nCan anyone trace out what&#39;s the problem with this code.","title":"problem while comparing char with relational operators","body":"<pre><code>import java.util.Scanner;\npublic class ValidString {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Enter the String: &quot;);\n        //String s = scan.nextLine();\n        StringBuilder str = new StringBuilder(scan.nextLine());\n        System.out.println(isValidString(str));\n        scan.close();\n    }\n\n    public static boolean isValidString(StringBuilder str) {\n        for(int i = 0;i&lt;str.length();i++) {\n        int s = (int)newStr.charAt(i);\n            if(s&gt;=97 &amp;&amp; s&lt;=122 || s&gt;=65 &amp;&amp; s&lt;=90){\n                \n                continue;\n            }else {\n                return false;\n            }\n        }\n        return true;\n    }\n\n}\n</code></pre>\n<p>I was expecting the output as true if string contains only Alphabets else false value.\nCan anyone trace out what's the problem with this code.</p>\n"},{"tags":["java","google-chrome-os"],"comments":[{"owner":{"account_id":26427288,"reputation":1582,"user_id":20074043,"display_name":"Norio Yamamoto"},"score":0,"creation_date":1675889967,"post_id":75388550,"comment_id":133027689,"body_markdown":"Is it possible to do that with an android app?","body":"Is it possible to do that with an android app?"}],"answers":[{"tags":[],"owner":{"account_id":5806666,"reputation":1031,"user_id":4579081,"accept_rate":62,"display_name":"ema3272"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679135939,"creation_date":1679135939,"answer_id":75775326,"question_id":75388550,"body_markdown":"I solved this issue by using `onKeyShortcut` instead\r\n\r\n    \r\n    @Override\r\n    public boolean onKeyShortcut (int keyCode, KeyEvent event) {\r\n        if (event.isCtrlPressed()) {\r\n            switch (event.getKeyCode()) {\r\n                case KeyEvent.KEYCODE_Z:\r\n                    UndoBtnFired(undoBtn);\r\n                    break;\r\n                case KeyEvent.KEYCODE_S:\r\n                    saveToFile(null);\r\n                    break;\r\n                case KEYCODE_L:\r\n                    clearDrawnLinks(mContext);\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n","title":"dispatchKeyShortcutEvent not being called in a Chrome OS environment","body":"<p>I solved this issue by using <code>onKeyShortcut</code> instead</p>\n<pre><code>@Override\npublic boolean onKeyShortcut (int keyCode, KeyEvent event) {\n    if (event.isCtrlPressed()) {\n        switch (event.getKeyCode()) {\n            case KeyEvent.KEYCODE_Z:\n                UndoBtnFired(undoBtn);\n                break;\n            case KeyEvent.KEYCODE_S:\n                saveToFile(null);\n                break;\n            case KEYCODE_L:\n                clearDrawnLinks(mContext);\n                break;\n            default:\n                break;\n        }\n    }\n\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":5806666,"reputation":1031,"user_id":4579081,"accept_rate":62,"display_name":"ema3272"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75775326,"answer_count":1,"score":0,"last_activity_date":1679135939,"creation_date":1675872378,"question_id":75388550,"body_markdown":"I want to implement code to react to common shortcuts like Ctrl + S (save), Ctrl + Z (undo) in a Chrome OS environment.\r\n\r\nI have added the following code in the activity:\r\n\r\n    @Override\r\n    public boolean dispatchKeyShortcutEvent(KeyEvent event) {\r\n      if (event.getKeyCode() == KeyEvent.KEYCODE_O) {\r\n          openFile(); // Ctrl+O, Shift+O, Alt+O\r\n          return true;\r\n      } else if(event.getKeyCode() == KeyEvent.KEYCODE_Z) {\r\n          if (event.isCtrlPressed()) {\r\n                  undoLastAction();\r\n                  return true;\r\n          }\r\n      }\r\n      return super.dispatchKeyShortcutEvent(event);\r\n    }\r\n\r\nAnd I have added the `Window.Callback` to the activity:\r\n\r\n    public class ScMain extends AppCompatActivity implements View.OnClickListener,      \r\n            FragmentManager.OnBackStackChangedListener, Window.Callback {\r\n\r\n \r\nAndroid Studio displays the following message:\r\n\r\n*ComponentActivity.dispatchKeyShortcutEvent can only be called from within the same library group prefix (referenced groupId=androidx.core with prefix androidx from groupId=[my app])*\r\n\r\nAlthough the code compiles without error, the `dispatchKeyShortcutEvent` method is never called.\r\n\r\nI can not find which dependency I should add in my gradle file. Or do I need additional code?","title":"dispatchKeyShortcutEvent not being called in a Chrome OS environment","body":"<p>I want to implement code to react to common shortcuts like Ctrl + S (save), Ctrl + Z (undo) in a Chrome OS environment.</p>\n<p>I have added the following code in the activity:</p>\n<pre><code>@Override\npublic boolean dispatchKeyShortcutEvent(KeyEvent event) {\n  if (event.getKeyCode() == KeyEvent.KEYCODE_O) {\n      openFile(); // Ctrl+O, Shift+O, Alt+O\n      return true;\n  } else if(event.getKeyCode() == KeyEvent.KEYCODE_Z) {\n      if (event.isCtrlPressed()) {\n              undoLastAction();\n              return true;\n      }\n  }\n  return super.dispatchKeyShortcutEvent(event);\n}\n</code></pre>\n<p>And I have added the <code>Window.Callback</code> to the activity:</p>\n<pre><code>public class ScMain extends AppCompatActivity implements View.OnClickListener,      \n        FragmentManager.OnBackStackChangedListener, Window.Callback {\n</code></pre>\n<p>Android Studio displays the following message:</p>\n<p><em>ComponentActivity.dispatchKeyShortcutEvent can only be called from within the same library group prefix (referenced groupId=androidx.core with prefix androidx from groupId=[my app])</em></p>\n<p>Although the code compiles without error, the <code>dispatchKeyShortcutEvent</code> method is never called.</p>\n<p>I can not find which dependency I should add in my gradle file. Or do I need additional code?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":2218985,"reputation":1540,"user_id":1958929,"accept_rate":75,"display_name":"derstauner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679134381,"creation_date":1679134136,"answer_id":75775161,"question_id":75774966,"body_markdown":"After searching deeper on the net, I found the answer based on [this][1] blog post.\r\n\r\nIn the `filterChain` method I declared an `authManager` like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    AuthenticationManager authManager = authManager(http);\r\n\r\nThen I modified the security config like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    http\r\n        .csrf().disable()\r\n        .authenticationManager(authManager)\r\n        .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n        .addFilter(new JwtUserNameAndPasswordAuthFilter(authManager))\r\n        .authorizeHttpRequests()\r\n            .requestMatchers(&quot;/&quot;, &quot;/index.html&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\r\n            .requestMatchers(&quot;/api/**&quot;).hasRole(STUDENT.name())\r\n            .anyRequest().authenticated();\r\n\r\nNow, it builds.\r\n\r\n  [1]: https://blog.devgenius.io/implementing-authentication-and-authorization-using-spring-security-kotlin-and-jwt-an-easy-and-cc82a1f20567","title":"Adding JWT filter to filter chain throws &#39;This object has already been built&#39; error","body":"<p>After searching deeper on the net, I found the answer based on <a href=\"https://blog.devgenius.io/implementing-authentication-and-authorization-using-spring-security-kotlin-and-jwt-an-easy-and-cc82a1f20567\" rel=\"nofollow noreferrer\">this</a> blog post.</p>\n<p>In the <code>filterChain</code> method I declared an <code>authManager</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AuthenticationManager authManager = authManager(http);\n</code></pre>\n<p>Then I modified the security config like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .csrf().disable()\n    .authenticationManager(authManager)\n    .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n    .addFilter(new JwtUserNameAndPasswordAuthFilter(authManager))\n    .authorizeHttpRequests()\n        .requestMatchers(&quot;/&quot;, &quot;/index.html&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\n        .requestMatchers(&quot;/api/**&quot;).hasRole(STUDENT.name())\n        .anyRequest().authenticated();\n</code></pre>\n<p>Now, it builds.</p>\n"}],"owner":{"account_id":2218985,"reputation":1540,"user_id":1958929,"accept_rate":75,"display_name":"derstauner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75775161,"answer_count":1,"score":-1,"last_activity_date":1679134615,"creation_date":1679131750,"question_id":75774966,"body_markdown":"I use Spring Boot 3 and have the following issue.\r\n\r\nThis is my `filterChain` method:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .csrf().disable()\r\n            .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n            .addFilter(new JwtUserNameAndPasswordAuthFilter(authManager(http)))\r\n            .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/&quot;, &quot;/index.html&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\r\n                .requestMatchers(&quot;/api/**&quot;).hasRole(STUDENT.name())\r\n                .anyRequest().authenticated();\r\n\r\n        return http.build();\r\n    }\r\n\r\nAnd this is the `authManager` method:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Bean\r\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n        AuthenticationManagerBuilder authenticationManagerBuilder = http\r\n                                    .getSharedObject(AuthenticationManagerBuilder.class);\r\n        authenticationManagerBuilder.authenticationProvider(daoAuthenticationProvider());\r\n        return authenticationManagerBuilder.build();\r\n    }\r\n\r\nNow, with this setup, I get the error \r\n\r\n&gt; Factory method &#39;filterChain&#39; threw exception with message: This object has already been built  \r\n\r\nIf I remove the JWT filter, it works. I assume, because I let build the `AuthenticationManager` and in the `filterChain` method there is another build.\r\n\r\nHow to resolve this issue under Spring Boot 3? In the `filterChain` method I need the build, since the method has to return a `SecurityFilterChain`. \r\n\r\nI found [this][1] question, which is exactly my problem, but unfortunatelly, there is no answer.\r\n\r\n  [1]: https://stackoverflow.com/questions/74187035/error-creating-bean-with-name-filterchain-org-springframework-security-config","title":"Adding JWT filter to filter chain throws &#39;This object has already been built&#39; error","body":"<p>I use Spring Boot 3 and have the following issue.</p>\n<p>This is my <code>filterChain</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        .csrf().disable()\n        .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n        .addFilter(new JwtUserNameAndPasswordAuthFilter(authManager(http)))\n        .authorizeHttpRequests()\n            .requestMatchers(&quot;/&quot;, &quot;/index.html&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\n            .requestMatchers(&quot;/api/**&quot;).hasRole(STUDENT.name())\n            .anyRequest().authenticated();\n\n    return http.build();\n}\n</code></pre>\n<p>And this is the <code>authManager</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic AuthenticationManager authManager(HttpSecurity http) throws Exception {\n    AuthenticationManagerBuilder authenticationManagerBuilder = http\n                                .getSharedObject(AuthenticationManagerBuilder.class);\n    authenticationManagerBuilder.authenticationProvider(daoAuthenticationProvider());\n    return authenticationManagerBuilder.build();\n}\n</code></pre>\n<p>Now, with this setup, I get the error</p>\n<blockquote>\n<p>Factory method 'filterChain' threw exception with message: This object has already been built</p>\n</blockquote>\n<p>If I remove the JWT filter, it works. I assume, because I let build the <code>AuthenticationManager</code> and in the <code>filterChain</code> method there is another build.</p>\n<p>How to resolve this issue under Spring Boot 3? In the <code>filterChain</code> method I need the build, since the method has to return a <code>SecurityFilterChain</code>.</p>\n<p>I found <a href=\"https://stackoverflow.com/questions/74187035/error-creating-bean-with-name-filterchain-org-springframework-security-config\">this</a> question, which is exactly my problem, but unfortunatelly, there is no answer.</p>\n"},{"tags":["java","unique","factory"],"comments":[{"owner":{"account_id":1334069,"reputation":4343,"user_id":1277259,"accept_rate":75,"display_name":"KevinO"},"score":1,"creation_date":1462986295,"post_id":37169055,"comment_id":61873034,"body_markdown":"Is this backed by a database at all? I mean, what constitutes &quot;existence&quot; -- over what time frame?","body":"Is this backed by a database at all? I mean, what constitutes &quot;existence&quot; -- over what time frame?"},{"owner":{"account_id":7909428,"reputation":119,"user_id":5973919,"accept_rate":23,"display_name":"Andrew Coates"},"score":0,"creation_date":1462986430,"post_id":37169055,"comment_id":61873109,"body_markdown":"No there&#39;s no database involved. If I&#39;ve implemented it correctly, the LicenceNumbers are stored in the Map, so I&#39;d have to check there.","body":"No there&#39;s no database involved. If I&#39;ve implemented it correctly, the LicenceNumbers are stored in the Map, so I&#39;d have to check there."},{"owner":{"account_id":1334069,"reputation":4343,"user_id":1277259,"accept_rate":75,"display_name":"KevinO"},"score":4,"creation_date":1462986546,"post_id":37169055,"comment_id":61873184,"body_markdown":"I would suggest an AtomicInteger. I will provide a quick answer in just a moment.","body":"I would suggest an AtomicInteger. I will provide a quick answer in just a moment."},{"owner":{"account_id":5226322,"reputation":2046,"user_id":4178262,"display_name":"Mark Stewart"},"score":1,"creation_date":1462986568,"post_id":37169055,"comment_id":61873195,"body_markdown":"You will need to be careful about threading issues.  Also, if you don&#39;t worry about &quot;gaps&quot; in sequence numbers for MS-1980, you could have one master sequence generator.  Otherwise you would need a sequence generator for each set of initials and year.","body":"You will need to be careful about threading issues.  Also, if you don&#39;t worry about &quot;gaps&quot; in sequence numbers for MS-1980, you could have one master sequence generator.  Otherwise you would need a sequence generator for each set of initials and year."},{"owner":{"account_id":7909428,"reputation":119,"user_id":5973919,"accept_rate":23,"display_name":"Andrew Coates"},"score":0,"creation_date":1462986840,"post_id":37169055,"comment_id":61873346,"body_markdown":"@MarkStewart Could you elaborate on &quot;gaps&quot;? Do you mean the dashes between components of LicenceNumber? If so, then unfortunately I need them.","body":"@MarkStewart Could you elaborate on &quot;gaps&quot;? Do you mean the dashes between components of LicenceNumber? If so, then unfortunately I need them."},{"owner":{"account_id":6411938,"reputation":4104,"user_id":4971422,"display_name":"FredK"},"score":1,"creation_date":1462987601,"post_id":37169055,"comment_id":61873818,"body_markdown":"Why do they have to be random? Why not just a sequential series?","body":"Why do they have to be random? Why not just a sequential series?"},{"owner":{"account_id":7909428,"reputation":119,"user_id":5973919,"accept_rate":23,"display_name":"Andrew Coates"},"score":0,"creation_date":1462987787,"post_id":37169055,"comment_id":61873944,"body_markdown":"@FredK I could just store a serial number variable and have it increment by one each time a new LicenceNo is created. That way if Mark was generated after molly, then the number would be unique. But I think it makes more sense that if someone has the same initials, then their serial number should just be one greater than the previous.","body":"@FredK I could just store a serial number variable and have it increment by one each time a new LicenceNo is created. That way if Mark was generated after molly, then the number would be unique. But I think it makes more sense that if someone has the same initials, then their serial number should just be one greater than the previous."},{"owner":{"account_id":5226322,"reputation":2046,"user_id":4178262,"display_name":"Mark Stewart"},"score":0,"creation_date":1462993915,"post_id":37169055,"comment_id":61877473,"body_markdown":"By gaps, I mean is it okay if for all the M* S*  born in 1990, is it okay if the sequential number has gaps:  MS-1980-11, MS-1980-12, MS-1980-15, MS-1980-20:  gaps are 13, 14, 16 through 20.  If that kind of gap is okay, then you could have a master sequence generator for all initials and years.","body":"By gaps, I mean is it okay if for all the M* S*  born in 1990, is it okay if the sequential number has gaps:  MS-1980-11, MS-1980-12, MS-1980-15, MS-1980-20:  gaps are 13, 14, 16 through 20.  If that kind of gap is okay, then you could have a master sequence generator for all initials and years."}],"answers":[{"tags":[],"owner":{"account_id":1334069,"reputation":4343,"user_id":1277259,"accept_rate":75,"display_name":"KevinO"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1462987630,"creation_date":1462987630,"answer_id":37169487,"question_id":37169055,"body_markdown":"Here is an approach that will create incremental numbers for the *duration of the program*. Since there is no backing database, each run of the program will reset.\r\n\r\nIt works by using an `AtomicInteger` to ensure uniqueness. I have used a `ConcurrentMap` to take advantage of thread safety as well as the `.putIfAbsent` method. However, it can be easily converted to use a standard `Map`. I also just used a `String`, but a better approach would be to use a real domain object. It is sufficient for handling the OP&#39;s question and for illustrative purposes.\r\n\r\n    // a Map for holding the sequencing\r\n    private ConcurrentMap&lt;String, AtomicInteger&gt; _sequence = \r\n            new ConcurrentHashMap&lt;&gt;();\r\n    \r\n    /**\r\n     * Returns a unique, incrementing sequence, formatted to\r\n     * 0 prefixed, 3 places, based upon the User&#39;s initials\r\n     * and the registration year\r\n     */\r\n    public String getSequence(String initials, String year)\r\n    {\r\n        String key = makePrefix(initials, year);\r\n        AtomicInteger chk = new AtomicInteger(0);\r\n        AtomicInteger ai = _sequence.putIfAbsent(key, chk);\r\n        if (ai == null) {\r\n            ai = chk;\r\n        }\r\n        \r\n        int val = ai.incrementAndGet();\r\n        \r\n        String fmt = String.format(&quot;%03d&quot;, val);\r\n\r\n        return fmt;\r\n    }\r\n    \r\n    /**\r\n     * A helper method to make the prefix, which is the\r\n     * concatintion of the initials, a &quot;-&quot;, and a year.\r\n     */\r\n    private String makePrefix (String initials, String year)\r\n    {\r\n        return initials + &quot;-&quot; + year;\r\n    }\r\n\r\nTest Example:\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        LicensePlate_37169055 lp = new LicensePlate_37169055();\r\n        System.out.println(&quot;ko, 1999: &quot; + lp.getSequence(&quot;ko&quot;, &quot;1999&quot;));\r\n        System.out.println(&quot;ac, 1999: &quot; + lp.getSequence(&quot;ac&quot;, &quot;1999&quot;));\r\n        System.out.println(&quot;ko, 1999: &quot; + lp.getSequence(&quot;ko&quot;, &quot;1999&quot;));\r\n        System.out.println(&quot;ac, 1999: &quot; + lp.getSequence(&quot;ac&quot;, &quot;1999&quot;));\r\n        System.out.println(&quot;ms, 1999: &quot; + lp.getSequence(&quot;ms&quot;, &quot;1999&quot;));\r\n        System.out.println(&quot;ko, 2001: &quot; + lp.getSequence(&quot;ko&quot;, &quot;2001&quot;));\r\n        \r\n    }\r\n\r\nExample Output:\r\n\r\n&gt; ko, 1999: 001  \r\nac, 1999: 001  \r\nko, 1999: 002  \r\nac, 1999: 002  \r\nms, 1999: 001  \r\nko, 2001: 001  \r\n\r\n\r\nTo integrate into the OP&#39;s code, the following modifications are suggestive:\r\n\r\n    public static LicenceNumber getInstance(Name driverName, Date issueDate){\r\n      Calendar tempCal = Calendar.getInstance();\r\n      tempCal.setTime(issueDate);\r\n      String issueYear = String.valueOf(tempCal.get(Calendar.YEAR));\r\n\r\n      // ** get the initials; I would actually move this functionality to be\r\n      //   a method on the Name class\r\n      String initials = driverName.getForename().substring(0, 1) + driverName.getSurname().substring(0, 1);\r\n\r\n      // get the unique serial number\r\n      String serial = getSequence(initials, issueYear);\r\n\r\n      // make the full licenseplate String\r\n      String k = makePrefix(initials, issueYear) + &quot;-&quot; + serial;\r\n\r\n    if(!LICENCENOS.containsKey(k)){\r\n        LICENCENOS.put(k, new LicenceNumber(driverName,issueDate));\r\n    }\r\n\r\n    return LICENCENOS.get(k);\r\n}","title":"How can you create a unique serial number for a given string?","body":"<p>Here is an approach that will create incremental numbers for the <em>duration of the program</em>. Since there is no backing database, each run of the program will reset.</p>\n\n<p>It works by using an <code>AtomicInteger</code> to ensure uniqueness. I have used a <code>ConcurrentMap</code> to take advantage of thread safety as well as the <code>.putIfAbsent</code> method. However, it can be easily converted to use a standard <code>Map</code>. I also just used a <code>String</code>, but a better approach would be to use a real domain object. It is sufficient for handling the OP's question and for illustrative purposes.</p>\n\n<pre><code>// a Map for holding the sequencing\nprivate ConcurrentMap&lt;String, AtomicInteger&gt; _sequence = \n        new ConcurrentHashMap&lt;&gt;();\n\n/**\n * Returns a unique, incrementing sequence, formatted to\n * 0 prefixed, 3 places, based upon the User's initials\n * and the registration year\n */\npublic String getSequence(String initials, String year)\n{\n    String key = makePrefix(initials, year);\n    AtomicInteger chk = new AtomicInteger(0);\n    AtomicInteger ai = _sequence.putIfAbsent(key, chk);\n    if (ai == null) {\n        ai = chk;\n    }\n\n    int val = ai.incrementAndGet();\n\n    String fmt = String.format(\"%03d\", val);\n\n    return fmt;\n}\n\n/**\n * A helper method to make the prefix, which is the\n * concatintion of the initials, a \"-\", and a year.\n */\nprivate String makePrefix (String initials, String year)\n{\n    return initials + \"-\" + year;\n}\n</code></pre>\n\n<p>Test Example:</p>\n\n<pre><code>public static void main(String[] args)\n{\n    LicensePlate_37169055 lp = new LicensePlate_37169055();\n    System.out.println(\"ko, 1999: \" + lp.getSequence(\"ko\", \"1999\"));\n    System.out.println(\"ac, 1999: \" + lp.getSequence(\"ac\", \"1999\"));\n    System.out.println(\"ko, 1999: \" + lp.getSequence(\"ko\", \"1999\"));\n    System.out.println(\"ac, 1999: \" + lp.getSequence(\"ac\", \"1999\"));\n    System.out.println(\"ms, 1999: \" + lp.getSequence(\"ms\", \"1999\"));\n    System.out.println(\"ko, 2001: \" + lp.getSequence(\"ko\", \"2001\"));\n\n}\n</code></pre>\n\n<p>Example Output:</p>\n\n<blockquote>\n  <p>ko, 1999: 001<br>\n  ac, 1999: 001<br>\n  ko, 1999: 002<br>\n  ac, 1999: 002<br>\n  ms, 1999: 001<br>\n  ko, 2001: 001  </p>\n</blockquote>\n\n<p>To integrate into the OP's code, the following modifications are suggestive:</p>\n\n<pre><code>public static LicenceNumber getInstance(Name driverName, Date issueDate){\n  Calendar tempCal = Calendar.getInstance();\n  tempCal.setTime(issueDate);\n  String issueYear = String.valueOf(tempCal.get(Calendar.YEAR));\n\n  // ** get the initials; I would actually move this functionality to be\n  //   a method on the Name class\n  String initials = driverName.getForename().substring(0, 1) + driverName.getSurname().substring(0, 1);\n\n  // get the unique serial number\n  String serial = getSequence(initials, issueYear);\n\n  // make the full licenseplate String\n  String k = makePrefix(initials, issueYear) + \"-\" + serial;\n\nif(!LICENCENOS.containsKey(k)){\n    LICENCENOS.put(k, new LicenceNumber(driverName,issueDate));\n}\n\nreturn LICENCENOS.get(k);\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":27948196,"reputation":1,"user_id":21342704,"display_name":"R.PAVEEN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679134193,"creation_date":1679119153,"answer_id":75774108,"question_id":37169055,"body_markdown":"    public class PrintOddEvenMain {\r\n        public static void main(String[] args) {\r\n     \r\n            OddEvenRunnable oddRunnable=new OddEvenRunnable(1);\r\n            OddEvenRunnable evenRunnable=new OddEvenRunnable(0);\r\n     \r\n            Thread t1=new Thread(oddRunnable,&quot;Odd&quot;);\r\n            Thread t2=new Thread(evenRunnable,&quot;Even&quot;);\r\n     \r\n            t1.start();\r\n            t2.start();\r\n     \r\n        }\r\n    }","title":"How can you create a unique serial number for a given string?","body":"<pre><code>public class PrintOddEvenMain {\n    public static void main(String[] args) {\n \n        OddEvenRunnable oddRunnable=new OddEvenRunnable(1);\n        OddEvenRunnable evenRunnable=new OddEvenRunnable(0);\n \n        Thread t1=new Thread(oddRunnable,&quot;Odd&quot;);\n        Thread t2=new Thread(evenRunnable,&quot;Even&quot;);\n \n        t1.start();\n        t2.start();\n \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7909428,"reputation":119,"user_id":5973919,"accept_rate":23,"display_name":"Andrew Coates"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8834,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37169487,"answer_count":2,"score":1,"last_activity_date":1679134193,"creation_date":1462986224,"question_id":37169055,"body_markdown":"So I am trying to create a class that represents a fictional Licence Number for a given person. The Licence Number is constructed from the following:\r\n\r\n - The initials of the person&#39;s forename and surname\r\n - The year the licence was issued\r\n - A random arbitrary serial number\r\n\r\nSo for example, Maggie Smith whose licence was issued in 1990, might have a Licence Number of MS-1990-11, with 11 being the serial number. However, Mark Sanders might have had his licence issued the same year meaning the beginning of his licence may be MS-1990 also.\r\n\r\nSo this is where the problem occurs. I need to make sure that the serial number for this person is not the same as Maggie&#39;s. So I&#39;d have to check through any records that have the same initials and issue year, then generate a new unique serial number. Here&#39;s my code so far:\r\n\r\n    public class LicenceNumber {\r\n\r\n\tprivate final Name driverName;\r\n\tprivate final Date issueDate;\r\n\tprivate static final Map&lt;String, LicenceNumber&gt; LICENCENOS = new HashMap&lt;String, LicenceNumber&gt;();\r\n\t\r\n\tpublic LicenceNumber(Name driverName, Date issueDate){\r\n\t\t\r\n\t\tthis.driverName = driverName;\r\n\t\tthis.issueDate = issueDate;\r\n\t}\r\n\t\r\n\tpublic static LicenceNumber getInstance(Name driverName, Date issueDate){\r\n\t\tCalendar tempCal = Calendar.getInstance();\r\n\t\ttempCal.setTime(issueDate);\r\n\t\tString issueYear = String.valueOf(tempCal.get(Calendar.YEAR));\r\n\t\tint serialNo = 1;\r\n\t\tString k = driverName.getForename().substring(0, 1) + driverName.getSurname().substring(0, 1) + &quot;-&quot; + issueYear + &quot;-&quot; + serialNo;\r\n\t\t\r\n\t\tif(!LICENCENOS.containsKey(k)){\r\n\t\t\tLICENCENOS.put(k, new LicenceNumber(driverName,issueDate));\r\n\t\t}\r\n\t\t\r\n\t\treturn LICENCENOS.get(k);\r\n\t}\r\n\r\n\tpublic boolean isUnique(){\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic Name getDriverName() {\r\n\t\treturn driverName;\r\n\t}\r\n\r\n\tpublic Date getIssueDate() {\r\n\t\treturn issueDate;\r\n\t}\r\n    }\r\n\r\nAnd a snippet of how it may be instantiated:\r\n\r\n    public final class DrivingLicence {\r\n\r\n\tprivate final Name driverName;\r\n\tprivate final Date driverDOB;\r\n\tprivate final Date issueDate;\r\n\tprivate final LicenceNumber licenceNo;\r\n\tprivate final boolean isFull;\r\n\t\r\n\tpublic DrivingLicence(Name driverName, Date driverDOB, Date issueDate, boolean isFull){\r\n\t\t//TO-DO validate inputs\r\n\t\tthis.driverName = driverName;\r\n\t\tthis.driverDOB = driverDOB;\r\n\t\tthis.issueDate = issueDate;\r\n\t\tthis.licenceNo = LicenceNumber.getInstance(driverName, issueDate);\r\n\t\t//this.licenceNo = new LicenceNumber(driverName, issueDate);//instantiate a licence number using the driverName and dateOfIssue\r\n\t\tthis.isFull = isFull;\r\n\t}\r\n    }\r\n\r\nI&#39;ve based it on some lecture notes that discuss how you can use factories for uniqueness. I&#39;m also unsure if I should create a LicenceNumber using getInstance or by creating a new Object. Does anyone know a way I could check if a serial number for a given string, e.g. XX-XXXX already exists?","title":"How can you create a unique serial number for a given string?","body":"<p>So I am trying to create a class that represents a fictional Licence Number for a given person. The Licence Number is constructed from the following:</p>\n\n<ul>\n<li>The initials of the person's forename and surname</li>\n<li>The year the licence was issued</li>\n<li>A random arbitrary serial number</li>\n</ul>\n\n<p>So for example, Maggie Smith whose licence was issued in 1990, might have a Licence Number of MS-1990-11, with 11 being the serial number. However, Mark Sanders might have had his licence issued the same year meaning the beginning of his licence may be MS-1990 also.</p>\n\n<p>So this is where the problem occurs. I need to make sure that the serial number for this person is not the same as Maggie's. So I'd have to check through any records that have the same initials and issue year, then generate a new unique serial number. Here's my code so far:</p>\n\n<pre><code>public class LicenceNumber {\n\nprivate final Name driverName;\nprivate final Date issueDate;\nprivate static final Map&lt;String, LicenceNumber&gt; LICENCENOS = new HashMap&lt;String, LicenceNumber&gt;();\n\npublic LicenceNumber(Name driverName, Date issueDate){\n\n    this.driverName = driverName;\n    this.issueDate = issueDate;\n}\n\npublic static LicenceNumber getInstance(Name driverName, Date issueDate){\n    Calendar tempCal = Calendar.getInstance();\n    tempCal.setTime(issueDate);\n    String issueYear = String.valueOf(tempCal.get(Calendar.YEAR));\n    int serialNo = 1;\n    String k = driverName.getForename().substring(0, 1) + driverName.getSurname().substring(0, 1) + \"-\" + issueYear + \"-\" + serialNo;\n\n    if(!LICENCENOS.containsKey(k)){\n        LICENCENOS.put(k, new LicenceNumber(driverName,issueDate));\n    }\n\n    return LICENCENOS.get(k);\n}\n\npublic boolean isUnique(){\n    return true;\n}\n\npublic Name getDriverName() {\n    return driverName;\n}\n\npublic Date getIssueDate() {\n    return issueDate;\n}\n}\n</code></pre>\n\n<p>And a snippet of how it may be instantiated:</p>\n\n<pre><code>public final class DrivingLicence {\n\nprivate final Name driverName;\nprivate final Date driverDOB;\nprivate final Date issueDate;\nprivate final LicenceNumber licenceNo;\nprivate final boolean isFull;\n\npublic DrivingLicence(Name driverName, Date driverDOB, Date issueDate, boolean isFull){\n    //TO-DO validate inputs\n    this.driverName = driverName;\n    this.driverDOB = driverDOB;\n    this.issueDate = issueDate;\n    this.licenceNo = LicenceNumber.getInstance(driverName, issueDate);\n    //this.licenceNo = new LicenceNumber(driverName, issueDate);//instantiate a licence number using the driverName and dateOfIssue\n    this.isFull = isFull;\n}\n}\n</code></pre>\n\n<p>I've based it on some lecture notes that discuss how you can use factories for uniqueness. I'm also unsure if I should create a LicenceNumber using getInstance or by creating a new Object. Does anyone know a way I could check if a serial number for a given string, e.g. XX-XXXX already exists?</p>\n"},{"tags":["java","c","list","data-structures","linked-list"],"comments":[{"owner":{"account_id":187580,"reputation":15965,"user_id":425738,"display_name":"ldav1s"},"score":0,"creation_date":1314316362,"post_id":7198508,"comment_id":8646628,"body_markdown":"Code would be appreciated here also to answer the question.","body":"Code would be appreciated here also to answer the question."},{"owner":{"account_id":17869190,"reputation":1204,"user_id":12980866,"display_name":"Shreemaan Abhishek"},"score":3,"creation_date":1618469292,"post_id":7198508,"comment_id":118611316,"body_markdown":"So I see, you wanna know the number of the girl whom you gave your number&#128514;&#128514;","body":"So I see, you wanna know the number of the girl whom you gave your number😂😂"}],"answers":[{"tags":[],"owner":{"account_id":473127,"reputation":23114,"user_id":882051,"accept_rate":70,"display_name":"hmakholm left over Monica"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1314316242,"creation_date":1314316242,"answer_id":7198544,"question_id":7198508,"body_markdown":"Walk through the list from the beginning until you meet a node whose `next` link points you your current node.\r\n\r\nBut if you need to do this, perhaps you oughtn&#39;t be using a singly linked list in the first place.","title":"given a node how can I find previous node in a singly linked list","body":"<p>Walk through the list from the beginning until you meet a node whose <code>next</code> link points you your current node.</p>\n\n<p>But if you need to do this, perhaps you oughtn't be using a singly linked list in the first place.</p>\n"},{"tags":[],"owner":{"account_id":274190,"reputation":6935,"user_id":566274,"accept_rate":81,"display_name":"Darren Engwirda"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1314316257,"creation_date":1314316257,"answer_id":7198547,"question_id":7198508,"body_markdown":"Assuming that you&#39;re talking about a forward singly linked list (each node only has a pointer to &#39;next&#39; etc) you will have to iterate from the start of the list until you find the node that has &#39;next&#39; equal to your current node. Obviously, this is a slow `O(n)` operation.\r\n\r\nHope this helps.","title":"given a node how can I find previous node in a singly linked list","body":"<p>Assuming that you're talking about a forward singly linked list (each node only has a pointer to 'next' etc) you will have to iterate from the start of the list until you find the node that has 'next' equal to your current node. Obviously, this is a slow <code>O(n)</code> operation.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":133781,"reputation":3265,"user_id":335423,"accept_rate":85,"display_name":"filip-fku"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1314316368,"creation_date":1314316368,"answer_id":7198558,"question_id":7198508,"body_markdown":"Your only option for a singly-linked list is a linear search, something like below (Python-like pseudo code):\r\n\r\n    find_previous_node(list, node):\r\n       current_node = list.first\r\n       while(current_node.next != null):\r\n           if(current_node.next == node):\r\n              return current_node\r\n           else:\r\n              current_node = current_node.next\r\n       return null","title":"given a node how can I find previous node in a singly linked list","body":"<p>Your only option for a singly-linked list is a linear search, something like below (Python-like pseudo code):</p>\n\n<pre><code>find_previous_node(list, node):\n   current_node = list.first\n   while(current_node.next != null):\n       if(current_node.next == node):\n          return current_node\n       else:\n          current_node = current_node.next\n   return null\n</code></pre>\n"},{"tags":[],"owner":{"account_id":125806,"reputation":650,"user_id":321851,"display_name":"arunmur"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1314316438,"creation_date":1314316438,"answer_id":7198566,"question_id":7198508,"body_markdown":"assuming you are using forward singly linked list your code should look like\r\n\r\n    while(node)\r\n    {\r\n          previous = node\r\n          node = node.next\r\n          // Do what ever you want to do with the nodes\r\n    }","title":"given a node how can I find previous node in a singly linked list","body":"<p>assuming you are using forward singly linked list your code should look like</p>\n\n<pre><code>while(node)\n{\n      previous = node\n      node = node.next\n      // Do what ever you want to do with the nodes\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75228,"reputation":2849,"user_id":215866,"display_name":"hemflit"},"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1314316445,"creation_date":1314316445,"answer_id":7198568,"question_id":7198508,"body_markdown":"You can&#39;t.\r\n\r\nSingly-linked lists by definition only link each node to its successor, not predecessor. There is no information about the predecessor; not even information about whether it exists at all (your node could be the head of the list).\r\n\r\nYou could use a doubly-linked list.\r\nYou could try to rearrange everything so you have the predecessor passed in as a parameter in the first place.\r\n\r\nYou could scan the entire heap looking for a record that looks like a predecessor node with a pointer to your node. (Not a serious suggestion.)","title":"given a node how can I find previous node in a singly linked list","body":"<p>You can't.</p>\n\n<p>Singly-linked lists by definition only link each node to its successor, not predecessor. There is no information about the predecessor; not even information about whether it exists at all (your node could be the head of the list).</p>\n\n<p>You could use a doubly-linked list.\nYou could try to rearrange everything so you have the predecessor passed in as a parameter in the first place.</p>\n\n<p>You could scan the entire heap looking for a record that looks like a predecessor node with a pointer to your node. (Not a serious suggestion.)</p>\n"},{"tags":[],"owner":{"account_id":3944142,"reputation":3,"user_id":3257466,"accept_rate":75,"display_name":"Mifta_Sintaha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393598495,"creation_date":1393598495,"answer_id":22098184,"question_id":7198508,"body_markdown":"Use a nodeAt() method and pass the head,size and the index of the current node.\r\n\r\n \r\n\r\n     public static Node nodeAt(Node head,int index){\r\n        Node n=head;\r\n        for(int i=0;i&lt;index;i++,n=n.next)\r\n          ;\r\n        return n;\r\n      }\r\nwhere n returns the node of the predecessor.","title":"given a node how can I find previous node in a singly linked list","body":"<p>Use a nodeAt() method and pass the head,size and the index of the current node.</p>\n\n<pre><code> public static Node nodeAt(Node head,int index){\n    Node n=head;\n    for(int i=0;i&lt;index;i++,n=n.next)\n      ;\n    return n;\n  }\n</code></pre>\n\n<p>where n returns the node of the predecessor.</p>\n"},{"tags":[],"owner":{"account_id":4624533,"reputation":21,"user_id":3748727,"display_name":"srinivas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1407156415,"creation_date":1407156415,"answer_id":25119044,"question_id":7198508,"body_markdown":"This is some kind of hack which I found out while solving the problem(Delete every even node in a list)\r\n\r\n        internal void DeleteNode(int p)\r\n        {\r\n            DeleteNode(head, p);\r\n        }\r\n\r\n        private void DeleteNode(Node head, int p)\r\n        {\r\n            Node current = head;\r\n            Node prev = null;\r\n\r\n            while (current.next != null)\r\n            {\r\n                prev = current;\r\n                current = current.next;\r\n                if (current.data == p)\r\n                {\r\n                    prev.next = current.next;\r\n                }\r\n            }\r\n        }\r\n\r\nNow here, in prev you assign the current and then move the current to next thereby prev contains the previous node.\r\nHope this helps...","title":"given a node how can I find previous node in a singly linked list","body":"<p>This is some kind of hack which I found out while solving the problem(Delete every even node in a list)</p>\n\n<pre><code>    internal void DeleteNode(int p)\n    {\n        DeleteNode(head, p);\n    }\n\n    private void DeleteNode(Node head, int p)\n    {\n        Node current = head;\n        Node prev = null;\n\n        while (current.next != null)\n        {\n            prev = current;\n            current = current.next;\n            if (current.data == p)\n            {\n                prev.next = current.next;\n            }\n        }\n    }\n</code></pre>\n\n<p>Now here, in prev you assign the current and then move the current to next thereby prev contains the previous node.\nHope this helps...</p>\n"},{"tags":[],"owner":{"account_id":4308682,"reputation":12613,"user_id":3520404,"display_name":"saran3h"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1431498576,"creation_date":1431495366,"answer_id":30206472,"question_id":7198508,"body_markdown":"Here is a small trick with linear search: just pass in the node or its position whose previous node you are searching for:\r\n\r\n    \r\n    \r\n    private MyNode findNode(int pos) {\r\n    //node will have pos=pos-1\r\n    \t\tpos-- = 1; \r\n    \t\tMyNode prevNode = null;\r\n    \t\tint count = 0;  \r\n    \t\tMyNode p = first.next;  // first = head node, find it however you want.\r\n    //this is for circular linked list, you can use first!=last for singly linked list\r\n    \t\twhile (p != first) { \r\n    \t\t\tif (count == pos) {\r\n    \t\t\t\tprevNode = p;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tp = p.next;\r\n    \t\t\tcount++;\r\n    \t\t}\r\n    \t\treturn prevNode;\r\n    \t}","title":"given a node how can I find previous node in a singly linked list","body":"<p>Here is a small trick with linear search: just pass in the node or its position whose previous node you are searching for:</p>\n\n<pre><code>private MyNode findNode(int pos) {\n//node will have pos=pos-1\n        pos-- = 1; \n        MyNode prevNode = null;\n        int count = 0;  \n        MyNode p = first.next;  // first = head node, find it however you want.\n//this is for circular linked list, you can use first!=last for singly linked list\n        while (p != first) { \n            if (count == pos) {\n                prevNode = p;\n                break;\n            }\n            p = p.next;\n            count++;\n        }\n        return prevNode;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4610487,"reputation":918,"user_id":3738751,"display_name":"Pankaj Singh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1529352495,"creation_date":1517912901,"answer_id":48640765,"question_id":7198508,"body_markdown":"Keep two-pointer(curr, prev) initially both will point to head of the list. \r\n\r\ndo a loop on the list until you either reach at the end of the list or at the required node.\r\n\r\nfor each iteration move curr node to the next of it but before moving to next store its pointer in prev pointer.\r\n\r\n        prev = curr; // first store current node in prev\r\n        curr = curr-&gt;next // move current to next\r\nat the end of loop prev node will contain previous node.  \r\n\r\n    getPrev(head, key) {    \r\n        Node* curr = head;\r\n        Node* prev = head;\r\n        while(curr !=null &amp;&amp; curr-&gt;data==key){\r\n            prev = curr;\r\n            curr = curr-&gt;next\r\n        }\r\n        return prev\r\n    }\r\n\r\n   \r\nExample:\r\n--------\r\n\r\nlist = 1-&gt;5-&gt;10-&gt;4-&gt;3\r\n\r\nWe want prev node of 4 So key = 4 and head point at 1 here\r\n\r\ninitially:\r\n\r\n - temp will point to 1\r\n - prev will point to 1\r\n\r\niteration 1:\r\n\r\n - First, assign prev=temp (prev point to 1)\r\n - move temp; temp-&gt;next (temp point to 5)\r\n\r\niteration 2:\r\n\r\n - First, assign prev=temp (prev point to 5)\r\n - move temp; temp-&gt;next (temp point to 10)\r\n \r\niteration 3:\r\n\r\n - First, assign prev=temp (prev point to 10)\r\n - move temp; temp-&gt;next (temp point to 4) \r\n     \r\niteration 4:\r\n\r\n - temp-&gt;data == key so it will return out of loop.\r\n - return prev node\r\n\r\n\r\n   \r\n   \r\n   \r\n\r\n\r\n\r\n","title":"given a node how can I find previous node in a singly linked list","body":"<p>Keep two-pointer(curr, prev) initially both will point to head of the list. </p>\n\n<p>do a loop on the list until you either reach at the end of the list or at the required node.</p>\n\n<p>for each iteration move curr node to the next of it but before moving to next store its pointer in prev pointer.</p>\n\n<pre><code>    prev = curr; // first store current node in prev\n    curr = curr-&gt;next // move current to next\n</code></pre>\n\n<p>at the end of loop prev node will contain previous node.  </p>\n\n<pre><code>getPrev(head, key) {    \n    Node* curr = head;\n    Node* prev = head;\n    while(curr !=null &amp;&amp; curr-&gt;data==key){\n        prev = curr;\n        curr = curr-&gt;next\n    }\n    return prev\n}\n</code></pre>\n\n<h2>Example:</h2>\n\n<p>list = 1->5->10->4->3</p>\n\n<p>We want prev node of 4 So key = 4 and head point at 1 here</p>\n\n<p>initially:</p>\n\n<ul>\n<li>temp will point to 1</li>\n<li>prev will point to 1</li>\n</ul>\n\n<p>iteration 1:</p>\n\n<ul>\n<li>First, assign prev=temp (prev point to 1)</li>\n<li>move temp; temp->next (temp point to 5)</li>\n</ul>\n\n<p>iteration 2:</p>\n\n<ul>\n<li>First, assign prev=temp (prev point to 5)</li>\n<li>move temp; temp->next (temp point to 10)</li>\n</ul>\n\n<p>iteration 3:</p>\n\n<ul>\n<li>First, assign prev=temp (prev point to 10)</li>\n<li>move temp; temp->next (temp point to 4) </li>\n</ul>\n\n<p>iteration 4:</p>\n\n<ul>\n<li>temp->data == key so it will return out of loop.</li>\n<li>return prev node</li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"user3133925"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552070410,"creation_date":1552070410,"answer_id":55069151,"question_id":7198508,"body_markdown":"We can traverse through the LinkedList using slow and fast pointers.\r\nLet&#39;s say \r\n\r\n&gt; fast pointer `fast = fast.next.next`\r\n&gt; &gt; slow pointer `slow = slow.next`\r\n\r\nSlow pointer will be always a previous of the fast pointer, and so we can able to find it.","title":"given a node how can I find previous node in a singly linked list","body":"<p>We can traverse through the LinkedList using slow and fast pointers.\nLet's say </p>\n\n<blockquote>\n  <p>fast pointer <code>fast = fast.next.next</code></p>\n  \n  <blockquote>\n    <p>slow pointer <code>slow = slow.next</code></p>\n  </blockquote>\n</blockquote>\n\n<p>Slow pointer will be always a previous of the fast pointer, and so we can able to find it.</p>\n"},{"tags":[],"owner":{"account_id":18440717,"reputation":121,"user_id":13433407,"display_name":"ayush_manglani"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1591086198,"creation_date":1591086198,"answer_id":62147779,"question_id":7198508,"body_markdown":"If you want to delete the current node, you can do that without finding previous node as well.\r\n\r\nPython Code:\r\n\r\ndef deleteNode(self, node):\r\n\r\n    node.val = node.next.val\r\n\r\n    node.next = node.next.next\r\n\r\n@ Delete Node in a Linked List\r\n","title":"given a node how can I find previous node in a singly linked list","body":"<p>If you want to delete the current node, you can do that without finding previous node as well.</p>\n\n<p>Python Code:</p>\n\n<p>def deleteNode(self, node):</p>\n\n<pre><code>node.val = node.next.val\n\nnode.next = node.next.next\n</code></pre>\n\n<p>@ Delete Node in a Linked List</p>\n"},{"tags":[],"owner":{"account_id":19279150,"reputation":21,"user_id":14091491,"display_name":"Madan Singh rflZSUMTqf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597217160,"creation_date":1597217160,"answer_id":63371782,"question_id":7198508,"body_markdown":"You can do it like this.. you can replace the value of current node by value of next node.. and in the next of 2nd last node you can put null. its like delete a element from a string. here is code\r\n\r\n    void deleteNode(ListNode* node) {\r\n        ListNode *pre=node;\r\n       while(node-&gt;next) \r\n        {\r\n            node-&gt;val=node-&gt;next-&gt;val;\r\n            pre=node;\r\n            node=node-&gt;next;\r\n        }\r\n        pre-&gt;next=NULL;\r\n    \r\n}","title":"given a node how can I find previous node in a singly linked list","body":"<p>You can do it like this.. you can replace the value of current node by value of next node.. and in the next of 2nd last node you can put null. its like delete a element from a string. here is code</p>\n<pre><code>void deleteNode(ListNode* node) {\n    ListNode *pre=node;\n   while(node-&gt;next) \n    {\n        node-&gt;val=node-&gt;next-&gt;val;\n        pre=node;\n        node=node-&gt;next;\n    }\n    pre-&gt;next=NULL;\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":7455920,"reputation":8736,"user_id":6285054,"display_name":"Avinash Dalvi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655808496,"creation_date":1655808496,"answer_id":72699454,"question_id":7198508,"body_markdown":"It can possible to deleteNode if only given node not root or head. How ? \r\n\r\nIt can achieve by reversing value in node \r\n\r\n4-&gt; 2 -&gt; 1 -&gt; 9 given 2 as node to remove. as above other can&#39;t access previous node which is correct because singly linked list we don&#39;t store predecessor. What can do is swap value of next of give node to given node and change link to next of next of give node\r\n\r\n```\r\nnextNode = node.next  // assigning given node next to new pointer\r\nnode.val = nextNode.val // replacing value of given node to nextNode value \r\nnode.next = nextNode.next // changing link of given node to next to next node. \r\n``` \r\nI tried this approach and its working fine. ","title":"given a node how can I find previous node in a singly linked list","body":"<p>It can possible to deleteNode if only given node not root or head. How ?</p>\n<p>It can achieve by reversing value in node</p>\n<p>4-&gt; 2 -&gt; 1 -&gt; 9 given 2 as node to remove. as above other can't access previous node which is correct because singly linked list we don't store predecessor. What can do is swap value of next of give node to given node and change link to next of next of give node</p>\n<pre><code>nextNode = node.next  // assigning given node next to new pointer\nnode.val = nextNode.val // replacing value of given node to nextNode value \nnode.next = nextNode.next // changing link of given node to next to next node. \n</code></pre>\n<p>I tried this approach and its working fine.</p>\n"},{"tags":[],"owner":{"account_id":19709333,"reputation":1,"user_id":14430264,"display_name":"Fake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679133913,"creation_date":1679133913,"answer_id":75775145,"question_id":7198508,"body_markdown":"I don&#39;t know if this will help but you can index the your list and every next is the index + 1 and every previous is index - 1","title":"given a node how can I find previous node in a singly linked list","body":"<p>I don't know if this will help but you can index the your list and every next is the index + 1 and every previous is index - 1</p>\n"}],"owner":{"account_id":146716,"reputation":8263,"user_id":357349,"accept_rate":66,"display_name":"David Prun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48891,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":7198568,"answer_count":14,"score":11,"last_activity_date":1679133913,"creation_date":1314316029,"question_id":7198508,"body_markdown":"Given the current node, how can I find its previous node in a Singly Linked List. Thanks. Logic will do , code is appreciated. We all know given a root node one can do a sequential traverse , I want to know if there is a smarter way that avoids sequential access overhead. (assume there is no access to root node) Thanks. ","title":"given a node how can I find previous node in a singly linked list","body":"<p>Given the current node, how can I find its previous node in a Singly Linked List. Thanks. Logic will do , code is appreciated. We all know given a root node one can do a sequential traverse , I want to know if there is a smarter way that avoids sequential access overhead. (assume there is no access to root node) Thanks. </p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679166564,"post_id":75775144,"comment_id":133674317,"body_markdown":"You should not return the Optional object but the value of that Optional (if present). Please check some Java docu about Optional usage.","body":"You should not return the Optional object but the value of that Optional (if present). Please check some Java docu about Optional usage."}],"owner":{"account_id":15013024,"reputation":99,"user_id":10836892,"display_name":"Carlos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679133910,"creation_date":1679133910,"question_id":75775144,"body_markdown":"I encountered an error while trying to return an Optional&lt;JSONArray&gt; in my Spring Boot API. The variable &quot;json&quot; looked fine when I checked its value, but when I tried to access the API, I received an unexpected error message. Here&#39;s the code snippet that caused the error:\r\n```\r\n@GetMapping(&quot;/portfolio&quot;)\r\npublic ResponseEntity&lt;Optional&lt;JSONArray&gt;&gt; getPortfolio() {\r\n    Optional&lt;JSONArray&gt; json = portfolioService.getPortfolioJSON();\r\n    return new ResponseEntity&lt;Optional&lt;JSONArray&gt;&gt;(json, HttpStatus.OK);\r\n}\r\n```\r\nThe error message stated: &quot;Type definition error: [simple type, class org.json.JSONObject] org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.json.JSONObject]&quot;.\r\n\r\nI&#39;m not sure what caused this error, and I would appreciate any help or advice on how to fix it.\r\n\r\nPD: the variable json looks like this in the debugger:\r\n```\r\n&quot;Optional[[{&quot;date&quot;:&quot;Sat Mar 18 10:56:10 CET 2023&quot;,&quot;quantity&quot;:10,&quot;price&quot;:100,&quot;id&quot;:&quot;d675b6c7-42f1-4446-b77a-4d5010c20c5e&quot;,&quot;stock&quot;:{&quot;ticker&quot;:&quot;AAPL&quot;}},{&quot;date&quot;:&quot;Sat Mar 18 10:56:10 CET 2023&quot;,&quot;quantity&quot;:10,&quot;price&quot;:100,&quot;id&quot;:&quot;662db2c6-efb6-4b4f-ab50-42a845a7caa2&quot;,&quot;stock&quot;:{&quot;ticker&quot;:&quot;MSFT&quot;}}]]&quot;\r\n```\r\nThanks for your answers!","title":"Error while returning Optional&lt;JSONArray&gt; in Spring Boot APIError while returning Optional&lt;JSONArray&gt; in Spring Boot API","body":"<p>I encountered an error while trying to return an Optional in my Spring Boot API. The variable &quot;json&quot; looked fine when I checked its value, but when I tried to access the API, I received an unexpected error message. Here's the code snippet that caused the error:</p>\n<pre><code>@GetMapping(&quot;/portfolio&quot;)\npublic ResponseEntity&lt;Optional&lt;JSONArray&gt;&gt; getPortfolio() {\n    Optional&lt;JSONArray&gt; json = portfolioService.getPortfolioJSON();\n    return new ResponseEntity&lt;Optional&lt;JSONArray&gt;&gt;(json, HttpStatus.OK);\n}\n</code></pre>\n<p>The error message stated: &quot;Type definition error: [simple type, class org.json.JSONObject] org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.json.JSONObject]&quot;.</p>\n<p>I'm not sure what caused this error, and I would appreciate any help or advice on how to fix it.</p>\n<p>PD: the variable json looks like this in the debugger:</p>\n<pre><code>&quot;Optional[[{&quot;date&quot;:&quot;Sat Mar 18 10:56:10 CET 2023&quot;,&quot;quantity&quot;:10,&quot;price&quot;:100,&quot;id&quot;:&quot;d675b6c7-42f1-4446-b77a-4d5010c20c5e&quot;,&quot;stock&quot;:{&quot;ticker&quot;:&quot;AAPL&quot;}},{&quot;date&quot;:&quot;Sat Mar 18 10:56:10 CET 2023&quot;,&quot;quantity&quot;:10,&quot;price&quot;:100,&quot;id&quot;:&quot;662db2c6-efb6-4b4f-ab50-42a845a7caa2&quot;,&quot;stock&quot;:{&quot;ticker&quot;:&quot;MSFT&quot;}}]]&quot;\n</code></pre>\n<p>Thanks for your answers!</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":1920144,"reputation":2693,"user_id":1731863,"accept_rate":75,"display_name":"Aseem Goyal"},"score":0,"creation_date":1395746516,"post_id":22632826,"comment_id":34467745,"body_markdown":"what is wrong in using 4 loops ?","body":"what is wrong in using 4 loops ?"},{"owner":{"account_id":252388,"reputation":989,"user_id":530399,"accept_rate":43,"display_name":"Bikash Gyawali"},"score":0,"creation_date":1476285510,"post_id":22632826,"comment_id":67282292,"body_markdown":"What is the mathematical terminology for this kind of combination?","body":"What is the mathematical terminology for this kind of combination?"},{"owner":{"account_id":4879666,"reputation":169,"user_id":3933823,"accept_rate":100,"display_name":"prgSRR"},"score":0,"creation_date":1513711667,"post_id":22632826,"comment_id":82754351,"body_markdown":"@bikashg: Permutations &amp; Combinations","body":"@bikashg: Permutations &amp; Combinations"}],"answers":[{"tags":[],"owner":{"account_id":3234607,"reputation":10207,"user_id":2729109,"accept_rate":85,"display_name":"ikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395747773,"creation_date":1395746161,"answer_id":22632922,"question_id":22632826,"body_markdown":"just be simple -\r\n\r\n    ArrayList&lt;Integer&gt; combination(int[] ar1, int[] ar2)\r\n    {\r\n        ArrayList&lt;Integer&gt; result = new ArrayList&lt;int&gt;();\r\n        for (int i1 : ar1)\r\n        {\r\n            for (int i2 : ar2)\r\n            {\r\n                result.add(i1 * i2);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n&lt;hr/&gt;\r\n\r\nUm, I think recursion is solution to general situation.\r\n\r\n    import java.util.*;\r\n\r\n    class Ideone\r\n    {\r\n        public static void main (String[] args) throws java.lang.Exception\r\n        {\r\n            ArrayList&lt;int[]&gt; arrays = new ArrayList&lt;int[]&gt;();\r\n            arrays.add(new int[] { 1, 2, 3 });\r\n            arrays.add(new int[] { 4, 5 });\r\n            arrays.add(new int[] { 6, 7 });\r\n\r\n            ArrayList&lt;Integer&gt; result = combination(arrays);\r\n            for (int i : result)\r\n            {\r\n            \tSystem.out.println(i);\r\n            }\r\n        }\r\n\r\n        static ArrayList&lt;Integer&gt; combination(ArrayList&lt;int[]&gt; arrays)\r\n        {\r\n            if (arrays.size() == 0)\r\n                return null;\r\n\r\n            ArrayList&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\r\n            combination_sub(arrays, 0, result);\r\n            return result;\r\n        }\r\n        static void combination_sub(ArrayList&lt;int[]&gt; arrays, int idx, ArrayList&lt;Integer&gt; result)\r\n        {\r\n            if (arrays.size() == idx)\r\n            {\r\n                result.add(1);\r\n                return;\r\n            }\r\n\r\n            int[] ar = arrays.get(idx);\r\n\r\n            ArrayList&lt;Integer&gt; sub_result = new ArrayList&lt;Integer&gt;();\r\n            combination_sub(arrays, idx + 1, sub_result);\r\n\r\n            for (int i : ar)\r\n            {\r\n                for (int sub_i : sub_result)\r\n                {\r\n                    result.add(i * sub_i);\r\n                }\r\n    \t    }\r\n        }\r\n    }\r\n","title":"Combination of elements of multiple arrays","body":"<p>just be simple -</p>\n\n<pre><code>ArrayList&lt;Integer&gt; combination(int[] ar1, int[] ar2)\n{\n    ArrayList&lt;Integer&gt; result = new ArrayList&lt;int&gt;();\n    for (int i1 : ar1)\n    {\n        for (int i2 : ar2)\n        {\n            result.add(i1 * i2);\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<hr/>\n\n<p>Um, I think recursion is solution to general situation.</p>\n\n<pre><code>import java.util.*;\n\nclass Ideone\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        ArrayList&lt;int[]&gt; arrays = new ArrayList&lt;int[]&gt;();\n        arrays.add(new int[] { 1, 2, 3 });\n        arrays.add(new int[] { 4, 5 });\n        arrays.add(new int[] { 6, 7 });\n\n        ArrayList&lt;Integer&gt; result = combination(arrays);\n        for (int i : result)\n        {\n            System.out.println(i);\n        }\n    }\n\n    static ArrayList&lt;Integer&gt; combination(ArrayList&lt;int[]&gt; arrays)\n    {\n        if (arrays.size() == 0)\n            return null;\n\n        ArrayList&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\n        combination_sub(arrays, 0, result);\n        return result;\n    }\n    static void combination_sub(ArrayList&lt;int[]&gt; arrays, int idx, ArrayList&lt;Integer&gt; result)\n    {\n        if (arrays.size() == idx)\n        {\n            result.add(1);\n            return;\n        }\n\n        int[] ar = arrays.get(idx);\n\n        ArrayList&lt;Integer&gt; sub_result = new ArrayList&lt;Integer&gt;();\n        combination_sub(arrays, idx + 1, sub_result);\n\n        for (int i : ar)\n        {\n            for (int sub_i : sub_result)\n            {\n                result.add(i * sub_i);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1838196,"reputation":3197,"user_id":1668144,"accept_rate":75,"display_name":"Guillermo Merino"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1395747176,"creation_date":1395747176,"answer_id":22633311,"question_id":22632826,"body_markdown":"What about having the arrays in an array:\r\n\r\n  \r\n\r\n        String[] arr1 = { &quot;a&quot;, &quot;b&quot;, &quot;c&quot; };\r\n    \r\n        String[] arr2 = { &quot;d&quot;, &quot;e&quot; };\r\n    \r\n        String[] arr3 = { &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot; };\r\n    \r\n        String[][] arrays = new String[][] { arr1, arr2, arr3 };\r\n    \r\n        public void mix(String[][] arrays) {\r\n\r\n            if (arrays.length &gt; 0) {\r\n        \t    List&lt;String&gt; result = Arrays.asList(arrays[0]);\r\n        \r\n        \t    for (int i = 1; i &lt; arrays.length - 1; i++) {\r\n        \t\tString[] aux = arrays[i];\r\n        \t\tfor (int j = 0; j &lt; aux.length; j++) {\r\n        \t\t    result.add(j, result.get(j) + aux[j]);\r\n        \t\t}\r\n        \t    }\r\n        \t}\r\n        }","title":"Combination of elements of multiple arrays","body":"<p>What about having the arrays in an array:</p>\n\n<pre><code>    String[] arr1 = { \"a\", \"b\", \"c\" };\n\n    String[] arr2 = { \"d\", \"e\" };\n\n    String[] arr3 = { \"f\", \"g\", \"h\", \"i\" };\n\n    String[][] arrays = new String[][] { arr1, arr2, arr3 };\n\n    public void mix(String[][] arrays) {\n\n        if (arrays.length &gt; 0) {\n            List&lt;String&gt; result = Arrays.asList(arrays[0]);\n\n            for (int i = 1; i &lt; arrays.length - 1; i++) {\n            String[] aux = arrays[i];\n            for (int j = 0; j &lt; aux.length; j++) {\n                result.add(j, result.get(j) + aux[j]);\n            }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4208964,"reputation":2051,"user_id":3447216,"display_name":"Priyesh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1395757321,"creation_date":1395749214,"answer_id":22634116,"question_id":22632826,"body_markdown":"This is my attempt at getting combinations from multiple arrays(containers).\r\n    \r\n     private List&lt;List&lt;T&gt;&gt; getCombination(int currentIndex, List&lt;TempContainer&lt;T&gt;&gt; containers) {\r\n\t\tif (currentIndex == containers.size()) {\r\n\t\t\t// Skip the items for the last container\r\n\t\t\tList&lt;List&lt;T&gt;&gt; combinations = new ArrayList&lt;List&lt;T&gt;&gt;();\r\n\t\t\tcombinations.add(new ArrayList&lt;T&gt;());\r\n\t\t\treturn combinations;\r\n\t\t}\r\n\t\tList&lt;List&lt;T&gt;&gt; combinations = new ArrayList&lt;List&lt;T&gt;&gt;();\r\n\t\tTempContainer&lt;T&gt; container = containers.get(currentIndex);\r\n\t\tList&lt;T&gt; containerItemList = container.getItems();\r\n\t\t// Get combination from next index\r\n\t\tList&lt;List&lt;T&gt;&gt; suffixList = getCombination(currentIndex + 1, containers);\r\n\t\tint size = containerItemList.size();\r\n\t\tfor (int ii = 0; ii &lt; size; ii++) {\r\n\t\t\tT containerItem = containerItemList.get(ii);\r\n\t\t\tif (suffixList != null) {\r\n\t\t\t\tfor (List&lt;T&gt; suffix : suffixList) {\r\n\t\t\t\t\tList&lt;T&gt; nextCombination = new ArrayList&lt;T&gt;();\r\n\t\t\t\t\tnextCombination.add(containerItem);\r\n\t\t\t\t\tnextCombination.addAll(suffix);\r\n\t\t\t\t\tcombinations.add(nextCombination);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn combinations;\r\n\t}\r\n\r\nThe method takes a list of containers with items. e.g. Container 1 will have [a,b] and Container 2 will have [c,d,e]. The method can take any number of containers.\r\n    // The container class is declared as follows:\r\n\r\n    public class TempContainer&lt;T&gt; {\r\n        private List&lt;T&gt; items; \r\n        public void setItems(List&lt;T&gt; items) {\r\n           this.items = items;\r\n        }\r\n \r\n        public List&lt;T&gt; getItems() {\r\n             return items;\r\n        }\r\n    }\r\n\r\nCall this method as follows:\r\n\r\n    List&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\r\n    list1.add(&quot;1&quot;);\r\n    list1.add(&quot;2&quot;);\r\n    List&lt;String&gt; list2 = new ArrayList&lt;String&gt;();\r\n    list2.add(&quot;3&quot;);\r\n    list2.add(&quot;4&quot;);\r\n    list2.add(&quot;5&quot;);\r\n    TempContainer container1 = new TempContainer();\r\n    container1.setItems(list1);\r\n    TempContainer container2 = new TempContainer();\r\n    container2.setItems(list2);\r\n    List&lt;TempContainer&gt; containers = new ArrayList&lt;TempContainer&gt;(2);\r\n    containers.add(container1);\r\n    containers.add(container2);\r\n    // Get combinations \r\n    List&lt;List&lt;T&gt;&gt; combinations = getCombination(0, containers);\r\n    ","title":"Combination of elements of multiple arrays","body":"<p>This is my attempt at getting combinations from multiple arrays(containers).</p>\n\n<pre><code> private List&lt;List&lt;T&gt;&gt; getCombination(int currentIndex, List&lt;TempContainer&lt;T&gt;&gt; containers) {\n    if (currentIndex == containers.size()) {\n        // Skip the items for the last container\n        List&lt;List&lt;T&gt;&gt; combinations = new ArrayList&lt;List&lt;T&gt;&gt;();\n        combinations.add(new ArrayList&lt;T&gt;());\n        return combinations;\n    }\n    List&lt;List&lt;T&gt;&gt; combinations = new ArrayList&lt;List&lt;T&gt;&gt;();\n    TempContainer&lt;T&gt; container = containers.get(currentIndex);\n    List&lt;T&gt; containerItemList = container.getItems();\n    // Get combination from next index\n    List&lt;List&lt;T&gt;&gt; suffixList = getCombination(currentIndex + 1, containers);\n    int size = containerItemList.size();\n    for (int ii = 0; ii &lt; size; ii++) {\n        T containerItem = containerItemList.get(ii);\n        if (suffixList != null) {\n            for (List&lt;T&gt; suffix : suffixList) {\n                List&lt;T&gt; nextCombination = new ArrayList&lt;T&gt;();\n                nextCombination.add(containerItem);\n                nextCombination.addAll(suffix);\n                combinations.add(nextCombination);\n            }\n        }\n    }\n    return combinations;\n}\n</code></pre>\n\n<p>The method takes a list of containers with items. e.g. Container 1 will have [a,b] and Container 2 will have [c,d,e]. The method can take any number of containers.\n    // The container class is declared as follows:</p>\n\n<pre><code>public class TempContainer&lt;T&gt; {\n    private List&lt;T&gt; items; \n    public void setItems(List&lt;T&gt; items) {\n       this.items = items;\n    }\n\n    public List&lt;T&gt; getItems() {\n         return items;\n    }\n}\n</code></pre>\n\n<p>Call this method as follows:</p>\n\n<pre><code>List&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\nlist1.add(\"1\");\nlist1.add(\"2\");\nList&lt;String&gt; list2 = new ArrayList&lt;String&gt;();\nlist2.add(\"3\");\nlist2.add(\"4\");\nlist2.add(\"5\");\nTempContainer container1 = new TempContainer();\ncontainer1.setItems(list1);\nTempContainer container2 = new TempContainer();\ncontainer2.setItems(list2);\nList&lt;TempContainer&gt; containers = new ArrayList&lt;TempContainer&gt;(2);\ncontainers.add(container1);\ncontainers.add(container2);\n// Get combinations \nList&lt;List&lt;T&gt;&gt; combinations = getCombination(0, containers);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4742105,"reputation":3877,"user_id":3834496,"accept_rate":29,"display_name":"Pritesh Mhatre"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418193669,"creation_date":1418193669,"answer_id":27394738,"question_id":22632826,"body_markdown":"I had similar requirement, but for collections of different types. Here&#39;s a modified version of Priyesh&#39;s solution.\r\n\r\n&lt;b&gt;Note: &lt;/b&gt;I removed the dependency on `TempContainer&lt;T&gt;` class.\r\n\r\n\r\n    public class TestCombinations {\r\n\r\n\t@Test\r\n\tpublic void test() {\r\n\r\n\t\tfinal List&lt;Object&gt; l1 = new ArrayList&lt;Object&gt;();\r\n\t\tl1.add(1);\r\n\t\tl1.add(2);\r\n\t\tfinal List&lt;Object&gt; l2 = new ArrayList&lt;Object&gt;();\r\n\t\tl2.add(&quot;3&quot;);\r\n\t\tl2.add(&quot;4&quot;);\r\n\t\tl2.add(&quot;5&quot;);\r\n\t\tfinal List&lt;Object&gt; l3 = new ArrayList&lt;Object&gt;();\r\n\t\tl3.add(true);\r\n\t\tl3.add(false);\r\n\r\n\t\tfinal List&lt;List&lt;Object&gt;&gt; c = new ArrayList&lt;&gt;(3);\r\n\t\tc.add(l1);\r\n\t\tc.add(l2);\r\n\t\tc.add(l3);\r\n\r\n\t\t// Get combinations\r\n\t\tfinal List&lt;List&lt;Object&gt;&gt; m = this.combine(c);\r\n\t\tSystem.out.println(m);\r\n\r\n\t}\r\n\r\n\tpublic List&lt;List&lt;Object&gt;&gt; combine(final List&lt;List&lt;Object&gt;&gt; containers) {\r\n\t\treturn this.combineInternal(0, containers);\r\n\t}\r\n\r\n\tprivate List&lt;List&lt;Object&gt;&gt; combineInternal(final int currentIndex,\r\n\t\t\tfinal List&lt;List&lt;Object&gt;&gt; containers) {\r\n\t\tif (currentIndex == containers.size()) {\r\n\t\t\t// Skip the items for the last container\r\n\t\t\tfinal List&lt;List&lt;Object&gt;&gt; combinations = new ArrayList&lt;&gt;();\r\n\t\t\tcombinations.add(Collections.emptyList());\r\n\t\t\treturn combinations;\r\n\t\t}\r\n\r\n\t\tfinal List&lt;List&lt;Object&gt;&gt; combinations = new ArrayList&lt;&gt;();\r\n\t\tfinal List&lt;Object&gt; containerItemList = containers.get(currentIndex);\r\n\t\t// Get combination from next index\r\n\t\tfinal List&lt;List&lt;Object&gt;&gt; suffixList = this.combineInternal(\r\n\t\t\t\tcurrentIndex + 1, containers);\r\n\r\n\t\tfinal int size = containerItemList.size();\r\n\t\tfor (int i = 0; i &lt; size; i++) {\r\n\t\t\tfinal Object containerItem = containerItemList.get(i);\r\n\t\t\tif (suffixList != null) {\r\n\t\t\t\tfor (final List&lt;Object&gt; suffix : suffixList) {\r\n\t\t\t\t\tfinal List&lt;Object&gt; nextCombination = new ArrayList&lt;&gt;();\r\n\t\t\t\t\tnextCombination.add(containerItem);\r\n\t\t\t\t\tnextCombination.addAll(suffix);\r\n\t\t\t\t\tcombinations.add(nextCombination);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn combinations;\r\n\t}\r\n\r\n    }\r\n","title":"Combination of elements of multiple arrays","body":"<p>I had similar requirement, but for collections of different types. Here's a modified version of Priyesh's solution.</p>\n\n<p><b>Note: </b>I removed the dependency on <code>TempContainer&lt;T&gt;</code> class.</p>\n\n<pre><code>public class TestCombinations {\n\n@Test\npublic void test() {\n\n    final List&lt;Object&gt; l1 = new ArrayList&lt;Object&gt;();\n    l1.add(1);\n    l1.add(2);\n    final List&lt;Object&gt; l2 = new ArrayList&lt;Object&gt;();\n    l2.add(\"3\");\n    l2.add(\"4\");\n    l2.add(\"5\");\n    final List&lt;Object&gt; l3 = new ArrayList&lt;Object&gt;();\n    l3.add(true);\n    l3.add(false);\n\n    final List&lt;List&lt;Object&gt;&gt; c = new ArrayList&lt;&gt;(3);\n    c.add(l1);\n    c.add(l2);\n    c.add(l3);\n\n    // Get combinations\n    final List&lt;List&lt;Object&gt;&gt; m = this.combine(c);\n    System.out.println(m);\n\n}\n\npublic List&lt;List&lt;Object&gt;&gt; combine(final List&lt;List&lt;Object&gt;&gt; containers) {\n    return this.combineInternal(0, containers);\n}\n\nprivate List&lt;List&lt;Object&gt;&gt; combineInternal(final int currentIndex,\n        final List&lt;List&lt;Object&gt;&gt; containers) {\n    if (currentIndex == containers.size()) {\n        // Skip the items for the last container\n        final List&lt;List&lt;Object&gt;&gt; combinations = new ArrayList&lt;&gt;();\n        combinations.add(Collections.emptyList());\n        return combinations;\n    }\n\n    final List&lt;List&lt;Object&gt;&gt; combinations = new ArrayList&lt;&gt;();\n    final List&lt;Object&gt; containerItemList = containers.get(currentIndex);\n    // Get combination from next index\n    final List&lt;List&lt;Object&gt;&gt; suffixList = this.combineInternal(\n            currentIndex + 1, containers);\n\n    final int size = containerItemList.size();\n    for (int i = 0; i &lt; size; i++) {\n        final Object containerItem = containerItemList.get(i);\n        if (suffixList != null) {\n            for (final List&lt;Object&gt; suffix : suffixList) {\n                final List&lt;Object&gt; nextCombination = new ArrayList&lt;&gt;();\n                nextCombination.add(containerItem);\n                nextCombination.addAll(suffix);\n                combinations.add(nextCombination);\n            }\n        }\n    }\n\n    return combinations;\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5282912,"reputation":552,"user_id":4663544,"display_name":"Jeba Ranganathan"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1526623647,"creation_date":1526563208,"answer_id":50392518,"question_id":22632826,"body_markdown":"You can achieve this easily in java 8 Stream Api:\r\n\r\n    String arr1[] = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n    String arr2[] = {&quot;d&quot;, &quot;e&quot;};\r\n    String arr3[] = {&quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;};\r\n    \r\n    List&lt;String&gt; result = Arrays.stream(arr1)\r\n    \t\t.flatMap(s1 -&gt; Arrays.stream(arr2)\r\n    \t\t\t\t.flatMap(s2 -&gt; Arrays.stream(arr3)\r\n    \t\t\t\t\t\t.map(s3 -&gt; s1 + s2 + s3)))\r\n    \t\t.collect(Collectors.toList());\r\n\r\n","title":"Combination of elements of multiple arrays","body":"<p>You can achieve this easily in java 8 Stream Api:</p>\n\n<pre><code>String arr1[] = {\"a\", \"b\", \"c\"};\nString arr2[] = {\"d\", \"e\"};\nString arr3[] = {\"f\", \"g\", \"h\", \"i\"};\n\nList&lt;String&gt; result = Arrays.stream(arr1)\n        .flatMap(s1 -&gt; Arrays.stream(arr2)\n                .flatMap(s2 -&gt; Arrays.stream(arr3)\n                        .map(s3 -&gt; s1 + s2 + s3)))\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14875846,"reputation":1,"user_id":10741933,"display_name":"prism"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543894807,"creation_date":1543894807,"answer_id":53605359,"question_id":22632826,"body_markdown":"in case of 3 arrays. if want other than 3 arrays, can insert additional code. recursive solution\r\n\r\n    /* This code is contributed by Devesh Agrawal and modified for personal solution by prism */\r\n    /* contributed by Devesh Agrawal at https://www.geeksforgeeks.org/print-all-possible-combinations-of-r-elements-in-a-given-array-of-size-n/ */\r\n    \r\n    package com.practice.probabilty;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class CombinationNumber {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tint[] arr1 = new int[] {1, 2, 3, 4, 5, 6, 7, 8, 9 };\r\n    \t\tint[] arr2 = new int[] {0, 1, 2, 3, 4, 5, 6, 7, 8, 9 };\r\n    \t\tint[] arr3 = new int[] {0, 2, 4, 6, 8};\r\n    \r\n    \t\tint[] arr = arr1.clone();\r\n    \r\n    \t\tint r = 3; //amount of digits as need\r\n    \t\t\r\n    \t\tint n1 = arr1.length; //amount of all digits provided for composing the number\r\n    \t\tint n2 = arr2.length;\r\n    \t\tint n3 = arr3.length;\r\n    \r\n    \t\t\r\n    \t\tint[] count = new int[]{0}; //for counting total amount of all combination numbers\r\n    \t\t\r\n    \t\tprintCombination(arr1, arr2, arr3, arr, n1, n2, n3, r, count);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Total amount of number = &quot; + count[0]);\r\n    \r\n    \t}\r\n    \r\n    \t/*\r\n    \t * arr[] ---&gt; Input Array data[] ---&gt; Temporary array to store current\r\n    \t * combination start &amp; end ---&gt; Staring and Ending indexes in arr[] index ---&gt;\r\n    \t * Current index in data[] r ---&gt; Size of a combination to be printed\r\n    \t */\r\n    \tstatic void combinationUtil_1(int arr1[], int arr2[], int arr3[], int arr[],\r\n    \t\t\tint n1, int n2, int n3, int r, int index,\r\n    \t\t\tint data[], int i1, int i2, int i3, int[] count) {\r\n    \t\t// Print index and i\r\n    \t\t// System.out.print(&quot;data index = &quot; + index + &quot;, arr i = &quot; + i + &quot;, order  = &quot; + order);\r\n    \t\t// Current combination is ready to be printed, print it \r\n    \t\t\r\n    \t\tif (index == r) {\r\n    \t\t\tfor (int j = 0; j &lt; r; j++) {\r\n    \t\t\t\tSystem.out.print(&quot; &quot; + data[j] + &quot; &quot;);\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\tSystem.out.println();\r\n    \t\t\tcount[0]++;\r\n    \r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\t// When no more elements are there to put in data[] \r\n    \t\tif (i1 &gt;= n1 || i2 &gt;= n2 || i3 &gt;= n3)\r\n    \t\t\treturn;\r\n    \r\n    \t\t// current is included, put next at next location \r\n    \t\t\r\n    \t\tif(index == 0)\r\n    \t\t{\r\n    \r\n    \t\t\tdata[index] = arr1[i1];\r\n    \r\n    \t\t\tcombinationUtil_1(arr1, arr2, arr3, arr2, n1, n2, n3, r, index + 1, data, i1++, i2, i3, count);\r\n    \r\n    \t\t\tcombinationUtil_1(arr1, arr2, arr3, arr2, n1, n2, n3, r, index, data, i1++, i2, i3, count);\r\n    \r\n    \r\n    \t\t\t\r\n    \t\t}else if(index == 1)\r\n    \t\t{\r\n    \r\n    \t\t\tdata[index] = arr2[i2];\r\n    \r\n    \t\t\tcombinationUtil_1(arr1, arr2, arr3, arr3, n1, n2, n3, r, index + 1, data, i1, i2++, i3, count);\r\n    \r\n    \t\t\tcombinationUtil_1(arr1, arr2, arr3, arr3, n1, n2, n3, r, index, data, i1, i2++, i3, count);\r\n    \r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \r\n    \t\t\tdata[index] = arr3[i3];\r\n    \r\n    \t\t\tcombinationUtil_1(arr1, arr2, arr3, arr1, n1, n2, n3, r, index + 1, data, i1, i2, i3++, count);\r\n    \t\t\t\r\n    \t\t\tcombinationUtil_1(arr1, arr2, arr3, arr1, n1, n2, n3, r, index, data, i1, i2, i3++, count);\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    \t// The main function that prints all combinations of size r\r\n    \t// This function mainly uses combinationUtil()\r\n    \tstatic void printCombination(int arr1[], int arr2[], int arr3[], int arr[], \r\n    \t\t\tint n1, int n2, int n3, int r, int[] count) {\r\n    \t\t// A temporary array to store all combination one by one\r\n    \t\tint data[] = new int[r];\r\n    \r\n    \t\t// Print all combination using temporary array &#39;data[]&#39;\r\n    \t\tcombinationUtil_1(arr1, arr2, arr3, arr, n1, n2, n3, r, 0, data, 0, 0, 0, count);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"Combination of elements of multiple arrays","body":"<p>in case of 3 arrays. if want other than 3 arrays, can insert additional code. recursive solution</p>\n\n<pre><code>/* This code is contributed by Devesh Agrawal and modified for personal solution by prism */\n/* contributed by Devesh Agrawal at https://www.geeksforgeeks.org/print-all-possible-combinations-of-r-elements-in-a-given-array-of-size-n/ */\n\npackage com.practice.probabilty;\n\nimport java.util.ArrayList;\n\npublic class CombinationNumber {\n\n    public static void main(String[] args) {\n\n        int[] arr1 = new int[] {1, 2, 3, 4, 5, 6, 7, 8, 9 };\n        int[] arr2 = new int[] {0, 1, 2, 3, 4, 5, 6, 7, 8, 9 };\n        int[] arr3 = new int[] {0, 2, 4, 6, 8};\n\n        int[] arr = arr1.clone();\n\n        int r = 3; //amount of digits as need\n\n        int n1 = arr1.length; //amount of all digits provided for composing the number\n        int n2 = arr2.length;\n        int n3 = arr3.length;\n\n\n        int[] count = new int[]{0}; //for counting total amount of all combination numbers\n\n        printCombination(arr1, arr2, arr3, arr, n1, n2, n3, r, count);\n\n        System.out.println(\"Total amount of number = \" + count[0]);\n\n    }\n\n    /*\n     * arr[] ---&gt; Input Array data[] ---&gt; Temporary array to store current\n     * combination start &amp; end ---&gt; Staring and Ending indexes in arr[] index ---&gt;\n     * Current index in data[] r ---&gt; Size of a combination to be printed\n     */\n    static void combinationUtil_1(int arr1[], int arr2[], int arr3[], int arr[],\n            int n1, int n2, int n3, int r, int index,\n            int data[], int i1, int i2, int i3, int[] count) {\n        // Print index and i\n        // System.out.print(\"data index = \" + index + \", arr i = \" + i + \", order  = \" + order);\n        // Current combination is ready to be printed, print it \n\n        if (index == r) {\n            for (int j = 0; j &lt; r; j++) {\n                System.out.print(\" \" + data[j] + \" \");\n\n            }\n\n            System.out.println();\n            count[0]++;\n\n            return;\n        }\n\n        // When no more elements are there to put in data[] \n        if (i1 &gt;= n1 || i2 &gt;= n2 || i3 &gt;= n3)\n            return;\n\n        // current is included, put next at next location \n\n        if(index == 0)\n        {\n\n            data[index] = arr1[i1];\n\n            combinationUtil_1(arr1, arr2, arr3, arr2, n1, n2, n3, r, index + 1, data, i1++, i2, i3, count);\n\n            combinationUtil_1(arr1, arr2, arr3, arr2, n1, n2, n3, r, index, data, i1++, i2, i3, count);\n\n\n\n        }else if(index == 1)\n        {\n\n            data[index] = arr2[i2];\n\n            combinationUtil_1(arr1, arr2, arr3, arr3, n1, n2, n3, r, index + 1, data, i1, i2++, i3, count);\n\n            combinationUtil_1(arr1, arr2, arr3, arr3, n1, n2, n3, r, index, data, i1, i2++, i3, count);\n\n        }\n        else\n        {\n\n            data[index] = arr3[i3];\n\n            combinationUtil_1(arr1, arr2, arr3, arr1, n1, n2, n3, r, index + 1, data, i1, i2, i3++, count);\n\n            combinationUtil_1(arr1, arr2, arr3, arr1, n1, n2, n3, r, index, data, i1, i2, i3++, count);\n\n        }\n    }\n\n    // The main function that prints all combinations of size r\n    // This function mainly uses combinationUtil()\n    static void printCombination(int arr1[], int arr2[], int arr3[], int arr[], \n            int n1, int n2, int n3, int r, int[] count) {\n        // A temporary array to store all combination one by one\n        int data[] = new int[r];\n\n        // Print all combination using temporary array 'data[]'\n        combinationUtil_1(arr1, arr2, arr3, arr, n1, n2, n3, r, 0, data, 0, 0, 0, count);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14875846,"reputation":1,"user_id":10741933,"display_name":"prism"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544107238,"creation_date":1544107238,"answer_id":53653810,"question_id":22632826,"body_markdown":"for several array, in this code 4 arrays, recursive\r\n\r\n    package com.practice.probabilty;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    \r\n    public class Example {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tint[] arr1 = new int[] {1, 2, 3, 4};\r\n    \t\tint[] arr2 = new int[] {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};\r\n    \t\tint[] arr3 = new int[] {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};\r\n    \t\tint[] arr4 = new int[] {1, 3, 5, 7, 9};\r\n    \r\n    \t\tArrayList&lt;int[]&gt; listOfArray = new ArrayList&lt;int[]&gt;();\r\n    \t\tlistOfArray.add(arr1);\r\n    \t\tlistOfArray.add(arr2);\r\n    \t\tlistOfArray.add(arr3);\r\n    \t\tlistOfArray.add(arr4);\r\n    \t\t\r\n    \t\t\r\n    \t\tint sizeOfList = listOfArray.size();\r\n    \t\tint r = sizeOfList;\r\n    \t\t\r\n    \t\tHashMap&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\r\n    \t\tfor(int i = 0; i &lt; sizeOfList; i++)\r\n    \t\t{\r\n    \t\t\tmap.put(i, 0);\r\n    \t\t}\r\n    \r\n    \t\tint[] count = new int[]{0}; //for counting total amount of all combination numbers\r\n    \t\t\r\n    \t\tprintCombination(listOfArray, sizeOfList, r, map, count);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Total amount of number = &quot; + count[0]);\r\n    \r\n    \t}\r\n    \r\n    \t/*\r\n    \t * arr[] ---&gt; Input Array data[] ---&gt; Temporary array to store current\r\n    \t * combination start &amp; end ---&gt; Staring and Ending indexes in arr[] index ---&gt;\r\n    \t * Current index in data[] r ---&gt; Size of a combination to be printed\r\n    \t */\r\n    \t\r\n    \tstatic void combinationUtil_1(ArrayList&lt;int[]&gt; listOfArray,\r\n    \t\t\tint sizeOfList, int r, int index,\r\n    \t\t\tint data[], HashMap&lt;Integer, Integer&gt; map, int[] count) {\r\n    \t\t\r\n    \t\tif (index == r) {\r\n    //System.out.print(&quot;--&gt; &quot;);\r\n    \t\t\tfor (int j = 0; j &lt; r; j++) {\r\n    \t\t\t\tSystem.out.print(&quot; &quot; + data[j] + &quot; &quot;);\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\tSystem.out.println();\r\n    \t\t\tcount[0]++;\r\n    \r\n    \t\t\treturn;\r\n    \t\t}\r\n     \r\n    \t\tfor(int i = 0; i &lt; sizeOfList; i++)\r\n    \t\t{\r\n    \t\t\tif(map.get(i) &gt;= listOfArray.get(i).length)\r\n    \t\t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\t\tdata[index] = listOfArray.get(index)[map.get(index)];\r\n    \r\n    \t\t\tcombinationUtil_1(listOfArray, sizeOfList, r, index + 1, data, map, count);\r\n    \t\t\tHashMap&lt;Integer, Integer&gt; map1 = new HashMap&lt;Integer, Integer&gt;();\r\n    \t\t\tfor(int i = 0; i &lt; sizeOfList; i++)\r\n    \t\t\t{\r\n    \t\t\t\tif(i == index)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tmap1.put(i, map.get(i) + 1);\r\n    \t\t\t\t}\r\n    \t\t\t\telse\r\n    \t\t\t\t{\r\n    \t\t\t\t\tmap1.put(i, map.get(i));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \r\n    \t\t\tcombinationUtil_1(listOfArray, sizeOfList, r, index, data, map1, count);\r\n    \t\t\tHashMap&lt;Integer, Integer&gt; map2 = new HashMap&lt;Integer, Integer&gt;();\r\n    \t\t\tfor(int i = 0; i &lt; sizeOfList; i++)\r\n    \t\t\t{\r\n    \t\t\t\tif(i == index)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tmap2.put(i, map.get(i) + 1);\r\n    \t\t\t\t}\r\n    \t\t\t\telse\r\n    \t\t\t\t{\r\n    \t\t\t\t\tmap2.put(i, map.get(i));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t}\r\n    \r\n    \tstatic void printCombination(ArrayList&lt;int[]&gt; listOfArray, \r\n    \t\t\tint sizeOfList, int r, HashMap&lt;Integer, Integer&gt; map, int[] count) {\r\n    \t\t// A temporary array to store all combination one by one\r\n    \t\tint data[] = new int[r];\r\n    \r\n    \t\t// Print all combination using temporary array &#39;data[]&#39;\r\n    \t\t\r\n    \t\tcombinationUtil_1(listOfArray, sizeOfList, r, 0, data, map, count);\r\n    \t\t//combinationUtil_1(arr1, arr2, arr3, arr, n1, n2, n3, r, 0, data, 0, 0, 0, count);\r\n    \t}\r\n    \r\n    \t/* Driver function to check for above function */\r\n    \r\n    }\r\n    /* This code is modified from Devesh Agrawal&#39;s */\r\n\r\n","title":"Combination of elements of multiple arrays","body":"<p>for several array, in this code 4 arrays, recursive</p>\n\n<pre><code>package com.practice.probabilty;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\npublic class Example {\n\n    public static void main(String[] args) {\n\n        int[] arr1 = new int[] {1, 2, 3, 4};\n        int[] arr2 = new int[] {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};\n        int[] arr3 = new int[] {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};\n        int[] arr4 = new int[] {1, 3, 5, 7, 9};\n\n        ArrayList&lt;int[]&gt; listOfArray = new ArrayList&lt;int[]&gt;();\n        listOfArray.add(arr1);\n        listOfArray.add(arr2);\n        listOfArray.add(arr3);\n        listOfArray.add(arr4);\n\n\n        int sizeOfList = listOfArray.size();\n        int r = sizeOfList;\n\n        HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\n        for(int i = 0; i &lt; sizeOfList; i++)\n        {\n            map.put(i, 0);\n        }\n\n        int[] count = new int[]{0}; //for counting total amount of all combination numbers\n\n        printCombination(listOfArray, sizeOfList, r, map, count);\n\n        System.out.println(\"Total amount of number = \" + count[0]);\n\n    }\n\n    /*\n     * arr[] ---&gt; Input Array data[] ---&gt; Temporary array to store current\n     * combination start &amp; end ---&gt; Staring and Ending indexes in arr[] index ---&gt;\n     * Current index in data[] r ---&gt; Size of a combination to be printed\n     */\n\n    static void combinationUtil_1(ArrayList&lt;int[]&gt; listOfArray,\n            int sizeOfList, int r, int index,\n            int data[], HashMap&lt;Integer, Integer&gt; map, int[] count) {\n\n        if (index == r) {\n//System.out.print(\"--&gt; \");\n            for (int j = 0; j &lt; r; j++) {\n                System.out.print(\" \" + data[j] + \" \");\n\n            }\n\n            System.out.println();\n            count[0]++;\n\n            return;\n        }\n\n        for(int i = 0; i &lt; sizeOfList; i++)\n        {\n            if(map.get(i) &gt;= listOfArray.get(i).length)\n                return;\n        }\n\n            data[index] = listOfArray.get(index)[map.get(index)];\n\n            combinationUtil_1(listOfArray, sizeOfList, r, index + 1, data, map, count);\n            HashMap&lt;Integer, Integer&gt; map1 = new HashMap&lt;Integer, Integer&gt;();\n            for(int i = 0; i &lt; sizeOfList; i++)\n            {\n                if(i == index)\n                {\n                    map1.put(i, map.get(i) + 1);\n                }\n                else\n                {\n                    map1.put(i, map.get(i));\n                }\n            }\n\n\n            combinationUtil_1(listOfArray, sizeOfList, r, index, data, map1, count);\n            HashMap&lt;Integer, Integer&gt; map2 = new HashMap&lt;Integer, Integer&gt;();\n            for(int i = 0; i &lt; sizeOfList; i++)\n            {\n                if(i == index)\n                {\n                    map2.put(i, map.get(i) + 1);\n                }\n                else\n                {\n                    map2.put(i, map.get(i));\n                }\n            }\n\n    }\n\n    static void printCombination(ArrayList&lt;int[]&gt; listOfArray, \n            int sizeOfList, int r, HashMap&lt;Integer, Integer&gt; map, int[] count) {\n        // A temporary array to store all combination one by one\n        int data[] = new int[r];\n\n        // Print all combination using temporary array 'data[]'\n\n        combinationUtil_1(listOfArray, sizeOfList, r, 0, data, map, count);\n        //combinationUtil_1(arr1, arr2, arr3, arr, n1, n2, n3, r, 0, data, 0, 0, 0, count);\n    }\n\n    /* Driver function to check for above function */\n\n}\n/* This code is modified from Devesh Agrawal's */\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28048839,"reputation":1,"user_id":21425088,"display_name":"Stefan Ebeling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679133829,"creation_date":1679128414,"answer_id":75774686,"question_id":22632826,"body_markdown":"What about this one? \r\n\r\n    package permutor;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Permutor&lt;T&gt; {\r\n        private Stream&lt;List&lt;T&gt;&gt; result;\r\n\r\n        public Permutor(final Collection&lt;T&gt; first) {\r\n            result = first.stream().map(Collections::singletonList);\r\n        }\r\n\r\n        public Permutor&lt;T&gt; with(final Collection&lt;T&gt; next) {\r\n            result = result.flatMap(list -&gt; next.stream().map(e -&gt; add(list, e)));\r\n            return this;\r\n        }\r\n\r\n        private static &lt;T&gt; List&lt;T&gt; add(final List&lt;T&gt; list, final T e) {\r\n            final List&lt;T&gt; result = new ArrayList&lt;&gt;(list);\r\n            result.add(e);\r\n            return result;\r\n        }\r\n\r\n        public List&lt;List&lt;T&gt;&gt; getResult() {\r\n            return result.toList();\r\n        }\r\n    }\r\n\r\nTest:\r\n\r\n    package permutor;\r\n\r\n    import static java.util.Arrays.asList;\r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    class PermutorTest {\r\n\t    @Test\r\n\t    void test() {\r\n            final var result = new Permutor&lt;&gt;(asList(&quot;a&quot;, &quot;b&quot;)).with(asList(&quot;c&quot;)).with(asList(&quot;d&quot;)).getResult();\r\n\r\n            assertThat(result).containsExactly(asList(&quot;a&quot;, &quot;c&quot;, &quot;d&quot;), asList(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;));\r\n\t    }\r\n    }\r\n","title":"Combination of elements of multiple arrays","body":"<p>What about this one?</p>\n<pre><code>package permutor;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.stream.Stream;\n\npublic class Permutor&lt;T&gt; {\n    private Stream&lt;List&lt;T&gt;&gt; result;\n\n    public Permutor(final Collection&lt;T&gt; first) {\n        result = first.stream().map(Collections::singletonList);\n    }\n\n    public Permutor&lt;T&gt; with(final Collection&lt;T&gt; next) {\n        result = result.flatMap(list -&gt; next.stream().map(e -&gt; add(list, e)));\n        return this;\n    }\n\n    private static &lt;T&gt; List&lt;T&gt; add(final List&lt;T&gt; list, final T e) {\n        final List&lt;T&gt; result = new ArrayList&lt;&gt;(list);\n        result.add(e);\n        return result;\n    }\n\n    public List&lt;List&lt;T&gt;&gt; getResult() {\n        return result.toList();\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>package permutor;\n\nimport static java.util.Arrays.asList;\nimport static org.assertj.core.api.Assertions.assertThat;\n\nimport org.junit.jupiter.api.Test;\n\nclass PermutorTest {\n    @Test\n    void test() {\n        final var result = new Permutor&lt;&gt;(asList(&quot;a&quot;, &quot;b&quot;)).with(asList(&quot;c&quot;)).with(asList(&quot;d&quot;)).getResult();\n\n        assertThat(result).containsExactly(asList(&quot;a&quot;, &quot;c&quot;, &quot;d&quot;), asList(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3310364,"reputation":724,"user_id":2784032,"accept_rate":50,"display_name":"Maxx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11222,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":22634116,"answer_count":8,"score":4,"last_activity_date":1679133829,"creation_date":1395745935,"question_id":22632826,"body_markdown":"Recently i implemented code for below\r\nSuppose I have 2 arrays as -\r\n\r\n    arr1 = [a,b,c]\r\n\r\n    arr2 = [d,e]\r\n\r\nand should be as  \r\n\r\n    output = [ad,ae,bd,be,cd,ce]\r\n\r\nNow suppose I have multiple arrays.\r\n\r\nfor eg :\r\n\r\n    arr1=[a,b,c]\r\n\r\n    arr2=[d,e]\r\n\r\n    arr3=[f,g,h,i]\r\n\r\n    arrN=[x,y,z,h,o]\r\n\r\n    output = [adf..x,adf..y and so on]\r\n\r\nHow to implement this in JAVA? kindly help\r\n\r\n\r\n\r\nMy attempt :\r\n\r\n    for(int i=0;i&lt;arr1.length();i++)\r\n    {\r\n    for(int j=0;i&lt;arr2.length();j++)\r\n    {\r\n    System.out.print(arr1[i] + arr2[j] );\r\n    }\r\n    }","title":"Combination of elements of multiple arrays","body":"<p>Recently i implemented code for below\nSuppose I have 2 arrays as -</p>\n\n<pre><code>arr1 = [a,b,c]\n\narr2 = [d,e]\n</code></pre>\n\n<p>and should be as  </p>\n\n<pre><code>output = [ad,ae,bd,be,cd,ce]\n</code></pre>\n\n<p>Now suppose I have multiple arrays.</p>\n\n<p>for eg :</p>\n\n<pre><code>arr1=[a,b,c]\n\narr2=[d,e]\n\narr3=[f,g,h,i]\n\narrN=[x,y,z,h,o]\n\noutput = [adf..x,adf..y and so on]\n</code></pre>\n\n<p>How to implement this in JAVA? kindly help</p>\n\n<p>My attempt :</p>\n\n<pre><code>for(int i=0;i&lt;arr1.length();i++)\n{\nfor(int j=0;i&lt;arr2.length();j++)\n{\nSystem.out.print(arr1[i] + arr2[j] );\n}\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","docker","amazon-ecs"],"comments":[{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1679144304,"post_id":75772184,"comment_id":133670718,"body_markdown":"Is that the entire exception? Are you sure it isn&#39;t caused by another exception, like an error connecting to the database?","body":"Is that the entire exception? Are you sure it isn&#39;t caused by another exception, like an error connecting to the database?"},{"owner":{"account_id":28045773,"reputation":1,"user_id":21422580,"display_name":"JA-W-SB"},"score":0,"creation_date":1679267799,"post_id":75772184,"comment_id":133686115,"body_markdown":"Thanks for your reply Mark. Yeah, that is the entire exception i see. I dont find anything saying &quot;could not connect to DB&quot;","body":"Thanks for your reply Mark. Yeah, that is the entire exception i see. I dont find anything saying &quot;could not connect to DB&quot;"},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1679319381,"post_id":75772184,"comment_id":133695183,"body_markdown":"Actually looking at your question again, I see the log says: `org.postgresql.util.PSQLException: The connection attempt failed`. That&#39;s your actual error. You need to fix the DB connectivity issue.","body":"Actually looking at your question again, I see the log says: <code>org.postgresql.util.PSQLException: The connection attempt failed</code>. That&#39;s your actual error. You need to fix the DB connectivity issue."},{"owner":{"account_id":28045773,"reputation":1,"user_id":21422580,"display_name":"JA-W-SB"},"score":0,"creation_date":1679418458,"post_id":75772184,"comment_id":133717420,"body_markdown":"After going through logs in deep, i found a different error which could be the root cause for all ===&gt; Unable to load credentials from EnvironmentVariableCredentialsProvider: com.amazonaws.SdkClientException: Unable to load AWS credentials from environment variables (AWS_ACCESS_KEY_ID (or AWS_ACCESS_KEY) and AWS_SECRET_KEY (or AWS_SECRET_ACCESS_KEY))\\n\\tat com.amazonaws.auth.EnvironmentVariableCredentialsProvider.getCredentials(EnvironmentVariableCredentialsProvider.java:49)\\n\\tat com.amazonaws.auth.AWSCredentialsProviderChain.getCredentials(AWSCredentialsProviderChain.java:118)\\n\\tat","body":"After going through logs in deep, i found a different error which could be the root cause for all ===&gt; Unable to load credentials from EnvironmentVariableCredentialsProvider: com.amazonaws.SdkClientException: Unable to load AWS credentials from environment variables (AWS_ACCESS_KEY_ID (or AWS_ACCESS_KEY) and AWS_SECRET_KEY (or AWS_SECRET_ACCESS_KEY))\\n\\tat com.amazonaws.auth.EnvironmentVariableCredentialsProvider.ge&zwnj;&#8203;tCredentials(Environ&zwnj;&#8203;mentVariableCredenti&zwnj;&#8203;alsProvider.java:49)&zwnj;&#8203;\\n\\tat com.amazonaws.auth.AWSCredentialsProviderChain.getCredential&zwnj;&#8203;s(AWSCredentialsProv&zwnj;&#8203;iderChain.java:118)\\&zwnj;&#8203;n\\tat"},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1679418790,"post_id":75772184,"comment_id":133717519,"body_markdown":"Are you using AWS credentials for database connections?","body":"Are you using AWS credentials for database connections?"}],"owner":{"account_id":28045773,"reputation":1,"user_id":21422580,"display_name":"JA-W-SB"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679133511,"creation_date":1679086726,"question_id":75772184,"body_markdown":"I am trying to deploy a spring boot application (With Aurora-postgresSQL) in AWS ECS container. But  \r\nGetting \r\n\r\n&gt; Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39;.\r\n\r\nThe same code is running fine in my local and also running well in the Docker container in my machine.\r\nIt is failing only when I am trying to deploy in AWS ECS Container. Not sure what is missing for AWS.\r\n\r\n\r\n    &quot;@timestamp&quot;: &quot;&quot;,\r\n    &quot;@version&quot;: &quot;1&quot;,\r\n    &quot;message&quot;: &quot;local-pool - Exception during pool initialization.&quot;,\r\n    &quot;logger_name&quot;: &quot;com.zaxxer.hikari.pool.HikariPool&quot;,\r\n    &quot;thread_name&quot;: &quot;main&quot;,\r\n    &quot;level&quot;: &quot;ERROR&quot;,\r\n    &quot;level_value&quot;: 40000,\r\n    &quot;stack_trace&quot;: &quot;org.postgresql.util.PSQLException: The connection attempt failed.\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)\\n\\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\\n\\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:253)\\n\\tat org.postgresql.Driver.makeConnection(Driver.java:434)\\n\\tat org.postgresql.Driver.connect(Driver.java:291)\\n\\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\\n\\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\\n\\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\\n\\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\\n\\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\\n\\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100)\\n\\tat com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\\n\\tat $$SpringCGLIB$$0.CGLIB$dataSource$0(&lt;generated&gt;)\\n\\tat $$SpringCGLIB$$2.invoke(&lt;generated&gt;)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\\n\\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\\n\\tat $$SpringCGLIB$$0.dataSource(&lt;generated&gt;)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\\n\\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\\n\\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\\n\\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:548)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\\n\\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132)\\n\\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907)\\n\\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\\n\\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\\n\\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\\n\\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\\n\\tat \r\n\t\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\\n\\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\\n\\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\\n\\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\\nCaused by: java.net.SocketTimeoutException: Read timed out\\n\\tat java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)\\n\\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\\n\\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\\n\\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\\n\\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)\\n\\tat org.postgresql.core.PGStream.receiveChar(PGStream.java:465)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\\n\\t\r\n\r\n    &quot;@timestamp&quot;: &quot;&quot;,\r\n    &quot;@version&quot;: &quot;1&quot;,\r\n    &quot;message&quot;: &quot;Application run failed&quot;,\r\n    &quot;logger_name&quot;: &quot;org.springframework.boot.SpringApplication&quot;,\r\n    &quot;thread_name&quot;: &quot;main&quot;,\r\n    &quot;level&quot;: &quot;ERROR&quot;,\r\n    &quot;level_value&quot;: 40000,\r\n    &quot;stack_trace&quot;: &quot;org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0: Error creating bean with name &#39;datasource&#39; defined in class path resource : Failed to instantiate [javax.sql.DataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to initialize pool: The connection attempt failed.\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:548)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\\n\\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132)\\n\\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907)\\n\\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\\n\\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\\n\\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\\n\\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\\n\\tat \\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\\n\\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\\n\\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\\n\\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;datasource&#39; defined in class path resource : Failed to instantiate [javax.sql.DataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to initialize pool: The connection attempt failed.\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\\n\\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\\n\\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\\n\\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\\n\\t... 29 common frames omitted\\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to initialize pool: The connection attempt failed.\\n\\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\\n\\t... 43 common frames omitted\\nCaused by: com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: The connection attempt failed.\\n\\tat com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:596)\\n\\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:582)\\n\\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100)\\n\\tat com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\\n\\tat $$SpringCGLIB$$0.CGLIB$dataSource$0(&lt;generated&gt;)\\n\\tat $$SpringCGLIB$$2.invoke(&lt;generated&gt;)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\\n\\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\\n\\tat (&lt;generated&gt;)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\\n\\t... 44 common frames omitted\\nCaused by: org.postgresql.util.PSQLException: The connection attempt failed.\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)\\n\\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\\n\\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:253)\\n\\tat org.postgresql.Driver.makeConnection(Driver.java:434)\\n\\tat org.postgresql.Driver.connect(Driver.java:291)\\n\\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\\n\\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\\n\\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\\n\\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\\n\\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\\n\\t... 57 common frames omitted\\nCaused by: java.net.SocketTimeoutException: Read timed out\\n\\tat java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)\\n\\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\\n\\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\\n\\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\\n\\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)\\n\\tat org.postgresql.core.PGStream.receiveChar(PGStream.java:465)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)`\r\n\r\n\r\n\r\npom.xml\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n      &lt;version&gt;42.5.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\napplication.yml\r\n\r\n```\r\ndatasource:\r\n    hikari:\r\n      username:  **\r\n      jdbc-url: **\r\n      driver-class-name: org.postgresql.Driver\r\n      schema: **\r\n      connection-test-query: **\r\n      pool-name: local-pool\r\n      maximum-pool-size: 10\r\n      max-lifetime: 30000`\r\n```\r\n\r\nHere my Docker script that builds image.\r\n\r\n```\r\n# Use Managed Base Image Oracle JDK 17\r\nFROM containerregistry/baseimages/oracle-jdk:17-stable\r\n\r\n# URL to get source code for building the image (string)\r\nLABEL org.opencontainers.image.source=&quot;https://${REPO_HOSTNAME}/projects/${PROJECT}/repos/${REPO}/browse?at=${COMMIT_HASH}&quot;\r\n\r\n# Source control revision identifier for the packaged software. Hash of the commit for this\r\nLABEL org.opencontainers.image.revision=&quot;${COMMIT_HASH}&quot;\r\n\r\n# Human-readable title of the image (string)\r\nLABEL org.opencontainers.image.title=&quot;MyApplication&quot;\r\n\r\n# Default the target version to 0.0.0-SNAPSHOT\r\nARG gVersion=0.0.0-SNAPSHOT\r\n\r\n# Override the version from environment, if present (helpful with CI tools)\r\nENV gavVersion ${gavVersion}\r\n\r\n# Copy application to container&#39;s /app folder\r\nCOPY /target/myapplication-${gVersion}.jar /app/\r\n\r\n# Change ownership to &#39;nobody&#39; user aka account with least permissions\r\nRUN chown -R nobody:nobody /app/\r\n\r\nCMD java -jar /app/myapplication-${gVersion}.jar\r\n```","title":"org.springframework.beans.factory.UnsatisfiedDependencyException:Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; in AWS ECS Contnr","body":"<p>I am trying to deploy a spring boot application (With Aurora-postgresSQL) in AWS ECS container. But<br />\nGetting</p>\n<blockquote>\n<p>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer'.</p>\n</blockquote>\n<p>The same code is running fine in my local and also running well in the Docker container in my machine.\nIt is failing only when I am trying to deploy in AWS ECS Container. Not sure what is missing for AWS.</p>\n<pre><code>&quot;@timestamp&quot;: &quot;&quot;,\n&quot;@version&quot;: &quot;1&quot;,\n&quot;message&quot;: &quot;local-pool - Exception during pool initialization.&quot;,\n&quot;logger_name&quot;: &quot;com.zaxxer.hikari.pool.HikariPool&quot;,\n&quot;thread_name&quot;: &quot;main&quot;,\n&quot;level&quot;: &quot;ERROR&quot;,\n&quot;level_value&quot;: 40000,\n&quot;stack_trace&quot;: &quot;org.postgresql.util.PSQLException: The connection attempt failed.\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)\\n\\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\\n\\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:253)\\n\\tat org.postgresql.Driver.makeConnection(Driver.java:434)\\n\\tat org.postgresql.Driver.connect(Driver.java:291)\\n\\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\\n\\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\\n\\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\\n\\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\\n\\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\\n\\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100)\\n\\tat com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\\n\\tat $$SpringCGLIB$$0.CGLIB$dataSource$0(&lt;generated&gt;)\\n\\tat $$SpringCGLIB$$2.invoke(&lt;generated&gt;)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\\n\\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\\n\\tat $$SpringCGLIB$$0.dataSource(&lt;generated&gt;)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\\n\\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\\n\\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\\n\\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:548)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\\n\\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132)\\n\\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907)\\n\\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\\n\\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\\n\\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\\n\\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\\n\\tat \n\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\\n\\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\\n\\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\\n\\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\\nCaused by: java.net.SocketTimeoutException: Read timed out\\n\\tat java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)\\n\\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\\n\\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\\n\\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\\n\\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)\\n\\tat org.postgresql.core.PGStream.receiveChar(PGStream.java:465)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)\\n\\t\n\n&quot;@timestamp&quot;: &quot;&quot;,\n&quot;@version&quot;: &quot;1&quot;,\n&quot;message&quot;: &quot;Application run failed&quot;,\n&quot;logger_name&quot;: &quot;org.springframework.boot.SpringApplication&quot;,\n&quot;thread_name&quot;: &quot;main&quot;,\n&quot;level&quot;: &quot;ERROR&quot;,\n&quot;level_value&quot;: 40000,\n&quot;stack_trace&quot;: &quot;org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0: Error creating bean with name 'datasource' defined in class path resource : Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception with message: Failed to initialize pool: The connection attempt failed.\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:548)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\\n\\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132)\\n\\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907)\\n\\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\\n\\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\\n\\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\\n\\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\\n\\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\\n\\tat \\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\\n\\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\\n\\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\\n\\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'datasource' defined in class path resource : Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception with message: Failed to initialize pool: The connection attempt failed.\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\\n\\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\\n\\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\\n\\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\\n\\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\\n\\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\\n\\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\\n\\t... 29 common frames omitted\\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception with message: Failed to initialize pool: The connection attempt failed.\\n\\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\\n\\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\\n\\t... 43 common frames omitted\\nCaused by: com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: The connection attempt failed.\\n\\tat com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:596)\\n\\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:582)\\n\\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100)\\n\\tat com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\\n\\tat $$SpringCGLIB$$0.CGLIB$dataSource$0(&lt;generated&gt;)\\n\\tat $$SpringCGLIB$$2.invoke(&lt;generated&gt;)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\\n\\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\\n\\tat (&lt;generated&gt;)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\\n\\t... 44 common frames omitted\\nCaused by: org.postgresql.util.PSQLException: The connection attempt failed.\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)\\n\\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)\\n\\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:253)\\n\\tat org.postgresql.Driver.makeConnection(Driver.java:434)\\n\\tat org.postgresql.Driver.connect(Driver.java:291)\\n\\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\\n\\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)\\n\\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)\\n\\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)\\n\\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\\n\\t... 57 common frames omitted\\nCaused by: java.net.SocketTimeoutException: Read timed out\\n\\tat java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)\\n\\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\\n\\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\\n\\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\\n\\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)\\n\\tat org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)\\n\\tat org.postgresql.core.PGStream.receiveChar(PGStream.java:465)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)\\n\\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)`\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n      &lt;version&gt;42.5.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>application.yml</p>\n<pre><code>datasource:\n    hikari:\n      username:  **\n      jdbc-url: **\n      driver-class-name: org.postgresql.Driver\n      schema: **\n      connection-test-query: **\n      pool-name: local-pool\n      maximum-pool-size: 10\n      max-lifetime: 30000`\n</code></pre>\n<p>Here my Docker script that builds image.</p>\n<pre><code># Use Managed Base Image Oracle JDK 17\nFROM containerregistry/baseimages/oracle-jdk:17-stable\n\n# URL to get source code for building the image (string)\nLABEL org.opencontainers.image.source=&quot;https://${REPO_HOSTNAME}/projects/${PROJECT}/repos/${REPO}/browse?at=${COMMIT_HASH}&quot;\n\n# Source control revision identifier for the packaged software. Hash of the commit for this\nLABEL org.opencontainers.image.revision=&quot;${COMMIT_HASH}&quot;\n\n# Human-readable title of the image (string)\nLABEL org.opencontainers.image.title=&quot;MyApplication&quot;\n\n# Default the target version to 0.0.0-SNAPSHOT\nARG gVersion=0.0.0-SNAPSHOT\n\n# Override the version from environment, if present (helpful with CI tools)\nENV gavVersion ${gavVersion}\n\n# Copy application to container's /app folder\nCOPY /target/myapplication-${gVersion}.jar /app/\n\n# Change ownership to 'nobody' user aka account with least permissions\nRUN chown -R nobody:nobody /app/\n\nCMD java -jar /app/myapplication-${gVersion}.jar\n</code></pre>\n"},{"tags":["java","azure","azure-table-storage","azure-sdk-for-java"],"answers":[{"tags":[],"owner":{"account_id":239705,"reputation":472,"user_id":509493,"accept_rate":47,"display_name":"Puneet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679133015,"creation_date":1679133015,"answer_id":75775075,"question_id":75743958,"body_markdown":"The solution was to create a new entity with the same partition key and row key. Then add the property we are attempting to update and then update the entity in the merge mode.\r\n\r\n            TableEntity tableEntity = new TableEntity(&quot;partitionKey&quot;, &quot;rowKey&quot;);\r\n            tableEntity.addProperty(&quot;Version&quot;, version);\r\n            tableEntity.addProperty(&quot;TimeStamp&quot;, myTimestamp);\r\n            tableClient.updateEntity(tableEntity, TableEntityUpdateMode.MERGE);\r\n","title":"Azure SDK for Java - Updating a table entity adds fields having names starting with odata","body":"<p>The solution was to create a new entity with the same partition key and row key. Then add the property we are attempting to update and then update the entity in the merge mode.</p>\n<pre><code>        TableEntity tableEntity = new TableEntity(&quot;partitionKey&quot;, &quot;rowKey&quot;);\n        tableEntity.addProperty(&quot;Version&quot;, version);\n        tableEntity.addProperty(&quot;TimeStamp&quot;, myTimestamp);\n        tableClient.updateEntity(tableEntity, TableEntityUpdateMode.MERGE);\n</code></pre>\n"}],"owner":{"account_id":239705,"reputation":472,"user_id":509493,"accept_rate":47,"display_name":"Puneet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75775075,"answer_count":1,"score":0,"last_activity_date":1679133015,"creation_date":1678878919,"question_id":75743958,"body_markdown":"I am using the Azure SDK for Java and working with Azure Storage Tables.\r\nI am trying to update fields in a row and the code I am using is as below\r\n\r\n        TableClient tableClient = getTableClient();\r\n\r\n        String myPartitionKey = &quot;partitionkey&quot;;\r\n        String myRowKey = &quot;rowkey&quot;;\r\n\r\n        List&lt;String&gt; propertiesToSelect = new ArrayList&lt;&gt;();\r\n        propertiesToSelect.add(&quot;field9&quot;);\r\n        propertiesToSelect.add(&quot;field10&quot;);\r\n\r\n        Response&lt;TableEntity&gt; response = tableClient.getEntityWithResponse(myPartitionKey, myRowKey, propertiesToSelect,\r\n                Duration.ofSeconds(5), null);\r\n\r\n        TableEntity tableEntity = response.getValue();\r\n\r\n        Map&lt;String, Object&gt; properties = tableEntity.getProperties();\r\n        properties.put(&quot;field9&quot;, &quot;value9&quot;);\r\n        properties.put(&quot;field10&quot;, &quot;value10&quot;);\r\n        tableClient.updateEntity(tableEntity, TableEntityUpdateMode.MERGE);\r\n\r\nWhat is happening is that the field values are getting updated but along with there some fields having names starting with &quot;odata&quot; are also being added to the rows.\r\n\r\nHow do I prevent these fields from being added to the rows?\r\n\r\nThanks for your help.","title":"Azure SDK for Java - Updating a table entity adds fields having names starting with odata","body":"<p>I am using the Azure SDK for Java and working with Azure Storage Tables.\nI am trying to update fields in a row and the code I am using is as below</p>\n<pre><code>    TableClient tableClient = getTableClient();\n\n    String myPartitionKey = &quot;partitionkey&quot;;\n    String myRowKey = &quot;rowkey&quot;;\n\n    List&lt;String&gt; propertiesToSelect = new ArrayList&lt;&gt;();\n    propertiesToSelect.add(&quot;field9&quot;);\n    propertiesToSelect.add(&quot;field10&quot;);\n\n    Response&lt;TableEntity&gt; response = tableClient.getEntityWithResponse(myPartitionKey, myRowKey, propertiesToSelect,\n            Duration.ofSeconds(5), null);\n\n    TableEntity tableEntity = response.getValue();\n\n    Map&lt;String, Object&gt; properties = tableEntity.getProperties();\n    properties.put(&quot;field9&quot;, &quot;value9&quot;);\n    properties.put(&quot;field10&quot;, &quot;value10&quot;);\n    tableClient.updateEntity(tableEntity, TableEntityUpdateMode.MERGE);\n</code></pre>\n<p>What is happening is that the field values are getting updated but along with there some fields having names starting with &quot;odata&quot; are also being added to the rows.</p>\n<p>How do I prevent these fields from being added to the rows?</p>\n<p>Thanks for your help.</p>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":1,"creation_date":1527573384,"post_id":50577172,"comment_id":88163496,"body_markdown":"use Unicede character code. Choose space which you need from here: http://jkorpela.fi/chars/spaces.html You likely want `U+2009`","body":"use Unicede character code. Choose space which you need from here: <a href=\"http://jkorpela.fi/chars/spaces.html\" rel=\"nofollow noreferrer\">jkorpela.fi/chars/spaces.html</a> You likely want <code>U+2009</code>"},{"owner":{"account_id":10829951,"reputation":986,"user_id":7964692,"display_name":"Vlad Luchansky"},"score":0,"creation_date":1527640131,"post_id":50577172,"comment_id":88198675,"body_markdown":"This issue should be fixed since 2017.3 builds of IntelliJ-based tools: https://youtrack.jetbrains.com/issue/IDEA-177979 . What version do you run?","body":"This issue should be fixed since 2017.3 builds of IntelliJ-based tools: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-177979\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-177979</a> . What version do you run?"}],"answers":[{"tags":[],"owner":{"account_id":3000375,"reputation":712,"user_id":2545982,"accept_rate":60,"display_name":"ABP"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1527573891,"creation_date":1527573891,"answer_id":50577332,"question_id":50577172,"body_markdown":"In Android Studio (Java and XML), we must use this method to write semi-space. \\u200c\r\n\r\nFor instance: این متن تست می\\u200cباشد\r\n\r\nOutput: این متن تست می‌باشد","title":"semi-space or half-space in Android Studio","body":"<p>In Android Studio (Java and XML), we must use this method to write semi-space. \\u200c</p>\n\n<p>For instance: این متن تست می\\u200cباشد</p>\n\n<p>Output: این متن تست می‌باشد</p>\n"},{"tags":[],"owner":{"account_id":9085336,"reputation":656,"user_id":6763568,"display_name":"Ahmad Hamzavi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1527581639,"creation_date":1527581639,"answer_id":50579450,"question_id":50577172,"body_markdown":"i write my text in notepad with semi-space (CTRL+SHIFT+2) then copy that to Android Studio.","title":"semi-space or half-space in Android Studio","body":"<p>i write my text in notepad with semi-space (CTRL+SHIFT+2) then copy that to Android Studio.</p>\n"},{"tags":[],"owner":{"account_id":5798452,"reputation":49,"user_id":4573455,"display_name":"Milad Bahramzadeh"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1552301841,"creation_date":1552301841,"answer_id":55100287,"question_id":50577172,"body_markdown":"You can add shortcut text in Android Studio.\r\nLike this:\r\nlorem   -&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris....","title":"semi-space or half-space in Android Studio","body":"<p>You can add shortcut text in Android Studio.\nLike this:\nlorem   ->Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris....</p>\n"},{"tags":[],"owner":{"account_id":6892593,"reputation":389,"user_id":5295519,"display_name":"Vajiheh Habibi"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1588570621,"creation_date":1588570621,"answer_id":61585778,"question_id":50577172,"body_markdown":"change your keyboard to Persian(fa,فا) and try this shortcut key\r\n\r\nalt+0157\r\n\r\nfor Example: میباشد\r\n\r\nOutput: می‌باشد","title":"semi-space or half-space in Android Studio","body":"<p>change your keyboard to Persian(fa,فا) and try this shortcut key</p>\n\n<p>alt+0157</p>\n\n<p>for Example: میباشد</p>\n\n<p>Output: می‌باشد</p>\n"},{"tags":[],"owner":{"account_id":17676315,"reputation":98,"user_id":12831209,"display_name":"Shirin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619733754,"creation_date":1619733754,"answer_id":67325640,"question_id":50577172,"body_markdown":"You can use Persian standard keyboard and add semi-space by SHIFT+SPACE","title":"semi-space or half-space in Android Studio","body":"<p>You can use Persian standard keyboard and add semi-space by SHIFT+SPACE</p>\n"},{"tags":[],"owner":{"account_id":21303009,"reputation":1152,"user_id":15678620,"display_name":"Ali Ehyaie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679132554,"creation_date":1679132554,"answer_id":75775026,"question_id":50577172,"body_markdown":"You must change your keyboard to Persian (standard). you can do it in the following way\r\n\r\nStart &gt; Settings &gt; Time &amp; Language &gt; Language then under Preferred languages click on your language (in this case Persian) after that click on the option button and then pick Persian (standard) keyboard. after you did that you can use half-space with Shift + Space in webStorm or any other programs","title":"semi-space or half-space in Android Studio","body":"<p>You must change your keyboard to Persian (standard). you can do it in the following way</p>\n<p>Start &gt; Settings &gt; Time &amp; Language &gt; Language then under Preferred languages click on your language (in this case Persian) after that click on the option button and then pick Persian (standard) keyboard. after you did that you can use half-space with Shift + Space in webStorm or any other programs</p>\n"}],"owner":{"account_id":9085336,"reputation":656,"user_id":6763568,"display_name":"Ahmad Hamzavi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3929,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":50577332,"answer_count":6,"score":18,"last_activity_date":1679132554,"creation_date":1527573159,"question_id":50577172,"body_markdown":"how to type semi-space or half-space in android studio XML files (values-&gt;strings,layouts) and java files.\r\n\r\nCTRL+SHIFT+2 not working .\r\n\r\nمی‌باشد \r\nto \r\nمی باشد","title":"semi-space or half-space in Android Studio","body":"<p>how to type semi-space or half-space in android studio XML files (values->strings,layouts) and java files.</p>\n\n<p>CTRL+SHIFT+2 not working .</p>\n\n<p>می‌باشد \nto \nمی باشد</p>\n"},{"tags":["java","xml","rest","tomcat","http-status-code-404"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1611022559,"post_id":65784129,"comment_id":116311324,"body_markdown":"What do you see in your log files?","body":"What do you see in your log files?"},{"owner":{"account_id":5296021,"reputation":4882,"user_id":4227175,"accept_rate":53,"display_name":"ghchoi"},"score":0,"creation_date":1611027210,"post_id":65784129,"comment_id":116312061,"body_markdown":"Where does `JavaApiEdu1` (from the error image) come from...?","body":"Where does <code>JavaApiEdu1</code> (from the error image) come from...?"},{"owner":{"account_id":7800051,"reputation":51,"user_id":5899834,"display_name":"Vee"},"score":0,"creation_date":1611080060,"post_id":65784129,"comment_id":116333559,"body_markdown":"@GyuHyeonChoi the JavaApiEdu1 is the project name in Eclipse","body":"@GyuHyeonChoi the JavaApiEdu1 is the project name in Eclipse"},{"owner":{"account_id":7800051,"reputation":51,"user_id":5899834,"display_name":"Vee"},"score":0,"creation_date":1611080631,"post_id":65784129,"comment_id":116333792,"body_markdown":"@tgdavies I see this one error:\n\nJan 19, 2021 10:22:21 AM org.apache.catalina.core.StandardContext loadOnStartup\nSEVERE: Servlet [JAVA API] in web application [/JavaApiEdu1] threw load() exception\njava.lang.ClassNotFoundException: org.glassfish.jersey.servlet.ServletContainer.class\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1358)\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1180)","body":"@tgdavies I see this one error:  Jan 19, 2021 10:22:21 AM org.apache.catalina.core.StandardContext loadOnStartup SEVERE: Servlet [JAVA API] in web application [/JavaApiEdu1] threw load() exception java.lang.ClassNotFoundException: org.glassfish.jersey.servlet.ServletContainer.class \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(W&zwnj;&#8203;ebappClassLoaderBase&zwnj;&#8203;.java:1358) \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(W&zwnj;&#8203;ebappClassLoaderBase&zwnj;&#8203;.java:1180)"}],"answers":[{"tags":[],"owner":{"account_id":5296021,"reputation":4882,"user_id":4227175,"accept_rate":53,"display_name":"ghchoi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611027624,"creation_date":1611027125,"answer_id":65785127,"question_id":65784129,"body_markdown":"It seems like you have to specify `Path` for each `@GET`. E.g.,\r\n\r\n```\r\n@Path(&quot;/hello&quot;)\r\npublic class Hello {\r\n\r\n    @Path(&quot;xml&quot;)\r\n    @GET\r\n    @Produces(MediaType.TEXT_XML)\r\n    ...\r\n```\r\n\r\nThen browse to `http://localhost:8080/test/rest/hello/xml`?","title":"Tomcat error 404 not found while running a REST API","body":"<p>It seems like you have to specify <code>Path</code> for each <code>@GET</code>. E.g.,</p>\n<pre><code>@Path(&quot;/hello&quot;)\npublic class Hello {\n\n    @Path(&quot;xml&quot;)\n    @GET\n    @Produces(MediaType.TEXT_XML)\n    ...\n</code></pre>\n<p>Then browse to <code>http://localhost:8080/test/rest/hello/xml</code>?</p>\n"},{"tags":[],"owner":{"account_id":7800051,"reputation":51,"user_id":5899834,"display_name":"Vee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1611083753,"creation_date":1611083258,"answer_id":65797906,"question_id":65784129,"body_markdown":"After struggling a lot there are generally small things that solve the issues.\r\n\r\nI did two things:\r\n\r\n 1. I removed the .class from this servlet class name in my web.xml and it started working:\r\n[web.xml][1]\r\n 2. I also gave a path to all my methods as GyuHyeon suggested. Although if I don&#39;t do this then also it&#39;s working after doing step 1. It will just go to one of the methods as opposed to a specific one. Giving path to each method is a good step to follow.\r\n\r\nNote: to access the API the project name should be in the URL and not the package, so in my case, this worked: http://localhost:8080/JavaApiEdu1/hello/html\r\n\r\nThanks @GyuHyeonChoi &amp; @tgdavies for replying.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nmPNM.png","title":"Tomcat error 404 not found while running a REST API","body":"<p>After struggling a lot there are generally small things that solve the issues.</p>\n<p>I did two things:</p>\n<ol>\n<li>I removed the .class from this servlet class name in my web.xml and it started working:\n<a href=\"https://i.stack.imgur.com/nmPNM.png\" rel=\"nofollow noreferrer\">web.xml</a></li>\n<li>I also gave a path to all my methods as GyuHyeon suggested. Although if I don't do this then also it's working after doing step 1. It will just go to one of the methods as opposed to a specific one. Giving path to each method is a good step to follow.</li>\n</ol>\n<p>Note: to access the API the project name should be in the URL and not the package, so in my case, this worked: http://localhost:8080/JavaApiEdu1/hello/html</p>\n<p>Thanks @GyuHyeonChoi &amp; @tgdavies for replying.</p>\n"},{"tags":[],"owner":{"account_id":28049126,"reputation":1,"user_id":21425327,"display_name":"meRybaczek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679132253,"creation_date":1679132253,"answer_id":75775000,"question_id":65784129,"body_markdown":"make sure that your Tomcat version support proper JDK version.\r\n\r\nI had the same problem, Tomcat deployed my app but when requesting GET there was 404 response. I have spent many hours on re-configuring code and Tomcat properties till I finally found the this simple reason. Tomcat 10.1.7 with JDK 17 works fine together.","title":"Tomcat error 404 not found while running a REST API","body":"<p>make sure that your Tomcat version support proper JDK version.</p>\n<p>I had the same problem, Tomcat deployed my app but when requesting GET there was 404 response. I have spent many hours on re-configuring code and Tomcat properties till I finally found the this simple reason. Tomcat 10.1.7 with JDK 17 works fine together.</p>\n"}],"owner":{"account_id":7800051,"reputation":51,"user_id":5899834,"display_name":"Vee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65797906,"answer_count":3,"score":0,"last_activity_date":1679132253,"creation_date":1611017933,"question_id":65784129,"body_markdown":"I am trying to implement a very simple REST API in Eclipse.\r\n\r\nFollowing is my project Structure:\r\n[project Structure][1]\r\n\r\n**Hello.java:**\r\n\r\n    package test;\r\n    \r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.core.MediaType;\r\n    import javax.ws.rs.ApplicationPath;\r\n    import javax.ws.rs.core.Application;\r\n    \r\n    @Path(&quot;/hello&quot;)\r\n    public class Hello {\r\n    \r\n    \t@GET\r\n    \t@Produces(MediaType.TEXT_XML)\r\n    \tpublic String sayHelloXML() {\r\n    \t\tString responseString = &quot;&lt;? xml version=&#39;1.0&#39; ?&gt;&quot; + \r\n    \t\t\t\t&quot;&lt;hello&gt; Hello World XML&lt;/hello&gt;&quot;;\r\n    \t\t\r\n    \t\treturn responseString;\r\n    \t}\r\n    \t\r\n    \t@GET\r\n    \t@Produces(MediaType.APPLICATION_JSON)\r\n    \tpublic String sayHelloJSON() {\r\n    \t\tString responseString = null;\r\n    \t\treturn responseString;\r\n    \t}\r\n    \t\r\n    \t@GET\r\n    \t@Produces(MediaType.TEXT_HTML)\r\n    \tpublic String sayHelloHTML() {\r\n    \t\tString responseString = &quot;&lt;h1&gt; Hello World HTML&lt;/h1&gt;&quot;;\r\n    \t\treturn responseString;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n**web.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;4.0&quot;&gt;\r\n      &lt;display-name&gt;JavaApiEdu&lt;/display-name&gt;\r\n      \r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;JAVA API&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer.class&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n          &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n          &lt;param-value&gt;test&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n      \r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;JAVA API&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nTo Run, I right-click on the project and choose Run on Server which is Tomcat 8.5.\r\nI am unable to access this and see this page:\r\n[Error][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MAokY.png\r\n  [2]: https://i.stack.imgur.com/0kDRp.png","title":"Tomcat error 404 not found while running a REST API","body":"<p>I am trying to implement a very simple REST API in Eclipse.</p>\n<p>Following is my project Structure:\n<a href=\"https://i.stack.imgur.com/MAokY.png\" rel=\"nofollow noreferrer\">project Structure</a></p>\n<p><strong>Hello.java:</strong></p>\n<pre><code>package test;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.ApplicationPath;\nimport javax.ws.rs.core.Application;\n\n@Path(&quot;/hello&quot;)\npublic class Hello {\n\n    @GET\n    @Produces(MediaType.TEXT_XML)\n    public String sayHelloXML() {\n        String responseString = &quot;&lt;? xml version='1.0' ?&gt;&quot; + \n                &quot;&lt;hello&gt; Hello World XML&lt;/hello&gt;&quot;;\n        \n        return responseString;\n    }\n    \n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public String sayHelloJSON() {\n        String responseString = null;\n        return responseString;\n    }\n    \n    @GET\n    @Produces(MediaType.TEXT_HTML)\n    public String sayHelloHTML() {\n        String responseString = &quot;&lt;h1&gt; Hello World HTML&lt;/h1&gt;&quot;;\n        return responseString;\n    }\n}\n</code></pre>\n<p><strong>web.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;4.0&quot;&gt;\n  &lt;display-name&gt;JavaApiEdu&lt;/display-name&gt;\n  \n  &lt;servlet&gt;\n    &lt;servlet-name&gt;JAVA API&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer.class&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n      &lt;param-value&gt;test&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  \n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;JAVA API&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>To Run, I right-click on the project and choose Run on Server which is Tomcat 8.5.\nI am unable to access this and see this page:\n<a href=\"https://i.stack.imgur.com/0kDRp.png\" rel=\"nofollow noreferrer\">Error</a></p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":1,"creation_date":1395611186,"post_id":22597483,"comment_id":34404815,"body_markdown":"Is your `run()` method really empty?  If so then the threads are most likely starting and immediately finishing and you never see them in the debugger because they&#39;ve already completed.","body":"Is your <code>run()</code> method really empty?  If so then the threads are most likely starting and immediately finishing and you never see them in the debugger because they&#39;ve already completed."},{"owner":{"account_id":2535479,"reputation":1025,"user_id":2202718,"accept_rate":92,"display_name":"Trts"},"score":0,"creation_date":1395611535,"post_id":22597483,"comment_id":34404952,"body_markdown":"No, not empty. There is Thread.currentThread().start(); there.","body":"No, not empty. There is Thread.currentThread().start(); there."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":2,"creation_date":1395611586,"post_id":22597483,"comment_id":34404971,"body_markdown":"You won&#39;t see the debugger step through to `run` because it gets called on the new thread. If you insert a breakpoint *in* `run` you should see it gets called.","body":"You won&#39;t see the debugger step through to <code>run</code> because it gets called on the new thread. If you insert a breakpoint <i>in</i> <code>run</code> you should see it gets called."},{"owner":{"display_name":"user2889419"},"score":0,"creation_date":1395612939,"post_id":22597483,"comment_id":34405386,"body_markdown":"@Trts how do you suppose a started thread starts itself again?","body":"@Trts how do you suppose a started thread starts itself again?"}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1395638398,"creation_date":1395611725,"answer_id":22597632,"question_id":22597483,"body_markdown":"&gt;     public void run() {}\r\n\r\nSo if your `run()` method really empty, then the thread is starting but immediately finishing and you never see them in the debugger because they&#39;ve already completed.   Try putting a `Thread.sleep(10000000);` so you can see the thread running.  Or as @Radiodef commented, you could put a breakpoint there in the debugger and it should stop there.\r\n\r\n&gt; No, not empty. There is Thread.currentThread().start(); there.\r\n\r\nThis is wrong.  If you enter the `run()` method then the thread is already starting.  By trying to `start()` it again, you will cause an `IllegalThreadStateException` to be thrown because of an incorrect thread state which will kill the running thread immediately.  The idea that you can ever `start()` the current (running) thread is an invalid concept by definition.\r\n","title":"Can&#39;t start a thread (implementing Runnable)","body":"<blockquote>\n<pre><code>public void run() {}\n</code></pre>\n</blockquote>\n\n<p>So if your <code>run()</code> method really empty, then the thread is starting but immediately finishing and you never see them in the debugger because they've already completed.   Try putting a <code>Thread.sleep(10000000);</code> so you can see the thread running.  Or as @Radiodef commented, you could put a breakpoint there in the debugger and it should stop there.</p>\n\n<blockquote>\n  <p>No, not empty. There is Thread.currentThread().start(); there.</p>\n</blockquote>\n\n<p>This is wrong.  If you enter the <code>run()</code> method then the thread is already starting.  By trying to <code>start()</code> it again, you will cause an <code>IllegalThreadStateException</code> to be thrown because of an incorrect thread state which will kill the running thread immediately.  The idea that you can ever <code>start()</code> the current (running) thread is an invalid concept by definition.</p>\n"}],"owner":{"account_id":2535479,"reputation":1025,"user_id":2202718,"accept_rate":92,"display_name":"Trts"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1300,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":22597632,"answer_count":1,"score":1,"last_activity_date":1679131327,"creation_date":1395610939,"question_id":22597483,"body_markdown":"I would like to understand why my FreeThread doesn&#39;t start a thread.\r\nWell, I can see that threads corresponding to HotThreads appear in the debugger. \r\n\r\nBut when I add a FreeThread, no thread appears. If I try to trace it step by step, the cursor doesn&#39;t go to the superclass overridden run(), but goes to the `start()` method of Thread class. \r\n\r\nHow can I start FreeThreads?\r\n\r\n    public class HotThread implements Runnable{\r\n        @Override\r\n        public void run() {}\r\n    }\r\n    \r\n    public class FreeThread extends HotThread {\r\n       public FreeThread(int timeout) {\r\n            super();\r\n            ...  \r\n        }\r\n    }\r\n\r\n    public class ThreadPool {\r\n         public ThreadPool(int numberOfHotThreads) {\r\n             for (int i = 0; i &lt; numberOfHotThreads; i++) {\r\n                HotThread ht;\r\n                Thread t;\r\n                    ht = new HotThread(); // Нагруженный поток (есть задача).\r\n                    t = new Thread(ht);\r\n                    t.start();\r\n             }\r\n         }\r\n    \r\n        public void addFreeThread() {\r\n            FreeThread ft = new FreeThread();\r\n            Thread t = new Thread(ft);        \r\n            t.start();\r\n        }\r\n    } \r\n\r\n","title":"Can&#39;t start a thread (implementing Runnable)","body":"<p>I would like to understand why my FreeThread doesn't start a thread.\nWell, I can see that threads corresponding to HotThreads appear in the debugger.</p>\n<p>But when I add a FreeThread, no thread appears. If I try to trace it step by step, the cursor doesn't go to the superclass overridden run(), but goes to the <code>start()</code> method of Thread class.</p>\n<p>How can I start FreeThreads?</p>\n<pre><code>public class HotThread implements Runnable{\n    @Override\n    public void run() {}\n}\n\npublic class FreeThread extends HotThread {\n   public FreeThread(int timeout) {\n        super();\n        ...  \n    }\n}\n\npublic class ThreadPool {\n     public ThreadPool(int numberOfHotThreads) {\n         for (int i = 0; i &lt; numberOfHotThreads; i++) {\n            HotThread ht;\n            Thread t;\n                ht = new HotThread(); // Нагруженный поток (есть задача).\n                t = new Thread(ht);\n                t.start();\n         }\n     }\n\n    public void addFreeThread() {\n        FreeThread ft = new FreeThread();\n        Thread t = new Thread(ft);        \n        t.start();\n    }\n} \n</code></pre>\n"},{"tags":["java","spring","swagger"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679130960,"creation_date":1679130960,"answer_id":75774894,"question_id":75772301,"body_markdown":"This is a [known defect][1] in the Spring codegen.\r\n\r\nIn your case I suggest as a workaround that you edit the swagger yml and move the 202 response to put it first.\r\n\r\n(You may need to leave the 200 first and simple move the `content` definition up to the 200. I’m not sure if codegen sorts internally first)\r\n\r\nThe response type contains an array. Simply return an empty array on the 200.\r\n\r\nAny client code would be testing for 200/202 and ignoring the body on a 200 (which would contain “[]” rather than be blank) so it should be ok.\r\n\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-codegen/issues/4693","title":"Swagger code gen. Controller implementation","body":"<p>This is a <a href=\"https://github.com/swagger-api/swagger-codegen/issues/4693\" rel=\"nofollow noreferrer\">known defect</a> in the Spring codegen.</p>\n<p>In your case I suggest as a workaround that you edit the swagger yml and move the 202 response to put it first.</p>\n<p>(You may need to leave the 200 first and simple move the <code>content</code> definition up to the 200. I’m not sure if codegen sorts internally first)</p>\n<p>The response type contains an array. Simply return an empty array on the 200.</p>\n<p>Any client code would be testing for 200/202 and ignoring the body on a 200 (which would contain “[]” rather than be blank) so it should be ok.</p>\n"}],"owner":{"account_id":24354886,"reputation":15,"user_id":18290244,"display_name":"bblex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75774894,"answer_count":1,"score":0,"last_activity_date":1679130960,"creation_date":1679087813,"question_id":75772301,"body_markdown":"Hello) I`m using swagger code gen for implementing my rest api. \r\n\r\nHere is openapi.yaml:\r\n\r\n\r\n    /events:\r\n        post:\r\n          tags:\r\n            - events\r\n          summary: sth\r\n          operationId: eventsRequest\r\n          description: sth\r\n          requestBody:\r\n            content:\r\n              application/json:\r\n                schema:\r\n                  type: array\r\n                  items:\r\n                    title: eventRequest\r\n                    type: object\r\n                    required:\r\n                      - card\r\n                      - status\r\n                    properties:\r\n                      changeDate:\r\n                        type: string\r\n                      status:\r\n                        type: string\r\n                      card:\r\n                        type: string\r\n    \r\n          responses:\r\n            200:\r\n              description: OK\r\n            202:\r\n              description: Not all were added\r\n              content:\r\n                application/json:\r\n                  schema:\r\n                    title: NotAllResponse\r\n                    type: array\r\n                    items:\r\n                      title: eventResponse\r\n                      type: object\r\n                      required:\r\n                        - card\r\n                        - error\r\n                      properties:\r\n                        card:\r\n                          type: string\r\n                        error:\r\n                          type: string\r\n\r\n\r\nHere is Java code, which swagger generates:\r\n\r\n\r\n    @Api(value = &quot;events&quot;, description = &quot;sth&quot;)\r\n    public interface EventsApi {\r\n    \r\n        Logger log = LoggerFactory.getLogger(EventsApi.class);\r\n    \r\n        default Optional&lt;ObjectMapper&gt; getObjectMapper() {\r\n            return Optional.empty();\r\n        }\r\n    \r\n        default Optional&lt;HttpServletRequest&gt; getRequest() {\r\n            return Optional.empty();\r\n        }\r\n    \r\n        default Optional&lt;String&gt; getAcceptHeader() {\r\n            return getRequest().map(r -&gt; r.getHeader(&quot;Accept&quot;));\r\n        }\r\n    \r\n        @ApiResponses(value = {\r\n                @ApiResponse(code = 200, message = &quot;OK&quot;),\r\n                @ApiResponse(code = 202, message = &quot;Not all were added&quot;, response = EventResponse.class, responseContainer = &quot;List&quot;),\r\n        @RequestMapping(value = &quot;/events&quot;,\r\n                produces = {&quot;application/json&quot;},\r\n                consumes = {&quot;application/json&quot;},\r\n                method = RequestMethod.POST)\r\n        default ResponseEntity&lt;Void&gt; eventsRequest(@ApiParam(value = &quot;&quot;) @Valid @RequestBody List&lt;EventsRequest&gt; body\r\n        ) {\r\n            if (getObjectMapper().isPresent() &amp;&amp; getAcceptHeader().isPresent()) {\r\n            } else {\r\n                log.warn(&quot;ObjectMapper or HttpServletRequest not configured in default CardsEventsApi interface so no example is generated&quot;);\r\n            }\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**The problem:** I need to return 200 code with no body and 202 code with EventResponse object as body.\r\n\r\n\r\n\r\n\r\n    @Controller\r\n    @Validated\r\n    public class EventsApiController implements EventsApi {\r\n    \r\n        private final EventsService eventsService;\r\n    \r\n        @Autowired\r\n        public EventsApiController(EventsService eventsService) {\r\n            this.eventsService = eventsService;\r\n        }\r\n    \r\n        @Override\r\n        public ResponseEntity&lt;Void&gt; eventsRequest(List&lt;EventsRequest&gt; requests) {\r\n            Integer hello = eventsService.doSth(requests);\r\n            return ResponseEntity.status(HttpStatus.OK).build();\r\n        }\r\n    }\r\n\r\n\r\nI`m implementing EventsApi and overriding eventsRequest method. But I have no ability to return 202 code with EventResponse body.   \r\n\r\n\r\nIs there any ways to do it? ","title":"Swagger code gen. Controller implementation","body":"<p>Hello) I`m using swagger code gen for implementing my rest api.</p>\n<p>Here is openapi.yaml:</p>\n<pre><code>/events:\n    post:\n      tags:\n        - events\n      summary: sth\n      operationId: eventsRequest\n      description: sth\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: array\n              items:\n                title: eventRequest\n                type: object\n                required:\n                  - card\n                  - status\n                properties:\n                  changeDate:\n                    type: string\n                  status:\n                    type: string\n                  card:\n                    type: string\n\n      responses:\n        200:\n          description: OK\n        202:\n          description: Not all were added\n          content:\n            application/json:\n              schema:\n                title: NotAllResponse\n                type: array\n                items:\n                  title: eventResponse\n                  type: object\n                  required:\n                    - card\n                    - error\n                  properties:\n                    card:\n                      type: string\n                    error:\n                      type: string\n</code></pre>\n<p>Here is Java code, which swagger generates:</p>\n<pre><code>@Api(value = &quot;events&quot;, description = &quot;sth&quot;)\npublic interface EventsApi {\n\n    Logger log = LoggerFactory.getLogger(EventsApi.class);\n\n    default Optional&lt;ObjectMapper&gt; getObjectMapper() {\n        return Optional.empty();\n    }\n\n    default Optional&lt;HttpServletRequest&gt; getRequest() {\n        return Optional.empty();\n    }\n\n    default Optional&lt;String&gt; getAcceptHeader() {\n        return getRequest().map(r -&gt; r.getHeader(&quot;Accept&quot;));\n    }\n\n    @ApiResponses(value = {\n            @ApiResponse(code = 200, message = &quot;OK&quot;),\n            @ApiResponse(code = 202, message = &quot;Not all were added&quot;, response = EventResponse.class, responseContainer = &quot;List&quot;),\n    @RequestMapping(value = &quot;/events&quot;,\n            produces = {&quot;application/json&quot;},\n            consumes = {&quot;application/json&quot;},\n            method = RequestMethod.POST)\n    default ResponseEntity&lt;Void&gt; eventsRequest(@ApiParam(value = &quot;&quot;) @Valid @RequestBody List&lt;EventsRequest&gt; body\n    ) {\n        if (getObjectMapper().isPresent() &amp;&amp; getAcceptHeader().isPresent()) {\n        } else {\n            log.warn(&quot;ObjectMapper or HttpServletRequest not configured in default CardsEventsApi interface so no example is generated&quot;);\n        }\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\n    }\n\n}\n</code></pre>\n<p><strong>The problem:</strong> I need to return 200 code with no body and 202 code with EventResponse object as body.</p>\n<pre><code>@Controller\n@Validated\npublic class EventsApiController implements EventsApi {\n\n    private final EventsService eventsService;\n\n    @Autowired\n    public EventsApiController(EventsService eventsService) {\n        this.eventsService = eventsService;\n    }\n\n    @Override\n    public ResponseEntity&lt;Void&gt; eventsRequest(List&lt;EventsRequest&gt; requests) {\n        Integer hello = eventsService.doSth(requests);\n        return ResponseEntity.status(HttpStatus.OK).build();\n    }\n}\n</code></pre>\n<p>I`m implementing EventsApi and overriding eventsRequest method. But I have no ability to return 202 code with EventResponse body.</p>\n<p>Is there any ways to do it?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679077421,"creation_date":1679077421,"answer_id":75770957,"question_id":75769360,"body_markdown":"[Jayway][1] is perfect for this. Along with a map from the categories and paths to the data.\r\n\r\nDependency\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nCode\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import com.jayway.jsonpath.DocumentContext;\r\n    import com.jayway.jsonpath.JsonPath;\r\n    \r\n    public class App5 {\r\n    \r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString jsonDataSourceString = &quot;{ \\r\\n&quot; + \r\n    \t\t\t\t&quot;  \\&quot;marketEvent\\&quot; :{\\r\\n&quot; + \r\n    \t\t\t\t&quot;        \\&quot;category\\&quot;: \\&quot;Finance\\&quot;, \\r\\n&quot; + \r\n    \t\t\t\t&quot;        \\&quot;version\\&quot;: 1.0       \\r\\n&quot; + \r\n    \t\t\t\t&quot;   }, \\r\\n&quot; + \r\n    \t\t\t\t&quot;   \\&quot;history\\&quot; : {\\r\\n&quot; + \r\n    \t\t\t\t&quot;     \\&quot;type\\&quot; : \\&quot;FX\\&quot;, \\r\\n&quot; + \r\n    \t\t\t\t&quot;     \\&quot;value\\&quot;: 45.33,  \\r\\n&quot; + \r\n    \t\t\t\t&quot;     \\&quot;role\\&quot; : \\&quot; Broker\\&quot;  \\r\\n&quot; + \r\n    \t\t\t\t&quot;   } \\r\\n&quot; + \r\n    \t\t\t\t&quot;}&quot;;\r\n    \r\n    \t\tSystem.out.println(jsonDataSourceString);\r\n    \r\n    \t\tMap&lt;String, String&gt; categoryToJsonPath = new HashMap&lt;&gt;();\r\n    \t\tcategoryToJsonPath.put(&quot;Finance&quot;, &quot;$.history.type&quot;);\r\n    \t\t\r\n    \t\tString pathToCategory = &quot;$.marketEvent.category&quot;;\r\n    \t\t\r\n    \t\tDocumentContext jsonContext = JsonPath.parse(jsonDataSourceString);\r\n    \t\tString categoryName = jsonContext.read(pathToCategory);\r\n    \t\t\r\n    \t\tSystem.out.println(categoryName);\r\n    \r\n    \t\tString pathToCategoryDependentField = categoryToJsonPath.get(categoryName);\r\n    \t\t\r\n    \t\tString categoryDependentFieldValue = jsonContext.read(pathToCategoryDependentField);\r\n    \r\n    \t\tSystem.out.println(categoryDependentFieldValue);\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nOutput:\r\n\r\n    { \r\n      &quot;marketEvent&quot; :{\r\n            &quot;category&quot;: &quot;Finance&quot;, \r\n            &quot;version&quot;: 1.0       \r\n       }, \r\n       &quot;history&quot; : {\r\n         &quot;type&quot; : &quot;FX&quot;, \r\n         &quot;value&quot;: 45.33,  \r\n         &quot;role&quot; : &quot; Broker&quot;  \r\n       } \r\n    }\r\n    Finance\r\n    FX\r\n\r\n\r\n  [1]: https://www.baeldung.com/guide-to-jayway-jsonpath\r\n","title":"Design : Refer different properties for a object at run time","body":"<p><a href=\"https://www.baeldung.com/guide-to-jayway-jsonpath\" rel=\"nofollow noreferrer\">Jayway</a> is perfect for this. Along with a map from the categories and paths to the data.</p>\n<p>Dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n    &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Code</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\nimport com.jayway.jsonpath.DocumentContext;\nimport com.jayway.jsonpath.JsonPath;\n\npublic class App5 {\n\n    \n    public static void main(String[] args) {\n        String jsonDataSourceString = &quot;{ \\r\\n&quot; + \n                &quot;  \\&quot;marketEvent\\&quot; :{\\r\\n&quot; + \n                &quot;        \\&quot;category\\&quot;: \\&quot;Finance\\&quot;, \\r\\n&quot; + \n                &quot;        \\&quot;version\\&quot;: 1.0       \\r\\n&quot; + \n                &quot;   }, \\r\\n&quot; + \n                &quot;   \\&quot;history\\&quot; : {\\r\\n&quot; + \n                &quot;     \\&quot;type\\&quot; : \\&quot;FX\\&quot;, \\r\\n&quot; + \n                &quot;     \\&quot;value\\&quot;: 45.33,  \\r\\n&quot; + \n                &quot;     \\&quot;role\\&quot; : \\&quot; Broker\\&quot;  \\r\\n&quot; + \n                &quot;   } \\r\\n&quot; + \n                &quot;}&quot;;\n\n        System.out.println(jsonDataSourceString);\n\n        Map&lt;String, String&gt; categoryToJsonPath = new HashMap&lt;&gt;();\n        categoryToJsonPath.put(&quot;Finance&quot;, &quot;$.history.type&quot;);\n        \n        String pathToCategory = &quot;$.marketEvent.category&quot;;\n        \n        DocumentContext jsonContext = JsonPath.parse(jsonDataSourceString);\n        String categoryName = jsonContext.read(pathToCategory);\n        \n        System.out.println(categoryName);\n\n        String pathToCategoryDependentField = categoryToJsonPath.get(categoryName);\n        \n        String categoryDependentFieldValue = jsonContext.read(pathToCategoryDependentField);\n\n        System.out.println(categoryDependentFieldValue);\n        \n\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>{ \n  &quot;marketEvent&quot; :{\n        &quot;category&quot;: &quot;Finance&quot;, \n        &quot;version&quot;: 1.0       \n   }, \n   &quot;history&quot; : {\n     &quot;type&quot; : &quot;FX&quot;, \n     &quot;value&quot;: 45.33,  \n     &quot;role&quot; : &quot; Broker&quot;  \n   } \n}\nFinance\nFX\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679130936,"creation_date":1679130936,"answer_id":75774893,"question_id":75769360,"body_markdown":"You many try library _Josson_. Function `caseValue()` can do the job.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;marketEvent\\&quot; :{&quot; +\r\n        &quot;        \\&quot;category\\&quot;: \\&quot;Finance\\&quot;,&quot; +\r\n        &quot;        \\&quot;version\\&quot;: 1.0&quot; +\r\n        &quot;   },&quot; +\r\n        &quot;   \\&quot;history\\&quot; : {&quot; +\r\n        &quot;     \\&quot;type\\&quot; : \\&quot;FX\\&quot;,&quot; +\r\n        &quot;     \\&quot;value\\&quot;: 45.33,&quot; +\r\n        &quot;     \\&quot;role\\&quot; : \\&quot; Broker\\&quot;&quot; +\r\n        &quot;   }&quot; +\r\n        &quot;}&quot;);\r\n    String categoryValue = josson.getString(\r\n        &quot;marketEvent.category.caseValue(&quot; +\r\n        &quot;  &#39;Finance&#39;, $.history.type,&quot; +\r\n        &quot;  &#39;IT&#39;, $.history.type2)&quot;);\r\n    System.out.println(categoryValue);\r\n    // Output: FX\r\n","title":"Design : Refer different properties for a object at run time","body":"<p>You many try library <em>Josson</em>. Function <code>caseValue()</code> can do the job.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;marketEvent\\&quot; :{&quot; +\n    &quot;        \\&quot;category\\&quot;: \\&quot;Finance\\&quot;,&quot; +\n    &quot;        \\&quot;version\\&quot;: 1.0&quot; +\n    &quot;   },&quot; +\n    &quot;   \\&quot;history\\&quot; : {&quot; +\n    &quot;     \\&quot;type\\&quot; : \\&quot;FX\\&quot;,&quot; +\n    &quot;     \\&quot;value\\&quot;: 45.33,&quot; +\n    &quot;     \\&quot;role\\&quot; : \\&quot; Broker\\&quot;&quot; +\n    &quot;   }&quot; +\n    &quot;}&quot;);\nString categoryValue = josson.getString(\n    &quot;marketEvent.category.caseValue(&quot; +\n    &quot;  'Finance', $.history.type,&quot; +\n    &quot;  'IT', $.history.type2)&quot;);\nSystem.out.println(categoryValue);\n// Output: FX\n</code></pre>\n"}],"owner":{"account_id":6161103,"reputation":743,"user_id":4802676,"accept_rate":75,"display_name":"BobCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679130936,"creation_date":1679066598,"question_id":75769360,"body_markdown":"I&#39;m looking for some advice to come up with a design for a use case on which I&#39;m working. As a REST request I receive a Json payload something like below \r\n\r\n```json\r\n{ \r\n  &quot;marketEvent&quot; :{\r\n        &quot;category&quot;: &quot;Finance&quot;\r\n        &quot;version&quot;: 1.0       \r\n   }\r\n   &quot;history&quot; : {\r\n     &quot;type&quot; : &quot;FX&quot;\r\n     &quot;value&quot;: 45.33  \r\n     &quot;role&quot; : &quot; Broker&quot;  \r\n   } \r\n}\r\n```\r\n                \r\nFor different categories (in this example Finance), I need to access different values from the JSON. In case of Finance, I need to access `history.type`, but in another category I might need to access another value. \r\n\r\nI&#39;m looking for a generic design in Java/Spring where I can configure different categories and what values I need to access and take action on that. \r\n\r\n","title":"Design : Refer different properties for a object at run time","body":"<p>I'm looking for some advice to come up with a design for a use case on which I'm working. As a REST request I receive a Json payload something like below</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ \n  &quot;marketEvent&quot; :{\n        &quot;category&quot;: &quot;Finance&quot;\n        &quot;version&quot;: 1.0       \n   }\n   &quot;history&quot; : {\n     &quot;type&quot; : &quot;FX&quot;\n     &quot;value&quot;: 45.33  \n     &quot;role&quot; : &quot; Broker&quot;  \n   } \n}\n</code></pre>\n<p>For different categories (in this example Finance), I need to access different values from the JSON. In case of Finance, I need to access <code>history.type</code>, but in another category I might need to access another value.</p>\n<p>I'm looking for a generic design in Java/Spring where I can configure different categories and what values I need to access and take action on that.</p>\n"},{"tags":["java","guava"],"answers":[{"tags":[],"owner":{"account_id":29270,"reputation":4126,"user_id":78973,"accept_rate":100,"display_name":"Arend v. Reinersdorff"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1679130226,"creation_date":1326530472,"answer_id":8861107,"question_id":8860770,"body_markdown":"Advantages of a `Multiset&lt;E&gt;` over a `Map&lt;E, Integer&gt;`:\r\n\r\n - No special code required when adding an element that is not already in the collection.\r\n - Methods for handling the count of elements directly: `count(E)`, `add(E, int)`, etc.\r\n - The intention of the code is clearer. A `Multiset&lt;E&gt;` obviously maps the elements to their counts. A `Map&lt;E, Integer&gt;` could map the elements to arbitrary integers.\r\n\r\nSee also:\r\n\r\n[Multiset Javadoc][1]\r\n\r\n[Multiset explained in the Guava Wiki][2]\r\n\r\n\r\n  [1]: https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Multiset.html\r\n  [2]: https://github.com/google/guava/wiki/NewCollectionTypesExplained#multiset","title":"Guava MultiSet vs Map?","body":"<p>Advantages of a <code>Multiset&lt;E&gt;</code> over a <code>Map&lt;E, Integer&gt;</code>:</p>\n<ul>\n<li>No special code required when adding an element that is not already in the collection.</li>\n<li>Methods for handling the count of elements directly: <code>count(E)</code>, <code>add(E, int)</code>, etc.</li>\n<li>The intention of the code is clearer. A <code>Multiset&lt;E&gt;</code> obviously maps the elements to their counts. A <code>Map&lt;E, Integer&gt;</code> could map the elements to arbitrary integers.</li>\n</ul>\n<p>See also:</p>\n<p><a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Multiset.html\" rel=\"nofollow noreferrer\">Multiset Javadoc</a></p>\n<p><a href=\"https://github.com/google/guava/wiki/NewCollectionTypesExplained#multiset\" rel=\"nofollow noreferrer\">Multiset explained in the Guava Wiki</a></p>\n"},{"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1326553387,"creation_date":1326553387,"answer_id":8863033,"question_id":8860770,"body_markdown":"To me, the most important point that sets `Multiset` apart from a `Map` is that it&#39;s a `Collection`: you just put stuff into it and you can get counts later. It conceptually fits the use cases for which it&#39;s designed where a `Map` does not. For those use cases, a `Map` is just a hack that kinda-sorta works OK since Java didn&#39;t provide anything more appropriate.","title":"Guava MultiSet vs Map?","body":"<p>To me, the most important point that sets <code>Multiset</code> apart from a <code>Map</code> is that it's a <code>Collection</code>: you just put stuff into it and you can get counts later. It conceptually fits the use cases for which it's designed where a <code>Map</code> does not. For those use cases, a <code>Map</code> is just a hack that kinda-sorta works OK since Java didn't provide anything more appropriate.</p>\n"}],"owner":{"account_id":1156140,"reputation":25020,"user_id":1136700,"accept_rate":46,"display_name":"Adam Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6050,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":8861107,"answer_count":2,"score":17,"last_activity_date":1679130226,"creation_date":1326525228,"question_id":8860770,"body_markdown":"My understanding of Multiset is a set with frequency, but I can always use Map&lt;T, int&gt; to represent the frequency, is there other reason to use Multiset?","title":"Guava MultiSet vs Map?","body":"<p>My understanding of Multiset is a set with frequency, but I can always use Map to represent the frequency, is there other reason to use Multiset?</p>\n"},{"tags":["java","data-binding","frontend","vaadin","vaadin23"],"comments":[{"owner":{"account_id":7372513,"reputation":951,"user_id":5612275,"display_name":"Marco C"},"score":0,"creation_date":1679131454,"post_id":75774829,"comment_id":133668853,"body_markdown":"Where does the null pointer exception come from? Looking at the code, you must ensure that dto getters for intermediate objects always returns a valid instance","body":"Where does the null pointer exception come from? Looking at the code, you must ensure that dto getters for intermediate objects always returns a valid instance"},{"owner":{"account_id":18336090,"reputation":17,"user_id":13353450,"display_name":"Buddhima Chamaranga"},"score":0,"creation_date":1679153342,"post_id":75774829,"comment_id":133672169,"body_markdown":"getters are defined by Lombok","body":"getters are defined by Lombok"},{"owner":{"account_id":7372513,"reputation":951,"user_id":5612275,"display_name":"Marco C"},"score":0,"creation_date":1679157130,"post_id":75774829,"comment_id":133672876,"body_markdown":"Vaadin will not populate the intermediate objects. So you should set them by your self, for example in the bind callbacks, or you can explicitly defined getters instead of autogenerating them or you can populate the dto before passing it to the binder","body":"Vaadin will not populate the intermediate objects. So you should set them by your self, for example in the bind callbacks, or you can explicitly defined getters instead of autogenerating them or you can populate the dto before passing it to the binder"},{"owner":{"account_id":18336090,"reputation":17,"user_id":13353450,"display_name":"Buddhima Chamaranga"},"score":0,"creation_date":1679194885,"post_id":75774829,"comment_id":133677055,"body_markdown":"even after setting up getters setters without lombok it gives me same error, could please show me a example of a bind callback?","body":"even after setting up getters setters without lombok it gives me same error, could please show me a example of a bind callback?"},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1679237939,"post_id":75774829,"comment_id":133681463,"body_markdown":"Please update the question with your new insights. Ideally provide\na [MRE](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please update the question with your new insights. Ideally provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a>"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1679316476,"post_id":75774829,"comment_id":133694309,"body_markdown":"For example if `job.getOutputSource()` can return null, then you will have NPE. So you need to improve your getter and setter lambda code to handle the possible null values accordingly. This cannot be handled by Vaadin framework automatically, as the decisions upon those are highly application specific. E.g. in some applications you do not want to add anything there if NPE indeed should be thrown to indicate data corruption being happened.","body":"For example if <code>job.getOutputSource()</code> can return null, then you will have NPE. So you need to improve your getter and setter lambda code to handle the possible null values accordingly. This cannot be handled by Vaadin framework automatically, as the decisions upon those are highly application specific. E.g. in some applications you do not want to add anything there if NPE indeed should be thrown to indicate data corruption being happened."},{"owner":{"account_id":18336090,"reputation":17,"user_id":13353450,"display_name":"Buddhima Chamaranga"},"score":0,"creation_date":1679331906,"post_id":75774829,"comment_id":133699077,"body_markdown":"I made those UIdto&#39;s simple, by excluding nested dto&#39;s","body":"I made those UIdto&#39;s simple, by excluding nested dto&#39;s"}],"owner":{"account_id":18336090,"reputation":17,"user_id":13353450,"display_name":"Buddhima Chamaranga"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679130164,"creation_date":1679130164,"question_id":75774829,"body_markdown":"```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\npublic class JobDto {\r\n    private Long JobId;\r\n    private String jobName;\r\n    private String jobDesc;\r\n    private String status;\r\n    private boolean isScheduled;\r\n    private String cronExpression;\r\n    private InputSourceDto inputSource;\r\n    private OutputSourceDto outputSource;\r\n}\r\n```\r\n\r\n\r\n```\r\n        jobBinder.bind(jobName, JobDto::getJobName, JobDto::setJobName);\r\n        jobBinder.bind(jobDesc, JobDto::getJobDesc, JobDto::setJobDesc);\r\n        jobBinder.forField(jobType).bind(job -&gt; job.getOutputSource().getType(),(job,jobType) -&gt; job.getOutputSource().setType(jobType));\r\n        jobBinder.forField(dbUrl).bind(job -&gt; job.getOutputSource().getConnection().getDbUrl(),(job,dbUrl) -&gt; job.getOutputSource().getConnection().setDbUrl(dbUrl));\r\n        jobBinder.forField(dbUserName).bind(job -&gt; job.getOutputSource().getConnection().getDbUserName(),(job,dbUserName) -&gt; job.getOutputSource().getConnection().setDbUserName(dbUserName));\r\n        jobBinder.forField(dbUserPassword).bind(job -&gt; job.getOutputSource().getConnection().getDbUserPassword(),(job,dbUserPassword) -&gt; job.getOutputSource().getConnection().setDbUserPassword(dbUserPassword));\r\n        jobBinder.forField(dbDriverClass).bind(job -&gt; job.getOutputSource().getConnection().getDbDriverClass(),(job,dbDriverClass) -&gt; job.getOutputSource().getConnection().setDbDriverClass(dbDriverClass));\r\n        etCronExpression, JobDto ::setCronExpression);\r\n     \r\n```\r\n**my binder worked perfectly when I connected directly with the entity classes directly. Now after using the dtos it gives me a null pointer error when I try to get a nested attribute**\r\n\r\n**I want to know solutions when using vaadin binder with nested dtos**","title":"How to use vaadin binder when dto&#39;s consist of nested dtos in vaadin 23","body":"<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class JobDto {\n    private Long JobId;\n    private String jobName;\n    private String jobDesc;\n    private String status;\n    private boolean isScheduled;\n    private String cronExpression;\n    private InputSourceDto inputSource;\n    private OutputSourceDto outputSource;\n}\n</code></pre>\n<pre><code>        jobBinder.bind(jobName, JobDto::getJobName, JobDto::setJobName);\n        jobBinder.bind(jobDesc, JobDto::getJobDesc, JobDto::setJobDesc);\n        jobBinder.forField(jobType).bind(job -&gt; job.getOutputSource().getType(),(job,jobType) -&gt; job.getOutputSource().setType(jobType));\n        jobBinder.forField(dbUrl).bind(job -&gt; job.getOutputSource().getConnection().getDbUrl(),(job,dbUrl) -&gt; job.getOutputSource().getConnection().setDbUrl(dbUrl));\n        jobBinder.forField(dbUserName).bind(job -&gt; job.getOutputSource().getConnection().getDbUserName(),(job,dbUserName) -&gt; job.getOutputSource().getConnection().setDbUserName(dbUserName));\n        jobBinder.forField(dbUserPassword).bind(job -&gt; job.getOutputSource().getConnection().getDbUserPassword(),(job,dbUserPassword) -&gt; job.getOutputSource().getConnection().setDbUserPassword(dbUserPassword));\n        jobBinder.forField(dbDriverClass).bind(job -&gt; job.getOutputSource().getConnection().getDbDriverClass(),(job,dbDriverClass) -&gt; job.getOutputSource().getConnection().setDbDriverClass(dbDriverClass));\n        etCronExpression, JobDto ::setCronExpression);\n     \n</code></pre>\n<p><strong>my binder worked perfectly when I connected directly with the entity classes directly. Now after using the dtos it gives me a null pointer error when I try to get a nested attribute</strong></p>\n<p><strong>I want to know solutions when using vaadin binder with nested dtos</strong></p>\n"},{"tags":["java","algorithm","search","search-engine","levenshtein-distance"],"comments":[{"owner":{"account_id":552869,"reputation":6545,"user_id":918124,"accept_rate":89,"display_name":"DrYap"},"score":2,"creation_date":1447608289,"post_id":33722217,"comment_id":55214810,"body_markdown":"You have said `jakob` is not related but that required understanding of the meaning of the word. You will not be able to do much better with simple techniques such as Levenshtein distance and will need to start looking into natural language processing techniques.","body":"You have said <code>jakob</code> is not related but that required understanding of the meaning of the word. You will not be able to do much better with simple techniques such as Levenshtein distance and will need to start looking into natural language processing techniques."},{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":2,"creation_date":1447608593,"post_id":33722217,"comment_id":55214923,"body_markdown":"Why don&#39;t you sort by the distance that the Levenshtein algorithm returns?","body":"Why don&#39;t you sort by the distance that the Levenshtein algorithm returns?"},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":8,"creation_date":1447608748,"post_id":33722217,"comment_id":55214989,"body_markdown":"Unless you define &quot;relevant&quot; you may never come to a satisfactory solution.","body":"Unless you define &quot;relevant&quot; you may never come to a satisfactory solution."},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":0,"creation_date":1447609612,"post_id":33722217,"comment_id":55215326,"body_markdown":"What you compute is words from the list that contain the letters of the search word in the original order. This can be computed without this Levenshtein magic, and I don&#39;t know what you would like to infer from those words.","body":"What you compute is words from the list that contain the letters of the search word in the original order. This can be computed without this Levenshtein magic, and I don&#39;t know what you would like to infer from those words."},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":1,"creation_date":1447610034,"post_id":33722217,"comment_id":55215468,"body_markdown":"Regarding bhspencer&#39;s proposal: since all the returned words have the same value, sorting them by that value may not enlighten you.","body":"Regarding bhspencer&#39;s proposal: since all the returned words have the same value, sorting them by that value may not enlighten you."},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":1,"creation_date":1483394534,"post_id":33722217,"comment_id":70073466,"body_markdown":"The technology you&#39;re probably looking for is a semantic network. Implementing one is a big task because it must be created and trained. There are thousands of papers. Here&#39;s an example service: http://swoogle.umbc.edu/SimService/index.html","body":"The technology you&#39;re probably looking for is a semantic network. Implementing one is a big task because it must be created and trained. There are thousands of papers. Here&#39;s an example service: <a href=\"http://swoogle.umbc.edu/SimService/index.html\" rel=\"nofollow noreferrer\">swoogle.umbc.edu/SimService/index.html</a>"},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1483405711,"post_id":33722217,"comment_id":70076216,"body_markdown":"jacob might have been what the user is looking for if he is typing very fast and missed the a and c. You could ignore this fact and just look for words where the string is present, it&#39;s also faster than the calculating the distance. But if (sorry don&#39;t have a better example now) you are looking for &quot;asses&quot; then you probably don&#39;t want words related to &quot;assess&quot;, &quot;masses&quot;, &quot;classes&quot; etc. but you would still get those unless you are using a method which understands semantics (very complex).","body":"jacob might have been what the user is looking for if he is typing very fast and missed the a and c. You could ignore this fact and just look for words where the string is present, it&#39;s also faster than the calculating the distance. But if (sorry don&#39;t have a better example now) you are looking for &quot;asses&quot; then you probably don&#39;t want words related to &quot;assess&quot;, &quot;masses&quot;, &quot;classes&quot; etc. but you would still get those unless you are using a method which understands semantics (very complex)."},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1483564724,"post_id":33722217,"comment_id":70152516,"body_markdown":"Do you have a limited dictionary? Like 1000 words related to the job market. Or is it basically all English words?","body":"Do you have a limited dictionary? Like 1000 words related to the job market. Or is it basically all English words?"},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1483565603,"post_id":33722217,"comment_id":70152943,"body_markdown":"I was asking, because the easiest semantic aproach is probably tag-based (like stackoverflow). So you would need to tag each word and also create tag synonyms. Then you can search via the tags and use the Levenshtein distance to get the closest tags for unknown words. But that doesn&#39;t seem feasible for you.","body":"I was asking, because the easiest semantic aproach is probably tag-based (like stackoverflow). So you would need to tag each word and also create tag synonyms. Then you can search via the tags and use the Levenshtein distance to get the closest tags for unknown words. But that doesn&#39;t seem feasible for you."},{"owner":{"account_id":10010550,"reputation":346,"user_id":9465588,"display_name":"DGoiko"},"score":0,"creation_date":1559145460,"post_id":33722217,"comment_id":99332109,"body_markdown":"No. This is one of the most complex problems in NLP.","body":"No. This is one of the most complex problems in NLP."}],"answers":[{"tags":[],"owner":{"account_id":895662,"reputation":356,"user_id":933012,"display_name":"AnishT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483791730,"creation_date":1447613845,"answer_id":33723626,"question_id":33722217,"body_markdown":"I tried the suggestion from the comments about sorting the matches by the distance returned by Levenshtein algo, and it seems it does produce better results.\r\n\r\n(As I could not find how I could not find the Searcher class from your code, I took the liberty of using a different source of wordlist, Levenshtein implementation, and language.)\r\n\r\nUsing the word list provided in Ubuntu, and Levenshtein algo implementation from - https://github.com/ztane/python-Levenshtein,\r\nI created a small script that asks for a word and prints all closest words and distance as tuple.\r\n\r\nCode - https://gist.github.com/atdaemon/9f59ad886c35024bdd28\r\n\r\n    from Levenshtein import distance\r\n    import os\r\n    \r\n    def read_dict() :\r\n    \twith open(&#39;/usr/share/dict/words&#39;,&#39;r&#39;) as f : \r\n    \t\tfor line in f :\r\n    \t\t\tyield str(line).strip()\r\n    \r\n    inp = str(raw_input(&#39;Enter a word : &#39;))\r\n    \r\n    wordlist = read_dict()\r\n    matches = []\r\n    for word in wordlist :\r\n    \tdist = distance(inp,word)\r\n    \tif dist &lt; 3 :\r\n    \t\tmatches.append((dist,word))\r\n    print os.linesep.join(map(str,sorted(matches)))\r\n\r\nSample output - \r\n\r\n\r\n    Enter a word : job\r\n    (0, &#39;job&#39;)\r\n    (1, &#39;Bob&#39;)\r\n    (1, &#39;Job&#39;)\r\n    (1, &#39;Rob&#39;)\r\n    (1, &#39;bob&#39;)\r\n    (1, &#39;cob&#39;)\r\n    (1, &#39;fob&#39;)\r\n    (1, &#39;gob&#39;)\r\n    (1, &#39;hob&#39;)\r\n    (1, &#39;jab&#39;)\r\n    (1, &#39;jib&#39;)\r\n    (1, &#39;jobs&#39;)\r\n    (1, &#39;jog&#39;)\r\n    (1, &#39;jot&#39;)\r\n    (1, &#39;joy&#39;)\r\n    (1, &#39;lob&#39;)\r\n    (1, &#39;mob&#39;)\r\n    (1, &#39;rob&#39;)\r\n    (1, &#39;sob&#39;)\r\n    ...\r\n\r\n    Enter a word : checker\r\n    (0, &#39;checker&#39;)\r\n    (1, &#39;checked&#39;)\r\n    (1, &#39;checkers&#39;)\r\n    (2, &#39;Becker&#39;)\r\n    (2, &#39;Decker&#39;)\r\n    (2, &#39;cheaper&#39;)\r\n    (2, &#39;cheater&#39;)\r\n    (2, &#39;check&#39;)\r\n    (2, &quot;check&#39;s&quot;)\r\n    (2, &quot;checker&#39;s&quot;)\r\n    (2, &#39;checkered&#39;)\r\n    (2, &#39;checks&#39;)\r\n    (2, &#39;checkup&#39;)\r\n    (2, &#39;cheeked&#39;)\r\n    (2, &#39;cheekier&#39;)\r\n    (2, &#39;cheer&#39;)\r\n    (2, &#39;chewer&#39;)\r\n    (2, &#39;chewier&#39;)\r\n    (2, &#39;chicer&#39;)\r\n    (2, &#39;chicken&#39;)\r\n    (2, &#39;chocked&#39;)\r\n    (2, &#39;choker&#39;)\r\n    (2, &#39;chucked&#39;)\r\n    (2, &#39;cracker&#39;)\r\n    (2, &#39;hacker&#39;)\r\n    (2, &#39;heckler&#39;)\r\n    (2, &#39;shocker&#39;)\r\n    (2, &#39;thicker&#39;)\r\n    (2, &#39;wrecker&#39;)\r\n\r\n\r\n","title":"Improving search result using Levenshtein distance in Java","body":"<p>I tried the suggestion from the comments about sorting the matches by the distance returned by Levenshtein algo, and it seems it does produce better results.</p>\n\n<p>(As I could not find how I could not find the Searcher class from your code, I took the liberty of using a different source of wordlist, Levenshtein implementation, and language.)</p>\n\n<p>Using the word list provided in Ubuntu, and Levenshtein algo implementation from - <a href=\"https://github.com/ztane/python-Levenshtein\" rel=\"nofollow noreferrer\">https://github.com/ztane/python-Levenshtein</a>,\nI created a small script that asks for a word and prints all closest words and distance as tuple.</p>\n\n<p>Code - <a href=\"https://gist.github.com/atdaemon/9f59ad886c35024bdd28\" rel=\"nofollow noreferrer\">https://gist.github.com/atdaemon/9f59ad886c35024bdd28</a></p>\n\n<pre><code>from Levenshtein import distance\nimport os\n\ndef read_dict() :\n    with open('/usr/share/dict/words','r') as f : \n        for line in f :\n            yield str(line).strip()\n\ninp = str(raw_input('Enter a word : '))\n\nwordlist = read_dict()\nmatches = []\nfor word in wordlist :\n    dist = distance(inp,word)\n    if dist &lt; 3 :\n        matches.append((dist,word))\nprint os.linesep.join(map(str,sorted(matches)))\n</code></pre>\n\n<p>Sample output - </p>\n\n<pre><code>Enter a word : job\n(0, 'job')\n(1, 'Bob')\n(1, 'Job')\n(1, 'Rob')\n(1, 'bob')\n(1, 'cob')\n(1, 'fob')\n(1, 'gob')\n(1, 'hob')\n(1, 'jab')\n(1, 'jib')\n(1, 'jobs')\n(1, 'jog')\n(1, 'jot')\n(1, 'joy')\n(1, 'lob')\n(1, 'mob')\n(1, 'rob')\n(1, 'sob')\n...\n\nEnter a word : checker\n(0, 'checker')\n(1, 'checked')\n(1, 'checkers')\n(2, 'Becker')\n(2, 'Decker')\n(2, 'cheaper')\n(2, 'cheater')\n(2, 'check')\n(2, \"check's\")\n(2, \"checker's\")\n(2, 'checkered')\n(2, 'checks')\n(2, 'checkup')\n(2, 'cheeked')\n(2, 'cheekier')\n(2, 'cheer')\n(2, 'chewer')\n(2, 'chewier')\n(2, 'chicer')\n(2, 'chicken')\n(2, 'chocked')\n(2, 'choker')\n(2, 'chucked')\n(2, 'cracker')\n(2, 'hacker')\n(2, 'heckler')\n(2, 'shocker')\n(2, 'thicker')\n(2, 'wrecker')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4787547,"reputation":5568,"user_id":3867574,"accept_rate":43,"display_name":"Serg M Ten"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1483715537,"creation_date":1483460124,"answer_id":41447725,"question_id":33722217,"body_markdown":"Without understanding the meaning of the words like @DrYap suggests, the next logical unit to compare two words (if you are not looking for misspellings) is syllables. It is very easy to modify Levenshtein to compare syllables instead of characters. The hard part is breaking the words into syllables. There is a Java implementation [TeXHyphenator-J][1] which can be used to split the words. Based on this hyphenation library, here is a modified version of Levenshtein function written by [Michael Gilleland &amp; Chas Emerick][2]. More about syllable detection [here][3] and [here][4]. Of course, you&#39;ll want to avoid syllable comparison of two single syllable words probably handling this case with standard Levenshtein.\r\n\r\n    import net.davidashen.text.Hyphenator;\r\n    \r\n    public class WordDistance {\r\n    \r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \t\tHyphenator h = new Hyphenator();\r\n    \t\th.loadTable(WordDistance.class.getResourceAsStream(&quot;hyphen.tex&quot;));\r\n    \t\tgetSyllableLevenshteinDistance(h, args[0], args[1]);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * &lt;p&gt;\r\n    \t * Calculate Syllable Levenshtein distance between two words &lt;/p&gt;\r\n    \t * The Syllable Levenshtein distance is defined as the minimal number of\r\n    \t * case-insensitive syllables you have to replace, insert or delete to transform word1 into word2.\r\n    \t * @return int\r\n    \t * @throws IllegalArgumentException if either str1 or str2 is &lt;b&gt;null&lt;/b&gt;\r\n         */\r\n    \tpublic static int getSyllableLevenshteinDistance(Hyphenator h, String s, String t) {\r\n    \t\tif (s == null || t == null)\r\n    \t\t\tthrow new NullPointerException(&quot;Strings must not be null&quot;);\r\n    \r\n    \t\tfinal String hyphen = Character.toString((char) 173);\r\n    \t\tfinal String[] ss = h.hyphenate(s).split(hyphen);\r\n    \t\tfinal String[] st = h.hyphenate(t).split(hyphen);\r\n    \r\n    \t\tfinal int n = ss.length;\r\n    \t\tfinal int m = st.length;\r\n    \r\n    \t\tif (n == 0)\r\n    \t\t\treturn m;\r\n    \t\telse if (m == 0)\r\n    \t\t\treturn n;\r\n    \r\n    \t\tint p[] = new int[n + 1]; // &#39;previous&#39; cost array, horizontally\r\n    \t\tint d[] = new int[n + 1]; // cost array, horizontally\r\n    \r\n    \t\tfor (int i = 0; i &lt;= n; i++)\r\n    \t\t\tp[i] = i;\r\n    \r\n    \t\tfor (int j = 1; j &lt;= m; j++) {\r\n    \t\t\td[0] = j;\r\n    \t\t\tfor (int i = 1; i &lt;= n; i++) {\r\n    \t\t\t\tint cost = ss[i - 1].equalsIgnoreCase(st[j - 1]) ? 0 : 1;\r\n    \t\t\t\t// minimum of cell to the left+1, to the top+1, diagonally left and up +cost\r\n    \t\t\t\td[i] = Math.min(Math.min(d[i - 1] + 1, p[i] + 1), p[i - 1] + cost);\r\n    \t\t\t}\r\n    \t\t\t// copy current distance counts to &#39;previous row&#39; distance counts\r\n    \t\t\tint[] _d = p;\r\n    \t\t\tp = d;\r\n    \t\t\td = _d;\r\n    \t\t}\r\n    \r\n    \t\t// our last action in the above loop was to switch d and p, so p now actually has the most recent cost counts\r\n    \t\treturn p[n];\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://sourceforge.net/projects/texhyphj/\r\n  [2]: http://www.merriampark.com/ldjava.htm\r\n  [3]: https://stackoverflow.com/questions/405161/detecting-syllables-in-a-word\r\n  [4]: https://stackoverflow.com/questions/9096228/counting-syllables-in-a-word\r\n","title":"Improving search result using Levenshtein distance in Java","body":"<p>Without understanding the meaning of the words like @DrYap suggests, the next logical unit to compare two words (if you are not looking for misspellings) is syllables. It is very easy to modify Levenshtein to compare syllables instead of characters. The hard part is breaking the words into syllables. There is a Java implementation <a href=\"https://sourceforge.net/projects/texhyphj/\" rel=\"nofollow noreferrer\">TeXHyphenator-J</a> which can be used to split the words. Based on this hyphenation library, here is a modified version of Levenshtein function written by <a href=\"http://www.merriampark.com/ldjava.htm\" rel=\"nofollow noreferrer\">Michael Gilleland &amp; Chas Emerick</a>. More about syllable detection <a href=\"https://stackoverflow.com/questions/405161/detecting-syllables-in-a-word\">here</a> and <a href=\"https://stackoverflow.com/questions/9096228/counting-syllables-in-a-word\">here</a>. Of course, you'll want to avoid syllable comparison of two single syllable words probably handling this case with standard Levenshtein.</p>\n\n<pre><code>import net.davidashen.text.Hyphenator;\n\npublic class WordDistance {\n\n    public static void main(String args[]) throws Exception {\n        Hyphenator h = new Hyphenator();\n        h.loadTable(WordDistance.class.getResourceAsStream(\"hyphen.tex\"));\n        getSyllableLevenshteinDistance(h, args[0], args[1]);\n    }\n\n    /**\n     * &lt;p&gt;\n     * Calculate Syllable Levenshtein distance between two words &lt;/p&gt;\n     * The Syllable Levenshtein distance is defined as the minimal number of\n     * case-insensitive syllables you have to replace, insert or delete to transform word1 into word2.\n     * @return int\n     * @throws IllegalArgumentException if either str1 or str2 is &lt;b&gt;null&lt;/b&gt;\n     */\n    public static int getSyllableLevenshteinDistance(Hyphenator h, String s, String t) {\n        if (s == null || t == null)\n            throw new NullPointerException(\"Strings must not be null\");\n\n        final String hyphen = Character.toString((char) 173);\n        final String[] ss = h.hyphenate(s).split(hyphen);\n        final String[] st = h.hyphenate(t).split(hyphen);\n\n        final int n = ss.length;\n        final int m = st.length;\n\n        if (n == 0)\n            return m;\n        else if (m == 0)\n            return n;\n\n        int p[] = new int[n + 1]; // 'previous' cost array, horizontally\n        int d[] = new int[n + 1]; // cost array, horizontally\n\n        for (int i = 0; i &lt;= n; i++)\n            p[i] = i;\n\n        for (int j = 1; j &lt;= m; j++) {\n            d[0] = j;\n            for (int i = 1; i &lt;= n; i++) {\n                int cost = ss[i - 1].equalsIgnoreCase(st[j - 1]) ? 0 : 1;\n                // minimum of cell to the left+1, to the top+1, diagonally left and up +cost\n                d[i] = Math.min(Math.min(d[i - 1] + 1, p[i] + 1), p[i - 1] + cost);\n            }\n            // copy current distance counts to 'previous row' distance counts\n            int[] _d = p;\n            p = d;\n            d = _d;\n        }\n\n        // our last action in the above loop was to switch d and p, so p now actually has the most recent cost counts\n        return p[n];\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3538073,"reputation":1826,"user_id":2955869,"display_name":"uSeemSurprised"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1483586120,"creation_date":1483537483,"answer_id":41465315,"question_id":33722217,"body_markdown":"You can modify Levenshtein Distance by adjusting the scoring when consecutive characters match.\r\n\r\nWhenever there are consecutive characters that match, the score can then be reduced thus making the search more relevent.\r\n\r\neg : Lets say the factor by which we want to reduce score by is 10 then if in a word we find the substring &quot;job&quot; we can reduce the score by 10 when we encounter &quot;j&quot; furthur reduce it by (10 + 20) when we find the string &quot;jo&quot; and finally reduce the score by (10 + 20 + 30) when we find &quot;job&quot;.\r\n\r\nI have written a c++ code below : \r\n\r\n    #include &lt;bits/stdc++.h&gt;\r\n    \r\n    #define INF -10000000\r\n    #define FACTOR 10\r\n    \r\n    using namespace std;\r\n    \r\n    double memo[100][100][100];\r\n    \r\n    double Levenshtein(string inputWord, string checkWord, int i, int j, int count){\r\n    \tif(i == inputWord.length() &amp;&amp; j == checkWord.length()) return 0;\t\r\n    \tif(i == inputWord.length()) return checkWord.length() - j;\r\n    \tif(j == checkWord.length()) return inputWord.length() - i;\r\n    \tif(memo[i][j][count] != INF) return memo[i][j][count];\r\n    \t\r\n    \tdouble ans1 = 0, ans2 = 0, ans3 = 0, ans = 0;\r\n    \tif(inputWord[i] == checkWord[j]){\r\n    \t\tans1 = Levenshtein(inputWord, checkWord, i+1, j+1, count+1) - (FACTOR*(count+1));\r\n    \t\tans2 = Levenshtein(inputWord, checkWord, i+1, j, 0) + 1;\r\n    \t\tans3 = Levenshtein(inputWord, checkWord, i, j+1, 0) + 1;\r\n    \t\tans = min(ans1, min(ans2, ans3));\r\n    \t}else{\r\n    \t\tans1 = Levenshtein(inputWord, checkWord, i+1, j, 0) + 1;\r\n    \t\tans2 = Levenshtein(inputWord, checkWord, i, j+1, 0) + 1;\r\n    \t\tans = min(ans1, ans2);\r\n    \t}\r\n    \treturn memo[i][j][count] = ans;\r\n    }\r\n    \r\n    int main(void) {\r\n    \t// your code goes here\r\n    \tstring word = &quot;job&quot;;\r\n    \tstring wordList[40];\r\n    \tvector&lt; pair &lt;double, string&gt; &gt; ans;\r\n    \tfor(int i = 0;i &lt; 40;i++){\r\n    \t\tcin &gt;&gt; wordList[i];\r\n    \t\tfor(int j = 0;j &lt; 100;j++) for(int k = 0;k &lt; 100;k++){\r\n    \t\t\tfor(int m = 0;m &lt; 100;m++) memo[j][k][m] = INF;\r\n    \t\t}\r\n    \t\tans.push_back( make_pair(Levenshtein(word, wordList[i], \r\n    \t\t\t0, 0, 0), wordList[i]) );\r\n    \t}\r\n    \tsort(ans.begin(), ans.end());\r\n    \tfor(int i = 0;i &lt; ans.size();i++){\r\n    \t\tcout &lt;&lt; ans[i].second &lt;&lt; &quot; &quot; &lt;&lt; ans[i].first &lt;&lt; endl;\r\n    \t}\r\n    \treturn 0;\r\n    }\r\n\r\nLink to demo : http://ideone.com/4UtCX3\r\n\r\nHere the FACTOR is taken as 10, you can experiment with other words and choose the appropriate value.\r\n\r\nAlso note that the complexity of the above Levenshtein Distance has also increased, it is now `O(n^3)` instead of `O(n^2)` as now we are also keeping track of the counter that counts how many consecutive characters we have encountered.\r\n\r\nYou can further play with the score by increasing it gradually after you find some consecutive substring and then a mismatch, instead of the current way where we have a fixed score of 1 that is added to the overall score.\r\n\r\nAlso in the above solution you can remove the strings that have score &gt;=0 as they are not at all releavent you can also choose some other threshold for that to have a more accurate search.\r\n","title":"Improving search result using Levenshtein distance in Java","body":"<p>You can modify Levenshtein Distance by adjusting the scoring when consecutive characters match.</p>\n\n<p>Whenever there are consecutive characters that match, the score can then be reduced thus making the search more relevent.</p>\n\n<p>eg : Lets say the factor by which we want to reduce score by is 10 then if in a word we find the substring \"job\" we can reduce the score by 10 when we encounter \"j\" furthur reduce it by (10 + 20) when we find the string \"jo\" and finally reduce the score by (10 + 20 + 30) when we find \"job\".</p>\n\n<p>I have written a c++ code below : </p>\n\n<pre><code>#include &lt;bits/stdc++.h&gt;\n\n#define INF -10000000\n#define FACTOR 10\n\nusing namespace std;\n\ndouble memo[100][100][100];\n\ndouble Levenshtein(string inputWord, string checkWord, int i, int j, int count){\n    if(i == inputWord.length() &amp;&amp; j == checkWord.length()) return 0;    \n    if(i == inputWord.length()) return checkWord.length() - j;\n    if(j == checkWord.length()) return inputWord.length() - i;\n    if(memo[i][j][count] != INF) return memo[i][j][count];\n\n    double ans1 = 0, ans2 = 0, ans3 = 0, ans = 0;\n    if(inputWord[i] == checkWord[j]){\n        ans1 = Levenshtein(inputWord, checkWord, i+1, j+1, count+1) - (FACTOR*(count+1));\n        ans2 = Levenshtein(inputWord, checkWord, i+1, j, 0) + 1;\n        ans3 = Levenshtein(inputWord, checkWord, i, j+1, 0) + 1;\n        ans = min(ans1, min(ans2, ans3));\n    }else{\n        ans1 = Levenshtein(inputWord, checkWord, i+1, j, 0) + 1;\n        ans2 = Levenshtein(inputWord, checkWord, i, j+1, 0) + 1;\n        ans = min(ans1, ans2);\n    }\n    return memo[i][j][count] = ans;\n}\n\nint main(void) {\n    // your code goes here\n    string word = \"job\";\n    string wordList[40];\n    vector&lt; pair &lt;double, string&gt; &gt; ans;\n    for(int i = 0;i &lt; 40;i++){\n        cin &gt;&gt; wordList[i];\n        for(int j = 0;j &lt; 100;j++) for(int k = 0;k &lt; 100;k++){\n            for(int m = 0;m &lt; 100;m++) memo[j][k][m] = INF;\n        }\n        ans.push_back( make_pair(Levenshtein(word, wordList[i], \n            0, 0, 0), wordList[i]) );\n    }\n    sort(ans.begin(), ans.end());\n    for(int i = 0;i &lt; ans.size();i++){\n        cout &lt;&lt; ans[i].second &lt;&lt; \" \" &lt;&lt; ans[i].first &lt;&lt; endl;\n    }\n    return 0;\n}\n</code></pre>\n\n<p>Link to demo : <a href=\"http://ideone.com/4UtCX3\" rel=\"noreferrer\">http://ideone.com/4UtCX3</a></p>\n\n<p>Here the FACTOR is taken as 10, you can experiment with other words and choose the appropriate value.</p>\n\n<p>Also note that the complexity of the above Levenshtein Distance has also increased, it is now <code>O(n^3)</code> instead of <code>O(n^2)</code> as now we are also keeping track of the counter that counts how many consecutive characters we have encountered.</p>\n\n<p>You can further play with the score by increasing it gradually after you find some consecutive substring and then a mismatch, instead of the current way where we have a fixed score of 1 that is added to the overall score.</p>\n\n<p>Also in the above solution you can remove the strings that have score >=0 as they are not at all releavent you can also choose some other threshold for that to have a more accurate search.</p>\n"},{"tags":[],"owner":{"account_id":6797889,"reputation":1242,"user_id":5471574,"accept_rate":100,"display_name":"D. Kov&#225;cs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483611619,"creation_date":1483611619,"answer_id":41482427,"question_id":33722217,"body_markdown":"This really is an open-ended question, but I would suggest an alternative approach which uses for example the [Smith-Waterman algorithm][1] as described in [this SO][2].\r\n\r\nAnother (more light-weight) solution would be to use other distance/similarity  metrics from NLP (e.g., [Cosine similarity][3] or [Damerau–Levenshtein distance][4]).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Smith%E2%80%93Waterman_algorithm\r\n  [2]: https://stackoverflow.com/questions/41096810/removing-similar-elements-from-array\r\n  [3]: https://en.wikipedia.org/wiki/Cosine_similarity#Soft_cosine_measure\r\n  [4]: https://en.wikipedia.org/wiki/Damerau%E2%80%93Levenshtein_distance","title":"Improving search result using Levenshtein distance in Java","body":"<p>This really is an open-ended question, but I would suggest an alternative approach which uses for example the <a href=\"https://en.wikipedia.org/wiki/Smith%E2%80%93Waterman_algorithm\" rel=\"nofollow noreferrer\">Smith-Waterman algorithm</a> as described in <a href=\"https://stackoverflow.com/questions/41096810/removing-similar-elements-from-array\">this SO</a>.</p>\n\n<p>Another (more light-weight) solution would be to use other distance/similarity  metrics from NLP (e.g., <a href=\"https://en.wikipedia.org/wiki/Cosine_similarity#Soft_cosine_measure\" rel=\"nofollow noreferrer\">Cosine similarity</a> or <a href=\"https://en.wikipedia.org/wiki/Damerau%E2%80%93Levenshtein_distance\" rel=\"nofollow noreferrer\">Damerau–Levenshtein distance</a>).</p>\n"},{"tags":[],"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1483681287,"creation_date":1483671380,"answer_id":41498206,"question_id":33722217,"body_markdown":"Since you asked, I&#39;ll show how the [UMBC semantic network][1] can do at this kind of thing. Not sure it&#39;s what you really want:\r\n\r\n    import static java.lang.String.format;\r\n    import static java.util.Comparator.comparingDouble;\r\n    import static java.util.stream.Collectors.toMap;\r\n    import static java.util.function.Function.identity;\r\n    \r\n    import java.util.Map.Entry;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    import java.util.Arrays;\r\n    import java.util.regex.Pattern;\r\n\r\n    public class SemanticSimilarity {\r\n      private static final String GET_URL_FORMAT\r\n          = &quot;http://swoogle.umbc.edu/SimService/GetSimilarity?&quot;\r\n              + &quot;operation=api&amp;phrase1=%s&amp;phrase2=%s&quot;;\r\n      private static final Pattern VALID_WORD_PATTERN = Pattern.compile(&quot;\\\\w+&quot;);\r\n      private static final String[] DICT = {\r\n        &quot;cat&quot;,\r\n        &quot;building&quot;,\r\n        &quot;girl&quot;,\r\n        &quot;ranch&quot;,\r\n        &quot;drawing&quot;,\r\n        &quot;wool&quot;,\r\n        &quot;gear&quot;,\r\n        &quot;question&quot;,\r\n        &quot;information&quot;,\r\n        &quot;tank&quot; \r\n      };\r\n\r\n      public static String httpGetLine(String urlToRead) throws IOException {\r\n        URL url = new URL(urlToRead);\r\n        HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n        conn.setRequestMethod(&quot;GET&quot;);\r\n        try (BufferedReader reader = new BufferedReader(\r\n            new InputStreamReader(conn.getInputStream()))) {\r\n          return reader.readLine();\r\n        }\r\n      }\r\n\r\n      public static double getSimilarity(String a, String b) {\r\n        if (!VALID_WORD_PATTERN.matcher(a).matches()\r\n            || !VALID_WORD_PATTERN.matcher(b).matches()) {\r\n          throw new RuntimeException(&quot;Bad word&quot;);\r\n        }\r\n        try {\r\n          return Double.parseDouble(httpGetLine(format(GET_URL_FORMAT, a, b)));\r\n        } catch (IOException | NumberFormatException ex) {\r\n          return -1.0;\r\n        }\r\n      }\r\n\r\n      public static void test(String target) throws IOException {\r\n        System.out.println(&quot;Target: &quot; + target);\r\n        Arrays.stream(DICT)\r\n            .collect(toMap(identity(), word -&gt; getSimilarity(target, word)))\r\n            .entrySet().stream()\r\n            .sorted((a, b) -&gt; Double.compare(b.getValue(), a.getValue()))\r\n            .forEach(System.out::println);\r\n        System.out.println();\r\n      }\r\n\r\n      public static void main(String[] args) throws Exception {\r\n        test(&quot;sheep&quot;);\r\n        test(&quot;vehicle&quot;);\r\n        test(&quot;house&quot;);\r\n        test(&quot;data&quot;);\r\n        test(&quot;girlfriend&quot;);\r\n      }\r\n    }\r\n\r\nThe results are kind of fascinating:\r\n\r\n    Target: sheep\r\n    ranch=0.38563728\r\n    cat=0.37816614\r\n    wool=0.36558008\r\n    question=0.047607\r\n    girl=0.0388761\r\n    information=0.027191084\r\n    drawing=0.0039623436\r\n    tank=0.0\r\n    building=0.0\r\n    gear=0.0\r\n\r\n    Target: vehicle\r\n    tank=0.65860236\r\n    gear=0.2673374\r\n    building=0.20197356\r\n    cat=0.06057514\r\n    information=0.041832563\r\n    ranch=0.017701812\r\n    question=0.017145569\r\n    girl=0.010708235\r\n    wool=0.0\r\n    drawing=0.0\r\n\r\n    Target: house\r\n    building=1.0\r\n    ranch=0.104496084\r\n    tank=0.103863\r\n    wool=0.059761923\r\n    girl=0.056549154\r\n    drawing=0.04310725\r\n    cat=0.0418914\r\n    gear=0.026439993\r\n    information=0.020329408\r\n    question=0.0012588014\r\n\r\n    Target: data\r\n    information=0.9924584\r\n    question=0.03476312\r\n    gear=0.029112043\r\n    wool=0.019744944\r\n    tank=0.014537057\r\n    drawing=0.013742204\r\n    ranch=0.0\r\n    cat=0.0\r\n    girl=0.0\r\n    building=0.0\r\n  \r\n    Target: girlfriend\r\n    girl=0.70060706\r\n    ranch=0.11062875\r\n    cat=0.09766617\r\n    gear=0.04835723\r\n    information=0.02449007\r\n    wool=0.0\r\n    question=0.0\r\n    drawing=0.0\r\n    tank=0.0\r\n    building=0.0\r\n\r\n\r\n  [1]: http://swoogle.umbc.edu/SimService/index.html","title":"Improving search result using Levenshtein distance in Java","body":"<p>Since you asked, I'll show how the <a href=\"http://swoogle.umbc.edu/SimService/index.html\" rel=\"nofollow noreferrer\">UMBC semantic network</a> can do at this kind of thing. Not sure it's what you really want:</p>\n\n<pre><code>import static java.lang.String.format;\nimport static java.util.Comparator.comparingDouble;\nimport static java.util.stream.Collectors.toMap;\nimport static java.util.function.Function.identity;\n\nimport java.util.Map.Entry;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.Arrays;\nimport java.util.regex.Pattern;\n\npublic class SemanticSimilarity {\n  private static final String GET_URL_FORMAT\n      = \"http://swoogle.umbc.edu/SimService/GetSimilarity?\"\n          + \"operation=api&amp;phrase1=%s&amp;phrase2=%s\";\n  private static final Pattern VALID_WORD_PATTERN = Pattern.compile(\"\\\\w+\");\n  private static final String[] DICT = {\n    \"cat\",\n    \"building\",\n    \"girl\",\n    \"ranch\",\n    \"drawing\",\n    \"wool\",\n    \"gear\",\n    \"question\",\n    \"information\",\n    \"tank\" \n  };\n\n  public static String httpGetLine(String urlToRead) throws IOException {\n    URL url = new URL(urlToRead);\n    HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n    conn.setRequestMethod(\"GET\");\n    try (BufferedReader reader = new BufferedReader(\n        new InputStreamReader(conn.getInputStream()))) {\n      return reader.readLine();\n    }\n  }\n\n  public static double getSimilarity(String a, String b) {\n    if (!VALID_WORD_PATTERN.matcher(a).matches()\n        || !VALID_WORD_PATTERN.matcher(b).matches()) {\n      throw new RuntimeException(\"Bad word\");\n    }\n    try {\n      return Double.parseDouble(httpGetLine(format(GET_URL_FORMAT, a, b)));\n    } catch (IOException | NumberFormatException ex) {\n      return -1.0;\n    }\n  }\n\n  public static void test(String target) throws IOException {\n    System.out.println(\"Target: \" + target);\n    Arrays.stream(DICT)\n        .collect(toMap(identity(), word -&gt; getSimilarity(target, word)))\n        .entrySet().stream()\n        .sorted((a, b) -&gt; Double.compare(b.getValue(), a.getValue()))\n        .forEach(System.out::println);\n    System.out.println();\n  }\n\n  public static void main(String[] args) throws Exception {\n    test(\"sheep\");\n    test(\"vehicle\");\n    test(\"house\");\n    test(\"data\");\n    test(\"girlfriend\");\n  }\n}\n</code></pre>\n\n<p>The results are kind of fascinating:</p>\n\n<pre><code>Target: sheep\nranch=0.38563728\ncat=0.37816614\nwool=0.36558008\nquestion=0.047607\ngirl=0.0388761\ninformation=0.027191084\ndrawing=0.0039623436\ntank=0.0\nbuilding=0.0\ngear=0.0\n\nTarget: vehicle\ntank=0.65860236\ngear=0.2673374\nbuilding=0.20197356\ncat=0.06057514\ninformation=0.041832563\nranch=0.017701812\nquestion=0.017145569\ngirl=0.010708235\nwool=0.0\ndrawing=0.0\n\nTarget: house\nbuilding=1.0\nranch=0.104496084\ntank=0.103863\nwool=0.059761923\ngirl=0.056549154\ndrawing=0.04310725\ncat=0.0418914\ngear=0.026439993\ninformation=0.020329408\nquestion=0.0012588014\n\nTarget: data\ninformation=0.9924584\nquestion=0.03476312\ngear=0.029112043\nwool=0.019744944\ntank=0.014537057\ndrawing=0.013742204\nranch=0.0\ncat=0.0\ngirl=0.0\nbuilding=0.0\n\nTarget: girlfriend\ngirl=0.70060706\nranch=0.11062875\ncat=0.09766617\ngear=0.04835723\ninformation=0.02449007\nwool=0.0\nquestion=0.0\ndrawing=0.0\ntank=0.0\nbuilding=0.0\n</code></pre>\n"}],"owner":{"account_id":3711000,"reputation":31781,"user_id":3088349,"accept_rate":100,"display_name":"Maytham Fahmi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5744,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":41447725,"answer_count":5,"score":32,"last_activity_date":1679130147,"creation_date":1447606230,"question_id":33722217,"body_markdown":"I have the following working Java code for searching for a word against a list of words and it works perfectly and as expected:\r\n\r\n    public class Levenshtein {\r\n        private int[][] wordMartix;\r\n    \r\n        public Set similarExists(String searchWord) {\r\n    \r\n            int maxDistance = searchWord.length();\r\n            int curDistance;\r\n            int sumCurMax;\r\n            String checkWord;\r\n    \r\n            // preventing double words on returning list\r\n            Set&lt;String&gt; fuzzyWordList = new HashSet&lt;&gt;();\r\n    \r\n            for (Object wordList : Searcher.wordList) {\r\n                checkWord = String.valueOf(wordList);\r\n                curDistance = calculateDistance(searchWord, checkWord);\r\n                sumCurMax = maxDistance + curDistance;\r\n                if (sumCurMax == checkWord.length()) {\r\n                    fuzzyWordList.add(checkWord);\r\n                }\r\n            }\r\n            return fuzzyWordList;\r\n        }\r\n    \r\n        public int calculateDistance(String inputWord, String checkWord) {\r\n            wordMartix = new int[inputWord.length() + 1][checkWord.length() + 1];\r\n    \r\n            for (int i = 0; i &lt;= inputWord.length(); i++) {\r\n                wordMartix[i][0] = i;\r\n            }\r\n    \r\n            for (int j = 0; j &lt;= checkWord.length(); j++) {\r\n                wordMartix[0][j] = j;\r\n            }\r\n    \r\n            for (int i = 1; i &lt; wordMartix.length; i++) {\r\n                for (int j = 1; j &lt; wordMartix[i].length; j++) {\r\n                    if (inputWord.charAt(i - 1) == checkWord.charAt(j - 1)) {\r\n                        wordMartix[i][j] = wordMartix[i - 1][j - 1];\r\n                    } else {\r\n                        int minimum = Integer.MAX_VALUE;\r\n                        if ((wordMartix[i - 1][j]) + 1 &lt; minimum) {\r\n                            minimum = (wordMartix[i - 1][j]) + 1;\r\n                        }\r\n    \r\n                        if ((wordMartix[i][j - 1]) + 1 &lt; minimum) {\r\n                            minimum = (wordMartix[i][j - 1]) + 1;\r\n                        }\r\n    \r\n                        if ((wordMartix[i - 1][j - 1]) + 1 &lt; minimum) {\r\n                            minimum = (wordMartix[i - 1][j - 1]) + 1;\r\n                        }\r\n    \r\n                        wordMartix[i][j] = minimum;\r\n                    }\r\n                }\r\n            }\r\n    \r\n            return wordMartix[inputWord.length()][checkWord.length()];\r\n        }\r\n    \r\n    }\r\n\r\nRight now when I search for a word like `job` it returns a list:\r\n\r\n**Output**\r\n\r\n    joborienterede\r\n    jobannoncer\r\n    jobfunktioner\r\n    perjacobsen\r\n    jakobsen\r\n    jobprofiler\r\n    jacob\r\n    jobtitler\r\n    jobbet\r\n    jobdatabaserne\r\n    jobfunktion\r\n    jakob\r\n    jobs\r\n    studenterjobber\r\n    johannesburg\r\n    jobmuligheder\r\n    jobannoncerne\r\n    jobbaser\r\n    job\r\n    joberfaringer\r\n\r\nAs you can see the output has a lot of related words but has also non-related ones like `jakob`, `jacob` etc., which is correct regarding the Levenshtein formula, but I would like to build further and write a method that can fine-tune my search so I can get more relevant and related words.\r\n\r\nI have worked a few hours on it and lost sight of creativity.\r\n\r\n**My Question:** Is it possible to fine-tune the existing method to return relevant/related words Or should I take another approach Or??? in all cases YES or NO, I appreciated it if can get input and inspiration regarding improving searching results.\r\n\r\n&lt;hr&gt;\r\n\r\n**UPDATE**\r\n\r\nAfter asking this question a long time back I have not really found a solution and I am back to it because it is the time when I need a useful answer, **it is fine to supply the answer with JAVA code samples, but what is most important is a detailed answer with a description of available methods and approaches used to index best and most relevant search results and ignoring none appropriate words**. I know this is an open and endless area, but I need the inspiration to start somewhere.\r\n\r\n&gt; Note: The oldest answer right now is based on one of the comment inputs and is\r\n&gt; not helpful (useless), it just sorts the distance, which does not mean getting better search results/quality.\r\n\r\nSo I did distance sorting and the results was like this:\r\n\r\n    job\r\n    jobs\r\n    jacob\r\n    jakob\r\n    jobbet\r\n    jakobsen\r\n    jobbaser\r\n    jobtitler\r\n    jobannoncer\r\n    jobfunktion\r\n    jobprofiler\r\n    perjacobsen\r\n    johannesburg\r\n    jobannoncerne\r\n    joberfaringer\r\n    jobfunktioner\r\n    jobmuligheder\r\n    jobdatabaserne\r\n    joborienterede\r\n    studenterjobber\r\n\r\nso the word jobbaser is relevant and jacob/jakob is not relevant, but the distance for jobbaser is more considerable than jacob/jakob. So that did not really help.\r\n\r\n&lt;hr&gt;\r\n\r\n**General feedback regarding answers**\r\n\r\n- @SergioMontoro, it solves almost the problem.\r\n- @uSeemSurprised, it solves the problem but needs continual manipulation.\r\n- @Gene concept is excellent, but it is relaying on an external URL.\r\n\r\n&lt;hr&gt;\r\n\r\n**Thanks**\r\nI would like to personally thank all of you who contributed to this question, I have got nice answers and useful comments. \r\n\r\nSpecial thanks to answers from @SergioMontoro, @uSeemSurprised, and @Gene, those are different but valid and useful answers.\r\n\r\n@D.Kov&#225;cs is pointing out some interesting solutions.\r\n\r\nI wish I could give a bounty to all of those answers.\r\nChose one answer and give it a bounty, that does not mean the other answers are not valid, but that only means that the particular answer I chose was useful for me.\r\n\r\n\r\n","title":"Improving search result using Levenshtein distance in Java","body":"<p>I have the following working Java code for searching for a word against a list of words and it works perfectly and as expected:</p>\n<pre><code>public class Levenshtein {\n    private int[][] wordMartix;\n\n    public Set similarExists(String searchWord) {\n\n        int maxDistance = searchWord.length();\n        int curDistance;\n        int sumCurMax;\n        String checkWord;\n\n        // preventing double words on returning list\n        Set&lt;String&gt; fuzzyWordList = new HashSet&lt;&gt;();\n\n        for (Object wordList : Searcher.wordList) {\n            checkWord = String.valueOf(wordList);\n            curDistance = calculateDistance(searchWord, checkWord);\n            sumCurMax = maxDistance + curDistance;\n            if (sumCurMax == checkWord.length()) {\n                fuzzyWordList.add(checkWord);\n            }\n        }\n        return fuzzyWordList;\n    }\n\n    public int calculateDistance(String inputWord, String checkWord) {\n        wordMartix = new int[inputWord.length() + 1][checkWord.length() + 1];\n\n        for (int i = 0; i &lt;= inputWord.length(); i++) {\n            wordMartix[i][0] = i;\n        }\n\n        for (int j = 0; j &lt;= checkWord.length(); j++) {\n            wordMartix[0][j] = j;\n        }\n\n        for (int i = 1; i &lt; wordMartix.length; i++) {\n            for (int j = 1; j &lt; wordMartix[i].length; j++) {\n                if (inputWord.charAt(i - 1) == checkWord.charAt(j - 1)) {\n                    wordMartix[i][j] = wordMartix[i - 1][j - 1];\n                } else {\n                    int minimum = Integer.MAX_VALUE;\n                    if ((wordMartix[i - 1][j]) + 1 &lt; minimum) {\n                        minimum = (wordMartix[i - 1][j]) + 1;\n                    }\n\n                    if ((wordMartix[i][j - 1]) + 1 &lt; minimum) {\n                        minimum = (wordMartix[i][j - 1]) + 1;\n                    }\n\n                    if ((wordMartix[i - 1][j - 1]) + 1 &lt; minimum) {\n                        minimum = (wordMartix[i - 1][j - 1]) + 1;\n                    }\n\n                    wordMartix[i][j] = minimum;\n                }\n            }\n        }\n\n        return wordMartix[inputWord.length()][checkWord.length()];\n    }\n\n}\n</code></pre>\n<p>Right now when I search for a word like <code>job</code> it returns a list:</p>\n<p><strong>Output</strong></p>\n<pre><code>joborienterede\njobannoncer\njobfunktioner\nperjacobsen\njakobsen\njobprofiler\njacob\njobtitler\njobbet\njobdatabaserne\njobfunktion\njakob\njobs\nstudenterjobber\njohannesburg\njobmuligheder\njobannoncerne\njobbaser\njob\njoberfaringer\n</code></pre>\n<p>As you can see the output has a lot of related words but has also non-related ones like <code>jakob</code>, <code>jacob</code> etc., which is correct regarding the Levenshtein formula, but I would like to build further and write a method that can fine-tune my search so I can get more relevant and related words.</p>\n<p>I have worked a few hours on it and lost sight of creativity.</p>\n<p><strong>My Question:</strong> Is it possible to fine-tune the existing method to return relevant/related words Or should I take another approach Or??? in all cases YES or NO, I appreciated it if can get input and inspiration regarding improving searching results.</p>\n<hr>\n<p><strong>UPDATE</strong></p>\n<p>After asking this question a long time back I have not really found a solution and I am back to it because it is the time when I need a useful answer, <strong>it is fine to supply the answer with JAVA code samples, but what is most important is a detailed answer with a description of available methods and approaches used to index best and most relevant search results and ignoring none appropriate words</strong>. I know this is an open and endless area, but I need the inspiration to start somewhere.</p>\n<blockquote>\n<p>Note: The oldest answer right now is based on one of the comment inputs and is\nnot helpful (useless), it just sorts the distance, which does not mean getting better search results/quality.</p>\n</blockquote>\n<p>So I did distance sorting and the results was like this:</p>\n<pre><code>job\njobs\njacob\njakob\njobbet\njakobsen\njobbaser\njobtitler\njobannoncer\njobfunktion\njobprofiler\nperjacobsen\njohannesburg\njobannoncerne\njoberfaringer\njobfunktioner\njobmuligheder\njobdatabaserne\njoborienterede\nstudenterjobber\n</code></pre>\n<p>so the word jobbaser is relevant and jacob/jakob is not relevant, but the distance for jobbaser is more considerable than jacob/jakob. So that did not really help.</p>\n<hr>\n<p><strong>General feedback regarding answers</strong></p>\n<ul>\n<li>@SergioMontoro, it solves almost the problem.</li>\n<li>@uSeemSurprised, it solves the problem but needs continual manipulation.</li>\n<li>@Gene concept is excellent, but it is relaying on an external URL.</li>\n</ul>\n<hr>\n<p><strong>Thanks</strong>\nI would like to personally thank all of you who contributed to this question, I have got nice answers and useful comments.</p>\n<p>Special thanks to answers from @SergioMontoro, @uSeemSurprised, and @Gene, those are different but valid and useful answers.</p>\n<p>@D.Kovács is pointing out some interesting solutions.</p>\n<p>I wish I could give a bounty to all of those answers.\nChose one answer and give it a bounty, that does not mean the other answers are not valid, but that only means that the particular answer I chose was useful for me.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1679129352,"post_id":75774726,"comment_id":133668569,"body_markdown":"Try `.flatMap()` instead of `map`, that&#39;ll flatten the results down to just one Set of Strings","body":"Try <code>.flatMap()</code> instead of <code>map</code>, that&#39;ll flatten the results down to just one Set of Strings"},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1679129718,"post_id":75774726,"comment_id":133668615,"body_markdown":"@SIMULATAN would appreciate if you can post answer showing how?","body":"@SIMULATAN would appreciate if you can post answer showing how?"}],"answers":[{"tags":[],"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679129851,"creation_date":1679129851,"answer_id":75774802,"question_id":75774726,"body_markdown":"Try this:\r\n```java\r\ntrees.parallelStream()\r\n  .flatMap(tree -&gt; tree.getNodes().stream().map(node -&gt; node.getId() + node.getVersion()))\r\n  .collect(Collectors.toSet());\r\n```\r\n\r\nThat will flatten down the result from the `map` to have all results in one long `Set` rather than in a `Set` of `Stream`s.","title":"How could I properly Collect a Set&lt;String&gt; by using streams and map in this operation?","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>trees.parallelStream()\n  .flatMap(tree -&gt; tree.getNodes().stream().map(node -&gt; node.getId() + node.getVersion()))\n  .collect(Collectors.toSet());\n</code></pre>\n<p>That will flatten down the result from the <code>map</code> to have all results in one long <code>Set</code> rather than in a <code>Set</code> of <code>Stream</code>s.</p>\n"}],"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75774802,"answer_count":1,"score":0,"last_activity_date":1679129851,"creation_date":1679129017,"question_id":75774726,"body_markdown":"I think I can make this simplier but can not figure out how to properly use .map() here and then Collect to a Set, can you help?\r\n\r\nI am using parallel stream so that this operation is done faster, each tree has nodes but I just want all their names without repeating (using Set&lt;String&gt;)... The nodeName is composed of the id+version\r\n\r\n**My working code which correctly returns `Set&lt;String&gt;`:**\r\n\r\n\t// Set for not repeating node names between trees\r\n\tNavigableSet&lt;String&gt; nodeNames = new ConcurrentSkipListSet&lt;&gt;();\r\n\ttrees.parallelStream().forEach(\r\n\t\t\ttree -&gt; tree.getNodes().forEach(node -&gt; nodeNames.add(node.getId() + node.getVersion())));\r\n\r\n**I was trying the following to achieve .map() usage:**\r\n\r\n\t\r\n\r\n    trees.parallelStream()\r\n    \t\t\t.map(tree -&gt; tree.getNodes().stream().map(node -&gt; node.getId() + node.getVersion()))\r\n    \t\t\t.collect(Collectors.toSet());\r\n\r\nBut the collection returned is `Set&lt;Stream&lt;String&gt;&gt;`, I need `Set&lt;String&gt;`","title":"How could I properly Collect a Set&lt;String&gt; by using streams and map in this operation?","body":"<p>I think I can make this simplier but can not figure out how to properly use .map() here and then Collect to a Set, can you help?</p>\n<p>I am using parallel stream so that this operation is done faster, each tree has nodes but I just want all their names without repeating (using Set)... The nodeName is composed of the id+version</p>\n<p><strong>My working code which correctly returns <code>Set&lt;String&gt;</code>:</strong></p>\n<pre><code>// Set for not repeating node names between trees\nNavigableSet&lt;String&gt; nodeNames = new ConcurrentSkipListSet&lt;&gt;();\ntrees.parallelStream().forEach(\n        tree -&gt; tree.getNodes().forEach(node -&gt; nodeNames.add(node.getId() + node.getVersion())));\n</code></pre>\n<p><strong>I was trying the following to achieve .map() usage:</strong></p>\n<pre><code>trees.parallelStream()\n            .map(tree -&gt; tree.getNodes().stream().map(node -&gt; node.getId() + node.getVersion()))\n            .collect(Collectors.toSet());\n</code></pre>\n<p>But the collection returned is <code>Set&lt;Stream&lt;String&gt;&gt;</code>, I need <code>Set&lt;String&gt;</code></p>\n"},{"tags":["java","amazon-web-services","sdk","amazon-sqs","aws-sqs-fifo"],"owner":{"account_id":7530503,"reputation":33,"user_id":5718912,"display_name":"Keerthi Kumar S G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679129041,"creation_date":1679129041,"question_id":75774731,"body_markdown":"I&#39;m trying to migrate my codebase, from aws sqs v1 sdk to aws sqs v2 sdk. \r\n\r\nHere&#39;s my old code. \r\n```\r\nCompletableFuture&lt;String&gt; sendMessage(String url, String message){\r\n\r\n       CompletableFuture&lt;SendMessageResult&gt; future = new CompletableFuture&lt;&gt;();\r\n\r\n       amazonSQSAsync.sendMessageAsync(url, message, new ResponseHandler.SendMessageHandler(future));\r\n       // this responseHandler simply completes the future on success.\r\n\r\n       return future.thenApply(\r\n           x-&gt; \r\n           {\r\n              return x.getMessageId();\r\n           }\r\n        );\r\n}\r\n```\r\n\r\nHere&#39;s my new code.\r\n``` \r\nCompletableFuture&lt;String&gt; sendMessage(String url, String message){\r\n\r\n     SendMessageRequest sendMessageRequest = \r\n             SendMessageRequest\r\n               .builder()\r\n               .queueUrl(url)\r\n               .messageBody(message)\r\n               .build();\r\n\r\n    CompletableFuture&lt;SendMessageResponse&gt; sendMessageResponseCompletableFuture =\r\n        sqsAsyncClient.sendMessage(sendMessageRequest);\r\n    return sendMessageResponseCompletableFuture.thenApply(\r\n      x -&gt; {\r\n        return x.messageId();\r\n      }\r\n    );\r\n}\r\n```\r\n\r\nHere&#39;s my initialisation of v1 and v2 clients.\r\n\r\nV1\r\n```\r\n  return AmazonSQSAsyncClientBuilder\r\n        .standard()\r\n        .withRegion(cloudRegion)\r\n        .withCredentials(credentialsProvider)\r\n        .withExecutorFactory(() -&gt; executor).build();\r\n```\r\n\r\nV2 \r\n```\r\nreturn SqsAsyncClient\r\n        .builder()\r\n        .region(Region.of(cloudRegion))\r\n        .credentialsProvider(credentialsProvider)\r\n        .httpClientBuilder(\r\n            NettyNioAsyncHttpClient.builder().maxConcurrency(100).connectionTimeout(\r\n                Duration.ofMinutes(5)\r\n            ))\r\n        .build();\r\n```\r\n\r\nWith V1 I&#39;ve tried pushing 2k messages/second, and it worked fine (In fact I can push more also). Whereas, with V2 I&#39;m only able to push ~700 messages/second. \r\n\r\nI know that sqs v2 performance cannot go down compared to sqs v1. But I&#39;m doing something wrong, and not able to find out what it is..\r\n\r\nAny help is really appreciated. ","title":"AWS JAVA SDK V2 decreasing the queue push performance?","body":"<p>I'm trying to migrate my codebase, from aws sqs v1 sdk to aws sqs v2 sdk.</p>\n<p>Here's my old code.</p>\n<pre><code>CompletableFuture&lt;String&gt; sendMessage(String url, String message){\n\n       CompletableFuture&lt;SendMessageResult&gt; future = new CompletableFuture&lt;&gt;();\n\n       amazonSQSAsync.sendMessageAsync(url, message, new ResponseHandler.SendMessageHandler(future));\n       // this responseHandler simply completes the future on success.\n\n       return future.thenApply(\n           x-&gt; \n           {\n              return x.getMessageId();\n           }\n        );\n}\n</code></pre>\n<p>Here's my new code.</p>\n<pre><code>CompletableFuture&lt;String&gt; sendMessage(String url, String message){\n\n     SendMessageRequest sendMessageRequest = \n             SendMessageRequest\n               .builder()\n               .queueUrl(url)\n               .messageBody(message)\n               .build();\n\n    CompletableFuture&lt;SendMessageResponse&gt; sendMessageResponseCompletableFuture =\n        sqsAsyncClient.sendMessage(sendMessageRequest);\n    return sendMessageResponseCompletableFuture.thenApply(\n      x -&gt; {\n        return x.messageId();\n      }\n    );\n}\n</code></pre>\n<p>Here's my initialisation of v1 and v2 clients.</p>\n<p>V1</p>\n<pre><code>  return AmazonSQSAsyncClientBuilder\n        .standard()\n        .withRegion(cloudRegion)\n        .withCredentials(credentialsProvider)\n        .withExecutorFactory(() -&gt; executor).build();\n</code></pre>\n<p>V2</p>\n<pre><code>return SqsAsyncClient\n        .builder()\n        .region(Region.of(cloudRegion))\n        .credentialsProvider(credentialsProvider)\n        .httpClientBuilder(\n            NettyNioAsyncHttpClient.builder().maxConcurrency(100).connectionTimeout(\n                Duration.ofMinutes(5)\n            ))\n        .build();\n</code></pre>\n<p>With V1 I've tried pushing 2k messages/second, and it worked fine (In fact I can push more also). Whereas, with V2 I'm only able to push ~700 messages/second.</p>\n<p>I know that sqs v2 performance cannot go down compared to sqs v1. But I'm doing something wrong, and not able to find out what it is..</p>\n<p>Any help is really appreciated.</p>\n"},{"tags":["java","jsp","jdbc"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679145824,"post_id":75774678,"comment_id":133670979,"body_markdown":"(1) I guess your connection is null.\nYou are using `connection.createStatement()` without first checking whether the connection is null. (2) `Connection connection = DatabaseConnection.getConnection();\nif (connection == null) System.err.println(&quot;connection is null&quot;);\nStatement statement = connection.createStatement();` (3) `if (connection == null) System.err.println(&quot;connection is null&quot;);` is only for debug.","body":"(1) I guess your connection is null. You are using <code>connection.createStatement()</code> without first checking whether the connection is null. (2) <code>Connection connection = DatabaseConnection.getConnection(); if (connection == null) System.err.println(&quot;connection is null&quot;); Statement statement = connection.createStatement();</code> (3) <code>if (connection == null) System.err.println(&quot;connection is null&quot;);</code> is only for debug."}],"owner":{"account_id":28045052,"reputation":1,"user_id":21421979,"display_name":"achiever17"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679163939,"answer_count":0,"score":0,"last_activity_date":1679128695,"creation_date":1679128247,"question_id":75774678,"body_markdown":"I&#39;m getting this error..\r\n\r\n```lang-none\r\nexception   \r\norg.apache.jasper.JasperException: An exception occurred processing [/admin-login.jsp] at line [52]\r\n\r\n49:                                 &lt;%\r\n50:                                     //Connecting to the database\r\n51:                                     Connection connection = DatabaseConnection.getConnection();\r\n52:                                     Statement statement = connection.createStatement();\r\n53:                                     String credential = (String) session.getAttribute(&quot;credential&quot;);\r\n54:                                     //Checking creditionals whether there are null or not\r\n55:                                     if (credential != null) {\r\n\r\n\r\n\r\nStacktrace:\r\n\torg.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:610)\r\n\torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:499)\r\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\r\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:327)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:596)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n```","title":"The server encountered an unexpected condition that prevented it from fulfilling the request. why am i getting this error","body":"<p>I'm getting this error..</p>\n<pre class=\"lang-none prettyprint-override\"><code>exception   \norg.apache.jasper.JasperException: An exception occurred processing [/admin-login.jsp] at line [52]\n\n49:                                 &lt;%\n50:                                     //Connecting to the database\n51:                                     Connection connection = DatabaseConnection.getConnection();\n52:                                     Statement statement = connection.createStatement();\n53:                                     String credential = (String) session.getAttribute(&quot;credential&quot;);\n54:                                     //Checking creditionals whether there are null or not\n55:                                     if (credential != null) {\n\n\n\nStacktrace:\n    org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:610)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:499)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:327)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:596)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679127185,"post_id":75774093,"comment_id":133668360,"body_markdown":"This is not an address, it is the the type identifier (`[I` for an `int[]`, followed by @, followed by an identity hashcode. In theory an identity hashcode could be derived from a memory address, but in practice, Java garbage collectors move objects around in memory, so using a memory address wouldn&#39;t make sense (it either wouldn&#39;t be stable, or if the initial location was used, it would easily lead to duplicate identity hashcodes).","body":"This is not an address, it is the the type identifier (<code>[I</code> for an <code>int[]</code>, followed by @, followed by an identity hashcode. In theory an identity hashcode could be derived from a memory address, but in practice, Java garbage collectors move objects around in memory, so using a memory address wouldn&#39;t make sense (it either wouldn&#39;t be stable, or if the initial location was used, it would easily lead to duplicate identity hashcodes)."}],"owner":{"account_id":28048001,"reputation":1,"user_id":21424411,"display_name":"Rupnar Dutta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679118910,"answer_count":0,"score":0,"last_activity_date":1679127381,"creation_date":1679118822,"question_id":75774093,"body_markdown":"When compiling this below code I&#39;m receiving this output. I&#39;m not sure where I&#39;m making the mistake as the output should be the content of the array rather than its address. Appreciate any help!!\r\n\r\n\r\n```\r\nimport java.util.*;\r\npublic class insert_intervals{\r\n    public static void main(String[] args) {\r\n        int[][] intervals = {{1, 3} , {6 , 9}};\r\n        int[] newInterval = {2, 5};\r\n        List&lt;int[]&gt; ans = new ArrayList&lt;&gt;();\r\n        int newBegin = newInterval[0];\r\n        int newEnd = newInterval[1];\r\n\r\n        for(int[] interval : intervals){\r\n            int currentBegin = interval[0];\r\n            int currentEnd = interval[1];\r\n\r\n            if((currentBegin &lt; newBegin &amp;&amp; currentEnd &lt; newEnd) || (currentBegin &gt; newBegin &amp;&amp; currentEnd &gt; newEnd)){\r\n                ans.add(interval);\r\n            }else if(currentEnd &gt;= newBegin){\r\n                newBegin = Math.min(currentBegin, newBegin);\r\n                newEnd = Math.max(currentEnd, newEnd);\r\n                int[] arr = {newBegin, newEnd};\r\n                ans.add(arr);\r\n            }\r\n        }\r\n        for(int[] ar : ans){\r\n            System.out.println(ar);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nOutput : \r\n[I@2c7b84de\r\n[I@3fee733d\r\n\r\nI tried to get the elements of the array using for each loop but it provides me the address of the array. I have tried in online compilers as well and receiving similar output. ","title":"println(array) prints the address of the element rather than the element","body":"<p>When compiling this below code I'm receiving this output. I'm not sure where I'm making the mistake as the output should be the content of the array rather than its address. Appreciate any help!!</p>\n<pre><code>import java.util.*;\npublic class insert_intervals{\n    public static void main(String[] args) {\n        int[][] intervals = {{1, 3} , {6 , 9}};\n        int[] newInterval = {2, 5};\n        List&lt;int[]&gt; ans = new ArrayList&lt;&gt;();\n        int newBegin = newInterval[0];\n        int newEnd = newInterval[1];\n\n        for(int[] interval : intervals){\n            int currentBegin = interval[0];\n            int currentEnd = interval[1];\n\n            if((currentBegin &lt; newBegin &amp;&amp; currentEnd &lt; newEnd) || (currentBegin &gt; newBegin &amp;&amp; currentEnd &gt; newEnd)){\n                ans.add(interval);\n            }else if(currentEnd &gt;= newBegin){\n                newBegin = Math.min(currentBegin, newBegin);\n                newEnd = Math.max(currentEnd, newEnd);\n                int[] arr = {newBegin, newEnd};\n                ans.add(arr);\n            }\n        }\n        for(int[] ar : ans){\n            System.out.println(ar);\n        }\n    }\n}\n</code></pre>\n<p>Output :\n[I@2c7b84de\n[I@3fee733d</p>\n<p>I tried to get the elements of the array using for each loop but it provides me the address of the array. I have tried in online compilers as well and receiving similar output.</p>\n"},{"tags":["java","multithreading","java.util.concurrent","completable-future"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1679118734,"post_id":75774030,"comment_id":133667651,"body_markdown":"The `supplyAsync` overload that _does not_ accept an `Executor` executes the given `Supplier` using the common `ForkJoinPool`. Then `acceptEither`, as stated by the documentation you linked, will execute the `Consumer` using the thread that completed one of the two previous stages or the caller thread.","body":"The <code>supplyAsync</code> overload that <i>does not</i> accept an <code>Executor</code> executes the given <code>Supplier</code> using the common <code>ForkJoinPool</code>. Then <code>acceptEither</code>, as stated by the documentation you linked, will execute the <code>Consumer</code> using the thread that completed one of the two previous stages or the caller thread."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1679118939,"post_id":75774030,"comment_id":133667669,"body_markdown":"In other words, the &quot;actions&quot; talked about in that documentation is not, in the context of `acceptEither`, the other `CompletableFuture` but rather the `Consumer`.","body":"In other words, the &quot;actions&quot; talked about in that documentation is not, in the context of <code>acceptEither</code>, the other <code>CompletableFuture</code> but rather the <code>Consumer</code>."},{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1679118964,"post_id":75774030,"comment_id":133667670,"body_markdown":"@slaw the pauses are commented and hence I removed them now","body":"@slaw the pauses are commented and hence I removed them now"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679119055,"post_id":75774030,"comment_id":133667681,"body_markdown":"I ended up deleting that part of my comment. Regardless, &quot;stage 2&quot; is executed on &quot;worker-5&quot; because you&#39;ve told it to be executed by one of the threads in the common `ForkJoinPool` by using `#supplyAsync(Supplier)`.","body":"I ended up deleting that part of my comment. Regardless, &quot;stage 2&quot; is executed on &quot;worker-5&quot; because you&#39;ve told it to be executed by one of the threads in the common <code>ForkJoinPool</code> by using <code>#supplyAsync(Supplier)</code>."},{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1679119260,"post_id":75774030,"comment_id":133667697,"body_markdown":"@Slaw i am not bothered about `supplyAsync` i.e stage1 and `consumer` thread. I am more concerned about `acceptEither` i.e stage2 thread.","body":"@Slaw i am not bothered about <code>supplyAsync</code> i.e stage1 and <code>consumer</code> thread. I am more concerned about <code>acceptEither</code> i.e stage2 thread."},{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1679119447,"post_id":75774030,"comment_id":133667713,"body_markdown":"@Slaw -  You(slaw) said, `you&#39;ve told it to be executed by one of the thread in the common ForkJoinPool`.  &lt;-  by using `supplyAsync` i.e stage1 which got executed in worker-3, I can only infer that subsequent non Async stages can get executed in `main` or `worker-3` but not from the thread pool of which `worker-3` is part of.","body":"@Slaw -  You(slaw) said, <code>you&#39;ve told it to be executed by one of the thread in the common ForkJoinPool</code>.  &lt;-  by using <code>supplyAsync</code> i.e stage1 which got executed in worker-3, I can only infer that subsequent non Async stages can get executed in <code>main</code> or <code>worker-3</code> but not from the thread pool of which <code>worker-3</code> is part of."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679120482,"creation_date":1679119872,"answer_id":75774144,"question_id":75774030,"body_markdown":"This might be clearer if you don&#39;t do everything inline. For example:\r\n\r\n```lang-java\r\n// You used &#39;supplyAsync&#39;, which means the &#39;Supplier&#39; will be executed\r\n// using the common ForkJoinPool (any available thread from that pool)\r\nCompletableFuture&lt;Integer&gt; stage1 = CompletableFuture.supplyAsync(() -&gt; {\r\n    System.out.println(&quot;Stage 1: &quot; + Thread.currentThread().getName());\r\n    return 40;\r\n});\r\n\r\n// You used &#39;supplyAsync&#39; *again*, which means the &#39;Supplier&#39; will be executed\r\n// using the common ForkJoinPool (any available thread from that pool)\r\nCompletableFuture&lt;Integer&gt; stage2 = CompletableFuture.supplyAsync(() -&gt; {\r\n    System.out.println(&quot;Stage 2: &quot; + Thread.currentThread().getName());\r\n    return 80;\r\n});\r\n\r\n/*\r\n * Both &#39;stage1&#39; and &#39;stage2&#39; have been set to execute using the common\r\n * ForkJoinPool. The use of &#39;acceptEither&#39;, or even &#39;acceptEitherAsync&#39;,\r\n * has no bearing on that. Because you used &#39;acceptEither&#39;, the\r\n * **CONSUMER** will be executed by the same thread which finished &#39;stage1&#39;\r\n * or the same thread that finished &#39;stage2&#39;, whichever happens first,\r\n * or the caller thread (typically if &#39;stage1&#39; and/or &#39;stage2&#39; are already\r\n * complete by the time &#39;acceptEither&#39; is invoked).\r\n */\r\nstage1.acceptEither(stage2, result -&gt; {\r\n    System.out.println(&quot;Stage acceptEither: &quot; + Thread.currentThread().getName());\r\n    System.out.println(&quot;Result = &quot; + result);\r\n});\r\n```\r\n\r\nNote: `supplyAsync` has an overload that accepts an `Executor`, allowing you to specify a thread pool other than the common `ForkJoinPool`. The same is true for all the `xxxAsync` methods.","title":"what is the difference between CompletableFuture methods acceptEither vs acceptEitherAsync?","body":"<p>This might be clearer if you don't do everything inline. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// You used 'supplyAsync', which means the 'Supplier' will be executed\n// using the common ForkJoinPool (any available thread from that pool)\nCompletableFuture&lt;Integer&gt; stage1 = CompletableFuture.supplyAsync(() -&gt; {\n    System.out.println(&quot;Stage 1: &quot; + Thread.currentThread().getName());\n    return 40;\n});\n\n// You used 'supplyAsync' *again*, which means the 'Supplier' will be executed\n// using the common ForkJoinPool (any available thread from that pool)\nCompletableFuture&lt;Integer&gt; stage2 = CompletableFuture.supplyAsync(() -&gt; {\n    System.out.println(&quot;Stage 2: &quot; + Thread.currentThread().getName());\n    return 80;\n});\n\n/*\n * Both 'stage1' and 'stage2' have been set to execute using the common\n * ForkJoinPool. The use of 'acceptEither', or even 'acceptEitherAsync',\n * has no bearing on that. Because you used 'acceptEither', the\n * **CONSUMER** will be executed by the same thread which finished 'stage1'\n * or the same thread that finished 'stage2', whichever happens first,\n * or the caller thread (typically if 'stage1' and/or 'stage2' are already\n * complete by the time 'acceptEither' is invoked).\n */\nstage1.acceptEither(stage2, result -&gt; {\n    System.out.println(&quot;Stage acceptEither: &quot; + Thread.currentThread().getName());\n    System.out.println(&quot;Result = &quot; + result);\n});\n</code></pre>\n<p>Note: <code>supplyAsync</code> has an overload that accepts an <code>Executor</code>, allowing you to specify a thread pool other than the common <code>ForkJoinPool</code>. The same is true for all the <code>xxxAsync</code> methods.</p>\n"}],"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75774144,"answer_count":1,"score":0,"last_activity_date":1679126936,"creation_date":1679117325,"question_id":75774030,"body_markdown":"For example - \r\n\r\n    CompletableFuture.supplyAsync(stage1).acceptEither(stage2, consumer );\r\n\r\nstage1 and stage2 are supposed to run in parallel in above code as it is using `acceptEither`\r\n\r\nIf I change to `acceptEitherAsync`, i see I can get more control over which thread (thread from ForkJoin pool or thread from custom executor pool) runs stage2. \r\n\r\nBut on running below code ([jdoddle link)][1] I found that **stage2** `is not running in `main` thread but in a ForkJoin pool. How is it possible. \r\nFrom [Java Doc][2] - \r\n\r\n&gt; Actions supplied for dependent completions of non-async methods may be\r\n&gt; performed by the thread that completes the current CompletableFuture,\r\n&gt; or by any other caller of a completion method.\r\n\r\n\r\n    import java.util.concurrent.CompletableFuture;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n                    System.out.println(&quot;hello world, CompletableFuturesRightHere&quot;);\r\n    \r\n         CompletableFuture.supplyAsync(() -&gt; {\r\n                System.out.println(&quot;log-sA: &quot; + Thread.currentThread().getName());\r\n                System.out.println(&quot;log-sA post: &quot; + Thread.currentThread().getName());\r\n                return 40;\r\n            }).acceptEither(CompletableFuture.supplyAsync(() -&gt; {\r\n                System.out.println(&quot;log-aE: &quot; + Thread.currentThread().getName());\r\n                System.out.println(&quot;log-aE post: &quot; + Thread.currentThread().getName());\r\n                return 80;\r\n            }), a -&gt; { System.out.println(a); } );\r\n      }\r\n    }\r\n\r\nOutput:\r\n\r\n    hello world, CompletableFuturesRightHere\r\n    log-aE: ForkJoinPool.commonPool-worker-5\r\n    log-sA: ForkJoinPool.commonPool-worker-3\r\n    log-aE post: ForkJoinPool.commonPool-worker-5\r\n    log-sA post: ForkJoinPool.commonPool-worker-3\r\n    40\r\n    \r\n\r\nHow can **stage2** i.e **log-aE** run in worker-5, it should run in main or worker-3. But Since stage1 and stage2 are supposed to run in parallel and worker-3 is already running stage1, the only thread left for stage2 is `main`. \r\n**How could stage2 run in worker-5.**\r\n\r\n  [1]: https://www.jdoodle.com/iembed/v0/Fnb\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html","title":"what is the difference between CompletableFuture methods acceptEither vs acceptEitherAsync?","body":"<p>For example -</p>\n<pre><code>CompletableFuture.supplyAsync(stage1).acceptEither(stage2, consumer );\n</code></pre>\n<p>stage1 and stage2 are supposed to run in parallel in above code as it is using <code>acceptEither</code></p>\n<p>If I change to <code>acceptEitherAsync</code>, i see I can get more control over which thread (thread from ForkJoin pool or thread from custom executor pool) runs stage2.</p>\n<p>But on running below code (<a href=\"https://www.jdoodle.com/iembed/v0/Fnb\" rel=\"nofollow noreferrer\">jdoddle link)</a> I found that <strong>stage2</strong> <code>is not running in </code>main` thread but in a ForkJoin pool. How is it possible.\nFrom <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">Java Doc</a> -</p>\n<blockquote>\n<p>Actions supplied for dependent completions of non-async methods may be\nperformed by the thread that completes the current CompletableFuture,\nor by any other caller of a completion method.</p>\n</blockquote>\n<pre><code>import java.util.concurrent.CompletableFuture;\n\npublic class MyClass {\n    public static void main(String args[]) {\n                System.out.println(&quot;hello world, CompletableFuturesRightHere&quot;);\n\n     CompletableFuture.supplyAsync(() -&gt; {\n            System.out.println(&quot;log-sA: &quot; + Thread.currentThread().getName());\n            System.out.println(&quot;log-sA post: &quot; + Thread.currentThread().getName());\n            return 40;\n        }).acceptEither(CompletableFuture.supplyAsync(() -&gt; {\n            System.out.println(&quot;log-aE: &quot; + Thread.currentThread().getName());\n            System.out.println(&quot;log-aE post: &quot; + Thread.currentThread().getName());\n            return 80;\n        }), a -&gt; { System.out.println(a); } );\n  }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>hello world, CompletableFuturesRightHere\nlog-aE: ForkJoinPool.commonPool-worker-5\nlog-sA: ForkJoinPool.commonPool-worker-3\nlog-aE post: ForkJoinPool.commonPool-worker-5\nlog-sA post: ForkJoinPool.commonPool-worker-3\n40\n</code></pre>\n<p>How can <strong>stage2</strong> i.e <strong>log-aE</strong> run in worker-5, it should run in main or worker-3. But Since stage1 and stage2 are supposed to run in parallel and worker-3 is already running stage1, the only thread left for stage2 is <code>main</code>.\n<strong>How could stage2 run in worker-5.</strong></p>\n"},{"tags":["javascript","java","screen-capture","image-capture","get-display-media"],"owner":{"account_id":28048453,"reputation":11,"user_id":21424773,"display_name":"Syed Toheed Gillani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679126210,"creation_date":1679125551,"question_id":75774505,"body_markdown":"I have written a code that will take the screenshot after some time interval.\r\n**The code is:**\r\n\r\n```\r\nfunction captureScreenshot() {\r\n    if (screenStream) {\r\n        screenStream.getTracks().forEach(track =&gt; {\r\n            track.stop();\r\n        });\r\n    }\r\n    navigator.mediaDevices.getDisplayMedia({video: true})\r\n    .then(stream =&gt; {\r\n        track = stream.getVideoTracks()[0];\r\n        screenStream = track;\r\n        track.applyConstraints();\r\n        (function(delay, callback){\r\n            var loop = function(){\r\n                callback();\r\n                setTimeout(loop, delay);\r\n            }; loop();\r\n        })(5000, function(){\r\n            imageCapture = new ImageCapture(track);\r\n            imageCapture.grabFrame()\r\n            .then(imageBitmap =&gt; {\r\n                const canvas = document.querySelector(&#39;#image&#39;);\r\n                drawCanvas(canvas, imageBitmap);\r\n            })\r\n            .catch(err =&gt; {\r\n                console.error(&quot;Error grabbing frame: &quot;, err);\r\n            });\r\n        });\r\n    })\r\n    .catch(err =&gt; {\r\n        console.error(&quot;Error getting display media: &quot;, err);\r\n    });\r\n}\r\n```\r\n\r\n**Problem is:**\r\nWhenever I try to run this code by using an external button it shows this error:\r\n&quot;DOMException: The associated Track is in an invalid state&quot;.\r\n\r\nWe have tried to change the timer of the loop from 5000 to 800.\r\nIt takes the screenshot and don&#39;t give the errors for some time but will show the error at the end.\r\n\r\nIt changes the state to track.muted = true.\r\nI want it to stay at the track.muted=false state.\r\nSo, my loop must taking the screenshot continuously.\r\n\r\nIs there any method that can make &quot;track.muted=false&quot; forcefully.","title":"getDisplayMedia is giving &quot;DOMException: The associated Track is in an invalid state&quot;","body":"<p>I have written a code that will take the screenshot after some time interval.\n<strong>The code is:</strong></p>\n<pre><code>function captureScreenshot() {\n    if (screenStream) {\n        screenStream.getTracks().forEach(track =&gt; {\n            track.stop();\n        });\n    }\n    navigator.mediaDevices.getDisplayMedia({video: true})\n    .then(stream =&gt; {\n        track = stream.getVideoTracks()[0];\n        screenStream = track;\n        track.applyConstraints();\n        (function(delay, callback){\n            var loop = function(){\n                callback();\n                setTimeout(loop, delay);\n            }; loop();\n        })(5000, function(){\n            imageCapture = new ImageCapture(track);\n            imageCapture.grabFrame()\n            .then(imageBitmap =&gt; {\n                const canvas = document.querySelector('#image');\n                drawCanvas(canvas, imageBitmap);\n            })\n            .catch(err =&gt; {\n                console.error(&quot;Error grabbing frame: &quot;, err);\n            });\n        });\n    })\n    .catch(err =&gt; {\n        console.error(&quot;Error getting display media: &quot;, err);\n    });\n}\n</code></pre>\n<p><strong>Problem is:</strong>\nWhenever I try to run this code by using an external button it shows this error:\n&quot;DOMException: The associated Track is in an invalid state&quot;.</p>\n<p>We have tried to change the timer of the loop from 5000 to 800.\nIt takes the screenshot and don't give the errors for some time but will show the error at the end.</p>\n<p>It changes the state to track.muted = true.\nI want it to stay at the track.muted=false state.\nSo, my loop must taking the screenshot continuously.</p>\n<p>Is there any method that can make &quot;track.muted=false&quot; forcefully.</p>\n"},{"tags":["java","curl"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1679122872,"post_id":75774305,"comment_id":133667979,"body_markdown":"Your question lacks evidence of any research. Consider including what you&#39;ve tried so far.","body":"Your question lacks evidence of any research. Consider including what you&#39;ve tried so far."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1679131858,"post_id":75774305,"comment_id":133668907,"body_markdown":"&quot;image/jpg&quot; may not be correct. Better use the predefined constant ContentType.IMAGE_JPEG","body":"&quot;image/jpg&quot; may not be correct. Better use the predefined constant ContentType.IMAGE_JPEG"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1679139072,"post_id":75774305,"comment_id":133669949,"body_markdown":"Can you show the response body? Because usually it tells you _why_ the request is rejected.","body":"Can you show the response body? Because usually it tells you <i>why</i> the request is rejected."}],"owner":{"account_id":1284837,"reputation":407,"user_id":1238134,"accept_rate":25,"display_name":"RazorMx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679124408,"creation_date":1679122758,"question_id":75774305,"body_markdown":"How can I convert the following CURL to Java?\r\n\r\n    curl &quot;https://api.upload.io/v2/accounts/{accountId}/uploads/binary&quot; \\\r\n         -H &quot;Authorization: Bearer YOUR_API_KEY&quot; \\\r\n         -H &quot;Content-Type: img/jpg&quot; \\\r\n         --data-binary @file.jpg`\r\n\r\nWhat I&#39;ve tried to do (answers me 400 bad request)\r\n\r\n    HttpPost post = new HttpPost(&quot;https://api.upload.io/v2/accounts/{my account ID}/uploads/binary&quot;);\r\n    \t\t\tpost.setHeader(&quot;Authorization&quot;, &quot;Bearer {my API key}&quot;);\r\n    \t\t\tpost.setHeader(&quot;Content-Type&quot;, &quot;image/jpg&quot;);\r\n    \t\t\tpost.setEntity(new FileEntity(new File(&quot;image.jpg&quot;), ContentType.create(&quot;image/jpg&quot;)));\r\n    \r\n    \t\t\tCloseableHttpClient httpClient = HttpClients.createDefault();\r\n    \t\t\tHttpResponse httpResponse = httpClient.execute(post);\r\n\r\n","title":"Convert curl for image upload to Java","body":"<p>How can I convert the following CURL to Java?</p>\n<pre><code>curl &quot;https://api.upload.io/v2/accounts/{accountId}/uploads/binary&quot; \\\n     -H &quot;Authorization: Bearer YOUR_API_KEY&quot; \\\n     -H &quot;Content-Type: img/jpg&quot; \\\n     --data-binary @file.jpg`\n</code></pre>\n<p>What I've tried to do (answers me 400 bad request)</p>\n<pre><code>HttpPost post = new HttpPost(&quot;https://api.upload.io/v2/accounts/{my account ID}/uploads/binary&quot;);\n            post.setHeader(&quot;Authorization&quot;, &quot;Bearer {my API key}&quot;);\n            post.setHeader(&quot;Content-Type&quot;, &quot;image/jpg&quot;);\n            post.setEntity(new FileEntity(new File(&quot;image.jpg&quot;), ContentType.create(&quot;image/jpg&quot;)));\n\n            CloseableHttpClient httpClient = HttpClients.createDefault();\n            HttpResponse httpResponse = httpClient.execute(post);\n</code></pre>\n"},{"tags":["java","resttemplate","riot-games-api"],"comments":[{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":1,"creation_date":1651486054,"post_id":72084962,"comment_id":127368074,"body_markdown":"Have you verified the request via cURL or Postman?","body":"Have you verified the request via cURL or Postman?"},{"owner":{"account_id":25171497,"reputation":21,"user_id":19014282,"display_name":"vofak"},"score":0,"creation_date":1651486544,"post_id":72084962,"comment_id":127368196,"body_markdown":"@thinkgruen I previsously only tried the browser and Intellij Idea http client. Now I also tried to call the same URL using curl from command line. All three methods work fine and I receive a correct json response","body":"@thinkgruen I previsously only tried the browser and Intellij Idea http client. Now I also tried to call the same URL using curl from command line. All three methods work fine and I receive a correct json response"},{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":0,"creation_date":1651489250,"post_id":72084962,"comment_id":127368902,"body_markdown":"could it be that the servers are just down atm? https://developer.riotgames.com/api-status/ \nMATCH-V4 is down completely, SUMMONER is up however.","body":"could it be that the servers are just down atm? <a href=\"https://developer.riotgames.com/api-status/\" rel=\"nofollow noreferrer\">developer.riotgames.com/api-status</a>  MATCH-V4 is down completely, SUMMONER is up however."},{"owner":{"account_id":25171497,"reputation":21,"user_id":19014282,"display_name":"vofak"},"score":0,"creation_date":1651491650,"post_id":72084962,"comment_id":127369562,"body_markdown":"@thinkgruen MATCH-V4 is deprecated I think. I use MATCH-V5. The servers are not down because the same request works when sent from browser or curl. It just does not work from Java","body":"@thinkgruen MATCH-V4 is deprecated I think. I use MATCH-V5. The servers are not down because the same request works when sent from browser or curl. It just does not work from Java"}],"answers":[{"tags":[],"owner":{"account_id":9441868,"reputation":21,"user_id":7022044,"display_name":"Ruby"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679124350,"creation_date":1679124350,"answer_id":75774430,"question_id":72084962,"body_markdown":"I spent an afternoon finally solving this problem. You just need to use this request header.\r\n\r\n`\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.add(&quot;Accept&quot;,&quot;*/*&quot;);\r\n`","title":"How can I get LOL match detail using RIOT API from Java&#39;s RestTemplate?","body":"<p>I spent an afternoon finally solving this problem. You just need to use this request header.</p>\n<p><code>HttpHeaders headers = new HttpHeaders(); headers.add(&quot;Accept&quot;,&quot;*/*&quot;);</code></p>\n"}],"owner":{"account_id":25171497,"reputation":21,"user_id":19014282,"display_name":"vofak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679124350,"creation_date":1651484779,"question_id":72084962,"body_markdown":"I am trying to access [RIOT API][1] in Java using Spring&#39;s RestTemplate class. For some reason, I get a response code 500 and I can&#39;t determine why.\r\n\r\n\r\n----------\r\n\r\n\r\nThe code trying to call the api:\r\n\r\n```\r\nRestTemplate restTemplate = new RestTemplate();\r\n\r\nString matchString = restTemplate.getForObject(\r\n    URI.create(&quot;https://europe.api.riotgames.com/lol/match/v5/matches/EUN1_3119578792/timeline?api_key=&quot; + Consts.API_KEY),\r\n    String.class);\r\n\r\nSystem.out.println(matchString);\r\n```\r\n\r\nThe exception is:\r\n```\r\nException in thread &quot;main&quot; org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Server Error: [{&quot;status&quot;:{&quot;message&quot;:&quot;Internal server error&quot;,&quot;status_code&quot;:500}}]\r\n\tat org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:100)\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:172)\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:112)\r\n\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\r\n\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:782)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:740)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:714)\r\n\tat org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:333)\r\n\tat Main.main(Main.java:11)\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nThis looks strange to me because when I call the same URL using the browser or Intellij Idea&#39;s http client, I get the correct json response without any internal server error.\r\n\r\n```\r\n{&quot;metadata&quot;:{&quot;dataVersion&quot;:&quot;2&quot;,&quot;matchId&quot;:&quot;EUN1_3119578792&quot;,&quot;participants&quot;:[&quot;9oLEhIbu5RP6HITfkJDnEy5WKOEof4Zg4TJ7GLI7ysxjzSsCpAOyyiFitA86RBpW6Tjm6l1hJHql1g&quot;,&quot;2G74UyXYGrgzOVJyhlnLvL-MBqSCOW59o1uX8KmmvDsjMeiQhrye1X6ByjmpBcIBzjNOLDZ0bExw5Q&quot;,&quot;YCqBU2zeTXQhKd9LyNn048Orj8zn2ePa2JoB7U66ql0HsVpurENBRN39HfwnmVCAr0iPX6YnvgFLFA&quot;,...\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nMoreover, using the same java code for a different RIOT API&#39;s endpoint works fine:\r\n\r\n```\r\nRestTemplate restTemplate = new RestTemplate();\r\n\r\nString matchString = restTemplate.getForObject(\r\n                URI.create(&quot;https://eun1.api.riotgames.com/lol/summoner/v4/summoners/by-name/GargamelSmrdi?api_key=&quot; + Consts.API_KEY),\r\n                String.class);\r\nSystem.out.println(matchString);\r\n```\r\n\r\nStandart output:\r\n```\r\n{&quot;id&quot;:&quot;_M1uK8Th4G262XkT0f9PVjUk_Dx96C4R3e7vSidKs0z5mfg&quot;,&quot;accountId&quot;:&quot;QW10TRynWV0Zw48DrYqvO_KerzFepBCNOoUWtQHP2BFgdJZNlhtEPKXk&quot;,...\r\n```\r\n\r\n\r\n----------\r\n\r\nI am lost. Do you have any idea what could be causing this internal server error and how to fix it?\r\n\r\n  [1]: https://developer.riotgames.com/apis","title":"How can I get LOL match detail using RIOT API from Java&#39;s RestTemplate?","body":"<p>I am trying to access <a href=\"https://developer.riotgames.com/apis\" rel=\"nofollow noreferrer\">RIOT API</a> in Java using Spring's RestTemplate class. For some reason, I get a response code 500 and I can't determine why.</p>\n<hr />\n<p>The code trying to call the api:</p>\n<pre><code>RestTemplate restTemplate = new RestTemplate();\n\nString matchString = restTemplate.getForObject(\n    URI.create(&quot;https://europe.api.riotgames.com/lol/match/v5/matches/EUN1_3119578792/timeline?api_key=&quot; + Consts.API_KEY),\n    String.class);\n\nSystem.out.println(matchString);\n</code></pre>\n<p>The exception is:</p>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Server Error: [{&quot;status&quot;:{&quot;message&quot;:&quot;Internal server error&quot;,&quot;status_code&quot;:500}}]\n    at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:100)\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:172)\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:112)\n    at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:782)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:740)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:714)\n    at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:333)\n    at Main.main(Main.java:11)\n</code></pre>\n<hr />\n<p>This looks strange to me because when I call the same URL using the browser or Intellij Idea's http client, I get the correct json response without any internal server error.</p>\n<pre><code>{&quot;metadata&quot;:{&quot;dataVersion&quot;:&quot;2&quot;,&quot;matchId&quot;:&quot;EUN1_3119578792&quot;,&quot;participants&quot;:[&quot;9oLEhIbu5RP6HITfkJDnEy5WKOEof4Zg4TJ7GLI7ysxjzSsCpAOyyiFitA86RBpW6Tjm6l1hJHql1g&quot;,&quot;2G74UyXYGrgzOVJyhlnLvL-MBqSCOW59o1uX8KmmvDsjMeiQhrye1X6ByjmpBcIBzjNOLDZ0bExw5Q&quot;,&quot;YCqBU2zeTXQhKd9LyNn048Orj8zn2ePa2JoB7U66ql0HsVpurENBRN39HfwnmVCAr0iPX6YnvgFLFA&quot;,...\n</code></pre>\n<hr />\n<p>Moreover, using the same java code for a different RIOT API's endpoint works fine:</p>\n<pre><code>RestTemplate restTemplate = new RestTemplate();\n\nString matchString = restTemplate.getForObject(\n                URI.create(&quot;https://eun1.api.riotgames.com/lol/summoner/v4/summoners/by-name/GargamelSmrdi?api_key=&quot; + Consts.API_KEY),\n                String.class);\nSystem.out.println(matchString);\n</code></pre>\n<p>Standart output:</p>\n<pre><code>{&quot;id&quot;:&quot;_M1uK8Th4G262XkT0f9PVjUk_Dx96C4R3e7vSidKs0z5mfg&quot;,&quot;accountId&quot;:&quot;QW10TRynWV0Zw48DrYqvO_KerzFepBCNOoUWtQHP2BFgdJZNlhtEPKXk&quot;,...\n</code></pre>\n<hr />\n<p>I am lost. Do you have any idea what could be causing this internal server error and how to fix it?</p>\n"},{"tags":["java","selenium-webdriver","listener","alert"],"answers":[{"tags":[],"owner":{"account_id":28048425,"reputation":1,"user_id":21424749,"display_name":"Kundan yalangi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679123586,"creation_date":1679123586,"answer_id":75774383,"question_id":38230879,"body_markdown":"Custom class implements webdrivereventlistener\r\nOverride find\r\nWait for element (from method arg)\r\nIf element not present \r\nDriver.switch.to.alert != null\r\nAlert accept or enter auth whatever\r\n\r\n\r\nMain class\r\nEventfiringwebdriver driver instantiate\r\n&lt;p&gt;Create earlier custom class instance listener\r\nDriver.register above custom class \r\ndo your stuff for every find listener activates and check for alert\r\nDriver.unregister\r\nYou might want to check cypress where in listeners to alerts are handled easily \r\n&lt;/p&gt;\r\n","title":"Create a listener to detect the presence of an alert popup (using Selenium WebDriver)","body":"<p>Custom class implements webdrivereventlistener\nOverride find\nWait for element (from method arg)\nIf element not present\nDriver.switch.to.alert != null\nAlert accept or enter auth whatever</p>\n<p>Main class\nEventfiringwebdriver driver instantiate</p>\n<p>Create earlier custom class instance listener\nDriver.register above custom class \ndo your stuff for every find listener activates and check for alert\nDriver.unregister\nYou might want to check cypress where in listeners to alerts are handled easily \n</p>\n"}],"owner":{"account_id":6619590,"reputation":109,"user_id":5111766,"display_name":"DaftDeath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679123586,"creation_date":1467828521,"question_id":38230879,"body_markdown":"I need to create a listener that checks whether an alert is present or not. This alert pops up randomly while navigating the site, asking for credentials, and if it receives no response it causes the driver to timeout. We&#39;re currently entering the credentials by hand to allow the code to continue, but later this will run without being monitored so this won&#39;t work much longer. ","title":"Create a listener to detect the presence of an alert popup (using Selenium WebDriver)","body":"<p>I need to create a listener that checks whether an alert is present or not. This alert pops up randomly while navigating the site, asking for credentials, and if it receives no response it causes the driver to timeout. We're currently entering the credentials by hand to allow the code to continue, but later this will run without being monitored so this won't work much longer. </p>\n"},{"tags":["java","jboss","ejb","wildfly","elytron"],"comments":[{"owner":{"account_id":2642985,"reputation":131,"user_id":2286277,"accept_rate":0,"display_name":"Fr&#233;d&#233;ric Nell"},"score":0,"creation_date":1678444927,"post_id":65255348,"comment_id":133537883,"body_markdown":"Same Problem exactly with Wildfly 26 and elytron, I tried to reach out the developpers but nobody could help me, looked at similar question, already in 2018, still no answers =&gt; https://developer.jboss.org/thread/277957 . The elytron Documentation has aswell since many years an empty &quot;pseudo-code&quot; callback example. I don&#39;t know why but it seems that there&#39;s no active community :( If I found something I will let you know. But issue still present in Wildfly 26.","body":"Same Problem exactly with Wildfly 26 and elytron, I tried to reach out the developpers but nobody could help me, looked at similar question, already in 2018, still no answers =&gt; <a href=\"https://developer.jboss.org/thread/277957\" rel=\"nofollow noreferrer\">developer.jboss.org/thread/277957</a> . The elytron Documentation has aswell since many years an empty &quot;pseudo-code&quot; callback example. I don&#39;t know why but it seems that there&#39;s no active community :( If I found something I will let you know. But issue still present in Wildfly 26."},{"owner":{"account_id":2642985,"reputation":131,"user_id":2286277,"accept_rate":0,"display_name":"Fr&#233;d&#233;ric Nell"},"score":0,"creation_date":1678452312,"post_id":65255348,"comment_id":133539787,"body_markdown":"Ok I&#39;ve two proposition for you:\n1. Create a TaskExecutor with &#39;@RunAs&#39;, inject your resources inside, with &#39;@Permitall&#39;, like this you can call the secured resources from another Bean, or Test. \n2. If you&#39;re using the principal into a managed bean, you can for testing purpose for example simulate the bean by a dummy implementation\n\nI don&#39;t have any callback solution and I could never get the security domain too.","body":"Ok I&#39;ve two proposition for you: 1. Create a TaskExecutor with &#39;@RunAs&#39;, inject your resources inside, with &#39;@Permitall&#39;, like this you can call the secured resources from another Bean, or Test.  2. If you&#39;re using the principal into a managed bean, you can for testing purpose for example simulate the bean by a dummy implementation  I don&#39;t have any callback solution and I could never get the security domain too."}],"answers":[{"tags":[],"owner":{"account_id":1720985,"reputation":11,"user_id":3484548,"display_name":"Vithun Venugopalan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679121922,"creation_date":1679121922,"answer_id":75774258,"question_id":65255348,"body_markdown":"I found this here developer.jboss.org/thread/277957\r\n\r\n SecurityDomain currentSecurityDomain = SecurityDomain.getCurrent();\r\n\r\n                Evidence evidence = new PasswordGuessEvidence(runWith.password().toCharArray());\r\n\r\n                SecurityIdentity identity = currentSecurityDomain.authenticate(runWith.username(), evidence);\r\n\r\n                return identity.runAs(new Callable(){\r\n\r\n                    @Override\r\n                    public Object call() throws Exception {\r\n\r\n                        LOG.warn(&quot;This should be runWith#username()? &quot; + sessionCtx.getCallerPrincipal().getName());\r\n\r\n                        return context.proceed();\r\n\r\n                    }\r\n\r\n                });\r\n\r\n","title":"Programmatic Login With Wildfly Elytron Security","body":"<p>I found this here developer.jboss.org/thread/277957</p>\n<p>SecurityDomain currentSecurityDomain = SecurityDomain.getCurrent();</p>\n<pre><code>            Evidence evidence = new PasswordGuessEvidence(runWith.password().toCharArray());\n\n            SecurityIdentity identity = currentSecurityDomain.authenticate(runWith.username(), evidence);\n\n            return identity.runAs(new Callable(){\n\n                @Override\n                public Object call() throws Exception {\n\n                    LOG.warn(&quot;This should be runWith#username()? &quot; + sessionCtx.getCallerPrincipal().getName());\n\n                    return context.proceed();\n\n                }\n\n            });\n</code></pre>\n"}],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1314,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1679121922,"creation_date":1607705277,"question_id":65255348,"body_markdown":"I&#39;m in the process of migrating some legacy applications from Jboss AS 6 to Wildfly. Since the legacy (picketbox) security system is deprecated, I want to switch over to using elytron. I followed along with the quickstart examples and I think I have my configuration set up correctly, but I&#39;m running into a problem with migrating my actual code.\r\n\r\nThere are time where we want to authorize a user directly rather than relying on a call from the client or a servlet. This is especially important in integration tests where we want to test ejb methods that require a certain permission. Currently, my login method for doing a manual authorization looks like this:\r\n\r\n    public boolean login(String domain, Credentials credentials)\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tlc = new javax.security.auth.login.LoginContext(domain,\r\n    \t\t\t\t\tnew PassiveCallbackHandler(credentials.getUsername(), credentials.getPassword()));\r\n    \t\t\tlc.login();\r\n    \t\t\tSubject subject = lc.getSubject();\r\n    \t\t\tpushSubjectContext(credentials.getUsername(), credentials.getPassword());\r\n    \t\t\tif (sessionActivityService != null)\r\n    \t\t\t{\r\n    \t\t\t\tsessionActivityId = sessionActivityService.activateSession(applicationName, &quot;127.0.0.1&quot;);\r\n    \t\t\t}\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\tcatch (LoginException e)\r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n\r\nWhen I try to call that method using the security domain defined in the elytron subsystem it fails. Debugging through the code, I can see that the LoginContext doesn&#39;t see any of the security domains from elytron. Only the legacy (jboss.as:security) domains are visible, so it defaults to a security domain of &#39;other&#39;.\r\n\r\nIs there any way to do what I want using elytron? \r\n\r\n\r\nFYI, here are some snippets from my configuration:\r\n\r\n**standalone.xml:**\r\n\r\n    &lt;subsystem xmlns=&quot;urn:wildfly:elytron:8.0&quot; final-providers=&quot;combined-providers&quot; disallowed-providers=&quot;OracleUcrypto&quot;&gt;         \r\n                &lt;security-domains&gt;\r\n                    ...           \r\n                    &lt;security-domain name=&quot;TestOptics&quot; default-realm=&quot;testRealm&quot; permission-mapper=&quot;default-permission-mapper&quot;&gt;\r\n                        &lt;realm name=&quot;testRealm&quot; role-decoder=&quot;groups-to-roles&quot;/&gt;\r\n                    &lt;/security-domain&gt;\r\n                &lt;/security-domains&gt;\r\n                &lt;security-realms&gt;\r\n                    &lt;identity-realm name=&quot;local&quot; identity=&quot;$local&quot;/&gt;              \r\n                    &lt;jdbc-realm name=&quot;testRealm&quot;&gt;\r\n                        &lt;principal-query sql=&quot;SELECT password FROM&amp;#x9;persons WHERE username=?&quot; data-source=&quot;TestOpticsDS&quot;&gt;\r\n                            &lt;clear-password-mapper password-index=&quot;1&quot;/&gt;\r\n                        &lt;/principal-query&gt;\r\n                        &lt;principal-query sql=&quot;select roles.name,&#39;Roles&#39; from persons join persons_to_roles on persons_to_roles.person_id=persons.id join roles on roles.id=persons_to_roles.role_id where persons.username=? and persons.enabled=1 and persons.password is not null union select &#39;authenticated&#39;,&#39;Roles&#39;&quot; data-source=&quot;OpticsDS&quot;&gt;\r\n                            &lt;attribute-mapping&gt;\r\n                                &lt;attribute to=&quot;Roles&quot; index=&quot;1&quot;/&gt;\r\n                            &lt;/attribute-mapping&gt;\r\n                        &lt;/principal-query&gt;\r\n                    &lt;/jdbc-realm&gt;\r\n                    ...\r\n                &lt;/security-realms&gt;\r\n               ...\r\n                &lt;http&gt;\r\n                    ...\r\n                    &lt;http-authentication-factory name=&quot;test-http-auth&quot; security-domain=&quot;TestOptics&quot; http-server-mechanism-factory=&quot;global&quot;&gt;\r\n                        &lt;mechanism-configuration&gt;\r\n                            &lt;mechanism mechanism-name=&quot;BASIC&quot;&gt;\r\n                                &lt;mechanism-realm realm-name=&quot;testRealm&quot;/&gt;\r\n                            &lt;/mechanism&gt;\r\n                        &lt;/mechanism-configuration&gt;\r\n                    &lt;/http-authentication-factory&gt;\r\n                    &lt;provider-http-server-mechanism-factory name=&quot;global&quot;/&gt;\r\n                &lt;/http&gt;\r\n                &lt;sasl&gt;\r\n                   ...\r\n                    &lt;sasl-authentication-factory name=&quot;test-app-sasl-auth&quot; sasl-server-factory=&quot;configured&quot; security-domain=&quot;TestOptics&quot;&gt;\r\n                        &lt;mechanism-configuration&gt;\r\n                            &lt;mechanism mechanism-name=&quot;JBOSS-LOCAL-USER&quot; realm-mapper=&quot;local&quot;/&gt;\r\n                            &lt;mechanism mechanism-name=&quot;BASIC&quot;&gt;\r\n                                &lt;mechanism-realm realm-name=&quot;testRealm&quot;/&gt;\r\n                            &lt;/mechanism&gt;\r\n                        &lt;/mechanism-configuration&gt;\r\n                    &lt;/sasl-authentication-factory&gt;\r\n                    ...\r\n                &lt;/sasl&gt;\r\n            &lt;/subsystem&gt;\r\n            &lt;subsystem xmlns=&quot;urn:jboss:domain:ejb3:6.0&quot;&gt;\r\n                ...\r\n                &lt;default-security-domain value=&quot;other&quot;/&gt;\r\n                &lt;application-security-domains&gt;\r\n                    &lt;application-security-domain name=&quot;TestOptics&quot; security-domain=&quot;TestOptics&quot;/&gt;\r\n                &lt;/application-security-domains&gt;\r\n                &lt;default-missing-method-permissions-deny-access value=&quot;true&quot;/&gt;\r\n                &lt;statistics enabled=&quot;${wildfly.ejb3.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;/&gt;\r\n                &lt;log-system-exceptions value=&quot;true&quot;/&gt;\r\n            &lt;/subsystem&gt;\r\n\r\n\r\n**jboss-web.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE jboss-web&gt;\r\n    &lt;jboss-web xmlns=&quot;http://www.jboss.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://www.jboss.com/xml/ns/javaee http://www.jboss.org/schema/jbossas/jboss-web_14_0.xsd&quot; version=&quot;14.0&quot;&gt;\r\n    \t&lt;!-- &lt;context-root&gt;person/test&lt;/context-root&gt; --&gt;\r\n    \t&lt;security-domain&gt;TestOptics&lt;/security-domain&gt;\r\n    &lt;/jboss-web&gt;\r\n\r\n**web.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee  http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n          version=&quot;3.0&quot;&gt; \r\n    \t\r\n    \t&lt;login-config&gt;\r\n    \t&lt;auth-method&gt;BASIC&lt;/auth-method&gt;\r\n    \t&lt;realm-name&gt;TestOptics&lt;/realm-name&gt;\r\n    \t&lt;/login-config&gt;\r\n    &lt;/web-app&gt;","title":"Programmatic Login With Wildfly Elytron Security","body":"<p>I'm in the process of migrating some legacy applications from Jboss AS 6 to Wildfly. Since the legacy (picketbox) security system is deprecated, I want to switch over to using elytron. I followed along with the quickstart examples and I think I have my configuration set up correctly, but I'm running into a problem with migrating my actual code.</p>\n<p>There are time where we want to authorize a user directly rather than relying on a call from the client or a servlet. This is especially important in integration tests where we want to test ejb methods that require a certain permission. Currently, my login method for doing a manual authorization looks like this:</p>\n<pre><code>public boolean login(String domain, Credentials credentials)\n    {\n        try\n        {\n            lc = new javax.security.auth.login.LoginContext(domain,\n                    new PassiveCallbackHandler(credentials.getUsername(), credentials.getPassword()));\n            lc.login();\n            Subject subject = lc.getSubject();\n            pushSubjectContext(credentials.getUsername(), credentials.getPassword());\n            if (sessionActivityService != null)\n            {\n                sessionActivityId = sessionActivityService.activateSession(applicationName, &quot;127.0.0.1&quot;);\n            }\n            return true;\n        }\n        catch (LoginException e)\n        {\n            e.printStackTrace();\n            return false;\n        }\n    }\n</code></pre>\n<p>When I try to call that method using the security domain defined in the elytron subsystem it fails. Debugging through the code, I can see that the LoginContext doesn't see any of the security domains from elytron. Only the legacy (jboss.as:security) domains are visible, so it defaults to a security domain of 'other'.</p>\n<p>Is there any way to do what I want using elytron?</p>\n<p>FYI, here are some snippets from my configuration:</p>\n<p><strong>standalone.xml:</strong></p>\n<pre><code>&lt;subsystem xmlns=&quot;urn:wildfly:elytron:8.0&quot; final-providers=&quot;combined-providers&quot; disallowed-providers=&quot;OracleUcrypto&quot;&gt;         \n            &lt;security-domains&gt;\n                ...           \n                &lt;security-domain name=&quot;TestOptics&quot; default-realm=&quot;testRealm&quot; permission-mapper=&quot;default-permission-mapper&quot;&gt;\n                    &lt;realm name=&quot;testRealm&quot; role-decoder=&quot;groups-to-roles&quot;/&gt;\n                &lt;/security-domain&gt;\n            &lt;/security-domains&gt;\n            &lt;security-realms&gt;\n                &lt;identity-realm name=&quot;local&quot; identity=&quot;$local&quot;/&gt;              \n                &lt;jdbc-realm name=&quot;testRealm&quot;&gt;\n                    &lt;principal-query sql=&quot;SELECT password FROM&amp;#x9;persons WHERE username=?&quot; data-source=&quot;TestOpticsDS&quot;&gt;\n                        &lt;clear-password-mapper password-index=&quot;1&quot;/&gt;\n                    &lt;/principal-query&gt;\n                    &lt;principal-query sql=&quot;select roles.name,'Roles' from persons join persons_to_roles on persons_to_roles.person_id=persons.id join roles on roles.id=persons_to_roles.role_id where persons.username=? and persons.enabled=1 and persons.password is not null union select 'authenticated','Roles'&quot; data-source=&quot;OpticsDS&quot;&gt;\n                        &lt;attribute-mapping&gt;\n                            &lt;attribute to=&quot;Roles&quot; index=&quot;1&quot;/&gt;\n                        &lt;/attribute-mapping&gt;\n                    &lt;/principal-query&gt;\n                &lt;/jdbc-realm&gt;\n                ...\n            &lt;/security-realms&gt;\n           ...\n            &lt;http&gt;\n                ...\n                &lt;http-authentication-factory name=&quot;test-http-auth&quot; security-domain=&quot;TestOptics&quot; http-server-mechanism-factory=&quot;global&quot;&gt;\n                    &lt;mechanism-configuration&gt;\n                        &lt;mechanism mechanism-name=&quot;BASIC&quot;&gt;\n                            &lt;mechanism-realm realm-name=&quot;testRealm&quot;/&gt;\n                        &lt;/mechanism&gt;\n                    &lt;/mechanism-configuration&gt;\n                &lt;/http-authentication-factory&gt;\n                &lt;provider-http-server-mechanism-factory name=&quot;global&quot;/&gt;\n            &lt;/http&gt;\n            &lt;sasl&gt;\n               ...\n                &lt;sasl-authentication-factory name=&quot;test-app-sasl-auth&quot; sasl-server-factory=&quot;configured&quot; security-domain=&quot;TestOptics&quot;&gt;\n                    &lt;mechanism-configuration&gt;\n                        &lt;mechanism mechanism-name=&quot;JBOSS-LOCAL-USER&quot; realm-mapper=&quot;local&quot;/&gt;\n                        &lt;mechanism mechanism-name=&quot;BASIC&quot;&gt;\n                            &lt;mechanism-realm realm-name=&quot;testRealm&quot;/&gt;\n                        &lt;/mechanism&gt;\n                    &lt;/mechanism-configuration&gt;\n                &lt;/sasl-authentication-factory&gt;\n                ...\n            &lt;/sasl&gt;\n        &lt;/subsystem&gt;\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:ejb3:6.0&quot;&gt;\n            ...\n            &lt;default-security-domain value=&quot;other&quot;/&gt;\n            &lt;application-security-domains&gt;\n                &lt;application-security-domain name=&quot;TestOptics&quot; security-domain=&quot;TestOptics&quot;/&gt;\n            &lt;/application-security-domains&gt;\n            &lt;default-missing-method-permissions-deny-access value=&quot;true&quot;/&gt;\n            &lt;statistics enabled=&quot;${wildfly.ejb3.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;/&gt;\n            &lt;log-system-exceptions value=&quot;true&quot;/&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n<p><strong>jboss-web.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE jboss-web&gt;\n&lt;jboss-web xmlns=&quot;http://www.jboss.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://www.jboss.com/xml/ns/javaee http://www.jboss.org/schema/jbossas/jboss-web_14_0.xsd&quot; version=&quot;14.0&quot;&gt;\n    &lt;!-- &lt;context-root&gt;person/test&lt;/context-root&gt; --&gt;\n    &lt;security-domain&gt;TestOptics&lt;/security-domain&gt;\n&lt;/jboss-web&gt;\n</code></pre>\n<p><strong>web.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee  http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\n      version=&quot;3.0&quot;&gt; \n    \n    &lt;login-config&gt;\n    &lt;auth-method&gt;BASIC&lt;/auth-method&gt;\n    &lt;realm-name&gt;TestOptics&lt;/realm-name&gt;\n    &lt;/login-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","excel","database","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1679253801,"post_id":75774184,"comment_id":133684222,"body_markdown":"Check the data formatter pattern applied to the cells? Internally Excel basically just has strings and floats, everything else it faked using formatting","body":"Check the data formatter pattern applied to the cells? Internally Excel basically just has strings and floats, everything else it faked using formatting"}],"owner":{"account_id":21785244,"reputation":25,"user_id":16086394,"display_name":"Esmaeil Chitgar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679120917,"creation_date":1679120671,"question_id":75774184,"body_markdown":"I need to parse excel sheets and create a database table using column value types.\r\nMy plan to decide on a table column type is to check the majority type of the number of rows in each column. For example, min(col. [number of rows], a constant value) rows in each column. The majority of the type in each column is the type of table column.\r\nSo, I need to know the exact type of excel cells to decide about the DB-tables field definition.\r\nBut I see it&#39;s hard to distinguish between the following types:\r\n\r\n - date\r\n - time\r\n - date-time\r\n\r\nand\r\n\r\n - int\r\n - float\r\n\r\nIn other words, I only detect float and date type using the following method:\r\n\r\n    private static Column.DataTypeEnum getDataTypeEnum(Cell cell) {\r\n        switch (cell.getCellType()) {\r\n            case STRING:\r\n                return Column.DataTypeEnum.STRING;\r\n            case BOOLEAN:\r\n                return DataTypeEnum.BOOLEAN;\r\n            case FORMULA:\r\n                return DataTypeEnum.FORMULA;\r\n            case BLANK:\r\n                return DataTypeEnum.BLANK;\r\n            case NUMERIC:\r\n                if (HSSFDateUtil.isCellDateFormatted(cell))\r\n                    return DataTypeEnum.DATE;\r\n                if (String.valueOf(cell.getNumericCellValue()).matches(&quot;^\\\\d+$&quot;))\r\n                    return DataTypeEnum.INT;//never rich here, because it sees all numbers with floating point (i.e. see value 5 in excel cell as 5.0)\r\n                if (String.valueOf(cell.getNumericCellValue()).matches(&quot;[-+]?[0-9]*\\\\.?[0-9]+&quot;))\r\n                    return DataTypeEnum.FLOAT;\r\n                return DataTypeEnum.INT;\r\n        }\r\n\r\n        return DataTypeEnum.STRING;\r\n    }\r\n\r\n","title":"Detect exact cell type when parsing excel file (date, time, datetime) and (int, flow) using apache.poi","body":"<p>I need to parse excel sheets and create a database table using column value types.\nMy plan to decide on a table column type is to check the majority type of the number of rows in each column. For example, min(col. [number of rows], a constant value) rows in each column. The majority of the type in each column is the type of table column.\nSo, I need to know the exact type of excel cells to decide about the DB-tables field definition.\nBut I see it's hard to distinguish between the following types:</p>\n<ul>\n<li>date</li>\n<li>time</li>\n<li>date-time</li>\n</ul>\n<p>and</p>\n<ul>\n<li>int</li>\n<li>float</li>\n</ul>\n<p>In other words, I only detect float and date type using the following method:</p>\n<pre><code>private static Column.DataTypeEnum getDataTypeEnum(Cell cell) {\n    switch (cell.getCellType()) {\n        case STRING:\n            return Column.DataTypeEnum.STRING;\n        case BOOLEAN:\n            return DataTypeEnum.BOOLEAN;\n        case FORMULA:\n            return DataTypeEnum.FORMULA;\n        case BLANK:\n            return DataTypeEnum.BLANK;\n        case NUMERIC:\n            if (HSSFDateUtil.isCellDateFormatted(cell))\n                return DataTypeEnum.DATE;\n            if (String.valueOf(cell.getNumericCellValue()).matches(&quot;^\\\\d+$&quot;))\n                return DataTypeEnum.INT;//never rich here, because it sees all numbers with floating point (i.e. see value 5 in excel cell as 5.0)\n            if (String.valueOf(cell.getNumericCellValue()).matches(&quot;[-+]?[0-9]*\\\\.?[0-9]+&quot;))\n                return DataTypeEnum.FLOAT;\n            return DataTypeEnum.INT;\n    }\n\n    return DataTypeEnum.STRING;\n}\n</code></pre>\n"},{"tags":["java","google-cloud-firestore","gcloud"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1679148889,"post_id":75774195,"comment_id":133671425,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":13044604,"reputation":1,"user_id":9426844,"display_name":"Kuni Shiina"},"score":0,"creation_date":1679302891,"post_id":75774195,"comment_id":133690554,"body_markdown":"The problem is that though I&#39;m using a service account to create the firestoreOptions instance, when I try to get the data using .getService() method, the error that I&#39;m using the end user credentials instead of service account.","body":"The problem is that though I&#39;m using a service account to create the firestoreOptions instance, when I try to get the data using .getService() method, the error that I&#39;m using the end user credentials instead of service account."},{"owner":{"account_id":13044604,"reputation":1,"user_id":9426844,"display_name":"Kuni Shiina"},"score":0,"creation_date":1680249296,"post_id":75774195,"comment_id":133869409,"body_markdown":"I was able to download data from Firestore normally with Eclipse and java8, but with VSCode and java17 using Service account, although it was the same code, I was able to upload data, but when I downloaded the data, permission was denied. By rewriting the code with reference to the following site, it became possible to download normally and it self-solved.  https://firebase.google.com/docs/firestore/query-data/queries?hl=ja","body":"I was able to download data from Firestore normally with Eclipse and java8, but with VSCode and java17 using Service account, although it was the same code, I was able to upload data, but when I downloaded the data, permission was denied. By rewriting the code with reference to the following site, it became possible to download normally and it self-solved.  <a href=\"https://firebase.google.com/docs/firestore/query-data/queries?hl=ja\" rel=\"nofollow noreferrer\">firebase.google.com/docs/firestore/query-data/queries?hl=ja</a>"}],"owner":{"account_id":13044604,"reputation":1,"user_id":9426844,"display_name":"Kuni Shiina"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679120788,"creation_date":1679120788,"question_id":75774195,"body_markdown":"I get an GoogleCredentials instance as below.\r\n- GoogleCredentials Gcredentials = GoogleCredentials.fromStream(new FileInputStream(&quot;C:\\Users\\k...\\service230314\\steprate200901-9...00.json&quot;))\r\n        .createScoped(Lists.newArrayList(&quot;https://www.googleapis.com/auth/cloud-platform&quot;)); -\r\nThe principal is active as below.\r\n- gcloud auth list -\r\n     Credentialed Accounts\r\nACTIVE  ACCOUNT\r\n*       quehoraesxxxx@gmail.com\r\n- -\r\nThen, Firestore instance as below.\r\n- FirestoreOptions firestoreOptions_custom54 =FirestoreOptions.getDefaultInstance().toBuilder()\r\n\t\t\t\t\t\t.setProjectId(&quot;steprate220901&quot;)\r\n                        .setCredentials(Gcredentials)  \r\n                        .build();\r\n                Firestore db_custom54 = firestoreOptions_custom54.getService(); -\r\nThis works properly when saving data. And firestoreOptions_custom54 has ServiceAccountCredentials@66 as below. But when downloading data, I can not to access using service accounts.  \r\n- gclud comment -\r\nc.g.a.oauth2.DefaultCredentialsProvider  : Your application has authenticated using end user credentials from Google Cloud SDK. We recommend that most server applications use service accounts instead.\r\n- firestoreOptions_custom54 -\r\nFirestoreOptions@118\r\nchannelProvider:\r\nInstantiatingGrpcChannelProvider@121\r\nclientLibToken:\r\n&quot;gccl&quot;\r\nclock:\r\nCurrentMillisClock@123\r\ncredentials:\r\nServiceAccountCredentials@66\r\ncredentialsProvider:\r\nAutoValue_FixedCredentialsProvider@124\r\ndatabaseId:\r\n&quot;(default)&quot;\r\nemulatorHost:\r\nnull\r\nheaderProvider:\r\nNoHeaderProvider@126\r\nhost:\r\n&quot;firestore.googleapis.com:443&quot;\r\nprojectId:\r\n&quot;steprate220901&quot;\r\nquotaProjectId:\r\nnull\r\nretrySettings:\r\nAutoValue_RetrySettings@129\r\nrpc:\r\nnull\r\nservice:\r\nnull\r\nserviceFactory:\r\nFirestoreOptions$DefaultFirestoreF -\r\nI expect to be able to access my data in firestore using my service accounts.\r\n ","title":"authenticated using end user credentials from Google Cloud SDK","body":"<p>I get an GoogleCredentials instance as below.</p>\n<ul>\n<li>GoogleCredentials Gcredentials = GoogleCredentials.fromStream(new FileInputStream(&quot;C:\\Users\\k...\\service230314\\steprate200901-9...00.json&quot;))\n.createScoped(Lists.newArrayList(&quot;https://www.googleapis.com/auth/cloud-platform&quot;)); -\nThe principal is active as below.</li>\n<li>gcloud auth list -\nCredentialed Accounts\nACTIVE  ACCOUNT</li>\n</ul>\n<ul>\n<li>\n<pre><code>  quehoraesxxxx@gmail.com\n</code></pre>\n</li>\n</ul>\n<ul>\n<li>\n<ul>\n<li></li>\n</ul>\n</li>\n</ul>\n<p>Then, Firestore instance as below.</p>\n<ul>\n<li>FirestoreOptions firestoreOptions_custom54 =FirestoreOptions.getDefaultInstance().toBuilder()\n.setProjectId(&quot;steprate220901&quot;)\n.setCredentials(Gcredentials)<br />\n.build();\nFirestore db_custom54 = firestoreOptions_custom54.getService(); -\nThis works properly when saving data. And firestoreOptions_custom54 has ServiceAccountCredentials@66 as below. But when downloading data, I can not to access using service accounts.</li>\n<li>gclud comment -\nc.g.a.oauth2.DefaultCredentialsProvider  : Your application has authenticated using end user credentials from Google Cloud SDK. We recommend that most server applications use service accounts instead.</li>\n<li>firestoreOptions_custom54 -\nFirestoreOptions@118\nchannelProvider:\nInstantiatingGrpcChannelProvider@121\nclientLibToken:\n&quot;gccl&quot;\nclock:\nCurrentMillisClock@123\ncredentials:\nServiceAccountCredentials@66\ncredentialsProvider:\nAutoValue_FixedCredentialsProvider@124\ndatabaseId:\n&quot;(default)&quot;\nemulatorHost:\nnull\nheaderProvider:\nNoHeaderProvider@126\nhost:\n&quot;firestore.googleapis.com:443&quot;\nprojectId:\n&quot;steprate220901&quot;\nquotaProjectId:\nnull\nretrySettings:\nAutoValue_RetrySettings@129\nrpc:\nnull\nservice:\nnull\nserviceFactory:\nFirestoreOptions$DefaultFirestoreF -\nI expect to be able to access my data in firestore using my service accounts.</li>\n</ul>\n"},{"tags":["java","swagger","openapi","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1679120270,"creation_date":1679119837,"answer_id":75774142,"question_id":75773899,"body_markdown":"Some YAML parsers treat unquoted `yes`, `y`, `no`, `n`, `on`, and `off` [as boolean values](https://stackoverflow.com/a/53648738/113116).\r\n\r\nTo avoid this, add quotes around `no` in your OpenAPI file:\r\n\r\n```yaml\r\n        &#39;no&#39;:   # &lt;---\r\n          type: string\r\n          xml:\r\n            name: &#39;NO&#39;   # &lt;---\r\n```","title":"OpenAPI Generator converts &quot;no&quot; to &quot;false&quot;","body":"<p>Some YAML parsers treat unquoted <code>yes</code>, <code>y</code>, <code>no</code>, <code>n</code>, <code>on</code>, and <code>off</code> <a href=\"https://stackoverflow.com/a/53648738/113116\">as boolean values</a>.</p>\n<p>To avoid this, add quotes around <code>no</code> in your OpenAPI file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>        'no':   # &lt;---\n          type: string\n          xml:\n            name: 'NO'   # &lt;---\n</code></pre>\n"}],"owner":{"account_id":22827163,"reputation":23,"user_id":16976240,"display_name":"it_ctw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75774142,"answer_count":1,"score":2,"last_activity_date":1679120270,"creation_date":1679114494,"question_id":75773899,"body_markdown":"I created this OpenAPI YAML definition:\r\n\r\n```yaml\r\nopenapi: 3.0.3\r\ninfo:\r\n  title: NonAdult API\r\n  version: 1.0.0\r\npaths:\r\n  /api/v1/components/schemas/NonAdult:\r\n    description: &#39;Waiting for 3.1.0 spec to have &quot;paths&quot; optional.&#39;\r\n    get:\r\n      tags:\r\n        - schemas-controller\r\n      operationId: getSchemaDefinition\r\n      responses:\r\n        &quot;200&quot;:\r\n          description: OK\r\n          content:\r\n            &#39;application/xml&#39;:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/NonAdult&#39;\r\ncomponents:\r\n  schemas:\r\n    NonAdult:\r\n      type: object\r\n      properties:\r\n        ageRange:\r\n          type: string\r\n          description: The age range of the non-adult\r\n          xml:\r\n            name: AGE_RANGE\r\n        no:\r\n          type: string\r\n          xml:\r\n            name: NO\r\n        basePrice:\r\n          type: number\r\n          format: BigDecimal\r\n          description: The base price for the non-adults\r\n          xml:\r\n            name: BASE_PRICE\r\n        tax:\r\n          type: number\r\n          format: BigDecimal\r\n          description: The tax for the non-adults\r\n          xml:\r\n            name: TAX\r\n      xml:\r\n        name: NON_ADULT\r\n...\r\n```\r\nI use OpenAPI Generator Maven plugin to generate a Spring server from it.\r\n\r\nMy pom build is:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n        &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;configuration&gt;\r\n              &lt;configOptions&gt;\r\n                &lt;additionalModelTypeAnnotations&gt;\r\n                  @lombok.Data\r\n                  @lombok.NoArgsConstructor\r\n                  @lombok.AllArgsConstructor\r\n                  @lombok.Builder\r\n                &lt;/additionalModelTypeAnnotations&gt;\r\n                &lt;additionalProperty&gt;jackson=false&lt;/additionalProperty&gt;\r\n                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n                &lt;java8&gt;false&lt;/java8&gt;\r\n                &lt;modelPropertyNaming&gt;original&lt;/modelPropertyNaming&gt;\r\n                &lt;serializableModel&gt;true&lt;/serializableModel&gt;\r\n                &lt;skipDefaultInterface&gt;true&lt;/skipDefaultInterface&gt;\r\n                &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\r\n                &lt;useTags&gt;true&lt;/useTags&gt;\r\n                &lt;withXml&gt;true&lt;/withXml&gt;\r\n              &lt;/configOptions&gt;\r\n              &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n              &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n              &lt;generateApis&gt;false&lt;/generateApis&gt;\r\n              &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n              &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\r\n              &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n              &lt;importMappings&gt;\r\n              &lt;/importMappings&gt;\r\n              &lt;inputSpec&gt;NonAdult.yaml&lt;/inputSpec&gt;\r\n              &lt;library&gt;spring-boot&lt;/library&gt;\r\n              &lt;modelPackage&gt;com.demo.business.domains.Demo&lt;/modelPackage&gt;\r\n              &lt;typeMappings/&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;id&gt;domain-commons-classes&lt;/id&gt;\r\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n        &lt;version&gt;5.1.1&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n\r\nBut when I run `mvn clean package`, I get an error about the &quot;no&quot; property. It was converted to `false` in the Java class like this:\r\n\r\n```java\r\n@JsonProperty(&quot;ageRange&quot;)\r\n  @JacksonXmlProperty(localName = &quot;AGE_RANGE&quot;)\r\n  private String ageRange;\r\n\r\n  @JsonProperty(&quot;false&quot;)\r\n  @JacksonXmlProperty(localName = &quot;false&quot;)\r\n  private String false;\r\n```\r\n\r\nHow can I fix this? I don&#39;t want to change the name of the property because I want to map the data with an XML response.","title":"OpenAPI Generator converts &quot;no&quot; to &quot;false&quot;","body":"<p>I created this OpenAPI YAML definition:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>openapi: 3.0.3\ninfo:\n  title: NonAdult API\n  version: 1.0.0\npaths:\n  /api/v1/components/schemas/NonAdult:\n    description: 'Waiting for 3.1.0 spec to have &quot;paths&quot; optional.'\n    get:\n      tags:\n        - schemas-controller\n      operationId: getSchemaDefinition\n      responses:\n        &quot;200&quot;:\n          description: OK\n          content:\n            'application/xml':\n              schema:\n                $ref: '#/components/schemas/NonAdult'\ncomponents:\n  schemas:\n    NonAdult:\n      type: object\n      properties:\n        ageRange:\n          type: string\n          description: The age range of the non-adult\n          xml:\n            name: AGE_RANGE\n        no:\n          type: string\n          xml:\n            name: NO\n        basePrice:\n          type: number\n          format: BigDecimal\n          description: The base price for the non-adults\n          xml:\n            name: BASE_PRICE\n        tax:\n          type: number\n          format: BigDecimal\n          description: The tax for the non-adults\n          xml:\n            name: TAX\n      xml:\n        name: NON_ADULT\n...\n</code></pre>\n<p>I use OpenAPI Generator Maven plugin to generate a Spring server from it.</p>\n<p>My pom build is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n        &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;configuration&gt;\n              &lt;configOptions&gt;\n                &lt;additionalModelTypeAnnotations&gt;\n                  @lombok.Data\n                  @lombok.NoArgsConstructor\n                  @lombok.AllArgsConstructor\n                  @lombok.Builder\n                &lt;/additionalModelTypeAnnotations&gt;\n                &lt;additionalProperty&gt;jackson=false&lt;/additionalProperty&gt;\n                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                &lt;java8&gt;false&lt;/java8&gt;\n                &lt;modelPropertyNaming&gt;original&lt;/modelPropertyNaming&gt;\n                &lt;serializableModel&gt;true&lt;/serializableModel&gt;\n                &lt;skipDefaultInterface&gt;true&lt;/skipDefaultInterface&gt;\n                &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\n                &lt;useTags&gt;true&lt;/useTags&gt;\n                &lt;withXml&gt;true&lt;/withXml&gt;\n              &lt;/configOptions&gt;\n              &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n              &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n              &lt;generateApis&gt;false&lt;/generateApis&gt;\n              &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n              &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\n              &lt;generatorName&gt;spring&lt;/generatorName&gt;\n              &lt;importMappings&gt;\n              &lt;/importMappings&gt;\n              &lt;inputSpec&gt;NonAdult.yaml&lt;/inputSpec&gt;\n              &lt;library&gt;spring-boot&lt;/library&gt;\n              &lt;modelPackage&gt;com.demo.business.domains.Demo&lt;/modelPackage&gt;\n              &lt;typeMappings/&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;id&gt;domain-commons-classes&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n        &lt;version&gt;5.1.1&lt;/version&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>But when I run <code>mvn clean package</code>, I get an error about the &quot;no&quot; property. It was converted to <code>false</code> in the Java class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonProperty(&quot;ageRange&quot;)\n  @JacksonXmlProperty(localName = &quot;AGE_RANGE&quot;)\n  private String ageRange;\n\n  @JsonProperty(&quot;false&quot;)\n  @JacksonXmlProperty(localName = &quot;false&quot;)\n  private String false;\n</code></pre>\n<p>How can I fix this? I don't want to change the name of the property because I want to map the data with an XML response.</p>\n"},{"tags":["java","string","hashmap"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1679119190,"post_id":75773722,"comment_id":133667695,"body_markdown":"Sidequestion: if this is new code, why use java 8? The current JRE is 19, and the current LTS version is 17.","body":"Sidequestion: if this is new code, why use java 8? The current JRE is 19, and the current LTS version is 17."}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679119983,"creation_date":1679119362,"answer_id":75774119,"question_id":75773722,"body_markdown":"In this solution, I&#39;ve split the input string by `,` and using `Arrays.stream` create a `Stream&lt;String&gt;`. Then, I&#39;ve used `Collectors.groupingBy` to create a map with year as the key and with a *mapping* collector extract the month (as an Integer) and collect them into a `TreeSet` (to collect the months in ascending order).\r\n```\r\nMap&lt;String, Set&lt;Integer&gt;&gt; yearToMonths = Arrays.stream(str.split(&quot;,&quot;))\r\n        .collect(Collectors.groupingBy(s -&gt; s.substring(0, 4),\r\n                Collectors.mapping(s -&gt; Integer.parseInt(s.substring(4)),\r\n                        Collectors.toCollection(TreeSet::new))));\r\n```\r\nWith this temporary result, we again stream on the map and by using `Collectors.toMap` build the final map where we take the value (`Set&lt;Integer&gt;`) and join them as a string by `,`.\r\n```\r\nMap&lt;String, String&gt; result = yearToMonths.entrySet()\r\n        .stream()\r\n        .collect(Collectors.toMap(Map.Entry::getKey, e -&gt; e.getValue()\r\n                .stream()\r\n                .map(String::valueOf)\r\n                .collect(Collectors.joining(&quot;,&quot;))));\r\n\r\nresult.forEach((key, value) -&gt; System.out.println(&quot;[Key] : &quot; + key + &quot; [Value] : &quot; + value));\r\n```\r\n\r\n---\r\n\r\nIf you are beginner and find it difficult to understand Java streams and Collectors, here it a beginner-friendly approach.\r\n\r\n    Map&lt;String, Set&lt;Integer&gt;&gt; yearToMonths = new HashMap&lt;&gt;();\r\n    Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n\r\n    String lst[] = selDatesStr.split(&quot;,&quot;);\r\n\r\n    for (int i = 0; i &lt; lst.length; i++) {\r\n        String year = lst[i].substring(0, 4);\r\n        Integer month = Integer.parseInt(lst[i].substring(4));\r\n        if (!yearToMonths.containsKey(year)) {\r\n            yearToMonths.put(year, new TreeSet&lt;&gt;());\r\n        }\r\n        yearToMonths.get(year)\r\n               .add(month);\r\n    }\r\n    for (Map.Entry&lt;String, Set&lt;Integer&gt;&gt; entry : yearToMonths.entrySet()) {\r\n        String year = entry.getKey();\r\n        Set&lt;Integer&gt; months = entry.getValue();\r\n        StringJoiner stringJoiner = new StringJoiner(&quot;,&quot;);\r\n        for (Integer month : months) {\r\n            stringJoiner.add(String.valueOf(month));\r\n        }\r\n        result.put(year, stringJoiner.toString());\r\n    }\r\n  \r\n\r\nI&#39;ve used a `StringJoiner` to join the elements of the Set into a String (rather than a `StringBuilder`) as it will be easier to avoid adding a `,` at the end.","title":"Java split string and construct a Map","body":"<p>In this solution, I've split the input string by <code>,</code> and using <code>Arrays.stream</code> create a <code>Stream&lt;String&gt;</code>. Then, I've used <code>Collectors.groupingBy</code> to create a map with year as the key and with a <em>mapping</em> collector extract the month (as an Integer) and collect them into a <code>TreeSet</code> (to collect the months in ascending order).</p>\n<pre><code>Map&lt;String, Set&lt;Integer&gt;&gt; yearToMonths = Arrays.stream(str.split(&quot;,&quot;))\n        .collect(Collectors.groupingBy(s -&gt; s.substring(0, 4),\n                Collectors.mapping(s -&gt; Integer.parseInt(s.substring(4)),\n                        Collectors.toCollection(TreeSet::new))));\n</code></pre>\n<p>With this temporary result, we again stream on the map and by using <code>Collectors.toMap</code> build the final map where we take the value (<code>Set&lt;Integer&gt;</code>) and join them as a string by <code>,</code>.</p>\n<pre><code>Map&lt;String, String&gt; result = yearToMonths.entrySet()\n        .stream()\n        .collect(Collectors.toMap(Map.Entry::getKey, e -&gt; e.getValue()\n                .stream()\n                .map(String::valueOf)\n                .collect(Collectors.joining(&quot;,&quot;))));\n\nresult.forEach((key, value) -&gt; System.out.println(&quot;[Key] : &quot; + key + &quot; [Value] : &quot; + value));\n</code></pre>\n<hr />\n<p>If you are beginner and find it difficult to understand Java streams and Collectors, here it a beginner-friendly approach.</p>\n<pre><code>Map&lt;String, Set&lt;Integer&gt;&gt; yearToMonths = new HashMap&lt;&gt;();\nMap&lt;String, String&gt; result = new HashMap&lt;&gt;();\n\nString lst[] = selDatesStr.split(&quot;,&quot;);\n\nfor (int i = 0; i &lt; lst.length; i++) {\n    String year = lst[i].substring(0, 4);\n    Integer month = Integer.parseInt(lst[i].substring(4));\n    if (!yearToMonths.containsKey(year)) {\n        yearToMonths.put(year, new TreeSet&lt;&gt;());\n    }\n    yearToMonths.get(year)\n           .add(month);\n}\nfor (Map.Entry&lt;String, Set&lt;Integer&gt;&gt; entry : yearToMonths.entrySet()) {\n    String year = entry.getKey();\n    Set&lt;Integer&gt; months = entry.getValue();\n    StringJoiner stringJoiner = new StringJoiner(&quot;,&quot;);\n    for (Integer month : months) {\n        stringJoiner.add(String.valueOf(month));\n    }\n    result.put(year, stringJoiner.toString());\n}\n</code></pre>\n<p>I've used a <code>StringJoiner</code> to join the elements of the Set into a String (rather than a <code>StringBuilder</code>) as it will be easier to avoid adding a <code>,</code> at the end.</p>\n"}],"owner":{"account_id":1000404,"reputation":1347,"user_id":1015388,"accept_rate":15,"display_name":"user1015388"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679119983,"creation_date":1679110339,"question_id":75773722,"body_markdown":"In my java application, I am using Java8. I have a string representation like below.\r\n\r\n    20232,20221,20222,20223,20224,20225,20226,20227,20228,20229,202210,202211,202212,20231\r\n\r\nHere, first 4 digits refer to Year and next 2 digits refer to Month.\r\nI want to make a Map where key is YEAR and value as all the months that are available in the string.\r\ni.e; I want something like\r\n\r\n     2023 -&gt; 1,2\r\n     2022 -&gt; 1,2,3,4,5,6,7,8,9,10,11,12 (In ascending order)\r\n\r\nI tried something like this: it gives output as\r\n\r\n    [Key] : 2023 [Value] : 2,1,2,3,4,5,6,7,8,9,10,11,12,1\r\n    [Key] : 2022 [Value] : 2,1,2,3,4,5,6,7,8,9,10,11,12,1\r\n\r\n    public class TestJava {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tString str =&quot;20232,20221,20222,20223,20224,20225,20226,20227,20228,20229,202210,202211,202212,20231&quot;;\r\n    \t\tString lst[] = selDatesStr.split(&quot;,&quot;);\r\n    \t\tHashMap map = new HashMap();\r\n    \t\tStringBuilder stb = new StringBuilder();\r\n    \t\tfor(int i=0; i &lt; lst.length; i++) {\r\n    \t\t\tString year = lst[i].substring(0, 4);\r\n    \t\t\tif(!map.isEmpty()) {\r\n    \t\t\t\tif(map.containsKey(year)) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\tString month = lst[i].substring(4, lst[i].length());\r\n    \t\t\t\t\r\n    \t\t\t\tif(stb.toString().length() == 0) {\r\n    \t\t\t\t\tstb = stb.append(month);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tstb = stb.append(&quot;,&quot;+month);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tmap.put(year, stb);\t\r\n    \t\t\t}\r\n    \t\t\r\n    \t\tmap.forEach((key, value) -&gt; System.out.println(&quot;[Key] : &quot; + key + &quot; [Value] : &quot; + value));\r\n    \t}\r\n    }\r\n","title":"Java split string and construct a Map","body":"<p>In my java application, I am using Java8. I have a string representation like below.</p>\n<pre><code>20232,20221,20222,20223,20224,20225,20226,20227,20228,20229,202210,202211,202212,20231\n</code></pre>\n<p>Here, first 4 digits refer to Year and next 2 digits refer to Month.\nI want to make a Map where key is YEAR and value as all the months that are available in the string.\ni.e; I want something like</p>\n<pre><code> 2023 -&gt; 1,2\n 2022 -&gt; 1,2,3,4,5,6,7,8,9,10,11,12 (In ascending order)\n</code></pre>\n<p>I tried something like this: it gives output as</p>\n<pre><code>[Key] : 2023 [Value] : 2,1,2,3,4,5,6,7,8,9,10,11,12,1\n[Key] : 2022 [Value] : 2,1,2,3,4,5,6,7,8,9,10,11,12,1\n\npublic class TestJava {\n    public static void main(String[] args) {\n        \n        String str =&quot;20232,20221,20222,20223,20224,20225,20226,20227,20228,20229,202210,202211,202212,20231&quot;;\n        String lst[] = selDatesStr.split(&quot;,&quot;);\n        HashMap map = new HashMap();\n        StringBuilder stb = new StringBuilder();\n        for(int i=0; i &lt; lst.length; i++) {\n            String year = lst[i].substring(0, 4);\n            if(!map.isEmpty()) {\n                if(map.containsKey(year)) {\n                    \n                }\n            }\n                String month = lst[i].substring(4, lst[i].length());\n                \n                if(stb.toString().length() == 0) {\n                    stb = stb.append(month);\n                } else {\n                    stb = stb.append(&quot;,&quot;+month);\n                }\n                \n                map.put(year, stb); \n            }\n        \n        map.forEach((key, value) -&gt; System.out.println(&quot;[Key] : &quot; + key + &quot; [Value] : &quot; + value));\n    }\n}\n</code></pre>\n"},{"tags":["java","loops"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679119243,"creation_date":1679117099,"answer_id":75774020,"question_id":75774017,"body_markdown":"The correct `for` loop is `for(i = 0; i &lt; text.length(); i++)`. And you need to change\r\n\r\n    } else if (text.charAt(i) + rule &lt;= 255) {\r\n        code = code + text.charAt(i + rule);\r\n    }\r\n\r\nto\r\n\r\n    } else if (text.charAt(i) + rule &lt;= 255) {\r\n        code = code + text.charAt(i) + rule;\r\n    }\r\n\r\nAfter your corrections, you moved the mistake you made once and did the same mistake again. **Four times**. This\r\n\r\n    if (text.charAt(i + rule) &gt; 255) {\r\n        code = code + (char) (text.charAt(i + rule) - 255);\r\n    } else if (text.charAt(i + rule) &lt;= 255) {\r\n        code = code + text.charAt(i + rule);\r\n    }\r\n\r\nIs wrong. `i + rule` is always going to give you an out of bounds exception when `rule` is greater than `0` because `i` is the range of all valid indices in `text`.\r\n\r\n    if (text.charAt(i) + rule &gt; 255) {\r\n        code = code + (char) (text.charAt(i) + rule - 255);\r\n    } else if (text.charAt(i) + rule &lt;= 255) {\r\n        code = code + text.charAt(i) + rule;\r\n    }\r\n\r\nJust make your life simpler like\r\n\r\n    char ch = text.charAt(i);\r\n    if (ch + rule &gt; 255) {\r\n        code += ch + rule - 255;\r\n    } else {\r\n        code += ch + rule;\r\n    }","title":"For loop not reading last character in String","body":"<p>The correct <code>for</code> loop is <code>for(i = 0; i &lt; text.length(); i++)</code>. And you need to change</p>\n<pre><code>} else if (text.charAt(i) + rule &lt;= 255) {\n    code = code + text.charAt(i + rule);\n}\n</code></pre>\n<p>to</p>\n<pre><code>} else if (text.charAt(i) + rule &lt;= 255) {\n    code = code + text.charAt(i) + rule;\n}\n</code></pre>\n<p>After your corrections, you moved the mistake you made once and did the same mistake again. <strong>Four times</strong>. This</p>\n<pre><code>if (text.charAt(i + rule) &gt; 255) {\n    code = code + (char) (text.charAt(i + rule) - 255);\n} else if (text.charAt(i + rule) &lt;= 255) {\n    code = code + text.charAt(i + rule);\n}\n</code></pre>\n<p>Is wrong. <code>i + rule</code> is always going to give you an out of bounds exception when <code>rule</code> is greater than <code>0</code> because <code>i</code> is the range of all valid indices in <code>text</code>.</p>\n<pre><code>if (text.charAt(i) + rule &gt; 255) {\n    code = code + (char) (text.charAt(i) + rule - 255);\n} else if (text.charAt(i) + rule &lt;= 255) {\n    code = code + text.charAt(i) + rule;\n}\n</code></pre>\n<p>Just make your life simpler like</p>\n<pre><code>char ch = text.charAt(i);\nif (ch + rule &gt; 255) {\n    code += ch + rule - 255;\n} else {\n    code += ch + rule;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20325330,"reputation":1,"user_id":14908943,"display_name":"Saman Aba"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679117582,"creation_date":1679117582,"answer_id":75774038,"question_id":75774017,"body_markdown":"If you want to iterate on a string called text, you must start from 0 to text.length -1, in this case your condition will be like : i &lt;= text.length\r\notherwise if you use just &quot;&lt;&quot; , the last index doesn&#39;t count, and it should be like this : for(i = 0; i &lt; text.length(); i++)","title":"For loop not reading last character in String","body":"<p>If you want to iterate on a string called text, you must start from 0 to text.length -1, in this case your condition will be like : i &lt;= text.length\notherwise if you use just &quot;&lt;&quot; , the last index doesn't count, and it should be like this : for(i = 0; i &lt; text.length(); i++)</p>\n"}],"owner":{"account_id":28017588,"reputation":1,"user_id":21399063,"display_name":"PJ Pasta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679119243,"creation_date":1679116965,"question_id":75774017,"body_markdown":"I am trying to write a basic key cipher, but I&#39;m having an issue with the for loop not reading the last character:\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        BasicEncrypt.encrypt(&quot;abcdef&quot;, 1);}\r\n\r\n    public class BasicEncrypt {\r\n\r\n        public static String encrypt(String text, int rule) {\r\n\r\n            String code = &quot;&quot;;\r\n            int i;\r\n            for(i = 0; i &lt; text.length() -1; i++) {\r\n                if ((text.charAt(i) + rule) &gt; 255) {\r\n                    code = code + (char) (text.charAt(i) + rule - 255);\r\n                } else if (text.charAt(i) + rule &lt;= 255) {\r\n                    code = code + text.charAt(i) + rule);\r\n                }\r\n            }\r\n\r\n            return code;\r\n        }\r\n    }\r\n\r\n\r\n\r\nThe code returns everything but the last character. If the input string is one character (&#39;a&#39;) the return is empty.\r\n\r\nI change the loop to the following and get an index out of bounds error (which ofc makes sense):\r\n\r\n            for(i = 0; i &lt; text.length(); i++)\r\n\r\nI realize this is a very basic question but I could not find my answer on here after about an hour of searching.\r\n","title":"For loop not reading last character in String","body":"<p>I am trying to write a basic key cipher, but I'm having an issue with the for loop not reading the last character:</p>\n<pre><code>public static void main(String[] args) {\n\n    BasicEncrypt.encrypt(&quot;abcdef&quot;, 1);}\n\npublic class BasicEncrypt {\n\n    public static String encrypt(String text, int rule) {\n\n        String code = &quot;&quot;;\n        int i;\n        for(i = 0; i &lt; text.length() -1; i++) {\n            if ((text.charAt(i) + rule) &gt; 255) {\n                code = code + (char) (text.charAt(i) + rule - 255);\n            } else if (text.charAt(i) + rule &lt;= 255) {\n                code = code + text.charAt(i) + rule);\n            }\n        }\n\n        return code;\n    }\n}\n</code></pre>\n<p>The code returns everything but the last character. If the input string is one character ('a') the return is empty.</p>\n<p>I change the loop to the following and get an index out of bounds error (which ofc makes sense):</p>\n<pre><code>        for(i = 0; i &lt; text.length(); i++)\n</code></pre>\n<p>I realize this is a very basic question but I could not find my answer on here after about an hour of searching.</p>\n"},{"tags":["java","android-studio","jitsi-meet"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679138861,"post_id":75774096,"comment_id":133669915,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28042711,"reputation":1,"user_id":21420005,"display_name":"Deepan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679118868,"creation_date":1679118868,"question_id":75774096,"body_markdown":"i am working in android studio\r\n\r\njitsimeet version-7.0.1\r\n\r\nerror log below\r\n\r\n\r\n\r\nhelp bro\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.mediocre.mscasvideocallingapp, PID: 10453\r\n    java.lang.RuntimeException: Unable to start service org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService@416d006 with Intent { cmp=com.mediocre.mscasvideocallingapp/org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService (has extras) }: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\r\n        at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4344)\r\n        at android.app.ActivityThread.access$1800(ActivityThread.java:237)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\r\n        at android.app.NotificationManager.fixNotification(NotificationManager.java:603)\r\n        at android.app.NotificationManager.notifyAsUser(NotificationManager.java:582)\r\n        at android.app.NotificationManager.notify(NotificationManager.java:531)\r\n        at android.app.NotificationManager.notify(NotificationManager.java:507)\r\n        at org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService.onStartCommand(JitsiMeetOngoingConferenceService.java:135)\r\n        at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4326)\r\n        at android.app.ActivityThread.access$1800(ActivityThread.java:237)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\nE/JitsiMeetSDK: JitsiMeetUncaughtExceptionHandler FATAL ERROR\r\n    java.lang.RuntimeException: Unable to start service org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService@416d006 with Intent { cmp=com.mediocre.mscasvideocallingapp/org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService (has extras) }: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\r\n        at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4344)\r\n        at android.app.ActivityThread.access$1800(ActivityThread.java:237)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\r\n        at android.app.NotificationManager.fixNotification(NotificationManager.java:603)\r\n        at android.app.NotificationManager.notifyAsUser(NotificationManager.java:582)\r\n        at android.app.NotificationManager.notify(NotificationManager.java:531)\r\n        at android.app.NotificationManager.notify(NotificationManager.java:507)\r\n        at org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService.onStartCommand(JitsiMeetOngoingConferenceService.java:135)\r\n        at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4326)\r\n        at android.app.ActivityThread.access$1800(ActivityThread.java:237)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\n    \r\n    java.lang.RuntimeException: Unable to start service org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService@416d006 with Intent { cmp=com.mediocre.mscasvideocallingapp/org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService (has extras) }: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\r\n        at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4344)\r\n        at android.app.ActivityThread.access$1800(ActivityThread.java:237)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\r\n        at android.app.NotificationManager.fixNotification(NotificationManager.java:603)\r\n        at android.app.NotificationManager.notifyAsUser(NotificationManager.java:582)\r\n        at android.app.NotificationManager.notify(NotificationManager.java:531)\r\n        at android.app.NotificationManager.notify(NotificationManager.java:507)\r\n        at org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService.onStartCommand(JitsiMeetOngoingConferenceService.java:135)\r\n        at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4326)\r\n        at android.app.ActivityThread.access$1800(ActivityThread.java:237)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\nI/JitsiMeetSDK: JitsiConnectionService onAbort 0C8B3AB3-6349-4AC9-99C1-38AAC303AEC8\r\nD/JitsiMeetSDK: JitsiConnectionService onStateChanged: DISCONNECTED 0C8B3AB3-6349-4AC9-99C1-38AAC303AEC8\r\nI/Process: Sending signal. PID: 10453 SIG: 9\r\n","title":"jitsi meet api not working join meeting restart from join meeting","body":"<p>i am working in android studio</p>\n<p>jitsimeet version-7.0.1</p>\n<p>error log below</p>\n<p>help bro\nE/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.mediocre.mscasvideocallingapp, PID: 10453\njava.lang.RuntimeException: Unable to start service org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService@416d006 with Intent { cmp=com.mediocre.mscasvideocallingapp/org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService (has extras) }: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\nat android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4344)\nat android.app.ActivityThread.access$1800(ActivityThread.java:237)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7656)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\nCaused by: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\nat android.app.NotificationManager.fixNotification(NotificationManager.java:603)\nat android.app.NotificationManager.notifyAsUser(NotificationManager.java:582)\nat android.app.NotificationManager.notify(NotificationManager.java:531)\nat android.app.NotificationManager.notify(NotificationManager.java:507)\nat org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService.onStartCommand(JitsiMeetOngoingConferenceService.java:135)\nat android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4326)\nat android.app.ActivityThread.access$1800(ActivityThread.java:237) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951) \nat android.os.Handler.dispatchMessage(Handler.java:106) \nat android.os.Looper.loop(Looper.java:223) \nat android.app.ActivityThread.main(ActivityThread.java:7656) \nat java.lang.reflect.Method.invoke(Native Method) \nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947) \nE/JitsiMeetSDK: JitsiMeetUncaughtExceptionHandler FATAL ERROR\njava.lang.RuntimeException: Unable to start service org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService@416d006 with Intent { cmp=com.mediocre.mscasvideocallingapp/org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService (has extras) }: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\nat android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4344)\nat android.app.ActivityThread.access$1800(ActivityThread.java:237)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7656)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\nCaused by: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\nat android.app.NotificationManager.fixNotification(NotificationManager.java:603)\nat android.app.NotificationManager.notifyAsUser(NotificationManager.java:582)\nat android.app.NotificationManager.notify(NotificationManager.java:531)\nat android.app.NotificationManager.notify(NotificationManager.java:507)\nat org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService.onStartCommand(JitsiMeetOngoingConferenceService.java:135)\nat android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4326)\nat android.app.ActivityThread.access$1800(ActivityThread.java:237) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951) \nat android.os.Handler.dispatchMessage(Handler.java:106) \nat android.os.Looper.loop(Looper.java:223) \nat android.app.ActivityThread.main(ActivityThread.java:7656) \nat java.lang.reflect.Method.invoke(Native Method) \nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947) </p>\n<pre><code>java.lang.RuntimeException: Unable to start service org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService@416d006 with Intent { cmp=com.mediocre.mscasvideocallingapp/org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService (has extras) }: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\n    at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4344)\n    at android.app.ActivityThread.access$1800(ActivityThread.java:237)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:223)\n    at android.app.ActivityThread.main(ActivityThread.java:7656)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n Caused by: java.lang.IllegalArgumentException: Invalid notification (no valid small icon): Notification(channel=JitsiOngoingConferenceChannel shortcut=null contentView=null vibrate=null sound=null defaults=0x0 flags=0xa color=0x00000000 category=call actions=2 vis=PUBLIC)\n    at android.app.NotificationManager.fixNotification(NotificationManager.java:603)\n    at android.app.NotificationManager.notifyAsUser(NotificationManager.java:582)\n    at android.app.NotificationManager.notify(NotificationManager.java:531)\n    at android.app.NotificationManager.notify(NotificationManager.java:507)\n    at org.jitsi.meet.sdk.JitsiMeetOngoingConferenceService.onStartCommand(JitsiMeetOngoingConferenceService.java:135)\n    at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4326)\n    at android.app.ActivityThread.access$1800(ActivityThread.java:237) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1951) \n    at android.os.Handler.dispatchMessage(Handler.java:106) \n    at android.os.Looper.loop(Looper.java:223) \n    at android.app.ActivityThread.main(ActivityThread.java:7656) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947) \n</code></pre>\n<p>I/JitsiMeetSDK: JitsiConnectionService onAbort 0C8B3AB3-6349-4AC9-99C1-38AAC303AEC8\nD/JitsiMeetSDK: JitsiConnectionService onStateChanged: DISCONNECTED 0C8B3AB3-6349-4AC9-99C1-38AAC303AEC8\nI/Process: Sending signal. PID: 10453 SIG: 9</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":21341673,"reputation":79,"user_id":15712058,"display_name":"Alireza "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679117792,"creation_date":1679117792,"question_id":75774047,"body_markdown":"I used `TransitionManager` for change constraints in `ConstraintLayout`:\r\n\r\n    TransitionManager.beginDelayedTransition(binding.columnsContainer, transition)\r\n\r\nMy animation not displaying if the user changes the animation duration scale in the phone developer settings. How can I set the duration scale on `TransitionManager`?","title":"Ignore global animation duration scale for TransitionManager","body":"<p>I used <code>TransitionManager</code> for change constraints in <code>ConstraintLayout</code>:</p>\n<pre><code>TransitionManager.beginDelayedTransition(binding.columnsContainer, transition)\n</code></pre>\n<p>My animation not displaying if the user changes the animation duration scale in the phone developer settings. How can I set the duration scale on <code>TransitionManager</code>?</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679115908,"creation_date":1679114927,"answer_id":75773919,"question_id":75773891,"body_markdown":"Let&#39;s say `flag` is `Boolean.TRUE` to start an iteration of the loop. So, this:\r\n\r\n    synchronized (flag) {\r\n\r\nwill acquire the lock on `Boolean.TRUE`. Then, in the first thread, you do:\r\n\r\n    flag = false;\r\n    flag.notify();\r\n\r\nThis means you&#39;re trying to call `notify` on `Boolean.FALSE`, even though you never acquired the lock for that object. A similar thing happens in the second loop, just with `TRUE` and `FALSE` switched.\r\n\r\nYour working example succeeds because you never re-assign `obj`, meaning that each thread always calls `notify()` on the same object that it locked on within the `synchronized` statement.\r\n\r\nMore generally, acquiring a lock on a mutable variable is problematic. For example, this would let you have two threads enter the `synchronized` block at the same time: one enters it by locking on `TRUE`, and the other enters it by locking on `FALSE`. That&#39;s almost always a bug (the whole reason you have the `synchronized` is to prevent multiple threads from entering the block at the same time!), and when it _is_ what you want, a higher-level abstraction like [`java.util.concurrent.Semaphore`][1] is clearer and easier to use in a bug-free way.\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/Semaphore.html","title":"java.lang.IllegalMonitorStateException: current thread is not owner","body":"<p>Let's say <code>flag</code> is <code>Boolean.TRUE</code> to start an iteration of the loop. So, this:</p>\n<pre><code>synchronized (flag) {\n</code></pre>\n<p>will acquire the lock on <code>Boolean.TRUE</code>. Then, in the first thread, you do:</p>\n<pre><code>flag = false;\nflag.notify();\n</code></pre>\n<p>This means you're trying to call <code>notify</code> on <code>Boolean.FALSE</code>, even though you never acquired the lock for that object. A similar thing happens in the second loop, just with <code>TRUE</code> and <code>FALSE</code> switched.</p>\n<p>Your working example succeeds because you never re-assign <code>obj</code>, meaning that each thread always calls <code>notify()</code> on the same object that it locked on within the <code>synchronized</code> statement.</p>\n<p>More generally, acquiring a lock on a mutable variable is problematic. For example, this would let you have two threads enter the <code>synchronized</code> block at the same time: one enters it by locking on <code>TRUE</code>, and the other enters it by locking on <code>FALSE</code>. That's almost always a bug (the whole reason you have the <code>synchronized</code> is to prevent multiple threads from entering the block at the same time!), and when it <em>is</em> what you want, a higher-level abstraction like <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/Semaphore.html\" rel=\"nofollow noreferrer\"><code>java.util.concurrent.Semaphore</code></a> is clearer and easier to use in a bug-free way.</p>\n"}],"owner":{"account_id":28047683,"reputation":23,"user_id":21424139,"display_name":"SomeOne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75773919,"answer_count":1,"score":1,"last_activity_date":1679115908,"creation_date":1679114340,"question_id":75773891,"body_markdown":"I get `java.lang.IllegalMonitorStateException: current thread is not owner` on `notify` when I try to print &quot;1a2b3c...&quot; even `flag.nofity()` is in the syncrhonized block.\r\nHowever, if I use another object to synchronize and notify, it works as expected.\r\nCan someone explain why?\r\n```\r\nclass Main{\r\n    static volatile Boolean flag = true;\r\n    static int cnt = 26;\r\n\r\n    public static void main(String[] args) {\r\n        new Thread(() -&gt; {\r\n            for (int i = 1; i &lt;= cnt; i++) {\r\n                synchronized (flag) {\r\n                    try {\r\n                        while(!flag) flag.wait();\r\n                        System.out.print(i);\r\n                        flag = false;\r\n                        flag.notify();\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n        }).start();\r\n\r\n        new Thread(() -&gt; {\r\n            for (int i = 0; i &lt; cnt; i++) {\r\n                synchronized (flag) {\r\n                    try {\r\n                        while(flag) flag.wait();\r\n                        System.out.print((char) (i + &#39;a&#39;));\r\n                        flag = true;\r\n                        flag.notify();\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n        }).start();\r\n    }\r\n}\r\n```\r\n\r\n\r\nA working example\r\n```\r\nclass Main{\r\n    static volatile Boolean flag = true;\r\n    static Object obj = new Object();\r\n    static int cnt = 26;\r\n\r\n    public static void main(String[] args) {\r\n        new Thread(() -&gt; {\r\n            for (int i = 1; i &lt;= cnt; i++) {\r\n                synchronized (obj) {\r\n                    try {\r\n                        while(!flag) obj.wait();\r\n                        System.out.print(i);\r\n                        flag = false;\r\n                        obj.notify();\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n        }).start();\r\n\r\n        new Thread(() -&gt; {\r\n            for (int i = 0; i &lt; cnt; i++) {\r\n                synchronized (obj) {\r\n                    try {\r\n                        while(flag) obj.wait();\r\n                        System.out.print((char) (i + &#39;a&#39;));\r\n                        flag = true;\r\n                        obj.notify();\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n        }).start();\r\n    }\r\n}\r\n```\r\n","title":"java.lang.IllegalMonitorStateException: current thread is not owner","body":"<p>I get <code>java.lang.IllegalMonitorStateException: current thread is not owner</code> on <code>notify</code> when I try to print &quot;1a2b3c...&quot; even <code>flag.nofity()</code> is in the syncrhonized block.\nHowever, if I use another object to synchronize and notify, it works as expected.\nCan someone explain why?</p>\n<pre><code>class Main{\n    static volatile Boolean flag = true;\n    static int cnt = 26;\n\n    public static void main(String[] args) {\n        new Thread(() -&gt; {\n            for (int i = 1; i &lt;= cnt; i++) {\n                synchronized (flag) {\n                    try {\n                        while(!flag) flag.wait();\n                        System.out.print(i);\n                        flag = false;\n                        flag.notify();\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n        }).start();\n\n        new Thread(() -&gt; {\n            for (int i = 0; i &lt; cnt; i++) {\n                synchronized (flag) {\n                    try {\n                        while(flag) flag.wait();\n                        System.out.print((char) (i + 'a'));\n                        flag = true;\n                        flag.notify();\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n        }).start();\n    }\n}\n</code></pre>\n<p>A working example</p>\n<pre><code>class Main{\n    static volatile Boolean flag = true;\n    static Object obj = new Object();\n    static int cnt = 26;\n\n    public static void main(String[] args) {\n        new Thread(() -&gt; {\n            for (int i = 1; i &lt;= cnt; i++) {\n                synchronized (obj) {\n                    try {\n                        while(!flag) obj.wait();\n                        System.out.print(i);\n                        flag = false;\n                        obj.notify();\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n        }).start();\n\n        new Thread(() -&gt; {\n            for (int i = 0; i &lt; cnt; i++) {\n                synchronized (obj) {\n                    try {\n                        while(flag) obj.wait();\n                        System.out.print((char) (i + 'a'));\n                        flag = true;\n                        obj.notify();\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n        }).start();\n    }\n}\n</code></pre>\n"},{"tags":["java","vector","graphics","perlin-noise"],"owner":{"account_id":24550126,"reputation":82,"user_id":18459374,"display_name":"akaBryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679115083,"creation_date":1679115083,"question_id":75773927,"body_markdown":"I am creating a vector flow field program in java, and I have implemented my on Vector and Perlin Noise in Java. In my Noise class, which I built off of p5.js&#39; Perlin Noise class, I think everything thing is correct, however, when using it how I want implemented in my flow field program, as I increment the zoff (z coordinate) parameter, for animation, there are lots of skips in the actual animation as if the Perlin Noise is not generating smoothly. \r\n\r\nI tried comparing the Noise class to the p5.js library&#39;s Noise class and they are seemingly exact. The Vector class I have used has been used in plenty of other projects before seemingly perfectly, so I assume it&#39;s in how I am trying to animate, or the Noise class itself.\r\n\r\nHere are my classes for the program itself and the noise class.\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.MouseInfo;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.awt.event.MouseMotionListener;\r\nimport java.awt.geom.AffineTransform;\r\nimport java.util.Random;\r\n\r\nimport javax.swing.JPanel;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class FlowFieldPanel extends JPanel implements MouseMotionListener, MouseListener {\r\n\r\n\tprivate int displayWidth;\r\n\tprivate int displayHeight;\r\n\r\n\tprivate int cols;\r\n\tprivate int rows;\r\n\r\n\tprivate int scale;\r\n\tprivate double inc;\r\n\t\r\n\tprivate double zoff;\r\n\r\n\tprivate Random random;\r\n\r\n\tpublic FlowFieldPanel(int displayWidth, int displayHeight) {\r\n\r\n\t\tthis.displayWidth = displayWidth;\r\n\t\tthis.displayHeight = displayHeight;\r\n\t\tthis.setBackground(Color.white);\r\n\r\n\t\tscale = 15;\r\n\t\tinc = 0.01;\r\n\r\n\t\tcols = displayWidth / scale + 1;\r\n\t\trows = displayHeight / scale + 1;\r\n\t\t\r\n\t\tzoff=0;\r\n\r\n\t\trandom = new Random();\r\n\t}\r\n\r\n\tpublic Dimension getPreferredSize() {\r\n\t\treturn new Dimension(this.displayWidth, this.displayHeight);\r\n\t}\r\n\r\n\t// repaint\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tGraphics2D g2d = (Graphics2D) g;\r\n\t\tsuper.paintComponent(g);\r\n\r\n\t\tdouble yoff = 0;\r\n\t\tfor (int y = 0; y &lt; rows; y++) {\r\n\t\t\tdouble xoff = 0;\r\n\t\t\tfor (int x = 0; x &lt; cols; x++) {\r\n\t\t\t\tdouble angle = Noise.noise(xoff, yoff, zoff) * Math.PI * 2;\r\n\t\t\t\tVector v = Vector.fromAngle(angle, 1);\r\n\r\n\t\t\t\txoff += inc;\r\n\r\n\t\t\t\tg2d.setColor(Color.black);\r\n\t\t\t\tg2d.setStroke(new BasicStroke(2));\r\n\t\t\t\tAffineTransform settings = g2d.getTransform();\r\n\r\n\t\t\t\tg2d.translate(x * scale, y * scale);\r\n\t\t\t\tg2d.rotate(v.heading(true));\r\n\t\t\t\tg2d.drawLine(0, 0, scale, 0);\r\n\r\n\t\t\t\tg2d.setStroke(new BasicStroke());\r\n\t\t\t\tg2d.setTransform(settings);\r\n\t\t\t}\r\n\t\t\tyoff += inc;\r\n\t\t\t\r\n\t\t}\r\n\t\tzoff += 0.005;\r\n\t\t\r\n\t}\r\n\r\n\t// update function if using ticks\r\n\tpublic void update() {\r\n\t}\r\n\r\n\tpublic void drawMouse(Graphics g) {\r\n\t\tint width = 48;\r\n\t\tint height = 48;\r\n\t\tGraphics2D g2d = (Graphics2D) g;\r\n\t\tg2d.setColor(new Color(200, 200, 200));\r\n\t\tg2d.setStroke(new BasicStroke(2));\r\n\t\tg2d.setColor(new Color(127, 127, 127));\r\n\t\tg2d.fillOval((int) (getMouseRelativeToPanel().getX()) - width / 2,\r\n\t\t\t\t(int) (getMouseRelativeToPanel().getY()) - height / 2, width, height);\r\n\t\tg2d.setStroke(new BasicStroke());\r\n\t}\r\n\r\n\tpublic void drawMouseCoordinates(Graphics g) {\r\n\r\n\t}\r\n\r\n\t// getters and setters\r\n\tpublic Vector getMouseRelativeToPanel() {\r\n\t\treturn new Vector((int) (MouseInfo.getPointerInfo().getLocation().getX() - this.getLocationOnScreen().getX()),\r\n\t\t\t\t(int) (MouseInfo.getPointerInfo().getLocation().getY() - this.getLocationOnScreen().getY()));\r\n\t}\r\n\r\n\tpublic void setDisplayWidth(int displayWidth) {\r\n\t\tthis.displayWidth = displayWidth;\r\n\t}\r\n\r\n\tpublic int getDisplayWidth() {\r\n\t\treturn this.displayWidth;\r\n\t}\r\n\r\n\tpublic void setDisplayHeight(int displayHeight) {\r\n\t\tthis.displayHeight = displayHeight;\r\n\t}\r\n\r\n\tpublic int getDisplayHeight() {\r\n\t\treturn this.displayHeight;\r\n\t}\r\n\t// end getters and setters\r\n\r\n    //mouse listener and motion listener methods\r\n\t@Override\r\n\tpublic void mouseDragged(MouseEvent e) {\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseMoved(MouseEvent e) {\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseClicked(MouseEvent e) {\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mousePressed(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseReleased(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseEntered(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseExited(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```\r\n\r\npublic class Noise {\r\n\r\n\tprivate static final int PERLIN_YWRAPB = 4;\r\n\tprivate static final int PERLIN_YWRAP = 1 &lt;&lt; PERLIN_YWRAPB;\r\n\tprivate static final int PERLIN_ZWRAPB = 8;\r\n\tprivate static final int PERLIN_ZWRAP = 4 &lt;&lt; PERLIN_ZWRAPB;\r\n\tprivate static final int PERLIN_SIZE = 4095;\r\n\r\n\tprivate static double perlinOctaves = 4;\r\n\tprivate static double perlinAmpFalloff = 0.5;\r\n\r\n\tprivate static final long m = 4294967296l;\r\n    // a - 1 should be divisible by m&#39;s prime factors\r\n\tprivate static final long a = 1664525l;\r\n    // c and m should be co-prime\r\n\tprivate static final long c = 1013904223l;\r\n\t\r\n\tpublic static long seed, z;\r\n\t\r\n\tprivate static double[] perlin;\r\n\r\n\r\n\r\n\tpublic static double noise(double x, double y, double z) {\r\n\t\tif (perlin == null) {\r\n\t\t\tperlin = new double[PERLIN_SIZE + 1];\r\n\t\t\tfor (int i = 0; i &lt; PERLIN_SIZE + 1; i++) {\r\n\t\t\t\tperlin[i] = Math.random();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (x &lt; 0) {\r\n\t\t\tx = -x;\r\n\t\t}\r\n\t\tif (y &lt; 0) {\r\n\t\t\ty = -y;\r\n\t\t}\r\n\t\tif (z &lt; 0) {\r\n\t\t\tz = -z;\r\n\t\t}\r\n\r\n\t\tint xi = (int) Math.floor(x);\r\n\t\tint yi = (int) Math.floor(y);\r\n\t\tint zi = (int) Math.floor(z);\r\n\r\n\t\tdouble xf = x - xi;\r\n\t\tdouble yf = y - yi;\r\n\t\tdouble zf = z - zi;\r\n\r\n\t\tdouble rxf, ryf;\r\n\t\t\r\n\t\tdouble r = 0;\r\n\t\tdouble ampl = 0.5;\r\n\r\n\t\tdouble n1, n2, n3;\r\n\t\t\r\n\t\tfor (int o = 0; o &lt; perlinOctaves; o++) {\r\n\t\t\tint of = xi + (yi &lt;&lt; PERLIN_YWRAPB) + (zi &lt;&lt; PERLIN_ZWRAPB);\r\n\r\n\t\t\trxf = scaledCosine(xf);\r\n\t\t\tryf = scaledCosine(yf);\r\n\r\n\t\t\tn1 = perlin[of &amp; PERLIN_SIZE];\r\n\t\t\tn1 += rxf * (perlin[(of + 1) &amp; PERLIN_SIZE] - n1);\r\n\t\t\tn2 = perlin[(of + PERLIN_YWRAP) &amp; PERLIN_SIZE];\r\n\t\t\tn2 += rxf * (perlin[(of + PERLIN_YWRAP + 1) &amp; PERLIN_SIZE] - n2);\r\n\t\t\tn1 += ryf * (n2 - n1);\r\n\r\n\t\t\tof += PERLIN_ZWRAP;\r\n\t\t\tn2 = perlin[of &amp; PERLIN_SIZE];\r\n\t\t\tn2 += rxf * (perlin[(of + 1) &amp; PERLIN_SIZE] - n2);\r\n\t\t\tn3 = perlin[(of + PERLIN_YWRAP) &amp; PERLIN_SIZE];\r\n\t\t\tn3 += rxf * (perlin[(of + PERLIN_YWRAP + 1) &amp; PERLIN_SIZE] - n3);\r\n\t\t\tn2 += ryf * (n3 - n2);\r\n\r\n\t\t\tn1 += scaledCosine(zf) * (n2 - n1);\r\n\r\n\t\t\tr += n1 * ampl;\r\n\t\t\tampl *= perlinAmpFalloff;\r\n\t\t\txi &lt;&lt;= 1;\r\n\t\t\txf *= 2;\r\n\t\t\tyi &lt;&lt;= 1;\r\n\t\t\tyf *= 2;\r\n\t\t\tzi &lt;&lt;= 1;\r\n\t\t\tzf *= 2;\r\n\r\n\t\t\tif (xf &gt;= 1.0) {\r\n\t\t\t\txi++;\r\n\t\t\t\txf--;\r\n\t\t\t}\r\n\t\t\tif (yf &gt;= 1.0) {\r\n\t\t\t\tyi++;\r\n\t\t\t\tyf--;\r\n\t\t\t}\r\n\t\t\tif (zf &gt;= 1.0) {\r\n\t\t\t\tzi++;\r\n\t\t\t\tzf--;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn r;\r\n\t}\r\n\r\n\tpublic static void noiseDetail(double lod, double falloff) {\r\n\t\tif (lod &gt; 0) {\r\n\t\t\tNoise.perlinOctaves = lod;\r\n\t\t}\r\n\t\tif (falloff &gt; 0) {\r\n\t\t\tNoise.perlinAmpFalloff = falloff;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void noiseSeed(long seed) {\r\n\t\tlcgSetSeed(seed);\r\n\t\tperlin = new double[PERLIN_SIZE+1];\r\n\t\tfor(int i = 0; i&lt;PERLIN_SIZE+1; i++) {\r\n\t\t\tperlin[i] = lcgRand();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void lcgSetSeed(long value) {\r\n\t\tz = seed = (long)(Math.random() * m) &gt;&gt;&gt; 0;\r\n\t}\r\n\t\r\n\tpublic static long lcgGetSeed() {\r\n\t\treturn seed;\r\n\t}\r\n\t\r\n\tpublic static double lcgRand() {\r\n\t\tz = (a * z + c) % m;\r\n\t\treturn z/m;\r\n\t}\r\n\r\n\tpublic static double scaledCosine(double i) {\r\n\t\treturn 0.5 * (1.0 - Math.cos(i * Math.PI));\r\n\t}\r\n}\r\n\r\n```","title":"&quot;Skipping&quot; in Perlin Noise Generator in Java Flow Field Program","body":"<p>I am creating a vector flow field program in java, and I have implemented my on Vector and Perlin Noise in Java. In my Noise class, which I built off of p5.js' Perlin Noise class, I think everything thing is correct, however, when using it how I want implemented in my flow field program, as I increment the zoff (z coordinate) parameter, for animation, there are lots of skips in the actual animation as if the Perlin Noise is not generating smoothly.</p>\n<p>I tried comparing the Noise class to the p5.js library's Noise class and they are seemingly exact. The Vector class I have used has been used in plenty of other projects before seemingly perfectly, so I assume it's in how I am trying to animate, or the Noise class itself.</p>\n<p>Here are my classes for the program itself and the noise class.</p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.MouseInfo;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\nimport java.awt.geom.AffineTransform;\nimport java.util.Random;\n\nimport javax.swing.JPanel;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class FlowFieldPanel extends JPanel implements MouseMotionListener, MouseListener {\n\n    private int displayWidth;\n    private int displayHeight;\n\n    private int cols;\n    private int rows;\n\n    private int scale;\n    private double inc;\n    \n    private double zoff;\n\n    private Random random;\n\n    public FlowFieldPanel(int displayWidth, int displayHeight) {\n\n        this.displayWidth = displayWidth;\n        this.displayHeight = displayHeight;\n        this.setBackground(Color.white);\n\n        scale = 15;\n        inc = 0.01;\n\n        cols = displayWidth / scale + 1;\n        rows = displayHeight / scale + 1;\n        \n        zoff=0;\n\n        random = new Random();\n    }\n\n    public Dimension getPreferredSize() {\n        return new Dimension(this.displayWidth, this.displayHeight);\n    }\n\n    // repaint\n    public void paintComponent(Graphics g) {\n        Graphics2D g2d = (Graphics2D) g;\n        super.paintComponent(g);\n\n        double yoff = 0;\n        for (int y = 0; y &lt; rows; y++) {\n            double xoff = 0;\n            for (int x = 0; x &lt; cols; x++) {\n                double angle = Noise.noise(xoff, yoff, zoff) * Math.PI * 2;\n                Vector v = Vector.fromAngle(angle, 1);\n\n                xoff += inc;\n\n                g2d.setColor(Color.black);\n                g2d.setStroke(new BasicStroke(2));\n                AffineTransform settings = g2d.getTransform();\n\n                g2d.translate(x * scale, y * scale);\n                g2d.rotate(v.heading(true));\n                g2d.drawLine(0, 0, scale, 0);\n\n                g2d.setStroke(new BasicStroke());\n                g2d.setTransform(settings);\n            }\n            yoff += inc;\n            \n        }\n        zoff += 0.005;\n        \n    }\n\n    // update function if using ticks\n    public void update() {\n    }\n\n    public void drawMouse(Graphics g) {\n        int width = 48;\n        int height = 48;\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.setColor(new Color(200, 200, 200));\n        g2d.setStroke(new BasicStroke(2));\n        g2d.setColor(new Color(127, 127, 127));\n        g2d.fillOval((int) (getMouseRelativeToPanel().getX()) - width / 2,\n                (int) (getMouseRelativeToPanel().getY()) - height / 2, width, height);\n        g2d.setStroke(new BasicStroke());\n    }\n\n    public void drawMouseCoordinates(Graphics g) {\n\n    }\n\n    // getters and setters\n    public Vector getMouseRelativeToPanel() {\n        return new Vector((int) (MouseInfo.getPointerInfo().getLocation().getX() - this.getLocationOnScreen().getX()),\n                (int) (MouseInfo.getPointerInfo().getLocation().getY() - this.getLocationOnScreen().getY()));\n    }\n\n    public void setDisplayWidth(int displayWidth) {\n        this.displayWidth = displayWidth;\n    }\n\n    public int getDisplayWidth() {\n        return this.displayWidth;\n    }\n\n    public void setDisplayHeight(int displayHeight) {\n        this.displayHeight = displayHeight;\n    }\n\n    public int getDisplayHeight() {\n        return this.displayHeight;\n    }\n    // end getters and setters\n\n    //mouse listener and motion listener methods\n    @Override\n    public void mouseDragged(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n}\n</code></pre>\n<pre><code>\npublic class Noise {\n\n    private static final int PERLIN_YWRAPB = 4;\n    private static final int PERLIN_YWRAP = 1 &lt;&lt; PERLIN_YWRAPB;\n    private static final int PERLIN_ZWRAPB = 8;\n    private static final int PERLIN_ZWRAP = 4 &lt;&lt; PERLIN_ZWRAPB;\n    private static final int PERLIN_SIZE = 4095;\n\n    private static double perlinOctaves = 4;\n    private static double perlinAmpFalloff = 0.5;\n\n    private static final long m = 4294967296l;\n    // a - 1 should be divisible by m's prime factors\n    private static final long a = 1664525l;\n    // c and m should be co-prime\n    private static final long c = 1013904223l;\n    \n    public static long seed, z;\n    \n    private static double[] perlin;\n\n\n\n    public static double noise(double x, double y, double z) {\n        if (perlin == null) {\n            perlin = new double[PERLIN_SIZE + 1];\n            for (int i = 0; i &lt; PERLIN_SIZE + 1; i++) {\n                perlin[i] = Math.random();\n            }\n        }\n\n        if (x &lt; 0) {\n            x = -x;\n        }\n        if (y &lt; 0) {\n            y = -y;\n        }\n        if (z &lt; 0) {\n            z = -z;\n        }\n\n        int xi = (int) Math.floor(x);\n        int yi = (int) Math.floor(y);\n        int zi = (int) Math.floor(z);\n\n        double xf = x - xi;\n        double yf = y - yi;\n        double zf = z - zi;\n\n        double rxf, ryf;\n        \n        double r = 0;\n        double ampl = 0.5;\n\n        double n1, n2, n3;\n        \n        for (int o = 0; o &lt; perlinOctaves; o++) {\n            int of = xi + (yi &lt;&lt; PERLIN_YWRAPB) + (zi &lt;&lt; PERLIN_ZWRAPB);\n\n            rxf = scaledCosine(xf);\n            ryf = scaledCosine(yf);\n\n            n1 = perlin[of &amp; PERLIN_SIZE];\n            n1 += rxf * (perlin[(of + 1) &amp; PERLIN_SIZE] - n1);\n            n2 = perlin[(of + PERLIN_YWRAP) &amp; PERLIN_SIZE];\n            n2 += rxf * (perlin[(of + PERLIN_YWRAP + 1) &amp; PERLIN_SIZE] - n2);\n            n1 += ryf * (n2 - n1);\n\n            of += PERLIN_ZWRAP;\n            n2 = perlin[of &amp; PERLIN_SIZE];\n            n2 += rxf * (perlin[(of + 1) &amp; PERLIN_SIZE] - n2);\n            n3 = perlin[(of + PERLIN_YWRAP) &amp; PERLIN_SIZE];\n            n3 += rxf * (perlin[(of + PERLIN_YWRAP + 1) &amp; PERLIN_SIZE] - n3);\n            n2 += ryf * (n3 - n2);\n\n            n1 += scaledCosine(zf) * (n2 - n1);\n\n            r += n1 * ampl;\n            ampl *= perlinAmpFalloff;\n            xi &lt;&lt;= 1;\n            xf *= 2;\n            yi &lt;&lt;= 1;\n            yf *= 2;\n            zi &lt;&lt;= 1;\n            zf *= 2;\n\n            if (xf &gt;= 1.0) {\n                xi++;\n                xf--;\n            }\n            if (yf &gt;= 1.0) {\n                yi++;\n                yf--;\n            }\n            if (zf &gt;= 1.0) {\n                zi++;\n                zf--;\n            }\n\n        }\n        return r;\n    }\n\n    public static void noiseDetail(double lod, double falloff) {\n        if (lod &gt; 0) {\n            Noise.perlinOctaves = lod;\n        }\n        if (falloff &gt; 0) {\n            Noise.perlinAmpFalloff = falloff;\n        }\n    }\n    \n    public static void noiseSeed(long seed) {\n        lcgSetSeed(seed);\n        perlin = new double[PERLIN_SIZE+1];\n        for(int i = 0; i&lt;PERLIN_SIZE+1; i++) {\n            perlin[i] = lcgRand();\n        }\n    }\n    \n    public static void lcgSetSeed(long value) {\n        z = seed = (long)(Math.random() * m) &gt;&gt;&gt; 0;\n    }\n    \n    public static long lcgGetSeed() {\n        return seed;\n    }\n    \n    public static double lcgRand() {\n        z = (a * z + c) % m;\n        return z/m;\n    }\n\n    public static double scaledCosine(double i) {\n        return 0.5 * (1.0 - Math.cos(i * Math.PI));\n    }\n}\n\n</code></pre>\n"},{"tags":["java","max","min"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1511135888,"post_id":47383316,"comment_id":81719366,"body_markdown":"You&#39;ve got two nested for loops.  You don&#39;t need that.  One would be enough.","body":"You&#39;ve got two nested for loops.  You don&#39;t need that.  One would be enough."},{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1511135892,"post_id":47383316,"comment_id":81719370,"body_markdown":"you only need one loop to find the minimum and maximum numbers.","body":"you only need one loop to find the minimum and maximum numbers."},{"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"score":0,"creation_date":1511136039,"post_id":47383316,"comment_id":81719398,"body_markdown":"Basic debugging (or even just a code read through) would sort this out.","body":"Basic debugging (or even just a code read through) would sort this out."},{"owner":{"account_id":2774190,"reputation":13369,"user_id":3195526,"accept_rate":71,"display_name":"Paul Hicks"},"score":0,"creation_date":1511136056,"post_id":47383316,"comment_id":81719401,"body_markdown":"There are min and max methods already on the `Stream` class. See if you can convert your array to a Stream, that might be easier.","body":"There are min and max methods already on the <code>Stream</code> class. See if you can convert your array to a Stream, that might be easier."}],"answers":[{"tags":[],"owner":{"account_id":9333756,"reputation":53,"user_id":8458437,"display_name":"danwalkerdev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1511136269,"creation_date":1511136269,"answer_id":47383387,"question_id":47383316,"body_markdown":"Let&#39;s go through the process. Because this is an int array the values are initialized to `0`. In the first for loop we assign the first int to `a[0]`. Then in the second for loop we check every value in the array if it is maximal (so checking the first value against a load of zeros) then you exit the nested for loop and print the statement (with the value of `a[0]`, if it was positive).\r\n\r\nNow we go through the second cycle of the outer loop, if this was bigger again this value will be printed, otherwise the first value will be reprinted (was your array in ascending order by any chance?) and so on for each value.\r\n\r\nAs was commented, a single loop would be enough, and ensure your print statement is outside of the outer for loop\r\n\r\n    \r\n\r\nHope this helps","title":"Finding a minimum and maximum value in an array","body":"<p>Let's go through the process. Because this is an int array the values are initialized to <code>0</code>. In the first for loop we assign the first int to <code>a[0]</code>. Then in the second for loop we check every value in the array if it is maximal (so checking the first value against a load of zeros) then you exit the nested for loop and print the statement (with the value of <code>a[0]</code>, if it was positive).</p>\n\n<p>Now we go through the second cycle of the outer loop, if this was bigger again this value will be printed, otherwise the first value will be reprinted (was your array in ascending order by any chance?) and so on for each value.</p>\n\n<p>As was commented, a single loop would be enough, and ensure your print statement is outside of the outer for loop</p>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"display_name":"user8828810"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511136287,"creation_date":1511136287,"answer_id":47383391,"question_id":47383316,"body_markdown":"You only need one loop to check through the array.\r\n\r\nBelow is an example\r\n\r\n    int[] arr = {2, 3, 1, 6, 4, 7, 8, 5};\r\n    \r\n    int max = arr[0];\r\n    int min = arr[0];\r\n    \r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        if (arr[i] &gt; max) {\r\n            max = arr[i];\r\n        }\r\n        if (arr[i] &lt; min) {\r\n            min = arr[i];\r\n        }\r\n    }","title":"Finding a minimum and maximum value in an array","body":"<p>You only need one loop to check through the array.</p>\n\n<p>Below is an example</p>\n\n<pre><code>int[] arr = {2, 3, 1, 6, 4, 7, 8, 5};\n\nint max = arr[0];\nint min = arr[0];\n\nfor (int i = 0; i &lt; arr.length; i++) {\n    if (arr[i] &gt; max) {\n        max = arr[i];\n    }\n    if (arr[i] &lt; min) {\n        min = arr[i];\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511136489,"creation_date":1511136489,"answer_id":47383410,"question_id":47383316,"body_markdown":"You aren&#39;t fully populating the array before you search for more values. You shouldn&#39;t be searching forward. Also, you shouldn&#39;t print until after you determine the `min` and `max`. If you&#39;re using Java 8+, this problem is much easier to solve; map the args to int(s) and get the summary statistics. Like,\r\n\r\n\tIntSummaryStatistics stats = Stream.of(args).mapToInt(Integer::parseInt)\r\n\t\t\t.summaryStatistics();\r\n\tSystem.out.printf(&quot;The minimum value is %d%n&quot;, stats.getMin());\r\n\tSystem.out.printf(&quot;The maximum value is %d%n&quot;, stats.getMax());\r\n\r\n**or** fixing your current code, declare `min` and `max` outside the loop. Update them on each value. Then display the result. Like,\r\n\r\n\tint min = Integer.MAX_VALUE, max = Integer.MIN_VALUE;\r\n\tint[] a = new int[args.length];\r\n\tfor (int i = 0; i &lt; args.length; i++) {\r\n\t\ta[i] = Integer.parseInt(args[i]);\r\n\t\tmax = Math.max(a[i], max);\r\n\t\tmin = Math.min(a[i], min);\r\n\t}\r\n\tSystem.out.printf(&quot;The minimum value is %d%n&quot;, min);\r\n\tSystem.out.printf(&quot;The maximum value is %d%n&quot;, max);\r\n\r\n","title":"Finding a minimum and maximum value in an array","body":"<p>You aren't fully populating the array before you search for more values. You shouldn't be searching forward. Also, you shouldn't print until after you determine the <code>min</code> and <code>max</code>. If you're using Java 8+, this problem is much easier to solve; map the args to int(s) and get the summary statistics. Like,</p>\n\n<pre><code>IntSummaryStatistics stats = Stream.of(args).mapToInt(Integer::parseInt)\n        .summaryStatistics();\nSystem.out.printf(\"The minimum value is %d%n\", stats.getMin());\nSystem.out.printf(\"The maximum value is %d%n\", stats.getMax());\n</code></pre>\n\n<p><strong>or</strong> fixing your current code, declare <code>min</code> and <code>max</code> outside the loop. Update them on each value. Then display the result. Like,</p>\n\n<pre><code>int min = Integer.MAX_VALUE, max = Integer.MIN_VALUE;\nint[] a = new int[args.length];\nfor (int i = 0; i &lt; args.length; i++) {\n    a[i] = Integer.parseInt(args[i]);\n    max = Math.max(a[i], max);\n    min = Math.min(a[i], min);\n}\nSystem.out.printf(\"The minimum value is %d%n\", min);\nSystem.out.printf(\"The maximum value is %d%n\", max);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11213263,"reputation":761,"user_id":8226733,"display_name":"TheQuestioner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564775666,"creation_date":1511140030,"answer_id":47383765,"question_id":47383316,"body_markdown":"You do not need loops at all, try Streams:\r\n\r\n    int[] a = { 1, 2, 3, 4, 5 };\r\n    \r\n    int max = Arrays.stream(a).max().getAsInt();\r\n    int min = Arrays.stream(a).min().getAsInt();\r\n    \r\n    System.out.println(&quot;max value is: &quot; + max);\r\n    System.out.println(&quot;min value is: &quot; + min);\r\n\r\n\r\nOutput is :\r\n\r\n    max value is: 5\r\n    min value is: 1","title":"Finding a minimum and maximum value in an array","body":"<p>You do not need loops at all, try Streams:</p>\n\n<pre><code>int[] a = { 1, 2, 3, 4, 5 };\n\nint max = Arrays.stream(a).max().getAsInt();\nint min = Arrays.stream(a).min().getAsInt();\n\nSystem.out.println(\"max value is: \" + max);\nSystem.out.println(\"min value is: \" + min);\n</code></pre>\n\n<p>Output is :</p>\n\n<pre><code>max value is: 5\nmin value is: 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16300382,"reputation":1,"user_id":11771657,"display_name":"Karthik Gunasekaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679114245,"creation_date":1679112648,"answer_id":75773819,"question_id":47383316,"body_markdown":"```\r\nint value = {5, 1, 6, 9, 10};\r\nArrayList&lt;Integer&gt; listValues = Arrays.stream(value).boxed().collect(Collectors.toCollection(ArrayList::new));\r\n\r\n// Collections class &#39;min&#39; and &#39;max&#39; method\r\nint min = Collections.min(listValues);\r\nint max = Collections.max(listValues);\r\n          (OR) \r\n// Java8\r\nint min = listVlaues.stream().min(Integer::compare).get();\r\nint max = listValues.stream().max(Integer::compare).get();\r\n```","title":"Finding a minimum and maximum value in an array","body":"<pre><code>int value = {5, 1, 6, 9, 10};\nArrayList&lt;Integer&gt; listValues = Arrays.stream(value).boxed().collect(Collectors.toCollection(ArrayList::new));\n\n// Collections class 'min' and 'max' method\nint min = Collections.min(listValues);\nint max = Collections.max(listValues);\n          (OR) \n// Java8\nint min = listVlaues.stream().min(Integer::compare).get();\nint max = listValues.stream().max(Integer::compare).get();\n</code></pre>\n"}],"owner":{"account_id":12113956,"reputation":65,"user_id":8849297,"accept_rate":100,"display_name":"A.Bg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4102,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":47383387,"answer_count":5,"score":-1,"last_activity_date":1679114245,"creation_date":1511135733,"question_id":47383316,"body_markdown":"So I&#39;m trying to find a min and max of an array which are put in by the user.\r\n\r\nThis is my code\r\n\r\n    public static void main(String[] args) {\r\n       \r\n        int[] a = new int[args.length];\r\n        for (int i = 0; i &lt; args.length; i++) {\r\n            a[i] = Integer.parseInt(args[i]);\r\n            int max = a[0];\r\n            for (int j = 1; j &lt; args.length; j++) {\r\n                if (a[j] &gt; max) {\r\n                    max = a[j];\r\n                }\r\n            } \r\n            System.out.println(&quot;the maximum value of the array is &quot; + max);\r\n        }\r\n    }\r\n\r\nBut the output I am getting is every single number I have put in. What is my mistake here?\r\n\r\n","title":"Finding a minimum and maximum value in an array","body":"<p>So I'm trying to find a min and max of an array which are put in by the user.</p>\n\n<p>This is my code</p>\n\n<pre><code>public static void main(String[] args) {\n\n    int[] a = new int[args.length];\n    for (int i = 0; i &lt; args.length; i++) {\n        a[i] = Integer.parseInt(args[i]);\n        int max = a[0];\n        for (int j = 1; j &lt; args.length; j++) {\n            if (a[j] &gt; max) {\n                max = a[j];\n            }\n        } \n        System.out.println(\"the maximum value of the array is \" + max);\n    }\n}\n</code></pre>\n\n<p>But the output I am getting is every single number I have put in. What is my mistake here?</p>\n"},{"tags":["java","kotlin","junit5","parameterized-unit-test"],"comments":[{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1679093256,"post_id":46712485,"comment_id":133665565,"body_markdown":"You say &quot;three parameters: `string`, `string` and `list&lt;string&gt;`&quot;, but your example has `Int, String, List&lt;String&gt;`.  Were those intended to be consistent with each other?","body":"You say &quot;three parameters: <code>string</code>, <code>string</code> and <code>list&lt;string&gt;</code>&quot;, but your example has <code>Int, String, List&lt;String&gt;</code>.  Were those intended to be consistent with each other?"}],"answers":[{"tags":[],"owner":{"account_id":26177,"reputation":7590,"user_id":67872,"accept_rate":86,"display_name":"StefanE"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1507820269,"creation_date":1507820269,"answer_id":46712826,"question_id":46712485,"body_markdown":"Provide the third element as a comma separated string and the split the string into a List&lt;String&gt; inside you test.\r\n\r\nAt this point I&#39;m pretty sure Junit5 Test Parameters does not support anything else than primitive types and CsvSource only one allowing mixing of the types.","title":"How to pass a list as a JUnit5&#39;s parameterized test parameter?","body":"<p>Provide the third element as a comma separated string and the split the string into a List inside you test.</p>\n\n<p>At this point I'm pretty sure Junit5 Test Parameters does not support anything else than primitive types and CsvSource only one allowing mixing of the types.</p>\n"},{"tags":[],"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1507903101,"creation_date":1507903101,"answer_id":46731651,"question_id":46712485,"body_markdown":"There is no reason to use a _hack_ as suggested by StefanE.\r\n\r\n&gt; At this point I&#39;m pretty sure Junit5 Test Parameters does not support anything else than primitive types and CsvSource only one allowing mixing of the types.\r\n\r\nActually, JUnit Jupiter supports parameters of any type. It&#39;s just that the `@CsvSource` is limited to a few primitive types and `String`.\r\n\r\nThus instead of using a `@CsvSource`, you should use a `@MethodSource` as follows.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\t\r\n\t@ParameterizedTest\r\n\t@MethodSource(&quot;generateData&quot;)\r\n\tvoid shouldGetDataBit(int first, String second, List&lt;String&gt; third) {\r\n\t\tSystem.out.println(first);\r\n\t\tSystem.out.println(second);\r\n\t\tSystem.out.println(third);\r\n\t}\r\n\t\r\n\tstatic Stream&lt;Arguments&gt; generateData() {\r\n\t\treturn Stream.of(\r\n\t\t\tArguments.of(1, &quot;foo&quot;, Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)),\r\n\t\t\tArguments.of(2, &quot;bar&quot;, Arrays.asList(&quot;x&quot;, &quot;y&quot;, &quot;z&quot;))\r\n\t\t);\r\n\t}\r\n","title":"How to pass a list as a JUnit5&#39;s parameterized test parameter?","body":"<p>There is no reason to use a <em>hack</em> as suggested by StefanE.</p>\n\n<blockquote>\n  <p>At this point I'm pretty sure Junit5 Test Parameters does not support anything else than primitive types and CsvSource only one allowing mixing of the types.</p>\n</blockquote>\n\n<p>Actually, JUnit Jupiter supports parameters of any type. It's just that the <code>@CsvSource</code> is limited to a few primitive types and <code>String</code>.</p>\n\n<p>Thus instead of using a <code>@CsvSource</code>, you should use a <code>@MethodSource</code> as follows.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterizedTest\n@MethodSource(\"generateData\")\nvoid shouldGetDataBit(int first, String second, List&lt;String&gt; third) {\n    System.out.println(first);\n    System.out.println(second);\n    System.out.println(third);\n}\n\nstatic Stream&lt;Arguments&gt; generateData() {\n    return Stream.of(\n        Arguments.of(1, \"foo\", Arrays.asList(\"a\", \"b\", \"c\")),\n        Arguments.of(2, \"bar\", Arrays.asList(\"x\", \"y\", \"z\"))\n    );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679114074,"creation_date":1679094925,"answer_id":75772909,"question_id":46712485,"body_markdown":"If you really want to pass in a delimited list as part of the CSV (for instance, maybe it really does make the code look a lot cleaner), you can use the [explicit conversion](https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-argument-conversion-explicit) functionality of JUnit using a custom [`ArgumentConverter`](https://junit.org/junit5/docs/5.9.2/api/org.junit.jupiter.params/org/junit/jupiter/params/converter/ArgumentConverter.html).\r\n\r\n```lang-java\r\n@CsvSource({\r\n        &quot;First,A;B&quot;,\r\n        &quot;Second,C&quot;,\r\n        &quot;,&quot;,\r\n        &quot;&#39;&#39;,&#39;&#39;&quot;\r\n})\r\n@ParameterizedTest\r\npublic void testMethod(String string,\r\n                       @ConvertWith(StringToStringListArgumentConverter.class)\r\n                       List&lt;String&gt; list) {\r\n    // ...\r\n}\r\n\r\n@SuppressWarnings(&quot;rawtypes&quot;)\r\npublic static class StringToStringListArgumentConverter\r\n        extends TypedArgumentConverter&lt;String, List&gt; {\r\n    protected StringToStringListArgumentConverter() {\r\n        super(String.class, List.class);\r\n    }\r\n\r\n    @Override\r\n    protected List convert(String source)\r\n            throws ArgumentConversionException {\r\n        if (source == null) {\r\n            return null;\r\n        } else if (source.isEmpty()) {\r\n            return List.of();\r\n        } else {\r\n            return List.of(source.split(&quot;;&quot;));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## Fully generic list conversion\r\n\r\nIf you&#39;re planning on using the list conversion in multiple places with different element types in each place (e.g. `List&lt;String&gt;`, `List&lt;Integer&gt;`, `List&lt;LocalDate&gt;`), you could create a generic argument converter that delegates to a different argument converter to convert the different element types).\r\n\r\nThe following is an example that uses the Google Guava [`TypeToken`](https://guava.dev/releases/31.1-jre/api/docs/com/google/common/reflect/TypeToken.html) class to determine the list element type, and the built-in internal JUnit [`DefaultArgumentConverter`](https://junit.org/junit5/docs/5.9.2/api/org.junit.jupiter.params/org/junit/jupiter/params/converter/DefaultArgumentConverter.html) to perform the element conversions:\r\n\r\n```lang-java\r\n@CsvSource({\r\n        &quot;First,1;2&quot;,\r\n        &quot;Second,3&quot;,\r\n        &quot;,&quot;,\r\n        &quot;&#39;&#39;,&#39;&#39;&quot;\r\n})\r\n@ParameterizedTest\r\npublic void testMethod(String string,\r\n                       @ConvertWith(StringToListArgumentConverter.class)\r\n                       List&lt;Integer&gt; list) {\r\n    // ...\r\n}\r\n\r\npublic static class StringToListArgumentConverter\r\n        implements ArgumentConverter {\r\n    @Override\r\n    public Object convert(Object source, ParameterContext context)\r\n            throws ArgumentConversionException {\r\n        if (source != null &amp;&amp; !(source instanceof String)) {\r\n            throw new ArgumentConversionException(&quot;Source must be a string&quot;);\r\n        }\r\n        if (!List.class.isAssignableFrom(context.getParameter().getType())) {\r\n            throw new ArgumentConversionException(&quot;Target must be a list&quot;);\r\n        }\r\n        String sourceString = (String) source;\r\n        if (sourceString == null) {\r\n            return null;\r\n        } else if (sourceString.isEmpty()) {\r\n            return List.of();\r\n        }\r\n\r\n        @SuppressWarnings(&quot;UnstableApiUsage&quot;)\r\n        Class&lt;?&gt; elementType =\r\n                TypeToken.of(context.getParameter().getParameterizedType())\r\n                        .resolveType(List.class.getTypeParameters()[0])\r\n                        .getRawType();\r\n\r\n        return Arrays.stream(sourceString.split(&quot;;&quot;))\r\n                .map(s -&gt; DefaultArgumentConverter.INSTANCE\r\n                        .convert(s, elementType))\r\n                .toList();\r\n    }\r\n}\r\n```","title":"How to pass a list as a JUnit5&#39;s parameterized test parameter?","body":"<p>If you really want to pass in a delimited list as part of the CSV (for instance, maybe it really does make the code look a lot cleaner), you can use the <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-argument-conversion-explicit\" rel=\"nofollow noreferrer\">explicit conversion</a> functionality of JUnit using a custom <a href=\"https://junit.org/junit5/docs/5.9.2/api/org.junit.jupiter.params/org/junit/jupiter/params/converter/ArgumentConverter.html\" rel=\"nofollow noreferrer\"><code>ArgumentConverter</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CsvSource({\n        &quot;First,A;B&quot;,\n        &quot;Second,C&quot;,\n        &quot;,&quot;,\n        &quot;'',''&quot;\n})\n@ParameterizedTest\npublic void testMethod(String string,\n                       @ConvertWith(StringToStringListArgumentConverter.class)\n                       List&lt;String&gt; list) {\n    // ...\n}\n\n@SuppressWarnings(&quot;rawtypes&quot;)\npublic static class StringToStringListArgumentConverter\n        extends TypedArgumentConverter&lt;String, List&gt; {\n    protected StringToStringListArgumentConverter() {\n        super(String.class, List.class);\n    }\n\n    @Override\n    protected List convert(String source)\n            throws ArgumentConversionException {\n        if (source == null) {\n            return null;\n        } else if (source.isEmpty()) {\n            return List.of();\n        } else {\n            return List.of(source.split(&quot;;&quot;));\n        }\n    }\n}\n</code></pre>\n<h2>Fully generic list conversion</h2>\n<p>If you're planning on using the list conversion in multiple places with different element types in each place (e.g. <code>List&lt;String&gt;</code>, <code>List&lt;Integer&gt;</code>, <code>List&lt;LocalDate&gt;</code>), you could create a generic argument converter that delegates to a different argument converter to convert the different element types).</p>\n<p>The following is an example that uses the Google Guava <a href=\"https://guava.dev/releases/31.1-jre/api/docs/com/google/common/reflect/TypeToken.html\" rel=\"nofollow noreferrer\"><code>TypeToken</code></a> class to determine the list element type, and the built-in internal JUnit <a href=\"https://junit.org/junit5/docs/5.9.2/api/org.junit.jupiter.params/org/junit/jupiter/params/converter/DefaultArgumentConverter.html\" rel=\"nofollow noreferrer\"><code>DefaultArgumentConverter</code></a> to perform the element conversions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CsvSource({\n        &quot;First,1;2&quot;,\n        &quot;Second,3&quot;,\n        &quot;,&quot;,\n        &quot;'',''&quot;\n})\n@ParameterizedTest\npublic void testMethod(String string,\n                       @ConvertWith(StringToListArgumentConverter.class)\n                       List&lt;Integer&gt; list) {\n    // ...\n}\n\npublic static class StringToListArgumentConverter\n        implements ArgumentConverter {\n    @Override\n    public Object convert(Object source, ParameterContext context)\n            throws ArgumentConversionException {\n        if (source != null &amp;&amp; !(source instanceof String)) {\n            throw new ArgumentConversionException(&quot;Source must be a string&quot;);\n        }\n        if (!List.class.isAssignableFrom(context.getParameter().getType())) {\n            throw new ArgumentConversionException(&quot;Target must be a list&quot;);\n        }\n        String sourceString = (String) source;\n        if (sourceString == null) {\n            return null;\n        } else if (sourceString.isEmpty()) {\n            return List.of();\n        }\n\n        @SuppressWarnings(&quot;UnstableApiUsage&quot;)\n        Class&lt;?&gt; elementType =\n                TypeToken.of(context.getParameter().getParameterizedType())\n                        .resolveType(List.class.getTypeParameters()[0])\n                        .getRawType();\n\n        return Arrays.stream(sourceString.split(&quot;;&quot;))\n                .map(s -&gt; DefaultArgumentConverter.INSTANCE\n                        .convert(s, elementType))\n                .toList();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2570598,"reputation":13282,"user_id":2229438,"accept_rate":94,"display_name":"Grzegorz Piwowarek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27873,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":46731651,"answer_count":3,"score":18,"last_activity_date":1679114074,"creation_date":1507819293,"question_id":46712485,"body_markdown":"I want to parameterize my JUnit5 tests using three parameters: `string`, `string` and `list&lt;string&gt;`.\r\n\r\nNo luck so far when using `@CsvSource`, which is the most convenient way of passing params for my use case:\r\n\r\n&gt; No implicit conversion to convert object of type java.lang.String to\r\n&gt; type java.util.List\r\n\r\nThe actual test is:\r\n\r\n    @ParameterizedTest()\r\n    @CsvSource(\r\n      &quot;2,1&quot;\r\n     )\r\n    fun shouldGetDataBit(first: Int, second: String, third: List&lt;String&gt;) {\r\n        ...\r\n    }\r\n\r\nAny idea if this is possible? I&#39;m using Kotlin here but it should be irrelevant.","title":"How to pass a list as a JUnit5&#39;s parameterized test parameter?","body":"<p>I want to parameterize my JUnit5 tests using three parameters: <code>string</code>, <code>string</code> and <code>list&lt;string&gt;</code>.</p>\n\n<p>No luck so far when using <code>@CsvSource</code>, which is the most convenient way of passing params for my use case:</p>\n\n<blockquote>\n  <p>No implicit conversion to convert object of type java.lang.String to\n  type java.util.List</p>\n</blockquote>\n\n<p>The actual test is:</p>\n\n<pre><code>@ParameterizedTest()\n@CsvSource(\n  \"2,1\"\n )\nfun shouldGetDataBit(first: Int, second: String, third: List&lt;String&gt;) {\n    ...\n}\n</code></pre>\n\n<p>Any idea if this is possible? I'm using Kotlin here but it should be irrelevant.</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":1,"creation_date":1678731545,"post_id":75723742,"comment_id":133587136,"body_markdown":"Welcome on StackOverflow, can you show your code to make a [mre] ?","body":"Welcome on StackOverflow, can you show your code to make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":22166369,"reputation":198,"user_id":16412496,"display_name":"baggiogiacomo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678831914,"creation_date":1678810942,"answer_id":75735848,"question_id":75723742,"body_markdown":"To make the enchantment only work on melee attacks and not on bows, you need to modify the `canApplyTogether` method of your enchantment class.\r\n\r\nHere&#39;s how you can do it:\r\n\r\n```java\r\n@Override\r\npublic boolean canApplyTogether(Enchantment ench) {\r\n    // Don&#39;t apply if the other enchantment is an arrow-based enchantment\r\n    if (ench instanceof EnchantmentArrowDamage || ench instanceof EnchantmentArrowFire || ench instanceof EnchantmentArrowInfinite) {\r\n        return false;\r\n    }\r\n    return super.canApplyTogether(ench);\r\n}\r\n```\r\n\r\nThis method checks if the other enchantment is an arrow-based enchantment (such as `EnchantmentArrowDamage`, `EnchantmentArrowFire`, or `EnchantmentArrowInfinite`) and returns false if it is. Otherwise, it calls the super implementation to check if the enchantment can be applied together with other enchantments.\r\n\r\nBy overriding this method, you can control which enchantments can be applied together with your custom enchantment. In this case, by preventing arrow-based enchantments from being combined with your poison enchantment, you ensure that it only affects melee attacks.","title":"How do you stop a custom enchantment from working whe applied to a bow and arrow?","body":"<p>To make the enchantment only work on melee attacks and not on bows, you need to modify the <code>canApplyTogether</code> method of your enchantment class.</p>\n<p>Here's how you can do it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean canApplyTogether(Enchantment ench) {\n    // Don't apply if the other enchantment is an arrow-based enchantment\n    if (ench instanceof EnchantmentArrowDamage || ench instanceof EnchantmentArrowFire || ench instanceof EnchantmentArrowInfinite) {\n        return false;\n    }\n    return super.canApplyTogether(ench);\n}\n</code></pre>\n<p>This method checks if the other enchantment is an arrow-based enchantment (such as <code>EnchantmentArrowDamage</code>, <code>EnchantmentArrowFire</code>, or <code>EnchantmentArrowInfinite</code>) and returns false if it is. Otherwise, it calls the super implementation to check if the enchantment can be applied together with other enchantments.</p>\n<p>By overriding this method, you can control which enchantments can be applied together with your custom enchantment. In this case, by preventing arrow-based enchantments from being combined with your poison enchantment, you ensure that it only affects melee attacks.</p>\n"}],"owner":{"account_id":28006932,"reputation":1,"user_id":21390173,"display_name":"Wes0_0"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679112583,"creation_date":1678720508,"question_id":75723742,"body_markdown":"I made an enchantment in Minecraft Forge that poisons the entity that you hit, but it also works with a bow. I don&#39;t want that. I want it to work like the fire aspect enchantment. Does anyone know how to fix this?\r\n\r\nI tried to look into the fire aspect code but I couldn&#39;t find anything about a bow.","title":"How do you stop a custom enchantment from working whe applied to a bow and arrow?","body":"<p>I made an enchantment in Minecraft Forge that poisons the entity that you hit, but it also works with a bow. I don't want that. I want it to work like the fire aspect enchantment. Does anyone know how to fix this?</p>\n<p>I tried to look into the fire aspect code but I couldn't find anything about a bow.</p>\n"},{"tags":["java","minecraft","spigot"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678968578,"creation_date":1678968578,"answer_id":75756064,"question_id":75755873,"body_markdown":"You need to filter if you are waiting for player confirmation. You can do it in lot of way, but I suggest you to create a list, and put all players that need to confirm. For example:\r\n```java\r\npublic static List&lt;Player&gt; waitingConfirmations = new ArrayList&lt;&gt;(); // create the list\r\n\r\npublic static void jlvlup(Player player,int currentLevel) {\r\n    if(currentLevel == 1) {\r\n         player.sendMessage(ChatColor.DARK_RED + &quot;Do you confirm upgrade spawner to Level 2 for 5000000$ ? (Y/N) Write to chat.&quot;);\r\n         player.closeInventory(); \r\n         waitingConfirmations.add(player); // here add to list\r\n    }\r\n}\r\n```\r\nThen, for the chat, do:\r\n```java\r\nif(message.equalsIgnoreCase(&quot;Y&quot;) &amp;&amp; waitingConfirmations.contains(player)) { // check if in list\r\n    // here pass to level 2\r\n}\r\n```\r\nNote: `message` is the chat message. I didn&#39;t wrote full method as you didn&#39;t give it","title":"How can I confirm an event when the player types a key word?","body":"<p>You need to filter if you are waiting for player confirmation. You can do it in lot of way, but I suggest you to create a list, and put all players that need to confirm. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Player&gt; waitingConfirmations = new ArrayList&lt;&gt;(); // create the list\n\npublic static void jlvlup(Player player,int currentLevel) {\n    if(currentLevel == 1) {\n         player.sendMessage(ChatColor.DARK_RED + &quot;Do you confirm upgrade spawner to Level 2 for 5000000$ ? (Y/N) Write to chat.&quot;);\n         player.closeInventory(); \n         waitingConfirmations.add(player); // here add to list\n    }\n}\n</code></pre>\n<p>Then, for the chat, do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(message.equalsIgnoreCase(&quot;Y&quot;) &amp;&amp; waitingConfirmations.contains(player)) { // check if in list\n    // here pass to level 2\n}\n</code></pre>\n<p>Note: <code>message</code> is the chat message. I didn't wrote full method as you didn't give it</p>\n"}],"owner":{"account_id":27201205,"reputation":1,"user_id":20733433,"display_name":"Archuleus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679112512,"creation_date":1678967431,"question_id":75755873,"body_markdown":"I&#39;ve a problem about typing confirmation.\r\nI&#39;m doing Virtual Spawner plugin.\r\n\r\nIf player has enough money and typing Y his spawner gonna upgrade to Lvl2.\r\n\r\nMy question is how can I do this Y or N confirmation? I thought with AsyncPlayerChatEvent. But this time every Y or N trigger Upgrading.\r\n```\r\npublic static void jlvlup(Player player,int currentLevel) {\r\n    String lvlup2= ChatColor.DARK_RED+&quot;Do you confirm upgrade spawner to Level 2 for 5000000$ ?(Y/N) Write to chat.&quot;;\r\n    if(currentLevel==1) {\r\n         player.sendMessage(lvlup2);\r\n         player.closeInventory(); \r\n    }\r\n}\r\n```","title":"How can I confirm an event when the player types a key word?","body":"<p>I've a problem about typing confirmation.\nI'm doing Virtual Spawner plugin.</p>\n<p>If player has enough money and typing Y his spawner gonna upgrade to Lvl2.</p>\n<p>My question is how can I do this Y or N confirmation? I thought with AsyncPlayerChatEvent. But this time every Y or N trigger Upgrading.</p>\n<pre><code>public static void jlvlup(Player player,int currentLevel) {\n    String lvlup2= ChatColor.DARK_RED+&quot;Do you confirm upgrade spawner to Level 2 for 5000000$ ?(Y/N) Write to chat.&quot;;\n    if(currentLevel==1) {\n         player.sendMessage(lvlup2);\n         player.closeInventory(); \n    }\n}\n</code></pre>\n"},{"tags":["java","string","arraylist","converters"],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":1,"up_vote_count":333,"is_accepted":true,"score":332,"last_activity_date":1477926680,"creation_date":1315484319,"answer_id":7347895,"question_id":7347856,"body_markdown":"Try something like\r\n\r\n    List&lt;String&gt; myList = new ArrayList&lt;String&gt;(Arrays.asList(s.split(&quot;,&quot;)));\r\n\r\n- [`Arrays.asList` documentation](http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29)\r\n- [`String.split` documentation](http://download.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29)\r\n- [`ArrayList(Collection)` constructor documentation](http://download.oracle.com/javase/6/docs/api/java/util/ArrayList.html#ArrayList%28java.util.Collection%29)\r\n\r\n----------\r\n\r\nDemo:\r\n\r\n    String s = &quot;lorem,ipsum,dolor,sit,amet&quot;;\r\n    \r\n    List&lt;String&gt; myList = new ArrayList&lt;String&gt;(Arrays.asList(s.split(&quot;,&quot;)));\r\n    \r\n    System.out.println(myList);  // prints [lorem, ipsum, dolor, sit, amet]\r\n\r\n\r\n----------\r\n\r\nThis post has been rewritten as an article [here](http://programming.guide/java/split-string-into-arraylist.html).","title":"How to convert a String into an ArrayList?","body":"<p>Try something like</p>\n\n<pre><code>List&lt;String&gt; myList = new ArrayList&lt;String&gt;(Arrays.asList(s.split(\",\")));\n</code></pre>\n\n<ul>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29\" rel=\"noreferrer\"><code>Arrays.asList</code> documentation</a></li>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29\" rel=\"noreferrer\"><code>String.split</code> documentation</a></li>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/ArrayList.html#ArrayList%28java.util.Collection%29\" rel=\"noreferrer\"><code>ArrayList(Collection)</code> constructor documentation</a></li>\n</ul>\n\n<hr>\n\n<p>Demo:</p>\n\n<pre><code>String s = \"lorem,ipsum,dolor,sit,amet\";\n\nList&lt;String&gt; myList = new ArrayList&lt;String&gt;(Arrays.asList(s.split(\",\")));\n\nSystem.out.println(myList);  // prints [lorem, ipsum, dolor, sit, amet]\n</code></pre>\n\n<hr>\n\n<p>This post has been rewritten as an article <a href=\"http://programming.guide/java/split-string-into-arraylist.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":186312,"reputation":9244,"user_id":423620,"accept_rate":88,"display_name":"Sameek Mishra"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1507403308,"creation_date":1315484881,"answer_id":7347999,"question_id":7347856,"body_markdown":"     String s1=&quot;[a,b,c,d]&quot;;\r\n     String replace = s1.replace(&quot;[&quot;,&quot;&quot;);\r\n     System.out.println(replace);\r\n     String replace1 = replace.replace(&quot;]&quot;,&quot;&quot;);\r\n     System.out.println(replace1);\r\n     List&lt;String&gt; myList = new ArrayList&lt;String&gt;(Arrays.asList(replace1.split(&quot;,&quot;)));\r\n     System.out.println(myList.toString());","title":"How to convert a String into an ArrayList?","body":"<pre><code> String s1=\"[a,b,c,d]\";\n String replace = s1.replace(\"[\",\"\");\n System.out.println(replace);\n String replace1 = replace.replace(\"]\",\"\");\n System.out.println(replace1);\n List&lt;String&gt; myList = new ArrayList&lt;String&gt;(Arrays.asList(replace1.split(\",\")));\n System.out.println(myList.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":895026,"reputation":764,"user_id":932506,"display_name":"denolk"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1315485036,"creation_date":1315485036,"answer_id":7348024,"question_id":7347856,"body_markdown":"If you want to convert a **string** into a **ArrayList** try this:\r\n\r\n    public ArrayList&lt;Character&gt; convertStringToArraylist(String str) {\r\n        ArrayList&lt;Character&gt; charList = new ArrayList&lt;Character&gt;();      \r\n        for(int i = 0; i&lt;str.length();i++){\r\n            charList.add(str.charAt(i));\r\n        }\r\n        return charList;\r\n    }\r\n    \r\n    \r\n\r\n\r\nBut i see a string array in your example, so if you wanted to convert a **string array** into **ArrayList** use this:\r\n\r\n    public static ArrayList&lt;String&gt; convertStringArrayToArraylist(String[] strArr){\r\n        ArrayList&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\r\n        for (String s : strArr) {\r\n            stringList.add(s);\r\n        }\r\n        return stringList;\r\n    }","title":"How to convert a String into an ArrayList?","body":"<p>If you want to convert a <strong>string</strong> into a <strong>ArrayList</strong> try this:</p>\n\n<pre><code>public ArrayList&lt;Character&gt; convertStringToArraylist(String str) {\n    ArrayList&lt;Character&gt; charList = new ArrayList&lt;Character&gt;();      \n    for(int i = 0; i&lt;str.length();i++){\n        charList.add(str.charAt(i));\n    }\n    return charList;\n}\n</code></pre>\n\n<p>But i see a string array in your example, so if you wanted to convert a <strong>string array</strong> into <strong>ArrayList</strong> use this:</p>\n\n<pre><code>public static ArrayList&lt;String&gt; convertStringArrayToArraylist(String[] strArr){\n    ArrayList&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\n    for (String s : strArr) {\n        stringList.add(s);\n    }\n    return stringList;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5362679,"reputation":189,"user_id":4273461,"display_name":"Andy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417696889,"creation_date":1417695869,"answer_id":27294033,"question_id":7347856,"body_markdown":"If you are importing or you have an array (of type string) in your code and you have to convert it into arraylist (offcourse string) then use of collections is better. like this:\r\n\r\n    String array1[] = getIntent().getExtras().getStringArray(&quot;key1&quot;); or String array1[] = ... then\r\n    \r\n    List allEds = new ArrayList(); Collections.addAll(allEds, array1);","title":"How to convert a String into an ArrayList?","body":"<p>If you are importing or you have an array (of type string) in your code and you have to convert it into arraylist (offcourse string) then use of collections is better. like this:</p>\n\n<pre><code>String array1[] = getIntent().getExtras().getStringArray(\"key1\"); or String array1[] = ... then\n\nList allEds = new ArrayList(); Collections.addAll(allEds, array1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5641224,"reputation":2476,"user_id":4465028,"accept_rate":68,"display_name":"Gherbi Hicham"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1466952722,"creation_date":1466939077,"answer_id":38037855,"question_id":7347856,"body_markdown":"Ok i&#39;m going to extend on the answers here since a lot of the people who come here want to split the string by a **whitespace**. This is how it&#39;s done:\r\n\r\n    List&lt;String&gt; List = new ArrayList&lt;String&gt;(Arrays.asList(s.split(&quot;\\\\s+&quot;)));","title":"How to convert a String into an ArrayList?","body":"<p>Ok i'm going to extend on the answers here since a lot of the people who come here want to split the string by a <strong>whitespace</strong>. This is how it's done:</p>\n\n<pre><code>List&lt;String&gt; List = new ArrayList&lt;String&gt;(Arrays.asList(s.split(\"\\\\s+\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2729652,"reputation":5593,"user_id":2353713,"accept_rate":69,"display_name":"Andy"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1494261750,"creation_date":1494261750,"answer_id":43852973,"question_id":7347856,"body_markdown":"**Option1**: \r\n\r\n    List&lt;String&gt; list = Arrays.asList(&quot;hello&quot;);\r\n\r\n**Option2**:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(&quot;hello&quot;));\r\n\r\nIn my opinion, Option1 is better because \r\n\r\n 1. we can reduce the number of ArrayList objects being created from 2 to 1. `asList` method creates and returns an ArrayList Object.\r\n 2. its performance is much better (but it returns a fixed-size list).\r\n\r\n \r\nPlease refer to the documentation [here][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList(T...)","title":"How to convert a String into an ArrayList?","body":"<p><strong>Option1</strong>: </p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList(\"hello\");\n</code></pre>\n\n<p><strong>Option2</strong>:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(\"hello\"));\n</code></pre>\n\n<p>In my opinion, Option1 is better because </p>\n\n<ol>\n<li>we can reduce the number of ArrayList objects being created from 2 to 1. <code>asList</code> method creates and returns an ArrayList Object.</li>\n<li>its performance is much better (but it returns a fixed-size list).</li>\n</ol>\n\n<p>Please refer to the documentation <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#asList(T...)\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":219831,"reputation":1136,"user_id":476942,"display_name":"AbuNassar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507498578,"creation_date":1507384502,"answer_id":46620983,"question_id":7347856,"body_markdown":"You could use:          \r\n\r\n    List&lt;String&gt; tokens = Arrays.stream(s.split(&quot;\\\\s+&quot;)).collect(Collectors.toList());\r\n\r\nYou should ask yourself if you really need the ArrayList in the first place. Very often, you&#39;re going to filter the list based on additional criteria, for which a Stream is perfect. You may want a set; you may want to filter them by means of another regular expression, etc. Java 8 provides this very useful extension, by the way, which will  work on any `CharSequence`: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#splitAsStream-java.lang.CharSequence-. Since you don&#39;t need the array at all, avoid creating it thus: \r\n\r\n    // This will presumably be a static final field somewhere.\r\n    Pattern splitter = Pattern.compile(&quot;\\\\s+&quot;);\r\n    // ...\r\n    String untokenized = reader.readLine();\r\n    Stream&lt;String&gt; tokens = splitter.splitAsStream(untokenized);\r\n","title":"How to convert a String into an ArrayList?","body":"<p>You could use:          </p>\n\n<pre><code>List&lt;String&gt; tokens = Arrays.stream(s.split(\"\\\\s+\")).collect(Collectors.toList());\n</code></pre>\n\n<p>You should ask yourself if you really need the ArrayList in the first place. Very often, you're going to filter the list based on additional criteria, for which a Stream is perfect. You may want a set; you may want to filter them by means of another regular expression, etc. Java 8 provides this very useful extension, by the way, which will  work on any <code>CharSequence</code>: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#splitAsStream-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#splitAsStream-java.lang.CharSequence-</a>. Since you don't need the array at all, avoid creating it thus: </p>\n\n<pre><code>// This will presumably be a static final field somewhere.\nPattern splitter = Pattern.compile(\"\\\\s+\");\n// ...\nString untokenized = reader.readLine();\nStream&lt;String&gt; tokens = splitter.splitAsStream(untokenized);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1589944346,"creation_date":1507385529,"answer_id":46621142,"question_id":7347856,"body_markdown":"In Java 9, using [**`List#of`][1]**, which is an Immutable List Static Factory Methods, become more simpler.\r\n\r\n     String s = &quot;a,b,c,d,e,.........&quot;;\r\n     List&lt;String&gt; lst = List.of(s.split(&quot;,&quot;));\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/List.html#immutable","title":"How to convert a String into an ArrayList?","body":"<p>In Java 9, using <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#immutable\" rel=\"noreferrer\"><strong><code>List#of</code></a></strong>, which is an Immutable List Static Factory Methods, become more simpler.</p>\n\n<pre><code> String s = \"a,b,c,d,e,.........\";\n List&lt;String&gt; lst = List.of(s.split(\",\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521369453,"creation_date":1521369453,"answer_id":49346912,"question_id":7347856,"body_markdown":"Let&#39;s take a question : Reverse a String. I shall do this using stream().collect(). But first I shall change the string into an ArrayList .\r\n\r\n            \r\n        public class StringReverse1 {\r\n        public static void main(String[] args) {\r\n        \t\r\n        \tString a = &quot;Gini Gina  Proti&quot;;\r\n        \t\r\n        \tList&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(a.split(&quot;&quot;)));\r\n        \t\r\n        \tlist.stream()\r\n        \t.collect(Collectors.toCollection( LinkedList :: new ))\r\n        \t.descendingIterator()\r\n        \t.forEachRemaining(System.out::println);\r\n        \t\r\n        \t\r\n        \r\n        }}\r\n    /*\r\n    The output :\r\n    i\r\n    t\r\n    o\r\n    r\r\n    P\r\n     \r\n     \r\n    a\r\n    n\r\n    i\r\n    G\r\n     \r\n    i\r\n    n\r\n    i\r\n    G\r\n    */\r\n\r\n","title":"How to convert a String into an ArrayList?","body":"<p>Let's take a question : Reverse a String. I shall do this using stream().collect(). But first I shall change the string into an ArrayList .</p>\n\n<pre><code>    public class StringReverse1 {\n    public static void main(String[] args) {\n\n        String a = \"Gini Gina  Proti\";\n\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(a.split(\"\")));\n\n        list.stream()\n        .collect(Collectors.toCollection( LinkedList :: new ))\n        .descendingIterator()\n        .forEachRemaining(System.out::println);\n\n\n\n    }}\n/*\nThe output :\ni\nt\no\nr\nP\n\n\na\nn\ni\nG\n\ni\nn\ni\nG\n*/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8514103,"reputation":71,"user_id":6383203,"display_name":"Abay"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1538603307,"creation_date":1538603307,"answer_id":52636154,"question_id":7347856,"body_markdown":"Easier to understand is like this:\r\n\r\n    String s = &quot;a,b,c,d,e&quot;;\r\n    String[] sArr = s.split(&quot;,&quot;);\r\n    List&lt;String&gt; sList = Arrays.asList(sArr);","title":"How to convert a String into an ArrayList?","body":"<p>Easier to understand is like this:</p>\n\n<pre><code>String s = \"a,b,c,d,e\";\nString[] sArr = s.split(\",\");\nList&lt;String&gt; sList = Arrays.asList(sArr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7364659,"reputation":515,"user_id":5606736,"display_name":"Philippe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543526125,"creation_date":1543526125,"answer_id":53547708,"question_id":7347856,"body_markdown":"I recommend use the StringTokenizer, is very efficient \r\n\r\n         List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\n         StringTokenizer token = new StringTokenizer(value, LIST_SEPARATOR);\r\n         while (token.hasMoreTokens()) {\r\n               list.add(token.nextToken());\r\n         }","title":"How to convert a String into an ArrayList?","body":"<p>I recommend use the StringTokenizer, is very efficient </p>\n\n<pre><code>     List&lt;String&gt; list = new ArrayList&lt;&gt;();\n\n     StringTokenizer token = new StringTokenizer(value, LIST_SEPARATOR);\n     while (token.hasMoreTokens()) {\n           list.add(token.nextToken());\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8627516,"reputation":213,"user_id":6910529,"display_name":"Felix A Marrero Pent&#243;n"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544628778,"creation_date":1544628778,"answer_id":53746384,"question_id":7347856,"body_markdown":" This is using Gson in Kotlin   \r\n   \r\n\r\n     val listString = &quot;[uno,dos,tres,cuatro,cinco]&quot;\r\n     val gson = Gson()\r\n     val lista = gson.fromJson(listString , Array&lt;String&gt;::class.java).toList()\r\n     Log.e(&quot;GSON&quot;, lista[0])","title":"How to convert a String into an ArrayList?","body":"<p>This is using Gson in Kotlin   </p>\n\n<pre><code> val listString = \"[uno,dos,tres,cuatro,cinco]\"\n val gson = Gson()\n val lista = gson.fromJson(listString , Array&lt;String&gt;::class.java).toList()\n Log.e(\"GSON\", lista[0])\n</code></pre>\n"},{"tags":[],"owner":{"account_id":123906,"reputation":989,"user_id":318673,"display_name":"sabujp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548475006,"creation_date":1548475006,"answer_id":54375551,"question_id":7347856,"body_markdown":"If you&#39;re using guava (and you should be, see [effective java item #15][1]):\r\n\r\n    ImmutableList&lt;String&gt; list = ImmutableList.copyOf(s.split(&quot;,&quot;));\r\n\r\n\r\n  [1]: https://www.google.com/search?q=effective%20java%20immutable","title":"How to convert a String into an ArrayList?","body":"<p>If you're using guava (and you should be, see <a href=\"https://www.google.com/search?q=effective%20java%20immutable\" rel=\"nofollow noreferrer\">effective java item #15</a>):</p>\n\n<pre><code>ImmutableList&lt;String&gt; list = ImmutableList.copyOf(s.split(\",\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16300382,"reputation":1,"user_id":11771657,"display_name":"Karthik Gunasekaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679110464,"creation_date":1679110306,"answer_id":75773719,"question_id":7347856,"body_markdown":"```\r\nString value = &quot;java spring springboot microservices&quot;;\r\n\r\nArrayList&lt;String&gt; listValue = new ArrayList&lt;&gt;(Arrays.asList(value.split(&quot; &quot;));\r\n```","title":"How to convert a String into an ArrayList?","body":"<pre><code>String value = &quot;java spring springboot microservices&quot;;\n\nArrayList&lt;String&gt; listValue = new ArrayList&lt;&gt;(Arrays.asList(value.split(&quot; &quot;));\n</code></pre>\n"}],"owner":{"account_id":186312,"reputation":9244,"user_id":423620,"accept_rate":88,"display_name":"Sameek Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":685698,"favorite_count":0,"down_vote_count":1,"up_vote_count":145,"accepted_answer_id":7347895,"answer_count":14,"score":144,"last_activity_date":1679110464,"creation_date":1315484200,"question_id":7347856,"body_markdown":"In my String, I can have an arbitrary number of words which are comma separated. I wanted each word added into an ArrayList. E.g.:\r\n\r\n    String s = &quot;a,b,c,d,e,.........&quot;;\r\n","title":"How to convert a String into an ArrayList?","body":"<p>In my String, I can have an arbitrary number of words which are comma separated. I wanted each word added into an ArrayList. E.g.:</p>\n\n<pre><code>String s = \"a,b,c,d,e,.........\";\n</code></pre>\n"},{"tags":["java","memory-leaks","sonarqube","number-formatting","thread-local"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1567376231,"post_id":57749185,"comment_id":101937003,"body_markdown":"Have you actually profiled whether there is a difference between using a `ThreadLocal`, and simply creating a new instance and returning it each time `getFormatter` is invoked? It seems like it would be an awful lot easier to reason about the life cycle of the instances if you were to do that.","body":"Have you actually profiled whether there is a difference between using a <code>ThreadLocal</code>, and simply creating a new instance and returning it each time <code>getFormatter</code> is invoked? It seems like it would be an awful lot easier to reason about the life cycle of the instances if you were to do that."}],"answers":[{"tags":[],"owner":{"account_id":3270036,"reputation":285,"user_id":2753622,"display_name":"Peter Lamby"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1567370186,"creation_date":1567370186,"answer_id":57749348,"question_id":57749185,"body_markdown":"You should **not** call `#remove` directly after you used the formatter. As you wrote that would defeat the purpose.\r\n\r\nYou only need to call `#remove` in the following case. Your web application is unloaded from the application server e.g. Tomcat. But the application server itself keeps on running.\r\n\r\nIn this case the application server probably keeps the threads it created for your application around and these threads will still have each an instance of `NumberFormat` associated with them. **That&#39;s your memory leak**.\r\n\r\nSo if you always restart the entire app server you probably don&#39;t need to care about this problem.\r\n\r\nIf you want to clean up the `ThreadLocal` properly you would want to call `#remove` once your application is starting to shut down. This way you reused the `NumberFormat` instance a maximum of times while still cleaning up properly.","title":"How to clean up Java ThreadLocals in accordance with Sonar?","body":"<p>You should <strong>not</strong> call <code>#remove</code> directly after you used the formatter. As you wrote that would defeat the purpose.</p>\n\n<p>You only need to call <code>#remove</code> in the following case. Your web application is unloaded from the application server e.g. Tomcat. But the application server itself keeps on running.</p>\n\n<p>In this case the application server probably keeps the threads it created for your application around and these threads will still have each an instance of <code>NumberFormat</code> associated with them. <strong>That's your memory leak</strong>.</p>\n\n<p>So if you always restart the entire app server you probably don't need to care about this problem.</p>\n\n<p>If you want to clean up the <code>ThreadLocal</code> properly you would want to call <code>#remove</code> once your application is starting to shut down. This way you reused the <code>NumberFormat</code> instance a maximum of times while still cleaning up properly.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1679109820,"creation_date":1567370242,"answer_id":57749354,"question_id":57749185,"body_markdown":"Sonar is right here.   \r\n\r\nEach thread will have its own `ThreadLocal` state and so its own instance of `NumberFormat`.   \r\nSo in the general case it may be undesirable to not clear data from the state since the thread may be reused (recycled by the server) and the state valued for the previous client may be inconsistent for the current client.    \r\nFor example some clients could have the format `US`, others the format `FR`, and so for... \r\nBesides some threads could instantiate that ThreadLocal class, other no. But by not cleaning the state, the state will still use memory for threads that may not need them.   \r\n\r\nWell, in your code, there is not variability of the `ThreadLocal` state since you set the state  for any instance, so no inconsistency risk is likely, just memory &quot;waste&quot;.   \r\n\r\n\r\n&gt; Now, I adopted the ThreadLocal approach in order to reuse NumberFormat\r\n&gt; instances as much as possible, avoiding the creation of one instance\r\n&gt; per call\r\n\r\nYou reuse the `ThreadLocal` state by a thread request basis.  \r\nSo if you have 50 threads, you have 50 states.   \r\nIn web applications, the server maps the client HTTP request to one thread.  \r\nSo you don&#39;t create multiple instances of the formatter only in the scope of 1 http request.  It means that If you use the formatter one or two time by request processing, the `ThreadLocal` cache doesn&#39;t bring a great value.   But if you use it more, using it makes sense.\r\n\r\n&gt; so I think if I called remove() somewhere in the code, I\r\n&gt; would lose all the advantages of this solution\r\n\r\nCalling `remove()` will not hurt performance if you do that when the request processing is done. You don&#39;t lose any advantage since you may use the formatter dozen of times in the scope of the  request and it will be cleaned only at the end.  \r\n\r\nYou have Request Listener in the servlet specification :\r\nhttps://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequestListener.html.   \r\nYou could do that in `void requestDestroyed(ServletRequestEvent sre)`.\r\n","title":"How to clean up Java ThreadLocals in accordance with Sonar?","body":"<p>Sonar is right here.</p>\n<p>Each thread will have its own <code>ThreadLocal</code> state and so its own instance of <code>NumberFormat</code>.<br />\nSo in the general case it may be undesirable to not clear data from the state since the thread may be reused (recycled by the server) and the state valued for the previous client may be inconsistent for the current client.<br />\nFor example some clients could have the format <code>US</code>, others the format <code>FR</code>, and so for...\nBesides some threads could instantiate that ThreadLocal class, other no. But by not cleaning the state, the state will still use memory for threads that may not need them.</p>\n<p>Well, in your code, there is not variability of the <code>ThreadLocal</code> state since you set the state  for any instance, so no inconsistency risk is likely, just memory &quot;waste&quot;.</p>\n<blockquote>\n<p>Now, I adopted the ThreadLocal approach in order to reuse NumberFormat\ninstances as much as possible, avoiding the creation of one instance\nper call</p>\n</blockquote>\n<p>You reuse the <code>ThreadLocal</code> state by a thread request basis.<br />\nSo if you have 50 threads, you have 50 states.<br />\nIn web applications, the server maps the client HTTP request to one thread.<br />\nSo you don't create multiple instances of the formatter only in the scope of 1 http request.  It means that If you use the formatter one or two time by request processing, the <code>ThreadLocal</code> cache doesn't bring a great value.   But if you use it more, using it makes sense.</p>\n<blockquote>\n<p>so I think if I called remove() somewhere in the code, I\nwould lose all the advantages of this solution</p>\n</blockquote>\n<p>Calling <code>remove()</code> will not hurt performance if you do that when the request processing is done. You don't lose any advantage since you may use the formatter dozen of times in the scope of the  request and it will be cleaned only at the end.</p>\n<p>You have Request Listener in the servlet specification :\n<a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequestListener.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequestListener.html</a>.<br />\nYou could do that in <code>void requestDestroyed(ServletRequestEvent sre)</code>.</p>\n"},{"tags":[],"owner":{"account_id":3730804,"reputation":1169,"user_id":3103271,"accept_rate":75,"display_name":"Charlie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567370560,"creation_date":1567370560,"answer_id":57749381,"question_id":57749185,"body_markdown":"The [link][1] you provided says the following:\r\n\r\n&gt; Memory leaks can occur when holding threads are re-used which is the case on application servers using pool of threads.\r\n\r\nFor example you build a pool with 7 threads because your CPU has 8 cores. Then you submit a task to the pool and it would be solved by one of the threads. Afterwards the thread may do not have other tasks to do, but the thread still holds the ThreadLocal object. This would be a waste of memory and because ThreadLocal has a reference to the containing object the garbage collector can not remove the containing object (could result in a memory leak).\r\n\r\nIf you do not reuse the thread and cleanup all references to the thread , then there will not be a memory leak. If you reuse the thread later the threadLocal object will be in-memory until it is overwritten or cleaned up or until the thread is destroyed.  \r\n\r\n\r\n  [1]: https://rules.sonarsource.com/java/tag/leak/RSPEC-5164","title":"How to clean up Java ThreadLocals in accordance with Sonar?","body":"<p>The <a href=\"https://rules.sonarsource.com/java/tag/leak/RSPEC-5164\" rel=\"nofollow noreferrer\">link</a> you provided says the following:</p>\n\n<blockquote>\n  <p>Memory leaks can occur when holding threads are re-used which is the case on application servers using pool of threads.</p>\n</blockquote>\n\n<p>For example you build a pool with 7 threads because your CPU has 8 cores. Then you submit a task to the pool and it would be solved by one of the threads. Afterwards the thread may do not have other tasks to do, but the thread still holds the ThreadLocal object. This would be a waste of memory and because ThreadLocal has a reference to the containing object the garbage collector can not remove the containing object (could result in a memory leak).</p>\n\n<p>If you do not reuse the thread and cleanup all references to the thread , then there will not be a memory leak. If you reuse the thread later the threadLocal object will be in-memory until it is overwritten or cleaned up or until the thread is destroyed.  </p>\n"}],"owner":{"account_id":3949403,"reputation":1141,"user_id":3260495,"display_name":"Robert Hume"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5005,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":57749354,"answer_count":3,"score":12,"last_activity_date":1679109820,"creation_date":1567368926,"question_id":57749185,"body_markdown":"A [Sonar][1] rule available since Aug 21, 2019 ([squid:S5164][2] / [RSPEC-5164][2]) mandates to clean up &quot;ThreadLocal&quot; variables when no longer used. So, let&#39;s take the following class (JDK6 compatible):\r\n\r\n    public class ThreadLocalExample {\r\n    \r\n    \tprivate static final ThreadLocal&lt;NumberFormat&gt; formats = new ThreadLocal&lt;NumberFormat&gt;() {\r\n    \t\t@Override\r\n    \t\tprotected NumberFormat initialValue() {\r\n    \t\t\tfinal NumberFormat nf = NumberFormat.getNumberInstance(Locale.US);\r\n    \t\t\tnf.setMinimumFractionDigits(2);\r\n    \t\t\tnf.setMaximumFractionDigits(2);\r\n    \t\t\tnf.setGroupingUsed(false);\r\n    \t\t\treturn nf;\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tpublic static NumberFormat getFormatter() {\r\n    \t\treturn formats.get();\r\n    \t}\r\n    }\r\n\r\nSonar reports a **major bug** on the `ThreadLocal` declaration, with the following explanation:\r\n\r\n&gt; &quot;ThreadLocal&quot; variables should be cleaned up when no longer used\r\n&gt; \r\n&gt; `ThreadLocal` variables are supposed to be garbage collected once the\r\n&gt; holding thread is no longer alive. Memory leaks can occur when holding\r\n&gt; threads are re-used which is the case on application servers using\r\n&gt; pool of threads.\r\n&gt; \r\n&gt; To avoid such problems, it is recommended to always clean up\r\n&gt; `ThreadLocal` variables using the `remove()` method to remove the current\r\n&gt; thread’s value for the `ThreadLocal` variable.\r\n\r\nNow, I adopted the `ThreadLocal` approach in order to reuse `NumberFormat` instances as much as possible, avoiding the creation of one instance per call, so I think if I called `remove()` somewhere in the code, I would lose all the advantages of this solution. Am I missing something? Thanks a lot.\r\n\r\n\r\n  [1]: https://sonarcloud.io\r\n  [2]: https://rules.sonarsource.com/java/RSPEC-5164","title":"How to clean up Java ThreadLocals in accordance with Sonar?","body":"<p>A <a href=\"https://sonarcloud.io\" rel=\"noreferrer\">Sonar</a> rule available since Aug 21, 2019 (<a href=\"https://rules.sonarsource.com/java/RSPEC-5164\" rel=\"noreferrer\">squid:S5164</a> / <a href=\"https://rules.sonarsource.com/java/RSPEC-5164\" rel=\"noreferrer\">RSPEC-5164</a>) mandates to clean up \"ThreadLocal\" variables when no longer used. So, let's take the following class (JDK6 compatible):</p>\n\n<pre><code>public class ThreadLocalExample {\n\n    private static final ThreadLocal&lt;NumberFormat&gt; formats = new ThreadLocal&lt;NumberFormat&gt;() {\n        @Override\n        protected NumberFormat initialValue() {\n            final NumberFormat nf = NumberFormat.getNumberInstance(Locale.US);\n            nf.setMinimumFractionDigits(2);\n            nf.setMaximumFractionDigits(2);\n            nf.setGroupingUsed(false);\n            return nf;\n        }\n    };\n\n    public static NumberFormat getFormatter() {\n        return formats.get();\n    }\n}\n</code></pre>\n\n<p>Sonar reports a <strong>major bug</strong> on the <code>ThreadLocal</code> declaration, with the following explanation:</p>\n\n<blockquote>\n  <p>\"ThreadLocal\" variables should be cleaned up when no longer used</p>\n  \n  <p><code>ThreadLocal</code> variables are supposed to be garbage collected once the\n  holding thread is no longer alive. Memory leaks can occur when holding\n  threads are re-used which is the case on application servers using\n  pool of threads.</p>\n  \n  <p>To avoid such problems, it is recommended to always clean up\n  <code>ThreadLocal</code> variables using the <code>remove()</code> method to remove the current\n  thread’s value for the <code>ThreadLocal</code> variable.</p>\n</blockquote>\n\n<p>Now, I adopted the <code>ThreadLocal</code> approach in order to reuse <code>NumberFormat</code> instances as much as possible, avoiding the creation of one instance per call, so I think if I called <code>remove()</code> somewhere in the code, I would lose all the advantages of this solution. Am I missing something? Thanks a lot.</p>\n"},{"tags":["java","spring-boot","kubernetes"],"answers":[{"tags":[],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679107942,"creation_date":1679107942,"answer_id":75773598,"question_id":75762561,"body_markdown":"As described in the question:\r\n\r\n&gt; To get around the error, I did a workaround:\r\n&gt; \r\n&gt;     @Value(&quot;${greeting_from_environment_variable:default}&quot;)\r\n&gt;     String greeting;","title":"SpringBoot and Kubernetes error &quot;IntegrationTest.contextLoads &#187; IllegalState Failed to load.. IllegalArgumentException: Could not resolve placeholder&quot;","body":"<p>As described in the question:</p>\n<blockquote>\n<p>To get around the error, I did a workaround:</p>\n<pre><code>@Value(&quot;${greeting_from_environment_variable:default}&quot;)\nString greeting;\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679107942,"creation_date":1679009962,"question_id":75762561,"body_markdown":"I want to inject this value `greeting_from_environment_variable` from a ConfigMap in kubernetes.\r\nBut it is not passing the unit integration tests.\r\n\r\n    @Value(&quot;${greeting_from_environment_variable}&quot;)\r\n    String greeting;\r\n\r\n\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;encouragerController&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;greeting_from_environment_variable&#39; in value &quot;${greeting_from_environment_variable}&quot;\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties\r\n\r\n\r\n....\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;greeting_from_environment_variable&#39; in value &quot;${greeting_from_environment_variable}&quot;\r\n    \tat org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver\r\n\r\n....\r\n\r\n    [ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 2.531 s &lt;&lt;&lt; FAILURE! - in com.dropaflame.encourage.EncourageApplicationIntegrationTest\r\n    [ERROR] contextLoads  Time elapsed: 0.004 s  &lt;&lt;&lt; ERROR!\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;encouragerController&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;greeting_from_environment_variable&#39; in value &quot;${greeting_from_environment_variable}&quot;\r\n    Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;greeting_from_environment_variable&#39;\r\n\r\n...\r\n\r\n    [INFO] \r\n    [INFO] Results:\r\n    [INFO] \r\n    [ERROR] Errors: \r\n    [ERROR]   EncourageApplicationIntegrationTest.contextLoads &#187; IllegalState Failed to load...\r\n    [INFO] \r\n    [ERROR] Tests run: 7, Failures: 0, Errors: 1, Skipped: 0\r\n    [INFO] \r\n\r\nThe IntegrationTest class:\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    class EncourageApplicationIntegrationTest {\r\n        @Autowired\r\n        private TestRestTemplate restTemplate;\r\n    \r\n        @Test\r\n        void contextLoads() {\r\n            ResponseEntity&lt;List&lt;Encouragement&gt;&gt; responseEntity;\r\n            responseEntity = restTemplate.exchange(&quot;/all-quotes&quot;, HttpMethod.GET, null, new ParameterizedTypeReference&lt;List&lt;Encouragement&gt;&gt;(){});\r\n            System.out.println(Arrays.asList(responseEntity.getBody()));\r\n        }\r\n    }\r\n\r\nTo get around the error, I did a workaround:\r\n\r\n    @Value(&quot;${greeting_from_environment_variable:default}&quot;)\r\n    String greeting;\r\n\r\nbut this is not a solution IMHO\r\n\r\n\r\n","title":"SpringBoot and Kubernetes error &quot;IntegrationTest.contextLoads &#187; IllegalState Failed to load.. IllegalArgumentException: Could not resolve placeholder&quot;","body":"<p>I want to inject this value <code>greeting_from_environment_variable</code> from a ConfigMap in kubernetes.\nBut it is not passing the unit integration tests.</p>\n<pre><code>@Value(&quot;${greeting_from_environment_variable}&quot;)\nString greeting;\n\n\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'encouragerController': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'greeting_from_environment_variable' in value &quot;${greeting_from_environment_variable}&quot;\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties\n</code></pre>\n<p>....</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'greeting_from_environment_variable' in value &quot;${greeting_from_environment_variable}&quot;\n    at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-5.3.23.jar:5.3.23]\n    at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-5.3.23.jar:5.3.23]\n    at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver\n</code></pre>\n<p>....</p>\n<pre><code>[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 2.531 s &lt;&lt;&lt; FAILURE! - in com.dropaflame.encourage.EncourageApplicationIntegrationTest\n[ERROR] contextLoads  Time elapsed: 0.004 s  &lt;&lt;&lt; ERROR!\njava.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'encouragerController': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'greeting_from_environment_variable' in value &quot;${greeting_from_environment_variable}&quot;\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'greeting_from_environment_variable'\n</code></pre>\n<p>...</p>\n<pre><code>[INFO] \n[INFO] Results:\n[INFO] \n[ERROR] Errors: \n[ERROR]   EncourageApplicationIntegrationTest.contextLoads » IllegalState Failed to load...\n[INFO] \n[ERROR] Tests run: 7, Failures: 0, Errors: 1, Skipped: 0\n[INFO] \n</code></pre>\n<p>The IntegrationTest class:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\nclass EncourageApplicationIntegrationTest {\n    @Autowired\n    private TestRestTemplate restTemplate;\n\n    @Test\n    void contextLoads() {\n        ResponseEntity&lt;List&lt;Encouragement&gt;&gt; responseEntity;\n        responseEntity = restTemplate.exchange(&quot;/all-quotes&quot;, HttpMethod.GET, null, new ParameterizedTypeReference&lt;List&lt;Encouragement&gt;&gt;(){});\n        System.out.println(Arrays.asList(responseEntity.getBody()));\n    }\n}\n</code></pre>\n<p>To get around the error, I did a workaround:</p>\n<pre><code>@Value(&quot;${greeting_from_environment_variable:default}&quot;)\nString greeting;\n</code></pre>\n<p>but this is not a solution IMHO</p>\n"},{"tags":["java","windows","jna"],"answers":[{"tags":[],"owner":{"account_id":27788699,"reputation":34,"user_id":21215561,"display_name":"Nils Hoffmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679086834,"creation_date":1679086240,"answer_id":75772120,"question_id":75771805,"body_markdown":"you can get your pointer from the reference: \r\n\r\n`Pointer pointer = phToken.getValue();`\r\n\r\ngetValue() returns a Pointer\r\n\r\n(https://javadoc.io/static/net.java.dev.jna/jna/5.13.0/com/sun/jna/ptr/PointerByReference.html)\r\n\r\nand then convert the arguments to strings as needed, this is for the first argument:\r\n   \r\n`String Value1 = ptrParam1.getString(0)`\r\n\r\ngetXXX(offset) can be used to get a data type by offset\r\n(https://javadoc.io/static/net.java.dev.jna/jna/5.13.0/com/sun/jna/Pointer.html)","title":"How to extract String value from com.sun.jna.ptr.PointerByReference in Java?","body":"<p>you can get your pointer from the reference:</p>\n<p><code>Pointer pointer = phToken.getValue();</code></p>\n<p>getValue() returns a Pointer</p>\n<p>(<a href=\"https://javadoc.io/static/net.java.dev.jna/jna/5.13.0/com/sun/jna/ptr/PointerByReference.html\" rel=\"nofollow noreferrer\">https://javadoc.io/static/net.java.dev.jna/jna/5.13.0/com/sun/jna/ptr/PointerByReference.html</a>)</p>\n<p>and then convert the arguments to strings as needed, this is for the first argument:</p>\n<p><code>String Value1 = ptrParam1.getString(0)</code></p>\n<p>getXXX(offset) can be used to get a data type by offset\n(<a href=\"https://javadoc.io/static/net.java.dev.jna/jna/5.13.0/com/sun/jna/Pointer.html\" rel=\"nofollow noreferrer\">https://javadoc.io/static/net.java.dev.jna/jna/5.13.0/com/sun/jna/Pointer.html</a>)</p>\n"},{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679107197,"creation_date":1679107197,"answer_id":75773556,"question_id":75771805,"body_markdown":"As Nils Hoffman indicated in [their answer](https://stackoverflow.com/a/75772120/1161484), the first step is dereferencing the pointer from the ByReference, which would be\r\n```java\r\nPointer tokenPointer = phToken.getValue();\r\n```\r\nIf that pointer represents a `String`, on Windows you&#39;d use `getWideString()` for the UTF16 version.  However, the Windows API docs don&#39;t indicate that this is a string.  The [LogonUserW](https://learn.microsoft.com/en-us/windows/win32/api/winbase/nf-winbase-logonuserw) function you used says:\r\n&gt; `[out] phToken`\r\n&gt; \r\n&gt; A pointer to a handle variable that receives a handle to a token that represents the specified user.\r\n&gt; \r\n&gt; You can use the returned handle in calls to the ImpersonateLoggedOnUser function.\r\n&gt; \r\n&gt; In most cases, the returned handle is a primary token that you can use in calls to the CreateProcessAsUser function. However, if you specify the LOGON32_LOGON_NETWORK flag, LogonUser returns an impersonation token that you cannot use in CreateProcessAsUser unless you call DuplicateTokenEx to convert it to a primary token.\r\n&gt; \r\n&gt; When you no longer need this handle, close it by calling the CloseHandle function.\r\n\r\nSo what you really have is a `HANDLE` which has internal meaning to Windows, but is not a String.  A [HANDLE](https://learn.microsoft.com/en-us/windows/win32/winprog/windows-data-types?redirectedfrom=MSDN#handle) is just a fancy name for a pointer:\r\n&gt; HANDLE\t A handle to an object.\r\n&gt; \r\n&gt; This type is declared in WinNT.h as follows:\r\n&gt; \r\n&gt; typedef PVOID HANDLE;\r\n\r\nSo while it represents a user (the `username` you passed as a parameter to the function), it&#39;s just a 64-bit number, and not a String.\r\n\r\nGiven that you know the final parameter is a handle, you would probably want to pass a `HANDLEByReference` to begin with, as is already mapped in JNA&#39;s [user contributions](https://github.com/java-native-access/jna/blob/e96f30192e9455e7cc4117cce06fc3fa80bead55/contrib/platform/src/com/sun/jna/platform/win32/Advapi32.java#L632).","title":"How to extract String value from com.sun.jna.ptr.PointerByReference in Java?","body":"<p>As Nils Hoffman indicated in <a href=\"https://stackoverflow.com/a/75772120/1161484\">their answer</a>, the first step is dereferencing the pointer from the ByReference, which would be</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pointer tokenPointer = phToken.getValue();\n</code></pre>\n<p>If that pointer represents a <code>String</code>, on Windows you'd use <code>getWideString()</code> for the UTF16 version.  However, the Windows API docs don't indicate that this is a string.  The <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winbase/nf-winbase-logonuserw\" rel=\"nofollow noreferrer\">LogonUserW</a> function you used says:</p>\n<blockquote>\n<p><code>[out] phToken</code></p>\n<p>A pointer to a handle variable that receives a handle to a token that represents the specified user.</p>\n<p>You can use the returned handle in calls to the ImpersonateLoggedOnUser function.</p>\n<p>In most cases, the returned handle is a primary token that you can use in calls to the CreateProcessAsUser function. However, if you specify the LOGON32_LOGON_NETWORK flag, LogonUser returns an impersonation token that you cannot use in CreateProcessAsUser unless you call DuplicateTokenEx to convert it to a primary token.</p>\n<p>When you no longer need this handle, close it by calling the CloseHandle function.</p>\n</blockquote>\n<p>So what you really have is a <code>HANDLE</code> which has internal meaning to Windows, but is not a String.  A <a href=\"https://learn.microsoft.com/en-us/windows/win32/winprog/windows-data-types?redirectedfrom=MSDN#handle\" rel=\"nofollow noreferrer\">HANDLE</a> is just a fancy name for a pointer:</p>\n<blockquote>\n<p>HANDLE     A handle to an object.</p>\n<p>This type is declared in WinNT.h as follows:</p>\n<p>typedef PVOID HANDLE;</p>\n</blockquote>\n<p>So while it represents a user (the <code>username</code> you passed as a parameter to the function), it's just a 64-bit number, and not a String.</p>\n<p>Given that you know the final parameter is a handle, you would probably want to pass a <code>HANDLEByReference</code> to begin with, as is already mapped in JNA's <a href=\"https://github.com/java-native-access/jna/blob/e96f30192e9455e7cc4117cce06fc3fa80bead55/contrib/platform/src/com/sun/jna/platform/win32/Advapi32.java#L632\" rel=\"nofollow noreferrer\">user contributions</a>.</p>\n"}],"owner":{"account_id":5684060,"reputation":1093,"user_id":4494166,"accept_rate":0,"display_name":"Ravi Soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679107197,"creation_date":1679083619,"question_id":75771805,"body_markdown":"I&#39;m using \r\n\r\nDependency:\r\n`\r\nimplementation group: &quot;net.java.dev.jna&quot;, name: &quot;jna&quot;\r\n`\r\n\r\nCode:\r\n\r\n    PointerByReference phToken = new PointerByReference();\r\n    advapi32.LogonUserW(new WString(username), new WString(domain), new WString(password), 3, 0, phToken);\r\n\r\n\r\nnow i need to extract String value from this phToken, how to do that ?","title":"How to extract String value from com.sun.jna.ptr.PointerByReference in Java?","body":"<p>I'm using</p>\n<p>Dependency:\n<code>implementation group: &quot;net.java.dev.jna&quot;, name: &quot;jna&quot;</code></p>\n<p>Code:</p>\n<pre><code>PointerByReference phToken = new PointerByReference();\nadvapi32.LogonUserW(new WString(username), new WString(domain), new WString(password), 3, 0, phToken);\n</code></pre>\n<p>now i need to extract String value from this phToken, how to do that ?</p>\n"},{"tags":["java","arrays","sorting","quicksort"],"answers":[{"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679106604,"creation_date":1679102423,"answer_id":75773343,"question_id":75772703,"body_markdown":"The question&#39;s code is a mix of Hoare and Lomuto partition schemes. I changed the code to typical Hoare partition scheme that pre-increments and pre-decrements the indexes in `partition()`.\r\n\r\n        private static void quickSort(String[] arr, int start, int end) {\r\n            if (end &lt;= start) return;\r\n            int pivot = partition(arr, start, end);\r\n            quickSort(arr, start, pivot);     // not pivot-1\r\n            quickSort(arr, pivot + 1, end);\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;empty-statement&quot;)\r\n        private static int partition(String[] arr, int start, int end) {\r\n            String pivot = arr[start + (end - start) / 2];\r\n            int i = start-1;\r\n            int j = end+1;\r\n            while(true)\r\n            {\r\n                while (arr[++i].compareTo(pivot) &lt; 0);\r\n                while (arr[--j].compareTo(pivot) &gt; 0);\r\n                if(i &gt;= j)\r\n                    break;\r\n                String temp = arr[i];\r\n                arr[i] = arr[j];\r\n                arr[j] = temp;\r\n            }\r\n            return j;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String[] arr = {&quot;D&quot;, &quot;C&quot;, &quot;B&quot;, &quot;a&quot;, &quot;A&quot;, &quot;Z&quot;, &quot;g&quot;, &quot;f&quot;, &quot;e&quot;, &quot;d&quot;, &quot;c&quot;, &quot;b&quot;};\r\n            int i;\r\n            quickSort(arr, 0, arr.length-1);\r\n            for(i = 1; i &lt; arr.length; i++){\r\n                if(arr[i-1].compareTo(arr[i]) &gt; 0){\r\n                    break;\r\n                }\r\n            }\r\n            if(i == arr.length)\r\n                System.out.println(&quot;passed&quot;);\r\n            else\r\n                System.out.println(&quot;failed&quot;);\r\n        }\r\n","title":"Quicksort with middle element as the pivot","body":"<p>The question's code is a mix of Hoare and Lomuto partition schemes. I changed the code to typical Hoare partition scheme that pre-increments and pre-decrements the indexes in <code>partition()</code>.</p>\n<pre><code>    private static void quickSort(String[] arr, int start, int end) {\n        if (end &lt;= start) return;\n        int pivot = partition(arr, start, end);\n        quickSort(arr, start, pivot);     // not pivot-1\n        quickSort(arr, pivot + 1, end);\n    }\n\n    @SuppressWarnings(&quot;empty-statement&quot;)\n    private static int partition(String[] arr, int start, int end) {\n        String pivot = arr[start + (end - start) / 2];\n        int i = start-1;\n        int j = end+1;\n        while(true)\n        {\n            while (arr[++i].compareTo(pivot) &lt; 0);\n            while (arr[--j].compareTo(pivot) &gt; 0);\n            if(i &gt;= j)\n                break;\n            String temp = arr[i];\n            arr[i] = arr[j];\n            arr[j] = temp;\n        }\n        return j;\n    }\n\n    public static void main(String[] args) {\n        String[] arr = {&quot;D&quot;, &quot;C&quot;, &quot;B&quot;, &quot;a&quot;, &quot;A&quot;, &quot;Z&quot;, &quot;g&quot;, &quot;f&quot;, &quot;e&quot;, &quot;d&quot;, &quot;c&quot;, &quot;b&quot;};\n        int i;\n        quickSort(arr, 0, arr.length-1);\n        for(i = 1; i &lt; arr.length; i++){\n            if(arr[i-1].compareTo(arr[i]) &gt; 0){\n                break;\n            }\n        }\n        if(i == arr.length)\n            System.out.println(&quot;passed&quot;);\n        else\n            System.out.println(&quot;failed&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75773343,"answer_count":1,"score":0,"last_activity_date":1679106604,"creation_date":1679092269,"question_id":75772703,"body_markdown":"I have been trying to implement a quicksort in Java, but I can&#39;t find a way to make it with a pivot as the middle element.\r\n\r\nArray: `String[] arr = {&quot;D&quot;, &quot;C&quot;, &quot;B&quot;, &quot;A&quot;, &quot;A&quot;, &quot;Z&quot;, &quot;g&quot;, &quot;F&quot;, &quot;e&quot;, &quot;d&quot;, &quot;c&quot;, &quot;b&quot;};`\r\n\r\nOutput: `A A B C D F g Z b c d e`\r\n\r\n    private static void quickSort(String[] arr, int start, int end) {\r\n        if (end &lt;= start) return;\r\n    \r\n        int pivot = partition(arr, start, end);\r\n        quickSort(arr, start, pivot - 1);\r\n        quickSort(arr, pivot + 1, end);\r\n    }\r\n    \r\n    private static int partition(String[] arr, int start, int end) {\r\n        String pivot = arr[start + (end - start) / 2];\r\n        int i = start;\r\n        int j = end;\r\n    \r\n        while (i &lt; j)\r\n        {\r\n            if (arr[i].compareTo(pivot) &lt; 0)\r\n                ++i;\r\n            \r\n            else if (arr[j].compareTo(pivot) &gt; 0)\r\n                --j;\r\n\r\n            else if (arr[i].equals(pivot))\r\n                ++i;\r\n\r\n            else if (arr[j].equals(pivot))\r\n                --j;\r\n\r\n            else\r\n            {\r\n                String temp = arr[i];\r\n                arr[i] = arr[j];\r\n                arr[j] = temp;\r\n            }\r\n        }\r\n        \r\n        String temp = arr[i];\r\n        arr[i] = pivot;\r\n        arr[start + (end - start) / 2] = temp;\r\n\r\n        return i;\r\n    }\r\n\r\nWhen I do other arrays where elements smaller than the pivot are not on the right side, it works well. As in:\r\n\r\nArray: `String[] arr = {&quot;D&quot;, &quot;C&quot;, &quot;B&quot;, &quot;a&quot;, &quot;A&quot;, &quot;Z&quot;, &quot;g&quot;, &quot;f&quot;, &quot;e&quot;, &quot;d&quot;, &quot;c&quot;, &quot;b&quot;};`\r\n\r\nOutput: `A B C D Z a b c d e f g`\r\n\r\nAny solutions?","title":"Quicksort with middle element as the pivot","body":"<p>I have been trying to implement a quicksort in Java, but I can't find a way to make it with a pivot as the middle element.</p>\n<p>Array: <code>String[] arr = {&quot;D&quot;, &quot;C&quot;, &quot;B&quot;, &quot;A&quot;, &quot;A&quot;, &quot;Z&quot;, &quot;g&quot;, &quot;F&quot;, &quot;e&quot;, &quot;d&quot;, &quot;c&quot;, &quot;b&quot;};</code></p>\n<p>Output: <code>A A B C D F g Z b c d e</code></p>\n<pre><code>private static void quickSort(String[] arr, int start, int end) {\n    if (end &lt;= start) return;\n\n    int pivot = partition(arr, start, end);\n    quickSort(arr, start, pivot - 1);\n    quickSort(arr, pivot + 1, end);\n}\n\nprivate static int partition(String[] arr, int start, int end) {\n    String pivot = arr[start + (end - start) / 2];\n    int i = start;\n    int j = end;\n\n    while (i &lt; j)\n    {\n        if (arr[i].compareTo(pivot) &lt; 0)\n            ++i;\n        \n        else if (arr[j].compareTo(pivot) &gt; 0)\n            --j;\n\n        else if (arr[i].equals(pivot))\n            ++i;\n\n        else if (arr[j].equals(pivot))\n            --j;\n\n        else\n        {\n            String temp = arr[i];\n            arr[i] = arr[j];\n            arr[j] = temp;\n        }\n    }\n    \n    String temp = arr[i];\n    arr[i] = pivot;\n    arr[start + (end - start) / 2] = temp;\n\n    return i;\n}\n</code></pre>\n<p>When I do other arrays where elements smaller than the pivot are not on the right side, it works well. As in:</p>\n<p>Array: <code>String[] arr = {&quot;D&quot;, &quot;C&quot;, &quot;B&quot;, &quot;a&quot;, &quot;A&quot;, &quot;Z&quot;, &quot;g&quot;, &quot;f&quot;, &quot;e&quot;, &quot;d&quot;, &quot;c&quot;, &quot;b&quot;};</code></p>\n<p>Output: <code>A B C D Z a b c d e f g</code></p>\n<p>Any solutions?</p>\n"},{"tags":["java","spring","mapstruct"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1679004515,"post_id":75762040,"comment_id":133647967,"body_markdown":"You need to add the mapstruct annotation processor to your Maven file https://mapstruct.org/documentation/installation/","body":"You need to add the mapstruct annotation processor to your Maven file <a href=\"https://mapstruct.org/documentation/installation/\" rel=\"nofollow noreferrer\">mapstruct.org/documentation/installation</a>"},{"owner":{"account_id":16094270,"reputation":5,"user_id":11616878,"display_name":"&#196;Li D Y&#235;ss"},"score":0,"creation_date":1679006451,"post_id":75762040,"comment_id":133648331,"body_markdown":"still have the problem.","body":"still have the problem."},{"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"score":0,"creation_date":1679020622,"post_id":75762040,"comment_id":133650119,"body_markdown":"@&#196;LiDY&#235;ss can you provide the codes of the classes `SourcingController` and `SourcingDto`?","body":"@&#196;LiDY&#235;ss can you provide the codes of the classes <code>SourcingController</code> and <code>SourcingDto</code>?"},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1679036756,"post_id":75762040,"comment_id":133652060,"body_markdown":"before all `@Component` on mapper is not necessary.\nafter that, follow this guide (https://examples.javacodegeeks.com/spring-boot-mapstruct-example/) and adjust your pom.xml because often is just a matter of configuration","body":"before all <code>@Component</code> on mapper is not necessary. after that, follow this guide (<a href=\"https://examples.javacodegeeks.com/spring-boot-mapstruct-example/\" rel=\"nofollow noreferrer\">examples.javacodegeeks.com/spring-boot-mapstruct-example</a>) and adjust your pom.xml because often is just a matter of configuration"}],"answers":[{"tags":[],"owner":{"account_id":14544626,"reputation":129,"user_id":10505187,"display_name":"fixcer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679037912,"creation_date":1679037912,"answer_id":75764761,"question_id":75762040,"body_markdown":"I think you are missing `lombok-mapstruct-binding` in pom.xml file, please refer [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47676369/mapstruct-and-lombok-not-working-together","title":"Error creating instance from MapStruct interface","body":"<p>I think you are missing <code>lombok-mapstruct-binding</code> in pom.xml file, please refer <a href=\"https://stackoverflow.com/questions/47676369/mapstruct-and-lombok-not-working-together\">here</a></p>\n"},{"tags":[],"owner":{"account_id":16094270,"reputation":5,"user_id":11616878,"display_name":"&#196;Li D Y&#235;ss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679054261,"creation_date":1679054261,"answer_id":75767343,"question_id":75762040,"body_markdown":"Thanks, I fixed the issue by adding some attributes to my pom.xml file:\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.immobilia&lt;/groupId&gt;\r\n    &lt;artifactId&gt;immobilia-app&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;immobilia-app&lt;/name&gt;\r\n    &lt;description&gt;immobilia-app&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;19&lt;/java.version&gt;\r\n        &lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.18.20&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                            &lt;version&gt;0.2.0&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```","title":"Error creating instance from MapStruct interface","body":"<p>Thanks, I fixed the issue by adding some attributes to my pom.xml file:</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.immobilia&lt;/groupId&gt;\n    &lt;artifactId&gt;immobilia-app&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;immobilia-app&lt;/name&gt;\n    &lt;description&gt;immobilia-app&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n        &lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.20&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;0.2.0&lt;/version&gt;\n                        &lt;/path&gt;\n\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"}],"owner":{"account_id":16094270,"reputation":5,"user_id":11616878,"display_name":"&#196;Li D Y&#235;ss"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75764761,"answer_count":2,"score":0,"last_activity_date":1679103962,"creation_date":1679004353,"question_id":75762040,"body_markdown":"I&#39;m working on a Spring Boot application and I&#39;m trying to inject a `SourcingMapper` bean into my `SourcingServiceImpl` class using the `@Autowired` annotation, but I keep getting an error when I try to start the application:\r\n\r\n&gt; Field sourcingMapper in\r\n&gt; com.immobilia.immobiliaapp.service.SourcingServiceImpl required a bean\r\n&gt; of type &#39;com.immobilia.immobiliaapp.mapper.SourcingMapper&#39; that could\r\n&gt; not be found.\r\n\r\nMy MapStruct Interface:\r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\n@Component\r\npublic interface SourcingMapper {\r\n    SourcingDto toSourcingDto(SourcingController sourcing);\r\n    SourcingController toSourcing(SourcingDto sourcingDto);\r\n\r\n    List&lt;SourcingDto&gt; toSourcingDto(List&lt;SourcingController&gt; sourcings);\r\n\r\n    List&lt;SourcingController&gt; toSourcing(List&lt;SourcingDto&gt; sourcingDtos);\r\n}\r\n```\r\n\r\nMy Service:\r\n```\r\n@Service\r\npublic class SourcingServiceImpl implements SourcingService {\r\n\r\n    @Autowired\r\n    SourcingRepo sourcingRepo;\r\n\r\n    @Autowired\r\n    SourcingMapper sourcingMapper;\r\n    @Override\r\n    public SourcingDto addSourcing(SourcingDto sourcing) {\r\n        return sourcingRepo.save(sourcing);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nMy `pom.xml`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.immobilia&lt;/groupId&gt;\r\n    &lt;artifactId&gt;immobilia-app&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;immobilia-app&lt;/name&gt;\r\n    &lt;description&gt;immobilia-app&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;19&lt;/java.version&gt;\r\n        &lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n","title":"Error creating instance from MapStruct interface","body":"<p>I'm working on a Spring Boot application and I'm trying to inject a <code>SourcingMapper</code> bean into my <code>SourcingServiceImpl</code> class using the <code>@Autowired</code> annotation, but I keep getting an error when I try to start the application:</p>\n<blockquote>\n<p>Field sourcingMapper in\ncom.immobilia.immobiliaapp.service.SourcingServiceImpl required a bean\nof type 'com.immobilia.immobiliaapp.mapper.SourcingMapper' that could\nnot be found.</p>\n</blockquote>\n<p>My MapStruct Interface:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\n@Component\npublic interface SourcingMapper {\n    SourcingDto toSourcingDto(SourcingController sourcing);\n    SourcingController toSourcing(SourcingDto sourcingDto);\n\n    List&lt;SourcingDto&gt; toSourcingDto(List&lt;SourcingController&gt; sourcings);\n\n    List&lt;SourcingController&gt; toSourcing(List&lt;SourcingDto&gt; sourcingDtos);\n}\n</code></pre>\n<p>My Service:</p>\n<pre><code>@Service\npublic class SourcingServiceImpl implements SourcingService {\n\n    @Autowired\n    SourcingRepo sourcingRepo;\n\n    @Autowired\n    SourcingMapper sourcingMapper;\n    @Override\n    public SourcingDto addSourcing(SourcingDto sourcing) {\n        return sourcingRepo.save(sourcing);\n    }\n}\n\n\n</code></pre>\n<p>My <code>pom.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.immobilia&lt;/groupId&gt;\n    &lt;artifactId&gt;immobilia-app&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;immobilia-app&lt;/name&gt;\n    &lt;description&gt;immobilia-app&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n        &lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","c#","c++","dll","java-native-interface"],"comments":[{"owner":{"account_id":8238102,"reputation":20380,"user_id":6196568,"display_name":"shingo"},"score":0,"creation_date":1675766374,"post_id":75371396,"comment_id":132994766,"body_markdown":"Is C++&lt;--&gt;C# working fine too? Where does StackOverflowException throw? How does the stack look like?","body":"Is C++&lt;--&gt;C# working fine too? Where does StackOverflowException throw? How does the stack look like?"},{"owner":{"account_id":22376463,"reputation":33,"user_id":16590657,"display_name":"Felix D"},"score":0,"creation_date":1675769124,"post_id":75371396,"comment_id":132995699,"body_markdown":"Unfortunately I&#39;m not quite familar with setting up Visual Studio projects. At the moment the C++ project is not defined as a console application. As a next step I will create a new project with a C++ console application in VS and adding the existing SharpAuthenticator project to be able to reply to your question. I let you know as soon as I manage to do it. But C++ &lt;--&gt; C# is something worth to check, I agree!","body":"Unfortunately I&#39;m not quite familar with setting up Visual Studio projects. At the moment the C++ project is not defined as a console application. As a next step I will create a new project with a C++ console application in VS and adding the existing SharpAuthenticator project to be able to reply to your question. I let you know as soon as I manage to do it. But C++ &lt;--&gt; C# is something worth to check, I agree!"},{"owner":{"account_id":22376463,"reputation":33,"user_id":16590657,"display_name":"Felix D"},"score":0,"creation_date":1675771193,"post_id":75371396,"comment_id":132996331,"body_markdown":"Ok... C++ &lt;--&gt; C# works. I printed the return value (bool) onto the console in my C++ application and it showed &quot;0&quot; or &quot;1&quot;.","body":"Ok... C++ &lt;--&gt; C# works. I printed the return value (bool) onto the console in my C++ application and it showed &quot;0&quot; or &quot;1&quot;."},{"owner":{"account_id":22376463,"reputation":33,"user_id":16590657,"display_name":"Felix D"},"score":0,"creation_date":1675781258,"post_id":75371396,"comment_id":132999761,"body_markdown":"Does anyone sees an obvious mistake in the code or in the property parameters in one of the screenshots? I would appreachiate every little help. Thanks a lot!","body":"Does anyone sees an obvious mistake in the code or in the property parameters in one of the screenshots? I would appreachiate every little help. Thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":22376463,"reputation":33,"user_id":16590657,"display_name":"Felix D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679103780,"creation_date":1675847514,"answer_id":75383466,"question_id":75371396,"body_markdown":"It was a stupid mistake... It cost me 1.5 days figuring out that I forgot to increment `i` in the while loop in `toString` method of &quot;CppAuthenticator.cpp&quot;.\r\nHere the correct working method:\r\n\r\n    String^ toString(const char* chars) {\r\n        int len = (int)strlen(chars);\r\n        array&lt;unsigned char&gt;^ a = gcnew array&lt;unsigned char&gt; (len);\r\n        int i = 0;\r\n        while (i &lt; len) {\r\n            a[i] = chars[i];\r\n            i++;\r\n        }\r\n        return Encoding::UTF8-&gt;GetString(a);\r\n    }","title":"Java to C# using JNI results in StackOverflowException","body":"<p>It was a stupid mistake... It cost me 1.5 days figuring out that I forgot to increment <code>i</code> in the while loop in <code>toString</code> method of &quot;CppAuthenticator.cpp&quot;.\nHere the correct working method:</p>\n<pre><code>String^ toString(const char* chars) {\n    int len = (int)strlen(chars);\n    array&lt;unsigned char&gt;^ a = gcnew array&lt;unsigned char&gt; (len);\n    int i = 0;\n    while (i &lt; len) {\n        a[i] = chars[i];\n        i++;\n    }\n    return Encoding::UTF8-&gt;GetString(a);\n}\n</code></pre>\n"}],"owner":{"account_id":22376463,"reputation":33,"user_id":16590657,"display_name":"Felix D"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75383466,"answer_count":1,"score":0,"last_activity_date":1679103780,"creation_date":1675762540,"question_id":75371396,"body_markdown":"***1. Summarize the problem:***\r\n\r\nI would like to invoke a C# method by invoking a Java method to check license file. This license check is performed by using a C# dll. I&#39;m using JNI and a C++ wrapper. I will provide necessary source code below.\r\nThe C# dll has a method `public static string GetLicenseStatus()` implemented which I wrote a wrapper for and now I&#39;m trying to invoke this method from Java application.\r\nI&#39;m using jdk-17.0.2.8-hotspot from Eclipse Adoptium (64-bit) and IntelliJ IDEA as Java IDE and Visual Studio 2022 for C# project. \r\n\r\nAfter Java method invocation I expect that it returns a String (number from 0-4, not valid, valid, expired, ...) but it results in a StackOverflowException when C# code is being executed/accessed.\r\n\r\n\r\n***2. Describe what you&#39;ve tried***\r\n\r\nI also tried to return just a value in the C++ method without calling any C# code; this worked fine. So **JNI &lt;--&gt; C++ wrapper is working fine**.\r\n\r\nAlso I tried to run C# source code within a C# main class, that was also working fine. So **there&#39;s no faulty C# code.**\r\n\r\nGood to know is maybe also that I tried to create an own C# dll to confirm that the issue is not related to the license dll (that&#39;s why I writing before about a &quot;C# project in Visual Studio&quot;). This dll is very basic and is just checking for dummy username &amp; password. Even When I tried to just return true in the function, when invoking it from Java it resulted again in a StackOverflowException in Java IDE. Its running into this error when attempting to instantiate an object with `gcnew`. My own created C# class and also the C# license dll were added as reference in the C++ project.\r\n\r\nMaybe also worth to mention:\r\n\r\n- The C# dll is relying on another dll to process license checking I assume. \r\n- I observed that Visual Studio for some reason doesn&#39;t recognise imported header files. I have to add them manually in visual Studio and copy paste code into the manual created file.\r\n\r\n\r\n***3. Show some code***\r\n\r\n&quot;Authenticator.java&quot;:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\tpackage org.example;\r\n\r\n\tpublic class Authenticator {\r\n\t\tstatic {\r\n\t\t\tSystem.loadLibrary(&quot;CppAuthenticator&quot;);\r\n\t\t}\r\n\r\n\t\tpublic native boolean authenticate(String username, String password);\r\n\t\tpublic native String getLicenseStatus();\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSystem.out.println(&quot;Program start&quot;);\r\n\t\t\tAuthenticator authenticator = new Authenticator();\r\n\t\t\tSystem.out.println(&quot;Authenticator created&quot;);\r\n\t\t\t/**boolean valid = authenticator.authenticate(args[0], args[1]);\r\n\t\t\tSystem.out.println(&quot;Is valid?: &quot;+valid);\r\n\t\t\tif(!valid) {\r\n\t\t\t\tSystem.err.println(&quot;Not valid!&quot;);\r\n\t\t\t\tSystem.exit(1);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;Valid&quot;);\r\n\t\t\t}**/\r\n\t\t\tSystem.out.println(&quot;License Check...&quot;);\r\n\t\t\tSystem.out.println(&quot;Status: &quot;+authenticator.getLicenseStatus());\r\n\t\t}\r\n\t}\r\n\r\n\r\n&quot;CppAuthenticator.cpp&quot;\r\n\r\n&lt;!-- language: lang-cpp --&gt;\r\n\r\n\t#include &quot;pch.h&quot;\r\n\r\n\t#include &lt;msclr\\marshal.h&gt;\r\n\t#include &quot;CppAuthenticator.h&quot;\r\n\t#include &quot;org_example_Authenticator.h&quot;\r\n\t// this is the main DLL file.\r\n\t#include &lt;string&gt;\r\n\r\n\tusing System::Text::Encoding;\r\n\r\n\tString^ toString(const char* chars) {\r\n\t\tint len = (int)strlen(chars);\r\n\t\tarray&lt;unsigned char&gt;^ a = gcnew array&lt;unsigned char&gt; (len);\r\n\t\tint i = 0;\r\n\t\twhile (i &lt; len) {\r\n\t\t\ta[i] = chars[i];\r\n\t\t}\r\n\t\treturn Encoding::UTF8-&gt;GetString(a);\r\n\t}\r\n\r\n\tbool authenticate(const char* username, const char* password) {\r\n\t\tSharpAuthenticator::Authenticator^ a = gcnew SharpAuthenticator::Authenticator();\t// Fails here\r\n\t\treturn a-&gt;Authenticate(toString(username), toString(password));\r\n\t}\r\n\r\n\tJNIEXPORT jboolean JNICALL Java_org_example_Authenticator_authenticate\r\n\t(JNIEnv* env, jobject c, jstring username, jstring password) {\r\n\t\tjboolean isCopyUsername;\r\n\t\tconst char *c_username = env-&gt;GetStringUTFChars(username, &amp;isCopyUsername);\r\n\t\tjboolean isCopyPassword;\r\n\t\tconst char* c_password = env-&gt;GetStringUTFChars(password, &amp;isCopyPassword);\r\n\t\tjboolean result = authenticate(c_username, c_password);\r\n\t\tenv-&gt;ReleaseStringUTFChars(username, c_username);\r\n\t\tenv-&gt;ReleaseStringUTFChars(password, c_password);\r\n\t\treturn result;\r\n\t}\r\n\r\n\r\n\tString^ getLicenseStatus() {\r\n\t\treturn LicenseCheck::ValidateLicense::GetLicenseStatus();\t\t\t\t\t\t// Fails here\r\n\t}\r\n\r\n\tJNIEXPORT jstring JNICALL Java_org_example_Authenticator_getLicenseStatus\r\n\t(JNIEnv* env, jobject c) {\r\n\t\tString^ cliString = getLicenseStatus();\r\n\t\tmsclr::interop::marshal_context context;\r\n\t\tconst char* utf8String = context.marshal_as&lt;const char*&gt;(cliString);\r\n\t\tjstring result = env-&gt;NewStringUTF(utf8String);\r\n\t\treturn result;\r\n\t}\r\n\r\n\r\n&quot;SharpAuthenticator.cs&quot;:\r\n\r\n&lt;!-- language: lang-cs --&gt;\r\n    \r\n\tusing System;\r\n\tusing System.Collections.Generic;\r\n\tusing System.Linq;\r\n\tusing System.Text;\r\n\tusing System.Threading.Tasks;\r\n\r\n\tnamespace SharpAuthenticator\r\n\t{\r\n\t\tpublic class Authenticator\r\n\t\t{\r\n\t\t\tpublic bool Authenticate(String username, String password)\r\n\t\t\t{\r\n\t\t\t\treturn username == &quot;user&quot; &amp;&amp; password == &quot;pass&quot;;\r\n\t\t\t}\r\n\t\t\tpublic bool Authenticate1()\r\n\t\t\t{\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\nHere is the project structure I have in Visual Studio (&quot;org_example_Authenticator.h&quot; code was created with &quot;javac -h ...&quot;-command located in bin folder of JDK mentioned above.) \r\n[![Project structure in Visual Studio 2022][1]][1]\r\n\r\nHere are the C++ project properties in Visual Studio:\r\n[![General][2]][2]\r\n[![VC++ Directories][3]][3]\r\n\r\nHere are C# project properties for my own created dummy dll mentioned above:\r\n[![C# project properties][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vHHwX.png\r\n  [2]: https://i.stack.imgur.com/RU9VK.png\r\n  [3]: https://i.stack.imgur.com/5oTUY.png\r\n  [4]: https://i.stack.imgur.com/vUSS5.png","title":"Java to C# using JNI results in StackOverflowException","body":"<p><em><strong>1. Summarize the problem:</strong></em></p>\n<p>I would like to invoke a C# method by invoking a Java method to check license file. This license check is performed by using a C# dll. I'm using JNI and a C++ wrapper. I will provide necessary source code below.\nThe C# dll has a method <code>public static string GetLicenseStatus()</code> implemented which I wrote a wrapper for and now I'm trying to invoke this method from Java application.\nI'm using jdk-17.0.2.8-hotspot from Eclipse Adoptium (64-bit) and IntelliJ IDEA as Java IDE and Visual Studio 2022 for C# project.</p>\n<p>After Java method invocation I expect that it returns a String (number from 0-4, not valid, valid, expired, ...) but it results in a StackOverflowException when C# code is being executed/accessed.</p>\n<p><em><strong>2. Describe what you've tried</strong></em></p>\n<p>I also tried to return just a value in the C++ method without calling any C# code; this worked fine. So <strong>JNI &lt;--&gt; C++ wrapper is working fine</strong>.</p>\n<p>Also I tried to run C# source code within a C# main class, that was also working fine. So <strong>there's no faulty C# code.</strong></p>\n<p>Good to know is maybe also that I tried to create an own C# dll to confirm that the issue is not related to the license dll (that's why I writing before about a &quot;C# project in Visual Studio&quot;). This dll is very basic and is just checking for dummy username &amp; password. Even When I tried to just return true in the function, when invoking it from Java it resulted again in a StackOverflowException in Java IDE. Its running into this error when attempting to instantiate an object with <code>gcnew</code>. My own created C# class and also the C# license dll were added as reference in the C++ project.</p>\n<p>Maybe also worth to mention:</p>\n<ul>\n<li>The C# dll is relying on another dll to process license checking I assume.</li>\n<li>I observed that Visual Studio for some reason doesn't recognise imported header files. I have to add them manually in visual Studio and copy paste code into the manual created file.</li>\n</ul>\n<p><em><strong>3. Show some code</strong></em></p>\n<p>&quot;Authenticator.java&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\npublic class Authenticator {\n    static {\n        System.loadLibrary(&quot;CppAuthenticator&quot;);\n    }\n\n    public native boolean authenticate(String username, String password);\n    public native String getLicenseStatus();\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Program start&quot;);\n        Authenticator authenticator = new Authenticator();\n        System.out.println(&quot;Authenticator created&quot;);\n        /**boolean valid = authenticator.authenticate(args[0], args[1]);\n        System.out.println(&quot;Is valid?: &quot;+valid);\n        if(!valid) {\n            System.err.println(&quot;Not valid!&quot;);\n            System.exit(1);\n        }\n        else {\n            System.out.println(&quot;Valid&quot;);\n        }**/\n        System.out.println(&quot;License Check...&quot;);\n        System.out.println(&quot;Status: &quot;+authenticator.getLicenseStatus());\n    }\n}\n</code></pre>\n<p>&quot;CppAuthenticator.cpp&quot;</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &quot;pch.h&quot;\n\n#include &lt;msclr\\marshal.h&gt;\n#include &quot;CppAuthenticator.h&quot;\n#include &quot;org_example_Authenticator.h&quot;\n// this is the main DLL file.\n#include &lt;string&gt;\n\nusing System::Text::Encoding;\n\nString^ toString(const char* chars) {\n    int len = (int)strlen(chars);\n    array&lt;unsigned char&gt;^ a = gcnew array&lt;unsigned char&gt; (len);\n    int i = 0;\n    while (i &lt; len) {\n        a[i] = chars[i];\n    }\n    return Encoding::UTF8-&gt;GetString(a);\n}\n\nbool authenticate(const char* username, const char* password) {\n    SharpAuthenticator::Authenticator^ a = gcnew SharpAuthenticator::Authenticator();   // Fails here\n    return a-&gt;Authenticate(toString(username), toString(password));\n}\n\nJNIEXPORT jboolean JNICALL Java_org_example_Authenticator_authenticate\n(JNIEnv* env, jobject c, jstring username, jstring password) {\n    jboolean isCopyUsername;\n    const char *c_username = env-&gt;GetStringUTFChars(username, &amp;isCopyUsername);\n    jboolean isCopyPassword;\n    const char* c_password = env-&gt;GetStringUTFChars(password, &amp;isCopyPassword);\n    jboolean result = authenticate(c_username, c_password);\n    env-&gt;ReleaseStringUTFChars(username, c_username);\n    env-&gt;ReleaseStringUTFChars(password, c_password);\n    return result;\n}\n\n\nString^ getLicenseStatus() {\n    return LicenseCheck::ValidateLicense::GetLicenseStatus();                       // Fails here\n}\n\nJNIEXPORT jstring JNICALL Java_org_example_Authenticator_getLicenseStatus\n(JNIEnv* env, jobject c) {\n    String^ cliString = getLicenseStatus();\n    msclr::interop::marshal_context context;\n    const char* utf8String = context.marshal_as&lt;const char*&gt;(cliString);\n    jstring result = env-&gt;NewStringUTF(utf8String);\n    return result;\n}\n</code></pre>\n<p>&quot;SharpAuthenticator.cs&quot;:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace SharpAuthenticator\n{\n    public class Authenticator\n    {\n        public bool Authenticate(String username, String password)\n        {\n            return username == &quot;user&quot; &amp;&amp; password == &quot;pass&quot;;\n        }\n        public bool Authenticate1()\n        {\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>Here is the project structure I have in Visual Studio (&quot;org_example_Authenticator.h&quot; code was created with &quot;javac -h ...&quot;-command located in bin folder of JDK mentioned above.)\n<a href=\"https://i.stack.imgur.com/vHHwX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vHHwX.png\" alt=\"Project structure in Visual Studio 2022\" /></a></p>\n<p>Here are the C++ project properties in Visual Studio:\n<a href=\"https://i.stack.imgur.com/RU9VK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RU9VK.png\" alt=\"General\" /></a>\n<a href=\"https://i.stack.imgur.com/5oTUY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5oTUY.png\" alt=\"VC++ Directories\" /></a></p>\n<p>Here are C# project properties for my own created dummy dll mentioned above:\n<a href=\"https://i.stack.imgur.com/vUSS5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vUSS5.png\" alt=\"C# project properties\" /></a></p>\n"},{"tags":["java","nosuchelementexception","replit"],"comments":[{"owner":{"account_id":28046763,"reputation":1,"user_id":21423378,"display_name":"Shane Woloszyn"},"score":0,"creation_date":1679100263,"post_id":75773135,"comment_id":133666343,"body_markdown":"I checked the file and there are 11 different values seperated by spaces:  Boeing Boston Portland 40 10 4 true 49 500 100 15. There are 11 calls for data and all the types match up.","body":"I checked the file and there are 11 different values seperated by spaces:  Boeing Boston Portland 40 10 4 true 49 500 100 15. There are 11 calls for data and all the types match up."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1679100702,"post_id":75773135,"comment_id":133666377,"body_markdown":"OK, found the problem - check the [documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Scanner.html#%3Cinit%3E(java.lang.String)}) of the constructor used to create the `Scanner`: &quot;*Constructs a new Scanner that produces values scanned from the specified string.*&quot; - it is reading `name` as `&quot;Planes.out&quot;` and nothing else left for `destination`","body":"OK, found the problem - check the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Scanner.html#%3Cinit%3E(java.lang.String)%7D\" rel=\"nofollow noreferrer\">documentation</a> of the constructor used to create the <code>Scanner</code>: &quot;<i>Constructs a new Scanner that produces values scanned from the specified string.</i>&quot; - it is reading <code>name</code> as <code>&quot;Planes.out&quot;</code> and nothing else left for <code>destination</code>"},{"owner":{"account_id":28046763,"reputation":1,"user_id":21423378,"display_name":"Shane Woloszyn"},"score":0,"creation_date":1679101198,"post_id":75773135,"comment_id":133666419,"body_markdown":"I&#39;m not sure what you mean, I tried to create a new file out of the scanner and I&#39;d just input data manually into it but it didn&#39;t work, returned filenotfoundexception.","body":"I&#39;m not sure what you mean, I tried to create a new file out of the scanner and I&#39;d just input data manually into it but it didn&#39;t work, returned filenotfoundexception."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679101354,"post_id":75773135,"comment_id":133666435,"body_markdown":"If `Panes.out` is a _file_, then use `new Scanner(new File(&quot;Planes.out&quot;))`. That will scan a file named `Planes.out` in the working directory. Obviously, that file has to exist in that location for it to work.","body":"If <code>Panes.out</code> is a <i>file</i>, then use <code>new Scanner(new File(&quot;Planes.out&quot;))</code>. That will scan a file named <code>Planes.out</code> in the working directory. Obviously, that file has to exist in that location for it to work."},{"owner":{"account_id":28046763,"reputation":1,"user_id":21423378,"display_name":"Shane Woloszyn"},"score":0,"creation_date":1679101616,"post_id":75773135,"comment_id":133666457,"body_markdown":"Using new Scanner(new File(&quot;Planes.txt&quot;)); returns FileNotFoundException, despite having a file named Planes.txt with the data inside","body":"Using new Scanner(new File(&quot;Planes.txt&quot;)); returns FileNotFoundException, despite having a file named Planes.txt with the data inside"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679101651,"post_id":75773135,"comment_id":133666460,"body_markdown":"And that text file is located in the current working directory?","body":"And that text file is located in the current working directory?"},{"owner":{"account_id":28046763,"reputation":1,"user_id":21423378,"display_name":"Shane Woloszyn"},"score":0,"creation_date":1679101675,"post_id":75773135,"comment_id":133666461,"body_markdown":"Yes, I&#39;ll add a screenshot to the post of my screen with the directory on the left","body":"Yes, I&#39;ll add a screenshot to the post of my screen with the directory on the left"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679101861,"post_id":75773135,"comment_id":133666485,"body_markdown":"Ah, that is not a run-time error as I assumed. You&#39;re getting a compiler error. `FileNotFoundException` is a checked exception, and thus must be explicitly handled. See https://stackoverflow.com/questions/19788989/error-unreported-exception-filenotfoundexception-must-be-caught-or-declared-to","body":"Ah, that is not a run-time error as I assumed. You&#39;re getting a compiler error. <code>FileNotFoundException</code> is a checked exception, and thus must be explicitly handled. See <a href=\"https://stackoverflow.com/questions/19788989/error-unreported-exception-filenotfoundexception-must-be-caught-or-declared-to\" title=\"error unreported exception filenotfoundexception must be caught or declared to\">stackoverflow.com/questions/19788989/&hellip;</a>"},{"owner":{"account_id":28046763,"reputation":1,"user_id":21423378,"display_name":"Shane Woloszyn"},"score":0,"creation_date":1679101872,"post_id":75773135,"comment_id":133666487,"body_markdown":"/home/runner/Airline-Reservation-System/Planes.txt is printed from new File(&quot;Planes.txt&quot;).getAbsolutePath()","body":"/home/runner/Airline-Reservation-System/Planes.txt is printed from new File(&quot;Planes.txt&quot;).getAbsolutePath()"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679101992,"post_id":75773135,"comment_id":133666494,"body_markdown":"The duplicate of the Q&amp;A I linked is more comprehensive: https://stackoverflow.com/questions/72751842/what-does-error-unreported-exception-xxx-must-be-caught-or-declared-to-be-t","body":"The duplicate of the Q&amp;A I linked is more comprehensive: <a href=\"https://stackoverflow.com/questions/72751842/what-does-error-unreported-exception-xxx-must-be-caught-or-declared-to-be-t\" title=\"what does error unreported exception xxx must be caught or declared to be t\">stackoverflow.com/questions/72751842/&hellip;</a>"},{"owner":{"account_id":28046763,"reputation":1,"user_id":21423378,"display_name":"Shane Woloszyn"},"score":0,"creation_date":1679102079,"post_id":75773135,"comment_id":133666496,"body_markdown":"I tried to use throws FileNotFoundException earlier but it just spat out more errors, Whatever I changed in the time between then and now made it work, thanks.","body":"I tried to use throws FileNotFoundException earlier but it just spat out more errors, Whatever I changed in the time between then and now made it work, thanks."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679109403,"post_id":75773135,"comment_id":133667038,"body_markdown":".........plan.add(new Plane..................   Why are you calling an instance inside a static context !!!!!        -w       Also, you do not store any variable information globally as you aquire it.","body":".........plan.add(new Plane..................   Why are you calling an instance inside a static context !!!!!        -w       Also, you do not store any variable information globally as you aquire it."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679156268,"post_id":75773135,"comment_id":133672731,"body_markdown":"@SamuelMarchant The OP declared and initialized `plan` inside the method (i.e., it&#39;s local to the method). And calling a constructor inside a static method is perfectly legal. There&#39;s no problem there. Also, the method returns the list (i.e., `plan`), allowing it to be used elsewhere (e.g., the OP passes the list to `modIn`). So, there&#39;s no reason to &quot;store any variable information globally&quot;.","body":"@SamuelMarchant The OP declared and initialized <code>plan</code> inside the method (i.e., it&#39;s local to the method). And calling a constructor inside a static method is perfectly legal. There&#39;s no problem there. Also, the method returns the list (i.e., <code>plan</code>), allowing it to be used elsewhere (e.g., the OP passes the list to <code>modIn</code>). So, there&#39;s no reason to &quot;store any variable information globally&quot;."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679417176,"post_id":75773135,"comment_id":133717036,"body_markdown":"Then it probably means it either oversteps for another next() and there is no way to break and or safely count the inputs.","body":"Then it probably means it either oversteps for another next() and there is no way to break and or safely count the inputs."}],"owner":{"account_id":28046763,"reputation":1,"user_id":21423378,"display_name":"Shane Woloszyn"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679101740,"creation_date":1679098321,"question_id":75773135,"body_markdown":"[Screen Image][1]\r\nI began to make an airline reservation system where Planes.out is a list of plane variables and moderators.in is different moderator passwords. When I run the code I get the exception in the title:\r\n```\r\nException in thread &quot;main&quot; java.util.NoSuchElementException\r\n    at java.base/java.util.Scanner.throwFor(Scanner.java:937)\r\n    at java.base/java.util.Scanner.next(Scanner.java:1478)\r\n    at Main.initializePlanes(Main.java:59)\r\n    at Main.main(Main.java:83)\r\nexit status 1\r\n```\r\n\r\nI&#39;ve never heard of this and I&#39;m not sure how to fix it, here is my code:\r\n\r\n```\r\nimport java.util.*;\r\nimport java.io.*;\r\nclass Main {\r\n  public static void planeMaker(ArrayList&lt;Plane&gt; planes) throws IOException {\r\n    boolean tvs;\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.println(&quot;PLANE MAKER\\n\\n&quot;);\r\n    System.out.println(&quot;\\nEnter the name:\\t&quot;);\r\n    String name = input.nextLine();\r\n    System.out.println(&quot;\\nEnter the destination:\\t&quot;); \r\n    String destination = input.nextLine();\r\n    System.out.println(&quot;\\nEnter the depart location:\\t&quot;); \r\n    String departLocation = input.nextLine();\r\n    System.out.println(&quot;\\nEnter the amount of seats:\\t&quot;); \r\n    int seats = input.nextInt();\r\n    System.out.println(&quot;\\nEnter the amount of rows:\\t&quot;); \r\n    int rows = input.nextInt();\r\n    System.out.println(&quot;\\nEnter the amount of columns:\\t&quot;); \r\n    int columns = input.nextInt();\r\n    System.out.println(&quot;\\nAre there tvs?:\\t&quot;); \r\n    String buffer = input.nextLine();\r\n    String qr = input.nextLine();\r\n    if(qr.equalsIgnoreCase(&quot;yes&quot;)) {\r\n      tvs = true;\r\n    } else {\r\n      tvs = false;\r\n    }\r\n    System.out.println(&quot;\\nEnter the seat cost:\\t&quot;); \r\n    int seatCost = input.nextInt();\r\n    System.out.println(&quot;\\nEnter the boarding time (7:30 -&gt; 730):\\t&quot;); \r\n    int boardingTime = input.nextInt();\r\n    System.out.println(&quot;\\nEnter the flight duration (in mins):\\t&quot;); \r\n    int flightDuration = input.nextInt();\r\n    System.out.println(&quot;\\nEnter the day of the month of takeoff:\\t&quot;); \r\n    int dayOfTheMonth = input.nextInt();\r\n    FileWriter fw = new FileWriter(&quot;Planes.out&quot;);\r\n    PrintWriter output = new PrintWriter(fw);\r\n    output.print(name + &quot; &quot; + destination + &quot; &quot; + departLocation + &quot; &quot; + seats + &quot; &quot; + rows + &quot; &quot; + columns + &quot; &quot;+ tvs+ &quot; &quot;+ seatCost+&quot; &quot;+boardingTime+&quot; &quot;+flightDuration+&quot; &quot;+dayOfTheMonth);\r\n  }\r\n  public static void modIn(ArrayList&lt;Plane&gt; planes) throws IOException {\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.println(&quot;What would you like to do?\\n&quot;);\r\n    System.out.println(&quot;\\n\\t1.) Create a Plane\\n\\t2.) Change a flight time&quot;);\r\n    int qeu = input.nextInt();\r\n    if(qeu == 1) {\r\n      planeMaker(planes);\r\n    } else if(qeu == 2){\r\n      changeBoardingTime(planes);\r\n    }\r\n  }\r\n  public static ArrayList&lt;Plane&gt; initializePlanes() {\r\n    Scanner initialize = new Scanner(&quot;Planes.out&quot;);\r\n    String name, destination, departLocation;\r\n    int seats, rows, columns, seatCost, boardingTime, flightDuration, dayOfTheMonth;\r\n    boolean tvs;\r\n    ArrayList&lt;Plane&gt; plan = new ArrayList&lt;Plane&gt;();\r\n    while(initialize.hasNext()) {\r\n      name = initialize.next();\r\n      destination = initialize.next();\r\n      departLocation = initialize.next();\r\n      seats = initialize.nextInt();\r\n      rows = initialize.nextInt();\r\n      columns = initialize.nextInt();\r\n      tvs = initialize.nextBoolean();\r\n      seatCost = initialize.nextInt();\r\n      boardingTime = initialize.nextInt();\r\n      flightDuration = initialize.nextInt();\r\n      dayOfTheMonth = initialize.nextInt();\r\n      plan.add(new Plane(name,destination,departLocation,seats,rows,columns,tvs,seatCost, boardingTime, flightDuration, dayOfTheMonth));\r\n    }\r\n    initialize.close();\r\n    return plan;\r\n  }\r\n  public static void changeBoardingTime(ArrayList&lt;Plane&gt; planes) {\r\n    System.out.println(&quot;What plane would you like to change the boarding time of?&quot;);\r\n    System.out.println(&quot;PLANES:&quot;);\r\n    for(int i = 0; i &lt; planes.size(); i++) {\r\n      System.out.println(&quot;\\t&quot;+planes.get(i).getName());\r\n    }\r\n  }\r\n  public static void main(String[] args) throws IOException{\r\n    ArrayList&lt;Plane&gt; planes = new ArrayList&lt;Plane&gt;();\r\n    planes = initializePlanes();\r\n    boolean qr = false;\r\n    FileWriter fw = new FileWriter(&quot;Output1.out&quot;);\r\n    PrintWriter output = new PrintWriter(fw);\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.println(&quot;Hello, welcome to Airway Airline reservation system.\\nPlease enter what you would like to do next: &quot;);\r\n    System.out.println(&quot;\\t1.) Book a seat\\n\\t2.) View your reservation\\n\\t3.) Sign into moderator&quot;);\r\n    int question = input.nextInt();\r\n    if(question == 1) {\r\n      \r\n    } else if(question == 2) {\r\n      \r\n    } else if(question == 3) {\r\n      Scanner modPass = new Scanner(new File(&quot;Moderators.in&quot;));\r\n      System.out.println(&quot;\\nPlease enter your moderator password: &quot;);\r\n      String buffer = input.nextLine();\r\n      String modAsk = input.nextLine();\r\n      while(modPass.hasNext()) {\r\n        if(modPass.next().equals(modAsk)) {\r\n          modIn(planes);\r\n          qr = true;\r\n        }\r\n      }\r\n      if(qr == false) {\r\n          System.out.println(&quot;YOU ARE NOT A MODERATOR!!!&quot;);\r\n          System.exit(0);\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI&#39;ve researched and checked other articles but I can&#39;t find a solution, I&#39;ve also tried closing all the different filewriters, to no luck.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WBQHF.png","title":"Exception in thread &quot;main&quot; java.util.NoSuchElementException, AP Comp Sci A teacher couldn&#39;t find error","body":"<p><a href=\"https://i.stack.imgur.com/WBQHF.png\" rel=\"nofollow noreferrer\">Screen Image</a>\nI began to make an airline reservation system where Planes.out is a list of plane variables and moderators.in is different moderator passwords. When I run the code I get the exception in the title:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException\n    at java.base/java.util.Scanner.throwFor(Scanner.java:937)\n    at java.base/java.util.Scanner.next(Scanner.java:1478)\n    at Main.initializePlanes(Main.java:59)\n    at Main.main(Main.java:83)\nexit status 1\n</code></pre>\n<p>I've never heard of this and I'm not sure how to fix it, here is my code:</p>\n<pre><code>import java.util.*;\nimport java.io.*;\nclass Main {\n  public static void planeMaker(ArrayList&lt;Plane&gt; planes) throws IOException {\n    boolean tvs;\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;PLANE MAKER\\n\\n&quot;);\n    System.out.println(&quot;\\nEnter the name:\\t&quot;);\n    String name = input.nextLine();\n    System.out.println(&quot;\\nEnter the destination:\\t&quot;); \n    String destination = input.nextLine();\n    System.out.println(&quot;\\nEnter the depart location:\\t&quot;); \n    String departLocation = input.nextLine();\n    System.out.println(&quot;\\nEnter the amount of seats:\\t&quot;); \n    int seats = input.nextInt();\n    System.out.println(&quot;\\nEnter the amount of rows:\\t&quot;); \n    int rows = input.nextInt();\n    System.out.println(&quot;\\nEnter the amount of columns:\\t&quot;); \n    int columns = input.nextInt();\n    System.out.println(&quot;\\nAre there tvs?:\\t&quot;); \n    String buffer = input.nextLine();\n    String qr = input.nextLine();\n    if(qr.equalsIgnoreCase(&quot;yes&quot;)) {\n      tvs = true;\n    } else {\n      tvs = false;\n    }\n    System.out.println(&quot;\\nEnter the seat cost:\\t&quot;); \n    int seatCost = input.nextInt();\n    System.out.println(&quot;\\nEnter the boarding time (7:30 -&gt; 730):\\t&quot;); \n    int boardingTime = input.nextInt();\n    System.out.println(&quot;\\nEnter the flight duration (in mins):\\t&quot;); \n    int flightDuration = input.nextInt();\n    System.out.println(&quot;\\nEnter the day of the month of takeoff:\\t&quot;); \n    int dayOfTheMonth = input.nextInt();\n    FileWriter fw = new FileWriter(&quot;Planes.out&quot;);\n    PrintWriter output = new PrintWriter(fw);\n    output.print(name + &quot; &quot; + destination + &quot; &quot; + departLocation + &quot; &quot; + seats + &quot; &quot; + rows + &quot; &quot; + columns + &quot; &quot;+ tvs+ &quot; &quot;+ seatCost+&quot; &quot;+boardingTime+&quot; &quot;+flightDuration+&quot; &quot;+dayOfTheMonth);\n  }\n  public static void modIn(ArrayList&lt;Plane&gt; planes) throws IOException {\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;What would you like to do?\\n&quot;);\n    System.out.println(&quot;\\n\\t1.) Create a Plane\\n\\t2.) Change a flight time&quot;);\n    int qeu = input.nextInt();\n    if(qeu == 1) {\n      planeMaker(planes);\n    } else if(qeu == 2){\n      changeBoardingTime(planes);\n    }\n  }\n  public static ArrayList&lt;Plane&gt; initializePlanes() {\n    Scanner initialize = new Scanner(&quot;Planes.out&quot;);\n    String name, destination, departLocation;\n    int seats, rows, columns, seatCost, boardingTime, flightDuration, dayOfTheMonth;\n    boolean tvs;\n    ArrayList&lt;Plane&gt; plan = new ArrayList&lt;Plane&gt;();\n    while(initialize.hasNext()) {\n      name = initialize.next();\n      destination = initialize.next();\n      departLocation = initialize.next();\n      seats = initialize.nextInt();\n      rows = initialize.nextInt();\n      columns = initialize.nextInt();\n      tvs = initialize.nextBoolean();\n      seatCost = initialize.nextInt();\n      boardingTime = initialize.nextInt();\n      flightDuration = initialize.nextInt();\n      dayOfTheMonth = initialize.nextInt();\n      plan.add(new Plane(name,destination,departLocation,seats,rows,columns,tvs,seatCost, boardingTime, flightDuration, dayOfTheMonth));\n    }\n    initialize.close();\n    return plan;\n  }\n  public static void changeBoardingTime(ArrayList&lt;Plane&gt; planes) {\n    System.out.println(&quot;What plane would you like to change the boarding time of?&quot;);\n    System.out.println(&quot;PLANES:&quot;);\n    for(int i = 0; i &lt; planes.size(); i++) {\n      System.out.println(&quot;\\t&quot;+planes.get(i).getName());\n    }\n  }\n  public static void main(String[] args) throws IOException{\n    ArrayList&lt;Plane&gt; planes = new ArrayList&lt;Plane&gt;();\n    planes = initializePlanes();\n    boolean qr = false;\n    FileWriter fw = new FileWriter(&quot;Output1.out&quot;);\n    PrintWriter output = new PrintWriter(fw);\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Hello, welcome to Airway Airline reservation system.\\nPlease enter what you would like to do next: &quot;);\n    System.out.println(&quot;\\t1.) Book a seat\\n\\t2.) View your reservation\\n\\t3.) Sign into moderator&quot;);\n    int question = input.nextInt();\n    if(question == 1) {\n      \n    } else if(question == 2) {\n      \n    } else if(question == 3) {\n      Scanner modPass = new Scanner(new File(&quot;Moderators.in&quot;));\n      System.out.println(&quot;\\nPlease enter your moderator password: &quot;);\n      String buffer = input.nextLine();\n      String modAsk = input.nextLine();\n      while(modPass.hasNext()) {\n        if(modPass.next().equals(modAsk)) {\n          modIn(planes);\n          qr = true;\n        }\n      }\n      if(qr == false) {\n          System.out.println(&quot;YOU ARE NOT A MODERATOR!!!&quot;);\n          System.exit(0);\n      }\n    }\n  }\n}\n</code></pre>\n<p>I've researched and checked other articles but I can't find a solution, I've also tried closing all the different filewriters, to no luck.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","browser-automation"],"comments":[{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1679065252,"post_id":75769060,"comment_id":133659268,"body_markdown":"Can you either share the text based HTML or the URL of the application? Also, share the error stack.","body":"Can you either share the text based HTML or the URL of the application? Also, share the error stack."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1679080106,"post_id":75769060,"comment_id":133663042,"body_markdown":"You might try xpath of: //div[contains(@class, &quot;ant-select-item&quot;)]","body":"You might try xpath of: //div[contains(@class, &quot;ant-select-item&quot;)]"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679099287,"creation_date":1679099287,"answer_id":75773184,"question_id":75769060,"body_markdown":"Given the HTML...\r\n\r\n![html](https://i.stack.imgur.com/1VilV.png)\r\n\r\nto print the item texts ideally you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_visibilityOfAllElementsLocatedBy()_](https://stackoverflow.com/a/55707593/7429447) and you can use the following [locator strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver):\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  List&lt;WebElement&gt; elements = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector(&quot;div.rc-virtual-list-holder-inner div[title] &gt; div&quot;)));\r\n\t  for(WebElement element : elements)\r\n\t  {\r\n\t  \tSystem.out.println(element.getText());\r\n\t  }\r\n\r\n- Using _xpath_:\r\n\r\n\t  List&lt;WebElement&gt; elements = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(&quot;//div[@class=&quot;rc-virtual-list-holder-inner&quot;]//div[@title]/div&quot;)));\r\n\t  for(WebElement element : elements)\r\n\t  {\r\n\t  \tSystem.out.println(element.getText());\r\n\t  }\r\n\t  \r\nUsing Java8&#39;s [`stream()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html) and [`map()`](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html) you can use the following [_locator strategies_](https://stackoverflow.com/questions/48054321/of-the-many-findelements-by-functions-in-selenium-when-would-you-use-one-over):\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector(&quot;div.rc-virtual-list-holder-inner div[title] &gt; div&quot;))).stream().map(element-&gt;element.getText()).collect(Collectors.toList()));\r\n\t\r\n- Using _xpath_:\r\n\r\n\t  System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(&quot;//div[@class=&quot;rc-virtual-list-holder-inner&quot;]//div[@title]/div&quot;))).stream().map(element-&gt;element.getText()).collect(Collectors.toList()));","title":"Trying to use a custom css selector to get all options in a dropdown list using Selenium and Java","body":"<p>Given the HTML...</p>\n<p><img src=\"https://i.stack.imgur.com/1VilV.png\" alt=\"html\" /></p>\n<p>to print the item texts ideally you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/55707593/7429447\"><em>visibilityOfAllElementsLocatedBy()</em></a> and you can use the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver\">locator strategies</a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>List&lt;WebElement&gt; elements = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector(&quot;div.rc-virtual-list-holder-inner div[title] &gt; div&quot;)));\nfor(WebElement element : elements)\n{\n  System.out.println(element.getText());\n}\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>List&lt;WebElement&gt; elements = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(&quot;//div[@class=&quot;rc-virtual-list-holder-inner&quot;]//div[@title]/div&quot;)));\nfor(WebElement element : elements)\n{\n  System.out.println(element.getText());\n}\n</code></pre>\n</li>\n</ul>\n<p>Using Java8's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\"><code>stream()</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>map()</code></a> you can use the following <a href=\"https://stackoverflow.com/questions/48054321/of-the-many-findelements-by-functions-in-selenium-when-would-you-use-one-over\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.cssSelector(&quot;div.rc-virtual-list-holder-inner div[title] &gt; div&quot;))).stream().map(element-&gt;element.getText()).collect(Collectors.toList()));\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(&quot;//div[@class=&quot;rc-virtual-list-holder-inner&quot;]//div[@title]/div&quot;))).stream().map(element-&gt;element.getText()).collect(Collectors.toList()));\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":7226752,"reputation":39,"user_id":5515043,"display_name":"Tunan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75773184,"answer_count":1,"score":1,"last_activity_date":1679099287,"creation_date":1679064969,"question_id":75769060,"body_markdown":"The dropdowns in our webpage do not use the common select tags or Li tags. this is making it difficult to extract and store the list items text in a WebElement list. Here is an image of the DOM and drop down list Vs and I also provide the code I am trying to write\r\n\r\n`WebDriver driver = getDriver();\r\n\r\n\t\tList&lt;WebElement&gt; teachers = driver.findElements(By.cssSelector(&quot;.rc-virtual-list-holder-inner&gt;div&gt;div&quot;));\r\n\t\tfor (WebElement myElement : teachers) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(myElement.getText());`\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1VilV.png","title":"Trying to use a custom css selector to get all options in a dropdown list using Selenium and Java","body":"<p>The dropdowns in our webpage do not use the common select tags or Li tags. this is making it difficult to extract and store the list items text in a WebElement list. Here is an image of the DOM and drop down list Vs and I also provide the code I am trying to write</p>\n<p>`WebDriver driver = getDriver();</p>\n<pre><code>    List&lt;WebElement&gt; teachers = driver.findElements(By.cssSelector(&quot;.rc-virtual-list-holder-inner&gt;div&gt;div&quot;));\n    for (WebElement myElement : teachers) {\n        \n        System.out.println(myElement.getText());`\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1VilV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1VilV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","awt"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679097452,"creation_date":1679096087,"answer_id":75772987,"question_id":75772847,"body_markdown":"The issue is that you are trying to add layout management logic in the ComponentListener. \r\n\r\nYes, the ComponentListener sets the preferred size, but the `getPreferredSize()` method can be called on the panel by Swing separately when required. The default getPreferredSize() logic will return a size of (10, 10) so you see a small rectangle painted for a brief moment.\r\n\r\nThe solution is to move the preferred size logic to the component:\r\n\r\n    import java.awt.*;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ComponentEvent;\r\n    import java.awt.event.ComponentListener;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class TestApp extends JFrame{\r\n        private JPanel panel;\r\n        private JPanel container;\r\n    \r\n        public TestApp() {\r\n            setSize(800, 600);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            this.container = new JPanel(new GridBagLayout());\r\n    \r\n            this.panel = new JPanel()\r\n            {\r\n    \t\t\t@Override\r\n    \t\t\tpublic Dimension getPreferredSize()\r\n    \t\t\t{\r\n                    int reswidth = 800;\r\n                    int resheight = 600;\r\n                    Dimension parent_size = container.getSize();\r\n    \r\n                    double scale = Math.min((double) parent_size.height / resheight,\r\n                                            (double) parent_size.width / reswidth);\r\n    \r\n                    return new Dimension((int) (reswidth * scale), (int) (resheight * scale));\r\n    \r\n    \t\t\t}\r\n            };\r\n            this.panel.setBackground(Color.black);\r\n    \r\n            this.container.add(this.panel);\r\n    \r\n            add(this.container);\r\n        }\r\n    \r\n        static public void main(String[] args) {\r\n            TestApp app = new TestApp();\r\n            app.setVisible(true);\r\n        }\r\n    }\r\n\r\n","title":"JPanel flicking when component resized","body":"<p>The issue is that you are trying to add layout management logic in the ComponentListener.</p>\n<p>Yes, the ComponentListener sets the preferred size, but the <code>getPreferredSize()</code> method can be called on the panel by Swing separately when required. The default getPreferredSize() logic will return a size of (10, 10) so you see a small rectangle painted for a brief moment.</p>\n<p>The solution is to move the preferred size logic to the component:</p>\n<pre><code>import java.awt.*;\nimport java.awt.Dimension;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ComponentEvent;\nimport java.awt.event.ComponentListener;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class TestApp extends JFrame{\n    private JPanel panel;\n    private JPanel container;\n\n    public TestApp() {\n        setSize(800, 600);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        this.container = new JPanel(new GridBagLayout());\n\n        this.panel = new JPanel()\n        {\n            @Override\n            public Dimension getPreferredSize()\n            {\n                int reswidth = 800;\n                int resheight = 600;\n                Dimension parent_size = container.getSize();\n\n                double scale = Math.min((double) parent_size.height / resheight,\n                                        (double) parent_size.width / reswidth);\n\n                return new Dimension((int) (reswidth * scale), (int) (resheight * scale));\n\n            }\n        };\n        this.panel.setBackground(Color.black);\n\n        this.container.add(this.panel);\n\n        add(this.container);\n    }\n\n    static public void main(String[] args) {\n        TestApp app = new TestApp();\n        app.setVisible(true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17782618,"reputation":232,"user_id":12913664,"display_name":"Dante S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75772987,"answer_count":1,"score":0,"last_activity_date":1679097452,"creation_date":1679094009,"question_id":75772847,"body_markdown":"First of all, I want to clarify that I am aware that this has been asked many times. However, I haven&#39;t found an answer that has worked for me.\r\n\r\nI&#39;m trying to make a game in which resolution is needed. So I got to work and made one component adapt to the size of another while maintaining the aspect ratio.\r\n\r\nBut I ran into a problem, and that is that a kind of flick or a resize of the object occurs particularly when the JFrame is made smaller.\r\n\r\nIn addition to investigating, I checked that the scale gave numbers that made sense and I did not detect anything unusual. I also tried to activate double buffering (despite knowing that it is enabled by default in JPanels) and nothing....\r\n\r\nI&#39;ve written similar code below so you can see and test what&#39;s going on. What is the mistake?\r\n\r\n    package novely;\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ComponentEvent;\r\n    import java.awt.event.ComponentListener;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class TestApp extends JFrame{\r\n    \tprivate JPanel panel; \r\n    \tprivate JPanel container;\r\n    \t\r\n    \tpublic TestApp() {\r\n        \tsetSize(800, 600);\r\n        \tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        \t\r\n        \tthis.container = new JPanel(new GridBagLayout());\r\n        \t\r\n        \tthis.panel = new JPanel();\r\n        \tthis.panel.setBackground(Color.black);\r\n        \t\r\n        \tthis.container.addComponentListener(new ComponentListener() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void componentResized(ComponentEvent e) {\r\n    \t\t\t\tint reswidth = 800;\r\n    \t\t\t\tint resheight = 600;\r\n    \t\t\t\tDimension parent_size = container.getSize();\r\n    \t\t\t\t\r\n    \t\t\t\tdouble scale = Math.min((double) parent_size.height / resheight,\r\n    \t\t\t\t\t\t                (double) parent_size.width / reswidth);\r\n    \t\t\t\t\r\n    \t\t\t\tpanel.setPreferredSize(new Dimension((int) (reswidth * scale), (int) (resheight * scale)));\r\n    \t\t\t\tpanel.revalidate();\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void componentMoved(ComponentEvent e) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void componentShown(ComponentEvent e) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void componentHidden(ComponentEvent e) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\r\n    \t\t\t}\r\n        \t\t\r\n        \t});\r\n        \t\r\n        \tthis.container.add(this.panel);\r\n        \t\r\n        \tadd(this.container);\r\n    \t}\r\n    \t\r\n        static public void main(String[] args) {\r\n        \tTestApp app = new TestApp();\r\n        \tapp.setVisible(true);\r\n        }\r\n    }","title":"JPanel flicking when component resized","body":"<p>First of all, I want to clarify that I am aware that this has been asked many times. However, I haven't found an answer that has worked for me.</p>\n<p>I'm trying to make a game in which resolution is needed. So I got to work and made one component adapt to the size of another while maintaining the aspect ratio.</p>\n<p>But I ran into a problem, and that is that a kind of flick or a resize of the object occurs particularly when the JFrame is made smaller.</p>\n<p>In addition to investigating, I checked that the scale gave numbers that made sense and I did not detect anything unusual. I also tried to activate double buffering (despite knowing that it is enabled by default in JPanels) and nothing....</p>\n<p>I've written similar code below so you can see and test what's going on. What is the mistake?</p>\n<pre><code>package novely;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ComponentEvent;\nimport java.awt.event.ComponentListener;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class TestApp extends JFrame{\n    private JPanel panel; \n    private JPanel container;\n    \n    public TestApp() {\n        setSize(800, 600);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        this.container = new JPanel(new GridBagLayout());\n        \n        this.panel = new JPanel();\n        this.panel.setBackground(Color.black);\n        \n        this.container.addComponentListener(new ComponentListener() {\n\n            @Override\n            public void componentResized(ComponentEvent e) {\n                int reswidth = 800;\n                int resheight = 600;\n                Dimension parent_size = container.getSize();\n                \n                double scale = Math.min((double) parent_size.height / resheight,\n                                        (double) parent_size.width / reswidth);\n                \n                panel.setPreferredSize(new Dimension((int) (reswidth * scale), (int) (resheight * scale)));\n                panel.revalidate();\n            }\n\n            @Override\n            public void componentMoved(ComponentEvent e) {\n                // TODO Auto-generated method stub\n                \n            }\n\n            @Override\n            public void componentShown(ComponentEvent e) {\n                // TODO Auto-generated method stub\n                \n            }\n\n            @Override\n            public void componentHidden(ComponentEvent e) {\n                // TODO Auto-generated method stub\n                \n            }\n            \n        });\n        \n        this.container.add(this.panel);\n        \n        add(this.container);\n    }\n    \n    static public void main(String[] args) {\n        TestApp app = new TestApp();\n        app.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","ssl","websocket"],"answers":[{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679097325,"creation_date":1679097325,"answer_id":75773065,"question_id":75712634,"body_markdown":"Probably application is starting in https on 8080 if you open http://localhost:8080/ in browser you will see\r\n\r\n[![local https on port8080 called with http protocl][1]][1]\r\n\r\nif you go with https://localhost:8080/ will show the page, you may need to accept self signed certificate, example below\r\n[![https localhost][2]][2]\r\n\r\nyou can find working code [here](https://github.com/ozkanpakdil/spring-examples/tree/master/local-ssl-websocket) for this test. And I took the chat system from [here](https://spring.io/guides/gs/messaging-stomp-websocket/).\r\n\r\n  [1]: https://i.stack.imgur.com/U6D8C.png\r\n  [2]: https://i.stack.imgur.com/k2li7.png","title":"Trying to set my Spring websocket run over TLS","body":"<p>Probably application is starting in https on 8080 if you open http://localhost:8080/ in browser you will see</p>\n<p><a href=\"https://i.stack.imgur.com/U6D8C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U6D8C.png\" alt=\"local https on port8080 called with http protocl\" /></a></p>\n<p>if you go with https://localhost:8080/ will show the page, you may need to accept self signed certificate, example below\n<a href=\"https://i.stack.imgur.com/k2li7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k2li7.png\" alt=\"https localhost\" /></a></p>\n<p>you can find working code <a href=\"https://github.com/ozkanpakdil/spring-examples/tree/master/local-ssl-websocket\" rel=\"nofollow noreferrer\">here</a> for this test. And I took the chat system from <a href=\"https://spring.io/guides/gs/messaging-stomp-websocket/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":9226350,"reputation":13,"user_id":6854035,"display_name":"babilon1210"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679097325,"creation_date":1678618688,"question_id":75712634,"body_markdown":"I have created a Spring websocket using Intellij community using Maven. \r\nThe websocket works, however it runs on HTTP, while I want it to run over TLS/SSL (HTTPS). \r\n\r\nI&#39;ve tried adding the below properties to the application.properties file (I have obtained a Certificate and created the keystore.JKS file, its path is the same path as the application.properties path):\r\n\r\n    # Enable HTTPS\r\n    server.ssl.key-store-type=JKS\r\n    server.ssl.key-store=classpath:keystore.jks \r\n    server.ssl.key-store-password=*****\r\n    server.ssl.key-alias=tomcat\r\n    server.ssl.enabled-protocols=TLSv1.2\r\n    server.ssl.protocol=TLS\r\n    server.ssl.enabled=true\r\n\r\nAfter running the application, nothing changed and the Tomcat still started on port 8080 (http).\r\nI am struggling for days now on making my websocket run over TLS, and I would appreciate some assistance.\r\nI would be happy to accept other suggestions for making my websocket run over TLS, instead of the application.properties file.\r\n\r\n**My Spring websocket code:**\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n    package com.chess.web;\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.socket.config.annotation.EnableWebSocket;\r\n    import org.springframework.web.socket.config.annotation.WebSocketConfigurer;\r\n    import org.springframework.web.socket.config.annotation.WebSocketHandlerRegistry;\r\n\r\n    @Configuration\r\n    @EnableWebSocket\r\n    public class WebSocketConfig implements WebSocketConfigurer{\r\n\r\n        @Override\r\n        public void registerWebSocketHandlers(WebSocketHandlerRegistry registry){\r\n            registry.addHandler(new ChessWebSocketHandler(), &quot;/chess&quot;).setAllowedOrigins(&quot;*&quot;);\r\n        }\r\n    }\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n    package com.chess.web;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.PropertySource;\r\n\r\n    @SpringBootApplication\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class ChessGameApplication {\r\n\r\n        public static void main(String[] args){\r\n            SpringApplication.run(ChessGameApplication.class,args);\r\n        }\r\n    }\r\n&lt;/code&gt;&lt;/pre&gt;\r\n","title":"Trying to set my Spring websocket run over TLS","body":"<p>I have created a Spring websocket using Intellij community using Maven.\nThe websocket works, however it runs on HTTP, while I want it to run over TLS/SSL (HTTPS).</p>\n<p>I've tried adding the below properties to the application.properties file (I have obtained a Certificate and created the keystore.JKS file, its path is the same path as the application.properties path):</p>\n<pre><code># Enable HTTPS\nserver.ssl.key-store-type=JKS\nserver.ssl.key-store=classpath:keystore.jks \nserver.ssl.key-store-password=*****\nserver.ssl.key-alias=tomcat\nserver.ssl.enabled-protocols=TLSv1.2\nserver.ssl.protocol=TLS\nserver.ssl.enabled=true\n</code></pre>\n<p>After running the application, nothing changed and the Tomcat still started on port 8080 (http).\nI am struggling for days now on making my websocket run over TLS, and I would appreciate some assistance.\nI would be happy to accept other suggestions for making my websocket run over TLS, instead of the application.properties file.</p>\n<p><strong>My Spring websocket code:</strong></p>\n<pre><code>\n    package com.chess.web;\n\n    import org.springframework.context.annotation.Configuration;\n    import org.springframework.web.socket.config.annotation.EnableWebSocket;\n    import org.springframework.web.socket.config.annotation.WebSocketConfigurer;\n    import org.springframework.web.socket.config.annotation.WebSocketHandlerRegistry;\n\n    @Configuration\n    @EnableWebSocket\n    public class WebSocketConfig implements WebSocketConfigurer{\n\n        @Override\n        public void registerWebSocketHandlers(WebSocketHandlerRegistry registry){\n            registry.addHandler(new ChessWebSocketHandler(), \"/chess\").setAllowedOrigins(\"*\");\n        }\n    }\n</code></pre>\n<pre><code>\n    package com.chess.web;\n\n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    import org.springframework.context.annotation.PropertySource;\n\n    @SpringBootApplication\n    @PropertySource(\"classpath:application.properties\")\n    public class ChessGameApplication {\n\n        public static void main(String[] args){\n            SpringApplication.run(ChessGameApplication.class,args);\n        }\n    }\n</code></pre>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1679156207,"post_id":75772819,"comment_id":133672723,"body_markdown":"You shouldn&#39;t post the answer in the question, better post it as separate answer and approve so others can find it","body":"You shouldn&#39;t post the answer in the question, better post it as separate answer and approve so others can find it"}],"owner":{"account_id":6781164,"reputation":1,"user_id":5221358,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679093711,"creation_date":1679093619,"question_id":75772819,"body_markdown":"I followed documentation https://quarkus.io/guides/opentelemetry#id-generator, but this way is either incomplete or just does not work. According to the doc that is suppose to work somehow auto-magically, but application continue to use default random generator instead of using AwsXrayIdGenerator that I&#39;m trying to provide.\r\nSo, should I register this class in parameters? What am I supposed to do if I&#39;m not getting the expected result?\r\n\r\nThe Answer:\r\nOK, after hours of searching and debugging I finally figured out that I had to formally inject IdGenerator class somewhere, that will kick in corresponding logic in Instances.resolveBeans() and get the instance of IdGenerator from the CustomConfig.idGenerator() method (or any other method annotated as @Produces).\r\nIt was interesting, but not so pleasant learning. A little bit more help from the doc would be nice.","title":"How do I set my custom IdGenerator for OpenTelemetry extension in Quarkus?","body":"<p>I followed documentation <a href=\"https://quarkus.io/guides/opentelemetry#id-generator\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/opentelemetry#id-generator</a>, but this way is either incomplete or just does not work. According to the doc that is suppose to work somehow auto-magically, but application continue to use default random generator instead of using AwsXrayIdGenerator that I'm trying to provide.\nSo, should I register this class in parameters? What am I supposed to do if I'm not getting the expected result?</p>\n<p>The Answer:\nOK, after hours of searching and debugging I finally figured out that I had to formally inject IdGenerator class somewhere, that will kick in corresponding logic in Instances.resolveBeans() and get the instance of IdGenerator from the CustomConfig.idGenerator() method (or any other method annotated as @Produces).\nIt was interesting, but not so pleasant learning. A little bit more help from the doc would be nice.</p>\n"},{"tags":["java","windows","locale","lcid"],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1248766133,"creation_date":1248766133,"answer_id":1192398,"question_id":1192361,"body_markdown":"[The was the first hit on google][1] for &quot;Java LCID&quot; is this javadoc:\r\n\r\n    gnu.java.awt.font.opentype.NameDecoder\r\n\r\n&gt; private static java.util.Locale\r\n&gt; getWindowsLocale(int lcid)\r\n&gt; \r\n&gt;     Maps a Windows LCID into a Java Locale.\r\n&gt; \r\n&gt;     Parameters:\r\n&gt;         lcid - the Windows language ID whose Java locale is to be retrieved. \r\n&gt;     Returns:\r\n&gt;         an suitable Locale, or null if the mapping cannot be performed.\r\n\r\nI&#39;m not sure where to go about downloading this library, but it&#39;s GNU, so it shouldn&#39;t be too hard to find.\r\n\r\n\r\n  [1]: http://www.brawer.ch/software/fonts/doc/gnu/java/awt/font/opentype/NameDecoder.html\r\n","title":"How to convert Microsoft Locale ID (LCID) into language code or Locale object in Java","body":"<p><a href=\"http://www.brawer.ch/software/fonts/doc/gnu/java/awt/font/opentype/NameDecoder.html\" rel=\"nofollow noreferrer\">The was the first hit on google</a> for \"Java LCID\" is this javadoc:</p>\n\n<pre><code>gnu.java.awt.font.opentype.NameDecoder\n</code></pre>\n\n<blockquote>\n  <p>private static java.util.Locale\n  getWindowsLocale(int lcid)</p>\n\n<pre><code>Maps a Windows LCID into a Java Locale.\n\nParameters:\n    lcid - the Windows language ID whose Java locale is to be retrieved. \nReturns:\n    an suitable Locale, or null if the mapping cannot be performed.\n</code></pre>\n</blockquote>\n\n<p>I'm not sure where to go about downloading this library, but it's GNU, so it shouldn't be too hard to find.</p>\n"},{"tags":[],"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1272914919,"creation_date":1248771913,"answer_id":1192856,"question_id":1192361,"body_markdown":"As it started to look like there is no ready Java solution to do this mapping, we took the ~20 minutes to roll something of our own, at least for now.\r\n\r\nWe took the information from the horse&#39;s mouth, i.e. http://msdn.microsoft.com/en-us/goglobal/bb964664.aspx, and copy-pasted it (through Excel) into a .properties file like this: \r\n\r\n    1078 = Afrikaans - South Africa\r\n    1052 = Albanian - Albania\r\n    1118 = Amharic - Ethiopia\r\n    1025 = Arabic - Saudi Arabia\r\n    5121 = Arabic - Algeria\t\r\n    ...\r\n\r\n(You can download the file [here][1] if you have similar needs.)\r\n\r\nThen there&#39;s a very simple class that reads the information from the .properties file into a map, and has a method for doing the conversion.\r\n\r\n    Map&lt;String, String&gt; lcidToDescription;\r\n\r\n    public String getDescription(String lcid) { ... }\r\n\r\nAnd yes, this doesn&#39;t actually map to *language code* or *Locale object* (which is what I originally asked), but to Microsoft&#39;s &quot;Language - Country/Region&quot; description. It turned out this was sufficient for our current need.\r\n\r\nDisclaimer: this really is a minimalistic, &quot;dummy&quot; way of doing it yourself in Java, and obviously keeping (and maintaining) a copy of the LCID mapping information in your own codebase is not very elegant. (On the other hand, neither would I want to include a huge library jar or do anything overly complicated just for this simple mapping.) So despite this answer, **feel free to post more elegant solutions or existing libraries** if you know of anything like that.\r\n\r\n\r\n  [1]: http://dl.dropbox.com/u/2896691/stack/lcid-codes.properties","title":"How to convert Microsoft Locale ID (LCID) into language code or Locale object in Java","body":"<p>As it started to look like there is no ready Java solution to do this mapping, we took the ~20 minutes to roll something of our own, at least for now.</p>\n\n<p>We took the information from the horse's mouth, i.e. <a href=\"http://msdn.microsoft.com/en-us/goglobal/bb964664.aspx\" rel=\"noreferrer\">http://msdn.microsoft.com/en-us/goglobal/bb964664.aspx</a>, and copy-pasted it (through Excel) into a .properties file like this: </p>\n\n<pre><code>1078 = Afrikaans - South Africa\n1052 = Albanian - Albania\n1118 = Amharic - Ethiopia\n1025 = Arabic - Saudi Arabia\n5121 = Arabic - Algeria \n...\n</code></pre>\n\n<p>(You can download the file <a href=\"http://dl.dropbox.com/u/2896691/stack/lcid-codes.properties\" rel=\"noreferrer\">here</a> if you have similar needs.)</p>\n\n<p>Then there's a very simple class that reads the information from the .properties file into a map, and has a method for doing the conversion.</p>\n\n<pre><code>Map&lt;String, String&gt; lcidToDescription;\n\npublic String getDescription(String lcid) { ... }\n</code></pre>\n\n<p>And yes, this doesn't actually map to <em>language code</em> or <em>Locale object</em> (which is what I originally asked), but to Microsoft's \"Language - Country/Region\" description. It turned out this was sufficient for our current need.</p>\n\n<p>Disclaimer: this really is a minimalistic, \"dummy\" way of doing it yourself in Java, and obviously keeping (and maintaining) a copy of the LCID mapping information in your own codebase is not very elegant. (On the other hand, neither would I want to include a huge library jar or do anything overly complicated just for this simple mapping.) So despite this answer, <strong>feel free to post more elegant solutions or existing libraries</strong> if you know of anything like that.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1248775890,"creation_date":1248775890,"answer_id":1193174,"question_id":1192361,"body_markdown":"You could use [GetLocaleInfo][1] to do this (assuming you were running on Windows (win2k+)).\r\n\r\nThis C++ code demonstrates how to use the function:\r\n\r\n    #include &quot;windows.h&quot;\r\n    \r\n    int main()\r\n    {\r\n      HANDLE stdout = GetStdHandle(STD_OUTPUT_HANDLE);\r\n      if(INVALID_HANDLE_VALUE == stdout) return 1;\r\n    \r\n      LCID Locale = 0x0c01; //Arabic - Egypt\r\n      int nchars = GetLocaleInfoW(Locale, LOCALE_SISO639LANGNAME, NULL, 0);\r\n      wchar_t* LanguageCode = new wchar_t[nchars];\r\n      GetLocaleInfoW(Locale, LOCALE_SISO639LANGNAME, LanguageCode, nchars);\r\n    \r\n      WriteConsoleW(stdout, LanguageCode, nchars, NULL, NULL);\r\n      delete[] LanguageCode;\r\n      return 0;\r\n    }\r\n\r\nIt would not take much work to turn this into a [JNA][2] call. (Tip: emit constants as ints to find their values.)\r\n\r\nSample JNA code:\r\n\r\n - [draw a Windows cursor][3]\r\n - [print Unicode on a Windows console][4]\r\n\r\nUsing JNI is a bit more involved, but is manageable for a relatively trivial task.\r\n\r\nAt the very least, I would look into using native calls to build your conversion database. I&#39;m not sure if Windows has a way to enumerate the LCIDs, but there&#39;s bound to be something in .Net. As a build-level thing, this isn&#39;t a huge burden. I would want to avoid manual maintenance of the list.\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/dd318101(VS.85).aspx\r\n  [2]: https://github.com/twall/jna/\r\n  [3]: https://stackoverflow.com/questions/739870/extract-cursor-image-in-java/740528#740528\r\n  [4]: http://illegalargumentexception.blogspot.com/2009/04/java-unicode-on-windows-command-line.html","title":"How to convert Microsoft Locale ID (LCID) into language code or Locale object in Java","body":"<p>You could use <a href=\"http://msdn.microsoft.com/en-us/library/dd318101(VS.85).aspx\" rel=\"nofollow noreferrer\">GetLocaleInfo</a> to do this (assuming you were running on Windows (win2k+)).</p>\n\n<p>This C++ code demonstrates how to use the function:</p>\n\n<pre><code>#include \"windows.h\"\n\nint main()\n{\n  HANDLE stdout = GetStdHandle(STD_OUTPUT_HANDLE);\n  if(INVALID_HANDLE_VALUE == stdout) return 1;\n\n  LCID Locale = 0x0c01; //Arabic - Egypt\n  int nchars = GetLocaleInfoW(Locale, LOCALE_SISO639LANGNAME, NULL, 0);\n  wchar_t* LanguageCode = new wchar_t[nchars];\n  GetLocaleInfoW(Locale, LOCALE_SISO639LANGNAME, LanguageCode, nchars);\n\n  WriteConsoleW(stdout, LanguageCode, nchars, NULL, NULL);\n  delete[] LanguageCode;\n  return 0;\n}\n</code></pre>\n\n<p>It would not take much work to turn this into a <a href=\"https://github.com/twall/jna/\" rel=\"nofollow noreferrer\">JNA</a> call. (Tip: emit constants as ints to find their values.)</p>\n\n<p>Sample JNA code:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/739870/extract-cursor-image-in-java/740528#740528\">draw a Windows cursor</a></li>\n<li><a href=\"http://illegalargumentexception.blogspot.com/2009/04/java-unicode-on-windows-command-line.html\" rel=\"nofollow noreferrer\">print Unicode on a Windows console</a></li>\n</ul>\n\n<p>Using JNI is a bit more involved, but is manageable for a relatively trivial task.</p>\n\n<p>At the very least, I would look into using native calls to build your conversion database. I'm not sure if Windows has a way to enumerate the LCIDs, but there's bound to be something in .Net. As a build-level thing, this isn't a huge burden. I would want to avoid manual maintenance of the list.</p>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441174885,"creation_date":1441084839,"answer_id":32324060,"question_id":1192361,"body_markdown":"The following code will programmatically create a mapping between Microsoft LCID codes and Java Locales, making it easier to keep the mapping up-to-date:\r\n\r\n\timport java.io.IOException;\r\n\timport java.util.HashMap;\r\n\timport java.util.Locale;\r\n\timport java.util.Map;\r\n\r\n\t/**\r\n\t * @author Gili Tzabari\r\n\t */\r\n\tpublic final class Locales\r\n\t{\r\n\t\t/**\r\n\t\t * Maps a Microsoft LCID to a Java Locale.\r\n\t\t */\r\n\t\tprivate final Map&lt;Integer, Locale&gt; lcidToLocale = new HashMap&lt;&gt;(LcidToLocaleMapping.NUM_LOCALES);\r\n\r\n\t\tpublic Locales()\r\n\t\t{\r\n\t\t\t// Try loading the mapping from cache\r\n\t\t\tFile file = new File(&quot;lcid-to-locale.properties&quot;);\r\n\t\t\tProperties properties = new Properties();\r\n\t\t\ttry (FileInputStream in = new FileInputStream(file))\r\n\t\t\t{\r\n\t\t\t\tproperties.load(in);\r\n\t\t\t\tfor (Object key: properties.keySet())\r\n\t\t\t\t{\r\n\t\t\t\t\tString keyString = key.toString();\r\n\t\t\t\t\tInteger lcid = Integer.parseInt(keyString);\r\n\t\t\t\t\tString languageTag = properties.getProperty(keyString);\r\n\t\t\t\t\tlcidToLocale.put(lcid, Locale.forLanguageTag(languageTag));\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tcatch (IOException unused)\r\n\t\t\t{\r\n\t\t\t\t// Cache does not exist or is invalid, regenerate...\r\n\t\t\t\tlcidToLocale.clear();\r\n\t\t\t}\r\n\r\n\t\t\tLcidToLocaleMapping mapping;\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tmapping = new LcidToLocaleMapping();\r\n\t\t\t}\r\n\t\t\tcatch (IOException e)\r\n\t\t\t{\r\n\t\t\t\t// Unrecoverable runtime failure\r\n\t\t\t\tthrow new AssertionError(e);\r\n\t\t\t}\r\n\t\t\tfor (Locale locale: Locale.getAvailableLocales())\r\n\t\t\t{\r\n\t\t\t\tif (locale == Locale.ROOT)\r\n\t\t\t\t{\r\n\t\t\t\t\t// Special case that doesn&#39;t map to a real locale\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tString language = locale.getDisplayLanguage(Locale.ENGLISH);\r\n\t\t\t\tString country = locale.getDisplayCountry(Locale.ENGLISH);\r\n\t\t\t\tcountry = mapping.getCountryAlias(country);\r\n\t\t\t\tString script = locale.getDisplayScript();\r\n\t\t\t\tfor (Integer lcid: mapping.listLcidFor(language, country, script))\r\n\t\t\t\t{\r\n\t\t\t\t\tlcidToLocale.put(lcid, locale);\r\n\t\t\t\t\tproperties.put(lcid.toString(), locale.toLanguageTag());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Cache the mapping\r\n\t\t\ttry (FileOutputStream out = new FileOutputStream(file))\r\n\t\t\t{\r\n\t\t\t\tproperties.store(out, &quot;LCID to Locale mapping&quot;);\r\n\t\t\t}\r\n\t\t\tcatch (IOException e)\r\n\t\t\t{\r\n\t\t\t\t// Unrecoverable runtime failure\r\n\t\t\t\tthrow new AssertionError(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @param lcid a Microsoft LCID code\r\n\t\t * @return a Java locale\r\n\t\t * @see https://msdn.microsoft.com/en-us/library/cc223140.aspx\r\n\t\t */\r\n\t\tpublic Locale fromLcid(int lcid)\r\n\t\t{\r\n\t\t\treturn lcidToLocale.get(lcid);\r\n\t\t}\r\n\t}\r\n\r\n\timport com.google.common.collect.HashMultimap;\r\n\timport com.google.common.collect.ImmutableList;\r\n\timport com.google.common.collect.ImmutableMap;\r\n\timport com.google.common.collect.SetMultimap;\r\n\timport com.google.common.collect.Sets;\r\n\timport java.io.IOException;\r\n\timport java.util.ArrayList;\r\n\timport java.util.Collection;\r\n\timport java.util.Collections;\r\n\timport java.util.List;\r\n\timport java.util.Map;\r\n\timport java.util.Set;\r\n\timport java.util.regex.Matcher;\r\n\timport java.util.regex.Pattern;\r\n\timport java.util.stream.Collectors;\r\n\timport org.bitbucket.cowwoc.preconditions.Preconditions;\r\n\timport org.jsoup.Jsoup;\r\n\timport org.jsoup.nodes.Document;\r\n\timport org.jsoup.nodes.Element;\r\n\timport org.jsoup.select.Elements;\r\n\timport org.slf4j.Logger;\r\n\timport org.slf4j.LoggerFactory;\r\n\r\n\t/**\r\n\t * Generates a mapping between Microsoft LCIDs and Java Locales.\r\n\t * &lt;p&gt;\r\n\t * @see http://stackoverflow.com/a/32324060/14731\r\n\t * @author Gili Tzabari\r\n\t */\r\n\tfinal class LcidToLocaleMapping\r\n\t{\r\n\t\tprivate static final int NUM_COUNTRIES = 194;\r\n\t\tprivate static final int NUM_LANGUAGES = 13;\r\n\t\tprivate static final int NUM_SCRIPTS = 5;\r\n\t\t/**\r\n\t\t * The number of locales we are expecting. This value is only used for performance optimization.\r\n\t\t */\r\n\t\tpublic static final int NUM_LOCALES = 238;\r\n\t\tprivate static final List&lt;String&gt; EXPECTED_HEADERS = ImmutableList.of(&quot;lcid&quot;, &quot;language&quot;, &quot;location&quot;);\r\n\t\t// [language] - [comment] ([script])\r\n\t\tprivate static final Pattern languagePattern = Pattern.compile(&quot;^(.+?)(?: - (.*?))?(?: \\\\((.+)\\\\))?$&quot;);\r\n\t\t/**\r\n\t\t * Maps a country to a list of entries.\r\n\t\t */\r\n\t\tprivate static final SetMultimap&lt;String, Mapping&gt; COUNTRY_TO_ENTRIES = HashMultimap.create(NUM_COUNTRIES,\r\n\t\t\tNUM_LOCALES / NUM_COUNTRIES);\r\n\t\t/**\r\n\t\t * Maps a language to a list of entries.\r\n\t\t */\r\n\t\tprivate static final SetMultimap&lt;String, Mapping&gt; LANGUAGE_TO_ENTRIES = HashMultimap.create(NUM_LANGUAGES,\r\n\t\t\tNUM_LOCALES / NUM_LANGUAGES);\r\n\t\t/**\r\n\t\t * Maps a language script to a list of entries.\r\n\t\t */\r\n\t\tprivate static final SetMultimap&lt;String, Mapping&gt; SCRIPT_TO_ENTRIES = HashMultimap.create(NUM_SCRIPTS,\r\n\t\t\tNUM_LOCALES / NUM_SCRIPTS);\r\n\t\t/**\r\n\t\t * Maps a Locale country name to a LCID country name.\r\n\t\t */\r\n\t\tprivate static final Map&lt;String, String&gt; countryAlias = ImmutableMap.&lt;String, String&gt;builder().\r\n\t\t\tput(&quot;United Arab Emirates&quot;, &quot;U.A.E.&quot;).\r\n\t\t\tbuild();\r\n\r\n\t\t/**\r\n\t\t * A mapping between a country, language, script and LCID.\r\n\t\t */\r\n\t\tprivate static final class Mapping\r\n\t\t{\r\n\t\t\tpublic final String country;\r\n\t\t\tpublic final String language;\r\n\t\t\tpublic final String script;\r\n\t\t\tpublic final int lcid;\r\n\r\n\t\t\tMapping(String country, String language, String script, int lcid)\r\n\t\t\t{\r\n\t\t\t\tPreconditions.requireThat(country, &quot;country&quot;).isNotNull();\r\n\t\t\t\tPreconditions.requireThat(language, &quot;language&quot;).isNotNull().isNotEmpty();\r\n\t\t\t\tPreconditions.requireThat(script, &quot;script&quot;).isNotNull();\r\n\t\t\t\tthis.country = country;\r\n\t\t\t\tthis.language = language;\r\n\t\t\t\tthis.script = script;\r\n\t\t\t\tthis.lcid = lcid;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic int hashCode()\r\n\t\t\t{\r\n\t\t\t\treturn country.hashCode() + language.hashCode() + script.hashCode() + lcid;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic boolean equals(Object obj)\r\n\t\t\t{\r\n\t\t\t\tif (!(obj instanceof Locales))\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tMapping other = (Mapping) obj;\r\n\t\t\t\treturn country.equals(other.country) &amp;&amp; language.equals(other.language) &amp;&amp; script.equals(other.script) &amp;&amp;\r\n\t\t\t\t\tlcid == other.lcid;\r\n\t\t\t}\r\n\t\t}\r\n\t\tprivate final Logger log = LoggerFactory.getLogger(LcidToLocaleMapping.class);\r\n\r\n\t\t/**\r\n\t\t * Creates a new LCID to Locale mapping.\r\n\t\t * &lt;p&gt;\r\n\t\t * @throws IOException if an I/O error occurs while reading the LCID table\r\n\t\t */\r\n\t\tLcidToLocaleMapping() throws IOException\r\n\t\t{\r\n\t\t\tDocument doc = Jsoup.connect(&quot;https://msdn.microsoft.com/en-us/library/cc223140.aspx&quot;).get();\r\n\t\t\tElement mainBody = doc.getElementById(&quot;mainBody&quot;);\r\n\t\t\tElements elements = mainBody.select(&quot;table&quot;);\r\n\t\t\tassert (elements.size() == 1): elements;\r\n\t\t\tfor (Element table: elements)\r\n\t\t\t{\r\n\t\t\t\tboolean firstRow = true;\r\n\t\t\t\tfor (Element row: table.select(&quot;tr&quot;))\r\n\t\t\t\t{\r\n\t\t\t\t\tif (firstRow)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// Make sure that columns are ordered as expected\r\n\t\t\t\t\t\tList&lt;String&gt; headers = new ArrayList&lt;&gt;(3);\r\n\t\t\t\t\t\tElements columns = row.select(&quot;th&quot;);\r\n\t\t\t\t\t\tfor (Element column: columns)\r\n\t\t\t\t\t\t\theaders.add(column.text().toLowerCase());\r\n\t\t\t\t\t\tassert (headers.equals(EXPECTED_HEADERS)): headers;\r\n\t\t\t\t\t\tfirstRow = false;\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tElements columns = row.select(&quot;td&quot;);\r\n\t\t\t\t\tassert (columns.size() == 3): columns;\r\n\t\t\t\t\tInteger lcid = Integer.parseInt(columns.get(0).text(), 16);\r\n\t\t\t\t\tMatcher languageMatcher = languagePattern.matcher(columns.get(1).text());\r\n\t\t\t\t\tif (!languageMatcher.find())\r\n\t\t\t\t\t\tthrow new AssertionError();\r\n\t\t\t\t\tString language = languageMatcher.group(1);\r\n\t\t\t\t\tString script = languageMatcher.group(2);\r\n\t\t\t\t\tif (script == null)\r\n\t\t\t\t\t\tscript = &quot;&quot;;\r\n\t\t\t\t\tString country = columns.get(2).text();\r\n\t\t\t\t\tMapping mapping = new Mapping(country, language, script, lcid);\r\n\t\t\t\t\tCOUNTRY_TO_ENTRIES.put(country, mapping);\r\n\t\t\t\t\tLANGUAGE_TO_ENTRIES.put(language, mapping);\r\n\t\t\t\t\tif (!script.isEmpty())\r\n\t\t\t\t\t\tSCRIPT_TO_ENTRIES.put(script, mapping);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Returns the LCID codes associated with a [country, language, script] combination.\r\n\t\t * &lt;p&gt;\r\n\t\t * @param language a language\r\n\t\t * @param country  a country (empty string if any country should match)\r\n\t\t * @param script   a language script (empty string if any script should match)\r\n\t\t * @return an empty list if no matches are found\r\n\t\t * @throws NullPointerException     if any of the arguments are null\r\n\t\t * @throws IllegalArgumentException if language is empty\r\n\t\t */\r\n\t\tpublic Collection&lt;Integer&gt; listLcidFor(String language, String country, String script)\r\n\t\t\tthrows NullPointerException, IllegalArgumentException\r\n\t\t{\r\n\t\t\tPreconditions.requireThat(language, &quot;language&quot;).isNotNull().isNotEmpty();\r\n\t\t\tPreconditions.requireThat(country, &quot;country&quot;).isNotNull();\r\n\t\t\tPreconditions.requireThat(script, &quot;script&quot;).isNotNull();\r\n\t\t\tSet&lt;Mapping&gt; result = LANGUAGE_TO_ENTRIES.get(language);\r\n\t\t\tif (result == null)\r\n\t\t\t{\r\n\t\t\t\tlog.warn(&quot;Language &#39;&quot; + language + &quot;&#39; had no corresponding LCID&quot;);\r\n\t\t\t\treturn Collections.emptyList();\r\n\t\t\t}\r\n\t\t\tif (!country.isEmpty())\r\n\t\t\t{\r\n\t\t\t\tSet&lt;Mapping&gt; entries = COUNTRY_TO_ENTRIES.get(country);\r\n\t\t\t\tresult = Sets.intersection(result, entries);\r\n\t\t\t}\r\n\r\n\t\t\tif (!script.isEmpty())\r\n\t\t\t{\r\n\t\t\t\tSet&lt;Mapping&gt; entries = SCRIPT_TO_ENTRIES.get(script);\r\n\t\t\t\tresult = Sets.intersection(result, entries);\r\n\t\t\t}\r\n\t\t\treturn result.stream().map(entry -&gt; entry.lcid).collect(Collectors.toList());\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @param name the locale country name\r\n\t\t * @return the LCID country name\r\n\t\t */\r\n\t\tpublic String getCountryAlias(String name)\r\n\t\t{\r\n\t\t\tString result = countryAlias.get(name);\r\n\t\t\tif (result == null)\r\n\t\t\t\treturn name;\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\r\nMaven dependencies:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;18.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bitbucket.cowwoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;preconditions&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.25&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nUsage:\r\n\r\n    System.out.println(&quot;Language: &quot; + new Locales().fromLcid(1033).getDisplayLanguage());\r\n\r\nwill print &quot;Language: English&quot;.\r\n\r\nMeaning, LCID 1033 maps to the English language.\r\n\r\n**NOTE**: This only generates mappings for locales available on your runtime JVM. Meaning, you will only get a subset of all possible Locales. That said, I don&#39;t think it is technically possible to instantiate Locales that your JVM doesn&#39;t support, so this is probably the best we can do...","title":"How to convert Microsoft Locale ID (LCID) into language code or Locale object in Java","body":"<p>The following code will programmatically create a mapping between Microsoft LCID codes and Java Locales, making it easier to keep the mapping up-to-date:</p>\n\n<pre><code>import java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Locale;\nimport java.util.Map;\n\n/**\n * @author Gili Tzabari\n */\npublic final class Locales\n{\n    /**\n     * Maps a Microsoft LCID to a Java Locale.\n     */\n    private final Map&lt;Integer, Locale&gt; lcidToLocale = new HashMap&lt;&gt;(LcidToLocaleMapping.NUM_LOCALES);\n\n    public Locales()\n    {\n        // Try loading the mapping from cache\n        File file = new File(\"lcid-to-locale.properties\");\n        Properties properties = new Properties();\n        try (FileInputStream in = new FileInputStream(file))\n        {\n            properties.load(in);\n            for (Object key: properties.keySet())\n            {\n                String keyString = key.toString();\n                Integer lcid = Integer.parseInt(keyString);\n                String languageTag = properties.getProperty(keyString);\n                lcidToLocale.put(lcid, Locale.forLanguageTag(languageTag));\n            }\n            return;\n        }\n        catch (IOException unused)\n        {\n            // Cache does not exist or is invalid, regenerate...\n            lcidToLocale.clear();\n        }\n\n        LcidToLocaleMapping mapping;\n        try\n        {\n            mapping = new LcidToLocaleMapping();\n        }\n        catch (IOException e)\n        {\n            // Unrecoverable runtime failure\n            throw new AssertionError(e);\n        }\n        for (Locale locale: Locale.getAvailableLocales())\n        {\n            if (locale == Locale.ROOT)\n            {\n                // Special case that doesn't map to a real locale\n                continue;\n            }\n            String language = locale.getDisplayLanguage(Locale.ENGLISH);\n            String country = locale.getDisplayCountry(Locale.ENGLISH);\n            country = mapping.getCountryAlias(country);\n            String script = locale.getDisplayScript();\n            for (Integer lcid: mapping.listLcidFor(language, country, script))\n            {\n                lcidToLocale.put(lcid, locale);\n                properties.put(lcid.toString(), locale.toLanguageTag());\n            }\n        }\n\n        // Cache the mapping\n        try (FileOutputStream out = new FileOutputStream(file))\n        {\n            properties.store(out, \"LCID to Locale mapping\");\n        }\n        catch (IOException e)\n        {\n            // Unrecoverable runtime failure\n            throw new AssertionError(e);\n        }\n    }\n\n    /**\n     * @param lcid a Microsoft LCID code\n     * @return a Java locale\n     * @see https://msdn.microsoft.com/en-us/library/cc223140.aspx\n     */\n    public Locale fromLcid(int lcid)\n    {\n        return lcidToLocale.get(lcid);\n    }\n}\n\nimport com.google.common.collect.HashMultimap;\nimport com.google.common.collect.ImmutableList;\nimport com.google.common.collect.ImmutableMap;\nimport com.google.common.collect.SetMultimap;\nimport com.google.common.collect.Sets;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.util.stream.Collectors;\nimport org.bitbucket.cowwoc.preconditions.Preconditions;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n/**\n * Generates a mapping between Microsoft LCIDs and Java Locales.\n * &lt;p&gt;\n * @see http://stackoverflow.com/a/32324060/14731\n * @author Gili Tzabari\n */\nfinal class LcidToLocaleMapping\n{\n    private static final int NUM_COUNTRIES = 194;\n    private static final int NUM_LANGUAGES = 13;\n    private static final int NUM_SCRIPTS = 5;\n    /**\n     * The number of locales we are expecting. This value is only used for performance optimization.\n     */\n    public static final int NUM_LOCALES = 238;\n    private static final List&lt;String&gt; EXPECTED_HEADERS = ImmutableList.of(\"lcid\", \"language\", \"location\");\n    // [language] - [comment] ([script])\n    private static final Pattern languagePattern = Pattern.compile(\"^(.+?)(?: - (.*?))?(?: \\\\((.+)\\\\))?$\");\n    /**\n     * Maps a country to a list of entries.\n     */\n    private static final SetMultimap&lt;String, Mapping&gt; COUNTRY_TO_ENTRIES = HashMultimap.create(NUM_COUNTRIES,\n        NUM_LOCALES / NUM_COUNTRIES);\n    /**\n     * Maps a language to a list of entries.\n     */\n    private static final SetMultimap&lt;String, Mapping&gt; LANGUAGE_TO_ENTRIES = HashMultimap.create(NUM_LANGUAGES,\n        NUM_LOCALES / NUM_LANGUAGES);\n    /**\n     * Maps a language script to a list of entries.\n     */\n    private static final SetMultimap&lt;String, Mapping&gt; SCRIPT_TO_ENTRIES = HashMultimap.create(NUM_SCRIPTS,\n        NUM_LOCALES / NUM_SCRIPTS);\n    /**\n     * Maps a Locale country name to a LCID country name.\n     */\n    private static final Map&lt;String, String&gt; countryAlias = ImmutableMap.&lt;String, String&gt;builder().\n        put(\"United Arab Emirates\", \"U.A.E.\").\n        build();\n\n    /**\n     * A mapping between a country, language, script and LCID.\n     */\n    private static final class Mapping\n    {\n        public final String country;\n        public final String language;\n        public final String script;\n        public final int lcid;\n\n        Mapping(String country, String language, String script, int lcid)\n        {\n            Preconditions.requireThat(country, \"country\").isNotNull();\n            Preconditions.requireThat(language, \"language\").isNotNull().isNotEmpty();\n            Preconditions.requireThat(script, \"script\").isNotNull();\n            this.country = country;\n            this.language = language;\n            this.script = script;\n            this.lcid = lcid;\n        }\n\n        @Override\n        public int hashCode()\n        {\n            return country.hashCode() + language.hashCode() + script.hashCode() + lcid;\n        }\n\n        @Override\n        public boolean equals(Object obj)\n        {\n            if (!(obj instanceof Locales))\n                return false;\n            Mapping other = (Mapping) obj;\n            return country.equals(other.country) &amp;&amp; language.equals(other.language) &amp;&amp; script.equals(other.script) &amp;&amp;\n                lcid == other.lcid;\n        }\n    }\n    private final Logger log = LoggerFactory.getLogger(LcidToLocaleMapping.class);\n\n    /**\n     * Creates a new LCID to Locale mapping.\n     * &lt;p&gt;\n     * @throws IOException if an I/O error occurs while reading the LCID table\n     */\n    LcidToLocaleMapping() throws IOException\n    {\n        Document doc = Jsoup.connect(\"https://msdn.microsoft.com/en-us/library/cc223140.aspx\").get();\n        Element mainBody = doc.getElementById(\"mainBody\");\n        Elements elements = mainBody.select(\"table\");\n        assert (elements.size() == 1): elements;\n        for (Element table: elements)\n        {\n            boolean firstRow = true;\n            for (Element row: table.select(\"tr\"))\n            {\n                if (firstRow)\n                {\n                    // Make sure that columns are ordered as expected\n                    List&lt;String&gt; headers = new ArrayList&lt;&gt;(3);\n                    Elements columns = row.select(\"th\");\n                    for (Element column: columns)\n                        headers.add(column.text().toLowerCase());\n                    assert (headers.equals(EXPECTED_HEADERS)): headers;\n                    firstRow = false;\n                    continue;\n                }\n                Elements columns = row.select(\"td\");\n                assert (columns.size() == 3): columns;\n                Integer lcid = Integer.parseInt(columns.get(0).text(), 16);\n                Matcher languageMatcher = languagePattern.matcher(columns.get(1).text());\n                if (!languageMatcher.find())\n                    throw new AssertionError();\n                String language = languageMatcher.group(1);\n                String script = languageMatcher.group(2);\n                if (script == null)\n                    script = \"\";\n                String country = columns.get(2).text();\n                Mapping mapping = new Mapping(country, language, script, lcid);\n                COUNTRY_TO_ENTRIES.put(country, mapping);\n                LANGUAGE_TO_ENTRIES.put(language, mapping);\n                if (!script.isEmpty())\n                    SCRIPT_TO_ENTRIES.put(script, mapping);\n            }\n        }\n    }\n\n    /**\n     * Returns the LCID codes associated with a [country, language, script] combination.\n     * &lt;p&gt;\n     * @param language a language\n     * @param country  a country (empty string if any country should match)\n     * @param script   a language script (empty string if any script should match)\n     * @return an empty list if no matches are found\n     * @throws NullPointerException     if any of the arguments are null\n     * @throws IllegalArgumentException if language is empty\n     */\n    public Collection&lt;Integer&gt; listLcidFor(String language, String country, String script)\n        throws NullPointerException, IllegalArgumentException\n    {\n        Preconditions.requireThat(language, \"language\").isNotNull().isNotEmpty();\n        Preconditions.requireThat(country, \"country\").isNotNull();\n        Preconditions.requireThat(script, \"script\").isNotNull();\n        Set&lt;Mapping&gt; result = LANGUAGE_TO_ENTRIES.get(language);\n        if (result == null)\n        {\n            log.warn(\"Language '\" + language + \"' had no corresponding LCID\");\n            return Collections.emptyList();\n        }\n        if (!country.isEmpty())\n        {\n            Set&lt;Mapping&gt; entries = COUNTRY_TO_ENTRIES.get(country);\n            result = Sets.intersection(result, entries);\n        }\n\n        if (!script.isEmpty())\n        {\n            Set&lt;Mapping&gt; entries = SCRIPT_TO_ENTRIES.get(script);\n            result = Sets.intersection(result, entries);\n        }\n        return result.stream().map(entry -&gt; entry.lcid).collect(Collectors.toList());\n    }\n\n    /**\n     * @param name the locale country name\n     * @return the LCID country name\n     */\n    public String getCountryAlias(String name)\n    {\n        String result = countryAlias.get(name);\n        if (result == null)\n            return name;\n        return result;\n    }\n}\n</code></pre>\n\n<p>Maven dependencies:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;18.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bitbucket.cowwoc&lt;/groupId&gt;\n        &lt;artifactId&gt;preconditions&lt;/artifactId&gt;\n        &lt;version&gt;1.25&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n        &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n        &lt;version&gt;1.8.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>System.out.println(\"Language: \" + new Locales().fromLcid(1033).getDisplayLanguage());\n</code></pre>\n\n<p>will print \"Language: English\".</p>\n\n<p>Meaning, LCID 1033 maps to the English language.</p>\n\n<p><strong>NOTE</strong>: This only generates mappings for locales available on your runtime JVM. Meaning, you will only get a subset of all possible Locales. That said, I don't think it is technically possible to instantiate Locales that your JVM doesn't support, so this is probably the best we can do...</p>\n"},{"tags":[],"owner":{"account_id":3464648,"reputation":1899,"user_id":2900590,"display_name":"frevd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607710185,"creation_date":1607710185,"answer_id":65256494,"question_id":1192361,"body_markdown":"Here is a script to paste into the F12 console and extract the mapping for the currently 273 languages to their lcid (to be used on https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-lcid/a9eac961-e77d-41a6-90a5-ce1a8b0cdb9c): \r\n\r\n```javascript\r\n// extract data from https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-lcid/a9eac961-e77d-41a6-90a5-ce1a8b0cdb9c\r\nconst locales = {}, dataTable = document.querySelector(&#39;div.table-scroll-wrapper:nth-of-type(2)&gt;table.protocol-table&#39;); \r\nfor (let i=1, l=dataTable.rows.length; i&lt;l; i++) {\r\n    const row = dataTable.rows[i]; \r\n    let locale = Number(row.cells[2].textContent.trim());  // hex to decimal\r\n    let name = row.cells[3].textContent.trim();  // cc-LL\r\n    if ((locale &gt; 1024) &amp;&amp; (name.indexOf(&#39;-&#39;) &gt; 0))  // only cc-LL (languages, not countries)\r\n        locales[locale] = name; \r\n} \r\nconsole.table(locales);  // 273 entries\r\n```\r\n","title":"How to convert Microsoft Locale ID (LCID) into language code or Locale object in Java","body":"<p>Here is a script to paste into the F12 console and extract the mapping for the currently 273 languages to their lcid (to be used on <a href=\"https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-lcid/a9eac961-e77d-41a6-90a5-ce1a8b0cdb9c\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-lcid/a9eac961-e77d-41a6-90a5-ce1a8b0cdb9c</a>):</p>\n<pre class=\"lang-js prettyprint-override\"><code>// extract data from https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-lcid/a9eac961-e77d-41a6-90a5-ce1a8b0cdb9c\nconst locales = {}, dataTable = document.querySelector('div.table-scroll-wrapper:nth-of-type(2)&gt;table.protocol-table'); \nfor (let i=1, l=dataTable.rows.length; i&lt;l; i++) {\n    const row = dataTable.rows[i]; \n    let locale = Number(row.cells[2].textContent.trim());  // hex to decimal\n    let name = row.cells[3].textContent.trim();  // cc-LL\n    if ((locale &gt; 1024) &amp;&amp; (name.indexOf('-') &gt; 0))  // only cc-LL (languages, not countries)\n        locales[locale] = name; \n} \nconsole.table(locales);  // 273 entries\n</code></pre>\n"},{"tags":[],"owner":{"account_id":135067,"reputation":9676,"user_id":337621,"accept_rate":70,"display_name":"G&#225;bor Lipt&#225;k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679093519,"creation_date":1679093519,"answer_id":75772812,"question_id":1192361,"body_markdown":"It is easily possible with Apache POI using the [org.apache.poi.util.LocaleID][1] class. \r\n\r\nJava Locale to LCID:\r\n\r\n    LocaleID.lookupByLanguageTag(new Locale(&quot;en&quot;, &quot;US&quot;).toLanguageTag()).getLcid()\r\n\r\nLCID to Java Locale:\r\n\r\n    new Locale(LocaleID.lookupByLcid(1033).getLanguageTag())\r\n\r\n\r\n  [1]: https://poi.apache.org/apidocs/dev/org/apache/poi/util/LocaleID.html\r\n","title":"How to convert Microsoft Locale ID (LCID) into language code or Locale object in Java","body":"<p>It is easily possible with Apache POI using the <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/util/LocaleID.html\" rel=\"nofollow noreferrer\">org.apache.poi.util.LocaleID</a> class.</p>\n<p>Java Locale to LCID:</p>\n<pre><code>LocaleID.lookupByLanguageTag(new Locale(&quot;en&quot;, &quot;US&quot;).toLanguageTag()).getLcid()\n</code></pre>\n<p>LCID to Java Locale:</p>\n<pre><code>new Locale(LocaleID.lookupByLcid(1033).getLanguageTag())\n</code></pre>\n"}],"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34711,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":1192856,"answer_count":6,"score":11,"last_activity_date":1679093519,"creation_date":1248765590,"question_id":1192361,"body_markdown":"I need to translate a [Microsoft locale ID][1], such as 1033 (for US English), into either an [ISO 639 language code][2] or directly into a Java [Locale][3] instance. (Edit: or even simply into the &quot;Language - Country/Region&quot; in Microsoft&#39;s table.)\r\n\r\nIs this possible, and what&#39;s the easiest way? Preferably using only JDK standard libraries, of course, but if that&#39;s not possible, with a 3rd party library.\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/goglobal/bb964664.aspx\r\n  [2]: http://en.wikipedia.org/wiki/ISO_639\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/util/Locale.html","title":"How to convert Microsoft Locale ID (LCID) into language code or Locale object in Java","body":"<p>I need to translate a <a href=\"http://msdn.microsoft.com/en-us/goglobal/bb964664.aspx\" rel=\"noreferrer\">Microsoft locale ID</a>, such as 1033 (for US English), into either an <a href=\"http://en.wikipedia.org/wiki/ISO_639\" rel=\"noreferrer\">ISO 639 language code</a> or directly into a Java <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Locale.html\" rel=\"noreferrer\">Locale</a> instance. (Edit: or even simply into the \"Language - Country/Region\" in Microsoft's table.)</p>\n\n<p>Is this possible, and what's the easiest way? Preferably using only JDK standard libraries, of course, but if that's not possible, with a 3rd party library.</p>\n"},{"tags":["java","android","alarmmanager"],"answers":[{"tags":[],"owner":{"account_id":2528220,"reputation":43,"user_id":2197106,"display_name":"Code Rad Design"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1382476205,"creation_date":1382476205,"answer_id":19528417,"question_id":17893098,"body_markdown":"My guess is that you&#39;re using the same ID for your regular alarm.  In this line...\r\n\r\n&gt;PendingIntent pi = PendingIntent.getBroadcast(AlarmSnooze.this, **0**, intent, 0);\r\n\r\n...the first &quot;0&quot; in bold is the alarm ID.  If you&#39;re using &quot;0&quot; for your other alarm ID then your snooze code will overwrite that previous alarm.  Change the &quot;0&quot; to &quot;1&quot; (or any other unused value) for the snooze alarm and you should be fine!","title":"Snooze function in alarm android","body":"<p>My guess is that you're using the same ID for your regular alarm.  In this line...</p>\n\n<blockquote>\n  <p>PendingIntent pi = PendingIntent.getBroadcast(AlarmSnooze.this, <strong>0</strong>, intent, 0);</p>\n</blockquote>\n\n<p>...the first \"0\" in bold is the alarm ID.  If you're using \"0\" for your other alarm ID then your snooze code will overwrite that previous alarm.  Change the \"0\" to \"1\" (or any other unused value) for the snooze alarm and you should be fine!</p>\n"}],"owner":{"account_id":1550551,"reputation":5924,"user_id":1443051,"accept_rate":54,"display_name":"TheDevMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5489,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679092623,"creation_date":1374885583,"question_id":17893098,"body_markdown":"I have created multiple alarm app. This alarm triggers on time everything works fine. While saving alarm I have add, weekly, daily and once feature, user will be able to set alarm accordingly. \r\n\r\nOn alarm trigger. I have snooze and cancel.\r\n\r\nSnooze: I have added 10 minutes from current time to snooze\r\ncancel: Just finish() - so that it can trigger the next day or Next week (accordingly)\r\n\r\nWhen click on Snooze button all the alarm that I have set gets cancelled and only one get triggered after 10 minutes. This is something strange? Not sure where the problem is?\r\n\r\nHere is what I tried in my Snoozeactivity (which gets called from broadcast receiver)\r\n\r\nOnCreate of SnoozeActivity:\r\n\r\nI am getting hour, mins, am/pm and adding 10 mins to it and setting the alarm.\r\n\r\n\tif (ampm.equalsIgnoreCase(&quot;AM&quot;))\r\n\t  {\r\n\t    ampm = &quot;0&quot;;\r\n\t\t\t}\r\n\t else if (ampm.equalsIgnoreCase(&quot;PM&quot;))\r\n\t  {\r\n\t    ampm = &quot;1&quot;;\r\n\t\t}\r\n\t\t\tCalendar alarmCalendar = Calendar.getInstance();\r\n\t\t\talarmCalendar.set(Calendar.HOUR, Integer.valueOf(hours));\r\n\t\t\talarmCalendar.set(Calendar.MINUTE, Integer.valueOf(mins));\r\n\t\t\talarmCalendar.set(Calendar.SECOND, 0);\r\n\t\t\talarmCalendar.set(Calendar.AM_PM, Integer.valueOf(ampm));\r\n\r\n\t\t\tcurrenttime = alarmCalendar.getTimeInMillis() + 600000;\r\n\r\n\t\t\tAlarmManager am = (AlarmManager) getSystemService(Activity.ALARM_SERVICE);\r\n\r\n\t\t\tIntent intent = new Intent(SnoozeActivity.this, AlarmReciever.class);\r\n\t\t\tintent.putExtra(&quot;keyValue&quot;, key);\r\n\t\t\tPendingIntent pi = PendingIntent.getBroadcast(AlarmSnooze.this, 0, intent, 0);\r\n\t\t\tam.set(AlarmManager.RTC_WAKEUP, currenttime, pi); \r\n\t\t\tfinish();\r\n\r\nIs it because of PendingIntent (Flag?)","title":"Snooze function in alarm android","body":"<p>I have created multiple alarm app. This alarm triggers on time everything works fine. While saving alarm I have add, weekly, daily and once feature, user will be able to set alarm accordingly. </p>\n\n<p>On alarm trigger. I have snooze and cancel.</p>\n\n<p>Snooze: I have added 10 minutes from current time to snooze\ncancel: Just finish() - so that it can trigger the next day or Next week (accordingly)</p>\n\n<p>When click on Snooze button all the alarm that I have set gets cancelled and only one get triggered after 10 minutes. This is something strange? Not sure where the problem is?</p>\n\n<p>Here is what I tried in my Snoozeactivity (which gets called from broadcast receiver)</p>\n\n<p>OnCreate of SnoozeActivity:</p>\n\n<p>I am getting hour, mins, am/pm and adding 10 mins to it and setting the alarm.</p>\n\n<pre><code>if (ampm.equalsIgnoreCase(\"AM\"))\n  {\n    ampm = \"0\";\n        }\n else if (ampm.equalsIgnoreCase(\"PM\"))\n  {\n    ampm = \"1\";\n    }\n        Calendar alarmCalendar = Calendar.getInstance();\n        alarmCalendar.set(Calendar.HOUR, Integer.valueOf(hours));\n        alarmCalendar.set(Calendar.MINUTE, Integer.valueOf(mins));\n        alarmCalendar.set(Calendar.SECOND, 0);\n        alarmCalendar.set(Calendar.AM_PM, Integer.valueOf(ampm));\n\n        currenttime = alarmCalendar.getTimeInMillis() + 600000;\n\n        AlarmManager am = (AlarmManager) getSystemService(Activity.ALARM_SERVICE);\n\n        Intent intent = new Intent(SnoozeActivity.this, AlarmReciever.class);\n        intent.putExtra(\"keyValue\", key);\n        PendingIntent pi = PendingIntent.getBroadcast(AlarmSnooze.this, 0, intent, 0);\n        am.set(AlarmManager.RTC_WAKEUP, currenttime, pi); \n        finish();\n</code></pre>\n\n<p>Is it because of PendingIntent (Flag?)</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":2,"creation_date":1679065460,"post_id":75768835,"comment_id":133659355,"body_markdown":"minimum reproducable example?","body":"minimum reproducable example?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1679078496,"post_id":75768835,"comment_id":133662703,"body_markdown":"Please [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"Please <a href=\"https://stackoverflow.com/posts/75768835/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."}],"answers":[{"tags":[],"owner":{"account_id":2297171,"reputation":341,"user_id":2018340,"display_name":"madhav-turangi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679092589,"creation_date":1679092589,"answer_id":75772736,"question_id":75768835,"body_markdown":"Your output depends on how you are generating the output. The `Document` object is an in memory representation of the XML document. Using JAXP API, you parsed the XML to create a `Document` object, then you iterated through the `Nodes` and modified your in memory `Elements` as per your requirement.\r\n\r\nThe output XML is a result of generating XML from your modified in memory `Document` object.\r\n\r\nThe missing part of generating output also has significant role on what you are seeing as output, because some aspects of output can be configured. Given you are dealing with JAXP API, this can be achieved by below code snippet. I put it as a method that prints the XML output to console, but this can be adapted as required. This did not generate `xmlns` attribute.  \r\n\r\nI have tested your code by printing the output using below method, and it did not have `xmlns` attributes in the output.\r\n\r\n```\r\n    static void printDoc(Document doc)  throws  Exception{\r\n        Transformer transformer = TransformerFactory.newInstance().newTransformer();\r\n        transformer.setOutputProperty(OutputKeys.ENCODING, &quot;UTF-8&quot;);\r\n        transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n        transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n\r\n        Writer out = new StringWriter();\r\n        transformer.transform(new DOMSource(doc), new StreamResult(out));\r\n\r\n        System.out.println(out.toString());\r\n    }\r\n```\r\n\r\nHaving said this, I recommend you to use `XSLT` for your use case, if it is a project, that does not mandate you to use `Document` object to perform your transformations. May be you have to learn `XSLT`, but this is a correct tool for what you are trying to achieve. You can find lot of help on internet to get started and work your way through using XSLT.\r\n\r\nHere is an example of how to put your transformations into XSLT. This has a few elements mapped (or transformed), but you can expand on this as you wish.\r\n\r\n```\r\n&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:xsL=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n    &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot; omit-xml-declaration=&quot;yes&quot;/&gt;\r\n\r\n    &lt;!-- This is called an identity template, which means it copies all XML elements and attributes as it is into output XML --&gt;\r\n    &lt;xsl:template match=&quot;node()|@*&quot;&gt;\r\n        &lt;xsl:copy&gt;\r\n            &lt;xsl:apply-templates select=&quot;node()|@*&quot;/&gt;\r\n        &lt;/xsl:copy&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n    &lt;xsl:template match=&quot;title&quot;&gt;\r\n        &lt;xsl:copy&gt;\r\n            &lt;xsl:text&gt;Discard Medication Dispensed&lt;/xsl:text&gt;\r\n        &lt;/xsl:copy&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n    &lt;xsl:template match=&quot;code/@code&quot;&gt;\r\n        &lt;xsl:attribute name=&quot;{name()}&quot;&gt;\r\n            &lt;xsl:value-of select=&quot;concat(&#39;DISAORD-&#39;, .)&quot;/&gt;\r\n        &lt;/xsl:attribute&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n    &lt;xsl:template match=&quot;code/@displayName&quot;&gt;\r\n        &lt;xsl:attribute name=&quot;{name()}&quot;&gt;\r\n            &lt;xsl:text&gt;Discard Medication Dispensed&lt;/xsl:text&gt;\r\n        &lt;/xsl:attribute&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nAs you can see the transformations are defined as templates for matching nodes and attributes. The `match` attribute of the `template` defines, to what elements of the input XML this transformation will be applied to. \r\n\r\nFew basic things to understand here, are how to refer to a node or XML element and how to refer to an attribute and so on (what else you have for so on? well you can even refer to comment in the input XML, but don&#39;t worry too much about it for now).\r\n\r\nThe first template (called identity template) says for any `node()` or attribute referred as `@*`, copy that element and apply other matching templates for the child elements. If no other templates are defined then this template works as a recursion template (conceptually to understand), ultimately copying all input to output as it is, that is why the name `identity template`. \r\n\r\nBut, if you define other templates that match the particular elements in your input XML, then they take precedence, therefore you can tell what transformation to apply on that particular matching elements. This is where next simple templates come in. \r\n\r\n```\r\n    &lt;xsl:template match=&quot;title&quot;&gt;\r\n        &lt;xsl:copy&gt;\r\n            &lt;xsl:text&gt;Discard Medication Dispensed&lt;/xsl:text&gt;\r\n        &lt;/xsl:copy&gt;\r\n    &lt;/xsl:template&gt;\r\n```\r\nmatches the `title` node or XML element in your input document, and transformation is,\r\n- copy the element name \r\n- but change the text to `Discard Medication Dispensed`\r\n\r\nNext template with a little variation is \r\n```\r\n    &lt;xsl:template match=&quot;code/@code&quot;&gt;\r\n        &lt;xsl:attribute name=&quot;{name()}&quot;&gt;\r\n            &lt;xsl:value-of select=&quot;concat(&#39;DISAORD-&#39;, .)&quot;/&gt;\r\n        &lt;/xsl:attribute&gt;\r\n    &lt;/xsl:template&gt;\r\n```\r\n\r\nThis will match for an attribute `code` of node `code` (basically `&lt;code code=&#39;60593-1&#39; ....&gt;`. The transformation as defined inside the template will be applied. Based on what you have done in your `Document` object manipulation, this has been effectively prepended with `DISCARD-`. So I used the `concat` function. So this template says to \r\n- copy the name of attribute as it is (`{name()}`, here refers to attribute name)\r\n- concatenate `DISCARD-` and the value in input (referred by `.`)\r\n\r\nSimilarly the next template `&lt;xsl:template match=&quot;code/@displayName&quot;&gt;` , defining transformation of same `code` node, but for `displayName` attribute.\r\n\r\nOne important point is, the `XPath` value of `match` applies to all elements that matches in the XML. For example, the template `&lt;xsl:template match=&quot;title&quot;&gt;` applies to any XML element `title` anywhere in the XML in the hierarchy. Because in your specific input XML, it only occurs once and as a child of root element `ClinicalDocument`, it works as expected here. In case, if you have `title` in another part of the input XML, then this template will be applied that `title` also. In such cases, if this is not intended, then frame your XPath accordingly to refer to specific element, for example include `parent/title`, so this refers to `title` child under `parent` element. Depending upon input XML structure, this can be simple or complex. This complexity comes with input XML structure, not because of using XSLT. \r\n\r\nYou might have understood by now, that XML elements are referred just by there name `&lt;code ....&gt;` as `code` and attributes by prefix of `@` like `@displayName`. The slashes are used similar to file paths on disk. In XML world it is called `XPath`. If you can grasp the hierarchical structure or  parent-child structure of the XML document elements (I mean node, attribute, text, etc.), then defined path to specific parts in input XML as XPath.\r\n\r\nBased on you have dealt with navigating through `Document` object using `Element` `Attribute`, etc at Java code level, I guess you can mentally map XML as hierarchical structure. Referring to parts of you XML in `XPath` should not be that difficult.\r\n\r\n\r\n#### How is this XSLT plugged in into the code: ####  \r\nVery simple, mostly the same steps as in the `printDoc` method, but the transformer is created with our XSLT, instead of empty transformer (by empty, I mean `TransformerFactory.newInstance().newTransformer()`, with no argument to `newTransformer` method). \r\nSo, this will change to `TransformerFactory.newInstance().newTransformer(new StreamSource(new File(&quot;path/to/xslt/file/dir/my-clinical-transformer.xslt&quot;)));`, assuming the XSLT is a separate file containing above template defintions. `StreamSource` has different constructors that take different types of arguments. You can work out how to use them if need to use different approach. \r\n\r\nIn a nutshell, you can replace your transformation Java code with below method call.\r\n\r\n```\r\nstatic void xsltTrans(Document doc)  throws  Exception{\r\n        Transformer transformer = TransformerFactory.newInstance().newTransformer(new StreamSource(new File(&quot;src/com/mad/test/xml/trans.xslt&quot;)));\r\n\r\n        Writer out = new StringWriter();\r\n        transformer.transform(new DOMSource(doc), new StreamResult(out));\r\n\r\n        System.out.println(out.toString());\r\n    }\r\n```\r\n\r\nThe `doc` argument is the `Document` object created by parsing your input XML using `DocumentBuilder`. \r\nIf you have observed, the output properties of transformer are removed in Java code, as they are specified in the XSLT as `&lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot; omit-xml-declaration=&quot;yes&quot;/&gt;`.\r\n\r\nJust for information, the `xmlns` represents namespaces in the world of XML, somewhat like packages in Java. I guess you are not worried about that, as you wanted to eliminate `xmlns`, and that is OK.\r\n\r\nI hope this helps!   \r\n","title":"When I edit an xml in Java, the updated xml contains xmlns=&quot;&quot;","body":"<p>Your output depends on how you are generating the output. The <code>Document</code> object is an in memory representation of the XML document. Using JAXP API, you parsed the XML to create a <code>Document</code> object, then you iterated through the <code>Nodes</code> and modified your in memory <code>Elements</code> as per your requirement.</p>\n<p>The output XML is a result of generating XML from your modified in memory <code>Document</code> object.</p>\n<p>The missing part of generating output also has significant role on what you are seeing as output, because some aspects of output can be configured. Given you are dealing with JAXP API, this can be achieved by below code snippet. I put it as a method that prints the XML output to console, but this can be adapted as required. This did not generate <code>xmlns</code> attribute.</p>\n<p>I have tested your code by printing the output using below method, and it did not have <code>xmlns</code> attributes in the output.</p>\n<pre><code>    static void printDoc(Document doc)  throws  Exception{\n        Transformer transformer = TransformerFactory.newInstance().newTransformer();\n        transformer.setOutputProperty(OutputKeys.ENCODING, &quot;UTF-8&quot;);\n        transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\n        transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n\n        Writer out = new StringWriter();\n        transformer.transform(new DOMSource(doc), new StreamResult(out));\n\n        System.out.println(out.toString());\n    }\n</code></pre>\n<p>Having said this, I recommend you to use <code>XSLT</code> for your use case, if it is a project, that does not mandate you to use <code>Document</code> object to perform your transformations. May be you have to learn <code>XSLT</code>, but this is a correct tool for what you are trying to achieve. You can find lot of help on internet to get started and work your way through using XSLT.</p>\n<p>Here is an example of how to put your transformations into XSLT. This has a few elements mapped (or transformed), but you can expand on this as you wish.</p>\n<pre><code>&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:xsL=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n    &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot; omit-xml-declaration=&quot;yes&quot;/&gt;\n\n    &lt;!-- This is called an identity template, which means it copies all XML elements and attributes as it is into output XML --&gt;\n    &lt;xsl:template match=&quot;node()|@*&quot;&gt;\n        &lt;xsl:copy&gt;\n            &lt;xsl:apply-templates select=&quot;node()|@*&quot;/&gt;\n        &lt;/xsl:copy&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template match=&quot;title&quot;&gt;\n        &lt;xsl:copy&gt;\n            &lt;xsl:text&gt;Discard Medication Dispensed&lt;/xsl:text&gt;\n        &lt;/xsl:copy&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template match=&quot;code/@code&quot;&gt;\n        &lt;xsl:attribute name=&quot;{name()}&quot;&gt;\n            &lt;xsl:value-of select=&quot;concat('DISAORD-', .)&quot;/&gt;\n        &lt;/xsl:attribute&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template match=&quot;code/@displayName&quot;&gt;\n        &lt;xsl:attribute name=&quot;{name()}&quot;&gt;\n            &lt;xsl:text&gt;Discard Medication Dispensed&lt;/xsl:text&gt;\n        &lt;/xsl:attribute&gt;\n    &lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>As you can see the transformations are defined as templates for matching nodes and attributes. The <code>match</code> attribute of the <code>template</code> defines, to what elements of the input XML this transformation will be applied to.</p>\n<p>Few basic things to understand here, are how to refer to a node or XML element and how to refer to an attribute and so on (what else you have for so on? well you can even refer to comment in the input XML, but don't worry too much about it for now).</p>\n<p>The first template (called identity template) says for any <code>node()</code> or attribute referred as <code>@*</code>, copy that element and apply other matching templates for the child elements. If no other templates are defined then this template works as a recursion template (conceptually to understand), ultimately copying all input to output as it is, that is why the name <code>identity template</code>.</p>\n<p>But, if you define other templates that match the particular elements in your input XML, then they take precedence, therefore you can tell what transformation to apply on that particular matching elements. This is where next simple templates come in.</p>\n<pre><code>    &lt;xsl:template match=&quot;title&quot;&gt;\n        &lt;xsl:copy&gt;\n            &lt;xsl:text&gt;Discard Medication Dispensed&lt;/xsl:text&gt;\n        &lt;/xsl:copy&gt;\n    &lt;/xsl:template&gt;\n</code></pre>\n<p>matches the <code>title</code> node or XML element in your input document, and transformation is,</p>\n<ul>\n<li>copy the element name</li>\n<li>but change the text to <code>Discard Medication Dispensed</code></li>\n</ul>\n<p>Next template with a little variation is</p>\n<pre><code>    &lt;xsl:template match=&quot;code/@code&quot;&gt;\n        &lt;xsl:attribute name=&quot;{name()}&quot;&gt;\n            &lt;xsl:value-of select=&quot;concat('DISAORD-', .)&quot;/&gt;\n        &lt;/xsl:attribute&gt;\n    &lt;/xsl:template&gt;\n</code></pre>\n<p>This will match for an attribute <code>code</code> of node <code>code</code> (basically <code>&lt;code code='60593-1' ....&gt;</code>. The transformation as defined inside the template will be applied. Based on what you have done in your <code>Document</code> object manipulation, this has been effectively prepended with <code>DISCARD-</code>. So I used the <code>concat</code> function. So this template says to</p>\n<ul>\n<li>copy the name of attribute as it is (<code>{name()}</code>, here refers to attribute name)</li>\n<li>concatenate <code>DISCARD-</code> and the value in input (referred by <code>.</code>)</li>\n</ul>\n<p>Similarly the next template <code>&lt;xsl:template match=&quot;code/@displayName&quot;&gt;</code> , defining transformation of same <code>code</code> node, but for <code>displayName</code> attribute.</p>\n<p>One important point is, the <code>XPath</code> value of <code>match</code> applies to all elements that matches in the XML. For example, the template <code>&lt;xsl:template match=&quot;title&quot;&gt;</code> applies to any XML element <code>title</code> anywhere in the XML in the hierarchy. Because in your specific input XML, it only occurs once and as a child of root element <code>ClinicalDocument</code>, it works as expected here. In case, if you have <code>title</code> in another part of the input XML, then this template will be applied that <code>title</code> also. In such cases, if this is not intended, then frame your XPath accordingly to refer to specific element, for example include <code>parent/title</code>, so this refers to <code>title</code> child under <code>parent</code> element. Depending upon input XML structure, this can be simple or complex. This complexity comes with input XML structure, not because of using XSLT.</p>\n<p>You might have understood by now, that XML elements are referred just by there name <code>&lt;code ....&gt;</code> as <code>code</code> and attributes by prefix of <code>@</code> like <code>@displayName</code>. The slashes are used similar to file paths on disk. In XML world it is called <code>XPath</code>. If you can grasp the hierarchical structure or  parent-child structure of the XML document elements (I mean node, attribute, text, etc.), then defined path to specific parts in input XML as XPath.</p>\n<p>Based on you have dealt with navigating through <code>Document</code> object using <code>Element</code> <code>Attribute</code>, etc at Java code level, I guess you can mentally map XML as hierarchical structure. Referring to parts of you XML in <code>XPath</code> should not be that difficult.</p>\n<h4>How is this XSLT plugged in into the code:</h4>\n<p>Very simple, mostly the same steps as in the <code>printDoc</code> method, but the transformer is created with our XSLT, instead of empty transformer (by empty, I mean <code>TransformerFactory.newInstance().newTransformer()</code>, with no argument to <code>newTransformer</code> method).\nSo, this will change to <code>TransformerFactory.newInstance().newTransformer(new StreamSource(new File(&quot;path/to/xslt/file/dir/my-clinical-transformer.xslt&quot;)));</code>, assuming the XSLT is a separate file containing above template defintions. <code>StreamSource</code> has different constructors that take different types of arguments. You can work out how to use them if need to use different approach.</p>\n<p>In a nutshell, you can replace your transformation Java code with below method call.</p>\n<pre><code>static void xsltTrans(Document doc)  throws  Exception{\n        Transformer transformer = TransformerFactory.newInstance().newTransformer(new StreamSource(new File(&quot;src/com/mad/test/xml/trans.xslt&quot;)));\n\n        Writer out = new StringWriter();\n        transformer.transform(new DOMSource(doc), new StreamResult(out));\n\n        System.out.println(out.toString());\n    }\n</code></pre>\n<p>The <code>doc</code> argument is the <code>Document</code> object created by parsing your input XML using <code>DocumentBuilder</code>.\nIf you have observed, the output properties of transformer are removed in Java code, as they are specified in the XSLT as <code>&lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot; omit-xml-declaration=&quot;yes&quot;/&gt;</code>.</p>\n<p>Just for information, the <code>xmlns</code> represents namespaces in the world of XML, somewhat like packages in Java. I guess you are not worried about that, as you wanted to eliminate <code>xmlns</code>, and that is OK.</p>\n<p>I hope this helps!</p>\n"}],"owner":{"account_id":1488087,"reputation":4476,"user_id":1395874,"accept_rate":85,"display_name":"zinon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679092589,"creation_date":1679063520,"question_id":75768835,"body_markdown":"I have an xml file where I need to edit the values for some attributes. When I remove attributes and add again the same attributes using new values, the result \r\ncontains `xmlns=&quot;&quot;`. \r\n\r\nInitial xml:\r\n\r\n    &lt;ClinicalDocument xmlns=&quot;urn:hl7-org:v3&quot; classCode=&quot;DOCCLIN&quot; moodCode=&quot;EVN&quot; xmlns:pharm=&quot;urn:hl7-org:pharm&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    \t&lt;realmCode code=&quot;CY&quot;/&gt;\r\n    \t&lt;typeId extension=&quot;POCD_HD000040&quot; root=&quot;2.16.840.1.113883.1.3&quot;/&gt;\r\n    \t&lt;templateId root=&quot;1.3.6.1.4.1.12559.11.10.1.3.1.1.2&quot;/&gt;\r\n    \t&lt;templateId root=&quot;1.3.6.1.4.1.19376.1.5.3.1.1.1&quot;/&gt;\r\n    \t&lt;id extension=&quot;1.2.3.4.5.6&quot; root=&quot;2.16.840.1.113883.3.9143.3.1.3&quot;/&gt;\r\n    \t&lt;code code=&quot;60593-1&quot; codeSystem=&quot;2.16.840.1.113883.6.1&quot; codeSystemName=&quot;LOINC&quot; codeSystemVersion=&quot;2.59&quot; displayName=&quot;Medication dispensed.extended Document&quot;&gt;\r\n    \t\t&lt;translation code=&quot;60593-1&quot; codeSystem=&quot;2.16.840.1.113883.6.1&quot; codeSystemName=&quot;LOINC&quot; displayName=&quot;eDispensation&quot;/&gt;\r\n    \t&lt;/code&gt;\r\n    \t&lt;title&gt;Medication dispensed&lt;/title&gt;\r\n    \t&lt;effectiveTime value=&quot;20221130152655+0000&quot;/&gt;\r\n    \t&lt;confidentialityCode code=&quot;N&quot; codeSystem=&quot;2.16.840.1.113883.5.25&quot; codeSystemName=&quot;Confidentiality&quot; codeSystemVersion=&quot;913-20091020&quot; displayName=&quot;normal&quot;/&gt;\r\n    \t&lt;languageCode code=&quot;en-GB&quot;/&gt;\r\n    \t&lt;setId extension=&quot;22015711.1&quot; root=&quot;2.16.840.1.113883.3.9143.3.1.3&quot;/&gt;\r\n    \t&lt;recordTarget&gt;\r\n    \t\t&lt;patientRole classCode=&quot;PAT&quot;&gt;\r\n    \t\t\t&lt;id extension=&quot;x1x2x2&quot; root=&quot;2.16.840.1.113883.2.25.3.4.1.1.2&quot;/&gt;\r\n    \t\t\t&lt;addr&gt;\r\n    \t\t\t\t&lt;country&gt;GR&lt;/country&gt;\r\n    \t\t\t\t&lt;streetAddressLine&gt;ΕΓΝΑΤΙΑ 10&lt;/streetAddressLine&gt;\r\n    \t\t\t&lt;/addr&gt;\r\n    \t\t\t&lt;telecom use=&quot;H&quot; value=&quot;tel:12344&quot;/&gt;\r\n    \t\t\t&lt;patient&gt;\r\n    \t\t\t\t&lt;name&gt;\r\n    \t\t\t\t\t&lt;given&gt;MARINA&lt;/given&gt;\r\n    \t\t\t\t\t&lt;family&gt;FILIP&lt;/family&gt;\r\n    \t\t\t\t&lt;/name&gt;\r\n    \t\t\t\t&lt;administrativeGenderCode code=&quot;F&quot; codeSystem=&quot;2.16.840.1.113883.5.1&quot; codeSystemName=&quot;AdministrativeGender&quot; codeSystemVersion=&quot;913-20091020&quot; displayName=&quot;Female&quot;/&gt;\r\n    \t\t\t\t&lt;birthTime value=&quot;20150101&quot;/&gt;\r\n    \t\t\t\t&lt;languageCommunication&gt;\r\n    \t\t\t\t\t&lt;templateId root=&quot;1.3.6.1.4.1.19376.1.5.3.1.2.1&quot;/&gt;\r\n    \t\t\t\t\t&lt;languageCode code=&quot;en-GB&quot;/&gt;\r\n    \t\t\t\t&lt;/languageCommunication&gt;\r\n    \t\t\t&lt;/patient&gt;\r\n    \t\t&lt;/patientRole&gt;\r\n    \t&lt;/recordTarget&gt;\r\n    &lt;/ClinicalDocument&gt;\r\n\r\n\r\nCode:\r\n\r\n    String eD = &quot;previous_xml_value&quot;.\r\n    \t\t\t\t\r\n    DocumentBuilder db = null;\r\n    try {\r\n    \tdb = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n    } catch (ParserConfigurationException e1) {\r\n    \t// TODO Auto-generated catch block\r\n    \te1.printStackTrace();\r\n    }\r\n    InputSource is = new InputSource();\r\n    is.setCharacterStream(new StringReader(eD));\r\n    \r\n    Document doc = null;\r\n    try {\r\n    \tdoc = db.parse(is);\r\n    } catch (SAXException e1) {\r\n    \t// TODO Auto-generated catch block\r\n    \te1.printStackTrace();\r\n    }\r\n    \r\n    \r\n    // Change info from eD to create eD discard\r\n    NodeList node_to_change_code_id_title = doc.getElementsByTagName(&quot;ClinicalDocument&quot;);\r\n    Element element_to_change_code_id_title = null;\r\n    NodeList eD_id_to_set_eD_id = null;\r\n    Element eD_id_extension = null;\r\n    \r\n    NodeList eD_id_to_set_eD_code = null;\r\n    Element eD_set_code = null;\r\n    NodeList eD_id_to_set_eD_title = null;\r\n    Element eD_set_title = null;\r\n    \r\n    if (node_to_change_code_id_title.getLength()&gt; 0) {\r\n    \telement_to_change_code_id_title = (Element) node_to_change_code_id_title.item(0);\r\n    \t\r\n    \teD_id_to_set_eD_id = element_to_change_code_id_title.getElementsByTagName(&quot;id&quot;);\r\n    \teD_id_extension = (Element) eD_id_to_set_eD_id.item(0);\r\n    \teD_id_extension.removeAttribute(&quot;extension&quot;);\r\n    \teD_id_extension.setAttribute(&quot;extension&quot;, discard_eD_id_full);\r\n    \t\r\n    \teD_id_to_set_eD_code = element_to_change_code_id_title.getElementsByTagName(&quot;code&quot;);\r\n    \teD_set_code = (Element) eD_id_to_set_eD_code.item(0);\r\n    \teD_set_code.setAttribute(&quot;xmlns&quot;, &quot;urn:hl7-org:v3&quot;);\r\n    \teD_set_code.removeAttribute(&quot;code&quot;);\r\n    \teD_set_code.setAttribute(&quot;code&quot;, &quot;DISCARD-60593-1&quot;);\r\n    \teD_set_code.removeAttribute(&quot;codeSystem&quot;);\r\n    \teD_set_code.setAttribute(&quot;codeSystem&quot;, &quot;2.16.840.1.113883.6.1&quot;);\r\n    \teD_set_code.removeAttribute(&quot;codeSystemName&quot;);\r\n    \teD_set_code.setAttribute(&quot;codeSystemName&quot;, &quot;LOINC&quot;);\r\n    \teD_set_code.removeAttribute(&quot;displayName&quot;);\r\n    \teD_set_code.setAttribute(&quot;displayName&quot;, &quot;Discard Medication Dispensed&quot;);\r\n    \t\r\n    \teD_id_to_set_eD_title = element_to_change_code_id_title.getElementsByTagName(&quot;title&quot;);\r\n    \teD_set_title = (Element) eD_id_to_set_eD_title.item(0);\r\n    \teD_set_title.setTextContent(&quot;Discard Medication Dispensed&quot;);\r\n    }\r\n\r\nThis is the result:\r\n\r\n    &lt;ClinicalDocument xmlns=&quot;urn:hl7-org:v3&quot; xmlns:pharm=&quot;urn:hl7-org:pharm&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; classCode=&quot;DOCCLIN&quot; moodCode=&quot;EVN&quot;&gt;\r\n    \t&lt;realmCode xmlns=&quot;&quot; code=&quot;CY&quot;/&gt;\r\n    \t&lt;typeId xmlns=&quot;&quot; extension=&quot;POCD_HD000040&quot; root=&quot;2.16.840.1.113883.1.3&quot;/&gt;\r\n    \t&lt;templateId xmlns=&quot;&quot; root=&quot;1.3.6.1.4.1.12559.11.10.1.3.1.1.2&quot;/&gt;\r\n    \t&lt;templateId xmlns=&quot;&quot; root=&quot;1.3.6.1.4.1.19376.1.5.3.1.1.1&quot;/&gt;\r\n    \t&lt;id extension=&quot;eDDiscId.CY202303170000002&quot; root=&quot;2.16.840.1.113883.3.9143.3.1.3&quot;/&gt;\r\n    \t&lt;code code=&quot;DISCARD-60593-1&quot; codeSystem=&quot;2.16.840.1.113883.6.1&quot; codeSystemName=&quot;LOINC&quot; codeSystemVersion=&quot;2.59&quot; displayName=&quot;Discard Medication Dispensed&quot;&gt;\r\n    \t\t&lt;translation xmlns=&quot;&quot; code=&quot;60593-1&quot; codeSystem=&quot;2.16.840.1.113883.6.1&quot; codeSystemName=&quot;LOINC&quot; displayName=&quot;eDispensation&quot;/&gt;\r\n    \t&lt;/code&gt;\r\n    \t&lt;title xmlns=&quot;&quot;&gt;Discard Medication Dispensed&lt;/title&gt;\r\n    \t&lt;effectiveTime xmlns=&quot;&quot; value=&quot;20221130152655+0000&quot;/&gt;\r\n    \t&lt;confidentialityCode xmlns=&quot;&quot; code=&quot;N&quot; codeSystem=&quot;2.16.840.1.113883.5.25&quot; codeSystemName=&quot;Confidentiality&quot; codeSystemVersion=&quot;913-20091020&quot; displayName=&quot;normal&quot;/&gt;\r\n    \t&lt;languageCode xmlns=&quot;&quot; code=&quot;en-GB&quot;/&gt;\r\n    \t&lt;setId xmlns=&quot;&quot; extension=&quot;22015711.1&quot; root=&quot;2.16.840.1.113883.3.9143.3.1.3&quot;/&gt;\r\n    \t&lt;recordTarget xmlns=&quot;&quot;&gt;\r\n    \t\t&lt;patientRole classCode=&quot;PAT&quot;&gt;\r\n    \t\t\t&lt;id extension=&quot;x1x2x2&quot; root=&quot;2.16.840.1.113883.2.25.3.4.1.1.2&quot;/&gt;\r\n    \t\t\t&lt;addr&gt;\r\n    \t\t\t\t&lt;country&gt;GR&lt;/country&gt;\r\n    \t\t\t\t&lt;streetAddressLine&gt;ΕΓΝΑΤΙΑ 10&lt;/streetAddressLine&gt;\r\n    \t\t\t&lt;/addr&gt;\r\n    \t\t\t&lt;telecom use=&quot;H&quot; value=&quot;tel:12344&quot;/&gt;\r\n    \t\t\t&lt;patient&gt;\r\n    \t\t\t\t&lt;name&gt;\r\n    \t\t\t\t\t&lt;given&gt;MARINA&lt;/given&gt;\r\n    \t\t\t\t\t&lt;family&gt;FILIP&lt;/family&gt;\r\n    \t\t\t\t&lt;/name&gt;\r\n    \t\t\t\t&lt;administrativeGenderCode code=&quot;F&quot; codeSystem=&quot;2.16.840.1.113883.5.1&quot; codeSystemName=&quot;AdministrativeGender&quot; codeSystemVersion=&quot;913-20091020&quot; displayName=&quot;Female&quot;/&gt;\r\n    \t\t\t\t&lt;birthTime value=&quot;20150101&quot;/&gt;\r\n    \t\t\t\t&lt;languageCommunication&gt;\r\n    \t\t\t\t\t&lt;templateId root=&quot;1.3.6.1.4.1.19376.1.5.3.1.2.1&quot;/&gt;\r\n    \t\t\t\t\t&lt;languageCode code=&quot;en-GB&quot;/&gt;\r\n    \t\t\t\t&lt;/languageCommunication&gt;\r\n    \t\t\t&lt;/patient&gt;\r\n    \t\t&lt;/patientRole&gt;\r\n    \t&lt;/recordTarget&gt;\r\n    &lt;/ClinicalDocument&gt;\r\n\r\n","title":"When I edit an xml in Java, the updated xml contains xmlns=&quot;&quot;","body":"<p>I have an xml file where I need to edit the values for some attributes. When I remove attributes and add again the same attributes using new values, the result\ncontains <code>xmlns=&quot;&quot;</code>.</p>\n<p>Initial xml:</p>\n<pre><code>&lt;ClinicalDocument xmlns=&quot;urn:hl7-org:v3&quot; classCode=&quot;DOCCLIN&quot; moodCode=&quot;EVN&quot; xmlns:pharm=&quot;urn:hl7-org:pharm&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;realmCode code=&quot;CY&quot;/&gt;\n    &lt;typeId extension=&quot;POCD_HD000040&quot; root=&quot;2.16.840.1.113883.1.3&quot;/&gt;\n    &lt;templateId root=&quot;1.3.6.1.4.1.12559.11.10.1.3.1.1.2&quot;/&gt;\n    &lt;templateId root=&quot;1.3.6.1.4.1.19376.1.5.3.1.1.1&quot;/&gt;\n    &lt;id extension=&quot;1.2.3.4.5.6&quot; root=&quot;2.16.840.1.113883.3.9143.3.1.3&quot;/&gt;\n    &lt;code code=&quot;60593-1&quot; codeSystem=&quot;2.16.840.1.113883.6.1&quot; codeSystemName=&quot;LOINC&quot; codeSystemVersion=&quot;2.59&quot; displayName=&quot;Medication dispensed.extended Document&quot;&gt;\n        &lt;translation code=&quot;60593-1&quot; codeSystem=&quot;2.16.840.1.113883.6.1&quot; codeSystemName=&quot;LOINC&quot; displayName=&quot;eDispensation&quot;/&gt;\n    &lt;/code&gt;\n    &lt;title&gt;Medication dispensed&lt;/title&gt;\n    &lt;effectiveTime value=&quot;20221130152655+0000&quot;/&gt;\n    &lt;confidentialityCode code=&quot;N&quot; codeSystem=&quot;2.16.840.1.113883.5.25&quot; codeSystemName=&quot;Confidentiality&quot; codeSystemVersion=&quot;913-20091020&quot; displayName=&quot;normal&quot;/&gt;\n    &lt;languageCode code=&quot;en-GB&quot;/&gt;\n    &lt;setId extension=&quot;22015711.1&quot; root=&quot;2.16.840.1.113883.3.9143.3.1.3&quot;/&gt;\n    &lt;recordTarget&gt;\n        &lt;patientRole classCode=&quot;PAT&quot;&gt;\n            &lt;id extension=&quot;x1x2x2&quot; root=&quot;2.16.840.1.113883.2.25.3.4.1.1.2&quot;/&gt;\n            &lt;addr&gt;\n                &lt;country&gt;GR&lt;/country&gt;\n                &lt;streetAddressLine&gt;ΕΓΝΑΤΙΑ 10&lt;/streetAddressLine&gt;\n            &lt;/addr&gt;\n            &lt;telecom use=&quot;H&quot; value=&quot;tel:12344&quot;/&gt;\n            &lt;patient&gt;\n                &lt;name&gt;\n                    &lt;given&gt;MARINA&lt;/given&gt;\n                    &lt;family&gt;FILIP&lt;/family&gt;\n                &lt;/name&gt;\n                &lt;administrativeGenderCode code=&quot;F&quot; codeSystem=&quot;2.16.840.1.113883.5.1&quot; codeSystemName=&quot;AdministrativeGender&quot; codeSystemVersion=&quot;913-20091020&quot; displayName=&quot;Female&quot;/&gt;\n                &lt;birthTime value=&quot;20150101&quot;/&gt;\n                &lt;languageCommunication&gt;\n                    &lt;templateId root=&quot;1.3.6.1.4.1.19376.1.5.3.1.2.1&quot;/&gt;\n                    &lt;languageCode code=&quot;en-GB&quot;/&gt;\n                &lt;/languageCommunication&gt;\n            &lt;/patient&gt;\n        &lt;/patientRole&gt;\n    &lt;/recordTarget&gt;\n&lt;/ClinicalDocument&gt;\n</code></pre>\n<p>Code:</p>\n<pre><code>String eD = &quot;previous_xml_value&quot;.\n                \nDocumentBuilder db = null;\ntry {\n    db = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n} catch (ParserConfigurationException e1) {\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n}\nInputSource is = new InputSource();\nis.setCharacterStream(new StringReader(eD));\n\nDocument doc = null;\ntry {\n    doc = db.parse(is);\n} catch (SAXException e1) {\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n}\n\n\n// Change info from eD to create eD discard\nNodeList node_to_change_code_id_title = doc.getElementsByTagName(&quot;ClinicalDocument&quot;);\nElement element_to_change_code_id_title = null;\nNodeList eD_id_to_set_eD_id = null;\nElement eD_id_extension = null;\n\nNodeList eD_id_to_set_eD_code = null;\nElement eD_set_code = null;\nNodeList eD_id_to_set_eD_title = null;\nElement eD_set_title = null;\n\nif (node_to_change_code_id_title.getLength()&gt; 0) {\n    element_to_change_code_id_title = (Element) node_to_change_code_id_title.item(0);\n    \n    eD_id_to_set_eD_id = element_to_change_code_id_title.getElementsByTagName(&quot;id&quot;);\n    eD_id_extension = (Element) eD_id_to_set_eD_id.item(0);\n    eD_id_extension.removeAttribute(&quot;extension&quot;);\n    eD_id_extension.setAttribute(&quot;extension&quot;, discard_eD_id_full);\n    \n    eD_id_to_set_eD_code = element_to_change_code_id_title.getElementsByTagName(&quot;code&quot;);\n    eD_set_code = (Element) eD_id_to_set_eD_code.item(0);\n    eD_set_code.setAttribute(&quot;xmlns&quot;, &quot;urn:hl7-org:v3&quot;);\n    eD_set_code.removeAttribute(&quot;code&quot;);\n    eD_set_code.setAttribute(&quot;code&quot;, &quot;DISCARD-60593-1&quot;);\n    eD_set_code.removeAttribute(&quot;codeSystem&quot;);\n    eD_set_code.setAttribute(&quot;codeSystem&quot;, &quot;2.16.840.1.113883.6.1&quot;);\n    eD_set_code.removeAttribute(&quot;codeSystemName&quot;);\n    eD_set_code.setAttribute(&quot;codeSystemName&quot;, &quot;LOINC&quot;);\n    eD_set_code.removeAttribute(&quot;displayName&quot;);\n    eD_set_code.setAttribute(&quot;displayName&quot;, &quot;Discard Medication Dispensed&quot;);\n    \n    eD_id_to_set_eD_title = element_to_change_code_id_title.getElementsByTagName(&quot;title&quot;);\n    eD_set_title = (Element) eD_id_to_set_eD_title.item(0);\n    eD_set_title.setTextContent(&quot;Discard Medication Dispensed&quot;);\n}\n</code></pre>\n<p>This is the result:</p>\n<pre><code>&lt;ClinicalDocument xmlns=&quot;urn:hl7-org:v3&quot; xmlns:pharm=&quot;urn:hl7-org:pharm&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; classCode=&quot;DOCCLIN&quot; moodCode=&quot;EVN&quot;&gt;\n    &lt;realmCode xmlns=&quot;&quot; code=&quot;CY&quot;/&gt;\n    &lt;typeId xmlns=&quot;&quot; extension=&quot;POCD_HD000040&quot; root=&quot;2.16.840.1.113883.1.3&quot;/&gt;\n    &lt;templateId xmlns=&quot;&quot; root=&quot;1.3.6.1.4.1.12559.11.10.1.3.1.1.2&quot;/&gt;\n    &lt;templateId xmlns=&quot;&quot; root=&quot;1.3.6.1.4.1.19376.1.5.3.1.1.1&quot;/&gt;\n    &lt;id extension=&quot;eDDiscId.CY202303170000002&quot; root=&quot;2.16.840.1.113883.3.9143.3.1.3&quot;/&gt;\n    &lt;code code=&quot;DISCARD-60593-1&quot; codeSystem=&quot;2.16.840.1.113883.6.1&quot; codeSystemName=&quot;LOINC&quot; codeSystemVersion=&quot;2.59&quot; displayName=&quot;Discard Medication Dispensed&quot;&gt;\n        &lt;translation xmlns=&quot;&quot; code=&quot;60593-1&quot; codeSystem=&quot;2.16.840.1.113883.6.1&quot; codeSystemName=&quot;LOINC&quot; displayName=&quot;eDispensation&quot;/&gt;\n    &lt;/code&gt;\n    &lt;title xmlns=&quot;&quot;&gt;Discard Medication Dispensed&lt;/title&gt;\n    &lt;effectiveTime xmlns=&quot;&quot; value=&quot;20221130152655+0000&quot;/&gt;\n    &lt;confidentialityCode xmlns=&quot;&quot; code=&quot;N&quot; codeSystem=&quot;2.16.840.1.113883.5.25&quot; codeSystemName=&quot;Confidentiality&quot; codeSystemVersion=&quot;913-20091020&quot; displayName=&quot;normal&quot;/&gt;\n    &lt;languageCode xmlns=&quot;&quot; code=&quot;en-GB&quot;/&gt;\n    &lt;setId xmlns=&quot;&quot; extension=&quot;22015711.1&quot; root=&quot;2.16.840.1.113883.3.9143.3.1.3&quot;/&gt;\n    &lt;recordTarget xmlns=&quot;&quot;&gt;\n        &lt;patientRole classCode=&quot;PAT&quot;&gt;\n            &lt;id extension=&quot;x1x2x2&quot; root=&quot;2.16.840.1.113883.2.25.3.4.1.1.2&quot;/&gt;\n            &lt;addr&gt;\n                &lt;country&gt;GR&lt;/country&gt;\n                &lt;streetAddressLine&gt;ΕΓΝΑΤΙΑ 10&lt;/streetAddressLine&gt;\n            &lt;/addr&gt;\n            &lt;telecom use=&quot;H&quot; value=&quot;tel:12344&quot;/&gt;\n            &lt;patient&gt;\n                &lt;name&gt;\n                    &lt;given&gt;MARINA&lt;/given&gt;\n                    &lt;family&gt;FILIP&lt;/family&gt;\n                &lt;/name&gt;\n                &lt;administrativeGenderCode code=&quot;F&quot; codeSystem=&quot;2.16.840.1.113883.5.1&quot; codeSystemName=&quot;AdministrativeGender&quot; codeSystemVersion=&quot;913-20091020&quot; displayName=&quot;Female&quot;/&gt;\n                &lt;birthTime value=&quot;20150101&quot;/&gt;\n                &lt;languageCommunication&gt;\n                    &lt;templateId root=&quot;1.3.6.1.4.1.19376.1.5.3.1.2.1&quot;/&gt;\n                    &lt;languageCode code=&quot;en-GB&quot;/&gt;\n                &lt;/languageCommunication&gt;\n            &lt;/patient&gt;\n        &lt;/patientRole&gt;\n    &lt;/recordTarget&gt;\n&lt;/ClinicalDocument&gt;\n</code></pre>\n"},{"tags":["java","hibernate","annotations"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678705050,"creation_date":1678705050,"answer_id":75720955,"question_id":75719840,"body_markdown":"In `@OrderBy` annotation you should use the entity field and not the database column name:\r\n\r\n    @OrderBy(&quot;responseDate DESC&quot;)","title":"Hibernate: Unknown column &#39;column_name&#39; in &#39;order clause&#39;","body":"<p>In <code>@OrderBy</code> annotation you should use the entity field and not the database column name:</p>\n<pre><code>@OrderBy(&quot;responseDate DESC&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21659086,"reputation":1338,"user_id":15978450,"display_name":"Damoiskii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679091479,"creation_date":1679091479,"answer_id":75772639,"question_id":75719840,"body_markdown":"After taking a break and then going back through all the classes relating to the `Message` class, I saw what I did wrong. \r\n    \r\n    @Entity\r\n    @Table(name = &quot;Student&quot;)\r\n    @PrimaryKeyJoinColumn(name = &quot;user_id&quot;)\r\n    public class Student extends User implements Serializable {\r\n        @Transient\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        @Column(name = &quot;email&quot;, length = 255)\r\n        private String email;\r\n\r\n        @Column(name = &quot;telephone&quot;, length = 255)\r\n        private String telephone;\r\n\r\n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;student_id&quot;)\r\n        @OrderBy(&quot;dateCreated DESC&quot;) // I had right here -&gt; @OrderBy(&quot;dateCreated DESC, responseDate DESC&quot;)\r\n        private List&lt;Message&gt; messagesSubmitted;\r\n\r\n        // Constructors\r\n        // Setters &amp; Getters\r\n    }\r\n\r\n\r\nSo in the `Student` class, the error occurred apparently because I didn&#39;t remove `responseDate` from the `@OrderBy` annotation for some reason. I&#39;ve recently updated the `Message` class by creating a `Response` class and linking them. \r\n\r\nWhat I had initially was: \r\n\r\n    @Entity\r\n    @Table(name = &quot;Message&quot;)\r\n    public class Message implements Serializable {\r\n        ...\r\n        @Column(name = &quot;response&quot;, nullable = false, length = 2000)\r\n        private String response;\r\n\r\n        @Column(name = &quot;response_date&quot;, nullable = false)\r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        private Date responseDate;\r\n        ...\r\n    }\r\n\r\nTo:\r\n\r\n    @Entity\r\n    @Table(name = &quot;Message&quot;)\r\n    public class Message implements Serializable {\r\n        ...\r\n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;message_id&quot;)\r\n        @OrderBy(&quot;responseDate DESC&quot;)\r\n        private List&lt;Response&gt; responses;\r\n        ...\r\n    }\r\n\r\nSo with that update, the `responseDate` went in the unknown, hence the reason for the error I was getting. \r\n","title":"Hibernate: Unknown column &#39;column_name&#39; in &#39;order clause&#39;","body":"<p>After taking a break and then going back through all the classes relating to the <code>Message</code> class, I saw what I did wrong.</p>\n<pre><code>@Entity\n@Table(name = &quot;Student&quot;)\n@PrimaryKeyJoinColumn(name = &quot;user_id&quot;)\npublic class Student extends User implements Serializable {\n    @Transient\n    private static final long serialVersionUID = 1L;\n\n    @Column(name = &quot;email&quot;, length = 255)\n    private String email;\n\n    @Column(name = &quot;telephone&quot;, length = 255)\n    private String telephone;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;student_id&quot;)\n    @OrderBy(&quot;dateCreated DESC&quot;) // I had right here -&gt; @OrderBy(&quot;dateCreated DESC, responseDate DESC&quot;)\n    private List&lt;Message&gt; messagesSubmitted;\n\n    // Constructors\n    // Setters &amp; Getters\n}\n</code></pre>\n<p>So in the <code>Student</code> class, the error occurred apparently because I didn't remove <code>responseDate</code> from the <code>@OrderBy</code> annotation for some reason. I've recently updated the <code>Message</code> class by creating a <code>Response</code> class and linking them.</p>\n<p>What I had initially was:</p>\n<pre><code>@Entity\n@Table(name = &quot;Message&quot;)\npublic class Message implements Serializable {\n    ...\n    @Column(name = &quot;response&quot;, nullable = false, length = 2000)\n    private String response;\n\n    @Column(name = &quot;response_date&quot;, nullable = false)\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date responseDate;\n    ...\n}\n</code></pre>\n<p>To:</p>\n<pre><code>@Entity\n@Table(name = &quot;Message&quot;)\npublic class Message implements Serializable {\n    ...\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;message_id&quot;)\n    @OrderBy(&quot;responseDate DESC&quot;)\n    private List&lt;Response&gt; responses;\n    ...\n}\n</code></pre>\n<p>So with that update, the <code>responseDate</code> went in the unknown, hence the reason for the error I was getting.</p>\n"}],"owner":{"account_id":21659086,"reputation":1338,"user_id":15978450,"display_name":"Damoiskii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75772639,"answer_count":2,"score":0,"last_activity_date":1679091763,"creation_date":1678698553,"question_id":75719840,"body_markdown":"I&#39;ve been learning Hibernate for the past two weeks, but I&#39;m now experiencing an issue I can&#39;t solve nor am I lucky to find a solution online.\r\n\r\n**My problem**: I would like a message to have multiple responses. I have `@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)`, `@JoinColumn(name = &quot;message_id&quot;)`, `@OrderBy(&quot;responseDate DESC&quot;)` for a list of responses. The `responseDate` belongs to the response table. I keep seeing the following error whenever I try to look up a message: \r\n\r\n&gt; [ERROR] [13-March-2023 3:14:28.025 am | GMT-05:00] [main] [org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions(SqlExceptionHelper.java:142)] - Unknown column &#39;messagessu0_.response_date&#39; in &#39;order clause&#39; \r\n\r\n&gt; Exception in thread &quot;main&quot; org.hibernate.exception.SQLGrammarException: could not extract ResultSet...\r\n\r\nI deleted the tables from the database then went ahead and commented out the `@OrderBy(&quot;responseDate DESC&quot;)` annotation, add a message then try to look up that message again, but the same error still shows.\r\n\r\nWhat am I doing wrong here?\r\n\r\n\r\n**Message.java**\r\n\r\n    @Entity\r\n    @Table(name = &quot;Message&quot;)\r\n    public class Message implements Serializable {\r\n        @Transient\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.TABLE)\r\n        @Column(name = &quot;message_id&quot;, nullable = false)\r\n        private int messageID;\r\n\r\n        @Column(name = &quot;type&quot;, nullable = false, length = 50)\r\n        private String messageType;\r\n\r\n        @Column(name = &quot;category&quot;, nullable = false, length = 100)\r\n        private String category;\r\n\r\n        @Column(name = &quot;details&quot;, nullable = false, length = 2000)\r\n        private String details;\r\n\r\n        @Column(name = &quot;date_created&quot;, nullable = false)\r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        private Date dateCreated;\r\n\r\n        @Column(name = &quot;resolved&quot;)\r\n        private boolean resolved;\r\n\r\n        @OneToOne(cascade = CascadeType.MERGE)\r\n        @JoinColumn(name = &quot;student_id&quot;)\r\n        private Student student;\r\n \r\n        @OneToOne(cascade = CascadeType.MERGE)\r\n        @JoinColumn(name = &quot;staff_id&quot;)\r\n        private Staff staff;\r\n\r\n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;message_id&quot;)\r\n        @OrderBy(&quot;responseDate DESC&quot;) // commented out here and still seeing the same error about unknown column\r\n        private List&lt;Response&gt; responses;\r\n\r\n        // Constructors\r\n        // Getters &amp; Setters\r\n    }\r\n\r\n\r\n**Response.java**\r\n\r\n    @Entity\r\n    @Table(name = &quot;Response&quot;)\r\n    public class Response implements Serializable {\r\n        @Transient\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.TABLE)\r\n        @Column(name = &quot;response_id&quot;, nullable = false)\r\n        private int responseID;\r\n\r\n        @Column(name = &quot;content&quot;, nullable = false, length = 2000)\r\n        private String content;\r\n\r\n        @Column(name = &quot;response_date&quot;, nullable = false)\r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        private Date responseDate;\r\n\r\n        @OneToOne(cascade = CascadeType.MERGE)\r\n        @JoinColumn(name = &quot;message_id&quot;)\r\n        private Message message;\r\n\r\n        // Constructors\r\n        // Getters &amp; Setters\r\n    }\r\n\r\n\r\nWhat I used as a reference was another class of mine...\r\n\r\n**Staff.java**\r\n\r\n    @Entity\r\n    @Table(name = &quot;Staff&quot;)\r\n    @PrimaryKeyJoinColumn(name = &quot;user_id&quot;)\r\n    public class Staff extends User implements Serializable {\r\n        @Transient\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        @Column(name = &quot;role&quot;, length = 255)\r\n        private String role;\r\n\r\n        @OneToMany(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;staff_id&quot;)\r\n        @OrderBy(&quot;dateCreated DESC&quot;) // order by date_created which is from the message table and it worked\r\n        private List&lt;Message&gt; assignedMessages;\r\n\r\n        // Constructors \r\n        // Getters &amp; Setters\r\n    }\r\n\r\n\r\nBefore I added the list of responses to the message class, everything was working fine. When I look up a staff member, I get back the list of messages that were sent by that staff member. \r\n\r\nWhere have I gone wrong? Any help or explanation would be greatly appreciated.","title":"Hibernate: Unknown column &#39;column_name&#39; in &#39;order clause&#39;","body":"<p>I've been learning Hibernate for the past two weeks, but I'm now experiencing an issue I can't solve nor am I lucky to find a solution online.</p>\n<p><strong>My problem</strong>: I would like a message to have multiple responses. I have <code>@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)</code>, <code>@JoinColumn(name = &quot;message_id&quot;)</code>, <code>@OrderBy(&quot;responseDate DESC&quot;)</code> for a list of responses. The <code>responseDate</code> belongs to the response table. I keep seeing the following error whenever I try to look up a message:</p>\n<blockquote>\n<p>[ERROR] [13-March-2023 3:14:28.025 am | GMT-05:00] [main] [org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions(SqlExceptionHelper.java:142)] - Unknown column 'messagessu0_.response_date' in 'order clause'</p>\n</blockquote>\n<blockquote>\n<p>Exception in thread &quot;main&quot; org.hibernate.exception.SQLGrammarException: could not extract ResultSet...</p>\n</blockquote>\n<p>I deleted the tables from the database then went ahead and commented out the <code>@OrderBy(&quot;responseDate DESC&quot;)</code> annotation, add a message then try to look up that message again, but the same error still shows.</p>\n<p>What am I doing wrong here?</p>\n<p><strong>Message.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;Message&quot;)\npublic class Message implements Serializable {\n    @Transient\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.TABLE)\n    @Column(name = &quot;message_id&quot;, nullable = false)\n    private int messageID;\n\n    @Column(name = &quot;type&quot;, nullable = false, length = 50)\n    private String messageType;\n\n    @Column(name = &quot;category&quot;, nullable = false, length = 100)\n    private String category;\n\n    @Column(name = &quot;details&quot;, nullable = false, length = 2000)\n    private String details;\n\n    @Column(name = &quot;date_created&quot;, nullable = false)\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date dateCreated;\n\n    @Column(name = &quot;resolved&quot;)\n    private boolean resolved;\n\n    @OneToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;student_id&quot;)\n    private Student student;\n\n    @OneToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;staff_id&quot;)\n    private Staff staff;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;message_id&quot;)\n    @OrderBy(&quot;responseDate DESC&quot;) // commented out here and still seeing the same error about unknown column\n    private List&lt;Response&gt; responses;\n\n    // Constructors\n    // Getters &amp; Setters\n}\n</code></pre>\n<p><strong>Response.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;Response&quot;)\npublic class Response implements Serializable {\n    @Transient\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.TABLE)\n    @Column(name = &quot;response_id&quot;, nullable = false)\n    private int responseID;\n\n    @Column(name = &quot;content&quot;, nullable = false, length = 2000)\n    private String content;\n\n    @Column(name = &quot;response_date&quot;, nullable = false)\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date responseDate;\n\n    @OneToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;message_id&quot;)\n    private Message message;\n\n    // Constructors\n    // Getters &amp; Setters\n}\n</code></pre>\n<p>What I used as a reference was another class of mine...</p>\n<p><strong>Staff.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;Staff&quot;)\n@PrimaryKeyJoinColumn(name = &quot;user_id&quot;)\npublic class Staff extends User implements Serializable {\n    @Transient\n    private static final long serialVersionUID = 1L;\n\n    @Column(name = &quot;role&quot;, length = 255)\n    private String role;\n\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;staff_id&quot;)\n    @OrderBy(&quot;dateCreated DESC&quot;) // order by date_created which is from the message table and it worked\n    private List&lt;Message&gt; assignedMessages;\n\n    // Constructors \n    // Getters &amp; Setters\n}\n</code></pre>\n<p>Before I added the list of responses to the message class, everything was working fine. When I look up a staff member, I get back the list of messages that were sent by that staff member.</p>\n<p>Where have I gone wrong? Any help or explanation would be greatly appreciated.</p>\n"},{"tags":["java","apache","tar","archiving"],"answers":[{"tags":[],"owner":{"account_id":212263,"reputation":136294,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1410284273,"creation_date":1410284273,"answer_id":25750724,"question_id":25750509,"body_markdown":"Your problem is here:\r\n\r\n    TarArchiveEntry tarArchiveEntry = new TarArchiveEntry(file, file.getName());\r\n\r\nBecause you put each file with only it&#39;s name, not his path, in the tar.\r\n\r\nYou need to pass the relative path from your path entries to this file instead of `file.getName()`.","title":"Tar a directory preserving structure with Apache in java","body":"<p>Your problem is here:</p>\n\n<pre><code>TarArchiveEntry tarArchiveEntry = new TarArchiveEntry(file, file.getName());\n</code></pre>\n\n<p>Because you put each file with only it's name, not his path, in the tar.</p>\n\n<p>You need to pass the relative path from your path entries to this file instead of <code>file.getName()</code>.</p>\n"},{"tags":[],"owner":{"account_id":26681786,"reputation":1,"user_id":20291626,"display_name":"John kerich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679091641,"creation_date":1679091027,"answer_id":75772600,"question_id":25750509,"body_markdown":"The library has a character limit of 100 characters if you are doing full directory path to the file.  You need to modify TarArchiveOutputStream for long paths.  Then it works.\r\n\r\n    TarArchiveOutputStream tOut = new TarArchiveOutputStream(gzOut)) \r\n    // set format to posix so it handles long file name paths\r\n    tOut.setLongFileMode(TarArchiveOutputStream.LONGFILE_POSIX);","title":"Tar a directory preserving structure with Apache in java","body":"<p>The library has a character limit of 100 characters if you are doing full directory path to the file.  You need to modify TarArchiveOutputStream for long paths.  Then it works.</p>\n<pre><code>TarArchiveOutputStream tOut = new TarArchiveOutputStream(gzOut)) \n// set format to posix so it handles long file name paths\ntOut.setLongFileMode(TarArchiveOutputStream.LONGFILE_POSIX);\n</code></pre>\n"}],"owner":{"account_id":188810,"reputation":33950,"user_id":427763,"accept_rate":92,"display_name":"prolink007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3472,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":25750724,"answer_count":2,"score":4,"last_activity_date":1679091641,"creation_date":1410283305,"question_id":25750509,"body_markdown":"How can i `tar` a directory and preserve the directory structure using the `org.apache.commons.compress` libraries?\r\n\r\nWith what i am doing below, i am just getting a package that has everything flattened.\r\n\r\nThanks!\r\n___\r\n\r\nHere is what i have been trying and it is not working.\r\n\r\n    public static void createTar(final String tarName, final List&lt;File&gt; pathEntries) throws IOException {\r\n        OutputStream tarOutput = new FileOutputStream(new File(tarName));\r\n\r\n        ArchiveOutputStream tarArchive = new TarArchiveOutputStream(tarOutput);\r\n\r\n        List&lt;File&gt; files = new ArrayList&lt;File&gt;();\r\n\r\n        for (File file : pathEntries) {\r\n            files.addAll(recurseDirectory(file));\r\n        }\r\n\r\n        for (File file : files) {\r\n\r\n            TarArchiveEntry tarArchiveEntry = new TarArchiveEntry(file, file.getName());\r\n            tarArchiveEntry.setSize(file.length());\r\n            tarArchive.putArchiveEntry(tarArchiveEntry);\r\n            FileInputStream fileInputStream = new FileInputStream(file);\r\n            IOUtils.copy(fileInputStream, tarArchive);\r\n            fileInputStream.close();\r\n            tarArchive.closeArchiveEntry();\r\n        }\r\n\r\n        tarArchive.finish();\r\n        tarOutput.close();\r\n    }\r\n\r\n    public static List&lt;File&gt; recurseDirectory(final File directory) {\r\n\r\n        List&lt;File&gt; files = new ArrayList&lt;File&gt;();\r\n\r\n        if (directory != null &amp;&amp; directory.isDirectory()) {\r\n\r\n            for (File file : directory.listFiles()) {\r\n\r\n                if (file.isDirectory()) {\r\n                    files.addAll(recurseDirectory(file));\r\n                } else {\r\n                    files.add(file);\r\n                }\r\n            }\r\n        }\r\n\r\n        return files;\r\n    }","title":"Tar a directory preserving structure with Apache in java","body":"<p>How can i <code>tar</code> a directory and preserve the directory structure using the <code>org.apache.commons.compress</code> libraries?</p>\n\n<p>With what i am doing below, i am just getting a package that has everything flattened.</p>\n\n<p>Thanks!</p>\n\n<hr>\n\n<p>Here is what i have been trying and it is not working.</p>\n\n<pre><code>public static void createTar(final String tarName, final List&lt;File&gt; pathEntries) throws IOException {\n    OutputStream tarOutput = new FileOutputStream(new File(tarName));\n\n    ArchiveOutputStream tarArchive = new TarArchiveOutputStream(tarOutput);\n\n    List&lt;File&gt; files = new ArrayList&lt;File&gt;();\n\n    for (File file : pathEntries) {\n        files.addAll(recurseDirectory(file));\n    }\n\n    for (File file : files) {\n\n        TarArchiveEntry tarArchiveEntry = new TarArchiveEntry(file, file.getName());\n        tarArchiveEntry.setSize(file.length());\n        tarArchive.putArchiveEntry(tarArchiveEntry);\n        FileInputStream fileInputStream = new FileInputStream(file);\n        IOUtils.copy(fileInputStream, tarArchive);\n        fileInputStream.close();\n        tarArchive.closeArchiveEntry();\n    }\n\n    tarArchive.finish();\n    tarOutput.close();\n}\n\npublic static List&lt;File&gt; recurseDirectory(final File directory) {\n\n    List&lt;File&gt; files = new ArrayList&lt;File&gt;();\n\n    if (directory != null &amp;&amp; directory.isDirectory()) {\n\n        for (File file : directory.listFiles()) {\n\n            if (file.isDirectory()) {\n                files.addAll(recurseDirectory(file));\n            } else {\n                files.add(file);\n            }\n        }\n    }\n\n    return files;\n}\n</code></pre>\n"},{"tags":["java","javascript","jsp"],"comments":[{"owner":{"account_id":1266491,"reputation":58067,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"score":0,"creation_date":1367454566,"post_id":16328550,"comment_id":23385018,"body_markdown":"Please post some code. -1","body":"Please post some code. -1"},{"owner":{"account_id":226479,"reputation":2627,"user_id":487554,"accept_rate":92,"display_name":"CodingInCircles"},"score":0,"creation_date":1367455129,"post_id":16328550,"comment_id":23385144,"body_markdown":"Question edited. Please take a look.","body":"Question edited. Please take a look."}],"answers":[{"tags":[],"owner":{"account_id":1529623,"reputation":27083,"user_id":1427161,"accept_rate":86,"display_name":"doublesharp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1367454708,"creation_date":1367454708,"answer_id":16328583,"question_id":16328550,"body_markdown":"It sounds like you are using an on click event, make sure that it returns false to stay on the same page.\r\n\r\n    &lt;a href=&quot;#&quot; onclick=&quot;window.open(/* http://example.com/file.txt */); return false&quot;&gt;click me&lt;/a&gt;\r\n\r\n\r\nIf you are not using javascript, set the target to a blank page using `_blank`.\r\n\r\n    &lt;a href=&quot;http://example.com/file.txt&quot; target=&quot;_blank&quot;&gt;click me&lt;/a&gt;","title":"How to make a page remain and not redirect when downloading a file?","body":"<p>It sounds like you are using an on click event, make sure that it returns false to stay on the same page.</p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"window.open(/* http://example.com/file.txt */); return false\"&gt;click me&lt;/a&gt;\n</code></pre>\n\n<p>If you are not using javascript, set the target to a blank page using <code>_blank</code>.</p>\n\n<pre><code>&lt;a href=\"http://example.com/file.txt\" target=\"_blank\"&gt;click me&lt;/a&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679034165,"creation_date":1679034165,"answer_id":75764344,"question_id":16328550,"body_markdown":"I have following code that wont redirect and download following is working code\r\n\r\n    function DownloadFileWithoutRedirect() {\r\n    \r\n    \t//url must be hosted else cors issue will come\r\n    \t//url is entire file url - http://doman.com/test.pdf\r\n    \tvar url = window.location.origin+&quot;/docs/test.pdf&quot;;\r\n    \tvar request = new XMLHttpRequest();\r\n    \t\r\n    \trequest.open(&#39;GET&#39;, url, true);\r\n    \trequest.responseType = &#39;blob&#39;;\r\n    \trequest.setRequestHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;)\r\n    \t\r\n    \trequest.onload = function() {\r\n    \t\tvar reader = new FileReader();\r\n    \t\treader.readAsDataURL(request.response);\r\n    \t\treader.onload =  function(e){\r\n    \t\t\tvar link = document.createElement(&quot;a&quot;)\r\n    \t\t\tlink.href = e.target.result;\r\n    \t\t\tlink.download = &quot;download.pdf&quot;;//filename that is kept for dowloading file\r\n    \t\t\tlink.click();\r\n    \t\t\tURL.revokeObjectURL(link.href);\r\n    \t\t};\r\n    \t};\r\n    \trequest.send();\r\n    \t\r\n    }\r\n\r\nThis solution makes a get call and a blob response which will be downloading the file without redirect. Further full code is illustrated in Spring Boot + Thymeleaf \r\n(Solution is not dependent on Java) For avoiding cors its tested in such a way. I hope following will be helpfull\r\n\r\n\r\nStartWebApplication.java\r\n\r\n    package com.mkyong;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class StartWebApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(StartWebApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\nWelcomeController.java\r\n\r\n    package com.mkyong.controller;\r\n    \r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    \r\n    @Controller\r\n    public class WelcomeController {\r\n    \t\r\n        @Value(&quot;${welcome.message}&quot;)\r\n        private String message;\r\n        \r\n        @GetMapping(&quot;/&quot;)\r\n        public String main(Model model) {\r\n            model.addAttribute(&quot;message&quot;, message);\r\n            return &quot;welcome&quot;; //view\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nWelcome.html\r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;utf-8&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\r\n        &lt;title&gt;Spring Boot Thymeleaf Hello World Example&lt;/title&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{webjars/bootstrap/4.2.1/css/bootstrap.min.css}&quot;/&gt;\r\n    &lt;/head&gt;\r\n    \r\n    &lt;body&gt;\r\n    \r\n    &lt;main role=&quot;main&quot; class=&quot;container&quot;&gt;\r\n    \r\n        &lt;div class=&quot;starter-template&quot;&gt;\r\n            &lt;button class=&quot;btn&quot; value=&quot;download&quot; onClick=&quot;DownloadFileWithoutRedirect()&quot; &gt;Download&lt;/button&gt;\r\n        &lt;/div&gt;\r\n    \t\r\n    &lt;/main&gt;\r\n    &lt;!-- /.container --&gt;\r\n    \r\n    \r\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{webjars/jquery/3.6.4/jquery.min.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{webjars/bootstrap/4.2.1/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\r\n    \r\n    &lt;script&gt;\r\n    \r\n    function DownloadFileWithoutRedirect() {\r\n    \r\n    \t//url must be hosted else cors issue will come\r\n    \t//url is entire file url - http://localhost:1818/docs/test.pdf\r\n    \tvar url = window.location.origin+&quot;/docs/test.pdf&quot;;\r\n    \tvar request = new XMLHttpRequest();\r\n    \t\r\n    \trequest.open(&#39;GET&#39;, url, true);\r\n    \trequest.responseType = &#39;blob&#39;;\r\n    \trequest.setRequestHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;)\r\n    \t\r\n    \trequest.onload = function() {\r\n    \t\tvar reader = new FileReader();\r\n    \t\treader.readAsDataURL(request.response);\r\n    \t\treader.onload =  function(e){\r\n    \t\t\tvar link = document.createElement(&quot;a&quot;)\r\n    \t\t\tlink.href = e.target.result;\r\n    \t\t\tlink.download = &quot;download.pdf&quot;;//filename that is kept for dowloading file\r\n    \t\t\tlink.click();\r\n    \t\t\tURL.revokeObjectURL(link.href);\r\n    \t\t};\r\n    \t};\r\n    \trequest.send();\r\n    \t\r\n    }\r\n    &lt;/script&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nand pom\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;artifactId&gt;web-thymeleaf&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;name&gt;Spring Boot Web Thymeleaf Example&lt;/name&gt;\r\n    \t&lt;description&gt;Spring Boot Web Thymeleaf Example&lt;/description&gt;\r\n    \t&lt;version&gt;1.0&lt;/version&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;bootstrap.version&gt;4.2.1&lt;/bootstrap.version&gt;\r\n    \t\t&lt;jquery.version&gt;3.6.4&lt;/jquery.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-devtools --&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- web mvc --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- thymeleaf --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- test --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- hot swapping, disable cache for template, enable live reload --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Optional, for bootstrap --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${bootstrap.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.webjars/jquery --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jquery.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \r\n    \t\t\t&lt;!-- Package as an executable jar/war --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;addResources&gt;true&lt;/addResources&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThis is a sample project from [mkyong][1] in which onclick file download is incorporated \r\n\r\n\r\n  [1]: https://mkyong.com/spring-boot/spring-boot-hello-world-example-thymeleaf/","title":"How to make a page remain and not redirect when downloading a file?","body":"<p>I have following code that wont redirect and download following is working code</p>\n<pre><code>function DownloadFileWithoutRedirect() {\n\n    //url must be hosted else cors issue will come\n    //url is entire file url - http://doman.com/test.pdf\n    var url = window.location.origin+&quot;/docs/test.pdf&quot;;\n    var request = new XMLHttpRequest();\n    \n    request.open('GET', url, true);\n    request.responseType = 'blob';\n    request.setRequestHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;)\n    \n    request.onload = function() {\n        var reader = new FileReader();\n        reader.readAsDataURL(request.response);\n        reader.onload =  function(e){\n            var link = document.createElement(&quot;a&quot;)\n            link.href = e.target.result;\n            link.download = &quot;download.pdf&quot;;//filename that is kept for dowloading file\n            link.click();\n            URL.revokeObjectURL(link.href);\n        };\n    };\n    request.send();\n    \n}\n</code></pre>\n<p>This solution makes a get call and a blob response which will be downloading the file without redirect. Further full code is illustrated in Spring Boot + Thymeleaf\n(Solution is not dependent on Java) For avoiding cors its tested in such a way. I hope following will be helpfull</p>\n<p>StartWebApplication.java</p>\n<pre><code>package com.mkyong;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class StartWebApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(StartWebApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>WelcomeController.java</p>\n<pre><code>package com.mkyong.controller;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class WelcomeController {\n    \n    @Value(&quot;${welcome.message}&quot;)\n    private String message;\n    \n    @GetMapping(&quot;/&quot;)\n    public String main(Model model) {\n        model.addAttribute(&quot;message&quot;, message);\n        return &quot;welcome&quot;; //view\n    }\n\n\n}\n</code></pre>\n<p>Welcome.html</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\n    &lt;title&gt;Spring Boot Thymeleaf Hello World Example&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{webjars/bootstrap/4.2.1/css/bootstrap.min.css}&quot;/&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;main role=&quot;main&quot; class=&quot;container&quot;&gt;\n\n    &lt;div class=&quot;starter-template&quot;&gt;\n        &lt;button class=&quot;btn&quot; value=&quot;download&quot; onClick=&quot;DownloadFileWithoutRedirect()&quot; &gt;Download&lt;/button&gt;\n    &lt;/div&gt;\n    \n&lt;/main&gt;\n&lt;!-- /.container --&gt;\n\n\n&lt;script type=&quot;text/javascript&quot; th:src=&quot;@{webjars/jquery/3.6.4/jquery.min.js}&quot;&gt;&lt;/script&gt;\n&lt;script type=&quot;text/javascript&quot; th:src=&quot;@{webjars/bootstrap/4.2.1/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\n\n&lt;script&gt;\n\nfunction DownloadFileWithoutRedirect() {\n\n    //url must be hosted else cors issue will come\n    //url is entire file url - http://localhost:1818/docs/test.pdf\n    var url = window.location.origin+&quot;/docs/test.pdf&quot;;\n    var request = new XMLHttpRequest();\n    \n    request.open('GET', url, true);\n    request.responseType = 'blob';\n    request.setRequestHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;)\n    \n    request.onload = function() {\n        var reader = new FileReader();\n        reader.readAsDataURL(request.response);\n        reader.onload =  function(e){\n            var link = document.createElement(&quot;a&quot;)\n            link.href = e.target.result;\n            link.download = &quot;download.pdf&quot;;//filename that is kept for dowloading file\n            link.click();\n            URL.revokeObjectURL(link.href);\n        };\n    };\n    request.send();\n    \n}\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>and pom</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;web-thymeleaf&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;Spring Boot Web Thymeleaf Example&lt;/name&gt;\n    &lt;description&gt;Spring Boot Web Thymeleaf Example&lt;/description&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;bootstrap.version&gt;4.2.1&lt;/bootstrap.version&gt;\n        &lt;jquery.version&gt;3.6.4&lt;/jquery.version&gt;\n    &lt;/properties&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-devtools --&gt;\n\n    &lt;dependencies&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- web mvc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- thymeleaf --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- hot swapping, disable cache for template, enable live reload --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Optional, for bootstrap --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;${bootstrap.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.webjars/jquery --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n            &lt;version&gt;${jquery.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n            &lt;!-- Package as an executable jar/war --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;addResources&gt;true&lt;/addResources&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is a sample project from <a href=\"https://mkyong.com/spring-boot/spring-boot-hello-world-example-thymeleaf/\" rel=\"nofollow noreferrer\">mkyong</a> in which onclick file download is incorporated</p>\n"},{"tags":[],"owner":{"account_id":25629836,"reputation":21,"user_id":19400377,"display_name":"JM."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679091486,"creation_date":1679091486,"answer_id":75772642,"question_id":16328550,"body_markdown":"Is not that hard if the file is already up and you are not generating it on your server side.\r\n\r\nCall an href an set a name to the file:\r\n\r\n    &lt;a class=&quot;badge text-bg-primary&quot; href=&quot;your_file_link.txt&quot; download=&quot;suggested_file_name&quot;&gt;Button text&lt;/a&gt;\r\n\r\nIs this helpful? Let me know.","title":"How to make a page remain and not redirect when downloading a file?","body":"<p>Is not that hard if the file is already up and you are not generating it on your server side.</p>\n<p>Call an href an set a name to the file:</p>\n<pre><code>&lt;a class=&quot;badge text-bg-primary&quot; href=&quot;your_file_link.txt&quot; download=&quot;suggested_file_name&quot;&gt;Button text&lt;/a&gt;\n</code></pre>\n<p>Is this helpful? Let me know.</p>\n"}],"owner":{"account_id":226479,"reputation":2627,"user_id":487554,"accept_rate":92,"display_name":"CodingInCircles"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4550,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":16328583,"answer_count":3,"score":2,"last_activity_date":1679091486,"creation_date":1367454468,"question_id":16328550,"body_markdown":"I have a JSP that has a link, which, when clicked, downloads a file. My problem is that when I click on the link, it goes to blank page and remains there. I would either like for it to return to the page the link was clicked from, or for it download without going to the blank page. Any ideas?\r\n\r\nCurrently, this is what my code looks like:\r\n\r\n    Please &lt;a href=&quot;https://webpath/filename.xls&quot;&gt;click here&lt;/a&gt; to see an example of a valid file.","title":"How to make a page remain and not redirect when downloading a file?","body":"<p>I have a JSP that has a link, which, when clicked, downloads a file. My problem is that when I click on the link, it goes to blank page and remains there. I would either like for it to return to the page the link was clicked from, or for it download without going to the blank page. Any ideas?</p>\n\n<p>Currently, this is what my code looks like:</p>\n\n<pre><code>Please &lt;a href=\"https://webpath/filename.xls\"&gt;click here&lt;/a&gt; to see an example of a valid file.\n</code></pre>\n"},{"tags":["java","android","javadoc"],"comments":[{"owner":{"account_id":17903324,"reputation":136,"user_id":13007101,"display_name":"Jo Bo"},"score":0,"creation_date":1633082736,"post_id":68429687,"comment_id":122671102,"body_markdown":"this isn&#39;t really a solution so I will not answer my own question, but it worked for a buddy of mine after he deinstalled and reinstalled Java completely (all his versions) and I suppose I could have tried that too","body":"this isn&#39;t really a solution so I will not answer my own question, but it worked for a buddy of mine after he deinstalled and reinstalled Java completely (all his versions) and I suppose I could have tried that too"}],"answers":[{"tags":[],"owner":{"account_id":19344277,"reputation":38,"user_id":14143168,"display_name":"TechFence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679091426,"creation_date":1679091426,"answer_id":75772635,"question_id":68429687,"body_markdown":"Had the same issue. Here is how I solved it:\r\n1. In your build.gradle file, add this line\r\n\r\n    ````implementation files(pathtosdk)````\r\n\r\n2. Go to Tools -&gt; Generate Javadocs. In the command line args, add this line\r\n\r\n    ````-sourcepath pathtosdk````\r\n\r\nTo find the pathtosdk;\r\n\r\n- Change from Android to Project.\r\n- Open up External Libraries\r\n- Open up the directory that&#39;s named like &quot;Android  &lt;API Level&gt;&quot;\r\n- You should see an android.jar file\r\n- Right click and copy the absolute path. That is your pathtosdk.","title":"Android Studio Javadoc Generation error: cannot find symbol R","body":"<p>Had the same issue. Here is how I solved it:</p>\n<ol>\n<li><p>In your build.gradle file, add this line</p>\n<p><code>implementation files(pathtosdk)</code></p>\n</li>\n<li><p>Go to Tools -&gt; Generate Javadocs. In the command line args, add this line</p>\n<p><code>-sourcepath pathtosdk</code></p>\n</li>\n</ol>\n<p>To find the pathtosdk;</p>\n<ul>\n<li>Change from Android to Project.</li>\n<li>Open up External Libraries</li>\n<li>Open up the directory that's named like &quot;Android  &quot;</li>\n<li>You should see an android.jar file</li>\n<li>Right click and copy the absolute path. That is your pathtosdk.</li>\n</ul>\n"}],"owner":{"account_id":17903324,"reputation":136,"user_id":13007101,"display_name":"Jo Bo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":851,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75772635,"answer_count":1,"score":2,"last_activity_date":1679091426,"creation_date":1626615762,"question_id":68429687,"body_markdown":"I am trying to generate javadocs for a larger android project - using android studios built-in &quot;Tools &gt; Generate JavaDoc&quot;. I have tried different scopes (my module, a custom scope containing only the java files I created, Project Files, ...) but everytime there is a class included which uses `import com.my-app.R;` or a generated class such as `SomeFragmentBinding` for ViewBinding, I get an \r\n\r\n`error: cannot find symbol` from javadoc...\r\n\r\nApart from this problem the usual building and executing of the app is completely successful and works like a charm, although I get some some warnings regarding my database layout. Also I am using Hilt for Dependency Injection, but I don&#39;t really think that is related?\r\n\r\nNow I am a complete noob using gradle and my attempts to configure the javadoc task myself have failed - and from what I have found online this should generally work out-of-the-box.","title":"Android Studio Javadoc Generation error: cannot find symbol R","body":"<p>I am trying to generate javadocs for a larger android project - using android studios built-in &quot;Tools &gt; Generate JavaDoc&quot;. I have tried different scopes (my module, a custom scope containing only the java files I created, Project Files, ...) but everytime there is a class included which uses <code>import com.my-app.R;</code> or a generated class such as <code>SomeFragmentBinding</code> for ViewBinding, I get an</p>\n<p><code>error: cannot find symbol</code> from javadoc...</p>\n<p>Apart from this problem the usual building and executing of the app is completely successful and works like a charm, although I get some some warnings regarding my database layout. Also I am using Hilt for Dependency Injection, but I don't really think that is related?</p>\n<p>Now I am a complete noob using gradle and my attempts to configure the javadoc task myself have failed - and from what I have found online this should generally work out-of-the-box.</p>\n"},{"tags":["java","string","escaping","ansi-escape","color-codes"],"answers":[{"tags":[],"owner":{"account_id":6628105,"reputation":556,"user_id":5117772,"display_name":"EricChen1248"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604483978,"creation_date":1604483978,"answer_id":64677848,"question_id":62300216,"body_markdown":"This isn&#39;t a very optimal way, but it should work if regex performance isn&#39;t a very big issue.\r\n\r\n```java\r\npublic static int getStringLengthWithoutANSI(String str) {\r\n    return str.replaceAll(&quot;(\\\\x9B|\\\\x1B\\\\[)[0-?]*[ -\\\\/]*[@-~]&quot;, &quot;&quot;).length();\r\n}\r\n```","title":"ANSI color escape sequence chars appearing inside String.length();","body":"<p>This isn't a very optimal way, but it should work if regex performance isn't a very big issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int getStringLengthWithoutANSI(String str) {\n    return str.replaceAll(&quot;(\\\\x9B|\\\\x1B\\\\[)[0-?]*[ -\\\\/]*[@-~]&quot;, &quot;&quot;).length();\n}\n</code></pre>\n"}],"owner":{"account_id":16659185,"reputation":73,"user_id":12039606,"display_name":"Slayer Of Whales"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":864,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679091421,"creation_date":1591781378,"question_id":62300216,"body_markdown":"When coloring a String with an ANSI escape sequence, then taking the .length() of the String in question, it does not give the length of the visible part of the String, instead including part of the escape sequence. \n\n    import java.util.*;\n    \n    public class ColorTest {\n        public static void main(String[] args){\n            String RED    = &quot;\\u001B[31m&quot;;\n            String test = &quot;Test&quot;;\n    \n            // Prints length with color\n            System.out.println(test);\n            System.out.println(&quot;Length: &quot;+test.length());\n            \n            // Prints length with color\n            test = RED+test;\n            System.out.println(test);\n            System.out.println(&quot;Length: &quot;+test.length());\n    \n            // Prints every char found in the String\n            char[] testCharList = test.toCharArray();\n            for(char x : testCharList){\n                System.out.print(x+&quot; &quot;);\n            }\n            System.out.println(&quot; &quot;);\n    \n        }\n    }\n\noutput:\n[output][1]\n\nDue to the many different colors having different amounts of digits in their escape sequences, (Red being 31, and a bright red background being 101) a total subtraction of a set number from the String.length() number is not feasible. I am seeking a universal solution to this issue that will work for all colors, and combinations of them, where it only shows the displayed String&#39;s length. \n\n  [1]: https://i.stack.imgur.com/RGe25.png","title":"ANSI color escape sequence chars appearing inside String.length();","body":"<p>When coloring a String with an ANSI escape sequence, then taking the .length() of the String in question, it does not give the length of the visible part of the String, instead including part of the escape sequence.</p>\n<pre><code>import java.util.*;\n\npublic class ColorTest {\n    public static void main(String[] args){\n        String RED    = &quot;\\u001B[31m&quot;;\n        String test = &quot;Test&quot;;\n\n        // Prints length with color\n        System.out.println(test);\n        System.out.println(&quot;Length: &quot;+test.length());\n        \n        // Prints length with color\n        test = RED+test;\n        System.out.println(test);\n        System.out.println(&quot;Length: &quot;+test.length());\n\n        // Prints every char found in the String\n        char[] testCharList = test.toCharArray();\n        for(char x : testCharList){\n            System.out.print(x+&quot; &quot;);\n        }\n        System.out.println(&quot; &quot;);\n\n    }\n}\n</code></pre>\n<p>output:\n<a href=\"https://i.stack.imgur.com/RGe25.png\" rel=\"nofollow noreferrer\">output</a></p>\n<p>Due to the many different colors having different amounts of digits in their escape sequences, (Red being 31, and a bright red background being 101) a total subtraction of a set number from the String.length() number is not feasible. I am seeking a universal solution to this issue that will work for all colors, and combinations of them, where it only shows the displayed String's length.</p>\n"},{"tags":["java","terminal","printing","ansi-escape"],"comments":[{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":0,"creation_date":1618213802,"post_id":67054407,"comment_id":118524405,"body_markdown":"You can replace the System.err with your own PrintStream with System.setErr(). In your own PrintStream you can append ANSI_RED and ANSI_RESET at the start and end of every line of output.","body":"You can replace the System.err with your own PrintStream with System.setErr(). In your own PrintStream you can append ANSI_RED and ANSI_RESET at the start and end of every line of output."},{"owner":{"account_id":19941048,"reputation":1475,"user_id":14911094,"display_name":"Jaysmito Mukherjee"},"score":0,"creation_date":1618214041,"post_id":67054407,"comment_id":118524525,"body_markdown":"@Alex yeah i think i would override the print method","body":"@Alex yeah i think i would override the print method"}],"answers":[{"tags":[],"owner":{"account_id":19941048,"reputation":1475,"user_id":14911094,"display_name":"Jaysmito Mukherjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1618215483,"creation_date":1618215483,"answer_id":67054862,"question_id":67054407,"body_markdown":"So, as suggested in the comments i made a class extending PrintStream and override `print and `println` methods.\r\n\r\nMy `PrintStream` class:\r\n\r\n    public class ErrorStreamPrinter extends PrintStream {\r\n    \r\n        public ErrorStreamPrinter(OutputStream out) {\r\n            super(out, true);\r\n        }\r\n    \r\n        @Override\r\n        public void print(String s) {\r\n            super.print(Constants.ANSI_RED);\r\n            super.print(s);\r\n            super.print(Constants.ANSI_RESET);\r\n        }\r\n    \r\n        @Override\r\n        public void println(String s) {\r\n            super.print(Constants.ANSI_RED);\r\n            super.print(s);\r\n            super.println(Constants.ANSI_RESET);\r\n        }\r\n    }\r\n\r\n","title":"Change color of output for different stream in terminal","body":"<p>So, as suggested in the comments i made a class extending PrintStream and override <code>print and </code>println` methods.</p>\n<p>My <code>PrintStream</code> class:</p>\n<pre><code>public class ErrorStreamPrinter extends PrintStream {\n\n    public ErrorStreamPrinter(OutputStream out) {\n        super(out, true);\n    }\n\n    @Override\n    public void print(String s) {\n        super.print(Constants.ANSI_RED);\n        super.print(s);\n        super.print(Constants.ANSI_RESET);\n    }\n\n    @Override\n    public void println(String s) {\n        super.print(Constants.ANSI_RED);\n        super.print(s);\n        super.println(Constants.ANSI_RESET);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19941048,"reputation":1475,"user_id":14911094,"display_name":"Jaysmito Mukherjee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67054862,"answer_count":1,"score":0,"last_activity_date":1679091195,"creation_date":1618213540,"question_id":67054407,"body_markdown":"First to clarify i am not talking about changing color in some ide&#39;s attached terminal but the normal terminal.\r\n\r\nSecondly My problem:\r\n\r\nI have 2 outputstreams both printing to system.out and system.err but i want the system.err one to print in red but the code just takes a stream and calls print and it is too big to change individually all the lines so is there a way that all the outputs to System.err will be red and System.out will be normal\r\n\r\nI tried adding ANSI RED escape code before the code segment for System.err but then out also prints red how can i do have only err as red output!\r\n\r\nMy code now:\r\n\r\n    public class Main {\r\n        public static final String ANSI_RED = &quot;\\u001B[31m&quot;;\r\n        public static final String ANSI_RESET = &quot;\\033[0m&quot;;\r\n        public static void main(String[] args) {\r\n            System.err.print(ANSI_RED);        \r\n            doSomePrinting(System.out, System.err); // This is some method which prints both to System.out and System.err\r\n            System.err.print(ANSI_RESET);        \r\n        }\r\n    }\r\n\r\nBut inside the do something method when i print to System.err it is red but System.out also becomes red!\r\n\r\nHow to solve this issue?\r\n\r\nNote : Please do not suggest to print ANSI_RED and ANSI_RESET before and after everything i print to System.err i know thats a solution but there are a lost of prints thus it will be very difficult to do it and it will be my last option if there are no other possible ways!","title":"Change color of output for different stream in terminal","body":"<p>First to clarify i am not talking about changing color in some ide's attached terminal but the normal terminal.</p>\n<p>Secondly My problem:</p>\n<p>I have 2 outputstreams both printing to system.out and system.err but i want the system.err one to print in red but the code just takes a stream and calls print and it is too big to change individually all the lines so is there a way that all the outputs to System.err will be red and System.out will be normal</p>\n<p>I tried adding ANSI RED escape code before the code segment for System.err but then out also prints red how can i do have only err as red output!</p>\n<p>My code now:</p>\n<pre><code>public class Main {\n    public static final String ANSI_RED = &quot;\\u001B[31m&quot;;\n    public static final String ANSI_RESET = &quot;\\033[0m&quot;;\n    public static void main(String[] args) {\n        System.err.print(ANSI_RED);        \n        doSomePrinting(System.out, System.err); // This is some method which prints both to System.out and System.err\n        System.err.print(ANSI_RESET);        \n    }\n}\n</code></pre>\n<p>But inside the do something method when i print to System.err it is red but System.out also becomes red!</p>\n<p>How to solve this issue?</p>\n<p>Note : Please do not suggest to print ANSI_RED and ANSI_RESET before and after everything i print to System.err i know thats a solution but there are a lost of prints thus it will be very difficult to do it and it will be my last option if there are no other possible ways!</p>\n"},{"tags":["java","colors","ansi-escape"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1619787401,"post_id":67334251,"comment_id":119016773,"body_markdown":"https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println","body":"<a href=\"https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println\" title=\"how to print color in console using system out println\">stackoverflow.com/questions/5762491/&hellip;</a>"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1619787544,"post_id":67334251,"comment_id":119016832,"body_markdown":"Does this answer your question? [How to print color in console using System.out.println?](https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println\">How to print color in console using System.out.println?</a>"},{"owner":{"account_id":16873911,"reputation":21,"user_id":13683171,"display_name":"Gabriel"},"score":0,"creation_date":1619967843,"post_id":67334251,"comment_id":119057590,"body_markdown":"Not yet, i also have this ANSI codes in my &quot;Cor&quot; object. The problem is when i print the color in terminal, thw \\  turns into a &lt;-, so the color does not apper.","body":"Not yet, i also have this ANSI codes in my &quot;Cor&quot; object. The problem is when i print the color in terminal, thw \\  turns into a &lt;-, so the color does not apper."}],"owner":{"account_id":16873911,"reputation":21,"user_id":13683171,"display_name":"Gabriel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679091170,"creation_date":1619787064,"question_id":67334251,"body_markdown":"I am working on a project and I figured out that when i try to print the ANSI color code, the application interpretate the code color as a &lt;-, as you can see in the images.\r\n\r\n\r\nTerminal Outut:\r\n\r\n![outPut Image][1]\r\n\r\n\r\nMy color codes:\r\n\r\n```\r\npublic final class BaseCodigoCores {\r\n\r\n    public static final String ANSI_RESET = &quot;\\u001B[0m&quot;;\r\n    public static final String TEXTO_ANSI_BLACK = &quot;\\u001B[30m&quot;;\r\n\r\n    public static final Cor ANSI_RED_BACKGROUND = new Cor(&quot;Vermelho&quot;,&quot;\\u001B[41m&quot;);\r\n    public static final Cor ANSI_GREEN_BACKGROUND =  new Cor(&quot;Verde&quot;,&quot;\\u001B[42m&quot;);\r\n    public static final Cor ANSI_YELLOW_BACKGROUND = new Cor(&quot;Amarelo&quot;, &quot;\\u001B[43m&quot;);\r\n    public static final Cor ANSI_BLUE_BACKGROUND = new Cor(&quot;Azul&quot;,&quot;\\u001B[44m&quot;);\r\n    public static final Cor ANSI_PURPLE_BACKGROUND = new Cor(&quot;Roxo&quot;,&quot;\\u001B[45m&quot;);\r\n    public static final Cor ANSI_CYAN_BACKGROUND = new Cor(&quot;Ciano&quot;, &quot;\\u001B[46m&quot;);\r\n    public static final Cor ANSI_WHITE_BACKGROUND = new Cor(&quot;Branco&quot;,&quot;\\u001B[47m&quot;);\r\n\r\n\r\n}\r\n```\r\n\r\nWould like to know how to change that configuration to able my terminal to print colors.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D5wMr.png","title":"I can&#39;t print colors in terminal with my Java Application","body":"<p>I am working on a project and I figured out that when i try to print the ANSI color code, the application interpretate the code color as a &lt;-, as you can see in the images.</p>\n<p>Terminal Outut:</p>\n<p><img src=\"https://i.stack.imgur.com/D5wMr.png\" alt=\"outPut Image\" /></p>\n<p>My color codes:</p>\n<pre><code>public final class BaseCodigoCores {\n\n    public static final String ANSI_RESET = &quot;\\u001B[0m&quot;;\n    public static final String TEXTO_ANSI_BLACK = &quot;\\u001B[30m&quot;;\n\n    public static final Cor ANSI_RED_BACKGROUND = new Cor(&quot;Vermelho&quot;,&quot;\\u001B[41m&quot;);\n    public static final Cor ANSI_GREEN_BACKGROUND =  new Cor(&quot;Verde&quot;,&quot;\\u001B[42m&quot;);\n    public static final Cor ANSI_YELLOW_BACKGROUND = new Cor(&quot;Amarelo&quot;, &quot;\\u001B[43m&quot;);\n    public static final Cor ANSI_BLUE_BACKGROUND = new Cor(&quot;Azul&quot;,&quot;\\u001B[44m&quot;);\n    public static final Cor ANSI_PURPLE_BACKGROUND = new Cor(&quot;Roxo&quot;,&quot;\\u001B[45m&quot;);\n    public static final Cor ANSI_CYAN_BACKGROUND = new Cor(&quot;Ciano&quot;, &quot;\\u001B[46m&quot;);\n    public static final Cor ANSI_WHITE_BACKGROUND = new Cor(&quot;Branco&quot;,&quot;\\u001B[47m&quot;);\n\n\n}\n</code></pre>\n<p>Would like to know how to change that configuration to able my terminal to print colors.</p>\n"},{"tags":["java","spring","internationalization","string-interpolation","getmessage"],"answers":[{"tags":[],"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676807048,"creation_date":1676794279,"answer_id":75498786,"question_id":75495019,"body_markdown":"\r\nYour code should work, but you have to modify it slightly\r\n\r\n     messageSource.getMessage(&quot;my.key&quot;, new Object[] { 4, 16 }, validLocale);\r\n\r\nAnd change your key to something like \r\n\r\n    my.key=A message specifying min: {0} and max: {1} parameters\r\n\r\nMessageSource doesn&#39;t support  named arguments (e.g. {min}). `min` and `max` in @Length are just attributes -- they have nothing to with the message.properties&#39; placeholders.","title":"How to resolve a message with named parameters from Spring&#39;s MessageSource","body":"<p>Your code should work, but you have to modify it slightly</p>\n<pre><code> messageSource.getMessage(&quot;my.key&quot;, new Object[] { 4, 16 }, validLocale);\n</code></pre>\n<p>And change your key to something like</p>\n<pre><code>my.key=A message specifying min: {0} and max: {1} parameters\n</code></pre>\n<p>MessageSource doesn't support  named arguments (e.g. {min}). <code>min</code> and <code>max</code> in @Length are just attributes -- they have nothing to with the message.properties' placeholders.</p>\n"},{"tags":[],"owner":{"account_id":5489139,"reputation":183,"user_id":4363025,"display_name":"hicnar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676833633,"creation_date":1676833262,"answer_id":75502704,"question_id":75495019,"body_markdown":"@dsp_user\r\n\r\nI know very well that if modified as you proposed it the code would work, but the following code has to work too:\r\n\r\n```\r\n    @Length(max = 4, min = 16, message = &quot;{my.key}&quot;) \r\n    private String username;\r\n```\r\nand it would cease to work if changed to what you suggested.","title":"How to resolve a message with named parameters from Spring&#39;s MessageSource","body":"<p>@dsp_user</p>\n<p>I know very well that if modified as you proposed it the code would work, but the following code has to work too:</p>\n<pre><code>    @Length(max = 4, min = 16, message = &quot;{my.key}&quot;) \n    private String username;\n</code></pre>\n<p>and it would cease to work if changed to what you suggested.</p>\n"},{"tags":[],"owner":{"account_id":1161864,"reputation":2061,"user_id":1141215,"display_name":"PJ_Finnegan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679091082,"creation_date":1679091082,"answer_id":75772605,"question_id":75495019,"body_markdown":"Confirmed that MessageSource doesn&#39;t support named parameters, only numbered ones, at least in the Spring version I&#39;m using (from the `pom.xml`):\r\n\r\n```\r\n&lt;parent&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.3.12.RELEASE&lt;/version&gt;\r\n\t&lt;relativePath /&gt;\r\n&lt;/parent&gt;\r\n```\r\n\r\nI&#39;ve debugged a test using a `ReloadableResourceBundleMessageSource` messageSource and here&#39;s the result.\r\n\r\nJava code line causing the exception:\r\n```\r\nString imsg = messageSource.getMessage(&quot;constraints.Size.message&quot;, new Object[] { 0, 255 }, Locale.getDefault());\r\n```\r\n\r\nContent of `messages_en.properties`:\r\n```\r\nconstraints.Size.message=A message specifying min: {min} and max: {max} parameters\r\n```\r\n\r\nException Stack trace:\r\n\r\n```\r\njava.lang.IllegalArgumentException: can&#39;t parse argument number: min\r\n\tat java.base/java.text.MessageFormat.makeFormat(MessageFormat.java:1451)\r\n\tat java.base/java.text.MessageFormat.applyPattern(MessageFormat.java:491)\r\n\tat java.base/java.text.MessageFormat.&lt;init&gt;(MessageFormat.java:390)\r\n\tat org.springframework.context.support.MessageSourceSupport.createMessageFormat(MessageSourceSupport.java:159)\r\n\tat org.springframework.context.support.ReloadableResourceBundleMessageSource$PropertiesHolder.getMessageFormat(ReloadableResourceBundleMessageSource.java:627)\r\n\tat org.springframework.context.support.ReloadableResourceBundleMessageSource.resolveCode(ReloadableResourceBundleMessageSource.java:206)\r\n\tat org.springframework.context.support.AbstractMessageSource.getMessageInternal(AbstractMessageSource.java:224)\r\n\tat org.springframework.context.support.AbstractMessageSource.getMessage(AbstractMessageSource.java:153)\r\n```\t\r\n\r\nDelving into `org.springframework.context.support.AbstractMessageSource.getMessageInternal()`:\r\n\r\n```\r\n\t/**\r\n\t * Resolve the given code and arguments as message in the given Locale,\r\n\t * returning {@code null} if not found. Does &lt;i&gt;not&lt;/i&gt; fall back to\r\n\t * the code as default message. Invoked by {@code getMessage} methods.\r\n\t * @param code the code to lookup up, such as &#39;calculator.noRateSet&#39;\r\n\t * @param args array of arguments that will be filled in for params\r\n\t * within the message\r\n\t * @param locale the locale in which to do the lookup\r\n\t * @return the resolved message, or {@code null} if not found\r\n\t * @see #getMessage(String, Object[], String, Locale)\r\n\t * @see #getMessage(String, Object[], Locale)\r\n\t * @see #getMessage(MessageSourceResolvable, Locale)\r\n\t * @see #setUseCodeAsDefaultMessage\r\n\t */\r\n\t@Nullable\r\n\tprotected String getMessageInternal(@Nullable String code, @Nullable Object[] args, @Nullable Locale locale) {\r\n\t\tif (code == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (locale == null) {\r\n\t\t\tlocale = Locale.getDefault();\r\n\t\t}\r\n\t\tObject[] argsToUse = args;\r\n\r\n\t\tif (!isAlwaysUseMessageFormat() &amp;&amp; ObjectUtils.isEmpty(args)) {\r\n\t\t\t// Optimized resolution: no arguments to apply,\r\n\t\t\t// therefore no MessageFormat needs to be involved.\r\n\t\t\t// Note that the default implementation still uses MessageFormat;\r\n\t\t\t// this can be overridden in specific subclasses.\r\n\t\t\tString message = resolveCodeWithoutArguments(code, locale);\r\n\t\t\tif (message != null) {\r\n\t\t\t\treturn message;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\telse {\r\n\t\t\t// Resolve arguments eagerly, for the case where the message\r\n\t\t\t// is defined in a parent MessageSource but resolvable arguments\r\n\t\t\t// are defined in the child MessageSource.\r\n\t\t\targsToUse = resolveArguments(args, locale);\r\n\r\n\t\t\tMessageFormat messageFormat = resolveCode(code, locale);\r\n\t\t\tif (messageFormat != null) {\r\n\t\t\t\tsynchronized (messageFormat) {\r\n\t\t\t\t\treturn messageFormat.format(argsToUse);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Check locale-independent common messages for the given message code.\r\n\t\tProperties commonMessages = getCommonMessages();\r\n\t\tif (commonMessages != null) {\r\n\t\t\tString commonMessage = commonMessages.getProperty(code);\r\n\t\t\tif (commonMessage != null) {\r\n\t\t\t\treturn formatMessage(commonMessage, args, locale);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Not found -&gt; check parent, if any.\r\n\t\treturn getMessageFromParent(code, argsToUse, locale);\r\n\t}\r\n```\r\n\r\nyou can see that when the code fails deep into `resolveCode(code, locale)`, the arguments `argsToUse` have not even been passed to it. So there&#39;s no way that by changing them for instance to a map, you can force a different behaviour from the `MessageResource` object.\r\n\r\nI think you might want to use a custom message interpolator, the same one used by whatever library is implementing the `javax.validation`, which is patently able to resolve named parameters.","title":"How to resolve a message with named parameters from Spring&#39;s MessageSource","body":"<p>Confirmed that MessageSource doesn't support named parameters, only numbered ones, at least in the Spring version I'm using (from the <code>pom.xml</code>):</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.3.12.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>I've debugged a test using a <code>ReloadableResourceBundleMessageSource</code> messageSource and here's the result.</p>\n<p>Java code line causing the exception:</p>\n<pre><code>String imsg = messageSource.getMessage(&quot;constraints.Size.message&quot;, new Object[] { 0, 255 }, Locale.getDefault());\n</code></pre>\n<p>Content of <code>messages_en.properties</code>:</p>\n<pre><code>constraints.Size.message=A message specifying min: {min} and max: {max} parameters\n</code></pre>\n<p>Exception Stack trace:</p>\n<pre><code>java.lang.IllegalArgumentException: can't parse argument number: min\n    at java.base/java.text.MessageFormat.makeFormat(MessageFormat.java:1451)\n    at java.base/java.text.MessageFormat.applyPattern(MessageFormat.java:491)\n    at java.base/java.text.MessageFormat.&lt;init&gt;(MessageFormat.java:390)\n    at org.springframework.context.support.MessageSourceSupport.createMessageFormat(MessageSourceSupport.java:159)\n    at org.springframework.context.support.ReloadableResourceBundleMessageSource$PropertiesHolder.getMessageFormat(ReloadableResourceBundleMessageSource.java:627)\n    at org.springframework.context.support.ReloadableResourceBundleMessageSource.resolveCode(ReloadableResourceBundleMessageSource.java:206)\n    at org.springframework.context.support.AbstractMessageSource.getMessageInternal(AbstractMessageSource.java:224)\n    at org.springframework.context.support.AbstractMessageSource.getMessage(AbstractMessageSource.java:153)\n</code></pre>\n<p>Delving into <code>org.springframework.context.support.AbstractMessageSource.getMessageInternal()</code>:</p>\n<pre><code>    /**\n     * Resolve the given code and arguments as message in the given Locale,\n     * returning {@code null} if not found. Does &lt;i&gt;not&lt;/i&gt; fall back to\n     * the code as default message. Invoked by {@code getMessage} methods.\n     * @param code the code to lookup up, such as 'calculator.noRateSet'\n     * @param args array of arguments that will be filled in for params\n     * within the message\n     * @param locale the locale in which to do the lookup\n     * @return the resolved message, or {@code null} if not found\n     * @see #getMessage(String, Object[], String, Locale)\n     * @see #getMessage(String, Object[], Locale)\n     * @see #getMessage(MessageSourceResolvable, Locale)\n     * @see #setUseCodeAsDefaultMessage\n     */\n    @Nullable\n    protected String getMessageInternal(@Nullable String code, @Nullable Object[] args, @Nullable Locale locale) {\n        if (code == null) {\n            return null;\n        }\n        if (locale == null) {\n            locale = Locale.getDefault();\n        }\n        Object[] argsToUse = args;\n\n        if (!isAlwaysUseMessageFormat() &amp;&amp; ObjectUtils.isEmpty(args)) {\n            // Optimized resolution: no arguments to apply,\n            // therefore no MessageFormat needs to be involved.\n            // Note that the default implementation still uses MessageFormat;\n            // this can be overridden in specific subclasses.\n            String message = resolveCodeWithoutArguments(code, locale);\n            if (message != null) {\n                return message;\n            }\n        }\n\n        else {\n            // Resolve arguments eagerly, for the case where the message\n            // is defined in a parent MessageSource but resolvable arguments\n            // are defined in the child MessageSource.\n            argsToUse = resolveArguments(args, locale);\n\n            MessageFormat messageFormat = resolveCode(code, locale);\n            if (messageFormat != null) {\n                synchronized (messageFormat) {\n                    return messageFormat.format(argsToUse);\n                }\n            }\n        }\n\n        // Check locale-independent common messages for the given message code.\n        Properties commonMessages = getCommonMessages();\n        if (commonMessages != null) {\n            String commonMessage = commonMessages.getProperty(code);\n            if (commonMessage != null) {\n                return formatMessage(commonMessage, args, locale);\n            }\n        }\n\n        // Not found -&gt; check parent, if any.\n        return getMessageFromParent(code, argsToUse, locale);\n    }\n</code></pre>\n<p>you can see that when the code fails deep into <code>resolveCode(code, locale)</code>, the arguments <code>argsToUse</code> have not even been passed to it. So there's no way that by changing them for instance to a map, you can force a different behaviour from the <code>MessageResource</code> object.</p>\n<p>I think you might want to use a custom message interpolator, the same one used by whatever library is implementing the <code>javax.validation</code>, which is patently able to resolve named parameters.</p>\n"}],"owner":{"account_id":5489139,"reputation":183,"user_id":4363025,"display_name":"hicnar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1676,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1679091082,"creation_date":1676740534,"question_id":75495019,"body_markdown":"I have resource bundle with one of the key/value pairs looking like:\r\n\r\n```\r\nmy.key=A message specifying min: {min} and max: {max} parameters\r\n```\r\n\r\nIt all works well when used with @Length annotation, Thymeleaf and validators. If error conditions are met the message gets resolved and displayed, however if I try to resolve the same message using the MessageSource.getMessage(...) method there&#39;s now way I can get this to work.\r\n\r\nI tried the following;\r\n\r\n```\r\nmessageSource.getMessage(&quot;my.key&quot;, new Object[] {Map.of(&quot;min&quot;, 4, &quot;max&quot;, 16)}, validLocale);\r\n\r\nalso \r\n\r\nmessageSource.getMessage(&quot;my.key&quot;, new Object[]{&quot;{min:4}&quot;, &quot;max:16&quot;}, validLocale);\r\n\r\n\r\n```\r\n\r\nAnd a few more things but every time I get IllegalArgumentException caused by NumberFormatException with the message: &quot;can&#39;t parse argument number: min&quot;\r\n\r\nWill appreciate any suggestions","title":"How to resolve a message with named parameters from Spring&#39;s MessageSource","body":"<p>I have resource bundle with one of the key/value pairs looking like:</p>\n<pre><code>my.key=A message specifying min: {min} and max: {max} parameters\n</code></pre>\n<p>It all works well when used with @Length annotation, Thymeleaf and validators. If error conditions are met the message gets resolved and displayed, however if I try to resolve the same message using the MessageSource.getMessage(...) method there's now way I can get this to work.</p>\n<p>I tried the following;</p>\n<pre><code>messageSource.getMessage(&quot;my.key&quot;, new Object[] {Map.of(&quot;min&quot;, 4, &quot;max&quot;, 16)}, validLocale);\n\nalso \n\nmessageSource.getMessage(&quot;my.key&quot;, new Object[]{&quot;{min:4}&quot;, &quot;max:16&quot;}, validLocale);\n\n\n</code></pre>\n<p>And a few more things but every time I get IllegalArgumentException caused by NumberFormatException with the message: &quot;can't parse argument number: min&quot;</p>\n<p>Will appreciate any suggestions</p>\n"},{"tags":["java","cloudflare","http-status-codes"],"owner":{"account_id":26173382,"reputation":1,"user_id":19857990,"display_name":"woomy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679090915,"creation_date":1679090915,"question_id":75772591,"body_markdown":"I would like to check the status code of a website. I was using a simple HEAD request for this purpose until now, but the website now implemented Cloudflare Turnstile so my code broke.\r\n\r\nHere is what I used:\r\n\r\n```\r\nHttpURLConnection huc = (HttpURLConnection) new URL(myURL).openConnection();\r\n        huc.setRequestMethod(&quot;HEAD&quot;);\r\n\r\n        System.out.println(huc.getResponseCode());\r\n```\r\n\r\n\r\nNo matter if myURL exists or not, I get HTTP code 403 (Forbidden). After looking up the cause of the problem, I searched &quot;java check status of cloudflare website&quot;. The result weren&#39;t related.","title":"How to check if a Cloudflare Turnstile protected website exists?","body":"<p>I would like to check the status code of a website. I was using a simple HEAD request for this purpose until now, but the website now implemented Cloudflare Turnstile so my code broke.</p>\n<p>Here is what I used:</p>\n<pre><code>HttpURLConnection huc = (HttpURLConnection) new URL(myURL).openConnection();\n        huc.setRequestMethod(&quot;HEAD&quot;);\n\n        System.out.println(huc.getResponseCode());\n</code></pre>\n<p>No matter if myURL exists or not, I get HTTP code 403 (Forbidden). After looking up the cause of the problem, I searched &quot;java check status of cloudflare website&quot;. The result weren't related.</p>\n"},{"tags":["java","spring-boot","apache-httpclient-4.x","apache-httpclient-5.x"],"answers":[{"tags":[],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1677163940,"creation_date":1677095427,"answer_id":75537517,"question_id":75536902,"body_markdown":"The `org.apache.hc.httpclient5.` imports had to be slightly different, as follows:\r\n\r\n\r\n    import org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory;\r\n    import org.apache.hc.client5.http.ssl.TrustSelfSignedStrategy;\r\n    import org.apache.hc.core5.ssl.SSLContextBuilder;\r\n    import org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\r\n    import org.apache.hc.client5.http.impl.classic.HttpClients;\r\n\r\nrather than\r\n\r\n    import org.apache.hc.httpclient5.conn.ssl.SSLConnectionSocketFactory;\r\n    import org.apache.hc.httpclient5.conn.ssl.TrustSelfSignedStrategy;\r\n    import org.apache.hc.httpclient5.impl.client.CloseableHttpClient;\r\n    import org.apache.hc.httpclient5.impl.client.HttpClients;\r\n    import org.apache.hc.httpclient5.ssl.SSLContextBuilder;","title":"&quot;Package org.apache.hc.httpclient5.conn.ssl does not exist&quot; on Spring Boot upgrade","body":"<p>The <code>org.apache.hc.httpclient5.</code> imports had to be slightly different, as follows:</p>\n<pre><code>import org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory;\nimport org.apache.hc.client5.http.ssl.TrustSelfSignedStrategy;\nimport org.apache.hc.core5.ssl.SSLContextBuilder;\nimport org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\nimport org.apache.hc.client5.http.impl.classic.HttpClients;\n</code></pre>\n<p>rather than</p>\n<pre><code>import org.apache.hc.httpclient5.conn.ssl.SSLConnectionSocketFactory;\nimport org.apache.hc.httpclient5.conn.ssl.TrustSelfSignedStrategy;\nimport org.apache.hc.httpclient5.impl.client.CloseableHttpClient;\nimport org.apache.hc.httpclient5.impl.client.HttpClients;\nimport org.apache.hc.httpclient5.ssl.SSLContextBuilder;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1468369,"reputation":159,"user_id":1392873,"display_name":"mandroid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679089859,"creation_date":1679089859,"answer_id":75772503,"question_id":75536902,"body_markdown":"I had the same problem when I tried to upgrade the spring framework version to `3.0.4` from `2.7.9`, and `spring-cloud-starter-vault-config:3.1.2` to `spring-cloud-starter-vault-config:4.0.0`. \r\n\r\nAfter some digging, I found out that `spring-cloud-starter-vault-config` requires two other vault dependencies: `spring-cloud-vault-config` and `spring-vault-core`. \r\n\r\n    [INFO] +- org.springframework.cloud:spring-cloud-starter-vault-config:jar:4.0.0:compile\r\n    [INFO] |  +- org.apache.httpcomponents.client5:httpclient5:jar:5.1.4:compile\r\n    [INFO] |  |  \\- org.apache.httpcomponents.core5:httpcore5-h2:jar:5.1.5:compile\r\n    [INFO] |  +- org.apache.httpcomponents.core5:httpcore5:jar:5.1.5:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-starter:jar:3.1.5:compile\r\n    [INFO] |  |  +- org.springframework.cloud:spring-cloud-context:jar:3.1.5:compile\r\n    [INFO] |  |  +- org.springframework.cloud:spring-cloud-commons:jar:3.1.5:compile\r\n    [INFO] |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.11.RELEASE:compile\r\n    [INFO] |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.69:compile\r\n    [INFO] |  |        +- org.bouncycastle:bcprov-jdk15on:jar:1.69:compile\r\n    [INFO] |  |        \\- org.bouncycastle:bcutil-jdk15on:jar:1.69:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-vault-config:jar:3.1.1:compile\r\n    [INFO] |  \\- org.springframework.vault:spring-vault-core:jar:2.3.2:compile\r\n\r\nIn the above dependency tree, you can see that two dependencies versions are `spring-cloud-vault-config:3.1.1` and `spring-vault-core:2.3.2`.\r\n\r\nI added these dependencies manually in my application `pom.xml` with their latest versions to **resolve** the issue. \r\n\r\n[spring-cloud-vault-config:4.0.0][1] and [spring-vault-core:3.0.1][1].\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-vault-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.vault&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-vault-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nThe dependency tree after manually adding the two dependencies.\r\n\r\n    [INFO] +- org.springframework.cloud:spring-cloud-starter-vault-config:jar:4.0.0:compile\r\n    [INFO] |  +- org.apache.httpcomponents.client5:httpclient5:jar:5.1.4:compile\r\n    [INFO] |  |  \\- org.apache.httpcomponents.core5:httpcore5-h2:jar:5.1.5:compile\r\n    [INFO] |  +- org.apache.httpcomponents.core5:httpcore5:jar:5.1.5:compile\r\n    [INFO] |  \\- org.springframework.cloud:spring-cloud-starter:jar:3.1.5:compile\r\n    [INFO] |     +- org.springframework.cloud:spring-cloud-context:jar:3.1.5:compile\r\n    [INFO] |     +- org.springframework.cloud:spring-cloud-commons:jar:3.1.5:compile\r\n    [INFO] |     \\- org.springframework.security:spring-security-rsa:jar:1.0.11.RELEASE:compile\r\n    [INFO] |        \\- org.bouncycastle:bcpkix-jdk15on:jar:1.69:compile\r\n    [INFO] |           +- org.bouncycastle:bcprov-jdk15on:jar:1.69:compile\r\n    [INFO] |           \\- org.bouncycastle:bcutil-jdk15on:jar:1.69:compile\r\n    [INFO] +- org.springframework.cloud:spring-cloud-vault-config:jar:4.0.0:compile\r\n    [INFO] |  \\- org.springframework:spring-web:jar:6.0.6:compile\r\n    [INFO] +- org.springframework.vault:spring-vault-core:jar:3.0.1:compile\r\n    [INFO] |  +- org.springframework:spring-core:jar:6.0.6:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\r\n    [INFO] |  +- org.springframework:spring-context:jar:6.0.6:compile\r\n    [INFO] |  \\- org.springframework:spring-beans:jar:6.0.6:compile\r\n\r\n  [1]: https://central.sonatype.com/artifact/org.springframework.vault/spring-vault-core/3.0.1","title":"&quot;Package org.apache.hc.httpclient5.conn.ssl does not exist&quot; on Spring Boot upgrade","body":"<p>I had the same problem when I tried to upgrade the spring framework version to <code>3.0.4</code> from <code>2.7.9</code>, and <code>spring-cloud-starter-vault-config:3.1.2</code> to <code>spring-cloud-starter-vault-config:4.0.0</code>.</p>\n<p>After some digging, I found out that <code>spring-cloud-starter-vault-config</code> requires two other vault dependencies: <code>spring-cloud-vault-config</code> and <code>spring-vault-core</code>.</p>\n<pre><code>[INFO] +- org.springframework.cloud:spring-cloud-starter-vault-config:jar:4.0.0:compile\n[INFO] |  +- org.apache.httpcomponents.client5:httpclient5:jar:5.1.4:compile\n[INFO] |  |  \\- org.apache.httpcomponents.core5:httpcore5-h2:jar:5.1.5:compile\n[INFO] |  +- org.apache.httpcomponents.core5:httpcore5:jar:5.1.5:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter:jar:3.1.5:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-context:jar:3.1.5:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-commons:jar:3.1.5:compile\n[INFO] |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.11.RELEASE:compile\n[INFO] |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.69:compile\n[INFO] |  |        +- org.bouncycastle:bcprov-jdk15on:jar:1.69:compile\n[INFO] |  |        \\- org.bouncycastle:bcutil-jdk15on:jar:1.69:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-vault-config:jar:3.1.1:compile\n[INFO] |  \\- org.springframework.vault:spring-vault-core:jar:2.3.2:compile\n</code></pre>\n<p>In the above dependency tree, you can see that two dependencies versions are <code>spring-cloud-vault-config:3.1.1</code> and <code>spring-vault-core:2.3.2</code>.</p>\n<p>I added these dependencies manually in my application <code>pom.xml</code> with their latest versions to <strong>resolve</strong> the issue.</p>\n<p><a href=\"https://central.sonatype.com/artifact/org.springframework.vault/spring-vault-core/3.0.1\" rel=\"nofollow noreferrer\">spring-cloud-vault-config:4.0.0</a> and <a href=\"https://central.sonatype.com/artifact/org.springframework.vault/spring-vault-core/3.0.1\" rel=\"nofollow noreferrer\">spring-vault-core:3.0.1</a>.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-vault-config&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.vault&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-vault-core&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The dependency tree after manually adding the two dependencies.</p>\n<pre><code>[INFO] +- org.springframework.cloud:spring-cloud-starter-vault-config:jar:4.0.0:compile\n[INFO] |  +- org.apache.httpcomponents.client5:httpclient5:jar:5.1.4:compile\n[INFO] |  |  \\- org.apache.httpcomponents.core5:httpcore5-h2:jar:5.1.5:compile\n[INFO] |  +- org.apache.httpcomponents.core5:httpcore5:jar:5.1.5:compile\n[INFO] |  \\- org.springframework.cloud:spring-cloud-starter:jar:3.1.5:compile\n[INFO] |     +- org.springframework.cloud:spring-cloud-context:jar:3.1.5:compile\n[INFO] |     +- org.springframework.cloud:spring-cloud-commons:jar:3.1.5:compile\n[INFO] |     \\- org.springframework.security:spring-security-rsa:jar:1.0.11.RELEASE:compile\n[INFO] |        \\- org.bouncycastle:bcpkix-jdk15on:jar:1.69:compile\n[INFO] |           +- org.bouncycastle:bcprov-jdk15on:jar:1.69:compile\n[INFO] |           \\- org.bouncycastle:bcutil-jdk15on:jar:1.69:compile\n[INFO] +- org.springframework.cloud:spring-cloud-vault-config:jar:4.0.0:compile\n[INFO] |  \\- org.springframework:spring-web:jar:6.0.6:compile\n[INFO] +- org.springframework.vault:spring-vault-core:jar:3.0.1:compile\n[INFO] |  +- org.springframework:spring-core:jar:6.0.6:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.6:compile\n[INFO] |  +- org.springframework:spring-context:jar:6.0.6:compile\n[INFO] |  \\- org.springframework:spring-beans:jar:6.0.6:compile\n</code></pre>\n"}],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6054,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1679089859,"creation_date":1677091294,"question_id":75536902,"body_markdown":"I had to upgrade the Spring Boot dependency **2.7.5 --&gt; 3.0.2**:\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\r\nThe `pom.xml` currently references a relatively new version of `HttpClient`, **4.5.3**:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.5.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nThe code uses the `org.apache.http` classes which now produce the following error on Maven Build:\r\n\r\n    import org.apache.http.conn.ssl.SSLConnectionSocketFactory;\r\n    import org.apache.http.conn.ssl.TrustSelfSignedStrategy;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    import org.apache.http.ssl.SSLContextBuilder;\r\n\r\n--&gt;\r\n**incompatible types: org.apache.http.impl.client.CloseableHttpClient cannot be converted to org.apache.hc.client5.http.classic.HttpClient**\r\n\r\nTo tackle this error, I replaced all occurrences of `org.apache.http` with `org.apache.hc.httpclient5` per https://hc.apache.org/httpcomponents-client-5.2.x/migration-guide/migration-to-classic.html :\r\n\r\n    import org.apache.hc.httpclient5.conn.ssl.SSLConnectionSocketFactory;\r\n    import org.apache.hc.httpclient5.conn.ssl.TrustSelfSignedStrategy;\r\n    import org.apache.hc.httpclient5.impl.client.CloseableHttpClient;\r\n    import org.apache.hc.httpclient5.impl.client.HttpClients;\r\n    import org.apache.hc.httpclient5.ssl.SSLContextBuilder;\r\n\r\nBut now the error is\r\n**package org.apache.hc.httpclient5.conn.ssl does not exist** . It can&#39;t resolve the HC5 package. Any tips?\r\n[![enter image description here][1]][1]\r\n\r\nNOTE: I also tried replacing the HttpClient dependency with the new **httpclient5** dependency, but it&#39;s the same error:\r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n\t    &lt;version&gt;5.2.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/DOBDs.jpg","title":"&quot;Package org.apache.hc.httpclient5.conn.ssl does not exist&quot; on Spring Boot upgrade","body":"<p>I had to upgrade the Spring Boot dependency <strong>2.7.5 --&gt; 3.0.2</strong>:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;relativePath /&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>The <code>pom.xml</code> currently references a relatively new version of <code>HttpClient</code>, <strong>4.5.3</strong>:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.5.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The code uses the <code>org.apache.http</code> classes which now produce the following error on Maven Build:</p>\n<pre><code>import org.apache.http.conn.ssl.SSLConnectionSocketFactory;\nimport org.apache.http.conn.ssl.TrustSelfSignedStrategy;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.ssl.SSLContextBuilder;\n</code></pre>\n<p>--&gt;\n<strong>incompatible types: org.apache.http.impl.client.CloseableHttpClient cannot be converted to org.apache.hc.client5.http.classic.HttpClient</strong></p>\n<p>To tackle this error, I replaced all occurrences of <code>org.apache.http</code> with <code>org.apache.hc.httpclient5</code> per <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/migration-guide/migration-to-classic.html\" rel=\"nofollow noreferrer\">https://hc.apache.org/httpcomponents-client-5.2.x/migration-guide/migration-to-classic.html</a> :</p>\n<pre><code>import org.apache.hc.httpclient5.conn.ssl.SSLConnectionSocketFactory;\nimport org.apache.hc.httpclient5.conn.ssl.TrustSelfSignedStrategy;\nimport org.apache.hc.httpclient5.impl.client.CloseableHttpClient;\nimport org.apache.hc.httpclient5.impl.client.HttpClients;\nimport org.apache.hc.httpclient5.ssl.SSLContextBuilder;\n</code></pre>\n<p>But now the error is\n<strong>package org.apache.hc.httpclient5.conn.ssl does not exist</strong> . It can't resolve the HC5 package. Any tips?\n<a href=\"https://i.stack.imgur.com/DOBDs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DOBDs.jpg\" alt=\"enter image description here\" /></a></p>\n<p>NOTE: I also tried replacing the HttpClient dependency with the new <strong>httpclient5</strong> dependency, but it's the same error:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n    &lt;version&gt;5.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","mp4","exoplayer"],"answers":[{"tags":[],"owner":{"account_id":20504590,"reputation":41,"user_id":15047713,"display_name":"HarryVu176"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678483066,"creation_date":1678483066,"answer_id":75701094,"question_id":75701022,"body_markdown":"DASH files is temporary files created during a MPEG-DASH video stream (Youtube, Crunchyroll etc...) and I believe unless the owner gives you MP4 direct stream, there is no way you can get MP4 unless you can get the whole segments of the video and then convert it to MP4 later? ","title":"Download Dash to mp4 with exoplayer","body":"<p>DASH files is temporary files created during a MPEG-DASH video stream (Youtube, Crunchyroll etc...) and I believe unless the owner gives you MP4 direct stream, there is no way you can get MP4 unless you can get the whole segments of the video and then convert it to MP4 later?</p>\n"},{"tags":[],"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679089005,"creation_date":1679089005,"answer_id":75772434,"question_id":75701022,"body_markdown":"ExoPLayer includes documentation on downloading adaptive streams (DASH. HLS etc) using a download helper. By default it should download the highest quality track available, rather than all the tracks.\r\n\r\nDocumentation is available here: https://exoplayer.dev/downloading-media.html#downloading-and-playing-adaptive-streams\r\n\r\nThis includes the example below, shared here in case the link changes:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    DownloadHelper downloadHelper =\r\n        DownloadHelper.forMediaItem(\r\n            context,\r\n            MediaItem.fromUri(contentUri),\r\n            new DefaultRenderersFactory(context),\r\n            dataSourceFactory);\r\n    downloadHelper.prepare(myCallback);\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Download Dash to mp4 with exoplayer","body":"<p>ExoPLayer includes documentation on downloading adaptive streams (DASH. HLS etc) using a download helper. By default it should download the highest quality track available, rather than all the tracks.</p>\n<p>Documentation is available here: <a href=\"https://exoplayer.dev/downloading-media.html#downloading-and-playing-adaptive-streams\" rel=\"nofollow noreferrer\">https://exoplayer.dev/downloading-media.html#downloading-and-playing-adaptive-streams</a></p>\n<p>This includes the example below, shared here in case the link changes:</p>\n<pre class=\"lang-js prettyprint-override\"><code>DownloadHelper downloadHelper =\n    DownloadHelper.forMediaItem(\n        context,\n        MediaItem.fromUri(contentUri),\n        new DefaultRenderersFactory(context),\n        dataSourceFactory);\ndownloadHelper.prepare(myCallback);\n</code></pre>\n"}],"owner":{"account_id":25673852,"reputation":1,"user_id":19437634,"display_name":"Alejandro Giraudo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679089237,"creation_date":1678482422,"question_id":75701022,"body_markdown":"I want to download a video that is in Dash format using exoplayer. The following code downloads the video for me but in multiple files.\r\n\r\n\timport android.app.Notification\r\n\timport android.os.Environment\r\n\timport android.util.Log\r\n\timport ar.com.flow.iot.R\r\n\timport com.google.android.exoplayer2.database.StandaloneDatabaseProvider\r\n\timport com.google.android.exoplayer2.offline.Download\r\n\timport com.google.android.exoplayer2.offline.DownloadManager\r\n\timport com.google.android.exoplayer2.offline.DownloadService\r\n\timport com.google.android.exoplayer2.scheduler.Scheduler\r\n\timport com.google.android.exoplayer2.ui.DownloadNotificationHelper\r\n\timport com.google.android.exoplayer2.upstream.DefaultHttpDataSource\r\n\timport com.google.android.exoplayer2.upstream.cache.LeastRecentlyUsedCacheEvictor\r\n\timport com.google.android.exoplayer2.upstream.cache.SimpleCache\r\n\timport java.io.File\r\n\timport java.util.concurrent.Executor\r\n\r\n\r\n\tclass MyDownloadService : DownloadService(\r\n\t\tFOREGROUND_NOTIFICATION_ID,\r\n\t\t1000,\r\n\t\tDOWNLOAD_NOTIFICATION_CHANNEL_ID,\r\n\t\tR.string.exo_download_notification_channel_name,\r\n\t\t0\r\n\t) {\r\n\r\n\t\toverride fun getDownloadManager(): DownloadManager {\r\n\r\n\t\t\tLog.w(&quot;TAGGG_DOWNLOAD&quot;, &quot;getDownloadManager&quot;)\r\n\r\n\t\t\tval databaseProvider = StandaloneDatabaseProvider(this)\r\n\r\n\t\t\tval downloadsDirectory = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\r\n\r\n\t\t\tval cacheDirectory = File(downloadsDirectory, &quot;media_cache&quot;)\r\n\r\n\t\t\tval cacheEvictionPolicy = LeastRecentlyUsedCacheEvictor(50 * 1024 * 1024) // 50 MB\r\n\r\n\t\t\tval downloadCache = SimpleCache(\r\n\t\t\t\tcacheDirectory,\r\n\t\t\t\tcacheEvictionPolicy,\r\n\t\t\t\tdatabaseProvider\r\n\t\t\t)\r\n\r\n\t\t\tval dataSourceFactory = DefaultHttpDataSource.Factory()\r\n\r\n\t\t\tval downloadExecutor = Executor { obj: Runnable -&gt; obj.run() }\r\n\r\n\t\t\tval downloadManager = DownloadManager(\r\n\t\t\t\tthis,\r\n\t\t\t\tdatabaseProvider,\r\n\t\t\t\tdownloadCache,\r\n\t\t\t\tdataSourceFactory,\r\n\t\t\t\tdownloadExecutor\r\n\t\t\t)\r\n\r\n\t\t\t// Optionally, setters can be called to configure the download manager.\r\n\t\t\t//downloadManager.requirements = requirements;\r\n\t\t\tdownloadManager.maxParallelDownloads = 3;\r\n\r\n\t\t\treturn downloadManager\r\n\r\n\t\t}\r\n\r\n\t\toverride fun getScheduler(): Scheduler? {\r\n\t\t\tLog.e(&quot;TAGGG_DOWNLOAD&quot;, &quot;Falta implementar getScheduler &quot;)\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t\toverride fun getForegroundNotification(\r\n\t\t\tdownloads: MutableList&lt;Download&gt;,\r\n\t\t\tnotMetRequirements: Int\r\n\t\t): Notification {\r\n\t\t\tLog.w(&quot;TAGGG_DOWNLOAD&quot;, &quot;getForegroundNotification $downloads $notMetRequirements &quot;)\r\n\r\n\t\t\treturn DownloadNotificationHelper(this, DOWNLOAD_NOTIFICATION_CHANNEL_ID).buildProgressNotification(\r\n\t\t\t\tthis,\r\n\t\t\t\tR.drawable.ic_icon_help,\r\n\t\t\t\tnull,\r\n\t\t\t\tnull,\r\n\t\t\t\tdownloads,\r\n\t\t\t\tnotMetRequirements\r\n\t\t\t)\r\n\r\n\t\t}\r\n\r\n\t\tcompanion object {\r\n\r\n\t\t\tprivate const val FOREGROUND_NOTIFICATION_ID = 1\r\n\r\n\t\t\tconst val DOWNLOAD_NOTIFICATION_CHANNEL_ID = &quot;download channel id&quot;\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tprivate fun downloadVideo(uri:Uri) {\r\n\t\tval downloadRequest = DownloadRequest.Builder(id, uri).build()\r\n\r\n\t\tDownloadService.sendAddDownload(\r\n\t\t\tthis,\r\n\t\t\tMyDownloadService::class.java,\r\n\t\t\tdownloadRequest,\r\n\t\t\tfalse\r\n\t\t)\r\n\t}\r\n\r\n\r\n\r\nHow should the code be so that the saved file has mp4 format?\r\n\r\nThank you so much\r\n\r\n\r\n\r\nI think the problem is due to &quot;dataSourceFactory&quot;, I tried some variants, like DefaultDataSourceFactory but I couldn&#39;t make ir work.\r\n","title":"Download Dash to mp4 with exoplayer","body":"<p>I want to download a video that is in Dash format using exoplayer. The following code downloads the video for me but in multiple files.</p>\n<pre><code>import android.app.Notification\nimport android.os.Environment\nimport android.util.Log\nimport ar.com.flow.iot.R\nimport com.google.android.exoplayer2.database.StandaloneDatabaseProvider\nimport com.google.android.exoplayer2.offline.Download\nimport com.google.android.exoplayer2.offline.DownloadManager\nimport com.google.android.exoplayer2.offline.DownloadService\nimport com.google.android.exoplayer2.scheduler.Scheduler\nimport com.google.android.exoplayer2.ui.DownloadNotificationHelper\nimport com.google.android.exoplayer2.upstream.DefaultHttpDataSource\nimport com.google.android.exoplayer2.upstream.cache.LeastRecentlyUsedCacheEvictor\nimport com.google.android.exoplayer2.upstream.cache.SimpleCache\nimport java.io.File\nimport java.util.concurrent.Executor\n\n\nclass MyDownloadService : DownloadService(\n    FOREGROUND_NOTIFICATION_ID,\n    1000,\n    DOWNLOAD_NOTIFICATION_CHANNEL_ID,\n    R.string.exo_download_notification_channel_name,\n    0\n) {\n\n    override fun getDownloadManager(): DownloadManager {\n\n        Log.w(&quot;TAGGG_DOWNLOAD&quot;, &quot;getDownloadManager&quot;)\n\n        val databaseProvider = StandaloneDatabaseProvider(this)\n\n        val downloadsDirectory = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\n\n        val cacheDirectory = File(downloadsDirectory, &quot;media_cache&quot;)\n\n        val cacheEvictionPolicy = LeastRecentlyUsedCacheEvictor(50 * 1024 * 1024) // 50 MB\n\n        val downloadCache = SimpleCache(\n            cacheDirectory,\n            cacheEvictionPolicy,\n            databaseProvider\n        )\n\n        val dataSourceFactory = DefaultHttpDataSource.Factory()\n\n        val downloadExecutor = Executor { obj: Runnable -&gt; obj.run() }\n\n        val downloadManager = DownloadManager(\n            this,\n            databaseProvider,\n            downloadCache,\n            dataSourceFactory,\n            downloadExecutor\n        )\n\n        // Optionally, setters can be called to configure the download manager.\n        //downloadManager.requirements = requirements;\n        downloadManager.maxParallelDownloads = 3;\n\n        return downloadManager\n\n    }\n\n    override fun getScheduler(): Scheduler? {\n        Log.e(&quot;TAGGG_DOWNLOAD&quot;, &quot;Falta implementar getScheduler &quot;)\n        return null\n    }\n\n    override fun getForegroundNotification(\n        downloads: MutableList&lt;Download&gt;,\n        notMetRequirements: Int\n    ): Notification {\n        Log.w(&quot;TAGGG_DOWNLOAD&quot;, &quot;getForegroundNotification $downloads $notMetRequirements &quot;)\n\n        return DownloadNotificationHelper(this, DOWNLOAD_NOTIFICATION_CHANNEL_ID).buildProgressNotification(\n            this,\n            R.drawable.ic_icon_help,\n            null,\n            null,\n            downloads,\n            notMetRequirements\n        )\n\n    }\n\n    companion object {\n\n        private const val FOREGROUND_NOTIFICATION_ID = 1\n\n        const val DOWNLOAD_NOTIFICATION_CHANNEL_ID = &quot;download channel id&quot;\n\n    }\n}\n\nprivate fun downloadVideo(uri:Uri) {\n    val downloadRequest = DownloadRequest.Builder(id, uri).build()\n\n    DownloadService.sendAddDownload(\n        this,\n        MyDownloadService::class.java,\n        downloadRequest,\n        false\n    )\n}\n</code></pre>\n<p>How should the code be so that the saved file has mp4 format?</p>\n<p>Thank you so much</p>\n<p>I think the problem is due to &quot;dataSourceFactory&quot;, I tried some variants, like DefaultDataSourceFactory but I couldn't make ir work.</p>\n"},{"tags":["java","spring-boot","orm","many-to-many"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1679105749,"post_id":75772401,"comment_id":133666723,"body_markdown":"[This](https://www.baeldung.com/jpa-many-to-many) might point you in the right direction, but without seeing the schema I’m having a hard time picturing this as a many-to-many.","body":"<a href=\"https://www.baeldung.com/jpa-many-to-many\" rel=\"nofollow noreferrer\">This</a> might point you in the right direction, but without seeing the schema I’m having a hard time picturing this as a many-to-many."}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679088685,"creation_date":1679088685,"question_id":75772401,"body_markdown":"I have a problem to implement a relationship between location and hourlyWeather through EmbeddedId in Spring Boot.\r\n\r\nHere is the Location class shown below\r\n\r\n    @OneToMany(mappedBy = &quot;id.location&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;HourlyWeather&gt; listHourlyWeather = new ArrayList&lt;&gt;();\r\n\r\nHere is the HourlyWeather class shown below\r\n\r\n    @Entity\r\n    @Table(name = &quot;weather_hourly&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class HourlyWeather {\r\n    \r\n        @EmbeddedId\r\n        private HourlyWeatherId id = new HourlyWeatherId();\r\n    \r\n        private int temperature;\r\n        private int precipitation;\r\n    \r\n        @Column(length = 50)\r\n        private String status;\r\n    \r\n        public HourlyWeather temperature(int temp) {\r\n            setTemperature(temp);\r\n            return this;\r\n        }\r\n    \r\n        public HourlyWeather id(Location location, int hour) {\r\n            this.id.setHourOfDay(hour);\r\n            this.id.setLocation(location);\r\n            return this;\r\n        }\r\n    \r\n        public HourlyWeather precipitation(int precipitation) {\r\n            setPrecipitation(precipitation);\r\n            return this;\r\n        }\r\n    \r\n        public HourlyWeather status(String status) {\r\n            setStatus(status);\r\n            return this;\r\n        }\r\n    \r\n        public HourlyWeather location(Location location) {\r\n            this.id.setLocation(location);\r\n            return this;\r\n        }\r\n    \r\n        public HourlyWeather hourOfDay(int hour) {\r\n            this.id.setHourOfDay(hour);\r\n            return this;\r\n        }\r\n    }\r\n\r\nHere is the HourlyWeatherId class shown below\r\n\r\n    @Embeddable\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class HourlyWeatherId implements Serializable {\r\n    \r\n        private int hourOfDay;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;location_code&quot;)\r\n        private Location location;\r\n    \r\n    }\r\n\r\nHere is the HourlyWeatherRepository interface shown below\r\n\r\n    public interface HourlyWeatherRepository extends JpaRepository&lt;HourlyWeather, HourlyWeatherId&gt; \r\n    {\r\n    \r\n    }\r\n\r\n\r\nI get this issue as shown in the screenshot\r\n\r\n[![Image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qDHYk.png\r\n\r\nHow can I fix it?","title":"Many to Many Relationship throws Can&#39;t find inverse attribute in Intellij Idea","body":"<p>I have a problem to implement a relationship between location and hourlyWeather through EmbeddedId in Spring Boot.</p>\n<p>Here is the Location class shown below</p>\n<pre><code>@OneToMany(mappedBy = &quot;id.location&quot;, cascade = CascadeType.ALL)\nprivate List&lt;HourlyWeather&gt; listHourlyWeather = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Here is the HourlyWeather class shown below</p>\n<pre><code>@Entity\n@Table(name = &quot;weather_hourly&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class HourlyWeather {\n\n    @EmbeddedId\n    private HourlyWeatherId id = new HourlyWeatherId();\n\n    private int temperature;\n    private int precipitation;\n\n    @Column(length = 50)\n    private String status;\n\n    public HourlyWeather temperature(int temp) {\n        setTemperature(temp);\n        return this;\n    }\n\n    public HourlyWeather id(Location location, int hour) {\n        this.id.setHourOfDay(hour);\n        this.id.setLocation(location);\n        return this;\n    }\n\n    public HourlyWeather precipitation(int precipitation) {\n        setPrecipitation(precipitation);\n        return this;\n    }\n\n    public HourlyWeather status(String status) {\n        setStatus(status);\n        return this;\n    }\n\n    public HourlyWeather location(Location location) {\n        this.id.setLocation(location);\n        return this;\n    }\n\n    public HourlyWeather hourOfDay(int hour) {\n        this.id.setHourOfDay(hour);\n        return this;\n    }\n}\n</code></pre>\n<p>Here is the HourlyWeatherId class shown below</p>\n<pre><code>@Embeddable\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class HourlyWeatherId implements Serializable {\n\n    private int hourOfDay;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;location_code&quot;)\n    private Location location;\n\n}\n</code></pre>\n<p>Here is the HourlyWeatherRepository interface shown below</p>\n<pre><code>public interface HourlyWeatherRepository extends JpaRepository&lt;HourlyWeather, HourlyWeatherId&gt; \n{\n\n}\n</code></pre>\n<p>I get this issue as shown in the screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/qDHYk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qDHYk.png\" alt=\"Image\" /></a></p>\n<p>How can I fix it?</p>\n"},{"tags":["java","spring","spring-boot","spring-annotations","properties-file"],"comments":[{"owner":{"account_id":272754,"reputation":4027,"user_id":564005,"accept_rate":55,"display_name":"Nicolas Labrot"},"score":0,"creation_date":1491422797,"post_id":43238583,"comment_id":73551447,"body_markdown":"Possible duplicate of [How to correctly specify a default value in the Spring @Value annotation?](http://stackoverflow.com/questions/26916598/how-to-correctly-specify-a-default-value-in-the-spring-value-annotation)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/26916598/how-to-correctly-specify-a-default-value-in-the-spring-value-annotation\">How to correctly specify a default value in the Spring @Value annotation?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1491418547,"creation_date":1491418547,"answer_id":43239438,"question_id":43238583,"body_markdown":"Just use:\r\n\r\n    @Value(&quot;${secret:default-secret-value}&quot;)\r\n    private String ldapSecret;\r\n\r\n","title":"Spring @Value annotated method, use default value when properties not available","body":"<p>Just use:</p>\n\n<pre><code>@Value(\"${secret:default-secret-value}\")\nprivate String ldapSecret;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4687364,"reputation":2017,"user_id":3794466,"accept_rate":61,"display_name":"Bernie Lenz"},"down_vote_count":1,"up_vote_count":39,"is_accepted":true,"score":38,"last_activity_date":1491420551,"creation_date":1491420551,"answer_id":43240024,"question_id":43238583,"body_markdown":"To answer your question exactly...\r\n\r\n    @Value(&quot;${secret:secret}&quot;)\r\n    private String ldapSecret;\r\n\r\nAnd a few more variations are below for completeness of the examples...\r\n\r\nDefault a String to null:\r\n\r\n    @Value(&quot;${secret:#{null}}&quot;)\r\n    private String secret;\r\n\r\nDefault a number:\r\n\r\n    @Value(&quot;${someNumber:0}&quot;)\r\n    private int someNumber;\r\n\r\n","title":"Spring @Value annotated method, use default value when properties not available","body":"<p>To answer your question exactly...</p>\n\n<pre><code>@Value(\"${secret:secret}\")\nprivate String ldapSecret;\n</code></pre>\n\n<p>And a few more variations are below for completeness of the examples...</p>\n\n<p>Default a String to null:</p>\n\n<pre><code>@Value(\"${secret:#{null}}\")\nprivate String secret;\n</code></pre>\n\n<p>Default a number:</p>\n\n<pre><code>@Value(\"${someNumber:0}\")\nprivate int someNumber;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491420734,"creation_date":1491420734,"answer_id":43240070,"question_id":43238583,"body_markdown":"    @Value and Property Examples\r\n    To set a default value for property placeholder :\r\n    \r\n    ${property:default value}\r\n    Few examples :\r\n    \r\n    //@PropertySource(&quot;classpath:/config.properties}&quot;)\r\n    //@Configuration\r\n    \r\n    @Value(&quot;${mongodb.url:127.0.0.1}&quot;)\r\n    private String mongodbUrl;\r\n    \r\n    @Value(&quot;#{&#39;${mongodb.url:172.0.0.1}&#39;}&quot;)\r\n    private String mongodbUrl;\r\n    \r\n    @Value(&quot;#{config[&#39;mongodb.url&#39;]?:&#39;127.0.0.1&#39;}&quot;)\r\n    private String mongodbUrl;","title":"Spring @Value annotated method, use default value when properties not available","body":"<pre><code>@Value and Property Examples\nTo set a default value for property placeholder :\n\n${property:default value}\nFew examples :\n\n//@PropertySource(\"classpath:/config.properties}\")\n//@Configuration\n\n@Value(\"${mongodb.url:127.0.0.1}\")\nprivate String mongodbUrl;\n\n@Value(\"#{'${mongodb.url:172.0.0.1}'}\")\nprivate String mongodbUrl;\n\n@Value(\"#{config['mongodb.url']?:'127.0.0.1'}\")\nprivate String mongodbUrl;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1753737,"reputation":56,"user_id":1602240,"display_name":"Vinh"},"down_vote_count":8,"up_vote_count":1,"is_accepted":false,"score":-7,"last_activity_date":1581641592,"creation_date":1581641592,"answer_id":60218579,"question_id":43238583,"body_markdown":"Actually the default value will be ALWAYS used. To overcome this, I use a String value\r\n\r\n    @Value(&quot;${prop}&quot;)\r\n    String propValue;//if no prop defined, the propValue is set to the literal &quot;${prop}&quot;\r\n    ....\r\n    if(&quot;${prop}&quot;.equals(propValue)) {\r\n         propValue=defaultValue\r\n    }","title":"Spring @Value annotated method, use default value when properties not available","body":"<p>Actually the default value will be ALWAYS used. To overcome this, I use a String value</p>\n\n<pre><code>@Value(\"${prop}\")\nString propValue;//if no prop defined, the propValue is set to the literal \"${prop}\"\n....\nif(\"${prop}\".equals(propValue)) {\n     propValue=defaultValue\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25861791,"reputation":1,"user_id":19594144,"display_name":"ashwins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658731990,"creation_date":1658404938,"answer_id":73065809,"question_id":43238583,"body_markdown":"    @value(key.name:xyz)\r\n\r\nSpring will give the first priority to read the value from the property file, If that doesn&#39;t exist then it will takes the default value(here &#39;xyz&#39; is the default value).\r\n\r\nThere should not be any space to the key(key.name) before and after.\r\n","title":"Spring @Value annotated method, use default value when properties not available","body":"<pre><code>@value(key.name:xyz)\n</code></pre>\n<p>Spring will give the first priority to read the value from the property file, If that doesn't exist then it will takes the default value(here 'xyz' is the default value).</p>\n<p>There should not be any space to the key(key.name) before and after.</p>\n"}],"owner":{"account_id":952426,"reputation":1868,"user_id":978302,"accept_rate":60,"display_name":"RenatoIvancic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44378,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":43240024,"answer_count":5,"score":25,"last_activity_date":1679088659,"creation_date":1491415651,"question_id":43238583,"body_markdown":"# Situation\r\n\r\nI am injecting properties from **.properties** file into fields annotated with **@Value**. However this properties present sensitive credentials, so I remove them from repository. I still want that in case someone wants to run project and doesnt have .properties file with credentials that default values will be set to fields.\r\n\r\n# Problem\r\n\r\nEven if I set default values to field itself I get exception when .properties file is not present:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;xxx&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;secret&#39; in string value &quot;${secret}&quot;\r\n\r\nHere is the annotated field:\r\n\r\n  \r\n     @Value(&quot;${secret}&quot;)\r\n     private String ldapSecret = &quot;secret&quot;;\r\n\r\nI expected in this case just plain String &quot;secret&quot; would be set.\r\n\r\n","title":"Spring @Value annotated method, use default value when properties not available","body":"<h1>Situation</h1>\n\n<p>I am injecting properties from <strong>.properties</strong> file into fields annotated with <strong>@Value</strong>. However this properties present sensitive credentials, so I remove them from repository. I still want that in case someone wants to run project and doesnt have .properties file with credentials that default values will be set to fields.</p>\n\n<h1>Problem</h1>\n\n<p>Even if I set default values to field itself I get exception when .properties file is not present:</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'xxx': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'secret' in string value \"${secret}\"\n</code></pre>\n\n<p>Here is the annotated field:</p>\n\n<pre><code> @Value(\"${secret}\")\n private String ldapSecret = \"secret\";\n</code></pre>\n\n<p>I expected in this case just plain String \"secret\" would be set.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":1,"creation_date":1679064252,"post_id":75768437,"comment_id":133658956,"body_markdown":"configuration looks right, you don&#39;t have any other configuration class, right ? and maybe add this and retry `.antMatchers(h2ConsolePath + &quot;/**&quot;).csrf().disable()`","body":"configuration looks right, you don&#39;t have any other configuration class, right ? and maybe add this and retry <code>.antMatchers(h2ConsolePath + &quot;&#47;**&quot;).csrf().disable()</code>"},{"owner":{"account_id":23645579,"reputation":17,"user_id":17675268,"display_name":"sandro"},"score":0,"creation_date":1679064577,"post_id":75768437,"comment_id":133659064,"body_markdown":"I can&#39;t add antMatchers, I think it is deprecated and that requestMatchers does more or less the same thing?","body":"I can&#39;t add antMatchers, I think it is deprecated and that requestMatchers does more or less the same thing?"},{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1681124119,"post_id":75768437,"comment_id":134001792,"body_markdown":"For h2-console, you have to add the servletPath to the matcher, see here https://github.com/spring-projects/spring-security/issues/12310#issuecomment-1328990026","body":"For h2-console, you have to add the servletPath to the matcher, see here <a href=\"https://github.com/spring-projects/spring-security/issues/12310#issuecomment-1328990026\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/issues/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23645579,"reputation":17,"user_id":17675268,"display_name":"sandro"},"down_vote_count":3,"up_vote_count":0,"is_accepted":true,"score":-3,"last_activity_date":1679088019,"creation_date":1679073853,"answer_id":75770478,"question_id":75768437,"body_markdown":"So after hours of pain and suffering I finally found the solution. I went back to Java version 1.8 and used `antMatchers` instead of `requestMatchers`.\r\n\r\nSo this is my final code:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n      @Bean\r\n      public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .cors()\r\n                .and()\r\n            .csrf().disable()\r\n            .exceptionHandling()\r\n                .authenticationEntryPoint(unauthorizedHandler)\r\n                .and()\r\n            .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n            .authorizeHttpRequests()\r\n                .antMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                .antMatchers(&quot;/api/test/**&quot;).permitAll()\r\n                .antMatchers(h2ConsolePath + &quot;/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n        \r\n        http\r\n            .headers()\r\n                .frameOptions().sameOrigin();\r\n        \r\n        http\r\n            .authenticationProvider(authenticationProvider());\r\n    \r\n        http\r\n            .addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n        \r\n        return http.build();\r\n      }","title":"requestMatchers(&quot;&quot;).permitAll() does not work","body":"<p>So after hours of pain and suffering I finally found the solution. I went back to Java version 1.8 and used <code>antMatchers</code> instead of <code>requestMatchers</code>.</p>\n<p>So this is my final code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        .cors()\n            .and()\n        .csrf().disable()\n        .exceptionHandling()\n            .authenticationEntryPoint(unauthorizedHandler)\n            .and()\n        .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n        .authorizeHttpRequests()\n            .antMatchers(&quot;/api/auth/**&quot;).permitAll()\n            .antMatchers(&quot;/api/test/**&quot;).permitAll()\n            .antMatchers(h2ConsolePath + &quot;/**&quot;).permitAll()\n            .anyRequest().authenticated();\n    \n    http\n        .headers()\n            .frameOptions().sameOrigin();\n    \n    http\n        .authenticationProvider(authenticationProvider());\n\n    http\n        .addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n    \n    return http.build();\n  }\n</code></pre>\n"}],"owner":{"account_id":23645579,"reputation":17,"user_id":17675268,"display_name":"sandro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1665,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75770478,"answer_count":1,"score":2,"last_activity_date":1679088288,"creation_date":1679061338,"question_id":75768437,"body_markdown":"I&#39;m trying to implement a controller authentication using Spring Boot security.\r\n\r\nWhen customizing my `filterChain` I get 401 Unauthorized for resources I have specifically permitted.\r\n\r\n```java\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http\r\n        .cors()\r\n            .and()\r\n        .csrf().disable()\r\n        .exceptionHandling()\r\n            .authenticationEntryPoint(unauthorizedHandler)\r\n            .and()\r\n        .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n        .authorizeHttpRequests()\r\n            .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n            .requestMatchers(&quot;/api/test/**&quot;).permitAll()\r\n            .requestMatchers(h2ConsolePath + &quot;/**&quot;).permitAll()\r\n            .anyRequest().authenticated();\r\n\r\n        http\r\n            .headers()\r\n                .frameOptions().sameOrigin();\r\n\r\n        http\r\n            .authenticationProvider(authenticationProvider());\r\n\r\n        http\r\n            .addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n```\r\n\r\nFor example I want to access my h2-console and I don&#39;t want any authentication to happen when I access the h2-console. But I still get an error message with the status code 403 Forbidden.\r\n\r\nEven when I remove this line `.anyRequest().authenticated();` I get the same error, which makes me think that this whole filter chain doesn&#39;t get applied maybe? But when I debug it and set a breakpoint inside the method the program jumps inside the method, so it should get applied?\r\nAfter many hours of research I&#39;m not sure how to proceed.\r\n\r\n**Edit:**\r\n\r\nI also added a `TestController` with a `TestResource` and without the `@PreAuthorize` annotation and when I test it in Postman I get this error message: \r\n\r\n&gt; Full authentication is required to access this resource\r\n\r\nAs already mention I have the feeling that the filter chain isn&#39;t applied because even when I remove `.anyRequest().authenticated` the same error still occures, so it doesn&#39;t really make sense to me.","title":"requestMatchers(&quot;&quot;).permitAll() does not work","body":"<p>I'm trying to implement a controller authentication using Spring Boot security.</p>\n<p>When customizing my <code>filterChain</code> I get 401 Unauthorized for resources I have specifically permitted.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        .cors()\n            .and()\n        .csrf().disable()\n        .exceptionHandling()\n            .authenticationEntryPoint(unauthorizedHandler)\n            .and()\n        .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n        .authorizeHttpRequests()\n            .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\n            .requestMatchers(&quot;/api/test/**&quot;).permitAll()\n            .requestMatchers(h2ConsolePath + &quot;/**&quot;).permitAll()\n            .anyRequest().authenticated();\n\n        http\n            .headers()\n                .frameOptions().sameOrigin();\n\n        http\n            .authenticationProvider(authenticationProvider());\n\n        http\n            .addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n</code></pre>\n<p>For example I want to access my h2-console and I don't want any authentication to happen when I access the h2-console. But I still get an error message with the status code 403 Forbidden.</p>\n<p>Even when I remove this line <code>.anyRequest().authenticated();</code> I get the same error, which makes me think that this whole filter chain doesn't get applied maybe? But when I debug it and set a breakpoint inside the method the program jumps inside the method, so it should get applied?\nAfter many hours of research I'm not sure how to proceed.</p>\n<p><strong>Edit:</strong></p>\n<p>I also added a <code>TestController</code> with a <code>TestResource</code> and without the <code>@PreAuthorize</code> annotation and when I test it in Postman I get this error message:</p>\n<blockquote>\n<p>Full authentication is required to access this resource</p>\n</blockquote>\n<p>As already mention I have the feeling that the filter chain isn't applied because even when I remove <code>.anyRequest().authenticated</code> the same error still occures, so it doesn't really make sense to me.</p>\n"},{"tags":["java","android","plugins"],"comments":[{"owner":{"account_id":18364441,"reputation":275,"user_id":13375840,"display_name":"zyngot"},"score":0,"creation_date":1679088377,"post_id":75772307,"comment_id":133664810,"body_markdown":"just download the latest jdk and replace it with the one in `C:\\Program Files (x86)\\Java\\jdk1.8.0_251\\jre*`","body":"just download the latest jdk and replace it with the one in <code>C:\\Program Files (x86)\\Java\\jdk1.8.0_251\\jre*</code>"},{"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"score":0,"creation_date":1679306263,"post_id":75772307,"comment_id":133691548,"body_markdown":"There&#39;s a setting in Android Studio for the JDK it uses, it can be different from the one JAVA_HOME points to. Can you check that?","body":"There&#39;s a setting in Android Studio for the JDK it uses, it can be different from the one JAVA_HOME points to. Can you check that?"}],"owner":{"account_id":931519,"reputation":2174,"user_id":961331,"accept_rate":88,"display_name":"DontPanic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679087868,"creation_date":1679087868,"question_id":75772307,"body_markdown":"I recently upgraded to Android Studio Dolphin 2021.3.1 and when I try to Build an old project I get an error about wrong plugin. In particular:\r\n\r\n    Build file &#39;C:\\dev\\AndroidProjects\\Apps\\Gmap3\\app\\build.gradle&#39; line: 2\r\n    An exception occurred applying plugin request [id: &#39;com.android.application&#39;]\r\n\r\n    *Failed to apply plugin &#39;com.android.internal.application&#39;.\r\n       Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\r\n       Your current JDK is located in C:\\Program Files (x86)\\Java\\jdk1.8.0_251\\jre* \r\n\r\nI checked all the settings in my project but I can&#39;t figure out where the plugin is specified.  \r\n**Can anybody help me understand?** I am not a noob but Dolphin has throw me for a loop. I think I have set JAVA_HOME and JAVAPATH correctly. I also did a &quot;Sync Project with Gradle Files&quot;. I also restarted Android Studio. I have also installed the latest Java version.\r\n","title":"How to set Android Gradle plugin in Android Studion 2021.3.1?","body":"<p>I recently upgraded to Android Studio Dolphin 2021.3.1 and when I try to Build an old project I get an error about wrong plugin. In particular:</p>\n<pre><code>Build file 'C:\\dev\\AndroidProjects\\Apps\\Gmap3\\app\\build.gradle' line: 2\nAn exception occurred applying plugin request [id: 'com.android.application']\n\n*Failed to apply plugin 'com.android.internal.application'.\n   Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\n   Your current JDK is located in C:\\Program Files (x86)\\Java\\jdk1.8.0_251\\jre* \n</code></pre>\n<p>I checked all the settings in my project but I can't figure out where the plugin is specified.<br />\n<strong>Can anybody help me understand?</strong> I am not a noob but Dolphin has throw me for a loop. I think I have set JAVA_HOME and JAVAPATH correctly. I also did a &quot;Sync Project with Gradle Files&quot;. I also restarted Android Studio. I have also installed the latest Java version.</p>\n"},{"tags":["java","netbeans","netbeans-platform"],"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679086563,"creation_date":1679086563,"question_id":75772161,"body_markdown":"In my Netbeans platform app, I have several `TopComponents` opened in editor mode. I&#39;d like to be able to drag an item from the content of TopComponent TC1 to TopComponent TC2. I can make it work (using the Swing DnD framework) if TC1 or TC2 is undocked.\r\n\r\nBut if they are both docked, how to do it ?\r\n\r\nSetting my own `TransferHandler` on the target TopComponent does not work in this case, I assume because the &quot;tab&quot; part does not inherit the handler I set. So how to access the TopComponent &quot;tab&quot; part (which is I hope a `JComponent`) ?\r\n\r\nThanks!","title":"How to programmatically access to the TopComponent &quot;tab&quot; part?","body":"<p>In my Netbeans platform app, I have several <code>TopComponents</code> opened in editor mode. I'd like to be able to drag an item from the content of TopComponent TC1 to TopComponent TC2. I can make it work (using the Swing DnD framework) if TC1 or TC2 is undocked.</p>\n<p>But if they are both docked, how to do it ?</p>\n<p>Setting my own <code>TransferHandler</code> on the target TopComponent does not work in this case, I assume because the &quot;tab&quot; part does not inherit the handler I set. So how to access the TopComponent &quot;tab&quot; part (which is I hope a <code>JComponent</code>) ?</p>\n<p>Thanks!</p>\n"},{"tags":["java","selenium-webdriver","testing","automation","webdriver"],"comments":[{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1678969722,"post_id":75755286,"comment_id":133638028,"body_markdown":"Does this answer your question? [Java.io.IOException: Invalid Status code=403 text=Forbidden](https://stackoverflow.com/questions/75678572/java-io-ioexception-invalid-status-code-403-text-forbidden)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75678572/java-io-ioexception-invalid-status-code-403-text-forbidden\">Java.io.IOException: Invalid Status code=403 text=Forbidden</a>"}],"answers":[{"tags":[],"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678965313,"creation_date":1678965313,"answer_id":75755489,"question_id":75755286,"body_markdown":"It was answered already pls find the below link for the soln.\r\n\r\nhttps://stackoverflow.com/questions/75718696/i-am-getting-error-while-launching-chrome-browser-using-selenium-java-io-ioexcep/75719343#75719343","title":"Why my website not loading even browser is launching in java selenium","body":"<p>It was answered already pls find the below link for the soln.</p>\n<p><a href=\"https://stackoverflow.com/questions/75718696/i-am-getting-error-while-launching-chrome-browser-using-selenium-java-io-ioexcep/75719343#75719343\">I am getting error while launching chrome browser using selenium java-io-ioexception-invalid-status-code-403-text-forbidden</a></p>\n"}],"owner":{"account_id":20345273,"reputation":1,"user_id":14923375,"display_name":"Jaitavya Mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679086340,"creation_date":1678964268,"question_id":75755286,"body_markdown":"When I launch my browser, it launches but the website doesn&#39;t load. The URL data text is reflecting but the webpage is not loading.\r\n ![Output image][1]\r\nI called google home page in the browser but hot output specified in image.\r\n\r\n**chrome driver version:** ChromeDriver 111.0.5563.64\r\n\r\nselenium-server-4.8.1.jar\r\n\r\n  [1]: https://i.stack.imgur.com/5fn8d.png","title":"Why my website not loading even browser is launching in java selenium","body":"<p>When I launch my browser, it launches but the website doesn't load. The URL data text is reflecting but the webpage is not loading.\n<img src=\"https://i.stack.imgur.com/5fn8d.png\" alt=\"Output image\" />\nI called google home page in the browser but hot output specified in image.</p>\n<p><strong>chrome driver version:</strong> ChromeDriver 111.0.5563.64</p>\n<p>selenium-server-4.8.1.jar</p>\n"},{"tags":["java","android","android-framelayout"],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679085878,"creation_date":1679085878,"answer_id":75772090,"question_id":75771695,"body_markdown":"Views are rectangular - even if you only draw a triangle inside one, the touch region is the full area of the View itself. You can adjust the actual touch target, but it will still be a rectangular shape.\r\n\r\nYou&#39;d probably be better off creating your own custom view that allows you to display two icons/colours, and calculates which side should be considered &quot;clicked&quot; when a single click event happens at *(x, y)* inside the View.\r\n\r\nMore info [here][1] and [here][2]\r\n\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/layout/custom-views/create-view\r\n  [2]: https://developer.android.com/develop/ui/views/layout/custom-views/making-interactive","title":"Override layout but can still difference space and area","body":"<p>Views are rectangular - even if you only draw a triangle inside one, the touch region is the full area of the View itself. You can adjust the actual touch target, but it will still be a rectangular shape.</p>\n<p>You'd probably be better off creating your own custom view that allows you to display two icons/colours, and calculates which side should be considered &quot;clicked&quot; when a single click event happens at <em>(x, y)</em> inside the View.</p>\n<p>More info <a href=\"https://developer.android.com/develop/ui/views/layout/custom-views/create-view\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://developer.android.com/develop/ui/views/layout/custom-views/making-interactive\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":24926318,"reputation":29,"user_id":18794019,"display_name":"Noob tv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679085878,"creation_date":1679082791,"question_id":75771695,"body_markdown":"For short I wanted to try some new designs in my mind, and one of them was a button that was diagonally divided into two parts. Of course, each side will have a different mission.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iSMBy.png\r\n\r\nAnd I succeeded in separating the button click the way I thought it was with a little bit of vector and pathData.\r\nBut the problem also comes from here, in order for the two buttons to feel like they are tied together, I had to use FrameLayout, also because of that, it was inserted layout of each other, resulting in only 1 task is performed when pressed.\r\n\r\nSo I would like to ask everyone, what should I do in this case, and please point me in the direction of how to solve this problem.\r\n\r\nP/s this button will be used in a viewholder of the recyclerView so using a fixed position of the user pointer won&#39;t be very feasible.\r\n\r\nhere my code in xml\r\n```\r\n    &lt;FrameLayout\r\n                android:layout_width=&quot;100dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_gravity=&quot;end&quot;&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/admin_del&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    app:backgroundTint=&quot;@null&quot;\r\n                    android:src=&quot;@drawable/baseline_delete_forever_24&quot;\r\n                    android:paddingStart=&quot;55dp&quot;\r\n                    android:paddingTop=&quot;35dp&quot;\r\n                    android:background=&quot;@drawable/right_triangle&quot;/&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/admin_edit&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    app:backgroundTint=&quot;@null&quot;\r\n                    android:src=&quot;@drawable/baseline_edit_calendar_24&quot;\r\n                    android:paddingEnd=&quot;55dp&quot;\r\n                    android:paddingBottom=&quot;35dp&quot;\r\n                    android:background=&quot;@drawable/left_triangle&quot;/&gt;\r\n\r\n            &lt;/FrameLayout&gt;\r\n```\r\n\r\nand here are two drawable xml triangle i use as image background\r\n\r\nright_triangle\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:height=&quot;100dp&quot;\r\n    android:width=&quot;100dp&quot;\r\n    android:viewportWidth=&quot;24&quot;\r\n    android:viewportHeight=&quot;24&quot;&gt;\r\n    &lt;path android:fillColor=&quot;#673AB7&quot; android:pathData=&quot;M0,24H24L24,0&quot; /&gt;\r\n    &lt;/vector&gt;\r\n```\r\n\r\nleft_triangle\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:height=&quot;100dp&quot;\r\n    android:width=&quot;100dp&quot;\r\n    android:viewportWidth=&quot;24&quot;\r\n    android:viewportHeight=&quot;24&quot;&gt;\r\n    &lt;path android:fillColor=&quot;#3F51B5&quot; android:pathData=&quot;M0,0H24L0,24&quot; /&gt;\r\n    &lt;/vector&gt;\r\n```","title":"Override layout but can still difference space and area","body":"<p>For short I wanted to try some new designs in my mind, and one of them was a button that was diagonally divided into two parts. Of course, each side will have a different mission.</p>\n<p><a href=\"https://i.stack.imgur.com/iSMBy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iSMBy.png\" alt=\"enter image description here\" /></a></p>\n<p>And I succeeded in separating the button click the way I thought it was with a little bit of vector and pathData.\nBut the problem also comes from here, in order for the two buttons to feel like they are tied together, I had to use FrameLayout, also because of that, it was inserted layout of each other, resulting in only 1 task is performed when pressed.</p>\n<p>So I would like to ask everyone, what should I do in this case, and please point me in the direction of how to solve this problem.</p>\n<p>P/s this button will be used in a viewholder of the recyclerView so using a fixed position of the user pointer won't be very feasible.</p>\n<p>here my code in xml</p>\n<pre><code>    &lt;FrameLayout\n                android:layout_width=&quot;100dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_gravity=&quot;end&quot;&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/admin_del&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    app:backgroundTint=&quot;@null&quot;\n                    android:src=&quot;@drawable/baseline_delete_forever_24&quot;\n                    android:paddingStart=&quot;55dp&quot;\n                    android:paddingTop=&quot;35dp&quot;\n                    android:background=&quot;@drawable/right_triangle&quot;/&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/admin_edit&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    app:backgroundTint=&quot;@null&quot;\n                    android:src=&quot;@drawable/baseline_edit_calendar_24&quot;\n                    android:paddingEnd=&quot;55dp&quot;\n                    android:paddingBottom=&quot;35dp&quot;\n                    android:background=&quot;@drawable/left_triangle&quot;/&gt;\n\n            &lt;/FrameLayout&gt;\n</code></pre>\n<p>and here are two drawable xml triangle i use as image background</p>\n<p>right_triangle</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:height=&quot;100dp&quot;\n    android:width=&quot;100dp&quot;\n    android:viewportWidth=&quot;24&quot;\n    android:viewportHeight=&quot;24&quot;&gt;\n    &lt;path android:fillColor=&quot;#673AB7&quot; android:pathData=&quot;M0,24H24L24,0&quot; /&gt;\n    &lt;/vector&gt;\n</code></pre>\n<p>left_triangle</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:height=&quot;100dp&quot;\n    android:width=&quot;100dp&quot;\n    android:viewportWidth=&quot;24&quot;\n    android:viewportHeight=&quot;24&quot;&gt;\n    &lt;path android:fillColor=&quot;#3F51B5&quot; android:pathData=&quot;M0,0H24L0,24&quot; /&gt;\n    &lt;/vector&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","credential-manager"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1679086167,"post_id":75771692,"comment_id":133664421,"body_markdown":"first sentance in the docs `Spring Cloud Vault Config provides client-side support for externalized configuration in a distributed system. With HashiCorp’s Vault` https://cloud.spring.io/spring-cloud-vault/reference/html/","body":"first sentance in the docs <code>Spring Cloud Vault Config provides client-side support for externalized configuration in a distributed system. With HashiCorp’s Vault</code> <a href=\"https://cloud.spring.io/spring-cloud-vault/reference/html/\" rel=\"nofollow noreferrer\">cloud.spring.io/spring-cloud-vault/reference/html</a>"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679084146,"creation_date":1679084146,"answer_id":75771863,"question_id":75771692,"body_markdown":"Not possible. Windows Credentials Manager has no connection to Hashicorp Vault.","title":"How to get username and password from Credential Manager?","body":"<p>Not possible. Windows Credentials Manager has no connection to Hashicorp Vault.</p>\n"},{"tags":[],"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679085664,"creation_date":1679085664,"answer_id":75772061,"question_id":75771692,"body_markdown":"Credential Manager is really designed for managing credentials used  by internal  operating system features, such as the [Multiple Provider Router][1].\r\n\r\nWindows does provide a set of Cryptographic APIs, including the [Data Protection API][2], which is designed for the secure storage of arbitrary information using a cryptographic key derived from the user&#39;s logon password.  \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/secauthn/multiple-provider-router\r\n  [2]: https://en.wikipedia.org/wiki/Data_Protection_API","title":"How to get username and password from Credential Manager?","body":"<p>Credential Manager is really designed for managing credentials used  by internal  operating system features, such as the <a href=\"https://learn.microsoft.com/en-us/windows/win32/secauthn/multiple-provider-router\" rel=\"nofollow noreferrer\">Multiple Provider Router</a>.</p>\n<p>Windows does provide a set of Cryptographic APIs, including the <a href=\"https://en.wikipedia.org/wiki/Data_Protection_API\" rel=\"nofollow noreferrer\">Data Protection API</a>, which is designed for the secure storage of arbitrary information using a cryptographic key derived from the user's logon password.</p>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75771863,"answer_count":2,"score":0,"last_activity_date":1679085664,"creation_date":1679082772,"question_id":75771692,"body_markdown":"In `application.properties` I want to store these data:\r\n```yaml\r\nspring.mail.host=smtp.gmail.com\r\nspring.mail.port=587\r\nspring.mail.username=my-email\r\nspring.mail.password=my-email-password\r\nspring.mail.properties.mail.smtp.auth=true\r\nspring.mail.properties.mail.smtp.starttls.enable=true\r\n```\r\n\r\nSince my Git repository is public, I don&#39;t want anybody to see my email and password. \r\n\r\nSince I am on Windows 11, Environment Variables are an option. But once I open this window, everybody sitting next to me can see my password since it is just plain text. \r\n\r\nI want my password to be secure, even if it is stored on my own computer only. \r\n\r\nSo Instead of environment variables, I think it is a better approach to store the details in Credential Manager on Windows. I am using the dependency `spring-cloud-starter-vault-config`, version 4.0.0.\r\n\r\nIn Credential Manager I have added a generic credential and called it _Gmail_. And this is what I have tried in application.yml:\r\n\r\n```yml\r\nspring:\r\n  cloud:\r\n    vault:\r\n      uri: vault://wincred/Gmail\r\n  mail:\r\n    host: smtp.gmail.com\r\n    port: 587\r\n    username: ${vault.generic.Gmail.username}\r\n    password: ${vault.generic.Gmail.password}\r\n    properties:\r\n      mail:\r\n        smtp:\r\n          auth: true\r\n          starttls:\r\n            enabled: true\r\n```\r\nBut I get these exceptions:\r\n\r\n&gt; Caused by: java.lang.IllegalArgumentException: Can&#39;t retrieve default\r\n&gt; port from vault://wincred/Gmail\r\n&gt; \r\n&gt; Caused by: java.net.MalformedURLException: unknown protocol: vault\r\n\r\nIs what I am trying out even possible?","title":"How to get username and password from Credential Manager?","body":"<p>In <code>application.properties</code> I want to store these data:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring.mail.host=smtp.gmail.com\nspring.mail.port=587\nspring.mail.username=my-email\nspring.mail.password=my-email-password\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\n</code></pre>\n<p>Since my Git repository is public, I don't want anybody to see my email and password.</p>\n<p>Since I am on Windows 11, Environment Variables are an option. But once I open this window, everybody sitting next to me can see my password since it is just plain text.</p>\n<p>I want my password to be secure, even if it is stored on my own computer only.</p>\n<p>So Instead of environment variables, I think it is a better approach to store the details in Credential Manager on Windows. I am using the dependency <code>spring-cloud-starter-vault-config</code>, version 4.0.0.</p>\n<p>In Credential Manager I have added a generic credential and called it <em>Gmail</em>. And this is what I have tried in application.yml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    vault:\n      uri: vault://wincred/Gmail\n  mail:\n    host: smtp.gmail.com\n    port: 587\n    username: ${vault.generic.Gmail.username}\n    password: ${vault.generic.Gmail.password}\n    properties:\n      mail:\n        smtp:\n          auth: true\n          starttls:\n            enabled: true\n</code></pre>\n<p>But I get these exceptions:</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalArgumentException: Can't retrieve default\nport from vault://wincred/Gmail</p>\n<p>Caused by: java.net.MalformedURLException: unknown protocol: vault</p>\n</blockquote>\n<p>Is what I am trying out even possible?</p>\n"},{"tags":["java","android","gradle","java-11","gradle-task"],"comments":[{"owner":{"account_id":19896142,"reputation":167,"user_id":14577209,"display_name":"Maleesha97"},"score":0,"creation_date":1678794831,"post_id":75528317,"comment_id":133598900,"body_markdown":"See if answers from [this](https://stackoverflow.com/q/25844546/14577209) will help you.  And the updated answer of [this](https://stackoverflow.com/a/49112492/14577209) as well.","body":"See if answers from <a href=\"https://stackoverflow.com/q/25844546/14577209\">this</a> will help you.  And the updated answer of <a href=\"https://stackoverflow.com/a/49112492/14577209\">this</a> as well."},{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1678996653,"post_id":75528317,"comment_id":133646287,"body_markdown":"The code snippet you included in your question has two open curly braces &#39;{&#39; that do not have corresponding closing braces &#39;}&#39;.  Does the full code have these closing braces?","body":"The code snippet you included in your question has two open curly braces &#39;{&#39; that do not have corresponding closing braces &#39;}&#39;.  Does the full code have these closing braces?"},{"owner":{"account_id":20577048,"reputation":349,"user_id":15103978,"display_name":"M.Mawlawi"},"score":0,"creation_date":1679009225,"post_id":75528317,"comment_id":133648740,"body_markdown":"The line of code you provided looks like a hook for executing code when the Gradle task graph is ready. This feature is available in Gradle 4.3 and later versions. So, if you are using Gradle 7, this line should work without any issues.","body":"The line of code you provided looks like a hook for executing code when the Gradle task graph is ready. This feature is available in Gradle 4.3 and later versions. So, if you are using Gradle 7, this line should work without any issues."}],"owner":{"account_id":2009930,"reputation":705,"user_id":1798649,"display_name":"Faisal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1366,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1679085245,"creation_date":1677040583,"question_id":75528317,"body_markdown":"I&#39;m trying to upgrade an old project. Actually, I had to upgrade targetAPILevel to 33 from 30 which eventually requires JDK upgrade from 1.8 to 11.I could be wrong but JDK 11 requires Gradle version upgrade from 4.2 to 7. So I did upgrade Gradle to 7. Now gradle build was working fine on 4.2 but on version 7 it doesn&#39;t build gradle.build and throws following error.\r\n\r\n```Build file &#39;/Users/builder/Documents/payment/Clients/iOS/build.gradle&#39; line: 117\r\n\r\nCould not compile build file &#39;/Users/builder/Documents/payment/Clients/iOS/build.gradle&#39;.\r\n&gt; startup failed:\r\n  build file &#39;/Users/builder/Documents/payment/Clients/iOS/build.gradle&#39;: 117: Unexpected input: &#39;{&#39; @ line 117, column 28.\r\n     gradle.taskGraph.whenReady { taskGraph -&gt;  \r\n```\r\nIt complains about &quot;{&quot;. I have basic knowledge of gradle tasks and I&#39;m learning as doing all of this. \r\n\r\nfollowing is the Gradle code where this line came from : \r\n\r\n```\r\ngradle.taskGraph.whenReady { taskGraph -&gt;\r\n\r\n    if (taskGraph.hasTask(package) ) {\r\n        if (project.hasProperty(&#39;buildtype&#39;)) {\r\n            buildType = buildtype\r\n            println &quot;### Project has buildType = $buildType&quot;\r\n        }\r\n\r\n```\r\nCan someone please guide me how to handle this?","title":"Gradle Unexpected input: &#39;{&#39; When upgrade gradle from 4.2 to 7.0","body":"<p>I'm trying to upgrade an old project. Actually, I had to upgrade targetAPILevel to 33 from 30 which eventually requires JDK upgrade from 1.8 to 11.I could be wrong but JDK 11 requires Gradle version upgrade from 4.2 to 7. So I did upgrade Gradle to 7. Now gradle build was working fine on 4.2 but on version 7 it doesn't build gradle.build and throws following error.</p>\n<pre><code>\nCould not compile build file '/Users/builder/Documents/payment/Clients/iOS/build.gradle'.\n&gt; startup failed:\n  build file '/Users/builder/Documents/payment/Clients/iOS/build.gradle': 117: Unexpected input: '{' @ line 117, column 28.\n     gradle.taskGraph.whenReady { taskGraph -&gt;  \n</code></pre>\n<p>It complains about &quot;{&quot;. I have basic knowledge of gradle tasks and I'm learning as doing all of this.</p>\n<p>following is the Gradle code where this line came from :</p>\n<pre><code>gradle.taskGraph.whenReady { taskGraph -&gt;\n\n    if (taskGraph.hasTask(package) ) {\n        if (project.hasProperty('buildtype')) {\n            buildType = buildtype\n            println &quot;### Project has buildType = $buildType&quot;\n        }\n\n</code></pre>\n<p>Can someone please guide me how to handle this?</p>\n"},{"tags":["java","recursion","iteration"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679085176,"creation_date":1679085176,"answer_id":75772008,"question_id":75771932,"body_markdown":"Once the `while` loop is entered, there is no way to terminate, as you never change `sosa`. Dividing it by 2 each time in the loop will fix this.\r\n\r\nA few other notes:\r\n- You can initialize `toRet` to `0` and check for `sosa` being non-zero rather than `sosa / 2` being non-zero.\r\n- There is no need to cast `sosa / 2` to `int` as the result of the division of two `int`s is guaranteed to be an `int`.\r\n\r\n```java\r\npublic int getGeneration(int sosa) {\r\n    int toRet = 0;\r\n    while (sosa != 0) {\r\n        toRet++;\r\n        sosa /= 2;\r\n    }\r\n    return toRet;\r\n}\r\n```\r\n\r\nThis can also be simplified by looking at the binary representation of the input:\r\n\r\n```java\r\nreturn 32 - Integer.numberOfLeadingZeros(sosa);\r\n```","title":"Recursive Iteration looping forever after first","body":"<p>Once the <code>while</code> loop is entered, there is no way to terminate, as you never change <code>sosa</code>. Dividing it by 2 each time in the loop will fix this.</p>\n<p>A few other notes:</p>\n<ul>\n<li>You can initialize <code>toRet</code> to <code>0</code> and check for <code>sosa</code> being non-zero rather than <code>sosa / 2</code> being non-zero.</li>\n<li>There is no need to cast <code>sosa / 2</code> to <code>int</code> as the result of the division of two <code>int</code>s is guaranteed to be an <code>int</code>.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public int getGeneration(int sosa) {\n    int toRet = 0;\n    while (sosa != 0) {\n        toRet++;\n        sosa /= 2;\n    }\n    return toRet;\n}\n</code></pre>\n<p>This can also be simplified by looking at the binary representation of the input:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return 32 - Integer.numberOfLeadingZeros(sosa);\n</code></pre>\n"}],"owner":{"account_id":1340191,"reputation":65,"user_id":1282015,"accept_rate":100,"display_name":"Fabio Abreu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75772008,"answer_count":1,"score":0,"last_activity_date":1679085176,"creation_date":1679084640,"question_id":75771932,"body_markdown":"I have very simple code, that for a SOSA STRADONITZ number returns the generation of the person: \r\n\r\n1 is 1\r\n\r\n2-3 is 2\r\n\r\n4-7 is 3\r\n\r\n8-15 is 4\r\n\r\n16-13 is 5\r\n\r\n(...)\r\n\r\n\r\nThe code is the follwing, but it does not return ever after the second point, why?\r\n````\r\npublic static void main(String[] args) {\r\n        FamilyTree f = new FamilyTree(null);\r\n        for (int i = 1; i &lt;= 2; i++) {\r\n            f.getGeneration(i);\r\n            System.out.println(&quot;returned!&quot;);\r\n        }\r\n    }\r\n\r\npublic int getGeneration(int sosa) {\r\n        System.out.println(&quot;SOSA: &quot; + sosa);\r\n        int toRet = 1;\r\n        while ((int) sosa / 2 != 0) {\r\n            toRet++;\r\n            getGeneration((int) sosa / 2);\r\n        }\r\n        return toRet;\r\n    }\r\n\r\n````\r\nit prints:\r\n\r\nSOSA: 1\r\n\r\nreturned!\r\n\r\nSOSA: 2\r\n\r\nSOSA: 1\r\n\r\nSOSA: 1\r\n\r\nSOSA: 1\r\n\r\n(SOSA: 1) forever","title":"Recursive Iteration looping forever after first","body":"<p>I have very simple code, that for a SOSA STRADONITZ number returns the generation of the person:</p>\n<p>1 is 1</p>\n<p>2-3 is 2</p>\n<p>4-7 is 3</p>\n<p>8-15 is 4</p>\n<p>16-13 is 5</p>\n<p>(...)</p>\n<p>The code is the follwing, but it does not return ever after the second point, why?</p>\n<pre><code>public static void main(String[] args) {\n        FamilyTree f = new FamilyTree(null);\n        for (int i = 1; i &lt;= 2; i++) {\n            f.getGeneration(i);\n            System.out.println(&quot;returned!&quot;);\n        }\n    }\n\npublic int getGeneration(int sosa) {\n        System.out.println(&quot;SOSA: &quot; + sosa);\n        int toRet = 1;\n        while ((int) sosa / 2 != 0) {\n            toRet++;\n            getGeneration((int) sosa / 2);\n        }\n        return toRet;\n    }\n\n</code></pre>\n<p>it prints:</p>\n<p>SOSA: 1</p>\n<p>returned!</p>\n<p>SOSA: 2</p>\n<p>SOSA: 1</p>\n<p>SOSA: 1</p>\n<p>SOSA: 1</p>\n<p>(SOSA: 1) forever</p>\n"},{"tags":["java","pdf","java-8","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1679065943,"post_id":75767748,"comment_id":133659517,"body_markdown":"I don&#39;t really understand, which two extra space characters are added where? And how do you extract text to start with? You show two methods, but how are they used in your approach?","body":"I don&#39;t really understand, which two extra space characters are added where? And how do you extract text to start with? You show two methods, but how are they used in your approach?"},{"owner":{"account_id":26768635,"reputation":1,"user_id":20365389,"display_name":"vishal bhardwaj"},"score":0,"creation_date":1679084833,"post_id":75767748,"comment_id":133664138,"body_markdown":"@mkl I have made few changes to the question. Please have a look and let me know if you need anything else.","body":"@mkl I have made few changes to the question. Please have a look and let me know if you need anything else."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1679387184,"post_id":75767748,"comment_id":133708054,"body_markdown":"If I understand you correctly, you are surprised about two space characters, one before the &quot;D&quot;, one after the &quot;c&quot;. But at least the space right in front of the &quot;D&quot; clearly is drawn by the `( ) Tj` at the start of your content stream excerpt. To identify the instruction drawing the space after the &quot;c&quot;, though, your excerpt is to small.","body":"If I understand you correctly, you are surprised about two space characters, one before the &quot;D&quot;, one after the &quot;c&quot;. But at least the space right in front of the &quot;D&quot; clearly is drawn by the <code>( ) Tj</code> at the start of your content stream excerpt. To identify the instruction drawing the space after the &quot;c&quot;, though, your excerpt is to small."}],"owner":{"account_id":26768635,"reputation":1,"user_id":20365389,"display_name":"vishal bhardwaj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679084636,"creation_date":1679057129,"question_id":75767748,"body_markdown":"I have extracted text from iText. And created a list of characters along with there location. This is the code for creating textInfoList with line locations.\r\n\r\n    @Override\r\n    void eventOccurred(IEventData data, EventType type) {\r\n        if (type== EventType.RENDER_TEXT) {\r\n            TextRenderInfo renderInfo = (TextRenderInfo) data\r\n            textInfoItems.addAll(TextInfoFactory.createTextInfoList(renderInfo))\r\n        }\r\n    }\r\n\r\n        static List&lt;TextInfo&gt; createTextInfoList(TextRenderInfo renderInfo) {\r\n        List&lt;TextInfo&gt; infoList = new ArrayList&lt;&gt;()\r\n        String text\r\n        PdfFont font = renderInfo.getFont()\r\n        FontProgram fontProgram = font?.getFontProgram()\r\n        FontNames fontNames = fontProgram?.getFontNames()\r\n        String fontName = fontNames?.getFontName()\r\n        PdfString pdfString = renderInfo.getPdfString()\r\n        String rawValue = pdfString?.getValue()\r\n        // Get actual font size for rendered text\r\n        float textFontSize = getFontSize(renderInfo)\r\n\r\n        if (pdfString &amp;&amp; !StringUtils.isEmpty(rawValue)) {\r\n\r\n            if (!fontName) {\r\n                // Work around for bad fonts\r\n                text = rawValue.replaceAll(&#39;\\u009C&#39;, &#39;*&#39;).replaceAll(&#39;\\\\p{C}\\\\s*&#39;, &#39; &#39;)\r\n            } else {\r\n                // Sometimes the symbol font isn&#39;t loaded properly\r\n                if (fontName?.contains(&quot;Symbol&quot;)) {\r\n                    try {\r\n                        font = PdfFontFactory.createFont(&quot;Symbol&quot;)\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace()\r\n                    }\r\n                }\r\n                GlyphLine gl = font.decodeIntoGlyphLine(pdfString)\r\n                // Our custom unicode conversion adjusts for fonts that are missing unicode map.\r\n\r\n                final char REPLACEMENT_CHARACTER = &#39;\\ufffd&#39;\r\n                ActualTextIterator iterator = new ActualTextIterator(gl, gl.start, gl.end)\r\n                StringBuilder str = new StringBuilder()\r\n                while (iterator.hasNext()) {\r\n                    GlyphLine.GlyphLinePart part = iterator?.next()\r\n                    if (part.actualText != null) {\r\n                        str.append(part.actualText)\r\n                    } else {\r\n                        for (int i = part.start; i &lt; part.end; i++) {\r\n                            if (gl.get(i)) {\r\n                                // This is our custom fix for bad characters in font\r\n                                // If we can&#39;t use font value, then just get char value from the raw string.\r\n                                char[] unicodeChars = gl.get(i).getUnicodeChars()\r\n                                for (int j = 0; j &lt; unicodeChars.length; ++j) {\r\n                                    // iText uses arbitrary replacement logic, we  need something better.\r\n                                    // https://en.wikipedia.org/wiki/Bullet_(typography)#In_Unicode\r\n                                    String value = getCharacterForUnicode(fontName, unicodeChars[j])\r\n                                    if (value) {\r\n                                        str.append(value)\r\n                                    } else if (unicodeChars[j].equals(REPLACEMENT_CHARACTER)) {\r\n                                        char charAtIndex = rawValue.charAt(j + i)\r\n                                        str.append((charAtIndex != &#39;\\t&#39;) ? charAtIndex : &#39; &#39;)\r\n                                    } else {\r\n                                        str.append(unicodeChars[j])\r\n                                    }\r\n                                }\r\n                            } else if (rawValue.length() &gt; 0 &amp;&amp; i &lt; rawValue.length()) {\r\n                                // replace funky chars\r\n                                str.append(rawValue.replaceAll(&#39;\\u009C&#39;, &#39;*&#39;).replaceAll(&#39;\\\\p{C}&#39;, &#39; &#39;).charAt(i))\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                text = str.toString().replaceAll(&#39;[^\\\\u0009\\\\u000a\\\\u000d\\\\u0020-\\\\uD7FF\\\\uE000-\\\\uFFFD]|\\t&#39;, &#39;&#39;)\r\n            }\r\n\r\n            if (text.length() == 1) {\r\n                // USE CASE 1\r\n                // This is a very common use case\r\n                infoList.add(\r\n                        new TextInfo(\r\n                                text,\r\n                                new TextInfoLocation(\r\n                                        renderInfo.ascentLine,\r\n                                        renderInfo.baseline,\r\n                                        renderInfo.descentLine,\r\n                                        renderInfo.rise,\r\n                                        renderInfo.singleSpaceWidth),\r\n                                renderInfo.getFont(),\r\n                                textFontSize,\r\n                                renderInfo.getStrokeColor()))\r\n            } else if (text.length() &lt;= renderInfo.characterRenderInfos.size()) {\r\n                // USE CASE 2\r\n                // This is the other normal use case. We have all of the render information for each character in a longer string\r\n                // If there is more than enough character render info, we assume the ones at the end are not needed.\r\n                text.eachWithIndex { String entry, int i -&gt;\r\n                    TextRenderInfo charInfo = renderInfo.characterRenderInfos[i]\r\n                    infoList.add(\r\n                            new TextInfo(\r\n                                    entry,\r\n                                    new TextInfoLocation(\r\n                                            charInfo.ascentLine,\r\n                                            charInfo.baseline,\r\n                                            charInfo.descentLine,\r\n                                            charInfo.rise,\r\n                                            charInfo.singleSpaceWidth),\r\n                                    renderInfo.getFont(),\r\n                                    textFontSize,\r\n                                    renderInfo.getStrokeColor()))\r\n                }\r\n                if (text.length() &lt; renderInfo.characterRenderInfos.size()) {\r\n                    // DEV NOTE: If the characterRenderInfos are actually incorrect or off a bit, consider also using the logic in the else-if below as a potential solution.\r\n                    // Such a condition has not been fully researched.\r\n                    log.trace(&quot;RARE CONDITION (Text USE CASE 2): More character information than actual text. Confirm text positions are correct.&quot;)\r\n                }\r\n            } else if (text.length() &gt; renderInfo.characterRenderInfos.size()) {\r\n                // USE CASE 3\r\n                // We have more text than render information. This situation shouldn&#39;t happen, but it can in poorly created PDFs.\r\n                log.trace(&quot;RARE CONDITION (Text USE CASE 3): More text than actual character info. Confirm text positions are correct.&quot;)\r\n                // Take the full length of the render info and slice it up evenly by the number of characters.\r\n                // This algorithm works regardless of rotation\r\n                float ascentLineStartX = renderInfo.ascentLine.startPoint.get(I1)\r\n                float ascentLineStartY = renderInfo.ascentLine.startPoint.get(I2)\r\n\r\n                float baselineStartX = renderInfo.baseline.startPoint.get(I1)\r\n                float baselineStartY = renderInfo.baseline.startPoint.get(I2)\r\n                float baselineEndX = renderInfo.baseline.endPoint.get(I1)\r\n                float baselineEndY = renderInfo.baseline.endPoint.get(I2)\r\n\r\n                float descentLineStartX = renderInfo.descentLine.startPoint.get(I1)\r\n                float descentLineStartY = renderInfo.descentLine.startPoint.get(I2)\r\n\r\n                // Assume diff is the same for all 3 line segments\r\n                float xDiff = (float) ((baselineEndX - baselineStartX) / text.length())\r\n                float yDiff = (float) ((baselineEndY - baselineStartY) / text.length())\r\n\r\n                text.eachWithIndex { String entry, int i -&gt;\r\n                    Vector startVector = new Vector(ascentLineStartX, ascentLineStartY, 1f)\r\n                    ascentLineStartX += xDiff\r\n                    ascentLineStartY += yDiff\r\n                    Vector endVector = new Vector(ascentLineStartX, ascentLineStartY, 1f)\r\n                    LineSegment ascentLine = new LineSegment(startVector, endVector)\r\n\r\n                    startVector = new Vector(baselineStartX, baselineStartY, 1f)\r\n                    baselineStartX += xDiff\r\n                    baselineStartY += yDiff\r\n                    endVector = new Vector(baselineStartX, baselineStartY, 1f)\r\n                    LineSegment baseline = new LineSegment(startVector, endVector)\r\n\r\n                    startVector = new Vector(descentLineStartX, descentLineStartY, 1f)\r\n                    descentLineStartX += xDiff\r\n                    descentLineStartY += yDiff\r\n                    endVector = new Vector(descentLineStartX, descentLineStartY, 1f)\r\n                    LineSegment descentLine = new LineSegment(startVector, endVector)\r\n\r\n                    infoList.add(\r\n                            new TextInfo(\r\n                                    entry,\r\n                                    new TextInfoLocation(\r\n                                            ascentLine,\r\n                                            baseline,\r\n                                            descentLine,\r\n                                            renderInfo.rise,\r\n                                            renderInfo.singleSpaceWidth),\r\n                                    renderInfo.getFont(),\r\n                                    textFontSize,\r\n                                    renderInfo.getStrokeColor()))\r\n                }\r\n            }\r\n        }\r\n        return infoList\r\n    }\r\n\r\nThis is stream of text from iText.\r\n```\r\n-0.606 -1.121 Td\r\n( ) Tj\r\n0.006 Tc\r\n0.606 0 Td\r\n(Data Set Location: h) Tj\r\n(ome/lillyce/prd/ly2148568/h8o_mc_gwde/final/data/shared/ads                                                     ) Tj\r\n0 Tc\r\n( ) Tj\r\nEMC\r\n/P &lt;&lt;/MCID 41 &gt;&gt; BDC\r\n/F2 1 Tf\r\n12 0 0 12 72 103.44 Tm\r\n&lt;0003&gt; Tj\r\n/F1 1 Tf\r\n7.92 0 0 7.92 216 103.44 Tm\r\n( ) Tj\r\n```\r\n\r\nAfter the line &quot;Data Set Location: home/lillyce/prd/ly2148568/h8o_mc_gwde/final/data/shared/ads      &quot;. There are some weird characters which I don&#39;t understand.\r\nThose weird characters are added to the line something like this.\r\n   &quot;  Data Set Location: home/lillyc e/prd/ly2148568/h8o_mc_gwde/final/data/shared/ads      &quot;\r\nJust before &quot;D&quot; one space is added and after &quot;c&quot; in &quot;lillyce&quot; one space is added.\r\n```\r\nI am sorting them based on there location.\r\nThis is the code for checking each character location for same line or different line.\r\n\r\nboolean isOnTheSameLine(PdfLocation otherLocation) {\r\n        // Angular magnitudes must be the same to be considered on the same line.\r\n        if (angularMagnitude != otherLocation.angularMagnitude) {\r\n            return false\r\n        }\r\n\r\n        // Completely different lines\r\n        if (distPerpendicularEnd &lt; otherLocation.distPerpendicularStart || distPerpendicularStart &gt; otherLocation.distPerpendicularEnd) {\r\n            return false\r\n        }\r\n\r\n        // Start perpendicular edges are VERY close (also handles some sub/superscript)\r\n        float distTopStartDiff = (float) Math.abs(distPerpendicularStart - otherLocation.distPerpendicularStart)\r\n        if (distTopStartDiff &lt; FLOAT_EPSILON) {\r\n            return true\r\n        }\r\n\r\n        // End perpendicular edges are VERY close (also handles some sub/superscript)\r\n        float distTopEndDiff = (float) Math.abs(distPerpendicularEnd - otherLocation.distPerpendicularEnd)\r\n        if (distTopEndDiff &lt; FLOAT_EPSILON) {\r\n            return true\r\n        }\r\n\r\n        // Subscript and superscript detection\r\n        if (isOnTheSameLinePartially(otherLocation)) {\r\n            return true\r\n        }\r\n\r\n        // RARE USE CASE: Some kind of condition inherited from iText -- Serves a purpose in some weird circumstance when no width is present.\r\n        return distTopStartDiff &lt;= DIACRITICAL_MARKS_ALLOWED_VERTICAL_DEVIATION &amp;&amp; (distParallelStart == distParallelEnd || otherLocation.distParallelStart == otherLocation.distParallelEnd)\r\n    }\r\n```\r\nSo while checking each character for same line. \r\n\r\n0 Tc\r\n( ) Tj\r\nEMC\r\n/P &lt;&lt;/MCID 41 &gt;&gt; BDC\r\n/F2 1 Tf\r\n12 0 0 12 72 103.44 Tm\r\n&lt;0003&gt; Tj\r\n/F1 1 Tf\r\n7.92 0 0 7.92 216 103.44 Tm\r\n( ) Tj\r\n\r\nSomehow these two weird characters are considered in same line as \r\n&quot;Data Set Location: home/lillyce/prd/ly2148568/h8o_mc_gwde/final/data/shared/ads      &quot;\r\n\r\n","title":"Text extracted from iText not properly rendered","body":"<p>I have extracted text from iText. And created a list of characters along with there location. This is the code for creating textInfoList with line locations.</p>\n<pre><code>@Override\nvoid eventOccurred(IEventData data, EventType type) {\n    if (type== EventType.RENDER_TEXT) {\n        TextRenderInfo renderInfo = (TextRenderInfo) data\n        textInfoItems.addAll(TextInfoFactory.createTextInfoList(renderInfo))\n    }\n}\n\n    static List&lt;TextInfo&gt; createTextInfoList(TextRenderInfo renderInfo) {\n    List&lt;TextInfo&gt; infoList = new ArrayList&lt;&gt;()\n    String text\n    PdfFont font = renderInfo.getFont()\n    FontProgram fontProgram = font?.getFontProgram()\n    FontNames fontNames = fontProgram?.getFontNames()\n    String fontName = fontNames?.getFontName()\n    PdfString pdfString = renderInfo.getPdfString()\n    String rawValue = pdfString?.getValue()\n    // Get actual font size for rendered text\n    float textFontSize = getFontSize(renderInfo)\n\n    if (pdfString &amp;&amp; !StringUtils.isEmpty(rawValue)) {\n\n        if (!fontName) {\n            // Work around for bad fonts\n            text = rawValue.replaceAll('\\u009C', '*').replaceAll('\\\\p{C}\\\\s*', ' ')\n        } else {\n            // Sometimes the symbol font isn't loaded properly\n            if (fontName?.contains(&quot;Symbol&quot;)) {\n                try {\n                    font = PdfFontFactory.createFont(&quot;Symbol&quot;)\n                } catch (IOException e) {\n                    e.printStackTrace()\n                }\n            }\n            GlyphLine gl = font.decodeIntoGlyphLine(pdfString)\n            // Our custom unicode conversion adjusts for fonts that are missing unicode map.\n\n            final char REPLACEMENT_CHARACTER = '\\ufffd'\n            ActualTextIterator iterator = new ActualTextIterator(gl, gl.start, gl.end)\n            StringBuilder str = new StringBuilder()\n            while (iterator.hasNext()) {\n                GlyphLine.GlyphLinePart part = iterator?.next()\n                if (part.actualText != null) {\n                    str.append(part.actualText)\n                } else {\n                    for (int i = part.start; i &lt; part.end; i++) {\n                        if (gl.get(i)) {\n                            // This is our custom fix for bad characters in font\n                            // If we can't use font value, then just get char value from the raw string.\n                            char[] unicodeChars = gl.get(i).getUnicodeChars()\n                            for (int j = 0; j &lt; unicodeChars.length; ++j) {\n                                // iText uses arbitrary replacement logic, we  need something better.\n                                // https://en.wikipedia.org/wiki/Bullet_(typography)#In_Unicode\n                                String value = getCharacterForUnicode(fontName, unicodeChars[j])\n                                if (value) {\n                                    str.append(value)\n                                } else if (unicodeChars[j].equals(REPLACEMENT_CHARACTER)) {\n                                    char charAtIndex = rawValue.charAt(j + i)\n                                    str.append((charAtIndex != '\\t') ? charAtIndex : ' ')\n                                } else {\n                                    str.append(unicodeChars[j])\n                                }\n                            }\n                        } else if (rawValue.length() &gt; 0 &amp;&amp; i &lt; rawValue.length()) {\n                            // replace funky chars\n                            str.append(rawValue.replaceAll('\\u009C', '*').replaceAll('\\\\p{C}', ' ').charAt(i))\n                        }\n                    }\n                }\n            }\n            text = str.toString().replaceAll('[^\\\\u0009\\\\u000a\\\\u000d\\\\u0020-\\\\uD7FF\\\\uE000-\\\\uFFFD]|\\t', '')\n        }\n\n        if (text.length() == 1) {\n            // USE CASE 1\n            // This is a very common use case\n            infoList.add(\n                    new TextInfo(\n                            text,\n                            new TextInfoLocation(\n                                    renderInfo.ascentLine,\n                                    renderInfo.baseline,\n                                    renderInfo.descentLine,\n                                    renderInfo.rise,\n                                    renderInfo.singleSpaceWidth),\n                            renderInfo.getFont(),\n                            textFontSize,\n                            renderInfo.getStrokeColor()))\n        } else if (text.length() &lt;= renderInfo.characterRenderInfos.size()) {\n            // USE CASE 2\n            // This is the other normal use case. We have all of the render information for each character in a longer string\n            // If there is more than enough character render info, we assume the ones at the end are not needed.\n            text.eachWithIndex { String entry, int i -&gt;\n                TextRenderInfo charInfo = renderInfo.characterRenderInfos[i]\n                infoList.add(\n                        new TextInfo(\n                                entry,\n                                new TextInfoLocation(\n                                        charInfo.ascentLine,\n                                        charInfo.baseline,\n                                        charInfo.descentLine,\n                                        charInfo.rise,\n                                        charInfo.singleSpaceWidth),\n                                renderInfo.getFont(),\n                                textFontSize,\n                                renderInfo.getStrokeColor()))\n            }\n            if (text.length() &lt; renderInfo.characterRenderInfos.size()) {\n                // DEV NOTE: If the characterRenderInfos are actually incorrect or off a bit, consider also using the logic in the else-if below as a potential solution.\n                // Such a condition has not been fully researched.\n                log.trace(&quot;RARE CONDITION (Text USE CASE 2): More character information than actual text. Confirm text positions are correct.&quot;)\n            }\n        } else if (text.length() &gt; renderInfo.characterRenderInfos.size()) {\n            // USE CASE 3\n            // We have more text than render information. This situation shouldn't happen, but it can in poorly created PDFs.\n            log.trace(&quot;RARE CONDITION (Text USE CASE 3): More text than actual character info. Confirm text positions are correct.&quot;)\n            // Take the full length of the render info and slice it up evenly by the number of characters.\n            // This algorithm works regardless of rotation\n            float ascentLineStartX = renderInfo.ascentLine.startPoint.get(I1)\n            float ascentLineStartY = renderInfo.ascentLine.startPoint.get(I2)\n\n            float baselineStartX = renderInfo.baseline.startPoint.get(I1)\n            float baselineStartY = renderInfo.baseline.startPoint.get(I2)\n            float baselineEndX = renderInfo.baseline.endPoint.get(I1)\n            float baselineEndY = renderInfo.baseline.endPoint.get(I2)\n\n            float descentLineStartX = renderInfo.descentLine.startPoint.get(I1)\n            float descentLineStartY = renderInfo.descentLine.startPoint.get(I2)\n\n            // Assume diff is the same for all 3 line segments\n            float xDiff = (float) ((baselineEndX - baselineStartX) / text.length())\n            float yDiff = (float) ((baselineEndY - baselineStartY) / text.length())\n\n            text.eachWithIndex { String entry, int i -&gt;\n                Vector startVector = new Vector(ascentLineStartX, ascentLineStartY, 1f)\n                ascentLineStartX += xDiff\n                ascentLineStartY += yDiff\n                Vector endVector = new Vector(ascentLineStartX, ascentLineStartY, 1f)\n                LineSegment ascentLine = new LineSegment(startVector, endVector)\n\n                startVector = new Vector(baselineStartX, baselineStartY, 1f)\n                baselineStartX += xDiff\n                baselineStartY += yDiff\n                endVector = new Vector(baselineStartX, baselineStartY, 1f)\n                LineSegment baseline = new LineSegment(startVector, endVector)\n\n                startVector = new Vector(descentLineStartX, descentLineStartY, 1f)\n                descentLineStartX += xDiff\n                descentLineStartY += yDiff\n                endVector = new Vector(descentLineStartX, descentLineStartY, 1f)\n                LineSegment descentLine = new LineSegment(startVector, endVector)\n\n                infoList.add(\n                        new TextInfo(\n                                entry,\n                                new TextInfoLocation(\n                                        ascentLine,\n                                        baseline,\n                                        descentLine,\n                                        renderInfo.rise,\n                                        renderInfo.singleSpaceWidth),\n                                renderInfo.getFont(),\n                                textFontSize,\n                                renderInfo.getStrokeColor()))\n            }\n        }\n    }\n    return infoList\n}\n</code></pre>\n<p>This is stream of text from iText.</p>\n<pre><code>-0.606 -1.121 Td\n( ) Tj\n0.006 Tc\n0.606 0 Td\n(Data Set Location: h) Tj\n(ome/lillyce/prd/ly2148568/h8o_mc_gwde/final/data/shared/ads                                                     ) Tj\n0 Tc\n( ) Tj\nEMC\n/P &lt;&lt;/MCID 41 &gt;&gt; BDC\n/F2 1 Tf\n12 0 0 12 72 103.44 Tm\n&lt;0003&gt; Tj\n/F1 1 Tf\n7.92 0 0 7.92 216 103.44 Tm\n( ) Tj\n</code></pre>\n<p>After the line &quot;Data Set Location: home/lillyce/prd/ly2148568/h8o_mc_gwde/final/data/shared/ads      &quot;. There are some weird characters which I don't understand.\nThose weird characters are added to the line something like this.\n&quot;  Data Set Location: home/lillyc e/prd/ly2148568/h8o_mc_gwde/final/data/shared/ads      &quot;\nJust before &quot;D&quot; one space is added and after &quot;c&quot; in &quot;lillyce&quot; one space is added.</p>\n<pre><code>I am sorting them based on there location.\nThis is the code for checking each character location for same line or different line.\n\nboolean isOnTheSameLine(PdfLocation otherLocation) {\n        // Angular magnitudes must be the same to be considered on the same line.\n        if (angularMagnitude != otherLocation.angularMagnitude) {\n            return false\n        }\n\n        // Completely different lines\n        if (distPerpendicularEnd &lt; otherLocation.distPerpendicularStart || distPerpendicularStart &gt; otherLocation.distPerpendicularEnd) {\n            return false\n        }\n\n        // Start perpendicular edges are VERY close (also handles some sub/superscript)\n        float distTopStartDiff = (float) Math.abs(distPerpendicularStart - otherLocation.distPerpendicularStart)\n        if (distTopStartDiff &lt; FLOAT_EPSILON) {\n            return true\n        }\n\n        // End perpendicular edges are VERY close (also handles some sub/superscript)\n        float distTopEndDiff = (float) Math.abs(distPerpendicularEnd - otherLocation.distPerpendicularEnd)\n        if (distTopEndDiff &lt; FLOAT_EPSILON) {\n            return true\n        }\n\n        // Subscript and superscript detection\n        if (isOnTheSameLinePartially(otherLocation)) {\n            return true\n        }\n\n        // RARE USE CASE: Some kind of condition inherited from iText -- Serves a purpose in some weird circumstance when no width is present.\n        return distTopStartDiff &lt;= DIACRITICAL_MARKS_ALLOWED_VERTICAL_DEVIATION &amp;&amp; (distParallelStart == distParallelEnd || otherLocation.distParallelStart == otherLocation.distParallelEnd)\n    }\n</code></pre>\n<p>So while checking each character for same line.</p>\n<p>0 Tc\n( ) Tj\nEMC\n/P &lt;&lt;/MCID 41 &gt;&gt; BDC\n/F2 1 Tf\n12 0 0 12 72 103.44 Tm\n&lt;0003&gt; Tj\n/F1 1 Tf\n7.92 0 0 7.92 216 103.44 Tm\n( ) Tj</p>\n<p>Somehow these two weird characters are considered in same line as\n&quot;Data Set Location: home/lillyce/prd/ly2148568/h8o_mc_gwde/final/data/shared/ads      &quot;</p>\n"},{"tags":["java","option-type"],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1678980872,"creation_date":1639410724,"answer_id":70337375,"question_id":70337324,"body_markdown":"You should use `Optional::map` to retrieve value of `isUnexpired`, and `orElse` to return `false`:\r\n```java\r\npublic boolean hasRole (UserRole userRole) {\r\n    return roles.stream()\r\n        .filter(r -&gt; r.getRole().equals(userRole))\r\n        .findFirst()\r\n        .map(Role::isUnexpired)\r\n        .orElse(false);\r\n}\r\n```\r\n----\r\nIn case there are _multiple_ identical roles with _different_ expiration dates (a bit weird use case mentioned by @Ray), additional sorting by the expiry date (descending) may be needed to resolve the conflict:\r\n```java\r\npublic boolean hasRole (UserRole userRole) {\r\n    return roles.stream()\r\n        .filter(r -&gt; r.getRole().equals(userRole))\r\n        .sorted(Comparator.comparing(Role::getExpiry).reversed())\r\n        .findFirst()\r\n        .map(Role::isUnexpired)\r\n        .orElse(false);\r\n}\r\n```\r\n","title":"Getting a value from an inside an Optional with isPresent()","body":"<p>You should use <code>Optional::map</code> to retrieve value of <code>isUnexpired</code>, and <code>orElse</code> to return <code>false</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean hasRole (UserRole userRole) {\n    return roles.stream()\n        .filter(r -&gt; r.getRole().equals(userRole))\n        .findFirst()\n        .map(Role::isUnexpired)\n        .orElse(false);\n}\n</code></pre>\n<hr />\n<p>In case there are <em>multiple</em> identical roles with <em>different</em> expiration dates (a bit weird use case mentioned by @Ray), additional sorting by the expiry date (descending) may be needed to resolve the conflict:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean hasRole (UserRole userRole) {\n    return roles.stream()\n        .filter(r -&gt; r.getRole().equals(userRole))\n        .sorted(Comparator.comparing(Role::getExpiry).reversed())\n        .findFirst()\n        .map(Role::isUnexpired)\n        .orElse(false);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639410873,"creation_date":1639410873,"answer_id":70337413,"question_id":70337324,"body_markdown":"&gt; However, I would rather do it with a cleaner, chained function.\r\n\r\nWhy would a chained function be &#39;cleaner&#39;? As you can see, it makes it _much_ more difficult to adapt code to changing requirements, _and_ enforces weird style choices on your other code in order to dance around the fact that you can&#39;t use mutable local variables and don&#39;t get control flow or checked exception transparency. I don&#39;t know what definition of &#39;cleaner&#39; you&#39;re working on, but clearly it&#39;s not &quot;code that leads to easier to modify, easier to test, easier to read, easier to fit inside code with other requirements&quot;, which seems like a much more sensible definition to me. Perhaps your definition is based in aesthetics. Well, as they say, you can&#39;t argue with taste, perhaps.\r\n\r\nAt any rate, you have two options:\r\n\r\n## Map optional.NONE onto a sentinel that then fails the test.\r\n\r\nYou can simply use `.orElse()` here:\r\n\r\n```java\r\n...\r\n.findFirst()\r\n.orElse(dummyRoleThatIsDefinitelyExpired)\r\n.isUnexpired();\r\n```\r\n\r\n## Map the optional.SOME\r\n\r\n```java\r\n...\r\n.findFirst()\r\n.map(r -&gt; r.isUnexpired())\r\n.orElse(false);\r\n```\r\n\r\nThe `map` call will return either an Optional.NONE, or an Optional of `Boolean.TRUE` or an optional of Boolean.FALSE. We then `orElse` the NONE case onto FALSE and we now have a boolean to return.\r\n\r\nI&#39;d say the first snippet is easier to follow, but it requires having a dummy role that is definitely expired.\r\n\r\nNB: If you care about clean functions, sticking negatives in boolean method names is not a good idea for obvious reasons. Instead of `Unexpired`, perhaps `isLive()` or `isValid()` is a better idea.\r\n","title":"Getting a value from an inside an Optional with isPresent()","body":"<blockquote>\n<p>However, I would rather do it with a cleaner, chained function.</p>\n</blockquote>\n<p>Why would a chained function be 'cleaner'? As you can see, it makes it <em>much</em> more difficult to adapt code to changing requirements, <em>and</em> enforces weird style choices on your other code in order to dance around the fact that you can't use mutable local variables and don't get control flow or checked exception transparency. I don't know what definition of 'cleaner' you're working on, but clearly it's not &quot;code that leads to easier to modify, easier to test, easier to read, easier to fit inside code with other requirements&quot;, which seems like a much more sensible definition to me. Perhaps your definition is based in aesthetics. Well, as they say, you can't argue with taste, perhaps.</p>\n<p>At any rate, you have two options:</p>\n<h2>Map optional.NONE onto a sentinel that then fails the test.</h2>\n<p>You can simply use <code>.orElse()</code> here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n.findFirst()\n.orElse(dummyRoleThatIsDefinitelyExpired)\n.isUnexpired();\n</code></pre>\n<h2>Map the optional.SOME</h2>\n<pre class=\"lang-java prettyprint-override\"><code>...\n.findFirst()\n.map(r -&gt; r.isUnexpired())\n.orElse(false);\n</code></pre>\n<p>The <code>map</code> call will return either an Optional.NONE, or an Optional of <code>Boolean.TRUE</code> or an optional of Boolean.FALSE. We then <code>orElse</code> the NONE case onto FALSE and we now have a boolean to return.</p>\n<p>I'd say the first snippet is easier to follow, but it requires having a dummy role that is definitely expired.</p>\n<p>NB: If you care about clean functions, sticking negatives in boolean method names is not a good idea for obvious reasons. Instead of <code>Unexpired</code>, perhaps <code>isLive()</code> or <code>isValid()</code> is a better idea.</p>\n"},{"tags":[],"owner":{"account_id":372920,"reputation":40426,"user_id":722263,"accept_rate":87,"display_name":"Ray"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679084386,"creation_date":1678972450,"answer_id":75756768,"question_id":70337324,"body_markdown":"If you only care if a user has ANY unexpired entry of a `UserRole` in `Collection&lt;Role&gt; roles`, matching with a predicate using `anyMatch()` is a clearer and more concise approach:\r\n\r\n```java\r\npublic boolean hasRole (UserRole userRole) {\r\n   return roles.stream()\r\n       .anyMatch(r -&gt; r.role.equals(userRole) &amp;&amp; r.isUnexpired());\r\n}\r\n\r\n```\r\n\r\nThis approach using `anyMatch()` will be clear to future readers of your code without any ambiguity.\r\n\r\n\r\nWhy not use the stream/filter/findFirst approach?  At minimum, it&#39;s possible based on just the info in the OP to have multiple entries in the `private Collection&lt;Role&gt; roles` with same UseRole and different  expiry dates.  `findFirst()` will be produce indeterminate results unless you do something to ensure ordering of the collection (Collection itself has no guarantees on order) or do the expiration check in the filter.  Even with check in filter, I argue  `anyMatch()` is less open for question on your intent.","title":"Getting a value from an inside an Optional with isPresent()","body":"<p>If you only care if a user has ANY unexpired entry of a <code>UserRole</code> in <code>Collection&lt;Role&gt; roles</code>, matching with a predicate using <code>anyMatch()</code> is a clearer and more concise approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean hasRole (UserRole userRole) {\n   return roles.stream()\n       .anyMatch(r -&gt; r.role.equals(userRole) &amp;&amp; r.isUnexpired());\n}\n\n</code></pre>\n<p>This approach using <code>anyMatch()</code> will be clear to future readers of your code without any ambiguity.</p>\n<p>Why not use the stream/filter/findFirst approach?  At minimum, it's possible based on just the info in the OP to have multiple entries in the <code>private Collection&lt;Role&gt; roles</code> with same UseRole and different  expiry dates.  <code>findFirst()</code> will be produce indeterminate results unless you do something to ensure ordering of the collection (Collection itself has no guarantees on order) or do the expiration check in the filter.  Even with check in filter, I argue  <code>anyMatch()</code> is less open for question on your intent.</p>\n"}],"owner":{"account_id":4368701,"reputation":397,"user_id":3563655,"accept_rate":62,"display_name":"Rick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":957,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75756768,"answer_count":3,"score":2,"last_activity_date":1679084386,"creation_date":1639410505,"question_id":70337324,"body_markdown":"I have a `User` and associated time-limited `Role`s. I want to know if a `User` has a particular `UserRole` *and* it is unexpired. I can turn the user&#39;s roles into a stream, `filter()` it and `findFirst()`, giving me an `Optional`. \r\n\r\n**Role**\r\n```\r\npublic class Role {\r\n\tprivate UserRole role;\r\n\tprivate Date expiry;\r\n\t\r\n\tpublic boolean isUnexpired () {\r\n\t\treturn (expiry == null) ? true : expiry.after(new Date());\r\n\t}\r\n}\r\n```\r\n\r\n**User**\r\n```\r\npublic class User {\r\n  //...\r\n  private Collection&lt;Role&gt; roles\r\n\r\n  public boolean hasRole (UserRole userRole) {\r\n    return roles.stream()\r\n      .filter(r -&gt; r.getRole().equals(userRole))\r\n      .findFirst()\r\n      .ifPresent(ur -&gt; {  /* ... herein the problem ... */ ur.isUnexpired(); } );\r\n  }\r\n}\r\n```\r\n\r\nThe problem in that last line is that `ifPresent()` has a void signature; as such, I can&#39;t return `ur.isUnexpired()` from it. Whatever I put in the lambda expression or anonymous inner class at that point can&#39;t do anything meaningfully with the value it finds.\r\n\r\nI tried declaring a boolean before filtering the stream, and assigning it, but get the (code validation) error: `local variables referenced from a lambda expression must be final or effectively final`.\r\n\r\n(I know, there&#39;s a bit more to handle when it&#39;s not present; if I can sort this, I can swap to `ifPresentOrElse()`.)\r\n\r\nI could do the following:\r\n```\r\n  public boolean hasRole (UserRole userRole) {\r\n    Optional&lt;Role&gt; o = roles.stream()\r\n      .filter(r -&gt; r.getRole().equals(userRole))\r\n      .findFirst();\r\n    return o.isPresent() ? o.get().isUnexpired() : false;\r\n  }\r\n```\r\nHowever, I would rather do it with a cleaner, chained function.\r\n\r\nIs there some way to extract and use my `isUnexpired()` boolean with a chained function? Or must I assign the `Optional` then operate on it separately?","title":"Getting a value from an inside an Optional with isPresent()","body":"<p>I have a <code>User</code> and associated time-limited <code>Role</code>s. I want to know if a <code>User</code> has a particular <code>UserRole</code> <em>and</em> it is unexpired. I can turn the user's roles into a stream, <code>filter()</code> it and <code>findFirst()</code>, giving me an <code>Optional</code>.</p>\n<p><strong>Role</strong></p>\n<pre><code>public class Role {\n    private UserRole role;\n    private Date expiry;\n    \n    public boolean isUnexpired () {\n        return (expiry == null) ? true : expiry.after(new Date());\n    }\n}\n</code></pre>\n<p><strong>User</strong></p>\n<pre><code>public class User {\n  //...\n  private Collection&lt;Role&gt; roles\n\n  public boolean hasRole (UserRole userRole) {\n    return roles.stream()\n      .filter(r -&gt; r.getRole().equals(userRole))\n      .findFirst()\n      .ifPresent(ur -&gt; {  /* ... herein the problem ... */ ur.isUnexpired(); } );\n  }\n}\n</code></pre>\n<p>The problem in that last line is that <code>ifPresent()</code> has a void signature; as such, I can't return <code>ur.isUnexpired()</code> from it. Whatever I put in the lambda expression or anonymous inner class at that point can't do anything meaningfully with the value it finds.</p>\n<p>I tried declaring a boolean before filtering the stream, and assigning it, but get the (code validation) error: <code>local variables referenced from a lambda expression must be final or effectively final</code>.</p>\n<p>(I know, there's a bit more to handle when it's not present; if I can sort this, I can swap to <code>ifPresentOrElse()</code>.)</p>\n<p>I could do the following:</p>\n<pre><code>  public boolean hasRole (UserRole userRole) {\n    Optional&lt;Role&gt; o = roles.stream()\n      .filter(r -&gt; r.getRole().equals(userRole))\n      .findFirst();\n    return o.isPresent() ? o.get().isUnexpired() : false;\n  }\n</code></pre>\n<p>However, I would rather do it with a cleaner, chained function.</p>\n<p>Is there some way to extract and use my <code>isUnexpired()</code> boolean with a chained function? Or must I assign the <code>Optional</code> then operate on it separately?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":12865482,"reputation":133,"user_id":9305919,"display_name":"Ramsey"},"score":1,"creation_date":1519149255,"post_id":48891376,"comment_id":84788138,"body_markdown":"I know it but why do we need it?","body":"I know it but why do we need it?"},{"owner":{"account_id":1135386,"reputation":622,"user_id":1120534,"accept_rate":40,"display_name":"inquizitive"},"score":1,"creation_date":1519149408,"post_id":48891376,"comment_id":84788227,"body_markdown":"You need it because you are storing the letter counts in an array. the value of any element in the array contains the count and the index acts as a key for the letter used. For example - the counts of letter A is stored in `&#39;A&#39; -&#39;A&#39; = 0`","body":"You need it because you are storing the letter counts in an array. the value of any element in the array contains the count and the index acts as a key for the letter used. For example - the counts of letter A is stored in <code>&#39;A&#39; -&#39;A&#39; = 0</code>"},{"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"score":2,"creation_date":1519149624,"post_id":48891376,"comment_id":84788329,"body_markdown":"Just a sidenote: This implementation will happily break with an exception with 99% of all input where `Character.isLetter(ch)`returns `true`","body":"Just a sidenote: This implementation will happily break with an exception with 99% of all input where <code>Character.isLetter(ch)</code>returns <code>true</code>"}],"answers":[{"tags":[],"owner":{"account_id":12641775,"reputation":393,"user_id":9189009,"accept_rate":100,"display_name":"Alexia Desouza"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679083283,"creation_date":1519149505,"answer_id":48891477,"question_id":48891376,"body_markdown":"     int index = Character.toUpperCase(ch) - &#39;A&#39;; \r\n\r\n`index` gives you the position in the array where the count for that particular is stored. \r\n\r\n    letters[index]++;\r\n\r\nAnd then it increments the count of that particular character.\r\n\r\nUnderstand this\r\n   \r\n     index = Character.toUpperCase(ch) - &#39;A&#39;;\r\n\r\n* &#39;A&#39; - &#39;A&#39;    this will give array position 0\r\n* &#39;B&#39; - &#39;A&#39; this will give array position 1 which is B count position and so on, till\r\n* &#39;Z&#39; - &#39;A&#39; this will give position 25 of the array where the count of &#39;Z&#39; will be stored\r\n\r\n\r\nIt does ASCII value subtraction\r\n\r\nFor \r\n     \r\n     &#39;A&#39; - &#39;A&#39; it will do 65-65 =0    65 is ascii value of &#39;A&#39;\r\n\r\n     &#39;B&#39; - &#39;A&#39; it will do 66-65 =1\r\n\r\n     &#39;Z&#39; - &#39;A&#39; it will do 90-65 = 25","title":"Count Letter Frequencies","body":"<pre><code> int index = Character.toUpperCase(ch) - 'A'; \n</code></pre>\n<p><code>index</code> gives you the position in the array where the count for that particular is stored.</p>\n<pre><code>letters[index]++;\n</code></pre>\n<p>And then it increments the count of that particular character.</p>\n<p>Understand this</p>\n<pre><code> index = Character.toUpperCase(ch) - 'A';\n</code></pre>\n<ul>\n<li>'A' - 'A'    this will give array position 0</li>\n<li>'B' - 'A' this will give array position 1 which is B count position and so on, till</li>\n<li>'Z' - 'A' this will give position 25 of the array where the count of 'Z' will be stored</li>\n</ul>\n<p>It does ASCII value subtraction</p>\n<p>For</p>\n<pre><code> 'A' - 'A' it will do 65-65 =0    65 is ascii value of 'A'\n\n 'B' - 'A' it will do 66-65 =1\n\n 'Z' - 'A' it will do 90-65 = 25\n</code></pre>\n"}],"owner":{"account_id":12865482,"reputation":133,"user_id":9305919,"display_name":"Ramsey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":48891477,"answer_count":1,"score":2,"last_activity_date":1679083283,"creation_date":1519149092,"question_id":48891376,"body_markdown":" The below code is from my old lecture notes and I have forgotten why do we need\r\n        `letters[index]++` here? Can someone explain why do we need it?\r\n    \r\n    public class CountLetterFrequencies {\r\n    \r\n    \t/* Private instance variables */\r\n    \tprivate static int[] letters = new int[26];\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;This program counts letter frequencies. Enter text:&quot;);\r\n    \r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \r\n    \t\tString line = sc.nextLine(); \r\n    \r\n    \t\tcountLetterFrequencies(line);\r\n    \r\n    \t\tprintFrequencyTable();\r\n    \r\n    \t\tsc.close();\r\n    \t}\r\n    \r\n    \t/* Counts the letter frequencies in a line of text */\r\n    \tprivate static void countLetterFrequencies(String line) {\r\n    \t\tfor (int i = 0; i &lt; line.length(); i++) {\r\n    \t\t\tchar ch = line.charAt(i);\r\n    \t\t\tif (Character.isLetter(ch)) { // Character.isLetter(ch)\r\n    \t\t\t\tint index = Character.toUpperCase(ch) - &#39;A&#39;; // index = C - A = 2\r\n    \t\t\t\tletters[index]++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    private static void printFrequencyTable() {\r\n    \t\tfor (char ch = &#39;A&#39;; ch &lt;= &#39;Z&#39;; ch++) {\r\n    \t\t\tint index = ch - &#39;A&#39;; // So, if ch is B, then index =&gt; B-A =&gt; 1\r\n    \t\t\tif(letters[index] != 0) // if we wanna print only existing letters\r\n    \t\t\t\tSystem.out.println(ch + &quot;: &quot; + letters[index]);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Count Letter Frequencies","body":"<p>The below code is from my old lecture notes and I have forgotten why do we need\n        <code>letters[index]++</code> here? Can someone explain why do we need it?</p>\n\n<pre><code>public class CountLetterFrequencies {\n\n    /* Private instance variables */\n    private static int[] letters = new int[26];\n\n    public static void main(String[] args) {\n        System.out.println(\"This program counts letter frequencies. Enter text:\");\n\n        Scanner sc = new Scanner(System.in);\n\n        String line = sc.nextLine(); \n\n        countLetterFrequencies(line);\n\n        printFrequencyTable();\n\n        sc.close();\n    }\n\n    /* Counts the letter frequencies in a line of text */\n    private static void countLetterFrequencies(String line) {\n        for (int i = 0; i &lt; line.length(); i++) {\n            char ch = line.charAt(i);\n            if (Character.isLetter(ch)) { // Character.isLetter(ch)\n                int index = Character.toUpperCase(ch) - 'A'; // index = C - A = 2\n                letters[index]++;\n            }\n        }\n    }\n\nprivate static void printFrequencyTable() {\n        for (char ch = 'A'; ch &lt;= 'Z'; ch++) {\n            int index = ch - 'A'; // So, if ch is B, then index =&gt; B-A =&gt; 1\n            if(letters[index] != 0) // if we wanna print only existing letters\n                System.out.println(ch + \": \" + letters[index]);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","while-loop"],"owner":{"account_id":27999399,"reputation":1,"user_id":21383978,"display_name":"Gog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679083228,"creation_date":1678636942,"question_id":75714410,"body_markdown":"I&#39;m making this bingo program and as you can see, my objective to have the user win if the numbers they&#39;ve generated are present in the bingo card and if they are present in the winning pattern they have chosen, however my output looks like this:\r\n\r\nBingo:\r\n\r\n[![](https://i.stack.imgur.com/c8IP4l.png)](https://i.stack.imgur.com/c8IP4.png)\r\n\r\n```java\r\npackage Bingo;\r\n\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Trying {\r\n    public static void main(String[] args) {\r\n\r\n        Random random = new Random();\r\n        Scanner inp = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;\\n************** BINGO **************&quot;);\r\n        System.out.println(&quot;\\nCreate your card!&quot;);\r\n        System.out.println(&quot;\\nPlease input numbers from 1 - 15 in column B&quot;);\r\n        System.out.println(&quot;Please input numbers from 16 - 30 in column I&quot;);\r\n        System.out.println(&quot;Please input numbers from 31 - 45 in column N&quot;);\r\n        System.out.println(&quot;Please input numbers from 46 - 60 in column G&quot;);\r\n        System.out.println(&quot;Please input numbers from 61 - 75 in column O&quot;);\r\n        System.out.println(&quot;==============================================&quot;);\r\n        System.out.println(&quot;Lets begin!&quot;);\r\n\r\n        int[][] card = new int[5][5];\r\n\r\n        System.out.println(&quot;Enter 5 numbers from 1-15 for column B:&quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            int num = 0;\r\n            boolean validInput = false;\r\n            while (!validInput) {\r\n                if (inp.hasNextInt()) {\r\n                    num = inp.nextInt();\r\n                    if (num &gt;= 1 &amp;&amp; num &lt;= 15) {\r\n                        validInput = true;\r\n                    } else {\r\n                        System.out.println(&quot;Invalid input. Please enter a number between 1-15.&quot;);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Invalid input. Please enter a number between 1-15.&quot;);\r\n                    inp.next();\r\n                }\r\n            }\r\n            card[i][0] = num;\r\n        }\r\n        System.out.println(&quot;Enter 5 numbers from 16-30 for column I:&quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            int num = 0;\r\n            boolean validInput = false;\r\n            while (!validInput) {\r\n                if (inp.hasNextInt()) {\r\n                    num = inp.nextInt();\r\n                    if (num &gt;= 16 &amp;&amp; num &lt;= 30) {\r\n                        validInput = true;\r\n                    } else {\r\n                        System.out.println(&quot;Invalid input. Please enter a number between 16-30.&quot;);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Invalid input. Please enter a number between 16-30.&quot;);\r\n                    inp.next();\r\n                }\r\n            }\r\n            card[i][1] = num;\r\n        }\r\n        System.out.println(&quot;Enter 5 numbers from 31-45 for column N:&quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            int num = 0;\r\n            boolean validInput = false;\r\n            while (!validInput) {\r\n                if (inp.hasNextInt()) {\r\n                    num = inp.nextInt();\r\n                    if (num &gt;= 31 &amp;&amp; num &lt;= 45) {\r\n                        validInput = true;\r\n                    } else {\r\n                        System.out.println(&quot;Invalid input. Please enter a number between 31-45.&quot;);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Invalid input. Please enter a number between 31-45.&quot;);\r\n                    inp.next();\r\n                }\r\n            }\r\n            card[i][2] = num;\r\n        }\r\n        System.out.println(&quot;Enter 5 numbers from 46-60 for column G:&quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            int num = 0;\r\n            boolean validInput = false;\r\n            while (!validInput) {\r\n                if (inp.hasNextInt()) {\r\n                    num = inp.nextInt();\r\n                    if (num &gt;= 46 &amp;&amp; num &lt;= 60) {\r\n                        validInput = true;\r\n                    } else {\r\n                        System.out.println(&quot;Invalid input. Please enter a number between 46-60.&quot;);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Invalid input. Please enter a number between 46-60.&quot;);\r\n                    inp.next();\r\n                }\r\n            }\r\n\r\n            card[i][3] = num;\r\n        }\r\n        System.out.println(&quot;Enter 5 numbers from 61-75 for column O:&quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            int num = 0;\r\n            boolean validInput = false;\r\n            while (!validInput) {\r\n                if (inp.hasNextInt()) {\r\n                    num = inp.nextInt();\r\n                    if (num &gt;= 61 &amp;&amp; num &lt;= 75) {\r\n                        validInput = true;\r\n                    } else {\r\n                        System.out.println(&quot;Invalid input. Please enter a number between 61-75.&quot;);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Invalid input. Please enter a number 1between 61-75.&quot;);\r\n                    inp.next();\r\n                }\r\n            }\r\n            card[i][4] = num;\r\n        }\r\n\r\n        System.out.println(&quot;Here is your card&quot;);\r\n        // Display the Bingo card\r\n        System.out.println(&quot;B   I   N   G   O&quot;);\r\n        for (int i = 0; i &lt; card.length; i++) {\r\n            for (int j = 0; j &lt; card[i].length; j++) {\r\n                System.out.print(card[i][j] + &quot;\\t&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n\r\n        System.out.println(&quot; \\n&quot;);\r\n        int bingo;\r\n\r\n        System.out.println(&quot;Select your winning pattern!&quot;);\r\n        System.out.println(&quot;1 - BLACKOUT BINGO&quot;);\r\n        System.out.println(&quot;2 - LINES BINGO&quot;);\r\n        System.out.println(&quot;3 - T&#39;s BINGO&quot;);\r\n        System.out.println(&quot;4 - U&#39;s BINGO&quot;);\r\n        System.out.println(&quot;5 - SQUARES BINGO&quot;);\r\n\r\n        bingo = inp.nextInt();\r\n\r\n        if (bingo == 1) {\r\n            System.out.println(&quot;YOU&#39;VE CHOSEN BLACKOUT BINGO!&quot;);\r\n\r\n        } else if (bingo == 2) {\r\n            System.out.println(&quot;YOU&#39;VE CHOSEN LINES BINGO!&quot;);\r\n        } else if (bingo == 3) {\r\n            System.out.println(&quot;YOU&#39;VE CHOSEN T&#39;s BINGO!&quot;);\r\n        } else if (bingo == 4) {\r\n            System.out.println(&quot;YOU&#39;VE CHOSEN U&#39;s BINGO!&quot;);\r\n        } else if (bingo == 5) {\r\n            System.out.println(&quot;YOU&#39;VE CHOSEN SQUARES BINGO!&quot;);\r\n        }\r\n\r\n        while (true) {\r\n            System.out.println(&quot;\\nPress 1 to generate 5 number or press 2 if you wish to quit&quot;);\r\n            int choice = inp.nextInt();\r\n\r\n            switch (choice) {\r\n                case 1:\r\n                    System.out.println(&quot;Generating 5 random numbers...&quot;);\r\n                    int[] selectedNumbers = new int[5];\r\n                    for (int i = 0; i &lt; 5; i++) {\r\n                        int randomNumber = random.nextInt(75) + 1;\r\n                        selectedNumbers[i] = randomNumber;\r\n                        System.out.print(selectedNumbers[i] + &quot; &quot;);\r\n\r\n                        for (int row = 0; row &lt; 5; row++) {\r\n                            for (int col = 0; col &lt; 5; col++) {\r\n                                if (card[row][col] == randomNumber) {\r\n                                    card[row][col] = -1;\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            if (bingo == 1 &amp;&amp; (card[row][0] == -1 || card[row][1] == -1 || card[row][2] == -1 || card[row][3] == -1 || card[row][4] == -1)) {\r\n                                System.out.println(&quot;\\nYOU&#39;VE WON WITH BLACKOUT&quot;);\r\n                                break;\r\n\r\n                            } else if (bingo == 5 &amp;&amp; (card[0][0] == -1 || card[0][1] == -1 || card[0][2] == -1 || card[0][3] == -1 || card[0][4] == -1 || card[1][0] == -1 || card[2][0] == -1 || card[3][0] == -1 || card[4][0] == -1 || card[4][1] == -1 || card[4][2] == -1 || card[4][3] == -1 || card[4][4] == -1 || card[1][4] == -1 || card[2][4] == -1 || card[3][4] == -1)) {\r\n\r\n                                System.out.println(&quot;\\nYOU&#39;VE WON WITH SQUARES BINGO&quot;);\r\n                                break;\r\n\r\n                            } else {\r\n\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case 2:\r\n                    System.out.println(&quot;You have quit, goodbye&quot;);\r\n                    break;\r\n            }\r\n            break;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAn output similar to this is what I want to achieve\r\n\r\n![not my code](https://i.stack.imgur.com/82gAI.png)","title":"Why does my output print multiple times in a while loop?","body":"<p>I'm making this bingo program and as you can see, my objective to have the user win if the numbers they've generated are present in the bingo card and if they are present in the winning pattern they have chosen, however my output looks like this:</p>\n<p>Bingo:</p>\n<p><a href=\"https://i.stack.imgur.com/c8IP4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c8IP4l.png\" alt=\"\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>package Bingo;\n\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class Trying {\n    public static void main(String[] args) {\n\n        Random random = new Random();\n        Scanner inp = new Scanner(System.in);\n\n        System.out.println(&quot;\\n************** BINGO **************&quot;);\n        System.out.println(&quot;\\nCreate your card!&quot;);\n        System.out.println(&quot;\\nPlease input numbers from 1 - 15 in column B&quot;);\n        System.out.println(&quot;Please input numbers from 16 - 30 in column I&quot;);\n        System.out.println(&quot;Please input numbers from 31 - 45 in column N&quot;);\n        System.out.println(&quot;Please input numbers from 46 - 60 in column G&quot;);\n        System.out.println(&quot;Please input numbers from 61 - 75 in column O&quot;);\n        System.out.println(&quot;==============================================&quot;);\n        System.out.println(&quot;Lets begin!&quot;);\n\n        int[][] card = new int[5][5];\n\n        System.out.println(&quot;Enter 5 numbers from 1-15 for column B:&quot;);\n        for (int i = 0; i &lt; 5; i++) {\n            int num = 0;\n            boolean validInput = false;\n            while (!validInput) {\n                if (inp.hasNextInt()) {\n                    num = inp.nextInt();\n                    if (num &gt;= 1 &amp;&amp; num &lt;= 15) {\n                        validInput = true;\n                    } else {\n                        System.out.println(&quot;Invalid input. Please enter a number between 1-15.&quot;);\n                    }\n                } else {\n                    System.out.println(&quot;Invalid input. Please enter a number between 1-15.&quot;);\n                    inp.next();\n                }\n            }\n            card[i][0] = num;\n        }\n        System.out.println(&quot;Enter 5 numbers from 16-30 for column I:&quot;);\n        for (int i = 0; i &lt; 5; i++) {\n            int num = 0;\n            boolean validInput = false;\n            while (!validInput) {\n                if (inp.hasNextInt()) {\n                    num = inp.nextInt();\n                    if (num &gt;= 16 &amp;&amp; num &lt;= 30) {\n                        validInput = true;\n                    } else {\n                        System.out.println(&quot;Invalid input. Please enter a number between 16-30.&quot;);\n                    }\n                } else {\n                    System.out.println(&quot;Invalid input. Please enter a number between 16-30.&quot;);\n                    inp.next();\n                }\n            }\n            card[i][1] = num;\n        }\n        System.out.println(&quot;Enter 5 numbers from 31-45 for column N:&quot;);\n        for (int i = 0; i &lt; 5; i++) {\n            int num = 0;\n            boolean validInput = false;\n            while (!validInput) {\n                if (inp.hasNextInt()) {\n                    num = inp.nextInt();\n                    if (num &gt;= 31 &amp;&amp; num &lt;= 45) {\n                        validInput = true;\n                    } else {\n                        System.out.println(&quot;Invalid input. Please enter a number between 31-45.&quot;);\n                    }\n                } else {\n                    System.out.println(&quot;Invalid input. Please enter a number between 31-45.&quot;);\n                    inp.next();\n                }\n            }\n            card[i][2] = num;\n        }\n        System.out.println(&quot;Enter 5 numbers from 46-60 for column G:&quot;);\n        for (int i = 0; i &lt; 5; i++) {\n            int num = 0;\n            boolean validInput = false;\n            while (!validInput) {\n                if (inp.hasNextInt()) {\n                    num = inp.nextInt();\n                    if (num &gt;= 46 &amp;&amp; num &lt;= 60) {\n                        validInput = true;\n                    } else {\n                        System.out.println(&quot;Invalid input. Please enter a number between 46-60.&quot;);\n                    }\n                } else {\n                    System.out.println(&quot;Invalid input. Please enter a number between 46-60.&quot;);\n                    inp.next();\n                }\n            }\n\n            card[i][3] = num;\n        }\n        System.out.println(&quot;Enter 5 numbers from 61-75 for column O:&quot;);\n        for (int i = 0; i &lt; 5; i++) {\n            int num = 0;\n            boolean validInput = false;\n            while (!validInput) {\n                if (inp.hasNextInt()) {\n                    num = inp.nextInt();\n                    if (num &gt;= 61 &amp;&amp; num &lt;= 75) {\n                        validInput = true;\n                    } else {\n                        System.out.println(&quot;Invalid input. Please enter a number between 61-75.&quot;);\n                    }\n                } else {\n                    System.out.println(&quot;Invalid input. Please enter a number 1between 61-75.&quot;);\n                    inp.next();\n                }\n            }\n            card[i][4] = num;\n        }\n\n        System.out.println(&quot;Here is your card&quot;);\n        // Display the Bingo card\n        System.out.println(&quot;B   I   N   G   O&quot;);\n        for (int i = 0; i &lt; card.length; i++) {\n            for (int j = 0; j &lt; card[i].length; j++) {\n                System.out.print(card[i][j] + &quot;\\t&quot;);\n            }\n            System.out.println();\n        }\n\n        System.out.println(&quot; \\n&quot;);\n        int bingo;\n\n        System.out.println(&quot;Select your winning pattern!&quot;);\n        System.out.println(&quot;1 - BLACKOUT BINGO&quot;);\n        System.out.println(&quot;2 - LINES BINGO&quot;);\n        System.out.println(&quot;3 - T's BINGO&quot;);\n        System.out.println(&quot;4 - U's BINGO&quot;);\n        System.out.println(&quot;5 - SQUARES BINGO&quot;);\n\n        bingo = inp.nextInt();\n\n        if (bingo == 1) {\n            System.out.println(&quot;YOU'VE CHOSEN BLACKOUT BINGO!&quot;);\n\n        } else if (bingo == 2) {\n            System.out.println(&quot;YOU'VE CHOSEN LINES BINGO!&quot;);\n        } else if (bingo == 3) {\n            System.out.println(&quot;YOU'VE CHOSEN T's BINGO!&quot;);\n        } else if (bingo == 4) {\n            System.out.println(&quot;YOU'VE CHOSEN U's BINGO!&quot;);\n        } else if (bingo == 5) {\n            System.out.println(&quot;YOU'VE CHOSEN SQUARES BINGO!&quot;);\n        }\n\n        while (true) {\n            System.out.println(&quot;\\nPress 1 to generate 5 number or press 2 if you wish to quit&quot;);\n            int choice = inp.nextInt();\n\n            switch (choice) {\n                case 1:\n                    System.out.println(&quot;Generating 5 random numbers...&quot;);\n                    int[] selectedNumbers = new int[5];\n                    for (int i = 0; i &lt; 5; i++) {\n                        int randomNumber = random.nextInt(75) + 1;\n                        selectedNumbers[i] = randomNumber;\n                        System.out.print(selectedNumbers[i] + &quot; &quot;);\n\n                        for (int row = 0; row &lt; 5; row++) {\n                            for (int col = 0; col &lt; 5; col++) {\n                                if (card[row][col] == randomNumber) {\n                                    card[row][col] = -1;\n                                    break;\n                                }\n                            }\n\n                            if (bingo == 1 &amp;&amp; (card[row][0] == -1 || card[row][1] == -1 || card[row][2] == -1 || card[row][3] == -1 || card[row][4] == -1)) {\n                                System.out.println(&quot;\\nYOU'VE WON WITH BLACKOUT&quot;);\n                                break;\n\n                            } else if (bingo == 5 &amp;&amp; (card[0][0] == -1 || card[0][1] == -1 || card[0][2] == -1 || card[0][3] == -1 || card[0][4] == -1 || card[1][0] == -1 || card[2][0] == -1 || card[3][0] == -1 || card[4][0] == -1 || card[4][1] == -1 || card[4][2] == -1 || card[4][3] == -1 || card[4][4] == -1 || card[1][4] == -1 || card[2][4] == -1 || card[3][4] == -1)) {\n\n                                System.out.println(&quot;\\nYOU'VE WON WITH SQUARES BINGO&quot;);\n                                break;\n\n                            } else {\n\n                            }\n                        }\n                    }\n                    break;\n                case 2:\n                    System.out.println(&quot;You have quit, goodbye&quot;);\n                    break;\n            }\n            break;\n        }\n    }\n}\n</code></pre>\n<p>An output similar to this is what I want to achieve</p>\n<p><img src=\"https://i.stack.imgur.com/82gAI.png\" alt=\"not my code\" /></p>\n"},{"tags":["java","hibernate","hibernate-envers","javers"],"comments":[{"owner":{"account_id":1714975,"reputation":20238,"user_id":1572269,"accept_rate":43,"display_name":"Naros"},"score":0,"creation_date":1520635609,"post_id":49198202,"comment_id":85412004,"body_markdown":"Wouldn&#39;t your solution imply that you&#39;d need to read all audit rows for a given `Employee` with an id up to a specific revision number in order to merge the diffs to know all the audit state about that employee?  That seems like far more overhead than simply storing a snapshot like Envers does, allowing the querying side to be straight forward, efficient, and simple.","body":"Wouldn&#39;t your solution imply that you&#39;d need to read all audit rows for a given <code>Employee</code> with an id up to a specific revision number in order to merge the diffs to know all the audit state about that employee?  That seems like far more overhead than simply storing a snapshot like Envers does, allowing the querying side to be straight forward, efficient, and simple."},{"owner":{"account_id":5338007,"reputation":3416,"user_id":4256260,"display_name":"Bartek Walacik"},"score":0,"creation_date":1520677125,"post_id":49198202,"comment_id":85420580,"body_markdown":"If you consider Javers or Envers, this article could help https://javers.org/blog/2017/12/javers-vs-envers-comparision.html","body":"If you consider Javers or Envers, this article could help <a href=\"https://javers.org/blog/2017/12/javers-vs-envers-comparision.html\" rel=\"nofollow noreferrer\">javers.org/blog/2017/12/javers-vs-envers-comparision.html</a>"},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1520843694,"post_id":49198202,"comment_id":85465260,"body_markdown":"@Naros you&#39;re right, but we are interested only in diffs.","body":"@Naros you&#39;re right, but we are interested only in diffs."},{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1520843866,"post_id":49198202,"comment_id":85465356,"body_markdown":"@BartekWalacik thanks for the linke (I already read it) and well done for the awesome work :)","body":"@BartekWalacik thanks for the linke (I already read it) and well done for the awesome work :)"}],"answers":[{"tags":[],"owner":{"account_id":1714975,"reputation":20238,"user_id":1572269,"accept_rate":43,"display_name":"Naros"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1520952390,"creation_date":1520952390,"answer_id":49259159,"question_id":49198202,"body_markdown":"Envers cannot be _extended_ in the way which you describe.  \r\n\r\nWhat you describe would require a complete replacement of the metadata processing for the entity models and how the XML schema gets generated for ORM along with how the mappers are used for both reading and writing entities during the ORM transaction and `AuditReader` queries.  In short, it ends up being a shift in design paradigm which influences a considerable amount of internal functionality.\r\n\r\nThe storage of a JSON string is not ideal, particularly on relational databases and even more so in environments that do not yet truly support that data-type.  You&#39;ll incur a performance hit both at write and read times for converting between JSON and a Character Blob and then incur an additional seek and read/write at the database to store that blob in a separate area away from the other column data by virtue of its unknown/varying size.\r\n\r\nWhile there are database platforms out there which can help with the above concerns, it&#39;s still worth being mindful about particularly in an audit tool where you can potentially be dealing with considerable volumes of rows as data changes.\r\n\r\nI believe the closest Envers could come here would be that a configuration option could be realized that would allow us to still maintain a column-based audit table but only stash the modified columns per snapshot rather than all columns.  \r\n\r\nWhat we&#39;d have to see is how much of an impact this has on the `AuditReader` API.  If that&#39;s something you&#39;d like to see, feel free to open a JIRA and submit a PR for my review.\r\n","title":"How to customize Hibernate EnVers","body":"<p>Envers cannot be <em>extended</em> in the way which you describe.  </p>\n\n<p>What you describe would require a complete replacement of the metadata processing for the entity models and how the XML schema gets generated for ORM along with how the mappers are used for both reading and writing entities during the ORM transaction and <code>AuditReader</code> queries.  In short, it ends up being a shift in design paradigm which influences a considerable amount of internal functionality.</p>\n\n<p>The storage of a JSON string is not ideal, particularly on relational databases and even more so in environments that do not yet truly support that data-type.  You'll incur a performance hit both at write and read times for converting between JSON and a Character Blob and then incur an additional seek and read/write at the database to store that blob in a separate area away from the other column data by virtue of its unknown/varying size.</p>\n\n<p>While there are database platforms out there which can help with the above concerns, it's still worth being mindful about particularly in an audit tool where you can potentially be dealing with considerable volumes of rows as data changes.</p>\n\n<p>I believe the closest Envers could come here would be that a configuration option could be realized that would allow us to still maintain a column-based audit table but only stash the modified columns per snapshot rather than all columns.  </p>\n\n<p>What we'd have to see is how much of an impact this has on the <code>AuditReader</code> API.  If that's something you'd like to see, feel free to open a JIRA and submit a PR for my review.</p>\n"}],"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1633,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49259159,"answer_count":1,"score":0,"last_activity_date":1679083114,"creation_date":1520613191,"question_id":49198202,"body_markdown":"We&#39;re designing our entity audit library with two specific requirements: one table per entity and incremental logs (JSON diff) not (full snapshots).\r\n\r\nI know only about Hibernate EnVers and JaVers for entity auditing (if there&#39;s anything else please let me know) and none of them satisfies our requirements.\r\n\r\nWe already know what audit records look like, and we&#39;d like to re-use as much as possible while implementing the library. I&#39;m thinking of adding Hibernate EnVers as dependency and customizing/extending it to support our needs.\r\n\r\nFirst question is, considering our needs and our platform (we use Spring+JPA+Hibernate), is there any strong argument to go with JaVers rather than Hibernate EnVers?\r\n\r\nAssuming that the answer to the first question is no and we&#39;re going to use Hibernate EnVers, to what extend Hibernate EnVers is extensible? And also, apart from some super simple examples, I couldn&#39;t find any resources on how to exactly do it. Is there any? Where can I start?\r\n\r\nOur design would be more or less as follow:\r\n\r\n    Entity Table\r\n    Employees (EmployeeId, FirstName, LastName, DepartmentId, ...)\r\n\r\n    Audit Table\r\n    Employees_AUD (EmployeeId, Diff, REV, REVTYPE)\r\n    -- EmployeeId: employee ID\r\n    -- Diff: diff of the two states of entity\r\n    -- REV: revision id (Hinbernate EnVers)\r\n    -- REVTYPE: revision type (Hinbernate EnVers)\r\n\r\n    REVINFO Table:\r\n    -- Original table created by Hibernate EnVers\r\n\r\nThanks.","title":"How to customize Hibernate EnVers","body":"<p>We're designing our entity audit library with two specific requirements: one table per entity and incremental logs (JSON diff) not (full snapshots).</p>\n<p>I know only about Hibernate EnVers and JaVers for entity auditing (if there's anything else please let me know) and none of them satisfies our requirements.</p>\n<p>We already know what audit records look like, and we'd like to re-use as much as possible while implementing the library. I'm thinking of adding Hibernate EnVers as dependency and customizing/extending it to support our needs.</p>\n<p>First question is, considering our needs and our platform (we use Spring+JPA+Hibernate), is there any strong argument to go with JaVers rather than Hibernate EnVers?</p>\n<p>Assuming that the answer to the first question is no and we're going to use Hibernate EnVers, to what extend Hibernate EnVers is extensible? And also, apart from some super simple examples, I couldn't find any resources on how to exactly do it. Is there any? Where can I start?</p>\n<p>Our design would be more or less as follow:</p>\n<pre><code>Entity Table\nEmployees (EmployeeId, FirstName, LastName, DepartmentId, ...)\n\nAudit Table\nEmployees_AUD (EmployeeId, Diff, REV, REVTYPE)\n-- EmployeeId: employee ID\n-- Diff: diff of the two states of entity\n-- REV: revision id (Hinbernate EnVers)\n-- REVTYPE: revision type (Hinbernate EnVers)\n\nREVINFO Table:\n-- Original table created by Hibernate EnVers\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","file","filereader","java-io","filewriter"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1522799542,"post_id":49640667,"comment_id":86289061,"body_markdown":"Short answer, no. Long answer, you&#39;re going to have to do this manually, reading in each line and writing to a temp file in the order you want","body":"Short answer, no. Long answer, you&#39;re going to have to do this manually, reading in each line and writing to a temp file in the order you want"},{"owner":{"account_id":10135792,"reputation":61,"user_id":8693385,"display_name":"Meowminator"},"score":0,"creation_date":1522818057,"post_id":49640667,"comment_id":86293782,"body_markdown":"Eventually I found this answer https://stackoverflow.com/questions/1377279/find-a-line-in-a-file-and-remove-it","body":"Eventually I found this answer <a href=\"https://stackoverflow.com/questions/1377279/find-a-line-in-a-file-and-remove-it\" title=\"find a line in a file and remove it\">stackoverflow.com/questions/1377279/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679082797,"creation_date":1522827412,"answer_id":49645307,"question_id":49640667,"body_markdown":"Glad you found a solution but just in case you want another solution you can try this method code. The method allows you to move any literal file line to any literal line location within the file. \r\n\r\nThe code is well commented. Read the doc&#39;s above the method:\r\n\r\n    /**\r\n     * Moves a text file line supplied as a literal file line number to another literal \r\n     * file line location.&lt;br&gt;&lt;br&gt;\r\n     * \r\n     * A temporary file is created with the modifications done. The original file is then \r\n     * deleted and the modified temporary file is renamed to the same name that the original \r\n     * file held.&lt;pre&gt;\r\n     * \r\n     * &lt;b&gt;Example Usage:&lt;/b&gt;\r\n     * \r\n     *    {@code \r\n     *      try {\r\n     *          moveFileLine(&quot;list.txt&quot;, 3, 1);\r\n     *      }\r\n     *      catch (IOException ex) {\r\n     *            Logger.getLogger(getName()).log(Level.SEVERE, null, ex);\r\n     *      }\r\n     *      }&lt;/pre&gt;\r\n     * \r\n     * @param filePath (String) The full path and file name of the text file to process.&lt;br&gt;\r\n     * \r\n     * @param lineToMove (Integer - int) A literal file line number of the text you want \r\n     * to move. By literal we mean line 1 is considered the first line of the file (not 0).&lt;br&gt;\r\n     * \r\n     * @param moveToLine (Optional - Integer - int - Default is 0) A literal file line \r\n     * number of where you want to move the file line text to. If 0 or nothing is is \r\n     * supplied then the line to move is placed at the end of the file otherwise the \r\n     * text is placed at the literal file line specified. By literal we mean line 1 is \r\n     * considered the first line of the file (not 0).&lt;br&gt;&lt;br&gt;\r\n     * \r\n     * If a value is supplied which is greater than the actual number of lines in file \r\n     * then that value is automatically changed to the number of lines in file which \r\n     * will therefore place the line-to-move to the end of file.&lt;br&gt;\r\n     * \r\n     * @throws FileNotFoundException\r\n     * @throws IOException\r\n     */\r\n    @SuppressWarnings(&quot;null&quot;)\r\n    public void moveFileLine (String filePath, int lineToMove, int... moveToLine) \r\n            throws FileNotFoundException, IOException {\r\n        int moveTo = 0; // Default move to\r\n        // Acquire the optional move-to line number if supplied.\r\n        if (moveToLine.length &gt; 0) {\r\n            moveTo = moveToLine[0];\r\n        }\r\n            \r\n        // open a stream reader and writer.\r\n        BufferedReader reader = new BufferedReader(new FileReader(filePath));\r\n        FileWriter writer = new FileWriter(&quot;tmpMoveLineFile.txt&quot;);\r\n    \r\n        String line;  // The current file line text bing processed.\r\n        String newLine = System.lineSeparator(); // System Line Separator.\r\n        String moveLineString = &quot;&quot;; // Will hold the file line text to move.\r\n        int lineCounter = 0; // Keeps track of the current file line.\r\n            \r\n        // Get and hold the file line contents we want to move.\r\n        while ((line = reader.readLine()) != null) {\r\n            lineCounter++;\r\n            if (lineCounter == lineToMove) {\r\n                moveLineString = line;\r\n                if (moveTo &gt; 0) { break; }\r\n            }\r\n        }\r\n        // Close the reader (if it&#39;s open)\r\n        if (reader != null) { reader.close(); }\r\n           \r\n        // If no Move-To line number was supplied then move the\r\n        // desired line to end of file so as to be the last line.\r\n        if (moveTo &lt;= 0 || moveTo &gt; lineCounter) {\r\n            moveTo = lineCounter;\r\n        }\r\n            \r\n            \r\n        // Set up to start reading our file from the beginning again.\r\n        reader = new BufferedReader(new FileReader(filePath));\r\n        lineCounter = 0;  // Reset the line counter\r\n            \r\n        // Start reading in file data one line at a time\r\n        while ((line = reader.readLine()) != null) {\r\n            lineCounter++;// increment to keep track of the current line number\r\n                \r\n            // If the line counter equals the supplied line to move to then...\r\n            if (lineCounter == moveTo) {\r\n                // Ternary Operator is used here. If the current line counter\r\n                // value is greater than 1 and the current line counter is\r\n                // greater than the line to move then write the current line\r\n                // the first then the line-to-move text otherwise write the\r\n                // line-to-move first then write the current line.\r\n                writer.write((lineCounter &gt; 1 &amp;&amp; lineCounter &gt; lineToMove ? \r\n                        line + newLine + moveLineString + newLine : \r\n                        moveLineString + newLine + line + newLine));\r\n            }\r\n            // otherwise just write the encountered line.\r\n            else if (lineCounter != lineToMove) {\r\n                writer.write(line + newLine);\r\n            }\r\n        }\r\n        // Close the reader and Writer.\r\n        writer.close();\r\n        reader.close();\r\n            \r\n        // delete the original file then Rename the newly created tmp \r\n        // file to the Original File name supplied.\r\n        File origFile = new File(filePath);\r\n        if (origFile.delete()) {\r\n            File srcFile = new File(&quot;tmpMoveLineFile.txt&quot;);\r\n            srcFile.renameTo(origFile);\r\n        }\r\n    }\r\n    ","title":"Is there a way with FileWriter to move the first line in a text file to the bottom?","body":"<p>Glad you found a solution but just in case you want another solution you can try this method code. The method allows you to move any literal file line to any literal line location within the file.</p>\n<p>The code is well commented. Read the doc's above the method:</p>\n<pre><code>/**\n * Moves a text file line supplied as a literal file line number to another literal \n * file line location.&lt;br&gt;&lt;br&gt;\n * \n * A temporary file is created with the modifications done. The original file is then \n * deleted and the modified temporary file is renamed to the same name that the original \n * file held.&lt;pre&gt;\n * \n * &lt;b&gt;Example Usage:&lt;/b&gt;\n * \n *    {@code \n *      try {\n *          moveFileLine(&quot;list.txt&quot;, 3, 1);\n *      }\n *      catch (IOException ex) {\n *            Logger.getLogger(getName()).log(Level.SEVERE, null, ex);\n *      }\n *      }&lt;/pre&gt;\n * \n * @param filePath (String) The full path and file name of the text file to process.&lt;br&gt;\n * \n * @param lineToMove (Integer - int) A literal file line number of the text you want \n * to move. By literal we mean line 1 is considered the first line of the file (not 0).&lt;br&gt;\n * \n * @param moveToLine (Optional - Integer - int - Default is 0) A literal file line \n * number of where you want to move the file line text to. If 0 or nothing is is \n * supplied then the line to move is placed at the end of the file otherwise the \n * text is placed at the literal file line specified. By literal we mean line 1 is \n * considered the first line of the file (not 0).&lt;br&gt;&lt;br&gt;\n * \n * If a value is supplied which is greater than the actual number of lines in file \n * then that value is automatically changed to the number of lines in file which \n * will therefore place the line-to-move to the end of file.&lt;br&gt;\n * \n * @throws FileNotFoundException\n * @throws IOException\n */\n@SuppressWarnings(&quot;null&quot;)\npublic void moveFileLine (String filePath, int lineToMove, int... moveToLine) \n        throws FileNotFoundException, IOException {\n    int moveTo = 0; // Default move to\n    // Acquire the optional move-to line number if supplied.\n    if (moveToLine.length &gt; 0) {\n        moveTo = moveToLine[0];\n    }\n        \n    // open a stream reader and writer.\n    BufferedReader reader = new BufferedReader(new FileReader(filePath));\n    FileWriter writer = new FileWriter(&quot;tmpMoveLineFile.txt&quot;);\n\n    String line;  // The current file line text bing processed.\n    String newLine = System.lineSeparator(); // System Line Separator.\n    String moveLineString = &quot;&quot;; // Will hold the file line text to move.\n    int lineCounter = 0; // Keeps track of the current file line.\n        \n    // Get and hold the file line contents we want to move.\n    while ((line = reader.readLine()) != null) {\n        lineCounter++;\n        if (lineCounter == lineToMove) {\n            moveLineString = line;\n            if (moveTo &gt; 0) { break; }\n        }\n    }\n    // Close the reader (if it's open)\n    if (reader != null) { reader.close(); }\n       \n    // If no Move-To line number was supplied then move the\n    // desired line to end of file so as to be the last line.\n    if (moveTo &lt;= 0 || moveTo &gt; lineCounter) {\n        moveTo = lineCounter;\n    }\n        \n        \n    // Set up to start reading our file from the beginning again.\n    reader = new BufferedReader(new FileReader(filePath));\n    lineCounter = 0;  // Reset the line counter\n        \n    // Start reading in file data one line at a time\n    while ((line = reader.readLine()) != null) {\n        lineCounter++;// increment to keep track of the current line number\n            \n        // If the line counter equals the supplied line to move to then...\n        if (lineCounter == moveTo) {\n            // Ternary Operator is used here. If the current line counter\n            // value is greater than 1 and the current line counter is\n            // greater than the line to move then write the current line\n            // the first then the line-to-move text otherwise write the\n            // line-to-move first then write the current line.\n            writer.write((lineCounter &gt; 1 &amp;&amp; lineCounter &gt; lineToMove ? \n                    line + newLine + moveLineString + newLine : \n                    moveLineString + newLine + line + newLine));\n        }\n        // otherwise just write the encountered line.\n        else if (lineCounter != lineToMove) {\n            writer.write(line + newLine);\n        }\n    }\n    // Close the reader and Writer.\n    writer.close();\n    reader.close();\n        \n    // delete the original file then Rename the newly created tmp \n    // file to the Original File name supplied.\n    File origFile = new File(filePath);\n    if (origFile.delete()) {\n        File srcFile = new File(&quot;tmpMoveLineFile.txt&quot;);\n        srcFile.renameTo(origFile);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10135792,"reputation":61,"user_id":8693385,"display_name":"Meowminator"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":981,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49645307,"answer_count":1,"score":0,"last_activity_date":1679082797,"creation_date":1522799405,"question_id":49640667,"body_markdown":"I have a text file that needs editing every time a jar runs. Here is what it initially looks like.\r\n\r\n    1.png\r\n    2.png\r\n    3.png\r\n    4.png\r\n\r\nWhat I&#39;ve been trying to do is use FileWriter to move the top line to the bottom, so the next line will be on top, so the result would be.\r\n\r\n    2.png\r\n    3.png\r\n    4.png\r\n    1.png\r\n\r\nHere is the code I wrote so far:\r\n\r\n        BufferedReader reader = new BufferedReader(new FileReader(&quot;list.txt&quot;));\r\n        FileWriter writer = new FileWriter(&quot;list.txt&quot;);\r\n\r\n        String newName = scan.nextLine();\r\n        writer.write(newName);\r\n\r\n        reader.close();\r\n        writer.close();\r\n\r\nThis won&#39;t work because the only thing present in the text will be `png.2`. So I was wondering... is there a way to tell FileWriter or something else to simply move the first line to the bottom?","title":"Is there a way with FileWriter to move the first line in a text file to the bottom?","body":"<p>I have a text file that needs editing every time a jar runs. Here is what it initially looks like.</p>\n\n<pre><code>1.png\n2.png\n3.png\n4.png\n</code></pre>\n\n<p>What I've been trying to do is use FileWriter to move the top line to the bottom, so the next line will be on top, so the result would be.</p>\n\n<pre><code>2.png\n3.png\n4.png\n1.png\n</code></pre>\n\n<p>Here is the code I wrote so far:</p>\n\n<pre><code>    BufferedReader reader = new BufferedReader(new FileReader(\"list.txt\"));\n    FileWriter writer = new FileWriter(\"list.txt\");\n\n    String newName = scan.nextLine();\n    writer.write(newName);\n\n    reader.close();\n    writer.close();\n</code></pre>\n\n<p>This won't work because the only thing present in the text will be <code>png.2</code>. So I was wondering... is there a way to tell FileWriter or something else to simply move the first line to the bottom?</p>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":2700704,"reputation":1111,"user_id":2331491,"accept_rate":75,"display_name":"balsick"},"score":1,"creation_date":1523011819,"post_id":49691049,"comment_id":86393882,"body_markdown":"maybe the problem might be in the ```webData.setup(url);``` method. Can you post its source?","body":"maybe the problem might be in the <code>webData.setup(url);</code> method. Can you post its source?"},{"owner":{"account_id":9436096,"reputation":960,"user_id":7018054,"display_name":"Naeem Khan"},"score":0,"creation_date":1523016215,"post_id":49691049,"comment_id":86396693,"body_markdown":"Hello. I have added that method in the edited main post since I ran out of characters posting it here. But that&#39;s not the problem. I have tested it before using a main method in it&#39;s own class and it didn&#39;t produce any repetations. The problem only occurs when I run multiple URLs from the GUI.","body":"Hello. I have added that method in the edited main post since I ran out of characters posting it here. But that&#39;s not the problem. I have tested it before using a main method in it&#39;s own class and it didn&#39;t produce any repetations. The problem only occurs when I run multiple URLs from the GUI."}],"answers":[{"tags":[],"owner":{"account_id":2700704,"reputation":1111,"user_id":2331491,"accept_rate":75,"display_name":"balsick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1523017670,"creation_date":1523017670,"answer_id":49692826,"question_id":49691049,"body_markdown":"The problem is right here\r\n\r\n    for(Element results : dateData) {\r\n        dates.add(results.text());\r\n    }\r\n\r\nYou&#39;re adding new ```Element``` instances to ```dates``` but never removing them.\r\nJust add\r\n\r\n    dates.clear();\r\n\r\nbefore ```webData.setup(url);```\r\n\r\nso\r\n\r\n    public void displayResults(String url, JTextArea area) {\r\n\r\n        //number of episode\r\n        int num = 1;\r\n        dates.clear();\r\n\r\n        //Get the URL from JTextField that will be passed as a parameter of this method\r\n        webData.setup(url);\r\n\r\n        String result = &quot;&quot;;\r\n\r\n        for (int i = 0; i &lt; webData.getDates().size(); i++) {\r\n            result += &quot;Episode &quot; + num++ + &quot;: &quot; + webData.getEpisodeTitle().get(i) + &quot;\\n&quot; + &quot;Air date: &quot;\r\n                    + webData.getDates().get(i) + &quot;\\n\\n&quot;;\r\n        }\r\n        //Set the text of JTextArea with the values produced in loop above\r\n        area.setText(result);\r\n    }\r\n\r\n","title":"Java JTextArea not resetting values","body":"<p>The problem is right here</p>\n\n<pre><code>for(Element results : dateData) {\n    dates.add(results.text());\n}\n</code></pre>\n\n<p>You're adding new <code>Element</code> instances to <code>dates</code> but never removing them.\nJust add</p>\n\n<pre><code>dates.clear();\n</code></pre>\n\n<p>before <code>webData.setup(url);</code></p>\n\n<p>so</p>\n\n<pre><code>public void displayResults(String url, JTextArea area) {\n\n    //number of episode\n    int num = 1;\n    dates.clear();\n\n    //Get the URL from JTextField that will be passed as a parameter of this method\n    webData.setup(url);\n\n    String result = \"\";\n\n    for (int i = 0; i &lt; webData.getDates().size(); i++) {\n        result += \"Episode \" + num++ + \": \" + webData.getEpisodeTitle().get(i) + \"\\n\" + \"Air date: \"\n                + webData.getDates().get(i) + \"\\n\\n\";\n    }\n    //Set the text of JTextArea with the values produced in loop above\n    area.setText(result);\n}\n</code></pre>\n"}],"owner":{"account_id":9436096,"reputation":960,"user_id":7018054,"display_name":"Naeem Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49692826,"answer_count":1,"score":1,"last_activity_date":1679082781,"creation_date":1523011589,"question_id":49691049,"body_markdown":"I&#39;m not sure if it&#39;s actually a JTextArea problem or ActionListener or something else.\r\n\r\nWhat my program does is it gets details from a given URL, and shows it in a JTextArea when the button is pressed. Here&#39;s the code I have problems with:\r\n\r\n\tpublic void displayResults(String url, JTextArea area) {\r\n\t\t\r\n\t\t//number of episode\r\n\t\tint num = 1;\r\n\t\t\r\n\t\t//Get the URL from JTextField that will be passed as a parameter of this method\r\n\t\twebData.setup(url);\r\n\t\t\r\n\t\tString result = &quot;&quot;;\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; webData.getDates().size(); i++) {\r\n\t\t\tresult += &quot;Episode &quot; + num++ + &quot;: &quot; + webData.getEpisodeTitle().get(i) + &quot;\\n&quot; + &quot;Air date: &quot;\r\n\t\t\t\t\t+ webData.getDates().get(i) + &quot;\\n\\n&quot;;\r\n\t\t}\r\n\t\t//Set the text of JTextArea with the values produced in loop above\r\n\t\tarea.setText(result);\r\n\t}\r\n\r\nAnd ActionListener:\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif (e.getSource() == submitButton &amp;&amp; !urlField.getText().equals(&quot;&quot;)) {\r\n\t\t\tdisplayResults(urlField.getText(), resultsTextArea);\r\n\t\t}\r\n\r\nThe problem is that every time a new URL is provided, it displays the results of the previous URL as well. For example, if I run the program and give it URL #1, it will display 20 results (let&#39;s assume it has 20 results), and when the next URL is provided, it will still display the previous 20 results from URL #1 and then display the results of URL #2 from 21. Like This:\r\n\r\n\tEpisode 22: Not aired yet!\r\n\tAir date: 18 May 2018\r\n\t\r\n\tEpisode 23: The Flash Reborn\r\n\tAir date: 10 Oct. 2017\r\n\r\n^These are results of two different URLS. I want the URL #2 results to start from num=1, rather than increment where the URL #1 left off. Is there a way to RESET the JTextArea values every time the button is pressed? I&#39;m really new to this so any help will be greatly appreciated!\r\n\r\nEDIT: here&#39;s the method for webData.setup()\r\n\r\n\tpublic void setup(String url) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tsite = Jsoup.connect(url).get();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tdateData = site.select(&quot;div.airdate&quot;);\r\n\t\ttitleData = site.select(&quot;a[itemprop=&#39;name&#39;]&quot;);\r\n\t\tshowTitle = site.select(&quot;a.subnav_heading&quot;).first();\r\n\t\t\r\n\t\tfor(Element results : dateData) {\r\n\t\t\tdates.add(results.text());\r\n\t\t}\r\n\t\t\r\n\t\tfor(Element results : titleData) {\r\n\t\t\tif(results.text().contains(&quot;Episode #&quot;)) {\r\n\t\t\t\tepisodeTitles.add(&quot;Not aired yet!&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tepisodeTitles.add(results.text());\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}","title":"Java JTextArea not resetting values","body":"<p>I'm not sure if it's actually a JTextArea problem or ActionListener or something else.</p>\n<p>What my program does is it gets details from a given URL, and shows it in a JTextArea when the button is pressed. Here's the code I have problems with:</p>\n<pre><code>public void displayResults(String url, JTextArea area) {\n    \n    //number of episode\n    int num = 1;\n    \n    //Get the URL from JTextField that will be passed as a parameter of this method\n    webData.setup(url);\n    \n    String result = &quot;&quot;;\n    \n    for (int i = 0; i &lt; webData.getDates().size(); i++) {\n        result += &quot;Episode &quot; + num++ + &quot;: &quot; + webData.getEpisodeTitle().get(i) + &quot;\\n&quot; + &quot;Air date: &quot;\n                + webData.getDates().get(i) + &quot;\\n\\n&quot;;\n    }\n    //Set the text of JTextArea with the values produced in loop above\n    area.setText(result);\n}\n</code></pre>\n<p>And ActionListener:</p>\n<pre><code>@Override\npublic void actionPerformed(ActionEvent e) {\n    if (e.getSource() == submitButton &amp;&amp; !urlField.getText().equals(&quot;&quot;)) {\n        displayResults(urlField.getText(), resultsTextArea);\n    }\n</code></pre>\n<p>The problem is that every time a new URL is provided, it displays the results of the previous URL as well. For example, if I run the program and give it URL #1, it will display 20 results (let's assume it has 20 results), and when the next URL is provided, it will still display the previous 20 results from URL #1 and then display the results of URL #2 from 21. Like This:</p>\n<pre><code>Episode 22: Not aired yet!\nAir date: 18 May 2018\n\nEpisode 23: The Flash Reborn\nAir date: 10 Oct. 2017\n</code></pre>\n<p>^These are results of two different URLS. I want the URL #2 results to start from num=1, rather than increment where the URL #1 left off. Is there a way to RESET the JTextArea values every time the button is pressed? I'm really new to this so any help will be greatly appreciated!</p>\n<p>EDIT: here's the method for webData.setup()</p>\n<pre><code>public void setup(String url) {\n    \n    try {\n        site = Jsoup.connect(url).get();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    dateData = site.select(&quot;div.airdate&quot;);\n    titleData = site.select(&quot;a[itemprop='name']&quot;);\n    showTitle = site.select(&quot;a.subnav_heading&quot;).first();\n    \n    for(Element results : dateData) {\n        dates.add(results.text());\n    }\n    \n    for(Element results : titleData) {\n        if(results.text().contains(&quot;Episode #&quot;)) {\n            episodeTitles.add(&quot;Not aired yet!&quot;);\n        } else {\n            episodeTitles.add(results.text());\n        }\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","mockito","junit5"],"comments":[{"owner":{"account_id":17629753,"reputation":89,"user_id":12794090,"display_name":"Martin Kršek"},"score":0,"creation_date":1679076769,"post_id":75770258,"comment_id":133662347,"body_markdown":"Your provided code works! The problem you have shown is that response body is empty string. Problem will be in mocked service. Are you sure, your controller calls StudentService with addStudent method?","body":"Your provided code works! The problem you have shown is that response body is empty string. Problem will be in mocked service. Are you sure, your controller calls StudentService with addStudent method?"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":1,"creation_date":1679079697,"post_id":75770258,"comment_id":133662945,"body_markdown":"You need to debug your mock and make sure that it really returns expected student. Probably adding `equals` method to Student class will be sufficient.","body":"You need to debug your mock and make sure that it really returns expected student. Probably adding <code>equals</code> method to Student class will be sufficient."},{"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"score":0,"creation_date":1679116574,"post_id":75770258,"comment_id":133667536,"body_markdown":"I have override the equals method in my Student class and it worked! However, my test is calling the mocked service. If I want to call the actual service implementation of my service class, then how can I achieve it?","body":"I have override the equals method in my Student class and it worked! However, my test is calling the mocked service. If I want to call the actual service implementation of my service class, then how can I achieve it?"}],"answers":[{"tags":[],"owner":{"account_id":3593904,"reputation":129,"user_id":2999226,"display_name":"user2999226"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679082688,"creation_date":1679082688,"answer_id":75771683,"question_id":75770258,"body_markdown":"Mockito uses `equals` to find out if a call matches. That means `studentService.addStudent(student)` will only return a `student`, if the passed student is equal to the student the mock was set up with, so the student that is used in this line `Mockito.when(studentService.addStudent(student)).thenReturn(student);`.\r\nBut these two students, the one in the test and the one that is passed in the actual implementation, are different instances. They are different instances because the student from the test is serialized into JSON and then deserialized into a new instance when the controller is called.\r\nSince the `Student` class does not have an `equals` method, `equals` of `Object` is called, that only returns true if an instance is compared to itself.\r\nIf you add `equals` and `hashCode` to your `Student` class it should work.","title":"How to get response body from MockMvc post request test","body":"<p>Mockito uses <code>equals</code> to find out if a call matches. That means <code>studentService.addStudent(student)</code> will only return a <code>student</code>, if the passed student is equal to the student the mock was set up with, so the student that is used in this line <code>Mockito.when(studentService.addStudent(student)).thenReturn(student);</code>.\nBut these two students, the one in the test and the one that is passed in the actual implementation, are different instances. They are different instances because the student from the test is serialized into JSON and then deserialized into a new instance when the controller is called.\nSince the <code>Student</code> class does not have an <code>equals</code> method, <code>equals</code> of <code>Object</code> is called, that only returns true if an instance is compared to itself.\nIf you add <code>equals</code> and <code>hashCode</code> to your <code>Student</code> class it should work.</p>\n"}],"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75771683,"answer_count":1,"score":0,"last_activity_date":1679082688,"creation_date":1679072263,"question_id":75770258,"body_markdown":"While integration testing of my controller, I am not able to verify the response from a MockMvc post request.\r\nBelow are my controller, service and test classes.\r\n\r\nStudentController\r\n```\r\n@RestController\r\npublic class StudentController {\r\n\r\n    @Autowired\r\n    StudentService studentService;\r\n\r\n    @PostMapping(&quot;/add-student&quot;)\r\n    public ResponseEntity&lt;Student&gt; addStudent(@RequestBody Student student) {\r\n        return new ResponseEntity&lt;&gt;(studentService.addStudent(student), HttpStatus.CREATED);\r\n    }\r\n}\r\n```\r\n\r\nStudentService\r\n```\r\n@Service\r\npublic class StudentService {\r\n    public Student addStudent(Student student) {\r\n        return student;\r\n    }\r\n}\r\n```\r\n\r\n\r\nStudent\r\n```\r\npublic class Student {\r\n    String name;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Student{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nStudentControllerTest\r\n```\r\n@WebMvcTest\r\nclass StudentControllerTest {\r\n\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\r\n    @InjectMocks\r\n    StudentController studentController;\r\n\r\n    @Autowired\r\n    ObjectMapper objectMapper;\r\n\r\n    @MockBean\r\n    private StudentService studentService;\r\n\r\n    @Test\r\n    void addStudent() throws Exception {\r\n\r\n        Student student = new Student();\r\n        student.setName(&quot;pushpak&quot;);\r\n\r\n        Mockito.when(studentService.addStudent(student)).thenReturn(student);\r\n\r\n        MockHttpServletResponse response = mockMvc\r\n                .perform(post(&quot;/add-student&quot;)\r\n                        .content(objectMapper.writeValueAsString(student))\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .accept(MediaType.APPLICATION_JSON)\r\n                ).andReturn().getResponse();\r\n        Assertions.assertEquals(student.getName(), objectMapper.readValue(response.getContentAsString(), Student.class).getName());\r\n    }\r\n}\r\n```\r\nI want to get Student object from the test and then compare it with my desired object. But I am not getting any body in the MockHttpServletResponse.\r\n\r\n```\r\nMockHttpServletRequest:\r\n      HTTP Method = POST\r\n      Request URI = /add-student\r\n       Parameters = {}\r\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;18&quot;]\r\n             Body = {&quot;name&quot;:&quot;pushpak&quot;}\r\n    Session Attrs = {}\r\n\r\nHandler:\r\n             Type = com.myapp.spring_boot_test.controller.StudentController\r\n           Method = com.myapp.spring_boot_test.controller.StudentController#addStudent(Student)\r\n\r\nAsync:\r\n    Async started = false\r\n     Async result = null\r\n\r\nResolved Exception:\r\n             Type = null\r\n\r\nModelAndView:\r\n        View name = null\r\n             View = null\r\n            Model = null\r\n\r\nFlashMap:\r\n       Attributes = null\r\n\r\nMockHttpServletResponse:\r\n           Status = 201\r\n    Error message = null\r\n          Headers = []\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n\r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input\r\n at [Source: (String)&quot;&quot;; line: 1, column: 0]\r\n\r\n\tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:4821)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4723)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3677)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3645)\r\n\tat com.myapp.spring_boot_test.controller.StudentControllerTest.addStudent(StudentControllerTest.java:48)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\r\n\r\n\r\nProcess finished with exit code -1\r\n```","title":"How to get response body from MockMvc post request test","body":"<p>While integration testing of my controller, I am not able to verify the response from a MockMvc post request.\nBelow are my controller, service and test classes.</p>\n<p>StudentController</p>\n<pre><code>@RestController\npublic class StudentController {\n\n    @Autowired\n    StudentService studentService;\n\n    @PostMapping(&quot;/add-student&quot;)\n    public ResponseEntity&lt;Student&gt; addStudent(@RequestBody Student student) {\n        return new ResponseEntity&lt;&gt;(studentService.addStudent(student), HttpStatus.CREATED);\n    }\n}\n</code></pre>\n<p>StudentService</p>\n<pre><code>@Service\npublic class StudentService {\n    public Student addStudent(Student student) {\n        return student;\n    }\n}\n</code></pre>\n<p>Student</p>\n<pre><code>public class Student {\n    String name;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Student{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>StudentControllerTest</p>\n<pre><code>@WebMvcTest\nclass StudentControllerTest {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @InjectMocks\n    StudentController studentController;\n\n    @Autowired\n    ObjectMapper objectMapper;\n\n    @MockBean\n    private StudentService studentService;\n\n    @Test\n    void addStudent() throws Exception {\n\n        Student student = new Student();\n        student.setName(&quot;pushpak&quot;);\n\n        Mockito.when(studentService.addStudent(student)).thenReturn(student);\n\n        MockHttpServletResponse response = mockMvc\n                .perform(post(&quot;/add-student&quot;)\n                        .content(objectMapper.writeValueAsString(student))\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .accept(MediaType.APPLICATION_JSON)\n                ).andReturn().getResponse();\n        Assertions.assertEquals(student.getName(), objectMapper.readValue(response.getContentAsString(), Student.class).getName());\n    }\n}\n</code></pre>\n<p>I want to get Student object from the test and then compare it with my desired object. But I am not getting any body in the MockHttpServletResponse.</p>\n<pre><code>MockHttpServletRequest:\n      HTTP Method = POST\n      Request URI = /add-student\n       Parameters = {}\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;18&quot;]\n             Body = {&quot;name&quot;:&quot;pushpak&quot;}\n    Session Attrs = {}\n\nHandler:\n             Type = com.myapp.spring_boot_test.controller.StudentController\n           Method = com.myapp.spring_boot_test.controller.StudentController#addStudent(Student)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 201\n    Error message = null\n          Headers = []\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input\n at [Source: (String)&quot;&quot;; line: 1, column: 0]\n\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\n    at com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:4821)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4723)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3677)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3645)\n    at com.myapp.spring_boot_test.controller.StudentControllerTest.addStudent(StudentControllerTest.java:48)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\n\n\nProcess finished with exit code -1\n</code></pre>\n"},{"tags":["java","hibernate","parent-child","hibernate-mapping","resteasy"],"comments":[{"owner":{"account_id":2236584,"reputation":576,"user_id":1972803,"display_name":"Badaro"},"score":0,"creation_date":1525140658,"post_id":50110127,"comment_id":87238416,"body_markdown":"Try debug the method &quot;updateChapter&quot; to see if chapter was correct fulfilled.","body":"Try debug the method &quot;updateChapter&quot; to see if chapter was correct fulfilled."},{"owner":{"account_id":9446144,"reputation":3019,"user_id":7024836,"accept_rate":42,"display_name":"Extreme "},"score":0,"creation_date":1525182311,"post_id":50110127,"comment_id":87252453,"body_markdown":"yeah.. `chapter` in `updateChapter` is looks good as expected from JSON. What else can I try?","body":"yeah.. <code>chapter</code> in <code>updateChapter</code> is looks good as expected from JSON. What else can I try?"},{"owner":{"account_id":4454424,"reputation":7384,"user_id":3625215,"accept_rate":47,"display_name":"MyTwoCents"},"score":0,"creation_date":1525235542,"post_id":50110127,"comment_id":87272147,"body_markdown":"Can you add code where you are converting JSON to Entity...","body":"Can you add code where you are converting JSON to Entity..."},{"owner":{"account_id":9446144,"reputation":3019,"user_id":7024836,"accept_rate":42,"display_name":"Extreme "},"score":0,"creation_date":1525276883,"post_id":50110127,"comment_id":87296109,"body_markdown":"I have added rest `resource`, and `service` impl where its automatically converts `json` to `Chapter` Entity","body":"I have added rest <code>resource</code>, and <code>service</code> impl where its automatically converts <code>json</code> to <code>Chapter</code> Entity"}],"answers":[{"tags":[],"owner":{"account_id":4454424,"reputation":7384,"user_id":3625215,"accept_rate":47,"display_name":"MyTwoCents"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525188539,"creation_date":1525188539,"answer_id":50119255,"question_id":50110127,"body_markdown":"Hibernate update should be used where we know that we are only updating the entity information.\r\n\r\ntry using \r\n\r\n**merge()**  =&gt; preferred\r\n\r\nor\r\n\r\n**saveOrUpdate()**\r\n\r\nMore info [here][1] \r\n\r\n\r\n  [1]: https://www.journaldev.com/3481/hibernate-session-merge-vs-update-save-saveorupdate-persist-example","title":"Hibernate add new child(s) and update existings","body":"<p>Hibernate update should be used where we know that we are only updating the entity information.</p>\n\n<p>try using </p>\n\n<p><strong>merge()</strong>  => preferred</p>\n\n<p>or</p>\n\n<p><strong>saveOrUpdate()</strong></p>\n\n<p>More info <a href=\"https://www.journaldev.com/3481/hibernate-session-merge-vs-update-save-saveorupdate-persist-example\" rel=\"nofollow noreferrer\">here</a> </p>\n"}],"owner":{"account_id":9446144,"reputation":3019,"user_id":7024836,"accept_rate":42,"display_name":"Extreme "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679082435,"creation_date":1525136341,"question_id":50110127,"body_markdown":"I have multiple entities as `Chapter` to `Section` `OneToMany`(without join table).\r\n\r\n`Section` to `Attachment` `OneToMany`(with join table).\r\n\r\nI can add/update/delete `Sections` but can not delete attachments since attachments are exists in another table. I just need to manage join table. \r\n\r\nHere are my entities:\r\n\r\nChapter.java\r\n\r\n    @Id\r\n    @Column(name = &quot;CHAPTER_ID&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer chapterId;\r\n    \r\n    @OneToMany(cascade=CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;chapter&quot;)\r\n    private List&lt;Section&gt; sections;\r\n    \r\n\r\nSection.java\r\n\r\n    @Id\r\n    @Column(name=&quot;SECTION_ID&quot;)\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private Integer sectionId;\r\n\r\n    @Column(name=&quot;SECTION_DESC&quot;)\r\n    private String sectionDesc;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JsonBackReference\r\n    @JoinColumn(name = &quot;CHAPTER_ID&quot;, updatable = false)\r\n    private Chapter chapter;\r\n\r\n    @OneToMany(cascade=CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JoinTable(name=&quot;SECTION_ATTACHMENT&quot;, \r\n    \tjoinColumns={@JoinColumn(name=&quot;SECTION_ID&quot;)}, \r\n    \tinverseJoinColumns={@JoinColumn(name=&quot;ATTACHMENT_ID&quot;)})\r\n    private List&lt;Attachment&gt; attachments;\r\n    \r\nAttachment.java\r\n\r\n    @Id\r\n    @Column(name=&quot;ATTACHMENT_ID&quot;)\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private Integer attachmentId;\r\n\r\n    @Column(name=&quot;ATTACHMENT_NAME&quot;)\r\n    private String attachmentName;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinTable(name=&quot;SECTION_ATTACHMENT&quot;, \r\n    joinColumns={@JoinColumn(name=&quot;ATTACHMENT_ID&quot;)}, \r\n    inverseJoinColumns={@JoinColumn(name=&quot;SECTION_ID&quot;)})\r\n    @JsonBackReference\r\n    private Section section;\r\n    \r\nChapterResource.class\r\n\r\n    @PUT\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Path(&quot;/chapter/{chapterId}&quot;)\r\n    public Response updateChapter(@PathParam(&quot;chapterId&quot;) int chapterId, Chapter chapter) {\r\n    \treturn chapterService.updateChapter(chapterId, chapter);\r\n    }\r\n\r\nChapterServiceImpl.class\r\n\r\n    @Override\r\n    public Response updateChapter(int chapterId, Chapter chapter) {\r\n    \tSession session = null;\r\n    \ttry {\r\n    \t\tsession = HibernateUtil.getSession();\r\n    \t\tdao.updateChapter(session, chapter);\r\n    \t\tHibernateUtil.closeSession(session);\r\n    \t} finally {\r\n    \t\tHibernateUtil.closeSession(session);\r\n    \t}\r\n    \treturn Response.ok().build();\r\n    }\r\n\r\nDao.java\r\n\r\n    public void updateChapter(Session session, Chapter chapter) {\r\n        session.update(chapter);\r\n    }\r\n\r\n\r\nI am creating new Chapter using a post call as \r\n   \r\n\r\n     {\r\n        \t&quot;sections&quot;:[\r\n        \t{\r\n        \t\t&quot;sectionDesc&quot;:&quot;first sectionDesc&quot;,\r\n        \t\t&quot;attachments&quot;:[{\r\n        \t\t\t&quot;attachmentId&quot;:1,\r\n        \t\t\t&quot;attachmentName&quot;:&quot;attachment1.docx&quot;\r\n        \t\t}]\r\n        \t}]\r\n        }\r\n\r\n\r\nwhen call GET chapter\r\n\r\n    {\r\n    \t&quot;chapterId&quot;:1,\r\n    \t&quot;sections&quot;:[\r\n    \t{\r\n    \t\t&quot;sectionDesc&quot;:&quot;first sectionDesc&quot;,\r\n    \t\t&quot;sectionId&quot;:1,\r\n    \t\t&quot;attachments&quot;:[{\r\n    \t\t\t&quot;attachmentId&quot;:1,\r\n    \t\t\t&quot;attachmentName&quot;:&quot;attachment1.docx&quot;\r\n    \t\t}]\r\n    \t}]\r\n    }\r\n\r\n\r\nnow I have to update using PUT as below\r\n\r\n    {\r\n    \t&quot;chapterId&quot;:1,\r\n    \t&quot;sections&quot;:[\r\n    \t{ //updating the existing attachment name\r\n    \t\t&quot;sectionDesc&quot;:&quot;first sectionDesc&quot;,\r\n    \t\t&quot;sectionId&quot;:1, // this indicates existing section\r\n    \t\t&quot;attachments&quot;:[{\r\n    \t\t\t&quot;attachmentId&quot;:1,\r\n    \t\t\t&quot;attachmentName&quot;:&quot;test.pdf&quot; // change of attachmentName should not delete the section, but has to update the \r\n    \t\t}]\r\n    \t},{ //adding new section here\r\n    \t\t&quot;sectionDesc&quot;:&quot;new sectionDesc&quot;,\r\n    \t\t// &quot;sectionId&quot;:2, it should be auto increment during the insert\r\n    \t\t&quot;attachments&quot;:[{\r\n    \t\t\t&quot;attachmentId&quot;:10,\r\n    \t\t\t&quot;attachmentName&quot;:&quot;sampleDoc.ppt&quot;\r\n    \t\t}]\r\n    \t}]\r\n    }\r\n\r\nwhen I make PUT call to my API, i am not getting any errors or warnings but the records are not getting changed in db as in put body. \r\nTried lot of trail and error but I could not figure out where i am going wrong.\r\ncan anyone help me if this achievable using `hibernate(5)`?","title":"Hibernate add new child(s) and update existings","body":"<p>I have multiple entities as <code>Chapter</code> to <code>Section</code> <code>OneToMany</code>(without join table).</p>\n<p><code>Section</code> to <code>Attachment</code> <code>OneToMany</code>(with join table).</p>\n<p>I can add/update/delete <code>Sections</code> but can not delete attachments since attachments are exists in another table. I just need to manage join table.</p>\n<p>Here are my entities:</p>\n<p>Chapter.java</p>\n<pre><code>@Id\n@Column(name = &quot;CHAPTER_ID&quot;)\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer chapterId;\n\n@OneToMany(cascade=CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;chapter&quot;)\nprivate List&lt;Section&gt; sections;\n</code></pre>\n<p>Section.java</p>\n<pre><code>@Id\n@Column(name=&quot;SECTION_ID&quot;)\n@GeneratedValue(strategy=GenerationType.IDENTITY)\nprivate Integer sectionId;\n\n@Column(name=&quot;SECTION_DESC&quot;)\nprivate String sectionDesc;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JsonBackReference\n@JoinColumn(name = &quot;CHAPTER_ID&quot;, updatable = false)\nprivate Chapter chapter;\n\n@OneToMany(cascade=CascadeType.ALL, fetch = FetchType.LAZY)\n@JoinTable(name=&quot;SECTION_ATTACHMENT&quot;, \n    joinColumns={@JoinColumn(name=&quot;SECTION_ID&quot;)}, \n    inverseJoinColumns={@JoinColumn(name=&quot;ATTACHMENT_ID&quot;)})\nprivate List&lt;Attachment&gt; attachments;\n</code></pre>\n<p>Attachment.java</p>\n<pre><code>@Id\n@Column(name=&quot;ATTACHMENT_ID&quot;)\n@GeneratedValue(strategy=GenerationType.IDENTITY)\nprivate Integer attachmentId;\n\n@Column(name=&quot;ATTACHMENT_NAME&quot;)\nprivate String attachmentName;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinTable(name=&quot;SECTION_ATTACHMENT&quot;, \njoinColumns={@JoinColumn(name=&quot;ATTACHMENT_ID&quot;)}, \ninverseJoinColumns={@JoinColumn(name=&quot;SECTION_ID&quot;)})\n@JsonBackReference\nprivate Section section;\n</code></pre>\n<p>ChapterResource.class</p>\n<pre><code>@PUT\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\n@Path(&quot;/chapter/{chapterId}&quot;)\npublic Response updateChapter(@PathParam(&quot;chapterId&quot;) int chapterId, Chapter chapter) {\n    return chapterService.updateChapter(chapterId, chapter);\n}\n</code></pre>\n<p>ChapterServiceImpl.class</p>\n<pre><code>@Override\npublic Response updateChapter(int chapterId, Chapter chapter) {\n    Session session = null;\n    try {\n        session = HibernateUtil.getSession();\n        dao.updateChapter(session, chapter);\n        HibernateUtil.closeSession(session);\n    } finally {\n        HibernateUtil.closeSession(session);\n    }\n    return Response.ok().build();\n}\n</code></pre>\n<p>Dao.java</p>\n<pre><code>public void updateChapter(Session session, Chapter chapter) {\n    session.update(chapter);\n}\n</code></pre>\n<p>I am creating new Chapter using a post call as</p>\n<pre><code> {\n        &quot;sections&quot;:[\n        {\n            &quot;sectionDesc&quot;:&quot;first sectionDesc&quot;,\n            &quot;attachments&quot;:[{\n                &quot;attachmentId&quot;:1,\n                &quot;attachmentName&quot;:&quot;attachment1.docx&quot;\n            }]\n        }]\n    }\n</code></pre>\n<p>when call GET chapter</p>\n<pre><code>{\n    &quot;chapterId&quot;:1,\n    &quot;sections&quot;:[\n    {\n        &quot;sectionDesc&quot;:&quot;first sectionDesc&quot;,\n        &quot;sectionId&quot;:1,\n        &quot;attachments&quot;:[{\n            &quot;attachmentId&quot;:1,\n            &quot;attachmentName&quot;:&quot;attachment1.docx&quot;\n        }]\n    }]\n}\n</code></pre>\n<p>now I have to update using PUT as below</p>\n<pre><code>{\n    &quot;chapterId&quot;:1,\n    &quot;sections&quot;:[\n    { //updating the existing attachment name\n        &quot;sectionDesc&quot;:&quot;first sectionDesc&quot;,\n        &quot;sectionId&quot;:1, // this indicates existing section\n        &quot;attachments&quot;:[{\n            &quot;attachmentId&quot;:1,\n            &quot;attachmentName&quot;:&quot;test.pdf&quot; // change of attachmentName should not delete the section, but has to update the \n        }]\n    },{ //adding new section here\n        &quot;sectionDesc&quot;:&quot;new sectionDesc&quot;,\n        // &quot;sectionId&quot;:2, it should be auto increment during the insert\n        &quot;attachments&quot;:[{\n            &quot;attachmentId&quot;:10,\n            &quot;attachmentName&quot;:&quot;sampleDoc.ppt&quot;\n        }]\n    }]\n}\n</code></pre>\n<p>when I make PUT call to my API, i am not getting any errors or warnings but the records are not getting changed in db as in put body.\nTried lot of trail and error but I could not figure out where i am going wrong.\ncan anyone help me if this achievable using <code>hibernate(5)</code>?</p>\n"},{"tags":["java","maven","maven-versions-plugin"],"comments":[{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1678781561,"post_id":75729166,"comment_id":133595381,"body_markdown":"what do you mean by &quot;update the dedendencies&quot; ?","body":"what do you mean by &quot;update the dedendencies&quot; ?"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678785113,"creation_date":1678785113,"answer_id":75731081,"question_id":75729166,"body_markdown":"Something like\r\n\r\n`versions:use-latest-versions -Dincludes=com.myCompany.myProject:*:*:*:*`\r\n\r\n?","title":"Maven update dependency versions by groupId","body":"<p>Something like</p>\n<p><code>versions:use-latest-versions -Dincludes=com.myCompany.myProject:*:*:*:*</code></p>\n<p>?</p>\n"},{"tags":[],"owner":{"account_id":1604214,"reputation":4524,"user_id":1484621,"accept_rate":70,"display_name":"Yu Jiaao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679082330,"creation_date":1678790837,"answer_id":75732156,"question_id":75729166,"body_markdown":"You increment the minor version like this:\r\n\r\n```\r\nmvn build-helper:parse-version versions:set -DnewVersion=\\${parsedVersion.majorVersion}.\\${parsedVersion.nextMinorVersion}.0 versions:commit\r\n```\r\n\r\nor with fixed number of version: \r\n```\r\nmvn  build-helper:parse-version versions:set -DnewVersion=1.13.7.15 versions:commit\r\n```\r\n","title":"Maven update dependency versions by groupId","body":"<p>You increment the minor version like this:</p>\n<pre><code>mvn build-helper:parse-version versions:set -DnewVersion=\\${parsedVersion.majorVersion}.\\${parsedVersion.nextMinorVersion}.0 versions:commit\n</code></pre>\n<p>or with fixed number of version:</p>\n<pre><code>mvn  build-helper:parse-version versions:set -DnewVersion=1.13.7.15 versions:commit\n</code></pre>\n"}],"owner":{"account_id":7100878,"reputation":1517,"user_id":5432470,"display_name":"Thilina Ashen Gamage"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679082330,"creation_date":1678769192,"question_id":75729166,"body_markdown":"I have a multi-module maven project.\r\n\r\n```\r\nMyProject\r\n├── ModuleA\r\n│   ├── ...\r\n│   └── pom.xml\r\n├── ModuleB\r\n│   ├── ...\r\n│   └── pom.xml\r\n├── ...\r\n└── pom.xml\r\n```\r\n\r\nI want to specify a groupId (`com.myCompany.myProject`), and find and update the dependencies that fall into that groupId in all modules (something similar to `npm outdated` and `npm update` by `scope` in JS/NPM world).  \r\n\r\nAlso, I prefer to run these commands using CLI (instead of hardcoding in pom.xml) because the groupId will be determined by a script dynamically.\r\n\r\nHow can I achieve this with maven?  \r\n\r\n","title":"Maven update dependency versions by groupId","body":"<p>I have a multi-module maven project.</p>\n<pre><code>MyProject\n├── ModuleA\n│   ├── ...\n│   └── pom.xml\n├── ModuleB\n│   ├── ...\n│   └── pom.xml\n├── ...\n└── pom.xml\n</code></pre>\n<p>I want to specify a groupId (<code>com.myCompany.myProject</code>), and find and update the dependencies that fall into that groupId in all modules (something similar to <code>npm outdated</code> and <code>npm update</code> by <code>scope</code> in JS/NPM world).</p>\n<p>Also, I prefer to run these commands using CLI (instead of hardcoding in pom.xml) because the groupId will be determined by a script dynamically.</p>\n<p>How can I achieve this with maven?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4245893,"reputation":540,"user_id":3474594,"display_name":"szymon_prz"},"score":0,"creation_date":1679085825,"post_id":75771617,"comment_id":133664338,"body_markdown":"Here you will find detailed explanation why this env variables should be named this way [Binding from env variables](https://docs.spring.io/spring-boot/docs/2.7.x/reference/html/features.html#features.external-config.typesafe-configuration-properties.relaxed-binding.environment-variables)","body":"Here you will find detailed explanation why this env variables should be named this way <a href=\"https://docs.spring.io/spring-boot/docs/2.7.x/reference/html/features.html#features.external-config.typesafe-configuration-properties.relaxed-binding.environment-variables\" rel=\"nofollow noreferrer\">Binding from env variables</a>"}],"owner":{"account_id":1620291,"reputation":1,"user_id":1497030,"display_name":"fred"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679082210,"creation_date":1679082210,"question_id":75771617,"body_markdown":"Spring Boot configuration property seems to maps differently from environment variable depends on whether it&#39;s configured as application property.\r\n\r\nHave a configuration property like: app.options.**serverUrl**\r\n\r\nBefore specifying it as an application property (in my case using profile specific yaml), it maps from environment variable:\r\n\r\nAPP_OPTIONS_**SERVER_URL** \r\n(i.e. [relaxed binding doesn&#39;t work](https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-relaxed-binding))\r\n\r\nIf I do configure it as an application property, it now maps from environment variable:\r\n\r\nAPP_OPTIONS_**SERVERURL**\r\n\r\nHow come?","title":"Spring Boot configuration property inconsistent mapping from environment variable","body":"<p>Spring Boot configuration property seems to maps differently from environment variable depends on whether it's configured as application property.</p>\n<p>Have a configuration property like: app.options.<strong>serverUrl</strong></p>\n<p>Before specifying it as an application property (in my case using profile specific yaml), it maps from environment variable:</p>\n<p>APP_OPTIONS_<strong>SERVER_URL</strong>\n(i.e. <a href=\"https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-relaxed-binding\" rel=\"nofollow noreferrer\">relaxed binding doesn't work</a>)</p>\n<p>If I do configure it as an application property, it now maps from environment variable:</p>\n<p>APP_OPTIONS_<strong>SERVERURL</strong></p>\n<p>How come?</p>\n"},{"tags":["java","eclipse","maven","access-denied"],"comments":[{"owner":{"account_id":2491788,"reputation":3274,"user_id":2169091,"display_name":"Tome"},"score":1,"creation_date":1401701605,"post_id":23986331,"comment_id":36970147,"body_markdown":"Maybe the target directory created with admin rights or is locked by another process. Using the -e switch to get the complete stacktrace will also help.","body":"Maybe the target directory created with admin rights or is locked by another process. Using the -e switch to get the complete stacktrace will also help."},{"owner":{"account_id":1840741,"reputation":2048,"user_id":1670183,"accept_rate":93,"display_name":"PaulBGD"},"score":0,"creation_date":1401719743,"post_id":23986331,"comment_id":36981382,"body_markdown":"I&#39;ll check the full stacktrace, however it does not have admin rights (I am the only admin + I checked). I&#39;ve restarted in safe mode to the same result, so I doubt it is a process.","body":"I&#39;ll check the full stacktrace, however it does not have admin rights (I am the only admin + I checked). I&#39;ve restarted in safe mode to the same result, so I doubt it is a process."}],"answers":[{"tags":[],"owner":{"account_id":4641343,"reputation":349,"user_id":3761102,"accept_rate":83,"display_name":"dfritch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433271125,"creation_date":1433271125,"answer_id":30604255,"question_id":23986331,"body_markdown":"I am using Eclipse Spring with the maven plugin.  I was seeing a similar error in the logs:\r\n\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:2.3:shade (default) on project lds_ws_framework: Error creating shaded jar: C:\\Users\\fritchd\\Documents\\autoaction_archivetkitproject\\target\\classes (Access is denied) -&gt; [Help 1]\r\n\r\nI had recently updated my projects to use the maven-shade-plugin 2.3 from a different maven build process. I noticed I had a lot of artifacts from the previous process in the \\target folder.  So I tried just deleting all files under the \\target directory for that project.  When I reran the build, I didn&#39;t see the error.","title":"Maven Shading Error: Access is Denied","body":"<p>I am using Eclipse Spring with the maven plugin.  I was seeing a similar error in the logs:</p>\n\n<p>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:2.3:shade (default) on project lds_ws_framework: Error creating shaded jar: C:\\Users\\fritchd\\Documents\\autoaction_archivetkitproject\\target\\classes (Access is denied) -> [Help 1]</p>\n\n<p>I had recently updated my projects to use the maven-shade-plugin 2.3 from a different maven build process. I noticed I had a lot of artifacts from the previous process in the \\target folder.  So I tried just deleting all files under the \\target directory for that project.  When I reran the build, I didn't see the error.</p>\n"},{"tags":[],"owner":{"account_id":150404,"reputation":42099,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1436489068,"creation_date":1436489068,"answer_id":31330682,"question_id":23986331,"body_markdown":"You can face this error, if you&#39;re compiling from Eclipse with m2e plugin.\r\n\r\nThe workaround is to uncheck `Resolve Workspace artifacts` in the Maven Run Configuration.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/XvQJc.png","title":"Maven Shading Error: Access is Denied","body":"<p>You can face this error, if you're compiling from Eclipse with m2e plugin.</p>\n\n<p>The workaround is to uncheck <code>Resolve Workspace artifacts</code> in the Maven Run Configuration.</p>\n\n<p><img src=\"https://i.stack.imgur.com/XvQJc.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":2146477,"reputation":35,"user_id":1903994,"display_name":"upperlimit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475426153,"creation_date":1475426153,"answer_id":39819191,"question_id":23986331,"body_markdown":"Use the artifactSet option of maven-shade-plugin\r\n\r\nFor whatever reason this way Eclipse does not produce the &quot;Access Denied&quot; error\r\n","title":"Maven Shading Error: Access is Denied","body":"<p>Use the artifactSet option of maven-shade-plugin</p>\n\n<p>For whatever reason this way Eclipse does not produce the \"Access Denied\" error</p>\n"},{"tags":[],"owner":{"account_id":3838250,"reputation":9521,"user_id":3182091,"accept_rate":91,"display_name":"Robert P"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572438306,"creation_date":1572438306,"answer_id":58625332,"question_id":23986331,"body_markdown":"I had a similar issue and as this is the first question that shows up on google, I add my solution as an answer here.  \r\nIn my case, the problem was related to the `dependencyReducedPomLocation` I&#39;ve set.  \r\nI wanted to move the `dependency-reduced-pom` to the `target` folder and so I&#39;ve set the property to `${project.build.directory}`.  \r\nHowever, this property does not expect a folder, but a file and the correct value for it would be `${project.build.directory}${file.separator}dependency-reduced-pom.xml`.  \r\nAfter this change everything worked as expected.","title":"Maven Shading Error: Access is Denied","body":"<p>I had a similar issue and as this is the first question that shows up on google, I add my solution as an answer here.<br>\nIn my case, the problem was related to the <code>dependencyReducedPomLocation</code> I've set.<br>\nI wanted to move the <code>dependency-reduced-pom</code> to the <code>target</code> folder and so I've set the property to <code>${project.build.directory}</code>.<br>\nHowever, this property does not expect a folder, but a file and the correct value for it would be <code>${project.build.directory}${file.separator}dependency-reduced-pom.xml</code>.<br>\nAfter this change everything worked as expected.</p>\n"},{"tags":[],"owner":{"account_id":14921587,"reputation":277,"user_id":10773697,"display_name":"San4musa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679082109,"creation_date":1679082109,"answer_id":75771607,"question_id":23986331,"body_markdown":"Upgrading maven-shade-plugin to 3.4.1 version resolved the issue.","title":"Maven Shading Error: Access is Denied","body":"<p>Upgrading maven-shade-plugin to 3.4.1 version resolved the issue.</p>\n"}],"owner":{"account_id":1840741,"reputation":2048,"user_id":1670183,"accept_rate":93,"display_name":"PaulBGD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15751,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":31330682,"answer_count":5,"score":6,"last_activity_date":1679082109,"creation_date":1401673657,"question_id":23986331,"body_markdown":"Now, I have already seen [this question][1], however it doesn&#39;t appear anything is using my target folder. \r\n\r\nWhat&#39;s going on, is when I compile it fails and shows me this error:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:2.3:shade (default) on project FooProject: Error creating shaded jar: Failed to analyze class dependencies: C:\\Users\\paul_000\\Documents\\FooCore\\target\\classes (Access is denied) -&gt; [Help 1]\r\n\r\nI&#39;m not quite sure exactly why this happens, as it doesn&#39;t happen on my normal computer.\r\n\r\nEDIT: I forgot to mention, the jar I am shading does not exist on a repository. I just compile it locally (clean install).\r\nAs well, here&#39;s what I use to shade:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.3&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t&lt;/configuration&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n  [1]: https://stackoverflow.com/questions/17914955/maven-build-error-error-creating-shaded-jar-access-denied","title":"Maven Shading Error: Access is Denied","body":"<p>Now, I have already seen <a href=\"https://stackoverflow.com/questions/17914955/maven-build-error-error-creating-shaded-jar-access-denied\">this question</a>, however it doesn't appear anything is using my target folder. </p>\n\n<p>What's going on, is when I compile it fails and shows me this error:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:2.3:shade (default) on project FooProject: Error creating shaded jar: Failed to analyze class dependencies: C:\\Users\\paul_000\\Documents\\FooCore\\target\\classes (Access is denied) -&gt; [Help 1]\n</code></pre>\n\n<p>I'm not quite sure exactly why this happens, as it doesn't happen on my normal computer.</p>\n\n<p>EDIT: I forgot to mention, the jar I am shading does not exist on a repository. I just compile it locally (clean install).\nAs well, here's what I use to shade:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3&lt;/version&gt;\n    &lt;configuration&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","amqp","deprecated"],"answers":[{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679082100,"creation_date":1679082100,"answer_id":75771606,"question_id":75722583,"body_markdown":"&gt;Spring Remoting with AMQP\r\n\r\n&gt;Spring remoting is no longer supported because the functionality has been removed from Spring Framework.\r\n\r\n&gt;Use sendAndReceive operations using the RabbitTemplate (client side ) and @RabbitListener instead.\r\n\r\nThey say in the [current document](https://docs.spring.io/spring-amqp/reference/html/amqp.html#remoting). that is all I can find without seeing any code.","title":"What&#39;s the alternative for AMQP remoting?","body":"<blockquote>\n<p>Spring Remoting with AMQP</p>\n</blockquote>\n<blockquote>\n<p>Spring remoting is no longer supported because the functionality has been removed from Spring Framework.</p>\n</blockquote>\n<blockquote>\n<p>Use sendAndReceive operations using the RabbitTemplate (client side ) and @RabbitListener instead.</p>\n</blockquote>\n<p>They say in the <a href=\"https://docs.spring.io/spring-amqp/reference/html/amqp.html#remoting\" rel=\"nofollow noreferrer\">current document</a>. that is all I can find without seeing any code.</p>\n"}],"owner":{"account_id":3129415,"reputation":37,"user_id":2647593,"display_name":"behizz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679082100,"creation_date":1678714425,"question_id":75722583,"body_markdown":"We&#39;re using Spring AMQP in order to make RPC calls using Rabbitmq but AMQP remoting is removed in spring 6. What&#39;s the alternative for it?\r\n\r\nThanks","title":"What&#39;s the alternative for AMQP remoting?","body":"<p>We're using Spring AMQP in order to make RPC calls using Rabbitmq but AMQP remoting is removed in spring 6. What's the alternative for it?</p>\n<p>Thanks</p>\n"},{"tags":["java","junit","reactive","springmockito"],"answers":[{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679081886,"creation_date":1679053885,"answer_id":75767292,"question_id":75731555,"body_markdown":"I have used so:\r\n\r\n```java\r\n@ExtendWith(value = SpringExtension.class)\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\npublic abstract class BaseAbstractTest {\r\n\r\n    @MockBean\r\n    protected TokenService tokenService;\r\n\r\n    @MockBean\r\n    protected UserService userService;\r\n\r\n    protected AccessService accessService;\r\n\r\n}\r\n\r\n    @BeforeEach\r\n    protected void init() {\r\n\r\n Mono&lt;Token&gt; tokenExpected = Mono.just(new Token());\r\n\r\n      given(\r\n                this.tokenService.createToken(\r\n                        any(Auth.class),\r\n                        any(String.class),\r\n                        any(UUID.class),\r\n                        any(String.class),\r\n                        any(Duration.class)\r\n                )\r\n        )\r\n                .willReturn(tokenExpected);\r\n\r\n        doReturn(this.tokenExpected)\r\n                .when(this.tokenService)\r\n                .createToken(\r\n                        any(UserAuthentication.class),\r\n                        any(String.class),\r\n                        any(UUID.class),\r\n                        any(String.class),\r\n                        any(Duration.class)\r\n                );\r\n\r\n  this.accessService =\r\n                new AccessService(\r\n                        this.tokenService,             \r\n                        this.userService);\r\n\r\n}\r\n\r\n```\r\n\r\nand than:\r\n\r\n```java\r\n@Test\r\nvoid test(){\r\n\r\nRequestDto requestDto = new RequestDto();\r\n\r\n StepVerifier.create(\r\n                    accessService.getAccess(requestDto)\r\n                )\r\n                .assertNext(responseDto -&gt; {\r\n\r\n               Assertions.assertEquals(expectedValue, responseDto.getValueActual);\r\n\r\n                )\r\n                .verifyComplete();\r\n}\r\n\r\n```\r\n\r\nIt&#39;s important: use an annotation @BeforeEach (when you will creating shared mock beans). Otherwise, you may encounter an error :\r\n\r\n&gt; expectation &quot;assertNext&quot; failed (expected: onNext(); actual: onError(java.lang.NullPointerException: The mapper returned a null Mono))\r\njava.lang.AssertionError: expectation &quot;assertNext&quot; failed (expected: onNext(); actual: onError(java.lang.NullPointerException: The mapper returned a null Mono))\r\n\r\n","title":"MonoJust cannot be returned by toString() toString() should return String (Reactive streams and Mockito)","body":"<p>I have used so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(value = SpringExtension.class)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic abstract class BaseAbstractTest {\n\n    @MockBean\n    protected TokenService tokenService;\n\n    @MockBean\n    protected UserService userService;\n\n    protected AccessService accessService;\n\n}\n\n    @BeforeEach\n    protected void init() {\n\n Mono&lt;Token&gt; tokenExpected = Mono.just(new Token());\n\n      given(\n                this.tokenService.createToken(\n                        any(Auth.class),\n                        any(String.class),\n                        any(UUID.class),\n                        any(String.class),\n                        any(Duration.class)\n                )\n        )\n                .willReturn(tokenExpected);\n\n        doReturn(this.tokenExpected)\n                .when(this.tokenService)\n                .createToken(\n                        any(UserAuthentication.class),\n                        any(String.class),\n                        any(UUID.class),\n                        any(String.class),\n                        any(Duration.class)\n                );\n\n  this.accessService =\n                new AccessService(\n                        this.tokenService,             \n                        this.userService);\n\n}\n\n</code></pre>\n<p>and than:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid test(){\n\nRequestDto requestDto = new RequestDto();\n\n StepVerifier.create(\n                    accessService.getAccess(requestDto)\n                )\n                .assertNext(responseDto -&gt; {\n\n               Assertions.assertEquals(expectedValue, responseDto.getValueActual);\n\n                )\n                .verifyComplete();\n}\n\n</code></pre>\n<p>It's important: use an annotation @BeforeEach (when you will creating shared mock beans). Otherwise, you may encounter an error :</p>\n<blockquote>\n<p>expectation &quot;assertNext&quot; failed (expected: onNext(); actual: onError(java.lang.NullPointerException: The mapper returned a null Mono))\njava.lang.AssertionError: expectation &quot;assertNext&quot; failed (expected: onNext(); actual: onError(java.lang.NullPointerException: The mapper returned a null Mono))</p>\n</blockquote>\n"}],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1704,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679081886,"creation_date":1678787775,"question_id":75731555,"body_markdown":"\r\n```java\r\n@ExtendWith(value = SpringExtension.class)\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\npublic abstract class BaseAbstractTest {\r\n\r\n    @MockBean\r\n    protected TokenService tokenService;\r\n\r\n    @MockBean\r\n    protected UserService userService;\r\n\r\n    protected AccessService accessService;\r\n\r\n}\r\n\r\n    @BeforeAll\r\n    protected void init() {\r\n\r\n Mono&lt;Token&gt; tokenExpected = Mono.just(new Token());\r\n\r\n      given(\r\n                this.tokenService.createToken(\r\n                        any(Auth.class),\r\n                        any(String.class),\r\n                        any(UUID.class),\r\n                        any(String.class),\r\n                        any(Duration.class)\r\n                )\r\n        )\r\n                .willReturn(tokenExpected);\r\n\r\n  this.accessService =\r\n                new AccessService(\r\n                        this.tokenService,             \r\n                        this.userService);\r\n\r\n}\r\n\r\n```\r\n\r\n```java\r\npublic interface MfaTokenService {\r\n\r\n  Mono&lt;MfaToken&gt; createNewToken(Auth authentication,\r\n                                     String sessionId,\r\n                                     UUID sessionId,\r\n                                     String phone,\r\n                                     Duration ttl);\r\n}\r\n```\r\n\r\nWhen initialization occurs and mock behaviors are created, then I get an error ( .willReturn(tokenExpected) ):\r\n\r\n\r\n&gt; &gt; MonoJust cannot be returned by toString() toString() should return String\r\n&gt; *** If you&#39;re unsure why you&#39;re getting above error read on. Due to the nature of the syntax above problem might occur because:\r\n&gt; 1. This exception *might* occur in wrongly written multi-threaded tests.    Please refer to Mockito FAQ on limitations of concurrency\r\n&gt; testing.\r\n&gt; 2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \r\n&gt;    - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\r\n&gt; \r\n&gt; org.mockito.exceptions.misusing.WrongTypeOfReturnValue:  MonoJust\r\n&gt; cannot be returned by toString() toString() should return String\r\n&gt; *** If you&#39;re unsure why you&#39;re getting above error read on. Due to the nature of the syntax above problem might occur because:\r\n&gt; 1. This exception *might* occur in wrongly written multi-threaded tests.    Please refer to Mockito FAQ on limitations of concurrency\r\n&gt; testing.\r\n&gt; 2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \r\n&gt;    - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\r\n\r\nWho has any idea why the error is happening and how it can be fixed ?","title":"MonoJust cannot be returned by toString() toString() should return String (Reactive streams and Mockito)","body":"<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(value = SpringExtension.class)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic abstract class BaseAbstractTest {\n\n    @MockBean\n    protected TokenService tokenService;\n\n    @MockBean\n    protected UserService userService;\n\n    protected AccessService accessService;\n\n}\n\n    @BeforeAll\n    protected void init() {\n\n Mono&lt;Token&gt; tokenExpected = Mono.just(new Token());\n\n      given(\n                this.tokenService.createToken(\n                        any(Auth.class),\n                        any(String.class),\n                        any(UUID.class),\n                        any(String.class),\n                        any(Duration.class)\n                )\n        )\n                .willReturn(tokenExpected);\n\n  this.accessService =\n                new AccessService(\n                        this.tokenService,             \n                        this.userService);\n\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MfaTokenService {\n\n  Mono&lt;MfaToken&gt; createNewToken(Auth authentication,\n                                     String sessionId,\n                                     UUID sessionId,\n                                     String phone,\n                                     Duration ttl);\n}\n</code></pre>\n<p>When initialization occurs and mock behaviors are created, then I get an error ( .willReturn(tokenExpected) ):</p>\n<blockquote>\n<blockquote>\n<p>MonoJust cannot be returned by toString() toString() should return String\n*** If you're unsure why you're getting above error read on. Due to the nature of the syntax above problem might occur because:</p>\n</blockquote>\n<ol>\n<li>This exception <em>might</em> occur in wrongly written multi-threaded tests.    Please refer to Mockito FAQ on limitations of concurrency\ntesting.</li>\n<li>A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies -\n<ul>\n<li>with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.</li>\n</ul>\n</li>\n</ol>\n<p>org.mockito.exceptions.misusing.WrongTypeOfReturnValue:  MonoJust\ncannot be returned by toString() toString() should return String\n*** If you're unsure why you're getting above error read on. Due to the nature of the syntax above problem might occur because:</p>\n<ol>\n<li>This exception <em>might</em> occur in wrongly written multi-threaded tests.    Please refer to Mockito FAQ on limitations of concurrency\ntesting.</li>\n<li>A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies -\n<ul>\n<li>with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.</li>\n</ul>\n</li>\n</ol>\n</blockquote>\n<p>Who has any idea why the error is happening and how it can be fixed ?</p>\n"},{"tags":["python","java","enums"],"answers":[{"tags":[],"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679081669,"creation_date":1679081669,"answer_id":75771550,"question_id":75771456,"body_markdown":"There is no such thing in Java, but all enumerations derive from the class [Enum][1]. This class has a property `ordinal` which is a integer automatically assigned at creation:\r\n\r\nFor instance:\r\n\r\n      public enum Language {\r\n        JAVA,\r\n        PYTHON\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        for (var value : Language.values()) {\r\n          System.out.printf(&quot;%s : %d%n&quot;, value.name(), value.ordinal());\r\n        }\r\n      }\r\n\r\n\r\nWill print: \r\n\r\n    JAVA : 0\r\n    PYTHON : 1\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html\r\n","title":"Is there a similar function to auto() of python in java","body":"<p>There is no such thing in Java, but all enumerations derive from the class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html\" rel=\"nofollow noreferrer\">Enum</a>. This class has a property <code>ordinal</code> which is a integer automatically assigned at creation:</p>\n<p>For instance:</p>\n<pre><code>  public enum Language {\n    JAVA,\n    PYTHON\n  }\n\n  public static void main(String[] args) {\n    for (var value : Language.values()) {\n      System.out.printf(&quot;%s : %d%n&quot;, value.name(), value.ordinal());\n    }\n  }\n</code></pre>\n<p>Will print:</p>\n<pre><code>JAVA : 0\nPYTHON : 1\n</code></pre>\n"}],"owner":{"account_id":28045407,"reputation":11,"user_id":21422286,"display_name":"Antiferg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679081669,"creation_date":1679081014,"question_id":75771456,"body_markdown":"```\r\nfrom enum import Enum, auto\r\nclass language(Enum):\r\n    Java = auto()\r\n    Python = auto() \r\nprint(list(language.Java.value))\r\n```\r\nit automaticly assigns a value to Java and Python\r\n\r\nis there a similar method or a  way to do this in java","title":"Is there a similar function to auto() of python in java","body":"<pre><code>from enum import Enum, auto\nclass language(Enum):\n    Java = auto()\n    Python = auto() \nprint(list(language.Java.value))\n</code></pre>\n<p>it automaticly assigns a value to Java and Python</p>\n<p>is there a similar method or a  way to do this in java</p>\n"},{"tags":["java","azure","docker","azure-devops","jackson"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1658414917,"post_id":73067471,"comment_id":129050651,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":25671365,"reputation":9,"user_id":19435553,"display_name":"heuristic123"},"score":0,"creation_date":1658440796,"post_id":73067471,"comment_id":129058866,"body_markdown":"There is no problem with the code because the same code works if I test it with a real Azure system.","body":"There is no problem with the code because the same code works if I test it with a real Azure system."}],"answers":[{"tags":[],"owner":{"account_id":8625831,"reputation":720,"user_id":6459098,"display_name":"U_R_Naveen UR_Naveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679081225,"creation_date":1679081225,"answer_id":75771481,"question_id":73067471,"body_markdown":"i had faced this issue. it was due to version mismatch with dependencies. so add azure sdk as pom type.\r\n \r\n\r\n    &lt;dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n          &lt;artifactId&gt;azure-sdk-bom&lt;/artifactId&gt;\r\n          &lt;version&gt;1.2.10&lt;/version&gt;\r\n          &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n[link][1]\r\n\r\n\r\n  [1]: https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/boms/azure-sdk-bom/README.md#adding-the-bom-to-your-project","title":"com.azure.core.exception.HttpResponseException: Deserialization Failed error in azurite docker image","body":"<p>i had faced this issue. it was due to version mismatch with dependencies. so add azure sdk as pom type.</p>\n<pre><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.azure&lt;/groupId&gt;\n      &lt;artifactId&gt;azure-sdk-bom&lt;/artifactId&gt;\n      &lt;version&gt;1.2.10&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p><a href=\"https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/boms/azure-sdk-bom/README.md#adding-the-bom-to-your-project\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":25671365,"reputation":9,"user_id":19435553,"display_name":"heuristic123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679081225,"creation_date":1658411481,"question_id":73067471,"body_markdown":"I have been able to run the azurite docker container provided by Microsoft to run a local container of Azure Blob storage. Most of the time it works(when I upload images) but it fails when I provide other types of data. I get exactly the following error:\r\n\r\n\r\n        Blob operation error on blob: &#39;reports/08191407-a4d4-4c86-9f3c-45a02b8c93ec&#39;\r\n    com.azure.core.exception.HttpResponseException: Deserialization Failed.\r\n    \tat com.azure.core.implementation.serializer.HttpResponseBodyDecoder.decodeByteArray(HttpResponseBodyDecoder.java:92)\r\n    \tat com.azure.core.implementation.serializer.HttpResponseDecoder$HttpDecodedResponse.getDecodedBody(HttpResponseDecoder.java:93)\r\n    \tat reactor.core.publisher.Mono.lambda$mapNotNull$28(Mono.java:3429)\r\n    \tat reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:176)\r\n    \tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2398)\r\n    \tat reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.request(FluxHandleFuseable.java:257)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171)\r\n    \tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2194)\r\n    \tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2068)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96)\r\n    \tat reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onSubscribe(FluxHandleFuseable.java:161)\r\n    \tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)\r\n    \tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157)\r\n    \tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\r\n    \tat reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onNext(FluxDoOnEach.java:173)\r\n    \tat reactor.core.publisher.FluxDoOnEach$DoOnEachFuseableSubscriber.onNext(FluxDoOnEach.java:281)\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n    \tat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:137)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n    \tat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:137)\r\n    \tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\r\n    \tat reactor.core.publisher.FluxDelaySubscription$DelaySubscriptionMainSubscriber.onNext(FluxDelaySubscription.java:189)\r\n    \tat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\r\n    \tat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\r\n    \tat reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onNext(FluxTimeout.java:180)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n    \tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\r\n    \tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:292)\r\n    \tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187)\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\r\n    \tat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\r\n    \tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onNext(FluxRetryWhen.java:174)\r\n    \tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\r\n    \tat reactor.core.publisher.Operators$MonoInnerProducerBase.complete(Operators.java:2664)\r\n    \tat reactor.core.publisher.MonoSingle$SingleSubscriber.onComplete(MonoSingle.java:180)\r\n    \tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onComplete(MonoFlatMapMany.java:260)\r\n    \tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\r\n    \tat reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onComplete(FluxDoFinally.java:128)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152)\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1817)\r\n    \tat reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:160)\r\n    \tat reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:220)\r\n    \tat reactor.core.publisher.FluxMap$MapConditionalSubscriber.onComplete(FluxMap.java:275)\r\n    \tat reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)\r\n    \tat reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)\r\n    \tat reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)\r\n    \tat reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:703)\r\n    \tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: com.fasterxml.jackson.core.JsonParseException: Unrecognized token &#39;PK o&#39;: was expecting (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\r\n    ?u???\\u0019+??a\\u007Fi]??\\u0012?d?F?_???6P?\\u0002v??i?q?a?\\u001C\\u0013\\u0017\\u0006x\\u0015???\\u007F??\\u00010?\\u001E\\u0000?\\u001BJ\\u0006??,?t??\\u0019l?\\u0013???/?~??Dj8I?\r\n    ?\\u007F?I?PJ?T?G?mkHr+???R&amp;v\\u001E?^Hk?\\q?b;W????\\u0015&#39;-?s???)~???&gt;?o?\\u0014\\u007FO)n? h?.?\\u0012???&#39;??\\u001BC\\u0003? I#\\u0002?&amp;i\\u0007?#\\u0013?\\u0000\\u001E???nxg?/??H???&gt;??f?Y!\\u000Er&quot;[truncated 920346 bytes]; line: 1, column: 13]\r\n    \tat com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:2391)\r\n    \tat com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:745)\r\n    \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser._reportInvalidToken(UTF8StreamJsonParser.java:3635)\r\n    \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser._handleUnexpectedValue(UTF8StreamJsonParser.java:2734)\r\n    \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser._nextTokenNotInObject(UTF8StreamJsonParser.java:902)\r\n    \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:794)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:4761)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4667)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3723)\r\n    \tat com.azure.core.implementation.jackson.ObjectMapperShim.readValue(ObjectMapperShim.java:224)\r\n    \tat com.azure.core.util.serializer.JacksonAdapter.lambda$deserialize$8(JacksonAdapter.java:225)\r\n    \tat com.azure.core.util.serializer.JacksonAdapter.useAccessHelper(JacksonAdapter.java:271)\r\n    \tat com.azure.core.util.serializer.JacksonAdapter.deserialize(JacksonAdapter.java:223)\r\n    \tat com.azure.core.implementation.serializer.HttpResponseBodyDecoder.deserializeBody(HttpResponseBodyDecoder.java:145)\r\n    \tat com.azure.core.implementation.serializer.HttpResponseBodyDecoder.decodeByteArray(HttpResponseBodyDecoder.java:86)\r\n    \t... 81 common frames omitted\r\n\r\nI think this has to do with how the serialization is done for binary data but it is strange that such an error would happen.","title":"com.azure.core.exception.HttpResponseException: Deserialization Failed error in azurite docker image","body":"<p>I have been able to run the azurite docker container provided by Microsoft to run a local container of Azure Blob storage. Most of the time it works(when I upload images) but it fails when I provide other types of data. I get exactly the following error:</p>\n<pre><code>    Blob operation error on blob: 'reports/08191407-a4d4-4c86-9f3c-45a02b8c93ec'\ncom.azure.core.exception.HttpResponseException: Deserialization Failed.\n    at com.azure.core.implementation.serializer.HttpResponseBodyDecoder.decodeByteArray(HttpResponseBodyDecoder.java:92)\n    at com.azure.core.implementation.serializer.HttpResponseDecoder$HttpDecodedResponse.getDecodedBody(HttpResponseDecoder.java:93)\n    at reactor.core.publisher.Mono.lambda$mapNotNull$28(Mono.java:3429)\n    at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:176)\n    at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2398)\n    at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.request(FluxHandleFuseable.java:257)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2194)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2068)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96)\n    at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onSubscribe(FluxHandleFuseable.java:161)\n    at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157)\n    at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\n    at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onNext(FluxDoOnEach.java:173)\n    at reactor.core.publisher.FluxDoOnEach$DoOnEachFuseableSubscriber.onNext(FluxDoOnEach.java:281)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:137)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:137)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\n    at reactor.core.publisher.FluxDelaySubscription$DelaySubscriptionMainSubscriber.onNext(FluxDelaySubscription.java:189)\n    at reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\n    at reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\n    at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onNext(FluxTimeout.java:180)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:292)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\n    at reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\n    at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onNext(FluxRetryWhen.java:174)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\n    at reactor.core.publisher.Operators$MonoInnerProducerBase.complete(Operators.java:2664)\n    at reactor.core.publisher.MonoSingle$SingleSubscriber.onComplete(MonoSingle.java:180)\n    at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onComplete(MonoFlatMapMany.java:260)\n    at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\n    at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onComplete(FluxDoFinally.java:128)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1817)\n    at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:160)\n    at reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:220)\n    at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onComplete(FluxMap.java:275)\n    at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)\n    at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)\n    at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)\n    at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:703)\n    at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: com.fasterxml.jackson.core.JsonParseException: Unrecognized token 'PK o': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\n?u???\\u0019+??a\\u007Fi]??\\u0012?d?F?_???6P?\\u0002v??i?q?a?\\u001C\\u0013\\u0017\\u0006x\\u0015???\\u007F??\\u00010?\\u001E\\u0000?\\u001BJ\\u0006??,?t??\\u0019l?\\u0013???/?~??Dj8I?\n?\\u007F?I?PJ?T?G?mkHr+???R&amp;v\\u001E?^Hk?\\q?b;W????\\u0015'-?s???)~???&gt;?o?\\u0014\\u007FO)n? h?.?\\u0012???'??\\u001BC\\u0003? I#\\u0002?&amp;i\\u0007?#\\u0013?\\u0000\\u001E???nxg?/??H???&gt;??f?Y!\\u000Er&quot;[truncated 920346 bytes]; line: 1, column: 13]\n    at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:2391)\n    at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:745)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._reportInvalidToken(UTF8StreamJsonParser.java:3635)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._handleUnexpectedValue(UTF8StreamJsonParser.java:2734)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._nextTokenNotInObject(UTF8StreamJsonParser.java:902)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:794)\n    at com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:4761)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4667)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3723)\n    at com.azure.core.implementation.jackson.ObjectMapperShim.readValue(ObjectMapperShim.java:224)\n    at com.azure.core.util.serializer.JacksonAdapter.lambda$deserialize$8(JacksonAdapter.java:225)\n    at com.azure.core.util.serializer.JacksonAdapter.useAccessHelper(JacksonAdapter.java:271)\n    at com.azure.core.util.serializer.JacksonAdapter.deserialize(JacksonAdapter.java:223)\n    at com.azure.core.implementation.serializer.HttpResponseBodyDecoder.deserializeBody(HttpResponseBodyDecoder.java:145)\n    at com.azure.core.implementation.serializer.HttpResponseBodyDecoder.decodeByteArray(HttpResponseBodyDecoder.java:86)\n    ... 81 common frames omitted\n</code></pre>\n<p>I think this has to do with how the serialization is done for binary data but it is strange that such an error would happen.</p>\n"},{"tags":["java","junit","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1354996657,"post_id":13779537,"comment_id":18950037,"body_markdown":"Works for me. Please share a sample project to reproduce.","body":"Works for me. Please share a sample project to reproduce."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1355000458,"post_id":13779537,"comment_id":18950971,"body_markdown":"Working for me as well. Check your module&#39;s settings and make sure it&#39;s a Java project, it&#39;s using the correct JDK, etc; while I didn&#39;t have any issues with the upgrade, a friend had to muck with a few of his projects.","body":"Working for me as well. Check your module&#39;s settings and make sure it&#39;s a Java project, it&#39;s using the correct JDK, etc; while I didn&#39;t have any issues with the upgrade, a friend had to muck with a few of his projects."},{"owner":{"account_id":17640,"reputation":261516,"user_id":39677,"accept_rate":57,"display_name":"Blankman"},"score":0,"creation_date":1355020857,"post_id":13779537,"comment_id":18954736,"body_markdown":"looks like somehow the project settings changed and my folder was not marked as a test folder any longer.","body":"looks like somehow the project settings changed and my folder was not marked as a test folder any longer."},{"owner":{"account_id":478864,"reputation":1349,"user_id":891203,"accept_rate":80,"display_name":"devdanke"},"score":0,"creation_date":1355295872,"post_id":13779537,"comment_id":19040705,"body_markdown":"I have the same problem.  Since switching to IntelliJ 12, for JUnit annotated classes under src/test/java, the context menu does not show any of the run or debug options that are usually available.  I checked project structure and my src/test/java path is correctly designated as &quot;Test Sources&quot;.  My workaround was to create a JUnit run configuration. Details: IntelliJ project is based on Maven multi-module project. The module is a Jersey REST service. (Maybe I upgraded to IntelliJ 12 a little too soon;-)","body":"I have the same problem.  Since switching to IntelliJ 12, for JUnit annotated classes under src/test/java, the context menu does not show any of the run or debug options that are usually available.  I checked project structure and my src/test/java path is correctly designated as &quot;Test Sources&quot;.  My workaround was to create a JUnit run configuration. Details: IntelliJ project is based on Maven multi-module project. The module is a Jersey REST service. (Maybe I upgraded to IntelliJ 12 a little too soon;-)"},{"owner":{"account_id":9379,"reputation":4132,"user_id":17304,"accept_rate":0,"display_name":"Piko"},"score":0,"creation_date":1383159115,"post_id":13779537,"comment_id":29248063,"body_markdown":"I have the same problem. I&#39;m running on Mac OS 10.9 with JDK 1.6. I used to be able to do this in IDEA 11 but not 12 :( I&#39;ve tried the suggestions below but it still doesn&#39;t work. While I can still set up unit tests from the Edit Configurations dialog, I really miss being able to quickly configure all my unit tests from the context menu... :(","body":"I have the same problem. I&#39;m running on Mac OS 10.9 with JDK 1.6. I used to be able to do this in IDEA 11 but not 12 :( I&#39;ve tried the suggestions below but it still doesn&#39;t work. While I can still set up unit tests from the Edit Configurations dialog, I really miss being able to quickly configure all my unit tests from the context menu... :("}],"answers":[{"tags":[],"owner":{"account_id":17640,"reputation":261516,"user_id":39677,"accept_rate":57,"display_name":"Blankman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1355060993,"creation_date":1355060993,"answer_id":13787980,"question_id":13779537,"body_markdown":"For some reason my project settings seemed to have not been picked up correctly with IntelliJ 12, I had to reset the /test folder as a test source and it works fine now.","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>For some reason my project settings seemed to have not been picked up correctly with IntelliJ 12, I had to reset the /test folder as a test source and it works fine now.</p>\n"},{"tags":[],"owner":{"account_id":2429293,"reputation":518,"user_id":2120578,"accept_rate":0,"display_name":"Kermit_ice_tea"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1374165610,"creation_date":1374165610,"answer_id":17729319,"question_id":13779537,"body_markdown":"The solution which worked for me, is as follows...\r\n\r\nRight click on the test folder------&gt;Mark Directory AS------&gt;select Test Source","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>The solution which worked for me, is as follows...</p>\n\n<p>Right click on the test folder------>Mark Directory AS------>select Test Source</p>\n"},{"tags":[],"owner":{"account_id":314670,"reputation":121,"user_id":629969,"display_name":"MattCurtis"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1383391846,"creation_date":1383391846,"answer_id":19741436,"question_id":13779537,"body_markdown":"Just had the same issue in a maven project - I had forgotten to mark the test class as public which resolved it immediately.","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>Just had the same issue in a maven project - I had forgotten to mark the test class as public which resolved it immediately.</p>\n"},{"tags":[],"owner":{"account_id":103956,"reputation":4401,"user_id":278174,"accept_rate":85,"display_name":"powder366"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402742554,"creation_date":1402742554,"answer_id":24219094,"question_id":13779537,"body_markdown":"I reinstalled IntelliJ on mac and it worked again.","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>I reinstalled IntelliJ on mac and it worked again.</p>\n"},{"tags":[],"owner":{"account_id":265903,"reputation":5352,"user_id":2092870,"accept_rate":80,"display_name":"Krešimir Nesek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1403085748,"creation_date":1403085748,"answer_id":24282656,"question_id":13779537,"body_markdown":"Test sources were marked correctly in my case.\r\nFile -&gt; Invalidate Caches -&gt; Restart did it for me.","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>Test sources were marked correctly in my case.\nFile -> Invalidate Caches -> Restart did it for me.</p>\n"},{"tags":[],"owner":{"account_id":45002,"reputation":13531,"user_id":132374,"accept_rate":87,"display_name":"Jon Onstott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436893639,"creation_date":1436893639,"answer_id":31413037,"question_id":13779537,"body_markdown":"I had this issue in IDEA 14.1.4.  Somehow, my JUnit plugin became disabled in Settings --&gt; Plugins.  I re-enabled it and am back in business.","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>I had this issue in IDEA 14.1.4.  Somehow, my JUnit plugin became disabled in Settings --> Plugins.  I re-enabled it and am back in business.</p>\n"},{"tags":[],"owner":{"account_id":4039834,"reputation":390,"user_id":3323033,"accept_rate":17,"display_name":"Hejwo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1438775221,"creation_date":1438775221,"answer_id":31831636,"question_id":13779537,"body_markdown":"I also had this problem under IDEA 14.1.4 but JUnit plugin was on. \r\nAfter some time spent on comparing my old **{HOME}/.IdeaIC14** folder and newly created one, I&#39;ve discovered that problem lies in AntDebugger v1.2.0 plugin. Uninstalling it helped.\r\n\r\nSo if anyone still have problems with run item in context menu maybe it&#39;s because of some underdeveloped plugin. ","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>I also had this problem under IDEA 14.1.4 but JUnit plugin was on. \nAfter some time spent on comparing my old <strong>{HOME}/.IdeaIC14</strong> folder and newly created one, I've discovered that problem lies in AntDebugger v1.2.0 plugin. Uninstalling it helped.</p>\n\n<p>So if anyone still have problems with run item in context menu maybe it's because of some underdeveloped plugin. </p>\n"},{"tags":[],"owner":{"account_id":7738376,"reputation":2013,"user_id":5859173,"accept_rate":56,"display_name":"Vishal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464206821,"creation_date":1464206821,"answer_id":37446669,"question_id":13779537,"body_markdown":"That means IntelliJ was not able to configure your workspace as python workspace. It generally shows a message when it detects python scripts and provide an auto configure option like &quot;configure python&quot;. This message was not appearing when I was opening python workspace and hence no tests were getting identified.\r\n\r\nI faced this issue when working simultaneously between Java and Python unit tests. The caching might have prevented identification of unit tests in python workspace. \r\n\r\nI just restarted cache using the option available in File menu (IntelliJ IDEA) and it reconfigured python as soon as I opened my python workspace after cache restarted.","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>That means IntelliJ was not able to configure your workspace as python workspace. It generally shows a message when it detects python scripts and provide an auto configure option like \"configure python\". This message was not appearing when I was opening python workspace and hence no tests were getting identified.</p>\n\n<p>I faced this issue when working simultaneously between Java and Python unit tests. The caching might have prevented identification of unit tests in python workspace. </p>\n\n<p>I just restarted cache using the option available in File menu (IntelliJ IDEA) and it reconfigured python as soon as I opened my python workspace after cache restarted.</p>\n"},{"tags":[],"owner":{"account_id":252322,"reputation":279,"user_id":530281,"display_name":"Hamed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473067323,"creation_date":1473067323,"answer_id":39327459,"question_id":13779537,"body_markdown":"What solved it for me was to put the test files inside a separate directory. Moreover, the test directory should be located OUTSIDE the src directory. Then, I had the right click menu item to mark the directory as test. Finally, I had to make both the test method and class containing it &#39;public&#39; and also the method had to be &#39;public void&#39;.\r\n\r\nI have no idea where are all these restrictions documented. I am new to Java and JUnit, anyway.","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>What solved it for me was to put the test files inside a separate directory. Moreover, the test directory should be located OUTSIDE the src directory. Then, I had the right click menu item to mark the directory as test. Finally, I had to make both the test method and class containing it 'public' and also the method had to be 'public void'.</p>\n\n<p>I have no idea where are all these restrictions documented. I am new to Java and JUnit, anyway.</p>\n"},{"tags":[],"owner":{"account_id":3731306,"reputation":689,"user_id":3103593,"display_name":"Joshua"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1477280573,"creation_date":1477280573,"answer_id":40210375,"question_id":13779537,"body_markdown":"Try to add junit plugin.\r\nPreferences -&gt; plugins -&gt; junit.[![add junit plugin][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pqVeH.png","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>Try to add junit plugin.\nPreferences -> plugins -> junit.<a href=\"https://i.stack.imgur.com/pqVeH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pqVeH.png\" alt=\"add junit plugin\"></a></p>\n"},{"tags":[],"owner":{"account_id":80063,"reputation":1983,"user_id":226630,"accept_rate":60,"display_name":"dSebastien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563975250,"creation_date":1563975250,"answer_id":57184222,"question_id":13779537,"body_markdown":"In my case, the issue occurred because of the Node plugin; disabling it fixed the issue; after a restart of IntelliJ, my Run options were back.\r\n\r\nI could identify the issue by looking at IntelliJ&#39;s logs, where there were NoSuchMethod errors when I right clicked on a test class/method name.","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>In my case, the issue occurred because of the Node plugin; disabling it fixed the issue; after a restart of IntelliJ, my Run options were back.</p>\n\n<p>I could identify the issue by looking at IntelliJ's logs, where there were NoSuchMethod errors when I right clicked on a test class/method name.</p>\n"},{"tags":[],"owner":{"account_id":28045424,"reputation":1,"user_id":21422301,"display_name":"MintAmphetamine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679081219,"creation_date":1679081219,"answer_id":75771478,"question_id":13779537,"body_markdown":"For those new to IntelliJ, you&#39;ll also get this issue if you accidentally create your Java file outside of the src folder. Moving it back in will fix it. ","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>For those new to IntelliJ, you'll also get this issue if you accidentally create your Java file outside of the src folder. Moving it back in will fix it.</p>\n"}],"owner":{"account_id":17640,"reputation":261516,"user_id":39677,"accept_rate":57,"display_name":"Blankman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19187,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":13787980,"answer_count":12,"score":13,"last_activity_date":1679081219,"creation_date":1354985193,"question_id":13779537,"body_markdown":"I downloaded the latest intellij 12 release, and now I don&#39;t see that right click context menu item to run my unit test for the current file.\r\n\r\nWhere is that option now?","title":"Running unit tests right click context item not visible with IntelliJ 12","body":"<p>I downloaded the latest intellij 12 release, and now I don't see that right click context menu item to run my unit test for the current file.</p>\n\n<p>Where is that option now?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9427,"page":565,"page_size":100}
