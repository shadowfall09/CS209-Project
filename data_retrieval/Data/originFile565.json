{"items":[{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1678651792,"post_id":75699149,"comment_id":133570780,"body_markdown":"Why don&#39;t pass through a simple POJO that match json structure ? After you can manage fields as you want.","body":"Why don&#39;t pass through a simple POJO that match json structure ? After you can manage fields as you want."},{"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"score":0,"creation_date":1678797157,"post_id":75699149,"comment_id":133599591,"body_markdown":"I don&#39;t know the structure of this json","body":"I don&#39;t know the structure of this json"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1678884670,"post_id":75699149,"comment_id":133619079,"body_markdown":"You can put it in a map, jackson does that.","body":"You can put it in a map, jackson does that."},{"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"score":0,"creation_date":1678955155,"post_id":75699149,"comment_id":133633843,"body_markdown":"That&#39;s what I do, update the example with: \n`Map&lt;String, Object&gt; map = mapper.readValue(jsonString, Map.class)`","body":"That&#39;s what I do, update the example with:  <code>Map&lt;String, Object&gt; map = mapper.readValue(jsonString, Map.class)</code>"},{"owner":{"account_id":10798342,"reputation":318,"user_id":7943248,"display_name":"Zeuzif"},"score":0,"creation_date":1678973552,"post_id":75699149,"comment_id":133639286,"body_markdown":"do you have to use the `KeyDeserializer` ?","body":"do you have to use the <code>KeyDeserializer</code> ?"},{"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"score":0,"creation_date":1679064229,"post_id":75699149,"comment_id":133658950,"body_markdown":"yes, I have to use KeyDeserializer","body":"yes, I have to use KeyDeserializer"}],"answers":[{"comments":[{"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"score":0,"creation_date":1678991217,"post_id":75756951,"comment_id":133644937,"body_markdown":"I don&#39;t want to print the json. I just want the keys","body":"I don&#39;t want to print the json. I just want the keys"},{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":0,"creation_date":1679039255,"post_id":75756951,"comment_id":133652627,"body_markdown":"extracting the keys form this should be more than easy.","body":"extracting the keys form this should be more than easy."},{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":0,"creation_date":1679040281,"post_id":75756951,"comment_id":133652867,"body_markdown":"@Boaz added an example how to get the keys.","body":"@Boaz added an example how to get the keys."},{"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"score":0,"creation_date":1679063992,"post_id":75756951,"comment_id":133658886,"body_markdown":"added explanation in the question. Im not looking for way to manipulate maps in Java. The question is why KeyDeserializer doesn&#39;t work","body":"added explanation in the question. Im not looking for way to manipulate maps in Java. The question is why KeyDeserializer doesn&#39;t work"}],"tags":[],"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679040262,"creation_date":1678973360,"answer_id":75756951,"question_id":75699149,"body_markdown":"There is no need for overriding a Deserializer. For dynamic JSONs you could simply use a JsonNode and then parse the structure however you want afterwards:\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tJsonNode jsonNode = new ObjectMapper().readValue(&quot;&quot;&quot;\r\n\t\t\t\t{\r\n\t\t\t\t    &quot;upper_key&quot;:\r\n\t\t\t\t    {\r\n\t\t\t\t        &quot;lower_key&quot;: &quot;lower_value&quot;,\r\n\t\t\t\t        &quot;lower_key_2&quot;: &quot;lower_value_2&quot;\r\n\t\t\t\t    },\r\n\t\t\t\t    &quot;upper_key_2&quot;: &quot;upper_value_2&quot;\r\n\t\t\t\t}&quot;&quot;&quot;, JsonNode.class);\r\n\r\n\t\textractKeys(jsonNode);\r\n\t}\r\n\r\n\tpublic static void extractKeys(JsonNode jsonNode) {\r\n\r\n\t\tjsonNode.fieldNames().forEachRemaining(name -&gt; {\r\n\t\t\tSystem.out.println(name);\r\n\t\t\tJsonNode subnode = jsonNode.get(name);\r\n\r\n\t\t\tif (subnode.isObject()) {\r\n\t\t\t\textractKeys(subnode);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\nprints:\r\n\r\n    upper_key\r\n    lower_key\r\n    lower_key_2\r\n    upper_key_2","title":"Override Jackson default KeyDeserializer","body":"<p>There is no need for overriding a Deserializer. For dynamic JSONs you could simply use a JsonNode and then parse the structure however you want afterwards:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    JsonNode jsonNode = new ObjectMapper().readValue(&quot;&quot;&quot;\n            {\n                &quot;upper_key&quot;:\n                {\n                    &quot;lower_key&quot;: &quot;lower_value&quot;,\n                    &quot;lower_key_2&quot;: &quot;lower_value_2&quot;\n                },\n                &quot;upper_key_2&quot;: &quot;upper_value_2&quot;\n            }&quot;&quot;&quot;, JsonNode.class);\n\n    extractKeys(jsonNode);\n}\n\npublic static void extractKeys(JsonNode jsonNode) {\n\n    jsonNode.fieldNames().forEachRemaining(name -&gt; {\n        System.out.println(name);\n        JsonNode subnode = jsonNode.get(name);\n\n        if (subnode.isObject()) {\n            extractKeys(subnode);\n        }\n    });\n}\n</code></pre>\n<p>prints:</p>\n<pre><code>upper_key\nlower_key\nlower_key_2\nupper_key_2\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"score":0,"creation_date":1678991262,"post_id":75757320,"comment_id":133644949,"body_markdown":"&quot;KeyDeserializer call deserialize Key just for upper key&quot; -&gt; where did you see this written?","body":"&quot;KeyDeserializer call deserialize Key just for upper key&quot; -&gt; where did you see this written?"}],"tags":[],"owner":{"account_id":10798342,"reputation":318,"user_id":7943248,"display_name":"Zeuzif"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678975162,"creation_date":1678975162,"answer_id":75757320,"question_id":75699149,"body_markdown":"KeyDeserializer call deserialize Key just for upper key. but you can get all keys by creating your own implementation for example\r\n\r\n```\r\nprivate static void getAllKeysUsingJsonNodeFieldNames(JsonNode value, List&lt;String&gt; keys) {\r\n\t\tif (value.isObject()) {\r\n\t\t\tIterator&lt;Entry&lt;String, JsonNode&gt;&gt; fields = value.fields();\r\n\t\t\tfields.forEachRemaining(field -&gt; {\r\n\t\t\t\tkeys.add(field.getKey());\r\n\t\t\t\tgetAllKeysUsingJsonNodeFieldNames((JsonNode) field.getValue(), keys);\r\n\t\t\t});\r\n\t\t} else if (value.isArray()) {\r\n\t\t\tArrayNode arrayField = (ArrayNode) value;\r\n\t\t\tarrayField.forEach(node -&gt; {\r\n\t\t\t\tgetAllKeysUsingJsonNodeFieldNames(node, keys);\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\nand call it from your main class\r\n\r\n```\r\npublic static void main(String[] args) throws JsonMappingException, JsonProcessingException {\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tList&lt;String&gt; keys = new ArrayList&lt;&gt;();\r\n        JsonNode jsonNode = mapper.readValue(jsonString, JsonNode.class);\r\n\t\tgetAllKeysUsingJsonNodeFieldNames(jsonNode, keys);\r\n\t\tSystem.out.println(keys);\r\n}\r\n```","title":"Override Jackson default KeyDeserializer","body":"<p>KeyDeserializer call deserialize Key just for upper key. but you can get all keys by creating your own implementation for example</p>\n<pre><code>private static void getAllKeysUsingJsonNodeFieldNames(JsonNode value, List&lt;String&gt; keys) {\n        if (value.isObject()) {\n            Iterator&lt;Entry&lt;String, JsonNode&gt;&gt; fields = value.fields();\n            fields.forEachRemaining(field -&gt; {\n                keys.add(field.getKey());\n                getAllKeysUsingJsonNodeFieldNames((JsonNode) field.getValue(), keys);\n            });\n        } else if (value.isArray()) {\n            ArrayNode arrayField = (ArrayNode) value;\n            arrayField.forEach(node -&gt; {\n                getAllKeysUsingJsonNodeFieldNames(node, keys);\n        });\n    }\n}\n</code></pre>\n<p>and call it from your main class</p>\n<pre><code>public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\n        ObjectMapper mapper = new ObjectMapper();\n        List&lt;String&gt; keys = new ArrayList&lt;&gt;();\n        JsonNode jsonNode = mapper.readValue(jsonString, JsonNode.class);\n        getAllKeysUsingJsonNodeFieldNames(jsonNode, keys);\n        System.out.println(keys);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"score":0,"creation_date":1679246174,"post_id":75771952,"comment_id":133682915,"body_markdown":"Thanks for the detailed answer but as you mentioned your answer does not apply to my original json. The type have to be Map&lt;String, Object&gt;  and not  Map&lt;String, Map&gt;.","body":"Thanks for the detailed answer but as you mentioned your answer does not apply to my original json. The type have to be Map&lt;String, Object&gt;  and not  Map&lt;String, Map&gt;."}],"tags":[],"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679086447,"creation_date":1679084781,"answer_id":75771952,"question_id":75699149,"body_markdown":"Let&#39;s look at KeyDeserializer javadoc:\r\n\r\n&gt; KeyDeserializer: class that defines API used for deserializing JSON content field names into Java Map **keys**.\r\n\r\nNote word keys here. KeyDeserializer is used **only** for map keys deserialization. In your case your target type is `Map&lt;String, Object&gt;`. Any other types aren&#39;t affected by KeyDeserializer. That is the reason why your code behaves like that. Jackson basically does next steps:\r\n\r\n 1. It sees target type as *Map&lt;String, Object&gt;*. It means that for deserializaiton *MapDeserializer* class should be used. \r\n2. *MapDeserializer* uses for keys deserialization class that you provided.\r\n3. For values deserialization *UntypedObjectDeserializer* is used, because value type is object.\r\n\r\nWith your initial JSON it is impossible to apply key deserializer so lower keys will be affected by key deserializer: you need to have Map type instead of object. If you will use next JSON (I removed second upper key from original JSON because I want object to strictly match *Map&lt;String, Map&lt;String, String&gt;&gt;*):\r\n```json\r\n{\r\n    &quot;upper_key&quot;:\r\n    {\r\n        &quot;lower_key&quot;: &quot;lower_value&quot;,\r\n        &quot;lower_key_2&quot;: &quot;lower_value_2&quot;\r\n    }\r\n}\r\n```\r\nand next code (Note that key deserializer registered for Object type, and map typed as &quot;Object to Map&quot;, i.e. &quot;Object to *Map&lt;Object, Object&gt;*&quot;):\r\n```java\r\nObjectMapper mapper = new ObjectMapper();\r\nSimpleModule module = new SimpleModule();\r\nmodule.addKeyDeserializer(Object.class, new MyKeyParser());\r\n\r\nmapper.registerModule(module);\r\n\r\nMapType mapType = mapper.getTypeFactory().constructMapType(Map.class, Object.class, Map.class);\r\n\r\nMap&lt;String, Map&lt;String, String&gt;&gt; map = mapper.readValue(jsonString, mapType);\r\n```\r\n\r\n\r\noutput will be as you want:\r\n\r\n    upper_key\r\n    lower_key\r\n    lower_key_2","title":"Override Jackson default KeyDeserializer","body":"<p>Let's look at KeyDeserializer javadoc:</p>\n<blockquote>\n<p>KeyDeserializer: class that defines API used for deserializing JSON content field names into Java Map <strong>keys</strong>.</p>\n</blockquote>\n<p>Note word keys here. KeyDeserializer is used <strong>only</strong> for map keys deserialization. In your case your target type is <code>Map&lt;String, Object&gt;</code>. Any other types aren't affected by KeyDeserializer. That is the reason why your code behaves like that. Jackson basically does next steps:</p>\n<ol>\n<li>It sees target type as <em>Map&lt;String, Object&gt;</em>. It means that for deserializaiton <em>MapDeserializer</em> class should be used.</li>\n<li><em>MapDeserializer</em> uses for keys deserialization class that you provided.</li>\n<li>For values deserialization <em>UntypedObjectDeserializer</em> is used, because value type is object.</li>\n</ol>\n<p>With your initial JSON it is impossible to apply key deserializer so lower keys will be affected by key deserializer: you need to have Map type instead of object. If you will use next JSON (I removed second upper key from original JSON because I want object to strictly match <em>Map&lt;String, Map&lt;String, String&gt;&gt;</em>):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;upper_key&quot;:\n    {\n        &quot;lower_key&quot;: &quot;lower_value&quot;,\n        &quot;lower_key_2&quot;: &quot;lower_value_2&quot;\n    }\n}\n</code></pre>\n<p>and next code (Note that key deserializer registered for Object type, and map typed as &quot;Object to Map&quot;, i.e. &quot;Object to <em>Map&lt;Object, Object&gt;</em>&quot;):</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper = new ObjectMapper();\nSimpleModule module = new SimpleModule();\nmodule.addKeyDeserializer(Object.class, new MyKeyParser());\n\nmapper.registerModule(module);\n\nMapType mapType = mapper.getTypeFactory().constructMapType(Map.class, Object.class, Map.class);\n\nMap&lt;String, Map&lt;String, String&gt;&gt; map = mapper.readValue(jsonString, mapType);\n</code></pre>\n<p>output will be as you want:</p>\n<pre><code>upper_key\nlower_key\nlower_key_2\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"score":0,"creation_date":1679245966,"post_id":75772327,"comment_id":133682876,"body_markdown":"it works! can you explain why the AbstractTypeMapping helps?","body":"it works! can you explain why the AbstractTypeMapping helps?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1679300317,"post_id":75772327,"comment_id":133689998,"body_markdown":"@Boaz I think the reason is [here](https://github.com/FasterXML/jackson-databind/blob/07ac7a71c9bc406827ba4e3e2708dbda6ec451f7/src/main/java/com/fasterxml/jackson/databind/deser/std/UntypedObjectDeserializer.java#L247): when you set an explicit Map type, `UntypedObjectDeserializer` doesn&#39;t call `mapObject()` anymore.","body":"@Boaz I think the reason is <a href=\"https://github.com/FasterXML/jackson-databind/blob/07ac7a71c9bc406827ba4e3e2708dbda6ec451f7/src/main/java/com/fasterxml/jackson/databind/deser/std/UntypedObjectDeserializer.java#L247\" rel=\"nofollow noreferrer\">here</a>: when you set an explicit Map type, <code>UntypedObjectDeserializer</code> doesn&#39;t call <code>mapObject()</code> anymore."}],"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679088057,"creation_date":1679088057,"answer_id":75772327,"question_id":75699149,"body_markdown":"The fact that Jackson doesn&#39;t use the `KeyDeserializer` for nested objects is explained by [Le0pold&#39;s answer](https://stackoverflow.com/a/75771952/12763954).\r\nHowever, there is a trick to make it work as expected (tested with Jackson 2.12.7): call\r\n[`addAbstractTypeMapping()`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/module/SimpleModule.html#addAbstractTypeMapping-java.lang.Class-java.lang.Class-) like this:\r\n\r\n``` lang-java\r\nimport java.util.*;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.*;\r\nimport com.fasterxml.jackson.databind.module.SimpleModule;\r\n\r\npublic class Test\r\n{\r\n    public static void main(String[] args) throws JsonProcessingException\r\n    {\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tSimpleModule module = new SimpleModule();\r\n\t\tmodule.addKeyDeserializer(Object.class, new MyKeyParser());\r\n\t\tmodule.addAbstractTypeMapping(Map.class, LinkedHashMap.class); // this line does the trick\r\n\t\tmapper.registerModule(module);\r\n\r\n\t\tString jsonString = &quot;{\\&quot;upper_key\\&quot;: {\\&quot;lower_key\\&quot;: \\&quot;lower_value\\&quot;, \\&quot;lower_key_2\\&quot;: \\&quot;lower_value_2\\&quot;}, \\&quot;upper_key_2\\&quot;: \\&quot;upper_value_2\\&quot;}&quot;;\r\n\t\tMap map = mapper.readValue(jsonString, Map.class);\r\n    }\r\n\r\n\tpublic static class MyKeyParser extends KeyDeserializer\r\n\t{\r\n\t\t@Override\r\n\t\tpublic Object deserializeKey(String key, DeserializationContext deserializationContext)\r\n\t\t{\r\n\t\t\tSystem.out.println(key);\r\n\t\t\treturn key;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n``` lang-none\r\nupper_key\r\nlower_key\r\nlower_key_2\r\nupper_key_2\r\n```\r\n","title":"Override Jackson default KeyDeserializer","body":"<p>The fact that Jackson doesn't use the <code>KeyDeserializer</code> for nested objects is explained by <a href=\"https://stackoverflow.com/a/75771952/12763954\">Le0pold's answer</a>.\nHowever, there is a trick to make it work as expected (tested with Jackson 2.12.7): call\n<a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/module/SimpleModule.html#addAbstractTypeMapping-java.lang.Class-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>addAbstractTypeMapping()</code></a> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.*;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\n\npublic class Test\n{\n    public static void main(String[] args) throws JsonProcessingException\n    {\n        ObjectMapper mapper = new ObjectMapper();\n        SimpleModule module = new SimpleModule();\n        module.addKeyDeserializer(Object.class, new MyKeyParser());\n        module.addAbstractTypeMapping(Map.class, LinkedHashMap.class); // this line does the trick\n        mapper.registerModule(module);\n\n        String jsonString = &quot;{\\&quot;upper_key\\&quot;: {\\&quot;lower_key\\&quot;: \\&quot;lower_value\\&quot;, \\&quot;lower_key_2\\&quot;: \\&quot;lower_value_2\\&quot;}, \\&quot;upper_key_2\\&quot;: \\&quot;upper_value_2\\&quot;}&quot;;\n        Map map = mapper.readValue(jsonString, Map.class);\n    }\n\n    public static class MyKeyParser extends KeyDeserializer\n    {\n        @Override\n        public Object deserializeKey(String key, DeserializationContext deserializationContext)\n        {\n            System.out.println(key);\n            return key;\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>upper_key\nlower_key\nlower_key_2\nupper_key_2\n</code></pre>\n"}],"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75772327,"answer_count":4,"score":0,"last_activity_date":1679230738,"creation_date":1678468623,"question_id":75699149,"body_markdown":"Im trying to override the default KeyDeserializer but it seems to work only on top level key:\r\n\r\nThe input JSON\r\n```\r\n{\r\n    &quot;upper_key&quot;:\r\n    {\r\n        &quot;lower_key&quot;: &quot;lower_value&quot;,\r\n        &quot;lower_key_2&quot;: &quot;lower_value_2&quot;\r\n    },\r\n    &quot;upper_key_2&quot;: &quot;upper_value_2&quot;\r\n}\r\n\r\n```\r\n\r\nThe mapper I use\r\n```\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    SimpleModule module = new SimpleModule();\r\n    module.addKeyDeserializer(Object.class, new MyKeyParser());\r\n    mapper.registerModule(module);\r\n    Map&lt;String, Object&gt; map = mapper.readValue(jsonString, Map.class);\r\n```\r\n\r\nand the KeyDeserializer\r\n\r\n```\r\npublic class MyKeyParser extends KeyDeserializer {\r\n\r\n  @Override\r\n  public String deserializeKey(String key, DeserializationContext deserializationContext) {\r\n    System.out.println(key);\r\n    return key;\r\n  }\r\n\r\n}\r\n```\r\n\r\nThe print output for the given json is:\r\n```\r\nupper_key\r\nupper_key_2\r\n```\r\n\r\nWhat I expected it to be (order doesn&#39;t matter)\r\n```\r\nupper_key\r\nlower_key\r\nlower_key_2\r\nupper_key_2\r\n```\r\n\r\nWhat I&#39;m missing?\r\n\r\nEDIT:  \r\nI see some answers give alternative ways to get the keys but this is not the question.  \r\nI want to understand how to use the KeyDeserializer.  \r\nMy real intent is to alter the keys - for example add suffix. so I don&#39;t want to iterate over the map twice and create 2 maps.  \r\n\r\nI know I can write a Map.class Deserializer and do everything there. But the question is why the KeyDeserializer work only on top level keys and not how to manipulate maps.\r\n\r\nThank you","title":"Override Jackson default KeyDeserializer","body":"<p>Im trying to override the default KeyDeserializer but it seems to work only on top level key:</p>\n<p>The input JSON</p>\n<pre><code>{\n    &quot;upper_key&quot;:\n    {\n        &quot;lower_key&quot;: &quot;lower_value&quot;,\n        &quot;lower_key_2&quot;: &quot;lower_value_2&quot;\n    },\n    &quot;upper_key_2&quot;: &quot;upper_value_2&quot;\n}\n\n</code></pre>\n<p>The mapper I use</p>\n<pre><code>    ObjectMapper mapper = new ObjectMapper();\n    SimpleModule module = new SimpleModule();\n    module.addKeyDeserializer(Object.class, new MyKeyParser());\n    mapper.registerModule(module);\n    Map&lt;String, Object&gt; map = mapper.readValue(jsonString, Map.class);\n</code></pre>\n<p>and the KeyDeserializer</p>\n<pre><code>public class MyKeyParser extends KeyDeserializer {\n\n  @Override\n  public String deserializeKey(String key, DeserializationContext deserializationContext) {\n    System.out.println(key);\n    return key;\n  }\n\n}\n</code></pre>\n<p>The print output for the given json is:</p>\n<pre><code>upper_key\nupper_key_2\n</code></pre>\n<p>What I expected it to be (order doesn't matter)</p>\n<pre><code>upper_key\nlower_key\nlower_key_2\nupper_key_2\n</code></pre>\n<p>What I'm missing?</p>\n<p>EDIT:<br />\nI see some answers give alternative ways to get the keys but this is not the question.<br />\nI want to understand how to use the KeyDeserializer.<br />\nMy real intent is to alter the keys - for example add suffix. so I don't want to iterate over the map twice and create 2 maps.</p>\n<p>I know I can write a Map.class Deserializer and do everything there. But the question is why the KeyDeserializer work only on top level keys and not how to manipulate maps.</p>\n<p>Thank you</p>\n"},{"tags":["java","sql","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":1,"creation_date":1679145331,"post_id":75775642,"comment_id":133670896,"body_markdown":"My opinion is create a query method for each set of criteria and use a method in the service layer to call the appropriate method based on the non null arguments that are passed in.","body":"My opinion is create a query method for each set of criteria and use a method in the service layer to call the appropriate method based on the non null arguments that are passed in."},{"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"score":0,"creation_date":1679152747,"post_id":75775642,"comment_id":133672070,"body_markdown":"I agree with @Calvin here - such approach would also be much easier to read, test &amp; support","body":"I agree with @Calvin here - such approach would also be much easier to read, test &amp; support"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1679154863,"post_id":75775642,"comment_id":133672460,"body_markdown":"alternatively, you can use JpaSpecifications for dynamic jpa queries. \nhttps://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl","body":"alternatively, you can use JpaSpecifications for dynamic jpa queries.  <a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl\" rel=\"nofollow noreferrer\">spring.io/blog/2011/04/26/&hellip;</a>"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1679169106,"post_id":75775642,"comment_id":133674656,"body_markdown":"If you start having more optional criteria, then I agree with @EmanuelTrandafir. JpaSpecifications would be the way to go. For the few optionals you have here, either option would suffice. Again, that’s just my personal opinion.","body":"If you start having more optional criteria, then I agree with @EmanuelTrandafir. JpaSpecifications would be the way to go. For the few optionals you have here, either option would suffice. Again, that’s just my personal opinion."}],"owner":{"account_id":15338304,"reputation":173,"user_id":11066001,"display_name":"Yashika Chandra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679230685,"creation_date":1679139729,"question_id":75775642,"body_markdown":"     @Query(&quot;select m from MaterialMetadata m where m.myKey= :myKey and m.statusType= :statusType &quot; +\r\n                            &quot;and (m.createdTime&gt;= :startTime or :startTime=0) and (m.createdTime&lt;= :endTime or :endTime=0) &quot; +\r\n                            &quot;and (m.userKey= :userKey or :userKey is null) and (m.title like %:title% or :title is null)&quot;)\r\n                    Page&lt;MaterialMetadata&gt; findByMyKeyAndStatusTypeAndCreatedTimeAndUserKeyAndTitleContainingIgnoreCase(@Param(&quot;myKey&quot;) String myKey, @Param(&quot;statusType&quot;) StatusType statusType, @Param(&quot;startTime&quot;) long startTime, @Param(&quot;endTime&quot;) long endTime, @Param(&quot;userKey&quot;) String userKey, @Param(&quot;title&quot;) String title, Pageable pageable);\r\n\r\n\r\n\r\nwrite a query where mykey and statusType is a mandatory column and the rest are optional.\r\n\r\nIn **createdTime** startTime and endTime is could be 0 or they have value, if they have value then search the time in between the start and end time.\r\n\r\nif only startTime has value then search from startTime and its above.\r\n\r\nif only endTime has value then search from endTime and it&#39;s below.\r\n\r\nif both do not have any value then search on the rest column.\r\n\r\nFor **Title**, it could search on a like basis.\r\n\r\nIssue -\r\n\r\n 1. for the title it&#39;s returning on an equal basis. \r\n 2. For createTime if any of field is missing does not give any output.\r\n3. if any optional field is missing, there is no output\r\n\r\n","title":"How to write a Spring data jpa method for optional parameter","body":"<pre><code> @Query(&quot;select m from MaterialMetadata m where m.myKey= :myKey and m.statusType= :statusType &quot; +\n                        &quot;and (m.createdTime&gt;= :startTime or :startTime=0) and (m.createdTime&lt;= :endTime or :endTime=0) &quot; +\n                        &quot;and (m.userKey= :userKey or :userKey is null) and (m.title like %:title% or :title is null)&quot;)\n                Page&lt;MaterialMetadata&gt; findByMyKeyAndStatusTypeAndCreatedTimeAndUserKeyAndTitleContainingIgnoreCase(@Param(&quot;myKey&quot;) String myKey, @Param(&quot;statusType&quot;) StatusType statusType, @Param(&quot;startTime&quot;) long startTime, @Param(&quot;endTime&quot;) long endTime, @Param(&quot;userKey&quot;) String userKey, @Param(&quot;title&quot;) String title, Pageable pageable);\n</code></pre>\n<p>write a query where mykey and statusType is a mandatory column and the rest are optional.</p>\n<p>In <strong>createdTime</strong> startTime and endTime is could be 0 or they have value, if they have value then search the time in between the start and end time.</p>\n<p>if only startTime has value then search from startTime and its above.</p>\n<p>if only endTime has value then search from endTime and it's below.</p>\n<p>if both do not have any value then search on the rest column.</p>\n<p>For <strong>Title</strong>, it could search on a like basis.</p>\n<p>Issue -</p>\n<ol>\n<li>for the title it's returning on an equal basis.</li>\n<li>For createTime if any of field is missing does not give any output.</li>\n<li>if any optional field is missing, there is no output</li>\n</ol>\n"},{"tags":["java","jmx"],"answers":[{"comments":[{"owner":{"account_id":1274862,"reputation":2293,"user_id":1230329,"accept_rate":90,"display_name":"Scott 混合理论"},"score":0,"creation_date":1637550305,"post_id":39196767,"comment_id":123847935,"body_markdown":"perfect ref url...","body":"perfect ref url..."}],"tags":[],"owner":{"display_name":"user2066936"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1679230536,"creation_date":1472427419,"answer_id":39196767,"question_id":34508184,"body_markdown":"Change \r\n\r\n    QueryExp exp = Query.eq(Query.attr(&quot;type&quot;), Query.value(&quot;Hello&quot;));\r\n\r\nto\r\n\r\n    QueryExp exp = Query.eq(Query.attr(&quot;Message&quot;), Query.value(&quot;Hello World&quot;));\r\nSince type &quot;type&quot; is not an attribute.\r\nAlternatively, if you are trying to query by &quot;type,&quot; which is part of the `ObjectName`, you can construct the object name like so:\r\n\r\n    String objectName = &quot;*:type=Hello&quot;;\r\n\r\nThen make the query as before:\r\n\r\n    Set&lt;ObjectInstance&gt; instances = server.queryMBeans(new ObjectName(objectName), null);","title":"JMX MBeanServer.queryMBeans with Query exp does not work","body":"<p>Change</p>\n<pre><code>QueryExp exp = Query.eq(Query.attr(&quot;type&quot;), Query.value(&quot;Hello&quot;));\n</code></pre>\n<p>to</p>\n<pre><code>QueryExp exp = Query.eq(Query.attr(&quot;Message&quot;), Query.value(&quot;Hello World&quot;));\n</code></pre>\n<p>Since type &quot;type&quot; is not an attribute.\nAlternatively, if you are trying to query by &quot;type,&quot; which is part of the <code>ObjectName</code>, you can construct the object name like so:</p>\n<pre><code>String objectName = &quot;*:type=Hello&quot;;\n</code></pre>\n<p>Then make the query as before:</p>\n<pre><code>Set&lt;ObjectInstance&gt; instances = server.queryMBeans(new ObjectName(objectName), null);\n</code></pre>\n"}],"owner":{"account_id":1859873,"reputation":410,"user_id":1684651,"accept_rate":40,"display_name":"user1684651"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4641,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679230536,"creation_date":1451381348,"question_id":34508184,"body_markdown":"I&#39;d like to use MBeanServer.queryMBeans(ObjectName name, QueryExp query) to get MBeans with query expression, but it seems it does not really work with QueryExp query. For example I have such test code: \r\n\r\n\r\n    public class CreateAndRegisterMBeanInMBeanServer {\r\n\r\n    /**\r\n     * @param args\r\n     */\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        String objectName = &quot;com.javacodegeeks.snippets.enterprise:type=Hello&quot;;\r\n        QueryExp exp = Query.eq(Query.attr(&quot;type&quot;), Query.value(&quot;Hello&quot;));\r\n        \r\n\r\n        MBeanServer server = ManagementFactory.getPlatformMBeanServer();\r\n\r\n        // Construct the ObjectName for the Hello MBean we will register\r\n        ObjectName mbeanName = new ObjectName(objectName);\r\n\r\n        Hello mbean = new Hello();\r\n\r\n        server.registerMBean(mbean, mbeanName);\r\n\r\n        Set&lt;ObjectInstance&gt; instances = server.queryMBeans(new ObjectName(objectName), null);\r\n        System.out.println(instances.size());\r\n\r\n        for (int i = 0; i &lt; instances.size(); i++) {\r\n            ObjectInstance instance = (ObjectInstance) instances.toArray()[i];\r\n\r\n            System.out.println(&quot;Class Name:t&quot; + instance.getClassName());\r\n            System.out.println(&quot;Object Name:t&quot; + instance.getObjectName());\r\n        }\r\n\r\n    }\r\n\r\n    static class Hello implements HelloMBean {\r\n\r\n        private String message = &quot;Hello World&quot;;\r\n\r\n        @Override\r\n        public String getMessage() {\r\n            return this.message;\r\n        }\r\n\r\n        @Override\r\n        public void sayHello() {\r\n            System.out.println(message);\r\n        }\r\n\r\n        @Override\r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n\r\n    }\r\n\r\n    static interface HelloMBean {\r\n\r\n        // operations\r\n\r\n        public void sayHello();\r\n\r\n        // attributes\r\n\r\n        // a read-write attribute called Message of type String\r\n        public String getMessage();\r\n\r\n        public void setMessage(String message);\r\n\r\n    }\r\n\r\n}\r\n\r\nI can get expected out:\r\n1\r\nClass Name:tCreateAndRegisterMBeanInMBeanServer$Hello\r\nObject Name:tcom.javacodegeeks.snippets.enterprise:type=Hello\r\n\r\nBut if I change my code to use defined QueryExp exp as:\r\n\r\nSet&lt;ObjectInstance&gt; instances = server.queryMBeans(new ObjectName(objectName), exp);\r\n\r\nI can not see any selected MBean, Is that the correct way to use such Query Exp ? \r\n\r\nThanks,\r\n","title":"JMX MBeanServer.queryMBeans with Query exp does not work","body":"<p>I'd like to use MBeanServer.queryMBeans(ObjectName name, QueryExp query) to get MBeans with query expression, but it seems it does not really work with QueryExp query. For example I have such test code: </p>\n\n<pre><code>public class CreateAndRegisterMBeanInMBeanServer {\n\n/**\n * @param args\n */\npublic static void main(String[] args) throws Exception {\n\n    String objectName = \"com.javacodegeeks.snippets.enterprise:type=Hello\";\n    QueryExp exp = Query.eq(Query.attr(\"type\"), Query.value(\"Hello\"));\n\n\n    MBeanServer server = ManagementFactory.getPlatformMBeanServer();\n\n    // Construct the ObjectName for the Hello MBean we will register\n    ObjectName mbeanName = new ObjectName(objectName);\n\n    Hello mbean = new Hello();\n\n    server.registerMBean(mbean, mbeanName);\n\n    Set&lt;ObjectInstance&gt; instances = server.queryMBeans(new ObjectName(objectName), null);\n    System.out.println(instances.size());\n\n    for (int i = 0; i &lt; instances.size(); i++) {\n        ObjectInstance instance = (ObjectInstance) instances.toArray()[i];\n\n        System.out.println(\"Class Name:t\" + instance.getClassName());\n        System.out.println(\"Object Name:t\" + instance.getObjectName());\n    }\n\n}\n\nstatic class Hello implements HelloMBean {\n\n    private String message = \"Hello World\";\n\n    @Override\n    public String getMessage() {\n        return this.message;\n    }\n\n    @Override\n    public void sayHello() {\n        System.out.println(message);\n    }\n\n    @Override\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n}\n\nstatic interface HelloMBean {\n\n    // operations\n\n    public void sayHello();\n\n    // attributes\n\n    // a read-write attribute called Message of type String\n    public String getMessage();\n\n    public void setMessage(String message);\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I can get expected out:\n1\nClass Name:tCreateAndRegisterMBeanInMBeanServer$Hello\nObject Name:tcom.javacodegeeks.snippets.enterprise:type=Hello</p>\n\n<p>But if I change my code to use defined QueryExp exp as:</p>\n\n<p>Set instances = server.queryMBeans(new ObjectName(objectName), exp);</p>\n\n<p>I can not see any selected MBean, Is that the correct way to use such Query Exp ? </p>\n\n<p>Thanks,</p>\n"},{"tags":["java","swagger"],"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679228911,"creation_date":1679228911,"question_id":75781981,"body_markdown":"I want different default values for my request, I don&#39;t want the ones that Swagger suggests.\r\n\r\nLet&#39;s say I want this class to have some default values:\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Example{\r\n    private Long id;\r\n    private String title;\r\n}\r\n```\r\n\r\nI did some research and tried this @Schema annotation, but unfortunately nothing changed:\r\n```\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;test&quot;)\r\n    @Operation(\r\n            summary = &quot;test&quot;,\r\n            requestBody = @io.swagger.v3.oas.annotations.parameters.RequestBody(\r\n            content = @Content(\r\n                    mediaType = &quot;application/json&quot;,\r\n                    schema = @Schema(implementation = Example.class, example = SwaggerConstants.EXAMPLE_DEFAULT_VALUES)\r\n            )\r\n    ))\r\n    public Example uploadExample(\r\n            @PathVariable(&quot;id&quot;) Long id,\r\n            @RequestBody() Example example) {\r\n\r\n        return exampleService.uploadExample(id, example);\r\n    }\r\n```\r\n\r\nSwaggerConstants looks like this:\r\n```\r\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class SwaggerConstants {\r\n    public static final String EXAMPLE_DEFAULT_VALUES =\r\n            &quot;{\\n&quot; +\r\n                    &quot;  \\&quot;id\\&quot;: 0,\\n&quot; +\r\n                    &quot;  \\&quot;title\\&quot;: \\&quot;Default Title\\&quot;\\n&quot; +\r\n                    &quot;}&quot;;\r\n}\r\n```","title":"Swagger v3 default values for Request body do not work","body":"<p>I want different default values for my request, I don't want the ones that Swagger suggests.</p>\n<p>Let's say I want this class to have some default values:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Example{\n    private Long id;\n    private String title;\n}\n</code></pre>\n<p>I did some research and tried this @Schema annotation, but unfortunately nothing changed:</p>\n<pre><code>    @PutMapping(&quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;test&quot;)\n    @Operation(\n            summary = &quot;test&quot;,\n            requestBody = @io.swagger.v3.oas.annotations.parameters.RequestBody(\n            content = @Content(\n                    mediaType = &quot;application/json&quot;,\n                    schema = @Schema(implementation = Example.class, example = SwaggerConstants.EXAMPLE_DEFAULT_VALUES)\n            )\n    ))\n    public Example uploadExample(\n            @PathVariable(&quot;id&quot;) Long id,\n            @RequestBody() Example example) {\n\n        return exampleService.uploadExample(id, example);\n    }\n</code></pre>\n<p>SwaggerConstants looks like this:</p>\n<pre><code>@NoArgsConstructor(access = AccessLevel.PRIVATE)\npublic class SwaggerConstants {\n    public static final String EXAMPLE_DEFAULT_VALUES =\n            &quot;{\\n&quot; +\n                    &quot;  \\&quot;id\\&quot;: 0,\\n&quot; +\n                    &quot;  \\&quot;title\\&quot;: \\&quot;Default Title\\&quot;\\n&quot; +\n                    &quot;}&quot;;\n}\n</code></pre>\n"},{"tags":["java","json","spring-boot","postman","put"],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679228644,"creation_date":1679228644,"answer_id":75781954,"question_id":75781859,"body_markdown":"JPA needs to determine if `save` is new or update. To do so, it will, by default, use the primary key that looks to be your ID. This means that changing your ID will tell JPA that it is a new entry.\r\n\r\nEasiest way is probably to use native query. In your repo, have a method something like:\r\n```\r\n@Query(nativeQuery = true,\r\n           value = &quot;update activity set activityID = ?1 where activityId = ?2&quot;)\r\nvoid updateActivityId(String newId, String oldId);\r\n```","title":"How to update id of an object through Postman","body":"<p>JPA needs to determine if <code>save</code> is new or update. To do so, it will, by default, use the primary key that looks to be your ID. This means that changing your ID will tell JPA that it is a new entry.</p>\n<p>Easiest way is probably to use native query. In your repo, have a method something like:</p>\n<pre><code>@Query(nativeQuery = true,\n           value = &quot;update activity set activityID = ?1 where activityId = ?2&quot;)\nvoid updateActivityId(String newId, String oldId);\n</code></pre>\n"}],"owner":{"account_id":24931076,"reputation":55,"user_id":18798172,"display_name":"vbnm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679228644,"creation_date":1679227572,"question_id":75781859,"body_markdown":"I have some dummy data in my database where an &quot;activity&quot; instance only contains an activityId as its attribute. Id&#39;s are strings and are manually set for now. This is just a test/dummy project.\r\n\r\nI call a @RestController in my spring boot project that has a putmapping which should save the changed object. \r\n\r\nI want to update an existing activity and just change its id to see if it works.\r\nThe putmapping is as follows:\r\n\r\n```\r\n@PutMapping(&quot;/activity/{id}&quot;)\r\n    public ResponseEntity&lt;Activity&gt; updateActivity(@PathVariable String id, @RequestBody Activity activity) {\r\n        Optional&lt;Activity&gt; activityOptional = activityRepo.findById(id);\r\n        if (activityOptional.isPresent()) {\r\n            activityRepo.save(activity);\r\n            return new ResponseEntity&lt;&gt;(activity, HttpStatus.OK);\r\n        } else {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n```\r\nIn postman I have made a put request where I call the url: localhost:8080/activity/0001\r\n\r\nas I want to update the activity with id=0001. I want to update it to be, say, 0033.\r\n\r\n\r\n\r\nIn postman I input the raw json format of what I want it to change to:\r\n```\r\n{\r\n    &quot;activityId&quot;: &quot;0033&quot;\r\n}\r\n```\r\nBy doing this, it doesn&#39;t update the activity but makes a new one with the new id.\r\n\r\nHow to I actually update the id of an activity? ","title":"How to update id of an object through Postman","body":"<p>I have some dummy data in my database where an &quot;activity&quot; instance only contains an activityId as its attribute. Id's are strings and are manually set for now. This is just a test/dummy project.</p>\n<p>I call a @RestController in my spring boot project that has a putmapping which should save the changed object.</p>\n<p>I want to update an existing activity and just change its id to see if it works.\nThe putmapping is as follows:</p>\n<pre><code>@PutMapping(&quot;/activity/{id}&quot;)\n    public ResponseEntity&lt;Activity&gt; updateActivity(@PathVariable String id, @RequestBody Activity activity) {\n        Optional&lt;Activity&gt; activityOptional = activityRepo.findById(id);\n        if (activityOptional.isPresent()) {\n            activityRepo.save(activity);\n            return new ResponseEntity&lt;&gt;(activity, HttpStatus.OK);\n        } else {\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n        }\n    }\n</code></pre>\n<p>In postman I have made a put request where I call the url: localhost:8080/activity/0001</p>\n<p>as I want to update the activity with id=0001. I want to update it to be, say, 0033.</p>\n<p>In postman I input the raw json format of what I want it to change to:</p>\n<pre><code>{\n    &quot;activityId&quot;: &quot;0033&quot;\n}\n</code></pre>\n<p>By doing this, it doesn't update the activity but makes a new one with the new id.</p>\n<p>How to I actually update the id of an activity?</p>\n"},{"tags":["java","networking","latency","spring-resttemplate"],"owner":{"account_id":2418810,"reputation":876,"user_id":2112296,"accept_rate":13,"display_name":"NameNotFoundException"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679228454,"creation_date":1679228454,"question_id":75781943,"body_markdown":"I am using SpringBoot RestTemplate to call one of the downstream HTTP get method. During the analysis phase we realized that the time difference between application receiving the response v/s ELB logs stating the response was sent is significant.\r\n\r\nResponse body is a JSON &amp; having around 5-10K characters. Generally this time delay is in the range of 5-10ms. I have almost no knowledge of networking so wondering if anybody guide me to debug this further. I am not sure if this is the standard time it takes to read the response from target ELB.\r\n\r\nMore information below:\r\n\r\n    Service A -&gt; ELB -&gt; Service B\r\n\r\nI am making a request from service A to service B.\r\n\r\nService B &amp; ELB logs stats that a given request had below timelines:\r\n1. ELB logs stats that it received a given request &amp; ELB took 1ms to find the target &amp; redirect the request to the targeted host.\r\n2. ELB logs stats that service B took 20ms to respond &amp; almost similar time is recorded in service B application logs as well.\r\n3. Service A logs stats that it took ~29ms to get the response from service B.\r\n\r\nAs per my understanding, it is service A which is taking time to read the response from ELB. I might be wrong here in this interpretation.\r\n\r\nI am looking the find the reason &amp; help in debugging that why it takes on average ~5-10ms to read the response at service A end despite service B ELB stats that, it completed the call within 20ms.","title":"Springboot RestTemplate taking time to read response from ELB","body":"<p>I am using SpringBoot RestTemplate to call one of the downstream HTTP get method. During the analysis phase we realized that the time difference between application receiving the response v/s ELB logs stating the response was sent is significant.</p>\n<p>Response body is a JSON &amp; having around 5-10K characters. Generally this time delay is in the range of 5-10ms. I have almost no knowledge of networking so wondering if anybody guide me to debug this further. I am not sure if this is the standard time it takes to read the response from target ELB.</p>\n<p>More information below:</p>\n<pre><code>Service A -&gt; ELB -&gt; Service B\n</code></pre>\n<p>I am making a request from service A to service B.</p>\n<p>Service B &amp; ELB logs stats that a given request had below timelines:</p>\n<ol>\n<li>ELB logs stats that it received a given request &amp; ELB took 1ms to find the target &amp; redirect the request to the targeted host.</li>\n<li>ELB logs stats that service B took 20ms to respond &amp; almost similar time is recorded in service B application logs as well.</li>\n<li>Service A logs stats that it took ~29ms to get the response from service B.</li>\n</ol>\n<p>As per my understanding, it is service A which is taking time to read the response from ELB. I might be wrong here in this interpretation.</p>\n<p>I am looking the find the reason &amp; help in debugging that why it takes on average ~5-10ms to read the response at service A end despite service B ELB stats that, it completed the call within 20ms.</p>\n"},{"tags":["java","distributed-system","aeron"],"answers":[{"comments":[{"owner":{"account_id":4311004,"reputation":35,"user_id":3522056,"display_name":"trunghuynh.cse"},"score":0,"creation_date":1679363446,"post_id":75781930,"comment_id":133704955,"body_markdown":"Am I understand correctly that these benchmarks are the round trip latency on single machine?","body":"Am I understand correctly that these benchmarks are the round trip latency on single machine?"},{"owner":{"account_id":1378935,"reputation":1741,"user_id":2164736,"display_name":"Martin Thompson"},"score":0,"creation_date":1679386870,"post_id":75781930,"comment_id":133707981,"body_markdown":"They are round trip benchmarks that can be configured to be on the same machine with IPC or UDP, and across machines with UDP. That is a configuration option.","body":"They are round trip benchmarks that can be configured to be on the same machine with IPC or UDP, and across machines with UDP. That is a configuration option."}],"tags":[],"owner":{"account_id":1378935,"reputation":1741,"user_id":2164736,"display_name":"Martin Thompson"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1679228333,"creation_date":1679228333,"answer_id":75781930,"question_id":75780098,"body_markdown":"I can push 1 million messages between two machines with Aeron in a fraction of a second. It is likely your benchmark could be improved. Try get familiar with a framework like JMH and understand what is actually being measured. There are Aeron (and other messaging) benchmarks here - https://github.com/real-logic/benchmarks.","title":"Why Aeron multicast is much slower than raw Tcp implementation","body":"<p>I can push 1 million messages between two machines with Aeron in a fraction of a second. It is likely your benchmark could be improved. Try get familiar with a framework like JMH and understand what is actually being measured. There are Aeron (and other messaging) benchmarks here - <a href=\"https://github.com/real-logic/benchmarks\" rel=\"nofollow noreferrer\">https://github.com/real-logic/benchmarks</a>.</p>\n"}],"owner":{"account_id":4311004,"reputation":35,"user_id":3522056,"display_name":"trunghuynh.cse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679228333,"creation_date":1679200237,"question_id":75780098,"body_markdown":"I am testing multicast of Aeron vs raw TCP server - client. \r\n\r\nAeron model setup: \r\n- MD processes on each node\r\n- Starting 1 Publication and 1 Subscriber\r\n\r\nRaw Tcp server  client:\r\n- Server: 1 Thread to push 1 million integer messages\r\n- Client: 1 Thread consuming \r\n\r\nResult:\r\nAeron UDP: Taking around 17 seconds\r\nRaw TCP: Taking around 8 seconds\r\n\r\nAs I understand UDP multicast way should be faster than TCP, am I missing anything or misunderstood ? What I should check or fined-tune to make Aeron faster\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QyXEZ.png\r\n\r\nTCP Server\r\n```\r\n        serverSocket = new ServerSocket(port);\r\n\r\n        while(true) {\r\n            Socket clientSocket = serverSocket.accept();\r\n            Thread t = new Thread(){\r\n                @Override\r\n                public void run() {\r\n                    try{\r\n                        System.out.println(&quot;Starting new thread serving client&quot;);\r\n                        out = new DataOutputStream(clientSocket.getOutputStream());\r\n                        in = new DataInputStream(new BufferedInputStream(clientSocket.getInputStream()));\r\n                        for (int i = 0; i &lt; 1_000_000; i++) {\r\n                            System.out.println(&quot;Server sending...&quot; + i + &quot;..!&quot;);\r\n                            out.writeInt(i);\r\n                        }\r\n                    } catch (IOException e){\r\n                        //\r\n                    }\r\n                }\r\n            };\r\n            t.start();\r\n\r\n        }\r\n```\r\nTCP client\r\n```\r\n        System.out.println(&quot;I&#39;m client!&quot;);\r\n        TcpClient client = new TcpClient();\r\n        String serverHost = System.getProperty(&quot;host&quot;);\r\n        try {\r\n            client.startConnection(serverHost, 6666);\r\n            DataInputStream in = client.in;\r\n            long st = System.currentTimeMillis();\r\n            int counter = 1_000_000;\r\n            while(counter &gt; 0) {\r\n                int v = in.readInt();\r\n//                System.out.println(&quot;v: &quot; + v);\r\n                counter--;\r\n            }\r\n\r\n            long pt = System.currentTimeMillis() - st;\r\n            System.out.println(&quot;Process time of TCP raw: &quot; + pt);\r\n        } finally {\r\n            client.stopConnection();\r\n        }\r\n```","title":"Why Aeron multicast is much slower than raw Tcp implementation","body":"<p>I am testing multicast of Aeron vs raw TCP server - client.</p>\n<p>Aeron model setup:</p>\n<ul>\n<li>MD processes on each node</li>\n<li>Starting 1 Publication and 1 Subscriber</li>\n</ul>\n<p>Raw Tcp server  client:</p>\n<ul>\n<li>Server: 1 Thread to push 1 million integer messages</li>\n<li>Client: 1 Thread consuming</li>\n</ul>\n<p>Result:\nAeron UDP: Taking around 17 seconds\nRaw TCP: Taking around 8 seconds</p>\n<p>As I understand UDP multicast way should be faster than TCP, am I missing anything or misunderstood ? What I should check or fined-tune to make Aeron faster\n<a href=\"https://i.stack.imgur.com/QyXEZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QyXEZ.png\" alt=\"enter image description here\" /></a></p>\n<p>TCP Server</p>\n<pre><code>        serverSocket = new ServerSocket(port);\n\n        while(true) {\n            Socket clientSocket = serverSocket.accept();\n            Thread t = new Thread(){\n                @Override\n                public void run() {\n                    try{\n                        System.out.println(&quot;Starting new thread serving client&quot;);\n                        out = new DataOutputStream(clientSocket.getOutputStream());\n                        in = new DataInputStream(new BufferedInputStream(clientSocket.getInputStream()));\n                        for (int i = 0; i &lt; 1_000_000; i++) {\n                            System.out.println(&quot;Server sending...&quot; + i + &quot;..!&quot;);\n                            out.writeInt(i);\n                        }\n                    } catch (IOException e){\n                        //\n                    }\n                }\n            };\n            t.start();\n\n        }\n</code></pre>\n<p>TCP client</p>\n<pre><code>        System.out.println(&quot;I'm client!&quot;);\n        TcpClient client = new TcpClient();\n        String serverHost = System.getProperty(&quot;host&quot;);\n        try {\n            client.startConnection(serverHost, 6666);\n            DataInputStream in = client.in;\n            long st = System.currentTimeMillis();\n            int counter = 1_000_000;\n            while(counter &gt; 0) {\n                int v = in.readInt();\n//                System.out.println(&quot;v: &quot; + v);\n                counter--;\n            }\n\n            long pt = System.currentTimeMillis() - st;\n            System.out.println(&quot;Process time of TCP raw: &quot; + pt);\n        } finally {\n            client.stopConnection();\n        }\n</code></pre>\n"},{"tags":["java","pojo"],"comments":[{"owner":{"account_id":125868,"reputation":72456,"user_id":321946,"accept_rate":88,"display_name":"RPM1984"},"score":1,"creation_date":1282263755,"post_id":3527264,"comment_id":3690123,"body_markdown":"check out my answer to a similar question: http://stackoverflow.com/questions/3392580/a-better-explanation-of-poco/3392625#3392625. This is referring to POCO&#39;s (.NET version of POJOS), but the fundamentals are the same.","body":"check out my answer to a similar question: <a href=\"http://stackoverflow.com/questions/3392580/a-better-explanation-of-poco/3392625#3392625\" title=\"a better explanation of poco\">stackoverflow.com/questions/3392580/&hellip;</a>. This is referring to POCO&#39;s (.NET version of POJOS), but the fundamentals are the same."},{"owner":{"account_id":1608367,"reputation":1263,"user_id":1487966,"accept_rate":17,"display_name":"Poovizhirajan N"},"score":0,"creation_date":1406013569,"post_id":3527264,"comment_id":38646482,"body_markdown":"@Tamil can you explain once again to me. about pojo","body":"@Tamil can you explain once again to me. about pojo"},{"owner":{"display_name":"user405398"},"score":0,"creation_date":1427178520,"post_id":3527264,"comment_id":46660012,"body_markdown":"@Poovizhirajan.N, sorry for the long delay. somehow missed it.","body":"@Poovizhirajan.N, sorry for the long delay. somehow missed it."}],"answers":[{"tags":[],"owner":{"account_id":914,"reputation":234979,"user_id":1199,"display_name":"Blair Conrad"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1282262795,"creation_date":1282262795,"answer_id":3527266,"question_id":3527264,"body_markdown":"A POJO is a [Plain Old Java Object][1].\r\n\r\nFrom the wikipedia article I linked to:\r\n\r\n&gt; In computing software, POJO is an\r\n&gt; acronym for Plain Old Java Object. The\r\n&gt; name is used to emphasize that a given\r\n&gt; object is an ordinary Java Object, not\r\n&gt; a special object, and in particular\r\n&gt; not an [Enterprise JavaBean][2]\r\n\r\nYour class appears to already be a POJO.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Plain_Old_Java_Object\r\n  [2]: http://en.wikipedia.org/wiki/Enterprise_JavaBean","title":"How to create a POJO?","body":"<p>A POJO is a <a href=\"http://en.wikipedia.org/wiki/Plain_Old_Java_Object\" rel=\"noreferrer\">Plain Old Java Object</a>.</p>\n\n<p>From the wikipedia article I linked to:</p>\n\n<blockquote>\n  <p>In computing software, POJO is an\n  acronym for Plain Old Java Object. The\n  name is used to emphasize that a given\n  object is an ordinary Java Object, not\n  a special object, and in particular\n  not an <a href=\"http://en.wikipedia.org/wiki/Enterprise_JavaBean\" rel=\"noreferrer\">Enterprise JavaBean</a></p>\n</blockquote>\n\n<p>Your class appears to already be a POJO.</p>\n"},{"comments":[{"owner":{"display_name":"user405398"},"score":0,"creation_date":1282263341,"post_id":3527294,"comment_id":3690087,"body_markdown":"Thankx for your reply senior. But i want some practical explanation.","body":"Thankx for your reply senior. But i want some practical explanation."},{"owner":{"account_id":172481,"reputation":110942,"user_id":400547,"display_name":"Jon Hanna"},"score":0,"creation_date":1282266992,"post_id":3527294,"comment_id":3690353,"body_markdown":"You want a practical explanation of nomenclature for &quot;not special&quot;? Really?","body":"You want a practical explanation of nomenclature for &quot;not special&quot;? Really?"}],"tags":[],"owner":{"account_id":172481,"reputation":110942,"user_id":400547,"display_name":"Jon Hanna"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1282263110,"creation_date":1282263110,"answer_id":3527294,"question_id":3527264,"body_markdown":"When you aren&#39;t doing anything to make your class particularly designed to work with a given framework, ORM, or other system that needs a special sort of class, you have a Plain Old Java Object, or POJO.\r\n\r\nIronically, one of the reasons for coining the term is that people were avoiding them in cases where they were sensible and some people concluded that this was because they didn&#39;t have a fancy name. Ironic, because your question demonstrates that the approach worked.\r\n\r\nCompare the older POD &quot;Plain Old Data&quot; to mean a C++ class that doesn&#39;t do anything a C struct couldn&#39;t do (more or less, non-virtual members that aren&#39;t destructors or trivial constructors don&#39;t stop it being considered POD), and the newer (and more directly comparable) POCO &quot;Plain Old CLR Object&quot; in .NET.","title":"How to create a POJO?","body":"<p>When you aren't doing anything to make your class particularly designed to work with a given framework, ORM, or other system that needs a special sort of class, you have a Plain Old Java Object, or POJO.</p>\n\n<p>Ironically, one of the reasons for coining the term is that people were avoiding them in cases where they were sensible and some people concluded that this was because they didn't have a fancy name. Ironic, because your question demonstrates that the approach worked.</p>\n\n<p>Compare the older POD \"Plain Old Data\" to mean a C++ class that doesn't do anything a C struct couldn't do (more or less, non-virtual members that aren't destructors or trivial constructors don't stop it being considered POD), and the newer (and more directly comparable) POCO \"Plain Old CLR Object\" in .NET.</p>\n"},{"comments":[{"owner":{"display_name":"user405398"},"score":0,"creation_date":1282264939,"post_id":3527340,"comment_id":3690209,"body_markdown":"I ll never going to have this doubt again. Thanks.","body":"I ll never going to have this doubt again. Thanks."},{"owner":{"display_name":"user405398"},"score":16,"creation_date":1282265447,"post_id":3527340,"comment_id":3690231,"body_markdown":"Some people can understand practical demo&#39;s faster, than reading. I am one of them.","body":"Some people can understand practical demo&#39;s faster, than reading. I am one of them."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1386353970,"post_id":3527340,"comment_id":30518079,"body_markdown":"Your particular example is immutable, but others are mutable.  Did you just happen to make yours immutable?  Is there any distinction between POJOs that contain unshared references to mutable objects for the purpose of encapsulating their state, and those which contain references identifying mutable objects to which other references also exist, for the purpose of encapsulating their identity?","body":"Your particular example is immutable, but others are mutable.  Did you just happen to make yours immutable?  Is there any distinction between POJOs that contain unshared references to mutable objects for the purpose of encapsulating their state, and those which contain references identifying mutable objects to which other references also exist, for the purpose of encapsulating their identity?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1386355107,"post_id":3527340,"comment_id":30518730,"body_markdown":"Just happened to come out that way.  I was not intending to be exhaustive.  It&#39;s a simple example, nothing more.","body":"Just happened to come out that way.  I was not intending to be exhaustive.  It&#39;s a simple example, nothing more."},{"owner":{"account_id":479869,"reputation":5332,"user_id":892788,"accept_rate":90,"display_name":"diyoda_"},"score":0,"creation_date":1393164416,"post_id":3527340,"comment_id":33288821,"body_markdown":"@duffymo sorry if I am wrong, Is this violating the no args rule/instruction?","body":"@duffymo sorry if I am wrong, Is this violating the no args rule/instruction?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":7,"creation_date":1393164858,"post_id":3527340,"comment_id":33288953,"body_markdown":"I think I stated it in my answer: requiring a no-arg constructor is a Java Bean requirement, but not so for POJO.  Besides, *any* rule can be broken.  Know the rules; know the exceptions; understand the consequences.  This is software development, not murder court.","body":"I think I stated it in my answer: requiring a no-arg constructor is a Java Bean requirement, but not so for POJO.  Besides, <i>any</i> rule can be broken.  Know the rules; know the exceptions; understand the consequences.  This is software development, not murder court."},{"owner":{"display_name":"user405398"},"score":0,"creation_date":1448907949,"post_id":3527340,"comment_id":55766462,"body_markdown":"@duffymo: After 5 years, thank you for the answer. People in SO helped me a lot more than anyone. And, personally I like your last comment.","body":"@duffymo: After 5 years, thank you for the answer. People in SO helped me a lot more than anyone. And, personally I like your last comment."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1448908022,"post_id":3527340,"comment_id":55766510,"body_markdown":"So kind of you to say.","body":"So kind of you to say."},{"owner":{"account_id":8879412,"reputation":159,"user_id":6630210,"display_name":"jundev"},"score":0,"creation_date":1533241449,"post_id":3527340,"comment_id":90286608,"body_markdown":"@duffymo, as you mentioned, **Must implement java.io.Serializable**, but why did not you write an implementation on `MyFirstPojo`? I would like to know that is it &quot;must do&quot; thing or not?","body":"@duffymo, as you mentioned, <b>Must implement java.io.Serializable</b>, but why did not you write an implementation on <code>MyFirstPojo</code>? I would like to know that is it &quot;must do&quot; thing or not?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1533241572,"post_id":3527340,"comment_id":90286652,"body_markdown":"Please read it again. The Java Bean standard mandates Serialiable; POJO does not.","body":"Please read it again. The Java Bean standard mandates Serialiable; POJO does not."},{"owner":{"account_id":8879412,"reputation":159,"user_id":6630210,"display_name":"jundev"},"score":0,"creation_date":1533241932,"post_id":3527340,"comment_id":90286828,"body_markdown":"Oh yes, you have mentioned JavaBean requirements. +1 for great explanation","body":"Oh yes, you have mentioned JavaBean requirements. +1 for great explanation"}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":11,"down_vote_count":0,"up_vote_count":83,"is_accepted":true,"score":83,"last_activity_date":1282266347,"creation_date":1282263884,"answer_id":3527340,"question_id":3527264,"body_markdown":"A POJO is just a plain, old Java Bean with the restrictions removed.  Java Beans must meet the following requirements: \r\n\r\n 1. Default no-arg constructor\r\n 2. Follow the Bean convention of getFoo (or isFoo for booleans) and setFoo methods for a mutable attribute named foo; leave off the setFoo if foo is immutable.\r\n 3. Must implement java.io.Serializable\r\n\r\nPOJO does not mandate any of these.  It&#39;s just what the name says: an object that compiles under JDK can be considered a Plain Old Java Object.  No app server, no base classes, no interfaces required to use.  \r\n\r\nThe acronym POJO was a reaction against EJB 2.0, which required several interfaces, extended base classes, and lots of methods just to do simple things.  Some people, Rod Johnson and Martin Fowler among them, rebelled against the complexity and sought a way to implement enterprise scale solutions without having to write EJBs.\r\n\r\nMartin Fowler coined a new acronym.\r\n\r\nRod Johnson wrote &quot;J2EE Without EJBs&quot;, wrote Spring, influenced EJB enough so version 3.1 looks a great deal like Spring and Hibernate, and got a sweet IPO from VMWare out of it.\r\n\r\nHere&#39;s an example that you can wrap your head around:\r\n\r\n    public class MyFirstPojo\r\n    {\r\n        private String name;\r\n    \r\n        public static void main(String [] args)\r\n        {\r\n           for (String arg : args)\r\n           {\r\n              MyFirstPojo pojo = new MyFirstPojo(arg);  // Here&#39;s how you create a POJO\r\n              System.out.println(pojo); \r\n           }\r\n        }\r\n    \r\n        public MyFirstPojo(String name)\r\n        {    \r\n            this.name = name;\r\n        }\r\n    \r\n        public String getName() { return this.name; } \r\n\r\n        public String toString() { return this.name; } \r\n    }\r\n\r\n","title":"How to create a POJO?","body":"<p>A POJO is just a plain, old Java Bean with the restrictions removed.  Java Beans must meet the following requirements: </p>\n\n<ol>\n<li>Default no-arg constructor</li>\n<li>Follow the Bean convention of getFoo (or isFoo for booleans) and setFoo methods for a mutable attribute named foo; leave off the setFoo if foo is immutable.</li>\n<li>Must implement java.io.Serializable</li>\n</ol>\n\n<p>POJO does not mandate any of these.  It's just what the name says: an object that compiles under JDK can be considered a Plain Old Java Object.  No app server, no base classes, no interfaces required to use.  </p>\n\n<p>The acronym POJO was a reaction against EJB 2.0, which required several interfaces, extended base classes, and lots of methods just to do simple things.  Some people, Rod Johnson and Martin Fowler among them, rebelled against the complexity and sought a way to implement enterprise scale solutions without having to write EJBs.</p>\n\n<p>Martin Fowler coined a new acronym.</p>\n\n<p>Rod Johnson wrote \"J2EE Without EJBs\", wrote Spring, influenced EJB enough so version 3.1 looks a great deal like Spring and Hibernate, and got a sweet IPO from VMWare out of it.</p>\n\n<p>Here's an example that you can wrap your head around:</p>\n\n<pre><code>public class MyFirstPojo\n{\n    private String name;\n\n    public static void main(String [] args)\n    {\n       for (String arg : args)\n       {\n          MyFirstPojo pojo = new MyFirstPojo(arg);  // Here's how you create a POJO\n          System.out.println(pojo); \n       }\n    }\n\n    public MyFirstPojo(String name)\n    {    \n        this.name = name;\n    }\n\n    public String getName() { return this.name; } \n\n    public String toString() { return this.name; } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2883225,"reputation":859,"user_id":2473612,"accept_rate":31,"display_name":"Subodh Bisht"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1465815271,"creation_date":1370944326,"answer_id":17041264,"question_id":3527264,"body_markdown":"POJO class acts as a bean which is used to set and get the value.\r\n    \r\n    public class Data\r\n    {\r\n\t\r\n\r\n    private int id;\r\n    \tprivate String deptname;\r\n    \tprivate String date;\r\n    \tprivate String name;\r\n    \tprivate String mdate;\r\n    \tprivate String mname;\r\n    \r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getDeptname() {\r\n    \t\treturn deptname;\r\n    \t}\r\n    \r\n    \tpublic void setDeptname(String deptname) {\r\n    \t\tthis.deptname = deptname;\r\n    \t}\r\n    \r\n    \tpublic String getDate() {\r\n    \t\treturn date;\r\n    \t}\r\n    \r\n    \tpublic void setDate(String date) {\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getMdate() {\r\n    \t\treturn mdate;\r\n    \t}\r\n    \r\n    \tpublic void setMdate(String mdate) {\r\n    \t\tthis.mdate = mdate;\r\n    \t}\r\n    \r\n    \tpublic String getMname() {\r\n    \t\treturn mname;\r\n    \t}\r\n    \r\n    \tpublic void setMname(String mname) {\r\n    \t\tthis.mname = mname;\r\n    \t}\r\n    }\r\n\r\n","title":"How to create a POJO?","body":"<p>POJO class acts as a bean which is used to set and get the value.</p>\n\n<pre><code>public class Data\n{\n\n\nprivate int id;\n    private String deptname;\n    private String date;\n    private String name;\n    private String mdate;\n    private String mname;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getDeptname() {\n        return deptname;\n    }\n\n    public void setDeptname(String deptname) {\n        this.deptname = deptname;\n    }\n\n    public String getDate() {\n        return date;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getMdate() {\n        return mdate;\n    }\n\n    public void setMdate(String mdate) {\n        this.mdate = mdate;\n    }\n\n    public String getMname() {\n        return mname;\n    }\n\n    public void setMname(String mname) {\n        this.mname = mname;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":238444,"reputation":18241,"user_id":507339,"accept_rate":78,"display_name":"Nilzor"},"score":0,"creation_date":1448198012,"post_id":21329226,"comment_id":55474433,"body_markdown":"#1, #2 contradicts the definition on wikipedia. https://en.wikipedia.org/wiki/Plain_Old_Java_Object#Definition. You&#39;re describing a &quot;JavaBean POJO&quot; (a term which I find to be an oxymoron, but that&#39;s just me)","body":"#1, #2 contradicts the definition on wikipedia. <a href=\"https://en.wikipedia.org/wiki/Plain_Old_Java_Object#Definition\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Plain_Old_Java_Object#Definition</a>. You&#39;re describing a &quot;JavaBean POJO&quot; (a term which I find to be an oxymoron, but that&#39;s just me)"},{"owner":{"account_id":4215498,"reputation":1219,"user_id":3451846,"display_name":"Valerio Bozz"},"score":0,"creation_date":1680012180,"post_id":21329226,"comment_id":133821558,"body_markdown":"Is the term &quot;property&quot; appropriate? Maybe you mean method?","body":"Is the term &quot;property&quot; appropriate? Maybe you mean method?"}],"tags":[],"owner":{"account_id":3803655,"reputation":1889,"user_id":3156616,"display_name":"Md Azaharuddin Ali"},"comment_count":2,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1499898427,"creation_date":1390556470,"answer_id":21329226,"question_id":3527264,"body_markdown":"POJO:-  POJO is a Java object not bound by any restriction other than those forced by the Java Language Specification.\r\n\r\n\r\nProperties of POJO\r\n\r\n 1. All properties must be public setter and getter methods   \r\n 2. All instance variables should be private \r\n 3. Should not Extend prespecified classes.\r\n 4. Should not Implement prespecified interfaces. \r\n 5. Should not contain prespecified annotations. \r\n 6. It may not have any argument constructors\r\n\r\nExample of POJO\r\n\r\n    public class POJO {\r\n     \r\n        private String value;\r\n     \r\n        public String getValue() {\r\n             return value;\r\n        }\r\n     \r\n        public void setValue(String value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n","title":"How to create a POJO?","body":"<p>POJO:-  POJO is a Java object not bound by any restriction other than those forced by the Java Language Specification.</p>\n\n<p>Properties of POJO</p>\n\n<ol>\n<li>All properties must be public setter and getter methods   </li>\n<li>All instance variables should be private </li>\n<li>Should not Extend prespecified classes.</li>\n<li>Should not Implement prespecified interfaces. </li>\n<li>Should not contain prespecified annotations. </li>\n<li>It may not have any argument constructors</li>\n</ol>\n\n<p>Example of POJO</p>\n\n<pre><code>public class POJO {\n\n    private String value;\n\n    public String getValue() {\n         return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3869822,"reputation":179,"user_id":3205359,"accept_rate":0,"display_name":"mohit sarsar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401192665,"creation_date":1401191589,"answer_id":23888744,"question_id":3527264,"body_markdown":"there are mainly three options are possible for mapping purpose\r\n\r\n1. serialize\r\n2. XML mapping\r\n3. POJO mapping.(Plain Old Java Objects)\r\n\r\nWhile using the pojo classes,it is easy for a developer to map with the database.\r\nPOJO classes are created for database and at the same time value-objects classes are created with getter and setter methods that will easily hold the content.\r\n\r\nSo,for the purpose of mapping in between java with database, value-objects and POJO classes are implemented.\r\n","title":"How to create a POJO?","body":"<p>there are mainly three options are possible for mapping purpose</p>\n\n<ol>\n<li>serialize</li>\n<li>XML mapping</li>\n<li>POJO mapping.(Plain Old Java Objects)</li>\n</ol>\n\n<p>While using the pojo classes,it is easy for a developer to map with the database.\nPOJO classes are created for database and at the same time value-objects classes are created with getter and setter methods that will easily hold the content.</p>\n\n<p>So,for the purpose of mapping in between java with database, value-objects and POJO classes are implemented.</p>\n"},{"comments":[{"owner":{"account_id":4802848,"reputation":2464,"user_id":3878948,"accept_rate":86,"display_name":"Rishabh Agarwal"},"score":0,"creation_date":1513123252,"post_id":34003992,"comment_id":82528373,"body_markdown":"Why you have use equals method? Also is POJO same as getters and setters?","body":"Why you have use equals method? Also is POJO same as getters and setters?"}],"tags":[],"owner":{"account_id":4884086,"reputation":61,"user_id":3937012,"display_name":"Abdullah Sarfaraz"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1497497786,"creation_date":1448903079,"answer_id":34003992,"question_id":3527264,"body_markdown":"    import java.io.Serializable;\r\n    \r\n    public class Course implements Serializable {\r\n    \r\n    \tprotected int courseId;\r\n    \tprotected String courseName;\r\n    \tprotected String courseType;\r\n    \r\n    \tpublic Course() {\r\n    \t\tcourseName = new String();\r\n    \t\tcourseType = new String();\r\n    \t}\r\n    \r\n    \tpublic Course(String courseName, String courseType) {\r\n    \t\tthis.courseName = courseName;\r\n    \t\tthis.courseType = courseType;\r\n    \t}\r\n    \r\n    \tpublic Course(int courseId, String courseName, String courseType) {\r\n    \t\tthis.courseId = courseId;\r\n    \t\tthis.courseName = courseName;\r\n    \t\tthis.courseType = courseType;\r\n    \t}\r\n    \r\n    \tpublic int getCourseId() {\r\n    \t\treturn courseId;\r\n    \t}\r\n    \r\n    \tpublic void setCourseId(int courseId) {\r\n    \t\tthis.courseId = courseId;\r\n    \t}\r\n    \r\n    \tpublic String getCourseName() {\r\n    \t\treturn courseName;\r\n    \t}\r\n    \r\n    \tpublic void setCourseName(String courseName) {\r\n    \t\tthis.courseName = courseName;\r\n    \t}\r\n    \r\n    \tpublic String getCourseType() {\r\n    \t\treturn courseType;\r\n    \t}\r\n    \r\n    \tpublic void setCourseType(String courseType) {\r\n    \t\tthis.courseType = courseType;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\treturn courseId;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (obj != null || obj instanceof Course) {\r\n    \t\t\tCourse c = (Course) obj;\r\n    \t\t\tif (courseId == c.courseId &amp;&amp; courseName.equals(c.courseName)\r\n    \t\t\t\t\t&amp;&amp; courseType.equals(c.courseType))\r\n    \t\t\t\treturn true;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Course[&quot; + courseId + &quot;,&quot; + courseName + &quot;,&quot; + courseType + &quot;]&quot;;\r\n    \t}\r\n    }\r\n\r\n","title":"How to create a POJO?","body":"<pre><code>import java.io.Serializable;\n\npublic class Course implements Serializable {\n\n    protected int courseId;\n    protected String courseName;\n    protected String courseType;\n\n    public Course() {\n        courseName = new String();\n        courseType = new String();\n    }\n\n    public Course(String courseName, String courseType) {\n        this.courseName = courseName;\n        this.courseType = courseType;\n    }\n\n    public Course(int courseId, String courseName, String courseType) {\n        this.courseId = courseId;\n        this.courseName = courseName;\n        this.courseType = courseType;\n    }\n\n    public int getCourseId() {\n        return courseId;\n    }\n\n    public void setCourseId(int courseId) {\n        this.courseId = courseId;\n    }\n\n    public String getCourseName() {\n        return courseName;\n    }\n\n    public void setCourseName(String courseName) {\n        this.courseName = courseName;\n    }\n\n    public String getCourseType() {\n        return courseType;\n    }\n\n    public void setCourseType(String courseType) {\n        this.courseType = courseType;\n    }\n\n    @Override\n    public int hashCode() {\n        return courseId;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj != null || obj instanceof Course) {\n            Course c = (Course) obj;\n            if (courseId == c.courseId &amp;&amp; courseName.equals(c.courseName)\n                    &amp;&amp; courseType.equals(c.courseType))\n                return true;\n        }\n        return false;\n    }\n\n    @Override\n    public String toString() {\n        return \"Course[\" + courseId + \",\" + courseName + \",\" + courseType + \"]\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8413313,"reputation":3388,"user_id":6314513,"display_name":"Gowtham Subramaniam"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1479881387,"creation_date":1479881387,"answer_id":40757238,"question_id":3527264,"body_markdown":"    public class UserInfo {\r\n            String LoginId;\r\n            String Password;\r\n            String FirstName;\r\n            String LastName;\r\n            String Email;\r\n            String Mobile;\r\n            String Address;\r\n            String DOB;\r\n    \r\n            public String getLoginId() {\r\n                return LoginId;\r\n            }\r\n    \r\n            public void setLoginId(String loginId) {\r\n                LoginId = loginId;\r\n            }\r\n    \r\n            public String getPassword() {\r\n                return Password;\r\n            }\r\n    \r\n            public void setPassword(String password) {\r\n                Password = password;\r\n            }\r\n    \r\n            public String getFirstName() {\r\n                return FirstName;\r\n            }\r\n    \r\n            public void setFirstName(String firstName) {\r\n                FirstName = firstName;\r\n            }\r\n    \r\n            public String getLastName() {\r\n                return LastName;\r\n            }\r\n    \r\n            public void setLastName(String lastName) {\r\n                LastName = lastName;\r\n            }\r\n    \r\n            public String getEmail() {\r\n                return Email;\r\n            }\r\n    \r\n            public void setEmail(String email) {\r\n                Email = email;\r\n            }\r\n    \r\n            public String getMobile() {\r\n                return Mobile;\r\n            }\r\n    \r\n            public void setMobile(String mobile) {\r\n                Mobile = mobile;\r\n            }\r\n    \r\n            public String getAddress() {\r\n                return Address;\r\n            }\r\n    \r\n            public void setAddress(String address) {\r\n                Address = address;\r\n            }\r\n    \r\n            public String getDOB() {\r\n                return DOB;\r\n            }\r\n    \r\n            public void setDOB(String DOB) {\r\n                this.DOB = DOB;\r\n            }\r\n        }","title":"How to create a POJO?","body":"<pre><code>public class UserInfo {\n        String LoginId;\n        String Password;\n        String FirstName;\n        String LastName;\n        String Email;\n        String Mobile;\n        String Address;\n        String DOB;\n\n        public String getLoginId() {\n            return LoginId;\n        }\n\n        public void setLoginId(String loginId) {\n            LoginId = loginId;\n        }\n\n        public String getPassword() {\n            return Password;\n        }\n\n        public void setPassword(String password) {\n            Password = password;\n        }\n\n        public String getFirstName() {\n            return FirstName;\n        }\n\n        public void setFirstName(String firstName) {\n            FirstName = firstName;\n        }\n\n        public String getLastName() {\n            return LastName;\n        }\n\n        public void setLastName(String lastName) {\n            LastName = lastName;\n        }\n\n        public String getEmail() {\n            return Email;\n        }\n\n        public void setEmail(String email) {\n            Email = email;\n        }\n\n        public String getMobile() {\n            return Mobile;\n        }\n\n        public void setMobile(String mobile) {\n            Mobile = mobile;\n        }\n\n        public String getAddress() {\n            return Address;\n        }\n\n        public void setAddress(String address) {\n            Address = address;\n        }\n\n        public String getDOB() {\n            return DOB;\n        }\n\n        public void setDOB(String DOB) {\n            this.DOB = DOB;\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13717415,"reputation":1385,"user_id":9898251,"display_name":"Badri Paudel"},"score":0,"creation_date":1610259239,"post_id":51723863,"comment_id":116072919,"body_markdown":"But every Java class at least extends Object class which doesn&#39;t extend any other classes ? Should we add can&#39;t extend other classes except Object or can&#39;t extend any classes explicitly ?","body":"But every Java class at least extends Object class which doesn&#39;t extend any other classes ? Should we add can&#39;t extend other classes except Object or can&#39;t extend any classes explicitly ?"},{"owner":{"account_id":2374287,"reputation":4246,"user_id":2078093,"accept_rate":62,"display_name":"Naresh Joshi"},"score":0,"creation_date":1610347523,"post_id":51723863,"comment_id":116093794,"body_markdown":"Actually these are not hard rules and also we do not need to extend Object because it is done by default.","body":"Actually these are not hard rules and also we do not need to extend Object because it is done by default."}],"tags":[],"owner":{"account_id":2374287,"reputation":4246,"user_id":2078093,"accept_rate":62,"display_name":"Naresh Joshi"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545754549,"creation_date":1533635585,"answer_id":51723863,"question_id":3527264,"body_markdown":"According to [Martin Fowler][1]\r\n\r\n&gt;The term was coined while Rebecca Parsons, Josh MacKenzie and I were preparing for a talk at a conference in September 2000. In the talk, we were pointing out the many benefits of encoding business logic into regular java objects rather than using Entity Beans. We wondered why people were so against using regular objects in their systems and concluded that it was because simple objects lacked a fancy name. So we gave them one, and it’s caught on very nicely.\r\n\r\nGenerally, a POJO is not bound to any restriction and any Java object can be called a POJO but there are some directions. A well-defined POJO should follow below directions.\r\n\r\n1. Each variable in a POJO should be declared as private.\r\n2. Default constructor should be overridden with public accessibility.\r\n3. Each variable should have its Setter-Getter method with public accessibility.\r\n4. Generally POJO should override equals(), hashCode() and toString() methods of Object (but it&#39;s not mandatory).\r\n5. Overriding compare() method of Comparable interface used for sorting (Preferable but not mandatory).\r\n\r\nAnd according to Java Language Specification, a POJO should not have to\r\n\r\n1. Extend pre-specified classes\r\n2. Implement pre-specified interfaces\r\n3. Contain pre-specified annotations\r\n\r\nHowever, developers and frameworks describe a POJO still requires the use prespecified annotations to implement features like persistence, declarative transaction management etc. So the idea is that if the object was a POJO before any annotations were added would return to POJO status if the annotations are removed then it can still be considered a POJO.\r\n\r\n&gt;A JavaBean is a special kind of POJO that is Serializable, has a no-argument constructor, and allows access to properties using getter and setter methods that follow a simple naming convention.\r\n\r\nRead more on [Plain Old Java Object (POJO) Explained][2].\r\n\r\n\r\n  [1]: http://www.martinfowler.com/bliki/POJO.html\r\n  [2]: https://programmingmitra.com/2016/05/plain-old-java-object-pojo-explained.html","title":"How to create a POJO?","body":"<p>According to <a href=\"http://www.martinfowler.com/bliki/POJO.html\" rel=\"nofollow noreferrer\">Martin Fowler</a></p>\n\n<blockquote>\n  <p>The term was coined while Rebecca Parsons, Josh MacKenzie and I were preparing for a talk at a conference in September 2000. In the talk, we were pointing out the many benefits of encoding business logic into regular java objects rather than using Entity Beans. We wondered why people were so against using regular objects in their systems and concluded that it was because simple objects lacked a fancy name. So we gave them one, and it’s caught on very nicely.</p>\n</blockquote>\n\n<p>Generally, a POJO is not bound to any restriction and any Java object can be called a POJO but there are some directions. A well-defined POJO should follow below directions.</p>\n\n<ol>\n<li>Each variable in a POJO should be declared as private.</li>\n<li>Default constructor should be overridden with public accessibility.</li>\n<li>Each variable should have its Setter-Getter method with public accessibility.</li>\n<li>Generally POJO should override equals(), hashCode() and toString() methods of Object (but it's not mandatory).</li>\n<li>Overriding compare() method of Comparable interface used for sorting (Preferable but not mandatory).</li>\n</ol>\n\n<p>And according to Java Language Specification, a POJO should not have to</p>\n\n<ol>\n<li>Extend pre-specified classes</li>\n<li>Implement pre-specified interfaces</li>\n<li>Contain pre-specified annotations</li>\n</ol>\n\n<p>However, developers and frameworks describe a POJO still requires the use prespecified annotations to implement features like persistence, declarative transaction management etc. So the idea is that if the object was a POJO before any annotations were added would return to POJO status if the annotations are removed then it can still be considered a POJO.</p>\n\n<blockquote>\n  <p>A JavaBean is a special kind of POJO that is Serializable, has a no-argument constructor, and allows access to properties using getter and setter methods that follow a simple naming convention.</p>\n</blockquote>\n\n<p>Read more on <a href=\"https://programmingmitra.com/2016/05/plain-old-java-object-pojo-explained.html\" rel=\"nofollow noreferrer\">Plain Old Java Object (POJO) Explained</a>.</p>\n"},{"tags":[],"owner":{"display_name":"user13256550"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588687652,"creation_date":1588665728,"answer_id":61608447,"question_id":3527264,"body_markdown":"1. File-setting-plugins-Browse repositories\r\n2. Search RoboPOJOGenerator and install, Restart Android studio\r\n3. Open Project and right click on package select on Generate POJO from JSON\r\n4. Paste JSON in dialogbox and select option according your requirements\r\n5. Click on Generate button","title":"How to create a POJO?","body":"<ol>\n<li>File-setting-plugins-Browse repositories</li>\n<li>Search RoboPOJOGenerator and install, Restart Android studio</li>\n<li>Open Project and right click on package select on Generate POJO from JSON</li>\n<li>Paste JSON in dialogbox and select option according your requirements</li>\n<li>Click on Generate button</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17009603,"reputation":1,"user_id":12304983,"display_name":"Rushain Sovis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639372301,"creation_date":1639372301,"answer_id":70330180,"question_id":3527264,"body_markdown":"If a class is not **bogged down** from a *framework* or a *library*, then an object created from that class is recognized as a **POJO**.\r\n\r\nLet&#39;s see some examples:\r\n\r\n    class MyServlet extends HttpServlet{\r\n    \t//....\r\n    }\r\n\r\nThe sole meaning of MyServlet class is given by the HttpServlet class. Therefore the objects created from the MyServlet are not **POJO**s. \r\n\r\n    class MyClass implements Serializable{\r\n    \t//...\r\n    }\r\n\r\nThe Serializable interface does not give a meaning to the class MyClass. Therefore the objects created from the MyClass are **POJO**s.\r\n\r\n\r\n","title":"How to create a POJO?","body":"<p>If a class is not <strong>bogged down</strong> from a <em>framework</em> or a <em>library</em>, then an object created from that class is recognized as a <strong>POJO</strong>.</p>\n<p>Let's see some examples:</p>\n<pre><code>class MyServlet extends HttpServlet{\n    //....\n}\n</code></pre>\n<p>The sole meaning of MyServlet class is given by the HttpServlet class. Therefore the objects created from the MyServlet are not <strong>POJO</strong>s.</p>\n<pre><code>class MyClass implements Serializable{\n    //...\n}\n</code></pre>\n<p>The Serializable interface does not give a meaning to the class MyClass. Therefore the objects created from the MyClass are <strong>POJO</strong>s.</p>\n"}],"owner":{"display_name":"user405398"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156147,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":3527340,"answer_count":11,"score":70,"last_activity_date":1679228309,"creation_date":1282262750,"question_id":3527264,"body_markdown":"Recently I&#39;ve started hearing about &quot;POJOs&quot; (Plain Old Java Objects). I googled it, but still don&#39;t understand the concept well. Can anyone give me a clear description of a POJO?\r\n\r\nConsider a class &quot;Person&quot; with variables &quot;id, name, address, salary&quot; -- how would I create a POJO for this scenario? Is the code below a POJO?\r\n\r\n\r\n    public class Person {\r\n        //variables\r\n        People people = new People();\r\n        private int id;\r\n        private String name;\r\n        private String address;\r\n        private int salary;\r\n    \r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n    \r\n        public int getSalary() {\r\n            return salary;\r\n        }\r\n    \r\n        public void setId() {\r\n            this.id = id;\r\n        }\r\n    \r\n        public void setName() {\r\n            this.name = name;\r\n        }\r\n    \r\n        public void setAddress() {\r\n            this.address = address;\r\n        }\r\n    \r\n        public void setSalary() {\r\n            this.salary = salary;\r\n        }\r\n    }","title":"How to create a POJO?","body":"<p>Recently I've started hearing about \"POJOs\" (Plain Old Java Objects). I googled it, but still don't understand the concept well. Can anyone give me a clear description of a POJO?</p>\n\n<p>Consider a class \"Person\" with variables \"id, name, address, salary\" -- how would I create a POJO for this scenario? Is the code below a POJO?</p>\n\n<pre><code>public class Person {\n    //variables\n    People people = new People();\n    private int id;\n    private String name;\n    private String address;\n    private int salary;\n\n\n    public int getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public int getSalary() {\n        return salary;\n    }\n\n    public void setId() {\n        this.id = id;\n    }\n\n    public void setName() {\n        this.name = name;\n    }\n\n    public void setAddress() {\n        this.address = address;\n    }\n\n    public void setSalary() {\n        this.salary = salary;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","testing","mocking"],"owner":{"display_name":"user21431812"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679228145,"creation_date":1679226802,"question_id":75781782,"body_markdown":"I am using `@ParameterizedTest` for the Unit Tests in my Spring Boot app and after adding data for the child table, I am not sure about the fields in the parent table. Here is the explanations:\r\n\r\nLet&#39;s say we have 2 tables, `Employee` and `Country` and we test a method that returns `EmployeeReponse` :\r\n\r\n```\r\npublic EmployeeReponse findById(long id) {\r\n    return employeeRepository.findById(id)\r\n            .map(EmployeeReponse::new)\r\n            .orElseThrow(() -&gt; new EntityFoundException(&quot;Employee not found&quot;));\r\n}\r\n``` \r\n\r\nAnd that has the following fields:\r\n\r\n```\r\npublic class EmployeeReponse{\r\n\r\n    private Long id;\r\n    private String name;\r\n    private CountryResponse country;\r\n}\r\n```\r\n\r\nAnd `CountryResponse` is:\r\n\r\n```\r\npublic class CountryResponse {\r\n\r\n    private Long countryId;\r\n    private String countryName;\r\n    private String region;\r\n}\r\n```\r\n\r\nAt this stage, when I create mock fields for the Unit Test of `findById` method, should I also create parameters for the `countryName` and `region` fields? besides `id`, `name` and `countryId` fields? \r\n\r\n\r\n\r\n```\r\n| id    | name   | countryId  | countryName ?  | region ?  |\r\n----------------------------------------------------------\r\n| 101   | Hans   | 1          | USA            | America   |\r\n| 102   | Mary   | 2          | Germany        | Europe    |\r\n| 103   | Carol  | 3          | China          | Asia      |\r\n| 104   | Henry  | 4          | Sudan          | Africa    |\r\n| ...   | .....  | ..         | ....           | .....     |\r\n```\r\n\r\nWhat should I do? ","title":"Should @ParameterizedTest include data for parent tables?","body":"<p>I am using <code>@ParameterizedTest</code> for the Unit Tests in my Spring Boot app and after adding data for the child table, I am not sure about the fields in the parent table. Here is the explanations:</p>\n<p>Let's say we have 2 tables, <code>Employee</code> and <code>Country</code> and we test a method that returns <code>EmployeeReponse</code> :</p>\n<pre><code>public EmployeeReponse findById(long id) {\n    return employeeRepository.findById(id)\n            .map(EmployeeReponse::new)\n            .orElseThrow(() -&gt; new EntityFoundException(&quot;Employee not found&quot;));\n}\n</code></pre>\n<p>And that has the following fields:</p>\n<pre><code>public class EmployeeReponse{\n\n    private Long id;\n    private String name;\n    private CountryResponse country;\n}\n</code></pre>\n<p>And <code>CountryResponse</code> is:</p>\n<pre><code>public class CountryResponse {\n\n    private Long countryId;\n    private String countryName;\n    private String region;\n}\n</code></pre>\n<p>At this stage, when I create mock fields for the Unit Test of <code>findById</code> method, should I also create parameters for the <code>countryName</code> and <code>region</code> fields? besides <code>id</code>, <code>name</code> and <code>countryId</code> fields?</p>\n<pre><code>| id    | name   | countryId  | countryName ?  | region ?  |\n----------------------------------------------------------\n| 101   | Hans   | 1          | USA            | America   |\n| 102   | Mary   | 2          | Germany        | Europe    |\n| 103   | Carol  | 3          | China          | Asia      |\n| 104   | Henry  | 4          | Sudan          | Africa    |\n| ...   | .....  | ..         | ....           | .....     |\n</code></pre>\n<p>What should I do?</p>\n"},{"tags":["java","php","spring-boot","curl","spring-webclient"],"answers":[{"comments":[{"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"score":0,"creation_date":1679176935,"post_id":75778295,"comment_id":133675625,"body_markdown":"is the a space after `actions= ` ?","body":"is the a space after <code>actions= </code> ?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679216594,"post_id":75778295,"comment_id":133678709,"body_markdown":"Typo. No space. Also action, not actions.","body":"Typo. No space. Also action, not actions."},{"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"score":0,"creation_date":1679238505,"post_id":75778295,"comment_id":133681572,"body_markdown":"@grekier its working well in postman but now i am getting  `403 Forbidden from POST https://www.myurl.com?action=GetSearchDetails&amp;username=lambistic&amp;password=lambistic#####&amp;responsetype=json` is there some set up that i am missing in the webClient","body":"@grekier its working well in postman but now i am getting  <code>403 Forbidden from POST https:&#47;&#47;www.myurl.com?action=GetSearchDetails&amp;username=lambi&zwnj;&#8203;stic&amp;password=lambis&zwnj;&#8203;tic#####&amp;responsetyp&zwnj;&#8203;e=json</code> is there some set up that i am missing in the webClient"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1679249953,"post_id":75778295,"comment_id":133683552,"body_markdown":"Impossible to say without looking at the server code. Usually 403 means that login went through OK but you do not have the required permission. It might be some IP blocking, missing extra headers or parameters, a typo in the URL, etc...","body":"Impossible to say without looking at the server code. Usually 403 means that login went through OK but you do not have the required permission. It might be some IP blocking, missing extra headers or parameters, a typo in the URL, etc..."}],"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679228112,"creation_date":1679168947,"answer_id":75778295,"question_id":75777946,"body_markdown":"http_build_query add parameters as query string. \r\nIn your webclient, you add them as headers. I guess you have to change this:\r\n```\r\nwebClient\r\n.post()\r\n.uri(&quot;https://www.myurl.com?action=GetSearchDetails&amp;username=lambistic&amp;password=lambistic#####&amp;responsetype=json&quot;)\r\n.retrieve()\r\n.bodyToMono(SearchDetailsResponse.class);\r\n```","title":"SpringBoot WebClient Request with Identifier and Secret or Hashed Password","body":"<p>http_build_query add parameters as query string.\nIn your webclient, you add them as headers. I guess you have to change this:</p>\n<pre><code>webClient\n.post()\n.uri(&quot;https://www.myurl.com?action=GetSearchDetails&amp;username=lambistic&amp;password=lambistic#####&amp;responsetype=json&quot;)\n.retrieve()\n.bodyToMono(SearchDetailsResponse.class);\n</code></pre>\n"}],"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679228112,"creation_date":1679165002,"question_id":75777946,"body_markdown":"I am having a `curl php` request that looks like this below \r\n\r\n```\r\n$curlInit = curl_init();\r\ncurl_setopt($curlInit, CURLOPT_URL, &#39;https://www.myurl.com/&#39;);\r\ncurl_setopt($curlInit, CURLOPT_POST, 1);\r\ncurl_setopt($curlInit, CURLOPT_POSTFIELDS,\r\n    http_build_query(\r\n        array(\r\n            &#39;action&#39; =&gt; &#39;GetSearchDetails&#39;,\r\n            &#39;username&#39; =&gt; &#39;lambistic&#39;,\r\n            &#39;password&#39; =&gt; &#39;lambistic######&#39;,\r\n            &#39;responsetype&#39; =&gt; &#39;json&#39;,\r\n        )\r\n    )\r\n);\r\ncurl_setopt($curlInit, CURLOPT_RETURNTRANSFER, 1);\r\n$response = curl_exec($curlInit);\r\ncurl_close($curlInit);\r\n\r\n```\r\n\r\nWhat i am trying to achieve is to do the same with `web client` in springboot java and below is how i am trying to do it with web client \r\n\r\n```\r\npublic Mono&lt;SearchDetailsResponse&gt; sendSearchDetailsRequest() {\r\n\r\n        return webClient.post()\r\n                .uri(&quot;https://www.myurl.com/&quot;)\r\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .headers(httpHeaders -&gt; {\r\n                    httpHeaders.set(&quot;username&quot;, &quot;lambistic&quot;);\r\n                    httpHeaders.set(&quot;password&quot;, &quot;lambistic######&quot;);\r\n                })\r\n                .retrieve()\r\n                .bodyToMono(SearchDetailsResponse.class);\r\n}\r\n\r\n```\r\n\r\nI am not getting any response what might i be doing wrong with the web client \r\n","title":"SpringBoot WebClient Request with Identifier and Secret or Hashed Password","body":"<p>I am having a <code>curl php</code> request that looks like this below</p>\n<pre><code>$curlInit = curl_init();\ncurl_setopt($curlInit, CURLOPT_URL, 'https://www.myurl.com/');\ncurl_setopt($curlInit, CURLOPT_POST, 1);\ncurl_setopt($curlInit, CURLOPT_POSTFIELDS,\n    http_build_query(\n        array(\n            'action' =&gt; 'GetSearchDetails',\n            'username' =&gt; 'lambistic',\n            'password' =&gt; 'lambistic######',\n            'responsetype' =&gt; 'json',\n        )\n    )\n);\ncurl_setopt($curlInit, CURLOPT_RETURNTRANSFER, 1);\n$response = curl_exec($curlInit);\ncurl_close($curlInit);\n\n</code></pre>\n<p>What i am trying to achieve is to do the same with <code>web client</code> in springboot java and below is how i am trying to do it with web client</p>\n<pre><code>public Mono&lt;SearchDetailsResponse&gt; sendSearchDetailsRequest() {\n\n        return webClient.post()\n                .uri(&quot;https://www.myurl.com/&quot;)\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .headers(httpHeaders -&gt; {\n                    httpHeaders.set(&quot;username&quot;, &quot;lambistic&quot;);\n                    httpHeaders.set(&quot;password&quot;, &quot;lambistic######&quot;);\n                })\n                .retrieve()\n                .bodyToMono(SearchDetailsResponse.class);\n}\n\n</code></pre>\n<p>I am not getting any response what might i be doing wrong with the web client</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":3,"creation_date":1679139320,"post_id":75775581,"comment_id":133669982,"body_markdown":"Hint: Print the lengths of the two strings which will give you a clue `System.out.println(DRUM_R.length()); System.out.println(s.length());`","body":"Hint: Print the lengths of the two strings which will give you a clue <code>System.out.println(DRUM_R.length()); System.out.println(s.length());</code>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1679139332,"post_id":75775581,"comment_id":133669983,"body_markdown":"String s is `&quot;Bang Bang &quot;`, not `&quot;Bang Bang&quot;`..., maybe you should use `String.join(&quot; &quot;, sound, sound)` instead, or just `sound + &quot; &quot; + sound`.","body":"String s is <code>&quot;Bang Bang &quot;</code>, not <code>&quot;Bang Bang&quot;</code>..., maybe you should use <code>String.join(&quot; &quot;, sound, sound)</code> instead, or just <code>sound + &quot; &quot; + sound</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679154019,"post_id":75775581,"comment_id":133672297,"body_markdown":"To debug, compare the code points of each character in each string: `DRUM_R.codePoints().toArray()` and `s.codePoints().toArray()`. You’ll find an extra `32` on the end of one, representing a SPACE character.","body":"To debug, compare the code points of each character in each string: <code>DRUM_R.codePoints().toArray()</code> and <code>s.codePoints().toArray()</code>. You’ll find an extra <code>32</code> on the end of one, representing a SPACE character."}],"answers":[{"tags":[],"owner":{"account_id":25896342,"reputation":86,"user_id":19622845,"display_name":"Danijel Sudar"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1679140699,"creation_date":1679140699,"answer_id":75775739,"question_id":75775581,"body_markdown":"&quot;Bang Bang&quot; is not the same as &quot;Bang Bang &quot;\r\n\r\n   these are some examples of how you can do it\r\n\r\n\r\n\r\n    String DRUM_R = &quot;Bang Bang&quot;;\r\n    String sound = &quot;Bang&quot;;\r\n    System.out.println(sound); //&quot;Bang&quot;\r\n    \r\n    String s = (sound + &quot; &quot;).repeat(2);\r\n    System.out.println(s); //&quot;Bang Bang &quot;\r\n    \r\n    System.out.println(s.equals(DRUM_R)); //false &quot;Bang Bang &quot; != &quot;Bang Bang&quot;\r\n    \r\n    s = s.substring(0, s.length()-1);\r\n    System.out.println(s); //&quot;Bang Bang&quot;\r\n    \r\n    s = String.join(&quot; &quot;, sound, sound);\r\n    System.out.println(s); //&quot;Bang Bang&quot;\r\n    \r\n    s = sound + &quot; &quot;+ sound;\r\n    System.out.println(s); //&quot;Bang Bang&quot;\r\n\r\n\r\nyou can also make a function like this one that will do what you want\r\n\r\n    public String repeatWord(String word, int n) {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            sb.append(word);\r\n            if (i != n - 1) {\r\n                sb.append(&quot; &quot;);\r\n            }\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n\r\nthis is an example of usage\r\n\r\n    String repeatedWord = repeatWord(&quot;Bang&quot;, 5);\r\n    System.out.println(repeatedWord); // &quot;Bang Bang Bang Bang Bang&quot;","title":"Why these strings are not equals?","body":"<p>&quot;Bang Bang&quot; is not the same as &quot;Bang Bang &quot;</p>\n<p>these are some examples of how you can do it</p>\n<pre><code>String DRUM_R = &quot;Bang Bang&quot;;\nString sound = &quot;Bang&quot;;\nSystem.out.println(sound); //&quot;Bang&quot;\n\nString s = (sound + &quot; &quot;).repeat(2);\nSystem.out.println(s); //&quot;Bang Bang &quot;\n\nSystem.out.println(s.equals(DRUM_R)); //false &quot;Bang Bang &quot; != &quot;Bang Bang&quot;\n\ns = s.substring(0, s.length()-1);\nSystem.out.println(s); //&quot;Bang Bang&quot;\n\ns = String.join(&quot; &quot;, sound, sound);\nSystem.out.println(s); //&quot;Bang Bang&quot;\n\ns = sound + &quot; &quot;+ sound;\nSystem.out.println(s); //&quot;Bang Bang&quot;\n</code></pre>\n<p>you can also make a function like this one that will do what you want</p>\n<pre><code>public String repeatWord(String word, int n) {\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; n; i++) {\n        sb.append(word);\n        if (i != n - 1) {\n            sb.append(&quot; &quot;);\n        }\n    }\n    return sb.toString();\n}\n</code></pre>\n<p>this is an example of usage</p>\n<pre><code>String repeatedWord = repeatWord(&quot;Bang&quot;, 5);\nSystem.out.println(repeatedWord); // &quot;Bang Bang Bang Bang Bang&quot;\n</code></pre>\n"}],"owner":{"account_id":27417156,"reputation":5,"user_id":20916141,"display_name":"Sonya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1679227687,"creation_date":1679139074,"question_id":75775581,"body_markdown":"I have a string:\r\n```java\r\nString DRUM_R = &quot;Bang Bang&quot;;\r\n```\r\nI also have a string, that I want to repeat twice:\r\n```java\r\nString sound = &quot;Bang&quot;;\r\n```\r\nI create a new line:\r\n```java\r\nString s = (sound + &quot; &quot;).repeat(2);\r\n```\r\nWhy, when I compare these strings, do I get false?\r\n```java\r\nSystem.out.println(s.equals(DRUM_R));\r\n```\r\nResult: false.\r\n\r\nThese strings are exactly the same. Why does this happen?","title":"Why these strings are not equals?","body":"<p>I have a string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String DRUM_R = &quot;Bang Bang&quot;;\n</code></pre>\n<p>I also have a string, that I want to repeat twice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sound = &quot;Bang&quot;;\n</code></pre>\n<p>I create a new line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = (sound + &quot; &quot;).repeat(2);\n</code></pre>\n<p>Why, when I compare these strings, do I get false?</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(s.equals(DRUM_R));\n</code></pre>\n<p>Result: false.</p>\n<p>These strings are exactly the same. Why does this happen?</p>\n"},{"tags":["java","database","performance","refactoring","rocksdb"],"answers":[{"comments":[{"owner":{"account_id":27081128,"reputation":11,"user_id":20630276,"display_name":"haitao cc"},"score":0,"creation_date":1679297048,"post_id":75770996,"comment_id":133689296,"body_markdown":"Thank you very much for your response. Actually, it is also possible not to use rocksdb. An urgent problem is how to speed up the service startup speed. Do not let the service load external storage data every time it starts, as this operation makes the service start too slow.","body":"Thank you very much for your response. Actually, it is also possible not to use rocksdb. An urgent problem is how to speed up the service startup speed. Do not let the service load external storage data every time it starts, as this operation makes the service start too slow."}],"tags":[],"owner":{"account_id":21798418,"reputation":131,"user_id":16097679,"display_name":"Siying Dong"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679077800,"creation_date":1679077800,"answer_id":75770996,"question_id":75763154,"body_markdown":"RocksDB is a persistent storage engine, so the functionality is a superset of what a HashMap can provide. The main disadvantage is performance. Read performance of RocksDB is likely to be worse than well-implemented HashMap. Some tuning can help performance if it runs on ramfs or working set is cached in DRAM, but it is still unlikely to match HashMap.\r\n\r\nOn the other hand, RocksDB does have some features that might allow users to load data to it much faster than HashMap. For example, https://github.com/facebook/rocksdb/wiki/Creating-and-Ingesting-SST-files allows users to load presorted data into RocksDB fast and without interrupting online reads. Another feature to RocksDB is that it can be stored, checkpointed or backed up in persistent storage, either on local disk or remote storage, so perhaps after restarts, it sometimes doesn&#39;t need to reload all the data. These features may or may not help your use case though.","title":"Using RocksDB instead of HashMap in Spring Boot project, what pitfalls should be avoided?","body":"<p>RocksDB is a persistent storage engine, so the functionality is a superset of what a HashMap can provide. The main disadvantage is performance. Read performance of RocksDB is likely to be worse than well-implemented HashMap. Some tuning can help performance if it runs on ramfs or working set is cached in DRAM, but it is still unlikely to match HashMap.</p>\n<p>On the other hand, RocksDB does have some features that might allow users to load data to it much faster than HashMap. For example, <a href=\"https://github.com/facebook/rocksdb/wiki/Creating-and-Ingesting-SST-files\" rel=\"nofollow noreferrer\">https://github.com/facebook/rocksdb/wiki/Creating-and-Ingesting-SST-files</a> allows users to load presorted data into RocksDB fast and without interrupting online reads. Another feature to RocksDB is that it can be stored, checkpointed or backed up in persistent storage, either on local disk or remote storage, so perhaps after restarts, it sometimes doesn't need to reload all the data. These features may or may not help your use case though.</p>\n"},{"tags":[],"owner":{"account_id":26343960,"reputation":71,"user_id":20002643,"display_name":"Dan Carfas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679227177,"creation_date":1679227177,"answer_id":75781819,"question_id":75763154,"body_markdown":"Shared your question with the Speedb hive via Discord and here is the answer from Hilik, our Co-founder and Chief scientist:\r\n\r\nWe need more details about what is the hw topology etc. In general, if you use/have a common storage you can use rocksdb for fast startup.  you will need to open it in a read-only mode in all the places except one.\r\n\r\nYou can find the Speedb hive [here][1] and (once you&#39;ve registered) the link to the thread is [here][2].\r\nLet us know if you need any assistance or additional info.\r\n\r\n\r\n  [1]: https://discord.gg/5fVUUtM2cG\r\n  [2]: https://discord.com/channels/1001437353312796782/1086744117700198410","title":"Using RocksDB instead of HashMap in Spring Boot project, what pitfalls should be avoided?","body":"<p>Shared your question with the Speedb hive via Discord and here is the answer from Hilik, our Co-founder and Chief scientist:</p>\n<p>We need more details about what is the hw topology etc. In general, if you use/have a common storage you can use rocksdb for fast startup.  you will need to open it in a read-only mode in all the places except one.</p>\n<p>You can find the Speedb hive <a href=\"https://discord.gg/5fVUUtM2cG\" rel=\"nofollow noreferrer\">here</a> and (once you've registered) the link to the thread is <a href=\"https://discord.com/channels/1001437353312796782/1086744117700198410\" rel=\"nofollow noreferrer\">here</a>.\nLet us know if you need any assistance or additional info.</p>\n"}],"owner":{"account_id":27081128,"reputation":11,"user_id":20630276,"display_name":"haitao cc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679227177,"creation_date":1679018479,"question_id":75763154,"body_markdown":"### Background:\r\nThere is a Spring Boot service that needs to **synchronize some data** from Elasticsearch to memory **during startup**. The processed data will be used by @Service A.\r\nThe data needs to be **synchronized regularly** from Elasticsearch.\r\nSynchronizing the data during startup causes the service to **start too slowly**.\r\n\r\n### Ideas:\r\n1. Can RocksDB be used as a replacement for HashMap as the synchronization target? This way, if the data does not change, it does not need to be synchronized repeatedly.\r\n2. What should be noted when using this component?\r\n\r\n[click to check process diagram](https://i.stack.imgur.com/IFJfA.png)\r\n\r\nI didn&#39;t try it because I&#39;m not very familiar with rocksdb. I&#39;ve always been concerned about its read-write amplification problem.","title":"Using RocksDB instead of HashMap in Spring Boot project, what pitfalls should be avoided?","body":"<h3>Background:</h3>\n<p>There is a Spring Boot service that needs to <strong>synchronize some data</strong> from Elasticsearch to memory <strong>during startup</strong>. The processed data will be used by @Service A.\nThe data needs to be <strong>synchronized regularly</strong> from Elasticsearch.\nSynchronizing the data during startup causes the service to <strong>start too slowly</strong>.</p>\n<h3>Ideas:</h3>\n<ol>\n<li>Can RocksDB be used as a replacement for HashMap as the synchronization target? This way, if the data does not change, it does not need to be synchronized repeatedly.</li>\n<li>What should be noted when using this component?</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/IFJfA.png\" rel=\"nofollow noreferrer\">click to check process diagram</a></p>\n<p>I didn't try it because I'm not very familiar with rocksdb. I've always been concerned about its read-write amplification problem.</p>\n"},{"tags":["java","selenium-webdriver","printing","automation","selenium-chromedriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679242029,"post_id":75781736,"comment_id":133682159,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":25917617,"reputation":86,"user_id":19640780,"display_name":"Cosmin Drăguşanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679226890,"creation_date":1679226890,"answer_id":75781790,"question_id":75781736,"body_markdown":"Use the Actions class in Selenium to simulate the keyboard shortcut for opening the printing dialog like this:\r\n```\r\nActions action = new Actions(driver);\r\naction.keyDown(Keys.CONTROL).sendKeys(&quot;p&quot;).keyUp(Keys.CONTROL).build().perform();\r\n```\r\nWait for the printing dialog to appear using an explicit wait. You can wait for a specific element to be present on the dialog or for the dialog to become visible. \r\n```\r\nWebDriverWait wait = new WebDriverWait(driver, 10);\r\nwait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//select[@id=&#39;destination&#39;]&quot;)));\r\n```\r\nOnce the printing dialog is visible, you can use Selenium to interact with the dialog\r\n","title":"Automate chrome printing dialog","body":"<p>Use the Actions class in Selenium to simulate the keyboard shortcut for opening the printing dialog like this:</p>\n<pre><code>Actions action = new Actions(driver);\naction.keyDown(Keys.CONTROL).sendKeys(&quot;p&quot;).keyUp(Keys.CONTROL).build().perform();\n</code></pre>\n<p>Wait for the printing dialog to appear using an explicit wait. You can wait for a specific element to be present on the dialog or for the dialog to become visible.</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nwait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//select[@id='destination']&quot;)));\n</code></pre>\n<p>Once the printing dialog is visible, you can use Selenium to interact with the dialog</p>\n"}],"owner":{"account_id":28056943,"reputation":1,"user_id":21431816,"display_name":"rraghad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679226890,"creation_date":1679226268,"question_id":75781736,"body_markdown":"I am asking about how to automate content of printing dialog of chrome in selenium \r\n\r\nI found printOptions class for dialog settings(scale, background, size) but I need something to validate printed content of pages (all labels, tables,..)\r\n\r\nThanks in advance \r\n\r\nI found printOptions class for dialog settings(scale, background, size) but I need something to validate printed content of pages (all labels, tables,..)\r\n","title":"Automate chrome printing dialog","body":"<p>I am asking about how to automate content of printing dialog of chrome in selenium</p>\n<p>I found printOptions class for dialog settings(scale, background, size) but I need something to validate printed content of pages (all labels, tables,..)</p>\n<p>Thanks in advance</p>\n<p>I found printOptions class for dialog settings(scale, background, size) but I need something to validate printed content of pages (all labels, tables,..)</p>\n"},{"tags":["java","opengl","lwjgl","opengl-3"],"comments":[{"owner":{"account_id":16428083,"reputation":5071,"user_id":11867590,"display_name":"Erdal K&#252;&#231;&#252;k"},"score":1,"creation_date":1679170520,"post_id":75778094,"comment_id":133674824,"body_markdown":"Does `new Mat4()` return an identity matrix?","body":"Does <code>new Mat4()</code> return an identity matrix?"}],"answers":[{"comments":[{"owner":{"account_id":4068625,"reputation":57,"user_id":3342598,"accept_rate":80,"display_name":"part1kl"},"score":0,"creation_date":1679178792,"post_id":75778995,"comment_id":133675860,"body_markdown":"Thank you, I&#39;ve added 1.0f to each of those calls. Unfortunately the triangle still does not show up after making this change.","body":"Thank you, I&#39;ve added 1.0f to each of those calls. Unfortunately the triangle still does not show up after making this change."}],"tags":[],"owner":{"account_id":7322082,"reputation":205330,"user_id":5577765,"display_name":"Rabbid76"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679177946,"creation_date":1679177946,"answer_id":75778995,"question_id":75778094,"body_markdown":"`new Mat4()` does not construct an identity matrix. An identity matrix can be constructed with a single argument 1.0f:\r\n\r\n&lt;s&gt;`Mat4 model = new Mat4();`&lt;/s&gt;\r\n```java\r\nMat4 model = new Mat4(1.0f);\r\n``` \r\n\r\n&lt;s&gt;`Mat4 view = new Mat4();`&lt;/s&gt;\r\n```java\r\nMat4 view = new Mat4(1.0f);\r\n``` ","title":"OpenGL Triange demo shows blank window","body":"<p><code>new Mat4()</code> does not construct an identity matrix. An identity matrix can be constructed with a single argument 1.0f:</p>\n<p><s><code>Mat4 model = new Mat4();</code></s></p>\n<pre class=\"lang-java prettyprint-override\"><code>Mat4 model = new Mat4(1.0f);\n</code></pre>\n<p><s><code>Mat4 view = new Mat4();</code></s></p>\n<pre class=\"lang-java prettyprint-override\"><code>Mat4 view = new Mat4(1.0f);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4068625,"reputation":57,"user_id":3342598,"accept_rate":80,"display_name":"part1kl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679226428,"creation_date":1679226428,"answer_id":75781749,"question_id":75778094,"body_markdown":"The problem appears to be with the way the Mat4 object creates the buffer. This is the source code my IDE decompiled for com.hackoeur.jglm.Mat4.getBuffer():\r\n```\r\n    public FloatBuffer getBuffer() {\r\n        FloatBuffer buffer = this.allocateFloatBuffer();\r\n        int startPos = buffer.position();\r\n        buffer.put(this.m00).put(this.m01).put(this.m02).put(this.m03);\r\n        buffer.put(this.m10).put(this.m11).put(this.m12).put(this.m13);\r\n        buffer.put(this.m20).put(this.m21).put(this.m22).put(this.m23);\r\n        buffer.put(this.m30).put(this.m31).put(this.m32).put(this.m33);\r\n        buffer.position(startPos);\r\n        return buffer;\r\n    }\r\n```\r\nI&#39;m not 100% sure *what* the problem with it is or whether I was just using it wrong, but when I went back to the source code of the [tutorial I was initially following by SilverTiger][1] and used the Matrix4f object there, the triangle showed up. Source code for silvertiger.tutorial.lwjgl.math.Matrix4f.toBuffer():\r\n```\r\n    public void toBuffer(FloatBuffer buffer) {\r\n        buffer.put(m00).put(m10).put(m20).put(m30);\r\n        buffer.put(m01).put(m11).put(m21).put(m31);\r\n        buffer.put(m02).put(m12).put(m22).put(m32);\r\n        buffer.put(m03).put(m13).put(m23).put(m33);\r\n        buffer.flip();\r\n    }\r\n```\r\n\r\n  [1]: https://github.com/SilverTiger/lwjgl3-tutorial/blob/master/src/silvertiger/tutorial/lwjgl/math/Matrix4f.java","title":"OpenGL Triange demo shows blank window","body":"<p>The problem appears to be with the way the Mat4 object creates the buffer. This is the source code my IDE decompiled for com.hackoeur.jglm.Mat4.getBuffer():</p>\n<pre><code>    public FloatBuffer getBuffer() {\n        FloatBuffer buffer = this.allocateFloatBuffer();\n        int startPos = buffer.position();\n        buffer.put(this.m00).put(this.m01).put(this.m02).put(this.m03);\n        buffer.put(this.m10).put(this.m11).put(this.m12).put(this.m13);\n        buffer.put(this.m20).put(this.m21).put(this.m22).put(this.m23);\n        buffer.put(this.m30).put(this.m31).put(this.m32).put(this.m33);\n        buffer.position(startPos);\n        return buffer;\n    }\n</code></pre>\n<p>I'm not 100% sure <em>what</em> the problem with it is or whether I was just using it wrong, but when I went back to the source code of the <a href=\"https://github.com/SilverTiger/lwjgl3-tutorial/blob/master/src/silvertiger/tutorial/lwjgl/math/Matrix4f.java\" rel=\"nofollow noreferrer\">tutorial I was initially following by SilverTiger</a> and used the Matrix4f object there, the triangle showed up. Source code for silvertiger.tutorial.lwjgl.math.Matrix4f.toBuffer():</p>\n<pre><code>    public void toBuffer(FloatBuffer buffer) {\n        buffer.put(m00).put(m10).put(m20).put(m30);\n        buffer.put(m01).put(m11).put(m21).put(m31);\n        buffer.put(m02).put(m12).put(m22).put(m32);\n        buffer.put(m03).put(m13).put(m23).put(m33);\n        buffer.flip();\n    }\n</code></pre>\n"}],"owner":{"account_id":4068625,"reputation":57,"user_id":3342598,"accept_rate":80,"display_name":"part1kl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75781749,"answer_count":2,"score":1,"last_activity_date":1679226428,"creation_date":1679166697,"question_id":75778094,"body_markdown":"I&#39;ve started my learning of LWJGL3 and OpenGL 3.2+ with a triangle demo. The program seems to run well and I&#39;m not getting any OpenGL errors, but the triangle does not show up on screen.\r\n\r\nI&#39;ve looked through some of the similar questions on here, and the identified problem with many of them were a missing VAO or bad triangle coordinates or shaders, but I&#39;ve checked those in my code. VAO is created, bound and vertex attributes are assigned. The triangle coordinates should actually make a triangle, and my shaders *say* they&#39;ve compiled and linked properly. I&#39;m at a loss to what I&#39;ve missed here.\r\n\r\nHere is my code. Everything is in this one file (triangle vertex data, OpenGL object IDs, and shader source code at the bottom), save for LWJGL itself and the com.hackoeur.jglm library, which I&#39;m using for my matrices:\r\n```\r\npackage net.part1kl;\r\n\r\nimport com.hackoeur.jglm.Mat4;\r\nimport com.hackoeur.jglm.Matrices;\r\nimport org.lwjgl.Version;\r\nimport org.lwjgl.glfw.*;\r\nimport static org.lwjgl.glfw.GLFW.*;\r\nimport org.lwjgl.opengl.GL;\r\nimport java.nio.FloatBuffer;\r\nimport java.nio.IntBuffer;\r\nimport static org.lwjgl.opengl.GL30C.*;\r\nimport static org.lwjgl.system.MemoryUtil.*;\r\n\r\n\r\npublic class Demo {\r\n\r\n    public static void main(String[] args) {\r\n        init();\r\n        loop();\r\n        dispose();\r\n    }\r\n\r\n    private static long window;\r\n\r\n    private static void init(){\r\n        /* Initialize GLFW */\r\n        System.out.println(Version.getVersion());\r\n        glfwSetErrorCallback(GLFWErrorCallback.createPrint(System.err));\r\n        if (!glfwInit()) throw new IllegalStateException(&quot;GLFW Init Failed&quot;);\r\n\r\n        /* Set window hints and create window */\r\n        glfwDefaultWindowHints();\r\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);\r\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 2);\r\n        glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);\r\n        glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GLFW_TRUE);\r\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_FALSE);\r\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\r\n        window = glfwCreateWindow(600, 600, &quot;Demo&quot;, NULL, NULL);\r\n        if ( window == NULL) { glfwTerminate(); throw new RuntimeException(&quot;Window Creation Failed&quot;); }\r\n\r\n        /* Other window setup */\r\n        glfwSetWindowPos(window, 200, 200);\r\n        glfwMakeContextCurrent(window);\r\n        GL.createCapabilities();\r\n        glfwSwapInterval(1);\r\n        glfwSetKeyCallback(window, (window, key, scancode, action, mods) -&gt; {\r\n            if (key == GLFW_KEY_ESCAPE &amp;&amp; action == GLFW_PRESS) glfwSetWindowShouldClose(window, true);\r\n        });\r\n        glfwShowWindow(window);\r\n\r\n        /* Create and bind VAO */\r\n        vao = glGenVertexArrays();\r\n        glBindVertexArray(vao);\r\n\r\n        /* Create, bind, and populate VBO */\r\n        vbo = glGenBuffers();\r\n        glBindBuffer(GL_ARRAY_BUFFER, vbo);\r\n        FloatBuffer verts = memAllocFloat(vertices.length);\r\n        for (float val : vertices) verts.put(val);\r\n        verts.flip();\r\n        glBufferData(GL_ARRAY_BUFFER, verts, GL_STATIC_DRAW);\r\n        memFree(verts);\r\n\r\n        /* Create Vertex Shader */\r\n        vShader = glCreateShader(GL_VERTEX_SHADER);\r\n        glShaderSource(vShader, vertexSource);\r\n        glCompileShader(vShader);\r\n        if (glGetShaderi(vShader, GL_COMPILE_STATUS) != GL_TRUE) throw new RuntimeException(glGetShaderInfoLog(vShader));\r\n\r\n        /* Create Fragment Shader */\r\n        fShader = glCreateShader(GL_FRAGMENT_SHADER);\r\n        glShaderSource(fShader, fragmentSource);\r\n        glCompileShader(fShader);\r\n        if (glGetShaderi(fShader, GL_COMPILE_STATUS) != GL_TRUE) throw new RuntimeException(glGetShaderInfoLog(fShader));\r\n\r\n        /* Create Shader Program */\r\n        program = glCreateProgram();\r\n        glAttachShader(program, vShader);\r\n        glAttachShader(program, fShader);\r\n        glBindFragDataLocation(program, 0, &quot;fragColor&quot;);\r\n        glLinkProgram(program);\r\n        if (glGetProgrami(program, GL_LINK_STATUS) != GL_TRUE) throw new RuntimeException(glGetProgramInfoLog(program));\r\n        glUseProgram(program);\r\n\r\n        /* Set pointer for vertex position information */\r\n        int pAttr = glGetAttribLocation(program, &quot;position&quot;);\r\n        glEnableVertexAttribArray(pAttr);\r\n        glVertexAttribPointer(pAttr, 3, GL_FLOAT, false, 6 * Float.BYTES, 0);\r\n\r\n        /* Set pointer for vertex color information */\r\n        int cAttr = glGetAttribLocation(program, &quot;color&quot;);\r\n        glEnableVertexAttribArray(cAttr);\r\n        glVertexAttribPointer(cAttr, 3, GL_FLOAT, false, 6 * Float.BYTES, 3 * Float.BYTES);\r\n\r\n        /* Create and set model uniform. Using com.hackoeur.jglm v1.0.0 for matrices. */\r\n        Mat4 model = new Mat4();\r\n        int uModel = glGetUniformLocation(program, &quot;model&quot;);\r\n        glUniformMatrix4fv(uModel, false, (FloatBuffer)model.getBuffer().flip());\r\n\r\n        /* Create and set view uniform */\r\n        Mat4 view = new Mat4();\r\n        int uView = glGetUniformLocation(program, &quot;view&quot;);\r\n        glUniformMatrix4fv(uView, false, (FloatBuffer)view.getBuffer().flip());\r\n\r\n        /* Get window size ratio for projection */\r\n        IntBuffer width = memAllocInt(1);\r\n        IntBuffer height = memAllocInt(1);\r\n        GLFW.glfwGetFramebufferSize(window, width, height);\r\n        float ratio = width.get() / (float) height.get();\r\n        memFree(width); memFree(height);\r\n\r\n        /* Create and set projection uniform */\r\n        Mat4 projection = Matrices.ortho(-ratio, ratio, -1f, 1f, -1f, 1f);\r\n        int uProjection = glGetUniformLocation(program, &quot;projection&quot;);\r\n        glUniformMatrix4fv(uProjection, false, (FloatBuffer)projection.getBuffer().flip());\r\n    }\r\n\r\n    private static void loop(){\r\n        double lastTime = glfwGetTime();\r\n        double time = lastTime;\r\n        while(!glfwWindowShouldClose(window)){\r\n            double delta = (float) (time - lastTime);\r\n\r\n            glClear(GL_COLOR_BUFFER_BIT);\r\n\r\n            glBindVertexArray(vao);\r\n            glBindBuffer(GL_ARRAY_BUFFER, vbo);\r\n            glUseProgram(program);\r\n\r\n\r\n            glDrawArrays(GL_TRIANGLES, 0, 3);\r\n\r\n            glfwSwapBuffers(window);\r\n            glfwPollEvents();\r\n\r\n            glCheck();\r\n\r\n            lastTime = time;\r\n            time = glfwGetTime();\r\n        }\r\n    }\r\n\r\n    private static void dispose(){\r\n        glDeleteVertexArrays(vao);\r\n        glDeleteBuffers(vbo);\r\n        glDeleteShader(vShader);\r\n        glDeleteShader(fShader);\r\n        glDeleteProgram(program);\r\n\r\n        glfwDestroyWindow(window);\r\n    }\r\n\r\n    private static void print(String message) { System.out.println(message); }\r\n\r\n    private static void err(String message) { System.err.println(message); }\r\n\r\n    private static int glCheckCounter = 0;\r\n\r\n    private static void glCheck() {\r\n        int val = glGetError();\r\n        if (val==0) print(&quot;GL Error Check &quot;+glCheckCounter+&quot; no error.&quot;);\r\n        else err(&quot;GL Error Check &quot;+glCheckCounter+&quot; returned error &quot;+val);\r\n        glCheckCounter++;\r\n    }\r\n\r\n\r\n    private static int vao, vbo, vShader, fShader, program;\r\n    private static final float[] vertices = {\r\n            -0.6f,   -0.4f,   0f,   1f,   0f,   0f,\r\n             0.6f,   -0.4f,   0f,   0f,   1f,   0f,\r\n               0f,    0.6f,   0f,   0f,   0f,   1f\r\n    };\r\n    private static final CharSequence vertexSource\r\n            = &quot;#version 150 core\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;in vec3 position;\\n&quot;\r\n            + &quot;in vec3 color;\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;out vec3 vertexColor;\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;uniform mat4 model;\\n&quot;\r\n            + &quot;uniform mat4 view;\\n&quot;\r\n            + &quot;uniform mat4 projection;\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;void main() {\\n&quot;\r\n            + &quot;    vertexColor = color;\\n&quot;\r\n            + &quot;    mat4 mvp = projection * view * model;\\n&quot;\r\n            + &quot;    gl_Position = mvp * vec4(position, 1.0);\\n&quot;\r\n            + &quot;}&quot;;\r\n    private static final CharSequence fragmentSource\r\n            = &quot;#version 150 core\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;in vec3 vertexColor;\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;out vec4 fragColor;\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;void main() {\\n&quot;\r\n            + &quot;    fragColor = vec4(vertexColor, 1.0);\\n&quot;\r\n            + &quot;}&quot;;\r\n}\r\n\r\n```\r\nThis is the output I get from running this program:\r\n```\r\n3.3.1 build 7\r\nGL Error Check 0 no error.\r\nGL Error Check 1 no error.\r\nGL Error Check 2 no error.\r\nGL Error Check 3 no error.\r\nGL Error Check 4 no error.\r\nGL Error Check 5 no error.\r\nGL Error Check 6 no error.\r\nGL Error Check 7 no error.\r\n```\r\nThe &quot;GL Error Check # no error.&quot; keeps going for as long as the program runs, I&#39;ve cut it off at 8 loops. It&#39;s never brought up an OpenGL error.","title":"OpenGL Triange demo shows blank window","body":"<p>I've started my learning of LWJGL3 and OpenGL 3.2+ with a triangle demo. The program seems to run well and I'm not getting any OpenGL errors, but the triangle does not show up on screen.</p>\n<p>I've looked through some of the similar questions on here, and the identified problem with many of them were a missing VAO or bad triangle coordinates or shaders, but I've checked those in my code. VAO is created, bound and vertex attributes are assigned. The triangle coordinates should actually make a triangle, and my shaders <em>say</em> they've compiled and linked properly. I'm at a loss to what I've missed here.</p>\n<p>Here is my code. Everything is in this one file (triangle vertex data, OpenGL object IDs, and shader source code at the bottom), save for LWJGL itself and the com.hackoeur.jglm library, which I'm using for my matrices:</p>\n<pre><code>package net.part1kl;\n\nimport com.hackoeur.jglm.Mat4;\nimport com.hackoeur.jglm.Matrices;\nimport org.lwjgl.Version;\nimport org.lwjgl.glfw.*;\nimport static org.lwjgl.glfw.GLFW.*;\nimport org.lwjgl.opengl.GL;\nimport java.nio.FloatBuffer;\nimport java.nio.IntBuffer;\nimport static org.lwjgl.opengl.GL30C.*;\nimport static org.lwjgl.system.MemoryUtil.*;\n\n\npublic class Demo {\n\n    public static void main(String[] args) {\n        init();\n        loop();\n        dispose();\n    }\n\n    private static long window;\n\n    private static void init(){\n        /* Initialize GLFW */\n        System.out.println(Version.getVersion());\n        glfwSetErrorCallback(GLFWErrorCallback.createPrint(System.err));\n        if (!glfwInit()) throw new IllegalStateException(&quot;GLFW Init Failed&quot;);\n\n        /* Set window hints and create window */\n        glfwDefaultWindowHints();\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 2);\n        glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);\n        glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GLFW_TRUE);\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_FALSE);\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\n        window = glfwCreateWindow(600, 600, &quot;Demo&quot;, NULL, NULL);\n        if ( window == NULL) { glfwTerminate(); throw new RuntimeException(&quot;Window Creation Failed&quot;); }\n\n        /* Other window setup */\n        glfwSetWindowPos(window, 200, 200);\n        glfwMakeContextCurrent(window);\n        GL.createCapabilities();\n        glfwSwapInterval(1);\n        glfwSetKeyCallback(window, (window, key, scancode, action, mods) -&gt; {\n            if (key == GLFW_KEY_ESCAPE &amp;&amp; action == GLFW_PRESS) glfwSetWindowShouldClose(window, true);\n        });\n        glfwShowWindow(window);\n\n        /* Create and bind VAO */\n        vao = glGenVertexArrays();\n        glBindVertexArray(vao);\n\n        /* Create, bind, and populate VBO */\n        vbo = glGenBuffers();\n        glBindBuffer(GL_ARRAY_BUFFER, vbo);\n        FloatBuffer verts = memAllocFloat(vertices.length);\n        for (float val : vertices) verts.put(val);\n        verts.flip();\n        glBufferData(GL_ARRAY_BUFFER, verts, GL_STATIC_DRAW);\n        memFree(verts);\n\n        /* Create Vertex Shader */\n        vShader = glCreateShader(GL_VERTEX_SHADER);\n        glShaderSource(vShader, vertexSource);\n        glCompileShader(vShader);\n        if (glGetShaderi(vShader, GL_COMPILE_STATUS) != GL_TRUE) throw new RuntimeException(glGetShaderInfoLog(vShader));\n\n        /* Create Fragment Shader */\n        fShader = glCreateShader(GL_FRAGMENT_SHADER);\n        glShaderSource(fShader, fragmentSource);\n        glCompileShader(fShader);\n        if (glGetShaderi(fShader, GL_COMPILE_STATUS) != GL_TRUE) throw new RuntimeException(glGetShaderInfoLog(fShader));\n\n        /* Create Shader Program */\n        program = glCreateProgram();\n        glAttachShader(program, vShader);\n        glAttachShader(program, fShader);\n        glBindFragDataLocation(program, 0, &quot;fragColor&quot;);\n        glLinkProgram(program);\n        if (glGetProgrami(program, GL_LINK_STATUS) != GL_TRUE) throw new RuntimeException(glGetProgramInfoLog(program));\n        glUseProgram(program);\n\n        /* Set pointer for vertex position information */\n        int pAttr = glGetAttribLocation(program, &quot;position&quot;);\n        glEnableVertexAttribArray(pAttr);\n        glVertexAttribPointer(pAttr, 3, GL_FLOAT, false, 6 * Float.BYTES, 0);\n\n        /* Set pointer for vertex color information */\n        int cAttr = glGetAttribLocation(program, &quot;color&quot;);\n        glEnableVertexAttribArray(cAttr);\n        glVertexAttribPointer(cAttr, 3, GL_FLOAT, false, 6 * Float.BYTES, 3 * Float.BYTES);\n\n        /* Create and set model uniform. Using com.hackoeur.jglm v1.0.0 for matrices. */\n        Mat4 model = new Mat4();\n        int uModel = glGetUniformLocation(program, &quot;model&quot;);\n        glUniformMatrix4fv(uModel, false, (FloatBuffer)model.getBuffer().flip());\n\n        /* Create and set view uniform */\n        Mat4 view = new Mat4();\n        int uView = glGetUniformLocation(program, &quot;view&quot;);\n        glUniformMatrix4fv(uView, false, (FloatBuffer)view.getBuffer().flip());\n\n        /* Get window size ratio for projection */\n        IntBuffer width = memAllocInt(1);\n        IntBuffer height = memAllocInt(1);\n        GLFW.glfwGetFramebufferSize(window, width, height);\n        float ratio = width.get() / (float) height.get();\n        memFree(width); memFree(height);\n\n        /* Create and set projection uniform */\n        Mat4 projection = Matrices.ortho(-ratio, ratio, -1f, 1f, -1f, 1f);\n        int uProjection = glGetUniformLocation(program, &quot;projection&quot;);\n        glUniformMatrix4fv(uProjection, false, (FloatBuffer)projection.getBuffer().flip());\n    }\n\n    private static void loop(){\n        double lastTime = glfwGetTime();\n        double time = lastTime;\n        while(!glfwWindowShouldClose(window)){\n            double delta = (float) (time - lastTime);\n\n            glClear(GL_COLOR_BUFFER_BIT);\n\n            glBindVertexArray(vao);\n            glBindBuffer(GL_ARRAY_BUFFER, vbo);\n            glUseProgram(program);\n\n\n            glDrawArrays(GL_TRIANGLES, 0, 3);\n\n            glfwSwapBuffers(window);\n            glfwPollEvents();\n\n            glCheck();\n\n            lastTime = time;\n            time = glfwGetTime();\n        }\n    }\n\n    private static void dispose(){\n        glDeleteVertexArrays(vao);\n        glDeleteBuffers(vbo);\n        glDeleteShader(vShader);\n        glDeleteShader(fShader);\n        glDeleteProgram(program);\n\n        glfwDestroyWindow(window);\n    }\n\n    private static void print(String message) { System.out.println(message); }\n\n    private static void err(String message) { System.err.println(message); }\n\n    private static int glCheckCounter = 0;\n\n    private static void glCheck() {\n        int val = glGetError();\n        if (val==0) print(&quot;GL Error Check &quot;+glCheckCounter+&quot; no error.&quot;);\n        else err(&quot;GL Error Check &quot;+glCheckCounter+&quot; returned error &quot;+val);\n        glCheckCounter++;\n    }\n\n\n    private static int vao, vbo, vShader, fShader, program;\n    private static final float[] vertices = {\n            -0.6f,   -0.4f,   0f,   1f,   0f,   0f,\n             0.6f,   -0.4f,   0f,   0f,   1f,   0f,\n               0f,    0.6f,   0f,   0f,   0f,   1f\n    };\n    private static final CharSequence vertexSource\n            = &quot;#version 150 core\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;in vec3 position;\\n&quot;\n            + &quot;in vec3 color;\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;out vec3 vertexColor;\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;uniform mat4 model;\\n&quot;\n            + &quot;uniform mat4 view;\\n&quot;\n            + &quot;uniform mat4 projection;\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;void main() {\\n&quot;\n            + &quot;    vertexColor = color;\\n&quot;\n            + &quot;    mat4 mvp = projection * view * model;\\n&quot;\n            + &quot;    gl_Position = mvp * vec4(position, 1.0);\\n&quot;\n            + &quot;}&quot;;\n    private static final CharSequence fragmentSource\n            = &quot;#version 150 core\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;in vec3 vertexColor;\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;out vec4 fragColor;\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;void main() {\\n&quot;\n            + &quot;    fragColor = vec4(vertexColor, 1.0);\\n&quot;\n            + &quot;}&quot;;\n}\n\n</code></pre>\n<p>This is the output I get from running this program:</p>\n<pre><code>3.3.1 build 7\nGL Error Check 0 no error.\nGL Error Check 1 no error.\nGL Error Check 2 no error.\nGL Error Check 3 no error.\nGL Error Check 4 no error.\nGL Error Check 5 no error.\nGL Error Check 6 no error.\nGL Error Check 7 no error.\n</code></pre>\n<p>The &quot;GL Error Check # no error.&quot; keeps going for as long as the program runs, I've cut it off at 8 loops. It's never brought up an OpenGL error.</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679225600,"post_id":75781587,"comment_id":133679817,"body_markdown":"There is no such thing, but I wonder, wouldn&#39;t base:class:path:$@ work?","body":"There is no such thing, but I wonder, wouldn&#39;t base:class:path:$@ work?"},{"owner":{"account_id":3535938,"reputation":4707,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"score":0,"creation_date":1679226552,"post_id":75781587,"comment_id":133679945,"body_markdown":"No. Extended the question to be clearer in this regard.","body":"No. Extended the question to be clearer in this regard."}],"owner":{"account_id":3535938,"reputation":4707,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679226427,"creation_date":1679224479,"question_id":75781587,"body_markdown":"In some script I would like to have\r\n```\r\njava -cp base:class:path &quot;$@&quot;\r\n```\r\nwhere `&quot;$@&quot;` may be a complete set of `java` command line options with additional `-cp` options, think `... -cp this.jar:that.jar -Dsome.prop=1 ... some.package.Main`. But additional `-cp` options override the previous one. I wildly guessed things like `-cp +...` or `-cp :...` in the hope to have them added, but this does not work.\r\n\r\nIs there some trick I am missing, apart from looping over `&quot;$@&quot;` and injecting the `base:class:path`?\r\n\r\n","title":"Pass multiple -classpath options to the java command","body":"<p>In some script I would like to have</p>\n<pre><code>java -cp base:class:path &quot;$@&quot;\n</code></pre>\n<p>where <code>&quot;$@&quot;</code> may be a complete set of <code>java</code> command line options with additional <code>-cp</code> options, think <code>... -cp this.jar:that.jar -Dsome.prop=1 ... some.package.Main</code>. But additional <code>-cp</code> options override the previous one. I wildly guessed things like <code>-cp +...</code> or <code>-cp :...</code> in the hope to have them added, but this does not work.</p>\n<p>Is there some trick I am missing, apart from looping over <code>&quot;$@&quot;</code> and injecting the <code>base:class:path</code>?</p>\n"},{"tags":["java","unit-testing","mocking","mockito","lombok"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1679222784,"post_id":75781393,"comment_id":133679444,"body_markdown":"Don&#39;t show code that is working, show code that isn&#39;t! You&#39;re never throwing an exception, so of course `assertThrows` fails. How would you test this code if it wasn&#39;t using `@SneakyThrows` but a conventional `throws` declaration?","body":"Don&#39;t show code that is working, show code that isn&#39;t! You&#39;re never throwing an exception, so of course <code>assertThrows</code> fails. How would you test this code if it wasn&#39;t using <code>@SneakyThrows</code> but a conventional <code>throws</code> declaration?"}],"answers":[{"comments":[{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1679223480,"post_id":75781444,"comment_id":133679524,"body_markdown":"thanks! potentially, this code can throw an exception &#39;UnknownHostException&#39; through standard realisation of &#39;public static InetAddress getLocalHost() throws UnknownHostException {&#39; but if I try to replace you exceptions by &#39;UnknownHostException&#39; test did not work","body":"thanks! potentially, this code can throw an exception &#39;UnknownHostException&#39; through standard realisation of &#39;public static InetAddress getLocalHost() throws UnknownHostException {&#39; but if I try to replace you exceptions by &#39;UnknownHostException&#39; test did not work"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1679225727,"post_id":75781444,"comment_id":133679835,"body_markdown":"failing with what error? by the way, you can use assetj for testing exceptions. they have some nic features for it. i have updated my reply with an example","body":"failing with what error? by the way, you can use assetj for testing exceptions. they have some nic features for it. i have updated my reply with an example"},{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1679227787,"post_id":75781444,"comment_id":133680074,"body_markdown":"with error: &#39;org.mockito.exceptions.base.MockitoException: \nChecked exception is invalid for this method!\nInvalid: java.net.UnknownHostException&#39;\nand your refactored version too","body":"with error: &#39;org.mockito.exceptions.base.MockitoException:  Checked exception is invalid for this method! Invalid: java.net.UnknownHostException&#39; and your refactored version too"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1679229845,"post_id":75781444,"comment_id":133680324,"body_markdown":"oh, isee. it&#39;s because you have the @SneakyThrows there. In other words, that method does not throw any checked exception and you cannot use mockito to make the mock throw one. You.ll have to use runtime exceptions in this case.","body":"oh, isee. it&#39;s because you have the @SneakyThrows there. In other words, that method does not throw any checked exception and you cannot use mockito to make the mock throw one. You.ll have to use runtime exceptions in this case."},{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1679232536,"post_id":75781444,"comment_id":133680640,"body_markdown":"Yeah, thanks. But with Runtime exception my @SneakyThrows does not cover and decrease my overall coverage. Are there any ways to cover it?","body":"Yeah, thanks. But with Runtime exception my @SneakyThrows does not cover and decrease my overall coverage. Are there any ways to cover it?"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1679232904,"post_id":75781444,"comment_id":133680686,"body_markdown":"If you want to cover it with tests, you should mock one level deeper. In other words, you are now testing the `repository`, but the annotation is in `mockInetAddress`. Hope my answers were helpful - if so, I would appreciate an upvote :)","body":"If you want to cover it with tests, you should mock one level deeper. In other words, you are now testing the <code>repository</code>, but the annotation is in <code>mockInetAddress</code>. Hope my answers were helpful - if so, I would appreciate an upvote :)"}],"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679225992,"creation_date":1679222809,"answer_id":75781444,"question_id":75781393,"body_markdown":"in order to test it, you need to make your mock throw some exception when `getLocalHostName` is called:\r\n\r\n    Mockito.when(mockInetAddress.getHostName()).thenThrow(new RuntimeException()); \r\n    // use here the actual exception that will occur in your production code\r\n    \r\n    MyRepository repository = new MyRepository(jdbcTemplate) {\r\n        @Override\r\n        public String getLocalHostName() {\r\n            return mockInetAddress.getHostName();\r\n        }\r\n    };\r\n    \r\n    assertThrows(Exception.class, () -&gt; repository.getLocalHostName());\r\n\r\nAdditionally, you can use Assertj for testing exceptions: https://github.com/assertj/assertj. For instance, you can check the exception message:\r\n\r\n    //Assertions from package org.assertj.core.api\r\n    Assertions.assertThatThrownBy(() -&gt; repository.getLocalHostName())\r\n    \t\t.isInstanceOf(UnknownHostException.class)\r\n    \t\t.hasMessageContaining(&quot;my custom error message&quot;);\r\n\r\n","title":"How to cover @SneakyThrows annotation by mock tests?","body":"<p>in order to test it, you need to make your mock throw some exception when <code>getLocalHostName</code> is called:</p>\n<pre><code>Mockito.when(mockInetAddress.getHostName()).thenThrow(new RuntimeException()); \n// use here the actual exception that will occur in your production code\n\nMyRepository repository = new MyRepository(jdbcTemplate) {\n    @Override\n    public String getLocalHostName() {\n        return mockInetAddress.getHostName();\n    }\n};\n\nassertThrows(Exception.class, () -&gt; repository.getLocalHostName());\n</code></pre>\n<p>Additionally, you can use Assertj for testing exceptions: <a href=\"https://github.com/assertj/assertj\" rel=\"nofollow noreferrer\">https://github.com/assertj/assertj</a>. For instance, you can check the exception message:</p>\n<pre><code>//Assertions from package org.assertj.core.api\nAssertions.assertThatThrownBy(() -&gt; repository.getLocalHostName())\n        .isInstanceOf(UnknownHostException.class)\n        .hasMessageContaining(&quot;my custom error message&quot;);\n</code></pre>\n"}],"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75781444,"answer_count":1,"score":0,"last_activity_date":1679225992,"creation_date":1679222186,"question_id":75781393,"body_markdown":"I want to cover by mock test (I use Unit 5) `@SneakyThrows` annotation in one method which looks like:\r\n\r\n    @Override\r\n    @SneakyThrows\r\n    public String getLocalHostName() {\r\n        return InetAddress.getLocalHost().getHostName();\r\n        }\r\nBut all my tryouts are not successful. I&#39;ve tried to write something like\r\n\r\n    @Test\r\n    void testGetLocalHostName_exception() {\r\n        assertThrows(Exception.class, () -&gt; repository.getLocalHostName());\r\n    }\r\nBut it did not cover this annotation.\r\nMy mock test btw for the successful case is the following:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class MyRepositoryImplTest {\r\n    \r\n        @Mock(lenient = true)\r\n        private NamedParameterJdbcTemplate jdbcTemplate;\r\n    \r\n        @Mock(lenient = true)\r\n        private InetAddress mockInetAddress;\r\n    \r\n        @InjectMocks\r\n        @Spy\r\n        private MyRepository repository;\r\n    \r\n        @Test\r\n        void testGetLocalHostName() {\r\n            var expectedHostname = &quot;mock-hostname&quot;;\r\n            Mockito.when(mockInetAddress.getHostName()).thenReturn(expectedHostname);\r\n        \r\n            MyRepository repository = new MyRepository(jdbcTemplate) {\r\n                @Override\r\n                public String getLocalHostName() {\r\n                    return mockInetAddress.getHostName();\r\n                }\r\n            };\r\n            assertThat(repository.getLocalHostName()).isEqualTo(expectedHostname);\r\n        }\r\n    }\r\n\r\nCan you help me please to cover this line by test?","title":"How to cover @SneakyThrows annotation by mock tests?","body":"<p>I want to cover by mock test (I use Unit 5) <code>@SneakyThrows</code> annotation in one method which looks like:</p>\n<pre><code>@Override\n@SneakyThrows\npublic String getLocalHostName() {\n    return InetAddress.getLocalHost().getHostName();\n    }\n</code></pre>\n<p>But all my tryouts are not successful. I've tried to write something like</p>\n<pre><code>@Test\nvoid testGetLocalHostName_exception() {\n    assertThrows(Exception.class, () -&gt; repository.getLocalHostName());\n}\n</code></pre>\n<p>But it did not cover this annotation.\nMy mock test btw for the successful case is the following:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyRepositoryImplTest {\n\n    @Mock(lenient = true)\n    private NamedParameterJdbcTemplate jdbcTemplate;\n\n    @Mock(lenient = true)\n    private InetAddress mockInetAddress;\n\n    @InjectMocks\n    @Spy\n    private MyRepository repository;\n\n    @Test\n    void testGetLocalHostName() {\n        var expectedHostname = &quot;mock-hostname&quot;;\n        Mockito.when(mockInetAddress.getHostName()).thenReturn(expectedHostname);\n    \n        MyRepository repository = new MyRepository(jdbcTemplate) {\n            @Override\n            public String getLocalHostName() {\n                return mockInetAddress.getHostName();\n            }\n        };\n        assertThat(repository.getLocalHostName()).isEqualTo(expectedHostname);\n    }\n}\n</code></pre>\n<p>Can you help me please to cover this line by test?</p>\n"},{"tags":["java","android","kotlin","gradle","sdk"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":2,"creation_date":1648881076,"post_id":71715306,"comment_id":126740434,"body_markdown":"It means your tools and out of sync.  Probably the easiest way to fix this is to reinstall Android Studio.","body":"It means your tools and out of sync.  Probably the easiest way to fix this is to reinstall Android Studio."}],"answers":[{"tags":[],"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Cătălin Cucer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679225747,"creation_date":1679223555,"answer_id":75781509,"question_id":71715306,"body_markdown":"The most common reason for this error can be the usages of **outdated** `Android SDK` tools that are unable to understand the most recent `&quot;SDK XML&quot;` files.\r\n\r\nYou should update your `SDK tools` to the most recent version that supports the `&quot;SDK XML&quot;`, **Version 3** should solve the problem.\r\n\r\nThis is a possible procedures to upgrade your `SDK tools`:\r\n\r\n 1. Open `Android Studio`.\r\n 2. Go to `File`-&gt;`Settings`-&gt;`Appearance &amp; Behaviour`-&gt;`System Settings`-&gt;`Android SDK`.\r\n 3. Open `SDK Manager` and select `SDK Tools`.\r\n 4. Check the `Android SDK Built-Tools`.\r\n 5. If it&#39;s not updated, select the latest version and click `Apply` to install it.\r\n 6. When the installation is completed, restart `Android Studio`.\r\n 7. Try to `rebuild` your Application.\r\n\r\n**You can also try `Invalidate Caches` and to `clone` the project again.**\r\n\r\nAlso check this [Update the IDE and SDK tools](https://developer.android.com/studio/intro/update) and this [sdk - How to update Android Studio automatically?](https://stackoverflow.com/questions/28133518/how-to-update-android-studio-automatically)\r\n","title":"How I can resolve &quot;This version only understands SDK XML versions up to 2 but an SDK XML file of version 3 was encountered&quot;?","body":"<p>The most common reason for this error can be the usages of <strong>outdated</strong> <code>Android SDK</code> tools that are unable to understand the most recent <code>&quot;SDK XML&quot;</code> files.</p>\n<p>You should update your <code>SDK tools</code> to the most recent version that supports the <code>&quot;SDK XML&quot;</code>, <strong>Version 3</strong> should solve the problem.</p>\n<p>This is a possible procedures to upgrade your <code>SDK tools</code>:</p>\n<ol>\n<li>Open <code>Android Studio</code>.</li>\n<li>Go to <code>File</code>-&gt;<code>Settings</code>-&gt;<code>Appearance &amp; Behaviour</code>-&gt;<code>System Settings</code>-&gt;<code>Android SDK</code>.</li>\n<li>Open <code>SDK Manager</code> and select <code>SDK Tools</code>.</li>\n<li>Check the <code>Android SDK Built-Tools</code>.</li>\n<li>If it's not updated, select the latest version and click <code>Apply</code> to install it.</li>\n<li>When the installation is completed, restart <code>Android Studio</code>.</li>\n<li>Try to <code>rebuild</code> your Application.</li>\n</ol>\n<p><strong>You can also try <code>Invalidate Caches</code> and to <code>clone</code> the project again.</strong></p>\n<p>Also check this <a href=\"https://developer.android.com/studio/intro/update\" rel=\"nofollow noreferrer\">Update the IDE and SDK tools</a> and this <a href=\"https://stackoverflow.com/questions/28133518/how-to-update-android-studio-automatically\">sdk - How to update Android Studio automatically?</a></p>\n"}],"owner":{"display_name":"user18594689"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2093,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75781509,"answer_count":1,"score":3,"last_activity_date":1679225747,"creation_date":1648880249,"question_id":71715306,"body_markdown":"I am getting this error &quot;This version only understands SDK XML versions up to 2 but an SDK XML file of version 3 was encountered. This can happen if you use versions of Android Studio and the command-line tools that were released at different times.&quot;\r\n\r\nMy app still working but this error is annoying.\r\n\r\nCan anyone help?","title":"How I can resolve &quot;This version only understands SDK XML versions up to 2 but an SDK XML file of version 3 was encountered&quot;?","body":"<p>I am getting this error &quot;This version only understands SDK XML versions up to 2 but an SDK XML file of version 3 was encountered. This can happen if you use versions of Android Studio and the command-line tools that were released at different times.&quot;</p>\n<p>My app still working but this error is annoying.</p>\n<p>Can anyone help?</p>\n"},{"tags":["java","thread-safety","apache-tika","language-detection"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1679221781,"post_id":75781081,"comment_id":133679318,"body_markdown":"Looks like the intent is certainly that they are :  “Detect and parse are both thread-safe. If you find otherwise, that&#39;s a bug! ”   https://www.mail-archive.com/user@tika.apache.org/msg03473.html","body":"Looks like the intent is certainly that they are :  “Detect and parse are both thread-safe. If you find otherwise, that&#39;s a bug! ”   <a href=\"https://www.mail-archive.com/user@tika.apache.org/msg03473.html\" rel=\"nofollow noreferrer\">mail-archive.com/user@tika.apache.org/msg03473.html</a>"},{"owner":{"account_id":2629772,"reputation":433,"user_id":2276054,"display_name":"Leszek Pachura"},"score":0,"creation_date":1679222087,"post_id":75781081,"comment_id":133679360,"body_markdown":"@racraman The post you linked refers to class `org.apache.tika.Tika`, which is used to detect media types, not to `org.apache.tika.language.detect.LanguageDetector`.","body":"@racraman The post you linked refers to class <code>org.apache.tika.Tika</code>, which is used to detect media types, not to <code>org.apache.tika.language.detect.LanguageDetector</code>."}],"answers":[{"comments":[{"owner":{"account_id":2629772,"reputation":433,"user_id":2276054,"display_name":"Leszek Pachura"},"score":2,"creation_date":1679230672,"post_id":75781649,"comment_id":133680410,"body_markdown":"Thank you @Roar S.! This is what I expected. However, it seems that Optimaize Language Detector, when used on its own (outside of Tika), IS thread-safe...\n\nhttps://github.com/optimaize/language-detector/issues/9","body":"Thank you @Roar S.! This is what I expected. However, it seems that Optimaize Language Detector, when used on its own (outside of Tika), IS thread-safe...  <a href=\"https://github.com/optimaize/language-detector/issues/9\" rel=\"nofollow noreferrer\">github.com/optimaize/language-detector/issues/9</a>"}],"tags":[],"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679225595,"creation_date":1679225234,"answer_id":75781649,"question_id":75781081,"body_markdown":"A requirement for a class to be thread-safe, is that it is immutable. That means after construction, instance methods are not allowed to change any members. \r\n\r\nWhen reading the source for `org.apache.tika.langdetect.optimaize.OptimaizeLangDetector` [here][1]\r\n\r\nwe&#39;ll see this instance method\r\n```\r\npublic void reset() {\r\n    writer.reset();\r\n}\r\n```\r\nwhich is changing member \r\n```\r\nprivate CharArrayWriter writer;\r\n```\r\nand with that the state of the `OptimaizeLangDetector` instance. Hence `OptimaizeLangDetector` is not thread-safe.\r\n\r\n  [1]: https://github.com/apache/tika/blob/main/tika-langdetect/tika-langdetect-optimaize/src/main/java/org/apache/tika/langdetect/optimaize/OptimaizeLangDetector.java","title":"Are Apache Tika&#39;s LanguageDetectors thread-safe?","body":"<p>A requirement for a class to be thread-safe, is that it is immutable. That means after construction, instance methods are not allowed to change any members.</p>\n<p>When reading the source for <code>org.apache.tika.langdetect.optimaize.OptimaizeLangDetector</code> <a href=\"https://github.com/apache/tika/blob/main/tika-langdetect/tika-langdetect-optimaize/src/main/java/org/apache/tika/langdetect/optimaize/OptimaizeLangDetector.java\" rel=\"nofollow noreferrer\">here</a></p>\n<p>we'll see this instance method</p>\n<pre><code>public void reset() {\n    writer.reset();\n}\n</code></pre>\n<p>which is changing member</p>\n<pre><code>private CharArrayWriter writer;\n</code></pre>\n<p>and with that the state of the <code>OptimaizeLangDetector</code> instance. Hence <code>OptimaizeLangDetector</code> is not thread-safe.</p>\n"}],"owner":{"account_id":2629772,"reputation":433,"user_id":2276054,"display_name":"Leszek Pachura"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75781649,"answer_count":1,"score":0,"last_activity_date":1679225595,"creation_date":1679217860,"question_id":75781081,"body_markdown":"Consider the following code:\r\n`````\r\nfinal String[] texts = {\r\n    &quot;Allons, enfants de la Patrie, Le jour de gloire est arriv&#233;&quot;,\r\n    &quot;O Tannenbaum, o Tannenbaum, wie treu sind deine Bl&#228;tter!&quot;,\r\n    &quot;...&quot;\r\n};\r\n\r\nfinal LanguageDetector ld = new OptimaizeLangDetector();  // or e.g. OpenNLPDetector\r\nld.loadModels();\r\nArrays.stream(texts).parallel().forEach(text -&gt; System.out.println(ld.detect(text)));\r\n`````\r\nCan I assume that `ld.detect()` and `ld.detectAll()` are thread-safe and can be ran in parallel on multiple texts using a single `LanguageDetector` instance?\r\n\r\nThe thing that makes me worry is that `LanguageDetector` has methods like `addText()`, `hasEnoughText()` and `reset()` which make it stateful, and therefore - by definition - non-thread-safe...\r\n\r\nhttps://tika.apache.org/2.7.0/api/org/apache/tika/language/detect/LanguageDetector.html","title":"Are Apache Tika&#39;s LanguageDetectors thread-safe?","body":"<p>Consider the following code:</p>\n<pre><code>final String[] texts = {\n    &quot;Allons, enfants de la Patrie, Le jour de gloire est arrivé&quot;,\n    &quot;O Tannenbaum, o Tannenbaum, wie treu sind deine Blätter!&quot;,\n    &quot;...&quot;\n};\n\nfinal LanguageDetector ld = new OptimaizeLangDetector();  // or e.g. OpenNLPDetector\nld.loadModels();\nArrays.stream(texts).parallel().forEach(text -&gt; System.out.println(ld.detect(text)));\n</code></pre>\n<p>Can I assume that <code>ld.detect()</code> and <code>ld.detectAll()</code> are thread-safe and can be ran in parallel on multiple texts using a single <code>LanguageDetector</code> instance?</p>\n<p>The thing that makes me worry is that <code>LanguageDetector</code> has methods like <code>addText()</code>, <code>hasEnoughText()</code> and <code>reset()</code> which make it stateful, and therefore - by definition - non-thread-safe...</p>\n<p><a href=\"https://tika.apache.org/2.7.0/api/org/apache/tika/language/detect/LanguageDetector.html\" rel=\"nofollow noreferrer\">https://tika.apache.org/2.7.0/api/org/apache/tika/language/detect/LanguageDetector.html</a></p>\n"},{"tags":["java","fonts","itext"],"comments":[{"owner":{"account_id":26119940,"reputation":3,"user_id":19812391,"display_name":"Мақсат"},"score":0,"creation_date":1676431162,"post_id":75446930,"comment_id":133133959,"body_markdown":"@KJ thx for you answer, there have a way to check local fonts subset ? I need to avoid &#39;Missing Character&#39; when system rendering. Wanna go to confirm local font contain all fonts used in a pdf file.","body":"@KJ thx for you answer, there have a way to check local fonts subset ? I need to avoid &#39;Missing Character&#39; when system rendering. Wanna go to confirm local font contain all fonts used in a pdf file."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676411776,"creation_date":1676411776,"answer_id":75453629,"question_id":75446930,"body_markdown":"According to the PDF specification:\r\n\r\n&gt;### 9.9.2 Font subsets\r\n&gt;\r\n&gt;PDF documents may include subsets of PDF fonts whose **Subtype** is *Type1*, *TrueType* or *OpenType*. The font and font descriptor that describe a font subset are slightly different from those of ordinary fonts. These differences allow a PDF processor to recognise font subsets and to merge documents containing different subsets of the same font. (For more information on font descriptors, see 9.8, &quot;Font descriptors&quot;.)\r\n&gt;\r\n&gt;For a font subset, the PostScript name of the font, that is, the value of the font’s **BaseFont** entry and the font descriptor’s **FontName** entry, shall begin with a tag followed by a plus sign (+) followed by the PostScript name of the font from which the subset was created. The tag shall consist of exactly six uppercase letters; the choice of letters is arbitrary, but different subsets of the same font in the same PDF file shall have different tags. The glyph name **.notdef** shall be defined in the font subset.\r\n&gt;\r\n&gt;NOTE It is recommended that PDF processors treat multiple subset fonts as completely independent entities, even if they appear to have been created from the same original font.\r\n&gt;\r\n&gt;EXAMPLE EOODIA+Poetica is the name of a subset of Poetica&#174;, a Type 1 font.\r\n\r\n*(ISO 32000-2)*\r\n\r\nThus, AAAAAD+SourceHanSansCN-Normal and BIISMY+SourceHanSansCN-Normal most likely are different subsets of the same source font.","title":"What is different the two font?","body":"<p>According to the PDF specification:</p>\n<blockquote>\n<h3>9.9.2 Font subsets</h3>\n<p>PDF documents may include subsets of PDF fonts whose <strong>Subtype</strong> is <em>Type1</em>, <em>TrueType</em> or <em>OpenType</em>. The font and font descriptor that describe a font subset are slightly different from those of ordinary fonts. These differences allow a PDF processor to recognise font subsets and to merge documents containing different subsets of the same font. (For more information on font descriptors, see 9.8, &quot;Font descriptors&quot;.)</p>\n<p>For a font subset, the PostScript name of the font, that is, the value of the font’s <strong>BaseFont</strong> entry and the font descriptor’s <strong>FontName</strong> entry, shall begin with a tag followed by a plus sign (+) followed by the PostScript name of the font from which the subset was created. The tag shall consist of exactly six uppercase letters; the choice of letters is arbitrary, but different subsets of the same font in the same PDF file shall have different tags. The glyph name <strong>.notdef</strong> shall be defined in the font subset.</p>\n<p>NOTE It is recommended that PDF processors treat multiple subset fonts as completely independent entities, even if they appear to have been created from the same original font.</p>\n<p>EXAMPLE EOODIA+Poetica is the name of a subset of Poetica®, a Type 1 font.</p>\n</blockquote>\n<p><em>(ISO 32000-2)</em></p>\n<p>Thus, AAAAAD+SourceHanSansCN-Normal and BIISMY+SourceHanSansCN-Normal most likely are different subsets of the same source font.</p>\n"}],"owner":{"account_id":26119940,"reputation":3,"user_id":19812391,"display_name":"Мақсат"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75453629,"answer_count":1,"score":0,"last_activity_date":1679225089,"creation_date":1676372838,"question_id":75446930,"body_markdown":"When i print **TextRenderInfo.getFont().getPostscriptFontName()** in two pdf file, it will be printed **AAAAAD+SourceHanSansCN-Normal** and **BIISMY+SourceHanSansCN-Normal**.\r\n\r\nI known **SourceHanSansCN-Normal** is format of FontName-FontScript, but what is AAAAAD ? Is not like font family.\r\n\r\nExample Code:\r\n\r\n```\r\npublic class CheckPdfAllFontTest implements TextExtractionStrategy {\r\n\r\n    public static final String SRC = &quot;ownTestFile.pdf&quot;;\r\n\r\n    @Override\r\n    public String getResultantText() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void beginTextBlock() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void renderText(TextRenderInfo textRenderInfo) {\r\n        String x = textRenderInfo.getFont().getPostscriptFontName();\r\n        String text = textRenderInfo.getText();\r\n        System.out.println(text + &quot;=====&quot; + x);\r\n    }\r\n\r\n    @Override\r\n    public void endTextBlock() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void renderImage(ImageRenderInfo imageRenderInfo) {\r\n\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException, DocumentException {\r\n        new CheckPdfAllFontTest().parse(SRC);\r\n    }\r\n\r\n    public void parse(String filename) throws IOException, IOException {\r\n        int pageNumber = 1;\r\n        PdfReader reader = new PdfReader(filename);\r\n        System.out.println(PdfTextExtractor.getTextFromPage(reader, pageNumber, new CheckPdfAllFontTest()));\r\n        reader.close();\r\n    }\r\n}\r\n```\r\n\r\nItext pdf version:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n    &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n    &lt;version&gt;5.5.8&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe two pdf is exported with &quot;embed font&quot; and &quot;not embed font&quot; setting from a Power Point File. \r\n\r\n - &quot;AAAAAD+SourceHanSansCN-Normal&quot; from &quot;embed font&quot; pdf file.\r\n - &quot;BIISMY+SourceHanSansCN-Normal&quot; from &quot;not embed font&quot; pdf file.\r\n\r\n\r\nI am collecting the fonts used in pdf, but I found that there are fonts in this format. I don’t know what is before the ‘+’. What is its definition?\r\n","title":"What is different the two font?","body":"<p>When i print <strong>TextRenderInfo.getFont().getPostscriptFontName()</strong> in two pdf file, it will be printed <strong>AAAAAD+SourceHanSansCN-Normal</strong> and <strong>BIISMY+SourceHanSansCN-Normal</strong>.</p>\n<p>I known <strong>SourceHanSansCN-Normal</strong> is format of FontName-FontScript, but what is AAAAAD ? Is not like font family.</p>\n<p>Example Code:</p>\n<pre><code>public class CheckPdfAllFontTest implements TextExtractionStrategy {\n\n    public static final String SRC = &quot;ownTestFile.pdf&quot;;\n\n    @Override\n    public String getResultantText() {\n        return null;\n    }\n\n    @Override\n    public void beginTextBlock() {\n\n    }\n\n    @Override\n    public void renderText(TextRenderInfo textRenderInfo) {\n        String x = textRenderInfo.getFont().getPostscriptFontName();\n        String text = textRenderInfo.getText();\n        System.out.println(text + &quot;=====&quot; + x);\n    }\n\n    @Override\n    public void endTextBlock() {\n\n    }\n\n    @Override\n    public void renderImage(ImageRenderInfo imageRenderInfo) {\n\n    }\n\n    public static void main(String[] args) throws IOException, DocumentException {\n        new CheckPdfAllFontTest().parse(SRC);\n    }\n\n    public void parse(String filename) throws IOException, IOException {\n        int pageNumber = 1;\n        PdfReader reader = new PdfReader(filename);\n        System.out.println(PdfTextExtractor.getTextFromPage(reader, pageNumber, new CheckPdfAllFontTest()));\n        reader.close();\n    }\n}\n</code></pre>\n<p>Itext pdf version:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n    &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n    &lt;version&gt;5.5.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The two pdf is exported with &quot;embed font&quot; and &quot;not embed font&quot; setting from a Power Point File.</p>\n<ul>\n<li>&quot;AAAAAD+SourceHanSansCN-Normal&quot; from &quot;embed font&quot; pdf file.</li>\n<li>&quot;BIISMY+SourceHanSansCN-Normal&quot; from &quot;not embed font&quot; pdf file.</li>\n</ul>\n<p>I am collecting the fonts used in pdf, but I found that there are fonts in this format. I don’t know what is before the ‘+’. What is its definition?</p>\n"},{"tags":["java","android","testing","junit4","robolectric"],"owner":{"account_id":4799010,"reputation":354,"user_id":3876115,"accept_rate":100,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679224907,"creation_date":1679224907,"question_id":75781616,"body_markdown":"I have a class `CustomerDeleteActivity` that first retrieve data from an adapter.\r\n\r\n**CustomerDeleteActivity**\r\n\r\n    public class CustomerDeleteActivity extends AppCompatActivity {\r\n    \r\n        public void getFieldsData() {\r\n            // Inicializamos la entidad Veh&#237;culo con el bundle correspondiente\r\n            customer = null;\r\n            customer = (Customer) bundle.getSerializable(&quot;customer&quot;);\r\n    \r\n            // Por cada atributo de usuario configuramos su vista correspondiente\r\n            etName.setText(customer.getName());\r\n            etDni.setText(customer.getDni());\r\n            etDate.setText(Utilities.changeFormatData(customer.getBornDate()));\r\n            etEmail.setText(customer.getEmail());\r\n    \r\n            for (int i = 0; i &lt; spSex.getAdapter().getCount(); i++) {\r\n                if (spSex.getAdapter().getItem(i).toString().contains(customer.getSex())) {\r\n                    spSex.setSelection(i);\r\n                }\r\n            }\r\n            spSex.setEnabled(false);\r\n    \r\n            for (int i = 0; i &lt; spLabor.getAdapter().getCount(); i++) {\r\n                if (spLabor.getAdapter().getItem(i).toString().contains(customer.getLabor())) {\r\n                    spLabor.setSelection(i);\r\n                }\r\n            }\r\n            spLabor.setEnabled(false);\r\n    \r\n            etObservation.setText(customer.getObservation());\r\n        }\r\n    }\r\n\r\nThe method `getFieldsData` set the EditTexts fields to show the information that the user will delete. And this method run in `onCreate`:\r\n\r\n    if (bundle == null) {\r\n        Toast.makeText(this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n    } else {\r\n        getFieldsData();\r\n        Objects.requireNonNull(getSupportActionBar()).setTitle(getString(R.string.title_bar_customer_delete) + &quot; &quot; + customer.getName());\r\n    }\r\n\r\nThe app works fine, but I am trying to do the test, and I have that:\r\n\r\n    @RunWith(RobolectricTestRunner.class)\r\n    @LooperMode(LooperMode.Mode.PAUSED)\r\n    @Config(sdk = Build.VERSION_CODES.P)\r\n    @DoNotInstrument\r\n    public class CustomerDeleteActivityTest {\r\n    \r\n        private CustomerDeleteActivity activity;\r\n        private DbCustomer dbCustomer;\r\n        private SQLiteDatabase db;\r\n        private Button btDelete;\r\n        private EditText etName;\r\n        private EditText etDni;\r\n        private EditText etDate;\r\n        private EditText etEmail;\r\n        private Spinner spSex;\r\n        private Spinner spLabor;\r\n        private EditText etObservation;\r\n    \r\n        @Before\r\n        public void setUp() {\r\n            // Configuro resto de objetos\r\n            activity = Robolectric.buildActivity(CustomerDeleteActivity.class).create().resume().get();\r\n            dbCustomer = new DbCustomer(activity, DbHelper.DATABASE, null, DbHelper.DATABASE_VERSION);\r\n            db = dbCustomer.getWritableDatabase();\r\n            etName = activity.findViewById(R.id.etCustomerNameDelete);\r\n            etDni = activity.findViewById(R.id.etCustomerDniDelete);\r\n            etDate = activity.findViewById(R.id.etCustomerBornDateDelete);\r\n            etEmail = activity.findViewById(R.id.etCustomerEmailDelete);\r\n            spSex = activity.findViewById(R.id.spCustomerSexDelete);\r\n            spLabor = activity.findViewById(R.id.spCustomerLaborDelete);\r\n            etObservation = activity.findViewById(R.id.etCustomerObservationDelete);\r\n            btDelete = activity.findViewById(R.id.btCustomerDelete);\r\n        }\r\n    \r\n        @After\r\n        public void tearDown() {\r\n            activity.finish();\r\n            dbCustomer.close();\r\n            db.close();\r\n        }\r\n    \r\n    @Test\r\n        public void getFieldsDataTest() {\r\n            Intent intent = new Intent();\r\n            Bundle bundle = new Bundle();\r\n    \r\n            int id = 1;\r\n            String code = &quot;0000000F&quot;;\r\n            String name = &quot;Cliente 1&quot;;\r\n            String date = &quot;2000-09-30&quot;;\r\n            String email =  &quot;c1@correo.es&quot;;\r\n            String sex = &quot;M&quot;;\r\n            String labor = &quot;Funcionario&quot;;\r\n            String observations = &quot;Cuenta ajena&quot;;\r\n    \r\n            Customer customer = new Customer(id, code, name, date, email, sex, labor, observations);\r\n            bundle.putSerializable(&quot;customer&quot;, customer);\r\n    \r\n            intent.putExtras(bundle);\r\n            activity.setIntent(intent);\r\n            activity.getFieldsData();\r\n    \r\n            ShadowLooper shadowLooper = Shadows.shadowOf(Looper.getMainLooper());\r\n            shadowLooper.idle();\r\n    \r\n            assertEquals(etDni.getText().toString(), customer.getDni());\r\n        }\r\n    \r\n    }\r\n\r\nWhen i execute the test I recieve that error:\r\n\r\n&gt; Main looper has queued unexecuted runnables. This might be the cause of the test failure. You might need a shadowOf(getMainLooper()).idle() call.\r\n\r\nI have try:\r\n\r\n    Thread.sleep(500);\r\n\r\nand..\r\n\r\n    Robolectric.flushForegroundThreadScheduler();\r\n\r\nand...\r\n\r\n    final CountDownLatch latch = new CountDownLatch(1);\r\n\r\n    // Espera a que se completen todas las tareas en segundo plano\r\n    new Handler(Looper.getMainLooper()).post(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            latch.countDown();\r\n        }\r\n    });\r\n    latch.await();\r\n\r\nBut nothing works, &#191;what am i doing wrong?","title":"Main looper has queued unexecuted runnables","body":"<p>I have a class <code>CustomerDeleteActivity</code> that first retrieve data from an adapter.</p>\n<p><strong>CustomerDeleteActivity</strong></p>\n<pre><code>public class CustomerDeleteActivity extends AppCompatActivity {\n\n    public void getFieldsData() {\n        // Inicializamos la entidad Vehículo con el bundle correspondiente\n        customer = null;\n        customer = (Customer) bundle.getSerializable(&quot;customer&quot;);\n\n        // Por cada atributo de usuario configuramos su vista correspondiente\n        etName.setText(customer.getName());\n        etDni.setText(customer.getDni());\n        etDate.setText(Utilities.changeFormatData(customer.getBornDate()));\n        etEmail.setText(customer.getEmail());\n\n        for (int i = 0; i &lt; spSex.getAdapter().getCount(); i++) {\n            if (spSex.getAdapter().getItem(i).toString().contains(customer.getSex())) {\n                spSex.setSelection(i);\n            }\n        }\n        spSex.setEnabled(false);\n\n        for (int i = 0; i &lt; spLabor.getAdapter().getCount(); i++) {\n            if (spLabor.getAdapter().getItem(i).toString().contains(customer.getLabor())) {\n                spLabor.setSelection(i);\n            }\n        }\n        spLabor.setEnabled(false);\n\n        etObservation.setText(customer.getObservation());\n    }\n}\n</code></pre>\n<p>The method <code>getFieldsData</code> set the EditTexts fields to show the information that the user will delete. And this method run in <code>onCreate</code>:</p>\n<pre><code>if (bundle == null) {\n    Toast.makeText(this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n} else {\n    getFieldsData();\n    Objects.requireNonNull(getSupportActionBar()).setTitle(getString(R.string.title_bar_customer_delete) + &quot; &quot; + customer.getName());\n}\n</code></pre>\n<p>The app works fine, but I am trying to do the test, and I have that:</p>\n<pre><code>@RunWith(RobolectricTestRunner.class)\n@LooperMode(LooperMode.Mode.PAUSED)\n@Config(sdk = Build.VERSION_CODES.P)\n@DoNotInstrument\npublic class CustomerDeleteActivityTest {\n\n    private CustomerDeleteActivity activity;\n    private DbCustomer dbCustomer;\n    private SQLiteDatabase db;\n    private Button btDelete;\n    private EditText etName;\n    private EditText etDni;\n    private EditText etDate;\n    private EditText etEmail;\n    private Spinner spSex;\n    private Spinner spLabor;\n    private EditText etObservation;\n\n    @Before\n    public void setUp() {\n        // Configuro resto de objetos\n        activity = Robolectric.buildActivity(CustomerDeleteActivity.class).create().resume().get();\n        dbCustomer = new DbCustomer(activity, DbHelper.DATABASE, null, DbHelper.DATABASE_VERSION);\n        db = dbCustomer.getWritableDatabase();\n        etName = activity.findViewById(R.id.etCustomerNameDelete);\n        etDni = activity.findViewById(R.id.etCustomerDniDelete);\n        etDate = activity.findViewById(R.id.etCustomerBornDateDelete);\n        etEmail = activity.findViewById(R.id.etCustomerEmailDelete);\n        spSex = activity.findViewById(R.id.spCustomerSexDelete);\n        spLabor = activity.findViewById(R.id.spCustomerLaborDelete);\n        etObservation = activity.findViewById(R.id.etCustomerObservationDelete);\n        btDelete = activity.findViewById(R.id.btCustomerDelete);\n    }\n\n    @After\n    public void tearDown() {\n        activity.finish();\n        dbCustomer.close();\n        db.close();\n    }\n\n@Test\n    public void getFieldsDataTest() {\n        Intent intent = new Intent();\n        Bundle bundle = new Bundle();\n\n        int id = 1;\n        String code = &quot;0000000F&quot;;\n        String name = &quot;Cliente 1&quot;;\n        String date = &quot;2000-09-30&quot;;\n        String email =  &quot;c1@correo.es&quot;;\n        String sex = &quot;M&quot;;\n        String labor = &quot;Funcionario&quot;;\n        String observations = &quot;Cuenta ajena&quot;;\n\n        Customer customer = new Customer(id, code, name, date, email, sex, labor, observations);\n        bundle.putSerializable(&quot;customer&quot;, customer);\n\n        intent.putExtras(bundle);\n        activity.setIntent(intent);\n        activity.getFieldsData();\n\n        ShadowLooper shadowLooper = Shadows.shadowOf(Looper.getMainLooper());\n        shadowLooper.idle();\n\n        assertEquals(etDni.getText().toString(), customer.getDni());\n    }\n\n}\n</code></pre>\n<p>When i execute the test I recieve that error:</p>\n<blockquote>\n<p>Main looper has queued unexecuted runnables. This might be the cause of the test failure. You might need a shadowOf(getMainLooper()).idle() call.</p>\n</blockquote>\n<p>I have try:</p>\n<pre><code>Thread.sleep(500);\n</code></pre>\n<p>and..</p>\n<pre><code>Robolectric.flushForegroundThreadScheduler();\n</code></pre>\n<p>and...</p>\n<pre><code>final CountDownLatch latch = new CountDownLatch(1);\n\n// Espera a que se completen todas las tareas en segundo plano\nnew Handler(Looper.getMainLooper()).post(new Runnable() {\n    @Override\n    public void run() {\n        latch.countDown();\n    }\n});\nlatch.await();\n</code></pre>\n<p>But nothing works, ¿what am i doing wrong?</p>\n"},{"tags":["java","jira","jira-plugin"],"owner":{"account_id":24616307,"reputation":31,"user_id":18517281,"display_name":"Kaushik Bhave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679224895,"creation_date":1679224895,"question_id":75781611,"body_markdown":"Using JDK 1.8 and did set Java Home\r\n\r\nInstalled atlasian sdk \r\n\r\n    PS C:\\&gt; atlas-version\r\n    \r\n    ATLAS Version:    8.2.7\r\n    ATLAS Home:       C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\r\n    ATLAS Scripts:    C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\bin\r\n    ATLAS Maven Home: C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4\r\n    AMPS Version:     8.1.2\r\n    --------\r\n    \r\n        Executing: &quot;C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4\\bin\\mvn.cmd&quot; --version -gs C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4/conf/settings.xml\r\n        Apache Maven 3.5.4 (1edded0938998edf8bf061f1ceb3cfdeccf443fe; 2018-06-18T00:03:14+05:30)\r\n        Maven home: C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4\\bin\\..\r\n        Java version: 1.8.0_361, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk1.8.0_361\\jre\r\n        Default locale: en_IN, platform encoding: Cp1252\r\n        OS name: &quot;windows 11&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\n\r\nCreated Jira Plugin steps using jira documentation. Folder structure is created as per the file when tried to execute\r\n\r\n    atlas-run\r\n\r\n Getting below exceptions\r\n\r\n\r\nException:\r\n\r\n    [INFO] [talledLocalContainer] 2023-03-19 16:20:51,879 localhost-startStop-1 WARN      [c.a.p.osgi.util.OsgiHeaderUtil] removing duplicate import package com.atlassian.jira.blueprint.api~ for plugin com.atlassian.jira-core-project-templates - it is likely that a duplicate package was supplied in the OSGi instructions in the plugin&#39;s MANIFEST.MF\r\n    [INFO] [talledLocalContainer] 2023-03-19 16:20:51,879 localhost-startStop-1 WARN      [c.a.p.osgi.util.OsgiHeaderUtil] removing duplicate import package com.atlassian.jira.projects.shortcuts~ for plugin com.atlassian.jira-core-project-templates - it is likely that a duplicate package was supplied in the OSGi instructions in the plugin&#39;s MANIFEST.MF\r\n    [INFO] [talledLocalContainer] Tomcat 8.x is stopped\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 15:42 min\r\n    [INFO] Finished at: 2023-03-19T16:24:08+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal com.atlassian.maven.plugins:amps-dispatcher-maven-plugin:8.1.2:run (default-cli) on project tkplugin: Cannot start container [org.codehaus.cargo.container.tomcat.Tomcat8xInstalledLocalContainer@6adc90e9]: Deployable [http://localhost:2990/cargocpc/index.html] failed to finish deploying within the timeout period [600000]. The Deployable state is thus unknown. -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException","title":"Unable to bring up basic jira plugin using atlas-create-jira-plugin","body":"<p>Using JDK 1.8 and did set Java Home</p>\n<p>Installed atlasian sdk</p>\n<pre><code>PS C:\\&gt; atlas-version\n\nATLAS Version:    8.2.7\nATLAS Home:       C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\nATLAS Scripts:    C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\bin\nATLAS Maven Home: C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4\nAMPS Version:     8.1.2\n--------\n\n    Executing: &quot;C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4\\bin\\mvn.cmd&quot; --version -gs C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4/conf/settings.xml\n    Apache Maven 3.5.4 (1edded0938998edf8bf061f1ceb3cfdeccf443fe; 2018-06-18T00:03:14+05:30)\n    Maven home: C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4\\bin\\..\n    Java version: 1.8.0_361, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk1.8.0_361\\jre\n    Default locale: en_IN, platform encoding: Cp1252\n    OS name: &quot;windows 11&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>Created Jira Plugin steps using jira documentation. Folder structure is created as per the file when tried to execute</p>\n<pre><code>atlas-run\n</code></pre>\n<p>Getting below exceptions</p>\n<p>Exception:</p>\n<pre><code>[INFO] [talledLocalContainer] 2023-03-19 16:20:51,879 localhost-startStop-1 WARN      [c.a.p.osgi.util.OsgiHeaderUtil] removing duplicate import package com.atlassian.jira.blueprint.api~ for plugin com.atlassian.jira-core-project-templates - it is likely that a duplicate package was supplied in the OSGi instructions in the plugin's MANIFEST.MF\n[INFO] [talledLocalContainer] 2023-03-19 16:20:51,879 localhost-startStop-1 WARN      [c.a.p.osgi.util.OsgiHeaderUtil] removing duplicate import package com.atlassian.jira.projects.shortcuts~ for plugin com.atlassian.jira-core-project-templates - it is likely that a duplicate package was supplied in the OSGi instructions in the plugin's MANIFEST.MF\n[INFO] [talledLocalContainer] Tomcat 8.x is stopped\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 15:42 min\n[INFO] Finished at: 2023-03-19T16:24:08+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.atlassian.maven.plugins:amps-dispatcher-maven-plugin:8.1.2:run (default-cli) on project tkplugin: Cannot start container [org.codehaus.cargo.container.tomcat.Tomcat8xInstalledLocalContainer@6adc90e9]: Deployable [http://localhost:2990/cargocpc/index.html] failed to finish deploying within the timeout period [600000]. The Deployable state is thus unknown. -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"},{"tags":["java","database","spring-boot","mariadb","jhipster"],"comments":[{"owner":{"account_id":27767891,"reputation":21,"user_id":21198858,"display_name":"ayman dev"},"score":0,"creation_date":1679225798,"post_id":75781609,"comment_id":133679845,"body_markdown":"when I got to the administration/api section in jhipster app and execute get request for products, it returns this message:","body":"when I got to the administration/api section in jhipster app and execute get request for products, it returns this message:"},{"owner":{"account_id":27767891,"reputation":21,"user_id":21198858,"display_name":"ayman dev"},"score":1,"creation_date":1679225813,"post_id":75781609,"comment_id":133679847,"body_markdown":"{\n  &quot;type&quot;: &quot;https://www.jhipster.tech/problem/problem-with-message&quot;,\n  &quot;title&quot;: &quot;Internal Server Error&quot;,\n  &quot;status&quot;: 500,\n  &quot;detail&quot;: &quot;could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet&quot;,\n  &quot;path&quot;: &quot;/api/products&quot;,\n  &quot;message&quot;: &quot;error.http.500&quot;\n}","body":"{   &quot;type&quot;: &quot;<a href=\"https://www.jhipster.tech/problem/problem-with-message\" rel=\"nofollow noreferrer\">jhipster.tech/problem/problem-with-message</a>&quot;,   &quot;title&quot;: &quot;Internal Server Error&quot;,   &quot;status&quot;: 500,   &quot;detail&quot;: &quot;could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet&quot;,   &quot;path&quot;: &quot;/api/products&quot;,   &quot;message&quot;: &quot;error.http.500&quot; }"},{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1679266513,"post_id":75781609,"comment_id":133685966,"body_markdown":"Have a look at the java app logs, there must be an exception that is the cause of the http 500, itg&#39;s not something that  you can see in client.","body":"Have a look at the java app logs, there must be an exception that is the cause of the http 500, itg&#39;s not something that  you can see in client."}],"owner":{"account_id":27767891,"reputation":21,"user_id":21198858,"display_name":"ayman dev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679224843,"creation_date":1679224843,"question_id":75781609,"body_markdown":"so I cloned this jhipster project that a senior dev made. it&#39;s pretty empty he only added an entity called product using a csv file. \r\nafter spending a whole day to configure database server port. i got it working. \r\nso now I can sign in as admin and find the metrics for performance, api and everything. \r\nbut when I click entities/products the app throws a 500 connection error. \r\nI am unfamiliar with how mariadb works but I installed it \r\n\r\npossible reasons for this behavior: \r\n - I didn&#39;t configure any classpath when installing java/jhipster \r\n - I don&#39;t manually start the mysql server but the ports are configured\r\n - I didn&#39;t run any jdl command it was already ran in another pc before cloning\r\nI expect to see the products table when clicking entities/products","title":"jhipster 500 connection error but I can sign in but I can&#39;t see entities","body":"<p>so I cloned this jhipster project that a senior dev made. it's pretty empty he only added an entity called product using a csv file.\nafter spending a whole day to configure database server port. i got it working.\nso now I can sign in as admin and find the metrics for performance, api and everything.\nbut when I click entities/products the app throws a 500 connection error.\nI am unfamiliar with how mariadb works but I installed it</p>\n<p>possible reasons for this behavior:</p>\n<ul>\n<li>I didn't configure any classpath when installing java/jhipster</li>\n<li>I don't manually start the mysql server but the ports are configured</li>\n<li>I didn't run any jdl command it was already ran in another pc before cloning\nI expect to see the products table when clicking entities/products</li>\n</ul>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":20593,"reputation":11338,"user_id":49381,"accept_rate":80,"display_name":"Michael Williamson"},"score":0,"creation_date":1278587986,"post_id":3202897,"comment_id":3301276,"body_markdown":"Although it doesn&#39;t matter for smaller lists, it might be worth noting that I believe this takes quadratic time (or rather, if the list has n elements and you&#39;re removing m elements, it takes O(nm) time). If you use an `ArrayList`, removing an element takes O(n) time, so removing m items takes O(nm) time. For a `LinkedList`, reaching a random element in the list takes O(n) time, so reaching m elements takes O(nm) time.","body":"Although it doesn&#39;t matter for smaller lists, it might be worth noting that I believe this takes quadratic time (or rather, if the list has n elements and you&#39;re removing m elements, it takes O(nm) time). If you use an <code>ArrayList</code>, removing an element takes O(n) time, so removing m items takes O(nm) time. For a <code>LinkedList</code>, reaching a random element in the list takes O(n) time, so reaching m elements takes O(nm) time."}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1278587095,"creation_date":1278587095,"answer_id":3202897,"question_id":3202861,"body_markdown":"You shouldn&#39;t be &quot;checking&quot; anything to do that, you should do it so that duplicates never get added in the first place. To do that:\r\n\r\n 1. start with a `List&lt;String&gt;` of the options\r\n * copy the list\r\n * add a random element to the result \r\n * remove that element.\r\n * Go back to 3 until you&#39;ve added as many elements as you want or there aren&#39;t anymore left","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>You shouldn't be \"checking\" anything to do that, you should do it so that duplicates never get added in the first place. To do that:</p>\n\n<ol>\n<li>start with a <code>List&lt;String&gt;</code> of the options\n\n<ul>\n<li>copy the list</li>\n<li>add a random element to the result </li>\n<li>remove that element.</li>\n<li>Go back to 3 until you've added as many elements as you want or there aren't anymore left</li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":20593,"reputation":11338,"user_id":49381,"accept_rate":80,"display_name":"Michael Williamson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1278587740,"creation_date":1278587341,"answer_id":3202923,"question_id":3202861,"body_markdown":"A different option is to create a `List&lt;String&gt;` of all of the options, and use `Collections.shuffle` to randomly permute the list. You can then join together the first n elements.\r\n\r\nSince both `Collections.shuffle` and joining together the first n elements takes linear time, the entire process should take linear time.","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>A different option is to create a <code>List&lt;String&gt;</code> of all of the options, and use <code>Collections.shuffle</code> to randomly permute the list. You can then join together the first n elements.</p>\n\n<p>Since both <code>Collections.shuffle</code> and joining together the first n elements takes linear time, the entire process should take linear time.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1278587413,"creation_date":1278587413,"answer_id":3202932,"question_id":3202861,"body_markdown":"    import java.util.Random;\r\n    \r\n    public class Test {\r\n        public static void main(String args[]) {\r\n            String[] fruits = { &quot;apple&quot;, &quot;pear&quot;, &quot;orange&quot;, &quot;peach&quot;, &quot;cherry&quot; };\r\n            \r\n            StringBuilder sb = new StringBuilder(&quot;Some fruits: apple&quot;);\r\n            \r\n            Random r = new Random();\r\n            int N = 3;\r\n            for (int i = 0; i &lt; N; i++) {\r\n                String toAdd;\r\n                do {\r\n                    toAdd = fruits[r.nextInt(fruits.length)];\r\n                } while (sb.indexOf(toAdd) != -1);\r\n                \r\n                sb.append(&quot;, &quot; + toAdd);\r\n            }\r\n            \r\n            System.out.println(sb);\r\n        }    \r\n    }\r\n\r\nOutput:\r\n\r\n    Some fruits: apple, pear, orange, peach\r\n\r\n\r\n----------\r\n\r\nBut I agree with Michael Borgwardt on that it&#39;s a bad thing to check using index-of over and over again.","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<pre><code>import java.util.Random;\n\npublic class Test {\n    public static void main(String args[]) {\n        String[] fruits = { \"apple\", \"pear\", \"orange\", \"peach\", \"cherry\" };\n\n        StringBuilder sb = new StringBuilder(\"Some fruits: apple\");\n\n        Random r = new Random();\n        int N = 3;\n        for (int i = 0; i &lt; N; i++) {\n            String toAdd;\n            do {\n                toAdd = fruits[r.nextInt(fruits.length)];\n            } while (sb.indexOf(toAdd) != -1);\n\n            sb.append(\", \" + toAdd);\n        }\n\n        System.out.println(sb);\n    }    \n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Some fruits: apple, pear, orange, peach\n</code></pre>\n\n<hr>\n\n<p>But I agree with Michael Borgwardt on that it's a bad thing to check using index-of over and over again.</p>\n"},{"comments":[{"owner":{"account_id":20593,"reputation":11338,"user_id":49381,"accept_rate":80,"display_name":"Michael Williamson"},"score":0,"creation_date":1278593663,"post_id":3202953,"comment_id":3302068,"body_markdown":"The conditional checking whether `fruits` contains `fruit` is unnecessary -- adding a fruit that is already in the set leaves the set unchanged.","body":"The conditional checking whether <code>fruits</code> contains <code>fruit</code> is unnecessary -- adding a fruit that is already in the set leaves the set unchanged."},{"owner":{"account_id":10465788,"reputation":12056,"user_id":7715250,"accept_rate":74,"display_name":"J. Doe"},"score":0,"creation_date":1543501564,"post_id":3202953,"comment_id":93949249,"body_markdown":"This is a nice solution (making a set first :) ).","body":"This is a nice solution (making a set first :) )."}],"tags":[],"owner":{"account_id":161982,"reputation":546,"user_id":383163,"display_name":"Marc van Kempen"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1278595651,"creation_date":1278587640,"answer_id":3202953,"question_id":3202861,"body_markdown":"It is of course possible to check the string by iterating through it (e.g. use indexOf()), but I would use a Set in this particular instance to add the fruits (if it already exists it will not be added again), once you&#39;re done adding fruits convert the Set into a String, e.g.\r\n\r\n    Set&lt;String&gt; fruits = new HashSet&lt;String&gt;();\r\n    for (String fruit: fruitSource) {\r\n        fruits.add(fruit);\r\n    }\r\n    StringBuilder sb = new StringBuilder();\r\n    for (String fruit: fruits) {\r\n        sb.append(fruit);\r\n        sb.append(&quot;, &quot;);\r\n    }\r\n    return sb.toString();\r\n\r\n\r\n","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>It is of course possible to check the string by iterating through it (e.g. use indexOf()), but I would use a Set in this particular instance to add the fruits (if it already exists it will not be added again), once you're done adding fruits convert the Set into a String, e.g.</p>\n\n<pre><code>Set&lt;String&gt; fruits = new HashSet&lt;String&gt;();\nfor (String fruit: fruitSource) {\n    fruits.add(fruit);\n}\nStringBuilder sb = new StringBuilder();\nfor (String fruit: fruits) {\n    sb.append(fruit);\n    sb.append(\", \");\n}\nreturn sb.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":333664,"reputation":3932,"user_id":659634,"accept_rate":91,"display_name":"Whitecat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476914146,"creation_date":1476914146,"answer_id":40142159,"question_id":3202861,"body_markdown":"A simple way to do it is similar to [Marc van Kempen][1]&#39;s solution but smaller.\r\n\r\n\r\n    Set&lt;String&gt; fruits = new HashSet&lt;String&gt;();\r\n    StringBuilder sb = new StringBuilder();\r\n    for (String fruit: fruits) {\r\n        if(fruits.add(fruit)){\r\n            sb.append(fruit);\r\n            sb.append(&quot;, &quot;);\r\n        }\r\n    }\r\n    return sb.toString();\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/383163/marc-van-kempen","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>A simple way to do it is similar to <a href=\"https://stackoverflow.com/users/383163/marc-van-kempen\">Marc van Kempen</a>'s solution but smaller.</p>\n\n<pre><code>Set&lt;String&gt; fruits = new HashSet&lt;String&gt;();\nStringBuilder sb = new StringBuilder();\nfor (String fruit: fruits) {\n    if(fruits.add(fruit)){\n        sb.append(fruit);\n        sb.append(\", \");\n    }\n}\nreturn sb.toString();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5709614,"reputation":433,"user_id":4512086,"display_name":"Mindaugas K."},"score":9,"creation_date":1515233280,"post_id":42479633,"comment_id":83229204,"body_markdown":"better use indexOf","body":"better use indexOf"}],"tags":[],"owner":{"account_id":6515387,"reputation":257,"user_id":5041387,"display_name":"swapnil bhosale"},"comment_count":1,"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1488180063,"creation_date":1488179014,"answer_id":42479633,"question_id":3202861,"body_markdown":"The `StringBuilder` class does not have a `contains()` method, but `String` does. So you can use `StringBuilder` to build a string by using `toString()`. Then call `contains()` on it, to check if it contains that character or string.\r\n\r\n**Example:**  \r\n\r\n    stringBuilder.toString().contains(characterYouWantToCheck)","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>The <code>StringBuilder</code> class does not have a <code>contains()</code> method, but <code>String</code> does. So you can use <code>StringBuilder</code> to build a string by using <code>toString()</code>. Then call <code>contains()</code> on it, to check if it contains that character or string.</p>\n\n<p><strong>Example:</strong>  </p>\n\n<pre><code>stringBuilder.toString().contains(characterYouWantToCheck)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5981952,"reputation":1949,"user_id":5320300,"accept_rate":76,"display_name":"Simon Baars"},"comment_count":0,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1679224560,"creation_date":1522050596,"answer_id":49486437,"question_id":3202861,"body_markdown":"The `StringBuilder` class does not have a `contains()` method, but it does have an `indexOf()` method. The `indexOf()` method returns `-1` when the substring is not found.\r\n\r\n**Example:**\r\n\r\n    stringBuilder.indexOf(charactersYouWantToCheck) != -1\r\n\r\n","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>The <code>StringBuilder</code> class does not have a <code>contains()</code> method, but it does have an <code>indexOf()</code> method. The <code>indexOf()</code> method returns <code>-1</code> when the substring is not found.</p>\n<p><strong>Example:</strong></p>\n<pre><code>stringBuilder.indexOf(charactersYouWantToCheck) != -1\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10549874,"reputation":1,"user_id":7772886,"display_name":"Aaditya Kavthekar"},"score":0,"creation_date":1577814910,"post_id":59547151,"comment_id":105263311,"body_markdown":"strb2.indexOf(String.valueOf(strb1.charAt(i))","body":"strb2.indexOf(String.valueOf(strb1.charAt(i))"}],"tags":[],"owner":{"account_id":10549874,"reputation":1,"user_id":7772886,"display_name":"Aaditya Kavthekar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577843542,"creation_date":1577814703,"answer_id":59547151,"question_id":3202861,"body_markdown":"    strb2.indexOf(String.valueOf(strb1.charAt(i))\r\n\r\n`strb2` and `strb1` are objects of `StringBuilder` class. If the letter is present, it will return its index else `-1.`","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<pre><code>strb2.indexOf(String.valueOf(strb1.charAt(i))\n</code></pre>\n\n<p><code>strb2</code> and <code>strb1</code> are objects of <code>StringBuilder</code> class. If the letter is present, it will return its index else <code>-1.</code></p>\n"},{"tags":[],"owner":{"account_id":18504423,"reputation":1,"user_id":13481043,"display_name":"Sai Nikhil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588752027,"creation_date":1588752027,"answer_id":61630157,"question_id":3202861,"body_markdown":"Java StringBuilder doesn&#39;t have **contains** method \r\nSo you can check whether a string or character contains in the StringBuilder as below:\r\n\r\n    StingBuilder sb = new StringBuilder(&quot;apple, pear, orange, peach, cherry&quot;);\r\n    if(sb.indexOf(&quot;someFruit&quot;) == -1) {\r\n       //you can insert\r\n    } else {\r\n       // do something\r\n    }\r\n\r\n","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>Java StringBuilder doesn't have <strong>contains</strong> method \nSo you can check whether a string or character contains in the StringBuilder as below:</p>\n\n<pre><code>StingBuilder sb = new StringBuilder(\"apple, pear, orange, peach, cherry\");\nif(sb.indexOf(\"someFruit\") == -1) {\n   //you can insert\n} else {\n   // do something\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6801868,"reputation":738,"user_id":5234943,"display_name":"Hard_Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597000595,"creation_date":1597000595,"answer_id":63330388,"question_id":3202861,"body_markdown":"    //StringBuilder object\r\n\r\n        StringBuilder sb = new StringBuilder(&quot;One Two Three&quot;);\r\n        \r\n        System.out.println( contains(sb, &quot;One&quot;) );\r\n        System.out.println( contains(sb, &quot;Two&quot;) );\r\n        System.out.println( contains(sb, &quot;Five&quot;) );\r\n\r\n\r\nOutput:\r\n\r\n    true\r\n    true\r\n    false","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<pre><code>//StringBuilder object\n\n    StringBuilder sb = new StringBuilder(&quot;One Two Three&quot;);\n    \n    System.out.println( contains(sb, &quot;One&quot;) );\n    System.out.println( contains(sb, &quot;Two&quot;) );\n    System.out.println( contains(sb, &quot;Five&quot;) );\n</code></pre>\n<p>Output:</p>\n<pre><code>true\ntrue\nfalse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20351631,"reputation":27,"user_id":14928188,"display_name":"Pankaj Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622045046,"creation_date":1622026861,"answer_id":67703580,"question_id":3202861,"body_markdown":"`StringBuilder` doesn&#39;t have a `contains()` method, but it does have the `indexOf()` method. Therefore, you can check for the index of character and if it returns `-1`, the character is not present in the `StringBuilder`.\r\n\r\n```\r\nStringBuilder sb = new StringBuilder();\r\n\r\nif(sb.indexOf(CharacterYouWantToCheck) != -1){\r\n   //sb contains character\r\n}\r\n```","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p><code>StringBuilder</code> doesn't have a <code>contains()</code> method, but it does have the <code>indexOf()</code> method. Therefore, you can check for the index of character and if it returns <code>-1</code>, the character is not present in the <code>StringBuilder</code>.</p>\n<pre><code>StringBuilder sb = new StringBuilder();\n\nif(sb.indexOf(CharacterYouWantToCheck) != -1){\n   //sb contains character\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4980140,"reputation":3385,"user_id":4005379,"accept_rate":64,"display_name":"Alferd Nobel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653073673,"creation_date":1653073673,"answer_id":72323777,"question_id":3202861,"body_markdown":"Here I iterate through the String to find a matching char in the StringBuilder using `chars().forEach()`\r\n\r\n    public static void findMatch(String s){\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;can&quot;);\r\n        s.chars().forEach(i -&gt; {\r\n\r\n            if(sb.indexOf(String.valueOf((char)i))!= -1)\r\n                System.out.println(&quot;Found char is &quot;+String.valueOf((char)i));\r\n        });","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>Here I iterate through the String to find a matching char in the StringBuilder using <code>chars().forEach()</code></p>\n<pre><code>public static void findMatch(String s){\n\n    StringBuilder sb = new StringBuilder();\n    sb.append(&quot;can&quot;);\n    s.chars().forEach(i -&gt; {\n\n        if(sb.indexOf(String.valueOf((char)i))!= -1)\n            System.out.println(&quot;Found char is &quot;+String.valueOf((char)i));\n    });\n</code></pre>\n"}],"owner":{"account_id":164026,"reputation":441,"user_id":386537,"accept_rate":0,"display_name":"user386537"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81981,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"answer_count":12,"score":31,"last_activity_date":1679224560,"creation_date":1278586821,"question_id":3202861,"body_markdown":"I want to check if a Java `StringBuilder` object contains a character.\r\n\r\nFor example I have a list of foods in an array {apple, pear, orange, peach, cherry} and I want to add a random number of these food types to the StringBuilder. \r\n\r\nHow would I check if StringBuilder contains a character?\r\n","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>I want to check if a Java <code>StringBuilder</code> object contains a character.</p>\n\n<p>For example I have a list of foods in an array {apple, pear, orange, peach, cherry} and I want to add a random number of these food types to the StringBuilder. </p>\n\n<p>How would I check if StringBuilder contains a character?</p>\n"},{"tags":["java","scala","jar","compilation"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1679224239,"post_id":75781472,"comment_id":133679632,"body_markdown":"Does this answer your question? [Java resource as File](https://stackoverflow.com/questions/676097/java-resource-as-file) (look at the accepted answer)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/676097/java-resource-as-file\">Java resource as File</a> (look at the accepted answer)"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1679238513,"post_id":75781472,"comment_id":133681573,"body_markdown":"The beginning was here https://stackoverflow.com/questions/75776876/reading-the-content-of-a-directory-in-scala","body":"The beginning was here <a href=\"https://stackoverflow.com/questions/75776876/reading-the-content-of-a-directory-in-scala\" title=\"reading the content of a directory in scala\">stackoverflow.com/questions/75776876/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679224375,"creation_date":1679224375,"answer_id":75781575,"question_id":75781472,"body_markdown":"`Class::getResource()` does not read a &quot;file&quot; (or does not provide the URL for a &quot;file&quot;), at least not as you would expect.\r\n\r\nAn instance of `File` lives in the file system of your machine, but a resource lives on the CLASSPATH of your program. As long as you did not create a Jar, this is the same (and `Class::getResource()` returns a `file://` URL), but once you created the Jar, this is different (and the URL starts with `jar://`).\r\n\r\nFor the latter the handling of &quot;directories&quot; looks a little bit different than for regular files.","title":"Can&#39;t find a directory within the jar of Scala project","body":"<p><code>Class::getResource()</code> does not read a &quot;file&quot; (or does not provide the URL for a &quot;file&quot;), at least not as you would expect.</p>\n<p>An instance of <code>File</code> lives in the file system of your machine, but a resource lives on the CLASSPATH of your program. As long as you did not create a Jar, this is the same (and <code>Class::getResource()</code> returns a <code>file://</code> URL), but once you created the Jar, this is different (and the URL starts with <code>jar://</code>).</p>\n<p>For the latter the handling of &quot;directories&quot; looks a little bit different than for regular files.</p>\n"}],"owner":{"account_id":23560691,"reputation":5,"user_id":17602095,"display_name":"forvev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679224375,"creation_date":1679223079,"question_id":75781472,"body_markdown":"Having this snippet of code:\r\n\r\n    val xml_folder_2 = getClass.getResource(&quot;xml-files&quot;)\r\n    val resourcePath = Paths.get(URLDecoder.decode(xml_folder_2.getFile, &quot;UTF-8&quot;)).toString.replace(&quot;!&quot;,&quot;&quot;)\r\n    val dir_path = new File(resourcePath).listFiles.map(_.getPath)\r\n\r\nEverything works perfectly until I want to run a jar file. The first line finds the desired directory, second one decodes some unnecessary stuff from the path, and the third one tries to find the directory and list the files inside.\r\nIn case of IntelliJ compilation it works well, but once I run the jar file the error says:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read\r\n&gt; the array length because &quot;$this&quot; is null\r\n\r\nSo it means that the program couldn&#39;t find &quot;xml-files&quot; (when I want to create new variable &quot;dir_path&quot; it fails). I tried to hardcode each step, and I noticed that the jar file sees the path to the desired directory e.g. /desktop/my_jar.jar/xml-files, but it still throws out the error. \r\n\r\nDoes anyone have an idea how to figure it out?\r\n\r\nPS: I tried to hardcode the path inside &quot;new File(path)&quot; in many different ways, but it didn&#39;t help.","title":"Can&#39;t find a directory within the jar of Scala project","body":"<p>Having this snippet of code:</p>\n<pre><code>val xml_folder_2 = getClass.getResource(&quot;xml-files&quot;)\nval resourcePath = Paths.get(URLDecoder.decode(xml_folder_2.getFile, &quot;UTF-8&quot;)).toString.replace(&quot;!&quot;,&quot;&quot;)\nval dir_path = new File(resourcePath).listFiles.map(_.getPath)\n</code></pre>\n<p>Everything works perfectly until I want to run a jar file. The first line finds the desired directory, second one decodes some unnecessary stuff from the path, and the third one tries to find the directory and list the files inside.\nIn case of IntelliJ compilation it works well, but once I run the jar file the error says:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read\nthe array length because &quot;$this&quot; is null</p>\n</blockquote>\n<p>So it means that the program couldn't find &quot;xml-files&quot; (when I want to create new variable &quot;dir_path&quot; it fails). I tried to hardcode each step, and I noticed that the jar file sees the path to the desired directory e.g. /desktop/my_jar.jar/xml-files, but it still throws out the error.</p>\n<p>Does anyone have an idea how to figure it out?</p>\n<p>PS: I tried to hardcode the path inside &quot;new File(path)&quot; in many different ways, but it didn't help.</p>\n"},{"tags":["java","performance","java-8","java-stream"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":1,"creation_date":1627898466,"post_id":68619335,"comment_id":121269957,"body_markdown":"Parallel is likely to be slower when the task is very simple, such as in this case. There is overhead involved. In particular with parallel findAny should be as fast or faster than findFirst as it can use any match (doesn&#39;t have to be sure it is the first). The examples do not do the same thing. Normal version iterates over the keys, the other over the entries. Apart from that I would have guessed the non-parellel streams version to be comparable with the the non-streams version.","body":"Parallel is likely to be slower when the task is very simple, such as in this case. There is overhead involved. In particular with parallel findAny should be as fast or faster than findFirst as it can use any match (doesn&#39;t have to be sure it is the first). The examples do not do the same thing. Normal version iterates over the keys, the other over the entries. Apart from that I would have guessed the non-parellel streams version to be comparable with the the non-streams version."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1627899144,"post_id":68619335,"comment_id":121270210,"body_markdown":"Streams allocate a whole lot of extra objects (no that&#39;s absolutely not free, despite old claims to it) and all the 2nd order functions make it waaay harder (in practice even impossible) for the compiler to do many optimizations. So yes, while many people are ignorant to it, if you need high performant code streams are a bad choice. In many situations the performance overhead is not that important given the much cleaner code though. That said using parallel here is probably the biggest performance killer.","body":"Streams allocate a whole lot of extra objects (no that&#39;s absolutely not free, despite old claims to it) and all the 2nd order functions make it waaay harder (in practice even impossible) for the compiler to do many optimizations. So yes, while many people are ignorant to it, if you need high performant code streams are a bad choice. In many situations the performance overhead is not that important given the much cleaner code though. That said using parallel here is probably the biggest performance killer."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1627921053,"post_id":68619335,"comment_id":121279394,"body_markdown":"You [shall benchmark](https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java) to prove them wrong and conclude your learnings.","body":"You <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\">shall benchmark</a> to prove them wrong and conclude your learnings."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1627932764,"post_id":68619335,"comment_id":121283183,"body_markdown":"@Naman Microbenchmarks are hard to write, but the listed code runs more than long enough and produces relevant output so that measuring inaccuracies and compiler optimizations are irrelevant.","body":"@Naman Microbenchmarks are hard to write, but the listed code runs more than long enough and produces relevant output so that measuring inaccuracies and compiler optimizations are irrelevant."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1627961784,"post_id":68619335,"comment_id":121288375,"body_markdown":"@Voo not sure what you mean by &quot;runs more than long enough&quot; and &quot;measuring inaccuracies and compiler optimizations are irrelevant.&quot;, benchmarking would be more about comparing the performances and understanding which one amongst the shared snippet performs better.","body":"@Voo not sure what you mean by &quot;runs more than long enough&quot; and &quot;measuring inaccuracies and compiler optimizations are irrelevant.&quot;, benchmarking would be more about comparing the performances and understanding which one amongst the shared snippet performs better."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1627970567,"post_id":68619335,"comment_id":121289946,"body_markdown":"@Naman The point is that the programs will easily run for a second or more at which point we&#39;re out of microbenchmark territory and you can simply compare the runtime. (you can easily also write microbenchmarks that will show that streams have a noticeable performance overhead if you so wish)","body":"@Naman The point is that the programs will easily run for a second or more at which point we&#39;re out of microbenchmark territory and you can simply compare the runtime. (you can easily also write microbenchmarks that will show that streams have a noticeable performance overhead if you so wish)"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1628014243,"post_id":68619335,"comment_id":121307666,"body_markdown":"That depends on what your test data constitutes of @Voo. Just to convey my opinion, I might as well believe you if you have the data specific to the shared use case. :)","body":"That depends on what your test data constitutes of @Voo. Just to convey my opinion, I might as well believe you if you have the data specific to the shared use case. :)"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1628958966,"post_id":68619335,"comment_id":121562342,"body_markdown":"Streams in general are not as efficient as non-stream based code.  There is quite a bit of overhead to them.  Imo, they have two main adantages.   1) based on the proficiency of the programmer, they permit verbose tasks to be constructed quickly and more closely follow the problem statement.  2)  In a multicore environment with lots of data to process they can spare the programmer the headaches of managing threads.","body":"Streams in general are not as efficient as non-stream based code.  There is quite a bit of overhead to them.  Imo, they have two main adantages.   1) based on the proficiency of the programmer, they permit verbose tasks to be constructed quickly and more closely follow the problem statement.  2)  In a multicore environment with lots of data to process they can spare the programmer the headaches of managing threads."},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1667815965,"post_id":68619335,"comment_id":131249500,"body_markdown":"Just to add that codility *probably* runs the tests in a single core container to reduce costs, so any parallel code will just add overhead and bring no benefits. I&#39;m not sure if you can see the output of the call to `Runtime.getRuntime().availableProcessors()` (this is not 100% accurate, but it&#39;s the best).","body":"Just to add that codility <i>probably</i> runs the tests in a single core container to reduce costs, so any parallel code will just add overhead and bring no benefits. I&#39;m not sure if you can see the output of the call to <code>Runtime.getRuntime().availableProcessors()</code> (this is not 100% accurate, but it&#39;s the best)."}],"answers":[{"tags":[],"owner":{"account_id":367521,"reputation":6910,"user_id":713777,"accept_rate":90,"display_name":"Ahmed Ghoneim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679222699,"creation_date":1679222699,"answer_id":75781434,"question_id":68619335,"body_markdown":"Codility fixed it, and all solutions are getting total of 100% (Performance 100%)","title":"Java Streams 0% Performance on Codility","body":"<p>Codility fixed it, and all solutions are getting total of 100% (Performance 100%)</p>\n"}],"owner":{"account_id":367521,"reputation":6910,"user_id":713777,"accept_rate":90,"display_name":"Ahmed Ghoneim"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75781434,"answer_count":1,"score":1,"last_activity_date":1679222699,"creation_date":1627896961,"question_id":68619335,"body_markdown":"Regarding Codility&#39;s lesson [OddOccurrencesInArray][1]\r\n\r\nI got total of 66% (Performance 0%) using the following code:\r\n\r\n    public int solution(int[] A) {\r\n        return Arrays\r\n                .stream(A)\r\n                .parallel()\r\n                .boxed()\r\n                .collect(Collectors.groupingBy(n -&gt; n, Collectors.counting()))\r\n                .entrySet()\r\n                .parallelStream()\r\n                .filter(entry -&gt; entry.getValue() % 2 != 0)\r\n                .findAny()\r\n                .map(Map.Entry::getKey)\r\n                .orElseThrow();\r\n    }\r\n\r\nHowever, I got total of 100% (Performance 100%) using code from [here][2]:\r\n\r\n    public int solution(int[] A) {\r\n        HashMap&lt;Integer, Integer&gt; histogram = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; A.length; i++) {\r\n            if (histogram.containsKey(A[i])) {\r\n                int occurrences = histogram.get(A[i]);\r\n                occurrences++;\r\n                histogram.put(A[i], occurrences);\r\n            } else {\r\n                histogram.put(A[i], 1);\r\n            }\r\n        }\r\n        Set&lt;Integer&gt; keySet = histogram.keySet();\r\n        for (int currentKey : keySet) {\r\n            int occurrences = histogram.get(currentKey);\r\n            if (occurrences % 2 != 0) return currentKey;\r\n        }\r\n        throw new RuntimeException();\r\n    }\r\n\r\nThe following hybrid solution got total of 88% (1 Performace test failed):\r\n\r\n    public int solution(int[] A) {\r\n        HashMap&lt;Integer, Integer&gt; histogram = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; A.length; i++) {\r\n            if (histogram.containsKey(A[i])) {\r\n                int occurrences = histogram.get(A[i]);\r\n                occurrences++;\r\n                histogram.put(A[i], occurrences);\r\n            } else {\r\n                histogram.put(A[i], 1);\r\n            }\r\n        }\r\n        return histogram.entrySet()\r\n                .parallelStream()\r\n                .filter(n -&gt; (n.getValue() % 2 != 0))\r\n                .findAny()\r\n                .map(Map.Entry::getKey)\r\n                .orElseThrow();\r\n    }\r\n\r\nI also tried to change all `parallelStream()` to `stream()`. Same results!\r\n\r\nAre streams less efficient? or it&#39;s just Codility?\r\n\r\n  [1]: https://app.codility.com/programmers/lessons/2-arrays/odd_occurrences_in_array/\r\n  [2]: https://funnelgarden.com/odd-occurrences-in-array-codility-solution/","title":"Java Streams 0% Performance on Codility","body":"<p>Regarding Codility's lesson <a href=\"https://app.codility.com/programmers/lessons/2-arrays/odd_occurrences_in_array/\" rel=\"nofollow noreferrer\">OddOccurrencesInArray</a></p>\n<p>I got total of 66% (Performance 0%) using the following code:</p>\n<pre><code>public int solution(int[] A) {\n    return Arrays\n            .stream(A)\n            .parallel()\n            .boxed()\n            .collect(Collectors.groupingBy(n -&gt; n, Collectors.counting()))\n            .entrySet()\n            .parallelStream()\n            .filter(entry -&gt; entry.getValue() % 2 != 0)\n            .findAny()\n            .map(Map.Entry::getKey)\n            .orElseThrow();\n}\n</code></pre>\n<p>However, I got total of 100% (Performance 100%) using code from <a href=\"https://funnelgarden.com/odd-occurrences-in-array-codility-solution/\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre><code>public int solution(int[] A) {\n    HashMap&lt;Integer, Integer&gt; histogram = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; A.length; i++) {\n        if (histogram.containsKey(A[i])) {\n            int occurrences = histogram.get(A[i]);\n            occurrences++;\n            histogram.put(A[i], occurrences);\n        } else {\n            histogram.put(A[i], 1);\n        }\n    }\n    Set&lt;Integer&gt; keySet = histogram.keySet();\n    for (int currentKey : keySet) {\n        int occurrences = histogram.get(currentKey);\n        if (occurrences % 2 != 0) return currentKey;\n    }\n    throw new RuntimeException();\n}\n</code></pre>\n<p>The following hybrid solution got total of 88% (1 Performace test failed):</p>\n<pre><code>public int solution(int[] A) {\n    HashMap&lt;Integer, Integer&gt; histogram = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; A.length; i++) {\n        if (histogram.containsKey(A[i])) {\n            int occurrences = histogram.get(A[i]);\n            occurrences++;\n            histogram.put(A[i], occurrences);\n        } else {\n            histogram.put(A[i], 1);\n        }\n    }\n    return histogram.entrySet()\n            .parallelStream()\n            .filter(n -&gt; (n.getValue() % 2 != 0))\n            .findAny()\n            .map(Map.Entry::getKey)\n            .orElseThrow();\n}\n</code></pre>\n<p>I also tried to change all <code>parallelStream()</code> to <code>stream()</code>. Same results!</p>\n<p>Are streams less efficient? or it's just Codility?</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1679178653,"post_id":75778558,"comment_id":133675842,"body_markdown":"Stepping back a moment: when you have this type of many-to-many relationship, sometimes the best thing to do is to create a junction relationship between the two (DB terms). In other words, rather than each `User` having a list of other `User`s involved in ducking each other [sic.], you can instead have a list of &quot;duckings&quot; that happened (e.g. a `List&lt;Pair&lt;User, User&gt;&gt;`, where the first user &quot;ducked&quot; the second). This provides a decoupling of the User from the action you are trying to track here, and they can be loaded or queried separately.","body":"Stepping back a moment: when you have this type of many-to-many relationship, sometimes the best thing to do is to create a junction relationship between the two (DB terms). In other words, rather than each <code>User</code> having a list of other <code>User</code>s involved in ducking each other [sic.], you can instead have a list of &quot;duckings&quot; that happened (e.g. a <code>List&lt;Pair&lt;User, User&gt;&gt;</code>, where the first user &quot;ducked&quot; the second). This provides a decoupling of the User from the action you are trying to track here, and they can be loaded or queried separately."},{"owner":{"account_id":28053004,"reputation":39,"user_id":21428561,"display_name":"Lucas Tomic"},"score":1,"creation_date":1679212312,"post_id":75778558,"comment_id":133678279,"body_markdown":"That&#39;s a good idea. I&#39;ll implement it nad upload the code. Thank you","body":"That&#39;s a good idea. I&#39;ll implement it nad upload the code. Thank you"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1679315348,"post_id":75778558,"comment_id":133694000,"body_markdown":"See @JsonIdentityInfo which is closer to what you want- it will trim repeats in a graph so that only the ID is included. See https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion","body":"See @JsonIdentityInfo which is closer to what you want- it will trim repeats in a graph so that only the ID is included. See <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1679315031,"post_id":75781398,"comment_id":133693894,"body_markdown":"How though does this resolve your issue? User A and B still can ‘duck’ each other concurrently same as before. Only change is you now have access to state in the relationship (there isn’t any, but could be later). Querying options are similar as well. Json with this as is will have circular references- a stackoverflow exception","body":"How though does this resolve your issue? User A and B still can ‘duck’ each other concurrently same as before. Only change is you now have access to state in the relationship (there isn’t any, but could be later). Querying options are similar as well. Json with this as is will have circular references- a stackoverflow exception"},{"owner":{"account_id":28053004,"reputation":39,"user_id":21428561,"display_name":"Lucas Tomic"},"score":0,"creation_date":1679394151,"post_id":75781398,"comment_id":133709930,"body_markdown":"No, because the property duckedUsers and receivedDuckFrom are not in the User class anymore. So, there is no circular reference.","body":"No, because the property duckedUsers and receivedDuckFrom are not in the User class anymore. So, there is no circular reference."}],"tags":[],"owner":{"account_id":28053004,"reputation":39,"user_id":21428561,"display_name":"Lucas Tomic"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679222284,"creation_date":1679222284,"answer_id":75781398,"question_id":75778558,"body_markdown":"As @Rogue has explained in the comments, the better solution was decoupling the User entity and the Ducks relations. This is how the code has ended:\r\n\r\nUser entity\r\n\r\n    @Entity\r\n    public class User{\r\n    \r\n        @OneToMany(mappedBy = &quot;sender&quot;)\r\n        private Set&lt;Duck&gt; ducksSent;\r\n    \r\n        @OneToMany(mappedBy = &quot;receiver&quot;)\r\n        private Set&lt;Duck&gt; ducksReceived;\r\n    \r\n        //Constructor, getters and setters....\r\n    }\r\n\r\n \r\nDuck entity\r\n\r\n    @Entity\r\n    public class Duck {\r\n       \r\n        @EmbeddedId\r\n        private DuckId id;\r\n        \r\n        @ManyToOne\r\n        @MapsId(&quot;senderId&quot;)\r\n        private User sender;\r\n        \r\n        @ManyToOne\r\n        @MapsId(&quot;receiverId&quot;)\r\n        private User receiver;\r\n    \r\n    \r\n        public Duck(User sender, User receiver) {\r\n            this.sender = sender;\r\n            this.receiver = receiver;\r\n            this.id = new DuckId(sender.getId(),receiver.getId());\r\n        }\r\n\r\n        //getters and setters....\r\n    }\r\n\r\n\r\n\r\n","title":"How to handle a circular reference when it is a single property?","body":"<p>As @Rogue has explained in the comments, the better solution was decoupling the User entity and the Ducks relations. This is how the code has ended:</p>\n<p>User entity</p>\n<pre><code>@Entity\npublic class User{\n\n    @OneToMany(mappedBy = &quot;sender&quot;)\n    private Set&lt;Duck&gt; ducksSent;\n\n    @OneToMany(mappedBy = &quot;receiver&quot;)\n    private Set&lt;Duck&gt; ducksReceived;\n\n    //Constructor, getters and setters....\n}\n</code></pre>\n<p>Duck entity</p>\n<pre><code>@Entity\npublic class Duck {\n   \n    @EmbeddedId\n    private DuckId id;\n    \n    @ManyToOne\n    @MapsId(&quot;senderId&quot;)\n    private User sender;\n    \n    @ManyToOne\n    @MapsId(&quot;receiverId&quot;)\n    private User receiver;\n\n\n    public Duck(User sender, User receiver) {\n        this.sender = sender;\n        this.receiver = receiver;\n        this.id = new DuckId(sender.getId(),receiver.getId());\n    }\n\n    //getters and setters....\n}\n</code></pre>\n"}],"owner":{"account_id":28053004,"reputation":39,"user_id":21428561,"display_name":"Lucas Tomic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75781398,"answer_count":1,"score":2,"last_activity_date":1679222284,"creation_date":1679172164,"question_id":75778558,"body_markdown":"I&#39;m in a Spring project where I find myself with a circular reference problem that&#39;s a bit different from the ones already posted here (at least the ones I managed to find).\r\n\r\n## Class structure\r\n\r\nThe application has a user class/entity. This entity can send &quot;ducks&quot; to other users. It has an aggregation relationship (a list) with the users who have been sent a &quot;duck&quot;, and another list with the users who have sent you one. (It is an M-N cardinality relationship)\r\n\r\n```\r\n@Entity\r\npublic class User{\r\n    @ManyToMany\r\n    @JsonManagedReference\r\n    @JoinTable(\r\n        name = &quot;sendsDuck&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;sender&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;receiver&quot;)\r\n    )\r\n    private Set&lt;User&gt; duckedUsers;\r\n\r\n    @ManyToMany(mappedBy = &quot;duckedUsers&quot;)\r\n    @JsonBackReference\r\n    private set &lt;User&gt; receivesDuckFrom;\r\n    \r\n    //Getters and setters\r\n    ...\r\n\r\n}\r\n```\r\n\r\nAs you can see I have added the `@JsonManagedReference` and `@JsonBackReference` tags to precisely avoid self-reference or cyclic reference.\r\n\r\n## Problem\r\n\r\nThe problem is, when one user sends a &quot;duck&quot; to another, the tags I mentioned above fixed the circular referencing problem. However, when two users send sensitive ducks to each other (A sends to B and B sends to A) I have a circular reference that I don&#39;t know how to handle.\r\n\r\nThis is because both objects have the other within the same `duckedUsers` property.\r\n\r\n## What have I tried so far?\r\n\r\nThis is a list of the attempts I have made so far but haven&#39;t worked:\r\n\r\n- @JsonIgnore\r\n\r\nThis annotation works fine if I put it on the `duckedUsers` property. However, the API client needs to know the data of the users to whom it sent a duck, so this solution is not sufficient for my case.\r\n\r\n- @JsonManagedReference and @JsonBackReference on the same property\r\n\r\nBit of a silly attempt, but try using both annotations on the same property, even though they didn&#39;t make much sense. Also without success.\r\n\r\n```\r\n    @ManyToMany\r\n    @JsonManagedReference\r\n    @JoinTable(\r\n            name = &quot;sendsDuck&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;sender&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;receiver&quot;)\r\n    )\r\n```\r\n\r\n- Object Mapper\r\n\r\nInside the controller, try using an objectMapper configured in the following ways:\r\n\r\n```\r\nObjectMapper().configure(SerializationFeature.WRITE_SELF_REFERENCES_AS_NULL, true);\r\n```\r\n\r\n```\r\nObjectMapper().configure(SerializationFeature.FAIL_ON_SELF_REFERENCES, false);\r\n```\r\n\r\nAnd using it like this:\r\n\r\n```\r\n    @PostMapping(&quot;/sendDuck&quot;)\r\n    ResponseEntity sendDuck(@RequestParam Long transmitterId, @RequestParam Long receiverId) {\r\n        User transmitter = this.findOrThrow(transmitterId);\r\n        User receiver = this.findOrThrow(receiverId);\r\n        transmitter.sendsDuck(receiver);\r\n        repository.save(transmitter);\r\n        repository.save(receiver);\r\n        List&lt;User&gt; usersList = List.of(receiver, transmitter);\r\n        CollectionModel&lt;EntityModel&lt;User&gt;&gt; body = this.collectionModelFromList(usersList);\r\n        try{\r\n            String serializedBody = objectMapper.writeValueAsString(body);\r\n            return ResponseEntity.ok().body(body);\r\n        }catch (IOException ex){\r\n            String errorMessage = &quot;JSON serializing error: &quot; + ex.getMessage();\r\n            return ResponseEntity.internalServerError().body(errorMessage);\r\n        }\r\n    }\r\n```\r\n\r\nThis attempt was also unsuccessful.\r\n\r\n## How do I think the solution should look like?\r\nFrom what I&#39;ve seen so far, I understand that what I&#39;m looking to achieve would be a JSON response that works in a way that the `@JsonIgnore` is applied only if the entity is a child in the response. Something like that:\r\n\r\n```\r\n{\r\n   id:1,\r\n   ...\r\n   duckedUsers:[\r\n      {\r\n         id:1,\r\n         ... \r\n         duckedUsers:... //This must NOT appear as is a child entity\r\n      },\r\n   ]\r\n}\r\n```","title":"How to handle a circular reference when it is a single property?","body":"<p>I'm in a Spring project where I find myself with a circular reference problem that's a bit different from the ones already posted here (at least the ones I managed to find).</p>\n<h2>Class structure</h2>\n<p>The application has a user class/entity. This entity can send &quot;ducks&quot; to other users. It has an aggregation relationship (a list) with the users who have been sent a &quot;duck&quot;, and another list with the users who have sent you one. (It is an M-N cardinality relationship)</p>\n<pre><code>@Entity\npublic class User{\n    @ManyToMany\n    @JsonManagedReference\n    @JoinTable(\n        name = &quot;sendsDuck&quot;,\n        joinColumns = @JoinColumn(name = &quot;sender&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;receiver&quot;)\n    )\n    private Set&lt;User&gt; duckedUsers;\n\n    @ManyToMany(mappedBy = &quot;duckedUsers&quot;)\n    @JsonBackReference\n    private set &lt;User&gt; receivesDuckFrom;\n    \n    //Getters and setters\n    ...\n\n}\n</code></pre>\n<p>As you can see I have added the <code>@JsonManagedReference</code> and <code>@JsonBackReference</code> tags to precisely avoid self-reference or cyclic reference.</p>\n<h2>Problem</h2>\n<p>The problem is, when one user sends a &quot;duck&quot; to another, the tags I mentioned above fixed the circular referencing problem. However, when two users send sensitive ducks to each other (A sends to B and B sends to A) I have a circular reference that I don't know how to handle.</p>\n<p>This is because both objects have the other within the same <code>duckedUsers</code> property.</p>\n<h2>What have I tried so far?</h2>\n<p>This is a list of the attempts I have made so far but haven't worked:</p>\n<ul>\n<li>@JsonIgnore</li>\n</ul>\n<p>This annotation works fine if I put it on the <code>duckedUsers</code> property. However, the API client needs to know the data of the users to whom it sent a duck, so this solution is not sufficient for my case.</p>\n<ul>\n<li>@JsonManagedReference and @JsonBackReference on the same property</li>\n</ul>\n<p>Bit of a silly attempt, but try using both annotations on the same property, even though they didn't make much sense. Also without success.</p>\n<pre><code>    @ManyToMany\n    @JsonManagedReference\n    @JoinTable(\n            name = &quot;sendsDuck&quot;,\n            joinColumns = @JoinColumn(name = &quot;sender&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;receiver&quot;)\n    )\n</code></pre>\n<ul>\n<li>Object Mapper</li>\n</ul>\n<p>Inside the controller, try using an objectMapper configured in the following ways:</p>\n<pre><code>ObjectMapper().configure(SerializationFeature.WRITE_SELF_REFERENCES_AS_NULL, true);\n</code></pre>\n<pre><code>ObjectMapper().configure(SerializationFeature.FAIL_ON_SELF_REFERENCES, false);\n</code></pre>\n<p>And using it like this:</p>\n<pre><code>    @PostMapping(&quot;/sendDuck&quot;)\n    ResponseEntity sendDuck(@RequestParam Long transmitterId, @RequestParam Long receiverId) {\n        User transmitter = this.findOrThrow(transmitterId);\n        User receiver = this.findOrThrow(receiverId);\n        transmitter.sendsDuck(receiver);\n        repository.save(transmitter);\n        repository.save(receiver);\n        List&lt;User&gt; usersList = List.of(receiver, transmitter);\n        CollectionModel&lt;EntityModel&lt;User&gt;&gt; body = this.collectionModelFromList(usersList);\n        try{\n            String serializedBody = objectMapper.writeValueAsString(body);\n            return ResponseEntity.ok().body(body);\n        }catch (IOException ex){\n            String errorMessage = &quot;JSON serializing error: &quot; + ex.getMessage();\n            return ResponseEntity.internalServerError().body(errorMessage);\n        }\n    }\n</code></pre>\n<p>This attempt was also unsuccessful.</p>\n<h2>How do I think the solution should look like?</h2>\n<p>From what I've seen so far, I understand that what I'm looking to achieve would be a JSON response that works in a way that the <code>@JsonIgnore</code> is applied only if the entity is a child in the response. Something like that:</p>\n<pre><code>{\n   id:1,\n   ...\n   duckedUsers:[\n      {\n         id:1,\n         ... \n         duckedUsers:... //This must NOT appear as is a child entity\n      },\n   ]\n}\n</code></pre>\n"},{"tags":["java","bash","ansi-escape"],"answers":[{"tags":[],"owner":{"account_id":197330,"reputation":1455,"user_id":441352,"accept_rate":80,"display_name":"Wivlaro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1339837169,"creation_date":1339837169,"answer_id":11062093,"question_id":9958237,"body_markdown":"As far as `ls` goes, it may be that your `ls` is alias for `ls --color=auto` (you can check this by running `alias ls` in a terminal). In that case, ls will make an educated guess whether to output the color codes. From `man ls`:\r\n\r\n&gt; Using color to distinguish file types is  disabled  both  by  default \r\n&gt; and  with  --color=never.   With --color=auto, ls emits color codes\r\n&gt; only when standard output is connected to a terminal.\r\n\r\nMany other programs will probably do this kind of thing.\r\n\r\nAs far as your general studies of terminal emulation goes, &quot;Terminator&quot; seems to do some pty emulation (using a JNI library though) that maybe you can get some ideas from:\r\n\r\nhttp://software.jessies.org/terminator/\r\n","title":"I want to run bash directly interactively but not getting ANSI codes","body":"<p>As far as <code>ls</code> goes, it may be that your <code>ls</code> is alias for <code>ls --color=auto</code> (you can check this by running <code>alias ls</code> in a terminal). In that case, ls will make an educated guess whether to output the color codes. From <code>man ls</code>:</p>\n\n<blockquote>\n  <p>Using color to distinguish file types is  disabled  both  by  default \n  and  with  --color=never.   With --color=auto, ls emits color codes\n  only when standard output is connected to a terminal.</p>\n</blockquote>\n\n<p>Many other programs will probably do this kind of thing.</p>\n\n<p>As far as your general studies of terminal emulation goes, \"Terminator\" seems to do some pty emulation (using a JNI library though) that maybe you can get some ideas from:</p>\n\n<p><a href=\"http://software.jessies.org/terminator/\" rel=\"nofollow\">http://software.jessies.org/terminator/</a></p>\n"}],"owner":{"account_id":1369771,"reputation":1668,"user_id":1305332,"accept_rate":26,"display_name":"Peter Quiring"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679222183,"creation_date":1333216276,"question_id":9958237,"body_markdown":"I&#39;m creating my own Java-based term program and it works great with SSH and Telnet connections.\r\nBut now I want to open a local direct connection like xterm or gnome-terminal do.\r\nI run &quot;bash -i -l&quot; with ProcessBuilder and use getInputStream() / getOutputStream() and it seems to work. (I need to call redirectErrorStream(true))\r\nMy only problem is that bash seems to be ignoring the TERM environment variable and is not generating any ANSI codes.  I get a prompt but running &#39;ls -la&#39; is missing CR&#39;s and color.  Plus it&#39;s not echoing back the input (like it does over the SSH connection).\r\n\r\nI use JCraft&#39;s JSch library and call setPtyType(&quot;vt100&quot;) for the SSH connections.\r\nHow would I do that when running bash directly?\r\n\r\nI&#39;m not using a pty, is that needed?  Allocating a pty would require native code I think.\r\nIf so, how do pty&#39;s work.\r\n\r\nI&#39;ve tried to look at xterm source code but that&#39;s a mess.  Now I remember why I&#39;ll never go back to C code.\r\n\r\nIs there a simple solution.\r\n\r\nThanks.\r\n","title":"I want to run bash directly interactively but not getting ANSI codes","body":"<p>I'm creating my own Java-based term program and it works great with SSH and Telnet connections.\nBut now I want to open a local direct connection like xterm or gnome-terminal do.\nI run \"bash -i -l\" with ProcessBuilder and use getInputStream() / getOutputStream() and it seems to work. (I need to call redirectErrorStream(true))\nMy only problem is that bash seems to be ignoring the TERM environment variable and is not generating any ANSI codes.  I get a prompt but running 'ls -la' is missing CR's and color.  Plus it's not echoing back the input (like it does over the SSH connection).</p>\n\n<p>I use JCraft's JSch library and call setPtyType(\"vt100\") for the SSH connections.\nHow would I do that when running bash directly?</p>\n\n<p>I'm not using a pty, is that needed?  Allocating a pty would require native code I think.\nIf so, how do pty's work.</p>\n\n<p>I've tried to look at xterm source code but that's a mess.  Now I remember why I'll never go back to C code.</p>\n\n<p>Is there a simple solution.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","kotlin","spring-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1679317734,"post_id":75781366,"comment_id":133694689,"body_markdown":"The kafka-clients provides no API to check the broker availability; you can reduce `max.block.ms` to time out faster.","body":"The kafka-clients provides no API to check the broker availability; you can reduce <code>max.block.ms</code> to time out faster."}],"owner":{"account_id":16666560,"reputation":31,"user_id":12045047,"display_name":"Yury Fomichev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679221842,"creation_date":1679221842,"question_id":75781366,"body_markdown":"How to config a Kafka producer to stop retrying to connect to broker if isn&#39;t available?\r\nI added the retries configuration, but it doesn&#39;t work, it still keep retrying indefinitely...\r\nI want to skip this part if &quot;Broker may not be available&quot;\r\nHow to fix it?\r\n\r\nThere is my Kafka Producer config:\r\n\r\n    \r\n```\r\n    @Bean\r\n    fun notificationKafkaProducerFactory(): ProducerFactory&lt;String, Email&gt; {\r\n        val config = mutableMapOf&lt;String, Any&gt;()\r\n        config[ProducerConfig.BOOTSTRAP_SERVERS_CONFIG] = &quot;localhost:9092&quot;\r\n        config[ProducerConfig.MAX_IN_FLIGHT_REQUESTS_PER_CONNECTION] = &quot;3&quot;\r\n        config[ProducerConfig.RETRIES_CONFIG] = &quot;3&quot;\r\n        config[ProducerConfig.RETRY_BACKOFF_MS_CONFIG] = &quot;500&quot;\r\n        config[ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG] = JsonSerializerWithJTM::class.java\r\n        config[ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG] = JsonSerializerWithJTM::class.java\r\n\r\n        return DefaultKafkaProducerFactory(config)\r\n    }\r\n\r\n    @Bean\r\n    fun notificationKafkaTemplate(): KafkaTemplate&lt;String, Email&gt; {\r\n        return KafkaTemplate(notificationKafkaProducerFactory())\r\n    }\r\n```\r\n\r\nAbove how does it look when trying sending a message:\r\n\r\n```\r\n2023-03-19 14:17:23.298  INFO 70901 --- [nio-8080-exec-1] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: \r\n        acks = -1\r\n\tbatch.size = 16384\r\n\tbootstrap.servers = [localhost:9092]\r\n\tbuffer.memory = 33554432\r\n\tclient.dns.lookup = use_all_dns_ips\r\n\tclient.id = producer-1\r\n\tcompression.type = none\r\n\tconnections.max.idle.ms = 540000\r\n\tdelivery.timeout.ms = 120000\r\n\tenable.idempotence = true\r\n\tinterceptor.classes = []\r\n\tkey.serializer = class com.fomichev.september.service.notification.email.templates.JsonSerializerWithJTM\r\n\tlinger.ms = 0\r\n\tmax.block.ms = 60000\r\n\tmax.in.flight.requests.per.connection = 3\r\n\tmax.request.size = 1048576\r\n\tmetadata.max.age.ms = 300000\r\n\tmetadata.max.idle.ms = 300000\r\n\tmetric.reporters = []\r\n\tmetrics.num.samples = 2\r\n\tmetrics.recording.level = INFO\r\n\tmetrics.sample.window.ms = 30000\r\n\tpartitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\r\n\treceive.buffer.bytes = 32768\r\n\treconnect.backoff.max.ms = 1000\r\n\treconnect.backoff.ms = 50\r\n\trequest.timeout.ms = 30000\r\n\tretries = 3\r\n\tretry.backoff.ms = 500\r\n\tsasl.client.callback.handler.class = null\r\n\tsasl.jaas.config = null\r\n\tsasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n\tsasl.kerberos.min.time.before.relogin = 60000\r\n\tsasl.kerberos.service.name = null\r\n\tsasl.kerberos.ticket.renew.jitter = 0.05\r\n\tsasl.kerberos.ticket.renew.window.factor = 0.8\r\n\tsasl.login.callback.handler.class = null\r\n\tsasl.login.class = null\r\n\tsasl.login.connect.timeout.ms = null\r\n\tsasl.login.read.timeout.ms = null\r\n\tsasl.login.refresh.buffer.seconds = 300\r\n\tsasl.login.refresh.min.period.seconds = 60\r\n\tsasl.login.refresh.window.factor = 0.8\r\n\tsasl.login.refresh.window.jitter = 0.05\r\n\tsasl.login.retry.backoff.max.ms = 10000\r\n\tsasl.login.retry.backoff.ms = 100\r\n\tsasl.mechanism = GSSAPI\r\n\tsasl.oauthbearer.clock.skew.seconds = 30\r\n\tsasl.oauthbearer.expected.audience = null\r\n\tsasl.oauthbearer.expected.issuer = null\r\n\tsasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\r\n\tsasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\r\n\tsasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\r\n\tsasl.oauthbearer.jwks.endpoint.url = null\r\n\tsasl.oauthbearer.scope.claim.name = scope\r\n\tsasl.oauthbearer.sub.claim.name = sub\r\n\tsasl.oauthbearer.token.endpoint.url = null\r\n\tsecurity.protocol = PLAINTEXT\r\n\tsecurity.providers = null\r\n\tsend.buffer.bytes = 131072\r\n\tsocket.connection.setup.timeout.max.ms = 30000\r\n\tsocket.connection.setup.timeout.ms = 10000\r\n\tssl.cipher.suites = null\r\n\tssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n\tssl.endpoint.identification.algorithm = https\r\n\tssl.engine.factory.class = null\r\n\tssl.key.password = null\r\n\tssl.keymanager.algorithm = SunX509\r\n\tssl.keystore.certificate.chain = null\r\n\tssl.keystore.key = null\r\n\tssl.keystore.location = null\r\n\tssl.keystore.password = null\r\n\tssl.keystore.type = JKS\r\n\tssl.protocol = TLSv1.3\r\n\tssl.provider = null\r\n\tssl.secure.random.implementation = null\r\n\tssl.trustmanager.algorithm = PKIX\r\n\tssl.truststore.certificates = null\r\n\tssl.truststore.location = null\r\n\tssl.truststore.password = null\r\n\tssl.truststore.type = JKS\r\n\ttransaction.timeout.ms = 60000\r\n\ttransactional.id = null\r\n\tvalue.serializer = class com.fomichev.september.service.notification.email.templates.JsonSerializerWithJTM\r\n\r\n...\r\n\r\n2023-03-19 14:17:23.639  INFO 70901 --- [nio-8080-exec-1] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Instantiated an idempotent producer.\r\n2023-03-19 14:17:23.738  INFO 70901 --- [nio-8080-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.1.1\r\n2023-03-19 14:17:23.738  INFO 70901 --- [nio-8080-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 97671528ba54a138\r\n2023-03-19 14:17:23.738  INFO 70901 --- [nio-8080-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1679221043736\r\n2023-03-19 14:17:23.894  INFO 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -1 disconnected.\r\n2023-03-19 14:17:23.895  WARN 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2023-03-19 14:17:23.895  WARN 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n2023-03-19 14:17:24.403  INFO 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -1 disconnected.\r\n2023-03-19 14:17:24.404  WARN 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2023-03-19 14:17:24.404  WARN 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n```","title":"How to config a Kafka producer to stop retrying to connect to broker if isn&#39;t available","body":"<p>How to config a Kafka producer to stop retrying to connect to broker if isn't available?\nI added the retries configuration, but it doesn't work, it still keep retrying indefinitely...\nI want to skip this part if &quot;Broker may not be available&quot;\nHow to fix it?</p>\n<p>There is my Kafka Producer config:</p>\n<pre><code>    @Bean\n    fun notificationKafkaProducerFactory(): ProducerFactory&lt;String, Email&gt; {\n        val config = mutableMapOf&lt;String, Any&gt;()\n        config[ProducerConfig.BOOTSTRAP_SERVERS_CONFIG] = &quot;localhost:9092&quot;\n        config[ProducerConfig.MAX_IN_FLIGHT_REQUESTS_PER_CONNECTION] = &quot;3&quot;\n        config[ProducerConfig.RETRIES_CONFIG] = &quot;3&quot;\n        config[ProducerConfig.RETRY_BACKOFF_MS_CONFIG] = &quot;500&quot;\n        config[ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG] = JsonSerializerWithJTM::class.java\n        config[ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG] = JsonSerializerWithJTM::class.java\n\n        return DefaultKafkaProducerFactory(config)\n    }\n\n    @Bean\n    fun notificationKafkaTemplate(): KafkaTemplate&lt;String, Email&gt; {\n        return KafkaTemplate(notificationKafkaProducerFactory())\n    }\n</code></pre>\n<p>Above how does it look when trying sending a message:</p>\n<pre><code>2023-03-19 14:17:23.298  INFO 70901 --- [nio-8080-exec-1] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values: \n        acks = -1\n    batch.size = 16384\n    bootstrap.servers = [localhost:9092]\n    buffer.memory = 33554432\n    client.dns.lookup = use_all_dns_ips\n    client.id = producer-1\n    compression.type = none\n    connections.max.idle.ms = 540000\n    delivery.timeout.ms = 120000\n    enable.idempotence = true\n    interceptor.classes = []\n    key.serializer = class com.fomichev.september.service.notification.email.templates.JsonSerializerWithJTM\n    linger.ms = 0\n    max.block.ms = 60000\n    max.in.flight.requests.per.connection = 3\n    max.request.size = 1048576\n    metadata.max.age.ms = 300000\n    metadata.max.idle.ms = 300000\n    metric.reporters = []\n    metrics.num.samples = 2\n    metrics.recording.level = INFO\n    metrics.sample.window.ms = 30000\n    partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\n    receive.buffer.bytes = 32768\n    reconnect.backoff.max.ms = 1000\n    reconnect.backoff.ms = 50\n    request.timeout.ms = 30000\n    retries = 3\n    retry.backoff.ms = 500\n    sasl.client.callback.handler.class = null\n    sasl.jaas.config = null\n    sasl.kerberos.kinit.cmd = /usr/bin/kinit\n    sasl.kerberos.min.time.before.relogin = 60000\n    sasl.kerberos.service.name = null\n    sasl.kerberos.ticket.renew.jitter = 0.05\n    sasl.kerberos.ticket.renew.window.factor = 0.8\n    sasl.login.callback.handler.class = null\n    sasl.login.class = null\n    sasl.login.connect.timeout.ms = null\n    sasl.login.read.timeout.ms = null\n    sasl.login.refresh.buffer.seconds = 300\n    sasl.login.refresh.min.period.seconds = 60\n    sasl.login.refresh.window.factor = 0.8\n    sasl.login.refresh.window.jitter = 0.05\n    sasl.login.retry.backoff.max.ms = 10000\n    sasl.login.retry.backoff.ms = 100\n    sasl.mechanism = GSSAPI\n    sasl.oauthbearer.clock.skew.seconds = 30\n    sasl.oauthbearer.expected.audience = null\n    sasl.oauthbearer.expected.issuer = null\n    sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\n    sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\n    sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\n    sasl.oauthbearer.jwks.endpoint.url = null\n    sasl.oauthbearer.scope.claim.name = scope\n    sasl.oauthbearer.sub.claim.name = sub\n    sasl.oauthbearer.token.endpoint.url = null\n    security.protocol = PLAINTEXT\n    security.providers = null\n    send.buffer.bytes = 131072\n    socket.connection.setup.timeout.max.ms = 30000\n    socket.connection.setup.timeout.ms = 10000\n    ssl.cipher.suites = null\n    ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\n    ssl.endpoint.identification.algorithm = https\n    ssl.engine.factory.class = null\n    ssl.key.password = null\n    ssl.keymanager.algorithm = SunX509\n    ssl.keystore.certificate.chain = null\n    ssl.keystore.key = null\n    ssl.keystore.location = null\n    ssl.keystore.password = null\n    ssl.keystore.type = JKS\n    ssl.protocol = TLSv1.3\n    ssl.provider = null\n    ssl.secure.random.implementation = null\n    ssl.trustmanager.algorithm = PKIX\n    ssl.truststore.certificates = null\n    ssl.truststore.location = null\n    ssl.truststore.password = null\n    ssl.truststore.type = JKS\n    transaction.timeout.ms = 60000\n    transactional.id = null\n    value.serializer = class com.fomichev.september.service.notification.email.templates.JsonSerializerWithJTM\n\n...\n\n2023-03-19 14:17:23.639  INFO 70901 --- [nio-8080-exec-1] o.a.k.clients.producer.KafkaProducer     : [Producer clientId=producer-1] Instantiated an idempotent producer.\n2023-03-19 14:17:23.738  INFO 70901 --- [nio-8080-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.1.1\n2023-03-19 14:17:23.738  INFO 70901 --- [nio-8080-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 97671528ba54a138\n2023-03-19 14:17:23.738  INFO 70901 --- [nio-8080-exec-1] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1679221043736\n2023-03-19 14:17:23.894  INFO 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -1 disconnected.\n2023-03-19 14:17:23.895  WARN 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2023-03-19 14:17:23.895  WARN 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n2023-03-19 14:17:24.403  INFO 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -1 disconnected.\n2023-03-19 14:17:24.404  WARN 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2023-03-19 14:17:24.404  WARN 70901 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n</code></pre>\n"},{"tags":["java","spring-boot","asynchronous","transactions","hikaricp"],"owner":{"account_id":28049238,"reputation":1,"user_id":21425418,"display_name":"Hwangbo Gyumin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679220840,"creation_date":1679220233,"question_id":75781250,"body_markdown":"I&#39;m currently using Hikari Connection Pool.\r\n\r\nWhen I run `hikariDataSource.getConnection()` in different thread, I got same connection. \r\n\r\nIn my thinking, by `@Transactional`, JDBC connection is first set in `TransactionSynchronizationManager` which is ThreadLocal. And JDBC connection is alive only within thread. However, as you can see in `userRepositoryJDBC.findUser(..)` method, the number of active connection is still same even after I get connection in a different thread.\r\n\r\nTo conclude my thoughts, `nio-8080-exec-2` thread has JDBC connection locally, but when `db-thread-1` thread request connection, HikariCP also returns the same connection to `db-thread-1`. I think this problem has occurred because of lambda capturing. As I run a new thread using CompletableFuture and lambda expression, lambda captures local variables (which have TransactionSynchronizationManager containing that connection).\r\n\r\nBut even if this is because of lambda capturing, `db-thread-1` still cannot print `TransactionSynchronizationManager.getCurrentTransactionName()`.\r\n\r\nSo, please enlighten me what am I missing and what is wrong.\r\n\r\nMy code is below.\r\n\r\n\r\n### Results\r\n```none\r\n[nio-8080-exec-2] c.c.domain.user.service.UserServiceImpl  : currentTXName:chatting.chat.domain.user.service.UserServiceImpl.login\r\n[nio-8080-exec-2] c.c.domain.user.service.UserServiceImpl  : HikariCP[Total:10, Active:1, Idle:9, Wait:0]\r\n[nio-8080-exec-2] c.c.d.u.repository.UserRepositoryJDBC    : currentTXName:chatting.chat.domain.user.service.UserServiceImpl.login\r\n[nio-8080-exec-2] c.c.d.u.repository.UserRepositoryJDBC    : HikariCP[Total:10, Active:1, Idle:9, Wait:0]\r\n[    db-thread-1] c.c.d.u.repository.UserRepositoryJDBC    : currentTXName:null\r\n[    db-thread-1] c.c.d.u.repository.UserRepositoryJDBC    : HikariCP[Total:10, Active:1, Idle:9, Wait:0] before get connection\r\n[    db-thread-1] c.c.d.u.repository.UserRepositoryJDBC    : HikariCP[Total:10, Active:1, Idle:9, Wait:0] after get connection\r\n[    db-thread-1] c.c.d.u.repository.UserRepositoryJDBC    : HikariCP[Total:10, Active:0, Idle:10, Wait:0]after release connection\r\n```\r\n\r\n### UserServiceImpl.java\r\n```java\r\n@Service\r\npublic class UserServiceImpl {\r\n    ...\r\n    @Transactional\r\n    public DeferredResult&lt;ResponseEntity&lt;?&gt;&gt; login(String userId, String userPw) throws CustomException{\r\n        DeferredResult&lt;ResponseEntity&lt;?&gt;&gt; dr = new DeferredResult&lt;&gt;();\r\n\r\n        printCurrentTXName(); // login\r\n        printHikariStatus(); // [HikariCP:Active=1]\r\n\r\n        userRepositoryJDBC.findUser(userId, userPw)\r\n                .thenComposeAsync(user-&gt;{\r\n\r\n                    printHikariCPInfo(); // [HikariCP:Active=0]\r\n\r\n                    ...\r\n                },serviceExecutor).thenAcceptAsync((rs)-&gt;{\r\n                    log.info(&quot;currentTXName:&quot;+TransactionSynchronizationManager.getCurrentTransactionName());\r\n                    printHikariCPInfo();\r\n                    ...\r\n                },serviceExecutor)\r\n                .exceptionally(e-&gt; {\r\n                    ...\r\n                });\r\n        return dr;\r\n    }\r\n}\r\n```\r\n\r\n### UserRepositoryJDBC.java\r\n```java\r\npublic class UserRepositoryJDBC {\r\n    ...\r\n    @Transactional\r\n    public CompletableFuture&lt;User&gt; findUser(String user_id, String user_pw) {\r\n\r\n        printCurrentTXName(); // login\r\n        printHikariStatus(); // [HikariCP:Active=1]\r\n                \r\n        return CompletableFuture.supplyAsync(()-&gt;{\r\n            PreparedStatement pstmt = null;\r\n            Connection conn = null;\r\n            ResultSet rs = null;\r\n\r\n            printCurrentTXName(); // null\r\n\r\n            ...\r\n\r\n            try {\r\n                printHikariStatus(); // before get connection [HikariCP:Active=1]\r\n                conn = hikariDataSource.getConnection();\r\n                log.info(printHikariCPInfo()+&quot; after get connection&quot;); // Still Active is 1, even if get connection in different thread\r\n                ...\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (CustomException customException){\r\n                throw customException;\r\n            } finally {\r\n                if(rs != null) try { rs.close();} catch(SQLException ex) {}\r\n                if(pstmt != null) try { pstmt.close();} catch(SQLException ex) {}\r\n                if(conn != null) try {\r\n                    conn.close();\r\n                    log.info(printHikariCPInfo()+&quot; after release connection&quot;);\r\n                } catch(SQLException ex) {}\r\n            }\r\n        },databaseExecutor).exceptionally(e-&gt;{\r\n            ...\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nWhy does HikariCP return the same connection in different threads? And if lambda expression captures local variables, why `TransactionSynchronizationManager.getCurrentTransactionName()` is null?\r\n","title":"Does HikariCP.getConnection() return the same Connection when run getConnection in different thread?","body":"<p>I'm currently using Hikari Connection Pool.</p>\n<p>When I run <code>hikariDataSource.getConnection()</code> in different thread, I got same connection.</p>\n<p>In my thinking, by <code>@Transactional</code>, JDBC connection is first set in <code>TransactionSynchronizationManager</code> which is ThreadLocal. And JDBC connection is alive only within thread. However, as you can see in <code>userRepositoryJDBC.findUser(..)</code> method, the number of active connection is still same even after I get connection in a different thread.</p>\n<p>To conclude my thoughts, <code>nio-8080-exec-2</code> thread has JDBC connection locally, but when <code>db-thread-1</code> thread request connection, HikariCP also returns the same connection to <code>db-thread-1</code>. I think this problem has occurred because of lambda capturing. As I run a new thread using CompletableFuture and lambda expression, lambda captures local variables (which have TransactionSynchronizationManager containing that connection).</p>\n<p>But even if this is because of lambda capturing, <code>db-thread-1</code> still cannot print <code>TransactionSynchronizationManager.getCurrentTransactionName()</code>.</p>\n<p>So, please enlighten me what am I missing and what is wrong.</p>\n<p>My code is below.</p>\n<h3>Results</h3>\n<pre class=\"lang-none prettyprint-override\"><code>[nio-8080-exec-2] c.c.domain.user.service.UserServiceImpl  : currentTXName:chatting.chat.domain.user.service.UserServiceImpl.login\n[nio-8080-exec-2] c.c.domain.user.service.UserServiceImpl  : HikariCP[Total:10, Active:1, Idle:9, Wait:0]\n[nio-8080-exec-2] c.c.d.u.repository.UserRepositoryJDBC    : currentTXName:chatting.chat.domain.user.service.UserServiceImpl.login\n[nio-8080-exec-2] c.c.d.u.repository.UserRepositoryJDBC    : HikariCP[Total:10, Active:1, Idle:9, Wait:0]\n[    db-thread-1] c.c.d.u.repository.UserRepositoryJDBC    : currentTXName:null\n[    db-thread-1] c.c.d.u.repository.UserRepositoryJDBC    : HikariCP[Total:10, Active:1, Idle:9, Wait:0] before get connection\n[    db-thread-1] c.c.d.u.repository.UserRepositoryJDBC    : HikariCP[Total:10, Active:1, Idle:9, Wait:0] after get connection\n[    db-thread-1] c.c.d.u.repository.UserRepositoryJDBC    : HikariCP[Total:10, Active:0, Idle:10, Wait:0]after release connection\n</code></pre>\n<h3>UserServiceImpl.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserServiceImpl {\n    ...\n    @Transactional\n    public DeferredResult&lt;ResponseEntity&lt;?&gt;&gt; login(String userId, String userPw) throws CustomException{\n        DeferredResult&lt;ResponseEntity&lt;?&gt;&gt; dr = new DeferredResult&lt;&gt;();\n\n        printCurrentTXName(); // login\n        printHikariStatus(); // [HikariCP:Active=1]\n\n        userRepositoryJDBC.findUser(userId, userPw)\n                .thenComposeAsync(user-&gt;{\n\n                    printHikariCPInfo(); // [HikariCP:Active=0]\n\n                    ...\n                },serviceExecutor).thenAcceptAsync((rs)-&gt;{\n                    log.info(&quot;currentTXName:&quot;+TransactionSynchronizationManager.getCurrentTransactionName());\n                    printHikariCPInfo();\n                    ...\n                },serviceExecutor)\n                .exceptionally(e-&gt; {\n                    ...\n                });\n        return dr;\n    }\n}\n</code></pre>\n<h3>UserRepositoryJDBC.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserRepositoryJDBC {\n    ...\n    @Transactional\n    public CompletableFuture&lt;User&gt; findUser(String user_id, String user_pw) {\n\n        printCurrentTXName(); // login\n        printHikariStatus(); // [HikariCP:Active=1]\n                \n        return CompletableFuture.supplyAsync(()-&gt;{\n            PreparedStatement pstmt = null;\n            Connection conn = null;\n            ResultSet rs = null;\n\n            printCurrentTXName(); // null\n\n            ...\n\n            try {\n                printHikariStatus(); // before get connection [HikariCP:Active=1]\n                conn = hikariDataSource.getConnection();\n                log.info(printHikariCPInfo()+&quot; after get connection&quot;); // Still Active is 1, even if get connection in different thread\n                ...\n            } catch (SQLException e) {\n                throw new RuntimeException(e);\n            } catch (CustomException customException){\n                throw customException;\n            } finally {\n                if(rs != null) try { rs.close();} catch(SQLException ex) {}\n                if(pstmt != null) try { pstmt.close();} catch(SQLException ex) {}\n                if(conn != null) try {\n                    conn.close();\n                    log.info(printHikariCPInfo()+&quot; after release connection&quot;);\n                } catch(SQLException ex) {}\n            }\n        },databaseExecutor).exceptionally(e-&gt;{\n            ...\n        });\n    }\n}\n</code></pre>\n<p>Why does HikariCP return the same connection in different threads? And if lambda expression captures local variables, why <code>TransactionSynchronizationManager.getCurrentTransactionName()</code> is null?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1679099179,"post_id":75772949,"comment_id":133666224,"body_markdown":"Related: [What does it mean to &quot;program to an interface&quot;?](https://stackoverflow.com/q/383947/6395627)","body":"Related: <a href=\"https://stackoverflow.com/q/383947/6395627\">What does it mean to &quot;program to an interface&quot;?</a>"}],"answers":[{"comments":[{"owner":{"account_id":12171995,"reputation":15,"user_id":8886350,"display_name":"Pepe Peep"},"score":0,"creation_date":1679251147,"post_id":75773090,"comment_id":133683768,"body_markdown":"Thank you for the answer. So basically, by following the good practices of &quot;always code for the interface&quot; I am &quot;obliged&quot; to use Qualifiers right?","body":"Thank you for the answer. So basically, by following the good practices of &quot;always code for the interface&quot; I am &quot;obliged&quot; to use Qualifiers right?"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1679255447,"post_id":75773090,"comment_id":133684494,"body_markdown":"It is not that you are obligated, it just solves the issue that you will get if you had multiple classes using the same interface &quot;No unique bean of type [com.pepe.Service] is defined: expected single matching bean but found 2: [serviceOne, serviceTwo].&quot; It helps you to code to interface while not getting the exception from the above.","body":"It is not that you are obligated, it just solves the issue that you will get if you had multiple classes using the same interface &quot;No unique bean of type [com.pepe.Service] is defined: expected single matching bean but found 2: [serviceOne, serviceTwo].&quot; It helps you to code to interface while not getting the exception from the above."}],"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679097644,"creation_date":1679097644,"answer_id":75773090,"question_id":75772949,"body_markdown":"You can skip the @Qualifier and using an interface and use the BaseballCoach class in the constructor, but there is something called &quot;Always code to interface&quot;\r\n\r\nAlways code to interface means, the client code always holds an Interface object which is supplied by a factory.\r\n\r\nAny instance returned by the factory would be of type Interface which any factory candidate class must have implemented. This way the client&#39;s application does not need to worry about implementation and the interface signature determines what all operations can be done.\r\n\r\nThis can be used to change the behavior of a program at runtime. It also helps you to write far better programs from the maintenance point of view.\r\n\r\nYour code will work the same no matter if you use @Qualifier or directly inject the BaseballCoach but it is a matter of writing maintainable code that is easy to cover with tests.\r\n\r\nhttps://medium.com/javarevisited/oop-good-practices-coding-to-the-interface-baea84fd60d3#","title":"Why or when should I use spring Qualifiers?","body":"<p>You can skip the @Qualifier and using an interface and use the BaseballCoach class in the constructor, but there is something called &quot;Always code to interface&quot;</p>\n<p>Always code to interface means, the client code always holds an Interface object which is supplied by a factory.</p>\n<p>Any instance returned by the factory would be of type Interface which any factory candidate class must have implemented. This way the client's application does not need to worry about implementation and the interface signature determines what all operations can be done.</p>\n<p>This can be used to change the behavior of a program at runtime. It also helps you to write far better programs from the maintenance point of view.</p>\n<p>Your code will work the same no matter if you use @Qualifier or directly inject the BaseballCoach but it is a matter of writing maintainable code that is easy to cover with tests.</p>\n<p><a href=\"https://medium.com/javarevisited/oop-good-practices-coding-to-the-interface-baea84fd60d3#\" rel=\"nofollow noreferrer\">https://medium.com/javarevisited/oop-good-practices-coding-to-the-interface-baea84fd60d3#</a></p>\n"}],"owner":{"account_id":12171995,"reputation":15,"user_id":8886350,"display_name":"Pepe Peep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75773090,"answer_count":1,"score":0,"last_activity_date":1679220805,"creation_date":1679095494,"question_id":75772949,"body_markdown":"Lets say we have a Coach interface:\r\n\r\n```\r\npublic interface Coach {\r\n    public String getDailyWorkout();\r\n}\r\n```\r\nAnd 2 different implementations for the Coach interface:\r\n```\r\n@Component\r\npublic class CricketCoach implements Coach{\r\n\r\n    @Override\r\n    public String getDailyWorkout() {\r\n        return &quot;Practice fast bowling for 15 minutes!!&quot;;\r\n    }\r\n}\r\n```\r\n```\r\n@Component\r\npublic class BaseballCoach implements Coach{\r\n\r\n    @Override\r\n    public String getDailyWorkout() {\r\n        return &quot;Spend 30 minutes in batting practice&quot;;\r\n    }\r\n}\r\n```\r\n\r\nAnd my controller where use constructor injection in order to get the implementation from above. Let&#39;s say I want a BaseballCoach injected. In order to do so we can use the annotation @Qualifier like so:\r\n```\r\n@RestController\r\npublic class DemoController {\r\n    private Coach myCoach;\r\n\r\n    @Autowired\r\n    public void DemoController(@Qualifier(&quot;baseballCoach&quot;)Coach myCoach) {\r\n        this.myCoach = myCoach;\r\n    }\r\n\r\n    @GetMapping(&quot;/dailyworkout&quot;)\r\n    public String getDailyWorkout() {\r\n        return myCoach.getDailyWorkout();\r\n    }\r\n}\r\n```\r\n\r\nWhy would we even use the qualifier if I could just use the &quot;correct&quot; class like so:\r\n\r\n```\r\n@RestController\r\npublic class DemoController {\r\n    private Coach myCoach;\r\n\r\n    @Autowired\r\n    public void DemoController(BaseballCoach myCoach) {\r\n        this.myCoach = myCoach;\r\n    }\r\n\r\n    @GetMapping(&quot;/dailyworkout&quot;)\r\n    public String getDailyWorkout() {\r\n        return myCoach.getDailyWorkout();\r\n    }\r\n}\r\n```\r\n\r\nOr even so the correct class in the variable &quot;type&quot;\r\n\r\n```\r\n@RestController\r\npublic class DemoController {\r\n    private BaseballCoach myCoach;\r\n\r\n    @Autowired\r\n    public void DemoController(BaseballCoach myCoach) {\r\n        this.myCoach = myCoach;\r\n    }\r\n\r\n    @GetMapping(&quot;/dailyworkout&quot;)\r\n    public String getDailyWorkout() {\r\n        return myCoach.getDailyWorkout();\r\n    }\r\n}\r\n```\r\n\r\nAre there any benefits to using the qualifier?  Or is it just the recommended method to do so?","title":"Why or when should I use spring Qualifiers?","body":"<p>Lets say we have a Coach interface:</p>\n<pre><code>public interface Coach {\n    public String getDailyWorkout();\n}\n</code></pre>\n<p>And 2 different implementations for the Coach interface:</p>\n<pre><code>@Component\npublic class CricketCoach implements Coach{\n\n    @Override\n    public String getDailyWorkout() {\n        return &quot;Practice fast bowling for 15 minutes!!&quot;;\n    }\n}\n</code></pre>\n<pre><code>@Component\npublic class BaseballCoach implements Coach{\n\n    @Override\n    public String getDailyWorkout() {\n        return &quot;Spend 30 minutes in batting practice&quot;;\n    }\n}\n</code></pre>\n<p>And my controller where use constructor injection in order to get the implementation from above. Let's say I want a BaseballCoach injected. In order to do so we can use the annotation @Qualifier like so:</p>\n<pre><code>@RestController\npublic class DemoController {\n    private Coach myCoach;\n\n    @Autowired\n    public void DemoController(@Qualifier(&quot;baseballCoach&quot;)Coach myCoach) {\n        this.myCoach = myCoach;\n    }\n\n    @GetMapping(&quot;/dailyworkout&quot;)\n    public String getDailyWorkout() {\n        return myCoach.getDailyWorkout();\n    }\n}\n</code></pre>\n<p>Why would we even use the qualifier if I could just use the &quot;correct&quot; class like so:</p>\n<pre><code>@RestController\npublic class DemoController {\n    private Coach myCoach;\n\n    @Autowired\n    public void DemoController(BaseballCoach myCoach) {\n        this.myCoach = myCoach;\n    }\n\n    @GetMapping(&quot;/dailyworkout&quot;)\n    public String getDailyWorkout() {\n        return myCoach.getDailyWorkout();\n    }\n}\n</code></pre>\n<p>Or even so the correct class in the variable &quot;type&quot;</p>\n<pre><code>@RestController\npublic class DemoController {\n    private BaseballCoach myCoach;\n\n    @Autowired\n    public void DemoController(BaseballCoach myCoach) {\n        this.myCoach = myCoach;\n    }\n\n    @GetMapping(&quot;/dailyworkout&quot;)\n    public String getDailyWorkout() {\n        return myCoach.getDailyWorkout();\n    }\n}\n</code></pre>\n<p>Are there any benefits to using the qualifier?  Or is it just the recommended method to do so?</p>\n"},{"tags":["java","android","usage-statistics","activity-manager","usagestatsmanager"],"comments":[{"owner":{"account_id":7660711,"reputation":235,"user_id":5806092,"accept_rate":56,"display_name":"Mr. Thanks a lot"},"score":1,"creation_date":1531412476,"post_id":36238481,"comment_id":89597449,"body_markdown":"Hi!\nDid you find a solution to this? I&#39;m having the same problem.","body":"Hi! Did you find a solution to this? I&#39;m having the same problem."}],"answers":[{"comments":[{"owner":{"account_id":9109500,"reputation":1728,"user_id":6778758,"display_name":"Nainal"},"score":1,"creation_date":1547899053,"post_id":45380396,"comment_id":95356991,"body_markdown":"Do we need to send UTC timeInMillis  for begin and endtime?","body":"Do we need to send UTC timeInMillis  for begin and endtime?"}],"tags":[],"owner":{"account_id":11428455,"reputation":311,"user_id":8377946,"display_name":"Vishal Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1501267552,"creation_date":1501267552,"answer_id":45380396,"question_id":36238481,"body_markdown":"I too noticed this behaviour in API 21,UsageStats data is not maintained for sufficiently long in API 21. it works fine from API 22, If you check in `android /data/system/usagestats`, you will find limited entries in API 21, so its not reliable using it in API 21.\r\n\r\nFor API 21+,\r\nYou will get the whole day `usagestats` while querying `INTERVAL_DAILY` according to `UsageStatsManager` API.\r\nIf you want to query within hours of day you should use `queryEvents` and iterating them by your own logic.\r\n\r\nI tried in the following way...\r\n\r\nThis is the modal class for capturing data for every app:\r\n\r\n    private class AppUsageInfo {\r\n            Drawable appIcon;\r\n            String appName, packageName;\r\n            long timeInForeground;\r\n            int launchCount;\r\n    \r\n            AppUsageInfo(String pName) {\r\n                this.packageName=pName;\r\n            }\r\n    }\r\n\r\n`List&lt;AppUsageInfo&gt; smallInfoList; //global var`\r\n\r\nhere is the method, its easy, go with the flow: \r\n \r\n    void getUsageStatistics() {\r\n\r\n    UsageEvents.Event currentEvent;\r\n    List&lt;UsageEvents.Event&gt; allEvents = new ArrayList&lt;&gt;();\r\n    HashMap&lt;String, AppUsageInfo&gt; map = new HashMap &lt;String, AppUsageInfo&gt; ();\r\n\r\n    long currTime = System.currentTimeMillis();\r\n    long startTime currTime - 1000*3600*3; //querying past three hours\r\n    \r\n    UsageStatsManager mUsageStatsManager =  (UsageStatsManager)\r\n                        mContext.getSystemService(Context.USAGE_STATS_SERVICE);\r\n    \r\n            assert mUsageStatsManager != null;\r\n    UsageEvents usageEvents = mUsageStatsManager.queryEvents(usageQueryTodayBeginTime, currTime);\r\n    \r\n    //capturing all events in a array to compare with next element\r\n\r\n             while (usageEvents.hasNextEvent()) {\r\n                currentEvent = new UsageEvents.Event();\r\n                usageEvents.getNextEvent(currentEvent);\r\n                if (currentEvent.getEventType() == UsageEvents.Event.MOVE_TO_FOREGROUND ||\r\n                        currentEvent.getEventType() == UsageEvents.Event.MOVE_TO_BACKGROUND) {\r\n                    allEvents.add(currentEvent);\r\n                    String key = currentEvent.getPackageName();\r\n    // taking it into a collection to access by package name\r\n                    if (map.get(key)==null)\r\n                        map.put(key,new AppUsageInfo(key));\r\n                }\r\n            }\r\n    \r\n    //iterating through the arraylist \r\n             for (int i=0;i&lt;allEvents.size()-1;i++){\r\n                UsageEvents.Event E0=allEvents.get(i);\r\n                UsageEvents.Event E1=allEvents.get(i+1);\r\n\r\n    //for launchCount of apps in time range\r\n                 if (!E0.getPackageName().equals(E1.getPackageName()) &amp;&amp; E1.getEventType()==1){\r\n    // if true, E1 (launch event of an app) app launched\r\n                     map.get(E1.getPackageName()).launchCount++;\r\n                 }\r\n\r\n    //for UsageTime of apps in time range\r\n                if (E0.getEventType()==1 &amp;&amp; E1.getEventType()==2\r\n                        &amp;&amp; E0.getClassName().equals(E1.getClassName())){\r\n                    long diff = E1.getTimeStamp()-E0.getTimeStamp();\r\n                    phoneUsageToday+=diff; //gloabl Long var for total usagetime in the timerange\r\n                    map.get(E0.getPackageName()).timeInForeground+= diff;\r\n                }\r\n            }\r\n    //transferred final data into modal class object\r\n            smallInfoList = new ArrayList&lt;&gt;(map.values());\r\n    \r\n    }\r\n\r\n","title":"Android: UsageStatsManager not returning correct daily results","body":"<p>I too noticed this behaviour in API 21,UsageStats data is not maintained for sufficiently long in API 21. it works fine from API 22, If you check in <code>android /data/system/usagestats</code>, you will find limited entries in API 21, so its not reliable using it in API 21.</p>\n\n<p>For API 21+,\nYou will get the whole day <code>usagestats</code> while querying <code>INTERVAL_DAILY</code> according to <code>UsageStatsManager</code> API.\nIf you want to query within hours of day you should use <code>queryEvents</code> and iterating them by your own logic.</p>\n\n<p>I tried in the following way...</p>\n\n<p>This is the modal class for capturing data for every app:</p>\n\n<pre><code>private class AppUsageInfo {\n        Drawable appIcon;\n        String appName, packageName;\n        long timeInForeground;\n        int launchCount;\n\n        AppUsageInfo(String pName) {\n            this.packageName=pName;\n        }\n}\n</code></pre>\n\n<p><code>List&lt;AppUsageInfo&gt; smallInfoList; //global var</code></p>\n\n<p>here is the method, its easy, go with the flow: </p>\n\n<pre><code>void getUsageStatistics() {\n\nUsageEvents.Event currentEvent;\nList&lt;UsageEvents.Event&gt; allEvents = new ArrayList&lt;&gt;();\nHashMap&lt;String, AppUsageInfo&gt; map = new HashMap &lt;String, AppUsageInfo&gt; ();\n\nlong currTime = System.currentTimeMillis();\nlong startTime currTime - 1000*3600*3; //querying past three hours\n\nUsageStatsManager mUsageStatsManager =  (UsageStatsManager)\n                    mContext.getSystemService(Context.USAGE_STATS_SERVICE);\n\n        assert mUsageStatsManager != null;\nUsageEvents usageEvents = mUsageStatsManager.queryEvents(usageQueryTodayBeginTime, currTime);\n\n//capturing all events in a array to compare with next element\n\n         while (usageEvents.hasNextEvent()) {\n            currentEvent = new UsageEvents.Event();\n            usageEvents.getNextEvent(currentEvent);\n            if (currentEvent.getEventType() == UsageEvents.Event.MOVE_TO_FOREGROUND ||\n                    currentEvent.getEventType() == UsageEvents.Event.MOVE_TO_BACKGROUND) {\n                allEvents.add(currentEvent);\n                String key = currentEvent.getPackageName();\n// taking it into a collection to access by package name\n                if (map.get(key)==null)\n                    map.put(key,new AppUsageInfo(key));\n            }\n        }\n\n//iterating through the arraylist \n         for (int i=0;i&lt;allEvents.size()-1;i++){\n            UsageEvents.Event E0=allEvents.get(i);\n            UsageEvents.Event E1=allEvents.get(i+1);\n\n//for launchCount of apps in time range\n             if (!E0.getPackageName().equals(E1.getPackageName()) &amp;&amp; E1.getEventType()==1){\n// if true, E1 (launch event of an app) app launched\n                 map.get(E1.getPackageName()).launchCount++;\n             }\n\n//for UsageTime of apps in time range\n            if (E0.getEventType()==1 &amp;&amp; E1.getEventType()==2\n                    &amp;&amp; E0.getClassName().equals(E1.getClassName())){\n                long diff = E1.getTimeStamp()-E0.getTimeStamp();\n                phoneUsageToday+=diff; //gloabl Long var for total usagetime in the timerange\n                map.get(E0.getPackageName()).timeInForeground+= diff;\n            }\n        }\n//transferred final data into modal class object\n        smallInfoList = new ArrayList&lt;&gt;(map.values());\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4330289,"reputation":373,"user_id":3536003,"display_name":"Lorenzo Von Matterhorn"},"score":4,"creation_date":1540675376,"post_id":45482446,"comment_id":92954528,"body_markdown":"Whoever made this api was pure evil. Thank you for sharing this.","body":"Whoever made this api was pure evil. Thank you for sharing this."},{"owner":{"account_id":10494065,"reputation":1812,"user_id":7734945,"display_name":"Burak"},"score":0,"creation_date":1541023125,"post_id":45482446,"comment_id":93081783,"body_markdown":"@IlToro I glad, you think that it is benefical. However i highly recommend using UsageStats.Events to calculate usage time. It provides many details of usage stats as [time]  [packagename] [foreground | background].","body":"@IlToro I glad, you think that it is benefical. However i highly recommend using UsageStats.Events to calculate usage time. It provides many details of usage stats as [time]  [packagename] [foreground | background]."},{"owner":{"account_id":4330289,"reputation":373,"user_id":3536003,"display_name":"Lorenzo Von Matterhorn"},"score":0,"creation_date":1542224569,"post_id":45482446,"comment_id":93495974,"body_markdown":"You are right. At first reading UsageStats from 3AM to 3AM seemed fine. I even wrote a loop to find the newest package among the clones you may get (if you query multiple days by mistake). After some days of testing though started to be messy again. So I think this API is simply unreliable.","body":"You are right. At first reading UsageStats from 3AM to 3AM seemed fine. I even wrote a loop to find the newest package among the clones you may get (if you query multiple days by mistake). After some days of testing though started to be messy again. So I think this API is simply unreliable."}],"tags":[],"owner":{"account_id":10494065,"reputation":1812,"user_id":7734945,"display_name":"Burak"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1501758440,"creation_date":1501758440,"answer_id":45482446,"question_id":36238481,"body_markdown":"i guess i found what is happening there. First i wrote below code,\r\n\r\n     public String getDaily(String appPackageName, long startTime, long endTime)\r\n     {\r\n        List&lt;UsageStats&gt; usageStatsList = usageStatsManager.queryUsageStats(\r\n                         UsageStatsManager.INTERVAL_DAILY, startTime,endTime);\r\n                               \r\n        String x=&quot;&quot;;\r\n        for(int i=0; i&lt;usageStatsList.size(); i++) {\r\n\r\n            UsageStats stat = usageStatsList.get(i);\r\n            if(stat.getPackageName().equals(appPackageName))\r\n                x=x+i+&quot;-&quot;+stat.getPackageName()+&quot;-&quot;\r\n                +converLongToTimeChar(stat.getTotalTimeInForeground())+&quot;\\n&quot;;\r\n        }\r\n\r\n        return x;\r\n    }\r\n    public String converLongToTimeChar(long usedTime) {\r\n        String hour=&quot;&quot;, min=&quot;&quot;, sec=&quot;&quot;;\r\n\r\n        int h=(int)(usedTime/1000/60/60);\r\n        if (h!=0)\r\n            hour = h+&quot;h &quot;;\r\n\r\n        int m=(int)((usedTime/1000/60) % 60);\r\n        if (m!=0)\r\n            min = m+&quot;m &quot;;\r\n\r\n        int s=(int)((usedTime/1000) % 60);\r\n        if (s==0 &amp;&amp; (h!=0 || m!=0))\r\n            sec=&quot;&quot;;\r\n        else\r\n            sec = s+&quot;s&quot;;\r\n\r\n        return hour+min+sec;\r\n    }\r\n\r\n(today date is 03.08.2017 00:25:14)\r\nand when i sent (&quot;package name&quot;,02.08.2017 00.00.00, 03.08.2017 00.00.00); to method, (I sent this dates with calendar, you can search in google, how to set dates like that)\r\nI got this input;\r\n\r\n      46-&#39;apppackagename&#39;-9m 31s\r\n      154-&#39;apppackagename&#39;-22m 38s\r\nthen i sent (&quot;package name&quot;,03.08.2017 00.00.00, 04.08.2017 00.00.00); to method,\r\nI got this input;\r\n\r\n      25-&#39;apppackagename&#39;-22m 38s\r\n\r\nAnd i used app which i sent in method about 1 min. Again i sent method output is:\r\n\r\n02:08:2017-03.08.2017\r\n\r\n      46-&#39;apppackagename&#39;-9m 31s\r\n      154-&#39;apppackagename&#39;-23m 32s\r\n\r\n\r\n\r\n03:08:2017-04.08.2017\r\n\r\n      25-&#39;apppackagename&#39;-23m 32s\r\n\r\nAs you see they increased both. After i see that i waited untill 03.00 am,\r\nI used app about 5 min and i got these outputs.\r\n\r\n02:08:2017-03.08.2017\r\n\r\n      46-&#39;apppackagename&#39;-9m 31s\r\n      154-&#39;apppackagename&#39;-23m 32s\r\n\r\n\r\n\r\n03:08:2017-04.08.2017\r\n\r\n      25-&#39;apppackagename&#39;-23m 32s\r\n      50-&#39;apppackagename&#39;-4m 48s\r\n\r\nTo conclude, you should control before day and its last foregroundrunningtime. İf it is same with that days first foreground time. You should eliminate that time and return sum of the others. (Even if i dont know that strange system.) New day&#39;s counter starting after 03:00 am.\r\n\r\nI hope it will be helpful to you.\r\n","title":"Android: UsageStatsManager not returning correct daily results","body":"<p>i guess i found what is happening there. First i wrote below code,</p>\n\n<pre><code> public String getDaily(String appPackageName, long startTime, long endTime)\n {\n    List&lt;UsageStats&gt; usageStatsList = usageStatsManager.queryUsageStats(\n                     UsageStatsManager.INTERVAL_DAILY, startTime,endTime);\n\n    String x=\"\";\n    for(int i=0; i&lt;usageStatsList.size(); i++) {\n\n        UsageStats stat = usageStatsList.get(i);\n        if(stat.getPackageName().equals(appPackageName))\n            x=x+i+\"-\"+stat.getPackageName()+\"-\"\n            +converLongToTimeChar(stat.getTotalTimeInForeground())+\"\\n\";\n    }\n\n    return x;\n}\npublic String converLongToTimeChar(long usedTime) {\n    String hour=\"\", min=\"\", sec=\"\";\n\n    int h=(int)(usedTime/1000/60/60);\n    if (h!=0)\n        hour = h+\"h \";\n\n    int m=(int)((usedTime/1000/60) % 60);\n    if (m!=0)\n        min = m+\"m \";\n\n    int s=(int)((usedTime/1000) % 60);\n    if (s==0 &amp;&amp; (h!=0 || m!=0))\n        sec=\"\";\n    else\n        sec = s+\"s\";\n\n    return hour+min+sec;\n}\n</code></pre>\n\n<p>(today date is 03.08.2017 00:25:14)\nand when i sent (\"package name\",02.08.2017 00.00.00, 03.08.2017 00.00.00); to method, (I sent this dates with calendar, you can search in google, how to set dates like that)\nI got this input;</p>\n\n<pre><code>  46-'apppackagename'-9m 31s\n  154-'apppackagename'-22m 38s\n</code></pre>\n\n<p>then i sent (\"package name\",03.08.2017 00.00.00, 04.08.2017 00.00.00); to method,\nI got this input;</p>\n\n<pre><code>  25-'apppackagename'-22m 38s\n</code></pre>\n\n<p>And i used app which i sent in method about 1 min. Again i sent method output is:</p>\n\n<p>02:08:2017-03.08.2017</p>\n\n<pre><code>  46-'apppackagename'-9m 31s\n  154-'apppackagename'-23m 32s\n</code></pre>\n\n<p>03:08:2017-04.08.2017</p>\n\n<pre><code>  25-'apppackagename'-23m 32s\n</code></pre>\n\n<p>As you see they increased both. After i see that i waited untill 03.00 am,\nI used app about 5 min and i got these outputs.</p>\n\n<p>02:08:2017-03.08.2017</p>\n\n<pre><code>  46-'apppackagename'-9m 31s\n  154-'apppackagename'-23m 32s\n</code></pre>\n\n<p>03:08:2017-04.08.2017</p>\n\n<pre><code>  25-'apppackagename'-23m 32s\n  50-'apppackagename'-4m 48s\n</code></pre>\n\n<p>To conclude, you should control before day and its last foregroundrunningtime. İf it is same with that days first foreground time. You should eliminate that time and return sum of the others. (Even if i dont know that strange system.) New day's counter starting after 03:00 am.</p>\n\n<p>I hope it will be helpful to you.</p>\n"},{"comments":[{"owner":{"account_id":15319160,"reputation":235,"user_id":11052194,"display_name":"Florian"},"score":1,"creation_date":1633532692,"post_id":50647945,"comment_id":122785787,"body_markdown":"If an app has crashed, the MOVE_TO_FOREGROUND event will be followed by an ACTIVITY_STOPPED event. This is worth testing it as well, else the app will be seen as running for a very long time :)","body":"If an app has crashed, the MOVE_TO_FOREGROUND event will be followed by an ACTIVITY_STOPPED event. This is worth testing it as well, else the app will be seen as running for a very long time :)"},{"owner":{"account_id":14096747,"reputation":696,"user_id":10183294,"display_name":"SVK"},"score":0,"creation_date":1684599620,"post_id":50647945,"comment_id":134542108,"body_markdown":"@Florian and @jguerinet : The comment which you&#39;ve added above is true. But how to add condition for `ACTIVITY_STOPPED` in above code. Please guide.","body":"@Florian and @jguerinet : The comment which you&#39;ve added above is true. But how to add condition for <code>ACTIVITY_STOPPED</code> in above code. Please guide."}],"tags":[],"owner":{"account_id":4205298,"reputation":1439,"user_id":3444398,"display_name":"jguerinet"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1527871963,"creation_date":1527871963,"answer_id":50647945,"question_id":36238481,"body_markdown":"I agree with what is said in that comment you mentioned about `queryUsageStats` not being a trusted source. I&#39;ve been with playing with the `UsageStatsManager` for a little while and it returns inconsistent results based on the time of day. I have found that using the `UsageEvent`s and manually calculating the necessary info to be much more trustworthy (at least for daily stats), as they are points in time and don&#39;t have any weird calculating errors that would produce different outputs for the same input depending on the time of day. \r\n\r\nI used @Vishal&#39;s proposed solution to come up with my own: \r\n\r\n    /**\r\n     * Returns the stats for the [date] (defaults to today) \r\n     */\r\n    fun getDailyStats(date: LocalDate = LocalDate.now()): List&lt;Stat&gt; {\r\n        // The timezones we&#39;ll need \r\n        val utc = ZoneId.of(&quot;UTC&quot;)\r\n        val defaultZone = ZoneId.systemDefault()\r\n    \r\n        // Set the starting and ending times to be midnight in UTC time\r\n        val startDate = date.atStartOfDay(defaultZone).withZoneSameInstant(utc)\r\n        val start = startDate.toInstant().toEpochMilli()\r\n        val end = startDate.plusDays(1).toInstant().toEpochMilli()\r\n    \r\n        // This will keep a map of all of the events per package name \r\n        val sortedEvents = mutableMapOf&lt;String, MutableList&lt;UsageEvents.Event&gt;&gt;()\r\n    \r\n        // Query the list of events that has happened within that time frame\r\n        val systemEvents = usageManager.queryEvents(start, end)\r\n        while (systemEvents.hasNextEvent()) {\r\n            val event = UsageEvents.Event()\r\n            systemEvents.getNextEvent(event)\r\n    \r\n            // Get the list of events for the package name, create one if it doesn&#39;t exist\r\n            val packageEvents = sortedEvents[event.packageName] ?: mutableListOf()\r\n            packageEvents.add(event)\r\n            sortedEvents[event.packageName] = packageEvents\r\n        }\r\n    \r\n        // This will keep a list of our final stats\r\n        val stats = mutableListOf&lt;Stat&gt;()\r\n    \r\n        // Go through the events by package name\r\n        sortedEvents.forEach { packageName, events -&gt;\r\n            // Keep track of the current start and end times\r\n            var startTime = 0L\r\n            var endTime = 0L\r\n            // Keep track of the total usage time for this app\r\n            var totalTime = 0L\r\n            // Keep track of the start times for this app \r\n            val startTimes = mutableListOf&lt;ZonedDateTime&gt;()\r\n            events.forEach {\r\n                if (it.eventType == UsageEvents.Event.MOVE_TO_FOREGROUND) {\r\n                    // App was moved to the foreground: set the start time\r\n                    startTime = it.timeStamp\r\n                    // Add the start time within this timezone to the list\r\n                    startTimes.add(Instant.ofEpochMilli(startTime).atZone(utc)\r\n                            .withZoneSameInstant(defaultZone))\r\n                } else if (it.eventType == UsageEvents.Event.MOVE_TO_BACKGROUND) {\r\n                    // App was moved to background: set the end time\r\n                    endTime = it.timeStamp\r\n                }\r\n    \r\n                // If there&#39;s an end time with no start time, this might mean that\r\n                //  The app was started on the previous day, so take midnight \r\n                //  As the start time \r\n                if (startTime == 0L &amp;&amp; endTime != 0L) {\r\n                    startTime = start\r\n                }\r\n    \r\n                // If both start and end are defined, we have a session\r\n                if (startTime != 0L &amp;&amp; endTime != 0L) {\r\n                    // Add the session time to the total time\r\n                    totalTime += endTime - startTime\r\n                    // Reset the start/end times to 0\r\n                    startTime = 0L\r\n                    endTime = 0L\r\n                }\r\n            }\r\n    \r\n            // If there is a start time without an end time, this might mean that\r\n            //  the app was used past midnight, so take (midnight - 1 second) \r\n            //  as the end time\r\n            if (startTime != 0L &amp;&amp; endTime == 0L) {\r\n                totalTime += end - 1000 - startTime\r\n            }\r\n            stats.add(Stat(packageName, totalTime, startTimes))\r\n        }\r\n        return stats\r\n    }\r\n\r\n    // Helper class to keep track of all of the stats \r\n    class Stat(val packageName: String, val totalTime: Long, val startTimes: List&lt;ZonedDateTime&gt;)\r\n\r\nA couple of observations: \r\n\r\n* The timestamps that the `Event`s have are in UTC, which is why I convert my start/end query times to UTC from my default time zone, and why I convert the start time back on each event. This one got me for a while...\r\n* This takes into account the edge cases where an app was in the foreground before the beginning of the day (i.e. the user opened an app before midnight) or went to the background after the end of the say (i.e. the user still had an app in the foreground past 11:59 PM on that day). Disclaimer: I haven&#39;t actually tested these edge cases yet. \r\n* In the case that the user uses an app past midnight, I opted with using 11:59:59 PM as the end time. You can obviously change this to be 1 millisecond off of midnight, or simply midnight depending on how you choose to calculate this. Simply remove the `- 1000` and replace with whatever you want. \r\n* In my use case I needed total foreground time + start times, which is why I collect that information. However, you can tweak the `Stat` class and the code to capture whatever info you need. You can keep track of end times, or number of times an app was launched in a day if needed for example. \r\n* I am using the Java 8 time library here because it was easier to deal with dates. To use this in Android, I use the [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) library. \r\n\r\nI hope this helps! ","title":"Android: UsageStatsManager not returning correct daily results","body":"<p>I agree with what is said in that comment you mentioned about <code>queryUsageStats</code> not being a trusted source. I've been with playing with the <code>UsageStatsManager</code> for a little while and it returns inconsistent results based on the time of day. I have found that using the <code>UsageEvent</code>s and manually calculating the necessary info to be much more trustworthy (at least for daily stats), as they are points in time and don't have any weird calculating errors that would produce different outputs for the same input depending on the time of day. </p>\n\n<p>I used @Vishal's proposed solution to come up with my own: </p>\n\n<pre><code>/**\n * Returns the stats for the [date] (defaults to today) \n */\nfun getDailyStats(date: LocalDate = LocalDate.now()): List&lt;Stat&gt; {\n    // The timezones we'll need \n    val utc = ZoneId.of(\"UTC\")\n    val defaultZone = ZoneId.systemDefault()\n\n    // Set the starting and ending times to be midnight in UTC time\n    val startDate = date.atStartOfDay(defaultZone).withZoneSameInstant(utc)\n    val start = startDate.toInstant().toEpochMilli()\n    val end = startDate.plusDays(1).toInstant().toEpochMilli()\n\n    // This will keep a map of all of the events per package name \n    val sortedEvents = mutableMapOf&lt;String, MutableList&lt;UsageEvents.Event&gt;&gt;()\n\n    // Query the list of events that has happened within that time frame\n    val systemEvents = usageManager.queryEvents(start, end)\n    while (systemEvents.hasNextEvent()) {\n        val event = UsageEvents.Event()\n        systemEvents.getNextEvent(event)\n\n        // Get the list of events for the package name, create one if it doesn't exist\n        val packageEvents = sortedEvents[event.packageName] ?: mutableListOf()\n        packageEvents.add(event)\n        sortedEvents[event.packageName] = packageEvents\n    }\n\n    // This will keep a list of our final stats\n    val stats = mutableListOf&lt;Stat&gt;()\n\n    // Go through the events by package name\n    sortedEvents.forEach { packageName, events -&gt;\n        // Keep track of the current start and end times\n        var startTime = 0L\n        var endTime = 0L\n        // Keep track of the total usage time for this app\n        var totalTime = 0L\n        // Keep track of the start times for this app \n        val startTimes = mutableListOf&lt;ZonedDateTime&gt;()\n        events.forEach {\n            if (it.eventType == UsageEvents.Event.MOVE_TO_FOREGROUND) {\n                // App was moved to the foreground: set the start time\n                startTime = it.timeStamp\n                // Add the start time within this timezone to the list\n                startTimes.add(Instant.ofEpochMilli(startTime).atZone(utc)\n                        .withZoneSameInstant(defaultZone))\n            } else if (it.eventType == UsageEvents.Event.MOVE_TO_BACKGROUND) {\n                // App was moved to background: set the end time\n                endTime = it.timeStamp\n            }\n\n            // If there's an end time with no start time, this might mean that\n            //  The app was started on the previous day, so take midnight \n            //  As the start time \n            if (startTime == 0L &amp;&amp; endTime != 0L) {\n                startTime = start\n            }\n\n            // If both start and end are defined, we have a session\n            if (startTime != 0L &amp;&amp; endTime != 0L) {\n                // Add the session time to the total time\n                totalTime += endTime - startTime\n                // Reset the start/end times to 0\n                startTime = 0L\n                endTime = 0L\n            }\n        }\n\n        // If there is a start time without an end time, this might mean that\n        //  the app was used past midnight, so take (midnight - 1 second) \n        //  as the end time\n        if (startTime != 0L &amp;&amp; endTime == 0L) {\n            totalTime += end - 1000 - startTime\n        }\n        stats.add(Stat(packageName, totalTime, startTimes))\n    }\n    return stats\n}\n\n// Helper class to keep track of all of the stats \nclass Stat(val packageName: String, val totalTime: Long, val startTimes: List&lt;ZonedDateTime&gt;)\n</code></pre>\n\n<p>A couple of observations: </p>\n\n<ul>\n<li>The timestamps that the <code>Event</code>s have are in UTC, which is why I convert my start/end query times to UTC from my default time zone, and why I convert the start time back on each event. This one got me for a while...</li>\n<li>This takes into account the edge cases where an app was in the foreground before the beginning of the day (i.e. the user opened an app before midnight) or went to the background after the end of the say (i.e. the user still had an app in the foreground past 11:59 PM on that day). Disclaimer: I haven't actually tested these edge cases yet. </li>\n<li>In the case that the user uses an app past midnight, I opted with using 11:59:59 PM as the end time. You can obviously change this to be 1 millisecond off of midnight, or simply midnight depending on how you choose to calculate this. Simply remove the <code>- 1000</code> and replace with whatever you want. </li>\n<li>In my use case I needed total foreground time + start times, which is why I collect that information. However, you can tweak the <code>Stat</code> class and the code to capture whatever info you need. You can keep track of end times, or number of times an app was launched in a day if needed for example. </li>\n<li>I am using the Java 8 time library here because it was easier to deal with dates. To use this in Android, I use the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">ThreeTenABP</a> library. </li>\n</ul>\n\n<p>I hope this helps! </p>\n"},{"tags":[],"owner":{"account_id":14363237,"reputation":322,"user_id":10375027,"display_name":"BBB"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1545053436,"creation_date":1545053436,"answer_id":53816269,"question_id":36238481,"body_markdown":"I have quiet the same problem and also opened a issue with Google for this. Please have a look at https://issuetracker.google.com/issues/118564471 if this corresponds to what you are describing.\r\n","title":"Android: UsageStatsManager not returning correct daily results","body":"<p>I have quiet the same problem and also opened a issue with Google for this. Please have a look at <a href=\"https://issuetracker.google.com/issues/118564471\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/118564471</a> if this corresponds to what you are describing.</p>\n"},{"tags":[],"owner":{"account_id":16542893,"reputation":752,"user_id":11953196,"display_name":"Atakan Yildirim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679220575,"creation_date":1679220575,"answer_id":75781276,"question_id":36238481,"body_markdown":"I wrote a cleaner and safer queryEvents function inspired by [@Vishal Sharma][1], [@jguerinet][2], and [@Floarian][3] answers.\r\n\r\nStarting with Android Q, Foreground Service events can also be recorded. Especially if you want to calculate the time spent in the background, you can now do it.\r\n\r\nCreate an AppUsageStats class:\r\n\r\n    public class AppUsageStats {\r\n        private final long lastTimeUsedMillis;\r\n        private final long totalTimeInForegroundMillis;\r\n        private final long lastTimeForegroundServiceUsedMillis;\r\n        private final long totalTimeForegroundServiceUsedMillis;\r\n    \r\n        public AppUsageStats(\r\n                long lastTimeUsedMillis,\r\n                long totalTimeInForegroundMillis,\r\n                long lastTimeForegroundServiceUsedMillis,\r\n                long totalTimeForegroundServiceUsedMillis\r\n        ) {\r\n            this.lastTimeUsedMillis = lastTimeUsedMillis;\r\n            this.totalTimeInForegroundMillis = totalTimeInForegroundMillis;\r\n            this.lastTimeForegroundServiceUsedMillis = lastTimeForegroundServiceUsedMillis;\r\n            this.totalTimeForegroundServiceUsedMillis = totalTimeForegroundServiceUsedMillis;\r\n        }\r\n    \r\n        public long getLastTimeUsedMillis() {\r\n            return lastTimeUsedMillis;\r\n        }\r\n    \r\n        public long getTotalTimeInForegroundMillis() {\r\n            return totalTimeInForegroundMillis;\r\n        }\r\n    \r\n        @RequiresApi(Build.VERSION_CODES.Q)\r\n        public long getLastTimeForegroundServiceUsedMillis() {\r\n            return lastTimeForegroundServiceUsedMillis;\r\n        }\r\n    \r\n        @RequiresApi(Build.VERSION_CODES.Q)\r\n        public long getTotalTimeForegroundServiceUsedMillis() {\r\n            return totalTimeForegroundServiceUsedMillis;\r\n        }\r\n    }\r\n\r\nCreate an AppUsageStatsBucket class to store Foreground Service data:\r\n\r\n    public class AppUsageStatsBucket {\r\n        private long startMillis;\r\n        private long endMillis;\r\n        private long totalTime;\r\n    \r\n        public AppUsageStatsBucket() {\r\n            this.startMillis = 0L;\r\n            this.endMillis = 0L;\r\n            this.totalTime = 0L;\r\n        }\r\n    \r\n        public long getStartMillis() {\r\n            return startMillis;\r\n        }\r\n    \r\n        public void setStartMillis(long startMillis) {\r\n            this.startMillis = startMillis;\r\n        }\r\n    \r\n        public long getEndMillis() {\r\n            return endMillis;\r\n        }\r\n    \r\n        public void setEndMillis(long endMillis) {\r\n            this.endMillis = endMillis;\r\n        }\r\n    \r\n        public long getTotalTime() {\r\n            return totalTime;\r\n        }\r\n    \r\n        public void addTotalTime() {\r\n            this.totalTime += endMillis - startMillis;\r\n        }\r\n    \r\n        public void setTotalTime(long totalTime) {\r\n            this.totalTime = totalTime;\r\n        }\r\n    }\r\n\r\nCreate a UsageStatsSelection Enum class:\r\n\r\n    public enum UsageStatsSelection {\r\n        HOURLY(\r\n                UsageStatsManager.INTERVAL_DAILY,\r\n                System.currentTimeMillis() - TimeUnit.HOURS.toMillis(1L),\r\n                System.currentTimeMillis()\r\n        ),\r\n        DAILY(\r\n                UsageStatsManager.INTERVAL_DAILY,\r\n                0L,\r\n                System.currentTimeMillis()\r\n        ),\r\n        WEEKLY(\r\n                UsageStatsManager.INTERVAL_WEEKLY,\r\n                0L,\r\n                System.currentTimeMillis()\r\n        ),\r\n        MONTHLY(\r\n                UsageStatsManager.INTERVAL_MONTHLY,\r\n                0L,\r\n                System.currentTimeMillis()\r\n        ),\r\n        YEARLY(\r\n                UsageStatsManager.INTERVAL_YEARLY,\r\n                0L,\r\n                System.currentTimeMillis()\r\n        );\r\n    \r\n        private final int usageStatsInterval;\r\n        private final long beginTime;\r\n        private final long endTime;\r\n    \r\n        UsageStatsSelection(int usageStatsInterval, long beginTime, long endTime) {\r\n            this.usageStatsInterval = usageStatsInterval;\r\n            this.beginTime = beginTime;\r\n            this.endTime = endTime;\r\n        }\r\n    \r\n        public int getUsageStatsInterval() {\r\n            return usageStatsInterval;\r\n        }\r\n    \r\n        public long getBeginTime() {\r\n            return beginTime;\r\n        }\r\n    \r\n        public long getEndTime() {\r\n            return endTime;\r\n        }\r\n    }\r\n\r\nSince it is not possible to get all days for queryEvents (see: [queryEvents()][4], Query for events in the given time range. Events are only kept by the system for a few days.), we will use queryEvents to get only daily events. We will also use the queryUsageStats() function to get the Weekly, Monthly and Yearly usage data.\r\n\r\n    @NonNull\r\n    public static Map&lt;String, AppUsageStats&gt; queryUsageStats(\r\n            Context context,\r\n            @NonNull UsageStatsSelection statsSelection\r\n    ) {\r\n        final UsageStatsManager usageStatsManager = (UsageStatsManager) context.getSystemService(Context.USAGE_STATS_SERVICE);\r\n        final Map&lt;String, AppUsageStats&gt; appUsageStatsHashMap = new HashMap&lt;&gt;();\r\n        switch (statsSelection) {\r\n            case HOURLY:\r\n                final UsageEvents events = usageStatsManager.queryEvents(\r\n                        statsSelection.getBeginTime(),\r\n                        statsSelection.getEndTime()\r\n                );\r\n                Map&lt;String, List&lt;UsageEvents.Event&gt;&gt; eventsMap = new HashMap&lt;&gt;();\r\n                UsageEvents.Event currentEvent;\r\n                while (events.hasNextEvent()) {\r\n                    currentEvent = new UsageEvents.Event();\r\n                    if (events.getNextEvent(currentEvent)) {\r\n                        switch (currentEvent.getEventType()) {\r\n                            case UsageEvents.Event.ACTIVITY_RESUMED:\r\n                            case UsageEvents.Event.ACTIVITY_PAUSED:\r\n                            case UsageEvents.Event.ACTIVITY_STOPPED:\r\n                            case UsageEvents.Event.FOREGROUND_SERVICE_START:\r\n                            case UsageEvents.Event.FOREGROUND_SERVICE_STOP:\r\n                                List&lt;UsageEvents.Event&gt; packageEvents = eventsMap.get(currentEvent.getPackageName());\r\n                                if (packageEvents == null) {\r\n                                    packageEvents = new ArrayList&lt;&gt;(Collections.singletonList(currentEvent));\r\n                                } else {\r\n                                    packageEvents.add(currentEvent);\r\n                                }\r\n                                eventsMap.put(currentEvent.getPackageName(), packageEvents);\r\n                                break;\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                for (Map.Entry&lt;String, List&lt;UsageEvents.Event&gt;&gt; entry : eventsMap.entrySet()) {\r\n                    final AppUsageStatsBucket foregroundBucket = new AppUsageStatsBucket();\r\n                    final Map&lt;String, AppUsageStatsBucket&gt; backgroundBucketMap = new HashMap&lt;&gt;();\r\n                    for (int pos = 0; pos &lt; entry.getValue().size(); pos++) {\r\n                        final UsageEvents.Event event = entry.getValue().get(pos);\r\n                        AppUsageStatsBucket backgroundBucket = backgroundBucketMap.get(event.getClassName());\r\n                        if (backgroundBucket == null) {\r\n                            backgroundBucket = new AppUsageStatsBucket();\r\n                            backgroundBucketMap.put(event.getClassName(), backgroundBucket);\r\n                        }\r\n                        switch (event.getEventType()) {\r\n                            case UsageEvents.Event.ACTIVITY_RESUMED:\r\n                                foregroundBucket.setStartMillis(event.getTimeStamp());\r\n                                break;\r\n                            case UsageEvents.Event.ACTIVITY_PAUSED:\r\n                            case UsageEvents.Event.ACTIVITY_STOPPED:\r\n                                if (foregroundBucket.getStartMillis() &gt;= foregroundBucket.getEndMillis()) {\r\n                                    if (foregroundBucket.getStartMillis() == 0L) {\r\n                                        foregroundBucket.setStartMillis(statsSelection.getBeginTime());\r\n                                    }\r\n                                    foregroundBucket.setEndMillis(event.getTimeStamp());\r\n                                    foregroundBucket.addTotalTime();\r\n                                }\r\n                                break;\r\n                            case UsageEvents.Event.FOREGROUND_SERVICE_START:\r\n                                backgroundBucket.setStartMillis(event.getTimeStamp());\r\n                                break;\r\n                            case UsageEvents.Event.FOREGROUND_SERVICE_STOP:\r\n                                if (backgroundBucket.getStartMillis() &gt;= backgroundBucket.getEndMillis()) {\r\n                                    if (backgroundBucket.getStartMillis() == 0L) {\r\n                                        backgroundBucket.setStartMillis(statsSelection.getBeginTime());\r\n                                    }\r\n                                    backgroundBucket.setEndMillis(event.getTimeStamp());\r\n                                    backgroundBucket.addTotalTime();\r\n                                }\r\n                                break;\r\n                        }\r\n                        if (pos == entry.getValue().size() - 1) {\r\n                            if (foregroundBucket.getStartMillis() &gt; foregroundBucket.getEndMillis()) {\r\n                                foregroundBucket.setEndMillis(statsSelection.getEndTime());\r\n                                foregroundBucket.addTotalTime();\r\n                            }\r\n                            if (backgroundBucket.getStartMillis() &gt; backgroundBucket.getEndMillis()) {\r\n                                backgroundBucket.setEndMillis(statsSelection.getEndTime());\r\n                                backgroundBucket.addTotalTime();\r\n                            }\r\n                        }\r\n                    }\r\n    \r\n                    final long foregroundEnd = foregroundBucket.getEndMillis();\r\n                    final long totalTimeForeground = foregroundBucket.getTotalTime();\r\n                    final long backgroundEnd = backgroundBucketMap.values()\r\n                            .stream()\r\n                            .mapToLong(AppUsageStatsBucket::getEndMillis)\r\n                            .max()\r\n                            .orElse(0L);\r\n                    final long totalTimeBackground = backgroundBucketMap.values()\r\n                            .stream()\r\n                            .mapToLong(AppUsageStatsBucket::getTotalTime)\r\n                            .sum();\r\n    \r\n                    appUsageStatsHashMap.put(entry.getKey(), new AppUsageStats(\r\n                            Math.max(foregroundEnd, backgroundEnd),\r\n                            totalTimeForeground,\r\n                            backgroundEnd,\r\n                            totalTimeBackground\r\n                    ));\r\n                }\r\n                break;\r\n            default:\r\n                final List&lt;UsageStats&gt; usageStats = usageStatsManager\r\n                    .queryUsageStats(\r\n                            statsSelection.getUsageStatsInterval(),\r\n                            statsSelection.getBeginTime(),\r\n                            statsSelection.getEndTime()\r\n                    );\r\n                appUsageStatsHashMap.putAll(usageStats.parallelStream()\r\n                        .collect(Collectors.toMap(\r\n                                UsageStats::getPackageName,\r\n                                stats -&gt; new AppUsageStats(\r\n                                        stats.getLastTimeUsed(),\r\n                                        stats.getTotalTimeInForeground(),\r\n                                        Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q\r\n                                                ? stats.getLastTimeForegroundServiceUsed()\r\n                                                : 0,\r\n                                        Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q\r\n                                                ? stats.getTotalTimeForegroundServiceUsed()\r\n                                                : 0\r\n                                ),\r\n                                (oldValue, newValue) -&gt; newValue\r\n                        )));\r\n                break;\r\n        }\r\n        return appUsageStatsHashMap;\r\n    }\r\n\r\nThe result will be returned as Package Name and AppUsageStats list.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36238481/android-usagestatsmanager-not-returning-correct-daily-results/45380396#45380396\r\n  [2]: https://stackoverflow.com/questions/36238481/android-usagestatsmanager-not-returning-correct-daily-results/50647945#50647945\r\n  [3]: https://stackoverflow.com/questions/36238481/android-usagestatsmanager-not-returning-correct-daily-results#comment122785787_50647945\r\n  [4]: https://developer.android.com/reference/android/app/usage/UsageStatsManager#queryEvents(long,%20long)","title":"Android: UsageStatsManager not returning correct daily results","body":"<p>I wrote a cleaner and safer queryEvents function inspired by <a href=\"https://stackoverflow.com/questions/36238481/android-usagestatsmanager-not-returning-correct-daily-results/45380396#45380396\">@Vishal Sharma</a>, <a href=\"https://stackoverflow.com/questions/36238481/android-usagestatsmanager-not-returning-correct-daily-results/50647945#50647945\">@jguerinet</a>, and <a href=\"https://stackoverflow.com/questions/36238481/android-usagestatsmanager-not-returning-correct-daily-results#comment122785787_50647945\">@Floarian</a> answers.</p>\n<p>Starting with Android Q, Foreground Service events can also be recorded. Especially if you want to calculate the time spent in the background, you can now do it.</p>\n<p>Create an AppUsageStats class:</p>\n<pre><code>public class AppUsageStats {\n    private final long lastTimeUsedMillis;\n    private final long totalTimeInForegroundMillis;\n    private final long lastTimeForegroundServiceUsedMillis;\n    private final long totalTimeForegroundServiceUsedMillis;\n\n    public AppUsageStats(\n            long lastTimeUsedMillis,\n            long totalTimeInForegroundMillis,\n            long lastTimeForegroundServiceUsedMillis,\n            long totalTimeForegroundServiceUsedMillis\n    ) {\n        this.lastTimeUsedMillis = lastTimeUsedMillis;\n        this.totalTimeInForegroundMillis = totalTimeInForegroundMillis;\n        this.lastTimeForegroundServiceUsedMillis = lastTimeForegroundServiceUsedMillis;\n        this.totalTimeForegroundServiceUsedMillis = totalTimeForegroundServiceUsedMillis;\n    }\n\n    public long getLastTimeUsedMillis() {\n        return lastTimeUsedMillis;\n    }\n\n    public long getTotalTimeInForegroundMillis() {\n        return totalTimeInForegroundMillis;\n    }\n\n    @RequiresApi(Build.VERSION_CODES.Q)\n    public long getLastTimeForegroundServiceUsedMillis() {\n        return lastTimeForegroundServiceUsedMillis;\n    }\n\n    @RequiresApi(Build.VERSION_CODES.Q)\n    public long getTotalTimeForegroundServiceUsedMillis() {\n        return totalTimeForegroundServiceUsedMillis;\n    }\n}\n</code></pre>\n<p>Create an AppUsageStatsBucket class to store Foreground Service data:</p>\n<pre><code>public class AppUsageStatsBucket {\n    private long startMillis;\n    private long endMillis;\n    private long totalTime;\n\n    public AppUsageStatsBucket() {\n        this.startMillis = 0L;\n        this.endMillis = 0L;\n        this.totalTime = 0L;\n    }\n\n    public long getStartMillis() {\n        return startMillis;\n    }\n\n    public void setStartMillis(long startMillis) {\n        this.startMillis = startMillis;\n    }\n\n    public long getEndMillis() {\n        return endMillis;\n    }\n\n    public void setEndMillis(long endMillis) {\n        this.endMillis = endMillis;\n    }\n\n    public long getTotalTime() {\n        return totalTime;\n    }\n\n    public void addTotalTime() {\n        this.totalTime += endMillis - startMillis;\n    }\n\n    public void setTotalTime(long totalTime) {\n        this.totalTime = totalTime;\n    }\n}\n</code></pre>\n<p>Create a UsageStatsSelection Enum class:</p>\n<pre><code>public enum UsageStatsSelection {\n    HOURLY(\n            UsageStatsManager.INTERVAL_DAILY,\n            System.currentTimeMillis() - TimeUnit.HOURS.toMillis(1L),\n            System.currentTimeMillis()\n    ),\n    DAILY(\n            UsageStatsManager.INTERVAL_DAILY,\n            0L,\n            System.currentTimeMillis()\n    ),\n    WEEKLY(\n            UsageStatsManager.INTERVAL_WEEKLY,\n            0L,\n            System.currentTimeMillis()\n    ),\n    MONTHLY(\n            UsageStatsManager.INTERVAL_MONTHLY,\n            0L,\n            System.currentTimeMillis()\n    ),\n    YEARLY(\n            UsageStatsManager.INTERVAL_YEARLY,\n            0L,\n            System.currentTimeMillis()\n    );\n\n    private final int usageStatsInterval;\n    private final long beginTime;\n    private final long endTime;\n\n    UsageStatsSelection(int usageStatsInterval, long beginTime, long endTime) {\n        this.usageStatsInterval = usageStatsInterval;\n        this.beginTime = beginTime;\n        this.endTime = endTime;\n    }\n\n    public int getUsageStatsInterval() {\n        return usageStatsInterval;\n    }\n\n    public long getBeginTime() {\n        return beginTime;\n    }\n\n    public long getEndTime() {\n        return endTime;\n    }\n}\n</code></pre>\n<p>Since it is not possible to get all days for queryEvents (see: <a href=\"https://developer.android.com/reference/android/app/usage/UsageStatsManager#queryEvents(long,%20long)\" rel=\"nofollow noreferrer\">queryEvents()</a>, Query for events in the given time range. Events are only kept by the system for a few days.), we will use queryEvents to get only daily events. We will also use the queryUsageStats() function to get the Weekly, Monthly and Yearly usage data.</p>\n<pre><code>@NonNull\npublic static Map&lt;String, AppUsageStats&gt; queryUsageStats(\n        Context context,\n        @NonNull UsageStatsSelection statsSelection\n) {\n    final UsageStatsManager usageStatsManager = (UsageStatsManager) context.getSystemService(Context.USAGE_STATS_SERVICE);\n    final Map&lt;String, AppUsageStats&gt; appUsageStatsHashMap = new HashMap&lt;&gt;();\n    switch (statsSelection) {\n        case HOURLY:\n            final UsageEvents events = usageStatsManager.queryEvents(\n                    statsSelection.getBeginTime(),\n                    statsSelection.getEndTime()\n            );\n            Map&lt;String, List&lt;UsageEvents.Event&gt;&gt; eventsMap = new HashMap&lt;&gt;();\n            UsageEvents.Event currentEvent;\n            while (events.hasNextEvent()) {\n                currentEvent = new UsageEvents.Event();\n                if (events.getNextEvent(currentEvent)) {\n                    switch (currentEvent.getEventType()) {\n                        case UsageEvents.Event.ACTIVITY_RESUMED:\n                        case UsageEvents.Event.ACTIVITY_PAUSED:\n                        case UsageEvents.Event.ACTIVITY_STOPPED:\n                        case UsageEvents.Event.FOREGROUND_SERVICE_START:\n                        case UsageEvents.Event.FOREGROUND_SERVICE_STOP:\n                            List&lt;UsageEvents.Event&gt; packageEvents = eventsMap.get(currentEvent.getPackageName());\n                            if (packageEvents == null) {\n                                packageEvents = new ArrayList&lt;&gt;(Collections.singletonList(currentEvent));\n                            } else {\n                                packageEvents.add(currentEvent);\n                            }\n                            eventsMap.put(currentEvent.getPackageName(), packageEvents);\n                            break;\n                    }\n                }\n            }\n\n            for (Map.Entry&lt;String, List&lt;UsageEvents.Event&gt;&gt; entry : eventsMap.entrySet()) {\n                final AppUsageStatsBucket foregroundBucket = new AppUsageStatsBucket();\n                final Map&lt;String, AppUsageStatsBucket&gt; backgroundBucketMap = new HashMap&lt;&gt;();\n                for (int pos = 0; pos &lt; entry.getValue().size(); pos++) {\n                    final UsageEvents.Event event = entry.getValue().get(pos);\n                    AppUsageStatsBucket backgroundBucket = backgroundBucketMap.get(event.getClassName());\n                    if (backgroundBucket == null) {\n                        backgroundBucket = new AppUsageStatsBucket();\n                        backgroundBucketMap.put(event.getClassName(), backgroundBucket);\n                    }\n                    switch (event.getEventType()) {\n                        case UsageEvents.Event.ACTIVITY_RESUMED:\n                            foregroundBucket.setStartMillis(event.getTimeStamp());\n                            break;\n                        case UsageEvents.Event.ACTIVITY_PAUSED:\n                        case UsageEvents.Event.ACTIVITY_STOPPED:\n                            if (foregroundBucket.getStartMillis() &gt;= foregroundBucket.getEndMillis()) {\n                                if (foregroundBucket.getStartMillis() == 0L) {\n                                    foregroundBucket.setStartMillis(statsSelection.getBeginTime());\n                                }\n                                foregroundBucket.setEndMillis(event.getTimeStamp());\n                                foregroundBucket.addTotalTime();\n                            }\n                            break;\n                        case UsageEvents.Event.FOREGROUND_SERVICE_START:\n                            backgroundBucket.setStartMillis(event.getTimeStamp());\n                            break;\n                        case UsageEvents.Event.FOREGROUND_SERVICE_STOP:\n                            if (backgroundBucket.getStartMillis() &gt;= backgroundBucket.getEndMillis()) {\n                                if (backgroundBucket.getStartMillis() == 0L) {\n                                    backgroundBucket.setStartMillis(statsSelection.getBeginTime());\n                                }\n                                backgroundBucket.setEndMillis(event.getTimeStamp());\n                                backgroundBucket.addTotalTime();\n                            }\n                            break;\n                    }\n                    if (pos == entry.getValue().size() - 1) {\n                        if (foregroundBucket.getStartMillis() &gt; foregroundBucket.getEndMillis()) {\n                            foregroundBucket.setEndMillis(statsSelection.getEndTime());\n                            foregroundBucket.addTotalTime();\n                        }\n                        if (backgroundBucket.getStartMillis() &gt; backgroundBucket.getEndMillis()) {\n                            backgroundBucket.setEndMillis(statsSelection.getEndTime());\n                            backgroundBucket.addTotalTime();\n                        }\n                    }\n                }\n\n                final long foregroundEnd = foregroundBucket.getEndMillis();\n                final long totalTimeForeground = foregroundBucket.getTotalTime();\n                final long backgroundEnd = backgroundBucketMap.values()\n                        .stream()\n                        .mapToLong(AppUsageStatsBucket::getEndMillis)\n                        .max()\n                        .orElse(0L);\n                final long totalTimeBackground = backgroundBucketMap.values()\n                        .stream()\n                        .mapToLong(AppUsageStatsBucket::getTotalTime)\n                        .sum();\n\n                appUsageStatsHashMap.put(entry.getKey(), new AppUsageStats(\n                        Math.max(foregroundEnd, backgroundEnd),\n                        totalTimeForeground,\n                        backgroundEnd,\n                        totalTimeBackground\n                ));\n            }\n            break;\n        default:\n            final List&lt;UsageStats&gt; usageStats = usageStatsManager\n                .queryUsageStats(\n                        statsSelection.getUsageStatsInterval(),\n                        statsSelection.getBeginTime(),\n                        statsSelection.getEndTime()\n                );\n            appUsageStatsHashMap.putAll(usageStats.parallelStream()\n                    .collect(Collectors.toMap(\n                            UsageStats::getPackageName,\n                            stats -&gt; new AppUsageStats(\n                                    stats.getLastTimeUsed(),\n                                    stats.getTotalTimeInForeground(),\n                                    Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q\n                                            ? stats.getLastTimeForegroundServiceUsed()\n                                            : 0,\n                                    Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q\n                                            ? stats.getTotalTimeForegroundServiceUsed()\n                                            : 0\n                            ),\n                            (oldValue, newValue) -&gt; newValue\n                    )));\n            break;\n    }\n    return appUsageStatsHashMap;\n}\n</code></pre>\n<p>The result will be returned as Package Name and AppUsageStats list.</p>\n"}],"owner":{"account_id":8121475,"reputation":211,"user_id":6118076,"display_name":"Ryan McDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9599,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":5,"score":21,"last_activity_date":1679220575,"creation_date":1459013437,"question_id":36238481,"body_markdown":"I&#39;m attempting to query `UsageStats` from `UsageStatsManager`, with the aim of returning all app packages that were used daily and for how long.\r\n\r\n**The Code:**\r\n\r\n    public static List&lt;UsageStats&gt; getUsageStatsList(Context context){\r\n        UsageStatsManager usm = getUsageStatsManager(context);\r\n        Calendar calendar = Calendar.getInstance();\r\n        long endTime = calendar.getTimeInMillis();\r\n        calendar.add(Calendar.DAY_OF_YEAR, -1);\r\n        long startTime = calendar.getTimeInMillis();\r\n\r\n        List&lt;UsageStats&gt; usageStatsList = usm.queryUsageStats(UsageStatsManager.INTERVAL_DAILY,startTime, endTime);\r\n        return usageStatsList;\r\n    }\r\n\r\nI have an alarm that fires daily just before midnight and query&#39;s usagestats and then stores the returned data. At first everything seemed to be working fine and I was getting package results and their active time, however I added a function that would check the results hourly and here is where I made a strange discovery.\r\n\r\nThe results from `UsageStatsManager`seemed to be resetting at different times, instead of at midnight, which is what I would have expected considering I was using `INTERVAL_DAILY` as a search parameter.\r\n\r\nFrom the data I saved the package &#39;time&#39; results seem to be resetting at (**Rough timings**):\r\n\r\n - 3am\r\n - Midday\r\n - 3pm\r\n - Midnight\r\n\r\n\r\n\r\nI realize that there is a correlation between when the package timings reset but is this meant to happen?\r\n\r\nI&#39;ve already seen the following thread and it&#39;s where I got a lot of my information from:\r\nhttps://stackoverflow.com/questions/26431795/how-to-use-usagestatsmanager\r\n\r\nConsequently:\r\nhttps://stackoverflow.com/questions/30386789/android-usagestatsmanager-producing-wrong-output\r\nIn the comments mentions that the data returned from `queryUsageStats` can&#39;t be trusted and random results are being returned.\r\n\r\nAm I missing something simple or is `UsageStatsManager` not functioning correctly?","title":"Android: UsageStatsManager not returning correct daily results","body":"<p>I'm attempting to query <code>UsageStats</code> from <code>UsageStatsManager</code>, with the aim of returning all app packages that were used daily and for how long.</p>\n\n<p><strong>The Code:</strong></p>\n\n<pre><code>public static List&lt;UsageStats&gt; getUsageStatsList(Context context){\n    UsageStatsManager usm = getUsageStatsManager(context);\n    Calendar calendar = Calendar.getInstance();\n    long endTime = calendar.getTimeInMillis();\n    calendar.add(Calendar.DAY_OF_YEAR, -1);\n    long startTime = calendar.getTimeInMillis();\n\n    List&lt;UsageStats&gt; usageStatsList = usm.queryUsageStats(UsageStatsManager.INTERVAL_DAILY,startTime, endTime);\n    return usageStatsList;\n}\n</code></pre>\n\n<p>I have an alarm that fires daily just before midnight and query's usagestats and then stores the returned data. At first everything seemed to be working fine and I was getting package results and their active time, however I added a function that would check the results hourly and here is where I made a strange discovery.</p>\n\n<p>The results from <code>UsageStatsManager</code>seemed to be resetting at different times, instead of at midnight, which is what I would have expected considering I was using <code>INTERVAL_DAILY</code> as a search parameter.</p>\n\n<p>From the data I saved the package 'time' results seem to be resetting at (<strong>Rough timings</strong>):</p>\n\n<ul>\n<li>3am</li>\n<li>Midday</li>\n<li>3pm</li>\n<li>Midnight</li>\n</ul>\n\n<p>I realize that there is a correlation between when the package timings reset but is this meant to happen?</p>\n\n<p>I've already seen the following thread and it's where I got a lot of my information from:\n<a href=\"https://stackoverflow.com/questions/26431795/how-to-use-usagestatsmanager\">How to use UsageStatsManager?</a></p>\n\n<p>Consequently:\n<a href=\"https://stackoverflow.com/questions/30386789/android-usagestatsmanager-producing-wrong-output\">Android UsageStatsManager producing wrong output?</a>\nIn the comments mentions that the data returned from <code>queryUsageStats</code> can't be trusted and random results are being returned.</p>\n\n<p>Am I missing something simple or is <code>UsageStatsManager</code> not functioning correctly?</p>\n"},{"tags":["java","xml","android-studio"],"comments":[{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":0,"creation_date":1679176874,"post_id":75778517,"comment_id":133675616,"body_markdown":"Please provide some code you worked on before this problem occurred.","body":"Please provide some code you worked on before this problem occurred."},{"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Cătălin Cucer"},"score":0,"creation_date":1679221235,"post_id":75778517,"comment_id":133679250,"body_markdown":"1. Check .xml layout files and resources.\n2. Try to refresh the layout editor.\n3. Invalidate Caches.","body":"1. Check .xml layout files and resources. 2. Try to refresh the layout editor. 3. Invalidate Caches."}],"owner":{"account_id":27726610,"reputation":11,"user_id":21166019,"display_name":"Guțanov Dorel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679220522,"creation_date":1679171516,"question_id":75778517,"body_markdown":"```\r\njava.lang.reflect.InvocationTargetException &#160;&#160; jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java:-2) jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) java.lang.reflect.Method.invoke(Method.java:566)\r\nandroid.view.LayoutInflater.onCreateView(LayoutInflater.java:934) &#160; android.view.LayoutInflater.onCreateView(LayoutInflater.java:954) android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1008) android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:965) &#160;&#160; android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1127) &#160;&#160; android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72) &#160;&#160; android.view.LayoutInflater.rInflate(LayoutInflater.java:1101) &#160;&#160; android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088) &#160;&#160; android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130) &#160;&#160; android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72) &#160;&#160; android.view.LayoutInflater.rInflate(LayoutInflater.java:1101) &#160;&#160; android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088) &#160;&#160; android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130) &#160;&#160; android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72) &#160;&#160; android.view.LayoutInflater.rInflate(LayoutInflater.java:1101) &#160;&#160; android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088) &#160;&#160; android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130) &#160;&#160; android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72) &#160;&#160; android.view.LayoutInflater.rInflate(LayoutInflater.java:1101) &#160;&#160; android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\r\nandroid.view.LayoutInflater.inflate(LayoutInflater.java:686)\r\nandroid.view.LayoutInflater.inflate(LayoutInflater.java:505) \r\nCopy stack to clipboard   Tip: Try to refresh the layout. \r\n```\r\nI tried to do Rebuild, and clean the project","title":"I can&#39;t see the layout design Render Problem Android Studio","body":"<pre><code>java.lang.reflect.InvocationTargetException    jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java:-2) jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) java.lang.reflect.Method.invoke(Method.java:566)\nandroid.view.LayoutInflater.onCreateView(LayoutInflater.java:934)   android.view.LayoutInflater.onCreateView(LayoutInflater.java:954) android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1008) android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:965)    android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1127)    android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)    android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)    android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)    android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)    android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)    android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)    android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)    android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)    android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)    android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)    android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)    android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)    android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)    android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)    android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\nandroid.view.LayoutInflater.inflate(LayoutInflater.java:686)\nandroid.view.LayoutInflater.inflate(LayoutInflater.java:505) \nCopy stack to clipboard   Tip: Try to refresh the layout. \n</code></pre>\n<p>I tried to do Rebuild, and clean the project</p>\n"},{"tags":["java","firebase","gradle"],"owner":{"account_id":27639594,"reputation":1,"user_id":21096798,"display_name":"Mehdi_96"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679220473,"creation_date":1679185468,"question_id":75779431,"body_markdown":"After updating my Android Studio to the latest version i.e. Electric Eel | 2022.1.1, I got &quot;Gradle project sync failed&quot;.\r\nI&#39;m trying to add Craslytics to my app, but I can&#39;t sync the project!\r\n(Note: I don&#39;t want to downgrade the gradle plugin / or change the android studio version, any solution! )\r\n\r\n\r\n\r\n**I received the following error :** \r\n\r\n```\r\nNull extracted folder for artifact: ResolvedArtifact(componentIdentifier=com.google.android.gms:play-services-measurement-impl:21.2.0, variant=com.google.android.gms:play-services-measurement-impl:21.2.0, variantName=null, artifactFile=C:\\Users\\PARA\\.gradle\\caches\\modules-2\\files-2.1\\com.google.android.gms\\play-services-measurement-impl\\21.2.0\\d8bf851298f339055d442465104a8ba357a32347\\play-services-measurement-impl-21.2.0.aar, isTestFixturesArtifact=false, extractedFolder=null, publishedLintJar=null, dependencyType=ANDROID, isWrappedModule=false, buildMapping={__current_build__=C:\\Users\\PARA\\AndroidStudioProjects\\Looki})\r\n```\r\n\r\n**My current project structure:**\r\n\r\n\r\n```\r\nbuildscript {\r\n\r\n    dependencies {\r\n\r\n        /// Google Services\r\n        classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n\r\n        /// Crashlytics\r\n        classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.9.4&#39;\r\n    }\r\n}\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.4.2&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.4.2&#39; apply false\r\n}\r\n```\r\n\r\nand\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n\r\n    /// Google Services plugin\r\n    id &#39;com.google.gms.google-services&#39;\r\n\r\n    /// Firebase Crashlytics plugin\r\n    id &#39;com.google.firebase.crashlytics&#39;\r\n}\r\n\r\n\r\n    // Import the Firebase BoM\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:31.2.3&#39;)\r\n    implementation &#39;com.google.firebase:firebase-crashlytics&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39; //TODO: i think the &quot;Error&quot; is here!!\r\n    //implementation &#39;com.google.firebase:firebase-analytics:21.2.0&#39;\r\n```\r\n\r\n`distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-all.zip`\r\n\r\n\r\n```\r\ncompileOptions {\r\n      sourceCompatibility JavaVersion.VERSION_11\r\n      targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n```\r\n\r\n","title":"Firebase Craslytics/Analytics cause Gradle project sync to failed (Electric Eel | 2022.1.1)","body":"<p>After updating my Android Studio to the latest version i.e. Electric Eel | 2022.1.1, I got &quot;Gradle project sync failed&quot;.\nI'm trying to add Craslytics to my app, but I can't sync the project!\n(Note: I don't want to downgrade the gradle plugin / or change the android studio version, any solution! )</p>\n<p><strong>I received the following error :</strong></p>\n<pre><code>Null extracted folder for artifact: ResolvedArtifact(componentIdentifier=com.google.android.gms:play-services-measurement-impl:21.2.0, variant=com.google.android.gms:play-services-measurement-impl:21.2.0, variantName=null, artifactFile=C:\\Users\\PARA\\.gradle\\caches\\modules-2\\files-2.1\\com.google.android.gms\\play-services-measurement-impl\\21.2.0\\d8bf851298f339055d442465104a8ba357a32347\\play-services-measurement-impl-21.2.0.aar, isTestFixturesArtifact=false, extractedFolder=null, publishedLintJar=null, dependencyType=ANDROID, isWrappedModule=false, buildMapping={__current_build__=C:\\Users\\PARA\\AndroidStudioProjects\\Looki})\n</code></pre>\n<p><strong>My current project structure:</strong></p>\n<pre><code>buildscript {\n\n    dependencies {\n\n        /// Google Services\n        classpath 'com.google.gms:google-services:4.3.15'\n\n        /// Crashlytics\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.9.4'\n    }\n}\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.4.2' apply false\n    id 'com.android.library' version '7.4.2' apply false\n}\n</code></pre>\n<p>and</p>\n<pre><code>plugins {\n    id 'com.android.application'\n\n    /// Google Services plugin\n    id 'com.google.gms.google-services'\n\n    /// Firebase Crashlytics plugin\n    id 'com.google.firebase.crashlytics'\n}\n\n\n    // Import the Firebase BoM\n    implementation platform('com.google.firebase:firebase-bom:31.2.3')\n    implementation 'com.google.firebase:firebase-crashlytics'\n    implementation 'com.google.firebase:firebase-analytics' //TODO: i think the &quot;Error&quot; is here!!\n    //implementation 'com.google.firebase:firebase-analytics:21.2.0'\n</code></pre>\n<p><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-all.zip</code></p>\n<pre><code>compileOptions {\n      sourceCompatibility JavaVersion.VERSION_11\n      targetCompatibility JavaVersion.VERSION_11\n    }\n</code></pre>\n"},{"tags":["java","junit","umlet"],"owner":{"account_id":28002511,"reputation":1,"user_id":21386463,"display_name":"erili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679225923,"answer_count":0,"score":0,"last_activity_date":1679220400,"creation_date":1679216832,"question_id":75781000,"body_markdown":"I clone the project repo https://github.com/umlet/umlet and try to run on my local.\r\n\r\nBut there are errors after I try to run some unit test cases:\r\njava: package com.baselet.element.sequence_aio.facet.specific.gen does not exist\r\n\r\nwhat does &quot;specific.gen&quot; means here? is it something generated automatically through test? How could I add it?\r\n\r\n\r\nother errors in building output:\r\n```\r\njava: cannot find symbol\r\n  symbol:   class TokenMgrException\r\n  location: class com.baselet.element.sequence_aio.facet.SequenceAllInOneFacet\r\n\r\njava: cannot find symbol\r\n  symbol:   class ParseException\r\n  location: class com.baselet.element.sequence_aio.facet.SequenceAllInOneFacet\r\n```","title":"umlet cannot build and test with error: java: package com.baselet.element.sequence_aio.facet.specific.gen does not exist","body":"<p>I clone the project repo <a href=\"https://github.com/umlet/umlet\" rel=\"nofollow noreferrer\">https://github.com/umlet/umlet</a> and try to run on my local.</p>\n<p>But there are errors after I try to run some unit test cases:\njava: package com.baselet.element.sequence_aio.facet.specific.gen does not exist</p>\n<p>what does &quot;specific.gen&quot; means here? is it something generated automatically through test? How could I add it?</p>\n<p>other errors in building output:</p>\n<pre><code>java: cannot find symbol\n  symbol:   class TokenMgrException\n  location: class com.baselet.element.sequence_aio.facet.SequenceAllInOneFacet\n\njava: cannot find symbol\n  symbol:   class ParseException\n  location: class com.baselet.element.sequence_aio.facet.SequenceAllInOneFacet\n</code></pre>\n"},{"tags":["java","performance","javafx","jar","executable-jar"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1678684537,"post_id":75717176,"comment_id":133574655,"body_markdown":"Where does the pdf come from?  How large is it in bytes and pages?  Are you using the same Java and library versions in the command line as the IDE?  If you load the pdf in a browser using `pdf.js` is it also slow?  If not, you could show the pdf in a browser rather than an embedded web view.  Probably you won’t get much help here.  You will need to profile the app and see  why it is slow (which may be difficult given a lot of the work is in JavaScript in WebView).","body":"Where does the pdf come from?  How large is it in bytes and pages?  Are you using the same Java and library versions in the command line as the IDE?  If you load the pdf in a browser using <code>pdf.js</code> is it also slow?  If not, you could show the pdf in a browser rather than an embedded web view.  Probably you won’t get much help here.  You will need to profile the app and see  why it is slow (which may be difficult given a lot of the work is in JavaScript in WebView)."},{"owner":{"account_id":23139905,"reputation":1,"user_id":17243550,"display_name":"Ahmad Luay AlQatu"},"score":0,"creation_date":1678699969,"post_id":75717176,"comment_id":133577562,"body_markdown":"I need to impeded a pdf viewer in my java, Small pdf its slower but its ok but 35mb file start not responding, i check in profiler isee 3 threads from thread pool when run in ide , but in jar its 1, in tasks manager cpu utilisation gos to 70% where in jar the max i see 30 to 50, what could be the difference in ide thes problem made me comb my hair","body":"I need to impeded a pdf viewer in my java, Small pdf its slower but its ok but 35mb file start not responding, i check in profiler isee 3 threads from thread pool when run in ide , but in jar its 1, in tasks manager cpu utilisation gos to 70% where in jar the max i see 30 to 50, what could be the difference in ide thes problem made me comb my hair"}],"answers":[{"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1678743948,"post_id":75725386,"comment_id":133590036,"body_markdown":"That doesn&#39;t look like the right way to run a JavaFX application.  The JavaFX modules should be on the module path, not the class path, see [https://openjfx.io](https://openjfx.io/openjfx-docs/).  I&#39;m not saying that this is related to your performance issue.","body":"That doesn&#39;t look like the right way to run a JavaFX application.  The JavaFX modules should be on the module path, not the class path, see <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">https://openjfx.io</a>.  I&#39;m not saying that this is related to your performance issue."},{"owner":{"account_id":23139905,"reputation":1,"user_id":17243550,"display_name":"Ahmad Luay AlQatu"},"score":0,"creation_date":1678748928,"post_id":75725386,"comment_id":133590904,"body_markdown":"all desinences and JavaFX  are embedded in jar, I use -cp to run the main class","body":"all desinences and JavaFX  are embedded in jar, I use -cp to run the main class"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1678752348,"post_id":75725386,"comment_id":133591330,"body_markdown":"That is an [unsupported configuration](https://stackoverflow.com/questions/67854139/javafx-warning-unsupported-javafx-configuration-classes-were-loaded-from-unna), but if it is working for you at the moment, then I guess OK . . .","body":"That is an <a href=\"https://stackoverflow.com/questions/67854139/javafx-warning-unsupported-javafx-configuration-classes-were-loaded-from-unna\">unsupported configuration</a>, but if it is working for you at the moment, then I guess OK . . ."}],"tags":[],"owner":{"account_id":23139905,"reputation":1,"user_id":17243550,"display_name":"Ahmad Luay AlQatu"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679219411,"creation_date":1678730485,"answer_id":75725386,"question_id":75717176,"body_markdown":"it works smoothly when I extract the jar and run the main.class from cmd like this\r\n\r\n```\r\njava -cp ./pdfcheck-1.0  pdfcheck.main\r\n```\r\nI said this is most likely how the ide run my code.\r\nany explanation of what happened and why? ","title":"when run web view from the ide its fast but when run jar its so slow i use maven","body":"<p>it works smoothly when I extract the jar and run the main.class from cmd like this</p>\n<pre><code>java -cp ./pdfcheck-1.0  pdfcheck.main\n</code></pre>\n<p>I said this is most likely how the ide run my code.\nany explanation of what happened and why?</p>\n"}],"owner":{"account_id":23139905,"reputation":1,"user_id":17243550,"display_name":"Ahmad Luay AlQatu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679219411,"creation_date":1678666953,"question_id":75717176,"body_markdown":"my problem is when I try to display pdf in my JavaFX app, the pages load fast when I run from the ide \r\n\r\nbut its to slow and show not respond, I set the heap to 3000mp without any difference\r\n\r\nI use the **[PDFViewerFX](https://github.com/Dansoftowner/PDFViewerFX) **library in my project and edit the buffering code to enhance performance,\r\n\r\nit&#39;s faster now in ide but nothing improved on the jar file,\r\n\r\nwhat could be the difference running in ide or jar?\r\n\r\nhear is the code to display pdf\r\n\r\n```\r\n    public void loadPDF(URL url) throws IOException {\r\n        loadPDF(new BufferedInputStream(url.openConnection().getInputStream()));\r\n    }\r\n    private static final Logger logger = LoggerFactory.getLogger(PDFDisplayer.class);\r\n    private static final int THREAD_POOL_SIZE = 5;\r\n\r\n    private static final ExecutorService THREAD_POOL = Executors.newFixedThreadPool(THREAD_POOL_SIZE, new ThreadFactory() {\r\n        private final ThreadGroup group = new ThreadGroup(&quot;my-thread-pool&quot;);\r\n        @Override\r\n        public Thread newThread(Runnable r) {\r\n            Thread t = new Thread(group, r, &quot;my-thread-&quot; + new AtomicInteger(1), 0);\r\n            t.setDaemon(false);\r\n            return t;\r\n        }\r\n    });\r\n\r\n\r\n    private final ObjectProperty&lt;Consumer&lt;Task&lt;String&gt;&gt;&gt; onLoaderTaskPresent =\r\n            new SimpleObjectProperty&lt;&gt;();\r\n\r\n    private boolean pdfJsLoaded;\r\n    public void loadPDF(InputStream inputStream) {\r\n        if (inputStream == null)\r\n            return;\r\n\r\n        Task&lt;String&gt; task = buildLoadingTask(inputStream);\r\n\r\n        final Consumer&lt;Task&lt;String&gt;&gt; onLoaderTaskPresent = this.onLoaderTaskPresent.get();\r\n        if (onLoaderTaskPresent != null) {\r\n            Platform.runLater(() -&gt; onLoaderTaskPresent.accept(task));\r\n        }\r\n        THREAD_POOL.submit(task);\r\n    }\r\n\r\n    /**\r\n     * @deprecated Use {@link #loadPDF(InputStream)} instead\r\n     */\r\n    @Deprecated\r\n    public void displayPdf(InputStream inputStream) throws IOException {\r\n        loadPDF(inputStream);\r\n    }\r\n    private void loadInputStream(InputStream inputStream) {\r\n        Task&lt;String&gt; loadingTask = buildLoadingTask(inputStream);\r\n        THREAD_POOL.submit(loadingTask);\r\n        loadingTask.setOnSucceeded(event -&gt; {\r\n            String js = loadingTask.getValue();\r\n            if (js != null) {\r\n                try {\r\n                    webView.getEngine().executeScript(js);\r\n                } catch (Exception ex) {\r\n                    if (!pdfJsLoaded) {\r\n                        loadScript = js;\r\n                    }\r\n                }\r\n            }\r\n            THREAD_POOL.shutdown();\r\n        });\r\n        loadingTask.setOnFailed(event -&gt; {\r\n            Throwable ex = event.getSource().getException();\r\n            if (ex != null) {\r\n                // Handle error more gracefully\r\n                showErrorDialog(&quot;Failed to execute script&quot;, (Exception) ex);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private Task&lt;String&gt; buildLoadingTask(InputStream inputStream) {\r\n        final Task&lt;String&gt; task = new Task&lt;String&gt;() {\r\n            @Override\r\n            protected String call() throws Exception {\r\n                try (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\r\n\r\n                    long contentSize = inputStream.available();\r\n                    long onePercent = contentSize / 100;\r\n\r\n                    int allReadBytesCount = 0;\r\n\r\n                    byte[] buf = new byte[4096];\r\n                    int bytesRead;\r\n                    while ((bytesRead = inputStream.read(buf)) &gt;= 0) {\r\n                        allReadBytesCount += bytesRead;\r\n                        outputStream.write(buf, 0, bytesRead);\r\n\r\n                        if (onePercent &gt; 0) {\r\n                            double percent = allReadBytesCount / (double) onePercent;\r\n                            updateProgress(percent, 100d);\r\n                        }\r\n\r\n                        if (this.isCancelled()) {\r\n                            return null;\r\n                        }\r\n                    }\r\n\r\n                    byte[] data = outputStream.toByteArray();\r\n                    String base64 = Base64.getEncoder().encodeToString(data);\r\n\r\n                    //JS Function declaration\r\n                    return &quot;openFileFromBase64(&#39;&quot; + base64 + &quot;&#39;);&quot;;\r\n                } finally {\r\n                    inputStream.close();\r\n                }\r\n            }\r\n        };\r\n        task.valueProperty().addListener((observable, oldValue, js) -&gt; {\r\n            if (js != null) {\r\n                try {\r\n                    webView.getEngine().executeScript(js);\r\n                } catch (Exception ex) {\r\n                    if (!pdfJsLoaded) loadScript = js;\r\n                }\r\n            }\r\n        });\r\n        return task;\r\n    }\r\n    @SuppressWarnings(&quot;all&quot;)\r\n    public void setSecondaryToolbarToggleVisibility(boolean value) {\r\n        setVisibilityOf(&quot;secondaryToolbarToggle&quot;, value);\r\n\r\n        String js;\r\n        if (value){\r\n            js = new StringBuilder()\r\n                    .append(&quot;var element = document.getElementsByClassName(&#39;verticalToolbarSeparator&#39;)[0];&quot;)\r\n                    .append(&quot;element.style.display = &#39;inherit&#39;;&quot;)\r\n                    .append(&quot;element.style.visibility = &#39;inherit&#39;;&quot;)\r\n                    .toString();\r\n        } else {\r\n            js = new StringBuilder()\r\n                    .append(&quot;var element = document.getElementsByClassName(&#39;verticalToolbarSeparator&#39;)[0];&quot;)\r\n                    .append(&quot;element.style.display = &#39;none&#39;;&quot;)\r\n                    .append(&quot;element.style.visibility = &#39;hidden&#39;;&quot;)\r\n                    .toString();\r\n        }\r\n\r\n        try {\r\n            webView.getEngine().executeScript(js);\r\n        } catch (Exception ex){\r\n            if (!pdfJsLoaded) toExecuteWhenPDFJSLoaded += js;\r\n        }\r\n    }\r\n\r\n    @SuppressWarnings(&quot;all&quot;)\r\n    public void setVisibilityOf(String id, boolean value){\r\n        String css;\r\n        if (value) {\r\n            css = new StringBuilder()\r\n                    .append(&quot;document.getElementById(&#39;&quot; + id + &quot;&#39;).style.display = &#39;inherit&#39;;&quot;)\r\n                    .append(&quot;document.getElementById(&#39;&quot; + id + &quot;&#39;).style.visibility = &#39;inherit&#39;;&quot;)\r\n                    .toString();\r\n        } else {\r\n            css = new StringBuilder()\r\n                    .append(&quot;document.getElementById(&#39;&quot; + id + &quot;&#39;).style.display = &#39;none&#39;;&quot;)\r\n                    .append(&quot;document.getElementById(&#39;&quot; + id + &quot;&#39;).style.visibility = &#39;hidden&#39;;&quot;)\r\n                    .toString();\r\n        }\r\n\r\n        try {\r\n            webView.getEngine().executeScript(css);\r\n        } catch (Exception ex) {\r\n            if (!pdfJsLoaded) this.toExecuteWhenPDFJSLoaded += css;\r\n        }\r\n    }\r\n\r\n    public int getActualPageNumber(){\r\n        try {\r\n            return (int) webView.getEngine().executeScript(&quot;PDFViewerApplication.page;&quot;);\r\n        } catch (Exception e) {\r\n            return 0;\r\n        }\r\n    }\r\n    private void showErrorDialog(String message, Exception ex) {\r\n        Alert alert = new Alert(Alert.AlertType.ERROR);\r\n        alert.setTitle(&quot;Error&quot;);\r\n        alert.setHeaderText(message);\r\n        alert.setContentText(ex.getMessage());\r\n        alert.showAndWait();\r\n    }\r\n    public int getTotalPageCount(){\r\n        try {\r\n            return (int) webView.getEngine().executeScript(&quot;PDFViewerApplication.pagesCount;&quot;);\r\n        } catch (Exception e) {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    public void navigateByPage(int pageNum) {\r\n        String jsCommand = &quot;goToPage(&quot; + pageNum + &quot;);&quot;;\r\n        try {\r\n            webView.getEngine().executeScript(jsCommand);\r\n        } catch (Exception ex) {\r\n            if (!pdfJsLoaded) toExecuteWhenPDFJSLoaded += jsCommand;\r\n        }\r\n    }\r\n\r\n    public void executeScript(String js) {\r\n        try {\r\n            this.webView.getEngine().executeScript(js);\r\n        } catch (Exception ex) {\r\n            if (!pdfJsLoaded) toExecuteWhenPDFJSLoaded += String.format(&quot;%s;&quot;, js);\r\n        }\r\n    }\r\n\r\n    private WebView createWebView() {\r\n        WebView webView = new WebView();\r\n        webView.setContextMenuEnabled(false);\r\n\r\n        WebEngine engine = webView.getEngine();\r\nString url;\r\n      try {\r\n            URL resourceUrl = getClass().getResource(&quot;/pdfjs_2.2.228/web/viewer.html&quot;);\r\n        engine.setJavaScriptEnabled(true);\r\n        engine.load(resourceUrl.toString());\r\n\r\n      } catch (Exception e1) {\r\n         // TODO Auto-generated catch block\r\n         e1.printStackTrace();\r\n      }\r\n        engine.getLoadWorker()\r\n                .stateProperty()\r\n                .addListener(\r\n                        new ChangeListener&lt;Worker.State&gt;() {\r\n                            @Override\r\n                            public void changed(ObservableValue&lt;? extends Worker.State&gt; observable, Worker.State oldValue, Worker.State newValue) {\r\n                                JSObject window = (JSObject) engine.executeScript(&quot;window&quot;);\r\n                                window.setMember(&quot;java&quot;, new JSLogListener());\r\n\r\n                                if (newValue == Worker.State.SUCCEEDED) {\r\n                                    try {\r\n                                       pdfJsLoaded = true;\r\n\r\n                                        if (loadScript != null) {\r\n                                            logger.debug(&quot;PDF already loaded&quot;);\r\n                                            engine.executeScript(loadScript);\r\n                                        }\r\n\r\n                                        engine.executeScript(toExecuteWhenPDFJSLoaded);\r\n                                        toExecuteWhenPDFJSLoaded = null;\r\n                                        observable.removeListener(this);\r\n                                    } catch (Exception e) {\r\n                                        throw new RuntimeException(e);\r\n                                    }\r\n                                }\r\n                            }\r\n                        });\r\n        return webView;\r\n    }\r\n\r\n    public Parent toNode() {\r\n        if (webView == null)\r\n            return webView = createWebView();\r\n        else\r\n            return webView;\r\n    }\r\n```\r\n\r\nI used Marven and artifact with jest dependency I used and the performance are the same \r\n\r\nI use openjdk18 and oracle  jdk18 the same result\r\n\r\n","title":"when run web view from the ide its fast but when run jar its so slow i use maven","body":"<p>my problem is when I try to display pdf in my JavaFX app, the pages load fast when I run from the ide</p>\n<p>but its to slow and show not respond, I set the heap to 3000mp without any difference</p>\n<p>I use the **<a href=\"https://github.com/Dansoftowner/PDFViewerFX\" rel=\"nofollow noreferrer\">PDFViewerFX</a> **library in my project and edit the buffering code to enhance performance,</p>\n<p>it's faster now in ide but nothing improved on the jar file,</p>\n<p>what could be the difference running in ide or jar?</p>\n<p>hear is the code to display pdf</p>\n<pre><code>    public void loadPDF(URL url) throws IOException {\n        loadPDF(new BufferedInputStream(url.openConnection().getInputStream()));\n    }\n    private static final Logger logger = LoggerFactory.getLogger(PDFDisplayer.class);\n    private static final int THREAD_POOL_SIZE = 5;\n\n    private static final ExecutorService THREAD_POOL = Executors.newFixedThreadPool(THREAD_POOL_SIZE, new ThreadFactory() {\n        private final ThreadGroup group = new ThreadGroup(&quot;my-thread-pool&quot;);\n        @Override\n        public Thread newThread(Runnable r) {\n            Thread t = new Thread(group, r, &quot;my-thread-&quot; + new AtomicInteger(1), 0);\n            t.setDaemon(false);\n            return t;\n        }\n    });\n\n\n    private final ObjectProperty&lt;Consumer&lt;Task&lt;String&gt;&gt;&gt; onLoaderTaskPresent =\n            new SimpleObjectProperty&lt;&gt;();\n\n    private boolean pdfJsLoaded;\n    public void loadPDF(InputStream inputStream) {\n        if (inputStream == null)\n            return;\n\n        Task&lt;String&gt; task = buildLoadingTask(inputStream);\n\n        final Consumer&lt;Task&lt;String&gt;&gt; onLoaderTaskPresent = this.onLoaderTaskPresent.get();\n        if (onLoaderTaskPresent != null) {\n            Platform.runLater(() -&gt; onLoaderTaskPresent.accept(task));\n        }\n        THREAD_POOL.submit(task);\n    }\n\n    /**\n     * @deprecated Use {@link #loadPDF(InputStream)} instead\n     */\n    @Deprecated\n    public void displayPdf(InputStream inputStream) throws IOException {\n        loadPDF(inputStream);\n    }\n    private void loadInputStream(InputStream inputStream) {\n        Task&lt;String&gt; loadingTask = buildLoadingTask(inputStream);\n        THREAD_POOL.submit(loadingTask);\n        loadingTask.setOnSucceeded(event -&gt; {\n            String js = loadingTask.getValue();\n            if (js != null) {\n                try {\n                    webView.getEngine().executeScript(js);\n                } catch (Exception ex) {\n                    if (!pdfJsLoaded) {\n                        loadScript = js;\n                    }\n                }\n            }\n            THREAD_POOL.shutdown();\n        });\n        loadingTask.setOnFailed(event -&gt; {\n            Throwable ex = event.getSource().getException();\n            if (ex != null) {\n                // Handle error more gracefully\n                showErrorDialog(&quot;Failed to execute script&quot;, (Exception) ex);\n            }\n        });\n    }\n\n\n    private Task&lt;String&gt; buildLoadingTask(InputStream inputStream) {\n        final Task&lt;String&gt; task = new Task&lt;String&gt;() {\n            @Override\n            protected String call() throws Exception {\n                try (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\n\n                    long contentSize = inputStream.available();\n                    long onePercent = contentSize / 100;\n\n                    int allReadBytesCount = 0;\n\n                    byte[] buf = new byte[4096];\n                    int bytesRead;\n                    while ((bytesRead = inputStream.read(buf)) &gt;= 0) {\n                        allReadBytesCount += bytesRead;\n                        outputStream.write(buf, 0, bytesRead);\n\n                        if (onePercent &gt; 0) {\n                            double percent = allReadBytesCount / (double) onePercent;\n                            updateProgress(percent, 100d);\n                        }\n\n                        if (this.isCancelled()) {\n                            return null;\n                        }\n                    }\n\n                    byte[] data = outputStream.toByteArray();\n                    String base64 = Base64.getEncoder().encodeToString(data);\n\n                    //JS Function declaration\n                    return &quot;openFileFromBase64('&quot; + base64 + &quot;');&quot;;\n                } finally {\n                    inputStream.close();\n                }\n            }\n        };\n        task.valueProperty().addListener((observable, oldValue, js) -&gt; {\n            if (js != null) {\n                try {\n                    webView.getEngine().executeScript(js);\n                } catch (Exception ex) {\n                    if (!pdfJsLoaded) loadScript = js;\n                }\n            }\n        });\n        return task;\n    }\n    @SuppressWarnings(&quot;all&quot;)\n    public void setSecondaryToolbarToggleVisibility(boolean value) {\n        setVisibilityOf(&quot;secondaryToolbarToggle&quot;, value);\n\n        String js;\n        if (value){\n            js = new StringBuilder()\n                    .append(&quot;var element = document.getElementsByClassName('verticalToolbarSeparator')[0];&quot;)\n                    .append(&quot;element.style.display = 'inherit';&quot;)\n                    .append(&quot;element.style.visibility = 'inherit';&quot;)\n                    .toString();\n        } else {\n            js = new StringBuilder()\n                    .append(&quot;var element = document.getElementsByClassName('verticalToolbarSeparator')[0];&quot;)\n                    .append(&quot;element.style.display = 'none';&quot;)\n                    .append(&quot;element.style.visibility = 'hidden';&quot;)\n                    .toString();\n        }\n\n        try {\n            webView.getEngine().executeScript(js);\n        } catch (Exception ex){\n            if (!pdfJsLoaded) toExecuteWhenPDFJSLoaded += js;\n        }\n    }\n\n    @SuppressWarnings(&quot;all&quot;)\n    public void setVisibilityOf(String id, boolean value){\n        String css;\n        if (value) {\n            css = new StringBuilder()\n                    .append(&quot;document.getElementById('&quot; + id + &quot;').style.display = 'inherit';&quot;)\n                    .append(&quot;document.getElementById('&quot; + id + &quot;').style.visibility = 'inherit';&quot;)\n                    .toString();\n        } else {\n            css = new StringBuilder()\n                    .append(&quot;document.getElementById('&quot; + id + &quot;').style.display = 'none';&quot;)\n                    .append(&quot;document.getElementById('&quot; + id + &quot;').style.visibility = 'hidden';&quot;)\n                    .toString();\n        }\n\n        try {\n            webView.getEngine().executeScript(css);\n        } catch (Exception ex) {\n            if (!pdfJsLoaded) this.toExecuteWhenPDFJSLoaded += css;\n        }\n    }\n\n    public int getActualPageNumber(){\n        try {\n            return (int) webView.getEngine().executeScript(&quot;PDFViewerApplication.page;&quot;);\n        } catch (Exception e) {\n            return 0;\n        }\n    }\n    private void showErrorDialog(String message, Exception ex) {\n        Alert alert = new Alert(Alert.AlertType.ERROR);\n        alert.setTitle(&quot;Error&quot;);\n        alert.setHeaderText(message);\n        alert.setContentText(ex.getMessage());\n        alert.showAndWait();\n    }\n    public int getTotalPageCount(){\n        try {\n            return (int) webView.getEngine().executeScript(&quot;PDFViewerApplication.pagesCount;&quot;);\n        } catch (Exception e) {\n            return 0;\n        }\n    }\n\n    public void navigateByPage(int pageNum) {\n        String jsCommand = &quot;goToPage(&quot; + pageNum + &quot;);&quot;;\n        try {\n            webView.getEngine().executeScript(jsCommand);\n        } catch (Exception ex) {\n            if (!pdfJsLoaded) toExecuteWhenPDFJSLoaded += jsCommand;\n        }\n    }\n\n    public void executeScript(String js) {\n        try {\n            this.webView.getEngine().executeScript(js);\n        } catch (Exception ex) {\n            if (!pdfJsLoaded) toExecuteWhenPDFJSLoaded += String.format(&quot;%s;&quot;, js);\n        }\n    }\n\n    private WebView createWebView() {\n        WebView webView = new WebView();\n        webView.setContextMenuEnabled(false);\n\n        WebEngine engine = webView.getEngine();\nString url;\n      try {\n            URL resourceUrl = getClass().getResource(&quot;/pdfjs_2.2.228/web/viewer.html&quot;);\n        engine.setJavaScriptEnabled(true);\n        engine.load(resourceUrl.toString());\n\n      } catch (Exception e1) {\n         // TODO Auto-generated catch block\n         e1.printStackTrace();\n      }\n        engine.getLoadWorker()\n                .stateProperty()\n                .addListener(\n                        new ChangeListener&lt;Worker.State&gt;() {\n                            @Override\n                            public void changed(ObservableValue&lt;? extends Worker.State&gt; observable, Worker.State oldValue, Worker.State newValue) {\n                                JSObject window = (JSObject) engine.executeScript(&quot;window&quot;);\n                                window.setMember(&quot;java&quot;, new JSLogListener());\n\n                                if (newValue == Worker.State.SUCCEEDED) {\n                                    try {\n                                       pdfJsLoaded = true;\n\n                                        if (loadScript != null) {\n                                            logger.debug(&quot;PDF already loaded&quot;);\n                                            engine.executeScript(loadScript);\n                                        }\n\n                                        engine.executeScript(toExecuteWhenPDFJSLoaded);\n                                        toExecuteWhenPDFJSLoaded = null;\n                                        observable.removeListener(this);\n                                    } catch (Exception e) {\n                                        throw new RuntimeException(e);\n                                    }\n                                }\n                            }\n                        });\n        return webView;\n    }\n\n    public Parent toNode() {\n        if (webView == null)\n            return webView = createWebView();\n        else\n            return webView;\n    }\n</code></pre>\n<p>I used Marven and artifact with jest dependency I used and the performance are the same</p>\n<p>I use openjdk18 and oracle  jdk18 the same result</p>\n"},{"tags":["java","automated-tests","appium","appium-android"],"answers":[{"tags":[],"owner":{"account_id":1379009,"reputation":1186,"user_id":1312415,"accept_rate":0,"display_name":"Mani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550201025,"creation_date":1550201025,"answer_id":54702280,"question_id":54698132,"body_markdown":"Following you can do scan:\r\n\r\n- keep you phone on stand back side you can put the QR code whenever the camera open it will scan\r\n\r\n- If that app supports the pick the QR code from gallery, you can pick from QR code picture from gallery\r\n\r\nSince Appium interacting with UI, it doesn&#39;t have access internal  components.\r\n\r\nAppium espresso might have the internal components like set drawable image and it comes with certain limitation  ","title":"Do I need to automate an app that Scan a QR, Is there an Appium function to send a specific QR from JAVA?","body":"<p>Following you can do scan:</p>\n\n<ul>\n<li><p>keep you phone on stand back side you can put the QR code whenever the camera open it will scan</p></li>\n<li><p>If that app supports the pick the QR code from gallery, you can pick from QR code picture from gallery</p></li>\n</ul>\n\n<p>Since Appium interacting with UI, it doesn't have access internal  components.</p>\n\n<p>Appium espresso might have the internal components like set drawable image and it comes with certain limitation  </p>\n"},{"tags":[],"owner":{"account_id":4877293,"reputation":6902,"user_id":3931985,"accept_rate":82,"display_name":"ekostadinov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551087002,"creation_date":1551087002,"answer_id":54863066,"question_id":54698132,"body_markdown":"In case you have a \r\n\r\n&gt; QR code. Scenario\r\n\r\nthat needs to make sure that the end to end functioning of software is working fine, or specific business process flow of the software is working fine - I would say, that this should be covered. Maybe, the correct question is, does this need to be automated? \r\n\r\nI have done similar automated checks in JS, so I can only give you some design ideas. My scenario was involving a Barcode scanning in the middle of the test, so the way to achieve this without actual device, for me was to use [broadcast](https://riptutorial.com/android/example/10642/sending-broadcast). Sample code bellow:\r\n\r\n    adb shell am broadcast -a {your-app.action_scan} -c android.intent.category.DEFAULT --es com.symbol.datawedge.data_string {some-expected-string-as-barcode-value}\r\n\r\nNote that this approach relies on testability, that is designed alongside the dev team. In my case, it was OK for them to allow and receive such event. It was tricky to sync the event and the test flow, but at the end we got good coverage of this major functional area.","title":"Do I need to automate an app that Scan a QR, Is there an Appium function to send a specific QR from JAVA?","body":"<p>In case you have a </p>\n\n<blockquote>\n  <p>QR code. Scenario</p>\n</blockquote>\n\n<p>that needs to make sure that the end to end functioning of software is working fine, or specific business process flow of the software is working fine - I would say, that this should be covered. Maybe, the correct question is, does this need to be automated? </p>\n\n<p>I have done similar automated checks in JS, so I can only give you some design ideas. My scenario was involving a Barcode scanning in the middle of the test, so the way to achieve this without actual device, for me was to use <a href=\"https://riptutorial.com/android/example/10642/sending-broadcast\" rel=\"nofollow noreferrer\">broadcast</a>. Sample code bellow:</p>\n\n<pre><code>adb shell am broadcast -a {your-app.action_scan} -c android.intent.category.DEFAULT --es com.symbol.datawedge.data_string {some-expected-string-as-barcode-value}\n</code></pre>\n\n<p>Note that this approach relies on testability, that is designed alongside the dev team. In my case, it was OK for them to allow and receive such event. It was tricky to sync the event and the test flow, but at the end we got good coverage of this major functional area.</p>\n"}],"owner":{"account_id":11134813,"reputation":83,"user_id":8173660,"display_name":"Camilo Avila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1562,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679218785,"creation_date":1550174133,"question_id":54698132,"body_markdown":"I have an app that scan a QR code.&lt;br&gt;\r\nScenario:&lt;br&gt;\r\n1. Go to the app&lt;br&gt;\r\n2. Click on Scan button&lt;br&gt;\r\n3. Open the camera to scan a QR code\r\n\r\nMy question is: Can I &quot;Emulate&quot; the QR with Appium?\r\n\r\n","title":"Do I need to automate an app that Scan a QR, Is there an Appium function to send a specific QR from JAVA?","body":"<p>I have an app that scan a QR code.<br>\nScenario:<br></p>\n<ol>\n<li>Go to the app<br></li>\n<li>Click on Scan button<br></li>\n<li>Open the camera to scan a QR code</li>\n</ol>\n<p>My question is: Can I &quot;Emulate&quot; the QR with Appium?</p>\n"},{"tags":["java","unsatisfiedlinkerror","openblas","dl4j"],"answers":[{"comments":[{"owner":{"account_id":3273973,"reputation":5801,"user_id":2756574,"accept_rate":89,"display_name":"Sebastian"},"score":0,"creation_date":1514406246,"post_id":47993126,"comment_id":82964719,"body_markdown":"Thank you, \n    { compile &quot;org.deeplearning4j:deeplearning4j-core:0.9.1&quot;\n    compile &quot;org.nd4j:nd4j-native-platform:0.9.1&quot; }\nwas enough to run it.","body":"Thank you,      { compile &quot;org.deeplearning4j:deeplearning4j-core:0.9.1&quot;     compile &quot;org.nd4j:nd4j-native-platform:0.9.1&quot; } was enough to run it."}],"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1514381596,"creation_date":1514381596,"answer_id":47993126,"question_id":47991481,"body_markdown":"nd4j-jblas isn&#39;t even a valid maven dependency. Where did you get that from exactly?\r\n\r\nWe don&#39;t have nd4j-jblas anywhere in our docs and it hasn&#39;t existed for nearly 2 years now. Stick to our getting started docs:\r\nhttp://deeplearning4j.org/quickstart\r\n\r\nWe explain what you need in there. Rather than messing with all the classifiers just use:\r\nnd4j-native-platform for the artifact id.\r\n\r\n","title":"DL4J UnsatisfiedLinkError: no jniopenblas in java.library.path","body":"<p>nd4j-jblas isn't even a valid maven dependency. Where did you get that from exactly?</p>\n\n<p>We don't have nd4j-jblas anywhere in our docs and it hasn't existed for nearly 2 years now. Stick to our getting started docs:\n<a href=\"http://deeplearning4j.org/quickstart\" rel=\"nofollow noreferrer\">http://deeplearning4j.org/quickstart</a></p>\n\n<p>We explain what you need in there. Rather than messing with all the classifiers just use:\nnd4j-native-platform for the artifact id.</p>\n"},{"tags":[],"owner":{"account_id":9087291,"reputation":693,"user_id":6764727,"display_name":"Rohith Joseph"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522342294,"creation_date":1522342294,"answer_id":49561368,"question_id":47991481,"body_markdown":"I added these dependencies to my POM.xml file and it is working.\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.bytedeco.javacpp-presets&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;openblas&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.2.20-1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.bytedeco.javacpp-presets&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;openblas-platform&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.2.20-1.4&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"DL4J UnsatisfiedLinkError: no jniopenblas in java.library.path","body":"<p>I added these dependencies to my POM.xml file and it is working.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.bytedeco.javacpp-presets&lt;/groupId&gt;\n    &lt;artifactId&gt;openblas&lt;/artifactId&gt;\n    &lt;version&gt;0.2.20-1.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.bytedeco.javacpp-presets&lt;/groupId&gt;\n    &lt;artifactId&gt;openblas-platform&lt;/artifactId&gt;\n    &lt;version&gt;0.2.20-1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8589695,"reputation":531,"user_id":6434650,"display_name":"Muhammad Arslan Akhtar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526026495,"creation_date":1526026495,"answer_id":50287952,"question_id":47991481,"body_markdown":"I was having the same issue and managed to solve it by adding the following path to your environment variable path: &quot;D:\\Users\\username\\\\.javacpp\\cache\\bin&quot;\r\n\r\nThe username and D:\\ will be specific to your machine e.g mine username is Arslan Akhtar so my path is D:\\Users\\Arslan Akhtar\\.javacpp\\cache\\bin\r\n\r\n\r\nOn your machine go to Edit the system environment variables =&gt; Then under System variables find the variable Path and select Edit =&gt; Then just append the above mentioned variable path at the end of the long string after adding semicolon (;) as a delimiter","title":"DL4J UnsatisfiedLinkError: no jniopenblas in java.library.path","body":"<p>I was having the same issue and managed to solve it by adding the following path to your environment variable path: \"D:\\Users\\username\\.javacpp\\cache\\bin\"</p>\n\n<p>The username and D:\\ will be specific to your machine e.g mine username is Arslan Akhtar so my path is D:\\Users\\Arslan Akhtar.javacpp\\cache\\bin</p>\n\n<p>On your machine go to Edit the system environment variables => Then under System variables find the variable Path and select Edit => Then just append the above mentioned variable path at the end of the long string after adding semicolon (;) as a delimiter</p>\n"},{"tags":[],"owner":{"account_id":3411471,"reputation":3358,"user_id":2861283,"accept_rate":20,"display_name":"Rakesh Chaudhari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528181706,"creation_date":1528181706,"answer_id":50693855,"question_id":47991481,"body_markdown":"According to doc https://deeplearning4j.org/quickstart \r\n\r\nIf you are using 64-bit java on the windows machine then you have to add the following as a VM parameter (Run -&gt; Edit Configurations -&gt; VM Options in IntelliJ):\r\n\r\n-Djava.library.path=&quot;&quot;","title":"DL4J UnsatisfiedLinkError: no jniopenblas in java.library.path","body":"<p>According to doc <a href=\"https://deeplearning4j.org/quickstart\" rel=\"nofollow noreferrer\">https://deeplearning4j.org/quickstart</a> </p>\n\n<p>If you are using 64-bit java on the windows machine then you have to add the following as a VM parameter (Run -> Edit Configurations -> VM Options in IntelliJ):</p>\n\n<p>-Djava.library.path=\"\"</p>\n"},{"tags":[],"owner":{"account_id":28056275,"reputation":1,"user_id":21431259,"display_name":"Pacific Poudel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679218582,"creation_date":1679218582,"answer_id":75781128,"question_id":47991481,"body_markdown":"I was getting the same error but it was solved by adding two new dependencies. It was a javacv dependency and a javacv-platform dependency you can get these dependencies at https://mvnrepository.com/. Don&#39;t forget to add dependencies with supporting versions. ","title":"DL4J UnsatisfiedLinkError: no jniopenblas in java.library.path","body":"<p>I was getting the same error but it was solved by adding two new dependencies. It was a javacv dependency and a javacv-platform dependency you can get these dependencies at <a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">https://mvnrepository.com/</a>. Don't forget to add dependencies with supporting versions.</p>\n"}],"owner":{"account_id":3273973,"reputation":5801,"user_id":2756574,"accept_rate":89,"display_name":"Sebastian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4650,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47993126,"answer_count":5,"score":1,"last_activity_date":1679218582,"creation_date":1514374653,"question_id":47991481,"body_markdown":"I tried to set up a deeplearning4j project via gradle, but I get an UnsatisfiedLinkError:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no jniopenblas in java.library.path\r\n    \tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\r\n    \tat java.lang.Runtime.loadLibrary0(Runtime.java:870)\r\n    \tat java.lang.System.loadLibrary(System.java:1122)\r\n    \tat org.bytedeco.javacpp.Loader.loadLibrary(Loader.java:976)\r\n    \tat org.bytedeco.javacpp.Loader.load(Loader.java:777)\r\n    \tat org.bytedeco.javacpp.Loader.load(Loader.java:684)\r\n    \tat org.bytedeco.javacpp.openblas.&lt;clinit&gt;(openblas.java:10)\r\n    \tat org.nd4j.linalg.cpu.nativecpu.blas.CpuBlas.setMaxThreads(CpuBlas.java:117)\r\n    \tat org.nd4j.nativeblas.Nd4jBlas.&lt;init&gt;(Nd4jBlas.java:35)\r\n    \tat org.nd4j.linalg.cpu.nativecpu.blas.CpuBlas.&lt;init&gt;(CpuBlas.java:12)\r\n    \tat org.nd4j.linalg.cpu.nativecpu.CpuNDArrayFactory.createBlas(CpuNDArrayFactory.java:89)\r\n    \tat org.nd4j.linalg.factory.BaseNDArrayFactory.blas(BaseNDArrayFactory.java:67)\r\n    \tat org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.getEnvironmentInformation(NativeOpExecutioner.java:1176)\r\n    \tat org.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner.printEnvironmentInformation(DefaultOpExecutioner.java:562)\r\n    \tat org.nd4j.linalg.factory.Nd4j.initWithBackend(Nd4j.java:6210)\r\n    \tat org.nd4j.linalg.factory.Nd4j.initContext(Nd4j.java:6087)\r\n    \tat org.nd4j.linalg.factory.Nd4j.&lt;clinit&gt;(Nd4j.java:201)\r\n    \tat org.deeplearning4j.nn.conf.NeuralNetConfiguration$Builder.seed(NeuralNetConfiguration.java:777)\r\n    \tat my.project.NeuralNetwork.main(NeuralNetwork.java:43)\r\n    Caused by: java.lang.UnsatisfiedLinkError: no openblas in java.library.path\r\n    \tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\r\n    \tat java.lang.Runtime.loadLibrary0(Runtime.java:870)\r\n    \tat java.lang.System.loadLibrary(System.java:1122)\r\n    \tat org.bytedeco.javacpp.Loader.loadLibrary(Loader.java:976)\r\n    \tat org.bytedeco.javacpp.Loader.load(Loader.java:765)\r\n    \t... 14 more\r\n\r\nMy dependencies look like:\r\n\r\n    dependencies {\r\n        compile group: &#39;org.deeplearning4j&#39;, name: &#39;deeplearning4j-core&#39;, version: &#39;0.9.1&#39;\r\n        compile group: &#39;org.deeplearning4j&#39;, name: &#39;rl4j&#39;, version: &#39;0.9.1&#39;\r\n        compile group: &#39;org.nd4j&#39;, name: &#39;nd4j-native&#39;, version: &#39;0.9.1&#39;\r\n        compile group: &#39;org.nd4j&#39;, name: &#39;nd4j-jblas&#39;, version: &#39;0.9.1&#39;\r\n        compile group: &#39;org.nd4j&#39;, name: &#39;nd4j-api&#39;, version: &#39;0.9.1&#39;\r\n        compile &#39;org.nd4j:nd4j-native:0.9.1:windows-x86_64&#39;\r\n    }\r\n\r\nI&#39;ve also tried to add\r\n\r\n    compile group: &#39;org.bytedeco.javacpp-presets&#39;, name: &#39;openblas&#39;, version: &#39;0.2.20-1.3&#39;\r\n\r\nbut that didn&#39;t help.\r\n\r\nDo I need to install OpenBlas? I didn&#39;t read such a thing in the [Quick Start Guide for deeplearning4j][1]. OS is Win10, IDE is IntelliJ Community Edition.\r\n\r\n\r\n  [1]: https://deeplearning4j.org/quickstart","title":"DL4J UnsatisfiedLinkError: no jniopenblas in java.library.path","body":"<p>I tried to set up a deeplearning4j project via gradle, but I get an UnsatisfiedLinkError:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: no jniopenblas in java.library.path\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\n    at java.lang.Runtime.loadLibrary0(Runtime.java:870)\n    at java.lang.System.loadLibrary(System.java:1122)\n    at org.bytedeco.javacpp.Loader.loadLibrary(Loader.java:976)\n    at org.bytedeco.javacpp.Loader.load(Loader.java:777)\n    at org.bytedeco.javacpp.Loader.load(Loader.java:684)\n    at org.bytedeco.javacpp.openblas.&lt;clinit&gt;(openblas.java:10)\n    at org.nd4j.linalg.cpu.nativecpu.blas.CpuBlas.setMaxThreads(CpuBlas.java:117)\n    at org.nd4j.nativeblas.Nd4jBlas.&lt;init&gt;(Nd4jBlas.java:35)\n    at org.nd4j.linalg.cpu.nativecpu.blas.CpuBlas.&lt;init&gt;(CpuBlas.java:12)\n    at org.nd4j.linalg.cpu.nativecpu.CpuNDArrayFactory.createBlas(CpuNDArrayFactory.java:89)\n    at org.nd4j.linalg.factory.BaseNDArrayFactory.blas(BaseNDArrayFactory.java:67)\n    at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.getEnvironmentInformation(NativeOpExecutioner.java:1176)\n    at org.nd4j.linalg.api.ops.executioner.DefaultOpExecutioner.printEnvironmentInformation(DefaultOpExecutioner.java:562)\n    at org.nd4j.linalg.factory.Nd4j.initWithBackend(Nd4j.java:6210)\n    at org.nd4j.linalg.factory.Nd4j.initContext(Nd4j.java:6087)\n    at org.nd4j.linalg.factory.Nd4j.&lt;clinit&gt;(Nd4j.java:201)\n    at org.deeplearning4j.nn.conf.NeuralNetConfiguration$Builder.seed(NeuralNetConfiguration.java:777)\n    at my.project.NeuralNetwork.main(NeuralNetwork.java:43)\nCaused by: java.lang.UnsatisfiedLinkError: no openblas in java.library.path\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\n    at java.lang.Runtime.loadLibrary0(Runtime.java:870)\n    at java.lang.System.loadLibrary(System.java:1122)\n    at org.bytedeco.javacpp.Loader.loadLibrary(Loader.java:976)\n    at org.bytedeco.javacpp.Loader.load(Loader.java:765)\n    ... 14 more\n</code></pre>\n\n<p>My dependencies look like:</p>\n\n<pre><code>dependencies {\n    compile group: 'org.deeplearning4j', name: 'deeplearning4j-core', version: '0.9.1'\n    compile group: 'org.deeplearning4j', name: 'rl4j', version: '0.9.1'\n    compile group: 'org.nd4j', name: 'nd4j-native', version: '0.9.1'\n    compile group: 'org.nd4j', name: 'nd4j-jblas', version: '0.9.1'\n    compile group: 'org.nd4j', name: 'nd4j-api', version: '0.9.1'\n    compile 'org.nd4j:nd4j-native:0.9.1:windows-x86_64'\n}\n</code></pre>\n\n<p>I've also tried to add</p>\n\n<pre><code>compile group: 'org.bytedeco.javacpp-presets', name: 'openblas', version: '0.2.20-1.3'\n</code></pre>\n\n<p>but that didn't help.</p>\n\n<p>Do I need to install OpenBlas? I didn't read such a thing in the <a href=\"https://deeplearning4j.org/quickstart\" rel=\"nofollow noreferrer\">Quick Start Guide for deeplearning4j</a>. OS is Win10, IDE is IntelliJ Community Edition.</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":1,"creation_date":1534852652,"post_id":51948122,"comment_id":90845781,"body_markdown":"I think [this](https://stackoverflow.com/questions/14827895/which-way-for-restful-webservice-spring-ws-payloads-or-spring-3-mvc-rest-contro) might answer your question.","body":"I think <a href=\"https://stackoverflow.com/questions/14827895/which-way-for-restful-webservice-spring-ws-payloads-or-spring-3-mvc-rest-contro\">this</a> might answer your question."},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":2,"creation_date":1534852796,"post_id":51948122,"comment_id":90845894,"body_markdown":"`@ResponsePayload` is SOAP equivalent of `@ResponseBody` in REST","body":"<code>@ResponsePayload</code> is SOAP equivalent of <code>@ResponseBody</code> in REST"},{"owner":{"account_id":10502057,"reputation":1394,"user_id":9796217,"display_name":"sticky_elbows"},"score":0,"creation_date":1534853085,"post_id":51948122,"comment_id":90846060,"body_markdown":"Thank you for the input guys.","body":"Thank you for the input guys."}],"answers":[{"tags":[],"owner":{"account_id":28003673,"reputation":1,"user_id":21387431,"display_name":"cubxwbr99"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679218388,"creation_date":1678778646,"answer_id":75730106,"question_id":51948122,"body_markdown":"It is the annotation for SOAP response body.\r\nIn restController, we have `@ResponseBody`, we have `@ResponsePayload` in SOAP controller(`@Endpoint`).","title":"What is the purpose of @ResponsePayload in the method header - spring","body":"<p>It is the annotation for SOAP response body.\nIn restController, we have <code>@ResponseBody</code>, we have <code>@ResponsePayload</code> in SOAP controller(<code>@Endpoint</code>).</p>\n"}],"owner":{"account_id":10502057,"reputation":1394,"user_id":9796217,"display_name":"sticky_elbows"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2694,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679218388,"creation_date":1534852548,"question_id":51948122,"body_markdown":"I am trying to develop a web service similar to one I have already (developed by somebody else), and to do that I need to understand the purpose `@ResponsePayload` in the method header. I have something like this:\r\n\r\n    @PayloadRoot(localPart=&quot;get-documentList-request&quot;, namespace=&quot;http://www.foo.com/bar/ws/model/&quot;)\r\n    public @ResponsePayload DocumentListResponse getDocumentList(@RequestPayload GetDocumentListRequest documentList) throws DatatypeConfigurationException{\r\n           //\r\n    }\r\nSo what does the `@ResponsePayload` in the method header do?","title":"What is the purpose of @ResponsePayload in the method header - spring","body":"<p>I am trying to develop a web service similar to one I have already (developed by somebody else), and to do that I need to understand the purpose <code>@ResponsePayload</code> in the method header. I have something like this:</p>\n\n<pre><code>@PayloadRoot(localPart=\"get-documentList-request\", namespace=\"http://www.foo.com/bar/ws/model/\")\npublic @ResponsePayload DocumentListResponse getDocumentList(@RequestPayload GetDocumentListRequest documentList) throws DatatypeConfigurationException{\n       //\n}\n</code></pre>\n\n<p>So what does the <code>@ResponsePayload</code> in the method header do?</p>\n"},{"tags":["java","json","if-statement","testng","rest-assured"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1676026534,"post_id":75407339,"comment_id":133058761,"body_markdown":"Can you show your json with mentioning what to put to spreadsheet and what not? Also did you analyze which part exactly consumes the time?","body":"Can you show your json with mentioning what to put to spreadsheet and what not? Also did you analyze which part exactly consumes the time?"}],"answers":[{"tags":[],"owner":{"account_id":27345207,"reputation":81,"user_id":20855204,"display_name":"Sarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679218199,"creation_date":1678647866,"answer_id":75715685,"question_id":75407339,"body_markdown":"If you know how many array elements you got back, like for example `data.test1[0]`, `data.test1[1]` and `data.test1[2]`, you can use a loop to do something for all the indexes like this:\r\n```java\r\nfor(int i = 0; i &lt; 3; i++){\r\n\tif(response.path(&quot;data.test1[&quot;+Integer.toString(i)+&quot;]&quot;)!= null){\r\n\t\trowResults.createCell(i+1).setCellValue(response.path(&quot;data.test1[&quot;+Integer.toString(i)+&quot;]&quot;).toString());\r\n   }\r\n}\r\n```\r\nAnd if you know how many suffixes are after `test` like `data.test1[0]`, `data.test1[1]`, `data.test1[2]`, `data.test2[0]`, ..., you can use nested loops like this:\r\n```java\r\nint count = 1;\r\nfor (int i = 1; i &lt;= 2; i++) {\r\n\tfor (int j = 0; j &lt; 3; j++) {\r\n\t\tif (response.path(&quot;data.test&quot;+Integer.toString(i)+&quot;[&quot; + Integer.toString(j) + &quot;]&quot;) != null) {\r\n\t\t\trowResults.createCell(count++).setCellValue(response.path(&quot;data.test&quot;+Integer.toString(i)+&quot;[&quot; + Integer.toString(j) + &quot;]&quot;).toString());\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Multiple Java IF statement writing a JSON response to Excel using Apache Poi XSSF","body":"<p>If you know how many array elements you got back, like for example <code>data.test1[0]</code>, <code>data.test1[1]</code> and <code>data.test1[2]</code>, you can use a loop to do something for all the indexes like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i = 0; i &lt; 3; i++){\n    if(response.path(&quot;data.test1[&quot;+Integer.toString(i)+&quot;]&quot;)!= null){\n        rowResults.createCell(i+1).setCellValue(response.path(&quot;data.test1[&quot;+Integer.toString(i)+&quot;]&quot;).toString());\n   }\n}\n</code></pre>\n<p>And if you know how many suffixes are after <code>test</code> like <code>data.test1[0]</code>, <code>data.test1[1]</code>, <code>data.test1[2]</code>, <code>data.test2[0]</code>, ..., you can use nested loops like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int count = 1;\nfor (int i = 1; i &lt;= 2; i++) {\n    for (int j = 0; j &lt; 3; j++) {\n        if (response.path(&quot;data.test&quot;+Integer.toString(i)+&quot;[&quot; + Integer.toString(j) + &quot;]&quot;) != null) {\n            rowResults.createCell(count++).setCellValue(response.path(&quot;data.test&quot;+Integer.toString(i)+&quot;[&quot; + Integer.toString(j) + &quot;]&quot;).toString());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10565898,"reputation":165,"user_id":7784157,"display_name":"Flenters"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679218199,"creation_date":1676007474,"question_id":75407339,"body_markdown":"I have a test that returns a JSON response some if the responses might return nulls depending on the tests for example the response path will look like\r\n\r\ndata.test1[0]\r\n\r\ndata.test1[1]\r\n\r\ndata.test1[2]\r\n\r\ndata.test2[0]\r\n\r\ndata.test2[0]\r\n\r\ndata.test2[0]\r\n\r\n\r\nThe response that is returned is very big and almost 400 lines worth of data.test \r\n\r\nSo what I have done is a basic if to check if the response is not null then wright to excel. This is working but it made the tests extremely slow.\r\n\r\nIf statement that works :\r\n\r\n\r\n```\r\nif(response.path(&quot;data.test1[0]&quot; )!= null){    \r\nXSSFCell dataTest1 = rowResults.createCell(1);\r\n   dataTest1.setCellValue(response.path(&quot;data.test1[0]&quot;).toString());\r\n}\r\n```\r\n\r\n```\r\nif(response.path(&quot;data.test1[1]&quot; )!= null){    \r\nXSSFCell dataTest2 = rowResults.createCell(2);\r\n  dataTest1.setCellValue(response.path(&quot;data.test1[1]&quot;).toString());\r\n}\r\n```\r\n\r\n\r\nI created this if multiple times for each response data. But like I said this has made it very slow I even tried change to SXSSF Apache POI but did not make a difference. \r\n\r\nI have also tried bundling the IF statement but then I get null pointer exception I tried the below\r\n\r\n\r\n```\r\nif(response.path(&quot;data.test1&quot; )!= null){    \r\nXSSFCell dataTest1 = rowResults.createCell(1);\r\n dataTest1.setCellValue(response.path(&quot;data.test1[0]&quot;).toString());\r\n\r\nXSSFCell dataTest2 = rowResults.createCell(2); \r\ndataTest1.setCellValue(response.path(&quot;data.test1[1]&quot;).toString());\r\n}\r\n```\r\n\r\n\r\nDo you have any suggestion to check if a JSON response is null but on an array I am not sure what the best is but any advise or suggestions would be appreciated.","title":"Multiple Java IF statement writing a JSON response to Excel using Apache Poi XSSF","body":"<p>I have a test that returns a JSON response some if the responses might return nulls depending on the tests for example the response path will look like</p>\n<p>data.test1[0]</p>\n<p>data.test1[1]</p>\n<p>data.test1[2]</p>\n<p>data.test2[0]</p>\n<p>data.test2[0]</p>\n<p>data.test2[0]</p>\n<p>The response that is returned is very big and almost 400 lines worth of data.test</p>\n<p>So what I have done is a basic if to check if the response is not null then wright to excel. This is working but it made the tests extremely slow.</p>\n<p>If statement that works :</p>\n<pre><code>if(response.path(&quot;data.test1[0]&quot; )!= null){    \nXSSFCell dataTest1 = rowResults.createCell(1);\n   dataTest1.setCellValue(response.path(&quot;data.test1[0]&quot;).toString());\n}\n</code></pre>\n<pre><code>if(response.path(&quot;data.test1[1]&quot; )!= null){    \nXSSFCell dataTest2 = rowResults.createCell(2);\n  dataTest1.setCellValue(response.path(&quot;data.test1[1]&quot;).toString());\n}\n</code></pre>\n<p>I created this if multiple times for each response data. But like I said this has made it very slow I even tried change to SXSSF Apache POI but did not make a difference.</p>\n<p>I have also tried bundling the IF statement but then I get null pointer exception I tried the below</p>\n<pre><code>if(response.path(&quot;data.test1&quot; )!= null){    \nXSSFCell dataTest1 = rowResults.createCell(1);\n dataTest1.setCellValue(response.path(&quot;data.test1[0]&quot;).toString());\n\nXSSFCell dataTest2 = rowResults.createCell(2); \ndataTest1.setCellValue(response.path(&quot;data.test1[1]&quot;).toString());\n}\n</code></pre>\n<p>Do you have any suggestion to check if a JSON response is null but on an array I am not sure what the best is but any advise or suggestions would be appreciated.</p>\n"},{"tags":["java","mybatis","spring-mybatis","mybatis-mapper"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1679255843,"post_id":75780761,"comment_id":133684552,"body_markdown":"Type handler maps one column value to one property, and vice versa. It&#39;s unclear if it fits your use case because you didn&#39;t post any information about the result set or mapper statement. Also, such usage of generics requires rather cumbersome configuration partly because of type erasure. If possible, you should create a new class for each type parameter e.g. `class StringColumn extends ColumnWrapper&lt;String&gt; {}`.","body":"Type handler maps one column value to one property, and vice versa. It&#39;s unclear if it fits your use case because you didn&#39;t post any information about the result set or mapper statement. Also, such usage of generics requires rather cumbersome configuration partly because of type erasure. If possible, you should create a new class for each type parameter e.g. <code>class StringColumn extends ColumnWrapper&lt;String&gt; {}</code>."}],"owner":{"account_id":9641278,"reputation":1707,"user_id":7155432,"display_name":"VaibS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679217624,"creation_date":1679213334,"question_id":75780761,"body_markdown":"We&#39;re using MyBatis with XMLs to map DB tables to Java POJOs. I&#39;m facing an issue because we&#39;ve a wrapper class for POJO fields. The structure is as follows:\r\n\r\nWrapper class:\r\n\r\n    class ColumnWrapper&lt;T&gt; {\r\n        T value;\r\n        T nextValue;\r\n    }\r\n\r\nClass to be mapped with DB table:\r\n\r\n    class ParentClass {\r\n        ColumnWrapper&lt;String&gt; stringField;\r\n        ColumnWrapper&lt;CompositeClass&gt; compositeClass;\r\n        ... other fields and getter/setters\r\n    }\r\n\r\nComposite class is a simple POJO:\r\n\r\n    class CompositeClass {\r\n        String compositeField1;\r\n        Integer compositeField2;\r\n    }\r\n\r\nI wrote a TypeHandler for `ColumnWrapper&lt;String&gt;` and it is working fine for `stringField`. But I&#39;m not able to map `ColumnWrapper&lt;CompositeClass&gt; compositeClass` field. I tried creating TypeHandler for it but it&#39;s not working. Can anyone please help with it?","title":"How to map composite class with generic in MyBatis?","body":"<p>We're using MyBatis with XMLs to map DB tables to Java POJOs. I'm facing an issue because we've a wrapper class for POJO fields. The structure is as follows:</p>\n<p>Wrapper class:</p>\n<pre><code>class ColumnWrapper&lt;T&gt; {\n    T value;\n    T nextValue;\n}\n</code></pre>\n<p>Class to be mapped with DB table:</p>\n<pre><code>class ParentClass {\n    ColumnWrapper&lt;String&gt; stringField;\n    ColumnWrapper&lt;CompositeClass&gt; compositeClass;\n    ... other fields and getter/setters\n}\n</code></pre>\n<p>Composite class is a simple POJO:</p>\n<pre><code>class CompositeClass {\n    String compositeField1;\n    Integer compositeField2;\n}\n</code></pre>\n<p>I wrote a TypeHandler for <code>ColumnWrapper&lt;String&gt;</code> and it is working fine for <code>stringField</code>. But I'm not able to map <code>ColumnWrapper&lt;CompositeClass&gt; compositeClass</code> field. I tried creating TypeHandler for it but it's not working. Can anyone please help with it?</p>\n"},{"tags":["java","jvm","stanford-nlp"],"comments":[{"owner":{"account_id":84539,"reputation":9548,"user_id":236247,"accept_rate":86,"display_name":"demongolem"},"score":0,"creation_date":1507910565,"post_id":27134622,"comment_id":80414219,"body_markdown":"I just trained one where 5g gave the same error, but 6g worked.","body":"I just trained one where 5g gave the same error, but 6g worked."}],"answers":[{"tags":[],"owner":{"account_id":4610714,"reputation":708,"user_id":4067134,"display_name":"Charlie Greenbacker"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1417031599,"creation_date":1417031599,"answer_id":27157777,"question_id":27134622,"body_markdown":"Shouldn&#39;t that be **-Xmx4g** not -mx4g?","title":"Memory requirements for Stanford NER retraining","body":"<p>Shouldn't that be <strong>-Xmx4g</strong> not -mx4g?</p>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417031801,"creation_date":1417031801,"answer_id":27157832,"question_id":27134622,"body_markdown":"If you are going to do analysis on non-transactional data sets you may want to use another tool like Elasticsearch (simpler) or Hadoop (exponentially more complicated).  MongoDB is a good middleground as well.","title":"Memory requirements for Stanford NER retraining","body":"<p>If you are going to do analysis on non-transactional data sets you may want to use another tool like Elasticsearch (simpler) or Hadoop (exponentially more complicated).  MongoDB is a good middleground as well.</p>\n"},{"comments":[{"owner":{"account_id":4031289,"reputation":107,"user_id":3851615,"accept_rate":36,"display_name":"Shruti"},"score":0,"creation_date":1417402338,"post_id":27220936,"comment_id":42920911,"body_markdown":"One dataset I am using to retrain is the twitter data from Alan Ritter&#39;s twitter nlp project : https://github.com/aritter/twitter_nlp/tree/master/data/annotated/ner.txt","body":"One dataset I am using to retrain is the twitter data from Alan Ritter&#39;s twitter nlp project : <a href=\"https://github.com/aritter/twitter_nlp/tree/master/data/annotated/ner.txt\" rel=\"nofollow noreferrer\">github.com/aritter/twitter_nlp/tree/master/data/annotated/&hellip;</a>"},{"owner":{"account_id":4031289,"reputation":107,"user_id":3851615,"accept_rate":36,"display_name":"Shruti"},"score":0,"creation_date":1417409937,"post_id":27220936,"comment_id":42922638,"body_markdown":"When i do the retraining with just the company names annotated and every other word as O, then the retraining does not throw any errors or exceptions.(Basically, with reduced number of classes there are no memory issues)","body":"When i do the retraining with just the company names annotated and every other word as O, then the retraining does not throw any errors or exceptions.(Basically, with reduced number of classes there are no memory issues)"},{"owner":{"account_id":1589853,"reputation":5729,"user_id":1473431,"display_name":"Gabor Angeli"},"score":0,"creation_date":1417550773,"post_id":27220936,"comment_id":42989547,"body_markdown":"I suspect Sonal is right, and the problem is the number of classes. I believe our NER is trained using simple classes, rather than the B-&lt;class&gt;, I-&lt;class&gt; format used by Alan. Then, L-BFGS seems to be running out of memory on the optimization problem with 21 (rather than 3 or 5) classes. 8x the classes means at least 8x the memory (&gt; 8GB).","body":"I suspect Sonal is right, and the problem is the number of classes. I believe our NER is trained using simple classes, rather than the B-&lt;class&gt;, I-&lt;class&gt; format used by Alan. Then, L-BFGS seems to be running out of memory on the optimization problem with 21 (rather than 3 or 5) classes. 8x the classes means at least 8x the memory (&gt; 8GB)."}],"tags":[],"owner":{"account_id":1589853,"reputation":5729,"user_id":1473431,"display_name":"Gabor Angeli"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417401676,"creation_date":1417401676,"answer_id":27220936,"question_id":27134622,"body_markdown":"Sorry for getting to this a bit late! I suspect the problem is the input format of the file; in particular, my first guess is that the file is being treated as a single long sentence.\r\n\r\nThe expected format of the training file is in the CoNLL format, which means each line of the file is a new token, and the end of a sentence is denoted by a double newline. So, for example, a file could look like:\r\n\r\n&lt;pre&gt;\r\nCats  O\r\nhave  O\r\ntails  O\r\n.  O\r\n\r\nFelix  ANIMAL\r\nis  O\r\na  O\r\ncat  O\r\n.  O\r\n&lt;/pre&gt;\r\n\r\nCould you let me know if it&#39;s indeed in this format? If so, could you include a stack trace of the error, and the properties file you are using? Does it work if you run on just the first few sentences of the file?\r\n\r\n--Gabor","title":"Memory requirements for Stanford NER retraining","body":"<p>Sorry for getting to this a bit late! I suspect the problem is the input format of the file; in particular, my first guess is that the file is being treated as a single long sentence.</p>\n\n<p>The expected format of the training file is in the CoNLL format, which means each line of the file is a new token, and the end of a sentence is denoted by a double newline. So, for example, a file could look like:</p>\n\n<pre>\nCats  O\nhave  O\ntails  O\n.  O\n\nFelix  ANIMAL\nis  O\na  O\ncat  O\n.  O\n</pre>\n\n<p>Could you let me know if it's indeed in this format? If so, could you include a stack trace of the error, and the properties file you are using? Does it work if you run on just the first few sentences of the file?</p>\n\n<p>--Gabor</p>\n"},{"tags":[],"owner":{"account_id":5349261,"reputation":581,"user_id":4263827,"display_name":"Sonal Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417410843,"creation_date":1417410843,"answer_id":27222084,"question_id":27134622,"body_markdown":"One way you can try reducing number of classes is to not use B-I notation. For example, club B-facility and I-facility into facility. Of course, another way it to use a bigger memory machine.","title":"Memory requirements for Stanford NER retraining","body":"<p>One way you can try reducing number of classes is to not use B-I notation. For example, club B-facility and I-facility into facility. Of course, another way it to use a bigger memory machine.</p>\n"},{"tags":[],"owner":{"account_id":10033605,"reputation":23,"user_id":7419141,"display_name":"Puli Poorna Shekar Reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528111969,"creation_date":1528111969,"answer_id":50679612,"question_id":27134622,"body_markdown":"First uninstall the existing java jdk and reinstall again.  \r\nThen you can use the heap size as much as you can based on your hard disk size.  \r\nIn the term &quot;-mx4g&quot; 4g is not the RAM it is the heap size.  \r\nEven I Faced the same error initially. after doing this it is gone.  \r\nEven I misunderstood 4g as RAM initially.\r\n\r\nNow I am able to start my server even with 100g of heap size.\r\n\r\nNext,\r\nInstead of using Customised NER model, I suggest you to use Custom RegexNER Model with which you can add millions of words of same entity name within in a single document too.  \r\nThese 2 errors I faced initially.\r\n\r\nFor any queries comment below.","title":"Memory requirements for Stanford NER retraining","body":"<p>First uninstall the existing java jdk and reinstall again.<br>\nThen you can use the heap size as much as you can based on your hard disk size.<br>\nIn the term \"-mx4g\" 4g is not the RAM it is the heap size.<br>\nEven I Faced the same error initially. after doing this it is gone.<br>\nEven I misunderstood 4g as RAM initially.</p>\n\n<p>Now I am able to start my server even with 100g of heap size.</p>\n\n<p>Next,\nInstead of using Customised NER model, I suggest you to use Custom RegexNER Model with which you can add millions of words of same entity name within in a single document too.<br>\nThese 2 errors I faced initially.</p>\n\n<p>For any queries comment below.</p>\n"},{"tags":[],"owner":{"account_id":18345860,"reputation":1,"user_id":13361061,"display_name":"Nishant Sushmakar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679215539,"creation_date":1679215539,"answer_id":75780925,"question_id":27134622,"body_markdown":" You Can Try to Reduce the Number of Threads as each Thread takes a lot of memory `multiThreadGrad=4` put this in your Properties File , play around with the number the lower the number of thread the slower the training process will be but you will most likely be able to train with your desired labels.\r\n ","title":"Memory requirements for Stanford NER retraining","body":"<p>You Can Try to Reduce the Number of Threads as each Thread takes a lot of memory <code>multiThreadGrad=4</code> put this in your Properties File , play around with the number the lower the number of thread the slower the training process will be but you will most likely be able to train with your desired labels.</p>\n"}],"owner":{"account_id":4031289,"reputation":107,"user_id":3851615,"accept_rate":36,"display_name":"Shruti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1685,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1679215539,"creation_date":1416942105,"question_id":27134622,"body_markdown":"I am retraining the Stanford NER model on my own training data for extracting organizations. But, whether I use a 4GB RAM machine or an 8GB RAM machine, I get the same Java heap space error.\r\n\r\nCould anyone tell what is the general configuration of machines on which we can retrain the models without getting these memory issues?\r\n\r\nI used the following command :\r\n\r\n     java -mx4g -cp stanford-ner.jar edu.stanford.nlp.ie.crf.CRFClassifier -prop newdata_retrain.prop\r\n\r\n\r\nI am working with training data (multiple files - each file has about 15000 lines in the following format) - one word and its category on each line\r\n\r\nShe     O\r\nis      O\r\nworking     O\r\nat     O\r\nMicrosoft      ORGANIZATION\r\n\r\nIs there anything else we could do to make these models run reliably ? I did try with reducing the number of classes in my training data. But that is impacting the accuracy of extraction. For example, some locations or other entities are getting classified as organization names. Can we reduce specific number of classes without impact on accuracy ? \r\n\r\nOne data I am using is the Alan Ritter twitter nlp data : https://github.com/aritter/twitter_nlp/tree/master/data/annotated/ner.txt\r\n\r\nThe properties file looks like this:\r\n\r\n    #location of the training file\r\n    trainFile = ner.txt\r\n    #location where you would like to save (serialize to) your\r\n    #classifier; adding .gz at the end automatically gzips the file,\r\n    #making it faster and smaller\r\n    serializeTo = ner-model-twitter.ser.gz\r\n    \r\n    #structure of your training file; this tells the classifier\r\n    #that the word is in column 0 and the correct answer is in\r\n    #column 1\r\n    map = word=0,answer=1\r\n    \r\n    #these are the features we&#39;d like to train with\r\n    #some are discussed below, the rest can be\r\n    #understood by looking at NERFeatureFactory\r\n    useClassFeature=true\r\n    useWord=true\r\n    useNGrams=true\r\n    #no ngrams will be included that do not contain either the\r\n    #beginning or end of the word\r\n    noMidNGrams=true\r\n    useDisjunctive=true\r\n    maxNGramLeng=6\r\n    usePrev=true\r\n    useNext=true\r\n    useSequences=true\r\n    usePrevSequences=true\r\n    maxLeft=1\r\n    #the next 4 deal with word shape features\r\n    useTypeSeqs=true\r\n    useTypeSeqs2=true\r\n    useTypeySequences=true\r\n    wordShape=chris2useLC\r\n    saveFeatureIndexToDisk = true\r\n\r\nThe error I am getting : the stacktrace is this :\r\n\r\n    CRFClassifier invoked on Mon Dec 01 02:55:22 UTC 2014 with arguments:\r\n       -prop twitter_retrain.prop\r\n    usePrevSequences=true\r\n    useClassFeature=true\r\n    useTypeSeqs2=true\r\n    useSequences=true\r\n    wordShape=chris2useLC\r\n    saveFeatureIndexToDisk=true\r\n    useTypeySequences=true\r\n    useDisjunctive=true\r\n    noMidNGrams=true\r\n    serializeTo=ner-model-twitter.ser.gz\r\n    maxNGramLeng=6\r\n    useNGrams=true\r\n    usePrev=true\r\n    useNext=true\r\n    maxLeft=1\r\n    trainFile=ner.txt\r\n    map=word=0,answer=1\r\n    useWord=true\r\n    useTypeSeqs=true\r\n    [1000][2000]numFeatures = 215032\r\n    setting nodeFeatureIndicesMap, size=149877\r\n    setting edgeFeatureIndicesMap, size=65155\r\n    Time to convert docs to feature indices: 4.4 seconds\r\n    numClasses: 21 [0=O,1=B-facility,2=I-facility,3=B-other,4=I-other,5=B-company,6=B-person,7=B-tvshow,8=B-product,9=B-sportsteam,10=I-person,11=B-geo-loc,12=B-movie,13=I-movie,14=I-tvshow,15=I-company,16=B-musicartist,17=I-musicartist,18=I-geo-loc,19=I-product,20=I-sportsteam]\r\n    numDocuments: 2394\r\n    numDatums: 46469\r\n    numFeatures: 215032\r\n    Time to convert docs to data/labels: 2.5 seconds\r\n    Writing feature index to temporary file.\r\n    numWeights: 31880772\r\n    QNMinimizer called on double function of 31880772 variables, using M = 25.\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n            at edu.stanford.nlp.optimization.QNMinimizer.minimize(QNMinimizer.java:923)\r\n            at edu.stanford.nlp.optimization.QNMinimizer.minimize(QNMinimizer.java:885)\r\n            at edu.stanford.nlp.optimization.QNMinimizer.minimize(QNMinimizer.java:879)\r\n            at edu.stanford.nlp.optimization.QNMinimizer.minimize(QNMinimizer.java:91)\r\n            at edu.stanford.nlp.ie.crf.CRFClassifier.trainWeights(CRFClassifier.java:1911)\r\n            at edu.stanford.nlp.ie.crf.CRFClassifier.train(CRFClassifier.java:1718)\r\n            at edu.stanford.nlp.ie.AbstractSequenceClassifier.train(AbstractSequenceClassifier.java:759)\r\n            at edu.stanford.nlp.ie.AbstractSequenceClassifier.train(AbstractSequenceClassifier.java:747)\r\n            at edu.stanford.nlp.ie.crf.CRFClassifier.main(CRFClassifier.java:2937)","title":"Memory requirements for Stanford NER retraining","body":"<p>I am retraining the Stanford NER model on my own training data for extracting organizations. But, whether I use a 4GB RAM machine or an 8GB RAM machine, I get the same Java heap space error.</p>\n\n<p>Could anyone tell what is the general configuration of machines on which we can retrain the models without getting these memory issues?</p>\n\n<p>I used the following command :</p>\n\n<pre><code> java -mx4g -cp stanford-ner.jar edu.stanford.nlp.ie.crf.CRFClassifier -prop newdata_retrain.prop\n</code></pre>\n\n<p>I am working with training data (multiple files - each file has about 15000 lines in the following format) - one word and its category on each line</p>\n\n<p>She     O\nis      O\nworking     O\nat     O\nMicrosoft      ORGANIZATION</p>\n\n<p>Is there anything else we could do to make these models run reliably ? I did try with reducing the number of classes in my training data. But that is impacting the accuracy of extraction. For example, some locations or other entities are getting classified as organization names. Can we reduce specific number of classes without impact on accuracy ? </p>\n\n<p>One data I am using is the Alan Ritter twitter nlp data : <a href=\"https://github.com/aritter/twitter_nlp/tree/master/data/annotated/ner.txt\" rel=\"nofollow\">https://github.com/aritter/twitter_nlp/tree/master/data/annotated/ner.txt</a></p>\n\n<p>The properties file looks like this:</p>\n\n<pre><code>#location of the training file\ntrainFile = ner.txt\n#location where you would like to save (serialize to) your\n#classifier; adding .gz at the end automatically gzips the file,\n#making it faster and smaller\nserializeTo = ner-model-twitter.ser.gz\n\n#structure of your training file; this tells the classifier\n#that the word is in column 0 and the correct answer is in\n#column 1\nmap = word=0,answer=1\n\n#these are the features we'd like to train with\n#some are discussed below, the rest can be\n#understood by looking at NERFeatureFactory\nuseClassFeature=true\nuseWord=true\nuseNGrams=true\n#no ngrams will be included that do not contain either the\n#beginning or end of the word\nnoMidNGrams=true\nuseDisjunctive=true\nmaxNGramLeng=6\nusePrev=true\nuseNext=true\nuseSequences=true\nusePrevSequences=true\nmaxLeft=1\n#the next 4 deal with word shape features\nuseTypeSeqs=true\nuseTypeSeqs2=true\nuseTypeySequences=true\nwordShape=chris2useLC\nsaveFeatureIndexToDisk = true\n</code></pre>\n\n<p>The error I am getting : the stacktrace is this :</p>\n\n<pre><code>CRFClassifier invoked on Mon Dec 01 02:55:22 UTC 2014 with arguments:\n   -prop twitter_retrain.prop\nusePrevSequences=true\nuseClassFeature=true\nuseTypeSeqs2=true\nuseSequences=true\nwordShape=chris2useLC\nsaveFeatureIndexToDisk=true\nuseTypeySequences=true\nuseDisjunctive=true\nnoMidNGrams=true\nserializeTo=ner-model-twitter.ser.gz\nmaxNGramLeng=6\nuseNGrams=true\nusePrev=true\nuseNext=true\nmaxLeft=1\ntrainFile=ner.txt\nmap=word=0,answer=1\nuseWord=true\nuseTypeSeqs=true\n[1000][2000]numFeatures = 215032\nsetting nodeFeatureIndicesMap, size=149877\nsetting edgeFeatureIndicesMap, size=65155\nTime to convert docs to feature indices: 4.4 seconds\nnumClasses: 21 [0=O,1=B-facility,2=I-facility,3=B-other,4=I-other,5=B-company,6=B-person,7=B-tvshow,8=B-product,9=B-sportsteam,10=I-person,11=B-geo-loc,12=B-movie,13=I-movie,14=I-tvshow,15=I-company,16=B-musicartist,17=I-musicartist,18=I-geo-loc,19=I-product,20=I-sportsteam]\nnumDocuments: 2394\nnumDatums: 46469\nnumFeatures: 215032\nTime to convert docs to data/labels: 2.5 seconds\nWriting feature index to temporary file.\nnumWeights: 31880772\nQNMinimizer called on double function of 31880772 variables, using M = 25.\nException in thread \"main\" java.lang.OutOfMemoryError: Java heap space\n        at edu.stanford.nlp.optimization.QNMinimizer.minimize(QNMinimizer.java:923)\n        at edu.stanford.nlp.optimization.QNMinimizer.minimize(QNMinimizer.java:885)\n        at edu.stanford.nlp.optimization.QNMinimizer.minimize(QNMinimizer.java:879)\n        at edu.stanford.nlp.optimization.QNMinimizer.minimize(QNMinimizer.java:91)\n        at edu.stanford.nlp.ie.crf.CRFClassifier.trainWeights(CRFClassifier.java:1911)\n        at edu.stanford.nlp.ie.crf.CRFClassifier.train(CRFClassifier.java:1718)\n        at edu.stanford.nlp.ie.AbstractSequenceClassifier.train(AbstractSequenceClassifier.java:759)\n        at edu.stanford.nlp.ie.AbstractSequenceClassifier.train(AbstractSequenceClassifier.java:747)\n        at edu.stanford.nlp.ie.crf.CRFClassifier.main(CRFClassifier.java:2937)\n</code></pre>\n"},{"tags":["javascript","java","arrays","typescript","data-structures"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1679045593,"post_id":75765847,"comment_id":133654104,"body_markdown":"[Topological sorting](https://en.wikipedia.org/wiki/Topological_sorting)?","body":"<a href=\"https://en.wikipedia.org/wiki/Topological_sorting\" rel=\"nofollow noreferrer\">Topological sorting</a>?"},{"owner":{"account_id":16384666,"reputation":4093,"user_id":11834856,"display_name":"Neha Soni"},"score":0,"creation_date":1679046596,"post_id":75765847,"comment_id":133654357,"body_markdown":"What do you mean by sequence? I mean how do you want to sort the items, alphabetically?","body":"What do you mean by sequence? I mean how do you want to sort the items, alphabetically?"},{"owner":{"account_id":9344180,"reputation":61,"user_id":6935894,"display_name":"confused_dude_13"},"score":1,"creation_date":1679047216,"post_id":75765847,"comment_id":133654560,"body_markdown":"@NehaSoni not alphabetically, if SR-1 depends on SR-2, SR-2 should come first in the sequencedArray and then SR-1, similarly for all","body":"@NehaSoni not alphabetically, if SR-1 depends on SR-2, SR-2 should come first in the sequencedArray and then SR-1, similarly for all"},{"owner":{"account_id":18351807,"reputation":378,"user_id":13365797,"display_name":"jjj"},"score":0,"creation_date":1679048007,"post_id":75765847,"comment_id":133654776,"body_markdown":"@NehaSoni do you mean: always independent task first. then for all depent tasks, the one being depended most will comes first?","body":"@NehaSoni do you mean: always independent task first. then for all depent tasks, the one being depended most will comes first?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1679055968,"post_id":75765847,"comment_id":133656587,"body_markdown":"Please pick a language.  `Java` and `Javascript` are different.","body":"Please pick a language.  <code>Java</code> and <code>Javascript</code> are different."}],"answers":[{"comments":[{"owner":{"account_id":9344180,"reputation":61,"user_id":6935894,"display_name":"confused_dude_13"},"score":0,"creation_date":1679198679,"post_id":75765980,"comment_id":133677275,"body_markdown":"Thank you for the solution. Does this logic relate to any algorithm?","body":"Thank you for the solution. Does this logic relate to any algorithm?"},{"owner":{"account_id":1556832,"reputation":378932,"user_id":1447675,"display_name":"Nina Scholz"},"score":0,"creation_date":1679215245,"post_id":75765980,"comment_id":133678557,"body_markdown":"yes it has. please see edit.","body":"yes it has. please see edit."}],"tags":[],"owner":{"account_id":1556832,"reputation":378932,"user_id":1447675,"display_name":"Nina Scholz"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679215246,"creation_date":1679046095,"answer_id":75765980,"question_id":75765847,"body_markdown":"You could get all parent nodes and get a new array based on the root nodes.\r\n\r\n[Tree traversal](https://en.wikipedia.org/wiki/Tree_traversal): [Depth-first search](https://en.wikipedia.org/wiki/Depth-first_search) in Pre-order, NLR (node, left, right)\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n&lt;!-- language: lang-js --&gt;\r\n    const\r\n        getSorted = references =&gt; {\r\n            const fn = (array = []) =&gt; array.flatMap(o =&gt; [o, ...fn(references[o.taskId])]);\r\n            return fn(references[null]);\r\n        },\r\n        data = [{ taskId: &#39;SR-1&#39;, dependsOn: &#39;SR-2&#39;}, { taskId: &#39;SR-2&#39;, dependsOn: &#39;SR-5&#39;}, { taskId: &#39;SR-3&#39;, dependsOn: null}, { taskId: &#39;SR-4&#39;, dependsOn: &#39;SR-3&#39;}, { taskId: &#39;SR-5&#39;, dependsOn: null}, { taskId: &#39;SR-6&#39;, dependsOn: &#39;SR-2&#39;}],\r\n        references = data.reduce((r, o) =&gt; {\r\n            (r[o.dependsOn] ??= []).push(o);\r\n            return r;\r\n        }, {}),\r\n        result = getSorted(references);\r\n\r\n    console.log(result);\r\n&lt;!-- language: lang-css --&gt;\r\n    .as-console-wrapper { max-height: 100% !important; top: 0; }\r\n&lt;!-- end snippet --&gt;\r\n\r\nIf you like to get each level together, you need to iterate twice, one for the level and another for the children.\r\n\r\nTree traversal: A modified *Depth-first search* with getting the nodes of a parent first and then all children.\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n&lt;!-- language: lang-js --&gt;\r\n    const\r\n        getSorted = references =&gt; {\r\n            const fn = (array = []) =&gt; [\r\n                ...array,\r\n                ...array.flatMap(o =&gt; fn(references[o.taskId]))\r\n            ];\r\n            return fn(references[null]);\r\n        },\r\n        data = [{ taskId: &#39;SR-1&#39;, dependsOn: &#39;SR-2&#39;}, { taskId: &#39;SR-2&#39;, dependsOn: &#39;SR-5&#39;}, { taskId: &#39;SR-3&#39;, dependsOn: null}, { taskId: &#39;SR-4&#39;, dependsOn: &#39;SR-3&#39;}, { taskId: &#39;SR-5&#39;, dependsOn: null}, { taskId: &#39;SR-6&#39;, dependsOn: &#39;SR-2&#39;}],\r\n        references = data.reduce((r, o) =&gt; {\r\n            (r[o.dependsOn] ??= []).push(o);\r\n            return r;\r\n        }, {}),\r\n        result = getSorted(references);\r\n\r\n    console.log(result);\r\n&lt;!-- language: lang-css --&gt;\r\n    .as-console-wrapper { max-height: 100% !important; top: 0; }\r\n&lt;!-- end snippet --&gt;","title":"How to sequence an array of objects based on custom field?","body":"<p>You could get all parent nodes and get a new array based on the root nodes.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Tree_traversal\" rel=\"nofollow noreferrer\">Tree traversal</a>: <a href=\"https://en.wikipedia.org/wiki/Depth-first_search\" rel=\"nofollow noreferrer\">Depth-first search</a> in Pre-order, NLR (node, left, right)</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const\n    getSorted = references =&gt; {\n        const fn = (array = []) =&gt; array.flatMap(o =&gt; [o, ...fn(references[o.taskId])]);\n        return fn(references[null]);\n    },\n    data = [{ taskId: 'SR-1', dependsOn: 'SR-2'}, { taskId: 'SR-2', dependsOn: 'SR-5'}, { taskId: 'SR-3', dependsOn: null}, { taskId: 'SR-4', dependsOn: 'SR-3'}, { taskId: 'SR-5', dependsOn: null}, { taskId: 'SR-6', dependsOn: 'SR-2'}],\n    references = data.reduce((r, o) =&gt; {\n        (r[o.dependsOn] ??= []).push(o);\n        return r;\n    }, {}),\n    result = getSorted(references);\n\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>If you like to get each level together, you need to iterate twice, one for the level and another for the children.</p>\n<p>Tree traversal: A modified <em>Depth-first search</em> with getting the nodes of a parent first and then all children.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const\n    getSorted = references =&gt; {\n        const fn = (array = []) =&gt; [\n            ...array,\n            ...array.flatMap(o =&gt; fn(references[o.taskId]))\n        ];\n        return fn(references[null]);\n    },\n    data = [{ taskId: 'SR-1', dependsOn: 'SR-2'}, { taskId: 'SR-2', dependsOn: 'SR-5'}, { taskId: 'SR-3', dependsOn: null}, { taskId: 'SR-4', dependsOn: 'SR-3'}, { taskId: 'SR-5', dependsOn: null}, { taskId: 'SR-6', dependsOn: 'SR-2'}],\n    references = data.reduce((r, o) =&gt; {\n        (r[o.dependsOn] ??= []).push(o);\n        return r;\n    }, {}),\n    result = getSorted(references);\n\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":18351807,"reputation":378,"user_id":13365797,"display_name":"jjj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679047717,"creation_date":1679047356,"answer_id":75766217,"question_id":75765847,"body_markdown":"You can split the taskArray into two, sort (or not sort them) and put them back together like below:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    let taskArray = [\r\n    { taskId: &#39;SR-1&#39;, dependsOn: &#39;SR-2&#39;}, \r\n    { taskId: &#39;SR-2&#39;, dependsOn: &#39;SR-5&#39;}, \r\n    { taskId: &#39;SR-3&#39;, dependsOn: null},\r\n    { taskId: &#39;SR-4&#39;, dependsOn: &#39;SR-3&#39;},\r\n    { taskId: &#39;SR-5&#39;, dependsOn: null},\r\n    { taskId: &#39;SR-6&#39;, dependsOn: &#39;SR-2&#39;}]\r\n\r\n    // turn taskId into number e.g. &#39;ST-1&#39; -&gt; 1 so we can compare them in sort function below\r\n    const idToNumber = (id) =&gt; parseInt(id.replace(&#39;SR-&#39;,&#39;&#39;), 10)\r\n\r\n    // independent tasks where dependsOn field is null\r\n    let independentArray = taskArray\r\n      .filter(t =&gt; !t.dependsOn)\r\n      // as per your question this sorting is optional. comment out if not required\r\n      .sort((a,b) =&gt; idToNumber(b.taskId)-idToNumber(a.taskId) ? 1 : -1)\r\n      \r\n    // dependent tasks where dependsOn field is not null\r\n    let dependentArray = taskArray\r\n      .filter(t =&gt; !!t.dependsOn)\r\n      // sort the task by comparing their taskId by extracting the number\r\n      .sort((a,b) =&gt; idToNumber(b.taskId)-idToNumber(a.taskId) ? 1 : -1)\r\n\r\n    // combine them with independentArray comes first\r\n    let sequencedArray = [...independentArray, ...dependentArray]\r\n\r\n    console.log(sequencedArray)\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to sequence an array of objects based on custom field?","body":"<p>You can split the taskArray into two, sort (or not sort them) and put them back together like below:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let taskArray = [\n{ taskId: 'SR-1', dependsOn: 'SR-2'}, \n{ taskId: 'SR-2', dependsOn: 'SR-5'}, \n{ taskId: 'SR-3', dependsOn: null},\n{ taskId: 'SR-4', dependsOn: 'SR-3'},\n{ taskId: 'SR-5', dependsOn: null},\n{ taskId: 'SR-6', dependsOn: 'SR-2'}]\n\n// turn taskId into number e.g. 'ST-1' -&gt; 1 so we can compare them in sort function below\nconst idToNumber = (id) =&gt; parseInt(id.replace('SR-',''), 10)\n\n// independent tasks where dependsOn field is null\nlet independentArray = taskArray\n  .filter(t =&gt; !t.dependsOn)\n  // as per your question this sorting is optional. comment out if not required\n  .sort((a,b) =&gt; idToNumber(b.taskId)-idToNumber(a.taskId) ? 1 : -1)\n  \n// dependent tasks where dependsOn field is not null\nlet dependentArray = taskArray\n  .filter(t =&gt; !!t.dependsOn)\n  // sort the task by comparing their taskId by extracting the number\n  .sort((a,b) =&gt; idToNumber(b.taskId)-idToNumber(a.taskId) ? 1 : -1)\n\n// combine them with independentArray comes first\nlet sequencedArray = [...independentArray, ...dependentArray]\n\nconsole.log(sequencedArray)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":9344180,"reputation":61,"user_id":6935894,"display_name":"confused_dude_13"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":75765980,"answer_count":2,"score":2,"last_activity_date":1679215246,"creation_date":1679045408,"question_id":75765847,"body_markdown":"I have an array which lists certain tasks and the tasks that they are dependent upon. For example:   \r\n```\r\nlet taskArray = [\r\n{ taskId: &#39;SR-1&#39;, dependsOn: &#39;SR-2&#39;}, \r\n{ taskId: &#39;SR-2&#39;, dependsOn: &#39;SR-5&#39;}, \r\n{ taskId: &#39;SR-3&#39;, dependsOn: null},\r\n{ taskId: &#39;SR-4&#39;, dependsOn: &#39;SR-3&#39;},\r\n{ taskId: &#39;SR-5&#39;, dependsOn: null},\r\n{ taskId: &#39;SR-6&#39;, dependsOn: &#39;SR-2&#39;}]\r\n\r\n```\r\nAfter processing the array should be \r\n```\r\nlet sequencedArray = [\r\n{ taskId: &#39;SR-3&#39;, dependsOn: null},\r\n{ taskId: &#39;SR-5&#39;, dependsOn: null},\r\n{ taskId: &#39;SR-2&#39;, dependsOn: &#39;SR-5&#39;},\r\n{ taskId: &#39;SR-1&#39;, dependsOn: &#39;SR-2&#39;}, \r\n{ taskId: &#39;SR-6&#39;, dependsOn: &#39;SR-2&#39;}\r\n{ taskId: &#39;SR-4&#39;, dependsOn: &#39;SR-3&#39;},\r\n]\r\n```\r\nThe tasks which have dependsOn field as null can be in any order, but the task having dependsOn tasks should be sequenced.\r\n\r\n\r\nI was thinking of first ordering based on the dependsOn field, that way I will have all the independent tasks at the start, but not sure how to sequence them.","title":"How to sequence an array of objects based on custom field?","body":"<p>I have an array which lists certain tasks and the tasks that they are dependent upon. For example:</p>\n<pre><code>let taskArray = [\n{ taskId: 'SR-1', dependsOn: 'SR-2'}, \n{ taskId: 'SR-2', dependsOn: 'SR-5'}, \n{ taskId: 'SR-3', dependsOn: null},\n{ taskId: 'SR-4', dependsOn: 'SR-3'},\n{ taskId: 'SR-5', dependsOn: null},\n{ taskId: 'SR-6', dependsOn: 'SR-2'}]\n\n</code></pre>\n<p>After processing the array should be</p>\n<pre><code>let sequencedArray = [\n{ taskId: 'SR-3', dependsOn: null},\n{ taskId: 'SR-5', dependsOn: null},\n{ taskId: 'SR-2', dependsOn: 'SR-5'},\n{ taskId: 'SR-1', dependsOn: 'SR-2'}, \n{ taskId: 'SR-6', dependsOn: 'SR-2'}\n{ taskId: 'SR-4', dependsOn: 'SR-3'},\n]\n</code></pre>\n<p>The tasks which have dependsOn field as null can be in any order, but the task having dependsOn tasks should be sequenced.</p>\n<p>I was thinking of first ordering based on the dependsOn field, that way I will have all the independent tasks at the start, but not sure how to sequence them.</p>\n"},{"tags":["java","mongodb","indexing","mongodb-explain"],"owner":{"account_id":16970400,"reputation":73,"user_id":12275169,"display_name":"Nishant Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679214923,"creation_date":1679211791,"question_id":75780660,"body_markdown":"I have edited a compound index and made it unique for one of the collection and after deploying this change getting the following exception - \r\n\r\n```\r\nnested exception is org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 85 (IndexOptionsConflict): &#39;Index with name: orgId_1_uuid_1 already exists with different options&#39; on server mongo-rs-abc-mongodb-primary-0.mongo-rs-abc-mongodb-headless.default.svc.cluster.local:27017. The full response is {\\&quot;operationTime\\&quot;: {\\&quot;$timestamp\\&quot;: {\\&quot;t\\&quot;: 1679209971, \\&quot;i\\&quot;: 1}}, \\&quot;ok\\&quot;: 0.0, \\&quot;errmsg\\&quot;: \\&quot;Index with name: orgId_1_uuid_1 already exists with different options\\&quot;, \\&quot;code\\&quot;: 85, \\&quot;codeName\\&quot;: \\&quot;IndexOptionsConflict\\&quot;, \\&quot;$clusterTime\\&quot;: {\\&quot;clusterTime\\&quot;: {\\&quot;$timestamp\\&quot;: {\\&quot;t\\&quot;: 1679209971, \\&quot;i\\&quot;: 1}}, \\&quot;signature\\&quot;: {\\&quot;hash\\&quot;: {\\&quot;$binary\\&quot;: {\\&quot;base64\\&quot;: \\&quot;YkYwvLJHQbN42C28nzlBaL5K6CY=\\&quot;, \\&quot;subType\\&quot;: \\&quot;00\\&quot;}}, \\&quot;keyId\\&quot;: 7149920632761745409}}}; nested exception is com.mongodb.MongoCommandException: Command failed with error 85 (IndexOptionsConflict): &#39;Index with name: orgId_1_uuid_1 already exists with different options&#39; on server mongo-rs-abc-mongodb-primary-0.mongo-rs-abc-mongodb-headless.default.svc.cluster.local:27017. The full response is {\\&quot;operationTime\\&quot;: {\\&quot;$timestamp\\&quot;: {\\&quot;t\\&quot;: 1679209971, \\&quot;i\\&quot;: 1}}, \\&quot;ok\\&quot;: 0.0, \\&quot;errmsg\\&quot;: \\&quot;Index with name: orgId_1_uuid_1 already exists wit\r\nh different options\\&quot;, \\&quot;code\\&quot;: 85, \\&quot;codeName\\&quot;: \\&quot;IndexOptionsConflict\\&quot;, \\&quot;$clusterTime\\&quot;: {\\&quot;clusterTime\\&quot;: {\\&quot;$timestamp\\&quot;: {\\&quot;t\\&quot;: 1679209971, \\&quot;i\\&quot;: 1}}, \\&quot;signature\\&quot;: {\\&quot;hash\\&quot;: {\\&quot;$binary\\&quot;: {\\&quot;base64\\&quot;: \\&quot;YkYwvLJHQbN42C28nzlBaL5K6CY=\\&quot;, \\&quot;subType\\&quot;: \\&quot;0\r\n0\\&quot;}}, \\&quot;keyId\\&quot;: 7149920632761745409}}}\r\n```\r\n\r\nI tried checking the index using the following command - db.dbase.getIndex() and it was giving two indexes with different names - \r\n[\r\n        {\r\n                &quot;v&quot; : 2,\r\n                &quot;key&quot; : {\r\n                        &quot;_id&quot; : 1\r\n                },\r\n                &quot;name&quot; : &quot;_id_&quot;,\r\n                &quot;ns&quot; : &quot;project.dbase&quot;\r\n        },\r\n        {\r\n                &quot;v&quot; : 2,\r\n                &quot;key&quot; : {\r\n                        &quot;orgId&quot; : 1,\r\n                        &quot;uuid&quot; : 1\r\n                },\r\n                &quot;name&quot; : &quot;orgId_1_uuid_1&quot;,\r\n                &quot;ns&quot; : &quot;project.dbase&quot;,\r\n                &quot;background&quot; : true\r\n        }\r\n]\r\nCan someone help with possible reasons for this","title":"Getting Exception org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 85 (IndexOptionsConflict)","body":"<p>I have edited a compound index and made it unique for one of the collection and after deploying this change getting the following exception -</p>\n<pre><code>nested exception is org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 85 (IndexOptionsConflict): 'Index with name: orgId_1_uuid_1 already exists with different options' on server mongo-rs-abc-mongodb-primary-0.mongo-rs-abc-mongodb-headless.default.svc.cluster.local:27017. The full response is {\\&quot;operationTime\\&quot;: {\\&quot;$timestamp\\&quot;: {\\&quot;t\\&quot;: 1679209971, \\&quot;i\\&quot;: 1}}, \\&quot;ok\\&quot;: 0.0, \\&quot;errmsg\\&quot;: \\&quot;Index with name: orgId_1_uuid_1 already exists with different options\\&quot;, \\&quot;code\\&quot;: 85, \\&quot;codeName\\&quot;: \\&quot;IndexOptionsConflict\\&quot;, \\&quot;$clusterTime\\&quot;: {\\&quot;clusterTime\\&quot;: {\\&quot;$timestamp\\&quot;: {\\&quot;t\\&quot;: 1679209971, \\&quot;i\\&quot;: 1}}, \\&quot;signature\\&quot;: {\\&quot;hash\\&quot;: {\\&quot;$binary\\&quot;: {\\&quot;base64\\&quot;: \\&quot;YkYwvLJHQbN42C28nzlBaL5K6CY=\\&quot;, \\&quot;subType\\&quot;: \\&quot;00\\&quot;}}, \\&quot;keyId\\&quot;: 7149920632761745409}}}; nested exception is com.mongodb.MongoCommandException: Command failed with error 85 (IndexOptionsConflict): 'Index with name: orgId_1_uuid_1 already exists with different options' on server mongo-rs-abc-mongodb-primary-0.mongo-rs-abc-mongodb-headless.default.svc.cluster.local:27017. The full response is {\\&quot;operationTime\\&quot;: {\\&quot;$timestamp\\&quot;: {\\&quot;t\\&quot;: 1679209971, \\&quot;i\\&quot;: 1}}, \\&quot;ok\\&quot;: 0.0, \\&quot;errmsg\\&quot;: \\&quot;Index with name: orgId_1_uuid_1 already exists wit\nh different options\\&quot;, \\&quot;code\\&quot;: 85, \\&quot;codeName\\&quot;: \\&quot;IndexOptionsConflict\\&quot;, \\&quot;$clusterTime\\&quot;: {\\&quot;clusterTime\\&quot;: {\\&quot;$timestamp\\&quot;: {\\&quot;t\\&quot;: 1679209971, \\&quot;i\\&quot;: 1}}, \\&quot;signature\\&quot;: {\\&quot;hash\\&quot;: {\\&quot;$binary\\&quot;: {\\&quot;base64\\&quot;: \\&quot;YkYwvLJHQbN42C28nzlBaL5K6CY=\\&quot;, \\&quot;subType\\&quot;: \\&quot;0\n0\\&quot;}}, \\&quot;keyId\\&quot;: 7149920632761745409}}}\n</code></pre>\n<p>I tried checking the index using the following command - db.dbase.getIndex() and it was giving two indexes with different names -\n[\n{\n&quot;v&quot; : 2,\n&quot;key&quot; : {\n&quot;_id&quot; : 1\n},\n&quot;name&quot; : &quot;<em>id</em>&quot;,\n&quot;ns&quot; : &quot;project.dbase&quot;\n},\n{\n&quot;v&quot; : 2,\n&quot;key&quot; : {\n&quot;orgId&quot; : 1,\n&quot;uuid&quot; : 1\n},\n&quot;name&quot; : &quot;orgId_1_uuid_1&quot;,\n&quot;ns&quot; : &quot;project.dbase&quot;,\n&quot;background&quot; : true\n}\n]\nCan someone help with possible reasons for this</p>\n"},{"tags":["java","opengl","raspberry-pi","processing","raspberry-pi4"],"comments":[{"owner":{"account_id":17830123,"reputation":780,"user_id":14956120,"display_name":"Carl HR"},"score":0,"creation_date":1678025741,"post_id":75640628,"comment_id":133449307,"body_markdown":"Isn&#39;t a problem that a raspberry pi doesn&#39;t come with a GPU to run the game&#39;s graphics? I remember a few years ago when I tried to use pygame (v1.0, which used the SDL 1.0), the graphics calculations were done directly on the CPU. This is an explicit performance problem, as the CPU needs to compute all the graphics at each frame. The problem grows, the larger your screen size is (1920x1080 is big). So, depending on how fast the CPU is, you&#39;re bound to have low FPS no matter what you do (as this is more of a hardware problem). Or, you could try decreasing the screen size.","body":"Isn&#39;t a problem that a raspberry pi doesn&#39;t come with a GPU to run the game&#39;s graphics? I remember a few years ago when I tried to use pygame (v1.0, which used the SDL 1.0), the graphics calculations were done directly on the CPU. This is an explicit performance problem, as the CPU needs to compute all the graphics at each frame. The problem grows, the larger your screen size is (1920x1080 is big). So, depending on how fast the CPU is, you&#39;re bound to have low FPS no matter what you do (as this is more of a hardware problem). Or, you could try decreasing the screen size."},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1678029824,"post_id":75640628,"comment_id":133450024,"body_markdown":"Carl HR, I have made a new test and added this info to the post. The clear test without any graphic output - not updateable window 1920x1080 with one console output per frame. And I get 13 FPS. Standart test glxgears shows 75 fps. Maybe trouble is not in the RPI? I can not change the resolution: this is a point in the specification of the customer.","body":"Carl HR, I have made a new test and added this info to the post. The clear test without any graphic output - not updateable window 1920x1080 with one console output per frame. And I get 13 FPS. Standart test glxgears shows 75 fps. Maybe trouble is not in the RPI? I can not change the resolution: this is a point in the specification of the customer."},{"owner":{"account_id":17830123,"reputation":780,"user_id":14956120,"display_name":"Carl HR"},"score":0,"creation_date":1678031455,"post_id":75640628,"comment_id":133450293,"body_markdown":"_&quot;I don’t understand why the simplest processing sketch with only console output and the not updateable screen content runs so slow&quot;_ When you try to print anything into a console, it&#39;s expected that the print function call slows down the application. That&#39;s why that you can never know the true FPS you&#39;re getting within your application, as any technique that you may try will slow it down. Now, to get such a low frame rate, how are you testing the application? The raspberry is taking care of an entire OS and multiple applications at the same time? Or just the game (no OS)?","body":"<i>&quot;I don’t understand why the simplest processing sketch with only console output and the not updateable screen content runs so slow&quot;</i> When you try to print anything into a console, it&#39;s expected that the print function call slows down the application. That&#39;s why that you can never know the true FPS you&#39;re getting within your application, as any technique that you may try will slow it down. Now, to get such a low frame rate, how are you testing the application? The raspberry is taking care of an entire OS and multiple applications at the same time? Or just the game (no OS)?"},{"owner":{"account_id":17830123,"reputation":780,"user_id":14956120,"display_name":"Carl HR"},"score":1,"creation_date":1678035295,"post_id":75640628,"comment_id":133450985,"body_markdown":"Given the possiblity that the raspberry pi is being slowed down, due to have to process the entire screen, and other applications at the same time (ie: game + console + os interface), try to redirect the standard output to a file inside your project. This way, the console won&#39;t output anything when a print occurs, which won&#39;t force any screen updates. Later on, when the application is closed, you can open the file and check the output (frame rate). It should be bigger. If it&#39;s not, then I don&#39;t know what it is causing it to be low.","body":"Given the possiblity that the raspberry pi is being slowed down, due to have to process the entire screen, and other applications at the same time (ie: game + console + os interface), try to redirect the standard output to a file inside your project. This way, the console won&#39;t output anything when a print occurs, which won&#39;t force any screen updates. Later on, when the application is closed, you can open the file and check the output (frame rate). It should be bigger. If it&#39;s not, then I don&#39;t know what it is causing it to be low."},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1678035310,"post_id":75640628,"comment_id":133450987,"body_markdown":"@AlexanderGorodilov Unfortunately I don&#39;t have access to a RPI 4 to test, but I think you&#39;re on the right track with the P2D blank sketch you did. In my experience Processing/Java runs fairly slow on RPI and in the past (using RPI 1, 2) resources were very limited. IIRC, by default, only a fraction of the system RAM is shared for video. Try running `sudo raspi-config` and enable a lot more video memory, reboot and run your test again. Try running a few tests from `Processing &gt; Examples &gt; Demos &gt; Graphics` and also `Performance`.","body":"@AlexanderGorodilov Unfortunately I don&#39;t have access to a RPI 4 to test, but I think you&#39;re on the right track with the P2D blank sketch you did. In my experience Processing/Java runs fairly slow on RPI and in the past (using RPI 1, 2) resources were very limited. IIRC, by default, only a fraction of the system RAM is shared for video. Try running <code>sudo raspi-config</code> and enable a lot more video memory, reboot and run your test again. Try running a few tests from <code>Processing &gt; Examples &gt; Demos &gt; Graphics</code> and also <code>Performance</code>."},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1678035448,"post_id":75640628,"comment_id":133451010,"body_markdown":"Additionally, try your blank test with smaller resolutions (e.g. 720p, 360p) and hopefully there&#39;s a lower resolution that behaves well. If that&#39;s the case you can try using a `PGraphics` buffer at half res (720p) for example to do most of the work, then render it at the end of `draw()` as `1080p`. Sure, it won&#39;t be as crisp, but hopefully still looking ok/acceptable but moving faster. If you&#39;re not constrained to Processing Java you can look at pygame (if that applies) or even openFrameworks (c++). OpenFrameworks is inspired Processing and has many similarities. setup/compilation will be slow","body":"Additionally, try your blank test with smaller resolutions (e.g. 720p, 360p) and hopefully there&#39;s a lower resolution that behaves well. If that&#39;s the case you can try using a <code>PGraphics</code> buffer at half res (720p) for example to do most of the work, then render it at the end of <code>draw()</code> as <code>1080p</code>. Sure, it won&#39;t be as crisp, but hopefully still looking ok/acceptable but moving faster. If you&#39;re not constrained to Processing Java you can look at pygame (if that applies) or even openFrameworks (c++). OpenFrameworks is inspired Processing and has many similarities. setup/compilation will be slow"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1678049098,"post_id":75640628,"comment_id":133453450,"body_markdown":"Carl HR,  the output source is not the main reason. I made an another experiment: I created on my Khadas Vim3 pro a clear LibGDX project, that draws a single picture on the screen in the main game loop and print the frame rate in the console. And I got stable 60 FPS. I think, that the trouble is in the Processing for the single boards computers. The internal libraries are not adjusted for using OpenGl on the ARM architecture.","body":"Carl HR,  the output source is not the main reason. I made an another experiment: I created on my Khadas Vim3 pro a clear LibGDX project, that draws a single picture on the screen in the main game loop and print the frame rate in the console. And I got stable 60 FPS. I think, that the trouble is in the Processing for the single boards computers. The internal libraries are not adjusted for using OpenGl on the ARM architecture."},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1678049701,"post_id":75640628,"comment_id":133453551,"body_markdown":"George Profenza, I can not even launch any P2D examples from the Processing IDE. It doesn&#39;t want to create the OpenGl window. I have install Raspbian 32 bit but the situation is the same. Maybe the customer accepts the low resolution, but I don&#39;t know. I know only Java, but wanted to learn C++. But right now I can not even understand how to assembly libraries and append they to a clear C++ project. I wanted try to use processing for C++ (an open source unofficial port to Cpp), but couldn&#39;t assembly.","body":"George Profenza, I can not even launch any P2D examples from the Processing IDE. It doesn&#39;t want to create the OpenGl window. I have install Raspbian 32 bit but the situation is the same. Maybe the customer accepts the low resolution, but I don&#39;t know. I know only Java, but wanted to learn C++. But right now I can not even understand how to assembly libraries and append they to a clear C++ project. I wanted try to use processing for C++ (an open source unofficial port to Cpp), but couldn&#39;t assembly."},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":1,"creation_date":1678050608,"post_id":75640628,"comment_id":133453720,"body_markdown":"@George Profenza, If I can not find a solution how to use all OpenGl power from Processing, I think I will use LibGDX. I have tested it today and didn&#39;t get any performance troubles. It uses the same programming language and I have three books about this framework. The game is not very difficult and I think I can port my game in LibGDX in 4-6 hours. I also found a Java  library (I think It is Pi4J) , that can be used for controlling of the GPIO. I don&#39;t want but I think it is the shortest way to complete the project.","body":"@George Profenza, If I can not find a solution how to use all OpenGl power from Processing, I think I will use LibGDX. I have tested it today and didn&#39;t get any performance troubles. It uses the same programming language and I have three books about this framework. The game is not very difficult and I think I can port my game in LibGDX in 4-6 hours. I also found a Java  library (I think It is Pi4J) , that can be used for controlling of the GPIO. I don&#39;t want but I think it is the shortest way to complete the project."},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1678086016,"post_id":75640628,"comment_id":133458063,"body_markdown":"@AlexanderGorodilov Pi4J can indeed help you to control the game with a joystick (see article on https://blogs.oracle.com/javamagazine/post/look-out-duke-part-2-control-a-java-game-with-a-raspberry-pi-and-a-joystick), but also contains documentation on how to run your application in desktop only mode. This is for JavaFX application, but may also be helpful for our use case: https://pi4j.com/getting-started/fxgl/kiosk-mode/","body":"@AlexanderGorodilov Pi4J can indeed help you to control the game with a joystick (see article on <a href=\"https://blogs.oracle.com/javamagazine/post/look-out-duke-part-2-control-a-java-game-with-a-raspberry-pi-and-a-joystick\" rel=\"nofollow noreferrer\">blogs.oracle.com/javamagazine/post/&hellip;</a>), but also contains documentation on how to run your application in desktop only mode. This is for JavaFX application, but may also be helpful for our use case: <a href=\"https://pi4j.com/getting-started/fxgl/kiosk-mode/\" rel=\"nofollow noreferrer\">pi4j.com/getting-started/fxgl/kiosk-mode</a>"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":1,"creation_date":1678099708,"post_id":75640628,"comment_id":133461523,"body_markdown":"@Frank, I have wrote at the begin of the topic that &quot;I have already organized the communication between the RPI 4B 8Gb and the joystick&quot;. I have used a Java-port of evdev library. But you have presented me a good idea. Processing has a JavaFX library. I will try to create not the OpenGL or Java window, but JavaFX window using FX2D as the third parameter in the size() function. I&#39;ll try it on my single board computers. I hope it is more powerfull mode for RPI","body":"@Frank, I have wrote at the begin of the topic that &quot;I have already organized the communication between the RPI 4B 8Gb and the joystick&quot;. I have used a Java-port of evdev library. But you have presented me a good idea. Processing has a JavaFX library. I will try to create not the OpenGL or Java window, but JavaFX window using FX2D as the third parameter in the size() function. I&#39;ll try it on my single board computers. I hope it is more powerfull mode for RPI"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":1,"creation_date":1678273603,"post_id":75640628,"comment_id":133499596,"body_markdown":"@Frank, JavaFX (FX2D as the third parameter in the size() function), increases the game performance. It is better than the default renderer. Thank Frank! But not enough. It will be better if the P2D works correct.","body":"@Frank, JavaFX (FX2D as the third parameter in the size() function), increases the game performance. It is better than the default renderer. Thank Frank! But not enough. It will be better if the P2D works correct."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1678471214,"post_id":75640628,"comment_id":133545243,"body_markdown":"If your post needs _this_ many comments in order for someone to sus out the particulars, it&#39;s well past time to [edit] your post and move all the information you added in comments [into your post instead](/help/how-to-ask). Also, Processing has a [user forum](https://discourse.processing.org/) exactly for questions like this, so while posting here is of course fine, did you _also_ post there? Because SO is your last resort, not your first: first ask the people who are best suited to answer your question. And only if that yields no result does posting to SO make sense =)","body":"If your post needs <i>this</i> many comments in order for someone to sus out the particulars, it&#39;s well past time to <a href=\"https://stackoverflow.com/posts/75640628/edit\">edit</a> your post and move all the information you added in comments <a href=\"/help/how-to-ask\">into your post instead</a>. Also, Processing has a <a href=\"https://discourse.processing.org/\" rel=\"nofollow noreferrer\">user forum</a> exactly for questions like this, so while posting here is of course fine, did you <i>also</i> post there? Because SO is your last resort, not your first: first ask the people who are best suited to answer your question. And only if that yields no result does posting to SO make sense =)"}],"answers":[{"tags":[],"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679211814,"creation_date":1679211814,"answer_id":75780666,"question_id":75640628,"body_markdown":"Well, I have transfered my game into LibGDX. It uses also Java as the programming language and Open GL ES for the rendering. I have got 50-60 FPS. \r\nThe answer is pretty simple: Don&#39;t use Processing for creation of applications with the Open GL context running on ARM Single board computers with Linux as the operating system.","title":"Open GL performance on the Raspberry PI 4B and another SBC","body":"<p>Well, I have transfered my game into LibGDX. It uses also Java as the programming language and Open GL ES for the rendering. I have got 50-60 FPS.\nThe answer is pretty simple: Don't use Processing for creation of applications with the Open GL context running on ARM Single board computers with Linux as the operating system.</p>\n"}],"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":75780666,"answer_count":1,"score":3,"last_activity_date":1679211814,"creation_date":1677999163,"question_id":75640628,"body_markdown":"Good day!\r\n\r\nI got a project from a firm and now I need to develop an arcade cabinet with Raspberry Pi 3. It has a joystick and some external devices, which are controlled via GPIO. I have already organized the communication between the RPI 4B 8Gb and the joystick and I can already receive signals from the coin acceptor. The next trouble is performance. I create the videogame using Java and append the internal processing libraries (www.processing.org) to the project for the graphic output and GPIO interaction.\r\n\r\nThe processing-core library has two abilities to render graphics: software rendering (using parameter JAVA2D in the size() function) and hardware accelerated (using parameter P2D or P3D in the same function). The parameters P2D and P3D enable the OpenGL support and the performance of all my games on the normal desktop PC or android device is higher as the performance in the JAVA2D mode. But not on my single board computers.\r\n\r\nOn the Raspberry PI 4B 8Gb (Raspberry Pi OS 64 bit desktop) I got: 11 FPS in JAVA2D mode and 6 FPS in P2D mode.\r\nOn my Khadas Vim3 pro (Ubuntu 20.04 64 bit) I got 14 FPS in JAVA2D mode and 8 FPS in P2D mode.\r\n\r\nI don’t understand what is the trouble with the performance on the SBC? My game is pretty simple: The screen size is: 1920x1080. All the game graphic is packed in a single PNG file. I draw a images for background, than for 3 airplaines, than for bullets and than a full screen explosion. All the graphic is drawn without scaling using function:\r\n\r\n    image(source, posX, poxY, width, height, leftPixelInSource, upperPixelInSource, rightPixelInSource, lowerPixelInSource);\r\n\r\nI need to get at least 20 FPS to complete the project.\r\n\r\nI use Intellij IDEA (with sudo parameter) and I see in the logcat the next 3 lines when I use OpenGL (P2D parameter in the size()-function):\r\n\r\n    error: XDG_RUNTIME_DIR not set in the environment.\r\n    error: XDG_RUNTIME_DIR not set in the environment.\r\n    error: XDG_RUNTIME_DIR not set in the environment.\r\n\r\n, but the game runs. When I close the game I receive the next messages in the logcat. \r\n\r\n    X11Util.Display: Shutdown (JVM shutdown: true, open (no close attempt): 2/2, reusable (open, marked uncloseable): 0, pending (open in creation order): 2)\r\n    X11Util: Open X11 Display Connections: 2\r\n    X11Util: Open[0]: NamedX11Display[:0, 0x7f1c07cc90, refCount 1, unCloseable false]\r\n    X11Util: Open[1]: NamedX11Display[:0, 0x7f1c0a2150, refCount 1, unCloseable false]\r\n\r\nIn Java mode I haven’t any errors.\r\nI tried to launch without the sudo parameter and with the enabled P2D parameter. I have a new error and can not launch the game. The log cat shows:\r\n\r\n    Resource compiler: Error: Couldn&#39;t copy [/home/mgdsstudio/GD/Workspace/Airfight/Libs/META-INF/MANIFEST.MF] to [/home/mgdsstudio/GD/Workspace/Airfight/out/production/desktop/META-INF/MANIFEST.MF]\r\n    java.io.IOException: Couldn&#39;t copy [/home/mgdsstudio/GD/Workspace/Airfight/Libs/META-INF/MANIFEST.MF] to [/home/mgdsstudio/GD/Workspace/Airfight/out/production/desktop/META-INF/MANIFEST.MF]\r\n    \tat com.intellij.openapi.util.io.FileUtil.performCopy(FileUtil.java:419)\r\n    \tat com.intellij.openapi.util.io.FileUtil.copyContent(FileUtil.java:408)\r\n    \tat org.jetbrains.jps.incremental.FSOperations.copy(FSOperations.java:472)\r\n    \tat org.jetbrains.jps.incremental.resources.ResourcesBuilder.copyResource(ResourcesBuilder.java:123)\r\n    \tat org.jetbrains.jps.incremental.resources.ResourcesBuilder.lambda$build$0(ResourcesBuilder.java:67)\r\n    \tat org.jetbrains.jps.incremental.fs.BuildFSState.processFilesToRecompile(BuildFSState.java:374)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder$6.processDirtyFiles(IncProjectBuilder.java:1261)\r\n    \tat org.jetbrains.jps.incremental.resources.ResourcesBuilder.build(ResourcesBuilder.java:56)\r\n    \tat org.jetbrains.jps.incremental.resources.ResourcesBuilder.build(ResourcesBuilder.java:27)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.buildTarget(IncProjectBuilder.java:1266)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.runBuildersForChunk(IncProjectBuilder.java:1166)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.buildTargetsChunk(IncProjectBuilder.java:1303)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.buildChunkIfAffected(IncProjectBuilder.java:1118)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.buildChunks(IncProjectBuilder.java:889)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.runBuild(IncProjectBuilder.java:471)\r\n    \tat org.jetbrains.jps.incremental.IncProjectBuilder.build(IncProjectBuilder.java:197)\r\n    \tat org.jetbrains.jps.cmdline.BuildRunner.runBuild(BuildRunner.java:150)\r\n    \tat org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:371)\r\n    \tat org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:193)\r\n    \tat org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:211)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: java.nio.file.AccessDeniedException: /home/mgdsstudio/GD/Workspace/Airfight/out/production/desktop/META-INF/MANIFEST.MF\r\n    \tat java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:90)\r\n    \tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\r\n    \tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)\r\n    \tat java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)\r\n    \tat java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:478)\r\n    \tat java.base/java.nio.file.Files.newOutputStream(Files.java:220)\r\n    \tat com.intellij.openapi.util.io.FileUtil.openOutputStream(FileUtil.java:452)\r\n    \tat com.intellij.openapi.util.io.FileUtil.performCopy(FileUtil.java:415)\r\n    \t... 22 more\r\n\r\nI read some info about default OpenGL driver troubles on RPI. But I don’t understand what I must do to increase the FPS or maybe repair the OpenGL? Are there differences in the Raspberry Pi OS 32 bit between desktop and no desktop distribution? Maybe I need to try  another OS distribution to get better performance?\r\n\r\n\r\n\r\nI have made my sketch simpler. It has now only one function in the game loop: \r\n\r\n    @\r\n    Override\r\n        public void settings(){\r\n            size(1920, 1080, P2D);        \r\n        }\r\n    \r\n        @Override\r\n        public void setup(){}\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void draw(){\r\n            System.out.println(&quot;FPS: &quot; + frameRate);        \r\n        }\r\n\r\nAnd I got the FPS not more than 13 frames per second. The game loop does nothing - only console output. When I launch glxgears programm after I have installed mesa-utils with the command:\r\n\r\n    sudo apt-get install mesa-utils\r\n\r\nI get 75 FPS. I don’t understand why the simplest processing sketch with only console output and the not updateable screen content runs so slow\r\n\r\n\r\n\r\n","title":"Open GL performance on the Raspberry PI 4B and another SBC","body":"<p>Good day!</p>\n<p>I got a project from a firm and now I need to develop an arcade cabinet with Raspberry Pi 3. It has a joystick and some external devices, which are controlled via GPIO. I have already organized the communication between the RPI 4B 8Gb and the joystick and I can already receive signals from the coin acceptor. The next trouble is performance. I create the videogame using Java and append the internal processing libraries (<a href=\"http://www.processing.org\" rel=\"nofollow noreferrer\">www.processing.org</a>) to the project for the graphic output and GPIO interaction.</p>\n<p>The processing-core library has two abilities to render graphics: software rendering (using parameter JAVA2D in the size() function) and hardware accelerated (using parameter P2D or P3D in the same function). The parameters P2D and P3D enable the OpenGL support and the performance of all my games on the normal desktop PC or android device is higher as the performance in the JAVA2D mode. But not on my single board computers.</p>\n<p>On the Raspberry PI 4B 8Gb (Raspberry Pi OS 64 bit desktop) I got: 11 FPS in JAVA2D mode and 6 FPS in P2D mode.\nOn my Khadas Vim3 pro (Ubuntu 20.04 64 bit) I got 14 FPS in JAVA2D mode and 8 FPS in P2D mode.</p>\n<p>I don’t understand what is the trouble with the performance on the SBC? My game is pretty simple: The screen size is: 1920x1080. All the game graphic is packed in a single PNG file. I draw a images for background, than for 3 airplaines, than for bullets and than a full screen explosion. All the graphic is drawn without scaling using function:</p>\n<pre><code>image(source, posX, poxY, width, height, leftPixelInSource, upperPixelInSource, rightPixelInSource, lowerPixelInSource);\n</code></pre>\n<p>I need to get at least 20 FPS to complete the project.</p>\n<p>I use Intellij IDEA (with sudo parameter) and I see in the logcat the next 3 lines when I use OpenGL (P2D parameter in the size()-function):</p>\n<pre><code>error: XDG_RUNTIME_DIR not set in the environment.\nerror: XDG_RUNTIME_DIR not set in the environment.\nerror: XDG_RUNTIME_DIR not set in the environment.\n</code></pre>\n<p>, but the game runs. When I close the game I receive the next messages in the logcat.</p>\n<pre><code>X11Util.Display: Shutdown (JVM shutdown: true, open (no close attempt): 2/2, reusable (open, marked uncloseable): 0, pending (open in creation order): 2)\nX11Util: Open X11 Display Connections: 2\nX11Util: Open[0]: NamedX11Display[:0, 0x7f1c07cc90, refCount 1, unCloseable false]\nX11Util: Open[1]: NamedX11Display[:0, 0x7f1c0a2150, refCount 1, unCloseable false]\n</code></pre>\n<p>In Java mode I haven’t any errors.\nI tried to launch without the sudo parameter and with the enabled P2D parameter. I have a new error and can not launch the game. The log cat shows:</p>\n<pre><code>Resource compiler: Error: Couldn't copy [/home/mgdsstudio/GD/Workspace/Airfight/Libs/META-INF/MANIFEST.MF] to [/home/mgdsstudio/GD/Workspace/Airfight/out/production/desktop/META-INF/MANIFEST.MF]\njava.io.IOException: Couldn't copy [/home/mgdsstudio/GD/Workspace/Airfight/Libs/META-INF/MANIFEST.MF] to [/home/mgdsstudio/GD/Workspace/Airfight/out/production/desktop/META-INF/MANIFEST.MF]\n    at com.intellij.openapi.util.io.FileUtil.performCopy(FileUtil.java:419)\n    at com.intellij.openapi.util.io.FileUtil.copyContent(FileUtil.java:408)\n    at org.jetbrains.jps.incremental.FSOperations.copy(FSOperations.java:472)\n    at org.jetbrains.jps.incremental.resources.ResourcesBuilder.copyResource(ResourcesBuilder.java:123)\n    at org.jetbrains.jps.incremental.resources.ResourcesBuilder.lambda$build$0(ResourcesBuilder.java:67)\n    at org.jetbrains.jps.incremental.fs.BuildFSState.processFilesToRecompile(BuildFSState.java:374)\n    at org.jetbrains.jps.incremental.IncProjectBuilder$6.processDirtyFiles(IncProjectBuilder.java:1261)\n    at org.jetbrains.jps.incremental.resources.ResourcesBuilder.build(ResourcesBuilder.java:56)\n    at org.jetbrains.jps.incremental.resources.ResourcesBuilder.build(ResourcesBuilder.java:27)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.buildTarget(IncProjectBuilder.java:1266)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.runBuildersForChunk(IncProjectBuilder.java:1166)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.buildTargetsChunk(IncProjectBuilder.java:1303)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.buildChunkIfAffected(IncProjectBuilder.java:1118)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.buildChunks(IncProjectBuilder.java:889)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.runBuild(IncProjectBuilder.java:471)\n    at org.jetbrains.jps.incremental.IncProjectBuilder.build(IncProjectBuilder.java:197)\n    at org.jetbrains.jps.cmdline.BuildRunner.runBuild(BuildRunner.java:150)\n    at org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:371)\n    at org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:193)\n    at org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:211)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.nio.file.AccessDeniedException: /home/mgdsstudio/GD/Workspace/Airfight/out/production/desktop/META-INF/MANIFEST.MF\n    at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:90)\n    at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\n    at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)\n    at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)\n    at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:478)\n    at java.base/java.nio.file.Files.newOutputStream(Files.java:220)\n    at com.intellij.openapi.util.io.FileUtil.openOutputStream(FileUtil.java:452)\n    at com.intellij.openapi.util.io.FileUtil.performCopy(FileUtil.java:415)\n    ... 22 more\n</code></pre>\n<p>I read some info about default OpenGL driver troubles on RPI. But I don’t understand what I must do to increase the FPS or maybe repair the OpenGL? Are there differences in the Raspberry Pi OS 32 bit between desktop and no desktop distribution? Maybe I need to try  another OS distribution to get better performance?</p>\n<p>I have made my sketch simpler. It has now only one function in the game loop:</p>\n<pre><code>@\nOverride\n    public void settings(){\n        size(1920, 1080, P2D);        \n    }\n\n    @Override\n    public void setup(){}\n\n\n\n    @Override\n    public void draw(){\n        System.out.println(&quot;FPS: &quot; + frameRate);        \n    }\n</code></pre>\n<p>And I got the FPS not more than 13 frames per second. The game loop does nothing - only console output. When I launch glxgears programm after I have installed mesa-utils with the command:</p>\n<pre><code>sudo apt-get install mesa-utils\n</code></pre>\n<p>I get 75 FPS. I don’t understand why the simplest processing sketch with only console output and the not updateable screen content runs so slow</p>\n"},{"tags":["java","selenium-webdriver","testng","testng-dataprovider"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1679322916,"post_id":75780636,"comment_id":133696340,"body_markdown":"Try to put brakpoint to your `LoginProviders` and checkwhet and why it returns. Probably it returns empty array and that causes no test to run.","body":"Try to put brakpoint to your <code>LoginProviders</code> and checkwhet and why it returns. Probably it returns empty array and that causes no test to run."}],"owner":{"account_id":28055561,"reputation":1,"user_id":21430651,"display_name":"phubarvu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679211331,"creation_date":1679211331,"question_id":75780636,"body_markdown":"I&#39;m working on a Java/Selenium/TestNG project and I have 3 Selenium tests I want to run using DataProviders. I created a file reader class streaming the Excel data to an object for my DataProviders to use, for whatever reason, only tests on one particular sheet will run. Tests using the other 2 sheets are being ignored, I am pretty new to this so any help would be really appreciated, code is below for your review:\r\n\r\n    public static Object[][] getTestData(String sheetname){\r\n        Object[][] data = null;\r\n\r\n        try{\r\n            FileInputStream fis = new FileInputStream(TEST_DATA_WORKBOOK_PATH);\r\n            book = WorkbookFactory.create(fis);\r\n            sheet = book.getSheet(sheetname);\r\n\r\n            data = new Object[sheet.getLastRowNum()][sheet.getRow(0).getLastCellNum()];\r\n\r\n            for (int i = 0; i &lt; sheet.getLastRowNum(); i++) {\r\n                for (int j = 0; j &lt; sheet.getRow(0).getLastCellNum(); j++) {\r\n                    data[i][j] =sheet.getRow(i + 1).getCell(j).toString();\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(data);\r\n        return data;\r\n    }\r\n\r\nThis is the test that will run correctly:\r\n\r\n    @Test(description = &quot;register with valid info&quot;, dataProvider = &quot;ValidRegDP&quot;, enabled = true)    \r\n    public void registrationTests02(String firstname, String lastname, String email, String address, String city, String state, String zip, String country, String username, String password){\r\n        HomePage homePage = new HomePage(getDriver());\r\n        LoginPage loginPage = homePage.clkLoginBtn();\r\n        RegistrationPage regPage = loginPage.clkRegisterBtn();\r\n\r\n        regPage.setFirstName(firstname)\r\n                .setLastName(lastname)\r\n                .setEmail(email)\r\n                .setAddress(address)\r\n                .setCity(city)\r\n                .selectCountry(country)\r\n                .selectState(state)\r\n                .setZip(zip)\r\n                .setUsername(username)\r\n                .setPassword(password)\r\n                .clkPrivacy()\r\n                .clkContinue()\r\n                .waitForPresence(By.xpath(&quot;//div[@class=&#39;alert alert-error alert-danger&#39;]&quot;));\r\n\r\n        Assert.assertEquals(getDriver().getCurrentUrl(), &quot;https://automationteststore.com/index.php?rt=account/create&quot;);\r\n    }\r\n\r\n    @DataProvider(name = &quot;ValidRegDP&quot;)\r\n    public static Object[][] getDataFromValRegProviders(){\r\n        Object[][] data = ExcelReader.getTestData(&quot;goodRegistration&quot;);\r\n        return data;\r\n    }\r\n\r\n\r\nThis test keeps getting ignored:\r\n\r\n    @Test(description = &quot;login tests&quot;, dataProvider = &quot;LoginProviders&quot;, enabled = true)\r\n    public void loginTests(String username, String password){\r\n        HomePage homePage = new HomePage(getDriver());\r\n        LoginPage loginPage = homePage.clkLoginBtn();\r\n        loginPage.login(username, password);\r\n\r\n        Assert.assertEquals(getDriver().getCurrentUrl(), &quot;https://automationteststore.com/index.php?rt=account/login&quot;);\r\n    }\r\n\r\n\r\n    @DataProvider(name = &quot;LoginProviders&quot;)\r\n    public static Object[][] getLoginProviders(){\r\n        Object[][] data = ExcelReader.getTestData(&quot;login&quot;);\r\n        return data;\r\n    }\r\n\r\nI checked the worksheet names and Excel file path, they&#39;re correct, also tried creating a new Excel workbook with a different name a different sheet names, but the same result happens, only one of the sheets is read correctly by my test (the valid registration data sheet)\r\n\r\nThe other test/tests using the Excel file for DataProvider still get ignored. I added the dataProviderClass value to try to get it to work but the same sheets/tests still get ignored and only that one valid registration test runs.\r\n\r\nThe only message my terminal gives on the ignored tests is\r\n\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. \r\n\r\nwhich I also tried to add to my build but the tests were still being ignored. I am not sure what else to try, any help would be appreciated, thank you guys!","title":"Selenium Tests using DataProvider data from Excel are being ignored","body":"<p>I'm working on a Java/Selenium/TestNG project and I have 3 Selenium tests I want to run using DataProviders. I created a file reader class streaming the Excel data to an object for my DataProviders to use, for whatever reason, only tests on one particular sheet will run. Tests using the other 2 sheets are being ignored, I am pretty new to this so any help would be really appreciated, code is below for your review:</p>\n<pre><code>public static Object[][] getTestData(String sheetname){\n    Object[][] data = null;\n\n    try{\n        FileInputStream fis = new FileInputStream(TEST_DATA_WORKBOOK_PATH);\n        book = WorkbookFactory.create(fis);\n        sheet = book.getSheet(sheetname);\n\n        data = new Object[sheet.getLastRowNum()][sheet.getRow(0).getLastCellNum()];\n\n        for (int i = 0; i &lt; sheet.getLastRowNum(); i++) {\n            for (int j = 0; j &lt; sheet.getRow(0).getLastCellNum(); j++) {\n                data[i][j] =sheet.getRow(i + 1).getCell(j).toString();\n            }\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    System.out.println(data);\n    return data;\n}\n</code></pre>\n<p>This is the test that will run correctly:</p>\n<pre><code>@Test(description = &quot;register with valid info&quot;, dataProvider = &quot;ValidRegDP&quot;, enabled = true)    \npublic void registrationTests02(String firstname, String lastname, String email, String address, String city, String state, String zip, String country, String username, String password){\n    HomePage homePage = new HomePage(getDriver());\n    LoginPage loginPage = homePage.clkLoginBtn();\n    RegistrationPage regPage = loginPage.clkRegisterBtn();\n\n    regPage.setFirstName(firstname)\n            .setLastName(lastname)\n            .setEmail(email)\n            .setAddress(address)\n            .setCity(city)\n            .selectCountry(country)\n            .selectState(state)\n            .setZip(zip)\n            .setUsername(username)\n            .setPassword(password)\n            .clkPrivacy()\n            .clkContinue()\n            .waitForPresence(By.xpath(&quot;//div[@class='alert alert-error alert-danger']&quot;));\n\n    Assert.assertEquals(getDriver().getCurrentUrl(), &quot;https://automationteststore.com/index.php?rt=account/create&quot;);\n}\n\n@DataProvider(name = &quot;ValidRegDP&quot;)\npublic static Object[][] getDataFromValRegProviders(){\n    Object[][] data = ExcelReader.getTestData(&quot;goodRegistration&quot;);\n    return data;\n}\n</code></pre>\n<p>This test keeps getting ignored:</p>\n<pre><code>@Test(description = &quot;login tests&quot;, dataProvider = &quot;LoginProviders&quot;, enabled = true)\npublic void loginTests(String username, String password){\n    HomePage homePage = new HomePage(getDriver());\n    LoginPage loginPage = homePage.clkLoginBtn();\n    loginPage.login(username, password);\n\n    Assert.assertEquals(getDriver().getCurrentUrl(), &quot;https://automationteststore.com/index.php?rt=account/login&quot;);\n}\n\n\n@DataProvider(name = &quot;LoginProviders&quot;)\npublic static Object[][] getLoginProviders(){\n    Object[][] data = ExcelReader.getTestData(&quot;login&quot;);\n    return data;\n}\n</code></pre>\n<p>I checked the worksheet names and Excel file path, they're correct, also tried creating a new Excel workbook with a different name a different sheet names, but the same result happens, only one of the sheets is read correctly by my test (the valid registration data sheet)</p>\n<p>The other test/tests using the Excel file for DataProvider still get ignored. I added the dataProviderClass value to try to get it to work but the same sheets/tests still get ignored and only that one valid registration test runs.</p>\n<p>The only message my terminal gives on the ignored tests is</p>\n<p>SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See <a href=\"https://www.slf4j.org/codes.html#noProviders\" rel=\"nofollow noreferrer\">https://www.slf4j.org/codes.html#noProviders</a> for further details.\nERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath.</p>\n<p>which I also tried to add to my build but the tests were still being ignored. I am not sure what else to try, any help would be appreciated, thank you guys!</p>\n"},{"tags":["java","android","api"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679242930,"post_id":75780635,"comment_id":133682340,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28055650,"reputation":1,"user_id":21430724,"display_name":"Piyush Chauhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679211329,"creation_date":1679211329,"question_id":75780635,"body_markdown":"    public void abc(){\r\n        HttpResponse &lt;String&gt; response = Unirest.get(&quot;https://weatherbit-v1-mashape.p.rapidapi.com/forecast/3hourly?lat=35.5&amp;lon=-78.5&quot;)\r\n                .header(&quot;X-RapidAPI-Key&quot;, &quot;46f00d7395msh4061d42046dacd6p15555ejsn726219bdbcd0&quot;)\r\n                .header(&quot;X-RapidAPI-Host&quot;, &quot;weatherbit-v1-mashape.p.rapidapi.com&quot;)\r\n                .header(&quot;Accept&quot;,&quot;application/json&quot;)\r\n                .asString();\r\n\r\nresolve  when i am  removing arguments its showing error in all . i was using in android\r\n","title":"in requesting api in android bt HttpResponse why its asking to remove type arguments","body":"<pre><code>public void abc(){\n    HttpResponse &lt;String&gt; response = Unirest.get(&quot;https://weatherbit-v1-mashape.p.rapidapi.com/forecast/3hourly?lat=35.5&amp;lon=-78.5&quot;)\n            .header(&quot;X-RapidAPI-Key&quot;, &quot;46f00d7395msh4061d42046dacd6p15555ejsn726219bdbcd0&quot;)\n            .header(&quot;X-RapidAPI-Host&quot;, &quot;weatherbit-v1-mashape.p.rapidapi.com&quot;)\n            .header(&quot;Accept&quot;,&quot;application/json&quot;)\n            .asString();\n</code></pre>\n<p>resolve  when i am  removing arguments its showing error in all . i was using in android</p>\n"},{"tags":["java","json","jackson","mapping","pojo"],"owner":{"account_id":22287193,"reputation":11,"user_id":16514637,"display_name":"Mounika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679209683,"creation_date":1679209683,"question_id":75780537,"body_markdown":"I am having difficulties mapping a JSON to a nested POJO class using Jackson.\r\n\r\n\r\n\r\nJSON:\r\n\r\n```\r\n{\r\n&quot;username&quot; : &quot;name123&quot;,\r\n&quot;region&quot; : &quot;EU&quot;,\r\n&quot;MandatoryProperty1&quot; : &quot;..&quot;,\r\n&quot;MandatoryProperty2&quot; : &quot;..&quot;,\r\n&quot;ignoreProperty1&quot; : &quot;..&quot;,\r\n&quot;ignoreProperty2&quot; : &quot;..&quot;\r\n}\r\n\r\n```\r\n\r\nPOJO:\r\n\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class UserProperties {\r\n    private String name;\r\n    private String region;\r\n\r\n    @JsonProperty(value = &quot;username&quot;)\r\n    public void setRouteCode(final String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @JsonProperty(value = &quot;region&quot;)\r\n    public void setRouteCode(final String region) {\r\n        this.region = region;\r\n    }\r\n\r\n    // It should be a JSON Stringify, that should have both MandatoryProperty1 and MandatoryProperty2\r\n    private String mandatoryProperties;\r\n\r\n    @Data\r\n    public static class MandatoryProperties {\r\n        private String mandatoryProperty1;\r\n        private String mandatoryProperty2;\r\n\r\n        @JsonProperty(value = &quot;MandatoryProperty1&quot;)\r\n        public void setId(final String polygonType) {\r\n            this.mandatoryProperty1 = mandatoryProperty1;\r\n        }\r\n\r\n        @JsonProperty(value = &quot;MandatoryProperty2&quot;)\r\n        public void setId(final String polygonType) {\r\n            this.mandatoryProperty2 = mandatoryProperty2;\r\n        }\r\n    }\r\n}\r\n```\r\nI cannot use @JsonAnySetter because I don&#39;t want to add all the fields to my mandatoryProperties. \r\nIs it possible? \r\n","title":"Mapping JSON to a nested Java POJO","body":"<p>I am having difficulties mapping a JSON to a nested POJO class using Jackson.</p>\n<p>JSON:</p>\n<pre><code>{\n&quot;username&quot; : &quot;name123&quot;,\n&quot;region&quot; : &quot;EU&quot;,\n&quot;MandatoryProperty1&quot; : &quot;..&quot;,\n&quot;MandatoryProperty2&quot; : &quot;..&quot;,\n&quot;ignoreProperty1&quot; : &quot;..&quot;,\n&quot;ignoreProperty2&quot; : &quot;..&quot;\n}\n\n</code></pre>\n<p>POJO:</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class UserProperties {\n    private String name;\n    private String region;\n\n    @JsonProperty(value = &quot;username&quot;)\n    public void setRouteCode(final String name) {\n        this.name = name;\n    }\n\n    @JsonProperty(value = &quot;region&quot;)\n    public void setRouteCode(final String region) {\n        this.region = region;\n    }\n\n    // It should be a JSON Stringify, that should have both MandatoryProperty1 and MandatoryProperty2\n    private String mandatoryProperties;\n\n    @Data\n    public static class MandatoryProperties {\n        private String mandatoryProperty1;\n        private String mandatoryProperty2;\n\n        @JsonProperty(value = &quot;MandatoryProperty1&quot;)\n        public void setId(final String polygonType) {\n            this.mandatoryProperty1 = mandatoryProperty1;\n        }\n\n        @JsonProperty(value = &quot;MandatoryProperty2&quot;)\n        public void setId(final String polygonType) {\n            this.mandatoryProperty2 = mandatoryProperty2;\n        }\n    }\n}\n</code></pre>\n<p>I cannot use @JsonAnySetter because I don't want to add all the fields to my mandatoryProperties.\nIs it possible?</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":2,"creation_date":1679160906,"post_id":75777521,"comment_id":133673504,"body_markdown":"The error message clearly indicates that Spring Boot 2.3.1 doesn&#39;t support Java 17. Try 11.","body":"The error message clearly indicates that Spring Boot 2.3.1 doesn&#39;t support Java 17. Try 11."},{"owner":{"account_id":25654570,"reputation":111,"user_id":19421233,"display_name":"Vidz Here"},"score":0,"creation_date":1679199741,"post_id":75777521,"comment_id":133677361,"body_markdown":"Error is mentioned here . -&gt;Caused by: .....ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file .  Also its good practice to use hyphen or underscore in project name instead of space","body":"Error is mentioned here . -&gt;Caused by: .....ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file .  Also its good practice to use hyphen or underscore in project name instead of space"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679178675,"creation_date":1679178675,"answer_id":75779041,"question_id":75777521,"body_markdown":"*Any recent Spring Boot 2.x release will work really well with Java 17. You can also make use of Java 17 features (such as records) in your own codebases.*\r\n\r\nFrom [spring.io][1]\r\n\r\n*Spring Boot 2.3 adds support for Java 14. Java 8 and 11 are also supported.*\r\n\r\nFrom [Spring-Boot-2.3-Release-Notes][2]\r\n\r\nSo, not recent enough for Java 17\r\n\r\n\r\n  [1]: https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0/#:~:text=Upgrade%20to%20Java%2017,records)%20in%20your%20own%20codebases.\r\n  [2]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes","title":"Can&#39;t run Spring Boot Application due to &quot;unsupported class file major version 61&quot;","body":"<p><em>Any recent Spring Boot 2.x release will work really well with Java 17. You can also make use of Java 17 features (such as records) in your own codebases.</em></p>\n<p>From [spring.io][1]</p>\n<p><em>Spring Boot 2.3 adds support for Java 14. Java 8 and 11 are also supported.</em></p>\n<p>From [Spring-Boot-2.3-Release-Notes][2]</p>\n<p>So, not recent enough for Java 17</p>\n<p>[1]: <a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0/#:%7E:text=Upgrade%20to%20Java%2017,records\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0/#:~:text=Upgrade%20to%20Java%2017,records</a>)%20in%20your%20own%20codebases.\n[2]: <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes</a></p>\n"}],"owner":{"account_id":28051908,"reputation":11,"user_id":21427639,"display_name":"pingusophie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":903,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679208977,"creation_date":1679160437,"question_id":75777521,"body_markdown":"I am doing a project from Jetbrains Academy to learn Spring boot, but when I imported the basic project structure into Intellij, the application doesn&#39;t even run at all. I checked my java version and verified that it is version 17, which should be compatible with the spring boot version.\r\n\r\nHere is my build.gradle :\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.3.1.RELEASE&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.9.RELEASE&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nsourceSets.main.resources.srcDirs = [&quot;src/resources&quot;]\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;com.h2database:h2&#39;\r\n    implementation group: &#39;org.hibernate&#39;, name: &#39;hibernate-validator&#39;, version: &#39;6.1.0.Final&#39;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nAnd below is the full error message that I get:\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [/Users/sofialuk/IdeaProjects/Account Service/Account Service/task/out/production/classes/account/AccountServiceApplication.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [/Users/sofialuk/IdeaProjects/Account Service/Account Service/task/out/production/classes/account/AccountServiceApplication.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:452) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:315) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:295) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:319) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:236) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat account.AccountServiceApplication.main(AccountServiceApplication.java:10) ~[classes/:na]\r\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [/Users/sofialuk/IdeaProjects/Account Service/Account Service/task/out/production/classes/account/AccountServiceApplication.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\t... 21 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:196) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:177) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:163) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:284) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:57) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\t... 25 common frames omitted\r\n\r\n\r\nI&#39;ve tried googling this problem and the recommendation is always to check your java version and verify that it is compatible. But if I&#39;m not wrong Spring Boot 2.3.1.RELEASE is compatible with Java 17. According to the Spring Boot documentation, Spring Boot 2.3.x supports Java 8, 11, and 14, as well as any later Java versions.\r\n\r\nWould really appreciate any help on how to solve this :)","title":"Can&#39;t run Spring Boot Application due to &quot;unsupported class file major version 61&quot;","body":"<p>I am doing a project from Jetbrains Academy to learn Spring boot, but when I imported the basic project structure into Intellij, the application doesn't even run at all. I checked my java version and verified that it is version 17, which should be compatible with the spring boot version.</p>\n<p>Here is my build.gradle :</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.3.1.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n}\n\nrepositories {\n    mavenCentral()\n}\n\nsourceSets.main.resources.srcDirs = [&quot;src/resources&quot;]\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'com.h2database:h2'\n    implementation group: 'org.hibernate', name: 'hibernate-validator', version: '6.1.0.Final'\n}\n</code></pre>\n<p>And below is the full error message that I get:\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [/Users/sofialuk/IdeaProjects/Account Service/Account Service/task/out/production/classes/account/AccountServiceApplication.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [/Users/sofialuk/IdeaProjects/Account Service/Account Service/task/out/production/classes/account/AccountServiceApplication.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\nat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:452) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:315) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:295) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:319) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:236) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\nat account.AccountServiceApplication.main(AccountServiceApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [/Users/sofialuk/IdeaProjects/Account Service/Account Service/task/out/production/classes/account/AccountServiceApplication.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\nat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.core.type.classreading.SimpleMetadataReader.(SimpleMetadataReader.java:49) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\n... 21 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\nat org.springframework.asm.ClassReader.(ClassReader.java:196) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.asm.ClassReader.(ClassReader.java:177) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.asm.ClassReader.(ClassReader.java:163) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.asm.ClassReader.(ClassReader.java:284) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\nat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:57) ~[spring-core-5.2.7.RELEASE.jar:5.2.7.RELEASE]\n... 25 common frames omitted</p>\n<p>I've tried googling this problem and the recommendation is always to check your java version and verify that it is compatible. But if I'm not wrong Spring Boot 2.3.1.RELEASE is compatible with Java 17. According to the Spring Boot documentation, Spring Boot 2.3.x supports Java 8, 11, and 14, as well as any later Java versions.</p>\n<p>Would really appreciate any help on how to solve this :)</p>\n"},{"tags":["java","jsonpath"],"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1679091637,"post_id":75772618,"comment_id":133665335,"body_markdown":"Can you show us your Java code for evaluating the jsonpath? Different libraries have different quirks.","body":"Can you show us your Java code for evaluating the jsonpath? Different libraries have different quirks."},{"owner":{"account_id":14046221,"reputation":23,"user_id":10146402,"display_name":"Harry"},"score":0,"creation_date":1679111912,"post_id":75772618,"comment_id":133667196,"body_markdown":"I am using https://github.com/json-path/JsonPath. Are there any other popular java libraries other than this ? Also I tried Intellij’s inbuilt Jaon expression evaluator and it also does not give me the desired output","body":"I am using <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">github.com/json-path/JsonPath</a>. Are there any other popular java libraries other than this ? Also I tried Intellij’s inbuilt Jaon expression evaluator and it also does not give me the desired output"}],"answers":[{"comments":[{"owner":{"account_id":4998502,"reputation":2080,"user_id":4018180,"accept_rate":60,"display_name":"Akshay G"},"score":0,"creation_date":1679208383,"post_id":75780455,"comment_id":133677932,"body_markdown":"use `subsetof`, `anyof` or `noneof` when you want to have arrays on both side of expression","body":"use <code>subsetof</code>, <code>anyof</code> or <code>noneof</code> when you want to have arrays on both side of expression"},{"owner":{"account_id":14046221,"reputation":23,"user_id":10146402,"display_name":"Harry"},"score":0,"creation_date":1679228051,"post_id":75780455,"comment_id":133680106,"body_markdown":"Thanks Akshay, using subset worked","body":"Thanks Akshay, using subset worked"}],"tags":[],"owner":{"account_id":4998502,"reputation":2080,"user_id":4018180,"accept_rate":60,"display_name":"Akshay G"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679208255,"creation_date":1679208255,"answer_id":75780455,"question_id":75772618,"body_markdown":"when you use the `in` filter operator only the right-side expression should contain an array while the left side should be a single value.\r\n\r\nusing `in` filter operator\r\n\r\n    $..case_version__v.case_number__vr.none2b_references__cr[?(&#39;nci__c&#39; in @.source__c)].case_identifier__c\r\n\r\n","title":"Filtering array inside and array using jsonpath in java","body":"<p>when you use the <code>in</code> filter operator only the right-side expression should contain an array while the left side should be a single value.</p>\n<p>using <code>in</code> filter operator</p>\n<pre><code>$..case_version__v.case_number__vr.none2b_references__cr[?('nci__c' in @.source__c)].case_identifier__c\n</code></pre>\n"}],"owner":{"account_id":14046221,"reputation":23,"user_id":10146402,"display_name":"Harry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75780455,"answer_count":1,"score":1,"last_activity_date":1679208255,"creation_date":1679091247,"question_id":75772618,"body_markdown":"I am trying to get a value which is in an array under and array and an object with a filter but not able to achive what I want . I am using github.com/json-path/JsonPath.\r\n\r\n\r\n\r\nI need to get value case_identifier__c where source__c in [&#39;nci__c&#39;]. \r\n\r\n    {\r\n      &quot;case_version__v&quot;: {\r\n        &quot;case_number__vr&quot;: {\r\n          &quot;id&quot;: &quot;V2A000000001002&quot;,\r\n          &quot;none2b_references__cr&quot;: [\r\n            {\r\n              &quot;case_number__c&quot;: &quot;V2A000000001002&quot;,\r\n              &quot;case_identifier__c&quot;: &quot;THIS-IS-MINE&quot;,\r\n              &quot;id&quot;: &quot;V8C000000001001&quot;,\r\n              &quot;source__c&quot;: [\r\n                &quot;nci__c&quot;\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n\r\nI have tried below JSONPATH but it returns me an empty value instead of [THIS-IS-MINE]\r\n\r\n    $..case_version__v.case_number__vr.none2b_references__cr[?(@.source__c in [&#39;nci__c&#39;])].case_identifier__c","title":"Filtering array inside and array using jsonpath in java","body":"<p>I am trying to get a value which is in an array under and array and an object with a filter but not able to achive what I want . I am using github.com/json-path/JsonPath.</p>\n<p>I need to get value case_identifier__c where source__c in ['nci__c'].</p>\n<pre><code>{\n  &quot;case_version__v&quot;: {\n    &quot;case_number__vr&quot;: {\n      &quot;id&quot;: &quot;V2A000000001002&quot;,\n      &quot;none2b_references__cr&quot;: [\n        {\n          &quot;case_number__c&quot;: &quot;V2A000000001002&quot;,\n          &quot;case_identifier__c&quot;: &quot;THIS-IS-MINE&quot;,\n          &quot;id&quot;: &quot;V8C000000001001&quot;,\n          &quot;source__c&quot;: [\n            &quot;nci__c&quot;\n          ]\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n<p>I have tried below JSONPATH but it returns me an empty value instead of [THIS-IS-MINE]</p>\n<pre><code>$..case_version__v.case_number__vr.none2b_references__cr[?(@.source__c in ['nci__c'])].case_identifier__c\n</code></pre>\n"},{"tags":["java","selenium-webdriver","gradle","selenium-chromedriver","chrome-options"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":1,"creation_date":1631022237,"post_id":69088788,"comment_id":122107816,"body_markdown":"Why are you using RC version?","body":"Why are you using RC version?"},{"owner":{"account_id":15613239,"reputation":146,"user_id":11264031,"display_name":"Swastik"},"score":0,"creation_date":1631023681,"post_id":69088788,"comment_id":122108560,"body_markdown":"Before upgrading my selenium version i was getting `&quot;org.openqa.selenium.WebDriverException: Timed out waiting for driver server to start&quot;` this error, so i referred here [link](https://stackoverflow.com/questions/52110521/org-openqa-selenium-webdriverexception-timed-out-waiting-for-driver-server-to-s) and got to know that for my current java version i have to upgrade my Selenium version which is released after the release date of my current JDK version. Since my JDK was released in **April 20th 2021**, i just picked up recent Selenium version from MavenRepository","body":"Before upgrading my selenium version i was getting <code>&quot;org.openqa.selenium.WebDriverException: Timed out waiting for driver server to start&quot;</code> this error, so i referred here <a href=\"https://stackoverflow.com/questions/52110521/org-openqa-selenium-webdriverexception-timed-out-waiting-for-driver-server-to-s\">link</a> and got to know that for my current java version i have to upgrade my Selenium version which is released after the release date of my current JDK version. Since my JDK was released in <b>April 20th 2021</b>, i just picked up recent Selenium version from MavenRepository"},{"owner":{"account_id":15613239,"reputation":146,"user_id":11264031,"display_name":"Swastik"},"score":0,"creation_date":1631023713,"post_id":69088788,"comment_id":122108573,"body_markdown":"And i even checked with other recent version but still not getting same error","body":"And i even checked with other recent version but still not getting same error"}],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1631025077,"creation_date":1631024370,"answer_id":69089920,"question_id":69088788,"body_markdown":"You miss the following dependency\r\n```\r\nimplementation &#39;org.seleniumhq.selenium:selenium-remote-driver:4.0.0-rc-1&#39;\r\n```\r\nAs stated [in the official documentation][1], generally we can just use\r\n[`selenium-java`][2] dependency\r\n```\r\nimplementation &#39;org.seleniumhq.selenium:selenium-java:4.0.0-rc-1&#39;\r\n```\r\ninstead of   \r\n```\r\nimplementation &#39;org.seleniumhq.selenium:selenium-chrome-driver:4.0.0-rc-1&#39;\r\nimplementation &#39;org.seleniumhq.selenium:selenium-support:4.0.0-rc-1&#39;\r\nimplementation &#39;org.seleniumhq.selenium:selenium-remote-driver:4.0.0-rc-1&#39;\r\n```\r\nReference:  \r\n[Unable to set maven dependencies for RemoteWebDriver](https://stackoverflow.com/questions/56111196/unable-to-set-maven-dependencies-for-remotewebdriver)\r\n\r\n  [1]: https://www.selenium.dev/documentation/getting_started/installing_selenium_libraries/#java\r\n  [2]: https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java","title":"addArguments(java.lang.String... arguments) method of ChromeOptions is giving error","body":"<p>You miss the following dependency</p>\n<pre><code>implementation 'org.seleniumhq.selenium:selenium-remote-driver:4.0.0-rc-1'\n</code></pre>\n<p>As stated <a href=\"https://www.selenium.dev/documentation/getting_started/installing_selenium_libraries/#java\" rel=\"nofollow noreferrer\">in the official documentation</a>, generally we can just use\n<a href=\"https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\" rel=\"nofollow noreferrer\"><code>selenium-java</code></a> dependency</p>\n<pre><code>implementation 'org.seleniumhq.selenium:selenium-java:4.0.0-rc-1'\n</code></pre>\n<p>instead of</p>\n<pre><code>implementation 'org.seleniumhq.selenium:selenium-chrome-driver:4.0.0-rc-1'\nimplementation 'org.seleniumhq.selenium:selenium-support:4.0.0-rc-1'\nimplementation 'org.seleniumhq.selenium:selenium-remote-driver:4.0.0-rc-1'\n</code></pre>\n<p>Reference:<br />\n<a href=\"https://stackoverflow.com/questions/56111196/unable-to-set-maven-dependencies-for-remotewebdriver\">Unable to set maven dependencies for RemoteWebDriver</a></p>\n"},{"tags":[],"owner":{"account_id":28034514,"reputation":1,"user_id":21413148,"display_name":"GANGAVARAMKRISHNAPPA NAGA TEJA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679206961,"creation_date":1679206834,"answer_id":75780390,"question_id":69088788,"body_markdown":"Instead of giving strings as argument , the addArguments method is accepting arguments as a list of arguments.\r\nhere is what i did,and also worked\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7A9ru.png\r\n\r\n","title":"addArguments(java.lang.String... arguments) method of ChromeOptions is giving error","body":"<p>Instead of giving strings as argument , the addArguments method is accepting arguments as a list of arguments.\nhere is what i did,and also worked</p>\n"}],"owner":{"account_id":15613239,"reputation":146,"user_id":11264031,"display_name":"Swastik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2881,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69089920,"answer_count":2,"score":2,"last_activity_date":1679206961,"creation_date":1631020046,"question_id":69088788,"body_markdown":"For the below code of setting chromeoptions using addArguments() method is giving following error\r\n\r\n    cannot access AbstractDriverOptions\r\n    options.addArguments(&quot;--disable-web-security&quot;);\r\n           ^\r\n    class file for org.openqa.selenium.remote.AbstractDriverOptions not found\r\n\r\nCode:\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n\r\n    options.addArguments(&quot;--disable-web-security&quot;);\r\n    options.addArguments(&quot;--headless&quot;);\r\n    options.addArguments(&quot;--window-size=2880,1800&quot;);\r\n    options.addArguments(&quot;--start-fullscreen&quot;);\r\n    options.addArguments(&quot;--disable-popup-blocking&quot;);\r\n    options.addArguments(&quot;--disable-notifications&quot;);\r\n    ...\r\n    ...\r\n\r\nThis code was working fine with older version of Selenium dependency but now i upgraded all my dependencies to new versions for some reasons and it&#39;s not working\r\n\r\nSelenium Dependencies:\r\n\r\n     implementation &#39;org.seleniumhq.selenium:selenium-chrome-driver:4.0.0-rc-1&#39;\r\n     implementation &#39;org.seleniumhq.selenium:selenium-support:4.0.0-rc-1&#39;\r\n\r\nbuild.gradle:\r\n\r\n    plugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.5.4&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n\tid &#39;org.ajoberstar.grgit&#39; version &#39;3.1.1&#39;\r\n    id &quot;com.gorylenko.gradle-git-properties&quot; version &quot;2.3.1&quot;\r\n    }\r\n\r\n    group = &#39;com.leadmi&#39;\r\n    if (project.hasProperty(&#39;appVersion&#39;)) {\r\n        version = &quot;${appVersion}&quot;\r\n    } else {\r\n        version = &quot;${version}-BRANCH-${grgit.branch.current().name}-SNAPSHOT&quot;\r\n    }\r\n    sourceCompatibility = &#39;1.8&#39;\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom annotationProcessor\r\n    \t}\r\n    }\r\n    ext {\r\n    \tset(&#39;springCloudVersion&#39;, &quot;2020.0.3&quot;)\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-mail&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \truntimeOnly &#39;org.postgresql:postgresql&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \ttestImplementation &#39;io.projectreactor:reactor-test&#39;\r\n    \timplementation &#39;net.logstash.logback:logstash-logback-encoder:6.6&#39;\r\n    \ttestImplementation &#39;org.springdoc:springdoc-openapi-webmvc-core:1.5.10&#39;\r\n    \timplementation &#39;com.amazonaws:aws-java-sdk-s3:1.12.60&#39;\r\n    \timplementation &#39;com.googlecode.json-simple:json-simple:1.1.1&#39;\r\n    \timplementation &#39;commons-io:commons-io:2.11.0&#39;\r\n    \timplementation &#39;org.apache.commons:commons-lang3:3.12.0&#39;\r\n    \timplementation &#39;com.google.guava:guava:30.1.1-jre&#39;\r\n    \timplementation &#39;io.springfox:springfox-boot-starter:3.0.0&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    \ttestImplementation &#39;org.springframework.kafka:spring-kafka-test&#39;\r\n        \r\n    \timplementation &#39;org.seleniumhq.selenium:selenium-chrome-driver:4.0.0-rc-1&#39;\r\n        implementation &#39;org.seleniumhq.selenium:selenium-support:4.0.0-rc-1&#39;\r\n    \r\n    \timplementation &#39;org.apache.httpcomponents:httpclient:4.5.13&#39;\r\n    \timplementation &#39;org.apache.commons:commons-collections4:4.4&#39;\r\n    \timplementation &#39;me.xdrop:fuzzywuzzy:1.3.1&#39;\r\n    \timplementation &#39;org.jsoup:jsoup:1.14.2&#39;\r\n    \timplementation &#39;us.codecraft:xsoup:0.3.2&#39;\r\n    \timplementation &#39;org.springframework.kafka:spring-kafka&#39;\r\n    \ttestImplementation &#39;org.springframework.kafka:spring-kafka-test&#39;\r\n    \r\n    \timplementation &#39;org.springframework.cloud:spring-cloud-starter-consul-config&#39;\r\n    \timplementation &#39;org.springframework.cloud:spring-cloud-starter-consul-discovery&#39;\r\n    }\r\n    \r\n    dependencyManagement {\r\n    \timports {\r\n    \t\tmavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n    \t}\r\n    }\r\n    \r\n    test {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\nJava version I&#39;m using:\r\n\r\n    openjdk version &quot;1.8.0_292&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_292-8u292-b10-0ubuntu1~18.04-b10)\r\n    OpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\r\n\r\nChrome Version:\r\n\r\n    Google Chrome 93.0.4577.63\r\n\r\nChrome Driver Version:\r\n\r\n    93.0.4577.15","title":"addArguments(java.lang.String... arguments) method of ChromeOptions is giving error","body":"<p>For the below code of setting chromeoptions using addArguments() method is giving following error</p>\n<pre><code>cannot access AbstractDriverOptions\noptions.addArguments(&quot;--disable-web-security&quot;);\n       ^\nclass file for org.openqa.selenium.remote.AbstractDriverOptions not found\n</code></pre>\n<p>Code:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\n\noptions.addArguments(&quot;--disable-web-security&quot;);\noptions.addArguments(&quot;--headless&quot;);\noptions.addArguments(&quot;--window-size=2880,1800&quot;);\noptions.addArguments(&quot;--start-fullscreen&quot;);\noptions.addArguments(&quot;--disable-popup-blocking&quot;);\noptions.addArguments(&quot;--disable-notifications&quot;);\n...\n...\n</code></pre>\n<p>This code was working fine with older version of Selenium dependency but now i upgraded all my dependencies to new versions for some reasons and it's not working</p>\n<p>Selenium Dependencies:</p>\n<pre><code> implementation 'org.seleniumhq.selenium:selenium-chrome-driver:4.0.0-rc-1'\n implementation 'org.seleniumhq.selenium:selenium-support:4.0.0-rc-1'\n</code></pre>\n<p>build.gradle:</p>\n<pre><code>plugins {\nid 'org.springframework.boot' version '2.5.4'\nid 'io.spring.dependency-management' version '1.0.11.RELEASE'\nid 'java'\nid 'org.ajoberstar.grgit' version '3.1.1'\nid &quot;com.gorylenko.gradle-git-properties&quot; version &quot;2.3.1&quot;\n}\n\ngroup = 'com.leadmi'\nif (project.hasProperty('appVersion')) {\n    version = &quot;${appVersion}&quot;\n} else {\n    version = &quot;${version}-BRANCH-${grgit.branch.current().name}-SNAPSHOT&quot;\n}\nsourceCompatibility = '1.8'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\next {\n    set('springCloudVersion', &quot;2020.0.3&quot;)\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-mail'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'org.postgresql:postgresql'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n    implementation 'net.logstash.logback:logstash-logback-encoder:6.6'\n    testImplementation 'org.springdoc:springdoc-openapi-webmvc-core:1.5.10'\n    implementation 'com.amazonaws:aws-java-sdk-s3:1.12.60'\n    implementation 'com.googlecode.json-simple:json-simple:1.1.1'\n    implementation 'commons-io:commons-io:2.11.0'\n    implementation 'org.apache.commons:commons-lang3:3.12.0'\n    implementation 'com.google.guava:guava:30.1.1-jre'\n    implementation 'io.springfox:springfox-boot-starter:3.0.0'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    testImplementation 'org.springframework.kafka:spring-kafka-test'\n    \n    implementation 'org.seleniumhq.selenium:selenium-chrome-driver:4.0.0-rc-1'\n    implementation 'org.seleniumhq.selenium:selenium-support:4.0.0-rc-1'\n\n    implementation 'org.apache.httpcomponents:httpclient:4.5.13'\n    implementation 'org.apache.commons:commons-collections4:4.4'\n    implementation 'me.xdrop:fuzzywuzzy:1.3.1'\n    implementation 'org.jsoup:jsoup:1.14.2'\n    implementation 'us.codecraft:xsoup:0.3.2'\n    implementation 'org.springframework.kafka:spring-kafka'\n    testImplementation 'org.springframework.kafka:spring-kafka-test'\n\n    implementation 'org.springframework.cloud:spring-cloud-starter-consul-config'\n    implementation 'org.springframework.cloud:spring-cloud-starter-consul-discovery'\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>Java version I'm using:</p>\n<pre><code>openjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (build 1.8.0_292-8u292-b10-0ubuntu1~18.04-b10)\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\n</code></pre>\n<p>Chrome Version:</p>\n<pre><code>Google Chrome 93.0.4577.63\n</code></pre>\n<p>Chrome Driver Version:</p>\n<pre><code>93.0.4577.15\n</code></pre>\n"},{"tags":["java","design-patterns","chain-of-responsibility"],"comments":[{"owner":{"account_id":9744171,"reputation":138,"user_id":7224691,"display_name":"Ben"},"score":1,"creation_date":1679223761,"post_id":75780278,"comment_id":133679561,"body_markdown":"something you could also consider is using a priority system (i.e. all handlers of the same highest priority are handled first etc.). Probably a bit overkill if you only have one handler that&#39;s highest priority though. I&#39;m not to sure how this effects the design pattern however.","body":"something you could also consider is using a priority system (i.e. all handlers of the same highest priority are handled first etc.). Probably a bit overkill if you only have one handler that&#39;s highest priority though. I&#39;m not to sure how this effects the design pattern however."}],"answers":[{"comments":[{"owner":{"account_id":4529293,"reputation":129,"user_id":3680270,"accept_rate":80,"display_name":"Kaveen"},"score":0,"creation_date":1679211574,"post_id":75780378,"comment_id":133678213,"body_markdown":"Here SomeHandler is not the first handler. When the execution has come to the SomeHandler that means chain has already invoked. But if I understood you correctly I can still pass the request to the other handlers and can decide weather to apply handler logic based on the request status (in this specific case type of the request ). And all type of requests can be processed in the final handler. This way there is no interruption to the chain execution. Thanks for your help.","body":"Here SomeHandler is not the first handler. When the execution has come to the SomeHandler that means chain has already invoked. But if I understood you correctly I can still pass the request to the other handlers and can decide weather to apply handler logic based on the request status (in this specific case type of the request ). And all type of requests can be processed in the final handler. This way there is no interruption to the chain execution. Thanks for your help."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1679211773,"post_id":75780378,"comment_id":133678234,"body_markdown":"*I can still pass the request to the other handlers[...] and all type of requests can be processed in the final handler.* - Not sure I understand this part and your special scenario. Is there an intermediate handler capable of handling a request, but you don&#39;t want it to handle for &#39;some case&#39;? Or do you want it to handle plus the request be handled by the last handler?","body":"<i>I can still pass the request to the other handlers[...] and all type of requests can be processed in the final handler.</i> - Not sure I understand this part and your special scenario. Is there an intermediate handler capable of handling a request, but you don&#39;t want it to handle for &#39;some case&#39;? Or do you want it to handle plus the request be handled by the last handler?"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1679211849,"post_id":75780378,"comment_id":133678240,"body_markdown":"If it is the former, you should skip delegating to it or it should be aware that it shouldn&#39;t handle a request when some condition holds. If it is the latter, then I think after handling, it can still call the other handlers in the chain till it reaches the last handler.","body":"If it is the former, you should skip delegating to it or it should be aware that it shouldn&#39;t handle a request when some condition holds. If it is the latter, then I think after handling, it can still call the other handlers in the chain till it reaches the last handler."},{"owner":{"account_id":4529293,"reputation":129,"user_id":3680270,"accept_rate":80,"display_name":"Kaveen"},"score":0,"creation_date":1679212379,"post_id":75780378,"comment_id":133678286,"body_markdown":"Once the request type is decided, and it is request type two, basically it should only execute the logic in the final handler. And for all the other requests it should come to final handler via all handlers.","body":"Once the request type is decided, and it is request type two, basically it should only execute the logic in the final handler. And for all the other requests it should come to final handler via all handlers."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1679212536,"post_id":75780378,"comment_id":133678305,"body_markdown":"What if you normally go through the chain? Is there an intermediate handler which handles request type two (which you are looking to skip for some reason)?","body":"What if you normally go through the chain? Is there an intermediate handler which handles request type two (which you are looking to skip for some reason)?"},{"owner":{"account_id":4529293,"reputation":129,"user_id":3680270,"accept_rate":80,"display_name":"Kaveen"},"score":0,"creation_date":1679213819,"post_id":75780378,"comment_id":133678407,"body_markdown":"If I normally go through there is no technical problem. But functionally we don’t need to treat the request type two as we do for other types. It is kind of a resource waste as we have few api call’s related to other requests. As of now there is no specific handler to handle type two.","body":"If I normally go through there is no technical problem. But functionally we don’t need to treat the request type two as we do for other types. It is kind of a resource waste as we have few api call’s related to other requests. As of now there is no specific handler to handle type two."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1679216843,"post_id":75780378,"comment_id":133678733,"body_markdown":"Did you measure your performance? If your concern is just the delegations among a few handlers (`h1 -&gt; h2 -&gt; h3 ... finalHandler`), it is not something to be worried about.","body":"Did you measure your performance? If your concern is just the delegations among a few handlers (<code>h1 -&gt; h2 -&gt; h3 ... finalHandler</code>), it is not something to be worried about."}],"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679206569,"creation_date":1679206569,"answer_id":75780378,"question_id":75780278,"body_markdown":"This is a bit subjective.\r\n\r\nThis handler knows that a certain type of request must be handled by a certain handler&lt;sup&gt;1&lt;/sup&gt;. So, it bypasses the chain and invokes the handler directly. This means that this handler is aware of other (concrete) handlers in the chain (a leak of knowledge). \r\n\r\nNote: Rather than creating a new instance of the handler, you could have had a reference to the final handler instance in `SomeHandler`.\r\n\r\nAlternatively, you can make this decision before invoking the chain.\r\n\r\n```\r\npublic class Client {\r\n    private RequestProcessor chainOfRequestProcessors;\r\n    private RequestProcessor finalHandler; //instance of FinalHandler\r\n\r\n    public void process(Request request) {\r\n        if (&quot;TYPE_TWO&quot;.equalsIgnoreCase(request.getType())) {\r\n            finalHandler.process(request);\r\n        } else {\r\n            //handle normally\r\n            chainOfRequestProcessors.process(request);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nA design pattern is just that. A pattern or a skeletal template for a solution to solve a particular type of problem. It doesn&#39;t mean you cannot *tweak* it and use it in a different way as per your use-case or need (given that you know what you are doing).\r\n\r\n---\r\n&lt;sup&gt;1&lt;/sup&gt;\r\nYou&#39;ve said ([emphasis mine])\r\n&gt; .... However in a **special scenario** if it&#39;s required to skip intermediate handlers and process request in the final handler ...\r\n\r\nBut in your example, the delegation happens in an usual way (by checking the request type). It appears that, in this example, you can simply keep delegating if none of the intermediate handlers can process request type `TYPE_TWO`. But I guess there is something more to determine when we should go straight to the last handler and the example has been simplified.","title":"Chain of responsibility special scenario","body":"<p>This is a bit subjective.</p>\n<p>This handler knows that a certain type of request must be handled by a certain handler<sup>1</sup>. So, it bypasses the chain and invokes the handler directly. This means that this handler is aware of other (concrete) handlers in the chain (a leak of knowledge).</p>\n<p>Note: Rather than creating a new instance of the handler, you could have had a reference to the final handler instance in <code>SomeHandler</code>.</p>\n<p>Alternatively, you can make this decision before invoking the chain.</p>\n<pre><code>public class Client {\n    private RequestProcessor chainOfRequestProcessors;\n    private RequestProcessor finalHandler; //instance of FinalHandler\n\n    public void process(Request request) {\n        if (&quot;TYPE_TWO&quot;.equalsIgnoreCase(request.getType())) {\n            finalHandler.process(request);\n        } else {\n            //handle normally\n            chainOfRequestProcessors.process(request);\n        }\n    }\n}\n</code></pre>\n<p>A design pattern is just that. A pattern or a skeletal template for a solution to solve a particular type of problem. It doesn't mean you cannot <em>tweak</em> it and use it in a different way as per your use-case or need (given that you know what you are doing).</p>\n<hr />\n<p><sup>1</sup>\nYou've said ([emphasis mine])</p>\n<blockquote>\n<p>.... However in a <strong>special scenario</strong> if it's required to skip intermediate handlers and process request in the final handler ...</p>\n</blockquote>\n<p>But in your example, the delegation happens in an usual way (by checking the request type). It appears that, in this example, you can simply keep delegating if none of the intermediate handlers can process request type <code>TYPE_TWO</code>. But I guess there is something more to determine when we should go straight to the last handler and the example has been simplified.</p>\n"}],"owner":{"account_id":4529293,"reputation":129,"user_id":3680270,"accept_rate":80,"display_name":"Kaveen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75780378,"answer_count":1,"score":0,"last_activity_date":1679206569,"creation_date":1679204475,"question_id":75780278,"body_markdown":"In normal chain of responsibility design pattern implementation, handlers of the request will be added to the chain in a sequential order and will be executed accordingly. However in a special scenario if it&#39;s required to skip intermediate handlers and process request in the final handler, will it violate COR design pattern?\r\nPlease refer the code snippets below. Hope it will clarify this further. \r\nThanks in advance.\r\n\r\n    public class SomeHandler extends RequestProcessor {\r\n\r\n    public SomeHandler() {\r\n        super();\r\n    }\r\n\r\n    @Override\r\n    public void process(Request request) {\r\n        if (request != null) {\r\n            //Logic to decide request type\r\n            if (&quot;TYPE_ONE&quot;.equalsIgnoreCase(request.getType())) {\r\n                //passing to next object in the chain. Multiple chains...\r\n                this.nextRequestProcessor.process(request);\r\n            } else if (&quot;TYPE_TWO&quot;.equalsIgnoreCase(request.getType())) {\r\n                //passing to the last object in the chain,skip all the other intermediate objects\r\n                new FinalHandler().process(request);\r\n            }\r\n        }\r\n    }\r\n}","title":"Chain of responsibility special scenario","body":"<p>In normal chain of responsibility design pattern implementation, handlers of the request will be added to the chain in a sequential order and will be executed accordingly. However in a special scenario if it's required to skip intermediate handlers and process request in the final handler, will it violate COR design pattern?\nPlease refer the code snippets below. Hope it will clarify this further.\nThanks in advance.</p>\n<pre><code>public class SomeHandler extends RequestProcessor {\n\npublic SomeHandler() {\n    super();\n}\n\n@Override\npublic void process(Request request) {\n    if (request != null) {\n        //Logic to decide request type\n        if (&quot;TYPE_ONE&quot;.equalsIgnoreCase(request.getType())) {\n            //passing to next object in the chain. Multiple chains...\n            this.nextRequestProcessor.process(request);\n        } else if (&quot;TYPE_TWO&quot;.equalsIgnoreCase(request.getType())) {\n            //passing to the last object in the chain,skip all the other intermediate objects\n            new FinalHandler().process(request);\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","mysql","visual-studio-code","jdbc","connection"],"owner":{"account_id":28054711,"reputation":1,"user_id":21429934,"display_name":"Mihir Chauhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679205809,"answer_count":0,"score":0,"last_activity_date":1679205935,"creation_date":1679198134,"question_id":75779992,"body_markdown":"\r\n\r\n        import java.sql.*;\r\n        \r\n        public class jdbc1 { public static ResultSet ResultSetrs; public static ResultSet rs;\r\n        class MysqlCon {\r\n            public static void main(String args[]) {\r\n                try {\r\n                    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                    Connection con = DriverManager.getConnection(\r\n                            &quot;jdbc:mysqli://localhost:3306/office&quot;, &quot;root&quot;, &quot;&quot;);\r\n                    Statement stmt = con.createStatement();\r\n                    ResultSetrs = stmt.executeQuery(&quot;select * from department&quot;);\r\n                    while (rs.next())\r\n                        System.out.println(rs.getInt(1) + &quot; &quot; + rs.getString(2));\r\n                    con.close();\r\n                } catch (Exception e) {\r\n                    System.out.println(e);\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n&gt; java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver\r\n\r\n  can anyone help\r\n","title":"JDBC with VSCode class not found and i set classpath","body":"<pre><code>    import java.sql.*;\n    \n    public class jdbc1 { public static ResultSet ResultSetrs; public static ResultSet rs;\n    class MysqlCon {\n        public static void main(String args[]) {\n            try {\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n                Connection con = DriverManager.getConnection(\n                        &quot;jdbc:mysqli://localhost:3306/office&quot;, &quot;root&quot;, &quot;&quot;);\n                Statement stmt = con.createStatement();\n                ResultSetrs = stmt.executeQuery(&quot;select * from department&quot;);\n                while (rs.next())\n                    System.out.println(rs.getInt(1) + &quot; &quot; + rs.getString(2));\n                con.close();\n            } catch (Exception e) {\n                System.out.println(e);\n            }\n        }\n    }\n\n}\n</code></pre>\n<blockquote>\n<p>java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver</p>\n</blockquote>\n<p>can anyone help</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":5861083,"reputation":4291,"user_id":4616753,"display_name":"Camille Gerin-Roze"},"score":0,"creation_date":1487463875,"post_id":42322156,"comment_id":71797781,"body_markdown":"have you correctly install Demo in you maven repository ? if you&#39;re not sure, run the command : mvn clean install","body":"have you correctly install Demo in you maven repository ? if you&#39;re not sure, run the command : mvn clean install"},{"owner":{"account_id":3157119,"reputation":77,"user_id":2669285,"accept_rate":40,"display_name":"user2669285"},"score":0,"creation_date":1487484732,"post_id":42322156,"comment_id":71801524,"body_markdown":"Edited my question. Yes, it&#39;s installed correctly as stated in original questions.","body":"Edited my question. Yes, it&#39;s installed correctly as stated in original questions."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1487505010,"post_id":42322156,"comment_id":71806397,"body_markdown":"The problem is that the class `Aclass` can not being found. The question is where is this class defined? This class `Aclass` is referenced in `com.example.Demo2Application`?","body":"The problem is that the class <code>Aclass</code> can not being found. The question is where is this class defined? This class <code>Aclass</code> is referenced in <code>com.example.Demo2Application</code>?"}],"answers":[{"comments":[{"owner":{"account_id":3157119,"reputation":77,"user_id":2669285,"accept_rate":40,"display_name":"user2669285"},"score":0,"creation_date":1487484891,"post_id":42322742,"comment_id":71801566,"body_markdown":"No, as stated in original question - demo installs correctly in .m2","body":"No, as stated in original question - demo installs correctly in .m2"},{"owner":{"account_id":78138,"reputation":343,"user_id":533894,"accept_rate":75,"display_name":"nofomopls"},"score":0,"creation_date":1487518704,"post_id":42322742,"comment_id":71810979,"body_markdown":"I thought you use other account to build this project. I saw lukasz home directory, but the info in next build is ala home directory. Be sure you use .m2 in right location","body":"I thought you use other account to build this project. I saw lukasz home directory, but the info in next build is ala home directory. Be sure you use .m2 in right location"}],"tags":[],"owner":{"account_id":78138,"reputation":343,"user_id":533894,"accept_rate":75,"display_name":"nofomopls"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679202722,"creation_date":1487468549,"answer_id":42322742,"question_id":42322156,"body_markdown":"Maven didn&#39;t found package **com.example** in this configuration.\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n         &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n         &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt;\r\n\r\nSo you must install this package as local package by use command: **mvn clean install** in the first project. \r\n\r\nOr you can also install it as 3rd party package by using:\r\n\r\n&gt; mvn install:install-file -Dfile={your directory}\\demo-{version}.jar\r\n&gt; -DgroupId=com.example\r\n&gt; -DartifactId=demo -Dversion={version} -Dpackaging=jar\r\n\r\nAfter install correctly, it will works.\r\n\r\n\r\nWith version 2.5 of the maven-install-plugin, it can get even simpler: if the JAR was built by Apache Maven, it&#39;ll contain a pom.xml in a subdirectory of the META-INF/ directory, which will be read by default. In that case, all you need to do is:\r\n\r\n`mvn org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -Dfile=&lt;path-to-file&gt;`\r\n\r\nhttps://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html","title":"Maven cannot find dependency in local repository","body":"<p>Maven didn't found package <strong>com.example</strong> in this configuration.</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;com.example&lt;/groupId&gt;\n     &lt;artifactId&gt;demo&lt;/artifactId&gt;\n     &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt;\n</code></pre>\n<p>So you must install this package as local package by use command: <strong>mvn clean install</strong> in the first project.</p>\n<p>Or you can also install it as 3rd party package by using:</p>\n<blockquote>\n<p>mvn install:install-file -Dfile={your directory}\\demo-{version}.jar\n-DgroupId=com.example\n-DartifactId=demo -Dversion={version} -Dpackaging=jar</p>\n</blockquote>\n<p>After install correctly, it will works.</p>\n<p>With version 2.5 of the maven-install-plugin, it can get even simpler: if the JAR was built by Apache Maven, it'll contain a pom.xml in a subdirectory of the META-INF/ directory, which will be read by default. In that case, all you need to do is:</p>\n<p><code>mvn org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -Dfile=&lt;path-to-file&gt;</code></p>\n<p><a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html</a></p>\n"},{"comments":[{"owner":{"account_id":3157119,"reputation":77,"user_id":2669285,"accept_rate":40,"display_name":"user2669285"},"score":0,"creation_date":1487484836,"post_id":42322941,"comment_id":71801550,"body_markdown":"Edited my question to give more details.","body":"Edited my question to give more details."},{"owner":{"account_id":3980585,"reputation":2418,"user_id":3282568,"accept_rate":81,"display_name":"Grim"},"score":0,"creation_date":1514938878,"post_id":42322941,"comment_id":83112997,"body_markdown":"running &quot;mvn -X clean install&quot; worked for me when everything else I tried didn&#39;t. I am using IntelliJ and maven wouldn&#39;t install hibernate-search-orm when clicking on Download Sources &amp; Docs.","body":"running &quot;mvn -X clean install&quot; worked for me when everything else I tried didn&#39;t. I am using IntelliJ and maven wouldn&#39;t install hibernate-search-orm when clicking on Download Sources &amp; Docs."}],"tags":[],"owner":{"account_id":10157663,"reputation":902,"user_id":7502221,"display_name":"VinPro"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487470741,"creation_date":1487470741,"answer_id":42322941,"question_id":42322156,"body_markdown":"Here are few suggestions:\r\n\r\n 1. Run your broken build with &quot;mvn -X clean install&quot; for debugging. The log should include what repo. URLs Maven is looking for each dependency.\r\n 2. Unzip your jar file to verify classes you want are included or not.","title":"Maven cannot find dependency in local repository","body":"<p>Here are few suggestions:</p>\n\n<ol>\n<li>Run your broken build with \"mvn -X clean install\" for debugging. The log should include what repo. URLs Maven is looking for each dependency.</li>\n<li>Unzip your jar file to verify classes you want are included or not.</li>\n</ol>\n"}],"owner":{"account_id":3157119,"reputation":77,"user_id":2669285,"accept_rate":40,"display_name":"user2669285"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13425,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1487470851,"answer_count":2,"score":-1,"last_activity_date":1679202722,"creation_date":1487463136,"question_id":42322156,"body_markdown":"It seems very simple so I must have some problem with configuration.\r\nThere is a demo project with pom:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nThis project build and installs correctly in my .m2\r\nThen I have another project, with pom:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo2&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;demo2&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nWhen trying to access a class from demo, I get:\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building demo2 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:2.6.1:clean (default-clean) @ demo2 ---\r\n    [INFO] Deleting /home/lukasz/parent/demo2/target\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ demo2 ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 1 resource\r\n    [INFO] Copying 0 resource\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ demo2 ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 1 source file to /home/lukasz/parent/demo2/target/classes\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /home/lukasz/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,17] cannot find symbol\r\n      symbol:   class Aclass\r\n      location: class com.example.Demo2Application\r\n    [ERROR] /home/lukasz/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,32] cannot find symbol\r\n      symbol:   class Aclass\r\n      location: class com.example.Demo2Application\r\n    [INFO] 2 errors \r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 3.096 s\r\n    [INFO] Finished at: 2017-02-19T01:11:21+01:00\r\n    [INFO] Final Memory: 21M/203M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project demo2: Compilation failure: Compilation failure:\r\n    [ERROR] /home/lukasz/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,17] cannot find symbol\r\n    [ERROR] symbol:   class Aclass\r\n    [ERROR] location: class com.example.Demo2Application\r\n    [ERROR] /home/lukasz/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,32] cannot find symbol\r\n    [ERROR] symbol:   class Aclass\r\n    [ERROR] location: class com.example.Demo2Application\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n\r\nWhat am I missing?\r\n\r\n**EDIT:**\r\nObviously, I did `mvn clean install` on demo project. Funny thing is I can  use with:\r\n\r\n    javac -cp  .m2/repository/com/example/demo/0.0.1-SNAPSHOT/demo-0.0.1-SNAPSHOT.jar &lt;any java file here&gt;\r\n\r\n**EDIT:**\r\nLast part of mvn -X:\r\n\r\n    [DEBUG] Classpath: [/home/ala/parent/demo2/target/classes\r\n     /home/ala/.m2/repository/com/example/demo/0.0.1-SNAPSHOT/demo-0.0.1-SNAPSHOT.jar\r\n     /home/ala/.m2/repository/org/springframework/boot/spring-boot-starter/1.5.1.RELEASE/spring-boot-starter-1.5.1.RELEASE.jar\r\n     /home/ala/.m2/repository/org/springframework/boot/spring-boot/1.5.1.RELEASE/spring-boot-1.5.1.RELEASE.jar\r\n     /home/ala/.m2/repository/org/springframework/spring-context/4.3.6.RELEASE/spring-context-4.3.6.RELEASE.jar\r\n     /home/ala/.m2/repository/org/springframework/spring-aop/4.3.6.RELEASE/spring-aop-4.3.6.RELEASE.jar\r\n     /home/ala/.m2/repository/org/springframework/spring-beans/4.3.6.RELEASE/spring-beans-4.3.6.RELEASE.jar\r\n     /home/ala/.m2/repository/org/springframework/spring-expression/4.3.6.RELEASE/spring-expression-4.3.6.RELEASE.jar\r\n     /home/ala/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/1.5.1.RELEASE/spring-boot-autoconfigure-1.5.1.RELEASE.jar\r\n     /home/ala/.m2/repository/org/springframework/boot/spring-boot-starter-logging/1.5.1.RELEASE/spring-boot-starter-logging-1.5.1.RELEASE.jar\r\n     /home/ala/.m2/repository/ch/qos/logback/logback-classic/1.1.9/logback-classic-1.1.9.jar\r\n     /home/ala/.m2/repository/ch/qos/logback/logback-core/1.1.9/logback-core-1.1.9.jar\r\n     /home/ala/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.22/jcl-over-slf4j-1.7.22.jar\r\n     /home/ala/.m2/repository/org/slf4j/jul-to-slf4j/1.7.22/jul-to-slf4j-1.7.22.jar\r\n     /home/ala/.m2/repository/org/slf4j/log4j-over-slf4j/1.7.22/log4j-over-slf4j-1.7.22.jar\r\n     /home/ala/.m2/repository/org/springframework/spring-core/4.3.6.RELEASE/spring-core-4.3.6.RELEASE.jar\r\n     /home/ala/.m2/repository/org/slf4j/slf4j-api/1.7.22/slf4j-api-1.7.22.jar]\r\n    [DEBUG] Output directory: /home/ala/parent/demo2/target/classes\r\n    [DEBUG] CompilerReuseStrategy: reuseCreated\r\n    [DEBUG] useIncrementalCompilation enabled\r\n    [DEBUG] Stale source detected: /home/ala/parent/demo2/src/main/java/com/example/Demo2Application.java\r\n    [INFO] Changes detected - recompiling the module!\r\n    [DEBUG] Classpath:\r\n    [DEBUG]  /home/ala/parent/demo2/target/classes\r\n    [DEBUG]  /home/ala/.m2/repository/com/example/demo/0.0.1-SNAPSHOT/demo-0.0.1-SNAPSHOT.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/springframework/boot/spring-boot-starter/1.5.1.RELEASE/spring-boot-starter-1.5.1.RELEASE.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/springframework/boot/spring-boot/1.5.1.RELEASE/spring-boot-1.5.1.RELEASE.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/springframework/spring-context/4.3.6.RELEASE/spring-context-4.3.6.RELEASE.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/springframework/spring-aop/4.3.6.RELEASE/spring-aop-4.3.6.RELEASE.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/springframework/spring-beans/4.3.6.RELEASE/spring-beans-4.3.6.RELEASE.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/springframework/spring-expression/4.3.6.RELEASE/spring-expression-4.3.6.RELEASE.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/1.5.1.RELEASE/spring-boot-autoconfigure-1.5.1.RELEASE.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/springframework/boot/spring-boot-starter-logging/1.5.1.RELEASE/spring-boot-starter-logging-1.5.1.RELEASE.jar\r\n    [DEBUG]  /home/ala/.m2/repository/ch/qos/logback/logback-classic/1.1.9/logback-classic-1.1.9.jar\r\n    [DEBUG]  /home/ala/.m2/repository/ch/qos/logback/logback-core/1.1.9/logback-core-1.1.9.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.22/jcl-over-slf4j-1.7.22.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/slf4j/jul-to-slf4j/1.7.22/jul-to-slf4j-1.7.22.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/slf4j/log4j-over-slf4j/1.7.22/log4j-over-slf4j-1.7.22.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/springframework/spring-core/4.3.6.RELEASE/spring-core-4.3.6.RELEASE.jar\r\n    [DEBUG]  /home/ala/.m2/repository/org/slf4j/slf4j-api/1.7.22/slf4j-api-1.7.22.jar\r\n    [DEBUG] Source roots:\r\n    [DEBUG]  /home/ala/parent/demo2/src/main/java\r\n    [DEBUG] Command line options:\r\n    [DEBUG] -d /home/ala/parent/demo2/target/classes -classpath /home/ala/parent/demo2/target/classes:/home/ala/.m2/repository/com/example/demo/0.0.1-SNAPSHOT/demo-0.0.1-SNAPSHOT.jar:/home/ala/.m2/repository/org/springframework/boot/spring-boot-starter/1.5.1.RELEASE/spring-boot-starter-1.5.1.RELEASE.jar:/home/ala/.m2/repository/org/springframework/boot/spring-boot/1.5.1.RELEASE/spring-boot-1.5.1.RELEASE.jar:/home/ala/.m2/repository/org/springframework/spring-context/4.3.6.RELEASE/spring-context-4.3.6.RELEASE.jar:/home/ala/.m2/repository/org/springframework/spring-aop/4.3.6.RELEASE/spring-aop-4.3.6.RELEASE.jar:/home/ala/.m2/repository/org/springframework/spring-beans/4.3.6.RELEASE/spring-beans-4.3.6.RELEASE.jar:/home/ala/.m2/repository/org/springframework/spring-expression/4.3.6.RELEASE/spring-expression-4.3.6.RELEASE.jar:/home/ala/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/1.5.1.RELEASE/spring-boot-autoconfigure-1.5.1.RELEASE.jar:/home/ala/.m2/repository/org/springframework/boot/spring-boot-starter-logging/1.5.1.RELEASE/spring-boot-starter-logging-1.5.1.RELEASE.jar:/home/ala/.m2/repository/ch/qos/logback/logback-classic/1.1.9/logback-classic-1.1.9.jar:/home/ala/.m2/repository/ch/qos/logback/logback-core/1.1.9/logback-core-1.1.9.jar:/home/ala/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.22/jcl-over-slf4j-1.7.22.jar:/home/ala/.m2/repository/org/slf4j/jul-to-slf4j/1.7.22/jul-to-slf4j-1.7.22.jar:/home/ala/.m2/repository/org/slf4j/log4j-over-slf4j/1.7.22/log4j-over-slf4j-1.7.22.jar:/home/ala/.m2/repository/org/springframework/spring-core/4.3.6.RELEASE/spring-core-4.3.6.RELEASE.jar:/home/ala/.m2/repository/org/slf4j/slf4j-api/1.7.22/slf4j-api-1.7.22.jar: -sourcepath /home/ala/parent/demo2/src/main/java: -s /home/ala/parent/demo2/target/generated-sources/annotations -g -nowarn -target 1.8 -source 1.8 -encoding UTF-8\r\n    [DEBUG] incrementalBuildHelper#beforeRebuildExecution\r\n    [INFO] Compiling 1 source file to /home/ala/parent/demo2/target/classes\r\n    [DEBUG] incrementalBuildHelper#afterRebuildExecution\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /home/ala/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,17] cannot find symbol\r\n      symbol:   class Aclass\r\n      location: class com.example.Demo2Application\r\n    [ERROR] /home/ala/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,32] cannot find symbol\r\n      symbol:   class Aclass\r\n      location: class com.example.Demo2Application\r\n    [INFO] 2 errors \r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 2.789 s\r\n    [INFO] Finished at: 2017-02-19T07:15:39+01:00\r\n    [INFO] Final Memory: 21M/201M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project demo2: Compilation failure: Compilation failure:\r\n    [ERROR] /home/ala/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,17] cannot find symbol\r\n    [ERROR] symbol:   class Aclass\r\n    [ERROR] location: class com.example.Demo2Application\r\n    [ERROR] /home/ala/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,32] cannot find symbol\r\n    [ERROR] symbol:   class Aclass\r\n    [ERROR] location: class com.example.Demo2Application\r\n    [ERROR] -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project demo2: Compilation failure\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n    \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n    Caused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\r\n    \tat org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:858)\r\n    \tat org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:129)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\r\n    \t... 20 more\r\n    [ERROR] \r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException","title":"Maven cannot find dependency in local repository","body":"<p>It seems very simple so I must have some problem with configuration.\nThere is a demo project with pom:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>This project build and installs correctly in my .m2\nThen I have another project, with pom:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo2&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;demo2&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;demo&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>When trying to access a class from demo, I get:</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building demo2 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.6.1:clean (default-clean) @ demo2 ---\n[INFO] Deleting /home/lukasz/parent/demo2/target\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ demo2 ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 1 resource\n[INFO] Copying 0 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ demo2 ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to /home/lukasz/parent/demo2/target/classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /home/lukasz/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,17] cannot find symbol\n  symbol:   class Aclass\n  location: class com.example.Demo2Application\n[ERROR] /home/lukasz/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,32] cannot find symbol\n  symbol:   class Aclass\n  location: class com.example.Demo2Application\n[INFO] 2 errors \n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 3.096 s\n[INFO] Finished at: 2017-02-19T01:11:21+01:00\n[INFO] Final Memory: 21M/203M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project demo2: Compilation failure: Compilation failure:\n[ERROR] /home/lukasz/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,17] cannot find symbol\n[ERROR] symbol:   class Aclass\n[ERROR] location: class com.example.Demo2Application\n[ERROR] /home/lukasz/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,32] cannot find symbol\n[ERROR] symbol:   class Aclass\n[ERROR] location: class com.example.Demo2Application\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n\n<p>What am I missing?</p>\n\n<p><strong>EDIT:</strong>\nObviously, I did <code>mvn clean install</code> on demo project. Funny thing is I can  use with:</p>\n\n<pre><code>javac -cp  .m2/repository/com/example/demo/0.0.1-SNAPSHOT/demo-0.0.1-SNAPSHOT.jar &lt;any java file here&gt;\n</code></pre>\n\n<p><strong>EDIT:</strong>\nLast part of mvn -X:</p>\n\n<pre><code>[DEBUG] Classpath: [/home/ala/parent/demo2/target/classes\n /home/ala/.m2/repository/com/example/demo/0.0.1-SNAPSHOT/demo-0.0.1-SNAPSHOT.jar\n /home/ala/.m2/repository/org/springframework/boot/spring-boot-starter/1.5.1.RELEASE/spring-boot-starter-1.5.1.RELEASE.jar\n /home/ala/.m2/repository/org/springframework/boot/spring-boot/1.5.1.RELEASE/spring-boot-1.5.1.RELEASE.jar\n /home/ala/.m2/repository/org/springframework/spring-context/4.3.6.RELEASE/spring-context-4.3.6.RELEASE.jar\n /home/ala/.m2/repository/org/springframework/spring-aop/4.3.6.RELEASE/spring-aop-4.3.6.RELEASE.jar\n /home/ala/.m2/repository/org/springframework/spring-beans/4.3.6.RELEASE/spring-beans-4.3.6.RELEASE.jar\n /home/ala/.m2/repository/org/springframework/spring-expression/4.3.6.RELEASE/spring-expression-4.3.6.RELEASE.jar\n /home/ala/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/1.5.1.RELEASE/spring-boot-autoconfigure-1.5.1.RELEASE.jar\n /home/ala/.m2/repository/org/springframework/boot/spring-boot-starter-logging/1.5.1.RELEASE/spring-boot-starter-logging-1.5.1.RELEASE.jar\n /home/ala/.m2/repository/ch/qos/logback/logback-classic/1.1.9/logback-classic-1.1.9.jar\n /home/ala/.m2/repository/ch/qos/logback/logback-core/1.1.9/logback-core-1.1.9.jar\n /home/ala/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.22/jcl-over-slf4j-1.7.22.jar\n /home/ala/.m2/repository/org/slf4j/jul-to-slf4j/1.7.22/jul-to-slf4j-1.7.22.jar\n /home/ala/.m2/repository/org/slf4j/log4j-over-slf4j/1.7.22/log4j-over-slf4j-1.7.22.jar\n /home/ala/.m2/repository/org/springframework/spring-core/4.3.6.RELEASE/spring-core-4.3.6.RELEASE.jar\n /home/ala/.m2/repository/org/slf4j/slf4j-api/1.7.22/slf4j-api-1.7.22.jar]\n[DEBUG] Output directory: /home/ala/parent/demo2/target/classes\n[DEBUG] CompilerReuseStrategy: reuseCreated\n[DEBUG] useIncrementalCompilation enabled\n[DEBUG] Stale source detected: /home/ala/parent/demo2/src/main/java/com/example/Demo2Application.java\n[INFO] Changes detected - recompiling the module!\n[DEBUG] Classpath:\n[DEBUG]  /home/ala/parent/demo2/target/classes\n[DEBUG]  /home/ala/.m2/repository/com/example/demo/0.0.1-SNAPSHOT/demo-0.0.1-SNAPSHOT.jar\n[DEBUG]  /home/ala/.m2/repository/org/springframework/boot/spring-boot-starter/1.5.1.RELEASE/spring-boot-starter-1.5.1.RELEASE.jar\n[DEBUG]  /home/ala/.m2/repository/org/springframework/boot/spring-boot/1.5.1.RELEASE/spring-boot-1.5.1.RELEASE.jar\n[DEBUG]  /home/ala/.m2/repository/org/springframework/spring-context/4.3.6.RELEASE/spring-context-4.3.6.RELEASE.jar\n[DEBUG]  /home/ala/.m2/repository/org/springframework/spring-aop/4.3.6.RELEASE/spring-aop-4.3.6.RELEASE.jar\n[DEBUG]  /home/ala/.m2/repository/org/springframework/spring-beans/4.3.6.RELEASE/spring-beans-4.3.6.RELEASE.jar\n[DEBUG]  /home/ala/.m2/repository/org/springframework/spring-expression/4.3.6.RELEASE/spring-expression-4.3.6.RELEASE.jar\n[DEBUG]  /home/ala/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/1.5.1.RELEASE/spring-boot-autoconfigure-1.5.1.RELEASE.jar\n[DEBUG]  /home/ala/.m2/repository/org/springframework/boot/spring-boot-starter-logging/1.5.1.RELEASE/spring-boot-starter-logging-1.5.1.RELEASE.jar\n[DEBUG]  /home/ala/.m2/repository/ch/qos/logback/logback-classic/1.1.9/logback-classic-1.1.9.jar\n[DEBUG]  /home/ala/.m2/repository/ch/qos/logback/logback-core/1.1.9/logback-core-1.1.9.jar\n[DEBUG]  /home/ala/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.22/jcl-over-slf4j-1.7.22.jar\n[DEBUG]  /home/ala/.m2/repository/org/slf4j/jul-to-slf4j/1.7.22/jul-to-slf4j-1.7.22.jar\n[DEBUG]  /home/ala/.m2/repository/org/slf4j/log4j-over-slf4j/1.7.22/log4j-over-slf4j-1.7.22.jar\n[DEBUG]  /home/ala/.m2/repository/org/springframework/spring-core/4.3.6.RELEASE/spring-core-4.3.6.RELEASE.jar\n[DEBUG]  /home/ala/.m2/repository/org/slf4j/slf4j-api/1.7.22/slf4j-api-1.7.22.jar\n[DEBUG] Source roots:\n[DEBUG]  /home/ala/parent/demo2/src/main/java\n[DEBUG] Command line options:\n[DEBUG] -d /home/ala/parent/demo2/target/classes -classpath /home/ala/parent/demo2/target/classes:/home/ala/.m2/repository/com/example/demo/0.0.1-SNAPSHOT/demo-0.0.1-SNAPSHOT.jar:/home/ala/.m2/repository/org/springframework/boot/spring-boot-starter/1.5.1.RELEASE/spring-boot-starter-1.5.1.RELEASE.jar:/home/ala/.m2/repository/org/springframework/boot/spring-boot/1.5.1.RELEASE/spring-boot-1.5.1.RELEASE.jar:/home/ala/.m2/repository/org/springframework/spring-context/4.3.6.RELEASE/spring-context-4.3.6.RELEASE.jar:/home/ala/.m2/repository/org/springframework/spring-aop/4.3.6.RELEASE/spring-aop-4.3.6.RELEASE.jar:/home/ala/.m2/repository/org/springframework/spring-beans/4.3.6.RELEASE/spring-beans-4.3.6.RELEASE.jar:/home/ala/.m2/repository/org/springframework/spring-expression/4.3.6.RELEASE/spring-expression-4.3.6.RELEASE.jar:/home/ala/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/1.5.1.RELEASE/spring-boot-autoconfigure-1.5.1.RELEASE.jar:/home/ala/.m2/repository/org/springframework/boot/spring-boot-starter-logging/1.5.1.RELEASE/spring-boot-starter-logging-1.5.1.RELEASE.jar:/home/ala/.m2/repository/ch/qos/logback/logback-classic/1.1.9/logback-classic-1.1.9.jar:/home/ala/.m2/repository/ch/qos/logback/logback-core/1.1.9/logback-core-1.1.9.jar:/home/ala/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.22/jcl-over-slf4j-1.7.22.jar:/home/ala/.m2/repository/org/slf4j/jul-to-slf4j/1.7.22/jul-to-slf4j-1.7.22.jar:/home/ala/.m2/repository/org/slf4j/log4j-over-slf4j/1.7.22/log4j-over-slf4j-1.7.22.jar:/home/ala/.m2/repository/org/springframework/spring-core/4.3.6.RELEASE/spring-core-4.3.6.RELEASE.jar:/home/ala/.m2/repository/org/slf4j/slf4j-api/1.7.22/slf4j-api-1.7.22.jar: -sourcepath /home/ala/parent/demo2/src/main/java: -s /home/ala/parent/demo2/target/generated-sources/annotations -g -nowarn -target 1.8 -source 1.8 -encoding UTF-8\n[DEBUG] incrementalBuildHelper#beforeRebuildExecution\n[INFO] Compiling 1 source file to /home/ala/parent/demo2/target/classes\n[DEBUG] incrementalBuildHelper#afterRebuildExecution\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /home/ala/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,17] cannot find symbol\n  symbol:   class Aclass\n  location: class com.example.Demo2Application\n[ERROR] /home/ala/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,32] cannot find symbol\n  symbol:   class Aclass\n  location: class com.example.Demo2Application\n[INFO] 2 errors \n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 2.789 s\n[INFO] Finished at: 2017-02-19T07:15:39+01:00\n[INFO] Final Memory: 21M/201M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project demo2: Compilation failure: Compilation failure:\n[ERROR] /home/ala/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,17] cannot find symbol\n[ERROR] symbol:   class Aclass\n[ERROR] location: class com.example.Demo2Application\n[ERROR] /home/ala/parent/demo2/src/main/java/com/example/Demo2Application.java:[11,32] cannot find symbol\n[ERROR] symbol:   class Aclass\n[ERROR] location: class com.example.Demo2Application\n[ERROR] -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project demo2: Compilation failure\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:858)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:129)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\n    ... 20 more\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":25782418,"reputation":1,"user_id":19527849,"display_name":"Woopaca"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679196621,"creation_date":1679196621,"answer_id":75779930,"question_id":75776804,"body_markdown":"In my case, I create and use the following convenience method.\r\n\r\n    @Entit\r\n    @Table(name = &quot;student&quot;)\r\n    public class Student {\r\n\r\n        @ManyToOne\r\n        private Teacher teacher;\r\n\r\n        ...\r\n        public void setTeacher(Teacher teacher) {\r\n            this.teacher = teacher;\r\n            teacher.getStudnet().add(this);\r\n        }\r\n    }","title":"In JPA, if we have a OneToMany or ManyToMany that is mappedBy one entity, do we need to update both in the setters?","body":"<p>In my case, I create and use the following convenience method.</p>\n<pre><code>@Entit\n@Table(name = &quot;student&quot;)\npublic class Student {\n\n    @ManyToOne\n    private Teacher teacher;\n\n    ...\n    public void setTeacher(Teacher teacher) {\n        this.teacher = teacher;\n        teacher.getStudnet().add(this);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3479550,"reputation":699,"user_id":2911983,"accept_rate":72,"display_name":"itsmarziparzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679198164,"creation_date":1679153137,"question_id":75776804,"body_markdown":"Let&#39;s say we have Teacher and Student tables\r\n\r\nOne teacher, Many students.\r\n\r\nThe relationship can be seen as below.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;teacher&quot;)\r\npublic class Teacher {\r\n\r\n\t@OneToMany(mappedBy=&quot;teacher&quot;)\r\n\tprivate Set&lt;Student&gt; student = new HashSet&lt;&gt;();\r\n\r\n\t}\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name = &quot;student&quot;)\r\npublic class Student {\r\n\r\n\t@ManyToOne\r\n\tprivate Teacher teacher;\r\n\r\n}\r\n```\r\n\r\nSay we got a new student like so:\r\n```\r\nStudent student = new Student();\r\n```\r\n\r\nWould I need to update and save on both the teacher and student like this:\r\n```\r\nteacher.getStudent().add(student);\r\nstudent.setTeacher(teacher);\r\nteacherRepository.save(teacher);\r\nstudentRepository.save(student);\r\n```\r\n\r\nOr would it be ok just to save the student?\r\n\r\nNow what if it&#39;s many to many?\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;teacher&quot;)\r\npublic class Teacher {\r\n\r\n\t@ManyToMany(mappedBy=&quot;teacher&quot;)\r\n\tprivate Set&lt;Student&gt; student = new HashSet&lt;&gt;();\r\n\r\n\t}\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name = &quot;student&quot;)\r\npublic class Student {\r\n\r\n\t@ManyToMany\r\n\t@JoinTable(\r\n\t\t\tname=&quot;teacher_student&quot;,\r\n\t\t\tjoinColumns = @JoinColumn(name = &quot;teacher_id&quot;),\r\n\t\t\tinverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;)\r\n\t)\r\n\tprivate Set&lt;Teacher&gt; teacher = new HashSet&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\nWould I be ok to just save from the student side for this?\r\n\r\nWhat happens if you save from the teacher side as well before saving from the student side?\r\n\r\nFor example\r\n\r\n```\r\nteacherRepository.save(teacher)\r\nstudent.setTeacher(teacher);\r\nstudentRepository.save(student);\r\n```","title":"In JPA, if we have a OneToMany or ManyToMany that is mappedBy one entity, do we need to update both in the setters?","body":"<p>Let's say we have Teacher and Student tables</p>\n<p>One teacher, Many students.</p>\n<p>The relationship can be seen as below.</p>\n<pre><code>@Entity\n@Table(name = &quot;teacher&quot;)\npublic class Teacher {\n\n    @OneToMany(mappedBy=&quot;teacher&quot;)\n    private Set&lt;Student&gt; student = new HashSet&lt;&gt;();\n\n    }\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;student&quot;)\npublic class Student {\n\n    @ManyToOne\n    private Teacher teacher;\n\n}\n</code></pre>\n<p>Say we got a new student like so:</p>\n<pre><code>Student student = new Student();\n</code></pre>\n<p>Would I need to update and save on both the teacher and student like this:</p>\n<pre><code>teacher.getStudent().add(student);\nstudent.setTeacher(teacher);\nteacherRepository.save(teacher);\nstudentRepository.save(student);\n</code></pre>\n<p>Or would it be ok just to save the student?</p>\n<p>Now what if it's many to many?</p>\n<pre><code>@Entity\n@Table(name = &quot;teacher&quot;)\npublic class Teacher {\n\n    @ManyToMany(mappedBy=&quot;teacher&quot;)\n    private Set&lt;Student&gt; student = new HashSet&lt;&gt;();\n\n    }\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;student&quot;)\npublic class Student {\n\n    @ManyToMany\n    @JoinTable(\n            name=&quot;teacher_student&quot;,\n            joinColumns = @JoinColumn(name = &quot;teacher_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;)\n    )\n    private Set&lt;Teacher&gt; teacher = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<p>Would I be ok to just save from the student side for this?</p>\n<p>What happens if you save from the teacher side as well before saving from the student side?</p>\n<p>For example</p>\n<pre><code>teacherRepository.save(teacher)\nstudent.setTeacher(teacher);\nstudentRepository.save(student);\n</code></pre>\n"},{"tags":["java","rest","salesforce","apache-httpclient-4.x"],"owner":{"account_id":976464,"reputation":14279,"user_id":997474,"accept_rate":81,"display_name":"curious1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679196153,"creation_date":1679109569,"question_id":75773680,"body_markdown":"I was given a Salesforce integration project. I use Apache HTTP Client and Salesforce REST API to create objects. The following code is working without any problem:\r\n\r\n    CloseableHttpClient httpclient = HttpClients.createDefault();\r\n    \r\n    List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\r\n    params.add(new BasicNameValuePair(&quot;client_id&quot;, consumerKey));\r\n    params.add(new BasicNameValuePair(&quot;client_secret&quot;, consumerSecret));\r\n    params.add(new BasicNameValuePair(&quot;grant_type&quot;, &quot;client_credentials&quot;));\r\n    \r\n    HttpPost post = new HttpPost(&quot;https://.....my.salesforce.com/services/oauth2/token&quot;);\r\n    post.setEntity(new UrlEncodedFormEntity(params));\r\n    \r\n    HttpResponse loginResponse = httpclient.execute(post);\r\n    \r\n    ObjectMapper mapper = new ObjectMapper();\r\n    \r\n    JsonNode loginResult = mapper.readValue(loginResponse.getEntity().getContent(), JsonNode.class);\r\n    String accessToken = loginResult.get(&quot;access_token&quot;).asText();\r\n    String instanceUrl = loginResult.get(&quot;instance_url&quot;).asText();\r\n    \t\t\t\r\n    String uri = instanceUrl + &quot;/services/data/v57.0/sobjects/conference360__Event__c&quot; ;\r\n    \r\n    HttpPost httpPost = new HttpPost(uri);\r\n    httpPost.addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken);\r\n    httpPost.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \r\n    JSONObject data = new JSONObject();\r\n    \r\n    data.put(&quot;Name&quot;: &quot;test meeting&quot;);\r\n    data.put(&quot;conference360__Event_Start_Date__c&quot;: &quot;2023-02-27&quot;);\r\n    data.put(&quot;conference360__Event_End_Time__c&quot;: &quot;12:13:00.000Z&quot;);\r\n    data.put(&quot;conference360__Event_End_Date__c&quot;: &quot;2023-02-27&quot;);\r\n    data.put(&quot;conference360__Event_Start_Time__c&quot;: &quot;12:12:00.000Z&quot;);\r\n    data.put(&quot;conference360__Time_Zone__c&quot;: &quot;America/New_York&quot;);\t\t\r\n    \r\n    StringEntity body = new StringEntity(data.toString(1), ContentType.create(&quot;application/json&quot;));\r\n    httpPost.setEntity(body);\r\n    \r\n    CloseableHttpClient httpClient = HttpClients.createDefault();\r\n    CloseableHttpResponse response = httpClient.execute(httpPost);\t\r\n\r\nHowever, I always got the same error and I got more error info via the following code:\r\n\r\n    System.out.println(response.getStatusLine().getStatusCode());\r\n    System.out.println(response.getStatusLine().getReasonPhrase());\r\n\r\nHere is the output:\r\n\r\n    400\r\n    Bad Request\r\n\r\nThis info is almost useless and misleading. I used POSTMAN to create (POST) the same object, and I got the error message showing the real reason for failure:\r\n\r\nWe can&#39;t save this record because the “Event &amp; Case Creation from Room Booking” process failed. Give your Salesforce admin these details. This error occurred when the flow tried to create records: CANNOT_INSERT_UPDATE_ACTIVATE_ENTITY: conference360.Event_Trigger: execution of AfterInsert\\n\\ncaused by: System.QueryException: Insufficient permissions: secure query included inaccessible field\\n\\n(conference360). You can look up ExceptionCode values in the SOAP API Developer Guide. Error ID: 2052924026-11322 (-1519010228)k up ExceptionCode values in the SOAP API Developer Guide. Error ID: 2052924026-11322 (-1519010228)&quot;, &quot;errorCode&quot;:&quot;CANNOT_EXECUTE_FLOW_TRIGGER&quot;,&quot;fields&quot;:[]\r\n\r\nMy question is: how to reveal the same error message in Java?\r\n\r\n","title":"REST and Apache HTTP: how to reveal more error info in Java?","body":"<p>I was given a Salesforce integration project. I use Apache HTTP Client and Salesforce REST API to create objects. The following code is working without any problem:</p>\n<pre><code>CloseableHttpClient httpclient = HttpClients.createDefault();\n\nList&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\nparams.add(new BasicNameValuePair(&quot;client_id&quot;, consumerKey));\nparams.add(new BasicNameValuePair(&quot;client_secret&quot;, consumerSecret));\nparams.add(new BasicNameValuePair(&quot;grant_type&quot;, &quot;client_credentials&quot;));\n\nHttpPost post = new HttpPost(&quot;https://.....my.salesforce.com/services/oauth2/token&quot;);\npost.setEntity(new UrlEncodedFormEntity(params));\n\nHttpResponse loginResponse = httpclient.execute(post);\n\nObjectMapper mapper = new ObjectMapper();\n\nJsonNode loginResult = mapper.readValue(loginResponse.getEntity().getContent(), JsonNode.class);\nString accessToken = loginResult.get(&quot;access_token&quot;).asText();\nString instanceUrl = loginResult.get(&quot;instance_url&quot;).asText();\n            \nString uri = instanceUrl + &quot;/services/data/v57.0/sobjects/conference360__Event__c&quot; ;\n\nHttpPost httpPost = new HttpPost(uri);\nhttpPost.addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken);\nhttpPost.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\nJSONObject data = new JSONObject();\n\ndata.put(&quot;Name&quot;: &quot;test meeting&quot;);\ndata.put(&quot;conference360__Event_Start_Date__c&quot;: &quot;2023-02-27&quot;);\ndata.put(&quot;conference360__Event_End_Time__c&quot;: &quot;12:13:00.000Z&quot;);\ndata.put(&quot;conference360__Event_End_Date__c&quot;: &quot;2023-02-27&quot;);\ndata.put(&quot;conference360__Event_Start_Time__c&quot;: &quot;12:12:00.000Z&quot;);\ndata.put(&quot;conference360__Time_Zone__c&quot;: &quot;America/New_York&quot;);        \n\nStringEntity body = new StringEntity(data.toString(1), ContentType.create(&quot;application/json&quot;));\nhttpPost.setEntity(body);\n\nCloseableHttpClient httpClient = HttpClients.createDefault();\nCloseableHttpResponse response = httpClient.execute(httpPost);  \n</code></pre>\n<p>However, I always got the same error and I got more error info via the following code:</p>\n<pre><code>System.out.println(response.getStatusLine().getStatusCode());\nSystem.out.println(response.getStatusLine().getReasonPhrase());\n</code></pre>\n<p>Here is the output:</p>\n<pre><code>400\nBad Request\n</code></pre>\n<p>This info is almost useless and misleading. I used POSTMAN to create (POST) the same object, and I got the error message showing the real reason for failure:</p>\n<p>We can't save this record because the “Event &amp; Case Creation from Room Booking” process failed. Give your Salesforce admin these details. This error occurred when the flow tried to create records: CANNOT_INSERT_UPDATE_ACTIVATE_ENTITY: conference360.Event_Trigger: execution of AfterInsert\\n\\ncaused by: System.QueryException: Insufficient permissions: secure query included inaccessible field\\n\\n(conference360). You can look up ExceptionCode values in the SOAP API Developer Guide. Error ID: 2052924026-11322 (-1519010228)k up ExceptionCode values in the SOAP API Developer Guide. Error ID: 2052924026-11322 (-1519010228)&quot;, &quot;errorCode&quot;:&quot;CANNOT_EXECUTE_FLOW_TRIGGER&quot;,&quot;fields&quot;:[]</p>\n<p>My question is: how to reveal the same error message in Java?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1679195589,"post_id":75779867,"comment_id":133677097,"body_markdown":"How can it be `X.m`? `y` is of type `Y`, which is totally unrelated to `X`. What `y` actually stores does not matter at compile time. That&#39;s what the runtime cares.","body":"How can it be <code>X.m</code>? <code>y</code> is of type <code>Y</code>, which is totally unrelated to <code>X</code>. What <code>y</code> actually stores does not matter at compile time. That&#39;s what the runtime cares."},{"owner":{"account_id":16132319,"reputation":53,"user_id":11645616,"display_name":"Park Bo"},"score":0,"creation_date":1679196367,"post_id":75779867,"comment_id":133677134,"body_markdown":"@Sweeper hmm I think I am misunderstanding the concept of compile time and run time. I thought when the java compiler looks for the method from top down and produces the byte code. Then, jvm uses the byte code and looks for the method bottom up.  So, I am wonder at compile time, y.m() suppose to point to interface Y?","body":"@Sweeper hmm I think I am misunderstanding the concept of compile time and run time. I thought when the java compiler looks for the method from top down and produces the byte code. Then, jvm uses the byte code and looks for the method bottom up.  So, I am wonder at compile time, y.m() suppose to point to interface Y?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1679196956,"post_id":75779867,"comment_id":133677169,"body_markdown":"Yes, bytecode that calls `Y.m()` will be produced, and at runtime that will be dispatched to `B.m()`. Not sure what you mean by &quot;top down&quot; and &quot;bottom up&quot;, but I don&#39;t see what you are misunderstanding?","body":"Yes, bytecode that calls <code>Y.m()</code> will be produced, and at runtime that will be dispatched to <code>B.m()</code>. Not sure what you mean by &quot;top down&quot; and &quot;bottom up&quot;, but I don&#39;t see what you are misunderstanding?"},{"owner":{"account_id":16132319,"reputation":53,"user_id":11645616,"display_name":"Park Bo"},"score":0,"creation_date":1679197925,"post_id":75779867,"comment_id":133677228,"body_markdown":"@Sweeper What I meant by top down is looking for the method from parent to child and bottom up is from child to parent. I am just confused what class&#39; method should bytcode target to when run y.m(). Thanks!","body":"@Sweeper What I meant by top down is looking for the method from parent to child and bottom up is from child to parent. I am just confused what class&#39; method should bytcode target to when run y.m(). Thanks!"},{"owner":{"account_id":3593904,"reputation":129,"user_id":2999226,"display_name":"user2999226"},"score":0,"creation_date":1679206459,"post_id":75779867,"comment_id":133677758,"body_markdown":"In Java all methods are virtual. That means at runtime Java isn&#39;t searching from abstract to concrete (top-down), but from concrete to abstract (bottom-up). If your class A had a method that wasn&#39;t overriden by B the runtime would first check if B has an implementation, wouldn&#39;t find it and then look at A and executed it. In reality it works a little different, but that is how you can imagine it.","body":"In Java all methods are virtual. That means at runtime Java isn&#39;t searching from abstract to concrete (top-down), but from concrete to abstract (bottom-up). If your class A had a method that wasn&#39;t overriden by B the runtime would first check if B has an implementation, wouldn&#39;t find it and then look at A and executed it. In reality it works a little different, but that is how you can imagine it."},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1679206579,"post_id":75779867,"comment_id":133677773,"body_markdown":"“Is it interface x method m or interface Y method m?”. There is no such thing as “interface x (nor y) method m”.  Those interfaces simply say that whatever object is being referenced will have a method `void m()`.  That  single  method satisfies both interfaces.  Since class B implements not only Y, but also implicitly X as well, that means even if you had declared `X x = new B(); x.m();`, you would get exactly the same result.  The interfaces specify what methods must exist on the object, but the method actually called will be that of the most   child for that object (regardless of interface)","body":"“Is it interface x method m or interface Y method m?”. There is no such thing as “interface x (nor y) method m”.  Those interfaces simply say that whatever object is being referenced will have a method <code>void m()</code>.  That  single  method satisfies both interfaces.  Since class B implements not only Y, but also implicitly X as well, that means even if you had declared <code>X x = new B(); x.m();</code>, you would get exactly the same result.  The interfaces specify what methods must exist on the object, but the method actually called will be that of the most   child for that object (regardless of interface)"}],"owner":{"account_id":16132319,"reputation":53,"user_id":11645616,"display_name":"Park Bo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679195286,"creation_date":1679195286,"question_id":75779867,"body_markdown":"I have codes like this \r\n\r\n\r\n```\r\npackage test;\r\n\r\npublic interface X {\r\n    public void m();\r\n\r\n}\r\n```\r\n```\r\npackage test;\r\n\r\npublic interface Y {\r\n    public void m();\r\n}\r\n\r\n```\r\n```\r\npackage test;\r\n\r\npublic abstract class A implements X{\r\n    public void m(){\r\n        System.out.println(&quot;Class A: m&quot;);\r\n    }\r\n    abstract  void m2();\r\n}\r\n\r\n```\r\n```\r\npackage test;\r\n\r\npublic class B extends  A implements Y{\r\n    public void m2(){\r\n        System.out.println(&quot;Class B m2&quot;);\r\n    }\r\n\r\n    public void m(){\r\n        System.out.println(&quot;Class B m&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npackage test;\r\n\r\npublic class test {\r\n    public static void main(String[] args) {\r\n        Y y = new B(); y.m();\r\n}}\r\n```\r\n\r\nSo, the main method should print &quot;Class B m&quot; because run time y.m() should point to the class B method m.\r\n\r\nHowever, I am wonder what class&#39; method should y.m() targets to in compile time? Is it interface x method m or interface Y method m?\r\n\r\nBecause class B extends A which has the method B and implements X that has method B.Then, class B also implements Y that also has method B.","title":"Java Polymorphism Compile time and Run time","body":"<p>I have codes like this</p>\n<pre><code>package test;\n\npublic interface X {\n    public void m();\n\n}\n</code></pre>\n<pre><code>package test;\n\npublic interface Y {\n    public void m();\n}\n\n</code></pre>\n<pre><code>package test;\n\npublic abstract class A implements X{\n    public void m(){\n        System.out.println(&quot;Class A: m&quot;);\n    }\n    abstract  void m2();\n}\n\n</code></pre>\n<pre><code>package test;\n\npublic class B extends  A implements Y{\n    public void m2(){\n        System.out.println(&quot;Class B m2&quot;);\n    }\n\n    public void m(){\n        System.out.println(&quot;Class B m&quot;);\n    }\n}\n\n</code></pre>\n<pre><code>package test;\n\npublic class test {\n    public static void main(String[] args) {\n        Y y = new B(); y.m();\n}}\n</code></pre>\n<p>So, the main method should print &quot;Class B m&quot; because run time y.m() should point to the class B method m.</p>\n<p>However, I am wonder what class' method should y.m() targets to in compile time? Is it interface x method m or interface Y method m?</p>\n<p>Because class B extends A which has the method B and implements X that has method B.Then, class B also implements Y that also has method B.</p>\n"},{"tags":["java","arrays","netbeans","filereader"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679194285,"post_id":75779820,"comment_id":133677018,"body_markdown":"Step through your code with the debugger. Hint: you put data into the array. Do you use it later?","body":"Step through your code with the debugger. Hint: you put data into the array. Do you use it later?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1679194545,"post_id":75779820,"comment_id":133677036,"body_markdown":"Tangential: a song isn’t a kind of CD—a CD **has** songs, which is different.","body":"Tangential: a song isn’t a kind of CD—a CD <b>has</b> songs, which is different."},{"owner":{"account_id":26857224,"reputation":1,"user_id":20441347,"display_name":"PatPatis"},"score":0,"creation_date":1679194699,"post_id":75779820,"comment_id":133677041,"body_markdown":"@DaveNewton HAHA I know! It&#39;s just the first variable name that came to my mind at that moment.","body":"@DaveNewton HAHA I know! It&#39;s just the first variable name that came to my mind at that moment."},{"owner":{"account_id":26857224,"reputation":1,"user_id":20441347,"display_name":"PatPatis"},"score":0,"creation_date":1679196678,"post_id":75779820,"comment_id":133677149,"body_markdown":"@tgdavies Thank you so much! I feel so dumb not even noticing the most obvious answer to my problem. My program runs perfectly now.","body":"@tgdavies Thank you so much! I feel so dumb not even noticing the most obvious answer to my problem. My program runs perfectly now."}],"answers":[{"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1679195476,"post_id":75779858,"comment_id":133677094,"body_markdown":"Why not `StandardCharsets.UTF_8`?","body":"Why not <code>StandardCharsets.UTF_8</code>?"},{"owner":{"account_id":26857224,"reputation":1,"user_id":20441347,"display_name":"PatPatis"},"score":0,"creation_date":1679195923,"post_id":75779858,"comment_id":133677109,"body_markdown":"I cannot really do this one since my professor doesn&#39;t let us edit some parts of the code. It&#39;s sort of like fill in the blanks kind of activity.","body":"I cannot really do this one since my professor doesn&#39;t let us edit some parts of the code. It&#39;s sort of like fill in the blanks kind of activity."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1679196030,"post_id":75779858,"comment_id":133677112,"body_markdown":"@PatPatis You should probably look up your school&#39;s academic code of conduct regarding assistance with assignments. `String cd[][] = new String[6][6];` is wrong. The second dimension should be `2`; and the first should be half of the number of lines in `Classics.txt`","body":"@PatPatis You should probably look up your school&#39;s academic code of conduct regarding assistance with assignments. <code>String cd[][] = new String[6][6];</code> is wrong. The second dimension should be <code>2</code>; and the first should be half of the number of lines in <code>Classics.txt</code>"},{"owner":{"account_id":26857224,"reputation":1,"user_id":20441347,"display_name":"PatPatis"},"score":0,"creation_date":1679197522,"post_id":75779858,"comment_id":133677201,"body_markdown":"@ElliottFrisch I&#39;m pretty sure I can at least ask for some guidance here regarding my assignments. It&#39;s not like I&#39;m asking people to do my program for me. I&#39;m simply just seeking for help. Anyway, thank you for pointing out the size of my two-dimensional array, I had it fixed.","body":"@ElliottFrisch I&#39;m pretty sure I can at least ask for some guidance here regarding my assignments. It&#39;s not like I&#39;m asking people to do my program for me. I&#39;m simply just seeking for help. Anyway, thank you for pointing out the size of my two-dimensional array, I had it fixed."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679195006,"creation_date":1679195006,"answer_id":75779858,"question_id":75779820,"body_markdown":"Using a multidimensional `String[]` to store `Song`(s) seems wrong to me, I would create a `Song[]` instead. You can read all of the lines of your file at once with [`Files.readAllLines(Path, Charset)`](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines(java.nio.file.Path,%20java.nio.charset.Charset)) you then know that every two lines represents one `Song`, so loop and fill a `Song[]` and then print the contents. Something like,\r\n\r\n\tList&lt;String&gt; al = Files.readAllLines(Path.of(&quot;Classics.txt&quot;),\r\n\t\t\tCharset.forName(&quot;UTF8&quot;));\r\n\tSong[] cd = new Song[al.size() / 2];\r\n\tint p = 0;\r\n\tfor (int i = 0; i &lt; al.size(); i += 2) {\r\n\t\tcd[p] = new Song(al.get(i), al.get(i + 1));\r\n\t\tp++;\r\n\t}\r\n\tSystem.out.println(&quot;Contents of Classics:&quot;);\r\n\tfor (Song track : cd) {\r\n\t\tSystem.out.print(track);\r\n\t}\r\n\r\nOf course, you could potentially eliminate the array and second loop\r\n\r\n\tList&lt;String&gt; al = Files.readAllLines(Path.of(&quot;Classics.txt&quot;),\r\n\t\t\tCharset.forName(&quot;UTF8&quot;));\r\n\tSystem.out.println(&quot;Contents of Classics:&quot;);\r\n\tfor (int i = 0; i &lt; al.size(); i += 2) {\r\n\t\tSystem.out.println(new Song(al.get(i), al.get(i + 1)));\r\n\t}","title":"Why is my program only printing the last section of an array?","body":"<p>Using a multidimensional <code>String[]</code> to store <code>Song</code>(s) seems wrong to me, I would create a <code>Song[]</code> instead. You can read all of the lines of your file at once with <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines(java.nio.file.Path,%20java.nio.charset.Charset)\" rel=\"nofollow noreferrer\"><code>Files.readAllLines(Path, Charset)</code></a> you then know that every two lines represents one <code>Song</code>, so loop and fill a <code>Song[]</code> and then print the contents. Something like,</p>\n<pre><code>List&lt;String&gt; al = Files.readAllLines(Path.of(&quot;Classics.txt&quot;),\n        Charset.forName(&quot;UTF8&quot;));\nSong[] cd = new Song[al.size() / 2];\nint p = 0;\nfor (int i = 0; i &lt; al.size(); i += 2) {\n    cd[p] = new Song(al.get(i), al.get(i + 1));\n    p++;\n}\nSystem.out.println(&quot;Contents of Classics:&quot;);\nfor (Song track : cd) {\n    System.out.print(track);\n}\n</code></pre>\n<p>Of course, you could potentially eliminate the array and second loop</p>\n<pre><code>List&lt;String&gt; al = Files.readAllLines(Path.of(&quot;Classics.txt&quot;),\n        Charset.forName(&quot;UTF8&quot;));\nSystem.out.println(&quot;Contents of Classics:&quot;);\nfor (int i = 0; i &lt; al.size(); i += 2) {\n    System.out.println(new Song(al.get(i), al.get(i + 1)));\n}\n</code></pre>\n"}],"owner":{"account_id":26857224,"reputation":1,"user_id":20441347,"display_name":"PatPatis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679195006,"creation_date":1679194184,"question_id":75779820,"body_markdown":"So my professor let us copy this certain code but we have to fill in the blanks on some parts to make the program work. I&#39;m supposed to create a two-dimensional array using the &quot;Classics.txt&quot; file and print the output. My problem is when I run the program, it only shows the last section of the array.\r\n\r\nPS. I put a comment on the parts where I input the code myself. My professor instructed us not to edit the code that we copied from him.\r\n\r\nThanks in advance.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    import java.io.*;\r\n    public class CompactDisc {\r\n\r\n        public static void main(String[] args)throws IOException {\r\n            FileReader file = new FileReader(&quot;Classics.txt&quot;);\r\n            BufferedReader input = new BufferedReader(file);\r\n            String title = null;\r\n            String artist = null;\r\n                    // CODE I INPUT MYSELF\r\n            int column = 0;\r\n            String cd[][] = new String[6][6];\r\n                    // END\r\n            for (int i = 0; i &lt; cd.length; i++) {\r\n                    // CODE I INPUT MYSELF\r\n                title = input.readLine();\r\n                artist = input.readLine();\r\n                cd[i][column] = title;\r\n                column++;\r\n                cd[i][column] = artist;\r\n                column = 0;\r\n                    // END\r\n            }\r\n            System.out.println(&quot;Contents of Classics:&quot;);\r\n            for (int i = 0; i &lt; cd.length; i++) {\r\n                    // CODE I INPUT MYSELF\r\n                Song track = new Song(title, artist);\r\n                System.out.print(track);\r\n                    // END\r\n            }\r\n        }\r\n    }\r\n\r\n    class Song extends CompactDisc{\r\n        private String title; // The song&#39;s title\r\n        private String artist; // The song&#39;s artist\r\n        /**\r\n        Constructor\r\n        @param title A reference to a String object\r\n        containing the song&#39;s title.\r\n        @param artist A reference to a String object\r\n        containing the song&#39;s artist.\r\n        */\r\n        public Song(String title, String artist) {\r\n            this.title = title;\r\n            this.artist = artist;\r\n        }\r\n        /**\r\n        The toString method\r\n        @return A String object containing the name\r\n        of the song and the artist.\r\n        */\r\n        public String toString() {\r\n        return title + &quot; by &quot; + artist + &quot;\\n&quot;;\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThis is what&#39;s in the &quot;Classics.txt&quot; file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    Ode to Joy\r\n    Bach\r\n    The Sleeping Beauty\r\n    Tchaikovsky\r\n    Lullaby\r\n    Brahms\r\n    Canon\r\n    Bach\r\n    Symphony No. 5\r\n    Beethoven\r\n    The Blue Danube Waltz\r\n    Strauss\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd this is the output it&#39;s giving:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    Contents of Classics:\r\n    The Blue Danube Waltz by Strauss\r\n    The Blue Danube Waltz by Strauss\r\n    The Blue Danube Waltz by Strauss\r\n    The Blue Danube Waltz by Strauss\r\n    The Blue Danube Waltz by Strauss\r\n    The Blue Danube Waltz by Strauss\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Why is my program only printing the last section of an array?","body":"<p>So my professor let us copy this certain code but we have to fill in the blanks on some parts to make the program work. I'm supposed to create a two-dimensional array using the &quot;Classics.txt&quot; file and print the output. My problem is when I run the program, it only shows the last section of the array.</p>\n<p>PS. I put a comment on the parts where I input the code myself. My professor instructed us not to edit the code that we copied from him.</p>\n<p>Thanks in advance.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import java.io.*;\npublic class CompactDisc {\n\n    public static void main(String[] args)throws IOException {\n        FileReader file = new FileReader(\"Classics.txt\");\n        BufferedReader input = new BufferedReader(file);\n        String title = null;\n        String artist = null;\n                // CODE I INPUT MYSELF\n        int column = 0;\n        String cd[][] = new String[6][6];\n                // END\n        for (int i = 0; i &lt; cd.length; i++) {\n                // CODE I INPUT MYSELF\n            title = input.readLine();\n            artist = input.readLine();\n            cd[i][column] = title;\n            column++;\n            cd[i][column] = artist;\n            column = 0;\n                // END\n        }\n        System.out.println(\"Contents of Classics:\");\n        for (int i = 0; i &lt; cd.length; i++) {\n                // CODE I INPUT MYSELF\n            Song track = new Song(title, artist);\n            System.out.print(track);\n                // END\n        }\n    }\n}\n\nclass Song extends CompactDisc{\n    private String title; // The song's title\n    private String artist; // The song's artist\n    /**\n    Constructor\n    @param title A reference to a String object\n    containing the song's title.\n    @param artist A reference to a String object\n    containing the song's artist.\n    */\n    public Song(String title, String artist) {\n        this.title = title;\n        this.artist = artist;\n    }\n    /**\n    The toString method\n    @return A String object containing the name\n    of the song and the artist.\n    */\n    public String toString() {\n    return title + \" by \" + artist + \"\\n\";\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>This is what's in the &quot;Classics.txt&quot; file:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Ode to Joy\nBach\nThe Sleeping Beauty\nTchaikovsky\nLullaby\nBrahms\nCanon\nBach\nSymphony No. 5\nBeethoven\nThe Blue Danube Waltz\nStrauss</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And this is the output it's giving:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Contents of Classics:\nThe Blue Danube Waltz by Strauss\nThe Blue Danube Waltz by Strauss\nThe Blue Danube Waltz by Strauss\nThe Blue Danube Waltz by Strauss\nThe Blue Danube Waltz by Strauss\nThe Blue Danube Waltz by Strauss</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","java-9","java-module","module-info"],"answers":[{"comments":[{"owner":{"account_id":1738823,"reputation":489,"user_id":1590791,"display_name":"Tiago Santos"},"score":0,"creation_date":1511340741,"post_id":47222302,"comment_id":81815088,"body_markdown":"when I use this command, I still get the error:\n&gt; javac module-info.java\nmodule-info.java:4: error: package is empty or does not exist: package1\n\nAny ideia why it might not working for me?","body":"when I use this command, I still get the error: &gt; javac module-info.java module-info.java:4: error: package is empty or does not exist: package1  Any ideia why it might not working for me?"},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1511346795,"post_id":47222302,"comment_id":81819013,"body_markdown":"@TiagoSantos Does the package exist in the JAR?","body":"@TiagoSantos Does the package exist in the JAR?"},{"owner":{"account_id":1738823,"reputation":489,"user_id":1590791,"display_name":"Tiago Santos"},"score":0,"creation_date":1511347002,"post_id":47222302,"comment_id":81819171,"body_markdown":"yes, everything seems fine, I managed to have it working using the solution above from nullpointer, I do agree that your solution is more elegant, the only problem is that isn&#39;t working with my .jars :/ tried in 2 different ones","body":"yes, everything seems fine, I managed to have it working using the solution above from nullpointer, I do agree that your solution is more elegant, the only problem is that isn&#39;t working with my .jars :/ tried in 2 different ones"},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1511350788,"post_id":47222302,"comment_id":81821708,"body_markdown":"@TiagoSantos Have you replaced `lib` with the actual module name?","body":"@TiagoSantos Have you replaced <code>lib</code> with the actual module name?"},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1511351249,"post_id":47222302,"comment_id":81822000,"body_markdown":"@TiagoSantos I modified my answer because that was indeed unobvious that `lib` should be substituted with the module name.","body":"@TiagoSantos I modified my answer because that was indeed unobvious that <code>lib</code> should be substituted with the module name."},{"owner":{"account_id":1738823,"reputation":489,"user_id":1590791,"display_name":"Tiago Santos"},"score":0,"creation_date":1511446877,"post_id":47222302,"comment_id":81869721,"body_markdown":"ahhh! indeed was not obvious :D thanks for the update","body":"ahhh! indeed was not obvious :D thanks for the update"},{"owner":{"account_id":302533,"reputation":1451,"user_id":610966,"accept_rate":85,"display_name":"Philip Guin"},"score":26,"creation_date":1514023062,"post_id":47222302,"comment_id":82872402,"body_markdown":"For anyone attempting to update a legacy JAR with a generated module-info, this sequence of commands is what I got to work:\n\n`jdeps --generate-module-info . &lt;jar_path&gt;`\n`javac --patch-module &lt;module_name&gt;=&lt;jar_path&gt; &lt;module_name&gt;/module-info.java`\n`jar uf &lt;jar_path&gt; -C &lt;module_name&gt; module-info.class`","body":"For anyone attempting to update a legacy JAR with a generated module-info, this sequence of commands is what I got to work:  <code>jdeps --generate-module-info . &lt;jar_path&gt;</code> <code>javac --patch-module &lt;module_name&gt;=&lt;jar_path&gt; &lt;module_name&gt;&#47;module-info.java</code> <code>jar uf &lt;jar_path&gt; -C &lt;module_name&gt; module-info.class</code>"},{"owner":{"account_id":5172440,"reputation":823,"user_id":4140538,"display_name":"Андрей Вахрушев"},"score":1,"creation_date":1636733478,"post_id":47222302,"comment_id":123643423,"body_markdown":"The addition by Philip is important, as the command in the answer does not inject anything but only compiles module-info.java into module-info.class for a jar. The class is then added to the jar using jar command.","body":"The addition by Philip is important, as the command in the answer does not inject anything but only compiles module-info.java into module-info.class for a jar. The class is then added to the jar using jar command."},{"owner":{"account_id":20529459,"reputation":51,"user_id":15067110,"display_name":"Peter Jerkewitz"},"score":0,"creation_date":1690817292,"post_id":47222302,"comment_id":135402369,"body_markdown":"This worked for me also. I used it for JSoup jar and the module-info.java was effectively empty, other the the name of org.jsoup. I using this with JPackage.","body":"This worked for me also. I used it for JSoup jar and the module-info.java was effectively empty, other the the name of org.jsoup. I using this with JPackage."}],"tags":[],"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":9,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1511351201,"creation_date":1510315120,"answer_id":47222302,"question_id":47222226,"body_markdown":"Yes, this is possible with the `--patch-module` option. This option is most often used at runtime, but it also works at compile time:\r\n\r\n    javac --patch-module &lt;module name&gt;=&lt;path to jar&gt; module-info.java","title":"How to inject module declaration into JAR?","body":"<p>Yes, this is possible with the <code>--patch-module</code> option. This option is most often used at runtime, but it also works at compile time:</p>\n\n<pre><code>javac --patch-module &lt;module name&gt;=&lt;path to jar&gt; module-info.java\n</code></pre>\n"},{"comments":[{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":1,"creation_date":1510730604,"post_id":47222323,"comment_id":81553891,"body_markdown":"I accepted my own answer because I think my way is slightly more elegant. Extracting files is an extra step which is a bit inconvenient (especially for tools).","body":"I accepted my own answer because I think my way is slightly more elegant. Extracting files is an extra step which is a bit inconvenient (especially for tools)."}],"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1510315226,"creation_date":1510315226,"answer_id":47222323,"question_id":47222226,"body_markdown":"Alternatively, to compile the `module-info.java` generated you need to also extract the contents of the JAR to a directory. \r\n\r\nThen compile the `module-info.java` with the output directory (-d) set to the directory where you extracted the contents.\r\n\r\n***[Credits :- Alan](https://stackoverflow.com/questions/47103221/is-there-a-way-to-add-maven-dependencies-while-using-the-maven-jlink-plugin#comment81159146_47103359)***","title":"How to inject module declaration into JAR?","body":"<p>Alternatively, to compile the <code>module-info.java</code> generated you need to also extract the contents of the JAR to a directory. </p>\n\n<p>Then compile the <code>module-info.java</code> with the output directory (-d) set to the directory where you extracted the contents.</p>\n\n<p><strong><em><a href=\"https://stackoverflow.com/questions/47103221/is-there-a-way-to-add-maven-dependencies-while-using-the-maven-jlink-plugin#comment81159146_47103359\">Credits :- Alan</a></em></strong></p>\n"},{"tags":[],"owner":{"account_id":5199113,"reputation":31,"user_id":9757942,"display_name":"Stephen Parry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679193076,"creation_date":1679193076,"answer_id":75779767,"question_id":47222226,"body_markdown":"If you are using Maven and the original library is available there, you can use the `add-module-info` goal of the [moditect plugin][1]. Below is a snippet of pom.xml I used to patch the h2 jdbc driver and engine. The plugin creates a patched copy of the plugin in `${project.build.directory}/modules` which can then be used e.g. jlinked in. \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.moditect&lt;/groupId&gt;\r\n        &lt;artifactId&gt;moditect-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0.RC2&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;add-module-infos&lt;/id&gt;\r\n                &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;add-module-info&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputDirectory&gt;${project.build.directory}/modules&lt;/outputDirectory&gt;\r\n                    &lt;modules&gt;\r\n                        &lt;module&gt;\r\n                            &lt;artifact&gt;\r\n                                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                                &lt;version&gt;2.1.214&lt;/version&gt;\r\n                            &lt;/artifact&gt;\r\n                            &lt;moduleInfoSource&gt;\r\n                                module com.h2database {\r\n                                requires java.compiler;\r\n                                requires jdk.net;\r\n                                requires static lucene.core;\r\n                                requires static lucene.queryparser;\r\n                                requires static slf4j.api;\r\n                                requires static jakarta.servlet;\r\n                                requires transitive java.desktop;\r\n                                requires transitive java.instrument;\r\n                                requires java.logging;\r\n                                requires transitive java.management;\r\n                                requires static java.naming;\r\n                                requires transitive java.scripting;\r\n                                requires java.sql;\r\n                                requires transitive java.transaction.xa;\r\n                                requires transitive java.xml;\r\n                                requires static javax.servlet.api;\r\n                                requires static org.locationtech.jts;\r\n                                requires static org.osgi.service.jdbc;\r\n                                requires static osgi.core;\r\n                                provides java.sql.Driver with org.h2.Driver;\r\n                                }\r\n                            &lt;/moduleInfoSource&gt;\r\n                        &lt;/module&gt;\r\n                    &lt;/modules&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://github.com/moditect/moditect","title":"How to inject module declaration into JAR?","body":"<p>If you are using Maven and the original library is available there, you can use the <code>add-module-info</code> goal of the <a href=\"https://github.com/moditect/moditect\" rel=\"nofollow noreferrer\">moditect plugin</a>. Below is a snippet of pom.xml I used to patch the h2 jdbc driver and engine. The plugin creates a patched copy of the plugin in <code>${project.build.directory}/modules</code> which can then be used e.g. jlinked in.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.moditect&lt;/groupId&gt;\n    &lt;artifactId&gt;moditect-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0.RC2&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;add-module-infos&lt;/id&gt;\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;add-module-info&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${project.build.directory}/modules&lt;/outputDirectory&gt;\n                &lt;modules&gt;\n                    &lt;module&gt;\n                        &lt;artifact&gt;\n                            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n                            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n                            &lt;version&gt;2.1.214&lt;/version&gt;\n                        &lt;/artifact&gt;\n                        &lt;moduleInfoSource&gt;\n                            module com.h2database {\n                            requires java.compiler;\n                            requires jdk.net;\n                            requires static lucene.core;\n                            requires static lucene.queryparser;\n                            requires static slf4j.api;\n                            requires static jakarta.servlet;\n                            requires transitive java.desktop;\n                            requires transitive java.instrument;\n                            requires java.logging;\n                            requires transitive java.management;\n                            requires static java.naming;\n                            requires transitive java.scripting;\n                            requires java.sql;\n                            requires transitive java.transaction.xa;\n                            requires transitive java.xml;\n                            requires static javax.servlet.api;\n                            requires static org.locationtech.jts;\n                            requires static org.osgi.service.jdbc;\n                            requires static osgi.core;\n                            provides java.sql.Driver with org.h2.Driver;\n                            }\n                        &lt;/moduleInfoSource&gt;\n                    &lt;/module&gt;\n                &lt;/modules&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7798,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":47222302,"answer_count":3,"score":25,"last_activity_date":1679193076,"creation_date":1510314860,"question_id":47222226,"body_markdown":"Suppose I have some library `lib.jar` for which I do not have the source code (or it is written in some non-Java language which is unaware of modules yet). `lib.jar` does not have `module-info.class` and I do not want to use it as an automatic module, so I would like to inject `module-info.class` into it.\r\n\r\nI first generate `module-info.java` with the following command:\r\n\r\n    jdeps --generate-module-info . lib.jar\r\n\r\nSuppose this generated something like that:\r\n\r\n    module lib {\r\n        exports package1;\r\n        exports package2;\r\n    }\r\n\r\nThen I try to compile it but `javac` fails because the packages `package1` and `package2` do not exist:\r\n\r\n    &gt; javac module-info.java\r\n    module-info.java:4: error: package is empty or does not exist: package1\r\n\r\nOf course, I can create directories `package1` and `package2` with dummy classes in them, but is there some better approach?\r\n\r\n","title":"How to inject module declaration into JAR?","body":"<p>Suppose I have some library <code>lib.jar</code> for which I do not have the source code (or it is written in some non-Java language which is unaware of modules yet). <code>lib.jar</code> does not have <code>module-info.class</code> and I do not want to use it as an automatic module, so I would like to inject <code>module-info.class</code> into it.</p>\n\n<p>I first generate <code>module-info.java</code> with the following command:</p>\n\n<pre><code>jdeps --generate-module-info . lib.jar\n</code></pre>\n\n<p>Suppose this generated something like that:</p>\n\n<pre><code>module lib {\n    exports package1;\n    exports package2;\n}\n</code></pre>\n\n<p>Then I try to compile it but <code>javac</code> fails because the packages <code>package1</code> and <code>package2</code> do not exist:</p>\n\n<pre><code>&gt; javac module-info.java\nmodule-info.java:4: error: package is empty or does not exist: package1\n</code></pre>\n\n<p>Of course, I can create directories <code>package1</code> and <code>package2</code> with dummy classes in them, but is there some better approach?</p>\n"},{"tags":["java","contract","invariants"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679194419,"post_id":75779721,"comment_id":133677027,"body_markdown":"All values of an `int` are `&lt;= Integer.MAX_VALUE`, so that invariant is not needed.","body":"All values of an <code>int</code> are <code>&lt;= Integer.MAX_VALUE</code>, so that invariant is not needed."},{"owner":{"account_id":19459170,"reputation":77,"user_id":14233801,"display_name":"Hamid Ayub"},"score":0,"creation_date":1679207908,"post_id":75779721,"comment_id":133677888,"body_markdown":"@tgdavies I have to add an Invariant for noUnexpectedExceptions as it is the one of the condditionns","body":"@tgdavies I have to add an Invariant for noUnexpectedExceptions as it is the one of the condditionns"}],"owner":{"account_id":19459170,"reputation":77,"user_id":14233801,"display_name":"Hamid Ayub"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679191847,"creation_date":1679191847,"question_id":75779721,"body_markdown":"I want to add two conditions in Invariant:\r\n 1. All Natural methods must guarantee (via PreconditionErrors or InvariantErrors) that operations resulting in an overflow are blocked\r\n 2. Ensure that no method throws an exception other than PreconditionError or InvariantError.\r\n\r\nFollowing is my code so far for the implementation. I am new to these java contracts so struggling to make it through.\r\n\r\n```\r\n//Add an invariant here.\r\n@Invariant({\r\n    &quot;data &gt;= 0&quot;,\r\n    &quot;data &lt;= Integer.MAX_VALUE&quot;,\r\n    &quot;noUnexpectedExceptions()&quot;    \r\n})\r\npublic class Natural implements Comparable&lt;Natural&gt; {\r\n\tprivate int data;\r\n\tprivate boolean noUnexpectedExceptions() {\r\n        try {\r\n            assert true;\r\n            return true;\r\n        } catch (PreconditionError | InvariantError e) {\r\n            return true;\r\n        } catch (Throwable t) {\r\n            return false;\r\n        }\r\n    }\r\n\t\r\n\tpublic void increment() {\r\n        data++;\r\n\t}\r\n\r\n\tpublic void decrement() {\r\n        data--;\r\n\t}\r\n}\r\n```\r\n","title":"Invariant that ensures that no method throws an exception other than PreconditionError or InvariantError","body":"<p>I want to add two conditions in Invariant:</p>\n<ol>\n<li>All Natural methods must guarantee (via PreconditionErrors or InvariantErrors) that operations resulting in an overflow are blocked</li>\n<li>Ensure that no method throws an exception other than PreconditionError or InvariantError.</li>\n</ol>\n<p>Following is my code so far for the implementation. I am new to these java contracts so struggling to make it through.</p>\n<pre><code>//Add an invariant here.\n@Invariant({\n    &quot;data &gt;= 0&quot;,\n    &quot;data &lt;= Integer.MAX_VALUE&quot;,\n    &quot;noUnexpectedExceptions()&quot;    \n})\npublic class Natural implements Comparable&lt;Natural&gt; {\n    private int data;\n    private boolean noUnexpectedExceptions() {\n        try {\n            assert true;\n            return true;\n        } catch (PreconditionError | InvariantError e) {\n            return true;\n        } catch (Throwable t) {\n            return false;\n        }\n    }\n    \n    public void increment() {\n        data++;\n    }\n\n    public void decrement() {\n        data--;\n    }\n}\n</code></pre>\n"},{"tags":["java","jdbc","jlink"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1560918573,"post_id":56656822,"comment_id":99889396,"body_markdown":"You can use `jdeps` to generate a `module-info.java` file then [compile it](https://stackoverflow.com/questions/47222226/how-to-inject-module-declaration-into-jar). Then you just need to add `module-info.class` to the JAR file, I believe.","body":"You can use <code>jdeps</code> to generate a <code>module-info.java</code> file then <a href=\"https://stackoverflow.com/questions/47222226/how-to-inject-module-declaration-into-jar\">compile it</a>. Then you just need to add <code>module-info.class</code> to the JAR file, I believe."},{"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"score":6,"creation_date":1560955171,"post_id":56656822,"comment_id":99908029,"body_markdown":"@Slaw this is a real pain. There are so many dependencies that will need to be modularized as well... Is there a way to use jlink to create a custom runtime but include extra legacy jars with the runtime outside ?","body":"@Slaw this is a real pain. There are so many dependencies that will need to be modularized as well... Is there a way to use jlink to create a custom runtime but include extra legacy jars with the runtime outside ?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1560956691,"post_id":56656822,"comment_id":99909006,"body_markdown":"Not with `jlink`. If you&#39;re using Maven you might be able to use [this plugin](https://github.com/moditect/moditect). Looks like they also have [a plugin](https://github.com/moditect/moditect-gradle-plugin/) for Gradle. You could also try [`jpackage`](https://jdk.java.net/jpackage/), though it&#39;s currently early-access and based on JDK 13. From my one-time experience with that tool it allows you to mix the modulepath/classpath _or_ explicit/automatic modules. However, unlike `jlink`, the `jpackage` tool provides zero support for cross-platform packaging.","body":"Not with <code>jlink</code>. If you&#39;re using Maven you might be able to use <a href=\"https://github.com/moditect/moditect\" rel=\"nofollow noreferrer\">this plugin</a>. Looks like they also have <a href=\"https://github.com/moditect/moditect-gradle-plugin/\" rel=\"nofollow noreferrer\">a plugin</a> for Gradle. You could also try <a href=\"https://jdk.java.net/jpackage/\" rel=\"nofollow noreferrer\"><code>jpackage</code></a>, though it&#39;s currently early-access and based on JDK 13. From my one-time experience with that tool it allows you to mix the modulepath/classpath <i>or</i> explicit/automatic modules. However, unlike <code>jlink</code>, the <code>jpackage</code> tool provides zero support for cross-platform packaging."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1560956942,"post_id":56656822,"comment_id":99909149,"body_markdown":"Note when I say, &quot;_mix the modulepath/classpath or explicit/automatic modules_&quot;, I really do mean either-or. If your code is modular, and you want to use it on the modulepath, then everything needs to be on the modulepath. This is because explicit modules don&#39;t have access to the classpath (i.e. the &quot;unnamed module&quot;). The dependencies on the modulepath don&#39;t have to be explicit modules, however; they can be automatic modules. If your code is non-modular, then you can have stuff on the modulepath and your code on the classpath (you&#39;ll probably have to use `--add-modules` though).","body":"Note when I say, &quot;<i>mix the modulepath/classpath or explicit/automatic modules</i>&quot;, I really do mean either-or. If your code is modular, and you want to use it on the modulepath, then everything needs to be on the modulepath. This is because explicit modules don&#39;t have access to the classpath (i.e. the &quot;unnamed module&quot;). The dependencies on the modulepath don&#39;t have to be explicit modules, however; they can be automatic modules. If your code is non-modular, then you can have stuff on the modulepath and your code on the classpath (you&#39;ll probably have to use <code>--add-modules</code> though)."},{"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"score":2,"creation_date":1606331246,"post_id":56656822,"comment_id":114935378,"body_markdown":"I think it is impossible to find any serious project that won&#39;t have modules with automatic module names, for example spring has them. So, jlink we can use only to create custom jre but not to link our project modules.","body":"I think it is impossible to find any serious project that won&#39;t have modules with automatic module names, for example spring has them. So, jlink we can use only to create custom jre but not to link our project modules."},{"owner":{"account_id":5502263,"reputation":155,"user_id":4371264,"display_name":"schwaller"},"score":0,"creation_date":1671491665,"post_id":56656822,"comment_id":132107084,"body_markdown":"Try using the gradle badass jlink plugin. It creates all the necessary module-info&#39;s if they are missing. Pretty fancy :) https://badass-jlink-plugin.beryx.org/","body":"Try using the gradle badass jlink plugin. It creates all the necessary module-info&#39;s if they are missing. Pretty fancy :) <a href=\"https://badass-jlink-plugin.beryx.org/\" rel=\"nofollow noreferrer\">badass-jlink-plugin.beryx.org</a>"},{"owner":{"account_id":6097291,"reputation":400,"user_id":4757683,"display_name":"Shaik"},"score":0,"creation_date":1675449477,"post_id":56656822,"comment_id":132938982,"body_markdown":"Try to find a version of the SQL Server JDBC driver that is packaged as a Java module, or you could use a different tool to create a custom runtime image, such as jdeps or the jlink plugin for Gradle or Maven.","body":"Try to find a version of the SQL Server JDBC driver that is packaged as a Java module, or you could use a different tool to create a custom runtime image, such as jdeps or the jlink plugin for Gradle or Maven."}],"answers":[{"tags":[],"owner":{"account_id":5199113,"reputation":31,"user_id":9757942,"display_name":"Stephen Parry"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679190725,"creation_date":1679190725,"answer_id":75779679,"question_id":56656822,"body_markdown":"If you are using Maven, you can use the `add-module-info` goal of the [moditect plugin][1]. Below is a snippet of pom.xml I used to make the h2 jdbc driver and engine work with jlink. The plugin creates a patched copy of the plugin in ${project.build.directory}/modules which can then be jlinked in. I had to create the `moduleInfoSource` section myself. To do that I used `jdeps --multi-release=11`, `java --describe-module` and the `moditect:generate-module-info` goal and examining the manifest file to work out the requires statements etc. - for these to work you have to include all the dependencies of the JDBC jar you are trying to jlink. H2 has a lot of &#39;optional&#39; features - I had to manually mark the requires for those as static. All this is pretty tedious, but if you do the same for the SQL Server JDBC driver, it should work for future releases, until an official modular component is released:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-jlink-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;extensions&gt;true&lt;/extensions&gt;\r\n        &lt;configuration&gt;\r\n            &lt;launcher&gt;myapp=myappmodule/mypackage.MainClass&lt;/launcher&gt;\r\n            &lt;modulePaths&gt;\r\n               &lt;modulePath&gt;${project.build.directory}/modules&lt;/modulePath&gt;\r\n            &lt;/modulePaths&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n    \r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.moditect&lt;/groupId&gt;\r\n        &lt;artifactId&gt;moditect-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0.RC2&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;add-module-infos&lt;/id&gt;\r\n                &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;add-module-info&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputDirectory&gt;${project.build.directory}/modules&lt;/outputDirectory&gt;\r\n                    &lt;modules&gt;\r\n                        &lt;module&gt;\r\n                            &lt;artifact&gt;\r\n                                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                                &lt;version&gt;2.1.214&lt;/version&gt;\r\n                            &lt;/artifact&gt;\r\n                            &lt;moduleInfoSource&gt;\r\n                                module com.h2database {\r\n                                requires java.compiler;\r\n                                requires jdk.net;\r\n                                requires static lucene.core;\r\n                                requires static lucene.queryparser;\r\n                                requires static slf4j.api;\r\n                                requires static jakarta.servlet;\r\n                                requires transitive java.desktop;\r\n                                requires transitive java.instrument;\r\n                                requires java.logging;\r\n                                requires transitive java.management;\r\n                                requires static java.naming;\r\n                                requires transitive java.scripting;\r\n                                requires java.sql;\r\n                                requires transitive java.transaction.xa;\r\n                                requires transitive java.xml;\r\n                                requires static javax.servlet.api;\r\n                                requires static org.locationtech.jts;\r\n                                requires static org.osgi.service.jdbc;\r\n                                requires static osgi.core;\r\n                                provides java.sql.Driver with org.h2.Driver;\r\n                                }\r\n                            &lt;/moduleInfoSource&gt;\r\n                        &lt;/module&gt;\r\n                    &lt;/modules&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://github.com/moditect/moditect","title":"Java 11 JLink getting error: automatic module cannot be used with jlink: com.microsoft.sqlserver.jdbc from file","body":"<p>If you are using Maven, you can use the <code>add-module-info</code> goal of the <a href=\"https://github.com/moditect/moditect\" rel=\"nofollow noreferrer\">moditect plugin</a>. Below is a snippet of pom.xml I used to make the h2 jdbc driver and engine work with jlink. The plugin creates a patched copy of the plugin in ${project.build.directory}/modules which can then be jlinked in. I had to create the <code>moduleInfoSource</code> section myself. To do that I used <code>jdeps --multi-release=11</code>, <code>java --describe-module</code> and the <code>moditect:generate-module-info</code> goal and examining the manifest file to work out the requires statements etc. - for these to work you have to include all the dependencies of the JDBC jar you are trying to jlink. H2 has a lot of 'optional' features - I had to manually mark the requires for those as static. All this is pretty tedious, but if you do the same for the SQL Server JDBC driver, it should work for future releases, until an official modular component is released:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-jlink-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;extensions&gt;true&lt;/extensions&gt;\n    &lt;configuration&gt;\n        &lt;launcher&gt;myapp=myappmodule/mypackage.MainClass&lt;/launcher&gt;\n        &lt;modulePaths&gt;\n           &lt;modulePath&gt;${project.build.directory}/modules&lt;/modulePath&gt;\n        &lt;/modulePaths&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n\n&lt;plugin&gt;\n    &lt;groupId&gt;org.moditect&lt;/groupId&gt;\n    &lt;artifactId&gt;moditect-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0.RC2&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;add-module-infos&lt;/id&gt;\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;add-module-info&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${project.build.directory}/modules&lt;/outputDirectory&gt;\n                &lt;modules&gt;\n                    &lt;module&gt;\n                        &lt;artifact&gt;\n                            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n                            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n                            &lt;version&gt;2.1.214&lt;/version&gt;\n                        &lt;/artifact&gt;\n                        &lt;moduleInfoSource&gt;\n                            module com.h2database {\n                            requires java.compiler;\n                            requires jdk.net;\n                            requires static lucene.core;\n                            requires static lucene.queryparser;\n                            requires static slf4j.api;\n                            requires static jakarta.servlet;\n                            requires transitive java.desktop;\n                            requires transitive java.instrument;\n                            requires java.logging;\n                            requires transitive java.management;\n                            requires static java.naming;\n                            requires transitive java.scripting;\n                            requires java.sql;\n                            requires transitive java.transaction.xa;\n                            requires transitive java.xml;\n                            requires static javax.servlet.api;\n                            requires static org.locationtech.jts;\n                            requires static org.osgi.service.jdbc;\n                            requires static osgi.core;\n                            provides java.sql.Driver with org.h2.Driver;\n                            }\n                        &lt;/moduleInfoSource&gt;\n                    &lt;/module&gt;\n                &lt;/modules&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8379,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":1,"score":26,"last_activity_date":1679190725,"creation_date":1560890903,"question_id":56656822,"body_markdown":"I&#39;m trying to add a JDBC connector module to my project with Java 11. I downloaded the MSSqlServer JDBC driver 7.2 for Java 11\r\n\r\nhttps://www.microsoft.com/en-us/download/details.aspx?id=57782\r\n\r\nI added the module :\r\n\r\n    requires com.microsoft.sqlserver.jdbc;\r\n\r\n\r\nYet when I try to clean+build, NetBeans tells me:\r\n\r\n    Error: automatic module cannot be used with jlink: com.microsoft.sqlserver.jdbc from file: /sqljdbc_7.2/enu/mssql-jdbc-7.2.2.jre11.jar\r\n\r\nI&#39;m pretty sure this is because the jar doesn&#39;t have a compiled `module-info.java`. However, I was wondering if there is a way to inject one in there? ","title":"Java 11 JLink getting error: automatic module cannot be used with jlink: com.microsoft.sqlserver.jdbc from file","body":"<p>I'm trying to add a JDBC connector module to my project with Java 11. I downloaded the MSSqlServer JDBC driver 7.2 for Java 11</p>\n\n<p><a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=57782\" rel=\"noreferrer\">https://www.microsoft.com/en-us/download/details.aspx?id=57782</a></p>\n\n<p>I added the module :</p>\n\n<pre><code>requires com.microsoft.sqlserver.jdbc;\n</code></pre>\n\n<p>Yet when I try to clean+build, NetBeans tells me:</p>\n\n<pre><code>Error: automatic module cannot be used with jlink: com.microsoft.sqlserver.jdbc from file: /sqljdbc_7.2/enu/mssql-jdbc-7.2.2.jre11.jar\n</code></pre>\n\n<p>I'm pretty sure this is because the jar doesn't have a compiled <code>module-info.java</code>. However, I was wondering if there is a way to inject one in there? </p>\n"},{"tags":["java","string","spring-boot","lombok","final"],"answers":[{"comments":[{"owner":{"account_id":20848433,"reputation":9,"user_id":15313467,"display_name":"Akihiki"},"score":0,"creation_date":1679299356,"post_id":75779168,"comment_id":133689798,"body_markdown":"but also when i write the constructor with my hand it is one constructor in the class so why didn&#39;t it use DI in that case too","body":"but also when i write the constructor with my hand it is one constructor in the class so why didn&#39;t it use DI in that case too"},{"owner":{"account_id":7731146,"reputation":1057,"user_id":6791953,"accept_rate":73,"display_name":"iLyas"},"score":0,"creation_date":1679316865,"post_id":75779168,"comment_id":133694416,"body_markdown":"@firoudreda in your example you wrote `@Value` in the constructor that&#39;s why it&#39;s working. If you delete the `@Value` it will not work, like I mentioned in my response Lombok doesn&#39;t recognize instance variable annotations such as @Value","body":"@firoudreda in your example you wrote <code>@Value</code> in the constructor that&#39;s why it&#39;s working. If you delete the <code>@Value</code> it will not work, like I mentioned in my response Lombok doesn&#39;t recognize instance variable annotations such as @Value"}],"tags":[],"owner":{"account_id":7731146,"reputation":1057,"user_id":6791953,"accept_rate":73,"display_name":"iLyas"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679182292,"creation_date":1679180638,"answer_id":75779168,"question_id":75779099,"body_markdown":"By using `@AllArgsConstructor`, you are using a **Constructor Injection** under the hood, by default when you have only ONE constructor in your Spring component class, it will use DI.\r\n\r\nWhat I mean by under the hood is that *Lombok* wrote a code similar to this:\r\n\r\n    public YourSeviceClass(String test) {\r\n            this.test = test;\r\n    }\r\n\r\nAnd in your example, there no `String` bean declared in your application, so the Spring container can&#39;t inject it. \r\n\r\nCreate a separate config class that contains your login configs. Don&#39;t mix everything in your service class, it will make you code so ugly and **hard to read** in the future.\r\n\r\nExample (Use Records if you are using Java 17):\r\n\r\n    @ConfigurationProperties(prefix = &quot;app.alfresco...ect&quot;)\r\n    public class PropertyConfig {\r\n    \r\n        private String myVariableName;\r\n        ...\r\n    }\r\n\r\nCheck this for more details: [https://www.baeldung.com/configuration-properties-in-spring-boot][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/configuration-properties-in-spring-boot","title":"How does the lombok constructor differ from the normal constructor (generally and when using the final keyword and when using the @value() keyword)","body":"<p>By using <code>@AllArgsConstructor</code>, you are using a <strong>Constructor Injection</strong> under the hood, by default when you have only ONE constructor in your Spring component class, it will use DI.</p>\n<p>What I mean by under the hood is that <em>Lombok</em> wrote a code similar to this:</p>\n<pre><code>public YourSeviceClass(String test) {\n        this.test = test;\n}\n</code></pre>\n<p>And in your example, there no <code>String</code> bean declared in your application, so the Spring container can't inject it.</p>\n<p>Create a separate config class that contains your login configs. Don't mix everything in your service class, it will make you code so ugly and <strong>hard to read</strong> in the future.</p>\n<p>Example (Use Records if you are using Java 17):</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;app.alfresco...ect&quot;)\npublic class PropertyConfig {\n\n    private String myVariableName;\n    ...\n}\n</code></pre>\n<p>Check this for more details: <a href=\"https://www.baeldung.com/configuration-properties-in-spring-boot\" rel=\"nofollow noreferrer\">https://www.baeldung.com/configuration-properties-in-spring-boot</a></p>\n"},{"comments":[{"owner":{"account_id":20848433,"reputation":9,"user_id":15313467,"display_name":"Akihiki"},"score":0,"creation_date":1679299440,"post_id":75779388,"comment_id":133689814,"body_markdown":"thanks i will look up the difference between allargsconstructor and requiredargsconstructor","body":"thanks i will look up the difference between allargsconstructor and requiredargsconstructor"}],"tags":[],"owner":{"account_id":8316955,"reputation":94,"user_id":6249883,"display_name":"BugKiller"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679184647,"creation_date":1679184647,"answer_id":75779388,"question_id":75779099,"body_markdown":"- I think when you use it in the bean class of spring boot, it is equivalent to calling spring to help you inject a bean object named `authUrl` and its type is `java.lang.String`. Obviously, you did not define a bean object with `authUrl`, so an error was reported.\r\n\r\n- If you really need to use `@AllArgsConstructor` to assign values to class members, I suggest you use `@RequiredArgsConstructor`  instead of it, and at the same time, use final modification for the member variables that need to be constructed. Others, such as `authUrl` in your example, do not need to use final modify.\r\n\r\n- Hope that will helps you, good luck","title":"How does the lombok constructor differ from the normal constructor (generally and when using the final keyword and when using the @value() keyword)","body":"<ul>\n<li><p>I think when you use it in the bean class of spring boot, it is equivalent to calling spring to help you inject a bean object named <code>authUrl</code> and its type is <code>java.lang.String</code>. Obviously, you did not define a bean object with <code>authUrl</code>, so an error was reported.</p>\n</li>\n<li><p>If you really need to use <code>@AllArgsConstructor</code> to assign values to class members, I suggest you use <code>@RequiredArgsConstructor</code>  instead of it, and at the same time, use final modification for the member variables that need to be constructed. Others, such as <code>authUrl</code> in your example, do not need to use final modify.</p>\n</li>\n<li><p>Hope that will helps you, good luck</p>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":20848433,"reputation":9,"user_id":15313467,"display_name":"Akihiki"},"score":0,"creation_date":1679481418,"post_id":75779616,"comment_id":133728487,"body_markdown":"Thanks man its helpful i searched after reading your comment and @iLyas&#39;s and its really helpful","body":"Thanks man its helpful i searched after reading your comment and @iLyas&#39;s and its really helpful"}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679189283,"creation_date":1679189283,"answer_id":75779616,"question_id":75779099,"body_markdown":"Since `lombok` has no idea what to do with `@Value` annotation over field declaration, it does nothing and creates constructor like:\r\n\r\n```java\r\n    public GedAuthenticationServiceImpl(String authUrl) {\r\n        this.authUrl = authUrl;\r\n    }\r\n```\r\n\r\nwhich in turn causes `spring` to fail, because now `spring` has no idea what to do with that constructor. On `lombok` side that is possible ask it to copy field annotations to constructor parameters - please check [`lombok.copyableAnnotations` configuration key](https://projectlombok.org/features/constructor), however, I would suggest to pay attention to [@iLyas suggestion](https://stackoverflow.com/a/75779168/3426309) and start using `@ConfigurationProperties`.","title":"How does the lombok constructor differ from the normal constructor (generally and when using the final keyword and when using the @value() keyword)","body":"<p>Since <code>lombok</code> has no idea what to do with <code>@Value</code> annotation over field declaration, it does nothing and creates constructor like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public GedAuthenticationServiceImpl(String authUrl) {\n        this.authUrl = authUrl;\n    }\n</code></pre>\n<p>which in turn causes <code>spring</code> to fail, because now <code>spring</code> has no idea what to do with that constructor. On <code>lombok</code> side that is possible ask it to copy field annotations to constructor parameters - please check <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\"><code>lombok.copyableAnnotations</code> configuration key</a>, however, I would suggest to pay attention to <a href=\"https://stackoverflow.com/a/75779168/3426309\">@iLyas suggestion</a> and start using <code>@ConfigurationProperties</code>.</p>\n"}],"owner":{"account_id":20848433,"reputation":9,"user_id":15313467,"display_name":"Akihiki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75779168,"answer_count":3,"score":1,"last_activity_date":1679189283,"creation_date":1679179536,"question_id":75779099,"body_markdown":"So i&#39;m working on a project using spring \r\ni&#39;m trying to define a string value using the propreties.yml file \r\nusing @Value(&quot;${sthg.sthg}&quot;)\r\nhere is an image of it\r\n```java\r\n@Service\r\n@Transactional\r\n@Slf4j\r\n@AllArgsConstructor\r\npublic class GedAuthenticationServiceImpl implements GedAuthenticationService {\r\n    @Value(&quot;${app.alfresco.alfresco_urls.alfresco_login_url}&quot;)\r\n    private  final String authUrl;\r\n\r\n```\r\nand i get this error \r\n```\r\nParameter 0 of constructor in package.class required a bean of type &#39;java.lang.String&#39; that could not be found.\r\n```\r\nand if i use the normal constructor like this \r\n```java\r\n@Service\r\n@Transactional\r\n@Slf4j\r\npublic class GedAuthenticationServiceImpl implements GedAuthenticationService {\r\n    private  final String authUrl;\r\n\r\n    public GedAuthenticationServiceImpl( @Value(&quot;${app.alfresco.alfresco_urls.alfresco_login_url}&quot;) String authUrl) {\r\n        this.authUrl = authUrl;\r\n    }\r\n```\r\nit works just finneee\r\n\r\n\r\n\r\nas i said i used the normal constructor but i don&#39;t know why it wouldn&#39;t work with the other one \r\nand i can&#39;t seem to get the difference between the too cases\r\n","title":"How does the lombok constructor differ from the normal constructor (generally and when using the final keyword and when using the @value() keyword)","body":"<p>So i'm working on a project using spring\ni'm trying to define a string value using the propreties.yml file\nusing @Value(&quot;${sthg.sthg}&quot;)\nhere is an image of it</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Transactional\n@Slf4j\n@AllArgsConstructor\npublic class GedAuthenticationServiceImpl implements GedAuthenticationService {\n    @Value(&quot;${app.alfresco.alfresco_urls.alfresco_login_url}&quot;)\n    private  final String authUrl;\n\n</code></pre>\n<p>and i get this error</p>\n<pre><code>Parameter 0 of constructor in package.class required a bean of type 'java.lang.String' that could not be found.\n</code></pre>\n<p>and if i use the normal constructor like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Transactional\n@Slf4j\npublic class GedAuthenticationServiceImpl implements GedAuthenticationService {\n    private  final String authUrl;\n\n    public GedAuthenticationServiceImpl( @Value(&quot;${app.alfresco.alfresco_urls.alfresco_login_url}&quot;) String authUrl) {\n        this.authUrl = authUrl;\n    }\n</code></pre>\n<p>it works just finneee</p>\n<p>as i said i used the normal constructor but i don't know why it wouldn't work with the other one\nand i can't seem to get the difference between the too cases</p>\n"},{"tags":["java","hibernate","jpa","micronaut","hibernate-envers"],"owner":{"account_id":9274184,"reputation":43,"user_id":6887293,"display_name":"georgy3k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679188778,"creation_date":1679185142,"question_id":75779412,"body_markdown":"I am trying to integrate auditing into my Micronaut application which is being served in an AWS Lambda. This works perfectly when I run the application locally, however when I deploy this to my Lambda, the application throws the following exception:\r\n\r\n    io.micronaut.context.exceptions.ConfigurationException: Exception thrown instantiating MicronautLambdaRuntimeHandler\r\n    at io.micronaut.function.aws.runtime.MicronautLambdaRuntime.createRequestHandler(MicronautLambdaRuntime.java:40)\r\n    at io.micronaut.function.aws.runtime.AbstractMicronautLambdaRuntime.createHandler(AbstractMicronautLambdaRuntime.java:219)\r\n    at io.micronaut.function.aws.runtime.AbstractMicronautLambdaRuntime.startRuntimeApiEventLoop(AbstractMicronautLambdaRuntime.java:340)\r\n    at io.micronaut.function.aws.runtime.AbstractMicronautLambdaRuntime.run(AbstractMicronautLambdaRuntime.java:146)\r\n    at io.micronaut.function.aws.runtime.MicronautLambdaRuntime.main(MicronautLambdaRuntime.java:50)\r\n    Caused by: com.amazonaws.serverless.exceptions.ContainerInitializationException: Error starting Micronaut container: Bean definition [io.micronaut.transaction.hibernate5.HibernateTransactionManager] could not be loaded: Error instantiating bean of type [org.hibernate.boot.SessionFactoryBuilder]\r\n    Path Taken: new HibernateTransactionManager(SessionFactory sessionFactory,DataSource dataSource,Interceptor entityInterceptor,String name) --&gt; new HibernateTransactionManager([SessionFactory sessionFactory],DataSource dataSource,Interceptor entityInterceptor,String name) --&gt; SessionFactory.buildHibernateSessionFactoryBuilder([SessionFactoryBuilder sessionFactoryBuilder]) --&gt; SessionFactoryBuilder.buildHibernateSessionFactoryBuilder([Metadata metadata],JpaConfiguration jpaConfiguration,String name)\r\n    at io.micronaut.function.aws.proxy.MicronautLambdaContainerHandler.initialize(MicronautLambdaContainerHandler.java:263)\r\n    at io.micronaut.function.aws.proxy.MicronautLambdaContainerHandler.&lt;init&gt;(MicronautLambdaContainerHandler.java:196)\r\n    at io.micronaut.function.aws.proxy.MicronautLambdaContainerHandler.&lt;init&gt;(MicronautLambdaContainerHandler.java:149)\r\n    at io.micronaut.function.aws.proxy.MicronautLambdaHandler.&lt;init&gt;(MicronautLambdaHandler.java:54)\r\n    at io.micronaut.function.aws.runtime.MicronautLambdaRuntime.createRequestHandler(MicronautLambdaRuntime.java:38)\r\n    Caused by: io.micronaut.context.exceptions.BeanInstantiationException: Bean definition [io.micronaut.transaction.hibernate5.HibernateTransactionManager] could not be loaded: Error instantiating bean of type [org.hibernate.boot.SessionFactoryBuilder]\r\n    Path Taken: new HibernateTransactionManager(SessionFactory sessionFactory,DataSource dataSource,Interceptor entityInterceptor,String name) --&gt; new HibernateTransactionManager([SessionFactory sessionFactory],DataSource dataSource,Interceptor entityInterceptor,String name) --&gt; SessionFactory.buildHibernateSessionFactoryBuilder([SessionFactoryBuilder sessionFactoryBuilder]) --&gt; SessionFactoryBuilder.buildHibernateSessionFactoryBuilder([Metadata metadata],JpaConfiguration jpaConfiguration,String name)\r\n    at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1921)\r\n    at io.micronaut.context.DefaultApplicationContext.initializeContext(DefaultApplicationContext.java:249)\r\n    at io.micronaut.context.DefaultBeanContext.readAllBeanDefinitionClasses(DefaultBeanContext.java:3326)\r\n    at io.micronaut.context.DefaultBeanContext.finalizeConfiguration(DefaultBeanContext.java:3684)\r\n    at io.micronaut.context.DefaultBeanContext.start(DefaultBeanContext.java:341)\r\n    at io.micronaut.context.DefaultApplicationContext.start(DefaultApplicationContext.java:194)\r\n    at io.micronaut.function.aws.proxy.MicronautLambdaContainerHandler.initialize(MicronautLambdaContainerHandler.java:259)\r\n    Caused by: io.micronaut.context.exceptions.BeanInstantiationException: Error instantiating bean of type [org.hibernate.boot.SessionFactoryBuilder]\r\n    Path Taken: new HibernateTransactionManager(SessionFactory sessionFactory,DataSource dataSource,Interceptor entityInterceptor,String name) --&gt; new HibernateTransactionManager([SessionFactory sessionFactory],DataSource dataSource,Interceptor entityInterceptor,String name) --&gt; SessionFactory.buildHibernateSessionFactoryBuilder([SessionFactoryBuilder sessionFactoryBuilder]) --&gt; SessionFactoryBuilder.buildHibernateSessionFactoryBuilder([Metadata metadata],JpaConfiguration jpaConfiguration,String name)\r\n    at io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2367)\r\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2305)\r\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2251)\r\n    at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3016)\r\n    at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)\r\n    at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:2918)\r\n    at io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2879)\r\n    at io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2800)\r\n    at io.micronaut.context.DefaultBeanContext.getBean(DefaultBeanContext.java:1617)\r\n    at io.micronaut.context.AbstractBeanResolutionContext.getBean(AbstractBeanResolutionContext.java:66)\r\n    at io.micronaut.context.AbstractInitializableBeanDefinition.resolveBean(AbstractInitializableBeanDefinition.java:2065)\r\n    at io.micronaut.context.AbstractInitializableBeanDefinition.getBeanForConstructorArgument(AbstractInitializableBeanDefinition.java:1297)\r\n    at io.micronaut.configuration.hibernate.jpa.conf.$SessionFactoryPerDataSourceFactory$BuildHibernateSessionFactoryBuilder3$Definition.doBuild(Unknown Source)\r\n    at io.micronaut.context.AbstractInitializableBeanDefinition.build(AbstractInitializableBeanDefinition.java:769)\r\n    at io.micronaut.context.BeanDefinitionDelegate.build(BeanDefinitionDelegate.java:158)\r\n    at io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2354)\r\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2305)\r\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2251)\r\n    at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3016)\r\n    at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)\r\n    at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:2918)\r\n    at io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2879)\r\n    at io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2800)\r\n    at io.micronaut.context.DefaultBeanContext.getBean(DefaultBeanContext.java:1617)\r\n    at io.micronaut.context.AbstractBeanResolutionContext.getBean(AbstractBeanResolutionContext.java:66)\r\n    at io.micronaut.context.AbstractInitializableBeanDefinition.resolveBean(AbstractInitializableBeanDefinition.java:2065)\r\n    at io.micronaut.context.AbstractInitializableBeanDefinition.getBeanForConstructorArgument(AbstractInitializableBeanDefinition.java:1297)\r\n    at io.micronaut.configuration.hibernate.jpa.conf.$SessionFactoryPerDataSourceFactory$BuildHibernateSessionFactoryBuilder4$Definition.build(Unknown Source)\r\n    at io.micronaut.context.BeanDefinitionDelegate.build(BeanDefinitionDelegate.java:161)\r\n    at io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2354)\r\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2305)\r\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2251)\r\n    at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3016)\r\n    at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)\r\n    at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:2918)\r\n    at io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2879)\r\n    at io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2800)\r\n    at io.micronaut.context.DefaultBeanContext.findBean(DefaultBeanContext.java:1680)\r\n    at io.micronaut.context.BeanDefinitionDelegate.getParametersValues(BeanDefinitionDelegate.java:195)\r\n    at io.micronaut.context.BeanDefinitionDelegate.build(BeanDefinitionDelegate.java:157)\r\n    at io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2354)\r\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2305)\r\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2251)\r\n    at io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3016)\r\n    at io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)\r\n    at io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:2918)\r\n    at io.micronaut.context.DefaultBeanContext.loadContextScopeBean(DefaultBeanContext.java:2737)\r\n    at io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1915)\r\n    Caused by: java.lang.ExceptionInInitializerError\r\n    at org.hibernate.boot.jaxb.internal.MappingBinder.doBind(MappingBinder.java:53)\r\n    at org.hibernate.boot.jaxb.internal.AbstractBinder.doBind(AbstractBinder.java:103)\r\n    at org.hibernate.boot.jaxb.internal.AbstractBinder.bind(AbstractBinder.java:58)\r\n    at org.hibernate.envers.boot.internal.AdditionalJaxbMappingProducerImpl$1.addDocument(AdditionalJaxbMappingProducerImpl.java:103)\r\n    at org.hibernate.envers.configuration.internal.EntitiesConfigurator.configure(EntitiesConfigurator.java:111)\r\n    at org.hibernate.envers.boot.internal.EnversServiceImpl.doInitialize(EnversServiceImpl.java:149)\r\n    at org.hibernate.envers.boot.internal.EnversServiceImpl.initialize(EnversServiceImpl.java:113)\r\n    at org.hibernate.envers.boot.internal.AdditionalJaxbMappingProducerImpl.produceAdditionalMappings(AdditionalJaxbMappingProducerImpl.java:110)\r\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:306)\r\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:86)\r\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:479)\r\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:85)\r\n    at org.hibernate.boot.MetadataSources.buildMetadata(MetadataSources.java:202)\r\n    at io.micronaut.configuration.hibernate.jpa.conf.AbstractHibernateFactory.buildMetadata(AbstractHibernateFactory.java:92)\r\n    at io.micronaut.configuration.hibernate.jpa.conf.SessionFactoryPerDataSourceFactory.buildMetadata(SessionFactoryPerDataSourceFactory.java:88)\r\n    at io.micronaut.configuration.hibernate.jpa.conf.$SessionFactoryPerDataSourceFactory$BuildMetadata2$Definition.doBuild(Unknown Source)\r\n    at io.micronaut.context.AbstractInitializableBeanDefinition.build(AbstractInitializableBeanDefinition.java:769)\r\n    at io.micronaut.context.BeanDefinitionDelegate.build(BeanDefinitionDelegate.java:158)\r\n    at io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2354)\r\n    Caused by: org.hibernate.internal.util.xml.XsdException: Unable to locate schema [org/hibernate/jpa/orm_1_0.xsd] via classpath\r\n    at org.hibernate.boot.xsd.LocalXsdResolver.resolveLocalXsdSchema(LocalXsdResolver.java:90)\r\n    at org.hibernate.boot.xsd.LocalXsdResolver.buildXsdDescriptor(LocalXsdResolver.java:117)\r\n    at org.hibernate.boot.xsd.MappingXsdSupport.&lt;init&gt;(MappingXsdSupport.java:23)\r\n    at org.hibernate.boot.xsd.MappingXsdSupport.&lt;clinit&gt;(MappingXsdSupport.java:21)\r\n    Request loop failed with: Exception thrown instantiating MicronautLambdaRuntimeHandler\r\n\r\nHere is a copy of the pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;envers&lt;/artifactId&gt;\r\n      &lt;version&gt;0.1&lt;/version&gt;\r\n      &lt;packaging&gt;${packaging}&lt;/packaging&gt;\r\n    \r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n        &lt;artifactId&gt;micronaut-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.0&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;jdk.version&gt;11&lt;/jdk.version&gt;\r\n        &lt;release.version&gt;11&lt;/release.version&gt;\r\n        &lt;micronaut.version&gt;3.8.0&lt;/micronaut.version&gt;\r\n        &lt;micronaut.test.resources.enabled&gt;true&lt;/micronaut.test.resources.enabled&gt;\r\n        &lt;exec.mainClass&gt;io.micronaut.function.aws.runtime.MicronautLambdaRuntime&lt;/exec.mainClass&gt;\r\n        &lt;micronaut.data.version&gt;3.9.1&lt;/micronaut.data.version&gt;\r\n        &lt;micronaut.runtime&gt;lambda&lt;/micronaut.runtime&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;central&lt;/id&gt;\r\n          &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n          &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n          &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.micronaut.aws&lt;/groupId&gt;\r\n          &lt;artifactId&gt;micronaut-function-aws-api-proxy&lt;/artifactId&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.micronaut.aws&lt;/groupId&gt;\r\n          &lt;artifactId&gt;micronaut-function-aws-api-proxy-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.micronaut.aws&lt;/groupId&gt;\r\n          &lt;artifactId&gt;micronaut-function-aws-custom-runtime&lt;/artifactId&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n          &lt;artifactId&gt;micronaut-http-client&lt;/artifactId&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n          &lt;artifactId&gt;micronaut-http-server-netty&lt;/artifactId&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n          &lt;artifactId&gt;micronaut-jackson-databind&lt;/artifactId&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\r\n          &lt;artifactId&gt;micronaut-data-hibernate-jpa&lt;/artifactId&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.micronaut.sql&lt;/groupId&gt;\r\n          &lt;artifactId&gt;micronaut-jdbc-hikari&lt;/artifactId&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n          &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.micronaut.test&lt;/groupId&gt;\r\n          &lt;artifactId&gt;micronaut-test-junit5&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-envers --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n          &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\r\n          &lt;version&gt;5.6.11.Final&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;jaxen&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxen&lt;/artifactId&gt;\r\n          &lt;version&gt;1.1.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;io.micronaut.build&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micronaut-maven-plugin&lt;/artifactId&gt;\r\n              &lt;configuration&gt;\r\n              &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          \r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;!-- Uncomment to enable incremental compilation --&gt;\r\n              &lt;!-- &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt; --&gt;\r\n    \r\n              &lt;annotationProcessorPaths combine.self=&quot;override&quot;&gt;\r\n                &lt;path&gt;\r\n                  &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\r\n                  &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n                &lt;/path&gt;\r\n                &lt;path&gt;\r\n                  &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;micronaut-data-processor&lt;/artifactId&gt;\r\n                  &lt;version&gt;${micronaut.data.version}&lt;/version&gt;\r\n                &lt;/path&gt;\r\n                &lt;path&gt;\r\n                  &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;micronaut-graal&lt;/artifactId&gt;\r\n                  &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n                &lt;/path&gt;\r\n                &lt;path&gt;\r\n                  &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;micronaut-http-validation&lt;/artifactId&gt;\r\n                  &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n                &lt;/path&gt;\r\n                &lt;path&gt;\r\n                  &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\r\n                  &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n                &lt;/path&gt;\r\n              &lt;/annotationProcessorPaths&gt;\r\n              &lt;compilerArgs&gt;\r\n                &lt;arg&gt;-Amicronaut.processing.group=com.example&lt;/arg&gt;\r\n                &lt;arg&gt;-Amicronaut.processing.module=envers&lt;/arg&gt;\r\n              &lt;/compilerArgs&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nHere is a copy of my yaml:\r\n\r\n    micronaut:\r\n      application:\r\n        name: envers\r\n    datasources:\r\n      default:\r\n        url: ${database.url:`InsertDBUrl`}\r\n        username: ${database.username:InsertUsername}\r\n        password: ${database.password:InsertPassword}\r\n        driverClassName: ${database.driver:com.mysql.cj.jdbc.Driver}\r\n    jpa:\r\n      default:\r\n        entity-scan:\r\n          packages: &#39;com.example.model&#39;\r\n        properties:\r\n          hibernate:\r\n            hbm2ddl:\r\n              auto: create\r\n\r\nHere is a copy of my Entity:\r\n\r\n    package com.example.model;\r\n    \r\n    import org.hibernate.envers.Audited;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Audited\r\n    public class EnversEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        private Long id;\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    }\r\n\r\nA sample of this project can be found here also:\r\n\r\nhttps://github.com/georgy3k/mn-envers\r\n\r\nTo create the native executable, I followed the following steps:\r\n\r\n    sdk install java 22.3.r11-grl\r\n\r\n\r\nAfter installing GraalVM, install the native-image component, which is not installed by default:\r\n\r\n    gu install native-image\r\n\r\nThe command below generates a ZIP file which contains a GraalVM Native Executable of the application, and a bootstrap file which executes the native executable. The GraalVM Native Executable of the application is generated inside a Docker container.\r\n\r\n    ./mvnw package -Dpackaging=docker-native -Dmicronaut.runtime=lambda -Pgraalvm","title":"Hibernate Envers throwing ContainerInitializationException in Micronaut App in AWS Lambda","body":"<p>I am trying to integrate auditing into my Micronaut application which is being served in an AWS Lambda. This works perfectly when I run the application locally, however when I deploy this to my Lambda, the application throws the following exception:</p>\n<pre><code>io.micronaut.context.exceptions.ConfigurationException: Exception thrown instantiating MicronautLambdaRuntimeHandler\nat io.micronaut.function.aws.runtime.MicronautLambdaRuntime.createRequestHandler(MicronautLambdaRuntime.java:40)\nat io.micronaut.function.aws.runtime.AbstractMicronautLambdaRuntime.createHandler(AbstractMicronautLambdaRuntime.java:219)\nat io.micronaut.function.aws.runtime.AbstractMicronautLambdaRuntime.startRuntimeApiEventLoop(AbstractMicronautLambdaRuntime.java:340)\nat io.micronaut.function.aws.runtime.AbstractMicronautLambdaRuntime.run(AbstractMicronautLambdaRuntime.java:146)\nat io.micronaut.function.aws.runtime.MicronautLambdaRuntime.main(MicronautLambdaRuntime.java:50)\nCaused by: com.amazonaws.serverless.exceptions.ContainerInitializationException: Error starting Micronaut container: Bean definition [io.micronaut.transaction.hibernate5.HibernateTransactionManager] could not be loaded: Error instantiating bean of type [org.hibernate.boot.SessionFactoryBuilder]\nPath Taken: new HibernateTransactionManager(SessionFactory sessionFactory,DataSource dataSource,Interceptor entityInterceptor,String name) --&gt; new HibernateTransactionManager([SessionFactory sessionFactory],DataSource dataSource,Interceptor entityInterceptor,String name) --&gt; SessionFactory.buildHibernateSessionFactoryBuilder([SessionFactoryBuilder sessionFactoryBuilder]) --&gt; SessionFactoryBuilder.buildHibernateSessionFactoryBuilder([Metadata metadata],JpaConfiguration jpaConfiguration,String name)\nat io.micronaut.function.aws.proxy.MicronautLambdaContainerHandler.initialize(MicronautLambdaContainerHandler.java:263)\nat io.micronaut.function.aws.proxy.MicronautLambdaContainerHandler.&lt;init&gt;(MicronautLambdaContainerHandler.java:196)\nat io.micronaut.function.aws.proxy.MicronautLambdaContainerHandler.&lt;init&gt;(MicronautLambdaContainerHandler.java:149)\nat io.micronaut.function.aws.proxy.MicronautLambdaHandler.&lt;init&gt;(MicronautLambdaHandler.java:54)\nat io.micronaut.function.aws.runtime.MicronautLambdaRuntime.createRequestHandler(MicronautLambdaRuntime.java:38)\nCaused by: io.micronaut.context.exceptions.BeanInstantiationException: Bean definition [io.micronaut.transaction.hibernate5.HibernateTransactionManager] could not be loaded: Error instantiating bean of type [org.hibernate.boot.SessionFactoryBuilder]\nPath Taken: new HibernateTransactionManager(SessionFactory sessionFactory,DataSource dataSource,Interceptor entityInterceptor,String name) --&gt; new HibernateTransactionManager([SessionFactory sessionFactory],DataSource dataSource,Interceptor entityInterceptor,String name) --&gt; SessionFactory.buildHibernateSessionFactoryBuilder([SessionFactoryBuilder sessionFactoryBuilder]) --&gt; SessionFactoryBuilder.buildHibernateSessionFactoryBuilder([Metadata metadata],JpaConfiguration jpaConfiguration,String name)\nat io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1921)\nat io.micronaut.context.DefaultApplicationContext.initializeContext(DefaultApplicationContext.java:249)\nat io.micronaut.context.DefaultBeanContext.readAllBeanDefinitionClasses(DefaultBeanContext.java:3326)\nat io.micronaut.context.DefaultBeanContext.finalizeConfiguration(DefaultBeanContext.java:3684)\nat io.micronaut.context.DefaultBeanContext.start(DefaultBeanContext.java:341)\nat io.micronaut.context.DefaultApplicationContext.start(DefaultApplicationContext.java:194)\nat io.micronaut.function.aws.proxy.MicronautLambdaContainerHandler.initialize(MicronautLambdaContainerHandler.java:259)\nCaused by: io.micronaut.context.exceptions.BeanInstantiationException: Error instantiating bean of type [org.hibernate.boot.SessionFactoryBuilder]\nPath Taken: new HibernateTransactionManager(SessionFactory sessionFactory,DataSource dataSource,Interceptor entityInterceptor,String name) --&gt; new HibernateTransactionManager([SessionFactory sessionFactory],DataSource dataSource,Interceptor entityInterceptor,String name) --&gt; SessionFactory.buildHibernateSessionFactoryBuilder([SessionFactoryBuilder sessionFactoryBuilder]) --&gt; SessionFactoryBuilder.buildHibernateSessionFactoryBuilder([Metadata metadata],JpaConfiguration jpaConfiguration,String name)\nat io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2367)\nat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2305)\nat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2251)\nat io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3016)\nat io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)\nat io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:2918)\nat io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2879)\nat io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2800)\nat io.micronaut.context.DefaultBeanContext.getBean(DefaultBeanContext.java:1617)\nat io.micronaut.context.AbstractBeanResolutionContext.getBean(AbstractBeanResolutionContext.java:66)\nat io.micronaut.context.AbstractInitializableBeanDefinition.resolveBean(AbstractInitializableBeanDefinition.java:2065)\nat io.micronaut.context.AbstractInitializableBeanDefinition.getBeanForConstructorArgument(AbstractInitializableBeanDefinition.java:1297)\nat io.micronaut.configuration.hibernate.jpa.conf.$SessionFactoryPerDataSourceFactory$BuildHibernateSessionFactoryBuilder3$Definition.doBuild(Unknown Source)\nat io.micronaut.context.AbstractInitializableBeanDefinition.build(AbstractInitializableBeanDefinition.java:769)\nat io.micronaut.context.BeanDefinitionDelegate.build(BeanDefinitionDelegate.java:158)\nat io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2354)\nat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2305)\nat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2251)\nat io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3016)\nat io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)\nat io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:2918)\nat io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2879)\nat io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2800)\nat io.micronaut.context.DefaultBeanContext.getBean(DefaultBeanContext.java:1617)\nat io.micronaut.context.AbstractBeanResolutionContext.getBean(AbstractBeanResolutionContext.java:66)\nat io.micronaut.context.AbstractInitializableBeanDefinition.resolveBean(AbstractInitializableBeanDefinition.java:2065)\nat io.micronaut.context.AbstractInitializableBeanDefinition.getBeanForConstructorArgument(AbstractInitializableBeanDefinition.java:1297)\nat io.micronaut.configuration.hibernate.jpa.conf.$SessionFactoryPerDataSourceFactory$BuildHibernateSessionFactoryBuilder4$Definition.build(Unknown Source)\nat io.micronaut.context.BeanDefinitionDelegate.build(BeanDefinitionDelegate.java:161)\nat io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2354)\nat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2305)\nat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2251)\nat io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3016)\nat io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)\nat io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:2918)\nat io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2879)\nat io.micronaut.context.DefaultBeanContext.resolveBeanRegistration(DefaultBeanContext.java:2800)\nat io.micronaut.context.DefaultBeanContext.findBean(DefaultBeanContext.java:1680)\nat io.micronaut.context.BeanDefinitionDelegate.getParametersValues(BeanDefinitionDelegate.java:195)\nat io.micronaut.context.BeanDefinitionDelegate.build(BeanDefinitionDelegate.java:157)\nat io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2354)\nat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2305)\nat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2251)\nat io.micronaut.context.DefaultBeanContext.createRegistration(DefaultBeanContext.java:3016)\nat io.micronaut.context.SingletonScope.getOrCreate(SingletonScope.java:80)\nat io.micronaut.context.DefaultBeanContext.findOrCreateSingletonBeanRegistration(DefaultBeanContext.java:2918)\nat io.micronaut.context.DefaultBeanContext.loadContextScopeBean(DefaultBeanContext.java:2737)\nat io.micronaut.context.DefaultBeanContext.initializeContext(DefaultBeanContext.java:1915)\nCaused by: java.lang.ExceptionInInitializerError\nat org.hibernate.boot.jaxb.internal.MappingBinder.doBind(MappingBinder.java:53)\nat org.hibernate.boot.jaxb.internal.AbstractBinder.doBind(AbstractBinder.java:103)\nat org.hibernate.boot.jaxb.internal.AbstractBinder.bind(AbstractBinder.java:58)\nat org.hibernate.envers.boot.internal.AdditionalJaxbMappingProducerImpl$1.addDocument(AdditionalJaxbMappingProducerImpl.java:103)\nat org.hibernate.envers.configuration.internal.EntitiesConfigurator.configure(EntitiesConfigurator.java:111)\nat org.hibernate.envers.boot.internal.EnversServiceImpl.doInitialize(EnversServiceImpl.java:149)\nat org.hibernate.envers.boot.internal.EnversServiceImpl.initialize(EnversServiceImpl.java:113)\nat org.hibernate.envers.boot.internal.AdditionalJaxbMappingProducerImpl.produceAdditionalMappings(AdditionalJaxbMappingProducerImpl.java:110)\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:306)\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:86)\nat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:479)\nat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:85)\nat org.hibernate.boot.MetadataSources.buildMetadata(MetadataSources.java:202)\nat io.micronaut.configuration.hibernate.jpa.conf.AbstractHibernateFactory.buildMetadata(AbstractHibernateFactory.java:92)\nat io.micronaut.configuration.hibernate.jpa.conf.SessionFactoryPerDataSourceFactory.buildMetadata(SessionFactoryPerDataSourceFactory.java:88)\nat io.micronaut.configuration.hibernate.jpa.conf.$SessionFactoryPerDataSourceFactory$BuildMetadata2$Definition.doBuild(Unknown Source)\nat io.micronaut.context.AbstractInitializableBeanDefinition.build(AbstractInitializableBeanDefinition.java:769)\nat io.micronaut.context.BeanDefinitionDelegate.build(BeanDefinitionDelegate.java:158)\nat io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2354)\nCaused by: org.hibernate.internal.util.xml.XsdException: Unable to locate schema [org/hibernate/jpa/orm_1_0.xsd] via classpath\nat org.hibernate.boot.xsd.LocalXsdResolver.resolveLocalXsdSchema(LocalXsdResolver.java:90)\nat org.hibernate.boot.xsd.LocalXsdResolver.buildXsdDescriptor(LocalXsdResolver.java:117)\nat org.hibernate.boot.xsd.MappingXsdSupport.&lt;init&gt;(MappingXsdSupport.java:23)\nat org.hibernate.boot.xsd.MappingXsdSupport.&lt;clinit&gt;(MappingXsdSupport.java:21)\nRequest loop failed with: Exception thrown instantiating MicronautLambdaRuntimeHandler\n</code></pre>\n<p>Here is a copy of the pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;envers&lt;/artifactId&gt;\n  &lt;version&gt;0.1&lt;/version&gt;\n  &lt;packaging&gt;${packaging}&lt;/packaging&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n    &lt;artifactId&gt;micronaut-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.8.0&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;properties&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;jdk.version&gt;11&lt;/jdk.version&gt;\n    &lt;release.version&gt;11&lt;/release.version&gt;\n    &lt;micronaut.version&gt;3.8.0&lt;/micronaut.version&gt;\n    &lt;micronaut.test.resources.enabled&gt;true&lt;/micronaut.test.resources.enabled&gt;\n    &lt;exec.mainClass&gt;io.micronaut.function.aws.runtime.MicronautLambdaRuntime&lt;/exec.mainClass&gt;\n    &lt;micronaut.data.version&gt;3.9.1&lt;/micronaut.data.version&gt;\n    &lt;micronaut.runtime&gt;lambda&lt;/micronaut.runtime&gt;\n  &lt;/properties&gt;\n\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.aws&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-function-aws-api-proxy&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.aws&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-function-aws-api-proxy-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.aws&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-function-aws-custom-runtime&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-http-client&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-http-server-netty&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-jackson-databind&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-data-hibernate-jpa&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.sql&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-jdbc-hikari&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.test&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-test-junit5&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-envers --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\n      &lt;version&gt;5.6.11.Final&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jaxen&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxen&lt;/artifactId&gt;\n      &lt;version&gt;1.1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;io.micronaut.build&lt;/groupId&gt;\n        &lt;artifactId&gt;micronaut-maven-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n          &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      \n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;!-- Uncomment to enable incremental compilation --&gt;\n          &lt;!-- &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt; --&gt;\n\n          &lt;annotationProcessorPaths combine.self=&quot;override&quot;&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-data-processor&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.data.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-graal&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-http-validation&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\n            &lt;/path&gt;\n          &lt;/annotationProcessorPaths&gt;\n          &lt;compilerArgs&gt;\n            &lt;arg&gt;-Amicronaut.processing.group=com.example&lt;/arg&gt;\n            &lt;arg&gt;-Amicronaut.processing.module=envers&lt;/arg&gt;\n          &lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here is a copy of my yaml:</p>\n<pre><code>micronaut:\n  application:\n    name: envers\ndatasources:\n  default:\n    url: ${database.url:`InsertDBUrl`}\n    username: ${database.username:InsertUsername}\n    password: ${database.password:InsertPassword}\n    driverClassName: ${database.driver:com.mysql.cj.jdbc.Driver}\njpa:\n  default:\n    entity-scan:\n      packages: 'com.example.model'\n    properties:\n      hibernate:\n        hbm2ddl:\n          auto: create\n</code></pre>\n<p>Here is a copy of my Entity:</p>\n<pre><code>package com.example.model;\n\nimport org.hibernate.envers.Audited;\n\nimport javax.persistence.*;\n\n@Entity\n@Audited\npublic class EnversEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>A sample of this project can be found here also:</p>\n<p><a href=\"https://github.com/georgy3k/mn-envers\" rel=\"nofollow noreferrer\">https://github.com/georgy3k/mn-envers</a></p>\n<p>To create the native executable, I followed the following steps:</p>\n<pre><code>sdk install java 22.3.r11-grl\n</code></pre>\n<p>After installing GraalVM, install the native-image component, which is not installed by default:</p>\n<pre><code>gu install native-image\n</code></pre>\n<p>The command below generates a ZIP file which contains a GraalVM Native Executable of the application, and a bootstrap file which executes the native executable. The GraalVM Native Executable of the application is generated inside a Docker container.</p>\n<pre><code>./mvnw package -Dpackaging=docker-native -Dmicronaut.runtime=lambda -Pgraalvm\n</code></pre>\n"},{"tags":["java","opencv","installation","configuration","face-detection"],"owner":{"account_id":26043841,"reputation":11,"user_id":20989195,"display_name":"RiXaTorAgu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679186682,"creation_date":1673507740,"question_id":75092747,"body_markdown":"I am trying to detect faces in an image using the OpenCV library in Java. I am using version 4.7.0-dev of OpenCV. When I run the program, I get the following error:\r\n\r\n\r\n```\r\n[ INFO:0@0.885] global registry_parallel.impl.hpp:96 cv::parallel::ParallelBackendRegistry::ParallelBackendRegistry core(parallel): Enabled backends(3, sorted by priority): ONETBB(1000); TBB(990); OPENMP(980)\r\n[ INFO:0@0.885] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load C:\\Users\\ricar\\OneDrive\\Documentos\\libraries\\opencv\\build\\java\\x64\\opencv_core_parallel_onetbb470_64d.dll =&gt; FAILED\r\n[ INFO:0@0.886] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load opencv_core_parallel_onetbb470_64d.dll =&gt; FAILED\r\n[ INFO:0@0.886] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load C:\\Users\\ricar\\OneDrive\\Documentos\\libraries\\opencv\\build\\java\\x64\\opencv_core_parallel_tbb470_64d.dll =&gt; FAILED\r\n[ INFO:0@0.886] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load opencv_core_parallel_tbb470_64d.dll =&gt; FAILED\r\n[ INFO:0@0.887] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load C:\\Users\\ricar\\OneDrive\\Documentos\\libraries\\opencv\\build\\java\\x64\\opencv_core_parallel_openmp470_64d.dll =&gt; FAILED\r\n[ INFO:0@0.887] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load opencv_core_parallel_openmp470_64d.dll =&gt; FAILED\r\n[ INFO:0@1.067] global ocl.cpp:1186 cv::ocl::haveOpenCL Initialize OpenCL runtime...\r\n[ INFO:0@1.977] global ocl.cpp:1192 cv::ocl::haveOpenCL OpenCL: found 2 platforms\r\n[ INFO:0@1.977] global ocl.cpp:984 cv::ocl::OpenCLExecutionContext::Impl::getInitializedExecutionContext OpenCL: initializing thread execution context\r\n[ INFO:0@1.977] global ocl.cpp:994 cv::ocl::OpenCLExecutionContext::Impl::getInitializedExecutionContext OpenCL: creating new execution context...\r\n[ INFO:0@2.571] global ocl.cpp:1012 cv::ocl::OpenCLExecutionContext::Impl::getInitializedExecutionContext OpenCL: device=NVIDIA GeForce MX230\r\n[ INFO:0@2.571] global ocl.cpp:5370 cv::ocl::Context::Impl::__init_buffer_pools OpenCL: Initializing buffer pool for context@0 with max capacity: poolSize=0 poolSizeHostPtr=0\r\n```\r\n\r\nThis is my code. I believe that my problem is an installation or configuration issue.\r\n\r\n\r\n```\r\nimport org.opencv.core.Core;\r\nimport org.opencv.core.Mat;\r\nimport org.opencv.core.MatOfRect;\r\nimport org.opencv.core.Rect;\r\nimport org.opencv.core.Scalar;\r\nimport org.opencv.imgcodecs.Imgcodecs;\r\nimport org.opencv.imgproc.Imgproc;\r\nimport org.opencv.objdetect.CascadeClassifier;\r\n\r\nclass Main{\r\n\r\n\tpublic static void main(String[] args){\r\n\t\t\r\n\t\tSystem.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n\t\t\r\n\t\tMat image = Imgcodecs.imread(&quot;C:\\\\Users\\\\ricar\\\\Downloads\\\\DSC02281.JPG&quot;);\r\n\t\t\r\n\t\tCascadeClassifier classifier = new CascadeClassifier(&quot;C:\\\\Users\\\\ricar\\\\OneDrive\\\\Documentos\\\\workspace\\\\LearningJava\\\\src\\\\haarcascade_frontalface_default.xml&quot;);\r\n\t\tMatOfRect faceDetections = new MatOfRect();\r\n\t\tclassifier.detectMultiScale(image, faceDetections);\r\n\t\t\r\n\t\tfor(Rect rect : faceDetections.toArray()) {\r\n\t\t\t\r\n\t\t\tImgproc.rectangle(image, rect, new Scalar(0, 0, 255));\r\n\t\t\t\r\n\t\t}\r\n\t\tImgcodecs.imwrite(&quot;C:\\\\Users\\\\ricar\\\\Downloads\\\\output.jpg&quot;, image);\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n","title":"Error loading parallel processing modules in Java using OpenCV","body":"<p>I am trying to detect faces in an image using the OpenCV library in Java. I am using version 4.7.0-dev of OpenCV. When I run the program, I get the following error:</p>\n<pre><code>[ INFO:0@0.885] global registry_parallel.impl.hpp:96 cv::parallel::ParallelBackendRegistry::ParallelBackendRegistry core(parallel): Enabled backends(3, sorted by priority): ONETBB(1000); TBB(990); OPENMP(980)\n[ INFO:0@0.885] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load C:\\Users\\ricar\\OneDrive\\Documentos\\libraries\\opencv\\build\\java\\x64\\opencv_core_parallel_onetbb470_64d.dll =&gt; FAILED\n[ INFO:0@0.886] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load opencv_core_parallel_onetbb470_64d.dll =&gt; FAILED\n[ INFO:0@0.886] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load C:\\Users\\ricar\\OneDrive\\Documentos\\libraries\\opencv\\build\\java\\x64\\opencv_core_parallel_tbb470_64d.dll =&gt; FAILED\n[ INFO:0@0.886] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load opencv_core_parallel_tbb470_64d.dll =&gt; FAILED\n[ INFO:0@0.887] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load C:\\Users\\ricar\\OneDrive\\Documentos\\libraries\\opencv\\build\\java\\x64\\opencv_core_parallel_openmp470_64d.dll =&gt; FAILED\n[ INFO:0@0.887] global plugin_loader.impl.hpp:67 cv::plugin::impl::DynamicLib::libraryLoad load opencv_core_parallel_openmp470_64d.dll =&gt; FAILED\n[ INFO:0@1.067] global ocl.cpp:1186 cv::ocl::haveOpenCL Initialize OpenCL runtime...\n[ INFO:0@1.977] global ocl.cpp:1192 cv::ocl::haveOpenCL OpenCL: found 2 platforms\n[ INFO:0@1.977] global ocl.cpp:984 cv::ocl::OpenCLExecutionContext::Impl::getInitializedExecutionContext OpenCL: initializing thread execution context\n[ INFO:0@1.977] global ocl.cpp:994 cv::ocl::OpenCLExecutionContext::Impl::getInitializedExecutionContext OpenCL: creating new execution context...\n[ INFO:0@2.571] global ocl.cpp:1012 cv::ocl::OpenCLExecutionContext::Impl::getInitializedExecutionContext OpenCL: device=NVIDIA GeForce MX230\n[ INFO:0@2.571] global ocl.cpp:5370 cv::ocl::Context::Impl::__init_buffer_pools OpenCL: Initializing buffer pool for context@0 with max capacity: poolSize=0 poolSizeHostPtr=0\n</code></pre>\n<p>This is my code. I believe that my problem is an installation or configuration issue.</p>\n<pre><code>import org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.core.MatOfRect;\nimport org.opencv.core.Rect;\nimport org.opencv.core.Scalar;\nimport org.opencv.imgcodecs.Imgcodecs;\nimport org.opencv.imgproc.Imgproc;\nimport org.opencv.objdetect.CascadeClassifier;\n\nclass Main{\n\n    public static void main(String[] args){\n        \n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n        \n        Mat image = Imgcodecs.imread(&quot;C:\\\\Users\\\\ricar\\\\Downloads\\\\DSC02281.JPG&quot;);\n        \n        CascadeClassifier classifier = new CascadeClassifier(&quot;C:\\\\Users\\\\ricar\\\\OneDrive\\\\Documentos\\\\workspace\\\\LearningJava\\\\src\\\\haarcascade_frontalface_default.xml&quot;);\n        MatOfRect faceDetections = new MatOfRect();\n        classifier.detectMultiScale(image, faceDetections);\n        \n        for(Rect rect : faceDetections.toArray()) {\n            \n            Imgproc.rectangle(image, rect, new Scalar(0, 0, 255));\n            \n        }\n        Imgcodecs.imwrite(&quot;C:\\\\Users\\\\ricar\\\\Downloads\\\\output.jpg&quot;, image);\n        \n    }\n    \n}\n</code></pre>\n"},{"tags":["java","ms-access","jackcess"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1461571093,"post_id":36833775,"comment_id":61240385,"body_markdown":"A title should succinctly describe the problem; use the body of the question to explain the problem in more detail. If that means repeating the title in the body, then repeat the title. Questions with only code in the body are usually low quality.","body":"A title should succinctly describe the problem; use the body of the question to explain the problem in more detail. If that means repeating the title in the body, then repeat the title. Questions with only code in the body are usually low quality."}],"answers":[{"tags":[],"owner":{"account_id":2460030,"reputation":118398,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1461590299,"creation_date":1461590299,"answer_id":36841743,"question_id":36833775,"body_markdown":"Your mistake is that you are opening the table you want to delete, not the system table that holds the list of database objects. Instead of\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    Table table = db.getSystemTable(tableName);\r\n\r\nyou need to use\r\n\r\n    Table table = db.getSystemTable(&quot;MSysObjects&quot;);","title":"Unable to drop table via Jackcess using getSystemTable and findFirstRow","body":"<p>Your mistake is that you are opening the table you want to delete, not the system table that holds the list of database objects. Instead of</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>Table table = db.getSystemTable(tableName);\n</code></pre>\n\n<p>you need to use</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Table table = db.getSystemTable(\"MSysObjects\");\n</code></pre>\n"}],"owner":{"account_id":8316955,"reputation":94,"user_id":6249883,"display_name":"BugKiller"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":36841743,"answer_count":1,"score":0,"last_activity_date":1679185772,"creation_date":1461567174,"question_id":36833775,"body_markdown":"&gt; Why can&#39;t cursor `findFirstRow` when I try to use Jackcess to find the row that I need to delete in order to drop a table?\r\n\r\n    private static void deleteTable(Database db, String tableName) throws IOException {\r\n\t\tTable table = db.getSystemTable(tableName);\r\n\t\tif (table == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tCursor cursor = table.getDefaultCursor();\r\n\t\tMap&lt;String, Object&gt; criteria = new HashMap&lt;String, Object&gt;();\r\n\t\tcriteria.put(&quot;Name&quot;, tableName);\r\n\t\tcriteria.put(&quot;Type&quot;, (short) 1);\r\n\t\tif (cursor.findFirstRow(criteria)) {\r\n\t\t\ttable.deleteRow(cursor.getCurrentRow());\r\n\t\t\tLog.e(TAG, &quot;delete &quot; + tableName + &quot;   success!&quot;);\r\n\t\t} else {\r\n\t\t\tLog.e(TAG, &quot;can&#39;t find this Table&quot;);//run here\r\n\t\t}\r\n\t\tdb.flush();\r\n\t\tdb.close();\r\n\t}\r\n\r\n###### PS.: no reported exception","title":"Unable to drop table via Jackcess using getSystemTable and findFirstRow","body":"<blockquote>\n<p>Why can't cursor <code>findFirstRow</code> when I try to use Jackcess to find the row that I need to delete in order to drop a table?</p>\n</blockquote>\n<pre><code>private static void deleteTable(Database db, String tableName) throws IOException {\n    Table table = db.getSystemTable(tableName);\n    if (table == null) {\n        return;\n    }\n    Cursor cursor = table.getDefaultCursor();\n    Map&lt;String, Object&gt; criteria = new HashMap&lt;String, Object&gt;();\n    criteria.put(&quot;Name&quot;, tableName);\n    criteria.put(&quot;Type&quot;, (short) 1);\n    if (cursor.findFirstRow(criteria)) {\n        table.deleteRow(cursor.getCurrentRow());\n        Log.e(TAG, &quot;delete &quot; + tableName + &quot;   success!&quot;);\n    } else {\n        Log.e(TAG, &quot;can't find this Table&quot;);//run here\n    }\n    db.flush();\n    db.close();\n}\n</code></pre>\n<h6>PS.: no reported exception</h6>\n"},{"tags":["java","jar","classpath"],"comments":[{"owner":{"account_id":9787763,"reputation":121,"user_id":7253522,"display_name":"Happy"},"score":0,"creation_date":1679174805,"post_id":75778598,"comment_id":133675365,"body_markdown":"Tried to run the class explicitly, failed with the same error: java -cp ./TSUOrchestrationLogic-assembly.jar com.mycompany.tsu.orchestration.WeeklyTSUOrchestrator","body":"Tried to run the class explicitly, failed with the same error: java -cp ./TSUOrchestrationLogic-assembly.jar com.mycompany.tsu.orchestration.WeeklyTSUOrchestrator"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679180074,"post_id":75778598,"comment_id":133676004,"body_markdown":"Sounds as if folder `com` might not be at the root of the jar","body":"Sounds as if folder <code>com</code> might not be at the root of the jar"},{"owner":{"account_id":9787763,"reputation":121,"user_id":7253522,"display_name":"Happy"},"score":0,"creation_date":1679198540,"post_id":75778598,"comment_id":133677266,"body_markdown":"Thank you very much. What do you mean com isn&#39;t at the root of jar? After I use jar xf TSUOrchestrationLogic-assembly.jar, com folder isn&#39;t at the root. How can I tell? What&#39;s more, if I want to set com to the root of jar, how can I do it?","body":"Thank you very much. What do you mean com isn&#39;t at the root of jar? After I use jar xf TSUOrchestrationLogic-assembly.jar, com folder isn&#39;t at the root. How can I tell? What&#39;s more, if I want to set com to the root of jar, how can I do it?"},{"owner":{"account_id":9787763,"reputation":121,"user_id":7253522,"display_name":"Happy"},"score":0,"creation_date":1679199175,"post_id":75778598,"comment_id":133677308,"body_markdown":"I tried with jar tf. I can see the folder: com/mycompany/tsu/orchestration/ and\ncom/mycompany/tsu/orchestration/WeeklyTSUOrchestrator.class","body":"I tried with jar tf. I can see the folder: com/mycompany/tsu/orchestration/ and com/mycompany/tsu/orchestration/WeeklyTSUOrchestrator.class"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679242844,"post_id":75778598,"comment_id":133682325,"body_markdown":"*I tried with jar tf. I can see the folder: com/mycompany...* In that case it *is* at the root. I can&#39;t explain why you&#39;re having a problem","body":"<i>I tried with jar tf. I can see the folder: com/mycompany...</i> In that case it <i>is</i> at the root. I can&#39;t explain why you&#39;re having a problem"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679260915,"post_id":75778598,"comment_id":133685235,"body_markdown":"Make sure your main class begins with declaration `package com.mycompany.tsu.orchestration;`","body":"Make sure your main class begins with declaration <code>package com.mycompany.tsu.orchestration;</code>"},{"owner":{"account_id":9787763,"reputation":121,"user_id":7253522,"display_name":"Happy"},"score":0,"creation_date":1679325757,"post_id":75778598,"comment_id":133697332,"body_markdown":"Thank you. Yes, I have double checked that. The code used to work, but after we merged to new dependencies, it stopped working. As Java has so many dependencies, they all mingled together. We tried several strategies trying to find the root cause, not ver successful.","body":"Thank you. Yes, I have double checked that. The code used to work, but after we merged to new dependencies, it stopped working. As Java has so many dependencies, they all mingled together. We tried several strategies trying to find the root cause, not ver successful."}],"owner":{"account_id":9787763,"reputation":121,"user_id":7253522,"display_name":"Happy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679185401,"creation_date":1679172676,"question_id":75778598,"body_markdown":"I build my assembly with scala build.sbt: TSUOrchestrationLogic-assembly.jar\r\n\r\nIn my META-INF/MANIFEST.MF, the Main-Class header is right:\r\n\r\n    Manifest-Version: 1.0\r\n    Implementation-Title: TSUOrchestrationLogic\r\n    Implementation-Version: 1.0\r\n    Specification-Title: TSUOrchestrationLogic\r\n    Specification-Version: 1.0\r\n    Main-Class: com.mycompany.tsu.orchestration.WeeklyTSUOrchestrator\r\n\r\nWhen I ran it with: java -jar ./TSUOrchestrationLogic-assembly.jar\r\n\r\nIt failed with error:\r\n\r\n    Could not find or load main class com.mycompany.tsu.orchestration.WeeklyTSUOrchestrator\r\n\r\nBut if I unzip it to a folder with: jar xf TSUOrchestrationLogic-assembly.jar, ran it with class directly, it works:\r\n\r\n    java com.mycompany.tsu.orchestration.WeeklyTSUOrchestrator\r\n\r\nWhat might be the root cause of my jar assembly, how can I diagnose the root causes?","title":"Run jar failed with Error: Could not find or load main class com.mycompany.tsu.orchestration.WeeklyTSUOrchestrator","body":"<p>I build my assembly with scala build.sbt: TSUOrchestrationLogic-assembly.jar</p>\n<p>In my META-INF/MANIFEST.MF, the Main-Class header is right:</p>\n<pre><code>Manifest-Version: 1.0\nImplementation-Title: TSUOrchestrationLogic\nImplementation-Version: 1.0\nSpecification-Title: TSUOrchestrationLogic\nSpecification-Version: 1.0\nMain-Class: com.mycompany.tsu.orchestration.WeeklyTSUOrchestrator\n</code></pre>\n<p>When I ran it with: java -jar ./TSUOrchestrationLogic-assembly.jar</p>\n<p>It failed with error:</p>\n<pre><code>Could not find or load main class com.mycompany.tsu.orchestration.WeeklyTSUOrchestrator\n</code></pre>\n<p>But if I unzip it to a folder with: jar xf TSUOrchestrationLogic-assembly.jar, ran it with class directly, it works:</p>\n<pre><code>java com.mycompany.tsu.orchestration.WeeklyTSUOrchestrator\n</code></pre>\n<p>What might be the root cause of my jar assembly, how can I diagnose the root causes?</p>\n"},{"tags":["java","spring","spring-security","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":8316955,"reputation":94,"user_id":6249883,"display_name":"BugKiller"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479802254,"creation_date":1479802254,"answer_id":40736717,"question_id":40625979,"body_markdown":"I change my spring SecurityConfig,here is used to processing some authorizeUrls:    \r\n\r\n    @Configuration\r\n    @Order(ManagementServerProperties.ACCESS_OVERRIDE_ORDER)\r\n    @EnableGlobalMethodSecurity(securedEnabled = true)\r\n    public class SecurityConfig extends GlobalAuthenticationConfigurerAdapter {\r\n    @Override\r\n    public void init(AuthenticationManagerBuilder auth) throws Exception {\r\n    //doing jdbc Authentication\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    super.configure(auth);\r\n    }\r\n    @Configuration\r\n    @Order(1)\r\n    public static class ClientSecurityConfigurationAdapter extends\r\n        WebSecurityConfigurerAdapter {\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\thttp.antMatcher(&quot;/mobile/**&quot;)\r\n\t  .formLogin().loginPage(&quot;/client/login&quot;)\r\n      .loginProcessingUrl(&quot;/oauth/login&quot;)\r\n      .successHandler(clientLoginSuccessHandler).permitAll()\r\n      .and()\r\n      .logout()\r\n      .logoutSuccessHandler(clientLogoutSuccessHandler)\r\n      .logoutUrl(&quot;/client/logout&quot;)\r\n      .logoutSuccessUrl(&quot;/client/login&quot;)\r\n      .invalidateHttpSession(true);\r\n    }\r\n    }\r\n    @Configuration\r\n    @Order(2)\r\n    public static class WebSecurityConfigurerAdapter extends\r\n        WebSecurityConfigurerAdapter {          \r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\t  http.regexMatcher(&quot;/((?!api).)*&quot;)\r\n\t\t\t\t.formLogin()\r\n                .loginPage(&quot;/web/login&quot;)\r\n                .loginProcessingUrl(&quot;/oauth/login&quot;)\r\n                .successHandler(loginSuccessHandler)\r\n                .permitAll()\r\n                .and()\r\n                .logout()\r\n                .logoutSuccessHandler(logoutSuccessHandler)\r\n                .logoutUrl(&quot;/web/logout&quot;)\r\n                .logoutSuccessUrl(&quot;/web/login&quot;)\r\n                .invalidateHttpSession(true);\r\n      }\r\n     }\r\n    }\r\n\r\nand add ResourceServerConfig for handle token validation issues：\r\n\r\n    @Configuration\r\n    @EnableResourceServer\r\n    public class ResourceServerConfig extends ResourceServerConfigurerAdapter {\r\n\r\n\t@Autowired\r\n\tTokenStore tokenStore;\r\n\t\r\n\t@Override\r\n\tpublic void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.requestMatchers().antMatchers(&quot;/api/**&quot;).//\r\n\t\t\t\tand().authorizeRequests().antMatchers(&quot;/api/**&quot;,).authenticated();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void configure(ResourceServerSecurityConfigurer resources) throws Exception {\r\n\t\tresources.resourceId(&quot;openid&quot;).tokenStore(tokenStore);\r\n\t}\r\n\r\n\r\n    }\r\n\r\nfinally,build a request with a request header\r\n\r\n    &quot;Authorization:Bearer &lt;access_token&gt;&quot;","title":"How to implement about getting current user information from server when using spring security while i access user information from android client","body":"<p>I change my spring SecurityConfig,here is used to processing some authorizeUrls:    </p>\n\n<pre><code>@Configuration\n@Order(ManagementServerProperties.ACCESS_OVERRIDE_ORDER)\n@EnableGlobalMethodSecurity(securedEnabled = true)\npublic class SecurityConfig extends GlobalAuthenticationConfigurerAdapter {\n@Override\npublic void init(AuthenticationManagerBuilder auth) throws Exception {\n//doing jdbc Authentication\n}\n\n@Override\npublic void configure(AuthenticationManagerBuilder auth) throws Exception {\nsuper.configure(auth);\n}\n@Configuration\n@Order(1)\npublic static class ClientSecurityConfigurationAdapter extends\n    WebSecurityConfigurerAdapter {\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\nhttp.antMatcher(\"/mobile/**\")\n  .formLogin().loginPage(\"/client/login\")\n  .loginProcessingUrl(\"/oauth/login\")\n  .successHandler(clientLoginSuccessHandler).permitAll()\n  .and()\n  .logout()\n  .logoutSuccessHandler(clientLogoutSuccessHandler)\n  .logoutUrl(\"/client/logout\")\n  .logoutSuccessUrl(\"/client/login\")\n  .invalidateHttpSession(true);\n}\n}\n@Configuration\n@Order(2)\npublic static class WebSecurityConfigurerAdapter extends\n    WebSecurityConfigurerAdapter {          \n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n  http.regexMatcher(\"/((?!api).)*\")\n            .formLogin()\n            .loginPage(\"/web/login\")\n            .loginProcessingUrl(\"/oauth/login\")\n            .successHandler(loginSuccessHandler)\n            .permitAll()\n            .and()\n            .logout()\n            .logoutSuccessHandler(logoutSuccessHandler)\n            .logoutUrl(\"/web/logout\")\n            .logoutSuccessUrl(\"/web/login\")\n            .invalidateHttpSession(true);\n  }\n }\n}\n</code></pre>\n\n<p>and add ResourceServerConfig for handle token validation issues：</p>\n\n<pre><code>@Configuration\n@EnableResourceServer\npublic class ResourceServerConfig extends ResourceServerConfigurerAdapter {\n\n@Autowired\nTokenStore tokenStore;\n\n@Override\npublic void configure(HttpSecurity http) throws Exception {\n    http.requestMatchers().antMatchers(\"/api/**\").//\n            and().authorizeRequests().antMatchers(\"/api/**\",).authenticated();\n}\n\n@Override\npublic void configure(ResourceServerSecurityConfigurer resources) throws Exception {\n    resources.resourceId(\"openid\").tokenStore(tokenStore);\n}\n\n\n}\n</code></pre>\n\n<p>finally,build a request with a request header</p>\n\n<pre><code>\"Authorization:Bearer &lt;access_token&gt;\"\n</code></pre>\n"}],"owner":{"account_id":8316955,"reputation":94,"user_id":6249883,"display_name":"BugKiller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679185192,"creation_date":1479279990,"question_id":40625979,"body_markdown":"- This is the JSON that I returned after logging in:\r\n\r\n       {\r\n        &quot;access_token&quot;:&quot;41208e01a-f26c-4167-9fc9-d16730022056&quot;,\r\n         &quot;token_type&quot;: &quot;bearer&quot;,\r\n         &quot;refresh_token&quot;: &quot;3808e00a-896c-8067-18c9-736730022032&quot;,\r\n         &quot;expires_in&quot;: 25348,\r\n         &quot;scope&quot;: &quot;read write&quot;,\r\n         &quot;jti&quot;: &quot;6f08e00a-d26c-4067-8fc9-c16730022028&quot;\r\n        }\r\n\r\n- I want to get current user information by using this `url:https://localhost:8080/user/getuserinfo?access_token=41208e01a-f26c-4167-9fc9-d16730022056` from android client,i meant that how to implement requirement on server and this is my [Configuration](https://stackoverflow.com/questions/40492506/how-can-i-use-spring-security-oauth2-to-realize-the-purpose-about-redirecting)","title":"How to implement about getting current user information from server when using spring security while i access user information from android client","body":"<ul>\n<li><p>This is the JSON that I returned after logging in:</p>\n<pre><code> {\n  &quot;access_token&quot;:&quot;41208e01a-f26c-4167-9fc9-d16730022056&quot;,\n   &quot;token_type&quot;: &quot;bearer&quot;,\n   &quot;refresh_token&quot;: &quot;3808e00a-896c-8067-18c9-736730022032&quot;,\n   &quot;expires_in&quot;: 25348,\n   &quot;scope&quot;: &quot;read write&quot;,\n   &quot;jti&quot;: &quot;6f08e00a-d26c-4067-8fc9-c16730022028&quot;\n  }\n</code></pre>\n</li>\n<li><p>I want to get current user information by using this <code>url:https://localhost:8080/user/getuserinfo?access_token=41208e01a-f26c-4167-9fc9-d16730022056</code> from android client,i meant that how to implement requirement on server and this is my <a href=\"https://stackoverflow.com/questions/40492506/how-can-i-use-spring-security-oauth2-to-realize-the-purpose-about-redirecting\">Configuration</a></p>\n</li>\n</ul>\n"},{"tags":["java","swing","desktop-application","launch4j"],"answers":[{"tags":[],"owner":{"account_id":3574622,"reputation":31,"user_id":2984174,"display_name":"user2984174"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1389813868,"creation_date":1389813868,"answer_id":21146386,"question_id":20089597,"body_markdown":"I ran launch4j application as administrator and the error disappeared for me.","title":"launch4j bundled JRE error .&quot;This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted&quot;","body":"<p>I ran launch4j application as administrator and the error disappeared for me.</p>\n"},{"tags":[],"owner":{"account_id":2175112,"reputation":480,"user_id":1925961,"display_name":"giraffe.guru"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1390449812,"creation_date":1390449812,"answer_id":21299117,"question_id":20089597,"body_markdown":"I was trying to use a *.png file as my icon but it wanted *.ico. Once I removed `&lt;icon&gt;...&lt;/icon&gt;` from my config file this error disappeared.","title":"launch4j bundled JRE error .&quot;This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted&quot;","body":"<p>I was trying to use a *.png file as my icon but it wanted *.ico. Once I removed <code>&lt;icon&gt;...&lt;/icon&gt;</code> from my config file this error disappeared.</p>\n"},{"tags":[],"owner":{"account_id":3482729,"reputation":181,"user_id":2914349,"display_name":"BakaitBaba"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397736064,"creation_date":1397736064,"answer_id":23132574,"question_id":20089597,"body_markdown":"Convert your png or jpeg fiel to icon file and error will go. \r\n\r\nYou can use online tool:- http://iconverticons.com/online/ ","title":"launch4j bundled JRE error .&quot;This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted&quot;","body":"<p>Convert your png or jpeg fiel to icon file and error will go. </p>\n\n<p>You can use online tool:- <a href=\"http://iconverticons.com/online/\" rel=\"nofollow\">http://iconverticons.com/online/</a> </p>\n"},{"tags":[],"owner":{"account_id":2926247,"reputation":31,"user_id":2507481,"display_name":"JC3"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1407114743,"creation_date":1407114743,"answer_id":25110567,"question_id":20089597,"body_markdown":"Check the icon file you are using (if you are using one). I was coming across the same error when trying to wrap my java executable. I was using a png file that I converted to what I thought was an icon (.ico) file. Turns out this conversion didn&#39;t work. After using a correct .ico file I found on my windows system, I used that and it worked.","title":"launch4j bundled JRE error .&quot;This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted&quot;","body":"<p>Check the icon file you are using (if you are using one). I was coming across the same error when trying to wrap my java executable. I was using a png file that I converted to what I thought was an icon (.ico) file. Turns out this conversion didn't work. After using a correct .ico file I found on my windows system, I used that and it worked.</p>\n"},{"comments":[{"owner":{"account_id":2847570,"reputation":996,"user_id":2445541,"accept_rate":70,"display_name":"Rahul Vishwakarma"},"score":0,"creation_date":1425480309,"post_id":28856820,"comment_id":45980518,"body_markdown":"Please explain your answer a little bit further.. How version of JRE causes the problem ?","body":"Please explain your answer a little bit further.. How version of JRE causes the problem ?"},{"owner":{"account_id":4375922,"reputation":1816,"user_id":3568957,"accept_rate":100,"display_name":"svichkar"},"score":0,"creation_date":1426084959,"post_id":28856820,"comment_id":46227597,"body_markdown":"I got this error “This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted” when version of my JRE doesn&#39;t match to version on machine where EXE file is executing.","body":"I got this error “This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted” when version of my JRE doesn&#39;t match to version on machine where EXE file is executing."},{"owner":{"account_id":4375922,"reputation":1816,"user_id":3568957,"accept_rate":100,"display_name":"svichkar"},"score":1,"creation_date":1426085555,"post_id":28856820,"comment_id":46228070,"body_markdown":"I have JRE 1.8.0 on my machine. I&#39;ve generated EXE file using default setting with Launch4j program. \nThen this EXE couldn&#39;t be executed on machines where JRE version doesn&#39;t match with 1.8.0.      \nThe solution is  - to specify &quot;Min JRE version&quot; as the earliest JRE version on JRE tab of Settings, e.g. 1.5.0 as I did.\nPlease see my screenShot\nhttps://www.dropbox.com/s/ia34ccc7tf3nhpb/JRE_tab.png?dl=0","body":"I have JRE 1.8.0 on my machine. I&#39;ve generated EXE file using default setting with Launch4j program.  Then this EXE couldn&#39;t be executed on machines where JRE version doesn&#39;t match with 1.8.0.       The solution is  - to specify &quot;Min JRE version&quot; as the earliest JRE version on JRE tab of Settings, e.g. 1.5.0 as I did. Please see my screenShot <a href=\"https://www.dropbox.com/s/ia34ccc7tf3nhpb/JRE_tab.png?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/ia34ccc7tf3nhpb/JRE_tab.png?dl=0</a>"}],"tags":[],"owner":{"account_id":4375922,"reputation":1816,"user_id":3568957,"accept_rate":100,"display_name":"svichkar"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425478860,"creation_date":1425478860,"answer_id":28856820,"question_id":20089597,"body_markdown":"The reason is a version of JRE on machine where EXE file is executing.","title":"launch4j bundled JRE error .&quot;This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted&quot;","body":"<p>The reason is a version of JRE on machine where EXE file is executing.</p>\n"},{"tags":[],"owner":{"account_id":13675165,"reputation":11,"user_id":9866846,"display_name":"KIPSANG HENRY"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586702848,"creation_date":1586702848,"answer_id":61173247,"question_id":20089597,"body_markdown":"Give the path as \\bin\\jre_path \r\nFor instance if you have a folder dist with bin as subfolder having the jre file inside.","title":"launch4j bundled JRE error .&quot;This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted&quot;","body":"<p>Give the path as \\bin\\jre_path \nFor instance if you have a folder dist with bin as subfolder having the jre file inside.</p>\n"},{"tags":[],"owner":{"account_id":106286,"reputation":337,"user_id":283182,"accept_rate":40,"display_name":"jazzwhistle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601026245,"creation_date":1601026245,"answer_id":64061491,"question_id":20089597,"body_markdown":"None of the above helped me. The answer was to copy JRE&#39;s lib and bin folders into a new folder inside dist (I called it jre), then use that folder name as the Bundled JRE Path:[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yFDtQ.png","title":"launch4j bundled JRE error .&quot;This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted&quot;","body":"<p>None of the above helped me. The answer was to copy JRE's lib and bin folders into a new folder inside dist (I called it jre), then use that folder name as the Bundled JRE Path:<a href=\"https://i.stack.imgur.com/yFDtQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yFDtQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20334030,"reputation":1,"user_id":14915238,"display_name":"Rach"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679183254,"creation_date":1679183254,"answer_id":75779322,"question_id":20089597,"body_markdown":"[launch4j for Windows][1]\r\n\r\nMake sure your launch4j got an &#39;.exe&#39; extension and not &#39;.jar&#39; if you using windows\r\n  [1]: https://sourceforge.net/projects/launch4j/\r\n\r\nhopefully that helps.\r\n","title":"launch4j bundled JRE error .&quot;This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted&quot;","body":"<p>[launch4j for Windows][1]</p>\n<p>Make sure your launch4j got an '.exe' extension and not '.jar' if you using windows\n[1]: <a href=\"https://sourceforge.net/projects/launch4j/\" rel=\"nofollow noreferrer\">https://sourceforge.net/projects/launch4j/</a></p>\n<p>hopefully that helps.</p>\n"}],"owner":{"account_id":423500,"reputation":209,"user_id":802933,"accept_rate":43,"display_name":"saurabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33795,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":8,"score":4,"last_activity_date":1679183254,"creation_date":1384931397,"question_id":20089597,"body_markdown":"I am using launch4j for the first time and I get following  error. Here is launch4j error log.\r\n\r\n    Compiling resources\r\n    Generated resource file...\r\n    LANGUAGE 0, 1\r\n    2 RCDATA BEGIN &quot;1.5.0\\0&quot; END\r\n    18 RCDATA BEGIN &quot;1\\0&quot; END\r\n    21 RCDATA BEGIN &quot;http://java.com/download\\0&quot; END\r\n    20 RCDATA BEGIN &quot;32\\0&quot; END\r\n    101 RCDATA BEGIN &quot;An error occurred while starting the application.\\0&quot; END\r\n    102 RCDATA BEGIN &quot;This application was configured to use a \r\n    bundled Java Runtime Environment but the runtime is missing or corrupted.\\0&quot; END\r\n    103 RCDATA BEGIN &quot;This application requires a Java Runtime Environment\\0&quot; END\r\n    104 RCDATA BEGIN &quot;The registry refers to a nonexistent\r\n    Java Runtime Environment installation or the runtime is corrupted.\\0&quot; END\r\n    17 RCDATA BEGIN &quot;true\\0&quot; END\r\n\r\nand here is generated xml file\r\n\r\n    &lt;launch4jConfig&gt;\r\n    &lt;dontWrapJar&gt;false&lt;/dontWrapJar&gt;\r\n    &lt;headerType&gt;gui&lt;/headerType&gt;\r\n    &lt;jar&gt;/DesktopApp/launch4j/applicationname.jar&lt;/jar&gt;\r\n    &lt;outfile&gt;/DesktopApp/launch4j/applicationname.exe&lt;/outfile&gt;\r\n    &lt;errTitle&gt;&lt;/errTitle&gt;\r\n    &lt;cmdLine&gt;&lt;/cmdLine&gt;\r\n    &lt;chdir&gt;&lt;/chdir&gt;\r\n    &lt;priority&gt;normal&lt;/priority&gt;\r\n    &lt;downloadUrl&gt;http://java.com/download&lt;/downloadUrl&gt;\r\n    &lt;supportUrl&gt;&lt;/supportUrl&gt;\r\n    &lt;stayAlive&gt;false&lt;/stayAlive&gt;\r\n    &lt;manifest&gt;&lt;/manifest&gt;\r\n    &lt;icon&gt;&lt;/icon&gt;\r\n    &lt;jre&gt;\r\n    &lt;path&gt;&lt;/path&gt;\r\n    &lt;bundledJre64Bit&gt;false&lt;/bundledJre64Bit&gt;\r\n    &lt;minVersion&gt;1.5.0&lt;/minVersion&gt;\r\n    &lt;maxVersion&gt;&lt;/maxVersion&gt;\r\n    &lt;jdkPreference&gt;preferJre&lt;/jdkPreference&gt;\r\n    &lt;/jre&gt;\r\n    &lt;/launch4jConfig&gt;\r\nYour help will be very much appreciated.If there are alternative for launch4j then please tell me.","title":"launch4j bundled JRE error .&quot;This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted&quot;","body":"<p>I am using launch4j for the first time and I get following  error. Here is launch4j error log.</p>\n\n<pre><code>Compiling resources\nGenerated resource file...\nLANGUAGE 0, 1\n2 RCDATA BEGIN \"1.5.0\\0\" END\n18 RCDATA BEGIN \"1\\0\" END\n21 RCDATA BEGIN \"http://java.com/download\\0\" END\n20 RCDATA BEGIN \"32\\0\" END\n101 RCDATA BEGIN \"An error occurred while starting the application.\\0\" END\n102 RCDATA BEGIN \"This application was configured to use a \nbundled Java Runtime Environment but the runtime is missing or corrupted.\\0\" END\n103 RCDATA BEGIN \"This application requires a Java Runtime Environment\\0\" END\n104 RCDATA BEGIN \"The registry refers to a nonexistent\nJava Runtime Environment installation or the runtime is corrupted.\\0\" END\n17 RCDATA BEGIN \"true\\0\" END\n</code></pre>\n\n<p>and here is generated xml file</p>\n\n<pre><code>&lt;launch4jConfig&gt;\n&lt;dontWrapJar&gt;false&lt;/dontWrapJar&gt;\n&lt;headerType&gt;gui&lt;/headerType&gt;\n&lt;jar&gt;/DesktopApp/launch4j/applicationname.jar&lt;/jar&gt;\n&lt;outfile&gt;/DesktopApp/launch4j/applicationname.exe&lt;/outfile&gt;\n&lt;errTitle&gt;&lt;/errTitle&gt;\n&lt;cmdLine&gt;&lt;/cmdLine&gt;\n&lt;chdir&gt;&lt;/chdir&gt;\n&lt;priority&gt;normal&lt;/priority&gt;\n&lt;downloadUrl&gt;http://java.com/download&lt;/downloadUrl&gt;\n&lt;supportUrl&gt;&lt;/supportUrl&gt;\n&lt;stayAlive&gt;false&lt;/stayAlive&gt;\n&lt;manifest&gt;&lt;/manifest&gt;\n&lt;icon&gt;&lt;/icon&gt;\n&lt;jre&gt;\n&lt;path&gt;&lt;/path&gt;\n&lt;bundledJre64Bit&gt;false&lt;/bundledJre64Bit&gt;\n&lt;minVersion&gt;1.5.0&lt;/minVersion&gt;\n&lt;maxVersion&gt;&lt;/maxVersion&gt;\n&lt;jdkPreference&gt;preferJre&lt;/jdkPreference&gt;\n&lt;/jre&gt;\n&lt;/launch4jConfig&gt;\n</code></pre>\n\n<p>Your help will be very much appreciated.If there are alternative for launch4j then please tell me.</p>\n"},{"tags":["java","android-studio","kotlin","java-8"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1679175363,"post_id":75778749,"comment_id":133675427,"body_markdown":"You can’t use that function for a property initializer. Properties are initialized when the class is instantiated, which is before it has application info assigned and before you set a content view for it to search for any views.","body":"You can’t use that function for a property initializer. Properties are initialized when the class is instantiated, which is before it has application info assigned and before you set a content view for it to search for any views."},{"owner":{"account_id":7435389,"reputation":43,"user_id":5655003,"display_name":"gab"},"score":0,"creation_date":1679177661,"post_id":75778749,"comment_id":133675718,"body_markdown":"If I open a past project that I did before this error started to occur, and delete all the files and replace it with the ones mentioned above, the project will run. But on new project it doesn&#39;t. that&#39;s what I&#39;m trying to understand here.\n\nThis function is actually from the Google Android  Tutorial basically.","body":"If I open a past project that I did before this error started to occur, and delete all the files and replace it with the ones mentioned above, the project will run. But on new project it doesn&#39;t. that&#39;s what I&#39;m trying to understand here.  This function is actually from the Google Android  Tutorial basically."},{"owner":{"account_id":7435389,"reputation":43,"user_id":5655003,"display_name":"gab"},"score":0,"creation_date":1679177842,"post_id":75778749,"comment_id":133675742,"body_markdown":"Here: https://developer.android.com/codelabs/basic-android-kotlin-training-create-dice-roller-app-with-button?continue=https%3A%2F%2Fdeveloper.android.com%2Fcourses%2Fpathways%2Fandroid-basics-kotlin-four%23codelab-https%3A%2F%2Fdeveloper.android.com%2Fcodelabs%2Fbasic-android-kotlin-training-create-dice-roller-app-with-button#4","body":"Here: <a href=\"https://developer.android.com/codelabs/basic-android-kotlin-training-create-dice-roller-app-with-button?continue=https%3A%2F%2Fdeveloper.android.com%2Fcourses%2Fpathways%2Fandroid-basics-kotlin-four%23codelab-https%3A%2F%2Fdeveloper.android.com%2Fcodelabs%2Fbasic-android-kotlin-training-create-dice-roller-app-with-button#4\" rel=\"nofollow noreferrer\">developer.android.com/codelabs/&hellip;</a>"},{"owner":{"account_id":7435389,"reputation":43,"user_id":5655003,"display_name":"gab"},"score":0,"creation_date":1679178751,"post_id":75778749,"comment_id":133675854,"body_markdown":"I added the whole error log","body":"I added the whole error log"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1679186871,"post_id":75778749,"comment_id":133676535,"body_markdown":"The difference between the tutorial and your code is you put the `val button...` line *outside* the `onCreate()` function, thereby making it a class property. And like I said above, you cannot use `findViewById` in a *property* initializer because properties are initialized too early. Your `button` line is being executed *before* the `onCreate` function is called because all properties are initialized at class instantiation time.","body":"The difference between the tutorial and your code is you put the <code>val button...</code> line <i>outside</i> the <code>onCreate()</code> function, thereby making it a class property. And like I said above, you cannot use <code>findViewById</code> in a <i>property</i> initializer because properties are initialized too early. Your <code>button</code> line is being executed <i>before</i> the <code>onCreate</code> function is called because all properties are initialized at class instantiation time."},{"owner":{"account_id":7435389,"reputation":43,"user_id":5655003,"display_name":"gab"},"score":0,"creation_date":1679242063,"post_id":75778749,"comment_id":133682166,"body_markdown":"thanks, yesterday I did realize the mistake too. I also found that using binding instead of findViewById solved the issue too.","body":"thanks, yesterday I did realize the mistake too. I also found that using binding instead of findViewById solved the issue too."}],"owner":{"account_id":7435389,"reputation":43,"user_id":5655003,"display_name":"gab"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679178726,"creation_date":1679174619,"question_id":75778749,"body_markdown":"I am having a weird issue (I believe something is wrong with my Java JDK setup in android studio).\r\n\r\nContext: previously I never had that error before when running my apps on emulators.\r\n\r\nHere&#39;s my code (see below, it&#39;s pretty basic)\r\n\r\nI have an basic XML &amp; KT file in Android Studio. everything  will run and compile if I omit the line\r\n\r\n`val button: Button = findViewById(R.id.button)` \r\n\r\nIt seems that the function is not recognized, but it&#39;s a pretty basic standard operation in android kotlin. I noticed that previously Android would suggest an auto complete for it, but now it doesn&#39;t apply that auto-complete.\r\n\r\nThat line is technically correct (again I never experienced the error before but by adding any sort of kotlin function or method. I get this error\r\n\r\n**java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference**\r\n\r\n**This is happening for a new project that I create, if I go to open a past project before that issue happened that past project will run without any issue. I don&#39;t know what&#39;s happening here** \r\n\r\n\r\n\r\nactivity_main.xml\r\n-----------------\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Hello World!&quot;\r\n            android:id=&quot;@+id/button&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\nMainActivity.kt\r\n----------------\r\n\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity\r\n    import android.os.Bundle\r\n    import android.widget.Button\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n        }\r\n    \r\n        val button: Button = findViewById(R.id.button)\r\n    }\r\n    \r\n\r\nI am expecting the emulator to run without any errors.\r\n\r\nI am suspecting something is in my android studio setup but I have no idea how to troubleshoot it.\r\n\r\n\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.easyuseapps.calculatormaster, PID: 3562\r\n        java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.calculatormaster/com.example.calculatormaster.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3042)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3282)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1970)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:214)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7156)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:975)\r\n         Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference\r\n            at android.content.ContextWrapper.getApplicationInfo(ContextWrapper.java:164)\r\n            at android.view.ContextThemeWrapper.getTheme(ContextThemeWrapper.java:157)\r\n            at android.content.Context.obtainStyledAttributes(Context.java:677)\r\n            at androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:922)\r\n            at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:889)\r\n            at androidx.appcompat.app.AppCompatDelegateImpl.findViewById(AppCompatDelegateImpl.java:691)\r\n            at androidx.appcompat.app.AppCompatActivity.findViewById(AppCompatActivity.java:264)\r\n            at com.easyuseapps.calculatormaster.MainActivity.&lt;init&gt;(MainActivity.kt:14)\r\n            at java.lang.Class.newInstance(Native Method)\r\n            at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:69)\r\n            at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\r\n            at android.app.Instrumentation.newActivity(Instrumentation.java:1219)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3030)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3282) \r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78) \r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108) \r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68) \r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1970) \r\n            at android.os.Handler.dispatchMessage(Handler.java:106) \r\n            at android.os.Looper.loop(Looper.java:214) \r\n            at android.app.ActivityThread.main(ActivityThread.java:7156) \r\n           at java.lang.reflect.Method.invoke(Native Method) \r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494) \r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:975) \r\n    I/Process: Sending signal. PID: 3562 SIG: 9\r\n","title":"(Android Studio - Kotlin) java.lang.NullPointerException: Attempt to invoke virtual method","body":"<p>I am having a weird issue (I believe something is wrong with my Java JDK setup in android studio).</p>\n<p>Context: previously I never had that error before when running my apps on emulators.</p>\n<p>Here's my code (see below, it's pretty basic)</p>\n<p>I have an basic XML &amp; KT file in Android Studio. everything  will run and compile if I omit the line</p>\n<p><code>val button: Button = findViewById(R.id.button)</code></p>\n<p>It seems that the function is not recognized, but it's a pretty basic standard operation in android kotlin. I noticed that previously Android would suggest an auto complete for it, but now it doesn't apply that auto-complete.</p>\n<p>That line is technically correct (again I never experienced the error before but by adding any sort of kotlin function or method. I get this error</p>\n<p><strong>java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()' on a null object reference</strong></p>\n<p><strong>This is happening for a new project that I create, if I go to open a past project before that issue happened that past project will run without any issue. I don't know what's happening here</strong></p>\n<h2>activity_main.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hello World!&quot;\n        android:id=&quot;@+id/button&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<h2>MainActivity.kt</h2>\n<pre><code>import androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.Button\n\nclass MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n\n    val button: Button = findViewById(R.id.button)\n}\n</code></pre>\n<p>I am expecting the emulator to run without any errors.</p>\n<p>I am suspecting something is in my android studio setup but I have no idea how to troubleshoot it.</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.easyuseapps.calculatormaster, PID: 3562\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.calculatormaster/com.example.calculatormaster.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3042)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3282)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1970)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7156)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:975)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()' on a null object reference\n        at android.content.ContextWrapper.getApplicationInfo(ContextWrapper.java:164)\n        at android.view.ContextThemeWrapper.getTheme(ContextThemeWrapper.java:157)\n        at android.content.Context.obtainStyledAttributes(Context.java:677)\n        at androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:922)\n        at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:889)\n        at androidx.appcompat.app.AppCompatDelegateImpl.findViewById(AppCompatDelegateImpl.java:691)\n        at androidx.appcompat.app.AppCompatActivity.findViewById(AppCompatActivity.java:264)\n        at com.easyuseapps.calculatormaster.MainActivity.&lt;init&gt;(MainActivity.kt:14)\n        at java.lang.Class.newInstance(Native Method)\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:69)\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1219)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3030)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3282) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1970) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loop(Looper.java:214) \n        at android.app.ActivityThread.main(ActivityThread.java:7156) \n       at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:975) \nI/Process: Sending signal. PID: 3562 SIG: 9\n</code></pre>\n"},{"tags":["java","c","pointers","ansi-c"],"comments":[{"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"score":0,"creation_date":1310636453,"post_id":6691019,"comment_id":7917366,"body_markdown":"it is really hard to read through all this pointer magic, you&#39;d better post what you have in java and where the problem exactly is.","body":"it is really hard to read through all this pointer magic, you&#39;d better post what you have in java and where the problem exactly is."}],"answers":[{"comments":[{"owner":{"account_id":449411,"reputation":11,"user_id":844178,"display_name":"user844178"},"score":0,"creation_date":1310802982,"post_id":6691258,"comment_id":7952883,"body_markdown":"Thank you very much.\nYes, in fact, I have the equation that defines the process.\nThe problem is, &quot;I am newbie&quot; on Java. I have my doubts on how to convert all this pointers work to  Java arrays.\nNow With your clarification I think I can.","body":"Thank you very much. Yes, in fact, I have the equation that defines the process. The problem is, &quot;I am newbie&quot; on Java. I have my doubts on how to convert all this pointers work to  Java arrays. Now With your clarification I think I can."},{"owner":{"account_id":307351,"reputation":23310,"user_id":618598,"accept_rate":76,"display_name":"Bernd Elkemann"},"score":0,"creation_date":1310816667,"post_id":6691258,"comment_id":7954198,"body_markdown":"That is good to hear. If you run into any problems with expressing your formula on Java arrays, please tell.","body":"That is good to hear. If you run into any problems with expressing your formula on Java arrays, please tell."}],"tags":[],"owner":{"account_id":307351,"reputation":23310,"user_id":618598,"accept_rate":76,"display_name":"Bernd Elkemann"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1310636685,"creation_date":1310636685,"answer_id":6691258,"question_id":6691019,"body_markdown":"This code is easier rewritten than ported. The reason is, that it uses a large number of pointer-arithmetic and casting. \r\n\r\nIt looks to me like this code combines a sliding window and averaging functions over the data. You can easily do this in Java, just place each time-series in an array, use an index (instead of a pointer) to point at the array&#39;s entries. In the case where the C-code uses a pointer and then a (possibly negative) offset as a second pointer just use two indices into the time-series-array.\r\n\r\nIt is easier to do this if you have the formula (math-notation. sliding-window plus averaging functions) that this code is supposed to compute and translate the formula to java.","title":"ANSI C pointers to java","body":"<p>This code is easier rewritten than ported. The reason is, that it uses a large number of pointer-arithmetic and casting. </p>\n\n<p>It looks to me like this code combines a sliding window and averaging functions over the data. You can easily do this in Java, just place each time-series in an array, use an index (instead of a pointer) to point at the array's entries. In the case where the C-code uses a pointer and then a (possibly negative) offset as a second pointer just use two indices into the time-series-array.</p>\n\n<p>It is easier to do this if you have the formula (math-notation. sliding-window plus averaging functions) that this code is supposed to compute and translate the formula to java.</p>\n"}],"owner":{"account_id":449411,"reputation":11,"user_id":844178,"display_name":"user844178"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679177946,"creation_date":1310635323,"question_id":6691019,"body_markdown":"Since some weeks ago I have been trying to convert this c and other c function to java language (i&#39;m a newbie on it).\r\nMy first problem  is how-to convert to java code, the pointers on lines like:\r\n\r\n    q = fdata + ind;\r\n    datend = fdata + buff_size;\r\n\r\nFor example when &quot;ind&quot; has a negative position (-220 for example) the pointer will be on &quot;ind&quot; position before &quot;fdata&quot; values, also the same occur with datend var.\r\n\r\nI figured out that can be solved on isolated way by creating an index var for each pointer to know where there are pointing at. The real problem for me comes a few line after that, when i trying to not run over end of frame of &quot;fdata&quot; array.\r\n\r\nCan some body with more experiences help me please?\r\nThank.\r\n\r\n   \r\n    static Stat *stat = NULL;\r\n    static float *mem = NULL;\r\n    \r\n    static Stat*\r\n    get_stationarity(fdata, freq, buff_size, nframes, frame_step, first_time)\r\n    float *fdata;\r\n    double freq;\r\n    int buff_size, nframes, frame_step, first_time;\r\n    {\r\n        static int nframes_old = 0, memsize;\r\n        float preemp = 0.4f, stab = 30.0f;\r\n        float *p, *q, *r, *datend;\r\n        int ind, i, j, m, size, order, agap, w_type = 3;\r\n    \r\n        agap = (int) (STAT_AINT * freq);\r\n        size = (int) (STAT_WSIZE * freq);\r\n        ind = (agap - size) / 2;\r\n    \r\n        if (nframes_old &lt; nframes || !stat || first_time) {\r\n            /* move this to init_dp_f0() later */\r\n            nframes_old = nframes;\r\n            if (stat) {\r\n                ckfree((char *) stat-&gt;stat);\r\n                ckfree((char *) stat-&gt;rms);\r\n                ckfree((char *) stat-&gt;rms_ratio);\r\n                ckfree((char *) stat);\r\n            }\r\n            if (mem) ckfree((void *) mem);\r\n            stat = (Stat *) ckalloc(sizeof (Stat));\r\n            stat-&gt;stat = (float*) ckalloc(sizeof (float) *nframes);\r\n            stat-&gt;rms = (float*) ckalloc(sizeof (float) *nframes);\r\n            stat-&gt;rms_ratio = (float*) ckalloc(sizeof (float) *nframes);\r\n            memsize = (int) (STAT_WSIZE * freq) + (int) (STAT_AINT * freq);\r\n            mem = (float *) ckalloc(sizeof (float) * memsize);\r\n            for (j = 0; j &lt; memsize; j++) mem[j] = 0;\r\n        }\r\n    \r\n        if (nframes == 0) return (stat);\r\n    \r\n        q = fdata + ind;\r\n        datend = fdata + buff_size;\r\n    \r\n        if ((order = (int) (2.0 + (freq / 1000.0))) &gt; BIGSORD) {\r\n            fprintf(stderr,\r\n                    &quot;exceeds that allowable (%d); reduce Fs\\n&quot;, BIGSORD);\r\n            order = BIGSORD;\r\n        }\r\n    \r\n        /* prepare for the first frame */\r\n        for (j = memsize / 2, i = 0; j &lt; memsize; j++, i++) mem[j] = fdata[i];\r\n    \r\n        /* do not run over end of frame */\r\n    \r\n        for (j = 0, p = q - agap; j &lt; nframes; j++, p += frame_step, q += frame_step) {\r\n            if ((p &gt;= fdata) &amp;&amp; (q &gt;= fdata) &amp;&amp; (q + size &lt;= datend))\r\n                stat-&gt;stat[j] = get_similarity(order, size, p, q,\r\n                    &amp;(stat-&gt;rms[j]),\r\n                    &amp;(stat-&gt;rms_ratio[j]), preemp,\r\n                    stab, w_type, 0);\r\n            else {\r\n                if (first_time) {\r\n                    if ((p &lt; fdata) &amp;&amp; (q &gt;= fdata) &amp;&amp; (q + size &lt;= datend))\r\n                        stat-&gt;stat[j] = get_similarity(order, size, NULL, q,\r\n                            &amp;(stat-&gt;rms[j]),\r\n                            &amp;(stat-&gt;rms_ratio[j]),\r\n                            preemp, stab, w_type, 1);\r\n                    else {\r\n                        stat-&gt;rms[j] = 0.0;\r\n                        stat-&gt;stat[j] = 0.01f * 0.2f; /* a big transition */\r\n                        stat-&gt;rms_ratio[j] = 1.0; /* no amplitude change */\r\n                    }\r\n                } else {\r\n                    if ((p &lt; fdata) &amp;&amp; (q + size &lt;= datend)) {\r\n                        stat-&gt;stat[j] = get_similarity(order, size, mem,\r\n                                mem + (memsize / 2) + ind,\r\n                                &amp;(stat-&gt;rms[j]),\r\n                                &amp;(stat-&gt;rms_ratio[j]),\r\n                                preemp, stab, w_type, 0);\r\n                        /* prepare for the next frame_step if needed */\r\n                        if (p + frame_step &lt; fdata) {\r\n                            for (m = 0; m &lt; (memsize - frame_step); m++)\r\n                                mem[m] = mem[m + frame_step];\r\n                            r = q + size;\r\n                            for (m = 0; m &lt; frame_step; m++)\r\n                                mem[memsize - frame_step + m] = *r++;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        /* last frame, prepare for next call */\r\n        for (j = (memsize / 2) - 1, p = fdata + (nframes * frame_step) - 1; j &gt;= 0 &amp;&amp; p &gt;= fdata; j--)\r\n            mem[j] = *p--;\r\n        return (stat);\r\n    }","title":"ANSI C pointers to java","body":"<p>Since some weeks ago I have been trying to convert this c and other c function to java language (i'm a newbie on it).\nMy first problem  is how-to convert to java code, the pointers on lines like:</p>\n\n<pre><code>q = fdata + ind;\ndatend = fdata + buff_size;\n</code></pre>\n\n<p>For example when \"ind\" has a negative position (-220 for example) the pointer will be on \"ind\" position before \"fdata\" values, also the same occur with datend var.</p>\n\n<p>I figured out that can be solved on isolated way by creating an index var for each pointer to know where there are pointing at. The real problem for me comes a few line after that, when i trying to not run over end of frame of \"fdata\" array.</p>\n\n<p>Can some body with more experiences help me please?\nThank.</p>\n\n<pre><code>static Stat *stat = NULL;\nstatic float *mem = NULL;\n\nstatic Stat*\nget_stationarity(fdata, freq, buff_size, nframes, frame_step, first_time)\nfloat *fdata;\ndouble freq;\nint buff_size, nframes, frame_step, first_time;\n{\n    static int nframes_old = 0, memsize;\n    float preemp = 0.4f, stab = 30.0f;\n    float *p, *q, *r, *datend;\n    int ind, i, j, m, size, order, agap, w_type = 3;\n\n    agap = (int) (STAT_AINT * freq);\n    size = (int) (STAT_WSIZE * freq);\n    ind = (agap - size) / 2;\n\n    if (nframes_old &lt; nframes || !stat || first_time) {\n        /* move this to init_dp_f0() later */\n        nframes_old = nframes;\n        if (stat) {\n            ckfree((char *) stat-&gt;stat);\n            ckfree((char *) stat-&gt;rms);\n            ckfree((char *) stat-&gt;rms_ratio);\n            ckfree((char *) stat);\n        }\n        if (mem) ckfree((void *) mem);\n        stat = (Stat *) ckalloc(sizeof (Stat));\n        stat-&gt;stat = (float*) ckalloc(sizeof (float) *nframes);\n        stat-&gt;rms = (float*) ckalloc(sizeof (float) *nframes);\n        stat-&gt;rms_ratio = (float*) ckalloc(sizeof (float) *nframes);\n        memsize = (int) (STAT_WSIZE * freq) + (int) (STAT_AINT * freq);\n        mem = (float *) ckalloc(sizeof (float) * memsize);\n        for (j = 0; j &lt; memsize; j++) mem[j] = 0;\n    }\n\n    if (nframes == 0) return (stat);\n\n    q = fdata + ind;\n    datend = fdata + buff_size;\n\n    if ((order = (int) (2.0 + (freq / 1000.0))) &gt; BIGSORD) {\n        fprintf(stderr,\n                \"exceeds that allowable (%d); reduce Fs\\n\", BIGSORD);\n        order = BIGSORD;\n    }\n\n    /* prepare for the first frame */\n    for (j = memsize / 2, i = 0; j &lt; memsize; j++, i++) mem[j] = fdata[i];\n\n    /* do not run over end of frame */\n\n    for (j = 0, p = q - agap; j &lt; nframes; j++, p += frame_step, q += frame_step) {\n        if ((p &gt;= fdata) &amp;&amp; (q &gt;= fdata) &amp;&amp; (q + size &lt;= datend))\n            stat-&gt;stat[j] = get_similarity(order, size, p, q,\n                &amp;(stat-&gt;rms[j]),\n                &amp;(stat-&gt;rms_ratio[j]), preemp,\n                stab, w_type, 0);\n        else {\n            if (first_time) {\n                if ((p &lt; fdata) &amp;&amp; (q &gt;= fdata) &amp;&amp; (q + size &lt;= datend))\n                    stat-&gt;stat[j] = get_similarity(order, size, NULL, q,\n                        &amp;(stat-&gt;rms[j]),\n                        &amp;(stat-&gt;rms_ratio[j]),\n                        preemp, stab, w_type, 1);\n                else {\n                    stat-&gt;rms[j] = 0.0;\n                    stat-&gt;stat[j] = 0.01f * 0.2f; /* a big transition */\n                    stat-&gt;rms_ratio[j] = 1.0; /* no amplitude change */\n                }\n            } else {\n                if ((p &lt; fdata) &amp;&amp; (q + size &lt;= datend)) {\n                    stat-&gt;stat[j] = get_similarity(order, size, mem,\n                            mem + (memsize / 2) + ind,\n                            &amp;(stat-&gt;rms[j]),\n                            &amp;(stat-&gt;rms_ratio[j]),\n                            preemp, stab, w_type, 0);\n                    /* prepare for the next frame_step if needed */\n                    if (p + frame_step &lt; fdata) {\n                        for (m = 0; m &lt; (memsize - frame_step); m++)\n                            mem[m] = mem[m + frame_step];\n                        r = q + size;\n                        for (m = 0; m &lt; frame_step; m++)\n                            mem[memsize - frame_step + m] = *r++;\n                    }\n                }\n            }\n        }\n    }\n\n    /* last frame, prepare for next call */\n    for (j = (memsize / 2) - 1, p = fdata + (nframes * frame_step) - 1; j &gt;= 0 &amp;&amp; p &gt;= fdata; j--)\n        mem[j] = *p--;\n    return (stat);\n}\n</code></pre>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1679174142,"post_id":75778692,"comment_id":133675293,"body_markdown":"Try looking at [Hide the status bar](https://developer.android.com/training/system-ui/status).","body":"Try looking at <a href=\"https://developer.android.com/training/system-ui/status\" rel=\"nofollow noreferrer\">Hide the status bar</a>."}],"answers":[{"tags":[],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679175718,"creation_date":1679175718,"answer_id":75778828,"question_id":75778692,"body_markdown":"Set these properties in your theme:\r\n\r\n - Hide the status bar\r\n\r\n```&lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;```\r\n\r\n - No action bar instead of title bar\r\n\r\n```&lt;item name=&quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;```\r\n\r\n- Remove the title bar\r\n\r\n```&lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;```\r\n","title":"How to hide status bar on android studio app?","body":"<p>Set these properties in your theme:</p>\n<ul>\n<li>Hide the status bar</li>\n</ul>\n<p><code>&lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;</code></p>\n<ul>\n<li>No action bar instead of title bar</li>\n</ul>\n<p><code>&lt;item name=&quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;</code></p>\n<ul>\n<li>Remove the title bar</li>\n</ul>\n<p><code>&lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;</code></p>\n"}],"owner":{"account_id":28053151,"reputation":1,"user_id":21428673,"display_name":"Samvel Hovhannisyan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679175718,"creation_date":1679173884,"question_id":75778692,"body_markdown":"I can&#39;t hide status bar on my android app\r\n\r\nI&#39;ve tried to use `&lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;` and programmicaly `getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);` using java but nothing helped","title":"How to hide status bar on android studio app?","body":"<p>I can't hide status bar on my android app</p>\n<p>I've tried to use <code>&lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;</code> and programmicaly <code>getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);</code> using java but nothing helped</p>\n"},{"tags":["java","android","image","hide","toast"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1679175267,"post_id":75778786,"comment_id":133675412,"body_markdown":"AFAIK, what you want is not possible on modern versions of Android.","body":"AFAIK, what you want is not possible on modern versions of Android."},{"owner":{"account_id":6947970,"reputation":98,"user_id":5331651,"display_name":"Sobhan"},"score":0,"creation_date":1679206671,"post_id":75778786,"comment_id":133677780,"body_markdown":"you cant change the app icon after the app is installed.\nyou can use the snackbar for that, but you should change the view of that.","body":"you cant change the app icon after the app is installed. you can use the snackbar for that, but you should change the view of that."}],"owner":{"account_id":28053167,"reputation":1,"user_id":21428687,"display_name":"Marwan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679175101,"creation_date":1679175101,"question_id":75778786,"body_markdown":"I want to know how can I remove and change the App icon displayed when I show a Toast in Android application using Java.\r\nThanks in advance.\r\n\r\n\r\nclass Toast doesn&#39;t have any method to modify it. i don&#39;t know if setView helps to do that or not but it is deprecated. Tried the snackBar but it looks totally different.","title":"Android Toast without image","body":"<p>I want to know how can I remove and change the App icon displayed when I show a Toast in Android application using Java.\nThanks in advance.</p>\n<p>class Toast doesn't have any method to modify it. i don't know if setView helps to do that or not but it is deprecated. Tried the snackBar but it looks totally different.</p>\n"},{"tags":["java","android","dagger","square"],"answers":[{"comments":[{"owner":{"account_id":180130,"reputation":30121,"user_id":413254,"accept_rate":84,"display_name":"loeschg"},"score":4,"creation_date":1415220007,"post_id":22904831,"comment_id":42114134,"body_markdown":"Do you have multiple ObjectGraphs in your custom Application class? Is there one singular ApplicationGraph that may or may not include the AuthModule depending on whether or not the user is authed? Or would you have 2 graphs in this case... an ApplicationGraph and AuthedGraph? If so, is this AuthedGroup essentially `ApplicationGraph.plus(new AuthModule())`?","body":"Do you have multiple ObjectGraphs in your custom Application class? Is there one singular ApplicationGraph that may or may not include the AuthModule depending on whether or not the user is authed? Or would you have 2 graphs in this case... an ApplicationGraph and AuthedGraph? If so, is this AuthedGroup essentially <code>ApplicationGraph.plus(new AuthModule())</code>?"}],"tags":[],"owner":{"account_id":44914,"reputation":75768,"user_id":132047,"accept_rate":88,"display_name":"Jake Wharton"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1396851226,"creation_date":1396851226,"answer_id":22904831,"question_id":22902869,"body_markdown":"&gt; The solution is pretty simple, you can just do this &quot;plus&quot; operation once and store the new object graph somewhere else (maybe the application class), but I was wondering if this is a good approach?\r\n\r\nYep. The logged-in graph&#39;s lifecycle needs to live as long as the user is logged in and the process is around. Since the activity&#39;s lifecycle is extremely short, this isn&#39;t a good place for it.\r\n\r\nI used it as an example to ease people into the concept using something they are familiar with.\r\n\r\n&gt; Can anyone from Square can provide any insight into what you do in your applications?\r\n\r\nAll graphs that aren&#39;t tied to UI are managed by an `Application` class. Through this we are guaranteed that it&#39;s created once, created first, and only disappears if the process dies.\r\n\r\nAnything UI-related (activity-scope graphs, fragment-scope graphs, etc.) is plussed on top of these as the UI comes and goes.","title":"Dagger scopes in Android","body":"<blockquote>\n  <p>The solution is pretty simple, you can just do this \"plus\" operation once and store the new object graph somewhere else (maybe the application class), but I was wondering if this is a good approach?</p>\n</blockquote>\n\n<p>Yep. The logged-in graph's lifecycle needs to live as long as the user is logged in and the process is around. Since the activity's lifecycle is extremely short, this isn't a good place for it.</p>\n\n<p>I used it as an example to ease people into the concept using something they are familiar with.</p>\n\n<blockquote>\n  <p>Can anyone from Square can provide any insight into what you do in your applications?</p>\n</blockquote>\n\n<p>All graphs that aren't tied to UI are managed by an <code>Application</code> class. Through this we are guaranteed that it's created once, created first, and only disappears if the process dies.</p>\n\n<p>Anything UI-related (activity-scope graphs, fragment-scope graphs, etc.) is plussed on top of these as the UI comes and goes.</p>\n"}],"owner":{"account_id":1731390,"reputation":9458,"user_id":1584931,"accept_rate":71,"display_name":"Bradley Campbell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":969,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":22904831,"answer_count":1,"score":9,"last_activity_date":1679174196,"creation_date":1396839316,"question_id":22902869,"body_markdown":"Jake Wharton&#39;s talk at Devoxx 2013, Architecting Android Applications with Dagger, talked about creating a Dagger scope for logged in users only. This sort of thing sounds really clean, and I want to do this in my applications. \r\n\r\nThe code that was discussed in the talk was something along the lines of:\r\n\r\n    public class LoggedInActivity extends Activity {\r\n    \r\n        @Inject User user;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_logged_in);\r\n    \r\n            DaggerScopesApp app = (DaggerScopesApp) getApplication();\r\n            app.getObjectGraph().plus(new UserModule(&quot;exampleusername&quot;)).inject(this);\r\n    \r\n            findViewById(R.id.do_something_button).setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Toast.makeText(LoggedInActivity.this, user.username + &quot; : &quot; +\r\n                            user.someValue++, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nHowever, if the injected User is scoped as a @Singleton, then its properties will disappear on config change (as the object graph is created in onCreate). \r\n\r\nThe solution is pretty simple, you can just do this &quot;plus&quot; operation once and store the new object graph somewhere else (maybe the application class), but I was wondering if this is a good approach? Can anyone from Square provide any insight into what you do in your applications? Do you just not have singleton objects in the &quot;logged-in&quot; graph?","title":"Dagger scopes in Android","body":"<p>Jake Wharton's talk at Devoxx 2013, Architecting Android Applications with Dagger, talked about creating a Dagger scope for logged in users only. This sort of thing sounds really clean, and I want to do this in my applications.</p>\n<p>The code that was discussed in the talk was something along the lines of:</p>\n<pre><code>public class LoggedInActivity extends Activity {\n\n    @Inject User user;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_logged_in);\n\n        DaggerScopesApp app = (DaggerScopesApp) getApplication();\n        app.getObjectGraph().plus(new UserModule(&quot;exampleusername&quot;)).inject(this);\n\n        findViewById(R.id.do_something_button).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(LoggedInActivity.this, user.username + &quot; : &quot; +\n                        user.someValue++, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n}\n</code></pre>\n<p>However, if the injected User is scoped as a @Singleton, then its properties will disappear on config change (as the object graph is created in onCreate).</p>\n<p>The solution is pretty simple, you can just do this &quot;plus&quot; operation once and store the new object graph somewhere else (maybe the application class), but I was wondering if this is a good approach? Can anyone from Square provide any insight into what you do in your applications? Do you just not have singleton objects in the &quot;logged-in&quot; graph?</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1679170247,"post_id":75778235,"comment_id":133674793,"body_markdown":"If you are using Lombok version 1.18 or higher use the `@SuperBuilder` annotation. Worth a read: https://www.baeldung.com/lombok-builder-inheritance","body":"If you are using Lombok version 1.18 or higher use the <code>@SuperBuilder</code> annotation. Worth a read: <a href=\"https://www.baeldung.com/lombok-builder-inheritance\" rel=\"nofollow noreferrer\">baeldung.com/lombok-builder-inheritance</a>"},{"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"score":0,"creation_date":1679228880,"post_id":75778235,"comment_id":133680216,"body_markdown":"If I do that I will get this error: ```BEntityBuilder does not take parameters```","body":"If I do that I will get this error: <code>BEntityBuilder does not take parameters</code>"}],"answers":[{"comments":[{"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"score":0,"creation_date":1679172468,"post_id":75778368,"comment_id":133675097,"body_markdown":"Ok, so I guess I have to not use the builder pattern here for this and try to do it in the &quot;classic&quot; way. Or there is another way to do it?","body":"Ok, so I guess I have to not use the builder pattern here for this and try to do it in the &quot;classic&quot; way. Or there is another way to do it?"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1679173614,"post_id":75778368,"comment_id":133675229,"body_markdown":"you can do it by changing the builder method name, with `@Builder(builderMethodName = &quot;centityBuilder&quot;)`. I have updated the answer now","body":"you can do it by changing the builder method name, with <code>@Builder(builderMethodName = &quot;centityBuilder&quot;)</code>. I have updated the answer now"},{"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"score":0,"creation_date":1679228736,"post_id":75778368,"comment_id":133680195,"body_markdown":"If I do that I will get this syntax error: ```Cannot resolve method &#39;bEntity&#39; in &#39;BEntityBuilder&#39;```. To understand what I am saying please **look here**: https://pastebin.com/Fy8MCAvZ","body":"If I do that I will get this syntax error: <code>Cannot resolve method &#39;bEntity&#39; in &#39;BEntityBuilder&#39;</code>. To understand what I am saying please <b>look here</b>: <a href=\"https://pastebin.com/Fy8MCAvZ\" rel=\"nofollow noreferrer\">pastebin.com/Fy8MCAvZ</a>"}],"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679173575,"creation_date":1679169754,"answer_id":75778368,"question_id":75778235,"body_markdown":"Some method signatures are colliding. Let&#39;s see what Lombok is trying to generate for EntityB:\r\n\r\n    public class BEntity extends AEntity {\r\n    \tprivate Double z;\r\n    \r\n    \tpublic BEntity(AEntity aEntity, Double z) {\r\n    \t\tsuper(aEntity.getId(), aEntity.getX(), aEntity.getZ());\r\n    \t\tthis.z = z;\r\n    \t}\r\n    \t\r\n    \tpublic BEntityBuilder builder() {\r\n    \t\treturn new BEntityBuilder();\r\n    \t}\r\n    \r\n    \tclass BEntityBuilder {\r\n    \t\t// builder pattern using the specified fields\r\n    \t} \r\n    }\r\n\r\nNow, let&#39;s do the same for EntityC:\r\n\r\n    public class CEntity extends BEntity {\r\n    \tprivate Float w;\r\n    \t\r\n    \tpublic CEntity(BEntity bEntity, Float w) {\r\n    \t\tsuper(bEntity.getZ());\r\n    \t\tthis.w = w;\r\n    \t}\r\n    \r\n    \tpublic CEntityBuilder builder() {\r\n    \t\treturn new CEntityBuilder();\r\n    \t}\r\n    \r\n    \tclass CEntityBuilder {\r\n    \t\t// builder pattern using the specified fields\r\n    \t}\r\n    }\r\n\r\nAs you can see, they are both declaring the `builder()` method, but with different return types. Therefore, because `CEntity` is extending `BEntity`, there will be a compilation error. \r\n\r\nIn other words, `CEntity` cannot have both it&#39;s own builder() returning CEntityBuilder as well as inherit the builder method from the parent, returning BEntityBuilder.\r\n\r\nTo prevent this, you need to change one of the builder methods. Lombok allows you to do it using this attribute `builderMethodName`. For instance:\r\n\r\n    public class CEntity extends BEntity {\r\n        private Float w;\r\n        @Builder(builderMethodName = &quot;centityBuilder&quot;)\r\n        public CEntity(BEntity bEntity, Float w) {\r\n            super(bEntity.getZ());\r\n            this.w = w;\r\n        }\r\n    }\r\n\r\nNow, the resulting class will expose both builder() (returning parent builder) and centityBuilder() which will return the current builder.\r\n","title":"builder() in CEntity cannot override builder() in BEntity","body":"<p>Some method signatures are colliding. Let's see what Lombok is trying to generate for EntityB:</p>\n<pre><code>public class BEntity extends AEntity {\n    private Double z;\n\n    public BEntity(AEntity aEntity, Double z) {\n        super(aEntity.getId(), aEntity.getX(), aEntity.getZ());\n        this.z = z;\n    }\n    \n    public BEntityBuilder builder() {\n        return new BEntityBuilder();\n    }\n\n    class BEntityBuilder {\n        // builder pattern using the specified fields\n    } \n}\n</code></pre>\n<p>Now, let's do the same for EntityC:</p>\n<pre><code>public class CEntity extends BEntity {\n    private Float w;\n    \n    public CEntity(BEntity bEntity, Float w) {\n        super(bEntity.getZ());\n        this.w = w;\n    }\n\n    public CEntityBuilder builder() {\n        return new CEntityBuilder();\n    }\n\n    class CEntityBuilder {\n        // builder pattern using the specified fields\n    }\n}\n</code></pre>\n<p>As you can see, they are both declaring the <code>builder()</code> method, but with different return types. Therefore, because <code>CEntity</code> is extending <code>BEntity</code>, there will be a compilation error.</p>\n<p>In other words, <code>CEntity</code> cannot have both it's own builder() returning CEntityBuilder as well as inherit the builder method from the parent, returning BEntityBuilder.</p>\n<p>To prevent this, you need to change one of the builder methods. Lombok allows you to do it using this attribute <code>builderMethodName</code>. For instance:</p>\n<pre><code>public class CEntity extends BEntity {\n    private Float w;\n    @Builder(builderMethodName = &quot;centityBuilder&quot;)\n    public CEntity(BEntity bEntity, Float w) {\n        super(bEntity.getZ());\n        this.w = w;\n    }\n}\n</code></pre>\n<p>Now, the resulting class will expose both builder() (returning parent builder) and centityBuilder() which will return the current builder.</p>\n"}],"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679173575,"creation_date":1679168259,"question_id":75778235,"body_markdown":"I get this error when am trying to use inheritance for some builders in Lombok.\r\n\r\nTo give you some context - AEntity is the parent of the BEntity class, and BEntity is the parent of the CEntity class. \r\n\r\n```\r\nerror: builder() in CEntity cannot override builder() in BEntity\r\n    @Builder\r\n    ^\r\n  return type CEntityBuilder is not compatible with BEntityBuilder\r\n```\r\n\r\nHere it is the **AEntity** class:\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;A&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic class AEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private Integer x;\r\n    private Integer y;\r\n\r\n}\r\n```\r\n\r\nAnd the **BEntity** class:\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;B&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic class BEntity extends AEntity {\r\n    private Double z;\r\n    @Builder\r\n    public BEntity(AEntity aEntity, Double z) {\r\n        super(aEntity.getId(), aEntity.getX(), aEntity.getZ());\r\n        this.z = z;\r\n    }\r\n}\r\n```\r\n\r\nFinally here it is the **CEntity** class:\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;C&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\npublic class CEntity extends BEntity {\r\n    private Float w;\r\n    @Builder\r\n    public CEntity(BEntity bEntity, Float w) {\r\n        super(bEntity.getZ());\r\n        this.w = w;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI also tried somethig like this, to solve the issue:\r\n```\r\npublic static class BEntityBuilder extends AEntityBuilder{\r\n    BBuilder() {\r\n        super();\r\n    }\r\n}\r\n```","title":"builder() in CEntity cannot override builder() in BEntity","body":"<p>I get this error when am trying to use inheritance for some builders in Lombok.</p>\n<p>To give you some context - AEntity is the parent of the BEntity class, and BEntity is the parent of the CEntity class.</p>\n<pre><code>error: builder() in CEntity cannot override builder() in BEntity\n    @Builder\n    ^\n  return type CEntityBuilder is not compatible with BEntityBuilder\n</code></pre>\n<p>Here it is the <strong>AEntity</strong> class:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;A&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class AEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private Integer x;\n    private Integer y;\n\n}\n</code></pre>\n<p>And the <strong>BEntity</strong> class:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;B&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode(callSuper = true)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class BEntity extends AEntity {\n    private Double z;\n    @Builder\n    public BEntity(AEntity aEntity, Double z) {\n        super(aEntity.getId(), aEntity.getX(), aEntity.getZ());\n        this.z = z;\n    }\n}\n</code></pre>\n<p>Finally here it is the <strong>CEntity</strong> class:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;C&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode(callSuper = true)\npublic class CEntity extends BEntity {\n    private Float w;\n    @Builder\n    public CEntity(BEntity bEntity, Float w) {\n        super(bEntity.getZ());\n        this.w = w;\n    }\n\n}\n</code></pre>\n<p>I also tried somethig like this, to solve the issue:</p>\n<pre><code>public static class BEntityBuilder extends AEntityBuilder{\n    BBuilder() {\n        super();\n    }\n}\n</code></pre>\n"},{"tags":["java","filter","lambda","set","java-stream"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679008652,"post_id":75762444,"comment_id":133648643,"body_markdown":"What error do you get? Please edit your question and add the full text of the error message.","body":"What error do you get? Please edit your question and add the full text of the error message."},{"owner":{"account_id":23393645,"reputation":17,"user_id":17458006,"display_name":"new_guy91"},"score":0,"creation_date":1679009076,"post_id":75762444,"comment_id":133648708,"body_markdown":"@tgdavies edited to include error message.","body":"@tgdavies edited to include error message."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679009129,"post_id":75762444,"comment_id":133648720,"body_markdown":"Look at your code -- why is there a `.` after `filter`? What is `stream()filter` meant to do?","body":"Look at your code -- why is there a <code>.</code> after <code>filter</code>? What is <code>stream()filter</code> meant to do?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1679009158,"post_id":75762444,"comment_id":133648724,"body_markdown":"Looks like a type inference issue. You can probably fix it by changing `(m)` to `(Movie m)`, or the comparator to `Comparator.comparingDouble(Movie::getImdbScore)`. A [mcve] would help a lot.","body":"Looks like a type inference issue. You can probably fix it by changing <code>(m)</code> to <code>(Movie m)</code>, or the comparator to <code>Comparator.comparingDouble(Movie::getImdbScore)</code>. A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would help a lot."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1679009271,"post_id":75762444,"comment_id":133648747,"body_markdown":"Or maybe it&#39;s the use of block lambdas without a `return`.","body":"Or maybe it&#39;s the use of block lambdas without a <code>return</code>."},{"owner":{"account_id":23393645,"reputation":17,"user_id":17458006,"display_name":"new_guy91"},"score":0,"creation_date":1679009328,"post_id":75762444,"comment_id":133648755,"body_markdown":"@tgvavies that was a typo, I have corrected it.","body":"@tgvavies that was a typo, I have corrected it."},{"owner":{"account_id":23393645,"reputation":17,"user_id":17458006,"display_name":"new_guy91"},"score":0,"creation_date":1679009526,"post_id":75762444,"comment_id":133648787,"body_markdown":"@shmosel the part I am having trouble with is getting a specific genre attribute not the comparison.","body":"@shmosel the part I am having trouble with is getting a specific genre attribute not the comparison."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1679009581,"post_id":75762444,"comment_id":133648795,"body_markdown":"I understand, but bad generics can have cascading effects. Most likely it&#39;s the bad lambda syntax, but it&#39;s hard to help without more specific information.","body":"I understand, but bad generics can have cascading effects. Most likely it&#39;s the bad lambda syntax, but it&#39;s hard to help without more specific information."}],"answers":[{"comments":[{"owner":{"account_id":23393645,"reputation":17,"user_id":17458006,"display_name":"new_guy91"},"score":0,"creation_date":1679009753,"post_id":75762528,"comment_id":133648825,"body_markdown":"This was what it was. I feel incredibly silly now.","body":"This was what it was. I feel incredibly silly now."},{"owner":{"account_id":11390996,"reputation":300,"user_id":10334839,"display_name":"HomeworkHopper"},"score":1,"creation_date":1681826760,"post_id":75762528,"comment_id":134117136,"body_markdown":"Two minor points here, but you can use: `.sorted(Comparator.comparingDouble(Movie::getImdbScore))`, assuming the OP&#39;s dataclass is called &quot;Movie&quot;. Also, from Java 16 onward you can just call `.toList()` on the stream directly instead of using a `.collect()`.","body":"Two minor points here, but you can use: <code>.sorted(Comparator.comparingDouble(Movie::getImdbScore))</code>, assuming the OP&#39;s dataclass is called &quot;Movie&quot;. Also, from Java 16 onward you can just call <code>.toList()</code> on the stream directly instead of using a <code>.collect()</code>."}],"tags":[],"owner":{"account_id":9088765,"reputation":26,"user_id":6765610,"display_name":"LouBen3010"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679173574,"creation_date":1679009480,"answer_id":75762528,"question_id":75762444,"body_markdown":"You&#39;re using lambdas wrong.\r\nEither you use the curly brackets with returning something or the short form without it.\r\n\r\nTry the following:\r\n\r\n```\r\nmovies.stream()\r\n      .filter(m -&gt; m.getGenres().contains(&quot;Action&quot;))\r\n      .sorted((m1, m2) -&gt; Double.compare(m2.getImdbScore(), m1.getImdbScore()))\r\n      .limit(10)\r\n      .collect(Collectors.toList());\r\n```","title":"Java: use stream to check if a set contains a specific string value","body":"<p>You're using lambdas wrong.\nEither you use the curly brackets with returning something or the short form without it.</p>\n<p>Try the following:</p>\n<pre><code>movies.stream()\n      .filter(m -&gt; m.getGenres().contains(&quot;Action&quot;))\n      .sorted((m1, m2) -&gt; Double.compare(m2.getImdbScore(), m1.getImdbScore()))\n      .limit(10)\n      .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":23393645,"reputation":17,"user_id":17458006,"display_name":"new_guy91"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75762528,"answer_count":1,"score":0,"last_activity_date":1679173574,"creation_date":1679008514,"question_id":75762444,"body_markdown":"I am working on a program that parses a csv file containing a list of movies and data on them such as director name, duration, genres, title, rating, year of release, and IMDB score. The program contains a movie object which sets each of these data points to an attribute. as the majority of the movies have multiple genres(i.e. they can be action, adventure, and fantasy) the attribute &quot;genres&quot; has the data type Set&lt;String&gt;.\r\n\r\nI am trying to make multiple lists that identify movies by single genre values such as &quot;adventure&quot;, but I cannot figure out how to use a stream to parse the genres set.\r\nwhat I have tried is as follows:\r\n\r\n    movies.stream().filter((m)-&gt;{m.getGenres().contains(&quot;Action&quot;);}).sorted((m1,m2)-&gt; {Double.compare(m2.getImdbScore(), m1.getImdbScore());}).limit(10).collect(Collectors.toList());\r\n\r\n\r\n\r\nI keep getting the following error:\r\n\r\n    The method filter(Predicate&lt;? super Movie&gt;) in the type Stream&lt;Movie&gt; is not applicable for the arguments ((&lt;no type&gt; m) -&gt; {})\r\n\r\n. How do I do this correctly?","title":"Java: use stream to check if a set contains a specific string value","body":"<p>I am working on a program that parses a csv file containing a list of movies and data on them such as director name, duration, genres, title, rating, year of release, and IMDB score. The program contains a movie object which sets each of these data points to an attribute. as the majority of the movies have multiple genres(i.e. they can be action, adventure, and fantasy) the attribute &quot;genres&quot; has the data type Set.</p>\n<p>I am trying to make multiple lists that identify movies by single genre values such as &quot;adventure&quot;, but I cannot figure out how to use a stream to parse the genres set.\nwhat I have tried is as follows:</p>\n<pre><code>movies.stream().filter((m)-&gt;{m.getGenres().contains(&quot;Action&quot;);}).sorted((m1,m2)-&gt; {Double.compare(m2.getImdbScore(), m1.getImdbScore());}).limit(10).collect(Collectors.toList());\n</code></pre>\n<p>I keep getting the following error:</p>\n<pre><code>The method filter(Predicate&lt;? super Movie&gt;) in the type Stream&lt;Movie&gt; is not applicable for the arguments ((&lt;no type&gt; m) -&gt; {})\n</code></pre>\n<p>. How do I do this correctly?</p>\n"},{"tags":["java","arrays","sorting","mergesort"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679172604,"creation_date":1679172604,"answer_id":75778590,"question_id":75778524,"body_markdown":"You can return an inversion count in both the `mergesort` and `merge` functions. Then, `mergesort` essentially returns the sum of the inversions from sorting both sides of the array and the number of inversions from merging.\r\n\r\nThe key here is that during the merging step, when you take an element from the right side, you essentially swap with every remaining element in the left side, so the number of inversions caused by that is the length of the left array minus the index of the current element reached in the left half.\r\n\r\nHere is a modified version of your code that handles counting inversions:\r\n\r\n```java\r\npublic static long mergesort(int[] array) {\r\n\tint inputLength = array.length;\r\n\tif (inputLength &lt; 2)\r\n\t\treturn 0;\r\n\tint midIndex = array.length / 2;\r\n\tint[] leftHalf = new int[midIndex];\r\n\tint[] rightHalf = new int[inputLength - midIndex];\r\n\tfor (int i = 0; i &lt; midIndex; i++) {\r\n\t\tleftHalf[i] = array[i];\r\n\t}\r\n\tfor (int i = midIndex; i &lt; array.length; i++) {\r\n\t\trightHalf[i - midIndex] = array[i];\r\n\t}\r\n\treturn mergesort(leftHalf) + mergesort(rightHalf) + merge(array, leftHalf, rightHalf);\r\n}\r\n\r\npublic static long merge(int[] array, int[] leftHalf, int[] rightHalf) {\r\n\tint leftSize = leftHalf.length;\r\n\tint rightSize = rightHalf.length;\r\n\tint i = 0;\r\n\tint j = 0;\r\n\tint k = 0;\r\n\tlong inversions = 0;\r\n\twhile (i &lt; leftSize &amp;&amp; j &lt; rightSize) {\r\n\t\tif (leftHalf[i] &lt;= rightHalf[j]) {\r\n\t\t\tarray[k] = leftHalf[i];\r\n\t\t\ti++;\r\n\t\t} else {\r\n\t\t\tarray[k] = rightHalf[j];\r\n\t\t\tinversions += leftSize - i;\r\n\t\t\tj++;\r\n\t\t}\r\n\t\tk++;\r\n\t}\r\n\twhile (i &lt; leftSize) {\r\n\t\tarray[k] = leftHalf[i];\r\n\t\ti++;\r\n\t\tk++;\r\n\t}\r\n\twhile (j &lt; rightSize) {\r\n\t\tarray[k] = rightHalf[j];\r\n\t\tj++;\r\n\t\tk++;\r\n\t}\r\n\treturn inversions;\r\n}\r\n```","title":"Inversion&#39;s Number On Mergesort Algorithm","body":"<p>You can return an inversion count in both the <code>mergesort</code> and <code>merge</code> functions. Then, <code>mergesort</code> essentially returns the sum of the inversions from sorting both sides of the array and the number of inversions from merging.</p>\n<p>The key here is that during the merging step, when you take an element from the right side, you essentially swap with every remaining element in the left side, so the number of inversions caused by that is the length of the left array minus the index of the current element reached in the left half.</p>\n<p>Here is a modified version of your code that handles counting inversions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static long mergesort(int[] array) {\n    int inputLength = array.length;\n    if (inputLength &lt; 2)\n        return 0;\n    int midIndex = array.length / 2;\n    int[] leftHalf = new int[midIndex];\n    int[] rightHalf = new int[inputLength - midIndex];\n    for (int i = 0; i &lt; midIndex; i++) {\n        leftHalf[i] = array[i];\n    }\n    for (int i = midIndex; i &lt; array.length; i++) {\n        rightHalf[i - midIndex] = array[i];\n    }\n    return mergesort(leftHalf) + mergesort(rightHalf) + merge(array, leftHalf, rightHalf);\n}\n\npublic static long merge(int[] array, int[] leftHalf, int[] rightHalf) {\n    int leftSize = leftHalf.length;\n    int rightSize = rightHalf.length;\n    int i = 0;\n    int j = 0;\n    int k = 0;\n    long inversions = 0;\n    while (i &lt; leftSize &amp;&amp; j &lt; rightSize) {\n        if (leftHalf[i] &lt;= rightHalf[j]) {\n            array[k] = leftHalf[i];\n            i++;\n        } else {\n            array[k] = rightHalf[j];\n            inversions += leftSize - i;\n            j++;\n        }\n        k++;\n    }\n    while (i &lt; leftSize) {\n        array[k] = leftHalf[i];\n        i++;\n        k++;\n    }\n    while (j &lt; rightSize) {\n        array[k] = rightHalf[j];\n        j++;\n        k++;\n    }\n    return inversions;\n}\n</code></pre>\n"}],"owner":{"account_id":19974225,"reputation":21,"user_id":14642422,"display_name":"gmnpjpn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75778590,"answer_count":1,"score":1,"last_activity_date":1679172604,"creation_date":1679171634,"question_id":75778524,"body_markdown":"I have applied mergesort algorithm to an array in JAVA but I need to print the number of inversions realized.\r\n\r\nI have drawed a diagram of how I think the inversions are count (I don&#39;t undestand it very well).\r\n\r\nI counted 18 inversions.\r\n\r\nAny idea of how to get the inversion&#39;s number?\r\n\r\n[![enter image description here](https://i.stack.imgur.com/NGkcA.jpg)](https://i.stack.imgur.com/NGkcA.jpg)\r\n\r\n\r\n```\r\npublic class MergesortAlgorithm{\r\n\r\n    public static void main(String[] args) {\r\n        int[] array = {1, 5, 4, 8, 10, 2, 6, 9, 12, 11, 3, 7};\r\n\r\n        System.out.println(&quot;Original array:&quot;);\r\n        printArray(array);\r\n        mergesort(array);\r\n\r\n        System.out.println(&quot;\\nOrdered array:&quot;);\r\n        printArray(array);\r\n\r\n        System.out.println(&quot;\\nNumber of inversions: ?&quot;);\r\n    }\r\n    \r\n    public static void mergesort (int[] array){\r\n        // I got it to return the sorted array but I don&#39;t know how to get the number of inversions by now\r\n        // I am having trouble locating them\r\n\r\n        int inputLength = array.length;\r\n\r\n        // If the array have less than 2 elementos, it will be ordered\r\n        if (inputLength &lt;2){\r\n            return;\r\n        }\r\n\r\n        // It obtains the median of the array\r\n        int midIndex = array.length / 2;\r\n\r\n        // It creates the two empty sub-arrays\r\n        int[] leftHalf = new int [midIndex]; // From 0 to mid\r\n        int[] rightHalf = new int [inputLength - midIndex]; // From midIndex+1 to inputLength\r\n\r\n        // It fills the leftHalf array from the original one\r\n        for (int i = 0; i &lt; midIndex; i++) {\r\n            leftHalf[i] = array[i];\r\n        }\r\n\r\n        // It fills the rightHalf array from the original one\r\n        for (int i = midIndex; i &lt; array.length; i++) {\r\n            rightHalf[i-midIndex] = array[i];   // &quot;i-midIndex&quot; because if i put &quot;i&quot; it starts in midIndex (in the new array)\r\n        }        \r\n        \r\n        //It runs recursively until I have less than two elements on the arrays\r\n        mergesort(leftHalf);\r\n        mergesort(rightHalf);\r\n\r\n        merge(array, leftHalf, rightHalf);\r\n    }\r\n\r\n    public static void merge (int[] array, int[] leftHalf, int[] rightHalf){\r\n\r\n        int leftSize = leftHalf.length;\r\n        int rightSize = rightHalf.length;\r\n\r\n        int i = 0;  // &quot;i&quot; will run through the leftHalf\r\n        int j = 0;  // &quot;j&quot; will run through the rightHalf\r\n        int k = 0;  // &quot;k&quot; will run throught the merged array (final array)\r\n\r\n        while (i &lt; leftSize &amp;&amp; j &lt; rightSize) {  // It loops until we run out of elements in one of the two arrays\r\n            if (leftHalf[i] &lt;= rightHalf[j]) {  // If element in leftHalf is smaller, we put it on the merged array\r\n                array[k] = leftHalf[i];\r\n                i++;\r\n            }\r\n            else {  // Otherwise, we put the element of rightHalf on the merged array\r\n                array[k] = rightHalf[j];\r\n                j++;\r\n            }\r\n            k++;\r\n        }\r\n\r\n        // At this point, maybe one of the arrays could have &quot;unrevised elements&quot; because of an odd initial array (I think)\r\n        // These two loops adds to the merged array the remaining items\r\n        while (i &lt; leftSize) {\r\n            array[k] = leftHalf[i];\r\n            i++;\r\n            k++;\r\n        }\r\n\r\n        while (j &lt; rightSize) {\r\n            array[k] = rightHalf[j];\r\n            j++;\r\n            k++;\r\n        }\r\n    }\r\n\r\n    public static void printArray (int[] array) {\r\n        System.out.printf(&quot;[ &quot;);\r\n\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            System.out.printf(&quot;%d &quot;, array[i]);\r\n        }\r\n\r\n        System.out.println(&quot;]&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI don&#39;t exactly know how to count the inversions, but, In which part of the could I established a counter and when increase it?","title":"Inversion&#39;s Number On Mergesort Algorithm","body":"<p>I have applied mergesort algorithm to an array in JAVA but I need to print the number of inversions realized.</p>\n<p>I have drawed a diagram of how I think the inversions are count (I don't undestand it very well).</p>\n<p>I counted 18 inversions.</p>\n<p>Any idea of how to get the inversion's number?</p>\n<p><a href=\"https://i.stack.imgur.com/NGkcA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NGkcA.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class MergesortAlgorithm{\n\n    public static void main(String[] args) {\n        int[] array = {1, 5, 4, 8, 10, 2, 6, 9, 12, 11, 3, 7};\n\n        System.out.println(&quot;Original array:&quot;);\n        printArray(array);\n        mergesort(array);\n\n        System.out.println(&quot;\\nOrdered array:&quot;);\n        printArray(array);\n\n        System.out.println(&quot;\\nNumber of inversions: ?&quot;);\n    }\n    \n    public static void mergesort (int[] array){\n        // I got it to return the sorted array but I don't know how to get the number of inversions by now\n        // I am having trouble locating them\n\n        int inputLength = array.length;\n\n        // If the array have less than 2 elementos, it will be ordered\n        if (inputLength &lt;2){\n            return;\n        }\n\n        // It obtains the median of the array\n        int midIndex = array.length / 2;\n\n        // It creates the two empty sub-arrays\n        int[] leftHalf = new int [midIndex]; // From 0 to mid\n        int[] rightHalf = new int [inputLength - midIndex]; // From midIndex+1 to inputLength\n\n        // It fills the leftHalf array from the original one\n        for (int i = 0; i &lt; midIndex; i++) {\n            leftHalf[i] = array[i];\n        }\n\n        // It fills the rightHalf array from the original one\n        for (int i = midIndex; i &lt; array.length; i++) {\n            rightHalf[i-midIndex] = array[i];   // &quot;i-midIndex&quot; because if i put &quot;i&quot; it starts in midIndex (in the new array)\n        }        \n        \n        //It runs recursively until I have less than two elements on the arrays\n        mergesort(leftHalf);\n        mergesort(rightHalf);\n\n        merge(array, leftHalf, rightHalf);\n    }\n\n    public static void merge (int[] array, int[] leftHalf, int[] rightHalf){\n\n        int leftSize = leftHalf.length;\n        int rightSize = rightHalf.length;\n\n        int i = 0;  // &quot;i&quot; will run through the leftHalf\n        int j = 0;  // &quot;j&quot; will run through the rightHalf\n        int k = 0;  // &quot;k&quot; will run throught the merged array (final array)\n\n        while (i &lt; leftSize &amp;&amp; j &lt; rightSize) {  // It loops until we run out of elements in one of the two arrays\n            if (leftHalf[i] &lt;= rightHalf[j]) {  // If element in leftHalf is smaller, we put it on the merged array\n                array[k] = leftHalf[i];\n                i++;\n            }\n            else {  // Otherwise, we put the element of rightHalf on the merged array\n                array[k] = rightHalf[j];\n                j++;\n            }\n            k++;\n        }\n\n        // At this point, maybe one of the arrays could have &quot;unrevised elements&quot; because of an odd initial array (I think)\n        // These two loops adds to the merged array the remaining items\n        while (i &lt; leftSize) {\n            array[k] = leftHalf[i];\n            i++;\n            k++;\n        }\n\n        while (j &lt; rightSize) {\n            array[k] = rightHalf[j];\n            j++;\n            k++;\n        }\n    }\n\n    public static void printArray (int[] array) {\n        System.out.printf(&quot;[ &quot;);\n\n        for (int i = 0; i &lt; array.length; i++) {\n            System.out.printf(&quot;%d &quot;, array[i]);\n        }\n\n        System.out.println(&quot;]&quot;);\n    }\n}\n</code></pre>\n<p>I don't exactly know how to count the inversions, but, In which part of the could I established a counter and when increase it?</p>\n"},{"tags":["java","html","spring","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1624405213,"post_id":68086823,"comment_id":120348720,"body_markdown":"Perfect!.. Thank you very much for this good solution and wonderful explanations :)","body":"Perfect!.. Thank you very much for this good solution and wonderful explanations :)"},{"owner":{"account_id":4251091,"reputation":2509,"user_id":3478155,"accept_rate":59,"display_name":"ilw"},"score":0,"creation_date":1679168578,"post_id":68086823,"comment_id":133674586,"body_markdown":"But, how make href links for city.name but span only for comma ?","body":"But, how make href links for city.name but span only for comma ?"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1679171683,"post_id":68086823,"comment_id":133674998,"body_markdown":"I added some notes to the answer @ilw","body":"I added some notes to the answer @ilw"}],"tags":[],"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1679172231,"creation_date":1624376962,"answer_id":68086823,"question_id":68086547,"body_markdown":"You can use a sequence of `&lt;span&gt;` tags to hold your text. \r\n\r\nYou can use Thymeleaf&#39;s [iteration status tracking values](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#keeping-iteration-status) to know when you are handling the last item in the list.\r\n\r\nCombining these:\r\n\r\n```html\r\n&lt;td&gt;\r\n    &lt;span th:each=&quot;city,iterStat : ${country.cityList}&quot;\r\n          th:text=&quot;${city.name} + ${!iterStat.last ? &#39;, &#39; : &#39;&#39;}&quot;&gt;&lt;/span&gt;\r\n&lt;/td&gt;\r\n```\r\n\r\nThe `iterStat.last` value is a boolean which tells us when we are processing the final value - and the `!` (not) operator is used to suppress the final comma + space.\r\n\r\n---\r\n\r\n**Update**\r\n\r\nBased on the comment:\r\n\r\n&gt; _how make href links for city.name but span only for comma ?_\r\n\r\nFor something like this, you can move the `th:each` expression into a parent tag - and this is where `&lt;th:block&gt;` may be useful, because it does not itself generate any HTML:\r\n\r\n```html\r\n&lt;th:block th:each=&quot;city,iterStat : ${country.cityList}&quot;&gt;\r\n    &lt;a th:text=&quot;${city}&quot; th:href=&quot;${city}&quot;&gt;&lt;/a&gt;&lt;span th:text=&quot;${!iterStat.last ? &#39;, &#39; : &#39;&#39;}&quot;&gt;&lt;/span&gt;\r\n&lt;/th:block&gt;\r\n```\r\n\r\nInside the `&lt;th:block&gt;...&lt;/th:block&gt;` you can use multiple child tags to build whatever you need.\r\n\r\nUsing the above Thymeleaf, the end result could be the following HTML:\r\n\r\n```html\r\n&lt;a href=&quot;S&#227;o Paulo&quot;&gt;S&#227;o Paulo&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;\r\n&lt;a href=&quot;Rio de Janeiro&quot;&gt;Rio de Janeiro&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;\r\n&lt;a href=&quot;Brasilia&quot;&gt;Brasilia&lt;/a&gt;&lt;span&gt;&lt;/span&gt;\r\n```\r\n\r\nThis generates an empty `&lt;span&gt;&lt;/span&gt;` at the end.\r\n\r\nIf you don&#39;t want that empty span, you can enhance the logic by using an explicit `th:if` expression:\r\n\r\n```html\r\n&lt;th:block th:each=&quot;city,iterStat : ${country.cityList}&quot;&gt;\r\n    &lt;a th:text=&quot;${city}&quot; th:href=&quot;${city}&quot;&gt;&lt;/a&gt;&lt;span th:if=&quot;${!iterStat.last}&quot;&gt;, &lt;/span&gt;\r\n&lt;/th:block&gt;\r\n```\r\n\r\nNow, you will get something like this:\r\n\r\n```html\r\n&lt;a href=&quot;S&#227;o Paulo&quot;&gt;S&#227;o Paulo&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;\r\n&lt;a href=&quot;Rio de Janeiro&quot;&gt;Rio de Janeiro&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;\r\n&lt;a href=&quot;Brasilia&quot;&gt;Brasilia&lt;/a&gt;\r\n```\r\n\r\nNow, there is no empty span at the end.","title":"Thymeleaf: Comma separated values of a list?","body":"<p>You can use a sequence of <code>&lt;span&gt;</code> tags to hold your text.</p>\n<p>You can use Thymeleaf's <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#keeping-iteration-status\" rel=\"nofollow noreferrer\">iteration status tracking values</a> to know when you are handling the last item in the list.</p>\n<p>Combining these:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;td&gt;\n    &lt;span th:each=&quot;city,iterStat : ${country.cityList}&quot;\n          th:text=&quot;${city.name} + ${!iterStat.last ? ', ' : ''}&quot;&gt;&lt;/span&gt;\n&lt;/td&gt;\n</code></pre>\n<p>The <code>iterStat.last</code> value is a boolean which tells us when we are processing the final value - and the <code>!</code> (not) operator is used to suppress the final comma + space.</p>\n<hr />\n<p><strong>Update</strong></p>\n<p>Based on the comment:</p>\n<blockquote>\n<p><em>how make href links for city.name but span only for comma ?</em></p>\n</blockquote>\n<p>For something like this, you can move the <code>th:each</code> expression into a parent tag - and this is where <code>&lt;th:block&gt;</code> may be useful, because it does not itself generate any HTML:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;th:block th:each=&quot;city,iterStat : ${country.cityList}&quot;&gt;\n    &lt;a th:text=&quot;${city}&quot; th:href=&quot;${city}&quot;&gt;&lt;/a&gt;&lt;span th:text=&quot;${!iterStat.last ? ', ' : ''}&quot;&gt;&lt;/span&gt;\n&lt;/th:block&gt;\n</code></pre>\n<p>Inside the <code>&lt;th:block&gt;...&lt;/th:block&gt;</code> you can use multiple child tags to build whatever you need.</p>\n<p>Using the above Thymeleaf, the end result could be the following HTML:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;a href=&quot;São Paulo&quot;&gt;São Paulo&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;\n&lt;a href=&quot;Rio de Janeiro&quot;&gt;Rio de Janeiro&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;\n&lt;a href=&quot;Brasilia&quot;&gt;Brasilia&lt;/a&gt;&lt;span&gt;&lt;/span&gt;\n</code></pre>\n<p>This generates an empty <code>&lt;span&gt;&lt;/span&gt;</code> at the end.</p>\n<p>If you don't want that empty span, you can enhance the logic by using an explicit <code>th:if</code> expression:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;th:block th:each=&quot;city,iterStat : ${country.cityList}&quot;&gt;\n    &lt;a th:text=&quot;${city}&quot; th:href=&quot;${city}&quot;&gt;&lt;/a&gt;&lt;span th:if=&quot;${!iterStat.last}&quot;&gt;, &lt;/span&gt;\n&lt;/th:block&gt;\n</code></pre>\n<p>Now, you will get something like this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;a href=&quot;São Paulo&quot;&gt;São Paulo&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;\n&lt;a href=&quot;Rio de Janeiro&quot;&gt;Rio de Janeiro&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;\n&lt;a href=&quot;Brasilia&quot;&gt;Brasilia&lt;/a&gt;\n</code></pre>\n<p>Now, there is no empty span at the end.</p>\n"},{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1624405810,"post_id":68086860,"comment_id":120348806,"body_markdown":"Thanks a lot for you help, voted up. But it does not work as it does not include `th:each`","body":"Thanks a lot for you help, voted up. But it does not work as it does not include <code>th:each</code>"},{"owner":{"account_id":97313,"reputation":6321,"user_id":264028,"accept_rate":75,"display_name":"Joaqu&#237;n L. Robles"},"score":0,"creation_date":1626459387,"post_id":68086860,"comment_id":120907976,"body_markdown":"@Rosa you should wrap it on a &lt;th:block&gt; or something like that, this should be the accepted answer","body":"@Rosa you should wrap it on a &lt;th:block&gt; or something like that, this should be the accepted answer"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1626993202,"post_id":68086860,"comment_id":121046573,"body_markdown":"Too late, I marked the answer 1 month ago.","body":"Too late, I marked the answer 1 month ago."},{"owner":{"account_id":4251091,"reputation":2509,"user_id":3478155,"accept_rate":59,"display_name":"ilw"},"score":0,"creation_date":1679167735,"post_id":68086860,"comment_id":133674472,"body_markdown":"IntelliJ IDEA underlines in red: `&#39;!=&#39;, &#39;%&#39;, &#39;&amp;&amp;&#39;, &#39;(&#39;, &#39;)&#39;, &#39;*&#39;, &#39;+&#39;, &#39;+=&#39;, &#39;,&#39;, &#39;-&#39;, &#39;.&#39;, &#39;/&#39;, &lt;, &lt;=, &#39;==&#39;, &#39;&gt;&#39;, &#39;&gt;=&#39;, &#39;?&#39;, &#39;?.&#39;, &#39;?:&#39;, and, div, eq, ge, gt, le, lt, mod, ne, or, &#39;||&#39; or &#39;}&#39; expected, got &#39;.&#39;`","body":"IntelliJ IDEA underlines in red: <code>&#39;!=&#39;, &#39;%&#39;, &#39;&amp;&amp;&#39;, &#39;(&#39;, &#39;)&#39;, &#39;*&#39;, &#39;+&#39;, &#39;+=&#39;, &#39;,&#39;, &#39;-&#39;, &#39;.&#39;, &#39;&#47;&#39;, &lt;, &lt;=, &#39;==&#39;, &#39;&gt;&#39;, &#39;&gt;=&#39;, &#39;?&#39;, &#39;?.&#39;, &#39;?:&#39;, and, div, eq, ge, gt, le, lt, mod, ne, or, &#39;||&#39; or &#39;}&#39; expected, got &#39;.&#39;</code>"}],"tags":[],"owner":{"account_id":579291,"reputation":6754,"user_id":232467,"display_name":"Slava Ivanov"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1624377107,"creation_date":1624377107,"answer_id":68086860,"question_id":68086547,"body_markdown":"You should look at Thymeleaf [`#strings` utility methods](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#strings). There is a set of functions to split and join different types of lists. Your code may look like ...\r\n\r\n    &lt;td th:text=&quot;${#strings.listJoin(country.cityList.![name], &#39;,&#39;)}&quot;&gt;&lt;/td&gt;\r\n","title":"Thymeleaf: Comma separated values of a list?","body":"<p>You should look at Thymeleaf <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#strings\" rel=\"noreferrer\"><code>#strings</code> utility methods</a>. There is a set of functions to split and join different types of lists. Your code may look like ...</p>\n<pre><code>&lt;td th:text=&quot;${#strings.listJoin(country.cityList.![name], ',')}&quot;&gt;&lt;/td&gt;\n</code></pre>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2688,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68086823,"answer_count":2,"score":1,"last_activity_date":1679172231,"creation_date":1624375950,"question_id":68086547,"body_markdown":"I am beginner in Thymeleaf, I have a list and want to list elements in a line by separating comma e.g. London, Paris, Berlin, HonKong (there will be no comma after the the last element). However, the following code generate new row. So, how can I make it work as explained above?\r\n\r\n\r\n```\r\n&lt;td th:each=&quot;city : ${country.cityList}&quot;&gt;\r\n    &lt;td th:text=&quot;${city.name}? ${city.name} + &#39;,&#39; : ${city.name}&quot;&gt;&lt;/td&gt;\r\n&lt;/td&gt;\r\n\r\n```\r\n\r\nI know it also add an extra comma at the end of the last element and I need to use index e.g. for detecting the last index. How can I do this?","title":"Thymeleaf: Comma separated values of a list?","body":"<p>I am beginner in Thymeleaf, I have a list and want to list elements in a line by separating comma e.g. London, Paris, Berlin, HonKong (there will be no comma after the the last element). However, the following code generate new row. So, how can I make it work as explained above?</p>\n<pre><code>&lt;td th:each=&quot;city : ${country.cityList}&quot;&gt;\n    &lt;td th:text=&quot;${city.name}? ${city.name} + ',' : ${city.name}&quot;&gt;&lt;/td&gt;\n&lt;/td&gt;\n\n</code></pre>\n<p>I know it also add an extra comma at the end of the last element and I need to use index e.g. for detecting the last index. How can I do this?</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":0,"creation_date":1679169910,"post_id":75778327,"comment_id":133674744,"body_markdown":"that String is not going to fly: you need to escape the quotation marks: `&quot;{\\&quot;name\\&quot;:\\&quot;m\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:100}{\\&quot;name\\&quot;:\\&quot;342\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:120}&quot;`","body":"that String is not going to fly: you need to escape the quotation marks: <code>&quot;{\\&quot;name\\&quot;:\\&quot;m\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:100}{\\&quot;name\\&quot;:\\&quot;3&zwnj;&#8203;42\\&quot;,\\&quot;nation\\&quot;:\\&quot;eg&zwnj;&#8203;y\\&quot;,\\&quot;id\\&quot;:120}&quot;</code>"},{"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"score":0,"creation_date":1679169998,"post_id":75778327,"comment_id":133674754,"body_markdown":"yes forgot to add that thanks","body":"yes forgot to add that thanks"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":1,"creation_date":1679170061,"post_id":75778327,"comment_id":133674762,"body_markdown":"not only this, but that does not look like a valid json. By look,s I believe it should be an array of objects. Very similar to this question: https://stackoverflow.com/questions/75776996/gson-throwing-expected-begin-array-but-was-begin-object/75777042?noredirect=1#comment133672597_75777042","body":"not only this, but that does not look like a valid json. By look,s I believe it should be an array of objects. Very similar to this question: <a href=\"https://stackoverflow.com/questions/75776996/gson-throwing-expected-begin-array-but-was-begin-object/75777042?noredirect=1#comment133672597_75777042\" title=\"gson throwing expected begin array but was begin object\">stackoverflow.com/questions/75776996/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"score":0,"creation_date":1679170438,"post_id":75778404,"comment_id":133674819,"body_markdown":"or I can simply do that if I add them in a Array or a list and then load it to json but that is not in my hands sadly here I am just trying to convert this &quot;json file&quot; to a class objects","body":"or I can simply do that if I add them in a Array or a list and then load it to json but that is not in my hands sadly here I am just trying to convert this &quot;json file&quot; to a class objects"},{"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"score":0,"creation_date":1679170583,"post_id":75778404,"comment_id":133674836,"body_markdown":"@MoustafaAmr so a little helper method to put the input in the correct format is all that is needed, then it can be deserialized by whatever library you&#39;re using.","body":"@MoustafaAmr so a little helper method to put the input in the correct format is all that is needed, then it can be deserialized by whatever library you&#39;re using."},{"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"score":0,"creation_date":1679170683,"post_id":75778404,"comment_id":133674854,"body_markdown":"Oh so I can edit json as much as I want to be in the correct format?","body":"Oh so I can edit json as much as I want to be in the correct format?"},{"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"score":0,"creation_date":1679170983,"post_id":75778404,"comment_id":133674890,"body_markdown":"Sure, why not? look at it as a process. What needs to be done to get the raw text in a format that a json parser can understand? The parentheses `}{` need to have a comma between them to separate one object from another and the whole thing is an array of objects so it has to have `[` at the beginning and `]` at the end. Once that&#39;s been taken care of, the valid json can be given to a parser as input.","body":"Sure, why not? look at it as a process. What needs to be done to get the raw text in a format that a json parser can understand? The parentheses <code>}{</code> need to have a comma between them to separate one object from another and the whole thing is an array of objects so it has to have <code>[</code> at the beginning and <code>]</code> at the end. Once that&#39;s been taken care of, the valid json can be given to a parser as input."},{"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"score":0,"creation_date":1679171137,"post_id":75778404,"comment_id":133674910,"body_markdown":"Okay thanks a lot. One last thing though how to convert the new correct format json file to class objects I know it&#39;s with the method .fromJson() I am just missing something can you please help","body":"Okay thanks a lot. One last thing though how to convert the new correct format json file to class objects I know it&#39;s with the method .fromJson() I am just missing something can you please help"},{"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"score":0,"creation_date":1679171402,"post_id":75778404,"comment_id":133674948,"body_markdown":"can you post more code? Which parser / library are you using?","body":"can you post more code? Which parser / library are you using?"},{"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"score":0,"creation_date":1679171561,"post_id":75778404,"comment_id":133674977,"body_markdown":"Oh yeah sorry totally forgot to send that. I use Gson Library","body":"Oh yeah sorry totally forgot to send that. I use Gson Library"},{"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"score":0,"creation_date":1679171599,"post_id":75778404,"comment_id":133674983,"body_markdown":"```com.google.gson.Gson;```","body":"<code>com.google.gson.Gson;</code>"},{"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"score":0,"creation_date":1679171722,"post_id":75778404,"comment_id":133675005,"body_markdown":"a file named ```file.json``` has this in it after correction [\n  {\n    &quot;name&quot;:&quot;m&quot;,\n    &quot;nation&quot;:&quot;egy&quot;,\n    &quot;id&quot;:100},\n  {\n    &quot;name&quot;:&quot;342&quot;,\n    &quot;nation&quot;:&quot;egy&quot;,\n    &quot;id&quot;:120\n  }\n]","body":"a file named <code>file.json</code> has this in it after correction [   {     &quot;name&quot;:&quot;m&quot;,     &quot;nation&quot;:&quot;egy&quot;,     &quot;id&quot;:100},   {     &quot;name&quot;:&quot;342&quot;,     &quot;nation&quot;:&quot;egy&quot;,     &quot;id&quot;:120   } ]"}],"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679171935,"creation_date":1679170113,"answer_id":75778404,"question_id":75778327,"body_markdown":"So there are two issues here:\r\n\r\n1. How should the conversion be done from json to java object? For example, using jackson (ObjectMapper)?\r\n2. The json in the example is not valid:\r\n\r\n```\r\n{&quot;name&quot;:&quot;m&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:100}{&quot;name&quot;:&quot;342&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:120}\r\n```\r\n\r\nSo before it can be converted from json to a java object, it has to be valid json.\r\n\r\nWhy the weird format? Can it be fixed at the source? If yes, (2) is solved, get valid json from wherever it has to be read from. If not, it has to be converted into valid json by your program first before deserializing the json into a java object with a library such as jackson.\r\n\r\nIf it&#39;s up to your program to convert the input into valid json before deserializing, assuming that all records have the format given in the example, and assuming that the key/value pairs won&#39;t contain parentheses or brackets, a really quick fix is a helper method, something like:\r\n\r\n    static String toValidJson(String in) {\r\n        return &quot;[&quot; + in.replace(&quot;}{&quot;, &quot;},{&quot;) + &quot;]&quot;;\r\n    }\r\n\r\nThe idea here is to put a comma between objects and close the whole thing in an array. Then it can be deserialized as appropriate into an array, list, etc.\r\n\r\n**Edit**\r\n\r\nThe Gson library is being used for parsing, so putting it all together, it should look something like:\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            // raw data\r\n            String raw = &quot;{\\&quot;name\\&quot;:\\&quot;m\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:100}{\\&quot;name\\&quot;:\\&quot;342\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:120}&quot;;\r\n\r\n            // valid json\r\n            String json = toValidJson(raw);\r\n\r\n            // parse it\r\n            Gson gson = new Gson();\r\n            Fencers[] fencers = gson.fromJson(json, Fencers[].class);\r\n\r\n            // do something with the array of fencers\r\n            for (Fencer f : fencers) {\r\n                // ...\r\n            }\r\n        }\r\n\r\n        static String toValidJson(String in) {\r\n            return &quot;[&quot; + in.replace(&quot;}{&quot;, &quot;},{&quot;) + &quot;]&quot;;\r\n        }\r\n    }","title":"Convert a Json file to a class objects but it&#39;s in a weird format","body":"<p>So there are two issues here:</p>\n<ol>\n<li>How should the conversion be done from json to java object? For example, using jackson (ObjectMapper)?</li>\n<li>The json in the example is not valid:</li>\n</ol>\n<pre><code>{&quot;name&quot;:&quot;m&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:100}{&quot;name&quot;:&quot;342&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:120}\n</code></pre>\n<p>So before it can be converted from json to a java object, it has to be valid json.</p>\n<p>Why the weird format? Can it be fixed at the source? If yes, (2) is solved, get valid json from wherever it has to be read from. If not, it has to be converted into valid json by your program first before deserializing the json into a java object with a library such as jackson.</p>\n<p>If it's up to your program to convert the input into valid json before deserializing, assuming that all records have the format given in the example, and assuming that the key/value pairs won't contain parentheses or brackets, a really quick fix is a helper method, something like:</p>\n<pre><code>static String toValidJson(String in) {\n    return &quot;[&quot; + in.replace(&quot;}{&quot;, &quot;},{&quot;) + &quot;]&quot;;\n}\n</code></pre>\n<p>The idea here is to put a comma between objects and close the whole thing in an array. Then it can be deserialized as appropriate into an array, list, etc.</p>\n<p><strong>Edit</strong></p>\n<p>The Gson library is being used for parsing, so putting it all together, it should look something like:</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        // raw data\n        String raw = &quot;{\\&quot;name\\&quot;:\\&quot;m\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:100}{\\&quot;name\\&quot;:\\&quot;342\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:120}&quot;;\n\n        // valid json\n        String json = toValidJson(raw);\n\n        // parse it\n        Gson gson = new Gson();\n        Fencers[] fencers = gson.fromJson(json, Fencers[].class);\n\n        // do something with the array of fencers\n        for (Fencer f : fencers) {\n            // ...\n        }\n    }\n\n    static String toValidJson(String in) {\n        return &quot;[&quot; + in.replace(&quot;}{&quot;, &quot;},{&quot;) + &quot;]&quot;;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"score":0,"creation_date":1679170578,"post_id":75778411,"comment_id":133674833,"body_markdown":"Yes forgot to edit the first part I can also load the data in an Array or a list to json but I can&#39;t change the data sadly I just need a way to turn it as it is to some class objects","body":"Yes forgot to edit the first part I can also load the data in an Array or a list to json but I can&#39;t change the data sadly I just need a way to turn it as it is to some class objects"}],"tags":[],"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679170166,"creation_date":1679170166,"answer_id":75778411,"question_id":75778327,"body_markdown":"Your String is not going to work:\r\n\r\n```java\r\nString json = &quot;{&quot;name&quot;:&quot;m&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:100},&quot;name&quot;:&quot;342&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:120}&quot;\r\n```\r\n\r\nshould be \r\n\r\n\r\n```java\r\nString json = &quot;{\\&quot;name\\&quot;:\\&quot;m\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:100}&quot;;\r\n```\r\n\r\nnote that if you want an list of objects the json notation is not \r\n\r\n```json\r\n{&quot;name&quot;:&quot;m&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:100}{&quot;name&quot;:&quot;342&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:120}\r\n```\r\n\r\nbut \r\n\r\n```json\r\n[{&quot;name&quot;:&quot;m&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:100},{&quot;name&quot;:&quot;342&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:120}]\r\n```\r\n\r\nIn which case you should be writing:\r\n\r\n\r\n```java\r\nString json = &quot;[{\\&quot;name\\&quot;:\\&quot;m\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:100},{\\&quot;name\\&quot;:\\&quot;342\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:120}]&quot;;\r\n```","title":"Convert a Json file to a class objects but it&#39;s in a weird format","body":"<p>Your String is not going to work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String json = &quot;{&quot;name&quot;:&quot;m&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:100},&quot;name&quot;:&quot;342&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:120}&quot;\n</code></pre>\n<p>should be</p>\n<pre class=\"lang-java prettyprint-override\"><code>String json = &quot;{\\&quot;name\\&quot;:\\&quot;m\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:100}&quot;;\n</code></pre>\n<p>note that if you want an list of objects the json notation is not</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;name&quot;:&quot;m&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:100}{&quot;name&quot;:&quot;342&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:120}\n</code></pre>\n<p>but</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{&quot;name&quot;:&quot;m&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:100},{&quot;name&quot;:&quot;342&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:120}]\n</code></pre>\n<p>In which case you should be writing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String json = &quot;[{\\&quot;name\\&quot;:\\&quot;m\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:100},{\\&quot;name\\&quot;:\\&quot;342\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:120}]&quot;;\n</code></pre>\n"}],"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75778404,"answer_count":2,"score":0,"last_activity_date":1679171935,"creation_date":1679169308,"question_id":75778327,"body_markdown":"Hello so this is my code:\r\n```\r\npublic class Fencers{\r\n    private String name,nation;\r\n    private int id;\r\n\r\n    public Fencers(String name, String nation,int id) {\r\n        this.name = name;\r\n        this.nation = nation;\r\n        this.id = id;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return\r\n                id+&quot; &quot;+name+&quot; &quot;+nation+&quot;\\n&quot;;\r\n    }\r\n}\r\n```\r\nand this is the main :\r\n```\r\nclass Main{\r\n    public static void main(String[] args){\r\n         String json = &quot;{\\&quot;name\\&quot;:\\&quot;m\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:100}{\\&quot;name\\&quot;:\\&quot;342\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:120}&quot;\r\n    }\r\n}\r\n```\r\nI want to turn ```json``` to a class object but it gives me errors because it&#39;s in the weird format \r\nwhat to do :palmface:\r\n\r\n","title":"Convert a Json file to a class objects but it&#39;s in a weird format","body":"<p>Hello so this is my code:</p>\n<pre><code>public class Fencers{\n    private String name,nation;\n    private int id;\n\n    public Fencers(String name, String nation,int id) {\n        this.name = name;\n        this.nation = nation;\n        this.id = id;\n    }\n\n    @Override\n    public String toString() {\n        return\n                id+&quot; &quot;+name+&quot; &quot;+nation+&quot;\\n&quot;;\n    }\n}\n</code></pre>\n<p>and this is the main :</p>\n<pre><code>class Main{\n    public static void main(String[] args){\n         String json = &quot;{\\&quot;name\\&quot;:\\&quot;m\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:100}{\\&quot;name\\&quot;:\\&quot;342\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:120}&quot;\n    }\n}\n</code></pre>\n<p>I want to turn <code>json</code> to a class object but it gives me errors because it's in the weird format\nwhat to do :palmface:</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679148008,"post_id":75776296,"comment_id":133671305,"body_markdown":"Please don&#39;t insert screenshots but the source code as text (using the format provided). It helps us to copy/paste parts of when working on the solution.","body":"Please don&#39;t insert screenshots but the source code as text (using the format provided). It helps us to copy/paste parts of when working on the solution."},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1679148346,"post_id":75776296,"comment_id":133671352,"body_markdown":"In `Doctor Entity` class change `FetchType.Lazy` to `FetchType.Eager`. It&#39;s not recommended to use your entity class in the controller. Use at the service layer only and use POJO classes for the controller, which prevent you from calling recursion calls from Doctor  -&gt; Category -&gt; Doctor...","body":"In <code>Doctor Entity</code> class change <code>FetchType.Lazy</code> to <code>FetchType.Eager</code>. It&#39;s not recommended to use your entity class in the controller. Use at the service layer only and use POJO classes for the controller, which prevent you from calling recursion calls from Doctor  -&gt; Category -&gt; Doctor..."}],"answers":[{"comments":[{"owner":{"account_id":24921943,"reputation":23,"user_id":18790119,"display_name":"Timo4ka"},"score":1,"creation_date":1679150547,"post_id":75776337,"comment_id":133671674,"body_markdown":"It didn&#39;t help to issue the same:\n[\n    {\n        &quot;id&quot;: 1,\n        &quot;email&quot;: &quot;example@mail.com&quot;,\n        &quot;password&quot;: &quot;secretKey&quot;,\n        &quot;fname&quot;: &quot;Bob&quot;,\n        &quot;lname&quot;: &quot;Lname&quot;,\n        &quot;description&quot;: &quot;Some text&quot;,\n        &quot;number&quot;: &quot;777777777&quot;,\n        &quot;categories&quot;: []\n    }\n]","body":"It didn&#39;t help to issue the same: [     {         &quot;id&quot;: 1,         &quot;email&quot;: &quot;example@mail.com&quot;,         &quot;password&quot;: &quot;secretKey&quot;,         &quot;fname&quot;: &quot;Bob&quot;,         &quot;lname&quot;: &quot;Lname&quot;,         &quot;description&quot;: &quot;Some text&quot;,         &quot;number&quot;: &quot;777777777&quot;,         &quot;categories&quot;: []     } ]"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1679154976,"post_id":75776337,"comment_id":133672488,"body_markdown":"I have added another solution, please check it.","body":"I have added another solution, please check it."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679154931,"creation_date":1679147836,"answer_id":75776337,"question_id":75776296,"body_markdown":"In the entity Doctor you have defined fetch type lazy for the collection of categories. It means that the collection is not loaded from the database until you access it in code.\r\n\r\nSolutions\r\n\r\n1. change fetch type to eager or\r\n2. in the service class call getCategories.size() for all doctors\r\n3. in the repository you can use the EntityGraph annotation like:\r\n\r\n(Please mind the use of {} because *attributePaths* is an array)\r\n\r\n    @EntityGraph(attributePaths = {&quot;categories&quot;})\r\n    List&lt;Doctor&gt; findByLname(String lname);\r\n\r\n","title":"How do I get a list of categories for a doctor ? Spring Rest api","body":"<p>In the entity Doctor you have defined fetch type lazy for the collection of categories. It means that the collection is not loaded from the database until you access it in code.</p>\n<p>Solutions</p>\n<ol>\n<li>change fetch type to eager or</li>\n<li>in the service class call getCategories.size() for all doctors</li>\n<li>in the repository you can use the EntityGraph annotation like:</li>\n</ol>\n<p>(Please mind the use of {} because <em>attributePaths</em> is an array)</p>\n<pre><code>@EntityGraph(attributePaths = {&quot;categories&quot;})\nList&lt;Doctor&gt; findByLname(String lname);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24921943,"reputation":23,"user_id":18790119,"display_name":"Timo4ka"},"score":0,"creation_date":1679150528,"post_id":75776348,"comment_id":133671669,"body_markdown":"It didn&#39;t help to issue the same:\n[\n    {\n        &quot;id&quot;: 1,\n        &quot;email&quot;: &quot;example@mail.com&quot;,\n        &quot;password&quot;: &quot;secretKey&quot;,\n        &quot;fname&quot;: &quot;Bob&quot;,\n        &quot;lname&quot;: &quot;Lname&quot;,\n        &quot;description&quot;: &quot;Some text&quot;,\n        &quot;number&quot;: &quot;777777777&quot;,\n        &quot;categories&quot;: []\n    }\n]","body":"It didn&#39;t help to issue the same: [     {         &quot;id&quot;: 1,         &quot;email&quot;: &quot;example@mail.com&quot;,         &quot;password&quot;: &quot;secretKey&quot;,         &quot;fname&quot;: &quot;Bob&quot;,         &quot;lname&quot;: &quot;Lname&quot;,         &quot;description&quot;: &quot;Some text&quot;,         &quot;number&quot;: &quot;777777777&quot;,         &quot;categories&quot;: []     } ]"},{"owner":{"account_id":25896342,"reputation":86,"user_id":19622845,"display_name":"Danijel Sudar"},"score":0,"creation_date":1679152413,"post_id":75776348,"comment_id":133672002,"body_markdown":"please replace the images with the code so that I can try it on my side.","body":"please replace the images with the code so that I can try it on my side."},{"owner":{"account_id":24921943,"reputation":23,"user_id":18790119,"display_name":"Timo4ka"},"score":0,"creation_date":1679153405,"post_id":75776348,"comment_id":133672176,"body_markdown":"Replaced everything with the text of the code","body":"Replaced everything with the text of the code"},{"owner":{"account_id":24921943,"reputation":23,"user_id":18790119,"display_name":"Timo4ka"},"score":0,"creation_date":1679214669,"post_id":75776348,"comment_id":133678496,"body_markdown":"Hi, thanks for the help, I first tried to add the methods that you wrote to me, but there was Data in the classes. At that time, these methods still did not output data in the categories field. As soon as I replaced Data with Getter and Setter, everything worked. Thank you so much &lt;3","body":"Hi, thanks for the help, I first tried to add the methods that you wrote to me, but there was Data in the classes. At that time, these methods still did not output data in the categories field. As soon as I replaced Data with Getter and Setter, everything worked. Thank you so much &lt;3"}],"tags":[],"owner":{"account_id":25896342,"reputation":86,"user_id":19622845,"display_name":"Danijel Sudar"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679170552,"creation_date":1679148039,"answer_id":75776348,"question_id":75776296,"body_markdown":"One solution to your problem could be to change **FetchType.LAZY** to **FetchType.EAGER** in the Doctor class for categories. \r\nYou can find more information on this [here][1].\r\n\r\ninside &#39;Doctor Entity&#39; change this\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n\r\ninto this\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\r\nAnother way to solve the issue is to replace the @Data annotation with @Getter and @Setter annotations on both Category and Doctor classes.\r\n\r\nMoreover, it&#39;s not considered a good practice to pass entities through the controller. It&#39;s better to use DTOs instead. You can read more about it [here][2].\r\n\r\nHere are examples of DTO classes for Category and Doctor:\r\n\r\nDoctorDTO \r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class DoctorDTO {\r\n        private Long id;\r\n        private String email;\r\n        private String password;\r\n        private String fname;\r\n        private String lname;\r\n        private String description;\r\n        private String number;\r\n        private List&lt;CategoryDTO&gt; categories;\r\n    \r\n    \r\n        public static DoctorDTO convertEntityToDto(Doctor doctor) {\r\n            DoctorDTO dto = new DoctorDTO();\r\n    \r\n            dto.setId(doctor.getId());\r\n            dto.setEmail(doctor.getEmail());\r\n            dto.setPassword(doctor.getPassword());\r\n            dto.setFname(doctor.getFname());\r\n            dto.setLname(doctor.getLname());\r\n            dto.setDescription(doctor.getDescription());\r\n            dto.setNumber(doctor.getNumber());\r\n            dto.setCategories(CategoryDTO.convertEntitySetToDTOList(doctor.getCategories()));\r\n    \r\n            return dto;\r\n        }\r\n    \r\n        public static List&lt;DoctorDTO&gt; convertEntityListToDTOList(List&lt;Doctor&gt; doctors) {\r\n            return doctors.stream().map(DoctorDTO::convertEntityToDto).collect(Collectors.toList());\r\n        }\r\n    \r\n        public static List&lt;DoctorDTO&gt; convertEntitySetToDTOList(Set&lt;Doctor&gt; doctors) {\r\n            return doctors.stream().map(DoctorDTO::convertEntityToDto).collect(Collectors.toList());\r\n        }\r\n    \r\n        public static Set&lt;CategoryDTO&gt; convertEntitySetToDTOSet(Set&lt;Category&gt; doctors) {\r\n            return doctors.stream().map(CategoryDTO::convertEntityToDto).collect(Collectors.toSet());\r\n        }\r\n    \r\n        public static Page&lt;DoctorDTO&gt; convertEntityPageToDTOPage(Page&lt;Doctor&gt; doctors) {\r\n            return new PageImpl&lt;&gt;(convertEntityListToDTOList(doctors.getContent()), doctors.getPageable(), doctors.getTotalElements());\r\n        }\r\n    }\r\n\r\n\r\n\r\nCategoryDTO \r\n    \r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class CategoryDTO {\r\n        private Long id;\r\n        private String name;\r\n    \r\n        public static CategoryDTO convertEntityToDto(Category category) {\r\n            CategoryDTO dto = new CategoryDTO();\r\n    \r\n            dto.setId(category.getId());\r\n            dto.setName(category.getName());\r\n    \r\n            return dto;\r\n        }\r\n    \r\n        public static List&lt;CategoryDTO&gt; convertEntityListToDTOList(List&lt;Category&gt; categories) {\r\n            return categories.stream().map(CategoryDTO::convertEntityToDto).collect(Collectors.toList());\r\n        }\r\n    \r\n        public static List&lt;CategoryDTO&gt; convertEntitySetToDTOList(Set&lt;Category&gt; categories) {\r\n            return categories.stream().map(CategoryDTO::convertEntityToDto).collect(Collectors.toList());\r\n        }\r\n    \r\n        public static Set&lt;CategoryDTO&gt; convertEntitySetToDTOSet(Set&lt;Category&gt; categories) {\r\n            return categories.stream().map(CategoryDTO::convertEntityToDto).collect(Collectors.toSet());\r\n        }\r\n    \r\n        public static Page&lt;CategoryDTO&gt; convertEntityPageToDTOPage(Page&lt;Category&gt; categories) {\r\n            return new PageImpl&lt;&gt;(convertEntityListToDTOList(categories.getContent()), categories.getPageable(), categories.getTotalElements());\r\n        }\r\n    }\r\n\r\nAlso, change the &#39;get&#39; function in DoctorController to use DTOs. My advice is to do this for all other functions as well so that communication with the outside world is done through DTOs instead of entities.\r\n\r\n    @GetMapping(&quot;/all&quot;)\r\n    public ResponseEntity&lt;List&lt;DoctorDTO&gt;&gt; get() {\r\n        List&lt;DoctorDTO&gt; doctorDTOS = DoctorDTO.convertEntityListToDTOList(doctorService.getAllDoctors());\r\n        return ResponseEntity.ok(doctorDTOS);\r\n    }\r\n\r\n\r\nFinally, modify the getAllDoctors function in DoctorService to look like this:\r\n\r\n    @Transactional\r\n    public List&lt;Doctor&gt; getAllDoctors() {\r\n        List&lt;Doctor&gt; doctors = doctorRepository.findAll();\r\n        for (Doctor doctor : doctors) {\r\n            // вызовите getCategories() у каждого доктора, чтобы загрузить связанные категории\r\n            Hibernate.initialize(doctor.getCategories());\r\n            int size = doctor.getCategories().size();\r\n            System.out.println(&quot;size: &quot; + size);\r\n        }\r\n        return doctors;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence-api\r\n  [2]: https://www.baeldung.com/java-dto-pattern","title":"How do I get a list of categories for a doctor ? Spring Rest api","body":"<p>One solution to your problem could be to change <strong>FetchType.LAZY</strong> to <strong>FetchType.EAGER</strong> in the Doctor class for categories.\nYou can find more information on this <a href=\"https://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence-api\">here</a>.</p>\n<p>inside 'Doctor Entity' change this</p>\n<pre><code>@ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n</code></pre>\n<p>into this</p>\n<pre><code>@ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n</code></pre>\n<p>Another way to solve the issue is to replace the @Data annotation with @Getter and @Setter annotations on both Category and Doctor classes.</p>\n<p>Moreover, it's not considered a good practice to pass entities through the controller. It's better to use DTOs instead. You can read more about it <a href=\"https://www.baeldung.com/java-dto-pattern\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Here are examples of DTO classes for Category and Doctor:</p>\n<p>DoctorDTO</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class DoctorDTO {\n    private Long id;\n    private String email;\n    private String password;\n    private String fname;\n    private String lname;\n    private String description;\n    private String number;\n    private List&lt;CategoryDTO&gt; categories;\n\n\n    public static DoctorDTO convertEntityToDto(Doctor doctor) {\n        DoctorDTO dto = new DoctorDTO();\n\n        dto.setId(doctor.getId());\n        dto.setEmail(doctor.getEmail());\n        dto.setPassword(doctor.getPassword());\n        dto.setFname(doctor.getFname());\n        dto.setLname(doctor.getLname());\n        dto.setDescription(doctor.getDescription());\n        dto.setNumber(doctor.getNumber());\n        dto.setCategories(CategoryDTO.convertEntitySetToDTOList(doctor.getCategories()));\n\n        return dto;\n    }\n\n    public static List&lt;DoctorDTO&gt; convertEntityListToDTOList(List&lt;Doctor&gt; doctors) {\n        return doctors.stream().map(DoctorDTO::convertEntityToDto).collect(Collectors.toList());\n    }\n\n    public static List&lt;DoctorDTO&gt; convertEntitySetToDTOList(Set&lt;Doctor&gt; doctors) {\n        return doctors.stream().map(DoctorDTO::convertEntityToDto).collect(Collectors.toList());\n    }\n\n    public static Set&lt;CategoryDTO&gt; convertEntitySetToDTOSet(Set&lt;Category&gt; doctors) {\n        return doctors.stream().map(CategoryDTO::convertEntityToDto).collect(Collectors.toSet());\n    }\n\n    public static Page&lt;DoctorDTO&gt; convertEntityPageToDTOPage(Page&lt;Doctor&gt; doctors) {\n        return new PageImpl&lt;&gt;(convertEntityListToDTOList(doctors.getContent()), doctors.getPageable(), doctors.getTotalElements());\n    }\n}\n</code></pre>\n<p>CategoryDTO</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class CategoryDTO {\n    private Long id;\n    private String name;\n\n    public static CategoryDTO convertEntityToDto(Category category) {\n        CategoryDTO dto = new CategoryDTO();\n\n        dto.setId(category.getId());\n        dto.setName(category.getName());\n\n        return dto;\n    }\n\n    public static List&lt;CategoryDTO&gt; convertEntityListToDTOList(List&lt;Category&gt; categories) {\n        return categories.stream().map(CategoryDTO::convertEntityToDto).collect(Collectors.toList());\n    }\n\n    public static List&lt;CategoryDTO&gt; convertEntitySetToDTOList(Set&lt;Category&gt; categories) {\n        return categories.stream().map(CategoryDTO::convertEntityToDto).collect(Collectors.toList());\n    }\n\n    public static Set&lt;CategoryDTO&gt; convertEntitySetToDTOSet(Set&lt;Category&gt; categories) {\n        return categories.stream().map(CategoryDTO::convertEntityToDto).collect(Collectors.toSet());\n    }\n\n    public static Page&lt;CategoryDTO&gt; convertEntityPageToDTOPage(Page&lt;Category&gt; categories) {\n        return new PageImpl&lt;&gt;(convertEntityListToDTOList(categories.getContent()), categories.getPageable(), categories.getTotalElements());\n    }\n}\n</code></pre>\n<p>Also, change the 'get' function in DoctorController to use DTOs. My advice is to do this for all other functions as well so that communication with the outside world is done through DTOs instead of entities.</p>\n<pre><code>@GetMapping(&quot;/all&quot;)\npublic ResponseEntity&lt;List&lt;DoctorDTO&gt;&gt; get() {\n    List&lt;DoctorDTO&gt; doctorDTOS = DoctorDTO.convertEntityListToDTOList(doctorService.getAllDoctors());\n    return ResponseEntity.ok(doctorDTOS);\n}\n</code></pre>\n<p>Finally, modify the getAllDoctors function in DoctorService to look like this:</p>\n<pre><code>@Transactional\npublic List&lt;Doctor&gt; getAllDoctors() {\n    List&lt;Doctor&gt; doctors = doctorRepository.findAll();\n    for (Doctor doctor : doctors) {\n        // вызовите getCategories() у каждого доктора, чтобы загрузить связанные категории\n        Hibernate.initialize(doctor.getCategories());\n        int size = doctor.getCategories().size();\n        System.out.println(&quot;size: &quot; + size);\n    }\n    return doctors;\n}\n</code></pre>\n"}],"owner":{"account_id":24921943,"reputation":23,"user_id":18790119,"display_name":"Timo4ka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75776348,"answer_count":2,"score":-1,"last_activity_date":1679170552,"creation_date":1679147282,"question_id":75776296,"body_markdown":"I have such a problem that when calling the GET (getDoctorByName) method for the doctor, I get all the information about the doctor except for the categories field (there are entries in it, but it returns me an empty array). Creating doctor records and categories work and adding a category for a doctor too.\r\nCreated data in the database:\r\n[![Category table][1]][1]\r\n[![Doctor table][2]][2]\r\n[![Doctor Category table][3]][3]\r\n\r\nWhat do I need to change or what did I do wrong?\r\n\r\nDoctor Entity:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;doctor&quot;)\r\n    public class Doctor {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String email;\r\n        private String password;\r\n        @Column(name = &quot;first_name&quot;)\r\n        private String fname;\r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lname;\r\n        private String description;\r\n        private String number;\r\n        @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n        @JoinTable(\r\n                name = &quot;doctor_category&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;doctor_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;category_id&quot;)\r\n        )\r\n        private Set&lt;Category&gt; categories;\r\n    }\r\n\r\n\r\n\r\nCategory Entity:\r\n\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;category&quot;)\r\n    public class Category {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        @ManyToMany(mappedBy = &quot;categories&quot;, fetch = FetchType.LAZY)\r\n        private Set&lt;Doctor&gt; doctors;\r\n    }\r\n\r\n\r\nCategory and Doctor Repository:\r\n\r\n    @Repository\r\n    public interface CategoryRepository extends JpaRepository&lt;Category, Long&gt; {\r\n        List&lt;Category&gt; findByName(String name);\r\n    }\r\n    \r\n    @Repository\r\n    public interface DoctorRepository extends JpaRepository&lt;Doctor, Long&gt; {\r\n        @EntityGraph(attributePaths = &quot;categories&quot;)\r\n        List&lt;Doctor&gt; findByFnameAndLname(String fname, String lname);\r\n        @EntityGraph(attributePaths = &quot;categories&quot;)\r\n        List&lt;Doctor&gt; findByFname(String fname);\r\n        @EntityGraph(attributePaths = &quot;categories&quot;)\r\n        List&lt;Doctor&gt; findByLname(String lname);\r\n    }\r\n\r\n\r\nCategory Service:\r\n\r\n    @Service\r\n    public class CategoryService {\r\n        @Autowired\r\n        private CategoryRepository categoryRepository;\r\n    \r\n        public Category createCategory(Category category) {\r\n            return categoryRepository.save(category);\r\n        }\r\n    \r\n        public Category editCategory(Long categoryId, Category myCategory) {\r\n            Category category = categoryRepository.findById(categoryId)\r\n                    .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Категория с id: &quot; + categoryId + &quot; не найден&quot;));\r\n            category.setName(myCategory.getName());\r\n            categoryRepository.save(category);\r\n            return category;\r\n        }\r\n    \r\n        public List&lt;Category&gt; getCategoryByName(String name) {\r\n            List&lt;Category&gt; categories;\r\n            if (name != null) {\r\n                categories = categoryRepository.findByName(name);\r\n            } else categories = categoryRepository.findAll();\r\n            return categories;\r\n        }\r\n    \r\n        public HttpStatus deleteCategory(Long categoryId) {\r\n            categoryRepository.deleteById(categoryId);\r\n            return HttpStatus.OK;\r\n        }\r\n    \r\n    }\r\n\r\nDoctor Service:\r\n\r\n    @Service\r\n    public class DoctorService {\r\n        @Autowired\r\n        private DoctorRepository doctorRepository;\r\n        @Autowired\r\n        private CategoryRepository categoryRepository;\r\n    \r\n        public Doctor createDoctor(Doctor doctor) {\r\n            return doctorRepository.save(doctor);\r\n        }\r\n    \r\n        public Doctor editDoctor(Long doctorId, Doctor myDoctor) {\r\n            Doctor doctor = doctorRepository.findById(doctorId)\r\n                    .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Доктор с id: &quot; + doctorId + &quot; не найден&quot;));\r\n            doctor.setEmail(myDoctor.getEmail());\r\n            doctor.setPassword(myDoctor.getPassword());\r\n            doctor.setFname(myDoctor.getFname());\r\n            doctor.setLname(myDoctor.getLname());\r\n            doctor.setDescription(myDoctor.getDescription());\r\n            doctor.setNumber(myDoctor.getNumber());\r\n            return doctorRepository.save(doctor);\r\n        }\r\n    \r\n        public Doctor addCategoryForDoctor(Long doctorId, Long categoryId) {\r\n            Doctor doctor = doctorRepository.findById(doctorId)\r\n                    .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Доктор с id: &quot; + doctorId + &quot; не найден&quot;));\r\n            Category category = categoryRepository.findById(categoryId)\r\n                    .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Категория с id: &quot; + categoryId + &quot; не найден&quot;));\r\n            Set&lt;Category&gt; categories = doctor.getCategories();\r\n            categories.add(category);\r\n            doctor.setCategories(categories);\r\n            return doctorRepository.save(doctor);\r\n        }\r\n    \r\n        public List&lt;Doctor&gt; getAllDoctors() {\r\n            List&lt;Doctor&gt; doctors = doctorRepository.findAll();\r\n            for (Doctor doctor : doctors) {\r\n                // вызовите getCategories() у каждого доктора, чтобы загрузить связанные категории\r\n                doctor.getCategories().size();\r\n            }\r\n            return doctors;\r\n        }\r\n    \r\n        public List&lt;Doctor&gt; getDoctorByName(String fname, String lname) {\r\n            List&lt;Doctor&gt; doctors;\r\n            if (fname != null &amp;&amp; lname != null) {\r\n                doctors = doctorRepository.findByFnameAndLname(fname, lname);\r\n            } else if (fname != null) {\r\n                doctors = doctorRepository.findByFname(fname);\r\n            } else if (lname != null) {\r\n                doctors = doctorRepository.findByLname(lname);\r\n            } else {\r\n                doctors = doctorRepository.findAll();\r\n            }\r\n            return doctors;\r\n        }\r\n    \r\n        public HttpStatus deleteDoctor(Long doctorId) {\r\n            doctorRepository.deleteById(doctorId);\r\n            return HttpStatus.OK;\r\n        }\r\n    }\r\n\r\nDoctor Controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/doctor&quot;)\r\n    public class DoctorController {\r\n        @Autowired\r\n        private DoctorService doctorService;\r\n    \r\n        @PostMapping\r\n        public ResponseEntity&lt;Doctor&gt; createDoctor(@RequestBody Doctor doctor) {\r\n            return ResponseEntity.ok(doctorService.createDoctor(doctor));\r\n        }\r\n    \r\n        @PutMapping\r\n        public ResponseEntity&lt;Doctor&gt; editDoctor(@RequestParam Long doctorId, @RequestBody Doctor doctor) {\r\n            return ResponseEntity.ok(doctorService.editDoctor(doctorId, doctor));\r\n        }\r\n    \r\n        @PutMapping(&quot;/add/category&quot;)\r\n        public ResponseEntity&lt;Doctor&gt; addCategoryForDoctor(@RequestParam Long doctorId, @RequestParam Long categoryId) {\r\n            return ResponseEntity.ok(doctorService.addCategoryForDoctor(doctorId, categoryId));\r\n        }\r\n    \r\n        @GetMapping(&quot;/all&quot;)\r\n        public ResponseEntity&lt;List&lt;Doctor&gt;&gt; get() {\r\n            return ResponseEntity.ok(doctorService.getAllDoctors());\r\n        }\r\n    \r\n        @GetMapping\r\n        public ResponseEntity&lt;List&lt;Doctor&gt;&gt; getDoctorByName(@RequestParam(required = false) String fname,\r\n                                                            @RequestParam(required = false) String lname) {\r\n            return ResponseEntity.ok(doctorService.getDoctorByName(fname, lname));\r\n        }\r\n    \r\n        @DeleteMapping\r\n        public ResponseEntity&lt;HttpStatus&gt; deleteDoctor(@RequestParam Long doctorId) {\r\n            return ResponseEntity.ok(doctorService.deleteDoctor(doctorId));\r\n        }\r\n    }\r\n\r\nCategory Controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/category&quot;)\r\n    public class CategoryController {\r\n        @Autowired\r\n        private CategoryService categoryService;\r\n    \r\n        @PostMapping\r\n        public ResponseEntity&lt;Category&gt; createCategory(@RequestBody Category category) {\r\n            return ResponseEntity.ok(categoryService.createCategory(category));\r\n        }\r\n    \r\n        @PutMapping\r\n        public ResponseEntity&lt;Category&gt; editCategory(@RequestParam Long categoryId, @RequestBody Category category) {\r\n            return ResponseEntity.ok(categoryService.editCategory(categoryId, category));\r\n        }\r\n    \r\n        @GetMapping\r\n        public ResponseEntity&lt;List&lt;Category&gt;&gt; getCategoryByName(@RequestParam(required = false) String name) {\r\n            return ResponseEntity.ok(categoryService.getCategoryByName(name));\r\n        }\r\n    \r\n        @DeleteMapping\r\n        public ResponseEntity&lt;HttpStatus&gt; deleteCategory(@RequestBody Long categoryId) {\r\n            return ResponseEntity.ok(categoryService.deleteCategory(categoryId));\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s2joi.png\r\n  [2]: https://i.stack.imgur.com/h3Nh0.png\r\n  [3]: https://i.stack.imgur.com/q8bzV.png\r\n","title":"How do I get a list of categories for a doctor ? Spring Rest api","body":"<p>I have such a problem that when calling the GET (getDoctorByName) method for the doctor, I get all the information about the doctor except for the categories field (there are entries in it, but it returns me an empty array). Creating doctor records and categories work and adding a category for a doctor too.\nCreated data in the database:\n<a href=\"https://i.stack.imgur.com/s2joi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s2joi.png\" alt=\"Category table\" /></a>\n<a href=\"https://i.stack.imgur.com/h3Nh0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h3Nh0.png\" alt=\"Doctor table\" /></a>\n<a href=\"https://i.stack.imgur.com/q8bzV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q8bzV.png\" alt=\"Doctor Category table\" /></a></p>\n<p>What do I need to change or what did I do wrong?</p>\n<p>Doctor Entity:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;doctor&quot;)\npublic class Doctor {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String email;\n    private String password;\n    @Column(name = &quot;first_name&quot;)\n    private String fname;\n    @Column(name = &quot;last_name&quot;)\n    private String lname;\n    private String description;\n    private String number;\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinTable(\n            name = &quot;doctor_category&quot;,\n            joinColumns = @JoinColumn(name = &quot;doctor_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;category_id&quot;)\n    )\n    private Set&lt;Category&gt; categories;\n}\n</code></pre>\n<p>Category Entity:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;category&quot;)\npublic class Category {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    @ManyToMany(mappedBy = &quot;categories&quot;, fetch = FetchType.LAZY)\n    private Set&lt;Doctor&gt; doctors;\n}\n</code></pre>\n<p>Category and Doctor Repository:</p>\n<pre><code>@Repository\npublic interface CategoryRepository extends JpaRepository&lt;Category, Long&gt; {\n    List&lt;Category&gt; findByName(String name);\n}\n\n@Repository\npublic interface DoctorRepository extends JpaRepository&lt;Doctor, Long&gt; {\n    @EntityGraph(attributePaths = &quot;categories&quot;)\n    List&lt;Doctor&gt; findByFnameAndLname(String fname, String lname);\n    @EntityGraph(attributePaths = &quot;categories&quot;)\n    List&lt;Doctor&gt; findByFname(String fname);\n    @EntityGraph(attributePaths = &quot;categories&quot;)\n    List&lt;Doctor&gt; findByLname(String lname);\n}\n</code></pre>\n<p>Category Service:</p>\n<pre><code>@Service\npublic class CategoryService {\n    @Autowired\n    private CategoryRepository categoryRepository;\n\n    public Category createCategory(Category category) {\n        return categoryRepository.save(category);\n    }\n\n    public Category editCategory(Long categoryId, Category myCategory) {\n        Category category = categoryRepository.findById(categoryId)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Категория с id: &quot; + categoryId + &quot; не найден&quot;));\n        category.setName(myCategory.getName());\n        categoryRepository.save(category);\n        return category;\n    }\n\n    public List&lt;Category&gt; getCategoryByName(String name) {\n        List&lt;Category&gt; categories;\n        if (name != null) {\n            categories = categoryRepository.findByName(name);\n        } else categories = categoryRepository.findAll();\n        return categories;\n    }\n\n    public HttpStatus deleteCategory(Long categoryId) {\n        categoryRepository.deleteById(categoryId);\n        return HttpStatus.OK;\n    }\n\n}\n</code></pre>\n<p>Doctor Service:</p>\n<pre><code>@Service\npublic class DoctorService {\n    @Autowired\n    private DoctorRepository doctorRepository;\n    @Autowired\n    private CategoryRepository categoryRepository;\n\n    public Doctor createDoctor(Doctor doctor) {\n        return doctorRepository.save(doctor);\n    }\n\n    public Doctor editDoctor(Long doctorId, Doctor myDoctor) {\n        Doctor doctor = doctorRepository.findById(doctorId)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Доктор с id: &quot; + doctorId + &quot; не найден&quot;));\n        doctor.setEmail(myDoctor.getEmail());\n        doctor.setPassword(myDoctor.getPassword());\n        doctor.setFname(myDoctor.getFname());\n        doctor.setLname(myDoctor.getLname());\n        doctor.setDescription(myDoctor.getDescription());\n        doctor.setNumber(myDoctor.getNumber());\n        return doctorRepository.save(doctor);\n    }\n\n    public Doctor addCategoryForDoctor(Long doctorId, Long categoryId) {\n        Doctor doctor = doctorRepository.findById(doctorId)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Доктор с id: &quot; + doctorId + &quot; не найден&quot;));\n        Category category = categoryRepository.findById(categoryId)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Категория с id: &quot; + categoryId + &quot; не найден&quot;));\n        Set&lt;Category&gt; categories = doctor.getCategories();\n        categories.add(category);\n        doctor.setCategories(categories);\n        return doctorRepository.save(doctor);\n    }\n\n    public List&lt;Doctor&gt; getAllDoctors() {\n        List&lt;Doctor&gt; doctors = doctorRepository.findAll();\n        for (Doctor doctor : doctors) {\n            // вызовите getCategories() у каждого доктора, чтобы загрузить связанные категории\n            doctor.getCategories().size();\n        }\n        return doctors;\n    }\n\n    public List&lt;Doctor&gt; getDoctorByName(String fname, String lname) {\n        List&lt;Doctor&gt; doctors;\n        if (fname != null &amp;&amp; lname != null) {\n            doctors = doctorRepository.findByFnameAndLname(fname, lname);\n        } else if (fname != null) {\n            doctors = doctorRepository.findByFname(fname);\n        } else if (lname != null) {\n            doctors = doctorRepository.findByLname(lname);\n        } else {\n            doctors = doctorRepository.findAll();\n        }\n        return doctors;\n    }\n\n    public HttpStatus deleteDoctor(Long doctorId) {\n        doctorRepository.deleteById(doctorId);\n        return HttpStatus.OK;\n    }\n}\n</code></pre>\n<p>Doctor Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/doctor&quot;)\npublic class DoctorController {\n    @Autowired\n    private DoctorService doctorService;\n\n    @PostMapping\n    public ResponseEntity&lt;Doctor&gt; createDoctor(@RequestBody Doctor doctor) {\n        return ResponseEntity.ok(doctorService.createDoctor(doctor));\n    }\n\n    @PutMapping\n    public ResponseEntity&lt;Doctor&gt; editDoctor(@RequestParam Long doctorId, @RequestBody Doctor doctor) {\n        return ResponseEntity.ok(doctorService.editDoctor(doctorId, doctor));\n    }\n\n    @PutMapping(&quot;/add/category&quot;)\n    public ResponseEntity&lt;Doctor&gt; addCategoryForDoctor(@RequestParam Long doctorId, @RequestParam Long categoryId) {\n        return ResponseEntity.ok(doctorService.addCategoryForDoctor(doctorId, categoryId));\n    }\n\n    @GetMapping(&quot;/all&quot;)\n    public ResponseEntity&lt;List&lt;Doctor&gt;&gt; get() {\n        return ResponseEntity.ok(doctorService.getAllDoctors());\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Doctor&gt;&gt; getDoctorByName(@RequestParam(required = false) String fname,\n                                                        @RequestParam(required = false) String lname) {\n        return ResponseEntity.ok(doctorService.getDoctorByName(fname, lname));\n    }\n\n    @DeleteMapping\n    public ResponseEntity&lt;HttpStatus&gt; deleteDoctor(@RequestParam Long doctorId) {\n        return ResponseEntity.ok(doctorService.deleteDoctor(doctorId));\n    }\n}\n</code></pre>\n<p>Category Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/category&quot;)\npublic class CategoryController {\n    @Autowired\n    private CategoryService categoryService;\n\n    @PostMapping\n    public ResponseEntity&lt;Category&gt; createCategory(@RequestBody Category category) {\n        return ResponseEntity.ok(categoryService.createCategory(category));\n    }\n\n    @PutMapping\n    public ResponseEntity&lt;Category&gt; editCategory(@RequestParam Long categoryId, @RequestBody Category category) {\n        return ResponseEntity.ok(categoryService.editCategory(categoryId, category));\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Category&gt;&gt; getCategoryByName(@RequestParam(required = false) String name) {\n        return ResponseEntity.ok(categoryService.getCategoryByName(name));\n    }\n\n    @DeleteMapping\n    public ResponseEntity&lt;HttpStatus&gt; deleteCategory(@RequestBody Long categoryId) {\n        return ResponseEntity.ok(categoryService.deleteCategory(categoryId));\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"comments":[{"owner":{"account_id":12814133,"reputation":135,"user_id":10144071,"display_name":"user10144071"},"score":0,"creation_date":1566369713,"post_id":57580428,"comment_id":101629525,"body_markdown":"still it is storing as blob","body":"still it is storing as blob"}],"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566329500,"creation_date":1566329500,"answer_id":57580428,"question_id":57580310,"body_markdown":"You need to setup proper Hibernate [Generator][1] like\r\n\r\n    @Id\r\n    @GeneratedValue(generator = “UUID”)\r\n\t@GenericGenerator(\r\n\t\tname = “UUID”,\r\n\t\tstrategy = “org.hibernate.id.UUIDGenerator”,\r\n\t)\r\n    private UUID id;\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.0/mappingGuide/en-US/html/ch06.html#identifiers-generators-generic","title":"convert UUID as blob to proper string id hibernate","body":"<p>You need to setup proper Hibernate <a href=\"https://docs.jboss.org/hibernate/orm/5.0/mappingGuide/en-US/html/ch06.html#identifiers-generators-generic\" rel=\"nofollow noreferrer\">Generator</a> like</p>\n\n<pre><code>@Id\n@GeneratedValue(generator = “UUID”)\n@GenericGenerator(\n    name = “UUID”,\n    strategy = “org.hibernate.id.UUIDGenerator”,\n)\nprivate UUID id;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12814133,"reputation":135,"user_id":10144071,"display_name":"user10144071"},"score":0,"creation_date":1566370023,"post_id":57583493,"comment_id":101629650,"body_markdown":"it is storing as blob","body":"it is storing as blob"}],"tags":[],"owner":{"account_id":434554,"reputation":734,"user_id":820594,"display_name":"Captain"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566352698,"creation_date":1566352698,"answer_id":57583493,"question_id":57580310,"body_markdown":"Do you really mean BLOB? A UUID is 128 bits, certainly does not qualify for a LOB column.\r\nFor example you could use a Binary(16) column in MySQL.\r\n\r\nNow to answer your question, you need to tell hibernate how to generate the ID value.\r\n```\r\n    @Id\r\n    @GeneratedValue(generator = &quot;hibernate-uuid&quot;)\r\n    @GenericGenerator(name = &quot;hibernate-uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    @Column(name = &quot;id&quot;, columnDefinition = &quot;BINARY(16)&quot;)\r\n    protected UUID id;\r\n```","title":"convert UUID as blob to proper string id hibernate","body":"<p>Do you really mean BLOB? A UUID is 128 bits, certainly does not qualify for a LOB column.\nFor example you could use a Binary(16) column in MySQL.</p>\n\n<p>Now to answer your question, you need to tell hibernate how to generate the ID value.</p>\n\n<pre><code>    @Id\n    @GeneratedValue(generator = \"hibernate-uuid\")\n    @GenericGenerator(name = \"hibernate-uuid\", strategy = \"uuid2\")\n    @Column(name = \"id\", columnDefinition = \"BINARY(16)\")\n    protected UUID id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20030037,"reputation":1,"user_id":14683038,"display_name":"Sri Harshita"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679170407,"creation_date":1679170407,"answer_id":75778434,"question_id":57580310,"body_markdown":"    import java.util.UUID;\r\n    @Table(name=&quot;address_book&quot;)\r\n    @Entity  \r\n    public class AddressBook {  \r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid2&quot;)\r\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n    @Column(name = &quot;name&quot;, updatable = false, nullable = false, columnDefinition = &quot;VARCHAR(36)&quot;)\r\n    @Type(type = &quot;uuid-char&quot;)\r\n    private String name;\r\n    .\r\n    .\r\n    .\r\n    }\r\n\r\nthis will definitely work. It worked for me and please refer to [https://www.codementor.io/@petrepopescu/how-to-use-string-uuid-in-hibernate-with-mysql-1jrhjh6ef5][1] for more details. \r\n\r\n\r\n  [1]: https://import%20java.util.UUID;%20@Table(name=%22address_book%22)%20@Entity%20%20%20public%20class%20AddressBook%20%7B%20%20%20%20%20@Id%20%20%20@GeneratedValue(generator%20=%20%22uuid2%22)%20%20%20@GenericGenerator(name%20=%20%22uuid2%22,%20strategy%20=%20%22uuid2%22)%20%20%20@Column(name%20=%20%22name%22,%20updatable%20=%20false,%20nullable%20=%20false,%20columnDefinition%20=%20%22VARCHAR(36)%22)%20%20%20@Type(type%20=%20%22uuid-char%22)%20%20%20private%20String%20name;%20%20%20.%20%20%20.%20%20%20.%20%20%7D%20%20this%20will%20definitely%20work.%20It%20worked%20for%20me%20and%20please%20refer%20to%20https://www.codementor.io/@petrepopescu/how-to-use-string-uuid-in-hibernate-with-mysql-1jrhjh6ef5%20for%20more%20details.\r\n","title":"convert UUID as blob to proper string id hibernate","body":"<pre><code>import java.util.UUID;\n@Table(name=&quot;address_book&quot;)\n@Entity  \npublic class AddressBook {  \n@Id\n@GeneratedValue(generator = &quot;uuid2&quot;)\n@GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\n@Column(name = &quot;name&quot;, updatable = false, nullable = false, columnDefinition = &quot;VARCHAR(36)&quot;)\n@Type(type = &quot;uuid-char&quot;)\nprivate String name;\n.\n.\n.\n}\n</code></pre>\n<p>this will definitely work. It worked for me and please refer to <a href=\"https://import%20java.util.UUID;%20@Table(name=%22address_book%22)%20@Entity%20%20%20public%20class%20AddressBook%20%7B%20%20%20%20%20@Id%20%20%20@GeneratedValue(generator%20=%20%22uuid2%22)%20%20%20@GenericGenerator(name%20=%20%22uuid2%22,%20strategy%20=%20%22uuid2%22)%20%20%20@Column(name%20=%20%22name%22,%20updatable%20=%20false,%20nullable%20=%20false,%20columnDefinition%20=%20%22VARCHAR(36)%22)%20%20%20@Type(type%20=%20%22uuid-char%22)%20%20%20private%20String%20name;%20%20%20.%20%20%20.%20%20%20.%20%20%7D%20%20this%20will%20definitely%20work.%20It%20worked%20for%20me%20and%20please%20refer%20to%20https://www.codementor.io/@petrepopescu/how-to-use-string-uuid-in-hibernate-with-mysql-1jrhjh6ef5%20for%20more%20details.\" rel=\"nofollow noreferrer\">https://www.codementor.io/@petrepopescu/how-to-use-string-uuid-in-hibernate-with-mysql-1jrhjh6ef5</a> for more details.</p>\n"}],"owner":{"account_id":12814133,"reputation":135,"user_id":10144071,"display_name":"user10144071"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1203,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1679170407,"creation_date":1566328997,"question_id":57580310,"body_markdown":"I am using UUID is my id (@Id) in entity. Something like this:\r\n\r\n    import java.util.UUID;\r\n\t@Table(name=&quot;address_book&quot;)\r\n\t@Entity  \r\n\tpublic class AddressBook {  \r\n      @Id\r\n\t  private UUID id;\r\n\t  private String name;\r\n      .\r\n      .\r\n      .\r\n     }\r\n\r\nNow what is happening is, when i call addressBookDao.save(addressBook) or whenever i am saving data in database it is getting stored as: \r\n\r\n    id, name, isbn, date, username\r\n    {blob}, john, isbn-45888, 15-02-2019, david\r\n    \r\nSo in id column i&#39;m getting this blob written their in every row i&#39;m inserting. I thought UUID will generate a random id, instead of that its storing an entire json object of UUID as blob in that id column.\r\n\r\nHow can i fix this problem. I want string/random value to be present instead of blob/object?","title":"convert UUID as blob to proper string id hibernate","body":"<p>I am using UUID is my id (@Id) in entity. Something like this:</p>\n\n<pre><code>import java.util.UUID;\n@Table(name=\"address_book\")\n@Entity  \npublic class AddressBook {  \n  @Id\n  private UUID id;\n  private String name;\n  .\n  .\n  .\n }\n</code></pre>\n\n<p>Now what is happening is, when i call addressBookDao.save(addressBook) or whenever i am saving data in database it is getting stored as: </p>\n\n<pre><code>id, name, isbn, date, username\n{blob}, john, isbn-45888, 15-02-2019, david\n</code></pre>\n\n<p>So in id column i'm getting this blob written their in every row i'm inserting. I thought UUID will generate a random id, instead of that its storing an entire json object of UUID as blob in that id column.</p>\n\n<p>How can i fix this problem. I want string/random value to be present instead of blob/object?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1679186016,"post_id":75778355,"comment_id":133676466,"body_markdown":"dont let the user post in their ID `getYeditepeUserDetailsId` instead you should fetch the id from the principal instead. Also the way you have implemented JWT is not how you do it in spring security, please read the JWT chapter in the spring security documentation on how to handle JWTs correctly.","body":"dont let the user post in their ID <code>getYeditepeUserDetailsId</code> instead you should fetch the id from the principal instead. Also the way you have implemented JWT is not how you do it in spring security, please read the JWT chapter in the spring security documentation on how to handle JWTs correctly."}],"owner":{"account_id":21397604,"reputation":11,"user_id":15760400,"display_name":"Adem Galitekin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679169595,"creation_date":1679169595,"question_id":75778355,"body_markdown":"I have an app like Instagram that a user can post, comment and like. I have endpoints like /comments/{commentId} (post request) to comment something. The problem is any authenticated user can reach these endpoints and post or comment on behalf of someone else. So, I need to create a security flow that a user can post only from his profile. How can I achive this?\r\n\r\nhere is my CommentController Class\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/comments&quot;)\r\n    @AllArgsConstructor\r\n    public class CommentController {\r\n    \r\n        private final CommentService commentService;\r\n        private final UserService userService;\r\n        private final ModelMapper modelMapper;\r\n        private final PostService postService;\r\n    \r\n    \r\n        @GetMapping\r\n        public DataResult&lt;List&lt;Comment&gt;&gt; getAllComments (\r\n                @RequestParam Optional&lt;Long&gt; yeditepeUserDetailsId,\r\n                @RequestParam Optional&lt;Long&gt; postId) {\r\n    \r\n            return commentService.getAllCommentsWithParam (yeditepeUserDetailsId, postId);\r\n        }\r\n    \r\n        @GetMapping(&quot;/{commentId}&quot;)\r\n        public DataResult&lt;Comment&gt; getComment (@PathVariable Long commentId) {\r\n            return commentService.getCommentById(commentId);\r\n        }\r\n    \r\n        @PostMapping\r\n        public Result createComment(@RequestBody CommentDto commentDto) {\r\n    \r\n            Comment comment = modelMapper.map(commentDto, Comment.class);\r\n            Post post = postService.getPostById(commentDto.getPostId()).getData();\r\n            YeditepeUserDetails yeditepeUserDetails = userService\r\n                    .getUserById(commentDto.getYeditepeUserDetailsId())\r\n                    .getYeditepeUserDetails();\r\n    \r\n            comment.setPost(post);\r\n            comment.setYeditepeUserDetails(yeditepeUserDetails);\r\n            return commentService.createComment(comment);\r\n        }\r\n    }\r\n\r\nAnd here is my User Class\r\n\r\n    @Entity\r\n    @Getter @Setter @ToString\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy= GenerationType.AUTO,generator=&quot;native&quot;)\r\n        @GenericGenerator(name = &quot;native&quot;,strategy = &quot;native&quot;)\r\n        private Long userId;\r\n    \r\n        @NotBlank\r\n        @NotNull\r\n        private String firstname;\r\n    \r\n        @NotBlank\r\n        @NotNull\r\n        private String lastname;\r\n    \r\n        @Pattern(regexp = CommunicationConstants.EMAIL_REGEX_PATTERN, message = CommunicationConstants.PATTERN_DOES_NOT_MATCH_MESSAGE)\r\n        private String email;\r\n    \r\n        @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n        @Pattern(regexp = SecurityConstants.PASSWORD_REGEX, message = &quot;INVALID PASSWORD&quot;)\r\n        private String password;\r\n    \r\n        @JsonIgnore\r\n        @OneToMany (mappedBy = &quot;user&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n        private Set&lt;Authority&gt; authorities;\r\n    \r\n        private String phoneNumber;\r\n    \r\n        @OneToOne(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n        @JsonIgnore\r\n        private ConfirmationToken confirmationToken;\r\n    \r\n        @OneToOne(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n        @JsonIgnore\r\n        private YeditepeUserDetails yeditepeUserDetails;\r\n    \r\n    }\r\n\r\nAnd here is my Configuration Class\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableMethodSecurity\r\n    public class SecurityConfiguration {\r\n    \r\n        @Bean\r\n        SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\r\n    \r\n            CsrfTokenRequestAttributeHandler requestHandler = new CsrfTokenRequestAttributeHandler();\r\n            requestHandler.setCsrfRequestAttributeName(&quot;_csrf&quot;);\r\n            //buradaki kod sayesinde springin sessionid oluşurturmasını engelliyoruz.\r\n            //burada birazdan kendi session managementımızı kendimiz yapıcaz.\r\n            //kendi token managementımızı\r\n            http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                    .cors().configurationSource(corsConfiguration()).and()\r\n                    /*\r\n                    .csrf((csrf) -&gt; csrf.csrfTokenRequestHandler(requestHandler)\r\n                            .ignoringRequestMatchers(&quot;/contact&quot;,&quot;/register&quot;)\r\n                            .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse()))\r\n    \r\n                    .addFilterAfter(new CsrfCookieFilter(), BasicAuthenticationFilter.class)\r\n                     */\r\n                    .csrf().disable()\r\n                    .addFilterAfter(new JwtTokenGeneratorFilter(), BasicAuthenticationFilter.class)\r\n                    .addFilterBefore(new JwtTokenValidatorFilter(), BasicAuthenticationFilter.class)\r\n                    .authorizeHttpRequests()\r\n                    .requestMatchers(HttpMethod.POST, &quot;/api/auth/promoteUser&quot;).hasRole(SecurityConstants.ROLE_ADMIN_NO_PREFIX)\r\n                    .requestMatchers(HttpMethod.POST, &quot;/api/auth/demoteUser&quot;).hasRole(SecurityConstants.ROLE_ADMIN_NO_PREFIX)\r\n                    .requestMatchers(HttpMethod.POST, &quot;/api/auth/register&quot;).permitAll()\r\n                    .requestMatchers(HttpMethod.GET, &quot;/api/auth/confirm-account&quot;).permitAll()\r\n                    .requestMatchers(&quot;/api/posts/**&quot;).permitAll()\r\n                    .requestMatchers(&quot;/api/comments/**&quot;).permitAll()\r\n                    .requestMatchers(&quot;/api/likes/**&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and().formLogin()\r\n                    .and().httpBasic();\r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        private CorsConfigurationSource corsConfiguration () {\r\n    \r\n            return request -&gt; {\r\n                CorsConfiguration configuration = new CorsConfiguration();\r\n                configuration.setAllowedOrigins(Collections.singletonList(&quot;http://localhost:4200&quot;));\r\n                configuration.setAllowedMethods(Collections.singletonList(&quot;*&quot;));\r\n                configuration.setAllowCredentials(true);\r\n                configuration.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\r\n                configuration.setMaxAge(3600L);\r\n                //exposed headers token &#252;rettiğimiz i&#231;in g&#246;nderiyoruz.ders85\r\n                configuration.setExposedHeaders(List.of(&quot;Authorization&quot;));\r\n                return configuration;\r\n            };\r\n        }\r\n    }\r\n\r\n","title":"Spring Security User should not be able to post something on behalf of someone else","body":"<p>I have an app like Instagram that a user can post, comment and like. I have endpoints like /comments/{commentId} (post request) to comment something. The problem is any authenticated user can reach these endpoints and post or comment on behalf of someone else. So, I need to create a security flow that a user can post only from his profile. How can I achive this?</p>\n<p>here is my CommentController Class</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/comments&quot;)\n@AllArgsConstructor\npublic class CommentController {\n\n    private final CommentService commentService;\n    private final UserService userService;\n    private final ModelMapper modelMapper;\n    private final PostService postService;\n\n\n    @GetMapping\n    public DataResult&lt;List&lt;Comment&gt;&gt; getAllComments (\n            @RequestParam Optional&lt;Long&gt; yeditepeUserDetailsId,\n            @RequestParam Optional&lt;Long&gt; postId) {\n\n        return commentService.getAllCommentsWithParam (yeditepeUserDetailsId, postId);\n    }\n\n    @GetMapping(&quot;/{commentId}&quot;)\n    public DataResult&lt;Comment&gt; getComment (@PathVariable Long commentId) {\n        return commentService.getCommentById(commentId);\n    }\n\n    @PostMapping\n    public Result createComment(@RequestBody CommentDto commentDto) {\n\n        Comment comment = modelMapper.map(commentDto, Comment.class);\n        Post post = postService.getPostById(commentDto.getPostId()).getData();\n        YeditepeUserDetails yeditepeUserDetails = userService\n                .getUserById(commentDto.getYeditepeUserDetailsId())\n                .getYeditepeUserDetails();\n\n        comment.setPost(post);\n        comment.setYeditepeUserDetails(yeditepeUserDetails);\n        return commentService.createComment(comment);\n    }\n}\n</code></pre>\n<p>And here is my User Class</p>\n<pre><code>@Entity\n@Getter @Setter @ToString\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.AUTO,generator=&quot;native&quot;)\n    @GenericGenerator(name = &quot;native&quot;,strategy = &quot;native&quot;)\n    private Long userId;\n\n    @NotBlank\n    @NotNull\n    private String firstname;\n\n    @NotBlank\n    @NotNull\n    private String lastname;\n\n    @Pattern(regexp = CommunicationConstants.EMAIL_REGEX_PATTERN, message = CommunicationConstants.PATTERN_DOES_NOT_MATCH_MESSAGE)\n    private String email;\n\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\n    @Pattern(regexp = SecurityConstants.PASSWORD_REGEX, message = &quot;INVALID PASSWORD&quot;)\n    private String password;\n\n    @JsonIgnore\n    @OneToMany (mappedBy = &quot;user&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    private Set&lt;Authority&gt; authorities;\n\n    private String phoneNumber;\n\n    @OneToOne(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    @JsonIgnore\n    private ConfirmationToken confirmationToken;\n\n    @OneToOne(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    @JsonIgnore\n    private YeditepeUserDetails yeditepeUserDetails;\n\n}\n</code></pre>\n<p>And here is my Configuration Class</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class SecurityConfiguration {\n\n    @Bean\n    SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\n\n        CsrfTokenRequestAttributeHandler requestHandler = new CsrfTokenRequestAttributeHandler();\n        requestHandler.setCsrfRequestAttributeName(&quot;_csrf&quot;);\n        //buradaki kod sayesinde springin sessionid oluşurturmasını engelliyoruz.\n        //burada birazdan kendi session managementımızı kendimiz yapıcaz.\n        //kendi token managementımızı\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .cors().configurationSource(corsConfiguration()).and()\n                /*\n                .csrf((csrf) -&gt; csrf.csrfTokenRequestHandler(requestHandler)\n                        .ignoringRequestMatchers(&quot;/contact&quot;,&quot;/register&quot;)\n                        .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse()))\n\n                .addFilterAfter(new CsrfCookieFilter(), BasicAuthenticationFilter.class)\n                 */\n                .csrf().disable()\n                .addFilterAfter(new JwtTokenGeneratorFilter(), BasicAuthenticationFilter.class)\n                .addFilterBefore(new JwtTokenValidatorFilter(), BasicAuthenticationFilter.class)\n                .authorizeHttpRequests()\n                .requestMatchers(HttpMethod.POST, &quot;/api/auth/promoteUser&quot;).hasRole(SecurityConstants.ROLE_ADMIN_NO_PREFIX)\n                .requestMatchers(HttpMethod.POST, &quot;/api/auth/demoteUser&quot;).hasRole(SecurityConstants.ROLE_ADMIN_NO_PREFIX)\n                .requestMatchers(HttpMethod.POST, &quot;/api/auth/register&quot;).permitAll()\n                .requestMatchers(HttpMethod.GET, &quot;/api/auth/confirm-account&quot;).permitAll()\n                .requestMatchers(&quot;/api/posts/**&quot;).permitAll()\n                .requestMatchers(&quot;/api/comments/**&quot;).permitAll()\n                .requestMatchers(&quot;/api/likes/**&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and().formLogin()\n                .and().httpBasic();\n        return http.build();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    private CorsConfigurationSource corsConfiguration () {\n\n        return request -&gt; {\n            CorsConfiguration configuration = new CorsConfiguration();\n            configuration.setAllowedOrigins(Collections.singletonList(&quot;http://localhost:4200&quot;));\n            configuration.setAllowedMethods(Collections.singletonList(&quot;*&quot;));\n            configuration.setAllowCredentials(true);\n            configuration.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\n            configuration.setMaxAge(3600L);\n            //exposed headers token ürettiğimiz için gönderiyoruz.ders85\n            configuration.setExposedHeaders(List.of(&quot;Authorization&quot;));\n            return configuration;\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","serversocket"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679207654,"post_id":75778338,"comment_id":133677861,"body_markdown":"`The Java™ Tutorials -&gt; Writing the Server Side of a Socket`  (https://docs.oracle.com/javase/tutorial/networking/sockets/clientServer.html)  -&gt; `Supporting Multiple Clients`","body":"<code>The Java™ Tutorials -&gt; Writing the Server Side of a Socket</code>  (<a href=\"https://docs.oracle.com/javase/tutorial/networking/sockets/clientServer.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/networking/sockets/&hellip;</a>)  -&gt; <code>Supporting Multiple Clients</code>"},{"owner":{"account_id":28052755,"reputation":1,"user_id":21428348,"display_name":"nedmah_9"},"score":1,"creation_date":1679242106,"post_id":75778338,"comment_id":133682173,"body_markdown":"Solved a problem finally, noticed that bc of my inattention i put while cycle under try-catch block","body":"Solved a problem finally, noticed that bc of my inattention i put while cycle under try-catch block"}],"owner":{"account_id":28052755,"reputation":1,"user_id":21428348,"display_name":"nedmah_9"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679169406,"creation_date":1679169406,"question_id":75778338,"body_markdown":"Idk am i right or not, but i think the problem is that i have to clear data array every iteration, but it doesnt work. At some point i&#39;ve thought it might be other problem, but i dont know.\r\nat every second operation there is \r\nException in thread &quot;main&quot; java.net.SocketException: A program on your host machine terminated the established connection\r\n\r\n\r\nI tried to fix it with Arrays.fill, data = null etc. Tried to do a method that generates byte array and reads the data, unsuccesfully.\r\n\r\nhere&#39;s Server\r\n\r\n```\r\npackage FileServer;\r\n\r\nimport java.io.*;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.net.SocketException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.HashMap;\r\n\r\npublic class Server {\r\n\r\n    static String path = &quot;D:\\\\JavaFiles\\\\data\\\\&quot;;\r\n    private static boolean isRunning = true;\r\n    private static final int PORT = 34522;\r\n    public static HashMap&lt;String, String&gt; filenames = new HashMap&lt;String, String&gt;();\r\n\r\n\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        createDirectory(path);\r\n\r\n        try (ServerSocket server = new ServerSocket(PORT)) {\r\n            System.out.println(&quot;Server started&quot;);\r\n\r\n            while (isRunning) {\r\n                String response = &quot;&quot;;\r\n                String id = &quot;&quot;;\r\n                try (\r\n                        Socket socket = server.accept();\r\n                        DataInputStream input = new DataInputStream(socket.getInputStream());\r\n                        DataOutputStream output = new DataOutputStream(socket.getOutputStream())\r\n                ) {\r\n                    String message = input.readUTF();\r\n                    if (message.equals(&quot;exit&quot;)) {\r\n                        input.close();\r\n                        output.close();\r\n                        socket.close();\r\n                        isRunning = false;\r\n                    } else{\r\n                        switch ((message.split(&quot;;&quot;)[0])){\r\n\r\n                            case &quot;PUT&quot;:\r\n                                System.out.println(message);\r\n                                if (message.split(&quot;;&quot;).length &gt; 1) {\r\n                                    path = path + message.split(&quot;;&quot;)[1];\r\n                                }\r\n                                File f = new File(path);\r\n                                if(f.exists() &amp;&amp; !f.isDirectory()) {\r\n                                    response = &quot;403&quot;;\r\n                                } else {\r\n                                    int length = input.readInt();\r\n                                    byte[] data = new byte[length];\r\n                                    input.readFully(data, 0, data.length);\r\n                                    System.out.println(path);\r\n                                    String hash = generateId(path);\r\n                                    filenames.put(hash, path);\r\n                                    try (FileOutputStream fos = new FileOutputStream(path)) {\r\n                                        fos.write(data);\r\n                                        System.out.println(path + &quot;****&quot;);\r\n                                    } catch (FileNotFoundException e) {\r\n                                        e.printStackTrace();\r\n                                    } catch (IOException e) {\r\n                                        e.printStackTrace();\r\n                                    }\r\n                                    id = hash;\r\n                                    response = &quot;200&quot; + &quot; &quot; + id;\r\n                                }\r\n                                output.writeUTF(response);\r\n                                path = path.replace(message.split(&quot;;&quot;)[1],&quot;&quot;);\r\n                                break;\r\n\r\n\r\n                            case &quot;GET&quot;:\r\n                                if (message.split(&quot;;&quot;)[1].equals(&quot;n&quot;)) {\r\n                                    path = path + message.split(&quot;;&quot;)[2];\r\n                                    f = new File(path);\r\n                                    if (f.exists() &amp;&amp; !f.isDirectory()) {\r\n                                        response = &quot;200&quot;;\r\n                                        Path path2 = Paths.get(path);\r\n                                        byte[] data = new byte[0];\r\n                                        if (Files.exists(path2) &amp;&amp; !Files.isDirectory(path2)) {\r\n                                            try {\r\n                                                data = Files.readAllBytes(path2);\r\n                                            } catch (IOException e) {\r\n                                                e.printStackTrace();\r\n                                            }\r\n                                        }\r\n                                        output.writeUTF(response);\r\n                                        output.writeInt(data.length);\r\n                                        output.write(data);\r\n                                    } else {\r\n                                        response = &quot;403&quot;;\r\n                                        output.writeUTF(response);\r\n                                    }\r\n                                } else {\r\n                                    id = message.split(&quot;;&quot;)[2];\r\n                                    if (filenames.containsKey(id)) path = filenames.get(id);\r\n                                    f = new File(path);\r\n                                    if (f.exists() &amp;&amp; !f.isDirectory()) {\r\n                                        response = &quot;200&quot;;\r\n                                        Path path2 = Paths.get(path);\r\n                                        byte[] data = new byte[0];\r\n                                        if (Files.exists(path2) &amp;&amp; !Files.isDirectory(path2)) {\r\n                                            try {\r\n                                                data = Files.readAllBytes(path2);\r\n                                            } catch (IOException e) {\r\n                                                e.printStackTrace();\r\n                                            }\r\n                                        }\r\n                                        output.writeUTF(response);\r\n                                        output.writeInt(data.length);\r\n                                        output.write(data);\r\n                                    } else {\r\n                                        response = &quot;403&quot;;\r\n                                        output.writeUTF(response);\r\n                                    }\r\n                                }\r\n                                path = path.replace(message.split(&quot;;&quot;)[2],&quot;&quot;);\r\n                                break;\r\n\r\n\r\n                            case &quot;DELETE&quot;:\r\n                                if (message.split(&quot;;&quot;)[1].equals(&quot;n&quot;)){\r\n                                    path = path + message.split(&quot;;&quot;)[2];\r\n                                } else {\r\n                                    id = message.split(&quot;;&quot;)[2];\r\n                                    if (filenames.containsKey(id)) path = filenames.get(id);\r\n                                }\r\n                                f = new File(path);\r\n                                if (f.exists() &amp;&amp; !f.isDirectory()) {\r\n                                    response = &quot;200&quot;;\r\n                                    delete(path);\r\n                                    filenames.remove(path);\r\n                                } else {\r\n                                    response = &quot;403&quot;;\r\n                                }\r\n                                output.writeUTF(response);\r\n                                path = path.replace(message.split(&quot;;&quot;)[2],&quot;&quot;);\r\n                                break;\r\n                        }\r\n                        output.flush();\r\n                    }\r\n\r\n\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    public static void createDirectory(String path) {\r\n        File fileDirectory = new File(path);\r\n        if (!fileDirectory.exists()) {\r\n            fileDirectory.mkdirs();\r\n        }\r\n    }\r\n\r\n    public static String generateId(String filename) {\r\n        return String.valueOf(Math.abs(filename.hashCode()));\r\n    }\r\n\r\n    public static void delete(String filepath) {\r\n        try {\r\n            File file = new File(filepath);\r\n            file.delete();\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nHere&#39;s Client\r\n\r\n\r\n```\r\npackage FileServer;\r\n\r\nimport java.io.*;\r\nimport java.net.Socket;\r\nimport java.net.SocketException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class Client {\r\n\r\n    private static boolean isRunning = true;\r\n    public static Scanner scan = new Scanner(System.in);\r\n    public static void main(String[] args) throws IOException, SocketException {\r\n        String address = &quot;127.0.0.1&quot;;\r\n        int port = 34522;\r\n        Socket socket = new Socket(address,port);\r\n        DataInputStream input = new DataInputStream(socket.getInputStream());\r\n        DataOutputStream output = new DataOutputStream(socket.getOutputStream());\r\n        String req = &quot;&quot;;\r\n        String response = &quot;&quot;;\r\n        byte[] data;\r\n        String filename = &quot;&quot;;\r\n\r\n        while (isRunning) {\r\n            System.out.println(&quot;Enter action (1 - get a file, 2 - save a file, 3 - delete a file, exit): &quot;);\r\n            String action = scan.nextLine();\r\n            switch (action) {\r\n                case &quot;1&quot;:\r\n                    req = getRequest();\r\n                    output.writeUTF(req);\r\n                    System.out.println(&quot;The request was sent.&quot;);\r\n                    response = input.readUTF();\r\n                    if (processResponse(response, action)) {\r\n                        int length = input.readInt();\r\n                        data = new byte[length];\r\n                        input.readFully(data, 0, data.length);\r\n                        filename = &quot;D:\\\\JavaFiles\\\\data\\\\&quot; + scan.nextLine();\r\n                        try (FileOutputStream fos = new FileOutputStream(filename)) {\r\n                            fos.write(data);\r\n                            System.out.println(filename + &quot;****&quot;);\r\n                        } catch (FileNotFoundException e) {\r\n                            e.printStackTrace();\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                        System.out.print(&quot;File saved on the hard drive!&quot;);\r\n                    }\r\n                    break;\r\n\r\n                case &quot;2&quot;:\r\n                    System.out.print(&quot;Enter filename: &quot;);\r\n                    String name = scan.nextLine();\r\n                    Path path = Paths.get(&quot;D:\\\\JavaFiles\\\\data\\\\&quot; + name);\r\n                    data = Files.readAllBytes(path);\r\n                    System.out.print(&quot;Enter name of the file to be saved on server: &quot;);\r\n                    String outName = scan.nextLine();\r\n                    output.writeUTF(&quot;PUT&quot; + &quot;;&quot; + outName);\r\n                    output.writeInt(data.length); // write length of the message\r\n                    output.write(data);\r\n                    response = input.readUTF();\r\n                    processResponse(response, action);\r\n                    String pathUpdate = path.getParent().toString();\r\n                    path = Path.of(pathUpdate);\r\n                    break;\r\n\r\n                case &quot;3&quot;:\r\n                    req = deleteRequest();\r\n                    output.writeUTF(req);\r\n                    System.out.println(&quot;The request was sent.&quot;);\r\n                    response = input.readUTF();\r\n                    processResponse(response, action);\r\n                    break;\r\n                case &quot;exit&quot;:\r\n                    output.writeUTF(&quot;exit&quot;);\r\n                    output.flush();\r\n                    output.close();\r\n                    input.close();\r\n                    socket.close();\r\n                    System.exit(0);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n    public static String getRequest() {\r\n        String name = &quot;&quot;;\r\n        String mode = &quot;&quot;;\r\n        System.out.println(&quot;Do you want to get the file by/id (1 - name, 2 - id): &quot;);\r\n        String choice = scan.nextLine();\r\n        switch (choice) {\r\n            case &quot;1&quot;:\r\n                System.out.print(&quot;Enter filename: &quot;);\r\n                name = scan.nextLine();\r\n                mode = &quot;n&quot;;\r\n                break;\r\n            case &quot;2&quot;:\r\n                System.out.print(&quot;Enter id: &quot;);\r\n                name = scan.nextLine();\r\n                mode = &quot;i&quot;;\r\n                break;\r\n        }\r\n        return &quot;GET&quot; + &quot;;&quot; + mode + &quot;;&quot; + name;\r\n    }\r\n\r\n    public static String deleteRequest() {\r\n        String name = &quot;&quot;;\r\n        String mode = &quot;&quot;;\r\n        System.out.println(&quot;Do you want to delete the file by name/id (1 - name, 2 - id): &quot;);\r\n        String choice = scan.nextLine();\r\n        switch (choice) {\r\n            case &quot;1&quot;:\r\n                System.out.print(&quot;Enter filename: &quot;);\r\n                name = scan.nextLine();\r\n                mode = &quot;n&quot;;\r\n                break;\r\n            case &quot;2&quot;:\r\n                System.out.print(&quot;Enter id: &quot;);\r\n                name = scan.nextLine();\r\n                mode = &quot;i&quot;;\r\n                break;\r\n        }\r\n        return &quot;DELETE&quot; + &quot;;&quot; + mode + &quot;;&quot; + name;\r\n    }\r\n\r\n\r\n    public static Boolean processResponse(String response, String operation) {\r\n        switch (operation) {\r\n            case &quot;2&quot;:\r\n                if (response.startsWith(&quot;200&quot;)) {\r\n                    System.out.println(&quot;Response says that file is saved! ID = &quot; + response.substring(4));\r\n                    return true;\r\n                }\r\n                else {\r\n                    System.out.println(&quot;The response says that creating the file was forbidden!&quot;);\r\n                }\r\n                break;\r\n            case &quot;1&quot;:\r\n                if (response.equals(&quot;200&quot;))  {\r\n                    System.out.print(&quot;The file was downloaded! Specify a name for it: &quot;);\r\n                    return true;\r\n                }\r\n                else {\r\n                    System.out.println(&quot;The response says that this file is not found!&quot;);\r\n                }\r\n                break;\r\n            case &quot;3&quot;:\r\n                if (response.equals(&quot;200&quot;)) {\r\n                    System.out.println(&quot;The response says that the file was successfully deleted!&quot;);\r\n                    return true;\r\n                }\r\n                else {\r\n                    System.out.println(&quot;The response says that this file is not found!&quot;);\r\n                }\r\n                break;\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nP.s sorry if I wrote my problem poorly, or it is too easy for your great minds. This is my first question on sof, i&#39;m still learning. ","title":"Writed java file server. Somehow client can&#39;t do more than 1 operation","body":"<p>Idk am i right or not, but i think the problem is that i have to clear data array every iteration, but it doesnt work. At some point i've thought it might be other problem, but i dont know.\nat every second operation there is\nException in thread &quot;main&quot; java.net.SocketException: A program on your host machine terminated the established connection</p>\n<p>I tried to fix it with Arrays.fill, data = null etc. Tried to do a method that generates byte array and reads the data, unsuccesfully.</p>\n<p>here's Server</p>\n<pre><code>package FileServer;\n\nimport java.io.*;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.net.SocketException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.HashMap;\n\npublic class Server {\n\n    static String path = &quot;D:\\\\JavaFiles\\\\data\\\\&quot;;\n    private static boolean isRunning = true;\n    private static final int PORT = 34522;\n    public static HashMap&lt;String, String&gt; filenames = new HashMap&lt;String, String&gt;();\n\n\n\n    public static void main(String[] args) throws IOException {\n\n        createDirectory(path);\n\n        try (ServerSocket server = new ServerSocket(PORT)) {\n            System.out.println(&quot;Server started&quot;);\n\n            while (isRunning) {\n                String response = &quot;&quot;;\n                String id = &quot;&quot;;\n                try (\n                        Socket socket = server.accept();\n                        DataInputStream input = new DataInputStream(socket.getInputStream());\n                        DataOutputStream output = new DataOutputStream(socket.getOutputStream())\n                ) {\n                    String message = input.readUTF();\n                    if (message.equals(&quot;exit&quot;)) {\n                        input.close();\n                        output.close();\n                        socket.close();\n                        isRunning = false;\n                    } else{\n                        switch ((message.split(&quot;;&quot;)[0])){\n\n                            case &quot;PUT&quot;:\n                                System.out.println(message);\n                                if (message.split(&quot;;&quot;).length &gt; 1) {\n                                    path = path + message.split(&quot;;&quot;)[1];\n                                }\n                                File f = new File(path);\n                                if(f.exists() &amp;&amp; !f.isDirectory()) {\n                                    response = &quot;403&quot;;\n                                } else {\n                                    int length = input.readInt();\n                                    byte[] data = new byte[length];\n                                    input.readFully(data, 0, data.length);\n                                    System.out.println(path);\n                                    String hash = generateId(path);\n                                    filenames.put(hash, path);\n                                    try (FileOutputStream fos = new FileOutputStream(path)) {\n                                        fos.write(data);\n                                        System.out.println(path + &quot;****&quot;);\n                                    } catch (FileNotFoundException e) {\n                                        e.printStackTrace();\n                                    } catch (IOException e) {\n                                        e.printStackTrace();\n                                    }\n                                    id = hash;\n                                    response = &quot;200&quot; + &quot; &quot; + id;\n                                }\n                                output.writeUTF(response);\n                                path = path.replace(message.split(&quot;;&quot;)[1],&quot;&quot;);\n                                break;\n\n\n                            case &quot;GET&quot;:\n                                if (message.split(&quot;;&quot;)[1].equals(&quot;n&quot;)) {\n                                    path = path + message.split(&quot;;&quot;)[2];\n                                    f = new File(path);\n                                    if (f.exists() &amp;&amp; !f.isDirectory()) {\n                                        response = &quot;200&quot;;\n                                        Path path2 = Paths.get(path);\n                                        byte[] data = new byte[0];\n                                        if (Files.exists(path2) &amp;&amp; !Files.isDirectory(path2)) {\n                                            try {\n                                                data = Files.readAllBytes(path2);\n                                            } catch (IOException e) {\n                                                e.printStackTrace();\n                                            }\n                                        }\n                                        output.writeUTF(response);\n                                        output.writeInt(data.length);\n                                        output.write(data);\n                                    } else {\n                                        response = &quot;403&quot;;\n                                        output.writeUTF(response);\n                                    }\n                                } else {\n                                    id = message.split(&quot;;&quot;)[2];\n                                    if (filenames.containsKey(id)) path = filenames.get(id);\n                                    f = new File(path);\n                                    if (f.exists() &amp;&amp; !f.isDirectory()) {\n                                        response = &quot;200&quot;;\n                                        Path path2 = Paths.get(path);\n                                        byte[] data = new byte[0];\n                                        if (Files.exists(path2) &amp;&amp; !Files.isDirectory(path2)) {\n                                            try {\n                                                data = Files.readAllBytes(path2);\n                                            } catch (IOException e) {\n                                                e.printStackTrace();\n                                            }\n                                        }\n                                        output.writeUTF(response);\n                                        output.writeInt(data.length);\n                                        output.write(data);\n                                    } else {\n                                        response = &quot;403&quot;;\n                                        output.writeUTF(response);\n                                    }\n                                }\n                                path = path.replace(message.split(&quot;;&quot;)[2],&quot;&quot;);\n                                break;\n\n\n                            case &quot;DELETE&quot;:\n                                if (message.split(&quot;;&quot;)[1].equals(&quot;n&quot;)){\n                                    path = path + message.split(&quot;;&quot;)[2];\n                                } else {\n                                    id = message.split(&quot;;&quot;)[2];\n                                    if (filenames.containsKey(id)) path = filenames.get(id);\n                                }\n                                f = new File(path);\n                                if (f.exists() &amp;&amp; !f.isDirectory()) {\n                                    response = &quot;200&quot;;\n                                    delete(path);\n                                    filenames.remove(path);\n                                } else {\n                                    response = &quot;403&quot;;\n                                }\n                                output.writeUTF(response);\n                                path = path.replace(message.split(&quot;;&quot;)[2],&quot;&quot;);\n                                break;\n                        }\n                        output.flush();\n                    }\n\n\n\n                }\n            }\n        }\n\n    }\n    public static void createDirectory(String path) {\n        File fileDirectory = new File(path);\n        if (!fileDirectory.exists()) {\n            fileDirectory.mkdirs();\n        }\n    }\n\n    public static String generateId(String filename) {\n        return String.valueOf(Math.abs(filename.hashCode()));\n    }\n\n    public static void delete(String filepath) {\n        try {\n            File file = new File(filepath);\n            file.delete();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n\n}\n\n</code></pre>\n<p>Here's Client</p>\n<pre><code>package FileServer;\n\nimport java.io.*;\nimport java.net.Socket;\nimport java.net.SocketException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Client {\n\n    private static boolean isRunning = true;\n    public static Scanner scan = new Scanner(System.in);\n    public static void main(String[] args) throws IOException, SocketException {\n        String address = &quot;127.0.0.1&quot;;\n        int port = 34522;\n        Socket socket = new Socket(address,port);\n        DataInputStream input = new DataInputStream(socket.getInputStream());\n        DataOutputStream output = new DataOutputStream(socket.getOutputStream());\n        String req = &quot;&quot;;\n        String response = &quot;&quot;;\n        byte[] data;\n        String filename = &quot;&quot;;\n\n        while (isRunning) {\n            System.out.println(&quot;Enter action (1 - get a file, 2 - save a file, 3 - delete a file, exit): &quot;);\n            String action = scan.nextLine();\n            switch (action) {\n                case &quot;1&quot;:\n                    req = getRequest();\n                    output.writeUTF(req);\n                    System.out.println(&quot;The request was sent.&quot;);\n                    response = input.readUTF();\n                    if (processResponse(response, action)) {\n                        int length = input.readInt();\n                        data = new byte[length];\n                        input.readFully(data, 0, data.length);\n                        filename = &quot;D:\\\\JavaFiles\\\\data\\\\&quot; + scan.nextLine();\n                        try (FileOutputStream fos = new FileOutputStream(filename)) {\n                            fos.write(data);\n                            System.out.println(filename + &quot;****&quot;);\n                        } catch (FileNotFoundException e) {\n                            e.printStackTrace();\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n                        System.out.print(&quot;File saved on the hard drive!&quot;);\n                    }\n                    break;\n\n                case &quot;2&quot;:\n                    System.out.print(&quot;Enter filename: &quot;);\n                    String name = scan.nextLine();\n                    Path path = Paths.get(&quot;D:\\\\JavaFiles\\\\data\\\\&quot; + name);\n                    data = Files.readAllBytes(path);\n                    System.out.print(&quot;Enter name of the file to be saved on server: &quot;);\n                    String outName = scan.nextLine();\n                    output.writeUTF(&quot;PUT&quot; + &quot;;&quot; + outName);\n                    output.writeInt(data.length); // write length of the message\n                    output.write(data);\n                    response = input.readUTF();\n                    processResponse(response, action);\n                    String pathUpdate = path.getParent().toString();\n                    path = Path.of(pathUpdate);\n                    break;\n\n                case &quot;3&quot;:\n                    req = deleteRequest();\n                    output.writeUTF(req);\n                    System.out.println(&quot;The request was sent.&quot;);\n                    response = input.readUTF();\n                    processResponse(response, action);\n                    break;\n                case &quot;exit&quot;:\n                    output.writeUTF(&quot;exit&quot;);\n                    output.flush();\n                    output.close();\n                    input.close();\n                    socket.close();\n                    System.exit(0);\n                }\n            }\n        }\n\n\n\n\n\n    public static String getRequest() {\n        String name = &quot;&quot;;\n        String mode = &quot;&quot;;\n        System.out.println(&quot;Do you want to get the file by/id (1 - name, 2 - id): &quot;);\n        String choice = scan.nextLine();\n        switch (choice) {\n            case &quot;1&quot;:\n                System.out.print(&quot;Enter filename: &quot;);\n                name = scan.nextLine();\n                mode = &quot;n&quot;;\n                break;\n            case &quot;2&quot;:\n                System.out.print(&quot;Enter id: &quot;);\n                name = scan.nextLine();\n                mode = &quot;i&quot;;\n                break;\n        }\n        return &quot;GET&quot; + &quot;;&quot; + mode + &quot;;&quot; + name;\n    }\n\n    public static String deleteRequest() {\n        String name = &quot;&quot;;\n        String mode = &quot;&quot;;\n        System.out.println(&quot;Do you want to delete the file by name/id (1 - name, 2 - id): &quot;);\n        String choice = scan.nextLine();\n        switch (choice) {\n            case &quot;1&quot;:\n                System.out.print(&quot;Enter filename: &quot;);\n                name = scan.nextLine();\n                mode = &quot;n&quot;;\n                break;\n            case &quot;2&quot;:\n                System.out.print(&quot;Enter id: &quot;);\n                name = scan.nextLine();\n                mode = &quot;i&quot;;\n                break;\n        }\n        return &quot;DELETE&quot; + &quot;;&quot; + mode + &quot;;&quot; + name;\n    }\n\n\n    public static Boolean processResponse(String response, String operation) {\n        switch (operation) {\n            case &quot;2&quot;:\n                if (response.startsWith(&quot;200&quot;)) {\n                    System.out.println(&quot;Response says that file is saved! ID = &quot; + response.substring(4));\n                    return true;\n                }\n                else {\n                    System.out.println(&quot;The response says that creating the file was forbidden!&quot;);\n                }\n                break;\n            case &quot;1&quot;:\n                if (response.equals(&quot;200&quot;))  {\n                    System.out.print(&quot;The file was downloaded! Specify a name for it: &quot;);\n                    return true;\n                }\n                else {\n                    System.out.println(&quot;The response says that this file is not found!&quot;);\n                }\n                break;\n            case &quot;3&quot;:\n                if (response.equals(&quot;200&quot;)) {\n                    System.out.println(&quot;The response says that the file was successfully deleted!&quot;);\n                    return true;\n                }\n                else {\n                    System.out.println(&quot;The response says that this file is not found!&quot;);\n                }\n                break;\n        }\n        return false;\n    }\n\n}\n</code></pre>\n<p>P.s sorry if I wrote my problem poorly, or it is too easy for your great minds. This is my first question on sof, i'm still learning.</p>\n"},{"tags":["java","eclipse","jvm","minecraft"],"answers":[{"tags":[],"owner":{"account_id":26755272,"reputation":113,"user_id":20353978,"display_name":"Meme410"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679169012,"creation_date":1679169012,"answer_id":75778299,"question_id":75778254,"body_markdown":"It works here&#39;s how : \r\n\r\nIf you get an error saying the java virtual machine couldn&#39;t start:\r\n\r\nGo to &quot;Debug&quot;\r\nDebug configurations\r\nArguments\r\nand remove the    -Xincgc\r\nand debug your client\r\n\r\n","title":"Error Could Not Create the JVM A fatal exception has occured while debugging","body":"<p>It works here's how :</p>\n<p>If you get an error saying the java virtual machine couldn't start:</p>\n<p>Go to &quot;Debug&quot;\nDebug configurations\nArguments\nand remove the    -Xincgc\nand debug your client</p>\n"}],"owner":{"account_id":26755272,"reputation":113,"user_id":20353978,"display_name":"Meme410"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679169012,"creation_date":1679168488,"question_id":75778254,"body_markdown":"**Hi I used the mcp (Minecraft coder pack) for creating mods in Minecraft However once I set up the workplace and I want to debug the app or simply run it these errors occur :** \r\n\r\n\r\n[![error][1]][1]\r\n\r\n\r\nAfter that error another pop up show me : \r\n\r\na\r\n[![error2][2]][2]\r\n\r\nAnd here&#39;s what&#39;s in the console : \r\n\r\n \r\n\r\n    Unrecognized option: -Xincgc\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iuxPc.png\r\n  [2]: https://i.stack.imgur.com/m1QQI.png","title":"Error Could Not Create the JVM A fatal exception has occured while debugging","body":"<p><strong>Hi I used the mcp (Minecraft coder pack) for creating mods in Minecraft However once I set up the workplace and I want to debug the app or simply run it these errors occur :</strong></p>\n<p><a href=\"https://i.stack.imgur.com/iuxPc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iuxPc.png\" alt=\"error\" /></a></p>\n<p>After that error another pop up show me :</p>\n<p>a\n<a href=\"https://i.stack.imgur.com/m1QQI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m1QQI.png\" alt=\"error2\" /></a></p>\n<p>And here's what's in the console :</p>\n<pre><code>Unrecognized option: -Xincgc\n</code></pre>\n"},{"tags":["java","log4j"],"answers":[{"tags":[],"owner":{"account_id":28005899,"reputation":11,"user_id":21389319,"display_name":"Antonia Kampa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679168958,"creation_date":1678712262,"answer_id":75722163,"question_id":73132525,"body_markdown":"Add `requires org.apache.logging.log4j;` to your `module-info.java` file like so:\r\n\r\n    module LoggerTest {\r\n    \trequires org.apache.logging.log4j;\r\n    }","title":"In eclipse IDE, I&#39;m unable to access org.apache.logging.log4j package. I have even imported both &quot;log4j-core-2.18.0.jar&quot; and &quot;log4j-api-2.18.0.jar&quot;","body":"<p>Add <code>requires org.apache.logging.log4j;</code> to your <code>module-info.java</code> file like so:</p>\n<pre><code>module LoggerTest {\n    requires org.apache.logging.log4j;\n}\n</code></pre>\n"}],"owner":{"account_id":25896063,"reputation":1,"user_id":19622602,"display_name":"Vishal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679168958,"creation_date":1658898922,"question_id":73132525,"body_markdown":"```\r\npackage Alpha;\r\nimport org.apache.logging.log4j.*;\r\n\r\n\r\npublic class Demo {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n}\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/K32MS.png","title":"In eclipse IDE, I&#39;m unable to access org.apache.logging.log4j package. I have even imported both &quot;log4j-core-2.18.0.jar&quot; and &quot;log4j-api-2.18.0.jar&quot;","body":"<pre><code>package Alpha;\nimport org.apache.logging.log4j.*;\n\n\npublic class Demo {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/K32MS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K32MS.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","testing","junit"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1678571686,"post_id":75709632,"comment_id":133560605,"body_markdown":"+1, admit: don&#39;t know/never asked! my best contribution for now: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-test/src/main/java/org/springframework/boot/test/mock/mockito/MockitoPostProcessor.java (+ &quot;spring&quot; + &quot;spring test&quot; knowledge)","body":"+1, admit: don&#39;t know/never asked! my best contribution for now: <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-test/src/main/java/org/springframework/boot/test/mock/mockito/MockitoPostProcessor.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/main/&hellip;</a> (+ &quot;spring&quot; + &quot;spring test&quot; knowledge)"}],"answers":[{"tags":[],"owner":{"account_id":27994772,"reputation":111,"user_id":21380272,"display_name":"Dario Arena"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679168940,"creation_date":1678572603,"answer_id":75709853,"question_id":75709632,"body_markdown":"To keep things simple it is all done by the spring test integration library that you include in your project. When you launch your test annotated with a Spring annotation (`@SpringBootTest` or `@DataJpaTest` for example) they instruct junit to extends his engine to launch a test &quot;flavour&quot; of the spring boot context. \r\n\r\nThen this context takes care of creating and autowiring &quot;real&quot; dependencies (like when you use the `@Autowired` annotation) or creating mocks and then autowire them instead of real dependencies.","title":"Under the hood of an integration tests with spring, application context manipulation","body":"<p>To keep things simple it is all done by the spring test integration library that you include in your project. When you launch your test annotated with a Spring annotation (<code>@SpringBootTest</code> or <code>@DataJpaTest</code> for example) they instruct junit to extends his engine to launch a test &quot;flavour&quot; of the spring boot context.</p>\n<p>Then this context takes care of creating and autowiring &quot;real&quot; dependencies (like when you use the <code>@Autowired</code> annotation) or creating mocks and then autowire them instead of real dependencies.</p>\n"},{"comments":[{"owner":{"account_id":962360,"reputation":2794,"user_id":986437,"accept_rate":53,"display_name":"GionJh"},"score":0,"creation_date":1678573110,"post_id":75709873,"comment_id":133560779,"body_markdown":"Thanks Kathrin, would it be appropriate or at least in the right direction to say that , in a way, the test class is yet another bean inside the spring context ?","body":"Thanks Kathrin, would it be appropriate or at least in the right direction to say that , in a way, the test class is yet another bean inside the spring context ?"},{"owner":{"account_id":20614818,"reputation":216,"user_id":15133183,"display_name":"Kathrin Geilmann"},"score":0,"creation_date":1678573743,"post_id":75709873,"comment_id":133560845,"body_markdown":"No, I don&#39;t think so. But you can find out, just get the appliation context in your test and ask it for the beans it knows.","body":"No, I don&#39;t think so. But you can find out, just get the appliation context in your test and ask it for the beans it knows."}],"tags":[],"owner":{"account_id":20614818,"reputation":216,"user_id":15133183,"display_name":"Kathrin Geilmann"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678572852,"creation_date":1678572852,"answer_id":75709873,"question_id":75709632,"body_markdown":"Your Testframework runs the same process (i.e. in the same JVM) as your code under test, thus your tests and the testframework can interact without any restrictions (beside the standard jvm ones). \r\nAdditionally Spring provides extensions to e.g. JUnit, to provide easy access and manipulation to beans, context, configuration etc. ","title":"Under the hood of an integration tests with spring, application context manipulation","body":"<p>Your Testframework runs the same process (i.e. in the same JVM) as your code under test, thus your tests and the testframework can interact without any restrictions (beside the standard jvm ones).\nAdditionally Spring provides extensions to e.g. JUnit, to provide easy access and manipulation to beans, context, configuration etc.</p>\n"}],"owner":{"account_id":962360,"reputation":2794,"user_id":986437,"accept_rate":53,"display_name":"GionJh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1679168940,"creation_date":1678570016,"question_id":75709632,"body_markdown":"I know in the context of integration test on a spring application we can use, among others annotations:\r\n\r\n- `@MockBean`\r\nTo add mock objects to the Spring application context. The mock will replace any existing bean of the same type in the application context.\r\n\r\n\r\n- `@Autowired`\r\nCan be used to inject a bean from the context\r\n\r\nThis is all very handy and nice but I don&#39;t understand how can this happens / how this is implemented.\r\n\r\nIn my understanding we can test software that runs a **tomcat server** in its own process, when the server spins up **spring** will create and wire up all the beans we defined, the so called **application context**.\r\n\r\nHow can the **application context** be manipulated from another process, the **Junit** process we are running the tests from ?\r\n\r\nHow can we look up beans from there with `@Autowired` and vice versa create beans with `@MockBean` ?\r\n\r\nLooks like somehow the application context is somehow shared by two processes...\r\n\r\nI am sure I am missing some piece of knowledge here, any pointing to resources to help me understand what&#39;s going on would be greatly appreciated.","title":"Under the hood of an integration tests with spring, application context manipulation","body":"<p>I know in the context of integration test on a spring application we can use, among others annotations:</p>\n<ul>\n<li><p><code>@MockBean</code>\nTo add mock objects to the Spring application context. The mock will replace any existing bean of the same type in the application context.</p>\n</li>\n<li><p><code>@Autowired</code>\nCan be used to inject a bean from the context</p>\n</li>\n</ul>\n<p>This is all very handy and nice but I don't understand how can this happens / how this is implemented.</p>\n<p>In my understanding we can test software that runs a <strong>tomcat server</strong> in its own process, when the server spins up <strong>spring</strong> will create and wire up all the beans we defined, the so called <strong>application context</strong>.</p>\n<p>How can the <strong>application context</strong> be manipulated from another process, the <strong>Junit</strong> process we are running the tests from ?</p>\n<p>How can we look up beans from there with <code>@Autowired</code> and vice versa create beans with <code>@MockBean</code> ?</p>\n<p>Looks like somehow the application context is somehow shared by two processes...</p>\n<p>I am sure I am missing some piece of knowledge here, any pointing to resources to help me understand what's going on would be greatly appreciated.</p>\n"},{"tags":["java","rss","barcode","zxing","gs1-databar"],"answers":[{"tags":[],"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678569415,"creation_date":1360532268,"answer_id":14802865,"question_id":14802482,"body_markdown":"GS1 Databar Expanded is just the replacement name for what was the RSS Expanded symbology. These are read by the project, but not written, no.\r\n\r\n(*) The RSS family of barcode symbologies were renamed to avoid clashing with the more common use of RSS as an acronym for Really Simple Syndication.\r\n\r\n","title":"Generate GS1 databar expand Barcode in Java?","body":"<p>GS1 Databar Expanded is just the replacement name for what was the RSS Expanded symbology. These are read by the project, but not written, no.</p>\n<p>(*) The RSS family of barcode symbologies were renamed to avoid clashing with the more common use of RSS as an acronym for Really Simple Syndication.</p>\n"}],"owner":{"account_id":334749,"reputation":945,"user_id":661405,"display_name":"fecub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1179,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":14802865,"answer_count":1,"score":2,"last_activity_date":1679168886,"creation_date":1360529739,"question_id":14802482,"body_markdown":"I wan&#39;t to generate a Barcode which is type of GS1 databar expanded. I&#39;m searched in google and didn&#39;t found realy working results. I discover that ZXing gives the possibility to generate different barcodes. I wrote an small code and i can generate barcode for ean128.\r\n\r\n\tpackage de..barcodee128;\r\n\timport java.io.File;\r\n\timport java.io.FileOutputStream;\r\n\timport com.google.zxing.BarcodeFormat;\r\n\timport com.google.zxing.WriterException;\r\n\timport com.google.zxing.client.j2se.MatrixToImageWriter;\r\n\timport com.google.zxing.common.BitMatrix;\r\n\timport com.google.zxing.oned.Code128Writer;\r\n\timport com.google.zxing.oned.Code39Writer;\r\n\timport com.google.zxing.oned.OneDimensionalCodeWriter;\r\n\timport com.google.zxing.oned.rss.expanded.decoders.AbstractExpandedDecoder;\r\n\t\r\n\tpublic class barcode128 {\r\n\t\tpublic static void main(String[] args) {\r\n\t       \r\n\t           int width = 440; \r\n\t           int height = 48;\r\n\t            \r\n\t              \r\n\t           BitMatrix bitMatrix;\r\n\t        try {\r\n\t            bitMatrix = new Code128Writer().encode(&quot;10400550006232515201231&quot;,BarcodeFormat.RSS_EXPANDED,width,height,null);\r\n\t        \tMatrixToImageWriter.writeToStream(bitMatrix, &quot;png&quot;, new FileOutputStream(new File(&quot;C:\\\\Users\\\\fecub\\\\Desktop\\\\zxing_barcode.png&quot;)));\r\n\t        } catch (WriterException e) {\r\n\t            // TODO Auto-generated catch block\r\n\t            e.printStackTrace();\r\n\t        } catch (Exception e) {\r\n\t            // TODO Auto-generated catch block\r\n\t            e.printStackTrace();\r\n\t        } \r\n\t\r\n\t    }\r\n\t\r\n\t}\r\n\r\nBut my question is how to modify this code that gives me to possibility to create GS1 databar expanded barcodes? any idea??","title":"Generate GS1 databar expand Barcode in Java?","body":"<p>I wan't to generate a Barcode which is type of GS1 databar expanded. I'm searched in google and didn't found realy working results. I discover that ZXing gives the possibility to generate different barcodes. I wrote an small code and i can generate barcode for ean128.</p>\n\n<pre><code>package de..barcodee128;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport com.google.zxing.BarcodeFormat;\nimport com.google.zxing.WriterException;\nimport com.google.zxing.client.j2se.MatrixToImageWriter;\nimport com.google.zxing.common.BitMatrix;\nimport com.google.zxing.oned.Code128Writer;\nimport com.google.zxing.oned.Code39Writer;\nimport com.google.zxing.oned.OneDimensionalCodeWriter;\nimport com.google.zxing.oned.rss.expanded.decoders.AbstractExpandedDecoder;\n\npublic class barcode128 {\n    public static void main(String[] args) {\n\n           int width = 440; \n           int height = 48;\n\n\n           BitMatrix bitMatrix;\n        try {\n            bitMatrix = new Code128Writer().encode(\"10400550006232515201231\",BarcodeFormat.RSS_EXPANDED,width,height,null);\n            MatrixToImageWriter.writeToStream(bitMatrix, \"png\", new FileOutputStream(new File(\"C:\\\\Users\\\\fecub\\\\Desktop\\\\zxing_barcode.png\")));\n        } catch (WriterException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } \n\n    }\n\n}\n</code></pre>\n\n<p>But my question is how to modify this code that gives me to possibility to create GS1 databar expanded barcodes? any idea??</p>\n"},{"tags":["java","spring","junit","spring-boot","automated-tests"],"answers":[{"comments":[{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":3,"creation_date":1490027832,"post_id":37211355,"comment_id":72917581,"body_markdown":"Is there a way to remove these properties after the tests? This does somehow pollute the JVM environment.","body":"Is there a way to remove these properties after the tests? This does somehow pollute the JVM environment."},{"owner":{"account_id":4157900,"reputation":301,"user_id":3408654,"accept_rate":100,"display_name":"user3408654"},"score":0,"creation_date":1490539747,"post_id":37211355,"comment_id":73146096,"body_markdown":"You could reset the property using System.clearProperty(key) or revert it to its previous value in the @AfterClass","body":"You could reset the property using System.clearProperty(key) or revert it to its previous value in the @AfterClass"},{"owner":{"account_id":2489808,"reputation":3274,"user_id":2167531,"accept_rate":75,"display_name":"Shadow Man"},"score":1,"creation_date":1553123448,"post_id":37211355,"comment_id":97274104,"body_markdown":"Sadly, this hack does not always work. There are environment and/or race conditions that will cause this to fail if done in more than one test class. I had this working fine locally, but on my CircleCI job, only the first executed test class would work, the next test class would still see the (no-longer-valid) value from the first test class, despite having set the property to something new in the `@BeforeClass` method. But as long as you&#39;re only doing it in a single class, this hack seems to work fine.","body":"Sadly, this hack does not always work. There are environment and/or race conditions that will cause this to fail if done in more than one test class. I had this working fine locally, but on my CircleCI job, only the first executed test class would work, the next test class would still see the (no-longer-valid) value from the first test class, despite having set the property to something new in the <code>@BeforeClass</code> method. But as long as you&#39;re only doing it in a single class, this hack seems to work fine."}],"tags":[],"owner":{"account_id":4157900,"reputation":301,"user_id":3408654,"accept_rate":100,"display_name":"user3408654"},"comment_count":3,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1463146216,"creation_date":1463146216,"answer_id":37211355,"question_id":31058489,"body_markdown":"You could override the value of the port property in the `@BeforeClass` like this:\r\n\r\n    @BeforeClass\r\n    public static void beforeClass() {\r\n        System.setProperty(&quot;zookeeper.port&quot;, getRandomPort());\r\n    }","title":"Override default Spring-Boot application.properties settings in Junit Test with dynamic value","body":"<p>You could override the value of the port property in the <code>@BeforeClass</code> like this:</p>\n\n<pre><code>@BeforeClass\npublic static void beforeClass() {\n    System.setProperty(\"zookeeper.port\", getRandomPort());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2489808,"reputation":3274,"user_id":2167531,"accept_rate":75,"display_name":"Shadow Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553128764,"creation_date":1553128764,"answer_id":55272128,"question_id":31058489,"body_markdown":"The &quot;clean&quot; solution is to use an `ApplicationContextInitializer`.\r\n\r\nSee [this answer](https://stackoverflow.com/a/38013353/2167531) to a similar question.\r\n\r\nSee also [this github issue](https://github.com/spring-projects/spring-boot/issues/7759) asking a similar question.\r\n\r\nTo summarize the above mentioned posts using a real-world example that&#39;s been sanitized to protect copyright holders (I have a REST endpoint which uses an `@Autowired` `DataSource` which needs to use the dynamic properties to know which port the in-memory MySQL database is using):\r\n\r\n1. Your test must declare the initializer (see the `@ContextConfiguration` line below).\r\n\r\n```\r\n// standard spring-boot test stuff\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@ActiveProfiles(&quot;local&quot;)\r\n@ContextConfiguration(\r\n        classes = Application.class,\r\n        // declare the initializer to use\r\n        initializers = SpringTestDatabaseInitializer.class)\r\n// use random management port as well so we don&#39;t conflict with other running tests\r\n@TestPropertySource(properties = {&quot;management.port=0&quot;})\r\npublic class SomeSprintTest {\r\n    @LocalServerPort\r\n    private int randomLocalPort;\r\n\r\n    @Value(&quot;${local.management.port}&quot;)\r\n    private int randomManagementPort;\r\n\r\n    @Test\r\n    public void testThatDoesSomethingUseful() {\r\n        // now ping your service that talks to the dynamic resource\r\n    }\r\n}\r\n```\r\n\r\n2. Your initializer needs to add the dynamic properties to your environment. Don&#39;t forget to add a shutdown hook for any cleanup that needs to run. Following is an example that sets up an in-memory database using a custom `DatabaseObject` class.\r\n\r\n```\r\npublic class SpringTestDatabaseInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n\r\n    private static final int INITIAL_PORT = 0; // bind to an ephemeral port\r\n    private static final String DB_USERNAME = &quot;username&quot;;\r\n    private static final String DB_PASSWORD = &quot;password-to-use&quot;;\r\n    private static final String DB_SCHEMA_NAME = &quot;default-schema&quot;;\r\n\r\n    @Override\r\n    public void initialize(ConfigurableApplicationContext applicationContext) {\r\n        DatabaseObject databaseObject = new InMemoryDatabaseObject(INITIAL_PORT, DB_USERNAME, DB_PASSWORD, DB_SCHEMA_NAME);\r\n        registerShutdownHook(databaseObject);\r\n        int databasePort = startDatabase(databaseObject);\r\n        addDatabasePropertiesToEnvironment(applicationContext, databasePort);\r\n    }\r\n\r\n    private static void addDatabasePropertiesToEnvironment(ConfigurableApplicationContext applicationContext, int databasePort) {\r\n        String url = String.format(&quot;jdbc:mysql://localhost:%s/%s&quot;, databasePort, DB_SCHEMA_NAME);\r\n        System.out.println(&quot;Adding db props to environment for url: &quot; + url);\r\n        TestPropertySourceUtils.addInlinedPropertiesToEnvironment(\r\n                applicationContext,\r\n                &quot;db.port=&quot; + databasePort,\r\n                &quot;db.schema=&quot; + DB_SCHEMA_NAME,\r\n                &quot;db.url=&quot; + url,\r\n                &quot;db.username=&quot; + DB_USERNAME,\r\n                &quot;db.password=&quot; + DB_PASSWORD);\r\n    }\r\n\r\n    private static int startDatabase(DatabaseObject database) {\r\n        try {\r\n            database.start();\r\n            return database.getBoundPort();\r\n        } catch (Exception e) {\r\n            throw new IllegalStateException(&quot;Failed to start database&quot;, e);\r\n        }\r\n    }\r\n\r\n    private static void registerShutdownHook(DatabaseObject databaseObject) {\r\n        Runnable shutdownTask = () -&gt; {\r\n            try {\r\n                int boundPort = databaseObject.getBoundPort();\r\n                System.out.println(&quot;Shutting down database at port: &quot; + boundPort);\r\n                databaseObject.stop();\r\n            } catch (Exception e) {\r\n                // nothing to do here\r\n            }\r\n        };\r\n\r\n        Thread shutdownThread = new Thread(shutdownTask, &quot;Database Shutdown Thread&quot;);\r\n        Runtime.getRuntime().addShutdownHook(shutdownThread);\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen I look at the logs, it shows that for both of my tests that use this initializer class, they use the same object (the `initialize` method only gets called once, as does the shutdown hook). So it starts up a database, and leaves it running until both tests finish, then shuts the database down.","title":"Override default Spring-Boot application.properties settings in Junit Test with dynamic value","body":"<p>The \"clean\" solution is to use an <code>ApplicationContextInitializer</code>.</p>\n\n<p>See <a href=\"https://stackoverflow.com/a/38013353/2167531\">this answer</a> to a similar question.</p>\n\n<p>See also <a href=\"https://github.com/spring-projects/spring-boot/issues/7759\" rel=\"nofollow noreferrer\">this github issue</a> asking a similar question.</p>\n\n<p>To summarize the above mentioned posts using a real-world example that's been sanitized to protect copyright holders (I have a REST endpoint which uses an <code>@Autowired</code> <code>DataSource</code> which needs to use the dynamic properties to know which port the in-memory MySQL database is using):</p>\n\n<ol>\n<li>Your test must declare the initializer (see the <code>@ContextConfiguration</code> line below).</li>\n</ol>\n\n<pre><code>// standard spring-boot test stuff\n@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ActiveProfiles(\"local\")\n@ContextConfiguration(\n        classes = Application.class,\n        // declare the initializer to use\n        initializers = SpringTestDatabaseInitializer.class)\n// use random management port as well so we don't conflict with other running tests\n@TestPropertySource(properties = {\"management.port=0\"})\npublic class SomeSprintTest {\n    @LocalServerPort\n    private int randomLocalPort;\n\n    @Value(\"${local.management.port}\")\n    private int randomManagementPort;\n\n    @Test\n    public void testThatDoesSomethingUseful() {\n        // now ping your service that talks to the dynamic resource\n    }\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Your initializer needs to add the dynamic properties to your environment. Don't forget to add a shutdown hook for any cleanup that needs to run. Following is an example that sets up an in-memory database using a custom <code>DatabaseObject</code> class.</li>\n</ol>\n\n<pre><code>public class SpringTestDatabaseInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n\n    private static final int INITIAL_PORT = 0; // bind to an ephemeral port\n    private static final String DB_USERNAME = \"username\";\n    private static final String DB_PASSWORD = \"password-to-use\";\n    private static final String DB_SCHEMA_NAME = \"default-schema\";\n\n    @Override\n    public void initialize(ConfigurableApplicationContext applicationContext) {\n        DatabaseObject databaseObject = new InMemoryDatabaseObject(INITIAL_PORT, DB_USERNAME, DB_PASSWORD, DB_SCHEMA_NAME);\n        registerShutdownHook(databaseObject);\n        int databasePort = startDatabase(databaseObject);\n        addDatabasePropertiesToEnvironment(applicationContext, databasePort);\n    }\n\n    private static void addDatabasePropertiesToEnvironment(ConfigurableApplicationContext applicationContext, int databasePort) {\n        String url = String.format(\"jdbc:mysql://localhost:%s/%s\", databasePort, DB_SCHEMA_NAME);\n        System.out.println(\"Adding db props to environment for url: \" + url);\n        TestPropertySourceUtils.addInlinedPropertiesToEnvironment(\n                applicationContext,\n                \"db.port=\" + databasePort,\n                \"db.schema=\" + DB_SCHEMA_NAME,\n                \"db.url=\" + url,\n                \"db.username=\" + DB_USERNAME,\n                \"db.password=\" + DB_PASSWORD);\n    }\n\n    private static int startDatabase(DatabaseObject database) {\n        try {\n            database.start();\n            return database.getBoundPort();\n        } catch (Exception e) {\n            throw new IllegalStateException(\"Failed to start database\", e);\n        }\n    }\n\n    private static void registerShutdownHook(DatabaseObject databaseObject) {\n        Runnable shutdownTask = () -&gt; {\n            try {\n                int boundPort = databaseObject.getBoundPort();\n                System.out.println(\"Shutting down database at port: \" + boundPort);\n                databaseObject.stop();\n            } catch (Exception e) {\n                // nothing to do here\n            }\n        };\n\n        Thread shutdownThread = new Thread(shutdownTask, \"Database Shutdown Thread\");\n        Runtime.getRuntime().addShutdownHook(shutdownThread);\n    }\n\n}\n</code></pre>\n\n<p>When I look at the logs, it shows that for both of my tests that use this initializer class, they use the same object (the <code>initialize</code> method only gets called once, as does the shutdown hook). So it starts up a database, and leaves it running until both tests finish, then shuts the database down.</p>\n"},{"tags":[],"owner":{"account_id":11821692,"reputation":2574,"user_id":8650621,"display_name":"Felipe Desiderati"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1587000073,"creation_date":1585616388,"answer_id":60941845,"question_id":31058489,"body_markdown":"Thanks to the changes made in Spring Framework 5.2.5, the use of @ContextConfiguration and the ApplicationContextInitializer can be replaced with a static @DynamicPropertySource method that serves the same purpose. \r\n\r\n    @SpringBootTest\r\n    @Testcontainers\r\n    class SomeSprintTest {\r\n\r\n        @Container\r\n        static LocalStackContainer localStack = \r\n            new LocalStackContainer().withServices(LocalStackContainer.Service.S3);\r\n\r\n        @DynamicPropertySource\r\n        static void initialize(DynamicPropertyRegistry registry) {\r\n            AwsClientBuilder.EndpointConfiguration endpointConfiguration = \r\n                localStack.getEndpointConfiguration(LocalStackContainer.Service.S3);\r\n\r\n            registry.add(&quot;cloud.aws.s3.default-endpoint&quot;, endpointConfiguration::getServiceEndpoint);\r\n        }\r\n    }","title":"Override default Spring-Boot application.properties settings in Junit Test with dynamic value","body":"<p>Thanks to the changes made in Spring Framework 5.2.5, the use of @ContextConfiguration and the ApplicationContextInitializer can be replaced with a static @DynamicPropertySource method that serves the same purpose. </p>\n\n<pre><code>@SpringBootTest\n@Testcontainers\nclass SomeSprintTest {\n\n    @Container\n    static LocalStackContainer localStack = \n        new LocalStackContainer().withServices(LocalStackContainer.Service.S3);\n\n    @DynamicPropertySource\n    static void initialize(DynamicPropertyRegistry registry) {\n        AwsClientBuilder.EndpointConfiguration endpointConfiguration = \n            localStack.getEndpointConfiguration(LocalStackContainer.Service.S3);\n\n        registry.add(\"cloud.aws.s3.default-endpoint\", endpointConfiguration::getServiceEndpoint);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"score":0,"creation_date":1644419762,"post_id":61321736,"comment_id":125602630,"body_markdown":"Does this annotation have anything to do with test containers? i.e Does the test class needs to have @TestContainers annotations? When I just add the above method with the annotation it doesn&#39;t have any effect.","body":"Does this annotation have anything to do with test containers? i.e Does the test class needs to have @TestContainers annotations? When I just add the above method with the annotation it doesn&#39;t have any effect."},{"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"score":0,"creation_date":1644488537,"post_id":61321736,"comment_id":125622348,"body_markdown":"maybe you should create another question related to your problem. This annotation can be used with testcontainers but testcontainers are not required.","body":"maybe you should create another question related to your problem. This annotation can be used with testcontainers but testcontainers are not required."},{"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"score":1,"creation_date":1644499567,"post_id":61321736,"comment_id":125626591,"body_markdown":"Ok, then I tried this and it doesn&#39;t work. I have the SpringBootTest annotation along with ActiveProfiles(&quot;integration&quot;) but still doesn&#39;t work. Any idea what could be going wrong?","body":"Ok, then I tried this and it doesn&#39;t work. I have the SpringBootTest annotation along with ActiveProfiles(&quot;integration&quot;) but still doesn&#39;t work. Any idea what could be going wrong?"},{"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"score":0,"creation_date":1644500323,"post_id":61321736,"comment_id":125626920,"body_markdown":"Let&#39;s move to another question, maybe post a link here?","body":"Let&#39;s move to another question, maybe post a link here?"},{"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"score":0,"creation_date":1644500879,"post_id":61321736,"comment_id":125627159,"body_markdown":"I have added the problem statement [here](https://stackoverflow.com/questions/71046147/spring-test-activeprofiles-is-not-reading-the-properties-from-the-test-propertie). I was trying to override the properties in a separate properties file through active profiles but this was one another solution that I was trying. Comment if see it working","body":"I have added the problem statement <a href=\"https://stackoverflow.com/questions/71046147/spring-test-activeprofiles-is-not-reading-the-properties-from-the-test-propertie\">here</a>. I was trying to override the properties in a separate properties file through active profiles but this was one another solution that I was trying. Comment if see it working"}],"tags":[],"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"comment_count":5,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1587383200,"creation_date":1587383200,"answer_id":61321736,"question_id":31058489,"body_markdown":"As of Spring Framework 5.2.5 and Spring Boot 2.2.6 you can use `Dynamic Properties` in tests:\r\n\r\n    @DynamicPropertySource\r\n    static void dynamicProperties(DynamicPropertyRegistry registry) {\r\n        registry.add(&quot;property.name&quot;, &quot;value&quot;);\r\n    }","title":"Override default Spring-Boot application.properties settings in Junit Test with dynamic value","body":"<p>As of Spring Framework 5.2.5 and Spring Boot 2.2.6 you can use <code>Dynamic Properties</code> in tests:</p>\n\n<pre><code>@DynamicPropertySource\nstatic void dynamicProperties(DynamicPropertyRegistry registry) {\n    registry.add(\"property.name\", \"value\");\n}\n</code></pre>\n"}],"owner":{"account_id":363106,"reputation":2483,"user_id":706650,"accept_rate":56,"display_name":"mabn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9343,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1679168809,"creation_date":1435258280,"question_id":31058489,"body_markdown":"I want to override properties defined in `application.properties` in tests, but `@TestPropertySource` only allows to provide predefined values.\r\n\r\nWhat I need is to start a server on a random port N, then pass this port to spring-boot application. The port has to be ephemeral to allow running multiple tests on the same host at the same time.\r\n\r\nI don&#39;t mean the embedded http server (jetty), but some different server that is started at the beginning of the test (e.g. zookeeper) and the application being tested has to connect to it.\r\n\r\nWhat&#39;s the best way to achieve this?\r\n\r\nHere&#39;s a similar question: \r\n\r\n* https://stackoverflow.com/questions/29669393/override-default-spring-boot-application-properties-settings-in-junit-test\r\n\r\nBut the answers do not mention a solution for ephemeral ports","title":"Override default Spring-Boot application.properties settings in Junit Test with dynamic value","body":"<p>I want to override properties defined in <code>application.properties</code> in tests, but <code>@TestPropertySource</code> only allows to provide predefined values.</p>\n<p>What I need is to start a server on a random port N, then pass this port to spring-boot application. The port has to be ephemeral to allow running multiple tests on the same host at the same time.</p>\n<p>I don't mean the embedded http server (jetty), but some different server that is started at the beginning of the test (e.g. zookeeper) and the application being tested has to connect to it.</p>\n<p>What's the best way to achieve this?</p>\n<p>Here's a similar question:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/29669393/override-default-spring-boot-application-properties-settings-in-junit-test\">Override default Spring-Boot application.properties settings in Junit Test</a></li>\n</ul>\n<p>But the answers do not mention a solution for ephemeral ports</p>\n"},{"tags":["java","hibernate","postgresql"],"comments":[{"owner":{"account_id":1640947,"reputation":28880,"user_id":1513384,"accept_rate":96,"display_name":"ntalbs"},"score":0,"creation_date":1363222261,"post_id":15399231,"comment_id":21770285,"body_markdown":"It seems that when you delete single row it uses other index. Can you check it?","body":"It seems that when you delete single row it uses other index. Can you check it?"},{"owner":{"account_id":30414,"reputation":7712,"user_id":82952,"accept_rate":77,"display_name":"nevets1219"},"score":0,"creation_date":1363281811,"post_id":15399231,"comment_id":21798392,"body_markdown":"I&#39;ve added information about single row by row deletes. The MAX(id) of the table is 3774904, so I just picked a number larger. I tried the same with an ID below 3774904 but wasn&#39;t in the table and got similar results (similar results for an ID in the table).","body":"I&#39;ve added information about single row by row deletes. The MAX(id) of the table is 3774904, so I just picked a number larger. I tried the same with an ID below 3774904 but wasn&#39;t in the table and got similar results (similar results for an ID in the table)."},{"owner":{"account_id":1883524,"reputation":1135,"user_id":1703195,"accept_rate":60,"display_name":"drone.ah"},"score":1,"creation_date":1363772598,"post_id":15399231,"comment_id":21981363,"body_markdown":"yes, 0.162 vs 0.452 *is* significant since 0.452 is almost 3 times longer than 0.162. It is particularly interesting that the explain suggests that they are doing the same thing a well. I would raise this with the postgresql team. The [pgsql-general](http://www.postgresql.org/community/lists/) is probably a good place","body":"yes, 0.162 vs 0.452 <i>is</i> significant since 0.452 is almost 3 times longer than 0.162. It is particularly interesting that the explain suggests that they are doing the same thing a well. I would raise this with the postgresql team. The <a href=\"http://www.postgresql.org/community/lists/\" rel=\"nofollow noreferrer\">pgsql-general</a> is probably a good place"}],"answers":[{"comments":[{"owner":{"account_id":30414,"reputation":7712,"user_id":82952,"accept_rate":77,"display_name":"nevets1219"},"score":0,"creation_date":1363798711,"post_id":15517990,"comment_id":21999293,"body_markdown":"I&#39;ll try to increase the array size and report back what happens! Are there general guidelines for picking batch sizes?","body":"I&#39;ll try to increase the array size and report back what happens! Are there general guidelines for picking batch sizes?"},{"owner":{"account_id":30414,"reputation":7712,"user_id":82952,"accept_rate":77,"display_name":"nevets1219"},"score":0,"creation_date":1363903509,"post_id":15517990,"comment_id":22050733,"body_markdown":"Seems Hibernate didn&#39;t like 50,000 (gave stack overflow error)","body":"Seems Hibernate didn&#39;t like 50,000 (gave stack overflow error)"},{"owner":{"account_id":30414,"reputation":7712,"user_id":82952,"accept_rate":77,"display_name":"nevets1219"},"score":0,"creation_date":1363908490,"post_id":15517990,"comment_id":22052617,"body_markdown":"Re-read what you wrote - I tried both `WHERE id = 1;` (we&#39;ll call this A) and `WHERE id IN (1);` (we&#39;ll call this B) and the latter is slower. If I&#39;m understanding you correctly when executing A it is the same as executing B but when executing B, a different plan (one that favors large list of IDs) could be used in execution (in other words B isn&#39;t equal to A). I&#39;ve executed both A and B and they generate the same plan, maybe Hibernate is doing something to it?","body":"Re-read what you wrote - I tried both <code>WHERE id = 1;</code> (we&#39;ll call this A) and <code>WHERE id IN (1);</code> (we&#39;ll call this B) and the latter is slower. If I&#39;m understanding you correctly when executing A it is the same as executing B but when executing B, a different plan (one that favors large list of IDs) could be used in execution (in other words B isn&#39;t equal to A). I&#39;ve executed both A and B and they generate the same plan, maybe Hibernate is doing something to it?"}],"tags":[],"owner":{"account_id":1750416,"reputation":25628,"user_id":1599619,"accept_rate":100,"display_name":"Chris Travers"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1363765742,"creation_date":1363765742,"answer_id":15517990,"question_id":15399231,"body_markdown":"Ok, the first thing you have to note is that SQL has to get converted into a plan in some way.  Your EXPLAIN results suggest that the logic here is fundamentally different for an equality compared to an IN(vals) construct.\r\n\r\n    WHERE id = 1;\r\n\r\nIs transformed to a simple equality filter. \r\n\r\n    WHERE id IN (1);\r\n\r\nIs transformed into an array match of:\r\n\r\n    WHERE id = ANY(ARRAY[1]);\r\n\r\nApparently the planner is not smart enough to notice that these are mathematically identical where an array has exactly one member.  So what it&#39;s doing is planning for an array of any size which is why you get the nested loop bitmap index scan.\r\n\r\nWhat&#39;s interesting here is not just that it is slower but that performance holds out better for the most part.  So with one member in the in() clause, it is 40 times slower, and with 10000 members, it is only 170 times slower, but that also means that the 10000 member version is also 50 times *faster* than 10000 separate index scans on id.\r\n\r\nSo what is happening here is that the planner is selecting a plan which performs better when there are a large number of id&#39;s checked but performs more poorly when there are only a few.","title":"Hibernate batch-delete vs single delete","body":"<p>Ok, the first thing you have to note is that SQL has to get converted into a plan in some way.  Your EXPLAIN results suggest that the logic here is fundamentally different for an equality compared to an IN(vals) construct.</p>\n\n<pre><code>WHERE id = 1;\n</code></pre>\n\n<p>Is transformed to a simple equality filter. </p>\n\n<pre><code>WHERE id IN (1);\n</code></pre>\n\n<p>Is transformed into an array match of:</p>\n\n<pre><code>WHERE id = ANY(ARRAY[1]);\n</code></pre>\n\n<p>Apparently the planner is not smart enough to notice that these are mathematically identical where an array has exactly one member.  So what it's doing is planning for an array of any size which is why you get the nested loop bitmap index scan.</p>\n\n<p>What's interesting here is not just that it is slower but that performance holds out better for the most part.  So with one member in the in() clause, it is 40 times slower, and with 10000 members, it is only 170 times slower, but that also means that the 10000 member version is also 50 times <em>faster</em> than 10000 separate index scans on id.</p>\n\n<p>So what is happening here is that the planner is selecting a plan which performs better when there are a large number of id's checked but performs more poorly when there are only a few.</p>\n"},{"tags":[],"owner":{"account_id":4475,"reputation":51667,"user_id":6742,"accept_rate":50,"display_name":"David Aldridge"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1363768320,"creation_date":1363768320,"answer_id":15518636,"question_id":15399231,"body_markdown":"If the problem here really boils down to &quot;how do I delete a lot of records as quickly as possible?&quot; then the DELETE ... IN() method is going to be superior to deletions for each individual row, so pursuing the reasons why IN(?) with a single member appears to be slower than =? is not going to help you.\r\n\r\nIt may be worth exploring the use of a temporary table to hold all of the id&#39;s that you want to delete, then running a single delete.\r\n\r\nIf it&#39;s not too costly, arranging that the id&#39;s in the list are in ascending order may be helpful for very large delete performance. Don&#39;t bother if you have to go sorting them, but if there&#39;s a way of ensuring that each batch of deletes addresses id&#39;s that are clustered in the same area of the index may be slightly beneficial.\r\n\r\nIn any case, it looks to me like the indexes are being used and the same plan generated in both cases, so I wonder if there&#39;s actually a query parsing and optimisation issue here, rather than an issue with the delete action itself. I don&#39;t know enough about the internals to be sure I&#39;m afraid.","title":"Hibernate batch-delete vs single delete","body":"<p>If the problem here really boils down to \"how do I delete a lot of records as quickly as possible?\" then the DELETE ... IN() method is going to be superior to deletions for each individual row, so pursuing the reasons why IN(?) with a single member appears to be slower than =? is not going to help you.</p>\n\n<p>It may be worth exploring the use of a temporary table to hold all of the id's that you want to delete, then running a single delete.</p>\n\n<p>If it's not too costly, arranging that the id's in the list are in ascending order may be helpful for very large delete performance. Don't bother if you have to go sorting them, but if there's a way of ensuring that each batch of deletes addresses id's that are clustered in the same area of the index may be slightly beneficial.</p>\n\n<p>In any case, it looks to me like the indexes are being used and the same plan generated in both cases, so I wonder if there's actually a query parsing and optimisation issue here, rather than an issue with the delete action itself. I don't know enough about the internals to be sure I'm afraid.</p>\n"},{"tags":[],"owner":{"account_id":16046207,"reputation":1,"user_id":13757532,"display_name":"Vinode Singh Ujlain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679168732,"creation_date":1678695629,"answer_id":75719418,"question_id":15399231,"body_markdown":"Curious, I too was having a similar dilemma *i.e* use multiple delete with `;` as SQL seprator or run a single delete query with `IN ()` clause.\r\n \r\n***Experiment (Python code connects with Sql Server using pyTDS):***\r\n- Loop 20 times \r\n- Truncate table\r\n- 500 rows insert\r\n- Record Start time\r\n- Delete rows based primary key\r\n- Record Stop time. Time taken = stop time – start time\r\n\r\nTake an average of the time taken for all 20 loops. Carry out above delete experiment using both `;` and `IN` clause. The results are as appended below:\r\n\r\n    Loops 20 .. per loop rows 500\r\n    Method  ;; , TT 02.66 .. Average time taken 00.13 Sec\r\n    Method  in , TT 01.10 .. Average time taken 00.05 Sec\r\n\r\n**In all runs , I found delete using IN clause to be faster.**","title":"Hibernate batch-delete vs single delete","body":"<p>Curious, I too was having a similar dilemma <em>i.e</em> use multiple delete with <code>;</code> as SQL seprator or run a single delete query with <code>IN ()</code> clause.</p>\n<p><em><strong>Experiment (Python code connects with Sql Server using pyTDS):</strong></em></p>\n<ul>\n<li>Loop 20 times</li>\n<li>Truncate table</li>\n<li>500 rows insert</li>\n<li>Record Start time</li>\n<li>Delete rows based primary key</li>\n<li>Record Stop time. Time taken = stop time – start time</li>\n</ul>\n<p>Take an average of the time taken for all 20 loops. Carry out above delete experiment using both <code>;</code> and <code>IN</code> clause. The results are as appended below:</p>\n<pre><code>Loops 20 .. per loop rows 500\nMethod  ;; , TT 02.66 .. Average time taken 00.13 Sec\nMethod  in , TT 01.10 .. Average time taken 00.05 Sec\n</code></pre>\n<p><strong>In all runs , I found delete using IN clause to be faster.</strong></p>\n"}],"owner":{"account_id":30414,"reputation":7712,"user_id":82952,"accept_rate":77,"display_name":"nevets1219"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8492,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1679168732,"creation_date":1363221800,"question_id":15399231,"body_markdown":"EDIT: Based on some of my debugging and logging, I think the question boils down to why is `DELETE FROM table WHERE id = x` much faster than `DELETE FROM table WHERE id IN (x)` where `x` is just a single ID.\r\n\r\nI recently tested batch-delete versus deleting each row one by one and noticed that batch-delete was much slower. The table had triggers for delete, update, and insert but I&#39;ve tested with and without the triggers and each time batch-delete was slower. **Can anyone shed some light on why this is the case or share tips on how I can debug this?** From what I understand, I can&#39;t really reduce the number of times the trigger activates but I had originally figured that lowering the number of &quot;delete&quot; query would help with the performance.\r\n\r\nI&#39;ve included some information below, please let me know if I&#39;ve left out anything relevant.\r\n\r\nDeletion are done in batches of 10,000 and the code look something like :\r\n\r\n    private void batchDeletion( Collection&lt;Long&gt; ids ) {\r\n      StringBuilder sb = new StringBuilder();\r\n      sb.append( &quot;DELETE FROM ObjImpl WHERE id IN (:ids)&quot; );\r\n    \r\n      Query sql = getSession().createQuery( sb.toString() );\r\n      sql.setParameterList( &quot;ids&quot;, ids );\r\n    \r\n      sql.executeUpdate();\r\n    }\r\nThe code to delete just a single row is basically:\r\n\r\n    SessionFactory.getCurrentSession().delete(obj);\r\n\r\nThe table has two indexes which is not used in any of the deletion. No cascade operation will occur.\r\n\r\nHere is a sample of the EXPLAIN ANALYZE of `DELETE FROM table where id IN ( 1, 2, 3 );`:\r\n\r\n    Delete on table  (cost=12.82..24.68 rows=3 width=6) (actual time=0.143..0.143 rows=0 loops=1)\r\n      -&gt;  Bitmap Heap Scan on table  (cost=12.82..24.68 rows=3 width=6) (actual time=0.138..0.138 rows=0 loops=1)\r\n            Recheck Cond: (id = ANY (&#39;{1,2,3}&#39;::bigint[]))\r\n            -&gt;  Bitmap Index Scan on pk_table  (cost=0.00..12.82 rows=3 width=0) (actual time=0.114..0.114 rows=0 loops=1)\r\n                  Index Cond: (id = ANY (&#39;{1,2,3}&#39;::bigint[]))\r\n    Total runtime: 3.926 ms\r\n\r\n\r\nI&#39;ve vacuumed and reindexed each time I reload my data for testing and my test data contains 386,660 rows.\r\n\r\nThe test is to delete all the rows and I&#39;m not using `TRUNCATE` because normally there&#39;s a selection criteria but for testing purposes, I&#39;ve made the criteria include all rows. With triggers enabled, deleting each row one by one took 193,616ms whereas batch-delete took 285,558ms. I then disabled the triggers and got 93,793ms for single row deletes and 181,537ms for batch-delete. The trigger goes and sums up values and updates another table - basically bookkeeping.\r\n\r\nI&#39;ve played around with lower batch sizes (100 and 1) and they all seem to perform worse.\r\n\r\nEDIT: Turned on Hibernate logging and for single row by row deletes, it&#39;s basically doing: `delete from table where id=?` and the EXPLAIN ANALYZE:\r\n\r\n    Delete on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.042..0.042 rows=0 loops=1)\r\n      -&gt;  Index Scan using pk_table on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.037..0.037 rows=0 loops=1)\r\n            Index Cond: (id = 3874904)\r\n    Total runtime: 0.130 ms\r\n\r\nEDIT: Was curious if the list actually contained 10,000 ID, if Postgres would do something different: nope.\r\n\r\n    Delete on table  (cost=6842.01..138509.15 rows=9872 width=6) (actual time=17.170..17.170 rows=0 loops=1)\r\n      -&gt;  Bitmap Heap Scan on table  (cost=6842.01..138509.15 rows=9872 width=6) (actual time=17.160..17.160 rows=0 loops=1)\r\n            Recheck Cond: (id = ANY (&#39;{NUMBERS 1 THROUGH 10,000}&#39;::bigint[]))\r\n            -&gt;  Bitmap Index Scan on pk_table  (cost=0.00..6839.54 rows=9872 width=0) (actual time=17.139..17.139 rows=0 loops=1)\r\n                  Index Cond: (id = ANY (&#39;{NUMBERS 1 THROUGH 10,000}&#39;::bigint[]))\r\n    Total runtime: 17.391 ms\r\n\r\nEDIT: Based on the EXPLAIN ANALYZE of the above, I&#39;ve retrieved some logging from the actual delete operations. Below is logging of two variation of single row by row deletes.\r\n\r\nHere are some single deletes:\r\n\r\n    2013-03-14 13:09:25,424:delete from table where id=?\r\n    2013-03-14 13:09:25,424:delete from table where id=?\r\n    2013-03-14 13:09:25,424:delete from table where id=?\r\n    2013-03-14 13:09:25,424:delete from table where id=?\r\n    2013-03-14 13:09:25,424:delete from table where id=?\r\n    2013-03-14 13:09:25,424:delete from table where id=?\r\n    2013-03-14 13:09:25,424:delete from table where id=?\r\n    2013-03-14 13:09:25,424:delete from table where id=?\r\n    2013-03-14 13:09:25,424:delete from table where id=?\r\n    2013-03-14 13:09:25,424:delete from table where id=?\r\n\r\nHere is the other variation of single deletes (the list is just 1 item)\r\n    \r\n    2013-03-14 13:49:59,858:delete from table where id in (?)\r\n    2013-03-14 13:50:01,460:delete from table where id in (?)\r\n    2013-03-14 13:50:03,040:delete from table where id in (?)\r\n    2013-03-14 13:50:04,544:delete from table where id in (?)\r\n    2013-03-14 13:50:06,125:delete from table where id in (?)\r\n    2013-03-14 13:50:07,707:delete from table where id in (?)\r\n    2013-03-14 13:50:09,275:delete from table where id in (?)\r\n    2013-03-14 13:50:10,833:delete from table where id in (?)\r\n    2013-03-14 13:50:12,369:delete from table where id in (?)\r\n    2013-03-14 13:50:13,873:delete from table where id in (?)\r\n\r\nBoth are IDs that exists in the table and should be sequential.\r\n\r\n----------\r\n\r\nEXPLAIN ANALYZE of `DELETE FROM table WHERE id = 3774887;`\r\n\r\n    Delete on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.097..0.097 rows=0 loops=1)\r\n      -&gt;  Index Scan using pk_table on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.055..0.058 rows=1 loops=1)\r\n            Index Cond: (id = 3774887)\r\n    Total runtime: 0.162 ms\r\n    \r\nEXPLAIN ANALYZE of `DELETE FROM table WHERE id IN (3774887);`\r\n\r\n    Delete on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.279..0.279 rows=0 loops=1)\r\n      -&gt;  Index Scan using pk_table on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.210..0.213 rows=1 loops=1)\r\n            Index Cond: (id = 3774887)\r\n    Total runtime: 0.452 ms\r\n\r\n0.162 vs 0.452 considered significant difference?\r\n\r\nEDIT:\r\n\r\nSet batch size to 50,000 and Hibernate didn&#39;t like that idea:\r\n\r\n    java.lang.StackOverflowError\r\n            at org.hibernate.hql.ast.util.NodeTraverser.visitDepthFirst(NodeTraverser.java:40)\r\n            at org.hibernate.hql.ast.util.NodeTraverser.visitDepthFirst(NodeTraverser.java:41)\r\n            at org.hibernate.hql.ast.util.NodeTraverser.visitDepthFirst(NodeTraverser.java:42)\r\n    ....","title":"Hibernate batch-delete vs single delete","body":"<p>EDIT: Based on some of my debugging and logging, I think the question boils down to why is <code>DELETE FROM table WHERE id = x</code> much faster than <code>DELETE FROM table WHERE id IN (x)</code> where <code>x</code> is just a single ID.</p>\n\n<p>I recently tested batch-delete versus deleting each row one by one and noticed that batch-delete was much slower. The table had triggers for delete, update, and insert but I've tested with and without the triggers and each time batch-delete was slower. <strong>Can anyone shed some light on why this is the case or share tips on how I can debug this?</strong> From what I understand, I can't really reduce the number of times the trigger activates but I had originally figured that lowering the number of \"delete\" query would help with the performance.</p>\n\n<p>I've included some information below, please let me know if I've left out anything relevant.</p>\n\n<p>Deletion are done in batches of 10,000 and the code look something like :</p>\n\n<pre><code>private void batchDeletion( Collection&lt;Long&gt; ids ) {\n  StringBuilder sb = new StringBuilder();\n  sb.append( \"DELETE FROM ObjImpl WHERE id IN (:ids)\" );\n\n  Query sql = getSession().createQuery( sb.toString() );\n  sql.setParameterList( \"ids\", ids );\n\n  sql.executeUpdate();\n}\n</code></pre>\n\n<p>The code to delete just a single row is basically:</p>\n\n<pre><code>SessionFactory.getCurrentSession().delete(obj);\n</code></pre>\n\n<p>The table has two indexes which is not used in any of the deletion. No cascade operation will occur.</p>\n\n<p>Here is a sample of the EXPLAIN ANALYZE of <code>DELETE FROM table where id IN ( 1, 2, 3 );</code>:</p>\n\n<pre><code>Delete on table  (cost=12.82..24.68 rows=3 width=6) (actual time=0.143..0.143 rows=0 loops=1)\n  -&gt;  Bitmap Heap Scan on table  (cost=12.82..24.68 rows=3 width=6) (actual time=0.138..0.138 rows=0 loops=1)\n        Recheck Cond: (id = ANY ('{1,2,3}'::bigint[]))\n        -&gt;  Bitmap Index Scan on pk_table  (cost=0.00..12.82 rows=3 width=0) (actual time=0.114..0.114 rows=0 loops=1)\n              Index Cond: (id = ANY ('{1,2,3}'::bigint[]))\nTotal runtime: 3.926 ms\n</code></pre>\n\n<p>I've vacuumed and reindexed each time I reload my data for testing and my test data contains 386,660 rows.</p>\n\n<p>The test is to delete all the rows and I'm not using <code>TRUNCATE</code> because normally there's a selection criteria but for testing purposes, I've made the criteria include all rows. With triggers enabled, deleting each row one by one took 193,616ms whereas batch-delete took 285,558ms. I then disabled the triggers and got 93,793ms for single row deletes and 181,537ms for batch-delete. The trigger goes and sums up values and updates another table - basically bookkeeping.</p>\n\n<p>I've played around with lower batch sizes (100 and 1) and they all seem to perform worse.</p>\n\n<p>EDIT: Turned on Hibernate logging and for single row by row deletes, it's basically doing: <code>delete from table where id=?</code> and the EXPLAIN ANALYZE:</p>\n\n<pre><code>Delete on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.042..0.042 rows=0 loops=1)\n  -&gt;  Index Scan using pk_table on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.037..0.037 rows=0 loops=1)\n        Index Cond: (id = 3874904)\nTotal runtime: 0.130 ms\n</code></pre>\n\n<p>EDIT: Was curious if the list actually contained 10,000 ID, if Postgres would do something different: nope.</p>\n\n<pre><code>Delete on table  (cost=6842.01..138509.15 rows=9872 width=6) (actual time=17.170..17.170 rows=0 loops=1)\n  -&gt;  Bitmap Heap Scan on table  (cost=6842.01..138509.15 rows=9872 width=6) (actual time=17.160..17.160 rows=0 loops=1)\n        Recheck Cond: (id = ANY ('{NUMBERS 1 THROUGH 10,000}'::bigint[]))\n        -&gt;  Bitmap Index Scan on pk_table  (cost=0.00..6839.54 rows=9872 width=0) (actual time=17.139..17.139 rows=0 loops=1)\n              Index Cond: (id = ANY ('{NUMBERS 1 THROUGH 10,000}'::bigint[]))\nTotal runtime: 17.391 ms\n</code></pre>\n\n<p>EDIT: Based on the EXPLAIN ANALYZE of the above, I've retrieved some logging from the actual delete operations. Below is logging of two variation of single row by row deletes.</p>\n\n<p>Here are some single deletes:</p>\n\n<pre><code>2013-03-14 13:09:25,424:delete from table where id=?\n2013-03-14 13:09:25,424:delete from table where id=?\n2013-03-14 13:09:25,424:delete from table where id=?\n2013-03-14 13:09:25,424:delete from table where id=?\n2013-03-14 13:09:25,424:delete from table where id=?\n2013-03-14 13:09:25,424:delete from table where id=?\n2013-03-14 13:09:25,424:delete from table where id=?\n2013-03-14 13:09:25,424:delete from table where id=?\n2013-03-14 13:09:25,424:delete from table where id=?\n2013-03-14 13:09:25,424:delete from table where id=?\n</code></pre>\n\n<p>Here is the other variation of single deletes (the list is just 1 item)</p>\n\n<pre><code>2013-03-14 13:49:59,858:delete from table where id in (?)\n2013-03-14 13:50:01,460:delete from table where id in (?)\n2013-03-14 13:50:03,040:delete from table where id in (?)\n2013-03-14 13:50:04,544:delete from table where id in (?)\n2013-03-14 13:50:06,125:delete from table where id in (?)\n2013-03-14 13:50:07,707:delete from table where id in (?)\n2013-03-14 13:50:09,275:delete from table where id in (?)\n2013-03-14 13:50:10,833:delete from table where id in (?)\n2013-03-14 13:50:12,369:delete from table where id in (?)\n2013-03-14 13:50:13,873:delete from table where id in (?)\n</code></pre>\n\n<p>Both are IDs that exists in the table and should be sequential.</p>\n\n<hr>\n\n<p>EXPLAIN ANALYZE of <code>DELETE FROM table WHERE id = 3774887;</code></p>\n\n<pre><code>Delete on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.097..0.097 rows=0 loops=1)\n  -&gt;  Index Scan using pk_table on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.055..0.058 rows=1 loops=1)\n        Index Cond: (id = 3774887)\nTotal runtime: 0.162 ms\n</code></pre>\n\n<p>EXPLAIN ANALYZE of <code>DELETE FROM table WHERE id IN (3774887);</code></p>\n\n<pre><code>Delete on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.279..0.279 rows=0 loops=1)\n  -&gt;  Index Scan using pk_table on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.210..0.213 rows=1 loops=1)\n        Index Cond: (id = 3774887)\nTotal runtime: 0.452 ms\n</code></pre>\n\n<p>0.162 vs 0.452 considered significant difference?</p>\n\n<p>EDIT:</p>\n\n<p>Set batch size to 50,000 and Hibernate didn't like that idea:</p>\n\n<pre><code>java.lang.StackOverflowError\n        at org.hibernate.hql.ast.util.NodeTraverser.visitDepthFirst(NodeTraverser.java:40)\n        at org.hibernate.hql.ast.util.NodeTraverser.visitDepthFirst(NodeTraverser.java:41)\n        at org.hibernate.hql.ast.util.NodeTraverser.visitDepthFirst(NodeTraverser.java:42)\n....\n</code></pre>\n"},{"tags":["java","gs1-ai-syntax","gs1-qr-code"],"answers":[{"tags":[],"owner":{"account_id":3062593,"reputation":5406,"user_id":2594961,"accept_rate":88,"display_name":"yaylitzis"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1574079657,"creation_date":1574079657,"answer_id":58914458,"question_id":58802239,"body_markdown":"The library I used ([gs1Utils][1]) is working fine. \r\n\r\nThe biggest misconception that I had, was that the [GS1][2] barcode prototype adds check digits in the end, in all Application Identifiers (AI). But it doesn&#39;t!\r\n\r\nIn my case, the GTIN has AI `01` and the check digit is calculated based on this [simple algorithm][3]:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nSo the code `0100145074001` has check digit `9` and the :\r\n\r\n    result.getString(ApplicationIdentifier.CONTAINED_GTIN)\r\n\r\nreturns `01001450740019`.\r\n\r\nAll my codes have fix length (13). So, the answer to my question is to read the first 13 characters...\r\n\r\n    String myCode = result.getString(ApplicationIdentifier.CONTAINED_GTIN).substring(0, 13);\r\n\r\n\r\n  [1]: https://github.com/tmattsson/gs1utils\r\n  [2]: https://www.gs1.org/\r\n  [3]: https://www.gs1.org/services/how-calculate-check-digit-manually\r\n  [4]: https://i.stack.imgur.com/YGUYG.jpg","title":"Read GS1 QRcode and get the data without the check digit character","body":"<p>The library I used (<a href=\"https://github.com/tmattsson/gs1utils\" rel=\"nofollow noreferrer\">gs1Utils</a>) is working fine. </p>\n\n<p>The biggest misconception that I had, was that the <a href=\"https://www.gs1.org/\" rel=\"nofollow noreferrer\">GS1</a> barcode prototype adds check digits in the end, in all Application Identifiers (AI). But it doesn't!</p>\n\n<p>In my case, the GTIN has AI <code>01</code> and the check digit is calculated based on this <a href=\"https://www.gs1.org/services/how-calculate-check-digit-manually\" rel=\"nofollow noreferrer\">simple algorithm</a>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YGUYG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YGUYG.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>So the code <code>0100145074001</code> has check digit <code>9</code> and the :</p>\n\n<pre><code>result.getString(ApplicationIdentifier.CONTAINED_GTIN)\n</code></pre>\n\n<p>returns <code>01001450740019</code>.</p>\n\n<p>All my codes have fix length (13). So, the answer to my question is to read the first 13 characters...</p>\n\n<pre><code>String myCode = result.getString(ApplicationIdentifier.CONTAINED_GTIN).substring(0, 13);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14937684,"reputation":541,"user_id":10785239,"display_name":"I&#39;m_Pratik"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1574080752,"creation_date":1574080752,"answer_id":58914770,"question_id":58802239,"body_markdown":"You can use `String.substring` method to get the required character from the given String\r\n\r\n    System.out.println(&quot;CONTAINED_GTIN= &quot; + result.getString(ApplicationIdentifier.CONTAINED_GTIN).substring(0, 13));","title":"Read GS1 QRcode and get the data without the check digit character","body":"<p>You can use <code>String.substring</code> method to get the required character from the given String</p>\n\n<pre><code>System.out.println(\"CONTAINED_GTIN= \" + result.getString(ApplicationIdentifier.CONTAINED_GTIN).substring(0, 13));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2589112,"reputation":389,"user_id":2244175,"display_name":"Michael Angelos Simos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1574270067,"creation_date":1574270067,"answer_id":58959923,"question_id":58802239,"body_markdown":"You can jsut read the first characters, as the specific formatting originates from your QRCode generator. \r\n\r\nUsing `result.getString(ApplicationIdentifier.CONTAINED_GTIN).substring(0, 13);`\r\nShould do the trick\r\n\r\nHowever, the check-digit can be used for a validation check. It&#39;s worth adding a:\r\n```\r\nCheckDigit.validate(ApplicationIdentifier.CONTAINED_GTIN)\r\n```\r\nline somewhere, for avoiding input issues in future ;)\r\n\r\n- [More info on `CheckDigit.validate`](https://github.com/tmattsson/gs1utils#check-digits)\r\n- [GS1 spec](https://www.gs1.org/standards/barcodes-epcrfid-id-keys/gs1-general-specifications)","title":"Read GS1 QRcode and get the data without the check digit character","body":"<p>You can jsut read the first characters, as the specific formatting originates from your QRCode generator. </p>\n\n<p>Using <code>result.getString(ApplicationIdentifier.CONTAINED_GTIN).substring(0, 13);</code>\nShould do the trick</p>\n\n<p>However, the check-digit can be used for a validation check. It's worth adding a:</p>\n\n<pre><code>CheckDigit.validate(ApplicationIdentifier.CONTAINED_GTIN)\n</code></pre>\n\n<p>line somewhere, for avoiding input issues in future ;)</p>\n\n<ul>\n<li><a href=\"https://github.com/tmattsson/gs1utils#check-digits\" rel=\"nofollow noreferrer\">More info on <code>CheckDigit.validate</code></a></li>\n<li><a href=\"https://www.gs1.org/standards/barcodes-epcrfid-id-keys/gs1-general-specifications\" rel=\"nofollow noreferrer\">GS1 spec</a></li>\n</ul>\n"}],"owner":{"account_id":3062593,"reputation":5406,"user_id":2594961,"accept_rate":88,"display_name":"yaylitzis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":805,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":58959923,"answer_count":3,"score":2,"last_activity_date":1679168679,"creation_date":1573478589,"question_id":58802239,"body_markdown":"I am trying to read a QRCode in `GS1` format. When I built the QR Code for the identifier `(01)` with the value `0100145074001`, my QRCode generator adds in the end a check digit `9`. So the result is:\r\n\r\n    01001450740019\r\n\r\nNow, I try to parse this QRCode in my Java Program. I found this library [gs1Utils][1] and when I execute the following :\r\n\r\n    String brc = &quot;0101001450740019&quot;;\r\n    ElementStrings.ParseResult result = ElementStrings.parse(brc); \r\n    System.out.println(&quot;CONTAINED_GTIN= &quot; + result.getString(ApplicationIdentifier.CONTAINED_GTIN));\r\n\r\nI get `CONTAINED_GTIN= 01001450740019`. However, I want to read only the `0100145074001` and not the check digit.\r\n\r\n\r\nI don&#39;t know if this certain library is not working well, or I have misunderstood how the `GS1` works. \r\nMy question is: How can I get the value of a GS1 QRcode in `Java` without the check digit? \r\n\r\n  [1]: https://github.com/tmattsson/gs1utils","title":"Read GS1 QRcode and get the data without the check digit character","body":"<p>I am trying to read a QRCode in <code>GS1</code> format. When I built the QR Code for the identifier <code>(01)</code> with the value <code>0100145074001</code>, my QRCode generator adds in the end a check digit <code>9</code>. So the result is:</p>\n\n<pre><code>01001450740019\n</code></pre>\n\n<p>Now, I try to parse this QRCode in my Java Program. I found this library <a href=\"https://github.com/tmattsson/gs1utils\" rel=\"nofollow noreferrer\">gs1Utils</a> and when I execute the following :</p>\n\n<pre><code>String brc = \"0101001450740019\";\nElementStrings.ParseResult result = ElementStrings.parse(brc); \nSystem.out.println(\"CONTAINED_GTIN= \" + result.getString(ApplicationIdentifier.CONTAINED_GTIN));\n</code></pre>\n\n<p>I get <code>CONTAINED_GTIN= 01001450740019</code>. However, I want to read only the <code>0100145074001</code> and not the check digit.</p>\n\n<p>I don't know if this certain library is not working well, or I have misunderstood how the <code>GS1</code> works. \nMy question is: How can I get the value of a GS1 QRcode in <code>Java</code> without the check digit? </p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"score":0,"creation_date":1413959712,"post_id":26501523,"comment_id":41634944,"body_markdown":"is your json valid, check [here](http://jsonlint.com/)","body":"is your json valid, check <a href=\"http://jsonlint.com/\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":1243076,"reputation":1283,"user_id":1205182,"display_name":"Nattrass"},"score":0,"creation_date":1413959776,"post_id":26501523,"comment_id":41634971,"body_markdown":"Are you not already escaping the double quotes for Var207 with a \\&quot;","body":"Are you not already escaping the double quotes for Var207 with a \\&quot;"},{"owner":{"account_id":3431530,"reputation":5970,"user_id":2875803,"accept_rate":71,"display_name":"Valentin Waeselynck"},"score":2,"creation_date":1413959932,"post_id":26501523,"comment_id":41635025,"body_markdown":"What you are trying to do is not very clear to me, can you elaborate please?","body":"What you are trying to do is not very clear to me, can you elaborate please?"},{"owner":{"account_id":20095,"reputation":505,"user_id":47637,"accept_rate":57,"display_name":"Bruce Li"},"score":0,"creation_date":1413960023,"post_id":26501523,"comment_id":41635062,"body_markdown":"The json string is not valid, only part of the string has been escaped, but not all.","body":"The json string is not valid, only part of the string has been escaped, but not all."},{"owner":{"account_id":1243076,"reputation":1283,"user_id":1205182,"display_name":"Nattrass"},"score":0,"creation_date":1413960219,"post_id":26501523,"comment_id":41635125,"body_markdown":"Are you not just missing Var218 = \\&quot;charlie\\&quot;","body":"Are you not just missing Var218 = \\&quot;charlie\\&quot;"},{"owner":{"account_id":20095,"reputation":505,"user_id":47637,"accept_rate":57,"display_name":"Bruce Li"},"score":0,"creation_date":1413960347,"post_id":26501523,"comment_id":41635168,"body_markdown":"The string is just an example.","body":"The string is just an example."}],"answers":[{"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413959984,"creation_date":1413959984,"answer_id":26501638,"question_id":26501523,"body_markdown":"I don;t see the point bacause you are escaping your cdouble quoted correct\r\n\r\n\r\n    &quot;\\&quot;\\&quot;&quot; // this will produce &quot;&quot;\r\n\r\n\r\nSo simple before each &quot; place one \\","title":"How to escape double quotes in a string for json parser in Java","body":"<p>I don;t see the point bacause you are escaping your cdouble quoted correct</p>\n\n<pre><code>\"\\\"\\\"\" // this will produce \"\"\n</code></pre>\n\n<p>So simple before each \" place one \\</p>\n"},{"comments":[{"owner":{"account_id":20095,"reputation":505,"user_id":47637,"accept_rate":57,"display_name":"Bruce Li"},"score":0,"creation_date":1413960519,"post_id":26501750,"comment_id":41635232,"body_markdown":"Yes, but how to do this in Java because this string is just one example.","body":"Yes, but how to do this in Java because this string is just one example."}],"tags":[],"owner":{"account_id":2929506,"reputation":917,"user_id":2510128,"accept_rate":100,"display_name":"Nick Allen"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1413962100,"creation_date":1413960402,"answer_id":26501750,"question_id":26501523,"body_markdown":"I&#39;m using the Gson library for this.\r\nBut it looks like this is what you are asking for.\r\n\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.GsonBuilder;\r\n    import com.google.gson.JsonElement;\r\n    import com.google.gson.JsonObject;\r\n    import com.google.gson.reflect.TypeToken;\r\n    ...\r\n    public void stuff()\r\n        {\r\n            List&lt;String&gt; data = new ArrayList&lt;String&gt;();\r\n            data.add(&quot;&quot;);\r\n            data.add(&quot;abc&quot;);\r\n            data.add(&quot;IF(Var218 = \\&quot;charlie\\&quot;) AND (Var85 &amp;le; 0) AND (Var207 = \\&quot;some value\\&quot;; \\&quot;du\\&quot;) THEN Appetency = 1 &quot;);\r\n            data.add(&quot;\\&quot;\\&quot;&quot;);\r\n    \r\n            Gson gson = new GsonBuilder().setPrettyPrinting().disableHtmlEscaping().create();\r\n    \r\n            JsonObject test = new JsonObject();\r\n            JsonElement jsonData = gson.toJsonTree(data, new TypeToken&lt;List&lt;String&gt;&gt;(){}.getType());\r\n            test.add(&quot;test&quot;, jsonData);\r\n    \r\n            String json = gson.toJson(test);\r\n            System.out.println(json);\r\n        }\r\n\r\n\r\n\r\nThis will produce:\r\n\r\n    {\r\n      &quot;test&quot;:[\r\n        &quot;&quot;,\r\n        &quot;abc&quot;,\r\n        &quot;IF(Var218 = \\&quot;charlie\\&quot;) AND (Var85 &amp;le; 0) AND (Var207 = \\&quot;some value\\&quot;; \\&quot;du\\&quot;) THEN Appetency = 1 &quot;,\r\n        &quot;&quot;,\r\n        &quot;\\&quot;\\&quot;&quot;\r\n      ]\r\n    }","title":"How to escape double quotes in a string for json parser in Java","body":"<p>I'm using the Gson library for this.\nBut it looks like this is what you are asking for.</p>\n\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.reflect.TypeToken;\n...\npublic void stuff()\n    {\n        List&lt;String&gt; data = new ArrayList&lt;String&gt;();\n        data.add(\"\");\n        data.add(\"abc\");\n        data.add(\"IF(Var218 = \\\"charlie\\\") AND (Var85 &amp;le; 0) AND (Var207 = \\\"some value\\\"; \\\"du\\\") THEN Appetency = 1 \");\n        data.add(\"\\\"\\\"\");\n\n        Gson gson = new GsonBuilder().setPrettyPrinting().disableHtmlEscaping().create();\n\n        JsonObject test = new JsonObject();\n        JsonElement jsonData = gson.toJsonTree(data, new TypeToken&lt;List&lt;String&gt;&gt;(){}.getType());\n        test.add(\"test\", jsonData);\n\n        String json = gson.toJson(test);\n        System.out.println(json);\n    }\n</code></pre>\n\n<p>This will produce:</p>\n\n<pre><code>{\n  \"test\":[\n    \"\",\n    \"abc\",\n    \"IF(Var218 = \\\"charlie\\\") AND (Var85 &amp;le; 0) AND (Var207 = \\\"some value\\\"; \\\"du\\\") THEN Appetency = 1 \",\n    \"\",\n    \"\\\"\\\"\"\n  ]\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20095,"reputation":505,"user_id":47637,"accept_rate":57,"display_name":"Bruce Li"},"score":0,"creation_date":1414046617,"post_id":26506625,"comment_id":41673708,"body_markdown":"This will escape double quotes required by json parser, actually only double quotes in map values should be escaped.","body":"This will escape double quotes required by json parser, actually only double quotes in map values should be escaped."},{"owner":{"account_id":2613265,"reputation":5567,"user_id":2262972,"accept_rate":84,"display_name":"SamTebbs33"},"score":0,"creation_date":1414051141,"post_id":26506625,"comment_id":41675419,"body_markdown":"@BruceLi I suggest you add that detail to the question, as you never mention that only some of the quotes should be escaped","body":"@BruceLi I suggest you add that detail to the question, as you never mention that only some of the quotes should be escaped"},{"owner":{"account_id":20095,"reputation":505,"user_id":47637,"accept_rate":57,"display_name":"Bruce Li"},"score":0,"creation_date":1414053072,"post_id":26506625,"comment_id":41676222,"body_markdown":"Thanks for your help, I&#39;ve updated the question with more details.","body":"Thanks for your help, I&#39;ve updated the question with more details."}],"tags":[],"owner":{"account_id":2613265,"reputation":5567,"user_id":2262972,"accept_rate":84,"display_name":"SamTebbs33"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413978055,"creation_date":1413978055,"answer_id":26506625,"question_id":26501523,"body_markdown":"The following algorithm should work with the JSON String in `input`\r\n\r\n    String progress = &quot;&quot;;\r\n    for(int c = 0; c &lt; input.length(); c++){\r\n        char ch = input.charAt(c);\r\n        if(ch == &#39;\\\\&#39;){    // Skip if the next character is already escaped\r\n            c++;\r\n            continue;\r\n        }\r\n        if(ch == &#39;\\&quot;&#39;) progress += &quot;\\\\\\&quot;&quot;; // Results in \\&quot;\r\n        else progress += ch;    // Add the character to progress\r\n    }\r\n\r\nThe escaped String is now in `progress`","title":"How to escape double quotes in a string for json parser in Java","body":"<p>The following algorithm should work with the JSON String in <code>input</code></p>\n\n<pre><code>String progress = \"\";\nfor(int c = 0; c &lt; input.length(); c++){\n    char ch = input.charAt(c);\n    if(ch == '\\\\'){    // Skip if the next character is already escaped\n        c++;\n        continue;\n    }\n    if(ch == '\\\"') progress += \"\\\\\\\"\"; // Results in \\\"\n    else progress += ch;    // Add the character to progress\n}\n</code></pre>\n\n<p>The escaped String is now in <code>progress</code></p>\n"},{"tags":[],"owner":{"account_id":4008749,"reputation":3475,"user_id":3302747,"accept_rate":61,"display_name":"Baked Inhalf"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513006658,"creation_date":1513006658,"answer_id":47756299,"question_id":26501523,"body_markdown":"In java you escape `&quot;` by `\\&quot;` and the same goes for JSON. The problem is that `\\&quot;` does not include a backward slash, so you need to escape that as well:\r\n\r\n    String json = &quot;hello \\\\\\&quot;world\\\\\\&quot;&quot;; // hello &quot;world&quot;\r\n\r\nNotice the three (3) backwards slash.","title":"How to escape double quotes in a string for json parser in Java","body":"<p>In java you escape <code>\"</code> by <code>\\\"</code> and the same goes for JSON. The problem is that <code>\\\"</code> does not include a backward slash, so you need to escape that as well:</p>\n\n<pre><code>String json = \"hello \\\\\\\"world\\\\\\\"\"; // hello \"world\"\n</code></pre>\n\n<p>Notice the three (3) backwards slash.</p>\n"},{"tags":[],"owner":{"account_id":18230402,"reputation":1,"user_id":13269448,"display_name":"Lasha Bibilashvili"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679167747,"creation_date":1678726737,"answer_id":75724814,"question_id":26501523,"body_markdown":"    package ezvcard;\r\n\r\n    import com.google.gson.Gson;\r\n    import org.junit.Test;\r\n\r\n    import java.util.List;\r\n\r\n    public class MyTests {\r\n\r\n\t\t@Test\r\n\t\tpublic void myTest() {\r\n\t\t\tString json = &quot;{\\&quot;test\\&quot;: [\\&quot;\\&quot;, \\&quot;abc\\&quot;, \\&quot;IF(Var218 = \\&quot;charlie\\&quot;) AND (Var85 ≤ 0) AND (Var207 = \\\\\\&quot;some value\\\\\\&quot;; \\\\\\&quot;du\\\\\\&quot;) THEN Appetency = 1 \\&quot;, \\&quot;\\&quot;, \\&quot;\\&quot;\\&quot;\\&quot;]}&quot;;\r\n\t\t\tString newJson = json\r\n\t\t\t\t\t.replaceAll(&quot;\\&quot;]&quot;, &quot;\\&#39;]&quot;)\r\n\t\t\t\t\t.replaceAll(&quot;\\\\[\\&quot;&quot;, &quot;\\\\[\\&#39;&quot;)\r\n\t\t\t\t\t.replaceAll(&quot;\\\\{\\&quot;&quot;, &quot;\\\\{\\&#39;&quot;)\r\n\t\t\t\t\t.replaceAll(&quot;\\&quot;}&quot;, &quot;\\&#39;}&quot;)\r\n\t\t\t\t\t.replaceAll(&quot;\\&quot;,&quot;, &quot;\\&#39;,&quot;)\r\n\t\t\t\t\t.replaceAll(&quot;,\\&quot;&quot;, &quot;,\\&#39;&quot;)\r\n\t\t\t\t\t.replaceAll(&quot;, \\&quot;&quot;, &quot;, \\&#39;&quot;)\r\n\t\t\t\t\t.replaceAll(&quot;\\&quot;:&quot;, &quot;\\&#39;:&quot;)\r\n\t\t\t\t\t.replaceAll(&quot;:\\&quot;&quot;, &quot;:\\&#39;&quot;);\r\n\t\t\tGson gson = new Gson();\r\n\t\t\tMyTest test = gson.fromJson(newJson, MyTest.class);\r\n\t\t\t\r\n\t\t\tfor (String s : test.test) {\r\n\t\t\t\tSystem.out.println(s);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic static class MyTest {\r\n\t\t\tList&lt;String&gt; test;\r\n\t\t\r\n\t\t}\r\n    }\r\n","title":"How to escape double quotes in a string for json parser in Java","body":"<pre><code>package ezvcard;\n\nimport com.google.gson.Gson;\nimport org.junit.Test;\n\nimport java.util.List;\n\npublic class MyTests {\n\n    @Test\n    public void myTest() {\n        String json = &quot;{\\&quot;test\\&quot;: [\\&quot;\\&quot;, \\&quot;abc\\&quot;, \\&quot;IF(Var218 = \\&quot;charlie\\&quot;) AND (Var85 ≤ 0) AND (Var207 = \\\\\\&quot;some value\\\\\\&quot;; \\\\\\&quot;du\\\\\\&quot;) THEN Appetency = 1 \\&quot;, \\&quot;\\&quot;, \\&quot;\\&quot;\\&quot;\\&quot;]}&quot;;\n        String newJson = json\n                .replaceAll(&quot;\\&quot;]&quot;, &quot;\\']&quot;)\n                .replaceAll(&quot;\\\\[\\&quot;&quot;, &quot;\\\\[\\'&quot;)\n                .replaceAll(&quot;\\\\{\\&quot;&quot;, &quot;\\\\{\\'&quot;)\n                .replaceAll(&quot;\\&quot;}&quot;, &quot;\\'}&quot;)\n                .replaceAll(&quot;\\&quot;,&quot;, &quot;\\',&quot;)\n                .replaceAll(&quot;,\\&quot;&quot;, &quot;,\\'&quot;)\n                .replaceAll(&quot;, \\&quot;&quot;, &quot;, \\'&quot;)\n                .replaceAll(&quot;\\&quot;:&quot;, &quot;\\':&quot;)\n                .replaceAll(&quot;:\\&quot;&quot;, &quot;:\\'&quot;);\n        Gson gson = new Gson();\n        MyTest test = gson.fromJson(newJson, MyTest.class);\n        \n        for (String s : test.test) {\n            System.out.println(s);\n        }\n    }\n    public static class MyTest {\n        List&lt;String&gt; test;\n    \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20095,"reputation":505,"user_id":47637,"accept_rate":57,"display_name":"Bruce Li"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28972,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":26501750,"answer_count":5,"score":3,"last_activity_date":1679167747,"creation_date":1413959487,"question_id":26501523,"body_markdown":"I got a string like below:\r\n\r\n    {\r\n        &quot;test&quot;: [\r\n            &quot;&quot;,\r\n            &quot;abc&quot;,\r\n            &quot;IF(Var218 = &quot;charlie&quot;) AND (Var85 ≤ 0) AND (Var207 = \\&quot;some value\\&quot;; \\&quot;du\\&quot;) THEN Appetency = 1 &quot;,\r\n            &quot;&quot;,\r\n            &quot;&quot;&quot;&quot;\r\n        ]\r\n    }\r\n\r\nThe string will be parsed as a JSON object, now the question is how should I escape some of the double quotes in the string in Java effectively?\r\n\r\nThe string above is just one example, and please notice not all double quotes in the string should be escaped, only double quotes such as in &quot;charlie&quot; and &quot;&quot;&quot;&quot; should be escaped, otherwise json parser will not parse the string correctly. Expected result should be like:\r\n\r\n    {\r\n        &quot;test&quot;: [\r\n            &quot;&quot;,\r\n            &quot;abc&quot;,\r\n            &quot;IF(Var218 = \\&quot;charlie\\&quot;) AND (Var85 ≤ 0) AND (Var207 = \\&quot;some value\\&quot;; \\&quot;du\\&quot;) THEN Appetency = 1 &quot;,\r\n            &quot;&quot;,\r\n            &quot;\\&quot;\\&quot;&quot;\r\n        ]\r\n    }\r\n\r\nThanks.","title":"How to escape double quotes in a string for json parser in Java","body":"<p>I got a string like below:</p>\n\n<pre><code>{\n    \"test\": [\n        \"\",\n        \"abc\",\n        \"IF(Var218 = \"charlie\") AND (Var85 ≤ 0) AND (Var207 = \\\"some value\\\"; \\\"du\\\") THEN Appetency = 1 \",\n        \"\",\n        \"\"\"\"\n    ]\n}\n</code></pre>\n\n<p>The string will be parsed as a JSON object, now the question is how should I escape some of the double quotes in the string in Java effectively?</p>\n\n<p>The string above is just one example, and please notice not all double quotes in the string should be escaped, only double quotes such as in \"charlie\" and \"\"\"\" should be escaped, otherwise json parser will not parse the string correctly. Expected result should be like:</p>\n\n<pre><code>{\n    \"test\": [\n        \"\",\n        \"abc\",\n        \"IF(Var218 = \\\"charlie\\\") AND (Var85 ≤ 0) AND (Var207 = \\\"some value\\\"; \\\"du\\\") THEN Appetency = 1 \",\n        \"\",\n        \"\\\"\\\"\"\n    ]\n}\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-boot","junit","spring-boot-test"],"answers":[{"comments":[{"owner":{"account_id":198532,"reputation":7519,"user_id":443259,"accept_rate":77,"display_name":"Daud"},"score":1,"creation_date":1552487591,"post_id":55144332,"comment_id":97029262,"body_markdown":"Will **src/main/resources**  and **src/test/resources** both be included in the classpath by default?","body":"Will <b>src/main/resources</b>  and <b>src/test/resources</b> both be included in the classpath by default?"},{"owner":{"account_id":4325009,"reputation":2727,"user_id":3861128,"accept_rate":71,"display_name":"Abdelghani Roussi"},"score":0,"creation_date":1552487841,"post_id":55144332,"comment_id":97029456,"body_markdown":"Sometimes vanilla java don&#39;t add the src/main/resources to the classpath depending on the runner that you are using","body":"Sometimes vanilla java don&#39;t add the src/main/resources to the classpath depending on the runner that you are using"},{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":1,"creation_date":1591499879,"post_id":55144332,"comment_id":110077501,"body_markdown":"+1 for path resource semantics. @Daud, you may want to check out [this](https://stackoverflow.com/questions/29669393/override-default-spring-boot-application-properties-settings-in-junit-test/60296719#60296719) for your question on resources.","body":"+1 for path resource semantics. @Daud, you may want to check out <a href=\"https://stackoverflow.com/questions/29669393/override-default-spring-boot-application-properties-settings-in-junit-test/60296719#60296719\">this</a> for your question on resources."}],"tags":[],"owner":{"account_id":4325009,"reputation":2727,"user_id":3861128,"accept_rate":71,"display_name":"Abdelghani Roussi"},"comment_count":3,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1552487409,"creation_date":1552487409,"answer_id":55144332,"question_id":55144040,"body_markdown":"your inner configuration class will not work [unless you add a static keyword before its definition](https://stackoverflow.com/questions/55142962/spring-boot-test-unable-to-instantiate-inner-configuration-class/55143019#55143019). However you should know that for the @Sql annotation \r\n\r\n&gt; Path Resource Semantics\r\n&gt; \r\n&gt; Each path will be interpreted as a Spring Resource. A plain path — for\r\n&gt; example, &quot;schema.sql&quot; — will be treated as a classpath resource that\r\n&gt; is relative to the package in which the test class is defined. A path\r\n&gt; starting with a slash will be treated as an absolute classpath\r\n&gt; resource, for example: &quot;/org/example/schema.sql&quot;. A path which\r\n&gt; references a URL (e.g., a path prefixed with classpath:, file:, http:,\r\n&gt; etc.) will be loaded using the specified resource protocol.\r\n\r\nSo try to prefix the value inside `@Sql` with `classpath:` like this :\r\n\r\n    @Sql(scripts={&quot;classpath:data.sql&quot;})\r\n\r\nGood luck!","title":"Spring boot test: @Sql annotation Unable to locate sql files placed in src/test/resources","body":"<p>your inner configuration class will not work <a href=\"https://stackoverflow.com/questions/55142962/spring-boot-test-unable-to-instantiate-inner-configuration-class/55143019#55143019\">unless you add a static keyword before its definition</a>. However you should know that for the @Sql annotation </p>\n\n<blockquote>\n  <p>Path Resource Semantics</p>\n  \n  <p>Each path will be interpreted as a Spring Resource. A plain path — for\n  example, \"schema.sql\" — will be treated as a classpath resource that\n  is relative to the package in which the test class is defined. A path\n  starting with a slash will be treated as an absolute classpath\n  resource, for example: \"/org/example/schema.sql\". A path which\n  references a URL (e.g., a path prefixed with classpath:, file:, http:,\n  etc.) will be loaded using the specified resource protocol.</p>\n</blockquote>\n\n<p>So try to prefix the value inside <code>@Sql</code> with <code>classpath:</code> like this :</p>\n\n<pre><code>@Sql(scripts={\"classpath:data.sql\"})\n</code></pre>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":1963913,"reputation":1943,"user_id":1764648,"display_name":"Gopal S Akshintala"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1604640526,"creation_date":1572533042,"answer_id":58645846,"question_id":55144040,"body_markdown":"Check your `out` directory of the module. While creating directory in resources, if you have named it directly with the namespace like `com.gakshintala.bookmybook`, it takes that name completely as the directory name, so the `out` also contains this directory under `resources` with name `com.gakshintala.bookmybook`. PFB right vs wrong. The top is right and bottom is wrong.\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nSpring always looks for nested directory resources-&gt;com-&gt;gakshintala-&gt;bookmybook.\r\nSo create that directory structure.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VGXip.png\r\n  [2]: https://i.stack.imgur.com/WkE2k.png","title":"Spring boot test: @Sql annotation Unable to locate sql files placed in src/test/resources","body":"<p>Check your <code>out</code> directory of the module. While creating directory in resources, if you have named it directly with the namespace like <code>com.gakshintala.bookmybook</code>, it takes that name completely as the directory name, so the <code>out</code> also contains this directory under <code>resources</code> with name <code>com.gakshintala.bookmybook</code>. PFB right vs wrong. The top is right and bottom is wrong.</p>\n<p><a href=\"https://i.stack.imgur.com/VGXip.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VGXip.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/WkE2k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WkE2k.png\" alt=\"enter image description here\" /></a></p>\n<p>Spring always looks for nested directory resources-&gt;com-&gt;gakshintala-&gt;bookmybook.\nSo create that directory structure.</p>\n"}],"owner":{"account_id":198532,"reputation":7519,"user_id":443259,"accept_rate":77,"display_name":"Daud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15589,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":55144332,"answer_count":2,"score":6,"last_activity_date":1679167696,"creation_date":1552486593,"question_id":55144040,"body_markdown":"I didn&#39;t want to load the entire Spring Boot configuration for unit-testing my `DAO` layer, and therefore created a nested configuration class to **suppress default configurations**. But when I try to specify SQL scripts for it to run before tests, its unable to find them.\r\n\r\nHere&#39;s the code:\r\n\r\n    package com.test.customer.controller;\r\n    ..\r\n    @RunWith(SpringRunner.class)\r\n    @JdbcTest\r\n    @Sql({&quot;data.sql&quot;})\r\n    public class InterviewInformationControllerTest {\r\n    \r\n        @Configuration\r\n        static class TestConfiguration{\r\n    \r\n        }\r\n    \r\n        @Test\r\n        public void testCustomer() {\r\n            // code\r\n        }\r\n    \r\n    }\r\n    \r\nI get the error: \r\n\r\n    Cannot read SQL script from class path resource [com/test/customer/controller/data.sql]; \r\n    nested exception is java.io.FileNotFoundException: \r\n    class path resource [com/test/customer/controller/data.sql] \r\n    cannot be opened because it does not exist\r\n\r\nI&#39;ve tried placing the file at both `src/main/resources` (not preferred) as well as at `src/test/resources` (which I prefer)\r\n\r\nNote: I&#39;m running the Unit test from inside Eclipse by doing `Run as -&gt; JUnit test`.\r\n\r\n**Edit**: Added the `static` keyword to the configuration class","title":"Spring boot test: @Sql annotation Unable to locate sql files placed in src/test/resources","body":"<p>I didn't want to load the entire Spring Boot configuration for unit-testing my <code>DAO</code> layer, and therefore created a nested configuration class to <strong>suppress default configurations</strong>. But when I try to specify SQL scripts for it to run before tests, its unable to find them.</p>\n<p>Here's the code:</p>\n<pre><code>package com.test.customer.controller;\n..\n@RunWith(SpringRunner.class)\n@JdbcTest\n@Sql({&quot;data.sql&quot;})\npublic class InterviewInformationControllerTest {\n\n    @Configuration\n    static class TestConfiguration{\n\n    }\n\n    @Test\n    public void testCustomer() {\n        // code\n    }\n\n}\n</code></pre>\n<p>I get the error:</p>\n<pre><code>Cannot read SQL script from class path resource [com/test/customer/controller/data.sql]; \nnested exception is java.io.FileNotFoundException: \nclass path resource [com/test/customer/controller/data.sql] \ncannot be opened because it does not exist\n</code></pre>\n<p>I've tried placing the file at both <code>src/main/resources</code> (not preferred) as well as at <code>src/test/resources</code> (which I prefer)</p>\n<p>Note: I'm running the Unit test from inside Eclipse by doing <code>Run as -&gt; JUnit test</code>.</p>\n<p><strong>Edit</strong>: Added the <code>static</code> keyword to the configuration class</p>\n"},{"tags":["java","rest-assured"],"owner":{"account_id":28025105,"reputation":1,"user_id":21405261,"display_name":"Abirami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679167651,"creation_date":1678898962,"question_id":75747756,"body_markdown":"````\r\n&quot;payment&quot;: {\r\n        &quot;paymentMethodCode&quot;: &quot;886&quot;,\r\n        &quot;billAccountNumber&quot;: &quot;!110394383945&quot;,\r\n        &quot;bankCode&quot;: &quot;7162&quot;,\r\n        &quot;bankBranchCode&quot;: &quot;009&quot;,\r\n        &quot;taxJurisdictionCode&quot;: &quot;0&quot;,\r\n        &quot;nameOnBilling&quot;: &quot;JOHN SMITH BILL&quot;,\r\n        &quot;paymentFrequencyCode&quot;: &quot;Monthly&quot;,\r\n        &quot;collectorCode&quot;: &quot;GIR&quot;,\r\n        &quot;debitDayOfMonth&quot;: &quot;13&quot;\r\n    }\r\n````\r\nHere the bill account number is ciphertext value\r\n\r\nI am getting the below error in rest assured cucumber ,\r\n````\r\n &quot;errors&quot; : [\r\n    {\r\n      &quot;code&quot; : &quot;91&quot;,\r\n      &quot;description&quot; : &quot;POL10946\\nBillAccountNumber\\nPAYMENT\\n-1\\nOnly ciphertext or a Token can be accepted BILL_ACCTNUM field.\\n&quot;\r\n    }\r\n  ]\r\n}\r\n````\r\nMy code is ,\r\n````\r\n   String billAccountNumber = XLS.getCellData(sheetName, &quot;BillAccountNumber&quot;, row);\r\n````\r\n\r\npass it as a string value on excel\r\n\r\n","title":"How to convert Ciphertext value in to string","body":"<pre><code>&quot;payment&quot;: {\n        &quot;paymentMethodCode&quot;: &quot;886&quot;,\n        &quot;billAccountNumber&quot;: &quot;!110394383945&quot;,\n        &quot;bankCode&quot;: &quot;7162&quot;,\n        &quot;bankBranchCode&quot;: &quot;009&quot;,\n        &quot;taxJurisdictionCode&quot;: &quot;0&quot;,\n        &quot;nameOnBilling&quot;: &quot;JOHN SMITH BILL&quot;,\n        &quot;paymentFrequencyCode&quot;: &quot;Monthly&quot;,\n        &quot;collectorCode&quot;: &quot;GIR&quot;,\n        &quot;debitDayOfMonth&quot;: &quot;13&quot;\n    }\n</code></pre>\n<p>Here the bill account number is ciphertext value</p>\n<p>I am getting the below error in rest assured cucumber ,</p>\n<pre><code> &quot;errors&quot; : [\n    {\n      &quot;code&quot; : &quot;91&quot;,\n      &quot;description&quot; : &quot;POL10946\\nBillAccountNumber\\nPAYMENT\\n-1\\nOnly ciphertext or a Token can be accepted BILL_ACCTNUM field.\\n&quot;\n    }\n  ]\n}\n</code></pre>\n<p>My code is ,</p>\n<pre><code>   String billAccountNumber = XLS.getCellData(sheetName, &quot;BillAccountNumber&quot;, row);\n</code></pre>\n<p>pass it as a string value on excel</p>\n"},{"tags":["java","spring-boot","ssl","mtls","pkix"],"comments":[{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1679132116,"post_id":75774738,"comment_id":133668938,"body_markdown":"I remember facing this issue longtime ago, try using the wildcard &quot;*&quot; on your routing rules while you find the real problem, in my case the certificate was invalid because it expired (it had 1 year validity and it expired after so), so make sure it is not an expired certificate or ask for a new one","body":"I remember facing this issue longtime ago, try using the wildcard &quot;*&quot; on your routing rules while you find the real problem, in my case the certificate was invalid because it expired (it had 1 year validity and it expired after so), so make sure it is not an expired certificate or ask for a new one"},{"owner":{"account_id":28048858,"reputation":1,"user_id":21425104,"display_name":"Ahmed Nazer"},"score":0,"creation_date":1679730627,"post_id":75774738,"comment_id":133776320,"body_markdown":"actually the certificate is valid and working fine from postman and if i used curl with --insecure also working , but for java i have added the certificate to the keystore and trust store manually and programmatically but also no hope , getting same error.\nsorry, what do you mean by &quot;try using the wildcard &quot;*&quot; on your routing rules while you find the real problem&quot;","body":"actually the certificate is valid and working fine from postman and if i used curl with --insecure also working , but for java i have added the certificate to the keystore and trust store manually and programmatically but also no hope , getting same error. sorry, what do you mean by &quot;try using the wildcard &quot;*&quot; on your routing rules while you find the real problem&quot;"}],"owner":{"account_id":28048858,"reputation":1,"user_id":21425104,"display_name":"Ahmed Nazer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679167604,"creation_date":1679129115,"question_id":75774738,"body_markdown":"I have received the certification as `.pem` and the private key as `.key` and the host as wildcard \r\n`*.domain:*` and used them in postman and worked as expected.\r\n\r\n[![Click here for the image][1]][1]\r\n\r\n\r\nI need to do the same in java , I have tried all the possible scenario I found in the internet\r\nlike :\r\nconverting the file using `openssl` to different formats (`cer` ,`cert`,`p12`,`jks`) \r\nall the scenarios of using `keystore` and `truststore` or custom one \r\nbut, no luck at all \r\nAlways get:\r\n\r\n&gt;Exception in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path &gt;building failed: sun.security.provider.certpath.SunCertPathBuilderException: &gt;unable to find valid certification path to requested target\r\n\r\n[1]: https://i.stack.imgur.com/9jSmc.png","title":"Using certification as .pem and private key as .key to call secured rest end point in java","body":"<p>I have received the certification as <code>.pem</code> and the private key as <code>.key</code> and the host as wildcard\n<code>*.domain:*</code> and used them in postman and worked as expected.</p>\n<p><a href=\"https://i.stack.imgur.com/9jSmc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9jSmc.png\" alt=\"Click here for the image\" /></a></p>\n<p>I need to do the same in java , I have tried all the possible scenario I found in the internet\nlike :\nconverting the file using <code>openssl</code> to different formats (<code>cer</code> ,<code>cert</code>,<code>p12</code>,<code>jks</code>)\nall the scenarios of using <code>keystore</code> and <code>truststore</code> or custom one\nbut, no luck at all\nAlways get:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path &gt;building failed: sun.security.provider.certpath.SunCertPathBuilderException: &gt;unable to find valid certification path to requested target</p>\n</blockquote>\n"},{"tags":["java","linear-search"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1597387238,"post_id":63407726,"comment_id":112121164,"body_markdown":"What do you mean with &quot;its output came 7 which is wrong&quot;? Why is it wrong? What output do you expect? If you should return the index of the first match from the back, then 7 should be correct. But as an additional remark, in your for loop, you should run until `i =&gt; 0` to also catch the first index in your array.","body":"What do you mean with &quot;its output came 7 which is wrong&quot;? Why is it wrong? What output do you expect? If you should return the index of the first match from the back, then 7 should be correct. But as an additional remark, in your for loop, you should run until <code>i =&gt; 0</code> to also catch the first index in your array."},{"owner":{"account_id":19233360,"reputation":11,"user_id":14054809,"display_name":"soumyaranjan tripathy"},"score":0,"creation_date":1597387653,"post_id":63407726,"comment_id":112121307,"body_markdown":"actually i need to calculate from last to first of that array like if we want to seach 33 which is last index i.e, 9th index i want to print it as index=0 as im searching from right to left","body":"actually i need to calculate from last to first of that array like if we want to seach 33 which is last index i.e, 9th index i want to print it as index=0 as im searching from right to left"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1597387709,"post_id":63407726,"comment_id":112121321,"body_markdown":"Why index=1 then? Shouldn&#39;t it be 0 if its the first one from right?","body":"Why index=1 then? Shouldn&#39;t it be 0 if its the first one from right?"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1597387866,"post_id":63407726,"comment_id":112121361,"body_markdown":"On my first comment, its obviously `i &gt;= 0`. But can&#39;t edit anymore.","body":"On my first comment, its obviously <code>i &gt;= 0</code>. But can&#39;t edit anymore."},{"owner":{"account_id":19233360,"reputation":11,"user_id":14054809,"display_name":"soumyaranjan tripathy"},"score":0,"creation_date":1597387870,"post_id":63407726,"comment_id":112121362,"body_markdown":"sorry my mistake but you got my question ryt? @maloomeister","body":"sorry my mistake but you got my question ryt? @maloomeister"}],"answers":[{"comments":[{"owner":{"account_id":19233360,"reputation":11,"user_id":14054809,"display_name":"soumyaranjan tripathy"},"score":0,"creation_date":1597387715,"post_id":63407788,"comment_id":112121325,"body_markdown":"see test cases\n\nSample Input:\n7\n6 8 3 5 9 1 2\n9\nSample Output:\n2\nHere the output is 2 because the position of number 9 is 2 from the reverse order as mentioned in the question.","body":"see test cases  Sample Input: 7 6 8 3 5 9 1 2 9 Sample Output: 2 Here the output is 2 because the position of number 9 is 2 from the reverse order as mentioned in the question."},{"owner":{"account_id":19275837,"reputation":148,"user_id":14088888,"display_name":"Aneesh"},"score":0,"creation_date":1597387915,"post_id":63407788,"comment_id":112121374,"body_markdown":"in this example with the array [7,6,8,3,5,9,1,2,9] and a key of [9], the answer returned is 0","body":"in this example with the array [7,6,8,3,5,9,1,2,9] and a key of [9], the answer returned is 0"}],"tags":[],"owner":{"account_id":19275837,"reputation":148,"user_id":14088888,"display_name":"Aneesh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597388302,"creation_date":1597387332,"answer_id":63407788,"question_id":63407726,"body_markdown":"If you are trying to return the number of iterations from the end, you can create an int and return the iteration value\r\n\r\n```\r\n   public static int linearSearch(int[] array, int key) {\r\n        int size = array.length - 1;\r\n        int iteration =-1;\r\n        for (int i = size; i &gt;= 0; i--) {\r\n            iteration++;\r\n            if (array[i] == key) {\r\n                return iteration;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n\r\n```","title":"Linear Search Algorithm of an Array in reverse order","body":"<p>If you are trying to return the number of iterations from the end, you can create an int and return the iteration value</p>\n<pre><code>   public static int linearSearch(int[] array, int key) {\n        int size = array.length - 1;\n        int iteration =-1;\n        for (int i = size; i &gt;= 0; i--) {\n            iteration++;\n            if (array[i] == key) {\n                return iteration;\n            }\n        }\n        return -1;\n    }\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597388131,"creation_date":1597388131,"answer_id":63407937,"question_id":63407726,"body_markdown":"So after a few inconsitencies regarding what you actually want, I think I got you now. This code should work for you:\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int[] array = { 44, 55, 66, 77, 88, 22, 11, 66, 99, 33 };\r\n        int key = 66;\r\n        int result = linearSearch(array, key);\r\n        System.out.println(&quot;Index from the right for value &quot; + key + &quot; is: &quot; + result);\r\n    }\r\n\r\n    public static int linearSearch(int[] array, int key) {\r\n        int size = array.length - 1;\r\n        for (int i = size; i &gt;= 0; i--) {\r\n            if (array[i] == key) {\r\n                return size - i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\nThe output is:\r\n\r\n    Index from the right for value 66 is: 2\r\n\r\nExplanation:\r\n\r\nThe for-loop loops from `size` to `0` backwards. If a match is found, it returns the index from the right, so `size - i`.","title":"Linear Search Algorithm of an Array in reverse order","body":"<p>So after a few inconsitencies regarding what you actually want, I think I got you now. This code should work for you:</p>\n<pre><code>public static void main(String[] args) {\n\n    int[] array = { 44, 55, 66, 77, 88, 22, 11, 66, 99, 33 };\n    int key = 66;\n    int result = linearSearch(array, key);\n    System.out.println(&quot;Index from the right for value &quot; + key + &quot; is: &quot; + result);\n}\n\npublic static int linearSearch(int[] array, int key) {\n    int size = array.length - 1;\n    for (int i = size; i &gt;= 0; i--) {\n        if (array[i] == key) {\n            return size - i;\n        }\n    }\n    return -1;\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code>Index from the right for value 66 is: 2\n</code></pre>\n<p>Explanation:</p>\n<p>The for-loop loops from <code>size</code> to <code>0</code> backwards. If a match is found, it returns the index from the right, so <code>size - i</code>.</p>\n"},{"comments":[{"owner":{"account_id":1620332,"reputation":1376,"user_id":1497060,"display_name":"Oleg Kurbatov"},"score":0,"creation_date":1597390321,"post_id":63408036,"comment_id":112122320,"body_markdown":"Please, explain a little how this code solves the problem. Only-code-answers are not welcome at stackoverflow.","body":"Please, explain a little how this code solves the problem. Only-code-answers are not welcome at stackoverflow."}],"tags":[],"owner":{"account_id":19294329,"reputation":1,"user_id":14103557,"display_name":"Neha Khatriya"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1597398131,"creation_date":1597388578,"answer_id":63408036,"question_id":63407726,"body_markdown":"If you also want to return a &quot;reversed&quot; index, you must take that into account in your `return` statement: \r\n\r\n    public static int linearSearch(int[] array, int key)\r\n    {\r\n        int size = array.length - 1;\r\n        for (int i = size; i &gt; 0; i--)\r\n            if (array[i] == key)\r\n                return size - i;\r\n        return -1;\r\n    }","title":"Linear Search Algorithm of an Array in reverse order","body":"<p>If you also want to return a &quot;reversed&quot; index, you must take that into account in your <code>return</code> statement:</p>\n<pre><code>public static int linearSearch(int[] array, int key)\n{\n    int size = array.length - 1;\n    for (int i = size; i &gt; 0; i--)\n        if (array[i] == key)\n            return size - i;\n    return -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24030685,"reputation":1,"user_id":18011647,"display_name":"Atharva Anwekar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679167600,"creation_date":1679167600,"answer_id":75778171,"question_id":63407726,"body_markdown":"Try this loop\r\n````\r\nfor(int i = count-1; i &gt; 0; i--){\r\n            if(key == array[i]){\r\n                int index = ((i+1) - count);\r\n                System.out.print(Math.abs(index));\r\n                break;\r\n            }\r\n        }\r\n````\r\n\r\nIt will print 2.\r\n\r\n\r\n","title":"Linear Search Algorithm of an Array in reverse order","body":"<p>Try this loop</p>\n<pre><code>for(int i = count-1; i &gt; 0; i--){\n            if(key == array[i]){\n                int index = ((i+1) - count);\n                System.out.print(Math.abs(index));\n                break;\n            }\n        }\n</code></pre>\n<p>It will print 2.</p>\n"}],"owner":{"account_id":19233360,"reputation":11,"user_id":14054809,"display_name":"soumyaranjan tripathy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1988,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1679167600,"creation_date":1597386998,"question_id":63407726,"body_markdown":"I need to find out an element on an array in reverse manner i.e, checking elements from last element to first\r\n\r\nHere is my code\r\n\r\n```\r\npublic static int linearSearch(int[] array, int key) {\r\n    int size = array.length - 1;\r\n    for (int i = size; i &gt; 0; i--) {\r\n        if (array[i] == key) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n   \r\n```\r\n\r\nHere my test testcase - \r\n\r\n    count = 10\r\n    array  = 44 55 66 77 88 22 11 66 99 33\r\n    key = 66\r\nits output came 7 which is wrong\r\nits actual output was clearly 2.\r\nI don&#39;t know where my logic gone wrong.\r\n    \r\nAlso I don&#39;t know how to implement this (if the key is repeated, print the index where the key is appearing for the first time in reverse order.)\r\n\r\n","title":"Linear Search Algorithm of an Array in reverse order","body":"<p>I need to find out an element on an array in reverse manner i.e, checking elements from last element to first</p>\n<p>Here is my code</p>\n<pre><code>public static int linearSearch(int[] array, int key) {\n    int size = array.length - 1;\n    for (int i = size; i &gt; 0; i--) {\n        if (array[i] == key) {\n            return i;\n        }\n    }\n    return -1;\n}\n   \n</code></pre>\n<p>Here my test testcase -</p>\n<pre><code>count = 10\narray  = 44 55 66 77 88 22 11 66 99 33\nkey = 66\n</code></pre>\n<p>its output came 7 which is wrong\nits actual output was clearly 2.\nI don't know where my logic gone wrong.</p>\n<p>Also I don't know how to implement this (if the key is repeated, print the index where the key is appearing for the first time in reverse order.)</p>\n"},{"tags":["java","maven","github-actions","google-artifact-registry","spotless"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1661106719,"post_id":73429141,"comment_id":129687612,"body_markdown":"Repositories should be defined in settings.xml, not Pom.xml","body":"Repositories should be defined in settings.xml, not Pom.xml"},{"owner":{"account_id":3198713,"reputation":867,"user_id":2701272,"accept_rate":17,"display_name":"BharathYes"},"score":0,"creation_date":1661225443,"post_id":73429141,"comment_id":129714801,"body_markdown":"@Thorbj&#248;rnRavnAndersen Can&#39;t we customise repository list per project using pom.xml ? https://maven.apache.org/guides/introduction/introduction-to-repositories.html#downloading-from-a-remote-repository","body":"@Thorbj&#248;rnRavnAndersen Can&#39;t we customise repository list per project using pom.xml ? <a href=\"https://maven.apache.org/guides/introduction/introduction-to-repositories.html#downloading-from-a-remote-repository\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3198713,"reputation":867,"user_id":2701272,"accept_rate":17,"display_name":"BharathYes"},"score":0,"creation_date":1661104734,"post_id":73431165,"comment_id":129687104,"body_markdown":"Still learning about Maven and profiles that you mentioned. Moved the private repository and a plugin that would be need for spotless and it solved this issue. Thanks. I looked past that the jars being pulled were plugins, etc. My understanding was clean doesn&#39;t pull anything (atleast for me locally, probably cached?) so was stumped why `mvn clean` was pulling from the repositories. Any good resource where I can learn more about maven in a simple way would be much appreciated.","body":"Still learning about Maven and profiles that you mentioned. Moved the private repository and a plugin that would be need for spotless and it solved this issue. Thanks. I looked past that the jars being pulled were plugins, etc. My understanding was clean doesn&#39;t pull anything (atleast for me locally, probably cached?) so was stumped why <code>mvn clean</code> was pulling from the repositories. Any good resource where I can learn more about maven in a simple way would be much appreciated."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1661138713,"post_id":73431165,"comment_id":129692238,"body_markdown":"@BharathYes well, your understanding of maven seems to be wrong. `clean`, `compile`, `package`, etc - all of them are lifecycle phases (you need to consider maven as a state machine), maven allows bind plugins (actually plugin&#39;s goals) to lifecycle phases, so, in that case to execute lifecycle phase maven needs to download plugin(s) bound to particular lifecycle and it&#39;s dependencies","body":"@BharathYes well, your understanding of maven seems to be wrong. <code>clean</code>, <code>compile</code>, <code>package</code>, etc - all of them are lifecycle phases (you need to consider maven as a state machine), maven allows bind plugins (actually plugin&#39;s goals) to lifecycle phases, so, in that case to execute lifecycle phase maven needs to download plugin(s) bound to particular lifecycle and it&#39;s dependencies"}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661046752,"creation_date":1661046752,"answer_id":73431165,"question_id":73429141,"body_markdown":"I do believe you have misconfigured something in project pom.\r\n\r\nFirst of all, `spotless-maven-plugin` does not expect any dependency resolution to occur prior it&#39;s execution, so the only two things need to happen:\r\n- maven needs to construct project object model, in order to do that it needs to resolve parents and dependency management (resolve imports)\r\n- maven needs to download plugin and it&#39;s dependencies\r\n\r\nIf you have configured your project like:\r\n\r\n```\r\n&lt;repositories&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;GCP&lt;/id&gt;\r\n        &lt;name&gt;GCP&lt;/name&gt;\r\n        &lt;url&gt;some url&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```\r\n\r\nyou got into typical maven trap: repositories configured via `pom.xml` or `settings.xml` always take precedence over `maven central`, that means that when maven needs to download something it tries to use configured repository first and only in case of failure it will try `maven central`. The options are:\r\n\r\n1. add `maven central` first to your repository list\r\n2. activate your private repositories via maven profile","title":"Run spotless:check without pulling maven dependencies in Github Actions","body":"<p>I do believe you have misconfigured something in project pom.</p>\n<p>First of all, <code>spotless-maven-plugin</code> does not expect any dependency resolution to occur prior it's execution, so the only two things need to happen:</p>\n<ul>\n<li>maven needs to construct project object model, in order to do that it needs to resolve parents and dependency management (resolve imports)</li>\n<li>maven needs to download plugin and it's dependencies</li>\n</ul>\n<p>If you have configured your project like:</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;GCP&lt;/id&gt;\n        &lt;name&gt;GCP&lt;/name&gt;\n        &lt;url&gt;some url&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>you got into typical maven trap: repositories configured via <code>pom.xml</code> or <code>settings.xml</code> always take precedence over <code>maven central</code>, that means that when maven needs to download something it tries to use configured repository first and only in case of failure it will try <code>maven central</code>. The options are:</p>\n<ol>\n<li>add <code>maven central</code> first to your repository list</li>\n<li>activate your private repositories via maven profile</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4993801,"reputation":997,"user_id":4015129,"display_name":"Prashant Sahoo"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679167335,"creation_date":1679167335,"answer_id":75778154,"question_id":73429141,"body_markdown":"I was getting the same error `[ERROR] Failed to execute goal com.diffplug.spotless:spotless-maven-plugin:2.27.1:check (spotless-check) on project flink-examples-batch_2.12: The following files had format violations:` while building Flink examples \r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nI used the below command to check spotless\r\n\r\n    E:\\Flink\\flink-master1\\flink-examples&gt;mvn spotless:check\r\nThen I ran the command &#39;`mvn spotless:apply`&#39; to fix these violations.\r\n\r\n    E:\\Flink\\flink-master1\\flink-examples&gt;mvn spotless:apply\r\n    E:\\Flink\\flink-master1\\flink-examples&gt;mvn clean package\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d8WRu.png\r\n  [2]: https://i.stack.imgur.com/PYYwa.png\r\n  [3]: https://i.stack.imgur.com/Ll1ew.png","title":"Run spotless:check without pulling maven dependencies in Github Actions","body":"<p>I was getting the same error <code>[ERROR] Failed to execute goal com.diffplug.spotless:spotless-maven-plugin:2.27.1:check (spotless-check) on project flink-examples-batch_2.12: The following files had format violations:</code> while building Flink examples\n<a href=\"https://i.stack.imgur.com/d8WRu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d8WRu.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/PYYwa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PYYwa.png\" alt=\"enter image description here\" /></a></p>\n<p>I used the below command to check spotless</p>\n<pre><code>E:\\Flink\\flink-master1\\flink-examples&gt;mvn spotless:check\n</code></pre>\n<p>Then I ran the command '<code>mvn spotless:apply</code>' to fix these violations.</p>\n<pre><code>E:\\Flink\\flink-master1\\flink-examples&gt;mvn spotless:apply\nE:\\Flink\\flink-master1\\flink-examples&gt;mvn clean package\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Ll1ew.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ll1ew.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3198713,"reputation":867,"user_id":2701272,"accept_rate":17,"display_name":"BharathYes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2782,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73431165,"answer_count":2,"score":0,"last_activity_date":1679167335,"creation_date":1661020031,"question_id":73429141,"body_markdown":"I am trying to set a Github Action to check spotless.\r\n\r\nMy actions.yml\r\n```\r\nname: Java CI with Maven\r\n\r\non:\r\n  pull_request:\r\n    branches: [ &quot;main&quot; ]\r\n\r\njobs:\r\n  build:\r\n    name: Build\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n      - name: Set up JDK 17\r\n        uses: actions/setup-java@v3\r\n        with:\r\n          java-version: &#39;17&#39;\r\n          distribution: &#39;temurin&#39;\r\n          cache: maven\r\n      - name: Build with Maven\r\n        run: mvn clean\r\n```\r\n\r\nIn my pom.xml I have set spotless to trigger with clean lifecycle.\r\n\r\npom.xml (in spotless plugin):\r\n\r\n```\r\n&lt;executions&gt;\r\n  &lt;execution&gt;\r\n    &lt;goals&gt;\r\n      &lt;goal&gt;check&lt;/goal&gt;\r\n    &lt;/goals&gt;\r\n    &lt;phase&gt;clean&lt;/phase&gt;\r\n  &lt;/execution&gt;\r\n&lt;/executions&gt;\r\n```\r\nFull pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.sample.demo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;demo&lt;/name&gt;\r\n    &lt;description&gt;demo&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.1&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-gcp-starter-data-firestore&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-gcp-autoconfigure&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-secretmanager&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.example.internal&lt;/groupId&gt;\r\n            &lt;artifactId&gt;internal&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;4.9.10&lt;/version&gt;\r\n            &lt;type&gt;maven-plugin&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.2.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;artifact-registry&lt;/id&gt;\r\n            &lt;url&gt;artifactregistry://maven.pkg.dev/gcp-project-name/private-repo&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.9.10&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;get-the-git-infos&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;revision&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;validate-the-git-infos&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;validateRevision&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includeOnlyProperties&gt;\r\n                        &lt;property&gt;git.branch&lt;/property&gt;\r\n                        &lt;property&gt;git.commit.id&lt;/property&gt;\r\n                        &lt;property&gt;git.closest.tag.name&lt;/property&gt;\r\n                    &lt;/includeOnlyProperties&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.8&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;formats&gt;\r\n                        &lt;format&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;src/**/*.java&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                            &lt;trimTrailingWhitespace/&gt;\r\n                            &lt;endWithNewline/&gt;\r\n                            &lt;indent&gt;\r\n                                &lt;spaces&gt;true&lt;/spaces&gt;\r\n                                &lt;spacesPerTab&gt;4&lt;/spacesPerTab&gt;\r\n                            &lt;/indent&gt;\r\n                        &lt;/format&gt;\r\n                    &lt;/formats&gt;\r\n                    &lt;java&gt;\r\n                        &lt;removeUnusedImports /&gt;\r\n                        &lt;googleJavaFormat&gt;\r\n                            &lt;version&gt;1.15.0&lt;/version&gt;\r\n                            &lt;style&gt;AOSP&lt;/style&gt;\r\n                            &lt;reflowLongStrings&gt;true&lt;/reflowLongStrings&gt;\r\n                        &lt;/googleJavaFormat&gt;\r\n                    &lt;/java&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;clean&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.5.2.Final&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.18.24&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                            &lt;version&gt;0.2.0&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n\r\n        &lt;extensions&gt;\r\n            &lt;extension&gt;\r\n                &lt;groupId&gt;com.google.cloud.artifactregistry&lt;/groupId&gt;\r\n                &lt;artifactId&gt;artifactregistry-maven-wagon&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.4&lt;/version&gt;\r\n            &lt;/extension&gt;\r\n        &lt;/extensions&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nEverything works as it should, except all dependent JARs are being pulled almost every time(cache helps if commits are close together). This is a problem because the project has dependencies from private GCP artifact repo, which the runner cannot access.\r\n\r\nThis causes what should be a 30s runtime to almost 3 minutes repeatedly attempting to connect to the private maven repository.\r\n\r\n---\r\nI have tried removing the cache for maven, changed to `mvn spotless:check` hoping to directly trigger spotless but the runner keeps trying to pull the dependencies.\r\n\r\n---\r\n\r\nWhat maven lifecycle should I use to avoid pulling the JARs (atleast from the private repo). Is there a better way to run spotless and speed this up?","title":"Run spotless:check without pulling maven dependencies in Github Actions","body":"<p>I am trying to set a Github Action to check spotless.</p>\n<p>My actions.yml</p>\n<pre><code>name: Java CI with Maven\n\non:\n  pull_request:\n    branches: [ &quot;main&quot; ]\n\njobs:\n  build:\n    name: Build\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - name: Set up JDK 17\n        uses: actions/setup-java@v3\n        with:\n          java-version: '17'\n          distribution: 'temurin'\n          cache: maven\n      - name: Build with Maven\n        run: mvn clean\n</code></pre>\n<p>In my pom.xml I have set spotless to trigger with clean lifecycle.</p>\n<p>pom.xml (in spotless plugin):</p>\n<pre><code>&lt;executions&gt;\n  &lt;execution&gt;\n    &lt;goals&gt;\n      &lt;goal&gt;check&lt;/goal&gt;\n    &lt;/goals&gt;\n    &lt;phase&gt;clean&lt;/phase&gt;\n  &lt;/execution&gt;\n&lt;/executions&gt;\n</code></pre>\n<p>Full pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.sample.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;demo&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-data-firestore&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-secretmanager&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n            &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example.internal&lt;/groupId&gt;\n            &lt;artifactId&gt;internal&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;\n            &lt;version&gt;4.9.10&lt;/version&gt;\n            &lt;type&gt;maven-plugin&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n                    &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;1.5.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;artifact-registry&lt;/id&gt;\n            &lt;url&gt;artifactregistry://maven.pkg.dev/gcp-project-name/private-repo&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.9.10&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;get-the-git-infos&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;revision&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;validate-the-git-infos&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;validateRevision&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;includeOnlyProperties&gt;\n                        &lt;property&gt;git.branch&lt;/property&gt;\n                        &lt;property&gt;git.commit.id&lt;/property&gt;\n                        &lt;property&gt;git.closest.tag.name&lt;/property&gt;\n                    &lt;/includeOnlyProperties&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\n                &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.8&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;formats&gt;\n                        &lt;format&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;src/**/*.java&lt;/include&gt;\n                            &lt;/includes&gt;\n                            &lt;trimTrailingWhitespace/&gt;\n                            &lt;endWithNewline/&gt;\n                            &lt;indent&gt;\n                                &lt;spaces&gt;true&lt;/spaces&gt;\n                                &lt;spacesPerTab&gt;4&lt;/spacesPerTab&gt;\n                            &lt;/indent&gt;\n                        &lt;/format&gt;\n                    &lt;/formats&gt;\n                    &lt;java&gt;\n                        &lt;removeUnusedImports /&gt;\n                        &lt;googleJavaFormat&gt;\n                            &lt;version&gt;1.15.0&lt;/version&gt;\n                            &lt;style&gt;AOSP&lt;/style&gt;\n                            &lt;reflowLongStrings&gt;true&lt;/reflowLongStrings&gt;\n                        &lt;/googleJavaFormat&gt;\n                    &lt;/java&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;clean&lt;/phase&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;1.5.2.Final&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.24&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;0.2.0&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n\n        &lt;extensions&gt;\n            &lt;extension&gt;\n                &lt;groupId&gt;com.google.cloud.artifactregistry&lt;/groupId&gt;\n                &lt;artifactId&gt;artifactregistry-maven-wagon&lt;/artifactId&gt;\n                &lt;version&gt;2.1.4&lt;/version&gt;\n            &lt;/extension&gt;\n        &lt;/extensions&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Everything works as it should, except all dependent JARs are being pulled almost every time(cache helps if commits are close together). This is a problem because the project has dependencies from private GCP artifact repo, which the runner cannot access.</p>\n<p>This causes what should be a 30s runtime to almost 3 minutes repeatedly attempting to connect to the private maven repository.</p>\n<hr />\n<p>I have tried removing the cache for maven, changed to <code>mvn spotless:check</code> hoping to directly trigger spotless but the runner keeps trying to pull the dependencies.</p>\n<hr />\n<p>What maven lifecycle should I use to avoid pulling the JARs (atleast from the private repo). Is there a better way to run spotless and speed this up?</p>\n"},{"tags":["java","null","nullpointerexception","android-room","settext"],"owner":{"account_id":26671839,"reputation":23,"user_id":21070324,"display_name":"Revaken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679166737,"creation_date":1679158034,"question_id":75777296,"body_markdown":"I am creating a notepad application, however, this error occurs at \r\n\r\n    startup:java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference. \r\n    In the log, the program points to these lines:at com.example.tasktrackingandmanagment.adapters.MyNoteAdapter$ViewHolder.setNote(MyNoteAdapter.java:68)\r\n                                                                                                    \tat com.example.tasktrackingandmanagment.adapters.MyNoteAdapter.onBindViewHolder(MyNoteAdapter.java:36)\r\n                                                                                                    \tat com.example.tasktrackingandmanagment.adapters.MyNoteAdapter.onBindViewHolder(MyNoteAdapter.java:20)\r\n\r\n\r\n\r\nBelow is the code:\r\n\r\n\r\n```\r\npublic class MyNoteAdapter extends RecyclerView.Adapter&lt;MyNoteAdapter.ViewHolder&gt; {\r\n\r\n    List&lt;MyNoteEntities&gt; noteEntitiesList;\r\n\r\n    public MyNoteAdapter(List&lt;MyNoteEntities&gt; noteEntitiesList) {\r\n        this.noteEntitiesList = noteEntitiesList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new ViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.note_item, parent, false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        holder.setNote(noteEntitiesList.get(position));\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return noteEntitiesList.size();\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        return position;\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        private TextView title,textNote,dateTime;\r\n        private LinearLayout linearLayout;\r\n        RoundedImageView roundedImageView;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            title = itemView.findViewById(R.id.textTitle);\r\n            textNote = itemView.findViewById(R.id.textNote);\r\n            linearLayout = itemView.findViewById(R.id.layoutNote);\r\n            roundedImageView = itemView.findViewById(R.id.imageNote_item);\r\n        }\r\n\r\n        public void setNote(MyNoteEntities noteEntities) {\r\n            title.setText(noteEntities.getTitle());\r\n            textNote.setText(noteEntities.getNoteText());\r\n            dateTime.setText(noteEntities.getDateTime());\r\n\r\n            GradientDrawable gradientDrawable = (GradientDrawable) linearLayout.getBackground();\r\n            if (noteEntities.getColor() != null) {\r\n                gradientDrawable.setColor(Color.parseColor(noteEntities.getColor()));\r\n            }\r\n            else{\r\n                gradientDrawable.setColor(Color.parseColor(&quot;#FF937B&quot;));\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n","title":"Note App: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference","body":"<p>I am creating a notepad application, however, this error occurs at</p>\n<pre><code>startup:java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference. \nIn the log, the program points to these lines:at com.example.tasktrackingandmanagment.adapters.MyNoteAdapter$ViewHolder.setNote(MyNoteAdapter.java:68)\n                                                                                                    at com.example.tasktrackingandmanagment.adapters.MyNoteAdapter.onBindViewHolder(MyNoteAdapter.java:36)\n                                                                                                    at com.example.tasktrackingandmanagment.adapters.MyNoteAdapter.onBindViewHolder(MyNoteAdapter.java:20)\n</code></pre>\n<p>Below is the code:</p>\n<pre><code>public class MyNoteAdapter extends RecyclerView.Adapter&lt;MyNoteAdapter.ViewHolder&gt; {\n\n    List&lt;MyNoteEntities&gt; noteEntitiesList;\n\n    public MyNoteAdapter(List&lt;MyNoteEntities&gt; noteEntitiesList) {\n        this.noteEntitiesList = noteEntitiesList;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return new ViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.note_item, parent, false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        holder.setNote(noteEntitiesList.get(position));\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return noteEntitiesList.size();\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        return position;\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        private TextView title,textNote,dateTime;\n        private LinearLayout linearLayout;\n        RoundedImageView roundedImageView;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            title = itemView.findViewById(R.id.textTitle);\n            textNote = itemView.findViewById(R.id.textNote);\n            linearLayout = itemView.findViewById(R.id.layoutNote);\n            roundedImageView = itemView.findViewById(R.id.imageNote_item);\n        }\n\n        public void setNote(MyNoteEntities noteEntities) {\n            title.setText(noteEntities.getTitle());\n            textNote.setText(noteEntities.getNoteText());\n            dateTime.setText(noteEntities.getDateTime());\n\n            GradientDrawable gradientDrawable = (GradientDrawable) linearLayout.getBackground();\n            if (noteEntities.getColor() != null) {\n                gradientDrawable.setColor(Color.parseColor(noteEntities.getColor()));\n            }\n            else{\n                gradientDrawable.setColor(Color.parseColor(&quot;#FF937B&quot;));\n            }\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-security","h2-console"],"answers":[{"comments":[{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":1,"creation_date":1679092588,"post_id":75772681,"comment_id":133665459,"body_markdown":"Thanks.\nAny another SecurityFilterChain isn&#39;t exist, but this is helped: `.httpBasic().disable()\n.csrf().disable()`","body":"Thanks. Any another SecurityFilterChain isn&#39;t exist, but this is helped: <code>.httpBasic().disable() .csrf().disable()</code>"},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1679139542,"post_id":75772681,"comment_id":133670011,"body_markdown":"I am sorry, I am not noticed I not deleted `anyRequest.permitAll()`  function - this is a reason why /h2-console endpoint was answering.  Currently still not working","body":"I am sorry, I am not noticed I not deleted <code>anyRequest.permitAll()</code>  function - this is a reason why /h2-console endpoint was answering.  Currently still not working"},{"owner":{"account_id":27536973,"reputation":1,"user_id":21014430,"display_name":"AndOliver46"},"score":0,"creation_date":1679165940,"post_id":75772681,"comment_id":133674242,"body_markdown":"Okay, i edited the code o answer, you can try again!","body":"Okay, i edited the code o answer, you can try again!"}],"tags":[],"owner":{"account_id":27536973,"reputation":1,"user_id":21014430,"display_name":"AndOliver46"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679165877,"creation_date":1679092008,"answer_id":75772681,"question_id":75771841,"body_markdown":"Its possible that another security filter in the chain is overriding this configuration.\r\n\r\nYou can try adding the following code to your `securityFilterChain` method to explicitly allow access to the H2 console:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    .httpBasic().disable()\r\n    .csrf().disable()\r\n    .authorizeHttpRequests()\r\n        .antMatchers(&quot;/&quot;, &quot;/h2-console*&quot;, &quot;/h2-console/**&quot;).permitAll()\r\n        .and()\r\n    .authorizeHttpRequests()\r\n        .anyRequest().authenticated()\r\n        .and()\r\n    .headers()\r\n        .frameOptions().sameOrigin();\r\n\r\nThis will disable basic authentication and CSRF protection for the H2 console, and allow all requests to the `/h2-console/**` path to be permitted without authentication. It also sets the frame options to `sameOrigin` to prevent issues with the console not displaying properly.\r\n\r\nNote that it&#39;s important to keep the H2 console secured in production environments, as it provides direct access to your database.\r\n\r\nYou add this configuration into the `securityFilterChain` testing if you are test profile/environment...\r\n","title":"Can&#39;t setup the permitAll() mather","body":"<p>Its possible that another security filter in the chain is overriding this configuration.</p>\n<p>You can try adding the following code to your <code>securityFilterChain</code> method to explicitly allow access to the H2 console:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.httpBasic().disable()\n.csrf().disable()\n.authorizeHttpRequests()\n    .antMatchers(&quot;/&quot;, &quot;/h2-console*&quot;, &quot;/h2-console/**&quot;).permitAll()\n    .and()\n.authorizeHttpRequests()\n    .anyRequest().authenticated()\n    .and()\n.headers()\n    .frameOptions().sameOrigin();\n</code></pre>\n<p>This will disable basic authentication and CSRF protection for the H2 console, and allow all requests to the <code>/h2-console/**</code> path to be permitted without authentication. It also sets the frame options to <code>sameOrigin</code> to prevent issues with the console not displaying properly.</p>\n<p>Note that it's important to keep the H2 console secured in production environments, as it provides direct access to your database.</p>\n<p>You add this configuration into the <code>securityFilterChain</code> testing if you are test profile/environment...</p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679165877,"creation_date":1679083910,"question_id":75771841,"body_markdown":"I try to setup endpoint `/h2-console` for `permitAll()` to get access to the h2-console without login. \r\n\r\nMy security config:\r\n\r\n```java\r\n\r\n@Configuration\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n    @Bean\r\n    public SCryptPasswordEncoder sCryptPasswordEncoder() {\r\n        return SCryptPasswordEncoder.defaultsForSpringSecurity_v5_8();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .httpBasic().disable()\r\n                .csrf().disable();\r\n        http.authorizeHttpRequests()\r\n                .requestMatchers(&quot;/h2-console/**&quot;).permitAll()\r\n    //                .anyRequest().permitAll() &lt; -- with this line works, so any other FilterChain does not exist in the project. I swear\r\n                .and()\r\n                .formLogin()\r\n                .defaultSuccessUrl(&quot;/main&quot;, true)\r\n                .and()\r\n                .headers().frameOptions().disable();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI also will put all other configs for any case:\r\n\r\n```java\r\n\r\n@Configuration\r\npublic class AuthenticationConfig {\r\n    @Autowired\r\n    private CustomAuthProvider authProvider;\r\n\r\n    @Bean\r\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n        AuthenticationManagerBuilder authenticationManagerBuilder =\r\n                http.getSharedObject(AuthenticationManagerBuilder.class);\r\n        authenticationManagerBuilder.authenticationProvider(authProvider);\r\n        return authenticationManagerBuilder.build();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Component\r\npublic class CustomAuthProvider implements AuthenticationProvider {\r\n\r\n    @Autowired\r\n    private JpaUserDetailsService userDetailsService;\r\n\r\n    @Autowired\r\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Autowired\r\n    private SCryptPasswordEncoder sCryptPasswordEncoder;\r\n\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        String username = authentication.getName();\r\n        String password = authentication.getCredentials().toString();\r\n\r\n        CustomUserDetails user = userDetailsService.loadUserByUsername(username);\r\n\r\n        switch (user.secureUser().getAlgorithm()) {\r\n            case BCRYPT:\r\n                return checkPassword(user, password, bCryptPasswordEncoder);\r\n            case SCRYPT:\r\n                return checkPassword(user, password, sCryptPasswordEncoder);\r\n            default:\r\n                throw new BadCredentialsException(&quot;Bad credentials&quot;);\r\n        }\r\n    }\r\n\r\n    private Authentication checkPassword(CustomUserDetails user, String rawPassword, PasswordEncoder encoder) {\r\n        if (encoder.matches(rawPassword, user.getPassword())) {\r\n            return new UsernamePasswordAuthenticationToken(user.getUsername(), user.getPassword(), user.getAuthorities());\r\n        } else {\r\n            throw new BadCredentialsException(&quot;Bad credentials&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        return UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\r\n    }\r\n}\r\n```\r\n\r\nBut when I try to get to the `localhost:8080/h2-console` I have redirected to the `/login` page\r\n\r\n------\r\n\r\nUPD:\r\n\r\nSpring security logs:\r\n\r\n&gt; c.e.springinactions.SequrityApplication  : Started SequrityApplication in 11.758 seconds (process running for 12.623)  \r\n&gt; o.s.security.web.FilterChainProxy        : Securing GET /h2-console  \r\n&gt; o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext  \r\n&gt; o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/h2-console?continue to session  \r\n&gt; o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login  \r\n&gt; o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;  ","title":"Can&#39;t setup the permitAll() mather","body":"<p>I try to setup endpoint <code>/h2-console</code> for <code>permitAll()</code> to get access to the h2-console without login.</p>\n<p>My security config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    @Bean\n    public SCryptPasswordEncoder sCryptPasswordEncoder() {\n        return SCryptPasswordEncoder.defaultsForSpringSecurity_v5_8();\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .httpBasic().disable()\n                .csrf().disable();\n        http.authorizeHttpRequests()\n                .requestMatchers(&quot;/h2-console/**&quot;).permitAll()\n    //                .anyRequest().permitAll() &lt; -- with this line works, so any other FilterChain does not exist in the project. I swear\n                .and()\n                .formLogin()\n                .defaultSuccessUrl(&quot;/main&quot;, true)\n                .and()\n                .headers().frameOptions().disable();\n    }\n\n}\n</code></pre>\n<p>I also will put all other configs for any case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configuration\npublic class AuthenticationConfig {\n    @Autowired\n    private CustomAuthProvider authProvider;\n\n    @Bean\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\n        AuthenticationManagerBuilder authenticationManagerBuilder =\n                http.getSharedObject(AuthenticationManagerBuilder.class);\n        authenticationManagerBuilder.authenticationProvider(authProvider);\n        return authenticationManagerBuilder.build();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class CustomAuthProvider implements AuthenticationProvider {\n\n    @Autowired\n    private JpaUserDetailsService userDetailsService;\n\n    @Autowired\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Autowired\n    private SCryptPasswordEncoder sCryptPasswordEncoder;\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        String username = authentication.getName();\n        String password = authentication.getCredentials().toString();\n\n        CustomUserDetails user = userDetailsService.loadUserByUsername(username);\n\n        switch (user.secureUser().getAlgorithm()) {\n            case BCRYPT:\n                return checkPassword(user, password, bCryptPasswordEncoder);\n            case SCRYPT:\n                return checkPassword(user, password, sCryptPasswordEncoder);\n            default:\n                throw new BadCredentialsException(&quot;Bad credentials&quot;);\n        }\n    }\n\n    private Authentication checkPassword(CustomUserDetails user, String rawPassword, PasswordEncoder encoder) {\n        if (encoder.matches(rawPassword, user.getPassword())) {\n            return new UsernamePasswordAuthenticationToken(user.getUsername(), user.getPassword(), user.getAuthorities());\n        } else {\n            throw new BadCredentialsException(&quot;Bad credentials&quot;);\n        }\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\n    }\n}\n</code></pre>\n<p>But when I try to get to the <code>localhost:8080/h2-console</code> I have redirected to the <code>/login</code> page</p>\n<hr />\n<p>UPD:</p>\n<p>Spring security logs:</p>\n<blockquote>\n<p>c.e.springinactions.SequrityApplication  : Started SequrityApplication in 11.758 seconds (process running for 12.623)<br />\no.s.security.web.FilterChainProxy        : Securing GET /h2-console<br />\no.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext<br />\no.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/h2-console?continue to session<br />\no.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login<br />\no.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","basic-authentication"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1679160557,"post_id":75777427,"comment_id":133673448,"body_markdown":"Maybe this https://www.baeldung.com/spring-rest-http-headers","body":"Maybe this <a href=\"https://www.baeldung.com/spring-rest-http-headers\" rel=\"nofollow noreferrer\">baeldung.com/spring-rest-http-headers</a>"},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1679160646,"post_id":75777427,"comment_id":133673460,"body_markdown":"You should create own filter and register it before authentication filter. https://www.codejava.net/frameworks/spring-boot/spring-security-before-authentication-filter-examples","body":"You should create own filter and register it before authentication filter. <a href=\"https://www.codejava.net/frameworks/spring-boot/spring-security-before-authentication-filter-examples\" rel=\"nofollow noreferrer\">codejava.net/frameworks/spring-boot/&hellip;</a>"},{"owner":{"account_id":27908831,"reputation":1,"user_id":21311455,"display_name":"Siddharth "},"score":0,"creation_date":1679509878,"post_id":75777427,"comment_id":133736651,"body_markdown":"@PeterMmm I have referred your link and tried but it is not giving me header info of consumer (who is invoking my api with that basic auth info) rather it is giving me header details info of my api iteself.","body":"@PeterMmm I have referred your link and tried but it is not giving me header info of consumer (who is invoking my api with that basic auth info) rather it is giving me header details info of my api iteself."},{"owner":{"account_id":27908831,"reputation":1,"user_id":21311455,"display_name":"Siddharth "},"score":0,"creation_date":1679510023,"post_id":75777427,"comment_id":133736682,"body_markdown":"@DhavalGajjar I have gone through your link and understood code but in my case I am not using any login form for logged in and I am using simple basic spring security so does it still work in case if I try first option &quot;1. Simple Before Authentication Filter Configuration&quot; from shared link ?","body":"@DhavalGajjar I have gone through your link and understood code but in my case I am not using any login form for logged in and I am using simple basic spring security so does it still work in case if I try first option &quot;1. Simple Before Authentication Filter Configuration&quot; from shared link ?"},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1679571404,"post_id":75777427,"comment_id":133747026,"body_markdown":"Yes. It should work. Your filter will be called before Basic Authentication done.","body":"Yes. It should work. Your filter will be called before Basic Authentication done."},{"owner":{"account_id":27908831,"reputation":1,"user_id":21311455,"display_name":"Siddharth "},"score":0,"creation_date":1679940120,"post_id":75777427,"comment_id":133807705,"body_markdown":"@DhavalGajjar i have applied simillar approach as point 1 from your link.  For me attempt authentication function code is not getting execute , i tried to debug it is not going to that line .   Can you pls provide me code snippet for my requirement like my end point is (http://sp/bal) and username:test and password : welcome123. (if someone consuming this end point with this auth info then very first i want to take password From header and compare with custom logic (gcpsecret=Welcome123)","body":"@DhavalGajjar i have applied simillar approach as point 1 from your link.  For me attempt authentication function code is not getting execute , i tried to debug it is not going to that line .   Can you pls provide me code snippet for my requirement like my end point is (<a href=\"http://sp/bal\" rel=\"nofollow noreferrer\">sp/bal</a>) and username:test and password : welcome123. (if someone consuming this end point with this auth info then very first i want to take password From header and compare with custom logic (gcpsecret=Welcome123)"}],"owner":{"account_id":27908831,"reputation":1,"user_id":21311455,"display_name":"Siddharth "},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679165831,"creation_date":1679159574,"question_id":75777427,"body_markdown":"I have implemented spring basic security authentication mechanism along with rest api endpoint. Let&#39;s say if someone is consuming my endpoint by passing auth info (user, key) along with header and for some reason i want to validate that header (user and key) info in my controller before endpoint call execution logic then how can I get that info?\r\n\r\nDoes it will work if i try to create header object and try to get?\r\n\r\nSpring basic security code and end point is already created","title":"Spring basic security (need to validate authentication info of consumer before call reach to endpoint.)","body":"<p>I have implemented spring basic security authentication mechanism along with rest api endpoint. Let's say if someone is consuming my endpoint by passing auth info (user, key) along with header and for some reason i want to validate that header (user and key) info in my controller before endpoint call execution logic then how can I get that info?</p>\n<p>Does it will work if i try to create header object and try to get?</p>\n<p>Spring basic security code and end point is already created</p>\n"},{"tags":["java","selenium-webdriver","google-cloud-platform"],"answers":[{"comments":[{"owner":{"account_id":27001885,"reputation":1266,"user_id":20563046,"display_name":"Kranthiveer Dontineni"},"score":0,"creation_date":1679987293,"post_id":75778000,"comment_id":133814800,"body_markdown":"@azhar is your issue resolved.. revert back if you are still facing the issues..","body":"@azhar is your issue resolved.. revert back if you are still facing the issues.."}],"tags":[],"owner":{"account_id":27001885,"reputation":1266,"user_id":20563046,"display_name":"Kranthiveer Dontineni"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679165623,"creation_date":1679165623,"answer_id":75778000,"question_id":75758684,"body_markdown":"According to the [**google official documentation**][1] first you need to follow a few steps.\r\n\r\n&gt; Enable secret manager API\r\n&gt; \r\n&gt; \r\n&gt; Assign the Secret Manager Admin role (roles/secretmanager.admin) on the project, folder, or organization.\r\n&gt; \r\n&gt; Set up a Java development environment and install the Secret Manager\r\n&gt; Java SDK. On Compute Engine or GKE, you must authenticate with the\r\n&gt; cloud-platform scope.\r\n\r\nThen by using `GetSecret.java` class you can access the secrets. This [**github repository**][2] contains a full list of classes available using this as a reference you can write your own snippets. Hope this will help you.\r\n\r\n  \r\n\r\n\r\n  [1]: https://cloud.google.com/secret-manager/docs/creating-and-accessing-secrets#secretmanager-create-secret-java\r\n  [2]: https://github.com/GoogleCloudPlatform/java-docs-samples/tree/e13fbccca9754d9da34463dd12212c66de809f03/secretmanager/src/main/java/secretmanager","title":"How to access gcloud secret using Java Selenium","body":"<p>According to the <a href=\"https://cloud.google.com/secret-manager/docs/creating-and-accessing-secrets#secretmanager-create-secret-java\" rel=\"nofollow noreferrer\"><strong>google official documentation</strong></a> first you need to follow a few steps.</p>\n<blockquote>\n<p>Enable secret manager API</p>\n<p>Assign the Secret Manager Admin role (roles/secretmanager.admin) on the project, folder, or organization.</p>\n<p>Set up a Java development environment and install the Secret Manager\nJava SDK. On Compute Engine or GKE, you must authenticate with the\ncloud-platform scope.</p>\n</blockquote>\n<p>Then by using <code>GetSecret.java</code> class you can access the secrets. This <a href=\"https://github.com/GoogleCloudPlatform/java-docs-samples/tree/e13fbccca9754d9da34463dd12212c66de809f03/secretmanager/src/main/java/secretmanager\" rel=\"nofollow noreferrer\"><strong>github repository</strong></a> contains a full list of classes available using this as a reference you can write your own snippets. Hope this will help you.</p>\n"}],"owner":{"account_id":16826535,"reputation":21,"user_id":12165687,"display_name":"Azhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679165623,"creation_date":1678982363,"question_id":75758684,"body_markdown":"I need to pick up client secrets from google cloud using below command.\r\n\r\n```\r\ngcloud secrets versions access latest --project=test --secret=test\r\n```\r\n\r\nHow do I run the same command using Java Code in my selenium tests\r\n","title":"How to access gcloud secret using Java Selenium","body":"<p>I need to pick up client secrets from google cloud using below command.</p>\n<pre><code>gcloud secrets versions access latest --project=test --secret=test\n</code></pre>\n<p>How do I run the same command using Java Code in my selenium tests</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1679164553,"post_id":75777879,"comment_id":133674041,"body_markdown":"Probably because integer arithmetic often results in 0 during division.  Switch to `double` please.","body":"Probably because integer arithmetic often results in 0 during division.  Switch to <code>double</code> please."},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":2,"creation_date":1679165093,"post_id":75777879,"comment_id":133674120,"body_markdown":"You are multiplying p, r and t, which are all integers. Thus, the result is an integer. Then you are dividing this integer by the integer 100. Because integers can&#39;t store floating point digits, java cuts them off. After java has already done that, you are assigning the calculated value to a double and lost the decimal places. Solution: Convert it to a double before doing the division. If one of the divisors is a double, java will convert the other one to a double, too. Simply calculate `(p * r * t) / 100d` or `(p * r * t) / 100.` or `(p * r * t) / 100.0`, they all use 100 as a double.","body":"You are multiplying p, r and t, which are all integers. Thus, the result is an integer. Then you are dividing this integer by the integer 100. Because integers can&#39;t store floating point digits, java cuts them off. After java has already done that, you are assigning the calculated value to a double and lost the decimal places. Solution: Convert it to a double before doing the division. If one of the divisors is a double, java will convert the other one to a double, too. Simply calculate <code>(p * r * t) &#47; 100d</code> or <code>(p * r * t) &#47; 100.</code> or <code>(p * r * t) &#47; 100.0</code>, they all use 100 as a double."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1679165132,"post_id":75777879,"comment_id":133674126,"body_markdown":"As an aside, I&#39;d strongly encourage you to put more time into thinking of meaningful names for both variables and classes - `ob`, `SI`, `CI`, `p`, `r`, and `t` are really non-descriptive. (`SimpleInterest`, `CompoundInterest`, `principle`, `rate`, and `years` would be much more meaningful names.)","body":"As an aside, I&#39;d strongly encourage you to put more time into thinking of meaningful names for both variables and classes - <code>ob</code>, <code>SI</code>, <code>CI</code>, <code>p</code>, <code>r</code>, and <code>t</code> are really non-descriptive. (<code>SimpleInterest</code>, <code>CompoundInterest</code>, <code>principle</code>, <code>rate</code>, and <code>years</code> would be much more meaningful names.)"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1679165289,"post_id":75777879,"comment_id":133674148,"body_markdown":"Next, in your `Interest.display` method, you&#39;re creating a new instance of `Interest`. You&#39;re populating the fields within that new instance - and then ignoring it. I would recommend you call it something entirely different (as it&#39;s *not* displaying the result), and set the fields on the instance it&#39;s called on, rather than a new one. Separate out the different aspects: 1) picking which Interest subclass to use; 2) populating the fields; 3) displaying the result.","body":"Next, in your <code>Interest.display</code> method, you&#39;re creating a new instance of <code>Interest</code>. You&#39;re populating the fields within that new instance - and then ignoring it. I would recommend you call it something entirely different (as it&#39;s <i>not</i> displaying the result), and set the fields on the instance it&#39;s called on, rather than a new one. Separate out the different aspects: 1) picking which Interest subclass to use; 2) populating the fields; 3) displaying the result."},{"owner":{"account_id":26822616,"reputation":43,"user_id":20411720,"display_name":"Zethyst"},"score":0,"creation_date":1679165621,"post_id":75777879,"comment_id":133674205,"body_markdown":"Thank you all for your suggestions. Helped me a lot.","body":"Thank you all for your suggestions. Helped me a lot."},{"owner":{"account_id":26822616,"reputation":43,"user_id":20411720,"display_name":"Zethyst"},"score":0,"creation_date":1679166034,"post_id":75777879,"comment_id":133674256,"body_markdown":"@Cactusroot I did but it&#39;s still not working.","body":"@Cactusroot I did but it&#39;s still not working."},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":0,"creation_date":1679166235,"post_id":75777879,"comment_id":133674277,"body_markdown":"Have you directly assigned the fields `Interest#display` instead of creating a seperate object and also switched to `100d` for the calculation in `CI#display`?","body":"Have you directly assigned the fields <code>Interest#display</code> instead of creating a seperate object and also switched to <code>100d</code> for the calculation in <code>CI#display</code>?"},{"owner":{"account_id":26822616,"reputation":43,"user_id":20411720,"display_name":"Zethyst"},"score":0,"creation_date":1679166400,"post_id":75777879,"comment_id":133674295,"body_markdown":"@Cactusroot Many thanks! I used different name for the Interest#display object and it worked like a charm.","body":"@Cactusroot Many thanks! I used different name for the Interest#display object and it worked like a charm."},{"owner":{"account_id":26822616,"reputation":43,"user_id":20411720,"display_name":"Zethyst"},"score":0,"creation_date":1679166490,"post_id":75777879,"comment_id":133674311,"body_markdown":"@Cactusroot My bad, it worked because I assigned default values in it. Is there a way to ask the user for the values here?","body":"@Cactusroot My bad, it worked because I assigned default values in it. Is there a way to ask the user for the values here?"},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":0,"creation_date":1679166588,"post_id":75777879,"comment_id":133674323,"body_markdown":"You don&#39;t need the object at all. Inside of the function `Interest#display` you are already in the scope of an `Interest` object! You can assign the variables directly without using `ob.` and remove the local variable `ob` completely.","body":"You don&#39;t need the object at all. Inside of the function <code>Interest#display</code> you are already in the scope of an <code>Interest</code> object! You can assign the variables directly without using <code>ob.</code> and remove the local variable <code>ob</code> completely."},{"owner":{"account_id":26822616,"reputation":43,"user_id":20411720,"display_name":"Zethyst"},"score":0,"creation_date":1679167079,"post_id":75777879,"comment_id":133674383,"body_markdown":"@Cactusroot Now I get it. I did because when I used to create main function inside the class it was not visible despite it being in the same class. Why was that though?","body":"@Cactusroot Now I get it. I did because when I used to create main function inside the class it was not visible despite it being in the same class. Why was that though?"},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":0,"creation_date":1679167501,"post_id":75777879,"comment_id":133674441,"body_markdown":"Ah, I see. That&#39;s because inside of the main function, there wasn&#39;t any object of the class Interest yet. A static function, like the main function, is a complete standalone function: You are not inside of the context/scope of any object. A function inside of the class is always called on an object of that class, like you do by calling `ob.display()`. The variable `ob` holds an object of that class, so when assigning the variables, you modify the variables of this object.","body":"Ah, I see. That&#39;s because inside of the main function, there wasn&#39;t any object of the class Interest yet. A static function, like the main function, is a complete standalone function: You are not inside of the context/scope of any object. A function inside of the class is always called on an object of that class, like you do by calling <code>ob.display()</code>. The variable <code>ob</code> holds an object of that class, so when assigning the variables, you modify the variables of this object."},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":0,"creation_date":1679167663,"post_id":75777879,"comment_id":133674463,"body_markdown":"The difference of modifying an object from a variable or from within the class is that within the class you can also access fields with the `private` visibility modifier. This is used to ensure that variables of objects cannot be arbitrarily changed from anywhere, you are trying to sustain an autonomy of an object. Since your variables don&#39;t have a visibility modifier, they are package private, so you can modify them from anything within your folder. This is why you could modify the variables from your main function.","body":"The difference of modifying an object from a variable or from within the class is that within the class you can also access fields with the <code>private</code> visibility modifier. This is used to ensure that variables of objects cannot be arbitrarily changed from anywhere, you are trying to sustain an autonomy of an object. Since your variables don&#39;t have a visibility modifier, they are package private, so you can modify them from anything within your folder. This is why you could modify the variables from your main function."}],"owner":{"account_id":26822616,"reputation":43,"user_id":20411720,"display_name":"Zethyst"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679164729,"answer_count":0,"score":0,"last_activity_date":1679164625,"creation_date":1679164171,"question_id":75777879,"body_markdown":"I have to use dynamic method dispatch but the interest is always coming &#39;zero&#39; no matter what I do with the data members.\r\n\r\nHere&#39;s the code:\r\n\r\n```\r\nimport java.util.*;\r\n\r\nclass Interest {\r\n    int p, r, t;\r\n\r\n    void display() {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;------Interest Calculation------&quot;);\r\n        Interest ob = new Interest();\r\n        System.out.print(&quot;Enter Principal Amount: &quot;);\r\n        ob.p = sc.nextInt();\r\n        System.out.print(&quot;Enter Rate of Interest: &quot;);\r\n        ob.r = sc.nextInt();\r\n        System.out.print(&quot;Enter Years: &quot;);\r\n        ob.t = sc.nextInt();\r\n    }\r\n}\r\n\r\nclass SI extends Interest {\r\n    void display() {\r\n        super.display();\r\n        double i = (p * r * t) / 100;\r\n        System.out.println(&quot;Simple Interest: &quot; + i);\r\n    }\r\n}\r\n\r\nclass CI extends Interest {\r\n    void display() {\r\n        super.display();\r\n        double i = Math.pow(p * (1 + r / 100), t) - p;\r\n        System.out.println(&quot;Compound Interest: &quot; + i);\r\n    }\r\n}\r\n\r\nclass Money {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n       Interest ob;\r\n        System.out.println(&quot;1. Simple Interest&quot;);\r\n        System.out.println(&quot;2. Compound Interest&quot;);\r\n        System.out.println(&quot;Enter your choice: &quot;);\r\n        int ch = sc.nextInt();\r\n        switch (ch) {\r\n            case 1:\r\n                ob = new SI();\r\n                ob.display();\r\n                break;\r\n\r\n            case 2:\r\n                ob = new CI();\r\n                ob.display();\r\n                break;\r\n\r\n            default:\r\n                System.out.println(&quot;Wrong Choice!&quot;);\r\n                break;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n1\\. Simple Interest\r\n\r\n2\\. Compound Interest\r\n\r\nEnter your choice:\r\n\r\n1\r\n\r\n\\------Interest Calculation------\r\n\r\nEnter Principal Amount: 4\r\n\r\nEnter Rate of Interest: 3\r\n\r\nEnter Years: 3\r\n\r\nSimple Interest: 0.0","title":"Why is interest coming zero?","body":"<p>I have to use dynamic method dispatch but the interest is always coming 'zero' no matter what I do with the data members.</p>\n<p>Here's the code:</p>\n<pre><code>import java.util.*;\n\nclass Interest {\n    int p, r, t;\n\n    void display() {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;------Interest Calculation------&quot;);\n        Interest ob = new Interest();\n        System.out.print(&quot;Enter Principal Amount: &quot;);\n        ob.p = sc.nextInt();\n        System.out.print(&quot;Enter Rate of Interest: &quot;);\n        ob.r = sc.nextInt();\n        System.out.print(&quot;Enter Years: &quot;);\n        ob.t = sc.nextInt();\n    }\n}\n\nclass SI extends Interest {\n    void display() {\n        super.display();\n        double i = (p * r * t) / 100;\n        System.out.println(&quot;Simple Interest: &quot; + i);\n    }\n}\n\nclass CI extends Interest {\n    void display() {\n        super.display();\n        double i = Math.pow(p * (1 + r / 100), t) - p;\n        System.out.println(&quot;Compound Interest: &quot; + i);\n    }\n}\n\nclass Money {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n       Interest ob;\n        System.out.println(&quot;1. Simple Interest&quot;);\n        System.out.println(&quot;2. Compound Interest&quot;);\n        System.out.println(&quot;Enter your choice: &quot;);\n        int ch = sc.nextInt();\n        switch (ch) {\n            case 1:\n                ob = new SI();\n                ob.display();\n                break;\n\n            case 2:\n                ob = new CI();\n                ob.display();\n                break;\n\n            default:\n                System.out.println(&quot;Wrong Choice!&quot;);\n                break;\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<p>1. Simple Interest</p>\n<p>2. Compound Interest</p>\n<p>Enter your choice:</p>\n<p>1</p>\n<p>------Interest Calculation------</p>\n<p>Enter Principal Amount: 4</p>\n<p>Enter Rate of Interest: 3</p>\n<p>Enter Years: 3</p>\n<p>Simple Interest: 0.0</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1679163943,"post_id":75777832,"comment_id":133673934,"body_markdown":"You should create a list of `Fencers` and serialize that, instead of serializing individual objects and concatenating them.","body":"You should create a list of <code>Fencers</code> and serialize that, instead of serializing individual objects and concatenating them."},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1679163976,"post_id":75777832,"comment_id":133673942,"body_markdown":"Surely you need to put your objects in a collection and convert that to JSON?","body":"Surely you need to put your objects in a collection and convert that to JSON?"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679164063,"creation_date":1679164063,"answer_id":75777863,"question_id":75777832,"body_markdown":"You need to collect the elements in a collection (or just array).\r\n```\r\nFencers fencer1 = new Fencers(&quot;m&quot;,&quot;egy&quot;,100);\r\nFencers fencer2 = new Fencers(&quot;342&quot;,&quot;egy&quot;,120);\r\nList&lt;Fencers&gt; list = Arrays.asList(fencer1, fencer2);\r\nString json = new Gson().toJson(list);\r\nSystem.out.println(json);\r\n```","title":"how to reformat a json file in java","body":"<p>You need to collect the elements in a collection (or just array).</p>\n<pre><code>Fencers fencer1 = new Fencers(&quot;m&quot;,&quot;egy&quot;,100);\nFencers fencer2 = new Fencers(&quot;342&quot;,&quot;egy&quot;,120);\nList&lt;Fencers&gt; list = Arrays.asList(fencer1, fencer2);\nString json = new Gson().toJson(list);\nSystem.out.println(json);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1679182435,"post_id":75777865,"comment_id":133676221,"body_markdown":"Also, for pretty printing `new Gson()` has to be replaced with `new GsonBuilder().setPrettyPrinting().create()`","body":"Also, for pretty printing <code>new Gson()</code> has to be replaced with <code>new GsonBuilder().setPrettyPrinting().create()</code>"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679164074,"creation_date":1679164074,"answer_id":75777865,"question_id":75777832,"body_markdown":"Try this:\r\n\r\n    public static void main(String[] args){\r\n            Fencers fencer1 = new Fencers(&quot;m&quot;,&quot;egy&quot;,100);\r\n            Fencers fencer2 = new Fencers(&quot;342&quot;,&quot;egy&quot;,120);\r\n            List&lt;Fencers&gt; fencerList = new ArrayList&lt;&gt;();\r\n            fencerList.add(fencer1);\r\n            fencerList.add(fencer2);\r\n            String json = new Gson().toJson(fencerList);\r\n            System.out.println(json);\r\n         \r\n        }","title":"how to reformat a json file in java","body":"<p>Try this:</p>\n<pre><code>public static void main(String[] args){\n        Fencers fencer1 = new Fencers(&quot;m&quot;,&quot;egy&quot;,100);\n        Fencers fencer2 = new Fencers(&quot;342&quot;,&quot;egy&quot;,120);\n        List&lt;Fencers&gt; fencerList = new ArrayList&lt;&gt;();\n        fencerList.add(fencer1);\n        fencerList.add(fencer2);\n        String json = new Gson().toJson(fencerList);\n        System.out.println(json);\n     \n    }\n</code></pre>\n"}],"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75777865,"answer_count":2,"score":1,"last_activity_date":1679164074,"creation_date":1679163605,"question_id":75777832,"body_markdown":"Okay so this is my code --&gt;\r\nfirst we have a normal class:\r\n\r\n```\r\npublic class Fencers{\r\n    private String name,nation;\r\n    private int id;\r\n\r\n    public Fencers(String name, String nation,int id) {\r\n        this.name = name;\r\n        this.nation = nation;\r\n        this.id = id;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return\r\n                id+&quot; &quot;+name+&quot; &quot;+nation+&quot;\\n&quot;;\r\n    }\r\n}\r\n```\r\nthen this is my main class trying to convert every class object to a json file using GSON\r\n```\r\nclass Main{\r\n    public static void main(String[] args){\r\n        Fencers fencer1 = new Fencers(&quot;m&quot;,&quot;egy&quot;,100);\r\n        Fencers fencer2 = new Fencers(&quot;342&quot;,&quot;egy&quot;,120);\r\n        String json = new Gson().toJson(fencer1);\r\n        json += new Gson().toJson(fencer2);\r\n        System.out.println(json);\r\n     \r\n    }\r\n}\r\n```\r\nthe only problem here is it prints ```json``` like this: \r\n```\r\n{\r\n  &quot;name&quot;:&quot;m&quot;,\r\n  &quot;nation&quot;:&quot;egy&quot;,\r\n  &quot;id&quot;:100\r\n}\r\n{&quot;name&quot;:&quot;342&quot;,\r\n  &quot;nation&quot;:&quot;egy&quot;,\r\n  &quot;id&quot;:120\r\n}\r\n```\r\nand I want them to be like this\r\n```\r\n[\r\n {\r\n  &quot;name&quot;:&quot;m&quot;,\r\n  &quot;nation&quot;:&quot;egy&quot;,\r\n   &quot;id&quot;:100\r\n  },\r\n  {\r\n   &quot;name&quot;:&quot;342&quot;,\r\n   &quot;nation&quot;:&quot;egy&quot;,\r\n   &quot;id&quot;:120\r\n }\r\n]\r\n```\r\nreally appreciate the help \r\n\r\n","title":"how to reformat a json file in java","body":"<p>Okay so this is my code --&gt;\nfirst we have a normal class:</p>\n<pre><code>public class Fencers{\n    private String name,nation;\n    private int id;\n\n    public Fencers(String name, String nation,int id) {\n        this.name = name;\n        this.nation = nation;\n        this.id = id;\n    }\n\n    @Override\n    public String toString() {\n        return\n                id+&quot; &quot;+name+&quot; &quot;+nation+&quot;\\n&quot;;\n    }\n}\n</code></pre>\n<p>then this is my main class trying to convert every class object to a json file using GSON</p>\n<pre><code>class Main{\n    public static void main(String[] args){\n        Fencers fencer1 = new Fencers(&quot;m&quot;,&quot;egy&quot;,100);\n        Fencers fencer2 = new Fencers(&quot;342&quot;,&quot;egy&quot;,120);\n        String json = new Gson().toJson(fencer1);\n        json += new Gson().toJson(fencer2);\n        System.out.println(json);\n     \n    }\n}\n</code></pre>\n<p>the only problem here is it prints <code>json</code> like this:</p>\n<pre><code>{\n  &quot;name&quot;:&quot;m&quot;,\n  &quot;nation&quot;:&quot;egy&quot;,\n  &quot;id&quot;:100\n}\n{&quot;name&quot;:&quot;342&quot;,\n  &quot;nation&quot;:&quot;egy&quot;,\n  &quot;id&quot;:120\n}\n</code></pre>\n<p>and I want them to be like this</p>\n<pre><code>[\n {\n  &quot;name&quot;:&quot;m&quot;,\n  &quot;nation&quot;:&quot;egy&quot;,\n   &quot;id&quot;:100\n  },\n  {\n   &quot;name&quot;:&quot;342&quot;,\n   &quot;nation&quot;:&quot;egy&quot;,\n   &quot;id&quot;:120\n }\n]\n</code></pre>\n<p>really appreciate the help</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9660,"page":565,"page_size":100}
