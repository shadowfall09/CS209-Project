{"items":[{"tags":["java","android","eclipse","proguard"],"answers":[{"tags":[],"owner":{"account_id":1813395,"reputation":5057,"user_id":1649021,"accept_rate":82,"display_name":"Mark Molina"},"down_vote_count":2,"up_vote_count":63,"is_accepted":true,"score":61,"last_activity_date":1364897328,"creation_date":1364897328,"answer_id":15761408,"question_id":15760581,"body_markdown":"fixed:\r\n\r\n    -keep class com.facebook.** {\r\n       *;\r\n    }\r\n\r\ninstead of:\r\n\r\n    -keepattributes Signature\r\n    -keep class com.facebook.android.*\r\n    -keep class android.webkit.WebViewClient\r\n    -keep class * extends android.webkit.WebViewClient\r\n    -keepclassmembers class * extends android.webkit.WebViewClient { \r\n        &lt;methods&gt;; \r\n    }\r\n\r\nAlso be sure to check your hash key in your facebook app settings.\r\n\r\n","title":"Android ProGuard settings for Facebook","body":"<p>fixed:</p>\n\n<pre><code>-keep class com.facebook.** {\n   *;\n}\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>-keepattributes Signature\n-keep class com.facebook.android.*\n-keep class android.webkit.WebViewClient\n-keep class * extends android.webkit.WebViewClient\n-keepclassmembers class * extends android.webkit.WebViewClient { \n    &lt;methods&gt;; \n}\n</code></pre>\n\n<p>Also be sure to check your hash key in your facebook app settings.</p>\n"},{"tags":[],"owner":{"account_id":2100971,"reputation":1172,"user_id":1868600,"display_name":"Parmaia"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1380730953,"creation_date":1380730953,"answer_id":19141837,"question_id":15760581,"body_markdown":"In my case your solution\r\n\r\n\r\n    -keep class com.facebook.** {\r\n       *;\r\n    }\r\n\r\nworks, but I had to keep\r\n\r\n\r\n    -keepattributes Signature\r\n\r\nIn order to get everything working.","title":"Android ProGuard settings for Facebook","body":"<p>In my case your solution</p>\n\n<pre><code>-keep class com.facebook.** {\n   *;\n}\n</code></pre>\n\n<p>works, but I had to keep</p>\n\n<pre><code>-keepattributes Signature\n</code></pre>\n\n<p>In order to get everything working.</p>\n"},{"tags":[],"owner":{"account_id":20590715,"reputation":505,"user_id":15114454,"display_name":"Hesham Yemen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664755235,"creation_date":1664755235,"answer_id":73930117,"question_id":15760581,"body_markdown":"I solved this problem by adding\r\n\r\n    implementation &#39;androidx.annotation:annotation:1.0.0&#39;\r\n\r\nreference : \r\n[Add the Audience Network SDK to your Android App][1]\r\n\r\n\r\n  [1]: https://developers.facebook.com/docs/audience-network/setting-up/platform-setup/android/add-sdk","title":"Android ProGuard settings for Facebook","body":"<p>I solved this problem by adding</p>\n<pre><code>implementation 'androidx.annotation:annotation:1.0.0'\n</code></pre>\n<p>reference :\n<a href=\"https://developers.facebook.com/docs/audience-network/setting-up/platform-setup/android/add-sdk\" rel=\"nofollow noreferrer\">Add the Audience Network SDK to your Android App</a></p>\n"}],"owner":{"account_id":1813395,"reputation":5057,"user_id":1649021,"accept_rate":82,"display_name":"Mark Molina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20872,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":15761408,"answer_count":3,"score":29,"last_activity_date":1664755235,"creation_date":1364894911,"question_id":15760581,"body_markdown":"I finally found out why my app crashes built for release. ProGuard was indeed stripping code from my application but i prevented this by manually adding the classes with the keep command in the proguard-android.txt (found in the sdk).\r\n\r\nFor Facebook I used:\r\n\r\n    -keep class com.facebook.android.*\r\n    -keep class android.webkit.WebViewClient\r\n    -keep class * extends android.webkit.WebViewClient\r\n    -keepclassmembers class * extends android.webkit.WebViewClient { \r\n        &lt;methods&gt;; \r\n    }\r\n\r\nBut I think I&#39;m still missing something. The app is crash free now but I can&#39;t log in to Facebook and use Open Graph. When I built in debug mode this all works fine.\r\n\r\nWhat are your proguard settings for using Facebook and Facebook&#39;s Open Graph?\r\n\r\n**EDIT**\r\n\r\nThis are my manually added commands for ProGuard:\r\n\r\n    -dontwarn android.support.**\r\n    \r\n    # ActionBarSherlock \r\n    \r\n    -keep class android.support.** { *; } \r\n    \r\n    -keep interface android.support.** { *; } \r\n    \r\n    -keep class com.actionbarsherlock.** { *; } \r\n    \r\n    -keep interface com.actionbarsherlock.** { *; } \r\n    \r\n    \r\n    \r\n    \r\n    # Keep line numbers to alleviate debugging stack traces \r\n    \r\n    -renamesourcefileattribute SourceFile \r\n    \r\n    -keepattributes SourceFile,LineNumberTable\r\n    \r\n    -keepclassmembers class * implements java.io.Serializable\r\n    {\r\n        private static final java.io.ObjectStreamField[] serialPersistentFields;\r\n        private void writeObject(java.io.ObjectOutputStream);\r\n        private void readObject(java.io.ObjectInputStream);\r\n        java.lang.Object writeReplace();\r\n        java.lang.Object readResolve();\r\n    }\r\n    \r\n    -keep class com.facebook.android.*\r\n    -keep class android.webkit.WebViewClient\r\n    -keep class * extends android.webkit.WebViewClient\r\n    -keepclassmembers class * extends android.webkit.WebViewClient { \r\n        &lt;methods&gt;; \r\n    }\r\n\r\n\r\n**EDIT 2**\r\nSo the problem for not logging in was that I used my debug hash key instead of my release hash key. Changed that in my app settings (developers.facebook.com) and found out that my app finally logs in but crashes after login.\r\n\r\nDont know if this still is a ProGuard problem but it returned this error:\r\n\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): FATAL EXCEPTION: main\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): com.facebook.ab: com.facebook.b.e got an unexpected method signature: public abstract com.facebook.b.b com.facebook.b.b.a(java.lang.Class)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.facebook.b.f.a(SourceFile:400)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.facebook.b.e.b(SourceFile:546)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.facebook.b.e.invoke(SourceFile:470)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat $Proxy1.a(Native Method)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.facebook.bb.a(SourceFile:124)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.facebook.ar.a(SourceFile:264)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.facebook.as.run(SourceFile:1240)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat android.os.Handler.handleCallback(Handler.java:615)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat android.os.Handler.dispatchMessage(Handler.java:92)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat android.os.Looper.loop(Looper.java:137)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat android.app.ActivityThread.main(ActivityThread.java:4931)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat java.lang.reflect.Method.invoke(Method.java:511)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:791)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:558)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat dalvik.system.NativeStart.main(Native Method)\r\n    04-02 11:47:31.820: W/ActivityManager(2130):   Force finishing activity com.xxxxx.xxxx/com.xxxxx.views.MainActivity\r\n    04-02 11:47:32.360: W/ActivityManager(2130): Activity pause timeout for ActivityRecord{4289ca58 com.xxxxx.xxxxx/com.xxxxx.xxxxx.MainActivity}","title":"Android ProGuard settings for Facebook","body":"<p>I finally found out why my app crashes built for release. ProGuard was indeed stripping code from my application but i prevented this by manually adding the classes with the keep command in the proguard-android.txt (found in the sdk).</p>\n\n<p>For Facebook I used:</p>\n\n<pre><code>-keep class com.facebook.android.*\n-keep class android.webkit.WebViewClient\n-keep class * extends android.webkit.WebViewClient\n-keepclassmembers class * extends android.webkit.WebViewClient { \n    &lt;methods&gt;; \n}\n</code></pre>\n\n<p>But I think I'm still missing something. The app is crash free now but I can't log in to Facebook and use Open Graph. When I built in debug mode this all works fine.</p>\n\n<p>What are your proguard settings for using Facebook and Facebook's Open Graph?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>This are my manually added commands for ProGuard:</p>\n\n<pre><code>-dontwarn android.support.**\n\n# ActionBarSherlock \n\n-keep class android.support.** { *; } \n\n-keep interface android.support.** { *; } \n\n-keep class com.actionbarsherlock.** { *; } \n\n-keep interface com.actionbarsherlock.** { *; } \n\n\n\n\n# Keep line numbers to alleviate debugging stack traces \n\n-renamesourcefileattribute SourceFile \n\n-keepattributes SourceFile,LineNumberTable\n\n-keepclassmembers class * implements java.io.Serializable\n{\n    private static final java.io.ObjectStreamField[] serialPersistentFields;\n    private void writeObject(java.io.ObjectOutputStream);\n    private void readObject(java.io.ObjectInputStream);\n    java.lang.Object writeReplace();\n    java.lang.Object readResolve();\n}\n\n-keep class com.facebook.android.*\n-keep class android.webkit.WebViewClient\n-keep class * extends android.webkit.WebViewClient\n-keepclassmembers class * extends android.webkit.WebViewClient { \n    &lt;methods&gt;; \n}\n</code></pre>\n\n<p><strong>EDIT 2</strong>\nSo the problem for not logging in was that I used my debug hash key instead of my release hash key. Changed that in my app settings (developers.facebook.com) and found out that my app finally logs in but crashes after login.</p>\n\n<p>Dont know if this still is a ProGuard problem but it returned this error:</p>\n\n<pre><code>04-02 11:47:31.815: E/AndroidRuntime(9093): FATAL EXCEPTION: main\n04-02 11:47:31.815: E/AndroidRuntime(9093): com.facebook.ab: com.facebook.b.e got an unexpected method signature: public abstract com.facebook.b.b com.facebook.b.b.a(java.lang.Class)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.facebook.b.f.a(SourceFile:400)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.facebook.b.e.b(SourceFile:546)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.facebook.b.e.invoke(SourceFile:470)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at $Proxy1.a(Native Method)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.facebook.bb.a(SourceFile:124)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.facebook.ar.a(SourceFile:264)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.facebook.as.run(SourceFile:1240)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at android.os.Handler.handleCallback(Handler.java:615)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at android.os.Handler.dispatchMessage(Handler.java:92)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at android.os.Looper.loop(Looper.java:137)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at android.app.ActivityThread.main(ActivityThread.java:4931)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at java.lang.reflect.Method.invokeNative(Native Method)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at java.lang.reflect.Method.invoke(Method.java:511)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:791)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:558)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at dalvik.system.NativeStart.main(Native Method)\n04-02 11:47:31.820: W/ActivityManager(2130):   Force finishing activity com.xxxxx.xxxx/com.xxxxx.views.MainActivity\n04-02 11:47:32.360: W/ActivityManager(2130): Activity pause timeout for ActivityRecord{4289ca58 com.xxxxx.xxxxx/com.xxxxx.xxxxx.MainActivity}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1664752537,"post_id":73929884,"comment_id":130537807,"body_markdown":"Yes, the code you&#39;ve pasted only works on n x n 2D arrays. Do you want to write a more general method?","body":"Yes, the code you&#39;ve pasted only works on n x n 2D arrays. Do you want to write a more general method?"},{"owner":{"account_id":2900748,"reputation":4538,"user_id":2487517,"accept_rate":57,"display_name":"Tibrogargan"},"score":0,"creation_date":1664752984,"post_id":73929884,"comment_id":130537868,"body_markdown":"It is highly likely that the code here is intended to work on Matrices (i.e The 2nd dimension arrays all have the same number of columns), rather than irregular 2D Arrays, especially as the word &quot;column&quot; is used.","body":"It is highly likely that the code here is intended to work on Matrices (i.e The 2nd dimension arrays all have the same number of columns), rather than irregular 2D Arrays, especially as the word &quot;column&quot; is used."}],"answers":[{"tags":[],"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664752635,"creation_date":1664752635,"answer_id":73929981,"question_id":73929884,"body_markdown":"The following function should work (explanation below):\r\n\r\n    public static int largestColumn(int[][] values){\r\n        int maxLength = 0;\r\n        for(int i = 0; i &lt; values.length; i++){\r\n          if(values[i].length &gt; maxLength){\r\n            maxLength = values[i].length;\r\n          }\r\n        }\r\n        int maxSum = 0;\r\n        int maxInd = 0;\r\n        for(int i = 0; i &lt; maxLength; i++){\r\n          int currSum = 0;\r\n          for(int j = 0; j &lt; values.length; j++){\r\n            if(values[j].length &gt; i){\r\n              currSum += values[j][i];\r\n            }\r\n          }\r\n          if(maxSum &lt; currSum){\r\n            maxSum = currSum;\r\n            maxInd = i;\r\n          }\r\n        }\r\n        return maxInd;\r\n      }\r\n\r\nInput #1:\r\n\r\n      public static void main(String[] args) {\r\n        int[][] values =  { \r\n                        { 17, 13, 19, 22 }, \r\n                        { 12, 18, 25, 20 }, \r\n                        { 15, 18, 21, 24 }, \r\n                        { 19, 23, 23, 22 },\r\n                        { 18, 20, 21, 26} \r\n                      };\r\n        System.out.println(largestColumn(values));\r\n      }\r\n\r\nOutput:\r\n\r\n    3\r\n\r\nInput #2:\r\n\r\n      public static void main(String[] args) {\r\n        int[][] values =  { \r\n                        { 17, 13, 19, 22 }, \r\n                        { 12, 18, 25, 20 }, \r\n                        { 15, 18, 21, 24 }, \r\n                        { 19, 23, 23, 22 },\r\n                        { 18, 20, 21, 26, 1000, 500} \r\n                      };\r\n        System.out.println(largestColumn(values));\r\n      }\r\n\r\nOutput:\r\n\r\n    4\r\n\r\nFirst, we need to determine what the largest length of any row is. By simply traversing through every low and using a maximum algorithm, we can store the length of the largest row of `values` in `maxLength`.\r\n\r\nNext, we iterate through all of the columns by having the variable, `i`, iterate from `0` to `maxLength`. In every column `i`, we add up the values in the `i`&#39;th column, and store the value in `currSum`. When we reach a new maximum sum, we store the value in `maxSum` and the index in `maxInd`. \r\n\r\nHowever, as you noticed, if `values` is not an nxn grid, we may get an out of bounds error. This is why we add an extra conditional to check if the `j`th row we are iterating through when calculating the sum has an `i`th column.\r\n\r\nI hope this helped! Please let me know if you need any further help or clarification :)","title":"Finding the column with the largest column sum in a 2D array with non-uniform rows","body":"<p>The following function should work (explanation below):</p>\n<pre><code>public static int largestColumn(int[][] values){\n    int maxLength = 0;\n    for(int i = 0; i &lt; values.length; i++){\n      if(values[i].length &gt; maxLength){\n        maxLength = values[i].length;\n      }\n    }\n    int maxSum = 0;\n    int maxInd = 0;\n    for(int i = 0; i &lt; maxLength; i++){\n      int currSum = 0;\n      for(int j = 0; j &lt; values.length; j++){\n        if(values[j].length &gt; i){\n          currSum += values[j][i];\n        }\n      }\n      if(maxSum &lt; currSum){\n        maxSum = currSum;\n        maxInd = i;\n      }\n    }\n    return maxInd;\n  }\n</code></pre>\n<p>Input #1:</p>\n<pre><code>  public static void main(String[] args) {\n    int[][] values =  { \n                    { 17, 13, 19, 22 }, \n                    { 12, 18, 25, 20 }, \n                    { 15, 18, 21, 24 }, \n                    { 19, 23, 23, 22 },\n                    { 18, 20, 21, 26} \n                  };\n    System.out.println(largestColumn(values));\n  }\n</code></pre>\n<p>Output:</p>\n<pre><code>3\n</code></pre>\n<p>Input #2:</p>\n<pre><code>  public static void main(String[] args) {\n    int[][] values =  { \n                    { 17, 13, 19, 22 }, \n                    { 12, 18, 25, 20 }, \n                    { 15, 18, 21, 24 }, \n                    { 19, 23, 23, 22 },\n                    { 18, 20, 21, 26, 1000, 500} \n                  };\n    System.out.println(largestColumn(values));\n  }\n</code></pre>\n<p>Output:</p>\n<pre><code>4\n</code></pre>\n<p>First, we need to determine what the largest length of any row is. By simply traversing through every low and using a maximum algorithm, we can store the length of the largest row of <code>values</code> in <code>maxLength</code>.</p>\n<p>Next, we iterate through all of the columns by having the variable, <code>i</code>, iterate from <code>0</code> to <code>maxLength</code>. In every column <code>i</code>, we add up the values in the <code>i</code>'th column, and store the value in <code>currSum</code>. When we reach a new maximum sum, we store the value in <code>maxSum</code> and the index in <code>maxInd</code>.</p>\n<p>However, as you noticed, if <code>values</code> is not an nxn grid, we may get an out of bounds error. This is why we add an extra conditional to check if the <code>j</code>th row we are iterating through when calculating the sum has an <code>i</code>th column.</p>\n<p>I hope this helped! Please let me know if you need any further help or clarification :)</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664754526,"creation_date":1664754526,"answer_id":73930075,"question_id":73929884,"body_markdown":"A Two Dimensional Array in Java is an **Array of Arrays** and those inner arrays can be any length.\r\n\r\nTo read a 2D Array, read the Row then the columns of that row. A row is in the horizontal plane of the Matrix and the columns are in the vertical plain on the matrix, just like looking at a data table\r\n\r\nIn the following non-square matrix:\r\n\r\n    int[][] values = {//C0  C1  C2  C3   C4   C5  \r\n                      { 17, 13, 19, 22 },           // Row 0\r\n                      { 12, 18, 25, 20 },           // Row 1\r\n                      { 15, 18, 21, 24 },           // Row 2  \r\n                      { 19, 23, 23, 22 },           // Row 3\r\n                      { 18, 20, 21, 26, 1000, 500}, // Row 4\r\n                      { 27, 28, 29}                 // Row 5  \r\n                     };\r\n\r\nthe first row (row 0) consists of: `17, 13, 19, 22`, the second row (row 1) consists of: `12, 18, 25, 20`, and so on. In Row 0 the `17` is column 0, 13 is column 1, 19 is column 2, and so on.\r\n\r\nTo find Array with the greatest number of columns within the above 2D Array, you can do this:\r\n\r\n    int[][] values = { \r\n                      { 17, 13, 19, 22 }, \r\n                      { 12, 18, 25, 20 }, \r\n                      { 15, 18, 21, 24 }, \r\n                      { 19, 23, 23, 22 },\r\n                      { 18, 20, 21, 26, 1000, 500},\r\n                      { 27, 28, 29}\r\n                    };\r\n        \r\n    System.out.println(&quot;The 2D Array:&quot;);\r\n\r\n    int maxLen = values[0].length;\r\n    int indexOfMax = -1;\r\n        \r\n    for (int i = 0; i &lt; values.length; i++) {\r\n        System.out.println(Arrays.toString(values[i]));\r\n        if (values[i].length &gt; maxLen) {\r\n            maxLen = values[i].length;\r\n            indexOfMax = i;\r\n        }\r\n    }\r\n        \r\n    System.out.println();\r\n    System.out.println(&quot;Literal Row #&quot; + (indexOfMax + 1) + &quot; (index: &quot; \r\n                     + indexOfMax + &quot;) has the\\ngreatest number columns: &quot; \r\n                     + maxLen);\r\n    System.out.println(Arrays.toString(values[indexOfMax]));\r\n\r\nThe Console Window should display:\r\n\r\n```\r\nThe 2D Array:\r\n[17, 13, 19, 22]\r\n[12, 18, 25, 20]\r\n[15, 18, 21, 24]\r\n[19, 23, 23, 22]\r\n[18, 20, 21, 26, 1000, 500]\r\n[27, 28, 29]\r\n\r\nLiteral Row #5 (index: 4) has the\r\ngreatest number columns: 6\r\n[18, 20, 21, 26, 1000, 500]\r\n```\r\n","title":"Finding the column with the largest column sum in a 2D array with non-uniform rows","body":"<p>A Two Dimensional Array in Java is an <strong>Array of Arrays</strong> and those inner arrays can be any length.</p>\n<p>To read a 2D Array, read the Row then the columns of that row. A row is in the horizontal plane of the Matrix and the columns are in the vertical plain on the matrix, just like looking at a data table</p>\n<p>In the following non-square matrix:</p>\n<pre><code>int[][] values = {//C0  C1  C2  C3   C4   C5  \n                  { 17, 13, 19, 22 },           // Row 0\n                  { 12, 18, 25, 20 },           // Row 1\n                  { 15, 18, 21, 24 },           // Row 2  \n                  { 19, 23, 23, 22 },           // Row 3\n                  { 18, 20, 21, 26, 1000, 500}, // Row 4\n                  { 27, 28, 29}                 // Row 5  \n                 };\n</code></pre>\n<p>the first row (row 0) consists of: <code>17, 13, 19, 22</code>, the second row (row 1) consists of: <code>12, 18, 25, 20</code>, and so on. In Row 0 the <code>17</code> is column 0, 13 is column 1, 19 is column 2, and so on.</p>\n<p>To find Array with the greatest number of columns within the above 2D Array, you can do this:</p>\n<pre><code>int[][] values = { \n                  { 17, 13, 19, 22 }, \n                  { 12, 18, 25, 20 }, \n                  { 15, 18, 21, 24 }, \n                  { 19, 23, 23, 22 },\n                  { 18, 20, 21, 26, 1000, 500},\n                  { 27, 28, 29}\n                };\n    \nSystem.out.println(&quot;The 2D Array:&quot;);\n\nint maxLen = values[0].length;\nint indexOfMax = -1;\n    \nfor (int i = 0; i &lt; values.length; i++) {\n    System.out.println(Arrays.toString(values[i]));\n    if (values[i].length &gt; maxLen) {\n        maxLen = values[i].length;\n        indexOfMax = i;\n    }\n}\n    \nSystem.out.println();\nSystem.out.println(&quot;Literal Row #&quot; + (indexOfMax + 1) + &quot; (index: &quot; \n                 + indexOfMax + &quot;) has the\\ngreatest number columns: &quot; \n                 + maxLen);\nSystem.out.println(Arrays.toString(values[indexOfMax]));\n</code></pre>\n<p>The Console Window should display:</p>\n<pre><code>The 2D Array:\n[17, 13, 19, 22]\n[12, 18, 25, 20]\n[15, 18, 21, 24]\n[19, 23, 23, 22]\n[18, 20, 21, 26, 1000, 500]\n[27, 28, 29]\n\nLiteral Row #5 (index: 4) has the\ngreatest number columns: 6\n[18, 20, 21, 26, 1000, 500]\n</code></pre>\n"}],"owner":{"account_id":9251797,"reputation":21,"user_id":12417458,"display_name":"codetechie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664754526,"creation_date":1664751186,"question_id":73929884,"body_markdown":"I&#39;m trying to understand this 2D Arrays and just read this code and problem on CodeCademy. It seems like the logic is wrong. Why is it limiting the outer pass into arr[0].length only? What if it&#39;s not an equal n x n dimensions? \r\n\r\nAre 2D arrays supposed to have an equal n x n dimension?\r\n\r\n```java\r\n\r\nclass Name {\r\n\r\npublic static int largestColumn(int[][] nums){\r\n\t\tint largestColumn = 0;\r\n\t\tint largestSum = 0;\r\n\r\n\t\tfor (int i = 0; i &lt; arr2D[0].length; i++) {\r\n\r\n\t\t\tint columnVal = 0;\r\n\t\t\tfor (int j = 0; j &lt; arr2D.length; j++) {\r\n\r\n\t\t\t\tcolumnVal += arr2D[j][i];\r\n\t\t\t}\r\n\r\n\t\t\tif (columnVal &gt; largestSum) {\r\n\t\t\t\tlargestSum = columnVal;\r\n\t\t\t\tlargestColumn = i;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn largestColumn;\r\n\r\n}\r\n\r\n   public static void main(String[] args){\r\n       int[][] values =  { \r\n                          { 17, 13, 19, 22 }, \r\n                          { 12, 18, 25, 20 }, \r\n                          { 15, 18, 21, 24 }, \r\n                          { 19, 23, 23, 22 },\r\n\t\t\t\t          { 18, 20, 21, 26} \r\n                         };\r\n\r\n       System.out.println(largestColumn(values)); // 3\r\n   }\r\n\r\n}\r\n\r\n```\r\n\r\nbut what if you have these in the as values?\r\n```java\r\nint[][] values =  { \r\n                    { 17, 13, 19, 22 }, \r\n                    { 12, 18, 25, 20 }, \r\n                    { 15, 18, 21, 24 }, \r\n                    { 19, 23, 23, 22 },\r\n                    { 18, 20, 21, 26, 1000, 500} \r\n                  };\r\n```\r\n\r\nObviously, column 4 will be the largest. but with the solution above, with arr[0].length as the first pass max, it won&#39;t pass through col 4 and col 5 as the max first pass would be **&lt; 3**.\r\n\r\nI checked the lengths of the 2nd 2D array values, 2D arrays are not self filling if you fill another array[i] with more elements (maybe just in Java since it&#39;s fixed?)\r\n\r\nAny help would be appreciated, thanks!\r\n","title":"Finding the column with the largest column sum in a 2D array with non-uniform rows","body":"<p>I'm trying to understand this 2D Arrays and just read this code and problem on CodeCademy. It seems like the logic is wrong. Why is it limiting the outer pass into arr[0].length only? What if it's not an equal n x n dimensions?</p>\n<p>Are 2D arrays supposed to have an equal n x n dimension?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass Name {\n\npublic static int largestColumn(int[][] nums){\n        int largestColumn = 0;\n        int largestSum = 0;\n\n        for (int i = 0; i &lt; arr2D[0].length; i++) {\n\n            int columnVal = 0;\n            for (int j = 0; j &lt; arr2D.length; j++) {\n\n                columnVal += arr2D[j][i];\n            }\n\n            if (columnVal &gt; largestSum) {\n                largestSum = columnVal;\n                largestColumn = i;\n            }\n\n        }\n\n        return largestColumn;\n\n}\n\n   public static void main(String[] args){\n       int[][] values =  { \n                          { 17, 13, 19, 22 }, \n                          { 12, 18, 25, 20 }, \n                          { 15, 18, 21, 24 }, \n                          { 19, 23, 23, 22 },\n                          { 18, 20, 21, 26} \n                         };\n\n       System.out.println(largestColumn(values)); // 3\n   }\n\n}\n\n</code></pre>\n<p>but what if you have these in the as values?</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[][] values =  { \n                    { 17, 13, 19, 22 }, \n                    { 12, 18, 25, 20 }, \n                    { 15, 18, 21, 24 }, \n                    { 19, 23, 23, 22 },\n                    { 18, 20, 21, 26, 1000, 500} \n                  };\n</code></pre>\n<p>Obviously, column 4 will be the largest. but with the solution above, with arr[0].length as the first pass max, it won't pass through col 4 and col 5 as the max first pass would be <strong>&lt; 3</strong>.</p>\n<p>I checked the lengths of the 2nd 2D array values, 2D arrays are not self filling if you fill another array[i] with more elements (maybe just in Java since it's fixed?)</p>\n<p>Any help would be appreciated, thanks!</p>\n"},{"tags":["java","android","arraylist"],"answers":[{"tags":[],"owner":{"account_id":4454314,"reputation":16,"user_id":3625139,"display_name":"molok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664753314,"creation_date":1664753314,"answer_id":73930016,"question_id":73929917,"body_markdown":"Looks to me that You use wrong indexes for substring.\r\n\r\nSubstring method second parameter is not count of chars to take but **endIndex**.\r\n\r\nWe can find relevant info in javadoc of String.substring :\r\n\r\n    public String substring(int beginIndex, int endIndex)\r\n\r\n&gt; beginIndex - the beginning index, inclusive.\r\n&gt;\r\n&gt; endIndex - the ending index, exclusive.\r\n\r\n","title":"App crashes when adding to an ArrayList in a for loop after first succeeful add","body":"<p>Looks to me that You use wrong indexes for substring.</p>\n<p>Substring method second parameter is not count of chars to take but <strong>endIndex</strong>.</p>\n<p>We can find relevant info in javadoc of String.substring :</p>\n<pre><code>public String substring(int beginIndex, int endIndex)\n</code></pre>\n<blockquote>\n<p>beginIndex - the beginning index, inclusive.</p>\n<p>endIndex - the ending index, exclusive.</p>\n</blockquote>\n"}],"owner":{"display_name":"user16458899"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73930016,"answer_count":1,"score":0,"last_activity_date":1664753314,"creation_date":1664751713,"question_id":73929917,"body_markdown":"Still new to android and java but getting there, here is my problem.\r\n\r\nThe crash occurs at this point ***fieldsA.add( A.substring(_start, _a[i]));*** it works the first time but not the second time, I do not get an error in my debug window, just a crash.\r\n\r\n// number of chars to extract from string value to add to ArrayList.\r\n\r\nint _a[] =  {12,8,8,8,24,24,8,8,4,4,4,5,5,5,7,7,7,7,4,4,4,7,7,7,7,4,8,8,8,1,1,1,1,2};\r\n\r\nint _b[] =\t{2,32,32,4,4,4,5,5,5,7,7,7,7,4,4,4,8,1,4,4,4,4,1,4,56,14 };\r\n\r\nfor clarity, _start value is correct and length of string to extract (_a[i]) is also correct, in the case of this crash, _start value is 12 and _a[i] is 8 so the substring(12, 8) should add &quot;12663312&quot; to the ArrayList.\r\n\r\nQuestion is, what am I doing wrong in how I am using array list, if I was using a vector (which I would normally do in C++) it would be a breeze but this is my first time use of ArratList in java and I cant see what the problem is, maybe I am too old.\r\n\r\nThanks in advance. \r\n\r\n    public void SetEkmFieldValueStrings(String A, String B)\r\n      {\r\n      // example string A content\r\n      /* $00030000019412663312012914320863457705827487016831160515448803478652000007590515438109551618066451002454245424540005600000000300000984000000000007720001756 100C000 100000003800000000000056000009450020000001600000000000000000232002210030208144700!*/\r\n\r\n      /* if length of A is less than 250 chars, read is no good, discard\r\n      *  NOTE:  both Strings A and B will need to be validated for checksum\r\n      *  TODO...\r\n      * */\r\n      if(A.length() &lt; 250) {return;}\r\n\r\n       // discard first 4 chars from string, not needed\r\n       A = A.substring(4, A.length()-4);\r\n\r\n       /* array of fields values are NOT empty */\r\n       /* clear arrays for new sets of values */\r\n      if(fieldsA.size() &gt; 0)\r\n        fieldsA.clear();\r\n      if(fieldsB.size() &gt; 0)\r\n        fieldsB.clear();;\r\n    \r\n      int _start = 0; /* 1st index into field size array */\r\n      int i;\r\n      for(i = 0; i &lt; _a.length; i++)\r\n        {\r\n        /*  add the substring of String A to the array list of field values\r\n        *   _a[i] contains the length of string to extract from A\r\n        * */\r\n        fieldsA.add((String) A.substring(_start, _a[i]));\r\n        String j = fieldsA.get(_start);  //for testing purpose only\r\n        /* set _start to the next field start pont in string A */\r\n        _start += _a[i];\r\n        }\r\n    \r\n        /* do same for String B*/\r\n        _start = 0;\r\n        for(i = 0; i &lt; _b.length; i++)\r\n          {\r\n          /*  add the substring of String A to the array list of field values\r\n           *   _b[i] contains the length in of string to extract\r\n           * */\r\n          fieldsB.add(B.substring(_start, _b[i]));\r\n          /* set _start to the next field start pont in string A */\r\n          _start += _b[i];\r\n          }\r\n    \r\n      }\r\n\r\n","title":"App crashes when adding to an ArrayList in a for loop after first succeeful add","body":"<p>Still new to android and java but getting there, here is my problem.</p>\n<p>The crash occurs at this point <em><strong>fieldsA.add( A.substring(_start, _a[i]));</strong></em> it works the first time but not the second time, I do not get an error in my debug window, just a crash.</p>\n<p>// number of chars to extract from string value to add to ArrayList.</p>\n<p>int _a[] =  {12,8,8,8,24,24,8,8,4,4,4,5,5,5,7,7,7,7,4,4,4,7,7,7,7,4,8,8,8,1,1,1,1,2};</p>\n<p>int _b[] =  {2,32,32,4,4,4,5,5,5,7,7,7,7,4,4,4,8,1,4,4,4,4,1,4,56,14 };</p>\n<p>for clarity, _start value is correct and length of string to extract (_a[i]) is also correct, in the case of this crash, _start value is 12 and _a[i] is 8 so the substring(12, 8) should add &quot;12663312&quot; to the ArrayList.</p>\n<p>Question is, what am I doing wrong in how I am using array list, if I was using a vector (which I would normally do in C++) it would be a breeze but this is my first time use of ArratList in java and I cant see what the problem is, maybe I am too old.</p>\n<p>Thanks in advance.</p>\n<pre><code>public void SetEkmFieldValueStrings(String A, String B)\n  {\n  // example string A content\n  /* $00030000019412663312012914320863457705827487016831160515448803478652000007590515438109551618066451002454245424540005600000000300000984000000000007720001756 100C000 100000003800000000000056000009450020000001600000000000000000232002210030208144700!*/\n\n  /* if length of A is less than 250 chars, read is no good, discard\n  *  NOTE:  both Strings A and B will need to be validated for checksum\n  *  TODO...\n  * */\n  if(A.length() &lt; 250) {return;}\n\n   // discard first 4 chars from string, not needed\n   A = A.substring(4, A.length()-4);\n\n   /* array of fields values are NOT empty */\n   /* clear arrays for new sets of values */\n  if(fieldsA.size() &gt; 0)\n    fieldsA.clear();\n  if(fieldsB.size() &gt; 0)\n    fieldsB.clear();;\n\n  int _start = 0; /* 1st index into field size array */\n  int i;\n  for(i = 0; i &lt; _a.length; i++)\n    {\n    /*  add the substring of String A to the array list of field values\n    *   _a[i] contains the length of string to extract from A\n    * */\n    fieldsA.add((String) A.substring(_start, _a[i]));\n    String j = fieldsA.get(_start);  //for testing purpose only\n    /* set _start to the next field start pont in string A */\n    _start += _a[i];\n    }\n\n    /* do same for String B*/\n    _start = 0;\n    for(i = 0; i &lt; _b.length; i++)\n      {\n      /*  add the substring of String A to the array list of field values\n       *   _b[i] contains the length in of string to extract\n       * */\n      fieldsB.add(B.substring(_start, _b[i]));\n      /* set _start to the next field start pont in string A */\n      _start += _b[i];\n      }\n\n  }\n</code></pre>\n"},{"tags":["java","hibernate","javafx"],"comments":[{"owner":{"account_id":16336898,"reputation":107,"user_id":11996777,"display_name":"Tribjj"},"score":0,"creation_date":1664539288,"post_id":73901138,"comment_id":130500767,"body_markdown":"update: add info and picture the todolistFx program","body":"update: add info and picture the todolistFx program"},{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1664539829,"post_id":73901138,"comment_id":130500927,"body_markdown":"Why using HBM mapping rather than JPA?","body":"Why using HBM mapping rather than JPA?"},{"owner":{"account_id":16336898,"reputation":107,"user_id":11996777,"display_name":"Tribjj"},"score":0,"creation_date":1664546928,"post_id":73901138,"comment_id":130503452,"body_markdown":"update structure add","body":"update structure add"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1664554282,"post_id":73901138,"comment_id":130506036,"body_markdown":"Is the fetch query printed in the logs?","body":"Is the fetch query printed in the logs?"},{"owner":{"account_id":16336898,"reputation":107,"user_id":11996777,"display_name":"Tribjj"},"score":0,"creation_date":1664555002,"post_id":73901138,"comment_id":130506232,"body_markdown":"it does not reach the query selection, the table is not loaded into an fxml table, update logs run, And if I try to add Task object writes: Caused by: org.hibernate.MappingException: Unknown entity: ru.todolist.javafx.objects.Task","body":"it does not reach the query selection, the table is not loaded into an fxml table, update logs run, And if I try to add Task object writes: Caused by: org.hibernate.MappingException: Unknown entity: ru.todolist.javafx.objects.Task"}],"answers":[{"tags":[],"owner":{"account_id":16336898,"reputation":107,"user_id":11996777,"display_name":"Tribjj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664750336,"creation_date":1664750336,"answer_id":73929822,"question_id":73901138,"body_markdown":" I fill in my ObservableList , list , which I got from the table\r\n\r\nas you can see the todolist program has filled up\r\n[![enter image description here][1]][1]\r\n\r\n\r\nclass TaskHibernateImpl in this class, data is taken from the table ,method tasksclear() checking the table clearing so that there is no double table filling, we clear the current one.createQuery(&quot;From Task&quot;) here I attention! specify my class entity\r\n\r\n\r\n        public class TaskHibernateImpl implements TaskDao { \r\n        ...\r\n        public ObservableList&lt;Task&gt; findAll() {\r\n                    tasks.clear(); // \r\n                    tasks.addAll(HibernateSessionFactoryUtil.getSessionFactory().openSession().createQuery(&quot;From Task&quot;).list());\r\n                    System.out.println(&quot;tasks.isEmpty() = &quot; + tasks.isEmpty()); // false \r\n                    return tasks;\r\n                }\r\n    ...\r\n    }\r\n\r\nclass HibernateSessionFactoryUtil -&gt; In this class, I create a configuration and add a class to it, with a JPA configuration\r\n\r\n    public class HibernateSessionFactoryUtil {\r\n    \r\n        private static SessionFactory sessionFactory;\r\n    \r\n        private static ServiceRegistry serviceRegistry;\r\n    \r\n        public HibernateSessionFactoryUtil() {\r\n        }\r\n    \r\n        public static SessionFactory getSessionFactory(){\r\n            if(sessionFactory == null){\r\n                try{\r\n                    Configuration configuration = new Configuration().configure();\r\n                    // here necessary class add\r\n                    configuration.addAnnotatedClass(ru.todolist.javafx.objects.Task.class);\r\n                    StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());\r\n                    sessionFactory = configuration.buildSessionFactory(builder.build());\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;Exception !&quot; + e);\r\n                }\r\n            }\r\n            return sessionFactory;\r\n        }\r\n    }\r\n \r\nclass Task -&gt; In this class I put JPA annotations @Entity, @Id, @Column\r\n\r\n    package ru.todolist.javafx.objects;\r\n    \r\n    import javafx.beans.property.SimpleIntegerProperty;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javax.persistence.*;\r\n    import java.util.Date;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;todo&quot;, schema = &quot;main&quot;, catalog = &quot;&quot;)\r\n    public class Task {\r\n    \r\n        private SimpleIntegerProperty id = new SimpleIntegerProperty();\r\n        private SimpleStringProperty task = new SimpleStringProperty(&quot;&quot;);\r\n    \r\n        private static Date date = new Date();\r\n        private SimpleStringProperty time = new SimpleStringProperty(date.toString());\r\n    \r\n    //    private static boolean statusBegin = false;\r\n        private static String statusText = &quot;не выполнена&quot;;\r\n        private SimpleStringProperty status = new SimpleStringProperty(statusText);\r\n    \r\n        public Task() {\r\n        }\r\n    \r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Id\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        public int getId() {\r\n            return id.get();\r\n        }\r\n    \r\n        public SimpleIntegerProperty idProperty() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id.set(id);\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;task&quot;, nullable = false, length = -1)\r\n        public String getTask() {\r\n            return task.get();\r\n        }\r\n    \r\n        public SimpleStringProperty taskProperty() {\r\n            return task;\r\n        }\r\n    \r\n        public void setTask(String task) {\r\n            this.task.set(task);\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;task_create_time&quot;, nullable = false, length = -1)\r\n        public String getTime() {\r\n            return time.get();\r\n        }\r\n    \r\n        public SimpleStringProperty timeProperty() {\r\n            return time;\r\n        }\r\n    \r\n        public void setTime(String time) {\r\n            this.time.set(time);\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;status&quot;, nullable = true, length = -1)\r\n        public String getStatus() {\r\n            return status.get();\r\n        }\r\n    \r\n        public SimpleStringProperty statusProperty() {\r\n            return status;\r\n        }\r\n    \r\n        public void setStatus(String status) {\r\n            this.status.set(status);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Task{&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, task=&quot; + task +\r\n                    &quot;, time=&quot; + time +\r\n                    &quot;, status=&quot; + status +\r\n                    &#39;}&#39;;\r\n        }\r\n    \r\n    }\r\n\r\nclass hibernate.cfg.xml  hibernate configuration class\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n      &lt;session-factory&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db&lt;/property&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;org.sqlite.JDBC&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;ru.todolist.javafx.hibernate.dialect.SQLiteDialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;true&lt;/property&gt;\r\n    \r\n          &lt;mapping class=&quot;ru.todolist.javafx.objects.Task&quot;/&gt;\r\n    &lt;!--      &lt;mapping resource=&quot;Task.hbm.xml&quot;/&gt;--&gt;\r\n          &lt;!-- &lt;property name=&quot;connection.username&quot;/&gt; --&gt;\r\n        &lt;!-- &lt;property name=&quot;connection.password&quot;/&gt; --&gt;\r\n    \r\n        &lt;!-- DB schema will be updated if needed --&gt;\r\n        &lt;!-- &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; --&gt;\r\n      &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q2TM3.png\r\n","title":"I can&#39;t extract data from the table and make a connection with the hibernate orm","body":"<p>I fill in my ObservableList , list , which I got from the table</p>\n<p>as you can see the todolist program has filled up\n<a href=\"https://i.stack.imgur.com/Q2TM3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q2TM3.png\" alt=\"enter image description here\" /></a></p>\n<p>class TaskHibernateImpl in this class, data is taken from the table ,method tasksclear() checking the table clearing so that there is no double table filling, we clear the current one.createQuery(&quot;From Task&quot;) here I attention! specify my class entity</p>\n<pre><code>    public class TaskHibernateImpl implements TaskDao { \n    ...\n    public ObservableList&lt;Task&gt; findAll() {\n                tasks.clear(); // \n                tasks.addAll(HibernateSessionFactoryUtil.getSessionFactory().openSession().createQuery(&quot;From Task&quot;).list());\n                System.out.println(&quot;tasks.isEmpty() = &quot; + tasks.isEmpty()); // false \n                return tasks;\n            }\n...\n}\n</code></pre>\n<p>class HibernateSessionFactoryUtil -&gt; In this class, I create a configuration and add a class to it, with a JPA configuration</p>\n<pre><code>public class HibernateSessionFactoryUtil {\n\n    private static SessionFactory sessionFactory;\n\n    private static ServiceRegistry serviceRegistry;\n\n    public HibernateSessionFactoryUtil() {\n    }\n\n    public static SessionFactory getSessionFactory(){\n        if(sessionFactory == null){\n            try{\n                Configuration configuration = new Configuration().configure();\n                // here necessary class add\n                configuration.addAnnotatedClass(ru.todolist.javafx.objects.Task.class);\n                StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());\n                sessionFactory = configuration.buildSessionFactory(builder.build());\n            } catch (Exception e) {\n                System.out.println(&quot;Exception !&quot; + e);\n            }\n        }\n        return sessionFactory;\n    }\n}\n</code></pre>\n<p>class Task -&gt; In this class I put JPA annotations @Entity, @Id, @Column</p>\n<pre><code>package ru.todolist.javafx.objects;\n\nimport javafx.beans.property.SimpleIntegerProperty;\nimport javafx.beans.property.SimpleStringProperty;\nimport javax.persistence.*;\nimport java.util.Date;\n\n@Entity\n@Table(name = &quot;todo&quot;, schema = &quot;main&quot;, catalog = &quot;&quot;)\npublic class Task {\n\n    private SimpleIntegerProperty id = new SimpleIntegerProperty();\n    private SimpleStringProperty task = new SimpleStringProperty(&quot;&quot;);\n\n    private static Date date = new Date();\n    private SimpleStringProperty time = new SimpleStringProperty(date.toString());\n\n//    private static boolean statusBegin = false;\n    private static String statusText = &quot;не выполнена&quot;;\n    private SimpleStringProperty status = new SimpleStringProperty(statusText);\n\n    public Task() {\n    }\n\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    public int getId() {\n        return id.get();\n    }\n\n    public SimpleIntegerProperty idProperty() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id.set(id);\n    }\n\n    @Basic\n    @Column(name = &quot;task&quot;, nullable = false, length = -1)\n    public String getTask() {\n        return task.get();\n    }\n\n    public SimpleStringProperty taskProperty() {\n        return task;\n    }\n\n    public void setTask(String task) {\n        this.task.set(task);\n    }\n\n    @Basic\n    @Column(name = &quot;task_create_time&quot;, nullable = false, length = -1)\n    public String getTime() {\n        return time.get();\n    }\n\n    public SimpleStringProperty timeProperty() {\n        return time;\n    }\n\n    public void setTime(String time) {\n        this.time.set(time);\n    }\n\n    @Basic\n    @Column(name = &quot;status&quot;, nullable = true, length = -1)\n    public String getStatus() {\n        return status.get();\n    }\n\n    public SimpleStringProperty statusProperty() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status.set(status);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Task{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, task=&quot; + task +\n                &quot;, time=&quot; + time +\n                &quot;, status=&quot; + status +\n                '}';\n    }\n\n}\n</code></pre>\n<p>class hibernate.cfg.xml  hibernate configuration class</p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n    &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n    &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n  &lt;session-factory&gt;\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db&lt;/property&gt;\n    &lt;property name=&quot;connection.driver_class&quot;&gt;org.sqlite.JDBC&lt;/property&gt;\n    &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n    &lt;property name=&quot;dialect&quot;&gt;ru.todolist.javafx.hibernate.dialect.SQLiteDialect&lt;/property&gt;\n    &lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;true&lt;/property&gt;\n\n      &lt;mapping class=&quot;ru.todolist.javafx.objects.Task&quot;/&gt;\n&lt;!--      &lt;mapping resource=&quot;Task.hbm.xml&quot;/&gt;--&gt;\n      &lt;!-- &lt;property name=&quot;connection.username&quot;/&gt; --&gt;\n    &lt;!-- &lt;property name=&quot;connection.password&quot;/&gt; --&gt;\n\n    &lt;!-- DB schema will be updated if needed --&gt;\n    &lt;!-- &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; --&gt;\n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":16336898,"reputation":107,"user_id":11996777,"display_name":"Tribjj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73929822,"answer_count":1,"score":0,"last_activity_date":1664750336,"creation_date":1664482400,"question_id":73901138,"body_markdown":"I start the server, I can&#39;t fill out the list in any way, the database is connected and working, table work, I can&#39;t extract data from the table and make a connection with the hibernate orm\r\n######\r\nAnd if I try to add writes:\r\nCaused by: org.hibernate.MappingException: Unknown entity: ru.todolist.javafx.objects.Task\r\n\t\r\n\r\nclass TaskHibernateImpl \r\n\r\n        public class TaskHibernateImpl implements TaskDao {\r\n        ....\r\n        public ObservableList&lt;Task&gt; tasks = FXCollections.observableArrayList();\r\n\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            @Override\r\n            public ObservableList&lt;Task&gt; findAll() {\r\n                System.out.println(&quot;tasks.isEmpty() = &quot; + tasks.isEmpty());\r\n        \r\n                tasks.clear();\r\n                Session session = getSessionFactory().openSession();\r\n                tasks.addAll(session.createCriteria(Task.class).list()); //here it is not filled in\r\n                System.out.println(&quot;tasks.isEmpty() = &quot; + tasks.isEmpty()); // true list empty\r\n                session.close();\r\n                return tasks;\r\n            }\r\n    ...\r\n    }\r\n\r\nclass Task object model\r\n\r\n     [![enter image description here][1]][1]\r\n\r\nFile hibernate.cfg.xml hibernate configuration file\r\n   \r\n\r\n        &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n      &lt;session-factory&gt;\r\n    &lt;!--    &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db--&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db&lt;/property&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;org.sqlite.JDBC&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;ru.todolist.javafx.hibernate.dialect.SQLiteDialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;true&lt;/property&gt;\r\n          &lt;mapping class=&quot;ru.todolist.javafx.hibernate.TodoEntity&quot;/&gt;\r\n          &lt;mapping resource=&quot;TodoEntity.hbm.xml&quot;/&gt;\r\n          &lt;!-- &lt;property name=&quot;connection.username&quot;/&gt; --&gt;\r\n        &lt;!-- &lt;property name=&quot;connection.password&quot;/&gt; --&gt;\r\n    \r\n        &lt;!-- DB schema will be updated if needed --&gt;\r\n        &lt;!-- &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; --&gt;\r\n      &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nTodoEntity.hbm.xml\r\n\r\n   \r\n\r\n         &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;!DOCTYPE hibernate-mapping PUBLIC\r\n     &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-mapping&gt;\r\n    \r\n        &lt;class name=&quot;ru.todolist.javafx.hibernate.TodoEntity&quot; table=&quot;todo&quot; schema=&quot;main&quot;&gt;\r\n            &lt;id name=&quot;id&quot;&gt;\r\n                &lt;column name=&quot;id&quot; sql-type=&quot;integer&quot;/&gt;\r\n            &lt;/id&gt;\r\n            &lt;property name=&quot;task&quot;&gt;\r\n                &lt;column name=&quot;task&quot; sql-type=&quot;text&quot;/&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;taskCreateTime&quot;&gt;\r\n                &lt;column name=&quot;task_create_time&quot; sql-type=&quot;text&quot;/&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;status&quot;&gt;\r\n                &lt;column name=&quot;status&quot; sql-type=&quot;text&quot; not-null=&quot;true&quot;/&gt;\r\n            &lt;/property&gt;\r\n        &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\ntable todo work\r\n\r\n[![enter image description here][2]][2]\r\n\r\nthe todolistFx program itself,see empty\r\n\r\n[![enter image description here][3]][3]\r\n\r\nprogram structure\r\n\r\n[![enter image description here][4]][4]\r\n\r\nlogs run\r\n\r\n        D:\\jdk11\\bin\\java.exe --module-path D:\\openjFX18\\lib --add-modules=javafx.controls,javafx.fxml &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\lib\\idea_rt.jar=51993:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\target\\classes;D:\\openjFX18\\lib\\javafx-swt.jar;D:\\openjFX18\\lib\\javafx.web.jar;D:\\openjFX18\\lib\\javafx.base.jar;D:\\openjFX18\\lib\\javafx.fxml.jar;D:\\openjFX18\\lib\\javafx.media.jar;D:\\openjFX18\\lib\\javafx.swing.jar;D:\\openjFX18\\lib\\javafx.controls.jar;D:\\openjFX18\\lib\\javafx.graphics.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\classmate-1.5.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\hibernate-commons-annotations-5.1.0.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\dom4j-2.1.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\FastInfoset-1.2.15.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\antlr-2.7.7.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\istack-commons-runtime-3.0.7.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jandex-2.1.1.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\javax.activation-api-1.2.0.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\byte-buddy-1.10.7.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\javassist-3.24.0-GA.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\javax.persistence-api-2.2.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jaxb-api-2.3.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jboss-logging-3.3.2.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jboss-transaction-api_1.2_spec-1.1.1.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jaxb-runtime-2.3.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\stax-ex-1.8.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\txw2-2.3.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\hibernate-core-5.4.11.Final.jar;C:\\Users\\den\\.m2\\repository\\org\\hibernate\\hibernate-core\\5.4.11.Final\\hibernate-core-5.4.11.Final.jar;C:\\Users\\den\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.3.2.Final\\jboss-logging-3.3.2.Final.jar;C:\\Users\\den\\.m2\\repository\\javax\\persistence\\javax.persistence-api\\2.2\\javax.persistence-api-2.2.jar;C:\\Users\\den\\.m2\\repository\\org\\javassist\\javassist\\3.24.0-GA\\javassist-3.24.0-GA.jar;C:\\Users\\den\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.10.7\\byte-buddy-1.10.7.jar;C:\\Users\\den\\.m2\\repository\\antlr\\antlr\\2.7.7\\antlr-2.7.7.jar;C:\\Users\\den\\.m2\\repository\\org\\jboss\\spec\\javax\\transaction\\jboss-transaction-api_1.2_spec\\1.1.1.Final\\jboss-transaction-api_1.2_spec-1.1.1.Final.jar;C:\\Users\\den\\.m2\\repository\\org\\jboss\\jandex\\2.1.1.Final\\jandex-2.1.1.Final.jar;C:\\Users\\den\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\den\\.m2\\repository\\javax\\activation\\javax.activation-api\\1.2.0\\javax.activation-api-1.2.0.jar;C:\\Users\\den\\.m2\\repository\\org\\dom4j\\dom4j\\2.1.1\\dom4j-2.1.1.jar;C:\\Users\\den\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\5.1.0.Final\\hibernate-commons-annotations-5.1.0.Final.jar;C:\\Users\\den\\.m2\\repository\\javax\\xml\\bind\\jaxb-api\\2.3.1\\jaxb-api-2.3.1.jar;C:\\Users\\den\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\2.3.1\\jaxb-runtime-2.3.1.jar;C:\\Users\\den\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\2.3.1\\txw2-2.3.1.jar;C:\\Users\\den\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\3.0.7\\istack-commons-runtime-3.0.7.jar;C:\\Users\\den\\.m2\\repository\\org\\jvnet\\staxex\\stax-ex\\1.8\\stax-ex-1.8.jar;C:\\Users\\den\\.m2\\repository\\com\\sun\\xml\\fastinfoset\\FastInfoset\\1.2.15\\FastInfoset-1.2.15.jar;C:\\Users\\den\\.m2\\repository\\org\\xerial\\sqlite-jdbc\\3.39.3.0\\sqlite-jdbc-3.39.3.0.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-controls\\17.0.2\\javafx-controls-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-controls\\17.0.2\\javafx-controls-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-graphics\\17.0.2\\javafx-graphics-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-graphics\\17.0.2\\javafx-graphics-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-base\\17.0.2\\javafx-base-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-base\\17.0.2\\javafx-base-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-fxml\\17.0.2\\javafx-fxml-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-fxml\\17.0.2\\javafx-fxml-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\controlsfx\\controlsfx\\11.1.1\\controlsfx-11.1.1.jar;C:\\Users\\den\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-javafx\\12.3.1\\ikonli-javafx-12.3.1.jar;C:\\Users\\den\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-core\\12.3.1\\ikonli-core-12.3.1.jar ru.todolist.javafx.start.Main\r\n    сент. 30, 2022 7:17:30 PM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {5.4.11.Final}\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    WARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001005: using driver [org.sqlite.JDBC] at URL [jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db]\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001001: Connection properties: {autocommit=true}\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001003: Autocommit mode: true\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\n    INFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: ru.todolist.javafx.hibernate.dialect.SQLiteDialect\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\n    INFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.internal.SessionImpl createCriteria\r\n    WARN: HHH90000022: Hibernate&#39;s legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    WARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001005: using driver [org.sqlite.JDBC] at URL [jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db]\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001001: Connection properties: {autocommit=true}\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001003: Autocommit mode: true\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\n    INFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: ru.todolist.javafx.hibernate.dialect.SQLiteDialect\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\n    INFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    WARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001005: using driver [org.sqlite.JDBC] at URL [jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db]\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001001: Connection properties: {autocommit=true}\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001003: Autocommit mode: true\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\n    INFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: ru.todolist.javafx.hibernate.dialect.SQLiteDialect\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\n    INFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.internal.SessionImpl createCriteria\r\n    WARN: HHH90000022: Hibernate&#39;s legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead\r\n\r\n  [1]: https://i.stack.imgur.com/aQ66D.png\r\n  [2]: https://i.stack.imgur.com/Wk6G8.png\r\n  [3]: https://i.stack.imgur.com/rkY0x.png\r\n  [4]: https://i.stack.imgur.com/pP2la.png\r\n","title":"I can&#39;t extract data from the table and make a connection with the hibernate orm","body":"<p>I start the server, I can't fill out the list in any way, the database is connected and working, table work, I can't extract data from the table and make a connection with the hibernate orm</p>\n<h6></h6>\n<p>And if I try to add writes:\nCaused by: org.hibernate.MappingException: Unknown entity: ru.todolist.javafx.objects.Task</p>\n<p>class TaskHibernateImpl</p>\n<pre><code>    public class TaskHibernateImpl implements TaskDao {\n    ....\n    public ObservableList&lt;Task&gt; tasks = FXCollections.observableArrayList();\n\n        @SuppressWarnings(&quot;unchecked&quot;)\n        @Override\n        public ObservableList&lt;Task&gt; findAll() {\n            System.out.println(&quot;tasks.isEmpty() = &quot; + tasks.isEmpty());\n    \n            tasks.clear();\n            Session session = getSessionFactory().openSession();\n            tasks.addAll(session.createCriteria(Task.class).list()); //here it is not filled in\n            System.out.println(&quot;tasks.isEmpty() = &quot; + tasks.isEmpty()); // true list empty\n            session.close();\n            return tasks;\n        }\n...\n}\n</code></pre>\n<p>class Task object model</p>\n<pre><code> [![enter image description here][1]][1]\n</code></pre>\n<p>File hibernate.cfg.xml hibernate configuration file</p>\n<pre><code>    &lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n    &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n    &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n  &lt;session-factory&gt;\n&lt;!--    &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db--&gt;\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db&lt;/property&gt;\n    &lt;property name=&quot;connection.driver_class&quot;&gt;org.sqlite.JDBC&lt;/property&gt;\n    &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n    &lt;property name=&quot;dialect&quot;&gt;ru.todolist.javafx.hibernate.dialect.SQLiteDialect&lt;/property&gt;\n    &lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;true&lt;/property&gt;\n      &lt;mapping class=&quot;ru.todolist.javafx.hibernate.TodoEntity&quot;/&gt;\n      &lt;mapping resource=&quot;TodoEntity.hbm.xml&quot;/&gt;\n      &lt;!-- &lt;property name=&quot;connection.username&quot;/&gt; --&gt;\n    &lt;!-- &lt;property name=&quot;connection.password&quot;/&gt; --&gt;\n\n    &lt;!-- DB schema will be updated if needed --&gt;\n    &lt;!-- &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; --&gt;\n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>TodoEntity.hbm.xml</p>\n<pre><code>     &lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC\n &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n    &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\n&lt;hibernate-mapping&gt;\n\n    &lt;class name=&quot;ru.todolist.javafx.hibernate.TodoEntity&quot; table=&quot;todo&quot; schema=&quot;main&quot;&gt;\n        &lt;id name=&quot;id&quot;&gt;\n            &lt;column name=&quot;id&quot; sql-type=&quot;integer&quot;/&gt;\n        &lt;/id&gt;\n        &lt;property name=&quot;task&quot;&gt;\n            &lt;column name=&quot;task&quot; sql-type=&quot;text&quot;/&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;taskCreateTime&quot;&gt;\n            &lt;column name=&quot;task_create_time&quot; sql-type=&quot;text&quot;/&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;status&quot;&gt;\n            &lt;column name=&quot;status&quot; sql-type=&quot;text&quot; not-null=&quot;true&quot;/&gt;\n        &lt;/property&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p>table todo work</p>\n<p><a href=\"https://i.stack.imgur.com/Wk6G8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wk6G8.png\" alt=\"enter image description here\" /></a></p>\n<p>the todolistFx program itself,see empty</p>\n<p><a href=\"https://i.stack.imgur.com/rkY0x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rkY0x.png\" alt=\"enter image description here\" /></a></p>\n<p>program structure</p>\n<p><a href=\"https://i.stack.imgur.com/pP2la.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pP2la.png\" alt=\"enter image description here\" /></a></p>\n<p>logs run</p>\n<pre><code>    D:\\jdk11\\bin\\java.exe --module-path D:\\openjFX18\\lib --add-modules=javafx.controls,javafx.fxml &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\lib\\idea_rt.jar=51993:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\target\\classes;D:\\openjFX18\\lib\\javafx-swt.jar;D:\\openjFX18\\lib\\javafx.web.jar;D:\\openjFX18\\lib\\javafx.base.jar;D:\\openjFX18\\lib\\javafx.fxml.jar;D:\\openjFX18\\lib\\javafx.media.jar;D:\\openjFX18\\lib\\javafx.swing.jar;D:\\openjFX18\\lib\\javafx.controls.jar;D:\\openjFX18\\lib\\javafx.graphics.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\classmate-1.5.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\hibernate-commons-annotations-5.1.0.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\dom4j-2.1.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\FastInfoset-1.2.15.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\antlr-2.7.7.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\istack-commons-runtime-3.0.7.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jandex-2.1.1.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\javax.activation-api-1.2.0.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\byte-buddy-1.10.7.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\javassist-3.24.0-GA.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\javax.persistence-api-2.2.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jaxb-api-2.3.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jboss-logging-3.3.2.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jboss-transaction-api_1.2_spec-1.1.1.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jaxb-runtime-2.3.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\stax-ex-1.8.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\txw2-2.3.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\hibernate-core-5.4.11.Final.jar;C:\\Users\\den\\.m2\\repository\\org\\hibernate\\hibernate-core\\5.4.11.Final\\hibernate-core-5.4.11.Final.jar;C:\\Users\\den\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.3.2.Final\\jboss-logging-3.3.2.Final.jar;C:\\Users\\den\\.m2\\repository\\javax\\persistence\\javax.persistence-api\\2.2\\javax.persistence-api-2.2.jar;C:\\Users\\den\\.m2\\repository\\org\\javassist\\javassist\\3.24.0-GA\\javassist-3.24.0-GA.jar;C:\\Users\\den\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.10.7\\byte-buddy-1.10.7.jar;C:\\Users\\den\\.m2\\repository\\antlr\\antlr\\2.7.7\\antlr-2.7.7.jar;C:\\Users\\den\\.m2\\repository\\org\\jboss\\spec\\javax\\transaction\\jboss-transaction-api_1.2_spec\\1.1.1.Final\\jboss-transaction-api_1.2_spec-1.1.1.Final.jar;C:\\Users\\den\\.m2\\repository\\org\\jboss\\jandex\\2.1.1.Final\\jandex-2.1.1.Final.jar;C:\\Users\\den\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\den\\.m2\\repository\\javax\\activation\\javax.activation-api\\1.2.0\\javax.activation-api-1.2.0.jar;C:\\Users\\den\\.m2\\repository\\org\\dom4j\\dom4j\\2.1.1\\dom4j-2.1.1.jar;C:\\Users\\den\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\5.1.0.Final\\hibernate-commons-annotations-5.1.0.Final.jar;C:\\Users\\den\\.m2\\repository\\javax\\xml\\bind\\jaxb-api\\2.3.1\\jaxb-api-2.3.1.jar;C:\\Users\\den\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\2.3.1\\jaxb-runtime-2.3.1.jar;C:\\Users\\den\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\2.3.1\\txw2-2.3.1.jar;C:\\Users\\den\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\3.0.7\\istack-commons-runtime-3.0.7.jar;C:\\Users\\den\\.m2\\repository\\org\\jvnet\\staxex\\stax-ex\\1.8\\stax-ex-1.8.jar;C:\\Users\\den\\.m2\\repository\\com\\sun\\xml\\fastinfoset\\FastInfoset\\1.2.15\\FastInfoset-1.2.15.jar;C:\\Users\\den\\.m2\\repository\\org\\xerial\\sqlite-jdbc\\3.39.3.0\\sqlite-jdbc-3.39.3.0.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-controls\\17.0.2\\javafx-controls-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-controls\\17.0.2\\javafx-controls-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-graphics\\17.0.2\\javafx-graphics-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-graphics\\17.0.2\\javafx-graphics-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-base\\17.0.2\\javafx-base-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-base\\17.0.2\\javafx-base-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-fxml\\17.0.2\\javafx-fxml-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-fxml\\17.0.2\\javafx-fxml-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\controlsfx\\controlsfx\\11.1.1\\controlsfx-11.1.1.jar;C:\\Users\\den\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-javafx\\12.3.1\\ikonli-javafx-12.3.1.jar;C:\\Users\\den\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-core\\12.3.1\\ikonli-core-12.3.1.jar ru.todolist.javafx.start.Main\nсент. 30, 2022 7:17:30 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {5.4.11.Final}\nсент. 30, 2022 7:17:31 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\nсент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nсент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [org.sqlite.JDBC] at URL [jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db]\nсент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {autocommit=true}\nсент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: true\nсент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\nсент. 30, 2022 7:17:31 PM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: ru.todolist.javafx.hibernate.dialect.SQLiteDialect\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nсент. 30, 2022 7:17:32 PM org.hibernate.internal.SessionImpl createCriteria\nWARN: HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [org.sqlite.JDBC] at URL [jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db]\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {autocommit=true}\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: true\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\nсент. 30, 2022 7:17:32 PM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: ru.todolist.javafx.hibernate.dialect.SQLiteDialect\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [org.sqlite.JDBC] at URL [jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db]\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {autocommit=true}\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: true\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\nсент. 30, 2022 7:17:32 PM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: ru.todolist.javafx.hibernate.dialect.SQLiteDialect\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nсент. 30, 2022 7:17:32 PM org.hibernate.internal.SessionImpl createCriteria\nWARN: HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead\n</code></pre>\n"},{"tags":["java","android","arrays"],"answers":[{"tags":[],"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664749042,"creation_date":1664660302,"answer_id":73921924,"question_id":73921301,"body_markdown":"You only need to use the PrintWriter, therefore you could write the initialization of the writers into one statement.\r\n\r\n    File outfile = new File(getExternalFilesDir(null), &quot;out.txt&quot;);\r\n    \r\n\r\nYou can write into your file with `print`/`write`/`println()`/`printf()`/`format()`. As you want to use some formatting you should use `printf()`/`format()`. The formatting instruction `4s%n` shows the String value with at least 4 letter and then a linebreak.\r\nThe PrintWriter is usually used with try-with-resource, which will close the PrintWriter automatically within the implicite final block.\r\n\r\n    try(PrintWriter pw = new PrintWriter(new BufferedWriter(new FileWriter(outfile)))) {\r\n        while (sc.hasNext()) {\r\n            String value = sc.next();\r\n            sb.append(&quot;\\n&quot;).append(value);\r\n            pw.printf(&quot;%4s%n&quot;, value);\r\n        }\r\n    }\r\n","title":"Array from a textfile, and then display new values obtained from subtracting starting values by mean in android studio","body":"<p>You only need to use the PrintWriter, therefore you could write the initialization of the writers into one statement.</p>\n<pre><code>File outfile = new File(getExternalFilesDir(null), &quot;out.txt&quot;);\n</code></pre>\n<p>You can write into your file with <code>print</code>/<code>write</code>/<code>println()</code>/<code>printf()</code>/<code>format()</code>. As you want to use some formatting you should use <code>printf()</code>/<code>format()</code>. The formatting instruction <code>4s%n</code> shows the String value with at least 4 letter and then a linebreak.\nThe PrintWriter is usually used with try-with-resource, which will close the PrintWriter automatically within the implicite final block.</p>\n<pre><code>try(PrintWriter pw = new PrintWriter(new BufferedWriter(new FileWriter(outfile)))) {\n    while (sc.hasNext()) {\n        String value = sc.next();\n        sb.append(&quot;\\n&quot;).append(value);\n        pw.printf(&quot;%4s%n&quot;, value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26502681,"reputation":1,"user_id":20139370,"display_name":"Void Boi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664749042,"creation_date":1664653922,"question_id":73921301,"body_markdown":"I have already managed to display the values from a textfile and put them into an array (i think), but now i want to not only obtain new values equal to the original values minus the lehmer mean, but also output them to a file that displays one value per line and with a limit of four decimal places, but i have no idea where to even start with that. \r\nThis is the code I have right now:\r\n\r\n    public void processPress(View view)\r\n            throws IOException\r\n    {\r\n        EditText fileInputField = findViewById(R.id.editFileName);\r\n        String fileName = fileInputField.getText().toString();\r\n\r\n        Scanner sc = new Scanner(new InputStreamReader(getAssets().open(fileName),\r\n                StandardCharsets.UTF_8));\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        while (sc.hasNext()) {\r\n            sb.append(&quot;\\n&quot;).append(sc.next());\r\n            \r\n\r\n        }\r\n\r\n        TextView displayAreaTextView = findViewById(R.id.txtResult);\r\n        displayAreaTextView.setText(sb.toString());\r\n    }\r\n\r\n    File outfile = new File(getExternalFilesDir(null), &quot;out.txt&quot;);\r\n    FileWriter fw = new FileWriter(outfile);\r\n    BufferedWriter bw = new BufferedWriter(fw);\r\n    PrintWriter pw = new PrintWriter(bw);\r\n\r\n\r\n    public void shift_lehmer3_mean(double[] a, int num_vals)\r\n    {\r\n        int tracker = 0;\r\n        double square=0;\r\n        double cube=0;\r\n        while (tracker &gt; num_vals){\r\n            square += Math.pow(a[tracker], 2);\r\n            cube += Math.pow(a[tracker], 3);\r\n\r\n        }\r\n        double lehmer =(cube/square);\r\n        int timer = 0;\r\n        while (timer &lt; 0)\r\n        {\r\n            double shiftValue = (a[timer]- lehmer);\r\n            a[timer] = shiftValue;\r\n        }\r\n    }","title":"Array from a textfile, and then display new values obtained from subtracting starting values by mean in android studio","body":"<p>I have already managed to display the values from a textfile and put them into an array (i think), but now i want to not only obtain new values equal to the original values minus the lehmer mean, but also output them to a file that displays one value per line and with a limit of four decimal places, but i have no idea where to even start with that.\nThis is the code I have right now:</p>\n<pre><code>public void processPress(View view)\n        throws IOException\n{\n    EditText fileInputField = findViewById(R.id.editFileName);\n    String fileName = fileInputField.getText().toString();\n\n    Scanner sc = new Scanner(new InputStreamReader(getAssets().open(fileName),\n            StandardCharsets.UTF_8));\n\n    StringBuilder sb = new StringBuilder();\n    while (sc.hasNext()) {\n        sb.append(&quot;\\n&quot;).append(sc.next());\n        \n\n    }\n\n    TextView displayAreaTextView = findViewById(R.id.txtResult);\n    displayAreaTextView.setText(sb.toString());\n}\n\nFile outfile = new File(getExternalFilesDir(null), &quot;out.txt&quot;);\nFileWriter fw = new FileWriter(outfile);\nBufferedWriter bw = new BufferedWriter(fw);\nPrintWriter pw = new PrintWriter(bw);\n\n\npublic void shift_lehmer3_mean(double[] a, int num_vals)\n{\n    int tracker = 0;\n    double square=0;\n    double cube=0;\n    while (tracker &gt; num_vals){\n        square += Math.pow(a[tracker], 2);\n        cube += Math.pow(a[tracker], 3);\n\n    }\n    double lehmer =(cube/square);\n    int timer = 0;\n    while (timer &lt; 0)\n    {\n        double shiftValue = (a[timer]- lehmer);\n        a[timer] = shiftValue;\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","android-jetpack-compose","kotlin-multiplatform","compose-multiplatform"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664748270,"creation_date":1664748270,"answer_id":73929654,"question_id":73878439,"body_markdown":"&gt; Does that mean that it&#39;s not possible using it for developing windows native code for kotlin multiplatform?\r\n\r\nCorrect, at least today. You are certainly welcome to attempt to port Compose to use the Kotlin/Native for Windows, following along Compose for Desktop and Compose for Web. Compose for Desktop leverages [Skiko](https://github.com/JetBrains/skiko), which presently does not appear to have Kotlin/Native Windows support.\r\n\r\n&gt; Can&#39;t find anything that confirms that in the compose multiplatform website.\r\n\r\nThe [Getting Started page](https://github.com/JetBrains/compose-jb/tree/master/tutorials/Getting_Started) linked to from [the Compose for Desktop site](https://www.jetbrains.com/lp/compose-desktop/) states that JDK 11 is required.\r\n","title":"Compose Multiplatform without JVM? (native windows executable)","body":"<blockquote>\n<p>Does that mean that it's not possible using it for developing windows native code for kotlin multiplatform?</p>\n</blockquote>\n<p>Correct, at least today. You are certainly welcome to attempt to port Compose to use the Kotlin/Native for Windows, following along Compose for Desktop and Compose for Web. Compose for Desktop leverages <a href=\"https://github.com/JetBrains/skiko\" rel=\"nofollow noreferrer\">Skiko</a>, which presently does not appear to have Kotlin/Native Windows support.</p>\n<blockquote>\n<p>Can't find anything that confirms that in the compose multiplatform website.</p>\n</blockquote>\n<p>The <a href=\"https://github.com/JetBrains/compose-jb/tree/master/tutorials/Getting_Started\" rel=\"nofollow noreferrer\">Getting Started page</a> linked to from <a href=\"https://www.jetbrains.com/lp/compose-desktop/\" rel=\"nofollow noreferrer\">the Compose for Desktop site</a> states that JDK 11 is required.</p>\n"}],"owner":{"account_id":221733,"reputation":36359,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":930,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664748270,"creation_date":1664354094,"question_id":73878439,"body_markdown":"In theory, with `kotlin multiplatform` you can compile an executable for Windows, which not depends on a `JVM` installed to be executed. It&#39;s completly native.\r\n\r\nNow I disscovered `Compose Multiplatform` for developing GUIs for `kotlin multiplatform`. And it supposedly can develop for Windows also. But there is a problem, in the official website I can read this:\r\n\r\n&gt; Compose for Desktop targets the JVM\r\n\r\nDoes that mean that it&#39;s not possible using it for developing windows native code for `kotlin multiplatform`? it can only be used to develop java applications for windows which needs a `jvm` installed?\r\n\r\nCan&#39;t find anything that confirms that in the `compose multiplatform` website.\r\n\r\nhttps://www.jetbrains.com/lp/compose-mpp/\r\n\r\nAlso something very rare, in the official github they have a sample, but it uses... androidx libraries! \r\n\r\n    import androidx.compose.foundation.layout.Arrangement\r\n    import androidx.compose.foundation.layout.Column\r\n    import androidx.compose.foundation.layout.fillMaxSize\r\n    import androidx.compose.material.Button\r\n    import androidx.compose.material.MaterialTheme\r\n    import androidx.compose.material.Text\r\n    import androidx.compose.runtime.mutableStateOf\r\n    import androidx.compose.runtime.remember\r\n    import androidx.compose.ui.Alignment\r\n    import androidx.compose.ui.Modifier\r\n    import androidx.compose.ui.unit.dp\r\n    import androidx.compose.ui.window.Window\r\n    import androidx.compose.ui.window.application\r\n    import androidx.compose.ui.window.rememberWindowState\r\n\r\nHow can I use `compose multiplatform` for develop `kotlin multiplatform` windows native code code which not depends of a `JVM` installed? If its not possible, then, what can I use to build GUIs for `kotlin multiplatform` windows native code?","title":"Compose Multiplatform without JVM? (native windows executable)","body":"<p>In theory, with <code>kotlin multiplatform</code> you can compile an executable for Windows, which not depends on a <code>JVM</code> installed to be executed. It's completly native.</p>\n<p>Now I disscovered <code>Compose Multiplatform</code> for developing GUIs for <code>kotlin multiplatform</code>. And it supposedly can develop for Windows also. But there is a problem, in the official website I can read this:</p>\n<blockquote>\n<p>Compose for Desktop targets the JVM</p>\n</blockquote>\n<p>Does that mean that it's not possible using it for developing windows native code for <code>kotlin multiplatform</code>? it can only be used to develop java applications for windows which needs a <code>jvm</code> installed?</p>\n<p>Can't find anything that confirms that in the <code>compose multiplatform</code> website.</p>\n<p><a href=\"https://www.jetbrains.com/lp/compose-mpp/\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/lp/compose-mpp/</a></p>\n<p>Also something very rare, in the official github they have a sample, but it uses... androidx libraries!</p>\n<pre><code>import androidx.compose.foundation.layout.Arrangement\nimport androidx.compose.foundation.layout.Column\nimport androidx.compose.foundation.layout.fillMaxSize\nimport androidx.compose.material.Button\nimport androidx.compose.material.MaterialTheme\nimport androidx.compose.material.Text\nimport androidx.compose.runtime.mutableStateOf\nimport androidx.compose.runtime.remember\nimport androidx.compose.ui.Alignment\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.unit.dp\nimport androidx.compose.ui.window.Window\nimport androidx.compose.ui.window.application\nimport androidx.compose.ui.window.rememberWindowState\n</code></pre>\n<p>How can I use <code>compose multiplatform</code> for develop <code>kotlin multiplatform</code> windows native code code which not depends of a <code>JVM</code> installed? If its not possible, then, what can I use to build GUIs for <code>kotlin multiplatform</code> windows native code?</p>\n"},{"tags":["java","validation","vaadin","vaadin7","datefield"],"answers":[{"tags":[],"owner":{"account_id":3200595,"reputation":2502,"user_id":2702708,"accept_rate":100,"display_name":"Krayo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410468677,"creation_date":1410466309,"answer_id":25796103,"question_id":20042808,"body_markdown":"A little complicated but I hope it works (in Vaadin 7).&lt;br&gt;\r\nI use some Apache Commons and Joda-Time helper methods.&lt;br&gt;\r\nMaybe some customization are needed.\r\n\r\n    public class MyDateField extends CustomField&lt;Date&gt; {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private static final DateTimeFormatter DTF;\r\n    \r\n        static {\r\n            DTF = DateTimeFormat.forPattern(&quot;yyyy-MM-dd&quot;); // set timezone if needed\r\n        }\r\n    \r\n        private TextField tf = new TextField();\r\n        private DateField df = new DateField();\r\n        private Date original;\r\n        private Date minDay = new Date();\r\n        private Date maxDay = new DateTime(9999, 12, 31, 23, 59).toDate();\r\n        private boolean isInnerChange;\r\n        private Date convertedDate;\r\n    \r\n        @Override\r\n        protected Component initContent() {\r\n            tf.setConverter(InnerConverter.INSTANCE);\r\n            tf.setTextChangeEventMode(TextChangeEventMode.EAGER); // or LAZY\r\n            tf.addTextChangeListener(new TextChangeListener() {\r\n                private static final long serialVersionUID = 1L;\r\n    \r\n                @Override\r\n                public void textChange(TextChangeEvent event) {\r\n                    int pos = tf.getCursorPosition();\r\n                    if (isValid(event.getText())) {\r\n                        df.setComponentError(null);\r\n                        isInnerChange = true;\r\n                        df.setValue(convertedDate);\r\n                    } else {\r\n                        df.setComponentError(InnerErrorMessage.INSTANCE);\r\n                    }\r\n                    tf.setCursorPosition(pos);\r\n                }\r\n            });\r\n            df.setStyleName(&quot;truncated-date-field&quot;);\r\n            df.addValueChangeListener(new Property.ValueChangeListener() {\r\n                private static final long serialVersionUID = 1L;\r\n    \r\n                @Override\r\n                public void valueChange(Property.ValueChangeEvent event) {\r\n                    if (!isInnerChange) {\r\n                        Date d = df.getValue();\r\n                        df.setComponentError(isValid(d) ? null : InnerErrorMessage.INSTANCE);\r\n                        tf.setValue(d == null ? &quot;&quot; : DTF.print(d.getTime()));\r\n                    }\r\n                    isInnerChange = false;\r\n                }\r\n            });\r\n            return new HorizontalLayout(tf, df);\r\n        }\r\n    \r\n        @Override\r\n        public void setPropertyDataSource( @SuppressWarnings(&quot;rawtypes&quot;) Property newDS) {\r\n            tf.setPropertyDataSource(newDS);\r\n            if (newDS != null &amp;&amp; getType().isAssignableFrom(newDS.getType())) {\r\n                original = (Date) newDS.getValue();\r\n            } else {\r\n                original = null;\r\n            }\r\n            df.setValue(original);\r\n        }\r\n    \r\n        @Override\r\n        public void commit() throws SourceException, InvalidValueException {\r\n            ErrorMessage em = df.getComponentError();\r\n            if (em != null) {\r\n                throw new InvalidValueException(em.getFormattedHtmlMessage());\r\n            }\r\n            tf.commit();\r\n        }\r\n    \r\n        @Override\r\n        public Class&lt;? extends Date&gt; getType() {\r\n            return Date.class;\r\n        }\r\n    \r\n        private boolean isValid(String s) {\r\n            s = StringUtils.trimToNull(s);\r\n            if (s == null) {\r\n                convertedDate = null;\r\n                return true;\r\n            }\r\n            try {\r\n                return isValid(DTF.parseDateTime(s).toDate());\r\n            } catch (Exception e) {\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        private boolean isValid(Date d) {\r\n            if (d == null || DateUtils.truncatedEquals(original, d, Calendar.DAY_OF_MONTH)) {\r\n                convertedDate = d;\r\n                return true;\r\n            }\r\n            if (DateUtils.truncatedCompareTo(minDay, d, Calendar.DAY_OF_MONTH) &lt;= 0\r\n                    &amp;&amp; DateUtils.truncatedCompareTo(maxDay, d, Calendar.DAY_OF_MONTH) &gt;= 0) {\r\n                convertedDate = d;\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        // other methods if needed\r\n    \r\n        private static class InnerErrorMessage implements ErrorMessage {\r\n    \r\n            private static final long serialVersionUID = 1L;\r\n            private static final InnerErrorMessage INSTANCE = new InnerErrorMessage();\r\n    \r\n            @Override\r\n            public String getFormattedHtmlMessage() {\r\n                return &quot;Invalid date!&quot;;\r\n            }\r\n    \r\n            @Override\r\n            public ErrorLevel getErrorLevel() {\r\n                return ErrorLevel.ERROR;\r\n            }\r\n    \r\n            private Object readResolve() {\r\n                return INSTANCE; // preserves singleton property\r\n            }\r\n    \r\n        }\r\n    \r\n        private static class InnerConverter implements Converter&lt;String, Date&gt; {\r\n    \r\n            private static final long serialVersionUID = 1L;\r\n            private static final InnerConverter INSTANCE = new InnerConverter();\r\n    \r\n            @Override\r\n            public Date convertToModel(String value, Class&lt;? extends Date&gt; targetType, Locale locale)\r\n                    throws ConversionException {\r\n                String s = StringUtils.trimToNull(value);\r\n                if (s == null) {\r\n                    return null;\r\n                }\r\n                try {\r\n                    return DTF.parseDateTime(s).toDate();\r\n                } catch (Exception e) {\r\n                    throw new ConversionException(e);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public String convertToPresentation(Date value, Class&lt;? extends String&gt; targetType, Locale locale)\r\n                    throws ConversionException {\r\n                return value == null ? &quot;&quot; : DTF.print(value.getTime());\r\n            }\r\n    \r\n            @Override\r\n            public Class&lt;Date&gt; getModelType() {\r\n                return Date.class;\r\n            }\r\n    \r\n            @Override\r\n            public Class&lt;String&gt; getPresentationType() {\r\n                return String.class;\r\n            }\r\n    \r\n            private Object readResolve() {\r\n                return INSTANCE; // preserves singleton property\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nInto your styles.css:\r\n\r\n    .truncated-date-field &gt; input.v-datefield-textfield {\r\n        display: none;\r\n    }\r\n","title":"How to validate a DateField correctly in Vaadin?","body":"<p>A little complicated but I hope it works (in Vaadin 7).<br>\nI use some Apache Commons and Joda-Time helper methods.<br>\nMaybe some customization are needed.</p>\n\n<pre><code>public class MyDateField extends CustomField&lt;Date&gt; {\n\n    private static final long serialVersionUID = 1L;\n    private static final DateTimeFormatter DTF;\n\n    static {\n        DTF = DateTimeFormat.forPattern(\"yyyy-MM-dd\"); // set timezone if needed\n    }\n\n    private TextField tf = new TextField();\n    private DateField df = new DateField();\n    private Date original;\n    private Date minDay = new Date();\n    private Date maxDay = new DateTime(9999, 12, 31, 23, 59).toDate();\n    private boolean isInnerChange;\n    private Date convertedDate;\n\n    @Override\n    protected Component initContent() {\n        tf.setConverter(InnerConverter.INSTANCE);\n        tf.setTextChangeEventMode(TextChangeEventMode.EAGER); // or LAZY\n        tf.addTextChangeListener(new TextChangeListener() {\n            private static final long serialVersionUID = 1L;\n\n            @Override\n            public void textChange(TextChangeEvent event) {\n                int pos = tf.getCursorPosition();\n                if (isValid(event.getText())) {\n                    df.setComponentError(null);\n                    isInnerChange = true;\n                    df.setValue(convertedDate);\n                } else {\n                    df.setComponentError(InnerErrorMessage.INSTANCE);\n                }\n                tf.setCursorPosition(pos);\n            }\n        });\n        df.setStyleName(\"truncated-date-field\");\n        df.addValueChangeListener(new Property.ValueChangeListener() {\n            private static final long serialVersionUID = 1L;\n\n            @Override\n            public void valueChange(Property.ValueChangeEvent event) {\n                if (!isInnerChange) {\n                    Date d = df.getValue();\n                    df.setComponentError(isValid(d) ? null : InnerErrorMessage.INSTANCE);\n                    tf.setValue(d == null ? \"\" : DTF.print(d.getTime()));\n                }\n                isInnerChange = false;\n            }\n        });\n        return new HorizontalLayout(tf, df);\n    }\n\n    @Override\n    public void setPropertyDataSource( @SuppressWarnings(\"rawtypes\") Property newDS) {\n        tf.setPropertyDataSource(newDS);\n        if (newDS != null &amp;&amp; getType().isAssignableFrom(newDS.getType())) {\n            original = (Date) newDS.getValue();\n        } else {\n            original = null;\n        }\n        df.setValue(original);\n    }\n\n    @Override\n    public void commit() throws SourceException, InvalidValueException {\n        ErrorMessage em = df.getComponentError();\n        if (em != null) {\n            throw new InvalidValueException(em.getFormattedHtmlMessage());\n        }\n        tf.commit();\n    }\n\n    @Override\n    public Class&lt;? extends Date&gt; getType() {\n        return Date.class;\n    }\n\n    private boolean isValid(String s) {\n        s = StringUtils.trimToNull(s);\n        if (s == null) {\n            convertedDate = null;\n            return true;\n        }\n        try {\n            return isValid(DTF.parseDateTime(s).toDate());\n        } catch (Exception e) {\n            return false;\n        }\n    }\n\n    private boolean isValid(Date d) {\n        if (d == null || DateUtils.truncatedEquals(original, d, Calendar.DAY_OF_MONTH)) {\n            convertedDate = d;\n            return true;\n        }\n        if (DateUtils.truncatedCompareTo(minDay, d, Calendar.DAY_OF_MONTH) &lt;= 0\n                &amp;&amp; DateUtils.truncatedCompareTo(maxDay, d, Calendar.DAY_OF_MONTH) &gt;= 0) {\n            convertedDate = d;\n            return true;\n        }\n        return false;\n    }\n\n    // other methods if needed\n\n    private static class InnerErrorMessage implements ErrorMessage {\n\n        private static final long serialVersionUID = 1L;\n        private static final InnerErrorMessage INSTANCE = new InnerErrorMessage();\n\n        @Override\n        public String getFormattedHtmlMessage() {\n            return \"Invalid date!\";\n        }\n\n        @Override\n        public ErrorLevel getErrorLevel() {\n            return ErrorLevel.ERROR;\n        }\n\n        private Object readResolve() {\n            return INSTANCE; // preserves singleton property\n        }\n\n    }\n\n    private static class InnerConverter implements Converter&lt;String, Date&gt; {\n\n        private static final long serialVersionUID = 1L;\n        private static final InnerConverter INSTANCE = new InnerConverter();\n\n        @Override\n        public Date convertToModel(String value, Class&lt;? extends Date&gt; targetType, Locale locale)\n                throws ConversionException {\n            String s = StringUtils.trimToNull(value);\n            if (s == null) {\n                return null;\n            }\n            try {\n                return DTF.parseDateTime(s).toDate();\n            } catch (Exception e) {\n                throw new ConversionException(e);\n            }\n        }\n\n        @Override\n        public String convertToPresentation(Date value, Class&lt;? extends String&gt; targetType, Locale locale)\n                throws ConversionException {\n            return value == null ? \"\" : DTF.print(value.getTime());\n        }\n\n        @Override\n        public Class&lt;Date&gt; getModelType() {\n            return Date.class;\n        }\n\n        @Override\n        public Class&lt;String&gt; getPresentationType() {\n            return String.class;\n        }\n\n        private Object readResolve() {\n            return INSTANCE; // preserves singleton property\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Into your styles.css:</p>\n\n<pre><code>.truncated-date-field &gt; input.v-datefield-textfield {\n    display: none;\n}\n</code></pre>\n"}],"owner":{"account_id":280794,"reputation":2726,"user_id":576699,"accept_rate":66,"display_name":"Mr Baloon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7692,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1664748170,"creation_date":1384761805,"question_id":20042808,"body_markdown":"I&#39;m having some trouble with validating DateFields.\r\nIn my application I have a table with DateField properties that the users should be able to edit by pressing an edit button. I also have an OK-button that commits the fields and a cancel-button that discards them.\r\n\r\n**Here&#39;s what I want to achieve**&#160;(of course there are some neat rules that has to be followed):\r\n\r\n- First off, dates can only be changed *to* the current day up to 9999-12-31.\r\n- Secondly, I preferably want the validation to be dynamic (as-you-type)\r\n- The original dates (dates that are already in the table when going into editing mode) can be any date and you should be able to commit these as they are, even if they are in the past.\r\n- If you change the date to an invalid date (you can still do this &quot;manually&quot;, i.e. directly in the field, not in the date picker) or enter an invalid character into the DateField, an error icon should be shown with a message, not letting you commit your changes until you entered a valid date.\r\n- If you change the date to an invalid date (error icon is shown), and then to a valid date, the error icon should disappear.\r\n\r\nThe **current behaviour**&#160;that I managed to implement does the following:\r\n\r\n- Allows &quot;original dates&quot; - OK\r\n- Allows changing to a valid date - OK\r\n- When changing to an invalid date (can be done &quot;manually&quot;, not using the date picker) and press enter in the field, the field is immediately reset to the original date, but the error icon is still shown - NOT ok\r\n- When entering an invalid character (can be done &quot;manually&quot;, not using the date picker) and press enter in the field, a NPE will be thrown while committing, also no error icon is shown - NOT ok\r\n- When changing to an invalid date and press enter in the field and the back to a valid date and press enter in the field, the error icon is still there - NOT ok\r\n- When changing to an invalid date and press OK (i.e. commit()), the field first resets to the original date and the changes (i.e. no change at all to the field) are committed - NOT ok\r\n\r\nNow, I tried implementing a wrapper so that I could listen for value changes, but DateField don&#39;t have convenient methods like TextField has (eg. setTextChangeEventMode and setTextChangeTimeout). I override valueChange to take care of some of the issues, but it only seems gets called when you change to a valid date, not when you change to an invalid date (you also have to press enter every time when not using the date picker)... instead another validate() gets called in the background, resetting setValidationVisible() all the time.\r\n\r\nI even tried creating a CustomDateRangeValidator, but found out it wasn&#39;t to much help.\r\n\r\nPlease help me get this straight, I have tried so many things now and I&#39;m running out of options.\r\n\r\n**Here&#39;s my createField method:**\r\n\r\n    createField(){\r\n    &#160;&#160; &#160;// some more code up here...\r\n    \r\n    &#160;&#160; &#160;if (propertyId.equals(&quot;Valid From&quot;)) {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;dField.setImmediate(true);\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;dField.setRangeStart(new Date());\r\n    &#160;&#160; &#160;&#160;&#160; &#160;dField.setRangeEnd(dateUtil.getDate(9999, 12, 31));\r\n    &#160;&#160; &#160;&#160;&#160; &#160;dField.setDateOutOfRangeMessage(&quot;Date out of range!&quot;);\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;@SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\n    &#160;&#160; &#160;&#160;&#160; &#160;TableDataValidatingWrapper&lt;TextField&gt; wField = new TableDataValidatingWrapper(dField);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;return wField;\r\n    &#160;&#160; &#160;}\r\n    \r\n    &#160;&#160; &#160;// some more code down here...\r\n    }\r\n\r\n**... and here&#39;s my wrapper:**\r\n\r\n    public class TableDataValidatingWrapper&lt;T&gt; extends CustomField&lt;T&gt; {\r\n    \r\n    &#160;&#160; &#160;private static final long serialVersionUID = 1L;\r\n    &#160;&#160; &#160;protected Field&lt;T&gt; delegate;\r\n    \r\n    &#160;&#160; &#160;public TableDataValidatingWrapper(final Field&lt;T&gt; delegate) {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;this.delegate = delegate;\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;if (delegate instanceof DateField) {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;final DateField dateField = (DateField) delegate;\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.setCaption(&quot;&quot;);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.setImmediate(true);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.setInvalidAllowed(false);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.setInvalidCommitted(true);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.setValidationVisible(false);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.addValueChangeListener(new ValueChangeListener() {\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;private static final long serialVersionUID = 1L;\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;@Override\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;public void valueChange(com.vaadin.data.Property.ValueChangeEvent event) {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;try {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.validate();\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.setValidationVisible(false);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;} catch (InvalidValueException ive) {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;//handle exception\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;} catch (Exception e) {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;//handle exception\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;}\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;}\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;});\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;}\r\n    &#160;&#160; &#160;}\r\n    \r\n    //some other overridden methods here...\r\n    }","title":"How to validate a DateField correctly in Vaadin?","body":"<p>I'm having some trouble with validating DateFields.\nIn my application I have a table with DateField properties that the users should be able to edit by pressing an edit button. I also have an OK-button that commits the fields and a cancel-button that discards them.</p>\n\n<p><strong>Here's what I want to achieve</strong> (of course there are some neat rules that has to be followed):</p>\n\n<ul>\n<li>First off, dates can only be changed <em>to</em> the current day up to 9999-12-31.</li>\n<li>Secondly, I preferably want the validation to be dynamic (as-you-type)</li>\n<li>The original dates (dates that are already in the table when going into editing mode) can be any date and you should be able to commit these as they are, even if they are in the past.</li>\n<li>If you change the date to an invalid date (you can still do this \"manually\", i.e. directly in the field, not in the date picker) or enter an invalid character into the DateField, an error icon should be shown with a message, not letting you commit your changes until you entered a valid date.</li>\n<li>If you change the date to an invalid date (error icon is shown), and then to a valid date, the error icon should disappear.</li>\n</ul>\n\n<p>The <strong>current behaviour</strong> that I managed to implement does the following:</p>\n\n<ul>\n<li>Allows \"original dates\" - OK</li>\n<li>Allows changing to a valid date - OK</li>\n<li>When changing to an invalid date (can be done \"manually\", not using the date picker) and press enter in the field, the field is immediately reset to the original date, but the error icon is still shown - NOT ok</li>\n<li>When entering an invalid character (can be done \"manually\", not using the date picker) and press enter in the field, a NPE will be thrown while committing, also no error icon is shown - NOT ok</li>\n<li>When changing to an invalid date and press enter in the field and the back to a valid date and press enter in the field, the error icon is still there - NOT ok</li>\n<li>When changing to an invalid date and press OK (i.e. commit()), the field first resets to the original date and the changes (i.e. no change at all to the field) are committed - NOT ok</li>\n</ul>\n\n<p>Now, I tried implementing a wrapper so that I could listen for value changes, but DateField don't have convenient methods like TextField has (eg. setTextChangeEventMode and setTextChangeTimeout). I override valueChange to take care of some of the issues, but it only seems gets called when you change to a valid date, not when you change to an invalid date (you also have to press enter every time when not using the date picker)... instead another validate() gets called in the background, resetting setValidationVisible() all the time.</p>\n\n<p>I even tried creating a CustomDateRangeValidator, but found out it wasn't to much help.</p>\n\n<p>Please help me get this straight, I have tried so many things now and I'm running out of options.</p>\n\n<p><strong>Here's my createField method:</strong></p>\n\n<pre><code>createField(){\n    // some more code up here...\n\n    if (propertyId.equals(\"Valid From\")) {\n        dField.setImmediate(true);\n\n        dField.setRangeStart(new Date());\n        dField.setRangeEnd(dateUtil.getDate(9999, 12, 31));\n        dField.setDateOutOfRangeMessage(\"Date out of range!\");\n\n        @SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n        TableDataValidatingWrapper&lt;TextField&gt; wField = new TableDataValidatingWrapper(dField);\n        return wField;\n    }\n\n    // some more code down here...\n}\n</code></pre>\n\n<p><strong>... and here's my wrapper:</strong></p>\n\n<pre><code>public class TableDataValidatingWrapper&lt;T&gt; extends CustomField&lt;T&gt; {\n\n    private static final long serialVersionUID = 1L;\n    protected Field&lt;T&gt; delegate;\n\n    public TableDataValidatingWrapper(final Field&lt;T&gt; delegate) {\n        this.delegate = delegate;\n\n        if (delegate instanceof DateField) {\n            final DateField dateField = (DateField) delegate;\n\n            dateField.setCaption(\"\");\n            dateField.setImmediate(true);\n            dateField.setInvalidAllowed(false);\n            dateField.setInvalidCommitted(true);\n            dateField.setValidationVisible(false);\n            dateField.addValueChangeListener(new ValueChangeListener() {\n\n                private static final long serialVersionUID = 1L;\n\n                @Override\n                public void valueChange(com.vaadin.data.Property.ValueChangeEvent event) {\n                    try {\n                        dateField.validate();\n                        dateField.setValidationVisible(false);\n                    } catch (InvalidValueException ive) {\n                        //handle exception\n                    } catch (Exception e) {\n                        //handle exception\n                    }\n                }\n            });\n\n        }\n    }\n\n//some other overridden methods here...\n}\n</code></pre>\n"},{"tags":["java","spring","tomcat","spring-boot"],"comments":[{"owner":{"account_id":6499292,"reputation":5620,"user_id":5030709,"accept_rate":40,"display_name":"Imran"},"score":0,"creation_date":1557939945,"post_id":39376602,"comment_id":98938122,"body_markdown":"Not sure this works but did you try creating a generic `@ExceptionHandler({Exception.class})` and see if the exception which was caught by this handler class is IllegalArgumentException type. Ex - `ex.getClass().getName == &quot;IllegalArgumentException&quot;` then send it has 400 else 500?.","body":"Not sure this works but did you try creating a generic <code>@ExceptionHandler({Exception.class})</code> and see if the exception which was caught by this handler class is IllegalArgumentException type. Ex - <code>ex.getClass().getName == &quot;IllegalArgumentException&quot;</code> then send it has 400 else 500?."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1557997323,"post_id":39376602,"comment_id":98956522,"body_markdown":"@Imran Strings are _not_ compared like that!","body":"@Imran Strings are <i>not</i> compared like that!"},{"owner":{"account_id":6499292,"reputation":5620,"user_id":5030709,"accept_rate":40,"display_name":"Imran"},"score":0,"creation_date":1558053152,"post_id":39376602,"comment_id":98982509,"body_markdown":"@Eugene oops, being moved from other languages to Java, sometimes gets the syntax wrong. I meant `&quot;IllegalArgumentException&quot;.equalsIgnoreCase(ex.getClass().getName))`","body":"@Eugene oops, being moved from other languages to Java, sometimes gets the syntax wrong. I meant <code>&quot;IllegalArgumentException&quot;.equalsIgnoreCase(ex.getClass().ge&zwnj;&#8203;tName))</code>"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":4,"creation_date":1558073176,"post_id":39376602,"comment_id":98986683,"body_markdown":"Maybe you don&#39;t find answers because you don&#39;t provide a simple [MCVE](http://stackoverflow.com/help/mcve) for others to reproduce the problem.","body":"Maybe you don&#39;t find answers because you don&#39;t provide a simple <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> for others to reproduce the problem."},{"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"score":0,"creation_date":1558206040,"post_id":39376602,"comment_id":99026671,"body_markdown":"Can you provide a full stack trace of the exception?","body":"Can you provide a full stack trace of the exception?"},{"owner":{"account_id":4689730,"reputation":3028,"user_id":6183182,"accept_rate":30,"display_name":"swayamraina"},"score":0,"creation_date":1558245736,"post_id":39376602,"comment_id":99032247,"body_markdown":"what is the exact error msg you are getting?","body":"what is the exact error msg you are getting?"},{"owner":{"account_id":4689730,"reputation":3028,"user_id":6183182,"accept_rate":30,"display_name":"swayamraina"},"score":0,"creation_date":1558246260,"post_id":39376602,"comment_id":99032338,"body_markdown":"How to replicate this?","body":"How to replicate this?"},{"owner":{"account_id":1314657,"reputation":25646,"user_id":1261825,"accept_rate":74,"display_name":"samanime"},"score":0,"creation_date":1558255905,"post_id":39376602,"comment_id":99034053,"body_markdown":"This was posted almost two years ago, so I don&#39;t remember everything exactly. But basically, using Spring Boot (probably 1.x) if you had something weird in your cookies, the `LegacyCookieProcessor` would throw an exception. Doesn&#39;t matter why it threw the exception, the question is just how it can be intercepted to be handle.","body":"This was posted almost two years ago, so I don&#39;t remember everything exactly. But basically, using Spring Boot (probably 1.x) if you had something weird in your cookies, the <code>LegacyCookieProcessor</code> would throw an exception. Doesn&#39;t matter why it threw the exception, the question is just how it can be intercepted to be handle."},{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":0,"creation_date":1558346152,"post_id":39376602,"comment_id":99057442,"body_markdown":"@kriegaex I have now added a simple MCVE.","body":"@kriegaex I have now added a simple MCVE."},{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":0,"creation_date":1558346280,"post_id":39376602,"comment_id":99057512,"body_markdown":"@Imran The exception is not caught when using `@ExceptionHandler({Exception.class})`. It does not go into any ExceptionHandler.","body":"@Imran The exception is not caught when using <code>@ExceptionHandler({Exception.class})</code>. It does not go into any ExceptionHandler."},{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":0,"creation_date":1558346360,"post_id":39376602,"comment_id":99057553,"body_markdown":"@swayamraina The exact error message is the following: `Error parsing HTTP request header Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.` And then right below: `java.lang.IllegalArgumentException: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986`.","body":"@swayamraina The exact error message is the following: <code>Error parsing HTTP request header Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.</code> And then right below: <code>java.lang.IllegalArgumentException: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986</code>."},{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":0,"creation_date":1558346592,"post_id":39376602,"comment_id":99057667,"body_markdown":"@OrtomalaLokni Please see the updated question.","body":"@OrtomalaLokni Please see the updated question."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":5,"creation_date":1558347113,"post_id":39376602,"comment_id":99057904,"body_markdown":"You cannot intercept this. This exception is thrown before it is handled by anything Servlet API related, So no servlet filter, listener or `DispatcherServlet` is even getting involved here. It is just tomcat blowing up internally and very early.","body":"You cannot intercept this. This exception is thrown before it is handled by anything Servlet API related, So no servlet filter, listener or <code>DispatcherServlet</code> is even getting involved here. It is just tomcat blowing up internally and very early."},{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":0,"creation_date":1558349458,"post_id":39376602,"comment_id":99059201,"body_markdown":"@M.Deinum Is there any way to customize this behavior? E.g. returning a hard-coded JSON string whenever Tomcat is blowing up?","body":"@M.Deinum Is there any way to customize this behavior? E.g. returning a hard-coded JSON string whenever Tomcat is blowing up?"},{"owner":{"account_id":6499292,"reputation":5620,"user_id":5030709,"accept_rate":40,"display_name":"Imran"},"score":1,"creation_date":1558380839,"post_id":39376602,"comment_id":99074595,"body_markdown":"@ssc-hrep3 oddly, I am not able to replicate same behavior on my side for `http://localhost:8080/not-working?demo=test^123`, its giving me 200. can you please advise which version of Java you are using and also any special properties enabled?. A sample complete github repo helps to try few options.","body":"@ssc-hrep3 oddly, I am not able to replicate same behavior on my side for <code>http:&#47;&#47;localhost:8080&#47;not-working?demo=test^123</code>, its giving me 200. can you please advise which version of Java you are using and also any special properties enabled?. A sample complete github repo helps to try few options."},{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":0,"creation_date":1558388154,"post_id":39376602,"comment_id":99077104,"body_markdown":"@Imran, Did you try with curl (`curl -i http://localhost:8080/not-working?demo=test^123`)? Sometimes the browser escapes the argument automatically. I can set up a repo though, if it does not work like that.","body":"@Imran, Did you try with curl (<code>curl -i http:&#47;&#47;localhost:8080&#47;not-working?demo=test^123</code>)? Sometimes the browser escapes the argument automatically. I can set up a repo though, if it does not work like that."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1558404218,"post_id":39376602,"comment_id":99080108,"body_markdown":"@ssc-hrep3, see how useful the MCVE is? New people - not necessarily me who asked for the MCVE in the first place because I am an AOP expert but don&#39;t know much about containers - enter the discussion and contribute valuable information, reviving a 2.5 years old question. `:-)`","body":"@ssc-hrep3, see how useful the MCVE is? New people - not necessarily me who asked for the MCVE in the first place because I am an AOP expert but don&#39;t know much about containers - enter the discussion and contribute valuable information, reviving a 2.5 years old question. <code>:-)</code>"},{"owner":{"account_id":6499292,"reputation":5620,"user_id":5030709,"accept_rate":40,"display_name":"Imran"},"score":0,"creation_date":1558447150,"post_id":39376602,"comment_id":99098679,"body_markdown":"@ssc-hrep3 you were right!. With postman, it was escaping it and with curl, able to get the exception.","body":"@ssc-hrep3 you were right!. With postman, it was escaping it and with curl, able to get the exception."},{"owner":{"account_id":8393641,"reputation":850,"user_id":6301562,"display_name":"dawis11"},"score":0,"creation_date":1642725742,"post_id":39376602,"comment_id":125155181,"body_markdown":"@samanime are you solved this issue? I also want catch all Tomcat execeptions and throw more readable exeception message to the client","body":"@samanime are you solved this issue? I also want catch all Tomcat execeptions and throw more readable exeception message to the client"},{"owner":{"account_id":1314657,"reputation":25646,"user_id":1261825,"accept_rate":74,"display_name":"samanime"},"score":0,"creation_date":1642799593,"post_id":39376602,"comment_id":125177051,"body_markdown":"@dawis11 This was quite a while back, but I don&#39;t believe we ever did.","body":"@dawis11 This was quite a while back, but I don&#39;t believe we ever did."}],"answers":[{"tags":[],"owner":{"account_id":5538696,"reputation":562,"user_id":4396129,"accept_rate":75,"display_name":"Rahul kalivaradarajalu"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1558429139,"creation_date":1558429139,"answer_id":56234713,"question_id":39376602,"body_markdown":"This is a feature of Tomcat itself as mentioned in [this][1] answer. \r\n\r\n\r\nHowever, you can do something like this by allowing the special characters that you are expecting as part of your request and handle them yourself. \r\n\r\nFirst, you need to allow the special characters that you would need to handle by setting up the **relaxedQueryChars** like this. \r\n\r\n\r\n\r\n    import org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\n    import org.springframework.boot.web.server.WebServerFactoryCustomizer;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    public class TomcatCustomizer implements \r\n    WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\r\n\r\n\t@Override\r\n\tpublic void customize(TomcatServletWebServerFactory factory) {\r\n\t\tfactory.addConnectorCustomizers((connector) -&gt; {\r\n\t\t\tconnector.setAttribute(&quot;relaxedQueryChars&quot;, &quot;^&quot;);\r\n\t\t});\r\n \t }\r\n    }\r\n\r\nand later handle the special characters in each of your requests or create an interceptor and handle it in a common place. \r\n\r\nTo handle it in the request individually you can do something like this. \r\n\r\n    \r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    public class DemoRestController {\r\n\r\n\t@GetMapping(value = &quot;/working&quot;)\r\n\tpublic void working() {\r\n\t\tthrow new java.lang.IllegalArgumentException();\r\n\t}\r\n\r\n\t@GetMapping(value = &quot;/not-working&quot;)\r\n\tpublic String notWorking(@RequestParam String demo) {\r\n\t\t\r\n        if (demo.contains(&quot;^&quot;)) {\r\n\t\t\tthrow new java.lang.IllegalArgumentException(&quot;^&quot;);\r\n\t\t}\r\n\t\treturn &quot;You need to pass e.g. the character ^ as a request param to test this.&quot;;\r\n\t}\r\n\r\n    }\r\n\r\n\r\nYou might also want to refer [this][2] answer to decide if you really need this fix. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/41150474/4396129\r\n  [2]: https://stackoverflow.com/a/50377112/4396129","title":"Handle Embedded Tomcat Exception in Spring Boot","body":"<p>This is a feature of Tomcat itself as mentioned in <a href=\"https://stackoverflow.com/a/41150474/4396129\">this</a> answer. </p>\n\n<p>However, you can do something like this by allowing the special characters that you are expecting as part of your request and handle them yourself. </p>\n\n<p>First, you need to allow the special characters that you would need to handle by setting up the <strong>relaxedQueryChars</strong> like this. </p>\n\n<pre><code>import org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.boot.web.server.WebServerFactoryCustomizer;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class TomcatCustomizer implements \nWebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\n\n@Override\npublic void customize(TomcatServletWebServerFactory factory) {\n    factory.addConnectorCustomizers((connector) -&gt; {\n        connector.setAttribute(\"relaxedQueryChars\", \"^\");\n    });\n }\n}\n</code></pre>\n\n<p>and later handle the special characters in each of your requests or create an interceptor and handle it in a common place. </p>\n\n<p>To handle it in the request individually you can do something like this. </p>\n\n<pre><code>import org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class DemoRestController {\n\n@GetMapping(value = \"/working\")\npublic void working() {\n    throw new java.lang.IllegalArgumentException();\n}\n\n@GetMapping(value = \"/not-working\")\npublic String notWorking(@RequestParam String demo) {\n\n    if (demo.contains(\"^\")) {\n        throw new java.lang.IllegalArgumentException(\"^\");\n    }\n    return \"You need to pass e.g. the character ^ as a request param to test this.\";\n}\n\n}\n</code></pre>\n\n<p>You might also want to refer <a href=\"https://stackoverflow.com/a/50377112/4396129\">this</a> answer to decide if you really need this fix. </p>\n"},{"tags":[],"owner":{"account_id":26454908,"reputation":1,"user_id":20097595,"display_name":"user20097595"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664746676,"creation_date":1664261527,"answer_id":73863449,"question_id":39376602,"body_markdown":"Try to catch the `IllegalArgumentException` in your filter, then call  `HttpServletResponse.sendError(int sc, String msg);`. This may catch the `IllegalArgumentException`s that do not come from Tomcat though. But I suppose you already handle them properly.","title":"Handle Embedded Tomcat Exception in Spring Boot","body":"<p>Try to catch the <code>IllegalArgumentException</code> in your filter, then call  <code>HttpServletResponse.sendError(int sc, String msg);</code>. This may catch the <code>IllegalArgumentException</code>s that do not come from Tomcat though. But I suppose you already handle them properly.</p>\n"}],"owner":{"account_id":1314657,"reputation":25646,"user_id":1261825,"accept_rate":74,"display_name":"samanime"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4765,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":2,"score":22,"last_activity_date":1664746676,"creation_date":1473271725,"question_id":39376602,"body_markdown":"We have an issue where embedded Tomcat is throwing `IllegalArgumentException` from the `LegacyCookieProcessor`. It throws a 500 HTTP response code.\r\n\r\nWe need to handle the exception and do something with it (specifically, send it as a 400 instead).\r\n\r\nThe typical `@ExceptionHandler(IllegalArgumentException.class)` doesn&#39;t seem to get triggered and Google only seems to give results for dealing with Spring Boot specific exceptions.\r\n\r\n---\r\n###Example:\r\n\r\nHere is an example to reproduce the behavior. You can execute the example by downloading the initial project including spring-web (https://start.spring.io/) in version 2.1.5.RELEASE. Then add the following two classes to your project.\r\n\r\n&gt; DemoControllerAdvice.java\r\n\r\n\tpackage com.example.demo;\r\n\r\n\timport java.util.HashMap;\r\n\timport java.util.Map;\r\n\r\n\timport org.springframework.http.HttpStatus;\r\n\timport org.springframework.web.bind.annotation.ExceptionHandler;\r\n\timport org.springframework.web.bind.annotation.ResponseStatus;\r\n\timport org.springframework.web.bind.annotation.RestControllerAdvice;\r\n\r\n\t@RestControllerAdvice\r\n\tpublic class DemoControllerAdvice {\r\n\r\n\t\t@ExceptionHandler(IllegalArgumentException.class)\r\n\t\t@ResponseStatus(HttpStatus.FORBIDDEN)\r\n\t\tpublic Map&lt;String, String&gt; forbiddenHandler() {\r\n\t\t\tMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\t\t\tmap.put(&quot;error&quot;, &quot;An error occurred.&quot;);\r\n\t\t\tmap.put(&quot;status&quot;, HttpStatus.FORBIDDEN.value() + &quot; &quot; + HttpStatus.FORBIDDEN.name());\r\n\t\t\treturn map;\r\n\t\t}\r\n\r\n\t}\r\n\r\n---\r\n\r\n&gt; DemoRestController.java\r\n\r\n\tpackage com.example.demo;\r\n\r\n\timport org.springframework.web.bind.annotation.GetMapping;\r\n\timport org.springframework.web.bind.annotation.RequestParam;\r\n\timport org.springframework.web.bind.annotation.RestController;\r\n\r\n\t@RestController\r\n\tpublic class DemoRestController {\r\n\r\n\t\t@GetMapping(value = &quot;/working&quot;)\r\n\t\tpublic void working() {\r\n\t\t\tthrow new java.lang.IllegalArgumentException();\r\n\t\t}\r\n\r\n\t\t@GetMapping(value = &quot;/not-working&quot;)\r\n\t\tpublic String notWorking(@RequestParam String demo) {\r\n\t\t\treturn &quot;You need to pass e.g. the character ^ as a request param to test this.&quot;;\r\n\t\t}\r\n\r\n\t}\r\n\r\n---\r\n\r\nThen, start the server and request the following URLs in the browser:\r\n\r\n- `http://localhost:8080/working` An `IllegalArgumentException` is thrown manually in the controller. It is then caught by the ControllerAdvice and will therefore produce a JSON string containing the information defined in the `DemoControllerAdvice`\r\n- `http://localhost:8080/not-working?demo=test^123` An `IllegalArgumentException` is thrown by the Tomcat, because the request param cannot be parsed (because of the invalid character `^`). The exception however is not caught by the ControllerAdvice. It shows the default HTML page provided by Tomcat. It also provides a different error code than defined in the `DemoControllerAdvice`.\r\n\r\nIn the logs the following message is shown:\r\n\r\n&gt; o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\r\n Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\r\n\r\n&gt; java.lang.IllegalArgumentException: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986\r\n\tat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:467) ~[tomcat-embed-core-9.0.19.jar:9.0.19]","title":"Handle Embedded Tomcat Exception in Spring Boot","body":"<p>We have an issue where embedded Tomcat is throwing <code>IllegalArgumentException</code> from the <code>LegacyCookieProcessor</code>. It throws a 500 HTTP response code.</p>\n\n<p>We need to handle the exception and do something with it (specifically, send it as a 400 instead).</p>\n\n<p>The typical <code>@ExceptionHandler(IllegalArgumentException.class)</code> doesn't seem to get triggered and Google only seems to give results for dealing with Spring Boot specific exceptions.</p>\n\n<hr>\n\n<h3>Example:</h3>\n\n<p>Here is an example to reproduce the behavior. You can execute the example by downloading the initial project including spring-web (<a href=\"https://start.spring.io/\" rel=\"noreferrer\">https://start.spring.io/</a>) in version 2.1.5.RELEASE. Then add the following two classes to your project.</p>\n\n<blockquote>\n  <p>DemoControllerAdvice.java</p>\n</blockquote>\n\n<pre><code>package com.example.demo;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseStatus;\nimport org.springframework.web.bind.annotation.RestControllerAdvice;\n\n@RestControllerAdvice\npublic class DemoControllerAdvice {\n\n    @ExceptionHandler(IllegalArgumentException.class)\n    @ResponseStatus(HttpStatus.FORBIDDEN)\n    public Map&lt;String, String&gt; forbiddenHandler() {\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        map.put(\"error\", \"An error occurred.\");\n        map.put(\"status\", HttpStatus.FORBIDDEN.value() + \" \" + HttpStatus.FORBIDDEN.name());\n        return map;\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>DemoRestController.java</p>\n</blockquote>\n\n<pre><code>package com.example.demo;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class DemoRestController {\n\n    @GetMapping(value = \"/working\")\n    public void working() {\n        throw new java.lang.IllegalArgumentException();\n    }\n\n    @GetMapping(value = \"/not-working\")\n    public String notWorking(@RequestParam String demo) {\n        return \"You need to pass e.g. the character ^ as a request param to test this.\";\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<p>Then, start the server and request the following URLs in the browser:</p>\n\n<ul>\n<li><code>http://localhost:8080/working</code> An <code>IllegalArgumentException</code> is thrown manually in the controller. It is then caught by the ControllerAdvice and will therefore produce a JSON string containing the information defined in the <code>DemoControllerAdvice</code></li>\n<li><code>http://localhost:8080/not-working?demo=test^123</code> An <code>IllegalArgumentException</code> is thrown by the Tomcat, because the request param cannot be parsed (because of the invalid character <code>^</code>). The exception however is not caught by the ControllerAdvice. It shows the default HTML page provided by Tomcat. It also provides a different error code than defined in the <code>DemoControllerAdvice</code>.</li>\n</ul>\n\n<p>In the logs the following message is shown:</p>\n\n<blockquote>\n  <p>o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\n   Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.</p>\n  \n  <p>java.lang.IllegalArgumentException: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986\n      at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:467) ~[tomcat-embed-core-9.0.19.jar:9.0.19]</p>\n</blockquote>\n"},{"tags":["java","oop","inheritance","design-patterns","visitor-pattern"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1664738149,"post_id":73928621,"comment_id":130535493,"body_markdown":"Yes, double-dispatch (aka visitor pattern). Apart from that, not much you can do until Java supports pattern matching on the type (which is a &quot;hidden&quot; instanceof check)","body":"Yes, double-dispatch (aka visitor pattern). Apart from that, not much you can do until Java supports pattern matching on the type (which is a &quot;hidden&quot; instanceof check)"},{"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"score":0,"creation_date":1664738298,"post_id":73928621,"comment_id":130535520,"body_markdown":"Could you please give the pseudocode for using visitor pattern? In the examples I have seen, it is added for all implementations which is not useful in my case.","body":"Could you please give the pseudocode for using visitor pattern? In the examples I have seen, it is added for all implementations which is not useful in my case."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664738520,"post_id":73928621,"comment_id":130535559,"body_markdown":"That&#39;s how the visitor pattern is implemented: the visitor needs to handle all types via `visit` methods and all types need to implement an `accept` method. See &lt;https://refactoring.guru/design-patterns/visitor&gt;","body":"That&#39;s how the visitor pattern is implemented: the visitor needs to handle all types via <code>visit</code> methods and all types need to implement an <code>accept</code> method. See &lt;<a href=\"https://refactoring.guru/design-patterns/visitor\" rel=\"nofollow noreferrer\">refactoring.guru/design-patterns/visitor</a>&gt;"},{"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"score":0,"creation_date":1664738972,"post_id":73928621,"comment_id":130535626,"body_markdown":"Are you saying I will add `accept(Visitor visitor)` to  interface1? This would lead to implementing `accept(Visitor visitor)` in implementation1 where this visitor is not applicable and related empty visit function right?","body":"Are you saying I will add <code>accept(Visitor visitor)</code> to  interface1? This would lead to implementing <code>accept(Visitor visitor)</code> in implementation1 where this visitor is not applicable and related empty visit function right?"},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":1,"creation_date":1664747004,"post_id":73928621,"comment_id":130537043,"body_markdown":"Do you really need `isFunction2Applicable`? You could call `function2` directly without that check: If the object is an instance of `interface1` only, the call to `function2` won&#39;t do anything since the method body is empty. Of course, implementations might override that behavior (after all it&#39;s just a default method) so whether you need want that check depends on your requirements.","body":"Do you really need <code>isFunction2Applicable</code>? You could call <code>function2</code> directly without that check: If the object is an instance of <code>interface1</code> only, the call to <code>function2</code> won&#39;t do anything since the method body is empty. Of course, implementations might override that behavior (after all it&#39;s just a default method) so whether you need want that check depends on your requirements."}],"answers":[{"tags":[],"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664738672,"creation_date":1664738672,"answer_id":73928709,"question_id":73928621,"body_markdown":"One way to do so is to define some method in the base interface and override it in the sub-interfaces or implementations. In the following example I&#39;m using a `default` method but you don&#39;t have to do so; the method can be abstract and only be implemented in the implementations:\r\n\r\n```java\r\ninterface I1 {\r\n    void function1();\r\n\r\n    default void execute() {\r\n        function1();\r\n    }\r\n}\r\n\r\ninterface I2 extends I1 {\r\n    void function2();\r\n\r\n    @Override\r\n    default void execute() {\r\n        function1();\r\n        function2();\r\n    }\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    List&lt;I1&gt; ifaces = new ArrayList&lt;&gt;();\r\n\r\n    for (I1 iface : ifaces) {\r\n        iface.execute();\r\n    }\r\n}\r\n```","title":"How to iterate over mixed interface implementation array?","body":"<p>One way to do so is to define some method in the base interface and override it in the sub-interfaces or implementations. In the following example I'm using a <code>default</code> method but you don't have to do so; the method can be abstract and only be implemented in the implementations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface I1 {\n    void function1();\n\n    default void execute() {\n        function1();\n    }\n}\n\ninterface I2 extends I1 {\n    void function2();\n\n    @Override\n    default void execute() {\n        function1();\n        function2();\n    }\n}\n\npublic static void main(String[] args) {\n    List&lt;I1&gt; ifaces = new ArrayList&lt;&gt;();\n\n    for (I1 iface : ifaces) {\n        iface.execute();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664746138,"creation_date":1664737943,"question_id":73928621,"body_markdown":"I have the following classes.\r\n\r\n```\r\ninterface interface1() {\r\n    void function1()\r\n}\r\n```\r\n\r\n```\r\ninterface interface2 extends interface1() {\r\n    void function2()\r\n}\r\n```\r\n\r\n```\r\nclass implementation1 implements interface1 () {\r\n    @Override\r\n    void function1() {\r\n        // Implement\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass implementation2 implements interface2 () {\r\n    @Override\r\n    void function1() {\r\n        // Implement\r\n    }\r\n\r\n    @Override\r\n    void function2() {\r\n        // Implement\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass Main() {\r\n    List&lt;interface1&gt; interfaceList = new ArrayList();\r\n    for (interface : interfaceList) {\r\n        if (interface instanceOf(interface2)) {\r\n            interface.function2();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nCould you please tell if there is a way to prevent using instanceOf? I read visitor pattern could be used but I am not getting the exact changes to be done.\r\n\r\nFollowing are the classes after discussing with Alex R below (instanceOf is avoided since it is not recommended, visitor pattern is avoided since it still leads to empty visit functions). Please let me know if this can be done better using other design patterns.\r\n\r\n```\r\ninterface interface1() {\r\n    void function1();\r\n\r\n    boolean isFunction2Applicable();\r\n    \r\n    default void function2() {\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass implementation1 implements interface1 () {\r\n    @Override\r\n    void function1() {\r\n        // Implement\r\n    }\r\n\r\n    @Override\r\n    boolean isFunction2Applicable() {\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass implementation2 implements interface1 () {\r\n    @Override\r\n    void function1() {\r\n        // Implement\r\n    }\r\n\r\n    @Override\r\n    boolean isFunction2Applicable() {\r\n        return true;\r\n    }\r\n    \r\n    @Override\r\n    void function2() {\r\n        // Implement\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass Main() {\r\n    List&lt;interface1&gt; interfaceList = new ArrayList();\r\n    for (interface : interfaceList) {\r\n        if (interface.isFunction2Applicable()) {\r\n            interface.function2();\r\n        }\r\n    }\r\n}\r\n```","title":"How to iterate over mixed interface implementation array?","body":"<p>I have the following classes.</p>\n<pre><code>interface interface1() {\n    void function1()\n}\n</code></pre>\n<pre><code>interface interface2 extends interface1() {\n    void function2()\n}\n</code></pre>\n<pre><code>class implementation1 implements interface1 () {\n    @Override\n    void function1() {\n        // Implement\n    }\n}\n</code></pre>\n<pre><code>class implementation2 implements interface2 () {\n    @Override\n    void function1() {\n        // Implement\n    }\n\n    @Override\n    void function2() {\n        // Implement\n    }\n}\n</code></pre>\n<pre><code>class Main() {\n    List&lt;interface1&gt; interfaceList = new ArrayList();\n    for (interface : interfaceList) {\n        if (interface instanceOf(interface2)) {\n            interface.function2();\n        }\n    }\n}\n</code></pre>\n<p>Could you please tell if there is a way to prevent using instanceOf? I read visitor pattern could be used but I am not getting the exact changes to be done.</p>\n<p>Following are the classes after discussing with Alex R below (instanceOf is avoided since it is not recommended, visitor pattern is avoided since it still leads to empty visit functions). Please let me know if this can be done better using other design patterns.</p>\n<pre><code>interface interface1() {\n    void function1();\n\n    boolean isFunction2Applicable();\n    \n    default void function2() {\n    }\n}\n</code></pre>\n<pre><code>class implementation1 implements interface1 () {\n    @Override\n    void function1() {\n        // Implement\n    }\n\n    @Override\n    boolean isFunction2Applicable() {\n        return false;\n    }\n}\n</code></pre>\n<pre><code>class implementation2 implements interface1 () {\n    @Override\n    void function1() {\n        // Implement\n    }\n\n    @Override\n    boolean isFunction2Applicable() {\n        return true;\n    }\n    \n    @Override\n    void function2() {\n        // Implement\n    }\n}\n</code></pre>\n<pre><code>class Main() {\n    List&lt;interface1&gt; interfaceList = new ArrayList();\n    for (interface : interfaceList) {\n        if (interface.isFunction2Applicable()) {\n            interface.function2();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","reference","integer","wrapper"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1664746768,"post_id":73929335,"comment_id":130537001,"body_markdown":"What output would you have expected if you had written `i = i - 1;` instead of `i--;`?","body":"What output would you have expected if you had written <code>i = i - 1;</code> instead of <code>i--;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1664745007,"creation_date":1664745007,"answer_id":73929374,"question_id":73929335,"body_markdown":"`Integer` objects are immutable.\r\n\r\nAfter `Integer num = i;` the local variable `num` references the same `Integer` object as `i` - specifically an `Integer` object that contains the value 10.\r\n\r\nBut when you write `i--;` then `i` can no longer reference the same `Integer` object as `num` - the local variable `i` gets assigned with a reference to an `Integer` object that contains the value 9.\r\n\r\nSince `num` was not assigned to it still references the `Integer` object with the value 10.","title":"Integer class does not behave as reference type","body":"<p><code>Integer</code> objects are immutable.</p>\n<p>After <code>Integer num = i;</code> the local variable <code>num</code> references the same <code>Integer</code> object as <code>i</code> - specifically an <code>Integer</code> object that contains the value 10.</p>\n<p>But when you write <code>i--;</code> then <code>i</code> can no longer reference the same <code>Integer</code> object as <code>num</code> - the local variable <code>i</code> gets assigned with a reference to an <code>Integer</code> object that contains the value 9.</p>\n<p>Since <code>num</code> was not assigned to it still references the <code>Integer</code> object with the value 10.</p>\n"}],"owner":{"account_id":11450406,"reputation":3,"user_id":8392955,"display_name":"Egor Khorozhansky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73929374,"answer_count":1,"score":0,"last_activity_date":1664745883,"creation_date":1664744539,"question_id":73929335,"body_markdown":"Integer doesn&#39;t behave as a Reference Type. For example code below produces unexpected result\r\n\r\n```\r\n\r\n    class Playground {\r\n            public static void main(String[ ] args) {\r\n                Integer i = 10;\r\n                Integer num = i;\r\n                i--;\r\n                System.out.println(&quot;i = &quot; + i);\r\n                System.out.println(&quot;num = &quot; + num);\r\n            }\r\n    }\r\n\r\n```\r\n\r\nOUTPUT:\r\n```\r\ni = 9\r\nnum = 10\r\n```\r\n\r\nI have expected &quot;num&quot; to be 9 as well cause Integer &quot;num&quot; references  Integer &quot;i&quot;. The substractaction happens here from the same object num is referencing, but looks like &quot;-&quot; operator is overriding some behaviour and creates an new Integer object. What exactly is happening here? And what other classes behave like that?","title":"Integer class does not behave as reference type","body":"<p>Integer doesn't behave as a Reference Type. For example code below produces unexpected result</p>\n<pre><code>\n    class Playground {\n            public static void main(String[ ] args) {\n                Integer i = 10;\n                Integer num = i;\n                i--;\n                System.out.println(&quot;i = &quot; + i);\n                System.out.println(&quot;num = &quot; + num);\n            }\n    }\n\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>i = 9\nnum = 10\n</code></pre>\n<p>I have expected &quot;num&quot; to be 9 as well cause Integer &quot;num&quot; references  Integer &quot;i&quot;. The substractaction happens here from the same object num is referencing, but looks like &quot;-&quot; operator is overriding some behaviour and creates an new Integer object. What exactly is happening here? And what other classes behave like that?</p>\n"},{"tags":["java","spring-boot","format","localdatetime"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1664370605,"post_id":73881996,"comment_id":130455984,"body_markdown":"*I got an error.* please share atleast the message","body":"<i>I got an error.</i> please share atleast the message"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1664371969,"post_id":73881996,"comment_id":130456572,"body_markdown":"I can not repoduce it. Are there any nonprintable character after the date?","body":"I can not repoduce it. Are there any nonprintable character after the date?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1664372848,"post_id":73881996,"comment_id":130456879,"body_markdown":"@Jens No. How can I do that?","body":"@Jens No. How can I do that?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1664439161,"post_id":73881996,"comment_id":130473281,"body_markdown":"This is not related to Spring Batch per se. Please extract the part that is related to date parsing in a unit test or in a [minimal example](https://stackoverflow.com/help/minimal-reproducible-example) that reproduces the issue to be able to help you in an efficient way.","body":"This is not related to Spring Batch per se. Please extract the part that is related to date parsing in a unit test or in a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal example</a> that reproduces the issue to be able to help you in an efficient way."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664473597,"creation_date":1664473597,"answer_id":73899726,"question_id":73881996,"body_markdown":"You have used the wrong type for `birthday`; it should be `LocalDate` as you want to keep only the date part.\r\n\r\nChange\r\n\r\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n    private LocalDateTime birthday;\r\n\r\nto\r\n\r\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n    private LocalDate birthday;\r\n\r\nYou will also need to change the function definition to return `LocalDate` out of the parsed `LocalDateTime` as shown in the demo below:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(getLocalDate(&quot;2000-08-15 19:07:46&quot;));\r\n        }\r\n    \r\n        private static LocalDate getLocalDate(String birthday) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n            return LocalDateTime.parse(birthday, formatter).toLocalDate();\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2000-08-15","title":"Spring Boot Batch Processing LocalDatetime Format yyyy-MM-dd HH:mm:ss to yyyy-MM-dd","body":"<p>You have used the wrong type for <code>birthday</code>; it should be <code>LocalDate</code> as you want to keep only the date part.</p>\n<p>Change</p>\n<pre><code>@JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\nprivate LocalDateTime birthday;\n</code></pre>\n<p>to</p>\n<pre><code>@JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\nprivate LocalDate birthday;\n</code></pre>\n<p>You will also need to change the function definition to return <code>LocalDate</code> out of the parsed <code>LocalDateTime</code> as shown in the demo below:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(getLocalDate(&quot;2000-08-15 19:07:46&quot;));\n    }\n\n    private static LocalDate getLocalDate(String birthday) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n        return LocalDateTime.parse(birthday, formatter).toLocalDate();\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2000-08-15\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1048,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73899726,"answer_count":1,"score":1,"last_activity_date":1664744698,"creation_date":1664370466,"question_id":73881996,"body_markdown":"I have a problem about formatting localdatetime when I read values from csv file and add them into h2 database.\r\n\r\nHere is the example of defining localdatetime in csv file.\r\n\r\n    2000-08-15 19:07:46\r\n\r\nI want to get 2000-08-15 (removing time part).\r\nEven if I defined `DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);` instead of `DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);` in localDateTimeFormat method , I got an error.\r\n\r\nHere is the error shown below.\r\n\r\n    java.time.format.DateTimeParseException: Text &#39;1999-01-25 13:08:57&#39; could not be parsed, unparsed text found at index 10\r\n    \tat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2109) ~[na:na]\r\n    \tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:2008) ~[na:na]\r\n    \tat java.base/java.time.LocalDateTime.parse(LocalDateTime.java:494) ~[na:na]\r\n    \tat com.example.batchprocessingcsvtodatabase.config.UserProcessor.localDateTimeFormat(UserProcessor.java:37) ~[classes/:na]\r\n    \tat com.example.batchprocessingcsvtodatabase.config.UserProcessor.process(UserProcessor.java:26) ~[classes/:na]\r\n    \tat com.example.batchprocessingcsvtodatabase.config.UserProcessor.process(UserProcessor.java:14) ~[classes/:na]\r\n\r\nHow can I fix it?\r\n\r\nHere is the user class shown below.\r\n\r\n    public class User extends BaseEntity{\r\n    \r\n        @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\r\n        private UUID personId;\r\n    \r\n        private String firstName;\r\n        private String lastName;\r\n        private String email;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        private Gender gender;\r\n    \r\n        private String country;\r\n    \r\n        @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n        private LocalDateTime birthday;\r\n    \r\n        private int age;\r\n    }\r\n\r\n\r\nHere is the processor class shown below.\r\n\r\n    public class UserProcessor implements ItemProcessor&lt;UserInput, User&gt; {\r\n    \r\n    \r\n        @Override\r\n        public User process(UserInput userInput) throws Exception {\r\n    \r\n            User user = User.builder()\r\n                    .personId(UUID.fromString(userInput.getPersonId()))\r\n                    .firstName(userInput.getFirstName())\r\n                    .lastName(userInput.getLastName())\r\n                    .email(userInput.getEmail())\r\n                    .country(userInput.getCountry())\r\n                    .birthday(localDateTimeFormat(userInput.getBirthday()))\r\n                    .gender(userInput.getGender().equals(&quot;Male&quot;) ? Gender.MALE : Gender.FEMALE)\r\n                    .age(Period.between(localDateTimeFormat(userInput.getBirthday()).toLocalDate(), LocalDate.now()).getYears())\r\n                    .build();\r\n    \r\n            return user;\r\n        }\r\n    \r\n        private LocalDateTime localDateTimeFormat(String birthday) {\r\n    \r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n            LocalDateTime formatDateTime = LocalDateTime.parse(birthday, formatter);\r\n    \r\n            return formatDateTime;\r\n        }\r\n    }","title":"Spring Boot Batch Processing LocalDatetime Format yyyy-MM-dd HH:mm:ss to yyyy-MM-dd","body":"<p>I have a problem about formatting localdatetime when I read values from csv file and add them into h2 database.</p>\n<p>Here is the example of defining localdatetime in csv file.</p>\n<pre><code>2000-08-15 19:07:46\n</code></pre>\n<p>I want to get 2000-08-15 (removing time part).\nEven if I defined <code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);</code> instead of <code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);</code> in localDateTimeFormat method , I got an error.</p>\n<p>Here is the error shown below.</p>\n<pre><code>java.time.format.DateTimeParseException: Text '1999-01-25 13:08:57' could not be parsed, unparsed text found at index 10\n    at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2109) ~[na:na]\n    at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:2008) ~[na:na]\n    at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:494) ~[na:na]\n    at com.example.batchprocessingcsvtodatabase.config.UserProcessor.localDateTimeFormat(UserProcessor.java:37) ~[classes/:na]\n    at com.example.batchprocessingcsvtodatabase.config.UserProcessor.process(UserProcessor.java:26) ~[classes/:na]\n    at com.example.batchprocessingcsvtodatabase.config.UserProcessor.process(UserProcessor.java:14) ~[classes/:na]\n</code></pre>\n<p>How can I fix it?</p>\n<p>Here is the user class shown below.</p>\n<pre><code>public class User extends BaseEntity{\n\n    @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\n    private UUID personId;\n\n    private String firstName;\n    private String lastName;\n    private String email;\n\n    @Enumerated(EnumType.STRING)\n    private Gender gender;\n\n    private String country;\n\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\n    private LocalDateTime birthday;\n\n    private int age;\n}\n</code></pre>\n<p>Here is the processor class shown below.</p>\n<pre><code>public class UserProcessor implements ItemProcessor&lt;UserInput, User&gt; {\n\n\n    @Override\n    public User process(UserInput userInput) throws Exception {\n\n        User user = User.builder()\n                .personId(UUID.fromString(userInput.getPersonId()))\n                .firstName(userInput.getFirstName())\n                .lastName(userInput.getLastName())\n                .email(userInput.getEmail())\n                .country(userInput.getCountry())\n                .birthday(localDateTimeFormat(userInput.getBirthday()))\n                .gender(userInput.getGender().equals(&quot;Male&quot;) ? Gender.MALE : Gender.FEMALE)\n                .age(Period.between(localDateTimeFormat(userInput.getBirthday()).toLocalDate(), LocalDate.now()).getYears())\n                .build();\n\n        return user;\n    }\n\n    private LocalDateTime localDateTimeFormat(String birthday) {\n\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n        LocalDateTime formatDateTime = LocalDateTime.parse(birthday, formatter);\n\n        return formatDateTime;\n    }\n}\n</code></pre>\n"},{"tags":["java","unicode"],"comments":[{"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"score":0,"creation_date":1664744255,"post_id":73929175,"comment_id":130536597,"body_markdown":"Mayber this can help https://stackoverflow.com/questions/11145681/how-to-convert-a-string-with-unicode-encoding-to-a-string-of-letters","body":"Mayber this can help <a href=\"https://stackoverflow.com/questions/11145681/how-to-convert-a-string-with-unicode-encoding-to-a-string-of-letters\" title=\"how to convert a string with unicode encoding to a string of letters\">stackoverflow.com/questions/11145681/&hellip;</a>"},{"owner":{"account_id":14044283,"reputation":733,"user_id":10144963,"display_name":"Th0rgal"},"score":0,"creation_date":1664744734,"post_id":73929175,"comment_id":130536698,"body_markdown":"Hmm I tried ``content = StringEscapeUtils.escapeJson(content);`` but this escaped everything so this is no longer a valid json","body":"Hmm I tried <code>content = StringEscapeUtils.escapeJson(content);</code> but this escaped everything so this is no longer a valid json"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1664746142,"post_id":73929175,"comment_id":130536896,"body_markdown":"`// here i do things with content` …Whatever things you’re doing have resulted in something that is no longer valid JSON.  From [the JSON specification](https://datatracker.ietf.org/doc/html/rfc7159.html#section-7):  “A string begins and ends with quotation marks.  All Unicode characters may be placed within the quotation marks, except for the characters that must be escaped: quotation mark, reverse solidus, **and the control characters (U+0000 through U+001F).**”  If you put a character in the 00-1f range in your string, it *must* be expressed as a Unicode escape sequence.","body":"<code>&#47;&#47; here i do things with content</code> …Whatever things you’re doing have resulted in something that is no longer valid JSON.  From <a href=\"https://datatracker.ietf.org/doc/html/rfc7159.html#section-7\" rel=\"nofollow noreferrer\">the JSON specification</a>:  “A string begins and ends with quotation marks.  All Unicode characters may be placed within the quotation marks, except for the characters that must be escaped: quotation mark, reverse solidus, <b>and the control characters (U+0000 through U+001F).</b>”  If you put a character in the 00-1f range in your string, it <i>must</i> be expressed as a Unicode escape sequence."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664743579,"creation_date":1664743579,"answer_id":73929233,"question_id":73929175,"body_markdown":"You&#39;re outputting raw Unicode values, when you should be encoding them as Unicode constants eg `\\unnnn`.\r\n\r\nUse a library to encode the content, eg\r\n\r\n    content = EntityUtils.toString(content,&quot;UTF-8&quot;);","title":"Handling unicode escaping in Java InputStream","body":"<p>You're outputting raw Unicode values, when you should be encoding them as Unicode constants eg <code>\\unnnn</code>.</p>\n<p>Use a library to encode the content, eg</p>\n<pre><code>content = EntityUtils.toString(content,&quot;UTF-8&quot;);\n</code></pre>\n"}],"owner":{"account_id":14044283,"reputation":733,"user_id":10144963,"display_name":"Th0rgal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664744043,"creation_date":1664742982,"question_id":73929175,"body_markdown":"I am reading json files to String, I sometimes update them (replace some specific words by others) and then write those update json files in a zip. \r\nThis is what an example input file looks like:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe issue is, the output &quot;loses&quot; character escaping and is therefore no longer a valid json:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EIMDW.png\r\n  [2]: https://i.stack.imgur.com/NmCeL.png\r\n\r\n\r\nTo read the json:\r\n```java\r\n    private InputStream processJsonFile(File file) throws IOException {\r\n        String content;\r\n        if (!file.exists())\r\n            return new ByteArrayInputStream(&quot;&quot;.getBytes(StandardCharsets.UTF_8));\r\n        try {\r\n            content = IOUtils.toString(new FileReader(file, StandardCharsets.UTF_8));\r\n        } catch (IOException | NullPointerException e) {\r\n            Logs.logError(&quot;Error while reading file &quot; + file.getPath());\r\n            Logs.logError(&quot;It seems to be malformed!&quot;);\r\n            return new ByteArrayInputStream(&quot;&quot;.getBytes(StandardCharsets.UTF_8));\r\n        } finally {\r\n            IOUtils.closeQuietly();\r\n        }\r\n\r\n        // here i do things with content\r\n\r\n        return new ByteArrayInputStream(content.getBytes(StandardCharsets.UTF_8));\r\n    }\r\n```\r\n\r\nto add an inputstream to the zip file:\r\n```java\r\n  try (fis) {\r\n            while ((length = fis.read(bytes)) &gt;= 0)\r\n                zos.write(bytes, 0, length);\r\n        } \r\n```","title":"Handling unicode escaping in Java InputStream","body":"<p>I am reading json files to String, I sometimes update them (replace some specific words by others) and then write those update json files in a zip.\nThis is what an example input file looks like:\n<a href=\"https://i.stack.imgur.com/EIMDW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EIMDW.png\" alt=\"enter image description here\" /></a></p>\n<p>The issue is, the output &quot;loses&quot; character escaping and is therefore no longer a valid json:\n<a href=\"https://i.stack.imgur.com/NmCeL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NmCeL.png\" alt=\"enter image description here\" /></a></p>\n<p>To read the json:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private InputStream processJsonFile(File file) throws IOException {\n        String content;\n        if (!file.exists())\n            return new ByteArrayInputStream(&quot;&quot;.getBytes(StandardCharsets.UTF_8));\n        try {\n            content = IOUtils.toString(new FileReader(file, StandardCharsets.UTF_8));\n        } catch (IOException | NullPointerException e) {\n            Logs.logError(&quot;Error while reading file &quot; + file.getPath());\n            Logs.logError(&quot;It seems to be malformed!&quot;);\n            return new ByteArrayInputStream(&quot;&quot;.getBytes(StandardCharsets.UTF_8));\n        } finally {\n            IOUtils.closeQuietly();\n        }\n\n        // here i do things with content\n\n        return new ByteArrayInputStream(content.getBytes(StandardCharsets.UTF_8));\n    }\n</code></pre>\n<p>to add an inputstream to the zip file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  try (fis) {\n            while ((length = fis.read(bytes)) &gt;= 0)\n                zos.write(bytes, 0, length);\n        } \n</code></pre>\n"},{"tags":["java","spring-boot","architecture","microservices","system-design"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664766043,"post_id":73929045,"comment_id":130539212,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":2918545,"reputation":111555,"user_id":2501279,"display_name":"Guru Stron"},"score":1,"creation_date":1664818265,"post_id":73929045,"comment_id":130553272,"body_markdown":"Is using microservices a requirement? How big your team is? How many transactions at peak hours do you anticipate?","body":"Is using microservices a requirement? How big your team is? How many transactions at peak hours do you anticipate?"},{"owner":{"account_id":7333742,"reputation":485,"user_id":5585819,"display_name":"KDW"},"score":0,"creation_date":1664823264,"post_id":73929045,"comment_id":130554735,"body_markdown":"You could take a look at event driven design which is often used for microservice architectures. Communication between microservices is typically handled through choreography or orchestration. Lots of articles and samples exist on the web on this topic... What to choose is use case dependent (as always ;-) )","body":"You could take a look at event driven design which is often used for microservice architectures. Communication between microservices is typically handled through choreography or orchestration. Lots of articles and samples exist on the web on this topic... What to choose is use case dependent (as always ;-) )"}],"owner":{"account_id":26509650,"reputation":1,"user_id":20145183,"display_name":"Sagar Varma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664741700,"creation_date":1664741700,"question_id":73929045,"body_markdown":"I have a requirement of building a web app, which is more like a system that will have inventory and sell the items.\r\nThere is no need for a payment gateway as it is an over-the-counter system and payment integration is not required for it.\r\n\r\nI have the following:\r\n- user service: That manages users\r\n- inventory service: that manages inventory\r\n- order service: that takes orders and processes them\r\n\r\nEach service has its own separate database.\r\n\r\nInventory and order service will communicate often as order processing will need inventory updates.\r\nNow, the question is,\r\nHow do I manage this situation? because I need to manage the inventory, keep the order history and have it in a way that order history can be seen, for reports like sales of specific items, etc.\r\n\r\nThe problem I foresee is if order-service will have its own DB and inventory will have its own DB. for the purpose of fetching reports, it will also require calls to inventory-service for getting the item details. ( I am assuming that I will save inventory-item-id in order-service DB)\r\n\r\nCan you please suggest proper way to deal with this?","title":"Suggestion required for building microservices architecture","body":"<p>I have a requirement of building a web app, which is more like a system that will have inventory and sell the items.\nThere is no need for a payment gateway as it is an over-the-counter system and payment integration is not required for it.</p>\n<p>I have the following:</p>\n<ul>\n<li>user service: That manages users</li>\n<li>inventory service: that manages inventory</li>\n<li>order service: that takes orders and processes them</li>\n</ul>\n<p>Each service has its own separate database.</p>\n<p>Inventory and order service will communicate often as order processing will need inventory updates.\nNow, the question is,\nHow do I manage this situation? because I need to manage the inventory, keep the order history and have it in a way that order history can be seen, for reports like sales of specific items, etc.</p>\n<p>The problem I foresee is if order-service will have its own DB and inventory will have its own DB. for the purpose of fetching reports, it will also require calls to inventory-service for getting the item details. ( I am assuming that I will save inventory-item-id in order-service DB)</p>\n<p>Can you please suggest proper way to deal with this?</p>\n"},{"tags":["java","user-interface","javafx","fxml","scenebuilder"],"comments":[{"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"score":3,"creation_date":1472854467,"post_id":39301143,"comment_id":65936599,"body_markdown":"How about using a BorderPane.The button will be at the bottom and you change only the center with your fxml files.","body":"How about using a BorderPane.The button will be at the bottom and you change only the center with your fxml files."},{"owner":{"account_id":7024225,"reputation":820,"user_id":5382318,"accept_rate":52,"display_name":"Lo&#239;s Talagrand"},"score":0,"creation_date":1472864221,"post_id":39301143,"comment_id":65938636,"body_markdown":"Simple and effective! Thank you I didn&#39;t think about this.","body":"Simple and effective! Thank you I didn&#39;t think about this."}],"answers":[{"tags":[],"owner":{"account_id":7029306,"reputation":1258,"user_id":5385625,"accept_rate":75,"display_name":"Sam Orozco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472854744,"creation_date":1472854744,"answer_id":39301376,"question_id":39301143,"body_markdown":"This can definitely be achieved by creating a separate FXML file and add a Node to it with a known unique Id, then accessing that node via the id, the tricky part is how are you going to do it application wide? probably creating the same function in a lot of your controllers but here is how you would get a a button from an FXML file.\r\n\r\nAll buttons are performing the same action? \r\n\r\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;fileName.fxml&quot;));\r\n    \r\n            ObservableList&lt;Node&gt; nodes = root.getChildrenUnmodifiable();\r\n            String _id = &quot;testButton&quot;;\r\n            for (Node node : nodes) {\r\n                if (node.getId().equals(_id)) {\r\n                    return node;\r\n                }\r\n    \r\n            }\r\n            return null;\r\n    }\r\n\r\n\r\n","title":"JavaFX - Reusable FXML component","body":"<p>This can definitely be achieved by creating a separate FXML file and add a Node to it with a known unique Id, then accessing that node via the id, the tricky part is how are you going to do it application wide? probably creating the same function in a lot of your controllers but here is how you would get a a button from an FXML file.</p>\n\n<p>All buttons are performing the same action? </p>\n\n<pre><code>Parent root = FXMLLoader.load(getClass().getResource(\"fileName.fxml\"));\n\n        ObservableList&lt;Node&gt; nodes = root.getChildrenUnmodifiable();\n        String _id = \"testButton\";\n        for (Node node : nodes) {\n            if (node.getId().equals(_id)) {\n                return node;\n            }\n\n        }\n        return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1664741114,"creation_date":1485882406,"answer_id":41963399,"question_id":39301143,"body_markdown":"You can do like this:\r\n\r\n    &lt;AnchorPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;de.example.MainController&quot;&gt;\r\n    &lt;children&gt;\r\n    &lt;fx:include fx:id=&quot;someId&quot; source=&quot;NestedFXML.fxml&quot;/&gt;\r\n    &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n    &lt;AnchorPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;de.example.NestedFXMLController&quot;&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\nController classes:\r\n\r\n    public class MainController implements Initializable {\r\n    \r\n        @FXML\r\n        private NestedFXMLController someIdController;\r\n    \r\n        @Override\r\n        public void initialize(URL location, ResourceBundle resources) {\r\n    \t// TODO Auto-generated method stub\r\n    \r\n        }\r\n    }\r\n\r\n\r\nand\r\n\r\n    public class NestedFXMLController implements Initializable {\r\n    \r\n        @Override\r\n        public void initialize(URL location, ResourceBundle resources) {\r\n    \t// TODO Auto-generated method stub\r\n    \r\n        }\r\n    }\r\n\r\nNote that the nested controller can be injected via FXML annotation. The **field name must match the fx:id attribute string + &quot;Controller&quot;!**\r\n\r\n**Find a MWE [here](https://github.com/kerner1000/hello-world-javafx/tree/fxml-reuseable-component).**","title":"JavaFX - Reusable FXML component","body":"<p>You can do like this:</p>\n<pre><code>&lt;AnchorPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;de.example.MainController&quot;&gt;\n&lt;children&gt;\n&lt;fx:include fx:id=&quot;someId&quot; source=&quot;NestedFXML.fxml&quot;/&gt;\n&lt;/children&gt;\n</code></pre>\n\n<pre><code>&lt;AnchorPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;de.example.NestedFXMLController&quot;&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Controller classes:</p>\n<pre><code>public class MainController implements Initializable {\n\n    @FXML\n    private NestedFXMLController someIdController;\n\n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n    // TODO Auto-generated method stub\n\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class NestedFXMLController implements Initializable {\n\n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n    // TODO Auto-generated method stub\n\n    }\n}\n</code></pre>\n<p>Note that the nested controller can be injected via FXML annotation. The <strong>field name must match the fx:id attribute string + &quot;Controller&quot;!</strong></p>\n<p><strong>Find a MWE <a href=\"https://github.com/kerner1000/hello-world-javafx/tree/fxml-reuseable-component\" rel=\"nofollow noreferrer\">here</a>.</strong></p>\n"}],"owner":{"account_id":7024225,"reputation":820,"user_id":5382318,"accept_rate":52,"display_name":"Lo&#239;s Talagrand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4101,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":41963399,"answer_count":2,"score":7,"last_activity_date":1664741114,"creation_date":1472852931,"question_id":39301143,"body_markdown":"I am building a GUI with Scene Builder, and the majority of my scenes have one element in common (an iOS type home button at the bottom).\r\nI was wondering if it was possible to define this component in a separate fxml file. From the research I conducted, there exists a similar process for declaring a reusable component but only within the same fxml file. \r\nHow could I apply this principle for several fxml files?\r\n","title":"JavaFX - Reusable FXML component","body":"<p>I am building a GUI with Scene Builder, and the majority of my scenes have one element in common (an iOS type home button at the bottom).\nI was wondering if it was possible to define this component in a separate fxml file. From the research I conducted, there exists a similar process for declaring a reusable component but only within the same fxml file. \nHow could I apply this principle for several fxml files?</p>\n"},{"tags":["java","google-cloud-platform","sftp","jsch","gcs"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664740982,"creation_date":1664654984,"answer_id":73921413,"question_id":73920586,"body_markdown":"I assume you want to upload in-memory data. JSch actually has loads of `ChannelSftp.put` methods overloads that can upload in-memory data.\r\n\r\nThe basic one is [with use of `InputStream`](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html#put-java.io.InputStream-java.lang.String-):\r\n\r\n```\r\npublic void put(InputStream src, String dst) throws SftpException\r\n```\r\n\r\nThe other options is [with use of `OutputStream`](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html#put-java.lang.String-):\r\n\r\n```\r\npublic OutputStream put(String dst) throws SftpException\r\n```\r\n","title":"transfer file from GCS bucket to SFTP server in java","body":"<p>I assume you want to upload in-memory data. JSch actually has loads of <code>ChannelSftp.put</code> methods overloads that can upload in-memory data.</p>\n<p>The basic one is <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html#put-java.io.InputStream-java.lang.String-\" rel=\"nofollow noreferrer\">with use of <code>InputStream</code></a>:</p>\n<pre><code>public void put(InputStream src, String dst) throws SftpException\n</code></pre>\n<p>The other options is <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html#put-java.lang.String-\" rel=\"nofollow noreferrer\">with use of <code>OutputStream</code></a>:</p>\n<pre><code>public OutputStream put(String dst) throws SftpException\n</code></pre>\n"}],"owner":{"account_id":2538618,"reputation":1879,"user_id":2205016,"accept_rate":35,"display_name":"dreambigcoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73921413,"answer_count":1,"score":0,"last_activity_date":1664740982,"creation_date":1664646919,"question_id":73920586,"body_markdown":"I am able to read files from GCS bucket, but all the libraries like **jsch** which does file transfer to SFTP server look for a file path, instead of the file in memory.\r\nI don&#39;t want to write the file I read from GCS to a disk, How do I transfer the file in memory to SFTP?","title":"transfer file from GCS bucket to SFTP server in java","body":"<p>I am able to read files from GCS bucket, but all the libraries like <strong>jsch</strong> which does file transfer to SFTP server look for a file path, instead of the file in memory.\nI don't want to write the file I read from GCS to a disk, How do I transfer the file in memory to SFTP?</p>\n"},{"tags":["java","spring-boot","jersey","spring-webflux","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664740980,"creation_date":1664740980,"answer_id":73928968,"question_id":73928140,"body_markdown":"You cannot mix WebFlux and Jersey. You should choose one or the other, not both. They both provide an HTTP server engine, but:\r\n\r\n * *Jersey* is a Servlet JAX-RS implementation, it does **not** know anything about reactive streams, Mono, Flux, etc.\r\n * *Webflux* is the Spring HTTP server engine based on reactive streams and async Netty HTTP server.\r\n\r\nIf you look at [Spring Boot reference documentation, section 3.5: Web](https://docs.spring.io/spring-boot/docs/2.7.4/reference/htmlsingle/#documentation.web), you will see that Jersey is one of the available engines, competing with other possible engines, i.e Web MVC and web reactive (webflux).\r\n\r\nSo, the answer is : Jersey is incompatible with Webflux, and you must choose between Webflux reactive Web and Spring rest annotation, or Jersey and Jax_RS without using Mono/Flux as return-type.\r\n\r\nNote 1 : You should annotate your class with `@RestController` whe using webflux, so it understand that method return is the HTTP response body (see [the last paragraph of reference documentation section 1.4.1: *@Controller*](https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-ann-controller) for details.\r\n\r\nNote 2 : If you really want to use jersey, but you still require to consume Mono objects from other parts of your system, you might use one of the conversion functions provided by Reactor to return an object that jersey can work with. For example, on Mono object, you will find a [toFuture()](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#toFuture--) method. You could also *block()*, but it could be dangerous.","title":"I got this message: Cannot construct instance of `reactor.core.publisher.Mono`","body":"<p>You cannot mix WebFlux and Jersey. You should choose one or the other, not both. They both provide an HTTP server engine, but:</p>\n<ul>\n<li><em>Jersey</em> is a Servlet JAX-RS implementation, it does <strong>not</strong> know anything about reactive streams, Mono, Flux, etc.</li>\n<li><em>Webflux</em> is the Spring HTTP server engine based on reactive streams and async Netty HTTP server.</li>\n</ul>\n<p>If you look at <a href=\"https://docs.spring.io/spring-boot/docs/2.7.4/reference/htmlsingle/#documentation.web\" rel=\"nofollow noreferrer\">Spring Boot reference documentation, section 3.5: Web</a>, you will see that Jersey is one of the available engines, competing with other possible engines, i.e Web MVC and web reactive (webflux).</p>\n<p>So, the answer is : Jersey is incompatible with Webflux, and you must choose between Webflux reactive Web and Spring rest annotation, or Jersey and Jax_RS without using Mono/Flux as return-type.</p>\n<p>Note 1 : You should annotate your class with <code>@RestController</code> whe using webflux, so it understand that method return is the HTTP response body (see <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-ann-controller\" rel=\"nofollow noreferrer\">the last paragraph of reference documentation section 1.4.1: <em>@Controller</em></a> for details.</p>\n<p>Note 2 : If you really want to use jersey, but you still require to consume Mono objects from other parts of your system, you might use one of the conversion functions provided by Reactor to return an object that jersey can work with. For example, on Mono object, you will find a <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#toFuture--\" rel=\"nofollow noreferrer\">toFuture()</a> method. You could also <em>block()</em>, but it could be dangerous.</p>\n"}],"owner":{"account_id":26503323,"reputation":3,"user_id":20139898,"display_name":"MBanai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1607,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73928968,"answer_count":1,"score":0,"last_activity_date":1664740980,"creation_date":1664733469,"question_id":73928140,"body_markdown":"I used Jersey and Webflux with R2DBC. after send the POST via the postman I got this message &quot; Cannot construct instance of `reactor.core.publisher.Mono` &quot;\r\n\r\nThis is my JerseyConfiguration:\r\n\r\n    @Component\r\n    public class JerseyConfiguration\r\n            extends ResourceConfig {\r\n        public JerseyConfiguration() {\r\n            register(ProductController.class, 1);\r\n        }\r\n    }\r\n\r\nand this is my Controller:\r\n\r\n    @Path(&quot;/v1&quot;)\r\n    @Controller\r\n    public class ProductController {\r\n    \r\n        @Autowired\r\n        private ProductService productService;\r\n    \r\n        @POST\r\n        @Consumes(MediaType.APPLICATION_JSON)\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        @Path(&quot;/product&quot;)\r\n        public Mono&lt;Product&gt; createProduct(@RequestBody Mono&lt;Product&gt; productMono){\r\n            return productMono.flatMap(this.productService::createProduct);\r\n        }\r\n    }\r\nand this sis my service:\r\n\r\n    @Service\r\n    public class ProductService {\r\n    \r\n        @Autowired\r\n        private ProductRepository repository;\r\n    \r\n        public Mono&lt;Product&gt; createProduct(final Product product){\r\n            return this.repository.save(product);\r\n        }\r\n    }\r\n\r\nand also this my pom.xml\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;r2dbc-postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\nNow, this is my problem; I got this message from the postman:\r\n\r\n    Cannot construct instance of `reactor.core.publisher.Mono` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n     at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 1]\r\n\r\nPlease let me know how to solve that problem.\r\n\r\nThank you\r\n","title":"I got this message: Cannot construct instance of `reactor.core.publisher.Mono`","body":"<p>I used Jersey and Webflux with R2DBC. after send the POST via the postman I got this message &quot; Cannot construct instance of <code>reactor.core.publisher.Mono</code> &quot;</p>\n<p>This is my JerseyConfiguration:</p>\n<pre><code>@Component\npublic class JerseyConfiguration\n        extends ResourceConfig {\n    public JerseyConfiguration() {\n        register(ProductController.class, 1);\n    }\n}\n</code></pre>\n<p>and this is my Controller:</p>\n<pre><code>@Path(&quot;/v1&quot;)\n@Controller\npublic class ProductController {\n\n    @Autowired\n    private ProductService productService;\n\n    @POST\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    @Path(&quot;/product&quot;)\n    public Mono&lt;Product&gt; createProduct(@RequestBody Mono&lt;Product&gt; productMono){\n        return productMono.flatMap(this.productService::createProduct);\n    }\n}\n</code></pre>\n<p>and this sis my service:</p>\n<pre><code>@Service\npublic class ProductService {\n\n    @Autowired\n    private ProductRepository repository;\n\n    public Mono&lt;Product&gt; createProduct(final Product product){\n        return this.repository.save(product);\n    }\n}\n</code></pre>\n<p>and also this my pom.xml</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\n            &lt;artifactId&gt;r2dbc-postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Now, this is my problem; I got this message from the postman:</p>\n<pre><code>Cannot construct instance of `reactor.core.publisher.Mono` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\n at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 1]\n</code></pre>\n<p>Please let me know how to solve that problem.</p>\n<p>Thank you</p>\n"},{"tags":["java","android","networking","udp"],"comments":[{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1600878321,"post_id":64030969,"comment_id":113229661,"body_markdown":"Use the broadcast IP address. Remember that broadcasts do not cross routers, so you can only broadcast on the network to which you are connected.","body":"Use the broadcast IP address. Remember that broadcasts do not cross routers, so you can only broadcast on the network to which you are connected."},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1602804996,"post_id":64030969,"comment_id":113843588,"body_markdown":"There is a single broadcast address that can be used: the Limited Broadcast address of `255.255.255.255`. It works on every IPv4 network, and there is no real reason to spend a lot of cycles calculating the network broadcast address. Of course, broadcasting only works for IPv4 because IPv6 has eliminated broadcast because it is intrusive, interrupting every host on the LAN, and it is a security problem. The modern method is multicast.","body":"There is a single broadcast address that can be used: the Limited Broadcast address of <code>255.255.255.255</code>. It works on every IPv4 network, and there is no real reason to spend a lot of cycles calculating the network broadcast address. Of course, broadcasting only works for IPv4 because IPv6 has eliminated broadcast because it is intrusive, interrupting every host on the LAN, and it is a security problem. The modern method is multicast."}],"answers":[{"tags":[],"owner":{"account_id":5318650,"reputation":967,"user_id":4299833,"accept_rate":80,"display_name":"narcis dpr"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1664740634,"creation_date":1600881631,"answer_id":64033170,"question_id":64030969,"body_markdown":"Here is a useful doc: [google-AdroidUDP][1], and here is a sample code:\r\n\r\n**Sender:**\r\n\r\n     public void sendBroadcast(String messageStr) {\r\n         StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n    StrictMode.setThreadPolicy(policy);\r\n\r\n         try {\r\n             DatagramSocket socket = new DatagramSocket();\r\n             socket.setBroadcast(true);\r\n             byte[] sendData = messageStr.getBytes();\r\n             DatagramPacket sendPacket = new DatagramPacket(sendData, sendData.length, getBroadcastAddress(), Constants.PORT);\r\n             socket.send(sendPacket);\r\n             System.out.println(getClass().getName() + &quot;Broadcast packet sent to: &quot; + getBroadcastAddress().getHostAddress());\r\n         } catch (IOException e) {\r\n             Log.e(TAG, &quot;IOException: &quot; + e.getMessage());\r\n         }\r\n     }\r\n     \r\n     InetAddress getBroadcastAddress() throws IOException {\r\n         WifiManager wifi = (WifiManager)    \r\n         mContext.getSystemService(Context.WIFI_SERVICE);\r\n         DhcpInfo dhcp = wifi.getDhcpInfo();\r\n\r\n\r\n         int broadcast = (dhcp.ipAddress &amp; dhcp.netmask) | ~dhcp.netmask;\r\n         byte[] quads = new byte[4];\r\n         for (int k = 0; k &lt; 4; k++)\r\n             quads[k] = (byte) ((broadcast &gt;&gt; k * 8) &amp; 0xFF);\r\n         return InetAddress.getByAddress(quads);\r\n     }\r\n\r\n\r\n**Receiver**\r\n\r\n          try {\r\n              socket = new DatagramSocket(Constants.PORT, InetAddress.getByName(&quot;0.0.0.0&quot;));\r\n              socket.setBroadcast(true);\r\n\r\n              while (true) {\r\n                  Log.i(TAG,&quot;Ready to receive broadcast packets!&quot;);\r\n\r\n                  byte[] recvBuf = new byte[15000];\r\n                  DatagramPacket packet = new DatagramPacket(recvBuf, recvBuf.length);\r\n                  socket.receive(packet);\r\n\r\n                  Log.i(TAG, &quot;Packet received from: &quot; + packet.getAddress().getHostAddress());\r\n                  String data = new String(packet.getData()).trim();\r\n                  Log.i(TAG, &quot;Packet received; data: &quot; + data);\r\n\r\n                  Intent localIntent = new Intent(Constants.BROADCAST_ACTION)\r\n                      .putExtra(Constants.EXTENDED_DATA_STATUS, data);\r\n                  LocalBroadcastManager\r\n                      .getInstance(this)\r\n                      .sendBroadcast(localIntent);\r\n              }\r\n          }  catch (IOException ex) {\r\n              Log.i(TAG, &quot;Oops&quot; + ex.getMessage());\r\n          }\r\n\r\n\r\n  [1]: https://code.google.com/p/boxeeremote/wiki/AndroidUDP","title":"How to broadcast a UDP packet from Android?","body":"<p>Here is a useful doc: <a href=\"https://code.google.com/p/boxeeremote/wiki/AndroidUDP\" rel=\"nofollow noreferrer\">google-AdroidUDP</a>, and here is a sample code:</p>\n<p><strong>Sender:</strong></p>\n<pre><code> public void sendBroadcast(String messageStr) {\n     StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\nStrictMode.setThreadPolicy(policy);\n\n     try {\n         DatagramSocket socket = new DatagramSocket();\n         socket.setBroadcast(true);\n         byte[] sendData = messageStr.getBytes();\n         DatagramPacket sendPacket = new DatagramPacket(sendData, sendData.length, getBroadcastAddress(), Constants.PORT);\n         socket.send(sendPacket);\n         System.out.println(getClass().getName() + &quot;Broadcast packet sent to: &quot; + getBroadcastAddress().getHostAddress());\n     } catch (IOException e) {\n         Log.e(TAG, &quot;IOException: &quot; + e.getMessage());\n     }\n }\n \n InetAddress getBroadcastAddress() throws IOException {\n     WifiManager wifi = (WifiManager)    \n     mContext.getSystemService(Context.WIFI_SERVICE);\n     DhcpInfo dhcp = wifi.getDhcpInfo();\n\n\n     int broadcast = (dhcp.ipAddress &amp; dhcp.netmask) | ~dhcp.netmask;\n     byte[] quads = new byte[4];\n     for (int k = 0; k &lt; 4; k++)\n         quads[k] = (byte) ((broadcast &gt;&gt; k * 8) &amp; 0xFF);\n     return InetAddress.getByAddress(quads);\n }\n</code></pre>\n<p><strong>Receiver</strong></p>\n<pre><code>      try {\n          socket = new DatagramSocket(Constants.PORT, InetAddress.getByName(&quot;0.0.0.0&quot;));\n          socket.setBroadcast(true);\n\n          while (true) {\n              Log.i(TAG,&quot;Ready to receive broadcast packets!&quot;);\n\n              byte[] recvBuf = new byte[15000];\n              DatagramPacket packet = new DatagramPacket(recvBuf, recvBuf.length);\n              socket.receive(packet);\n\n              Log.i(TAG, &quot;Packet received from: &quot; + packet.getAddress().getHostAddress());\n              String data = new String(packet.getData()).trim();\n              Log.i(TAG, &quot;Packet received; data: &quot; + data);\n\n              Intent localIntent = new Intent(Constants.BROADCAST_ACTION)\n                  .putExtra(Constants.EXTENDED_DATA_STATUS, data);\n              LocalBroadcastManager\n                  .getInstance(this)\n                  .sendBroadcast(localIntent);\n          }\n      }  catch (IOException ex) {\n          Log.i(TAG, &quot;Oops&quot; + ex.getMessage());\n      }\n</code></pre>\n"}],"owner":{"account_id":19511854,"reputation":41,"user_id":14275650,"display_name":"qol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4223,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1664740634,"creation_date":1600873844,"question_id":64030969,"body_markdown":"I need to broadcast a message using UDP from my Android app to every device on my network (ethernet).\r\nI&#39;m lost on how to do this though because there doesn&#39;t seem to be any documentation on how to send a broadcast message, just ones on how to send to a specific client using IP addresses.\r\n\r\nThanks","title":"How to broadcast a UDP packet from Android?","body":"<p>I need to broadcast a message using UDP from my Android app to every device on my network (ethernet).\nI'm lost on how to do this though because there doesn't seem to be any documentation on how to send a broadcast message, just ones on how to send to a specific client using IP addresses.</p>\n<p>Thanks</p>\n"},{"tags":["java","string","palindrome"],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1558669421,"creation_date":1558669421,"answer_id":56285573,"question_id":56285511,"body_markdown":"StringBuilder `reverse` does not produce a new StringBuilder instance. It causes the underlying characters of the current StringBuilder to be reversed. So,\r\n\r\n    String a = s.reverse().toString(); \r\n    String b = s.toString();\r\n\r\nThe second `s.toString()` is operating on the reversed `StringBuilder`.\r\n\r\n\r\nyou have to do\r\n\r\n    String original = s.toString(); \r\n    String reversed = s.reverse().toString();\r\n    return original.equals(reversed);\r\n","title":"How does StringBuilder reverse work in Java?","body":"<p>StringBuilder <code>reverse</code> does not produce a new StringBuilder instance. It causes the underlying characters of the current StringBuilder to be reversed. So,</p>\n\n<pre><code>String a = s.reverse().toString(); \nString b = s.toString();\n</code></pre>\n\n<p>The second <code>s.toString()</code> is operating on the reversed <code>StringBuilder</code>.</p>\n\n<p>you have to do</p>\n\n<pre><code>String original = s.toString(); \nString reversed = s.reverse().toString();\nreturn original.equals(reversed);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15979473,"reputation":121,"user_id":11531469,"display_name":"kundus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558877688,"creation_date":1558877688,"answer_id":56313976,"question_id":56285511,"body_markdown":"Here&#39;s one using only 2 StringBuilders instead of 3 and doesn&#39;t use the built-in reversed method. Instead, the while loop traverses through the linked list, appends the current node to the `original` StringBuilder, and inserts the current node at the front of the `reversed` StringBuilder. So the built-in insert method helps with reversing the order of the nodes values :\r\n\r\n    public boolean isPalindrome(ListNode head) {\r\n         StringBuilder original = new StringBuilder(), reversed = new StringBuilder();\r\n         ListNode curr = head;\r\n         while (curr != null) {\r\n             original.append(curr.val);\r\n             reversed.insert(0, curr.val);\r\n             curr = curr.next;\r\n         }\r\n         return original.toString().equals(reversed.toString()) ? true : false;\r\n    }\r\n\r\n","title":"How does StringBuilder reverse work in Java?","body":"<p>Here's one using only 2 StringBuilders instead of 3 and doesn't use the built-in reversed method. Instead, the while loop traverses through the linked list, appends the current node to the <code>original</code> StringBuilder, and inserts the current node at the front of the <code>reversed</code> StringBuilder. So the built-in insert method helps with reversing the order of the nodes values :</p>\n\n<pre><code>public boolean isPalindrome(ListNode head) {\n     StringBuilder original = new StringBuilder(), reversed = new StringBuilder();\n     ListNode curr = head;\n     while (curr != null) {\n         original.append(curr.val);\n         reversed.insert(0, curr.val);\n         curr = curr.next;\n     }\n     return original.toString().equals(reversed.toString()) ? true : false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664739173,"creation_date":1664739173,"answer_id":73928768,"question_id":56285511,"body_markdown":"[`StringBuilder#reverse`](https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#reverse()) reverses the character sequence in-place e.g.\r\n\r\n    StringBuilder s = new StringBuilder(&quot;Hello&quot;);\r\n    s.reverse();\r\n    System.out.println(s); // olleH\r\n\r\nTo preserve the character sequence in the original instance, you need to clone (create a copy) the original instance and reverse the clone e.g.\r\n\r\n    StringBuilder b = new StringBuilder(a).reverse(); // a is the original instance\r\n    return a.toString().equals(b.toString());\r\n\r\n**Note**: `StringBuilder` does not override `Object#equals` method and therefore even if two `StringBuilder` instances (say, `one` and `other`) have the same content, `one.equals(other)` return `false`. A way to check the equality of the two `StringBuilder` instances is through their `String` representation e.g. `one.toString().equals(other.toString())`.","title":"How does StringBuilder reverse work in Java?","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#reverse()\" rel=\"nofollow noreferrer\"><code>StringBuilder#reverse</code></a> reverses the character sequence in-place e.g.</p>\n<pre><code>StringBuilder s = new StringBuilder(&quot;Hello&quot;);\ns.reverse();\nSystem.out.println(s); // olleH\n</code></pre>\n<p>To preserve the character sequence in the original instance, you need to clone (create a copy) the original instance and reverse the clone e.g.</p>\n<pre><code>StringBuilder b = new StringBuilder(a).reverse(); // a is the original instance\nreturn a.toString().equals(b.toString());\n</code></pre>\n<p><strong>Note</strong>: <code>StringBuilder</code> does not override <code>Object#equals</code> method and therefore even if two <code>StringBuilder</code> instances (say, <code>one</code> and <code>other</code>) have the same content, <code>one.equals(other)</code> return <code>false</code>. A way to check the equality of the two <code>StringBuilder</code> instances is through their <code>String</code> representation e.g. <code>one.toString().equals(other.toString())</code>.</p>\n"}],"owner":{"account_id":13863363,"reputation":127,"user_id":10008430,"display_name":"taralee98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2389,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":56285573,"answer_count":3,"score":0,"last_activity_date":1664739173,"creation_date":1558668949,"question_id":56285511,"body_markdown":"I am trying to solve this leetcode question\r\nhttps://leetcode.com/problems/palindrome-linked-list/ , but running into trouble with strings and string builders. For some reason, &quot;12&quot;.equals&quot;21&quot; -&gt; returns true. \r\n\r\n\r\nI tried converting from string builder to string, and just using stringbuilder.\r\n\r\n    class Solution {\r\n    public boolean isPalindrome(ListNode head) {\r\n        StringBuilder s = new StringBuilder();\r\n        while (head != null) {\r\n            s.append(head.val);\r\n            head = head.next;\r\n        }\r\n        String a = s.reverse().toString(); \r\n        String b = s.toString(); \r\n        return a.equals(b);\r\n    }\r\n    }\r\n\r\n\r\nIt fails on &quot;12&quot; test case, and returns true.","title":"How does StringBuilder reverse work in Java?","body":"<p>I am trying to solve this leetcode question\n<a href=\"https://leetcode.com/problems/palindrome-linked-list/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/palindrome-linked-list/</a> , but running into trouble with strings and string builders. For some reason, \"12\".equals\"21\" -> returns true. </p>\n\n<p>I tried converting from string builder to string, and just using stringbuilder.</p>\n\n<pre><code>class Solution {\npublic boolean isPalindrome(ListNode head) {\n    StringBuilder s = new StringBuilder();\n    while (head != null) {\n        s.append(head.val);\n        head = head.next;\n    }\n    String a = s.reverse().toString(); \n    String b = s.toString(); \n    return a.equals(b);\n}\n}\n</code></pre>\n\n<p>It fails on \"12\" test case, and returns true.</p>\n"},{"tags":["java","android","download","android-asynctask"],"comments":[{"owner":{"account_id":3588738,"reputation":2650,"user_id":2995251,"accept_rate":86,"display_name":"Ganesh Katikar"},"score":2,"creation_date":1390475680,"post_id":3028306,"comment_id":34438444,"body_markdown":"I hope below link may be help you... http://www.androidhive.info/2012/04/android-downloading-file-by-showing-progress-bar/","body":"I hope below link may be help you... <a href=\"http://www.androidhive.info/2012/04/android-downloading-file-by-showing-progress-bar/\" rel=\"nofollow noreferrer\">androidhive.info/2012/04/&hellip;</a>"},{"owner":{"account_id":485774,"reputation":3175,"user_id":902284,"accept_rate":31,"display_name":"Richa"},"score":1,"creation_date":1428322094,"post_id":3028306,"comment_id":47103416,"body_markdown":"For quick fix [refer this answer](http://stackoverflow.com/a/29470764/902284)","body":"For quick fix <a href=\"http://stackoverflow.com/a/29470764/902284\">refer this answer</a>"},{"owner":{"account_id":4803234,"reputation":721,"user_id":3879214,"display_name":"Anu Martin"},"score":0,"creation_date":1513326620,"post_id":3028306,"comment_id":82619178,"body_markdown":"https://stackoverflow.com/a/43069239/3879214\ncheck this answer","body":"<a href=\"https://stackoverflow.com/a/43069239/3879214\">stackoverflow.com/a/43069239/3879214</a> check this answer"}],"answers":[{"tags":[],"owner":{"account_id":88286,"reputation":198831,"user_id":244296,"accept_rate":86,"display_name":"Cristian"},"down_vote_count":2,"up_vote_count":1946,"is_accepted":true,"score":1944,"last_activity_date":1652503916,"creation_date":1276345825,"answer_id":3028660,"question_id":3028306,"body_markdown":"There are many ways to download files. Following I will post most common ways; it is up to you to decide which method is better for your app.\r\n\r\n1. Use `AsyncTask` and show the download progress in a dialog\r\n=============================================================\r\n\r\nThis method will allow you to execute some background processes and update the UI at the same time (in this case, we&#39;ll update a progress bar).\r\n\r\nImports:\r\n\r\n    import android.os.PowerManager;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.net.HttpURLConnection;\r\n  \r\n\r\n\r\n\r\nThis is an example code:\r\n\r\n    // declare the dialog as a member field of your activity\r\n    ProgressDialog mProgressDialog;\r\n\r\n    // instantiate it within the onCreate method\r\n    mProgressDialog = new ProgressDialog(YourActivity.this);\r\n    mProgressDialog.setMessage(&quot;A message&quot;);\r\n    mProgressDialog.setIndeterminate(true);\r\n    mProgressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\r\n    mProgressDialog.setCancelable(true);\r\n\r\n    // execute this when the downloader must be fired\r\n    final DownloadTask downloadTask = new DownloadTask(YourActivity.this);\r\n    downloadTask.execute(&quot;the url to the file you want to download&quot;);\r\n\r\n    mProgressDialog.setOnCancelListener(new DialogInterface.OnCancelListener() {\r\n\r\n        @Override\r\n        public void onCancel(DialogInterface dialog) {\r\n            downloadTask.cancel(true); //cancel the task\r\n        }\r\n    });\r\n\r\n\r\nThe `AsyncTask` will look like this:\r\n    \r\n    // usually, subclasses of AsyncTask are declared inside the activity class.\r\n    // that way, you can easily modify the UI thread from here\r\n    private class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {\r\n\r\n        private Context context;\r\n        private PowerManager.WakeLock mWakeLock;\r\n\r\n        public DownloadTask(Context context) {\r\n            this.context = context;\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(String... sUrl) {\r\n            InputStream input = null;\r\n            OutputStream output = null;\r\n            HttpURLConnection connection = null;\r\n            try {\r\n                URL url = new URL(sUrl[0]);\r\n                connection = (HttpURLConnection) url.openConnection();\r\n                connection.connect();\r\n    \r\n                // expect HTTP 200 OK, so we don&#39;t mistakenly save error report\r\n                // instead of the file\r\n                if (connection.getResponseCode() != HttpURLConnection.HTTP_OK) {\r\n                    return &quot;Server returned HTTP &quot; + connection.getResponseCode()\r\n                            + &quot; &quot; + connection.getResponseMessage();\r\n                }\r\n    \r\n                // this will be useful to display download percentage\r\n                // might be -1: server did not report the length\r\n                int fileLength = connection.getContentLength();\r\n    \r\n                // download the file\r\n                input = connection.getInputStream();\r\n                output = new FileOutputStream(&quot;/sdcard/file_name.extension&quot;);\r\n    \r\n                byte data[] = new byte[4096];\r\n                long total = 0;\r\n                int count;\r\n                while ((count = input.read(data)) != -1) {\r\n                    // allow canceling with back button\r\n                    if (isCancelled()) {\r\n                        input.close();\r\n                        return null;\r\n                    }\r\n                    total += count;\r\n                    // publishing the progress....\r\n                    if (fileLength &gt; 0) // only if total length is known\r\n                        publishProgress((int) (total * 100 / fileLength));\r\n                    output.write(data, 0, count);\r\n                }\r\n            } catch (Exception e) {\r\n                return e.toString();\r\n            } finally {\r\n                try {\r\n                    if (output != null)\r\n                        output.close();\r\n                    if (input != null)\r\n                        input.close();\r\n                } catch (IOException ignored) {\r\n                }\r\n    \r\n                if (connection != null)\r\n                    connection.disconnect();\r\n            }\r\n            return null;\r\n        }\r\n\r\nThe method above (`doInBackground`) runs always on a background thread. You shouldn&#39;t do any UI tasks there. On the other hand, the `onProgressUpdate` and `onPreExecute` run on the UI thread, so there you can change the progress bar:\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            // take CPU lock to prevent CPU from going off if the user \r\n            // presses the power button during download\r\n            PowerManager pm = (PowerManager) context.getSystemService(Context.POWER_SERVICE);\r\n            mWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,\r\n                 getClass().getName());\r\n            mWakeLock.acquire();\r\n            mProgressDialog.show();\r\n        }\r\n        \r\n        @Override\r\n        protected void onProgressUpdate(Integer... progress) {\r\n            super.onProgressUpdate(progress);\r\n            // if we get here, length is known, now set indeterminate to false\r\n            mProgressDialog.setIndeterminate(false);\r\n            mProgressDialog.setMax(100);\r\n            mProgressDialog.setProgress(progress[0]);\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            mWakeLock.release();\r\n            mProgressDialog.dismiss();\r\n            if (result != null)\r\n                Toast.makeText(context,&quot;Download error: &quot;+result, Toast.LENGTH_LONG).show();\r\n            else\r\n                Toast.makeText(context,&quot;File downloaded&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\nFor this to run, you need the WAKE_LOCK permission.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n\r\n2. Download from Service\r\n========================\r\n\r\nThe big question here is: *how do I update my activity from a service?*. In the next example we are going to use two classes you may not be aware of: `ResultReceiver` and `IntentService`. `ResultReceiver` is the one that will allow us to update our thread from a service; `IntentService` is a subclass of `Service` which spawns a thread to do background work from there (you should know that a `Service` runs actually in the same thread of your app; when you extends `Service`, you must manually spawn new threads to run CPU blocking operations).\r\n\r\nDownload service can look like this:\r\n\r\n    public class DownloadService extends IntentService {\r\n        public static final int UPDATE_PROGRESS = 8344;\r\n\r\n        public DownloadService() {\r\n            super(&quot;DownloadService&quot;);\r\n        }\r\n        @Override\r\n        protected void onHandleIntent(Intent intent) {\r\n\r\n            String urlToDownload = intent.getStringExtra(&quot;url&quot;);\r\n            ResultReceiver receiver = (ResultReceiver) intent.getParcelableExtra(&quot;receiver&quot;);\r\n            try {\r\n                \r\n                //create url and connect\r\n                URL url = new URL(urlToDownload);\r\n                URLConnection connection = url.openConnection();\r\n                connection.connect();\r\n\r\n                // this will be useful so that you can show a typical 0-100% progress bar\r\n                int fileLength = connection.getContentLength();\r\n    \r\n                // download the file\r\n                InputStream input = new BufferedInputStream(connection.getInputStream());\r\n\r\n                String path = &quot;/sdcard/BarcodeScanner-debug.apk&quot; ;\r\n                OutputStream output = new FileOutputStream(path);\r\n    \r\n                byte data[] = new byte[1024];\r\n                long total = 0;\r\n                int count;\r\n                while ((count = input.read(data)) != -1) {\r\n                    total += count;\r\n\r\n                    // publishing the progress....\r\n                    Bundle resultData = new Bundle();\r\n                    resultData.putInt(&quot;progress&quot; ,(int) (total * 100 / fileLength));\r\n                    receiver.send(UPDATE_PROGRESS, resultData);\r\n                    output.write(data, 0, count);\r\n                }\r\n\r\n                // close streams \r\n                output.flush();\r\n                output.close();\r\n                input.close();\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            Bundle resultData = new Bundle();\r\n            resultData.putInt(&quot;progress&quot; ,100);\r\n\r\n            receiver.send(UPDATE_PROGRESS, resultData);\r\n        }\r\n    }\r\n\r\nAdd the service to your manifest:\r\n\r\n    &lt;service android:name=&quot;.DownloadService&quot;/&gt;\r\n\r\nAnd the activity will look like this:\r\n\r\n    // initialize the progress dialog like in the first example\r\n\r\n    // this is how you fire the downloader\r\n    mProgressDialog.show();\r\n    Intent intent = new Intent(this, DownloadService.class);\r\n    intent.putExtra(&quot;url&quot;, &quot;url of the file to download&quot;);\r\n    intent.putExtra(&quot;receiver&quot;, new DownloadReceiver(new Handler()));\r\n    startService(intent);\r\n\r\nHere is were `ResultReceiver` comes to play:\r\n\r\n    private class DownloadReceiver extends ResultReceiver{\r\n\r\n        public DownloadReceiver(Handler handler) {\r\n            super(handler);\r\n        }\r\n\r\n        @Override\r\n        protected void onReceiveResult(int resultCode, Bundle resultData) {\r\n\r\n            super.onReceiveResult(resultCode, resultData);\r\n\r\n            if (resultCode == DownloadService.UPDATE_PROGRESS) {\r\n\r\n                int progress = resultData.getInt(&quot;progress&quot;); //get the progress\r\n                dialog.setProgress(progress);\r\n\r\n                if (progress == 100) {\r\n                    dialog.dismiss();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n## 2.1 Use Groundy library\r\n\r\n[**Groundy**][1] is a library that basically helps you run pieces of code in a background service, and it is based on the `ResultReceiver` concept shown above. This library is **deprecated** at the moment. This is how the **whole** code would look like:\r\n\r\nThe activity where you are showing the dialog...\r\n\r\n    public class MainActivity extends Activity {\r\n    \r\n        private ProgressDialog mProgressDialog;\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n    \r\n            findViewById(R.id.btn_download).setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View view) {\r\n                    String url = ((EditText) findViewById(R.id.edit_url)).getText().toString().trim();\r\n                    Bundle extras = new Bundler().add(DownloadTask.PARAM_URL, url).build();\r\n                    Groundy.create(DownloadExample.this, DownloadTask.class)\r\n                            .receiver(mReceiver)\r\n                            .params(extras)\r\n                            .queue();\r\n    \r\n                    mProgressDialog = new ProgressDialog(MainActivity.this);\r\n                    mProgressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\r\n                    mProgressDialog.setCancelable(false);\r\n                    mProgressDialog.show();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private ResultReceiver mReceiver = new ResultReceiver(new Handler()) {\r\n            @Override\r\n            protected void onReceiveResult(int resultCode, Bundle resultData) {\r\n                super.onReceiveResult(resultCode, resultData);\r\n                switch (resultCode) {\r\n                    case Groundy.STATUS_PROGRESS:\r\n                        mProgressDialog.setProgress(resultData.getInt(Groundy.KEY_PROGRESS));\r\n                        break;\r\n                    case Groundy.STATUS_FINISHED:\r\n                        Toast.makeText(DownloadExample.this, R.string.file_downloaded, Toast.LENGTH_LONG);\r\n                        mProgressDialog.dismiss();\r\n                        break;\r\n                    case Groundy.STATUS_ERROR:\r\n                        Toast.makeText(DownloadExample.this, resultData.getString(Groundy.KEY_ERROR), Toast.LENGTH_LONG).show();\r\n                        mProgressDialog.dismiss();\r\n                        break;\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\nA `GroundyTask` implementation used by **Groundy** to download the file and show the progress:\r\n\r\n    public class DownloadTask extends GroundyTask {    \r\n        public static final String PARAM_URL = &quot;com.groundy.sample.param.url&quot;;\r\n\r\n        @Override\r\n        protected boolean doInBackground() {\r\n            try {\r\n                String url = getParameters().getString(PARAM_URL);\r\n                File dest = new File(getContext().getFilesDir(), new File(url).getName());\r\n                DownloadUtils.downloadFile(getContext(), url, dest, DownloadUtils.getDownloadListenerForTask(this));\r\n                return true;\r\n            } catch (Exception pokemon) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\nAnd just add this to the manifest:\r\n\r\n    &lt;service android:name=&quot;com.codeslap.groundy.GroundyService&quot;/&gt;\r\n\r\nIt couldn&#39;t be easier I think. Just grab the latest jar [from Github][2] and you are ready to go. Keep in mind that **Groundy**&#39;s main purpose is to make calls to external REST apis in a background service and post results to the UI with easily. If you are doing something like that in your app, it could be really useful.\r\n\r\n## 2.2 Use https://github.com/koush/ion\r\n\r\n3. Use `DownloadManager` class (`GingerBread` and newer only)\r\n=============================================================\r\n\r\nGingerBread brought a new feature, `DownloadManager`, which allows you to download files easily and delegate the hard work of handling threads, streams, etc. to the system.\r\n\r\nFirst, let&#39;s see a utility method:\r\n\r\n    /**\r\n     * @param context used to check the device version and DownloadManager information\r\n     * @return true if the download manager is available\r\n     */\r\n    public static boolean isDownloadManagerAvailable(Context context) {\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.GINGERBREAD) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\nMethod&#39;s name explains it all. Once you are sure `DownloadManager` is available, you can do something like this:\r\n\r\n    String url = &quot;url you want to download&quot;;\r\n    DownloadManager.Request request = new DownloadManager.Request(Uri.parse(url));\r\n    request.setDescription(&quot;Some descrition&quot;);\r\n    request.setTitle(&quot;Some title&quot;);\r\n    // in order for this if to run, you must use the android 3.2 to compile your app\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) {\r\n        request.allowScanningByMediaScanner();\r\n        request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n    }\r\n    request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, &quot;name-of-the-file.ext&quot;);\r\n\r\n    // get download service and enqueue file\r\n    DownloadManager manager = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE);\r\n    manager.enqueue(request);\r\n\r\nDownload progress will be showing in the notification bar.\r\n\r\nFinal thoughts\r\n==============\r\n\r\nFirst and second methods are just the tip of the iceberg. There are lots of things you have to keep in mind if you want your app to be robust. Here is a brief list:\r\n\r\n- You must check whether user has an internet connection available\r\n- Make sure you have the right permissions (`INTERNET` and `WRITE_EXTERNAL_STORAGE`); also `ACCESS_NETWORK_STATE` if you want to check internet availability.\r\n- Make sure the directory were you are going to download files exist and has write permissions.\r\n- If download is too big you may want to implement a way to resume the download if previous attempts failed.\r\n- Users will be grateful if you allow them to interrupt the download.\r\n\r\nUnless you need detailed control of the download process, then consider using `DownloadManager` (3) because it already handles most of the items listed above.\r\n\r\nBut also consider that your needs may change. For example, `DownloadManager` [does no response caching][dmNoCache]. It will blindly download the same big file multiple times. There&#39;s no easy way to fix it after the fact. Where if you start with a basic `HttpURLConnection` (1, 2), then all you need is to add an `HttpResponseCache`. So the initial effort of learning the basic, standard tools can be a good investment.\r\n\r\n  [dmNoCache]: https://stackoverflow.com/questions/35191718\r\n\r\n\r\n&gt; This class was deprecated in API level 26. ProgressDialog is a modal\r\n&gt; dialog, which prevents the user from interacting with the app. Instead\r\n&gt; of using this class, you should use a progress indicator like\r\n&gt; ProgressBar, which can be embedded in your app&#39;s UI. Alternatively,\r\n&gt; you can use a notification to inform the user of the task&#39;s progress. For more details [Link][3]\r\n\r\n\r\n  [1]: http://github.com/casidiablo/groundy\r\n  [2]: https://github.com/casidiablo/groundy/downloads\r\n  [3]: https://developer.android.com/reference/android/app/ProgressDialog","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>There are many ways to download files. Following I will post most common ways; it is up to you to decide which method is better for your app.</p>\n<ol>\n<li>Use <code>AsyncTask</code> and show the download progress in a dialog\n=============================================================</li>\n</ol>\n<p>This method will allow you to execute some background processes and update the UI at the same time (in this case, we'll update a progress bar).</p>\n<p>Imports:</p>\n<pre><code>import android.os.PowerManager;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.FileOutputStream;\nimport java.net.HttpURLConnection;\n</code></pre>\n<p>This is an example code:</p>\n<pre><code>// declare the dialog as a member field of your activity\nProgressDialog mProgressDialog;\n\n// instantiate it within the onCreate method\nmProgressDialog = new ProgressDialog(YourActivity.this);\nmProgressDialog.setMessage(&quot;A message&quot;);\nmProgressDialog.setIndeterminate(true);\nmProgressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\nmProgressDialog.setCancelable(true);\n\n// execute this when the downloader must be fired\nfinal DownloadTask downloadTask = new DownloadTask(YourActivity.this);\ndownloadTask.execute(&quot;the url to the file you want to download&quot;);\n\nmProgressDialog.setOnCancelListener(new DialogInterface.OnCancelListener() {\n\n    @Override\n    public void onCancel(DialogInterface dialog) {\n        downloadTask.cancel(true); //cancel the task\n    }\n});\n</code></pre>\n<p>The <code>AsyncTask</code> will look like this:</p>\n<pre><code>// usually, subclasses of AsyncTask are declared inside the activity class.\n// that way, you can easily modify the UI thread from here\nprivate class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {\n\n    private Context context;\n    private PowerManager.WakeLock mWakeLock;\n\n    public DownloadTask(Context context) {\n        this.context = context;\n    }\n\n    @Override\n    protected String doInBackground(String... sUrl) {\n        InputStream input = null;\n        OutputStream output = null;\n        HttpURLConnection connection = null;\n        try {\n            URL url = new URL(sUrl[0]);\n            connection = (HttpURLConnection) url.openConnection();\n            connection.connect();\n\n            // expect HTTP 200 OK, so we don't mistakenly save error report\n            // instead of the file\n            if (connection.getResponseCode() != HttpURLConnection.HTTP_OK) {\n                return &quot;Server returned HTTP &quot; + connection.getResponseCode()\n                        + &quot; &quot; + connection.getResponseMessage();\n            }\n\n            // this will be useful to display download percentage\n            // might be -1: server did not report the length\n            int fileLength = connection.getContentLength();\n\n            // download the file\n            input = connection.getInputStream();\n            output = new FileOutputStream(&quot;/sdcard/file_name.extension&quot;);\n\n            byte data[] = new byte[4096];\n            long total = 0;\n            int count;\n            while ((count = input.read(data)) != -1) {\n                // allow canceling with back button\n                if (isCancelled()) {\n                    input.close();\n                    return null;\n                }\n                total += count;\n                // publishing the progress....\n                if (fileLength &gt; 0) // only if total length is known\n                    publishProgress((int) (total * 100 / fileLength));\n                output.write(data, 0, count);\n            }\n        } catch (Exception e) {\n            return e.toString();\n        } finally {\n            try {\n                if (output != null)\n                    output.close();\n                if (input != null)\n                    input.close();\n            } catch (IOException ignored) {\n            }\n\n            if (connection != null)\n                connection.disconnect();\n        }\n        return null;\n    }\n</code></pre>\n<p>The method above (<code>doInBackground</code>) runs always on a background thread. You shouldn't do any UI tasks there. On the other hand, the <code>onProgressUpdate</code> and <code>onPreExecute</code> run on the UI thread, so there you can change the progress bar:</p>\n<pre><code>    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        // take CPU lock to prevent CPU from going off if the user \n        // presses the power button during download\n        PowerManager pm = (PowerManager) context.getSystemService(Context.POWER_SERVICE);\n        mWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,\n             getClass().getName());\n        mWakeLock.acquire();\n        mProgressDialog.show();\n    }\n    \n    @Override\n    protected void onProgressUpdate(Integer... progress) {\n        super.onProgressUpdate(progress);\n        // if we get here, length is known, now set indeterminate to false\n        mProgressDialog.setIndeterminate(false);\n        mProgressDialog.setMax(100);\n        mProgressDialog.setProgress(progress[0]);\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n        mWakeLock.release();\n        mProgressDialog.dismiss();\n        if (result != null)\n            Toast.makeText(context,&quot;Download error: &quot;+result, Toast.LENGTH_LONG).show();\n        else\n            Toast.makeText(context,&quot;File downloaded&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>For this to run, you need the WAKE_LOCK permission.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Download from Service\n========================</li>\n</ol>\n<p>The big question here is: <em>how do I update my activity from a service?</em>. In the next example we are going to use two classes you may not be aware of: <code>ResultReceiver</code> and <code>IntentService</code>. <code>ResultReceiver</code> is the one that will allow us to update our thread from a service; <code>IntentService</code> is a subclass of <code>Service</code> which spawns a thread to do background work from there (you should know that a <code>Service</code> runs actually in the same thread of your app; when you extends <code>Service</code>, you must manually spawn new threads to run CPU blocking operations).</p>\n<p>Download service can look like this:</p>\n<pre><code>public class DownloadService extends IntentService {\n    public static final int UPDATE_PROGRESS = 8344;\n\n    public DownloadService() {\n        super(&quot;DownloadService&quot;);\n    }\n    @Override\n    protected void onHandleIntent(Intent intent) {\n\n        String urlToDownload = intent.getStringExtra(&quot;url&quot;);\n        ResultReceiver receiver = (ResultReceiver) intent.getParcelableExtra(&quot;receiver&quot;);\n        try {\n            \n            //create url and connect\n            URL url = new URL(urlToDownload);\n            URLConnection connection = url.openConnection();\n            connection.connect();\n\n            // this will be useful so that you can show a typical 0-100% progress bar\n            int fileLength = connection.getContentLength();\n\n            // download the file\n            InputStream input = new BufferedInputStream(connection.getInputStream());\n\n            String path = &quot;/sdcard/BarcodeScanner-debug.apk&quot; ;\n            OutputStream output = new FileOutputStream(path);\n\n            byte data[] = new byte[1024];\n            long total = 0;\n            int count;\n            while ((count = input.read(data)) != -1) {\n                total += count;\n\n                // publishing the progress....\n                Bundle resultData = new Bundle();\n                resultData.putInt(&quot;progress&quot; ,(int) (total * 100 / fileLength));\n                receiver.send(UPDATE_PROGRESS, resultData);\n                output.write(data, 0, count);\n            }\n\n            // close streams \n            output.flush();\n            output.close();\n            input.close();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        Bundle resultData = new Bundle();\n        resultData.putInt(&quot;progress&quot; ,100);\n\n        receiver.send(UPDATE_PROGRESS, resultData);\n    }\n}\n</code></pre>\n<p>Add the service to your manifest:</p>\n<pre><code>&lt;service android:name=&quot;.DownloadService&quot;/&gt;\n</code></pre>\n<p>And the activity will look like this:</p>\n<pre><code>// initialize the progress dialog like in the first example\n\n// this is how you fire the downloader\nmProgressDialog.show();\nIntent intent = new Intent(this, DownloadService.class);\nintent.putExtra(&quot;url&quot;, &quot;url of the file to download&quot;);\nintent.putExtra(&quot;receiver&quot;, new DownloadReceiver(new Handler()));\nstartService(intent);\n</code></pre>\n<p>Here is were <code>ResultReceiver</code> comes to play:</p>\n<pre><code>private class DownloadReceiver extends ResultReceiver{\n\n    public DownloadReceiver(Handler handler) {\n        super(handler);\n    }\n\n    @Override\n    protected void onReceiveResult(int resultCode, Bundle resultData) {\n\n        super.onReceiveResult(resultCode, resultData);\n\n        if (resultCode == DownloadService.UPDATE_PROGRESS) {\n\n            int progress = resultData.getInt(&quot;progress&quot;); //get the progress\n            dialog.setProgress(progress);\n\n            if (progress == 100) {\n                dialog.dismiss();\n            }\n        }\n    }\n}\n</code></pre>\n<h2>2.1 Use Groundy library</h2>\n<p><a href=\"http://github.com/casidiablo/groundy\" rel=\"noreferrer\"><strong>Groundy</strong></a> is a library that basically helps you run pieces of code in a background service, and it is based on the <code>ResultReceiver</code> concept shown above. This library is <strong>deprecated</strong> at the moment. This is how the <strong>whole</strong> code would look like:</p>\n<p>The activity where you are showing the dialog...</p>\n<pre><code>public class MainActivity extends Activity {\n\n    private ProgressDialog mProgressDialog;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n        findViewById(R.id.btn_download).setOnClickListener(new View.OnClickListener() {\n            public void onClick(View view) {\n                String url = ((EditText) findViewById(R.id.edit_url)).getText().toString().trim();\n                Bundle extras = new Bundler().add(DownloadTask.PARAM_URL, url).build();\n                Groundy.create(DownloadExample.this, DownloadTask.class)\n                        .receiver(mReceiver)\n                        .params(extras)\n                        .queue();\n\n                mProgressDialog = new ProgressDialog(MainActivity.this);\n                mProgressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\n                mProgressDialog.setCancelable(false);\n                mProgressDialog.show();\n            }\n        });\n    }\n\n    private ResultReceiver mReceiver = new ResultReceiver(new Handler()) {\n        @Override\n        protected void onReceiveResult(int resultCode, Bundle resultData) {\n            super.onReceiveResult(resultCode, resultData);\n            switch (resultCode) {\n                case Groundy.STATUS_PROGRESS:\n                    mProgressDialog.setProgress(resultData.getInt(Groundy.KEY_PROGRESS));\n                    break;\n                case Groundy.STATUS_FINISHED:\n                    Toast.makeText(DownloadExample.this, R.string.file_downloaded, Toast.LENGTH_LONG);\n                    mProgressDialog.dismiss();\n                    break;\n                case Groundy.STATUS_ERROR:\n                    Toast.makeText(DownloadExample.this, resultData.getString(Groundy.KEY_ERROR), Toast.LENGTH_LONG).show();\n                    mProgressDialog.dismiss();\n                    break;\n            }\n        }\n    };\n}\n</code></pre>\n<p>A <code>GroundyTask</code> implementation used by <strong>Groundy</strong> to download the file and show the progress:</p>\n<pre><code>public class DownloadTask extends GroundyTask {    \n    public static final String PARAM_URL = &quot;com.groundy.sample.param.url&quot;;\n\n    @Override\n    protected boolean doInBackground() {\n        try {\n            String url = getParameters().getString(PARAM_URL);\n            File dest = new File(getContext().getFilesDir(), new File(url).getName());\n            DownloadUtils.downloadFile(getContext(), url, dest, DownloadUtils.getDownloadListenerForTask(this));\n            return true;\n        } catch (Exception pokemon) {\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>And just add this to the manifest:</p>\n<pre><code>&lt;service android:name=&quot;com.codeslap.groundy.GroundyService&quot;/&gt;\n</code></pre>\n<p>It couldn't be easier I think. Just grab the latest jar <a href=\"https://github.com/casidiablo/groundy/downloads\" rel=\"noreferrer\">from Github</a> and you are ready to go. Keep in mind that <strong>Groundy</strong>'s main purpose is to make calls to external REST apis in a background service and post results to the UI with easily. If you are doing something like that in your app, it could be really useful.</p>\n<h2>2.2 Use <a href=\"https://github.com/koush/ion\" rel=\"noreferrer\">https://github.com/koush/ion</a></h2>\n<ol start=\"3\">\n<li>Use <code>DownloadManager</code> class (<code>GingerBread</code> and newer only)\n=============================================================</li>\n</ol>\n<p>GingerBread brought a new feature, <code>DownloadManager</code>, which allows you to download files easily and delegate the hard work of handling threads, streams, etc. to the system.</p>\n<p>First, let's see a utility method:</p>\n<pre><code>/**\n * @param context used to check the device version and DownloadManager information\n * @return true if the download manager is available\n */\npublic static boolean isDownloadManagerAvailable(Context context) {\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.GINGERBREAD) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n<p>Method's name explains it all. Once you are sure <code>DownloadManager</code> is available, you can do something like this:</p>\n<pre><code>String url = &quot;url you want to download&quot;;\nDownloadManager.Request request = new DownloadManager.Request(Uri.parse(url));\nrequest.setDescription(&quot;Some descrition&quot;);\nrequest.setTitle(&quot;Some title&quot;);\n// in order for this if to run, you must use the android 3.2 to compile your app\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) {\n    request.allowScanningByMediaScanner();\n    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n}\nrequest.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, &quot;name-of-the-file.ext&quot;);\n\n// get download service and enqueue file\nDownloadManager manager = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE);\nmanager.enqueue(request);\n</code></pre>\n<p>Download progress will be showing in the notification bar.</p>\n<h1>Final thoughts</h1>\n<p>First and second methods are just the tip of the iceberg. There are lots of things you have to keep in mind if you want your app to be robust. Here is a brief list:</p>\n<ul>\n<li>You must check whether user has an internet connection available</li>\n<li>Make sure you have the right permissions (<code>INTERNET</code> and <code>WRITE_EXTERNAL_STORAGE</code>); also <code>ACCESS_NETWORK_STATE</code> if you want to check internet availability.</li>\n<li>Make sure the directory were you are going to download files exist and has write permissions.</li>\n<li>If download is too big you may want to implement a way to resume the download if previous attempts failed.</li>\n<li>Users will be grateful if you allow them to interrupt the download.</li>\n</ul>\n<p>Unless you need detailed control of the download process, then consider using <code>DownloadManager</code> (3) because it already handles most of the items listed above.</p>\n<p>But also consider that your needs may change. For example, <code>DownloadManager</code> <a href=\"https://stackoverflow.com/questions/35191718\">does no response caching</a>. It will blindly download the same big file multiple times. There's no easy way to fix it after the fact. Where if you start with a basic <code>HttpURLConnection</code> (1, 2), then all you need is to add an <code>HttpResponseCache</code>. So the initial effort of learning the basic, standard tools can be a good investment.</p>\n<blockquote>\n<p>This class was deprecated in API level 26. ProgressDialog is a modal\ndialog, which prevents the user from interacting with the app. Instead\nof using this class, you should use a progress indicator like\nProgressBar, which can be embedded in your app's UI. Alternatively,\nyou can use a notification to inform the user of the task's progress. For more details <a href=\"https://developer.android.com/reference/android/app/ProgressDialog\" rel=\"noreferrer\">Link</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":797594,"reputation":1409,"user_id":902632,"display_name":"Mnightmare"},"down_vote_count":2,"up_vote_count":115,"is_accepted":false,"score":113,"last_activity_date":1429911744,"creation_date":1314628490,"answer_id":7231565,"question_id":3028306,"body_markdown":"Don&#39;t forget to add permissions to your manifest file if you&#39;re gonna be downloading stuff from the internet!\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.helloandroid&quot;\r\n        android:versionCode=&quot;1&quot;\r\n        android:versionName=&quot;1.0&quot;&gt;\r\n\r\n            &lt;uses-sdk android:minSdkVersion=&quot;10&quot; /&gt;\r\n        \r\n            &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;&gt;&lt;/uses-permission&gt;\r\n            &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\r\n            &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;&gt;&lt;/uses-permission&gt;\r\n            &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;&gt;&lt;/uses-permission&gt;\r\n        \r\n            &lt;application \r\n                android:icon=&quot;@drawable/icon&quot; \r\n                android:label=&quot;@string/app_name&quot; \r\n                android:debuggable=&quot;true&quot;&gt;\r\n\r\n            &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>Don't forget to add permissions to your manifest file if you're gonna be downloading stuff from the internet!</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.helloandroid\"\n    android:versionCode=\"1\"\n    android:versionName=\"1.0\"&gt;\n\n        &lt;uses-sdk android:minSdkVersion=\"10\" /&gt;\n\n        &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"&gt;&lt;/uses-permission&gt;\n        &lt;uses-permission android:name=\"android.permission.INTERNET\"&gt;&lt;/uses-permission&gt;\n        &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"&gt;&lt;/uses-permission&gt;\n        &lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\"&gt;&lt;/uses-permission&gt;\n\n        &lt;application \n            android:icon=\"@drawable/icon\" \n            android:label=\"@string/app_name\" \n            android:debuggable=\"true\"&gt;\n\n        &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":483178,"reputation":3024,"user_id":898057,"accept_rate":76,"display_name":"sheetal"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1482945273,"creation_date":1339510918,"answer_id":10998649,"question_id":3028306,"body_markdown":"Yes the code above will work .But if you are updating your `progressbar` in `onProgressUpdate` of `Asynctask`  and you press back button or finish your activity `AsyncTask` looses its track with your UI .And when you go back to your activity, even if  download is running in background you will see no update on progressbar. So on `OnResume()` try to run a thread like `runOnUIThread` with   a timer task that updates ur `progressbar` with values updating from the `AsyncTask` running background.\r\n\r\n\r\n    private void updateProgressBar(){\r\n        Runnable runnable = new updateProgress();\r\n\t\tbackground = new Thread(runnable);\r\n\t\tbackground.start();\r\n\t}\r\n\r\n    public class updateProgress implements Runnable {\r\n        public void run() {\r\n            while(Thread.currentThread()==background)\r\n\t\t\t\t//while (!Thread.currentThread().isInterrupted()) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(1000); \r\n\t\t\t\t\tMessage msg = new Message();\r\n\t\t\t\t\tprogress = getProgressPercentage();        \r\n\t\t\t\t\thandler.sendMessage(msg);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\tThread.currentThread().interrupt();\r\n\t\t\t\t} catch (Exception e) {\r\n\t        }\r\n\t\t}\r\n\t}\r\n\r\n\tprivate Handler handler = new Handler(){\r\n\t\t@Override\r\n\t\tpublic void handleMessage(Message msg) {\r\n\t\t\tprogress.setProgress(msg.what);\r\n\t\t}\r\n\t};\r\n\r\nDon&#39;t forget to **Destroy** the thread when ur activity is not visible.\r\n\r\n    private void destroyRunningThreads() {\r\n\t\tif (background != null) {\r\n            background.interrupt();\r\n\t\t\tbackground=null;\r\n        }\r\n    }","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>Yes the code above will work .But if you are updating your <code>progressbar</code> in <code>onProgressUpdate</code> of <code>Asynctask</code>  and you press back button or finish your activity <code>AsyncTask</code> looses its track with your UI .And when you go back to your activity, even if  download is running in background you will see no update on progressbar. So on <code>OnResume()</code> try to run a thread like <code>runOnUIThread</code> with   a timer task that updates ur <code>progressbar</code> with values updating from the <code>AsyncTask</code> running background.</p>\n\n<pre><code>private void updateProgressBar(){\n    Runnable runnable = new updateProgress();\n    background = new Thread(runnable);\n    background.start();\n}\n\npublic class updateProgress implements Runnable {\n    public void run() {\n        while(Thread.currentThread()==background)\n            //while (!Thread.currentThread().isInterrupted()) {\n            try {\n                Thread.sleep(1000); \n                Message msg = new Message();\n                progress = getProgressPercentage();        \n                handler.sendMessage(msg);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            } catch (Exception e) {\n        }\n    }\n}\n\nprivate Handler handler = new Handler(){\n    @Override\n    public void handleMessage(Message msg) {\n        progress.setProgress(msg.what);\n    }\n};\n</code></pre>\n\n<p>Don't forget to <strong>Destroy</strong> the thread when ur activity is not visible.</p>\n\n<pre><code>private void destroyRunningThreads() {\n    if (background != null) {\n        background.interrupt();\n        background=null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":348658,"reputation":2994,"user_id":683482,"accept_rate":77,"display_name":"Jeff Bootsholz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1401441420,"creation_date":1372785068,"answer_id":17431725,"question_id":3028306,"body_markdown":"My personal advice is to use **Progress Dialog** and build up before execution , or initiate at `OnPreExecute()` , publish progress often if you use horizontal style of progress bar of the progress dialog. The remaining part is to optimize the algorithm of `doInBackground`.","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>My personal advice is to use <strong>Progress Dialog</strong> and build up before execution , or initiate at <code>OnPreExecute()</code> , publish progress often if you use horizontal style of progress bar of the progress dialog. The remaining part is to optimize the algorithm of <code>doInBackground</code>.</p>\n"},{"tags":[],"owner":{"account_id":2441308,"reputation":325,"user_id":2129757,"accept_rate":38,"display_name":"ENSATE"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1391991424,"creation_date":1391991424,"answer_id":21667032,"question_id":3028306,"body_markdown":"Do not forget to replace &quot;/sdcard...&quot; by ***new File***(&quot;/mnt/sdcard/...&quot;) otherwise you will get a **FileNotFoundException**","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>Do not forget to replace \"/sdcard...\" by <strong><em>new File</em></strong>(\"/mnt/sdcard/...\") otherwise you will get a <strong>FileNotFoundException</strong></p>\n"},{"tags":[],"owner":{"account_id":1356368,"reputation":3757,"user_id":1294681,"accept_rate":43,"display_name":"VinceStyling"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1509361372,"creation_date":1399478174,"answer_id":23522645,"question_id":3028306,"body_markdown":"I&#39;d recommend you to use my Project [Netroid](https://github.com/vince-styling/Netroid), It&#39;s based on [Volley](https://www.captechconsulting.com/blog/raymond-robinson/google-io-2013-volley-image-cache-tutorial). I have added some features to it such as multi-events callback, file download management. This could be of some help.","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>I'd recommend you to use my Project <a href=\"https://github.com/vince-styling/Netroid\" rel=\"noreferrer\">Netroid</a>, It's based on <a href=\"https://www.captechconsulting.com/blog/raymond-robinson/google-io-2013-volley-image-cache-tutorial\" rel=\"noreferrer\">Volley</a>. I have added some features to it such as multi-events callback, file download management. This could be of some help.</p>\n"},{"tags":[],"owner":{"account_id":1017979,"reputation":4294,"user_id":1029089,"accept_rate":90,"display_name":"Piyush-Ask Any Difference"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1545649706,"creation_date":1411134102,"answer_id":25935392,"question_id":3028306,"body_markdown":"While I was starting to learn android development, I had learnt that `ProgressDialog` is the way to go. There is the `setProgress` method of `ProgressDialog` which can be invoked to update the progress level as the file gets downloaded.\r\n\r\nThe best I have seen in many apps is that they customize this progress dialog&#39;s attributes to give a better look and feel to the progress dialog than the stock version. Good to keeping the user engaged with some animation of like frog, elephant or cute cats/puppies. Any animation with in the progress dialog attracts users and they don&#39;t feel like being kept waiting for long.\r\n\r\n\r\n\r\n\r\n  [1]: http://www.javaexperience.com/show-progress-bar-when-downloading-a-file-in-android/","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>While I was starting to learn android development, I had learnt that <code>ProgressDialog</code> is the way to go. There is the <code>setProgress</code> method of <code>ProgressDialog</code> which can be invoked to update the progress level as the file gets downloaded.</p>\n\n<p>The best I have seen in many apps is that they customize this progress dialog's attributes to give a better look and feel to the progress dialog than the stock version. Good to keeping the user engaged with some animation of like frog, elephant or cute cats/puppies. Any animation with in the progress dialog attracts users and they don't feel like being kept waiting for long.</p>\n"},{"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1482945306,"creation_date":1430940448,"answer_id":30085834,"question_id":3028306,"body_markdown":"Use Android Query library, very cool indeed.You can change it to use `ProgressDialog` as you see in other examples, this one will show progress view from your layout and hide it after completion.\r\n\r\n    File target = new File(new File(Environment.getExternalStorageDirectory(), &quot;ApplicationName&quot;), &quot;tmp.pdf&quot;);\r\n    new AQuery(this).progress(R.id.progress_view).download(_competition.qualificationScoreCardsPdf(), target, new AjaxCallback&lt;File&gt;() {\r\n        public void callback(String url, File file, AjaxStatus status) {\r\n            if (file != null) {\r\n                // do something with file  \r\n            } \r\n        }\r\n    });","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>Use Android Query library, very cool indeed.You can change it to use <code>ProgressDialog</code> as you see in other examples, this one will show progress view from your layout and hide it after completion.</p>\n\n<pre><code>File target = new File(new File(Environment.getExternalStorageDirectory(), \"ApplicationName\"), \"tmp.pdf\");\nnew AQuery(this).progress(R.id.progress_view).download(_competition.qualificationScoreCardsPdf(), target, new AjaxCallback&lt;File&gt;() {\n    public void callback(String url, File file, AjaxStatus status) {\n        if (file != null) {\n            // do something with file  \n        } \n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2310980,"reputation":203,"user_id":2029110,"display_name":"The Syrian"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1482945369,"creation_date":1432164575,"answer_id":30362066,"question_id":3028306,"body_markdown":"I have modified `AsyncTask` class to handle creation of `progressDialog` at the same context .I think following code will be more reusable.\r\n(it can be called from any activity just pass context,target File,dialog message)\r\n\r\n    public static class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {\r\n        private ProgressDialog mPDialog;\r\n        private Context mContext;\r\n        private PowerManager.WakeLock mWakeLock;\r\n        private File mTargetFile;\r\n        //Constructor parameters :\r\n        // @context (current Activity)\r\n        // @targetFile (File object to write,it will be overwritten if exist)\r\n        // @dialogMessage (message of the ProgresDialog)\r\n        public DownloadTask(Context context,File targetFile,String dialogMessage) {\r\n            this.mContext = context;\r\n            this.mTargetFile = targetFile;\r\n            mPDialog = new ProgressDialog(context);\r\n\r\n            mPDialog.setMessage(dialogMessage);\r\n            mPDialog.setIndeterminate(true);\r\n            mPDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\r\n            mPDialog.setCancelable(true);\r\n            // reference to instance to use inside listener\r\n            final DownloadTask me = this;\r\n            mPDialog.setOnCancelListener(new DialogInterface.OnCancelListener() {\r\n                @Override\r\n                public void onCancel(DialogInterface dialog) {\r\n                    me.cancel(true);\r\n                }\r\n            });\r\n            Log.i(&quot;DownloadTask&quot;,&quot;Constructor done&quot;);\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(String... sUrl) {\r\n            InputStream input = null;\r\n            OutputStream output = null;\r\n            HttpURLConnection connection = null;\r\n            try {\r\n                URL url = new URL(sUrl[0]);\r\n                connection = (HttpURLConnection) url.openConnection();\r\n                connection.connect();\r\n\r\n                // expect HTTP 200 OK, so we don&#39;t mistakenly save error report\r\n                // instead of the file\r\n                if (connection.getResponseCode() != HttpURLConnection.HTTP_OK) {\r\n                    return &quot;Server returned HTTP &quot; + connection.getResponseCode()\r\n                            + &quot; &quot; + connection.getResponseMessage();\r\n                }\r\n                Log.i(&quot;DownloadTask&quot;,&quot;Response &quot; + connection.getResponseCode());\r\n\r\n                // this will be useful to display download percentage\r\n                // might be -1: server did not report the length\r\n                int fileLength = connection.getContentLength();\r\n\r\n                // download the file\r\n                input = connection.getInputStream();\r\n                output = new FileOutputStream(mTargetFile,false);\r\n\r\n                byte data[] = new byte[4096];\r\n                long total = 0;\r\n                int count;\r\n                while ((count = input.read(data)) != -1) {\r\n                    // allow canceling with back button\r\n                    if (isCancelled()) {\r\n                        Log.i(&quot;DownloadTask&quot;,&quot;Cancelled&quot;);\r\n                        input.close();\r\n                        return null;\r\n                    }\r\n                    total += count;\r\n                    // publishing the progress....\r\n                    if (fileLength &gt; 0) // only if total length is known\r\n                        publishProgress((int) (total * 100 / fileLength));\r\n                    output.write(data, 0, count);\r\n                }\r\n            } catch (Exception e) {\r\n                return e.toString();\r\n            } finally {\r\n                try {\r\n                    if (output != null)\r\n                        output.close();\r\n                    if (input != null)\r\n                        input.close();\r\n                } catch (IOException ignored) {\r\n                }\r\n\r\n                if (connection != null)\r\n                    connection.disconnect();\r\n            }\r\n            return null;\r\n        }\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            // take CPU lock to prevent CPU from going off if the user\r\n            // presses the power button during download\r\n            PowerManager pm = (PowerManager) mContext.getSystemService(Context.POWER_SERVICE);\r\n            mWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,\r\n                    getClass().getName());\r\n            mWakeLock.acquire();\r\n\r\n            mPDialog.show();\r\n\r\n        }\r\n\r\n        @Override\r\n        protected void onProgressUpdate(Integer... progress) {\r\n            super.onProgressUpdate(progress);\r\n            // if we get here, length is known, now set indeterminate to false\r\n            mPDialog.setIndeterminate(false);\r\n            mPDialog.setMax(100);\r\n            mPDialog.setProgress(progress[0]);\r\n\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            Log.i(&quot;DownloadTask&quot;, &quot;Work Done! PostExecute&quot;);\r\n            mWakeLock.release();\r\n            mPDialog.dismiss();\r\n            if (result != null)\r\n                Toast.makeText(mContext,&quot;Download error: &quot;+result, Toast.LENGTH_LONG).show();\r\n            else\r\n                Toast.makeText(mContext,&quot;File Downloaded&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n ","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>I have modified <code>AsyncTask</code> class to handle creation of <code>progressDialog</code> at the same context .I think following code will be more reusable.\n(it can be called from any activity just pass context,target File,dialog message)</p>\n\n<pre><code>public static class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {\n    private ProgressDialog mPDialog;\n    private Context mContext;\n    private PowerManager.WakeLock mWakeLock;\n    private File mTargetFile;\n    //Constructor parameters :\n    // @context (current Activity)\n    // @targetFile (File object to write,it will be overwritten if exist)\n    // @dialogMessage (message of the ProgresDialog)\n    public DownloadTask(Context context,File targetFile,String dialogMessage) {\n        this.mContext = context;\n        this.mTargetFile = targetFile;\n        mPDialog = new ProgressDialog(context);\n\n        mPDialog.setMessage(dialogMessage);\n        mPDialog.setIndeterminate(true);\n        mPDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\n        mPDialog.setCancelable(true);\n        // reference to instance to use inside listener\n        final DownloadTask me = this;\n        mPDialog.setOnCancelListener(new DialogInterface.OnCancelListener() {\n            @Override\n            public void onCancel(DialogInterface dialog) {\n                me.cancel(true);\n            }\n        });\n        Log.i(\"DownloadTask\",\"Constructor done\");\n    }\n\n    @Override\n    protected String doInBackground(String... sUrl) {\n        InputStream input = null;\n        OutputStream output = null;\n        HttpURLConnection connection = null;\n        try {\n            URL url = new URL(sUrl[0]);\n            connection = (HttpURLConnection) url.openConnection();\n            connection.connect();\n\n            // expect HTTP 200 OK, so we don't mistakenly save error report\n            // instead of the file\n            if (connection.getResponseCode() != HttpURLConnection.HTTP_OK) {\n                return \"Server returned HTTP \" + connection.getResponseCode()\n                        + \" \" + connection.getResponseMessage();\n            }\n            Log.i(\"DownloadTask\",\"Response \" + connection.getResponseCode());\n\n            // this will be useful to display download percentage\n            // might be -1: server did not report the length\n            int fileLength = connection.getContentLength();\n\n            // download the file\n            input = connection.getInputStream();\n            output = new FileOutputStream(mTargetFile,false);\n\n            byte data[] = new byte[4096];\n            long total = 0;\n            int count;\n            while ((count = input.read(data)) != -1) {\n                // allow canceling with back button\n                if (isCancelled()) {\n                    Log.i(\"DownloadTask\",\"Cancelled\");\n                    input.close();\n                    return null;\n                }\n                total += count;\n                // publishing the progress....\n                if (fileLength &gt; 0) // only if total length is known\n                    publishProgress((int) (total * 100 / fileLength));\n                output.write(data, 0, count);\n            }\n        } catch (Exception e) {\n            return e.toString();\n        } finally {\n            try {\n                if (output != null)\n                    output.close();\n                if (input != null)\n                    input.close();\n            } catch (IOException ignored) {\n            }\n\n            if (connection != null)\n                connection.disconnect();\n        }\n        return null;\n    }\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        // take CPU lock to prevent CPU from going off if the user\n        // presses the power button during download\n        PowerManager pm = (PowerManager) mContext.getSystemService(Context.POWER_SERVICE);\n        mWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,\n                getClass().getName());\n        mWakeLock.acquire();\n\n        mPDialog.show();\n\n    }\n\n    @Override\n    protected void onProgressUpdate(Integer... progress) {\n        super.onProgressUpdate(progress);\n        // if we get here, length is known, now set indeterminate to false\n        mPDialog.setIndeterminate(false);\n        mPDialog.setMax(100);\n        mPDialog.setProgress(progress[0]);\n\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n        Log.i(\"DownloadTask\", \"Work Done! PostExecute\");\n        mWakeLock.release();\n        mPDialog.dismiss();\n        if (result != null)\n            Toast.makeText(mContext,\"Download error: \"+result, Toast.LENGTH_LONG).show();\n        else\n            Toast.makeText(mContext,\"File Downloaded\", Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1947548,"reputation":940,"user_id":1752341,"display_name":"vishnuc156"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1475492811,"creation_date":1475492811,"answer_id":39830148,"question_id":3028306,"body_markdown":" **Permissions**\r\n\r\n      &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n      &lt;uses-permission \r\n       android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nUsing **HttpURLConnection**\r\n\r\n\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n \r\n    import android.app.Activity;\r\n    import android.app.Dialog;\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.view.View;\r\n    import android.view.Window;\r\n    import android.view.View.OnClickListener;\r\n    import android.widget.Button;\r\n    import android.widget.ProgressBar;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n \r\n    public class DownloadFileUseHttpURLConnection extends Activity {\r\n     \r\n    ProgressBar pb;\r\n    Dialog dialog;\r\n    int downloadedSize = 0;\r\n    int totalSize = 0;\r\n    TextView cur_val;\r\n    String dwnload_file_path =  \r\n    &quot;http://coderzheaven.com/sample_folder/sample_file.png&quot;;\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main);\r\n       \r\n        Button b = (Button) findViewById(R.id.b1);\r\n        b.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                 showProgress(dwnload_file_path);\r\n                     \r\n                    new Thread(new Runnable() {\r\n                        public void run() {\r\n                             downloadFile();\r\n                        }\r\n                      }).start();\r\n            }\r\n        });\r\n    }\r\n         \r\n    void downloadFile(){\r\n         \r\n        try {\r\n            URL url = new URL(dwnload_file_path);\r\n            HttpURLConnection urlConnection = (HttpURLConnection)   \r\n     url.openConnection();\r\n \r\n            urlConnection.setRequestMethod(&quot;GET&quot;);\r\n            urlConnection.setDoOutput(true);\r\n \r\n            //connect\r\n            urlConnection.connect();\r\n \r\n            //set the path where we want to save the file           \r\n            File SDCardRoot = Environment.getExternalStorageDirectory(); \r\n            //create a new file, to save the downloaded file \r\n            File file = new File(SDCardRoot,&quot;downloaded_file.png&quot;);\r\n  \r\n            FileOutputStream fileOutput = new FileOutputStream(file);\r\n \r\n            //Stream used for reading the data from the internet\r\n            InputStream inputStream = urlConnection.getInputStream();\r\n \r\n            //this is the total size of the file which we are downloading\r\n            totalSize = urlConnection.getContentLength();\r\n \r\n            runOnUiThread(new Runnable() {\r\n                public void run() {\r\n                    pb.setMax(totalSize);\r\n                }               \r\n            });\r\n             \r\n            //create a buffer...\r\n            byte[] buffer = new byte[1024];\r\n            int bufferLength = 0;\r\n \r\n            while ( (bufferLength = inputStream.read(buffer)) &gt; 0 ) {\r\n                fileOutput.write(buffer, 0, bufferLength);\r\n                downloadedSize += bufferLength;\r\n                // update the progressbar //\r\n                runOnUiThread(new Runnable() {\r\n                    public void run() {\r\n                        pb.setProgress(downloadedSize);\r\n                        float per = ((float)downloadedSize/totalSize) *     \r\n                        100;\r\n                        cur_val.setText(&quot;Downloaded &quot; + downloadedSize +  \r\n\r\n                        &quot;KB / &quot; + totalSize + &quot;KB (&quot; + (int)per + &quot;%)&quot; );\r\n                    }\r\n                });\r\n            }\r\n            //close the output stream when complete //\r\n            fileOutput.close();\r\n            runOnUiThread(new Runnable() {\r\n                public void run() {\r\n                    // pb.dismiss(); // if you want close it..\r\n                }\r\n            });         \r\n         \r\n        } catch (final MalformedURLException e) {\r\n            showError(&quot;Error : MalformedURLException &quot; + e);        \r\n            e.printStackTrace();\r\n        } catch (final IOException e) {\r\n            showError(&quot;Error : IOException &quot; + e);          \r\n            e.printStackTrace();\r\n        }\r\n        catch (final Exception e) {\r\n            showError(&quot;Error : Please check your internet connection &quot; +  \r\n    e);\r\n        }       \r\n    }\r\n     \r\n    void showError(final String err){\r\n        runOnUiThread(new Runnable() {\r\n            public void run() {\r\n                Toast.makeText(DownloadFileDemo1.this, err,  \r\n          Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n    }\r\n     \r\n    void showProgress(String file_path){\r\n        dialog = new Dialog(DownloadFileDemo1.this);\r\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        dialog.setContentView(R.layout.myprogressdialog);\r\n        dialog.setTitle(&quot;Download Progress&quot;);\r\n \r\n        TextView text = (TextView) dialog.findViewById(R.id.tv1);\r\n        text.setText(&quot;Downloading file from ... &quot; + file_path);\r\n        cur_val = (TextView) dialog.findViewById(R.id.cur_pg_tv);\r\n        cur_val.setText(&quot;Starting download...&quot;);\r\n        dialog.show();\r\n         \r\n         pb = (ProgressBar)dialog.findViewById(R.id.progress_bar);\r\n         pb.setProgress(0);\r\n                pb.setProgressDrawable(\r\n          getResources().getDrawable(R.drawable.green_progress));  \r\n      }\r\n    }","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p><strong>Permissions</strong></p>\n\n<pre><code>  &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n  &lt;uses-permission \n   android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n</code></pre>\n\n<p>Using <strong>HttpURLConnection</strong></p>\n\n<pre><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport android.app.Activity;\nimport android.app.Dialog;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.view.View;\nimport android.view.Window;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class DownloadFileUseHttpURLConnection extends Activity {\n\nProgressBar pb;\nDialog dialog;\nint downloadedSize = 0;\nint totalSize = 0;\nTextView cur_val;\nString dwnload_file_path =  \n\"http://coderzheaven.com/sample_folder/sample_file.png\";\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n\n    Button b = (Button) findViewById(R.id.b1);\n    b.setOnClickListener(new OnClickListener() {\n        @Override\n        public void onClick(View v) {\n             showProgress(dwnload_file_path);\n\n                new Thread(new Runnable() {\n                    public void run() {\n                         downloadFile();\n                    }\n                  }).start();\n        }\n    });\n}\n\nvoid downloadFile(){\n\n    try {\n        URL url = new URL(dwnload_file_path);\n        HttpURLConnection urlConnection = (HttpURLConnection)   \n url.openConnection();\n\n        urlConnection.setRequestMethod(\"GET\");\n        urlConnection.setDoOutput(true);\n\n        //connect\n        urlConnection.connect();\n\n        //set the path where we want to save the file           \n        File SDCardRoot = Environment.getExternalStorageDirectory(); \n        //create a new file, to save the downloaded file \n        File file = new File(SDCardRoot,\"downloaded_file.png\");\n\n        FileOutputStream fileOutput = new FileOutputStream(file);\n\n        //Stream used for reading the data from the internet\n        InputStream inputStream = urlConnection.getInputStream();\n\n        //this is the total size of the file which we are downloading\n        totalSize = urlConnection.getContentLength();\n\n        runOnUiThread(new Runnable() {\n            public void run() {\n                pb.setMax(totalSize);\n            }               \n        });\n\n        //create a buffer...\n        byte[] buffer = new byte[1024];\n        int bufferLength = 0;\n\n        while ( (bufferLength = inputStream.read(buffer)) &gt; 0 ) {\n            fileOutput.write(buffer, 0, bufferLength);\n            downloadedSize += bufferLength;\n            // update the progressbar //\n            runOnUiThread(new Runnable() {\n                public void run() {\n                    pb.setProgress(downloadedSize);\n                    float per = ((float)downloadedSize/totalSize) *     \n                    100;\n                    cur_val.setText(\"Downloaded \" + downloadedSize +  \n\n                    \"KB / \" + totalSize + \"KB (\" + (int)per + \"%)\" );\n                }\n            });\n        }\n        //close the output stream when complete //\n        fileOutput.close();\n        runOnUiThread(new Runnable() {\n            public void run() {\n                // pb.dismiss(); // if you want close it..\n            }\n        });         \n\n    } catch (final MalformedURLException e) {\n        showError(\"Error : MalformedURLException \" + e);        \n        e.printStackTrace();\n    } catch (final IOException e) {\n        showError(\"Error : IOException \" + e);          \n        e.printStackTrace();\n    }\n    catch (final Exception e) {\n        showError(\"Error : Please check your internet connection \" +  \ne);\n    }       \n}\n\nvoid showError(final String err){\n    runOnUiThread(new Runnable() {\n        public void run() {\n            Toast.makeText(DownloadFileDemo1.this, err,  \n      Toast.LENGTH_LONG).show();\n        }\n    });\n}\n\nvoid showProgress(String file_path){\n    dialog = new Dialog(DownloadFileDemo1.this);\n    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\n    dialog.setContentView(R.layout.myprogressdialog);\n    dialog.setTitle(\"Download Progress\");\n\n    TextView text = (TextView) dialog.findViewById(R.id.tv1);\n    text.setText(\"Downloading file from ... \" + file_path);\n    cur_val = (TextView) dialog.findViewById(R.id.cur_pg_tv);\n    cur_val.setText(\"Starting download...\");\n    dialog.show();\n\n     pb = (ProgressBar)dialog.findViewById(R.id.progress_bar);\n     pb.setProgress(0);\n            pb.setProgressDrawable(\n      getResources().getDrawable(R.drawable.green_progress));  \n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1503945582,"creation_date":1503945250,"answer_id":45925335,"question_id":3028306,"body_markdown":"I am adding another answer for other solution I am using now because Android Query is so big and unmaintained to stay healthy. So i moved to this https://github.com/amitshekhariitbhu/Fast-Android-Networking.\r\n\r\n\r\n        AndroidNetworking.download(url,dirPath,fileName).build()\r\n          .setDownloadProgressListener(new DownloadProgressListener() {\r\n            public void onProgress(long bytesDownloaded, long totalBytes) {\r\n                bar.setMax((int) totalBytes);\r\n                bar.setProgress((int) bytesDownloaded);\r\n            }\r\n        }).startDownload(new DownloadListener() {\r\n            public void onDownloadComplete() {\r\n                ...\r\n            }\r\n\r\n            public void onError(ANError error) {\r\n                ...\r\n            }\r\n        });","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>I am adding another answer for other solution I am using now because Android Query is so big and unmaintained to stay healthy. So i moved to this <a href=\"https://github.com/amitshekhariitbhu/Fast-Android-Networking\" rel=\"nofollow noreferrer\">https://github.com/amitshekhariitbhu/Fast-Android-Networking</a>.</p>\n\n<pre><code>    AndroidNetworking.download(url,dirPath,fileName).build()\n      .setDownloadProgressListener(new DownloadProgressListener() {\n        public void onProgress(long bytesDownloaded, long totalBytes) {\n            bar.setMax((int) totalBytes);\n            bar.setProgress((int) bytesDownloaded);\n        }\n    }).startDownload(new DownloadListener() {\n        public void onDownloadComplete() {\n            ...\n        }\n\n        public void onError(ANError error) {\n            ...\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15401425,"reputation":424,"user_id":11110785,"display_name":"Fahad Alotaibi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1579523931,"creation_date":1579003266,"answer_id":59733386,"question_id":3028306,"body_markdown":"You can observer the progress of the download manager using LiveData and coroutines, **see the gist below**\r\n\r\nhttps://gist.github.com/FhdAlotaibi/678eb1f4fa94475daf74ac491874fc0e\r\n\r\n   \r\n\r\n    data class DownloadItem(val bytesDownloadedSoFar: Long = -1, val totalSizeBytes: Long = -1, val status: Int)\r\n\r\n    class DownloadProgressLiveData(private val application: Application, private val requestId: Long) : LiveData&lt;DownloadItem&gt;(), CoroutineScope {\r\n    \r\n        private val downloadManager by lazy {\r\n            application.getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\r\n        }\r\n    \r\n        private val job = Job()\r\n    \r\n        override val coroutineContext: CoroutineContext\r\n            get() = Dispatchers.IO + job\r\n    \r\n        override fun onActive() {\r\n            super.onActive()\r\n            launch {\r\n                while (isActive) {\r\n                    val query = DownloadManager.Query().setFilterById(requestId)\r\n                    val cursor = downloadManager.query(query)\r\n                    if (cursor.moveToFirst()) {\r\n                        val status = cursor.getInt(cursor.getColumnIndex(DownloadManager.COLUMN_STATUS))\r\n                        Timber.d(&quot;Status $status&quot;)\r\n                        when (status) {\r\n                            DownloadManager.STATUS_SUCCESSFUL,\r\n                            DownloadManager.STATUS_PENDING,\r\n                            DownloadManager.STATUS_FAILED,\r\n                            DownloadManager.STATUS_PAUSED -&gt; postValue(DownloadItem(status = status))\r\n                            else -&gt; {\r\n                                val bytesDownloadedSoFar = cursor.getInt(cursor.getColumnIndex(DownloadManager.COLUMN_BYTES_DOWNLOADED_SO_FAR))\r\n                                val totalSizeBytes = cursor.getInt(cursor.getColumnIndex(DownloadManager.COLUMN_TOTAL_SIZE_BYTES))\r\n                                postValue(DownloadItem(bytesDownloadedSoFar.toLong(), totalSizeBytes.toLong(), status))\r\n                            }\r\n                        }\r\n                        if (status == DownloadManager.STATUS_SUCCESSFUL || status == DownloadManager.STATUS_FAILED)\r\n                            cancel()\r\n                    } else {\r\n                        postValue(DownloadItem(status = DownloadManager.STATUS_FAILED))\r\n                        cancel()\r\n                    }\r\n                    cursor.close()\r\n                    delay(300)\r\n                }\r\n            }\r\n        }\r\n    \r\n        override fun onInactive() {\r\n            super.onInactive()\r\n            job.cancel()\r\n        }\r\n    \r\n    }","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>You can observer the progress of the download manager using LiveData and coroutines, <strong>see the gist below</strong></p>\n\n<p><a href=\"https://gist.github.com/FhdAlotaibi/678eb1f4fa94475daf74ac491874fc0e\" rel=\"nofollow noreferrer\">https://gist.github.com/FhdAlotaibi/678eb1f4fa94475daf74ac491874fc0e</a></p>\n\n<pre><code>data class DownloadItem(val bytesDownloadedSoFar: Long = -1, val totalSizeBytes: Long = -1, val status: Int)\n\nclass DownloadProgressLiveData(private val application: Application, private val requestId: Long) : LiveData&lt;DownloadItem&gt;(), CoroutineScope {\n\n    private val downloadManager by lazy {\n        application.getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\n    }\n\n    private val job = Job()\n\n    override val coroutineContext: CoroutineContext\n        get() = Dispatchers.IO + job\n\n    override fun onActive() {\n        super.onActive()\n        launch {\n            while (isActive) {\n                val query = DownloadManager.Query().setFilterById(requestId)\n                val cursor = downloadManager.query(query)\n                if (cursor.moveToFirst()) {\n                    val status = cursor.getInt(cursor.getColumnIndex(DownloadManager.COLUMN_STATUS))\n                    Timber.d(\"Status $status\")\n                    when (status) {\n                        DownloadManager.STATUS_SUCCESSFUL,\n                        DownloadManager.STATUS_PENDING,\n                        DownloadManager.STATUS_FAILED,\n                        DownloadManager.STATUS_PAUSED -&gt; postValue(DownloadItem(status = status))\n                        else -&gt; {\n                            val bytesDownloadedSoFar = cursor.getInt(cursor.getColumnIndex(DownloadManager.COLUMN_BYTES_DOWNLOADED_SO_FAR))\n                            val totalSizeBytes = cursor.getInt(cursor.getColumnIndex(DownloadManager.COLUMN_TOTAL_SIZE_BYTES))\n                            postValue(DownloadItem(bytesDownloadedSoFar.toLong(), totalSizeBytes.toLong(), status))\n                        }\n                    }\n                    if (status == DownloadManager.STATUS_SUCCESSFUL || status == DownloadManager.STATUS_FAILED)\n                        cancel()\n                } else {\n                    postValue(DownloadItem(status = DownloadManager.STATUS_FAILED))\n                    cancel()\n                }\n                cursor.close()\n                delay(300)\n            }\n        }\n    }\n\n    override fun onInactive() {\n        super.onInactive()\n        job.cancel()\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6097613,"reputation":1,"user_id":9640177,"display_name":"Mayank Kumar Chaudhari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583341666,"creation_date":1583341666,"answer_id":60531277,"question_id":3028306,"body_markdown":"**Important**\r\n\r\n**AsyncTask is deprecated in Android 11.**\r\n\r\nFor more information please checkout following posts\r\n\r\n- https://stackoverflow.com/q/58767733/9640177\r\n- https://developer.android.com/reference/android/os/AsyncTask\r\n\r\nProbably should move to concorency Framework as suggested by google\r\n","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p><strong>Important</strong></p>\n\n<p><strong>AsyncTask is deprecated in Android 11.</strong></p>\n\n<p>For more information please checkout following posts</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/58767733/9640177\">Android AsyncTask API deprecating in Android 11.What are the alternatives?</a></li>\n<li><a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/os/AsyncTask</a></li>\n</ul>\n\n<p>Probably should move to concorency Framework as suggested by google</p>\n"},{"tags":[],"owner":{"account_id":9713496,"reputation":446,"user_id":7204609,"display_name":"Kinjal"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1588408997,"creation_date":1588408428,"answer_id":61556528,"question_id":3028306,"body_markdown":"We can use the coroutine and work manager for downloading files in kotlin.\r\n\r\nAdd a dependency in build.gradle\r\n \r\n\r\n        implementation &quot;androidx.work:work-runtime-ktx:2.3.0-beta01&quot;\r\n        implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.1&quot;\r\n\r\n  \r\nWorkManager class\r\n\r\n        import android.content.Context\r\n        import android.os.Environment\r\n        import androidx.work.CoroutineWorker\r\n        import androidx.work.WorkerParameters\r\n        import androidx.work.workDataOf\r\n        import com.sa.chat.utils.Const.BASE_URL_IMAGE\r\n        import com.sa.chat.utils.Constants\r\n        import kotlinx.coroutines.delay\r\n        import java.io.BufferedInputStream\r\n        import java.io.File\r\n        import java.io.FileOutputStream\r\n        import java.net.URL\r\n        \r\n        class DownloadMediaWorkManager(appContext: Context, workerParams: WorkerParameters)\r\n            : CoroutineWorker(appContext, workerParams) {\r\n        \r\n            companion object {\r\n                const val WORK_TYPE = &quot;WORK_TYPE&quot;\r\n                const val WORK_IN_PROGRESS = &quot;WORK_IN_PROGRESS&quot;\r\n                const val WORK_PROGRESS_VALUE = &quot;WORK_PROGRESS_VALUE&quot;\r\n            }\r\n        \r\n            override suspend fun doWork(): Result {\r\n        \r\n                val imageUrl = inputData.getString(Constants.WORK_DATA_MEDIA_URL)\r\n                val imagePath = downloadMediaFromURL(imageUrl)\r\n        \r\n                return if (!imagePath.isNullOrEmpty()) {\r\n                    Result.success(workDataOf(Constants.WORK_DATA_MEDIA_URL to imagePath))\r\n                } else {\r\n                    Result.failure()\r\n                }\r\n            }\r\n        \r\n            private suspend fun downloadMediaFromURL(imageUrl: String?): String? {\r\n        \r\n                val file = File(\r\n                        getRootFile().path,\r\n                        &quot;IMG_${System.currentTimeMillis()}.jpeg&quot;\r\n                )\r\n        \r\n                val url = URL(BASE_URL_IMAGE + imageUrl)\r\n                val connection = url.openConnection()\r\n                connection.connect()\r\n        \r\n                val lengthOfFile = connection.contentLength\r\n                // download the file\r\n                val input = BufferedInputStream(url.openStream(), 8192)\r\n                // Output stream\r\n                val output = FileOutputStream(file)\r\n        \r\n                val data = ByteArray(1024)\r\n                var total: Long = 0\r\n                var last = 0\r\n        \r\n                while (true) {\r\n        \r\n                    val count = input.read(data)\r\n                    if (count == -1) break\r\n                    total += count.toLong()\r\n        \r\n                    val progress = (total * 100 / lengthOfFile).toInt()\r\n        \r\n                    if (progress % 10 == 0) {\r\n                        if (last != progress) {\r\n                            setProgress(workDataOf(WORK_TYPE to WORK_IN_PROGRESS,\r\n                                    WORK_PROGRESS_VALUE to progress))\r\n                        }\r\n                        last = progress\r\n                        delay(50)\r\n                    }\r\n                    output.write(data, 0, count)\r\n                }\r\n        \r\n                output.flush()\r\n                output.close()\r\n                input.close()\r\n        \r\n                return file.path\r\n        \r\n            }\r\n        \r\n            private fun getRootFile(): File {\r\n        \r\n                val rootDir = File(Environment.getExternalStorageDirectory().absolutePath + &quot;/AppName&quot;)\r\n        \r\n                if (!rootDir.exists()) {\r\n                    rootDir.mkdir()\r\n                }\r\n        \r\n                val dir = File(&quot;$rootDir/${Constants.IMAGE_FOLDER}/&quot;)\r\n        \r\n                if (!dir.exists()) {\r\n                    dir.mkdir()\r\n                }\r\n                return File(dir.absolutePath)\r\n            }\r\n        }\r\n\r\nStart downloading through work manager in activity class \r\n\r\n   \r\n\r\n     private fun downloadImage(imagePath: String?, id: String) {\r\n        \r\n                val data = workDataOf(WORK_DATA_MEDIA_URL to imagePath)\r\n                val downloadImageWorkManager = OneTimeWorkRequestBuilder&lt;DownloadMediaWorkManager&gt;()\r\n                        .setInputData(data)\r\n                        .addTag(id)\r\n                        .build()\r\n        \r\n                WorkManager.getInstance(this).enqueue(downloadImageWorkManager)\r\n        \r\n                WorkManager.getInstance(this).getWorkInfoByIdLiveData(downloadImageWorkManager.id)\r\n                        .observe(this, Observer { workInfo -&gt;\r\n        \r\n                            if (workInfo != null) {\r\n                                when {\r\n                                    workInfo.state == WorkInfo.State.SUCCEEDED -&gt; {\r\n                                        progressBar?.visibility = View.GONE\r\n                                        ivDownload?.visibility = View.GONE\r\n                                    }\r\n                                    workInfo.state == WorkInfo.State.FAILED || workInfo.state == WorkInfo.State.CANCELLED || workInfo.state == WorkInfo.State.BLOCKED -&gt; {\r\n                                        progressBar?.visibility = View.GONE\r\n                                        ivDownload?.visibility = View.VISIBLE\r\n                                    }\r\n                                    else -&gt; {\r\n                                        if(workInfo.progress.getString(WORK_TYPE) == WORK_IN_PROGRESS){\r\n                                            val progress = workInfo.progress.getInt(WORK_PROGRESS_VALUE, 0)\r\n                                            progressBar?.visibility = View.VISIBLE\r\n                                            progressBar?.progress = progress\r\n                                            ivDownload?.visibility = View.GONE\r\n        \r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        })\r\n        \r\n            }","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>We can use the coroutine and work manager for downloading files in kotlin.</p>\n\n<p>Add a dependency in build.gradle</p>\n\n<pre><code>    implementation \"androidx.work:work-runtime-ktx:2.3.0-beta01\"\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.1\"\n</code></pre>\n\n<p>WorkManager class</p>\n\n<pre><code>    import android.content.Context\n    import android.os.Environment\n    import androidx.work.CoroutineWorker\n    import androidx.work.WorkerParameters\n    import androidx.work.workDataOf\n    import com.sa.chat.utils.Const.BASE_URL_IMAGE\n    import com.sa.chat.utils.Constants\n    import kotlinx.coroutines.delay\n    import java.io.BufferedInputStream\n    import java.io.File\n    import java.io.FileOutputStream\n    import java.net.URL\n\n    class DownloadMediaWorkManager(appContext: Context, workerParams: WorkerParameters)\n        : CoroutineWorker(appContext, workerParams) {\n\n        companion object {\n            const val WORK_TYPE = \"WORK_TYPE\"\n            const val WORK_IN_PROGRESS = \"WORK_IN_PROGRESS\"\n            const val WORK_PROGRESS_VALUE = \"WORK_PROGRESS_VALUE\"\n        }\n\n        override suspend fun doWork(): Result {\n\n            val imageUrl = inputData.getString(Constants.WORK_DATA_MEDIA_URL)\n            val imagePath = downloadMediaFromURL(imageUrl)\n\n            return if (!imagePath.isNullOrEmpty()) {\n                Result.success(workDataOf(Constants.WORK_DATA_MEDIA_URL to imagePath))\n            } else {\n                Result.failure()\n            }\n        }\n\n        private suspend fun downloadMediaFromURL(imageUrl: String?): String? {\n\n            val file = File(\n                    getRootFile().path,\n                    \"IMG_${System.currentTimeMillis()}.jpeg\"\n            )\n\n            val url = URL(BASE_URL_IMAGE + imageUrl)\n            val connection = url.openConnection()\n            connection.connect()\n\n            val lengthOfFile = connection.contentLength\n            // download the file\n            val input = BufferedInputStream(url.openStream(), 8192)\n            // Output stream\n            val output = FileOutputStream(file)\n\n            val data = ByteArray(1024)\n            var total: Long = 0\n            var last = 0\n\n            while (true) {\n\n                val count = input.read(data)\n                if (count == -1) break\n                total += count.toLong()\n\n                val progress = (total * 100 / lengthOfFile).toInt()\n\n                if (progress % 10 == 0) {\n                    if (last != progress) {\n                        setProgress(workDataOf(WORK_TYPE to WORK_IN_PROGRESS,\n                                WORK_PROGRESS_VALUE to progress))\n                    }\n                    last = progress\n                    delay(50)\n                }\n                output.write(data, 0, count)\n            }\n\n            output.flush()\n            output.close()\n            input.close()\n\n            return file.path\n\n        }\n\n        private fun getRootFile(): File {\n\n            val rootDir = File(Environment.getExternalStorageDirectory().absolutePath + \"/AppName\")\n\n            if (!rootDir.exists()) {\n                rootDir.mkdir()\n            }\n\n            val dir = File(\"$rootDir/${Constants.IMAGE_FOLDER}/\")\n\n            if (!dir.exists()) {\n                dir.mkdir()\n            }\n            return File(dir.absolutePath)\n        }\n    }\n</code></pre>\n\n<p>Start downloading through work manager in activity class </p>\n\n<pre><code> private fun downloadImage(imagePath: String?, id: String) {\n\n            val data = workDataOf(WORK_DATA_MEDIA_URL to imagePath)\n            val downloadImageWorkManager = OneTimeWorkRequestBuilder&lt;DownloadMediaWorkManager&gt;()\n                    .setInputData(data)\n                    .addTag(id)\n                    .build()\n\n            WorkManager.getInstance(this).enqueue(downloadImageWorkManager)\n\n            WorkManager.getInstance(this).getWorkInfoByIdLiveData(downloadImageWorkManager.id)\n                    .observe(this, Observer { workInfo -&gt;\n\n                        if (workInfo != null) {\n                            when {\n                                workInfo.state == WorkInfo.State.SUCCEEDED -&gt; {\n                                    progressBar?.visibility = View.GONE\n                                    ivDownload?.visibility = View.GONE\n                                }\n                                workInfo.state == WorkInfo.State.FAILED || workInfo.state == WorkInfo.State.CANCELLED || workInfo.state == WorkInfo.State.BLOCKED -&gt; {\n                                    progressBar?.visibility = View.GONE\n                                    ivDownload?.visibility = View.VISIBLE\n                                }\n                                else -&gt; {\n                                    if(workInfo.progress.getString(WORK_TYPE) == WORK_IN_PROGRESS){\n                                        val progress = workInfo.progress.getInt(WORK_PROGRESS_VALUE, 0)\n                                        progressBar?.visibility = View.VISIBLE\n                                        progressBar?.progress = progress\n                                        ivDownload?.visibility = View.GONE\n\n                                    }\n                                }\n                            }\n                        }\n                    })\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16183502,"reputation":641,"user_id":11684331,"display_name":"jay patoliya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619196539,"creation_date":1619196539,"answer_id":67233965,"question_id":3028306,"body_markdown":"\t\tprivate class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {\r\n\r\n\t\t\tprivate PowerManager.WakeLock mWakeLock;\r\n\t\t\tString onlinePathBundle, onlinePathMusic, offlinePathBundle, offlinePathMusic;\r\n\r\n\t\t\tCircleProgressBar progressBar;\r\n\t\t\tRelativeLayout rl_progress;\r\n\t\t\tImageView btn_download;\r\n\t\t\tTextView tv_progress;\r\n\r\n\t\t\tpublic DownloadTask(String onlinePathBundle, String onlinePathMusic, String offlinePathBundle, String offlinePathMusic, CircleProgressBar progressBar, RelativeLayout rl_progress, ImageView btn_download,\r\n\t\t\t\t\t\t\t\tTextView tv_progress) {\r\n\t\t\t\tthis.offlinePathBundle = offlinePathBundle;\r\n\t\t\t\tthis.offlinePathMusic = offlinePathMusic;\r\n\t\t\t\tthis.progressBar = progressBar;\r\n\t\t\t\tthis.rl_progress = rl_progress;\r\n\t\t\t\tthis.btn_download = btn_download;\r\n\t\t\t\tthis.tv_progress = tv_progress;\r\n\t\t\t\tthis.onlinePathBundle = onlinePathBundle;\r\n\t\t\t\tthis.onlinePathMusic = onlinePathMusic;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void onPreExecute() {\r\n\t\t\t\tsuper.onPreExecute();\r\n\t\t\t\tprogressBar.setMax(100);\r\n\t\t\t\trl_progress.setVisibility(View.VISIBLE);\r\n\t\t\t\tbtn_download.setVisibility(View.GONE);\r\n\r\n\t\t\t\tPowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\r\n\t\t\t\tmWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, getClass().getName());\r\n\t\t\t\tmWakeLock.acquire();\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected String doInBackground(String... sUrl) {\r\n\t\t\t\tString firstResult = downTask(onlinePathBundle, 1, offlinePathBundle);\r\n\t\t\t\tString seondResult = downTask(onlinePathMusic, 2, offlinePathMusic);\r\n\t\t\t\tif (firstResult != null) {\r\n\t\t\t\t\tToast.makeText(SplashActivity.this, &quot;Download error: &quot; + firstResult, Toast.LENGTH_LONG).show();\r\n\t\t\t\t\treturn firstResult;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn seondResult;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void onProgressUpdate(Integer... progress) {\r\n\t\t\t\tsuper.onProgressUpdate(progress);\r\n\t\t\t\tprogressBar.setProgress(progress[0]);\r\n\t\t\t\ttv_progress.setText(progress[0] + &quot;%&quot;);\r\n\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void onPostExecute(String result) {\r\n\t\t\t\tsuper.onPostExecute(result);\r\n\t\t\t\trl_progress.setVisibility(View.GONE);\r\n\t\t\t\tbtn_download.setVisibility(View.VISIBLE);\r\n\t\t\t\tif (result != null) {\r\n\t\t\t\t\tToast.makeText(SplashActivity.this, &quot;Download error: &quot; + result, Toast.LENGTH_LONG).show();\r\n\t\t\t\t} else {\r\n\t\t\t\t\trl_progress.setVisibility(View.GONE);\r\n\t\t\t\t\tbtn_download.setVisibility(View.GONE);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tpublic String downTask(String onlineNewPath, int numberOfTask, String offlineNewPath) {\r\n\t\t\t\tInputStream input = null;\r\n\t\t\t\tOutputStream output = null;\r\n\t\t\t\tHttpURLConnection connection = null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tURL url = new URL(onlineNewPath);\r\n\t\t\t\t\tconnection = (HttpURLConnection) url.openConnection();\r\n\t\t\t\t\tconnection.connect();\r\n\r\n\t\t\t\t\t// expect HTTP 200 OK, so we don&#39;t mistakenly save error report\r\n\t\t\t\t\t// instead of the file\r\n\t\t\t\t\tif (connection.getResponseCode() != HttpURLConnection.HTTP_OK) {\r\n\t\t\t\t\t\treturn &quot;Server returned HTTP &quot; + connection.getResponseCode()\r\n\t\t\t\t\t\t\t\t+ &quot; &quot; + connection.getResponseMessage();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// this will be useful to display download percentage\r\n\t\t\t\t\t// might be -1: server did not report the length\r\n\t\t\t\t\tint fileLength = connection.getContentLength();\r\n\r\n\t\t\t\t\t// download the file\r\n\t\t\t\t\tinput = connection.getInputStream();\r\n\t\t\t\t\toutput = new FileOutputStream(offlineNewPath);\r\n\r\n\t\t\t\t\tbyte data[] = new byte[4096];\r\n\t\t\t\t\tlong total = 0;\r\n\t\t\t\t\tint count;\r\n\t\t\t\t\twhile ((count = input.read(data)) != -1) {\r\n\t\t\t\t\t\t// allow canceling with back button\r\n\t\t\t\t\t\tif (isCancelled()) {\r\n\t\t\t\t\t\t\tinput.close();\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttotal += count;\r\n\t\t\t\t\t\t// publishing the progress....\r\n\t\t\t\t\t\tif (fileLength &gt; 0) {// only if total length is known\r\n\t\t\t\t\t\t\tif (numberOfTask == 1) {\r\n\t\t\t\t\t\t\t\tpublishProgress((int) (total * 50 / fileLength));\r\n\t\t\t\t\t\t\t} else if (numberOfTask == 2) {\r\n\t\t\t\t\t\t\t\tpublishProgress(((int) (total * 50 / fileLength)) + 50);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toutput.write(data, 0, count);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\treturn e.toString();\r\n\t\t\t\t} finally {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (output != null)\r\n\t\t\t\t\t\t\toutput.close();\r\n\t\t\t\t\t\tif (input != null)\r\n\t\t\t\t\t\t\tinput.close();\r\n\t\t\t\t\t} catch (IOException ignored) {\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (connection != null)\r\n\t\t\t\t\t\tconnection.disconnect();\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<pre><code>    private class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {\n\n        private PowerManager.WakeLock mWakeLock;\n        String onlinePathBundle, onlinePathMusic, offlinePathBundle, offlinePathMusic;\n\n        CircleProgressBar progressBar;\n        RelativeLayout rl_progress;\n        ImageView btn_download;\n        TextView tv_progress;\n\n        public DownloadTask(String onlinePathBundle, String onlinePathMusic, String offlinePathBundle, String offlinePathMusic, CircleProgressBar progressBar, RelativeLayout rl_progress, ImageView btn_download,\n                            TextView tv_progress) {\n            this.offlinePathBundle = offlinePathBundle;\n            this.offlinePathMusic = offlinePathMusic;\n            this.progressBar = progressBar;\n            this.rl_progress = rl_progress;\n            this.btn_download = btn_download;\n            this.tv_progress = tv_progress;\n            this.onlinePathBundle = onlinePathBundle;\n            this.onlinePathMusic = onlinePathMusic;\n        }\n\n        @Override\n        protected void onPreExecute() {\n            super.onPreExecute();\n            progressBar.setMax(100);\n            rl_progress.setVisibility(View.VISIBLE);\n            btn_download.setVisibility(View.GONE);\n\n            PowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\n            mWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, getClass().getName());\n            mWakeLock.acquire();\n        }\n\n        @Override\n        protected String doInBackground(String... sUrl) {\n            String firstResult = downTask(onlinePathBundle, 1, offlinePathBundle);\n            String seondResult = downTask(onlinePathMusic, 2, offlinePathMusic);\n            if (firstResult != null) {\n                Toast.makeText(SplashActivity.this, &quot;Download error: &quot; + firstResult, Toast.LENGTH_LONG).show();\n                return firstResult;\n            } else {\n                return seondResult;\n            }\n\n        }\n\n        @Override\n        protected void onProgressUpdate(Integer... progress) {\n            super.onProgressUpdate(progress);\n            progressBar.setProgress(progress[0]);\n            tv_progress.setText(progress[0] + &quot;%&quot;);\n\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n            super.onPostExecute(result);\n            rl_progress.setVisibility(View.GONE);\n            btn_download.setVisibility(View.VISIBLE);\n            if (result != null) {\n                Toast.makeText(SplashActivity.this, &quot;Download error: &quot; + result, Toast.LENGTH_LONG).show();\n            } else {\n                rl_progress.setVisibility(View.GONE);\n                btn_download.setVisibility(View.GONE);\n            }\n\n        }\n\n        public String downTask(String onlineNewPath, int numberOfTask, String offlineNewPath) {\n            InputStream input = null;\n            OutputStream output = null;\n            HttpURLConnection connection = null;\n            try {\n                URL url = new URL(onlineNewPath);\n                connection = (HttpURLConnection) url.openConnection();\n                connection.connect();\n\n                // expect HTTP 200 OK, so we don't mistakenly save error report\n                // instead of the file\n                if (connection.getResponseCode() != HttpURLConnection.HTTP_OK) {\n                    return &quot;Server returned HTTP &quot; + connection.getResponseCode()\n                            + &quot; &quot; + connection.getResponseMessage();\n                }\n\n                // this will be useful to display download percentage\n                // might be -1: server did not report the length\n                int fileLength = connection.getContentLength();\n\n                // download the file\n                input = connection.getInputStream();\n                output = new FileOutputStream(offlineNewPath);\n\n                byte data[] = new byte[4096];\n                long total = 0;\n                int count;\n                while ((count = input.read(data)) != -1) {\n                    // allow canceling with back button\n                    if (isCancelled()) {\n                        input.close();\n                        return null;\n                    }\n                    total += count;\n                    // publishing the progress....\n                    if (fileLength &gt; 0) {// only if total length is known\n                        if (numberOfTask == 1) {\n                            publishProgress((int) (total * 50 / fileLength));\n                        } else if (numberOfTask == 2) {\n                            publishProgress(((int) (total * 50 / fileLength)) + 50);\n                        }\n\n                    }\n                    output.write(data, 0, count);\n                }\n            } catch (Exception e) {\n                return e.toString();\n            } finally {\n                try {\n                    if (output != null)\n                        output.close();\n                    if (input != null)\n                        input.close();\n                } catch (IOException ignored) {\n                }\n\n                if (connection != null)\n                    connection.disconnect();\n            }\n            return null;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663821512,"creation_date":1663821512,"answer_id":73809414,"question_id":3028306,"body_markdown":"I have came across a **Simple File Download** library \r\n[Fetch][1] and importantly it has **Storage Access Framework**, **Content Provider** and **URI** support. If anyone is still searching might found it helpful.\r\n\r\n&gt; implementation &quot;androidx.tonyodev.fetch2:xfetch2:3.1.6&quot;  //AndroidX\r\n\r\n&gt; implementation &quot;com.tonyodev.fetch2:fetch2:3.0.12&quot;  //Support lib\r\n\r\nRequired permissions in case your are not using app specific directory.\r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;`\r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;`\r\n\r\nInternet permission\r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;`\r\n   \r\n    private Fetch fetch;\r\n    FetchConfiguration fetchConfiguration = new FetchConfiguration.Builder(this)\r\n                    .setDownloadConcurrentLimit(3)//Concurrent Download limit\r\n                    .build();\r\n    \r\n            fetch = Fetch.Impl.getInstance(fetchConfiguration);\r\n    \r\n            String url = &quot;http:www.example.com/test.txt&quot;;//URL of file\r\n            String file = &quot;/downloads/test.txt&quot;;//Path of file\r\n            \r\n            final Request request = new Request(url, file);\r\n            request.setPriority(Priority.HIGH);\r\n            request.setNetworkType(NetworkType.ALL);//Preferred network type\r\n            request.addHeader(&quot;clientKey&quot;, &quot;SD78DF93_3947&amp;MVNGHE1WONG&quot;);//Auth header if any\r\n            \r\n            fetch.enqueue(request, updatedRequest -&gt; {\r\n                //Request was successfully enqueued for download.\r\n            }, error -&gt; {\r\n                //An error occurred enqueuing the request.\r\n            });\r\n    \r\n        }\r\n\r\nListen for update and progress\r\n\r\n    FetchListener fetchListener = new FetchListener() {\r\n        @Override\r\n        public void onQueued(@NotNull Download download, boolean waitingOnNetwork) {\r\n            if (request.getId() == download.getId()) {\r\n                showDownloadInList(download);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onCompleted(@NotNull Download download) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onError(@NotNull Download download) {\r\n            Error error = download.getError();\r\n        }\r\n    \r\n        @Override\r\n        public void onProgress(@NotNull Download download, long etaInMilliSeconds, long downloadedBytesPerSecond) {\r\n            if (request.getId() == download.getId()) {\r\n                updateDownload(download, etaInMilliSeconds);\r\n            }\r\n            int progress = download.getProgress();\r\n        }\r\n    \r\n        @Override\r\n        public void onPaused(@NotNull Download download) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onResumed(@NotNull Download download) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onCancelled(@NotNull Download download) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onRemoved(@NotNull Download download) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onDeleted(@NotNull Download download) {\r\n    \r\n        }\r\n    };\r\n    \r\n    fetch.addListener(fetchListener);\r\n    \r\n    //Remove listener when done.\r\n    fetch.removeListener(fetchListener);\r\n\r\n  \r\n\r\n\r\n\r\nThis example code is taken from the owner page all credit goes to [Tonyo Francis][2]\r\n\r\n\r\n  [1]: https://github.com/tonyofrancis/Fetch\r\n  [2]: https://github.com/tonyofrancis","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>I have came across a <strong>Simple File Download</strong> library\n<a href=\"https://github.com/tonyofrancis/Fetch\" rel=\"nofollow noreferrer\">Fetch</a> and importantly it has <strong>Storage Access Framework</strong>, <strong>Content Provider</strong> and <strong>URI</strong> support. If anyone is still searching might found it helpful.</p>\n<blockquote>\n<p>implementation &quot;androidx.tonyodev.fetch2:xfetch2:3.1.6&quot;  //AndroidX</p>\n</blockquote>\n<blockquote>\n<p>implementation &quot;com.tonyodev.fetch2:fetch2:3.0.12&quot;  //Support lib</p>\n</blockquote>\n<p>Required permissions in case your are not using app specific directory.</p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;</code></p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;</code></p>\n<p>Internet permission</p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;</code></p>\n<pre><code>private Fetch fetch;\nFetchConfiguration fetchConfiguration = new FetchConfiguration.Builder(this)\n                .setDownloadConcurrentLimit(3)//Concurrent Download limit\n                .build();\n\n        fetch = Fetch.Impl.getInstance(fetchConfiguration);\n\n        String url = &quot;http:www.example.com/test.txt&quot;;//URL of file\n        String file = &quot;/downloads/test.txt&quot;;//Path of file\n        \n        final Request request = new Request(url, file);\n        request.setPriority(Priority.HIGH);\n        request.setNetworkType(NetworkType.ALL);//Preferred network type\n        request.addHeader(&quot;clientKey&quot;, &quot;SD78DF93_3947&amp;MVNGHE1WONG&quot;);//Auth header if any\n        \n        fetch.enqueue(request, updatedRequest -&gt; {\n            //Request was successfully enqueued for download.\n        }, error -&gt; {\n            //An error occurred enqueuing the request.\n        });\n\n    }\n</code></pre>\n<p>Listen for update and progress</p>\n<pre><code>FetchListener fetchListener = new FetchListener() {\n    @Override\n    public void onQueued(@NotNull Download download, boolean waitingOnNetwork) {\n        if (request.getId() == download.getId()) {\n            showDownloadInList(download);\n        }\n    }\n\n    @Override\n    public void onCompleted(@NotNull Download download) {\n\n    }\n\n    @Override\n    public void onError(@NotNull Download download) {\n        Error error = download.getError();\n    }\n\n    @Override\n    public void onProgress(@NotNull Download download, long etaInMilliSeconds, long downloadedBytesPerSecond) {\n        if (request.getId() == download.getId()) {\n            updateDownload(download, etaInMilliSeconds);\n        }\n        int progress = download.getProgress();\n    }\n\n    @Override\n    public void onPaused(@NotNull Download download) {\n\n    }\n\n    @Override\n    public void onResumed(@NotNull Download download) {\n\n    }\n\n    @Override\n    public void onCancelled(@NotNull Download download) {\n\n    }\n\n    @Override\n    public void onRemoved(@NotNull Download download) {\n\n    }\n\n    @Override\n    public void onDeleted(@NotNull Download download) {\n\n    }\n};\n\nfetch.addListener(fetchListener);\n\n//Remove listener when done.\nfetch.removeListener(fetchListener);\n</code></pre>\n<p>This example code is taken from the owner page all credit goes to <a href=\"https://github.com/tonyofrancis\" rel=\"nofollow noreferrer\">Tonyo Francis</a></p>\n"}],"owner":{"account_id":150425,"reputation":19449,"user_id":363606,"accept_rate":97,"display_name":"Tom Leese"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":626694,"favorite_count":0,"down_vote_count":1,"up_vote_count":1129,"accepted_answer_id":3028660,"answer_count":16,"score":1128,"last_activity_date":1664738467,"creation_date":1276338176,"question_id":3028306,"body_markdown":"I am trying to write a simple application that gets updated. For this I need a simple function that can download a file and *show the current progress* in a `ProgressDialog`. I know how to do the `ProgressDialog`, but I&#39;m not sure how to display the current progress and how to download the file in the first place.","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>I am trying to write a simple application that gets updated. For this I need a simple function that can download a file and <em>show the current progress</em> in a <code>ProgressDialog</code>. I know how to do the <code>ProgressDialog</code>, but I'm not sure how to display the current progress and how to download the file in the first place.</p>\n"},{"tags":["java","multithreading","interrupted-exception"],"comments":[{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":1,"creation_date":1664716758,"post_id":73926124,"comment_id":130530954,"body_markdown":"I really struggle to understand &quot;*Java Thread&#39;s doesn&#39;t accept a Runnable that allows throwing of InterruptedException*&quot;...","body":"I really struggle to understand &quot;<i>Java Thread&#39;s doesn&#39;t accept a Runnable that allows throwing of InterruptedException</i>&quot;..."},{"owner":{"account_id":1316033,"reputation":7857,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"score":0,"creation_date":1664716832,"post_id":73926124,"comment_id":130530968,"body_markdown":"@GiorgiTsiklauri The standard `Runnable` that you can pass to `Thread`s constructor does not allow you to throw an `InterruptedException` from its `run` method because `InterruptedException` is a checked exception.","body":"@GiorgiTsiklauri The standard <code>Runnable</code> that you can pass to <code>Thread</code>s constructor does not allow you to throw an <code>InterruptedException</code> from its <code>run</code> method because <code>InterruptedException</code> is a checked exception."},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1664717260,"post_id":73926124,"comment_id":130531056,"body_markdown":"So, it&#39;s not about `Runnable` but it&#39;s about *`run`* method.. it&#39;s now clearer.","body":"So, it&#39;s not about <code>Runnable</code> but it&#39;s about <i><code>run</code></i> method.. it&#39;s now clearer."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664737739,"creation_date":1664717306,"answer_id":73926210,"question_id":73926124,"body_markdown":"Exceptions don&#39;t propagate across threads, for instance you need an UncaughtExceptionHandler to retrieve the exception thrown by another thread, see https://stackoverflow.com/q/6546193/217324.\r\n\r\nSo putting InterruptedException in the throws clause creates a false expectation, the exception still can&#39;t be thrown in one thread and caught in another. That&#39;s the only reason I can think of for not doing this, they are trying to communicate to the developer that the toplevel run method for a thread needs to handle everything. Putting InterruptedException in the throws clause dilutes this message, as the developer isn&#39;t forced to deal with it. \r\n\r\nBut yes, they could have added InterruptedException to the throws clause of Runnable, that would make this case much simpler. But there are design goals in conflict. The designars want developers to be very aware of the exception behavior, including making  InterruptedException checked, but it&#39;s not having it in the throws clause that forces people to deal with it. The goal of letting simple things be easy and having a thread call sleep without a catch is at odds with that so it wasn&#39;t implemented. ","title":"Design: Would it not make more sense to construct a Thread with something that can throw an InterruptedException?","body":"<p>Exceptions don't propagate across threads, for instance you need an UncaughtExceptionHandler to retrieve the exception thrown by another thread, see <a href=\"https://stackoverflow.com/q/6546193/217324\">How to catch an Exception from a thread</a>.</p>\n<p>So putting InterruptedException in the throws clause creates a false expectation, the exception still can't be thrown in one thread and caught in another. That's the only reason I can think of for not doing this, they are trying to communicate to the developer that the toplevel run method for a thread needs to handle everything. Putting InterruptedException in the throws clause dilutes this message, as the developer isn't forced to deal with it.</p>\n<p>But yes, they could have added InterruptedException to the throws clause of Runnable, that would make this case much simpler. But there are design goals in conflict. The designars want developers to be very aware of the exception behavior, including making  InterruptedException checked, but it's not having it in the throws clause that forces people to deal with it. The goal of letting simple things be easy and having a thread call sleep without a catch is at odds with that so it wasn't implemented.</p>\n"}],"owner":{"account_id":1316033,"reputation":7857,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664737739,"creation_date":1664716626,"question_id":73926124,"body_markdown":"I&#39;m wondering what might have been the reason Java Thread&#39;s doesn&#39;t accept a `Runnable` that allows throwing of `InterruptedException`. If instead an `InterruptableRunnable` was accepted, it would simplify a lot of code that will simply want to stop the thread when interrupted.\r\n\r\n    interface InterruptableRunnable {\r\n        void run() throws InterruptedException;\r\n    }\r\n\r\nBefore:\r\n\r\n    new Thread(() -&gt; {\r\n        try {\r\n            Thread.sleep(1000);\r\n        }\r\n        catch (InterruptedException e) {\r\n            // Some confusion ensues here as to what to do;\r\n            // - Should we restore the interrupt? For who? Guess not.\r\n            // - Should we rethrow it? That would terminate thread exceptionally...\r\n            // - Just return then? Sounds good...\r\n            \r\n            return;\r\n        }\r\n    }).start();\r\n\r\nNow, if instead you could use an `InterruptableRunnable` the code would be far simpler, and I think just as correct:\r\n\r\n    new Thread(() -&gt; {\r\n        Thread.sleep(1000);\r\n    }).start();\r\n\r\nOn an interrupt, the thread gets terminated exactly as you&#39;d expect -- and the system could be smart enough not to consider an `InterruptedException` as an exceptional termination condition. If that&#39;s not what you want, you always have the option of catching the exception.\r\n\r\nFor similar reasons, what could have been the reasoning `Thread#run()` is not declared to throw `InterruptedException`...","title":"Design: Would it not make more sense to construct a Thread with something that can throw an InterruptedException?","body":"<p>I'm wondering what might have been the reason Java Thread's doesn't accept a <code>Runnable</code> that allows throwing of <code>InterruptedException</code>. If instead an <code>InterruptableRunnable</code> was accepted, it would simplify a lot of code that will simply want to stop the thread when interrupted.</p>\n<pre><code>interface InterruptableRunnable {\n    void run() throws InterruptedException;\n}\n</code></pre>\n<p>Before:</p>\n<pre><code>new Thread(() -&gt; {\n    try {\n        Thread.sleep(1000);\n    }\n    catch (InterruptedException e) {\n        // Some confusion ensues here as to what to do;\n        // - Should we restore the interrupt? For who? Guess not.\n        // - Should we rethrow it? That would terminate thread exceptionally...\n        // - Just return then? Sounds good...\n        \n        return;\n    }\n}).start();\n</code></pre>\n<p>Now, if instead you could use an <code>InterruptableRunnable</code> the code would be far simpler, and I think just as correct:</p>\n<pre><code>new Thread(() -&gt; {\n    Thread.sleep(1000);\n}).start();\n</code></pre>\n<p>On an interrupt, the thread gets terminated exactly as you'd expect -- and the system could be smart enough not to consider an <code>InterruptedException</code> as an exceptional termination condition. If that's not what you want, you always have the option of catching the exception.</p>\n<p>For similar reasons, what could have been the reasoning <code>Thread#run()</code> is not declared to throw <code>InterruptedException</code>...</p>\n"},{"tags":["java","multithreading","concurrency","thread-local","thread-confinement"],"comments":[{"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"score":13,"creation_date":1455192376,"post_id":817856,"comment_id":58384994,"body_markdown":"If you are using ThreadLocal, never write a wrapper over it !!! Each and every developer who wants to use the variable must know it is &#39;ThreadLocal&#39;","body":"If you are using ThreadLocal, never write a wrapper over it !!! Each and every developer who wants to use the variable must know it is &#39;ThreadLocal&#39;"},{"owner":{"account_id":228170,"reputation":16153,"user_id":490315,"accept_rate":94,"display_name":"whirlwin"},"score":2,"creation_date":1490879935,"post_id":817856,"comment_id":73317327,"body_markdown":"@Notabug If you are explicit, you can name your variable so that it&#39;s it that you&#39;re dealing with a ThreadLocal value, e.g. `RequestUtils.getCurrentRequestThreadLocal()`. Not saying this is very elegant though, but this stems from the fact that ThreadLocal itself is not very elegant in most cases.","body":"@Notabug If you are explicit, you can name your variable so that it&#39;s it that you&#39;re dealing with a ThreadLocal value, e.g. <code>RequestUtils.getCurrentRequestThreadLocal()</code>. Not saying this is very elegant though, but this stems from the fact that ThreadLocal itself is not very elegant in most cases."}],"answers":[{"tags":[],"owner":{"account_id":11369,"reputation":274318,"user_id":21886,"accept_rate":88,"display_name":"RichieHindle"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1393507894,"creation_date":1241381121,"answer_id":817864,"question_id":817856,"body_markdown":"[The documentation][1] says it very well: &quot;each thread that accesses [a thread-local variable] (via its get or set method) has its own, independently initialized copy of the variable&quot;.\r\n\r\nYou use one when each thread must have its own copy of something.  By default, data is shared between threads.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/ThreadLocal.html","title":"When and how should I use a ThreadLocal variable?","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ThreadLocal.html\" rel=\"noreferrer\">The documentation</a> says it very well: \"each thread that accesses [a thread-local variable] (via its get or set method) has its own, independently initialized copy of the variable\".</p>\n\n<p>You use one when each thread must have its own copy of something.  By default, data is shared between threads.</p>\n"},{"tags":[],"owner":{"account_id":35470,"reputation":17531,"user_id":100464,"accept_rate":91,"display_name":"user100464"},"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1241382039,"creation_date":1241382039,"answer_id":817911,"question_id":817856,"body_markdown":"In Java, if you have a datum that can vary per-thread, your choices are to pass that datum around to every method that needs (or may need) it, or to associate the datum with the thread.  Passing the datum around everywhere may be workable if all your methods already need to pass around a common &quot;context&quot; variable.  \r\n\r\nIf that&#39;s not the case, you may not want to clutter up your method signatures with an additional parameter.  In a non-threaded world, you could solve the problem with the Java equivalent of a global variable.  In a threaded word, the equivalent of a global variable is a thread-local variable.\r\n","title":"When and how should I use a ThreadLocal variable?","body":"<p>In Java, if you have a datum that can vary per-thread, your choices are to pass that datum around to every method that needs (or may need) it, or to associate the datum with the thread.  Passing the datum around everywhere may be workable if all your methods already need to pass around a common \"context\" variable.  </p>\n\n<p>If that's not the case, you may not want to clutter up your method signatures with an additional parameter.  In a non-threaded world, you could solve the problem with the Java equivalent of a global variable.  In a threaded word, the equivalent of a global variable is a thread-local variable.</p>\n"},{"tags":[],"owner":{"account_id":26685,"reputation":24085,"user_id":69689,"accept_rate":85,"display_name":"overthink"},"down_vote_count":1,"up_vote_count":917,"is_accepted":true,"score":916,"last_activity_date":1524678699,"creation_date":1241382377,"answer_id":817926,"question_id":817856,"body_markdown":"One possible (and common) use is when you have some object that is not thread-safe, but you want to avoid [synchronizing][1] access to that object (I&#39;m looking at you, [SimpleDateFormat][2]).  Instead, give each thread its own instance of the object.\r\n\r\nFor example:\r\n\r\n    public class Foo\r\n    {\r\n        // SimpleDateFormat is not thread-safe, so give one to each thread\r\n        private static final ThreadLocal&lt;SimpleDateFormat&gt; formatter = new ThreadLocal&lt;SimpleDateFormat&gt;(){\r\n            @Override\r\n            protected SimpleDateFormat initialValue()\r\n            {\r\n                return new SimpleDateFormat(&quot;yyyyMMdd HHmm&quot;);\r\n            }\r\n        };\r\n        \r\n        public String formatIt(Date date)\r\n        {\r\n            return formatter.get().format(date);\r\n        }\r\n    }\r\n\r\n[Documentation][3].\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/sync.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html","title":"When and how should I use a ThreadLocal variable?","body":"<p>One possible (and common) use is when you have some object that is not thread-safe, but you want to avoid <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/sync.html\" rel=\"noreferrer\">synchronizing</a> access to that object (I'm looking at you, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat</a>).  Instead, give each thread its own instance of the object.</p>\n\n<p>For example:</p>\n\n<pre><code>public class Foo\n{\n    // SimpleDateFormat is not thread-safe, so give one to each thread\n    private static final ThreadLocal&lt;SimpleDateFormat&gt; formatter = new ThreadLocal&lt;SimpleDateFormat&gt;(){\n        @Override\n        protected SimpleDateFormat initialValue()\n        {\n            return new SimpleDateFormat(\"yyyyMMdd HHmm\");\n        }\n    };\n\n    public String formatIt(Date date)\n    {\n        return formatter.get().format(date);\n    }\n}\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html\" rel=\"noreferrer\">Documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":25274,"reputation":6653,"user_id":64881,"display_name":"Phil M"},"down_vote_count":2,"up_vote_count":460,"is_accepted":false,"score":458,"last_activity_date":1557882643,"creation_date":1241388129,"answer_id":818120,"question_id":817856,"body_markdown":"Since a `ThreadLocal` is a reference to data within a given `Thread`, you can end up with classloading leaks when using `ThreadLocal`s in application servers using thread pools. You need to be very careful about cleaning up any `ThreadLocal`s you `get()` or `set()` by using the `ThreadLocal`&#39;s `remove()` method.\r\n\r\nIf you do not clean up when you&#39;re done, any references it holds to classes loaded as part of a deployed webapp will remain in the [permanent heap][1] and will never get garbage collected. Redeploying/undeploying the webapp will not clean up each `Thread`&#39;s reference to your webapp&#39;s class(es) since the `Thread` is not something owned by your webapp. Each successive deployment will create a new instance of the class which will never be garbage collected.\r\n\r\nYou will end up with out of memory exceptions due to `java.lang.OutOfMemoryError: PermGen space` and after some googling will probably just increase `-XX:MaxPermSize` instead of fixing the bug.\r\n\r\nIf you do end up experiencing these problems, you can determine which thread and class is retaining these references by using [Eclipse&#39;s Memory Analyzer][2] and/or by following [Frank Kieviet&#39;s guide][3] and [followup][4].\r\n\r\nUpdate: Re-discovered [Alex Vasseur&#39;s blog entry][5] that helped me track down some `ThreadLocal` issues I was having.\r\n\r\n  [1]: https://web.archive.org/web/20070104122432/http://www.brokenbuild.com/blog/2006/08/04/java-jvm-gc-permgen-and-memory-options/\r\n  [2]: http://www.eclipse.org/mat/\r\n  [3]: http://frankkieviet.blogspot.com/2006/10/classloader-leaks-dreaded-permgen-space.html\r\n  [4]: http://frankkieviet.blogspot.com/2006/10/how-to-fix-dreaded-permgen-space.html\r\n  [5]: http://avasseur.blogspot.com/2003/11/threadlocal-and-memory-leaks.html","title":"When and how should I use a ThreadLocal variable?","body":"<p>Since a <code>ThreadLocal</code> is a reference to data within a given <code>Thread</code>, you can end up with classloading leaks when using <code>ThreadLocal</code>s in application servers using thread pools. You need to be very careful about cleaning up any <code>ThreadLocal</code>s you <code>get()</code> or <code>set()</code> by using the <code>ThreadLocal</code>'s <code>remove()</code> method.</p>\n\n<p>If you do not clean up when you're done, any references it holds to classes loaded as part of a deployed webapp will remain in the <a href=\"https://web.archive.org/web/20070104122432/http://www.brokenbuild.com/blog/2006/08/04/java-jvm-gc-permgen-and-memory-options/\" rel=\"noreferrer\">permanent heap</a> and will never get garbage collected. Redeploying/undeploying the webapp will not clean up each <code>Thread</code>'s reference to your webapp's class(es) since the <code>Thread</code> is not something owned by your webapp. Each successive deployment will create a new instance of the class which will never be garbage collected.</p>\n\n<p>You will end up with out of memory exceptions due to <code>java.lang.OutOfMemoryError: PermGen space</code> and after some googling will probably just increase <code>-XX:MaxPermSize</code> instead of fixing the bug.</p>\n\n<p>If you do end up experiencing these problems, you can determine which thread and class is retaining these references by using <a href=\"http://www.eclipse.org/mat/\" rel=\"noreferrer\">Eclipse's Memory Analyzer</a> and/or by following <a href=\"http://frankkieviet.blogspot.com/2006/10/classloader-leaks-dreaded-permgen-space.html\" rel=\"noreferrer\">Frank Kieviet's guide</a> and <a href=\"http://frankkieviet.blogspot.com/2006/10/how-to-fix-dreaded-permgen-space.html\" rel=\"noreferrer\">followup</a>.</p>\n\n<p>Update: Re-discovered <a href=\"http://avasseur.blogspot.com/2003/11/threadlocal-and-memory-leaks.html\" rel=\"noreferrer\">Alex Vasseur's blog entry</a> that helped me track down some <code>ThreadLocal</code> issues I was having.</p>\n"},{"tags":[],"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1557882784,"creation_date":1241394605,"answer_id":818364,"question_id":817856,"body_markdown":"Essentially, when you need a **variable&#39;s value to depend on the current thread** and it **isn&#39;t convenient for you to attach the value to the thread in some other way** (for example, subclassing thread).\r\n\r\nA typical case is where **some other framework has created the thread** that your code is running in, e.g. a servlet container, or where it just makes more sense to use ThreadLocal because your variable is then &quot;in its logical place&quot; (rather than a variable hanging from a Thread subclass or in some other hash map).\r\n\r\nOn my web site, I have some further [discussion and examples of when to use ThreadLocal][1] that may also be of interest.\r\n\r\nSome people advocate using ThreadLocal as a way to attach a &quot;thread ID&quot; to each thread in certain concurrent algorithms where you need a thread number (see e.g. Herlihy &amp; Shavit). In such cases, check that you&#39;re really getting a benefit!\r\n\r\n  [1]: https://www.javamex.com/tutorials/synchronization_concurrency_thread_local3.shtml","title":"When and how should I use a ThreadLocal variable?","body":"<p>Essentially, when you need a <strong>variable's value to depend on the current thread</strong> and it <strong>isn't convenient for you to attach the value to the thread in some other way</strong> (for example, subclassing thread).</p>\n\n<p>A typical case is where <strong>some other framework has created the thread</strong> that your code is running in, e.g. a servlet container, or where it just makes more sense to use ThreadLocal because your variable is then \"in its logical place\" (rather than a variable hanging from a Thread subclass or in some other hash map).</p>\n\n<p>On my web site, I have some further <a href=\"https://www.javamex.com/tutorials/synchronization_concurrency_thread_local3.shtml\" rel=\"noreferrer\">discussion and examples of when to use ThreadLocal</a> that may also be of interest.</p>\n\n<p>Some people advocate using ThreadLocal as a way to attach a \"thread ID\" to each thread in certain concurrent algorithms where you need a thread number (see e.g. Herlihy &amp; Shavit). In such cases, check that you're really getting a benefit!</p>\n"},{"tags":[],"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1367050373,"creation_date":1241442624,"answer_id":820028,"question_id":817856,"body_markdown":"As was mentioned by @unknown (google), it&#39;s usage is to define a global variable in which the value referenced can be unique in each thread.  It&#39;s usages typically entails storing some sort of contextual information that is linked to the current thread of execution.  \r\n\r\nWe use it in a Java EE environment to pass user identity to classes that are not Java EE aware (don&#39;t have access to HttpSession, or the EJB SessionContext).  This way the code, which makes usage of identity for security based operations, can access the identity from anywhere, without having to explicitly pass it in every method call.\r\n\r\nThe request/response cycle of operations in most Java EE calls makes this type of usage easy since it gives well defined entry and exit points to set and unset the ThreadLocal.","title":"When and how should I use a ThreadLocal variable?","body":"<p>As was mentioned by @unknown (google), it's usage is to define a global variable in which the value referenced can be unique in each thread.  It's usages typically entails storing some sort of contextual information that is linked to the current thread of execution.  </p>\n\n<p>We use it in a Java EE environment to pass user identity to classes that are not Java EE aware (don't have access to HttpSession, or the EJB SessionContext).  This way the code, which makes usage of identity for security based operations, can access the identity from anywhere, without having to explicitly pass it in every method call.</p>\n\n<p>The request/response cycle of operations in most Java EE calls makes this type of usage easy since it gives well defined entry and exit points to set and unset the ThreadLocal.</p>\n"},{"tags":[],"owner":{"account_id":24436,"reputation":73314,"user_id":62130,"accept_rate":39,"display_name":"Esko Luontola"},"down_vote_count":1,"up_vote_count":201,"is_accepted":false,"score":200,"last_activity_date":1557882754,"creation_date":1241444172,"answer_id":820131,"question_id":817856,"body_markdown":"Many frameworks use ThreadLocals to maintain some context related to the current thread. For example when the current transaction is stored in a ThreadLocal, you don&#39;t need to pass it as a parameter through every method call, in case someone down the stack needs access to it. Web applications might store information about the current request and session in a ThreadLocal, so that the application has easy access to them. With Guice you can use ThreadLocals when implementing [custom scopes][1] for the injected objects (Guice&#39;s default [servlet scopes][2] most probably use them as well).\r\n\r\nThreadLocals are one sort of global variables (although slightly less evil because they are restricted to one thread), so you should be careful when using them to avoid unwanted side-effects and memory leaks. Design your APIs so that the ThreadLocal values will always be automatically cleared when they are not needed anymore and that incorrect use of the API won&#39;t be possible (for example [like this][3]). ThreadLocals can be used to make the code cleaner, and in some rare cases they are the only way to make something work (my current project had two such cases; they are documented [here][4] under &quot;Static Fields and Global Variables&quot;).\r\n\r\n\r\n  [1]: https://github.com/google/guice/wiki/CustomScopes\r\n  [2]: https://github.com/google/guice/wiki/Scopes\r\n  [3]: https://github.com/orfjackal/dimdwarf/blob/453f7aee9efc364ebad80531c05081e255323c07/dimdwarf-core/src/main/java/net/orfjackal/dimdwarf/context/ThreadContext.java#L48-55\r\n  [4]: https://github.com/orfjackal/dimdwarf/wiki/Design-Guidelines","title":"When and how should I use a ThreadLocal variable?","body":"<p>Many frameworks use ThreadLocals to maintain some context related to the current thread. For example when the current transaction is stored in a ThreadLocal, you don't need to pass it as a parameter through every method call, in case someone down the stack needs access to it. Web applications might store information about the current request and session in a ThreadLocal, so that the application has easy access to them. With Guice you can use ThreadLocals when implementing <a href=\"https://github.com/google/guice/wiki/CustomScopes\" rel=\"noreferrer\">custom scopes</a> for the injected objects (Guice's default <a href=\"https://github.com/google/guice/wiki/Scopes\" rel=\"noreferrer\">servlet scopes</a> most probably use them as well).</p>\n\n<p>ThreadLocals are one sort of global variables (although slightly less evil because they are restricted to one thread), so you should be careful when using them to avoid unwanted side-effects and memory leaks. Design your APIs so that the ThreadLocal values will always be automatically cleared when they are not needed anymore and that incorrect use of the API won't be possible (for example <a href=\"https://github.com/orfjackal/dimdwarf/blob/453f7aee9efc364ebad80531c05081e255323c07/dimdwarf-core/src/main/java/net/orfjackal/dimdwarf/context/ThreadContext.java#L48-55\" rel=\"noreferrer\">like this</a>). ThreadLocals can be used to make the code cleaner, and in some rare cases they are the only way to make something work (my current project had two such cases; they are documented <a href=\"https://github.com/orfjackal/dimdwarf/wiki/Design-Guidelines\" rel=\"noreferrer\">here</a> under \"Static Fields and Global Variables\").</p>\n"},{"tags":[],"owner":{"account_id":1640346,"reputation":1,"user_id":1512926,"display_name":"Jeff Richley"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1351018209,"creation_date":1351018209,"answer_id":13037170,"question_id":817856,"body_markdown":"You have to be very careful with the ThreadLocal pattern.  There are some major down sides like Phil mentioned, but one that wasn&#39;t mentioned is to make sure that the code that sets up the ThreadLocal context isn&#39;t &quot;re-entrant.&quot;\r\n\r\nBad things can happen when the code that sets the information gets run a second or third time because information on your thread can start to mutate when you didn&#39;t expect it.  So take care to make sure the ThreadLocal information hasn&#39;t been set before you set it again.","title":"When and how should I use a ThreadLocal variable?","body":"<p>You have to be very careful with the ThreadLocal pattern.  There are some major down sides like Phil mentioned, but one that wasn't mentioned is to make sure that the code that sets up the ThreadLocal context isn't \"re-entrant.\"</p>\n\n<p>Bad things can happen when the code that sets the information gets run a second or third time because information on your thread can start to mutate when you didn't expect it.  So take care to make sure the ThreadLocal information hasn't been set before you set it again.</p>\n"},{"tags":[],"owner":{"account_id":872021,"reputation":1069,"user_id":922653,"accept_rate":60,"display_name":"Colselaw"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1359596255,"creation_date":1359596255,"answer_id":14617072,"question_id":817856,"body_markdown":"Nothing really new here, but I discovered today that `ThreadLocal` is very useful when using Bean Validation in a web application. Validation messages are localized, but by default use `Locale.getDefault()`. You can configure the `Validator` with a different `MessageInterpolator`, but there&#39;s no way to specify the `Locale` when you call `validate`. So you could create a static `ThreadLocal&lt;Locale&gt;` (or better yet, a general container with other things you might need to be `ThreadLocal` and then have your custom `MessageInterpolator` pick the `Locale` from that. Next step is to write a `ServletFilter` which uses a session value or `request.getLocale()` to pick the locale and store it in your `ThreadLocal` reference.","title":"When and how should I use a ThreadLocal variable?","body":"<p>Nothing really new here, but I discovered today that <code>ThreadLocal</code> is very useful when using Bean Validation in a web application. Validation messages are localized, but by default use <code>Locale.getDefault()</code>. You can configure the <code>Validator</code> with a different <code>MessageInterpolator</code>, but there's no way to specify the <code>Locale</code> when you call <code>validate</code>. So you could create a static <code>ThreadLocal&lt;Locale&gt;</code> (or better yet, a general container with other things you might need to be <code>ThreadLocal</code> and then have your custom <code>MessageInterpolator</code> pick the <code>Locale</code> from that. Next step is to write a <code>ServletFilter</code> which uses a session value or <code>request.getLocale()</code> to pick the locale and store it in your <code>ThreadLocal</code> reference.</p>\n"},{"tags":[],"owner":{"account_id":1056981,"reputation":1109,"user_id":1059465,"accept_rate":43,"display_name":"znlyj"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1480420693,"creation_date":1367162549,"answer_id":16264385,"question_id":817856,"body_markdown":"Webapp server may keep a thread pool, and a `ThreadLocal` var should be removed before response to the client, thus current thread may be reused by next request.\r\n\r\n","title":"When and how should I use a ThreadLocal variable?","body":"<p>Webapp server may keep a thread pool, and a <code>ThreadLocal</code> var should be removed before response to the client, thus current thread may be reused by next request.</p>\n"},{"tags":[],"owner":{"account_id":174482,"reputation":3102,"user_id":403872,"accept_rate":83,"display_name":"Abhijit Gaikwad"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1557882823,"creation_date":1372659023,"answer_id":17398338,"question_id":817856,"body_markdown":"1. ThreadLocal in Java had been introduced on JDK 1.2 but was later generified in JDK 1.5 to introduce type safety on ThreadLocal variable.\r\n\r\n2. ThreadLocal can be associated with Thread scope, all the code which is executed by Thread has access to ThreadLocal variables but two thread can not see each others ThreadLocal variable.\r\n\r\n3. Each thread holds an exclusive copy of ThreadLocal variable which becomes eligible to Garbage collection after thread finished or died, normally or due to any Exception, Given those ThreadLocal variable doesn&#39;t have any other live references.\r\n\r\n4. ThreadLocal variables in Java are generally private static fields in Classes and maintain its state inside Thread.\r\n\r\n\r\nRead more: [ThreadLocal in Java - Example Program and Tutorial](https://javarevisited.blogspot.com/2012/05/how-to-use-threadlocal-in-java-benefits.html#ixzz2XltgbHTK)","title":"When and how should I use a ThreadLocal variable?","body":"<ol>\n<li><p>ThreadLocal in Java had been introduced on JDK 1.2 but was later generified in JDK 1.5 to introduce type safety on ThreadLocal variable.</p></li>\n<li><p>ThreadLocal can be associated with Thread scope, all the code which is executed by Thread has access to ThreadLocal variables but two thread can not see each others ThreadLocal variable.</p></li>\n<li><p>Each thread holds an exclusive copy of ThreadLocal variable which becomes eligible to Garbage collection after thread finished or died, normally or due to any Exception, Given those ThreadLocal variable doesn't have any other live references.</p></li>\n<li><p>ThreadLocal variables in Java are generally private static fields in Classes and maintain its state inside Thread.</p></li>\n</ol>\n\n<p>Read more: <a href=\"https://javarevisited.blogspot.com/2012/05/how-to-use-threadlocal-in-java-benefits.html#ixzz2XltgbHTK\" rel=\"noreferrer\">ThreadLocal in Java - Example Program and Tutorial</a></p>\n"},{"tags":[],"owner":{"account_id":22965,"reputation":51418,"user_id":57159,"accept_rate":89,"display_name":"Ian Ringrose"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1434388741,"creation_date":1434388741,"answer_id":30851175,"question_id":817856,"body_markdown":"Caching, sometime you have to calculate the same value lots of time so by storing the last set of inputs to a method and the result you can speed the code up.    By using Thread Local Storage you avoid having to think about locking.","title":"When and how should I use a ThreadLocal variable?","body":"<p>Caching, sometime you have to calculate the same value lots of time so by storing the last set of inputs to a method and the result you can speed the code up.    By using Thread Local Storage you avoid having to think about locking.</p>\n"},{"tags":[],"owner":{"account_id":6236104,"reputation":681,"user_id":4851359,"display_name":"infoj"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1485703285,"creation_date":1440086295,"answer_id":32122972,"question_id":817856,"body_markdown":"Two use cases where threadlocal variable can be used - &lt;br/&gt;\r\n1- When we have a requirement to associate state with a thread (e.g., a user ID or Transaction ID). That usually happens with a web application that every request going to a servlet has a unique transactionID associated with it.\r\n\r\n    // This class will provide a thread local variable which\r\n    // will provide a unique ID for each thread\r\n    class ThreadId {\r\n        // Atomic integer containing the next thread ID to be assigned\r\n        private static final AtomicInteger nextId = new AtomicInteger(0);\r\n    \r\n        // Thread local variable containing each thread&#39;s ID\r\n        private static final ThreadLocal&lt;Integer&gt; threadId =\r\n            ThreadLocal.&lt;Integer&gt;withInitial(()-&gt; {return nextId.getAndIncrement();});\r\n    \r\n        // Returns the current thread&#39;s unique ID, assigning it if necessary\r\n        public static int get() {\r\n            return threadId.get();\r\n        }\r\n    }\r\nNote that here the method withInitial is implemented using lambda expression.&lt;br/&gt;\r\n2- Another use case is when we want to have a thread safe instance and we don&#39;t want to use synchronization as the performance cost with synchronization is more. One such case is when SimpleDateFormat is used. Since SimpleDateFormat is not thread safe so we have to provide mechanism to make it thread safe. \r\n\r\n    public class ThreadLocalDemo1 implements Runnable {\r\n        // threadlocal variable is created\r\n        private static final ThreadLocal&lt;SimpleDateFormat&gt; dateFormat = new ThreadLocal&lt;SimpleDateFormat&gt;(){\r\n            @Override\r\n            protected SimpleDateFormat initialValue(){\r\n                System.out.println(&quot;Initializing SimpleDateFormat for - &quot; + Thread.currentThread().getName() );\r\n                return new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n            }\r\n        };\r\n                \r\n        public static void main(String[] args) {\r\n            ThreadLocalDemo1 td = new ThreadLocalDemo1();\r\n            // Two threads are created\r\n            Thread t1 = new Thread(td, &quot;Thread-1&quot;);\r\n            Thread t2 = new Thread(td, &quot;Thread-2&quot;);\r\n            t1.start();\r\n            t2.start();\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;Thread run execution started for &quot; + Thread.currentThread().getName());\r\n            System.out.println(&quot;Date formatter pattern is  &quot; + dateFormat.get().toPattern());\r\n            System.out.println(&quot;Formatted date is &quot; + dateFormat.get().format(new Date()));\r\n        } \r\n    \r\n    }\r\n\r\n","title":"When and how should I use a ThreadLocal variable?","body":"<p>Two use cases where threadlocal variable can be used - <br/>\n1- When we have a requirement to associate state with a thread (e.g., a user ID or Transaction ID). That usually happens with a web application that every request going to a servlet has a unique transactionID associated with it.</p>\n\n<pre><code>// This class will provide a thread local variable which\n// will provide a unique ID for each thread\nclass ThreadId {\n    // Atomic integer containing the next thread ID to be assigned\n    private static final AtomicInteger nextId = new AtomicInteger(0);\n\n    // Thread local variable containing each thread's ID\n    private static final ThreadLocal&lt;Integer&gt; threadId =\n        ThreadLocal.&lt;Integer&gt;withInitial(()-&gt; {return nextId.getAndIncrement();});\n\n    // Returns the current thread's unique ID, assigning it if necessary\n    public static int get() {\n        return threadId.get();\n    }\n}\n</code></pre>\n\n<p>Note that here the method withInitial is implemented using lambda expression.<br/>\n2- Another use case is when we want to have a thread safe instance and we don't want to use synchronization as the performance cost with synchronization is more. One such case is when SimpleDateFormat is used. Since SimpleDateFormat is not thread safe so we have to provide mechanism to make it thread safe. </p>\n\n<pre><code>public class ThreadLocalDemo1 implements Runnable {\n    // threadlocal variable is created\n    private static final ThreadLocal&lt;SimpleDateFormat&gt; dateFormat = new ThreadLocal&lt;SimpleDateFormat&gt;(){\n        @Override\n        protected SimpleDateFormat initialValue(){\n            System.out.println(\"Initializing SimpleDateFormat for - \" + Thread.currentThread().getName() );\n            return new SimpleDateFormat(\"dd/MM/yyyy\");\n        }\n    };\n\n    public static void main(String[] args) {\n        ThreadLocalDemo1 td = new ThreadLocalDemo1();\n        // Two threads are created\n        Thread t1 = new Thread(td, \"Thread-1\");\n        Thread t2 = new Thread(td, \"Thread-2\");\n        t1.start();\n        t2.start();\n    }\n\n    @Override\n    public void run() {\n        System.out.println(\"Thread run execution started for \" + Thread.currentThread().getName());\n        System.out.println(\"Date formatter pattern is  \" + dateFormat.get().toPattern());\n        System.out.println(\"Formatted date is \" + dateFormat.get().format(new Date()));\n    } \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2849643,"reputation":423,"user_id":2447120,"display_name":"Rakesh Chauhan"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1522247318,"creation_date":1443950915,"answer_id":32931978,"question_id":817856,"body_markdown":"There is very good example in book **Java Concurrency in Practice**. Where author ([Joshua Bloch][1]) explains how Thread confinement is one of the simplest ways to achieve thread safety and **ThreadLocal** is more formal means of maintaining thread confinement. In the end he also explain how people can abuse it by using it as global variables.\n\nI have copied the text from the mentioned book but code 3.10 is missing as it is not much important to understand where ThreadLocal should be use.\n\n&gt;Thread-local variables are often used to prevent sharing in designs based on mutable Singletons or global variables. For example, a single-threaded application might maintain a global database connection that is initialized at startup to avoid having to pass a Connection to every method. Since JDBC connections may not be thread-safe, a multithreaded application that uses a global connection without additional coordination is not thread-safe either. By using a ThreadLocal to store the JDBC connection, as in ConnectionHolder in Listing 3.10, each thread will have its own connection.&lt;br/&gt;\n&gt;\n&gt;ThreadLocal is widely used in implementing application frameworks. For example, J2EE containers associate a transaction context with an executing thread for the duration of an EJB call. This is easily implemented using a static Thread-Local holding the transaction context: when framework code needs to determine what transaction is currently running, it fetches the transaction context from this ThreadLocal. This is convenient in that it reduces the need to pass execution context information into every method, but couples any code that uses this mechanism to the framework.\n&gt;\n&gt;It is easy to abuse ThreadLocal by treating its thread confinement property as a license to use global variables or as a means of creating “hidden” method arguments. Like global variables, thread-local variables can detract from reusability and introduce hidden couplings among classes, and should therefore be used with care.\n\n\n  [1]: https://en.wikipedia.org/wiki/Joshua_Bloch","title":"When and how should I use a ThreadLocal variable?","body":"<p>There is very good example in book <strong>Java Concurrency in Practice</strong>. Where author (<a href=\"https://en.wikipedia.org/wiki/Joshua_Bloch\" rel=\"noreferrer\">Joshua Bloch</a>) explains how Thread confinement is one of the simplest ways to achieve thread safety and <strong>ThreadLocal</strong> is more formal means of maintaining thread confinement. In the end he also explain how people can abuse it by using it as global variables.</p>\n<p>I have copied the text from the mentioned book but code 3.10 is missing as it is not much important to understand where ThreadLocal should be use.</p>\n<blockquote>\n<p>Thread-local variables are often used to prevent sharing in designs based on mutable Singletons or global variables. For example, a single-threaded application might maintain a global database connection that is initialized at startup to avoid having to pass a Connection to every method. Since JDBC connections may not be thread-safe, a multithreaded application that uses a global connection without additional coordination is not thread-safe either. By using a ThreadLocal to store the JDBC connection, as in ConnectionHolder in Listing 3.10, each thread will have its own connection.<br/></p>\n<p>ThreadLocal is widely used in implementing application frameworks. For example, J2EE containers associate a transaction context with an executing thread for the duration of an EJB call. This is easily implemented using a static Thread-Local holding the transaction context: when framework code needs to determine what transaction is currently running, it fetches the transaction context from this ThreadLocal. This is convenient in that it reduces the need to pass execution context information into every method, but couples any code that uses this mechanism to the framework.</p>\n<p>It is easy to abuse ThreadLocal by treating its thread confinement property as a license to use global variables or as a means of creating “hidden” method arguments. Like global variables, thread-local variables can detract from reusability and introduce hidden couplings among classes, and should therefore be used with care.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1452144546,"creation_date":1449058064,"answer_id":34042362,"question_id":817856,"body_markdown":"&gt; ThreadLocal will ensure accessing the mutable object by the multiple\r\n&gt; threads in the non synchronized method is synchronized, means making\r\n&gt; the mutable object to be immutable within the method. &lt;BR&gt; &lt;BR&gt; This\r\n&gt; is achieved by giving new instance of mutable object for each thread\r\n&gt; try accessing it. So It is local copy to the each thread. This is some\r\n&gt; hack on making instance variable in a method to be accessed like a\r\n&gt; local variable. As you aware method local variable is only available\r\n&gt; to the thread, one difference is; method local variables will not\r\n&gt; available to the thread once method execution is over where as mutable\r\n&gt; object shared with threadlocal will be available across multiple\r\n&gt; methods till we clean it up.\r\n\r\n\r\n**By Definition:**\r\n\r\n&gt; The ThreadLocal class in Java enables you to create variables that can\r\n&gt; only be read and written by the same thread. Thus, even if two threads\r\n&gt; are executing the same code, and the code has a reference to a\r\n&gt; ThreadLocal variable, then the two threads cannot see each other&#39;s\r\n&gt; ThreadLocal variables.\r\n\r\n \r\n\r\nEach `Thread` in java contains `ThreadLocalMap` in it. &lt;BR&gt;\r\nWhere &lt;BR&gt;\r\n\r\n    Key = One ThreadLocal object shared across threads.\r\n    value = Mutable object which has to be used synchronously, this will be instantiated for each thread.\r\n\r\n**Achieving the ThreadLocal:** \r\n\r\nNow create a wrapper class for ThreadLocal which is going to hold the mutable object like below (with or without `initialValue()`). &lt;BR&gt; Now getter and setter of this wrapper will work on threadlocal instance instead of mutable object.\r\n\r\nIf getter() of threadlocal didn&#39;t find any value with in the threadlocalmap of the `Thread`; then it will invoke the initialValue() to get its private copy with respect to the thread.\r\n\r\n\r\n\r\n\r\n    class SimpleDateFormatInstancePerThread {\r\n    \r\n        private static final ThreadLocal&lt;SimpleDateFormat&gt; dateFormatHolder = new ThreadLocal&lt;SimpleDateFormat&gt;() {\r\n    \r\n            @Override\r\n            protected SimpleDateFormat initialValue() {\r\n    \t\t\tSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;) {\r\n    \t\t\t\tUUID id = UUID.randomUUID();\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic String toString() {\r\n    \t\t\t\t\treturn id.toString();\r\n    \t\t\t\t};\r\n    \t\t\t};\r\n                System.out.println(&quot;Creating SimpleDateFormat instance &quot; + dateFormat +&quot; for Thread : &quot; + Thread.currentThread().getName());\r\n                return dateFormat;\r\n            }\r\n        };\r\n    \r\n        /*\r\n         * Every time there is a call for DateFormat, ThreadLocal will return calling\r\n         * Thread&#39;s copy of SimpleDateFormat\r\n         */\r\n        public static DateFormat getDateFormatter() {\r\n            return dateFormatHolder.get();\r\n        }\r\n        \r\n        public static void cleanup() {\r\n            dateFormatHolder.remove();\r\n        }\r\n    }\r\n\r\n\r\nNow `wrapper.getDateFormatter()` will call `threadlocal.get()` and that will check the `currentThread.threadLocalMap` contains **this** (threadlocal) instance.&lt;BR&gt;\r\nIf yes return the value (SimpleDateFormat) for corresponding threadlocal instance &lt;BR&gt;\r\nelse add the map with this threadlocal instance, initialValue(). &lt;BR&gt;\r\n\r\nHerewith thread safety achieved on this mutable class; by each thread is working with its own mutable instance but with same ThreadLocal instance. Means All the thread will share the same ThreadLocal instance as key, but different SimpleDateFormat instance as value.\r\n\r\nhttps://github.com/skanagavelu/yt.tech/blob/master/src/ThreadLocalTest.java","title":"When and how should I use a ThreadLocal variable?","body":"<blockquote>\n  <p>ThreadLocal will ensure accessing the mutable object by the multiple\n  threads in the non synchronized method is synchronized, means making\n  the mutable object to be immutable within the method. <BR> <BR> This\n  is achieved by giving new instance of mutable object for each thread\n  try accessing it. So It is local copy to the each thread. This is some\n  hack on making instance variable in a method to be accessed like a\n  local variable. As you aware method local variable is only available\n  to the thread, one difference is; method local variables will not\n  available to the thread once method execution is over where as mutable\n  object shared with threadlocal will be available across multiple\n  methods till we clean it up.</p>\n</blockquote>\n\n<p><strong>By Definition:</strong></p>\n\n<blockquote>\n  <p>The ThreadLocal class in Java enables you to create variables that can\n  only be read and written by the same thread. Thus, even if two threads\n  are executing the same code, and the code has a reference to a\n  ThreadLocal variable, then the two threads cannot see each other's\n  ThreadLocal variables.</p>\n</blockquote>\n\n<p>Each <code>Thread</code> in java contains <code>ThreadLocalMap</code> in it. <BR>\nWhere <BR></p>\n\n<pre><code>Key = One ThreadLocal object shared across threads.\nvalue = Mutable object which has to be used synchronously, this will be instantiated for each thread.\n</code></pre>\n\n<p><strong>Achieving the ThreadLocal:</strong> </p>\n\n<p>Now create a wrapper class for ThreadLocal which is going to hold the mutable object like below (with or without <code>initialValue()</code>). <BR> Now getter and setter of this wrapper will work on threadlocal instance instead of mutable object.</p>\n\n<p>If getter() of threadlocal didn't find any value with in the threadlocalmap of the <code>Thread</code>; then it will invoke the initialValue() to get its private copy with respect to the thread.</p>\n\n<pre><code>class SimpleDateFormatInstancePerThread {\n\n    private static final ThreadLocal&lt;SimpleDateFormat&gt; dateFormatHolder = new ThreadLocal&lt;SimpleDateFormat&gt;() {\n\n        @Override\n        protected SimpleDateFormat initialValue() {\n            SimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd\") {\n                UUID id = UUID.randomUUID();\n                @Override\n                public String toString() {\n                    return id.toString();\n                };\n            };\n            System.out.println(\"Creating SimpleDateFormat instance \" + dateFormat +\" for Thread : \" + Thread.currentThread().getName());\n            return dateFormat;\n        }\n    };\n\n    /*\n     * Every time there is a call for DateFormat, ThreadLocal will return calling\n     * Thread's copy of SimpleDateFormat\n     */\n    public static DateFormat getDateFormatter() {\n        return dateFormatHolder.get();\n    }\n\n    public static void cleanup() {\n        dateFormatHolder.remove();\n    }\n}\n</code></pre>\n\n<p>Now <code>wrapper.getDateFormatter()</code> will call <code>threadlocal.get()</code> and that will check the <code>currentThread.threadLocalMap</code> contains <strong>this</strong> (threadlocal) instance.<BR>\nIf yes return the value (SimpleDateFormat) for corresponding threadlocal instance <BR>\nelse add the map with this threadlocal instance, initialValue(). <BR></p>\n\n<p>Herewith thread safety achieved on this mutable class; by each thread is working with its own mutable instance but with same ThreadLocal instance. Means All the thread will share the same ThreadLocal instance as key, but different SimpleDateFormat instance as value.</p>\n\n<p><a href=\"https://github.com/skanagavelu/yt.tech/blob/master/src/ThreadLocalTest.java\" rel=\"noreferrer\">https://github.com/skanagavelu/yt.tech/blob/master/src/ThreadLocalTest.java</a></p>\n"},{"tags":[],"owner":{"account_id":7265641,"reputation":51,"user_id":6259238,"display_name":"Limestone"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1461726649,"creation_date":1461726649,"answer_id":36879565,"question_id":817856,"body_markdown":"when?\r\n\r\nWhen an object is not thread-safe, instead of synchronization which hampers the scalability, give one object to every thread and keep it thread scope, which is ThreadLocal. One of most often used but not thread-safe objects are database Connection and JMSConnection. \r\n\r\nHow ?\r\n\r\nOne example is Spring framework uses ThreadLocal heavily for managing transactions behind the scenes by keeping these connection objects in ThreadLocal variables. At high level, when a transaction is started it gets the connection ( and disables the auto commit ) and keeps it in ThreadLocal. on further db calls it uses same connection to communicate with db. At the end, it takes the connection from ThreadLocal and commits ( or rollback ) the transaction and releases the connection. \r\n\r\nI think log4j also uses ThreadLocal for maintaining MDC.","title":"When and how should I use a ThreadLocal variable?","body":"<p>when?</p>\n\n<p>When an object is not thread-safe, instead of synchronization which hampers the scalability, give one object to every thread and keep it thread scope, which is ThreadLocal. One of most often used but not thread-safe objects are database Connection and JMSConnection. </p>\n\n<p>How ?</p>\n\n<p>One example is Spring framework uses ThreadLocal heavily for managing transactions behind the scenes by keeping these connection objects in ThreadLocal variables. At high level, when a transaction is started it gets the connection ( and disables the auto commit ) and keeps it in ThreadLocal. on further db calls it uses same connection to communicate with db. At the end, it takes the connection from ThreadLocal and commits ( or rollback ) the transaction and releases the connection. </p>\n\n<p>I think log4j also uses ThreadLocal for maintaining MDC.</p>\n"},{"tags":[],"owner":{"account_id":3178228,"reputation":4984,"user_id":2685581,"display_name":"Ajay Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1496153397,"creation_date":1496139866,"answer_id":44259643,"question_id":817856,"body_markdown":"ThreadLocal is a specially provisioned functionality by JVM to provide an isolated storage space for threads only. like the value of instance scoped variable are bound to a given instance of a class only. each object has its only values and they can not see each other value. so is the concept of ThreadLocal variables, they are local to the thread in the sense of object instances other thread except for the one which created it, can not see it. [See Here][1]\r\n\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    import java.util.stream.IntStream;\r\n\r\n   \r\n    public class ThreadId {\r\n    private static final AtomicInteger nextId = new AtomicInteger(1000);\r\n\r\n    // Thread local variable containing each thread&#39;s ID\r\n    private static final ThreadLocal&lt;Integer&gt; threadId = ThreadLocal.withInitial(() -&gt; nextId.getAndIncrement());\r\n\r\n\r\n    // Returns the current thread&#39;s unique ID, assigning it if necessary\r\n    public static int get() {\r\n        return threadId.get();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        new Thread(() -&gt; IntStream.range(1, 3).forEach(i -&gt; {\r\n            System.out.println(Thread.currentThread().getName() + &quot; &gt;&gt; &quot; + new ThreadId().get());\r\n        })).start();\r\n\r\n        new Thread(() -&gt; IntStream.range(1, 3).forEach(i -&gt; {\r\n            System.out.println(Thread.currentThread().getName() + &quot; &gt;&gt; &quot; + new ThreadId().get());\r\n        })).start();\r\n\r\n        new Thread(() -&gt; IntStream.range(1, 3).forEach(i -&gt; {\r\n            System.out.println(Thread.currentThread().getName() + &quot; &gt;&gt; &quot; + new ThreadId().get());\r\n        })).start();\r\n\r\n    }\r\n    }\r\n\r\n\r\n  [1]: https://itexpertsconsultant.wordpress.com/2017/05/29/threadlocal-example-with-java-8/","title":"When and how should I use a ThreadLocal variable?","body":"<p>ThreadLocal is a specially provisioned functionality by JVM to provide an isolated storage space for threads only. like the value of instance scoped variable are bound to a given instance of a class only. each object has its only values and they can not see each other value. so is the concept of ThreadLocal variables, they are local to the thread in the sense of object instances other thread except for the one which created it, can not see it. <a href=\"https://itexpertsconsultant.wordpress.com/2017/05/29/threadlocal-example-with-java-8/\" rel=\"nofollow noreferrer\">See Here</a></p>\n\n<pre><code>import java.util.concurrent.atomic.AtomicInteger;\nimport java.util.stream.IntStream;\n\n\npublic class ThreadId {\nprivate static final AtomicInteger nextId = new AtomicInteger(1000);\n\n// Thread local variable containing each thread's ID\nprivate static final ThreadLocal&lt;Integer&gt; threadId = ThreadLocal.withInitial(() -&gt; nextId.getAndIncrement());\n\n\n// Returns the current thread's unique ID, assigning it if necessary\npublic static int get() {\n    return threadId.get();\n}\n\npublic static void main(String[] args) {\n\n    new Thread(() -&gt; IntStream.range(1, 3).forEach(i -&gt; {\n        System.out.println(Thread.currentThread().getName() + \" &gt;&gt; \" + new ThreadId().get());\n    })).start();\n\n    new Thread(() -&gt; IntStream.range(1, 3).forEach(i -&gt; {\n        System.out.println(Thread.currentThread().getName() + \" &gt;&gt; \" + new ThreadId().get());\n    })).start();\n\n    new Thread(() -&gt; IntStream.range(1, 3).forEach(i -&gt; {\n        System.out.println(Thread.currentThread().getName() + \" &gt;&gt; \" + new ThreadId().get());\n    })).start();\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4324639,"reputation":8470,"user_id":3531794,"display_name":"Dimos"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1505561291,"creation_date":1505561291,"answer_id":46253405,"question_id":817856,"body_markdown":"`ThreadLocal` is useful, when you want to have some state that should not be shared amongst different threads, but it should be accessible from each thread during its whole lifetime.\r\n\r\nAs an example, imagine a web application, where each request is served by a different thread. Imagine that for each request you need a piece of data multiple times, which is quite expensive to compute. However, that data might have changed for each incoming request, which means that you can&#39;t use a plain cache. A simple, quick solution to this problem would be to have a `ThreadLocal` variable holding access to this data, so that you have to calculate it only once for each request. Of course, this problem can also be solved without the use of `ThreadLocal`, but I devised it for illustration purposes. \r\n\r\nThat said, have in mind that `ThreadLocal`s are essentially a form of global state. As a result, it has many other implications and should be used only after considering all the other possible solutions. ","title":"When and how should I use a ThreadLocal variable?","body":"<p><code>ThreadLocal</code> is useful, when you want to have some state that should not be shared amongst different threads, but it should be accessible from each thread during its whole lifetime.</p>\n\n<p>As an example, imagine a web application, where each request is served by a different thread. Imagine that for each request you need a piece of data multiple times, which is quite expensive to compute. However, that data might have changed for each incoming request, which means that you can't use a plain cache. A simple, quick solution to this problem would be to have a <code>ThreadLocal</code> variable holding access to this data, so that you have to calculate it only once for each request. Of course, this problem can also be solved without the use of <code>ThreadLocal</code>, but I devised it for illustration purposes. </p>\n\n<p>That said, have in mind that <code>ThreadLocal</code>s are essentially a form of global state. As a result, it has many other implications and should be used only after considering all the other possible solutions. </p>\n"},{"tags":[],"owner":{"account_id":3750936,"reputation":1111,"user_id":3148734,"accept_rate":75,"display_name":"bpjoshi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1512028724,"creation_date":1511992191,"answer_id":47562423,"question_id":817856,"body_markdown":"Thread-local variables are often used to prevent sharing in designs based on\r\nmutable Singletons or global variables. \r\n\r\nIt can be used in scenarios like making seperate JDBC connection for each thread when you are not using a Connection Pool.\r\n\r\n    private static ThreadLocal&lt;Connection&gt; connectionHolder\r\n               = new ThreadLocal&lt;Connection&gt;() {\r\n          public Connection initialValue() {\r\n               return DriverManager.getConnection(DB_URL);\r\n              }\r\n         };\r\n\r\n    public static Connection getConnection() {\r\n          return connectionHolder.get();\r\n    } \r\n\r\nWhen you call getConnection, it will return a connection associated with that thread.The same can be done with other properties like dateformat, transaction context that you don&#39;t want to share between threads. \r\n\r\nYou could have also used local variables for the same, but these resource usually take up time in creation,so you don&#39;t want to create them again and again whenever you perform some business logic with them. However, ThreadLocal values are stored in the thread object itself and as soon as the thread is garbage collected, these values are gone too.\r\n\r\nThis [link][1] explains use of ThreadLocal very well.\r\n\r\n\r\n  [1]: https://howtodoinjava.com/core-java/multi-threading/when-and-how-to-use-thread-local-variables/","title":"When and how should I use a ThreadLocal variable?","body":"<p>Thread-local variables are often used to prevent sharing in designs based on\nmutable Singletons or global variables. </p>\n\n<p>It can be used in scenarios like making seperate JDBC connection for each thread when you are not using a Connection Pool.</p>\n\n<pre><code>private static ThreadLocal&lt;Connection&gt; connectionHolder\n           = new ThreadLocal&lt;Connection&gt;() {\n      public Connection initialValue() {\n           return DriverManager.getConnection(DB_URL);\n          }\n     };\n\npublic static Connection getConnection() {\n      return connectionHolder.get();\n} \n</code></pre>\n\n<p>When you call getConnection, it will return a connection associated with that thread.The same can be done with other properties like dateformat, transaction context that you don't want to share between threads. </p>\n\n<p>You could have also used local variables for the same, but these resource usually take up time in creation,so you don't want to create them again and again whenever you perform some business logic with them. However, ThreadLocal values are stored in the thread object itself and as soon as the thread is garbage collected, these values are gone too.</p>\n\n<p>This <a href=\"https://howtodoinjava.com/core-java/multi-threading/when-and-how-to-use-thread-local-variables/\" rel=\"nofollow noreferrer\">link</a> explains use of ThreadLocal very well.</p>\n"},{"tags":[],"owner":{"account_id":3401111,"reputation":185,"user_id":2853221,"display_name":"Dev Amitabh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513047641,"creation_date":1513047641,"answer_id":47764719,"question_id":817856,"body_markdown":"Threadlocal provides a very easy way to achieve objects reusability with zero cost.\r\n\r\nI had a situation where multiple threads were creating an image of mutable cache, on each update notification.\r\n\r\nI used a Threadlocal on each thread, and then each thread would just need to reset old image and then update it again from the cache on each update notification.\r\n\r\nUsual reusable objects from object pools have thread safety cost associated with them, while this approach has none. ","title":"When and how should I use a ThreadLocal variable?","body":"<p>Threadlocal provides a very easy way to achieve objects reusability with zero cost.</p>\n\n<p>I had a situation where multiple threads were creating an image of mutable cache, on each update notification.</p>\n\n<p>I used a Threadlocal on each thread, and then each thread would just need to reset old image and then update it again from the cache on each update notification.</p>\n\n<p>Usual reusable objects from object pools have thread safety cost associated with them, while this approach has none. </p>\n"},{"tags":[],"owner":{"account_id":6589671,"reputation":10127,"user_id":5091346,"accept_rate":72,"display_name":"Andrii Abramov"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1664737068,"creation_date":1522142645,"answer_id":49509030,"question_id":817856,"body_markdown":"Since Java 8 release, there is more declarative way to initialize `ThreadLocal`:\r\n\r\n    ThreadLocal&lt;String&gt; local = ThreadLocal.withInitial(() -&gt; &quot;init value&quot;);\r\n\r\nUntil Java 8 release you had to do the following:\r\n\r\n    ThreadLocal&lt;String&gt; local = new ThreadLocal&lt;String&gt;(){\r\n        @Override\r\n        protected String initialValue() {\r\n            return &quot;init value&quot;;\r\n        }\r\n    };\r\n\r\nMoreover, if instantiation method (constructor, factory method) of class that is used for `ThreadLocal` does not take any parameters, you can simply use method references (introduced in Java 8):\r\n\r\n\r\n    class NotThreadSafe {\r\n        // no parameters\r\n        public NotThreadSafe(){}\r\n    }\r\n        \r\n    ThreadLocal&lt;NotThreadSafe&gt; container = ThreadLocal.withInitial(NotThreadSafe::new);\r\n\r\n**Note:**\r\nEvaluation is lazy since you are passing `java.util.function.Supplier` lambda that is evaluated only when `ThreadLocal#get` is called but value was not previously evaluated.","title":"When and how should I use a ThreadLocal variable?","body":"<p>Since Java 8 release, there is more declarative way to initialize <code>ThreadLocal</code>:</p>\n<pre><code>ThreadLocal&lt;String&gt; local = ThreadLocal.withInitial(() -&gt; &quot;init value&quot;);\n</code></pre>\n<p>Until Java 8 release you had to do the following:</p>\n<pre><code>ThreadLocal&lt;String&gt; local = new ThreadLocal&lt;String&gt;(){\n    @Override\n    protected String initialValue() {\n        return &quot;init value&quot;;\n    }\n};\n</code></pre>\n<p>Moreover, if instantiation method (constructor, factory method) of class that is used for <code>ThreadLocal</code> does not take any parameters, you can simply use method references (introduced in Java 8):</p>\n<pre><code>class NotThreadSafe {\n    // no parameters\n    public NotThreadSafe(){}\n}\n    \nThreadLocal&lt;NotThreadSafe&gt; container = ThreadLocal.withInitial(NotThreadSafe::new);\n</code></pre>\n<p><strong>Note:</strong>\nEvaluation is lazy since you are passing <code>java.util.function.Supplier</code> lambda that is evaluated only when <code>ThreadLocal#get</code> is called but value was not previously evaluated.</p>\n"},{"tags":[],"owner":{"account_id":2629067,"reputation":688,"user_id":2275474,"accept_rate":100,"display_name":"Pritesh Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1528118288,"creation_date":1528118288,"answer_id":50681599,"question_id":817856,"body_markdown":"The **ThreadLocal** class in Java enables you to create variables that can only be read and written by the same thread. Thus, even if two threads are executing the same code, and the code has a reference to a ThreadLocal variable, then the two threads cannot see each other&#39;s ThreadLocal variables.\r\n\r\n[Read more][1]\r\n\r\n\r\n  [1]: http://tutorials.jenkov.com/java-concurrency/threadlocal.html","title":"When and how should I use a ThreadLocal variable?","body":"<p>The <strong>ThreadLocal</strong> class in Java enables you to create variables that can only be read and written by the same thread. Thus, even if two threads are executing the same code, and the code has a reference to a ThreadLocal variable, then the two threads cannot see each other's ThreadLocal variables.</p>\n\n<p><a href=\"http://tutorials.jenkov.com/java-concurrency/threadlocal.html\" rel=\"nofollow noreferrer\">Read more</a></p>\n"},{"tags":[],"owner":{"account_id":4192718,"reputation":1097,"user_id":3434956,"accept_rate":95,"display_name":"mohsen.nour"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1620072810,"creation_date":1538895637,"answer_id":52686202,"question_id":817856,"body_markdown":"There are 3 scenarios for using a **class helper** like SimpleDateFormat in multithread code, which best one is use **ThreadLocal**\r\n\r\nScenarios\r\n \r\n**1-** Using like **share object** by the help of **lock or synchronization** mechanism which makes the app **slow**\r\n\r\n**Thread pool Scenarios**    \r\n \r\n**2-** Using as a **local  object** inside a method \r\n\r\nIn thread pool, in this scenario, if we have **4 thread** each one has **1000 task** time  then we have   \r\n**4000** SimpleDateFormat **object created** and waiting for GC to erase them  \r\n\r\n**3-** Using ***ThreadLocal*** \r\n \r\nIn thread pool, if we have 4 thread and  we gave to **each thread one SimpleDateFormat instance**  \r\n so we have **4 threads**, **4 objects** of SimpleDateFormat.\r\n  \r\n  There is no need of lock mechanism and object creation and destruction.  (Good time complexity and space complexity)\r\n\r\n\r\n\r\nhttps://www.youtube.com/watch?v=sjMe9aecW_A","title":"When and how should I use a ThreadLocal variable?","body":"<p>There are 3 scenarios for using a <strong>class helper</strong> like SimpleDateFormat in multithread code, which best one is use <strong>ThreadLocal</strong></p>\n<p>Scenarios</p>\n<p><strong>1-</strong> Using like <strong>share object</strong> by the help of <strong>lock or synchronization</strong> mechanism which makes the app <strong>slow</strong></p>\n<p><strong>Thread pool Scenarios</strong></p>\n<p><strong>2-</strong> Using as a <strong>local  object</strong> inside a method</p>\n<p>In thread pool, in this scenario, if we have <strong>4 thread</strong> each one has <strong>1000 task</strong> time  then we have<br />\n<strong>4000</strong> SimpleDateFormat <strong>object created</strong> and waiting for GC to erase them</p>\n<p><strong>3-</strong> Using <em><strong>ThreadLocal</strong></em></p>\n<p>In thread pool, if we have 4 thread and  we gave to <strong>each thread one SimpleDateFormat instance</strong><br />\nso we have <strong>4 threads</strong>, <strong>4 objects</strong> of SimpleDateFormat.</p>\n<p>There is no need of lock mechanism and object creation and destruction.  (Good time complexity and space complexity)</p>\n<p><a href=\"https://www.youtube.com/watch?v=sjMe9aecW_A\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=sjMe9aecW_A</a></p>\n"},{"tags":[],"owner":{"account_id":14685618,"reputation":31,"user_id":10605704,"display_name":"Young"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1541428261,"creation_date":1541428261,"answer_id":53156397,"question_id":817856,"body_markdown":"[For Reference]ThreadLocal cannot solve update problems of shared object. It is recommended to use a staticThreadLocal object which is shared by all operations in the same thread.\r\n[Mandatory]remove() method must be implemented by ThreadLocal variables, especially when using thread pools in which threads are often reused. Otherwise, it may affect subsequent business logic and cause unexpected problems such as memory leak.","title":"When and how should I use a ThreadLocal variable?","body":"<p>[For Reference]ThreadLocal cannot solve update problems of shared object. It is recommended to use a staticThreadLocal object which is shared by all operations in the same thread.\n[Mandatory]remove() method must be implemented by ThreadLocal variables, especially when using thread pools in which threads are often reused. Otherwise, it may affect subsequent business logic and cause unexpected problems such as memory leak.</p>\n"},{"tags":[],"owner":{"account_id":8571883,"reputation":821,"user_id":6422459,"display_name":"DigitShifter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581801207,"creation_date":1581801207,"answer_id":60243198,"question_id":817856,"body_markdown":"**Try this small example, to get a feel for ThreadLocal variable:**&lt;br&gt;\r\n&lt;br&gt;\r\n\r\n    public class Book implements Runnable {\r\n        private static final ThreadLocal&lt;List&lt;String&gt;&gt; WORDS = ThreadLocal.withInitial(ArrayList::new);\r\n\r\n        private final String bookName; // It is also the thread&#39;s name\r\n        private final List&lt;String&gt; words;\r\n\r\n\r\n        public Book(String bookName, List&lt;String&gt; words) {\r\n            this.bookName = bookName;\r\n            this.words = Collections.unmodifiableList(words);\r\n        }\r\n\r\n        public void run() {\r\n            WORDS.get().addAll(words);\r\n            System.out.printf(&quot;Result %s: &#39;%s&#39;.%n&quot;, bookName, String.join(&quot;, &quot;, WORDS.get()));\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Thread t1 = new Thread(new Book(&quot;BookA&quot;, Arrays.asList(&quot;wordA1&quot;, &quot;wordA2&quot;, &quot;wordA3&quot;)));\r\n            Thread t2 = new Thread(new Book(&quot;BookB&quot;, Arrays.asList(&quot;wordB1&quot;, &quot;wordB2&quot;)));\r\n            t1.start();\r\n            t2.start();\r\n        }\r\n    }\r\n&lt;br&gt;\r\n**Console output, if thread BookA is done first:**&lt;br&gt;\r\nResult BookA: &#39;wordA1, wordA2, wordA3&#39;.&lt;br&gt;\r\nResult BookB: &#39;wordB1, wordB2&#39;.&lt;br&gt;\r\n&lt;br&gt;\r\n**Console output, if thread BookB is done first:**&lt;br&gt;\r\nResult BookB: &#39;wordB1, wordB2&#39;.&lt;br&gt;\r\nResult BookA: &#39;wordA1, wordA2, wordA3&#39;.&lt;br&gt;\r\n&lt;br&gt;\r\n","title":"When and how should I use a ThreadLocal variable?","body":"<p><strong>Try this small example, to get a feel for ThreadLocal variable:</strong><br>\n<br></p>\n\n<pre><code>public class Book implements Runnable {\n    private static final ThreadLocal&lt;List&lt;String&gt;&gt; WORDS = ThreadLocal.withInitial(ArrayList::new);\n\n    private final String bookName; // It is also the thread's name\n    private final List&lt;String&gt; words;\n\n\n    public Book(String bookName, List&lt;String&gt; words) {\n        this.bookName = bookName;\n        this.words = Collections.unmodifiableList(words);\n    }\n\n    public void run() {\n        WORDS.get().addAll(words);\n        System.out.printf(\"Result %s: '%s'.%n\", bookName, String.join(\", \", WORDS.get()));\n    }\n\n    public static void main(String[] args) {\n        Thread t1 = new Thread(new Book(\"BookA\", Arrays.asList(\"wordA1\", \"wordA2\", \"wordA3\")));\n        Thread t2 = new Thread(new Book(\"BookB\", Arrays.asList(\"wordB1\", \"wordB2\")));\n        t1.start();\n        t2.start();\n    }\n}\n</code></pre>\n\n<p><br>\n<strong>Console output, if thread BookA is done first:</strong><br>\nResult BookA: 'wordA1, wordA2, wordA3'.<br>\nResult BookB: 'wordB1, wordB2'.<br>\n<br>\n<strong>Console output, if thread BookB is done first:</strong><br>\nResult BookB: 'wordB1, wordB2'.<br>\nResult BookA: 'wordA1, wordA2, wordA3'.<br>\n<br></p>\n"},{"tags":[],"owner":{"account_id":3087422,"reputation":499,"user_id":2614310,"accept_rate":14,"display_name":"Arvind Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627448454,"creation_date":1627448454,"answer_id":68554632,"question_id":817856,"body_markdown":"**1st  Use case** - Per thread context which gives thread safety as well as performance\r\nReal-time example in SpringFramework classes - \r\n* LocaleContextHolder\r\n* TransactionContextHolder\r\n* RequestContextHolder\r\n* DateTimeContextHolder\r\n\r\n**2nd Use case** - When we don&#39;t want to share something among threads and at the same time don&#39;t want to use synchronize/lock due to performance cost\r\nexample - SimpleDateFormat to create the custom format for dates\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    \r\n    /**\r\n     * @author - GreenLearner(https://www.youtube.com/c/greenlearner)\r\n     */\r\n    public class ThreadLocalDemo1 {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-mm-yyyy&quot;);//not thread safe\r\n        ThreadLocal&lt;SimpleDateFormat&gt; tdl1 = ThreadLocal.withInitial(() -&gt; new SimpleDateFormat(&quot;yyyy-dd-mm&quot;));\r\n    \r\n        public static void main(String[] args) {\r\n            ThreadLocalDemo1 d1 = new ThreadLocalDemo1();\r\n    \r\n            ExecutorService es = Executors.newFixedThreadPool(10);\r\n    \r\n            for(int i=0; i&lt;100; i++) {\r\n                es.submit(() -&gt; System.out.println(d1.getDate(new Date())));\r\n            }\r\n            es.shutdown();\r\n        }\r\n    \r\n        String getDate(Date date){\r\n    \r\n    //        String s = tsdf.get().format(date);\r\n            String s1 = tdl1.get().format(date);\r\n            return s1;\r\n        }\r\n    }\r\n\r\n\r\n**Usage Tips**\r\n\r\n* Use local variables if possible. This way we can avoid using ThreadLocal\r\n* Delegate the functionality to frameworks as and when possible\r\n* If using ThreadLocal and setting the state into it then make sure to clean it after using otherwise it can become the major reason for **OutOfMemoryError**","title":"When and how should I use a ThreadLocal variable?","body":"<p><strong>1st  Use case</strong> - Per thread context which gives thread safety as well as performance\nReal-time example in SpringFramework classes -</p>\n<ul>\n<li>LocaleContextHolder</li>\n<li>TransactionContextHolder</li>\n<li>RequestContextHolder</li>\n<li>DateTimeContextHolder</li>\n</ul>\n<p><strong>2nd Use case</strong> - When we don't want to share something among threads and at the same time don't want to use synchronize/lock due to performance cost\nexample - SimpleDateFormat to create the custom format for dates</p>\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n/**\n * @author - GreenLearner(https://www.youtube.com/c/greenlearner)\n */\npublic class ThreadLocalDemo1 {\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-mm-yyyy&quot;);//not thread safe\n    ThreadLocal&lt;SimpleDateFormat&gt; tdl1 = ThreadLocal.withInitial(() -&gt; new SimpleDateFormat(&quot;yyyy-dd-mm&quot;));\n\n    public static void main(String[] args) {\n        ThreadLocalDemo1 d1 = new ThreadLocalDemo1();\n\n        ExecutorService es = Executors.newFixedThreadPool(10);\n\n        for(int i=0; i&lt;100; i++) {\n            es.submit(() -&gt; System.out.println(d1.getDate(new Date())));\n        }\n        es.shutdown();\n    }\n\n    String getDate(Date date){\n\n//        String s = tsdf.get().format(date);\n        String s1 = tdl1.get().format(date);\n        return s1;\n    }\n}\n</code></pre>\n<p><strong>Usage Tips</strong></p>\n<ul>\n<li>Use local variables if possible. This way we can avoid using ThreadLocal</li>\n<li>Delegate the functionality to frameworks as and when possible</li>\n<li>If using ThreadLocal and setting the state into it then make sure to clean it after using otherwise it can become the major reason for <strong>OutOfMemoryError</strong></li>\n</ul>\n"}],"owner":{"display_name":"Sasha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375862,"favorite_count":0,"down_vote_count":0,"up_vote_count":976,"accepted_answer_id":817926,"answer_count":26,"score":976,"last_activity_date":1664737068,"creation_date":1241380760,"question_id":817856,"body_markdown":"When should I use a [`ThreadLocal`][1] variable?\r\n\r\nHow is it used?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html","title":"When and how should I use a ThreadLocal variable?","body":"<p>When should I use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html\" rel=\"noreferrer\"><code>ThreadLocal</code></a> variable?</p>\n\n<p>How is it used?</p>\n"},{"tags":["java","javahelp"],"comments":[{"owner":{"account_id":16406564,"reputation":7066,"user_id":11854986,"display_name":"Ken Lee"},"score":1,"creation_date":1664727196,"post_id":73926976,"comment_id":130533236,"body_markdown":"For (3) : You might want to try **Oracle Help**. It is very similar to JavaHelp, but more actively maintained (I think this also answers (1) and (2) for you to some extent)","body":"For (3) : You might want to try <b>Oracle Help</b>. It is very similar to JavaHelp, but more actively maintained (I think this also answers (1) and (2) for you to some extent)"},{"owner":{"account_id":74766,"reputation":96,"user_id":214665,"display_name":"ebresie"},"score":1,"creation_date":1664728062,"post_id":73926976,"comment_id":130533404,"body_markdown":"@ken-lee assume this means [Oracle Help](https://docs.oracle.com/middleware/1213/jdev/api-reference-ohj/overview-summary.html) which is associated with [JDeveloper](https://docs.oracle.com/middleware/1213/jdev/) right?","body":"@ken-lee assume this means <a href=\"https://docs.oracle.com/middleware/1213/jdev/api-reference-ohj/overview-summary.html\" rel=\"nofollow noreferrer\">Oracle Help</a> which is associated with <a href=\"https://docs.oracle.com/middleware/1213/jdev/\" rel=\"nofollow noreferrer\">JDeveloper</a> right?"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1664737097,"post_id":73926976,"comment_id":130535271,"body_markdown":"I guess the downvotes/closures were because you asked multiple questions and at least two of them are open ended. These questions are more fit for a discussion forum, not for a question &amp; answer site. At least I can tell you JavaHelp is definitely not (going to be) part of JEE. You might want to correct this misassumption in the question too.","body":"I guess the downvotes/closures were because you asked multiple questions and at least two of them are open ended. These questions are more fit for a discussion forum, not for a question &amp; answer site. At least I can tell you JavaHelp is definitely not (going to be) part of JEE. You might want to correct this misassumption in the question too."},{"owner":{"account_id":74766,"reputation":96,"user_id":214665,"display_name":"ebresie"},"score":0,"creation_date":1666544317,"post_id":73926976,"comment_id":130957283,"body_markdown":"@BalusC appreciate the feedback.  Ha","body":"@BalusC appreciate the feedback.  Ha"}],"owner":{"account_id":74766,"reputation":96,"user_id":214665,"display_name":"ebresie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":5,"up_vote_count":5,"answer_count":0,"score":0,"last_activity_date":1664736987,"creation_date":1664723734,"question_id":73926976,"body_markdown":"While reviewing old Java project code, which relied on [*JavaHelp*][1] Java API to provide help functionality, it was unclear what the current status of this API is.  \r\n\r\nThe Java Help API spec is defined as part of [JSR-97](https://www.jcp.org/en/jsr/detail?id=97).\r\n\r\nThe [JavaHelp Wiki page](https://en.wikipedia.org/wiki/JavaHelp) seems to imply it was donated / opened sources to github as part of the [Java EE JavaHelp](https://github.com/javaee/javahelp) project.  However, this project has been archived.  \r\n\r\nThere was licensing concern (i.e., it was GPLv2 with exception, relicenses to CDDL partly with some still being GPLv2 with exceptions) .\r\n\r\nMost of the Java EE source has transitioned to the Eclipse / [Jakarta EE project](https://github.com/eclipse-ee4j).  But it&#39;s unclear if the JavaHelp functionality was picked up for further development under this umbrella.\r\n\r\nThere is some [legacy JavaHelp documentation](https://docs.oracle.com/cd/E19253-01/819-0913/819-0913.pdf) but this provides details on usage and points to communities and email addresses which are no longer applicable.\r\n\r\nSimilar [stackoverflow question was asked previously](https://stackoverflow.com/questions/4919143/where-is-jsr-97-javahelp/4919295) which had some response but may be a bit dated.\r\n\r\nAssume &quot;Java Help&quot; may no longer be of use or OBE, preferring instead to use some form of &quot;web based&quot; help content but not sure if this is 100% the case and the official transition expectations.\r\n\r\n1. What is the status of Java Help given transitions and upgrades presently?\r\n2. Is there still any value in the &quot;Java Help&quot; API?\r\n3. What is the alternative to this?\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/JavaHelp","title":"What is the current status of JavaHelp Java API?","body":"<p>While reviewing old Java project code, which relied on <a href=\"https://en.m.wikipedia.org/wiki/JavaHelp\" rel=\"nofollow noreferrer\"><em>JavaHelp</em></a> Java API to provide help functionality, it was unclear what the current status of this API is.</p>\n<p>The Java Help API spec is defined as part of <a href=\"https://www.jcp.org/en/jsr/detail?id=97\" rel=\"nofollow noreferrer\">JSR-97</a>.</p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/JavaHelp\" rel=\"nofollow noreferrer\">JavaHelp Wiki page</a> seems to imply it was donated / opened sources to github as part of the <a href=\"https://github.com/javaee/javahelp\" rel=\"nofollow noreferrer\">Java EE JavaHelp</a> project.  However, this project has been archived.</p>\n<p>There was licensing concern (i.e., it was GPLv2 with exception, relicenses to CDDL partly with some still being GPLv2 with exceptions) .</p>\n<p>Most of the Java EE source has transitioned to the Eclipse / <a href=\"https://github.com/eclipse-ee4j\" rel=\"nofollow noreferrer\">Jakarta EE project</a>.  But it's unclear if the JavaHelp functionality was picked up for further development under this umbrella.</p>\n<p>There is some <a href=\"https://docs.oracle.com/cd/E19253-01/819-0913/819-0913.pdf\" rel=\"nofollow noreferrer\">legacy JavaHelp documentation</a> but this provides details on usage and points to communities and email addresses which are no longer applicable.</p>\n<p>Similar <a href=\"https://stackoverflow.com/questions/4919143/where-is-jsr-97-javahelp/4919295\">stackoverflow question was asked previously</a> which had some response but may be a bit dated.</p>\n<p>Assume &quot;Java Help&quot; may no longer be of use or OBE, preferring instead to use some form of &quot;web based&quot; help content but not sure if this is 100% the case and the official transition expectations.</p>\n<ol>\n<li>What is the status of Java Help given transitions and upgrades presently?</li>\n<li>Is there still any value in the &quot;Java Help&quot; API?</li>\n<li>What is the alternative to this?</li>\n</ol>\n"},{"tags":["java","mysql","hibernate","jpa","constructor"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1664733831,"post_id":73928012,"comment_id":130534600,"body_markdown":"Note that JPA entities need to have a no-args constructor.","body":"Note that JPA entities need to have a no-args constructor."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664736265,"creation_date":1664735402,"answer_id":73928359,"question_id":73928012,"body_markdown":"Please read the error message:\r\n\r\n&gt; Expected arguments are: long, long, java.util.Date, java.lang.String, java.lang.String, java.lang.String, long, java.util.Date, java.lang.String, java.lang.String, java.lang.String, **java.util.Collection**, com.rightdata.dextrus.db.model.ClientName, **java.util.Collection**, long, com.rightdata.dextrus.db.model.UserAddress, java.lang.String, java.lang.String, java.lang.String\r\n\r\nAnd your constructor&#39;s arguments are:\r\n\r\n&gt;  Long id, Long createdBy, Date createdOne, String email, String firstname, String isActive, Long lastModifiedBy, Date lastModifiedOn, String lastname,\r\n               String password, String username, **List&amp;lt;RolesToUser&amp;gt;** rolesToUsers, ClientName clientName, **List&amp;lt;GroupsToUser&amp;gt;** groupsToUsers, Long mobileNumber,\r\n               UserAddress userAddress, String logiUserId, String modifiedByUser, String createdByUser\r\n\r\nA List is a Collection, but a Collection is not (always) a list.\r\n\r\nChange your constructor to:\r\n\r\n```\r\npublic Users(\r\n    Long id,\r\n    Long createdBy,\r\n    Date createdOne,\r\n    String email,\r\n    String firstname,\r\n    String isActive,\r\n    Long lastModifiedBy,\r\n    Date lastModifiedOn,\r\n    String lastname,\r\n    String password,\r\n    String username,\r\n    Collection&lt;RolesToUser&gt; rolesToUsers, // list=&gt;collection\r\n    ClientName clientName,\r\n    Collection&lt;GroupsToUser&gt; groupsToUsers, // list=&gt;collection\r\n    Long mobileNumber,\r\n    UserAddress userAddress,\r\n    String logiUserId,\r\n    String modifiedByUser,\r\n    String createdByUser) {\r\n```\r\n\r\nIf that still doesn&#39;t work, check if boxed `Long` vs primitive `long` causes problems.\r\n\r\nWhenever you encounter a problem such as this, it&#39;s good to divide it into smaller problems. Change the constructor to a single parameter and see if it works. If it does: add the next parameter. If it does not: congratulations, you have found your problematic param. Rinse and repeat until you have added all params again or found the culprit.","title":"What is wrong with my constructor class for jpa query?","body":"<p>Please read the error message:</p>\n<blockquote>\n<p>Expected arguments are: long, long, java.util.Date, java.lang.String, java.lang.String, java.lang.String, long, java.util.Date, java.lang.String, java.lang.String, java.lang.String, <strong>java.util.Collection</strong>, com.rightdata.dextrus.db.model.ClientName, <strong>java.util.Collection</strong>, long, com.rightdata.dextrus.db.model.UserAddress, java.lang.String, java.lang.String, java.lang.String</p>\n</blockquote>\n<p>And your constructor's arguments are:</p>\n<blockquote>\n<p>Long id, Long createdBy, Date createdOne, String email, String firstname, String isActive, Long lastModifiedBy, Date lastModifiedOn, String lastname,\nString password, String username, <strong>List&lt;RolesToUser&gt;</strong> rolesToUsers, ClientName clientName, <strong>List&lt;GroupsToUser&gt;</strong> groupsToUsers, Long mobileNumber,\nUserAddress userAddress, String logiUserId, String modifiedByUser, String createdByUser</p>\n</blockquote>\n<p>A List is a Collection, but a Collection is not (always) a list.</p>\n<p>Change your constructor to:</p>\n<pre><code>public Users(\n    Long id,\n    Long createdBy,\n    Date createdOne,\n    String email,\n    String firstname,\n    String isActive,\n    Long lastModifiedBy,\n    Date lastModifiedOn,\n    String lastname,\n    String password,\n    String username,\n    Collection&lt;RolesToUser&gt; rolesToUsers, // list=&gt;collection\n    ClientName clientName,\n    Collection&lt;GroupsToUser&gt; groupsToUsers, // list=&gt;collection\n    Long mobileNumber,\n    UserAddress userAddress,\n    String logiUserId,\n    String modifiedByUser,\n    String createdByUser) {\n</code></pre>\n<p>If that still doesn't work, check if boxed <code>Long</code> vs primitive <code>long</code> causes problems.</p>\n<p>Whenever you encounter a problem such as this, it's good to divide it into smaller problems. Change the constructor to a single parameter and see if it works. If it does: add the next parameter. If it does not: congratulations, you have found your problematic param. Rinse and repeat until you have added all params again or found the culprit.</p>\n"}],"owner":{"account_id":26508713,"reputation":1,"user_id":20144410,"display_name":"praneeth puppali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664736265,"creation_date":1664732462,"question_id":73928012,"body_markdown":"**This is my query**:\r\n\r\n```\r\n  @Query(&quot;SELECT new Users(user.id, user.createdBy, user.createdOne, user.email, user.firstname, user.isActive, user.lastModifiedBy, user.lastModifiedOn, user.lastname, user.password, &quot; +\r\n          &quot;user.username, user.rolesToUsers, user.clientName, user.groupsToUsers, user.mobileNumber, user.userAddress, user.logiUserId, &quot; +\r\n          &quot;modifiedByUser.username, createdByUser.username) &quot; +\r\n          &quot;FROM  Users user inner join ClientName client  on client.cid = user.clientName &quot; +\r\n          &quot;left join Users modifiedByUser on modifiedByUser.id = user.modifiedBy &quot; +\r\n          &quot;left join Users createdByUser on createdByUser.id = user.createdBy WHERE client.cid =?1&quot;)\r\n  public Optional&lt;List&lt;Users&gt;&gt; findAllByClientIdModifiedUser(Long cid);\r\n```\r\n**My constructor is**:\r\n```\r\n  public Users(Long id, Long createdBy, Date createdOne, String email, String firstname, String isActive, Long lastModifiedBy, Date lastModifiedOn, String lastname,\r\n               String password, String username, List&lt;RolesToUser&gt; rolesToUsers, ClientName clientName, List&lt;GroupsToUser&gt; groupsToUsers, Long mobileNumber,\r\n               UserAddress userAddress, String logiUserId, String modifiedByUser, String createdByUser) {\r\n\r\n    this.id = id;\r\n    this.createdBy = createdBy;\r\n    this.createdOne = createdOne;\r\n    this.email = email;\r\n    this.firstname = firstname;\r\n    this.isActive = isActive;\r\n    this.lastModifiedBy = lastModifiedBy;\r\n    this.lastModifiedOn = lastModifiedOn;\r\n    this.lastname = lastname;\r\n    this.password = password;\r\n    this.username = username;\r\n    this.rolesToUsers = rolesToUsers;\r\n    this.clientName = clientName;\r\n    this.groupsToUsers = groupsToUsers;\r\n    this.mobileNumber = mobileNumber;\r\n    this.userAddress = userAddress;\r\n    this.logiUserId = logiUserId;\r\n    this.modifiedByUser = modifiedByUser;\r\n    this.createdByUser = createdByUser;\r\n  }\r\n```\r\n**Error I am getting is**:\r\n\r\n&gt; Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate appropriate constructor on class [com.rightdata.dextrus.db.model.Users]. Expected arguments are: long, long, java.util.Date, java.lang.String, java.lang.String, java.lang.String, long, java.util.Date, java.lang.String, java.lang.String, java.lang.String, java.util.Collection, com.rightdata.dextrus.db.model.ClientName, java.util.Collection, long, com.rightdata.dextrus.db.model.UserAddress, java.lang.String, java.lang.String, java.lang.String [SELECT new Users(user.id, user.createdBy, user.createdOne, user.email, user.firstname, user.isActive, user.lastModifiedBy, user.lastModifiedOn, user.lastname, user.password, user.username, user.rolesToUsers, user.clientName, user.groupsToUsers, user.mobileNumber, user.userAddress, user.logiUserId, modifiedByUser.username, createdByUser.username) FROM  com.rightdata.dextrus.db.model.Users user inner join com.rightdata.dextrus.db.model.ClientName client  on client.cid = user.clientName left join com.rightdata.dextrus.db.model.Users modifiedByUser on modifiedByUser.id = user.lastModifiedBy left join com.rightdata.dextrus.db.model.Users createdByUser on createdByUser.id = user.createdBy WHERE client.cid =?1]","title":"What is wrong with my constructor class for jpa query?","body":"<p><strong>This is my query</strong>:</p>\n<pre><code>  @Query(&quot;SELECT new Users(user.id, user.createdBy, user.createdOne, user.email, user.firstname, user.isActive, user.lastModifiedBy, user.lastModifiedOn, user.lastname, user.password, &quot; +\n          &quot;user.username, user.rolesToUsers, user.clientName, user.groupsToUsers, user.mobileNumber, user.userAddress, user.logiUserId, &quot; +\n          &quot;modifiedByUser.username, createdByUser.username) &quot; +\n          &quot;FROM  Users user inner join ClientName client  on client.cid = user.clientName &quot; +\n          &quot;left join Users modifiedByUser on modifiedByUser.id = user.modifiedBy &quot; +\n          &quot;left join Users createdByUser on createdByUser.id = user.createdBy WHERE client.cid =?1&quot;)\n  public Optional&lt;List&lt;Users&gt;&gt; findAllByClientIdModifiedUser(Long cid);\n</code></pre>\n<p><strong>My constructor is</strong>:</p>\n<pre><code>  public Users(Long id, Long createdBy, Date createdOne, String email, String firstname, String isActive, Long lastModifiedBy, Date lastModifiedOn, String lastname,\n               String password, String username, List&lt;RolesToUser&gt; rolesToUsers, ClientName clientName, List&lt;GroupsToUser&gt; groupsToUsers, Long mobileNumber,\n               UserAddress userAddress, String logiUserId, String modifiedByUser, String createdByUser) {\n\n    this.id = id;\n    this.createdBy = createdBy;\n    this.createdOne = createdOne;\n    this.email = email;\n    this.firstname = firstname;\n    this.isActive = isActive;\n    this.lastModifiedBy = lastModifiedBy;\n    this.lastModifiedOn = lastModifiedOn;\n    this.lastname = lastname;\n    this.password = password;\n    this.username = username;\n    this.rolesToUsers = rolesToUsers;\n    this.clientName = clientName;\n    this.groupsToUsers = groupsToUsers;\n    this.mobileNumber = mobileNumber;\n    this.userAddress = userAddress;\n    this.logiUserId = logiUserId;\n    this.modifiedByUser = modifiedByUser;\n    this.createdByUser = createdByUser;\n  }\n</code></pre>\n<p><strong>Error I am getting is</strong>:</p>\n<blockquote>\n<p>Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate appropriate constructor on class [com.rightdata.dextrus.db.model.Users]. Expected arguments are: long, long, java.util.Date, java.lang.String, java.lang.String, java.lang.String, long, java.util.Date, java.lang.String, java.lang.String, java.lang.String, java.util.Collection, com.rightdata.dextrus.db.model.ClientName, java.util.Collection, long, com.rightdata.dextrus.db.model.UserAddress, java.lang.String, java.lang.String, java.lang.String [SELECT new Users(user.id, user.createdBy, user.createdOne, user.email, user.firstname, user.isActive, user.lastModifiedBy, user.lastModifiedOn, user.lastname, user.password, user.username, user.rolesToUsers, user.clientName, user.groupsToUsers, user.mobileNumber, user.userAddress, user.logiUserId, modifiedByUser.username, createdByUser.username) FROM  com.rightdata.dextrus.db.model.Users user inner join com.rightdata.dextrus.db.model.ClientName client  on client.cid = user.clientName left join com.rightdata.dextrus.db.model.Users modifiedByUser on modifiedByUser.id = user.lastModifiedBy left join com.rightdata.dextrus.db.model.Users createdByUser on createdByUser.id = user.createdBy WHERE client.cid =?1]</p>\n</blockquote>\n"},{"tags":["java","mysql","eclipse"],"answers":[{"tags":[],"owner":{"account_id":4277762,"reputation":328,"user_id":3497985,"display_name":"dharr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1405439289,"creation_date":1405437684,"answer_id":24762054,"question_id":24761974,"body_markdown":"Your jdbc URL might be wrong try something like that:\r\n\r\n    String dbURL = &quot;jdbc:mysql://localhost:3306/test&quot;;   \r\nSupply url to your mysql folder ","title":"How to handle &quot;No suitable driver found&quot; exception while connecting MySQL with Eclipse?","body":"<p>Your jdbc URL might be wrong try something like that:</p>\n\n<pre><code>String dbURL = \"jdbc:mysql://localhost:3306/test\";   \n</code></pre>\n\n<p>Supply url to your mysql folder </p>\n"}],"owner":{"account_id":4215126,"reputation":37,"user_id":3451595,"accept_rate":100,"display_name":"kalyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24762054,"answer_count":1,"score":0,"last_activity_date":1664735419,"creation_date":1405437464,"question_id":24761974,"body_markdown":"I am using Eclipse LUNA package and MySQL 6.0 Workbench.\r\n\r\nI pasted &quot;mysql-connector-java-5.0.8-bin.jar&quot; file in Referenced Library file.\r\n\r\nMy coding:\r\n\r\n```java\r\npackage a1;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.util.Scanner;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nclass a2 {\r\n  public static void main(String[] args) {\r\n    String dbURL = &quot;jdbc:mysql://localhost:3306/test&quot;;\r\n    String username = &quot;root&quot;;\r\n    String password = &quot;root&quot;;\r\n    Connection dbCon = null;\r\n    Statement stmt = null;\r\n    ResultSet rs = null;\r\n    String query = &quot;select * from k111&quot;;\r\n    try {\r\n      dbCon = DriverManager.getConnection(dbURL, username, password);\r\n      stmt = dbCon.prepareStatement(query);\r\n      rs = stmt.executeQuery(query);\r\n      System.out.println(&quot;Success&quot;);\r\n      while (rs.next()) {\r\n        System.out.println(query);\r\n      }\r\n    } catch (SQLException ex) {\r\n      System.out.println(ex);\r\n    } finally {\r\n      rs.close();\r\n      stmt.close();\r\n      dbCon.close();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nMy database name is &quot;test&quot;. My table name is k111.\r\n\r\nI need to print &quot;Success&quot; as per the program to know whether the database connectivity is successful.\r\n\r\nMy output:\r\n\r\n&gt;java.sql.SQLException: No suitable driver found for  jdbc:mysql://localhost:3306/test","title":"How to handle &quot;No suitable driver found&quot; exception while connecting MySQL with Eclipse?","body":"<p>I am using Eclipse LUNA package and MySQL 6.0 Workbench.</p>\n<p>I pasted &quot;mysql-connector-java-5.0.8-bin.jar&quot; file in Referenced Library file.</p>\n<p>My coding:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package a1;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.Scanner;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nclass a2 {\n  public static void main(String[] args) {\n    String dbURL = &quot;jdbc:mysql://localhost:3306/test&quot;;\n    String username = &quot;root&quot;;\n    String password = &quot;root&quot;;\n    Connection dbCon = null;\n    Statement stmt = null;\n    ResultSet rs = null;\n    String query = &quot;select * from k111&quot;;\n    try {\n      dbCon = DriverManager.getConnection(dbURL, username, password);\n      stmt = dbCon.prepareStatement(query);\n      rs = stmt.executeQuery(query);\n      System.out.println(&quot;Success&quot;);\n      while (rs.next()) {\n        System.out.println(query);\n      }\n    } catch (SQLException ex) {\n      System.out.println(ex);\n    } finally {\n      rs.close();\n      stmt.close();\n      dbCon.close();\n    }\n  }\n}\n</code></pre>\n<p>My database name is &quot;test&quot;. My table name is k111.</p>\n<p>I need to print &quot;Success&quot; as per the program to know whether the database connectivity is successful.</p>\n<p>My output:</p>\n<blockquote>\n<p>java.sql.SQLException: No suitable driver found for  jdbc:mysql://localhost:3306/test</p>\n</blockquote>\n"},{"tags":["java","android","google-cloud-firestore","firebase-storage"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1664783367,"post_id":73927631,"comment_id":130542397,"body_markdown":"If you understand Kotlin, then this [resource](https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46) will definitely help. Here is also the corresponding [repo](https://github.com/alexmamo/CloudStorageJetpackCompose).","body":"If you understand Kotlin, then this <a href=\"https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46\" rel=\"nofollow noreferrer\">resource</a> will definitely help. Here is also the corresponding <a href=\"https://github.com/alexmamo/CloudStorageJetpackCompose\" rel=\"nofollow noreferrer\">repo</a>."}],"answers":[{"tags":[],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664730861,"creation_date":1664730861,"answer_id":73927807,"question_id":73927631,"body_markdown":"**To upload images/videos on Firebase, you need to use Firebase Storage -**\r\n\r\n1. Check the below document link for upload file on Firebase storage\r\n\r\n     [https://firebase.google.com/docs/storage/android/upload-files][1]\r\n\r\n2. Once you upload the file on Firebase storage you will get a download URL save that URL in Firestore for future reference\r\n\r\n3. You can access your image/video using that download URL\r\n\r\n\r\n\r\nHope you understood, let me know if more information is required.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/storage/android/upload-files","title":"Upload image and video on Firebase Storage and save URL in Firestore using Java","body":"<p><strong>To upload images/videos on Firebase, you need to use Firebase Storage -</strong></p>\n<ol>\n<li><p>Check the below document link for upload file on Firebase storage</p>\n<p><a href=\"https://firebase.google.com/docs/storage/android/upload-files\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/storage/android/upload-files</a></p>\n</li>\n<li><p>Once you upload the file on Firebase storage you will get a download URL save that URL in Firestore for future reference</p>\n</li>\n<li><p>You can access your image/video using that download URL</p>\n</li>\n</ol>\n<p>Hope you understood, let me know if more information is required.</p>\n"}],"owner":{"account_id":26499261,"reputation":9,"user_id":20136466,"display_name":"Frank0014"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1011,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1664735238,"creation_date":1664729267,"question_id":73927631,"body_markdown":"I have checked the docs provided by Google, but it doesn&#39;t metioned how to upload image and video.\r\n\r\n\r\n    Map&lt;String, Object&gt; city = new HashMap&lt;&gt;();\r\n    city.put(&quot;name&quot;, &quot;Los Angeles&quot;);\r\n    city.put(&quot;state&quot;, &quot;CA&quot;);\r\n    city.put(&quot;country&quot;, &quot;USA&quot;);\r\n    \r\n    db.collection(&quot;cities&quot;).document(&quot;LA&quot;)\r\n            .set(city)\r\n            .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                @Override\r\n                public void onSuccess(Void aVoid) {\r\n                    Log.d(TAG, &quot;DocumentSnapshot successfully written!&quot;);\r\n                }\r\n            })\r\n            .addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    Log.w(TAG, &quot;Error writing document&quot;, e);\r\n                }\r\n            });\r\n","title":"Upload image and video on Firebase Storage and save URL in Firestore using Java","body":"<p>I have checked the docs provided by Google, but it doesn't metioned how to upload image and video.</p>\n<pre><code>Map&lt;String, Object&gt; city = new HashMap&lt;&gt;();\ncity.put(&quot;name&quot;, &quot;Los Angeles&quot;);\ncity.put(&quot;state&quot;, &quot;CA&quot;);\ncity.put(&quot;country&quot;, &quot;USA&quot;);\n\ndb.collection(&quot;cities&quot;).document(&quot;LA&quot;)\n        .set(city)\n        .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n            @Override\n            public void onSuccess(Void aVoid) {\n                Log.d(TAG, &quot;DocumentSnapshot successfully written!&quot;);\n            }\n        })\n        .addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Log.w(TAG, &quot;Error writing document&quot;, e);\n            }\n        });\n</code></pre>\n"},{"tags":["java","spring","database","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1664570680,"post_id":73911164,"comment_id":130510161,"body_markdown":"Lazy loading means your entities are not detached - this doesn&#39;t necessarily mean you have an open transaction, as it&#39;ll depend on what they are attached to and what is holding that context/persistence unit. How have you configured your session here?","body":"Lazy loading means your entities are not detached - this doesn&#39;t necessarily mean you have an open transaction, as it&#39;ll depend on what they are attached to and what is holding that context/persistence unit. How have you configured your session here?"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664734778,"creation_date":1664630687,"answer_id":73918650,"question_id":73911164,"body_markdown":"The easiest and safest way that I can think of is to customize the `OpenEntityManagerInViewInterceptor` to just exclude the request that you do not want to apply OSIV on it. Something like : \r\n\r\n``` java\r\npublic class MyOpenEntityManagerInViewInterceptor extends OpenEntityManagerInViewInterceptor {\r\n    \r\n\r\n  \r\n    private boolean isExcludeOsiv(WebRequest request){\r\n        //refer to https://stackoverflow.com/questions/51921635/how-to-get-requests-uri-from-webrequest-in-spring for getting the URL path from the WebRequest for checking\r\n    }\r\n\r\n \r\n    @Override \r\n   \tpublic void preHandle(WebRequest request) throws DataAccessException {\r\n        if(isExcludeOsiv(request)){\r\n            return ;\r\n        }\r\n        super.preHandle(requset);\r\n    }\r\n\r\n    @Override\r\n    public void afterCompletion(WebRequest request, @Nullable Exception ex) throws DataAccessException {\r\n        if(isExcludeOsiv(request)){\r\n            return ;\r\n        }\r\n        super.afterCompletion(requset,ex);\r\n   }\r\n\r\n} \r\n```\r\n\r\nAnd use the following configuration to disable the default OSIV setting provided by spring-boot but use this customised `OpenEntityManagerInViewInterceptor` instead : \r\n\r\n\r\n``` java\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n\r\n  \t@Override\r\n\tpublic void addInterceptors(InterceptorRegistry registry) {\r\n\t\t\tregistry.addWebRequestInterceptor(new MyOpenEntityManagerInViewInterceptor());\r\n\t}\r\n}\r\n```\r\n\r\n\r\n","title":"Terminate transactional boundary when open session in view is enabled","body":"<p>The easiest and safest way that I can think of is to customize the <code>OpenEntityManagerInViewInterceptor</code> to just exclude the request that you do not want to apply OSIV on it. Something like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyOpenEntityManagerInViewInterceptor extends OpenEntityManagerInViewInterceptor {\n    \n\n  \n    private boolean isExcludeOsiv(WebRequest request){\n        //refer to https://stackoverflow.com/questions/51921635/how-to-get-requests-uri-from-webrequest-in-spring for getting the URL path from the WebRequest for checking\n    }\n\n \n    @Override \n    public void preHandle(WebRequest request) throws DataAccessException {\n        if(isExcludeOsiv(request)){\n            return ;\n        }\n        super.preHandle(requset);\n    }\n\n    @Override\n    public void afterCompletion(WebRequest request, @Nullable Exception ex) throws DataAccessException {\n        if(isExcludeOsiv(request)){\n            return ;\n        }\n        super.afterCompletion(requset,ex);\n   }\n\n} \n</code></pre>\n<p>And use the following configuration to disable the default OSIV setting provided by spring-boot but use this customised <code>OpenEntityManagerInViewInterceptor</code> instead :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n            registry.addWebRequestInterceptor(new MyOpenEntityManagerInViewInterceptor());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6532709,"reputation":432,"user_id":5053357,"accept_rate":38,"display_name":"Nero"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664734778,"creation_date":1664552836,"question_id":73911164,"body_markdown":"My project has Open session in view enabled and we cannot disable it at this point. We are using spring boot. \r\n\r\nI have a method that does db read calls and rest calls. I do NOT need transactional boundary over this method. How do I disable the transaction in this method. I have tried using \r\n\r\n    @Transaction(propagation=Propagation.NEVER \r\n    and \r\n    @Transaction(propagation=Propagation.NOT_SUPPORTED)\r\n\r\nBut the transaction still seems to exist. I know this because there are some lazily loaded relationships that gets loaded if I access them with in this method.\r\n\r\n    public void doSomething() {\r\n        makeDbCall();\r\n        makeRestCall();\r\n        makeDbCallAgain();\r\n    }","title":"Terminate transactional boundary when open session in view is enabled","body":"<p>My project has Open session in view enabled and we cannot disable it at this point. We are using spring boot.</p>\n<p>I have a method that does db read calls and rest calls. I do NOT need transactional boundary over this method. How do I disable the transaction in this method. I have tried using</p>\n<pre><code>@Transaction(propagation=Propagation.NEVER \nand \n@Transaction(propagation=Propagation.NOT_SUPPORTED)\n</code></pre>\n<p>But the transaction still seems to exist. I know this because there are some lazily loaded relationships that gets loaded if I access them with in this method.</p>\n<pre><code>public void doSomething() {\n    makeDbCall();\n    makeRestCall();\n    makeDbCallAgain();\n}\n</code></pre>\n"},{"tags":["java","unirest","unirest-java"],"answers":[{"tags":[],"owner":{"account_id":26462069,"reputation":11,"user_id":20103849,"display_name":"IAN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664734668,"creation_date":1664304211,"answer_id":73872434,"question_id":70787532,"body_markdown":"**It looks like your body is in the wrong form for application/x-www-form-urlencoded.**\r\n\r\nIt shouldn&#39;t be a json object and instead should be something like `grant_type=password&amp;client_id=front&amp;username=user&amp;password=1234`\r\n\r\nAn example can be found [here][1]\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST#example","title":"Post an &#39;x-www-form-urlencoded&#39; entity with Java Unirest","body":"<p><strong>It looks like your body is in the wrong form for application/x-www-form-urlencoded.</strong></p>\n<p>It shouldn't be a json object and instead should be something like <code>grant_type=password&amp;client_id=front&amp;username=user&amp;password=1234</code></p>\n<p>An example can be found <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST#example\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":2280475,"reputation":2631,"user_id":2005682,"accept_rate":34,"display_name":"Fabio Ebner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664734668,"creation_date":1642687145,"question_id":70787532,"body_markdown":"I using java Unirest to call my api. but now I need to post an object but with x-www-form-urlencoded, I using this code:\r\n\r\n\r\n    public static void main(String[] args) {\r\n            Unirest.config().setObjectMapper(new JacksonObjectMapper());\r\n            System.out.println(Unirest\r\n                    .post(&quot;http://192.168.2.157:8082/auth/realms/collatum/protocol/openid-connect/token&quot;)\r\n                    .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n                    .body(RequestToken.builder()\r\n                            .username(&quot;user&quot;)\r\n                            .password(&quot;1234&quot;)\r\n                            .grant_type(&quot;password&quot;)\r\n                            .client_id(&quot;front&quot;)\r\n                            .build()).asString().getBody()\r\n    \r\n    \r\n            );\r\n        }\r\n\r\nand I get this error:\r\n\r\n &gt; {&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;Missing form parameter: grant_type&quot;}\r\n\r\nWhen I analise the request the header are ok:(but looks like the object are in json and no x-www-form-urlencoded\r\n\r\n\r\n\r\n\r\n\r\n    POST /auth/realms/collatum/protocol/openid-connect/token HTTP/1.1\r\n    Content-Type: application/x-www-form-urlencoded\r\n    user-agent: unirest-java/3.1.00\r\n    accept-encoding: gzip\r\n    Content-Length: 87\r\n    Host: 192.168.2.157:8082\r\n    Connection: Keep-Alive\r\n    \r\n    {&quot;grant_type&quot;:&quot;password&quot;,&quot;client_id&quot;:&quot;front&quot;,&quot;username&quot;:&quot;user&quot;,&quot;password&quot;:&quot;1234&quot;}HTTP/1.1 400 Bad Request\r\n    Cache-Control: no-store\r\n    X-XSS-Protection: 1; mode=block\r\n    Pragma: no-cache\r\n    X-Frame-Options: SAMEORIGIN\r\n    Referrer-Policy: no-referrer\r\n    Date: Thu, 20 Jan 2022 13:56:53 GMT\r\n    Connection: keep-alive\r\n    Strict-Transport-Security: max-age=31536000; includeSubDomains\r\n    X-Content-Type-Options: nosniff\r\n    Content-Type: application/json\r\n    Content-Length: 84\r\n    \r\n    {&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;Missing form parameter: grant_type&quot;}\r\n\r\n\r\n","title":"Post an &#39;x-www-form-urlencoded&#39; entity with Java Unirest","body":"<p>I using java Unirest to call my api. but now I need to post an object but with x-www-form-urlencoded, I using this code:</p>\n<pre><code>public static void main(String[] args) {\n        Unirest.config().setObjectMapper(new JacksonObjectMapper());\n        System.out.println(Unirest\n                .post(&quot;http://192.168.2.157:8082/auth/realms/collatum/protocol/openid-connect/token&quot;)\n                .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n                .body(RequestToken.builder()\n                        .username(&quot;user&quot;)\n                        .password(&quot;1234&quot;)\n                        .grant_type(&quot;password&quot;)\n                        .client_id(&quot;front&quot;)\n                        .build()).asString().getBody()\n\n\n        );\n    }\n</code></pre>\n<p>and I get this error:</p>\n<blockquote>\n<p>{&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;Missing form parameter: grant_type&quot;}</p>\n</blockquote>\n<p>When I analise the request the header are ok:(but looks like the object are in json and no x-www-form-urlencoded</p>\n<pre><code>POST /auth/realms/collatum/protocol/openid-connect/token HTTP/1.1\nContent-Type: application/x-www-form-urlencoded\nuser-agent: unirest-java/3.1.00\naccept-encoding: gzip\nContent-Length: 87\nHost: 192.168.2.157:8082\nConnection: Keep-Alive\n\n{&quot;grant_type&quot;:&quot;password&quot;,&quot;client_id&quot;:&quot;front&quot;,&quot;username&quot;:&quot;user&quot;,&quot;password&quot;:&quot;1234&quot;}HTTP/1.1 400 Bad Request\nCache-Control: no-store\nX-XSS-Protection: 1; mode=block\nPragma: no-cache\nX-Frame-Options: SAMEORIGIN\nReferrer-Policy: no-referrer\nDate: Thu, 20 Jan 2022 13:56:53 GMT\nConnection: keep-alive\nStrict-Transport-Security: max-age=31536000; includeSubDomains\nX-Content-Type-Options: nosniff\nContent-Type: application/json\nContent-Length: 84\n\n{&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;Missing form parameter: grant_type&quot;}\n</code></pre>\n"},{"tags":["java","arrays","string","split"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1662477846,"post_id":73624373,"comment_id":130012130,"body_markdown":"What exactly isn&#39;t working? Do you get an Error/Exception when you run the code? If yes please add the error message and stacktrace. Or do you get a result you don&#39;t expect? If yes please add this result and how it differs from what you want to your question.","body":"What exactly isn&#39;t working? Do you get an Error/Exception when you run the code? If yes please add the error message and stacktrace. Or do you get a result you don&#39;t expect? If yes please add this result and how it differs from what you want to your question."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1662477893,"post_id":73624373,"comment_id":130012151,"body_markdown":"Hello and welcome. Please don&#39;t use C-style comments to post what is basically the text of your question. It rendered as a dotted list, it was a mess to fix and we shouldn&#39;t need to do that.","body":"Hello and welcome. Please don&#39;t use C-style comments to post what is basically the text of your question. It rendered as a dotted list, it was a mess to fix and we shouldn&#39;t need to do that."},{"owner":{"account_id":23602515,"reputation":1,"user_id":17638780,"display_name":"TheArtificalAI"},"score":0,"creation_date":1662482093,"post_id":73624373,"comment_id":130013617,"body_markdown":"What exactly is not working? -&gt; The spliting of the string does not work as I intendet it to. For example splits[2] is deut2 voc3; but it should contain only voc2. (like i wrote in the discription - and the for loop is just to run it less often, to put out less debug messages, in the final Version would the main part run in a while until text.isEmty=true)","body":"What exactly is not working? -&gt; The spliting of the string does not work as I intendet it to. For example splits[2] is deut2 voc3; but it should contain only voc2. (like i wrote in the discription - and the for loop is just to run it less often, to put out less debug messages, in the final Version would the main part run in a while until text.isEmty=true)"},{"owner":{"account_id":23602515,"reputation":1,"user_id":17638780,"display_name":"TheArtificalAI"},"score":0,"creation_date":1662482314,"post_id":73624373,"comment_id":130013678,"body_markdown":"Frederico klez Cullaca, thank you for reformating, sorry this was my first Stack Overflow post!","body":"Frederico klez Cullaca, thank you for reformating, sorry this was my first Stack Overflow post!"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664734204,"creation_date":1664734204,"answer_id":73928230,"question_id":73624373,"body_markdown":"Using this as your input:\r\n```java\r\nString text= &quot;voc1  deut1\\nvoc2 deut2\\nvoc3 deut3\\nvoc4 deut4&quot;;\r\n```\r\nand this as your desired output:\r\n```none\r\nsplits[0]=&quot;voc1&quot;\r\nsplits[1]=&quot;voc2&quot;\r\nsplits[2]=&quot;voc3&quot;\r\nsplits[3]=&quot;voc4&quot;\r\n\r\nlines[0]=&quot;deut1&quot;\r\nlines[1]=&quot;deut2&quot;\r\nlines[2]=&quot;deut3&quot;\r\nlines[3]=&quot;deut4&quot;\r\n```\r\nThe following is my implementation:\r\n```java\r\npublic class Replacer {\r\n    public static void main(String[] args) {\r\n        String text= &quot;voc1  deut1\\nvoc2 deut2\\nvoc3 deut3\\nvoc4 deut4&quot;;\r\n        String[] rows = text.split(&quot;\\n&quot;);\r\n        String[] splits = new String[rows.length];\r\n        String[] lines = new String[rows.length];\r\n        for (int i = 0; i &lt; rows.length; i++) {\r\n            String[] parts = rows[i].split(&quot;\\\\s+&quot;);\r\n            splits[i] = parts[0];\r\n            lines[i] = parts[1];\r\n        }\r\n        for (int i = 0; i &lt; splits.length; i++) {\r\n            System.out.printf(&quot;splits[%d]=\\&quot;%s\\&quot;%n&quot;, i, splits[i]);\r\n        }\r\n        System.out.println();\r\n        for (int i = 0; i &lt; lines.length; i++) {\r\n            System.out.printf(&quot;lines[%d]=\\&quot;%s\\&quot;%n&quot;, i, lines[i]);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Problem with seperating one String into two arrays (words seperated by Tab and Enter)","body":"<p>Using this as your input:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String text= &quot;voc1  deut1\\nvoc2 deut2\\nvoc3 deut3\\nvoc4 deut4&quot;;\n</code></pre>\n<p>and this as your desired output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>splits[0]=&quot;voc1&quot;\nsplits[1]=&quot;voc2&quot;\nsplits[2]=&quot;voc3&quot;\nsplits[3]=&quot;voc4&quot;\n\nlines[0]=&quot;deut1&quot;\nlines[1]=&quot;deut2&quot;\nlines[2]=&quot;deut3&quot;\nlines[3]=&quot;deut4&quot;\n</code></pre>\n<p>The following is my implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Replacer {\n    public static void main(String[] args) {\n        String text= &quot;voc1  deut1\\nvoc2 deut2\\nvoc3 deut3\\nvoc4 deut4&quot;;\n        String[] rows = text.split(&quot;\\n&quot;);\n        String[] splits = new String[rows.length];\n        String[] lines = new String[rows.length];\n        for (int i = 0; i &lt; rows.length; i++) {\n            String[] parts = rows[i].split(&quot;\\\\s+&quot;);\n            splits[i] = parts[0];\n            lines[i] = parts[1];\n        }\n        for (int i = 0; i &lt; splits.length; i++) {\n            System.out.printf(&quot;splits[%d]=\\&quot;%s\\&quot;%n&quot;, i, splits[i]);\n        }\n        System.out.println();\n        for (int i = 0; i &lt; lines.length; i++) {\n            System.out.printf(&quot;lines[%d]=\\&quot;%s\\&quot;%n&quot;, i, lines[i]);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23602515,"reputation":1,"user_id":17638780,"display_name":"TheArtificalAI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664734357,"creation_date":1662477506,"question_id":73624373,"body_markdown":"EDIT 02.10.2022 - Got it working, have a look at the End.\r\n\r\nI am trying to make a program that splits one string of text into to arrays\r\n the input in the String text looks as following:\r\n \r\n    voc1\tdeut1\r\n    voc2\tdeut2\r\n    voc3\tdeut3\r\n    voc4\tdeut4\r\n\r\nthe 2 separate String[] arrays should be filled as following:\r\n \r\n    splits[0]=&quot;voc1&quot;\r\n    splits[1]=&quot;voc2&quot;\r\n    splits[2]=&quot;voc3&quot;\r\n    splits[3]=&quot;voc4&quot;\r\n\r\n    lines[0]=&quot;deut1&quot;\r\n    lines[1]=&quot;deut2&quot;\r\n    lines[2]=&quot;deut3&quot;\r\n    lines[3]=&quot;deut4&quot;\r\n\r\nThe first of both work perfectly [0], but from then on\r\nit collapses into a horrible mess like [1]:\r\n \r\n    splits[1]: deut2\r\n    voc3\r\n    lines[1]: voc2\tdeut2\r\n\r\n\r\nHere is the old version:\r\n```java\r\npublic class raplacer {\r\n\r\n    public static void main(String[] args) {\r\n        String text= &quot;voc1  deut1\\nvoc2 deut2\\nvoc3 deut3\\nvoc4 deut4&quot;;\r\n\r\n        String[] splits = null;\r\n        String[] lines = null;\r\n        int numbSplits =0;\r\n        int numbLines =0;\r\n\r\n        for(int i=0; i&lt;3;i++) {\r\n            System.out.print(&quot;nextLine:  &quot; + text.indexOf(&quot;\\n&quot;));\r\n            System.out.println(&quot;    nextTab:   &quot; + text.indexOf(&quot;   &quot;));\r\n            if(text.indexOf(&quot;\\n&quot;)&gt;text.indexOf(&quot;    &quot;)) {\r\n                splits=text.split(&quot; &quot;);\r\n                splits[numbSplits+1]=&quot;&quot;;\r\n                text=text.replaceFirst(splits[numbSplits], &quot;&quot;);\r\n                System.out.println(&quot;Text:\\n&quot; + text);\r\n                text=text.replaceFirst(&quot;    &quot;, &quot;&quot;);\r\n                System.out.println(&quot;Text:\\n&quot; + text);\r\n                numbSplits++;\r\n                System.out.println(&quot;Splitet a Tab away&quot;);\r\n            }\r\n            else if(text.indexOf(&quot;\\n&quot;)&lt;text.indexOf(&quot;   &quot;)) {\r\n                lines=text.split(&quot;\\n&quot;);\r\n                lines[numbLines+1]=&quot;&quot;;\r\n                text=text.replaceFirst(lines[numbLines], &quot;&quot;);\r\n                System.out.println(&quot;Text:\\n&quot; + text);\r\n                text=text.replaceFirst(&quot;\\n&quot;, &quot;&quot;);\r\n                System.out.println(&quot;Text:\\n&quot; + text);\r\n                numbLines++;\r\n                System.out.println(&quot;Splited a Line away&quot;);\r\n            }\r\n        }\r\n        System.out.println(&quot;Text:\\n&quot; + text);\r\n        System.out.println();\r\n        System.out.println(&quot;splits0: &quot; + splits[0]);\r\n        System.out.println(&quot;splits1: &quot; + splits[1]);\r\n        System.out.println();\r\n        System.out.println(&quot;lines0: &quot; + lines[0]);\r\n        System.out.println(&quot;lines1: &quot; + lines[1]);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nEDIT 02.10.2022 - I got it working by changing a lot here is my version if you want to have a look at it:\r\n\r\nAt the String `text` the whole string, that is going to get split up, is passed in:\r\n```java\r\ntext=text+&quot;\\n   &quot;;\r\nString[] splits = null;\r\nString[] lines = null;\r\nint numbSplits =0;\r\nint numbLines =0;\r\nint run = 0;\r\nwhile(text.length()&gt;4) {\r\n\r\n    //DEBUG\r\n    run++;\r\n    try{\r\n        Thread.sleep(100);\r\n    }\r\n    catch (InterruptedException ex){\r\n    }\r\n    System.out.println(&quot;LENGHT: &quot; +text.length());\r\n    System.out.println(&quot;NEXT TAB &quot; + text.indexOf(&quot; &quot;) + &quot; NEXT LINE &quot; + text.indexOf(&quot;\\n&quot;));\r\n    if(run == 5||run == 10||run == 15||run == 20) {\r\n        System.out.println(text);\r\n        try{\r\n            Thread.sleep(1300);\r\n        }\r\n        catch (InterruptedException ex){}\r\n    }\r\n    if(run==20) {\r\n        break;\r\n    }\r\n\r\n    //DEBUG\r\n    if(text.indexOf(&quot;\\n&quot;)&gt;text.indexOf(&quot;    &quot;)) {\r\n        splits=text.split(&quot; &quot;,0);\r\n        spanischList.add(splits[0]);\r\n        text=text.replaceFirst(spanischList.get(numbSplits), &quot;&quot;);\r\n        text=text.replaceFirst(&quot;    &quot;, &quot;&quot;);\r\n        splits=null;\r\n        numbSplits++;\r\n    }\r\n    else if(text.indexOf(&quot;\\n&quot;)&lt;text.indexOf(&quot;   &quot;)) {\r\n        lines=text.split(&quot;\\n&quot;);\r\n        deutschList.add(lines[0]);\r\n        text=text.replaceFirst(deutschList.get(numbLines), &quot;&quot;);\r\n        text=text.replaceFirst(&quot;\\n&quot;, &quot;&quot;);\r\n        lines=null;\r\n        numbLines++;\r\n        nrOfVoc +=1;\r\n    }\r\n}\r\n```\r\n(You can comment out that `DEBUG`, it is just for debugging...)\r\n\r\nAnd at my PC it can&#39;t cope with &#246;&#228;&#252;&#241; cause my PC won&#39;t let me change its encoding to UTF-8, but that&#39;s another story...\r\n","title":"Problem with seperating one String into two arrays (words seperated by Tab and Enter)","body":"<p>EDIT 02.10.2022 - Got it working, have a look at the End.</p>\n<p>I am trying to make a program that splits one string of text into to arrays\nthe input in the String text looks as following:</p>\n<pre><code>voc1    deut1\nvoc2    deut2\nvoc3    deut3\nvoc4    deut4\n</code></pre>\n<p>the 2 separate String[] arrays should be filled as following:</p>\n<pre><code>splits[0]=&quot;voc1&quot;\nsplits[1]=&quot;voc2&quot;\nsplits[2]=&quot;voc3&quot;\nsplits[3]=&quot;voc4&quot;\n\nlines[0]=&quot;deut1&quot;\nlines[1]=&quot;deut2&quot;\nlines[2]=&quot;deut3&quot;\nlines[3]=&quot;deut4&quot;\n</code></pre>\n<p>The first of both work perfectly [0], but from then on\nit collapses into a horrible mess like [1]:</p>\n<pre><code>splits[1]: deut2\nvoc3\nlines[1]: voc2  deut2\n</code></pre>\n<p>Here is the old version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class raplacer {\n\n    public static void main(String[] args) {\n        String text= &quot;voc1  deut1\\nvoc2 deut2\\nvoc3 deut3\\nvoc4 deut4&quot;;\n\n        String[] splits = null;\n        String[] lines = null;\n        int numbSplits =0;\n        int numbLines =0;\n\n        for(int i=0; i&lt;3;i++) {\n            System.out.print(&quot;nextLine:  &quot; + text.indexOf(&quot;\\n&quot;));\n            System.out.println(&quot;    nextTab:   &quot; + text.indexOf(&quot;   &quot;));\n            if(text.indexOf(&quot;\\n&quot;)&gt;text.indexOf(&quot;    &quot;)) {\n                splits=text.split(&quot; &quot;);\n                splits[numbSplits+1]=&quot;&quot;;\n                text=text.replaceFirst(splits[numbSplits], &quot;&quot;);\n                System.out.println(&quot;Text:\\n&quot; + text);\n                text=text.replaceFirst(&quot;    &quot;, &quot;&quot;);\n                System.out.println(&quot;Text:\\n&quot; + text);\n                numbSplits++;\n                System.out.println(&quot;Splitet a Tab away&quot;);\n            }\n            else if(text.indexOf(&quot;\\n&quot;)&lt;text.indexOf(&quot;   &quot;)) {\n                lines=text.split(&quot;\\n&quot;);\n                lines[numbLines+1]=&quot;&quot;;\n                text=text.replaceFirst(lines[numbLines], &quot;&quot;);\n                System.out.println(&quot;Text:\\n&quot; + text);\n                text=text.replaceFirst(&quot;\\n&quot;, &quot;&quot;);\n                System.out.println(&quot;Text:\\n&quot; + text);\n                numbLines++;\n                System.out.println(&quot;Splited a Line away&quot;);\n            }\n        }\n        System.out.println(&quot;Text:\\n&quot; + text);\n        System.out.println();\n        System.out.println(&quot;splits0: &quot; + splits[0]);\n        System.out.println(&quot;splits1: &quot; + splits[1]);\n        System.out.println();\n        System.out.println(&quot;lines0: &quot; + lines[0]);\n        System.out.println(&quot;lines1: &quot; + lines[1]);\n    }\n}\n</code></pre>\n<p>EDIT 02.10.2022 - I got it working by changing a lot here is my version if you want to have a look at it:</p>\n<p>At the String <code>text</code> the whole string, that is going to get split up, is passed in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>text=text+&quot;\\n   &quot;;\nString[] splits = null;\nString[] lines = null;\nint numbSplits =0;\nint numbLines =0;\nint run = 0;\nwhile(text.length()&gt;4) {\n\n    //DEBUG\n    run++;\n    try{\n        Thread.sleep(100);\n    }\n    catch (InterruptedException ex){\n    }\n    System.out.println(&quot;LENGHT: &quot; +text.length());\n    System.out.println(&quot;NEXT TAB &quot; + text.indexOf(&quot; &quot;) + &quot; NEXT LINE &quot; + text.indexOf(&quot;\\n&quot;));\n    if(run == 5||run == 10||run == 15||run == 20) {\n        System.out.println(text);\n        try{\n            Thread.sleep(1300);\n        }\n        catch (InterruptedException ex){}\n    }\n    if(run==20) {\n        break;\n    }\n\n    //DEBUG\n    if(text.indexOf(&quot;\\n&quot;)&gt;text.indexOf(&quot;    &quot;)) {\n        splits=text.split(&quot; &quot;,0);\n        spanischList.add(splits[0]);\n        text=text.replaceFirst(spanischList.get(numbSplits), &quot;&quot;);\n        text=text.replaceFirst(&quot;    &quot;, &quot;&quot;);\n        splits=null;\n        numbSplits++;\n    }\n    else if(text.indexOf(&quot;\\n&quot;)&lt;text.indexOf(&quot;   &quot;)) {\n        lines=text.split(&quot;\\n&quot;);\n        deutschList.add(lines[0]);\n        text=text.replaceFirst(deutschList.get(numbLines), &quot;&quot;);\n        text=text.replaceFirst(&quot;\\n&quot;, &quot;&quot;);\n        lines=null;\n        numbLines++;\n        nrOfVoc +=1;\n    }\n}\n</code></pre>\n<p>(You can comment out that <code>DEBUG</code>, it is just for debugging...)</p>\n<p>And at my PC it can't cope with öäüñ cause my PC won't let me change its encoding to UTF-8, but that's another story...</p>\n"},{"tags":["java","jackson","java-time"],"comments":[{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1664805340,"post_id":73928215,"comment_id":130549018,"body_markdown":"Add `com.fasterxml.jackson.datatype:jackson-datatype-jsr310` module to your `ObjectMapper`. Add dependency and register it manually if it is not loaded automatically - `objectMapper.registerModule(new JavaTimeModule());` See that question: [Could not find artifact Jackson-modules-java8:jar](https://stackoverflow.com/questions/54810554/could-not-find-artifact-jackson-modules-java8jar/54810984#54810984)","body":"Add <code>com.fasterxml.jackson.datatype:jackson-datatype-jsr310</code> module to your <code>ObjectMapper</code>. Add dependency and register it manually if it is not loaded automatically - <code>objectMapper.registerModule(new JavaTimeModule());</code> See that question: <a href=\"https://stackoverflow.com/questions/54810554/could-not-find-artifact-jackson-modules-java8jar/54810984#54810984\">Could not find artifact Jackson-modules-java8:jar</a>"},{"owner":{"account_id":2729652,"reputation":5593,"user_id":2353713,"accept_rate":69,"display_name":"Andy"},"score":0,"creation_date":1664983298,"post_id":73928215,"comment_id":130594187,"body_markdown":"@MichałZiober, Will try that. I am wonder why we should add a dependency just to combine the annotations. That&#39;s a Java thing, right?","body":"@MichałZiober, Will try that. I am wonder why we should add a dependency just to combine the annotations. That&#39;s a Java thing, right?"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":1,"creation_date":1664984218,"post_id":73928215,"comment_id":130594530,"body_markdown":"`jackson-datatype-jsr310` module implements serializing and deserializing of `Java 8` date types. This is why you need to include this module.","body":"<code>jackson-datatype-jsr310</code> module implements serializing and deserializing of <code>Java 8</code> date types. This is why you need to include this module."}],"owner":{"account_id":2729652,"reputation":5593,"user_id":2353713,"accept_rate":69,"display_name":"Andy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664734140,"creation_date":1664734095,"question_id":73928215,"body_markdown":"I have a JSON String and I am using Jackson to parse it into a POJO. The incoming JSON string has a different format, so I had to write my own converter to convert the String to `LocalTimeDate` object. I use 2 annotations to achieve this. \r\n\r\n```\r\npublic class Content {\r\n\r\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\r\n    @TDateFormat\r\n    private LocalDateTime modifiedDate;\r\n}\r\n\r\n```\r\n**TDateFormat**: This annotation specifies the date format we need. It also has a default value. \r\n\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface TDateFormat {\r\n\tString value() default &quot;MMM d, yyyy, hh:mm:ss a&quot;;\r\n}\r\n```\r\n\r\n**LocalDateTimeDeserializer**: This holds the logic to deserialize. We use the TDateFormat value get the format to use. I have extracted the logic out to an Util class\r\n\r\n```\r\n@NoArgsConstructor\r\npublic class LocalDateTimeDeserializer extends JsonDeserializer&lt;LocalDateTime&gt; implements ContextualDeserializer {\r\n\r\n    private String format;\r\n\r\n\tpublic LocalDateTimeDeserializer(String format) {\r\n\t\tthis.format = format;\r\n\t}\r\n\t@Override\r\n\tpublic JsonDeserializer&lt;?&gt; createContextual(DeserializationContext dc, BeanProperty bp) {\r\n\t\treturn new LocalDateTimeDeserializer(bp.getAnnotation(TDateFormat.class).value());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic LocalDateTime deserialize(JsonParser jp, DeserializationContext dc) throws IOException {\r\n        LocalDateTime localDateTime = Utils.convertDate(jp.getText(), format);\r\n        System.out.println(&quot;Done::: &quot; + localDateTime);\r\n\t\treturn localDateTime;\r\n\t}\r\n}\r\n```\r\nThe above code works fine. Now, I am trying to combine `@TDateFormat` and  `@JsonDeserialize(using = LocalDateTimeDeserializer.class)` to `@TDeserializer`\r\n\r\n@TDeserializer Looks like below.\r\n\r\n```\r\n@JsonDeserialize(using = LocalDateTimeDeserializer.class)\r\n@TDateFormat\r\npublic @interface TDeserializer {\r\n}\r\n```\r\n\r\nAnd I want to use the annotation like this \r\n```\r\npublic class Content {\r\n\r\n    @TDeserializer\r\n    private LocalDateTime modifiedDate;\r\n}\r\n\r\n```\r\nBut I get the following error, when I make this little change.\r\n```\r\n2022-09-29 23:32:09.569 ERROR 90506 --- [ntainer#0-0-C-1] c.t.k.service.impl.KafkaMessageConsumer  : Exception occurred::: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling\r\n at [Source: (String)&quot;{&quot;modifiedDate&quot;:&quot;Sep 29, 2022, 11:25:56 PM&quot; [truncated 149 chars]; line: 1, column: 52] (through reference chain: com.techopact.kafkautil.model.Article[&quot;modifiedDate&quot;])\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling\r\n\r\n```\r\nCan anyone please let me know what more I have to do to combine the annotations? ","title":"Unable to combine Annotations","body":"<p>I have a JSON String and I am using Jackson to parse it into a POJO. The incoming JSON string has a different format, so I had to write my own converter to convert the String to <code>LocalTimeDate</code> object. I use 2 annotations to achieve this.</p>\n<pre><code>public class Content {\n\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\n    @TDateFormat\n    private LocalDateTime modifiedDate;\n}\n\n</code></pre>\n<p><strong>TDateFormat</strong>: This annotation specifies the date format we need. It also has a default value.</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\npublic @interface TDateFormat {\n    String value() default &quot;MMM d, yyyy, hh:mm:ss a&quot;;\n}\n</code></pre>\n<p><strong>LocalDateTimeDeserializer</strong>: This holds the logic to deserialize. We use the TDateFormat value get the format to use. I have extracted the logic out to an Util class</p>\n<pre><code>@NoArgsConstructor\npublic class LocalDateTimeDeserializer extends JsonDeserializer&lt;LocalDateTime&gt; implements ContextualDeserializer {\n\n    private String format;\n\n    public LocalDateTimeDeserializer(String format) {\n        this.format = format;\n    }\n    @Override\n    public JsonDeserializer&lt;?&gt; createContextual(DeserializationContext dc, BeanProperty bp) {\n        return new LocalDateTimeDeserializer(bp.getAnnotation(TDateFormat.class).value());\n    }\n\n    @Override\n    public LocalDateTime deserialize(JsonParser jp, DeserializationContext dc) throws IOException {\n        LocalDateTime localDateTime = Utils.convertDate(jp.getText(), format);\n        System.out.println(&quot;Done::: &quot; + localDateTime);\n        return localDateTime;\n    }\n}\n</code></pre>\n<p>The above code works fine. Now, I am trying to combine <code>@TDateFormat</code> and  <code>@JsonDeserialize(using = LocalDateTimeDeserializer.class)</code> to <code>@TDeserializer</code></p>\n<p>@TDeserializer Looks like below.</p>\n<pre><code>@JsonDeserialize(using = LocalDateTimeDeserializer.class)\n@TDateFormat\npublic @interface TDeserializer {\n}\n</code></pre>\n<p>And I want to use the annotation like this</p>\n<pre><code>public class Content {\n\n    @TDeserializer\n    private LocalDateTime modifiedDate;\n}\n\n</code></pre>\n<p>But I get the following error, when I make this little change.</p>\n<pre><code>2022-09-29 23:32:09.569 ERROR 90506 --- [ntainer#0-0-C-1] c.t.k.service.impl.KafkaMessageConsumer  : Exception occurred::: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling\n at [Source: (String)&quot;{&quot;modifiedDate&quot;:&quot;Sep 29, 2022, 11:25:56 PM&quot; [truncated 149 chars]; line: 1, column: 52] (through reference chain: com.techopact.kafkautil.model.Article[&quot;modifiedDate&quot;])\n\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling\n\n</code></pre>\n<p>Can anyone please let me know what more I have to do to combine the annotations?</p>\n"},{"tags":["java","oracle","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1664802293,"post_id":73928219,"comment_id":130547888,"body_markdown":"How many entities do you have?","body":"How many entities do you have?"},{"owner":{"account_id":24192375,"reputation":155,"user_id":18151426,"display_name":"Xi Minghui"},"score":0,"creation_date":1664819388,"post_id":73928219,"comment_id":130553643,"body_markdown":"@Simon Martinelli I don&#39;t have many entities, about 5~20 in total.","body":"@Simon Martinelli I don&#39;t have many entities, about 5~20 in total."},{"owner":{"account_id":24192375,"reputation":155,"user_id":18151426,"display_name":"Xi Minghui"},"score":0,"creation_date":1664819648,"post_id":73928219,"comment_id":130553723,"body_markdown":"@Simon Martinelli This project uses MyBatis-Plus as the persistence framework. JPA was introduced when I take over the project, and now there are two persistence frameworks. I guess the JPA slow was not caused by MyBatis-Plus.","body":"@Simon Martinelli This project uses MyBatis-Plus as the persistence framework. JPA was introduced when I take over the project, and now there are two persistence frameworks. I guess the JPA slow was not caused by MyBatis-Plus."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1664819954,"post_id":73928219,"comment_id":130553837,"body_markdown":"&#39;ddl-auto&#39; is NOT part of JPA. As you can see, Hibernate is getting the metadata for your 3000 tables and determining which, if any, are what it needs to use for the defined entities, and what modifications it might need to make to them. This is why DDL features are a developer tools. If you need specific tables create in specific ways, generate a script and use that during deployment or at specific times instead of every time you restart the application.","body":"&#39;ddl-auto&#39; is NOT part of JPA. As you can see, Hibernate is getting the metadata for your 3000 tables and determining which, if any, are what it needs to use for the defined entities, and what modifications it might need to make to them. This is why DDL features are a developer tools. If you need specific tables create in specific ways, generate a script and use that during deployment or at specific times instead of every time you restart the application."},{"owner":{"account_id":24192375,"reputation":155,"user_id":18151426,"display_name":"Xi Minghui"},"score":0,"creation_date":1664821301,"post_id":73928219,"comment_id":130554218,"body_markdown":"@Chris Thank you for the explanation. Is there a way to improve it? I&#39;m not using DDL for production, I just want Hibernate to help me create some new tables and print the resulting SQL statements because I don&#39;t want to write them by hand.","body":"@Chris Thank you for the explanation. Is there a way to improve it? I&#39;m not using DDL for production, I just want Hibernate to help me create some new tables and print the resulting SQL statements because I don&#39;t want to write them by hand."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1664825273,"post_id":73928219,"comment_id":130555290,"body_markdown":"Create option sometimes is faster in some JPA providers, as it will just generate and execute create table statements without need to check the existing metadata. But if you are looking to modify existing tables; no. Only option there might be to pick a database that has fewer tables visible so the scope is smaller.","body":"Create option sometimes is faster in some JPA providers, as it will just generate and execute create table statements without need to check the existing metadata. But if you are looking to modify existing tables; no. Only option there might be to pick a database that has fewer tables visible so the scope is smaller."}],"owner":{"account_id":24192375,"reputation":155,"user_id":18151426,"display_name":"Xi Minghui"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664734106,"creation_date":1664734106,"question_id":73928219,"body_markdown":"Hibernate starts very slowly(About 5 to 20 minutes) when ```ddl-auto: update```, not if it is ```none```. After debugging, I found the code eventually stopped at the while loop in method ```populateTablesWithColumns``` of ```org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl``` class.\r\n\r\nCode of this method:\r\n```Java\r\nprivate void populateTablesWithColumns(\r\n\t\tString catalogFilter,\r\n\t\tString schemaFilter,\r\n\t\tNameSpaceTablesInformation tables) {\r\n\ttry {\r\n\t\tResultSet resultSet = extractionContext.getJdbcDatabaseMetaData().getColumns(\r\n\t\t\t\tcatalogFilter,\r\n\t\t\t\tschemaFilter,\r\n\t\t\t\tnull,\r\n\t\t\t\t&quot;%&quot;\r\n\t\t);\r\n\t\ttry {\r\n\t\t\tString currentTableName = &quot;&quot;;\r\n\t\t\tTableInformation currentTable = null;\r\n\t\t\twhile ( resultSet.next() ) {\r\n\t\t\t\tif ( !currentTableName.equals( resultSet.getString( &quot;TABLE_NAME&quot; ) ) ) {\r\n\t\t\t\t\tcurrentTableName = resultSet.getString( &quot;TABLE_NAME&quot; );\r\n\t\t\t\t\tcurrentTable = tables.getTableInformation( currentTableName );\r\n\t\t\t\t}\r\n\t\t\t\tif ( currentTable != null ) {\r\n\t\t\t\t\tfinal ColumnInformationImpl columnInformation = new ColumnInformationImpl(\r\n\t\t\t\t\t\t\tcurrentTable,\r\n\t\t\t\t\t\t\tDatabaseIdentifier.toIdentifier( resultSet.getString( &quot;COLUMN_NAME&quot; ) ),\r\n\t\t\t\t\t\t\tresultSet.getInt( &quot;DATA_TYPE&quot; ),\r\n\t\t\t\t\t\t\tnew StringTokenizer( resultSet.getString( &quot;TYPE_NAME&quot; ), &quot;() &quot; ).nextToken(),\r\n\t\t\t\t\t\t\tresultSet.getInt( &quot;COLUMN_SIZE&quot; ),\r\n\t\t\t\t\t\t\tresultSet.getInt( &quot;DECIMAL_DIGITS&quot; ),\r\n\t\t\t\t\t\t\tinterpretTruthValue( resultSet.getString( &quot;IS_NULLABLE&quot; ) )\r\n\t\t\t\t\t);\r\n\t\t\t\t\tcurrentTable.addColumn( columnInformation );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tresultSet.close();\r\n\t\t}\r\n\t}\r\n\tcatch (SQLException e) {\r\n\t\tthrow convertSQLException(\r\n\t\t\t\te,\r\n\t\t\t\t&quot;Error accessing tables metadata&quot;\r\n\t\t);\r\n\t}\r\n}\r\n```\r\nThe database used by the project is ```Oracle 11g```(may be more than 3000 tables and millions of rows of data), Hibernate version is ```5.4.x```, and the type of ```resultSet``` object in the loop body is ```com.zaxxer.hikari.pool.HikariProxyResultSet```.\r\n\r\nThis is the invoke stack information when I debugging:\r\n```\r\npopulateTablesWithColumns:368, InformationExtractorJdbcDatabaseMetaDataImpl (org.hibernate.tool.schema.extract.internal)\r\ngetTables:341, InformationExtractorJdbcDatabaseMetaDataImpl (org.hibernate.tool.schema.extract.internal)\r\ngetTablesInformation:120, DatabaseInformationImpl (org.hibernate.tool.schema.extract.internal)\r\nperformTablesMigration:65, GroupedSchemaMigratorImpl (org.hibernate.tool.schema.internal)\r\nperformMigration:207, AbstractSchemaMigrator (org.hibernate.tool.schema.internal)\r\ndoMigration:114, AbstractSchemaMigrator (org.hibernate.tool.schema.internal)\r\nperformDatabaseAction:184, SchemaManagementToolCoordinator (org.hibernate.tool.schema.spi)\r\nprocess:73, SchemaManagementToolCoordinator (org.hibernate.tool.schema.spi)\r\n&lt;init&gt;:318, SessionFactoryImpl (org.hibernate.internal)\r\nbuild:468, SessionFactoryBuilderImpl (org.hibernate.boot.internal)\r\nbuild:1259, EntityManagerFactoryBuilderImpl (org.hibernate.jpa.boot.internal)\r\ncreateContainerEntityManagerFactory:58, SpringHibernateJpaPersistenceProvider (org.springframework.orm.jpa.vendor)\r\ncreateNativeEntityManagerFactory:365, LocalContainerEntityManagerFactoryBean (org.springframework.orm.jpa)\r\nbuildNativeEntityManagerFactory:409, AbstractEntityManagerFactoryBean (org.springframework.orm.jpa)\r\nafterPropertiesSet:396, AbstractEntityManagerFactoryBean (org.springframework.orm.jpa)\r\nafterPropertiesSet:341, LocalContainerEntityManagerFactoryBean (org.springframework.orm.jpa)\r\ninvokeInitMethods:1863, AbstractAutowireCapableBeanFactory (org.springframework.beans.factory.support)\r\ninitializeBean:1800, AbstractAutowireCapableBeanFactory (org.springframework.beans.factory.support)\r\ndoCreateBean:620, AbstractAutowireCapableBeanFactory (org.springframework.beans.factory.support)\r\ncreateBean:542, AbstractAutowireCapableBeanFactory (org.springframework.beans.factory.support)\r\nlambda$doGetBean$0:335, AbstractBeanFactory (org.springframework.beans.factory.support)\r\ngetObject:-1, AbstractBeanFactory$$Lambda$293/0x0000000800e57b40 (org.springframework.beans.factory.support)\r\ngetSingleton:234, DefaultSingletonBeanRegistry (org.springframework.beans.factory.support)\r\ndoGetBean:333, AbstractBeanFactory (org.springframework.beans.factory.support)\r\ngetBean:208, AbstractBeanFactory (org.springframework.beans.factory.support)\r\ngetBean:1154, AbstractApplicationContext (org.springframework.context.support)\r\nfinishBeanFactoryInitialization:908, AbstractApplicationContext (org.springframework.context.support)\r\nrefresh:583, AbstractApplicationContext (org.springframework.context.support)\r\nrefresh:145, ServletWebServerApplicationContext (org.springframework.boot.web.servlet.context)\r\nrefresh:780, SpringApplication (org.springframework.boot)\r\nrefreshContext:453, SpringApplication (org.springframework.boot)\r\nrun:343, SpringApplication (org.springframework.boot)\r\nrun:1370, SpringApplication (org.springframework.boot)\r\nrun:1359, SpringApplication (org.springframework.boot)\r\nmain:19, GroupApplication (com.mycompany.group)\r\n```\r\n\r\nWhat trouble has happened here? Any answers or improvements(Including replacement of JPA implementation) are welcome and thankful.\r\n\r\nThanks very much :)","title":"Why does JPA(Hibernate) with ddl-auto: update start very slowly?","body":"<p>Hibernate starts very slowly(About 5 to 20 minutes) when <code>ddl-auto: update</code>, not if it is <code>none</code>. After debugging, I found the code eventually stopped at the while loop in method <code>populateTablesWithColumns</code> of <code>org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl</code> class.</p>\n<p>Code of this method:</p>\n<pre><code>private void populateTablesWithColumns(\n        String catalogFilter,\n        String schemaFilter,\n        NameSpaceTablesInformation tables) {\n    try {\n        ResultSet resultSet = extractionContext.getJdbcDatabaseMetaData().getColumns(\n                catalogFilter,\n                schemaFilter,\n                null,\n                &quot;%&quot;\n        );\n        try {\n            String currentTableName = &quot;&quot;;\n            TableInformation currentTable = null;\n            while ( resultSet.next() ) {\n                if ( !currentTableName.equals( resultSet.getString( &quot;TABLE_NAME&quot; ) ) ) {\n                    currentTableName = resultSet.getString( &quot;TABLE_NAME&quot; );\n                    currentTable = tables.getTableInformation( currentTableName );\n                }\n                if ( currentTable != null ) {\n                    final ColumnInformationImpl columnInformation = new ColumnInformationImpl(\n                            currentTable,\n                            DatabaseIdentifier.toIdentifier( resultSet.getString( &quot;COLUMN_NAME&quot; ) ),\n                            resultSet.getInt( &quot;DATA_TYPE&quot; ),\n                            new StringTokenizer( resultSet.getString( &quot;TYPE_NAME&quot; ), &quot;() &quot; ).nextToken(),\n                            resultSet.getInt( &quot;COLUMN_SIZE&quot; ),\n                            resultSet.getInt( &quot;DECIMAL_DIGITS&quot; ),\n                            interpretTruthValue( resultSet.getString( &quot;IS_NULLABLE&quot; ) )\n                    );\n                    currentTable.addColumn( columnInformation );\n                }\n            }\n        }\n        finally {\n            resultSet.close();\n        }\n    }\n    catch (SQLException e) {\n        throw convertSQLException(\n                e,\n                &quot;Error accessing tables metadata&quot;\n        );\n    }\n}\n</code></pre>\n<p>The database used by the project is <code>Oracle 11g</code>(may be more than 3000 tables and millions of rows of data), Hibernate version is <code>5.4.x</code>, and the type of <code>resultSet</code> object in the loop body is <code>com.zaxxer.hikari.pool.HikariProxyResultSet</code>.</p>\n<p>This is the invoke stack information when I debugging:</p>\n<pre><code>populateTablesWithColumns:368, InformationExtractorJdbcDatabaseMetaDataImpl (org.hibernate.tool.schema.extract.internal)\ngetTables:341, InformationExtractorJdbcDatabaseMetaDataImpl (org.hibernate.tool.schema.extract.internal)\ngetTablesInformation:120, DatabaseInformationImpl (org.hibernate.tool.schema.extract.internal)\nperformTablesMigration:65, GroupedSchemaMigratorImpl (org.hibernate.tool.schema.internal)\nperformMigration:207, AbstractSchemaMigrator (org.hibernate.tool.schema.internal)\ndoMigration:114, AbstractSchemaMigrator (org.hibernate.tool.schema.internal)\nperformDatabaseAction:184, SchemaManagementToolCoordinator (org.hibernate.tool.schema.spi)\nprocess:73, SchemaManagementToolCoordinator (org.hibernate.tool.schema.spi)\n&lt;init&gt;:318, SessionFactoryImpl (org.hibernate.internal)\nbuild:468, SessionFactoryBuilderImpl (org.hibernate.boot.internal)\nbuild:1259, EntityManagerFactoryBuilderImpl (org.hibernate.jpa.boot.internal)\ncreateContainerEntityManagerFactory:58, SpringHibernateJpaPersistenceProvider (org.springframework.orm.jpa.vendor)\ncreateNativeEntityManagerFactory:365, LocalContainerEntityManagerFactoryBean (org.springframework.orm.jpa)\nbuildNativeEntityManagerFactory:409, AbstractEntityManagerFactoryBean (org.springframework.orm.jpa)\nafterPropertiesSet:396, AbstractEntityManagerFactoryBean (org.springframework.orm.jpa)\nafterPropertiesSet:341, LocalContainerEntityManagerFactoryBean (org.springframework.orm.jpa)\ninvokeInitMethods:1863, AbstractAutowireCapableBeanFactory (org.springframework.beans.factory.support)\ninitializeBean:1800, AbstractAutowireCapableBeanFactory (org.springframework.beans.factory.support)\ndoCreateBean:620, AbstractAutowireCapableBeanFactory (org.springframework.beans.factory.support)\ncreateBean:542, AbstractAutowireCapableBeanFactory (org.springframework.beans.factory.support)\nlambda$doGetBean$0:335, AbstractBeanFactory (org.springframework.beans.factory.support)\ngetObject:-1, AbstractBeanFactory$$Lambda$293/0x0000000800e57b40 (org.springframework.beans.factory.support)\ngetSingleton:234, DefaultSingletonBeanRegistry (org.springframework.beans.factory.support)\ndoGetBean:333, AbstractBeanFactory (org.springframework.beans.factory.support)\ngetBean:208, AbstractBeanFactory (org.springframework.beans.factory.support)\ngetBean:1154, AbstractApplicationContext (org.springframework.context.support)\nfinishBeanFactoryInitialization:908, AbstractApplicationContext (org.springframework.context.support)\nrefresh:583, AbstractApplicationContext (org.springframework.context.support)\nrefresh:145, ServletWebServerApplicationContext (org.springframework.boot.web.servlet.context)\nrefresh:780, SpringApplication (org.springframework.boot)\nrefreshContext:453, SpringApplication (org.springframework.boot)\nrun:343, SpringApplication (org.springframework.boot)\nrun:1370, SpringApplication (org.springframework.boot)\nrun:1359, SpringApplication (org.springframework.boot)\nmain:19, GroupApplication (com.mycompany.group)\n</code></pre>\n<p>What trouble has happened here? Any answers or improvements(Including replacement of JPA implementation) are welcome and thankful.</p>\n<p>Thanks very much :)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1392943639,"post_id":21922891,"comment_id":33206124,"body_markdown":"definitely confused me.","body":"definitely confused me."},{"owner":{"account_id":1561904,"reputation":6160,"user_id":1451599,"accept_rate":50,"display_name":"dirkk"},"score":0,"creation_date":1392943679,"post_id":21922891,"comment_id":33206137,"body_markdown":"You are right, it does confuse me. It is unclear what you are trying to achieve and what your actual problem is. If you want an `add()` method, what stops you from writing one? What does it has to do with collections?","body":"You are right, it does confuse me. It is unclear what you are trying to achieve and what your actual problem is. If you want an <code>add()</code> method, what stops you from writing one? What does it has to do with collections?"},{"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"score":0,"creation_date":1392943726,"post_id":21922891,"comment_id":33206152,"body_markdown":"Just to point out the obvious: `Weapon w = new Weapon(new Gun(...))` doesn&#39;t really make sense to me. On the other hand, `Weapon w = new Gun(...)` does.","body":"Just to point out the obvious: <code>Weapon w = new Weapon(new Gun(...))</code> doesn&#39;t really make sense to me. On the other hand, <code>Weapon w = new Gun(...)</code> does."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1392943736,"post_id":21922891,"comment_id":33206157,"body_markdown":"Personally, no, it&#39;s not, technically `Collection`, unless all the objects you are trying to add are based from a common parent, then it might be, but considering you are trying to provide functionality different objects types, I&#39;d personally avoid it.  Instead, I would use a `List` internally for each type of object you want to included, assuming you can have more than one.","body":"Personally, no, it&#39;s not, technically <code>Collection</code>, unless all the objects you are trying to add are based from a common parent, then it might be, but considering you are trying to provide functionality different objects types, I&#39;d personally avoid it.  Instead, I would use a <code>List</code> internally for each type of object you want to included, assuming you can have more than one."},{"owner":{"account_id":4048672,"reputation":1239,"user_id":3329080,"display_name":"exception1"},"score":0,"creation_date":1392943761,"post_id":21922891,"comment_id":33206165,"body_markdown":"If the desired behavior of `Weapon` ist not only similar to, but actually the same as the behavior of Collections (as I understood), why do you want to reimplement it? Just reuse the classes the Java API offer. Extending is an option, but also just adding a collection as a class member is easy to implement.","body":"If the desired behavior of <code>Weapon</code> ist not only similar to, but actually the same as the behavior of Collections (as I understood), why do you want to reimplement it? Just reuse the classes the Java API offer. Extending is an option, but also just adding a collection as a class member is easy to implement."}],"answers":[{"tags":[],"owner":{"account_id":3143168,"reputation":1687,"user_id":2658226,"accept_rate":57,"display_name":"Shahar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392943823,"creation_date":1392943823,"answer_id":21922973,"question_id":21922891,"body_markdown":"You don&#39;t necessarily have to do a `new Gun()` when you instantiate. You can just do the following:\r\n\r\n    class Weapon\r\n    {\r\n        private Gun gun;\r\n        public Weapon()\r\n        {\r\n            gun = new Gun(); //etc.\r\n        }\r\n        //add more methods here. You can use gun.function() to invoke any functions\r\n    }\r\nAs for using a `Weapon` object, just declare public methods in the `Weapon` class and then invoke them in your methods.\r\n\r\nFor example, the `add()` function:\r\n\r\n    class Weapon\r\n    {\r\n        ...\r\n        public int val() { return 0; } // don&#39;t know, some random method.\r\n    }\r\n\r\nThen on a different file:\r\n\r\n    int add(Weapon w)\r\n    {\r\n        return Weapon.val() + 1111; //perform something here\r\n    }\r\n\r\nI hope this answers your questions, it was a little bit unclear :|. Comment if you need more help.","title":"An add method to add objects in your custom java class","body":"<p>You don't necessarily have to do a <code>new Gun()</code> when you instantiate. You can just do the following:</p>\n\n<pre><code>class Weapon\n{\n    private Gun gun;\n    public Weapon()\n    {\n        gun = new Gun(); //etc.\n    }\n    //add more methods here. You can use gun.function() to invoke any functions\n}\n</code></pre>\n\n<p>As for using a <code>Weapon</code> object, just declare public methods in the <code>Weapon</code> class and then invoke them in your methods.</p>\n\n<p>For example, the <code>add()</code> function:</p>\n\n<pre><code>class Weapon\n{\n    ...\n    public int val() { return 0; } // don't know, some random method.\n}\n</code></pre>\n\n<p>Then on a different file:</p>\n\n<pre><code>int add(Weapon w)\n{\n    return Weapon.val() + 1111; //perform something here\n}\n</code></pre>\n\n<p>I hope this answers your questions, it was a little bit unclear :|. Comment if you need more help.</p>\n"},{"tags":[],"owner":{"account_id":2540065,"reputation":1086,"user_id":2206044,"accept_rate":100,"display_name":"Azar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392944198,"creation_date":1392944198,"answer_id":21923041,"question_id":21922891,"body_markdown":"Your question is a bit unclear to me, but I&#39;ll try my best.\r\n\r\nIf you want to have a `List` of `Weapon`, then you need to use inheritance. In your example, A `Gun` is-a `Weapon`. Therefore, you can do `class Gun extends Weapon`. Then, let&#39;s say you&#39;re using an `ArrayList`, you would instantiate it like: \r\n\r\n    List&lt;Weapon&gt; weapons = new ArrayList&lt;Weapon&gt;();\r\n\r\n You can now call add with a `Gun`, or any other sub-class of `Weapon` like so:  \r\n \r\n    weapons.add(new Gun()); //or\r\n    weapons.add(new Cannon());\r\n\r\nIf you actually need to add a `Gun` to a `Weapon` (Which doesn&#39;t really make sense...), you can use composition. See Shahar&#39;s answer for a more detailed explanation of this behavior.\r\n\r\nJust to clarify, no matter what, I&#39;m pretty sure creating a new Collection is _**not**_ what you want to do here. ","title":"An add method to add objects in your custom java class","body":"<p>Your question is a bit unclear to me, but I'll try my best.</p>\n\n<p>If you want to have a <code>List</code> of <code>Weapon</code>, then you need to use inheritance. In your example, A <code>Gun</code> is-a <code>Weapon</code>. Therefore, you can do <code>class Gun extends Weapon</code>. Then, let's say you're using an <code>ArrayList</code>, you would instantiate it like: </p>\n\n<pre><code>List&lt;Weapon&gt; weapons = new ArrayList&lt;Weapon&gt;();\n</code></pre>\n\n<p>You can now call add with a <code>Gun</code>, or any other sub-class of <code>Weapon</code> like so:  </p>\n\n<pre><code>weapons.add(new Gun()); //or\nweapons.add(new Cannon());\n</code></pre>\n\n<p>If you actually need to add a <code>Gun</code> to a <code>Weapon</code> (Which doesn't really make sense...), you can use composition. See Shahar's answer for a more detailed explanation of this behavior.</p>\n\n<p>Just to clarify, no matter what, I'm pretty sure creating a new Collection is <em><strong>not</strong></em> what you want to do here. </p>\n"},{"tags":[],"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392944452,"creation_date":1392944452,"answer_id":21923090,"question_id":21922891,"body_markdown":"These are a lot of questions :-) let&#39;s enumerate them\r\n\r\n 1. creating a method called add() into an object makes this object a Collection? No. To be a Collection, a class must implement the interface java.util.Collection or implement any one of the subinterfaces or extend any of the subclasses that implement this interface. A list of them is available in the Collection javadoc - http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html\r\n 2. if I want to add an object into another, it must be via the constructor? e.g. new Weapon(new Gun())? Not necessarily. You can just create a Weapon w = new Weapon() and then add the Gun reference via a method such as w.setGun(new Gun()). Anyway, any constructor with one or more parameters must be declared explicitly in your class. Only the non-parameter constructor is available by default.\r\n\r\nNow, let&#39;s suppose that you want to store a class Gun that is a subclass of a class Weapon. Then you first need to define the hierarchy between them, for example\r\n\r\n\tclass Weapon{\t\t\r\n\t}\r\n\t\r\n\tclass WeaponWithBlade extends Weapon{\t\t\r\n\t}\r\n\t\r\n\tclass Sword extends WeaponWithBlade{\t\t\r\n\t}\r\n\r\n\tclass Knife extends WeaponWithBlade{\t\t\r\n\t}\r\n\r\n\tclass Gun extends Weapon{\t\t\r\n\t}\r\n\r\nand then you want to store all these weapons in a Weapon collection.\r\n\r\nsince all of them are subclasses of the Weapon class, it&#39;s valid to do something like this\r\n\r\n\t\tjava.util.List&lt;Weapon&gt; weapons = new java.util.ArrayList&lt;&gt;();\r\n\t\tweapons.add(new Sword());\r\n\t\tweapons.add(new Gun());\r\n\r\nnotice that both List and ArrayList are collections (List is an interface and ArrayList is a concrete class that implements the List interface), parametrized to be collections of Weapons.\r\n\r\nI hope this can help you.\r\n","title":"An add method to add objects in your custom java class","body":"<p>These are a lot of questions :-) let's enumerate them</p>\n\n<ol>\n<li>creating a method called add() into an object makes this object a Collection? No. To be a Collection, a class must implement the interface java.util.Collection or implement any one of the subinterfaces or extend any of the subclasses that implement this interface. A list of them is available in the Collection javadoc - <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html</a></li>\n<li>if I want to add an object into another, it must be via the constructor? e.g. new Weapon(new Gun())? Not necessarily. You can just create a Weapon w = new Weapon() and then add the Gun reference via a method such as w.setGun(new Gun()). Anyway, any constructor with one or more parameters must be declared explicitly in your class. Only the non-parameter constructor is available by default.</li>\n</ol>\n\n<p>Now, let's suppose that you want to store a class Gun that is a subclass of a class Weapon. Then you first need to define the hierarchy between them, for example</p>\n\n<pre><code>class Weapon{       \n}\n\nclass WeaponWithBlade extends Weapon{       \n}\n\nclass Sword extends WeaponWithBlade{        \n}\n\nclass Knife extends WeaponWithBlade{        \n}\n\nclass Gun extends Weapon{       \n}\n</code></pre>\n\n<p>and then you want to store all these weapons in a Weapon collection.</p>\n\n<p>since all of them are subclasses of the Weapon class, it's valid to do something like this</p>\n\n<pre><code>    java.util.List&lt;Weapon&gt; weapons = new java.util.ArrayList&lt;&gt;();\n    weapons.add(new Sword());\n    weapons.add(new Gun());\n</code></pre>\n\n<p>notice that both List and ArrayList are collections (List is an interface and ArrayList is a concrete class that implements the List interface), parametrized to be collections of Weapons.</p>\n\n<p>I hope this can help you.</p>\n"},{"tags":[],"owner":{"account_id":3959361,"reputation":51,"user_id":3266889,"display_name":"chenthil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392945278,"creation_date":1392945278,"answer_id":21923244,"question_id":21922891,"body_markdown":" \r\n\r\n    List&lt;Object&gt; weapons = new ArrayList&lt;Object&gt;();    \r\n    \r\n    weapons.add(new Sword());     \r\n    weapons.add(new Gun());\r\n\r\ntry this.","title":"An add method to add objects in your custom java class","body":"<pre><code>List&lt;Object&gt; weapons = new ArrayList&lt;Object&gt;();    \n\nweapons.add(new Sword());     \nweapons.add(new Gun());\n</code></pre>\n\n<p>try this.</p>\n"}],"owner":{"account_id":4021128,"reputation":545,"user_id":3311433,"accept_rate":76,"display_name":"Htlcs"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1664733985,"creation_date":1392943465,"question_id":21922891,"body_markdown":"A simple question on Java class \r\n\r\nI want to create my class with my own add method which adds an object of a different class.\r\n\r\nFor eg if my class name is Weapon, I want to create an add method like void add(Gun gun) (Gun being one of my other classes for example)\r\n\r\nThis would be just like creating your own collection maybe??? if I am not wrong? Like list.add() method, I want to implement my own add method for the Weapon class\r\n\r\nSo when I instantiate an object of my weapon class, it should be like\r\nWeapon w = new Weapon(new Gun( ... .. constructor parameters) )\r\n\r\nAlso I would like to have variants of my add methods. Like a different add method with different parameters like void add(Weapon weapon) ( creating an method to add your own class object )\r\n\r\nSo I am not sure if this is similar to implementing a collection?? And if it is how do I achieve it? Do I have to extend another class for this?\r\n\r\nApologies if my question confused anyone! :)\r\n\r\n","title":"An add method to add objects in your custom java class","body":"<p>A simple question on Java class </p>\n\n<p>I want to create my class with my own add method which adds an object of a different class.</p>\n\n<p>For eg if my class name is Weapon, I want to create an add method like void add(Gun gun) (Gun being one of my other classes for example)</p>\n\n<p>This would be just like creating your own collection maybe??? if I am not wrong? Like list.add() method, I want to implement my own add method for the Weapon class</p>\n\n<p>So when I instantiate an object of my weapon class, it should be like\nWeapon w = new Weapon(new Gun( ... .. constructor parameters) )</p>\n\n<p>Also I would like to have variants of my add methods. Like a different add method with different parameters like void add(Weapon weapon) ( creating an method to add your own class object )</p>\n\n<p>So I am not sure if this is similar to implementing a collection?? And if it is how do I achieve it? Do I have to extend another class for this?</p>\n\n<p>Apologies if my question confused anyone! :)</p>\n"},{"tags":["java","aop","guice"],"comments":[{"owner":{"account_id":1744405,"reputation":28860,"user_id":1594933,"accept_rate":74,"display_name":"gontard"},"score":0,"creation_date":1364218635,"post_id":15602889,"comment_id":22149177,"body_markdown":"Did you read [this](https://code.google.com/p/google-guice/wiki/AOP) ?","body":"Did you read <a href=\"https://code.google.com/p/google-guice/wiki/AOP\" rel=\"nofollow noreferrer\">this</a> ?"},{"owner":{"account_id":211270,"reputation":10872,"user_id":463324,"accept_rate":77,"display_name":"condit"},"score":1,"creation_date":1364231921,"post_id":15602889,"comment_id":22157745,"body_markdown":"If you use Guice AOP you need to make sure that all `Vector` elements are created by Guice. You&#39;d need to prevent clients from creating new instances without going through some factory that Guice controls.","body":"If you use Guice AOP you need to make sure that all <code>Vector</code> elements are created by Guice. You&#39;d need to prevent clients from creating new instances without going through some factory that Guice controls."}],"owner":{"account_id":80776,"reputation":4759,"user_id":228173,"accept_rate":75,"display_name":"Shuo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664733770,"creation_date":1364152985,"question_id":15602889,"body_markdown":"How can we use AOP from the Guice library to make certain assertions on method parameters?\r\n\r\nI implemented a `Vector` class for linear algebra computation. \r\n\r\n    class Vector{\r\n        int n; // dimensions\r\n        Vector sum(List&lt;Float&gt; v2){...}\r\n        Vector sub(List&lt;Float&gt; v2){...}\r\n        ...\r\n    }\r\n\r\nThe methods in Vector class normally take a List of float `v2`. \r\nBefore doing computation, I&#39;d like to throw an exception if the `v2` does not the same dimension as the vector `this`. \r\n\r\n  \r\n\r\n      if (v2.size() != n)\r\n       throw new IllegalArgumentException(String.format(&quot;v2.size() should be %d, but is %d.&quot;, n, v2.size()));\r\n\r\nI could copy the same code for every single method that takes `v2` as a parameter, but it&#39;s tedious.\r\n\r\nIs there an easy way to do the same thing using the AOP feature in Guice? Something like:\r\n\r\n     Vector sum(@Dim(this.n) List&lt;Float&gt; v2){...}","title":"making assertions on a function parameter using AOP","body":"<p>How can we use AOP from the Guice library to make certain assertions on method parameters?</p>\n<p>I implemented a <code>Vector</code> class for linear algebra computation.</p>\n<pre><code>class Vector{\n    int n; // dimensions\n    Vector sum(List&lt;Float&gt; v2){...}\n    Vector sub(List&lt;Float&gt; v2){...}\n    ...\n}\n</code></pre>\n<p>The methods in Vector class normally take a List of float <code>v2</code>.\nBefore doing computation, I'd like to throw an exception if the <code>v2</code> does not the same dimension as the vector <code>this</code>.</p>\n<pre><code>  if (v2.size() != n)\n   throw new IllegalArgumentException(String.format(&quot;v2.size() should be %d, but is %d.&quot;, n, v2.size()));\n</code></pre>\n<p>I could copy the same code for every single method that takes <code>v2</code> as a parameter, but it's tedious.</p>\n<p>Is there an easy way to do the same thing using the AOP feature in Guice? Something like:</p>\n<pre><code> Vector sum(@Dim(this.n) List&lt;Float&gt; v2){...}\n</code></pre>\n"},{"tags":["java","glassfish"],"answers":[{"tags":[],"owner":{"account_id":10591336,"reputation":3484,"user_id":7801800,"display_name":"Anshul Sharma"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1501737973,"creation_date":1501737973,"answer_id":45475516,"question_id":45474897,"body_markdown":"error is occurring because of missing of  `org.osgi.core` library. you need to use `org.osgi.core` dependency, you can find it below:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.osgi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;org.osgi.core&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Glassfish server Domain starts failed","body":"<p>error is occurring because of missing of  <code>org.osgi.core</code> library. you need to use <code>org.osgi.core</code> dependency, you can find it below:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.osgi&lt;/groupId&gt;\n    &lt;artifactId&gt;org.osgi.core&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3442260,"reputation":1,"user_id":2883924,"display_name":"user2883924"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664733715,"creation_date":1664213876,"answer_id":73857885,"question_id":45474897,"body_markdown":"In my case, it happened because my version of glassfish worked with a different JDK version than the one recommended.\r\nSolution:\r\n1. Install the version of JDK compatible with your version of glasshfish.\r\n2. Change the jdk of your glassfish in your `osgi.properties` file:\r\nOpen the file\r\n`${GLASSFISH_HOME}/glassfish/config/osgi.properties`\r\nand add this line at the end:\r\n`jre-1.8=${jre-1.7}`","title":"Glassfish server Domain starts failed","body":"<p>In my case, it happened because my version of glassfish worked with a different JDK version than the one recommended.\nSolution:</p>\n<ol>\n<li>Install the version of JDK compatible with your version of glasshfish.</li>\n<li>Change the jdk of your glassfish in your <code>osgi.properties</code> file:\nOpen the file\n<code>${GLASSFISH_HOME}/glassfish/config/osgi.properties</code>\nand add this line at the end:\n<code>jre-1.8=${jre-1.7}</code></li>\n</ol>\n"}],"owner":{"account_id":6798247,"reputation":1,"user_id":5232647,"display_name":"Mani Rathinam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664733715,"creation_date":1501734881,"question_id":45474897,"body_markdown":"I installed Glassfish sever in my system. The domain is created when i am installing glassfish server. But the domain couldn&#39;t started after installation. It shows following Error. Kindly anyone suggest solution for this .\r\n\r\n\r\n----------\r\n\r\n\r\n   \r\n\r\n     enWARNING: Failed to install file:/C:/glassfish3/glassfish/modules/glassfish-corba\r\n    -omgapi.jar\r\n    org.osgi.framework.BundleException: Could not create bundle object.\r\n            at org.apache.felix.framework.Felix.installBundle(Felix.java:2785)\r\n            at org.apache.felix.framework.BundleContextImpl.installBundle(BundleCont\r\n    extImpl.java:165)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\r\n    (BundleProvisioner.java:446)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\r\n    Bundles(BundleProvisioner.java:208)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\r\n    er.build(OSGiGlassFishRuntimeBuilder.java:139)\r\n            at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\r\n    .java:157)\r\n            at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\r\n    java:110)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\r\n    GlassFishMain.java:112)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\r\n    java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\r\n    sorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\r\n    in.java:97)\r\n            at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\r\n    Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n            at java.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n            at java.util.ArrayList.get(ArrayList.java:429)\r\n            at org.apache.felix.framework.ExtensionManager.addExtensionBundle(Extens\r\n    ionManager.java:401)\r\n            at org.apache.felix.framework.Felix.installBundle(Felix.java:2751)\r\n            ... 13 more\r\n    \r\n    Aug 03, 2017 9:20:14 AM BundleProvisioner install\r\n    WARNING: Failed to install file:/C:/glassfish3/glassfish/modules/glassfish-extra\r\n    -jre-packages.jar\r\n    org.osgi.framework.BundleException: Could not create bundle object.\r\n            at org.apache.felix.framework.Felix.installBundle(Felix.java:2785)\r\n            at org.apache.felix.framework.BundleContextImpl.installBundle(BundleCont\r\n    extImpl.java:165)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\r\n    (BundleProvisioner.java:446)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\r\n    Bundles(BundleProvisioner.java:208)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\r\n    er.build(OSGiGlassFishRuntimeBuilder.java:139)\r\n            at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\r\n    .java:157)\r\n            at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\r\n    java:110)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\r\n    GlassFishMain.java:112)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\r\n    java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\r\n    sorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\r\n    in.java:97)\r\n            at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\r\n    Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n            at java.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n            at java.util.ArrayList.get(ArrayList.java:429)\r\n            at org.apache.felix.framework.ExtensionManager.addExtensionBundle(Extens\r\n    ionManager.java:401)\r\n            at org.apache.felix.framework.Felix.installBundle(Felix.java:2751)\r\n            ... 13 more\r\n    \r\n    Aug 03, 2017 9:20:14 AM BundleProvisioner install\r\n    WARNING: Failed to install file:/C:/glassfish3/glassfish/modules/glassfish-oracl\r\n    e-jdbc-driver-packages.jar\r\n    org.osgi.framework.BundleException: Could not create bundle object.\r\n            at org.apache.felix.framework.Felix.installBundle(Felix.java:2785)\r\n            at org.apache.felix.framework.BundleContextImpl.installBundle(BundleCont\r\n    extImpl.java:165)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\r\n    (BundleProvisioner.java:446)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\r\n    Bundles(BundleProvisioner.java:208)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\r\n    er.build(OSGiGlassFishRuntimeBuilder.java:139)\r\n            at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\r\n    .java:157)\r\n            at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\r\n    java:110)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\r\n    GlassFishMain.java:112)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\r\n    java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\r\n    sorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\r\n    in.java:97)\r\n            at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\r\n    Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n            at java.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n            at java.util.ArrayList.get(ArrayList.java:429)\r\n            at org.apache.felix.framework.ExtensionManager.addExtensionBundle(Extens\r\n    ionManager.java:401)\r\n            at org.apache.felix.framework.Felix.installBundle(Felix.java:2751)\r\n            ... 13 more\r\n    \r\n    Aug 03, 2017 9:20:14 AM BundleProvisioner install\r\n    WARNING: Failed to install file:/C:/glassfish3/glassfish/modules/javax.transacti\r\n    on.jar\r\n    org.osgi.framework.BundleException: Could not create bundle object.\r\n            at org.apache.felix.framework.Felix.installBundle(Felix.java:2785)\r\n            at org.apache.felix.framework.BundleContextImpl.installBundle(BundleCont\r\n    extImpl.java:165)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\r\n    (BundleProvisioner.java:446)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\r\n    Bundles(BundleProvisioner.java:208)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\r\n    er.build(OSGiGlassFishRuntimeBuilder.java:139)\r\n            at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\r\n    .java:157)\r\n            at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\r\n    java:110)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\r\n    GlassFishMain.java:112)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\r\n    java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\r\n    sorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\r\n    in.java:97)\r\n            at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\r\n    Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n            at java.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n            at java.util.ArrayList.get(ArrayList.java:429)\r\n            at org.apache.felix.framework.ExtensionManager.addExtensionBundle(Extens\r\n    ionManager.java:401)\r\n            at org.apache.felix.framework.Felix.installBundle(Felix.java:2751)\r\n            ... 13 more\r\n    \r\n    Aug 03, 2017 9:20:14 AM BundleProvisioner install\r\n    WARNING: Failed to install file:/C:/glassfish3/glassfish/modules/performance-tun\r\n    er-extra-jre-packages.jar\r\n    org.osgi.framework.BundleException: Could not create bundle object.\r\n            at org.apache.felix.framework.Felix.installBundle(Felix.java:2785)\r\n            at org.apache.felix.framework.BundleContextImpl.installBundle(BundleCont\r\n    extImpl.java:165)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\r\n    (BundleProvisioner.java:446)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\r\n    Bundles(BundleProvisioner.java:208)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\r\n    er.build(OSGiGlassFishRuntimeBuilder.java:139)\r\n            at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\r\n    .java:157)\r\n            at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\r\n    java:110)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\r\n    GlassFishMain.java:112)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\r\n    java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\r\n    sorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\r\n    in.java:97)\r\n            at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\r\n    Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n            at java.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n            at java.util.ArrayList.get(ArrayList.java:429)\r\n            at org.apache.felix.framework.ExtensionManager.addExtensionBundle(Extens\r\n    ionManager.java:401)\r\n            at org.apache.felix.framework.Felix.installBundle(Felix.java:2751)\r\n            ... 13 more\r\n    \r\n    java.lang.NoClassDefFoundError: org/osgi/framework/BundleActivator\r\n            at java.lang.ClassLoader.defineClass1(Native Method)\r\n            at java.lang.ClassLoader.defineClass(ClassLoader.java:763)\r\n            at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.findCla\r\n    ss(BundleWiringImpl.java:2128)\r\n            at org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDele\r\n    gation(BundleWiringImpl.java:1432)\r\n            at org.apache.felix.framework.BundleWiringImpl.access$400(BundleWiringIm\r\n    pl.java:72)\r\n            at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.loadCla\r\n    ss(BundleWiringImpl.java:1843)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n            at org.apache.felix.framework.BundleWiringImpl.getClassByDelegation(Bund\r\n    leWiringImpl.java:1317)\r\n            at org.apache.felix.framework.Felix.createBundleActivator(Felix.java:417\r\n    0)\r\n            at org.apache.felix.framework.Felix.activateBundle(Felix.java:1972)\r\n            at org.apache.felix.framework.Felix.startBundle(Felix.java:1895)\r\n            at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1191)\r\n    \r\n            at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStart\r\n    LevelImpl.java:295)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.ClassNotFoundException: org.osgi.framework.BundleActivator\r\n    not found by org.glassfish.main.core.glassfish [75]\r\n            at org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDele\r\n    gation(BundleWiringImpl.java:1460)\r\n            at org.apache.felix.framework.BundleWiringImpl.access$400(BundleWiringIm\r\n    pl.java:72)\r\n            at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.loadCla\r\n    ss(BundleWiringImpl.java:1843)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n            ... 14 more\r\n    org.osgi.framework.BundleException: Unresolved constraint in bundle org.glassfis\r\n    h.hk2.osgi-adapter [168]: Unable to resolve 168.0: missing requirement [168.0] o\r\n    sgi.wiring.package; (&amp;(osgi.wiring.package=com.sun.enterprise.module)(version&gt;=1\r\n    .1.0)) [caused by: Unable to resolve 95.0: missing requirement [95.0] osgi.wirin\r\n    g.package; (&amp;(osgi.wiring.package=org.jvnet.hk2.config)(version&gt;=1.1.0)) [caused\r\n     by: Unable to resolve 23.0: missing requirement [23.0] osgi.wiring.package; (os\r\n    gi.wiring.package=javax.management)]]\r\n            at org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:382\r\n    6)\r\n            at org.apache.felix.framework.Felix.startBundle(Felix.java:1868)\r\n            at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1191)\r\n    \r\n            at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStart\r\n    LevelImpl.java:295)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\r\n    java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\r\n    sorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\r\n    in.java:97)\r\n            at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\r\n    Caused by: org.glassfish.embeddable.GlassFishException: org.glassfish.embeddable\r\n    .GlassFishException: No GlassFishRuntime available\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\r\n    er.build(OSGiGlassFishRuntimeBuilder.java:164)\r\n            at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\r\n    .java:157)\r\n            at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\r\n    java:110)\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\r\n    GlassFishMain.java:112)\r\n            ... 6 more\r\n    Caused by: org.glassfish.embeddable.GlassFishException: No GlassFishRuntime avai\r\n    lable\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\r\n    er.getGlassFishRuntime(OSGiGlassFishRuntimeBuilder.java:202)\r\n            at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\r\n    er.build(OSGiGlassFishRuntimeBuilder.java:162)\r\n            ... 9 more\r\n    Error stopping framework: java.lang.NullPointerException\r\n    java.lang.NullPointerException\r\n            at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher$1.run(G\r\n    lassFishMain.java:203)\r\n    Java HotSpot(TM) Client VM warning: ignoring option MaxPermSize=192m; support wa\r\n    s removed in 8.0\r\n    Java HotSpot(TM) Client VM warning: ignoring option PermSize=64m; support was re\r\n    moved in 8.0\r\n    ter code here\r\n\r\n-------------------------------------------------\r\nI didn&#39;t installed NetBeans. My system is only for an act as a server for deploying .war file. I tried a lot of solutions from the internet. No solutions for starting domain. Kindly suggest the solution for this.","title":"Glassfish server Domain starts failed","body":"<p>I installed Glassfish sever in my system. The domain is created when i am installing glassfish server. But the domain couldn't started after installation. It shows following Error. Kindly anyone suggest solution for this .</p>\n\n<hr>\n\n<pre><code> enWARNING: Failed to install file:/C:/glassfish3/glassfish/modules/glassfish-corba\n-omgapi.jar\norg.osgi.framework.BundleException: Could not create bundle object.\n        at org.apache.felix.framework.Felix.installBundle(Felix.java:2785)\n        at org.apache.felix.framework.BundleContextImpl.installBundle(BundleCont\nextImpl.java:165)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\n(BundleProvisioner.java:446)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\nBundles(BundleProvisioner.java:208)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\ner.build(OSGiGlassFishRuntimeBuilder.java:139)\n        at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\n.java:157)\n        at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\njava:110)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\nGlassFishMain.java:112)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\nin.java:97)\n        at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\nCaused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n        at java.util.ArrayList.rangeCheck(ArrayList.java:653)\n        at java.util.ArrayList.get(ArrayList.java:429)\n        at org.apache.felix.framework.ExtensionManager.addExtensionBundle(Extens\nionManager.java:401)\n        at org.apache.felix.framework.Felix.installBundle(Felix.java:2751)\n        ... 13 more\n\nAug 03, 2017 9:20:14 AM BundleProvisioner install\nWARNING: Failed to install file:/C:/glassfish3/glassfish/modules/glassfish-extra\n-jre-packages.jar\norg.osgi.framework.BundleException: Could not create bundle object.\n        at org.apache.felix.framework.Felix.installBundle(Felix.java:2785)\n        at org.apache.felix.framework.BundleContextImpl.installBundle(BundleCont\nextImpl.java:165)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\n(BundleProvisioner.java:446)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\nBundles(BundleProvisioner.java:208)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\ner.build(OSGiGlassFishRuntimeBuilder.java:139)\n        at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\n.java:157)\n        at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\njava:110)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\nGlassFishMain.java:112)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\nin.java:97)\n        at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\nCaused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n        at java.util.ArrayList.rangeCheck(ArrayList.java:653)\n        at java.util.ArrayList.get(ArrayList.java:429)\n        at org.apache.felix.framework.ExtensionManager.addExtensionBundle(Extens\nionManager.java:401)\n        at org.apache.felix.framework.Felix.installBundle(Felix.java:2751)\n        ... 13 more\n\nAug 03, 2017 9:20:14 AM BundleProvisioner install\nWARNING: Failed to install file:/C:/glassfish3/glassfish/modules/glassfish-oracl\ne-jdbc-driver-packages.jar\norg.osgi.framework.BundleException: Could not create bundle object.\n        at org.apache.felix.framework.Felix.installBundle(Felix.java:2785)\n        at org.apache.felix.framework.BundleContextImpl.installBundle(BundleCont\nextImpl.java:165)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\n(BundleProvisioner.java:446)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\nBundles(BundleProvisioner.java:208)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\ner.build(OSGiGlassFishRuntimeBuilder.java:139)\n        at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\n.java:157)\n        at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\njava:110)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\nGlassFishMain.java:112)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\nin.java:97)\n        at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\nCaused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n        at java.util.ArrayList.rangeCheck(ArrayList.java:653)\n        at java.util.ArrayList.get(ArrayList.java:429)\n        at org.apache.felix.framework.ExtensionManager.addExtensionBundle(Extens\nionManager.java:401)\n        at org.apache.felix.framework.Felix.installBundle(Felix.java:2751)\n        ... 13 more\n\nAug 03, 2017 9:20:14 AM BundleProvisioner install\nWARNING: Failed to install file:/C:/glassfish3/glassfish/modules/javax.transacti\non.jar\norg.osgi.framework.BundleException: Could not create bundle object.\n        at org.apache.felix.framework.Felix.installBundle(Felix.java:2785)\n        at org.apache.felix.framework.BundleContextImpl.installBundle(BundleCont\nextImpl.java:165)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\n(BundleProvisioner.java:446)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\nBundles(BundleProvisioner.java:208)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\ner.build(OSGiGlassFishRuntimeBuilder.java:139)\n        at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\n.java:157)\n        at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\njava:110)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\nGlassFishMain.java:112)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\nin.java:97)\n        at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\nCaused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n        at java.util.ArrayList.rangeCheck(ArrayList.java:653)\n        at java.util.ArrayList.get(ArrayList.java:429)\n        at org.apache.felix.framework.ExtensionManager.addExtensionBundle(Extens\nionManager.java:401)\n        at org.apache.felix.framework.Felix.installBundle(Felix.java:2751)\n        ... 13 more\n\nAug 03, 2017 9:20:14 AM BundleProvisioner install\nWARNING: Failed to install file:/C:/glassfish3/glassfish/modules/performance-tun\ner-extra-jre-packages.jar\norg.osgi.framework.BundleException: Could not create bundle object.\n        at org.apache.felix.framework.Felix.installBundle(Felix.java:2785)\n        at org.apache.felix.framework.BundleContextImpl.installBundle(BundleCont\nextImpl.java:165)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\n(BundleProvisioner.java:446)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.install\nBundles(BundleProvisioner.java:208)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\ner.build(OSGiGlassFishRuntimeBuilder.java:139)\n        at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\n.java:157)\n        at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\njava:110)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\nGlassFishMain.java:112)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\nin.java:97)\n        at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\nCaused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n        at java.util.ArrayList.rangeCheck(ArrayList.java:653)\n        at java.util.ArrayList.get(ArrayList.java:429)\n        at org.apache.felix.framework.ExtensionManager.addExtensionBundle(Extens\nionManager.java:401)\n        at org.apache.felix.framework.Felix.installBundle(Felix.java:2751)\n        ... 13 more\n\njava.lang.NoClassDefFoundError: org/osgi/framework/BundleActivator\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:763)\n        at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.findCla\nss(BundleWiringImpl.java:2128)\n        at org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDele\ngation(BundleWiringImpl.java:1432)\n        at org.apache.felix.framework.BundleWiringImpl.access$400(BundleWiringIm\npl.java:72)\n        at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.loadCla\nss(BundleWiringImpl.java:1843)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        at org.apache.felix.framework.BundleWiringImpl.getClassByDelegation(Bund\nleWiringImpl.java:1317)\n        at org.apache.felix.framework.Felix.createBundleActivator(Felix.java:417\n0)\n        at org.apache.felix.framework.Felix.activateBundle(Felix.java:1972)\n        at org.apache.felix.framework.Felix.startBundle(Felix.java:1895)\n        at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1191)\n\n        at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStart\nLevelImpl.java:295)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ClassNotFoundException: org.osgi.framework.BundleActivator\nnot found by org.glassfish.main.core.glassfish [75]\n        at org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDele\ngation(BundleWiringImpl.java:1460)\n        at org.apache.felix.framework.BundleWiringImpl.access$400(BundleWiringIm\npl.java:72)\n        at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.loadCla\nss(BundleWiringImpl.java:1843)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        ... 14 more\norg.osgi.framework.BundleException: Unresolved constraint in bundle org.glassfis\nh.hk2.osgi-adapter [168]: Unable to resolve 168.0: missing requirement [168.0] o\nsgi.wiring.package; (&amp;(osgi.wiring.package=com.sun.enterprise.module)(version&gt;=1\n.1.0)) [caused by: Unable to resolve 95.0: missing requirement [95.0] osgi.wirin\ng.package; (&amp;(osgi.wiring.package=org.jvnet.hk2.config)(version&gt;=1.1.0)) [caused\n by: Unable to resolve 23.0: missing requirement [23.0] osgi.wiring.package; (os\ngi.wiring.package=javax.management)]]\n        at org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:382\n6)\n        at org.apache.felix.framework.Felix.startBundle(Felix.java:1868)\n        at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1191)\n\n        at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStart\nLevelImpl.java:295)\n        at java.lang.Thread.run(Thread.java:748)\nException in thread \"main\" java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMa\nin.java:97)\n        at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:55)\nCaused by: org.glassfish.embeddable.GlassFishException: org.glassfish.embeddable\n.GlassFishException: No GlassFishRuntime available\n        at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\ner.build(OSGiGlassFishRuntimeBuilder.java:164)\n        at org.glassfish.embeddable.GlassFishRuntime._bootstrap(GlassFishRuntime\n.java:157)\n        at org.glassfish.embeddable.GlassFishRuntime.bootstrap(GlassFishRuntime.\njava:110)\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(\nGlassFishMain.java:112)\n        ... 6 more\nCaused by: org.glassfish.embeddable.GlassFishException: No GlassFishRuntime avai\nlable\n        at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\ner.getGlassFishRuntime(OSGiGlassFishRuntimeBuilder.java:202)\n        at com.sun.enterprise.glassfish.bootstrap.osgi.OSGiGlassFishRuntimeBuild\ner.build(OSGiGlassFishRuntimeBuilder.java:162)\n        ... 9 more\nError stopping framework: java.lang.NullPointerException\njava.lang.NullPointerException\n        at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher$1.run(G\nlassFishMain.java:203)\nJava HotSpot(TM) Client VM warning: ignoring option MaxPermSize=192m; support wa\ns removed in 8.0\nJava HotSpot(TM) Client VM warning: ignoring option PermSize=64m; support was re\nmoved in 8.0\nter code here\n</code></pre>\n\n<hr>\n\n<p>I didn't installed NetBeans. My system is only for an act as a server for deploying .war file. I tried a lot of solutions from the internet. No solutions for starting domain. Kindly suggest the solution for this.</p>\n"},{"tags":["java","android","xml","radio-button","radio-group"],"comments":[{"owner":{"account_id":4744924,"reputation":1695,"user_id":3836513,"accept_rate":80,"display_name":"Srijith"},"score":1,"creation_date":1407046903,"post_id":25102156,"comment_id":39062344,"body_markdown":"What error do you get?","body":"What error do you get?"},{"owner":{"account_id":4087956,"reputation":944,"user_id":3356781,"accept_rate":65,"display_name":"mkafiyan"},"score":0,"creation_date":1407047051,"post_id":25102156,"comment_id":39062367,"body_markdown":"@Sree14 fatal exception :main `08-03 06:22:57.169: E/AndroidRuntime(1188): java.lang.IllegalStateException: Could not find a method onRadioButtonClicked(View) in the activity class com.dietandroidproject.MainActivity for onClick handler on view class android.widget.RadioButton with id &#39;maleselected&#39;\n`","body":"@Sree14 fatal exception :main <code>08-03 06:22:57.169: E&#47;AndroidRuntime(1188): java.lang.IllegalStateException: Could not find a method onRadioButtonClicked(View) in the activity class com.dietandroidproject.MainActivity for onClick handler on view class android.widget.RadioButton with id &#39;maleselected&#39; </code>"},{"owner":{"account_id":4744924,"reputation":1695,"user_id":3836513,"accept_rate":80,"display_name":"Srijith"},"score":0,"creation_date":1407047267,"post_id":25102156,"comment_id":39062403,"body_markdown":"Have you tried using `setOnCheckedChangeListener()` for radio buttons instead of radiogroups. Or else you can also try `android:onClick` for your radio buttons in your xml. http://developer.android.com/guide/topics/ui/controls/radiobutton.html","body":"Have you tried using <code>setOnCheckedChangeListener()</code> for radio buttons instead of radiogroups. Or else you can also try <code>android:onClick</code> for your radio buttons in your xml. <a href=\"http://developer.android.com/guide/topics/ui/controls/radiobutton.html\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/ui/controls/radiobutton.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":4744924,"reputation":1695,"user_id":3836513,"accept_rate":80,"display_name":"Srijith"},"score":0,"creation_date":1407047447,"post_id":25102156,"comment_id":39062435,"body_markdown":"ok got it. please remove your androi:onclick from xml.","body":"ok got it. please remove your androi:onclick from xml."},{"owner":{"account_id":4087956,"reputation":944,"user_id":3356781,"accept_rate":65,"display_name":"mkafiyan"},"score":0,"creation_date":1407047473,"post_id":25102156,"comment_id":39062441,"body_markdown":"@Sree14 yes at first I tried using `setOnCheckedChangeListener()` for radio button, and also I tried [http://www.mkyong.com/android/android-radio-buttons-example/] but no answer.","body":"@Sree14 yes at first I tried using <code>setOnCheckedChangeListener()</code> for radio button, and also I tried [<a href=\"http://www.mkyong.com/android/android-radio-buttons-example/]\" rel=\"nofollow noreferrer\">mkyong.com/android/android-radio-buttons-example/]</a> but no answer."},{"owner":{"account_id":4087956,"reputation":944,"user_id":3356781,"accept_rate":65,"display_name":"mkafiyan"},"score":0,"creation_date":1407049156,"post_id":25102156,"comment_id":39062717,"body_markdown":"@Sree14 sorry I have another question,I wrote `String gender = genderchoosed.getText().toString();` in `onCheckedChanged` so I can use it as gender type in `float idealweight = idealweight(weight, height, gender, pa, age);` and others function but I cant access gender from my function. how can I solve it?","body":"@Sree14 sorry I have another question,I wrote <code>String gender = genderchoosed.getText().toString();</code> in <code>onCheckedChanged</code> so I can use it as gender type in <code>float idealweight = idealweight(weight, height, gender, pa, age);</code> and others function but I cant access gender from my function. how can I solve it?"},{"owner":{"account_id":4744924,"reputation":1695,"user_id":3836513,"accept_rate":80,"display_name":"Srijith"},"score":0,"creation_date":1407049448,"post_id":25102156,"comment_id":39062759,"body_markdown":"Before onCreate declare your string: `String gender;`. And in your `onCheckedChanged()` just define it as `gender = genderchoosed.getText().toString();`. Now you can access it.","body":"Before onCreate declare your string: <code>String gender;</code>. And in your <code>onCheckedChanged()</code> just define it as <code>gender = genderchoosed.getText().toString();</code>. Now you can access it."},{"owner":{"account_id":4087956,"reputation":944,"user_id":3356781,"accept_rate":65,"display_name":"mkafiyan"},"score":0,"creation_date":1407082524,"post_id":25102156,"comment_id":39070456,"body_markdown":"@Sree14 sorry about streing gender which u said I have to declare before onCreat  I have problem with this case because I have to get the value of gender from `gender = genderchoosed.getText().toString();` and then use it in my function.is there any way which can I solve this problem.","body":"@Sree14 sorry about streing gender which u said I have to declare before onCreat  I have problem with this case because I have to get the value of gender from <code>gender = genderchoosed.getText().toString();</code> and then use it in my function.is there any way which can I solve this problem."},{"owner":{"account_id":4744924,"reputation":1695,"user_id":3836513,"accept_rate":80,"display_name":"Srijith"},"score":0,"creation_date":1407128915,"post_id":25102156,"comment_id":39080868,"body_markdown":"Call that `idealweight` method from your radiogroups `onCheckedChanged` method passing in the parameter as `gender`.","body":"Call that <code>idealweight</code> method from your radiogroups <code>onCheckedChanged</code> method passing in the parameter as <code>gender</code>."},{"owner":{"account_id":4087956,"reputation":944,"user_id":3356781,"accept_rate":65,"display_name":"mkafiyan"},"score":0,"creation_date":1407131034,"post_id":25102156,"comment_id":39081381,"body_markdown":"@Sree14 u mean that I have to call all method which use gender in `onCheckedChanged`?? if i do as u said, when click on the button &quot;save&quot; because `onclick` dosent access to variable in `nCheckedChanged` so cant insert them in db?right???!!!","body":"@Sree14 u mean that I have to call all method which use gender in <code>onCheckedChanged</code>?? if i do as u said, when click on the button &quot;save&quot; because <code>onclick</code> dosent access to variable in <code>nCheckedChanged</code> so cant insert them in db?right???!!!"},{"owner":{"account_id":4744924,"reputation":1695,"user_id":3836513,"accept_rate":80,"display_name":"Srijith"},"score":0,"creation_date":1407137466,"post_id":25102156,"comment_id":39083736,"body_markdown":"Ok if many methods want to refer `gender`, you can do the following:\n\nYou can use getter and setter methods. You have to call the setter method in your `onCheckedChanged` method passing the `gender` as parameter. And those who want to refer the `gender` can simply call the getter methods. Please search about getter and setter methods if you dont know.","body":"Ok if many methods want to refer <code>gender</code>, you can do the following:  You can use getter and setter methods. You have to call the setter method in your <code>onCheckedChanged</code> method passing the <code>gender</code> as parameter. And those who want to refer the <code>gender</code> can simply call the getter methods. Please search about getter and setter methods if you dont know."},{"owner":{"account_id":4087956,"reputation":944,"user_id":3356781,"accept_rate":65,"display_name":"mkafiyan"},"score":0,"creation_date":1407137821,"post_id":25102156,"comment_id":39083894,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/58593/discussion-between-mimi-and-sree14).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/58593/discussion-between-mimi-and-sree14\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":4744924,"reputation":1695,"user_id":3836513,"accept_rate":80,"display_name":"Srijith"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1407048847,"creation_date":1407048847,"answer_id":25102395,"question_id":25102156,"body_markdown":"The thing is that your radio buttons trying to refer the `onRadioButtonClicked` method in your main activity. But you didnt specify that method. Remember, if you&#39;re using `android:onClick` you should not use `setOnCheckedChangeListener` in your Main activity and vice versa.","title":"radio group setOnCheckedChangeListener","body":"<p>The thing is that your radio buttons trying to refer the <code>onRadioButtonClicked</code> method in your main activity. But you didnt specify that method. Remember, if you're using <code>android:onClick</code> you should not use <code>setOnCheckedChangeListener</code> in your Main activity and vice versa.</p>\n"},{"tags":[],"owner":{"account_id":2089247,"reputation":1265,"user_id":1859444,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1414530792,"creation_date":1414530792,"answer_id":26618592,"question_id":25102156,"body_markdown":"     radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener()\r\n        {\r\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\r\n                // checkedId is the RadioButton selected\r\n                RadioButton rb=(RadioButton)findViewById(checkedId);\r\n                Toast.makeText(getApplicationContext(), rb.getText(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });","title":"radio group setOnCheckedChangeListener","body":"<pre><code> radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener()\n    {\n        public void onCheckedChanged(RadioGroup group, int checkedId) {\n            // checkedId is the RadioButton selected\n            RadioButton rb=(RadioButton)findViewById(checkedId);\n            Toast.makeText(getApplicationContext(), rb.getText(), Toast.LENGTH_SHORT).show();\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5022643,"reputation":800,"user_id":4035668,"display_name":"Thiago Ara&#250;jo"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1473979121,"creation_date":1473979121,"answer_id":39521358,"question_id":25102156,"body_markdown":"\r\n    RadioGroup yourRadioGroup = (RadioGroup) findViewById(R.id.radioGroup1);\r\n            yourRadioGroup.setOnCheckedChangeListener(new OnCheckedChangeListener()\r\n            {\r\n                @Override\r\n                public void onCheckedChanged(RadioGroup group, int checkedId)\r\n                {\r\n                    switch(checkedId)\r\n                    {\r\n                    case R.id.radio0:\r\n                        // TODO Something\r\n                        break;\r\n                    case R.id.radio1:\r\n                        // TODO Something\r\n                        break;\r\n                    case R.id.radio2:\r\n                        // TODO Something\r\n                        break;\r\n                    }\r\n                }\r\n            });\r\n\r\n\r\nOr, if you prefer:\r\n\r\n    yourRadioGroupName.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener()\r\n            {\r\n                @Override\r\n                public void onCheckedChanged(RadioGroup group, int checkedId)\r\n                {\r\n                    int idRadioButtonChosen = yourRadioGroupName.getCheckedRadioButtonId();\r\n    \r\n                    if(idRadioButtonChosen &gt; 0){\r\n    \r\n                        radioButtonChosen = (RadioButton) findViewById(idRadioButtonChosen);\r\n                        textViewOnclick.setText(radioButtonChosen.getText());\r\n    \r\n                    }\r\n    \r\n    \r\n                }\r\n            });\r\n\r\n","title":"radio group setOnCheckedChangeListener","body":"<pre><code>RadioGroup yourRadioGroup = (RadioGroup) findViewById(R.id.radioGroup1);\n        yourRadioGroup.setOnCheckedChangeListener(new OnCheckedChangeListener()\n        {\n            @Override\n            public void onCheckedChanged(RadioGroup group, int checkedId)\n            {\n                switch(checkedId)\n                {\n                case R.id.radio0:\n                    // TODO Something\n                    break;\n                case R.id.radio1:\n                    // TODO Something\n                    break;\n                case R.id.radio2:\n                    // TODO Something\n                    break;\n                }\n            }\n        });\n</code></pre>\n\n<p>Or, if you prefer:</p>\n\n<pre><code>yourRadioGroupName.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener()\n        {\n            @Override\n            public void onCheckedChanged(RadioGroup group, int checkedId)\n            {\n                int idRadioButtonChosen = yourRadioGroupName.getCheckedRadioButtonId();\n\n                if(idRadioButtonChosen &gt; 0){\n\n                    radioButtonChosen = (RadioButton) findViewById(idRadioButtonChosen);\n                    textViewOnclick.setText(radioButtonChosen.getText());\n\n                }\n\n\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4933250,"reputation":4859,"user_id":3972291,"accept_rate":100,"display_name":"Enamul Haque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1584805491,"creation_date":1584805491,"answer_id":60789839,"question_id":25102156,"body_markdown":"**In kotlin You can use bellow like..**\r\n\r\n      radioGroup.setOnCheckedChangeListener(RadioGroup.OnCheckedChangeListener { group, checkedId -&gt;\r\n\r\n              val radio:RadioButton = group.findViewById(checkedId)\r\n              Log.e(&quot;selectedtext--&gt;&quot;,radio.text.toString())\r\n\r\n      })\r\nOr \r\n\r\n    radioGroup.setOnCheckedChangeListener(RadioGroup.OnCheckedChangeListener { group, checkedId -&gt;\r\n\r\n             var selectedId = rg.checkedRadioButtonId\r\n             val radio:RadioButton = group.findViewById(selectedId)\r\n                Log.e(&quot;selectedtext--&gt;&quot;,radio.text.toString())\r\n\r\n       })","title":"radio group setOnCheckedChangeListener","body":"<p><strong>In kotlin You can use bellow like..</strong></p>\n\n<pre><code>  radioGroup.setOnCheckedChangeListener(RadioGroup.OnCheckedChangeListener { group, checkedId -&gt;\n\n          val radio:RadioButton = group.findViewById(checkedId)\n          Log.e(\"selectedtext--&gt;\",radio.text.toString())\n\n  })\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>radioGroup.setOnCheckedChangeListener(RadioGroup.OnCheckedChangeListener { group, checkedId -&gt;\n\n         var selectedId = rg.checkedRadioButtonId\n         val radio:RadioButton = group.findViewById(selectedId)\n            Log.e(\"selectedtext--&gt;\",radio.text.toString())\n\n   })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15363174,"reputation":481,"user_id":11083442,"display_name":"sarjeet singh"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1653381877,"creation_date":1653285714,"answer_id":72343866,"question_id":25102156,"body_markdown":"  this code for radio button not working with radio group\r\n \r\n\r\n     radioButton.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n          @Override\r\n          public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\r\n                        \r\n          }\r\n        });","title":"radio group setOnCheckedChangeListener","body":"<p>this code for radio button not working with radio group</p>\n<pre><code> radioButton.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n      @Override\n      public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\n                    \n      }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2966197,"reputation":825,"user_id":2519297,"accept_rate":53,"display_name":"bebosh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664733521,"creation_date":1664733521,"answer_id":73928152,"question_id":25102156,"body_markdown":"You can use this sample in kotlin:\r\n    \r\n    radioGroup.setOnCheckedChangeListener { _, checkedId -&gt;\r\n            when (checkedId) {\r\n                R.id.radioButton1 -&gt; {\r\n\r\n                }\r\n                R.id.radioButton2 -&gt; {\r\n\r\n                }\r\n            }\r\n        }","title":"radio group setOnCheckedChangeListener","body":"<p>You can use this sample in kotlin:</p>\n<pre><code>radioGroup.setOnCheckedChangeListener { _, checkedId -&gt;\n        when (checkedId) {\n            R.id.radioButton1 -&gt; {\n\n            }\n            R.id.radioButton2 -&gt; {\n\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":4087956,"reputation":944,"user_id":3356781,"accept_rate":65,"display_name":"mkafiyan"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40546,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":25102395,"answer_count":6,"score":14,"last_activity_date":1664733521,"creation_date":1407046355,"question_id":25102156,"body_markdown":"I have some problem with radio group, I am new to Android development so I don&#39;t have much idea to how can handle it.This is form which has some input filed and radio group for choosing gender and save button.\r\nbut I don&#39;t know where can I exactly put my radiogroup setoncheakchangelistener? so it gives me errors.\r\n\r\nMAIN ACTIVITY :\r\n\r\n    package com.dietandroidproject;\r\n\r\n    import Databasedata.Person;\r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.RadioButton;\r\n    import android.widget.RadioGroup;\r\n    import android.widget.Spinner;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n\r\n\r\n    public class MainActivity extends Activity {\r\n\r\n\t  @Override\r\n\t  protected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\t\tfinal RadioGroup genderselected = (RadioGroup) findViewById(R.id.selectgender);\r\n\t\t\r\n\t\tgenderselected.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener()            {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onCheckedChanged(RadioGroup arg0, int selectedId) {\r\n\t\t\t\tselectedId=genderselected.getCheckedRadioButtonId();\r\n\t\t\t\tRadioButton genderchoosed = (RadioButton) findViewById(selectedId);\r\n\t\t\t\tString gender = genderchoosed.getText().toString();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t });\r\n\r\n        Button saveinformation = (Button) findViewById(R.id.saveinformation);\r\n\t\tsaveinformation.setOnClickListener(new View.OnClickListener() {\r\n\r\n\t\t\tEditText weighttext = (EditText) findViewById(R.id.weighttext);\r\n\t\t\tEditText heighttext = (EditText) findViewById(R.id.heighttext);\r\n\t\t\tEditText usernametext = (EditText) findViewById(R.id.usernametext);\r\n\t\t\tEditText agetext = (EditText) findViewById(R.id.agetext);\r\n            Spinner activitytext = (Spinner) findViewById(R.id.chooseactivity);\r\n\t\t\tButton saveinformation = (Button) findViewById(R.id.saveinformation);\r\n            String pa = activitytext.getSelectedItem().toString();\r\n             @Override\r\n\t\t\tpublic void onClick(View v) {\r\n\r\n\t\t\t\tint weight = (int) Float.parseFloat(weighttext.getText()\r\n\t\t\t\t\t\t.toString());\r\n\t\t\t\tint height = (int) Float.parseFloat(heighttext.getText()\r\n\t\t\t\t\t\t.toString());\r\n\t\t\t\tString username = usernametext.getText().toString();\r\n\t\t\t\tint age = (int) Float.parseFloat(agetext.getText().toString());\r\n\t\t\t\tTextView genderchoosed = (TextView) findViewById(genderselected\r\n\t\t\t\t\t\t.getCheckedRadioButtonId());\r\n\t\t\t\tString gender = genderchoosed.getText().toString();\r\n\t\t\t\tString pa = activitytext.getSelectedItem().toString();\r\n                \r\n           //BMI==========================================================\r\n                int Bmivalue = calculateBMI(weight, height);\r\n\t\t\t\tString bmiInterpretation = interpretBMI(Bmivalue);\r\n\t\t\t\tfloat idealweight = idealweight(weight, height, gender, pa, age);\r\n\t\t\t\tdouble dailycalories=dailycalories(weight,height,gender,pa,age);\r\n                \r\n             //insert data in to db===================================================\r\n               Person person = new Person();\r\n\t\t\t\tperson.setUsername(username);\r\n\t\t\t\tperson.setHeight(height);\r\n\t\t\t\tperson.setWeight(weight);\r\n\t\t\t\tperson.setAge(age);\r\n\t\t\t\tperson.setGender(gender);\r\n\t\t\t\tperson.setPa(pa);\r\n\t\t\t\tperson.setBmivalue(Bmivalue);\r\n\t\t\t\tperson.setBmiInterpretation(bmiInterpretation);\r\n\t\t\t\tperson.setIdealweight(idealweight);\r\n\t\t\t\tperson.setDailycalories(dailycalories);\r\n                Databasedata.DatabaseAdapter dbAdapter = new Databasedata.DatabaseAdapter(\r\n\t\t\t\t\t\tMainActivity.this);\r\n\t\t\t\tdbAdapter.insertPerson(person);\r\n\r\n\t\t\t\tToast.makeText(getApplicationContext(),\r\n\t\t\t\t\t\tBmivalue + &quot;and you are&quot; + bmiInterpretation,\r\n\t\t\t\t\t\tToast.LENGTH_LONG).show();\r\n\r\n\t\t\t   }\r\n\t\t     });\r\n\t        }\r\n            //BMI FUNCTION===============================================\r\n            private int calculateBMI(int weight, int height) {\r\n\r\n\t\t       return (int) (weight / (height * height));\r\n\t        };\r\n\r\n\t        private String interpretBMI(int Bmivalue) {\r\n\r\n\t\t     if (Bmivalue &lt; 18.5) {\r\n\t\t\t  return &quot;Underweight&quot;;\r\n\t\t     } else if (Bmivalue &lt; 25) {\r\n\t\t\t   return &quot;Normal&quot;;\r\n\t\t     } else if (Bmivalue &lt; 30) {\r\n\t\t\t   return &quot;Overweight&quot;;\r\n\t\t     } else {\r\n\t\t\t   return &quot;Obese&quot;;\r\n\t\t     }\r\n\t        }\r\n             //IDEAL WEIGHT========================================\r\n             \r\n\tprivate float idealweight(int weight, int height, String gender, String pa,\r\n\t\t\tint age) {\r\n\t\tfloat x = (float) 0.0;\r\n\t\tint bmi;\r\n\r\n\t\tbmi = idealbmi(age);\r\n\t\tx = bmi * (height * height);\r\n\t\treturn x;\r\n\r\n\t  }\r\n\r\n\t   public int idealbmi(int age) {\r\n\t\tint bmi = 0;\r\n\t\tif (age &gt; 17 &amp;&amp; age &lt;= 19) {\r\n\t\t\tbmi = 21;\r\n\t\t}\r\n\t\tif (age &gt; 19 &amp;&amp; age &lt;= 24) {\r\n\t\t\tbmi = 22;\r\n\t\t}\r\n\t\tif (age &gt; 24 &amp;&amp; age &lt;= 34) {\r\n\t\t\tbmi = 23;\r\n\t\t}\r\n\t\tif (age &gt; 34 &amp;&amp; age &lt;= 44) {\r\n\t\t\tbmi = 24;\r\n\t\t}\r\n\t\tif (age &gt; 44 &amp;&amp; age &lt;= 54) {\r\n\t\t\tbmi = 25;\r\n\t\t}\r\n\t\tif (age &gt; 54 &amp;&amp; age &lt;= 64) {\r\n\t\t\tbmi = 26;\r\n\t\t}\r\n\t\tif (age &gt; 64) {\r\n\t\t\tbmi = 27;\r\n\t\t}\r\n\r\n\t\treturn bmi;\r\n\t    }\r\n        //DAILY CALORIES===============================================\r\n        public double suitablepa(String pa) {\r\n\t\tdouble suitablepa = 0;\r\n\t\tif (pa.equals(&quot;Highly active&quot;)) {\r\n\t\t\tsuitablepa =  1.48;\r\n\t\t}\r\n\t\tif (pa.equals(&quot;Active&quot;)) {\r\n\t\t\tsuitablepa =  1.25;\r\n\t\t}\r\n\t\tif (pa.equals(&quot;Low activity&quot;)) {\r\n\t\t\tsuitablepa =  1.11;\r\n\t\t}\r\n\t\tif (pa.equals(&quot;Sedentary&quot;)) {\r\n\t\t\tsuitablepa =  1;\r\n\t\t}\r\n\t\treturn suitablepa;\r\n\r\n\t  }\r\n\r\n\t  private double dailycalories(int weight, int height, String gender,\r\n\t\t\tString pa, int age) {\r\n\t\tdouble dailycalori = 0;\r\n\t\tdouble i;\r\n\t\tdouble j;\r\n\t\tdouble h;\r\n\t\tdouble k;\r\n\t\tif(gender.equals(&quot;femaleselected&quot;)){\r\n\t\t\t\r\n\t\t\ti=9.36*weight;\r\n\t\t\tj=726*height;\r\n\t\t\th=suitablepa(pa)*(i+j);\r\n\t\t\tk=6.91*age;\r\n\t\t\tdailycalori=354-k+h;\r\n\t\t\t\r\n\t\t}else if(gender.equals(&quot;maleselected&quot;)){\r\n\t\t\t\r\n\t\t\ti=15.91*weight;\r\n\t\t\tj=539.6*height;\r\n\t\t\th=suitablepa(pa)*(i+j);\r\n\t\t\tk=9.53*age;\r\n\t\t\tdailycalori=662-k+h;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\treturn dailycalori;\r\n\t}\r\n    }\r\n\r\nXML CODES\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/backgroundmain&quot;\r\n    android:orientation=&quot;vertical&quot; &gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/personinformation&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1.98&quot; &gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/heighttext&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignLeft=&quot;@+id/usernametext&quot;\r\n            android:layout_below=&quot;@+id/usernametext&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Enter Your Height&quot; &gt;\r\n        &lt;/EditText&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/usernametext&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Enter Username&quot; /&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/weighttext&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignLeft=&quot;@+id/heighttext&quot;\r\n            android:layout_below=&quot;@+id/heighttext&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Enter Your Weight&quot; /&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/agetext&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignLeft=&quot;@+id/weighttext&quot;\r\n            android:layout_below=&quot;@+id/weighttext&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;Enter Your Age&quot; &gt;\r\n\r\n            &lt;requestFocus /&gt;\r\n        &lt;/EditText&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;View\r\n        android:layout_width=&quot;250dp&quot;\r\n        android:layout_height=&quot;1dip&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:background=&quot;#aaa&quot; /&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/choosegender&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;0.78&quot; &gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/choosefemaleormale&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;30dip&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_marginTop=&quot;10dip&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Gender : &quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textColor=&quot;#555&quot;\r\n            android:textSize=&quot;19sp&quot; /&gt;\r\n\r\n        &lt;RadioGroup\r\n            android:id=&quot;@+id/selectgender&quot;\r\n            android:layout_width=&quot;220dip&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/choosefemaleormale&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:orientation=&quot;horizontal&quot; &gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/femaleselected&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;left&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:checked=&quot;true&quot;\r\n                android:text=&quot;female&quot;\r\n                android:onClick=&quot;onRadioButtonClicked&quot;\r\n                 /&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/maleselected&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;right&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:text=&quot;male&quot;\r\n                android:onClick=&quot;onRadioButtonClicked&quot; /&gt;\r\n        &lt;/RadioGroup&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\t    &lt;View\r\n        android:layout_width=&quot;250dp&quot;\r\n        android:layout_height=&quot;1dip&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:background=&quot;#aaa&quot; /&gt;\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/choosepa&quot;\r\n        android:layout_width=&quot;250dip&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:layout_gravity=&quot;center&quot; &gt;\r\n\r\n        &lt;Spinner\r\n            android:id=&quot;@+id/chooseactivity&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:entries=&quot;@array/activityitems&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:prompt=&quot;@string/level_of_activity&quot; /&gt;\r\n        \r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;Button\r\n        android:layout_width=&quot;90dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_gravity=&quot;right&quot;\r\n        android:layout_marginBottom=&quot;10dip&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        android:layout_weight=&quot;0.46&quot;\r\n        android:background=&quot;@drawable/recent_foods_depressed&quot;\r\n        android:hint=&quot;save&quot;\r\n        android:text=&quot;save&quot;\r\n        android:textColor=&quot;#fff&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:textStyle=&quot;bold&quot; \r\n        android:onClick=&quot;saveinformation&quot;\r\n        android:id=&quot;@+id/saveinformation&quot;/&gt;\r\n\r\n     &lt;/LinearLayout&gt;","title":"radio group setOnCheckedChangeListener","body":"<p>I have some problem with radio group, I am new to Android development so I don't have much idea to how can handle it.This is form which has some input filed and radio group for choosing gender and save button.\nbut I don't know where can I exactly put my radiogroup setoncheakchangelistener? so it gives me errors.</p>\n\n<p>MAIN ACTIVITY :</p>\n\n<pre><code>package com.dietandroidproject;\n\nimport Databasedata.Person;\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.Spinner;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\n\npublic class MainActivity extends Activity {\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    final RadioGroup genderselected = (RadioGroup) findViewById(R.id.selectgender);\n\n    genderselected.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener()            {\n\n        @Override\n        public void onCheckedChanged(RadioGroup arg0, int selectedId) {\n            selectedId=genderselected.getCheckedRadioButtonId();\n            RadioButton genderchoosed = (RadioButton) findViewById(selectedId);\n            String gender = genderchoosed.getText().toString();\n\n        }\n     });\n\n    Button saveinformation = (Button) findViewById(R.id.saveinformation);\n    saveinformation.setOnClickListener(new View.OnClickListener() {\n\n        EditText weighttext = (EditText) findViewById(R.id.weighttext);\n        EditText heighttext = (EditText) findViewById(R.id.heighttext);\n        EditText usernametext = (EditText) findViewById(R.id.usernametext);\n        EditText agetext = (EditText) findViewById(R.id.agetext);\n        Spinner activitytext = (Spinner) findViewById(R.id.chooseactivity);\n        Button saveinformation = (Button) findViewById(R.id.saveinformation);\n        String pa = activitytext.getSelectedItem().toString();\n         @Override\n        public void onClick(View v) {\n\n            int weight = (int) Float.parseFloat(weighttext.getText()\n                    .toString());\n            int height = (int) Float.parseFloat(heighttext.getText()\n                    .toString());\n            String username = usernametext.getText().toString();\n            int age = (int) Float.parseFloat(agetext.getText().toString());\n            TextView genderchoosed = (TextView) findViewById(genderselected\n                    .getCheckedRadioButtonId());\n            String gender = genderchoosed.getText().toString();\n            String pa = activitytext.getSelectedItem().toString();\n\n       //BMI==========================================================\n            int Bmivalue = calculateBMI(weight, height);\n            String bmiInterpretation = interpretBMI(Bmivalue);\n            float idealweight = idealweight(weight, height, gender, pa, age);\n            double dailycalories=dailycalories(weight,height,gender,pa,age);\n\n         //insert data in to db===================================================\n           Person person = new Person();\n            person.setUsername(username);\n            person.setHeight(height);\n            person.setWeight(weight);\n            person.setAge(age);\n            person.setGender(gender);\n            person.setPa(pa);\n            person.setBmivalue(Bmivalue);\n            person.setBmiInterpretation(bmiInterpretation);\n            person.setIdealweight(idealweight);\n            person.setDailycalories(dailycalories);\n            Databasedata.DatabaseAdapter dbAdapter = new Databasedata.DatabaseAdapter(\n                    MainActivity.this);\n            dbAdapter.insertPerson(person);\n\n            Toast.makeText(getApplicationContext(),\n                    Bmivalue + \"and you are\" + bmiInterpretation,\n                    Toast.LENGTH_LONG).show();\n\n           }\n         });\n        }\n        //BMI FUNCTION===============================================\n        private int calculateBMI(int weight, int height) {\n\n           return (int) (weight / (height * height));\n        };\n\n        private String interpretBMI(int Bmivalue) {\n\n         if (Bmivalue &lt; 18.5) {\n          return \"Underweight\";\n         } else if (Bmivalue &lt; 25) {\n           return \"Normal\";\n         } else if (Bmivalue &lt; 30) {\n           return \"Overweight\";\n         } else {\n           return \"Obese\";\n         }\n        }\n         //IDEAL WEIGHT========================================\n\nprivate float idealweight(int weight, int height, String gender, String pa,\n        int age) {\n    float x = (float) 0.0;\n    int bmi;\n\n    bmi = idealbmi(age);\n    x = bmi * (height * height);\n    return x;\n\n  }\n\n   public int idealbmi(int age) {\n    int bmi = 0;\n    if (age &gt; 17 &amp;&amp; age &lt;= 19) {\n        bmi = 21;\n    }\n    if (age &gt; 19 &amp;&amp; age &lt;= 24) {\n        bmi = 22;\n    }\n    if (age &gt; 24 &amp;&amp; age &lt;= 34) {\n        bmi = 23;\n    }\n    if (age &gt; 34 &amp;&amp; age &lt;= 44) {\n        bmi = 24;\n    }\n    if (age &gt; 44 &amp;&amp; age &lt;= 54) {\n        bmi = 25;\n    }\n    if (age &gt; 54 &amp;&amp; age &lt;= 64) {\n        bmi = 26;\n    }\n    if (age &gt; 64) {\n        bmi = 27;\n    }\n\n    return bmi;\n    }\n    //DAILY CALORIES===============================================\n    public double suitablepa(String pa) {\n    double suitablepa = 0;\n    if (pa.equals(\"Highly active\")) {\n        suitablepa =  1.48;\n    }\n    if (pa.equals(\"Active\")) {\n        suitablepa =  1.25;\n    }\n    if (pa.equals(\"Low activity\")) {\n        suitablepa =  1.11;\n    }\n    if (pa.equals(\"Sedentary\")) {\n        suitablepa =  1;\n    }\n    return suitablepa;\n\n  }\n\n  private double dailycalories(int weight, int height, String gender,\n        String pa, int age) {\n    double dailycalori = 0;\n    double i;\n    double j;\n    double h;\n    double k;\n    if(gender.equals(\"femaleselected\")){\n\n        i=9.36*weight;\n        j=726*height;\n        h=suitablepa(pa)*(i+j);\n        k=6.91*age;\n        dailycalori=354-k+h;\n\n    }else if(gender.equals(\"maleselected\")){\n\n        i=15.91*weight;\n        j=539.6*height;\n        h=suitablepa(pa)*(i+j);\n        k=9.53*age;\n        dailycalori=662-k+h;\n    }\n\n\n    return dailycalori;\n}\n}\n</code></pre>\n\n<p>XML CODES</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@drawable/backgroundmain\"\nandroid:orientation=\"vertical\" &gt;\n\n&lt;RelativeLayout\n    android:id=\"@+id/personinformation\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"0dp\"\n    android:layout_weight=\"1.98\" &gt;\n\n    &lt;EditText\n        android:id=\"@+id/heighttext\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignLeft=\"@+id/usernametext\"\n        android:layout_below=\"@+id/usernametext\"\n        android:ems=\"10\"\n        android:hint=\"Enter Your Height\" &gt;\n    &lt;/EditText&gt;\n\n    &lt;EditText\n        android:id=\"@+id/usernametext\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"20dp\"\n        android:ems=\"10\"\n        android:hint=\"Enter Username\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/weighttext\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignLeft=\"@+id/heighttext\"\n        android:layout_below=\"@+id/heighttext\"\n        android:ems=\"10\"\n        android:hint=\"Enter Your Weight\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/agetext\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignLeft=\"@+id/weighttext\"\n        android:layout_below=\"@+id/weighttext\"\n        android:ems=\"10\"\n        android:hint=\"Enter Your Age\" &gt;\n\n        &lt;requestFocus /&gt;\n    &lt;/EditText&gt;\n\n&lt;/RelativeLayout&gt;\n\n&lt;View\n    android:layout_width=\"250dp\"\n    android:layout_height=\"1dip\"\n    android:layout_gravity=\"center\"\n    android:layout_marginTop=\"20dp\"\n    android:background=\"#aaa\" /&gt;\n\n&lt;RelativeLayout\n    android:id=\"@+id/choosegender\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"0dp\"\n    android:layout_weight=\"0.78\" &gt;\n\n    &lt;TextView\n        android:id=\"@+id/choosefemaleormale\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"30dip\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_marginTop=\"10dip\"\n        android:gravity=\"center\"\n        android:text=\"Gender : \"\n        android:textAlignment=\"center\"\n        android:textColor=\"#555\"\n        android:textSize=\"19sp\" /&gt;\n\n    &lt;RadioGroup\n        android:id=\"@+id/selectgender\"\n        android:layout_width=\"220dip\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/choosefemaleormale\"\n        android:layout_centerHorizontal=\"true\"\n        android:orientation=\"horizontal\" &gt;\n\n        &lt;RadioButton\n            android:id=\"@+id/femaleselected\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"left\"\n            android:layout_weight=\"1\"\n            android:checked=\"true\"\n            android:text=\"female\"\n            android:onClick=\"onRadioButtonClicked\"\n             /&gt;\n\n        &lt;RadioButton\n            android:id=\"@+id/maleselected\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"right\"\n            android:layout_weight=\"1\"\n            android:text=\"male\"\n            android:onClick=\"onRadioButtonClicked\" /&gt;\n    &lt;/RadioGroup&gt;\n&lt;/RelativeLayout&gt;\n    &lt;View\n    android:layout_width=\"250dp\"\n    android:layout_height=\"1dip\"\n    android:layout_gravity=\"center\"\n    android:layout_marginTop=\"20dp\"\n    android:background=\"#aaa\" /&gt;\n&lt;RelativeLayout\n    android:id=\"@+id/choosepa\"\n    android:layout_width=\"250dip\"\n    android:layout_height=\"0dp\"\n    android:layout_weight=\"1\"\n    android:layout_gravity=\"center\" &gt;\n\n    &lt;Spinner\n        android:id=\"@+id/chooseactivity\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:entries=\"@array/activityitems\"\n        android:gravity=\"center\"\n        android:prompt=\"@string/level_of_activity\" /&gt;\n\n&lt;/RelativeLayout&gt;\n\n&lt;Button\n    android:layout_width=\"90dp\"\n    android:layout_height=\"0dp\"\n    android:layout_gravity=\"right\"\n    android:layout_marginBottom=\"10dip\"\n    android:layout_marginRight=\"20dp\"\n    android:layout_weight=\"0.46\"\n    android:background=\"@drawable/recent_foods_depressed\"\n    android:hint=\"save\"\n    android:text=\"save\"\n    android:textColor=\"#fff\"\n    android:textSize=\"20sp\"\n    android:textStyle=\"bold\" \n    android:onClick=\"saveinformation\"\n    android:id=\"@+id/saveinformation\"/&gt;\n\n &lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664732284,"creation_date":1664732284,"answer_id":73927988,"question_id":73927942,"body_markdown":"You have to feed your next line `\\n` to the `Scanner` object and then start writing something yourself.\r\n\r\nLike this:\r\n```java\r\nSystem.out.println(&quot;Enter a Message to Encrypt : &quot;);\r\nsc.nextLine(); // Next line is &quot;eaten&quot; here\r\nString message = sc.nextLine(); // Program halts and waits for your msg\r\n```\r\n\r\nYou can find more info [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/13102066/7954021","title":"How do I take sentences as an input in this case?","body":"<p>You have to feed your next line <code>\\n</code> to the <code>Scanner</code> object and then start writing something yourself.</p>\n<p>Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Enter a Message to Encrypt : &quot;);\nsc.nextLine(); // Next line is &quot;eaten&quot; here\nString message = sc.nextLine(); // Program halts and waits for your msg\n</code></pre>\n<p>You can find more info <a href=\"https://stackoverflow.com/a/13102066/7954021\">here</a>.</p>\n"}],"owner":{"account_id":26508789,"reputation":1,"user_id":20144479,"display_name":"Mikhil Angre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1664732834,"answer_count":1,"score":-1,"last_activity_date":1664732284,"creation_date":1664731936,"question_id":73927942,"body_markdown":"**Caesar Cipher Code :** \r\nThe code is not letting me input any sentences or strings with spaces even when i am using sc.nextLine(), neither is it giving an error. JUST BLANK.\r\n\r\n```\r\n\r\nimport java.util.*;\r\n\r\npublic class CaesarCipher\r\n{\r\n    protected char[] encoder = new char[26];\r\n    protected char[] decoder = new char[26];\r\n\r\n    /** Constructor that initializes the encryption and decryption arrays */\r\n    public CaesarCipher(int rotation)\r\n    {\r\n        for(int k=0;k&lt;26;k++)\r\n        {\r\n            encoder[k] = (char)(&#39;A&#39; + (k + rotation)%26);\r\n            decoder[k] = (char)(&#39;A&#39; + (k - rotation+26)%26);\r\n        }\r\n    }\r\n\r\n    /** Returns String representing encrypted message. */\r\n    public String encrypt(String message)\r\n    {\r\n        return transform(message,encoder);\r\n    }\r\n\r\n    public String decrypt(String Secret)\r\n    {\r\n        return transform(Secret, decoder);\r\n    }\r\n\r\n    public String transform(String Original,char[] code)\r\n    {\r\n        char msg[] = Original.toCharArray();\r\n\r\n        for(int k=0;k&lt;msg.length;k++)\r\n        {\r\n            if(Character.isUpperCase(msg[k]))\r\n            {\r\n                int j = msg[k] - &#39;A&#39;;\r\n                msg[k] = code[j];\r\n            }\r\n        }\r\n        return new String(msg);\r\n    }\r\n\r\n    public static void main(String args[])\r\n    {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter any number between 1 and 26 : &quot;);\r\n        int r = sc.nextInt();\r\n        System.out.println();\r\n\r\n        CaesarCipher cipher = new CaesarCipher(r);\r\n\r\n        System.out.println(&quot;Encryption code : &quot; + new String(cipher.encoder));\r\n        System.out.println(&quot;Decryption code : &quot; + new String(cipher.decoder));\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Enter a Message to Encrypt : &quot;);\r\n        String message = sc.nextLine();\r\n\r\n        String coded = cipher.encrypt(message.toUpperCase());\r\n        System.out.println(&quot;Encrypted Message : &quot; + coded);\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;Decrypted Message : &quot; + cipher.decrypt(coded));\r\n        sc.close();\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Output :** \r\n\r\nEnter any number between 1 and 26 :\r\n4\r\n\r\nEncryption code : EFGHIJKLMNOPQRSTUVWXYZABCD\r\nDecryption code : WXYZABCDEFGHIJKLMNOPQRSTUV\r\n\r\nEnter a Message to Encrypt :\r\nEncrypted Message :\r\n\r\nDecrypted Message :\r\n ","title":"How do I take sentences as an input in this case?","body":"<p><strong>Caesar Cipher Code :</strong>\nThe code is not letting me input any sentences or strings with spaces even when i am using sc.nextLine(), neither is it giving an error. JUST BLANK.</p>\n<pre><code>\nimport java.util.*;\n\npublic class CaesarCipher\n{\n    protected char[] encoder = new char[26];\n    protected char[] decoder = new char[26];\n\n    /** Constructor that initializes the encryption and decryption arrays */\n    public CaesarCipher(int rotation)\n    {\n        for(int k=0;k&lt;26;k++)\n        {\n            encoder[k] = (char)('A' + (k + rotation)%26);\n            decoder[k] = (char)('A' + (k - rotation+26)%26);\n        }\n    }\n\n    /** Returns String representing encrypted message. */\n    public String encrypt(String message)\n    {\n        return transform(message,encoder);\n    }\n\n    public String decrypt(String Secret)\n    {\n        return transform(Secret, decoder);\n    }\n\n    public String transform(String Original,char[] code)\n    {\n        char msg[] = Original.toCharArray();\n\n        for(int k=0;k&lt;msg.length;k++)\n        {\n            if(Character.isUpperCase(msg[k]))\n            {\n                int j = msg[k] - 'A';\n                msg[k] = code[j];\n            }\n        }\n        return new String(msg);\n    }\n\n    public static void main(String args[])\n    {\n        Scanner sc = new Scanner(System.in);\n\n        System.out.println(&quot;Enter any number between 1 and 26 : &quot;);\n        int r = sc.nextInt();\n        System.out.println();\n\n        CaesarCipher cipher = new CaesarCipher(r);\n\n        System.out.println(&quot;Encryption code : &quot; + new String(cipher.encoder));\n        System.out.println(&quot;Decryption code : &quot; + new String(cipher.decoder));\n        System.out.println();\n\n        System.out.println(&quot;Enter a Message to Encrypt : &quot;);\n        String message = sc.nextLine();\n\n        String coded = cipher.encrypt(message.toUpperCase());\n        System.out.println(&quot;Encrypted Message : &quot; + coded);\n        System.out.println();\n\n        System.out.println(&quot;Decrypted Message : &quot; + cipher.decrypt(coded));\n        sc.close();\n    }\n\n}\n</code></pre>\n<p><strong>Output :</strong></p>\n<p>Enter any number between 1 and 26 :\n4</p>\n<p>Encryption code : EFGHIJKLMNOPQRSTUVWXYZABCD\nDecryption code : WXYZABCDEFGHIJKLMNOPQRSTUV</p>\n<p>Enter a Message to Encrypt :\nEncrypted Message :</p>\n<p>Decrypted Message :</p>\n"},{"tags":["java","algorithm","sha1"],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664732282,"creation_date":1664732282,"answer_id":73927986,"question_id":73927482,"body_markdown":"To achieve the output you get from the online tool by selecting the input type as hex. It means the input string is a hex of the original string. So you need to decode hex to a string first and calculate sha1.\r\n\r\n```\r\norg.apache.commons.codec.digest.DigestUtils.sha1Hex(org.apache.commons.codec.binary.Hex.decodeHex(&quot;303934393837353974570C61944628F63032313430303030303043384137&quot;))\r\n```\r\nWill give you output `89b302d863e996d73f6fcbcf20489969ca4d593c`","title":"Change the input type of the sha1 alg","body":"<p>To achieve the output you get from the online tool by selecting the input type as hex. It means the input string is a hex of the original string. So you need to decode hex to a string first and calculate sha1.</p>\n<pre><code>org.apache.commons.codec.digest.DigestUtils.sha1Hex(org.apache.commons.codec.binary.Hex.decodeHex(&quot;303934393837353974570C61944628F63032313430303030303043384137&quot;))\n</code></pre>\n<p>Will give you output <code>89b302d863e996d73f6fcbcf20489969ca4d593c</code></p>\n"}],"owner":{"account_id":5004455,"reputation":133,"user_id":4022511,"accept_rate":17,"display_name":"Ramazan Cinardere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73927986,"answer_count":1,"score":1,"last_activity_date":1664732282,"creation_date":1664727863,"question_id":73927482,"body_markdown":"I am faced with a curious task. I have to generate a SHA1 hash based on an input parameter. Input is the following input `303934393837353974570C61944628F63032313430303030303043384137` and the result of the sha1 hash should be `89b302d863e996d73f6fcbcf20489969ca4d593c`. \r\n\r\nBut if I try following:\r\n\r\n       var result = org.apache.commons.codec.digest.DigestUtils.sha1Hex( input);\r\n\r\nThe result will be `e099219046775bc9528599c3077f7f49756f9bb1`.\r\n\r\nThe curious is, thus the online converter [SHA-Online-Tool][1] if I change the input type, then the result will be as expected.\r\n\r\nFor any hint I am grateful!\r\n\r\n\r\n  [1]: https://emn178.github.io/online-tools/sha1.html","title":"Change the input type of the sha1 alg","body":"<p>I am faced with a curious task. I have to generate a SHA1 hash based on an input parameter. Input is the following input <code>303934393837353974570C61944628F63032313430303030303043384137</code> and the result of the sha1 hash should be <code>89b302d863e996d73f6fcbcf20489969ca4d593c</code>.</p>\n<p>But if I try following:</p>\n<pre><code>   var result = org.apache.commons.codec.digest.DigestUtils.sha1Hex( input);\n</code></pre>\n<p>The result will be <code>e099219046775bc9528599c3077f7f49756f9bb1</code>.</p>\n<p>The curious is, thus the online converter <a href=\"https://emn178.github.io/online-tools/sha1.html\" rel=\"nofollow noreferrer\">SHA-Online-Tool</a> if I change the input type, then the result will be as expected.</p>\n<p>For any hint I am grateful!</p>\n"},{"tags":["java","eclipse","selenium","swing","user-interface"],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664732245,"creation_date":1664732245,"answer_id":73927984,"question_id":73927967,"body_markdown":"You can&#39;t change it.\r\n\r\nWhat you can do is to create window without that header and custom paint it.","title":"How to change JFrame header color?","body":"<p>You can't change it.</p>\n<p>What you can do is to create window without that header and custom paint it.</p>\n"}],"owner":{"account_id":26508793,"reputation":1,"user_id":20144483,"display_name":"vigese1573"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1664751646,"answer_count":1,"score":-1,"last_activity_date":1664732245,"creation_date":1664732071,"question_id":73927967,"body_markdown":"I&#39;m trying to change `JFrame Header color`, it&#39;s stable with white color by default but i need to change it to black like the body background. ![screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SRJKz.png","title":"How to change JFrame header color?","body":"<p>I'm trying to change <code>JFrame Header color</code>, it's stable with white color by default but i need to change it to black like the body background. <img src=\"https://i.stack.imgur.com/SRJKz.png\" alt=\"screenshot\" /></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1664731519,"creation_date":1664731519,"answer_id":73927893,"question_id":73927859,"body_markdown":"There is no empty constructor in `Vehicle` so a default `super()` in the `Car` copy constructor fails. You can use `super` instead. Like,\r\n\r\n    public Car(Car c){\r\n        super(c.cylinders, c.maker, c.owner);\r\n        this.passengers = c.passengers;\r\n        this.carWeight = c.carWeight;\r\n    }\r\n","title":"Getting this error when working with derived class &quot;error: no suitable constructor found for Vehicle(no arguments)&quot;","body":"<p>There is no empty constructor in <code>Vehicle</code> so a default <code>super()</code> in the <code>Car</code> copy constructor fails. You can use <code>super</code> instead. Like,</p>\n<pre><code>public Car(Car c){\n    super(c.cylinders, c.maker, c.owner);\n    this.passengers = c.passengers;\n    this.carWeight = c.carWeight;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664731531,"creation_date":1664731531,"answer_id":73927894,"question_id":73927859,"body_markdown":"This should do the work:\r\n\r\n```java\r\npublic Car(Car c){\r\n    super(c);\r\n    this.passengers = c.passengers;\r\n    this.carWeight = c.carWeight;\r\n}\r\n```\r\n\r\n### Why is there an error?\r\n\r\nIn your second constructor, an empty `super()` call will be implicitly made. Why? Since you do not call it explicitly and a `Vehicle` object is being constructed. You can add an empty constructor in the `Vehicle` class or use the snippet above.","title":"Getting this error when working with derived class &quot;error: no suitable constructor found for Vehicle(no arguments)&quot;","body":"<p>This should do the work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Car(Car c){\n    super(c);\n    this.passengers = c.passengers;\n    this.carWeight = c.carWeight;\n}\n</code></pre>\n<h3>Why is there an error?</h3>\n<p>In your second constructor, an empty <code>super()</code> call will be implicitly made. Why? Since you do not call it explicitly and a <code>Vehicle</code> object is being constructed. You can add an empty constructor in the <code>Vehicle</code> class or use the snippet above.</p>\n"}],"owner":{"account_id":24588795,"reputation":3,"user_id":18492974,"display_name":"Abdulp032"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1664732891,"answer_count":2,"score":-1,"last_activity_date":1664731531,"creation_date":1664731264,"question_id":73927859,"body_markdown":"I&#39;m working with 2 classes a parent class Vehicle and child class Car, each class has a copy constructor but I get the error\r\n\r\n&gt;     &gt;  &quot;error: no suitable constructor found for Vehicle(no arguments)\r\n&gt;     &gt; public Car(Car c){\r\n&gt;     &gt;                  ^\r\n&gt;     &gt;     constructor Vehicle.Vehicle(int,String,Student) is not applicable\r\n&gt;     &gt;       (actual and formal argument lists differ in length)\r\n&gt;     &gt;     constructor Vehicle.Vehicle(Vehicle) is not applicable\r\n&gt;     &gt;       (actual and formal argument lists differ in length)&quot;\r\n\r\n\r\nThis is when using the copy constructor in the car class and not sure how to fix it.\r\nThe Vehicle class\r\n```\r\npublic class Vehicle{\r\n\r\nint cylinders;\r\nString maker;\r\nStudent owner;\r\n\r\npublic Vehicle (int cylinders, String maker, Student owner){\r\nthis.cylinders = cylinders;\r\nthis.maker = maker;\r\nthis.owner = owner;\r\n}\r\n\r\npublic Vehicle(Vehicle v){\r\nthis.cylinders = v.cylinders;\r\nthis.maker = v.maker;\r\nthis.owner = v.owner;\r\n}\r\n}\r\n\r\n```\r\nThe Car class is as follows\r\n```\r\npublic class Car extends Vehicle{\r\nint passengers;\r\ndouble carWeight;\r\n\r\npublic Car(int cylinders, String maker, Student owner, int passengers, double carWeight){\r\nsuper(cylinders, maker, owner);\r\nthis.passengers = passengers;\r\nthis.carWeight = carWeight;\r\n}\r\n\r\npublic Car(Car c){\r\nthis.cylinders = c.cylinders;\r\nthis.maker = c.maker;\r\nthis.owner = c.owner;\r\nthis.passengers = c.passengers;\r\nthis.carWeight = c.carWeight;\r\n}\r\n}\r\n```\r\n","title":"Getting this error when working with derived class &quot;error: no suitable constructor found for Vehicle(no arguments)&quot;","body":"<p>I'm working with 2 classes a parent class Vehicle and child class Car, each class has a copy constructor but I get the error</p>\n<blockquote>\n<pre><code>&gt;  &quot;error: no suitable constructor found for Vehicle(no arguments)\n&gt; public Car(Car c){\n&gt;                  ^\n&gt;     constructor Vehicle.Vehicle(int,String,Student) is not applicable\n&gt;       (actual and formal argument lists differ in length)\n&gt;     constructor Vehicle.Vehicle(Vehicle) is not applicable\n&gt;       (actual and formal argument lists differ in length)&quot;\n</code></pre>\n</blockquote>\n<p>This is when using the copy constructor in the car class and not sure how to fix it.\nThe Vehicle class</p>\n<pre><code>public class Vehicle{\n\nint cylinders;\nString maker;\nStudent owner;\n\npublic Vehicle (int cylinders, String maker, Student owner){\nthis.cylinders = cylinders;\nthis.maker = maker;\nthis.owner = owner;\n}\n\npublic Vehicle(Vehicle v){\nthis.cylinders = v.cylinders;\nthis.maker = v.maker;\nthis.owner = v.owner;\n}\n}\n\n</code></pre>\n<p>The Car class is as follows</p>\n<pre><code>public class Car extends Vehicle{\nint passengers;\ndouble carWeight;\n\npublic Car(int cylinders, String maker, Student owner, int passengers, double carWeight){\nsuper(cylinders, maker, owner);\nthis.passengers = passengers;\nthis.carWeight = carWeight;\n}\n\npublic Car(Car c){\nthis.cylinders = c.cylinders;\nthis.maker = c.maker;\nthis.owner = c.owner;\nthis.passengers = c.passengers;\nthis.carWeight = c.carWeight;\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","amazon-ec2","remote-server","smtpclient"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664575672,"post_id":73914143,"comment_id":130511170,"body_markdown":"Hi &amp; Welcome! Or: You have missing configuration on your remote machine, or: (In your SMTP server) there is a missing &quot;permission&quot; to send/authenticate from &quot;remote&quot; (but from &quot;local&quot;...however)(?)","body":"Hi &amp; Welcome! Or: You have missing configuration on your remote machine, or: (In your SMTP server) there is a missing &quot;permission&quot; to send/authenticate from &quot;remote&quot; (but from &quot;local&quot;...however)(?)"},{"owner":{"account_id":6161515,"reputation":11,"user_id":4802962,"display_name":"Mohamed Gomaa"},"score":1,"creation_date":1664576054,"post_id":73914143,"comment_id":130511241,"body_markdown":"Hi, I confirmed all configs on the remote machine firewall configured properly, but still there is exception,\nIs it possible to send emails using  outlook smtp on amazon instance or we have to use amazon SES to send emails","body":"Hi, I confirmed all configs on the remote machine firewall configured properly, but still there is exception, Is it possible to send emails using  outlook smtp on amazon instance or we have to use amazon SES to send emails"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664576269,"post_id":73914143,"comment_id":130511284,"body_markdown":"Best: ask your SMTP admin!:) ... [Possible dup](https://stackoverflow.com/q/33243450/592355)(no accepted answer;(","body":"Best: ask your SMTP admin!:) ... <a href=\"https://stackoverflow.com/q/33243450/592355\">Possible dup</a>(no accepted answer;("}],"owner":{"account_id":6161515,"reputation":11,"user_id":4802962,"display_name":"Mohamed Gomaa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664730629,"creation_date":1664573620,"question_id":73914143,"body_markdown":"when deploying my jar file on a remote server like AWS EC2 and using it to send emails over smtp connection i got : \r\n\r\nAuthentication failed; nested exception is javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful [MN2PR01CA0051.prod.exchangelabs.com]\r\n\r\nBut it is working proberly when running this app on my local machine,\r\n\r\nIs remote servers or there is a configurations must be added ?","title":"Why I got authentication failed exception when sending emails using spring boot app deployed on AWS EC2?","body":"<p>when deploying my jar file on a remote server like AWS EC2 and using it to send emails over smtp connection i got :</p>\n<p>Authentication failed; nested exception is javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful [MN2PR01CA0051.prod.exchangelabs.com]</p>\n<p>But it is working proberly when running this app on my local machine,</p>\n<p>Is remote servers or there is a configurations must be added ?</p>\n"},{"tags":["java","enums"],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664730434,"creation_date":1664730434,"answer_id":73927765,"question_id":73926351,"body_markdown":"When you have a constant name and a class, you can use the static [two-argument valueOf method](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Enum.html#valueOf(java.lang.Class,java.lang.String)) to convert the name to an enum value:\r\n\r\n    String name = changeState.state();\r\n    Class&lt;? extends Enum&lt;?&gt;&gt; type = changeState.stateType();\r\n    Enum&lt;?&gt; state = Enum.valueOf(type, name);\r\n","title":"Deserialize generified Enum","body":"<p>When you have a constant name and a class, you can use the static <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Enum.html#valueOf(java.lang.Class,java.lang.String)\" rel=\"nofollow noreferrer\">two-argument valueOf method</a> to convert the name to an enum value:</p>\n<pre><code>String name = changeState.state();\nClass&lt;? extends Enum&lt;?&gt;&gt; type = changeState.stateType();\nEnum&lt;?&gt; state = Enum.valueOf(type, name);\n</code></pre>\n"}],"owner":{"account_id":7878270,"reputation":152,"user_id":5953318,"display_name":"giklo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73927765,"answer_count":1,"score":0,"last_activity_date":1664730434,"creation_date":1664718647,"question_id":73926351,"body_markdown":"I want to deserialize a generic enum. Sender and receiver use `ObjectMapper` for `MAPPER`:\r\n\r\n```\r\nString data = MAPPER.writeValueAsString(new ChangeState(this.state.toString(), this.state.getClass()));\r\nbus.talkAsync(exchangeName, ROUTE_SET_STATE, data);\r\n```\r\n\r\nThe Class `ChangeState`\r\n```\r\npublic record ChangeState&lt;E extends Enum&lt;E&gt;&gt;(String someInfo, String state, Class&lt;E&gt; stateType) {}\r\n```\r\n\r\nThe object being sent could look like this:  \r\n`{&quot;someInfo&quot;:&quot;Test&quot;,&quot;state&quot;:&quot;IDLE&quot;,&quot;stateType&quot;:&quot;com.demo.common.states.ServiceAState&quot;}`\r\n`{&quot;someInfo&quot;:&quot;Test&quot;,&quot;state&quot;:&quot;SOME&quot;,&quot;stateType&quot;:&quot;com.demo.common.states.ServiceBState&quot;}`\r\n\r\nI deserialize the message like this:\r\n```\r\nChangeState&lt;? extends Enum&lt;?&gt;&gt; changeState = MAPPER.readValue(message, ChangeState.class);\r\n```\r\n\r\nBut I&#39;m unable to use the enum afterwards. How can I get back the enum (e.g. with `valueOf`)?\r\n\r\n### What I&#39;ve tried\r\n#### Cast\r\nThe following does not work, because `stateType` is an unknown class:\r\n```\r\nClass&lt;? extends Enum&lt;?&gt;&gt; stateType = changeState.stateType();\r\nEnum&lt;?&gt; state = (stateType) changeState.state(); // Error thrown here for the cast type\r\n```\r\n\r\n#### Transmit the enum as enum\r\nI tried to send the enum directly:\r\n```\r\npublic record ChangeState&lt;E extends Enum&lt;E&gt;&gt;(String someInfo, E state) {}\r\n```\r\nBut this leads to an error, because the enum type can&#39;t be identified, since the message looks like this: `{&quot;someInfo&quot;:&quot;Test&quot;,&quot;state&quot;:&quot;IDLE&quot;}`.\r\n\r\n### Additional\r\n- Each service has it&#39;s own state enum, since each service can have different states. The main target ist to make a service, which keeps track of all the states of every other service\r\n- It&#39;s a multi module project. Every module uses the `com.demo.common` module to share classes. The used enums are usable in all modules.\r\n- `bus` is a RabbitMQ BusConnector.","title":"Deserialize generified Enum","body":"<p>I want to deserialize a generic enum. Sender and receiver use <code>ObjectMapper</code> for <code>MAPPER</code>:</p>\n<pre><code>String data = MAPPER.writeValueAsString(new ChangeState(this.state.toString(), this.state.getClass()));\nbus.talkAsync(exchangeName, ROUTE_SET_STATE, data);\n</code></pre>\n<p>The Class <code>ChangeState</code></p>\n<pre><code>public record ChangeState&lt;E extends Enum&lt;E&gt;&gt;(String someInfo, String state, Class&lt;E&gt; stateType) {}\n</code></pre>\n<p>The object being sent could look like this:<br />\n<code>{&quot;someInfo&quot;:&quot;Test&quot;,&quot;state&quot;:&quot;IDLE&quot;,&quot;stateType&quot;:&quot;com.demo.common.states.ServiceAState&quot;}</code>\n<code>{&quot;someInfo&quot;:&quot;Test&quot;,&quot;state&quot;:&quot;SOME&quot;,&quot;stateType&quot;:&quot;com.demo.common.states.ServiceBState&quot;}</code></p>\n<p>I deserialize the message like this:</p>\n<pre><code>ChangeState&lt;? extends Enum&lt;?&gt;&gt; changeState = MAPPER.readValue(message, ChangeState.class);\n</code></pre>\n<p>But I'm unable to use the enum afterwards. How can I get back the enum (e.g. with <code>valueOf</code>)?</p>\n<h3>What I've tried</h3>\n<h4>Cast</h4>\n<p>The following does not work, because <code>stateType</code> is an unknown class:</p>\n<pre><code>Class&lt;? extends Enum&lt;?&gt;&gt; stateType = changeState.stateType();\nEnum&lt;?&gt; state = (stateType) changeState.state(); // Error thrown here for the cast type\n</code></pre>\n<h4>Transmit the enum as enum</h4>\n<p>I tried to send the enum directly:</p>\n<pre><code>public record ChangeState&lt;E extends Enum&lt;E&gt;&gt;(String someInfo, E state) {}\n</code></pre>\n<p>But this leads to an error, because the enum type can't be identified, since the message looks like this: <code>{&quot;someInfo&quot;:&quot;Test&quot;,&quot;state&quot;:&quot;IDLE&quot;}</code>.</p>\n<h3>Additional</h3>\n<ul>\n<li>Each service has it's own state enum, since each service can have different states. The main target ist to make a service, which keeps track of all the states of every other service</li>\n<li>It's a multi module project. Every module uses the <code>com.demo.common</code> module to share classes. The used enums are usable in all modules.</li>\n<li><code>bus</code> is a RabbitMQ BusConnector.</li>\n</ul>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664175585,"post_id":73847368,"comment_id":130402456,"body_markdown":"For starters don&#39;t use `@Data` for entities, that is a bad idea, it generates a wrong `equals`/`hashCode` and `toString` for JPA managed entities. Second implement a proper `equals`/`hashCode`. Next your `assignEvent` is wrong, you should also add the `photo` to the list in `Event`. When deleting you should also remove the `photo` from the list in event. And what you are doing in your controller (the 2 calls to the `photoService` should be 1 service call as that is the use case you are trying to do (and it should all be ok or not). I suggest move the `save` to the `assignEvent` method.","body":"For starters don&#39;t use <code>@Data</code> for entities, that is a bad idea, it generates a wrong <code>equals</code>/<code>hashCode</code> and <code>toString</code> for JPA managed entities. Second implement a proper <code>equals</code>/<code>hashCode</code>. Next your <code>assignEvent</code> is wrong, you should also add the <code>photo</code> to the list in <code>Event</code>. When deleting you should also remove the <code>photo</code> from the list in event. And what you are doing in your controller (the 2 calls to the <code>photoService</code> should be 1 service call as that is the use case you are trying to do (and it should all be ok or not). I suggest move the <code>save</code> to the <code>assignEvent</code> method."},{"owner":{"account_id":25882418,"reputation":11,"user_id":19611218,"display_name":"Bloome"},"score":0,"creation_date":1664211474,"post_id":73847368,"comment_id":130414514,"body_markdown":"Okay, that was very constructive cuz I learnt something by it. But it didn&#39;t solve my problem.","body":"Okay, that was very constructive cuz I learnt something by it. But it didn&#39;t solve my problem."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664266297,"post_id":73847368,"comment_id":130425942,"body_markdown":"What have you changed? Show it in your question.","body":"What have you changed? Show it in your question."},{"owner":{"account_id":25882418,"reputation":11,"user_id":19611218,"display_name":"Bloome"},"score":0,"creation_date":1664302202,"post_id":73847368,"comment_id":130439068,"body_markdown":"Edited the code in question. I removed the @Data and generated getters and setters instead. Modified the assignEvent method to add the photo to the list in Event. Modified the PhotoController as well that it doesn&#39;t call the photoService twice and photo gets saved in the assignEvent instead. It&#39;s still updating the only existing photo instead of creating a new (additional) one. I already tried first creating several photos and then assign them to the event per passing id of event and photo via GET using path variabeles and that worked well. Why doesn&#39;t it work with current controller method..","body":"Edited the code in question. I removed the @Data and generated getters and setters instead. Modified the assignEvent method to add the photo to the list in Event. Modified the PhotoController as well that it doesn&#39;t call the photoService twice and photo gets saved in the assignEvent instead. It&#39;s still updating the only existing photo instead of creating a new (additional) one. I already tried first creating several photos and then assign them to the event per passing id of event and photo via GET using path variabeles and that worked well. Why doesn&#39;t it work with current controller method.."},{"owner":{"account_id":25882418,"reputation":11,"user_id":19611218,"display_name":"Bloome"},"score":0,"creation_date":1664304850,"post_id":73847368,"comment_id":130439886,"body_markdown":"Okay, there is definitely something strange going on in that application. I created 3 events. I can only add more than one photo to event number 3 (!). Event 1 and 2 stay at one photo. Every other event after 3 that I create can hold only one photo again. And the strangest thing is: it removes the photo from Event 3. So if Event 3 has 5 photos and I add the first and only photo to Event number 4 Event 3 will have 4 photos remaining.","body":"Okay, there is definitely something strange going on in that application. I created 3 events. I can only add more than one photo to event number 3 (!). Event 1 and 2 stay at one photo. Every other event after 3 that I create can hold only one photo again. And the strangest thing is: it removes the photo from Event 3. So if Event 3 has 5 photos and I add the first and only photo to Event number 4 Event 3 will have 4 photos remaining."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664351833,"post_id":73847368,"comment_id":130449081,"body_markdown":"Make sure you have a proper `equals`/`hashCode` (see https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/), also make sure you are setting the `cascadeType` on the `ManyToOne` to `ALL` so that the even gets properly saved (and you manage the direction of the relation on both sides). The call to `eventService.getEventById(id)` should be in the `assignEvent` method as well, you should just pass the id. Make sure that the `assignEvent` method is transactional.","body":"Make sure you have a proper <code>equals</code>/<code>hashCode</code> (see <a href=\"https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>), also make sure you are setting the <code>cascadeType</code> on the <code>ManyToOne</code> to <code>ALL</code> so that the even gets properly saved (and you manage the direction of the relation on both sides). The call to <code>eventService.getEventById(id)</code> should be in the <code>assignEvent</code> method as well, you should just pass the id. Make sure that the <code>assignEvent</code> method is transactional."},{"owner":{"account_id":25882418,"reputation":11,"user_id":19611218,"display_name":"Bloome"},"score":0,"creation_date":1664385467,"post_id":73847368,"comment_id":130461669,"body_markdown":"Implemented equals/hashCode in Event and Photo, added the cascadeType moved the eventService.getEventById(id) to the assignEvent method. That all removed the wacky behavior I decribed before. Now it&#39;s back that I can only assign one photo per event. But still no more. If I put the @Transactional at the assignEvent method in PhotoService it doesn&#39;t change the behavior. Rather I can&#39;t delete the Events by using the button anymore.","body":"Implemented equals/hashCode in Event and Photo, added the cascadeType moved the eventService.getEventById(id) to the assignEvent method. That all removed the wacky behavior I decribed before. Now it&#39;s back that I can only assign one photo per event. But still no more. If I put the @Transactional at the assignEvent method in PhotoService it doesn&#39;t change the behavior. Rather I can&#39;t delete the Events by using the button anymore."}],"answers":[{"tags":[],"owner":{"account_id":25882418,"reputation":11,"user_id":19611218,"display_name":"Bloome"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664730237,"creation_date":1664730237,"answer_id":73927745,"question_id":73847368,"body_markdown":"I have solved the problem.\r\n\r\n**Solution:**\r\n\r\n    @PostMapping(&quot;/photo/upload/{id}&quot;)\r\n    public String uploadPhoto(@ModelAttribute (&quot;photo&quot;) Photo photo, @PathVariable long id){\r\n        Photo newPhoto = new Photo();\r\n        newPhoto.setLabel(photo.getLabel());\r\n        newPhoto.setPhotographer(photo.getPhotographer());\r\n        photoService.assignEvent(newPhoto, id);\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n\r\nI had to modify the PostMapping method. Creating there a new Photo object as well and assign the values from the Photo object I got from the form.","title":"Spring Boot: existing object gets altered instead of a new created","body":"<p>I have solved the problem.</p>\n<p><strong>Solution:</strong></p>\n<pre><code>@PostMapping(&quot;/photo/upload/{id}&quot;)\npublic String uploadPhoto(@ModelAttribute (&quot;photo&quot;) Photo photo, @PathVariable long id){\n    Photo newPhoto = new Photo();\n    newPhoto.setLabel(photo.getLabel());\n    newPhoto.setPhotographer(photo.getPhotographer());\n    photoService.assignEvent(newPhoto, id);\n    return &quot;redirect:/&quot;;\n}\n</code></pre>\n<p>I had to modify the PostMapping method. Creating there a new Photo object as well and assign the values from the Photo object I got from the form.</p>\n"}],"owner":{"account_id":25882418,"reputation":11,"user_id":19611218,"display_name":"Bloome"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664730237,"creation_date":1664134776,"question_id":73847368,"body_markdown":"I am stuck with a problem at a Spring Boot project. To take it short: I&#39;m creating a photo archive and want to save multiple photos to each event. I created Photo and Event objects with annotations to use jpa/Hibernate. Also structured the project using repositories, services and controllers. Built a form to create the events. Index page shows all events plus button to upload a photo to the specific event.\r\nAnd that&#39;s where the problem starts. I can create exactly one photo for each event despite I am creating a new Photo object at the controller and pass it to the Thymeleaf template for photo creation form. When filling the form again I am overwriting the data of the single existing photo and I have no clue why.\r\n\r\nPhoto Class:\r\n\r\n  \r\n    @Entity\r\n    @Table(name = &quot;photographies&quot;)\r\n    public class Photo {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @Column(unique = true, nullable = false)\r\n    private String label;\r\n\r\n    private String photographer;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JsonIgnore\r\n    private Event event;\r\n\r\n    //@Column(nullable = false)\r\n    private Blob image;\r\n\r\n    private Date date;\r\n\r\n    public Photo(){};\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getLabel() {\r\n        return label;\r\n    }\r\n\r\n    public void setLabel(String label) {\r\n        this.label = label;\r\n    }\r\n\r\n    public String getPhotographer() {\r\n        return photographer;\r\n    }\r\n\r\n    public void setPhotographer(String photographer) {\r\n        this.photographer = photographer;\r\n    }\r\n\r\n    public Event getEvent() {\r\n        return event;\r\n    }\r\n\r\n    public void setEvent(Event event) {\r\n        this.event = event;\r\n    }\r\n\r\n    public Blob getImage() {\r\n        return image;\r\n    }\r\n\r\n    public void setImage(Blob image) {\r\n        this.image = image;\r\n    }\r\n\r\n    public Date getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(Date date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public void assignEvent(Event event){\r\n        this.event = event;\r\n        event.getPhotos().add(this);\r\n    }\r\n\r\n      @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Photo photo = (Photo) o;\r\n        return id == photo.id &amp;&amp; Objects.equals(label, photo.label) &amp;&amp; Objects.equals(photographer, photo.photographer) &amp;&amp; Objects.equals(event, photo.event) &amp;&amp; Objects.equals(image, photo.image) &amp;&amp; Objects.equals(date, photo.date);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, label, photographer, event, image, date);\r\n    }\r\n    }\r\n\r\n\r\nEvent Class:\r\n\r\n  \r\n    @Entity\r\n    @Table(name = &quot;event&quot;)\r\n    public class Event {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    private String label;\r\n\r\n    @OneToMany(mappedBy = &quot;event&quot;, fetch = FetchType.LAZY)\r\n    private List&lt;Photo&gt; photos = new LinkedList&lt;&gt;();\r\n\r\n    public Event(String label) {\r\n        this.label = label;\r\n    }\r\n\r\n    public Event(){};\r\n    }\r\n\r\n     @OneToMany(mappedBy = &quot;event&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    private List&lt;Photo&gt; photos = new LinkedList&lt;&gt;();\r\n\r\n    public Event(String label) {\r\n        this.label = label;\r\n    }\r\n\r\n    public Event(){};\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getLabel() {\r\n        return label;\r\n    }\r\n\r\n    public void setLabel(String label) {\r\n        this.label = label;\r\n    }\r\n\r\n    public List&lt;Photo&gt; getPhotos() {\r\n        return photos;\r\n    }\r\n\r\n    public void setPhotos(List&lt;Photo&gt; photos) {\r\n        this.photos = photos;\r\n    }\r\n\r\n    public void addPhoto(Photo photo){\r\n        photos.add(photo);\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Event event = (Event) o;\r\n        return id == event.id &amp;&amp; Objects.equals(label, event.label) &amp;&amp; Objects.equals(photos, event.photos);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, label, photos);\r\n    }\r\n    }\r\n\r\nPhoto Service:\r\n\r\n    @Service\r\n    public class PhotoService {\r\n\r\n    @Autowired\r\n    private PhotoRepository photoRepository;\r\n\r\n\r\n    public List&lt;Photo&gt; findAllPhotosOrderedByDate() {\r\n        return photoRepository.findAllByOrderByDateAsc();\r\n    }\r\n\r\n    public void deletePhoto(long id) {\r\n        Photo photo = photoRepository.findById(id).get();\r\n        photoRepository.delete(photo);\r\n    }\r\n\r\n    public void savePhoto(Photo photo){\r\n        photoRepository.save(photo);\r\n    }\r\n\r\n    public Photo getPhotoById(long id){\r\n        return photoRepository.findPhotoById(id);\r\n    }\r\n\r\n    @Transactional\r\n    public void assignEvent(Photo photo, long id){\r\n        photo.assignEvent(eventRepository.findById(id).get());\r\n        photoRepository.save(photo);\r\n    }\r\n\r\nEvent Service:\r\n\r\n    @Service\r\n    public class EventService {\r\n    \r\n    @Autowired\r\n    private EventRepository eventrepository;\r\n\r\n    @Autowired\r\n    private PhotoRepository photoRepository;\r\n\r\n\r\n    public List&lt;Event&gt; showEvents() {\r\n        return eventrepository.findAll();\r\n    }\r\n\r\n    public void saveEvent(Event event) {\r\n        eventrepository.save(event);\r\n    }\r\n\r\n    public void deleteEvent(long id) {\r\n        Event deletedEvent = eventrepository.findById(id).get();\r\n\r\n        for (Photo photo : deletedEvent.getPhotos()){\r\n            photo.assignEvent(null);\r\n            photoRepository.save(photo);\r\n        }\r\n\r\n        eventrepository.delete(deletedEvent);\r\n    }\r\n\r\n    public Event getEventById(long id){\r\n        return eventrepository.findById(id).get();\r\n    }\r\n    }\r\n\r\nPhoto Controller:\r\n\r\n    @Controller\r\n    public class PhotoController {\r\n    \r\n        @Autowired\r\n        private PhotoService photoService;\r\n    \r\n        @Autowired\r\n        private EventService eventService;\r\n    \r\n        @GetMapping(&quot;/photo/upload/{id}&quot;)\r\n        public String uploadPhoto(Model model, @PathVariable long id){\r\n            Photo photo = new Photo();\r\n            model.addAttribute(&quot;photo&quot;, photo);\r\n            model.addAttribute(&quot;id&quot;, id);\r\n            return &quot;uploadPhoto&quot;;\r\n        }\r\n    \r\n        @PostMapping(&quot;/photo/upload/{id}&quot;) \r\n             public String uploadPhoto(@ModelAttribute (&quot;photo&quot;) Photo photo, @PathVariable long id){\r\n        photoService.assignEvent(photo, id);\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n\r\n\r\nIndex html for getting the specific Event-ID when clicking upload button:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;Photo Upload&lt;/title&gt;\r\n        &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n    &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;nav class=&quot;navbar navbar-expand-lg navbar-dark bg-dark&quot;&gt;\r\n                &lt;a class=&quot;navbar-brand&quot;&gt; &lt;img src=&quot;/images/sticker.webp&quot; width=&quot;50&quot; height=&quot;50&quot; alt=&quot;An image of Bloome&quot;&gt;\r\n                &lt;span class=&quot;navbar-brand mb-0 h1 fs-3 align-middle&quot;&gt;Bloome Fursuit Photographies&lt;/span&gt;\r\n                &lt;/a&gt;\r\n                &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarSupportedContent&quot;&gt;\r\n                    &lt;ul class=&quot;navbar-nav me-auto&quot;&gt;\r\n                        &lt;li class=&quot;nav-item&quot;&gt;\r\n                            &lt;a class=&quot;nav-link&quot; href=&quot;/event/add&quot;&gt;&lt;p class=&quot;text-light bg-primary m-2 p-2&quot;&gt;Create new event&lt;/p&gt;&lt;/a&gt;\r\n                        &lt;/li&gt;\r\n                    &lt;/ul&gt;\r\n                &lt;/div&gt;\r\n            &lt;/nav&gt;\r\n            &lt;br/&gt;\r\n            &lt;div class=&quot;container&quot;&gt;\r\n                &lt;div class=&quot;row&quot;&gt;\r\n                    &lt;h1&gt;List of events&lt;/h1&gt;\r\n                &lt;/div&gt;\r\n                &lt;br/&gt;\r\n                &lt;table class=&quot;table table-striped&quot;&gt;\r\n                    &lt;thead class=&quot;table-dark&quot;&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;th scope=&quot;col&quot;&gt;Label&lt;/th&gt;\r\n                        &lt;th scope=&quot;col&quot;&gt;Number of photos&lt;/th&gt;\r\n                        &lt;th scope=&quot;col&quot;&gt;Actions&lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;/thead&gt;\r\n                    &lt;tbody&gt;\r\n                    &lt;tr th:each = &quot;event : ${events}&quot;&gt;\r\n                        &lt;th scope=&quot;row&quot; th:text = &quot;${event.label}&quot;&gt;&lt;/th&gt;\r\n                        &lt;td th:text = &quot;${event.photos.size}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td&gt;\r\n                            &lt;a th:href=&quot;@{/photo/upload/{id} (id=${event.id})}&quot; class=&quot;btn btn-primary&quot;&gt;Upload photo&lt;/a&gt;\r\n                            &lt;a th:href=&quot;@{/event/delete/{id} (id=${event.id})}&quot; class=&quot;btn btn-danger&quot;&gt;Delete event&lt;/a&gt;\r\n                        &lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;/tbody&gt;\r\n                &lt;/table&gt;\r\n            &lt;/div&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nPhoto html form:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n        &lt;head&gt;\r\n            &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n            &lt;title&gt;Upload photo&lt;/title&gt;\r\n            &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;br/&gt;\r\n            &lt;div class=&quot;container&quot;&gt;\r\n                &lt;form th:action = &quot;@{/photo/upload/{id} (id=${id})}&quot; th:object=&quot;${photo}&quot; method = &quot;POST&quot;&gt;\r\n                    &lt;div class=&quot;form-group row&quot;&gt;\r\n                        &lt;div class=&quot;col&quot;&gt;\r\n                            &lt;label for=&quot;labelPhoto&quot; class=&quot;col-sm-2 col-form-label col-form-label-lg&quot;&gt;Label&lt;/label&gt;\r\n                            &lt;input type=&quot;text&quot; class=&quot;form-control form-control-lg rounded-pill&quot; id=&quot;labelPhoto&quot; th:field = &quot;*{label}&quot; placeholder=&quot;Enter label&quot;&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;col&quot;&gt;\r\n                            &lt;label for=&quot;photographer&quot; class=&quot;col-sm-2 col-form-label col-form-label-lg&quot;&gt;Photographer&lt;/label&gt;\r\n                            &lt;input type=&quot;text&quot; class=&quot;form-control form-control-lg rounded-pill&quot; id=&quot;photographer&quot; th:field = &quot;*{photographer}&quot; placeholder=&quot;Enter photographer&quot;&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;br/&gt;\r\n                    &lt;div class=&quot;col-sm&quot;&gt;\r\n                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary rounded-pill m-2 p-2 align-text-top&quot;&gt;Submit&lt;/button&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nI am passing the Event-ID through the GET and the POST-Endpoint of the Photo controller that I can assign there the Event to the photo. As far as I checked it the right ID arrives at &quot;/photo/upload/{id}&quot;. I don&#39;t know why it seems there is no new photo created but instead the only existing gets altered since I don&#39;t reference the existing one when clicking on the upload button.","title":"Spring Boot: existing object gets altered instead of a new created","body":"<p>I am stuck with a problem at a Spring Boot project. To take it short: I'm creating a photo archive and want to save multiple photos to each event. I created Photo and Event objects with annotations to use jpa/Hibernate. Also structured the project using repositories, services and controllers. Built a form to create the events. Index page shows all events plus button to upload a photo to the specific event.\nAnd that's where the problem starts. I can create exactly one photo for each event despite I am creating a new Photo object at the controller and pass it to the Thymeleaf template for photo creation form. When filling the form again I am overwriting the data of the single existing photo and I have no clue why.</p>\n<p>Photo Class:</p>\n<pre><code>@Entity\n@Table(name = &quot;photographies&quot;)\npublic class Photo {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long id;\n\n@Column(unique = true, nullable = false)\nprivate String label;\n\nprivate String photographer;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JsonIgnore\nprivate Event event;\n\n//@Column(nullable = false)\nprivate Blob image;\n\nprivate Date date;\n\npublic Photo(){};\n\npublic long getId() {\n    return id;\n}\n\npublic void setId(long id) {\n    this.id = id;\n}\n\npublic String getLabel() {\n    return label;\n}\n\npublic void setLabel(String label) {\n    this.label = label;\n}\n\npublic String getPhotographer() {\n    return photographer;\n}\n\npublic void setPhotographer(String photographer) {\n    this.photographer = photographer;\n}\n\npublic Event getEvent() {\n    return event;\n}\n\npublic void setEvent(Event event) {\n    this.event = event;\n}\n\npublic Blob getImage() {\n    return image;\n}\n\npublic void setImage(Blob image) {\n    this.image = image;\n}\n\npublic Date getDate() {\n    return date;\n}\n\npublic void setDate(Date date) {\n    this.date = date;\n}\n\npublic void assignEvent(Event event){\n    this.event = event;\n    event.getPhotos().add(this);\n}\n\n  @Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Photo photo = (Photo) o;\n    return id == photo.id &amp;&amp; Objects.equals(label, photo.label) &amp;&amp; Objects.equals(photographer, photo.photographer) &amp;&amp; Objects.equals(event, photo.event) &amp;&amp; Objects.equals(image, photo.image) &amp;&amp; Objects.equals(date, photo.date);\n}\n\n@Override\npublic int hashCode() {\n    return Objects.hash(id, label, photographer, event, image, date);\n}\n}\n</code></pre>\n<p>Event Class:</p>\n<pre><code>@Entity\n@Table(name = &quot;event&quot;)\npublic class Event {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long id;\n\nprivate String label;\n\n@OneToMany(mappedBy = &quot;event&quot;, fetch = FetchType.LAZY)\nprivate List&lt;Photo&gt; photos = new LinkedList&lt;&gt;();\n\npublic Event(String label) {\n    this.label = label;\n}\n\npublic Event(){};\n}\n\n @OneToMany(mappedBy = &quot;event&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\nprivate List&lt;Photo&gt; photos = new LinkedList&lt;&gt;();\n\npublic Event(String label) {\n    this.label = label;\n}\n\npublic Event(){};\n\npublic long getId() {\n    return id;\n}\n\npublic void setId(long id) {\n    this.id = id;\n}\n\npublic String getLabel() {\n    return label;\n}\n\npublic void setLabel(String label) {\n    this.label = label;\n}\n\npublic List&lt;Photo&gt; getPhotos() {\n    return photos;\n}\n\npublic void setPhotos(List&lt;Photo&gt; photos) {\n    this.photos = photos;\n}\n\npublic void addPhoto(Photo photo){\n    photos.add(photo);\n}\n\n@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Event event = (Event) o;\n    return id == event.id &amp;&amp; Objects.equals(label, event.label) &amp;&amp; Objects.equals(photos, event.photos);\n}\n\n@Override\npublic int hashCode() {\n    return Objects.hash(id, label, photos);\n}\n}\n</code></pre>\n<p>Photo Service:</p>\n<pre><code>@Service\npublic class PhotoService {\n\n@Autowired\nprivate PhotoRepository photoRepository;\n\n\npublic List&lt;Photo&gt; findAllPhotosOrderedByDate() {\n    return photoRepository.findAllByOrderByDateAsc();\n}\n\npublic void deletePhoto(long id) {\n    Photo photo = photoRepository.findById(id).get();\n    photoRepository.delete(photo);\n}\n\npublic void savePhoto(Photo photo){\n    photoRepository.save(photo);\n}\n\npublic Photo getPhotoById(long id){\n    return photoRepository.findPhotoById(id);\n}\n\n@Transactional\npublic void assignEvent(Photo photo, long id){\n    photo.assignEvent(eventRepository.findById(id).get());\n    photoRepository.save(photo);\n}\n</code></pre>\n<p>Event Service:</p>\n<pre><code>@Service\npublic class EventService {\n\n@Autowired\nprivate EventRepository eventrepository;\n\n@Autowired\nprivate PhotoRepository photoRepository;\n\n\npublic List&lt;Event&gt; showEvents() {\n    return eventrepository.findAll();\n}\n\npublic void saveEvent(Event event) {\n    eventrepository.save(event);\n}\n\npublic void deleteEvent(long id) {\n    Event deletedEvent = eventrepository.findById(id).get();\n\n    for (Photo photo : deletedEvent.getPhotos()){\n        photo.assignEvent(null);\n        photoRepository.save(photo);\n    }\n\n    eventrepository.delete(deletedEvent);\n}\n\npublic Event getEventById(long id){\n    return eventrepository.findById(id).get();\n}\n}\n</code></pre>\n<p>Photo Controller:</p>\n<pre><code>@Controller\npublic class PhotoController {\n\n    @Autowired\n    private PhotoService photoService;\n\n    @Autowired\n    private EventService eventService;\n\n    @GetMapping(&quot;/photo/upload/{id}&quot;)\n    public String uploadPhoto(Model model, @PathVariable long id){\n        Photo photo = new Photo();\n        model.addAttribute(&quot;photo&quot;, photo);\n        model.addAttribute(&quot;id&quot;, id);\n        return &quot;uploadPhoto&quot;;\n    }\n\n    @PostMapping(&quot;/photo/upload/{id}&quot;) \n         public String uploadPhoto(@ModelAttribute (&quot;photo&quot;) Photo photo, @PathVariable long id){\n    photoService.assignEvent(photo, id);\n    return &quot;redirect:/&quot;;\n}\n</code></pre>\n<p>Index html for getting the specific Event-ID when clicking upload button:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Photo Upload&lt;/title&gt;\n    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\n&lt;/head&gt;\n    &lt;body&gt;\n        &lt;nav class=&quot;navbar navbar-expand-lg navbar-dark bg-dark&quot;&gt;\n            &lt;a class=&quot;navbar-brand&quot;&gt; &lt;img src=&quot;/images/sticker.webp&quot; width=&quot;50&quot; height=&quot;50&quot; alt=&quot;An image of Bloome&quot;&gt;\n            &lt;span class=&quot;navbar-brand mb-0 h1 fs-3 align-middle&quot;&gt;Bloome Fursuit Photographies&lt;/span&gt;\n            &lt;/a&gt;\n            &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarSupportedContent&quot;&gt;\n                &lt;ul class=&quot;navbar-nav me-auto&quot;&gt;\n                    &lt;li class=&quot;nav-item&quot;&gt;\n                        &lt;a class=&quot;nav-link&quot; href=&quot;/event/add&quot;&gt;&lt;p class=&quot;text-light bg-primary m-2 p-2&quot;&gt;Create new event&lt;/p&gt;&lt;/a&gt;\n                    &lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/div&gt;\n        &lt;/nav&gt;\n        &lt;br/&gt;\n        &lt;div class=&quot;container&quot;&gt;\n            &lt;div class=&quot;row&quot;&gt;\n                &lt;h1&gt;List of events&lt;/h1&gt;\n            &lt;/div&gt;\n            &lt;br/&gt;\n            &lt;table class=&quot;table table-striped&quot;&gt;\n                &lt;thead class=&quot;table-dark&quot;&gt;\n                &lt;tr&gt;\n                    &lt;th scope=&quot;col&quot;&gt;Label&lt;/th&gt;\n                    &lt;th scope=&quot;col&quot;&gt;Number of photos&lt;/th&gt;\n                    &lt;th scope=&quot;col&quot;&gt;Actions&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                &lt;tr th:each = &quot;event : ${events}&quot;&gt;\n                    &lt;th scope=&quot;row&quot; th:text = &quot;${event.label}&quot;&gt;&lt;/th&gt;\n                    &lt;td th:text = &quot;${event.photos.size}&quot;&gt;&lt;/td&gt;\n                    &lt;td&gt;\n                        &lt;a th:href=&quot;@{/photo/upload/{id} (id=${event.id})}&quot; class=&quot;btn btn-primary&quot;&gt;Upload photo&lt;/a&gt;\n                        &lt;a th:href=&quot;@{/event/delete/{id} (id=${event.id})}&quot; class=&quot;btn btn-danger&quot;&gt;Delete event&lt;/a&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Photo html form:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;title&gt;Upload photo&lt;/title&gt;\n        &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;br/&gt;\n        &lt;div class=&quot;container&quot;&gt;\n            &lt;form th:action = &quot;@{/photo/upload/{id} (id=${id})}&quot; th:object=&quot;${photo}&quot; method = &quot;POST&quot;&gt;\n                &lt;div class=&quot;form-group row&quot;&gt;\n                    &lt;div class=&quot;col&quot;&gt;\n                        &lt;label for=&quot;labelPhoto&quot; class=&quot;col-sm-2 col-form-label col-form-label-lg&quot;&gt;Label&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control form-control-lg rounded-pill&quot; id=&quot;labelPhoto&quot; th:field = &quot;*{label}&quot; placeholder=&quot;Enter label&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;col&quot;&gt;\n                        &lt;label for=&quot;photographer&quot; class=&quot;col-sm-2 col-form-label col-form-label-lg&quot;&gt;Photographer&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control form-control-lg rounded-pill&quot; id=&quot;photographer&quot; th:field = &quot;*{photographer}&quot; placeholder=&quot;Enter photographer&quot;&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;br/&gt;\n                &lt;div class=&quot;col-sm&quot;&gt;\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary rounded-pill m-2 p-2 align-text-top&quot;&gt;Submit&lt;/button&gt;\n                &lt;/div&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I am passing the Event-ID through the GET and the POST-Endpoint of the Photo controller that I can assign there the Event to the photo. As far as I checked it the right ID arrives at &quot;/photo/upload/{id}&quot;. I don't know why it seems there is no new photo created but instead the only existing gets altered since I don't reference the existing one when clicking on the upload button.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11720407,"reputation":1858,"user_id":8579556,"display_name":"Luca Murra"},"score":1,"creation_date":1664715565,"post_id":73925964,"comment_id":130530754,"body_markdown":"I think the question is not really clear, what are &quot;digits between two numbers&quot;? Can you make an example?","body":"I think the question is not really clear, what are &quot;digits between two numbers&quot;? Can you make an example?"},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1664715592,"post_id":73925964,"comment_id":130530756,"body_markdown":"What is the total number of digits between 1234 and 4980 then?","body":"What is the total number of digits between 1234 and 4980 then?"},{"owner":{"account_id":26505003,"reputation":13,"user_id":20143150,"display_name":"M.A.A"},"score":0,"creation_date":1664715744,"post_id":73925964,"comment_id":130530785,"body_markdown":"The total digits between 1234 and 4980 would be 14988","body":"The total digits between 1234 and 4980 would be 14988"},{"owner":{"account_id":11720407,"reputation":1858,"user_id":8579556,"display_name":"Luca Murra"},"score":0,"creation_date":1664715854,"post_id":73925964,"comment_id":130530811,"body_markdown":"Can you explain your example?","body":"Can you explain your example?"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664716007,"post_id":73925964,"comment_id":130530833,"body_markdown":"Why 14988? How you calculated that number?","body":"Why 14988? How you calculated that number?"},{"owner":{"account_id":26505003,"reputation":13,"user_id":20143150,"display_name":"M.A.A"},"score":0,"creation_date":1664716011,"post_id":73925964,"comment_id":130530834,"body_markdown":"For example if the first number was 5 and second number was 10 and you were trying to find the total digits between them that would be 5,6,7,8,9,10 we know that 5,6,7,8,9 are single digits so we would add 1+1+1+1+1 and since 10 is a double digit we would add 2, so the sum of 1+1+1+1+1+2 would be the total number of digits between 5 and 10","body":"For example if the first number was 5 and second number was 10 and you were trying to find the total digits between them that would be 5,6,7,8,9,10 we know that 5,6,7,8,9 are single digits so we would add 1+1+1+1+1 and since 10 is a double digit we would add 2, so the sum of 1+1+1+1+1+2 would be the total number of digits between 5 and 10"},{"owner":{"account_id":26505003,"reputation":13,"user_id":20143150,"display_name":"M.A.A"},"score":0,"creation_date":1664716164,"post_id":73925964,"comment_id":130530861,"body_markdown":"I got 14988 because if you subtract 4980 by 1234 + 1 you get 3747, know that 1234 is a 4 digit number, by multiplying 4 by 3747 you get the total amount of digits between the two numbers","body":"I got 14988 because if you subtract 4980 by 1234 + 1 you get 3747, know that 1234 is a 4 digit number, by multiplying 4 by 3747 you get the total amount of digits between the two numbers"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664716279,"creation_date":1664716279,"answer_id":73926081,"question_id":73925964,"body_markdown":"Boy, the algorithm is _not_ obvious – your last comment is rather crucial.\r\n\r\nEvidently this question boils down to:\r\n\r\n* For each &#39;number&#39; between the 2, _including_ __both__ of the edges, count how many digits that number has.\r\n* Sum those up.\r\n\r\nFor your example it&#39;s simply `(4980 - 1234 + 1) * 4` = 14988.\r\n\r\nSounds like you simply need to for-loop: `for (int i = 1234; i &lt;= 4980; i++)`, and then for each `i` just figure out how many digits there are and add those.\r\n","title":"The total number of digits between two numbers","body":"<p>Boy, the algorithm is <em>not</em> obvious – your last comment is rather crucial.</p>\n<p>Evidently this question boils down to:</p>\n<ul>\n<li>For each 'number' between the 2, <em>including</em> <strong>both</strong> of the edges, count how many digits that number has.</li>\n<li>Sum those up.</li>\n</ul>\n<p>For your example it's simply <code>(4980 - 1234 + 1) * 4</code> = 14988.</p>\n<p>Sounds like you simply need to for-loop: <code>for (int i = 1234; i &lt;= 4980; i++)</code>, and then for each <code>i</code> just figure out how many digits there are and add those.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664730192,"creation_date":1664729657,"answer_id":73927673,"question_id":73925964,"body_markdown":"An straightforward way is to use logarithms.  The number of digits in an integer `n` is `(int)Math.log10(n)+1`.  Assuming you are doing inclusive computations on first thru last it would be as follows:\r\n```\r\n\r\nint sum = 0;\r\nint first = 3;\r\nint last = 3333;\r\nfor (int i = first; i &lt;= last; i++) {\r\n\tsum += Math.log10(i)+1;\r\n}\r\nSystem.out.println(sum);\r\n```\r\nprints\r\n```\r\n12223\r\n```\r\nBut a more efficient and perhaps less obvious way it to forgo `logs` and simply compute in pieces. This will reduce number of iterations of the loop. This works by computing the number of digits and the power in increments. I put in print statements so you can see the progression.\r\n```\r\nint digits = 1;\r\nint power = 10;\r\nint limit = last;\r\nsum = 0;\r\nwhile(power &lt; limit) {\r\n\tif (power &gt; first) {\r\n\t\tsum += (power - first) * digits;\r\n\t\tSystem.out.println(power + &quot; &quot; + first  + &quot; &quot; + digits + &quot; : partial running sum = &quot; + sum);\r\n\t\tfirst = power;\r\n\t}\r\n\t\r\n\tdigits++;\r\n\tpower*= 10;\r\n}\r\nsum += (limit - power/10 + 1)*digits;\r\nSystem.out.println(limit + &quot; &quot; + power/10  + &quot; &quot; + digits + &quot; : partial running sum = &quot; + sum);\r\nSystem.out.println(sum);\r\n```\r\nprints\r\n```\r\n10 3 1 : partial running sum = 7\r\n100 10 2 : partial running sum = 187\r\n1000 100 3 : partial running sum = 2887\r\n3333 1000 4 : final sum = 12223\r\n12223\r\n","title":"The total number of digits between two numbers","body":"<p>An straightforward way is to use logarithms.  The number of digits in an integer <code>n</code> is <code>(int)Math.log10(n)+1</code>.  Assuming you are doing inclusive computations on first thru last it would be as follows:</p>\n<pre><code>\nint sum = 0;\nint first = 3;\nint last = 3333;\nfor (int i = first; i &lt;= last; i++) {\n    sum += Math.log10(i)+1;\n}\nSystem.out.println(sum);\n</code></pre>\n<p>prints</p>\n<pre><code>12223\n</code></pre>\n<p>But a more efficient and perhaps less obvious way it to forgo <code>logs</code> and simply compute in pieces. This will reduce number of iterations of the loop. This works by computing the number of digits and the power in increments. I put in print statements so you can see the progression.</p>\n<pre><code>int digits = 1;\nint power = 10;\nint limit = last;\nsum = 0;\nwhile(power &lt; limit) {\n    if (power &gt; first) {\n        sum += (power - first) * digits;\n        System.out.println(power + &quot; &quot; + first  + &quot; &quot; + digits + &quot; : partial running sum = &quot; + sum);\n        first = power;\n    }\n    \n    digits++;\n    power*= 10;\n}\nsum += (limit - power/10 + 1)*digits;\nSystem.out.println(limit + &quot; &quot; + power/10  + &quot; &quot; + digits + &quot; : partial running sum = &quot; + sum);\nSystem.out.println(sum);\n</code></pre>\n<p>prints</p>\n<pre><code>10 3 1 : partial running sum = 7\n100 10 2 : partial running sum = 187\n1000 100 3 : partial running sum = 2887\n3333 1000 4 : final sum = 12223\n12223\n</code></pre>\n"}],"owner":{"account_id":26505003,"reputation":13,"user_id":20143150,"display_name":"M.A.A"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73927673,"answer_count":2,"score":0,"last_activity_date":1664730192,"creation_date":1664715275,"question_id":73925964,"body_markdown":"I am working on a program right now and part of it requires me to find the total amount of digits between two integers, I have figured it out for integers that have the same amount of digits, e.g. 1234 and 4980 (both have four digits) but I can&#39;t seem to figure it out for the integers that don&#39;t have the same amount of digits, i.e. 3 and 5698 (3 only has one digit and 5698 has four). How might I go about this?","title":"The total number of digits between two numbers","body":"<p>I am working on a program right now and part of it requires me to find the total amount of digits between two integers, I have figured it out for integers that have the same amount of digits, e.g. 1234 and 4980 (both have four digits) but I can't seem to figure it out for the integers that don't have the same amount of digits, i.e. 3 and 5698 (3 only has one digit and 5698 has four). How might I go about this?</p>\n"},{"tags":["java","json","jsonpath"],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664729889,"creation_date":1664729889,"answer_id":73927705,"question_id":42931289,"body_markdown":"You may consider another library _Josson_.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\nDeserialization\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;Inquiry\\&quot;: {&quot; +\r\n        &quot;    \\&quot;Matches\\&quot;: [&quot; +\r\n        &quot;      {&quot; +\r\n        &quot;        \\&quot;TotalLength\\&quot;: 8,&quot; +\r\n        &quot;        \\&quot;TerminatedRecord\\&quot;: [&quot; +\r\n        &quot;          {&quot; +\r\n        &quot;            \\&quot;RecordMatch\\&quot;: {&quot; +\r\n        &quot;              \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;              \\&quot;AsName\\&quot;: \\&quot;M02\\&quot;,&quot; +\r\n        &quot;              \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;              \\&quot;PhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;CountrySubdivisionTaxId\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;NationalId\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;Country\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;DBA\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;PrincipalMatch\\&quot;: [&quot; +\r\n        &quot;                {&quot; +\r\n        &quot;                  \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;PhoneNumber\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;                  \\&quot;NationalId\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;DriversLicense\\&quot;: \\&quot;M01\\&quot;&quot; +\r\n        &quot;                }&quot; +\r\n        &quot;              ]&quot; +\r\n        &quot;            }&quot; +\r\n        &quot;          },&quot; +\r\n        &quot;          {&quot; +\r\n        &quot;            \\&quot;RecordMatch\\&quot;: {&quot; +\r\n        &quot;              \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;              \\&quot;AsName\\&quot;: \\&quot;M02\\&quot;,&quot; +\r\n        &quot;              \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;              \\&quot;PhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;CountrySubdivisionTaxId\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;NationalId\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;Country\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;DBA\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;PrincipalMatch\\&quot;: [&quot; +\r\n        &quot;                {&quot; +\r\n        &quot;                  \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;PhoneNumber\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;                  \\&quot;NationalId\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;DriversLicense\\&quot;: \\&quot;M01\\&quot;&quot; +\r\n        &quot;                }&quot; +\r\n        &quot;              ]&quot; +\r\n        &quot;            }&quot; +\r\n        &quot;          },&quot; +\r\n        &quot;          {&quot; +\r\n        &quot;            \\&quot;RecordMatch\\&quot;: {&quot; +\r\n        &quot;              \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;              \\&quot;AsName\\&quot;: \\&quot;M02\\&quot;,&quot; +\r\n        &quot;              \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;              \\&quot;PhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;CountrySubdivisionTaxId\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;NationalId\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;Country\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;DBA\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;              \\&quot;PrincipalMatch\\&quot;: [&quot; +\r\n        &quot;                {&quot; +\r\n        &quot;                  \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;PhoneNumber\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\r\n        &quot;                  \\&quot;NationalId\\&quot;: \\&quot;M01\\&quot;,&quot; +\r\n        &quot;                  \\&quot;DriversLicense\\&quot;: \\&quot;M01\\&quot;&quot; +\r\n        &quot;                }&quot; +\r\n        &quot;              ]&quot; +\r\n        &quot;            }&quot; +\r\n        &quot;          }&quot; +\r\n        &quot;        ]&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;    ]&quot; +\r\n        &quot;  }&quot; +\r\n        &quot;}&quot;);\r\n\r\nQuery\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;Inquiry&quot; +\r\n        &quot;.Matches&quot; +\r\n        &quot;.TerminatedRecord&quot; +\r\n        &quot;.RecordMatch@&quot; +\r\n        &quot;.flatten(&#39;_&#39;)&quot; +\r\n        &quot;.toArray()&quot; +\r\n        &quot;.[in(&#39;M00&#39;,&#39;M01&#39;)]*&quot; +\r\n        &quot;.size()&quot; +\r\n        &quot;.[? &gt;= 3]&quot; +\r\n        &quot;.@size()&quot;);\r\n    System.out.println(node.toPrettyString());\r\n    \r\nOutput\r\n\r\n    3","title":"How to query json using jayway","body":"<p>You may consider another library <em>Josson</em>.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p>Deserialization</p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;Inquiry\\&quot;: {&quot; +\n    &quot;    \\&quot;Matches\\&quot;: [&quot; +\n    &quot;      {&quot; +\n    &quot;        \\&quot;TotalLength\\&quot;: 8,&quot; +\n    &quot;        \\&quot;TerminatedRecord\\&quot;: [&quot; +\n    &quot;          {&quot; +\n    &quot;            \\&quot;RecordMatch\\&quot;: {&quot; +\n    &quot;              \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;              \\&quot;AsName\\&quot;: \\&quot;M02\\&quot;,&quot; +\n    &quot;              \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;              \\&quot;PhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;CountrySubdivisionTaxId\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;NationalId\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;Country\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;DBA\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;PrincipalMatch\\&quot;: [&quot; +\n    &quot;                {&quot; +\n    &quot;                  \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;PhoneNumber\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;                  \\&quot;NationalId\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;DriversLicense\\&quot;: \\&quot;M01\\&quot;&quot; +\n    &quot;                }&quot; +\n    &quot;              ]&quot; +\n    &quot;            }&quot; +\n    &quot;          },&quot; +\n    &quot;          {&quot; +\n    &quot;            \\&quot;RecordMatch\\&quot;: {&quot; +\n    &quot;              \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;              \\&quot;AsName\\&quot;: \\&quot;M02\\&quot;,&quot; +\n    &quot;              \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;              \\&quot;PhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;CountrySubdivisionTaxId\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;NationalId\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;Country\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;DBA\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;PrincipalMatch\\&quot;: [&quot; +\n    &quot;                {&quot; +\n    &quot;                  \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;PhoneNumber\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;                  \\&quot;NationalId\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;DriversLicense\\&quot;: \\&quot;M01\\&quot;&quot; +\n    &quot;                }&quot; +\n    &quot;              ]&quot; +\n    &quot;            }&quot; +\n    &quot;          },&quot; +\n    &quot;          {&quot; +\n    &quot;            \\&quot;RecordMatch\\&quot;: {&quot; +\n    &quot;              \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;              \\&quot;AsName\\&quot;: \\&quot;M02\\&quot;,&quot; +\n    &quot;              \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;              \\&quot;PhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;CountrySubdivisionTaxId\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;NationalId\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;Country\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;DBA\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;              \\&quot;PrincipalMatch\\&quot;: [&quot; +\n    &quot;                {&quot; +\n    &quot;                  \\&quot;Name\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;Address\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;PhoneNumber\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;AltPhoneNumber\\&quot;: \\&quot;M00\\&quot;,&quot; +\n    &quot;                  \\&quot;NationalId\\&quot;: \\&quot;M01\\&quot;,&quot; +\n    &quot;                  \\&quot;DriversLicense\\&quot;: \\&quot;M01\\&quot;&quot; +\n    &quot;                }&quot; +\n    &quot;              ]&quot; +\n    &quot;            }&quot; +\n    &quot;          }&quot; +\n    &quot;        ]&quot; +\n    &quot;      }&quot; +\n    &quot;    ]&quot; +\n    &quot;  }&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p>Query</p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;Inquiry&quot; +\n    &quot;.Matches&quot; +\n    &quot;.TerminatedRecord&quot; +\n    &quot;.RecordMatch@&quot; +\n    &quot;.flatten('_')&quot; +\n    &quot;.toArray()&quot; +\n    &quot;.[in('M00','M01')]*&quot; +\n    &quot;.size()&quot; +\n    &quot;.[? &gt;= 3]&quot; +\n    &quot;.@size()&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>3\n</code></pre>\n"}],"owner":{"account_id":3476714,"reputation":629,"user_id":2909710,"accept_rate":78,"display_name":"Prabhath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664729889,"creation_date":1490109769,"question_id":42931289,"body_markdown":"Definition of Matched Record: When at least three fields have values of M00 or M01 one RecordMatch object.\r\n\r\nHow can we calculate number of RecordMatch Objects qualify as a Matched Record  using Jayway JsonPath? We can calculate it using Java code, but need to calculate using JsonPath expression in the project.\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n     \r\n    {\r\n      &quot;Inquiry&quot;: {\r\n        &quot;Matches&quot;: [\r\n          {\r\n            &quot;TotalLength&quot;: 8,\r\n            &quot;TerminatedRecord&quot;: [\r\n              {\r\n                &quot;RecordMatch&quot;: {\r\n                  &quot;Name&quot;: &quot;M01&quot;,\r\n                  &quot;AsName&quot;: &quot;M02&quot;,\r\n                  &quot;Address&quot;: &quot;M01&quot;,\r\n                  &quot;PhoneNumber&quot;: &quot;M00&quot;,\r\n                  &quot;AltPhoneNumber&quot;: &quot;M00&quot;,\r\n                  &quot;CountrySubdivisionTaxId&quot;: &quot;M00&quot;,\r\n                  &quot;NationalId&quot;: &quot;M00&quot;,\r\n                  &quot;Country&quot;: &quot;M00&quot;,\r\n                  &quot;DBA&quot;: &quot;M00&quot;,\r\n                  &quot;PrincipalMatch&quot;: [\r\n                    {\r\n                      &quot;Name&quot;: &quot;M01&quot;,\r\n                      &quot;Address&quot;: &quot;M01&quot;,\r\n                      &quot;PhoneNumber&quot;: &quot;M01&quot;,\r\n                      &quot;AltPhoneNumber&quot;: &quot;M00&quot;,\r\n                      &quot;NationalId&quot;: &quot;M01&quot;,\r\n                      &quot;DriversLicense&quot;: &quot;M01&quot;\r\n                    }\r\n                  ]\r\n                }\r\n              },\r\n              {\r\n                &quot;RecordMatch&quot;: {\r\n                  &quot;Name&quot;: &quot;M01&quot;,\r\n                  &quot;AsName&quot;: &quot;M02&quot;,\r\n                  &quot;Address&quot;: &quot;M01&quot;,\r\n                  &quot;PhoneNumber&quot;: &quot;M00&quot;,\r\n                  &quot;AltPhoneNumber&quot;: &quot;M00&quot;,\r\n                  &quot;CountrySubdivisionTaxId&quot;: &quot;M00&quot;,\r\n                  &quot;NationalId&quot;: &quot;M00&quot;,\r\n                  &quot;Country&quot;: &quot;M00&quot;,\r\n                  &quot;DBA&quot;: &quot;M00&quot;,\r\n                  &quot;PrincipalMatch&quot;: [\r\n                    {\r\n                      &quot;Name&quot;: &quot;M01&quot;,\r\n                      &quot;Address&quot;: &quot;M01&quot;,\r\n                      &quot;PhoneNumber&quot;: &quot;M01&quot;,\r\n                      &quot;AltPhoneNumber&quot;: &quot;M00&quot;,\r\n                      &quot;NationalId&quot;: &quot;M01&quot;,\r\n                      &quot;DriversLicense&quot;: &quot;M01&quot;\r\n                    }\r\n                  ]\r\n                }\r\n              },\r\n              {\r\n                &quot;RecordMatch&quot;: {\r\n                  &quot;Name&quot;: &quot;M01&quot;,\r\n                  &quot;AsName&quot;: &quot;M02&quot;,\r\n                  &quot;Address&quot;: &quot;M01&quot;,\r\n                  &quot;PhoneNumber&quot;: &quot;M00&quot;,\r\n                  &quot;AltPhoneNumber&quot;: &quot;M00&quot;,\r\n                  &quot;CountrySubdivisionTaxId&quot;: &quot;M00&quot;,\r\n                  &quot;NationalId&quot;: &quot;M00&quot;,\r\n                  &quot;Country&quot;: &quot;M00&quot;,\r\n                  &quot;DBA&quot;: &quot;M00&quot;,\r\n                  &quot;PrincipalMatch&quot;: [\r\n                    {\r\n                      &quot;Name&quot;: &quot;M01&quot;,\r\n                      &quot;Address&quot;: &quot;M01&quot;,\r\n                      &quot;PhoneNumber&quot;: &quot;M01&quot;,\r\n                      &quot;AltPhoneNumber&quot;: &quot;M00&quot;,\r\n                      &quot;NationalId&quot;: &quot;M01&quot;,\r\n                      &quot;DriversLicense&quot;: &quot;M01&quot;\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    }\r\n","title":"How to query json using jayway","body":"<p>Definition of Matched Record: When at least three fields have values of M00 or M01 one RecordMatch object.</p>\n\n<p>How can we calculate number of RecordMatch Objects qualify as a Matched Record  using Jayway JsonPath? We can calculate it using Java code, but need to calculate using JsonPath expression in the project.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n  \"Inquiry\": {\n    \"Matches\": [\n      {\n        \"TotalLength\": 8,\n        \"TerminatedRecord\": [\n          {\n            \"RecordMatch\": {\n              \"Name\": \"M01\",\n              \"AsName\": \"M02\",\n              \"Address\": \"M01\",\n              \"PhoneNumber\": \"M00\",\n              \"AltPhoneNumber\": \"M00\",\n              \"CountrySubdivisionTaxId\": \"M00\",\n              \"NationalId\": \"M00\",\n              \"Country\": \"M00\",\n              \"DBA\": \"M00\",\n              \"PrincipalMatch\": [\n                {\n                  \"Name\": \"M01\",\n                  \"Address\": \"M01\",\n                  \"PhoneNumber\": \"M01\",\n                  \"AltPhoneNumber\": \"M00\",\n                  \"NationalId\": \"M01\",\n                  \"DriversLicense\": \"M01\"\n                }\n              ]\n            }\n          },\n          {\n            \"RecordMatch\": {\n              \"Name\": \"M01\",\n              \"AsName\": \"M02\",\n              \"Address\": \"M01\",\n              \"PhoneNumber\": \"M00\",\n              \"AltPhoneNumber\": \"M00\",\n              \"CountrySubdivisionTaxId\": \"M00\",\n              \"NationalId\": \"M00\",\n              \"Country\": \"M00\",\n              \"DBA\": \"M00\",\n              \"PrincipalMatch\": [\n                {\n                  \"Name\": \"M01\",\n                  \"Address\": \"M01\",\n                  \"PhoneNumber\": \"M01\",\n                  \"AltPhoneNumber\": \"M00\",\n                  \"NationalId\": \"M01\",\n                  \"DriversLicense\": \"M01\"\n                }\n              ]\n            }\n          },\n          {\n            \"RecordMatch\": {\n              \"Name\": \"M01\",\n              \"AsName\": \"M02\",\n              \"Address\": \"M01\",\n              \"PhoneNumber\": \"M00\",\n              \"AltPhoneNumber\": \"M00\",\n              \"CountrySubdivisionTaxId\": \"M00\",\n              \"NationalId\": \"M00\",\n              \"Country\": \"M00\",\n              \"DBA\": \"M00\",\n              \"PrincipalMatch\": [\n                {\n                  \"Name\": \"M01\",\n                  \"Address\": \"M01\",\n                  \"PhoneNumber\": \"M01\",\n                  \"AltPhoneNumber\": \"M00\",\n                  \"NationalId\": \"M01\",\n                  \"DriversLicense\": \"M01\"\n                }\n              ]\n            }\n          }\n        ]\n      }\n    ]\n  }\n}\n</code></pre>\n"},{"tags":["java","android","regex","unicode"],"comments":[{"owner":{"account_id":2996926,"reputation":2436,"user_id":2724879,"accept_rate":59,"display_name":"Yamen Nassif"},"score":0,"creation_date":1506075785,"post_id":46362393,"comment_id":79684246,"body_markdown":"\\u202A is basically a whitespace http://unicode.org/cldr/utility/character.jsp?a=202A&amp;B1=Show refer to this","body":"\\u202A is basically a whitespace <a href=\"http://unicode.org/cldr/utility/character.jsp?a=202A&amp;B1=Show\" rel=\"nofollow noreferrer\">unicode.org/cldr/utility/character.jsp?a=202A&amp;B1=Show</a> refer to this"}],"answers":[{"tags":[],"owner":{"account_id":2996926,"reputation":2436,"user_id":2724879,"accept_rate":59,"display_name":"Yamen Nassif"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1506075888,"creation_date":1506075888,"answer_id":46362476,"question_id":46362393,"body_markdown":"according to http://unicode.org/cldr/utility/character.jsp?a=202A&amp;B1=Show `\\u202A` is kind of a whitespace.\r\nIn order to fix it just trim the string.\r\n\r\n    public static String editNoHP (String noHP){\r\n         noHP = noHP.trim();\r\n         // the rest of your code...\r\n    }","title":"Remove character &#39;\\u202A&#39; 8234 from string","body":"<p>according to <a href=\"http://unicode.org/cldr/utility/character.jsp?a=202A&amp;B1=Show\" rel=\"nofollow noreferrer\">http://unicode.org/cldr/utility/character.jsp?a=202A&amp;B1=Show</a> <code>\\u202A</code> is kind of a whitespace.\nIn order to fix it just trim the string.</p>\n\n<pre><code>public static String editNoHP (String noHP){\n     noHP = noHP.trim();\n     // the rest of your code...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8232429,"reputation":53,"user_id":6192721,"display_name":"Yuddistira Kiki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1506334365,"creation_date":1506334365,"answer_id":46402699,"question_id":46362393,"body_markdown":"Finally, I found out that I can use regex to replace non-Alphanumeric characters.\r\n\r\nSo this is my finale function :\r\n\r\n    public static String editNoHP (String noHPinput){\r\n        String result;\r\n        try {\r\n            noHPinput = noHPinput.trim();\r\n            String noHP = noHPinput;\r\n            noHP = noHP.replaceAll(&quot;[\\\\s\\\\-\\\\.\\\\^:,]&quot;,&quot;&quot;);\r\n            noHP = noHP.replaceAll(&quot;[^A-Za-z0-9]&quot;,&quot;&quot;);\r\n            char isinya = noHP.charAt(0);\r\n\r\n            if(isinya == &#39;0&#39;)\r\n                result = &quot;62&quot;+noHP.substring(1);\r\n            else if(isinya == &#39;+&#39; )\r\n                result = noHP.substring(1);\r\n            else\r\n                result = noHP;\r\n\r\n        }\r\n        catch (Exception e){\r\n            return &quot;&quot;;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\nThis regex remove all unicode characters beside Alphanumeric characters.\r\n\r\n ","title":"Remove character &#39;\\u202A&#39; 8234 from string","body":"<p>Finally, I found out that I can use regex to replace non-Alphanumeric characters.</p>\n\n<p>So this is my finale function :</p>\n\n<pre><code>public static String editNoHP (String noHPinput){\n    String result;\n    try {\n        noHPinput = noHPinput.trim();\n        String noHP = noHPinput;\n        noHP = noHP.replaceAll(\"[\\\\s\\\\-\\\\.\\\\^:,]\",\"\");\n        noHP = noHP.replaceAll(\"[^A-Za-z0-9]\",\"\");\n        char isinya = noHP.charAt(0);\n\n        if(isinya == '0')\n            result = \"62\"+noHP.substring(1);\n        else if(isinya == '+' )\n            result = noHP.substring(1);\n        else\n            result = noHP;\n\n    }\n    catch (Exception e){\n        return \"\";\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>This regex remove all unicode characters beside Alphanumeric characters.</p>\n"},{"tags":[],"owner":{"account_id":21109444,"reputation":81,"user_id":15517762,"display_name":"Yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648684622,"creation_date":1648684622,"answer_id":71685396,"question_id":46362393,"body_markdown":"I came across the same issue!! Took me several hours to debug, because when I print out the string, the first character was shown as &#39;?&#39;, so I thought it is a question mark. But it isn&#39;t! \r\n\r\nThen I printed out the numerical value of the first character, and it is 8234! I was like, wtf. Completely have no idea why it shows as a question mark. ","title":"Remove character &#39;\\u202A&#39; 8234 from string","body":"<p>I came across the same issue!! Took me several hours to debug, because when I print out the string, the first character was shown as '?', so I thought it is a question mark. But it isn't!</p>\n<p>Then I printed out the numerical value of the first character, and it is 8234! I was like, wtf. Completely have no idea why it shows as a question mark.</p>\n"},{"tags":[],"owner":{"account_id":20206967,"reputation":1,"user_id":14821101,"display_name":"Momen_nasser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664728838,"creation_date":1655318370,"answer_id":72636351,"question_id":46362393,"body_markdown":"try this\r\n\r\n    const getFirstChar = (string) =&gt; {\r\n    let editString = string?.trim();\r\n    if (editString?.charCodeAt(0) !== 8234) return editString?.charAt(0);\r\n    editString = editString.substring(1);\r\n    return getFirstChar(editString);\r\n    };","title":"Remove character &#39;\\u202A&#39; 8234 from string","body":"<p>try this</p>\n<pre><code>const getFirstChar = (string) =&gt; {\nlet editString = string?.trim();\nif (editString?.charCodeAt(0) !== 8234) return editString?.charAt(0);\neditString = editString.substring(1);\nreturn getFirstChar(editString);\n};\n</code></pre>\n"}],"owner":{"account_id":8232429,"reputation":53,"user_id":6192721,"display_name":"Yuddistira Kiki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3021,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":46402699,"answer_count":4,"score":4,"last_activity_date":1664728838,"creation_date":1506075635,"question_id":46362393,"body_markdown":"I am trying to get character at 0 index in a string:\r\n\r\n    public static String editNoHP (String noHP){\r\n      String result;\r\n      try {\r\n          if(noHP.charAt(0) == &#39;0&#39;)\r\n              result = &quot;62&quot;+noHP.substring(1);\r\n          else if(noHP.charAt(0) == &#39;+&#39; )\r\n              result = noHP.substring(1);\r\n          else if(noHP.charAt(0) == &#39;6&#39;)\r\n              result = noHP;\r\n          else if(noHP.charAt(0) == &#39;6&#39; &amp;&amp; noHP.charAt(1) == &#39;2&#39;)\r\n              result = noHP;\r\n          else if(noHP.charAt(0) == &#39;9&#39;)\r\n              result = noHP;\r\n          else\r\n              result = &quot;62&quot;+noHP;\r\n      }\r\n      catch (Exception e){\r\n          return &quot;&quot;;\r\n      }\r\n\r\n      return result.replaceAll(&quot;[\\\\s\\\\-\\\\.\\\\^:,]&quot;,&quot;&quot;);\r\n    }\r\n\r\nSo I use this function after I query contact, but I found strange result.\r\n\r\nNormal input &amp; output:\r\n\r\n    input = +62 111-1111-1111   output : 6211111111111\r\n    input = 011111111111        output : 6211111111111\r\n\r\nAnd this the strange input and result:\r\n\r\n    input = 011111111111        output : 62011111111111\r\n\r\nSo I try to debug this account and I found when app try to get character at 0 the return is &#39;\\u202A&#39; 8234, not 0.\r\n\r\nI already tried RegEx like:\r\n\r\n    String clean = str.replaceAll(&quot;[^\\\\n\\\\r\\\\t\\\\p{Print}]&quot;, &quot;&quot;); or\r\n    String clean = str.replaceAll(&quot;[^\\\\x20-\\\\x7E]&quot;, &quot;&quot;); or\r\n    String clean = str.replaceAll(&quot;[^\\u0000-\\uFFFF]&quot;, &quot;&quot;); or\r\n    String clean = str.replaceAll(&quot;[^\\\\p{ASCII}]&quot;, &quot;&quot;); or\r\n    String clean = str.replaceAll(&quot;[^\\x00-\\x7F]&quot;, &quot;&quot;); or\r\n    String clean = StringEscapeUtils.unescapeJava(str);\r\n\r\nAll of them return same value &#39;\\u202A&#39; 8234.\r\n\r\nWhat is this character?\r\nHow to fix this problem?\r\n\r\nUpdate :\r\nI try to edit the strange contact and I found strange behaviour. The number is 011111111111. First I put cursor between 0 and 1, then I press delete/backspace to remove 0. The cursor suddenly move to the right of number 1 not on the left. Then I save the contact and run my program. The result is 0, not &#39;\\u202A&#39; 8234. So I think this because the format of number not normal, maybe when first time add this contact or when sync from the google account.\r\n","title":"Remove character &#39;\\u202A&#39; 8234 from string","body":"<p>I am trying to get character at 0 index in a string:</p>\n\n<pre><code>public static String editNoHP (String noHP){\n  String result;\n  try {\n      if(noHP.charAt(0) == '0')\n          result = \"62\"+noHP.substring(1);\n      else if(noHP.charAt(0) == '+' )\n          result = noHP.substring(1);\n      else if(noHP.charAt(0) == '6')\n          result = noHP;\n      else if(noHP.charAt(0) == '6' &amp;&amp; noHP.charAt(1) == '2')\n          result = noHP;\n      else if(noHP.charAt(0) == '9')\n          result = noHP;\n      else\n          result = \"62\"+noHP;\n  }\n  catch (Exception e){\n      return \"\";\n  }\n\n  return result.replaceAll(\"[\\\\s\\\\-\\\\.\\\\^:,]\",\"\");\n}\n</code></pre>\n\n<p>So I use this function after I query contact, but I found strange result.</p>\n\n<p>Normal input &amp; output:</p>\n\n<pre><code>input = +62 111-1111-1111   output : 6211111111111\ninput = 011111111111        output : 6211111111111\n</code></pre>\n\n<p>And this the strange input and result:</p>\n\n<pre><code>input = 011111111111        output : 62011111111111\n</code></pre>\n\n<p>So I try to debug this account and I found when app try to get character at 0 the return is '\\u202A' 8234, not 0.</p>\n\n<p>I already tried RegEx like:</p>\n\n<pre><code>String clean = str.replaceAll(\"[^\\\\n\\\\r\\\\t\\\\p{Print}]\", \"\"); or\nString clean = str.replaceAll(\"[^\\\\x20-\\\\x7E]\", \"\"); or\nString clean = str.replaceAll(\"[^\\u0000-\\uFFFF]\", \"\"); or\nString clean = str.replaceAll(\"[^\\\\p{ASCII}]\", \"\"); or\nString clean = str.replaceAll(\"[^\\x00-\\x7F]\", \"\"); or\nString clean = StringEscapeUtils.unescapeJava(str);\n</code></pre>\n\n<p>All of them return same value '\\u202A' 8234.</p>\n\n<p>What is this character?\nHow to fix this problem?</p>\n\n<p>Update :\nI try to edit the strange contact and I found strange behaviour. The number is 011111111111. First I put cursor between 0 and 1, then I press delete/backspace to remove 0. The cursor suddenly move to the right of number 1 not on the left. Then I save the contact and run my program. The result is 0, not '\\u202A' 8234. So I think this because the format of number not normal, maybe when first time add this contact or when sync from the google account.</p>\n"},{"tags":["java","gradle","environment-variables","build.gradle","gradle.properties"],"answers":[{"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1573853012,"creation_date":1573853012,"answer_id":58884864,"question_id":58868401,"body_markdown":"&gt; could not find any way of accessing environment variables in my gradle.properties.\r\n\r\nYou can&#39;t. `gradle.properties` is not anything fancy, it is a [standard properties file](https://docs.oracle.com/javase/tutorial/essential/environment/properties.html).\r\n\r\nYou would need to post-process the properties somehow as indicated in [this](https://stackoverflow.com/a/2263944/2382650). Currently, Gradle does not offer any such functionality to &quot;custom load&quot; `gradle.properties`.\r\n\r\n","title":"Does gradle.properties have access to environment variables","body":"<blockquote>\n  <p>could not find any way of accessing environment variables in my gradle.properties.</p>\n</blockquote>\n\n<p>You can't. <code>gradle.properties</code> is not anything fancy, it is a <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/properties.html\" rel=\"noreferrer\">standard properties file</a>.</p>\n\n<p>You would need to post-process the properties somehow as indicated in <a href=\"https://stackoverflow.com/a/2263944/2382650\">this</a>. Currently, Gradle does not offer any such functionality to \"custom load\" <code>gradle.properties</code>.</p>\n"},{"tags":[],"owner":{"account_id":1833513,"reputation":151,"user_id":1664344,"display_name":"ivInMtl"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1590697223,"creation_date":1590697223,"answer_id":62073832,"question_id":58868401,"body_markdown":"Not all environment variables are visible to gradle. If you can name them with the special prefix `ORG_GRADLE_PROJECT_` these will be available. You can read about it [here][1]\r\n \r\n`ORG_GRADLE_PROJECT_foo` can be accessed as `foo` within gradle. \r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/build_environment.html#sec:project_properties","title":"Does gradle.properties have access to environment variables","body":"<p>Not all environment variables are visible to gradle. If you can name them with the special prefix <code>ORG_GRADLE_PROJECT_</code> these will be available. You can read about it <a href=\"https://docs.gradle.org/current/userguide/build_environment.html#sec:project_properties\" rel=\"noreferrer\">here</a></p>\n\n<p><code>ORG_GRADLE_PROJECT_foo</code> can be accessed as <code>foo</code> within gradle. </p>\n"},{"tags":[],"owner":{"account_id":20209231,"reputation":1,"user_id":14822670,"display_name":"JustinB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607941659,"creation_date":1607941659,"answer_id":65287347,"question_id":58868401,"body_markdown":"From https://docs.gradle.org/current/userguide/build_environment.html\r\n&quot;... but if an option is configured in multiple locations, the first one wins:\r\n\r\nsystem properties, e.g. when -Dgradle.user.home is set on the command line.&quot;\r\n\r\nIn Unix you could do like this: -Dgradle.user.home=$GRADLE_USER_HOME","title":"Does gradle.properties have access to environment variables","body":"<p>From <a href=\"https://docs.gradle.org/current/userguide/build_environment.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/build_environment.html</a>\n&quot;... but if an option is configured in multiple locations, the first one wins:</p>\n<p>system properties, e.g. when -Dgradle.user.home is set on the command line.&quot;</p>\n<p>In Unix you could do like this: -Dgradle.user.home=$GRADLE_USER_HOME</p>\n"},{"tags":[],"owner":{"account_id":14720612,"reputation":384,"user_id":10631354,"display_name":"Funyinoluwa Kashimawo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664728607,"creation_date":1664728607,"answer_id":73927568,"question_id":58868401,"body_markdown":"According this [Gradle documentation][1] documentation. Environment Variable that follows this name pattern &quot;ORG_GRADLE_PROJECT_foo=bar&quot; will be added as a gradle property with the name &quot;foo&quot;\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/build_environment.html#sec:project_properties","title":"Does gradle.properties have access to environment variables","body":"<p>According this <a href=\"https://docs.gradle.org/current/userguide/build_environment.html#sec:project_properties\" rel=\"nofollow noreferrer\">Gradle documentation</a> documentation. Environment Variable that follows this name pattern &quot;ORG_GRADLE_PROJECT_foo=bar&quot; will be added as a gradle property with the name &quot;foo&quot;</p>\n"}],"owner":{"account_id":7049112,"reputation":1696,"user_id":5398884,"accept_rate":100,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30116,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":58884864,"answer_count":4,"score":12,"last_activity_date":1664728607,"creation_date":1573776301,"question_id":58868401,"body_markdown":"I looked around and could not find any way of accessing environment variables in my gradle.properties.\r\n\r\n**What I can do:** In my build.gradle I can access environment variables like this `System.getenv(&quot;MY_VAR&quot;)`. I would like to do the same in my gradle.properties.\r\n\r\n**Example of what I want to do:** In my gradle.properties replace `build.foo=bar` with `build.foo=System.getenv(&quot;BAR&quot;)`\r\n\r\nSo far all my attempts to access environment variables from gradle.properties have failed.\r\n\r\nAny insight into the matter would be great, thanks!","title":"Does gradle.properties have access to environment variables","body":"<p>I looked around and could not find any way of accessing environment variables in my gradle.properties.</p>\n\n<p><strong>What I can do:</strong> In my build.gradle I can access environment variables like this <code>System.getenv(\"MY_VAR\")</code>. I would like to do the same in my gradle.properties.</p>\n\n<p><strong>Example of what I want to do:</strong> In my gradle.properties replace <code>build.foo=bar</code> with <code>build.foo=System.getenv(\"BAR\")</code></p>\n\n<p>So far all my attempts to access environment variables from gradle.properties have failed.</p>\n\n<p>Any insight into the matter would be great, thanks!</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1663851252,"post_id":73814971,"comment_id":130339816,"body_markdown":"How does the posted code relate to your question?  If it solves the problem, why are you here?  If it doesn&#39;t, how is it deficient?","body":"How does the posted code relate to your question?  If it solves the problem, why are you here?  If it doesn&#39;t, how is it deficient?"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":2,"creation_date":1663851362,"post_id":73814971,"comment_id":130339860,"body_markdown":"&quot;Logically&quot; 2 arrays with the same items in different orders are *not* identical.","body":"&quot;Logically&quot; 2 arrays with the same items in different orders are <i>not</i> identical."},{"owner":{"account_id":6767185,"reputation":17843,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":0,"creation_date":1664366384,"post_id":73814971,"comment_id":130454293,"body_markdown":"Welcome to Stack Overflow! Please do not add answers to the question body itself. Instead, you should add it as an answer. [Answering your own question is allowed and even encouraged](https://stackoverflow.com/help/self-answer).","body":"Welcome to Stack Overflow! Please do not add answers to the question body itself. Instead, you should add it as an answer. <a href=\"https://stackoverflow.com/help/self-answer\">Answering your own question is allowed and even encouraged</a>."}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664727437,"creation_date":1664727437,"answer_id":73927419,"question_id":73814971,"body_markdown":"_Josson &amp; Jossons_ has operators `&lt;==&gt;` to compare two JSON datasets.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\nDeserialization\r\n\r\n    Jossons jossons = new Jossons();\r\n    jossons.putDataset(&quot;json1&quot;, Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;\\&quot;name\\&quot;:\\&quot;Jack\\&quot;,&quot; +\r\n        &quot;\\&quot;student_ID\\&quot;:1,&quot; +\r\n        &quot;\\&quot;subject\\&quot;:[ {&quot; +\r\n        &quot;\\&quot;marks\\&quot;:50,&quot; +\r\n        &quot;\\&quot;subjectId\\&quot;:\\&quot;PHY\\&quot;,&quot; +\r\n        &quot;\\&quot;subjectName\\&quot;:\\&quot;Physics\\&quot;&quot; +\r\n        &quot;}, {&quot; +\r\n        &quot;\\&quot;marks\\&quot;:60,&quot; +\r\n        &quot;\\&quot;subjectId\\&quot;:\\&quot;CHE\\&quot;,&quot; +\r\n        &quot;\\&quot;subjectName\\&quot;:\\&quot;Chemistry\\&quot;&quot; +\r\n        &quot;} ]&quot; +\r\n        &quot;}&quot;));\r\n    jossons.putDataset(&quot;json2&quot;, Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;\\&quot;name\\&quot;:\\&quot;Jack\\&quot;,&quot; +\r\n        &quot;\\&quot;student_ID\\&quot;:1,&quot; +\r\n        &quot;\\&quot;subject\\&quot;:[ {&quot; +\r\n        &quot;\\&quot;marks\\&quot;:60,&quot; +\r\n        &quot;\\&quot;subjectId\\&quot;:\\&quot;CHE\\&quot;,&quot; +\r\n        &quot;\\&quot;subjectName\\&quot;:\\&quot;Chemistry\\&quot;&quot; +\r\n        &quot;}, {&quot; +\r\n        &quot;\\&quot;marks\\&quot;:50,&quot; +\r\n        &quot;\\&quot;subjectId\\&quot;:\\&quot;PHY\\&quot;,&quot; +\r\n        &quot;\\&quot;subjectName\\&quot;:\\&quot;Physics\\&quot;&quot; +\r\n        &quot;} ]&quot; +\r\n        &quot;}&quot;));\r\n    jossons.putDataset(&quot;json3&quot;, Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;\\&quot;name\\&quot;:\\&quot;Jack\\&quot;,&quot; +\r\n        &quot;\\&quot;student_ID\\&quot;:1,&quot; +\r\n        &quot;\\&quot;subject\\&quot;:[ {&quot; +\r\n        &quot;\\&quot;marks\\&quot;:60,&quot; +\r\n        &quot;\\&quot;subjectId\\&quot;:\\&quot;CHE\\&quot;,&quot; +\r\n        &quot;\\&quot;subjectName\\&quot;:\\&quot;Chemistry\\&quot;&quot; +\r\n        &quot;}, {&quot; +\r\n        &quot;\\&quot;marks\\&quot;:70,&quot; +\r\n        &quot;\\&quot;subjectId\\&quot;:\\&quot;BIO\\&quot;,&quot; +\r\n        &quot;\\&quot;subjectName\\&quot;:\\&quot;Biology\\&quot;&quot; +\r\n        &quot;} ]&quot; +\r\n        &quot;}&quot;));\r\n\r\nQuery\r\n\r\n    JsonNode node = jossons.evaluateQuery(&quot;json1 &lt;==&gt; json2&quot;);\r\n    System.out.println(&quot;json1 &lt;==&gt; json2 : &quot; + node.toString());\r\n\r\n    node = jossons.evaluateQuery(&quot;json1 &lt;==&gt; json3&quot;);\r\n    System.out.println(&quot;json1 &lt;==&gt; json3 : &quot; + node.toString());\r\n\r\n    node = jossons.evaluateQuery(&quot;json2 &lt;==&gt; json3&quot;);\r\n    System.out.println(&quot;json2 &lt;==&gt; json3 : &quot; + node.toString());\r\n\r\nOutput\r\n\r\n    json1 &lt;==&gt; json2 : true\r\n    json1 &lt;==&gt; json3 : false\r\n    json2 &lt;==&gt; json3 : false","title":"Comparing two JSON objects irrespective of json array sequence in them using java","body":"<p><em>Josson &amp; Jossons</em> has operators <code>&lt;==&gt;</code> to compare two JSON datasets.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p>Deserialization</p>\n<pre><code>Jossons jossons = new Jossons();\njossons.putDataset(&quot;json1&quot;, Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;\\&quot;name\\&quot;:\\&quot;Jack\\&quot;,&quot; +\n    &quot;\\&quot;student_ID\\&quot;:1,&quot; +\n    &quot;\\&quot;subject\\&quot;:[ {&quot; +\n    &quot;\\&quot;marks\\&quot;:50,&quot; +\n    &quot;\\&quot;subjectId\\&quot;:\\&quot;PHY\\&quot;,&quot; +\n    &quot;\\&quot;subjectName\\&quot;:\\&quot;Physics\\&quot;&quot; +\n    &quot;}, {&quot; +\n    &quot;\\&quot;marks\\&quot;:60,&quot; +\n    &quot;\\&quot;subjectId\\&quot;:\\&quot;CHE\\&quot;,&quot; +\n    &quot;\\&quot;subjectName\\&quot;:\\&quot;Chemistry\\&quot;&quot; +\n    &quot;} ]&quot; +\n    &quot;}&quot;));\njossons.putDataset(&quot;json2&quot;, Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;\\&quot;name\\&quot;:\\&quot;Jack\\&quot;,&quot; +\n    &quot;\\&quot;student_ID\\&quot;:1,&quot; +\n    &quot;\\&quot;subject\\&quot;:[ {&quot; +\n    &quot;\\&quot;marks\\&quot;:60,&quot; +\n    &quot;\\&quot;subjectId\\&quot;:\\&quot;CHE\\&quot;,&quot; +\n    &quot;\\&quot;subjectName\\&quot;:\\&quot;Chemistry\\&quot;&quot; +\n    &quot;}, {&quot; +\n    &quot;\\&quot;marks\\&quot;:50,&quot; +\n    &quot;\\&quot;subjectId\\&quot;:\\&quot;PHY\\&quot;,&quot; +\n    &quot;\\&quot;subjectName\\&quot;:\\&quot;Physics\\&quot;&quot; +\n    &quot;} ]&quot; +\n    &quot;}&quot;));\njossons.putDataset(&quot;json3&quot;, Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;\\&quot;name\\&quot;:\\&quot;Jack\\&quot;,&quot; +\n    &quot;\\&quot;student_ID\\&quot;:1,&quot; +\n    &quot;\\&quot;subject\\&quot;:[ {&quot; +\n    &quot;\\&quot;marks\\&quot;:60,&quot; +\n    &quot;\\&quot;subjectId\\&quot;:\\&quot;CHE\\&quot;,&quot; +\n    &quot;\\&quot;subjectName\\&quot;:\\&quot;Chemistry\\&quot;&quot; +\n    &quot;}, {&quot; +\n    &quot;\\&quot;marks\\&quot;:70,&quot; +\n    &quot;\\&quot;subjectId\\&quot;:\\&quot;BIO\\&quot;,&quot; +\n    &quot;\\&quot;subjectName\\&quot;:\\&quot;Biology\\&quot;&quot; +\n    &quot;} ]&quot; +\n    &quot;}&quot;));\n</code></pre>\n<p>Query</p>\n<pre><code>JsonNode node = jossons.evaluateQuery(&quot;json1 &lt;==&gt; json2&quot;);\nSystem.out.println(&quot;json1 &lt;==&gt; json2 : &quot; + node.toString());\n\nnode = jossons.evaluateQuery(&quot;json1 &lt;==&gt; json3&quot;);\nSystem.out.println(&quot;json1 &lt;==&gt; json3 : &quot; + node.toString());\n\nnode = jossons.evaluateQuery(&quot;json2 &lt;==&gt; json3&quot;);\nSystem.out.println(&quot;json2 &lt;==&gt; json3 : &quot; + node.toString());\n</code></pre>\n<p>Output</p>\n<pre><code>json1 &lt;==&gt; json2 : true\njson1 &lt;==&gt; json3 : false\njson2 &lt;==&gt; json3 : false\n</code></pre>\n"}],"owner":{"account_id":26402421,"reputation":21,"user_id":20052693,"display_name":"Hema"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664727437,"creation_date":1663851096,"question_id":73814971,"body_markdown":"Is there any way in java to compare two json objects and print the changes/differences?\r\n\r\nI have tried with &quot;Flat-map utility&quot; which is flattening and also comparing the json objects, however diff failed in case of json array elements in different orders in two json objects.\r\n\r\ne.g\r\n\r\n**JSON 1**\r\n\r\n    {\r\n    &quot;name&quot;:&quot;Jack&quot;,\r\n    &quot;student_ID&quot;:1,\r\n    &quot;subject&quot;:[\r\n    {\r\n    &quot;marks&quot;:50,\r\n    &quot;subjectId&quot;:&quot;PHY&quot;,\r\n    &quot;subjectName&quot;:&quot;Physics&quot;\r\n    },\r\n    {\r\n    &quot;marks&quot;:60,\r\n    &quot;subjectId&quot;:&quot;CHE&quot;,\r\n    &quot;subjectName&quot;:&quot;Chemistry&quot;\r\n    }\r\n    ]\r\n    }\r\n\r\n**JSON 2**\r\n\r\n    {\r\n    &quot;name&quot;:&quot;Jack&quot;,\r\n    &quot;student_ID&quot;:1,\r\n    &quot;subject&quot;:[\r\n    {\r\n    &quot;marks&quot;:60,\r\n    &quot;subjectId&quot;:&quot;CHE&quot;,\r\n    &quot;subjectName&quot;:&quot;Chemistry&quot;\r\n    },{\r\n    &quot;marks&quot;:50,\r\n    &quot;subjectId&quot;:&quot;PHY&quot;,\r\n    &quot;subjectName&quot;:&quot;Physics&quot;\r\n    }\r\n    ]\r\n    }\r\n\r\n\r\n\r\njson diff shows the Two jsons are mismatched.. Logically those are identical..\r\n\r\nIs there a good way of json matching and comparing in java?\r\n\r\n\r\n**code used:**\r\n\r\n    public class compareUtil \r\n    {\r\n    \tpublic static void main(String[] args) throws IOException, UnresolvedDatasetException, ParseException \r\n    {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tString baselineFolderPath = &quot;input//jsonBaseline&quot;; \r\n    \t\tString regressionfolderPath = &quot;input//jsonRegression&quot;;\r\n    \t\t\r\n    \t\tString fileToCompare = &quot;sampleJson1_simple.json&quot;;\r\n    \t\t\r\n    \t\tString baselineFile = baselineFolderPath + &quot;//&quot; + fileToCompare;\r\n    \t\tString regressionFile = regressionfolderPath + &quot;//&quot; + fileToCompare;\r\n    \t\t\t\t\r\n    \t\tInputStream getBaselineJsonFile = new FileInputStream(baselineFile);\r\n    \t\tInputStream getRegressionJsonFile = new FileInputStream(regressionFile);\r\n    \t\t\t\t\t\t\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tTypeReference&lt;HashMap&lt;String, Object&gt;&gt; type = new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {};\r\n    \r\n    \t\tMap&lt;String, Object&gt; baselineMap = mapper.readValue(getBaselineJsonFile, type);\r\n    \t\tMap&lt;String, Object&gt; regressionMap = mapper.readValue(getRegressionJsonFile, type);\r\n    \t\t\r\n    \t\tMapDifference&lt;String, Object&gt; differenceNormal = Maps.difference(baselineMap, regressionMap);\r\n    \t\tSystem.out.println(differenceNormal);\r\n    \t\t\r\n    \t\tMap&lt;String, Object&gt; baselineFlatMap = FlatMapUtil.flatten(baselineMap);\r\n    \t\tMap&lt;String, Object&gt; regressionFlatMap = FlatMapUtil.flatten(regressionMap);\r\n    \t\t\t\t\r\n    \t\tMapDifference&lt;String, Object&gt; difference = Maps.difference(baselineFlatMap, regressionFlatMap);\r\n    \r\n    \t\tSystem.out.println(&quot;The diff &quot;+difference);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Entries only on the baseline json\\n--------------------------&quot;);\r\n    \t\tdifference.entriesOnlyOnLeft()\r\n    \t\t          .forEach((key, value) -&gt; System.out.println(key + &quot;: &quot; + value));\r\n    \r\n    \t\tSystem.out.println(&quot;\\n\\nEntries only on the regression json\\n--------------------------&quot;);\r\n    \t\tdifference.entriesOnlyOnRight()\r\n    \t\t          .forEach((key, value) -&gt; System.out.println(key + &quot;: &quot; + value));\r\n    \r\n    \t\tSystem.out.println(&quot;\\n\\nEntries differing (baseline, regression)\\n--------------------------&quot;);\r\n    \t\tdifference.entriesDiffering()\r\n    \t\t          .forEach((key, value) -&gt; System.out.println(key + &quot;: &quot; + value));\r\n    \t \r\n    \t}\r\n    \r\n    \t\r\n    }\r\n    \r\n    ------------------------------------------------------------------------------------------------\r\n    \r\n    \r\n    \r\n    public final class FlatMapUtil {\r\n    \tprivate FlatMapUtil() {\r\n    \t\tthrow new AssertionError(&quot;No instances for you!&quot;);\r\n    \t}\r\n    \tpublic static Map&lt;String, Object&gt; flatten(Map&lt;String, Object&gt; map) {\r\n    \t\treturn map.entrySet().stream()\r\n    \t\t\t\t.flatMap(FlatMapUtil::flatten)\r\n    \t\t\t\t.collect(LinkedHashMap::new, (m, e) -&gt; m.put(&quot;/&quot; + e.getKey(), e.getValue()), LinkedHashMap::putAll);\r\n    \t}\r\n    \tprivate static Stream&lt;Map.Entry&lt;String, Object&gt;&gt; flatten(Map.Entry&lt;String, Object&gt; entry) {\r\n    \t\t\r\n    \t\tif (entry == null) {\r\n    \t\t\treturn Stream.empty();\r\n    \t\t}\r\n    \r\n    \t\tif (entry.getValue() instanceof Map&lt;?, ?&gt;) {\r\n    \t\t\treturn ((Map&lt;?, ?&gt;) entry.getValue()).entrySet().stream()\r\n    \t\t\t\t\t.flatMap(e -&gt; flatten(new AbstractMap.SimpleEntry&lt;&gt;(entry.getKey() + &quot;/&quot; + e.getKey(), e.getValue())));\r\n    \t\t}\r\n    \r\n    \t\tif (entry.getValue() instanceof List&lt;?&gt;) {\r\n    \t\t\tList&lt;?&gt; list = (List&lt;?&gt;) entry.getValue();\r\n    \t\t\treturn IntStream.range(0, list.size())\r\n    \t\t\t\t\t.mapToObj(i -&gt; new AbstractMap.SimpleEntry&lt;String, Object&gt;(entry.getKey() + &quot;/&quot; + i, list.get(i)))\r\n    \t\t\t\t\t.flatMap(FlatMapUtil::flatten);\r\n    \t\t}\r\n    \r\n    \t\treturn Stream.of(entry);\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Comparing two JSON objects irrespective of json array sequence in them using java","body":"<p>Is there any way in java to compare two json objects and print the changes/differences?</p>\n<p>I have tried with &quot;Flat-map utility&quot; which is flattening and also comparing the json objects, however diff failed in case of json array elements in different orders in two json objects.</p>\n<p>e.g</p>\n<p><strong>JSON 1</strong></p>\n<pre><code>{\n&quot;name&quot;:&quot;Jack&quot;,\n&quot;student_ID&quot;:1,\n&quot;subject&quot;:[\n{\n&quot;marks&quot;:50,\n&quot;subjectId&quot;:&quot;PHY&quot;,\n&quot;subjectName&quot;:&quot;Physics&quot;\n},\n{\n&quot;marks&quot;:60,\n&quot;subjectId&quot;:&quot;CHE&quot;,\n&quot;subjectName&quot;:&quot;Chemistry&quot;\n}\n]\n}\n</code></pre>\n<p><strong>JSON 2</strong></p>\n<pre><code>{\n&quot;name&quot;:&quot;Jack&quot;,\n&quot;student_ID&quot;:1,\n&quot;subject&quot;:[\n{\n&quot;marks&quot;:60,\n&quot;subjectId&quot;:&quot;CHE&quot;,\n&quot;subjectName&quot;:&quot;Chemistry&quot;\n},{\n&quot;marks&quot;:50,\n&quot;subjectId&quot;:&quot;PHY&quot;,\n&quot;subjectName&quot;:&quot;Physics&quot;\n}\n]\n}\n</code></pre>\n<p>json diff shows the Two jsons are mismatched.. Logically those are identical..</p>\n<p>Is there a good way of json matching and comparing in java?</p>\n<p><strong>code used:</strong></p>\n<pre><code>public class compareUtil \n{\n    public static void main(String[] args) throws IOException, UnresolvedDatasetException, ParseException \n{\n        // TODO Auto-generated method stub\n        \n        String baselineFolderPath = &quot;input//jsonBaseline&quot;; \n        String regressionfolderPath = &quot;input//jsonRegression&quot;;\n        \n        String fileToCompare = &quot;sampleJson1_simple.json&quot;;\n        \n        String baselineFile = baselineFolderPath + &quot;//&quot; + fileToCompare;\n        String regressionFile = regressionfolderPath + &quot;//&quot; + fileToCompare;\n                \n        InputStream getBaselineJsonFile = new FileInputStream(baselineFile);\n        InputStream getRegressionJsonFile = new FileInputStream(regressionFile);\n                        \n        ObjectMapper mapper = new ObjectMapper();\n        TypeReference&lt;HashMap&lt;String, Object&gt;&gt; type = new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {};\n\n        Map&lt;String, Object&gt; baselineMap = mapper.readValue(getBaselineJsonFile, type);\n        Map&lt;String, Object&gt; regressionMap = mapper.readValue(getRegressionJsonFile, type);\n        \n        MapDifference&lt;String, Object&gt; differenceNormal = Maps.difference(baselineMap, regressionMap);\n        System.out.println(differenceNormal);\n        \n        Map&lt;String, Object&gt; baselineFlatMap = FlatMapUtil.flatten(baselineMap);\n        Map&lt;String, Object&gt; regressionFlatMap = FlatMapUtil.flatten(regressionMap);\n                \n        MapDifference&lt;String, Object&gt; difference = Maps.difference(baselineFlatMap, regressionFlatMap);\n\n        System.out.println(&quot;The diff &quot;+difference);\n        \n        System.out.println(&quot;Entries only on the baseline json\\n--------------------------&quot;);\n        difference.entriesOnlyOnLeft()\n                  .forEach((key, value) -&gt; System.out.println(key + &quot;: &quot; + value));\n\n        System.out.println(&quot;\\n\\nEntries only on the regression json\\n--------------------------&quot;);\n        difference.entriesOnlyOnRight()\n                  .forEach((key, value) -&gt; System.out.println(key + &quot;: &quot; + value));\n\n        System.out.println(&quot;\\n\\nEntries differing (baseline, regression)\\n--------------------------&quot;);\n        difference.entriesDiffering()\n                  .forEach((key, value) -&gt; System.out.println(key + &quot;: &quot; + value));\n     \n    }\n\n    \n}\n\n------------------------------------------------------------------------------------------------\n\n\n\npublic final class FlatMapUtil {\n    private FlatMapUtil() {\n        throw new AssertionError(&quot;No instances for you!&quot;);\n    }\n    public static Map&lt;String, Object&gt; flatten(Map&lt;String, Object&gt; map) {\n        return map.entrySet().stream()\n                .flatMap(FlatMapUtil::flatten)\n                .collect(LinkedHashMap::new, (m, e) -&gt; m.put(&quot;/&quot; + e.getKey(), e.getValue()), LinkedHashMap::putAll);\n    }\n    private static Stream&lt;Map.Entry&lt;String, Object&gt;&gt; flatten(Map.Entry&lt;String, Object&gt; entry) {\n        \n        if (entry == null) {\n            return Stream.empty();\n        }\n\n        if (entry.getValue() instanceof Map&lt;?, ?&gt;) {\n            return ((Map&lt;?, ?&gt;) entry.getValue()).entrySet().stream()\n                    .flatMap(e -&gt; flatten(new AbstractMap.SimpleEntry&lt;&gt;(entry.getKey() + &quot;/&quot; + e.getKey(), e.getValue())));\n        }\n\n        if (entry.getValue() instanceof List&lt;?&gt;) {\n            List&lt;?&gt; list = (List&lt;?&gt;) entry.getValue();\n            return IntStream.range(0, list.size())\n                    .mapToObj(i -&gt; new AbstractMap.SimpleEntry&lt;String, Object&gt;(entry.getKey() + &quot;/&quot; + i, list.get(i)))\n                    .flatMap(FlatMapUtil::flatten);\n        }\n\n        return Stream.of(entry);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664727159,"post_id":73925632,"comment_id":130533228,"body_markdown":"The root/reason for any plugin version can be found via: `mvn help:effective-pom` (/with IDE)..But I agree, that these from &quot;latest&quot; maven-core and maven-model-builder &quot;seem old&quot;!","body":"The root/reason for any plugin version can be found via: <code>mvn help:effective-pom</code> (/with IDE)..But I agree, that these from &quot;latest&quot; maven-core and maven-model-builder &quot;seem old&quot;!"}],"answers":[{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664720927,"creation_date":1664720927,"answer_id":73926620,"question_id":73925632,"body_markdown":"Each Maven versions can contains different versions of core plugins.\r\n\r\nWhen you don&#39;t lock used plugins version in your project, build can use different version of plugins when you change used Maven version.\r\n\r\nIt cause that your project build can be unreproducible with different Maven version.\r\n\r\nSo recommended way is lock all plugin version in project, you should create pluginManagement with all plugin version in your project on in your parent pom.\r\n\r\nEven more Maven 4 will produce warning is such case:\r\nhttps://issues.apache.org/jira/browse/MNG-6562\r\n","title":"Why is the default version for the maven-compiler-plugin 3.1, a version from 2013, when the newest one is 3.10.1?","body":"<p>Each Maven versions can contains different versions of core plugins.</p>\n<p>When you don't lock used plugins version in your project, build can use different version of plugins when you change used Maven version.</p>\n<p>It cause that your project build can be unreproducible with different Maven version.</p>\n<p>So recommended way is lock all plugin version in project, you should create pluginManagement with all plugin version in your project on in your parent pom.</p>\n<p>Even more Maven 4 will produce warning is such case:\n<a href=\"https://issues.apache.org/jira/browse/MNG-6562\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/MNG-6562</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664727227,"creation_date":1664726347,"answer_id":73927297,"question_id":73925632,"body_markdown":"&gt;  Why does Maven use such an old version?\r\n\r\nIn a word: Reproducibility.\r\n\r\nChanging a plugin version number can result in changes in behavior that affect a Maven build.  Now if the developer changes an explicit plugin version in their POM file, it is reasonable to assume that they made a conscious decision to do this.  Either way, the decision to change was theirs.\r\n\r\nOn the other hand, when people rely on default plugin version numbers, they are not going to expect that they vary depending on the precise version of Maven that is installed.  They won&#39;t be happy if the build instructions for some old projects require them to install an out-of-date version of Maven.  And they won&#39;t be happy if installing a new Maven version to (say) patch a security problem *also* changes default plugin versions and ... unexpectedly breaks their builds.\r\n\r\nHence, the Maven team is extremely cautious about changing default plugin versions, and default properties.\r\n\r\n----------------------\r\n\r\nEither way, the solution is in your own hands.  If you want to use a more recent version of any plugin, just put an explicit plugin version in your project&#39;s parent POM file.\r\n\r\n","title":"Why is the default version for the maven-compiler-plugin 3.1, a version from 2013, when the newest one is 3.10.1?","body":"<blockquote>\n<p>Why does Maven use such an old version?</p>\n</blockquote>\n<p>In a word: Reproducibility.</p>\n<p>Changing a plugin version number can result in changes in behavior that affect a Maven build.  Now if the developer changes an explicit plugin version in their POM file, it is reasonable to assume that they made a conscious decision to do this.  Either way, the decision to change was theirs.</p>\n<p>On the other hand, when people rely on default plugin version numbers, they are not going to expect that they vary depending on the precise version of Maven that is installed.  They won't be happy if the build instructions for some old projects require them to install an out-of-date version of Maven.  And they won't be happy if installing a new Maven version to (say) patch a security problem <em>also</em> changes default plugin versions and ... unexpectedly breaks their builds.</p>\n<p>Hence, the Maven team is extremely cautious about changing default plugin versions, and default properties.</p>\n<hr />\n<p>Either way, the solution is in your own hands.  If you want to use a more recent version of any plugin, just put an explicit plugin version in your project's parent POM file.</p>\n"}],"owner":{"account_id":11727995,"reputation":55,"user_id":8584566,"display_name":"Rattletrap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73927297,"answer_count":2,"score":3,"last_activity_date":1664727227,"creation_date":1664712029,"question_id":73925632,"body_markdown":"As the title says. I figured this out recently when I wanted to use the release flag in my POM configuration. Why does Maven use such an old version? \r\n\r\nI should add I&#39;m using the latest Maven version (3.8.6).","title":"Why is the default version for the maven-compiler-plugin 3.1, a version from 2013, when the newest one is 3.10.1?","body":"<p>As the title says. I figured this out recently when I wanted to use the release flag in my POM configuration. Why does Maven use such an old version?</p>\n<p>I should add I'm using the latest Maven version (3.8.6).</p>\n"},{"tags":["java","instrumentation"],"comments":[{"owner":{"account_id":6961244,"reputation":2181,"user_id":5340590,"accept_rate":75,"display_name":"Piyush Gupta"},"score":0,"creation_date":1449836872,"post_id":34223471,"comment_id":56190916,"body_markdown":"This is version issue you need to check that are u using same version or need to check library also..","body":"This is version issue you need to check that are u using same version or need to check library also.."},{"owner":{"account_id":4432876,"reputation":1263,"user_id":3609599,"accept_rate":41,"display_name":"udani"},"score":0,"creation_date":1449922850,"post_id":34223471,"comment_id":56221653,"body_markdown":"version and library of what? h2 or javassist or java?","body":"version and library of what? h2 or javassist or java?"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1619509305,"creation_date":1450183031,"answer_id":34289517,"question_id":34223471,"body_markdown":"It seems you hit a bug in Javassist’s byte code generator. Here is the disassembled code as reported from the `VerifyError`. Note that due to the absence of the constant pool in the exception message, the actual target methods are guessed from your source code (but it looks plausible):\r\n\r\n      0 invokestatic \t[876]\r\n      3 lstore_3\r\n      4 new \t[878]          guess: new StringBuilder\r\n      7 dup\r\n      8 invokespecial \t[879]  guess: StringBuilder.&lt;init&gt;\r\n     11 invokestatic \t[876]  guess: System.nanoTime()\r\n     14 invokestatic \t[883]  guess: String.valueOf(long)\r\n     17 invokevirtual \t[886]  guess: StringBuilder.append(String)\r\n     20 invokestatic \t[892]  guess: Math.random()\r\n     23 invokestatic \t[896]  guess: Math.round(double)\r\n     26 invokestatic \t[883]  guess: String.valueOf(long)\r\n     29 invokevirtual \t[886]  guess: StringBuilder.append(String)\r\n     32 invokevirtual \t[897]  guess: StringBuilder.toString() \r\n     35 invokestatic \t[902]  guess: Long.valueOf(String)\r\n     38 i2l\r\n     39 lstore \t&lt;5&gt;\r\n    … rest omitted\r\n\r\nNote that the method invocations match your source code fragment (being `static` or virtual as expected and being the same reference where supposed to be the same), whereas the instruction at location `38`, the one rejected by the verifier, is a spurious `i2l` instruction (a conversion from `int` to `long`). At this place, an unboxing conversion from `Long` to `long` should happen. Since the following `lstore` instruction will store a `long` value into a local variable, it seems that Javassist got your local variable declaration right.\r\n\r\nNote that the first two instructions indicate that there is another instrumentation happening; since it’s invoking the same method as the instruction at location `11`, which is supposed to be `System.nanoTime`, it seems the other instrumentation is intended to measure the method’s overall execution time. But that shouldn’t affect your instrumentation code.\r\n\r\nYou may contact the authors of Javassist to find out whether `Long` unboxing should work. At the same time, you may workaround the problem by using [`Long.parseLong`](http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html#parseLong-java.lang.String-) instead of `Long.valueOf` to avoid the boxing/unboxing in the first place. You may also simplify the operation from the generated code’s perspective by using `String.concat` instead of the `+` operator as this eliminates the need to deal with `StringBuilder` internally:\r\n\r\nReplace\r\n\r\n    method.addLocalVariable(&quot;instMethod_correlationId&quot;, CtClass.longType);\r\n    beforeBuilder.append(&quot;instMethod_correlationId = Long.valueOf(String.valueOf(System.nanoTime()) + String.valueOf(Math.round(Math.random())));&quot;);\r\n\r\nwith\r\n\r\n    method.addLocalVariable(&quot;instMethod_correlationId&quot;, CtClass.longType);\r\n    beforeBuilder.append(&quot;instMethod_correlationId = Long.parseLong(String.valueOf(System.nanoTime()).concat(String.valueOf(Math.round(Math.random()))));&quot;);\r\n\r\nThis should lower the requirements to Javassist’s compiling capabilities and workaround the bug triggered by your original code fragment.\r\n\r\n---\r\n\r\nUpdate: for those, interested in decoding the hex dump of a `VerifyError` to a readable instruction sequence: [Online Decoder using tio.run](https://tio.run/##1Vlbd9u4EX73r0B1zm6kWlFJ6m4nm@qaaFeWXUveZJvk@IAiaTOhSFWiEuds07@ezmBwoyxn0@32oX4w5hvMDAYfBiBFvOMf@ON3wfsvX@LVOtvk7B0oars8TmrzJU/TcHN6ZPekcVbrf8rD/i6K9vuE1ya8Ce9qZzxf3n6l/4LnebhJT4@O1js/iZdsmfDtlp3xOGV/@QsbhsssCH8ON3H0abTZZJujX48Yk6bbnOfQfMjigK3AoTzPN3F6U6vVGN/cVBia4h@p2W14x56yNPzI5ITK80/bPFzV4rRS223DYZjEqxiyKZfevPl7qVJLw7u8XDmVUcxkme9DoDXfbMMX4d1wt1qXIbY23IQ8QOMBZF72faH/fIRpb@IPPA9V3lGc8oRJAtiL0avh1dnFdf@XxQiiS3Vtma3WcRKWS6@dx13@OHr7q/e5VKnKoZTTdDI76FR@duLcVZ4dK@fjkzdvtmXQ6miNz6B5dlz51al2Ptsd3ufKs0oJkr/Ht0VEgQNJcwByBZyI/X3WDK7xJMmWwEfZdRxJXpRtyrJi2Aqs7fnVVtRRFgOcslUNCAzM@jDQwCpKDsq2awWLLc7S8koKI3SsilRrSZje5LflSgULRsfCTFbGDaa@ycsu@KxqITi7lcqhwXDx7NSYKUL6i9OcxViGKiREvI0Bi1SWt3zTy8vxHWiT7J6WHTPXmq6IF5X/5Pu1W769DHELwAKUK/uDMqC@FiXxurznXVye@OYGmsNLBAGWfM2Xcf6pXGF/Zt69SOReW@9yVfPFBCAwmRS7Ph/t5YkByj6kUCmXy0DNYwb/nzx91H30jD1yHp2wR/zRY9eBST55whoV9k9WBqoe4/9DVhUrFRqL/u8xsgnzHWxC39eb1T5cCju6UNGG6o@3uON@Yy1w@Ze7DbKMU822cY71BcudrUl3E0JNfO/cRZHNkzyosl1eg0MkzaNy6btmwNh321JVBKyyWe9s9Dpbvy1Qv/0Yw54pZ@v7JbHk25D1JxdX8xcn9@LDCZiXjlU6UMc@UPD@9FCI6XBwcsj9tfE/Lr0tfTXGZHreG56ogDYY22Bog54AB6PNF@eXoxMZzQZjGwxt0LPB5WixH5gdpOhJ6bhcWDOY6g9fn@ps9LJ3edn75T7nSVoWPYtfLkavVdS3X@dtMhucfHtmVfaNazr/hrKY32ab34rzfLSYL3qLyUASe3FVxNA/noymQ9NN8OBcZz@f/zT6eXK5uOpNT2zd/GI0mOzr7GGA84Mhe2YxBB68GA1@GkAp6FAQZjYYnY9PHqj865cnWvYQPLATyiBWiLcBnObfsiXGo7@pNMazkRanOrnxc6N9brTT0WH6xteTwdmFFVRgK7LAVniBn3812vM966kVrbc3Wo9GO1gm54tzafjj/NLM@mo6NeB8JvC9fXl4Z5bgWelveLq8XcCrIBQ8HZLF0r33lBIPhoerGdLUCw6JXr/8Q7KZpL8jl7Or6WJi6vcb83igEuFcgAT3zouvV6fYZJPZYnQ57g1Gha03/AUeRbD3/rucSocJsR6a4jl6zJr/IXPT8/Ofri7mLyeLwYuT3xhCjQGvGd@zf9UPjnTgGIdZvcmDMOK7JD9hv3fx8Q0U3xfS3Uq/GgjzU6H6gTlCePy4csD54bwECSInExFQ6eSPL9JFrz8d/R8xnWQfi0zju/nN7T77aPbkqegS4Pj4d64ABvrfMP9yMhwdohxn@TEOwjQMrNdNoHz/hfPhHSsyFy@bMtDbyuk3bvUn4pjZ3@xIwQ@Htzv8utHZPhVvO5UDgatWOeu3km@lSxXP0eGfJAfWUMf@/MDvevk7uLCi6sU/TPMLWfNVsRpZFG3D3Pxelj9ESn/FOVEnEsRYmT39gc7pvTjaDpgsVUr7P2DoKwPl9PqtWDlYevVroJRmaySQL7N0m1@nuyRBGBNcuRZwLNnWe5ZcL6kvE0rTsHqbKCdWtMSKFln66L7eM5EDyzKwLP14vdveorTVUhIsZXP9UQoeSXGS8cAETQjCeEoIlMCVIFwkD0J0jegZsb4XVc7VeCTGI1EecmA5f2MbGdtoP3pgPALjERiPwETnxpYbW25s@X70WM870VKkpUBLXEu@lpZa2vIiz/E2zzahiKqlSEuBlriUin6SfJJdS/YsuW6iS@ot@0Tb6zWyvCLLK7K8ImuUyLIPLPtA2@v1sbwCy4tbXtwahVv2XNub9TDUGTEyYmBEbkTfiEsjbvf5XdM5AA2lu1vL5vrO1ZLq0q3p9ESvirb9yIV/zANZQYGsn0BWD7XxdufTqlAbyTaQbbzaifMoEa2KHkltINs4iD/Q5qY2km0g23gTrkS/bCPZBrKN0/DGqgeBwEq2gWzj7S3lIlvAG4lFG@@UQgkxT@0TRiDQZmRFTXwnoWzjOBUnVuzRIF5EDdHoxdRE1FjRI@qKyC0i@4CUASkDFYuo9eQ4WzqJV2s6bVfrRAk39pkr9QHpwTEK/0FtGlKb5NTeSHwjcSLxdQy@6KQrmlSp3a@CCHBj99zYPTomvx@T65g3WZ5h@24ruIVnKzY595OQvozRQmTvd2uDY3oEy4IhUbNs@gIjciMaCZ769AQW22pnAeiJ4jCxFg@6pQaL8UP2PvwQb/IdT4xiuw6XcUGh4xGGl4lwE/GlfWaKjuBTyldkmYYfZcM3G/5J5F4AKND3cAHz200mPJa34fI9Hh92cMggXYaZKKpVlsZ4oGASNr6LBeX4FifU8KoVF4aE8hHvHGb90ixVryG4fvS0hhVEAd9tTh98t9Gfz/AFh2GQ6v3/YqCSn2VJyNPXb2l2fEMSPmJzEoNsB2VCMn6OJmmL75ckAuEkJBmOXqLMilcllCC@583OLyAr585xqqw3OJ/NF9f4PYN0bpVNSHfmksbTGocUdcWQVEu7hrbzSNHUijopWlrRIEVbK5qk6KjQ08KI3apSyLF6VTYuWPS1QloMtEJmM1ShhwXHUVUppOO4Kj9FC@gCR3MLAj3T4YBkr0rf3QhpVuj7GymRE/w4TAgImRoEbIwNAiqGBnWq9FGZUFcTjjqZuduTsWXibl9hmrA7UJjYd4dydOU/0gnbUcbKiqJ4jsIUxXNl1jKK5ylM/p6mYWxHaSgrGaUpZ6uitBSWURQbyl/XxdCO0pUsqSg9hWWUvsIyykBh6a9LYmLI9qAgphYEPsYG1oGOoQWBjZ4FgYy@BTUXA0sJVMwtiJtEfPAnCERMLQg8jC0IZTG0oK6LnqXsqYCSlXpfK4iW@kAriJf6UCuImLopjUKksUpORmo4WkGRGq5WUKSGpyYgYzRMfRQiNbSdjNTUChmppeauIrW1QsYwRVKI1NV2MhKWSSFSXytkpIFWyBjDItMqEtTKxOK@gQRZuOlg8VjYxeqxsKfD2to6VpGFgZuBjZtYQRYGZi7kkd5sC5mybhpCrmQ3cnF1cf2K5tnsSSjt@wJKMCCgbYcKy35dI/OXPRl9jHQMqbBbWBsa4KmhgYcsKFDH2rvqE2hg@SjQNJWiVKIGFMCHx9kVPbZasDOmGsAsxxrgHDXAvTCc/ExgYE5spYJJjjXAR4MGOLfL0ZkAbZybBjg3DXBuGpgH5Wz0nFQ4Qw2wxjXAuWmAc5u/oKTbODcNuqLnkkDP7FOlwhleaQSLODUI93lvRsS3xTmnAM7unKw6ODklu3oGr5QKn3oa4OpNZvQ87ODDzqM0O3iseWOS8bHv0UAdmNjUm5BsHvbKEp/zyhIf8coSn@4qMj7YlQ3WpLLB1VI2Y134MnLXwRyocLr4iuNRzl18ufHmJNfxLeOMarmLBxJeIxFqEqLV6bbMq4S2wNPIWMCS4a0ZAVyy8Yw2axeP5/F0QQDmJS7PCOG5PH4uu8yzaTyV/XjaqKsz0oyr5vJMaHpO1Vyfkcatmgs00ngmtLw6I33d@ErLRtVcn5GmWTUXaKSB1cXbKAJtFfrHOVVID5i4HMkBgAjrOzzpetXCNQgp@2KzLa4uZ4TNTrW1Q7HxDB6JvWcwsNOzcN8RqWioa1tfDZMeSkJfDpMGiFHXw6RoVPUFMSmQFvtSmLQts/@ty2Hqa1cL18Ok7FT3r7NI360WL7RIq3f/bESvm33gTd3DkQIfZEXNsEq/Taaj2fMF0d0H4nqLF5fnMorePfoSWugHWFv6GppUUFxn57MJPoswY1J6RvlqIn2BQrwIINBQAxSvDqlTVJj@PTJoVc2NK2naVXn9SRA4ExeghLqnR5@PvnzB4A79nTC/49RZa9nwmO@jFDa7zG@jFPkd5tRbS2FypJ1ccGrX/Rb0tVvk3l4K044joeo1Th6O1IK@jkumLdZp1tvMaRL0ybMTupZTHZycplsHg65D7t2G7yNssWbXb6PUZnXutI1TA5zcrtNmbh3tux6E7qIUwD/HabblSL7fMU5NHKneCZnbcprSM3K7zGmLmXCPedxpYQqOcWrhSG49gD60cjwOwzkO89oguR7OruUukVbLqY1OLeLYYW7b9RjMHt1hOI9jti3sCHyLiA6mhwYQtSENujSmQ9ALYMxiel1w8kJQez4yBVSxxhLZg/kAe6ID0nNde3E5OIW@76GVAzMnT59xzNbhDZyst9wbyceROn6EK9GlMuq2VBl12zCcw5FM7lojLQXlvEFs85bfxdUM4B@M1GzbZWGcAnDCGsG6wTpohaoOWpEM1LlXe6Gpcs9lLaq4dp0Kqt0S9h0Xi4Ybp0gVLPcw9a7vsIf@/g0 &quot;Java (JDK) – Try It Online&quot;)","title":"How to get arround java.lang.verrifyError","body":"<p>It seems you hit a bug in Javassist’s byte code generator. Here is the disassembled code as reported from the <code>VerifyError</code>. Note that due to the absence of the constant pool in the exception message, the actual target methods are guessed from your source code (but it looks plausible):</p>\n<pre><code>  0 invokestatic    [876]\n  3 lstore_3\n  4 new     [878]          guess: new StringBuilder\n  7 dup\n  8 invokespecial   [879]  guess: StringBuilder.&lt;init&gt;\n 11 invokestatic    [876]  guess: System.nanoTime()\n 14 invokestatic    [883]  guess: String.valueOf(long)\n 17 invokevirtual   [886]  guess: StringBuilder.append(String)\n 20 invokestatic    [892]  guess: Math.random()\n 23 invokestatic    [896]  guess: Math.round(double)\n 26 invokestatic    [883]  guess: String.valueOf(long)\n 29 invokevirtual   [886]  guess: StringBuilder.append(String)\n 32 invokevirtual   [897]  guess: StringBuilder.toString() \n 35 invokestatic    [902]  guess: Long.valueOf(String)\n 38 i2l\n 39 lstore  &lt;5&gt;\n… rest omitted\n</code></pre>\n<p>Note that the method invocations match your source code fragment (being <code>static</code> or virtual as expected and being the same reference where supposed to be the same), whereas the instruction at location <code>38</code>, the one rejected by the verifier, is a spurious <code>i2l</code> instruction (a conversion from <code>int</code> to <code>long</code>). At this place, an unboxing conversion from <code>Long</code> to <code>long</code> should happen. Since the following <code>lstore</code> instruction will store a <code>long</code> value into a local variable, it seems that Javassist got your local variable declaration right.</p>\n<p>Note that the first two instructions indicate that there is another instrumentation happening; since it’s invoking the same method as the instruction at location <code>11</code>, which is supposed to be <code>System.nanoTime</code>, it seems the other instrumentation is intended to measure the method’s overall execution time. But that shouldn’t affect your instrumentation code.</p>\n<p>You may contact the authors of Javassist to find out whether <code>Long</code> unboxing should work. At the same time, you may workaround the problem by using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html#parseLong-java.lang.String-\" rel=\"nofollow noreferrer\"><code>Long.parseLong</code></a> instead of <code>Long.valueOf</code> to avoid the boxing/unboxing in the first place. You may also simplify the operation from the generated code’s perspective by using <code>String.concat</code> instead of the <code>+</code> operator as this eliminates the need to deal with <code>StringBuilder</code> internally:</p>\n<p>Replace</p>\n<pre><code>method.addLocalVariable(&quot;instMethod_correlationId&quot;, CtClass.longType);\nbeforeBuilder.append(&quot;instMethod_correlationId = Long.valueOf(String.valueOf(System.nanoTime()) + String.valueOf(Math.round(Math.random())));&quot;);\n</code></pre>\n<p>with</p>\n<pre><code>method.addLocalVariable(&quot;instMethod_correlationId&quot;, CtClass.longType);\nbeforeBuilder.append(&quot;instMethod_correlationId = Long.parseLong(String.valueOf(System.nanoTime()).concat(String.valueOf(Math.round(Math.random()))));&quot;);\n</code></pre>\n<p>This should lower the requirements to Javassist’s compiling capabilities and workaround the bug triggered by your original code fragment.</p>\n<hr />\n<p>Update: for those, interested in decoding the hex dump of a <code>VerifyError</code> to a readable instruction sequence: <a href=\"https://tio.run/##1Vlbd9u4EX73r0B1zm6kWlFJ6m4nm@qaaFeWXUveZJvk@IAiaTOhSFWiEuds07@ezmBwoyxn0@32oX4w5hvMDAYfBiBFvOMf@ON3wfsvX@LVOtvk7B0oars8TmrzJU/TcHN6ZPekcVbrf8rD/i6K9vuE1ya8Ce9qZzxf3n6l/4LnebhJT4@O1js/iZdsmfDtlp3xOGV/@QsbhsssCH8ON3H0abTZZJujX48Yk6bbnOfQfMjigK3AoTzPN3F6U6vVGN/cVBia4h@p2W14x56yNPzI5ITK80/bPFzV4rRS223DYZjEqxiyKZfevPl7qVJLw7u8XDmVUcxkme9DoDXfbMMX4d1wt1qXIbY23IQ8QOMBZF72faH/fIRpb@IPPA9V3lGc8oRJAtiL0avh1dnFdf@XxQiiS3Vtma3WcRKWS6@dx13@OHr7q/e5VKnKoZTTdDI76FR@duLcVZ4dK@fjkzdvtmXQ6miNz6B5dlz51al2Ptsd3ufKs0oJkr/Ht0VEgQNJcwByBZyI/X3WDK7xJMmWwEfZdRxJXpRtyrJi2Aqs7fnVVtRRFgOcslUNCAzM@jDQwCpKDsq2awWLLc7S8koKI3SsilRrSZje5LflSgULRsfCTFbGDaa@ycsu@KxqITi7lcqhwXDx7NSYKUL6i9OcxViGKiREvI0Bi1SWt3zTy8vxHWiT7J6WHTPXmq6IF5X/5Pu1W769DHELwAKUK/uDMqC@FiXxurznXVye@OYGmsNLBAGWfM2Xcf6pXGF/Zt69SOReW@9yVfPFBCAwmRS7Ph/t5YkByj6kUCmXy0DNYwb/nzx91H30jD1yHp2wR/zRY9eBST55whoV9k9WBqoe4/9DVhUrFRqL/u8xsgnzHWxC39eb1T5cCju6UNGG6o@3uON@Yy1w@Ze7DbKMU822cY71BcudrUl3E0JNfO/cRZHNkzyosl1eg0MkzaNy6btmwNh321JVBKyyWe9s9Dpbvy1Qv/0Yw54pZ@v7JbHk25D1JxdX8xcn9@LDCZiXjlU6UMc@UPD@9FCI6XBwcsj9tfE/Lr0tfTXGZHreG56ogDYY22Bog54AB6PNF@eXoxMZzQZjGwxt0LPB5WixH5gdpOhJ6bhcWDOY6g9fn@ps9LJ3edn75T7nSVoWPYtfLkavVdS3X@dtMhucfHtmVfaNazr/hrKY32ab34rzfLSYL3qLyUASe3FVxNA/noymQ9NN8OBcZz@f/zT6eXK5uOpNT2zd/GI0mOzr7GGA84Mhe2YxBB68GA1@GkAp6FAQZjYYnY9PHqj865cnWvYQPLATyiBWiLcBnObfsiXGo7@pNMazkRanOrnxc6N9brTT0WH6xteTwdmFFVRgK7LAVniBn3812vM966kVrbc3Wo9GO1gm54tzafjj/NLM@mo6NeB8JvC9fXl4Z5bgWelveLq8XcCrIBQ8HZLF0r33lBIPhoerGdLUCw6JXr/8Q7KZpL8jl7Or6WJi6vcb83igEuFcgAT3zouvV6fYZJPZYnQ57g1Gha03/AUeRbD3/rucSocJsR6a4jl6zJr/IXPT8/Ofri7mLyeLwYuT3xhCjQGvGd@zf9UPjnTgGIdZvcmDMOK7JD9hv3fx8Q0U3xfS3Uq/GgjzU6H6gTlCePy4csD54bwECSInExFQ6eSPL9JFrz8d/R8xnWQfi0zju/nN7T77aPbkqegS4Pj4d64ABvrfMP9yMhwdohxn@TEOwjQMrNdNoHz/hfPhHSsyFy@bMtDbyuk3bvUn4pjZ3@xIwQ@Htzv8utHZPhVvO5UDgatWOeu3km@lSxXP0eGfJAfWUMf@/MDvevk7uLCi6sU/TPMLWfNVsRpZFG3D3Pxelj9ESn/FOVEnEsRYmT39gc7pvTjaDpgsVUr7P2DoKwPl9PqtWDlYevVroJRmaySQL7N0m1@nuyRBGBNcuRZwLNnWe5ZcL6kvE0rTsHqbKCdWtMSKFln66L7eM5EDyzKwLP14vdveorTVUhIsZXP9UQoeSXGS8cAETQjCeEoIlMCVIFwkD0J0jegZsb4XVc7VeCTGI1EecmA5f2MbGdtoP3pgPALjERiPwETnxpYbW25s@X70WM870VKkpUBLXEu@lpZa2vIiz/E2zzahiKqlSEuBlriUin6SfJJdS/YsuW6iS@ot@0Tb6zWyvCLLK7K8ImuUyLIPLPtA2@v1sbwCy4tbXtwahVv2XNub9TDUGTEyYmBEbkTfiEsjbvf5XdM5AA2lu1vL5vrO1ZLq0q3p9ESvirb9yIV/zANZQYGsn0BWD7XxdufTqlAbyTaQbbzaifMoEa2KHkltINs4iD/Q5qY2km0g23gTrkS/bCPZBrKN0/DGqgeBwEq2gWzj7S3lIlvAG4lFG@@UQgkxT@0TRiDQZmRFTXwnoWzjOBUnVuzRIF5EDdHoxdRE1FjRI@qKyC0i@4CUASkDFYuo9eQ4WzqJV2s6bVfrRAk39pkr9QHpwTEK/0FtGlKb5NTeSHwjcSLxdQy@6KQrmlSp3a@CCHBj99zYPTomvx@T65g3WZ5h@24ruIVnKzY595OQvozRQmTvd2uDY3oEy4IhUbNs@gIjciMaCZ769AQW22pnAeiJ4jCxFg@6pQaL8UP2PvwQb/IdT4xiuw6XcUGh4xGGl4lwE/GlfWaKjuBTyldkmYYfZcM3G/5J5F4AKND3cAHz200mPJa34fI9Hh92cMggXYaZKKpVlsZ4oGASNr6LBeX4FifU8KoVF4aE8hHvHGb90ixVryG4fvS0hhVEAd9tTh98t9Gfz/AFh2GQ6v3/YqCSn2VJyNPXb2l2fEMSPmJzEoNsB2VCMn6OJmmL75ckAuEkJBmOXqLMilcllCC@583OLyAr585xqqw3OJ/NF9f4PYN0bpVNSHfmksbTGocUdcWQVEu7hrbzSNHUijopWlrRIEVbK5qk6KjQ08KI3apSyLF6VTYuWPS1QloMtEJmM1ShhwXHUVUppOO4Kj9FC@gCR3MLAj3T4YBkr0rf3QhpVuj7GymRE/w4TAgImRoEbIwNAiqGBnWq9FGZUFcTjjqZuduTsWXibl9hmrA7UJjYd4dydOU/0gnbUcbKiqJ4jsIUxXNl1jKK5ylM/p6mYWxHaSgrGaUpZ6uitBSWURQbyl/XxdCO0pUsqSg9hWWUvsIyykBh6a9LYmLI9qAgphYEPsYG1oGOoQWBjZ4FgYy@BTUXA0sJVMwtiJtEfPAnCERMLQg8jC0IZTG0oK6LnqXsqYCSlXpfK4iW@kAriJf6UCuImLopjUKksUpORmo4WkGRGq5WUKSGpyYgYzRMfRQiNbSdjNTUChmppeauIrW1QsYwRVKI1NV2MhKWSSFSXytkpIFWyBjDItMqEtTKxOK@gQRZuOlg8VjYxeqxsKfD2to6VpGFgZuBjZtYQRYGZi7kkd5sC5mybhpCrmQ3cnF1cf2K5tnsSSjt@wJKMCCgbYcKy35dI/OXPRl9jHQMqbBbWBsa4KmhgYcsKFDH2rvqE2hg@SjQNJWiVKIGFMCHx9kVPbZasDOmGsAsxxrgHDXAvTCc/ExgYE5spYJJjjXAR4MGOLfL0ZkAbZybBjg3DXBuGpgH5Wz0nFQ4Qw2wxjXAuWmAc5u/oKTbODcNuqLnkkDP7FOlwhleaQSLODUI93lvRsS3xTmnAM7unKw6ODklu3oGr5QKn3oa4OpNZvQ87ODDzqM0O3iseWOS8bHv0UAdmNjUm5BsHvbKEp/zyhIf8coSn@4qMj7YlQ3WpLLB1VI2Y134MnLXwRyocLr4iuNRzl18ufHmJNfxLeOMarmLBxJeIxFqEqLV6bbMq4S2wNPIWMCS4a0ZAVyy8Yw2axeP5/F0QQDmJS7PCOG5PH4uu8yzaTyV/XjaqKsz0oyr5vJMaHpO1Vyfkcatmgs00ngmtLw6I33d@ErLRtVcn5GmWTUXaKSB1cXbKAJtFfrHOVVID5i4HMkBgAjrOzzpetXCNQgp@2KzLa4uZ4TNTrW1Q7HxDB6JvWcwsNOzcN8RqWioa1tfDZMeSkJfDpMGiFHXw6RoVPUFMSmQFvtSmLQts/@ty2Hqa1cL18Ok7FT3r7NI360WL7RIq3f/bESvm33gTd3DkQIfZEXNsEq/Taaj2fMF0d0H4nqLF5fnMorePfoSWugHWFv6GppUUFxn57MJPoswY1J6RvlqIn2BQrwIINBQAxSvDqlTVJj@PTJoVc2NK2naVXn9SRA4ExeghLqnR5@PvnzB4A79nTC/49RZa9nwmO@jFDa7zG@jFPkd5tRbS2FypJ1ccGrX/Rb0tVvk3l4K044joeo1Th6O1IK@jkumLdZp1tvMaRL0ybMTupZTHZycplsHg65D7t2G7yNssWbXb6PUZnXutI1TA5zcrtNmbh3tux6E7qIUwD/HabblSL7fMU5NHKneCZnbcprSM3K7zGmLmXCPedxpYQqOcWrhSG49gD60cjwOwzkO89oguR7OruUukVbLqY1OLeLYYW7b9RjMHt1hOI9jti3sCHyLiA6mhwYQtSENujSmQ9ALYMxiel1w8kJQez4yBVSxxhLZg/kAe6ID0nNde3E5OIW@76GVAzMnT59xzNbhDZyst9wbyceROn6EK9GlMuq2VBl12zCcw5FM7lojLQXlvEFs85bfxdUM4B@M1GzbZWGcAnDCGsG6wTpohaoOWpEM1LlXe6Gpcs9lLaq4dp0Kqt0S9h0Xi4Ybp0gVLPcw9a7vsIf@/g0\" rel=\"nofollow noreferrer\" title=\"Java (JDK) – Try It Online\">Online Decoder using tio.run</a></p>\n"},{"tags":[],"owner":{"account_id":15239597,"reputation":41,"user_id":10996267,"display_name":"Dragan N"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664727057,"creation_date":1664270217,"answer_id":73865136,"question_id":34223471,"body_markdown":"Try adding:\r\n\r\n    testOptions {\r\n       unitTests.all {\r\n          jvmArgs &#39;-noverify&#39;\r\n       }\r\n    }\r\n\r\nto the `build.gradle` file in the Android part.","title":"How to get arround java.lang.verrifyError","body":"<p>Try adding:</p>\n<pre><code>testOptions {\n   unitTests.all {\n      jvmArgs '-noverify'\n   }\n}\n</code></pre>\n<p>to the <code>build.gradle</code> file in the Android part.</p>\n"}],"owner":{"account_id":4432876,"reputation":1263,"user_id":3609599,"accept_rate":41,"display_name":"udani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5046,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34289517,"answer_count":2,"score":2,"last_activity_date":1664727057,"creation_date":1449836540,"question_id":34223471,"body_markdown":"I am trying to generate a random number with the instrumented code. For that I have added following expression to generate a random number. But it is throwing a verify Error as given below.\r\n\r\n    method.addLocalVariable(&quot;instMethod_correlationId&quot;, CtClass.longType);\r\n    beforeBuilder.append(&quot;instMethod_correlationId = Long.valueOf(String.valueOf(System.nanoTime()) + String.valueOf(Math.round(Math.random())));&quot;);\r\n\r\nI have added a long variable and assign the above generated value. But I am getting following exception during the run time. But if I run the same number generation in a normal project it doesn&#39;t throw any exceptions. \r\n\r\n    java.lang.VerifyError: Bad type on operand stack\r\n    Exception Details:\r\n      Location:\r\n        org/h2/jdbc/JdbcConnection.prepareStatement(Ljava/lang/String;)Ljava/sql/PreparedStatement; @38: i2l\r\n      Reason:\r\n        Type &#39;java/lang/Long&#39; (current frame, stack[0]) is not assignable to integer\r\n      Current Frame:\r\n        bci: @38\r\n        flags: { }\r\n        locals: { &#39;org/h2/jdbc/JdbcConnection&#39;, &#39;java/lang/String&#39;, top, long, long_2nd }\r\n        stack: { &#39;java/lang/Long&#39; }\r\n      Bytecode:\r\n        0000000: b803 6c42 bb03 6e59 b703 6fb8 036c b803\r\n        0000010: 73b6 0376 b803 7cb8 0380 b803 73b6 0376\r\n        0000020: b603 81b8 0386 8537 05b8 038b b803 8e16\r\n        0000030: 0513 0390 b603 94bb 0396 59b7 0397 3a07\r\n        0000040: 1907 1303 992b b903 9d03 0057 b803 8bb8\r\n        0000050: 038e 1605 1303 9f19 07b6 03a2 2a06 b600\r\n        0000060: 113d 2ab6 002a 9900 272a 1237 061c bb00\r\n        0000070: 1659 b700 1712 38b6 0019 2a2b b600 1db6\r\n        0000080: 0019 1234 b600 19b6 0020 b600 2d2a b600\r\n        0000090: 2e2a 2bb7 0039 4cbb 003a 592a 2b1c 1103\r\n        00000a0: ebb2 0030 03b7 003b a700 0a4d 2a2c b600\r\n        00000b0: 28bf 3a09 bb03 9659 b703 973a 0a19 0a13\r\n        00000c0: 03a4 1303 a6b9 039d 0300 57b8 038b b803\r\n        00000d0: 8e16 05bb 036e 59b7 036f 1303 a8b6 0376\r\n        00000e0: b803 6c21 65b8 0373 b603 76b6 0381 190a\r\n        00000f0: b603 a219 09b0                         \r\n      Exception Handler Table:\r\n        bci [55, 168] =&gt; handler: 171\r\n      Stackmap Table:\r\n        full_frame(@141,{Object[#320],Object[#331],Integer,Long,Long,Object[#918]},{})\r\n        full_frame(@171,{Object[#320],Object[#331],Top,Long,Long},{Object[#322]})\r\n        full_frame(@178,{Object[#320],Object[#331],Integer,Long,Long,Object[#918]},{Object[#58]})\r\n    \r\n    \tat org.h2.Driver.connect(Driver.java:73)\r\n    \tat org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:278)\r\n    \tat org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:182)\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:701)\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:635)\r\n    \tat org.apache.tomcat.jdbc.pool.ConnectionPool.getConnection(ConnectionPool.java:188)\r\n    \tat org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:128)\r\n    \tat org.wso2.carbon.user.core.claim.dao.ClaimDAO.getDialectCount(ClaimDAO.java:158)\r\n    \tat org.wso2.carbon.user.core.common.DefaultRealm.populateProfileAndClaimMaps(DefaultRealm.java:429)\r\n    \tat org.wso2.carbon.user.core.common.DefaultRealm.init(DefaultRealm.java:105)\r\n    \tat org.wso2.carbon.user.core.common.DefaultRealmService.initializeRealm(DefaultRealmService.java:262)\r\n    \tat org.user.core.common.DefaultRealmService.&lt;init&gt;(DefaultRealmService.java:99)\r\n    \tat org.user.core.common.DefaultRealmService.&lt;init&gt;(DefaultRealmService.java:112)\r\n    \tat org.user.core.internal.Activator.startDeploy(Activator.java:68)\r\n    \tat org.user.core.internal.BundleCheckActivator.start(BundleCheckActivator.java:61)\r\n    \tat org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:711)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:702)\r\n    \tat org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:683)\r\n    \tat org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)\r\n    \tat org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:390)\r\n    \tat org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1176)\r\n    \tat org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:559)\r\n    \tat org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:544)\r\n    \tat org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:457)\r\n    \tat org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:243)\r\n    \tat org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:438)\r\n    \tat org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:1)\r\n    \tat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\r\n    \tat org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\r\n\r\n\r\nWhat should I do to overcome this? What am I doing wrong here?\r\n","title":"How to get arround java.lang.verrifyError","body":"<p>I am trying to generate a random number with the instrumented code. For that I have added following expression to generate a random number. But it is throwing a verify Error as given below.</p>\n\n<pre><code>method.addLocalVariable(\"instMethod_correlationId\", CtClass.longType);\nbeforeBuilder.append(\"instMethod_correlationId = Long.valueOf(String.valueOf(System.nanoTime()) + String.valueOf(Math.round(Math.random())));\");\n</code></pre>\n\n<p>I have added a long variable and assign the above generated value. But I am getting following exception during the run time. But if I run the same number generation in a normal project it doesn't throw any exceptions. </p>\n\n<pre><code>java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    org/h2/jdbc/JdbcConnection.prepareStatement(Ljava/lang/String;)Ljava/sql/PreparedStatement; @38: i2l\n  Reason:\n    Type 'java/lang/Long' (current frame, stack[0]) is not assignable to integer\n  Current Frame:\n    bci: @38\n    flags: { }\n    locals: { 'org/h2/jdbc/JdbcConnection', 'java/lang/String', top, long, long_2nd }\n    stack: { 'java/lang/Long' }\n  Bytecode:\n    0000000: b803 6c42 bb03 6e59 b703 6fb8 036c b803\n    0000010: 73b6 0376 b803 7cb8 0380 b803 73b6 0376\n    0000020: b603 81b8 0386 8537 05b8 038b b803 8e16\n    0000030: 0513 0390 b603 94bb 0396 59b7 0397 3a07\n    0000040: 1907 1303 992b b903 9d03 0057 b803 8bb8\n    0000050: 038e 1605 1303 9f19 07b6 03a2 2a06 b600\n    0000060: 113d 2ab6 002a 9900 272a 1237 061c bb00\n    0000070: 1659 b700 1712 38b6 0019 2a2b b600 1db6\n    0000080: 0019 1234 b600 19b6 0020 b600 2d2a b600\n    0000090: 2e2a 2bb7 0039 4cbb 003a 592a 2b1c 1103\n    00000a0: ebb2 0030 03b7 003b a700 0a4d 2a2c b600\n    00000b0: 28bf 3a09 bb03 9659 b703 973a 0a19 0a13\n    00000c0: 03a4 1303 a6b9 039d 0300 57b8 038b b803\n    00000d0: 8e16 05bb 036e 59b7 036f 1303 a8b6 0376\n    00000e0: b803 6c21 65b8 0373 b603 76b6 0381 190a\n    00000f0: b603 a219 09b0                         \n  Exception Handler Table:\n    bci [55, 168] =&gt; handler: 171\n  Stackmap Table:\n    full_frame(@141,{Object[#320],Object[#331],Integer,Long,Long,Object[#918]},{})\n    full_frame(@171,{Object[#320],Object[#331],Top,Long,Long},{Object[#322]})\n    full_frame(@178,{Object[#320],Object[#331],Integer,Long,Long,Object[#918]},{Object[#58]})\n\n    at org.h2.Driver.connect(Driver.java:73)\n    at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:278)\n    at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:182)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:701)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:635)\n    at org.apache.tomcat.jdbc.pool.ConnectionPool.getConnection(ConnectionPool.java:188)\n    at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:128)\n    at org.wso2.carbon.user.core.claim.dao.ClaimDAO.getDialectCount(ClaimDAO.java:158)\n    at org.wso2.carbon.user.core.common.DefaultRealm.populateProfileAndClaimMaps(DefaultRealm.java:429)\n    at org.wso2.carbon.user.core.common.DefaultRealm.init(DefaultRealm.java:105)\n    at org.wso2.carbon.user.core.common.DefaultRealmService.initializeRealm(DefaultRealmService.java:262)\n    at org.user.core.common.DefaultRealmService.&lt;init&gt;(DefaultRealmService.java:99)\n    at org.user.core.common.DefaultRealmService.&lt;init&gt;(DefaultRealmService.java:112)\n    at org.user.core.internal.Activator.startDeploy(Activator.java:68)\n    at org.user.core.internal.BundleCheckActivator.start(BundleCheckActivator.java:61)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:711)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:702)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:683)\n    at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)\n    at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:390)\n    at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1176)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:559)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:544)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:457)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:243)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:438)\n    at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\n    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\n</code></pre>\n\n<p>What should I do to overcome this? What am I doing wrong here?</p>\n"},{"tags":["java","arrays","random","numbers","operation"],"comments":[{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":2,"creation_date":1664725427,"post_id":73927121,"comment_id":130532789,"body_markdown":"Yes there is a way.  Perhaps you can provide more details in your question, even some code that is just missing the part you can&#39;t figure out.  Where are the numbers coming from?  Are they integers, floats?  Do you know how to use a random number generator?  What part are you having trouble with?","body":"Yes there is a way.  Perhaps you can provide more details in your question, even some code that is just missing the part you can&#39;t figure out.  Where are the numbers coming from?  Are they integers, floats?  Do you know how to use a random number generator?  What part are you having trouble with?"}],"answers":[{"tags":[],"owner":{"account_id":41864,"reputation":1729,"user_id":121804,"accept_rate":77,"display_name":"robob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664725431,"creation_date":1664725431,"answer_id":73927174,"question_id":73927121,"body_markdown":"I guess a code like the following could work:\r\n\r\n    // given two number a, b\r\n    \r\n    double rand = Math.random();\r\n    if (rand &gt; 0.5)\r\n       c = a*b;\r\n    else\r\n       c = a+b;\r\n    \r\n    // c is the result of the addition/multiplication\r\n\r\n","title":"Randomly choose between of +, -, or * and apply it to two numbers","body":"<p>I guess a code like the following could work:</p>\n<pre><code>// given two number a, b\n\ndouble rand = Math.random();\nif (rand &gt; 0.5)\n   c = a*b;\nelse\n   c = a+b;\n\n// c is the result of the addition/multiplication\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664725938,"creation_date":1664725493,"answer_id":73927186,"question_id":73927121,"body_markdown":"You can put all the possible operations in a `List` as `BinaryOperator`s, then choose a random index each time.\r\n\r\n```java\r\nList&lt;BinaryOperator&lt;Integer&gt;&gt; ops = List.of(Integer::sum, (a,b)-&gt;a-b, (a,b)-&gt;a*b);\r\nint a = 1, b = 2; // numbers to apply operator to\r\nint result = ops.get(ThreadLocalRandom.current().nextInt(ops.size())).apply(a, b);\r\nSystem.out.println(result);\r\n```","title":"Randomly choose between of +, -, or * and apply it to two numbers","body":"<p>You can put all the possible operations in a <code>List</code> as <code>BinaryOperator</code>s, then choose a random index each time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;BinaryOperator&lt;Integer&gt;&gt; ops = List.of(Integer::sum, (a,b)-&gt;a-b, (a,b)-&gt;a*b);\nint a = 1, b = 2; // numbers to apply operator to\nint result = ops.get(ThreadLocalRandom.current().nextInt(ops.size())).apply(a, b);\nSystem.out.println(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664726125,"creation_date":1664726125,"answer_id":73927268,"question_id":73927121,"body_markdown":"Place the operators into an array and select a random index value for that array:\r\n\r\n    String[] operators = {&quot;+&quot;, &quot;-&quot;, &quot;*&quot;, &quot;/&quot;};\r\n    int randomOperatorIndex = new java.util.Random().nextInt(operators.length);\r\n    int num1 = 24;\r\n    int num2 = 12;\r\n    double ans = 0.0d;\r\n    switch (randomOperatorIndex) {\r\n        case 0:   // + \r\n            ans = num1 + num2;\r\n            break;\r\n        case 1:   // - \r\n            ans = num1 - num2;\r\n            break;\r\n        case 2:   // * \r\n            ans = num1 * num2;\r\n            break;\r\n        case 3:   // / \r\n            ans = num1 / num2;\r\n            break;\r\n    }\r\n     \r\n    System.out.println(num1 + &quot; &quot; + operators[randomOperatorIndex] \r\n                       + &quot; &quot; + num2 + &quot; = &quot; + ans);","title":"Randomly choose between of +, -, or * and apply it to two numbers","body":"<p>Place the operators into an array and select a random index value for that array:</p>\n<pre><code>String[] operators = {&quot;+&quot;, &quot;-&quot;, &quot;*&quot;, &quot;/&quot;};\nint randomOperatorIndex = new java.util.Random().nextInt(operators.length);\nint num1 = 24;\nint num2 = 12;\ndouble ans = 0.0d;\nswitch (randomOperatorIndex) {\n    case 0:   // + \n        ans = num1 + num2;\n        break;\n    case 1:   // - \n        ans = num1 - num2;\n        break;\n    case 2:   // * \n        ans = num1 * num2;\n        break;\n    case 3:   // / \n        ans = num1 / num2;\n        break;\n}\n \nSystem.out.println(num1 + &quot; &quot; + operators[randomOperatorIndex] \n                   + &quot; &quot; + num2 + &quot; = &quot; + ans);\n</code></pre>\n"}],"owner":{"account_id":26445949,"reputation":11,"user_id":20089806,"display_name":"scholar from next door"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73927174,"answer_count":3,"score":0,"last_activity_date":1664726125,"creation_date":1664724946,"question_id":73927121,"body_markdown":"Good day\r\n\r\nI am new to java and would like to know if there is a way for me to randomly choose between multiplication and addition and apply it to two numbers.\r\n\r\nAny guidance would be appreciated.","title":"Randomly choose between of +, -, or * and apply it to two numbers","body":"<p>Good day</p>\n<p>I am new to java and would like to know if there is a way for me to randomly choose between multiplication and addition and apply it to two numbers.</p>\n<p>Any guidance would be appreciated.</p>\n"},{"tags":["java","sparse-matrix","ojalgo"],"answers":[{"tags":[],"owner":{"account_id":5578339,"reputation":1275,"user_id":4421592,"display_name":"apete"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664720142,"creation_date":1664718472,"answer_id":73926323,"question_id":73926046,"body_markdown":"You don&#39;t specify what type `mat` is?\r\n\r\nThere is a method `indexOfLargest()` defined in the `Access1D.Aggregatable` interface – implemented by a lot of different classes. But, this corresponds to `Aggregator.LARGEST` rather than `Aggregator.MAXIMUM`.\r\n\r\nSince you tagged the question with *sparse-matrix* I assume the type is `SparseStore`, and that could be problematic, using `indexOfLargest()`, as I believe its implementation of that method does not exploit sparsity. (It&#39;s just some inherited default method that would perform terribly on a sparse matrix.)\r\n\r\nYou can, quite efficiently, iterate over all nonzero elements in a `SparseStore`:\r\n\r\n        for (ElementView2D&lt;N, ?&gt; nz : mat.nonzeros()) {\r\n            nz.row();\r\n            nz.column();\r\n            nz.index();\r\n            nz.doubleValue();\r\n        }\r\n","title":"How to find the index of maximum element in ojalgo?","body":"<p>You don't specify what type <code>mat</code> is?</p>\n<p>There is a method <code>indexOfLargest()</code> defined in the <code>Access1D.Aggregatable</code> interface – implemented by a lot of different classes. But, this corresponds to <code>Aggregator.LARGEST</code> rather than <code>Aggregator.MAXIMUM</code>.</p>\n<p>Since you tagged the question with <em>sparse-matrix</em> I assume the type is <code>SparseStore</code>, and that could be problematic, using <code>indexOfLargest()</code>, as I believe its implementation of that method does not exploit sparsity. (It's just some inherited default method that would perform terribly on a sparse matrix.)</p>\n<p>You can, quite efficiently, iterate over all nonzero elements in a <code>SparseStore</code>:</p>\n<pre><code>    for (ElementView2D&lt;N, ?&gt; nz : mat.nonzeros()) {\n        nz.row();\n        nz.column();\n        nz.index();\n        nz.doubleValue();\n    }\n</code></pre>\n"}],"owner":{"account_id":1604214,"reputation":4524,"user_id":1484621,"accept_rate":70,"display_name":"Yu Jiaao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73926323,"answer_count":1,"score":1,"last_activity_date":1664725790,"creation_date":1664715943,"question_id":73926046,"body_markdown":"How to find the index of maximum element in ojalgo?\r\n\r\nTo find maximum I can use `double res = mat.aggregateAll(Aggregator.MAXIMUM);`, but how to find the maximum&#39;s indices?\r\n\r\nPS: the mat is type of `SparseStore&lt;Double&gt;`","title":"How to find the index of maximum element in ojalgo?","body":"<p>How to find the index of maximum element in ojalgo?</p>\n<p>To find maximum I can use <code>double res = mat.aggregateAll(Aggregator.MAXIMUM);</code>, but how to find the maximum's indices?</p>\n<p>PS: the mat is type of <code>SparseStore&lt;Double&gt;</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1664725101,"post_id":73927084,"comment_id":130532699,"body_markdown":"Your teacher should be scolded for encouraging string concatenation in a loop.  Use StringBuilder.  They probably just didn&#39;t want to introduce the StringBuilder class this early - but they better follow up with &quot;by the way, never do this&quot;.","body":"Your teacher should be scolded for encouraging string concatenation in a loop.  Use StringBuilder.  They probably just didn&#39;t want to introduce the StringBuilder class this early - but they better follow up with &quot;by the way, never do this&quot;."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664726289,"post_id":73927084,"comment_id":130533013,"body_markdown":"@swpalmer   I already deleted my comment to avoid falling into a silly internet debate.","body":"@swpalmer   I already deleted my comment to avoid falling into a silly internet debate."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664726305,"post_id":73927084,"comment_id":130533015,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664724888,"creation_date":1664724888,"answer_id":73927115,"question_id":73927084,"body_markdown":"You can just compare with `&#39;A&#39;` and `&#39;Z&#39;` (since the uppercase letters are consecutive in ASCII).\r\n\r\n```java\r\nchar c1 = s.charAt(i);\r\nif (c1 &gt;= &#39;A&#39; &amp;&amp; c1 &lt;= &#39;Z&#39;) output += c1;\r\n```\r\n\r\n[`Character.isUpperCase`](https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isUpperCase-char-) is more general and works for Unicode, not just ASCII.\r\n\r\n```java\r\nif (Character.isUpperCase(c1)) output += c1;\r\n```","title":"Assistance on highschool AP-Computer science hw","body":"<p>You can just compare with <code>'A'</code> and <code>'Z'</code> (since the uppercase letters are consecutive in ASCII).</p>\n<pre class=\"lang-java prettyprint-override\"><code>char c1 = s.charAt(i);\nif (c1 &gt;= 'A' &amp;&amp; c1 &lt;= 'Z') output += c1;\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isUpperCase-char-\" rel=\"nofollow noreferrer\"><code>Character.isUpperCase</code></a> is more general and works for Unicode, not just ASCII.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (Character.isUpperCase(c1)) output += c1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5298708,"reputation":55,"user_id":4229099,"display_name":"Marius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664725417,"creation_date":1664725417,"answer_id":73927170,"question_id":73927084,"body_markdown":"You can convert your string to a char array and check if the array`s element at position i is uppercase with method isUpperCase of class Character.\r\n```\r\npublic class homework5{\r\n    public homework5(){\r\n    }\r\n    public String getUpper(String s){\r\n        String output = &quot;&quot;;\r\n        for(int i = 0; i &lt; s.length(); i++){\r\n            //i is the index of the string\r\n            if (Character.isUpperCase(s.toCharArray()[i])) {\r\n                output += output + s.toCharArray()[i];\r\n             }\r\n            \r\n         }\r\n        return output;\r\n     }\r\n    public static void main(String args[]){\r\n        homework5 obj1 = new homework5();\r\n            //method call\r\n        System.out.println(obj1.getUpper(&quot;Hello&quot;));\r\n    }\r\n}\r\n```","title":"Assistance on highschool AP-Computer science hw","body":"<p>You can convert your string to a char array and check if the array`s element at position i is uppercase with method isUpperCase of class Character.</p>\n<pre><code>public class homework5{\n    public homework5(){\n    }\n    public String getUpper(String s){\n        String output = &quot;&quot;;\n        for(int i = 0; i &lt; s.length(); i++){\n            //i is the index of the string\n            if (Character.isUpperCase(s.toCharArray()[i])) {\n                output += output + s.toCharArray()[i];\n             }\n            \n         }\n        return output;\n     }\n    public static void main(String args[]){\n        homework5 obj1 = new homework5();\n            //method call\n        System.out.println(obj1.getUpper(&quot;Hello&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26507972,"reputation":53,"user_id":20143802,"display_name":"Stablinz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1664726219,"accepted_answer_id":73927115,"answer_count":2,"score":-1,"last_activity_date":1664725417,"creation_date":1664724673,"question_id":73927084,"body_markdown":"I have a homework assignment in where my teacher has left us the following instructions:\r\n**Create a new method with String input and String return. \r\nCheck the string to see if there are any uppercase letter, put together all uppercase together and return this string:\r\nYour method header and for-loop provided:\r\nNo power tools, use ASCII table\r\nYour sample output should be as followed:\r\ngetUpper(“Hello, World”) returns “HW”\r\ngetUpper(“no way”) returns “”**\r\n\r\nThis is the initial code provided:\r\n\r\n    public String getUpper(String s) {\r\n        String output = &quot;&quot;;\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            //i is the index of the string\r\n            //Your work here\r\n        }\r\n\r\n        return output;\r\n    }\r\n\r\nI have managed to create a solution, however this solution is one that is hardcoded as seen below: \r\n\r\n    public class homework5 {\r\n        public homework5() {\r\n        }\r\n        public String getUpper(String s) {\r\n            String output = &quot;&quot;;\r\n            for (int i = 0; i &lt; s.length(); i++) {\r\n                //i is the index of the string\r\n                char c1 = s.charAt(i);\r\n                int a1 = (int)c1;        \r\n                if (a1 &lt; 97) {\r\n                    output += c1; // This segment of code works, but is hardcoded. Find a generalized value for it.\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n\r\n        public static void main(String args[]) {\r\n            homework5 obj1 = new homework5();\r\n                //method call\r\n            System.out.println(obj1.getUpper(&quot;Hello&quot;));\r\n        }\r\n    }\r\n\r\nHow would I go about this problem to find a general way to find a character, checks its ascii value, and see if it is uppercase, and then print it out?","title":"Assistance on highschool AP-Computer science hw","body":"<p>I have a homework assignment in where my teacher has left us the following instructions:\n<strong>Create a new method with String input and String return.\nCheck the string to see if there are any uppercase letter, put together all uppercase together and return this string:\nYour method header and for-loop provided:\nNo power tools, use ASCII table\nYour sample output should be as followed:\ngetUpper(“Hello, World”) returns “HW”\ngetUpper(“no way”) returns “”</strong></p>\n<p>This is the initial code provided:</p>\n<pre><code>public String getUpper(String s) {\n    String output = &quot;&quot;;\n    for (int i = 0; i &lt; s.length(); i++) {\n        //i is the index of the string\n        //Your work here\n    }\n\n    return output;\n}\n</code></pre>\n<p>I have managed to create a solution, however this solution is one that is hardcoded as seen below:</p>\n<pre><code>public class homework5 {\n    public homework5() {\n    }\n    public String getUpper(String s) {\n        String output = &quot;&quot;;\n        for (int i = 0; i &lt; s.length(); i++) {\n            //i is the index of the string\n            char c1 = s.charAt(i);\n            int a1 = (int)c1;        \n            if (a1 &lt; 97) {\n                output += c1; // This segment of code works, but is hardcoded. Find a generalized value for it.\n            }\n        }\n        return output;\n    }\n\n    public static void main(String args[]) {\n        homework5 obj1 = new homework5();\n            //method call\n        System.out.println(obj1.getUpper(&quot;Hello&quot;));\n    }\n}\n</code></pre>\n<p>How would I go about this problem to find a general way to find a character, checks its ascii value, and see if it is uppercase, and then print it out?</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":4753576,"reputation":622,"user_id":3842946,"display_name":"name not found"},"score":0,"creation_date":1575712239,"post_id":59224667,"comment_id":104663951,"body_markdown":"Do you mean you enter all 10 integers first and then press Enter? Or do you enter the first number, press Enter, second Number, press Enter, and so on?","body":"Do you mean you enter all 10 integers first and then press Enter? Or do you enter the first number, press Enter, second Number, press Enter, and so on?"},{"owner":{"account_id":17256584,"reputation":115,"user_id":12495530,"display_name":"Jannemannen"},"score":0,"creation_date":1575712351,"post_id":59224667,"comment_id":104663970,"body_markdown":"10 in a row. Edited my post for better clarification.","body":"10 in a row. Edited my post for better clarification."}],"answers":[{"tags":[],"owner":{"account_id":17243853,"reputation":47,"user_id":12485567,"display_name":"Tr4cEr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575712608,"creation_date":1575712608,"answer_id":59224843,"question_id":59224667,"body_markdown":"Below snippet can be used to take multiple Integer Input on same line.\r\n\r\n    Scanner sc= new Scanner(System.in);    // Declare and Initialize Scanner\r\n    while(sc.hasNext())                    // While the input has data execute\r\n        System.out.println(sc.nextInt());  // nextInt() method is used to take Integer data\r\n\r\nFor Multiple String input on same line separated by white space or a comma,\r\nwe can use the following snippet\r\n\r\n    Scanner sc = new Scanner(System.in).useDelimiter(&quot;[,\\\\s+]&quot;);","title":"How to read multiple inputs on same line in Java?","body":"<p>Below snippet can be used to take multiple Integer Input on same line.</p>\n\n<pre><code>Scanner sc= new Scanner(System.in);    // Declare and Initialize Scanner\nwhile(sc.hasNext())                    // While the input has data execute\n    System.out.println(sc.nextInt());  // nextInt() method is used to take Integer data\n</code></pre>\n\n<p>For Multiple String input on same line separated by white space or a comma,\nwe can use the following snippet</p>\n\n<pre><code>Scanner sc = new Scanner(System.in).useDelimiter(\"[,\\\\s+]\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664724794,"creation_date":1575716136,"answer_id":59225242,"question_id":59224667,"body_markdown":"Start with assigning the first scanned integer to `largest` and `secondLargest` variables and then process the remaining nine integers in a loop as follows:\r\n\r\n    num = sc.nextInt();\r\n    if (num &gt; largest) {\r\n        secondLargest = largest;\r\n        largest = num;\r\n    }\r\n\r\n**Demo**:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class SecondLargest {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.print(&quot;Enter 10 integers separated by single spaces: &quot;);\r\n    \r\n            // Scan the first integer and assign it to largest and secondLargest\r\n            int num = sc.nextInt();\r\n            int largest = num;\r\n            int secondLargest = largest;\r\n    \r\n            // Input 9 more integers\r\n            for (int i = 1; i &lt; 10; i++) {\r\n                num = sc.nextInt();\r\n                if (num &gt; largest) {\r\n                    secondLargest = largest;\r\n                    largest = num;\r\n                }\r\n            }\r\n    \r\n            System.out.println(&quot;The second largest number is: &quot; + secondLargest);\r\n        }\r\n    }\r\n\r\n**A sample run:**\r\n\r\n    Enter 10 integers separated by single spaces: 10 23 4 12 80 45 78 90 105 7\r\n    The second largest number is: 90\r\n\r\n**Note:** This is just a sample program assuming that the input is in the correct format. I leave it to you to work on how to deal with the wrong input. It will be a good exercise for you.\r\n","title":"How to read multiple inputs on same line in Java?","body":"<p>Start with assigning the first scanned integer to <code>largest</code> and <code>secondLargest</code> variables and then process the remaining nine integers in a loop as follows:</p>\n<pre><code>num = sc.nextInt();\nif (num &gt; largest) {\n    secondLargest = largest;\n    largest = num;\n}\n</code></pre>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.util.Scanner;\n\npublic class SecondLargest {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Enter 10 integers separated by single spaces: &quot;);\n\n        // Scan the first integer and assign it to largest and secondLargest\n        int num = sc.nextInt();\n        int largest = num;\n        int secondLargest = largest;\n\n        // Input 9 more integers\n        for (int i = 1; i &lt; 10; i++) {\n            num = sc.nextInt();\n            if (num &gt; largest) {\n                secondLargest = largest;\n                largest = num;\n            }\n        }\n\n        System.out.println(&quot;The second largest number is: &quot; + secondLargest);\n    }\n}\n</code></pre>\n<p><strong>A sample run:</strong></p>\n<pre><code>Enter 10 integers separated by single spaces: 10 23 4 12 80 45 78 90 105 7\nThe second largest number is: 90\n</code></pre>\n<p><strong>Note:</strong> This is just a sample program assuming that the input is in the correct format. I leave it to you to work on how to deal with the wrong input. It will be a good exercise for you.</p>\n"},{"tags":[],"owner":{"account_id":11056025,"reputation":19,"user_id":8118835,"display_name":"Mohanish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592534974,"creation_date":1592534581,"answer_id":62462449,"question_id":59224667,"body_markdown":"    /*\r\n    **In this code I&#39;ve used BufferedReader class which is faster than Scanner \r\n    Class as well as have large buffer of 8KB while Scanner has only 1KB.**\r\n    */\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    public class Second_Highest {\r\n     public static void main(String[] args) throws IOException\r\n     {\r\n        BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\r\n        String[] s=br.readLine().split(&quot; &quot;);\r\n        int a[]=new int[10];\r\n        int max=Integer.parseInt(s[0]);\r\n        for(int i=0;i&lt;10;i++)\r\n        {\r\n            a[i]=Integer.parseInt(s[i]);\r\n            if(a[i]&gt;max)\r\n            {\r\n                max=a[i];\r\n            }\r\n        }\r\n        int secondmax=Integer.parseInt(s[0]);\r\n        for(int i=0;i&lt;10;i++)\r\n        {\r\n            if(a[i]&gt;secondmax &amp;&amp; a[i]&lt;max)\r\n            {\r\n                secondmax=a[i];\r\n            }\r\n        }\r\n        System.out.print(secondmax);\r\n     }   \r\n    }","title":"How to read multiple inputs on same line in Java?","body":"<pre><code>/*\n**In this code I've used BufferedReader class which is faster than Scanner \nClass as well as have large buffer of 8KB while Scanner has only 1KB.**\n*/\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\npublic class Second_Highest {\n public static void main(String[] args) throws IOException\n {\n    BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n    String[] s=br.readLine().split(\" \");\n    int a[]=new int[10];\n    int max=Integer.parseInt(s[0]);\n    for(int i=0;i&lt;10;i++)\n    {\n        a[i]=Integer.parseInt(s[i]);\n        if(a[i]&gt;max)\n        {\n            max=a[i];\n        }\n    }\n    int secondmax=Integer.parseInt(s[0]);\n    for(int i=0;i&lt;10;i++)\n    {\n        if(a[i]&gt;secondmax &amp;&amp; a[i]&lt;max)\n        {\n            secondmax=a[i];\n        }\n    }\n    System.out.print(secondmax);\n }   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21539336,"reputation":1,"user_id":15877339,"display_name":"Mithlesh Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620553460,"creation_date":1620553460,"answer_id":67456299,"question_id":59224667,"body_markdown":"    import java.util.*;\r\n    public class m1{\r\n    public static void main(String args[]){\r\n    Scannerscan = new Scanner(System.in);\r\n    Stringnum = scan.nextLine();\r\n    String[] strs = num.split(&quot;\\\\s+&quot;);\r\n    int[] arrs = new int[strs.length];\r\n    for(inti=0;i&lt;strs.length;i++)\r\n    {\r\n    String stringnum = strs[i];\r\n    arrs[i] = Integer.parseInt(stringnum);\r\n    if(arrs[i]%2==0){\r\n    System.out.print(&quot; &quot;);\r\n    }\r\n    else{\r\n    System.out.print(arrs[i]);\r\n    }\r\n    }\r\n    scan.close();\r\n    }\r\n    }\r\n","title":"How to read multiple inputs on same line in Java?","body":"<pre><code>import java.util.*;\npublic class m1{\npublic static void main(String args[]){\nScannerscan = new Scanner(System.in);\nStringnum = scan.nextLine();\nString[] strs = num.split(&quot;\\\\s+&quot;);\nint[] arrs = new int[strs.length];\nfor(inti=0;i&lt;strs.length;i++)\n{\nString stringnum = strs[i];\narrs[i] = Integer.parseInt(stringnum);\nif(arrs[i]%2==0){\nSystem.out.print(&quot; &quot;);\n}\nelse{\nSystem.out.print(arrs[i]);\n}\n}\nscan.close();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16138998,"reputation":11,"user_id":11650689,"display_name":"Suraj Van Verma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622644466,"creation_date":1622644466,"answer_id":67807212,"question_id":59224667,"body_markdown":"To read single line input, You can do this simply by eating the (\\n) which is new line in Java. \r\n\r\nInput : 1 2 3  \r\n\r\n```\r\n\\\\Create the object of Scanner Class\r\nScanner sc = new Scanner(System.in);\r\n\r\nint a = sc.nextInt();\r\nint b = sc.nextInt();\r\nint c = sc.nextInt();\r\n\r\n// this will eat the new line and move forward for other inputs.\r\nsc.nextLine()\r\n\r\n\r\n```\r\n\r\nTo read in a loop or to store at 2D array.\r\n\r\nInput : \r\n1 2 3\r\n3 4 5\r\n6 7 8\r\n\r\n```\r\n//... do the above declaration of array\r\n\r\nfor ( int i = 0; i &lt; n; i++){\r\n   for( int j = 0; j &lt; m; j++){\r\n      arr[i][j] = sc.nextInt()\r\n    } \r\n   sc.nextLine(); // you need to eat the \\n here. \r\n}\r\n```\r\n\r\nThis will work perfectly.\r\n\r\nNow you should be able to get the input easily in a single line.\r\n","title":"How to read multiple inputs on same line in Java?","body":"<p>To read single line input, You can do this simply by eating the (\\n) which is new line in Java.</p>\n<p>Input : 1 2 3</p>\n<pre><code>\\\\Create the object of Scanner Class\nScanner sc = new Scanner(System.in);\n\nint a = sc.nextInt();\nint b = sc.nextInt();\nint c = sc.nextInt();\n\n// this will eat the new line and move forward for other inputs.\nsc.nextLine()\n\n\n</code></pre>\n<p>To read in a loop or to store at 2D array.</p>\n<p>Input :\n1 2 3\n3 4 5\n6 7 8</p>\n<pre><code>//... do the above declaration of array\n\nfor ( int i = 0; i &lt; n; i++){\n   for( int j = 0; j &lt; m; j++){\n      arr[i][j] = sc.nextInt()\n    } \n   sc.nextLine(); // you need to eat the \\n here. \n}\n</code></pre>\n<p>This will work perfectly.</p>\n<p>Now you should be able to get the input easily in a single line.</p>\n"}],"owner":{"account_id":17256584,"reputation":115,"user_id":12495530,"display_name":"Jannemannen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36389,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59225242,"answer_count":5,"score":2,"last_activity_date":1664724794,"creation_date":1575711311,"question_id":59224667,"body_markdown":"So I&#39;m trying to read all the input from one line, using scanner, then take the values and find the second largest. I would use an array **BUT** I am not allowed. You are supposed to enter 10 integers, hit enter and evaluate them.\r\n\r\nSomething like this:\r\n\r\n    10 20 30 40 50 60 70 80 90 100 ENTER\r\n\r\n    Second highest number is: 90\r\n\r\nI can&#39;t manage to solve it at all. It should be easy but I have no idea.\r\n\r\n    public class SecondLargest {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t{\r\n\t\t\tint largest = 0;\r\n\t\t\tint secondLargest = 0;\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\tSystem.out.print(&quot;Enter integers: &quot;);\r\n\t\t\tint numbers = sc.nextInt();\r\n\t\t\tlargest = numbers;\r\n\t\t\t\r\n\t\t\twhile (sc.hasNextInt()) {\r\n\t\t\t\tif (numbers &gt; largest) {\r\n\t\t\t\t\tsecondLargest = largest;\r\n\t\t\t\t\tlargest = numbers;\r\n\t\t\t\t} else if (numbers &gt; secondLargest) {\r\n\t\t\t\t\tsecondLargest = numbers;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Second largest number is: &quot; + secondLargest);\r\n\t\t\tsc.close();\r\n\r\n\t\t}\r\n\t}\r\n\r\n\r\n","title":"How to read multiple inputs on same line in Java?","body":"<p>So I'm trying to read all the input from one line, using scanner, then take the values and find the second largest. I would use an array <strong>BUT</strong> I am not allowed. You are supposed to enter 10 integers, hit enter and evaluate them.</p>\n\n<p>Something like this:</p>\n\n<pre><code>10 20 30 40 50 60 70 80 90 100 ENTER\n\nSecond highest number is: 90\n</code></pre>\n\n<p>I can't manage to solve it at all. It should be easy but I have no idea.</p>\n\n<pre><code>public class SecondLargest {\n\npublic static void main(String[] args) {\n    {\n        int largest = 0;\n        int secondLargest = 0;\n        Scanner sc = new Scanner(System.in);\n        System.out.print(\"Enter integers: \");\n        int numbers = sc.nextInt();\n        largest = numbers;\n\n        while (sc.hasNextInt()) {\n            if (numbers &gt; largest) {\n                secondLargest = largest;\n                largest = numbers;\n            } else if (numbers &gt; secondLargest) {\n                secondLargest = numbers;\n            }\n        }\n        System.out.println(\"Second largest number is: \" + secondLargest);\n        sc.close();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","testing","junit","filewriter","file-writing"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664723642,"post_id":73926927,"comment_id":130532359,"body_markdown":"Are you sure parent folder for that file exists?","body":"Are you sure parent folder for that file exists?"},{"owner":{"account_id":7730911,"reputation":13,"user_id":5854092,"display_name":"Hamster339"},"score":0,"creation_date":1664724635,"post_id":73926927,"comment_id":130532570,"body_markdown":"@talex Oh right yeah that seems to have worked. thank you! I thought that it created the directory too if it doesn&#39;t exist, don&#39;t know where I got that from","body":"@talex Oh right yeah that seems to have worked. thank you! I thought that it created the directory too if it doesn&#39;t exist, don&#39;t know where I got that from"}],"answers":[{"tags":[],"owner":{"account_id":7730911,"reputation":13,"user_id":5854092,"display_name":"Hamster339"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664724712,"creation_date":1664724712,"answer_id":73927091,"question_id":73926927,"body_markdown":"It appears I just needed to create the new directories before I tried to write files in them. Silly mistake.","title":"Why cant i write to a file in A junit test?","body":"<p>It appears I just needed to create the new directories before I tried to write files in them. Silly mistake.</p>\n"}],"owner":{"account_id":7730911,"reputation":13,"user_id":5854092,"display_name":"Hamster339"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73927091,"answer_count":1,"score":0,"last_activity_date":1664724712,"creation_date":1664723319,"question_id":73926927,"body_markdown":"I have a directory with some files in it.\r\n\r\nI have a junit test suite that tests some operations that write, edit and delete these files\r\n\r\nI want to save the contents of the files before I run the tests and restore them after.\r\n\r\nI am trying to do this by copying the files to another directory before the tests run and copying them back after.\r\n\r\nso I have the following code in an @beforeClass test method:\r\n\r\n    File repDir = new File(&quot;/home/hamster339/Documents/Projects/Piping_Tune_List/Repertoire&quot;);\r\n        if (repDir.exists()){\r\n            for (File f: Objects.requireNonNull(repDir.listFiles())) {\r\n                Scanner r = new Scanner(f);\r\n                FileWriter w = new FileWriter(String.format(&quot;/home/hamster339/Documents/Projects/Piping_Tune_List/temp/%s&quot;,f.getName()));\r\n                while (r.hasNextLine()){\r\n                    w.write(r.nextLine());\r\n                }\r\n                w.close();\r\n                r.close();\r\n            }\r\n        }\r\n\r\nHowever, this gives me the following error:\r\n\r\n    java.io.FileNotFoundException: /home/hamster339/Documents/Projects/Piping_Tune_List/temp/Learnt.prl (No such file or directory)\r\n\r\nThis error indicated, from my understanding, that I do not have write permission. .write() should create a new file if one does not exist already.\r\n\r\nusing File.canwrite() confirms this by returning false.\r\n\r\nWriting works perfectly fine in the main program, and I also am able to make new directories, just not write to or create files.\r\n\r\nso my question is, why can&#39;t I write to files in the tests, when it works fine in the main code?","title":"Why cant i write to a file in A junit test?","body":"<p>I have a directory with some files in it.</p>\n<p>I have a junit test suite that tests some operations that write, edit and delete these files</p>\n<p>I want to save the contents of the files before I run the tests and restore them after.</p>\n<p>I am trying to do this by copying the files to another directory before the tests run and copying them back after.</p>\n<p>so I have the following code in an @beforeClass test method:</p>\n<pre><code>File repDir = new File(&quot;/home/hamster339/Documents/Projects/Piping_Tune_List/Repertoire&quot;);\n    if (repDir.exists()){\n        for (File f: Objects.requireNonNull(repDir.listFiles())) {\n            Scanner r = new Scanner(f);\n            FileWriter w = new FileWriter(String.format(&quot;/home/hamster339/Documents/Projects/Piping_Tune_List/temp/%s&quot;,f.getName()));\n            while (r.hasNextLine()){\n                w.write(r.nextLine());\n            }\n            w.close();\n            r.close();\n        }\n    }\n</code></pre>\n<p>However, this gives me the following error:</p>\n<pre><code>java.io.FileNotFoundException: /home/hamster339/Documents/Projects/Piping_Tune_List/temp/Learnt.prl (No such file or directory)\n</code></pre>\n<p>This error indicated, from my understanding, that I do not have write permission. .write() should create a new file if one does not exist already.</p>\n<p>using File.canwrite() confirms this by returning false.</p>\n<p>Writing works perfectly fine in the main program, and I also am able to make new directories, just not write to or create files.</p>\n<p>so my question is, why can't I write to files in the tests, when it works fine in the main code?</p>\n"},{"tags":["java","multithreading","animation","random","dice"],"comments":[{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1664725990,"post_id":73927035,"comment_id":130532943,"body_markdown":"You are blocking the Swing thread from doing anything until your method returns.  It has no opportunity to paint the label at the intermediate stages.  Do this in another thread or use a timer or something.  Use SwingUtilities.invokeLater to update the label.","body":"You are blocking the Swing thread from doing anything until your method returns.  It has no opportunity to paint the label at the intermediate stages.  Do this in another thread or use a timer or something.  Use SwingUtilities.invokeLater to update the label."},{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1664726048,"post_id":73927035,"comment_id":130532960,"body_markdown":"Your sleep is also very short if you expect users to see that is happening.","body":"Your sleep is also very short if you expect users to see that is happening."},{"owner":{"account_id":26262380,"reputation":1,"user_id":19933476,"display_name":"seve"},"score":0,"creation_date":1664820332,"post_id":73927035,"comment_id":130553950,"body_markdown":"I&#39;m not sure how to do it. The function is called with a button press. Where should I create a second thread? And what should I put in it?","body":"I&#39;m not sure how to do it. The function is called with a button press. Where should I create a second thread? And what should I put in it?"},{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1664845617,"post_id":73927035,"comment_id":130559195,"body_markdown":"The simplest thing to do would be to use a SwingTimer to update the label.  Saves you needing to manage threads on your own and synchronize with the GUI thread.  See https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html","body":"The simplest thing to do would be to use a SwingTimer to update the label.  Saves you needing to manage threads on your own and synchronize with the GUI thread.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/misc/timer.html</a>"}],"owner":{"account_id":26262380,"reputation":1,"user_id":19933476,"display_name":"seve"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664724251,"creation_date":1664724251,"question_id":73927035,"body_markdown":"I have a simple dice roller that displays the result in a JLabel. I&#39;d like an animation of random numbers showing and slowing down until one is picked.\r\nNo matter what I try, I cannot get the JLabel to display the numbers, it will only display the final one.\r\nAlso, when you roll the same number as the one before, there&#39;s no way of telling because nothing changes in the Jaleb\r\n\r\nOne of my attempts:\r\n\r\n\tprivate void rollDice(int lower, int upper) {\r\n\r\n\t\ttry {\r\n\t\t\tRandom rand = new Random();\r\n\t\t    for (int i = 0; i &lt; 10; i++) {\r\n\t\t    \tint int_random = rand.nextInt(lower,upper);\r\n\t\t    \tThread.sleep(i*20);\r\n\t\t    \tlblDice.setText(Integer.toString(int_random));\r\n\t\t    \tcontentPane.paintComponents(lblDice.getGraphics());\r\n\t\t    }\r\n\t\t} catch (InterruptedException e) {e.printStackTrace();}\r\n\t\r\n\t}","title":"dice animation - showing numbers like on a countdown","body":"<p>I have a simple dice roller that displays the result in a JLabel. I'd like an animation of random numbers showing and slowing down until one is picked.\nNo matter what I try, I cannot get the JLabel to display the numbers, it will only display the final one.\nAlso, when you roll the same number as the one before, there's no way of telling because nothing changes in the Jaleb</p>\n<p>One of my attempts:</p>\n<pre><code>private void rollDice(int lower, int upper) {\n\n    try {\n        Random rand = new Random();\n        for (int i = 0; i &lt; 10; i++) {\n            int int_random = rand.nextInt(lower,upper);\n            Thread.sleep(i*20);\n            lblDice.setText(Integer.toString(int_random));\n            contentPane.paintComponents(lblDice.getGraphics());\n        }\n    } catch (InterruptedException e) {e.printStackTrace();}\n\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1508332420,"post_id":46810929,"comment_id":80569159,"body_markdown":"I am not convinced that the problem is in the declarations you have presented.  Please present a [mcve] with which one or both of the exceptions you report can be reproduced.","body":"I am not convinced that the problem is in the declarations you have presented.  Please present a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with which one or both of the exceptions you report can be reproduced."}],"answers":[{"tags":[],"owner":{"account_id":3580881,"reputation":5050,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508339098,"creation_date":1508333774,"answer_id":46811528,"question_id":46810929,"body_markdown":"Hibernate already tells you why:\r\n\r\n&gt; org.hibernate.LazyInitializationException: failed to lazily initialize\r\n&gt; a collection of role: User.roles, could not initialize proxy - no\r\n&gt; Session\r\n\r\n    public List&lt;Role&gt; getRolesForUserId(int id){\r\n    \tUserEntity user = userRepository.findUserById(1)\r\n    \tuser.getRoles()\r\n    }\r\n\r\nThis will cause an exception, because you trying to get the lazy fetched user roles without an active hibernate session.\r\n\r\n`@Transactional ` is your friend. The `@Transactional ` annotation will create a hibernate session with a certain scope (e.g. Method)\r\n\r\n    @Transactional \r\n    public List&lt;Role&gt; getRolesForUserId(int id){\r\n    \tUserEntity user = userRepository.findUserById(1)\r\n    \tuser.getRoles()\r\n    }\r\n\r\nThis will work, because hibernate keeps the same session open for the scope of this method.\r\n\r\n","title":"How to use FetchType.LAZY with ManyToMany?","body":"<p>Hibernate already tells you why:</p>\n\n<blockquote>\n  <p>org.hibernate.LazyInitializationException: failed to lazily initialize\n  a collection of role: User.roles, could not initialize proxy - no\n  Session</p>\n</blockquote>\n\n<pre><code>public List&lt;Role&gt; getRolesForUserId(int id){\n    UserEntity user = userRepository.findUserById(1)\n    user.getRoles()\n}\n</code></pre>\n\n<p>This will cause an exception, because you trying to get the lazy fetched user roles without an active hibernate session.</p>\n\n<p><code>@Transactional</code> is your friend. The <code>@Transactional</code> annotation will create a hibernate session with a certain scope (e.g. Method)</p>\n\n<pre><code>@Transactional \npublic List&lt;Role&gt; getRolesForUserId(int id){\n    UserEntity user = userRepository.findUserById(1)\n    user.getRoles()\n}\n</code></pre>\n\n<p>This will work, because hibernate keeps the same session open for the scope of this method.</p>\n"},{"tags":[],"owner":{"account_id":9837319,"reputation":103,"user_id":7287305,"display_name":"joel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508339635,"creation_date":1508339635,"answer_id":46813581,"question_id":46810929,"body_markdown":"Using Spring JPA try the keyword &quot;JOIN FETCH&quot; on your JPQL you can handle lazy initialization exception.\r\nExample \r\n\r\n    @Query(&quot;SELECT u FROM User u JOIN FETCH u.roles r WHERE r.roleId = :roleId AND u.userId=:userId&quot;)\r\n    User findUserById(@Param(&quot;roleId&quot;) String roleId, @Param(&quot;userId&quot;) String userId);\r\n\r\n","title":"How to use FetchType.LAZY with ManyToMany?","body":"<p>Using Spring JPA try the keyword \"JOIN FETCH\" on your JPQL you can handle lazy initialization exception.\nExample </p>\n\n<pre><code>@Query(\"SELECT u FROM User u JOIN FETCH u.roles r WHERE r.roleId = :roleId AND u.userId=:userId\")\nUser findUserById(@Param(\"roleId\") String roleId, @Param(\"userId\") String userId);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11253283,"reputation":1764,"user_id":8253837,"display_name":"Daria Pydorenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664723763,"creation_date":1664723763,"answer_id":73926980,"question_id":46810929,"body_markdown":"It looks like `@Transactional` doesn&#39;t work for an overridden method of `AuthenticationProvider`. I should have created a separate service to handle this issue. \r\n\r\nA similar answer here: https://stackoverflow.com/a/23652569/8253837 ","title":"How to use FetchType.LAZY with ManyToMany?","body":"<p>It looks like <code>@Transactional</code> doesn't work for an overridden method of <code>AuthenticationProvider</code>. I should have created a separate service to handle this issue.</p>\n<p>A similar answer here: <a href=\"https://stackoverflow.com/a/23652569/8253837\">https://stackoverflow.com/a/23652569/8253837</a></p>\n"}],"owner":{"account_id":11253283,"reputation":1764,"user_id":8253837,"display_name":"Daria Pydorenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6299,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73926980,"answer_count":3,"score":4,"last_activity_date":1664723763,"creation_date":1508332015,"question_id":46810929,"body_markdown":"I have two entities with many-to-many relationship.\r\n\r\nin class Role:\r\n\r\n    @ManyToMany(mappedBy = &quot;roles&quot;)\r\n    private Set&lt;User&gt; users = new HashSet&lt;&gt;();\r\n\r\nand in class User:\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;role_user&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\nAnd I get the exception: \r\n\r\n&gt; org.hibernate.LazyInitializationException: failed to lazily initialize\r\n&gt; a collection of role: User.roles, could not initialize proxy - no Session\r\n\r\nWhen I add `fetch = FetchType.EAGER`, I get another exception:\r\n\r\n&gt; java.lang.StackOverflowError: null\r\n\r\nand cycle between Role and User.\r\n\r\nHow can I resolve this problem? I saw similar questions on Stackoverflow, but I didn&#39;t find real worked solution for me.\r\n\r\nUPD:\r\nWhere the exception gets thrown:\r\n\r\n    @Service\r\n    public class UserAuthenticationProvider implements AuthenticationProvider {\r\n        ...\r\n    \r\n        @Override\r\n        @Transactional\r\n        public Authentication authenticate(final Authentication authentication) {\r\n            final String login = authentication.getName();\r\n            final String password = authentication.getCredentials().toString();\r\n    \r\n            final User user = userRepository.findByLogin(login);\r\n            if (user != null &amp;&amp; passwordEncoder.matches(password, user.getPassword())) {\r\n                return new UsernamePasswordAuthenticationToken(login, password,\r\n                        user.getRoles()); // problem here\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        ...","title":"How to use FetchType.LAZY with ManyToMany?","body":"<p>I have two entities with many-to-many relationship.</p>\n\n<p>in class Role:</p>\n\n<pre><code>@ManyToMany(mappedBy = \"roles\")\nprivate Set&lt;User&gt; users = new HashSet&lt;&gt;();\n</code></pre>\n\n<p>and in class User:</p>\n\n<pre><code>@ManyToMany\n@JoinTable(name = \"role_user\", joinColumns = @JoinColumn(name = \"user_id\"),\n        inverseJoinColumns = @JoinColumn(name = \"role_id\"))\nprivate Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n</code></pre>\n\n<p>And I get the exception: </p>\n\n<blockquote>\n  <p>org.hibernate.LazyInitializationException: failed to lazily initialize\n  a collection of role: User.roles, could not initialize proxy - no Session</p>\n</blockquote>\n\n<p>When I add <code>fetch = FetchType.EAGER</code>, I get another exception:</p>\n\n<blockquote>\n  <p>java.lang.StackOverflowError: null</p>\n</blockquote>\n\n<p>and cycle between Role and User.</p>\n\n<p>How can I resolve this problem? I saw similar questions on Stackoverflow, but I didn't find real worked solution for me.</p>\n\n<p>UPD:\nWhere the exception gets thrown:</p>\n\n<pre><code>@Service\npublic class UserAuthenticationProvider implements AuthenticationProvider {\n    ...\n\n    @Override\n    @Transactional\n    public Authentication authenticate(final Authentication authentication) {\n        final String login = authentication.getName();\n        final String password = authentication.getCredentials().toString();\n\n        final User user = userRepository.findByLogin(login);\n        if (user != null &amp;&amp; passwordEncoder.matches(password, user.getPassword())) {\n            return new UsernamePasswordAuthenticationToken(login, password,\n                    user.getRoles()); // problem here\n        } else {\n            return null;\n        }\n    }\n\n    ...\n</code></pre>\n"},{"tags":["java","object","arraylist"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1664722223,"post_id":73926736,"comment_id":130532066,"body_markdown":"`List&lt;&gt; heroes = new ArrayList&lt;Superhero&gt;();`","body":"<code>List&lt;&gt; heroes = new ArrayList&lt;Superhero&gt;();</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664723286,"creation_date":1664723286,"answer_id":73926923,"question_id":73926736,"body_markdown":"&gt; `ArrayList&lt;Object&gt; Heroes= new ArrayList&lt;&gt;()`\r\n\r\nWe write `variablesLikeThis` and `TypesLikeThis`. So, `heroes`, not `Heroes`.\r\n\r\n`ArrayList&lt;Object&gt;` means it can contain objects. And a lot of things are &#39;objects&#39;. You would be allowed to stick an `Integer` object in there. It has no `getName()` method, thus, `heroes.get(0).getName()` won&#39;t compile. Yes, yes, you didn&#39;t put an integer in there, but the compiler doesn&#39;t know that. There is no guarantee. Java doesn&#39;t let you write code that _potentially_ makes no sense, even if _currently_ it always will. That&#39;s what compile-time type-checking means.\r\n\r\nInstead you want `List&lt;SuperHero&gt;`: That is a list where every element is some sort of superhero. Could be a WaterHero instance, or a LandHero instance, as long as it&#39;s an instance of X such that X is either `SuperHero` or some type that `extends SuperHero` (or extends something that extends SuperHero - just needs to be anywhere in the type hierarchy).\r\n\r\nNow that you&#39;ve told java that, whatever might be in the list, it&#39;s all definitely superheroes, you can call methods on anything from the list that java knows, __for sure__, it&#39;ll have. All methods that `class SuperHero` has, for example - given that you said everything in the list is at least that, all of those methods are fine.\r\n","title":"Combining array lists containing different objects in Java","body":"<blockquote>\n<p><code>ArrayList&lt;Object&gt; Heroes= new ArrayList&lt;&gt;()</code></p>\n</blockquote>\n<p>We write <code>variablesLikeThis</code> and <code>TypesLikeThis</code>. So, <code>heroes</code>, not <code>Heroes</code>.</p>\n<p><code>ArrayList&lt;Object&gt;</code> means it can contain objects. And a lot of things are 'objects'. You would be allowed to stick an <code>Integer</code> object in there. It has no <code>getName()</code> method, thus, <code>heroes.get(0).getName()</code> won't compile. Yes, yes, you didn't put an integer in there, but the compiler doesn't know that. There is no guarantee. Java doesn't let you write code that <em>potentially</em> makes no sense, even if <em>currently</em> it always will. That's what compile-time type-checking means.</p>\n<p>Instead you want <code>List&lt;SuperHero&gt;</code>: That is a list where every element is some sort of superhero. Could be a WaterHero instance, or a LandHero instance, as long as it's an instance of X such that X is either <code>SuperHero</code> or some type that <code>extends SuperHero</code> (or extends something that extends SuperHero - just needs to be anywhere in the type hierarchy).</p>\n<p>Now that you've told java that, whatever might be in the list, it's all definitely superheroes, you can call methods on anything from the list that java knows, <strong>for sure</strong>, it'll have. All methods that <code>class SuperHero</code> has, for example - given that you said everything in the list is at least that, all of those methods are fine.</p>\n"}],"owner":{"account_id":14982791,"reputation":17,"user_id":10816329,"display_name":"Ola Magnell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1664723286,"creation_date":1664721937,"question_id":73926736,"body_markdown":"im working on a small game in Java. I have an abstract class **SuperHero**, and the classes WaterHero and LandHero that extends from **Superhero**. How do I combine the two objects **allHeroes** and **allHeroes2** in an array list? I don&#39;t want to loop though multiple array list when writing methods later.\r\n```\r\nArrayList&lt;WaterHero&gt; allHeroes = new ArrayList&lt;&gt;();  \r\nArrayList&lt;LandHero&gt; allHeroes2 = new ArrayList&lt;&gt;();\r\n\r\nallHeroes.add(new WaterHero(&quot;SharkHero&quot;, 100, 27, 13));  \r\nallHeroes.add(new WaterHero(&quot;Fishy&quot;, 100, 30, 22));  \r\nallHeroes2.add(new LandHero(&quot;Iron Man&quot;, 120, 25, 16));  \r\nallHeroes2.add(new LandHero(&quot;LandBoy&quot;, 120, 25, 16));\r\n```\r\n\r\nI tried using ```ArrayList&lt;Object&gt; Heroes= new ArrayList&lt;&gt;();``` but dont really understand how this works, and how to reach methods from **SuperHero**. For example i could not reach getName() in superclass **SuperHero**\r\n","title":"Combining array lists containing different objects in Java","body":"<p>im working on a small game in Java. I have an abstract class <strong>SuperHero</strong>, and the classes WaterHero and LandHero that extends from <strong>Superhero</strong>. How do I combine the two objects <strong>allHeroes</strong> and <strong>allHeroes2</strong> in an array list? I don't want to loop though multiple array list when writing methods later.</p>\n<pre><code>ArrayList&lt;WaterHero&gt; allHeroes = new ArrayList&lt;&gt;();  \nArrayList&lt;LandHero&gt; allHeroes2 = new ArrayList&lt;&gt;();\n\nallHeroes.add(new WaterHero(&quot;SharkHero&quot;, 100, 27, 13));  \nallHeroes.add(new WaterHero(&quot;Fishy&quot;, 100, 30, 22));  \nallHeroes2.add(new LandHero(&quot;Iron Man&quot;, 120, 25, 16));  \nallHeroes2.add(new LandHero(&quot;LandBoy&quot;, 120, 25, 16));\n</code></pre>\n<p>I tried using <code>ArrayList&lt;Object&gt; Heroes= new ArrayList&lt;&gt;();</code> but dont really understand how this works, and how to reach methods from <strong>SuperHero</strong>. For example i could not reach getName() in superclass <strong>SuperHero</strong></p>\n"},{"tags":["java","arrays","intersection"],"comments":[{"owner":{"display_name":"user166390"},"score":1,"creation_date":1350404808,"post_id":12919231,"comment_id":17504429,"body_markdown":"If this isn&#39;t homework that strictly requires array ickies, see the `Set` interface - it&#39;s slightly more tricky if oder maintenance is required, but not much.","body":"If this isn&#39;t homework that strictly requires array ickies, see the <code>Set</code> interface - it&#39;s slightly more tricky if oder maintenance is required, but not much."},{"owner":{"account_id":1448843,"reputation":2790,"user_id":1366439,"accept_rate":87,"display_name":"CBredlow"},"score":0,"creation_date":1350404953,"post_id":12919231,"comment_id":17504495,"body_markdown":"you have the code right there, and an i(ndex) that starts at 0 that isn&#39;t being used.","body":"you have the code right there, and an i(ndex) that starts at 0 that isn&#39;t being used."},{"owner":{"account_id":1212717,"reputation":11317,"user_id":1180968,"accept_rate":100,"display_name":"Sajan Chandran"},"score":0,"creation_date":1350405145,"post_id":12919231,"comment_id":17504611,"body_markdown":"check this link http://commons.apache.org/collections/apidocs/org/apache/commons/collections/CollectionUtils.html","body":"check this link <a href=\"http://commons.apache.org/collections/apidocs/org/apache/commons/collections/CollectionUtils.html\" rel=\"nofollow noreferrer\">commons.apache.org/collections/apidocs/org/apache/commons/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":182648,"reputation":3820,"user_id":417516,"accept_rate":68,"display_name":"banjara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350405155,"creation_date":1350404837,"answer_id":12919253,"question_id":12919231,"body_markdown":"if permitted use ArrayList for c, its growable array\r\n\r\n\r\n    ArrayList c = new ArrayList();\r\n    .\r\n    .\r\n    .\r\n    .\r\n    .\r\n    c.add(a[f]);\r\n\r\n\r\nalso if permitted to sort arrays, i recommend you to sort smaller array and then iterate over larger array and binary search in smaller array.","title":"How do I find the intersection of two arrays in Java?","body":"<p>if permitted use ArrayList for c, its growable array</p>\n\n<pre><code>ArrayList c = new ArrayList();\n.\n.\n.\n.\n.\nc.add(a[f]);\n</code></pre>\n\n<p>also if permitted to sort arrays, i recommend you to sort smaller array and then iterate over larger array and binary search in smaller array.</p>\n"},{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350404952,"creation_date":1350404952,"answer_id":12919298,"question_id":12919231,"body_markdown":"First you need to allocate space for your array:\r\n\r\n    int[] c = new int[SOME_SIZE];\r\n\r\nThe hard part is figuring out how much `SOME_SIZE` should be. Since you are calculating an intersection, the most it can be is the size of the smallest of `a` and `b`.\r\n\r\nFinally, to assign an element in the array, you just do\r\n\r\n    c[idx] = a[f]\r\n\r\nNow you need to keep track of where `idx` goes. I suggest starting with `idx = 0` and incrementing it each time you find a new element to add to `c`.","title":"How do I find the intersection of two arrays in Java?","body":"<p>First you need to allocate space for your array:</p>\n\n<pre><code>int[] c = new int[SOME_SIZE];\n</code></pre>\n\n<p>The hard part is figuring out how much <code>SOME_SIZE</code> should be. Since you are calculating an intersection, the most it can be is the size of the smallest of <code>a</code> and <code>b</code>.</p>\n\n<p>Finally, to assign an element in the array, you just do</p>\n\n<pre><code>c[idx] = a[f]\n</code></pre>\n\n<p>Now you need to keep track of where <code>idx</code> goes. I suggest starting with <code>idx = 0</code> and incrementing it each time you find a new element to add to <code>c</code>.</p>\n"},{"tags":[],"owner":{"account_id":1344625,"reputation":3248,"user_id":1285615,"accept_rate":55,"display_name":"sakthisundar"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1398237166,"creation_date":1350405098,"answer_id":12919333,"question_id":12919231,"body_markdown":"This should be an easy way to do.     \r\n    \r\n\r\n    int a[] = {3, 10, 4, 2, 8};\r\n    int[] b = {10, 4, 12, 3, 23, 1, 8};\r\n    List&lt;Integer&gt; aList =  Arrays.asList(a);\r\n    List&lt;Integer&gt; bList =  Arrays.asList(b);\r\n    aList.retainAll(bList);\r\n    System.out.println(&quot; a intersection b &quot;+aList);\r\n    int[] c = aList.toArray(new int[0]);\r\n\r\n","title":"How do I find the intersection of two arrays in Java?","body":"<p>This should be an easy way to do.     </p>\n\n<pre><code>int a[] = {3, 10, 4, 2, 8};\nint[] b = {10, 4, 12, 3, 23, 1, 8};\nList&lt;Integer&gt; aList =  Arrays.asList(a);\nList&lt;Integer&gt; bList =  Arrays.asList(b);\naList.retainAll(bList);\nSystem.out.println(\" a intersection b \"+aList);\nint[] c = aList.toArray(new int[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1925240,"reputation":2711,"user_id":1735865,"accept_rate":50,"display_name":"taufique"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350405209,"creation_date":1350405209,"answer_id":12919356,"question_id":12919231,"body_markdown":"    public static void main(String[] args) {\r\n            int a[] = {3, 10, 4, 2, 8};\r\n            int[] b = {10, 4, 12, 3, 23, 1, 8};\r\n            int[] c = new int[(int)Math.min(a.length, b.length)];\r\n            int i=0;\r\n             for(int f=0;f&lt;a.length;f++){\r\n                  for(int k=0;k&lt;b.length;k++){\r\n                        if(a[f]==b[k]){\r\n                        c[i] = a[f];\r\n                        i++;\r\n                }\r\n              }\r\n            }\r\n            for (int x=0; x&lt;i; x++){\r\n               System.out.println(c[x]);\r\n            }\r\n           }\r\n      }\r\n\r\n\r\nHope it helps. Or if you have time complexity issue then try [Java Set][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Set.html","title":"How do I find the intersection of two arrays in Java?","body":"<pre><code>public static void main(String[] args) {\n        int a[] = {3, 10, 4, 2, 8};\n        int[] b = {10, 4, 12, 3, 23, 1, 8};\n        int[] c = new int[(int)Math.min(a.length, b.length)];\n        int i=0;\n         for(int f=0;f&lt;a.length;f++){\n              for(int k=0;k&lt;b.length;k++){\n                    if(a[f]==b[k]){\n                    c[i] = a[f];\n                    i++;\n            }\n          }\n        }\n        for (int x=0; x&lt;i; x++){\n           System.out.println(c[x]);\n        }\n       }\n  }\n</code></pre>\n\n<p>Hope it helps. Or if you have time complexity issue then try <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Set.html\" rel=\"nofollow\">Java Set</a>.</p>\n"},{"tags":[],"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350405999,"creation_date":1350405999,"answer_id":12919577,"question_id":12919231,"body_markdown":"You can take a help of temporary variable (but this is basically reinventing the wheel, if you are not required to do so) -\r\n\r\n    int[] c = new int[0];\r\n    //...\r\n    \tif(a[f] == b[k]) { \r\n    \t\tint[] temp = c;\r\n    \t\tc = new int[c.length + 1];\r\n    \t\tfor(int i=0; i&lt;temp.length; i++) {\r\n    \t\t\tc[i] = temp[i];\r\n    \t\t}\r\n    \t\tc[c.length - 1] = a[f];\r\n    \t}\r\n    //...","title":"How do I find the intersection of two arrays in Java?","body":"<p>You can take a help of temporary variable (but this is basically reinventing the wheel, if you are not required to do so) -</p>\n\n<pre><code>int[] c = new int[0];\n//...\n    if(a[f] == b[k]) { \n        int[] temp = c;\n        c = new int[c.length + 1];\n        for(int i=0; i&lt;temp.length; i++) {\n            c[i] = temp[i];\n        }\n        c[c.length - 1] = a[f];\n    }\n//...\n</code></pre>\n"}],"owner":{"account_id":1945366,"reputation":101,"user_id":1750650,"display_name":"Alexandr Melnik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17098,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":12919333,"answer_count":5,"score":9,"last_activity_date":1664722983,"creation_date":1350404747,"question_id":12919231,"body_markdown":"Trying to find the **intersection of 2 arrays** `a` and `b` and store it into a new array `c`.\r\n\r\nExpected result: array **c** with values: `3, 10, 4, 8`.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    int[] a = {3, 10, 4, 2, 8};\r\n    int[] b = {10, 4, 12, 3, 23, 1, 8};\r\n    int[] c;\r\n    int i = 0;\r\n    for (int f = 0; f &lt; a.length; f++) {\r\n        for (int k = 0; k &lt; b.length; k++) {\r\n            if (a[f] == b[k]) {\r\n                //here should be a line that stores equal values of 2 arrays(a,b) into array c\r\n            }\r\n          }\r\n        }\r\n        for (int x = 0; x &lt; c.length; x++) {\r\n            System.out.println(c[i]);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How do I find the intersection of two arrays in Java?","body":"<p>Trying to find the <strong>intersection of 2 arrays</strong> <code>a</code> and <code>b</code> and store it into a new array <code>c</code>.</p>\n<p>Expected result: array <strong>c</strong> with values: <code>3, 10, 4, 8</code>.</p>\n<pre><code>public static void main(String[] args) {\n    int[] a = {3, 10, 4, 2, 8};\n    int[] b = {10, 4, 12, 3, 23, 1, 8};\n    int[] c;\n    int i = 0;\n    for (int f = 0; f &lt; a.length; f++) {\n        for (int k = 0; k &lt; b.length; k++) {\n            if (a[f] == b[k]) {\n                //here should be a line that stores equal values of 2 arrays(a,b) into array c\n            }\n          }\n        }\n        for (int x = 0; x &lt; c.length; x++) {\n            System.out.println(c[i]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","while-loop","java.util.scanner"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664724178,"post_id":73926633,"comment_id":130532462,"body_markdown":"`while(1 &lt;= 0)`!??(this loop will never be entered;)","body":"<code>while(1 &lt;= 0)</code>!??(this loop will never be entered;)"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1664726909,"post_id":73926633,"comment_id":130533158,"body_markdown":"Did you check [Reading multiple Scanner inputs](https://stackoverflow.com/questions/8469882/reading-multiple-scanner-inputs)?","body":"Did you check <a href=\"https://stackoverflow.com/questions/8469882/reading-multiple-scanner-inputs\">Reading multiple Scanner inputs</a>?"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664722903,"creation_date":1664722468,"answer_id":73926818,"question_id":73926633,"body_markdown":"Use a List&lt;Integer&gt; since it can grow dynamically:\r\n\r\n    Scanner tal = new Scanner(System.in);                  \r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();   // *** Add this\r\n\r\n    while (noll &lt;= antalHeltal) {                          \r\n        noll += 1;                                        \r\n        heltal += 1;                                       \r\n        System.out.print(&quot;ange heltal &quot; + heltal + &quot;: &quot;);  \r\n                                                       \r\n        tal1 = tal.next();                                 \r\n                                                       \r\n        try {  \r\n            // **********************************\r\n            int num = Integer.parseInt(tal1);                          \r\n            list.add(num);     \r\n            // **********************************\r\n        } catch (NumberFormatException e) {            \r\n            System.out.println(&quot;Ogiltigt v&#228;rde&quot;);      \r\n            noll -= 1;                                 \r\n            heltal -=1;                                \r\n        }    \r\n\r\n\r\nTo later access the List:\r\n\r\n    for (int i = 0; i &lt; list.size(); i++) {\r\n        System.out.println(list.get(i));\r\n    }\r\n\r\nor....\r\n\r\n    for (int val : list} {\r\n        System.out.println(val);\r\n    }  ","title":"trying to save multiple inputs from the same scanner in a while loop","body":"<p>Use a List since it can grow dynamically:</p>\n<pre><code>Scanner tal = new Scanner(System.in);                  \n\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();   // *** Add this\n\nwhile (noll &lt;= antalHeltal) {                          \n    noll += 1;                                        \n    heltal += 1;                                       \n    System.out.print(&quot;ange heltal &quot; + heltal + &quot;: &quot;);  \n                                                   \n    tal1 = tal.next();                                 \n                                                   \n    try {  \n        // **********************************\n        int num = Integer.parseInt(tal1);                          \n        list.add(num);     \n        // **********************************\n    } catch (NumberFormatException e) {            \n        System.out.println(&quot;Ogiltigt värde&quot;);      \n        noll -= 1;                                 \n        heltal -=1;                                \n    }    \n</code></pre>\n<p>To later access the List:</p>\n<pre><code>for (int i = 0; i &lt; list.size(); i++) {\n    System.out.println(list.get(i));\n}\n</code></pre>\n<p>or....</p>\n<pre><code>for (int val : list} {\n    System.out.println(val);\n}  \n</code></pre>\n"}],"owner":{"account_id":26507739,"reputation":9,"user_id":20143617,"display_name":"teambubbel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73926818,"answer_count":1,"score":0,"last_activity_date":1664722903,"creation_date":1664721015,"question_id":73926633,"body_markdown":"I&#39;m trying to get multiple integer values from the same scanner inside a while loop. I need to store all the values so I can use them later. However I can only get the last value from the scanner when the while loop finishes.\r\n\r\n```\r\nint antalHeltal = Integer.parseInt(Antal);             \r\nint noll = 1;                                          \r\nint heltal = 0;                                        \r\nString tal1 = &quot;&quot;;                                      \r\nScanner tal = new Scanner(System.in);                  \r\nwhile (noll &lt;= antalHeltal) {                          \r\n     noll += 1;                                        \r\n    heltal += 1;                                       \r\n    System.out.print(&quot;ange heltal &quot; + heltal + &quot;: &quot;);  \r\n                                                       \r\n    tal1 = tal.next();                                 \r\n                                                       \r\n        try {                                          \r\n            Integer.parseInt(tal1);                    \r\n        } catch (NumberFormatException e) {            \r\n            System.out.println(&quot;Ogiltigt v&#228;rde&quot;);      \r\n            noll -= 1;                                 \r\n            heltal -=1;                                \r\n        }                                              \r\n```\r\n\r\nMy variables are written in Swedish so sorry in advance but I hope someone can help me with this. It would be much appreciated.\r\n                                         ","title":"trying to save multiple inputs from the same scanner in a while loop","body":"<p>I'm trying to get multiple integer values from the same scanner inside a while loop. I need to store all the values so I can use them later. However I can only get the last value from the scanner when the while loop finishes.</p>\n<pre><code>int antalHeltal = Integer.parseInt(Antal);             \nint noll = 1;                                          \nint heltal = 0;                                        \nString tal1 = &quot;&quot;;                                      \nScanner tal = new Scanner(System.in);                  \nwhile (noll &lt;= antalHeltal) {                          \n     noll += 1;                                        \n    heltal += 1;                                       \n    System.out.print(&quot;ange heltal &quot; + heltal + &quot;: &quot;);  \n                                                       \n    tal1 = tal.next();                                 \n                                                       \n        try {                                          \n            Integer.parseInt(tal1);                    \n        } catch (NumberFormatException e) {            \n            System.out.println(&quot;Ogiltigt värde&quot;);      \n            noll -= 1;                                 \n            heltal -=1;                                \n        }                                              \n</code></pre>\n<p>My variables are written in Swedish so sorry in advance but I hope someone can help me with this. It would be much appreciated.</p>\n"},{"tags":["java","integration-testing","spring-test"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664722636,"creation_date":1664722636,"answer_id":73926838,"question_id":73926712,"body_markdown":"Your tests try to compare your custom object - `UserDTO` with a `String`. This can&#39;t work, objects of different classes can never be equal. You have to compare objects from the same class. You need to either:\r\n\r\n 1. Transform UserDTO to a string, whatever format you are using, and compare strings. This is error prone and not a good idea, or:\r\n 2. Parse response to UserDTO and compare 2 UserDTOs. If you have not overridden `equals()` you can compare the fields using the getters.","title":"Testing controller returns nothing instead of object","body":"<p>Your tests try to compare your custom object - <code>UserDTO</code> with a <code>String</code>. This can't work, objects of different classes can never be equal. You have to compare objects from the same class. You need to either:</p>\n<ol>\n<li>Transform UserDTO to a string, whatever format you are using, and compare strings. This is error prone and not a good idea, or:</li>\n<li>Parse response to UserDTO and compare 2 UserDTOs. If you have not overridden <code>equals()</code> you can compare the fields using the getters.</li>\n</ol>\n"}],"owner":{"account_id":23727935,"reputation":117,"user_id":17747601,"display_name":"m_novak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73926838,"answer_count":1,"score":0,"last_activity_date":1664722636,"creation_date":1664721755,"question_id":73926712,"body_markdown":"So Iam testing my UserController - create user and get user methods. When I run my tests, I get this output:\r\n\r\n    org.opentest4j.AssertionFailedError:\r\n    Expected :UserDTO(id=1, name=Steve, email=steve@mail.com, group=null)\r\n    Actual   :\r\n\r\nThis is my test class:\r\n\r\n    @WebMvcTest(UserController.class)\r\n    class UserControllerTest {\r\n    \r\n      @MockBean private UserInterface userInterface;\r\n    \r\n      @Autowired private MockMvc mockMvc;\r\n    \r\n      @Test\r\n      void create() throws Exception {\r\n        UserCreationDTO user = new UserCreationDTO(1L, &quot;Steve&quot;, &quot;steve@mail.com&quot;, &quot;password&quot;);\r\n    \r\n        Mockito.when(userInterface.create(user)).thenReturn(user);\r\n    \r\n        RequestBuilder request =\r\n            MockMvcRequestBuilders.post(&quot;/api/users&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(String.valueOf(user));\r\n    \r\n        MvcResult result = mockMvc.perform(request).andReturn();\r\n        assertEquals(user, result.getResponse().getContentAsString());\r\n      }\r\n    \r\n      @Test\r\n      void getUser() throws Exception {\r\n        UserDTO userDTO = new UserDTO(1L, &quot;Steve&quot;, &quot;steve@mail.com&quot;, null);\r\n    \r\n        Mockito.when(userInterface.getUser(1L)).thenReturn(userDTO);\r\n    \r\n        RequestBuilder request = MockMvcRequestBuilders.get(&quot;/api/users/1&quot;);\r\n    \r\n        MvcResult result = mockMvc.perform(request).andReturn();\r\n        assertEquals(userDTO, result.getResponse().getContentAsString());\r\n      }\r\n    }\r\n\r\n\r\nCan someone tell me what am I doing wrong and why Iam not getting any object when runing this tests? Im new o testing so Im sorry if this is some newbie question.\r\n","title":"Testing controller returns nothing instead of object","body":"<p>So Iam testing my UserController - create user and get user methods. When I run my tests, I get this output:</p>\n<pre><code>org.opentest4j.AssertionFailedError:\nExpected :UserDTO(id=1, name=Steve, email=steve@mail.com, group=null)\nActual   :\n</code></pre>\n<p>This is my test class:</p>\n<pre><code>@WebMvcTest(UserController.class)\nclass UserControllerTest {\n\n  @MockBean private UserInterface userInterface;\n\n  @Autowired private MockMvc mockMvc;\n\n  @Test\n  void create() throws Exception {\n    UserCreationDTO user = new UserCreationDTO(1L, &quot;Steve&quot;, &quot;steve@mail.com&quot;, &quot;password&quot;);\n\n    Mockito.when(userInterface.create(user)).thenReturn(user);\n\n    RequestBuilder request =\n        MockMvcRequestBuilders.post(&quot;/api/users&quot;)\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(String.valueOf(user));\n\n    MvcResult result = mockMvc.perform(request).andReturn();\n    assertEquals(user, result.getResponse().getContentAsString());\n  }\n\n  @Test\n  void getUser() throws Exception {\n    UserDTO userDTO = new UserDTO(1L, &quot;Steve&quot;, &quot;steve@mail.com&quot;, null);\n\n    Mockito.when(userInterface.getUser(1L)).thenReturn(userDTO);\n\n    RequestBuilder request = MockMvcRequestBuilders.get(&quot;/api/users/1&quot;);\n\n    MvcResult result = mockMvc.perform(request).andReturn();\n    assertEquals(userDTO, result.getResponse().getContentAsString());\n  }\n}\n</code></pre>\n<p>Can someone tell me what am I doing wrong and why Iam not getting any object when runing this tests? Im new o testing so Im sorry if this is some newbie question.</p>\n"},{"tags":["java","xml","xsd","jaxb"],"comments":[{"owner":{"account_id":1010695,"reputation":747,"user_id":1023331,"accept_rate":95,"display_name":"bunnyjesse112"},"score":0,"creation_date":1328022142,"post_id":9081527,"comment_id":11402100,"body_markdown":"MyInnerType isn&#39;t Serializable","body":"MyInnerType isn&#39;t Serializable"}],"answers":[{"tags":[],"owner":{"account_id":152128,"reputation":9392,"user_id":366447,"accept_rate":80,"display_name":"AHungerArtist"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328022020,"creation_date":1328022020,"answer_id":9081725,"question_id":9081527,"body_markdown":"What do you think you should be adding in there? I have used similar generation and had fields like this and the expectation was that it would be String content. \r\n\r\nIt&#39;d probably help to show the xsd this was generated from.","title":"JAXB - List&lt;Serializable&gt;?","body":"<p>What do you think you should be adding in there? I have used similar generation and had fields like this and the expectation was that it would be String content. </p>\n\n<p>It'd probably help to show the xsd this was generated from.</p>\n"},{"tags":[],"owner":{"account_id":537835,"reputation":21393,"user_id":886533,"display_name":"Petru Gardea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1495494151,"creation_date":1328023613,"answer_id":9082116,"question_id":9081527,"body_markdown":"Please take a look [here][1] and [here][2] (one should for sure address your scenario).\r\n\r\nFrom 2nd link:\r\n\r\n    &lt;!-- schema fragment having  mixed content --&gt;\r\n    &lt;xs:complexType name=&quot;letterBody&quot; mixed=&quot;true&quot;&gt;\r\n    &lt;xs:sequence&gt;\r\n        &lt;xs:element name=&quot;name&quot; type=&quot;xs:string&quot;/&gt;\r\n        &lt;xs:element name=&quot;quantity&quot; type=&quot;xs:positiveInteger&quot;/&gt;\r\n        &lt;xs:element name=&quot;productName&quot; type=&quot;xs:string&quot;/&gt;\r\n        &lt;!-- etc. --&gt;\r\n    &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n    &lt;xs:element name=&quot;letterBody&quot; type=&quot;letterBody&quot;/&gt;\r\n\r\n\r\n    // Schema-derived Java code: \r\n    // (Only annotations relevant to mixed content are shown below, \r\n    //  others are ommitted.)\r\n    import java.math.BigInteger;\r\n    public class ObjectFactory {\r\n        // element instance factories\r\n        JAXBElement&lt;LetterBody&gt; createLetterBody(LetterBody value);\r\n        JAXBElement&lt;String&gt;     createLetterBodyName(String value);\r\n        JAXBElement&lt;BigInteger&gt; createLetterBodyQuantity(BigInteger value);\r\n        JAXBElement&lt;String&gt;     createLetterBodyProductName(String value);\r\n      // type instance factory\r\n        LetterBody&gt; createLetterBody();\r\n    }\r\n \r\n    public class LetterBody {\r\n        // Mixed content can contain instances of Element classes\r\n        // Name, Quantity and ProductName. Text data is represented as\r\n        // java.util.String for text.\r\n        @XmlMixed \r\n        @XmlElementRefs({\r\n                @XmlElementRef(name=&quot;productName&quot;, type=JAXBElement.class),\r\n                @XmlElementRef(name=&quot;quantity&quot;, type=JAXBElement.class),\r\n                @XmlElementRef(name=&quot;name&quot;, type=JAXBElement.class)})\r\n        List getContent(){...}\r\n    }\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10940267/jaxb-xmlmixed-usage-for-reading-xmlvalue-and-xmlelement\r\n  [2]: http://docs.oracle.com/javaee/5/api/javax/xml/bind/annotation/XmlMixed.html","title":"JAXB - List&lt;Serializable&gt;?","body":"<p>Please take a look <a href=\"https://stackoverflow.com/questions/10940267/jaxb-xmlmixed-usage-for-reading-xmlvalue-and-xmlelement\">here</a> and <a href=\"http://docs.oracle.com/javaee/5/api/javax/xml/bind/annotation/XmlMixed.html\" rel=\"nofollow noreferrer\">here</a> (one should for sure address your scenario).</p>\n\n<p>From 2nd link:</p>\n\n<pre><code>&lt;!-- schema fragment having  mixed content --&gt;\n&lt;xs:complexType name=\"letterBody\" mixed=\"true\"&gt;\n&lt;xs:sequence&gt;\n    &lt;xs:element name=\"name\" type=\"xs:string\"/&gt;\n    &lt;xs:element name=\"quantity\" type=\"xs:positiveInteger\"/&gt;\n    &lt;xs:element name=\"productName\" type=\"xs:string\"/&gt;\n    &lt;!-- etc. --&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n&lt;xs:element name=\"letterBody\" type=\"letterBody\"/&gt;\n\n\n// Schema-derived Java code: \n// (Only annotations relevant to mixed content are shown below, \n//  others are ommitted.)\nimport java.math.BigInteger;\npublic class ObjectFactory {\n    // element instance factories\n    JAXBElement&lt;LetterBody&gt; createLetterBody(LetterBody value);\n    JAXBElement&lt;String&gt;     createLetterBodyName(String value);\n    JAXBElement&lt;BigInteger&gt; createLetterBodyQuantity(BigInteger value);\n    JAXBElement&lt;String&gt;     createLetterBodyProductName(String value);\n  // type instance factory\n    LetterBody&gt; createLetterBody();\n}\n\npublic class LetterBody {\n    // Mixed content can contain instances of Element classes\n    // Name, Quantity and ProductName. Text data is represented as\n    // java.util.String for text.\n    @XmlMixed \n    @XmlElementRefs({\n            @XmlElementRef(name=\"productName\", type=JAXBElement.class),\n            @XmlElementRef(name=\"quantity\", type=JAXBElement.class),\n            @XmlElementRef(name=\"name\", type=JAXBElement.class)})\n    List getContent(){...}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4288777,"reputation":469,"user_id":4573201,"display_name":"Yuri Smirnoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664722153,"creation_date":1664722153,"answer_id":73926764,"question_id":9081527,"body_markdown":"May be helpful for smbd now.\r\nYou have to use:\r\n```\r\ngetContent().add(new JAXBElement&lt;&gt;(new QName(&quot;MyInnerType&quot;), MyInnerType.class, myInnerTypeInstance);\r\n```","title":"JAXB - List&lt;Serializable&gt;?","body":"<p>May be helpful for smbd now.\nYou have to use:</p>\n<pre><code>getContent().add(new JAXBElement&lt;&gt;(new QName(&quot;MyInnerType&quot;), MyInnerType.class, myInnerTypeInstance);\n</code></pre>\n"}],"owner":{"account_id":1010695,"reputation":747,"user_id":1023331,"accept_rate":95,"display_name":"bunnyjesse112"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6377,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":9082116,"answer_count":3,"score":4,"last_activity_date":1664722153,"creation_date":1328021321,"question_id":9081527,"body_markdown":"I made some classes using xjc.\r\n\r\n        public class MyType {\r\n    \r\n        @XmlElementRefs({\r\n            @XmlElementRef(name = &quot;MyInnerType&quot;, type = JAXBElement.class, required = false),\r\n            \r\n        })\r\n        @XmlMixed\r\n        protected List&lt;Serializable&gt; content;\r\n    \r\n        public List&lt;Serializable&gt; getContent() {\r\n            if (content == null) {\r\n                content = new ArrayList&lt;Serializable&gt;();\r\n            }\r\n            return this.content;\r\n        }\r\n    }\r\nBut i cant add inner elements using \r\n\r\n    getContent().add(newItem);\r\nbecause MyInnerType is not Serializable.\r\nWhy its not a List of Objects? How do i add inner elements?","title":"JAXB - List&lt;Serializable&gt;?","body":"<p>I made some classes using xjc.</p>\n\n<pre><code>    public class MyType {\n\n    @XmlElementRefs({\n        @XmlElementRef(name = \"MyInnerType\", type = JAXBElement.class, required = false),\n\n    })\n    @XmlMixed\n    protected List&lt;Serializable&gt; content;\n\n    public List&lt;Serializable&gt; getContent() {\n        if (content == null) {\n            content = new ArrayList&lt;Serializable&gt;();\n        }\n        return this.content;\n    }\n}\n</code></pre>\n\n<p>But i cant add inner elements using </p>\n\n<pre><code>getContent().add(newItem);\n</code></pre>\n\n<p>because MyInnerType is not Serializable.\nWhy its not a List of Objects? How do i add inner elements?</p>\n"},{"tags":["java","mysql","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1047405,"reputation":8722,"user_id":1052130,"display_name":"slaakso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664721323,"creation_date":1664721323,"answer_id":73926671,"question_id":73926592,"body_markdown":"You did not include the EXPLAIN output for the queries, but most likely passing the wrong datatype causes implicit datatype conversion and mySQL not using the index. ","title":"performance impact of bigint vs varchar in mysql query","body":"<p>You did not include the EXPLAIN output for the queries, but most likely passing the wrong datatype causes implicit datatype conversion and mySQL not using the index.</p>\n"},{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664721893,"creation_date":1664721893,"answer_id":73926729,"question_id":73926592,"body_markdown":"https://dev.mysql.com/doc/refman/8.0/en/type-conversion.html says:\r\n\r\n&gt; In all other cases, the arguments are compared as floating-point (double-precision) numbers. For example, a comparison of string and numeric operands takes place as a comparison of floating-point numbers.\r\n\r\nSo in this comparison term:\r\n\r\n    WHERE user_id = :userId\r\n\r\nIf you pass `userId` as a numeric parameter, then the query must convert string values in the `user_id` column to their numeric equivalent row by row. It can&#39;t assume the numeric value before conversion. So it can&#39;t know if the numeric value will end up in the same place in the index, and therefore the index is useless for that comparison.","title":"performance impact of bigint vs varchar in mysql query","body":"<p><a href=\"https://dev.mysql.com/doc/refman/8.0/en/type-conversion.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/type-conversion.html</a> says:</p>\n<blockquote>\n<p>In all other cases, the arguments are compared as floating-point (double-precision) numbers. For example, a comparison of string and numeric operands takes place as a comparison of floating-point numbers.</p>\n</blockquote>\n<p>So in this comparison term:</p>\n<pre><code>WHERE user_id = :userId\n</code></pre>\n<p>If you pass <code>userId</code> as a numeric parameter, then the query must convert string values in the <code>user_id</code> column to their numeric equivalent row by row. It can't assume the numeric value before conversion. So it can't know if the numeric value will end up in the same place in the index, and therefore the index is useless for that comparison.</p>\n"}],"owner":{"account_id":2573171,"reputation":59,"user_id":2231428,"display_name":"Yogesh Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73926729,"answer_count":2,"score":1,"last_activity_date":1664721893,"creation_date":1664720620,"question_id":73926592,"body_markdown":"Mysql giving bad performance while passing column value as bigint and column created with data type is varchar. Below is my create table query and index created on 3 columns(user_id,category,status). I am using spring jpa to interact with mysql and also using native query to get data from mysql.\r\n\r\n```\r\nCREATE TABLE order (\r\n\tid \t\t\tint NOT NULL AUTO_INCREMENT,\r\n\tuser_id \tvarchar(50) NOT NULL,\r\n\tcategory \tvarchar(255) NOT NULL,\r\n\tamount \t\tdecimal(13,2) NOT NULL,\r\n\tstatus \t\tvarchar(50) NOT NULL,\r\n\tcreated_at \ttimestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n\tPRIMARY KEY (id),\r\n\tKEY idx_order_user_category_status (user_id,category,status),\r\n\tKEY idx_order_created_at (created_at)\r\n);\r\n```\r\n\r\n```\r\n@Query(\r\n    value =\r\n        &quot;SELECT month(created_at) mm, year(created_at) yy, sum(amount) tpv &quot;\r\n            + &quot;FROM order &quot;\r\n            + &quot;WHERE user_id = :userId &quot;\r\n            + &quot;AND category = &#39;BILL&#39; &quot;\r\n            + &quot;AND status IN (&#39;SUCCESS&#39;,&#39;PENDING&#39;) &quot;\r\n            + &quot;AND created_at &gt;= :startDate AND created_at &lt; :endDate &quot;\r\n            + &quot;GROUP BY mm, yy&quot;,\r\n    nativeQuery = true)\r\nList&lt;List&lt;Object&gt;&gt; getTpvByUserIdAndDateBetween(\r\n    @Param(&quot;userId&quot;) Long userId,\r\n    @Param(&quot;startDate&quot;) LocalDate startDate,\r\n    @Param(&quot;endDate&quot;) LocalDate endDate);\r\n\r\nSELECT month(created_at) mm, year(created_at) yy, sum(amount) tpv FROM order WHERE user_id = ? AND category = &#39;BILL&#39; AND status IN (&#39;SUCCESS&#39;, &#39;PENDING&#39;) AND created_at &gt;= ? AND created_at &lt; ? GROUP BY mm, yy\r\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [1] as [BIGINT] - [24463608]\r\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [2] as [DATE] - [2022-07-31]\r\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [3] as [DATE] - [2022-10-01]\r\nINFO  c.b.b.p.services.impl.OrderService.getCcBpMonthlyTpv(672) - db query response time:2398\r\n\r\n\r\n@Query(\r\n    value =\r\n        &quot;SELECT month(created_at) mm, year(created_at) yy, sum(amount) tpv &quot;\r\n            + &quot;FROM order &quot;\r\n            + &quot;WHERE user_id = :userId &quot;\r\n            + &quot;AND category = &#39;BILL&#39; &quot;\r\n            + &quot;AND status IN (&#39;SUCCESS&#39;, &#39;PENDING&#39;) &quot;\r\n            + &quot;AND created_at &gt;= :startDate AND created_at &lt; :endDate &quot;\r\n            + &quot;GROUP BY mm, yy&quot;,\r\n    nativeQuery = true)\r\nList&lt;List&lt;Object&gt;&gt; getCcBpTpvByIdAndDateBetween(\r\n    @Param(&quot;userId&quot;) String userId,\r\n    @Param(&quot;startDate&quot;) LocalDate startDate,\r\n    @Param(&quot;endDate&quot;) LocalDate endDate);\r\n\r\nSELECT month(created_at) mm, year(created_at) yy, sum(amount) tpv FROM order WHERE user_id = ? AND category = &#39;BILL&#39; AND status IN (&#39;SUCCESS&#39;, &#39;PENDING&#39;) AND created_at &gt;= ? AND created_at &lt; ? GROUP BY mm, yy\r\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [1] as [VARCHAR] - [24463608]\r\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [2] as [DATE] - [2022-07-31]\r\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [3] as [DATE] - [2022-10-01]\r\nINFO  c.b.b.p.services.impl.OrderService.getCcBpMonthlyTpv(686) - db query response time:8\r\n```\r\nBelow are the cases after my analysis:\r\n\r\n - passed user_id as long and long was interpreted by jpa as bigint and got response in **2398ms**.\r\n - passed user_id as string which was interpreted by jpa as varchar and got response in **8ms**.\r\n\r\nTech stack:\r\n- JDK: 11\r\n- Spring boot version: 2.5.5\r\n- mysql version: 8.0.23\r\n\r\nNote:\r\n-----\r\n\r\nApprox 3 Million records present in table\r\n\r\n## Questions ##\r\n\r\n 1. How does mysql behave if column value is passed as different data type while doing a select?\r\n 2. Both gave correct result but one gave worst performance and other scenario gave best performance. Why?\r\n","title":"performance impact of bigint vs varchar in mysql query","body":"<p>Mysql giving bad performance while passing column value as bigint and column created with data type is varchar. Below is my create table query and index created on 3 columns(user_id,category,status). I am using spring jpa to interact with mysql and also using native query to get data from mysql.</p>\n<pre><code>CREATE TABLE order (\n    id          int NOT NULL AUTO_INCREMENT,\n    user_id     varchar(50) NOT NULL,\n    category    varchar(255) NOT NULL,\n    amount      decimal(13,2) NOT NULL,\n    status      varchar(50) NOT NULL,\n    created_at  timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n    PRIMARY KEY (id),\n    KEY idx_order_user_category_status (user_id,category,status),\n    KEY idx_order_created_at (created_at)\n);\n</code></pre>\n<pre><code>@Query(\n    value =\n        &quot;SELECT month(created_at) mm, year(created_at) yy, sum(amount) tpv &quot;\n            + &quot;FROM order &quot;\n            + &quot;WHERE user_id = :userId &quot;\n            + &quot;AND category = 'BILL' &quot;\n            + &quot;AND status IN ('SUCCESS','PENDING') &quot;\n            + &quot;AND created_at &gt;= :startDate AND created_at &lt; :endDate &quot;\n            + &quot;GROUP BY mm, yy&quot;,\n    nativeQuery = true)\nList&lt;List&lt;Object&gt;&gt; getTpvByUserIdAndDateBetween(\n    @Param(&quot;userId&quot;) Long userId,\n    @Param(&quot;startDate&quot;) LocalDate startDate,\n    @Param(&quot;endDate&quot;) LocalDate endDate);\n\nSELECT month(created_at) mm, year(created_at) yy, sum(amount) tpv FROM order WHERE user_id = ? AND category = 'BILL' AND status IN ('SUCCESS', 'PENDING') AND created_at &gt;= ? AND created_at &lt; ? GROUP BY mm, yy\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [1] as [BIGINT] - [24463608]\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [2] as [DATE] - [2022-07-31]\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [3] as [DATE] - [2022-10-01]\nINFO  c.b.b.p.services.impl.OrderService.getCcBpMonthlyTpv(672) - db query response time:2398\n\n\n@Query(\n    value =\n        &quot;SELECT month(created_at) mm, year(created_at) yy, sum(amount) tpv &quot;\n            + &quot;FROM order &quot;\n            + &quot;WHERE user_id = :userId &quot;\n            + &quot;AND category = 'BILL' &quot;\n            + &quot;AND status IN ('SUCCESS', 'PENDING') &quot;\n            + &quot;AND created_at &gt;= :startDate AND created_at &lt; :endDate &quot;\n            + &quot;GROUP BY mm, yy&quot;,\n    nativeQuery = true)\nList&lt;List&lt;Object&gt;&gt; getCcBpTpvByIdAndDateBetween(\n    @Param(&quot;userId&quot;) String userId,\n    @Param(&quot;startDate&quot;) LocalDate startDate,\n    @Param(&quot;endDate&quot;) LocalDate endDate);\n\nSELECT month(created_at) mm, year(created_at) yy, sum(amount) tpv FROM order WHERE user_id = ? AND category = 'BILL' AND status IN ('SUCCESS', 'PENDING') AND created_at &gt;= ? AND created_at &lt; ? GROUP BY mm, yy\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [1] as [VARCHAR] - [24463608]\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [2] as [DATE] - [2022-07-31]\nTRACE o.h.type.descriptor.sql.BasicBinder.bind(64) - binding parameter [3] as [DATE] - [2022-10-01]\nINFO  c.b.b.p.services.impl.OrderService.getCcBpMonthlyTpv(686) - db query response time:8\n</code></pre>\n<p>Below are the cases after my analysis:</p>\n<ul>\n<li>passed user_id as long and long was interpreted by jpa as bigint and got response in <strong>2398ms</strong>.</li>\n<li>passed user_id as string which was interpreted by jpa as varchar and got response in <strong>8ms</strong>.</li>\n</ul>\n<p>Tech stack:</p>\n<ul>\n<li>JDK: 11</li>\n<li>Spring boot version: 2.5.5</li>\n<li>mysql version: 8.0.23</li>\n</ul>\n<h2>Note:</h2>\n<p>Approx 3 Million records present in table</p>\n<h2>Questions</h2>\n<ol>\n<li>How does mysql behave if column value is passed as different data type while doing a select?</li>\n<li>Both gave correct result but one gave worst performance and other scenario gave best performance. Why?</li>\n</ol>\n"},{"tags":["java","console-application","jline"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664707498,"post_id":73924990,"comment_id":130529372,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664721632,"creation_date":1664720941,"answer_id":73926624,"question_id":73924990,"body_markdown":"[`org.jline terminal.Terminal#getHeight()`](https://github.com/jline/jline3/blob/jline-parent-3.21.0/terminal/src/main/java/org/jline/terminal/Terminal.java#L200-L202) is not a `static` method and therefore needs to be called on an instance of `org.jline terminal.Terminal`.\r\nYou should probably use [`org.jline terminal.TerminalBuilder`](https://github.com/jline/jline3/blob/jline-parent-3.21.0/terminal/src/main/java/org/jline/terminal/TerminalBuilder.java#L37-L40) to obtain one.\r\n\r\nThe import merely allows you to use `Terminal` without the package name.","title":"Why does jline&#39;s TerminalBuilder not accept function call?","body":"<p><a href=\"https://github.com/jline/jline3/blob/jline-parent-3.21.0/terminal/src/main/java/org/jline/terminal/Terminal.java#L200-L202\" rel=\"nofollow noreferrer\"><code>org.jline terminal.Terminal#getHeight()</code></a> is not a <code>static</code> method and therefore needs to be called on an instance of <code>org.jline terminal.Terminal</code>.\nYou should probably use <a href=\"https://github.com/jline/jline3/blob/jline-parent-3.21.0/terminal/src/main/java/org/jline/terminal/TerminalBuilder.java#L37-L40\" rel=\"nofollow noreferrer\"><code>org.jline terminal.TerminalBuilder</code></a> to obtain one.</p>\n<p>The import merely allows you to use <code>Terminal</code> without the package name.</p>\n"}],"owner":{"account_id":15775971,"reputation":33,"user_id":15817931,"display_name":"Alwin Schneider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664721632,"creation_date":1664705423,"question_id":73924990,"body_markdown":"Please dont ban me for this question, i am a noob and i have googled this for hours now.\r\n\r\nTo make a console based Snake Game, i plan to use the jline Libary.\r\nHowever, when i try to call &quot;Terminal&quot; &#39;s function getHeight()(i imported org.jline.Terminal already), there is an error:\r\n\r\n&gt; Cannot make a static reference to the non-static method **getHeight()** from the type **Terminal**\r\n\r\nthis happens even though the Terminal import does have a function called getHeight().\r\n\r\ni have an assumption: i think i need to generate an instance of something to use it. but for what do i need to generate an instance.\r\nor is the assumption wrong?\r\n\r\nDo you have an Idea how to solve this?\r\n\r\nKind regards,\r\n\r\nyour Alwin :)","title":"Why does jline&#39;s TerminalBuilder not accept function call?","body":"<p>Please dont ban me for this question, i am a noob and i have googled this for hours now.</p>\n<p>To make a console based Snake Game, i plan to use the jline Libary.\nHowever, when i try to call &quot;Terminal&quot; 's function getHeight()(i imported org.jline.Terminal already), there is an error:</p>\n<blockquote>\n<p>Cannot make a static reference to the non-static method <strong>getHeight()</strong> from the type <strong>Terminal</strong></p>\n</blockquote>\n<p>this happens even though the Terminal import does have a function called getHeight().</p>\n<p>i have an assumption: i think i need to generate an instance of something to use it. but for what do i need to generate an instance.\nor is the assumption wrong?</p>\n<p>Do you have an Idea how to solve this?</p>\n<p>Kind regards,</p>\n<p>your Alwin :)</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":17051110,"reputation":46,"user_id":12336723,"display_name":"Sergey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664716655,"creation_date":1664716655,"answer_id":73926129,"question_id":73926051,"body_markdown":"    total = score [i][0] + score [i][1];\r\n    \r\nThis line expect to get &quot;i&quot; but loop already closed. \r\n\r\nTo fix - close for loop **after** printing this line:  \r\n\r\n    System.out.print(&quot;\\t&quot;+subject+&quot;\\t&quot;+score [i][0]+&quot;\\t&quot;+score [i][1]+&quot;\\t&quot;+avrg);\r\n\r\n","title":"java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2 at array2.main, i got this error on my program how do fix it?","body":"<pre><code>total = score [i][0] + score [i][1];\n</code></pre>\n<p>This line expect to get &quot;i&quot; but loop already closed.</p>\n<p>To fix - close for loop <strong>after</strong> printing this line:</p>\n<pre><code>System.out.print(&quot;\\t&quot;+subject+&quot;\\t&quot;+score [i][0]+&quot;\\t&quot;+score [i][1]+&quot;\\t&quot;+avrg);\n</code></pre>\n"}],"owner":{"account_id":24657195,"reputation":11,"user_id":18553771,"display_name":"Irsyad Ardiansyah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":603,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1664716797,"answer_count":1,"score":0,"last_activity_date":1664720561,"creation_date":1664715990,"question_id":73926051,"body_markdown":"    import java.util.Scanner;\r\n\r\n    class array2 {\r\n        public static void main(String args[]) {\r\n            Scanner input = new Scanner(System.in);\r\n                int arr_count = input.nextInt(), i;\r\n                    System.out.print(&quot;Jumlah Data : &quot;);\r\n                    arr_count = input.nextInt();\r\n\r\n        \r\n                int score [][] = new int[arr_count][10];\r\n                String subject [][] = new String[arr_count][1];\r\n                float total, avrg;\r\n                \r\n                for (i=0;i&lt;arr_count;i++) {\r\n                    System.out.print(&quot;Mata Kuliah : &quot;);\r\n                    subject [i][0] = input.next();\r\n                    System.out.print(&quot;Nilai Teori : &quot;); score [i][0] = input.nextInt();\r\n                    System.out.print(&quot;Nilai Praktik : &quot;); score [i][1] = input.nextInt();\r\n                    System.out.println();\r\n                }\r\n                \r\n     \r\n                System.out.println();\r\n                System.out.println(&quot;----------------------------------------------------&quot;);\r\n                System.out.println(&quot;Mata Kuliah     Teori     Praktikum       Rata-rata&quot;);\r\n                System.out.println(&quot;----------------------------------------------------&quot;);\r\n                \r\n                total = score [i][0] + score [i][1];\r\n                avrg = total/2;\r\n                \r\n            \r\n                System.out.print(&quot;\\t&quot;+subject+&quot;\\t&quot;+score [i][0]+&quot;\\t&quot;+score [i][1]+&quot;\\t&quot;+avrg);\r\n                \r\n          }\r\n    }\r\n\r\n&gt; error = java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2 at array2.main\r\n\r\nHow do I fix this?","title":"java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2 at array2.main, i got this error on my program how do fix it?","body":"<pre><code>import java.util.Scanner;\n\nclass array2 {\n    public static void main(String args[]) {\n        Scanner input = new Scanner(System.in);\n            int arr_count = input.nextInt(), i;\n                System.out.print(&quot;Jumlah Data : &quot;);\n                arr_count = input.nextInt();\n\n    \n            int score [][] = new int[arr_count][10];\n            String subject [][] = new String[arr_count][1];\n            float total, avrg;\n            \n            for (i=0;i&lt;arr_count;i++) {\n                System.out.print(&quot;Mata Kuliah : &quot;);\n                subject [i][0] = input.next();\n                System.out.print(&quot;Nilai Teori : &quot;); score [i][0] = input.nextInt();\n                System.out.print(&quot;Nilai Praktik : &quot;); score [i][1] = input.nextInt();\n                System.out.println();\n            }\n            \n \n            System.out.println();\n            System.out.println(&quot;----------------------------------------------------&quot;);\n            System.out.println(&quot;Mata Kuliah     Teori     Praktikum       Rata-rata&quot;);\n            System.out.println(&quot;----------------------------------------------------&quot;);\n            \n            total = score [i][0] + score [i][1];\n            avrg = total/2;\n            \n        \n            System.out.print(&quot;\\t&quot;+subject+&quot;\\t&quot;+score [i][0]+&quot;\\t&quot;+score [i][1]+&quot;\\t&quot;+avrg);\n            \n      }\n}\n</code></pre>\n<blockquote>\n<p>error = java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2 at array2.main</p>\n</blockquote>\n<p>How do I fix this?</p>\n"},{"tags":["java","android","multithreading"],"answers":[{"tags":[],"owner":{"account_id":557322,"reputation":8250,"user_id":919710,"accept_rate":80,"display_name":"Alexandre Santos"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1404508764,"creation_date":1404508764,"answer_id":24580846,"question_id":24580769,"body_markdown":"They are separate things. The call to Thread.interrupt only sets a flag in the target Thread. It is up to that Thread to handle the call. If the Thread is sleeping then an InterruptedException will be thrown and it is up to the target Thread to handle the exception (or throw it again). However, if the target Thread is not in a state that throws InterruptedException (not sleeping and not joining) then it is up to the target Thread to be constantly checking for the signal via `Thread.interrupted()`.\r\n\r\nIn your example, it is up to the thread reading the stream to check periodically if the `interrupted` flag has been set or not.\r\n\r\nIn your code, I would check the flag using something like\r\n\r\n                  result = stream.read(bytearray);\r\n                  if (result == -1)\r\n                      break;\r\n                  processBytes(bytearray, result);\r\n                  if (Thread.interrupted()) {\r\n                      // We&#39;ve been interrupted: no more crunching.\r\n                      // handle the interruption here by throwing an Exception or returning.. or something else\r\n                   }\r\n","title":"Calling thread.interrupt on a class in between io operations (is this a race condition)?","body":"<p>They are separate things. The call to Thread.interrupt only sets a flag in the target Thread. It is up to that Thread to handle the call. If the Thread is sleeping then an InterruptedException will be thrown and it is up to the target Thread to handle the exception (or throw it again). However, if the target Thread is not in a state that throws InterruptedException (not sleeping and not joining) then it is up to the target Thread to be constantly checking for the signal via <code>Thread.interrupted()</code>.</p>\n\n<p>In your example, it is up to the thread reading the stream to check periodically if the <code>interrupted</code> flag has been set or not.</p>\n\n<p>In your code, I would check the flag using something like</p>\n\n<pre><code>              result = stream.read(bytearray);\n              if (result == -1)\n                  break;\n              processBytes(bytearray, result);\n              if (Thread.interrupted()) {\n                  // We've been interrupted: no more crunching.\n                  // handle the interruption here by throwing an Exception or returning.. or something else\n               }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1726292,"reputation":2791,"user_id":1580864,"accept_rate":74,"display_name":"Mark W"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404520607,"creation_date":1404519586,"answer_id":24581895,"question_id":24580769,"body_markdown":"Consider the following code\r\n\r\n\tpackage test;\r\n\t\r\n\tpublic class BlockingTest {\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tThread t = new Thread(new Sleeper());\r\n\t\t\tt.start();\r\n\t\t\tSystem.out.println(&quot;interrupting&quot;);\r\n\t\t\tt.interrupt();\r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\t\tt.join();\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic static class Sleeper implements Runnable {\r\n\t\t\tprivate final Object lock = new Object();\r\n\t\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfor (int I = 0; I &lt; 120000; I++) {\r\n\t\t\t\t\t\tSystem.out.println(I);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tSystem.out.println(&quot;Stopped counting, waiting&quot;);\r\n\t\t\t\t\tsynchronized (lock) {\r\n\t\t\t\t\t\tlock.wait();\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n\r\nHere the thread running in Sleeper will throw an interrupted exception when it enters the monitor on the lock object. .interrupt() was called by the main thread long before it gets to that point. So calling interrupt on a thread prior to entering some blocking operation will throw an interrupted exception if the call to that threads interrupt was made prior to the blocking op. It is good to point out that a call to interrupted on Thread will clear the interruped flag, so if this happens: \r\n\r\n    Thread.interrupt();\r\n    ....\r\n    Thread.interrupted();\r\n    Thread.interrupted();\r\n\r\nThe second call to Thread.interrupted() will return false.\r\nHeres the doc: http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#interrupted%28%29\r\n\r\nI do remember hearing long ago that its not a good idea to rely on interrupts as exit conditions. Typically I will implement an exit() method which sets some exit flag, and calls interrupt on the thread in question. This makes sure that I either evaluate the exit flag and exit, or if the thread is waiting in a loop on a monitor someplace, that it will throw an IOException, and subsequently evaluate the exit flag and exit. But I can imagine situations where you want to set a flag, but not necessarily interrupt eg. ensuring that a thread doesnt abort a write operation and say, corrupt some persisted data its writing.\r\n","title":"Calling thread.interrupt on a class in between io operations (is this a race condition)?","body":"<p>Consider the following code</p>\n\n<pre><code>package test;\n\npublic class BlockingTest {\n\n    public static void main(String[] args) {\n        Thread t = new Thread(new Sleeper());\n        t.start();\n        System.out.println(\"interrupting\");\n        t.interrupt();\n        try {\n\n            t.join();\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n    public static class Sleeper implements Runnable {\n        private final Object lock = new Object();\n\n        @Override\n        public void run() {\n            try {\n                for (int I = 0; I &lt; 120000; I++) {\n                    System.out.println(I);\n                }\n                System.out.println(\"Stopped counting, waiting\");\n                synchronized (lock) {\n                    lock.wait();\n                }\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }   \n\n    }\n\n}\n</code></pre>\n\n<p>Here the thread running in Sleeper will throw an interrupted exception when it enters the monitor on the lock object. .interrupt() was called by the main thread long before it gets to that point. So calling interrupt on a thread prior to entering some blocking operation will throw an interrupted exception if the call to that threads interrupt was made prior to the blocking op. It is good to point out that a call to interrupted on Thread will clear the interruped flag, so if this happens: </p>\n\n<pre><code>Thread.interrupt();\n....\nThread.interrupted();\nThread.interrupted();\n</code></pre>\n\n<p>The second call to Thread.interrupted() will return false.\nHeres the doc: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#interrupted%28%29\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#interrupted%28%29</a></p>\n\n<p>I do remember hearing long ago that its not a good idea to rely on interrupts as exit conditions. Typically I will implement an exit() method which sets some exit flag, and calls interrupt on the thread in question. This makes sure that I either evaluate the exit flag and exit, or if the thread is waiting in a loop on a monitor someplace, that it will throw an IOException, and subsequently evaluate the exit flag and exit. But I can imagine situations where you want to set a flag, but not necessarily interrupt eg. ensuring that a thread doesnt abort a write operation and say, corrupt some persisted data its writing.</p>\n"},{"tags":[],"owner":{"account_id":1316033,"reputation":7857,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664719828,"creation_date":1664719828,"answer_id":73926495,"question_id":24580769,"body_markdown":"\r\n\r\nMethods that throw `InterruptedException` will check before blocking if the thread is interrupted. From the docs of `InterruptedException`:\r\n\r\n&gt; Thrown when a thread is waiting, sleeping, or otherwise occupied, and the thread is interrupted, either **before** or during the activity.\r\n\r\n(Emphasis mine)\r\n\r\nJust try this:\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n      Thread.currentThread().interrupt();\r\n      Thread.sleep(1000);\r\n    }\r\n\r\nResult:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.InterruptedException: sleep interrupted\r\n\t    at java.base/java.lang.Thread.sleep(Native Method)\r\n    \tat ...\r\n\r\nThis means that you can forego checking the flag yourself (which would be prone to all sorts of race conditions anyway) if you are often calling another method that throws `InterruptedException`.","title":"Calling thread.interrupt on a class in between io operations (is this a race condition)?","body":"<p>Methods that throw <code>InterruptedException</code> will check before blocking if the thread is interrupted. From the docs of <code>InterruptedException</code>:</p>\n<blockquote>\n<p>Thrown when a thread is waiting, sleeping, or otherwise occupied, and the thread is interrupted, either <strong>before</strong> or during the activity.</p>\n</blockquote>\n<p>(Emphasis mine)</p>\n<p>Just try this:</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n  Thread.currentThread().interrupt();\n  Thread.sleep(1000);\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.InterruptedException: sleep interrupted\n    at java.base/java.lang.Thread.sleep(Native Method)\n    at ...\n</code></pre>\n<p>This means that you can forego checking the flag yourself (which would be prone to all sorts of race conditions anyway) if you are often calling another method that throws <code>InterruptedException</code>.</p>\n"}],"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24580846,"answer_count":3,"score":1,"last_activity_date":1664719828,"creation_date":1404508227,"question_id":24580769,"body_markdown":"My question is specific to android, but I suspect is applies to Java threads in general.\r\n\r\nLet&#39;s say the run loop of a worker thread is doing this.  Reading bytes from a network stream and doing stuff with each chunk read.\r\n\r\n     class MyWorker implements Runnable {\r\n\r\n         boolean _exitFlag;\r\n         Thread _thread;\r\n         \r\n\r\n         void run()\r\n         {\r\n             HttpUrlConnection connection;\r\n             \r\n             // connection establishment not shown for brevity\r\n    \r\n             while(_exitFlag == false)\r\n             {\r\n                  InputStream stream = connection.getInputStream();\r\n                  int result;\r\n                  try\r\n                  {\r\n                      result = stream.read(bytearray);\r\n                      if (result == -1)\r\n                          break;\r\n                      processBytes(bytearray, result); \r\n                  }\r\n                  catch(IOException ioex)\r\n                  {\r\n                      break;                  \r\n                  }\r\n             }\r\n         }\r\n\r\n\r\nNow the other thread is ready to signal this thread to exit by calling another method on this class:\r\n\r\n    public void stop()\r\n    {\r\n        _exitFlag = true;\r\n        _thread.interrupt();\r\n        _thread.join();\r\n    }\r\n    \r\n\r\nIt&#39;s my understanding that the `_thread.interrupt` call will wake up the blocking io operation on the `stream.read` call with an exception derived from IOException.  That&#39;s assuming the thread is actually at that point in the code.\r\n\r\nLet&#39;s say the `stop` call was made immediately after the worker thread checked the `_exitFlag==false` condition but before it got to the subsequent `read` call?\r\n\r\n\r\nWill the subsequent call to `stream.read()` immediately throw an exception if the thread has a posted interrupt?  Or will it continue to block and wait for the IO operation to complete? In other words, is this a race condition?\r\n\r\nWhat is a good pattern for signaling a worker thread that may be in the middle of a long blocking io operation to exit?\r\n","title":"Calling thread.interrupt on a class in between io operations (is this a race condition)?","body":"<p>My question is specific to android, but I suspect is applies to Java threads in general.</p>\n\n<p>Let's say the run loop of a worker thread is doing this.  Reading bytes from a network stream and doing stuff with each chunk read.</p>\n\n<pre><code> class MyWorker implements Runnable {\n\n     boolean _exitFlag;\n     Thread _thread;\n\n\n     void run()\n     {\n         HttpUrlConnection connection;\n\n         // connection establishment not shown for brevity\n\n         while(_exitFlag == false)\n         {\n              InputStream stream = connection.getInputStream();\n              int result;\n              try\n              {\n                  result = stream.read(bytearray);\n                  if (result == -1)\n                      break;\n                  processBytes(bytearray, result); \n              }\n              catch(IOException ioex)\n              {\n                  break;                  \n              }\n         }\n     }\n</code></pre>\n\n<p>Now the other thread is ready to signal this thread to exit by calling another method on this class:</p>\n\n<pre><code>public void stop()\n{\n    _exitFlag = true;\n    _thread.interrupt();\n    _thread.join();\n}\n</code></pre>\n\n<p>It's my understanding that the <code>_thread.interrupt</code> call will wake up the blocking io operation on the <code>stream.read</code> call with an exception derived from IOException.  That's assuming the thread is actually at that point in the code.</p>\n\n<p>Let's say the <code>stop</code> call was made immediately after the worker thread checked the <code>_exitFlag==false</code> condition but before it got to the subsequent <code>read</code> call?</p>\n\n<p>Will the subsequent call to <code>stream.read()</code> immediately throw an exception if the thread has a posted interrupt?  Or will it continue to block and wait for the IO operation to complete? In other words, is this a race condition?</p>\n\n<p>What is a good pattern for signaling a worker thread that may be in the middle of a long blocking io operation to exit?</p>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1664718010,"post_id":73926211,"comment_id":130531247,"body_markdown":"Plase share the complete stacktrace","body":"Plase share the complete stacktrace"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1664719401,"post_id":73926211,"comment_id":130531487,"body_markdown":"@Jens I fixed the issue. I just shared with the solution.","body":"@Jens I fixed the issue. I just shared with the solution."}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664719477,"creation_date":1664719477,"answer_id":73926454,"question_id":73926211,"body_markdown":"Here is the solution shown below.\r\n\r\nAfter clicking **&quot;invalidate caches&quot;** and restarting the **Intellij IDEA**, the issue disappeared. ","title":"Spring Boot JUnit Test Define BaseRepositoryTest for its related repository Failed to load ApplicationContext","body":"<p>Here is the solution shown below.</p>\n<p>After clicking <strong>&quot;invalidate caches&quot;</strong> and restarting the <strong>Intellij IDEA</strong>, the issue disappeared.</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73926454,"answer_count":1,"score":0,"last_activity_date":1664719477,"creation_date":1664717311,"question_id":73926211,"body_markdown":"I have a problem about defining baserepositorytest class for annotation extending from another class.\r\n\r\nHere is the base repository test shown below.\r\n\r\n    @DataJpaTest\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n    @RunWith(SpringRunner.class)\r\n    public abstract class BaseRepositoryTests {\r\n    }\r\n\r\nHere is the repository test shown below.\r\n\r\n    public class BookRepositoryTests extends BaseRepositoryTests {\r\n    \r\n    }\r\n\r\nI got this error shown below.\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n\r\nHow can I fix it?\r\n","title":"Spring Boot JUnit Test Define BaseRepositoryTest for its related repository Failed to load ApplicationContext","body":"<p>I have a problem about defining baserepositorytest class for annotation extending from another class.</p>\n<p>Here is the base repository test shown below.</p>\n<pre><code>@DataJpaTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@RunWith(SpringRunner.class)\npublic abstract class BaseRepositoryTests {\n}\n</code></pre>\n<p>Here is the repository test shown below.</p>\n<pre><code>public class BookRepositoryTests extends BaseRepositoryTests {\n\n}\n</code></pre>\n<p>I got this error shown below.</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java","list","object","methods","extension-methods"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1664716016,"post_id":73925946,"comment_id":130530836,"body_markdown":"`public abstract class Man` but then `Man man1 = new Man(....)`.  How does this code even compile?  Where is the `List&lt;&gt;`?  Why use generics when no generic type is specified?","body":"<code>public abstract class Man</code> but then <code>Man man1 = new Man(....)</code>.  How does this code even compile?  Where is the <code>List&lt;&gt;</code>?  Why use generics when no generic type is specified?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1664718286,"post_id":73925946,"comment_id":130531301,"body_markdown":"You did not include `Ekstensja`, your exception handling is a problem (don&#39;t &#39;print and continue&#39; - no matter how often that anti-pattern shows up in examples), and you aren&#39;t using generics here (`extends Extension` is a problem; it needs to be `extends Extension&lt;Something&gt;`). The design in general seems problematic. I&#39;m not sure anybody can help you out without considerably more source code and information. Why did you design it this way, what are you trying to do, etcetera.","body":"You did not include <code>Ekstensja</code>, your exception handling is a problem (don&#39;t &#39;print and continue&#39; - no matter how often that anti-pattern shows up in examples), and you aren&#39;t using generics here (<code>extends Extension</code> is a problem; it needs to be <code>extends Extension&lt;Something&gt;</code>). The design in general seems problematic. I&#39;m not sure anybody can help you out without considerably more source code and information. Why did you design it this way, what are you trying to do, etcetera."},{"owner":{"account_id":26120231,"reputation":1,"user_id":19812652,"display_name":"johnmxc"},"score":0,"creation_date":1664719509,"post_id":73925946,"comment_id":130531516,"body_markdown":"I have list of Man and Woman in this classes but i write only List. yes now its correct code. What is wrong?","body":"I have list of Man and Woman in this classes but i write only List. yes now its correct code. What is wrong?"}],"owner":{"account_id":26120231,"reputation":1,"user_id":19812652,"display_name":"johnmxc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664719460,"creation_date":1664715102,"question_id":73925946,"body_markdown":"I have 3 classes and one when I store my lists. \r\n\r\n  \r\n\r\n      public class Extension&lt;T&gt; implements Serializable\r\n\r\nAnd 3 like this:\r\n\r\n        public abstract class Person extends Exstension implements Serializable {\r\n            // etc.\r\n        }\r\n    \r\n        public abstract class Man extends Person {\r\n    List&lt;Man&gt;...\r\n            // etc.\r\n        }\r\n    \r\n        public abstract class Woman extends Person {\r\n    List&lt;Woman&gt;...\r\n            // etc.\r\n        }\r\n\r\nIn Main class I have: \r\n\r\n    Man man1 = new Man(....);\r\n    Woman woman1 = new Woman(....);\r\n    \r\n    ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;Storage&quot;));\r\n    Extension.save(oos);\r\n    oos.close();\r\n    \r\n    try (ObjectInputStream ois = new ObjectInputStream(new FileInputStream(&quot;Storage&quot;))) {\r\n    \tExtension.load(ois);\r\n    } catch (Exception e) {\r\n    \tSystem.out.println(&quot;Brak ekstensji!&quot;);\r\n    }\r\n\t\r\nAnd when I want to read every man and woman in Like this:\r\n\r\n    System.out.println(Person.getExtension(Person.class));\r\n\r\nAnd its give me : null.\r\nWhat should I add to my code?  \r\nThanks!\r\n","title":"How to have a list from inheritance classes?","body":"<p>I have 3 classes and one when I store my lists.</p>\n<pre><code>  public class Extension&lt;T&gt; implements Serializable\n</code></pre>\n<p>And 3 like this:</p>\n<pre><code>    public abstract class Person extends Exstension implements Serializable {\n        // etc.\n    }\n\n    public abstract class Man extends Person {\nList&lt;Man&gt;...\n        // etc.\n    }\n\n    public abstract class Woman extends Person {\nList&lt;Woman&gt;...\n        // etc.\n    }\n</code></pre>\n<p>In Main class I have:</p>\n<pre><code>Man man1 = new Man(....);\nWoman woman1 = new Woman(....);\n\nObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;Storage&quot;));\nExtension.save(oos);\noos.close();\n\ntry (ObjectInputStream ois = new ObjectInputStream(new FileInputStream(&quot;Storage&quot;))) {\n    Extension.load(ois);\n} catch (Exception e) {\n    System.out.println(&quot;Brak ekstensji!&quot;);\n}\n</code></pre>\n<p>And when I want to read every man and woman in Like this:</p>\n<pre><code>System.out.println(Person.getExtension(Person.class));\n</code></pre>\n<p>And its give me : null.\nWhat should I add to my code?<br />\nThanks!</p>\n"},{"tags":["java","class","arraylist","getter-setter"],"comments":[{"owner":{"account_id":12215167,"reputation":412,"user_id":8915836,"display_name":"mayamar"},"score":0,"creation_date":1664720454,"post_id":73926422,"comment_id":130531720,"body_markdown":"If you want to use objects then it&#39;s a bit strange to split the data in several ArrayLists. Normally you would have a class Customer with three attributes sso, name and lastname with getters and setters and a toString()-method that formats the data the way you want it to get printed. Then you need a ArrayList&lt;Customer&gt;. If you want to print the customers you can just print the toString()-result or use the getter-methods of the class to create another format.","body":"If you want to use objects then it&#39;s a bit strange to split the data in several ArrayLists. Normally you would have a class Customer with three attributes sso, name and lastname with getters and setters and a toString()-method that formats the data the way you want it to get printed. Then you need a ArrayList&lt;Customer&gt;. If you want to print the customers you can just print the toString()-result or use the getter-methods of the class to create another format."},{"owner":{"account_id":26500824,"reputation":1,"user_id":20137812,"display_name":"Alien242"},"score":0,"creation_date":1664731768,"post_id":73926422,"comment_id":130534198,"body_markdown":"The thing is that going to be couple of more attributes attributes, like. So depending of the users role (customer, staff...), they can acess different data, add, remove etc.\nFor example staff can search for a person with a uniq social security number and edit their names.\nStaff can create an account to the customer. \nCustomer should be able to see it&#39;s account and if their is money there. etc.\n\nHave specification what the programme should  do and I&#39;m aware that professionellay, you wouldn&#39;t solve it like this. But this is to learn how to programme, how classes work, arraylist etc.","body":"The thing is that going to be couple of more attributes attributes, like. So depending of the users role (customer, staff...), they can acess different data, add, remove etc. For example staff can search for a person with a uniq social security number and edit their names. Staff can create an account to the customer.  Customer should be able to see it&#39;s account and if their is money there. etc.  Have specification what the programme should  do and I&#39;m aware that professionellay, you wouldn&#39;t solve it like this. But this is to learn how to programme, how classes work, arraylist etc."}],"owner":{"account_id":26500824,"reputation":1,"user_id":20137812,"display_name":"Alien242"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664719261,"creation_date":1664719261,"question_id":73926422,"body_markdown":"I doing a bigger school project (first part of basic objective programming in java - so not touched extended, polyphorism etc yet, thats next part), but run in to a small problem and tried for couple of days to find solution (thru books and internet). I constructed different ArrayLists in one class and different classes (at least two) should get access to them.\r\n\r\n    public class Customer \r\n    {\t\r\n    \t\r\n    \tpublic void subMenuCustomer() \r\n    \t{\r\n            ............code............\r\n            \r\n            int subMenuCust;\r\n    \t\tServiceLogic addCustomer = new ServiceLogic();\r\n    \t\tServiceLogic listAllCustomers = new ServiceLogic();\r\n    \t\twhile(true)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Please Choose your preference: &quot;);\r\n                System.out.println(&quot;Create account, press \\&quot;1\\&quot;: &quot;);\r\n                System.out.println(&quot;Get list of clustomers, press \\&quot;2\\&quot;: &quot;);\r\n    \t\t    System.out.println(&quot;Log out, press \\&quot;0\\&quot;: &quot;;\r\n                subMenuCust = input.nextInt();\r\n                switch(subMenuCust) \r\n                {\r\n                \tcase 1 ://Call method createCustomer in class ServiceTech to add new customers \r\n                \t\taddCustomer.createCustomer(name, lastname, ssNo);\r\n                        break;\r\n               \t   case 3 \r\n                  \t\tlistAllCustomers.getCustomer();\r\n        ............more code..............\r\n                  }\r\n            }\r\n\r\n   \r\nWhen user has added details (social secuity number, name and lastname) it is stored in seperate ArrayList. These three ArrayList are added(merge/concat) together to a fourth ArayList, `listCustomer` , so that all elements from the three ArrayList end up in same index [101 -54 Clark Kent, 242-42 Linus Thorvalds, ...]. \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    public class ServiceLogic \r\n    {\r\n    \t//Create new ArrayLists of Strings\r\n    \tprivate ArrayList&lt;String&gt; listSSNoCustomers = new ArrayList&lt;&gt;();\r\n    \tprivate ArrayList&lt;String&gt; listNameCustomers = new ArrayList&lt;&gt;();\r\n    \tprivate ArrayList&lt;String&gt; listLastnameCustomers = new ArrayList&lt;&gt;();\r\n    \tprivate ArrayList&lt;String&gt; listCustomers;\r\n\r\n    \tScanner input = new Scanner(System.in);\r\n    \r\n        public boolean createCustomer(String name, String lastname, String ssNo) //\r\n    \t{\r\n    \t\tSystem.out.println(&quot;Write social security number; &quot;);\r\n    \t\tssNo = input.next();\t\r\n    \t\t//loop to check that it is a uniq social security number\r\n    \t\tfor(String ssNumber : listSSNoCustomers)\r\n    \t\t{\r\n    \t\t\tif (ssNumber.equals(ssNo))\r\n    \t\t\t{\t\t\t\r\n    \t\t\t\tSystem.out.println(&quot;This customer already exist. Must be uniq social security number.&quot;);\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t}\t\r\n    \t\t//If social security number is not on list, add it \r\n    \t\t//and continue add first name and surname\r\n    \t\tlistSSNoCustomers.add(ssNo);\r\n    \t\tSystem.out.println(ssNo);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Write firstname; &quot;);\r\n    \t\tname = input.next();\r\n    \t\tlistNameCustomers.add(name);\r\n    \t\tSystem.out.println(name);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Write lastnamame; &quot;);\r\n    \t\tsurname = input.next();\t\r\n    \t\tlistSurnameCustomers.add(lastname);\r\n    \t\tSystem.out.println(lastname);\t\t\t\r\n    \t\treturn false;\r\n    \t}\r\n        public void setListCustomer(ArrayList&lt;String&gt; listCustomers)\r\n    \t{\r\n    \t\tthis.listCustomers = listCustomers;\r\n    \t}\r\n    \tpublic ArrayList&lt;String&gt; getCustomer()\r\n    \t{\r\n    \t\t//ArrayList&lt;String&gt; listCustomers = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt;listSSNoCustomers.size(); i++)\r\n    \t\t{\r\n    \t\t\tlistCustomers.add(listSSNoCustomers.get(i) + &quot; &quot; + listNameCustomers.get(i) + &quot; &quot; + listFirstnameCustomers.get(i));\r\n    \t\t}\r\n    \t\r\n    \t\tSystem.out.println(&quot;customer&quot; + listCustomers);\r\n    \t\t\t\r\n    \t\treturn listCustomers;\r\n         }\r\n    }\r\n\r\nAccording to the specification we got, when user want to see list of all customer the outputs should be in format **[666-66 Bruce Wayne, 242-42 Linus Thorvalds, ...]**.\r\nWhen user (staff) choose to enter details in `class Customer` ( `Case 1` ) it works and elements get stored in the Arraylists for social security numbers, name and lastname (have checked that) . \r\nThe problem: when I run I can add customers, but when I try to get a list of customer the output: **[]** . I tried different solution, but same output only empty between the brackets. \r\nSo the question, how do I get ouput to work when user choose `case 2` to get a list of all cutomers?     \t\t","title":"ArrayList in Class A and user trigger the output from Class B. How do I correctly get an output from an ArrayList?","body":"<p>I doing a bigger school project (first part of basic objective programming in java - so not touched extended, polyphorism etc yet, thats next part), but run in to a small problem and tried for couple of days to find solution (thru books and internet). I constructed different ArrayLists in one class and different classes (at least two) should get access to them.</p>\n<pre><code>public class Customer \n{   \n    \n    public void subMenuCustomer() \n    {\n        ............code............\n        \n        int subMenuCust;\n        ServiceLogic addCustomer = new ServiceLogic();\n        ServiceLogic listAllCustomers = new ServiceLogic();\n        while(true)\n        {\n            System.out.println(&quot;Please Choose your preference: &quot;);\n            System.out.println(&quot;Create account, press \\&quot;1\\&quot;: &quot;);\n            System.out.println(&quot;Get list of clustomers, press \\&quot;2\\&quot;: &quot;);\n            System.out.println(&quot;Log out, press \\&quot;0\\&quot;: &quot;;\n            subMenuCust = input.nextInt();\n            switch(subMenuCust) \n            {\n                case 1 ://Call method createCustomer in class ServiceTech to add new customers \n                    addCustomer.createCustomer(name, lastname, ssNo);\n                    break;\n               case 3 \n                    listAllCustomers.getCustomer();\n    ............more code..............\n              }\n        }\n</code></pre>\n<p>When user has added details (social secuity number, name and lastname) it is stored in seperate ArrayList. These three ArrayList are added(merge/concat) together to a fourth ArayList, <code>listCustomer</code> , so that all elements from the three ArrayList end up in same index [101 -54 Clark Kent, 242-42 Linus Thorvalds, ...].</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class ServiceLogic \n{\n    //Create new ArrayLists of Strings\n    private ArrayList&lt;String&gt; listSSNoCustomers = new ArrayList&lt;&gt;();\n    private ArrayList&lt;String&gt; listNameCustomers = new ArrayList&lt;&gt;();\n    private ArrayList&lt;String&gt; listLastnameCustomers = new ArrayList&lt;&gt;();\n    private ArrayList&lt;String&gt; listCustomers;\n\n    Scanner input = new Scanner(System.in);\n\n    public boolean createCustomer(String name, String lastname, String ssNo) //\n    {\n        System.out.println(&quot;Write social security number; &quot;);\n        ssNo = input.next();    \n        //loop to check that it is a uniq social security number\n        for(String ssNumber : listSSNoCustomers)\n        {\n            if (ssNumber.equals(ssNo))\n            {           \n                System.out.println(&quot;This customer already exist. Must be uniq social security number.&quot;);\n                return true;\n            }\n        }   \n        //If social security number is not on list, add it \n        //and continue add first name and surname\n        listSSNoCustomers.add(ssNo);\n        System.out.println(ssNo);\n        \n        System.out.println(&quot;Write firstname; &quot;);\n        name = input.next();\n        listNameCustomers.add(name);\n        System.out.println(name);\n        \n        System.out.println(&quot;Write lastnamame; &quot;);\n        surname = input.next(); \n        listSurnameCustomers.add(lastname);\n        System.out.println(lastname);           \n        return false;\n    }\n    public void setListCustomer(ArrayList&lt;String&gt; listCustomers)\n    {\n        this.listCustomers = listCustomers;\n    }\n    public ArrayList&lt;String&gt; getCustomer()\n    {\n        //ArrayList&lt;String&gt; listCustomers = new ArrayList&lt;&gt;();\n        \n        for(int i = 0; i &lt;listSSNoCustomers.size(); i++)\n        {\n            listCustomers.add(listSSNoCustomers.get(i) + &quot; &quot; + listNameCustomers.get(i) + &quot; &quot; + listFirstnameCustomers.get(i));\n        }\n    \n        System.out.println(&quot;customer&quot; + listCustomers);\n            \n        return listCustomers;\n     }\n}\n</code></pre>\n<p>According to the specification we got, when user want to see list of all customer the outputs should be in format <strong>[666-66 Bruce Wayne, 242-42 Linus Thorvalds, ...]</strong>.\nWhen user (staff) choose to enter details in <code>class Customer</code> ( <code>Case 1</code> ) it works and elements get stored in the Arraylists for social security numbers, name and lastname (have checked that) .\nThe problem: when I run I can add customers, but when I try to get a list of customer the output: <strong>[]</strong> . I tried different solution, but same output only empty between the brackets.\nSo the question, how do I get ouput to work when user choose <code>case 2</code> to get a list of all cutomers?</p>\n"},{"tags":["java","bufferedreader","filewriter"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":1,"creation_date":1664718024,"post_id":73925898,"comment_id":130531251,"body_markdown":"`close()` your `bufferedReader` and `bufferedWriter` at the end of your method.","body":"<code>close()</code> your <code>bufferedReader</code> and <code>bufferedWriter</code> at the end of your method."},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1664718157,"post_id":73925898,"comment_id":130531274,"body_markdown":"Also, look into https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html to prevent such errors.","body":"Also, look into <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/exceptions/&hellip;</a> to prevent such errors."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664718621,"creation_date":1664718621,"answer_id":73926345,"question_id":73925898,"body_markdown":"Resources are objects that represent something more than just some memory. For example, an open network connection, or an open file handle, or a live connection to a database.\r\n\r\nThose underlying things are __severely limited__. You can make a million objects. No problem. That DB isn&#39;t going to let you have more than about 50 open connections, though.\r\n\r\nSo, whilst objects you can just forget about (the garbage collector will eventually get around to cleaning that up), __resources are not like that__. You have to explicitly close them the moment you are done with them.\r\n\r\nYour problem is: You aren&#39;t doing that.\r\n\r\nThe only proper way to deal with resources is to ensure you close them _regardless_ of how your code flows. So, even if an exception occurs, even if you `return` in the middle of a method, the resource must be closed.\r\n\r\nIn addition, as the name suggests, a `BufferedWriter` __buffers__. Meaning, if you don&#39;t tell that writer to &#39;flush&#39; its buffer, you&#39;ll have half a CSV file on disk, with the other half still in that buffer.\r\n\r\nWe solve both problems in one swoop by writing this properly.\r\n\r\n```\r\ntry (\r\n  BufferedReader bufferedReader = new BufferedReader(new FileReader(fromFileName));\r\n  BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(toFileName, true))) {\r\n\r\n  .. use the stuff here ..\r\n}\r\n```\r\n\r\nThis construct (The `try` part) ensures that no matter how code exits the braces (be it by just getting to the end, or you `return` or `break` or `continue` out of it, or an exception happens), `.close()` will be called on those 2 items. That will cause the buffer to &#39;flush&#39; its data and then close the thing it wrapped (your `FileWriter`).\r\n\r\nNB: Calling `ready()` is not how you do this; ready is not what you use to check if there&#39;s still data to read. Instead, call `.readLine()`, and if that returns `null` - _that_ is the signal you got to the end of the file. You can use a `while(true)` and a `break` to do this, or for example `for (String readLine = in.readLine(); readLine != null; readLine = in.readLine()) {`\r\n","title":"FileSystemException The process cannot access the file because it is being used by another process Can&#39;t correctly clear result files after test","body":"<p>Resources are objects that represent something more than just some memory. For example, an open network connection, or an open file handle, or a live connection to a database.</p>\n<p>Those underlying things are <strong>severely limited</strong>. You can make a million objects. No problem. That DB isn't going to let you have more than about 50 open connections, though.</p>\n<p>So, whilst objects you can just forget about (the garbage collector will eventually get around to cleaning that up), <strong>resources are not like that</strong>. You have to explicitly close them the moment you are done with them.</p>\n<p>Your problem is: You aren't doing that.</p>\n<p>The only proper way to deal with resources is to ensure you close them <em>regardless</em> of how your code flows. So, even if an exception occurs, even if you <code>return</code> in the middle of a method, the resource must be closed.</p>\n<p>In addition, as the name suggests, a <code>BufferedWriter</code> <strong>buffers</strong>. Meaning, if you don't tell that writer to 'flush' its buffer, you'll have half a CSV file on disk, with the other half still in that buffer.</p>\n<p>We solve both problems in one swoop by writing this properly.</p>\n<pre><code>try (\n  BufferedReader bufferedReader = new BufferedReader(new FileReader(fromFileName));\n  BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(toFileName, true))) {\n\n  .. use the stuff here ..\n}\n</code></pre>\n<p>This construct (The <code>try</code> part) ensures that no matter how code exits the braces (be it by just getting to the end, or you <code>return</code> or <code>break</code> or <code>continue</code> out of it, or an exception happens), <code>.close()</code> will be called on those 2 items. That will cause the buffer to 'flush' its data and then close the thing it wrapped (your <code>FileWriter</code>).</p>\n<p>NB: Calling <code>ready()</code> is not how you do this; ready is not what you use to check if there's still data to read. Instead, call <code>.readLine()</code>, and if that returns <code>null</code> - <em>that</em> is the signal you got to the end of the file. You can use a <code>while(true)</code> and a <code>break</code> to do this, or for example <code>for (String readLine = in.readLine(); readLine != null; readLine = in.readLine()) {</code></p>\n"}],"owner":{"account_id":25294863,"reputation":1,"user_id":19120199,"display_name":"Юлія Царів"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664718621,"creation_date":1664714565,"question_id":73925898,"body_markdown":" I have a method that should accept data from one CSV file, change the data and transfer it to a new CSV file. But I get the following error. Why?\r\n\r\n```java\r\npublic void getStatistic(String fromFileName, String toFileName) throws IOException {\r\n    List &lt;String[]&gt; list = new ArrayList&lt;&gt;();\r\n    Set&lt;String&gt; set = new HashSet&lt;&gt;();\r\n    BufferedReader bufferedReader = new BufferedReader(new FileReader(fromFileName));\r\n    BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(toFileName,true));\r\n    while (bufferedReader.ready()) {\r\n        String[] rows = bufferedReader.readLine().split(&quot;,&quot;);\r\n        list.add(rows);\r\n    }\r\n    for (String[] str : list) {\r\n        set.add(str[0]);\r\n        for (String sk : str) {\r\n            System.out.println(&quot;1 &quot; + sk);\r\n        }\r\n    }\r\n    for (String sets : set) {\r\n        int num = 0;\r\n        for (String[] str : list) {\r\n            if (str[0].equals(sets)) {\r\n                num += Integer.parseInt(str[1]);\r\n            }\r\n            bufferedWriter.write(sets + &quot;,&quot; + num + &quot;\\n&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"FileSystemException The process cannot access the file because it is being used by another process Can&#39;t correctly clear result files after test","body":"<p>I have a method that should accept data from one CSV file, change the data and transfer it to a new CSV file. But I get the following error. Why?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void getStatistic(String fromFileName, String toFileName) throws IOException {\n    List &lt;String[]&gt; list = new ArrayList&lt;&gt;();\n    Set&lt;String&gt; set = new HashSet&lt;&gt;();\n    BufferedReader bufferedReader = new BufferedReader(new FileReader(fromFileName));\n    BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(toFileName,true));\n    while (bufferedReader.ready()) {\n        String[] rows = bufferedReader.readLine().split(&quot;,&quot;);\n        list.add(rows);\n    }\n    for (String[] str : list) {\n        set.add(str[0]);\n        for (String sk : str) {\n            System.out.println(&quot;1 &quot; + sk);\n        }\n    }\n    for (String sets : set) {\n        int num = 0;\n        for (String[] str : list) {\n            if (str[0].equals(sets)) {\n                num += Integer.parseInt(str[1]);\n            }\n            bufferedWriter.write(sets + &quot;,&quot; + num + &quot;\\n&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","sqlite","netbeans"],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664718535,"creation_date":1664718535,"answer_id":73926335,"question_id":73924373,"body_markdown":"There are 2 parts to this. You may already have done part 1, but I mention it for clarity. \r\n\r\n---\r\n\r\n**(1) The rqlite database**\r\n\r\nYou install rqlite (the relational database) separately from your Java project - just like you would install other relational database products separately. You can get pre-built binaries [here](https://github.com/rqlite/rqlite/releases) (see the &quot;Assets&quot; section) or you can build from source. \r\n\r\nNote that the pre-built binaries are only for Linux and Mac. Otherwise, see the notes for Windows in the above link, for more details.\r\n\r\nrqlite is also available via [Docker build](https://hub.docker.com/r/rqlite/rqlite/).\r\n\r\n---\r\n\r\n**(2) Accessing your rqlite database via Java**\r\n\r\nHere are two approaches:\r\n\r\n(a) You can use rqlite&#39;s [data API](https://github.com/rqlite/rqlite/blob/master/DOC/DATA_API.md) using any suitable HTTP client. Java has a [built-in HTTP client](https://openjdk.org/groups/net/httpclient/intro.html) from Java 11 onwards.\r\n\r\nThere is also a [Google HTTP client](https://github.com/googleapis/google-http-java-client) - and probably various other similar libraries.\r\n\r\nSo, with the above approach, there is no &quot;rqlite client&quot; JAR file.\r\n\r\n(b) Use the [rqlite-java](https://github.com/rqlite/rqlite-java) library you linked to in your question (I have never tried it). I see that this library uses Google&#39;s HTTP client, internally. In other words, it looks like it is a wrapper around the rqlite data API, mentioned above.\r\n\r\nThere does not appear to be a pre-built JAR for this library (at least not that I was able to find) so you will need to build that yourself from the GitHub repository. You can fork (copy) the repo into a new, separate Java project to build it on your machine, using Maven (or you can download all the source code as a zip file).\r\n\r\nIf you are not familiar with these GitHub &amp; Maven build processes, there are guides and tutorials to get you started.\r\n\r\nYou tagged your question as a NetBeans question - so you would create a &quot;Java with Maven&quot; project for this.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rNHbE.png","title":"How to install rqlite on a java project","body":"<p>There are 2 parts to this. You may already have done part 1, but I mention it for clarity.</p>\n<hr />\n<p><strong>(1) The rqlite database</strong></p>\n<p>You install rqlite (the relational database) separately from your Java project - just like you would install other relational database products separately. You can get pre-built binaries <a href=\"https://github.com/rqlite/rqlite/releases\" rel=\"nofollow noreferrer\">here</a> (see the &quot;Assets&quot; section) or you can build from source.</p>\n<p>Note that the pre-built binaries are only for Linux and Mac. Otherwise, see the notes for Windows in the above link, for more details.</p>\n<p>rqlite is also available via <a href=\"https://hub.docker.com/r/rqlite/rqlite/\" rel=\"nofollow noreferrer\">Docker build</a>.</p>\n<hr />\n<p><strong>(2) Accessing your rqlite database via Java</strong></p>\n<p>Here are two approaches:</p>\n<p>(a) You can use rqlite's <a href=\"https://github.com/rqlite/rqlite/blob/master/DOC/DATA_API.md\" rel=\"nofollow noreferrer\">data API</a> using any suitable HTTP client. Java has a <a href=\"https://openjdk.org/groups/net/httpclient/intro.html\" rel=\"nofollow noreferrer\">built-in HTTP client</a> from Java 11 onwards.</p>\n<p>There is also a <a href=\"https://github.com/googleapis/google-http-java-client\" rel=\"nofollow noreferrer\">Google HTTP client</a> - and probably various other similar libraries.</p>\n<p>So, with the above approach, there is no &quot;rqlite client&quot; JAR file.</p>\n<p>(b) Use the <a href=\"https://github.com/rqlite/rqlite-java\" rel=\"nofollow noreferrer\">rqlite-java</a> library you linked to in your question (I have never tried it). I see that this library uses Google's HTTP client, internally. In other words, it looks like it is a wrapper around the rqlite data API, mentioned above.</p>\n<p>There does not appear to be a pre-built JAR for this library (at least not that I was able to find) so you will need to build that yourself from the GitHub repository. You can fork (copy) the repo into a new, separate Java project to build it on your machine, using Maven (or you can download all the source code as a zip file).</p>\n<p>If you are not familiar with these GitHub &amp; Maven build processes, there are guides and tutorials to get you started.</p>\n<p>You tagged your question as a NetBeans question - so you would create a &quot;Java with Maven&quot; project for this.</p>\n<p><a href=\"https://i.stack.imgur.com/rNHbE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rNHbE.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19264602,"reputation":165,"user_id":14079792,"display_name":"dins88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73926335,"answer_count":1,"score":0,"last_activity_date":1664718535,"creation_date":1664699099,"question_id":73924373,"body_markdown":"I want to use `rqlite` for my sqlite database replication on a java desktop application. i have found a [java coding example in here][1]. But I have no idea how to add rqlite binary/library files to the project.\r\n\r\nI&#39;m using `Netbeans` `Ant` for create the project. I used add `jar` library files to the project. But I can&#39;t find any `jar` files for `rqlite`\r\n\r\nIf anyone here have any experience or knowledge, please let me know how to do it\r\n\r\nthanks in advance.\r\n\r\n\r\n  [1]: https://github.com/rqlite/rqlite-java","title":"How to install rqlite on a java project","body":"<p>I want to use <code>rqlite</code> for my sqlite database replication on a java desktop application. i have found a <a href=\"https://github.com/rqlite/rqlite-java\" rel=\"nofollow noreferrer\">java coding example in here</a>. But I have no idea how to add rqlite binary/library files to the project.</p>\n<p>I'm using <code>Netbeans</code> <code>Ant</code> for create the project. I used add <code>jar</code> library files to the project. But I can't find any <code>jar</code> files for <code>rqlite</code></p>\n<p>If anyone here have any experience or knowledge, please let me know how to do it</p>\n<p>thanks in advance.</p>\n"},{"tags":["java","android","android-pendingintent"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1664717154,"post_id":73926177,"comment_id":130531036,"body_markdown":"&quot;crashes activity (the program stops)&quot; -- use Logcat to examine the stack trace associated with your crash. I cover this process in [this chapter](https://commonsware.com/Jetpack/pages/chap-debug-001.html) of [this free book](https://commonsware.com/Jetpack).","body":"&quot;crashes activity (the program stops)&quot; -- use Logcat to examine the stack trace associated with your crash. I cover this process in <a href=\"https://commonsware.com/Jetpack/pages/chap-debug-001.html\" rel=\"nofollow noreferrer\">this chapter</a> of <a href=\"https://commonsware.com/Jetpack\" rel=\"nofollow noreferrer\">this free book</a>."}],"answers":[{"tags":[],"owner":{"account_id":24748739,"reputation":1,"user_id":18634548,"display_name":"domasb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664718432,"creation_date":1664718432,"answer_id":73926318,"question_id":73926177,"body_markdown":"Adding immutable flag solved the case. \r\n\r\n            pendingIntent = PendingIntent.getBroadcast(context, 0, alarmIntent, pendingIntent.FLAG_IMMUTABLE);\r\n","title":"initializing pending intent crashes activity (the program stops)","body":"<p>Adding immutable flag solved the case.</p>\n<pre><code>        pendingIntent = PendingIntent.getBroadcast(context, 0, alarmIntent, pendingIntent.FLAG_IMMUTABLE);\n</code></pre>\n"}],"owner":{"account_id":24748739,"reputation":1,"user_id":18634548,"display_name":"domasb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664718432,"creation_date":1664717079,"question_id":73926177,"body_markdown":"I am creating an alarm clock. I&#39;ve followed several examples, but none of them helped. When I delete the pendingIntent line activity works properly.\r\n\r\n```\r\npackage com.example.push_upalarmemptygit;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.AlarmManager;\r\nimport android.app.PendingIntent;\r\nimport android.app.TimePickerDialog;\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport java.util.Calendar;\r\n\r\npublic class SetAlarmActivity extends AppCompatActivity {\r\n\r\n    Context context;\r\n    private PendingIntent pendingIntent;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_set_alarm);\r\n\r\n         context = getApplicationContext();\r\n\r\n        Intent alarmIntent = new Intent(context, MyBroadcastReceiver.class);\r\n        pendingIntent = PendingIntent.getBroadcast(context, 0, alarmIntent, 0); //this is incorrect?\r\n\r\n       findViewById(R.id.setExact).setOnClickListener(new View.OnClickListener() {\r\n          @Override\r\n          public void onClick(View v) {\r\n              setExact();\r\n           }\r\n       });\r\n\r\n\r\n    }\r\n\r\n    public void setExact() {\r\n        AlarmManager manager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTimeInMillis(System.currentTimeMillis());\r\n        calendar.set(Calendar.HOUR_OF_DAY, 8);\r\n        calendar.set(Calendar.MINUTE, 30);\r\n\r\n\r\n        manager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\r\n        Toast.makeText(this, &quot;Alarm Set&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nI am following these guidelines from:\r\n&lt;https://javatechig.com/android/repeat-alarm-example-in-android-using-alarmmanager/&gt;\r\n&lt;https://developer.android.com/training/scheduling/alarms.html&gt;\r\n\r\n","title":"initializing pending intent crashes activity (the program stops)","body":"<p>I am creating an alarm clock. I've followed several examples, but none of them helped. When I delete the pendingIntent line activity works properly.</p>\n<pre><code>package com.example.push_upalarmemptygit;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.AlarmManager;\nimport android.app.PendingIntent;\nimport android.app.TimePickerDialog;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport java.util.Calendar;\n\npublic class SetAlarmActivity extends AppCompatActivity {\n\n    Context context;\n    private PendingIntent pendingIntent;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_set_alarm);\n\n         context = getApplicationContext();\n\n        Intent alarmIntent = new Intent(context, MyBroadcastReceiver.class);\n        pendingIntent = PendingIntent.getBroadcast(context, 0, alarmIntent, 0); //this is incorrect?\n\n       findViewById(R.id.setExact).setOnClickListener(new View.OnClickListener() {\n          @Override\n          public void onClick(View v) {\n              setExact();\n           }\n       });\n\n\n    }\n\n    public void setExact() {\n        AlarmManager manager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTimeInMillis(System.currentTimeMillis());\n        calendar.set(Calendar.HOUR_OF_DAY, 8);\n        calendar.set(Calendar.MINUTE, 30);\n\n\n        manager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\n        Toast.makeText(this, &quot;Alarm Set&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n\n}\n\n</code></pre>\n<p>I am following these guidelines from:\n<a href=\"https://javatechig.com/android/repeat-alarm-example-in-android-using-alarmmanager/\" rel=\"nofollow noreferrer\">https://javatechig.com/android/repeat-alarm-example-in-android-using-alarmmanager/</a>\n<a href=\"https://developer.android.com/training/scheduling/alarms.html\" rel=\"nofollow noreferrer\">https://developer.android.com/training/scheduling/alarms.html</a></p>\n"},{"tags":["java","maven","jenkins","java-7","jdk6"],"comments":[{"owner":{"account_id":148947,"reputation":7935,"user_id":361089,"accept_rate":63,"display_name":"Technext"},"score":0,"creation_date":1409805728,"post_id":25655283,"comment_id":40093558,"body_markdown":"When you run on the command line, do you run with the same user with which Jenkins runs? If not, please paste the output of $PATH from both command line and from Jenkins console output (`echo $PATH` just before the step where the compilation starts).","body":"When you run on the command line, do you run with the same user with which Jenkins runs? If not, please paste the output of $PATH from both command line and from Jenkins console output (<code>echo $PATH</code> just before the step where the compilation starts)."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1409811612,"post_id":25655283,"comment_id":40095352,"body_markdown":"Show full output of the error message and not only an excerpt. Which Maven version do you use and which version of the maven-compiler-plugin do you use?","body":"Show full output of the error message and not only an excerpt. Which Maven version do you use and which version of the maven-compiler-plugin do you use?"},{"owner":{"account_id":3699944,"reputation":153,"user_id":3080035,"display_name":"Antony"},"score":0,"creation_date":1410380945,"post_id":25655283,"comment_id":40308813,"body_markdown":"Added full error log from Jenkins, maven version info, and maven compiler plugin version.","body":"Added full error log from Jenkins, maven version info, and maven compiler plugin version."},{"owner":{"account_id":3699944,"reputation":153,"user_id":3080035,"display_name":"Antony"},"score":0,"creation_date":1410381629,"post_id":25655283,"comment_id":40309188,"body_markdown":"I&#39;ll add the info for which user it is successful as a bit later. Updated my Sonatype Nexus repository and deleted all my artifacts because they changed the directory structure a few versions back and I failed to update my script for updating Nexus, so the sonatype-work directory was lost. Have a few artifacts I need to redeploy for the build to succeed. Currently jenkins is running as &quot;git&quot;. It used to run as &quot;jenkins&quot;, but recently I started having problems accessing local repositories even though I had the credentials saved in Jenkins. Lots of problems cropping up recently it seems.","body":"I&#39;ll add the info for which user it is successful as a bit later. Updated my Sonatype Nexus repository and deleted all my artifacts because they changed the directory structure a few versions back and I failed to update my script for updating Nexus, so the sonatype-work directory was lost. Have a few artifacts I need to redeploy for the build to succeed. Currently jenkins is running as &quot;git&quot;. It used to run as &quot;jenkins&quot;, but recently I started having problems accessing local repositories even though I had the credentials saved in Jenkins. Lots of problems cropping up recently it seems."}],"answers":[{"tags":[],"owner":{"account_id":2047494,"reputation":519,"user_id":1827271,"display_name":"Matias Burni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480942224,"creation_date":1480942224,"answer_id":40974690,"question_id":25655283,"body_markdown":"You have an old java version. For example in my case I&#180;m compiling an old product so I have to keep the java deprecated version.\r\nSo the solution was to download a newest jdk and configure the JAVA_HOME in the slave.\r\nhttp://lmarccdk12.ptx.fr.sopra:14000/computer/&lt;slave&gt;/configure in the section Advanced/JavaPath=/root/jdk1.7.0_79/bin/java  (that&#180;s the version I chose)\r\n\r\nYou will see the following message in the slave launch log:\r\n[SSH] Starting slave process: cd &quot;/root&quot; &amp;&amp; /root/jdk1.7.0_79/bin/java  -jar slave.jar","title":"Unsupported Class Version during Maven build in Jenkins","body":"<p>You have an old java version. For example in my case I´m compiling an old product so I have to keep the java deprecated version.\nSo the solution was to download a newest jdk and configure the JAVA_HOME in the slave.\n<a href=\"http://lmarccdk12.ptx.fr.sopra:14000/computer/\" rel=\"nofollow noreferrer\">http://lmarccdk12.ptx.fr.sopra:14000/computer/</a>/configure in the section Advanced/JavaPath=/root/jdk1.7.0_79/bin/java  (that´s the version I chose)</p>\n\n<p>You will see the following message in the slave launch log:\n[SSH] Starting slave process: cd \"/root\" &amp;&amp; /root/jdk1.7.0_79/bin/java  -jar slave.jar</p>\n"},{"tags":[],"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664718365,"creation_date":1664718365,"answer_id":73926311,"question_id":25655283,"body_markdown":"Your Jenkins job is of type &quot;Maven project&quot;, and this job type has a limitation in that it cannot run a Maven build with a JDK version that is older than the Java version under which Jenkins is run. \r\n\r\nBeginning with Jenkins 2.357 (released on June 28, 2022) and the forthcoming 2.361.1 LTS release, Jenkins requires Java 11 or newer. Therefore, you can no longer run Maven projects with JDKs 1.6, 1.7 and 1.8. The minimum version is now Java 11.\r\n\r\nTo resolve this, you may:\r\n\r\n- Create a Freestyle project and use _Invoke top-level Maven targets_ to invoke Maven, or create a Jenkins Pipeline project. In both cases, using an older JDK will be possible. \r\n- Use JDK 11 but set source and target version to the older Java version. I haven&#39;t tried that though, and I believe this option may cause other trouble.\r\n\r\nFor further information, see also [Jenkins requires Java 11 or newer](https://www.jenkins.io/blog/2022/06/28/require-java-11/) and [Maven Builds Fails After Upgrade](https://community.jenkins.io/t/maven-builds-fails-after-upgrade/3850/2)","title":"Unsupported Class Version during Maven build in Jenkins","body":"<p>Your Jenkins job is of type &quot;Maven project&quot;, and this job type has a limitation in that it cannot run a Maven build with a JDK version that is older than the Java version under which Jenkins is run.</p>\n<p>Beginning with Jenkins 2.357 (released on June 28, 2022) and the forthcoming 2.361.1 LTS release, Jenkins requires Java 11 or newer. Therefore, you can no longer run Maven projects with JDKs 1.6, 1.7 and 1.8. The minimum version is now Java 11.</p>\n<p>To resolve this, you may:</p>\n<ul>\n<li>Create a Freestyle project and use <em>Invoke top-level Maven targets</em> to invoke Maven, or create a Jenkins Pipeline project. In both cases, using an older JDK will be possible.</li>\n<li>Use JDK 11 but set source and target version to the older Java version. I haven't tried that though, and I believe this option may cause other trouble.</li>\n</ul>\n<p>For further information, see also <a href=\"https://www.jenkins.io/blog/2022/06/28/require-java-11/\" rel=\"nofollow noreferrer\">Jenkins requires Java 11 or newer</a> and <a href=\"https://community.jenkins.io/t/maven-builds-fails-after-upgrade/3850/2\" rel=\"nofollow noreferrer\">Maven Builds Fails After Upgrade</a></p>\n"}],"owner":{"account_id":3699944,"reputation":153,"user_id":3080035,"display_name":"Antony"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3502,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1664718365,"creation_date":1409788062,"question_id":25655283,"body_markdown":"I&#39;ve seen a few of these questions on here, but none of the solutions/tips seem to be pointing me in the right direction. So I have 3 JDK&#39;s installed in the locations of &quot;/opt/java/6&quot;, &quot;/opt/java/7&quot;, and &quot;/opt/java/8&quot;. All of these are set in the global Jenkins configuration. Jenkins itself is run using Java 8 which is the system default JRE that I set manually through alternatives (I&#39;m using CentOS 7). I had a bunch of old projects that are built using maven and the maven compiler plugin which is set to source=1.6 target=1.6 . Every time I try to execute a build with the Java 6 JDK I get \r\n&gt;` Started by user Antony Prince`  \r\n&gt;` ln builds/lastSuccessfulBuild /var/lib/jenkins/jobs/BitCalculator/lastSuccessful failed`  \r\n&gt;` java.nio.file.DirectoryNotEmptyException: /var/lib/jenkins/jobs/BitCalculator/lastSuccessful`  \r\n&gt;` \tat sun.nio.fs.UnixFileSystemProvider.implDelete(UnixFileSystemProvider.java:242)`  \r\n&gt;` \tat sun.nio.fs.AbstractFileSystemProvider.deleteIfExists(AbstractFileSystemProvider.java:108)`  \r\n&gt;` \tat java.nio.file.Files.deleteIfExists(Files.java:1165)`  \r\n&gt;` \tat sun.reflect.GeneratedMethodAccessor20.invoke(Unknown Source)`  \r\n&gt;` \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)`  \r\n&gt;` \tat java.lang.reflect.Method.invoke(Method.java:483)`  \r\n&gt;` \tat hudson.Util.createSymlinkJava7(Util.java:1194)`  \r\n&gt;` \tat hudson.Util.createSymlink(Util.java:1112)`  \r\n&gt;` \tat hudson.model.Run.createSymlink(Run.java:1851)`  \r\n&gt;` \tat hudson.model.Run.updateSymlinks(Run.java:1832)`  \r\n&gt;` \tat hudson.model.Run.execute(Run.java:1743)`  \r\n&gt;` \tat hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:529)`  \r\n&gt;` \tat hudson.model.ResourceController.execute(ResourceController.java:89)`  \r\n&gt;` \tat hudson.model.Executor.run(Executor.java:240)`  \r\n&gt;` ln builds/lastStableBuild /var/lib/jenkins/jobs/BitCalculator/lastStable failed`  \r\n&gt;` java.nio.file.DirectoryNotEmptyException: /var/lib/jenkins/jobs/BitCalculator/lastStable`  \r\n&gt;` \tat sun.nio.fs.UnixFileSystemProvider.implDelete(UnixFileSystemProvider.java:242)`  \r\n&gt;` \tat sun.nio.fs.AbstractFileSystemProvider.deleteIfExists(AbstractFileSystemProvider.java:108)`  \r\n&gt;` \tat java.nio.file.Files.deleteIfExists(Files.java:1165)`  \r\n&gt;` \tat sun.reflect.GeneratedMethodAccessor20.invoke(Unknown Source)`  \r\n&gt;` \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)`  \r\n&gt;` \tat java.lang.reflect.Method.invoke(Method.java:483)`  \r\n&gt;` \tat hudson.Util.createSymlinkJava7(Util.java:1194)`  \r\n&gt;` \tat hudson.Util.createSymlink(Util.java:1112)`  \r\n&gt;` \tat hudson.model.Run.createSymlink(Run.java:1851)`  \r\n&gt;` \tat hudson.model.Run.updateSymlinks(Run.java:1833)`  \r\n&gt;` \tat hudson.model.Run.execute(Run.java:1743)`  \r\n&gt;` \tat hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:529)`  \r\n&gt;` \tat hudson.model.ResourceController.execute(ResourceController.java:89)`  \r\n&gt;` \tat hudson.model.Executor.run(Executor.java:240)`  \r\n&gt;` Building in workspace /var/lib/jenkins/workspace/BitCalculator`  \r\n&gt;`  &gt; git rev-parse --is-inside-work-tree # timeout=10`  \r\n&gt;` Fetching changes from the remote Git repository`  \r\n&gt;` &gt; git config remote.origin.url /home/git/repositories/java/BitCalculator.git # timeout=10`  \r\n&gt;` Fetching upstream changes from /home/git/repositories/java/BitCalculator.git`  \r\n&gt;`  &gt; git --version # timeout=10`  \r\n&gt;`  &gt; git fetch --tags --progress /home/git/repositories/java/BitCalculator.git +refs/heads/*:refs/remotes/origin/*`  \r\n&gt;`  &gt; git rev-parse origin/master^{commit} # timeout=10`  \r\n&gt;` Checking out Revision 4f119f7783cc4ff00e5bf9bb27850ae7698d4fe8 (origin/master)`  \r\n&gt;`  &gt; git config core.sparsecheckout # timeout=10`  \r\n&gt;`  &gt; git checkout -f 4f119f7783cc4ff00e5bf9bb27850ae7698d4fe8`  \r\n&gt;`  &gt; git rev-list 4f119f7783cc4ff00e5bf9bb27850ae7698d4fe8 # timeout=10`  \r\n&gt;` Parsing POMs`  \r\n&gt;` [BitCalculator] $ /opt/java/6/bin/java -Djava.awt.headless=true -cp /var/lib/jenkins/plugins/maven-plugin/WEB-INF/lib/maven3-agent-1.5.jar:/usr/share/maven/boot/plexus-classworlds.jar org.jvnet.hudson.maven3.agent.Maven3Main /usr/share/maven /var/lib/jenkins/war/WEB-INF/lib/remoting-2.44.jar /var/lib/jenkins/plugins/maven-plugin/WEB-INF/lib/maven3-interceptor-1.5.jar /var/lib/jenkins/plugins/maven-plugin/WEB-INF/lib/maven3-interceptor-commons-1.5.jar 56445`  \r\n&gt;` &lt;===[JENKINS REMOTING CAPACITY]===&gt;channel started`  \r\n&gt;` Executing Maven:  -B -f /var/lib/jenkins/workspace/BitCalculator/pom.xml -P sign clean deploy`  \r\n&gt;` java.lang.reflect.InvocationTargetException`  \r\n&gt;` \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)`  \r\n&gt;` \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)`  \r\n&gt;` \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)`  \r\n&gt;` \tat java.lang.reflect.Method.invoke(Method.java:597)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchStandard(Launcher.java:331)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:239)`  \r\n&gt;` \tat org.jvnet.hudson.maven3.agent.Maven3Main.launch(Maven3Main.java:178)`  \r\n&gt;` \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)`  \r\n&gt;` \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)`  \r\n&gt;` \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)`  \r\n&gt;` \tat java.lang.reflect.Method.invoke(Method.java:597)`  \r\n&gt;` \tat hudson.maven.Maven3Builder.call(Maven3Builder.java:134)`  \r\n&gt;` \tat hudson.maven.Maven3Builder.call(Maven3Builder.java:69)`  \r\n&gt;` \tat hudson.remoting.UserRequest.perform(UserRequest.java:118)`  \r\n&gt;` \tat hudson.remoting.UserRequest.perform(UserRequest.java:48)`  \r\n&gt;` \tat hudson.remoting.Request$2.run(Request.java:328)`  \r\n&gt;` \tat hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)`  \r\n&gt;` \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)`  \r\n&gt;` \tat java.util.concurrent.FutureTask.run(FutureTask.java:138)`  \r\n&gt;` \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)`  \r\n&gt;` \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)`  \r\n&gt;` \tat java.lang.Thread.run(Thread.java:662)`  \r\n&gt;` Caused by: java.lang.UnsupportedClassVersionError: javax/inject/Provider : Unsupported major.minor version 51.0`  \r\n&gt;` \tat java.lang.ClassLoader.defineClass1(Native Method)`  \r\n&gt;` \tat java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)`  \r\n&gt;` \tat java.lang.ClassLoader.defineClass(ClassLoader.java:615)`  \r\n&gt;` \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)`  \r\n&gt;` \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:283)`  \r\n&gt;` \tat java.net.URLClassLoader.access$000(URLClassLoader.java:58)`  \r\n&gt;` \tat java.net.URLClassLoader$1.run(URLClassLoader.java:197)`  \r\n&gt;` \tat java.security.AccessController.doPrivileged(Native Method)`  \r\n&gt;` \tat java.net.URLClassLoader.findClass(URLClassLoader.java:190)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:386)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:244)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:230)`  \r\n&gt;` \tat org.jvnet.hudson.maven3.launcher.Maven3Launcher.main(Maven3Launcher.java:86)`  \r\n&gt;` \t... 22 more`  \r\n&gt;` channel stopped`  \r\n&gt;` [BitCalculator] $ /bin/sh -xe /tmp/hudson6524656470722686910.sh`  \r\n&gt;` + rm &#39;target/*no_deps*&#39;`  \r\n&gt;` rm: cannot remove &#39;target/*no_deps*&#39;: No such file or directory`  \r\n&gt;` Build step &#39;Execute shell&#39; marked build as failure`  \r\n&gt;` ERROR: Failed to parse POMs`  \r\n&gt;` hudson.util.IOException2: java.lang.reflect.InvocationTargetException`  \r\n&gt;` \tat hudson.maven.Maven3Builder.call(Maven3Builder.java:178)`  \r\n&gt;` \tat hudson.maven.Maven3Builder.call(Maven3Builder.java:69)`  \r\n&gt;` \tat hudson.remoting.UserRequest.perform(UserRequest.java:118)`  \r\n&gt;` \tat hudson.remoting.UserRequest.perform(UserRequest.java:48)`  \r\n&gt;` \tat hudson.remoting.Request$2.run(Request.java:328)`  \r\n&gt;` \tat hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)`  \r\n&gt;` \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)`  \r\n&gt;` \tat java.util.concurrent.FutureTask.run(FutureTask.java:138)`  \r\n&gt;` \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)`  \r\n&gt;` \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)`  \r\n&gt;` \tat java.lang.Thread.run(Thread.java:662)`  \r\n&gt;` Caused by: java.lang.reflect.InvocationTargetException`  \r\n&gt;` \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)`  \r\n&gt;` \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)`  \r\n&gt;` \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)`  \r\n&gt;` \tat java.lang.reflect.Method.invoke(Method.java:597)`  \r\n&gt;` \tat hudson.maven.Maven3Builder.call(Maven3Builder.java:134)`  \r\n&gt;` \t... 10 more`  \r\n&gt;` Caused by: java.lang.Exception: java.lang.reflect.InvocationTargetException`  \r\n&gt;` \tat org.jvnet.hudson.maven3.agent.Maven3Main.launch(Maven3Main.java:181)`  \r\n&gt;` \t... 15 more`  \r\n&gt;` Caused by: java.lang.reflect.InvocationTargetException`  \r\n&gt;` \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)`  \r\n&gt;` \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)`  \r\n&gt;` \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)`  \r\n&gt;` \tat java.lang.reflect.Method.invoke(Method.java:597)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchStandard(Launcher.java:331)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:239)`  \r\n&gt;` \tat org.jvnet.hudson.maven3.agent.Maven3Main.launch(Maven3Main.java:178)`  \r\n&gt;` \t... 15 more`  \r\n&gt;` Caused by: java.lang.UnsupportedClassVersionError: javax/inject/Provider : Unsupported major.minor version 51.0`  \r\n&gt;` \tat java.lang.ClassLoader.defineClass1(Native Method)`  \r\n&gt;` \tat java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)`  \r\n&gt;` \tat java.lang.ClassLoader.defineClass(ClassLoader.java:615)`  \r\n&gt;` \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)`  \r\n&gt;` \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:283)`  \r\n&gt;` \tat java.net.URLClassLoader.access$000(URLClassLoader.java:58)`  \r\n&gt;` \tat java.net.URLClassLoader$1.run(URLClassLoader.java:197)`  \r\n&gt;` \tat java.security.AccessController.doPrivileged(Native Method)`  \r\n&gt;` \tat java.net.URLClassLoader.findClass(URLClassLoader.java:190)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:386)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:244)`  \r\n&gt;` \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:230)`  \r\n&gt;` \tat org.jvnet.hudson.maven3.launcher.Maven3Launcher.main(Maven3Launcher.java:86)`  \r\n&gt;` \t... 22 more`  \r\n&gt;` Archiving artifacts`  \r\n&gt;` Sending e-mails to: antony@blazrsoft.com`  \r\n&gt;` Finished: FAILURE`   \r\n\r\nThis indicates that there&#39;s Java 7 interfering somewhere, but I&#39;m not sure where.\r\nThe code is 1.6 compliant and most of the projects have no dependencies, so I&#39;m not sure why this is happening. If I execute maven outside of Jenkins, the projects build just fine with JDK 6, so its leading me to think there&#39;s a misconfiguration in Jenkins somewhere, but I&#39;m not sure where since everything seems to be as it should be. The paths to the JDKs are set properly in the global config and the projects themselves are set to use the specified JDK&#39;s. I apologize if its a duplicate question or something silly, but I&#39;ve been trying to figure this out for days with no results. Everyone just says to check the paths and make sure there are no dependent artifacts built with a later JDK and I&#39;m sure that this is not the problem.\r\n  \r\n`$ mvn -version`  \r\n`Apache Maven 3.0.5 (Red Hat 3.0.5-16)`  \r\n`Maven home: /usr/share/maven`  \r\n`Java version: 1.8.0_20, vendor: Oracle Corporation`  \r\n`Java home: /opt/java/8/jre`  \r\n`Default locale: en_US, platform encoding: ANSI_X3.4-1968`  \r\n`OS name: &quot;linux&quot;, version: &quot;2.6.32-openvz-042stab090.5-amd64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;`  \r\n  \r\n`&lt;plugin&gt;`  \r\n`    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;`  \r\n`    &lt;version&gt;3.1&lt;/version&gt;`  \r\n`    &lt;configuration&gt;`  \r\n`        &lt;encoding&gt;UTF-8&lt;/encoding&gt;`  \r\n`        &lt;source&gt;1.6&lt;/source&gt;`  \r\n`        &lt;target&gt;1.6&lt;/target&gt;`  \r\n`        &lt;compilerVersion&gt;1.6&lt;/compilerVersion&gt;`  \r\n`    &lt;/configuration&gt;`  \r\n`&lt;/plugin&gt;`  \r\n","title":"Unsupported Class Version during Maven build in Jenkins","body":"<p>I've seen a few of these questions on here, but none of the solutions/tips seem to be pointing me in the right direction. So I have 3 JDK's installed in the locations of \"/opt/java/6\", \"/opt/java/7\", and \"/opt/java/8\". All of these are set in the global Jenkins configuration. Jenkins itself is run using Java 8 which is the system default JRE that I set manually through alternatives (I'm using CentOS 7). I had a bunch of old projects that are built using maven and the maven compiler plugin which is set to source=1.6 target=1.6 . Every time I try to execute a build with the Java 6 JDK I get </p>\n\n<blockquote>\n  <p><code>Started by user Antony Prince</code><br>\n  <code>ln builds/lastSuccessfulBuild /var/lib/jenkins/jobs/BitCalculator/lastSuccessful failed</code><br>\n  <code>java.nio.file.DirectoryNotEmptyException: /var/lib/jenkins/jobs/BitCalculator/lastSuccessful</code><br>\n  <code>at sun.nio.fs.UnixFileSystemProvider.implDelete(UnixFileSystemProvider.java:242)</code><br>\n  <code>at sun.nio.fs.AbstractFileSystemProvider.deleteIfExists(AbstractFileSystemProvider.java:108)</code><br>\n  <code>at java.nio.file.Files.deleteIfExists(Files.java:1165)</code><br>\n  <code>at sun.reflect.GeneratedMethodAccessor20.invoke(Unknown Source)</code><br>\n  <code>at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</code><br>\n  <code>at java.lang.reflect.Method.invoke(Method.java:483)</code><br>\n  <code>at hudson.Util.createSymlinkJava7(Util.java:1194)</code><br>\n  <code>at hudson.Util.createSymlink(Util.java:1112)</code><br>\n  <code>at hudson.model.Run.createSymlink(Run.java:1851)</code><br>\n  <code>at hudson.model.Run.updateSymlinks(Run.java:1832)</code><br>\n  <code>at hudson.model.Run.execute(Run.java:1743)</code><br>\n  <code>at hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:529)</code><br>\n  <code>at hudson.model.ResourceController.execute(ResourceController.java:89)</code><br>\n  <code>at hudson.model.Executor.run(Executor.java:240)</code><br>\n  <code>ln builds/lastStableBuild /var/lib/jenkins/jobs/BitCalculator/lastStable failed</code><br>\n  <code>java.nio.file.DirectoryNotEmptyException: /var/lib/jenkins/jobs/BitCalculator/lastStable</code><br>\n  <code>at sun.nio.fs.UnixFileSystemProvider.implDelete(UnixFileSystemProvider.java:242)</code><br>\n  <code>at sun.nio.fs.AbstractFileSystemProvider.deleteIfExists(AbstractFileSystemProvider.java:108)</code><br>\n  <code>at java.nio.file.Files.deleteIfExists(Files.java:1165)</code><br>\n  <code>at sun.reflect.GeneratedMethodAccessor20.invoke(Unknown Source)</code><br>\n  <code>at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</code><br>\n  <code>at java.lang.reflect.Method.invoke(Method.java:483)</code><br>\n  <code>at hudson.Util.createSymlinkJava7(Util.java:1194)</code><br>\n  <code>at hudson.Util.createSymlink(Util.java:1112)</code><br>\n  <code>at hudson.model.Run.createSymlink(Run.java:1851)</code><br>\n  <code>at hudson.model.Run.updateSymlinks(Run.java:1833)</code><br>\n  <code>at hudson.model.Run.execute(Run.java:1743)</code><br>\n  <code>at hudson.maven.MavenModuleSetBuild.run(MavenModuleSetBuild.java:529)</code><br>\n  <code>at hudson.model.ResourceController.execute(ResourceController.java:89)</code><br>\n  <code>at hudson.model.Executor.run(Executor.java:240)</code><br>\n  <code>Building in workspace /var/lib/jenkins/workspace/BitCalculator</code><br>\n  <code>&gt; git rev-parse --is-inside-work-tree # timeout=10</code><br>\n  <code>Fetching changes from the remote Git repository</code><br>\n  <code>&gt; git config remote.origin.url /home/git/repositories/java/BitCalculator.git # timeout=10</code><br>\n  <code>Fetching upstream changes from /home/git/repositories/java/BitCalculator.git</code><br>\n  <code>&gt; git --version # timeout=10</code><br>\n  <code>&gt; git fetch --tags --progress /home/git/repositories/java/BitCalculator.git +refs/heads/*:refs/remotes/origin/*</code><br>\n  <code>&gt; git rev-parse origin/master^{commit} # timeout=10</code><br>\n  <code>Checking out Revision 4f119f7783cc4ff00e5bf9bb27850ae7698d4fe8 (origin/master)</code><br>\n  <code>&gt; git config core.sparsecheckout # timeout=10</code><br>\n  <code>&gt; git checkout -f 4f119f7783cc4ff00e5bf9bb27850ae7698d4fe8</code><br>\n  <code>&gt; git rev-list 4f119f7783cc4ff00e5bf9bb27850ae7698d4fe8 # timeout=10</code><br>\n  <code>Parsing POMs</code><br>\n  <code>[BitCalculator] $ /opt/java/6/bin/java -Djava.awt.headless=true -cp /var/lib/jenkins/plugins/maven-plugin/WEB-INF/lib/maven3-agent-1.5.jar:/usr/share/maven/boot/plexus-classworlds.jar org.jvnet.hudson.maven3.agent.Maven3Main /usr/share/maven /var/lib/jenkins/war/WEB-INF/lib/remoting-2.44.jar /var/lib/jenkins/plugins/maven-plugin/WEB-INF/lib/maven3-interceptor-1.5.jar /var/lib/jenkins/plugins/maven-plugin/WEB-INF/lib/maven3-interceptor-commons-1.5.jar 56445</code><br>\n  <code>&lt;===[JENKINS REMOTING CAPACITY]===&gt;channel started</code><br>\n  <code>Executing Maven:  -B -f /var/lib/jenkins/workspace/BitCalculator/pom.xml -P sign clean deploy</code><br>\n  <code>java.lang.reflect.InvocationTargetException</code><br>\n  <code>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</code><br>\n  <code>at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</code><br>\n  <code>at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</code><br>\n  <code>at java.lang.reflect.Method.invoke(Method.java:597)</code><br>\n  <code>at org.codehaus.plexus.classworlds.launcher.Launcher.launchStandard(Launcher.java:331)</code><br>\n  <code>at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:239)</code><br>\n  <code>at org.jvnet.hudson.maven3.agent.Maven3Main.launch(Maven3Main.java:178)</code><br>\n  <code>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</code><br>\n  <code>at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</code><br>\n  <code>at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</code><br>\n  <code>at java.lang.reflect.Method.invoke(Method.java:597)</code><br>\n  <code>at hudson.maven.Maven3Builder.call(Maven3Builder.java:134)</code><br>\n  <code>at hudson.maven.Maven3Builder.call(Maven3Builder.java:69)</code><br>\n  <code>at hudson.remoting.UserRequest.perform(UserRequest.java:118)</code><br>\n  <code>at hudson.remoting.UserRequest.perform(UserRequest.java:48)</code><br>\n  <code>at hudson.remoting.Request$2.run(Request.java:328)</code><br>\n  <code>at hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)</code><br>\n  <code>at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)</code><br>\n  <code>at java.util.concurrent.FutureTask.run(FutureTask.java:138)</code><br>\n  <code>at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)</code><br>\n  <code>at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)</code><br>\n  <code>at java.lang.Thread.run(Thread.java:662)</code><br>\n  <code>Caused by: java.lang.UnsupportedClassVersionError: javax/inject/Provider : Unsupported major.minor version 51.0</code><br>\n  <code>at java.lang.ClassLoader.defineClass1(Native Method)</code><br>\n  <code>at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)</code><br>\n  <code>at java.lang.ClassLoader.defineClass(ClassLoader.java:615)</code><br>\n  <code>at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)</code><br>\n  <code>at java.net.URLClassLoader.defineClass(URLClassLoader.java:283)</code><br>\n  <code>at java.net.URLClassLoader.access$000(URLClassLoader.java:58)</code><br>\n  <code>at java.net.URLClassLoader$1.run(URLClassLoader.java:197)</code><br>\n  <code>at java.security.AccessController.doPrivileged(Native Method)</code><br>\n  <code>at java.net.URLClassLoader.findClass(URLClassLoader.java:190)</code><br>\n  <code>at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:386)</code><br>\n  <code>at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)</code><br>\n  <code>at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:244)</code><br>\n  <code>at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:230)</code><br>\n  <code>at org.jvnet.hudson.maven3.launcher.Maven3Launcher.main(Maven3Launcher.java:86)</code><br>\n  <code>... 22 more</code><br>\n  <code>channel stopped</code><br>\n  <code>[BitCalculator] $ /bin/sh -xe /tmp/hudson6524656470722686910.sh</code><br>\n  <code>+ rm 'target/*no_deps*'</code><br>\n  <code>rm: cannot remove 'target/*no_deps*': No such file or directory</code><br>\n  <code>Build step 'Execute shell' marked build as failure</code><br>\n  <code>ERROR: Failed to parse POMs</code><br>\n  <code>hudson.util.IOException2: java.lang.reflect.InvocationTargetException</code><br>\n  <code>at hudson.maven.Maven3Builder.call(Maven3Builder.java:178)</code><br>\n  <code>at hudson.maven.Maven3Builder.call(Maven3Builder.java:69)</code><br>\n  <code>at hudson.remoting.UserRequest.perform(UserRequest.java:118)</code><br>\n  <code>at hudson.remoting.UserRequest.perform(UserRequest.java:48)</code><br>\n  <code>at hudson.remoting.Request$2.run(Request.java:328)</code><br>\n  <code>at hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:72)</code><br>\n  <code>at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)</code><br>\n  <code>at java.util.concurrent.FutureTask.run(FutureTask.java:138)</code><br>\n  <code>at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)</code><br>\n  <code>at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)</code><br>\n  <code>at java.lang.Thread.run(Thread.java:662)</code><br>\n  <code>Caused by: java.lang.reflect.InvocationTargetException</code><br>\n  <code>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</code><br>\n  <code>at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</code><br>\n  <code>at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</code><br>\n  <code>at java.lang.reflect.Method.invoke(Method.java:597)</code><br>\n  <code>at hudson.maven.Maven3Builder.call(Maven3Builder.java:134)</code><br>\n  <code>... 10 more</code><br>\n  <code>Caused by: java.lang.Exception: java.lang.reflect.InvocationTargetException</code><br>\n  <code>at org.jvnet.hudson.maven3.agent.Maven3Main.launch(Maven3Main.java:181)</code><br>\n  <code>... 15 more</code><br>\n  <code>Caused by: java.lang.reflect.InvocationTargetException</code><br>\n  <code>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</code><br>\n  <code>at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</code><br>\n  <code>at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</code><br>\n  <code>at java.lang.reflect.Method.invoke(Method.java:597)</code><br>\n  <code>at org.codehaus.plexus.classworlds.launcher.Launcher.launchStandard(Launcher.java:331)</code><br>\n  <code>at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:239)</code><br>\n  <code>at org.jvnet.hudson.maven3.agent.Maven3Main.launch(Maven3Main.java:178)</code><br>\n  <code>... 15 more</code><br>\n  <code>Caused by: java.lang.UnsupportedClassVersionError: javax/inject/Provider : Unsupported major.minor version 51.0</code><br>\n  <code>at java.lang.ClassLoader.defineClass1(Native Method)</code><br>\n  <code>at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)</code><br>\n  <code>at java.lang.ClassLoader.defineClass(ClassLoader.java:615)</code><br>\n  <code>at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)</code><br>\n  <code>at java.net.URLClassLoader.defineClass(URLClassLoader.java:283)</code><br>\n  <code>at java.net.URLClassLoader.access$000(URLClassLoader.java:58)</code><br>\n  <code>at java.net.URLClassLoader$1.run(URLClassLoader.java:197)</code><br>\n  <code>at java.security.AccessController.doPrivileged(Native Method)</code><br>\n  <code>at java.net.URLClassLoader.findClass(URLClassLoader.java:190)</code><br>\n  <code>at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClassFromSelf(ClassRealm.java:386)</code><br>\n  <code>at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:42)</code><br>\n  <code>at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:244)</code><br>\n  <code>at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:230)</code><br>\n  <code>at org.jvnet.hudson.maven3.launcher.Maven3Launcher.main(Maven3Launcher.java:86)</code><br>\n  <code>... 22 more</code><br>\n  <code>Archiving artifacts</code><br>\n  <code>Sending e-mails to: antony@blazrsoft.com</code><br>\n  <code>Finished: FAILURE</code>   </p>\n</blockquote>\n\n<p>This indicates that there's Java 7 interfering somewhere, but I'm not sure where.\nThe code is 1.6 compliant and most of the projects have no dependencies, so I'm not sure why this is happening. If I execute maven outside of Jenkins, the projects build just fine with JDK 6, so its leading me to think there's a misconfiguration in Jenkins somewhere, but I'm not sure where since everything seems to be as it should be. The paths to the JDKs are set properly in the global config and the projects themselves are set to use the specified JDK's. I apologize if its a duplicate question or something silly, but I've been trying to figure this out for days with no results. Everyone just says to check the paths and make sure there are no dependent artifacts built with a later JDK and I'm sure that this is not the problem.</p>\n\n<p><code>$ mvn -version</code><br>\n<code>Apache Maven 3.0.5 (Red Hat 3.0.5-16)</code><br>\n<code>Maven home: /usr/share/maven</code><br>\n<code>Java version: 1.8.0_20, vendor: Oracle Corporation</code><br>\n<code>Java home: /opt/java/8/jre</code><br>\n<code>Default locale: en_US, platform encoding: ANSI_X3.4-1968</code><br>\n<code>OS name: \"linux\", version: \"2.6.32-openvz-042stab090.5-amd64\", arch: \"amd64\", family: \"unix\"</code>  </p>\n\n<p><code>&lt;plugin&gt;</code><br>\n<code>&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;</code><br>\n<code>&lt;version&gt;3.1&lt;/version&gt;</code><br>\n<code>&lt;configuration&gt;</code><br>\n<code>&lt;encoding&gt;UTF-8&lt;/encoding&gt;</code><br>\n<code>&lt;source&gt;1.6&lt;/source&gt;</code><br>\n<code>&lt;target&gt;1.6&lt;/target&gt;</code><br>\n<code>&lt;compilerVersion&gt;1.6&lt;/compilerVersion&gt;</code><br>\n<code>&lt;/configuration&gt;</code><br>\n<code>&lt;/plugin&gt;</code>  </p>\n"},{"tags":["java","arrays","split"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1663266391,"post_id":73735702,"comment_id":130205086,"body_markdown":"maybe `BufferedReader.lines()` followed by `Stream.toArray()` - or `Files.readAllLines()` with `List.toArray()` (if an array is really required)","body":"maybe <code>BufferedReader.lines()</code> followed by <code>Stream.toArray()</code> - or <code>Files.readAllLines()</code> with <code>List.toArray()</code> (if an array is really required)"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1663340045,"post_id":73735702,"comment_id":130223629,"body_markdown":"*`&quot;want to create a new file each time&quot;`* - but you&#39;re only reading a file in your code, and **not** creating a new file or writing anything. You need to describe your intention at least in pseudocode. Do you want to split each line of your file into multiple lines, and then write this data into a newly created file?","body":"<i><code>&quot;want to create a new file each time&quot;</code></i> - but you&#39;re only reading a file in your code, and <b>not</b> creating a new file or writing anything. You need to describe your intention at least in pseudocode. Do you want to split each line of your file into multiple lines, and then write this data into a newly created file?"},{"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"score":0,"creation_date":1664717068,"post_id":73735702,"comment_id":130531022,"body_markdown":"@AlexanderIvanchenko maybe what I wrote was misleading. I said that I DO NOT want to create a new file each time. just split the file line by line and store each line in a new array entry.","body":"@AlexanderIvanchenko maybe what I wrote was misleading. I said that I DO NOT want to create a new file each time. just split the file line by line and store each line in a new array entry."},{"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"score":0,"creation_date":1664717299,"post_id":73735702,"comment_id":130531063,"body_markdown":"@user16320675 It doesn&#39;t HAVE to be an array. Although I thought that that&#39;d be the best way to store such data, wouldn&#39;t it?  Because storing each line in a new String variable wouldn&#39;t be very smart since it would create many many variables if there are many many entries in the file. what would be an alternative to arrays?","body":"@user16320675 It doesn&#39;t HAVE to be an array. Although I thought that that&#39;d be the best way to store such data, wouldn&#39;t it?  Because storing each line in a new String variable wouldn&#39;t be very smart since it would create many many variables if there are many many entries in the file. what would be an alternative to arrays?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1664717623,"post_id":73735702,"comment_id":130531141,"body_markdown":"*&quot;split the file line by line and store each line in a new array entry&quot;* - what do you mean by that? *&quot;array entry&quot;* means an array element? So each array element should contain a **line of text**? And result should of type `String[]`?","body":"<i>&quot;split the file line by line and store each line in a new array entry&quot;</i> - what do you mean by that? <i>&quot;array entry&quot;</i> means an array element? So each array element should contain a <b>line of text</b>? And result should of type <code>String[]</code>?"},{"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"score":0,"creation_date":1664717883,"post_id":73735702,"comment_id":130531212,"body_markdown":"@AlexanderIvanchenko yes exactly. the line of text wont be long and without spaces . And I do think that String[ ] is the best way to store such data, isn&#39;t it?","body":"@AlexanderIvanchenko yes exactly. the line of text wont be long and without spaces . And I do think that String[ ] is the best way to store such data, isn&#39;t it?"}],"answers":[{"tags":[],"owner":{"account_id":11159178,"reputation":1652,"user_id":8189903,"display_name":"star67"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663273834,"creation_date":1663266290,"answer_id":73735822,"question_id":73735702,"body_markdown":"There is `java.nio.file.Files#readAllLines(java.nio.file.Path)` method:\r\n\r\n```\r\nList&lt;String&gt; stringList = Files.readAllLines(Path.of(&quot;file.txt&quot;));\r\n```\r\n\r\nor `java.nio.file.Files#lines(java.nio.file.Path)` (you can can get a stream and then convert it to an array):\r\n\r\n```\r\ntry (Stream&lt;String&gt; stream = Files.lines(Path.of(&quot;file.txt&quot;))) {\r\n    String[] strings = stream.toArray(String[]::new);\r\n} catch (IOException e) {\r\n    //\r\n}\r\n```\r\nDocs: \r\n\r\n[Files#readAllLines][2]\r\n\r\n[Files#lines][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#lines-java.nio.file.Path-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#readAllLines-java.nio.file.Path-","title":"use .split() for files. java","body":"<p>There is <code>java.nio.file.Files#readAllLines(java.nio.file.Path)</code> method:</p>\n<pre><code>List&lt;String&gt; stringList = Files.readAllLines(Path.of(&quot;file.txt&quot;));\n</code></pre>\n<p>or <code>java.nio.file.Files#lines(java.nio.file.Path)</code> (you can can get a stream and then convert it to an array):</p>\n<pre><code>try (Stream&lt;String&gt; stream = Files.lines(Path.of(&quot;file.txt&quot;))) {\n    String[] strings = stream.toArray(String[]::new);\n} catch (IOException e) {\n    //\n}\n</code></pre>\n<p>Docs:</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#readAllLines-java.nio.file.Path-\" rel=\"nofollow noreferrer\">Files#readAllLines</a></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#lines-java.nio.file.Path-\" rel=\"nofollow noreferrer\">Files#lines</a></p>\n"},{"tags":[],"owner":{"account_id":7916222,"reputation":303,"user_id":5978561,"display_name":"Jake Henry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663266682,"creation_date":1663266682,"answer_id":73735887,"question_id":73735702,"body_markdown":"It doesn&#39;t even appear that you are making use of your scanner in the code that you linked.\r\n\r\nIf you need to use the Scanner to do it, then you can use a variation of the following code. Though I recommend using star67&#39;s solution followed by a .toArray(new String[0]); call.\r\n\r\n    List&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n    File datei = new File(&quot;file.txt&quot;);\r\n    Scanner myReader = new Scanner(datei);\r\n    while(myReader.hasNextLine())\r\n    {\r\n        lines.add(myReader.nextLine());\r\n    }\r\n    myReader.close();\r\n    final String[] linesArray = lines.toArray(new String[0]);","title":"use .split() for files. java","body":"<p>It doesn't even appear that you are making use of your scanner in the code that you linked.</p>\n<p>If you need to use the Scanner to do it, then you can use a variation of the following code. Though I recommend using star67's solution followed by a .toArray(new String[0]); call.</p>\n<pre><code>List&lt;String&gt; lines = new ArrayList&lt;&gt;();\nFile datei = new File(&quot;file.txt&quot;);\nScanner myReader = new Scanner(datei);\nwhile(myReader.hasNextLine())\n{\n    lines.add(myReader.nextLine());\n}\nmyReader.close();\nfinal String[] linesArray = lines.toArray(new String[0]);\n</code></pre>\n"}],"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1664716931,"creation_date":1663265608,"question_id":73735702,"body_markdown":"I have a file and want to split the file line by line. But I do not want to create a new file each time. just store every line in an Array.\r\nthe .split() method is exactly what I want but it can&#39;t be used for files.\r\n\r\n```java\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\n\r\nclass Read{\r\n\r\n    public static void main(String args[])\r\n    {\r\n        try{\r\n            File datei = new File(&quot;file.txt&quot;);\r\n            String[] splitDatei = datei.split(System.lineSeparator());\r\n\r\n\r\n            myReader.close();\r\n\r\n\r\n        }catch(FileNotFoundException e){\r\n            System.out.println(&quot;&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"use .split() for files. java","body":"<p>I have a file and want to split the file line by line. But I do not want to create a new file each time. just store every line in an Array.\nthe .split() method is exactly what I want but it can't be used for files.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.FileNotFoundException;\n\nclass Read{\n\n    public static void main(String args[])\n    {\n        try{\n            File datei = new File(&quot;file.txt&quot;);\n            String[] splitDatei = datei.split(System.lineSeparator());\n\n\n            myReader.close();\n\n\n        }catch(FileNotFoundException e){\n            System.out.println(&quot;&quot;);\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":3128021,"reputation":19974,"user_id":2646526,"display_name":"heenenee"},"score":1,"creation_date":1437541090,"post_id":31554025,"comment_id":51065922,"body_markdown":"possible duplicate of [Why is String.chars() a stream of ints in Java 8?](http://stackoverflow.com/questions/22435833/why-is-string-chars-a-stream-of-ints-in-java-8)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/22435833/why-is-string-chars-a-stream-of-ints-in-java-8\">Why is String.chars() a stream of ints in Java 8?</a>"},{"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"score":0,"creation_date":1437541813,"post_id":31554025,"comment_id":51066158,"body_markdown":"@heenenee That&#39;s certainly related, but I wouldn&#39;t call it a duplicate.","body":"@heenenee That&#39;s certainly related, but I wouldn&#39;t call it a duplicate."},{"owner":{"account_id":3128021,"reputation":19974,"user_id":2646526,"display_name":"heenenee"},"score":0,"creation_date":1437542630,"post_id":31554025,"comment_id":51066447,"body_markdown":"Although the other question is focused on why, the how is explained in its accepted answer.  A single google search would&#39;ve turned this up, and I guess I&#39;m going by http://meta.stackoverflow.com/a/261593/2646526","body":"Although the other question is focused on why, the how is explained in its accepted answer.  A single google search would&#39;ve turned this up, and I guess I&#39;m going by <a href=\"http://meta.stackoverflow.com/a/261593/2646526\">meta.stackoverflow.com/a/261593/2646526</a>"}],"answers":[{"tags":[],"owner":{"account_id":2845518,"reputation":992,"user_id":2444031,"accept_rate":79,"display_name":"TJ Mazeika"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1437543272,"creation_date":1437542950,"answer_id":31554539,"question_id":31554025,"body_markdown":"The simplest change you can make to the code is change `char[]` to `Character[]`.\r\n\r\nAnother way is to create a new ArrayList of the boxed `char`s:\r\n\r\n    char[] list = {&#39;a&#39;,&#39;c&#39;,&#39;e&#39;};\r\n    List&lt;Character&gt; listArray = new ArrayList&lt;&gt;();\r\n    for (char c : list)\r\n        listArray.add(c);\r\n    Stream&lt;Character&gt; cStream = listArray.stream();\r\n\r\nIn addition, you can use Google Guava&#39;s [`Chars`][1] class, to replace the `for` loop with:\r\n\r\n    List&lt;Character&gt; listArray = Chars.asList(list);\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/primitives/Chars.html","title":"Want to create a stream of characters from char array in java","body":"<p>The simplest change you can make to the code is change <code>char[]</code> to <code>Character[]</code>.</p>\n\n<p>Another way is to create a new ArrayList of the boxed <code>char</code>s:</p>\n\n<pre><code>char[] list = {'a','c','e'};\nList&lt;Character&gt; listArray = new ArrayList&lt;&gt;();\nfor (char c : list)\n    listArray.add(c);\nStream&lt;Character&gt; cStream = listArray.stream();\n</code></pre>\n\n<p>In addition, you can use Google Guava's <a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/primitives/Chars.html\" rel=\"nofollow\"><code>Chars</code></a> class, to replace the <code>for</code> loop with:</p>\n\n<pre><code>List&lt;Character&gt; listArray = Chars.asList(list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1437552197,"creation_date":1437552197,"answer_id":31557292,"question_id":31554025,"body_markdown":"You can use an `IntStream` to generate the indices followed by `mapToObj`:\r\n\r\n    char[] arr = {&#39;a&#39;,&#39;c&#39;,&#39;e&#39;};\r\n    Stream&lt;Character&gt; cStream = IntStream.range(0, arr.length).mapToObj(i -&gt; arr[i]);","title":"Want to create a stream of characters from char array in java","body":"<p>You can use an <code>IntStream</code> to generate the indices followed by <code>mapToObj</code>:</p>\n\n<pre><code>char[] arr = {'a','c','e'};\nStream&lt;Character&gt; cStream = IntStream.range(0, arr.length).mapToObj(i -&gt; arr[i]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1437988624,"creation_date":1437988624,"answer_id":31649229,"question_id":31554025,"body_markdown":"A short and efficient way to create an `IntStream` from `char[]` array is to use `java.nio.CharBuffer`:\r\n\r\n  \tchar[] list = {&#39;a&#39;,&#39;c&#39;,&#39;e&#39;};\r\n\tIntStream stream = CharBuffer.wrap(list).chars();\r\n\r\nThis way you can use an `IntStream` interpreting the int values as characters. If you want a boxed `Stream&lt;Character&gt;` (which may be less efficient), use\r\n\r\n    Stream&lt;Character&gt; stream = CharBuffer.wrap(list).chars().mapToObj(ch -&gt; (char)ch);\r\n\r\nUsing `CharBuffer` can be a little bit faster than `IntStream.range` as it has custom spliterator inside, so it does not have to execute an additional lambda (possibly as slow polymorphic call). Also it refers to the `char[]` array only once and not inside the lambda, so it can be used with non-final array variable or function return value (like `CharBuffer.wrap(getCharArrayFromSomewhere()).chars()`).","title":"Want to create a stream of characters from char array in java","body":"<p>A short and efficient way to create an <code>IntStream</code> from <code>char[]</code> array is to use <code>java.nio.CharBuffer</code>:</p>\n\n<pre><code>char[] list = {'a','c','e'};\nIntStream stream = CharBuffer.wrap(list).chars();\n</code></pre>\n\n<p>This way you can use an <code>IntStream</code> interpreting the int values as characters. If you want a boxed <code>Stream&lt;Character&gt;</code> (which may be less efficient), use</p>\n\n<pre><code>Stream&lt;Character&gt; stream = CharBuffer.wrap(list).chars().mapToObj(ch -&gt; (char)ch);\n</code></pre>\n\n<p>Using <code>CharBuffer</code> can be a little bit faster than <code>IntStream.range</code> as it has custom spliterator inside, so it does not have to execute an additional lambda (possibly as slow polymorphic call). Also it refers to the <code>char[]</code> array only once and not inside the lambda, so it can be used with non-final array variable or function return value (like <code>CharBuffer.wrap(getCharArrayFromSomewhere()).chars()</code>).</p>\n"},{"tags":[],"owner":{"account_id":6164051,"reputation":1183,"user_id":4804655,"display_name":"Lars Hartviksen"},"down_vote_count":1,"up_vote_count":52,"is_accepted":false,"score":51,"last_activity_date":1469012635,"creation_date":1469012635,"answer_id":38479500,"question_id":31554025,"body_markdown":"A way to do this is via a String object: \r\n\r\n    char[] list = {&#39;a&#39;,&#39;c&#39;,&#39;e&#39;};\r\n    Stream&lt;Character&gt; charStream = new String(list).chars().mapToObj(i-&gt;(char)i);\r\n\r\nI like to do it this way because all the complexity of transforming the array is wrapped into the String creation, and the wrapping of char is also performed behind the scene for me so I can focus on the business logic.\r\n","title":"Want to create a stream of characters from char array in java","body":"<p>A way to do this is via a String object: </p>\n\n<pre><code>char[] list = {'a','c','e'};\nStream&lt;Character&gt; charStream = new String(list).chars().mapToObj(i-&gt;(char)i);\n</code></pre>\n\n<p>I like to do it this way because all the complexity of transforming the array is wrapped into the String creation, and the wrapping of char is also performed behind the scene for me so I can focus on the business logic.</p>\n"},{"tags":[],"owner":{"account_id":2849643,"reputation":423,"user_id":2447120,"display_name":"Rakesh Chauhan"},"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1536871047,"creation_date":1536871047,"answer_id":52321478,"question_id":31554025,"body_markdown":"I believe the simplest way to convert to Character stream is \r\n\r\n        char[] list = {&#39;a&#39;,&#39;c&#39;,&#39;e&#39;};\r\n\r\n        Stream&lt;Character&gt; characters = Stream.ofAll(list);","title":"Want to create a stream of characters from char array in java","body":"<p>I believe the simplest way to convert to Character stream is </p>\n\n<pre><code>    char[] list = {'a','c','e'};\n\n    Stream&lt;Character&gt; characters = Stream.ofAll(list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571861943,"creation_date":1571861943,"answer_id":58530439,"question_id":31554025,"body_markdown":"**Getting substream of Characters**\r\n\r\n     String givenString = &quot;MyNameIsArpan&quot;;\r\n            \r\n           Object[] ints = givenString.chars().mapToObj(i -&gt; (char)i).toArray();\r\n    \r\n           String subString = Arrays.stream(ints,2,6).\r\n                                 map(i -&gt; (char)i).\r\n                                 map(String::valueOf).\r\n                                 collect(Collectors.joining());\r\n    \r\n          System.out.println(subString);\r\n\r\nOUTPUT : Name\r\n","title":"Want to create a stream of characters from char array in java","body":"<p><strong>Getting substream of Characters</strong></p>\n\n<pre><code> String givenString = \"MyNameIsArpan\";\n\n       Object[] ints = givenString.chars().mapToObj(i -&gt; (char)i).toArray();\n\n       String subString = Arrays.stream(ints,2,6).\n                             map(i -&gt; (char)i).\n                             map(String::valueOf).\n                             collect(Collectors.joining());\n\n      System.out.println(subString);\n</code></pre>\n\n<p>OUTPUT : Name</p>\n"},{"tags":[],"owner":{"account_id":4700393,"reputation":3576,"user_id":6099811,"display_name":"navnath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627992202,"creation_date":1627992202,"answer_id":68635698,"question_id":31554025,"body_markdown":"Using Stream Builder:\r\n\r\n    String inputString = &quot;This is string&quot;;\r\n    Stream.Builder&lt;Character&gt; charStreamBuilder = Stream.builder();\r\n    for (char i :inputString.toCharArray()) {\r\n       charStreamBuilder.accept(i);\r\n     }\r\n     Stream&lt;Character&gt; characterStream = charStreamBuilder.build();","title":"Want to create a stream of characters from char array in java","body":"<p>Using Stream Builder:</p>\n<pre><code>String inputString = &quot;This is string&quot;;\nStream.Builder&lt;Character&gt; charStreamBuilder = Stream.builder();\nfor (char i :inputString.toCharArray()) {\n   charStreamBuilder.accept(i);\n }\n Stream&lt;Character&gt; characterStream = charStreamBuilder.build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6430147,"reputation":1735,"user_id":7449607,"accept_rate":50,"display_name":"Fzum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634825809,"creation_date":1634825809,"answer_id":69663627,"question_id":31554025,"body_markdown":"    &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;.chars().mapToObj(i -&gt; (char) i);","title":"Want to create a stream of characters from char array in java","body":"<pre><code>&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;.chars().mapToObj(i -&gt; (char) i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5889359,"reputation":169,"user_id":4870176,"display_name":"Asif Malek"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1643143714,"creation_date":1643143714,"answer_id":70855468,"question_id":31554025,"body_markdown":"How about a workaround:\r\nchar[] list = {&#39;a&#39;,&#39;c&#39;,&#39;e&#39;};\r\n\r\nArrays.asList(list).stream();","title":"Want to create a stream of characters from char array in java","body":"<p>How about a workaround:\nchar[] list = {'a','c','e'};</p>\n<p>Arrays.asList(list).stream();</p>\n"},{"tags":[],"owner":{"account_id":18141984,"reputation":136,"user_id":13195754,"display_name":"branboyer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664716889,"creation_date":1664716889,"answer_id":73926153,"question_id":31554025,"body_markdown":"Another way not mentioned: make a `new String`\r\n\r\n    char[] arr = {&#39;a&#39;,&#39;c&#39;,&#39;e&#39;};\r\n\tnew String(arr).chars().mapToObj(i -&gt; (Character) (char) i);","title":"Want to create a stream of characters from char array in java","body":"<p>Another way not mentioned: make a <code>new String</code></p>\n<pre><code>char[] arr = {'a','c','e'};\nnew String(arr).chars().mapToObj(i -&gt; (Character) (char) i);\n</code></pre>\n"}],"owner":{"account_id":6663571,"reputation":1011,"user_id":5141838,"display_name":"Sangjin Kim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91977,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"answer_count":10,"score":81,"last_activity_date":1664716889,"creation_date":1437540263,"question_id":31554025,"body_markdown":"From a char array, I want to construct a stream to use java 8 features such as filters and maps.\r\n\r\n    char[] list = {&#39;a&#39;,&#39;c&#39;,&#39;e&#39;};\r\n    Stream&lt;Character&gt; cStream = Stream.of(list);\r\n    // Stream&lt;Character&gt; cStream = Arrays.stream(list);\r\n\r\nThe first method does not work (Reason: change cStream to `Stream&lt;char[]&gt;`).\r\nThe commented line does not also work (Reason: The method `stream(T[])` in the type Arrays is not applicable for the arguments (`char[]`)).\r\n\r\nI know that if `char[] list` is changed to `int[]`, everything works fine using `IntStream`. But I do not want to convert every `char[]` to `int[]` each time or change into a list when I need to use stream library on `char` array. ","title":"Want to create a stream of characters from char array in java","body":"<p>From a char array, I want to construct a stream to use java 8 features such as filters and maps.</p>\n\n<pre><code>char[] list = {'a','c','e'};\nStream&lt;Character&gt; cStream = Stream.of(list);\n// Stream&lt;Character&gt; cStream = Arrays.stream(list);\n</code></pre>\n\n<p>The first method does not work (Reason: change cStream to <code>Stream&lt;char[]&gt;</code>).\nThe commented line does not also work (Reason: The method <code>stream(T[])</code> in the type Arrays is not applicable for the arguments (<code>char[]</code>)).</p>\n\n<p>I know that if <code>char[] list</code> is changed to <code>int[]</code>, everything works fine using <code>IntStream</code>. But I do not want to convert every <code>char[]</code> to <code>int[]</code> each time or change into a list when I need to use stream library on <code>char</code> array. </p>\n"},{"tags":["java","macos","export"],"answers":[{"tags":[],"owner":{"account_id":5000525,"reputation":1375,"user_id":4019710,"display_name":"Grice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1414304208,"creation_date":1413832304,"answer_id":26473183,"question_id":26472322,"body_markdown":"You need to handle the FileNotFoundException. This can be done either by:\r\n\r\nCatching the exception (Preferred method):\r\n       \r\n    PrintWriter out;\r\n    try {\r\n\t\tout = new PrintWriter(&quot;Character.txt&quot;);\r\n        out.println(characterName);\r\n        out.println(characterGender);\r\n        out.close();\r\n\t} catch (FileNotFoundException e) {\r\n        System.err.println(&quot;File doesn&#39;t exist&quot;);\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\nor by throwing the exception:\r\n\r\n    public static void main (String[] args) throws FileNotFoundException\r\n\r\nNote: `import java.io.FileNotFoundException;` must be included in both cases.\r\n\r\nHere is some java documentation on [Exceptions][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/exceptions/","title":"Export Data from Java to a text file","body":"<p>You need to handle the FileNotFoundException. This can be done either by:</p>\n\n<p>Catching the exception (Preferred method):</p>\n\n<pre><code>PrintWriter out;\ntry {\n    out = new PrintWriter(\"Character.txt\");\n    out.println(characterName);\n    out.println(characterGender);\n    out.close();\n} catch (FileNotFoundException e) {\n    System.err.println(\"File doesn't exist\");\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>or by throwing the exception:</p>\n\n<pre><code>public static void main (String[] args) throws FileNotFoundException\n</code></pre>\n\n<p>Note: <code>import java.io.FileNotFoundException;</code> must be included in both cases.</p>\n\n<p>Here is some java documentation on <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/\" rel=\"nofollow\">Exceptions</a>.</p>\n"},{"tags":[],"owner":{"account_id":3628359,"reputation":313,"user_id":3025316,"accept_rate":100,"display_name":"Lokesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414304279,"creation_date":1413833482,"answer_id":26473469,"question_id":26472322,"body_markdown":"Try using File writer Instead of print Writer.\r\nBelow is my example code, Hope you do not mind the hard interpretation.\r\n\r\n    String filetowrite = &quot;C:/Users/Desktop/test.txt&quot;; // Point to your location\r\n\tFileWriter fw = new FileWriter(filetowrite);\r\n    fw.write(&quot;Hello, This is the test&quot;);\r\n    fw.close();","title":"Export Data from Java to a text file","body":"<p>Try using File writer Instead of print Writer.\nBelow is my example code, Hope you do not mind the hard interpretation.</p>\n\n<pre><code>String filetowrite = \"C:/Users/Desktop/test.txt\"; // Point to your location\nFileWriter fw = new FileWriter(filetowrite);\nfw.write(\"Hello, This is the test\");\nfw.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4335413,"reputation":2785,"user_id":3540002,"accept_rate":100,"display_name":"OO7"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1413869087,"creation_date":1413834678,"answer_id":26473756,"question_id":26472322,"body_markdown":"Since you are **reading data from Console &amp; writing it to file** it is recommended to **use BufferedReader &amp; BufferedWriter** for it. To handle exception &amp; if you want to add details of exception occurred in Log file using [Log4j][1], you can do something like below :\r\n\r\n    BufferedReader br = null;\r\n    BufferedWriter bw = null\r\n    Logger logger = LogManager.getLogger(Character.class); \r\n    try {\r\n \t\tString data;\r\n \t\tbr = new BufferedReader(new InputStreamReader(System.in));\r\n        File file = new File(&quot;Character.txt&quot;);\r\n       \t// if file doesn&#39;t exists, then create it\r\n\t\tif (!file.exists()) {\r\n\t\t\tfile.createNewFile();\r\n\t\t}\r\n\r\n\t\tFileWriter fw = new FileWriter(file.getAbsoluteFile());\r\n\t\tbw = new BufferedWriter(fw);\r\n\t\t\t\r\n \t\twhile ((data = br.readLine()) != null) {\r\n\t\t\tSystem.out.println(data);\r\n            bw.write(data);\r\n\t\t}\r\n \t} catch (IOException e) {\r\n        StringWriter() stack = new StringWriter();\r\n\t\te.printStackTrace(new PrintWriter(stack));\r\n        logger.fatal(stack.toString(), Character.class);\r\n\t} finally {\r\n\t\ttry {\r\n\t\t\tif (br != null &amp;&amp; bw != null){\r\n                bw.close();\r\n                br.close();\r\n            }\r\n\t\t} catch (IOException ex) {\r\n\t\t\tStringWriter() stack = new StringWriter();\r\n    \t\te.printStackTrace(new PrintWriter(stack));\r\n            logger.fatal(stack.toString(), Character.class);\r\n\t\t}\r\n\t}\r\n\r\n**OR** \r\n\r\nYou can use `try-with-resources`, available from JDK 1.7 onwards, which will take care of closing resources used. In your case, it&#39;s a file.\r\n\r\n    try (BufferedReader br = new BufferedReader(new InputStreamReader(System.in))) {\r\n \t\tString data;\r\n \t\tFile file = new File(&quot;Character.txt&quot;);\r\n\t\tFileWriter fw = new FileWriter(file.getAbsoluteFile());\r\n\t\tBufferedWriter bw = new BufferedWriter(fw);\r\n\t\t\t\r\n \t\twhile ((data = br.readLine()) != null) {\r\n\t\t\tSystem.out.println(data);\r\n            bw.write(data);\r\n\t\t}\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t} \r\n\r\n  [1]: http://logging.apache.org/log4j/2.0/manual/async.html","title":"Export Data from Java to a text file","body":"<p>Since you are <strong>reading data from Console &amp; writing it to file</strong> it is recommended to <strong>use BufferedReader &amp; BufferedWriter</strong> for it. To handle exception &amp; if you want to add details of exception occurred in Log file using <a href=\"http://logging.apache.org/log4j/2.0/manual/async.html\" rel=\"nofollow\">Log4j</a>, you can do something like below :</p>\n\n<pre><code>BufferedReader br = null;\nBufferedWriter bw = null\nLogger logger = LogManager.getLogger(Character.class); \ntry {\n    String data;\n    br = new BufferedReader(new InputStreamReader(System.in));\n    File file = new File(\"Character.txt\");\n    // if file doesn't exists, then create it\n    if (!file.exists()) {\n        file.createNewFile();\n    }\n\n    FileWriter fw = new FileWriter(file.getAbsoluteFile());\n    bw = new BufferedWriter(fw);\n\n    while ((data = br.readLine()) != null) {\n        System.out.println(data);\n        bw.write(data);\n    }\n} catch (IOException e) {\n    StringWriter() stack = new StringWriter();\n    e.printStackTrace(new PrintWriter(stack));\n    logger.fatal(stack.toString(), Character.class);\n} finally {\n    try {\n        if (br != null &amp;&amp; bw != null){\n            bw.close();\n            br.close();\n        }\n    } catch (IOException ex) {\n        StringWriter() stack = new StringWriter();\n        e.printStackTrace(new PrintWriter(stack));\n        logger.fatal(stack.toString(), Character.class);\n    }\n}\n</code></pre>\n\n<p><strong>OR</strong> </p>\n\n<p>You can use <code>try-with-resources</code>, available from JDK 1.7 onwards, which will take care of closing resources used. In your case, it's a file.</p>\n\n<pre><code>try (BufferedReader br = new BufferedReader(new InputStreamReader(System.in))) {\n    String data;\n    File file = new File(\"Character.txt\");\n    FileWriter fw = new FileWriter(file.getAbsoluteFile());\n    BufferedWriter bw = new BufferedWriter(fw);\n\n    while ((data = br.readLine()) != null) {\n        System.out.println(data);\n        bw.write(data);\n    }\n} catch (IOException e) {\n    e.printStackTrace();\n} \n</code></pre>\n"}],"owner":{"account_id":5204717,"reputation":69,"user_id":4163052,"accept_rate":91,"display_name":"Ricardo Desu Perez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":26473183,"answer_count":3,"score":0,"last_activity_date":1664716274,"creation_date":1413829233,"question_id":26472322,"body_markdown":"I want to export the character&#39;s name and gender to a text file. Also, I need to export on both Mac and PC computers. I&#39;ve tried various methods, but none has worked for me or I might have placed them incorrectly.\r\n\r\nI changed my code with my attempt:\r\n\r\n    import java.util.Scanner;\r\n    import java.io.PrintWriter;\r\n    import java.io.File;\r\n    import java.util.Scanner;\r\n\r\n    public class Character {\r\n\r\n        public static void main (String[] args) {\r\n            String characterGender;\r\n            String characterName;\r\n        \r\n            Scanner scan = new Scanner(System.in);\r\n        \r\n            System.out.println(&quot;Welcome to Ricardo&#39;s character creator!&quot;);\r\n        \r\n            System.out.println(&quot;Is your character a boy or a girl?&quot;);\r\n            characterGender = scan.nextLine();\r\n        \r\n            if (characterGender.equals(&quot;girl&quot;))  {\r\n                 System.out.println(&quot;Awesome! Please enter her name: &quot;);\r\n                 characterName = scan.nextLine();\r\n            } else {\r\n                 System.out.println(&quot;Awesome! Please enter his name: &quot;);\r\n                 characterName = scan.nextLine();\r\n            }\r\n        \r\n            System.out.print(&quot;Alright! &quot; + characterName + &quot; has been created!&quot;);\r\n  \r\n            PrintWriter out = new PrintWriter(&quot;Character.txt&quot;);\r\n            out.println(characterName);\r\n            out.println(characterGender);\r\n            out.close();\r\n\r\n        }\r\n    }\r\n\r\nI&#39;m getting an error like this:\r\n\r\n&gt;Character.java:34: error: unreported exception FileNotFoundException; must be caught or declared to be thrown.","title":"Export Data from Java to a text file","body":"<p>I want to export the character's name and gender to a text file. Also, I need to export on both Mac and PC computers. I've tried various methods, but none has worked for me or I might have placed them incorrectly.</p>\n\n<p>I changed my code with my attempt:</p>\n\n<pre><code>import java.util.Scanner;\nimport java.io.PrintWriter;\nimport java.io.File;\nimport java.util.Scanner;\n\npublic class Character {\n\n    public static void main (String[] args) {\n        String characterGender;\n        String characterName;\n\n        Scanner scan = new Scanner(System.in);\n\n        System.out.println(\"Welcome to Ricardo's character creator!\");\n\n        System.out.println(\"Is your character a boy or a girl?\");\n        characterGender = scan.nextLine();\n\n        if (characterGender.equals(\"girl\"))  {\n             System.out.println(\"Awesome! Please enter her name: \");\n             characterName = scan.nextLine();\n        } else {\n             System.out.println(\"Awesome! Please enter his name: \");\n             characterName = scan.nextLine();\n        }\n\n        System.out.print(\"Alright! \" + characterName + \" has been created!\");\n\n        PrintWriter out = new PrintWriter(\"Character.txt\");\n        out.println(characterName);\n        out.println(characterGender);\n        out.close();\n\n    }\n}\n</code></pre>\n\n<p>I'm getting an error like this:</p>\n\n<blockquote>\n  <p>Character.java:34: error: unreported exception FileNotFoundException; must be caught or declared to be thrown.</p>\n</blockquote>\n"},{"tags":["java","spring","oop","jsp","servlets"],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664715655,"creation_date":1664715655,"answer_id":73926014,"question_id":73925713,"body_markdown":"Please cast `Object` to `List&lt;User&gt;`. Request&#39;s getAttribute method returns the object and it will not know in which class to convert. So you have to explicitly cast the object. Make sure request.getAttribute(&quot;listUserss&quot;) is not null else it will throw NullPointerException.\r\n\r\n```\r\n&lt;%\r\n   List&lt;User&gt; listu = (List&lt;User&gt;) request.getAttribute(&quot;listUserss&quot;);\r\n%&gt;\r\n```","title":"Type mismatch: cannot convert from Object to List&lt;User&gt;","body":"<p>Please cast <code>Object</code> to <code>List&lt;User&gt;</code>. Request's getAttribute method returns the object and it will not know in which class to convert. So you have to explicitly cast the object. Make sure request.getAttribute(&quot;listUserss&quot;) is not null else it will throw NullPointerException.</p>\n<pre><code>&lt;%\n   List&lt;User&gt; listu = (List&lt;User&gt;) request.getAttribute(&quot;listUserss&quot;);\n%&gt;\n</code></pre>\n"}],"owner":{"account_id":22537649,"reputation":45,"user_id":16728662,"display_name":"Kuji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1282,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73926014,"answer_count":1,"score":1,"last_activity_date":1664715655,"creation_date":1664712749,"question_id":73925713,"body_markdown":"\r\n\r\n\r\n**HomeController.java**\r\n\r\n```\r\npackage com.project.controller;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport com.project.entity.User;\r\nimport com.project.model.ListUsers;\r\n\r\nimport javax.annotation.Resource;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.sql.DataSource;\r\n\r\n@WebServlet(&quot;/home&quot;)\r\npublic class HomeController extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t@Resource(name=&quot;jdbc/MyDB&quot;)\r\n\tprivate DataSource dataa;\r\n\t\r\n\t\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t\r\n\t\tString page = request.getParameter(&quot;page&quot;);\r\n\t\tpage.toLowerCase();\r\n\t\tswitch (page) {\r\n\t\tcase &quot;home&quot;: {\r\n\t\t\tList&lt;User&gt; listUserss = new ArrayList&lt;&gt;() ;\r\n\t\t\tlistUserss= new ListUsers().listUsers(dataa);\r\n\t\t\trequest.setAttribute(&quot;listUserss&quot;, listUserss);\r\n\t\t\trequest.getRequestDispatcher(&quot;index.jsp&quot;).forward(request, response);\r\n\t\t\t\r\n\t\t}\r\n\t\tcase &quot;listUsers&quot;:{\r\n\t\t\trequest.getRequestDispatcher(&quot;listUsers.jsp&quot;).forward(request, response);\r\n\t\t}\r\n\t\tdefault: \r\n\t\t\trequest.getRequestDispatcher(&quot;error.jsp&quot;).forward(request, response);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\n**ListUsers.java**\r\n```\r\npackage com.project.model;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javax.sql.DataSource;\r\nimport com.project.entity.User;\r\n\r\npublic class ListUsers {\r\n\tpublic List&lt;User&gt; listUsers(DataSource dataa){\r\n\t\t\r\n\tList&lt;User&gt; listUsers = new ArrayList&lt;&gt;();\r\n\t\r\n\t//==== build SQL database ====\r\n\tResultSet re = null;\r\n\tConnection connect = null;\r\n\tjava.sql.Statement st= null;\r\n\t\r\n\t\r\n\ttry {\r\n\t\t// =====is used to establish a connection with the database.\r\n\t\tconnect =dataa.getConnection();\r\n\t\t\r\n\t\t// Create a SQL statement string\r\n\t\tString query = &quot;Select * FROM newpro.users;&quot;;\r\n\t\tst = connect.createStatement();\r\n\t\t\r\n\t\t// Execute SQL query\r\n\t\tre = st.executeQuery(query);\r\n\t\t\r\n\t\t// print the result \r\n\t\twhile(re.next()) {\r\n\t\t\tlistUsers.add( new User(re.getString(&quot;email&quot;),re.getString(&quot;username&quot;),re.getInt(&quot;users_id&quot;)));\r\n\t\t}\r\n\t\t\r\n\t} catch (SQLException e) {\r\n\t\t\r\n\t\te.printStackTrace();\r\n\t}\r\n\t\r\n\t\r\n\treturn listUsers;\r\n\t\r\n\r\n\t}\r\n}\r\n\r\n\r\n```\r\n***User.java***\r\n```\r\npackage com.project.entity;\r\n\r\npublic class User {\r\n\tprivate String email;\r\n\tprivate String username;\r\n\tprivate int users_id;\r\n\t\r\n\tpublic User(String email,String username,int users_id) {\r\n\t\tthis.email = email;\r\n\t\tthis.username =username;\r\n\t\tthis.users_id= users_id;\r\n\t}\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username;\r\n\t}\r\n\tpublic int getUsers_id() {\r\n\t\treturn users_id;\r\n\t}\r\n\tpublic void setUsers_id(int users_id) {\r\n\t\tthis.users_id = users_id;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n\r\n```\r\n\r\n**listUsers.jsp**\r\n``` \r\n&lt;%@page import=&quot;java.util.ArrayList&quot;%&gt;\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;%@ page import=&quot;java.util.List&quot; %&gt;\r\n    &lt;%@ page import=&quot;com.project.entity.User&quot; %&gt;\r\n    \r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n&lt;title&gt;List of Users&lt;/title&gt;\r\n    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;  &gt;\r\n\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;header class=&quot;p-3 bg-dark text-white&quot;&gt;\r\n    &lt;div class=&quot;container&quot;&gt;\r\n      &lt;div class=&quot;d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start&quot;&gt;\r\n        &lt;a href=&quot;&lt;%=request.getContextPath()%&gt;/home?page=home&quot; class=&quot;d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none&quot;&gt;\r\n          &lt;svg class=&quot;bi me-2&quot; width=&quot;40&quot; height=&quot;32&quot; role=&quot;img&quot; aria-label=&quot;Bootstrap&quot;&gt;&lt;/svg&gt;\r\n        &lt;/a&gt;\r\n\r\n        &lt;ul class=&quot;nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0&quot;&gt;\r\n          &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;&lt;%=request.getContextPath()%&gt;/home?page=home &quot; class=&quot;nav-link px-2 text-muted&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n      \t   &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;&lt;%=request.getContextPath()%&gt;/home?page=listUsers&quot; class=&quot;nav-link px-2 text-muted&quot;&gt;About&lt;/a&gt;&lt;/li&gt;\r\n        &lt;/ul&gt;\r\n\r\n        &lt;form class=&quot;col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3&quot;&gt;\r\n          &lt;input type=&quot;search&quot; class=&quot;form-control form-control-dark&quot; placeholder=&quot;Search...&quot; aria-label=&quot;Search&quot;&gt;\r\n        &lt;/form&gt;\r\n\r\n        &lt;div class=&quot;text-end&quot;&gt;\r\n          &lt;button type=&quot;button&quot; class=&quot;btn btn-outline-light me-2&quot;&gt;Login&lt;/button&gt;\r\n          &lt;button type=&quot;button&quot; class=&quot;btn btn-warning&quot;&gt;Sign-up&lt;/button&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/header&gt;\r\n    \r\n    \r\n    \r\n    &lt;h1&gt;List of Users&lt;/h1&gt;\r\n    &lt;hr/&gt;\r\n    &lt;table border=&quot;1&quot;&gt;\r\n    \t\t&lt;thead&gt;\r\n    \t\t\t&lt;th&gt;username&lt;/th&gt;\r\n    \t\t\t&lt;th&gt;email&lt;/th&gt;\r\n    \t\t\t&lt;th&gt;user_id&lt;/th&gt;\r\n    \t\t&lt;/thead&gt;\r\n    \t\t&lt;%\r\n    \t\t/*################################## This is the Error &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;  ###################*/\r\n    \t\t\tList&lt;User&gt; listu = request.getAttribute(&quot;listUserss&quot;);\r\n    \t\t\r\n    \t\t%&gt;\r\n    &lt;/table&gt;\r\n    \r\n    \r\n    \t\r\n    \r\n    \r\n    \r\n    \r\n    &lt;footer class=&quot;d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top&quot;&gt;\r\n    &lt;p class=&quot;col-md-4 mb-0 text-muted&quot;&gt;&#169; 2022 Company, Inc&lt;/p&gt;\r\n\r\n    &lt;a href=&quot;/&quot; class=&quot;col-md-4 d-flex align-items-center justify-content-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none&quot;&gt;\r\n      &lt;svg class=&quot;bi me-2&quot; width=&quot;40&quot; height=&quot;32&quot;&gt;&lt;use xlink:href=&quot;#bootstrap&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\r\n    &lt;/a&gt;\r\n\r\n    &lt;ul class=&quot;nav col-md-4 justify-content-end&quot;&gt;\r\n      &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;&lt;%=request.getContextPath()%&gt;/home?page=home &quot; class=&quot;nav-link px-2 text-muted&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n      &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;&lt;%=request.getContextPath()%&gt;/home?page=listUsers&quot; class=&quot;nav-link px-2 text-muted&quot;&gt;About&lt;/a&gt;&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n  &lt;/footer&gt;\r\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js&quot; integrity=&quot;sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nthe error in listUsers.jsp says: `Type mismatch: cannot convert from Object to List&lt;User&gt;`","title":"Type mismatch: cannot convert from Object to List&lt;User&gt;","body":"<p><strong>HomeController.java</strong></p>\n<pre><code>package com.project.controller;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.project.entity.User;\nimport com.project.model.ListUsers;\n\nimport javax.annotation.Resource;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.sql.DataSource;\n\n@WebServlet(&quot;/home&quot;)\npublic class HomeController extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    \n    @Resource(name=&quot;jdbc/MyDB&quot;)\n    private DataSource dataa;\n    \n    \n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        \n        String page = request.getParameter(&quot;page&quot;);\n        page.toLowerCase();\n        switch (page) {\n        case &quot;home&quot;: {\n            List&lt;User&gt; listUserss = new ArrayList&lt;&gt;() ;\n            listUserss= new ListUsers().listUsers(dataa);\n            request.setAttribute(&quot;listUserss&quot;, listUserss);\n            request.getRequestDispatcher(&quot;index.jsp&quot;).forward(request, response);\n            \n        }\n        case &quot;listUsers&quot;:{\n            request.getRequestDispatcher(&quot;listUsers.jsp&quot;).forward(request, response);\n        }\n        default: \n            request.getRequestDispatcher(&quot;error.jsp&quot;).forward(request, response);\n        }\n    }\n\n}\n\n</code></pre>\n<p><strong>ListUsers.java</strong></p>\n<pre><code>package com.project.model;\n\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.sql.DataSource;\nimport com.project.entity.User;\n\npublic class ListUsers {\n    public List&lt;User&gt; listUsers(DataSource dataa){\n        \n    List&lt;User&gt; listUsers = new ArrayList&lt;&gt;();\n    \n    //==== build SQL database ====\n    ResultSet re = null;\n    Connection connect = null;\n    java.sql.Statement st= null;\n    \n    \n    try {\n        // =====is used to establish a connection with the database.\n        connect =dataa.getConnection();\n        \n        // Create a SQL statement string\n        String query = &quot;Select * FROM newpro.users;&quot;;\n        st = connect.createStatement();\n        \n        // Execute SQL query\n        re = st.executeQuery(query);\n        \n        // print the result \n        while(re.next()) {\n            listUsers.add( new User(re.getString(&quot;email&quot;),re.getString(&quot;username&quot;),re.getInt(&quot;users_id&quot;)));\n        }\n        \n    } catch (SQLException e) {\n        \n        e.printStackTrace();\n    }\n    \n    \n    return listUsers;\n    \n\n    }\n}\n\n\n</code></pre>\n<p><em><strong>User.java</strong></em></p>\n<pre><code>package com.project.entity;\n\npublic class User {\n    private String email;\n    private String username;\n    private int users_id;\n    \n    public User(String email,String username,int users_id) {\n        this.email = email;\n        this.username =username;\n        this.users_id= users_id;\n    }\n    public String getEmail() {\n        return email;\n    }\n    public void setEmail(String email) {\n        this.email = email;\n    }\n    public String getUsername() {\n        return username;\n    }\n    public void setUsername(String username) {\n        this.username = username;\n    }\n    public int getUsers_id() {\n        return users_id;\n    }\n    public void setUsers_id(int users_id) {\n        this.users_id = users_id;\n    }\n    \n    \n    \n\n}\n\n</code></pre>\n<p><strong>listUsers.jsp</strong></p>\n<pre><code>&lt;%@page import=&quot;java.util.ArrayList&quot;%&gt;\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n    &lt;%@ page import=&quot;java.util.List&quot; %&gt;\n    &lt;%@ page import=&quot;com.project.entity.User&quot; %&gt;\n    \n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;List of Users&lt;/title&gt;\n    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;  &gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n&lt;header class=&quot;p-3 bg-dark text-white&quot;&gt;\n    &lt;div class=&quot;container&quot;&gt;\n      &lt;div class=&quot;d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start&quot;&gt;\n        &lt;a href=&quot;&lt;%=request.getContextPath()%&gt;/home?page=home&quot; class=&quot;d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none&quot;&gt;\n          &lt;svg class=&quot;bi me-2&quot; width=&quot;40&quot; height=&quot;32&quot; role=&quot;img&quot; aria-label=&quot;Bootstrap&quot;&gt;&lt;/svg&gt;\n        &lt;/a&gt;\n\n        &lt;ul class=&quot;nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0&quot;&gt;\n          &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;&lt;%=request.getContextPath()%&gt;/home?page=home &quot; class=&quot;nav-link px-2 text-muted&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\n           &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;&lt;%=request.getContextPath()%&gt;/home?page=listUsers&quot; class=&quot;nav-link px-2 text-muted&quot;&gt;About&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n\n        &lt;form class=&quot;col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3&quot;&gt;\n          &lt;input type=&quot;search&quot; class=&quot;form-control form-control-dark&quot; placeholder=&quot;Search...&quot; aria-label=&quot;Search&quot;&gt;\n        &lt;/form&gt;\n\n        &lt;div class=&quot;text-end&quot;&gt;\n          &lt;button type=&quot;button&quot; class=&quot;btn btn-outline-light me-2&quot;&gt;Login&lt;/button&gt;\n          &lt;button type=&quot;button&quot; class=&quot;btn btn-warning&quot;&gt;Sign-up&lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/header&gt;\n    \n    \n    \n    &lt;h1&gt;List of Users&lt;/h1&gt;\n    &lt;hr/&gt;\n    &lt;table border=&quot;1&quot;&gt;\n            &lt;thead&gt;\n                &lt;th&gt;username&lt;/th&gt;\n                &lt;th&gt;email&lt;/th&gt;\n                &lt;th&gt;user_id&lt;/th&gt;\n            &lt;/thead&gt;\n            &lt;%\n            /*################################## This is the Error &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;  ###################*/\n                List&lt;User&gt; listu = request.getAttribute(&quot;listUserss&quot;);\n            \n            %&gt;\n    &lt;/table&gt;\n    \n    \n        \n    \n    \n    \n    \n    &lt;footer class=&quot;d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top&quot;&gt;\n    &lt;p class=&quot;col-md-4 mb-0 text-muted&quot;&gt;© 2022 Company, Inc&lt;/p&gt;\n\n    &lt;a href=&quot;/&quot; class=&quot;col-md-4 d-flex align-items-center justify-content-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none&quot;&gt;\n      &lt;svg class=&quot;bi me-2&quot; width=&quot;40&quot; height=&quot;32&quot;&gt;&lt;use xlink:href=&quot;#bootstrap&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\n    &lt;/a&gt;\n\n    &lt;ul class=&quot;nav col-md-4 justify-content-end&quot;&gt;\n      &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;&lt;%=request.getContextPath()%&gt;/home?page=home &quot; class=&quot;nav-link px-2 text-muted&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\n      &lt;li class=&quot;nav-item&quot;&gt;&lt;a href=&quot;&lt;%=request.getContextPath()%&gt;/home?page=listUsers&quot; class=&quot;nav-link px-2 text-muted&quot;&gt;About&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/footer&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js&quot; integrity=&quot;sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>the error in listUsers.jsp says: <code>Type mismatch: cannot convert from Object to List&lt;User&gt;</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1138604,"reputation":30992,"user_id":1123123,"accept_rate":75,"display_name":"Sam I am says Reinstate Monica"},"score":0,"creation_date":1378413939,"post_id":18645605,"comment_id":27454099,"body_markdown":"what happens when you run this code?","body":"what happens when you run this code?"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1378413979,"post_id":18645605,"comment_id":27454121,"body_markdown":"@SamIam every 5 numbers will print a line break.","body":"@SamIam every 5 numbers will print a line break."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1378414082,"post_id":18645605,"comment_id":27454189,"body_markdown":"Still you got the answer :)","body":"Still you got the answer :)"},{"owner":{"account_id":1138604,"reputation":30992,"user_id":1123123,"accept_rate":75,"display_name":"Sam I am says Reinstate Monica"},"score":1,"creation_date":1378414120,"post_id":18645605,"comment_id":27454205,"body_markdown":"@LuiggiMendoza finding the answer wasn&#39;t completely the point.  I was trying to get the OP to say something other than &quot;it doesn&#39;t work&quot;","body":"@LuiggiMendoza finding the answer wasn&#39;t completely the point.  I was trying to get the OP to say something other than &quot;it doesn&#39;t work&quot;"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1378414145,"post_id":18645605,"comment_id":27454221,"body_markdown":"@SamIam I know, that&#39;s why I posted an answer in CW state.","body":"@SamIam I know, that&#39;s why I posted an answer in CW state."}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1378413890,"creation_date":1378413890,"answer_id":18645621,"question_id":18645605,"body_markdown":"You should only increment your counter when the number validation is reached. This means, move the `enter++;` inside the validation:\r\n\r\n    if (x % num == 0) {\r\n        System.out.print(x + &quot; &quot;);\r\n        enter++;\r\n    }\r\n","title":"How to print n numbers per line","body":"<p>You should only increment your counter when the number validation is reached. This means, move the <code>enter++;</code> inside the validation:</p>\n\n<pre><code>if (x % num == 0) {\n    System.out.print(x + \" \");\n    enter++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378414181,"creation_date":1378414181,"answer_id":18645701,"question_id":18645605,"body_markdown":"changing your loop to \r\n`for(int x = 17 ; x &lt;= 10000 ; x+=17)`\r\nshould solve it, and make your code about 17x faster.\r\n\r\nThen you can remove your modulus check as well.","title":"How to print n numbers per line","body":"<p>changing your loop to \n<code>for(int x = 17 ; x &lt;= 10000 ; x+=17)</code>\nshould solve it, and make your code about 17x faster.</p>\n\n<p>Then you can remove your modulus check as well.</p>\n"},{"tags":[],"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378419633,"creation_date":1378419633,"answer_id":18646860,"question_id":18645605,"body_markdown":"As others have posted, incrementing `enter` should be done only when you actually print something; and there&#39;s no point in testing it for 5 in the loop iterations when you don&#39;t print something.  \r\n\r\nAnother point is to make sure you finish correctly.  If the last line has 5 numbers, then `enter` will be 0 after the loop is done, and you&#39;ll be on the next line.  But if the last line is short, you want to make sure to do a `println()` after you&#39;re done.  So:\r\n\r\n      int enter = 0;\r\n      for (int x = 1; x &lt;= 10000; x++) {\r\n         if (x % num == 0) {\r\n            System.out.print(x + &quot; &quot;);\r\n            enter++;\r\n            if (enter == 5) {\r\n               enter = 0;\r\n               System.out.println();\r\n            }\r\n         }\r\n      }\r\n      if (enter &gt; 0)\r\n         System.out.println();\r\n\r\n(P.S. I&#39;d actually use the `x+=17` method in other answers, but this idiom could come up in many other cases where you actually do have to look at every item and only print some of them.)","title":"How to print n numbers per line","body":"<p>As others have posted, incrementing <code>enter</code> should be done only when you actually print something; and there's no point in testing it for 5 in the loop iterations when you don't print something.  </p>\n\n<p>Another point is to make sure you finish correctly.  If the last line has 5 numbers, then <code>enter</code> will be 0 after the loop is done, and you'll be on the next line.  But if the last line is short, you want to make sure to do a <code>println()</code> after you're done.  So:</p>\n\n<pre><code>  int enter = 0;\n  for (int x = 1; x &lt;= 10000; x++) {\n     if (x % num == 0) {\n        System.out.print(x + \" \");\n        enter++;\n        if (enter == 5) {\n           enter = 0;\n           System.out.println();\n        }\n     }\n  }\n  if (enter &gt; 0)\n     System.out.println();\n</code></pre>\n\n<p>(P.S. I'd actually use the <code>x+=17</code> method in other answers, but this idiom could come up in many other cases where you actually do have to look at every item and only print some of them.)</p>\n"}],"owner":{"account_id":1288017,"reputation":173,"user_id":1687896,"accept_rate":67,"display_name":"David"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6480,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1664714699,"creation_date":1378413833,"question_id":18645605,"body_markdown":"Hello I have an issue where I have to print out the numbers divisible by 17\r\nbut I want to print out 5 numbers and then jump down to the next line.\r\nThis is the code that I have and don&#39;t know why it&#39;s not working....\r\n\r\n    public class seventeen {\r\n       public static void main(String[] args) {\r\n          int num = 17;\r\n          System.out.print(&quot;The Numbers Divisible By 17 are: &quot;);\r\n          int enter = 0;\r\n          for (int x = 1; x &lt;= 10000; x++) {\r\n             if (x % num == 0) {\r\n                System.out.print(x + &quot; &quot;);\r\n             }\r\n             enter++;\r\n             if (enter == 5) {\r\n                enter = 0;\r\n                System.out.println();\r\n             }\r\n          }\r\n       }\r\n    }\r\n\r\n","title":"How to print n numbers per line","body":"<p>Hello I have an issue where I have to print out the numbers divisible by 17\nbut I want to print out 5 numbers and then jump down to the next line.\nThis is the code that I have and don't know why it's not working....</p>\n\n<pre><code>public class seventeen {\n   public static void main(String[] args) {\n      int num = 17;\n      System.out.print(\"The Numbers Divisible By 17 are: \");\n      int enter = 0;\n      for (int x = 1; x &lt;= 10000; x++) {\n         if (x % num == 0) {\n            System.out.print(x + \" \");\n         }\n         enter++;\n         if (enter == 5) {\n            enter = 0;\n            System.out.println();\n         }\n      }\n   }\n}\n</code></pre>\n"},{"tags":["java","android","database","android-recyclerview","favorites"],"answers":[{"tags":[],"owner":{"account_id":26184382,"reputation":9,"user_id":19867158,"display_name":"Nader"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664714695,"creation_date":1664714695,"answer_id":73925909,"question_id":73924380,"body_markdown":"One way to implement this is by adding isFavorite to your Note class, and then you can show them in your favorites activity where isFavorite is true by fetching them from the database. So, your favorites activity has only the favorite notes.","title":"How can I add the Recycler View Object to favorites in another activity?","body":"<p>One way to implement this is by adding isFavorite to your Note class, and then you can show them in your favorites activity where isFavorite is true by fetching them from the database. So, your favorites activity has only the favorite notes.</p>\n"}],"owner":{"account_id":25932092,"reputation":5,"user_id":19652986,"display_name":"SuperMen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664714695,"creation_date":1664699144,"question_id":73924380,"body_markdown":"I&#39;m making a note taking app, I need to add recycler view objects\r\nclick on the crown from here:\r\n\r\nhttps://i.stack.imgur.com/uXMrG.png\r\n\r\nHere:\r\n\r\nhttps://i.stack.imgur.com/ssn9g.png\r\n\r\nBy clicking on this crown, they should be saved in the &quot;Favorites&quot; activity:\r\n\r\nhttps://i.stack.imgur.com/uOvyj.png\r\n\r\n\r\nI searched for information on the Internet, but did not find a suitable one.\r\n\r\n\r\n\r\nHow can I implement this?\r\n```\r\nin_fav.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                in_fav.setVisibility(View.INVISIBLE);\r\n                from_fav.setVisibility(View.VISIBLE);\r\n                //Pressing the crown button to add to favorites\r\n            }\r\n        });\r\n\r\n        from_fav.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                from_fav.setVisibility(View.INVISIBLE);\r\n                in_fav.setVisibility(View.VISIBLE);\r\n                //Pressing the crown button to remove from favorites\r\n            }\r\n        });\r\n```","title":"How can I add the Recycler View Object to favorites in another activity?","body":"<p>I'm making a note taking app, I need to add recycler view objects\nclick on the crown from here:</p>\n<p><a href=\"https://i.stack.imgur.com/uXMrG.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/uXMrG.png</a></p>\n<p>Here:</p>\n<p><a href=\"https://i.stack.imgur.com/ssn9g.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ssn9g.png</a></p>\n<p>By clicking on this crown, they should be saved in the &quot;Favorites&quot; activity:</p>\n<p><a href=\"https://i.stack.imgur.com/uOvyj.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/uOvyj.png</a></p>\n<p>I searched for information on the Internet, but did not find a suitable one.</p>\n<p>How can I implement this?</p>\n<pre><code>in_fav.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                in_fav.setVisibility(View.INVISIBLE);\n                from_fav.setVisibility(View.VISIBLE);\n                //Pressing the crown button to add to favorites\n            }\n        });\n\n        from_fav.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                from_fav.setVisibility(View.INVISIBLE);\n                in_fav.setVisibility(View.VISIBLE);\n                //Pressing the crown button to remove from favorites\n            }\n        });\n</code></pre>\n"},{"tags":["java","android","canvas","drawing"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1664541507,"post_id":73907536,"comment_id":130501456,"body_markdown":"For the`drawText()` methods, the y-coordinate is for the text&#39;s baseline, not its very top, as one might expect from how all the other draw methods work.","body":"For the<code>drawText()</code> methods, the y-coordinate is for the text&#39;s baseline, not its very top, as one might expect from how all the other draw methods work."},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1664543310,"post_id":73907536,"comment_id":130502090,"body_markdown":"Use `getX()` and `getY()` -- relative to the view itself. Is it a single or mutiple touches? Is `time` a TextView?","body":"Use <code>getX()</code> and <code>getY()</code> -- relative to the view itself. Is it a single or mutiple touches? Is <code>time</code> a TextView?"},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1664543818,"post_id":73907536,"comment_id":130502280,"body_markdown":"@Darkman thank you for your comment is single touch, and time is a `String`","body":"@Darkman thank you for your comment is single touch, and time is a <code>String</code>"},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1664544878,"post_id":73907536,"comment_id":130502649,"body_markdown":"You might want to take a look at my old answer for single touch. https://stackoverflow.com/questions/71137325/drawing-on-android-canvas/71137718#71137718","body":"You might want to take a look at my old answer for single touch. <a href=\"https://stackoverflow.com/questions/71137325/drawing-on-android-canvas/71137718#71137718\" title=\"drawing on android canvas\">stackoverflow.com/questions/71137325/drawing-on-android-canv&zwnj;&#8203;as/&hellip;</a>"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1664545034,"post_id":73907536,"comment_id":130502712,"body_markdown":"Using `getX()` and `getY()` instead would require different logic for the listener, which is currently set on the moving target itself. Simply changing to use those methods instead would be incorrect. What they have now should be sufficient, since they&#39;re not actually using the raw coordinates for direct positioning; they&#39;re using them as reference points in delta calculations. (I&#39;ve not had any coffee yet, though, so maybe I&#39;m missing something.)","body":"Using <code>getX()</code> and <code>getY()</code> instead would require different logic for the listener, which is currently set on the moving target itself. Simply changing to use those methods instead would be incorrect. What they have now should be sufficient, since they&#39;re not actually using the raw coordinates for direct positioning; they&#39;re using them as reference points in delta calculations. (I&#39;ve not had any coffee yet, though, so maybe I&#39;m missing something.)"},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1664545693,"post_id":73907536,"comment_id":130502991,"body_markdown":"I have to dig my old projects for the x and y values. `x = viewWidth / 2F;` and `y = (viewHeight / 2F) - ((paint.descent() + paint.ascent()) / 2F);`. I believe that `viewWidth` and `viewHeight` are the width and the height of the TextView respectively.","body":"I have to dig my old projects for the x and y values. <code>x = viewWidth &#47; 2F;</code> and <code>y = (viewHeight &#47; 2F) - ((paint.descent() + paint.ascent()) &#47; 2F);</code>. I believe that <code>viewWidth</code> and <code>viewHeight</code> are the width and the height of the TextView respectively."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1664545846,"post_id":73907536,"comment_id":130503059,"body_markdown":"I&#39;m thinking they should just need to add `textView.getBaseline()` to the resulting y-coordinate. That should offset it appropriately for the `drawText()` call. Can&#39;t test anything atm, though.","body":"I&#39;m thinking they should just need to add <code>textView.getBaseline()</code> to the resulting y-coordinate. That should offset it appropriately for the <code>drawText()</code> call. Can&#39;t test anything atm, though."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1664554010,"post_id":73907536,"comment_id":130505948,"body_markdown":"Oops, I was wrong. The raw coordinates _were_ being used as the resulting (x,y), which I hadn&#39;t noticed. I&#39;d assumed you were using the `TextView`&#39;s (x,y). My bad. Sorry &#39;bout that. If you&#39;re using the `x` and `y` in `ACTION_UP` directly as the values in the draw routine, then they should be `x = view.getX();` and `y = view.getY() + view.getBaseline();` instead. In my tests, it lines up exactly: https://i.stack.imgur.com/5XGKM.png. The top shows my results without adding `view.getBaseline()`, which is what I&#39;d assumed was the sole discrepancy. The bottom shows the values corrected.","body":"Oops, I was wrong. The raw coordinates <i>were</i> being used as the resulting (x,y), which I hadn&#39;t noticed. I&#39;d assumed you were using the <code>TextView</code>&#39;s (x,y). My bad. Sorry &#39;bout that. If you&#39;re using the <code>x</code> and <code>y</code> in <code>ACTION_UP</code> directly as the values in the draw routine, then they should be <code>x = view.getX();</code> and <code>y = view.getY() + view.getBaseline();</code> instead. In my tests, it lines up exactly: <a href=\"https://i.stack.imgur.com/5XGKM.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/5XGKM.png</a>. The top shows my results without adding <code>view.getBaseline()</code>, which is what I&#39;d assumed was the sole discrepancy. The bottom shows the values corrected."},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1664555095,"post_id":73907536,"comment_id":130506273,"body_markdown":"@MikeM. Thank you so much for taking the time to help me, but unfortunately, the drawn text is positioned in the completely wrong place, please look at this image : https://i.imgur.com/SRwG350.png","body":"@MikeM. Thank you so much for taking the time to help me, but unfortunately, the drawn text is positioned in the completely wrong place, please look at this image : <a href=\"https://i.imgur.com/SRwG350.png\" rel=\"nofollow noreferrer\">i.imgur.com/SRwG350.png</a>"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1664581195,"post_id":73907536,"comment_id":130511950,"body_markdown":"I think at least part of the problem is the possible difference in how the scaling is being handled in both places. I noticed that the images you last posted are scaled differently, and have differing text sizes as well, so I&#39;m not entirely sure how you&#39;re lining things up from one place to the other. I&#39;ve put together a more relevant example, and it ends up being pretty easy to line things up if you get the `Activity` to lay out just like wallpaper would: https://drive.google.com/file/d/1Dx7Pn_LLXwukZKaKrrwBN2oDvqyVAAEQ/view?usp=sharing. Looks like: https://i.stack.imgur.com/lnoeL.png.","body":"I think at least part of the problem is the possible difference in how the scaling is being handled in both places. I noticed that the images you last posted are scaled differently, and have differing text sizes as well, so I&#39;m not entirely sure how you&#39;re lining things up from one place to the other. I&#39;ve put together a more relevant example, and it ends up being pretty easy to line things up if you get the <code>Activity</code> to lay out just like wallpaper would: <a href=\"https://drive.google.com/file/d/1Dx7Pn_LLXwukZKaKrrwBN2oDvqyVAAEQ/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1Dx7Pn_LLXwukZKaKrrwBN2oDvqyVAAEQ/&hellip;</a>. Looks like: <a href=\"https://i.stack.imgur.com/lnoeL.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/lnoeL.png</a>."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1664609595,"post_id":73907536,"comment_id":130514699,"body_markdown":"I found this rather interesting, so here&#39;s another example, if it might help ya. This one uses a custom preview `View`, and doesn&#39;t require the `Activity` or that `View` to be the full size of the screen. It also scales the preview text size appropriately: https://drive.google.com/file/d/1DymKQaiDFR_6MZal4uhiYwG57vgnkAz7/view?usp=sharing. (Sorry &#39;bout the Drive file still; I&#39;m having GitHub issues.) Looks like: https://i.stack.imgur.com/H0K6w.jpg.","body":"I found this rather interesting, so here&#39;s another example, if it might help ya. This one uses a custom preview <code>View</code>, and doesn&#39;t require the <code>Activity</code> or that <code>View</code> to be the full size of the screen. It also scales the preview text size appropriately: <a href=\"https://drive.google.com/file/d/1DymKQaiDFR_6MZal4uhiYwG57vgnkAz7/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1DymKQaiDFR_6MZal4uhiYwG57vgnkAz7/&hellip;</a>. (Sorry &#39;bout the Drive file still; I&#39;m having GitHub issues.) Looks like: <a href=\"https://i.stack.imgur.com/H0K6w.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/H0K6w.jpg</a>."},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":1,"creation_date":1664619386,"post_id":73907536,"comment_id":130516191,"body_markdown":"@MikeM. Massive thanks for your help, I really appreciate it, and accept my apologies for taking from time to help me","body":"@MikeM. Massive thanks for your help, I really appreciate it, and accept my apologies for taking from time to help me"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":2,"creation_date":1664804827,"post_id":73907536,"comment_id":130548800,"body_markdown":"Hey, just a heads up: `TextView` apparently has a long-standing bug where it doesn&#39;t resize correctly when changing the text size. Depending on how it&#39;s initialized, it&#39;s possible to end up with the `TextView` actually smaller than the text, clipping it abnormally, or one that&#39;s too big, allowing it to be dragged from outside the text bounds. I&#39;m probably gonna refactor my second example to get rid of the `TextView` altogether and handle it manually. Just thought I&#39;d let you know, in case that might be a problem for your design, too. Cheers!","body":"Hey, just a heads up: <code>TextView</code> apparently has a long-standing bug where it doesn&#39;t resize correctly when changing the text size. Depending on how it&#39;s initialized, it&#39;s possible to end up with the <code>TextView</code> actually smaller than the text, clipping it abnormally, or one that&#39;s too big, allowing it to be dragged from outside the text bounds. I&#39;m probably gonna refactor my second example to get rid of the <code>TextView</code> altogether and handle it manually. Just thought I&#39;d let you know, in case that might be a problem for your design, too. Cheers!"}],"answers":[{"tags":[],"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664536225,"creation_date":1664536225,"answer_id":73907828,"question_id":73907536,"body_markdown":"Don&#39;t use the **raw** version of the coordinates the [docs][1] say \r\n\r\n&gt; Returns the X coordinate of the pointer referenced by pointerIndex for this motion event. The coordinate is in the coordinate space of the device display, irrespective of system decorations and whether or not the system is in multi-window mode. If the app spans multiple screens in a multiple-screen environment, the coordinate space includes all of the spanned screens. \r\n\r\nuse the event&#39;s [getX][2] and [getY][3] instead as thes are \r\n\r\n&gt; Returns the X coordinate of the pointer referenced by pointerIndex for this motion event. The coordinate is in the coordinate space of the view that received this motion event. \r\n\r\nSo the these would be relative to the view `time` and would be the same coordinates as `time`&#39;s canvas\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/MotionEvent#getRawX(int)\r\n  [2]: https://developer.android.com/reference/android/view/MotionEvent#getX(int)\r\n  [3]: https://developer.android.com/reference/android/view/MotionEvent#getY(int)","title":"Draw text on canvas using a TextView X and Y positions","body":"<p>Don't use the <strong>raw</strong> version of the coordinates the <a href=\"https://developer.android.com/reference/android/view/MotionEvent#getRawX(int)\" rel=\"nofollow noreferrer\">docs</a> say</p>\n<blockquote>\n<p>Returns the X coordinate of the pointer referenced by pointerIndex for this motion event. The coordinate is in the coordinate space of the device display, irrespective of system decorations and whether or not the system is in multi-window mode. If the app spans multiple screens in a multiple-screen environment, the coordinate space includes all of the spanned screens.</p>\n</blockquote>\n<p>use the event's <a href=\"https://developer.android.com/reference/android/view/MotionEvent#getX(int)\" rel=\"nofollow noreferrer\">getX</a> and <a href=\"https://developer.android.com/reference/android/view/MotionEvent#getY(int)\" rel=\"nofollow noreferrer\">getY</a> instead as thes are</p>\n<blockquote>\n<p>Returns the X coordinate of the pointer referenced by pointerIndex for this motion event. The coordinate is in the coordinate space of the view that received this motion event.</p>\n</blockquote>\n<p>So the these would be relative to the view <code>time</code> and would be the same coordinates as <code>time</code>'s canvas</p>\n"},{"tags":[],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664713949,"creation_date":1664713949,"answer_id":73925834,"question_id":73907536,"body_markdown":"Thanks to [@MikeM.][1] For helping me to fix my issue by providing an [example][2]\r\n\r\nHowever, I&#39;ve ended up using the following :\r\n\r\n    int y = view.getY() + view.getBaseline()\r\n\r\nAlso, since the status bar and the navigation bar are hidden in the live wallpaper preview, I&#39;ve made the activity full screen to make it similar to the live wallpaper preview.\r\n\r\n  [1]: https://stackoverflow.com/users/2850651/mike-m\r\n  [2]: https://drive.google.com/file/d/1DymKQaiDFR_6MZal4uhiYwG57vgnkAz7/view","title":"Draw text on canvas using a TextView X and Y positions","body":"<p>Thanks to <a href=\"https://stackoverflow.com/users/2850651/mike-m\">@MikeM.</a> For helping me to fix my issue by providing an <a href=\"https://drive.google.com/file/d/1DymKQaiDFR_6MZal4uhiYwG57vgnkAz7/view\" rel=\"nofollow noreferrer\">example</a></p>\n<p>However, I've ended up using the following :</p>\n<pre><code>int y = view.getY() + view.getBaseline()\n</code></pre>\n<p>Also, since the status bar and the navigation bar are hidden in the live wallpaper preview, I've made the activity full screen to make it similar to the live wallpaper preview.</p>\n"}],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73925834,"answer_count":2,"score":0,"last_activity_date":1664713949,"creation_date":1664534800,"question_id":73907536,"body_markdown":"I&#39;ve an activity contains `TextView` and a `WallpaperService` where I draw some text on the canvas and display it as live wallpaper, I&#39;m trying to draw a text on `canvas` using a `TextView` X and Y coordinates. Using the below code, I&#39;m able to move the `TextView` around the screen.\r\n\r\n        textView.setOnTouchListener((view, event) -&gt; {\r\n            switch (event.getActionMasked()) {\r\n                case MotionEvent.ACTION_DOWN:\r\n                    dX = view.getX() - event.getRawX();\r\n                    dY = view.getY() - event.getRawY();\r\n                    lastAction = MotionEvent.ACTION_DOWN;\r\n                    break;\r\n\r\n                case MotionEvent.ACTION_MOVE:\r\n                    view.setY(event.getRawY() + dY);\r\n                    view.setX(event.getRawX() + dX);\r\n                    lastAction = MotionEvent.ACTION_MOVE;\r\n                    break;\r\n\r\n                case MotionEvent.ACTION_UP:\r\n                    x = (float) event.getRawX();\r\n                    y = (float) event.getRawY();\r\n                    break;\r\n\r\n                default:\r\n                    return false;\r\n            }\r\n            return true;\r\n        });\r\n\r\nDraw text based on the X and Y coordinates :\r\n\r\n     Rect rect = new Rect();\r\n     Paint timePaint = new Paint(Paint.ANTI_ALIAS_FLAG);\r\n     timePaint.setTextSize(DigitalClockHelper.getScaledTextSize(115));\r\n     timePaint.setColor(Color.BLACK);\r\n     timePaint.setTypeface(Typeface.create(Typeface.DEFAULT, Typeface.BOLD));\r\n     timePaint.getTextBounds(time, 0, time.length(), rect);\r\n     timePaint.setTextAlign(Paint.Align.CENTER);\r\n     canvas.drawText(time, x, y, timePaint);\r\n\r\n**My Issue:**\r\n\r\nWhen I draw the text on the `canvas` it&#39;s drawn correctly but in a different place, just a little bit higher where it should be drawn.\r\n\r\n**My question **\r\n\r\nHow I can draw text on `WallpaperService` exactly where the `TextView` placed in the activity.\r\n\r\nThank you.","title":"Draw text on canvas using a TextView X and Y positions","body":"<p>I've an activity contains <code>TextView</code> and a <code>WallpaperService</code> where I draw some text on the canvas and display it as live wallpaper, I'm trying to draw a text on <code>canvas</code> using a <code>TextView</code> X and Y coordinates. Using the below code, I'm able to move the <code>TextView</code> around the screen.</p>\n<pre><code>    textView.setOnTouchListener((view, event) -&gt; {\n        switch (event.getActionMasked()) {\n            case MotionEvent.ACTION_DOWN:\n                dX = view.getX() - event.getRawX();\n                dY = view.getY() - event.getRawY();\n                lastAction = MotionEvent.ACTION_DOWN;\n                break;\n\n            case MotionEvent.ACTION_MOVE:\n                view.setY(event.getRawY() + dY);\n                view.setX(event.getRawX() + dX);\n                lastAction = MotionEvent.ACTION_MOVE;\n                break;\n\n            case MotionEvent.ACTION_UP:\n                x = (float) event.getRawX();\n                y = (float) event.getRawY();\n                break;\n\n            default:\n                return false;\n        }\n        return true;\n    });\n</code></pre>\n<p>Draw text based on the X and Y coordinates :</p>\n<pre><code> Rect rect = new Rect();\n Paint timePaint = new Paint(Paint.ANTI_ALIAS_FLAG);\n timePaint.setTextSize(DigitalClockHelper.getScaledTextSize(115));\n timePaint.setColor(Color.BLACK);\n timePaint.setTypeface(Typeface.create(Typeface.DEFAULT, Typeface.BOLD));\n timePaint.getTextBounds(time, 0, time.length(), rect);\n timePaint.setTextAlign(Paint.Align.CENTER);\n canvas.drawText(time, x, y, timePaint);\n</code></pre>\n<p><strong>My Issue:</strong></p>\n<p>When I draw the text on the <code>canvas</code> it's drawn correctly but in a different place, just a little bit higher where it should be drawn.</p>\n<p>**My question **</p>\n<p>How I can draw text on <code>WallpaperService</code> exactly where the <code>TextView</code> placed in the activity.</p>\n<p>Thank you.</p>\n"},{"tags":["java","kotlin","opengl-es","opengl-es-2.0","arcore"],"answers":[{"tags":[],"owner":{"account_id":163411,"reputation":1167,"user_id":385536,"display_name":"Steven Mohr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519981646,"creation_date":1519981646,"answer_id":49065879,"question_id":48923898,"body_markdown":"This is not an ARCore problem but a OpenGL ES problem. But to achieve what you want you have to add the rotation to the model matrix in ObjectRenderer.updateModelMatrix(float[] modelMatrix, float scaleFactor). How to do rotation is explained e.g. here: http://www.learnopengles.com/tag/rotation/","title":"ARCore – How to rotate an object around its Y axis?","body":"<p>This is not an ARCore problem but a OpenGL ES problem. But to achieve what you want you have to add the rotation to the model matrix in ObjectRenderer.updateModelMatrix(float[] modelMatrix, float scaleFactor). How to do rotation is explained e.g. here: <a href=\"http://www.learnopengles.com/tag/rotation/\" rel=\"nofollow noreferrer\">http://www.learnopengles.com/tag/rotation/</a></p>\n"},{"tags":[],"owner":{"account_id":3498813,"reputation":319,"user_id":2966270,"display_name":"ahomphophone"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520393898,"creation_date":1520393898,"answer_id":49143707,"question_id":48923898,"body_markdown":"I recently had to do something similar. In the object renderer&#39;s draw method you can add:\r\n\r\n        Matrix.translateM(mModelMatrix, 0, x, y, z);\r\n        Matrix.rotateM(mModelMatrix, 0, rotationAngle, 0f, 1f, 0f);\r\n        Matrix.translateM(mModelMatrix, 0, -x, -y, -z);","title":"ARCore – How to rotate an object around its Y axis?","body":"<p>I recently had to do something similar. In the object renderer's draw method you can add:</p>\n\n<pre><code>    Matrix.translateM(mModelMatrix, 0, x, y, z);\n    Matrix.rotateM(mModelMatrix, 0, rotationAngle, 0f, 1f, 0f);\n    Matrix.translateM(mModelMatrix, 0, -x, -y, -z);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4827975,"reputation":2629,"user_id":3896945,"accept_rate":88,"display_name":"edencorbin"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1538428745,"creation_date":1538428745,"answer_id":52599025,"question_id":48923898,"body_markdown":"Just got this working in a simpler way, although this doesn&#39;t handle frame rate delta properly it may be a helpful starter. In my class that extends AnchorNode I define my new Node in the class so it is available like so:\r\n\r\n    private Node myNode = null;\r\n\r\nThen override the onUpdate as so:\r\n\r\n    @Override\r\n    public void onUpdate(FrameTime frameTime) {\r\n        super.onUpdate(frameTime);\r\n        if (myNode!=null){\r\n        Quaternion q1 = myNode.getLocalRotation();\r\n        Quaternion q2 = Quaternion.axisAngle(new Vector3(0, 1f, 0f), .2f);\r\n        myNode.setLocalRotation(Quaternion.multiply(q1, q2));\r\n        }\r\n    }\r\n","title":"ARCore – How to rotate an object around its Y axis?","body":"<p>Just got this working in a simpler way, although this doesn't handle frame rate delta properly it may be a helpful starter. In my class that extends AnchorNode I define my new Node in the class so it is available like so:</p>\n\n<pre><code>private Node myNode = null;\n</code></pre>\n\n<p>Then override the onUpdate as so:</p>\n\n<pre><code>@Override\npublic void onUpdate(FrameTime frameTime) {\n    super.onUpdate(frameTime);\n    if (myNode!=null){\n    Quaternion q1 = myNode.getLocalRotation();\n    Quaternion q2 = Quaternion.axisAngle(new Vector3(0, 1f, 0f), .2f);\n    myNode.setLocalRotation(Quaternion.multiply(q1, q2));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8834917,"reputation":50825,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554731301,"creation_date":1554713503,"answer_id":55569541,"question_id":48923898,"body_markdown":"I used Kotlin for my answer. \r\n\r\nUse `Quaternions` for rotation to avoid a [Gimbal Lock][1]. A common Quaternion rule is that the square root of the squares of the floats `x`, `y`, `z` and `w` should always equal to `1`. \r\n\r\n    sqrt((x * x) + (y * y) + (z * z) + (w * w)) = 1\r\n\r\n&gt;For rotating a cube around `Y` **Counter Clock Wise** use the following code:\r\n\r\n    var value: Float = 5.0\r\n\r\n    override fun onLeft(value: Float) {\r\n        cubeNode.apply {\r\n            Log.d(&quot;left&quot;, value.toString())\r\n            localRotationCCW = Quaternion.axisAngle(Vector3(0.0f, 1.0f, 0.0f), value)\r\n        }\r\n    } \r\n\r\n&gt;For rotating a cube around `Y` **Clock Wise** use the following code:\r\n\r\n    var value: Float = 5.0\r\n\r\n    override fun onRight(value: Float) {\r\n        cubeNode.apply {\r\n            Log.d(&quot;right&quot;, value.toString())\r\n            localRotationCW = Quaternion.axisAngle(Vector3(0.0f, 1.0f, 0.0f), -value)\r\n        }\r\n    }\r\n\r\nHope this helps.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Gimbal_lock","title":"ARCore – How to rotate an object around its Y axis?","body":"<p>I used Kotlin for my answer. </p>\n\n<p>Use <code>Quaternions</code> for rotation to avoid a <a href=\"https://en.wikipedia.org/wiki/Gimbal_lock\" rel=\"nofollow noreferrer\">Gimbal Lock</a>. A common Quaternion rule is that the square root of the squares of the floats <code>x</code>, <code>y</code>, <code>z</code> and <code>w</code> should always equal to <code>1</code>. </p>\n\n<pre><code>sqrt((x * x) + (y * y) + (z * z) + (w * w)) = 1\n</code></pre>\n\n<blockquote>\n  <p>For rotating a cube around <code>Y</code> <strong>Counter Clock Wise</strong> use the following code:</p>\n</blockquote>\n\n<pre><code>var value: Float = 5.0\n\noverride fun onLeft(value: Float) {\n    cubeNode.apply {\n        Log.d(\"left\", value.toString())\n        localRotationCCW = Quaternion.axisAngle(Vector3(0.0f, 1.0f, 0.0f), value)\n    }\n} \n</code></pre>\n\n<blockquote>\n  <p>For rotating a cube around <code>Y</code> <strong>Clock Wise</strong> use the following code:</p>\n</blockquote>\n\n<pre><code>var value: Float = 5.0\n\noverride fun onRight(value: Float) {\n    cubeNode.apply {\n        Log.d(\"right\", value.toString())\n        localRotationCW = Quaternion.axisAngle(Vector3(0.0f, 1.0f, 0.0f), -value)\n    }\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6775,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":4,"score":9,"last_activity_date":1664713607,"creation_date":1519292089,"question_id":48923898,"body_markdown":"I wonder how to rotate an object around its Y axis.\r\n\r\nFor example, I would like to rotate the droid bot of the Google sample app hello_ar_java https://github.com/google-ar/arcore-android-sdk/tree/master/samples/hello_ar_java around its Y axis with an angle alpha.","title":"ARCore – How to rotate an object around its Y axis?","body":"<p>I wonder how to rotate an object around its Y axis.</p>\n\n<p>For example, I would like to rotate the droid bot of the Google sample app hello_ar_java <a href=\"https://github.com/google-ar/arcore-android-sdk/tree/master/samples/hello_ar_java\" rel=\"noreferrer\">https://github.com/google-ar/arcore-android-sdk/tree/master/samples/hello_ar_java</a> around its Y axis with an angle alpha.</p>\n"},{"tags":["java","maven","gradle"],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1664713517,"creation_date":1664713517,"answer_id":73925793,"question_id":73925703,"body_markdown":"You need to apply the publishing plugin to allprojects instead of **root** project.\r\n\r\nTry https://stackoverflow.com/questions/59732223/maven-publishing-multiple-sub-modules-artifacts.\r\n","title":"How to publish a multi-module Gradle project to local Maven repository?","body":"<p>You need to apply the publishing plugin to allprojects instead of <strong>root</strong> project.</p>\n<p>Try <a href=\"https://stackoverflow.com/questions/59732223/maven-publishing-multiple-sub-modules-artifacts\">Maven - Publishing Multiple Sub-Modules/Artifacts</a>.</p>\n"}],"owner":{"account_id":1951950,"reputation":5475,"user_id":1755847,"accept_rate":76,"display_name":"manabreak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2204,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1664713517,"creation_date":1664712642,"question_id":73925703,"body_markdown":"I have a Gradle library project which has multiple modules, somewhat like this:\r\n\r\n    ModuleA (aka. the main module)\r\n     ^- ModuleB\r\n     ^- ModuleC\r\n         ^- ModuleD\r\n\r\nEach of these modules has external dependencies as well. Inside this project, all works fine and dandy. Now, I want to publish this project as a dependency so that I can easily integrate everything to another project (all modules A-D, as well as the external dependencies). However, when I publish to local Maven repository with `publishToMavenLocal`, only the classes from ModuleA are available in the consumer project.\r\n\r\nHow do I configure the project so that the consumer project gets to use everything from the library project?","title":"How to publish a multi-module Gradle project to local Maven repository?","body":"<p>I have a Gradle library project which has multiple modules, somewhat like this:</p>\n<pre><code>ModuleA (aka. the main module)\n ^- ModuleB\n ^- ModuleC\n     ^- ModuleD\n</code></pre>\n<p>Each of these modules has external dependencies as well. Inside this project, all works fine and dandy. Now, I want to publish this project as a dependency so that I can easily integrate everything to another project (all modules A-D, as well as the external dependencies). However, when I publish to local Maven repository with <code>publishToMavenLocal</code>, only the classes from ModuleA are available in the consumer project.</p>\n<p>How do I configure the project so that the consumer project gets to use everything from the library project?</p>\n"},{"tags":["java","junit"],"answers":[{"tags":[],"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1664713105,"creation_date":1664713105,"answer_id":73925752,"question_id":73925650,"body_markdown":"I would prefer \r\n\r\n    updateBookThrowsExceptionWhenBookManagementIsNull\r\n\r\nIt names which method is under test and the asserted result for which condition.  \r\n\r\nBut choose a name which is fitting for you und your colleagues. ","title":"Format of writing unit test cases for exceptions in junit","body":"<p>I would prefer</p>\n<pre><code>updateBookThrowsExceptionWhenBookManagementIsNull\n</code></pre>\n<p>It names which method is under test and the asserted result for which condition.</p>\n<p>But choose a name which is fitting for you und your colleagues.</p>\n"}],"owner":{"account_id":19306526,"reputation":203,"user_id":14113217,"display_name":"Palak Kharbanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":73925752,"answer_count":1,"score":0,"last_activity_date":1664713105,"creation_date":1664712159,"question_id":73925650,"body_markdown":"I am writing test cases for a Java class. It contains an exception case also where the exception is thrown when response from server is not as expected.\r\n\r\nI am bit confused about the name of that test method.\r\n\r\nThe method is `Book updateBook(Book book);`\r\n\r\nIt throws some exception when right response is not received. \r\n\r\nFor that, I have written a unit test case. But I am not sure what format should I follow for correct naming of that test method.\r\n\r\nShould I name it \r\n\r\n1.  `testThrowExceptionWhenResponseIsNull();`\r\n\r\n  OR\r\n\r\n2. `shouldThrowExceptionWhenBookManagementIsNull();`\r\n\r\n\r\n\r\n","title":"Format of writing unit test cases for exceptions in junit","body":"<p>I am writing test cases for a Java class. It contains an exception case also where the exception is thrown when response from server is not as expected.</p>\n<p>I am bit confused about the name of that test method.</p>\n<p>The method is <code>Book updateBook(Book book);</code></p>\n<p>It throws some exception when right response is not received.</p>\n<p>For that, I have written a unit test case. But I am not sure what format should I follow for correct naming of that test method.</p>\n<p>Should I name it</p>\n<ol>\n<li><code>testThrowExceptionWhenResponseIsNull();</code></li>\n</ol>\n<p>OR</p>\n<ol start=\"2\">\n<li><code>shouldThrowExceptionWhenBookManagementIsNull();</code></li>\n</ol>\n"},{"tags":["java","android","windows","zebra-printers"],"answers":[{"tags":[],"owner":{"account_id":2198422,"reputation":101,"user_id":1943508,"display_name":"felipe gaviria correa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502301217,"creation_date":1441918641,"answer_id":32511463,"question_id":32479144,"body_markdown":"Finally solved the problem.\r\n \r\nIt was as simple as getting the sdk contained in the zip file downloaded from:\r\n\r\n&quot;[Zebra Technologies - Connect and Print Over TCP/IP and Bluetooth – Zebra Android Link-OS™ SDK – Java – Android Studio][1]&quot;\r\n\r\nOnce gotten the sdk I added the dependency to my project, followed the steps of the example and everything worked like a charm!\r\n \r\nBest regards.\r\n \r\nP.S. The official installer (LaunchAnywere) still throws the same error (tried in 5 computers).\r\n\r\n\r\n  [1]: https://km.zebra.com/resources/sites/ZEBRA/content/live/SAMPLE_CODE/0/SA370/en_US/AndroidSDK_Java_ConnectAndPrint_AndroidStudio.zip","title":"install zebra sdk android","body":"<p>Finally solved the problem.</p>\n\n<p>It was as simple as getting the sdk contained in the zip file downloaded from:</p>\n\n<p>\"<a href=\"https://km.zebra.com/resources/sites/ZEBRA/content/live/SAMPLE_CODE/0/SA370/en_US/AndroidSDK_Java_ConnectAndPrint_AndroidStudio.zip\" rel=\"nofollow noreferrer\">Zebra Technologies - Connect and Print Over TCP/IP and Bluetooth – Zebra Android Link-OS™ SDK – Java – Android Studio</a>\"</p>\n\n<p>Once gotten the sdk I added the dependency to my project, followed the steps of the example and everything worked like a charm!</p>\n\n<p>Best regards.</p>\n\n<p>P.S. The official installer (LaunchAnywere) still throws the same error (tried in 5 computers).</p>\n"},{"tags":[],"owner":{"account_id":20012618,"reputation":1,"user_id":14669348,"display_name":"Jeff Glenn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664712033,"creation_date":1664681158,"answer_id":73923179,"question_id":32479144,"body_markdown":"The link in the other answer is no longer functional. I was unable to find a zip version of the SDK after hours of searching so I dug into the errors that were being thrown. \r\n\r\nThe error was an illegal reflective access. I wasn&#39;t sure what that meant but apparently it was something that changed in Java 9 so the install Anywhere installer requires JDK 8.\r\n\r\nThe solution, for me, was to install JDK 8, downloaded from the Oracle archives, which precedes the changes to the way reflective accesses are handled. I then added that JDK version to my path and ran the installer again. To my great relief, it worked. I hope this helps someone else running into this problem.","title":"install zebra sdk android","body":"<p>The link in the other answer is no longer functional. I was unable to find a zip version of the SDK after hours of searching so I dug into the errors that were being thrown.</p>\n<p>The error was an illegal reflective access. I wasn't sure what that meant but apparently it was something that changed in Java 9 so the install Anywhere installer requires JDK 8.</p>\n<p>The solution, for me, was to install JDK 8, downloaded from the Oracle archives, which precedes the changes to the way reflective accesses are handled. I then added that JDK version to my path and ran the installer again. To my great relief, it worked. I hope this helps someone else running into this problem.</p>\n"}],"owner":{"account_id":2198422,"reputation":101,"user_id":1943508,"display_name":"felipe gaviria correa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664712033,"creation_date":1441800382,"question_id":32479144,"body_markdown":"I&#39;m having really trouble installing the latest Zebra SDK version for Windows (mpsdk-installer-2-8-Windows.exe).\r\n\r\nInstaller was downloaded from the Zebra&#39;s website (LINK-OS MULTIPLATFORM SDK).\r\n\r\nThe installer (LaunchAnywher) throws &quot;Windows error 2 occured while loading the Java VM&quot; when it gets 100%:\r\n\r\nI tried 2 workarounds I found in google:\r\n\r\n - Include the Java folder path into the Path environment variable.\r\n - Run installer from cmd: mpsdk-installer-2-8-Windows.exe LAX_VM\r\n   C:\\ProgramFiles\\Java\\jre1.8.0_60\\bin\\java.exe\r\n\r\nNone of them works (my OS is Windows 8.1 Pro 64 bits).\r\n\r\nJust for check I got an older version of the Zebra SDK (ZebraSDK1.0.121.exe) and installation did ok.\r\n \r\nAfter that I created JAVA_HOME variable environment but I still get the same error.\r\n \r\nThen I created the environment variable for my user ...and didn&#39;t work either.\r\n\r\nEven I tried the installer and the same procedure in other devices (win7 and win10 32bits) getting the same result.\r\n\r\nAny ideas?","title":"install zebra sdk android","body":"<p>I'm having really trouble installing the latest Zebra SDK version for Windows (mpsdk-installer-2-8-Windows.exe).</p>\n\n<p>Installer was downloaded from the Zebra's website (LINK-OS MULTIPLATFORM SDK).</p>\n\n<p>The installer (LaunchAnywher) throws \"Windows error 2 occured while loading the Java VM\" when it gets 100%:</p>\n\n<p>I tried 2 workarounds I found in google:</p>\n\n<ul>\n<li>Include the Java folder path into the Path environment variable.</li>\n<li>Run installer from cmd: mpsdk-installer-2-8-Windows.exe LAX_VM\nC:\\ProgramFiles\\Java\\jre1.8.0_60\\bin\\java.exe</li>\n</ul>\n\n<p>None of them works (my OS is Windows 8.1 Pro 64 bits).</p>\n\n<p>Just for check I got an older version of the Zebra SDK (ZebraSDK1.0.121.exe) and installation did ok.</p>\n\n<p>After that I created JAVA_HOME variable environment but I still get the same error.</p>\n\n<p>Then I created the environment variable for my user ...and didn't work either.</p>\n\n<p>Even I tried the installer and the same procedure in other devices (win7 and win10 32bits) getting the same result.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","android","retrofit","expandablelistview"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1664697798,"post_id":73924173,"comment_id":130527894,"body_markdown":"What is a &quot;null exception&quot;?","body":"What is a &quot;null exception&quot;?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1664708075,"post_id":73924173,"comment_id":130529447,"body_markdown":"`but whenever i try it it gives me null exception i `","body":"<code>but whenever i try it it gives me null exception i </code>"}],"owner":{"account_id":15067325,"reputation":37,"user_id":10873994,"display_name":"Mohammad khaled"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1664711794,"creation_date":1664696916,"question_id":73924173,"body_markdown":"I am trying to populate an ExpandableListView with data from a json API using retrofit but whenever i try it it gives me IndexOutOfBoundsException i made sure the models are right the spelling everything but i can&#39;t get to a solution and for clarity this is my first time using expandablelistview i understand its concept please view my code below.\r\n\r\nJSON Response\r\n``` \r\n{\r\n  &quot;Status&quot;: 200,\r\n  &quot;Message&quot;: &quot;OK&quot;,\r\n  &quot;Data&quot;: {\r\n    &quot;SubService&quot;: [\r\n      {\r\n        &quot;Id&quot;: 13,\r\n        &quot;MainServiceId&quot;: 11,\r\n        &quot;SubServiceNameAr&quot;: &quot;سبلت&quot;,\r\n        &quot;SubServiceNameEn&quot;: &quot;Split AC&quot;,\r\n        &quot;ServicePriceLists&quot;: [\r\n          {\r\n            &quot;Id&quot;: 18,\r\n            &quot;SubServiceId&quot;: 13,\r\n            &quot;DescriptionAr&quot;: &quot;تنظيف مكيف سبليت\\r\\n&quot;,\r\n            &quot;DescriptionEn&quot;: &quot;Cleaning Split AC\\r\\n&quot;,\r\n            &quot;Price&quot;: 120,\r\n            &quot;Cost&quot;: 100,\r\n            &quot;Tasks&quot;: null\r\n          },\r\n          {\r\n            &quot;Id&quot;: 19,\r\n            &quot;SubServiceId&quot;: 13,\r\n            &quot;DescriptionAr&quot;: &quot;تعبئة غاز فريون\\r\\n&quot;,\r\n            &quot;DescriptionEn&quot;: &quot;Refilling Freon\\r\\n&quot;,\r\n            &quot;Price&quot;: 150,\r\n            &quot;Cost&quot;: 120,\r\n            &quot;Tasks&quot;: null\r\n          },\r\n          {\r\n            &quot;Id&quot;: 20,\r\n            &quot;SubServiceId&quot;: 13,\r\n            &quot;DescriptionAr&quot;: &quot;تسرب مياه المكيف&quot;,\r\n            &quot;DescriptionEn&quot;: &quot;Water Leakage\\r\\n&quot;,\r\n            &quot;Price&quot;: 70,\r\n            &quot;Cost&quot;: 50,\r\n            &quot;Tasks&quot;: null\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        &quot;Id&quot;: 14,\r\n        &quot;MainServiceId&quot;: 11,\r\n        &quot;SubServiceNameAr&quot;: &quot;عامودى/قائم&quot;,\r\n        &quot;SubServiceNameEn&quot;: &quot;Vertical/Horizontal AC&quot;,\r\n        &quot;ServicePriceLists&quot;: []\r\n      },\r\n      {\r\n        &quot;Id&quot;: 15,\r\n        &quot;MainServiceId&quot;: 11,\r\n        &quot;SubServiceNameAr&quot;: &quot;شباك\\r\\n&quot;,\r\n        &quot;SubServiceNameEn&quot;: &quot;Window AC\\r\\n&quot;,\r\n        &quot;ServicePriceLists&quot;: []\r\n      },\r\n      {\r\n        &quot;Id&quot;: 16,\r\n        &quot;MainServiceId&quot;: 11,\r\n        &quot;SubServiceNameAr&quot;: &quot;كاسيت\\r\\n&quot;,\r\n        &quot;SubServiceNameEn&quot;: &quot;Cassette AC\\r\\n&quot;,\r\n        &quot;ServicePriceLists&quot;: []\r\n      },\r\n      {\r\n        &quot;Id&quot;: 17,\r\n        &quot;MainServiceId&quot;: 11,\r\n        &quot;SubServiceNameAr&quot;: &quot;مخفى\\r\\n&quot;,\r\n        &quot;SubServiceNameEn&quot;: &quot;Hidden AC\\r\\n&quot;,\r\n        &quot;ServicePriceLists&quot;: []\r\n      },\r\n      {\r\n        &quot;Id&quot;: 18,\r\n        &quot;MainServiceId&quot;: 11,\r\n        &quot;SubServiceNameAr&quot;: &quot;وحدة كاملة&quot;,\r\n        &quot;SubServiceNameEn&quot;: &quot;Full Unit AC\\r\\n&quot;,\r\n        &quot;ServicePriceLists&quot;: []\r\n      },\r\n      {\r\n        &quot;Id&quot;: 19,\r\n        &quot;MainServiceId&quot;: 12,\r\n        &quot;SubServiceNameAr&quot;: &quot;الانارة\\r\\n&quot;,\r\n        &quot;SubServiceNameEn&quot;: &quot;Lighting\\r\\n&quot;,\r\n        &quot;ServicePriceLists&quot;: [\r\n          {\r\n            &quot;Id&quot;: 23,\r\n            &quot;SubServiceId&quot;: 19,\r\n            &quot;DescriptionAr&quot;: &quot;تركيب ثريا صغيرة\\r\\n&quot;,\r\n            &quot;DescriptionEn&quot;: &quot;Small Chandelier installation\\r\\n&quot;,\r\n            &quot;Price&quot;: 50,\r\n            &quot;Cost&quot;: 35,\r\n            &quot;Tasks&quot;: null\r\n          },\r\n          {\r\n            &quot;Id&quot;: 24,\r\n            &quot;SubServiceId&quot;: 19,\r\n            &quot;DescriptionAr&quot;: &quot;تركيب ضوء خارجى\\r\\n&quot;,\r\n            &quot;DescriptionEn&quot;: &quot;External Light installation\\r\\n&quot;,\r\n            &quot;Price&quot;: 80,\r\n            &quot;Cost&quot;: 60,\r\n            &quot;Tasks&quot;: null\r\n          },\r\n          {\r\n            &quot;Id&quot;: 26,\r\n            &quot;SubServiceId&quot;: 19,\r\n            &quot;DescriptionAr&quot;: &quot;تركيب سبوت لاين\\r\\n&quot;,\r\n            &quot;DescriptionEn&quot;: &quot;Spot light Installation\\r\\n&quot;,\r\n            &quot;Price&quot;: 65,\r\n            &quot;Cost&quot;: 50,\r\n            &quot;Tasks&quot;: null\r\n          },\r\n          {\r\n            &quot;Id&quot;: 27,\r\n            &quot;SubServiceId&quot;: 19,\r\n            &quot;DescriptionAr&quot;: &quot;تغيير لمبة عادية او ليد\\r\\n&quot;,\r\n            &quot;DescriptionEn&quot;: &quot;Changing Normal/LED Lamps\\r\\n&quot;,\r\n            &quot;Price&quot;: 45,\r\n            &quot;Cost&quot;: 30,\r\n            &quot;Tasks&quot;: null\r\n          },\r\n          {\r\n            &quot;Id&quot;: 28,\r\n            &quot;SubServiceId&quot;: 19,\r\n            &quot;DescriptionAr&quot;: &quot;تركيب قاعدة لمبة عادية او ليد\\r\\n&quot;,\r\n            &quot;DescriptionEn&quot;: &quot;Installing Normal/LED lamp base\\r\\n&quot;,\r\n            &quot;Price&quot;: 50,\r\n            &quot;Cost&quot;: 30,\r\n            &quot;Tasks&quot;: null\r\n          },\r\n          {\r\n            &quot;Id&quot;: 29,\r\n            &quot;SubServiceId&quot;: 19,\r\n            &quot;DescriptionAr&quot;: &quot;تركيب سبوت لايت كبير\\r\\n&quot;,\r\n            &quot;DescriptionEn&quot;: &quot;Big Spot Light installation\\r\\n&quot;,\r\n            &quot;Price&quot;: 90,\r\n            &quot;Cost&quot;: 65,\r\n            &quot;Tasks&quot;: null\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}\r\n``` \r\nSubServiceAdapter(ExpandableListViewAdapter)\r\n```\r\npublic class SubServiceAdapter extends BaseExpandableListAdapter{\r\n\r\n    private Context mContext;\r\n    private List&lt;SubServiceModel&gt; parentItemArrayList;\r\n    private List&lt;ServicePriceListModel&gt; childItemArrayList;\r\n    private TextView tv_parentItem, tv_childItem;\r\n//    private ImageView iv_groupIndicator;\r\n//    private HashMap&lt;String, List&lt;ServicePriceListModel&gt;&gt; servicePriceListModels;\r\n\r\n\r\n    public SubServiceAdapter(Context mContext, List&lt;SubServiceModel&gt; parentItemArrayList) {\r\n        this.mContext = mContext;\r\n        this.parentItemArrayList = parentItemArrayList;\r\n//        this.servicePriceListModels = servicePriceListModels;\r\n    }\r\n\r\n    @Override\r\n    public Object getChild(int groupPosition, int childPosition) {\r\n        childItemArrayList = parentItemArrayList.get(groupPosition).getServicePriceListsModel();\r\n        return childItemArrayList.get(childPosition);\r\n    }\r\n\r\n    @Override\r\n    public long getChildId(int groupPosition, int childPosition) {\r\n        return childPosition;\r\n    }\r\n\r\n    @Override\r\n    public View getChildView(int groupPosition, int childPosition, boolean isLastChild, View view, ViewGroup viewGroup) {\r\n        ServicePriceListModel childItemInfo = (ServicePriceListModel) getChild(groupPosition,childPosition);\r\n        if(view == null)\r\n        {\r\n            LayoutInflater layoutInflater = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n            view = layoutInflater.inflate(R.layout.expandable_listview_child,null);\r\n        }\r\n\r\n        tv_childItem = (TextView)view.findViewById(R.id.ServicePriceDesc);\r\n        tv_childItem.setText(childItemInfo.getDescriptionAr());\r\n\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public int getChildrenCount(int i) {\r\n        childItemArrayList = parentItemArrayList.get(i).getServicePriceListsModel();\r\n        return childItemArrayList.size();\r\n    }\r\n\r\n    @Override\r\n    public Object getGroup(int groupPosition) {\r\n        return parentItemArrayList.get(groupPosition);\r\n    }\r\n\r\n    @Override\r\n    public int getGroupCount() {\r\n        return parentItemArrayList.size();\r\n    }\r\n\r\n    @Override\r\n    public long getGroupId(int groupPosition) {\r\n        return groupPosition;\r\n    }\r\n\r\n    @Override\r\n    public View getGroupView(int groupPosition, boolean isExpanded, View convertView, ViewGroup parent) {\r\n        SubServiceModel parentItemInfo = (SubServiceModel) getGroup(groupPosition);\r\n        if (convertView == null) {\r\n            LayoutInflater layoutInflater = (LayoutInflater) this.mContext.\r\n                    getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n            convertView = layoutInflater.inflate(R.layout.expandable_listview_parent, null);\r\n        }\r\n        TextView listTitleTextView = (TextView) convertView\r\n                .findViewById(R.id.SubServiceName);\r\n        listTitleTextView.setTypeface(null, Typeface.BOLD);\r\n        listTitleTextView.setText(parentItemInfo.getSubServiceNameAr());\r\n        return convertView;\r\n    }\r\n\r\n    @Override\r\n    public boolean hasStableIds() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isChildSelectable(int i, int i1) {\r\n        return true;\r\n    }}\r\n``` \r\nMainActivity\r\n``` \r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private HashMap&lt;String, SubServiceModel&gt; subjects;\r\n    private List&lt;SubServiceModel&gt; parentItemsList;\r\n    private List&lt;ServicePriceListModel&gt; childItemsList;\r\n    private SubServiceAdapter customAdapter;\r\n    private ExpandableListView elvSimple;\r\n    private ImageView iv_groupIndicator;\r\n    private int previousGroup = -1;\r\n    SubServiceViewModel subServiceViewModel;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        initializeView();\r\n        loadData();\r\n        collapseAll();\r\n    }\r\n\r\n    public void initializeView() {\r\n        subjects = new HashMap&lt;&gt;();\r\n        parentItemsList = new ArrayList&lt;&gt;();\r\n        childItemsList = new ArrayList&lt;&gt;();\r\n        customAdapter = new SubServiceAdapter(MainActivity.this, parentItemsList);\r\n        elvSimple = findViewById(R.id.ELVSubService);\r\n        elvSimple.setAdapter(customAdapter);\r\n\r\n//        iv_groupIndicator = findViewById(R.id.iv_groupIndicator);\r\n\r\n        elvSimple.setOnGroupClickListener(new ExpandableListView.OnGroupClickListener() {\r\n            @Override\r\n            public boolean onGroupClick(ExpandableListView parent, View v, int groupPosition, long id) {\r\n\r\n                if (elvSimple.isGroupExpanded(groupPosition)) {\r\n                    elvSimple.collapseGroup(groupPosition);\r\n                    previousGroup = -1;\r\n                } else {\r\n                    elvSimple.expandGroup(groupPosition);\r\n                    if (previousGroup != -1) {\r\n                        elvSimple.collapseGroup(previousGroup);\r\n                    }\r\n                    previousGroup = groupPosition;\r\n                }\r\n\r\n                return true;\r\n            }\r\n        });\r\n\r\n        elvSimple.setOnGroupExpandListener(new ExpandableListView.OnGroupExpandListener() {\r\n            @Override\r\n            public void onGroupExpand(int groupPosition) {\r\n                /* Auto Scrolling */\r\n                elvSimple.setSelectedGroup(groupPosition);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void loadData() {\r\n//        addItem();\r\n        addItem(parentItemsList.get(1).getSubServiceNameAr(), parentItemsList.get(1).getServicePriceListsModel().get(1).getDescriptionAr());\r\n//        addItem(parentItemsList.get(1).getSubServiceNameAr(), childItemsList.get(1).getDescriptionAr());\r\n        \r\n    }\r\n\r\n    private int addItem(String parentItemName, String childItemName) {\r\n        int groupPosition = 0;\r\n\r\n        //check the hash map if the group already exists\r\n        SubServiceModel parentItemObj = subjects.get(parentItemName);\r\n\r\n        //add the group if doesn&#39;t exists\r\n        if (parentItemObj == null) {\r\n            parentItemObj = new SubServiceModel();\r\n            parentItemObj.setSubServiceNameAr(parentItemName);\r\n            subjects.put(parentItemName, parentItemObj);\r\n\r\n            parentItemsList.add(parentItemObj);\r\n\r\n        }\r\n\r\n        //get the children for the group\r\n        childItemsList = parentItemObj.getServicePriceListsModel();\r\n\r\n        //size of the children list\r\n        int listSize = childItemsList.size();\r\n\r\n        //add to the counter\r\n        listSize++;\r\n\r\n        //create a new child and add that to the group\r\n\r\n        ServicePriceListModel childItemObj = new ServicePriceListModel();\r\n        childItemObj.setDescriptionAr(childItemName);\r\n        childItemsList.add(childItemObj);\r\n        parentItemObj.setServicePriceListsModel(childItemsList);\r\n\r\n        //find the group position inside the list\r\n        groupPosition = parentItemsList.indexOf(parentItemObj);\r\n        return groupPosition;\r\n    }\r\n\r\n    //method to expand all groups\r\n    private void expandAll() {\r\n        int count = customAdapter.getGroupCount();\r\n        for (int i = 0; i &lt; count; i++) {\r\n            elvSimple.expandGroup(i);\r\n        }\r\n    }\r\n\r\n    //method to collapse all groups\r\n    private void collapseAll() {\r\n        int count = customAdapter.getGroupCount();\r\n        for (int i = 0; i &lt; count; i++) {\r\n            elvSimple.collapseGroup(i);\r\n        }\r\n    }\r\n}\r\n```\r\nIf anything else is needed plz don&#39;t hesitate to ask me any help would be appreciated thanks in advance. ","title":"Populate ExpandableListView from 2 different Models. gives me a IndexOutOfBoundsException","body":"<p>I am trying to populate an ExpandableListView with data from a json API using retrofit but whenever i try it it gives me IndexOutOfBoundsException i made sure the models are right the spelling everything but i can't get to a solution and for clarity this is my first time using expandablelistview i understand its concept please view my code below.</p>\n<p>JSON Response</p>\n<pre><code>{\n  &quot;Status&quot;: 200,\n  &quot;Message&quot;: &quot;OK&quot;,\n  &quot;Data&quot;: {\n    &quot;SubService&quot;: [\n      {\n        &quot;Id&quot;: 13,\n        &quot;MainServiceId&quot;: 11,\n        &quot;SubServiceNameAr&quot;: &quot;سبلت&quot;,\n        &quot;SubServiceNameEn&quot;: &quot;Split AC&quot;,\n        &quot;ServicePriceLists&quot;: [\n          {\n            &quot;Id&quot;: 18,\n            &quot;SubServiceId&quot;: 13,\n            &quot;DescriptionAr&quot;: &quot;تنظيف مكيف سبليت\\r\\n&quot;,\n            &quot;DescriptionEn&quot;: &quot;Cleaning Split AC\\r\\n&quot;,\n            &quot;Price&quot;: 120,\n            &quot;Cost&quot;: 100,\n            &quot;Tasks&quot;: null\n          },\n          {\n            &quot;Id&quot;: 19,\n            &quot;SubServiceId&quot;: 13,\n            &quot;DescriptionAr&quot;: &quot;تعبئة غاز فريون\\r\\n&quot;,\n            &quot;DescriptionEn&quot;: &quot;Refilling Freon\\r\\n&quot;,\n            &quot;Price&quot;: 150,\n            &quot;Cost&quot;: 120,\n            &quot;Tasks&quot;: null\n          },\n          {\n            &quot;Id&quot;: 20,\n            &quot;SubServiceId&quot;: 13,\n            &quot;DescriptionAr&quot;: &quot;تسرب مياه المكيف&quot;,\n            &quot;DescriptionEn&quot;: &quot;Water Leakage\\r\\n&quot;,\n            &quot;Price&quot;: 70,\n            &quot;Cost&quot;: 50,\n            &quot;Tasks&quot;: null\n          }\n        ]\n      },\n      {\n        &quot;Id&quot;: 14,\n        &quot;MainServiceId&quot;: 11,\n        &quot;SubServiceNameAr&quot;: &quot;عامودى/قائم&quot;,\n        &quot;SubServiceNameEn&quot;: &quot;Vertical/Horizontal AC&quot;,\n        &quot;ServicePriceLists&quot;: []\n      },\n      {\n        &quot;Id&quot;: 15,\n        &quot;MainServiceId&quot;: 11,\n        &quot;SubServiceNameAr&quot;: &quot;شباك\\r\\n&quot;,\n        &quot;SubServiceNameEn&quot;: &quot;Window AC\\r\\n&quot;,\n        &quot;ServicePriceLists&quot;: []\n      },\n      {\n        &quot;Id&quot;: 16,\n        &quot;MainServiceId&quot;: 11,\n        &quot;SubServiceNameAr&quot;: &quot;كاسيت\\r\\n&quot;,\n        &quot;SubServiceNameEn&quot;: &quot;Cassette AC\\r\\n&quot;,\n        &quot;ServicePriceLists&quot;: []\n      },\n      {\n        &quot;Id&quot;: 17,\n        &quot;MainServiceId&quot;: 11,\n        &quot;SubServiceNameAr&quot;: &quot;مخفى\\r\\n&quot;,\n        &quot;SubServiceNameEn&quot;: &quot;Hidden AC\\r\\n&quot;,\n        &quot;ServicePriceLists&quot;: []\n      },\n      {\n        &quot;Id&quot;: 18,\n        &quot;MainServiceId&quot;: 11,\n        &quot;SubServiceNameAr&quot;: &quot;وحدة كاملة&quot;,\n        &quot;SubServiceNameEn&quot;: &quot;Full Unit AC\\r\\n&quot;,\n        &quot;ServicePriceLists&quot;: []\n      },\n      {\n        &quot;Id&quot;: 19,\n        &quot;MainServiceId&quot;: 12,\n        &quot;SubServiceNameAr&quot;: &quot;الانارة\\r\\n&quot;,\n        &quot;SubServiceNameEn&quot;: &quot;Lighting\\r\\n&quot;,\n        &quot;ServicePriceLists&quot;: [\n          {\n            &quot;Id&quot;: 23,\n            &quot;SubServiceId&quot;: 19,\n            &quot;DescriptionAr&quot;: &quot;تركيب ثريا صغيرة\\r\\n&quot;,\n            &quot;DescriptionEn&quot;: &quot;Small Chandelier installation\\r\\n&quot;,\n            &quot;Price&quot;: 50,\n            &quot;Cost&quot;: 35,\n            &quot;Tasks&quot;: null\n          },\n          {\n            &quot;Id&quot;: 24,\n            &quot;SubServiceId&quot;: 19,\n            &quot;DescriptionAr&quot;: &quot;تركيب ضوء خارجى\\r\\n&quot;,\n            &quot;DescriptionEn&quot;: &quot;External Light installation\\r\\n&quot;,\n            &quot;Price&quot;: 80,\n            &quot;Cost&quot;: 60,\n            &quot;Tasks&quot;: null\n          },\n          {\n            &quot;Id&quot;: 26,\n            &quot;SubServiceId&quot;: 19,\n            &quot;DescriptionAr&quot;: &quot;تركيب سبوت لاين\\r\\n&quot;,\n            &quot;DescriptionEn&quot;: &quot;Spot light Installation\\r\\n&quot;,\n            &quot;Price&quot;: 65,\n            &quot;Cost&quot;: 50,\n            &quot;Tasks&quot;: null\n          },\n          {\n            &quot;Id&quot;: 27,\n            &quot;SubServiceId&quot;: 19,\n            &quot;DescriptionAr&quot;: &quot;تغيير لمبة عادية او ليد\\r\\n&quot;,\n            &quot;DescriptionEn&quot;: &quot;Changing Normal/LED Lamps\\r\\n&quot;,\n            &quot;Price&quot;: 45,\n            &quot;Cost&quot;: 30,\n            &quot;Tasks&quot;: null\n          },\n          {\n            &quot;Id&quot;: 28,\n            &quot;SubServiceId&quot;: 19,\n            &quot;DescriptionAr&quot;: &quot;تركيب قاعدة لمبة عادية او ليد\\r\\n&quot;,\n            &quot;DescriptionEn&quot;: &quot;Installing Normal/LED lamp base\\r\\n&quot;,\n            &quot;Price&quot;: 50,\n            &quot;Cost&quot;: 30,\n            &quot;Tasks&quot;: null\n          },\n          {\n            &quot;Id&quot;: 29,\n            &quot;SubServiceId&quot;: 19,\n            &quot;DescriptionAr&quot;: &quot;تركيب سبوت لايت كبير\\r\\n&quot;,\n            &quot;DescriptionEn&quot;: &quot;Big Spot Light installation\\r\\n&quot;,\n            &quot;Price&quot;: 90,\n            &quot;Cost&quot;: 65,\n            &quot;Tasks&quot;: null\n          }\n        ]\n      }\n    ]\n  }\n}\n</code></pre>\n<p>SubServiceAdapter(ExpandableListViewAdapter)</p>\n<pre><code>public class SubServiceAdapter extends BaseExpandableListAdapter{\n\n    private Context mContext;\n    private List&lt;SubServiceModel&gt; parentItemArrayList;\n    private List&lt;ServicePriceListModel&gt; childItemArrayList;\n    private TextView tv_parentItem, tv_childItem;\n//    private ImageView iv_groupIndicator;\n//    private HashMap&lt;String, List&lt;ServicePriceListModel&gt;&gt; servicePriceListModels;\n\n\n    public SubServiceAdapter(Context mContext, List&lt;SubServiceModel&gt; parentItemArrayList) {\n        this.mContext = mContext;\n        this.parentItemArrayList = parentItemArrayList;\n//        this.servicePriceListModels = servicePriceListModels;\n    }\n\n    @Override\n    public Object getChild(int groupPosition, int childPosition) {\n        childItemArrayList = parentItemArrayList.get(groupPosition).getServicePriceListsModel();\n        return childItemArrayList.get(childPosition);\n    }\n\n    @Override\n    public long getChildId(int groupPosition, int childPosition) {\n        return childPosition;\n    }\n\n    @Override\n    public View getChildView(int groupPosition, int childPosition, boolean isLastChild, View view, ViewGroup viewGroup) {\n        ServicePriceListModel childItemInfo = (ServicePriceListModel) getChild(groupPosition,childPosition);\n        if(view == null)\n        {\n            LayoutInflater layoutInflater = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n            view = layoutInflater.inflate(R.layout.expandable_listview_child,null);\n        }\n\n        tv_childItem = (TextView)view.findViewById(R.id.ServicePriceDesc);\n        tv_childItem.setText(childItemInfo.getDescriptionAr());\n\n        return view;\n    }\n\n    @Override\n    public int getChildrenCount(int i) {\n        childItemArrayList = parentItemArrayList.get(i).getServicePriceListsModel();\n        return childItemArrayList.size();\n    }\n\n    @Override\n    public Object getGroup(int groupPosition) {\n        return parentItemArrayList.get(groupPosition);\n    }\n\n    @Override\n    public int getGroupCount() {\n        return parentItemArrayList.size();\n    }\n\n    @Override\n    public long getGroupId(int groupPosition) {\n        return groupPosition;\n    }\n\n    @Override\n    public View getGroupView(int groupPosition, boolean isExpanded, View convertView, ViewGroup parent) {\n        SubServiceModel parentItemInfo = (SubServiceModel) getGroup(groupPosition);\n        if (convertView == null) {\n            LayoutInflater layoutInflater = (LayoutInflater) this.mContext.\n                    getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n            convertView = layoutInflater.inflate(R.layout.expandable_listview_parent, null);\n        }\n        TextView listTitleTextView = (TextView) convertView\n                .findViewById(R.id.SubServiceName);\n        listTitleTextView.setTypeface(null, Typeface.BOLD);\n        listTitleTextView.setText(parentItemInfo.getSubServiceNameAr());\n        return convertView;\n    }\n\n    @Override\n    public boolean hasStableIds() {\n        return true;\n    }\n\n    @Override\n    public boolean isChildSelectable(int i, int i1) {\n        return true;\n    }}\n</code></pre>\n<p>MainActivity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private HashMap&lt;String, SubServiceModel&gt; subjects;\n    private List&lt;SubServiceModel&gt; parentItemsList;\n    private List&lt;ServicePriceListModel&gt; childItemsList;\n    private SubServiceAdapter customAdapter;\n    private ExpandableListView elvSimple;\n    private ImageView iv_groupIndicator;\n    private int previousGroup = -1;\n    SubServiceViewModel subServiceViewModel;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        initializeView();\n        loadData();\n        collapseAll();\n    }\n\n    public void initializeView() {\n        subjects = new HashMap&lt;&gt;();\n        parentItemsList = new ArrayList&lt;&gt;();\n        childItemsList = new ArrayList&lt;&gt;();\n        customAdapter = new SubServiceAdapter(MainActivity.this, parentItemsList);\n        elvSimple = findViewById(R.id.ELVSubService);\n        elvSimple.setAdapter(customAdapter);\n\n//        iv_groupIndicator = findViewById(R.id.iv_groupIndicator);\n\n        elvSimple.setOnGroupClickListener(new ExpandableListView.OnGroupClickListener() {\n            @Override\n            public boolean onGroupClick(ExpandableListView parent, View v, int groupPosition, long id) {\n\n                if (elvSimple.isGroupExpanded(groupPosition)) {\n                    elvSimple.collapseGroup(groupPosition);\n                    previousGroup = -1;\n                } else {\n                    elvSimple.expandGroup(groupPosition);\n                    if (previousGroup != -1) {\n                        elvSimple.collapseGroup(previousGroup);\n                    }\n                    previousGroup = groupPosition;\n                }\n\n                return true;\n            }\n        });\n\n        elvSimple.setOnGroupExpandListener(new ExpandableListView.OnGroupExpandListener() {\n            @Override\n            public void onGroupExpand(int groupPosition) {\n                /* Auto Scrolling */\n                elvSimple.setSelectedGroup(groupPosition);\n            }\n        });\n    }\n\n    private void loadData() {\n//        addItem();\n        addItem(parentItemsList.get(1).getSubServiceNameAr(), parentItemsList.get(1).getServicePriceListsModel().get(1).getDescriptionAr());\n//        addItem(parentItemsList.get(1).getSubServiceNameAr(), childItemsList.get(1).getDescriptionAr());\n        \n    }\n\n    private int addItem(String parentItemName, String childItemName) {\n        int groupPosition = 0;\n\n        //check the hash map if the group already exists\n        SubServiceModel parentItemObj = subjects.get(parentItemName);\n\n        //add the group if doesn't exists\n        if (parentItemObj == null) {\n            parentItemObj = new SubServiceModel();\n            parentItemObj.setSubServiceNameAr(parentItemName);\n            subjects.put(parentItemName, parentItemObj);\n\n            parentItemsList.add(parentItemObj);\n\n        }\n\n        //get the children for the group\n        childItemsList = parentItemObj.getServicePriceListsModel();\n\n        //size of the children list\n        int listSize = childItemsList.size();\n\n        //add to the counter\n        listSize++;\n\n        //create a new child and add that to the group\n\n        ServicePriceListModel childItemObj = new ServicePriceListModel();\n        childItemObj.setDescriptionAr(childItemName);\n        childItemsList.add(childItemObj);\n        parentItemObj.setServicePriceListsModel(childItemsList);\n\n        //find the group position inside the list\n        groupPosition = parentItemsList.indexOf(parentItemObj);\n        return groupPosition;\n    }\n\n    //method to expand all groups\n    private void expandAll() {\n        int count = customAdapter.getGroupCount();\n        for (int i = 0; i &lt; count; i++) {\n            elvSimple.expandGroup(i);\n        }\n    }\n\n    //method to collapse all groups\n    private void collapseAll() {\n        int count = customAdapter.getGroupCount();\n        for (int i = 0; i &lt; count; i++) {\n            elvSimple.collapseGroup(i);\n        }\n    }\n}\n</code></pre>\n<p>If anything else is needed plz don't hesitate to ask me any help would be appreciated thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1664657733,"post_id":73921573,"comment_id":130523450,"body_markdown":"you found nothing because `JTextArea` is the wrong component, please check Oracle&#39;s tutorial [Using Text Components](https://docs.oracle.com/javase/tutorial/uiswing/components/text.html) - first diagram shows that `JEditorPane` and `JTextPane` are able to displayed styled text, while `JTestAres` *only* displays plain text.","body":"you found nothing because <code>JTextArea</code> is the wrong component, please check Oracle&#39;s tutorial <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/text.html\" rel=\"nofollow noreferrer\">Using Text Components</a> - first diagram shows that <code>JEditorPane</code> and <code>JTextPane</code> are able to displayed styled text, while <code>JTestAres</code> <i>only</i> displays plain text."},{"owner":{"account_id":26176856,"reputation":55,"user_id":19860851,"display_name":"yavda"},"score":0,"creation_date":1664658544,"post_id":73921573,"comment_id":130523584,"body_markdown":"I don&#39;t understand, can you please eloborate","body":"I don&#39;t understand, can you please eloborate"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1664658934,"post_id":73921573,"comment_id":130523639,"body_markdown":"The **JTextArea** component *can not* display Syntax Highlighting. You will need to use either the **JEditorPane** component or the **JTextPane** component which can possibly display Syntax Highlighting.","body":"The <b>JTextArea</b> component <i>can not</i> display Syntax Highlighting. You will need to use either the <b>JEditorPane</b> component or the <b>JTextPane</b> component which can possibly display Syntax Highlighting."}],"answers":[{"tags":[],"owner":{"account_id":23662754,"reputation":19,"user_id":17690611,"display_name":"PastaLaPate"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664711302,"creation_date":1664711302,"answer_id":73925557,"question_id":73921573,"body_markdown":"Hey im making a IDE and i can help you :p.\r\nReplace JTextArea by JTextPane : JTextPane can be Stylised.\r\nFor the syntax hightlight you can use the [StyledDocument][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/68337928/how-to-highlight-words-using-java-highlighter","title":"Java JTextArea how to apply syntax highlighting","body":"<p>Hey im making a IDE and i can help you :p.\nReplace JTextArea by JTextPane : JTextPane can be Stylised.\nFor the syntax hightlight you can use the <a href=\"https://stackoverflow.com/questions/68337928/how-to-highlight-words-using-java-highlighter\">StyledDocument</a>.</p>\n"}],"owner":{"account_id":26176856,"reputation":55,"user_id":19860851,"display_name":"yavda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664711302,"creation_date":1664656414,"question_id":73921573,"body_markdown":"I am trying to make a simple code editor with the JFrame library in Java and I&#39;ve got all the base things working except for syntax highlighting. I&#39;ve read through forums and forums but I am not able to find anything. So my question is how to change the color of certain words\r\nAn example\r\n\r\n```java\r\nTextEditor(){\r\n        JTextArea textArea;\r\n        JScrollPane scrollPane;\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setTitle(&quot;foo&quot;);\r\n        this.setSize(1000,1000);\r\n        this.setLayout(new FlowLayout());\r\n        this.setLocationRelativeTo(null);\r\n        textArea=new JTextArea();\r\n\r\n        textArea=new JTextArea();\r\n\r\n        textArea.setLineWrap(true);\r\n        textArea.setWrapStyleWord(true);\r\n\r\n        textArea.setFont(new Font(&quot;Times New Roman&quot;,Font.PLAIN,20));\r\n        scrollPane=new JScrollPane(textArea);\r\n\r\n        scrollPane=new JScrollPane(textArea);\r\n        scrollPane.setPreferredSize(new Dimension(950,950));\r\n        \r\n    scrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n}\r\n```\r\n\r\n ","title":"Java JTextArea how to apply syntax highlighting","body":"<p>I am trying to make a simple code editor with the JFrame library in Java and I've got all the base things working except for syntax highlighting. I've read through forums and forums but I am not able to find anything. So my question is how to change the color of certain words\nAn example</p>\n<pre class=\"lang-java prettyprint-override\"><code>TextEditor(){\n        JTextArea textArea;\n        JScrollPane scrollPane;\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setTitle(&quot;foo&quot;);\n        this.setSize(1000,1000);\n        this.setLayout(new FlowLayout());\n        this.setLocationRelativeTo(null);\n        textArea=new JTextArea();\n\n        textArea=new JTextArea();\n\n        textArea.setLineWrap(true);\n        textArea.setWrapStyleWord(true);\n\n        textArea.setFont(new Font(&quot;Times New Roman&quot;,Font.PLAIN,20));\n        scrollPane=new JScrollPane(textArea);\n\n        scrollPane=new JScrollPane(textArea);\n        scrollPane.setPreferredSize(new Dimension(950,950));\n        \n    scrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664557004,"creation_date":1664557004,"answer_id":73911845,"question_id":73911650,"body_markdown":"You need to `groupBy` twice - once by subject, and once by type. This way, the different types are put into a map, and you can easily extract them as lists using `get(&quot;g&quot;)`, `get(&quot;d1&quot;)`, etc.\r\n\r\n    // Map&lt;String, Map&lt;String, List&lt;Grade&gt;&gt;&gt;\r\n    var map = list.stream().collect(Collectors.groupingBy(\r\n        x -&gt; x.getSubject(),\r\n        Collectors.groupingBy(\r\n            x -&gt; x.getType(),\r\n            Collectors.mapping(x -&gt; new Grade(x.getGrade(), x.getGradeDate()), Collectors.toList())\r\n        )\r\n    ));\r\n\r\nThen you can transform each entry into a `MapObject`:\r\n\r\n    var result = map.entrySet().stream().map(MapObject::fromMapEntry).toList();\r\n\r\nwhere\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\nclass Grade {\r\n    private Float grade;\r\n    private LocalDate gradeDate;\r\n}\r\n\r\n@Data\r\n@AllArgsConstructor\r\nclass MapObject {\r\n    private String subject;\r\n    private List&lt;Grade&gt; g;\r\n    private List&lt;Grade&gt; d1;\r\n    private List&lt;Grade&gt; d2;\r\n\r\n    private MapObject() {}\r\n\r\n    public static MapObject fromMapEntry(Map.Entry&lt;String, Map&lt;String, List&lt;Grade&gt;&gt;&gt; entry) {\r\n        var mapObject = new MapObject();\r\n        mapObject.subject = entry.getKey();\r\n        mapObject.g = Objects.requireNonNullElseGet(entry.getValue().get(&quot;g&quot;), ArrayList::new);\r\n        mapObject.d1 = Objects.requireNonNullElseGet(entry.getValue().get(&quot;d1&quot;), ArrayList::new);\r\n        mapObject.d2 = Objects.requireNonNullElseGet(entry.getValue().get(&quot;d2&quot;), ArrayList::new);\r\n        return mapObject;\r\n    }\r\n}\r\n```","title":"Java Create new Object using groupedBy with different variables","body":"<p>You need to <code>groupBy</code> twice - once by subject, and once by type. This way, the different types are put into a map, and you can easily extract them as lists using <code>get(&quot;g&quot;)</code>, <code>get(&quot;d1&quot;)</code>, etc.</p>\n<pre><code>// Map&lt;String, Map&lt;String, List&lt;Grade&gt;&gt;&gt;\nvar map = list.stream().collect(Collectors.groupingBy(\n    x -&gt; x.getSubject(),\n    Collectors.groupingBy(\n        x -&gt; x.getType(),\n        Collectors.mapping(x -&gt; new Grade(x.getGrade(), x.getGradeDate()), Collectors.toList())\n    )\n));\n</code></pre>\n<p>Then you can transform each entry into a <code>MapObject</code>:</p>\n<pre><code>var result = map.entrySet().stream().map(MapObject::fromMapEntry).toList();\n</code></pre>\n<p>where</p>\n<pre><code>@Data\n@AllArgsConstructor\nclass Grade {\n    private Float grade;\n    private LocalDate gradeDate;\n}\n\n@Data\n@AllArgsConstructor\nclass MapObject {\n    private String subject;\n    private List&lt;Grade&gt; g;\n    private List&lt;Grade&gt; d1;\n    private List&lt;Grade&gt; d2;\n\n    private MapObject() {}\n\n    public static MapObject fromMapEntry(Map.Entry&lt;String, Map&lt;String, List&lt;Grade&gt;&gt;&gt; entry) {\n        var mapObject = new MapObject();\n        mapObject.subject = entry.getKey();\n        mapObject.g = Objects.requireNonNullElseGet(entry.getValue().get(&quot;g&quot;), ArrayList::new);\n        mapObject.d1 = Objects.requireNonNullElseGet(entry.getValue().get(&quot;d1&quot;), ArrayList::new);\n        mapObject.d2 = Objects.requireNonNullElseGet(entry.getValue().get(&quot;d2&quot;), ArrayList::new);\n        return mapObject;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664561050,"creation_date":1664559923,"answer_id":73912282,"question_id":73911650,"body_markdown":"As the *downstream collector* of `groupingBy()` you need to provide a *collector* which associate each *type* with a list of *grades*.\r\n\r\nFor that, you can either use another *collector* `groupingBy()` and pass a combination of `mapping()` + `toList()` as its downstream (*as already shown in [this answer](https://stackoverflow.com/a/73911845/17949945)*), or create a *custom collector* for that purpose.\r\n\r\nIn order to transform a `Map&lt;String,List&lt;Grade&gt;&gt;` (*grades by type*) into a `MapObject` you can introduce a utility method.\r\n\r\n```\r\nList&lt;SourceEntity&gt; myList = // initializing the list\r\n        \r\nList&lt;MapObject&gt; temp = myList.stream()\r\n    .collect(Collectors.groupingBy(\r\n        SourceEntity::getSubject,\r\n        Collector.of(\r\n            HashMap::new,\r\n            (Map&lt;String, List&lt;Grade&gt;&gt; gradesByType, SourceEntity next) -&gt;\r\n                gradesByType.computeIfAbsent(next.getType(), k -&gt; new ArrayList&lt;&gt;())\r\n                .add(new Grade(next.getGrade(), next.gradeDate)),\r\n            (left, right) -&gt; {\r\n                right.forEach((k, v) -&gt; left.merge(k, v,\r\n                    (oldV, newV) -&gt; { oldV.addAll(newV); return oldV; }));\r\n                return left;\r\n            })\r\n    ))\r\n    .entrySet().stream()\r\n    .map(entry -&gt; MapObject.of(entry.getKey(), entry.getValue()))\r\n    .toList();\r\n```\r\n\r\n    public class MapObject {\r\n        public static final String GRADE = &quot;g&quot;;\r\n        public static final String DEVIATION_1 = &quot;d1&quot;;\r\n        public static final String DEVIATION_2 = &quot;d2&quot;;\r\n        \r\n        private String subject;\r\n        private List&lt;Grade&gt; g = Collections.emptyList();\r\n        private List&lt;Grade&gt; d1 = Collections.emptyList();\r\n        private List&lt;Grade&gt; d2 = Collections.emptyList();\r\n        \r\n        // constructors getters\r\n        \r\n        public static MapObject of(String subject, Map&lt;String, List&lt;Grade&gt;&gt; gradesByType) {\r\n            \r\n            return new MapObject(subject,\r\n                gradesByType.getOrDefault(GRADE, Collections.emptyList()),\r\n                gradesByType.getOrDefault(DEVIATION_1, Collections.emptyList()),\r\n                gradesByType.getOrDefault(DEVIATION_2, Collections.emptyList())\r\n            );\r\n        }\r\n    }","title":"Java Create new Object using groupedBy with different variables","body":"<p>As the <em>downstream collector</em> of <code>groupingBy()</code> you need to provide a <em>collector</em> which associate each <em>type</em> with a list of <em>grades</em>.</p>\n<p>For that, you can either use another <em>collector</em> <code>groupingBy()</code> and pass a combination of <code>mapping()</code> + <code>toList()</code> as its downstream (<em>as already shown in <a href=\"https://stackoverflow.com/a/73911845/17949945\">this answer</a></em>), or create a <em>custom collector</em> for that purpose.</p>\n<p>In order to transform a <code>Map&lt;String,List&lt;Grade&gt;&gt;</code> (<em>grades by type</em>) into a <code>MapObject</code> you can introduce a utility method.</p>\n<pre><code>List&lt;SourceEntity&gt; myList = // initializing the list\n        \nList&lt;MapObject&gt; temp = myList.stream()\n    .collect(Collectors.groupingBy(\n        SourceEntity::getSubject,\n        Collector.of(\n            HashMap::new,\n            (Map&lt;String, List&lt;Grade&gt;&gt; gradesByType, SourceEntity next) -&gt;\n                gradesByType.computeIfAbsent(next.getType(), k -&gt; new ArrayList&lt;&gt;())\n                .add(new Grade(next.getGrade(), next.gradeDate)),\n            (left, right) -&gt; {\n                right.forEach((k, v) -&gt; left.merge(k, v,\n                    (oldV, newV) -&gt; { oldV.addAll(newV); return oldV; }));\n                return left;\n            })\n    ))\n    .entrySet().stream()\n    .map(entry -&gt; MapObject.of(entry.getKey(), entry.getValue()))\n    .toList();\n</code></pre>\n<pre><code>public class MapObject {\n    public static final String GRADE = &quot;g&quot;;\n    public static final String DEVIATION_1 = &quot;d1&quot;;\n    public static final String DEVIATION_2 = &quot;d2&quot;;\n    \n    private String subject;\n    private List&lt;Grade&gt; g = Collections.emptyList();\n    private List&lt;Grade&gt; d1 = Collections.emptyList();\n    private List&lt;Grade&gt; d2 = Collections.emptyList();\n    \n    // constructors getters\n    \n    public static MapObject of(String subject, Map&lt;String, List&lt;Grade&gt;&gt; gradesByType) {\n        \n        return new MapObject(subject,\n            gradesByType.getOrDefault(GRADE, Collections.emptyList()),\n            gradesByType.getOrDefault(DEVIATION_1, Collections.emptyList()),\n            gradesByType.getOrDefault(DEVIATION_2, Collections.emptyList())\n        );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16967085,"reputation":25,"user_id":12272657,"display_name":"C0d3R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73912282,"answer_count":2,"score":1,"last_activity_date":1664710816,"creation_date":1664555658,"question_id":73911650,"body_markdown":"I&#39;m trying to figure out how to use groupedBy correctly. I have a List with grades, deviations and subjects. Deviation and Grade are returned in the same field and can be differentiated by type\r\n\r\n| subject | grade_date | grade | type |\r\n|:---- |:------:| :-----:| -----:|\r\n| Math | 2022-03-01 | 1 | g |\r\n| Math | 2022-03-01 | 0.5 | d1 |\r\n| Math | 2022-03-01 | 0.5 | d2 |\r\n| German | 2022-03-02 | 2 | g |\r\n| German | 2022-03-02 | 0.3 | d1 |\r\n| German | 2022-03-02 | 0.2 | d2 |\r\n| German | 2022-05-01 | 1 | g |\r\n| German | 2022-05-01 | 0.5 | d1 |\r\n| German | 2022-05-01 | 0.4 | d2 |\r\n\r\nMy goal is it to group this list by Subject and create a new Object which looks like this.\r\n\r\n    public class MapObject {\r\n    \tprivate String subject;\r\n    \tList&lt;Grade&gt; g = new ArrayList&lt;&gt;();\r\n    \tList&lt;Grade&gt; d1 = new ArrayList&lt;&gt;();\r\n    \tList&lt;Grade&gt; d2 = new ArrayList&lt;&gt;();\r\n    }\r\n\r\nGrade Object would look like this\r\n\r\n    public class Grade {\r\n        \tprivate Float grade;\r\n        \tprivate LocalDate gradeDate;\r\n        }\r\n\r\nAnd the result (in JSON) should look like this\r\n\r\n    [\r\n        {\r\n            &quot;subject&quot;: &quot;Math&quot;,\r\n            &quot;g&quot;: [\r\n                {\r\n                    &quot;grade&quot;: 1.0,\r\n                    &quot;gradeDate&quot;: &quot;2022-03-01&quot;,\r\n                }\r\n            ],\r\n    \t\t&quot;d1&quot;: [\r\n                {\r\n                    &quot;grade&quot;: 0.5,\r\n                    &quot;gradeDate&quot;: &quot;2022-03-01&quot;,\r\n                }\r\n            ],\r\n    \t\t&quot;d2&quot;: [\r\n                {\r\n                    &quot;grade&quot;: 0.5,\r\n                    &quot;gradeDate&quot;: &quot;2022-03-01&quot;,\r\n                }\r\n            ]\r\n        },\r\n        {\r\n    \t\t&quot;subject&quot;: &quot;German&quot;,\r\n    \t\t&quot;g&quot;: [\r\n                {\r\n                    &quot;grade&quot;: 2.0,\r\n                    &quot;gradeDate&quot;: &quot;2022-03-02&quot;,\r\n                },\r\n                {\r\n                    &quot;grade&quot;: 1.0,\r\n                    &quot;gradeDate&quot;: &quot;2022-05-01&quot;,\r\n                }\r\n            ],\r\n    \t\t&quot;d1&quot;: [\r\n                {\r\n                    &quot;grade&quot;: 0.3,\r\n                    &quot;gradeDate&quot;: &quot;2022-03-02&quot;,\r\n                },\r\n                {\r\n                    &quot;grade&quot;: 0.5,\r\n                    &quot;gradeDate&quot;: &quot;2022-05-01&quot;,\r\n                }\r\n            ],\r\n    \t\t&quot;d2&quot;: [\r\n                {\r\n                    &quot;grade&quot;: 0.2,\r\n                    &quot;gradeDate&quot;: &quot;2022-03-02&quot;,\r\n                },\r\n                {\r\n                    &quot;grade&quot;: 0.4,\r\n                    &quot;gradeDate&quot;: &quot;2022-05-01&quot;,\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n\r\n\r\nI tried to use the groupedBy as follow but I couldn&#39;t figure out how to split the lists to g[], d1[], d2[]\r\n\r\n    var temp = myList.stream()\r\n               .collect(Collectors.groupingBy(SourceEntity::getSubject,\r\n    \t\t\t\t\tCollectors.mapping(s -&gt; {\r\n    \t\t\t\t\t   return new Grade(s.getGrade(), s.getGradeDate());\r\n    \t\t\t\t    }, Collectors.toList())))\r\n               .entrySet()\r\n               .stream()\r\n               .map(x -&gt; new MapObject(x.getKey(), x.getValue()))\r\n               .collect(Collectors.toList());","title":"Java Create new Object using groupedBy with different variables","body":"<p>I'm trying to figure out how to use groupedBy correctly. I have a List with grades, deviations and subjects. Deviation and Grade are returned in the same field and can be differentiated by type</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">subject</th>\n<th style=\"text-align: center;\">grade_date</th>\n<th style=\"text-align: center;\">grade</th>\n<th style=\"text-align: right;\">type</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">Math</td>\n<td style=\"text-align: center;\">2022-03-01</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: right;\">g</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Math</td>\n<td style=\"text-align: center;\">2022-03-01</td>\n<td style=\"text-align: center;\">0.5</td>\n<td style=\"text-align: right;\">d1</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Math</td>\n<td style=\"text-align: center;\">2022-03-01</td>\n<td style=\"text-align: center;\">0.5</td>\n<td style=\"text-align: right;\">d2</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">German</td>\n<td style=\"text-align: center;\">2022-03-02</td>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: right;\">g</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">German</td>\n<td style=\"text-align: center;\">2022-03-02</td>\n<td style=\"text-align: center;\">0.3</td>\n<td style=\"text-align: right;\">d1</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">German</td>\n<td style=\"text-align: center;\">2022-03-02</td>\n<td style=\"text-align: center;\">0.2</td>\n<td style=\"text-align: right;\">d2</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">German</td>\n<td style=\"text-align: center;\">2022-05-01</td>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: right;\">g</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">German</td>\n<td style=\"text-align: center;\">2022-05-01</td>\n<td style=\"text-align: center;\">0.5</td>\n<td style=\"text-align: right;\">d1</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">German</td>\n<td style=\"text-align: center;\">2022-05-01</td>\n<td style=\"text-align: center;\">0.4</td>\n<td style=\"text-align: right;\">d2</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>My goal is it to group this list by Subject and create a new Object which looks like this.</p>\n<pre><code>public class MapObject {\n    private String subject;\n    List&lt;Grade&gt; g = new ArrayList&lt;&gt;();\n    List&lt;Grade&gt; d1 = new ArrayList&lt;&gt;();\n    List&lt;Grade&gt; d2 = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>Grade Object would look like this</p>\n<pre><code>public class Grade {\n        private Float grade;\n        private LocalDate gradeDate;\n    }\n</code></pre>\n<p>And the result (in JSON) should look like this</p>\n<pre><code>[\n    {\n        &quot;subject&quot;: &quot;Math&quot;,\n        &quot;g&quot;: [\n            {\n                &quot;grade&quot;: 1.0,\n                &quot;gradeDate&quot;: &quot;2022-03-01&quot;,\n            }\n        ],\n        &quot;d1&quot;: [\n            {\n                &quot;grade&quot;: 0.5,\n                &quot;gradeDate&quot;: &quot;2022-03-01&quot;,\n            }\n        ],\n        &quot;d2&quot;: [\n            {\n                &quot;grade&quot;: 0.5,\n                &quot;gradeDate&quot;: &quot;2022-03-01&quot;,\n            }\n        ]\n    },\n    {\n        &quot;subject&quot;: &quot;German&quot;,\n        &quot;g&quot;: [\n            {\n                &quot;grade&quot;: 2.0,\n                &quot;gradeDate&quot;: &quot;2022-03-02&quot;,\n            },\n            {\n                &quot;grade&quot;: 1.0,\n                &quot;gradeDate&quot;: &quot;2022-05-01&quot;,\n            }\n        ],\n        &quot;d1&quot;: [\n            {\n                &quot;grade&quot;: 0.3,\n                &quot;gradeDate&quot;: &quot;2022-03-02&quot;,\n            },\n            {\n                &quot;grade&quot;: 0.5,\n                &quot;gradeDate&quot;: &quot;2022-05-01&quot;,\n            }\n        ],\n        &quot;d2&quot;: [\n            {\n                &quot;grade&quot;: 0.2,\n                &quot;gradeDate&quot;: &quot;2022-03-02&quot;,\n            },\n            {\n                &quot;grade&quot;: 0.4,\n                &quot;gradeDate&quot;: &quot;2022-05-01&quot;,\n            }\n        ]\n    }\n]\n</code></pre>\n<p>I tried to use the groupedBy as follow but I couldn't figure out how to split the lists to g[], d1[], d2[]</p>\n<pre><code>var temp = myList.stream()\n           .collect(Collectors.groupingBy(SourceEntity::getSubject,\n                    Collectors.mapping(s -&gt; {\n                       return new Grade(s.getGrade(), s.getGradeDate());\n                    }, Collectors.toList())))\n           .entrySet()\n           .stream()\n           .map(x -&gt; new MapObject(x.getKey(), x.getValue()))\n           .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","mysql","spring","hibernate","jodatime"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1664711396,"post_id":46518767,"comment_id":130530002,"body_markdown":"@PeterPenzov You shouldn&#39;t edit someone else&#39;s question to add another question. You should have created your own.","body":"@PeterPenzov You shouldn&#39;t edit someone else&#39;s question to add another question. You should have created your own."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1664711760,"post_id":46518767,"comment_id":130530075,"body_markdown":"Oh, my bad. I did a mistake. Please disregard.","body":"Oh, my bad. I did a mistake. Please disregard."}],"answers":[{"tags":[],"owner":{"account_id":7126482,"reputation":2638,"user_id":5449250,"display_name":"Anatoly Shamov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1506927706,"creation_date":1506927706,"answer_id":46520802,"question_id":46518767,"body_markdown":"There are incompatible versions of Jadira and Hibernate.\r\nSince you&#39;re using `Hibernate 5.0.12`, you should try `Jadira Usertype 5.0.0.GA`.\r\n\r\nAccording to [release notes][1]:\r\n\r\n* Jadira 6.0.0.GA (and 6.0.1.GA) is compatible with Hibernate 5.2\r\n* Jadira 5.0.0.GA is compatible with Hibernate 5\r\n\r\n\r\n  [1]: http://jadira.sourceforge.net/changes-report.html#a6.0.1.GA","title":"Persisting Joda Date Time in Hibernate","body":"<p>There are incompatible versions of Jadira and Hibernate.\nSince you're using <code>Hibernate 5.0.12</code>, you should try <code>Jadira Usertype 5.0.0.GA</code>.</p>\n\n<p>According to <a href=\"http://jadira.sourceforge.net/changes-report.html#a6.0.1.GA\" rel=\"nofollow noreferrer\">release notes</a>:</p>\n\n<ul>\n<li>Jadira 6.0.0.GA (and 6.0.1.GA) is compatible with Hibernate 5.2</li>\n<li>Jadira 5.0.0.GA is compatible with Hibernate 5</li>\n</ul>\n"}],"owner":{"account_id":10230215,"reputation":3533,"user_id":7551257,"accept_rate":45,"display_name":"Melissa Stewart"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9693,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1664710400,"creation_date":1506911273,"question_id":46518767,"body_markdown":"I&#39;ve a joda datetime field that I&#39;m trying to persist into mysql using hiberante.\r\n\r\n    @Column  @Type(type=&quot;org.jadira.usertype.dateandtime.joda.PersistentLocalDateTime&quot;)\r\n    private DateTime created;\r\n\r\nThis is the property and its annotation.\r\n\r\nHere&#39;s my gradle dependency\r\n\r\n    compile (&#39;org.jadira.usertype:usertype.core:6.0.1.GA&#39;)\r\n\r\nI get this huge exception and can&#39;t seem to find a way around. Any help?\r\n\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [com/ftb/auth/configs/DataConfig.class]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: org.hibernate.engine.spi.SessionFactoryImplementor.getProperties()Ljava/util/Map;\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1078) ~[spring-context-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:857) ~[spring-context-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\r\n    \tat com.ftb.auth.BouncerApplication.main(BouncerApplication.java:9) [classes/:na]\r\n    Caused by: java.lang.NoSuchMethodError: org.hibernate.engine.spi.SessionFactoryImplementor.getProperties()Ljava/util/Map;\r\n    \tat org.jadira.usertype.spi.shared.AbstractUserTypeHibernateIntegrator.integrate(AbstractUserTypeHibernateIntegrator.java:192) ~[usertype.spi-6.0.1.GA.jar:na]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:280) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:879) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60) ~[spring-orm-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:353) ~[spring-orm-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:370) ~[spring-orm-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:359) ~[spring-orm-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \t... 16 common frames omitted\r\n\r\nWhen I downgrade the Jadira, to match Hibernate 5.2 this is what I get,another huge stack trace.\r\n\r\n    java.lang.IllegalStateException: Failed to execute ApplicationRunner\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:726) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:713) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:703) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:304) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\r\n    \tat com.ftb.auth.BouncerApplication.main(BouncerApplication.java:9) [classes/:na]\r\n    Caused by: org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:526) ~[spring-orm-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) ~[spring-tx-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) ~[spring-tx-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) ~[spring-tx-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) ~[spring-tx-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133) ~[spring-data-jpa-1.11.7.RELEASE.jar:na]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.7.RELEASE.jar:na]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \tat com.sun.proxy.$Proxy95.save(Unknown Source) ~[na:na]\r\n    \tat com.ftb.auth.init.DatabaseLoader.run(DatabaseLoader.java:25) ~[classes/:na]\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:723) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\r\n    \t... 6 common frames omitted\r\n    Caused by: javax.persistence.RollbackException: Error while committing the transaction\r\n    \tat org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:87) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:517) ~[spring-orm-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n    \t... 24 common frames omitted\r\n    Caused by: java.lang.ClassCastException: org.joda.time.DateTime cannot be cast to org.joda.time.LocalDateTime\r\n    \tat org.jadira.usertype.dateandtime.joda.columnmapper.TimestampColumnLocalDateTimeMapper.toNonNullValue(TimestampColumnLocalDateTimeMapper.java:29) ~[usertype.core-5.0.0.GA.jar:na]\r\n    \tat org.jadira.usertype.spi.shared.AbstractSingleColumnUserType.nullSafeSet(AbstractSingleColumnUserType.java:100) ~[usertype.spi-5.0.0.GA.jar:na]\r\n    \tat org.hibernate.type.CustomType.nullSafeSet(CustomType.java:142) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.dehydrate(AbstractEntityPersister.java:2661) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2946) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3449) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:89) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:582) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:456) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1282) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:465) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2963) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2339) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:485) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:147) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:65) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n    \tat org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:61) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\r\n\r\nFor latest Java 17 how I can update this code so that I can remove `jadira` dependency?","title":"Persisting Joda Date Time in Hibernate","body":"<p>I've a joda datetime field that I'm trying to persist into mysql using hiberante.</p>\n<pre><code>@Column  @Type(type=&quot;org.jadira.usertype.dateandtime.joda.PersistentLocalDateTime&quot;)\nprivate DateTime created;\n</code></pre>\n<p>This is the property and its annotation.</p>\n<p>Here's my gradle dependency</p>\n<pre><code>compile ('org.jadira.usertype:usertype.core:6.0.1.GA')\n</code></pre>\n<p>I get this huge exception and can't seem to find a way around. Any help?</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [com/ftb/auth/configs/DataConfig.class]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: org.hibernate.engine.spi.SessionFactoryImplementor.getProperties()Ljava/util/Map;\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1078) ~[spring-context-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:857) ~[spring-context-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543) ~[spring-context-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\n    at com.ftb.auth.BouncerApplication.main(BouncerApplication.java:9) [classes/:na]\nCaused by: java.lang.NoSuchMethodError: org.hibernate.engine.spi.SessionFactoryImplementor.getProperties()Ljava/util/Map;\n    at org.jadira.usertype.spi.shared.AbstractUserTypeHibernateIntegrator.integrate(AbstractUserTypeHibernateIntegrator.java:192) ~[usertype.spi-6.0.1.GA.jar:na]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:280) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:879) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60) ~[spring-orm-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:353) ~[spring-orm-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:370) ~[spring-orm-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:359) ~[spring-orm-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    ... 16 common frames omitted\n</code></pre>\n<p>When I downgrade the Jadira, to match Hibernate 5.2 this is what I get,another huge stack trace.</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute ApplicationRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:726) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:713) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\n    at org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:703) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:304) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\n    at com.ftb.auth.BouncerApplication.main(BouncerApplication.java:9) [classes/:na]\nCaused by: org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:526) ~[spring-orm-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) ~[spring-tx-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) ~[spring-tx-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) ~[spring-tx-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) ~[spring-tx-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133) ~[spring-data-jpa-1.11.7.RELEASE.jar:na]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.7.RELEASE.jar:na]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    at com.sun.proxy.$Proxy95.save(Unknown Source) ~[na:na]\n    at com.ftb.auth.init.DatabaseLoader.run(DatabaseLoader.java:25) ~[classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:723) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\n    ... 6 common frames omitted\nCaused by: javax.persistence.RollbackException: Error while committing the transaction\n    at org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:87) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:517) ~[spring-orm-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n    ... 24 common frames omitted\nCaused by: java.lang.ClassCastException: org.joda.time.DateTime cannot be cast to org.joda.time.LocalDateTime\n    at org.jadira.usertype.dateandtime.joda.columnmapper.TimestampColumnLocalDateTimeMapper.toNonNullValue(TimestampColumnLocalDateTimeMapper.java:29) ~[usertype.core-5.0.0.GA.jar:na]\n    at org.jadira.usertype.spi.shared.AbstractSingleColumnUserType.nullSafeSet(AbstractSingleColumnUserType.java:100) ~[usertype.spi-5.0.0.GA.jar:na]\n    at org.hibernate.type.CustomType.nullSafeSet(CustomType.java:142) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.dehydrate(AbstractEntityPersister.java:2661) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2946) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3449) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:89) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:582) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:456) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1282) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:465) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2963) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2339) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:485) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:147) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:65) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:61) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\n</code></pre>\n<p>For latest Java 17 how I can update this code so that I can remove <code>jadira</code> dependency?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664701708,"post_id":73924620,"comment_id":130528426,"body_markdown":"How did you started first process?","body":"How did you started first process?"}],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664710109,"creation_date":1664710109,"answer_id":73925431,"question_id":73924620,"body_markdown":"For one, your code is trying to compile a Java source file, not run a Java class file.  Get the correct command line, just as you did to start the initial process.\r\nYou can use the System Property &quot;java.home&quot; to find the java launcher command (assuming the JRE includes it - not all JREs will if they were made for a specific application with ```jlink```.)\r\n\r\nHere is code to run an executable Jar file... the class path would need to be adjusted:\r\n```\r\npublic class LaunchJavaProcess {\r\n    public static void main(String[] args) throws IOException {\r\n        String javaEXE = Path.of(System.getProperty(&quot;java.home&quot;),\r\n                &quot;bin&quot;,\r\n                System.getProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;) ? &quot;java.exe&quot; : &quot;java&quot;)\r\n                .toString();\r\n        \r\n        ProcessBuilder pb = new ProcessBuilder(javaEXE, &quot;-cp&quot;, &quot;.&quot;, &quot;-jar&quot;, &quot;SomeExecutable.jar&quot;);\r\n        pb.inheritIO();\r\n        pb.start();\r\n    }\r\n}\r\n```","title":"How to create another process in java with java code?","body":"<p>For one, your code is trying to compile a Java source file, not run a Java class file.  Get the correct command line, just as you did to start the initial process.\nYou can use the System Property &quot;java.home&quot; to find the java launcher command (assuming the JRE includes it - not all JREs will if they were made for a specific application with <code>jlink</code>.)</p>\n<p>Here is code to run an executable Jar file... the class path would need to be adjusted:</p>\n<pre><code>public class LaunchJavaProcess {\n    public static void main(String[] args) throws IOException {\n        String javaEXE = Path.of(System.getProperty(&quot;java.home&quot;),\n                &quot;bin&quot;,\n                System.getProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;) ? &quot;java.exe&quot; : &quot;java&quot;)\n                .toString();\n        \n        ProcessBuilder pb = new ProcessBuilder(javaEXE, &quot;-cp&quot;, &quot;.&quot;, &quot;-jar&quot;, &quot;SomeExecutable.jar&quot;);\n        pb.inheritIO();\n        pb.start();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26505914,"reputation":3,"user_id":20142075,"display_name":"Андрей Стариненко"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1664718308,"accepted_answer_id":73925431,"answer_count":1,"score":-2,"last_activity_date":1664710109,"creation_date":1664701614,"question_id":73924620,"body_markdown":"I want to run another process written in java. But I don&#39;t know how to do it. I searched the internet but only found how to start notepad.\r\nI have a class main, in it I want to start a new process ChildMain. How to do it ?\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n\r\n\r\n        Process process = Runtime.getRuntime()\r\n                .exec(&quot;javac -cp src/child/ChildMain.java&quot;);\r\n\r\n        Thread.sleep(10000);\r\n\r\n    }\r\n\r\n```\r\n```\r\npublic class ChildMain {\r\n    public static void main(String[] args) {\r\n        // code\r\n    }\r\n}\r\n```\r\nIf anyone has an example or know how to do it, please tell me","title":"How to create another process in java with java code?","body":"<p>I want to run another process written in java. But I don't know how to do it. I searched the internet but only found how to start notepad.\nI have a class main, in it I want to start a new process ChildMain. How to do it ?</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws IOException, InterruptedException {\n\n\n        Process process = Runtime.getRuntime()\n                .exec(&quot;javac -cp src/child/ChildMain.java&quot;);\n\n        Thread.sleep(10000);\n\n    }\n\n</code></pre>\n<pre><code>public class ChildMain {\n    public static void main(String[] args) {\n        // code\n    }\n}\n</code></pre>\n<p>If anyone has an example or know how to do it, please tell me</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":105313,"reputation":36374,"user_id":281108,"accept_rate":95,"display_name":"Ismail Badawi"},"score":1,"creation_date":1329753509,"post_id":9364000,"comment_id":11824278,"body_markdown":"Your pattern works for me. How are you testing this?","body":"Your pattern works for me. How are you testing this?"},{"owner":{"account_id":506024,"reputation":1159,"user_id":947238,"display_name":"Bartosz Grzybowski"},"score":0,"creation_date":1329753604,"post_id":9364000,"comment_id":11824315,"body_markdown":"escape the `-` and it should work.","body":"escape the <code>-</code> and it should work."},{"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":2,"creation_date":1329753629,"post_id":9364000,"comment_id":11824329,"body_markdown":"Like isbadawi, I find that your pattern works fine (though the backslashes on `-` and `+` aren&#39;t actually needed). I&#39;m betting that `orderCheck.matcher(value)` doesn&#39;t actually start with the `+` that you think it does. Maybe it&#39;s being URL-escaped, to `%2B`? Or maybe *de*-URL-escaped, to a space?","body":"Like isbadawi, I find that your pattern works fine (though the backslashes on <code>-</code> and <code>+</code> aren&#39;t actually needed). I&#39;m betting that <code>orderCheck.matcher(value)</code> doesn&#39;t actually start with the <code>+</code> that you think it does. Maybe it&#39;s being URL-escaped, to <code>%2B</code>? Or maybe <i>de</i>-URL-escaped, to a space?"},{"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":1,"creation_date":1329753696,"post_id":9364000,"comment_id":11824363,"body_markdown":"@BartoszGrzybowski: The `-` *is* escaped. This is Java; after the first pass of backslash-processing, the OP&#39;s code creates a regex `^([\\-\\+])?(created|title|price|creation)$`.","body":"@BartoszGrzybowski: The <code>-</code> <i>is</i> escaped. This is Java; after the first pass of backslash-processing, the OP&#39;s code creates a regex <code>^([\\-\\+])?(created|title|price|creation)$</code>."},{"owner":{"account_id":131106,"reputation":39102,"user_id":330867,"accept_rate":79,"display_name":"Cyril N."},"score":0,"creation_date":1329754001,"post_id":9364000,"comment_id":11824490,"body_markdown":"You are right ruakh, the problem is the &quot;+&quot; that is escaped in the url !","body":"You are right ruakh, the problem is the &quot;+&quot; that is escaped in the url !"}],"answers":[{"tags":[],"owner":{"account_id":222951,"reputation":5271,"user_id":481863,"accept_rate":90,"display_name":"Erhan Bagdemir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664710080,"creation_date":1329753602,"answer_id":9364169,"question_id":9364000,"body_markdown":"It works. Maybe you forgot a space char at the end/begining of your value? Your pattern seems OK.\r\n\r\n![test res][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/YrYK6.png","title":"Parsing text using regular expression works with online tests but not this code","body":"<p>It works. Maybe you forgot a space char at the end/begining of your value? Your pattern seems OK.</p>\n<p><img src=\"https://i.stack.imgur.com/YrYK6.png\" alt=\"test res\" /></p>\n"}],"owner":{"account_id":131106,"reputation":39102,"user_id":330867,"accept_rate":79,"display_name":"Cyril N."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":9364169,"answer_count":1,"score":0,"last_activity_date":1664710080,"creation_date":1329752981,"question_id":9364000,"body_markdown":"I tried this regex in Java :\r\n\r\n    Pattern orderCheck = Pattern.compile(&quot;^([\\\\-\\\\+])?(created|title|price|creation)$&quot;, Pattern.CASE_INSENSITIVE);\r\n    orderCheck.matcher(value).matches();\r\n\r\nAnd oddly :\r\n\r\n * created : **works**\r\n * -created : **works**\r\n * +created : **doesn&#39;t works**\r\n * title : **works**\r\n * -title : **works**\r\n * +title : **doesn&#39;t works**\r\n * etc..\r\n\r\nThe + result as a non validation of the regex, but I can&#39;t understand why.\r\n\r\nUsing this [online regex tester][1], it works perfectly, for all the values !\r\n\r\nI also tried this variants, but unsuccessfully :\r\n\r\n * ^[\\\\-\\\\+]?(created|title|price|creation)$\r\n * ^[-+]?(created|title|price|creation)$\r\n * ^(-+)?(created|title|price|creation)$\r\n * ^(-|+)?(created|title|price|creation)$\r\n * ^[-|+]?(created|title|price|creation)$\r\n * ^(\\\\-|\\\\+)?(created|title|price|creation)$\r\n\r\nWhat is the correct regex for my need? I can&#39;t see where I&#39;m wrong.\r\n\r\n  [1]: http://www.cuneytyilmaz.com/prog/jrx/","title":"Parsing text using regular expression works with online tests but not this code","body":"<p>I tried this regex in Java :</p>\n<pre><code>Pattern orderCheck = Pattern.compile(&quot;^([\\\\-\\\\+])?(created|title|price|creation)$&quot;, Pattern.CASE_INSENSITIVE);\norderCheck.matcher(value).matches();\n</code></pre>\n<p>And oddly :</p>\n<ul>\n<li>created : <strong>works</strong></li>\n<li>-created : <strong>works</strong></li>\n<li>+created : <strong>doesn't works</strong></li>\n<li>title : <strong>works</strong></li>\n<li>-title : <strong>works</strong></li>\n<li>+title : <strong>doesn't works</strong></li>\n<li>etc..</li>\n</ul>\n<p>The + result as a non validation of the regex, but I can't understand why.</p>\n<p>Using this <a href=\"http://www.cuneytyilmaz.com/prog/jrx/\" rel=\"nofollow noreferrer\">online regex tester</a>, it works perfectly, for all the values !</p>\n<p>I also tried this variants, but unsuccessfully :</p>\n<ul>\n<li>^[\\-\\+]?(created|title|price|creation)$</li>\n<li>^[-+]?(created|title|price|creation)$</li>\n<li>^(-+)?(created|title|price|creation)$</li>\n<li>^(-|+)?(created|title|price|creation)$</li>\n<li>^[-|+]?(created|title|price|creation)$</li>\n<li>^(\\-|\\+)?(created|title|price|creation)$</li>\n</ul>\n<p>What is the correct regex for my need? I can't see where I'm wrong.</p>\n"},{"tags":["java","mongodb","spring-data-mongodb"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":1,"creation_date":1664715039,"post_id":73923299,"comment_id":130530655,"body_markdown":"`$all` seems like what you want (see @Charchit Kapoor&#39;s answer). `$elemMatch` is used when you want to check that a single subdocument in an array matches multiple query predicates which is not what you are doing here. You want all of the criteria that you are searching on to match at least one entry in the array hence why the other operator is relevant.","body":"<code>$all</code> seems like what you want (see @Charchit Kapoor&#39;s answer). <code>$elemMatch</code> is used when you want to check that a single subdocument in an array matches multiple query predicates which is not what you are doing here. You want all of the criteria that you are searching on to match at least one entry in the array hence why the other operator is relevant."},{"owner":{"account_id":1596045,"reputation":145,"user_id":1478146,"accept_rate":0,"display_name":"Phil Mar"},"score":0,"creation_date":1664806262,"post_id":73923299,"comment_id":130549369,"body_markdown":"Thanks!  I tried @Charchit Kapoor&#39;s answer below, and it worked great!","body":"Thanks!  I tried @Charchit Kapoor&#39;s answer below, and it worked great!"}],"answers":[{"tags":[],"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664709265,"creation_date":1664709265,"answer_id":73925348,"question_id":73923299,"body_markdown":"You need to use the `$all` operator or the `all` [method][1] of `Criteria` class. Something along these lines:\r\n\r\n  \r\n\r\n    addressCriteriaList.add(Criteria.where(&quot;streetAddressLines&quot;).all(addressSearch.getStreetAddressLines()));\r\n\r\nIf `addressSearch.getStreetAddressLines` returns a list, try this:\r\n\r\n    addressCriteriaList.add(Criteria.where(&quot;streetAddressLines&quot;).all(addressSearch.getStreetAddressLines().toArray(new String[0])));\r\n\r\n   \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/query/Criteria.html","title":"Spring Data MongoDb elemMatch criteria matching all search strings","body":"<p>You need to use the <code>$all</code> operator or the <code>all</code> <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/query/Criteria.html\" rel=\"nofollow noreferrer\">method</a> of <code>Criteria</code> class. Something along these lines:</p>\n<pre><code>addressCriteriaList.add(Criteria.where(&quot;streetAddressLines&quot;).all(addressSearch.getStreetAddressLines()));\n</code></pre>\n<p>If <code>addressSearch.getStreetAddressLines</code> returns a list, try this:</p>\n<pre><code>addressCriteriaList.add(Criteria.where(&quot;streetAddressLines&quot;).all(addressSearch.getStreetAddressLines().toArray(new String[0])));\n</code></pre>\n"}],"owner":{"account_id":1596045,"reputation":145,"user_id":1478146,"accept_rate":0,"display_name":"Phil Mar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73925348,"answer_count":1,"score":0,"last_activity_date":1664709265,"creation_date":1664683195,"question_id":73923299,"body_markdown":"I&#39;m having an issue with custom Spring Data queries with MongoDb and Java.  I&#39;m attempting to implement a flexible search functionality against most of the fields of the document.  \r\nThis document represents a person, and it contains a set of addresses embedded in it; the address has a field that is a set of strings that are the &#39;street address lines&#39;.\r\n\r\nI started with Query By Example, and this works for the single fields. but doesn&#39;t work for other types - such as this set of strings.  For these, I&#39;m building custom criteria.  \r\n\r\nThe search criteria includes a set of street lines that I would like to match against the document&#39;s lines.  If every line in the search is found in the document, the criteria should be considered matching.\r\n\r\nI&#39;ve tried using elemMatch, but this doesn&#39;t quite work like I want:\r\n\r\n        addressCriteriaList.add(Criteria.where(&quot;streetAddressLines&quot;).elemMatch(new Criteria().in(addressSearch.getStreetAddressLines())));\r\n\t\t\r\nThis seems to match if only ONE line in the document matches the search.  If I have the following document:\r\n\r\n\t&quot;streetAddressLines&quot;: [ &quot;123 Main Street&quot;, &quot;Apt 1&quot; ]\r\n\t\r\n\t\r\nand the search looks like this:\r\n\r\n\t&quot;streetAddressLines&quot;: [ &quot;123 Main Street&quot;, &quot;Apt 2&quot; ]\r\n\t\r\n\t\r\nthe elemMatch succeeds, but that&#39;s not what i want.\r\n\r\n\r\nI&#39;ve also tried looping through each of the search lines, trying an elemMatch to see if each is in the document:\r\n\r\n    var addressLinesCriteriaList = new Array&lt;Criteria&gt;();\r\n\tvar streetAddressLines = address.getStreetAddressLines();\r\n\tstreetAddressLines.forEach(l -&gt;  addressLinesCriteriaList.add(Criteria.where(&quot;streetAddressLines&quot;).elemMatch(new Criteria().is(l))))\r\n\t\r\n\tvar matchCriteria = new Criteria.andOperator(addressLinesCriteriaList);\r\n\t\r\n\t\r\nThis doesn&#39;t seem to work.  I have done some experimenting, and it may be that this doesn&#39;t seem to work:  new Criteria().is(l)\r\n\r\nI tried this, and this DOES seem to work, but I would think that it&#39;s really inefficient to create a collection for each search line:\r\n\r\n            streetAddressLines.forEach(l -&gt;\r\n                    {\r\n                        var list = new ArrayList&lt;String&gt;();\r\n                        list.add(l);\r\n                        addressCriteriaList.add(Criteria.where(&quot;streetAddressLines&quot;).elemMatch(new Criteria().in(l)));\r\n                    });\r\n\r\n\r\nSo I don&#39;t know exactly what&#39;s going on - does anyone have any ideas of what I&#39;m doing wrong?  Thanks in advance.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Data MongoDb elemMatch criteria matching all search strings","body":"<p>I'm having an issue with custom Spring Data queries with MongoDb and Java.  I'm attempting to implement a flexible search functionality against most of the fields of the document.<br />\nThis document represents a person, and it contains a set of addresses embedded in it; the address has a field that is a set of strings that are the 'street address lines'.</p>\n<p>I started with Query By Example, and this works for the single fields. but doesn't work for other types - such as this set of strings.  For these, I'm building custom criteria.</p>\n<p>The search criteria includes a set of street lines that I would like to match against the document's lines.  If every line in the search is found in the document, the criteria should be considered matching.</p>\n<p>I've tried using elemMatch, but this doesn't quite work like I want:</p>\n<pre><code>    addressCriteriaList.add(Criteria.where(&quot;streetAddressLines&quot;).elemMatch(new Criteria().in(addressSearch.getStreetAddressLines())));\n    \n</code></pre>\n<p>This seems to match if only ONE line in the document matches the search.  If I have the following document:</p>\n<pre><code>&quot;streetAddressLines&quot;: [ &quot;123 Main Street&quot;, &quot;Apt 1&quot; ]\n</code></pre>\n<p>and the search looks like this:</p>\n<pre><code>&quot;streetAddressLines&quot;: [ &quot;123 Main Street&quot;, &quot;Apt 2&quot; ]\n</code></pre>\n<p>the elemMatch succeeds, but that's not what i want.</p>\n<p>I've also tried looping through each of the search lines, trying an elemMatch to see if each is in the document:</p>\n<pre><code>var addressLinesCriteriaList = new Array&lt;Criteria&gt;();\nvar streetAddressLines = address.getStreetAddressLines();\nstreetAddressLines.forEach(l -&gt;  addressLinesCriteriaList.add(Criteria.where(&quot;streetAddressLines&quot;).elemMatch(new Criteria().is(l))))\n\nvar matchCriteria = new Criteria.andOperator(addressLinesCriteriaList);\n</code></pre>\n<p>This doesn't seem to work.  I have done some experimenting, and it may be that this doesn't seem to work:  new Criteria().is(l)</p>\n<p>I tried this, and this DOES seem to work, but I would think that it's really inefficient to create a collection for each search line:</p>\n<pre><code>        streetAddressLines.forEach(l -&gt;\n                {\n                    var list = new ArrayList&lt;String&gt;();\n                    list.add(l);\n                    addressCriteriaList.add(Criteria.where(&quot;streetAddressLines&quot;).elemMatch(new Criteria().in(l)));\n                });\n</code></pre>\n<p>So I don't know exactly what's going on - does anyone have any ideas of what I'm doing wrong?  Thanks in advance.</p>\n"},{"tags":["java","multithreading","threadpool","executorservice","threadpoolexecutor"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664646243,"post_id":73920263,"comment_id":130521455,"body_markdown":"Why the `if(i % delay == 0)`?","body":"Why the <code>if(i % delay == 0)</code>?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664646622,"post_id":73920263,"comment_id":130521532,"body_markdown":"You’ve not explained `array`, nor other details. Voting to close for lack of detail.","body":"You’ve not explained <code>array</code>, nor other details. Voting to close for lack of detail."},{"owner":{"account_id":14225389,"reputation":158,"user_id":10276248,"display_name":"Mattia Monari"},"score":0,"creation_date":1664696232,"post_id":73920263,"comment_id":130527675,"body_markdown":"I removed the `i % delay` to avoid any confusion. It&#39;s not important for the question to know which are the operations and how many times the loop get executed. @talex actually answered my question","body":"I removed the <code>i % delay</code> to avoid any confusion. It&#39;s not important for the question to know which are the operations and how many times the loop get executed. @talex actually answered my question"}],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664649174,"creation_date":1664649174,"answer_id":73920851,"question_id":73920263,"body_markdown":"Task get state on moment of execution.\r\n\r\nThere is no straightforward way to get snapshot of object in java.\r\n","title":"How are Task&#39;s objects in ExecutorService handled?","body":"<p>Task get state on moment of execution.</p>\n<p>There is no straightforward way to get snapshot of object in java.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664709187,"creation_date":1664708029,"answer_id":73925235,"question_id":73920263,"body_markdown":"You are changing the image before each `Runnable` has an opportunity to save the state of the image at the time you set up the sub-task. To avoid this problem you could make a copy of the image before setting up each runnable as follows:\r\n\r\n    BufferedImage imageCopy = copyImage(bufferedImage);\r\n    pool.execute(() -&gt; {\r\n        ImageIO.write(imageCopy, &quot;JPG&quot;, fileName + i);\r\n    });\r\n\r\nSee these answers for possible implementations of `copyImage(BufferedImage)` and conditions / restrictions: \r\n[Clone image][1] [How to clone image][2]\r\n\r\n  [1]: https://stackoverflow.com/questions/8864275/how-to-clone-image\r\n  [2]: https://stackoverflow.com/questions/3514158/how-do-you-clone-a-bufferedimage","title":"How are Task&#39;s objects in ExecutorService handled?","body":"<p>You are changing the image before each <code>Runnable</code> has an opportunity to save the state of the image at the time you set up the sub-task. To avoid this problem you could make a copy of the image before setting up each runnable as follows:</p>\n<pre><code>BufferedImage imageCopy = copyImage(bufferedImage);\npool.execute(() -&gt; {\n    ImageIO.write(imageCopy, &quot;JPG&quot;, fileName + i);\n});\n</code></pre>\n<p>See these answers for possible implementations of <code>copyImage(BufferedImage)</code> and conditions / restrictions:\n<a href=\"https://stackoverflow.com/questions/8864275/how-to-clone-image\">Clone image</a> <a href=\"https://stackoverflow.com/questions/3514158/how-do-you-clone-a-bufferedimage\">How to clone image</a></p>\n"}],"owner":{"account_id":14225389,"reputation":158,"user_id":10276248,"display_name":"Mattia Monari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73920851,"answer_count":2,"score":0,"last_activity_date":1664709187,"creation_date":1664644035,"question_id":73920263,"body_markdown":"I&#39;m trying to write in parallel an image which gets modified each iteration of a loop. The code looks like:\r\n   \r\n    ExecutorService pool = Executors.newFixedThreadPool(8);\r\n    for (int i = array.length - 1; i &gt; 0; i--) \r\n    {\r\n                pool.execute(() -&gt; {\r\n                    ImageIO.write(bufferedImage, &quot;JPG&quot;, fileName + i);\r\n                });\r\n                //Operations on the image...\r\n    }\r\n\r\nThe problem is that the image gets written just at its **initial state** *(i=array.length)* and at its **final** *(i=1)*, but it actually writes the numbers of files it should *(array.length times)*.\r\nSo my question is, do I have to **synchronize** something on the image I&#39;m writing?\r\nAren&#39;t the **objects state snapshotted and saved in memory** once the Task gets into the queue? Or do tasks get the state of the object at the **time of their actual execution?**","title":"How are Task&#39;s objects in ExecutorService handled?","body":"<p>I'm trying to write in parallel an image which gets modified each iteration of a loop. The code looks like:</p>\n<pre><code>ExecutorService pool = Executors.newFixedThreadPool(8);\nfor (int i = array.length - 1; i &gt; 0; i--) \n{\n            pool.execute(() -&gt; {\n                ImageIO.write(bufferedImage, &quot;JPG&quot;, fileName + i);\n            });\n            //Operations on the image...\n}\n</code></pre>\n<p>The problem is that the image gets written just at its <strong>initial state</strong> <em>(i=array.length)</em> and at its <strong>final</strong> <em>(i=1)</em>, but it actually writes the numbers of files it should <em>(array.length times)</em>.\nSo my question is, do I have to <strong>synchronize</strong> something on the image I'm writing?\nAren't the <strong>objects state snapshotted and saved in memory</strong> once the Task gets into the queue? Or do tasks get the state of the object at the <strong>time of their actual execution?</strong></p>\n"},{"tags":["java","priority-queue"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1561563861,"post_id":56776568,"comment_id":100108623,"body_markdown":"`null` is a [special return value](https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#poll--) indicating that the list is empty.","body":"<code>null</code> is a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#poll--\" rel=\"nofollow noreferrer\">special return value</a> indicating that the list is empty."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1561564042,"creation_date":1561564042,"answer_id":56776666,"question_id":56776568,"body_markdown":"`null` is a [special return value](https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#poll--) indicating that the list is empty.\r\n\r\nThe designers of the class wouldn&#39;t be able to use `null` for this purpose if it were a value you could otherwise insert into the queue.","title":"Why NULL values are not allowed in PriorityQueue ? (Java)","body":"<p><code>null</code> is a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html#poll--\" rel=\"nofollow noreferrer\">special return value</a> indicating that the list is empty.</p>\n\n<p>The designers of the class wouldn't be able to use <code>null</code> for this purpose if it were a value you could otherwise insert into the queue.</p>\n"},{"tags":[],"owner":{"account_id":18346586,"reputation":33,"user_id":13361660,"display_name":"Jithin Murali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664708140,"creation_date":1664708140,"answer_id":73925249,"question_id":56776568,"body_markdown":"Priority Queue uses Comparator to compare values. While comparing values we compare a data to a null value . For example . A object stored in priority queue has two members , int age and String name. You can compare any value of these. But if you given the object as null you cant compare between them and those two members. Thats why they throw a null pointer exception. If there is no null pointer exception , there will be another exception thrown while comparing the values.","title":"Why NULL values are not allowed in PriorityQueue ? (Java)","body":"<p>Priority Queue uses Comparator to compare values. While comparing values we compare a data to a null value . For example . A object stored in priority queue has two members , int age and String name. You can compare any value of these. But if you given the object as null you cant compare between them and those two members. Thats why they throw a null pointer exception. If there is no null pointer exception , there will be another exception thrown while comparing the values.</p>\n"}],"owner":{"account_id":15894284,"reputation":11,"user_id":11468438,"display_name":"Sushant Bhingare"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1457,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":2,"score":-3,"last_activity_date":1664708140,"creation_date":1561563772,"question_id":56776568,"body_markdown":"PriorityQueue doesn&#39;t allow null values to be stored in the queue. I want to know why ?","title":"Why NULL values are not allowed in PriorityQueue ? (Java)","body":"<p>PriorityQueue doesn't allow null values to be stored in the queue. I want to know why ?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":11972742,"reputation":1949,"user_id":8760805,"display_name":"ocos"},"score":0,"creation_date":1664707041,"post_id":73924902,"comment_id":130529294,"body_markdown":"You may check my answer. https://stackoverflow.com/questions/73252882/why-am-i-getting-an-inheritance-from-an-interface-with-jvmdefault-members-is/73253555#73253555","body":"You may check my answer. <a href=\"https://stackoverflow.com/questions/73252882/why-am-i-getting-an-inheritance-from-an-interface-with-jvmdefault-members-is/73253555#73253555\" title=\"why am i getting an inheritance from an interface with jvmdefault members is\">stackoverflow.com/questions/73252882/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26484919,"reputation":18,"user_id":20123654,"display_name":"David Rocha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664707956,"creation_date":1664707956,"answer_id":73925226,"question_id":73924902,"body_markdown":"1. Try putting these line inside of android{} block in module build.gradle file\r\n \r\n        kotlinOptions{\r\n            freeCompilerArgs += [\r\n               &quot;-Xjvm-default=all&quot;,\r\n            ]\r\n       }","title":"New Project on Android Studio with Login Activity throws error","body":"<ol>\n<li><p>Try putting these line inside of android{} block in module build.gradle file</p>\n<pre><code> kotlinOptions{\n     freeCompilerArgs += [\n        &quot;-Xjvm-default=all&quot;,\n     ]\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":18250480,"reputation":1681,"user_id":13285583,"display_name":"Jason Rich Darmawan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73925226,"answer_count":1,"score":0,"last_activity_date":1664707956,"creation_date":1664704490,"question_id":73924902,"body_markdown":"My goal is to make a simple app with Android Native. However, the Android Studio throws error `Inheritance from an interface with &#39;@JvmDefault&#39; members is only allowed with -Xjvm-default option` on file `app/java/com.x.x/ui/login/LoginViewModelFactory` on line 12. This happens when I tried to run the app to the virtual device.\r\n\r\nThe culprit is the `ViewModelProvider.Factory` from the `androidx.lifeccle.ViewModelProvider`. I tried to see the code with `right-click + Go To + Declaration or Usages`. However, the I don&#39;t see the `@JvmDefaults` on top of the interface Factory declaration.\r\n\r\nWhat I&#39;ve did:\r\n1. I installed Android Studio on Mac Mini M1, I believe a month ago.\r\n2. I installed Java JDK 8 and 17. The Android Studio terminal return version 8.\r\n   ```\r\n   openjdk version &quot;1.8.0_292&quot;\r\n   OpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_292-b10)\r\n   OpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.292-b10, mixed mode)\r\n   ```\r\n3. Create New Project, I selected Kotlin and Login Activity on the menu.\r\n\r\nLoginViewModelFactory\r\n```\r\npackage com.x.x.ui.login\r\n\r\nimport androidx.lifecycle.ViewModel\r\nimport androidx.lifecycle.ViewModelProvider\r\nimport com.x.x.data.LoginDataSource\r\nimport com.x.x.data.LoginRepository\r\n\r\n/**\r\n * ViewModel provider factory to instantiate LoginViewModel.\r\n * Required given LoginViewModel has a non-empty constructor\r\n */\r\nclass LoginViewModelFactory : ViewModelProvider.Factory {\r\n```","title":"New Project on Android Studio with Login Activity throws error","body":"<p>My goal is to make a simple app with Android Native. However, the Android Studio throws error <code>Inheritance from an interface with '@JvmDefault' members is only allowed with -Xjvm-default option</code> on file <code>app/java/com.x.x/ui/login/LoginViewModelFactory</code> on line 12. This happens when I tried to run the app to the virtual device.</p>\n<p>The culprit is the <code>ViewModelProvider.Factory</code> from the <code>androidx.lifeccle.ViewModelProvider</code>. I tried to see the code with <code>right-click + Go To + Declaration or Usages</code>. However, the I don't see the <code>@JvmDefaults</code> on top of the interface Factory declaration.</p>\n<p>What I've did:</p>\n<ol>\n<li>I installed Android Studio on Mac Mini M1, I believe a month ago.</li>\n<li>I installed Java JDK 8 and 17. The Android Studio terminal return version 8.\n<pre><code>openjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_292-b10)\nOpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.292-b10, mixed mode)\n</code></pre>\n</li>\n<li>Create New Project, I selected Kotlin and Login Activity on the menu.</li>\n</ol>\n<p>LoginViewModelFactory</p>\n<pre><code>package com.x.x.ui.login\n\nimport androidx.lifecycle.ViewModel\nimport androidx.lifecycle.ViewModelProvider\nimport com.x.x.data.LoginDataSource\nimport com.x.x.data.LoginRepository\n\n/**\n * ViewModel provider factory to instantiate LoginViewModel.\n * Required given LoginViewModel has a non-empty constructor\n */\nclass LoginViewModelFactory : ViewModelProvider.Factory {\n</code></pre>\n"},{"tags":["java","elasticsearch","export-to-csv","elasticsearch-aggregation","elasticsearch-query"],"comments":[{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1664124096,"post_id":73845503,"comment_id":130394534,"body_markdown":"What data do you want to save in the csv file? Values only like this?  1741433,1\\n1741435,1\\n...","body":"What data do you want to save in the csv file? Values only like this?  1741433,1\\n1741435,1\\n..."}],"answers":[{"tags":[],"owner":{"account_id":5204361,"reputation":605,"user_id":4162799,"accept_rate":50,"display_name":"Fares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664119063,"creation_date":1664119063,"answer_id":73845631,"question_id":73845503,"body_markdown":"It&#39;s not exactly what you&#39;re asking for, but I think it might help you, so I suggest it. \r\n\r\nYou can use this [lightweight tool][1] like this \r\n\r\n```\r\n# Backup the results of a query to a file\r\nelasticdump \\\r\n  --input=http://production.es.com:9200/my_index \\\r\n  --output=query.json \\\r\n  --searchBody=&quot;{\\&quot;query\\&quot;:{\\&quot;term\\&quot;:{\\&quot;username\\&quot;: \\&quot;admin\\&quot;}}}&quot;\r\n```\r\n\r\nThen convert the json to csv using a Java lib, or any online tool if it suits you.\r\n\r\n\r\n  [1]: https://github.com/elasticsearch-dump/elasticsearch-dump","title":"Extract elasticsearch query output in csv with java","body":"<p>It's not exactly what you're asking for, but I think it might help you, so I suggest it.</p>\n<p>You can use this <a href=\"https://github.com/elasticsearch-dump/elasticsearch-dump\" rel=\"nofollow noreferrer\">lightweight tool</a> like this</p>\n<pre><code># Backup the results of a query to a file\nelasticdump \\\n  --input=http://production.es.com:9200/my_index \\\n  --output=query.json \\\n  --searchBody=&quot;{\\&quot;query\\&quot;:{\\&quot;term\\&quot;:{\\&quot;username\\&quot;: \\&quot;admin\\&quot;}}}&quot;\n</code></pre>\n<p>Then convert the json to csv using a Java lib, or any online tool if it suits you.</p>\n"}],"owner":{"account_id":26438197,"reputation":1,"user_id":20083214,"display_name":"Shub"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664707642,"creation_date":1664118025,"question_id":73845503,"body_markdown":"I&#39;m using java for querying Elasticsearch; I want to export the data of my query in csv file. I&#39;m breaking my head over this.. please can anyone help me with this code? I would be grateful.\r\n\r\nThis is my query code in java\r\n\r\n           try {\r\n            RangeQueryBuilder rangeQ = QueryBuilders\r\n                    .rangeQuery(&quot;@timestamp&quot;)\r\n                    .gte(&quot;1663632000000&quot;)\r\n                    .lte(&quot;1663804799000&quot;)\r\n                    .format(&quot;epoch_millis&quot;);\r\n\r\n            TermsAggregationBuilder termsAggregation = AggregationBuilders\r\n                    .terms(&quot;term_by_client_id&quot;)\r\n                    .field(&quot;labels.client_id&quot;)\r\n                    .size(100000)\r\n                    .minDocCount(1);\r\n\r\n            termsAggregation\r\n                    .subAggregation(\r\n                            AggregationBuilders\r\n                                    .sum(&quot;sum_by&quot;)\r\n                                    .field(&quot;labels.row_count&quot;)\r\n                    );\r\n            termsAggregation\r\n                    .subAggregation(\r\n                            AggregationBuilders\r\n                                    .terms(&quot;term_By_job&quot;)\r\n                                    .field(&quot;labels.job_id&quot;)\r\n                    );\r\n\r\n\r\n            SearchRequest searchRequest = new SearchRequest();\r\n            searchRequest.indices(&quot;*itm*&quot;);\r\n\r\n\r\n            SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\n            searchSourceBuilder.query(rangeQ);\r\n            searchSourceBuilder.aggregation(termsAggregation);\r\n           // searchSourceBuilder.size(100000);\r\n            searchRequest.source(searchSourceBuilder);\r\n\r\n            SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\r\n            System.out.println(searchResponse);\r\n\r\n            Aggregations aggregations = searchResponse.getAggregations();\r\n            Map&lt;String, Aggregation&gt; aggregationMap = aggregations.asMap();\r\n            for (Map.Entry&lt;String, Aggregation&gt; each : aggregationMap.entrySet()){\r\n                System.out.println((each.getValue()));\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\nAnd output of query is like this\r\n\r\n&quot;buckets&quot;:[{&quot;key&quot;:&quot;1741433&quot;,&quot;doc_count&quot;:1},{&quot;key&quot;:&quot;1741435&quot;,&quot;doc_count&quot;:1},{&quot;key&quot;:&quot;1741436&quot;,&quot;doc_count&quot;:1},{&quot;key&quot;:&quot;1741440&quot;,&quot;doc_count&quot;:1},{&quot;key&quot;:&quot;1741441&quot;,&quot;doc_count&quot;:1},{&quot;key&quot;:&quot;1741442&quot;,&quot;doc_count&quot;:1},{&quot;key&quot;:&quot;1741443&quot;,&quot;doc_count&quot;:1},{&quot;key&quot;:&quot;1741444&quot;,&quot;doc_count&quot;:1},{&quot;key&quot;:&quot;1741450&quot;,&quot;doc_count&quot;:1},{&quot;key&quot;:&quot;1741451&quot;,&quot;doc_count&quot;:1}]},&quot;sum#sum_by&quot;:{&quot;value&quot;:1.0951264E7}},{&quot;key&quot;:&quot;86206&quot;,&quot;doc_count&quot;:383,&quot;sterms#term_By_job&quot;:{&quot;doc_count_error_upper_bound&quot;:6,&quot;sum_other_doc_count&quot;:361,&quot;buckets&quot;:[{&quot;key&quot;:&quot;1211310&quot;,&quot;doc_count&quot;:3},{&quot;key&quot;:&quot;1211316&quot;,&quot;doc_count&quot;:3},{&quot;key&quot;:&quot;1210943&quot;,&quot;doc_count&quot;:2},{&quot;key&quot;:&quot;1210945&quot;,&quot;doc_count&quot;:2},{&quot;key&quot;:&quot;1210946&quot;,&quot;doc_count&quot;:2},{&quot;key&quot;:&quot;1210947&quot;,&quot;doc_count&quot;:2},{&quot;key&quot;:&quot;1210948&quot;,&quot;doc_count&quot;:2},{&quot;key&quot;:&quot;1210949&quot;,&quot;doc_count&quot;:2},{&quot;key&quot;:&quot;1210987&quot;,&quot;doc_count&quot;:2},{&quot;key&quot;:&quot;1211010&quot;,&quot;doc_count&quot;:2}]}\r\n\r\nPls help me here with this code that would be appreciated.\r\nThanks.\r\n","title":"Extract elasticsearch query output in csv with java","body":"<p>I'm using java for querying Elasticsearch; I want to export the data of my query in csv file. I'm breaking my head over this.. please can anyone help me with this code? I would be grateful.</p>\n<p>This is my query code in java</p>\n<pre><code>       try {\n        RangeQueryBuilder rangeQ = QueryBuilders\n                .rangeQuery(&quot;@timestamp&quot;)\n                .gte(&quot;1663632000000&quot;)\n                .lte(&quot;1663804799000&quot;)\n                .format(&quot;epoch_millis&quot;);\n\n        TermsAggregationBuilder termsAggregation = AggregationBuilders\n                .terms(&quot;term_by_client_id&quot;)\n                .field(&quot;labels.client_id&quot;)\n                .size(100000)\n                .minDocCount(1);\n\n        termsAggregation\n                .subAggregation(\n                        AggregationBuilders\n                                .sum(&quot;sum_by&quot;)\n                                .field(&quot;labels.row_count&quot;)\n                );\n        termsAggregation\n                .subAggregation(\n                        AggregationBuilders\n                                .terms(&quot;term_By_job&quot;)\n                                .field(&quot;labels.job_id&quot;)\n                );\n\n\n        SearchRequest searchRequest = new SearchRequest();\n        searchRequest.indices(&quot;*itm*&quot;);\n\n\n        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\n        searchSourceBuilder.query(rangeQ);\n        searchSourceBuilder.aggregation(termsAggregation);\n       // searchSourceBuilder.size(100000);\n        searchRequest.source(searchSourceBuilder);\n\n        SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\n        System.out.println(searchResponse);\n\n        Aggregations aggregations = searchResponse.getAggregations();\n        Map&lt;String, Aggregation&gt; aggregationMap = aggregations.asMap();\n        for (Map.Entry&lt;String, Aggregation&gt; each : aggregationMap.entrySet()){\n            System.out.println((each.getValue()));\n        }\n\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>And output of query is like this</p>\n<p>&quot;buckets&quot;:[{&quot;key&quot;:&quot;1741433&quot;,&quot;doc_count&quot;:1},{&quot;key&quot;:&quot;1741435&quot;,&quot;doc_count&quot;:1},{&quot;key&quot;:&quot;1741436&quot;,&quot;doc_count&quot;:1},{&quot;key&quot;:&quot;1741440&quot;,&quot;doc_count&quot;:1},{&quot;key&quot;:&quot;1741441&quot;,&quot;doc_count&quot;:1},{&quot;key&quot;:&quot;1741442&quot;,&quot;doc_count&quot;:1},{&quot;key&quot;:&quot;1741443&quot;,&quot;doc_count&quot;:1},{&quot;key&quot;:&quot;1741444&quot;,&quot;doc_count&quot;:1},{&quot;key&quot;:&quot;1741450&quot;,&quot;doc_count&quot;:1},{&quot;key&quot;:&quot;1741451&quot;,&quot;doc_count&quot;:1}]},&quot;sum#sum_by&quot;:{&quot;value&quot;:1.0951264E7}},{&quot;key&quot;:&quot;86206&quot;,&quot;doc_count&quot;:383,&quot;sterms#term_By_job&quot;:{&quot;doc_count_error_upper_bound&quot;:6,&quot;sum_other_doc_count&quot;:361,&quot;buckets&quot;:[{&quot;key&quot;:&quot;1211310&quot;,&quot;doc_count&quot;:3},{&quot;key&quot;:&quot;1211316&quot;,&quot;doc_count&quot;:3},{&quot;key&quot;:&quot;1210943&quot;,&quot;doc_count&quot;:2},{&quot;key&quot;:&quot;1210945&quot;,&quot;doc_count&quot;:2},{&quot;key&quot;:&quot;1210946&quot;,&quot;doc_count&quot;:2},{&quot;key&quot;:&quot;1210947&quot;,&quot;doc_count&quot;:2},{&quot;key&quot;:&quot;1210948&quot;,&quot;doc_count&quot;:2},{&quot;key&quot;:&quot;1210949&quot;,&quot;doc_count&quot;:2},{&quot;key&quot;:&quot;1210987&quot;,&quot;doc_count&quot;:2},{&quot;key&quot;:&quot;1211010&quot;,&quot;doc_count&quot;:2}]}</p>\n<p>Pls help me here with this code that would be appreciated.\nThanks.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":3,"creation_date":1664693216,"post_id":73923453,"comment_id":130527284,"body_markdown":"Why would you base64 encode that file? Bad idea.","body":"Why would you base64 encode that file? Bad idea."},{"owner":{"account_id":22055734,"reputation":3,"user_id":16319297,"display_name":"Atomic"},"score":0,"creation_date":1664694709,"post_id":73923453,"comment_id":130527487,"body_markdown":"@blackapps uhh, this is because I want to send it to the server in string","body":"@blackapps uhh, this is because I want to send it to the server in string"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664697161,"post_id":73923453,"comment_id":130527810,"body_markdown":"You don&#39;t say anything in detail about sending to the server, but there is no problem with treating base64 streamwise. You do not need to load the whole base64 string into memory.","body":"You don&#39;t say anything in detail about sending to the server, but there is no problem with treating base64 streamwise. You do not need to load the whole base64 string into memory."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":3,"creation_date":1664697192,"post_id":73923453,"comment_id":130527815,"body_markdown":"Why do you want to send a big file in a string that is 30% more bytes then the file contains? Why not send the file directly,?","body":"Why do you want to send a big file in a string that is 30% more bytes then the file contains? Why not send the file directly,?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1664707889,"post_id":73923453,"comment_id":130529424,"body_markdown":"Assuming you even need to encode the data in base64, you should use `Base64.Encoder.wrap` while streaming directly to the server, instead of converting it in memory first.","body":"Assuming you even need to encode the data in base64, you should use <code>Base64.Encoder.wrap</code> while streaming directly to the server, instead of converting it in memory first."}],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1664706831,"creation_date":1664690223,"answer_id":73923675,"question_id":73923453,"body_markdown":"It is entirely able to be fixed by starting your program binaries on its command line with flags for memory assignment to the JVM of -Xss -Xmx  -Xms and also assign a G1 garbage collector.\r\nIn X32 the quantity of RAM is limited but in X64 the RAM assignable is much larger.\r\n\r\nThe way you need to encode base64 in Android is use small amounts of memory a time by processing the bytes 3 at a time for encoding and 4 bytes a routine call of method for unencode.\r\nAndroid has a GC but I am not an android dev but it is a recommendation from this android dev page generally. e.g. to avoid memory churn 300 bytes each method call in the loop stopping short of any .3 or .6 tail by file size calc division.see after the link.\r\nhttps://developer.android.com/topic/performance/memory\r\njava.util.Base64 **encoder** has withoutPadding() method. As I said, you loop over the file bytes in multiples of 3 to encode, just divide file size by 3 with double type math and convert answer toString() and string.indexof &quot;.3&quot; one leftover or&quot;.6&quot; two leftover bytes and call encode with the method that pads normally on those remainders. It does not have a tail pad for exact multiples of 3 with encode.","title":"java.lang.OutOfMemoryError: Failed to allocate a 341424000 byte allocation with 25165824 free bytes and 78MB until OOM","body":"<p>It is entirely able to be fixed by starting your program binaries on its command line with flags for memory assignment to the JVM of -Xss -Xmx  -Xms and also assign a G1 garbage collector.\nIn X32 the quantity of RAM is limited but in X64 the RAM assignable is much larger.</p>\n<p>The way you need to encode base64 in Android is use small amounts of memory a time by processing the bytes 3 at a time for encoding and 4 bytes a routine call of method for unencode.\nAndroid has a GC but I am not an android dev but it is a recommendation from this android dev page generally. e.g. to avoid memory churn 300 bytes each method call in the loop stopping short of any .3 or .6 tail by file size calc division.see after the link.\n<a href=\"https://developer.android.com/topic/performance/memory\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/performance/memory</a>\njava.util.Base64 <strong>encoder</strong> has withoutPadding() method. As I said, you loop over the file bytes in multiples of 3 to encode, just divide file size by 3 with double type math and convert answer toString() and string.indexof &quot;.3&quot; one leftover or&quot;.6&quot; two leftover bytes and call encode with the method that pads normally on those remainders. It does not have a tail pad for exact multiples of 3 with encode.</p>\n"}],"owner":{"account_id":22055734,"reputation":3,"user_id":16319297,"display_name":"Atomic"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":817,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664706831,"creation_date":1664686421,"question_id":73923453,"body_markdown":"I got this error everytime i wanna encode a video&#39;s bytes with Base64 into string, I assume that the video size is too big to encode because when I tried to encode a smaller video, it worked fine.\r\n```\r\njava.lang.OutOfMemoryError: Failed to allocate a 341424000 byte allocation with 25165824 free bytes and 78MB until OOM, target footprint 479725424, growth limit 536870912\r\n```\r\nAnd this is my code:\r\n```java\r\npublic void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n\r\n        if (resultCode == RESULT_OK) {\r\n            if (requestCode == 200) {\r\n                Uri selectedMediaUri = data.getData();\r\n                String[] columns = { MediaStore.Images.Media.DATA,\r\n                        MediaStore.Images.Media.MIME_TYPE };\r\n                Cursor cursor = getContext().getContentResolver().query(selectedMediaUri, columns, null, null, null);\r\n                cursor.moveToFirst();\r\n                int pathColumnIndex = cursor.getColumnIndex( columns[0] );\r\n                String contentPath = cursor.getString(pathColumnIndex);\r\n                cursor.close();\r\n                FileInputStream inputStream;\r\n                try {\r\n                    inputStream = new FileInputStream(contentPath);\r\n                } catch (Exception e) {\r\n                    Toast.makeText(getContext(), &quot;Fail to retrieve video data.&quot;, Toast.LENGTH_SHORT).show();\r\n                    e.printStackTrace();\r\n                    return;\r\n                }\r\n                byte[] bytes;\r\n                byte[] buffer = new byte[8192];\r\n                int bytesRead;\r\n                ByteArrayOutputStream output = new ByteArrayOutputStream();\r\n                try {\r\n                    while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                        output.write(buffer, 0, bytesRead);\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                bytes = output.toByteArray();\r\n                Client.videoData = Base64.encodeToString(bytes, Base64.DEFAULT);\r\n            }\r\n        }\r\n    }\r\n```\r\nIm trying to read a video file in bytes and then convert it into string with Base64. But it just keep giving me this error \r\n\r\n(Note: I will have decode it back to bytes and set it in videoview later)\r\n\r\nSo how can I fix this? Please help!","title":"java.lang.OutOfMemoryError: Failed to allocate a 341424000 byte allocation with 25165824 free bytes and 78MB until OOM","body":"<p>I got this error everytime i wanna encode a video's bytes with Base64 into string, I assume that the video size is too big to encode because when I tried to encode a smaller video, it worked fine.</p>\n<pre><code>java.lang.OutOfMemoryError: Failed to allocate a 341424000 byte allocation with 25165824 free bytes and 78MB until OOM, target footprint 479725424, growth limit 536870912\n</code></pre>\n<p>And this is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onActivityResult(int requestCode, int resultCode, Intent data) {\n\n        if (resultCode == RESULT_OK) {\n            if (requestCode == 200) {\n                Uri selectedMediaUri = data.getData();\n                String[] columns = { MediaStore.Images.Media.DATA,\n                        MediaStore.Images.Media.MIME_TYPE };\n                Cursor cursor = getContext().getContentResolver().query(selectedMediaUri, columns, null, null, null);\n                cursor.moveToFirst();\n                int pathColumnIndex = cursor.getColumnIndex( columns[0] );\n                String contentPath = cursor.getString(pathColumnIndex);\n                cursor.close();\n                FileInputStream inputStream;\n                try {\n                    inputStream = new FileInputStream(contentPath);\n                } catch (Exception e) {\n                    Toast.makeText(getContext(), &quot;Fail to retrieve video data.&quot;, Toast.LENGTH_SHORT).show();\n                    e.printStackTrace();\n                    return;\n                }\n                byte[] bytes;\n                byte[] buffer = new byte[8192];\n                int bytesRead;\n                ByteArrayOutputStream output = new ByteArrayOutputStream();\n                try {\n                    while ((bytesRead = inputStream.read(buffer)) != -1) {\n                        output.write(buffer, 0, bytesRead);\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                bytes = output.toByteArray();\n                Client.videoData = Base64.encodeToString(bytes, Base64.DEFAULT);\n            }\n        }\n    }\n</code></pre>\n<p>Im trying to read a video file in bytes and then convert it into string with Base64. But it just keep giving me this error</p>\n<p>(Note: I will have decode it back to bytes and set it in videoview later)</p>\n<p>So how can I fix this? Please help!</p>\n"},{"tags":["java","cassandra","spring-data","spring-data-cassandra"],"answers":[{"tags":[],"owner":{"display_name":"user7514788"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664706014,"creation_date":1664706014,"answer_id":73925054,"question_id":73924731,"body_markdown":"Similar problem was encountered here. [How-to-use-userdefinedtypes][1] Somehow when you annotate your UDT POJO with `@UserDefinedType` , there is no need to annotate them again with `@CassandraType` while using them as entity class fields.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45030698/how-to-use-userdefinedtypeudt-with-spring-data-cassandra-for-listudt","title":"Why can Spring Data not find suitable converter for UDT?","body":"<p>Similar problem was encountered here. <a href=\"https://stackoverflow.com/questions/45030698/how-to-use-userdefinedtypeudt-with-spring-data-cassandra-for-listudt\">How-to-use-userdefinedtypes</a> Somehow when you annotate your UDT POJO with <code>@UserDefinedType</code> , there is no need to annotate them again with <code>@CassandraType</code> while using them as entity class fields.</p>\n"}],"owner":{"display_name":"user7514788"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73925054,"answer_count":1,"score":1,"last_activity_date":1664706014,"creation_date":1664702762,"question_id":73924731,"body_markdown":"I defined a UDT POJO class as follows\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @UserDefinedType(&quot;address_type&quot;)\r\n    public class Address {\r\n\t\t\r\n\t@Column(&quot;address_line&quot;)\r\n\t@CassandraType(type = Name.TEXT)\r\n\tprivate String addressLine;\r\n\t@Column(&quot;postal_code&quot;)\r\n\t@CassandraType(type = Name.TEXT)\r\n\tprivate String postalCode;\r\n\t@Column\r\n\t@CassandraType(type = Name.TEXT)\r\n\tprivate String city;\r\n\t\r\n    }\r\nand also added this UDT  definition on my keyspace for cassandra. My Entity with which I defined my UDT fields is \r\n\r\n    @Table(&quot;customer_model&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class CustomerModel {\r\n\r\n\t@PrimaryKey\r\n\tprivate Integer id ;\r\n\t\r\n\t@Column(&quot;company_name&quot;)\r\n\tprivate String companyName;\r\n\t\r\n\t@Column(&quot;company_email&quot;)\r\n\tprivate String companyEmail;\r\n\t\r\n\t@Column(&quot;tax_id&quot;)\r\n\tprivate String taxId;\r\n\t\r\n\t@Column(&quot;billing_address&quot;)\r\n\t@CassandraType(type = Name.UDT,userTypeName = &quot;address_type&quot;)\r\n\tprivate Address billingAddress;\r\n\t\r\n\t@CassandraType(userTypeName = &quot;address_type&quot;, type = Name.UDT)\r\n\t@Column(&quot;shipping_address&quot;)\r\n\tprivate Address shippingAddress;\r\n     }\r\nWhen I try to make basic CRUD operations I get following Exception ,\r\n\r\n    No converter found capable of converting from type [models.udt.Address] to type [com.datastax.oss.driver.api.core.data.UdtValue]\r\n\r\nI tried to add Custom Converter implementations to no avail. How to make spring find suitable converters for my POJO UDT to Cssandra UDT type? ","title":"Why can Spring Data not find suitable converter for UDT?","body":"<p>I defined a UDT POJO class as follows</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@UserDefinedType(&quot;address_type&quot;)\npublic class Address {\n    \n@Column(&quot;address_line&quot;)\n@CassandraType(type = Name.TEXT)\nprivate String addressLine;\n@Column(&quot;postal_code&quot;)\n@CassandraType(type = Name.TEXT)\nprivate String postalCode;\n@Column\n@CassandraType(type = Name.TEXT)\nprivate String city;\n\n}\n</code></pre>\n<p>and also added this UDT  definition on my keyspace for cassandra. My Entity with which I defined my UDT fields is</p>\n<pre><code>@Table(&quot;customer_model&quot;)\n@Getter\n@Setter\npublic class CustomerModel {\n\n@PrimaryKey\nprivate Integer id ;\n\n@Column(&quot;company_name&quot;)\nprivate String companyName;\n\n@Column(&quot;company_email&quot;)\nprivate String companyEmail;\n\n@Column(&quot;tax_id&quot;)\nprivate String taxId;\n\n@Column(&quot;billing_address&quot;)\n@CassandraType(type = Name.UDT,userTypeName = &quot;address_type&quot;)\nprivate Address billingAddress;\n\n@CassandraType(userTypeName = &quot;address_type&quot;, type = Name.UDT)\n@Column(&quot;shipping_address&quot;)\nprivate Address shippingAddress;\n }\n</code></pre>\n<p>When I try to make basic CRUD operations I get following Exception ,</p>\n<pre><code>No converter found capable of converting from type [models.udt.Address] to type [com.datastax.oss.driver.api.core.data.UdtValue]\n</code></pre>\n<p>I tried to add Custom Converter implementations to no avail. How to make spring find suitable converters for my POJO UDT to Cssandra UDT type?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":13277637,"reputation":306,"user_id":9586428,"display_name":"pratik patel"},"score":0,"creation_date":1626354255,"post_id":68394339,"comment_id":120874393,"body_markdown":"can you please show pom.xml","body":"can you please show pom.xml"},{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":1,"creation_date":1626354350,"post_id":68394339,"comment_id":120874445,"body_markdown":"`No default constructor for entity:  : net.javaguides.springboot.model.User` tells your the reason","body":"<code>No default constructor for entity:  : net.javaguides.springboot.model.User</code> tells your the reason"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1626354878,"post_id":68394339,"comment_id":120874691,"body_markdown":"JPA requires an no-arg constructor. You either aren&#39;t following the tutorial and just messing around with something that looks like the tutorial, or you are following a really bad tutorial and should find another one.","body":"JPA requires an no-arg constructor. You either aren&#39;t following the tutorial and just messing around with something that looks like the tutorial, or you are following a really bad tutorial and should find another one."}],"answers":[{"tags":[],"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626366660,"creation_date":1626354206,"answer_id":68394374,"question_id":68394339,"body_markdown":"You just need to add an empty constructor to User class:\r\n\r\n   public User() {\r\n   }","title":"Spring Boot Whitelabel Error page (type=Internal Server Error, status=500)","body":"<p>You just need to add an empty constructor to User class:</p>\n<p>public User() {\n}</p>\n"},{"tags":[],"owner":{"account_id":18129699,"reputation":296,"user_id":13184919,"display_name":"M&#225;t&#233; Tős&#233;r"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1626354279,"creation_date":1626354279,"answer_id":68394396,"question_id":68394339,"body_markdown":"You need to have a default constructor such as:\r\n\r\n    public User() {\r\n    }\r\n\r\nHibernate uses the default constructor to create entity objects. If the default constructor is not available in any of the entities, InstantiationException: There was an unexpected error (type=Internal Server Error, status=500). will be thrown from hibernate.","title":"Spring Boot Whitelabel Error page (type=Internal Server Error, status=500)","body":"<p>You need to have a default constructor such as:</p>\n<pre><code>public User() {\n}\n</code></pre>\n<p>Hibernate uses the default constructor to create entity objects. If the default constructor is not available in any of the entities, InstantiationException: There was an unexpected error (type=Internal Server Error, status=500). will be thrown from hibernate.</p>\n"},{"tags":[],"owner":{"account_id":22188269,"reputation":41,"user_id":16430846,"display_name":"Kaushik Shaw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626369739,"creation_date":1626369739,"answer_id":68398251,"question_id":68394339,"body_markdown":"All persistent classes must have a default constructor so that Hibernate can instantiate them using Constructor.newInstance(). It is recommended that you have a default constructor with at least package visibility for runtime proxy generation in Hibernate. so you must add a default constructor.\r\n\r\n```\r\n\r\npublic User() { \r\n}\r\n\r\n```\r\n","title":"Spring Boot Whitelabel Error page (type=Internal Server Error, status=500)","body":"<p>All persistent classes must have a default constructor so that Hibernate can instantiate them using Constructor.newInstance(). It is recommended that you have a default constructor with at least package visibility for runtime proxy generation in Hibernate. so you must add a default constructor.</p>\n<pre><code>\npublic User() { \n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18714601,"reputation":69,"user_id":13643931,"display_name":"tushar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626408350,"creation_date":1626408350,"answer_id":68403271,"question_id":68394339,"body_markdown":"add default constructor in your user entity class","title":"Spring Boot Whitelabel Error page (type=Internal Server Error, status=500)","body":"<p>add default constructor in your user entity class</p>\n"},{"tags":[],"owner":{"account_id":26457086,"reputation":1,"user_id":20099548,"display_name":"Jubaedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664705248,"creation_date":1664274560,"answer_id":73866107,"question_id":68394339,"body_markdown":"`Whitelabel Error Page`\r\n\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback. You will find more information [here](https://www.baeldung.com/spring-boot-custom-error-page) or [here](https://springhow.com/whitelabel-error-page/).\r\n\r\nThe whole log should be something like: \r\n\r\n```\r\nTue Sep 27 17:27:29 WIB 2022\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nNo message available\r\n```","title":"Spring Boot Whitelabel Error page (type=Internal Server Error, status=500)","body":"<p><code>Whitelabel Error Page</code></p>\n<p>This application has no explicit mapping for /error, so you are seeing this as a fallback. You will find more information <a href=\"https://www.baeldung.com/spring-boot-custom-error-page\" rel=\"nofollow noreferrer\">here</a> or <a href=\"https://springhow.com/whitelabel-error-page/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The whole log should be something like:</p>\n<pre><code>Tue Sep 27 17:27:29 WIB 2022\nThere was an unexpected error (type=Internal Server Error, status=500).\nNo message available\n</code></pre>\n"}],"owner":{"account_id":21953338,"reputation":107,"user_id":16232251,"display_name":"nguyencuc2286"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9798,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1664705248,"creation_date":1626354080,"question_id":68394339,"body_markdown":"I am trying to follow the online tutorial of spring boot and all of my java file seem ok. Here they are :\r\n\r\nUser.java file\r\n\r\n    package net.javaguides.springboot.model;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long id;\r\n\t@Column(name = &quot;first_name&quot;)\r\n\tprivate String firstName;\r\n\t@Column(name = &quot;last_name&quot;)\r\n\tprivate String lastName;\r\n    private String email;\r\n\tpublic User(String firstName, String lastName, String email) {\r\n\t\tsuper();\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.lastName = lastName;\r\n\t\tthis.email = email;\r\n\t}\r\n\tpublic long getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}}\r\n\r\nUserRepository.java file\r\n\r\n    package net.javaguides.springboot.repository;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    import net.javaguides.springboot.model.User;\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt;{\r\n    }\r\n\r\nUserController.java file\r\n\r\n    package net.javaguides.springboot.controller;\r\n    import java.util.List;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import net.javaguides.springboot.model.User;\r\n    import net.javaguides.springboot.repository.UserRepository;\r\n    @RestController\r\n    @RequestMapping(&quot;api/&quot;)\r\n    public class UserController {\r\n\t@Autowired\r\n\tprivate UserRepository userRepository;\r\n\t@GetMapping(&quot;users&quot;)\r\n\tpublic List&lt;User&gt; getUsers() {\r\n\treturn this.userRepository.findAll();\t\t\r\n\t}}\r\n\r\n\r\nAnd the last one is the file named Thinghiem1Application.java\r\n\r\n    package net.javaguides.springboot;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import net.javaguides.springboot.model.User;\r\n    import net.javaguides.springboot.repository.UserRepository;\r\n    @SpringBootApplication\r\n    public class Thinghiem1Application implements CommandLineRunner{\r\n\tpublic static void main(String[] args) {\r\n\tSpringApplication.run(Thinghiem1Application.class, args);\r\n\t}\r\n    @Autowired\r\n\tprivate UserRepository userRepository;\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\t// TODO Auto-generated method stub\r\n\tthis.userRepository.save(new User(&quot;Duc&quot;, &quot;Nguyen&quot;, &quot;ramesh@gmail.com&quot;));\r\n\tthis.userRepository.save(new User(&quot;Long&quot;, &quot;Hoang&quot;, &quot;tom@gmail.com&quot;));\r\n\tthis.userRepository.save(new User(&quot;Tony&quot;, &quot;Lan&quot;, &quot;dir@gmail.com&quot;));\r\n\t}}\r\n\r\nSorry for my mistake, here is my thinghiem1/pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;net.javaguides&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;thinghiem1&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;thinghiem1&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t&lt;plugins&gt;\r\n\t&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;/plugin&gt;\r\n\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\nAs you can see, there was no error.\r\n\r\nBut when I ran the Thinghiem1Application.java file as Spring Boot App, it said to me that there was an error like this `2021-07-15 20:28:27.457 ERROR 11092 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: No default constructor for entity:  : net.javaguides.springboot.model.User; nested exception is org.hibernate.InstantiationException: No default constructor for entity:  : net.javaguides.springboot.model.User] with root cause`\r\n\r\nand the page can not load, it said to me that `Whitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.`\r\n\r\nI am very confusing with this problem and trying to fix it but still can not fix it, could you please give me some ideas ? Thank you in advance.","title":"Spring Boot Whitelabel Error page (type=Internal Server Error, status=500)","body":"<p>I am trying to follow the online tutorial of spring boot and all of my java file seem ok. Here they are :</p>\n<p>User.java file</p>\n<pre><code>package net.javaguides.springboot.model;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long id;\n@Column(name = &quot;first_name&quot;)\nprivate String firstName;\n@Column(name = &quot;last_name&quot;)\nprivate String lastName;\nprivate String email;\npublic User(String firstName, String lastName, String email) {\n    super();\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.email = email;\n}\npublic long getId() {\n    return id;\n}\npublic void setId(long id) {\n    this.id = id;\n}\npublic String getFirstName() {\n    return firstName;\n}\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\npublic String getLastName() {\n    return lastName;\n}\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\npublic String getEmail() {\n    return email;\n}\npublic void setEmail(String email) {\n    this.email = email;\n}}\n</code></pre>\n<p>UserRepository.java file</p>\n<pre><code>package net.javaguides.springboot.repository;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\nimport net.javaguides.springboot.model.User;\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt;{\n}\n</code></pre>\n<p>UserController.java file</p>\n<pre><code>package net.javaguides.springboot.controller;\nimport java.util.List;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport net.javaguides.springboot.model.User;\nimport net.javaguides.springboot.repository.UserRepository;\n@RestController\n@RequestMapping(&quot;api/&quot;)\npublic class UserController {\n@Autowired\nprivate UserRepository userRepository;\n@GetMapping(&quot;users&quot;)\npublic List&lt;User&gt; getUsers() {\nreturn this.userRepository.findAll();       \n}}\n</code></pre>\n<p>And the last one is the file named Thinghiem1Application.java</p>\n<pre><code>package net.javaguides.springboot;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport net.javaguides.springboot.model.User;\nimport net.javaguides.springboot.repository.UserRepository;\n@SpringBootApplication\npublic class Thinghiem1Application implements CommandLineRunner{\npublic static void main(String[] args) {\nSpringApplication.run(Thinghiem1Application.class, args);\n}\n@Autowired\nprivate UserRepository userRepository;\n@Override\npublic void run(String... args) throws Exception {\n// TODO Auto-generated method stub\nthis.userRepository.save(new User(&quot;Duc&quot;, &quot;Nguyen&quot;, &quot;ramesh@gmail.com&quot;));\nthis.userRepository.save(new User(&quot;Long&quot;, &quot;Hoang&quot;, &quot;tom@gmail.com&quot;));\nthis.userRepository.save(new User(&quot;Tony&quot;, &quot;Lan&quot;, &quot;dir@gmail.com&quot;));\n}}\n</code></pre>\n<p>Sorry for my mistake, here is my thinghiem1/pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \nhttps://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n&lt;version&gt;2.5.2&lt;/version&gt;\n&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;net.javaguides&lt;/groupId&gt;\n&lt;artifactId&gt;thinghiem1&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;thinghiem1&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n&lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;com.h2database&lt;/groupId&gt;\n&lt;artifactId&gt;h2&lt;/artifactId&gt;\n&lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n&lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n&lt;plugins&gt;\n&lt;plugin&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>As you can see, there was no error.</p>\n<p>But when I ran the Thinghiem1Application.java file as Spring Boot App, it said to me that there was an error like this <code>2021-07-15 20:28:27.457 ERROR 11092 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: No default constructor for entity:  : net.javaguides.springboot.model.User; nested exception is org.hibernate.InstantiationException: No default constructor for entity:  : net.javaguides.springboot.model.User] with root cause</code></p>\n<p>and the page can not load, it said to me that <code>Whitelabel Error Page This application has no explicit mapping for /error, so you are seeing this as a fallback.</code></p>\n<p>I am very confusing with this problem and trying to fix it but still can not fix it, could you please give me some ideas ? Thank you in advance.</p>\n"},{"tags":["java","generics","interface"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1664538991,"post_id":73908126,"comment_id":130500663,"body_markdown":"&quot;declare a static equals method in the interface and implement it in my three implementations.&quot; doesn&#39;t really make sense, can you show us the literal task statement? Usually you *either* have a `static` equals method in the interface *or* you have a non-static abstract method that all implementations need to implement. Requesting both for the same method seems ... weird and wrong. I suspect you misread the assignment.","body":"&quot;declare a static equals method in the interface and implement it in my three implementations.&quot; doesn&#39;t really make sense, can you show us the literal task statement? Usually you <i>either</i> have a <code>static</code> equals method in the interface <i>or</i> you have a non-static abstract method that all implementations need to implement. Requesting both for the same method seems ... weird and wrong. I suspect you misread the assignment."},{"owner":{"account_id":23417110,"reputation":11,"user_id":17477901,"display_name":"Verum"},"score":0,"creation_date":1664548826,"post_id":73908126,"comment_id":130504110,"body_markdown":"@JoachimSauer Sorry for the confusion, it&#39;s only the static method I need help with, as my implementations will inherit it.","body":"@JoachimSauer Sorry for the confusion, it&#39;s only the static method I need help with, as my implementations will inherit it."}],"answers":[{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664703780,"creation_date":1664703227,"answer_id":73924780,"question_id":73908126,"body_markdown":"In your design, the only way to access the elements of the Set is to convert it to an Array and use that Array. That is quite inconvenient.\r\n\r\nThe java.util.Set interface extends Iterable&lt;T&gt;, so you can iterate over it directly. Even using the for-each loop. You could add that to your Set as well.\r\n\r\n    public interface Set&lt;T&gt; extends Iterable&lt;T&gt; {\r\n    \r\n      public static boolean equals(Set&lt;T&gt; equalSetOne, Set&lt;T&gt; equalSetTwo ) {\r\n        for (T elementOne: equalSetOne) {\r\n          ...  \r\n        }\r\n    ","title":"How do i declare a static equals method in a generic interface that compares two types of implementation of the interface?","body":"<p>In your design, the only way to access the elements of the Set is to convert it to an Array and use that Array. That is quite inconvenient.</p>\n<p>The java.util.Set interface extends Iterable, so you can iterate over it directly. Even using the for-each loop. You could add that to your Set as well.</p>\n<pre><code>public interface Set&lt;T&gt; extends Iterable&lt;T&gt; {\n\n  public static boolean equals(Set&lt;T&gt; equalSetOne, Set&lt;T&gt; equalSetTwo ) {\n    for (T elementOne: equalSetOne) {\n      ...  \n    }\n</code></pre>\n"}],"owner":{"account_id":23417110,"reputation":11,"user_id":17477901,"display_name":"Verum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664703780,"creation_date":1664537811,"question_id":73908126,"body_markdown":"I am studying java for a class and as part of my lab we have practiced different implementations of a generic Interface that represents the Set ADT. One part of the lab asks me to declare a static equals method in the interface. \r\n\r\nIn my own attempt this is what i have created\r\n\r\n```\r\npackage lab5;\r\n\r\npublic interface Set&lt;T&gt; {\r\n\t\r\n\tpublic static boolean equals(Set&lt;T&gt; equalSetOne, Set&lt;T&gt; equalSetTwo ) {\r\n\t\tObject[] testArrayOne;\r\n\t\tObject[] testArrayTwo;\r\n\t\ttestArrayOne = equalSetOne.toArray();\r\n\t\ttestArrayTwo = equalSetTwo.toArray();\r\n\t\t\r\n\t\t\r\n\t\tif((testArrayOne.length != 0) &amp;&amp; !(equalSetTwo.isEmpty())) {\r\n\t\t\tfor(int i = 0; i &lt; testArrayOne.length; i++) {\r\n\t\t\t\tif(!equalSetTwo.contains(testArrayOne[i])) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif((testArrayTwo.length != 0) &amp;&amp; !(equalSetOne.isEmpty())) {\r\n\t\t\tfor(int i = 0; i &lt; testArrayTwo.length; i++) {\r\n\t\t\t\tif(!equalSetOne.contains(testArrayTwo[i])) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t}\r\n\t\t\r\n\tpublic boolean add(T newElem);\r\n\tpublic T remove();\r\n\tpublic boolean remove(T removedElem);\r\n\tpublic int getSize();\r\n\tpublic boolean isEmpty();\r\n\tpublic boolean contains(T containElem);\r\n\tpublic void clear();\r\n\tpublic Object[] toArray();\r\n}\r\n```\r\nI am unsure of how to declare the variables in the equals method so that they work for any Set implemented object. Thank you for any help you can provide.","title":"How do i declare a static equals method in a generic interface that compares two types of implementation of the interface?","body":"<p>I am studying java for a class and as part of my lab we have practiced different implementations of a generic Interface that represents the Set ADT. One part of the lab asks me to declare a static equals method in the interface.</p>\n<p>In my own attempt this is what i have created</p>\n<pre><code>package lab5;\n\npublic interface Set&lt;T&gt; {\n    \n    public static boolean equals(Set&lt;T&gt; equalSetOne, Set&lt;T&gt; equalSetTwo ) {\n        Object[] testArrayOne;\n        Object[] testArrayTwo;\n        testArrayOne = equalSetOne.toArray();\n        testArrayTwo = equalSetTwo.toArray();\n        \n        \n        if((testArrayOne.length != 0) &amp;&amp; !(equalSetTwo.isEmpty())) {\n            for(int i = 0; i &lt; testArrayOne.length; i++) {\n                if(!equalSetTwo.contains(testArrayOne[i])) {\n                    return false;\n                }\n            }\n        }\n        \n        if((testArrayTwo.length != 0) &amp;&amp; !(equalSetOne.isEmpty())) {\n            for(int i = 0; i &lt; testArrayTwo.length; i++) {\n                if(!equalSetOne.contains(testArrayTwo[i])) {\n                    return false;\n                }\n            }\n        }\n        \n        return true;\n    }\n        \n    public boolean add(T newElem);\n    public T remove();\n    public boolean remove(T removedElem);\n    public int getSize();\n    public boolean isEmpty();\n    public boolean contains(T containElem);\n    public void clear();\n    public Object[] toArray();\n}\n</code></pre>\n<p>I am unsure of how to declare the variables in the equals method so that they work for any Set implemented object. Thank you for any help you can provide.</p>\n"},{"tags":["java","oop","uml"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1664662392,"post_id":73921979,"comment_id":130524158,"body_markdown":"The same way you would represent it if it required an `int` or any other type.","body":"The same way you would represent it if it required an <code>int</code> or any other type."}],"answers":[{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664703682,"creation_date":1664663094,"answer_id":73922166,"question_id":73921979,"body_markdown":"It depends on the diagram.  \r\n\r\nThe **class diagram** shows classes and the relation between then.  It could look like:  \r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou could in theory show the dependency to the argument type, because the class needs to know the argument type to use it:  \r\n\r\n[![enter image description here][2]][2]\r\n\r\nBut this would be overkill: the dependency is related to classes and not individual objects; and a class always depends implicitly on itself.  \r\n\r\nThe **sequence diagram** would show how objects of the different types interact. To show how the operation on one object `p1` is called with `p2` as argument,  you&#39;d need to show the objects involved:    \r\n\r\n[![enter image description here][3]][3]\r\n\r\nOr you could show a simpler scenario, such as: \r\n\r\n[![enter image description here][4]][4]\r\n\r\nThese two diagrams only show that `printOponnent()` is called with another player as argument.  But perhaps you want to enrich them to show some implementation details afterwards, e.g. what messages are exchanged between p1 and p2 in the context of `printOpponent()`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gwi7Y.png\r\n  [2]: https://i.stack.imgur.com/HyAyI.png\r\n  [3]: https://i.stack.imgur.com/oPycp.png\r\n  [4]: https://i.stack.imgur.com/dvwMw.png","title":"UML: How show an object using itself in a method","body":"<p>It depends on the diagram.</p>\n<p>The <strong>class diagram</strong> shows classes and the relation between then.  It could look like:</p>\n<p><a href=\"https://i.stack.imgur.com/Gwi7Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gwi7Y.png\" alt=\"enter image description here\" /></a></p>\n<p>You could in theory show the dependency to the argument type, because the class needs to know the argument type to use it:</p>\n<p><a href=\"https://i.stack.imgur.com/HyAyI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HyAyI.png\" alt=\"enter image description here\" /></a></p>\n<p>But this would be overkill: the dependency is related to classes and not individual objects; and a class always depends implicitly on itself.</p>\n<p>The <strong>sequence diagram</strong> would show how objects of the different types interact. To show how the operation on one object <code>p1</code> is called with <code>p2</code> as argument,  you'd need to show the objects involved:</p>\n<p><a href=\"https://i.stack.imgur.com/oPycp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oPycp.png\" alt=\"enter image description here\" /></a></p>\n<p>Or you could show a simpler scenario, such as:</p>\n<p><a href=\"https://i.stack.imgur.com/dvwMw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dvwMw.png\" alt=\"enter image description here\" /></a></p>\n<p>These two diagrams only show that <code>printOponnent()</code> is called with another player as argument.  But perhaps you want to enrich them to show some implementation details afterwards, e.g. what messages are exchanged between p1 and p2 in the context of <code>printOpponent()</code></p>\n"}],"owner":{"account_id":26503309,"reputation":71,"user_id":20139886,"display_name":"jdecer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664703682,"creation_date":1664660991,"question_id":73921979,"body_markdown":"```\r\nclass Player {\r\n    public void printOpponent(Player opponent) {\r\n    // ...\r\n    }\r\n}\r\n```\r\n\r\nHow would the UML representation of Player look like considering one of its methods requires an object of type Player?","title":"UML: How show an object using itself in a method","body":"<pre><code>class Player {\n    public void printOpponent(Player opponent) {\n    // ...\n    }\n}\n</code></pre>\n<p>How would the UML representation of Player look like considering one of its methods requires an object of type Player?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1664693197,"post_id":73923846,"comment_id":130527282,"body_markdown":"Operands are evaluted left to right. The left hand side of the `==` is 99, and has the side effect of incrementing `x`, so the right hand side is 100.","body":"Operands are evaluted left to right. The left hand side of the <code>==</code> is 99, and has the side effect of incrementing <code>x</code>, so the right hand side is 100."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1664693253,"post_id":73923846,"comment_id":130527291,"body_markdown":"&quot;The left-hand operand of a binary operator appears to be fully evaluated before any part of the right-hand operand is evaluated.&quot; https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7","body":"&quot;The left-hand operand of a binary operator appears to be fully evaluated before any part of the right-hand operand is evaluated.&quot; <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15&zwnj;&#8203;.7</a>"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1664698607,"post_id":73923846,"comment_id":130528036,"body_markdown":"Please explain why you think that it should be executed.","body":"Please explain why you think that it should be executed."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1664693208,"creation_date":1664693208,"answer_id":73923873,"question_id":73923846,"body_markdown":"The operands of an expression are evaluated left to right.\r\n\r\nIn the expression `x++ == x`, first `x++` is evaluated. It increments `x` by `1`, but returns the original value of `x`. So `x++` returns `99`.\r\n\r\nThen `x` is evaluated, which returns `100` (since it was incremented by `x++`).\r\n\r\nSince `99` is not equal to `100`, this condition evaluates to `false`.\r\n\r\nIf you change the expression to `x==x++`, you&#39;ll get `true`.","title":"In Java,operator precedence, increment and decrement, why isn&#39;t the first println statement executed?","body":"<p>The operands of an expression are evaluated left to right.</p>\n<p>In the expression <code>x++ == x</code>, first <code>x++</code> is evaluated. It increments <code>x</code> by <code>1</code>, but returns the original value of <code>x</code>. So <code>x++</code> returns <code>99</code>.</p>\n<p>Then <code>x</code> is evaluated, which returns <code>100</code> (since it was incremented by <code>x++</code>).</p>\n<p>Since <code>99</code> is not equal to <code>100</code>, this condition evaluates to <code>false</code>.</p>\n<p>If you change the expression to <code>x==x++</code>, you'll get <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1664703431,"creation_date":1664693836,"answer_id":73923923,"question_id":73923846,"body_markdown":"The differece between `i++` and `++i` is very simple.\r\n\r\n - `i++` - means exactly **first get the value and then increment it for the further usage**\r\n - `++i` - means exactly **first increment the value and use the incremented value**\r\n\r\nFollowing the shippet `x++ == x` means following:\r\n\r\n - Analyze expression from left to the right\r\n - Get `x = 99` as the left operand and use it in the expression\r\n - Increment `x` and thus `x == 100`\r\n - Get `x = 100` as the right operand (note it is already incremented)\r\n - `99 != 100`\r\n\r\nFollowing the shippet `++x == x` means following:\r\n - Analyze expression from left to the right\r\n - Get `x = 99` as the left operand\r\n - Increment `x` and thus `x == 100` and use it in the expression\r\n - Get `x = 100` as the right operand (note it is already incremented)\r\n - `100 == 100`\r\n\r\nYou can see all these logic. E.g. not experienced developer cannot know these details. Therefore the **best practice** is to avoid such increments in the expression. **Just do it before** the expression in the single line. In this case the logic will be straight forward and you get much less problems.","title":"In Java,operator precedence, increment and decrement, why isn&#39;t the first println statement executed?","body":"<p>The differece between <code>i++</code> and <code>++i</code> is very simple.</p>\n<ul>\n<li><code>i++</code> - means exactly <strong>first get the value and then increment it for the further usage</strong></li>\n<li><code>++i</code> - means exactly <strong>first increment the value and use the incremented value</strong></li>\n</ul>\n<p>Following the shippet <code>x++ == x</code> means following:</p>\n<ul>\n<li>Analyze expression from left to the right</li>\n<li>Get <code>x = 99</code> as the left operand and use it in the expression</li>\n<li>Increment <code>x</code> and thus <code>x == 100</code></li>\n<li>Get <code>x = 100</code> as the right operand (note it is already incremented)</li>\n<li><code>99 != 100</code></li>\n</ul>\n<p>Following the shippet <code>++x == x</code> means following:</p>\n<ul>\n<li>Analyze expression from left to the right</li>\n<li>Get <code>x = 99</code> as the left operand</li>\n<li>Increment <code>x</code> and thus <code>x == 100</code> and use it in the expression</li>\n<li>Get <code>x = 100</code> as the right operand (note it is already incremented)</li>\n<li><code>100 == 100</code></li>\n</ul>\n<p>You can see all these logic. E.g. not experienced developer cannot know these details. Therefore the <strong>best practice</strong> is to avoid such increments in the expression. <strong>Just do it before</strong> the expression in the single line. In this case the logic will be straight forward and you get much less problems.</p>\n"}],"owner":{"account_id":26489664,"reputation":31,"user_id":20127748,"display_name":"Dilshan Dekumpitiya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1664706550,"accepted_answer_id":73923923,"answer_count":2,"score":-1,"last_activity_date":1664703431,"creation_date":1664692802,"question_id":73923846,"body_markdown":"    class Example{\r\n        public static void main(String args[]){\r\n    \t    int x=99;\r\n    \t\tif(x++==x){\r\n    \t\t    System.out.println(&quot;x++==x : &quot;+x); //Why this code line is not run?\r\n    \t\t}\r\n    \t\tif(++x==x ){\r\n    \t\t\tSystem.out.println(&quot;++x==x : &quot;+x); \r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nWhy isn&#39;t the first `println` statement executed?\r\n","title":"In Java,operator precedence, increment and decrement, why isn&#39;t the first println statement executed?","body":"<pre><code>class Example{\n    public static void main(String args[]){\n        int x=99;\n        if(x++==x){\n            System.out.println(&quot;x++==x : &quot;+x); //Why this code line is not run?\n        }\n        if(++x==x ){\n            System.out.println(&quot;++x==x : &quot;+x); \n        }\n    }\n}\n</code></pre>\n<p>Why isn't the first <code>println</code> statement executed?</p>\n"},{"tags":["java","apache","http","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":12,"creation_date":1391595934,"post_id":21574478,"comment_id":32588257,"body_markdown":"The documentation seems pretty clear to me: &quot;Base implementation of HttpClient that also implements Closeable&quot; - HttpClient is an interface; CloseableHttpClient is an abstract class, but because it implements AutoCloseable you can use it in a try-with-resources statement.","body":"The documentation seems pretty clear to me: &quot;Base implementation of HttpClient that also implements Closeable&quot; - HttpClient is an interface; CloseableHttpClient is an abstract class, but because it implements AutoCloseable you can use it in a try-with-resources statement."},{"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"score":5,"creation_date":1397885973,"post_id":21574478,"comment_id":35427622,"body_markdown":"@JonSkeet That much is clear, but how important is it to close `HttpClient` instances?  If it&#39;s important, why is the `close()` method not part of the basic interface?","body":"@JonSkeet That much is clear, but how important is it to close <code>HttpClient</code> instances?  If it&#39;s important, why is the <code>close()</code> method not part of the basic interface?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1397893838,"post_id":21574478,"comment_id":35429481,"body_markdown":"@Jules: I&#39;m afraid I don&#39;t know enough about HttpClient to answer that :(","body":"@Jules: I&#39;m afraid I don&#39;t know enough about HttpClient to answer that :("},{"owner":{"account_id":1161038,"reputation":18030,"user_id":1140529,"accept_rate":50,"display_name":"Jeril Kuruvila"},"score":0,"creation_date":1574652914,"post_id":21574478,"comment_id":104294559,"body_markdown":"close need not be part of basic interface since underlying connection is released back to the connection manager automatically","body":"close need not be part of basic interface since underlying connection is released back to the connection manager automatically"}],"answers":[{"tags":[],"owner":{"account_id":1983457,"reputation":240,"user_id":1779428,"display_name":"M. Sfakianos"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1418360510,"creation_date":1391595993,"answer_id":21574573,"question_id":21574478,"body_markdown":"`HttpClient` is not a class, it is an interface. You cannot use it for development in the way you mean. \r\n\r\nWhat you want is a class that implements the `HttpClient` interface, and that is `CloseableHttpClient`.","title":"What is the difference between CloseableHttpClient and HttpClient in Apache HttpClient API?","body":"<p><code>HttpClient</code> is not a class, it is an interface. You cannot use it for development in the way you mean. </p>\n\n<p>What you want is a class that implements the <code>HttpClient</code> interface, and that is <code>CloseableHttpClient</code>.</p>\n"},{"tags":[],"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1391596566,"creation_date":1391596566,"answer_id":21574798,"question_id":21574478,"body_markdown":"In the next major version of the library `HttpClient` interface is going to extend `Closeable`. Until then it is recommended to use `CloseableHttpClient` if compatibility with earlier 4.x versions (4.0, 4.1 and 4.2) is not required.","title":"What is the difference between CloseableHttpClient and HttpClient in Apache HttpClient API?","body":"<p>In the next major version of the library <code>HttpClient</code> interface is going to extend <code>Closeable</code>. Until then it is recommended to use <code>CloseableHttpClient</code> if compatibility with earlier 4.x versions (4.0, 4.1 and 4.2) is not required.</p>\n"},{"tags":[],"owner":{"account_id":111690,"reputation":2839,"user_id":294914,"display_name":"polve"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1416237392,"creation_date":1416219373,"answer_id":26970330,"question_id":21574478,"body_markdown":"`CloseableHttpClient` is the base class of the httpclient library, the one all implementations use. Other subclasses are for the most part deprecated.\r\n \r\nThe `HttpClient` is an interface for this class and other classes.\r\n\r\nYou should then use the `CloseableHttpClient` in your code, and create it using the `HttpClientBuilder`. If you need to wrap the client to add specific behaviour you should use request and response interceptors instead of wrapping with the `HttpClient`.\r\n\r\nThis answer was given in the context of httpclient-4.3.\r\n","title":"What is the difference between CloseableHttpClient and HttpClient in Apache HttpClient API?","body":"<p><code>CloseableHttpClient</code> is the base class of the httpclient library, the one all implementations use. Other subclasses are for the most part deprecated.</p>\n\n<p>The <code>HttpClient</code> is an interface for this class and other classes.</p>\n\n<p>You should then use the <code>CloseableHttpClient</code> in your code, and create it using the <code>HttpClientBuilder</code>. If you need to wrap the client to add specific behaviour you should use request and response interceptors instead of wrapping with the <code>HttpClient</code>.</p>\n\n<p>This answer was given in the context of httpclient-4.3.</p>\n"},{"tags":[],"owner":{"account_id":3371777,"reputation":4674,"user_id":2830834,"accept_rate":75,"display_name":"Sagar Pudi"},"down_vote_count":0,"up_vote_count":125,"is_accepted":true,"score":125,"last_activity_date":1584064780,"creation_date":1416302668,"answer_id":26990679,"question_id":21574478,"body_markdown":" - The main entry point of the HttpClient API is the HttpClient interface. \r\n -  The most essential function of HttpClient is to execute HTTP methods.\r\n - Execution of an HTTP method involves one or several HTTP request / HTTP response exchanges, usually handled internally by HttpClient.\r\n\r\n\r\n----------\r\n\r\n\r\n - CloseableHttpClient is an abstract class which is the base implementation of HttpClient that also implements java.io.Closeable.\r\n - Here is an example of request execution process in its simplest form:\r\n\r\n   &lt;pre&gt;CloseableHttpClient httpclient = HttpClients.createDefault();\r\n    HttpGet httpget = new HttpGet(&quot;http://localhost/&quot;);\r\n    CloseableHttpResponse response = httpclient.execute(httpget);\r\n    try {\r\n        //do something\r\n    } finally {\r\n        response.close();\r\n    }&lt;/pre&gt;\r\n\r\n\r\n----------\r\n\r\n\r\n - **HttpClient resource deallocation:** When an instance CloseableHttpClient is no longer needed and is about to go out of scope the connection manager associated with it must be shut down by calling the CloseableHttpClient#close() method.\r\n\r\n\r\n    &lt;pre&gt;CloseableHttpClient httpclient = HttpClients.createDefault();\r\n    try {\r\n        //do something\r\n    } finally {\r\n        httpclient.close();\r\n    }&lt;/pre&gt;\r\n\r\nsee the [Reference](http://hc.apache.org/httpcomponents-client-ga/tutorial/html/fundamentals.html) to learn fundamentals.&lt;br/&gt;\r\n\r\n\r\n----------\r\n@Scadge\r\nSince Java 7, Use of [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) statement ensures that each resource is closed at the end of the statement. It can be used both for the client and for each response \r\n\r\n    try(CloseableHttpClient httpclient = HttpClients.createDefault()){\r\n    \r\n        // e.g. do this many times\r\n        try (CloseableHttpResponse response = httpclient.execute(httpget)) {\r\n        //do something\r\n        }\r\n \r\n        //do something else with httpclient here\r\n    }","title":"What is the difference between CloseableHttpClient and HttpClient in Apache HttpClient API?","body":"<ul>\n<li>The main entry point of the HttpClient API is the HttpClient interface. </li>\n<li>The most essential function of HttpClient is to execute HTTP methods.</li>\n<li>Execution of an HTTP method involves one or several HTTP request / HTTP response exchanges, usually handled internally by HttpClient.</li>\n</ul>\n\n<hr>\n\n<ul>\n<li>CloseableHttpClient is an abstract class which is the base implementation of HttpClient that also implements java.io.Closeable.</li>\n<li><p>Here is an example of request execution process in its simplest form:</p>\n\n<pre>CloseableHttpClient httpclient = HttpClients.createDefault();\nHttpGet httpget = new HttpGet(\"http://localhost/\");\nCloseableHttpResponse response = httpclient.execute(httpget);\ntry {\n    //do something\n} finally {\n    response.close();\n}</pre></li>\n</ul>\n\n<hr>\n\n<ul>\n<li><p><strong>HttpClient resource deallocation:</strong> When an instance CloseableHttpClient is no longer needed and is about to go out of scope the connection manager associated with it must be shut down by calling the CloseableHttpClient#close() method.</p>\n\n<pre>CloseableHttpClient httpclient = HttpClients.createDefault();\ntry {\n    //do something\n} finally {\n    httpclient.close();\n}</pre></li>\n</ul>\n\n<p>see the <a href=\"http://hc.apache.org/httpcomponents-client-ga/tutorial/html/fundamentals.html\" rel=\"noreferrer\">Reference</a> to learn fundamentals.<br/></p>\n\n<hr>\n\n<p>@Scadge\nSince Java 7, Use of <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">try-with-resources</a> statement ensures that each resource is closed at the end of the statement. It can be used both for the client and for each response </p>\n\n<pre><code>try(CloseableHttpClient httpclient = HttpClients.createDefault()){\n\n    // e.g. do this many times\n    try (CloseableHttpResponse response = httpclient.execute(httpget)) {\n    //do something\n    }\n\n    //do something else with httpclient here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8533694,"reputation":341,"user_id":6396315,"display_name":"euphoria99"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1481028304,"creation_date":1464513374,"answer_id":37508147,"question_id":21574478,"body_markdown":"Had the same question.  The other answers don&#39;t seem to address why close() is really necessary?  Also, Op seemed to be struggling to figure out the preferred way to work with HttpClient, et al.\r\n\r\n---\r\n\r\nAccording to [Apache](http://hc.apache.org/httpcomponents-client-4.5.x/quickstart.html):\r\n\r\n    // The underlying HTTP connection is still held by the response object\r\n    // to allow the response content to be streamed directly from the network socket.\r\n    // In order to ensure correct deallocation of system resources\r\n    // the user MUST call CloseableHttpResponse#close() from a finally clause.\r\n\r\nIn addition, the relationships go as follows:\r\n&gt; `HttpClient` (interface)\r\n&gt;&gt;implemented by:\r\n&gt;&gt;&gt;`CloseableHttpClient` - ThreadSafe.\r\n\r\n&gt;&gt;&gt;`DefaultHttpClient` - ThreadSafe BUT [deprecated][1], use `HttpClientBuilder` instead.\r\n\r\n&gt;`HttpClientBuilder` - NOT ThreadSafe, BUT creates ThreadSafe `CloseableHttpClient`.  \r\n&gt;&gt; - Use to create CUSTOM `CloseableHttpClient`.\r\n\r\n&gt;`HttpClients` - NOT ThreadSafe, BUT creates ThreadSafe `CloseableHttpClient`.\r\n&gt;&gt; - Use to create DEFAULT or MINIMAL `CloseableHttpClient`.\r\n\r\nThe preferred way according to Apache:\r\n\r\n    CloseableHttpClient httpclient = HttpClients.createDefault();\r\n\r\n[The example][2] they give does `httpclient.close()` in the `finally` clause, and also makes use of `ResponseHandler` as well.\r\n\r\n---\r\n\r\nAs an alternative, the way mkyong does it is a bit interesting, as well:\r\n\r\n    HttpClient client = HttpClientBuilder.create().build();\r\n\r\nHe doesn&#39;t show a `client.close()` call but I would think it is necessary, since `client` is still an instance of `CloseableHttpClient`.\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/DefaultHttpClient.html\r\n  [2]: http://hc.apache.org/httpcomponents-client-ga/httpclient/examples/org/apache/http/examples/client/ClientWithResponseHandler.java","title":"What is the difference between CloseableHttpClient and HttpClient in Apache HttpClient API?","body":"<p>Had the same question.  The other answers don't seem to address why close() is really necessary?  Also, Op seemed to be struggling to figure out the preferred way to work with HttpClient, et al.</p>\n\n<hr>\n\n<p>According to <a href=\"http://hc.apache.org/httpcomponents-client-4.5.x/quickstart.html\" rel=\"noreferrer\">Apache</a>:</p>\n\n<pre><code>// The underlying HTTP connection is still held by the response object\n// to allow the response content to be streamed directly from the network socket.\n// In order to ensure correct deallocation of system resources\n// the user MUST call CloseableHttpResponse#close() from a finally clause.\n</code></pre>\n\n<p>In addition, the relationships go as follows:</p>\n\n<blockquote>\n  <p><code>HttpClient</code> (interface)</p>\n  \n  <blockquote>\n    <p>implemented by:</p>\n    \n    <blockquote>\n      <p><code>CloseableHttpClient</code> - ThreadSafe.</p>\n      \n      <p><code>DefaultHttpClient</code> - ThreadSafe BUT <a href=\"http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/DefaultHttpClient.html\" rel=\"noreferrer\">deprecated</a>, use <code>HttpClientBuilder</code> instead.</p>\n    </blockquote>\n  </blockquote>\n  \n  <p><code>HttpClientBuilder</code> - NOT ThreadSafe, BUT creates ThreadSafe <code>CloseableHttpClient</code>.  </p>\n  \n  <blockquote>\n    <ul>\n    <li>Use to create CUSTOM <code>CloseableHttpClient</code>.</li>\n    </ul>\n  </blockquote>\n  \n  <p><code>HttpClients</code> - NOT ThreadSafe, BUT creates ThreadSafe <code>CloseableHttpClient</code>.</p>\n  \n  <blockquote>\n    <ul>\n    <li>Use to create DEFAULT or MINIMAL <code>CloseableHttpClient</code>.</li>\n    </ul>\n  </blockquote>\n</blockquote>\n\n<p>The preferred way according to Apache:</p>\n\n<pre><code>CloseableHttpClient httpclient = HttpClients.createDefault();\n</code></pre>\n\n<p><a href=\"http://hc.apache.org/httpcomponents-client-ga/httpclient/examples/org/apache/http/examples/client/ClientWithResponseHandler.java\" rel=\"noreferrer\">The example</a> they give does <code>httpclient.close()</code> in the <code>finally</code> clause, and also makes use of <code>ResponseHandler</code> as well.</p>\n\n<hr>\n\n<p>As an alternative, the way mkyong does it is a bit interesting, as well:</p>\n\n<pre><code>HttpClient client = HttpClientBuilder.create().build();\n</code></pre>\n\n<p>He doesn't show a <code>client.close()</code> call but I would think it is necessary, since <code>client</code> is still an instance of <code>CloseableHttpClient</code>.</p>\n"},{"tags":[],"owner":{"account_id":3167302,"reputation":1159,"user_id":2676994,"display_name":"eval"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1475053132,"creation_date":1475053132,"answer_id":39742606,"question_id":21574478,"body_markdown":"The other answers don&#39;t seem to address why `close()` is really necessary? * 2 \r\n\r\n### Doubt on the answer &quot;HttpClient resource deallocation&quot;. ###\r\n\r\nIt is mentioned in old 3.x httpcomponents [doc][1], which is long back and has a lot difference from 4.x HC. Besides the explanation is so brief that doesn&#39;t say what this underlying resource is.\r\n\r\nI did some research on 4.5.2 release source code, found the implementations of `CloseableHttpClient:close()` basically only closes its connection manager. \r\n\r\n(FYI) That&#39;s why when you use a shared `PoolingClientConnectionManager` and call client `close()`, exception `java.lang.IllegalStateException: Connection pool shut down` will occur. To avoid, `setConnectionManagerShared` works.\r\n\r\n### I prefer *not* do `CloseableHttpClient:close()` after every single request\r\n\r\nI used to create a new http client instance when doing request and finally close it. In this case, it&#39;d better not to call `close()`. Since, if connection manager doesn&#39;t have &quot;shared&quot; flag, it&#39;ll be shutdown, which is too expensive for a single request.\r\n\r\nIn fact, I also found in library [clj-http][2], a Clojure wrapper over Apache HC 4.5, doesn&#39;t call `close()` at all. See func `request` in file [core.clj][3]\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/tutorial/html/fundamentals.html\r\n  [2]: https://github.com/dakrone/clj-http\r\n  [3]: https://github.com/dakrone/clj-http/blob/master/src/clj_http/core.clj","title":"What is the difference between CloseableHttpClient and HttpClient in Apache HttpClient API?","body":"<p>The other answers don't seem to address why <code>close()</code> is really necessary? * 2 </p>\n\n<h3>Doubt on the answer \"HttpClient resource deallocation\".</h3>\n\n<p>It is mentioned in old 3.x httpcomponents <a href=\"http://hc.apache.org/httpcomponents-client-ga/tutorial/html/fundamentals.html\" rel=\"noreferrer\">doc</a>, which is long back and has a lot difference from 4.x HC. Besides the explanation is so brief that doesn't say what this underlying resource is.</p>\n\n<p>I did some research on 4.5.2 release source code, found the implementations of <code>CloseableHttpClient:close()</code> basically only closes its connection manager. </p>\n\n<p>(FYI) That's why when you use a shared <code>PoolingClientConnectionManager</code> and call client <code>close()</code>, exception <code>java.lang.IllegalStateException: Connection pool shut down</code> will occur. To avoid, <code>setConnectionManagerShared</code> works.</p>\n\n<h3>I prefer <em>not</em> do <code>CloseableHttpClient:close()</code> after every single request</h3>\n\n<p>I used to create a new http client instance when doing request and finally close it. In this case, it'd better not to call <code>close()</code>. Since, if connection manager doesn't have \"shared\" flag, it'll be shutdown, which is too expensive for a single request.</p>\n\n<p>In fact, I also found in library <a href=\"https://github.com/dakrone/clj-http\" rel=\"noreferrer\">clj-http</a>, a Clojure wrapper over Apache HC 4.5, doesn't call <code>close()</code> at all. See func <code>request</code> in file <a href=\"https://github.com/dakrone/clj-http/blob/master/src/clj_http/core.clj\" rel=\"noreferrer\">core.clj</a></p>\n"},{"tags":[],"owner":{"account_id":1161038,"reputation":18030,"user_id":1140529,"accept_rate":50,"display_name":"Jeril Kuruvila"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574655745,"creation_date":1574655745,"answer_id":59025209,"question_id":21574478,"body_markdown":"**Jon skeet said:**\r\n \r\nThe documentation seems pretty clear to me: &quot;Base implementation of HttpClient that also implements Closeable&quot; - HttpClient is an interface; CloseableHttpClient is an abstract class, but because it implements AutoCloseable you can use it in a try-with-resources statement. \r\n\r\n**But then Jules asked:**\r\n\r\n@JonSkeet That much is clear, but how important is it to close HttpClient instances? If it&#39;s important, why is the close() method not part of the basic interface?\r\n\r\n**Answer for Jules** \r\n\r\n&gt; close need not be part of basic interface since underlying connection\r\n&gt; is released back to the connection manager automatically after every execute\r\n\r\n                         \r\nTo accommodate the  try-with-resources statement. It is mandatory to implement Closeable. Hence included it in **CloseableHttpClient**.\r\n\r\nNote:\r\n\r\nclose method in AbstractHttpClient which is extending CloseableHttpClient is deprecated, I was not able to find the source code for that.\r\n\r\n","title":"What is the difference between CloseableHttpClient and HttpClient in Apache HttpClient API?","body":"<p><strong>Jon skeet said:</strong></p>\n\n<p>The documentation seems pretty clear to me: \"Base implementation of HttpClient that also implements Closeable\" - HttpClient is an interface; CloseableHttpClient is an abstract class, but because it implements AutoCloseable you can use it in a try-with-resources statement. </p>\n\n<p><strong>But then Jules asked:</strong></p>\n\n<p>@JonSkeet That much is clear, but how important is it to close HttpClient instances? If it's important, why is the close() method not part of the basic interface?</p>\n\n<p><strong>Answer for Jules</strong> </p>\n\n<blockquote>\n  <p>close need not be part of basic interface since underlying connection\n  is released back to the connection manager automatically after every execute</p>\n</blockquote>\n\n<p>To accommodate the  try-with-resources statement. It is mandatory to implement Closeable. Hence included it in <strong>CloseableHttpClient</strong>.</p>\n\n<p>Note:</p>\n\n<p>close method in AbstractHttpClient which is extending CloseableHttpClient is deprecated, I was not able to find the source code for that.</p>\n"},{"tags":[],"owner":{"account_id":366455,"reputation":596,"user_id":711999,"display_name":"adben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664703169,"creation_date":1664703169,"answer_id":73924774,"question_id":21574478,"body_markdown":"You can put the *Closeables* like this\r\n\r\n    final String uri = &quot;http://localhost:8080/*****&quot;;\r\n    HttpGet httpGet = new HttpGet(uri);\r\n    try (final CloseableHttpClient httpClient = HttpClients.createDefault();\r\n         final CloseableHttpResponse response = httpClient.execute(httpGet)) {\r\n        final String result = EntityUtils.toString(response.getEntity());\r\n        ...\r\n    } catch (Exception e) {\r\n        ....\r\n    }","title":"What is the difference between CloseableHttpClient and HttpClient in Apache HttpClient API?","body":"<p>You can put the <em>Closeables</em> like this</p>\n<pre><code>final String uri = &quot;http://localhost:8080/*****&quot;;\nHttpGet httpGet = new HttpGet(uri);\ntry (final CloseableHttpClient httpClient = HttpClients.createDefault();\n     final CloseableHttpResponse response = httpClient.execute(httpGet)) {\n    final String result = EntityUtils.toString(response.getEntity());\n    ...\n} catch (Exception e) {\n    ....\n}\n</code></pre>\n"}],"owner":{"account_id":1322826,"reputation":23866,"user_id":1268258,"accept_rate":42,"display_name":"Nayana Adassuriya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187246,"favorite_count":0,"down_vote_count":2,"up_vote_count":127,"accepted_answer_id":26990679,"answer_count":8,"score":125,"last_activity_date":1664703169,"creation_date":1391595753,"question_id":21574478,"body_markdown":"I&#39;m studying an application developed by our company. It uses the Apache HttpClient library. In the source code it uses the `HttpClient` class to create instances to connect to a server. \r\n\r\nI want to learn about Apache HttpClient and I&#39;ve gone trough [this set of examples][1]. All the examples use `CloseableHttpClient` instead of `HttpClient`. So I think `CloseableHttpClient` is an extended version of `HttpClient`. If this is the case I have two questions:\r\n\r\n- What is the difference between these two?\r\n- Which class is recommended to use for my new development?\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/examples.html\r\n","title":"What is the difference between CloseableHttpClient and HttpClient in Apache HttpClient API?","body":"<p>I'm studying an application developed by our company. It uses the Apache HttpClient library. In the source code it uses the <code>HttpClient</code> class to create instances to connect to a server. </p>\n\n<p>I want to learn about Apache HttpClient and I've gone trough <a href=\"http://hc.apache.org/httpcomponents-client-ga/examples.html\">this set of examples</a>. All the examples use <code>CloseableHttpClient</code> instead of <code>HttpClient</code>. So I think <code>CloseableHttpClient</code> is an extended version of <code>HttpClient</code>. If this is the case I have two questions:</p>\n\n<ul>\n<li>What is the difference between these two?</li>\n<li>Which class is recommended to use for my new development?</li>\n</ul>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8999,"page":993,"page_size":100}
