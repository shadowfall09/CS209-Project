{"items":[{"tags":["java","string","variables","arraylist"],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657526745,"creation_date":1657526745,"answer_id":72935453,"question_id":72935342,"body_markdown":"You can store any kind of object in an `ArrayList`.\r\n\r\nYou could define your own class `Booking` that contains information about a booking:\r\n\r\n    public class Booking {\r\n        // ... whatever information is necessary for a booking\r\n    }\r\n\r\nAnd then define a class `User` that contains information about a user, including a list of bookings:\r\n\r\n    public class User {\r\n        private String name;\r\n        private List&lt;Booking&gt; bookings = new ArrayList&lt;&gt;();\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public List&lt;Booking&gt; getBookings() {\r\n            return bookings;\r\n        }\r\n\r\n        // ... other methods as necessary\r\n    }\r\n\r\nAnd then you can make an `ArrayList` of `User` objects, where each `User` object contains a list of `Booking` objects:\r\n\r\n    List&lt;User&gt; users = new ArrayList&lt;&gt;();","title":"Is there a way to create a variable in JAVA that stores a arraylist and each element in the arraylist has its own list? name of elements given by user","body":"<p>You can store any kind of object in an <code>ArrayList</code>.</p>\n<p>You could define your own class <code>Booking</code> that contains information about a booking:</p>\n<pre><code>public class Booking {\n    // ... whatever information is necessary for a booking\n}\n</code></pre>\n<p>And then define a class <code>User</code> that contains information about a user, including a list of bookings:</p>\n<pre><code>public class User {\n    private String name;\n    private List&lt;Booking&gt; bookings = new ArrayList&lt;&gt;();\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public List&lt;Booking&gt; getBookings() {\n        return bookings;\n    }\n\n    // ... other methods as necessary\n}\n</code></pre>\n<p>And then you can make an <code>ArrayList</code> of <code>User</code> objects, where each <code>User</code> object contains a list of <code>Booking</code> objects:</p>\n<pre><code>List&lt;User&gt; users = new ArrayList&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":19461183,"reputation":3,"user_id":19524901,"display_name":"Mokksh Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72935453,"answer_count":1,"score":0,"last_activity_date":1657526745,"creation_date":1657526199,"question_id":72935342,"body_markdown":"[Image of variable hierarchy (Please Check)][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8mfev.jpg\r\n\r\nI want this specific variable to be a list of usernames, and each of these users will have some bookings... I tried adding an arraylist within an arraylist but that doesnt allow the user to name the usernames, they have to be predefined, please give me a method to do this.","title":"Is there a way to create a variable in JAVA that stores a arraylist and each element in the arraylist has its own list? name of elements given by user","body":"<p><a href=\"https://i.stack.imgur.com/8mfev.jpg\" rel=\"nofollow noreferrer\">Image of variable hierarchy (Please Check)</a></p>\n<p>I want this specific variable to be a list of usernames, and each of these users will have some bookings... I tried adding an arraylist within an arraylist but that doesnt allow the user to name the usernames, they have to be predefined, please give me a method to do this.</p>\n"},{"tags":["java","spring","github","swagger"],"comments":[{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1657531235,"post_id":72935411,"comment_id":128823511,"body_markdown":"Did you expect to see the Swagger UI interactive doc page inside GitHub? (The part that&#39;s on the right side of the editor.)","body":"Did you expect to see the Swagger UI interactive doc page inside GitHub? (The part that&#39;s on the right side of the editor.)"},{"owner":{"account_id":17090435,"reputation":253,"user_id":16862042,"display_name":"Victor"},"score":0,"creation_date":1657531733,"post_id":72935411,"comment_id":128823682,"body_markdown":"Yes, I would like to see that","body":"Yes, I would like to see that"},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1657534682,"post_id":72935411,"comment_id":128824750,"body_markdown":"Maybe this could help: https://github.com/marketplace/actions/swagger-ui-action\nOr: https://github.com/marketplace/actions/swagger-ui","body":"Maybe this could help: <a href=\"https://github.com/marketplace/actions/swagger-ui-action\" rel=\"nofollow noreferrer\">github.com/marketplace/actions/swagger-ui-action</a> Or: <a href=\"https://github.com/marketplace/actions/swagger-ui\" rel=\"nofollow noreferrer\">github.com/marketplace/actions/swagger-ui</a>"}],"owner":{"account_id":17090435,"reputation":253,"user_id":16862042,"display_name":"Victor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657526740,"creation_date":1657526556,"question_id":72935411,"body_markdown":"I was creating a yml file through the Swagger page, and everything is showing up correctly:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I push the changes to github, I hope to see them the same way, but I see the following:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI don&#39;t know if I&#39;m missing some configuration or something in the project. This **project** is a **Spring project**, with **Java 11**, and the dependency I&#39;m using to comment on the project is the following:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nThe path of the yml file is the **resources** folder.\r\n\r\n  [1]: https://i.stack.imgur.com/SwEM3.png\r\n  [2]: https://i.stack.imgur.com/sJdD8.png","title":"How to use Swagger with Github?","body":"<p>I was creating a yml file through the Swagger page, and everything is showing up correctly:</p>\n<p><a href=\"https://i.stack.imgur.com/SwEM3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SwEM3.png\" alt=\"enter image description here\" /></a></p>\n<p>When I push the changes to github, I hope to see them the same way, but I see the following:</p>\n<p><a href=\"https://i.stack.imgur.com/sJdD8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sJdD8.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't know if I'm missing some configuration or something in the project. This <strong>project</strong> is a <strong>Spring project</strong>, with <strong>Java 11</strong>, and the dependency I'm using to comment on the project is the following:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n            &lt;version&gt;1.5.20&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The path of the yml file is the <strong>resources</strong> folder.</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdrivermanager-java"],"answers":[{"tags":[],"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657526681,"creation_date":1657526681,"answer_id":72935440,"question_id":72922723,"body_markdown":"As explained in the [WebDriverManager doc][1], when you use the method `create()` for building `WebDriver` objects, WebDriverManager includes a shutdown hook that watches these objects correctly released before shutting down the JVM. If you want to avoid this behavior, you can use the method `avoidShutdownHook()`, for instance as follows:\r\n\r\n```\r\nWebDriver driver = WebDriverManager.chromedriver().avoidShutdownHook().create();\r\n```\r\n\r\n  [1]: https://bonigarcia.dev/webdrivermanager/","title":"Why does browser closes automatically when latest version of WebDriverManager (5 onward) is used, is its new feature?","body":"<p>As explained in the <a href=\"https://bonigarcia.dev/webdrivermanager/\" rel=\"nofollow noreferrer\">WebDriverManager doc</a>, when you use the method <code>create()</code> for building <code>WebDriver</code> objects, WebDriverManager includes a shutdown hook that watches these objects correctly released before shutting down the JVM. If you want to avoid this behavior, you can use the method <code>avoidShutdownHook()</code>, for instance as follows:</p>\n<pre><code>WebDriver driver = WebDriverManager.chromedriver().avoidShutdownHook().create();\n</code></pre>\n"}],"owner":{"account_id":2330814,"reputation":504,"user_id":2044296,"accept_rate":24,"display_name":"user2044296"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72935440,"answer_count":1,"score":1,"last_activity_date":1657526705,"creation_date":1657381302,"question_id":72922723,"body_markdown":"I recently created a new Selenium Maven project using the latest version(5.2.1) of WebDriverManager but I found that without using driver.quit() or driver.close() method, the browser closed automatically after test execution, is it a new feature of WebDriverManager (5 onward)?","title":"Why does browser closes automatically when latest version of WebDriverManager (5 onward) is used, is its new feature?","body":"<p>I recently created a new Selenium Maven project using the latest version(5.2.1) of WebDriverManager but I found that without using driver.quit() or driver.close() method, the browser closed automatically after test execution, is it a new feature of WebDriverManager (5 onward)?</p>\n"},{"tags":["java","spring","rest","maven","servlets"],"answers":[{"tags":[],"owner":{"account_id":8702736,"reputation":11399,"user_id":6511967,"display_name":"Wilson"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1467376186,"creation_date":1467376186,"answer_id":38145496,"question_id":38145024,"body_markdown":"Your cause is\r\n\r\n&gt; nested exception is java.lang.ClassCastException:\r\n&gt; org.springframework.web.accept.ContentNegotiationManagerFactoryBean$$EnhancerByCGLIB$$88a811cb\r\n&gt; cannot be cast to\r\n&gt; org.springframework.web.accept.ContentNegotiationManager\r\n\r\nThis is probably due to both `&lt;mvc:annotation-driven /&gt;` and `@EnableWebMvc` are used together. As they are not complementary, either use `@EnableWebMvc` with Java based config or `&lt;mvc:annotation-driven /&gt;` with xml. ","title":"Error creating bean with name &#39;requestMappingHandlerAdapter&#39;","body":"<p>Your cause is</p>\n\n<blockquote>\n  <p>nested exception is java.lang.ClassCastException:\n  org.springframework.web.accept.ContentNegotiationManagerFactoryBean$$EnhancerByCGLIB$$88a811cb\n  cannot be cast to\n  org.springframework.web.accept.ContentNegotiationManager</p>\n</blockquote>\n\n<p>This is probably due to both <code>&lt;mvc:annotation-driven /&gt;</code> and <code>@EnableWebMvc</code> are used together. As they are not complementary, either use <code>@EnableWebMvc</code> with Java based config or <code>&lt;mvc:annotation-driven /&gt;</code> with xml. </p>\n"},{"tags":[],"owner":{"account_id":101630,"reputation":747,"user_id":273294,"display_name":"Raja Fawad"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1641988126,"creation_date":1519448344,"answer_id":48959537,"question_id":38145024,"body_markdown":"for me removing following from pom.xml fixed the issue\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nas i was also using \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Error creating bean with name &#39;requestMappingHandlerAdapter&#39;","body":"<p>for me removing following from pom.xml fixed the issue</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>as i was also using</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17760223,"reputation":156,"user_id":12896358,"display_name":"Sahil Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589737583,"creation_date":1589737583,"answer_id":61856173,"question_id":38145024,"body_markdown":"In your User.java class add `@javax.persistence.Id` above `getUserID()` method\r\n\r\njust like this...\r\n\r\n    @javax.persistence.Id\r\n    public int getUserID() {\r\n        return userID;\r\n    }\r\n\r\nIt worked for me.\r\n    ","title":"Error creating bean with name &#39;requestMappingHandlerAdapter&#39;","body":"<p>In your User.java class add <code>@javax.persistence.Id</code> above <code>getUserID()</code> method</p>\n\n<p>just like this...</p>\n\n<pre><code>@javax.persistence.Id\npublic int getUserID() {\n    return userID;\n}\n</code></pre>\n\n<p>It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":7769028,"reputation":327,"user_id":5879277,"display_name":"Test1 Test2"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1602636911,"creation_date":1602636911,"answer_id":64345117,"question_id":38145024,"body_markdown":"\t\t&lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.0.0.GA&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nI received the same error. I removed the version.\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nThis effectively downloaded:  &lt;javax-validation.version&gt;2.0.1.Final&lt;/javax-validation.version&gt; which works without the error. ","title":"Error creating bean with name &#39;requestMappingHandlerAdapter&#39;","body":"<pre><code>    &lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I received the same error. I removed the version.</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>This effectively downloaded:  &lt;javax-validation.version&gt;2.0.1.Final&lt;/javax-validation.version&gt; which works without the error.</p>\n"},{"tags":[],"owner":{"account_id":25670477,"reputation":3,"user_id":19434812,"display_name":"Mohamed Bigi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657526332,"creation_date":1657526332,"answer_id":72935370,"question_id":38145024,"body_markdown":"    &lt;dependency&gt;\r\n     &lt;groupid&gt;javax.validation&lt;/groupid&gt;\r\n     &lt;artifactId&gt;validation-api&lt;/artifactid&gt;\r\n     &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nFor me, adding the version to the javax.validation dependency worked, it forced it to download the correct version","title":"Error creating bean with name &#39;requestMappingHandlerAdapter&#39;","body":"<pre><code>&lt;dependency&gt;\n &lt;groupid&gt;javax.validation&lt;/groupid&gt;\n &lt;artifactId&gt;validation-api&lt;/artifactid&gt;\n &lt;version&gt;2.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For me, adding the version to the javax.validation dependency worked, it forced it to download the correct version</p>\n"}],"owner":{"account_id":8740817,"reputation":133,"user_id":6537955,"display_name":"Ram K Bharathi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80467,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":38145496,"answer_count":5,"score":13,"last_activity_date":1657526332,"creation_date":1467374823,"question_id":38145024,"body_markdown":"Am creating a simple REST service using Springframework with Tomcat. The response should have to be in json like {&quot;id&quot;:&quot;101&quot;,&quot;name&quot;:&quot;Ram&quot;} .When ever I run, am getting the following error\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;requestMappingHandlerAdapter&#39; defined in class org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration: Instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanDefinitionStoreException: Factory method [public org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter()] threw exception; nested exception is java.lang.ClassCastException: org.springframework.web.accept.ContentNegotiationManagerFactoryBean$$EnhancerByCGLIB$$88a811cb cannot be cast to org.springframework.web.accept.ContentNegotiationManager\r\n\torg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:603)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1057)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:953)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:487)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:191)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:636)\r\n\torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:934)\r\n\torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\r\n\torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:602)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\r\n\torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:521)\r\n\torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:462)\r\n\torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\r\n\torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\r\n\torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\r\n\torg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)\r\n\torg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)\r\n\tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.lang.Thread.run(Thread.java:745)\r\n\r\n    root cause\r\n\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Factory method [public      org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter()] threw exception; nested exception is java.lang.ClassCastException: org.springframework.web.accept.ContentNegotiationManagerFactoryBean$$EnhancerByCGLIB$$88a811cb cannot be cast to org.springframework.web.accept.ContentNegotiationManager\r\n\t    org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:181)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:592)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1057)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:953)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:487)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:191)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:636)\r\n\torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:934)\r\n\torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\r\n\torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:602)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\r\n\torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:521)\r\n\torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:462)\r\n\torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\r\n\torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\r\n\torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\r\n\torg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)\r\n\torg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)\r\n\tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.lang.Thread.run(Thread.java:745)\r\n\r\n    root cause\r\n\r\n    java.lang.ClassCastException: org.springframework.web.accept.ContentNegotiationManagerFactoryBean$$EnhancerByCGLIB$$88a811cb cannot be cast to org.springframework.web.accept.ContentNegotiationManager\r\n\torg.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$5d7f2b5e.mvcContentNegotiationManager(&lt;generated&gt;)\r\n\torg.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter(WebMvcConfigurationSupport.java:359)\r\n\torg.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$5d7f2b5e.CGLIB$requestMappingHandlerAdapter$18(&lt;generated&gt;)\r\n\torg.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$5d7f2b5e$$FastClassBySpringCGLIB$$3589a606.invoke(&lt;generated&gt;)\r\n\torg.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\r\n\torg.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:293)\r\n\torg.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$5d7f2b5e.requestMappingHandlerAdapter(&lt;generated&gt;)\r\n\tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tjava.lang.reflect.Method.invoke(Method.java:497)\r\n\torg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:160)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:592)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1057)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:953)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:487)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:191)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:636)\r\n\torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:934)\r\n\torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\r\n\torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:602)\r\n\torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\r\n\torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:521)\r\n\torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:462)\r\n\torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\r\n\torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\r\n\torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\r\n\torg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)\r\n\torg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)\r\n\tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.lang.Thread.run(Thread.java:745)\r\n\r\n\r\nFrom here the following are my java codes and xml files.\r\n\r\nPOM.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;json&lt;/groupId&gt;\r\n    &lt;artifactId&gt;LimitlessREST&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;LimitlessREST&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n     &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n     &lt;version&gt;3.2.12.RELEASE&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;!-- Jackson JSON Mapper --&gt;\r\n     &lt;dependency&gt;\r\n         &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n         &lt;version&gt;1.9.13&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n         &lt;version&gt;3.2.12.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.7&lt;/source&gt;\r\n                    &lt;target&gt;1.7&lt;/target&gt;\r\n                    &lt;compilerArguments&gt;\r\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\r\n                    &lt;/compilerArguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\r\n                            &lt;silent&gt;true&lt;/silent&gt;\r\n                            &lt;artifactItems&gt;\r\n                                &lt;artifactItem&gt;\r\n                                    &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\r\n                                    &lt;version&gt;7.0&lt;/version&gt;\r\n                                    &lt;type&gt;jar&lt;/type&gt;\r\n                                &lt;/artifactItem&gt;\r\n                            &lt;/artifactItems&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nweb.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;3.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;&gt;\r\n     &lt;display-name&gt;LimitlessREST&lt;/display-name&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;front-controller&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt; \r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;front-controller&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;!-- max time of the session //--&gt;\r\n    &lt;session-config&gt;\r\n        &lt;session-timeout&gt;\r\n            30\r\n        &lt;/session-timeout&gt;\r\n    &lt;/session-config&gt;\r\n    &lt;!-- default page //--&gt;\r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n&lt;/web-app&gt;\r\n\r\n\r\nfront-controller-servlet.xml\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;\r\n        http://www.springframework.org/schema/beans     \r\n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n        http://www.springframework.org/schema/context \r\n        http://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n        http://www.springframework.org/schema/mvc\r\n        http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt;\r\n    &lt;context:component-scan base-package=&quot;json.&quot; /&gt;\r\n    &lt;mvc:annotation-driven /&gt;\r\n&lt;/beans&gt;\r\n\r\n\r\njson/User.java\r\n\r\n    package json;\r\n    public class User {\r\n    private int userID;\r\n    private String userName;\r\n    \r\n    public User(){\r\n        \r\n    }\r\n\r\n    public int getUserID() {\r\n        return userID;\r\n    }\r\n\r\n    public void setUserID(int userID) {\r\n        this.userID = userID;\r\n    }\r\n\r\n    public String getUserName() {\r\n        return userName;\r\n    }\r\n\r\n    public void setUserName(String userName) {\r\n        this.userName = userName;\r\n    }    \r\n    }\r\n\r\njson/UserService.java\r\n\r\n    package json;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n\r\n\r\n    @EnableWebMvc\r\n    @Controller\r\n    public class UserService {\r\n    \r\n    \r\n    @RequestMapping(value = &quot;/user&quot;, method = RequestMethod.GET, produces = {&quot;application/json&quot;})\r\n    public @ResponseBody User getUser(){\r\n        User us = new User();\r\n        us.setUserID(101);\r\n        us.setUserName(&quot;Ram&quot;);\r\n        return us;\r\n    }\r\n    \r\n    }\r\n\r\n\r\nUsing Netbeans as IDE, Tomcat 8.0.34 and Springframework 3.2.12.RELEASE.","title":"Error creating bean with name &#39;requestMappingHandlerAdapter&#39;","body":"<p>Am creating a simple REST service using Springframework with Tomcat. The response should have to be in json like {\"id\":\"101\",\"name\":\"Ram\"} .When ever I run, am getting the following error</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration: Instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanDefinitionStoreException: Factory method [public org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter()] threw exception; nested exception is java.lang.ClassCastException: org.springframework.web.accept.ContentNegotiationManagerFactoryBean$$EnhancerByCGLIB$$88a811cb cannot be cast to org.springframework.web.accept.ContentNegotiationManager\norg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:603)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1057)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:953)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:487)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\norg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)\norg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\norg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)\norg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:191)\norg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:636)\norg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:934)\norg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\norg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)\norg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:602)\norg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\norg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:521)\norg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:462)\norg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\njavax.servlet.GenericServlet.init(GenericServlet.java:158)\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\norg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\norg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\norg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\norg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)\norg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\njava.lang.Thread.run(Thread.java:745)\n\nroot cause\n\norg.springframework.beans.factory.BeanDefinitionStoreException: Factory method [public      org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter()] threw exception; nested exception is java.lang.ClassCastException: org.springframework.web.accept.ContentNegotiationManagerFactoryBean$$EnhancerByCGLIB$$88a811cb cannot be cast to org.springframework.web.accept.ContentNegotiationManager\n    org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:181)\norg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:592)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1057)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:953)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:487)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\norg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)\norg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\norg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)\norg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:191)\norg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:636)\norg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:934)\norg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\norg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)\norg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:602)\norg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\norg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:521)\norg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:462)\norg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\njavax.servlet.GenericServlet.init(GenericServlet.java:158)\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\norg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\norg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\norg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\norg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)\norg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\njava.lang.Thread.run(Thread.java:745)\n\nroot cause\n\njava.lang.ClassCastException: org.springframework.web.accept.ContentNegotiationManagerFactoryBean$$EnhancerByCGLIB$$88a811cb cannot be cast to org.springframework.web.accept.ContentNegotiationManager\norg.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$5d7f2b5e.mvcContentNegotiationManager(&lt;generated&gt;)\norg.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter(WebMvcConfigurationSupport.java:359)\norg.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$5d7f2b5e.CGLIB$requestMappingHandlerAdapter$18(&lt;generated&gt;)\norg.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$5d7f2b5e$$FastClassBySpringCGLIB$$3589a606.invoke(&lt;generated&gt;)\norg.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\norg.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:293)\norg.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration$$EnhancerBySpringCGLIB$$5d7f2b5e.requestMappingHandlerAdapter(&lt;generated&gt;)\nsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njava.lang.reflect.Method.invoke(Method.java:497)\norg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:160)\norg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:592)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1057)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:953)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:487)\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\norg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)\norg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\norg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)\norg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:191)\norg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:636)\norg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:934)\norg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\norg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)\norg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:602)\norg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)\norg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:521)\norg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:462)\norg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\njavax.servlet.GenericServlet.init(GenericServlet.java:158)\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\norg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\norg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\norg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\norg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2508)\norg.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2497)\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\njava.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>From here the following are my java codes and xml files.</p>\n\n<p>POM.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;json&lt;/groupId&gt;\n&lt;artifactId&gt;LimitlessREST&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;name&gt;LimitlessREST&lt;/name&gt;\n\n&lt;properties&gt;\n    &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax&lt;/groupId&gt;\n        &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n        &lt;version&gt;7.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n &lt;version&gt;3.2.12.RELEASE&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;!-- Jackson JSON Mapper --&gt;\n &lt;dependency&gt;\n     &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n     &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n     &lt;version&gt;1.9.13&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n     &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n     &lt;version&gt;3.2.12.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n                &lt;compilerArguments&gt;\n                    &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\n                &lt;/compilerArguments&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;validate&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\n                        &lt;silent&gt;true&lt;/silent&gt;\n                        &lt;artifactItems&gt;\n                            &lt;artifactItem&gt;\n                                &lt;groupId&gt;javax&lt;/groupId&gt;\n                                &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\n                                &lt;version&gt;7.0&lt;/version&gt;\n                                &lt;type&gt;jar&lt;/type&gt;\n                            &lt;/artifactItem&gt;\n                        &lt;/artifactItems&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>web.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"3.1\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"&gt;\n &lt;display-name&gt;LimitlessREST&lt;/display-name&gt;\n&lt;servlet&gt;\n    &lt;servlet-name&gt;front-controller&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt; \n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;front-controller&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;!-- max time of the session //--&gt;\n&lt;session-config&gt;\n    &lt;session-timeout&gt;\n        30\n    &lt;/session-timeout&gt;\n&lt;/session-config&gt;\n&lt;!-- default page //--&gt;\n&lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;\n</code></pre>\n\n<p></p>\n\n<p>front-controller-servlet.xml</p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:mvc=\"http://www.springframework.org/schema/mvc\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"\n    http://www.springframework.org/schema/beans     \n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n    http://www.springframework.org/schema/context \n    http://www.springframework.org/schema/context/spring-context-3.0.xsd\n    http://www.springframework.org/schema/mvc\n    http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\"&gt;\n&lt;context:component-scan base-package=\"json.\" /&gt;\n&lt;mvc:annotation-driven /&gt;\n</code></pre>\n\n<p></p>\n\n<p>json/User.java</p>\n\n<pre><code>package json;\npublic class User {\nprivate int userID;\nprivate String userName;\n\npublic User(){\n\n}\n\npublic int getUserID() {\n    return userID;\n}\n\npublic void setUserID(int userID) {\n    this.userID = userID;\n}\n\npublic String getUserName() {\n    return userName;\n}\n\npublic void setUserName(String userName) {\n    this.userName = userName;\n}    \n}\n</code></pre>\n\n<p>json/UserService.java</p>\n\n<pre><code>package json;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\n\n\n@EnableWebMvc\n@Controller\npublic class UserService {\n\n\n@RequestMapping(value = \"/user\", method = RequestMethod.GET, produces = {\"application/json\"})\npublic @ResponseBody User getUser(){\n    User us = new User();\n    us.setUserID(101);\n    us.setUserName(\"Ram\");\n    return us;\n}\n\n}\n</code></pre>\n\n<p>Using Netbeans as IDE, Tomcat 8.0.34 and Springframework 3.2.12.RELEASE.</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1657521192,"post_id":72934495,"comment_id":128820505,"body_markdown":"`Data::getId` is a method reference to the `getId()` method inside class `Data`. It is basically equivalent to the lambda `(Data d) -&gt; d.getId()`. I&#39;m not 100% sure on your second question but I&#39;m pretty sure the compiler can&#39;t resolve double method references. In that case you&#39;d need to either use 2 calls to `map()`, e.g. `map(Data::getId).map(InnerClass::getRealId)` or use a normal lambda like `d-&gt;d.getId().getRealId()`.","body":"<code>Data::getId</code> is a method reference to the <code>getId()</code> method inside class <code>Data</code>. It is basically equivalent to the lambda <code>(Data d) -&gt; d.getId()</code>. I&#39;m not 100% sure on your second question but I&#39;m pretty sure the compiler can&#39;t resolve double method references. In that case you&#39;d need to either use 2 calls to <code>map()</code>, e.g. <code>map(Data::getId).map(InnerClass::getRealId)</code> or use a normal lambda like <code>d-&gt;d.getId().getRealId()</code>."},{"owner":{"account_id":17734936,"reputation":440,"user_id":12876529,"display_name":"Sanjay Sahani"},"score":0,"creation_date":1657521553,"post_id":72934495,"comment_id":128820601,"body_markdown":"@Thomas ok so I have another question after your ans.\nHow will I apply your ans in this case?\n```Comparator.nullsLast(Data::getId)```?","body":"@Thomas ok so I have another question after your ans. How will I apply your ans in this case? <code>Comparator.nullsLast(Data::getId)</code>?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1657522687,"post_id":72934495,"comment_id":128820901,"body_markdown":"You mean how to get the real id in this case? Use the lambda version. There are other options but this would be the easiest. If `getId()` could return `null` you can handle this inside the lambda.","body":"You mean how to get the real id in this case? Use the lambda version. There are other options but this would be the easiest. If <code>getId()</code> could return <code>null</code> you can handle this inside the lambda."}],"answers":[{"tags":[],"owner":{"account_id":15123194,"reputation":126,"user_id":10913399,"display_name":"Arsegg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657525334,"creation_date":1657522098,"answer_id":72934679,"question_id":72934495,"body_markdown":"&gt; what is :: called inside map?\r\n\r\n[Method References][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n\r\n&gt; if I have another object inside getId say getRealId so how will I write it?\r\nFor example:\r\n\r\n```lisMap.map(x -&gt; x.getId().getRealId()).collect(Collectors.toList());```\r\n\r\n/upd Depending on @Thomas&#39;s comment I should add that it is possible to rewrite this code as consecutive map chain.\r\n\r\nFor example:\r\n```listMap.map(Data::getId).map(Id::getRealId).collect(Collectors.toList());```\r\nAssuming that `Data::getId` returns `Id` object.","title":"What is :: called and how to iterate inner object inside of map lambda function in java","body":"<blockquote>\n<p>what is :: called inside map?</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">Method References</a></p>\n<blockquote>\n<p>if I have another object inside getId say getRealId so how will I write it?\nFor example:</p>\n</blockquote>\n<p><code>lisMap.map(x -&gt; x.getId().getRealId()).collect(Collectors.toList());</code></p>\n<p>/upd Depending on @Thomas's comment I should add that it is possible to rewrite this code as consecutive map chain.</p>\n<p>For example:\n<code>listMap.map(Data::getId).map(Id::getRealId).collect(Collectors.toList());</code>\nAssuming that <code>Data::getId</code> returns <code>Id</code> object.</p>\n"}],"owner":{"account_id":17734936,"reputation":440,"user_id":12876529,"display_name":"Sanjay Sahani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1657525334,"creation_date":1657520924,"question_id":72934495,"body_markdown":"I have see an answer like\r\n\r\n```lisMap.map(Data::getId)).collect(Collectors.toList());```\r\n\r\nI understand that it is getting value as getId inside map.\r\nBut I have 2 questrions here.\r\n\r\n1)what is **::** called inside map?\r\n\r\n2)if I have another object inside getId say getRealId so how will I write it? ```Data::getId::getRealId?```\r\n\r\nI&#39;m new to java functions, I hope my question is understandable","title":"What is :: called and how to iterate inner object inside of map lambda function in java","body":"<p>I have see an answer like</p>\n<p><code>lisMap.map(Data::getId)).collect(Collectors.toList());</code></p>\n<p>I understand that it is getting value as getId inside map.\nBut I have 2 questrions here.</p>\n<p>1)what is <strong>::</strong> called inside map?</p>\n<p>2)if I have another object inside getId say getRealId so how will I write it? <code>Data::getId::getRealId?</code></p>\n<p>I'm new to java functions, I hope my question is understandable</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","command"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1657524872,"post_id":72934570,"comment_id":128821557,"body_markdown":"Please post code as actual code and format logs and stacktraces as code as well.","body":"Please post code as actual code and format logs and stacktraces as code as well."}],"answers":[{"tags":[],"owner":{"account_id":25778890,"reputation":44,"user_id":19524775,"display_name":"Lakshman Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657524656,"creation_date":1657524656,"answer_id":72935087,"question_id":72934570,"body_markdown":"**Provide empty constructor with no args in your Student entity**\r\nand make sure **You have given right mappings from your entity using @Column(name=&quot;columnNameInDatabaseTable&quot;)** to the columns of table in database \r\nYour error says **You have not provided the Empty constructor in your Student Entity** -&gt; &quot;org.springframework.orm.jpa.JpaSystemException: No default constructor for entity: : com.example.demo.student.Student; nested exception is org.hibernate.InstantiationException: No default constructor for entity: : com.example.demo.student.Student&quot;\r\n\r\nWhy do we need an empty constructor in Entity?\r\nAn empty constructor is needed to create a new instance via reflection by your persistence framework. If you don&#39;t provide any additional constructors with arguments for the class, you don&#39;t need to provide an empty constructor because you get one per default. \r\n","title":"Failed to execute CommandLineRunner - Java Spring","body":"<p><strong>Provide empty constructor with no args in your Student entity</strong>\nand make sure <strong>You have given right mappings from your entity using @Column(name=&quot;columnNameInDatabaseTable&quot;)</strong> to the columns of table in database\nYour error says <strong>You have not provided the Empty constructor in your Student Entity</strong> -&gt; &quot;org.springframework.orm.jpa.JpaSystemException: No default constructor for entity: : com.example.demo.student.Student; nested exception is org.hibernate.InstantiationException: No default constructor for entity: : com.example.demo.student.Student&quot;</p>\n<p>Why do we need an empty constructor in Entity?\nAn empty constructor is needed to create a new instance via reflection by your persistence framework. If you don't provide any additional constructors with arguments for the class, you don't need to provide an empty constructor because you get one per default.</p>\n"}],"owner":{"account_id":13611818,"reputation":11,"user_id":9819069,"display_name":"coderj001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1013,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657524956,"answer_count":1,"score":0,"last_activity_date":1657524840,"creation_date":1657521410,"question_id":72934570,"body_markdown":"I tried to add insert data in to table student using command runner on spring boot project, I get &quot;Failed to execute CommandLineRunner &quot; error\r\n[![https://i.stack.imgur.com/RrELv.png](https://i.stack.imgur.com/RrELv.png)](https://i.stack.imgur.com/RrELv.png)\r\n\r\nAdding those line of code it cause error,\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-07-11 06:26:12.993 ERROR 197537 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774) ~[spring-boot-2.7.1.jar:2.7.1]\r\n        at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755) ~[spring-boot-2.7.1.jar:2.7.1]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.7.1.jar:2.7.1]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\r\n        at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.1.jar:2.7.1]\r\nCaused by: org.springframework.orm.jpa.JpaSystemException: No default constructor for entity:  : com.example.demo.student.Student; nested exception is org.hibernate.InstantiationException: No default constructor for entity:  : com.example.demo.student.Student\r\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:331) ~[spring-orm-5.3.21.jar:5.3.21]\r\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.21.jar:5.3.21]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.21.jar:5.3.21]\r\n        at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.21.jar:5.3.21]\r\n        at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.21.jar:5.3.21]\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.21.jar:5.3.21]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.1.jar:2.7.1]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.21.jar:5.3.21]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.21.jar:5.3.21]\r\n        at jdk.proxy6/jdk.proxy6.$Proxy115.saveAll(Unknown Source) ~[na:na]\r\n        at com.example.demo.student.StudentConfig.lambda$0(StudentConfig.java:22) ~[classes/:na]\r\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771) ~[spring-boot-2.7.1.jar:2.7.1]\r\n        ... 8 common frames omitted\r\nCaused by: org.hibernate.InstantiationException: No default constructor for entity:  : com.example.demo.student.Student\r\n        at org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:85) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:105) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.tuple.entity.AbstractEntityTuplizer.instantiate(AbstractEntityTuplizer.java:705) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.instantiate(AbstractEntityPersister.java:5295) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1643) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:231) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:318) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:172) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:70) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:829) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.21.jar:5.3.21]\r\n        at jdk.proxy6/jdk.proxy6.$Proxy113.merge(Unknown Source) ~[na:na]\r\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:669) ~[spring-data-jpa-2.7.1.jar:2.7.1]\r\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll(SimpleJpaRepository.java:700) ~[spring-data-jpa-2.7.1.jar:2.7.1]\r\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.1.jar:2.7.1]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.21.jar:5.3.21]\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.21.jar:5.3.21]\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.21.jar:5.3.21]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.21.jar:5.3.21]\r\n        ... 17 common frames omitted\r\n\r\n2022-07-11 06:26:13.002  INFO 197537 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2022-07-11 06:26:13.002  INFO 197537 --- [  restartedMain] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down&#39;\r\nHibernate:\r\n\r\n    drop table if exists student cascade\r\nHibernate:\r\n\r\n    drop sequence if exists student_sequence\r\n\r\n2022-07-11 06:26:13.051  INFO 197537 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...\r\n2022-07-11 06:26:13.056  INFO 197537 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.\r\n```\r\nAfter commenting the code it&#39;s works properly.","title":"Failed to execute CommandLineRunner - Java Spring","body":"<p>I tried to add insert data in to table student using command runner on spring boot project, I get &quot;Failed to execute CommandLineRunner &quot; error\n<a href=\"https://i.stack.imgur.com/RrELv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RrELv.png\" alt=\"https://i.stack.imgur.com/RrELv.png\" /></a></p>\n<p>Adding those line of code it cause error,</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-07-11 06:26:12.993 ERROR 197537 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774) ~[spring-boot-2.7.1.jar:2.7.1]\n        at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755) ~[spring-boot-2.7.1.jar:2.7.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.7.1.jar:2.7.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\n        at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.1.jar:2.7.1]\nCaused by: org.springframework.orm.jpa.JpaSystemException: No default constructor for entity:  : com.example.demo.student.Student; nested exception is org.hibernate.InstantiationException: No default constructor for entity:  : com.example.demo.student.Student\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:331) ~[spring-orm-5.3.21.jar:5.3.21]\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.21.jar:5.3.21]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.21.jar:5.3.21]\n        at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.21.jar:5.3.21]\n        at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.21.jar:5.3.21]\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.21.jar:5.3.21]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.1.jar:2.7.1]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.21.jar:5.3.21]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.21.jar:5.3.21]\n        at jdk.proxy6/jdk.proxy6.$Proxy115.saveAll(Unknown Source) ~[na:na]\n        at com.example.demo.student.StudentConfig.lambda$0(StudentConfig.java:22) ~[classes/:na]\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771) ~[spring-boot-2.7.1.jar:2.7.1]\n        ... 8 common frames omitted\nCaused by: org.hibernate.InstantiationException: No default constructor for entity:  : com.example.demo.student.Student\n        at org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:85) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:105) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.tuple.entity.AbstractEntityTuplizer.instantiate(AbstractEntityTuplizer.java:705) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.persister.entity.AbstractEntityPersister.instantiate(AbstractEntityPersister.java:5295) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1643) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:231) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:318) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:172) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:70) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:829) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.21.jar:5.3.21]\n        at jdk.proxy6/jdk.proxy6.$Proxy113.merge(Unknown Source) ~[na:na]\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:669) ~[spring-data-jpa-2.7.1.jar:2.7.1]\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll(SimpleJpaRepository.java:700) ~[spring-data-jpa-2.7.1.jar:2.7.1]\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.1.jar:2.7.1]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.1.jar:2.7.1]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.1.jar:2.7.1]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.1.jar:2.7.1]\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.1.jar:2.7.1]\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.1.jar:2.7.1]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.1.jar:2.7.1]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.1.jar:2.7.1]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.1.jar:2.7.1]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.1.jar:2.7.1]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.21.jar:5.3.21]\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.21.jar:5.3.21]\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.21.jar:5.3.21]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.21.jar:5.3.21]\n        ... 17 common frames omitted\n\n2022-07-11 06:26:13.002  INFO 197537 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2022-07-11 06:26:13.002  INFO 197537 --- [  restartedMain] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'\nHibernate:\n\n    drop table if exists student cascade\nHibernate:\n\n    drop sequence if exists student_sequence\n\n2022-07-11 06:26:13.051  INFO 197537 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...\n2022-07-11 06:26:13.056  INFO 197537 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.\n</code></pre>\n<p>After commenting the code it's works properly.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1646843294,"post_id":71410711,"comment_id":126225494,"body_markdown":"Maybe more details on what you need specifically. If you can execute queries, what are you looking to do that is outside of that skill - &quot;Select user.login, user.email, person from User user where ..&quot; isn&#39;t very different a query from &quot;Select user from User user where..&quot;, or &quot;select person from People person&quot;, the later of which will give you person instances that should include their referenced user","body":"Maybe more details on what you need specifically. If you can execute queries, what are you looking to do that is outside of that skill - &quot;Select user.login, user.email, person from User user where ..&quot; isn&#39;t very different a query from &quot;Select user from User user where..&quot;, or &quot;select person from People person&quot;, the later of which will give you person instances that should include their referenced user"},{"owner":{"account_id":11644652,"reputation":79,"user_id":8527961,"display_name":"Kris_1313"},"score":0,"creation_date":1646900794,"post_id":71410711,"comment_id":126239105,"body_markdown":"@Chris I want to get in my Tuple these properties: - firstName and lastName from People entity - login and userType from Users entity; (in mysql terms: `SELECT first_name, last_name, users.login, users.user_type FROM database.people FULL JOIN database.users ON user_idusers = users.idusers;\n`) this Tuple will be used to filling Vaadin Grid with all of users","body":"@Chris I want to get in my Tuple these properties: - firstName and lastName from People entity - login and userType from Users entity; (in mysql terms: <code>SELECT first_name, last_name, users.login, users.user_type FROM database.people FULL JOIN database.users ON user_idusers = users.idusers; </code>) this Tuple will be used to filling Vaadin Grid with all of users"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1646927973,"post_id":71410711,"comment_id":126249913,"body_markdown":"Not a fan of tuple queries as they must bypass entity caching mechanisms, but what you have is similar to the first query I suggested with a join. &quot;Select p.firstName, p.lastName, u.login, u.userType from People p join p.user u&quot;","body":"Not a fan of tuple queries as they must bypass entity caching mechanisms, but what you have is similar to the first query I suggested with a join. &quot;Select p.firstName, p.lastName, u.login, u.userType from People p join p.user u&quot;"},{"owner":{"account_id":11644652,"reputation":79,"user_id":8527961,"display_name":"Kris_1313"},"score":0,"creation_date":1647278795,"post_id":71410711,"comment_id":126326312,"body_markdown":"@Chris could you check my post now?","body":"@Chris could you check my post now?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1647279196,"post_id":71410711,"comment_id":126326457,"body_markdown":"Why are you using a native query (SQL) instead of a JPQL query? JPQL gives you validation of your queries, that the columns exist as your model changes, and should be easier for devs using your entities to read and understand. Your PersonUserMapping&#39;s userType definition is incorrect, as the error states you are forcing it to look for &quot;userType&quot; which doesn&#39;t exist in the returned result set. You need it to look for &#39;user_type&#39;, or change your query to return &#39;userType&#39; instead.","body":"Why are you using a native query (SQL) instead of a JPQL query? JPQL gives you validation of your queries, that the columns exist as your model changes, and should be easier for devs using your entities to read and understand. Your PersonUserMapping&#39;s userType definition is incorrect, as the error states you are forcing it to look for &quot;userType&quot; which doesn&#39;t exist in the returned result set. You need it to look for &#39;user_type&#39;, or change your query to return &#39;userType&#39; instead."},{"owner":{"account_id":11644652,"reputation":79,"user_id":8527961,"display_name":"Kris_1313"},"score":0,"creation_date":1647508023,"post_id":71410711,"comment_id":126390325,"body_markdown":"@Chris now when I used `TypedQuery&lt;Object[]&gt; q = entityManager.createQuery(&quot;Select p.personid, concat(p.firstName,  p.lastName) as name, u.login, u.userType from People p join Users u&quot;,Object[].class);` (which I later convert to `PersonUserMap`), it throws exception `You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;&#39; at line 1`, which makes me completely dumbfounded :/","body":"@Chris now when I used <code>TypedQuery&lt;Object[]&gt; q = entityManager.createQuery(&quot;Select p.personid, concat(p.firstName,  p.lastName) as name, u.login, u.userType from People p join Users u&quot;,Object[].class);</code> (which I later convert to <code>PersonUserMap</code>), it throws exception <code>You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;&#39; at line 1</code>, which makes me completely dumbfounded :/"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1647528894,"post_id":71410711,"comment_id":126398285,"body_markdown":"Show the SQL it generates (turn SQL logging on) and the full error. And the database and driver versions","body":"Show the SQL it generates (turn SQL logging on) and the full error. And the database and driver versions"},{"owner":{"account_id":11644652,"reputation":79,"user_id":8527961,"display_name":"Kris_1313"},"score":0,"creation_date":1647591083,"post_id":71410711,"comment_id":126413891,"body_markdown":"`Hibernate: \n    select\n        people0_.personid as col_0_0_,\n        concat(people0_.first_name,\n        &#39; &#39;,\n        people0_.last_name) as col_1_0_,\n        users1_.login as col_2_0_,\n        users1_.user_type as col_3_0_ \n    from\n        people people0_ \n    inner join\n        users users1_ \n            on` (well, it makes sense why it throws error since there&#39;s no join condition; also it makes inner join, when I need full join)\n\nfull error: https://pastebin.com/Si480yVy\n\nDB: mysql  Ver 8.0.27\nconnector: mysql connector/j 8.0.27","body":"<code>Hibernate:      select         people0_.personid as col_0_0_,         concat(people0_.first_name,         &#39; &#39;,         people0_.last_name) as col_1_0_,         users1_.login as col_2_0_,         users1_.user_type as col_3_0_      from         people people0_      inner join         users users1_              on</code> (well, it makes sense why it throws error since there&#39;s no join condition; also it makes inner join, when I need full join)  full error: <a href=\"https://pastebin.com/Si480yVy\" rel=\"nofollow noreferrer\">pastebin.com/Si480yVy</a>  DB: mysql  Ver 8.0.27 connector: mysql connector/j 8.0.27"},{"owner":{"account_id":11644652,"reputation":79,"user_id":8527961,"display_name":"Kris_1313"},"score":0,"creation_date":1647596121,"post_id":71410711,"comment_id":126415407,"body_markdown":"@Chris also I just clarified how I want resulting table to look","body":"@Chris also I just clarified how I want resulting table to look"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1647616150,"post_id":71410711,"comment_id":126422556,"body_markdown":"I didn&#39;t notice you had &quot;from People p join Users u&quot; as your query - Why didn&#39;t you use &quot;from People p join p.user u&quot; as suggested? JPA doesn&#39;t have full joins - it isn&#39;t universally supported on databases, so right and left joins are all that are offered. You should be easily able to make your native query work - I have you the solution in my second post with the &#39;userType&#39; being incorrect as &#39;user_type&#39; is what would be returned.","body":"I didn&#39;t notice you had &quot;from People p join Users u&quot; as your query - Why didn&#39;t you use &quot;from People p join p.user u&quot; as suggested? JPA doesn&#39;t have full joins - it isn&#39;t universally supported on databases, so right and left joins are all that are offered. You should be easily able to make your native query work - I have you the solution in my second post with the &#39;userType&#39; being incorrect as &#39;user_type&#39; is what would be returned."}],"answers":[{"tags":[],"owner":{"account_id":11644652,"reputation":79,"user_id":8527961,"display_name":"Kris_1313"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648552477,"creation_date":1648552477,"answer_id":71661002,"question_id":71410711,"body_markdown":"Thanks for @Chris help I finally got somewhere; my set mapping is looking like this:\r\n```\r\n@SqlResultSetMapping(\r\n\tname = &quot;PersonUserMapping&quot;,\r\n\tclasses = @ConstructorResult(\r\n\t\tcolumns = { @ColumnResult(name = &quot;personid&quot;, type=Integer.class),\r\n\t\t\t@ColumnResult(name = &quot;name&quot;),\r\n\t\t\t@ColumnResult(name = &quot;login&quot;),\r\n\t\t\t@ColumnResult(name = &quot;user_type&quot;,type = UserType.class)},\r\n\t\ttargetClass = PersonUserMap.class))\r\n```\r\nand my query looks like this\r\n```\r\nQuery q = entityManager.createNativeQuery(&quot;select personid, concat(first_name, &#39; &#39;, last_name) as &#39;name&#39;, users.login, users.user_type from aspirejestracja.people&quot;\r\n\t\t\t\t+ &quot; full join aspirejestracja.users on user_idusers = users.idusers &quot;, &quot;PersonUserMapping&quot;);\r\n``` \r\n\r\nnow I can display all users which I need :)","title":"Spring Data JPA/Hibernate - using EntityManager for queries","body":"<p>Thanks for @Chris help I finally got somewhere; my set mapping is looking like this:</p>\n<pre><code>@SqlResultSetMapping(\n    name = &quot;PersonUserMapping&quot;,\n    classes = @ConstructorResult(\n        columns = { @ColumnResult(name = &quot;personid&quot;, type=Integer.class),\n            @ColumnResult(name = &quot;name&quot;),\n            @ColumnResult(name = &quot;login&quot;),\n            @ColumnResult(name = &quot;user_type&quot;,type = UserType.class)},\n        targetClass = PersonUserMap.class))\n</code></pre>\n<p>and my query looks like this</p>\n<pre><code>Query q = entityManager.createNativeQuery(&quot;select personid, concat(first_name, ' ', last_name) as 'name', users.login, users.user_type from aspirejestracja.people&quot;\n                + &quot; full join aspirejestracja.users on user_idusers = users.idusers &quot;, &quot;PersonUserMapping&quot;);\n</code></pre>\n<p>now I can display all users which I need :)</p>\n"}],"owner":{"account_id":11644652,"reputation":79,"user_id":8527961,"display_name":"Kris_1313"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1525,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71661002,"answer_count":1,"score":-1,"last_activity_date":1657524656,"creation_date":1646835132,"question_id":71410711,"body_markdown":"I have these entities, from which I want get List of Tuples containing information from both of them: [![Users and People Entities][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/asrcK.png\r\n\r\nwhich should look like this:\r\n```\r\n+--------+-----+---------+\r\n|name    |login|user_type|\r\n+--------+-----+---------+\r\n|        |admin|admin    |\r\n|John Doe|john |user     |\r\n|Jane Doe|janed|user     |\r\n|........|.....|.........|\r\n```\r\nThe thing is, my JPA skill got quite rusty and I forgot how to use Entity Managers. I know how to make basic JPQL queries or build-in stuff, but sadly it&#39;s not enough for me (since I need to use that list for filling up table in my UI). So, how did I should use Entity Managers? (if I should use that at all ;) )\r\n\r\nEdit: now I think that using DTO projection is better;  here&#39;s my mapping class\r\n```\r\npublic class PersonUserMap {\r\n\tprivate Integer personID;\r\n\tprivate String name;\r\n\tprivate String login;\r\n\tprivate UserType userType;\r\n\tpublic Integer getPersonID() {\r\n\t\treturn personID;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic String getLogin() {\r\n\t\treturn login;\r\n\t}\r\n\tpublic UserType getUserType() { //custom Enum\r\n\t\treturn userType;\r\n\t}\r\n}\r\n```\r\nmy annotation in People class:\r\n```\r\n@SqlResultSetMapping(\r\n\tname = &quot;PersonUserMapping&quot;,\r\n\tclasses = @ConstructorResult(\r\n\t\tcolumns = { @ColumnResult(name = &quot;personID&quot;, type=Integer.class),\r\n\t\t\t@ColumnResult(name = &quot;name&quot;),\r\n\t\t\t@ColumnResult(name = &quot;login&quot;),\r\n\t\t\t@ColumnResult(name = &quot;userType&quot;,type = UserType.class)},\r\n\t\ttargetClass = PersonUserMap.class))\r\n```\r\n\r\nand when using native query like this: \r\n\r\n    Query q = entityManager.createNativeQuery(&quot;Select p.personid, p.first_name || &#39; &#39; || p.last_name as name, u.login, u.user_type from people p join users u on p.user_idusers = u.idusers&quot;,&quot;PersonUserMapping&quot;);\r\n\r\n it throws exception `Could not resolve column name in result set [userType]`","title":"Spring Data JPA/Hibernate - using EntityManager for queries","body":"<p>I have these entities, from which I want get List of Tuples containing information from both of them: <a href=\"https://i.stack.imgur.com/asrcK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/asrcK.png\" alt=\"Users and People Entities\" /></a></p>\n<p>which should look like this:</p>\n<pre><code>+--------+-----+---------+\n|name    |login|user_type|\n+--------+-----+---------+\n|        |admin|admin    |\n|John Doe|john |user     |\n|Jane Doe|janed|user     |\n|........|.....|.........|\n</code></pre>\n<p>The thing is, my JPA skill got quite rusty and I forgot how to use Entity Managers. I know how to make basic JPQL queries or build-in stuff, but sadly it's not enough for me (since I need to use that list for filling up table in my UI). So, how did I should use Entity Managers? (if I should use that at all ;) )</p>\n<p>Edit: now I think that using DTO projection is better;  here's my mapping class</p>\n<pre><code>public class PersonUserMap {\n    private Integer personID;\n    private String name;\n    private String login;\n    private UserType userType;\n    public Integer getPersonID() {\n        return personID;\n    }\n    public String getName() {\n        return name;\n    }\n    public String getLogin() {\n        return login;\n    }\n    public UserType getUserType() { //custom Enum\n        return userType;\n    }\n}\n</code></pre>\n<p>my annotation in People class:</p>\n<pre><code>@SqlResultSetMapping(\n    name = &quot;PersonUserMapping&quot;,\n    classes = @ConstructorResult(\n        columns = { @ColumnResult(name = &quot;personID&quot;, type=Integer.class),\n            @ColumnResult(name = &quot;name&quot;),\n            @ColumnResult(name = &quot;login&quot;),\n            @ColumnResult(name = &quot;userType&quot;,type = UserType.class)},\n        targetClass = PersonUserMap.class))\n</code></pre>\n<p>and when using native query like this:</p>\n<pre><code>Query q = entityManager.createNativeQuery(&quot;Select p.personid, p.first_name || ' ' || p.last_name as name, u.login, u.user_type from people p join users u on p.user_idusers = u.idusers&quot;,&quot;PersonUserMapping&quot;);\n</code></pre>\n<p>it throws exception <code>Could not resolve column name in result set [userType]</code></p>\n"},{"tags":["java","oop"],"answers":[{"tags":[],"owner":{"account_id":16192240,"reputation":393,"user_id":11690682,"display_name":"sweintritt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657523021,"creation_date":1657523021,"answer_id":72934844,"question_id":72934700,"body_markdown":"You could use a temporary Set in your static block\r\n\r\n```java\r\npublic static final Set&lt;String&gt; IDS;\r\nstatic {\r\n    final Set&lt;String&gt; temp = new HashSet&lt;&gt;();\r\n    // Run your query and add ids to temp\r\n    IDS = Collections.unmodifiableSet(temp);\r\n}\r\n```","title":"Expose `final static Set` of a class","body":"<p>You could use a temporary Set in your static block</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final Set&lt;String&gt; IDS;\nstatic {\n    final Set&lt;String&gt; temp = new HashSet&lt;&gt;();\n    // Run your query and add ids to temp\n    IDS = Collections.unmodifiableSet(temp);\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657523065,"creation_date":1657523065,"answer_id":72934851,"question_id":72934700,"body_markdown":"Try this.\r\n\r\n\tpublic static final Set&lt;String&gt; IDS;\r\n\tstatic {\r\n\t\tSet&lt;String&gt; set = new HashSet&lt;&gt;();\r\n\t\tset.add(&quot;a&quot;);\r\n\t\tset.add(&quot;b&quot;);\r\n\t\tset.add(&quot;c&quot;);\r\n\t\tIDS = Collections.unmodifiableSet(set);\r\n\t}\r\n\t\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(IDS);\r\n\t\tIDS.add(&quot;x&quot;);\r\n\t}\r\n\r\noutput:\r\n\r\n    [a, b, c]\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\r\n\r\n","title":"Expose `final static Set` of a class","body":"<p>Try this.</p>\n<pre><code>public static final Set&lt;String&gt; IDS;\nstatic {\n    Set&lt;String&gt; set = new HashSet&lt;&gt;();\n    set.add(&quot;a&quot;);\n    set.add(&quot;b&quot;);\n    set.add(&quot;c&quot;);\n    IDS = Collections.unmodifiableSet(set);\n}\n\n\npublic static void main(String[] args) {\n    System.out.println(IDS);\n    IDS.add(&quot;x&quot;);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[a, b, c]\nException in thread &quot;main&quot; java.lang.UnsupportedOperationException\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657524411,"creation_date":1657524411,"answer_id":72935038,"question_id":72934700,"body_markdown":"If you want to expose a set (or any other collection) from your class, you could use `java.util.Collections#unmodifiableSet`. It is very lightweight, because it just wraps your set and proxies all non-modifying calls to the underlying set.\r\n\r\nAnd keep the state hidden. One class should at most expose constants, better add a getter for the collection.","title":"Expose `final static Set` of a class","body":"<p>If you want to expose a set (or any other collection) from your class, you could use <code>java.util.Collections#unmodifiableSet</code>. It is very lightweight, because it just wraps your set and proxies all non-modifying calls to the underlying set.</p>\n<p>And keep the state hidden. One class should at most expose constants, better add a getter for the collection.</p>\n"}],"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72934851,"answer_count":3,"score":0,"last_activity_date":1657524411,"creation_date":1657522249,"question_id":72934700,"body_markdown":"I have a class that has:  \r\n`public static final Set&lt;String&gt; IDS = new HashSet&lt;&gt;();`,  \r\nwhose values are initiated in a static block after running some query (Therefore I can&#39;t declare it as `unmodifiableSet`).  \r\n\r\nNow that other classes need to use `IDS` but apparently I don&#39;t want to let them get direct access to it to avoid `IDS` being changed by callers.  \r\nTo achieve this, one way I can think of, is to \r\n1. make `IDS` private\r\n2. create a getter method that will `return new HashSet&lt;&gt;(IDS)` (or `ImmutableSet` as I&#39;m using `Guava`)  \r\n\r\n\r\nBut wondering if there are better ways?","title":"Expose `final static Set` of a class","body":"<p>I have a class that has:<br />\n<code>public static final Set&lt;String&gt; IDS = new HashSet&lt;&gt;();</code>,<br />\nwhose values are initiated in a static block after running some query (Therefore I can't declare it as <code>unmodifiableSet</code>).</p>\n<p>Now that other classes need to use <code>IDS</code> but apparently I don't want to let them get direct access to it to avoid <code>IDS</code> being changed by callers.<br />\nTo achieve this, one way I can think of, is to</p>\n<ol>\n<li>make <code>IDS</code> private</li>\n<li>create a getter method that will <code>return new HashSet&lt;&gt;(IDS)</code> (or <code>ImmutableSet</code> as I'm using <code>Guava</code>)</li>\n</ol>\n<p>But wondering if there are better ways?</p>\n"},{"tags":["java","inputstream"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1657321452,"post_id":72917644,"comment_id":128790977,"body_markdown":"I&#39;m not sure if `read` can return 0 in some cases when there are no bytes immediately available, and yet return a positive number on subsequent calls. The first thing I would check is, are you actually getting data from the input stream. Also, if you are using at least Java 9 or later it might be better and easier to use `is.transferTo(zipStream)`.","body":"I&#39;m not sure if <code>read</code> can return 0 in some cases when there are no bytes immediately available, and yet return a positive number on subsequent calls. The first thing I would check is, are you actually getting data from the input stream. Also, if you are using at least Java 9 or later it might be better and easier to use <code>is.transferTo(zipStream)</code>."},{"owner":{"account_id":7622689,"reputation":131,"user_id":5780276,"accept_rate":25,"display_name":"MartDavious"},"score":0,"creation_date":1657322689,"post_id":72917644,"comment_id":128791146,"body_markdown":"I see that outputStream is null.","body":"I see that outputStream is null."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1657327664,"post_id":72917644,"comment_id":128791772,"body_markdown":"The `zipStream` is `null`? Maybe you should just try using a `ByteArrayOutputStream` for now, until you get the read working.","body":"The <code>zipStream</code> is <code>null</code>? Maybe you should just try using a <code>ByteArrayOutputStream</code> for now, until you get the read working."},{"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"score":2,"creation_date":1657341107,"post_id":72917644,"comment_id":128793075,"body_markdown":"I replicated Attempt 1 code and it works for me. Check your image url.","body":"I replicated Attempt 1 code and it works for me. Check your image url."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1657344644,"post_id":72917644,"comment_id":128793428,"body_markdown":"@DavidConrad it can&#39;t. `read` will block until it can read at least 1 byte. It doesn&#39;t necessarily fill all space available, but it will fill at least 1 byte. If it can&#39;t, it&#39;ll wait. If the stream ends, it returns -1. I think the only way to get `0` out, is to call `byte[] b = new byte[0]; in.read(b)`, which academic (pointless).","body":"@DavidConrad it can&#39;t. <code>read</code> will block until it can read at least 1 byte. It doesn&#39;t necessarily fill all space available, but it will fill at least 1 byte. If it can&#39;t, it&#39;ll wait. If the stream ends, it returns -1. I think the only way to get <code>0</code> out, is to call <code>byte[] b = new byte[0]; in.read(b)</code>, which academic (pointless)."},{"owner":{"account_id":7622689,"reputation":131,"user_id":5780276,"accept_rate":25,"display_name":"MartDavious"},"score":0,"creation_date":1657809214,"post_id":72917644,"comment_id":128903079,"body_markdown":"The issue was the URL.","body":"The issue was the URL."}],"owner":{"account_id":7622689,"reputation":131,"user_id":5780276,"accept_rate":25,"display_name":"MartDavious"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657524362,"creation_date":1657319969,"question_id":72917644,"body_markdown":"I&#39;m trying to get an image from a URL and add the image to a zipfile. When I try to read from the stream (`read(buf)) &gt; 0`), the condition is always false. I&#39;m not understanding what I&#39;m missing. Any ideas?\r\n\r\n    File tempZipFile = File.createTempFile(&quot;zip_images&quot;, &quot;.zip&quot;);\r\n    ZipOutputStream zipStream = new ZipOutputStream(new FileOutputStream(tempZipFile));\r\n    byte[] buf = new byte[1024];\r\n    String imageUrl = &quot;&quot;;\r\n\r\nAttempt 1:\r\n\r\n    InputStream is;\r\n    is = new URL(imageUrl).openStream();\r\n    zipStream.putNextEntry(new ZipEntry(&quot;my_image.jpg&quot;));\r\n    int len;\r\n    while ((len = is.read(buf)) &gt; 0) {\r\n    \tzipStream.write(buf, 0, len);\r\n    }\r\n\r\nAttempt 2:\r\n\r\n    URL url = new URL(imageUrl);\r\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    connection.setRequestMethod(&quot;GET&quot;);\r\n    InputStream is = connection.getInputStream();\r\n    zipStream.putNextEntry(new ZipEntry(&quot;my_image.jpg&quot;));\r\n    int len;\r\n    while ((len = urlStream.read(buf)) &gt; 0) {\r\n    \tzipStream.write(buf, 0, len);\r\n    }  \r\n\r\nAttempt 3:\r\n\r\n    URL url = new URL(imageUrl);\r\n    InputStream is = url.openStream();\r\n    zipStream.putNextEntry(new ZipEntry(&quot;my_image.jpg&quot;));\r\n    int len;\r\n    \r\n    while ((len = is.read(buf)) &gt; 0) {\r\n        os.write(b, 0, len);\r\n    }\r\n    \r\n  ","title":"input stream read is always empty","body":"<p>I'm trying to get an image from a URL and add the image to a zipfile. When I try to read from the stream (<code>read(buf)) &gt; 0</code>), the condition is always false. I'm not understanding what I'm missing. Any ideas?</p>\n<pre><code>File tempZipFile = File.createTempFile(&quot;zip_images&quot;, &quot;.zip&quot;);\nZipOutputStream zipStream = new ZipOutputStream(new FileOutputStream(tempZipFile));\nbyte[] buf = new byte[1024];\nString imageUrl = &quot;&quot;;\n</code></pre>\n<p>Attempt 1:</p>\n<pre><code>InputStream is;\nis = new URL(imageUrl).openStream();\nzipStream.putNextEntry(new ZipEntry(&quot;my_image.jpg&quot;));\nint len;\nwhile ((len = is.read(buf)) &gt; 0) {\n    zipStream.write(buf, 0, len);\n}\n</code></pre>\n<p>Attempt 2:</p>\n<pre><code>URL url = new URL(imageUrl);\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.setRequestMethod(&quot;GET&quot;);\nInputStream is = connection.getInputStream();\nzipStream.putNextEntry(new ZipEntry(&quot;my_image.jpg&quot;));\nint len;\nwhile ((len = urlStream.read(buf)) &gt; 0) {\n    zipStream.write(buf, 0, len);\n}  \n</code></pre>\n<p>Attempt 3:</p>\n<pre><code>URL url = new URL(imageUrl);\nInputStream is = url.openStream();\nzipStream.putNextEntry(new ZipEntry(&quot;my_image.jpg&quot;));\nint len;\n\nwhile ((len = is.read(buf)) &gt; 0) {\n    os.write(b, 0, len);\n}\n</code></pre>\n"},{"tags":["java","jpa","jakarta-ee","jpql"],"comments":[{"owner":{"account_id":211184,"reputation":4921,"user_id":463202,"accept_rate":92,"display_name":"Gonzalo Garcia Lasurtegui"},"score":0,"creation_date":1321903329,"post_id":8217144,"comment_id":10102794,"body_markdown":"are you using a custom enum? Can you update the document to show the Status enum?","body":"are you using a custom enum? Can you update the document to show the Status enum?"}],"answers":[{"tags":[],"owner":{"account_id":558023,"reputation":17978,"user_id":920607,"accept_rate":89,"display_name":"Piotr Nowicki"},"down_vote_count":0,"up_vote_count":236,"is_accepted":true,"score":236,"last_activity_date":1321902658,"creation_date":1321902658,"answer_id":8217175,"question_id":8217144,"body_markdown":"I think you should use your (fully qualified) `Status` enum instead of literal value, so something like this: (assuming your `Status` enum is in `com.myexample` package)\r\n\r\n    @NamedQuery(name = &quot;Question.allApproved&quot;, \r\n                query = &quot;SELECT q \r\n                         FROM Question q \r\n                         WHERE q.status = com.myexample.Status.APPROVED&quot;).\r\n\r\n","title":"Problems with making a query when using Enum in entity","body":"<p>I think you should use your (fully qualified) <code>Status</code> enum instead of literal value, so something like this: (assuming your <code>Status</code> enum is in <code>com.myexample</code> package)</p>\n\n<pre><code>@NamedQuery(name = \"Question.allApproved\", \n            query = \"SELECT q \n                     FROM Question q \n                     WHERE q.status = com.myexample.Status.APPROVED\").\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1328516,"reputation":644,"user_id":1272886,"display_name":"Tom Silverman"},"down_vote_count":6,"up_vote_count":2,"is_accepted":false,"score":-4,"last_activity_date":1462027973,"creation_date":1462027973,"answer_id":36956358,"question_id":8217144,"body_markdown":"4 years since the initial post, there are some developments. Using spring 4 and  Hibernate 4 it&#39;s now possible to &#39;trick&#39; Hibernate using a SpEL expression. For example:\r\n\r\nThe enum:\r\n\r\n    package com.mycompany.enums\r\n    \r\n    public enum Status {\r\n        INITIAL, PENDING, REJECTED, APPROVED, SHIPPED, DELIVERED, COMPLETE;\r\n    }\r\n\r\nHere&#39;s a wrapper class called &#39;Filter&#39; which we&#39;ll pass to the repository filtering method. \r\n\r\n    package com.mycompany.enums\r\n    \r\n    public class Filter implements Serializable {\r\n    \r\n        /** The id of the filtered item */\r\n        private Integer id;\r\n        /** The status of the filtered item */\r\n        private Status status;\r\n        // more filter criteria here...\r\n    \r\n        // getters, setters, equals(), hashCode() - omitted for brevity\r\n    \r\n        /**\r\n         * Returns the name of the status constant or null if the status is null. This is used in the repositories to filter\r\n         * queries by the status using a the SPEL (T) expression, taking advantage of the status qualified name. For example:\r\n         * {@code :#{T(com.mycompany.enums.Status).#filter.statusName}}\r\n         *\r\n         * @return the status constant name or null if the status is null\r\n         */\r\n        public String getStatusName() {\r\n            return null == status ? status : status.name();\r\n        }\r\n    \r\n     }\r\n\r\n\r\nFinally, in the repository, we can now use the Filter class as the single parameter and make the query translate what appears to be a mixture of literals and SpEL expressions to a Status object:\r\n\r\nThe repository:\r\n\r\n    package com.mycompany.repository\r\n    \r\n    @Repository\r\n    public interface OrderRepository extends CrudRepository&lt;Order, Integer&gt; {\r\n    \r\n        @Query(&quot;SELECT o from Order o &quot;\r\n                + &quot;WHERE o.id = COALESCE(:#{#filter.id},o.id) &quot;\r\n                + &quot;AND o.status = COALESCE(:#{T(com.mycompany.enums.Status).#filter.statusName},o.status)&quot;)\r\n        public List&lt;Order&gt; getFilteredOrders(@Param(value = &quot;filter&quot;) Filter filter);\r\n    }\r\n\r\nThis works perfectly, but for some odd reason I haven&#39;t figured out yet, if you enable SQL debugging in Hibernate and turn on the binder logging, you&#39;ll not be able to see Hibernate binding this expression to query variables.  ","title":"Problems with making a query when using Enum in entity","body":"<p>4 years since the initial post, there are some developments. Using spring 4 and  Hibernate 4 it's now possible to 'trick' Hibernate using a SpEL expression. For example:</p>\n\n<p>The enum:</p>\n\n<pre><code>package com.mycompany.enums\n\npublic enum Status {\n    INITIAL, PENDING, REJECTED, APPROVED, SHIPPED, DELIVERED, COMPLETE;\n}\n</code></pre>\n\n<p>Here's a wrapper class called 'Filter' which we'll pass to the repository filtering method. </p>\n\n<pre><code>package com.mycompany.enums\n\npublic class Filter implements Serializable {\n\n    /** The id of the filtered item */\n    private Integer id;\n    /** The status of the filtered item */\n    private Status status;\n    // more filter criteria here...\n\n    // getters, setters, equals(), hashCode() - omitted for brevity\n\n    /**\n     * Returns the name of the status constant or null if the status is null. This is used in the repositories to filter\n     * queries by the status using a the SPEL (T) expression, taking advantage of the status qualified name. For example:\n     * {@code :#{T(com.mycompany.enums.Status).#filter.statusName}}\n     *\n     * @return the status constant name or null if the status is null\n     */\n    public String getStatusName() {\n        return null == status ? status : status.name();\n    }\n\n }\n</code></pre>\n\n<p>Finally, in the repository, we can now use the Filter class as the single parameter and make the query translate what appears to be a mixture of literals and SpEL expressions to a Status object:</p>\n\n<p>The repository:</p>\n\n<pre><code>package com.mycompany.repository\n\n@Repository\npublic interface OrderRepository extends CrudRepository&lt;Order, Integer&gt; {\n\n    @Query(\"SELECT o from Order o \"\n            + \"WHERE o.id = COALESCE(:#{#filter.id},o.id) \"\n            + \"AND o.status = COALESCE(:#{T(com.mycompany.enums.Status).#filter.statusName},o.status)\")\n    public List&lt;Order&gt; getFilteredOrders(@Param(value = \"filter\") Filter filter);\n}\n</code></pre>\n\n<p>This works perfectly, but for some odd reason I haven't figured out yet, if you enable SQL debugging in Hibernate and turn on the binder logging, you'll not be able to see Hibernate binding this expression to query variables.  </p>\n"}],"owner":{"account_id":205346,"reputation":48091,"user_id":454049,"accept_rate":72,"display_name":"LuckyLuke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98208,"favorite_count":0,"down_vote_count":0,"up_vote_count":112,"accepted_answer_id":8217175,"answer_count":2,"score":112,"last_activity_date":1657523799,"creation_date":1321902490,"question_id":8217144,"body_markdown":"I have the following in a Question entity:\r\n\r\n    @NamedQuery(name = &quot;Question.allApproved&quot;,\r\n        query = &quot;SELECT q FROM Question q WHERE q.status = &#39;APPROVED&#39;&quot;)\r\n\r\nand\r\n\r\n\t@Enumerated(EnumType.STRING)\r\n\tprivate Status status;\r\n\r\n\t// usual accessors\r\n\r\nI am getting this exception:\r\n\r\n\r\n&gt; Exception Description: Error compiling the query\r\n&gt; [Question.countApproved: `SELECT COUNT(q) FROM Question q WHERE q.status = &#39;APPROVED&#39;`], line 1, column 47: invalid enum equal\r\n&gt; expression, cannot compare enum value of type\r\n&gt; `[myCompnay.application.Status]` with a non enum value\r\n&gt; of type `[java.lang.String]`. \tat\r\n&gt; org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:501)\r\n\r\nHow do I fix this?\r\n\r\n","title":"Problems with making a query when using Enum in entity","body":"<p>I have the following in a Question entity:</p>\n\n<pre><code>@NamedQuery(name = \"Question.allApproved\",\n    query = \"SELECT q FROM Question q WHERE q.status = 'APPROVED'\")\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Enumerated(EnumType.STRING)\nprivate Status status;\n\n// usual accessors\n</code></pre>\n\n<p>I am getting this exception:</p>\n\n<blockquote>\n  <p>Exception Description: Error compiling the query\n  [Question.countApproved: <code>SELECT COUNT(q) FROM Question q WHERE q.status = 'APPROVED'</code>], line 1, column 47: invalid enum equal\n  expression, cannot compare enum value of type\n  <code>[myCompnay.application.Status]</code> with a non enum value\n  of type <code>[java.lang.String]</code>.     at\n  org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:501)</p>\n</blockquote>\n\n<p>How do I fix this?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1657495214,"post_id":72932438,"comment_id":128816877,"body_markdown":"You&#39;re calling object.getString(&quot;customer&quot;), not &quot;name&quot;.","body":"You&#39;re calling object.getString(&quot;customer&quot;), not &quot;name&quot;."},{"owner":{"account_id":6348437,"reputation":1619,"user_id":4958351,"display_name":"AIMIN PAN"},"score":0,"creation_date":1657502295,"post_id":72932438,"comment_id":128817723,"body_markdown":"you should post the content of s, so others don&#39;t need to guess the content of json.","body":"you should post the content of s, so others don&#39;t need to guess the content of json."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1657503357,"post_id":72932438,"comment_id":128817848,"body_markdown":"there is no array in the json posted.","body":"there is no array in the json posted."}],"answers":[{"tags":[],"owner":{"account_id":11416432,"reputation":578,"user_id":8369150,"display_name":"Halil Sahin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657520477,"creation_date":1657520172,"answer_id":72934393,"question_id":72932438,"body_markdown":"First of all, there is no json array inside your json content. Json array is an array inside the json content. No such array exists in your json content. To give an example, assuming the name field is inside an array. It should have looked like this then:\r\n\r\n    {\r\n      &quot;name&quot;: [\r\n        {\r\n          &quot;personName&quot;: &quot;Adene Jonah&quot;\r\n        },\r\n        {\r\n          &quot;personName&quot;: &quot;abc&quot;\r\n        }\r\n      ],\r\n      &quot;address&quot;: &quot;Mr. John Doe 34 Tokai, Abuja. 7999.&quot;,\r\n      &quot;util&quot;: &quot;Demo Utility&quot;,\r\n      &quot;minimumAmount&quot;: &quot;500&quot;\r\n    }\r\n\r\nA json array starts with a [ sign and actually encloses many arrays. So if we give an example on the name field, it can contain many names. But your json content is a pure json object. You can check this from sites like these. [JSON Beautifier][1]\r\n\r\n\r\n  [1]: https://codebeautify.org/jsonviewer","title":"How to set JSONObject to textview","body":"<p>First of all, there is no json array inside your json content. Json array is an array inside the json content. No such array exists in your json content. To give an example, assuming the name field is inside an array. It should have looked like this then:</p>\n<pre><code>{\n  &quot;name&quot;: [\n    {\n      &quot;personName&quot;: &quot;Adene Jonah&quot;\n    },\n    {\n      &quot;personName&quot;: &quot;abc&quot;\n    }\n  ],\n  &quot;address&quot;: &quot;Mr. John Doe 34 Tokai, Abuja. 7999.&quot;,\n  &quot;util&quot;: &quot;Demo Utility&quot;,\n  &quot;minimumAmount&quot;: &quot;500&quot;\n}\n</code></pre>\n<p>A json array starts with a [ sign and actually encloses many arrays. So if we give an example on the name field, it can contain many names. But your json content is a pure json object. You can check this from sites like these. <a href=\"https://codebeautify.org/jsonviewer\" rel=\"nofollow noreferrer\">JSON Beautifier</a></p>\n"}],"owner":{"account_id":6455760,"reputation":11,"user_id":5001229,"display_name":"Innocent Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657523402,"creation_date":1657494506,"question_id":72932438,"body_markdown":"I have been trying to set textview to &quot;name&quot; value from the json array responds but not working but if I run this code\r\n\r\n    @Override\r\n        protected void onPostExecute(String s) {\r\n            super.onPostExecute(s);\r\n            //view_member__progressBar.setVisibility(View.GONE);\r\n\r\n            try {\r\n                JSONObject object = new JSONObject(s);\r\n\r\n                detail.setText(object.getString(&quot;customer&quot;));\r\n\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\nI will get this result\r\n\r\n    {&quot;name&quot;:&quot;Adene Jonah&quot;,&quot;address&quot;:&quot;Mr. John Doe 34 Tokai, Abuja. 7999.&quot;,&quot;util&quot;:&quot;Demo Utility&quot;,&quot;minimumAmount&quot;:&quot;500&quot;}\r\n\r\nbut if I run this code below I will get nothing\r\n\r\n     @Override\r\n        protected void onPostExecute(String s) {\r\n            super.onPostExecute(s);\r\n            //view_member__progressBar.setVisibility(View.GONE);\r\n\r\n            try {\r\n                JSONObject object = new JSONObject(s);\r\n                JSONArray ar = new JSONArray();\r\n                ar =object.getJSONArray(&quot;customer&quot;);\r\n\r\n\r\n                detail.setText(ar.getString(0).);\r\n\r\n\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nthis is the value of s\r\n\r\n    {&quot;status&quot;:&quot;00&quot;,&quot;message&quot;:&quot;OK&quot;,&quot;access_token&quot;:&quot;22071108062392&quot;,&quot;customer&quot;:{&quot;name&quot;:&quot;Adene Jonah&quot;,&quot;address&quot;:&quot;Mr. John Doe\r\n34 Tokai, Abuja. 7999.&quot;,&quot;util&quot;:&quot;Demo\r\nUtility&quot;,&quot;minimumAmount&quot;:&quot;500&quot;},&quot;response_hash&quot;:&quot;4a0d9cf3a7d63c5b0f9087931bef5540a0665add&quot;}","title":"How to set JSONObject to textview","body":"<p>I have been trying to set textview to &quot;name&quot; value from the json array responds but not working but if I run this code</p>\n<pre><code>@Override\n    protected void onPostExecute(String s) {\n        super.onPostExecute(s);\n        //view_member__progressBar.setVisibility(View.GONE);\n\n        try {\n            JSONObject object = new JSONObject(s);\n\n            detail.setText(object.getString(&quot;customer&quot;));\n\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I will get this result</p>\n<pre><code>{&quot;name&quot;:&quot;Adene Jonah&quot;,&quot;address&quot;:&quot;Mr. John Doe 34 Tokai, Abuja. 7999.&quot;,&quot;util&quot;:&quot;Demo Utility&quot;,&quot;minimumAmount&quot;:&quot;500&quot;}\n</code></pre>\n<p>but if I run this code below I will get nothing</p>\n<pre><code> @Override\n    protected void onPostExecute(String s) {\n        super.onPostExecute(s);\n        //view_member__progressBar.setVisibility(View.GONE);\n\n        try {\n            JSONObject object = new JSONObject(s);\n            JSONArray ar = new JSONArray();\n            ar =object.getJSONArray(&quot;customer&quot;);\n\n\n            detail.setText(ar.getString(0).);\n\n\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>this is the value of s</p>\n<pre><code>{&quot;status&quot;:&quot;00&quot;,&quot;message&quot;:&quot;OK&quot;,&quot;access_token&quot;:&quot;22071108062392&quot;,&quot;customer&quot;:{&quot;name&quot;:&quot;Adene Jonah&quot;,&quot;address&quot;:&quot;Mr. John Doe\n</code></pre>\n<p>34 Tokai, Abuja. 7999.&quot;,&quot;util&quot;:&quot;Demo\nUtility&quot;,&quot;minimumAmount&quot;:&quot;500&quot;},&quot;response_hash&quot;:&quot;4a0d9cf3a7d63c5b0f9087931bef5540a0665add&quot;}</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":9735764,"reputation":3,"user_id":7219049,"display_name":"John Ng"},"score":0,"creation_date":1657468468,"post_id":72929608,"comment_id":128812116,"body_markdown":"Sorry andrewJames, I&#39;ve added the full stack trace just now.","body":"Sorry andrewJames, I&#39;ve added the full stack trace just now."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1657468671,"post_id":72929608,"comment_id":128812150,"body_markdown":"Thank you for the update. &quot;_Neither BindingResult nor plain target object for bean name &#39;design&#39; available as request attribute_&quot; - take a look at [What causes &quot;java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;command&#39; available as request attribute&quot;?](https://stackoverflow.com/q/42198050/12567365) for initial troubleshooting. You can update the question with your findings, if that does not resolve the problem.","body":"Thank you for the update. &quot;<i>Neither BindingResult nor plain target object for bean name &#39;design&#39; available as request attribute</i>&quot; - take a look at <a href=\"https://stackoverflow.com/q/42198050/12567365\">What causes &quot;java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;command&#39; available as request attribute&quot;?</a> for initial troubleshooting. You can update the question with your findings, if that does not resolve the problem."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1657469037,"post_id":72929608,"comment_id":128812249,"body_markdown":"Also, &quot;_template: &quot;design&quot; - line 15, col 28_&quot; is where you should be looking.","body":"Also, &quot;<i>template: &quot;design&quot; - line 15, col 28</i>&quot; is where you should be looking."}],"answers":[{"tags":[],"owner":{"account_id":4492549,"reputation":660,"user_id":3653304,"display_name":"Ralan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657523085,"creation_date":1657523085,"answer_id":72934853,"question_id":72929608,"body_markdown":"From incomplete template code I&#39;m asuming the error is due to the fact that you only set a taco attriubte in your controller `model.addAttribute(&quot;taco&quot;, new Taco());` but call a design object in view `&lt;form method=&quot;POST&quot; th:object=&quot;${design}&quot;&gt;` You&#39;d either have to change the `${design}` to `${taco}` or define a seperate design attirbute","title":"How to fix Thymeleaf th:field unexpected error","body":"<p>From incomplete template code I'm asuming the error is due to the fact that you only set a taco attriubte in your controller <code>model.addAttribute(&quot;taco&quot;, new Taco());</code> but call a design object in view <code>&lt;form method=&quot;POST&quot; th:object=&quot;${design}&quot;&gt;</code> You'd either have to change the <code>${design}</code> to <code>${taco}</code> or define a seperate design attirbute</p>\n"}],"owner":{"account_id":9735764,"reputation":3,"user_id":7219049,"display_name":"John Ng"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72934853,"answer_count":1,"score":0,"last_activity_date":1657523085,"creation_date":1657466497,"question_id":72929608,"body_markdown":"I am new to Spring Boot and Thymeleaf. I tried to follow some example but got error as below with no any ideas...\r\n\r\nMy Spring Boot version is 2.7.1 and Java 17\r\n\r\nentity:\r\n\r\n    @Data\r\n    public class Taco {\r\n        private String name;\r\n        private List&lt;Ingredient&gt; ingredients;\r\n    }\r\n\r\ncontroller:\r\n\r\n    @Slf4j\r\n    @Controller\r\n    @RequestMapping(&quot;/design&quot;)\r\n    @SessionAttributes(&quot;tacoOrder&quot;)\r\n    public class DesignTacoController {\r\n    \r\n        @ModelAttribute\r\n        public void addIngredientsToModel(Model model) {\r\n            List&lt;Ingredient&gt; ingredients = Arrays.asList(\r\n                    new Ingredient(&quot;FLTO&quot;, &quot;Flour Tortilla&quot;, Type.WRAP),\r\n                    new Ingredient(&quot;COTO&quot;, &quot;Corn Tortilla&quot;, Type.WRAP),\r\n                    new Ingredient(&quot;GRBF&quot;, &quot;Ground Beef&quot;, Type.PROTEIN),\r\n                    new Ingredient(&quot;CARN&quot;, &quot;Carnitas&quot;, Type.PROTEIN),\r\n                    new Ingredient(&quot;TMTO&quot;, &quot;Diced Tomatoes&quot;, Type.VEGGIES),\r\n                    new Ingredient(&quot;LETC&quot;, &quot;Lettuce&quot;, Type.VEGGIES),\r\n                    new Ingredient(&quot;CHED&quot;, &quot;Cheddar&quot;, Type.CHEESE),\r\n                    new Ingredient(&quot;JACK&quot;, &quot;Monterrey Jack&quot;, Type.CHEESE),\r\n                    new Ingredient(&quot;SLSA&quot;, &quot;Salsa&quot;, Type.SAUCE),\r\n                    new Ingredient(&quot;SRCR&quot;, &quot;Sour Cream&quot;, Type.SAUCE)\r\n            );\r\n    \r\n            Type[] types = Ingredient.Type.values();\r\n            for (Type type : types) {\r\n                model.addAttribute(type.toString().toLowerCase(),\r\n                        filterByType(ingredients, type));\r\n            }\r\n        }\r\n    \r\n        @GetMapping\r\n        public String showDesignForm(Model model) {\r\n            model.addAttribute(&quot;taco&quot;, new Taco());\r\n            return &quot;design&quot;;\r\n        }\r\n        private Iterable&lt;Ingredient&gt; filterByType(\r\n                List&lt;Ingredient&gt; ingredients, Type type) {\r\n            return ingredients\r\n                    .stream()\r\n                    .filter(x -&gt; x.getType().equals(type))\r\n                    .collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\nview: \r\n\r\n    &lt;form method=&quot;POST&quot; th:object=&quot;${design}&quot;&gt;\r\n        &lt;div&gt;\r\n            &lt;h3&gt;Name your taco creation:&lt;/h3&gt;\r\n            &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot;/&gt;&lt;br/&gt;\r\n            &lt;button&gt;Submit your taco&lt;/button&gt;\r\n        &lt;/div&gt;\r\n    &lt;/form&gt;\r\n\r\nThe `th:field` will get 500 internal error when I open this web page....\r\n\r\nI&#39;ve google and take a look in Thymeleaf document, but seems the th:field usage is correct.\r\n\r\n\r\n    org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/design.html]&quot;)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\r\n    \tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\r\n    \tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\r\n    \tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: org.attoparser.ParseException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor&#39; (template: &quot;design&quot; - line 15, col 28)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\r\n    \tat org.attoparser.MarkupParser.parse(MarkupParser.java:257)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\r\n    \t... 48 more\r\n    Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor&#39; (template: &quot;design&quot; - line 15, col 28)\r\n    \tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\r\n    \tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\r\n    \tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\r\n    \tat org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918)\r\n    \tat org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleStandaloneElementEnd(TemplateHandlerAdapterMarkupHandler.java:260)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:256)\r\n    \tat org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleStandaloneElementEnd(OutputExpressionInlinePreProcessorHandler.java:169)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:104)\r\n    \tat org.attoparser.HtmlElement.handleStandaloneElementEnd(HtmlElement.java:79)\r\n    \tat org.attoparser.HtmlMarkupHandler.handleStandaloneElementEnd(HtmlMarkupHandler.java:241)\r\n    \tat org.attoparser.MarkupEventProcessorHandler.handleStandaloneElementEnd(MarkupEventProcessorHandler.java:327)\r\n    \tat org.attoparser.ParsingElementMarkupUtil.parseStandaloneElement(ParsingElementMarkupUtil.java:96)\r\n    \tat org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:706)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\r\n    \t... 50 more\r\n    Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;design&#39; available as request attribute\r\n    \tat org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153)\r\n    \tat org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:903)\r\n    \tat org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227)\r\n    \tat org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306)\r\n    \tat org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253)\r\n    \tat org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227)\r\n    \tat org.thymeleaf.spring5.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174)\r\n    \tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\r\n    \t... 63 more","title":"How to fix Thymeleaf th:field unexpected error","body":"<p>I am new to Spring Boot and Thymeleaf. I tried to follow some example but got error as below with no any ideas...</p>\n<p>My Spring Boot version is 2.7.1 and Java 17</p>\n<p>entity:</p>\n<pre><code>@Data\npublic class Taco {\n    private String name;\n    private List&lt;Ingredient&gt; ingredients;\n}\n</code></pre>\n<p>controller:</p>\n<pre><code>@Slf4j\n@Controller\n@RequestMapping(&quot;/design&quot;)\n@SessionAttributes(&quot;tacoOrder&quot;)\npublic class DesignTacoController {\n\n    @ModelAttribute\n    public void addIngredientsToModel(Model model) {\n        List&lt;Ingredient&gt; ingredients = Arrays.asList(\n                new Ingredient(&quot;FLTO&quot;, &quot;Flour Tortilla&quot;, Type.WRAP),\n                new Ingredient(&quot;COTO&quot;, &quot;Corn Tortilla&quot;, Type.WRAP),\n                new Ingredient(&quot;GRBF&quot;, &quot;Ground Beef&quot;, Type.PROTEIN),\n                new Ingredient(&quot;CARN&quot;, &quot;Carnitas&quot;, Type.PROTEIN),\n                new Ingredient(&quot;TMTO&quot;, &quot;Diced Tomatoes&quot;, Type.VEGGIES),\n                new Ingredient(&quot;LETC&quot;, &quot;Lettuce&quot;, Type.VEGGIES),\n                new Ingredient(&quot;CHED&quot;, &quot;Cheddar&quot;, Type.CHEESE),\n                new Ingredient(&quot;JACK&quot;, &quot;Monterrey Jack&quot;, Type.CHEESE),\n                new Ingredient(&quot;SLSA&quot;, &quot;Salsa&quot;, Type.SAUCE),\n                new Ingredient(&quot;SRCR&quot;, &quot;Sour Cream&quot;, Type.SAUCE)\n        );\n\n        Type[] types = Ingredient.Type.values();\n        for (Type type : types) {\n            model.addAttribute(type.toString().toLowerCase(),\n                    filterByType(ingredients, type));\n        }\n    }\n\n    @GetMapping\n    public String showDesignForm(Model model) {\n        model.addAttribute(&quot;taco&quot;, new Taco());\n        return &quot;design&quot;;\n    }\n    private Iterable&lt;Ingredient&gt; filterByType(\n            List&lt;Ingredient&gt; ingredients, Type type) {\n        return ingredients\n                .stream()\n                .filter(x -&gt; x.getType().equals(type))\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>view:</p>\n<pre><code>&lt;form method=&quot;POST&quot; th:object=&quot;${design}&quot;&gt;\n    &lt;div&gt;\n        &lt;h3&gt;Name your taco creation:&lt;/h3&gt;\n        &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot;/&gt;&lt;br/&gt;\n        &lt;button&gt;Submit your taco&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n<p>The <code>th:field</code> will get 500 internal error when I open this web page....</p>\n<p>I've google and take a look in Thymeleaf document, but seems the th:field usage is correct.</p>\n<pre><code>org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/design.html]&quot;)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\n    at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\n    at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.attoparser.ParseException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor' (template: &quot;design&quot; - line 15, col 28)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\n    at org.attoparser.MarkupParser.parse(MarkupParser.java:257)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\n    ... 48 more\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor' (template: &quot;design&quot; - line 15, col 28)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918)\n    at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleStandaloneElementEnd(TemplateHandlerAdapterMarkupHandler.java:260)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:256)\n    at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleStandaloneElementEnd(OutputExpressionInlinePreProcessorHandler.java:169)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:104)\n    at org.attoparser.HtmlElement.handleStandaloneElementEnd(HtmlElement.java:79)\n    at org.attoparser.HtmlMarkupHandler.handleStandaloneElementEnd(HtmlMarkupHandler.java:241)\n    at org.attoparser.MarkupEventProcessorHandler.handleStandaloneElementEnd(MarkupEventProcessorHandler.java:327)\n    at org.attoparser.ParsingElementMarkupUtil.parseStandaloneElement(ParsingElementMarkupUtil.java:96)\n    at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:706)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\n    ... 50 more\nCaused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'design' available as request attribute\n    at org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153)\n    at org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:903)\n    at org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227)\n    at org.thymeleaf.spring5.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\n    ... 63 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data","gson"],"answers":[{"tags":[],"owner":{"account_id":25766907,"reputation":1,"user_id":19516648,"display_name":"Pavaz97"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657522832,"creation_date":1657439369,"answer_id":72926940,"question_id":72926847,"body_markdown":"Your object data is a simple object because you need that data like this for parsing:\r\n\r\n    Data{\r\n    List&lt;String&gt; RECORD;\r\n    }\r\n  \r\nso your principal class:\r\n\r\n    Class{\r\n        String id;\r\n        String resourceName;\r\n        Data data;\r\n    }\r\n\r\n And not a map key-value. In this way you shouldn&#39;t have any problems\r\n\r\n\r\n\r\n","title":"trying to Map my Json String data to an object. I&#39;m using Gson to parse the data. Data get parsed but when i give Space in Value it gives me Exception","body":"<p>Your object data is a simple object because you need that data like this for parsing:</p>\n<pre><code>Data{\nList&lt;String&gt; RECORD;\n}\n</code></pre>\n<p>so your principal class:</p>\n<pre><code>Class{\n    String id;\n    String resourceName;\n    Data data;\n}\n</code></pre>\n<p>And not a map key-value. In this way you shouldn't have any problems</p>\n"},{"tags":[],"owner":{"account_id":1164213,"reputation":431,"user_id":1143156,"accept_rate":58,"display_name":"Rickky13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657512891,"creation_date":1657460651,"answer_id":72928936,"question_id":72926847,"body_markdown":"Hi this is because of the line:\r\n\r\n    Map&lt;String, Object&gt; map = gson.fromJson(json.toString(), Map.class);\r\n        \r\nwhen you use toString method it doesn&#39;t convert the object into a legit JSON Object, try and use ObjectMapper. i.e.\r\n\r\n    Map&lt;String, Object&gt; map = gson.fromJson(objectMapper.writeValueAsString(json), Map.class);\r\n\r\nQuick Comparison of the difference :\r\n\r\n - ToString Produces:\r\n\r\n&gt; {RECORD=[{STATE=TORONTO CITY}, {WORK=SERVICE}]}\r\n\r\n - writeValueAsString Produces:\r\n\r\n&gt; {&quot;RECORD&quot;:[{&quot;STATE&quot;:&quot;TORONTO CITY&quot;},{&quot;WORK&quot;:&quot;SERVICE&quot;}]}\r\n\r\n\r\n\r\nCode Snippet:\r\n\r\n        Gson gson = new Gson();\r\n        Object json = valueobject.getData(); //{RECORD=[{STATE=TORONTO CITY}, {WORK=SERVICE}]}\r\n        String jsonString = gson.toJson(json); //{&quot;RECORD&quot;:[{&quot;STATE&quot;:&quot;TORONTO CITY&quot;},{&quot;WORK&quot;:&quot;SERVICE&quot;}]}\r\n        Map&lt;String, Object&gt; map = gson.fromJson(jsonString, Map.class); //{RECORD=[{STATE=TORONTO CITY}, {WORK=SERVICE}]}\r\n        ArrayList x = (ArrayList) map.get(&quot;RECORD&quot;);\r\n        x.get(0); //{STATE=TORONTO CITY}\r\n        x.get(1); //{WORK=SERVICE}\r\n\r\n\r\n\r\n\r\n\r\n","title":"trying to Map my Json String data to an object. I&#39;m using Gson to parse the data. Data get parsed but when i give Space in Value it gives me Exception","body":"<p>Hi this is because of the line:</p>\n<pre><code>Map&lt;String, Object&gt; map = gson.fromJson(json.toString(), Map.class);\n    \n</code></pre>\n<p>when you use toString method it doesn't convert the object into a legit JSON Object, try and use ObjectMapper. i.e.</p>\n<pre><code>Map&lt;String, Object&gt; map = gson.fromJson(objectMapper.writeValueAsString(json), Map.class);\n</code></pre>\n<p>Quick Comparison of the difference :</p>\n<ul>\n<li>ToString Produces:</li>\n</ul>\n<blockquote>\n<p>{RECORD=[{STATE=TORONTO CITY}, {WORK=SERVICE}]}</p>\n</blockquote>\n<ul>\n<li>writeValueAsString Produces:</li>\n</ul>\n<blockquote>\n<p>{&quot;RECORD&quot;:[{&quot;STATE&quot;:&quot;TORONTO CITY&quot;},{&quot;WORK&quot;:&quot;SERVICE&quot;}]}</p>\n</blockquote>\n<p>Code Snippet:</p>\n<pre><code>    Gson gson = new Gson();\n    Object json = valueobject.getData(); //{RECORD=[{STATE=TORONTO CITY}, {WORK=SERVICE}]}\n    String jsonString = gson.toJson(json); //{&quot;RECORD&quot;:[{&quot;STATE&quot;:&quot;TORONTO CITY&quot;},{&quot;WORK&quot;:&quot;SERVICE&quot;}]}\n    Map&lt;String, Object&gt; map = gson.fromJson(jsonString, Map.class); //{RECORD=[{STATE=TORONTO CITY}, {WORK=SERVICE}]}\n    ArrayList x = (ArrayList) map.get(&quot;RECORD&quot;);\n    x.get(0); //{STATE=TORONTO CITY}\n    x.get(1); //{WORK=SERVICE}\n</code></pre>\n"}],"owner":{"account_id":18667216,"reputation":47,"user_id":13606911,"display_name":"krishan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657522832,"creation_date":1657438306,"question_id":72926847,"body_markdown":"EXCEPTION - **com.google.gson.stream.MalformedJsonException: Unterminated object at line 1 column 26 path $.[0].STATE&quot;**\r\n\r\nThis is My POST REQUEST. \r\nWhere Data is an Object, id &amp; resource is String\r\n```\r\nprivate String id;\r\nprivate String resourceName;\r\nprivate Object data;\r\n```\r\n\r\n```\r\n{\r\n    &quot;id&quot;: &quot;150&quot;,\r\n    &quot;resourceName&quot;: &quot;Fabrik-Resource&quot;,\r\n    &quot;data&quot;: {\r\n        &quot;RECORD&quot;: [\r\n            {\r\n                &quot;STATE&quot;: &quot;TORONTO CITY&quot;\r\n            },\r\n            {\r\n                &quot;WORK&quot;: &quot;SERVICE&quot;\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\n``Now if i give Space between TORONTO CITY`` ,It will give me an exception\r\n\r\n```com.google.gson.stream.MalformedJsonException: Unterminated object at line 1 column 26 path $.[0].STATE&quot;```\r\n\r\n\r\nbut when I send requests without spaces as keys and values like - \r\n\r\n```&quot;data&quot;: {\r\n        &quot;RECORD&quot;: [\r\n            {\r\n                &quot;STATE&quot;: &quot;TORONTOCITY&quot;\r\n            },\r\n            {\r\n                &quot;WORK&quot;: &quot;SERVICE&quot;\r\n            }\r\n        ]\r\n    }\r\n```\r\n\r\nIt work **but not with Space**\r\n\r\nCODE - \r\n\r\n```@PostMapping(path=&quot;/dummy&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic ResponseEntity&lt;MasterBlockChainResponse&gt; dummy(@RequestBody(required=false) Masterpayload valueobject) {\r\n\t\tGson gson = new Gson();\r\n\t\tMasterBlockChainResponse response = new MasterBlockChainResponse();\r\n\t\tObject json = valueobject.getData();\r\n\t\t\r\n\t\tMap&lt;String, Object&gt; map = gson.fromJson(json.toString(), Map.class);\r\n\t\tresponse.setId(valueobject.getId());\r\n\t\tresponse.setResourceName(valueobject.getResourceName());\r\n\t\tresponse.setData(map);\r\n\t\t\r\n\t\treturn ResponseEntity.status(HttpStatus.OK).body(response);\r\n\t\t\r\n\t}\r\n```","title":"trying to Map my Json String data to an object. I&#39;m using Gson to parse the data. Data get parsed but when i give Space in Value it gives me Exception","body":"<p>EXCEPTION - <strong>com.google.gson.stream.MalformedJsonException: Unterminated object at line 1 column 26 path $.[0].STATE&quot;</strong></p>\n<p>This is My POST REQUEST.\nWhere Data is an Object, id &amp; resource is String</p>\n<pre><code>private String id;\nprivate String resourceName;\nprivate Object data;\n</code></pre>\n<pre><code>{\n    &quot;id&quot;: &quot;150&quot;,\n    &quot;resourceName&quot;: &quot;Fabrik-Resource&quot;,\n    &quot;data&quot;: {\n        &quot;RECORD&quot;: [\n            {\n                &quot;STATE&quot;: &quot;TORONTO CITY&quot;\n            },\n            {\n                &quot;WORK&quot;: &quot;SERVICE&quot;\n            }\n        ]\n    }\n}\n</code></pre>\n<p><code>Now if i give Space between TORONTO CITY</code> ,It will give me an exception</p>\n<p><code>com.google.gson.stream.MalformedJsonException: Unterminated object at line 1 column 26 path $.[0].STATE&quot;</code></p>\n<p>but when I send requests without spaces as keys and values like -</p>\n<pre><code>        &quot;RECORD&quot;: [\n            {\n                &quot;STATE&quot;: &quot;TORONTOCITY&quot;\n            },\n            {\n                &quot;WORK&quot;: &quot;SERVICE&quot;\n            }\n        ]\n    }\n</code></pre>\n<p>It work <strong>but not with Space</strong></p>\n<p>CODE -</p>\n<pre><code>    public ResponseEntity&lt;MasterBlockChainResponse&gt; dummy(@RequestBody(required=false) Masterpayload valueobject) {\n        Gson gson = new Gson();\n        MasterBlockChainResponse response = new MasterBlockChainResponse();\n        Object json = valueobject.getData();\n        \n        Map&lt;String, Object&gt; map = gson.fromJson(json.toString(), Map.class);\n        response.setId(valueobject.getId());\n        response.setResourceName(valueobject.getResourceName());\n        response.setData(map);\n        \n        return ResponseEntity.status(HttpStatus.OK).body(response);\n        \n    }\n</code></pre>\n"},{"tags":["java","android","android-activity"],"answers":[{"tags":[],"owner":{"account_id":16846220,"reputation":58,"user_id":12180320,"display_name":"Thazin Soe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657522332,"creation_date":1657522332,"answer_id":72934721,"question_id":72934363,"body_markdown":"Can you try like following reference? \r\n\r\nhttps://developer.android.com/training/basics/intents/result#custom\r\nhttps://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.TakePicture\r\n\r\n    public class PickRingtone extends ActivityResultContract&lt;Integer, Uri&gt; {\r\n        @NonNull\r\n        @Override\r\n        public Intent createIntent(@NonNull Context context, @NonNull Integer ringtoneType) {\r\n            Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n            intent.putExtra(RingtoneManager.EXTRA_RINGTONE_TYPE, ringtoneType.intValue());\r\n            return intent;\r\n        }\r\n    \r\n        @Override\r\n        public Uri parseResult(int resultCode, @Nullable Intent result) {\r\n            if (resultCode != Activity.RESULT_OK || result == null) {\r\n                return null;\r\n            }\r\n            return result.getParcelableExtra(RingtoneManager.EXTRA_RINGTONE_PICKED_URI);\r\n        }\r\n    }\r\n\r\n","title":"How to pass data from a alertDialog to ActivityResultLauncher","body":"<p>Can you try like following reference?</p>\n<p><a href=\"https://developer.android.com/training/basics/intents/result#custom\" rel=\"nofollow noreferrer\">https://developer.android.com/training/basics/intents/result#custom</a>\n<a href=\"https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.TakePicture\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.TakePicture</a></p>\n<pre><code>public class PickRingtone extends ActivityResultContract&lt;Integer, Uri&gt; {\n    @NonNull\n    @Override\n    public Intent createIntent(@NonNull Context context, @NonNull Integer ringtoneType) {\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n        intent.putExtra(RingtoneManager.EXTRA_RINGTONE_TYPE, ringtoneType.intValue());\n        return intent;\n    }\n\n    @Override\n    public Uri parseResult(int resultCode, @Nullable Intent result) {\n        if (resultCode != Activity.RESULT_OK || result == null) {\n            return null;\n        }\n        return result.getParcelableExtra(RingtoneManager.EXTRA_RINGTONE_PICKED_URI);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13220100,"reputation":33,"user_id":9547157,"display_name":"Wong Yat Cheong Jacky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657522332,"creation_date":1657519927,"question_id":72934363,"body_markdown":"I am creating an android app with a activity of showing an alertDialog to let user take a photo of a item.\r\n    \r\n    // Inside AlertDialog on a Button Onclick function:\r\n    Intent camIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n    camIntent.putExtra(&quot;GET_PRODUCT_ID&quot;, product_id);\r\n    activityResultLauncherStartCamera.launch(camIntent);\r\n\r\nOn activityResultLauncher, how can i get the &quot;product_id&quot; ?\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncherStartCamera = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;(){\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    if (result.getResultCode() == Activity.RESULT_OK){\r\n                        Intent data = result.getData();\r\n                        \r\n                        // Both Return a null\r\n                        String product_id = data.getStringExtra(&quot;GET_PRODUCT_ID&quot;)\r\n                        String product_id = getIntent().getStringExtra(&quot;GET_PRODUCT_ID&quot;)\r\n\r\n                        // Check if old image file exist...\r\n                    }\r\n                }\r\n            }\r\n    );\r\n\r\nI need to check if there is a same image file created before and delete it after the user complete to take a new images.","title":"How to pass data from a alertDialog to ActivityResultLauncher","body":"<p>I am creating an android app with a activity of showing an alertDialog to let user take a photo of a item.</p>\n<pre><code>// Inside AlertDialog on a Button Onclick function:\nIntent camIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\ncamIntent.putExtra(&quot;GET_PRODUCT_ID&quot;, product_id);\nactivityResultLauncherStartCamera.launch(camIntent);\n</code></pre>\n<p>On activityResultLauncher, how can i get the &quot;product_id&quot; ?</p>\n<pre><code>ActivityResultLauncher&lt;Intent&gt; activityResultLauncherStartCamera = registerForActivityResult(\n        new ActivityResultContracts.StartActivityForResult(),\n        new ActivityResultCallback&lt;ActivityResult&gt;(){\n            @Override\n            public void onActivityResult(ActivityResult result) {\n                if (result.getResultCode() == Activity.RESULT_OK){\n                    Intent data = result.getData();\n                    \n                    // Both Return a null\n                    String product_id = data.getStringExtra(&quot;GET_PRODUCT_ID&quot;)\n                    String product_id = getIntent().getStringExtra(&quot;GET_PRODUCT_ID&quot;)\n\n                    // Check if old image file exist...\n                }\n            }\n        }\n);\n</code></pre>\n<p>I need to check if there is a same image file created before and delete it after the user complete to take a new images.</p>\n"},{"tags":["java","mysql","sorting","collections","comparator"],"comments":[{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":0,"creation_date":1448890712,"post_id":33999947,"comment_id":55755408,"body_markdown":"AFAIK java handels the `_` different then they are getting handelt in sql when you are sorting. But the cause of this could be your local language setting.","body":"AFAIK java handels the <code>_</code> different then they are getting handelt in sql when you are sorting. But the cause of this could be your local language setting."},{"owner":{"account_id":4452672,"reputation":89,"user_id":3624028,"display_name":"JBALI"},"score":0,"creation_date":1448891398,"post_id":33999947,"comment_id":55755841,"body_markdown":"how did you do it inside ur code?","body":"how did you do it inside ur code?"},{"owner":{"account_id":5896458,"reputation":5083,"user_id":4641455,"display_name":"JFPicard"},"score":0,"creation_date":1448892821,"post_id":33999947,"comment_id":55756787,"body_markdown":"Possible duplicate of [MySQL &#39;Order By&#39; - sorting alphanumeric correctly](http://stackoverflow.com/questions/8557172/mysql-order-by-sorting-alphanumeric-correctly)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/8557172/mysql-order-by-sorting-alphanumeric-correctly\">MySQL &#39;Order By&#39; - sorting alphanumeric correctly</a>"}],"answers":[{"tags":[],"owner":{"account_id":963492,"reputation":10559,"user_id":987339,"display_name":"user987339"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657521611,"creation_date":1448893098,"answer_id":34000712,"question_id":33999947,"body_markdown":"Use [`Collator`][1]:\r\n\r\n&gt; The Collator class performs locale-sensitive String comparison. You use this class to build searching and sorting routines for natural language text.\r\n\r\nAnd code will be:\r\n\r\n    Collator coll = Collator.getInstance(Locale.US);\r\n    coll.setStrength(Collator.IDENTICAL); \r\n    Collections.sort(words, coll);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/text/Collator.html","title":"Java sorting is not the same with MySQL sorting","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/Collator.html\" rel=\"nofollow noreferrer\"><code>Collator</code></a>:</p>\n<blockquote>\n<p>The Collator class performs locale-sensitive String comparison. You use this class to build searching and sorting routines for natural language text.</p>\n</blockquote>\n<p>And code will be:</p>\n<pre><code>Collator coll = Collator.getInstance(Locale.US);\ncoll.setStrength(Collator.IDENTICAL); \nCollections.sort(words, coll);\n</code></pre>\n"}],"owner":{"account_id":2214779,"reputation":834,"user_id":1955701,"accept_rate":38,"display_name":"Bohdan Nesteruk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2410,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":34000712,"answer_count":1,"score":4,"last_activity_date":1657521611,"creation_date":1448890665,"question_id":33999947,"body_markdown":"I need to check the sorting in the table and table content is given by MySQL. I&#39;m trying the following:\r\n`Collections.sort(sorted, String.CASE_INSENSITIVE_ORDER);`\r\n\r\nAnd get the following result:     \r\n`tes3@test.com `   \r\n`test4@test.com `   \r\n`test5@test.com`   \r\n`test@test.com `   \r\n`test_user@mail.com`    \r\n`user-og@driver.com`   \r\n    \r\nAnd this is what I get from MySQL by query:     \r\n`SELECT &#39;email&#39; FROM &#39;user&#39; WHERE 1 ORDER BY &#39;user&#39;.&#39;email&#39; ASC ` :    \r\n\r\n`tes3@test.com `    \r\n`test_user@mail.com `    \r\n`test@test.com `    \r\n`test4@test.com `   \r\n`test5@test.com`   \r\n`user-og@driver.com`\r\n\r\n\r\nSeems like Java sorts according to ASCII table: \r\nhttp://www.asciitable.com/\r\n   `4 (52) - @ (64) - _ (95)`  \r\n\r\nBut in MySQL result the order is ` _ -&gt; @ -&gt; 4`   \r\n\r\nThe `email` field collation is: `utf8_unicode_ci`    \r\nWhat is the problem and is there any comparator to make ordering in the same way? \r\n\r\n","title":"Java sorting is not the same with MySQL sorting","body":"<p>I need to check the sorting in the table and table content is given by MySQL. I'm trying the following:\n<code>Collections.sort(sorted, String.CASE_INSENSITIVE_ORDER);</code></p>\n<p>And get the following result:<br />\n<code>tes3@test.com </code><br />\n<code>test4@test.com </code><br />\n<code>test5@test.com</code><br />\n<code>test@test.com </code><br />\n<code>test_user@mail.com</code><br />\n<code>user-og@driver.com</code></p>\n<p>And this is what I get from MySQL by query:<br />\n<code>SELECT 'email' FROM 'user' WHERE 1 ORDER BY 'user'.'email' ASC </code> :</p>\n<p><code>tes3@test.com </code><br />\n<code>test_user@mail.com </code><br />\n<code>test@test.com </code><br />\n<code>test4@test.com </code><br />\n<code>test5@test.com</code><br />\n<code>user-og@driver.com</code></p>\n<p>Seems like Java sorts according to ASCII table:\n<a href=\"http://www.asciitable.com/\" rel=\"nofollow noreferrer\">http://www.asciitable.com/</a>\n<code>4 (52) - @ (64) - _ (95)</code></p>\n<p>But in MySQL result the order is <code> _ -&gt; @ -&gt; 4</code></p>\n<p>The <code>email</code> field collation is: <code>utf8_unicode_ci</code><br />\nWhat is the problem and is there any comparator to make ordering in the same way?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1657521089,"post_id":72934502,"comment_id":128820476,"body_markdown":"Do you know how to sort lists in general? Do you know how to sort lists of strings in general? If so, what did you try so far, and if not, what research did you do? - If you have done all this, what exactly are your requirements for sorting? Does the default collator produce the wrong results?","body":"Do you know how to sort lists in general? Do you know how to sort lists of strings in general? If so, what did you try so far, and if not, what research did you do? - If you have done all this, what exactly are your requirements for sorting? Does the default collator produce the wrong results?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1657522489,"post_id":72934502,"comment_id":128820848,"body_markdown":"You&#39;d normally use a `Collator` for locale specific sorting, but I just tried that, and it looks like Locales hi, hi_IN and hi_IN_#Deva don&#39;t have the sorting rules you expect.","body":"You&#39;d normally use a <code>Collator</code> for locale specific sorting, but I just tried that, and it looks like Locales hi, hi_IN and hi_IN_#Deva don&#39;t have the sorting rules you expect."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1657544967,"post_id":72934502,"comment_id":128828562,"body_markdown":"Does this answer your question? [How to sort a List&lt;Object&gt; alphabetically using Object name field](https://stackoverflow.com/questions/8432581/how-to-sort-a-listobject-alphabetically-using-object-name-field)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8432581/how-to-sort-a-listobject-alphabetically-using-object-name-field\">How to sort a List&lt;Object&gt; alphabetically using Object name field</a>"}],"owner":{"account_id":25778494,"reputation":1,"user_id":19524432,"display_name":"Ompal Singh Deora"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657521439,"creation_date":1657520956,"question_id":72934502,"body_markdown":"How to sort the List of strings containing Hindi names or using special characters or using digits in Java?  \r\n\r\nFor example:\r\n```none\r\ninput:\r\n[!@#,hindi,अभिवादन,12dhs]\r\noutput:\r\n[अभिवादन,!@#,12dhs,hindi]\r\n```","title":"How to sort the List of strings containing Hindi names or using special characters or using digits in Java?","body":"<p>How to sort the List of strings containing Hindi names or using special characters or using digits in Java?</p>\n<p>For example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>input:\n[!@#,hindi,अभिवादन,12dhs]\noutput:\n[अभिवादन,!@#,12dhs,hindi]\n</code></pre>\n"},{"tags":["java","spring","pdf","pdfbox"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1657522249,"post_id":72934558,"comment_id":128820777,"body_markdown":"You could try profiling/sampling while your application is loading different pdf files and then compare the collected data to find any differences.","body":"You could try profiling/sampling while your application is loading different pdf files and then compare the collected data to find any differences."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1657527276,"post_id":72934558,"comment_id":128822243,"body_markdown":"What version are you using? Can you share the file? And how is this related to spring?","body":"What version are you using? Can you share the file? And how is this related to spring?"},{"owner":{"account_id":14291246,"reputation":51,"user_id":10323128,"display_name":"Abhay Patel"},"score":0,"creation_date":1657609941,"post_id":72934558,"comment_id":128845074,"body_markdown":"@TilmanHausherr I can not share the file for security reasons. I am using version 2.0.24 of pdfbox.","body":"@TilmanHausherr I can not share the file for security reasons. I am using version 2.0.24 of pdfbox."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1657612067,"post_id":72934558,"comment_id":128845698,"body_markdown":"The current version is 2.0.26. Also try to run PDFDebugger in the latest 3.0 alpha and look at the status line https://www.apache.org/dyn/closer.lua/pdfbox/3.0.0-alpha3/debugger-app-3.0.0-alpha3.jar","body":"The current version is 2.0.26. Also try to run PDFDebugger in the latest 3.0 alpha and look at the status line <a href=\"https://www.apache.org/dyn/closer.lua/pdfbox/3.0.0-alpha3/debugger-app-3.0.0-alpha3.jar\" rel=\"nofollow noreferrer\">apache.org/dyn/closer.lua/pdfbox/3.0.0-alpha3/&hellip;</a>"}],"owner":{"account_id":14291246,"reputation":51,"user_id":10323128,"display_name":"Abhay Patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657521327,"creation_date":1657521327,"question_id":72934558,"body_markdown":"I am using **pdfbox** library for loading any pdf file\r\n\r\nthe code snippet is as below\r\n\r\n```PDDocument pdfDocument = PDDocument.load(pdfFile)```\r\n\r\nThis code is working for most of the case \r\nbut for some of the files (even for small files like 20mb), this function takes more than 5 minutes to laod the file.\r\n\r\nI had tried uploading a 60 mb file this function is not taking that much time but in some cases, it takes a longer time.\r\n\r\nCan anyone tell me in what kind of content it will take time? \r\n\r\nAnd what should we do for that kind of content?","title":"PDDocument.load() function taking more time to load file","body":"<p>I am using <strong>pdfbox</strong> library for loading any pdf file</p>\n<p>the code snippet is as below</p>\n<p><code>PDDocument pdfDocument = PDDocument.load(pdfFile)</code></p>\n<p>This code is working for most of the case\nbut for some of the files (even for small files like 20mb), this function takes more than 5 minutes to laod the file.</p>\n<p>I had tried uploading a 60 mb file this function is not taking that much time but in some cases, it takes a longer time.</p>\n<p>Can anyone tell me in what kind of content it will take time?</p>\n<p>And what should we do for that kind of content?</p>\n"},{"tags":["java","postgresql","amazon-web-services","identity-management","aws-iam-policy"],"comments":[{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":1,"creation_date":1657033204,"post_id":72866351,"comment_id":128710309,"body_markdown":"Did you `grant rds_iam to root`?  You didn&#39;t describe going that, and based on the error it looks like you didn&#39;t.","body":"Did you <code>grant rds_iam to root</code>?  You didn&#39;t describe going that, and based on the error it looks like you didn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657521252,"creation_date":1657519131,"answer_id":72934269,"question_id":72866351,"body_markdown":"First all i had a bug - i used the db name instead DBI resource ID\r\n\r\n**This is the expected format:** \r\n\r\n    arn:aws:rds-db:region:account-id:dbuser:DbiResourceId/db-user-name\r\n\r\n                \r\n\r\nand here is the code\r\n\r\n    data &quot;aws_iam_policy_document&quot; &quot;policy_fooweb_job&quot; {\r\n      statement {\r\n        actions = [\r\n          &quot;rds-db:connect&quot;\r\n        ]\r\n        effect = &quot;Allow&quot;\r\n        resources = [\r\n          &quot;arn:aws:rds-db:${var.region}:${data.aws_caller_identity.current.account_id}:dbuser:${data.aws_db_instance.database.resource_id}/someUser&quot;\r\n        ]\r\n      }\r\n    }\r\n    \r\n    ## get the db instance\r\n    data &quot;aws_db_instance&quot; &quot;database&quot; {\r\n      db_instance_identifier = &quot;company-oltp1&quot;\r\n    }\r\n\r\n","title":"Connect to RDS using IAM result password error","body":"<p>First all i had a bug - i used the db name instead DBI resource ID</p>\n<p><strong>This is the expected format:</strong></p>\n<pre><code>arn:aws:rds-db:region:account-id:dbuser:DbiResourceId/db-user-name\n\n            \n</code></pre>\n<p>and here is the code</p>\n<pre><code>data &quot;aws_iam_policy_document&quot; &quot;policy_fooweb_job&quot; {\n  statement {\n    actions = [\n      &quot;rds-db:connect&quot;\n    ]\n    effect = &quot;Allow&quot;\n    resources = [\n      &quot;arn:aws:rds-db:${var.region}:${data.aws_caller_identity.current.account_id}:dbuser:${data.aws_db_instance.database.resource_id}/someUser&quot;\n    ]\n  }\n}\n\n## get the db instance\ndata &quot;aws_db_instance&quot; &quot;database&quot; {\n  db_instance_identifier = &quot;company-oltp1&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72934269,"answer_count":1,"score":0,"last_activity_date":1657521252,"creation_date":1657010106,"question_id":72866351,"body_markdown":"Hello i have create an RDS on AWS, and created a policy\r\nwith this permission based on [this link][1]\r\n\r\n    {\r\n       &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n       &quot;Statement&quot;: [\r\n          {\r\n             &quot;Effect&quot;: &quot;Allow&quot;,\r\n             &quot;Action&quot;: [\r\n                 &quot;rds-db:connect&quot;\r\n             ],\r\n             &quot;Resource&quot;: [\r\n                 &quot;arn:aws:rds-db:us-east-2:1234567890:dbuser:db-ABCDEFGHIJKL01234/db_user&quot;\r\n             ]\r\n          }\r\n       ]\r\n    }\r\n\r\n\r\nI&#39;ve have a general user that defined with a spesific password\r\n\r\ni tried login with the user but instead of the password i tried to set \r\nauth token link in [this guide][2] \r\n\r\n\r\n     private static Properties setMySqlConnectionProperties() {\r\n            Properties mysqlConnectionProperties = new Properties();\r\n            mysqlConnectionProperties.setProperty(&quot;verifyServerCertificate&quot;,&quot;true&quot;);\r\n            mysqlConnectionProperties.setProperty(&quot;useSSL&quot;, &quot;true&quot;);\r\n            mysqlConnectionProperties.setProperty(&quot;user&quot;,DB_USER);\r\n            mysqlConnectionProperties.setProperty(&quot;password&quot;,generateAuthToken());\r\n            return mysqlConnectionProperties;\r\n        }\r\n\r\n\r\n\t\r\n\r\n    public static String generateAuthToken(String region, String hostName, int port, String username) {\r\n    \r\n    \t\tRdsIamAuthTokenGenerator generator = RdsIamAuthTokenGenerator.builder()\r\n    \t\t\t\t.credentials(new DefaultAWSCredentialsProviderChain())\r\n    \t\t\t\t.region(region)\r\n    \t\t\t\t.build();\r\n    \r\n    \t\tString authToken = generator.getAuthToken(\r\n    \t\t\t\tGetIamAuthTokenRequest.builder()\r\n    \t\t\t\t\t\t.hostname(hostName)\r\n    \t\t\t\t\t\t.port(port)\r\n    \t\t\t\t\t\t.userName(username)\r\n    \t\t\t\t\t\t.build());\r\n    \r\n    \t\treturn authToken;\r\n    \t}\r\n\r\nIm using in my case with postgresql \r\nand it result this error\r\n\r\n    &quot;FATAL: password authentication failed for user \\&quot;root\\&quot;&quot;,&quot;error.stack_trace&quot;:&quot;org.postgresql.util.PSQLException: FATAL: password authentication failed for user \\&quot;root\\&quot;\r\n\r\n\r\nmy root user should support with IAM, what can i validate in order to fix it\r\n\r\nbelow you can see from AWS, that my policy is defined \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAMDBAuth.IAMPolicy.html\r\n  [2]: https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAMDBAuth.Connecting.Java.html\r\n  [3]: https://i.stack.imgur.com/pZjNw.png","title":"Connect to RDS using IAM result password error","body":"<p>Hello i have create an RDS on AWS, and created a policy\nwith this permission based on <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAMDBAuth.IAMPolicy.html\" rel=\"nofollow noreferrer\">this link</a></p>\n<pre><code>{\n   &quot;Version&quot;: &quot;2012-10-17&quot;,\n   &quot;Statement&quot;: [\n      {\n         &quot;Effect&quot;: &quot;Allow&quot;,\n         &quot;Action&quot;: [\n             &quot;rds-db:connect&quot;\n         ],\n         &quot;Resource&quot;: [\n             &quot;arn:aws:rds-db:us-east-2:1234567890:dbuser:db-ABCDEFGHIJKL01234/db_user&quot;\n         ]\n      }\n   ]\n}\n</code></pre>\n<p>I've have a general user that defined with a spesific password</p>\n<p>i tried login with the user but instead of the password i tried to set\nauth token link in <a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAMDBAuth.Connecting.Java.html\" rel=\"nofollow noreferrer\">this guide</a></p>\n<pre><code> private static Properties setMySqlConnectionProperties() {\n        Properties mysqlConnectionProperties = new Properties();\n        mysqlConnectionProperties.setProperty(&quot;verifyServerCertificate&quot;,&quot;true&quot;);\n        mysqlConnectionProperties.setProperty(&quot;useSSL&quot;, &quot;true&quot;);\n        mysqlConnectionProperties.setProperty(&quot;user&quot;,DB_USER);\n        mysqlConnectionProperties.setProperty(&quot;password&quot;,generateAuthToken());\n        return mysqlConnectionProperties;\n    }\n\n\n\n\npublic static String generateAuthToken(String region, String hostName, int port, String username) {\n\n        RdsIamAuthTokenGenerator generator = RdsIamAuthTokenGenerator.builder()\n                .credentials(new DefaultAWSCredentialsProviderChain())\n                .region(region)\n                .build();\n\n        String authToken = generator.getAuthToken(\n                GetIamAuthTokenRequest.builder()\n                        .hostname(hostName)\n                        .port(port)\n                        .userName(username)\n                        .build());\n\n        return authToken;\n    }\n</code></pre>\n<p>Im using in my case with postgresql\nand it result this error</p>\n<pre><code>&quot;FATAL: password authentication failed for user \\&quot;root\\&quot;&quot;,&quot;error.stack_trace&quot;:&quot;org.postgresql.util.PSQLException: FATAL: password authentication failed for user \\&quot;root\\&quot;\n</code></pre>\n<p>my root user should support with IAM, what can i validate in order to fix it</p>\n<p>below you can see from AWS, that my policy is defined</p>\n<p><a href=\"https://i.stack.imgur.com/pZjNw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pZjNw.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":414294,"reputation":6451,"user_id":788433,"display_name":"JaredHatfield"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455379484,"creation_date":1455379484,"answer_id":35382052,"question_id":35369748,"body_markdown":"It looks like you are using the [DynamoDB Document API][1] and not the low level API.  When you are [querying][2] using the Document API all of the low level considerations such as paging are taken care for you, but you can optionally interact with these lower level aspects.\r\n\r\nBased on the code snippet you provided, the Document API library will take care of loading in additional pages when you reach the end of each page so there is nothing extra you need to do, your code should work!  This is the real benefit of using the Document API because it takes care of a lot of redundant boiler plate code for common use cases.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/JavaDocumentAPIItemCRUD.html\r\n  [2]: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryingJavaDocumentAPI.html","title":"DynamoDB query get more than 1m of data - example in Java","body":"<p>It looks like you are using the <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/JavaDocumentAPIItemCRUD.html\" rel=\"nofollow\">DynamoDB Document API</a> and not the low level API.  When you are <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryingJavaDocumentAPI.html\" rel=\"nofollow\">querying</a> using the Document API all of the low level considerations such as paging are taken care for you, but you can optionally interact with these lower level aspects.</p>\n\n<p>Based on the code snippet you provided, the Document API library will take care of loading in additional pages when you reach the end of each page so there is nothing extra you need to do, your code should work!  This is the real benefit of using the Document API because it takes care of a lot of redundant boiler plate code for common use cases.</p>\n"}],"owner":{"account_id":1377092,"reputation":575,"user_id":1310898,"accept_rate":21,"display_name":"fredy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1996,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657520945,"creation_date":1455301826,"question_id":35369748,"body_markdown":"I&#39;m trying to run a query and get all items. it seems that not all items are retrieved and I need to run the query again with the start key.\r\n\r\nFrom the documentation \r\n\r\n&gt; For either a Query or Scan operation, DynamoDB might return a LastEvaluatedKey value if the operation did not return all matching items in the table. To get the full count of items that match, take the LastEvaluatedKey value from the previous request and use it as the ExclusiveStartKey value in the next request. Repeat this until DynamoDB no longer returns a LastEvaluatedKey value.\r\n\r\nCan you give a code example how to wrap this code to run the query again with the lastEvaluatedKey?\r\n\r\n    \t\tQuerySpec spec = new QuerySpec()\r\n\t    .withKeyConditionExpression(&quot;userName = :userName and #a between :startRange and :endRange&quot;)\r\n\t    .withValueMap(valueMap)\r\n\t    .withScanIndexForward(false)\r\n\t    .withNameMap(nameMap);\r\n    \t\t\r\n\t\tItemCollection&lt;QueryOutcome&gt; items = table.query(spec);\r\n\r\n\t\tIterator&lt;Item&gt; iterator = items.iterator();\r\n\t\twhile (iterator.hasNext()) { ....\r\n","title":"DynamoDB query get more than 1m of data - example in Java","body":"<p>I'm trying to run a query and get all items. it seems that not all items are retrieved and I need to run the query again with the start key.</p>\n<p>From the documentation</p>\n<blockquote>\n<p>For either a Query or Scan operation, DynamoDB might return a LastEvaluatedKey value if the operation did not return all matching items in the table. To get the full count of items that match, take the LastEvaluatedKey value from the previous request and use it as the ExclusiveStartKey value in the next request. Repeat this until DynamoDB no longer returns a LastEvaluatedKey value.</p>\n</blockquote>\n<p>Can you give a code example how to wrap this code to run the query again with the lastEvaluatedKey?</p>\n<pre><code>        QuerySpec spec = new QuerySpec()\n    .withKeyConditionExpression(&quot;userName = :userName and #a between :startRange and :endRange&quot;)\n    .withValueMap(valueMap)\n    .withScanIndexForward(false)\n    .withNameMap(nameMap);\n        \n    ItemCollection&lt;QueryOutcome&gt; items = table.query(spec);\n\n    Iterator&lt;Item&gt; iterator = items.iterator();\n    while (iterator.hasNext()) { ....\n</code></pre>\n"},{"tags":["java","logging","log4j"],"answers":[{"tags":[],"owner":{"account_id":237591,"reputation":26585,"user_id":505893,"accept_rate":83,"display_name":"bluish"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1657520403,"creation_date":1297174541,"answer_id":4934106,"question_id":4933707,"body_markdown":"From the least severe to the most one:\r\n\r\n    ALL &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL &lt; OFF\r\n\r\nIf you choose one of them log4j will generate all messages of that type and of more severe type.\r\n\r\nPurposes:\r\n\r\n - `ALL`: generates all messages*\r\n - `DEBUG`: debug messages\r\n - `INFO`: information that aren&#39;t problems\r\n - `WARN`: not error but something that could cause a future error\r\n - `ERROR`: something went wrong, a problem that the application manages, the application could be stopped or not, usually must be reported\r\n - `FATAL`: an error that crashes the application\r\n - `OFF`: generates no messages*\r\n\r\n\r\n(*) these are only keywords; for these categories there are no methods `all(msg)` and `off(msg)`, like we have `error(msg)` or `debug(msg)`.\r\n\r\nUsually\r\n * during development I set\r\n     * logging on file to `ALL` or `DEBUG`\r\n * when deployed I set\r\n     * logging on file to `INFO` or `WARN`\r\n     * logging via email to `ERROR`","title":"What does rootCategory in log4j.properties mean?","body":"<p>From the least severe to the most one:</p>\n<pre><code>ALL &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL &lt; OFF\n</code></pre>\n<p>If you choose one of them log4j will generate all messages of that type and of more severe type.</p>\n<p>Purposes:</p>\n<ul>\n<li><code>ALL</code>: generates all messages*</li>\n<li><code>DEBUG</code>: debug messages</li>\n<li><code>INFO</code>: information that aren't problems</li>\n<li><code>WARN</code>: not error but something that could cause a future error</li>\n<li><code>ERROR</code>: something went wrong, a problem that the application manages, the application could be stopped or not, usually must be reported</li>\n<li><code>FATAL</code>: an error that crashes the application</li>\n<li><code>OFF</code>: generates no messages*</li>\n</ul>\n<p>(*) these are only keywords; for these categories there are no methods <code>all(msg)</code> and <code>off(msg)</code>, like we have <code>error(msg)</code> or <code>debug(msg)</code>.</p>\n<p>Usually</p>\n<ul>\n<li>during development I set\n<ul>\n<li>logging on file to <code>ALL</code> or <code>DEBUG</code></li>\n</ul>\n</li>\n<li>when deployed I set\n<ul>\n<li>logging on file to <code>INFO</code> or <code>WARN</code></li>\n<li>logging via email to <code>ERROR</code></li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":235146,"reputation":11962,"user_id":501767,"accept_rate":80,"display_name":"Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20580,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":4934106,"answer_count":1,"score":11,"last_activity_date":1657520572,"creation_date":1297172272,"question_id":4933707,"body_markdown":"`log4j.rootCategory` field in log4j.properties can have 4 different values, namely: `DEBUG`, `WARN`, `INFO` and `ERROR`. \r\n\r\nCan you tell me which is most suitable for which cases?","title":"What does rootCategory in log4j.properties mean?","body":"<p><code>log4j.rootCategory</code> field in log4j.properties can have 4 different values, namely: <code>DEBUG</code>, <code>WARN</code>, <code>INFO</code> and <code>ERROR</code>.</p>\n<p>Can you tell me which is most suitable for which cases?</p>\n"},{"tags":["java","maven","jar"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1657232724,"post_id":72904798,"comment_id":128768920,"body_markdown":"You&#39;ll need to be more clear what you are trying to do, and include details, but have a [look at jpackage.](https://docs.oracle.com/en/java/javase/18/jpackage/packaging-overview.html)","body":"You&#39;ll need to be more clear what you are trying to do, and include details, but have a <a href=\"https://docs.oracle.com/en/java/javase/18/jpackage/packaging-overview.html\" rel=\"nofollow noreferrer\">look at jpackage.</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1657268590,"post_id":72904798,"comment_id":128775152,"body_markdown":"Have you tried to run the created jar via `java -jar ...`?","body":"Have you tried to run the created jar via <code>java -jar ...</code>?"},{"owner":{"account_id":22015192,"reputation":1,"user_id":16284811,"display_name":"Kustonm"},"score":0,"creation_date":1657275803,"post_id":72904798,"comment_id":128777626,"body_markdown":"Yes i did, but still needs to have the folder of &quot;scr&quot; in the same place as the .jar","body":"Yes i did, but still needs to have the folder of &quot;scr&quot; in the same place as the .jar"},{"owner":{"account_id":22015192,"reputation":1,"user_id":16284811,"display_name":"Kustonm"},"score":0,"creation_date":1657275894,"post_id":72904798,"comment_id":128777654,"body_markdown":"Okey to be more clear, i want o to create a uniq .jar that runs the program. I mean , I dont want the need to have the &quot;scr&quot; folder in the smae place, and the program to generete the extra folder i  another place or maybe inside the same &quot;.jar&quot;","body":"Okey to be more clear, i want o to create a uniq .jar that runs the program. I mean , I dont want the need to have the &quot;scr&quot; folder in the smae place, and the program to generete the extra folder i  another place or maybe inside the same &quot;.jar&quot;"}],"owner":{"account_id":22015192,"reputation":1,"user_id":16284811,"display_name":"Kustonm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657520192,"creation_date":1657232270,"question_id":72904798,"body_markdown":"I been working on a personal project,that makes a local db for the stock of a store, and I didnt be able to create a Maven runnable that dosent need to be with the &quot;scr&quot; folder \r\n\r\n![enter image description here][1] . \r\n\r\nIn addition I also wan to dont create extra folders. I leave there  pomp file with the pluging I use. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;Bets21&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Bets21&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.19.1&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;transformers&gt;\r\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                      &lt;manifestEntries&gt;\r\n                        &lt;Main-Class&gt;gui.ApplicationLauncher&lt;/Main-Class&gt;\r\n                        &lt;Build-Number&gt;123&lt;/Build-Number&gt;\r\n                      &lt;/manifestEntries&gt;\r\n                    &lt;/transformer&gt;\r\n                  &lt;/transformers&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/hAs95.png","title":"Java Maven Jar runnable without extra folders","body":"<p>I been working on a personal project,that makes a local db for the stock of a store, and I didnt be able to create a Maven runnable that dosent need to be with the &quot;scr&quot; folder</p>\n<p><img src=\"https://i.stack.imgur.com/hAs95.png\" alt=\"enter image description here\" /> .</p>\n<p>In addition I also wan to dont create extra folders. I leave there  pomp file with the pluging I use.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;Bets21&lt;/groupId&gt;\n&lt;artifactId&gt;Bets21&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n\n&lt;build&gt;\n&lt;plugins&gt;\n&lt;plugin&gt;\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n&lt;version&gt;2.19.1&lt;/version&gt;\n&lt;configuration&gt;\n&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n&lt;/configuration&gt;\n&lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;transformers&gt;\n                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                  &lt;manifestEntries&gt;\n                    &lt;Main-Class&gt;gui.ApplicationLauncher&lt;/Main-Class&gt;\n                    &lt;Build-Number&gt;123&lt;/Build-Number&gt;\n                  &lt;/manifestEntries&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;/project&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","dictionary","nested","hashmap"],"comments":[{"owner":{"account_id":2045726,"reputation":1580,"user_id":1825844,"display_name":"gvmani"},"score":0,"creation_date":1657519408,"post_id":72934200,"comment_id":128820053,"body_markdown":"if the nested map is already present in the first map, then this should suffice ```map1.get(object.getId).put(&quot;p1&quot;,object)```. You dont need to fiddle with the first map.","body":"if the nested map is already present in the first map, then this should suffice <code>map1.get(object.getId).put(&quot;p1&quot;,object)</code>. You dont need to fiddle with the first map."},{"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"score":0,"creation_date":1657520002,"post_id":72934200,"comment_id":128820186,"body_markdown":"What is `Obzect`? Can you provide more details about what exactly do you want to do?","body":"What is <code>Obzect</code>? Can you provide more details about what exactly do you want to do?"},{"owner":{"account_id":21624443,"reputation":11,"user_id":15948952,"display_name":"Ujjwal Kuikel"},"score":0,"creation_date":1657520100,"post_id":72934200,"comment_id":128820212,"body_markdown":"Obzect is object. Its actually an instance of a model. i dont know why if i write &lt;object&gt; it disappears. So i made a typo.","body":"Obzect is object. Its actually an instance of a model. i dont know why if i write &lt;object&gt; it disappears. So i made a typo."},{"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"score":0,"creation_date":1657521019,"post_id":72934200,"comment_id":128820454,"body_markdown":"May be `guava cache` is a better choice. You can provide more details about what do you want to do. `map1.get(object.getId).put(&quot;p1&quot;, object)` @UjjwalKuikel ?","body":"May be <code>guava cache</code> is a better choice. You can provide more details about what do you want to do. <code>map1.get(object.getId).put(&quot;p1&quot;, object)</code> @UjjwalKuikel ?"},{"owner":{"account_id":21624443,"reputation":11,"user_id":15948952,"display_name":"Ujjwal Kuikel"},"score":0,"creation_date":1657524677,"post_id":72934200,"comment_id":128821507,"body_markdown":"Hi, The issue has been solved. Thanks for the input anyway!","body":"Hi, The issue has been solved. Thanks for the input anyway!"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657519600,"creation_date":1657519600,"answer_id":72934322,"question_id":72934200,"body_markdown":"Try this.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\trecord Obzect(String getId) {}\r\n\t\tObzect object = new Obzect(&quot;id&quot;);\r\n\r\n\t\tHashMap&lt;String, HashMap&lt;String, Obzect&gt;&gt; map1= new HashMap&lt;&gt;();\r\n\t\tmap1.computeIfAbsent(object.getId, k -&gt; new HashMap&lt;&gt;()).put(&quot;p1&quot;, object);\r\n\r\n\t\tSystem.out.println(map1);\r\n    }\r\n\r\noutput:\r\n\r\n    {id={p1=Obzect[getId=id]}}\r\n","title":"How to insert in a nested hashmap?","body":"<p>Try this.</p>\n<pre><code>public static void main(String[] args) {\n    record Obzect(String getId) {}\n    Obzect object = new Obzect(&quot;id&quot;);\n\n    HashMap&lt;String, HashMap&lt;String, Obzect&gt;&gt; map1= new HashMap&lt;&gt;();\n    map1.computeIfAbsent(object.getId, k -&gt; new HashMap&lt;&gt;()).put(&quot;p1&quot;, object);\n\n    System.out.println(map1);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>{id={p1=Obzect[getId=id]}}\n</code></pre>\n"}],"owner":{"account_id":21624443,"reputation":11,"user_id":15948952,"display_name":"Ujjwal Kuikel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72934322,"answer_count":1,"score":-2,"last_activity_date":1657519600,"creation_date":1657518490,"question_id":72934200,"body_markdown":"I have a nested hashmap like\r\n```\r\nHashMap&lt;String,HashMap&lt;String,Obzect&gt;&gt; map1= new HashMap&lt;&gt;();\r\n```\r\nThe first map key will be `object.getId` and key of second map can be &quot;p1&quot;,&quot;p2&quot; or such based on some conditions.\r\nI am trying to insert into a hashmap without creating an instance for second map.\r\n\r\n```\r\nmap1.put(object.getId,map1.get(object.getId).put(&quot;p1&quot;,object));\r\n```\r\n\r\nI am getting error message\r\n```\r\nRequired Type: hashmap\r\nProvided Type: object\r\n```\r\n\r\nHow to correct this?\r\n\r\n\r\n\r\n","title":"How to insert in a nested hashmap?","body":"<p>I have a nested hashmap like</p>\n<pre><code>HashMap&lt;String,HashMap&lt;String,Obzect&gt;&gt; map1= new HashMap&lt;&gt;();\n</code></pre>\n<p>The first map key will be <code>object.getId</code> and key of second map can be &quot;p1&quot;,&quot;p2&quot; or such based on some conditions.\nI am trying to insert into a hashmap without creating an instance for second map.</p>\n<pre><code>map1.put(object.getId,map1.get(object.getId).put(&quot;p1&quot;,object));\n</code></pre>\n<p>I am getting error message</p>\n<pre><code>Required Type: hashmap\nProvided Type: object\n</code></pre>\n<p>How to correct this?</p>\n"},{"tags":["java","eclipse","selenium"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1496230248,"post_id":44279883,"comment_id":75573614,"body_markdown":"Can you consider providing the following info: 1. Selenium version? 2. IEDriverServer version? 3. IE version? 4. Error stack trace. Thanks","body":"Can you consider providing the following info: 1. Selenium version? 2. IEDriverServer version? 3. IE version? 4. Error stack trace. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":9611957,"reputation":1991,"user_id":7136025,"accept_rate":25,"display_name":"santhosh kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496235923,"creation_date":1496222911,"answer_id":44280879,"question_id":44279883,"body_markdown":"In Selenium there is no any hierarchy in windows. Parent and child windows are named so just for our convention. But from selenium&#39;s perspective everything is just an another Window.\r\n\r\nBelow code gives some idea,\r\n\r\n    //Get the current window address\r\n\tSet&lt;String&gt; parent = driver.getWindowHandle();\r\n\t\t\t\r\n\t//Get the all window addresses that are opened by selenium. This includes the parent window too\r\n\tSet&lt;String&gt; all = driver.getWindowHandles();\r\n\t\t\t\r\n\t\r\n    //Assume this is the element you need to interact and it is present in some window.\r\n\tString XPATH = &quot;.//&quot;;\r\n\t\r\n\t//Now iterate through all windows and search for the element you need to interact with.\r\n\tfor(String now:all)\r\n\t{\r\n\r\n\t\tdriver.switchTo().window(now);\r\n\t\tif(driver.findElements(By.xpath(XPATH)).size()&gt;0)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Element found in the window &quot;+now+ &quot; &quot;+driver.getTitle());\r\n\t\t\t//DO YOUR ACTUAL STUFF\r\n\t\t}\r\n\t}\r\n\r\nHope this helps you. Thanks.","title":"How to Handle great grand child windows in selenium webdriver","body":"<p>In Selenium there is no any hierarchy in windows. Parent and child windows are named so just for our convention. But from selenium's perspective everything is just an another Window.</p>\n\n<p>Below code gives some idea,</p>\n\n<pre><code>//Get the current window address\nSet&lt;String&gt; parent = driver.getWindowHandle();\n\n//Get the all window addresses that are opened by selenium. This includes the parent window too\nSet&lt;String&gt; all = driver.getWindowHandles();\n\n\n//Assume this is the element you need to interact and it is present in some window.\nString XPATH = \".//\";\n\n//Now iterate through all windows and search for the element you need to interact with.\nfor(String now:all)\n{\n\n    driver.switchTo().window(now);\n    if(driver.findElements(By.xpath(XPATH)).size()&gt;0)\n    {\n        System.out.println(\"Element found in the window \"+now+ \" \"+driver.getTitle());\n        //DO YOUR ACTUAL STUFF\n    }\n}\n</code></pre>\n\n<p>Hope this helps you. Thanks.</p>\n"},{"tags":[],"owner":{"account_id":25778362,"reputation":1,"user_id":19524321,"display_name":"deva rathod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657519380,"creation_date":1657519380,"answer_id":72934299,"question_id":44279883,"body_markdown":"\r\n        //parent window=1\r\n        driver.findElement(By.xpath(&quot;path&quot;)).click();\r\n\t\r\n\tString mainwinid = driver.getWindowHandle();\r\n\t\r\n        //parent+child window\r\n\tdriver.findElement(By.xpath(&quot;path&quot;)).click();\r\n\t\r\n\tSet&lt;String&gt; childparentwinid = driver.getWindowHandles();\r\n\tchildparentwinid.remove(mainwinid);\r\n        driver.switchTo().window((String)childparentwinid.toArray()[0]);\r\n\r\n         //parent + child + grand child\r\n\tdriver.findElement(By.xpath(&quot;path&quot;)).click();\r\n\r\n\tSet&lt;String&gt; AllIds = driver.getWindowHandles();\r\n\tSystem.out.println(AllIds);\r\n\r\n\tArrayList&lt;String&gt; al = new ArrayList&lt;String&gt;(AllIds);  \r\n\t String ChildWindowID = al.get(2);  \r\n\tdriver.switchTo().window(ChildWindowID);\r\n\t\r\n       //perform action on grand child window\r\n\tdriver.findElement(By.xpath(&quot;path&quot;)).click();\r\n\t\t\t \t","title":"How to Handle great grand child windows in selenium webdriver","body":"<pre><code>    //parent window=1\n    driver.findElement(By.xpath(&quot;path&quot;)).click();\n\nString mainwinid = driver.getWindowHandle();\n\n    //parent+child window\ndriver.findElement(By.xpath(&quot;path&quot;)).click();\n\nSet&lt;String&gt; childparentwinid = driver.getWindowHandles();\nchildparentwinid.remove(mainwinid);\n    driver.switchTo().window((String)childparentwinid.toArray()[0]);\n\n     //parent + child + grand child\ndriver.findElement(By.xpath(&quot;path&quot;)).click();\n\nSet&lt;String&gt; AllIds = driver.getWindowHandles();\nSystem.out.println(AllIds);\n\nArrayList&lt;String&gt; al = new ArrayList&lt;String&gt;(AllIds);  \n String ChildWindowID = al.get(2);  \ndriver.switchTo().window(ChildWindowID);\n\n   //perform action on grand child window\ndriver.findElement(By.xpath(&quot;path&quot;)).click();\n            \n</code></pre>\n"}],"owner":{"account_id":11014497,"reputation":1,"user_id":8090756,"display_name":"Nishant Omar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657519380,"creation_date":1496220284,"question_id":44279883,"body_markdown":"In my application, I am handling great grand child windows. Windows are coming in recursive manner like window A-&gt; click on A -&gt; window B opens -&gt; click on B -&gt; window C opens -&gt; click on C window -&gt; window D opens.\r\nSo I am storing windows in List and using if, else if conditions so that insertion can be maintained but while executing code some time it is switching to all windows and sometimes it is not switching to great grand child window. My code is mention as below.\r\n\r\n\r\n\r\n    public class DDE_finnone {\r\n\r\n\t\r\n\tWebDriver driver;\r\n\tWebDriverWait wait;\r\n\tString app_id= &quot;1894562&quot;;\r\n\t\r\n\t@BeforeTest\r\n\tpublic void setupapplication(){\r\n\t\t\r\n\t\tFile filepath = new File(&quot;C:\\\\Automation_Softwares\\\\IEDriverServer\\\\IEDriverServer.exe&quot;);\r\n\r\n\t\tSystem.setProperty(&quot;webdriver.ie.driver&quot;, filepath.getAbsolutePath());\r\n\r\n\t\tdriver = new InternetExplorerDriver();\r\n\r\n\t\tjava.util.ResourceBundle.clearCache();\r\n\r\n\t\twait = new WebDriverWait(driver, 20);\r\n\r\n\t\tdriver.get(&quot;http://retail.herofincorp.com:7031/finnsso/gateway/SSOGateway?requestID=7000002&quot;);\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void DDE() throws Throwable{\r\n\t\r\n\t\tdriver.manage().timeouts().implicitlyWait(100, TimeUnit.SECONDS);\r\n\r\n\t\t/*---------------------------------- CAS MAIN SCREEN ------------------------*/\r\n\r\n\t\tList&lt;String&gt; browsertabs = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n\r\n\t\tSystem.out.println(browsertabs);\r\n\r\n\t\tdriver.switchTo().window(browsertabs.get(0));\r\n\r\n\t\tdriver.findElement(By.name(&quot;TxtUID&quot;)).sendKeys(&quot;testname&quot;);\r\n\r\n\t\tdriver.findElement(By.name(&quot;TxtPWD&quot;)).sendKeys(&quot;Testpwd&quot;);\r\n\r\n\t\tdriver.findElement(By.name(&quot;DataAction&quot;)).click();\r\n\r\n\t\t// Screenshotpath = fn_screenshot(Screenshotpath);\r\n\r\n\t\ttry {\r\n\r\n\t\t\tif (wait.until(ExpectedConditions.alertIsPresent()) != null) {\r\n\r\n\t\t\t\tString alertmessage = driver.switchTo().alert().getText();\r\n\r\n\t\t\t\tSystem.out.println(alertmessage);\r\n\r\n\t\t\t}\r\n\t\t} catch (NoAlertPresentException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\t// Screenshotpath = fn_screenshot(Screenshotpath);\r\n\r\n\t\tdriver.switchTo().alert().accept();\r\n\r\n\t\tdriver.findElement(By.name(&quot;btnCAS&quot;)).click();\r\n\r\n\t\tdriver.switchTo().window(browsertabs.get(0));\r\n\r\n\t\t/*-------------------------- Retail Screen ----------------------*/\r\n\r\n\t\tList&lt;String&gt; FinnoneCAS1 = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n\r\n\t\tCollections.sort(FinnoneCAS1);\r\n\r\n\t\tSystem.out.println(FinnoneCAS1);\r\n\r\n\t\tdriver.switchTo().window(FinnoneCAS1.get(0));\r\n\r\n\t\tString title5 = driver.getTitle();\r\n\r\n\t\tSystem.out.println(title5);\r\n\r\n\t\tif (driver.getTitle().equalsIgnoreCase(&quot;Finnone SSO&quot;)) {\r\n\r\n\t\t\tdriver.switchTo().window(FinnoneCAS1.get(1));\r\n\r\n\t\t\tSystem.out.println(driver.getTitle());\r\n\t\t}\r\n\r\n\t\twait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;frameForwardToApp&quot;));\r\n\r\n\t\twait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;banner&quot;));\r\n\t\t\r\n\t\tWebElement areasection = driver.findElement(By.id(&quot;selBranch&quot;));\r\n\r\n\t\tareasection.clear();\r\n\r\n\t\tThread.sleep(1000);\r\n\r\n\t\tareasection.sendKeys(&quot;delhi&quot;);\r\n\r\n\t//\tThread.sleep(2000);\r\n\r\n\t\tareasection.sendKeys(Keys.TAB);\r\n\r\n\t\tThread.sleep(3000);\r\n\t\t\r\n\t// \tScreenshotpath = fn_screenshot(Screenshotpath);\r\n\r\n\t\tdriver.switchTo().parentFrame();\r\n\r\n\t\tdriver.switchTo().frame(&quot;contents&quot;);\r\n\r\n\t\tActions move_AutoLoan1 = new Actions(driver);\r\n\r\n\t\tWebElement Auto_loan1 = driver.findElement(By.linkText(&quot;Auto Loan&quot;));\r\n\r\n\t\tmove_AutoLoan1.moveToElement(Auto_loan1).build().perform();\r\n\t\t\r\n\t\tWebElement DDEsearch = driver.findElement(By.linkText(&quot;Detail Data Entry&quot;));\r\n\t\t\r\n\t\twait.until(ExpectedConditions.visibilityOf(DDEsearch));\t\t\r\n\r\n\t//\tWebElement allsearch = driver.findElement(By.linkText(&quot;All&quot;));\r\n\r\n\t//\twait.until(ExpectedConditions.visibilityOf(allsearch));\r\n\r\n\t\tDDEsearch.click();\r\n\t\t\r\n\t\twait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;main&quot;));\r\n\r\n\t\tWebElement searchappId = driver.findElement(By.id(&quot;txtApplication&quot;));\r\n\r\n\t\twait.until(ExpectedConditions.visibilityOf(searchappId));\r\n\r\n\t\t// Excel should start\r\n\r\n\t\tsearchappId.sendKeys(app_id);\r\n\r\n\t//\tScreenshotpath = fn_screenshot(Screenshotpath);\r\n\r\n\t\tThread.sleep(1000);\r\n\r\n\t\tWebElement searchbtn = driver.findElement(By.name(&quot;btnSearch&quot;));\r\n\r\n\t\twait.until(ExpectedConditions.visibilityOf(searchbtn));\r\n\r\n\t\tsearchbtn.click();\r\n\r\n\t\tWebElement linkappid = driver.findElement(By.xpath(&quot;//table[@class=&#39;TABLEATTRIBUTES&#39;]/tbody/tr[2]/td[1]/a&quot;));\r\n\r\n\t\twait.until(ExpectedConditions.visibilityOf(linkappid));\r\n\r\n\t\tlinkappid.click();\r\n\r\n\t\tdriver.switchTo().window(FinnoneCAS1.get(0));\t\r\n\t\t\r\n\t\tSystem.out.println(driver.getTitle());\r\n\t\r\n\t\t\r\n\t\t/*-------------- DDE ------------------------------------*/\r\n\r\n\t\tList&lt;String&gt; DDEscreen = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n\r\n\t\tCollections.sort(DDEscreen);\r\n\r\n\t\tSystem.out.println(DDEscreen);\r\n\r\n\t\tdriver.switchTo().window(DDEscreen.get(2));\r\n\r\n\t\tSystem.out.println(DDEscreen.get(2));\r\n\r\n\t\tString title2 = driver.getTitle();\r\n\r\n\t\tSystem.out.println(title2);\r\n\r\n\t\tif (title2.equalsIgnoreCase(&quot;Finnone SSO&quot;)) {\r\n\r\n\t\t\tdriver.switchTo().window(DDEscreen.get(1));\r\n\r\n\t\t\tSystem.out.println(driver.getTitle());\r\n\t\t\t\r\n\t\t} else if (driver.getTitle().equalsIgnoreCase(&quot;Finnone CAS&quot;)) {\r\n\r\n\t\t\tdriver.switchTo().window(DDEscreen.get(0));\r\n\r\n\t\t\tSystem.out.println(driver.getTitle());\r\n\t\t}\r\n\r\n\t\tWebElement demographic = driver.findElement(By.id(&quot;apy_b0i2text&quot;));\r\n\r\n\t\twait.until(ExpectedConditions.visibilityOf(demographic));\r\n\t\t\r\n\t\tdemographic.click();\r\n\r\n\t\tWebElement customername = driver.findElement(By.xpath(&quot;//table[@class=&#39;TABLEATTRIBUTES&#39;]/tbody/tr[2]/td[1]/a&quot;));\r\n\r\n\t\twait.until(ExpectedConditions.visibilityOf(customername));\r\n\r\n\t\tcustomername.click();\r\n\r\n\t\tWebElement personaltab = driver.findElement(By.id(&quot;apy_b1i1font&quot;));\r\n\r\n\t\twait.until(ExpectedConditions.visibilityOf(personaltab));\r\n\r\n\t\tSystem.out.println(personaltab.getText());\r\n\r\n\t\tWebElement qualification = driver.findElement(By.id(&quot;selEduQualification&quot;));\r\n\r\n\t\twait.until(ExpectedConditions.visibilityOf(qualification));\r\n\r\n\t\tqualification.sendKeys(&quot;Graduate&quot;);\r\n\r\n\t\tqualification.sendKeys(Keys.TAB);\r\n\r\n\t\t/*------------ Education window ------------*/\r\n\t\t\r\n\t\tList&lt;String&gt; educationwindow = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n\r\n\t\tCollections.sort(educationwindow);\r\n\r\n\t\tSystem.out.println(educationwindow);\r\n\r\n\t\tdriver.switchTo().window(educationwindow.get(3));\r\n\r\n\t\tString title6 = driver.getTitle();\r\n\r\n\t\tSystem.out.println(title6);\r\n\r\n\t\tif (title6.equalsIgnoreCase(&quot;1894562-----NISHANT&#160;&#160;OMAR&quot;)) {\r\n\r\n\t\t\tdriver.switchTo().window(educationwindow.get(0));\r\n\r\n\t\t\tSystem.out.println(driver.getTitle());\r\n\t\t\t\r\n\t\t} else if (driver.getTitle().equalsIgnoreCase(&quot;Finnone SSO&quot;)) {\r\n\r\n\t\t\tdriver.switchTo().window(educationwindow.get(1));\r\n\r\n\t\t\tSystem.out.println(driver.getTitle());\r\n\t\t\t\r\n\t\t} else if (driver.getTitle().equalsIgnoreCase(&quot;Finnone CAS&quot;)) {\r\n\r\n\t\t\tdriver.switchTo().window(educationwindow.get(2));\r\n\r\n\t\t\tSystem.out.println(driver.getTitle());\r\n\t\t}\r\n\r\n\t\tWebElement searchcriteriaGo = driver.findElement(By.name(&quot;B1&quot;));\r\n\r\n\t\twait.until(ExpectedConditions.visibilityOf(searchcriteriaGo));\r\n\r\n\t\tsearchcriteriaGo.click();\r\n\t\t\r\n\t\tdriver.switchTo().window(educationwindow.get(0));\r\n\r\n\t\t/*-----------------Return from Education Window  -----------------------*/\r\n\r\n\t\tList&lt;String&gt; returneducationdetails = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n\r\n\t\tCollections.sort(returneducationdetails);\r\n\r\n\t\tSystem.out.println(returneducationdetails);\r\n\r\n\t\tdriver.switchTo().window(returneducationdetails.get(2));\r\n\r\n\t\tSystem.out.println(returneducationdetails.get(2));\r\n\r\n\t\tString title21 = driver.getTitle();\r\n\r\n\t\tSystem.out.println(title21);\r\n\r\n\t\tif (title21.equalsIgnoreCase(&quot;Finnone CAS&quot;)) {\r\n\r\n\t\t\tdriver.switchTo().window(returneducationdetails.get(0));\r\n\r\n\t\t\tSystem.out.println(driver.getTitle());\r\n\t\t\t\r\n\t\t} else if (driver.getTitle().equalsIgnoreCase(&quot;Finnone SSO&quot;)) {\r\n\r\n\t\t\tdriver.switchTo().window(returneducationdetails.get(1));\r\n\r\n\t\t\tSystem.out.println(driver.getTitle());\r\n\t\t}\r\n\t\t\r\n    }\r\n\r\n","title":"How to Handle great grand child windows in selenium webdriver","body":"<p>In my application, I am handling great grand child windows. Windows are coming in recursive manner like window A-> click on A -> window B opens -> click on B -> window C opens -> click on C window -> window D opens.\nSo I am storing windows in List and using if, else if conditions so that insertion can be maintained but while executing code some time it is switching to all windows and sometimes it is not switching to great grand child window. My code is mention as below.</p>\n\n<pre><code>public class DDE_finnone {\n\n\nWebDriver driver;\nWebDriverWait wait;\nString app_id= \"1894562\";\n\n@BeforeTest\npublic void setupapplication(){\n\n    File filepath = new File(\"C:\\\\Automation_Softwares\\\\IEDriverServer\\\\IEDriverServer.exe\");\n\n    System.setProperty(\"webdriver.ie.driver\", filepath.getAbsolutePath());\n\n    driver = new InternetExplorerDriver();\n\n    java.util.ResourceBundle.clearCache();\n\n    wait = new WebDriverWait(driver, 20);\n\n    driver.get(\"http://retail.herofincorp.com:7031/finnsso/gateway/SSOGateway?requestID=7000002\");\n}\n\n@Test\npublic void DDE() throws Throwable{\n\n    driver.manage().timeouts().implicitlyWait(100, TimeUnit.SECONDS);\n\n    /*---------------------------------- CAS MAIN SCREEN ------------------------*/\n\n    List&lt;String&gt; browsertabs = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n\n    System.out.println(browsertabs);\n\n    driver.switchTo().window(browsertabs.get(0));\n\n    driver.findElement(By.name(\"TxtUID\")).sendKeys(\"testname\");\n\n    driver.findElement(By.name(\"TxtPWD\")).sendKeys(\"Testpwd\");\n\n    driver.findElement(By.name(\"DataAction\")).click();\n\n    // Screenshotpath = fn_screenshot(Screenshotpath);\n\n    try {\n\n        if (wait.until(ExpectedConditions.alertIsPresent()) != null) {\n\n            String alertmessage = driver.switchTo().alert().getText();\n\n            System.out.println(alertmessage);\n\n        }\n    } catch (NoAlertPresentException e) {\n        e.printStackTrace();\n    }\n\n    // Screenshotpath = fn_screenshot(Screenshotpath);\n\n    driver.switchTo().alert().accept();\n\n    driver.findElement(By.name(\"btnCAS\")).click();\n\n    driver.switchTo().window(browsertabs.get(0));\n\n    /*-------------------------- Retail Screen ----------------------*/\n\n    List&lt;String&gt; FinnoneCAS1 = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n\n    Collections.sort(FinnoneCAS1);\n\n    System.out.println(FinnoneCAS1);\n\n    driver.switchTo().window(FinnoneCAS1.get(0));\n\n    String title5 = driver.getTitle();\n\n    System.out.println(title5);\n\n    if (driver.getTitle().equalsIgnoreCase(\"Finnone SSO\")) {\n\n        driver.switchTo().window(FinnoneCAS1.get(1));\n\n        System.out.println(driver.getTitle());\n    }\n\n    wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(\"frameForwardToApp\"));\n\n    wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(\"banner\"));\n\n    WebElement areasection = driver.findElement(By.id(\"selBranch\"));\n\n    areasection.clear();\n\n    Thread.sleep(1000);\n\n    areasection.sendKeys(\"delhi\");\n\n//  Thread.sleep(2000);\n\n    areasection.sendKeys(Keys.TAB);\n\n    Thread.sleep(3000);\n\n//  Screenshotpath = fn_screenshot(Screenshotpath);\n\n    driver.switchTo().parentFrame();\n\n    driver.switchTo().frame(\"contents\");\n\n    Actions move_AutoLoan1 = new Actions(driver);\n\n    WebElement Auto_loan1 = driver.findElement(By.linkText(\"Auto Loan\"));\n\n    move_AutoLoan1.moveToElement(Auto_loan1).build().perform();\n\n    WebElement DDEsearch = driver.findElement(By.linkText(\"Detail Data Entry\"));\n\n    wait.until(ExpectedConditions.visibilityOf(DDEsearch));     \n\n//  WebElement allsearch = driver.findElement(By.linkText(\"All\"));\n\n//  wait.until(ExpectedConditions.visibilityOf(allsearch));\n\n    DDEsearch.click();\n\n    wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(\"main\"));\n\n    WebElement searchappId = driver.findElement(By.id(\"txtApplication\"));\n\n    wait.until(ExpectedConditions.visibilityOf(searchappId));\n\n    // Excel should start\n\n    searchappId.sendKeys(app_id);\n\n//  Screenshotpath = fn_screenshot(Screenshotpath);\n\n    Thread.sleep(1000);\n\n    WebElement searchbtn = driver.findElement(By.name(\"btnSearch\"));\n\n    wait.until(ExpectedConditions.visibilityOf(searchbtn));\n\n    searchbtn.click();\n\n    WebElement linkappid = driver.findElement(By.xpath(\"//table[@class='TABLEATTRIBUTES']/tbody/tr[2]/td[1]/a\"));\n\n    wait.until(ExpectedConditions.visibilityOf(linkappid));\n\n    linkappid.click();\n\n    driver.switchTo().window(FinnoneCAS1.get(0));   \n\n    System.out.println(driver.getTitle());\n\n\n    /*-------------- DDE ------------------------------------*/\n\n    List&lt;String&gt; DDEscreen = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n\n    Collections.sort(DDEscreen);\n\n    System.out.println(DDEscreen);\n\n    driver.switchTo().window(DDEscreen.get(2));\n\n    System.out.println(DDEscreen.get(2));\n\n    String title2 = driver.getTitle();\n\n    System.out.println(title2);\n\n    if (title2.equalsIgnoreCase(\"Finnone SSO\")) {\n\n        driver.switchTo().window(DDEscreen.get(1));\n\n        System.out.println(driver.getTitle());\n\n    } else if (driver.getTitle().equalsIgnoreCase(\"Finnone CAS\")) {\n\n        driver.switchTo().window(DDEscreen.get(0));\n\n        System.out.println(driver.getTitle());\n    }\n\n    WebElement demographic = driver.findElement(By.id(\"apy_b0i2text\"));\n\n    wait.until(ExpectedConditions.visibilityOf(demographic));\n\n    demographic.click();\n\n    WebElement customername = driver.findElement(By.xpath(\"//table[@class='TABLEATTRIBUTES']/tbody/tr[2]/td[1]/a\"));\n\n    wait.until(ExpectedConditions.visibilityOf(customername));\n\n    customername.click();\n\n    WebElement personaltab = driver.findElement(By.id(\"apy_b1i1font\"));\n\n    wait.until(ExpectedConditions.visibilityOf(personaltab));\n\n    System.out.println(personaltab.getText());\n\n    WebElement qualification = driver.findElement(By.id(\"selEduQualification\"));\n\n    wait.until(ExpectedConditions.visibilityOf(qualification));\n\n    qualification.sendKeys(\"Graduate\");\n\n    qualification.sendKeys(Keys.TAB);\n\n    /*------------ Education window ------------*/\n\n    List&lt;String&gt; educationwindow = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n\n    Collections.sort(educationwindow);\n\n    System.out.println(educationwindow);\n\n    driver.switchTo().window(educationwindow.get(3));\n\n    String title6 = driver.getTitle();\n\n    System.out.println(title6);\n\n    if (title6.equalsIgnoreCase(\"1894562-----NISHANT  OMAR\")) {\n\n        driver.switchTo().window(educationwindow.get(0));\n\n        System.out.println(driver.getTitle());\n\n    } else if (driver.getTitle().equalsIgnoreCase(\"Finnone SSO\")) {\n\n        driver.switchTo().window(educationwindow.get(1));\n\n        System.out.println(driver.getTitle());\n\n    } else if (driver.getTitle().equalsIgnoreCase(\"Finnone CAS\")) {\n\n        driver.switchTo().window(educationwindow.get(2));\n\n        System.out.println(driver.getTitle());\n    }\n\n    WebElement searchcriteriaGo = driver.findElement(By.name(\"B1\"));\n\n    wait.until(ExpectedConditions.visibilityOf(searchcriteriaGo));\n\n    searchcriteriaGo.click();\n\n    driver.switchTo().window(educationwindow.get(0));\n\n    /*-----------------Return from Education Window  -----------------------*/\n\n    List&lt;String&gt; returneducationdetails = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n\n    Collections.sort(returneducationdetails);\n\n    System.out.println(returneducationdetails);\n\n    driver.switchTo().window(returneducationdetails.get(2));\n\n    System.out.println(returneducationdetails.get(2));\n\n    String title21 = driver.getTitle();\n\n    System.out.println(title21);\n\n    if (title21.equalsIgnoreCase(\"Finnone CAS\")) {\n\n        driver.switchTo().window(returneducationdetails.get(0));\n\n        System.out.println(driver.getTitle());\n\n    } else if (driver.getTitle().equalsIgnoreCase(\"Finnone SSO\")) {\n\n        driver.switchTo().window(returneducationdetails.get(1));\n\n        System.out.println(driver.getTitle());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","post","caching","idempotent"],"comments":[{"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"score":0,"creation_date":1673954260,"post_id":72898423,"comment_id":132606935,"body_markdown":"Did you implement for idempotency?","body":"Did you implement for idempotency?"}],"owner":{"account_id":4230562,"reputation":63,"user_id":3462941,"display_name":"user3462941"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1090,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1657519000,"creation_date":1657199412,"question_id":72898423,"body_markdown":"I want to implement idempotency-key for POST method in springboot.\r\n\r\neg: http://localhost:8020/project/createStudent\r\n\r\nAbove is my POST method invocation. I will pass student details in body along with idempotency-key in header.\r\n \r\nWhat I want to achieve is that when the request is sent, then  the idempotency-key and api response must be stored in a key cache only on successful creation of record. On subsequent POST requests made with same data, the cache should be verified against the idempotency-key for duplicates. And if the key is found then just send Conflict(409) response. \r\nI know how to send an idempotency key in header and I also know that we could use @Cacheable in springboot to cache the response. But, I haven&#39;t found a solution to below\r\n1. How to implement @Cachable to store the cache based on idempotency key sent from client. (Every distinct record will have a new idempotency-key)\r\n2. How to verify if a response object/record is present in cache by passing an idempotency-key.  \r\n\r\n\r\nThere are many solution on the internet but they don&#39;t talk about saving and retrieving cache based on idempotency-key. They just ask to define a method with @Cacheable and rest will happen automatically. ","title":"Implementing Idempotency-key for a POST method in Springboot","body":"<p>I want to implement idempotency-key for POST method in springboot.</p>\n<p>eg: http://localhost:8020/project/createStudent</p>\n<p>Above is my POST method invocation. I will pass student details in body along with idempotency-key in header.</p>\n<p>What I want to achieve is that when the request is sent, then  the idempotency-key and api response must be stored in a key cache only on successful creation of record. On subsequent POST requests made with same data, the cache should be verified against the idempotency-key for duplicates. And if the key is found then just send Conflict(409) response.\nI know how to send an idempotency key in header and I also know that we could use @Cacheable in springboot to cache the response. But, I haven't found a solution to below</p>\n<ol>\n<li>How to implement @Cachable to store the cache based on idempotency key sent from client. (Every distinct record will have a new idempotency-key)</li>\n<li>How to verify if a response object/record is present in cache by passing an idempotency-key.</li>\n</ol>\n<p>There are many solution on the internet but they don't talk about saving and retrieving cache based on idempotency-key. They just ask to define a method with @Cacheable and rest will happen automatically.</p>\n"},{"tags":["java","reflections"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1657482681,"post_id":72931440,"comment_id":128814960,"body_markdown":"Why don&#39;t you just make `ConsoleController` and `HttpController` extend `Controller`, instead of trying to have multiple levels of annotation?","body":"Why don&#39;t you just make <code>ConsoleController</code> and <code>HttpController</code> extend <code>Controller</code>, instead of trying to have multiple levels of annotation?"},{"owner":{"account_id":22448117,"reputation":1,"user_id":16651743,"display_name":"DanielDeboeverie"},"score":0,"creation_date":1657483259,"post_id":72931440,"comment_id":128815087,"body_markdown":"Because, as far as I know, annotations can not have extends. If I&#39;m mistaken with this, please do enlighten me. Another reason is that the task I&#39;ve been given is to make a Spring boot clone and Spring uses this method (though it is possible they search for each separatly)","body":"Because, as far as I know, annotations can not have extends. If I&#39;m mistaken with this, please do enlighten me. Another reason is that the task I&#39;ve been given is to make a Spring boot clone and Spring uses this method (though it is possible they search for each separatly)"},{"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"score":0,"creation_date":1657484369,"post_id":72931440,"comment_id":128815284,"body_markdown":"could you please extend your question to outline more details about what you&#39;re looking for... You say &quot;but I&#39;d love to just be able to add a new Controller annotation with only needing to annotate that annotation with @Controller.&quot; maybe if you could give us a code example of what that looks like as Im not entirely sure what you mean.","body":"could you please extend your question to outline more details about what you&#39;re looking for... You say &quot;but I&#39;d love to just be able to add a new Controller annotation with only needing to annotate that annotation with @Controller.&quot; maybe if you could give us a code example of what that looks like as Im not entirely sure what you mean."},{"owner":{"account_id":22448117,"reputation":1,"user_id":16651743,"display_name":"DanielDeboeverie"},"score":0,"creation_date":1657486748,"post_id":72931440,"comment_id":128815740,"body_markdown":"Changed the code to better exlain the issue.","body":"Changed the code to better exlain the issue."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1657490278,"post_id":72931440,"comment_id":128816228,"body_markdown":"Sorry, I didn&#39;t realise it wasn&#39;t possible to extend annotations.  You might want to have a look at [this answer](https://stackoverflow.com/a/18585833) which seems to do something like what you&#39;re looking for.  I&#39;m not sure if it meets your needs or not.","body":"Sorry, I didn&#39;t realise it wasn&#39;t possible to extend annotations.  You might want to have a look at <a href=\"https://stackoverflow.com/a/18585833\">this answer</a> which seems to do something like what you&#39;re looking for.  I&#39;m not sure if it meets your needs or not."}],"owner":{"account_id":22448117,"reputation":1,"user_id":16651743,"display_name":"DanielDeboeverie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657518648,"creation_date":1657482544,"question_id":72931440,"body_markdown":"I&#39;m trying to get multiple levels of annotation in one go. I find it kind of hard to explain in words, so let&#39;s consider the following example.\r\n\r\n```\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Controller\r\npublic @interface HttpController {\r\n}\r\n\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Controller\r\npublic @interface ConsoleController {\r\n}\r\n\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface Controller {\r\n}\r\n\r\n@Controller\r\npublic class TestOne {\r\n}\r\n\r\n@HttpController\r\npublic class TestTwo {\r\n}\r\n\r\n@ConsoleController\r\npublic class TestThree {\r\n}\r\n\r\npublic class demo {\r\n  public static void main(String[] args) {\r\n    Reflections reflections = new Reflections(\r\n       new ConfigurationBuilder()\r\n          .setUrls(\r\n                ClasspathHelper.forPackage(\r\n                Demo.class.getPackageName()))\r\n          .setScanners(new SubTypesScanner(false),\r\n                new TypeAnnotationsScanner())\r\n          .filterInputsBy(it -&gt;\r\n                it.startsWith(Demo.class.getPackageName())));\r\n\r\n    reflections.getTypesAnnotatedWith(Controller.class).forEach(class -&gt; \r\n      System.out.print(class.getSimpleName() + &quot; &quot;)\r\n    )\r\n  }\r\n}\r\n```\r\nIf you have the above class and run in the `Demo` class, you would get `TestOne` as output. I&#39;m trying to find a way to get `TestOne TestTwo TestThree` as output in this situation. If I were to then add the following code, I&#39;d have to change nothing to my Reflection code for it to work.\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Controller\r\n    public @interface AnotherController{\r\n    }\r\n\r\n    @AnotherController\r\n      public class TestFour{\r\n    }","title":"How do you get Java reflections to look for multiple levels of annotation","body":"<p>I'm trying to get multiple levels of annotation in one go. I find it kind of hard to explain in words, so let's consider the following example.</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Controller\npublic @interface HttpController {\n}\n\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Controller\npublic @interface ConsoleController {\n}\n\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Controller {\n}\n\n@Controller\npublic class TestOne {\n}\n\n@HttpController\npublic class TestTwo {\n}\n\n@ConsoleController\npublic class TestThree {\n}\n\npublic class demo {\n  public static void main(String[] args) {\n    Reflections reflections = new Reflections(\n       new ConfigurationBuilder()\n          .setUrls(\n                ClasspathHelper.forPackage(\n                Demo.class.getPackageName()))\n          .setScanners(new SubTypesScanner(false),\n                new TypeAnnotationsScanner())\n          .filterInputsBy(it -&gt;\n                it.startsWith(Demo.class.getPackageName())));\n\n    reflections.getTypesAnnotatedWith(Controller.class).forEach(class -&gt; \n      System.out.print(class.getSimpleName() + &quot; &quot;)\n    )\n  }\n}\n</code></pre>\n<p>If you have the above class and run in the <code>Demo</code> class, you would get <code>TestOne</code> as output. I'm trying to find a way to get <code>TestOne TestTwo TestThree</code> as output in this situation. If I were to then add the following code, I'd have to change nothing to my Reflection code for it to work.</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Controller\npublic @interface AnotherController{\n}\n\n@AnotherController\n  public class TestFour{\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3597514,"reputation":117144,"user_id":3001761,"display_name":"jonrsharpe"},"score":0,"creation_date":1657475869,"post_id":72930682,"comment_id":128813647,"body_markdown":"They&#39;re the same values, but using scientific/engineering notation.","body":"They&#39;re the same values, but using scientific/engineering notation."},{"owner":{"account_id":18513606,"reputation":620,"user_id":13776286,"display_name":"Colton Walker"},"score":0,"creation_date":1657475930,"post_id":72930682,"comment_id":128813657,"body_markdown":"@jonrsharpe yes i know that, but unfortunately, the output was considered as wrong","body":"@jonrsharpe yes i know that, but unfortunately, the output was considered as wrong"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1657477024,"post_id":72930682,"comment_id":128813845,"body_markdown":"What is the point of creating a `PrintWriter` for `System.out` that is already a `PrintWriter`? Why didn&#39;t you just use `System.out.println(&quot;foo&quot;);`?","body":"What is the point of creating a <code>PrintWriter</code> for <code>System.out</code> that is already a <code>PrintWriter</code>? Why didn&#39;t you just use <code>System.out.println(&quot;foo&quot;);</code>?"},{"owner":{"account_id":18513606,"reputation":620,"user_id":13776286,"display_name":"Colton Walker"},"score":0,"creation_date":1657477527,"post_id":72930682,"comment_id":128813946,"body_markdown":"@cyberbrain i believe this has nothing to do with the main question.","body":"@cyberbrain i believe this has nothing to do with the main question."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1657479615,"post_id":72930682,"comment_id":128814343,"body_markdown":"That is just the natural &quot;toString&quot; of doubles. Java considers this easier to read and uses it as the default. You can disable that if you really dont want it. Instead of just printing out the double, you would basically use `printf` with the appropriate specifiers, or `DecimalFormatter`. The linked duplicate shows you how to do that, so you get the &quot;expected output&quot; instead.","body":"That is just the natural &quot;toString&quot; of doubles. Java considers this easier to read and uses it as the default. You can disable that if you really dont want it. Instead of just printing out the double, you would basically use <code>printf</code> with the appropriate specifiers, or <code>DecimalFormatter</code>. The linked duplicate shows you how to do that, so you get the &quot;expected output&quot; instead."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1657479747,"post_id":72930682,"comment_id":128814375,"body_markdown":"You are right, the PrintWriter thing does not cause your issue. But @cyberbrain mentioned it, because it is a flaw in your code and you should change it regardless.","body":"You are right, the PrintWriter thing does not cause your issue. But @cyberbrain mentioned it, because it is a flaw in your code and you should change it regardless."}],"answers":[{"tags":[],"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1657476249,"creation_date":1657475937,"answer_id":72930710,"question_id":72930682,"body_markdown":"`Math.pow` won&#39;t guarantee 100% accuracy on large integer values beyond some threshold (see [this question](https://stackoverflow.com/questions/3793838/which-is-the-first-integer-that-an-ieee-754-float-is-incapable-of-representing-e) for details) because floats and doubles cannot accurately represent all integers supported by the `long` type. Therefore, I would recommend you to use a `BigInteger`, which also has a `pow` function and will give you correctly formatted results out of the box.","title":"Math.pow() returns [float]E[int]","body":"<p><code>Math.pow</code> won't guarantee 100% accuracy on large integer values beyond some threshold (see <a href=\"https://stackoverflow.com/questions/3793838/which-is-the-first-integer-that-an-ieee-754-float-is-incapable-of-representing-e\">this question</a> for details) because floats and doubles cannot accurately represent all integers supported by the <code>long</code> type. Therefore, I would recommend you to use a <code>BigInteger</code>, which also has a <code>pow</code> function and will give you correctly formatted results out of the box.</p>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657518646,"creation_date":1657476943,"answer_id":72930814,"question_id":72930682,"body_markdown":"The method you use has the following signature: `static double pow(double a, double b)`. This means, the parameters will automatically be cast to `double` and it&#39;s return value is also a `double`.\r\n\r\nThere is no overload for a `long` return value so you will either have to cast the result manually to `long` with this: `n - (long)Math.pow(10, l-1)`.\r\n\r\nEdit: or use another solution like the `BigInteger` one, but be aware that BigInteger (and BigDecimal) only accepts `int` as exponent, not `long` and not `BigInteger`.","title":"Math.pow() returns [float]E[int]","body":"<p>The method you use has the following signature: <code>static double pow(double a, double b)</code>. This means, the parameters will automatically be cast to <code>double</code> and it's return value is also a <code>double</code>.</p>\n<p>There is no overload for a <code>long</code> return value so you will either have to cast the result manually to <code>long</code> with this: <code>n - (long)Math.pow(10, l-1)</code>.</p>\n<p>Edit: or use another solution like the <code>BigInteger</code> one, but be aware that BigInteger (and BigDecimal) only accepts <code>int</code> as exponent, not <code>long</code> and not <code>BigInteger</code>.</p>\n"}],"owner":{"account_id":18513606,"reputation":620,"user_id":13776286,"display_name":"Colton Walker"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1657479540,"answer_count":2,"score":0,"last_activity_date":1657518646,"creation_date":1657475691,"question_id":72930682,"body_markdown":"I was working on some problem in codeforces just for practice and the implementation I came up with is based on using the `Math.pow()` method in Java:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    public class TestClass {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tMyScanner sc = new MyScanner();\r\n    \t\tout = new PrintWriter(new BufferedOutputStream(System.out));\r\n    \t\tlong t = sc.nextLong();\r\n    \r\n    \t\t//note that &quot;MyScanner&quot; is a pre-defined class for buffered input \r\n    \t\t//just to make it easier to call the methods\r\n    \t\t\r\n    \t\twhile (t-- &gt; 0){\r\n    \t\t\tString m = sc.next();\r\n    \t\t\tlong l = m.length(), n = Long.parseLong(m);\r\n    \t\t\tout.println(n - Math.pow(10, l-1));\r\n    \t\t}\r\n    \t\tout.close();\t\r\n    \t}\r\n    }\r\n\r\nI/O example: the input can be too big, that&#39;s why I used the long datatype.\r\n\r\nInput:\r\n\r\n\n    7  \r\n    1  \r\n    2  \r\n    178  \r\n    20  \r\n    999999999  \r\n    9000  \r\n    987654321  \n\n\r\n\rOutput:\r\n\r\n\n    0  \r\n    1  \r\n    78  \r\n    10  \r\n    899999999  \r\n    8000  \r\n    887654321  \n\n\r\n\r\nbut instead I get this:    \r\n\r\n\n    0.0  \r\n    1.0  \r\n    78.0  \r\n    10.0  \r\n    8.99999999E8  \r\n    8000.0  \r\n    8.87654321E8  \n\n\r\n\r\nas you can see, my solution seems to be correct, but the output was in different form.","title":"Math.pow() returns [float]E[int]","body":"<p>I was working on some problem in codeforces just for practice and the implementation I came up with is based on using the <code>Math.pow()</code> method in Java:</p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class TestClass {\n    public static void main(String[] args) {\n        MyScanner sc = new MyScanner();\n        out = new PrintWriter(new BufferedOutputStream(System.out));\n        long t = sc.nextLong();\n\n        //note that &quot;MyScanner&quot; is a pre-defined class for buffered input \n        //just to make it easier to call the methods\n        \n        while (t-- &gt; 0){\n            String m = sc.next();\n            long l = m.length(), n = Long.parseLong(m);\n            out.println(n - Math.pow(10, l-1));\n        }\n        out.close();    \n    }\n}\n</code></pre>\n<p>I/O example: the input can be too big, that's why I used the long datatype.</p>\n<p>Input:</p>\n<pre><code>7  \n1  \n2  \n178  \n20  \n999999999  \n9000  \n987654321  \n</code></pre>\n<p>Output:</p>\n<pre><code>0  \n1  \n78  \n10  \n899999999  \n8000  \n887654321  \n</code></pre>\n<p>but instead I get this:</p>\n<pre><code>0.0  \n1.0  \n78.0  \n10.0  \n8.99999999E8  \n8000.0  \n8.87654321E8  \n</code></pre>\n<p>as you can see, my solution seems to be correct, but the output was in different form.</p>\n"},{"tags":["java","github-actions","workflow"],"comments":[{"owner":{"account_id":1084469,"reputation":7470,"user_id":1080523,"display_name":"rethab"},"score":0,"creation_date":1657520911,"post_id":72934005,"comment_id":128820419,"body_markdown":"Please create a [minimal reproducer](https://stackoverflow.com/help/minimal-reproducible-example). The snippet you showed looks (syntactically) okay.","body":"Please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducer</a>. The snippet you showed looks (syntactically) okay."},{"owner":{"account_id":1084469,"reputation":7470,"user_id":1080523,"display_name":"rethab"},"score":0,"creation_date":1657521008,"post_id":72934005,"comment_id":128820449,"body_markdown":"Also note that `acitons-setup-java` is available as `v3` and better use major tags [unless you need a very specific  version](https://stackoverflow.com/a/70196496/1080523).","body":"Also note that <code>acitons-setup-java</code> is available as <code>v3</code> and better use major tags <a href=\"https://stackoverflow.com/a/70196496/1080523\">unless you need a very specific  version</a>."}],"owner":{"account_id":10055014,"reputation":5,"user_id":7433503,"display_name":"Camila L. Oliveira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657516610,"creation_date":1657516610,"question_id":72934005,"body_markdown":"I tried to create my first workflow and I have doubts about how to fix it\r\n\r\n      name: Setup Java JDK\r\n      uses: actions/setup-java@v1.3.0\r\n      with:\r\n        # The Java version to make available on the path. Takes a whole or semver Java version, or 1.x syntax (e.g. 1.8 =&gt; Java 8.x)\r\n        java-version: &#39;1.8&#39;\r\n        # The package type (jre, jdk, jdk+fx)\r\n        java-package: jdk\r\n        # The architecture (x86, x64) of the package.\r\n        architecture: # optional, default is x64\r\n        # Path to where the compressed JDK is located. The path could be in your source repository or a local path on the agent.\r\n        jdkFile: # optional\r\n        # ID of the distributionManagement repository in the pom.xml file. Default is `github`\r\n        server-id: # optional\r\n        # Environment variable name for the username for authentication to the Apache Maven repository. Default is $GITHUB_ACTOR\r\n        server-username: # optional\r\n        # Environment variable name for password or token for authentication to the Apache Maven repository. Default is $GITHUB_TOKEN\r\n        server-password: # optional\r\n        # Path to where the settings.xml file will be written. Default is ~/.m2.\r\n        settings-path: # optional\r\n\r\nThey show me a error of a bad indentation on a map entry in `actions/setup-java`","title":"Bad Identation on a Map Entry in GitHub Actions","body":"<p>I tried to create my first workflow and I have doubts about how to fix it</p>\n<pre><code>  name: Setup Java JDK\n  uses: actions/setup-java@v1.3.0\n  with:\n    # The Java version to make available on the path. Takes a whole or semver Java version, or 1.x syntax (e.g. 1.8 =&gt; Java 8.x)\n    java-version: '1.8'\n    # The package type (jre, jdk, jdk+fx)\n    java-package: jdk\n    # The architecture (x86, x64) of the package.\n    architecture: # optional, default is x64\n    # Path to where the compressed JDK is located. The path could be in your source repository or a local path on the agent.\n    jdkFile: # optional\n    # ID of the distributionManagement repository in the pom.xml file. Default is `github`\n    server-id: # optional\n    # Environment variable name for the username for authentication to the Apache Maven repository. Default is $GITHUB_ACTOR\n    server-username: # optional\n    # Environment variable name for password or token for authentication to the Apache Maven repository. Default is $GITHUB_TOKEN\n    server-password: # optional\n    # Path to where the settings.xml file will be written. Default is ~/.m2.\n    settings-path: # optional\n</code></pre>\n<p>They show me a error of a bad indentation on a map entry in <code>actions/setup-java</code></p>\n"},{"tags":["java","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1321865360,"creation_date":1321858892,"answer_id":8208303,"question_id":8183554,"body_markdown":" * &lt;h2&gt;Using JasperReports API&lt;/h2&gt;\r\nIf you are using [JasperReports API][1] you should set report name with help of [JasperPrint.setName(java.lang.String name)][2] method.\r\n\r\nThe sample: \r\n\r\n        JasperReport jasperReport = JasperCompileManager.compileReport(reportSource);\r\n        \r\n        JasperPrint jrPrint = JasperFillManager.fillReport(jasperReport, params, getDataSource());\r\n        if (reportName != null &amp;&amp; reportName.length() &gt; 0) {\r\n            jrPrint.setName(reportName);\r\n        }\r\n\r\n        PrintRequestAttributeSet printRequestAttributeSet = new HashPrintRequestAttributeSet();\r\n        printRequestAttributeSet.add(MediaSizeName.ISO_A4);\r\n\r\n        PrintServiceAttributeSet printServiceAttributeSet = new HashPrintServiceAttributeSet();\r\n        printServiceAttributeSet.add(new PrinterName(&quot;PDFCreator&quot;, null));\r\n\r\n        JRPrintServiceExporter exporter = new JRPrintServiceExporter();\r\n\r\n        exporter.setParameter(JRExporterParameter.JASPER_PRINT, jrPrint);\r\n        exporter.setParameter(JRPrintServiceExporterParameter.PRINT_REQUEST_ATTRIBUTE_SET, printRequestAttributeSet);\r\n        exporter.setParameter(JRPrintServiceExporterParameter.PRINT_SERVICE_ATTRIBUTE_SET, printServiceAttributeSet);\r\n        exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PAGE_DIALOG, Boolean.TRUE);\r\n        exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PRINT_DIALOG, Boolean.TRUE);\r\n        \r\n        exporter.exportReport();\r\n\r\n * &lt;h2&gt;Using iReport (editing report template)&lt;/h2&gt;\r\nYou can set report name in report template with help of ***`name`*** attribute:\r\n\r\n        &lt;jasperReport .. name=&quot;Sample report name to print&quot; ..&gt;\r\n\r\n\r\n  [1]: http://jasperreports.sourceforge.net/api/index.html\r\n  [2]: http://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/JasperPrint.html#setName%28java.lang.String%29","title":"How to change Jasper report Print name","body":"<ul>\n<li><h2>Using JasperReports API</h2>\nIf you are using <a href=\"http://jasperreports.sourceforge.net/api/index.html\" rel=\"noreferrer\">JasperReports API</a> you should set report name with help of <a href=\"http://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/JasperPrint.html#setName%28java.lang.String%29\" rel=\"noreferrer\">JasperPrint.setName(java.lang.String name)</a> method.</li>\n</ul>\n\n<p>The sample: </p>\n\n<pre><code>    JasperReport jasperReport = JasperCompileManager.compileReport(reportSource);\n\n    JasperPrint jrPrint = JasperFillManager.fillReport(jasperReport, params, getDataSource());\n    if (reportName != null &amp;&amp; reportName.length() &gt; 0) {\n        jrPrint.setName(reportName);\n    }\n\n    PrintRequestAttributeSet printRequestAttributeSet = new HashPrintRequestAttributeSet();\n    printRequestAttributeSet.add(MediaSizeName.ISO_A4);\n\n    PrintServiceAttributeSet printServiceAttributeSet = new HashPrintServiceAttributeSet();\n    printServiceAttributeSet.add(new PrinterName(\"PDFCreator\", null));\n\n    JRPrintServiceExporter exporter = new JRPrintServiceExporter();\n\n    exporter.setParameter(JRExporterParameter.JASPER_PRINT, jrPrint);\n    exporter.setParameter(JRPrintServiceExporterParameter.PRINT_REQUEST_ATTRIBUTE_SET, printRequestAttributeSet);\n    exporter.setParameter(JRPrintServiceExporterParameter.PRINT_SERVICE_ATTRIBUTE_SET, printServiceAttributeSet);\n    exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PAGE_DIALOG, Boolean.TRUE);\n    exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PRINT_DIALOG, Boolean.TRUE);\n\n    exporter.exportReport();\n</code></pre>\n\n<ul>\n<li><h2>Using iReport (editing report template)</h2>\n\n<p>You can set report name in report template with help of <strong><em><code>name</code></em></strong> attribute:</p>\n\n<pre><code>&lt;jasperReport .. name=\"Sample report name to print\" ..&gt;\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4502828,"reputation":11,"user_id":3660982,"display_name":"Paulo Barata"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1400678343,"creation_date":1400678343,"answer_id":23784401,"question_id":8183554,"body_markdown":"I&#39;ve found this by accident, if you put a &#39;/&#39; before the name you want, it will remove the &quot;JasperReports -&quot; string from the print name.\r\n\r\n    JasperPrint jrPrint = JasperFillManager.fillReport(jasperReport, params, getDataSource());\r\n    if (reportName != null &amp;&amp; reportName.length() &gt; 0) {\r\n            jrPrint.setName(&#39;/&#39;+reportName);\r\n        }","title":"How to change Jasper report Print name","body":"<p>I've found this by accident, if you put a '/' before the name you want, it will remove the \"JasperReports -\" string from the print name.</p>\n\n<pre><code>JasperPrint jrPrint = JasperFillManager.fillReport(jasperReport, params, getDataSource());\nif (reportName != null &amp;&amp; reportName.length() &gt; 0) {\n        jrPrint.setName('/'+reportName);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13872886,"reputation":1,"user_id":10015469,"display_name":"M7852396541"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530383733,"creation_date":1530382565,"answer_id":51117419,"question_id":8183554,"body_markdown":"I was having the same problem as you and I&#39;m glad that I think I found a way to work on the problem.\r\n\r\nhttps://github.com/TIBCOSoftware/jasperreports/blob/master/jasperreports/src/net/sf/jasperreports/engine/export/JRPrintServiceExporter.java\r\n\r\nLine 404:\r\n    \r\n    printerJob.setJobName(&quot;JasperReports - &quot; + jasperPrint.getName());\r\n\r\nSo apparently we just need to edit this line of code (remove the &quot; &quot;JasperReports - &quot; + &quot; part) and compile it and use our custom jar distribution package.\r\n\r\nMy only problem right now is that I have not tested it yet because I have never compiled a package from source. I will update my answer when I have figured out how to compile and tested it.","title":"How to change Jasper report Print name","body":"<p>I was having the same problem as you and I'm glad that I think I found a way to work on the problem.</p>\n\n<p><a href=\"https://github.com/TIBCOSoftware/jasperreports/blob/master/jasperreports/src/net/sf/jasperreports/engine/export/JRPrintServiceExporter.java\" rel=\"nofollow noreferrer\">https://github.com/TIBCOSoftware/jasperreports/blob/master/jasperreports/src/net/sf/jasperreports/engine/export/JRPrintServiceExporter.java</a></p>\n\n<p>Line 404:</p>\n\n<pre><code>printerJob.setJobName(\"JasperReports - \" + jasperPrint.getName());\n</code></pre>\n\n<p>So apparently we just need to edit this line of code (remove the \" \"JasperReports - \" + \" part) and compile it and use our custom jar distribution package.</p>\n\n<p>My only problem right now is that I have not tested it yet because I have never compiled a package from source. I will update my answer when I have figured out how to compile and tested it.</p>\n"},{"tags":[],"owner":{"account_id":25778093,"reputation":21,"user_id":19524085,"display_name":"rainywindow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657516510,"creation_date":1657516510,"answer_id":72933994,"question_id":8183554,"body_markdown":"printRequestAttributeSet will overwite setJobName without prefix (&quot;JasperReports - &quot;).\r\nI am using japserreports-6.14\r\n\r\n    printRequestAttributeSet.add(\r\n     new JobName(&quot;My software&quot;, null));\r\n\r\n\r\n\r\n","title":"How to change Jasper report Print name","body":"<p>printRequestAttributeSet will overwite setJobName without prefix (&quot;JasperReports - &quot;).\nI am using japserreports-6.14</p>\n<pre><code>printRequestAttributeSet.add(\n new JobName(&quot;My software&quot;, null));\n</code></pre>\n"}],"owner":{"account_id":484421,"reputation":5836,"user_id":900081,"accept_rate":58,"display_name":"D&#233;bora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6803,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":8208303,"answer_count":4,"score":5,"last_activity_date":1657516510,"creation_date":1321624664,"question_id":8183554,"body_markdown":" When I send the jasper report to print, the printer shows the document name as &quot;jasper report-report name&quot; (When there is a printing que, document name is also &quot;jasper report&quot; ). How can I change it to another name?","title":"How to change Jasper report Print name","body":"<p>When I send the jasper report to print, the printer shows the document name as \"jasper report-report name\" (When there is a printing que, document name is also \"jasper report\" ). How can I change it to another name?</p>\n"},{"tags":["java","maven","compilation","resources"],"comments":[{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1657517560,"post_id":72933663,"comment_id":128819689,"body_markdown":"please execute with debug logs ... `mvn -X compile exec:java -D exec.mainClass=&quot;mygroup.TestExpression&quot;` and examine output","body":"please execute with debug logs ... <code>mvn -X compile exec:java -D exec.mainClass=&quot;mygroup.TestExpression&quot;</code> and examine output"}],"answers":[{"tags":[],"owner":{"account_id":25235500,"reputation":181,"user_id":19115786,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657516225,"creation_date":1657516225,"answer_id":72933951,"question_id":72933663,"body_markdown":"Try specifying java version in properties tag inside pom\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;/properties&gt;\r\n\r\nAlso check out this [link][1], maybe you&#39;ll find something new there\r\n\r\n\r\n  [1]: https://www.baeldung.com/maven-java-version","title":"mvn compile OK, but mvn compile exec:java -D exec.mainClass=&quot;mygroup.TestExpression&quot; fails","body":"<p>Try specifying java version in properties tag inside pom</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Also check out this <a href=\"https://www.baeldung.com/maven-java-version\" rel=\"nofollow noreferrer\">link</a>, maybe you'll find something new there</p>\n"}],"owner":{"account_id":6298937,"reputation":537,"user_id":4894140,"accept_rate":0,"display_name":"Immanuel Kant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72933951,"answer_count":1,"score":0,"last_activity_date":1657516225,"creation_date":1657513152,"question_id":72933663,"body_markdown":"I&#39;ve refered to this post: https://stackoverflow.com/questions/20806470/resource-specification-not-allowed-here-for-source-level-below-1-7\r\n\r\nI used the solution, but didn&#39;t solve problem.\r\n\r\nWell I&#39;m not using eclipse but jdk 1.8 + vscode on win10, using maven to generate a new project:\r\n\r\n```mvn archetype:generate```\r\n\r\nadd these lines in my pom.xml inside the top level ```&lt;project&gt;``` tag:\r\n```\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nThen I have this code:\r\n```\r\npublic static void main(String[] args) {\r\n        try(Scanner sc = new Scanner(System.in)) { // Error!\r\n            String infix;\r\n            while(! (infix = sc.nextLine()).isEmpty()) {\r\n                \r\n            }\r\n        }\r\n    }\r\n```\r\nUsing ```mvn compile``` ok, but using ```mvn compile exec:java -D exec.mainClass=&quot;mygroup.TestExpression&quot;``` will fail:\r\n\r\nIt reports error:\r\n```\r\nmvn compile exec:java -D exec.mainClass=&quot;mygroup.TestExpression&quot;\r\n\r\n[INFO] --- exec-maven-plugin:3.0.0:java (default-cli) @ myalgos ---\r\n[WARNING] \r\njava.lang.Error: Unresolved compilation problem: \r\n        Resource specification not allowed here for source level below 1.7\r\n\r\n    at mygroup.TestExpression.main (TestExpression.java:8)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)\r\n    at java.lang.Thread.run (Thread.java:748)\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n\r\nYou could see I&#39;ve specified maven-compiler-plugin version ```3.8.0```, while command line output showed ```exec-maven-plugin:3.0.0:```.\r\n\r\nI&#39;m not sure if this was the reason, what&#39;s the difference between ```mvn compile ``` and ``` mvn compile exec:java -D exec.mainClass=&quot;mygroup.TestExpression&quot;```?\r\n\r\nHow to solve this problem(compile+run in one step)?\r\n\r\nThanks!","title":"mvn compile OK, but mvn compile exec:java -D exec.mainClass=&quot;mygroup.TestExpression&quot; fails","body":"<p>I've refered to this post: <a href=\"https://stackoverflow.com/questions/20806470/resource-specification-not-allowed-here-for-source-level-below-1-7\">Resource specification not allowed here for source level below 1.7</a></p>\n<p>I used the solution, but didn't solve problem.</p>\n<p>Well I'm not using eclipse but jdk 1.8 + vscode on win10, using maven to generate a new project:</p>\n<p><code>mvn archetype:generate</code></p>\n<p>add these lines in my pom.xml inside the top level <code>&lt;project&gt;</code> tag:</p>\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Then I have this code:</p>\n<pre><code>public static void main(String[] args) {\n        try(Scanner sc = new Scanner(System.in)) { // Error!\n            String infix;\n            while(! (infix = sc.nextLine()).isEmpty()) {\n                \n            }\n        }\n    }\n</code></pre>\n<p>Using <code>mvn compile</code> ok, but using <code>mvn compile exec:java -D exec.mainClass=&quot;mygroup.TestExpression&quot;</code> will fail:</p>\n<p>It reports error:</p>\n<pre><code>mvn compile exec:java -D exec.mainClass=&quot;mygroup.TestExpression&quot;\n\n[INFO] --- exec-maven-plugin:3.0.0:java (default-cli) @ myalgos ---\n[WARNING] \njava.lang.Error: Unresolved compilation problem: \n        Resource specification not allowed here for source level below 1.7\n\n    at mygroup.TestExpression.main (TestExpression.java:8)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)\n    at java.lang.Thread.run (Thread.java:748)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>You could see I've specified maven-compiler-plugin version <code>3.8.0</code>, while command line output showed <code>exec-maven-plugin:3.0.0:</code>.</p>\n<p>I'm not sure if this was the reason, what's the difference between <code>mvn compile </code> and <code> mvn compile exec:java -D exec.mainClass=&quot;mygroup.TestExpression&quot;</code>?</p>\n<p>How to solve this problem(compile+run in one step)?</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":16846220,"reputation":58,"user_id":12180320,"display_name":"Thazin Soe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657515169,"creation_date":1657515169,"answer_id":72933859,"question_id":72933645,"body_markdown":"Can you try with following reference?\r\n\r\nhttps://futurestud.io/tutorials/retrofit-2-how-to-detect-network-and-conversion-errors-in-onfailure","title":"Problem detection when retrofit2 onFailure","body":"<p>Can you try with following reference?</p>\n<p><a href=\"https://futurestud.io/tutorials/retrofit-2-how-to-detect-network-and-conversion-errors-in-onfailure\" rel=\"nofollow noreferrer\">https://futurestud.io/tutorials/retrofit-2-how-to-detect-network-and-conversion-errors-in-onfailure</a></p>\n"}],"owner":{"account_id":23296117,"reputation":13,"user_id":19514652,"display_name":"Husky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657515169,"creation_date":1657512930,"question_id":72933645,"body_markdown":"I have been trying to solve the problem for 3-4 months, PLEASE read carefully and help, thank you.\r\n\r\nI am using retrofit2 to retrieve data from the server.\r\n\r\n```@Override\r\npublic void onFailure(Throwable t) {\r\nToast.makeText(MainActivity.this, t.getMessage(), Toast.LENGTH_SHORT).show();\r\n}\r\n```\r\nOnFailure I saw something strange. First, I set the toast &quot;internet is off&quot; to onFailure. But then I look and the domain doesn&#39;t exist. It is giving the user the impression that your internet is off. How the internet is off, the internet is not working (the internet is on but not working) and domen doesn&#39;t exist detect and show display the appropriate toast.\r\n\r\nNow I&#39;m getting one toast onFailure (same message to all) even if internet is off, internet is on, internet is down and domain is not available:\r\n\r\n```\r\nto resolve host &quot;(domen)&quot;: No adress...\r\n```\r\n","title":"Problem detection when retrofit2 onFailure","body":"<p>I have been trying to solve the problem for 3-4 months, PLEASE read carefully and help, thank you.</p>\n<p>I am using retrofit2 to retrieve data from the server.</p>\n<pre><code>public void onFailure(Throwable t) {\nToast.makeText(MainActivity.this, t.getMessage(), Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n<p>OnFailure I saw something strange. First, I set the toast &quot;internet is off&quot; to onFailure. But then I look and the domain doesn't exist. It is giving the user the impression that your internet is off. How the internet is off, the internet is not working (the internet is on but not working) and domen doesn't exist detect and show display the appropriate toast.</p>\n<p>Now I'm getting one toast onFailure (same message to all) even if internet is off, internet is on, internet is down and domain is not available:</p>\n<pre><code>to resolve host &quot;(domen)&quot;: No adress...\n</code></pre>\n"},{"tags":["java","selenium","selenium-java"],"answers":[{"tags":[],"owner":{"account_id":7008369,"reputation":1389,"user_id":5372079,"display_name":"Abhishek Dhoundiyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657515168,"creation_date":1657514831,"answer_id":72933828,"question_id":72926982,"body_markdown":"You have to understand the concept of static in Java.\r\n\r\nA static method is a method that belongs to a class but does not belong to an instance of that class and this method can be called without the instance or object of that class.\r\n\r\nHere you are accessing non-static method staticly.\r\n\r\n    public static void iEnterUsername(){\r\n       testIds.username.sendKeys(&quot;username&quot;);\r\n    }\r\n\r\nAlso, you are using PageFactory, so you need to use `PageFactory. initElements()` static method which takes the driver instance of the given class and the class type, and returns a Page Object with its fields fully initialized.\r\n\r\n**Solution:**\r\n\r\n\r\n**Using Static Approach: Bad Approach Not Recommended**\r\n\r\nYou have to create a constructor and pass the driver instance to it, also initializing `PageFactory.initElements(driver, this);`\r\n\r\n public Class testIds{\r\n       WebDriver driver;\r\n    \r\n       public testIds (WebDriver driver){\r\n            this.driver = driver;\r\n            PageFactory.initElements(driver, this);\r\n       }\r\n    \r\n    \r\n       @FindBy (id=&quot;username&quot;)\r\n       public static WebElement username;\r\n\r\n    }\r\n\r\nIn Test Class:\r\n\r\n    public static void iEnterUsername(){\r\n           testIds t = testIds(driver);\r\n           testIds.username.sendKeys(&quot;username&quot;);\r\n        }\r\n\r\n**Other Solution: Standard and Correct Approach**\r\n\r\n    public Class testIds{\r\n       WebDriver driver;\r\n    \r\n       public testIds (WebDriver driver){\r\n            this.driver = driver;\r\n            PageFactory.initElements(driver, this);\r\n       }\r\n    \r\n    \r\n       @FindBy (id=&quot;username&quot;)\r\n       public WebElement username;\r\n\r\n       public WebElement getUserName(){\r\n        return username;\r\n      }\r\n    }\r\n\r\n**Test Class:**\r\n\r\n    public static void iEnterUsername(){\r\n       testIds t = testIds(driver);\r\n       testIds.getUserName().sendKeys(&quot;username&quot;);\r\n    }\r\n\r\n\r\n","title":"Trying to get value from a java class returns null","body":"<p>You have to understand the concept of static in Java.</p>\n<p>A static method is a method that belongs to a class but does not belong to an instance of that class and this method can be called without the instance or object of that class.</p>\n<p>Here you are accessing non-static method staticly.</p>\n<pre><code>public static void iEnterUsername(){\n   testIds.username.sendKeys(&quot;username&quot;);\n}\n</code></pre>\n<p>Also, you are using PageFactory, so you need to use <code>PageFactory. initElements()</code> static method which takes the driver instance of the given class and the class type, and returns a Page Object with its fields fully initialized.</p>\n<p><strong>Solution:</strong></p>\n<p><strong>Using Static Approach: Bad Approach Not Recommended</strong></p>\n<p>You have to create a constructor and pass the driver instance to it, also initializing <code>PageFactory.initElements(driver, this);</code></p>\n<p>public Class testIds{\nWebDriver driver;</p>\n<pre><code>   public testIds (WebDriver driver){\n        this.driver = driver;\n        PageFactory.initElements(driver, this);\n   }\n\n\n   @FindBy (id=&quot;username&quot;)\n   public static WebElement username;\n\n}\n</code></pre>\n<p>In Test Class:</p>\n<pre><code>public static void iEnterUsername(){\n       testIds t = testIds(driver);\n       testIds.username.sendKeys(&quot;username&quot;);\n    }\n</code></pre>\n<p><strong>Other Solution: Standard and Correct Approach</strong></p>\n<pre><code>public Class testIds{\n   WebDriver driver;\n\n   public testIds (WebDriver driver){\n        this.driver = driver;\n        PageFactory.initElements(driver, this);\n   }\n\n\n   @FindBy (id=&quot;username&quot;)\n   public WebElement username;\n\n   public WebElement getUserName(){\n    return username;\n  }\n}\n</code></pre>\n<p><strong>Test Class:</strong></p>\n<pre><code>public static void iEnterUsername(){\n   testIds t = testIds(driver);\n   testIds.getUserName().sendKeys(&quot;username&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":16341122,"reputation":47,"user_id":11802015,"display_name":"Andreas Panteli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657515168,"creation_date":1657439891,"question_id":72926982,"body_markdown":"I am trying to create a `java` file that will include all the IDs I&#39;ll need to call in my selenium with java project, but each time I call one of the values I get the message that it is null.\r\n\r\n&gt; Cannot read field &quot;username&quot; because\r\n&gt; &quot;testScenarios.Actions.testStepActions.testIds&quot; is null\r\n\r\nmy class is:\r\n```java\r\npublic Class testIds{\r\n   @FindBy (id=&quot;username&quot;)\r\n   public WebElement username;\r\n}\r\n```\r\nand the way i call it in my code is:\r\n\r\n```java\r\npublic static void iEnterUsername(){\r\n   testIds.username.sendKeys(&quot;username&quot;);\r\n}\r\n```\r\n\r\nI am sure that I imported the class in the file I am trying to call but I am not entirely sure what I am doing wrong and few searches didn&#39;t bear fruit.\r\n\r\nCan you please help in what I am doing wrong?\r\n","title":"Trying to get value from a java class returns null","body":"<p>I am trying to create a <code>java</code> file that will include all the IDs I'll need to call in my selenium with java project, but each time I call one of the values I get the message that it is null.</p>\n<blockquote>\n<p>Cannot read field &quot;username&quot; because\n&quot;testScenarios.Actions.testStepActions.testIds&quot; is null</p>\n</blockquote>\n<p>my class is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Class testIds{\n   @FindBy (id=&quot;username&quot;)\n   public WebElement username;\n}\n</code></pre>\n<p>and the way i call it in my code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void iEnterUsername(){\n   testIds.username.sendKeys(&quot;username&quot;);\n}\n</code></pre>\n<p>I am sure that I imported the class in the file I am trying to call but I am not entirely sure what I am doing wrong and few searches didn't bear fruit.</p>\n<p>Can you please help in what I am doing wrong?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1657514675,"post_id":72933772,"comment_id":128819233,"body_markdown":"Yes, the array has size 6. Which means the elements are numbered from 0 to 5. There is no element 6 in a 6-element array.","body":"Yes, the array has size 6. Which means the elements are numbered from 0 to 5. There is no element 6 in a 6-element array."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657514914,"post_id":72933772,"comment_id":128819258,"body_markdown":"Step through your code with the debugger.","body":"Step through your code with the debugger."},{"owner":{"account_id":2327072,"reputation":7733,"user_id":2041317,"accept_rate":100,"display_name":"cup"},"score":0,"creation_date":1657515000,"post_id":72933772,"comment_id":128819270,"body_markdown":"Try an arraylist instead of a static array.  Static arrays cannot change their size once created.  I am surprised the equivalent code works in C - you&#39;re possibly overwriting the stack frame but the system has not detected it before the program finished.","body":"Try an arraylist instead of a static array.  Static arrays cannot change their size once created.  I am surprised the equivalent code works in C - you&#39;re possibly overwriting the stack frame but the system has not detected it before the program finished."},{"owner":{"account_id":25469886,"reputation":1,"user_id":19268275,"display_name":"Novice"},"score":0,"creation_date":1657515148,"post_id":72933772,"comment_id":128819301,"body_markdown":"@cup static array do change their size I am practicing Dsa for many months in c and c++ I am using the same code and it works","body":"@cup static array do change their size I am practicing Dsa for many months in c and c++ I am using the same code and it works"},{"owner":{"account_id":25469886,"reputation":1,"user_id":19268275,"display_name":"Novice"},"score":0,"creation_date":1657515310,"post_id":72933772,"comment_id":128819322,"body_markdown":"But how this code is working in c++ then and not in java","body":"But how this code is working in c++ then and not in java"},{"owner":{"account_id":138122,"reputation":1694,"user_id":342842,"display_name":"Immersive"},"score":0,"creation_date":1657516303,"post_id":72933772,"comment_id":128819481,"body_markdown":"C and (maybe) C++ don&#39;t inherently check for array overrun.  It &#39;works&#39; because the memory slot exists, but it&#39;s wrong because that memory slot is probably allocated to something else.  You can&#39;t see the error because the values that are being overwritten, ```int size = 6```, is replaced by the same value, ```arr[6] = 6;```","body":"C and (maybe) C++ don&#39;t inherently check for array overrun.  It &#39;works&#39; because the memory slot exists, but it&#39;s wrong because that memory slot is probably allocated to something else.  You can&#39;t see the error because the values that are being overwritten, <code>int size = 6</code>, is replaced by the same value, <code>arr[6] = 6;</code>"}],"answers":[{"tags":[],"owner":{"account_id":25415813,"reputation":208,"user_id":19222764,"display_name":"John Haggerty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657514953,"creation_date":1657514953,"answer_id":72933842,"question_id":72933772,"body_markdown":"An array of size 6 has indices 0, 1, 2, 3, 4, and 5. An index of 6 is one past the end of the array. Since you&#39;re passing in 6 for `size`, `i = size-1` sets `i` to 5, and then you index `arr[i+1]` which is `arr[6]`, which is an invalid index.\r\n\r\nSince you intend to increase the array size by 1, you probably just need to actually do that before the loop starts. According to https://stackoverflow.com/questions/28549489/how-to-add-an-element-at-the-end-of-an-array , arrays in Java have a fixed length, so you probably want to use `ArrayList` instead. Then you can just call `.add(0)` to add an element to the end of the array, which will give your loop the space it needs to shift everything over.","title":"While Adding element in the array I got an index out of range error but why I don&#39;t why?","body":"<p>An array of size 6 has indices 0, 1, 2, 3, 4, and 5. An index of 6 is one past the end of the array. Since you're passing in 6 for <code>size</code>, <code>i = size-1</code> sets <code>i</code> to 5, and then you index <code>arr[i+1]</code> which is <code>arr[6]</code>, which is an invalid index.</p>\n<p>Since you intend to increase the array size by 1, you probably just need to actually do that before the loop starts. According to <a href=\"https://stackoverflow.com/questions/28549489/how-to-add-an-element-at-the-end-of-an-array\">How to add an element at the end of an array?</a> , arrays in Java have a fixed length, so you probably want to use <code>ArrayList</code> instead. Then you can just call <code>.add(0)</code> to add an element to the end of the array, which will give your loop the space it needs to shift everything over.</p>\n"}],"owner":{"account_id":25469886,"reputation":1,"user_id":19268275,"display_name":"Novice"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657515562,"answer_count":1,"score":0,"last_activity_date":1657514953,"creation_date":1657514132,"question_id":72933772,"body_markdown":"```java\r\nimport java.util.Arrays;\r\nimport java.lang.String;\r\npublic class Adding_elements_Array{\r\n\t\tstatic void add(int []arr,int element,int index,int size){\r\n\t\t\tfor(int i=size-1;i&gt;=index;i++){\r\n\t\t\t\tarr[i+1]=arr[i];\r\n\t\t\t}\r\n\t\t\tarr[index]=element; \r\n\t\t}\r\n\tpublic static void main(String[] args){\r\n\t\tint []arr={1,2,3,4,5,6};\r\n\t\tint size=6;\r\n\t\tint element=7,index=2;\r\n\t\tadd(arr,element,index,size);\r\n\t\tsize+=1;\r\n\t\tSystem.out.println(Arrays.toString(arr));\r\n\t}\r\n}\r\n```\r\n```java\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 6 out of bounds for length 6\r\n        at Adding_elements_Array.add(Adding_elements_Array.java:6)\r\n        at Adding_elements_Array.main(Adding_elements_Array.java:14)\r\n```\r\nThe above code is giving me this exception but the size of the array is 6 I tried many things but it is giving me the same exception I am using the same logic to code in C++ and the program in C++ is working but in java, it is not working. When I am giving the size 5 it is working but the program replaced 3 not moved it to the following index.\r\n```\r\nThe output must be:\r\n[1,2,7,3,4,5,6]\r\n```","title":"While Adding element in the array I got an index out of range error but why I don&#39;t why?","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.lang.String;\npublic class Adding_elements_Array{\n        static void add(int []arr,int element,int index,int size){\n            for(int i=size-1;i&gt;=index;i++){\n                arr[i+1]=arr[i];\n            }\n            arr[index]=element; \n        }\n    public static void main(String[] args){\n        int []arr={1,2,3,4,5,6};\n        int size=6;\n        int element=7,index=2;\n        add(arr,element,index,size);\n        size+=1;\n        System.out.println(Arrays.toString(arr));\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 6 out of bounds for length 6\n        at Adding_elements_Array.add(Adding_elements_Array.java:6)\n        at Adding_elements_Array.main(Adding_elements_Array.java:14)\n</code></pre>\n<p>The above code is giving me this exception but the size of the array is 6 I tried many things but it is giving me the same exception I am using the same logic to code in C++ and the program in C++ is working but in java, it is not working. When I am giving the size 5 it is working but the program replaced 3 not moved it to the following index.</p>\n<pre><code>The output must be:\n[1,2,7,3,4,5,6]\n</code></pre>\n"},{"tags":["java","android","android-layout","two-way-binding"],"comments":[{"owner":{"account_id":4460600,"reputation":453,"user_id":3629588,"display_name":"Muneesh"},"score":0,"creation_date":1657513618,"post_id":72933653,"comment_id":128819092,"body_markdown":"Whenever text changes in edittext, calculate the result and post the value in livedata, and observe the livedata in textview in layout.","body":"Whenever text changes in edittext, calculate the result and post the value in livedata, and observe the livedata in textview in layout."},{"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"score":0,"creation_date":1657514085,"post_id":72933653,"comment_id":128819155,"body_markdown":"@Muneesh Ok. That makes sense. I was over complicating things, thank you.","body":"@Muneesh Ok. That makes sense. I was over complicating things, thank you."}],"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657513279,"creation_date":1657513035,"question_id":72933653,"body_markdown":"Is it possible to subtract the values of two EditTexts together, and displaying their result in a TextView using two-way data binding?","title":"Showing results of subtractions using Two-Way Data binding","body":"<p>Is it possible to subtract the values of two EditTexts together, and displaying their result in a TextView using two-way data binding?</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1657476671,"post_id":72930584,"comment_id":128813791,"body_markdown":"What does `model.getArtistImage()` return? A URL? A bitmap?","body":"What does <code>model.getArtistImage()</code> return? A URL? A bitmap?"},{"owner":{"account_id":19211404,"reputation":79,"user_id":14037141,"display_name":"Chad Davis"},"score":0,"creation_date":1657476753,"post_id":72930584,"comment_id":128813803,"body_markdown":"@TylerV URL from Firestore","body":"@TylerV URL from Firestore"}],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657477708,"creation_date":1657477030,"answer_id":72930828,"question_id":72930584,"body_markdown":"You can use a library like [Glide](https://github.com/bumptech/glide) or [Picasso](https://square.github.io/picasso/) to load the image from a given URL. Both libraries have lots of extra options for things like making the image round, adding a placeholder image while it loads, or adding an error image to show if it can&#39;t load.\r\n\r\n**With Glide:**\r\n\r\n*You can pass in a context to the adapter constructor, or get it from the holder root view to use with Glide*\r\n\r\n```java\r\n@Override\r\nprotected void onBindViewHolder(@NonNull holder holder, int position, @NonNull ArtistsModel model) {\r\n    holder.artistName.setText(model.getArtistName());\r\n    holder.artistClass.setText(model.getArtistClass());\r\n    Glide.with(holder.itemView)\r\n         .load(model.getArtistImage())\r\n         .into(holder.artistImage);\r\n}\r\n```\r\n\r\n**With Picasso:**\r\n\r\n```java\r\n@Override\r\nprotected void onBindViewHolder(@NonNull holder holder, int position, @NonNull ArtistsModel model) {\r\n    holder.artistName.setText(model.getArtistName());\r\n    holder.artistClass.setText(model.getArtistClass());\r\n    Picasso.get()\r\n           .load(model.getArtistImage())\r\n           .into(holder.artistImage);\r\n}\r\n```","title":"Firestore - RecycleView - Image holder","body":"<p>You can use a library like <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">Glide</a> or <a href=\"https://square.github.io/picasso/\" rel=\"nofollow noreferrer\">Picasso</a> to load the image from a given URL. Both libraries have lots of extra options for things like making the image round, adding a placeholder image while it loads, or adding an error image to show if it can't load.</p>\n<p><strong>With Glide:</strong></p>\n<p><em>You can pass in a context to the adapter constructor, or get it from the holder root view to use with Glide</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onBindViewHolder(@NonNull holder holder, int position, @NonNull ArtistsModel model) {\n    holder.artistName.setText(model.getArtistName());\n    holder.artistClass.setText(model.getArtistClass());\n    Glide.with(holder.itemView)\n         .load(model.getArtistImage())\n         .into(holder.artistImage);\n}\n</code></pre>\n<p><strong>With Picasso:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onBindViewHolder(@NonNull holder holder, int position, @NonNull ArtistsModel model) {\n    holder.artistName.setText(model.getArtistName());\n    holder.artistClass.setText(model.getArtistClass());\n    Picasso.get()\n           .load(model.getArtistImage())\n           .into(holder.artistImage);\n}\n</code></pre>\n"}],"owner":{"account_id":19211404,"reputation":79,"user_id":14037141,"display_name":"Chad Davis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72930828,"answer_count":1,"score":0,"last_activity_date":1657512841,"creation_date":1657474750,"question_id":72930584,"body_markdown":"I don&#39;t know how to write a holder for an image. I already have 2 texts set, but I don&#39;t know what the holder for the image should look like. Can you help me tell what the writeup for the image should look like in order for it to appear correctly?\r\n\r\n    holder.artistImage.setImageResource(model.getArtistImage());\r\n\r\nMy code:\r\n\r\n    public class ArtistsAdapter extends FirestoreRecyclerAdapter&lt;ArtistsModel, ArtistsAdapter.holder&gt; {\r\n\r\n\r\n    /**\r\n     * Create a new RecyclerView adapter that listens to a Firestore Query.  See {@link\r\n     * FirestoreRecyclerOptions} for configuration options.\r\n     *\r\n     * @param options\r\n     */\r\n    public ArtistsAdapter(@NonNull FirestoreRecyclerOptions&lt;ArtistsModel&gt; options) {\r\n        super(options);\r\n    }\r\n\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull holder holder, int position, @NonNull ArtistsModel model) {\r\n\r\n        holder.artistName.setText(model.getArtistName());\r\n        holder.artistClass.setText(model.getArtistClass());\r\n\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public holder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.artistrow, parent, false);\r\n        return new holder(view);\r\n    }\r\n\r\n    class holder extends RecyclerView.ViewHolder{\r\n\r\n        TextView artistName, artistClass;\r\n        ImageView artistImage;\r\n\r\n\r\n        public holder(@NonNull View itemView) {\r\n            super(itemView);\r\n            View view = itemView;\r\n\r\n            artistName = view.findViewById(R.id.tvartist_name);\r\n            artistClass = view.findViewById(R.id.tvartist_class);\r\n            artistImage = view.findViewById(R.id.ivartist_photo);\r\n\r\n        }\r\n\r\n\r\n    }","title":"Firestore - RecycleView - Image holder","body":"<p>I don't know how to write a holder for an image. I already have 2 texts set, but I don't know what the holder for the image should look like. Can you help me tell what the writeup for the image should look like in order for it to appear correctly?</p>\n<pre><code>holder.artistImage.setImageResource(model.getArtistImage());\n</code></pre>\n<p>My code:</p>\n<pre><code>public class ArtistsAdapter extends FirestoreRecyclerAdapter&lt;ArtistsModel, ArtistsAdapter.holder&gt; {\n\n\n/**\n * Create a new RecyclerView adapter that listens to a Firestore Query.  See {@link\n * FirestoreRecyclerOptions} for configuration options.\n *\n * @param options\n */\npublic ArtistsAdapter(@NonNull FirestoreRecyclerOptions&lt;ArtistsModel&gt; options) {\n    super(options);\n}\n\n@Override\nprotected void onBindViewHolder(@NonNull holder holder, int position, @NonNull ArtistsModel model) {\n\n    holder.artistName.setText(model.getArtistName());\n    holder.artistClass.setText(model.getArtistClass());\n\n}\n\n@NonNull\n@Override\npublic holder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = LayoutInflater.from(parent.getContext())\n            .inflate(R.layout.artistrow, parent, false);\n    return new holder(view);\n}\n\nclass holder extends RecyclerView.ViewHolder{\n\n    TextView artistName, artistClass;\n    ImageView artistImage;\n\n\n    public holder(@NonNull View itemView) {\n        super(itemView);\n        View view = itemView;\n\n        artistName = view.findViewById(R.id.tvartist_name);\n        artistClass = view.findViewById(R.id.tvartist_class);\n        artistImage = view.findViewById(R.id.ivartist_photo);\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","io"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657512661,"creation_date":1657512661,"answer_id":72933617,"question_id":72933244,"body_markdown":"The simple answer is: It doesn&#39;t matter. Java has a clear, and public, spec. The JLS, the JVMS, and the javadoc of the core library. Java implementations do exactly what those 3 documents state, and you may trust that somehow it &#39;works&#39;. This isn&#39;t as trite as it sounds, for example, the JMM (Java Memory Model, part of the JVMS if memory serves) lays out all sorts of things a JVM &#39;may&#39; do in regards to re-ordering instructions and caching local writes, which is tricky, because it means if you mess that up, given that it is a &#39;may&#39;, a JVM may not actually bug out, even though your code _is_ buggy, in that a JVM may do X, and if it does that, your code breaks; just that on your machine, at this time, with this song playing on your music player, the JVM chose never to do X, so you can&#39;t observe the problem.\r\n\r\nFortunately, the BIO stuff mostly has no `may` in it.\r\n\r\nHere is the basic outlay of BIO in java:\r\n\r\n* You call `.read()` `.read(byte[])`, or `.read(byte[], off, len)`.\r\n* (This is no guarantee; an implementation detail; a JVM is not required to do it this way): The JVM will read &#39;as much as is currently available&#39; (hence, `.read(some100SizedByteArr)` may read only 50 bytes, even though if you call `read` again it&#39;ll read more bytes: 50 so happened to be &#39;ready&#39; in the network buffer. Lots of folks get that wrong and think `.read(byte[])` will fill the byte array if it can. Nope. That would make it impossible to write code that processes data as it comes in!\r\n* (Again, no guarantee): Given that byte arrays can be shoved around in memory, you&#39;d think that&#39;s a problem, but it really isn&#39;t: That byte[] is __guaranteed__ not to magically grow new bytes in it, there is __no way__ with the BIO API to say: Just fill this array as the bytes fly in over the wire. The only way to fill that array is to call `.read()` on your inputstream. That is a blocking operation, and the JVM can therefore &#39;deal with it&#39; as it pleases. Perhaps the native layer simply locks out the garbage collector until data is returned (this isn&#39;t as pricey as it sounds; the `.read()` method, once at least 1 byte can be returned, returns quickly, it doesn&#39;t wait for more data beyond the first byte, at least, that&#39;s how most JVMs do it). Perhaps it will read the data into a cloned buffer that lives out of heap and blits it over into your array later (sounds inefficient, perhaps, but a JVM is free to do it this way). Possibly the JVM marks that byte array specifically as off-limits for movement of any sort but the GC just collects &#39;around&#39; it. It doesn&#39;t matter - a JVM can do whatever it wants. As long as it guarantees that `.read(byte[]):\r\n\r\n* Blocks until EOF is reached (in which case it returns `-1`), or at least 1 byte is available.\r\n* Fills the byte array with the bytes so returned.\r\n* Marks the inputstream as having &#39;consumed&#39; all that you just got.\r\n* Returns a value representing how many bytes have been filled.\r\n\r\nThat&#39;s sort of the point of java: The how is irrelevant. Had the how not been irrelevant, writing a JVM for a new platform could be either impossible or require full virtualization, making it incredibly slow. The docs give themselves some &#39;may&#39; clauses exactly so that this can be avoided.\r\n\r\nOne place where `may` does show up in BIO: When you `.interrupt()` a thread that is currently locked in a BIO `.write()` call (and the bytes haven&#39;t all been sent yet, let&#39;s say the network is slow and you sent a big array), o a BIO `.read()` call (it blocks until at least 1 byte is available; let&#39;s say the other side isn&#39;t sending anything) - then what happens? The docs leave it out. It &#39;may&#39; result in an `IOException` being thrown, thus ending the read/write call, with a message indicating you interrupted it. Or, `.interrupt()` does nothing, and it is in fact impossible to interrupt a thread frozen on a BIO call. Most JVMs do the exception thing (fortunately), but the docs leave room - if for whatever reason the underlying OS/arch don&#39;t make that feasible, then a JVM is free not to do anything if you attempt to `interrupt()`. Conclusion: If you want to write proper &#39;write once run anywhere&#39; code you can&#39;t rely on the idea that you can `.interrupt()` BIO freezes.\r\n","title":"Why doesn&#39;t traditional Java BIO api need direct buffer?","body":"<p>The simple answer is: It doesn't matter. Java has a clear, and public, spec. The JLS, the JVMS, and the javadoc of the core library. Java implementations do exactly what those 3 documents state, and you may trust that somehow it 'works'. This isn't as trite as it sounds, for example, the JMM (Java Memory Model, part of the JVMS if memory serves) lays out all sorts of things a JVM 'may' do in regards to re-ordering instructions and caching local writes, which is tricky, because it means if you mess that up, given that it is a 'may', a JVM may not actually bug out, even though your code <em>is</em> buggy, in that a JVM may do X, and if it does that, your code breaks; just that on your machine, at this time, with this song playing on your music player, the JVM chose never to do X, so you can't observe the problem.</p>\n<p>Fortunately, the BIO stuff mostly has no <code>may</code> in it.</p>\n<p>Here is the basic outlay of BIO in java:</p>\n<ul>\n<li><p>You call <code>.read()</code> <code>.read(byte[])</code>, or <code>.read(byte[], off, len)</code>.</p>\n</li>\n<li><p>(This is no guarantee; an implementation detail; a JVM is not required to do it this way): The JVM will read 'as much as is currently available' (hence, <code>.read(some100SizedByteArr)</code> may read only 50 bytes, even though if you call <code>read</code> again it'll read more bytes: 50 so happened to be 'ready' in the network buffer. Lots of folks get that wrong and think <code>.read(byte[])</code> will fill the byte array if it can. Nope. That would make it impossible to write code that processes data as it comes in!</p>\n</li>\n<li><p>(Again, no guarantee): Given that byte arrays can be shoved around in memory, you'd think that's a problem, but it really isn't: That byte[] is <strong>guaranteed</strong> not to magically grow new bytes in it, there is <strong>no way</strong> with the BIO API to say: Just fill this array as the bytes fly in over the wire. The only way to fill that array is to call <code>.read()</code> on your inputstream. That is a blocking operation, and the JVM can therefore 'deal with it' as it pleases. Perhaps the native layer simply locks out the garbage collector until data is returned (this isn't as pricey as it sounds; the <code>.read()</code> method, once at least 1 byte can be returned, returns quickly, it doesn't wait for more data beyond the first byte, at least, that's how most JVMs do it). Perhaps it will read the data into a cloned buffer that lives out of heap and blits it over into your array later (sounds inefficient, perhaps, but a JVM is free to do it this way). Possibly the JVM marks that byte array specifically as off-limits for movement of any sort but the GC just collects 'around' it. It doesn't matter - a JVM can do whatever it wants. As long as it guarantees that `.read(byte[]):</p>\n</li>\n<li><p>Blocks until EOF is reached (in which case it returns <code>-1</code>), or at least 1 byte is available.</p>\n</li>\n<li><p>Fills the byte array with the bytes so returned.</p>\n</li>\n<li><p>Marks the inputstream as having 'consumed' all that you just got.</p>\n</li>\n<li><p>Returns a value representing how many bytes have been filled.</p>\n</li>\n</ul>\n<p>That's sort of the point of java: The how is irrelevant. Had the how not been irrelevant, writing a JVM for a new platform could be either impossible or require full virtualization, making it incredibly slow. The docs give themselves some 'may' clauses exactly so that this can be avoided.</p>\n<p>One place where <code>may</code> does show up in BIO: When you <code>.interrupt()</code> a thread that is currently locked in a BIO <code>.write()</code> call (and the bytes haven't all been sent yet, let's say the network is slow and you sent a big array), o a BIO <code>.read()</code> call (it blocks until at least 1 byte is available; let's say the other side isn't sending anything) - then what happens? The docs leave it out. It 'may' result in an <code>IOException</code> being thrown, thus ending the read/write call, with a message indicating you interrupted it. Or, <code>.interrupt()</code> does nothing, and it is in fact impossible to interrupt a thread frozen on a BIO call. Most JVMs do the exception thing (fortunately), but the docs leave room - if for whatever reason the underlying OS/arch don't make that feasible, then a JVM is free not to do anything if you attempt to <code>interrupt()</code>. Conclusion: If you want to write proper 'write once run anywhere' code you can't rely on the idea that you can <code>.interrupt()</code> BIO freezes.</p>\n"}],"owner":{"account_id":2848663,"reputation":387,"user_id":2446324,"display_name":"Jiankuan Xing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72933617,"answer_count":1,"score":0,"last_activity_date":1657512661,"creation_date":1657507483,"question_id":72933244,"body_markdown":"Since JDK 1.4, Direct Buffer was introduced along with Java NIO. One reason of it is Java GC may move the memory. Therefore the buffer data must be put off heap.\r\n\r\nI&#39;m wondering why traditional Java blocking IO api (BIO) doesn&#39;t need a direct buffer? Does BIO use something like direct buffer internally, or are there some other mechanisms to avoid the &quot;memory movement&quot; problem?","title":"Why doesn&#39;t traditional Java BIO api need direct buffer?","body":"<p>Since JDK 1.4, Direct Buffer was introduced along with Java NIO. One reason of it is Java GC may move the memory. Therefore the buffer data must be put off heap.</p>\n<p>I'm wondering why traditional Java blocking IO api (BIO) doesn't need a direct buffer? Does BIO use something like direct buffer internally, or are there some other mechanisms to avoid the &quot;memory movement&quot; problem?</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":3350252,"reputation":199,"user_id":2814446,"accept_rate":43,"display_name":"CodeIntro"},"score":0,"creation_date":1657511556,"post_id":72933353,"comment_id":128818797,"body_markdown":"There could be situation that my string value coming like `&quot;This is the code ABC xyz use for something&quot;`. In that case I have to have the `&quot;ABC&quot;` only filter as well.","body":"There could be situation that my string value coming like <code>&quot;This is the code ABC xyz use for something&quot;</code>. In that case I have to have the <code>&quot;ABC&quot;</code> only filter as well."},{"owner":{"account_id":8159822,"reputation":653,"user_id":6144186,"display_name":"Nam Tran"},"score":0,"creation_date":1657511577,"post_id":72933353,"comment_id":128818800,"body_markdown":"This code finds the groups match your pattern &quot;(ABC|ABC :).*&quot;, and your string has only one matched group &quot;ABC : xyz...&quot;, so it only has one item in list.","body":"This code finds the groups match your pattern &quot;(ABC|ABC :).*&quot;, and your string has only one matched group &quot;ABC : xyz...&quot;, so it only has one item in list."},{"owner":{"account_id":8159822,"reputation":653,"user_id":6144186,"display_name":"Nam Tran"},"score":0,"creation_date":1657511683,"post_id":72933353,"comment_id":128818815,"body_markdown":"With your regex, all possible matches as you mentioned should be: &quot;ABC&quot;, &quot;ABC :&quot;, &quot;ABC : &quot;, &quot;ABC : x&quot;, ... so on.","body":"With your regex, all possible matches as you mentioned should be: &quot;ABC&quot;, &quot;ABC :&quot;, &quot;ABC : &quot;, &quot;ABC : x&quot;, ... so on."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657511957,"creation_date":1657511957,"answer_id":72933559,"question_id":72933353,"body_markdown":"What you describe just isn&#39;t how regex engines work. They do not find all possible variant search results; they simply consume and give you all results, moving forward. In other words, had you written:\r\n\r\n```\r\nString my_regex = &quot;(ABC|ABC :)&quot;; // note, get rid of the .*\r\nString myString = &quot;This is the code ABC : xyz use for something ABC again&quot;;\r\n```\r\n\r\nThen you&#39;d get 2 results back - `ABC :` and `ABC`.\r\n\r\nYes, the regex could just as easily match just the `ABC` part instead of the `ABC :` part and it would still be valid. However, regexp matching is by default &#39;greedy&#39; - it will match as much as it can. For some operators (specifically, `*` and `+`) you can use the non-greedy variants: `*?` and `+?` which will match as little as possible.\r\n\r\nIn other words, given:\r\n\r\n```\r\nString regex = &quot;(a*?)(a+)&quot;;\r\nString myString = &quot;aaaaa&quot;;\r\n```\r\n\r\nThen group 1 would match 0 `a` (that&#39;s the shortest string that can match `(a*?)` whilst still being able to match the entire regex to the input), and group 2 would be `aaaaa`.\r\n\r\nIf, on the other hand, you wrote `(a*)(a+)`, then group 1 would be `aaaa` and group 2 would be `a`. It is not possible to ask the regexp engine to provide for you the combinatory explosion, with every possible length of &#39;a&#39; - which appears to be what you want. The regexp API that ships with java does not have any option to do this, nor does any other regexp API I know of, so you&#39;d have to write that yourself, perhaps. I admit I haven&#39;t scoured the web for every possible alternate regex engine impl for java, there are a bunch of third party libraries, perhaps one of them can do it.\r\n\r\nNB: I said at the start: Get rid of the .*. That&#39;s because otherwise it&#39;s still just the one match: `ABC : xyz use for something ABC again` is the longest possible match and given that regex engines are greedy, that&#39;s what you will get: It is a valid &#39;interpretation&#39; of your string (1 match), consuming the most - that&#39;s how it works.\r\n\r\nNB2: Greediness can never change whether a regex even matches or not. It just changes which of the input is assigned to which group, and when `find()`ing more than once (which `.results()` does - it `find()`s until no more matches are found - which matches you get.\r\n","title":"Get all possible matches in a regex match (In Java)?","body":"<p>What you describe just isn't how regex engines work. They do not find all possible variant search results; they simply consume and give you all results, moving forward. In other words, had you written:</p>\n<pre><code>String my_regex = &quot;(ABC|ABC :)&quot;; // note, get rid of the .*\nString myString = &quot;This is the code ABC : xyz use for something ABC again&quot;;\n</code></pre>\n<p>Then you'd get 2 results back - <code>ABC :</code> and <code>ABC</code>.</p>\n<p>Yes, the regex could just as easily match just the <code>ABC</code> part instead of the <code>ABC :</code> part and it would still be valid. However, regexp matching is by default 'greedy' - it will match as much as it can. For some operators (specifically, <code>*</code> and <code>+</code>) you can use the non-greedy variants: <code>*?</code> and <code>+?</code> which will match as little as possible.</p>\n<p>In other words, given:</p>\n<pre><code>String regex = &quot;(a*?)(a+)&quot;;\nString myString = &quot;aaaaa&quot;;\n</code></pre>\n<p>Then group 1 would match 0 <code>a</code> (that's the shortest string that can match <code>(a*?)</code> whilst still being able to match the entire regex to the input), and group 2 would be <code>aaaaa</code>.</p>\n<p>If, on the other hand, you wrote <code>(a*)(a+)</code>, then group 1 would be <code>aaaa</code> and group 2 would be <code>a</code>. It is not possible to ask the regexp engine to provide for you the combinatory explosion, with every possible length of 'a' - which appears to be what you want. The regexp API that ships with java does not have any option to do this, nor does any other regexp API I know of, so you'd have to write that yourself, perhaps. I admit I haven't scoured the web for every possible alternate regex engine impl for java, there are a bunch of third party libraries, perhaps one of them can do it.</p>\n<p>NB: I said at the start: Get rid of the .*. That's because otherwise it's still just the one match: <code>ABC : xyz use for something ABC again</code> is the longest possible match and given that regex engines are greedy, that's what you will get: It is a valid 'interpretation' of your string (1 match), consuming the most - that's how it works.</p>\n<p>NB2: Greediness can never change whether a regex even matches or not. It just changes which of the input is assigned to which group, and when <code>find()</code>ing more than once (which <code>.results()</code> does - it <code>find()</code>s until no more matches are found - which matches you get.</p>\n"}],"owner":{"account_id":3350252,"reputation":199,"user_id":2814446,"accept_rate":43,"display_name":"CodeIntro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72933559,"answer_count":1,"score":0,"last_activity_date":1657511957,"creation_date":1657509440,"question_id":72933353,"body_markdown":"I am using a regex to match few possible values in a string that coming with my objects, there I need to get all possible values that are matching from my string as below,\r\n\r\nIf my string value is `&quot;This is the code ABC : xyz use for something&quot;`.\r\n\r\nHere is my code that I am using to extract matchers,\r\n\r\n    String my_regex = &quot;(ABC|ABC :).*&quot;;\r\n    \r\n    List &lt;String&gt; matchers = Pattern.compile(my_regex, Pattern.CASE_INSENSITIVE)\r\n                                    .matcher(my_string)\r\n                                    .results()\r\n                                    .map(MatchResult::group)\r\n                                    .collect(Collection.toList());\r\n\r\nI am expecting the 2 list items as the output &gt; {&quot;ABC&quot;, &quot;ABC :&quot;}, But I am only getting one. Help would be highly appreciated. ","title":"Get all possible matches in a regex match (In Java)?","body":"<p>I am using a regex to match few possible values in a string that coming with my objects, there I need to get all possible values that are matching from my string as below,</p>\n<p>If my string value is <code>&quot;This is the code ABC : xyz use for something&quot;</code>.</p>\n<p>Here is my code that I am using to extract matchers,</p>\n<pre><code>String my_regex = &quot;(ABC|ABC :).*&quot;;\n\nList &lt;String&gt; matchers = Pattern.compile(my_regex, Pattern.CASE_INSENSITIVE)\n                                .matcher(my_string)\n                                .results()\n                                .map(MatchResult::group)\n                                .collect(Collection.toList());\n</code></pre>\n<p>I am expecting the 2 list items as the output &gt; {&quot;ABC&quot;, &quot;ABC :&quot;}, But I am only getting one. Help would be highly appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":1,"creation_date":1467608015,"post_id":38177140,"comment_id":63781429,"body_markdown":"Please take a look [here](http://www.java-made-easy.com/variable-scope.html)","body":"Please take a look <a href=\"http://www.java-made-easy.com/variable-scope.html\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":1351835,"reputation":5211,"user_id":1291235,"accept_rate":60,"display_name":"Moonlit"},"score":0,"creation_date":1467608299,"post_id":38177140,"comment_id":63781509,"body_markdown":"Long story short: The scope of a variable defines the section of the code in which the variable is visible. In general, variables defined within a block are not accessible outside that block. You can learn what this means by looking at the links posted above, it is not too difficult.","body":"Long story short: The scope of a variable defines the section of the code in which the variable is visible. In general, variables defined within a block are not accessible outside that block. You can learn what this means by looking at the links posted above, it is not too difficult."}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1467612508,"creation_date":1467608422,"answer_id":38177231,"question_id":38177140,"body_markdown":"A local variable&lt;sup&gt;1&lt;/sup&gt; is &quot;in scope&quot; if code can access it and out of scope if it can&#39;t. In Java, variables are scoped to the block (`{}`) they&#39;re declared in. So:\r\n\r\n    void foo() {\r\n        int a = 42;\r\n\r\n        if (/*some condition*/) {\r\n            String q = &quot;Life, the Universe, and Everything&quot;;\r\n\r\n            // 1. Both `a` and `q` are in scope here\r\n            System.out.println(a);\r\n            System.out.println(q);\r\n            if (/*another condition*/) {\r\n                // 2. Both `a` and `q` are in scope here, too\r\n                System.out.println(a);\r\n                System.out.println(q);\r\n            }\r\n        }\r\n\r\n        // 3. Only `a` is in scope here\r\n        System.out.println(a);\r\n        System.out.println(q); // ERROR, `q` is not in scope\r\n    }\r\n\r\nNote (1), (2), and (3) above:\r\n\r\n1. The code can access `q` because `q` is declared in the same block as the code; tt can access `a` because it&#39;s declared in the containing block.\r\n\r\n2. The code can access `q` because it&#39;s declared in the containing block; it can access `a` because it&#39;s in the next block out.\r\n\r\n3. The code can access `a`, but not `q`, because `q` isn&#39;t declared in the block or any of the blocks (or a couple of other things) containing it.\r\n\r\nWhen figuring out what an unqualified identifier (like `a` or `q` above, as opposed to the `foo` in `this.foo` or the `toLowerCase` in `q.toLowerCase`, which are *qualified*) is, the Java compiler will look in each of these places, one after the other, until it finds a match:\r\n\r\n* For a variable with that name in the innermost block\r\n* For a variable with that name in the next block out, and so on\r\n* For a *field*&lt;sup&gt;2&lt;/sup&gt; or *method* (generally: *member*) with that name in the current class\r\n* For a class with that name from a package that&#39;s been imported\r\n* For a package with that name\r\n\r\nThere are a few others for that list (I&#39;m not going to get into static imports with a beginner).\r\n\r\nThere&#39;s a lot more to scope, I suggest working through some tutorials and/or a beginning Java book for more.\r\n\r\n----\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; &quot;local variable&quot; vs. &quot;variable&quot; - The [Java Language Specification][1] uses &quot;variable&quot; in a more general way than most people do in common speech. When I say &quot;variable&quot; in this answer, I mean what the JLS calls a &quot;*local* variable&quot;.\r\n\r\n&lt;sup&gt;2&lt;/sup&gt; &quot;field&quot; - The JLS calls fields &quot;variables&quot; in some places (and &quot;fields&quot; in other places), hence (1) above. :-)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/index.html","title":"What is &#39;scope&#39; in Java?","body":"<p>A local variable<sup>1</sup> is \"in scope\" if code can access it and out of scope if it can't. In Java, variables are scoped to the block (<code>{}</code>) they're declared in. So:</p>\n\n<pre><code>void foo() {\n    int a = 42;\n\n    if (/*some condition*/) {\n        String q = \"Life, the Universe, and Everything\";\n\n        // 1. Both `a` and `q` are in scope here\n        System.out.println(a);\n        System.out.println(q);\n        if (/*another condition*/) {\n            // 2. Both `a` and `q` are in scope here, too\n            System.out.println(a);\n            System.out.println(q);\n        }\n    }\n\n    // 3. Only `a` is in scope here\n    System.out.println(a);\n    System.out.println(q); // ERROR, `q` is not in scope\n}\n</code></pre>\n\n<p>Note (1), (2), and (3) above:</p>\n\n<ol>\n<li><p>The code can access <code>q</code> because <code>q</code> is declared in the same block as the code; tt can access <code>a</code> because it's declared in the containing block.</p></li>\n<li><p>The code can access <code>q</code> because it's declared in the containing block; it can access <code>a</code> because it's in the next block out.</p></li>\n<li><p>The code can access <code>a</code>, but not <code>q</code>, because <code>q</code> isn't declared in the block or any of the blocks (or a couple of other things) containing it.</p></li>\n</ol>\n\n<p>When figuring out what an unqualified identifier (like <code>a</code> or <code>q</code> above, as opposed to the <code>foo</code> in <code>this.foo</code> or the <code>toLowerCase</code> in <code>q.toLowerCase</code>, which are <em>qualified</em>) is, the Java compiler will look in each of these places, one after the other, until it finds a match:</p>\n\n<ul>\n<li>For a variable with that name in the innermost block</li>\n<li>For a variable with that name in the next block out, and so on</li>\n<li>For a <em>field</em><sup>2</sup> or <em>method</em> (generally: <em>member</em>) with that name in the current class</li>\n<li>For a class with that name from a package that's been imported</li>\n<li>For a package with that name</li>\n</ul>\n\n<p>There are a few others for that list (I'm not going to get into static imports with a beginner).</p>\n\n<p>There's a lot more to scope, I suggest working through some tutorials and/or a beginning Java book for more.</p>\n\n<hr>\n\n<p><sup>1</sup> \"local variable\" vs. \"variable\" - The <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/index.html\" rel=\"noreferrer\">Java Language Specification</a> uses \"variable\" in a more general way than most people do in common speech. When I say \"variable\" in this answer, I mean what the JLS calls a \"<em>local</em> variable\".</p>\n\n<p><sup>2</sup> \"field\" - The JLS calls fields \"variables\" in some places (and \"fields\" in other places), hence (1) above. :-)</p>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467610784,"creation_date":1467610784,"answer_id":38177588,"question_id":38177140,"body_markdown":"From [Section 6.3 of the Java Language Specification][1]:\r\n\r\n&gt; The _scope_ of a declaration is the region of the program within which the entity declared by the declaration can be referred to using a simple name, provided it is visible.\r\n\r\nThis concept of _scope_ applies to many kinds of entities in Java: everything from local variables to top-level classes and packages. Even when just talking about variables, there are many cases, from local variables to statically imported fields from another class to the parameter of an exception handler in a `catch` clause of a `try` statement. For details, read the JLS or search the web for &quot;Java scope&quot; and read one or more of the many tutorials on the subject that show up.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-6.html#jls-6.3","title":"What is &#39;scope&#39; in Java?","body":"<p>From <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-6.html#jls-6.3\" rel=\"nofollow\">Section 6.3 of the Java Language Specification</a>:</p>\n\n<blockquote>\n  <p>The <em>scope</em> of a declaration is the region of the program within which the entity declared by the declaration can be referred to using a simple name, provided it is visible.</p>\n</blockquote>\n\n<p>This concept of <em>scope</em> applies to many kinds of entities in Java: everything from local variables to top-level classes and packages. Even when just talking about variables, there are many cases, from local variables to statically imported fields from another class to the parameter of an exception handler in a <code>catch</code> clause of a <code>try</code> statement. For details, read the JLS or search the web for \"Java scope\" and read one or more of the many tutorials on the subject that show up.</p>\n"}],"owner":{"account_id":6642482,"reputation":161,"user_id":6542066,"display_name":"Dhruv Erry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6498,"favorite_count":0,"down_vote_count":8,"up_vote_count":13,"accepted_answer_id":38177231,"answer_count":2,"score":5,"last_activity_date":1657511526,"creation_date":1467607828,"question_id":38177140,"body_markdown":"I just started coding. I want to use a switch statement twice for the same variable, and I was told that to do this the variable would have to be &#39;in scope&#39;.\r\n\r\nBeing a beginner, I have no idea what that means. So what does being in scope mean? And, if a variable isn&#39;t in scope, how do I make it in scope?\r\n","title":"What is &#39;scope&#39; in Java?","body":"<p>I just started coding. I want to use a switch statement twice for the same variable, and I was told that to do this the variable would have to be 'in scope'.</p>\n\n<p>Being a beginner, I have no idea what that means. So what does being in scope mean? And, if a variable isn't in scope, how do I make it in scope?</p>\n"},{"tags":["java","spring-boot","intellij-idea","apache-kafka"],"comments":[{"owner":{"account_id":25235500,"reputation":181,"user_id":19115786,"display_name":"Roman"},"score":0,"creation_date":1657516516,"post_id":72933502,"comment_id":128819511,"body_markdown":"Can you add failure message?","body":"Can you add failure message?"},{"owner":{"account_id":25777667,"reputation":11,"user_id":19523740,"display_name":"Steven Hay"},"score":0,"creation_date":1657526646,"post_id":72933502,"comment_id":128822042,"body_markdown":"There is no failure message specifically, the new message listener simply never gets called and so the CountDownLatch is never decreased. If the message does reach the original listener then a JsonProcessingException will occur because the original listener has: `var fRecord = objectMapper.readValue(consumerRecord.value(), Request.class);``","body":"There is no failure message specifically, the new message listener simply never gets called and so the CountDownLatch is never decreased. If the message does reach the original listener then a JsonProcessingException will occur because the original listener has: `var fRecord = objectMapper.readValue(consumerRecord.value(), Request.class);``"}],"owner":{"account_id":25777667,"reputation":11,"user_id":19523740,"display_name":"Steven Hay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657511414,"creation_date":1657511235,"question_id":72933502,"body_markdown":"I have a few Embedded Kafka tests, here is the simplest of the bunch:\r\n\r\n```java\r\n@SpringBootTest\r\n@EmbeddedKafka(partitions = 1, brokerProperties = { &quot;listeners=PLAINTEXT://localhost:9092&quot;, &quot;port=9092&quot; })\r\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\r\npublic class KafkaConsumerTest {\r\n    private static final Logger logger = LoggerFactory.getLogger(KafkaConsumerTest.class);\r\n\r\n    @Autowired\r\n    private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n\r\n    @Autowired\r\n    private KafkaListenerEndpointRegistry registry;\r\n\r\n    @Autowired\r\n    private MessageListener messageListener;\r\n\r\n    @Value(&quot;${kafka.fulfillment-topic}&quot;)\r\n    private String topic;\r\n\r\n\r\n    @Test\r\n    public void messageListenerShouldReceiveMessage() throws InterruptedException {\r\n        var fulfillmentContainer = (ConcurrentMessageListenerContainer&lt;?, ?&gt;) registry.getListenerContainer(&quot;fulfillment-listener&quot;);\r\n        fulfillmentContainer.stop();\r\n\r\n        var latch = new CountDownLatch(1);\r\n        fulfillmentContainer.getContainerProperties().setMessageListener(\r\n                (AcknowledgingConsumerAwareMessageListener&lt;String, String&gt;) (consumerRecord, acknowledgment, consumer) -&gt; latch.countDown());\r\n        fulfillmentContainer.start();\r\n\r\n        var result = kafkaTemplate.send(topic, &quot;hello, world!&quot;);\r\n        Assertions.assertThat(latch.await(10, TimeUnit.MINUTES)).isTrue();\r\n    }\r\n}\r\n```\r\n\r\nAnd then, I have a listener setup in a non-test class:\r\n\r\n```java\r\n@KafkaListener(id = &quot;fulfillment-listener&quot;, topics = &quot;${kafka.fulfillment-topic}&quot;, groupId = &quot;test-group&quot;)\r\npublic void listenForFulfillment(ConsumerRecord&lt;?, String&gt; consumerRecord, Acknowledgment acknowledgment) {\r\n    acknowledgment.acknowledge();\r\n\r\n    taskExecutor.execute(() -&gt; {\r\n        // do stuff\r\n    });\r\n}\r\n```\r\n\r\nThe purpose of the test is to intercept the call to this listener and confirm it happened. If I wish, I could forward the message onto the original listener (which I do in other tests). The issue is, when I run this via IntellJ it passes and the request is intercepted.\r\n\r\nIf I run this test on the terminal, it fails and the message is sent directly to the original listener ever touching my new one. Furthermore, if I simply stop the container via .stop() and never start it again then running via IntelliJ the message (as I would expect) never reaches the original listener, however running via the terminal `mvn test`, even when the container is stopped, the message somehow reaches the original listener.\r\n\r\nThis is happening for every single one of my Kafka tests and I have no idea how to solve it. All of them succeed when run via IntelliJ&#39;s built in test runner and yet they *all* fail when run via `mvn test`. If anyone has any insight into why, please let me know.\r\n\r\nAdditional info:\r\nJDK: \r\n```sh\r\n➜  ~ java -version\r\nopenjdk version &quot;17.0.3&quot; 2022-04-19\r\nOpenJDK Runtime Environment (build 17.0.3+7-Debian-1deb11u1)\r\nOpenJDK 64-Bit Server VM (build 17.0.3+7-Debian-1deb11u1, mixed mode, sharing)\r\n```\r\n\r\nDependencies:\r\n```xml\r\n&lt;parent&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n...\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Embedded Kafka tests only succeeding when run from IntelliJ, fail on terminal","body":"<p>I have a few Embedded Kafka tests, here is the simplest of the bunch:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@EmbeddedKafka(partitions = 1, brokerProperties = { &quot;listeners=PLAINTEXT://localhost:9092&quot;, &quot;port=9092&quot; })\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\npublic class KafkaConsumerTest {\n    private static final Logger logger = LoggerFactory.getLogger(KafkaConsumerTest.class);\n\n    @Autowired\n    private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n\n    @Autowired\n    private KafkaListenerEndpointRegistry registry;\n\n    @Autowired\n    private MessageListener messageListener;\n\n    @Value(&quot;${kafka.fulfillment-topic}&quot;)\n    private String topic;\n\n\n    @Test\n    public void messageListenerShouldReceiveMessage() throws InterruptedException {\n        var fulfillmentContainer = (ConcurrentMessageListenerContainer&lt;?, ?&gt;) registry.getListenerContainer(&quot;fulfillment-listener&quot;);\n        fulfillmentContainer.stop();\n\n        var latch = new CountDownLatch(1);\n        fulfillmentContainer.getContainerProperties().setMessageListener(\n                (AcknowledgingConsumerAwareMessageListener&lt;String, String&gt;) (consumerRecord, acknowledgment, consumer) -&gt; latch.countDown());\n        fulfillmentContainer.start();\n\n        var result = kafkaTemplate.send(topic, &quot;hello, world!&quot;);\n        Assertions.assertThat(latch.await(10, TimeUnit.MINUTES)).isTrue();\n    }\n}\n</code></pre>\n<p>And then, I have a listener setup in a non-test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(id = &quot;fulfillment-listener&quot;, topics = &quot;${kafka.fulfillment-topic}&quot;, groupId = &quot;test-group&quot;)\npublic void listenForFulfillment(ConsumerRecord&lt;?, String&gt; consumerRecord, Acknowledgment acknowledgment) {\n    acknowledgment.acknowledge();\n\n    taskExecutor.execute(() -&gt; {\n        // do stuff\n    });\n}\n</code></pre>\n<p>The purpose of the test is to intercept the call to this listener and confirm it happened. If I wish, I could forward the message onto the original listener (which I do in other tests). The issue is, when I run this via IntellJ it passes and the request is intercepted.</p>\n<p>If I run this test on the terminal, it fails and the message is sent directly to the original listener ever touching my new one. Furthermore, if I simply stop the container via .stop() and never start it again then running via IntelliJ the message (as I would expect) never reaches the original listener, however running via the terminal <code>mvn test</code>, even when the container is stopped, the message somehow reaches the original listener.</p>\n<p>This is happening for every single one of my Kafka tests and I have no idea how to solve it. All of them succeed when run via IntelliJ's built in test runner and yet they <em>all</em> fail when run via <code>mvn test</code>. If anyone has any insight into why, please let me know.</p>\n<p>Additional info:\nJDK:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>➜  ~ java -version\nopenjdk version &quot;17.0.3&quot; 2022-04-19\nOpenJDK Runtime Environment (build 17.0.3+7-Debian-1deb11u1)\nOpenJDK 64-Bit Server VM (build 17.0.3+7-Debian-1deb11u1, mixed mode, sharing)\n</code></pre>\n<p>Dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n...\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657510642,"creation_date":1657510642,"answer_id":72933453,"question_id":72932996,"body_markdown":"There is no way to disable keys in the keyboard, especially not conditionally.  You can use digits in the xml, but all that does is apply a textwatcher which eliminates changes that aren&#39;t what it expects, and its not conditional.\r\n\r\nYou can get what you want fairly easily though.  Create a new TextWatcher with the following function:\r\n\r\n    void onTextChanged (CharSequence s, \r\n                    int start, \r\n                    int before, \r\n                    int count) {\r\n        String newText = s.toString().replace(&quot;\\n\\n&quot;,&quot;\\n&quot;);\r\n        if(newText.charAt(0) == &#39;\\n&#39;) {\r\n            newText = newText.substring(1);\r\n        }\r\n        if(!s.toString().equals(newText)) {\r\n           setText(newText);\r\n        }\r\n    }\r\n    \r\nBasically, that looks for any double newlines an replaces it with single newlines.  Then it chops off any leading newlines.  If either of those things changes the string (if any of them were found) it sets the text to that new string formed by fixing them.  If not, it exits without changing the text.","title":"How to prevent user for going new line when the current line is empty in edittext android?","body":"<p>There is no way to disable keys in the keyboard, especially not conditionally.  You can use digits in the xml, but all that does is apply a textwatcher which eliminates changes that aren't what it expects, and its not conditional.</p>\n<p>You can get what you want fairly easily though.  Create a new TextWatcher with the following function:</p>\n<pre><code>void onTextChanged (CharSequence s, \n                int start, \n                int before, \n                int count) {\n    String newText = s.toString().replace(&quot;\\n\\n&quot;,&quot;\\n&quot;);\n    if(newText.charAt(0) == '\\n') {\n        newText = newText.substring(1);\n    }\n    if(!s.toString().equals(newText)) {\n       setText(newText);\n    }\n}\n</code></pre>\n<p>Basically, that looks for any double newlines an replaces it with single newlines.  Then it chops off any leading newlines.  If either of those things changes the string (if any of them were found) it sets the text to that new string formed by fixing them.  If not, it exits without changing the text.</p>\n"}],"owner":{"display_name":"user16971245"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657510642,"creation_date":1657503638,"question_id":72932996,"body_markdown":"**I have this code for printing bullet and number in my edit text**\r\n\r\n&gt; XML File\r\n\r\n    &lt;com.example.nutrifood.myEditText\r\n                android:id=&quot;@+id/mealIngredientsInput&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:cursorVisible=&quot;true&quot;\r\n                android:fontFamily=&quot;@font/hindmadurai_regular&quot;\r\n                android:gravity=&quot;top&quot;\r\n                android:inputType=&quot;textMultiLine&quot;\r\n                android:minLines=&quot;4&quot;\r\n                android:paddingStart=&quot;25dp&quot;\r\n                android:paddingEnd=&quot;20dp&quot;\r\n                android:textColor=&quot;@color/light&quot;\r\n                android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n&gt; myEditText.java\r\n\r\n\r\n\r\npublic class myEditText extends androidx.appcompat.widget.AppCompatEditText {\r\n\r\n    public Rect rect = new Rect();\r\n    public Paint paint = new Paint();\r\n    private myEditText editTextinput = findViewById(R.id.editTextinput);\r\n    boolean isTyping;\r\n\r\n    public myEditText(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n        \r\n       ...\r\n\r\n        editTextInput.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void onTextChanged(CharSequence text, int start, int lengthBefore, int lengthAfter) {\r\n                if (text.length() == 0) {\r\n                    isTyping = false;\r\n                    return;\r\n                }            \r\n                isTyping = true;\r\n            }\r\n\r\n         ...\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        if (isTyping) {\r\n            int baseline = getBaseline();\r\n            for (int i = 0; i &lt; getLineCount(); i++) {\r\n                canvas.drawText(&quot;  •&quot;, rect.left, baseline, paint);\r\n                baseline += getLineHeight();\r\n            }\r\n        }\r\n        super.onDraw(canvas);\r\n    }\r\n}\r\n\r\nThis will give me the output like this.\r\n\r\n• One\r\n\r\n• Two\r\n\r\n•\r\n\r\n•\r\n\r\n•\r\n\r\nIs there a way to disable the new line in keyboard when the current line is empty?\r\n\r\n","title":"How to prevent user for going new line when the current line is empty in edittext android?","body":"<p><strong>I have this code for printing bullet and number in my edit text</strong></p>\n<blockquote>\n<p>XML File</p>\n</blockquote>\n<pre><code>&lt;com.example.nutrifood.myEditText\n            android:id=&quot;@+id/mealIngredientsInput&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:cursorVisible=&quot;true&quot;\n            android:fontFamily=&quot;@font/hindmadurai_regular&quot;\n            android:gravity=&quot;top&quot;\n            android:inputType=&quot;textMultiLine&quot;\n            android:minLines=&quot;4&quot;\n            android:paddingStart=&quot;25dp&quot;\n            android:paddingEnd=&quot;20dp&quot;\n            android:textColor=&quot;@color/light&quot;\n            android:textSize=&quot;16sp&quot; /&gt;\n</code></pre>\n<blockquote>\n<p>myEditText.java</p>\n</blockquote>\n<p>public class myEditText extends androidx.appcompat.widget.AppCompatEditText {</p>\n<pre><code>public Rect rect = new Rect();\npublic Paint paint = new Paint();\nprivate myEditText editTextinput = findViewById(R.id.editTextinput);\nboolean isTyping;\n\npublic myEditText(Context context, AttributeSet attrs) {\n    super(context, attrs);\n    \n   ...\n\n    editTextInput.addTextChangedListener(new TextWatcher() {\n        @Override\n        public void onTextChanged(CharSequence text, int start, int lengthBefore, int lengthAfter) {\n            if (text.length() == 0) {\n                isTyping = false;\n                return;\n            }            \n            isTyping = true;\n        }\n\n     ...\n    });\n}\n\n@Override\nprotected void onDraw(Canvas canvas) {\n    if (isTyping) {\n        int baseline = getBaseline();\n        for (int i = 0; i &lt; getLineCount(); i++) {\n            canvas.drawText(&quot;  •&quot;, rect.left, baseline, paint);\n            baseline += getLineHeight();\n        }\n    }\n    super.onDraw(canvas);\n}\n</code></pre>\n<p>}</p>\n<p>This will give me the output like this.</p>\n<p>• One</p>\n<p>• Two</p>\n<p>•</p>\n<p>•</p>\n<p>•</p>\n<p>Is there a way to disable the new line in keyboard when the current line is empty?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":8159822,"reputation":653,"user_id":6144186,"display_name":"Nam Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657508548,"creation_date":1657508548,"answer_id":72933301,"question_id":72933049,"body_markdown":"You are missing one open and close parenthesis to make them in one capturing group:\r\n\r\n    .*POST  \\/api\\/user\\/register((?!client : 1)[\\s\\S])*?client : 2\r\n\r\n","title":"Regex for matching content between two string in multiple lines","body":"<p>You are missing one open and close parenthesis to make them in one capturing group:</p>\n<pre><code>.*POST  \\/api\\/user\\/register((?!client : 1)[\\s\\S])*?client : 2\n</code></pre>\n"}],"owner":{"account_id":18758401,"reputation":33,"user_id":13677874,"display_name":"hxy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72933301,"answer_count":1,"score":1,"last_activity_date":1657508548,"creation_date":1657504646,"question_id":72933049,"body_markdown":"I&#39;m trying to get content between &quot;POST  /api/user/register&quot; and &quot;client : 2&quot; in log text.\r\nUse this regex:\r\n```\r\n.*POST  \\/api\\/user\\/register(?!client : 1)[\\s\\S]*?client : 2\r\n```\r\nLog text:\r\n```\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 1\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 1\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\r\n```\r\nThe match reuslt is：\r\n```\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\r\n```\r\n```\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 1\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\r\n```\r\n```\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 1\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\r\n```\r\nThe result include between &quot;POST  /api/user/register&quot; and  &quot;client : 1&quot;,How to exculde that?\r\nThe result I want is：\r\n```\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\r\n\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\r\n\r\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\r\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\r\n```","title":"Regex for matching content between two string in multiple lines","body":"<p>I'm trying to get content between &quot;POST  /api/user/register&quot; and &quot;client : 2&quot; in log text.\nUse this regex:</p>\n<pre><code>.*POST  \\/api\\/user\\/register(?!client : 1)[\\s\\S]*?client : 2\n</code></pre>\n<p>Log text:</p>\n<pre><code>2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 1\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 1\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\n</code></pre>\n<p>The match reuslt is：</p>\n<pre><code>2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\n</code></pre>\n<pre><code>2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 1\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\n</code></pre>\n<pre><code>2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 1\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### End ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : ###### Start ######\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\n</code></pre>\n<p>The result include between &quot;POST  /api/user/register&quot; and  &quot;client : 1&quot;,How to exculde that?\nThe result I want is：</p>\n<pre><code>2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\n\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\n\n2022-06-30 15:54:31.456  INFO 22593 --- [http-nio-8080-exec-10]    : POST  /api/user/register\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key1 : value1\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : key2 : value2\n2022-06-30 15:54:31.457  INFO 22593 --- [http-nio-8080-exec-10]    : client : 2\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657508455,"creation_date":1657508455,"answer_id":72933298,"question_id":72933066,"body_markdown":"If `zone` argument is not passed to `@scheduled` then it will use server&#39;s default time zone,\r\nto change it you can send `zone` parameter like :\r\n\r\n    @Scheduled(cron = &quot;0/5 * * ? * *&quot;, zone=&quot;IST&quot;)\r\n\r\nReference:[Spring Api doc][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html","title":"Are Spring @Scheduled cron expressions in system default timezone or UTC?","body":"<p>If <code>zone</code> argument is not passed to <code>@scheduled</code> then it will use server's default time zone,\nto change it you can send <code>zone</code> parameter like :</p>\n<pre><code>@Scheduled(cron = &quot;0/5 * * ? * *&quot;, zone=&quot;IST&quot;)\n</code></pre>\n<p>Reference:<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html\" rel=\"nofollow noreferrer\">Spring Api doc</a></p>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":733,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1657542139,"accepted_answer_id":72933298,"answer_count":1,"score":1,"last_activity_date":1657508455,"creation_date":1657504845,"question_id":72933066,"body_markdown":"Are the Spring `@Scheduled` [cron expressions](https://spring.io/blog/2020/11/10/new-in-spring-5-3-improved-cron-expressions) using the system default timezone or UTC?\r\n","title":"Are Spring @Scheduled cron expressions in system default timezone or UTC?","body":"<p>Are the Spring <code>@Scheduled</code> <a href=\"https://spring.io/blog/2020/11/10/new-in-spring-5-3-improved-cron-expressions\" rel=\"nofollow noreferrer\">cron expressions</a> using the system default timezone or UTC?</p>\n"},{"tags":["java","mysql","hibernate","jpa","cascade"],"comments":[{"owner":{"account_id":1198292,"reputation":671,"user_id":1169535,"accept_rate":58,"display_name":"Stefania"},"score":0,"creation_date":1384853944,"post_id":14875793,"comment_id":29892661,"body_markdown":"Have you found a solution to this problem using jpa? I&#39;m having the same problem and I don&#39;t want to use a bidirectional relation, creating lazy fetching on the parent.","body":"Have you found a solution to this problem using jpa? I&#39;m having the same problem and I don&#39;t want to use a bidirectional relation, creating lazy fetching on the parent."}],"answers":[{"tags":[],"owner":{"account_id":40939,"reputation":41525,"user_id":118846,"display_name":"Mikko Maunu"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1583092231,"creation_date":1360867819,"answer_id":14881934,"question_id":14875793,"body_markdown":"JPA does offer possibility to [cascade][1] operations (merge, persist, refresh, remove) to associated entities. Logic is in JPA and does not utilize database cascades.\r\n\r\n    @OneToMany(cascade=CascadeType.REMOVE)\r\n\r\nThere is no JPA standard compliant way to do cascades with database cascades. If such a cascades are preferred, we have to fall back to Hibernate specific construct: [@OnDelete][2]. It works with `@OneToMany` at least, but there used to be some problems in the past with `@OneToOne` and `@OnDelete`.\r\n\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n\r\n\r\nBe aware that adding this annotation to an existing constraint will not update it. You may have to manually drop it first to properly update the schema.\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/persistence/CascadeType.html\r\n  [2]: http://docs.jboss.org/hibernate/core/3.6/javadocs/","title":"JPA + Hibernate: How to define a constraint having ON DELETE CASCADE","body":"<p>JPA does offer possibility to <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/CascadeType.html\" rel=\"noreferrer\">cascade</a> operations (merge, persist, refresh, remove) to associated entities. Logic is in JPA and does not utilize database cascades.</p>\n\n<pre><code>@OneToMany(cascade=CascadeType.REMOVE)\n</code></pre>\n\n<p>There is no JPA standard compliant way to do cascades with database cascades. If such a cascades are preferred, we have to fall back to Hibernate specific construct: <a href=\"http://docs.jboss.org/hibernate/core/3.6/javadocs/\" rel=\"noreferrer\">@OnDelete</a>. It works with <code>@OneToMany</code> at least, but there used to be some problems in the past with <code>@OneToOne</code> and <code>@OnDelete</code>.</p>\n\n<pre><code>@OnDelete(action = OnDeleteAction.CASCADE)\n</code></pre>\n\n<p>Be aware that adding this annotation to an existing constraint will not update it. You may have to manually drop it first to properly update the schema.</p>\n"},{"tags":[],"owner":{"account_id":3090566,"reputation":11682,"user_id":2616755,"accept_rate":50,"display_name":"cmd"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1383223738,"creation_date":1383182783,"answer_id":19696859,"question_id":14875793,"body_markdown":"There is no clean cut means to do this in JPA. The following will get you what you want...\r\nYou can use `CascadeType.DELETE`, however this annotation only applies to the objects in the `EntityManager`, not the database. You want to be sure that `ON DELETE CASCADE` is added to the database constraint. To verify, you can configure JPA to generate a ddl file. Take a look at the `ddl` file, you&#39;ll notice that `ON DELETE CASCADE` is not part of the constraint. Add `ON DELETE CASCADE` to actual SQL in the `ddl` file, then update your database schema from the ddl. This will fix your problem .\r\n\r\nThis [link][1] shows how to use `ON DELETE CASCADE` on for `CONSTRAINT` in MySQL. You do this on the constraint. You can also do it in a `CREATE TABLE` or `ALTER TABLE` statement. It&#39;s likely that JPA creates the constraint in an `ALTER TABLE` statement. Simply add `ON DELETE CASCADE` to that statement.\r\n\r\nNote that some JPA implementors do provide a means for this functionality.\r\n\r\n\r\n  [1]: http://dev.mysql.com/doc/refman/5.6/en/create-table-foreign-keys.html\r\n\r\nLastly, Hibernate does supply this functionality using the `OnDelete(action = OnDeleteAction.CASCADE)` annotation.","title":"JPA + Hibernate: How to define a constraint having ON DELETE CASCADE","body":"<p>There is no clean cut means to do this in JPA. The following will get you what you want...\nYou can use <code>CascadeType.DELETE</code>, however this annotation only applies to the objects in the <code>EntityManager</code>, not the database. You want to be sure that <code>ON DELETE CASCADE</code> is added to the database constraint. To verify, you can configure JPA to generate a ddl file. Take a look at the <code>ddl</code> file, you'll notice that <code>ON DELETE CASCADE</code> is not part of the constraint. Add <code>ON DELETE CASCADE</code> to actual SQL in the <code>ddl</code> file, then update your database schema from the ddl. This will fix your problem .</p>\n\n<p>This <a href=\"http://dev.mysql.com/doc/refman/5.6/en/create-table-foreign-keys.html\" rel=\"noreferrer\">link</a> shows how to use <code>ON DELETE CASCADE</code> on for <code>CONSTRAINT</code> in MySQL. You do this on the constraint. You can also do it in a <code>CREATE TABLE</code> or <code>ALTER TABLE</code> statement. It's likely that JPA creates the constraint in an <code>ALTER TABLE</code> statement. Simply add <code>ON DELETE CASCADE</code> to that statement.</p>\n\n<p>Note that some JPA implementors do provide a means for this functionality.</p>\n\n<p>Lastly, Hibernate does supply this functionality using the <code>OnDelete(action = OnDeleteAction.CASCADE)</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":8184088,"reputation":289,"user_id":6160375,"display_name":"Alex Torson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492781521,"creation_date":1492781521,"answer_id":43544089,"question_id":14875793,"body_markdown":"You can use Hibernate annotation `org.hibernate.annotations@OnDelete(action = OnDeleteAction.CASCADE)` on `UserAcc.userInfo`:\r\n\r\n    public class UserAcc implements Serializable {\r\n\r\n    ...\r\n\r\n    @OneToOne(mappedBy = &quot;userAcc&quot;)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private UserInfo userInfo;\r\n\r\n    ...\r\n\r\nthis will generate DDL `ON DELETE CASCADE` on foreign key in `UserInfo`  table.","title":"JPA + Hibernate: How to define a constraint having ON DELETE CASCADE","body":"<p>You can use Hibernate annotation <code>org.hibernate.annotations@OnDelete(action = OnDeleteAction.CASCADE)</code> on <code>UserAcc.userInfo</code>:</p>\n\n<pre><code>public class UserAcc implements Serializable {\n\n...\n\n@OneToOne(mappedBy = \"userAcc\")\n@OnDelete(action = OnDeleteAction.CASCADE)\nprivate UserInfo userInfo;\n\n...\n</code></pre>\n\n<p>this will generate DDL <code>ON DELETE CASCADE</code> on foreign key in <code>UserInfo</code>  table.</p>\n"},{"tags":[],"owner":{"account_id":13955183,"reputation":305,"user_id":10077783,"display_name":"Montaser Sobaih"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615253104,"creation_date":1615253104,"answer_id":66539490,"question_id":14875793,"body_markdown":"You can define the constraint manually by using @JoinColumn(`foreignKey = @ForeignKey(...)`) as follows:-\r\n\r\n    // UserInfo.java\r\n    @Entity\r\n    @Table(name = &quot;USERINFO&quot;)\r\n    public class UserInfo implements Serializable {\r\n    \r\n    private static final long serialVersionUID = 5924361831551833717L;\r\n    \r\n    @Id\r\n    @Column(name = &quot;USERINFO_ID&quot;, nullable=false)\r\n    @GeneratedValue(strategy=GenerationType.AUTO)\r\n    private Integer userInfoId;\r\n    \r\n    @OneToOne(cascade = {CascadeType.ALL})\r\n    @JoinColumn(\r\n            name=&quot;USERID&quot;, \r\n            nullable=false,\r\n            foreignKey = @ForeignKey(\r\n                    name=&quot;FK_USER_ID&quot;,\r\n                    foreignKeyDefinition = &quot;FOREIGN KEY (USERID) REFERENCES USERACCOUNT(USERID) ON UPDATE CASCADE ON DELETE CASCADE&quot;\r\n            )\r\n    )\r\n    private UserAcc userAcc;\r\n    \r\n    \r\n    public Integer getUserInfoId() {\r\n        return userInfoId;\r\n    }\r\n    \r\n    public void setUserInfoId(Integer userInfoId) {\r\n        this.userInfoId = userInfoId;\r\n    }\r\n    ...\r\n\r\nThis will add the constraint during generating DDL.\r\n\r\nAfter the generation process is completed, you can check the DDL of `USERINFO` table and you will find that the constraint has been added with the cascading actions as shown below:-\r\n\r\n    create table USERINFO(\r\n        ....,\r\n        ....,\r\n        ....,\r\n        ....,\r\n        constraint FK_USER_ID foreign key (USERID) references USERACCOUNT(USERID) on update cascade on delete cascade\r\n    );\r\n\r\n","title":"JPA + Hibernate: How to define a constraint having ON DELETE CASCADE","body":"<p>You can define the constraint manually by using @JoinColumn(<code>foreignKey = @ForeignKey(...)</code>) as follows:-</p>\n<pre><code>// UserInfo.java\n@Entity\n@Table(name = &quot;USERINFO&quot;)\npublic class UserInfo implements Serializable {\n\nprivate static final long serialVersionUID = 5924361831551833717L;\n\n@Id\n@Column(name = &quot;USERINFO_ID&quot;, nullable=false)\n@GeneratedValue(strategy=GenerationType.AUTO)\nprivate Integer userInfoId;\n\n@OneToOne(cascade = {CascadeType.ALL})\n@JoinColumn(\n        name=&quot;USERID&quot;, \n        nullable=false,\n        foreignKey = @ForeignKey(\n                name=&quot;FK_USER_ID&quot;,\n                foreignKeyDefinition = &quot;FOREIGN KEY (USERID) REFERENCES USERACCOUNT(USERID) ON UPDATE CASCADE ON DELETE CASCADE&quot;\n        )\n)\nprivate UserAcc userAcc;\n\n\npublic Integer getUserInfoId() {\n    return userInfoId;\n}\n\npublic void setUserInfoId(Integer userInfoId) {\n    this.userInfoId = userInfoId;\n}\n...\n</code></pre>\n<p>This will add the constraint during generating DDL.</p>\n<p>After the generation process is completed, you can check the DDL of <code>USERINFO</code> table and you will find that the constraint has been added with the cascading actions as shown below:-</p>\n<pre><code>create table USERINFO(\n    ....,\n    ....,\n    ....,\n    ....,\n    constraint FK_USER_ID foreign key (USERID) references USERACCOUNT(USERID) on update cascade on delete cascade\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25665558,"reputation":1,"user_id":19430595,"display_name":"Aaron Gezai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657505967,"creation_date":1657422444,"answer_id":72925903,"question_id":14875793,"body_markdown":"please config your mySql alter the table forgein key `on update noaction` an `on delete no action`\r\nand apply \r\n```\r\n @OnDelete(action = OnDeleteAction.NO_ACTION)\r\n    private Set&lt;Course&gt; courses = new HashSet&lt;&gt;();\r\n```","title":"JPA + Hibernate: How to define a constraint having ON DELETE CASCADE","body":"<p>please config your mySql alter the table forgein key <code>on update noaction</code> an <code>on delete no action</code>\nand apply</p>\n<pre><code> @OnDelete(action = OnDeleteAction.NO_ACTION)\n    private Set&lt;Course&gt; courses = new HashSet&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":382345,"reputation":1223,"user_id":737515,"display_name":"toytoy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34068,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"answer_count":5,"score":15,"last_activity_date":1657505967,"creation_date":1360847982,"question_id":14875793,"body_markdown":"I am just wondering if there&#39;s such a way that I can have build my MySQL table as\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    ALTER TABLE `USERINFO`\r\n      ADD CONSTRAINT `FK_USER_ID` FOREIGN KEY (`USERID`) REFERENCES `USERACCOUNT` (`USERID`) \r\n        ON DELETE CASCADE \r\n        ON UPDATE CASCADE;\r\n\r\nHowever, I only got this in my DDL when hibernate ++ jpa starts to build my table having &quot;`&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot; /&gt;`&quot;\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    ALTER TABLE `USERINFO` ADD CONSTRAINT `FK_USER_ID` FOREIGN KEY (`USERID`) REFERENCES `USERACCOUNT` (`USERID`);\r\n\r\nIn my classes, I have these annotation setup,\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    // UserAcc.java\r\n    @Entity\r\n    @Table(name = &quot;USERACC&quot;)\r\n    public class UserAcc implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = -5527566248002296042L;\r\n\t\r\n\t@Id\r\n\t@Column(name = &quot;USERID&quot;)\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate Integer userId;\r\n\t\r\n\r\n\t@OneToOne(mappedBy = &quot;userAcc&quot;)\r\n    private UserInfo userInfo;\r\n    ....\r\n\r\n    \r\n    public UserInfo getUserInfo() {\r\n        return userInfo;\r\n    }\r\n    public void setUserInfo(UserInfo userInfo) {\r\n        this.userInfo = userInfo;\r\n    }\r\n    ...\r\n\r\nand,\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    // UserInfo.java\r\n    @Entity\r\n    @Table(name = &quot;USERINFO&quot;)\r\n    public class UserInfo implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 5924361831551833717L;\r\n\r\n\t@Id\r\n\t@Column(name = &quot;USERINFO_ID&quot;, nullable=false)\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate Integer userInfoId;\r\n\r\n\t@OneToOne(cascade = {CascadeType.ALL})\r\n\t@JoinColumn(name=&quot;USERID&quot;, nullable=false)\r\n\t@ForeignKey(name = &quot;FK_USER_ID&quot;)\r\n\tprivate UserAcc userAcc;\r\n\r\n\t\r\n\tpublic Integer getUserInfoId() {\r\n\t\treturn userInfoId;\r\n\t}\r\n\r\n\tpublic void setUserInfoId(Integer userInfoId) {\r\n\t\tthis.userInfoId = userInfoId;\r\n\t}\r\n    ...\r\n\r\nNote that, UserAccount table is the parent/main table here while UserInfo is an extended table normalize to another entity. Any answers would be greatly appreciated. I&#39;m just curious how it&#39;s done as I love to work also in MySQL. I am just really used to deleting a record from the parent table (USERACOUNT) which would would also allow me to cascade a delete thru child records dependent on the specific record from a parent/primary table.\r\n\r\nThanks!","title":"JPA + Hibernate: How to define a constraint having ON DELETE CASCADE","body":"<p>I am just wondering if there's such a way that I can have build my MySQL table as</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER TABLE `USERINFO`\n  ADD CONSTRAINT `FK_USER_ID` FOREIGN KEY (`USERID`) REFERENCES `USERACCOUNT` (`USERID`) \n    ON DELETE CASCADE \n    ON UPDATE CASCADE;\n</code></pre>\n\n<p>However, I only got this in my DDL when hibernate ++ jpa starts to build my table having \"<code>&lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create\" /&gt;</code>\"</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER TABLE `USERINFO` ADD CONSTRAINT `FK_USER_ID` FOREIGN KEY (`USERID`) REFERENCES `USERACCOUNT` (`USERID`);\n</code></pre>\n\n<p>In my classes, I have these annotation setup,</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// UserAcc.java\n@Entity\n@Table(name = \"USERACC\")\npublic class UserAcc implements Serializable {\n\nprivate static final long serialVersionUID = -5527566248002296042L;\n\n@Id\n@Column(name = \"USERID\")\n@GeneratedValue(strategy=GenerationType.AUTO)\nprivate Integer userId;\n\n\n@OneToOne(mappedBy = \"userAcc\")\nprivate UserInfo userInfo;\n....\n\n\npublic UserInfo getUserInfo() {\n    return userInfo;\n}\npublic void setUserInfo(UserInfo userInfo) {\n    this.userInfo = userInfo;\n}\n...\n</code></pre>\n\n<p>and,</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// UserInfo.java\n@Entity\n@Table(name = \"USERINFO\")\npublic class UserInfo implements Serializable {\n\nprivate static final long serialVersionUID = 5924361831551833717L;\n\n@Id\n@Column(name = \"USERINFO_ID\", nullable=false)\n@GeneratedValue(strategy=GenerationType.AUTO)\nprivate Integer userInfoId;\n\n@OneToOne(cascade = {CascadeType.ALL})\n@JoinColumn(name=\"USERID\", nullable=false)\n@ForeignKey(name = \"FK_USER_ID\")\nprivate UserAcc userAcc;\n\n\npublic Integer getUserInfoId() {\n    return userInfoId;\n}\n\npublic void setUserInfoId(Integer userInfoId) {\n    this.userInfoId = userInfoId;\n}\n...\n</code></pre>\n\n<p>Note that, UserAccount table is the parent/main table here while UserInfo is an extended table normalize to another entity. Any answers would be greatly appreciated. I'm just curious how it's done as I love to work also in MySQL. I am just really used to deleting a record from the parent table (USERACOUNT) which would would also allow me to cascade a delete thru child records dependent on the specific record from a parent/primary table.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","arrays","oop","class"],"comments":[{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":10,"creation_date":1360575733,"post_id":14809293,"comment_id":20743228,"body_markdown":"Actually, making it `final` does *prevent the modification of the field*. However, preventing the modification of the `Object` referred to by a field is more complicated.","body":"Actually, making it <code>final</code> does <i>prevent the modification of the field</i>. However, preventing the modification of the <code>Object</code> referred to by a field is more complicated."},{"owner":{"account_id":58209,"reputation":14498,"user_id":174335,"display_name":"Joren"},"score":22,"creation_date":1360577936,"post_id":14809293,"comment_id":20744218,"body_markdown":"There&#39;s a problem with your mental model if you think being able to modify an array to which you have a reference stored in a private field is the same as being able to modify a private field.","body":"There&#39;s a problem with your mental model if you think being able to modify an array to which you have a reference stored in a private field is the same as being able to modify a private field."},{"owner":{"account_id":202891,"reputation":4599,"user_id":450222,"accept_rate":90,"display_name":"Erik  Reppen"},"score":46,"creation_date":1360591173,"post_id":14809293,"comment_id":20749535,"body_markdown":"If it&#39;s private, why expose it in the first place?","body":"If it&#39;s private, why expose it in the first place?"},{"owner":{"account_id":261004,"reputation":955,"user_id":544915,"accept_rate":100,"display_name":"drobson"},"score":1,"creation_date":1360601563,"post_id":14809293,"comment_id":20755260,"body_markdown":"Both OldCurmudgeon and sp00m anwsers are right. Which one to use depends on the situation. I would recommend you read Effective Java - Item 13: Minimize the accessibility of classes and members.","body":"Both OldCurmudgeon and sp00m anwsers are right. Which one to use depends on the situation. I would recommend you read Effective Java - Item 13: Minimize the accessibility of classes and members."},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":7,"creation_date":1360617825,"post_id":14809293,"comment_id":20762894,"body_markdown":"It took me a while to figure this out but it always improves my code when I ensure that all data structures are completely encapsulated within their object--meaning there is no way to &quot;Get&quot; your &quot;arr&quot;, instead do whever you must inside the class or provide an iterator.","body":"It took me a while to figure this out but it always improves my code when I ensure that all data structures are completely encapsulated within their object--meaning there is no way to &quot;Get&quot; your &quot;arr&quot;, instead do whever you must inside the class or provide an iterator."},{"owner":{"account_id":924076,"reputation":12260,"user_id":1386111,"accept_rate":88,"display_name":"Alvin Wong"},"score":0,"creation_date":1360820379,"post_id":14809293,"comment_id":20844077,"body_markdown":"I propose editing the title to `Prevent modification to a private array field?`.","body":"I propose editing the title to <code>Prevent modification to a private array field?</code>."},{"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"score":2,"creation_date":1361272037,"post_id":14809293,"comment_id":20993509,"body_markdown":"I see nobody has mentioned Josh Bloch&#39;s Effective Java - `Item 39: Make defensive copies when needed`","body":"I see nobody has mentioned Josh Bloch&#39;s Effective Java - <code>Item 39: Make defensive copies when needed</code>"},{"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"score":9,"creation_date":1361878524,"post_id":14809293,"comment_id":21222317,"body_markdown":"Is anyone else also surprised why this question got so much attention?","body":"Is anyone else also surprised why this question got so much attention?"}],"answers":[{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":10,"up_vote_count":175,"is_accepted":true,"score":165,"last_activity_date":1360575250,"creation_date":1360575250,"answer_id":14809315,"question_id":14809293,"body_markdown":"You must return a **copy** of your array.\r\n\r\n    public String[] getArr() {\r\n      return arr == null ? null : Arrays.copyOf(arr, arr.length);\r\n    }\r\n","title":"How do I prevent the modification of a private field in a class?","body":"<p>You must return a <strong>copy</strong> of your array.</p>\n\n<pre><code>public String[] getArr() {\n  return arr == null ? null : Arrays.copyOf(arr, arr.length);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2323814,"reputation":13662,"user_id":2038768,"display_name":"Mikhail Vladimirov"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1360575274,"creation_date":1360575274,"answer_id":14809325,"question_id":14809293,"body_markdown":"Modifier `private` protects only field itself from being accessed from other classes, but not the object references by this field.  If you need to protect referenced object, just do not give it out.  Change\r\n\r\n    public String [] getArr ()\r\n    {\r\n        return arr;\r\n    }\r\n\r\nto:\r\n\r\n    public String [] getArr ()\r\n    {\r\n        return arr.clone ();\r\n    }\r\n\r\nor to\r\n\r\n    public int getArrLength ()\r\n    {\r\n        return arr.length;\r\n    }\r\n\r\n    public String getArrElementAt (int index)\r\n    {\r\n        return arr [index];\r\n    }\r\n","title":"How do I prevent the modification of a private field in a class?","body":"<p>Modifier <code>private</code> protects only field itself from being accessed from other classes, but not the object references by this field.  If you need to protect referenced object, just do not give it out.  Change</p>\n\n<pre><code>public String [] getArr ()\n{\n    return arr;\n}\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>public String [] getArr ()\n{\n    return arr.clone ();\n}\n</code></pre>\n\n<p>or to</p>\n\n<pre><code>public int getArrLength ()\n{\n    return arr.length;\n}\n\npublic String getArrElementAt (int index)\n{\n    return arr [index];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1657505396,"creation_date":1360575290,"answer_id":14809330,"question_id":14809293,"body_markdown":"Yes, you should return a copy of the array:\r\n\r\n\r\n    public String[] getArr()\r\n    {\r\n        return Arrays.copyOf(arr);\r\n    }","title":"How do I prevent the modification of a private field in a class?","body":"<p>Yes, you should return a copy of the array:</p>\n<pre><code>public String[] getArr()\n{\n    return Arrays.copyOf(arr);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"down_vote_count":2,"up_vote_count":384,"is_accepted":false,"score":382,"last_activity_date":1360622098,"creation_date":1360575518,"answer_id":14809392,"question_id":14809293,"body_markdown":"If you can use a List instead of an array, [Collections provides an unmodifiable list](http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#unmodifiableList(java.util.List)):\r\n\r\n    public List&lt;String&gt; getList() {\r\n        return Collections.unmodifiableList(list);\r\n    }","title":"How do I prevent the modification of a private field in a class?","body":"<p>If you can use a List instead of an array, <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#unmodifiableList(java.util.List)\" rel=\"noreferrer\">Collections provides an unmodifiable list</a>:</p>\n\n<pre><code>public List&lt;String&gt; getList() {\n    return Collections.unmodifiableList(list);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":167505,"reputation":950,"user_id":392348,"accept_rate":94,"display_name":"anthonyms"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1360575668,"creation_date":1360575668,"answer_id":14809438,"question_id":14809293,"body_markdown":"You could return a copy of the data. The caller who chooses to change the data will only be changing the copy\r\n\r\n    public class Test {\r\n    \tprivate static String[] arr = new String[] { &quot;1&quot;, &quot;2&quot; };\r\n    \r\n    \tpublic String[] getArr() {\r\n    \r\n    \t\tString[] b = new String[arr.length];\r\n    \r\n    \t\tSystem.arraycopy(arr, 0, b, 0, arr.length);\r\n    \r\n    \t\treturn b;\r\n    \t}\r\n    }","title":"How do I prevent the modification of a private field in a class?","body":"<p>You could return a copy of the data. The caller who chooses to change the data will only be changing the copy</p>\n\n<pre><code>public class Test {\n    private static String[] arr = new String[] { \"1\", \"2\" };\n\n    public String[] getArr() {\n\n        String[] b = new String[arr.length];\n\n        System.arraycopy(arr, 0, b, 0, arr.length);\n\n        return b;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2337801,"reputation":2525,"user_id":2056545,"accept_rate":80,"display_name":"michael_s"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1509096485,"creation_date":1360619374,"answer_id":14821488,"question_id":14809293,"body_markdown":"The `Collections.unmodifiableList` has already been mentioned - the `Arrays.asList()` strangely not! My solution would also be to use the list from the outside and wrap the array as follows:\r\n\r\n    String[] arr = new String[]{&quot;1&quot;, &quot;2&quot;}; \r\n    public List&lt;String&gt; getList() {\r\n        return Collections.unmodifiableList(Arrays.asList(arr));\r\n    }\r\n\r\nThe problem with copying the array is: if you&#39;re doing it every time you access the code and the array is big, you&#39;ll create a lot of work for the garbage collector for sure. So the copy is a simple but really bad approach - I&#39;d say &quot;cheap&quot;, but memory-expensive! Especially when you&#39;re having more than just 2 elements.\r\n\r\nIf you look at the source code of `Arrays.asList` and `Collections.unmodifiableList` there is actually not much created. The first just wraps the array without copying it, the second just wraps the list, making changes to it unavailable.\r\n\r\n","title":"How do I prevent the modification of a private field in a class?","body":"<p>The <code>Collections.unmodifiableList</code> has already been mentioned - the <code>Arrays.asList()</code> strangely not! My solution would also be to use the list from the outside and wrap the array as follows:</p>\n\n<pre><code>String[] arr = new String[]{\"1\", \"2\"}; \npublic List&lt;String&gt; getList() {\n    return Collections.unmodifiableList(Arrays.asList(arr));\n}\n</code></pre>\n\n<p>The problem with copying the array is: if you're doing it every time you access the code and the array is big, you'll create a lot of work for the garbage collector for sure. So the copy is a simple but really bad approach - I'd say \"cheap\", but memory-expensive! Especially when you're having more than just 2 elements.</p>\n\n<p>If you look at the source code of <code>Arrays.asList</code> and <code>Collections.unmodifiableList</code> there is actually not much created. The first just wraps the array without copying it, the second just wraps the list, making changes to it unavailable.</p>\n"},{"tags":[],"owner":{"account_id":213792,"reputation":4694,"user_id":467379,"accept_rate":75,"display_name":"ncmathsadist"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360633404,"creation_date":1360633404,"answer_id":14824136,"question_id":14809293,"body_markdown":"The nub of the problem is that you are returning a pointer to a mutable object. Oops.  Either you render the object immutable (the unmodifiable list solution) or you return a copy of the object.  \r\n\r\nAs a general matter, finality of objects does not protect objects from being changed if they are mutable.  These two problems are &quot;kissing cousins.&quot;\r\n","title":"How do I prevent the modification of a private field in a class?","body":"<p>The nub of the problem is that you are returning a pointer to a mutable object. Oops.  Either you render the object immutable (the unmodifiable list solution) or you return a copy of the object.  </p>\n\n<p>As a general matter, finality of objects does not protect objects from being changed if they are mutable.  These two problems are \"kissing cousins.\"</p>\n"},{"tags":[],"owner":{"account_id":1737702,"reputation":3412,"user_id":1589880,"accept_rate":100,"display_name":"G M Ramesh"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1381162417,"creation_date":1360645214,"answer_id":14825686,"question_id":14809293,"body_markdown":"at this point of view you should use system array copy:\r\n\r\n    public String[] getArr() {\r\n       if (arr != null) {\r\n          String[] arrcpy = new String[arr.length];\r\n          System.arraycopy(arr, 0, arrcpy, 0, arr.length);\r\n          return arrcpy;\r\n       } else\r\n          return null;\r\n       }\r\n    }\r\n","title":"How do I prevent the modification of a private field in a class?","body":"<p>at this point of view you should use system array copy:</p>\n\n<pre><code>public String[] getArr() {\n   if (arr != null) {\n      String[] arrcpy = new String[arr.length];\n      System.arraycopy(arr, 0, arrcpy, 0, arr.length);\n      return arrcpy;\n   } else\n      return null;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2029842,"reputation":18250,"user_id":1813858,"display_name":"iTech"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1360657895,"creation_date":1360657009,"answer_id":14828207,"question_id":14809293,"body_markdown":"You can also use [`ImmutableList`][1] which should be better than the standard `unmodifiableList`. The class is part of [Guava][2] libraries that was create by Google.\r\n\r\nHere is the description:\r\n\r\n&gt; Unlike Collections.unmodifiableList(java.util.List), which is a view of a separate collection that can still change, an instance of ImmutableList contains its own private data and will never change\r\n\r\nHere is a simple example of how to use it:\r\n\r\n    public class Test\r\n    {\r\n      private String[] arr = new String[]{&quot;1&quot;,&quot;2&quot;};    \r\n\r\n      public ImmutableList&lt;String&gt; getArr() \r\n      {\r\n        return ImmutableList.copyOf(arr);\r\n      }\r\n    }\r\n  [1]: http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/collect/ImmutableList.html\r\n  [2]: http://code.google.com/p/guava-libraries/","title":"How do I prevent the modification of a private field in a class?","body":"<p>You can also use <a href=\"http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/collect/ImmutableList.html\" rel=\"noreferrer\"><code>ImmutableList</code></a> which should be better than the standard <code>unmodifiableList</code>. The class is part of <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a> libraries that was create by Google.</p>\n\n<p>Here is the description:</p>\n\n<blockquote>\n  <p>Unlike Collections.unmodifiableList(java.util.List), which is a view of a separate collection that can still change, an instance of ImmutableList contains its own private data and will never change</p>\n</blockquote>\n\n<p>Here is a simple example of how to use it:</p>\n\n<pre><code>public class Test\n{\n  private String[] arr = new String[]{\"1\",\"2\"};    \n\n  public ImmutableList&lt;String&gt; getArr() \n  {\n    return ImmutableList.copyOf(arr);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406598802,"creation_date":1406598153,"answer_id":25007019,"question_id":14809293,"body_markdown":"Returning an unmodifiable list is a good idea. But a list that is made unmodifiable during the call to the getter method can still be changed by the class, or classes that are derived from the class.\r\n\r\nInstead you should make it clear to anybody that extends the class that the list should not be modified.\r\n\r\nSo in your example it could lead to the following code:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class Test {\r\n        public static final List&lt;String&gt; STRINGS =\r\n            Collections.unmodifiableList(\r\n                Arrays.asList(&quot;1&quot;, &quot;2&quot;));\r\n    \r\n        public final List&lt;String&gt; getStrings() {\r\n            return STRINGS;\r\n        }\r\n    }\r\n\r\nIn the above example I&#39;ve made the `STRINGS` field public, in principle you could do away with the method call, as the values are already known.\r\n\r\nYou could also assign the strings to a `private final List&lt;String&gt;` field made unmodifiable during construction of the class instance. Using a constant or instantiation arguments (of the constructor) depends on the design of the class.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class Test {\r\n        private final List&lt;String&gt; strings;\r\n    \r\n        public Test(final String ... strings) {\r\n            this.strings = Collections.unmodifiableList(Arrays\r\n                    .asList(strings));\r\n        }\r\n        \r\n        public final List&lt;String&gt; getStrings() {\r\n            return strings;\r\n        }\r\n    }","title":"How do I prevent the modification of a private field in a class?","body":"<p>Returning an unmodifiable list is a good idea. But a list that is made unmodifiable during the call to the getter method can still be changed by the class, or classes that are derived from the class.</p>\n\n<p>Instead you should make it clear to anybody that extends the class that the list should not be modified.</p>\n\n<p>So in your example it could lead to the following code:</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class Test {\n    public static final List&lt;String&gt; STRINGS =\n        Collections.unmodifiableList(\n            Arrays.asList(\"1\", \"2\"));\n\n    public final List&lt;String&gt; getStrings() {\n        return STRINGS;\n    }\n}\n</code></pre>\n\n<p>In the above example I've made the <code>STRINGS</code> field public, in principle you could do away with the method call, as the values are already known.</p>\n\n<p>You could also assign the strings to a <code>private final List&lt;String&gt;</code> field made unmodifiable during construction of the class instance. Using a constant or instantiation arguments (of the constructor) depends on the design of the class.</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class Test {\n    private final List&lt;String&gt; strings;\n\n    public Test(final String ... strings) {\n        this.strings = Collections.unmodifiableList(Arrays\n                .asList(strings));\n    }\n\n    public final List&lt;String&gt; getStrings() {\n        return strings;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2268641,"reputation":3440,"user_id":3346915,"accept_rate":71,"display_name":"Alex Tereshenkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610898249,"creation_date":1610898249,"answer_id":65762674,"question_id":14809293,"body_markdown":"Since Java 9, an immutable list can also be constructed from a static factory method [`List.of()`](https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E...-) which results in just a bit fewer imports and code:\r\n\r\nWith an alias being returned from `getUsers()` when the original `users` fields can be modified:\r\n\r\n```\r\nclass Computer {\r\n    private String[] users = new String[] {&quot;user1&quot;, &quot;user2&quot;, &quot;user3&quot;};\r\n    public String[] getUsers;\r\n\r\n    String[] getUsers() {\r\n        return this.users;\r\n    }\r\n}\r\n\r\nComputer c = new Computer();\r\nc.getUsers()[0] = &quot;me&quot;;\r\nfor (String user: c.getUsers()) {\r\n    System.out.println(user);\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nme\r\nuser2\r\nuser3\r\n```\r\n\r\nUsing the immutable list:\r\n\r\n```\r\nimport java.util.List;\r\n\r\nclass Computer {\r\n    private String[] users = new String[] {&quot;user1&quot;, &quot;user2&quot;, &quot;user3&quot;};\r\n    public List&lt;String&gt; getUsers;\r\n\r\n    List&lt;String&gt; getUsers() {\r\n        return List.of(this.users);\r\n    }\r\n}\r\n\r\nComputer c = new Computer();\r\nc.getUsers().set(0, &quot;me&quot;);\r\nfor (String user: c.getUsers()) {\r\n    System.out.println(user);\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nuser1\r\nuser2\r\nuser3\r\n```","title":"How do I prevent the modification of a private field in a class?","body":"<p>Since Java 9, an immutable list can also be constructed from a static factory method <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E...-\" rel=\"nofollow noreferrer\"><code>List.of()</code></a> which results in just a bit fewer imports and code:</p>\n<p>With an alias being returned from <code>getUsers()</code> when the original <code>users</code> fields can be modified:</p>\n<pre><code>class Computer {\n    private String[] users = new String[] {&quot;user1&quot;, &quot;user2&quot;, &quot;user3&quot;};\n    public String[] getUsers;\n\n    String[] getUsers() {\n        return this.users;\n    }\n}\n\nComputer c = new Computer();\nc.getUsers()[0] = &quot;me&quot;;\nfor (String user: c.getUsers()) {\n    System.out.println(user);\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>me\nuser2\nuser3\n</code></pre>\n<p>Using the immutable list:</p>\n<pre><code>import java.util.List;\n\nclass Computer {\n    private String[] users = new String[] {&quot;user1&quot;, &quot;user2&quot;, &quot;user3&quot;};\n    public List&lt;String&gt; getUsers;\n\n    List&lt;String&gt; getUsers() {\n        return List.of(this.users);\n    }\n}\n\nComputer c = new Computer();\nc.getUsers().set(0, &quot;me&quot;);\nfor (String user: c.getUsers()) {\n    System.out.println(user);\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>user1\nuser2\nuser3\n</code></pre>\n"}],"owner":{"account_id":120672,"reputation":40569,"user_id":313245,"accept_rate":81,"display_name":"Hossein"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16351,"favorite_count":0,"down_vote_count":6,"up_vote_count":174,"accepted_answer_id":14809315,"answer_count":11,"score":168,"last_activity_date":1657505396,"creation_date":1360575147,"question_id":14809293,"body_markdown":"Imagine that I have this class:\r\n\r\n    public class Test\r\n    {\r\n      private String[] arr = new String[]{&quot;1&quot;,&quot;2&quot;};    \r\n    \r\n      public String[] getArr() \r\n      {\r\n        return arr;\r\n      }\r\n    }\r\n\r\nNow, I have another class that uses the above class:\r\n\r\n    Test test = new Test();\r\n    test.getArr()[0] =&quot;some value!&quot;; //!!!\r\n\r\nSo this is the problem: I have accessed a private field of a class from outside!\r\nHow can I prevent this? I mean how can I make this array immutable? Does this mean that with every getter method you can work your way up to access the private field? (I don&#39;t want any libraries such as Guava. I just need to know the right way to do this).","title":"How do I prevent the modification of a private field in a class?","body":"<p>Imagine that I have this class:</p>\n\n<pre><code>public class Test\n{\n  private String[] arr = new String[]{\"1\",\"2\"};    \n\n  public String[] getArr() \n  {\n    return arr;\n  }\n}\n</code></pre>\n\n<p>Now, I have another class that uses the above class:</p>\n\n<pre><code>Test test = new Test();\ntest.getArr()[0] =\"some value!\"; //!!!\n</code></pre>\n\n<p>So this is the problem: I have accessed a private field of a class from outside!\nHow can I prevent this? I mean how can I make this array immutable? Does this mean that with every getter method you can work your way up to access the private field? (I don't want any libraries such as Guava. I just need to know the right way to do this).</p>\n"},{"tags":["java","android","ios","codenameone"],"answers":[{"tags":[],"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657505232,"creation_date":1657505232,"answer_id":72933090,"question_id":72930196,"body_markdown":"In maven projects the libraries are downloaded dynamically by maven itself to the `.m2` directory in your home folder. This is handled seamlessly by maven and updated when you change/refresh the pom file.\r\n\r\nWhen you add a dependency on a cn1lib it&#39;s effectively a POM dependency and when you refresh or force refresh you should see maven fetching the dependency. Codename One Settings just adds a POM entry for you based on our listings, you then need to refresh the updated POM for a new version.","title":"How do you add cn1libs to the CodeRAD app generated by start.codenameone.com","body":"<p>In maven projects the libraries are downloaded dynamically by maven itself to the <code>.m2</code> directory in your home folder. This is handled seamlessly by maven and updated when you change/refresh the pom file.</p>\n<p>When you add a dependency on a cn1lib it's effectively a POM dependency and when you refresh or force refresh you should see maven fetching the dependency. Codename One Settings just adds a POM entry for you based on our listings, you then need to refresh the updated POM for a new version.</p>\n"}],"owner":{"account_id":4563750,"reputation":53,"user_id":3705306,"display_name":"EMS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657505232,"creation_date":1657471338,"question_id":72930196,"body_markdown":"Looking through the documentation for Codename One, the instructions for using the cn1libs indicate using the IDE plugins and the Codename One Preferences/Settings dialogs.  When I follow this process and review the resulting project, I do not see any references to the libraries where I would expect to see them in the project code.  Even doing a full text search through the Project does not appear to add the library as a dependency where I would expect it.  I am only seeing the library name in the overview.adoc file.\r\n\r\nSince the entire project structure is different for the CodeRAD project generated by the initializer webapp, and those projects are not recognized as Codename One projects IntelliJ (and hence do not have the Codename One Preferences/Settings dialogs available) how do we add the cn1libs to this initializer generated project?","title":"How do you add cn1libs to the CodeRAD app generated by start.codenameone.com","body":"<p>Looking through the documentation for Codename One, the instructions for using the cn1libs indicate using the IDE plugins and the Codename One Preferences/Settings dialogs.  When I follow this process and review the resulting project, I do not see any references to the libraries where I would expect to see them in the project code.  Even doing a full text search through the Project does not appear to add the library as a dependency where I would expect it.  I am only seeing the library name in the overview.adoc file.</p>\n<p>Since the entire project structure is different for the CodeRAD project generated by the initializer webapp, and those projects are not recognized as Codename One projects IntelliJ (and hence do not have the Codename One Preferences/Settings dialogs available) how do we add the cn1libs to this initializer generated project?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","textview"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1657121869,"post_id":72837092,"comment_id":128736110,"body_markdown":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect?"},{"owner":{"display_name":"user18105926"},"score":0,"creation_date":1657168732,"post_id":72837092,"comment_id":128747375,"body_markdown":"@AlexMamo  Suppose last time there were 500 quotes and then I added 100 more quotes in the excel and converted them to json and uploaded to firebase . Then the totalnumber shows for example 900 instead of 600, even if I navigate between different quotes it still shows the wrong number, so I have to restart the app to see the correct number.","body":"@AlexMamo  Suppose last time there were 500 quotes and then I added 100 more quotes in the excel and converted them to json and uploaded to firebase . Then the totalnumber shows for example 900 instead of 600, even if I navigate between different quotes it still shows the wrong number, so I have to restart the app to see the correct number."},{"owner":{"display_name":"user18105926"},"score":0,"creation_date":1657260213,"post_id":72837092,"comment_id":128772943,"body_markdown":"@AlexMamo Look at this https://drive.google.com/file/d/1f4gyMGqFF0SVxiZZwwN25IBAzQpwLx7T/view","body":"@AlexMamo Look at this <a href=\"https://drive.google.com/file/d/1f4gyMGqFF0SVxiZZwwN25IBAzQpwLx7T/view\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1f4gyMGqFF0SVxiZZwwN25IBAzQpwLx7T/vi&zwnj;&#8203;ew</a>"},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1657374769,"post_id":72837092,"comment_id":128797868,"body_markdown":"Add your sample firebase json. and addValueEventListener always listenable.. You no need to fetch again. Do you have different methods in your class for reading quotes?\nRead this doc first---- https://firebase.google.com/docs/database/android/read-and-write","body":"Add your sample firebase json. and addValueEventListener always listenable.. You no need to fetch again. Do you have different methods in your class for reading quotes? Read this doc first---- <a href=\"https://firebase.google.com/docs/database/android/read-and-write\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/android/read-and-write</a>"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657504734,"creation_date":1657504734,"answer_id":72933055,"question_id":72837092,"body_markdown":"Whenever your `onDataChange` is called, it gets a `DataSnapshot` with *all* data at the `Quotes` path in your database. You need to clear the existing data from the `quotes_list` list before rebuilding it.\r\n\r\n\r\n    databaseReference.addValueEventListener(new ValueEventListener() {\r\n        @SuppressLint(&quot;SetTextI18n&quot;)\r\n        @Override\r\n        public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\r\n            quotes_list.clear(); // &#128072;\r\n            for (DataSnapshot dataSnapshot1 : snapshot.getChildren()) {\r\n                model = dataSnapshot1.getValue(Model.class);\r\n                if (model != null) {\r\n                    quotes_list.add(model.getTitle());\r\n                    position = randomQ.nextInt(quotes_list.size());\r\n                    Log.d(TAG, quotes_list.toString());\r\n                }\r\n            }\r\n            quotesTxt.setText(quotes_list.get(position));\r\n            countTxt.setText(position + &quot;/&quot; + quotes_list.size());\r\n            Log.d(TAG, quotes_list.toString());\r\n        }","title":"How to update textviews when data is updated in firebase","body":"<p>Whenever your <code>onDataChange</code> is called, it gets a <code>DataSnapshot</code> with <em>all</em> data at the <code>Quotes</code> path in your database. You need to clear the existing data from the <code>quotes_list</code> list before rebuilding it.</p>\n<pre><code>databaseReference.addValueEventListener(new ValueEventListener() {\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    @Override\n    public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\n        quotes_list.clear(); // 👈\n        for (DataSnapshot dataSnapshot1 : snapshot.getChildren()) {\n            model = dataSnapshot1.getValue(Model.class);\n            if (model != null) {\n                quotes_list.add(model.getTitle());\n                position = randomQ.nextInt(quotes_list.size());\n                Log.d(TAG, quotes_list.toString());\n            }\n        }\n        quotesTxt.setText(quotes_list.get(position));\n        countTxt.setText(position + &quot;/&quot; + quotes_list.size());\n        Log.d(TAG, quotes_list.toString());\n    }\n</code></pre>\n"}],"owner":{"display_name":"user18105926"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1657504734,"creation_date":1656745121,"question_id":72837092,"body_markdown":"I have a quotes app, and what I do is I store new quotes in excel and then convert them to JSON (as well as the old ones), and then import the json file into Firebase. \r\n\r\nNow the problem is when I do this if my app is already running and I request a new quote to display, the total number of quotes (for example 1000) gets confusing. It doesn&#39;t display the correct total number unless I completely close my app and then reopen it. \r\n\r\nWould you please tell me how to update both texts (1. The total number 2. the textview showing the quotes) with the updated quotes, when an event occurs (e.g., clicking the nav buttons to bring next or previous quotes or like getting on resume)?\r\n\r\nLook at [this][1] \r\n\r\n&gt; (the text changed itself to 10001 when i just added one quote in the\r\n&gt; firebase and even the added quote is not displaying when i press the\r\n&gt; latest quote - which get the lastest added quote in firebase)\r\n\r\nIm using this right now to get data\r\n\r\n    databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Quotes&quot;);\r\n            model = new Model();\r\n            quotes_list = new ArrayList&lt;&gt;();\r\n            databaseReference.addValueEventListener(new ValueEventListener() {\r\n                @SuppressLint(&quot;SetTextI18n&quot;)\r\n                @Override\r\n                public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\r\n                    for (DataSnapshot dataSnapshot1 : snapshot.getChildren()) {\r\n                        model = dataSnapshot1.getValue(Model.class);\r\n                        if (model != null) {\r\n                            quotes_list.add(model.getTitle());\r\n                            position = randomQ.nextInt(quotes_list.size());\r\n                            Log.d(TAG, quotes_list.toString());\r\n    \r\n                        }\r\n                    }\r\n                    quotesTxt.setText(quotes_list.get(position));\r\n                    countTxt.setText(position + &quot;/&quot; + quotes_list.size());\r\n                    Log.d(TAG, quotes_list.toString());\r\n                }\r\n\r\nModel\r\n\r\n    package com.example.philosophicalquotes.data;\r\n    \r\n    public class Model {\r\n        String title;\r\n    \r\n        public Model() {\r\n        }\r\n    \r\n        public Model(String title) {\r\n            this.title = title;\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://drive.google.com/file/d/1f4gyMGqFF0SVxiZZwwN25IBAzQpwLx7T/view","title":"How to update textviews when data is updated in firebase","body":"<p>I have a quotes app, and what I do is I store new quotes in excel and then convert them to JSON (as well as the old ones), and then import the json file into Firebase.</p>\n<p>Now the problem is when I do this if my app is already running and I request a new quote to display, the total number of quotes (for example 1000) gets confusing. It doesn't display the correct total number unless I completely close my app and then reopen it.</p>\n<p>Would you please tell me how to update both texts (1. The total number 2. the textview showing the quotes) with the updated quotes, when an event occurs (e.g., clicking the nav buttons to bring next or previous quotes or like getting on resume)?</p>\n<p>Look at <a href=\"https://drive.google.com/file/d/1f4gyMGqFF0SVxiZZwwN25IBAzQpwLx7T/view\" rel=\"nofollow noreferrer\">this</a></p>\n<blockquote>\n<p>(the text changed itself to 10001 when i just added one quote in the\nfirebase and even the added quote is not displaying when i press the\nlatest quote - which get the lastest added quote in firebase)</p>\n</blockquote>\n<p>Im using this right now to get data</p>\n<pre><code>databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Quotes&quot;);\n        model = new Model();\n        quotes_list = new ArrayList&lt;&gt;();\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @SuppressLint(&quot;SetTextI18n&quot;)\n            @Override\n            public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\n                for (DataSnapshot dataSnapshot1 : snapshot.getChildren()) {\n                    model = dataSnapshot1.getValue(Model.class);\n                    if (model != null) {\n                        quotes_list.add(model.getTitle());\n                        position = randomQ.nextInt(quotes_list.size());\n                        Log.d(TAG, quotes_list.toString());\n\n                    }\n                }\n                quotesTxt.setText(quotes_list.get(position));\n                countTxt.setText(position + &quot;/&quot; + quotes_list.size());\n                Log.d(TAG, quotes_list.toString());\n            }\n</code></pre>\n<p>Model</p>\n<pre><code>package com.example.philosophicalquotes.data;\n\npublic class Model {\n    String title;\n\n    public Model() {\n    }\n\n    public Model(String title) {\n        this.title = title;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n}\n</code></pre>\n"},{"tags":["java","ubuntu","unsupported-class-version"],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1538805059,"creation_date":1538764497,"answer_id":52671484,"question_id":52671412,"body_markdown":"The error says it all:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError:\r\n&gt; Test has been compiled by a more recent version of the Java Runtime\r\n&gt; (class file version 55.0)...\r\n\r\nYou&#39;ve compiled for Java 11 ... but you&#39;re running an older JRE (Java 8).\r\n\r\nSUGGESTIONS: \r\n\r\n* recompile with `-source` and `-target` to target an earlier version of Java in your .class file, or\r\n\r\n* Upgrade your target JRE to Java 11\r\n\r\nEXAMPLE: `javac -target 8 -source 8 MyClass.java`\r\n\r\nFYI, these are the Java versions in each Java class file&#39;s header:\r\n\r\n&gt; https://en.wikipedia.org/wiki/Java_class_file\r\n&gt; \r\n&gt; * Java SE 11 = 55 (0x37 hex)\r\n&gt; * Java SE 10 = 54 (0x36 hex)\r\n&gt; * Java SE 9 = 53 (0x35 hex)\r\n&gt; * Java SE 8 = 52 (0x34 hex)\r\n&gt; * Java SE 7 = 51 (0x33 hex)\r\n&gt; * Java SE 6.0 = 50 (0x32 hex)\r\n&gt; * Java SE 5.0 = 49 (0x31 hex)\r\n&gt; * JDK 1.4 = 48 (0x30 hex)\r\n&gt; * JDK 1.3 = 47 (0x2F hex)\r\n&gt; * JDK 1.2 = 46 (0x2E hex)\r\n&gt; * JDK 1.1 = 45 (0x2D hex)\r\n\r\nAlso FYI, here are the command line options for javac:\r\n\r\n[Java SE 11 &gt; Tools &gt; javac](https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9)\r\n\r\nPS:\r\n\r\nYou may have multiple independent versions of Java installed at the same time.  Use the [alternatives](https://askubuntu.com/questions/121654/how-to-set-default-java-version/731862) command:\r\n\r\n* https://linuxconfig.org/how-to-install-java-on-ubuntu-18-04-bionic-beaver-linux\r\n","title":"Error: A JNI error has occurred, please check your installation and try again - during running Java program from Ubuntu terminal","body":"<p>The error says it all:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.UnsupportedClassVersionError:\n  Test has been compiled by a more recent version of the Java Runtime\n  (class file version 55.0)...</p>\n</blockquote>\n\n<p>You've compiled for Java 11 ... but you're running an older JRE (Java 8).</p>\n\n<p>SUGGESTIONS: </p>\n\n<ul>\n<li><p>recompile with <code>-source</code> and <code>-target</code> to target an earlier version of Java in your .class file, or</p></li>\n<li><p>Upgrade your target JRE to Java 11</p></li>\n</ul>\n\n<p>EXAMPLE: <code>javac -target 8 -source 8 MyClass.java</code></p>\n\n<p>FYI, these are the Java versions in each Java class file's header:</p>\n\n<blockquote>\n  <p><a href=\"https://en.wikipedia.org/wiki/Java_class_file\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/Java_class_file</a></p>\n  \n  <ul>\n  <li>Java SE 11 = 55 (0x37 hex)</li>\n  <li>Java SE 10 = 54 (0x36 hex)</li>\n  <li>Java SE 9 = 53 (0x35 hex)</li>\n  <li>Java SE 8 = 52 (0x34 hex)</li>\n  <li>Java SE 7 = 51 (0x33 hex)</li>\n  <li>Java SE 6.0 = 50 (0x32 hex)</li>\n  <li>Java SE 5.0 = 49 (0x31 hex)</li>\n  <li>JDK 1.4 = 48 (0x30 hex)</li>\n  <li>JDK 1.3 = 47 (0x2F hex)</li>\n  <li>JDK 1.2 = 46 (0x2E hex)</li>\n  <li>JDK 1.1 = 45 (0x2D hex)</li>\n  </ul>\n</blockquote>\n\n<p>Also FYI, here are the command line options for javac:</p>\n\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9\" rel=\"noreferrer\">Java SE 11 > Tools > javac</a></p>\n\n<p>PS:</p>\n\n<p>You may have multiple independent versions of Java installed at the same time.  Use the <a href=\"https://askubuntu.com/questions/121654/how-to-set-default-java-version/731862\">alternatives</a> command:</p>\n\n<ul>\n<li><a href=\"https://linuxconfig.org/how-to-install-java-on-ubuntu-18-04-bionic-beaver-linux\" rel=\"noreferrer\">https://linuxconfig.org/how-to-install-java-on-ubuntu-18-04-bionic-beaver-linux</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":19215106,"reputation":58,"user_id":14040015,"display_name":"Lasith M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613886652,"creation_date":1613886652,"answer_id":66299525,"question_id":52671412,"body_markdown":"I also had this problem. This is my solution.\r\nThere was 2 Java versions installed (java 8 and Java SE Development kit 13). \r\nThis error occurs because of this 2 versions. Just uninstall old version and you are done.\r\n(*Java compiles .java file using SE Development kit and trying to execute using old version. So compatible errors occurs.)\r\n\r\nThen check java versions on cmd using `javac -version` and `java -version`. After uninstallation, both version codes must be same.","title":"Error: A JNI error has occurred, please check your installation and try again - during running Java program from Ubuntu terminal","body":"<p>I also had this problem. This is my solution.\nThere was 2 Java versions installed (java 8 and Java SE Development kit 13).\nThis error occurs because of this 2 versions. Just uninstall old version and you are done.\n(*Java compiles .java file using SE Development kit and trying to execute using old version. So compatible errors occurs.)</p>\n<p>Then check java versions on cmd using <code>javac -version</code> and <code>java -version</code>. After uninstallation, both version codes must be same.</p>\n"},{"tags":[],"owner":{"account_id":22844295,"reputation":1,"user_id":16990834,"display_name":"shuisheng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657504696,"creation_date":1657504696,"answer_id":72933053,"question_id":52671412,"body_markdown":"If you don&#39;t want to upgrade your Java version to Java11. Maybe you can change the version of neo4j to 3.x. neo4j 3.x compiled by Java 8, and the neo4j 4.x compiled by Java 11. \r\nHere is the download site of neo4j community edition, you can change your version of neo4j to adjust the local version of Java 8.\r\nhttps://neo4j.com/download-center/#community","title":"Error: A JNI error has occurred, please check your installation and try again - during running Java program from Ubuntu terminal","body":"<p>If you don't want to upgrade your Java version to Java11. Maybe you can change the version of neo4j to 3.x. neo4j 3.x compiled by Java 8, and the neo4j 4.x compiled by Java 11.\nHere is the download site of neo4j community edition, you can change your version of neo4j to adjust the local version of Java 8.\n<a href=\"https://neo4j.com/download-center/#community\" rel=\"nofollow noreferrer\">https://neo4j.com/download-center/#community</a></p>\n"}],"owner":{"account_id":1089291,"reputation":375,"user_id":2583353,"display_name":"Mamun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62531,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":52671484,"answer_count":3,"score":8,"last_activity_date":1657504696,"creation_date":1538764146,"question_id":52671412,"body_markdown":"I&#39;m trying to run a simple client-server program written in Java through Ubuntu terminal. I could compile the code successfully unfortunately, I can&#39;t run the code.\r\n\r\nServer class code:  \r\n\r\n    import java.io.IOException;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    \r\n    public class Server \r\n    {\r\n            public static void main(String[] args)\r\n            {\r\n                    try \r\n                    {\r\n                            //create server Socket with demo port\r\n                            ServerSocket server = new ServerSocket(20);\r\n    \r\n                            //wait for server connection\r\n                            Socket s = server.accept();\r\n    \r\n                            //upon establishing connection, print \r\n                           // successful message\r\n                            System.out.println(&quot;connection eastablished&quot;);\r\n                    } \r\n                    catch (IOException e) \r\n                    {\r\n                            e.printStackTrace();\r\n                    }\r\n            }\r\n    }\r\n\r\nClient class code:\r\n\r\n    import java.io.IOException;\r\n    import java.net.Socket;\r\n    import java.net.UnknownHostException;\r\n    \r\n    public class Client \r\n    {\r\n            public static void main(String[] args)\r\n            {\r\n                    try \r\n                    {\r\n                            //create client socket\r\n                            Socket client = new Socket(&quot;127.0.0.1&quot;, 20);\r\n\r\n                            //upon establishing connection, print                            \r\n                            //successful message\r\n                            System.out.println(&quot;connection eastablished&quot;);\r\n\r\n                    } \r\n                    catch (UnknownHostException e) \r\n                    {\r\n                            e.printStackTrace();\r\n                    } \r\n                    catch (IOException e) \r\n                    {\r\n                            e.printStackTrace();\r\n                    }\r\n            }\r\n    }\r\n\r\nDuring running the complied class, I&#39;m getting the following error:\r\n\r\n&gt; mamun@mamun:~$ java Test Error: A JNI error has occurred, please check\r\n&gt; your installation and try again Exception in thread &quot;main&quot;\r\n&gt; java.lang.UnsupportedClassVersionError: Test has been compiled by a\r\n&gt; more recent version of the Java Runtime (class file version 55.0),\r\n&gt; this version of the Java Runtime only recognizes class file versions\r\n&gt; up to 52.0 \tat java.lang.ClassLoader.defineClass1(Native Method) \tat\r\n&gt; java.lang.ClassLoader.defineClass(ClassLoader.java:763) \tat\r\n&gt; java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n&gt; \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:467) \tat\r\n&gt; java.net.URLClassLoader.access$100(URLClassLoader.java:73) \tat\r\n&gt; java.net.URLClassLoader$1.run(URLClassLoader.java:368) \tat\r\n&gt; java.net.URLClassLoader$1.run(URLClassLoader.java:362) \tat\r\n&gt; java.security.AccessController.doPrivileged(Native Method) \tat\r\n&gt; java.net.URLClassLoader.findClass(URLClassLoader.java:361) \tat\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:424) \tat\r\n&gt; sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349) \tat\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:357) \tat \r\n&gt; sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:495)\r\n\r\n\r\nI&#39;ve tried to search stackoverflow and other forum and blogs to find a solution, I&#39;ve find some similar questions, tried the answers provided to those question but could find a solution for my problem. That&#39;s why I&#39;m adding this question here.\r\n\r\nLater, I&#39;ve try to write a very simple Java program, like just to print a greeting, this program also could be compiled but would not run producing the same error.\r\nI&#39;ve tried to execute the program from different folders except from the root folder. But all efforts produce the same result.\r\n\r\n    \r\n    public class Test\r\n    {\r\n            public static void main(String[] args)\r\n                    {\r\n                            System.out.println(&quot;Hello...&quot;);\r\n                    }\r\n    }\r\n\r\nI can perfectly work in Eclipse where my java version 8, problem occurs only when working in terminal.\r\n\r\nIn my Ubuntu jdk  version is 11 (which has been automatically been updated without my knowledge);\r\nMy Ubuntu version:18.04.1 LTS","title":"Error: A JNI error has occurred, please check your installation and try again - during running Java program from Ubuntu terminal","body":"<p>I'm trying to run a simple client-server program written in Java through Ubuntu terminal. I could compile the code successfully unfortunately, I can't run the code.</p>\n\n<p>Server class code:  </p>\n\n<pre><code>import java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class Server \n{\n        public static void main(String[] args)\n        {\n                try \n                {\n                        //create server Socket with demo port\n                        ServerSocket server = new ServerSocket(20);\n\n                        //wait for server connection\n                        Socket s = server.accept();\n\n                        //upon establishing connection, print \n                       // successful message\n                        System.out.println(\"connection eastablished\");\n                } \n                catch (IOException e) \n                {\n                        e.printStackTrace();\n                }\n        }\n}\n</code></pre>\n\n<p>Client class code:</p>\n\n<pre><code>import java.io.IOException;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\n\npublic class Client \n{\n        public static void main(String[] args)\n        {\n                try \n                {\n                        //create client socket\n                        Socket client = new Socket(\"127.0.0.1\", 20);\n\n                        //upon establishing connection, print                            \n                        //successful message\n                        System.out.println(\"connection eastablished\");\n\n                } \n                catch (UnknownHostException e) \n                {\n                        e.printStackTrace();\n                } \n                catch (IOException e) \n                {\n                        e.printStackTrace();\n                }\n        }\n}\n</code></pre>\n\n<p>During running the complied class, I'm getting the following error:</p>\n\n<blockquote>\n  <p>mamun@mamun:~$ java Test Error: A JNI error has occurred, please check\n  your installation and try again Exception in thread \"main\"\n  java.lang.UnsupportedClassVersionError: Test has been compiled by a\n  more recent version of the Java Runtime (class file version 55.0),\n  this version of the Java Runtime only recognizes class file versions\n  up to 52.0    at java.lang.ClassLoader.defineClass1(Native Method)    at\n  java.lang.ClassLoader.defineClass(ClassLoader.java:763)   at\n  java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)     at\n  java.net.URLClassLoader.access$100(URLClassLoader.java:73)    at\n  java.net.URLClassLoader$1.run(URLClassLoader.java:368)    at\n  java.net.URLClassLoader$1.run(URLClassLoader.java:362)    at\n  java.security.AccessController.doPrivileged(Native Method)    at\n  java.net.URLClassLoader.findClass(URLClassLoader.java:361)    at\n  java.lang.ClassLoader.loadClass(ClassLoader.java:424)     at\n  sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)     at\n  java.lang.ClassLoader.loadClass(ClassLoader.java:357)     at \n  sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:495)</p>\n</blockquote>\n\n<p>I've tried to search stackoverflow and other forum and blogs to find a solution, I've find some similar questions, tried the answers provided to those question but could find a solution for my problem. That's why I'm adding this question here.</p>\n\n<p>Later, I've try to write a very simple Java program, like just to print a greeting, this program also could be compiled but would not run producing the same error.\nI've tried to execute the program from different folders except from the root folder. But all efforts produce the same result.</p>\n\n<pre><code>public class Test\n{\n        public static void main(String[] args)\n                {\n                        System.out.println(\"Hello...\");\n                }\n}\n</code></pre>\n\n<p>I can perfectly work in Eclipse where my java version 8, problem occurs only when working in terminal.</p>\n\n<p>In my Ubuntu jdk  version is 11 (which has been automatically been updated without my knowledge);\nMy Ubuntu version:18.04.1 LTS</p>\n"},{"tags":["java","arrays","bytebuffer","rocksdb"],"comments":[{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":0,"creation_date":1655434530,"post_id":72653173,"comment_id":128336897,"body_markdown":"Can you clarify a bit more what the KV pairs are and what kind of iteration you want","body":"Can you clarify a bit more what the KV pairs are and what kind of iteration you want"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1655435432,"post_id":72653173,"comment_id":128336990,"body_markdown":"Could you post enough code for MRE? Take a look at: [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"Could you post enough code for MRE? Take a look at: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>?"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1655452423,"post_id":72653173,"comment_id":128340422,"body_markdown":"Wouldn&#39;t the database supply the next key in the range, since it _knows_ what the next key will be?","body":"Wouldn&#39;t the database supply the next key in the range, since it <i>knows</i> what the next key will be?"}],"answers":[{"tags":[],"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657503564,"creation_date":1657503564,"answer_id":72932990,"question_id":72653173,"body_markdown":"You can either use a transaction DB and do a read-modify-write cycle\r\n\r\nor use the int64addition merge operator to do the increment at the key","title":"How to increment a byte array by one","body":"<p>You can either use a transaction DB and do a read-modify-write cycle</p>\n<p>or use the int64addition merge operator to do the increment at the key</p>\n"}],"owner":{"account_id":135025,"reputation":7826,"user_id":337546,"accept_rate":89,"display_name":"user_1357"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657503564,"creation_date":1655425761,"question_id":72653173,"body_markdown":"In RocksDB, we are able to perform range scan based on a key. We first seek to the start position by initializing byte[]. For example if your key is composed of two Long data types, we can initialize start byte[16] with `toBytes(Long.MinValue, Long.MinValue)` \r\n\r\nThen set endKey by doing something similar `toBytes(Long.MinValue, Long.MaxValue)`. Note that we only want to scan last 64 bit from `Long.MinValue` to `Long.MaxValue` using this key as example to show we can scan byte[] partially. \r\n\r\nSample code can be found below. How does `iter.next()` work below? We are essentially incrementing byte[16] from start until we hit the end key. In other words, how do we increment byte[] by one? (or increment one bit at a time just like integer addition??) When checking the source code, it jumps to `native` function.   \r\n   \r\n\r\n    val iter = newRocksIterator()\r\n\r\n    new Iterator[Entry] {\r\n      override def hasNext: Boolean = {\r\n        if (iter.isValid) {\r\n  \r\n          if (compareKeys(iter.key(), endKey) &gt; 0) false else true\r\n        } else {\r\n          false\r\n        }\r\n      }\r\n\r\n      override def next(): Entry = {\r\n        val value = Entry(iter.key, iter.value())\r\n        iter.next()\r\n\r\n        value\r\n      }\r\n    }\r\n","title":"How to increment a byte array by one","body":"<p>In RocksDB, we are able to perform range scan based on a key. We first seek to the start position by initializing byte[]. For example if your key is composed of two Long data types, we can initialize start byte[16] with <code>toBytes(Long.MinValue, Long.MinValue)</code></p>\n<p>Then set endKey by doing something similar <code>toBytes(Long.MinValue, Long.MaxValue)</code>. Note that we only want to scan last 64 bit from <code>Long.MinValue</code> to <code>Long.MaxValue</code> using this key as example to show we can scan byte[] partially.</p>\n<p>Sample code can be found below. How does <code>iter.next()</code> work below? We are essentially incrementing byte[16] from start until we hit the end key. In other words, how do we increment byte[] by one? (or increment one bit at a time just like integer addition??) When checking the source code, it jumps to <code>native</code> function.</p>\n<pre><code>val iter = newRocksIterator()\n\nnew Iterator[Entry] {\n  override def hasNext: Boolean = {\n    if (iter.isValid) {\n\n      if (compareKeys(iter.key(), endKey) &gt; 0) false else true\n    } else {\n      false\n    }\n  }\n\n  override def next(): Entry = {\n    val value = Entry(iter.key, iter.value())\n    iter.next()\n\n    value\n  }\n}\n</code></pre>\n"},{"tags":["java","android","multiprocessing","java-native-interface"],"comments":[{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":0,"creation_date":1657467624,"post_id":72929124,"comment_id":128811906,"body_markdown":"Could you give more details about what you&#39;re running in the new process, and what Java code you want to run in it?","body":"Could you give more details about what you&#39;re running in the new process, and what Java code you want to run in it?"},{"owner":{"account_id":25773014,"reputation":1,"user_id":19520981,"display_name":"ccsssau"},"score":0,"creation_date":1657502755,"post_id":72929124,"comment_id":128817773,"body_markdown":"Thanks for your reminder. I add some detailed codes to the description.","body":"Thanks for your reminder. I add some detailed codes to the description."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1657528669,"post_id":72929124,"comment_id":128822674,"body_markdown":"This all sounds like a massive XY problem. Why are you forking a subprocess in the first place? Can&#39;t this flow be replaced by an Android (native) activity?","body":"This all sounds like a massive XY problem. Why are you forking a subprocess in the first place? Can&#39;t this flow be replaced by an Android (native) activity?"},{"owner":{"account_id":25773014,"reputation":1,"user_id":19520981,"display_name":"ccsssau"},"score":0,"creation_date":1657682795,"post_id":72929124,"comment_id":128866337,"body_markdown":"Well, I can&#39;t replace it with some Android activities since they need to be done in the command shell.","body":"Well, I can&#39;t replace it with some Android activities since they need to be done in the command shell."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1657700336,"post_id":72929124,"comment_id":128870198,"body_markdown":"You can run arbitrary commands from Java (`System.runtime.exec`) so why not?","body":"You can run arbitrary commands from Java (<code>System.runtime.exec</code>) so why not?"}],"owner":{"account_id":25773014,"reputation":1,"user_id":19520981,"display_name":"ccsssau"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657502808,"creation_date":1657462159,"question_id":72929124,"body_markdown":"I&#39;m working on an Android project on Android 11. Now I use ```Runtime.getRuntime().exec()``` to generate a new process to run some commands. However these commands will call JNI functions in the new process, where I found it pretty difficult to do so because the new process cannot access my cached JVM pointer in the main process. The function my command will call is like below:\r\n```\r\nstatic JavaVM* jvm;\r\nstatic JNIEnv* gloenv;\r\nstatic jclass glojc;\r\n\r\nvoid PyShowImage(PyObject* obj){\r\n    ...\r\n    jmethodID  showimage = (*gloenv).GetStaticMethodID(glojc,&quot;show_image&quot;,&quot;([F[II)V&quot;);\r\n    ...\r\n}\r\n``` \r\nBut I can&#39;t get JNIEnv and jclass variables in a traditional way because I directly dlopen and run the function from the JNI dynamic library (where JNI_OnLoad won&#39;t work). So I have to first get a JVM pointer. Is there a way to get or create JVM in Android 11.0?","title":"How to get JVM in a new process on Android?","body":"<p>I'm working on an Android project on Android 11. Now I use <code>Runtime.getRuntime().exec()</code> to generate a new process to run some commands. However these commands will call JNI functions in the new process, where I found it pretty difficult to do so because the new process cannot access my cached JVM pointer in the main process. The function my command will call is like below:</p>\n<pre><code>static JavaVM* jvm;\nstatic JNIEnv* gloenv;\nstatic jclass glojc;\n\nvoid PyShowImage(PyObject* obj){\n    ...\n    jmethodID  showimage = (*gloenv).GetStaticMethodID(glojc,&quot;show_image&quot;,&quot;([F[II)V&quot;);\n    ...\n}\n</code></pre>\n<p>But I can't get JNIEnv and jclass variables in a traditional way because I directly dlopen and run the function from the JNI dynamic library (where JNI_OnLoad won't work). So I have to first get a JVM pointer. Is there a way to get or create JVM in Android 11.0?</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1656904783,"post_id":72851421,"comment_id":128676639,"body_markdown":"Do you have a memory leak?","body":"Do you have a memory leak?"},{"owner":{"account_id":4503207,"reputation":199,"user_id":3661273,"accept_rate":77,"display_name":"Ram"},"score":0,"creation_date":1656905102,"post_id":72851421,"comment_id":128676666,"body_markdown":"As in? The part where it fails is at the stage Combine-globally and Sort the kv pairs which i assume is very memory intensive. But even running with 1 worker with high memory having the same issue","body":"As in? The part where it fails is at the stage Combine-globally and Sort the kv pairs which i assume is very memory intensive. But even running with 1 worker with high memory having the same issue"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1656920515,"post_id":72851421,"comment_id":128679503,"body_markdown":"Try connecting a profiler and look at memory usage.","body":"Try connecting a profiler and look at memory usage."},{"owner":{"account_id":284307,"reputation":4946,"user_id":582333,"display_name":"robertwb"},"score":0,"creation_date":1657138644,"post_id":72851421,"comment_id":128741937,"body_markdown":"How much data do you have in total? Will it all fit into memory at once?","body":"How much data do you have in total? Will it all fit into memory at once?"}],"answers":[{"tags":[],"owner":{"account_id":4503207,"reputation":199,"user_id":3661273,"accept_rate":77,"display_name":"Ram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657502299,"creation_date":1657502299,"answer_id":72932898,"question_id":72851421,"body_markdown":"Noticed that the Current memory is still 3.75 GB, upgrading the worker machine type to n1-standard-2 worked","title":"Google dataflow fails with JVM after 8 consecutive periods for Combine globally","body":"<p>Noticed that the Current memory is still 3.75 GB, upgrading the worker machine type to n1-standard-2 worked</p>\n"}],"owner":{"account_id":4503207,"reputation":199,"user_id":3661273,"accept_rate":77,"display_name":"Ram"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657502299,"creation_date":1656904324,"question_id":72851421,"body_markdown":"In my pipeline I have around 4 million records and the flow is as follows\r\n\r\n1) Read all records from bigquery\r\n\r\n2) Transform to proto\r\n\r\n3) Combine globally and create a sorted kv based SST file which is later used for Rocksdb\r\n\r\nThis pipeline works for records upto 1.5 million but later fails with this error.\r\n\r\n\r\n&gt; Shutting down JVM after 8 consecutive periods of measured GC\r\n&gt; thrashing. Memory is used/total/max = 2481/2492/2492 MB, GC last/max =\r\n&gt; 97.50/97.50 %, #pushbacks=0, gc thrashing=true. Heap dump not written.\r\n\r\nThe error doesn&#39;t change even I used several optimizations suggested in various other threads such as \r\n1) Changing machine type to high memory\r\n2) Decreasing the accumulators (reduced the worker count to 1)\r\n3) Use ssd disk\r\n4) --experiments=shuffle_mode=service\r\n\r\nCurrent stats\r\n[![enter image description here][1]][1]\r\nI can&#39;t use a custom file sink as the underlying SST writer doesn&#39;t support writing from bytable channel as [here][2]\r\n\r\nAny insight on resolving this would be helpful\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IcU5I.png\r\n  [2]: https://stackoverflow.com/questions/72244923/output-sorted-kv-pcollection-to-a-sst-file-from-google-cloud-dataflow","title":"Google dataflow fails with JVM after 8 consecutive periods for Combine globally","body":"<p>In my pipeline I have around 4 million records and the flow is as follows</p>\n<ol>\n<li><p>Read all records from bigquery</p>\n</li>\n<li><p>Transform to proto</p>\n</li>\n<li><p>Combine globally and create a sorted kv based SST file which is later used for Rocksdb</p>\n</li>\n</ol>\n<p>This pipeline works for records upto 1.5 million but later fails with this error.</p>\n<blockquote>\n<p>Shutting down JVM after 8 consecutive periods of measured GC\nthrashing. Memory is used/total/max = 2481/2492/2492 MB, GC last/max =\n97.50/97.50 %, #pushbacks=0, gc thrashing=true. Heap dump not written.</p>\n</blockquote>\n<p>The error doesn't change even I used several optimizations suggested in various other threads such as</p>\n<ol>\n<li>Changing machine type to high memory</li>\n<li>Decreasing the accumulators (reduced the worker count to 1)</li>\n<li>Use ssd disk</li>\n<li>--experiments=shuffle_mode=service</li>\n</ol>\n<p>Current stats\n<a href=\"https://i.stack.imgur.com/IcU5I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IcU5I.png\" alt=\"enter image description here\" /></a>\nI can't use a custom file sink as the underlying SST writer doesn't support writing from bytable channel as <a href=\"https://stackoverflow.com/questions/72244923/output-sorted-kv-pcollection-to-a-sst-file-from-google-cloud-dataflow\">here</a></p>\n<p>Any insight on resolving this would be helpful</p>\n"},{"tags":["java","integer"],"comments":[{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":1,"creation_date":1438091689,"post_id":31678344,"comment_id":51298501,"body_markdown":"Could you please provide an example which describes your problem?","body":"Could you please provide an example which describes your problem?"},{"owner":{"account_id":3298842,"reputation":14301,"user_id":2775450,"accept_rate":71,"display_name":"Codebender"},"score":2,"creation_date":1438092534,"post_id":31678344,"comment_id":51299200,"body_markdown":"AFAIK, this is possible in languages (like c) where boolean is represented as int. But not in java, because you can get a boolean value using only comparison. bit operators on int will always only result in an int.","body":"AFAIK, this is possible in languages (like c) where boolean is represented as int. But not in java, because you can get a boolean value using only comparison. bit operators on int will always only result in an int."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1438093176,"creation_date":1438092592,"answer_id":31678816,"question_id":31678344,"body_markdown":"You need at least comparison to 0 and notionally this is what the CPU does for a comparison. e.g.\r\n\r\nEquals can be modelled as `^` as the bits have to be the same to return 0\r\n\r\n    (a ^ b) == 0\r\n\r\nif this was `C` you could drop the `== 0` as this can be implied with\r\n\r\n    !(a ^ b)\r\n\r\nbut in Java you can&#39;t convert an `int` to a `boolean` without at least some comparison.\r\n\r\nFor comparison you usually do a subtraction, though one which handles overflows.\r\n\r\n    (long) a - b &gt; 0 // same as a &gt; b\r\n\r\nsubtraction is the same as adding a negative and negative is the same as ~x+1 so you can do\r\n\r\n    (long) a + ~ (long) b + 1 &gt; 0\r\n\r\nto drop the `+1` you can change this to\r\n\r\n    (long) a + ~ (long) b &gt;= 0 // same as a &gt; b\r\n\r\nYou could implement `+` as a series of bit by bit operations with `&gt;&gt;` `&lt;&lt;` `&amp;` `|` and `^` but I wouldn&#39;t inflict that on you.","title":"Compare two integers using bit operator","body":"<p>You need at least comparison to 0 and notionally this is what the CPU does for a comparison. e.g.</p>\n\n<p>Equals can be modelled as <code>^</code> as the bits have to be the same to return 0</p>\n\n<pre><code>(a ^ b) == 0\n</code></pre>\n\n<p>if this was <code>C</code> you could drop the <code>== 0</code> as this can be implied with</p>\n\n<pre><code>!(a ^ b)\n</code></pre>\n\n<p>but in Java you can't convert an <code>int</code> to a <code>boolean</code> without at least some comparison.</p>\n\n<p>For comparison you usually do a subtraction, though one which handles overflows.</p>\n\n<pre><code>(long) a - b &gt; 0 // same as a &gt; b\n</code></pre>\n\n<p>subtraction is the same as adding a negative and negative is the same as ~x+1 so you can do</p>\n\n<pre><code>(long) a + ~ (long) b + 1 &gt; 0\n</code></pre>\n\n<p>to drop the <code>+1</code> you can change this to</p>\n\n<pre><code>(long) a + ~ (long) b &gt;= 0 // same as a &gt; b\n</code></pre>\n\n<p>You could implement <code>+</code> as a series of bit by bit operations with <code>&gt;&gt;</code> <code>&lt;&lt;</code> <code>&amp;</code> <code>|</code> and <code>^</code> but I wouldn't inflict that on you.</p>\n"},{"tags":[],"owner":{"account_id":2370246,"reputation":1892,"user_id":2757635,"display_name":"rhitz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438092803,"creation_date":1438092803,"answer_id":31678906,"question_id":31678344,"body_markdown":"# Using binary two’s complement notation #\r\n\r\n    int findMax( int x, int y)\r\n    {\r\n     int z = x - y;\r\n     int i  = (z  &gt;&gt;  31)  &amp;  0x1;\r\n     int  max  =  x - i  *  z;\r\n     return max;\r\n    }\r\n\r\nReference: [Here][1]\r\n\r\n\r\n  [1]: http://www.programmerinterview.com/index.php/general-miscellaneous/find-max-without-comparison/","title":"Compare two integers using bit operator","body":"<h1>Using binary two’s complement notation</h1>\n\n<pre><code>int findMax( int x, int y)\n{\n int z = x - y;\n int i  = (z  &gt;&gt;  31)  &amp;  0x1;\n int  max  =  x - i  *  z;\n return max;\n}\n</code></pre>\n\n<p>Reference: <a href=\"http://www.programmerinterview.com/index.php/general-miscellaneous/find-max-without-comparison/\" rel=\"nofollow\">Here</a></p>\n"},{"tags":[],"owner":{"account_id":23418,"reputation":4755,"user_id":58678,"accept_rate":83,"display_name":"hIpPy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657501692,"creation_date":1520957878,"answer_id":49261017,"question_id":31678344,"body_markdown":"You cannot convert `1` or `0` to `bool` without a comparison operator like Peter mentioned. It is still possible to get `max` without a comparison operator.\r\n\r\nI&#39;m using `bit` (1 or 0) instead of `int` to avoid confusion.\r\n\r\n\tbit msb(x):\r\n\t\treturn lsb(x &gt;&gt; 31)\r\n\tbit lsb(x):\r\n\t\treturn x &amp;1\r\n\r\n\t// returns 1 if x &lt; 0, 0 if x &gt;= 0\r\n\tbit isNegative(x):\r\n\t\treturn msb(x)\r\n\r\nWith these helpers `isGreater(a, b)` looks like,\r\n\r\n    // BUG: bug due to overflow when a is -ve and b is +ve\r\n    // returns 1 if a &gt; b, 0 if a &lt;= b\r\n    bit isGreater_BUG(a, b):\r\n    \treturn isNegative(b - a)\t// possible overflow\r\n\r\nWe need two helpers functions to detect same and different signs,\r\n\r\n\t// toggles lsb only\r\n\tbit toggle(x):\r\n\t\treturn lsb(~x)\r\n\r\n\t// returns 1 if a, b have same signs (0 is considered +ve).\r\n\tbit isSameSigns(a, b):\r\n\t\treturn toggle(isDiffSigns(a, b))\r\n\t// returns 1 if a, b have different signs (0 is considered +ve).\r\n\tbit isDiffSigns(a, b):\r\n\t\treturn msb(a ^ b)\r\n\r\nSo with the overflow issue fix,\r\n\r\n\t// returns 1 if a &gt; b, 0 if a &lt;= b\r\n\tbit isGreater(a, b):\r\n\t\treturn \r\n\t\t\t(isSameSigns(a, b) &amp; isNegative(b - a)) | \r\n\t\t\t(isDiffSigns(a, b) &amp; isNegative(b))\r\n\r\nNote that `isGreater` works correctly for inputs `5, 0` and `0, -5` also. \r\n\r\nIt&#39;s *trickier* to implement `isPositive(x)` properly as `0` will also be considered positive. So instead of using `isPositive(a - b)` above, `isNegative(b - a)` is used as `isNegative(x)` works correctly for `0`.\r\n\r\nNow max can be implemented as,\r\n\r\n\t// BUG: returns 0 when a == b instead of a (or b)\r\n\t// returns a if a &gt; b, b if b &gt; a\r\n\tint max_BUG(a, b):\r\n\t\treturn\r\n\t\t\tisGreater(a, b) * a +\t// returns 0 when a = b\r\n\t\t\tisGreater(b, a) * b\t\t//\r\n\r\nTo fix that, helper `isZero(x)` is used,\r\n\r\n\t// returns 1 if x is 0, else 0\r\n\tbit isZero(x):\r\n\t\t// x | -x will have msb 1 for a non-zero integer\r\n\t\t// and 0 for 0\r\n\t\treturn toggle(msb(x | -x))\r\n\r\nSo with the fix when `a = b`,\r\n\r\n    // returns 1 if a == b else 0\r\n    bit isEqual(a, b):\r\n    \treturn isZero(a - b) // or isZero(a ^ b)\r\n\r\n\tint max(a, b):\r\n\t\treturn\r\n\t\t\tisGreater(a, b) * a +\t// a &gt; b, so a\r\n\t\t\tisGreater(b, a) * b +\t// b &gt; a, so b\r\n\t\t\tisEqual(a, b) * a\t\t// a = b, so a (or b)\r\n\r\nThat said, if `isPositive(0)` returns 1 then `max(5, 5)` will return 10 instead of 5. So a correct `isPositive(x)` implementation will be,\r\n\r\n\t// returns 1 if x &gt; 0, 0 if x &lt;= 0\r\n    bit isPositive(x):\r\n    \treturn isNotZero(x) &amp; toggle(isNegative(x))\r\n\r\n\t// returns 1 if x != 0, else 0\r\n    bit isNotZero(x):\r\n    \treturn msb(x | -x)\r\n","title":"Compare two integers using bit operator","body":"<p>You cannot convert <code>1</code> or <code>0</code> to <code>bool</code> without a comparison operator like Peter mentioned. It is still possible to get <code>max</code> without a comparison operator.</p>\n<p>I'm using <code>bit</code> (1 or 0) instead of <code>int</code> to avoid confusion.</p>\n<pre><code>bit msb(x):\n    return lsb(x &gt;&gt; 31)\nbit lsb(x):\n    return x &amp;1\n\n// returns 1 if x &lt; 0, 0 if x &gt;= 0\nbit isNegative(x):\n    return msb(x)\n</code></pre>\n<p>With these helpers <code>isGreater(a, b)</code> looks like,</p>\n<pre><code>// BUG: bug due to overflow when a is -ve and b is +ve\n// returns 1 if a &gt; b, 0 if a &lt;= b\nbit isGreater_BUG(a, b):\n    return isNegative(b - a)    // possible overflow\n</code></pre>\n<p>We need two helpers functions to detect same and different signs,</p>\n<pre><code>// toggles lsb only\nbit toggle(x):\n    return lsb(~x)\n\n// returns 1 if a, b have same signs (0 is considered +ve).\nbit isSameSigns(a, b):\n    return toggle(isDiffSigns(a, b))\n// returns 1 if a, b have different signs (0 is considered +ve).\nbit isDiffSigns(a, b):\n    return msb(a ^ b)\n</code></pre>\n<p>So with the overflow issue fix,</p>\n<pre><code>// returns 1 if a &gt; b, 0 if a &lt;= b\nbit isGreater(a, b):\n    return \n        (isSameSigns(a, b) &amp; isNegative(b - a)) | \n        (isDiffSigns(a, b) &amp; isNegative(b))\n</code></pre>\n<p>Note that <code>isGreater</code> works correctly for inputs <code>5, 0</code> and <code>0, -5</code> also.</p>\n<p>It's <em>trickier</em> to implement <code>isPositive(x)</code> properly as <code>0</code> will also be considered positive. So instead of using <code>isPositive(a - b)</code> above, <code>isNegative(b - a)</code> is used as <code>isNegative(x)</code> works correctly for <code>0</code>.</p>\n<p>Now max can be implemented as,</p>\n<pre><code>// BUG: returns 0 when a == b instead of a (or b)\n// returns a if a &gt; b, b if b &gt; a\nint max_BUG(a, b):\n    return\n        isGreater(a, b) * a +   // returns 0 when a = b\n        isGreater(b, a) * b     //\n</code></pre>\n<p>To fix that, helper <code>isZero(x)</code> is used,</p>\n<pre><code>// returns 1 if x is 0, else 0\nbit isZero(x):\n    // x | -x will have msb 1 for a non-zero integer\n    // and 0 for 0\n    return toggle(msb(x | -x))\n</code></pre>\n<p>So with the fix when <code>a = b</code>,</p>\n<pre><code>// returns 1 if a == b else 0\nbit isEqual(a, b):\n    return isZero(a - b) // or isZero(a ^ b)\n\nint max(a, b):\n    return\n        isGreater(a, b) * a +   // a &gt; b, so a\n        isGreater(b, a) * b +   // b &gt; a, so b\n        isEqual(a, b) * a       // a = b, so a (or b)\n</code></pre>\n<p>That said, if <code>isPositive(0)</code> returns 1 then <code>max(5, 5)</code> will return 10 instead of 5. So a correct <code>isPositive(x)</code> implementation will be,</p>\n<pre><code>// returns 1 if x &gt; 0, 0 if x &lt;= 0\nbit isPositive(x):\n    return isNotZero(x) &amp; toggle(isNegative(x))\n\n// returns 1 if x != 0, else 0\nbit isNotZero(x):\n    return msb(x | -x)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2730922,"reputation":5179,"user_id":2354735,"accept_rate":67,"display_name":"Jet Blue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529531506,"creation_date":1529531506,"answer_id":50957598,"question_id":31678344,"body_markdown":"    a ^ b = c                    // XOR the inputs\r\n                                 //  If a equals b, c is zero. Else c is some other value\r\n\r\n    c[0] | c[1] ... | c[n] = d   // OR the bits\r\n                                 //  If c equals zero, d equals zero. Else d equals 1\r\n\r\nNote: `a,b,c` are n-bit integers and `d` is a bit","title":"Compare two integers using bit operator","body":"<pre><code>a ^ b = c                    // XOR the inputs\n                             //  If a equals b, c is zero. Else c is some other value\n\nc[0] | c[1] ... | c[n] = d   // OR the bits\n                             //  If c equals zero, d equals zero. Else d equals 1\n</code></pre>\n\n<p>Note: <code>a,b,c</code> are n-bit integers and <code>d</code> is a bit</p>\n"},{"tags":[],"owner":{"account_id":6982894,"reputation":48,"user_id":8371174,"display_name":"Jayanta Debnath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537556835,"creation_date":1537555045,"answer_id":52449418,"question_id":31678344,"body_markdown":"The solution in java without using a comparator operator:\r\n\r\n        int a = 10;\r\n        int b = 12;\r\n        boolean[] bol = new boolean[] {true};\r\n        \r\n        try {\r\n          boolean c = bol[a ^ b];\r\n          System.out.println(&quot;The two integers are equal!&quot;);\r\n        } catch (java.lang.ArrayIndexOutOfBoundsException e) {\r\n          System.out.println(&quot;The two integers are not equal!&quot;);\r\n          int z = a - b;\r\n          int i = (z &gt;&gt; 31) &amp; 0x1;\r\n          System.out.println(&quot;The bigger integer is &quot; + (a - i * z));\r\n        }","title":"Compare two integers using bit operator","body":"<p>The solution in java without using a comparator operator:</p>\n\n<pre><code>    int a = 10;\n    int b = 12;\n    boolean[] bol = new boolean[] {true};\n\n    try {\n      boolean c = bol[a ^ b];\n      System.out.println(\"The two integers are equal!\");\n    } catch (java.lang.ArrayIndexOutOfBoundsException e) {\n      System.out.println(\"The two integers are not equal!\");\n      int z = a - b;\n      int i = (z &gt;&gt; 31) &amp; 0x1;\n      System.out.println(\"The bigger integer is \" + (a - i * z));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13877192,"reputation":100,"user_id":11842333,"display_name":"Topa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615527784,"creation_date":1615526773,"answer_id":66594638,"question_id":31678344,"body_markdown":"I am going to assume you need an integer (0 or 1) because you will need a comparison to get a boolean from integer in java.\r\n\r\nHere, is a simple solution that doesn&#39;t use comparison but uses subtraction which can actually be done using bitwise operations (but not recommended because it takes a lot of cycles in software).\r\n\r\n```java\r\n// For equality,\r\n// 1. Perform r=a^b.\r\n//    If they are equal you get all bits 0. Otherwise some bits are 1.\r\n// 2. Cast it to a larger datatype 0 to have an extra bit for sign.\r\n//    You will need to clear the high bits because of signed casting.\r\n//    You can split it into two parts if you can&#39;t cast.\r\n// 3. Perform -r.\r\n//    If all bits are 0, you will get 0.\r\n//    If some bits are not 0, then you get a negative number.\r\n// 4. Shift right to extract MSB.\r\n//    This will give -1 (because of sign extension) for not equal and 0 for equal.\r\n//    You can easily convert it to 0 and 1 by adding 1 (I didn&#39;t include it in below function).\r\nint equality(int a, int b) {\r\n    long r = ((long)(a^b)) ^0xffffffffl;\r\n    return (int)(((long)-r) &gt;&gt; 63);\r\n}\r\n\r\n// For greater_than,\r\n// 1. Cast a and b to larger datatype to get more bits.\r\n//    You can split it into two parts if you can&#39;t cast.\r\n// 2. Perform b-a.\r\n//    If a&gt;b, then negative number (MSB is 1)\r\n//    If a&lt;=b, then positive number or zero (MSB is 0)\r\n// 3. Shift right to extract MSB.\r\n//    This will give -1 (because of sign extension) for greater than and 0 for not.\r\n//    You can easily convert it to 0 and 1 by negating it (I didn&#39;t include it in below function).\r\nint greater_than(int a, int b) {\r\n    long r = (long)b-(long)a;\r\n    return (int)(r &gt;&gt; 63);\r\n}\r\n\r\n```\r\n\r\nLess than is similar to greater but you swap a and b.\r\n\r\n**Trivia: These comparison functions are actually used in security (Cryptography) because the CPU comparison is not constant-time; aka not secure against timing attacks**.\r\n","title":"Compare two integers using bit operator","body":"<p>I am going to assume you need an integer (0 or 1) because you will need a comparison to get a boolean from integer in java.</p>\n<p>Here, is a simple solution that doesn't use comparison but uses subtraction which can actually be done using bitwise operations (but not recommended because it takes a lot of cycles in software).</p>\n<pre class=\"lang-java prettyprint-override\"><code>// For equality,\n// 1. Perform r=a^b.\n//    If they are equal you get all bits 0. Otherwise some bits are 1.\n// 2. Cast it to a larger datatype 0 to have an extra bit for sign.\n//    You will need to clear the high bits because of signed casting.\n//    You can split it into two parts if you can't cast.\n// 3. Perform -r.\n//    If all bits are 0, you will get 0.\n//    If some bits are not 0, then you get a negative number.\n// 4. Shift right to extract MSB.\n//    This will give -1 (because of sign extension) for not equal and 0 for equal.\n//    You can easily convert it to 0 and 1 by adding 1 (I didn't include it in below function).\nint equality(int a, int b) {\n    long r = ((long)(a^b)) ^0xffffffffl;\n    return (int)(((long)-r) &gt;&gt; 63);\n}\n\n// For greater_than,\n// 1. Cast a and b to larger datatype to get more bits.\n//    You can split it into two parts if you can't cast.\n// 2. Perform b-a.\n//    If a&gt;b, then negative number (MSB is 1)\n//    If a&lt;=b, then positive number or zero (MSB is 0)\n// 3. Shift right to extract MSB.\n//    This will give -1 (because of sign extension) for greater than and 0 for not.\n//    You can easily convert it to 0 and 1 by negating it (I didn't include it in below function).\nint greater_than(int a, int b) {\n    long r = (long)b-(long)a;\n    return (int)(r &gt;&gt; 63);\n}\n\n</code></pre>\n<p>Less than is similar to greater but you swap a and b.</p>\n<p><strong>Trivia: These comparison functions are actually used in security (Cryptography) because the CPU comparison is not constant-time; aka not secure against timing attacks</strong>.</p>\n"}],"owner":{"account_id":5496119,"reputation":292,"user_id":4367180,"accept_rate":62,"display_name":"Zahid Hossain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17281,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":31678816,"answer_count":6,"score":10,"last_activity_date":1657501692,"creation_date":1438091591,"question_id":31678344,"body_markdown":"I need to compare two integer using Bit operator. \r\nI faced a problem where I have to compare two integers without using comparison operator.Using bit operator would help.But how? \r\n\r\nLets say \r\na = 4;\r\nb = 5;\r\n\r\nWe have to show  a is not equal to b. \r\nBut,I would like to extend it further ,say,we will show which is greater.Here b is greater..","title":"Compare two integers using bit operator","body":"<p>I need to compare two integer using Bit operator. \nI faced a problem where I have to compare two integers without using comparison operator.Using bit operator would help.But how? </p>\n\n<p>Lets say \na = 4;\nb = 5;</p>\n\n<p>We have to show  a is not equal to b. \nBut,I would like to extend it further ,say,we will show which is greater.Here b is greater..</p>\n"},{"tags":["java","android","sockets","client-server","eof"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1657490640,"post_id":72932121,"comment_id":128816278,"body_markdown":"`ObjectOutputStream` is not designed for passing objects between separate runtime engines (JVM vs. Android&#39;s ART). I recommend that you use something designed more for that role (JSON, XML, protobuf, etc.).","body":"<code>ObjectOutputStream</code> is not designed for passing objects between separate runtime engines (JVM vs. Android&#39;s ART). I recommend that you use something designed more for that role (JSON, XML, protobuf, etc.)."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1657491490,"post_id":72932121,"comment_id":128816383,"body_markdown":"Your code doesn&#39;t match the exception. The exception shows EOF in `readChar()` but there is no such line in `sendFile()`, it&#39;s been commented out. Please double-check that your example and your exceptions/error correspond. Showing an exception corresponding to a different version of the code will make it very difficult to get answers.","body":"Your code doesn&#39;t match the exception. The exception shows EOF in <code>readChar()</code> but there is no such line in <code>sendFile()</code>, it&#39;s been commented out. Please double-check that your example and your exceptions/error correspond. Showing an exception corresponding to a different version of the code will make it very difficult to get answers."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1657501366,"post_id":72932121,"comment_id":128817630,"body_markdown":"`EOFException` is *not* &#39;unexpected&#39; when using `ObjectInputStream`. It is what you will get when you reach the end of stream. You need to catch it separately and treat it normally, not as an error, by closing the stream and exiting the read loop.","body":"<code>EOFException</code> is <i>not</i> &#39;unexpected&#39; when using <code>ObjectInputStream</code>. It is what you will get when you reach the end of stream. You need to catch it separately and treat it normally, not as an error, by closing the stream and exiting the read loop."}],"owner":{"account_id":20484619,"reputation":17,"user_id":15032083,"display_name":"giannismparous"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":923,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657501426,"answer_count":0,"score":0,"last_activity_date":1657501508,"creation_date":1657489832,"question_id":72932121,"body_markdown":"so I&#39;m making a messenger app in Android Studio. I have basically set up a server on my pc (a program running in Java) and a client (the android code). These 2 maintain an object input stream and an object output stream. When the client&#39;s code is executed (it&#39;s an async task), it writes some things to its output stream that end up to the input stream of the server successfully every time. However, when the server attempts to write to its output stream, the messages are successfully written and flushed (I have checked that the code after that is running so there is no problem in the writing part) but when the client tries to read from the input stream it crashes. And what&#39;s weird about it is that it doesn&#39;t happen all the time, it happens randomly. No idea how to fix it, the only thing the client does is read a boolean. \r\n\r\nThe error is this:\r\n```\r\n2022-07-10 21:34:47.823 11035-11084/com.example.smartchatters W/System.err: java.io.StreamCorruptedException: unexpected EOF in middle of data block\r\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.ObjectInputStream$BlockDataInputStream.refill(ObjectInputStream.java:2692)\r\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.ObjectInputStream$BlockDataInputStream.read(ObjectInputStream.java:2855)\r\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.ObjectInputStream$BlockDataInputStream.read(ObjectInputStream.java:2777)\r\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.DataInputStream.readFully(DataInputStream.java:198)\r\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.DataInputStream.readChar(DataInputStream.java:365)\r\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.ObjectInputStream$BlockDataInputStream.readChar(ObjectInputStream.java:2937)\r\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.ObjectInputStream.readChar(ObjectInputStream.java:995)\r\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at com.example.smartchatters.logic.Usernode$Publisher.sendFile(Usernode.java:255)\r\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at com.example.smartchatters.logic.Usernode$Publisher.run(Usernode.java:217)\r\n\r\n```\r\n\r\nServer&#39;s code (thread, the publisherBrokerHelper() is executed first and then calls the sendFiles()):\r\n```\r\n public void publisherBrokerHelper() {\r\n    \ttry {\r\n\t    \tMultimediaFile item;\r\n\t        String r = &quot;&quot;;\r\n\t    \twhile (!r.equals(&quot;send&quot;)) {\r\n\t\t\t\titem = (MultimediaFile) in.readObject();\r\n\t\t\t\tr = new String(item.FileChunk, StandardCharsets.UTF_8);\r\n\t\t        System.out.println(&quot;Command: &quot;+r);\r\n\t\t        if (r.equals(&quot;send&quot;)) {\r\n\t\t            receiveFile(item.getName(),item.getExtension(),item);\r\n\t\t        }\r\n    \t\t}\r\n    \t} catch (ClassNotFoundException e) {\r\n\t\t\tSystem.err.println(&quot;PublisherBrokerHelper ClassNotFound error in run.&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(&quot;Connection with client terminated unexpectedly&quot;);\r\n\t\t}\r\n    }\r\n\r\n   public void receiveFile(String fileName,String fileExtension, MultimediaFile sendMessage) {\r\n    \tString topicName=null;\r\n    \tProfileName userName=null;\r\n    \tboolean verification=false;\r\n\t\ttry {\r\n\t\t\ttopicName = (String)in.readObject();\r\n\t\t\tuserName = (ProfileName)in.readObject();\r\n\t\t\tfor (int i=0;i&lt;localTopics.size();i++) {\r\n\t    \t\tif (localTopics.get(i).getName().equals(topicName)) {\r\n\t    \t\t\tcurrentTopic=localTopics.get(i);\r\n\t    \t\t\tbreak;\r\n\t    \t\t}\r\n\t    \t}\r\n\t\t\tfor (int i=0;i&lt;currentTopic.getSubscribedUsers().size();i++) {\r\n\t    \t\tif (currentTopic.getSubscribedUsers().get(i).getUsername().equals(userName.getUsername())) {\r\n\t    \t\t\tverification=true;\r\n\t    \t\t\tbreak;\r\n\t    \t\t}\r\n\t    \t}\r\n\t\t\tSystem.out.println(&quot;WOW&quot;);\r\n\t\t\tSystem.out.println(verification);\r\n\t\t\tif (verification)out.writeChar(&#39;Y&#39;);\r\n//\t\t\telse out.writeChar(&#39;N&#39;);\r\n//\t    \tout.flush();\r\n\t\t\tout.writeBoolean(verification);\r\n\t    \tout.flush();\r\n\t    \tSystem.out.println(&quot;WOW&quot;);\r\n\t\t} catch (ClassNotFoundException e1) {\r\n\t\t\tSystem.err.println(&quot;PublisherBrokerHelper ClassNotFound error in topic name fetch.&quot;);\r\n\t\t\te1.printStackTrace();\r\n\t\t} catch (IOException e1) {\r\n\t\t\tSystem.err.println(&quot;PublisherBrokerHelper IO error error in topic name fetch.&quot;);\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n.\r\n.\r\n.\r\n}\r\n\r\n\r\n```\r\n\r\nClient&#39;s code (Async thread):\r\n```\r\n public void sendFile() {\r\n            try {\r\n                MultimediaFile item;\r\n                File file=null;\r\n                if (fileExtension!=null){\r\n                    file = new File(fileName+&quot;.&quot;+fileExtension);\r\n                    item = new MultimediaFile(fileName,user,dateCreated,fileExtension, (int) Math.ceil((float)file.length() / 8192), &quot;send&quot;.length()+1,0);\r\n                }\r\n                else {\r\n                    item = new MultimediaFile(fileName,user,dateCreated,fileExtension, 0, &quot;send&quot;.length()+1,0);\r\n                }\r\n                item.FileChunk = &quot;send&quot;.getBytes(StandardCharsets.UTF_8);\r\n                out.writeObject(item);\r\n                out.flush();\r\n                out.writeObject(topicName);\r\n                out.flush();\r\n                out.writeObject(user);\r\n                out.flush();\r\n                System.out.println(&quot;in&quot;+in);\r\n                System.out.println(&quot;WOW&quot;);\r\n//                System.out.println(in.readChar());\r\n//                boolean verification;\r\n//                verification= in.readChar() == &#39;Y&#39;;\r\n                boolean verification=in.readBoolean();\r\n                if (!verification) {\r\n                    //System.out.println(&quot;Seems like you are trying to push in a topic that you don&#39;t belong&quot;);\r\n                    return;\r\n                }\r\n                if (fileExtension!=null) {\r\n                    InputStream FileStream = new FileInputStream(file);\r\n                    int count=1;\r\n                    item = new MultimediaFile(fileName, user, dateCreated,fileExtension, (int) Math.ceil((float)file.length() / 8192), 8192,count);\r\n                    while ((FileStream.read(item.FileChunk)) &gt; 0) {\r\n                        out.writeObject(item);\r\n                        out.flush();\r\n                        //System.out.println(&quot;Publisher sent &quot;+item.getChunkId()+&quot; chunk of file :&quot;+ item.getName()+&quot;.&quot;+item.getExtension());\r\n                        item = new MultimediaFile(fileName, user, dateCreated,fileExtension, (int) Math.ceil((float)file.length() / 8192), 8192,count+1);\r\n                        count++;\r\n                    }\r\n                    FileStream.close();\r\n                }\r\n            } catch (IOException e) {\r\n                System.err.println(&quot;UserNode IO error in sendFile.&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n```\r\n","title":"Unexpected EOF exception when reading from ObjectInputStream","body":"<p>so I'm making a messenger app in Android Studio. I have basically set up a server on my pc (a program running in Java) and a client (the android code). These 2 maintain an object input stream and an object output stream. When the client's code is executed (it's an async task), it writes some things to its output stream that end up to the input stream of the server successfully every time. However, when the server attempts to write to its output stream, the messages are successfully written and flushed (I have checked that the code after that is running so there is no problem in the writing part) but when the client tries to read from the input stream it crashes. And what's weird about it is that it doesn't happen all the time, it happens randomly. No idea how to fix it, the only thing the client does is read a boolean.</p>\n<p>The error is this:</p>\n<pre><code>2022-07-10 21:34:47.823 11035-11084/com.example.smartchatters W/System.err: java.io.StreamCorruptedException: unexpected EOF in middle of data block\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.ObjectInputStream$BlockDataInputStream.refill(ObjectInputStream.java:2692)\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.ObjectInputStream$BlockDataInputStream.read(ObjectInputStream.java:2855)\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.ObjectInputStream$BlockDataInputStream.read(ObjectInputStream.java:2777)\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.DataInputStream.readFully(DataInputStream.java:198)\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.DataInputStream.readChar(DataInputStream.java:365)\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.ObjectInputStream$BlockDataInputStream.readChar(ObjectInputStream.java:2937)\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at java.io.ObjectInputStream.readChar(ObjectInputStream.java:995)\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at com.example.smartchatters.logic.Usernode$Publisher.sendFile(Usernode.java:255)\n2022-07-10 21:34:47.824 11035-11084/com.example.smartchatters W/System.err:     at com.example.smartchatters.logic.Usernode$Publisher.run(Usernode.java:217)\n\n</code></pre>\n<p>Server's code (thread, the publisherBrokerHelper() is executed first and then calls the sendFiles()):</p>\n<pre><code> public void publisherBrokerHelper() {\n        try {\n            MultimediaFile item;\n            String r = &quot;&quot;;\n            while (!r.equals(&quot;send&quot;)) {\n                item = (MultimediaFile) in.readObject();\n                r = new String(item.FileChunk, StandardCharsets.UTF_8);\n                System.out.println(&quot;Command: &quot;+r);\n                if (r.equals(&quot;send&quot;)) {\n                    receiveFile(item.getName(),item.getExtension(),item);\n                }\n            }\n        } catch (ClassNotFoundException e) {\n            System.err.println(&quot;PublisherBrokerHelper ClassNotFound error in run.&quot;);\n            e.printStackTrace();\n        } catch (IOException e) {\n            System.err.println(&quot;Connection with client terminated unexpectedly&quot;);\n        }\n    }\n\n   public void receiveFile(String fileName,String fileExtension, MultimediaFile sendMessage) {\n        String topicName=null;\n        ProfileName userName=null;\n        boolean verification=false;\n        try {\n            topicName = (String)in.readObject();\n            userName = (ProfileName)in.readObject();\n            for (int i=0;i&lt;localTopics.size();i++) {\n                if (localTopics.get(i).getName().equals(topicName)) {\n                    currentTopic=localTopics.get(i);\n                    break;\n                }\n            }\n            for (int i=0;i&lt;currentTopic.getSubscribedUsers().size();i++) {\n                if (currentTopic.getSubscribedUsers().get(i).getUsername().equals(userName.getUsername())) {\n                    verification=true;\n                    break;\n                }\n            }\n            System.out.println(&quot;WOW&quot;);\n            System.out.println(verification);\n            if (verification)out.writeChar('Y');\n//          else out.writeChar('N');\n//          out.flush();\n            out.writeBoolean(verification);\n            out.flush();\n            System.out.println(&quot;WOW&quot;);\n        } catch (ClassNotFoundException e1) {\n            System.err.println(&quot;PublisherBrokerHelper ClassNotFound error in topic name fetch.&quot;);\n            e1.printStackTrace();\n        } catch (IOException e1) {\n            System.err.println(&quot;PublisherBrokerHelper IO error error in topic name fetch.&quot;);\n            e1.printStackTrace();\n        }\n.\n.\n.\n}\n\n\n</code></pre>\n<p>Client's code (Async thread):</p>\n<pre><code> public void sendFile() {\n            try {\n                MultimediaFile item;\n                File file=null;\n                if (fileExtension!=null){\n                    file = new File(fileName+&quot;.&quot;+fileExtension);\n                    item = new MultimediaFile(fileName,user,dateCreated,fileExtension, (int) Math.ceil((float)file.length() / 8192), &quot;send&quot;.length()+1,0);\n                }\n                else {\n                    item = new MultimediaFile(fileName,user,dateCreated,fileExtension, 0, &quot;send&quot;.length()+1,0);\n                }\n                item.FileChunk = &quot;send&quot;.getBytes(StandardCharsets.UTF_8);\n                out.writeObject(item);\n                out.flush();\n                out.writeObject(topicName);\n                out.flush();\n                out.writeObject(user);\n                out.flush();\n                System.out.println(&quot;in&quot;+in);\n                System.out.println(&quot;WOW&quot;);\n//                System.out.println(in.readChar());\n//                boolean verification;\n//                verification= in.readChar() == 'Y';\n                boolean verification=in.readBoolean();\n                if (!verification) {\n                    //System.out.println(&quot;Seems like you are trying to push in a topic that you don't belong&quot;);\n                    return;\n                }\n                if (fileExtension!=null) {\n                    InputStream FileStream = new FileInputStream(file);\n                    int count=1;\n                    item = new MultimediaFile(fileName, user, dateCreated,fileExtension, (int) Math.ceil((float)file.length() / 8192), 8192,count);\n                    while ((FileStream.read(item.FileChunk)) &gt; 0) {\n                        out.writeObject(item);\n                        out.flush();\n                        //System.out.println(&quot;Publisher sent &quot;+item.getChunkId()+&quot; chunk of file :&quot;+ item.getName()+&quot;.&quot;+item.getExtension());\n                        item = new MultimediaFile(fileName, user, dateCreated,fileExtension, (int) Math.ceil((float)file.length() / 8192), 8192,count+1);\n                        count++;\n                    }\n                    FileStream.close();\n                }\n            } catch (IOException e) {\n                System.err.println(&quot;UserNode IO error in sendFile.&quot;);\n                e.printStackTrace();\n            }\n        }\n</code></pre>\n"},{"tags":["java","encryption","public-key-encryption","private-key","ecdh"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1657502834,"post_id":72932840,"comment_id":128817784,"body_markdown":"I created an example using your code and it ran just fine. Most likely your are somehow corrupting the base64 strings after they are created but before they make it into your `generateXYZ` methods.","body":"I created an example using your code and it ran just fine. Most likely your are somehow corrupting the base64 strings after they are created but before they make it into your <code>generateXYZ</code> methods."},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1657504091,"post_id":72932840,"comment_id":128817923,"body_markdown":"@PresidentJamesK.Polk Did you attempt to run the methods: generatePrivateECDHKeyFromBase64(privKeyString); and generatePublicECDHKeyFromBase64(pubKeyString );? That should give the errors I am talking about :). If the Base64 was corrupted, my exception should be triggering when I attempt to decode the base64, but it seems to corrupt at the kf.generatePrivate(X509publicKey) lines.","body":"@PresidentJamesK.Polk Did you attempt to run the methods: generatePrivateECDHKeyFromBase64(privKeyString); and generatePublicECDHKeyFromBase64(pubKeyString );? That should give the errors I am talking about :). If the Base64 was corrupted, my exception should be triggering when I attempt to decode the base64, but it seems to corrupt at the kf.generatePrivate(X509publicKey) lines."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1657518053,"post_id":72932840,"comment_id":128819798,"body_markdown":"Corruption of base64 does NOT always cause decoding to fail. Check your data. I agree with (ex)Prez Jimmy this works with correct data. PS: calling base64 &#39;encrypted&#39; is false and may harmfully deceive people, though the compiler and JVM ignore it.","body":"Corruption of base64 does NOT always cause decoding to fail. Check your data. I agree with (ex)Prez Jimmy this works with correct data. PS: calling base64 &#39;encrypted&#39; is false and may harmfully deceive people, though the compiler and JVM ignore it."},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1657519163,"post_id":72932840,"comment_id":128820017,"body_markdown":"Interesting, ill give it a shot shortly, thanks!","body":"Interesting, ill give it a shot shortly, thanks!"}],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657501162,"creation_date":1657501162,"question_id":72932840,"body_markdown":"I am trying to turn a Base64 public and private ECDH key back into the `PublicKey` and `PrivateKey` type. I generate my serialized keys like this:\r\n\r\n\t\t\tKeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;EC&quot;, &quot;SunEC&quot;);\r\n\t\t\tECGenParameterSpec ecParameterSpec = new ECGenParameterSpec(secp256r1);\r\n\t\t\tkeyPairGenerator.initialize(ecParameterSpec);\r\n\t\t\tKeyPair ecdhKeyPair = keyPairGenerator.genKeyPair();\r\n\t\t\tPrivateKey privateKey = ecdhKeyPair.getPrivate();\r\n\t\t\tPublicKey publicKey = ecdhKeyPair.getPublic();\r\n\r\n\t\t\tString pubKeyString = Base64.getEncoder().encodeToString(publicKey.getEncoded());\r\n\t\t\tString privKeyString = Base64.getEncoder().encodeToString(privateKey.getEncoded());\r\n\r\n\r\n\r\nHowever, my methods to turn the base64 serialized key back to their `PublicKey` and `PrivateKey` formats throw some exceptions. Here are the methods I wrote to do those conversions:\r\n\r\n    private static PublicKey generatePublicECDHKeyFromBase64(String base64EncryptedECDHKey) throws Exception {\r\n    \tbyte[] decodedKey = Base64.getDecoder().decode(base64EncryptedECDHKey);\r\n    \tX509EncodedKeySpec X509publicKey = new X509EncodedKeySpec(decodedKey);\r\n    \tKeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\r\n    \r\n    \treturn kf.generatePublic(X509publicKey);\r\n    }\r\n    \r\n    private static PrivateKey generatePrivateECDHKeyFromBase64(String base64EncryptedECDHKey) throws Exception {\r\n    \tbyte[] decodedKey = Base64.getDecoder().decode(base64EncryptedECDHKey);\r\n    \tPKCS8EncodedKeySpec X509publicKey = new PKCS8EncodedKeySpec(decodedKey);\r\n    \tKeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\r\n    \r\n    \treturn kf.generatePrivate(X509publicKey);\r\n    }\r\n\r\n\r\n\r\nThe exception I get thrown looks like this:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : DerValue.getBigIntegerInternal, not expected 48\r\n    \tat com.vendify.temp.temp(temp.java:43)\r\n    \tat com.vendify.BackendDbApplication.main(BackendDbApplication.java:9)\r\n    Caused by: java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : DerValue.getBigIntegerInternal, not expected 48\r\n    \tat jdk.crypto.ec/sun.security.ec.ECKeyFactory.engineGeneratePrivate(ECKeyFactory.java:170)\r\n    \tat java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:389)\r\n    \tat com.vendify.temp.generatePrivateECDHKeyFromBase64(temp.java:60)\r\n    \tat com.vendify.temp.temp(temp.java:33)\r\n    \t... 1 more\r\n    Caused by: java.security.InvalidKeyException: IOException : DerValue.getBigIntegerInternal, not expected 48\r\n    \tat java.base/sun.security.pkcs.PKCS8Key.decode(PKCS8Key.java:135)\r\n    \tat java.base/sun.security.pkcs.PKCS8Key.&lt;init&gt;(PKCS8Key.java:95)\r\n    \tat jdk.crypto.ec/sun.security.ec.ECPrivateKeyImpl.&lt;init&gt;(ECPrivateKeyImpl.java:75)\r\n    \tat jdk.crypto.ec/sun.security.ec.ECKeyFactory.implGeneratePrivate(ECKeyFactory.java:245)\r\n    \tat jdk.crypto.ec/sun.security.ec.ECKeyFactory.engineGeneratePrivate(ECKeyFactory.java:166)\r\n    \t... 4 more\r\n\r\n\r\nI am a bit new to this, always just used the basic classes haha, so sorry for the super basic question. I would love to hear the solutions you guys got for this :)","title":"Java ECDH Base64 Serialization Consumption","body":"<p>I am trying to turn a Base64 public and private ECDH key back into the <code>PublicKey</code> and <code>PrivateKey</code> type. I generate my serialized keys like this:</p>\n<pre><code>        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;EC&quot;, &quot;SunEC&quot;);\n        ECGenParameterSpec ecParameterSpec = new ECGenParameterSpec(secp256r1);\n        keyPairGenerator.initialize(ecParameterSpec);\n        KeyPair ecdhKeyPair = keyPairGenerator.genKeyPair();\n        PrivateKey privateKey = ecdhKeyPair.getPrivate();\n        PublicKey publicKey = ecdhKeyPair.getPublic();\n\n        String pubKeyString = Base64.getEncoder().encodeToString(publicKey.getEncoded());\n        String privKeyString = Base64.getEncoder().encodeToString(privateKey.getEncoded());\n</code></pre>\n<p>However, my methods to turn the base64 serialized key back to their <code>PublicKey</code> and <code>PrivateKey</code> formats throw some exceptions. Here are the methods I wrote to do those conversions:</p>\n<pre><code>private static PublicKey generatePublicECDHKeyFromBase64(String base64EncryptedECDHKey) throws Exception {\n    byte[] decodedKey = Base64.getDecoder().decode(base64EncryptedECDHKey);\n    X509EncodedKeySpec X509publicKey = new X509EncodedKeySpec(decodedKey);\n    KeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\n\n    return kf.generatePublic(X509publicKey);\n}\n\nprivate static PrivateKey generatePrivateECDHKeyFromBase64(String base64EncryptedECDHKey) throws Exception {\n    byte[] decodedKey = Base64.getDecoder().decode(base64EncryptedECDHKey);\n    PKCS8EncodedKeySpec X509publicKey = new PKCS8EncodedKeySpec(decodedKey);\n    KeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\n\n    return kf.generatePrivate(X509publicKey);\n}\n</code></pre>\n<p>The exception I get thrown looks like this:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : DerValue.getBigIntegerInternal, not expected 48\n    at com.vendify.temp.temp(temp.java:43)\n    at com.vendify.BackendDbApplication.main(BackendDbApplication.java:9)\nCaused by: java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : DerValue.getBigIntegerInternal, not expected 48\n    at jdk.crypto.ec/sun.security.ec.ECKeyFactory.engineGeneratePrivate(ECKeyFactory.java:170)\n    at java.base/java.security.KeyFactory.generatePrivate(KeyFactory.java:389)\n    at com.vendify.temp.generatePrivateECDHKeyFromBase64(temp.java:60)\n    at com.vendify.temp.temp(temp.java:33)\n    ... 1 more\nCaused by: java.security.InvalidKeyException: IOException : DerValue.getBigIntegerInternal, not expected 48\n    at java.base/sun.security.pkcs.PKCS8Key.decode(PKCS8Key.java:135)\n    at java.base/sun.security.pkcs.PKCS8Key.&lt;init&gt;(PKCS8Key.java:95)\n    at jdk.crypto.ec/sun.security.ec.ECPrivateKeyImpl.&lt;init&gt;(ECPrivateKeyImpl.java:75)\n    at jdk.crypto.ec/sun.security.ec.ECKeyFactory.implGeneratePrivate(ECKeyFactory.java:245)\n    at jdk.crypto.ec/sun.security.ec.ECKeyFactory.engineGeneratePrivate(ECKeyFactory.java:166)\n    ... 4 more\n</code></pre>\n<p>I am a bit new to this, always just used the basic classes haha, so sorry for the super basic question. I would love to hear the solutions you guys got for this :)</p>\n"},{"tags":["java","list","jdbc","resultset"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1654679857,"post_id":72541900,"comment_id":128146246,"body_markdown":"Please provide a [mre] that includes the query and table structure you&#39;re querying, example data, and the problem your current code has with extracting the information you want.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that includes the query and table structure you&#39;re querying, example data, and the problem your current code has with extracting the information you want."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1654688823,"post_id":72541900,"comment_id":128149706,"body_markdown":"*//Tried the below* Why? All you need is `return p;`","body":"<i>//Tried the below</i> Why? All you need is <code>return p;</code>"}],"answers":[{"tags":[],"owner":{"account_id":8332915,"reputation":89,"user_id":6260817,"display_name":"Fakhar uddin Malik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654675170,"creation_date":1654675170,"answer_id":72542088,"question_id":72541900,"body_markdown":"You cannot parse the whole array-list from resultset at once. you have to iterate through the resultset and put each record in your arraylist one by one. for example,\r\n\r\n    while(resultset.next()) {\r\n        siblings.add(new person(resultset.getString(&quot;firstName&quot;), resultset.getString(&quot;lastName&quot;)));\r\n    }","title":"extracting list from result set","body":"<p>You cannot parse the whole array-list from resultset at once. you have to iterate through the resultset and put each record in your arraylist one by one. for example,</p>\n<pre><code>while(resultset.next()) {\n    siblings.add(new person(resultset.getString(&quot;firstName&quot;), resultset.getString(&quot;lastName&quot;)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25207219,"reputation":1,"user_id":19045376,"display_name":"Evan Kirsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657500083,"creation_date":1657500083,"answer_id":72932789,"question_id":72541900,"body_markdown":"The jdbc won&#39;t allow the SQL type of `&quot;siblings&quot;` to be returned as an ArrayList java type. You should consult the documentation for your JDBC&#39;s valid return types for `&quot;siblings&quot;`. For example this is [Microsoft&#39;s documentation for the JDBC 4.0 on SQL server 2016&#39;s default return types][1]\r\n\r\nAssuming siblings is a numeric type, you could do:\r\n\r\n     Integer siblings = rs.getObject(&quot;siblings&quot;, Integer.class);\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/connect/jdbc/using-basic-data-types?view=sql-server-2016","title":"extracting list from result set","body":"<p>The jdbc won't allow the SQL type of <code>&quot;siblings&quot;</code> to be returned as an ArrayList java type. You should consult the documentation for your JDBC's valid return types for <code>&quot;siblings&quot;</code>. For example this is <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/using-basic-data-types?view=sql-server-2016\" rel=\"nofollow noreferrer\">Microsoft's documentation for the JDBC 4.0 on SQL server 2016's default return types</a></p>\n<p>Assuming siblings is a numeric type, you could do:</p>\n<pre><code> Integer siblings = rs.getObject(&quot;siblings&quot;, Integer.class);\n</code></pre>\n"}],"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1657500083,"creation_date":1654674454,"question_id":72541900,"body_markdown":"I have a query running and I have the result in a `ResultSet`. I am trying to parse the result set to extract the information to a list.\r\n\r\n```java\r\nstatic List&lt;Person&gt; parsePeople(ResultSet rs) throws SQLException {\r\n\tList&lt;Person&gt; people = new ArrayList&lt;Offer&gt;();\r\n\twhile(rs.next()) {\r\n\t\tpeople.add(parsePerson(rs));\r\n\t}\r\n\treturn people;\r\n}\r\n\r\nstatic Person parsePerson(ResultSet rs) throws SQLException {\r\n\tPerson p= new Person();\r\n\tp.setFirstName(rs.getString(&quot;firstName&quot;));\t\t\r\n\tp.setLastName(rs.getString(&quot;lastName&quot;));\r\n\r\n    //Extracting the list for number of siblings gives an error\r\n\r\n\t//Tried the below\r\n     List&lt;Integer&gt;siblings= (List&lt;Integer&gt;) rs.getObject(&quot;siblings&quot;,ArrayList.class); //Fail\r\n\t\t\r\n\treturn p;\r\n}\r\n\r\nClass Person{\r\n    String firstName;\r\n    String lastName;\r\n    List&lt;Integer&gt; numberOfSiblings;\r\n}\r\n```\r\nHow to extract the list from the result set?\r\n\t\r\n","title":"extracting list from result set","body":"<p>I have a query running and I have the result in a <code>ResultSet</code>. I am trying to parse the result set to extract the information to a list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static List&lt;Person&gt; parsePeople(ResultSet rs) throws SQLException {\n    List&lt;Person&gt; people = new ArrayList&lt;Offer&gt;();\n    while(rs.next()) {\n        people.add(parsePerson(rs));\n    }\n    return people;\n}\n\nstatic Person parsePerson(ResultSet rs) throws SQLException {\n    Person p= new Person();\n    p.setFirstName(rs.getString(&quot;firstName&quot;));      \n    p.setLastName(rs.getString(&quot;lastName&quot;));\n\n    //Extracting the list for number of siblings gives an error\n\n    //Tried the below\n     List&lt;Integer&gt;siblings= (List&lt;Integer&gt;) rs.getObject(&quot;siblings&quot;,ArrayList.class); //Fail\n        \n    return p;\n}\n\nClass Person{\n    String firstName;\n    String lastName;\n    List&lt;Integer&gt; numberOfSiblings;\n}\n</code></pre>\n<p>How to extract the list from the result set?</p>\n"},{"tags":["java","html","pdf","itext","flying-saucer"],"comments":[{"owner":{"account_id":400683,"reputation":7350,"user_id":766786,"accept_rate":68,"display_name":"Amedee Van Gasse"},"score":1,"creation_date":1535415674,"post_id":52048444,"comment_id":91047741,"body_markdown":"What does the pdf look like if you use iText 7 + pdfHTML?","body":"What does the pdf look like if you use iText 7 + pdfHTML?"},{"owner":{"account_id":1779372,"reputation":76344,"user_id":1622493,"display_name":"Bruno Lowagie"},"score":0,"creation_date":1535438060,"post_id":52048444,"comment_id":91053116,"body_markdown":"@AmedeeVanGasse I&#39;m not sure if we already support check boxes, but I&#39;m sure it&#39;s on the roadmap. If we do already support them, then please ask someone to update the FAQ entry [Can I convert an HTML form to a PDF?](https://developers.itextpdf.com/content/itext-7-converting-html-pdf-pdfhtml/chapter-7-frequently-asked-questions-about-pdfhtml/can-i-convert-html-form-pdf)","body":"@AmedeeVanGasse I&#39;m not sure if we already support check boxes, but I&#39;m sure it&#39;s on the roadmap. If we do already support them, then please ask someone to update the FAQ entry <a href=\"https://developers.itextpdf.com/content/itext-7-converting-html-pdf-pdfhtml/chapter-7-frequently-asked-questions-about-pdfhtml/can-i-convert-html-form-pdf\" rel=\"nofollow noreferrer\">Can I convert an HTML form to a PDF?</a>"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1535438423,"post_id":52048444,"comment_id":91053296,"body_markdown":"Is that IText7 Community? Is it in Maven repo? I only see Core in Maven which looks like the commercial one? (Using Gradle) Is it this https://mvnrepository.com/artifact/com.itextpdf/root and this https://mvnrepository.com/artifact/com.itextpdf/html2pdf ?","body":"Is that IText7 Community? Is it in Maven repo? I only see Core in Maven which looks like the commercial one? (Using Gradle) Is it this <a href=\"https://mvnrepository.com/artifact/com.itextpdf/root\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.itextpdf/root</a> and this <a href=\"https://mvnrepository.com/artifact/com.itextpdf/html2pdf\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.itextpdf/html2pdf</a> ?"},{"owner":{"account_id":400683,"reputation":7350,"user_id":766786,"accept_rate":68,"display_name":"Amedee Van Gasse"},"score":0,"creation_date":1535440283,"post_id":52048444,"comment_id":91054232,"body_markdown":"Core and Community are exactly the same code-wise. The only difference is the license.","body":"Core and Community are exactly the same code-wise. The only difference is the license."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1535442308,"post_id":52048444,"comment_id":91055405,"body_markdown":"Thanks. Are those links correct?","body":"Thanks. Are those links correct?"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1536013254,"post_id":52048444,"comment_id":91263712,"body_markdown":"Thanks. So is t root and html2pdf that I need?","body":"Thanks. So is t root and html2pdf that I need?"},{"owner":{"account_id":94225,"reputation":2029,"user_id":257364,"accept_rate":0,"display_name":"Volksman"},"score":0,"creation_date":1657451795,"post_id":52048444,"comment_id":128808890,"body_markdown":"@AlGrant did you end up solving this? I too have just started rendering HTML with Boostrap CSS to PDFs via Flying Saucer and I&#39;m also seeing the clipping on the right hand edge.","body":"@AlGrant did you end up solving this? I too have just started rendering HTML with Boostrap CSS to PDFs via Flying Saucer and I&#39;m also seeing the clipping on the right hand edge."}],"answers":[{"tags":[],"owner":{"account_id":94225,"reputation":2029,"user_id":257364,"accept_rate":0,"display_name":"Volksman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657496102,"creation_date":1657496102,"answer_id":72932549,"question_id":52048444,"body_markdown":"I had a similar problem when using Bootstrap 4.x. It seems you are using Bootstrap 4 as well:\r\n\r\n    https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css\r\n\r\nMy &quot;clipped on right&quot; problem went away when I switched to Bootstrap 3.x.\r\n\r\nMost likely cause:\r\n\r\nFlying Saucer does not support &#39;Flex&#39;. Bootstrap 4.x uses Flex. Bootstrap 3 does not.\r\n\r\nFor me at least, everything worked perfectly when converting HTML to PDF when I switched to Bootstrap 3.x.","title":"Flying Saucer not rendering PDF","body":"<p>I had a similar problem when using Bootstrap 4.x. It seems you are using Bootstrap 4 as well:</p>\n<pre><code>https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css\n</code></pre>\n<p>My &quot;clipped on right&quot; problem went away when I switched to Bootstrap 3.x.</p>\n<p>Most likely cause:</p>\n<p>Flying Saucer does not support 'Flex'. Bootstrap 4.x uses Flex. Bootstrap 3 does not.</p>\n<p>For me at least, everything worked perfectly when converting HTML to PDF when I switched to Bootstrap 3.x.</p>\n"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657496102,"creation_date":1535415182,"question_id":52048444,"body_markdown":"I am converting HTML form to PDF with Flying-Saucer but the PDF output doesn&#39;t have all the formatting (CSS &amp; Bootstrap Applied). It is also clipping the side of the page.\r\n\r\n&gt; The form rendered in HTML looks like:\r\n\r\n[![HTML][1]][1]\r\n\r\n&gt; But the PDF comes out as:\r\n\r\n[![PDF][2]][2]\r\n\r\nFrom the above it looks like its getting the panes with rounded edges, but no colors, so I presume its lacking the css.\r\n\r\nThe HTML relies on a external css file, boostrap css, and bootswatch css theme. So the css references in the html are:\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/css/assessment.css&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css&quot; integrity=&quot;sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css&quot;&gt;\r\n\r\nThe java to generate the PDF using Flying Saucer is:\r\n\r\n        @Qualifier(&quot;templateEngine&quot;)\r\n    @Autowired\r\n    private TemplateEngine templateEngine;\r\n    public void createPdf(String templateName, Map map) throws Exception {\r\n        Assert.notNull(templateName, &quot;The templateName can not be null&quot;);\r\n        Context ctx = new Context();\r\n        if (map != null) {\r\n            Iterator itMap = map.entrySet().iterator();\r\n            while (itMap.hasNext()) {\r\n                Map.Entry pair = (Map.Entry) itMap.next();\r\n                ctx.setVariable(pair.getKey().toString(), pair.getValue());\r\n            }\r\n        }\r\n\r\n        String processedHtml = templateEngine.process(templateName, ctx);\r\n        FileOutputStream os = null;\r\n        //String fileName = UUID.randomUUID().toString();\r\n        String fileName = &quot;Assessment.pdf&quot;;\r\n        try {\r\n            final File outputFile = File.createTempFile(fileName, &quot;.pdf&quot;);\r\n            os = new FileOutputStream(outputFile);\r\n\r\n            ITextRenderer renderer = new ITextRenderer();\r\n            renderer.getSharedContext().getUserAgentCallback().setBaseURL(&quot;/resources/static/css&quot;);\r\n            renderer.setDocumentFromString(processedHtml);\r\n            renderer.layout();\r\n            renderer.createPDF(os, false);\r\n            renderer.finishPDF();\r\n\r\nI am not entirely sure that this path is correct:\r\n\r\n    renderer.getSharedContext().getUserAgentCallback().setBaseURL(&quot;/resources/static/css&quot;);\r\n\r\nFinally the project structure looks like:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n  [1]: https://i.stack.imgur.com/zcBlO.jpg\r\n  [2]: https://i.stack.imgur.com/umKAl.jpg\r\n  [3]: https://i.stack.imgur.com/jfIE3.jpg","title":"Flying Saucer not rendering PDF","body":"<p>I am converting HTML form to PDF with Flying-Saucer but the PDF output doesn't have all the formatting (CSS &amp; Bootstrap Applied). It is also clipping the side of the page.</p>\n\n<blockquote>\n  <p>The form rendered in HTML looks like:</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/zcBlO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zcBlO.jpg\" alt=\"HTML\"></a></p>\n\n<blockquote>\n  <p>But the PDF comes out as:</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/umKAl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/umKAl.jpg\" alt=\"PDF\"></a></p>\n\n<p>From the above it looks like its getting the panes with rounded edges, but no colors, so I presume its lacking the css.</p>\n\n<p>The HTML relies on a external css file, boostrap css, and bootswatch css theme. So the css references in the html are:</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/css/assessment.css\"&gt;\n&lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css\" integrity=\"sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB\" crossorigin=\"anonymous\"&gt;\n&lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css\"&gt;\n</code></pre>\n\n<p>The java to generate the PDF using Flying Saucer is:</p>\n\n<pre><code>    @Qualifier(\"templateEngine\")\n@Autowired\nprivate TemplateEngine templateEngine;\npublic void createPdf(String templateName, Map map) throws Exception {\n    Assert.notNull(templateName, \"The templateName can not be null\");\n    Context ctx = new Context();\n    if (map != null) {\n        Iterator itMap = map.entrySet().iterator();\n        while (itMap.hasNext()) {\n            Map.Entry pair = (Map.Entry) itMap.next();\n            ctx.setVariable(pair.getKey().toString(), pair.getValue());\n        }\n    }\n\n    String processedHtml = templateEngine.process(templateName, ctx);\n    FileOutputStream os = null;\n    //String fileName = UUID.randomUUID().toString();\n    String fileName = \"Assessment.pdf\";\n    try {\n        final File outputFile = File.createTempFile(fileName, \".pdf\");\n        os = new FileOutputStream(outputFile);\n\n        ITextRenderer renderer = new ITextRenderer();\n        renderer.getSharedContext().getUserAgentCallback().setBaseURL(\"/resources/static/css\");\n        renderer.setDocumentFromString(processedHtml);\n        renderer.layout();\n        renderer.createPDF(os, false);\n        renderer.finishPDF();\n</code></pre>\n\n<p>I am not entirely sure that this path is correct:</p>\n\n<pre><code>renderer.getSharedContext().getUserAgentCallback().setBaseURL(\"/resources/static/css\");\n</code></pre>\n\n<p>Finally the project structure looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jfIE3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jfIE3.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":20358977,"reputation":35,"user_id":16671123,"display_name":"Yousef Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657495798,"creation_date":1657495798,"answer_id":72932522,"question_id":72932249,"body_markdown":"It seems that thymeleaf did not passed the returned value from `__${user.getUsername()}__` as a string. Single quote marks are needed because after the first pass in thymeleaf the result of `${challenge.isSolvedBy(__${user.getUsername()}__)}&quot;` will be `${challenge.isSolvedBy(&lt;result&gt;)}`. I don&#39;t know why it passed it as null and did not throw an error. The correct expression should include `&#39;` around the expression that needs to be passed as a string, because when writing the preprocessing statement like this `${challenge.isSolvedBy(&#39;__${user.getUsername()}__&#39;)}` the result after the first thymeleaf pass will be `${challenge.isSolvedBy(&#39;&lt;result&#39;)}` and thus thymeleaf will pass the result as a string to the method.","title":"Thymeleaf preprocessing returns null when calling an entity get method","body":"<p>It seems that thymeleaf did not passed the returned value from <code>__${user.getUsername()}__</code> as a string. Single quote marks are needed because after the first pass in thymeleaf the result of <code>${challenge.isSolvedBy(__${user.getUsername()}__)}&quot;</code> will be <code>${challenge.isSolvedBy(&lt;result&gt;)}</code>. I don't know why it passed it as null and did not throw an error. The correct expression should include <code>'</code> around the expression that needs to be passed as a string, because when writing the preprocessing statement like this <code>${challenge.isSolvedBy('__${user.getUsername()}__')}</code> the result after the first thymeleaf pass will be <code>${challenge.isSolvedBy('&lt;result')}</code> and thus thymeleaf will pass the result as a string to the method.</p>\n"}],"owner":{"account_id":20358977,"reputation":35,"user_id":16671123,"display_name":"Yousef Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72932522,"answer_count":1,"score":0,"last_activity_date":1657495798,"creation_date":1657491548,"question_id":72932249,"body_markdown":"I&#39;m using preprocessing in thymeleaf to append a class in `&lt;i&gt;` based on whether the user solved a challenge or not. I&#39;m using a method `isSolvedBy` that takes a username string to check if the user solved the challenge. In the template, the username string is passed via calling another method `getUsername` that returns the username of the logged-in user. When calling `getUsername()`\r\n method it passes a null value to the caller function.\r\n\r\nController snippet:\r\n```\r\nmodel.addAttribute(&quot;user&quot;, user.get());\r\nmodel.addAttribute(&quot;score&quot;, user.get().getScore());\r\nmodel.addAttribute(&quot;rank&quot;, user.get().getUserRank());\r\n\r\nmodel.addAttribute(&quot;challenges&quot;, challengeList);\r\n\r\nString challengesNumber = Integer.toString(challengeList.size());\r\nmodel.addAttribute(&quot;challengesNumber&quot;, challengesNumber);\r\n\r\nreturn &quot;challenges&quot;;\r\n```\r\nchallenges view snippet:\r\n\r\n```\r\n&lt;a th:each=&quot;challenge: ${challenges}&quot; th:href=&quot;@{/challenge(id=${challenge.challengeId})}&quot; class=&quot;challenge-card white-text&quot; style=&quot;text-decoration: none&quot;&gt;\r\n    &lt;h3 style=&quot;margin-top: 5px;&quot; th:text=&quot;${challenge.challengeTitle}&quot; class=&quot;golden-text&quot;&gt;&lt;/h3&gt;\r\n    &lt;i th:classappend=&quot;${challenge.isSolvedBy(__${user.getUsername()}__)}&quot;&gt;&lt;/i&gt;  &lt;!-- here is the preprocessing  --&gt;\r\n    &lt;div&gt;\r\n        &lt;h4 class=&quot;card-info&quot;&gt;Points: &lt;span class=&quot;golden-text&quot; th:text=&quot;${challenge.challengeScore}&quot;&gt;&lt;/span&gt;&lt;/h4&gt;\r\n        &lt;h4 class=&quot;card-info&quot;&gt;Level: &lt;span class=&quot;&quot; th:text=&quot;${challenge.level}&quot;&gt;&lt;/span&gt;&lt;/h4&gt;\r\n    &lt;/div&gt;\r\n&lt;/a&gt;\r\n```\r\n\r\nThis is the challenge.isSolvedBy method:\r\n```\r\n    public String isSolvedBy(String username)\r\n    {\r\n        System.out.println(username);       // this prints null\r\n\r\n        return &quot;solved-challenge&quot;;      // temporary return value\r\n    }\r\n```\r\n\r\nThis user.getUsername() method:\r\n```\r\n    public String getUsername() {\r\n        System.out.println(username);   // this prints the username value when called by thymeleaf\r\n        \r\n        return username;\r\n    }\r\n```\r\n\r\nWhen the controller is called everything works fine and the preprocessing statement `&quot;${challenge.isSolvedBy(__${user.getUsername()}__)}&quot;` is executed without any errors but it passes a null value to `challenge.isSolvedBy()` method even though `user.getUsername()` will actually prints the actual username when it is called.\r\nHere is the actual output:\r\n\r\n```\r\n2022-07-11 01:09:07.365  INFO 19416 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2022-07-11 01:09:07.365  INFO 19416 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2022-07-11 01:09:07.366  INFO 19416 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\nyousef [printed from getUsername method]\r\nnull [printed from isSolvedBy method]\r\nyousef [printed from getUsername method]\r\nnull [printed from isSolvedBy method]\r\n``` \r\n\r\nI&#39;m still learning spring MVC and Thymeleaf, so clearly I missed something but I can&#39;t figure what it is. \r\n\r\nAnyone know what is the problem?\r\n\r\nThanks in advance. \r\n","title":"Thymeleaf preprocessing returns null when calling an entity get method","body":"<p>I'm using preprocessing in thymeleaf to append a class in <code>&lt;i&gt;</code> based on whether the user solved a challenge or not. I'm using a method <code>isSolvedBy</code> that takes a username string to check if the user solved the challenge. In the template, the username string is passed via calling another method <code>getUsername</code> that returns the username of the logged-in user. When calling <code>getUsername()</code>\nmethod it passes a null value to the caller function.</p>\n<p>Controller snippet:</p>\n<pre><code>model.addAttribute(&quot;user&quot;, user.get());\nmodel.addAttribute(&quot;score&quot;, user.get().getScore());\nmodel.addAttribute(&quot;rank&quot;, user.get().getUserRank());\n\nmodel.addAttribute(&quot;challenges&quot;, challengeList);\n\nString challengesNumber = Integer.toString(challengeList.size());\nmodel.addAttribute(&quot;challengesNumber&quot;, challengesNumber);\n\nreturn &quot;challenges&quot;;\n</code></pre>\n<p>challenges view snippet:</p>\n<pre><code>&lt;a th:each=&quot;challenge: ${challenges}&quot; th:href=&quot;@{/challenge(id=${challenge.challengeId})}&quot; class=&quot;challenge-card white-text&quot; style=&quot;text-decoration: none&quot;&gt;\n    &lt;h3 style=&quot;margin-top: 5px;&quot; th:text=&quot;${challenge.challengeTitle}&quot; class=&quot;golden-text&quot;&gt;&lt;/h3&gt;\n    &lt;i th:classappend=&quot;${challenge.isSolvedBy(__${user.getUsername()}__)}&quot;&gt;&lt;/i&gt;  &lt;!-- here is the preprocessing  --&gt;\n    &lt;div&gt;\n        &lt;h4 class=&quot;card-info&quot;&gt;Points: &lt;span class=&quot;golden-text&quot; th:text=&quot;${challenge.challengeScore}&quot;&gt;&lt;/span&gt;&lt;/h4&gt;\n        &lt;h4 class=&quot;card-info&quot;&gt;Level: &lt;span class=&quot;&quot; th:text=&quot;${challenge.level}&quot;&gt;&lt;/span&gt;&lt;/h4&gt;\n    &lt;/div&gt;\n&lt;/a&gt;\n</code></pre>\n<p>This is the challenge.isSolvedBy method:</p>\n<pre><code>    public String isSolvedBy(String username)\n    {\n        System.out.println(username);       // this prints null\n\n        return &quot;solved-challenge&quot;;      // temporary return value\n    }\n</code></pre>\n<p>This user.getUsername() method:</p>\n<pre><code>    public String getUsername() {\n        System.out.println(username);   // this prints the username value when called by thymeleaf\n        \n        return username;\n    }\n</code></pre>\n<p>When the controller is called everything works fine and the preprocessing statement <code>&quot;${challenge.isSolvedBy(__${user.getUsername()}__)}&quot;</code> is executed without any errors but it passes a null value to <code>challenge.isSolvedBy()</code> method even though <code>user.getUsername()</code> will actually prints the actual username when it is called.\nHere is the actual output:</p>\n<pre><code>2022-07-11 01:09:07.365  INFO 19416 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-07-11 01:09:07.365  INFO 19416 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-07-11 01:09:07.366  INFO 19416 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\nyousef [printed from getUsername method]\nnull [printed from isSolvedBy method]\nyousef [printed from getUsername method]\nnull [printed from isSolvedBy method]\n</code></pre>\n<p>I'm still learning spring MVC and Thymeleaf, so clearly I missed something but I can't figure what it is.</p>\n<p>Anyone know what is the problem?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","testing","junit","junit5","suite"],"comments":[{"owner":{"account_id":14724831,"reputation":133,"user_id":10634207,"display_name":"Toni Nagy"},"score":0,"creation_date":1591017941,"post_id":62132699,"comment_id":109889366,"body_markdown":"Looks like a limitation of the API to me","body":"Looks like a limitation of the API to me"}],"answers":[{"tags":[],"owner":{"account_id":268524,"reputation":571,"user_id":557331,"display_name":"Anant Anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657495539,"creation_date":1657495539,"answer_id":72932499,"question_id":62132699,"body_markdown":"I was experiencing same issue. I had several files and in my case when i do run as suite some of them would be included and other would not. It was pretty frustrating as I can run them fine individually. \r\n\r\nIt turned out the one that were not included were those whose name did not end with Test. For example, ClassA wouldn&#39;t be added but once i renamed to  ClassATest it got added when running as suite package feature.  ","title":"JUnit5 Test Suite doesn&#39;t test all classes from a package","body":"<p>I was experiencing same issue. I had several files and in my case when i do run as suite some of them would be included and other would not. It was pretty frustrating as I can run them fine individually.</p>\n<p>It turned out the one that were not included were those whose name did not end with Test. For example, ClassA wouldn't be added but once i renamed to  ClassATest it got added when running as suite package feature.</p>\n"}],"owner":{"account_id":14724831,"reputation":133,"user_id":10634207,"display_name":"Toni Nagy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":599,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657495539,"creation_date":1591016106,"question_id":62132699,"body_markdown":"I&#39;ve got a Suite class as follows:\r\n```\r\npackage test.suite;\r\n\r\nimport org.junit.platform.runner.JUnitPlatform;\r\nimport org.junit.platform.suite.api.SelectPackages;\r\nimport org.junit.platform.suite.api.SuiteDisplayName;\r\nimport org.junit.runner.RunWith;\r\n\r\n@RunWith(JUnitPlatform.class)\r\n@SuiteDisplayName(&quot;JUnit Platform Suite Demo&quot;)\r\n@SelectPackages(&quot;test&quot;)\r\npublic class Suite {\r\n\r\n}\r\n```\r\nAnd two identical test classes (they differ only by their name at the moment) in the same package called test:\r\n```\r\npackage test;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\npublic class testClass1 {\r\n\r\n    @Test\r\n    void mainA() {\r\n        assertTrue(42==42);\r\n    }\r\n```\r\nWhen I hit run on &#39;Suite&#39;, only testClass1 will be tested and testClass2 is left out. What am I missing? \r\n\r\nThe Suite should test classes even recursively from other subpackages in the given package if I&#39;m not mistaken.\r\n\r\n--EDIT:\r\nInitially I created two test classes for the same class, and the second test class gets ignored. If I add a third test class in the package, but this time for a separate class, that will get tested as expected.\r\n","title":"JUnit5 Test Suite doesn&#39;t test all classes from a package","body":"<p>I've got a Suite class as follows:</p>\n\n<pre><code>package test.suite;\n\nimport org.junit.platform.runner.JUnitPlatform;\nimport org.junit.platform.suite.api.SelectPackages;\nimport org.junit.platform.suite.api.SuiteDisplayName;\nimport org.junit.runner.RunWith;\n\n@RunWith(JUnitPlatform.class)\n@SuiteDisplayName(\"JUnit Platform Suite Demo\")\n@SelectPackages(\"test\")\npublic class Suite {\n\n}\n</code></pre>\n\n<p>And two identical test classes (they differ only by their name at the moment) in the same package called test:</p>\n\n<pre><code>package test;\n\nimport org.junit.jupiter.api.Test;\nimport static org.junit.jupiter.api.Assertions.*;\n\npublic class testClass1 {\n\n    @Test\n    void mainA() {\n        assertTrue(42==42);\n    }\n</code></pre>\n\n<p>When I hit run on 'Suite', only testClass1 will be tested and testClass2 is left out. What am I missing? </p>\n\n<p>The Suite should test classes even recursively from other subpackages in the given package if I'm not mistaken.</p>\n\n<p>--EDIT:\nInitially I created two test classes for the same class, and the second test class gets ignored. If I add a third test class in the package, but this time for a separate class, that will get tested as expected.</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1542198349,"post_id":53300183,"comment_id":93480923,"body_markdown":"Storing values as csv in one column is no good db design. learn about normalization","body":"Storing values as csv in one column is no good db design. learn about normalization"},{"owner":{"account_id":6063782,"reputation":175,"user_id":4734816,"display_name":"Gerardo"},"score":0,"creation_date":1542198474,"post_id":53300183,"comment_id":93481016,"body_markdown":"It is very simple exercise. I just wanted to do it fast and use object mapper to store and retrieve it from database.","body":"It is very simple exercise. I just wanted to do it fast and use object mapper to store and retrieve it from database."},{"owner":{"display_name":"user10639668"},"score":0,"creation_date":1542198886,"post_id":53300183,"comment_id":93481264,"body_markdown":"Please post EnumConverter source code.","body":"Please post EnumConverter source code."},{"owner":{"account_id":6063782,"reputation":175,"user_id":4734816,"display_name":"Gerardo"},"score":0,"creation_date":1542200457,"post_id":53300183,"comment_id":93482155,"body_markdown":"@EugenCovaci I added it!","body":"@EugenCovaci I added it!"},{"owner":{"account_id":218158,"reputation":575,"user_id":3219180,"display_name":"garfield"},"score":0,"creation_date":1542206516,"post_id":53300183,"comment_id":93486141,"body_markdown":"@Jens, good point however some databases offer arrays as column types so if that&#39;s the case one could consider Vlad Mihalcea&#39;s library in order to map SQL arrays, see this:https://vladmihalcea.com/how-to-map-java-and-sql-arrays-with-jpa-and-hibernate/","body":"@Jens, good point however some databases offer arrays as column types so if that&#39;s the case one could consider Vlad Mihalcea&#39;s library in order to map SQL arrays, see this:<a href=\"https://vladmihalcea.com/how-to-map-java-and-sql-arrays-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":16735694,"reputation":2370,"user_id":12096922,"display_name":"testing_22"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657495446,"creation_date":1657495446,"answer_id":72932490,"question_id":53300183,"body_markdown":"I was almost giving up when I found this example from the documentation,\r\n\r\n&gt; Example 4:  Apply a converter to an **element collection** of basic type:\r\n    **@ElementCollection**\r\n    // applies to each element in the collection\r\n   ...\r\n\r\n\r\nSo, even if you are auto applying a converter, just place that annotation below your list.\r\n\r\n```\r\n@ElementCollection\r\n@Column\r\n@Convert(converter = EnumConverter.class)\r\nList&lt;Enum&gt; listEnum;\r\n```","title":"Persist list of enumeration on JPA, converter not working","body":"<p>I was almost giving up when I found this example from the documentation,</p>\n<blockquote>\n<p>Example 4:  Apply a converter to an <strong>element collection</strong> of basic type:\n<strong>@ElementCollection</strong>\n// applies to each element in the collection\n...</p>\n</blockquote>\n<p>So, even if you are auto applying a converter, just place that annotation below your list.</p>\n<pre><code>@ElementCollection\n@Column\n@Convert(converter = EnumConverter.class)\nList&lt;Enum&gt; listEnum;\n</code></pre>\n"}],"owner":{"account_id":6063782,"reputation":175,"user_id":4734816,"display_name":"Gerardo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":981,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1657495446,"creation_date":1542198240,"question_id":53300183,"body_markdown":"I&#39;m trying to persist a list of enumeration on the database, using JPA and hibernate.\r\n\r\nMy model looks like that:\r\n\r\n    @Id\r\n    @Column\r\n    String id;\r\n\r\n    @Column\r\n    @Convert(converter = EnumConverter.class)\r\n    List&lt;Enum&gt; listEnum;\r\n\r\nAnd I would like to persist that list of `enum` as `String` and use a converter (`EnumConverter`) in order to store it and read it from the database. \r\n\r\nMy converter uses Jackson in order to serialize and deserialize. Example:\r\n\r\n    @Converter(autoApply = true)\r\n    public class EnumListConverter implements AttributeConverter&lt;List&lt;Enum&gt;, String&gt; {\r\n    \r\n        private final ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n        @Override\r\n        public String convertToDatabaseColumn(final List&lt;Enum&gt; list) {\r\n            try {\r\n                return objectMapper.writeValueAsString(list);\r\n            } catch (JsonProcessingException e) {\r\n                return &quot;&quot;;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Enum&gt; convertToEntityAttribute(final String list) {\r\n            try {\r\n                return Arrays.asList(objectMapper.readValue(list, Enum[].class));\r\n            } catch (IOException e) {\r\n                return new ArrayList&lt;&gt;();\r\n            }\r\n        }\r\n    }\r\n\r\nThe problem that I&#39;m having is that is storing it fine, but when I try to get the code, it returns me an array of size 1 (type `ArrayList`) like the following instead of an array of size 3:\r\n\r\n    &quot;[&quot;Value1&quot;,&quot;Value2&quot;,&quot;Value3&quot;]&quot;\r\n\r\nI am using a `CrudRepository` with a simple native query:\r\n\r\n    SELECT list from the entity;\r\n\r\nDoes someone know what I&#39;m missing? I would like to have an `ArrayList` of three values instead of one with one value. When I debug the converter it does it right, so the problem has to be after converting.\r\n\r\n\r\n","title":"Persist list of enumeration on JPA, converter not working","body":"<p>I'm trying to persist a list of enumeration on the database, using JPA and hibernate.</p>\n\n<p>My model looks like that:</p>\n\n<pre><code>@Id\n@Column\nString id;\n\n@Column\n@Convert(converter = EnumConverter.class)\nList&lt;Enum&gt; listEnum;\n</code></pre>\n\n<p>And I would like to persist that list of <code>enum</code> as <code>String</code> and use a converter (<code>EnumConverter</code>) in order to store it and read it from the database. </p>\n\n<p>My converter uses Jackson in order to serialize and deserialize. Example:</p>\n\n<pre><code>@Converter(autoApply = true)\npublic class EnumListConverter implements AttributeConverter&lt;List&lt;Enum&gt;, String&gt; {\n\n    private final ObjectMapper objectMapper = new ObjectMapper();\n\n    @Override\n    public String convertToDatabaseColumn(final List&lt;Enum&gt; list) {\n        try {\n            return objectMapper.writeValueAsString(list);\n        } catch (JsonProcessingException e) {\n            return \"\";\n        }\n    }\n\n    @Override\n    public List&lt;Enum&gt; convertToEntityAttribute(final String list) {\n        try {\n            return Arrays.asList(objectMapper.readValue(list, Enum[].class));\n        } catch (IOException e) {\n            return new ArrayList&lt;&gt;();\n        }\n    }\n}\n</code></pre>\n\n<p>The problem that I'm having is that is storing it fine, but when I try to get the code, it returns me an array of size 1 (type <code>ArrayList</code>) like the following instead of an array of size 3:</p>\n\n<pre><code>\"[\"Value1\",\"Value2\",\"Value3\"]\"\n</code></pre>\n\n<p>I am using a <code>CrudRepository</code> with a simple native query:</p>\n\n<pre><code>SELECT list from the entity;\n</code></pre>\n\n<p>Does someone know what I'm missing? I would like to have an <code>ArrayList</code> of three values instead of one with one value. When I debug the converter it does it right, so the problem has to be after converting.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"score":0,"creation_date":1657408516,"post_id":72925187,"comment_id":128803742,"body_markdown":"There is definitely something off about this when the formatting is corrected.","body":"There is definitely something off about this when the formatting is corrected."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1657408551,"post_id":72925187,"comment_id":128803745,"body_markdown":"What is `myString`? I don&#39;t see that in the posted code.","body":"What is <code>myString</code>? I don&#39;t see that in the posted code."},{"owner":{"account_id":7214771,"reputation":289,"user_id":5507663,"display_name":"jeekiii"},"score":0,"creation_date":1657408588,"post_id":72925187,"comment_id":128803751,"body_markdown":"@Chris well he puts his closing brackets at the end of the line, not on a new line, which is I think messing with your correction of the formatting","body":"@Chris well he puts his closing brackets at the end of the line, not on a new line, which is I think messing with your correction of the formatting"},{"owner":{"account_id":7214771,"reputation":289,"user_id":5507663,"display_name":"jeekiii"},"score":0,"creation_date":1657408614,"post_id":72925187,"comment_id":128803757,"body_markdown":"@Chris if you fix by doing a newline before every } it should look ok? Would still be missing the end bracket. But yeah his code is a bit messed up, many problems with it, not a single one","body":"@Chris if you fix by doing a newline before every } it should look ok? Would still be missing the end bracket. But yeah his code is a bit messed up, many problems with it, not a single one"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":2,"creation_date":1657408842,"post_id":72925187,"comment_id":128803785,"body_markdown":"It&#39;s more than a simple display issue. There is a declaration for `String newString` _inside_ that set of braces, and then _outside_ the braces there is a return statement (`return newString`) which is not valid.","body":"It&#39;s more than a simple display issue. There is a declaration for <code>String newString</code> <i>inside</i> that set of braces, and then <i>outside</i> the braces there is a return statement (<code>return newString</code>) which is not valid."},{"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"score":1,"creation_date":1657409527,"post_id":72925187,"comment_id":128803868,"body_markdown":"Yes, I missed the closing braces. Note: style is subjective, and everyone has their own, but that one&#39;s awful.","body":"Yes, I missed the closing braces. Note: style is subjective, and everyone has their own, but that one&#39;s awful."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1657415765,"post_id":72925187,"comment_id":128804545,"body_markdown":"`if (boolean arrayOfArg([i]) = Character.isLetter(arrayOfArg[i]))` that not a valid Java by any means. It can&#39;t even serve as a pseudocode because it doesn&#39;t convey your intention in a clear way.","body":"<code>if (boolean arrayOfArg([i]) = Character.isLetter(arrayOfArg[i]))</code> that not a valid Java by any means. It can&#39;t even serve as a pseudocode because it doesn&#39;t convey your intention in a clear way."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1657415830,"post_id":72925187,"comment_id":128804550,"body_markdown":"Provide a [*Minimal, Reproducible Example*](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\"><i>Minimal, Reproducible Example</i></a>."},{"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"score":0,"creation_date":1657416762,"post_id":72925187,"comment_id":128804639,"body_markdown":"Your code does not compile.","body":"Your code does not compile."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1657417236,"post_id":72925187,"comment_id":128804679,"body_markdown":"I suggest you provide examples of `myString` and `arg` and the `end result`.  Your explanation is not that clear.","body":"I suggest you provide examples of <code>myString</code> and <code>arg</code> and the <code>end result</code>.  Your explanation is not that clear."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657418589,"creation_date":1657414229,"answer_id":72925513,"question_id":72925187,"body_markdown":"Here is one way using streams.  Just create a stream of characters via the `chars()` method and allow only letters to pass thru.  Then each character to a String and join them together.  Then remove that result from the original passed string.\r\n\r\n```\r\nString myString = &quot;abcdTLK123efgh&quot;;\r\nString arg = &quot;TLK@@@123&quot;;\r\nString result = remove(arg, myString);\r\nSystem.out.println(&quot;Result = &quot; + result);\r\n```\r\nprints\r\n```\r\nResult = abcd123efgh\r\n\r\n```\r\nThe method\r\n\r\n- I modified the method to accept two strings.\r\n  - the one to remove characters(`arg`).\r\n  - and the from which to remove modified arg from `myString`\r\n- it works by\r\n  - streaming all the characters of arg.\r\n  - filtering out all but letters and digits\r\n  - joining them as a string.\r\n  - and then removing that filtered string from the myString.\r\n```\r\npublic static String remove(String arg, String myString) {\r\n\tif (myString == null || myString.isBlank()) {\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n\treturn arg.chars().filter(\r\n\t\t\tch -&gt; Character.isLetter(ch))\r\n\t\t\t.mapToObj(Character::toString)\r\n\t\t\t.collect(Collectors.collectingAndThen(\r\n\t\t\t\t\tCollectors.joining(),\r\n\t\t\t\t\tstr -&gt; myString.replace(str, &quot;&quot;)));\r\n}\r\n```\r\nNote:  If `myString` is null then assigning an empty string to it will contain nothing to change.  Nor an initial empty string. So I just returned an empty String if those conditions existed. ","title":"Removing alphabetical characters from a string","body":"<p>Here is one way using streams.  Just create a stream of characters via the <code>chars()</code> method and allow only letters to pass thru.  Then each character to a String and join them together.  Then remove that result from the original passed string.</p>\n<pre><code>String myString = &quot;abcdTLK123efgh&quot;;\nString arg = &quot;TLK@@@123&quot;;\nString result = remove(arg, myString);\nSystem.out.println(&quot;Result = &quot; + result);\n</code></pre>\n<p>prints</p>\n<pre><code>Result = abcd123efgh\n\n</code></pre>\n<p>The method</p>\n<ul>\n<li>I modified the method to accept two strings.\n<ul>\n<li>the one to remove characters(<code>arg</code>).</li>\n<li>and the from which to remove modified arg from <code>myString</code></li>\n</ul>\n</li>\n<li>it works by\n<ul>\n<li>streaming all the characters of arg.</li>\n<li>filtering out all but letters and digits</li>\n<li>joining them as a string.</li>\n<li>and then removing that filtered string from the myString.</li>\n</ul>\n</li>\n</ul>\n<pre><code>public static String remove(String arg, String myString) {\n    if (myString == null || myString.isBlank()) {\n        return &quot;&quot;;\n    }\n    return arg.chars().filter(\n            ch -&gt; Character.isLetter(ch))\n            .mapToObj(Character::toString)\n            .collect(Collectors.collectingAndThen(\n                    Collectors.joining(),\n                    str -&gt; myString.replace(str, &quot;&quot;)));\n}\n</code></pre>\n<p>Note:  If <code>myString</code> is null then assigning an empty string to it will contain nothing to change.  Nor an initial empty string. So I just returned an empty String if those conditions existed.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1657495179,"creation_date":1657418569,"answer_id":72925708,"question_id":72925187,"body_markdown":"&gt; I believe i could solve this problem if it was not for all non alphabetical character of arg should remain in the string. \r\n\r\nThe good news is that you **can** solve it yourself.\r\n\r\nThe bad news is that the code above is in such a mess that it would be difficult **for you** to fix it by yourself.  (Given your current level understand of Java syntax, way of working, etcetera.)\r\n\r\n(Also, there is a long more wrong than the &quot;if it were not for ...&quot; ...)\r\n\r\n----------------\r\n\r\nSo here is what I advise you to do.\r\n\r\n1.  Save a copy of the current version of the (entire) class somewhere safe so that you can look it again if you need to, or revert to it.\r\n\r\n2.  Develop a model of what the method needs to do and how it will do it; see below.\r\n\r\n3.  Delete all lines of code between the first `{` and last `}` shown in the question.  **Yes.  Delete them.**\r\n\r\n4.  Compose the new version of the code, one line at a time.  As follows:\r\n\r\n    1.  Add a line.\r\n    2.  Compile the code (or let the IDE compile it for you).\r\n    3.  Read the compilation error(s) that just appeared.\r\n    4.  **Understand** the compilation errors.\r\n    5.  Make the necessary changes to fix the compilation errors.  **Don&#39;t** rely on your IDE&#39;s facility for suggesting corrections.  (The IDE doesn&#39;t understand your code, what you are going to add next, or what you are trying to achieve.  Its suggestions are liable to be unhelpful or even wrong.)\r\n    6.  Repeat until you have dealt with all of the compilation errors that were introduced.\r\n\r\n    7.  Now you are ready to add another line.\r\n\r\n5.  Once you have a complete method, you can then try to run it.\r\n\r\nYou will most likely find that the code doesn&#39;t work.  But at least it will be valid Java code.  And in the process of doing 4. above, you will (hopefully!) have learned enough Java syntax to be able to read and understand the code that you wrote.  And 2. will help you understand what the code you are writing *should* do.\r\n\r\n------------------------\r\n\r\nMy other observation is that it *looks* like you have been adding and removing statements to this code with no clear understanding of what they do or what needs to happen.  Maybe you started with some code that did something else ... correctly ... but it is hard to tell now.\r\n\r\nChanging things *randomly* to try to make the code work is not a sensible approach.  It *rarely* works.  You need to have a model (or plan) in your head or on paper (e.g. as pseudo-code or flowcharts) about how the code ought to work. \r\n\r\nProgramming is about 1) developing the model, then 2) translating the model into code.  The first part is the hard (and interesting) part. But if you skip the first part, the second part is an essentially random process, and unlikely to succeed.\r\n\r\nThe problem with starting with someone else&#39;s code is that you risk not developing a mental model of how *that* code works.  Let alone the model that you are aiming for.\r\n\r\n----------------------\r\n\r\nFinally, a professional programmer will use a version control system for their source code, and make relatively frequent commits of their code to their repository.  Among other things, that allows them to quickly &quot;roll back&quot; to an earlier version if they need to, or keep track of exactly what they changed.\r\n\r\nIt is probably too early for you to learn about (say) using Git ... but it *would* help you solve your problem if you could just &quot;roll back&quot; all of the changes where you were &quot;messing&quot; with the code to get it to work.","title":"Removing alphabetical characters from a string","body":"<blockquote>\n<p>I believe i could solve this problem if it was not for all non alphabetical character of arg should remain in the string.</p>\n</blockquote>\n<p>The good news is that you <strong>can</strong> solve it yourself.</p>\n<p>The bad news is that the code above is in such a mess that it would be difficult <strong>for you</strong> to fix it by yourself.  (Given your current level understand of Java syntax, way of working, etcetera.)</p>\n<p>(Also, there is a long more wrong than the &quot;if it were not for ...&quot; ...)</p>\n<hr />\n<p>So here is what I advise you to do.</p>\n<ol>\n<li><p>Save a copy of the current version of the (entire) class somewhere safe so that you can look it again if you need to, or revert to it.</p>\n</li>\n<li><p>Develop a model of what the method needs to do and how it will do it; see below.</p>\n</li>\n<li><p>Delete all lines of code between the first <code>{</code> and last <code>}</code> shown in the question.  <strong>Yes.  Delete them.</strong></p>\n</li>\n<li><p>Compose the new version of the code, one line at a time.  As follows:</p>\n<ol>\n<li><p>Add a line.</p>\n</li>\n<li><p>Compile the code (or let the IDE compile it for you).</p>\n</li>\n<li><p>Read the compilation error(s) that just appeared.</p>\n</li>\n<li><p><strong>Understand</strong> the compilation errors.</p>\n</li>\n<li><p>Make the necessary changes to fix the compilation errors.  <strong>Don't</strong> rely on your IDE's facility for suggesting corrections.  (The IDE doesn't understand your code, what you are going to add next, or what you are trying to achieve.  Its suggestions are liable to be unhelpful or even wrong.)</p>\n</li>\n<li><p>Repeat until you have dealt with all of the compilation errors that were introduced.</p>\n</li>\n<li><p>Now you are ready to add another line.</p>\n</li>\n</ol>\n</li>\n<li><p>Once you have a complete method, you can then try to run it.</p>\n</li>\n</ol>\n<p>You will most likely find that the code doesn't work.  But at least it will be valid Java code.  And in the process of doing 4. above, you will (hopefully!) have learned enough Java syntax to be able to read and understand the code that you wrote.  And 2. will help you understand what the code you are writing <em>should</em> do.</p>\n<hr />\n<p>My other observation is that it <em>looks</em> like you have been adding and removing statements to this code with no clear understanding of what they do or what needs to happen.  Maybe you started with some code that did something else ... correctly ... but it is hard to tell now.</p>\n<p>Changing things <em>randomly</em> to try to make the code work is not a sensible approach.  It <em>rarely</em> works.  You need to have a model (or plan) in your head or on paper (e.g. as pseudo-code or flowcharts) about how the code ought to work.</p>\n<p>Programming is about 1) developing the model, then 2) translating the model into code.  The first part is the hard (and interesting) part. But if you skip the first part, the second part is an essentially random process, and unlikely to succeed.</p>\n<p>The problem with starting with someone else's code is that you risk not developing a mental model of how <em>that</em> code works.  Let alone the model that you are aiming for.</p>\n<hr />\n<p>Finally, a professional programmer will use a version control system for their source code, and make relatively frequent commits of their code to their repository.  Among other things, that allows them to quickly &quot;roll back&quot; to an earlier version if they need to, or keep track of exactly what they changed.</p>\n<p>It is probably too early for you to learn about (say) using Git ... but it <em>would</em> help you solve your problem if you could just &quot;roll back&quot; all of the changes where you were &quot;messing&quot; with the code to get it to work.</p>\n"}],"owner":{"account_id":25716775,"reputation":15,"user_id":19474419,"display_name":"roxyrox"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":7,"up_vote_count":1,"closed_date":1657432267,"answer_count":2,"score":-6,"last_activity_date":1657495179,"creation_date":1657408247,"question_id":72925187,"body_markdown":"I am new to java. Trying to create a function to remove a given string &quot;arg&quot; from myString which is previously set and return a new string not affecting myString. I believe i could solve this problem if it was not for all non alphabetical character of arg should remain in the string. so if arg has a 7 in it that should still be included in the final string. characters being removed are case insensitive as well. \r\n\r\nI have edited the previous code and post, i can now run my code but I am not getting the correct results, I am trying to remove all numbers from arg before using it to remove all the characters. myString method is previously defined and working properly to return a string.\r\n\r\n For examplecurrent string &quot;my lucky numbers are 6, 8, and 19.&quot;, calling remove(&quot;ra6&quot;) would return &quot;my lucky numbes e 6, 8, nd 19.&quot;\r\n or &quot;my lucky numbers are 6, 8, and 19.&quot;, calling remove(&quot;6,.&quot;) would return &quot;my lucky numbers are 6, 8, and 19.&quot;\r\n\r\nthank you!\r\n\r\n\r\n\t\tpublic String remove(String arg) {\r\n\t\tchar[] charArray=arg.toCharArray();\r\n\t\tString result=&quot;&quot;;\r\n\t\tString newString=&quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; charArray.length; i++) {\r\n\t\t\tif (!Character.isDigit(charArray[i])) {\r\n                result = result + charArray[i];\r\n\t\t\t\treturn result;}}\r\n\r\n\t\tif (myString==null || myString==&quot;&quot;) {\r\n\t\t\t this.myString=&quot;&quot;;}\r\n\t\tif (myString!=null) {\r\n\t\t\t newString= myString.replaceAll(result,&quot;&quot;);}\r\n\t\treturn newString;\r\n\t  \t\r\n\t}","title":"Removing alphabetical characters from a string","body":"<p>I am new to java. Trying to create a function to remove a given string &quot;arg&quot; from myString which is previously set and return a new string not affecting myString. I believe i could solve this problem if it was not for all non alphabetical character of arg should remain in the string. so if arg has a 7 in it that should still be included in the final string. characters being removed are case insensitive as well.</p>\n<p>I have edited the previous code and post, i can now run my code but I am not getting the correct results, I am trying to remove all numbers from arg before using it to remove all the characters. myString method is previously defined and working properly to return a string.</p>\n<p>For examplecurrent string &quot;my lucky numbers are 6, 8, and 19.&quot;, calling remove(&quot;ra6&quot;) would return &quot;my lucky numbes e 6, 8, nd 19.&quot;\nor &quot;my lucky numbers are 6, 8, and 19.&quot;, calling remove(&quot;6,.&quot;) would return &quot;my lucky numbers are 6, 8, and 19.&quot;</p>\n<p>thank you!</p>\n<pre><code>    public String remove(String arg) {\n    char[] charArray=arg.toCharArray();\n    String result=&quot;&quot;;\n    String newString=&quot;&quot;;\n    for (int i = 0; i &lt; charArray.length; i++) {\n        if (!Character.isDigit(charArray[i])) {\n            result = result + charArray[i];\n            return result;}}\n\n    if (myString==null || myString==&quot;&quot;) {\n         this.myString=&quot;&quot;;}\n    if (myString!=null) {\n         newString= myString.replaceAll(result,&quot;&quot;);}\n    return newString;\n    \n}\n</code></pre>\n"},{"tags":["java","mockito","junit5"],"comments":[{"owner":{"account_id":51211,"reputation":3143,"user_id":152984,"accept_rate":52,"display_name":"CuriousMind"},"score":0,"creation_date":1657287686,"post_id":72912256,"comment_id":128781472,"body_markdown":"Indeed Powermock should work for static methods. You can check [this site](https://www.baeldung.com/intro-to-powermock).","body":"Indeed Powermock should work for static methods. You can check <a href=\"https://www.baeldung.com/intro-to-powermock\" rel=\"nofollow noreferrer\">this site</a>."},{"owner":{"account_id":4682052,"reputation":1016,"user_id":3790512,"accept_rate":64,"display_name":"ThCollignon"},"score":0,"creation_date":1657289096,"post_id":72912256,"comment_id":128781997,"body_markdown":"It doesn&#39;t seem to fit my needs: I don&#39;t try to mock a static method. I try to test a static method that creates an instance which I want to mock.","body":"It doesn&#39;t seem to fit my needs: I don&#39;t try to mock a static method. I try to test a static method that creates an instance which I want to mock."}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657494567,"creation_date":1657494567,"answer_id":72932443,"question_id":72912256,"body_markdown":"You need to mock constructor of `Generator` class.\r\n\r\n&lt;br&gt;**Solution 1: Using Mockito (Main preferable)**\r\n&lt;br&gt;Mockito suports mock construction since 3.5 version. [Documentation][1]\r\n&lt;br&gt;Add [mockito-inline][2] to your dependencies. It provides ability to generate mocks on constructor invocations.\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nMock constructor.\r\n```java\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.MockedConstruction;\r\nimport org.mockito.Mockito;\r\n\r\nimport static org.mockito.Mockito.*;\r\n\r\nclass ConverterTest {\r\n    @Test\r\n    public void convertTest(){\r\n        //create mock for Generator class constructor\r\n        try (MockedConstruction&lt;Generator&gt; mockedGenerator = Mockito.mockConstruction(Generator.class,\r\n                (mock, context) -&gt; {\r\n                    when(mock.generate()).thenReturn(&quot;123&quot;);\r\n                })) {\r\n\r\n            //execute Converter class under the test\r\n            String result = Converter.convert();\r\n            \r\n            //ensure that constructor was executed\r\n            Assertions.assertFalse(mockedGenerator.constructed().isEmpty());\r\n            //ensure the generate method was executed\r\n            verify(mockedGenerator.constructed().get(0), times(1)).generate();\r\n            //verify return value\r\n            Assertions.assertEquals(&quot;123&quot;, result);\r\n        }\r\n    }\r\n}\r\n```\r\n**Solution 2: Using PoserMock**\r\n&lt;br&gt;PowerMock [does not have JUnit 5 support][3], only Junit 4.\r\n&lt;br&gt;Example of mocking constructor via PowerMock\r\n```java\r\nimport org.junit.Assert;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Mockito;\r\nimport org.powermock.api.mockito.PowerMockito;\r\nimport org.powermock.core.classloader.annotations.PrepareForTest;\r\nimport org.powermock.modules.junit4.PowerMockRunner;\r\n\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest(SubConverter.class)\r\npublic class ConverterTest {\r\n\r\n    @Mock\r\n    Generator generatorMock; //create Mock\r\n\r\n    @Test\r\n    public void convertTest() throws Exception {\r\n        //configure Mock\r\n        Mockito.when(generatorMock.generate()).thenReturn(&quot;123&quot;);\r\n        //return mock when constructor is executing\r\n        PowerMockito.whenNew(Generator.class).withNoArguments().thenReturn(generatorMock);\r\n\r\n        //perform Converter under the test \r\n        String result = Converter.convert();\r\n\r\n        //check return value\r\n        Assert.assertEquals(&quot;123&quot;, result);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/3.5.0/org/mockito/Mockito.html#mocked_construction\r\n  [2]: https://mvnrepository.com/artifact/org.mockito/mockito-inline/4.6.1\r\n  [3]: https://github.com/powermock/powermock/issues/929","title":"How to mock an instance created by a static method?","body":"<p>You need to mock constructor of <code>Generator</code> class.</p>\n<p><br><strong>Solution 1: Using Mockito (Main preferable)</strong>\n<br>Mockito suports mock construction since 3.5 version. <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/3.5.0/org/mockito/Mockito.html#mocked_construction\" rel=\"nofollow noreferrer\">Documentation</a>\n<br>Add <a href=\"https://mvnrepository.com/artifact/org.mockito/mockito-inline/4.6.1\" rel=\"nofollow noreferrer\">mockito-inline</a> to your dependencies. It provides ability to generate mocks on constructor invocations.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;4.3.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Mock constructor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.MockedConstruction;\nimport org.mockito.Mockito;\n\nimport static org.mockito.Mockito.*;\n\nclass ConverterTest {\n    @Test\n    public void convertTest(){\n        //create mock for Generator class constructor\n        try (MockedConstruction&lt;Generator&gt; mockedGenerator = Mockito.mockConstruction(Generator.class,\n                (mock, context) -&gt; {\n                    when(mock.generate()).thenReturn(&quot;123&quot;);\n                })) {\n\n            //execute Converter class under the test\n            String result = Converter.convert();\n            \n            //ensure that constructor was executed\n            Assertions.assertFalse(mockedGenerator.constructed().isEmpty());\n            //ensure the generate method was executed\n            verify(mockedGenerator.constructed().get(0), times(1)).generate();\n            //verify return value\n            Assertions.assertEquals(&quot;123&quot;, result);\n        }\n    }\n}\n</code></pre>\n<p><strong>Solution 2: Using PoserMock</strong>\n<br>PowerMock <a href=\"https://github.com/powermock/powermock/issues/929\" rel=\"nofollow noreferrer\">does not have JUnit 5 support</a>, only Junit 4.\n<br>Example of mocking constructor via PowerMock</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.Assert;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest(SubConverter.class)\npublic class ConverterTest {\n\n    @Mock\n    Generator generatorMock; //create Mock\n\n    @Test\n    public void convertTest() throws Exception {\n        //configure Mock\n        Mockito.when(generatorMock.generate()).thenReturn(&quot;123&quot;);\n        //return mock when constructor is executing\n        PowerMockito.whenNew(Generator.class).withNoArguments().thenReturn(generatorMock);\n\n        //perform Converter under the test \n        String result = Converter.convert();\n\n        //check return value\n        Assert.assertEquals(&quot;123&quot;, result);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4682052,"reputation":1016,"user_id":3790512,"accept_rate":64,"display_name":"ThCollignon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1181,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72932443,"answer_count":1,"score":2,"last_activity_date":1657494567,"creation_date":1657287457,"question_id":72912256,"body_markdown":"I&#39;m testing legacy code that looks like this.\r\n\r\n```java\r\nclass Converter {\r\n  static String convert() {\r\n    SubConverter.subConvert();\r\n  }\r\n}\r\n```\r\n```java\r\nclass SubConverter {\r\n  static String subConvert() {\r\n    Generator generator = new Generator();\r\n    return generator.generate();\r\n  }\r\n}\r\n```\r\nMy goal is to test `Converter.convert`, mocking `generator.generate()`.\r\n\r\nThe test class looks like this:\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.MockitoAnnotations;\r\n\r\nclass ConverterTest {\r\n\r\n  @Mock\r\n  Generator generatorMock;\r\n  \r\n  @Test\r\n  public void convertTest(){\r\n    MockitoAnnotations.openMocks(this);\r\n    Mockito.when(generatorMock.generate()).thenReturn(&quot;123&quot;);\r\n    Converter.convert();\r\n    // some assertions\r\n  }\r\n}\r\n```\r\nThe actual implementation of `Generator.generate()` is used instead of the mock.\r\n\r\nI&#39;ve tried:\r\n```java\r\nimport org.mockito.InjectMocks;\r\n\r\n@InjectMocks\r\nConverter converterWithMock;\r\n```\r\n, testing `converterWithMock.convert()`, same result.\r\n\r\nI&#39;ve tried with PowerMockito, I can&#39;t make it work (maybe I use it the wrong way).\r\n\r\nWhat&#39;s the right way to do this?\r\n\r\nUsing **junit-jupiter 5.8.2** and **mockito 4.3.1**.","title":"How to mock an instance created by a static method?","body":"<p>I'm testing legacy code that looks like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Converter {\n  static String convert() {\n    SubConverter.subConvert();\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class SubConverter {\n  static String subConvert() {\n    Generator generator = new Generator();\n    return generator.generate();\n  }\n}\n</code></pre>\n<p>My goal is to test <code>Converter.convert</code>, mocking <code>generator.generate()</code>.</p>\n<p>The test class looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.MockitoAnnotations;\n\nclass ConverterTest {\n\n  @Mock\n  Generator generatorMock;\n  \n  @Test\n  public void convertTest(){\n    MockitoAnnotations.openMocks(this);\n    Mockito.when(generatorMock.generate()).thenReturn(&quot;123&quot;);\n    Converter.convert();\n    // some assertions\n  }\n}\n</code></pre>\n<p>The actual implementation of <code>Generator.generate()</code> is used instead of the mock.</p>\n<p>I've tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.mockito.InjectMocks;\n\n@InjectMocks\nConverter converterWithMock;\n</code></pre>\n<p>, testing <code>converterWithMock.convert()</code>, same result.</p>\n<p>I've tried with PowerMockito, I can't make it work (maybe I use it the wrong way).</p>\n<p>What's the right way to do this?</p>\n<p>Using <strong>junit-jupiter 5.8.2</strong> and <strong>mockito 4.3.1</strong>.</p>\n"},{"tags":["java","class","output"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1657490734,"post_id":72932158,"comment_id":128816290,"body_markdown":"Don&#39;t have I/O code in the Car class but rather in the main class. In other words, get the println statement ***out*** of the `addDoor()` method. Instead, give Car a `public int getDoor()` method and call it in Main after adding doors.","body":"Don&#39;t have I/O code in the Car class but rather in the main class. In other words, get the println statement <b><i>out</i></b> of the <code>addDoor()</code> method. Instead, give Car a <code>public int getDoor()</code> method and call it in Main after adding doors."}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657493513,"creation_date":1657493513,"answer_id":72932372,"question_id":72932158,"body_markdown":"Your requirement is to _add_ doors without _printing_ anything about the doors. The code you posted is doing both in one method: `this.door++` as well as `System.out.println()`. Instead, you need two different methods. Here&#39;s a way to edit what you posted to work like you want.\r\n\r\n1. Remove the `System.out.println()` from `addDoor()` (notice the lowercase first letter, that follows Java naming conventions). As you noted, you want to add a door without printing anything about the door totals. That would leave your method looking like this:\r\n\t```\r\n\tpublic void addDoor() {\r\n\t\tthis.door++;\r\n\t}\r\n\t```\r\n\r\n1. Make a new method in your `Car` class, call it `printDoorInfo()` or some such, and move your `println()` code there, like this:\r\n\t```\r\n\tpublic void printDoorInfo() {\r\n\t\tSystem.out.println(&quot;The car has &quot; + this.door + &quot; doors&quot;);\r\n\t}\r\n\t```\r\n1. In your calling code, after you have called `myCar.addDoor()` as many times as you like, call your new door info printer:\r\n\t```\r\n\tmyCar.printDoorInfo();\r\n\t```","title":"I just need one line for the output &quot;the car has 6 doors&quot;(the one with more doors).But the output will give as many (lines) doors as added to the code","body":"<p>Your requirement is to <em>add</em> doors without <em>printing</em> anything about the doors. The code you posted is doing both in one method: <code>this.door++</code> as well as <code>System.out.println()</code>. Instead, you need two different methods. Here's a way to edit what you posted to work like you want.</p>\n<ol>\n<li><p>Remove the <code>System.out.println()</code> from <code>addDoor()</code> (notice the lowercase first letter, that follows Java naming conventions). As you noted, you want to add a door without printing anything about the door totals. That would leave your method looking like this:</p>\n<pre><code>public void addDoor() {\n    this.door++;\n}\n</code></pre>\n</li>\n<li><p>Make a new method in your <code>Car</code> class, call it <code>printDoorInfo()</code> or some such, and move your <code>println()</code> code there, like this:</p>\n<pre><code>public void printDoorInfo() {\n    System.out.println(&quot;The car has &quot; + this.door + &quot; doors&quot;);\n}\n</code></pre>\n</li>\n<li><p>In your calling code, after you have called <code>myCar.addDoor()</code> as many times as you like, call your new door info printer:</p>\n<pre><code>myCar.printDoorInfo();\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":3574446,"reputation":1,"user_id":17423323,"display_name":"user215072"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72932372,"answer_count":1,"score":0,"last_activity_date":1657493513,"creation_date":1657490425,"question_id":72932158,"body_markdown":"```\r\npackage Car;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tCar myCar = new Car();\r\n        myCar.AddDoor();\r\n        myCar.AddDoor();\r\n\t}\r\n\r\n}\r\n\r\nclass Car {\r\n\tpublic int door = 4;\r\n\t\r\n\tpublic void AddDoor() {\r\n\t\tthis.door++;\r\n\t\tSystem.out.println(&quot;The car has   &quot; + door + &quot; &quot; + &quot;doors&quot;);\r\n\t}\r\n}\r\n```\r\n","title":"I just need one line for the output &quot;the car has 6 doors&quot;(the one with more doors).But the output will give as many (lines) doors as added to the code","body":"<pre><code>package Car;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Car myCar = new Car();\n        myCar.AddDoor();\n        myCar.AddDoor();\n    }\n\n}\n\nclass Car {\n    public int door = 4;\n    \n    public void AddDoor() {\n        this.door++;\n        System.out.println(&quot;The car has   &quot; + door + &quot; &quot; + &quot;doors&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":23616470,"reputation":2135,"user_id":17650498,"display_name":"plplmax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657492370,"creation_date":1657492370,"answer_id":72932294,"question_id":72932058,"body_markdown":"I hope this helps you.\r\n\r\nFrom [documentation][1]:\r\n\r\n&gt; In the **Use Gradle from** list select one of the following options:\r\n&gt;\r\n&gt; **&#39;gradle-wrapper.properties&#39;** file: this is a recommended default option that uses Gradle wrapper.\r\n&gt;\r\n&gt; In this case you delegate the update of Gradle versions to Gradle and get an automatic Gradle download for the build. This option also lets you build with a precise Gradle version. The Gradle version is saved in the **gradle-wrapper.properties** file in the **gradle** directory of your project and helps you eliminate any Gradle version problems.\r\n&gt;\r\n&gt; **Specified location**: select this option if you want to manually download and use a specific Gradle version. Specify the location of your Gradle installation and JVM under which IntelliJ IDEA will run Gradle when you import the specified Gradle project and when you execute its tasks.\r\n\r\n  \r\n\r\n[1]: https://www.jetbrains.com/help/idea/gradle.html#gradle_version_install","title":"why do I have different versions of gradle and gradle wrapper?","body":"<p>I hope this helps you.</p>\n<p>From <a href=\"https://www.jetbrains.com/help/idea/gradle.html#gradle_version_install\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>In the <strong>Use Gradle from</strong> list select one of the following options:</p>\n<p><strong>'gradle-wrapper.properties'</strong> file: this is a recommended default option that uses Gradle wrapper.</p>\n<p>In this case you delegate the update of Gradle versions to Gradle and get an automatic Gradle download for the build. This option also lets you build with a precise Gradle version. The Gradle version is saved in the <strong>gradle-wrapper.properties</strong> file in the <strong>gradle</strong> directory of your project and helps you eliminate any Gradle version problems.</p>\n<p><strong>Specified location</strong>: select this option if you want to manually download and use a specific Gradle version. Specify the location of your Gradle installation and JVM under which IntelliJ IDEA will run Gradle when you import the specified Gradle project and when you execute its tasks.</p>\n</blockquote>\n"}],"owner":{"account_id":18065503,"reputation":1046,"user_id":13131510,"display_name":"Kosh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657492370,"creation_date":1657488888,"question_id":72932058,"body_markdown":"Why do I have different versions of gradle and gradle wrapper?\r\n\r\n`gradle --version` returns `Gradle 7.4.2` while  `./gradlew --version` returns `Gradle 7.2`\r\n\r\nI use IntelliJ IDEA as IDE for my java project and my preferences are at default:[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ej1uH.png\r\n\r\nIn my project in `gradle/wrapper/gradle-wrapper.properties` there is a line \r\n\r\n&gt; distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-bin.zip\r\n\r\nBut why it does not match with my installed version?","title":"why do I have different versions of gradle and gradle wrapper?","body":"<p>Why do I have different versions of gradle and gradle wrapper?</p>\n<p><code>gradle --version</code> returns <code>Gradle 7.4.2</code> while  <code>./gradlew --version</code> returns <code>Gradle 7.2</code></p>\n<p>I use IntelliJ IDEA as IDE for my java project and my preferences are at default:<a href=\"https://i.stack.imgur.com/ej1uH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ej1uH.png\" alt=\"enter image description here\" /></a></p>\n<p>In my project in <code>gradle/wrapper/gradle-wrapper.properties</code> there is a line</p>\n<blockquote>\n<p>distributionUrl=https://services.gradle.org/distributions/gradle-7.2-bin.zip</p>\n</blockquote>\n<p>But why it does not match with my installed version?</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":7746434,"reputation":537,"user_id":5864025,"display_name":"Anthony Vinay"},"score":0,"creation_date":1656682461,"post_id":72829986,"comment_id":128638402,"body_markdown":"May I know how to remove padding character?","body":"May I know how to remove padding character?"}],"answers":[{"tags":[],"owner":{"account_id":1630483,"reputation":4039,"user_id":1505146,"accept_rate":50,"display_name":"Tasos P."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656683236,"creation_date":1656682587,"answer_id":72830135,"question_id":72829986,"body_markdown":"When using `-d &quot;1&quot;` with `curl`, you try to: \r\n\r\n&gt; [send] the specified data in a POST request to the HTTP server, in the same way that a browser does when a user has filled in an HTML form and presses the submit button. This  will cause curl to pass the data to the server using the content-type application/x-www-form-urlencoded.\r\n\r\nThis essentially means that the payload is treated as key-value pairs separated by an ampersand (&amp;) character, while key and value are separated with the equals sign (=).\r\n\r\nIn your case, `1` is treated as the key and its value is missing, hence the `1=` you receive.\r\n\r\nIf you want to only consume plain text, you need to:\r\n\r\n1. Change `consumes = {MediaType.TEXT_PLAIN}`\r\n2. Use `curl -H &quot;Content-Type: text/plain; charset: utf-8&quot; -d &quot;1&quot; ...`","title":"curl -d &quot;123&quot; : The string data has equal symbol attached to it","body":"<p>When using <code>-d &quot;1&quot;</code> with <code>curl</code>, you try to:</p>\n<blockquote>\n<p>[send] the specified data in a POST request to the HTTP server, in the same way that a browser does when a user has filled in an HTML form and presses the submit button. This  will cause curl to pass the data to the server using the content-type application/x-www-form-urlencoded.</p>\n</blockquote>\n<p>This essentially means that the payload is treated as key-value pairs separated by an ampersand (&amp;) character, while key and value are separated with the equals sign (=).</p>\n<p>In your case, <code>1</code> is treated as the key and its value is missing, hence the <code>1=</code> you receive.</p>\n<p>If you want to only consume plain text, you need to:</p>\n<ol>\n<li>Change <code>consumes = {MediaType.TEXT_PLAIN}</code></li>\n<li>Use <code>curl -H &quot;Content-Type: text/plain; charset: utf-8&quot; -d &quot;1&quot; ...</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7746434,"reputation":537,"user_id":5864025,"display_name":"Anthony Vinay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657491991,"creation_date":1657491991,"answer_id":72932275,"question_id":72829986,"body_markdown":"Source : https://www.baeldung.com/spring-url-encoded-form-data#1-formhttpmessageconverter-basics\r\n\r\n**This helped me :** \r\n\r\n    @PostMapping(\r\n      path = &quot;/feedback&quot;,\r\n      consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\r\n    public ResponseEntity&lt;String&gt; handleNonBrowserSubmissions(\r\n      @RequestParam MultiValueMap&lt;String,String&gt; paramMap) throws Exception {\r\n        // Save feedback data\r\n        return new ResponseEntity&lt;String&gt;(&quot;Thank you for submitting feedback&quot;, HttpStatus.OK);\r\n    }\r\n\r\nI just had to change the data type in the method argument to &quot;`@RequestParam MultiValueMap&lt;String,String&gt; paramMap`&quot;\r\n\r\n----------\r\n\r\nSo when I do `curl -d &#39;1&#39; http://localhost:1337/` , I had to extract the key separately like this :\r\n\r\n    String data = (String) ((Map.Entry) paramMap.entrySet().toArray()[0]).getKey();\r\n\r\n\r\n\r\n\r\n","title":"curl -d &quot;123&quot; : The string data has equal symbol attached to it","body":"<p>Source : <a href=\"https://www.baeldung.com/spring-url-encoded-form-data#1-formhttpmessageconverter-basics\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-url-encoded-form-data#1-formhttpmessageconverter-basics</a></p>\n<p><strong>This helped me :</strong></p>\n<pre><code>@PostMapping(\n  path = &quot;/feedback&quot;,\n  consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\npublic ResponseEntity&lt;String&gt; handleNonBrowserSubmissions(\n  @RequestParam MultiValueMap&lt;String,String&gt; paramMap) throws Exception {\n    // Save feedback data\n    return new ResponseEntity&lt;String&gt;(&quot;Thank you for submitting feedback&quot;, HttpStatus.OK);\n}\n</code></pre>\n<p>I just had to change the data type in the method argument to &quot;<code>@RequestParam MultiValueMap&lt;String,String&gt; paramMap</code>&quot;</p>\n<hr />\n<p>So when I do <code>curl -d '1' http://localhost:1337/</code> , I had to extract the key separately like this :</p>\n<pre><code>String data = (String) ((Map.Entry) paramMap.entrySet().toArray()[0]).getKey();\n</code></pre>\n"}],"owner":{"account_id":7746434,"reputation":537,"user_id":5864025,"display_name":"Anthony Vinay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72932275,"answer_count":2,"score":0,"last_activity_date":1657491991,"creation_date":1656681895,"question_id":72829986,"body_markdown":"I have a POST API in spring boot Restcontroller which accepts a string and returns back the string. But the recieved string value has special characters as &quot;=&quot;\r\n\r\n    @RestController\r\n    public class MyApi{\r\n        @PostMapping(path = &quot;/&quot;, consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\r\n        public String parseInput(@RequestBody String data)    {\r\n            return data;\r\n        }\r\n    }\r\n\r\n`curl -d &quot;1&quot; http://localhost:1337/` gives `1=` instead of `1`","title":"curl -d &quot;123&quot; : The string data has equal symbol attached to it","body":"<p>I have a POST API in spring boot Restcontroller which accepts a string and returns back the string. But the recieved string value has special characters as &quot;=&quot;</p>\n<pre><code>@RestController\npublic class MyApi{\n    @PostMapping(path = &quot;/&quot;, consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\n    public String parseInput(@RequestBody String data)    {\n        return data;\n    }\n}\n</code></pre>\n<p><code>curl -d &quot;1&quot; http://localhost:1337/</code> gives <code>1=</code> instead of <code>1</code></p>\n"},{"tags":["java","list","union","intersection"],"comments":[{"owner":{"account_id":3341971,"reputation":1386,"user_id":2808054,"accept_rate":50,"display_name":"user2808054"},"score":1,"creation_date":1421430607,"post_id":5283047,"comment_id":44370547,"body_markdown":"If you didn&#39;t want to creayte a new list, Vector.retainAll(Vector) trims your orignal vector to only the intersection with second vector.","body":"If you didn&#39;t want to creayte a new list, Vector.retainAll(Vector) trims your orignal vector to only the intersection with second vector."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1477463110,"post_id":5283047,"comment_id":67771811,"body_markdown":"@user2808054 why `Vector`? That class has been discouraged since Java 1.2.","body":"@user2808054 why <code>Vector</code>? That class has been discouraged since Java 1.2."},{"owner":{"account_id":3341971,"reputation":1386,"user_id":2808054,"accept_rate":50,"display_name":"user2808054"},"score":0,"creation_date":1478023349,"post_id":5283047,"comment_id":67985071,"body_markdown":"@dimo414 an interface which I&#39;m using (I have no option) returns things as vectors. I didn&#39;t know it had been discouraged ! Thanks for the info .. Discouraged by who ? I haven&#39;t seen any note about it being deprecated so this is a surprise","body":"@dimo414 an interface which I&#39;m using (I have no option) returns things as vectors. I didn&#39;t know it had been discouraged ! Thanks for the info .. Discouraged by who ? I haven&#39;t seen any note about it being deprecated so this is a surprise"},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":1,"creation_date":1478032034,"post_id":5283047,"comment_id":67989517,"body_markdown":"From the Javadocs: &quot;[*As of the Java 2 platform v1.2 ... it is recommended to use ArrayList in place of Vector.*](https://docs.oracle.com/javase/8/docs/api/java/util/Vector.html)&quot;. The only time you *might* need `Vector` is for cross-thread interactions, but there are safer data structures for those use cases too. See also [this question](http://stackoverflow.com/q/1386275/113632). Any library still using `Vector` in 2016 is very suspect in my opinion.","body":"From the Javadocs: &quot;<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Vector.html\" rel=\"nofollow noreferrer\"><i>As of the Java 2 platform v1.2 ... it is recommended to use ArrayList in place of Vector.</i></a>&quot;. The only time you <i>might</i> need <code>Vector</code> is for cross-thread interactions, but there are safer data structures for those use cases too. See also <a href=\"http://stackoverflow.com/q/1386275/113632\">this question</a>. Any library still using <code>Vector</code> in 2016 is very suspect in my opinion."},{"owner":{"account_id":3341971,"reputation":1386,"user_id":2808054,"accept_rate":50,"display_name":"user2808054"},"score":0,"creation_date":1478621346,"post_id":5283047,"comment_id":68227030,"body_markdown":"@dimo414 it&#39;s an IBM library, haha! (Lotus Domino data api). Thanks for the info, very helpful","body":"@dimo414 it&#39;s an IBM library, haha! (Lotus Domino data api). Thanks for the info, very helpful"}],"answers":[{"tags":[],"owner":{"account_id":214500,"reputation":10290,"user_id":468508,"accept_rate":96,"display_name":"bluefoot"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1367591250,"creation_date":1299939795,"answer_id":5283056,"question_id":5283047,"body_markdown":"You can use `CollectionUtils` from [apache commons][1].  \r\n\r\n  [1]: \r\nhttp://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections/CollectionUtils.html","title":"Intersection and union of ArrayLists in Java","body":"<p>You can use <code>CollectionUtils</code> from <a href=\"http://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections/CollectionUtils.html\">apache commons</a>.  </p>\n"},{"tags":[],"owner":{"account_id":246440,"reputation":2571,"user_id":520593,"accept_rate":89,"display_name":"The GiG"},"down_vote_count":2,"up_vote_count":38,"is_accepted":false,"score":36,"last_activity_date":1477987308,"creation_date":1299939869,"answer_id":5283065,"question_id":5283047,"body_markdown":"    list1.retainAll(list2) - is intersection\r\nunion will be `removeAll` and then `addAll`.\r\n\r\nFind more in the documentation of collection(ArrayList is a collection)\r\nhttp://download.oracle.com/javase/1.5.0/docs/api/java/util/Collection.html","title":"Intersection and union of ArrayLists in Java","body":"<pre><code>list1.retainAll(list2) - is intersection\n</code></pre>\n\n<p>union will be <code>removeAll</code> and then <code>addAll</code>.</p>\n\n<p>Find more in the documentation of collection(ArrayList is a collection)\n<a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Collection.html\" rel=\"noreferrer\">http://download.oracle.com/javase/1.5.0/docs/api/java/util/Collection.html</a></p>\n"},{"tags":[],"owner":{"account_id":279561,"reputation":26273,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"down_vote_count":5,"up_vote_count":141,"is_accepted":false,"score":136,"last_activity_date":1354367205,"creation_date":1299940048,"answer_id":5283079,"question_id":5283047,"body_markdown":"[Collection][1] (so ArrayList also) have:\r\n\r\n    col.retainAll(otherCol) // for intersection\r\n    col.addAll(otherCol) // for union\r\n\r\n\r\nUse a List implementation if you accept repetitions, a Set implementation if you don&#39;t:\r\n\r\n    Collection&lt;String&gt; col1 = new ArrayList&lt;String&gt;(); // {a, b, c}\r\n    // Collection&lt;String&gt; col1 = new TreeSet&lt;String&gt;();\r\n    col1.add(&quot;a&quot;);\r\n    col1.add(&quot;b&quot;);\r\n    col1.add(&quot;c&quot;);\r\n\r\n    Collection&lt;String&gt; col2 = new ArrayList&lt;String&gt;(); // {b, c, d, e}\r\n    // Collection&lt;String&gt; col2 = new TreeSet&lt;String&gt;();\r\n    col2.add(&quot;b&quot;);\r\n    col2.add(&quot;c&quot;);\r\n    col2.add(&quot;d&quot;);\r\n    col2.add(&quot;e&quot;);\r\n\r\n    col1.addAll(col2);\r\n    System.out.println(col1); \r\n    //output for ArrayList: [a, b, c, b, c, d, e]\r\n    //output for TreeSet: [a, b, c, d, e]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html","title":"Intersection and union of ArrayLists in Java","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html\" rel=\"noreferrer\">Collection</a> (so ArrayList also) have:</p>\n\n<pre><code>col.retainAll(otherCol) // for intersection\ncol.addAll(otherCol) // for union\n</code></pre>\n\n<p>Use a List implementation if you accept repetitions, a Set implementation if you don't:</p>\n\n<pre><code>Collection&lt;String&gt; col1 = new ArrayList&lt;String&gt;(); // {a, b, c}\n// Collection&lt;String&gt; col1 = new TreeSet&lt;String&gt;();\ncol1.add(\"a\");\ncol1.add(\"b\");\ncol1.add(\"c\");\n\nCollection&lt;String&gt; col2 = new ArrayList&lt;String&gt;(); // {b, c, d, e}\n// Collection&lt;String&gt; col2 = new TreeSet&lt;String&gt;();\ncol2.add(\"b\");\ncol2.add(\"c\");\ncol2.add(\"d\");\ncol2.add(\"e\");\n\ncol1.addAll(col2);\nSystem.out.println(col1); \n//output for ArrayList: [a, b, c, b, c, d, e]\n//output for TreeSet: [a, b, c, d, e]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45108,"reputation":1753,"user_id":132785,"accept_rate":77,"display_name":"Neil"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1477462536,"creation_date":1299940122,"answer_id":5283086,"question_id":5283047,"body_markdown":"If you had your data in Sets you could use Guava&#39;s [`Sets`](https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Sets.html) class.","title":"Intersection and union of ArrayLists in Java","body":"<p>If you had your data in Sets you could use Guava's <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Sets.html\" rel=\"nofollow\"><code>Sets</code></a> class.</p>\n"},{"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1299940207,"creation_date":1299940207,"answer_id":5283095,"question_id":5283047,"body_markdown":"I think you should use a `Set` to hold the files if you want to do intersection and union on them. Then you can use [Guava][1]&#39;s [Sets][2] class to do `union`, `intersection` and filtering by a `Predicate` as well. The difference between these methods and the other suggestions is that all of these methods create lazy _views_ of the union, intersection, etc. of the two sets. Apache Commons creates a new collection and copies data to it. `retainAll` changes one of your collections by removing elements from it.\r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com\r\n  [2]: http://guava-libraries.googlecode.com/svn/tags/release08/javadoc/com/google/common/collect/Sets.html","title":"Intersection and union of ArrayLists in Java","body":"<p>I think you should use a <code>Set</code> to hold the files if you want to do intersection and union on them. Then you can use <a href=\"http://guava-libraries.googlecode.com\" rel=\"nofollow\">Guava</a>'s <a href=\"http://guava-libraries.googlecode.com/svn/tags/release08/javadoc/com/google/common/collect/Sets.html\" rel=\"nofollow\">Sets</a> class to do <code>union</code>, <code>intersection</code> and filtering by a <code>Predicate</code> as well. The difference between these methods and the other suggestions is that all of these methods create lazy <em>views</em> of the union, intersection, etc. of the two sets. Apache Commons creates a new collection and copies data to it. <code>retainAll</code> changes one of your collections by removing elements from it.</p>\n"},{"tags":[],"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1470311153,"creation_date":1299940211,"answer_id":5283098,"question_id":5283047,"body_markdown":"Unions and intersections defined only for sets, not lists. As you mentioned.\r\n\r\nCheck [guava][1] library for filters. Also guava provides real [intersections and unions][2]\r\n\r\n     static &lt;E&gt; Sets.SetView&lt;E &gt;union(Set&lt;? extends E&gt; set1, Set&lt;? extends E&gt; set2)\r\n     static &lt;E&gt; Sets.SetView&lt;E&gt; intersection(Set&lt;E&gt; set1, Set&lt;?&gt; set2)\r\n\r\n\r\n  [1]: https://github.com/google/guava/wiki\r\n  [2]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Sets.html","title":"Intersection and union of ArrayLists in Java","body":"<p>Unions and intersections defined only for sets, not lists. As you mentioned.</p>\n\n<p>Check <a href=\"https://github.com/google/guava/wiki\" rel=\"noreferrer\">guava</a> library for filters. Also guava provides real <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Sets.html\" rel=\"noreferrer\">intersections and unions</a></p>\n\n<pre><code> static &lt;E&gt; Sets.SetView&lt;E &gt;union(Set&lt;? extends E&gt; set1, Set&lt;? extends E&gt; set2)\n static &lt;E&gt; Sets.SetView&lt;E&gt; intersection(Set&lt;E&gt; set1, Set&lt;?&gt; set2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"down_vote_count":7,"up_vote_count":158,"is_accepted":true,"score":151,"last_activity_date":1299941414,"creation_date":1299940519,"answer_id":5283123,"question_id":5283047,"body_markdown":"Here&#39;s a plain implementation without using any third-party library. Main advantage over `retainAll`, `removeAll` and `addAll` is that these methods don&#39;t modify the original lists input to the methods.\r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String... args) throws Exception {\r\n    \t\t\r\n    \t\tList&lt;String&gt; list1 = new ArrayList&lt;String&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));\r\n    \t\tList&lt;String&gt; list2 = new ArrayList&lt;String&gt;(Arrays.asList(&quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;));\r\n    \t\t\r\n    \t\tSystem.out.println(new Test().intersection(list1, list2));\r\n    \t\tSystem.out.println(new Test().union(list1, list2));\r\n    \t}\r\n    \t\r\n    \tpublic &lt;T&gt; List&lt;T&gt; union(List&lt;T&gt; list1, List&lt;T&gt; list2) {\r\n    \t\tSet&lt;T&gt; set = new HashSet&lt;T&gt;();\r\n    \t\t\r\n    \t\tset.addAll(list1);\r\n    \t\tset.addAll(list2);\r\n    \t\t\r\n    \t\treturn new ArrayList&lt;T&gt;(set);\r\n    \t}\r\n    \t\r\n    \tpublic &lt;T&gt; List&lt;T&gt; intersection(List&lt;T&gt; list1, List&lt;T&gt; list2) {\r\n    \t\tList&lt;T&gt; list = new ArrayList&lt;T&gt;();\r\n    \t\t\r\n    \t\tfor (T t : list1) {\r\n    \t\t\tif(list2.contains(t)) {\r\n    \t\t\t\tlist.add(t);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn list;\r\n    \t}\r\n    }","title":"Intersection and union of ArrayLists in Java","body":"<p>Here's a plain implementation without using any third-party library. Main advantage over <code>retainAll</code>, <code>removeAll</code> and <code>addAll</code> is that these methods don't modify the original lists input to the methods.</p>\n\n<pre><code>public class Test {\n\n    public static void main(String... args) throws Exception {\n\n        List&lt;String&gt; list1 = new ArrayList&lt;String&gt;(Arrays.asList(\"A\", \"B\", \"C\"));\n        List&lt;String&gt; list2 = new ArrayList&lt;String&gt;(Arrays.asList(\"B\", \"C\", \"D\", \"E\", \"F\"));\n\n        System.out.println(new Test().intersection(list1, list2));\n        System.out.println(new Test().union(list1, list2));\n    }\n\n    public &lt;T&gt; List&lt;T&gt; union(List&lt;T&gt; list1, List&lt;T&gt; list2) {\n        Set&lt;T&gt; set = new HashSet&lt;T&gt;();\n\n        set.addAll(list1);\n        set.addAll(list2);\n\n        return new ArrayList&lt;T&gt;(set);\n    }\n\n    public &lt;T&gt; List&lt;T&gt; intersection(List&lt;T&gt; list1, List&lt;T&gt; list2) {\n        List&lt;T&gt; list = new ArrayList&lt;T&gt;();\n\n        for (T t : list1) {\n            if(list2.contains(t)) {\n                list.add(t);\n            }\n        }\n\n        return list;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":392715,"reputation":578,"user_id":754149,"accept_rate":57,"display_name":"AJed"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1430671294,"creation_date":1367593030,"answer_id":16361897,"question_id":5283047,"body_markdown":"The solution marked is not efficient. It has a O(n^2) time complexity. What we can do is to sort both lists, and the execute an intersection algorithm as the one below. \r\n\r\n\tprivate  static ArrayList&lt;Integer&gt; interesect(ArrayList&lt;Integer&gt; f, ArrayList&lt;Integer&gt; s) { \r\n\t\tArrayList&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\r\n\t\t\r\n\t\tint i = 0, j = 0; \r\n\t\twhile (i != f.size() &amp;&amp; j != s.size()) { \r\n\t\t\t\r\n\t\t\tif (f.get(i) &lt; s.get(j)) {\r\n\t\t\t\ti ++;\r\n\t\t\t} else if (f.get(i) &gt; s.get(j)) { \r\n\t\t\t\tj ++;\r\n\t\t\t} else { \r\n\t\t\t\tres.add(f.get(i)); \r\n\t\t\t\ti ++;  j ++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\treturn res; \r\n\t}\r\n\r\n\r\nThis one has a complexity of O(n log n + n) which is in O(n log n). \r\nThe union is done in a similar manner. Just make sure you make the suitable modifications on the if-elseif-else statements. \r\n\r\nYou can also use iterators if you want (I know they are more efficient in C++, I dont know if this is true in Java as well). \r\n\r\n","title":"Intersection and union of ArrayLists in Java","body":"<p>The solution marked is not efficient. It has a O(n^2) time complexity. What we can do is to sort both lists, and the execute an intersection algorithm as the one below. </p>\n\n<pre><code>private  static ArrayList&lt;Integer&gt; interesect(ArrayList&lt;Integer&gt; f, ArrayList&lt;Integer&gt; s) { \n    ArrayList&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();\n\n    int i = 0, j = 0; \n    while (i != f.size() &amp;&amp; j != s.size()) { \n\n        if (f.get(i) &lt; s.get(j)) {\n            i ++;\n        } else if (f.get(i) &gt; s.get(j)) { \n            j ++;\n        } else { \n            res.add(f.get(i)); \n            i ++;  j ++;\n        }\n    }\n\n\n    return res; \n}\n</code></pre>\n\n<p>This one has a complexity of O(n log n + n) which is in O(n log n). \nThe union is done in a similar manner. Just make sure you make the suitable modifications on the if-elseif-else statements. </p>\n\n<p>You can also use iterators if you want (I know they are more efficient in C++, I dont know if this is true in Java as well). </p>\n"},{"tags":[],"owner":{"account_id":4665224,"reputation":3183,"user_id":3778451,"accept_rate":54,"display_name":"Deutro"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1410448379,"creation_date":1410448379,"answer_id":25791138,"question_id":5283047,"body_markdown":"Here is a way how you can do an intersection with streams (remember that you have to use java 8 for streams): \r\n\r\n    List&lt;foo&gt; fooList1 = new ArrayList&lt;&gt;(Arrays.asList(new foo(), new foo()));\r\n    List&lt;foo&gt; fooList2 = new ArrayList&lt;&gt;(Arrays.asList(new foo(), new foo()));\r\n    fooList1.stream().filter(f -&gt; fooList2.contains(f)).collect(Collectors.toList());\r\n\r\nAn example for lists with different types. If you have a realtion between foo and bar and you can get a bar-object from foo than you can modify your stream:\r\n\r\n    List&lt;foo&gt; fooList = new ArrayList&lt;&gt;(Arrays.asList(new foo(), new foo()));\r\n    List&lt;bar&gt; barList = new ArrayList&lt;&gt;(Arrays.asList(new bar(), new bar()));\r\n\r\n    fooList.stream().filter(f -&gt; barList.contains(f.getBar()).collect(Collectors.toList());\r\n\r\n\r\n\r\n    ","title":"Intersection and union of ArrayLists in Java","body":"<p>Here is a way how you can do an intersection with streams (remember that you have to use java 8 for streams): </p>\n\n<pre><code>List&lt;foo&gt; fooList1 = new ArrayList&lt;&gt;(Arrays.asList(new foo(), new foo()));\nList&lt;foo&gt; fooList2 = new ArrayList&lt;&gt;(Arrays.asList(new foo(), new foo()));\nfooList1.stream().filter(f -&gt; fooList2.contains(f)).collect(Collectors.toList());\n</code></pre>\n\n<p>An example for lists with different types. If you have a realtion between foo and bar and you can get a bar-object from foo than you can modify your stream:</p>\n\n<pre><code>List&lt;foo&gt; fooList = new ArrayList&lt;&gt;(Arrays.asList(new foo(), new foo()));\nList&lt;bar&gt; barList = new ArrayList&lt;&gt;(Arrays.asList(new bar(), new bar()));\n\nfooList.stream().filter(f -&gt; barList.contains(f.getBar()).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":966925,"reputation":4497,"user_id":990208,"accept_rate":82,"display_name":"Bala"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1411374445,"creation_date":1411374445,"answer_id":25969632,"question_id":5283047,"body_markdown":" - retainAll will modify your list \r\n - Guava doesn&#39;t have APIs for List (only for set)\r\n\r\nI found ListUtils very useful for this use case. \r\n\r\nUse ListUtils from org.apache.commons.collections if you do not want to modify existing list.\r\n\r\n`ListUtils.intersection(list1, list2)`","title":"Intersection and union of ArrayLists in Java","body":"<ul>\n<li>retainAll will modify your list </li>\n<li>Guava doesn't have APIs for List (only for set)</li>\n</ul>\n\n<p>I found ListUtils very useful for this use case. </p>\n\n<p>Use ListUtils from org.apache.commons.collections if you do not want to modify existing list.</p>\n\n<p><code>ListUtils.intersection(list1, list2)</code></p>\n"},{"tags":[],"owner":{"account_id":4645376,"reputation":981,"user_id":3763870,"accept_rate":50,"display_name":"steilerDev"},"down_vote_count":1,"up_vote_count":92,"is_accepted":false,"score":91,"last_activity_date":1524793194,"creation_date":1427230063,"answer_id":29242572,"question_id":5283047,"body_markdown":"This post is fairly old, but nevertheless it was the first one popping up on google when looking for that topic.\r\n\r\nI want to give an update using Java 8 streams doing (basically) the same thing in a single line:\r\n\r\n    List&lt;T&gt; intersect = list1.stream()\r\n        .filter(list2::contains)\r\n        .collect(Collectors.toList());\r\n\r\n    List&lt;T&gt; union = Stream.concat(list1.stream(), list2.stream())\r\n        .distinct()\r\n        .collect(Collectors.toList());\r\n\r\nIf anyone has a better/faster solution let me know, but this solution is a nice one liner that can be easily included in a method without adding a unnecessary helper class/method and still keep the readability. ","title":"Intersection and union of ArrayLists in Java","body":"<p>This post is fairly old, but nevertheless it was the first one popping up on google when looking for that topic.</p>\n\n<p>I want to give an update using Java 8 streams doing (basically) the same thing in a single line:</p>\n\n<pre><code>List&lt;T&gt; intersect = list1.stream()\n    .filter(list2::contains)\n    .collect(Collectors.toList());\n\nList&lt;T&gt; union = Stream.concat(list1.stream(), list2.stream())\n    .distinct()\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>If anyone has a better/faster solution let me know, but this solution is a nice one liner that can be easily included in a method without adding a unnecessary helper class/method and still keep the readability. </p>\n"},{"tags":[],"owner":{"account_id":1944182,"reputation":1211,"user_id":1749693,"display_name":"Jeroen Vuurens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1428824899,"creation_date":1428824899,"answer_id":29587221,"question_id":5283047,"body_markdown":"If the objects in the list are hashable (i.e. have a decent hashCode and equals function), the fastest approach between tables approx. size &gt; 20 is to construct a HashSet for the larger of the two lists.\r\n\r\n    public static &lt;T&gt; ArrayList&lt;T&gt; intersection(Collection&lt;T&gt; a, Collection&lt;T&gt; b) {\r\n        if (b.size() &gt; a.size()) {\r\n            return intersection(b, a);\r\n        } else {\r\n            if (b.size() &gt; 20 &amp;&amp; !(a instanceof HashSet)) {\r\n                a = new HashSet(a);\r\n            }\r\n            ArrayList&lt;T&gt; result = new ArrayList();\r\n            for (T objb : b) {\r\n                if (a.contains(objb)) {\r\n                    result.add(objb);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n\r\n\r\n  ","title":"Intersection and union of ArrayLists in Java","body":"<p>If the objects in the list are hashable (i.e. have a decent hashCode and equals function), the fastest approach between tables approx. size > 20 is to construct a HashSet for the larger of the two lists.</p>\n\n<pre><code>public static &lt;T&gt; ArrayList&lt;T&gt; intersection(Collection&lt;T&gt; a, Collection&lt;T&gt; b) {\n    if (b.size() &gt; a.size()) {\n        return intersection(b, a);\n    } else {\n        if (b.size() &gt; 20 &amp;&amp; !(a instanceof HashSet)) {\n            a = new HashSet(a);\n        }\n        ArrayList&lt;T&gt; result = new ArrayList();\n        for (T objb : b) {\n            if (a.contains(objb)) {\n                result.add(objb);\n            }\n        }\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4412923,"reputation":7184,"user_id":3595288,"accept_rate":60,"display_name":"Choletski"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1474893360,"creation_date":1474893360,"answer_id":39703013,"question_id":5283047,"body_markdown":"**Final solution:**\r\n\r\n    //all sorted items from both\r\n    public &lt;T&gt; List&lt;T&gt; getListReunion(List&lt;T&gt; list1, List&lt;T&gt; list2) {\r\n        Set&lt;T&gt; set = new HashSet&lt;T&gt;();\r\n        set.addAll(list1);\r\n        set.addAll(list2);\r\n        return new ArrayList&lt;T&gt;(set);\r\n    }\r\n\r\n    //common items from both\r\n    public &lt;T&gt; List&lt;T&gt; getListIntersection(List&lt;T&gt; list1, List&lt;T&gt; list2) {\r\n        list1.retainAll(list2);\r\n        return list1;\r\n    }\r\n\r\n    //common items from list1 not present in list2\r\n    public &lt;T&gt; List&lt;T&gt; getListDifference(List&lt;T&gt; list1, List&lt;T&gt; list2) {\r\n        list1.removeAll(list2);\r\n        return list1;\r\n    }","title":"Intersection and union of ArrayLists in Java","body":"<p><strong>Final solution:</strong></p>\n\n<pre><code>//all sorted items from both\npublic &lt;T&gt; List&lt;T&gt; getListReunion(List&lt;T&gt; list1, List&lt;T&gt; list2) {\n    Set&lt;T&gt; set = new HashSet&lt;T&gt;();\n    set.addAll(list1);\n    set.addAll(list2);\n    return new ArrayList&lt;T&gt;(set);\n}\n\n//common items from both\npublic &lt;T&gt; List&lt;T&gt; getListIntersection(List&lt;T&gt; list1, List&lt;T&gt; list2) {\n    list1.retainAll(list2);\n    return list1;\n}\n\n//common items from list1 not present in list2\npublic &lt;T&gt; List&lt;T&gt; getListDifference(List&lt;T&gt; list1, List&lt;T&gt; list2) {\n    list1.removeAll(list2);\n    return list1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5837252,"reputation":41,"user_id":4599878,"display_name":"Shubham Pandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492404647,"creation_date":1492404338,"answer_id":43445264,"question_id":5283047,"body_markdown":"I was also working on the similar situation and reached here searching for help. Ended up finding my own solution for Arrays.\r\nArrayList&lt;String&gt; AbsentDates = new ArrayList&lt;String&gt;(); // Will Store Array1-Array2\r\n\r\n**Note :** Posting this if it can help someone reaching this page for help.\r\n\r\n  \r\n\r\n    ArrayList&lt;String&gt; AbsentDates = new ArrayList&lt;String&gt;();//This Array will store difference\r\n          public void AbsentDays() {\r\n                findDates(&quot;April&quot;, &quot;2017&quot;);//Array one with dates in Month April 2017\r\n                findPresentDays();//Array two carrying some dates which are subset of Dates in Month April 2017\r\n                          \r\n                for (int i = 0; i &lt; Dates.size(); i++) {\r\n        \r\n                    for (int j = 0; j &lt; PresentDates.size(); j++) {\r\n        \r\n                        if (Dates.get(i).equals(PresentDates.get(j))) {\r\n        \r\n                            Dates.remove(i);\r\n                        }               \r\n                        \r\n                    }              \r\n                    AbsentDates = Dates;   \r\n                }\r\n                System.out.println(AbsentDates );\r\n            }\r\n\r\n","title":"Intersection and union of ArrayLists in Java","body":"<p>I was also working on the similar situation and reached here searching for help. Ended up finding my own solution for Arrays.\nArrayList AbsentDates = new ArrayList(); // Will Store Array1-Array2</p>\n\n<p><strong>Note :</strong> Posting this if it can help someone reaching this page for help.</p>\n\n<pre><code>ArrayList&lt;String&gt; AbsentDates = new ArrayList&lt;String&gt;();//This Array will store difference\n      public void AbsentDays() {\n            findDates(\"April\", \"2017\");//Array one with dates in Month April 2017\n            findPresentDays();//Array two carrying some dates which are subset of Dates in Month April 2017\n\n            for (int i = 0; i &lt; Dates.size(); i++) {\n\n                for (int j = 0; j &lt; PresentDates.size(); j++) {\n\n                    if (Dates.get(i).equals(PresentDates.get(j))) {\n\n                        Dates.remove(i);\n                    }               \n\n                }              \n                AbsentDates = Dates;   \n            }\n            System.out.println(AbsentDates );\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11055976,"reputation":1,"user_id":8118796,"display_name":"Ashutosh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1497454666,"creation_date":1496843224,"answer_id":44414507,"question_id":5283047,"body_markdown":"If the number matches  than I am checking it&#39;s occur first time or not with help of &quot;indexOf()&quot; if the number matches first time then print and save into in a string so, that when the next time same number matches then it&#39;s won&#39;t print because due to &quot;indexOf()&quot; condition will be false. \r\n\r\n    class Intersection\r\n    {\r\n    public static void main(String[] args)\r\n     {\r\n      String s=&quot;&quot;;\r\n        int[] array1 = {1, 2, 5, 5, 8, 9, 7,2,3512451,4,4,5 ,10};\r\n        int[] array2 = {1, 0, 6, 15, 6, 5,4, 1,7, 0,5,4,5,2,3,8,5,3512451};\r\n    \r\n    \r\n           for (int i = 0; i &lt; array1.length; i++)\r\n           {\r\n               for (int j = 0; j &lt; array2.length; j++)\r\n               {\r\n            \t   char c=(char)(array1[i]);\r\n                   if(array1[i] == (array2[j])&amp;&amp;s.indexOf(c)==-1)\r\n                   {    \r\n                    System.out.println(&quot;Common element is : &quot;+(array1[i]));\r\n                    s+=c;\r\n                    }\r\n               }\r\n           }  \t\r\n    }\r\n}","title":"Intersection and union of ArrayLists in Java","body":"<p>If the number matches  than I am checking it's occur first time or not with help of \"indexOf()\" if the number matches first time then print and save into in a string so, that when the next time same number matches then it's won't print because due to \"indexOf()\" condition will be false. </p>\n\n<pre><code>class Intersection\n{\npublic static void main(String[] args)\n {\n  String s=\"\";\n    int[] array1 = {1, 2, 5, 5, 8, 9, 7,2,3512451,4,4,5 ,10};\n    int[] array2 = {1, 0, 6, 15, 6, 5,4, 1,7, 0,5,4,5,2,3,8,5,3512451};\n\n\n       for (int i = 0; i &lt; array1.length; i++)\n       {\n           for (int j = 0; j &lt; array2.length; j++)\n           {\n               char c=(char)(array1[i]);\n               if(array1[i] == (array2[j])&amp;&amp;s.indexOf(c)==-1)\n               {    \n                System.out.println(\"Common element is : \"+(array1[i]));\n                s+=c;\n                }\n           }\n       }    \n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":11055976,"reputation":1,"user_id":8118796,"display_name":"Ashutosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497455362,"creation_date":1496844464,"answer_id":44415006,"question_id":5283047,"body_markdown":"First, I am copying all values of arrays into a single array then I am removing duplicates values into the array. Line 12, explaining if same number occur more than time then put some extra garbage value into &quot;j&quot; position. At the end, traverse from start-end and check if same garbage value occur then discard.\r\n\r\n    public class Union {\r\n\tpublic static void main(String[] args){\r\n\t\t\r\n\t\tint arr1[]={1,3,3,2,4,2,3,3,5,2,1,99};\r\n\t\tint arr2[]={1,3,2,1,3,2,4,6,3,4};\r\n\t\tint arr3[]=new int[arr1.length+arr2.length];\r\n\t\t\r\n\t\tfor(int i=0;i&lt;arr1.length;i++)\r\n\t\t\tarr3[i]=arr1[i];\r\n\t\t\r\n\t\tfor(int i=0;i&lt;arr2.length;i++)\r\n\t\t\tarr3[arr1.length+i]=arr2[i];\r\n\t\tSystem.out.println(Arrays.toString(arr3));\r\n\t\t\r\n\t\tfor(int i=0;i&lt;arr3.length;i++)\r\n\t\t{\r\n\t\t\tfor(int j=i+1;j&lt;arr3.length;j++)\r\n\t\t\t{\r\n\t\t\t\tif(arr3[i]==arr3[j])\r\n\t\t\t\t\tarr3[j]=99999999;          //line  12\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(int i=0;i&lt;arr3.length;i++)\r\n\t\t{\r\n\t\t\tif(arr3[i]!=99999999)\r\n\t\t\t\tSystem.out.print(arr3[i]+&quot; &quot;);\r\n\t    }\r\n    }\t\r\n    }\r\n","title":"Intersection and union of ArrayLists in Java","body":"<p>First, I am copying all values of arrays into a single array then I am removing duplicates values into the array. Line 12, explaining if same number occur more than time then put some extra garbage value into \"j\" position. At the end, traverse from start-end and check if same garbage value occur then discard.</p>\n\n<pre><code>public class Union {\npublic static void main(String[] args){\n\n    int arr1[]={1,3,3,2,4,2,3,3,5,2,1,99};\n    int arr2[]={1,3,2,1,3,2,4,6,3,4};\n    int arr3[]=new int[arr1.length+arr2.length];\n\n    for(int i=0;i&lt;arr1.length;i++)\n        arr3[i]=arr1[i];\n\n    for(int i=0;i&lt;arr2.length;i++)\n        arr3[arr1.length+i]=arr2[i];\n    System.out.println(Arrays.toString(arr3));\n\n    for(int i=0;i&lt;arr3.length;i++)\n    {\n        for(int j=i+1;j&lt;arr3.length;j++)\n        {\n            if(arr3[i]==arr3[j])\n                arr3[j]=99999999;          //line  12\n        }\n    }\n    for(int i=0;i&lt;arr3.length;i++)\n    {\n        if(arr3[i]!=99999999)\n            System.out.print(arr3[i]+\" \");\n    }\n}   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":237229,"reputation":14274,"user_id":505248,"accept_rate":25,"display_name":"Pascalius"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517915472,"creation_date":1508774467,"answer_id":46893692,"question_id":5283047,"body_markdown":"In Java 8, I use simple helper methods like this:\r\n\r\n    public static &lt;T&gt; Collection&lt;T&gt; getIntersection(Collection&lt;T&gt; coll1, Collection&lt;T&gt; coll2){\r\n        return Stream.concat(coll1.stream(), coll2.stream())\r\n                .filter(coll1::contains)\r\n                .filter(coll2::contains)\r\n                .collect(Collectors.toSet());\r\n    }\r\n    \r\n    public static &lt;T&gt; Collection&lt;T&gt; getMinus(Collection&lt;T&gt; coll1, Collection&lt;T&gt; coll2){\r\n        return coll1.stream().filter(not(coll2::contains)).collect(Collectors.toSet());\r\n    }\r\n\r\n    public static &lt;T&gt; Predicate&lt;T&gt; not(Predicate&lt;T&gt; t) {\r\n        return t.negate();\r\n    }","title":"Intersection and union of ArrayLists in Java","body":"<p>In Java 8, I use simple helper methods like this:</p>\n\n<pre><code>public static &lt;T&gt; Collection&lt;T&gt; getIntersection(Collection&lt;T&gt; coll1, Collection&lt;T&gt; coll2){\n    return Stream.concat(coll1.stream(), coll2.stream())\n            .filter(coll1::contains)\n            .filter(coll2::contains)\n            .collect(Collectors.toSet());\n}\n\npublic static &lt;T&gt; Collection&lt;T&gt; getMinus(Collection&lt;T&gt; coll1, Collection&lt;T&gt; coll2){\n    return coll1.stream().filter(not(coll2::contains)).collect(Collectors.toSet());\n}\n\npublic static &lt;T&gt; Predicate&lt;T&gt; not(Predicate&lt;T&gt; t) {\n    return t.negate();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6886654,"reputation":2078,"user_id":5291494,"display_name":"xxg"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1512832026,"creation_date":1512832026,"answer_id":47729920,"question_id":5283047,"body_markdown":"You can use commons-collections4 [CollectionUtils][1]\r\n\r\n    Collection&lt;Integer&gt; collection1 = Arrays.asList(1, 2, 4, 5, 7, 8);\r\n    Collection&lt;Integer&gt; collection2 = Arrays.asList(2, 3, 4, 6, 8);\r\n \r\n    Collection&lt;Integer&gt; intersection = CollectionUtils.intersection(collection1, collection2);\r\n    System.out.println(intersection); // [2, 4, 8]\r\n \r\n    Collection&lt;Integer&gt; union = CollectionUtils.union(collection1, collection2);\r\n    System.out.println(union); // [1, 2, 3, 4, 5, 6, 7, 8]\r\n \r\n    Collection&lt;Integer&gt; subtract = CollectionUtils.subtract(collection1, collection2);\r\n    System.out.println(subtract); // [1, 5, 7]\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/CollectionUtils.html","title":"Intersection and union of ArrayLists in Java","body":"<p>You can use commons-collections4 <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/CollectionUtils.html\" rel=\"nofollow noreferrer\">CollectionUtils</a></p>\n\n<pre><code>Collection&lt;Integer&gt; collection1 = Arrays.asList(1, 2, 4, 5, 7, 8);\nCollection&lt;Integer&gt; collection2 = Arrays.asList(2, 3, 4, 6, 8);\n\nCollection&lt;Integer&gt; intersection = CollectionUtils.intersection(collection1, collection2);\nSystem.out.println(intersection); // [2, 4, 8]\n\nCollection&lt;Integer&gt; union = CollectionUtils.union(collection1, collection2);\nSystem.out.println(union); // [1, 2, 3, 4, 5, 6, 7, 8]\n\nCollection&lt;Integer&gt; subtract = CollectionUtils.subtract(collection1, collection2);\nSystem.out.println(subtract); // [1, 5, 7]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1848918,"reputation":31,"user_id":3546425,"display_name":"Dilabeing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537240799,"creation_date":1537194582,"answer_id":52370063,"question_id":5283047,"body_markdown":"After testing, here is my best intersection approach.\r\n\r\nFaster speed compared to pure HashSet Approach. HashSet and HashMap below has similar performance for arrays with more than 1 million records.\r\n\r\nAs for Java 8 Stream approach, speed is quite slow for array size larger then 10k.\r\n\r\nHope this can help.\r\n\r\n\tpublic static List&lt;String&gt; hashMapIntersection(List&lt;String&gt; target, List&lt;String&gt; support) {\r\n\t\tList&lt;String&gt; r = new ArrayList&lt;String&gt;();\r\n\t\tMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n\t\tfor (String s : support) {\r\n\t\t\tmap.put(s, 0);\r\n\t\t}\r\n\t\tfor (String s : target) {\r\n\t\t\tif (map.containsKey(s)) {\r\n\t\t\t\tr.add(s);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn r;\r\n\t}\r\n\tpublic static List&lt;String&gt; hashSetIntersection(List&lt;String&gt; a, List&lt;String&gt; b) {\r\n\t\tLong start = System.currentTimeMillis();\r\n\r\n\t\tList&lt;String&gt; r = new ArrayList&lt;String&gt;();\r\n\t\tSet&lt;String&gt; set = new HashSet&lt;String&gt;(b);\r\n\r\n\t\tfor (String s : a) {\r\n\t\t\tif (set.contains(s)) {\r\n\t\t\t\tr.add(s);\r\n\t\t\t}\r\n\t\t}\r\n\t\tprint(&quot;intersection:&quot; + r.size() + &quot;-&quot; + String.valueOf(System.currentTimeMillis() - start));\r\n\t\treturn r;\r\n\t}\r\n\r\n\tpublic static void union(List&lt;String&gt; a, List&lt;String&gt; b) {\r\n\t\tLong start = System.currentTimeMillis();\r\n\t\tSet&lt;String&gt; r= new HashSet&lt;String&gt;(a);\r\n\t\tr.addAll(b);\r\n\t\tprint(&quot;union:&quot; + r.size() + &quot;-&quot; + String.valueOf(System.currentTimeMillis() - start));\r\n\t}","title":"Intersection and union of ArrayLists in Java","body":"<p>After testing, here is my best intersection approach.</p>\n\n<p>Faster speed compared to pure HashSet Approach. HashSet and HashMap below has similar performance for arrays with more than 1 million records.</p>\n\n<p>As for Java 8 Stream approach, speed is quite slow for array size larger then 10k.</p>\n\n<p>Hope this can help.</p>\n\n<pre><code>public static List&lt;String&gt; hashMapIntersection(List&lt;String&gt; target, List&lt;String&gt; support) {\n    List&lt;String&gt; r = new ArrayList&lt;String&gt;();\n    Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n    for (String s : support) {\n        map.put(s, 0);\n    }\n    for (String s : target) {\n        if (map.containsKey(s)) {\n            r.add(s);\n        }\n    }\n    return r;\n}\npublic static List&lt;String&gt; hashSetIntersection(List&lt;String&gt; a, List&lt;String&gt; b) {\n    Long start = System.currentTimeMillis();\n\n    List&lt;String&gt; r = new ArrayList&lt;String&gt;();\n    Set&lt;String&gt; set = new HashSet&lt;String&gt;(b);\n\n    for (String s : a) {\n        if (set.contains(s)) {\n            r.add(s);\n        }\n    }\n    print(\"intersection:\" + r.size() + \"-\" + String.valueOf(System.currentTimeMillis() - start));\n    return r;\n}\n\npublic static void union(List&lt;String&gt; a, List&lt;String&gt; b) {\n    Long start = System.currentTimeMillis();\n    Set&lt;String&gt; r= new HashSet&lt;String&gt;(a);\n    r.addAll(b);\n    print(\"union:\" + r.size() + \"-\" + String.valueOf(System.currentTimeMillis() - start));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":124772,"reputation":10425,"user_id":320087,"accept_rate":90,"display_name":"Niraj Sonawane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558357811,"creation_date":1558357811,"answer_id":56221695,"question_id":5283047,"body_markdown":"**Intersection of two list of different object based on common key - Java 8** \r\n\r\n     private List&lt;User&gt; intersection(List&lt;User&gt; users, List&lt;OtherUser&gt; list) {\r\n    \r\n            return list.stream()\r\n                    .flatMap(OtherUser -&gt; users.stream()\r\n                            .filter(user -&gt; user.getId()\r\n                                    .equalsIgnoreCase(OtherUser.getId())))\r\n                    .collect(Collectors.toList());\r\n        }","title":"Intersection and union of ArrayLists in Java","body":"<p><strong>Intersection of two list of different object based on common key - Java 8</strong> </p>\n\n<pre><code> private List&lt;User&gt; intersection(List&lt;User&gt; users, List&lt;OtherUser&gt; list) {\n\n        return list.stream()\n                .flatMap(OtherUser -&gt; users.stream()\n                        .filter(user -&gt; user.getId()\n                                .equalsIgnoreCase(OtherUser.getId())))\n                .collect(Collectors.toList());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2648056,"reputation":6847,"user_id":2290369,"accept_rate":80,"display_name":"Ismail Yavuz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578911414,"creation_date":1577263808,"answer_id":59476700,"question_id":5283047,"body_markdown":"    public static &lt;T&gt; Set&lt;T&gt; intersectCollections(Collection&lt;T&gt; col1, Collection&lt;T&gt; col2) {\r\n        Set&lt;T&gt; set1, set2;\r\n        if (col1 instanceof Set) {\r\n            set1 = (Set) col1;\r\n        } else {\r\n            set1 = new HashSet&lt;&gt;(col1);\r\n        }\r\n\r\n        if (col2 instanceof Set) {\r\n            set2 = (Set) col2;\r\n        } else {\r\n            set2 = new HashSet&lt;&gt;(col2);\r\n        }\r\n\r\n        Set&lt;T&gt; intersection = new HashSet&lt;&gt;(Math.min(set1.size(), set2.size()));\r\n\r\n        for (T t : set1) {\r\n            if (set2.contains(t)) {\r\n                intersection.add(t);\r\n            }\r\n        }\r\n\r\n        return intersection;\r\n    }\r\n\r\n\r\n\r\n**JDK8+ (Probably Best Performance)**\r\n\r\n    public static &lt;T&gt; Set&lt;T&gt; intersectCollections(Collection&lt;T&gt; col1, Collection&lt;T&gt; col2) {\r\n        boolean isCol1Larger = col1.size() &gt; col2.size();\r\n        Set&lt;T&gt; largerSet;\r\n        Collection&lt;T&gt; smallerCol;\r\n\r\n        if (isCol1Larger) {\r\n            if (col1 instanceof Set) {\r\n                largerSet = (Set&lt;T&gt;) col1;\r\n            } else {\r\n                largerSet = new HashSet&lt;&gt;(col1);\r\n            }\r\n            smallerCol = col2;\r\n        } else {\r\n            if (col2 instanceof Set) {\r\n                largerSet = (Set&lt;T&gt;) col2;\r\n            } else {\r\n                largerSet = new HashSet&lt;&gt;(col2);\r\n            }\r\n            smallerCol = col1;\r\n        }\r\n\r\n        return smallerCol.stream()\r\n                .filter(largerSet::contains)\r\n                .collect(Collectors.toSet());\r\n    }\r\n\r\n\r\nIf you don&#39;t care about performance and prefer smaller code just use:\r\n\r\n    col1.stream().filter(col2::contains).collect(Collectors.toList());\r\n\r\n","title":"Intersection and union of ArrayLists in Java","body":"<pre><code>public static &lt;T&gt; Set&lt;T&gt; intersectCollections(Collection&lt;T&gt; col1, Collection&lt;T&gt; col2) {\n    Set&lt;T&gt; set1, set2;\n    if (col1 instanceof Set) {\n        set1 = (Set) col1;\n    } else {\n        set1 = new HashSet&lt;&gt;(col1);\n    }\n\n    if (col2 instanceof Set) {\n        set2 = (Set) col2;\n    } else {\n        set2 = new HashSet&lt;&gt;(col2);\n    }\n\n    Set&lt;T&gt; intersection = new HashSet&lt;&gt;(Math.min(set1.size(), set2.size()));\n\n    for (T t : set1) {\n        if (set2.contains(t)) {\n            intersection.add(t);\n        }\n    }\n\n    return intersection;\n}\n</code></pre>\n\n<p><strong>JDK8+ (Probably Best Performance)</strong></p>\n\n<pre><code>public static &lt;T&gt; Set&lt;T&gt; intersectCollections(Collection&lt;T&gt; col1, Collection&lt;T&gt; col2) {\n    boolean isCol1Larger = col1.size() &gt; col2.size();\n    Set&lt;T&gt; largerSet;\n    Collection&lt;T&gt; smallerCol;\n\n    if (isCol1Larger) {\n        if (col1 instanceof Set) {\n            largerSet = (Set&lt;T&gt;) col1;\n        } else {\n            largerSet = new HashSet&lt;&gt;(col1);\n        }\n        smallerCol = col2;\n    } else {\n        if (col2 instanceof Set) {\n            largerSet = (Set&lt;T&gt;) col2;\n        } else {\n            largerSet = new HashSet&lt;&gt;(col2);\n        }\n        smallerCol = col1;\n    }\n\n    return smallerCol.stream()\n            .filter(largerSet::contains)\n            .collect(Collectors.toSet());\n}\n</code></pre>\n\n<p>If you don't care about performance and prefer smaller code just use:</p>\n\n<pre><code>col1.stream().filter(col2::contains).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17569552,"reputation":1,"user_id":12745517,"display_name":"yamini shrestha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579873958,"creation_date":1579873958,"answer_id":59897823,"question_id":5283047,"body_markdown":"retainAll() method use for finding common element..i.e;intersection\r\nlist1.retainAll(list2) ","title":"Intersection and union of ArrayLists in Java","body":"<p>retainAll() method use for finding common element..i.e;intersection\nlist1.retainAll(list2) </p>\n"},{"tags":[],"owner":{"account_id":706860,"reputation":9592,"user_id":601844,"display_name":"epox"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1657491821,"creation_date":1597098199,"answer_id":63348810,"question_id":5283047,"body_markdown":"One-liners since **JAVA 8**\r\n\r\nUnion\r\n=\r\n if there are no duplicates:\r\n--\r\n\r\n      return concat(a.stream(), b.stream()).collect(toList());\r\n\r\nunion and distinct:\r\n--\r\n\r\n      return concat(a.stream(), b.stream()).distinct().collect(toList());\r\n\r\nunion and distinct if Collection/Set return type:\r\n--\r\n\r\n      return concat(a.stream(), b.stream()).collect(toSet());\r\n\r\nIntersect\r\n=\r\nif no duplicates:\r\n--\r\n\r\n      return a.stream().filter(b::contains).collect(toList());\r\n**PERFORMANCE**: If collection `b` is huge and not O(1), then pre-optimize the filter performance by adding 1 line before `return`: Copy to `HasSet` _(`import java.util.Set;`)_:  \r\n&gt; _... b = Set.copyOf(b);_\r\n\r\nintersect and distinct:\r\n--\r\n\r\n      return a.stream().distinct().filter(b::contains).collect(toList());\r\n\r\n*- imports*\r\n--\r\n&gt; _import static java.util.stream.Stream.concat;_   \r\n&gt; _import static java.util.stream.Collectors.toList;_   \r\n&gt; _import static java.util.stream.Collectors.toSet;_","title":"Intersection and union of ArrayLists in Java","body":"<p>One-liners since <strong>JAVA 8</strong></p>\n<h1>Union</h1>\n<h2>if there are no duplicates:</h2>\n<pre><code>  return concat(a.stream(), b.stream()).collect(toList());\n</code></pre>\n<h2>union and distinct:</h2>\n<pre><code>  return concat(a.stream(), b.stream()).distinct().collect(toList());\n</code></pre>\n<h2>union and distinct if Collection/Set return type:</h2>\n<pre><code>  return concat(a.stream(), b.stream()).collect(toSet());\n</code></pre>\n<h1>Intersect</h1>\n<h2>if no duplicates:</h2>\n<pre><code>  return a.stream().filter(b::contains).collect(toList());\n</code></pre>\n<p><strong>PERFORMANCE</strong>: If collection <code>b</code> is huge and not O(1), then pre-optimize the filter performance by adding 1 line before <code>return</code>: Copy to <code>HasSet</code> <em>(<code>import java.util.Set;</code>)</em>:</p>\n<blockquote>\n<p><em>... b = Set.copyOf(b);</em></p>\n</blockquote>\n<h2>intersect and distinct:</h2>\n<pre><code>  return a.stream().distinct().filter(b::contains).collect(toList());\n</code></pre>\n<h2><em>- imports</em></h2>\n<blockquote>\n<p><em>import static java.util.stream.Stream.concat;</em><br />\n<em>import static java.util.stream.Collectors.toList;</em><br />\n<em>import static java.util.stream.Collectors.toSet;</em></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1613382,"reputation":3295,"user_id":1502439,"accept_rate":40,"display_name":"Janac Meena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602704436,"creation_date":1602704436,"answer_id":64360445,"question_id":5283047,"body_markdown":"You can use the methods:\r\n\r\n`CollectionUtils.containsAny` and `CollectionUtils.containsAll`\r\n\r\nfrom [Apache Commons][1]. \r\n\r\n  [1]: \r\nhttp://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections/CollectionUtils.html","title":"Intersection and union of ArrayLists in Java","body":"<p>You can use the methods:</p>\n<p><code>CollectionUtils.containsAny</code> and <code>CollectionUtils.containsAll</code></p>\n<p>from <a href=\"http://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections/CollectionUtils.html\" rel=\"nofollow noreferrer\">Apache Commons</a>.</p>\n"}],"owner":{"account_id":328326,"reputation":5364,"user_id":651216,"accept_rate":65,"display_name":"yotamoo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363329,"favorite_count":0,"down_vote_count":0,"up_vote_count":167,"accepted_answer_id":5283123,"answer_count":24,"score":167,"last_activity_date":1657491821,"creation_date":1299939687,"question_id":5283047,"body_markdown":"Are there any methods to do so? I was looking but couldn&#39;t find any.\r\n\r\nAnother question: I need these methods so I can filter files. \r\nSome are `AND` filters and some are `OR` filters (like in set theory), so I need to filter according to all files and the unite/intersects ArrayLists that holds those files.\r\n\r\nShould I use a different data structure to hold the files? Is there anything else that would offer a better runtime?\r\n","title":"Intersection and union of ArrayLists in Java","body":"<p>Are there any methods to do so? I was looking but couldn't find any.</p>\n\n<p>Another question: I need these methods so I can filter files. \nSome are <code>AND</code> filters and some are <code>OR</code> filters (like in set theory), so I need to filter according to all files and the unite/intersects ArrayLists that holds those files.</p>\n\n<p>Should I use a different data structure to hold the files? Is there anything else that would offer a better runtime?</p>\n"},{"tags":["java","maven","ubuntu"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1657361636,"post_id":72919822,"comment_id":128795675,"body_markdown":"First check the version you are using via `mvn --version` and post the output....","body":"First check the version you are using via <code>mvn --version</code> and post the output...."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1657367270,"post_id":72919822,"comment_id":128796580,"body_markdown":"How did you install and configure Java and Maven?   Does it work if you use the Maven (and JDK) available with `sudo apt install maven`?","body":"How did you install and configure Java and Maven?   Does it work if you use the Maven (and JDK) available with <code>sudo apt install maven</code>?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1657367316,"post_id":72919822,"comment_id":128796586,"body_markdown":"Also, where does the build stall?  Does _anything_ get printed?","body":"Also, where does the build stall?  Does <i>anything</i> get printed?"},{"owner":{"account_id":3298749,"reputation":69,"user_id":2775371,"display_name":"inlineMacro"},"score":0,"creation_date":1657374416,"post_id":72919822,"comment_id":128797807,"body_markdown":"`mvn --version` : same result. Nothing gets printed.","body":"<code>mvn --version</code> : same result. Nothing gets printed."},{"owner":{"account_id":3298749,"reputation":69,"user_id":2775371,"display_name":"inlineMacro"},"score":0,"creation_date":1657374664,"post_id":72919822,"comment_id":128797854,"body_markdown":"`How did you install and configure Java and Maven` : \njava : installed using https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-on-ubuntu-20-04\nmvn installed using : wget and copy manually under /opt and define /etc/environments. But same results with apt-get install maven","body":"<code>How did you install and configure Java and Maven</code> :  java : installed using <a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-on-ubuntu-20-04\" rel=\"nofollow noreferrer\">digitalocean.com/community/tutorials/&hellip;</a> mvn installed using : wget and copy manually under /opt and define /etc/environments. But same results with apt-get install maven"},{"owner":{"account_id":3298749,"reputation":69,"user_id":2775371,"display_name":"inlineMacro"},"score":0,"creation_date":1657374707,"post_id":72919822,"comment_id":128797859,"body_markdown":"`Does anything get printed` : NOthing gets printed.","body":"<code>Does anything get printed</code> : NOthing gets printed."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1657467389,"post_id":72919822,"comment_id":128811859,"body_markdown":"If `mvn —version` does not work, your JVM may be broken.  Does `java` and `java -version` work?","body":"If <code>mvn —version</code> does not work, your JVM may be broken.  Does <code>java</code> and <code>java -version</code> work?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1657467484,"post_id":72919822,"comment_id":128811880,"body_markdown":"Do you have a MAVEN_OPTS environment variable defined? Can you run a small HelloWorld.java program?","body":"Do you have a MAVEN_OPTS environment variable defined? Can you run a small HelloWorld.java program?"},{"owner":{"account_id":3298749,"reputation":69,"user_id":2775371,"display_name":"inlineMacro"},"score":0,"creation_date":1657468401,"post_id":72919822,"comment_id":128812098,"body_markdown":"&#39;Do you have a MAVEN_OPTS environment variable defined&#39;\n@Thorbj&#248;rnRavnAndersen\n\n\n[genrica@genrica:/buildstore/my-app/src/main/java$ javac com/mycompany/app/App.java]\n\n[genrica@genrica:/buildstore/my-app/src/main/java$ java com.mycompany.app.App]\nHello World!`        \n\n`genrica@genrica:/buildstore/my-app/src/main/java$ echo $M2_HOME\n/opt/apache-maven-3.6.3`         \n\n`genrica@genrica:/buildstore/my-app/src/main/java$ echo $M2\n$M2_HOME/bin`        \n \n`genrica@genrica:/buildstore/my-app/src/main/java$ which mvn\n/usr/bin/mvn`","body":"&#39;Do you have a MAVEN_OPTS environment variable defined&#39; @Thorbj&#248;rnRavnAndersen   [genrica@genrica:/buildstore/my-app/src/main/java$ javac com/mycompany/app/App.java]  [genrica@genrica:/buildstore/my-app/src/main/java$ java com.mycompany.app.App] Hello World!`          <code>genrica@genrica:&#47;buildstore&#47;my-app&#47;src&#47;main&#47;java$ echo $M2_HOME &#47;opt&#47;apache-maven-3.6.3</code>           <code>genrica@genrica:&#47;buildstore&#47;my-app&#47;src&#47;main&#47;java$ echo $M2 $M2_HOME&#47;bin</code>           <code>genrica@genrica:&#47;buildstore&#47;my-app&#47;src&#47;main&#47;java$ which mvn &#47;usr&#47;bin&#47;mvn</code>"},{"owner":{"account_id":3298749,"reputation":69,"user_id":2775371,"display_name":"inlineMacro"},"score":0,"creation_date":1657474348,"post_id":72919822,"comment_id":128813329,"body_markdown":"@Thorbj&#248;rnRavnAndersen\n\n[echo $MAVEN_OPTS]\n\n-Xmx2048m -Xms256m","body":"@Thorbj&#248;rnRavnAndersen  [echo $MAVEN_OPTS]  -Xmx2048m -Xms256m"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1657513210,"post_id":72919822,"comment_id":128819028,"body_markdown":"This is most likely the reason. Why did you set it to this value?","body":"This is most likely the reason. Why did you set it to this value?"}],"answers":[{"tags":[],"owner":{"account_id":3298749,"reputation":69,"user_id":2775371,"display_name":"inlineMacro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657491693,"creation_date":1657491693,"answer_id":72932259,"question_id":72919822,"body_markdown":"I gave up trying out as this took lot of time but no results.\r\n\r\nNow i installed ubuntu ubuntu-22.04-desktop-amd64.iso instead of a server iso. After that i installed default-jre-11-headless followed by apt-get install maven.\r\n\r\nNow all mvn command works as it is supposed to be. \r\njava version : openjdk version &quot;11.0.15&quot; 2022-04-19\r\n\r\nmvn version : Apache Maven 3.6.3\r\n","title":"How to unblock as mvn cli stuck indefinitely on ubuntu?","body":"<p>I gave up trying out as this took lot of time but no results.</p>\n<p>Now i installed ubuntu ubuntu-22.04-desktop-amd64.iso instead of a server iso. After that i installed default-jre-11-headless followed by apt-get install maven.</p>\n<p>Now all mvn command works as it is supposed to be.\njava version : openjdk version &quot;11.0.15&quot; 2022-04-19</p>\n<p>mvn version : Apache Maven 3.6.3</p>\n"}],"owner":{"account_id":3298749,"reputation":69,"user_id":2775371,"display_name":"inlineMacro"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1657491693,"creation_date":1657353071,"question_id":72919822,"body_markdown":"maven command executed : mvn clean install -X\r\n\r\nCombination of java and maven tried on both ubuntu 20.04 and ubuntu 16.04:\r\n\r\n 1. mvn:3.6.3 &amp;&amp; java 11.0.*\r\n 2. mvn:3.6.3 &amp;&amp; java 17.0.*  \r\n 3. mvn 3.8.6 &amp;&amp; java 17.0.*\r\n\r\nIt is a simple hello world project which compiles normally on a windows 10. There is no problem with java as i am able to run the windows generated jar in ubuntu without any issue.\r\n\r\nGetting thread dump is difficult as the jcmd or jstack return after few seconds with failure to connect with the jvm. BUt managed to get this one from multiple attempts.\r\n\r\n\r\n    &gt; 2022-07-09 05:38:30 Full thread dump Java HotSpot(TM) 64-Bit Server VM\r\n    &gt; (17.0.1+12-LTS-39 mixed mode, sharing):\r\n    &gt; \r\n    &gt; Threads class SMR info:\r\n    &gt; _java_thread_list=0x00007ff544157400, length=13, elements={ 0x00007ff59c023aa0, 0x00007ff59c163600, 0x00007ff59c1649e0,\r\n    &gt; 0x00007ff59c16c910, 0x00007ff59c16dcc0, 0x00007ff59c16f0d0,\r\n    &gt; 0x00007ff59c170a80, 0x00007ff59c171fb0, 0x00007ff59c173420,\r\n    &gt; 0x00007ff59c19aae0, 0x00007ff59c19e4b0, 0x00007ff554000d30,\r\n    &gt; 0x00007ff544156560 }\r\n    &gt; \r\n    &gt; &quot;main&quot; #1 prio=5 os_prio=0 cpu=9513.35ms elapsed=10.10s\r\n    &gt; tid=0x00007ff59c023aa0 nid=0xb5f runnable  [0x00007ff5a1d53000]   \r\n    &gt; java.lang.Thread.State: RUNNABLE\r\n    &gt;         at org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor.interpolate(StringVisitorModelInterpolator.java:1455)\r\n    &gt;         at org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor.visit(StringVisitorModelInterpolator.java:789)\r\n    &gt;         at org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor.visit(StringVisitorModelInterpolator.java:664)\r\n    &gt;         at org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor.visit(StringVisitorModelInterpolator.java:621)\r\n    &gt;         at org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor.visit(StringVisitorModelInterpolator.java:675)\r\n    &gt;         at org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor.visit(StringVisitorModelInterpolator.java:264)\r\n    &gt;         at org.apache.maven.model.interpolation.StringVisitorModelInterpolator.interpolateModel(StringVisitorModelInterpolator.java:107)\r\n    &gt;         at org.apache.maven.model.building.DefaultModelBuilder.interpolateModel(DefaultModelBuilder.java:859)\r\n    &gt;         at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:417)\r\n    &gt;         at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:267)\r\n    &gt;         at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:293)\r\n    &gt;         at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.readArtifactDescriptor(DefaultArtifactDescriptorReader.java:171)\r\n    &gt;         at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.resolveCachedArtifactDescriptor(DefaultDependencyCollector.java:538)\r\n    &gt;         at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.getArtifactDescriptorResult(DefaultDependencyCollector.java:523)\r\n    &gt;         at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency(DefaultDependencyCollector.java:410)\r\n    &gt;         at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency(DefaultDependencyCollector.java:362)\r\n    &gt;         at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process(DefaultDependencyCollector.java:349)\r\n    &gt;         at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.doRecurse(DefaultDependencyCollector.java:506)\r\n    &gt;         at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency(DefaultDependencyCollector.java:458)\r\n    &gt;         at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency(DefaultDependencyCollector.java:362)\r\n    &gt;         at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process(DefaultDependencyCollector.java:349)\r\n    &gt;         at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.collectDependencies(DefaultDependencyCollector.java:254)\r\n    &gt;         at org.eclipse.aether.internal.impl.DefaultRepositorySystem.collectDependencies(DefaultRepositorySystem.java:284)\r\n    &gt;         at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolveInternal(DefaultPluginDependenciesResolver.java:218)\r\n    &gt;         at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolve(DefaultPluginDependenciesResolver.java:165)\r\n    &gt;         at org.apache.maven.plugin.internal.DefaultMavenPluginManager.createPluginRealm(DefaultMavenPluginManager.java:404)\r\n    &gt;         at org.apache.maven.plugin.internal.DefaultMavenPluginManager.setupPluginRealm(DefaultMavenPluginManager.java:374)\r\n    &gt;         - locked &lt;0x000000008e8fa010&gt; (a org.apache.maven.plugin.internal.DefaultMavenPluginManager)\r\n    &gt;         at org.apache.maven.plugin.DefaultBuildPluginManager.getPluginRealm(DefaultBuildPluginManager.java:234)\r\n    &gt;         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:105)\r\n    &gt;         at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:370)\r\n    &gt;         at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:351)\r\n    &gt;         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:215)\r\n    &gt;         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:171)\r\n    &gt;         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:163)\r\n    &gt;         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n    &gt;         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n    &gt;         at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n    &gt;         at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    &gt;         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:294)\r\n    &gt;         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n    &gt;         at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n    &gt;         at org.apache.maven.cli.MavenCli.execute(MavenCli.java:960)\r\n    &gt;         at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:293)\r\n    &gt;         at org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\r\n    &gt;         at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(java.base@17.0.1/Native\r\n    &gt; Method)\r\n    &gt;         at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(java.base@17.0.1/NativeMethodAccessorImpl.java:77)\r\n    &gt;         at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(java.base@17.0.1/DelegatingMethodAccessorImpl.java:43)\r\n    &gt;         at java.lang.reflect.Method.invoke(java.base@17.0.1/Method.java:568)\r\n    &gt;         at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n    &gt;         at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n    &gt;         at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n    &gt;         at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n    &gt; \r\n    &gt; &quot;Reference Handler&quot; #2 daemon prio=10 os_prio=0 cpu=3.11ms\r\n    &gt; elapsed=9.67s tid=0x00007ff59c163600 nid=0xb66 waiting on condition \r\n    &gt; [0x00007ff581513000]    java.lang.Thread.State: RUNNABLE\r\n    &gt;         at java.lang.ref.Reference.waitForReferencePendingList(java.base@17.0.1/Native\r\n    &gt; Method)\r\n    &gt;         at java.lang.ref.Reference.processPendingReferences(java.base@17.0.1/Reference.java:253)\r\n    &gt;         at java.lang.ref.Reference$ReferenceHandler.run(java.base@17.0.1/Reference.java:215)\r\n    &gt; \r\n    &gt; &quot;Finalizer&quot; #3 daemon prio=8 os_prio=0 cpu=3.99ms elapsed=9.67s\r\n    &gt; tid=0x00007ff59c1649e0 nid=0xb67 in Object.wait() \r\n    &gt; [0x00007ff580bfe000]    java.lang.Thread.State: WAITING (on object\r\n    &gt; monitor)\r\n    &gt;         at java.lang.Object.wait(java.base@17.0.1/Native Method)\r\n    &gt;         - waiting on &lt;0x0000000080084688&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n    &gt;         at java.lang.ref.ReferenceQueue.remove(java.base@17.0.1/ReferenceQueue.java:155)\r\n    &gt;         - locked &lt;0x0000000080084688&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n    &gt;         at java.lang.ref.ReferenceQueue.remove(java.base@17.0.1/ReferenceQueue.java:176)\r\n    &gt;         at java.lang.ref.Finalizer$FinalizerThread.run(java.base@17.0.1/Finalizer.java:172)\r\n    &gt; \r\n    &gt; &quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=0 cpu=3.25ms\r\n    &gt; elapsed=9.62s tid=0x00007ff59c16c910 nid=0xb68 waiting on condition \r\n    &gt; [0x0000000000000000]    java.lang.Thread.State: RUNNABLE\r\n    &gt; \r\n    &gt; &quot;Service Thread&quot; #5 daemon prio=9 os_prio=0 cpu=2.11ms elapsed=9.61s\r\n    &gt; tid=0x00007ff59c16dcc0 nid=0xb69 runnable  [0x0000000000000000]   \r\n    &gt; java.lang.Thread.State: RUNNABLE\r\n    &gt; \r\n    &gt; &quot;Monitor Deflation Thread&quot; #6 daemon prio=9 os_prio=0 cpu=1.28ms\r\n    &gt; elapsed=9.61s tid=0x00007ff59c16f0d0 nid=0xb6a runnable \r\n    &gt; [0x0000000000000000]    java.lang.Thread.State: RUNNABLE\r\n    &gt; \r\n    &gt; &quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=6674.30ms\r\n    &gt; elapsed=9.61s tid=0x00007ff59c170a80 nid=0xb6b runnable \r\n    &gt; [0x0000000000000000]    java.lang.Thread.State: RUNNABLE    Compiling:\r\n    &gt; 2307   !   4      \r\n    &gt; org.apache.maven.model.interpolation.StringVisitorModelInterpolator$1::interpolate\r\n    &gt; (97 bytes)\r\n    &gt; \r\n    &gt; &quot;C1 CompilerThread0&quot; #9 daemon prio=9 os_prio=0 cpu=5473.14ms\r\n    &gt; elapsed=9.61s tid=0x00007ff59c171fb0 nid=0xb6c runnable \r\n    &gt; [0x0000000000000000]    java.lang.Thread.State: RUNNABLE    Compiling:\r\n    &gt; 2309       3      \r\n    &gt; org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor::visit\r\n    &gt; (205 bytes)\r\n    &gt; \r\n    &gt; &quot;Sweeper thread&quot; #10 daemon prio=9 os_prio=0 cpu=0.36ms elapsed=9.61s\r\n    &gt; tid=0x00007ff59c173420 nid=0xb6d runnable  [0x0000000000000000]   \r\n    &gt; java.lang.Thread.State: RUNNABLE\r\n    &gt; \r\n    &gt; &quot;Notification Thread&quot; #11 daemon prio=9 os_prio=0 cpu=0.55ms\r\n    &gt; elapsed=9.58s tid=0x00007ff59c19aae0 nid=0xb6e runnable \r\n    &gt; [0x0000000000000000]    java.lang.Thread.State: RUNNABLE\r\n    &gt; \r\n    &gt; &quot;Common-Cleaner&quot; #12 daemon prio=8 os_prio=0 cpu=2.51ms elapsed=9.55s\r\n    &gt; tid=0x00007ff59c19e4b0 nid=0xb70 in Object.wait() \r\n    &gt; [0x00007ff571dfb000]    java.lang.Thread.State: TIMED_WAITING (on\r\n    &gt; object monitor)\r\n    &gt;         at java.lang.Object.wait(java.base@17.0.1/Native Method)\r\n    &gt;         - waiting on &lt;0x0000000080084940&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n    &gt;         at java.lang.ref.ReferenceQueue.remove(java.base@17.0.1/ReferenceQueue.java:155)\r\n    &gt;         - locked &lt;0x0000000080084940&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n    &gt;         at jdk.internal.ref.CleanerImpl.run(java.base@17.0.1/CleanerImpl.java:140)\r\n    &gt;         at java.lang.Thread.run(java.base@17.0.1/Thread.java:833)\r\n    &gt;         at jdk.internal.misc.InnocuousThread.run(java.base@17.0.1/InnocuousThread.java:162)\r\n    &gt; \r\n    &gt; &quot;Attach Listener&quot; #15 daemon prio=9 os_prio=0 cpu=7.79ms elapsed=0.11s\r\n    &gt; tid=0x00007ff554000d30 nid=0xb8e waiting on condition \r\n    &gt; [0x0000000000000000]    java.lang.Thread.State: RUNNABLE\r\n    &gt; \r\n    &gt; &quot;C2 CompilerThread1&quot; #8 daemon prio=9 os_prio=0 cpu=46.73ms\r\n    &gt; elapsed=0.06s tid=0x00007ff544156560 nid=0xb8f runnable \r\n    &gt; [0x0000000000000000]    java.lang.Thread.State: RUNNABLE    Compiling:\r\n    &gt; 2273       4      \r\n    &gt; org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor::interpolate\r\n    &gt; (11 bytes)\r\n    &gt; \r\n    &gt; &quot;VM Thread&quot; os_prio=0 cpu=43.68ms elapsed=9.72s tid=0x00007ff59c15f740\r\n    &gt; nid=0xb65 runnable\r\n    &gt; \r\n    &gt; &quot;GC Thread#0&quot; os_prio=0 cpu=29.09ms elapsed=9.89s\r\n    &gt; tid=0x00007ff59c062d30 nid=0xb60 runnable\r\n    &gt; \r\n    &gt; &quot;GC Thread#1&quot; os_prio=0 cpu=26.29ms elapsed=7.01s\r\n    &gt; tid=0x00007ff568005040 nid=0xb74 runnable\r\n    &gt; \r\n    &gt; &quot;GC Thread#2&quot; os_prio=0 cpu=22.81ms elapsed=7.01s\r\n    &gt; tid=0x00007ff568005a70 nid=0xb75 runnable\r\n    &gt; \r\n    &gt; &quot;GC Thread#3&quot; os_prio=0 cpu=29.35ms elapsed=7.00s\r\n    &gt; tid=0x00007ff5680064a0 nid=0xb76 runnable\r\n    &gt; \r\n    &gt; &quot;G1 Main Marker&quot; os_prio=0 cpu=0.51ms elapsed=9.88s\r\n    &gt; tid=0x00007ff59c074310 nid=0xb61 runnable\r\n    &gt; \r\n    &gt; &quot;G1 Conc#0&quot; os_prio=0 cpu=0.39ms elapsed=9.88s tid=0x00007ff59c075270\r\n    &gt; nid=0xb62 runnable\r\n    &gt; \r\n    &gt; &quot;G1 Refine#0&quot; os_prio=0 cpu=0.85ms elapsed=9.86s\r\n    &gt; tid=0x00007ff59c1313e0 nid=0xb63 runnable\r\n    &gt; \r\n    &gt; &quot;G1 Service&quot; os_prio=0 cpu=7.63ms elapsed=9.86s tid=0x00007ff59c1322d0\r\n    &gt; nid=0xb64 runnable\r\n    &gt; \r\n    &gt; &quot;VM Periodic Task Thread&quot; os_prio=0 cpu=19.55ms elapsed=9.57s\r\n    &gt; tid=0x00007ff59c19c690 nid=0xb6f waiting on condition\r\n    &gt; \r\n    &gt; JNI global refs: 11, weak refs: 9\r\n\r\n","title":"How to unblock as mvn cli stuck indefinitely on ubuntu?","body":"<p>maven command executed : mvn clean install -X</p>\n<p>Combination of java and maven tried on both ubuntu 20.04 and ubuntu 16.04:</p>\n<ol>\n<li>mvn:3.6.3 &amp;&amp; java 11.0.*</li>\n<li>mvn:3.6.3 &amp;&amp; java 17.0.*</li>\n<li>mvn 3.8.6 &amp;&amp; java 17.0.*</li>\n</ol>\n<p>It is a simple hello world project which compiles normally on a windows 10. There is no problem with java as i am able to run the windows generated jar in ubuntu without any issue.</p>\n<p>Getting thread dump is difficult as the jcmd or jstack return after few seconds with failure to connect with the jvm. BUt managed to get this one from multiple attempts.</p>\n<pre><code>&gt; 2022-07-09 05:38:30 Full thread dump Java HotSpot(TM) 64-Bit Server VM\n&gt; (17.0.1+12-LTS-39 mixed mode, sharing):\n&gt; \n&gt; Threads class SMR info:\n&gt; _java_thread_list=0x00007ff544157400, length=13, elements={ 0x00007ff59c023aa0, 0x00007ff59c163600, 0x00007ff59c1649e0,\n&gt; 0x00007ff59c16c910, 0x00007ff59c16dcc0, 0x00007ff59c16f0d0,\n&gt; 0x00007ff59c170a80, 0x00007ff59c171fb0, 0x00007ff59c173420,\n&gt; 0x00007ff59c19aae0, 0x00007ff59c19e4b0, 0x00007ff554000d30,\n&gt; 0x00007ff544156560 }\n&gt; \n&gt; &quot;main&quot; #1 prio=5 os_prio=0 cpu=9513.35ms elapsed=10.10s\n&gt; tid=0x00007ff59c023aa0 nid=0xb5f runnable  [0x00007ff5a1d53000]   \n&gt; java.lang.Thread.State: RUNNABLE\n&gt;         at org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor.interpolate(StringVisitorModelInterpolator.java:1455)\n&gt;         at org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor.visit(StringVisitorModelInterpolator.java:789)\n&gt;         at org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor.visit(StringVisitorModelInterpolator.java:664)\n&gt;         at org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor.visit(StringVisitorModelInterpolator.java:621)\n&gt;         at org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor.visit(StringVisitorModelInterpolator.java:675)\n&gt;         at org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor.visit(StringVisitorModelInterpolator.java:264)\n&gt;         at org.apache.maven.model.interpolation.StringVisitorModelInterpolator.interpolateModel(StringVisitorModelInterpolator.java:107)\n&gt;         at org.apache.maven.model.building.DefaultModelBuilder.interpolateModel(DefaultModelBuilder.java:859)\n&gt;         at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:417)\n&gt;         at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:267)\n&gt;         at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:293)\n&gt;         at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.readArtifactDescriptor(DefaultArtifactDescriptorReader.java:171)\n&gt;         at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.resolveCachedArtifactDescriptor(DefaultDependencyCollector.java:538)\n&gt;         at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.getArtifactDescriptorResult(DefaultDependencyCollector.java:523)\n&gt;         at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency(DefaultDependencyCollector.java:410)\n&gt;         at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency(DefaultDependencyCollector.java:362)\n&gt;         at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process(DefaultDependencyCollector.java:349)\n&gt;         at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.doRecurse(DefaultDependencyCollector.java:506)\n&gt;         at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency(DefaultDependencyCollector.java:458)\n&gt;         at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency(DefaultDependencyCollector.java:362)\n&gt;         at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process(DefaultDependencyCollector.java:349)\n&gt;         at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.collectDependencies(DefaultDependencyCollector.java:254)\n&gt;         at org.eclipse.aether.internal.impl.DefaultRepositorySystem.collectDependencies(DefaultRepositorySystem.java:284)\n&gt;         at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolveInternal(DefaultPluginDependenciesResolver.java:218)\n&gt;         at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolve(DefaultPluginDependenciesResolver.java:165)\n&gt;         at org.apache.maven.plugin.internal.DefaultMavenPluginManager.createPluginRealm(DefaultMavenPluginManager.java:404)\n&gt;         at org.apache.maven.plugin.internal.DefaultMavenPluginManager.setupPluginRealm(DefaultMavenPluginManager.java:374)\n&gt;         - locked &lt;0x000000008e8fa010&gt; (a org.apache.maven.plugin.internal.DefaultMavenPluginManager)\n&gt;         at org.apache.maven.plugin.DefaultBuildPluginManager.getPluginRealm(DefaultBuildPluginManager.java:234)\n&gt;         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:105)\n&gt;         at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:370)\n&gt;         at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:351)\n&gt;         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:215)\n&gt;         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:171)\n&gt;         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:163)\n&gt;         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n&gt;         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n&gt;         at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n&gt;         at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n&gt;         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:294)\n&gt;         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n&gt;         at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n&gt;         at org.apache.maven.cli.MavenCli.execute(MavenCli.java:960)\n&gt;         at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:293)\n&gt;         at org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\n&gt;         at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(java.base@17.0.1/Native\n&gt; Method)\n&gt;         at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(java.base@17.0.1/NativeMethodAccessorImpl.java:77)\n&gt;         at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(java.base@17.0.1/DelegatingMethodAccessorImpl.java:43)\n&gt;         at java.lang.reflect.Method.invoke(java.base@17.0.1/Method.java:568)\n&gt;         at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n&gt;         at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n&gt;         at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n&gt;         at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n&gt; \n&gt; &quot;Reference Handler&quot; #2 daemon prio=10 os_prio=0 cpu=3.11ms\n&gt; elapsed=9.67s tid=0x00007ff59c163600 nid=0xb66 waiting on condition \n&gt; [0x00007ff581513000]    java.lang.Thread.State: RUNNABLE\n&gt;         at java.lang.ref.Reference.waitForReferencePendingList(java.base@17.0.1/Native\n&gt; Method)\n&gt;         at java.lang.ref.Reference.processPendingReferences(java.base@17.0.1/Reference.java:253)\n&gt;         at java.lang.ref.Reference$ReferenceHandler.run(java.base@17.0.1/Reference.java:215)\n&gt; \n&gt; &quot;Finalizer&quot; #3 daemon prio=8 os_prio=0 cpu=3.99ms elapsed=9.67s\n&gt; tid=0x00007ff59c1649e0 nid=0xb67 in Object.wait() \n&gt; [0x00007ff580bfe000]    java.lang.Thread.State: WAITING (on object\n&gt; monitor)\n&gt;         at java.lang.Object.wait(java.base@17.0.1/Native Method)\n&gt;         - waiting on &lt;0x0000000080084688&gt; (a java.lang.ref.ReferenceQueue$Lock)\n&gt;         at java.lang.ref.ReferenceQueue.remove(java.base@17.0.1/ReferenceQueue.java:155)\n&gt;         - locked &lt;0x0000000080084688&gt; (a java.lang.ref.ReferenceQueue$Lock)\n&gt;         at java.lang.ref.ReferenceQueue.remove(java.base@17.0.1/ReferenceQueue.java:176)\n&gt;         at java.lang.ref.Finalizer$FinalizerThread.run(java.base@17.0.1/Finalizer.java:172)\n&gt; \n&gt; &quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=0 cpu=3.25ms\n&gt; elapsed=9.62s tid=0x00007ff59c16c910 nid=0xb68 waiting on condition \n&gt; [0x0000000000000000]    java.lang.Thread.State: RUNNABLE\n&gt; \n&gt; &quot;Service Thread&quot; #5 daemon prio=9 os_prio=0 cpu=2.11ms elapsed=9.61s\n&gt; tid=0x00007ff59c16dcc0 nid=0xb69 runnable  [0x0000000000000000]   \n&gt; java.lang.Thread.State: RUNNABLE\n&gt; \n&gt; &quot;Monitor Deflation Thread&quot; #6 daemon prio=9 os_prio=0 cpu=1.28ms\n&gt; elapsed=9.61s tid=0x00007ff59c16f0d0 nid=0xb6a runnable \n&gt; [0x0000000000000000]    java.lang.Thread.State: RUNNABLE\n&gt; \n&gt; &quot;C2 CompilerThread0&quot; #7 daemon prio=9 os_prio=0 cpu=6674.30ms\n&gt; elapsed=9.61s tid=0x00007ff59c170a80 nid=0xb6b runnable \n&gt; [0x0000000000000000]    java.lang.Thread.State: RUNNABLE    Compiling:\n&gt; 2307   !   4      \n&gt; org.apache.maven.model.interpolation.StringVisitorModelInterpolator$1::interpolate\n&gt; (97 bytes)\n&gt; \n&gt; &quot;C1 CompilerThread0&quot; #9 daemon prio=9 os_prio=0 cpu=5473.14ms\n&gt; elapsed=9.61s tid=0x00007ff59c171fb0 nid=0xb6c runnable \n&gt; [0x0000000000000000]    java.lang.Thread.State: RUNNABLE    Compiling:\n&gt; 2309       3      \n&gt; org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor::visit\n&gt; (205 bytes)\n&gt; \n&gt; &quot;Sweeper thread&quot; #10 daemon prio=9 os_prio=0 cpu=0.36ms elapsed=9.61s\n&gt; tid=0x00007ff59c173420 nid=0xb6d runnable  [0x0000000000000000]   \n&gt; java.lang.Thread.State: RUNNABLE\n&gt; \n&gt; &quot;Notification Thread&quot; #11 daemon prio=9 os_prio=0 cpu=0.55ms\n&gt; elapsed=9.58s tid=0x00007ff59c19aae0 nid=0xb6e runnable \n&gt; [0x0000000000000000]    java.lang.Thread.State: RUNNABLE\n&gt; \n&gt; &quot;Common-Cleaner&quot; #12 daemon prio=8 os_prio=0 cpu=2.51ms elapsed=9.55s\n&gt; tid=0x00007ff59c19e4b0 nid=0xb70 in Object.wait() \n&gt; [0x00007ff571dfb000]    java.lang.Thread.State: TIMED_WAITING (on\n&gt; object monitor)\n&gt;         at java.lang.Object.wait(java.base@17.0.1/Native Method)\n&gt;         - waiting on &lt;0x0000000080084940&gt; (a java.lang.ref.ReferenceQueue$Lock)\n&gt;         at java.lang.ref.ReferenceQueue.remove(java.base@17.0.1/ReferenceQueue.java:155)\n&gt;         - locked &lt;0x0000000080084940&gt; (a java.lang.ref.ReferenceQueue$Lock)\n&gt;         at jdk.internal.ref.CleanerImpl.run(java.base@17.0.1/CleanerImpl.java:140)\n&gt;         at java.lang.Thread.run(java.base@17.0.1/Thread.java:833)\n&gt;         at jdk.internal.misc.InnocuousThread.run(java.base@17.0.1/InnocuousThread.java:162)\n&gt; \n&gt; &quot;Attach Listener&quot; #15 daemon prio=9 os_prio=0 cpu=7.79ms elapsed=0.11s\n&gt; tid=0x00007ff554000d30 nid=0xb8e waiting on condition \n&gt; [0x0000000000000000]    java.lang.Thread.State: RUNNABLE\n&gt; \n&gt; &quot;C2 CompilerThread1&quot; #8 daemon prio=9 os_prio=0 cpu=46.73ms\n&gt; elapsed=0.06s tid=0x00007ff544156560 nid=0xb8f runnable \n&gt; [0x0000000000000000]    java.lang.Thread.State: RUNNABLE    Compiling:\n&gt; 2273       4      \n&gt; org.apache.maven.model.interpolation.StringVisitorModelInterpolator$ModelVisitor::interpolate\n&gt; (11 bytes)\n&gt; \n&gt; &quot;VM Thread&quot; os_prio=0 cpu=43.68ms elapsed=9.72s tid=0x00007ff59c15f740\n&gt; nid=0xb65 runnable\n&gt; \n&gt; &quot;GC Thread#0&quot; os_prio=0 cpu=29.09ms elapsed=9.89s\n&gt; tid=0x00007ff59c062d30 nid=0xb60 runnable\n&gt; \n&gt; &quot;GC Thread#1&quot; os_prio=0 cpu=26.29ms elapsed=7.01s\n&gt; tid=0x00007ff568005040 nid=0xb74 runnable\n&gt; \n&gt; &quot;GC Thread#2&quot; os_prio=0 cpu=22.81ms elapsed=7.01s\n&gt; tid=0x00007ff568005a70 nid=0xb75 runnable\n&gt; \n&gt; &quot;GC Thread#3&quot; os_prio=0 cpu=29.35ms elapsed=7.00s\n&gt; tid=0x00007ff5680064a0 nid=0xb76 runnable\n&gt; \n&gt; &quot;G1 Main Marker&quot; os_prio=0 cpu=0.51ms elapsed=9.88s\n&gt; tid=0x00007ff59c074310 nid=0xb61 runnable\n&gt; \n&gt; &quot;G1 Conc#0&quot; os_prio=0 cpu=0.39ms elapsed=9.88s tid=0x00007ff59c075270\n&gt; nid=0xb62 runnable\n&gt; \n&gt; &quot;G1 Refine#0&quot; os_prio=0 cpu=0.85ms elapsed=9.86s\n&gt; tid=0x00007ff59c1313e0 nid=0xb63 runnable\n&gt; \n&gt; &quot;G1 Service&quot; os_prio=0 cpu=7.63ms elapsed=9.86s tid=0x00007ff59c1322d0\n&gt; nid=0xb64 runnable\n&gt; \n&gt; &quot;VM Periodic Task Thread&quot; os_prio=0 cpu=19.55ms elapsed=9.57s\n&gt; tid=0x00007ff59c19c690 nid=0xb6f waiting on condition\n&gt; \n&gt; JNI global refs: 11, weak refs: 9\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":326404,"reputation":1584,"user_id":648157,"accept_rate":96,"display_name":"Naveen Babu"},"score":1,"creation_date":1323864070,"post_id":8504074,"comment_id":10525737,"body_markdown":"when u have 2 methods with different signature, you could write separate test case for both.","body":"when u have 2 methods with different signature, you could write separate test case for both."},{"owner":{"account_id":367127,"reputation":15366,"user_id":713106,"accept_rate":100,"display_name":"Brad"},"score":9,"creation_date":1323869454,"post_id":8504074,"comment_id":10527462,"body_markdown":"Yes, but in this case its the same method signature but just different argument values","body":"Yes, but in this case its the same method signature but just different argument values"},{"owner":{"account_id":21945,"reputation":1757,"user_id":53732,"accept_rate":58,"display_name":"takacsot"},"score":0,"creation_date":1558342474,"post_id":8504074,"comment_id":99055392,"body_markdown":"you could make try to use `Mockito.reset()`","body":"you could make try to use <code>Mockito.reset()</code>"}],"answers":[{"tags":[],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"down_vote_count":3,"up_vote_count":29,"is_accepted":false,"score":26,"last_activity_date":1323873922,"creation_date":1323864711,"answer_id":8504240,"question_id":8504074,"body_markdown":"Try something like this:\r\n\r\n    verify(errors, times(2))\r\n         .add(AdditionalMatchers.or(eq(&quot;exception.message&quot;), eq(&quot;exception.detail&quot;)),\r\n              any(ActionError.class));","title":"How to verify multiple method calls with different params","body":"<p>Try something like this:</p>\n\n<pre><code>verify(errors, times(2))\n     .add(AdditionalMatchers.or(eq(\"exception.message\"), eq(\"exception.detail\")),\n          any(ActionError.class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1323939834,"creation_date":1323871112,"answer_id":8505679,"question_id":8504074,"body_markdown":"you probably have a problem in your code. Because as a matter of fact you actually write this code:\r\n\r\n    Map&lt;Character, String&gt; map = mock(Map.class);\r\n\r\n    map.put(&#39;a&#39;, &quot;a&quot;);\r\n    map.put(&#39;b&#39;, &quot;b&quot;);\r\n    map.put(&#39;c&#39;, &quot;c&quot;);\r\n\r\n    verify(map).put(eq(&#39;c&#39;), anyString());\r\n    verify(map).put(eq(&#39;a&#39;), anyString());\r\n    verify(map).put(eq(&#39;b&#39;), anyString());\r\n\r\nNote the first verify is not even in order in regard of the actual invocations.\r\n\r\n\r\nAlso, I would recommand you to actually don&#39;t mock types you don&#39;t own, eg the struts type.\r\n\r\n**[EDIT @Brad]**\r\n\r\nAfter running Brice&#39;s code (above) in my IDE I can see that I have used ActionError instead of ActionMessage, so that is why my verify() was not matching. The error message I initially posted was misleading me into thinking it was the first argument that was not matching. It turns out it was the second argument.\r\n\r\nSo the answer to my question is\r\n\r\n    /** \r\n     * note that ActionMessageFactory.createErrorMessage() returns ActionMessage\r\n     * and ActionError extends ActionMessage\r\n     */\r\n    verify(errors).add(eq(&quot;exception.message&quot;), any(ActionMessage.class));\r\n    verify(errors).add(eq(&quot;exception.detail&quot;), any(ActionMessage.class));","title":"How to verify multiple method calls with different params","body":"<p>you probably have a problem in your code. Because as a matter of fact you actually write this code:</p>\n\n<pre><code>Map&lt;Character, String&gt; map = mock(Map.class);\n\nmap.put('a', \"a\");\nmap.put('b', \"b\");\nmap.put('c', \"c\");\n\nverify(map).put(eq('c'), anyString());\nverify(map).put(eq('a'), anyString());\nverify(map).put(eq('b'), anyString());\n</code></pre>\n\n<p>Note the first verify is not even in order in regard of the actual invocations.</p>\n\n<p>Also, I would recommand you to actually don't mock types you don't own, eg the struts type.</p>\n\n<p><strong>[EDIT @Brad]</strong></p>\n\n<p>After running Brice's code (above) in my IDE I can see that I have used ActionError instead of ActionMessage, so that is why my verify() was not matching. The error message I initially posted was misleading me into thinking it was the first argument that was not matching. It turns out it was the second argument.</p>\n\n<p>So the answer to my question is</p>\n\n<pre><code>/** \n * note that ActionMessageFactory.createErrorMessage() returns ActionMessage\n * and ActionError extends ActionMessage\n */\nverify(errors).add(eq(\"exception.message\"), any(ActionMessage.class));\nverify(errors).add(eq(\"exception.detail\"), any(ActionMessage.class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":367127,"reputation":15366,"user_id":713106,"accept_rate":100,"display_name":"Brad"},"down_vote_count":2,"up_vote_count":143,"is_accepted":true,"score":141,"last_activity_date":1323871832,"creation_date":1323871832,"answer_id":8505864,"question_id":8504074,"body_markdown":"Further reading has led me to try using ArgumentCaptors and the following works, although much more verbose than I would like.\r\n\r\n    ArgumentCaptor&lt;String&gt; argument = ArgumentCaptor.forClass(String.class);\r\n    \r\n    verify(errors, atLeastOnce()).add(argument.capture(), any(ActionMessage.class));\r\n    \r\n    List&lt;String&gt; values = argument.getAllValues();\r\n    \r\n    assertTrue(values.contains(&quot;exception.message&quot;));\r\n    assertTrue(values.contains(&quot;exception.detail&quot;));\r\n\r\n","title":"How to verify multiple method calls with different params","body":"<p>Further reading has led me to try using ArgumentCaptors and the following works, although much more verbose than I would like.</p>\n\n<pre><code>ArgumentCaptor&lt;String&gt; argument = ArgumentCaptor.forClass(String.class);\n\nverify(errors, atLeastOnce()).add(argument.capture(), any(ActionMessage.class));\n\nList&lt;String&gt; values = argument.getAllValues();\n\nassertTrue(values.contains(\"exception.message\"));\nassertTrue(values.contains(\"exception.detail\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":333990,"reputation":2347,"user_id":660143,"accept_rate":92,"display_name":"Christoph Walesch"},"down_vote_count":4,"up_vote_count":82,"is_accepted":false,"score":78,"last_activity_date":1584519670,"creation_date":1449758941,"answer_id":34204883,"question_id":8504074,"body_markdown":"If the order of both `add()` calls is relevant, you can use `InOrder`:\r\n\r\n\tInOrder inOrder = inOrder(errors);\r\n\tinOrder.verify(errors).add(eq(&quot;exception.message&quot;), any(ActionError.class));\r\n\tinOrder.verify(errors).add(eq(&quot;exception.detail&quot;), any(ActionError.class));\r\n","title":"How to verify multiple method calls with different params","body":"<p>If the order of both <code>add()</code> calls is relevant, you can use <code>InOrder</code>:</p>\n\n<pre><code>InOrder inOrder = inOrder(errors);\ninOrder.verify(errors).add(eq(\"exception.message\"), any(ActionError.class));\ninOrder.verify(errors).add(eq(\"exception.detail\"), any(ActionError.class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1504587548,"creation_date":1504587548,"answer_id":46047277,"question_id":8504074,"body_markdown":"You can use `Mockito.atLeastOnce()` which allows Mockito to pass the test even if that mockObject will be called many times.\r\n\r\n    Mockito.verify(mockObject, Mockito.atLeastOnce()).testMethod(Mockito.eq(1));\r\n\r\n    Mockito.verify(mockObject, Mockito.atLeastOnce()).testMethod(Mockito.eq(2));","title":"How to verify multiple method calls with different params","body":"<p>You can use <code>Mockito.atLeastOnce()</code> which allows Mockito to pass the test even if that mockObject will be called many times.</p>\n\n<pre><code>Mockito.verify(mockObject, Mockito.atLeastOnce()).testMethod(Mockito.eq(1));\n\nMockito.verify(mockObject, Mockito.atLeastOnce()).testMethod(Mockito.eq(2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12220007,"reputation":1464,"user_id":8919323,"display_name":"Michał Powłoka"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1572901148,"creation_date":1559056705,"answer_id":56345360,"question_id":8504074,"body_markdown":"In a similar way to @sendon1928 we can use:\r\n\r\n    Mockito.times(wantedInvocationCount)\r\n\r\n to make sure method was called exact number of times (preferable solution in my opinion). Afterwards, we can call \r\n\r\n    Mockito.verifyNoMoreInteractions(mock)\r\n\r\nTo make sure that mock was not used further in any context. Full example:\r\n\r\n    Mockito.verify(mockObject, Mockito.times(wantedInvocationCount)).testMethod(Mockito.eq(1));\r\n\r\n    Mockito.verify(mockObject, Mockito.times(wantedInvocationCount)).testMethod(Mockito.eq(2));\r\n\r\n    Mockito.verifyNoMoreInteractions(mockObject)","title":"How to verify multiple method calls with different params","body":"<p>In a similar way to @sendon1928 we can use:</p>\n\n<pre><code>Mockito.times(wantedInvocationCount)\n</code></pre>\n\n<p>to make sure method was called exact number of times (preferable solution in my opinion). Afterwards, we can call </p>\n\n<pre><code>Mockito.verifyNoMoreInteractions(mock)\n</code></pre>\n\n<p>To make sure that mock was not used further in any context. Full example:</p>\n\n<pre><code>Mockito.verify(mockObject, Mockito.times(wantedInvocationCount)).testMethod(Mockito.eq(1));\n\nMockito.verify(mockObject, Mockito.times(wantedInvocationCount)).testMethod(Mockito.eq(2));\n\nMockito.verifyNoMoreInteractions(mockObject)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":706860,"reputation":9592,"user_id":601844,"display_name":"epox"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1657490952,"creation_date":1589834908,"answer_id":61878746,"question_id":8504074,"body_markdown":"OP code is correct (check your Total)\r\n=\r\n=1= Tell Mokito the total call expectation.\r\n\r\n=2= Tell Mokito how many times each parameter combination was expected. (Mokito assumes **times(1)**, if **times** is omitted).\r\n\r\n    verify(errors, times(2)).add(any(), any(ActionMessage.class));\r\n\r\n    verify(errors).add(eq(&quot;exception.message&quot;), any());\r\n    verify(errors).add(eq(&quot;exception.detail&quot;), any());\r\n\r\nThe OP code is correct; it checks what you need.\r\n\r\nYour problem was in your Prod code, which (seems) never called the first arg combination with **ActionError** arg type. So Mokito correctly complained. However (I agree) the complaint message is confusing for the multiple calls.\r\n\r\nSOLUTION: Ensure (first of all) you really called the method precisely 2 times (with any args).","title":"How to verify multiple method calls with different params","body":"<h1>OP code is correct (check your Total)</h1>\n<p>=1= Tell Mokito the total call expectation.</p>\n<p>=2= Tell Mokito how many times each parameter combination was expected. (Mokito assumes <strong>times(1)</strong>, if <strong>times</strong> is omitted).</p>\n<pre><code>verify(errors, times(2)).add(any(), any(ActionMessage.class));\n\nverify(errors).add(eq(&quot;exception.message&quot;), any());\nverify(errors).add(eq(&quot;exception.detail&quot;), any());\n</code></pre>\n<p>The OP code is correct; it checks what you need.</p>\n<p>Your problem was in your Prod code, which (seems) never called the first arg combination with <strong>ActionError</strong> arg type. So Mokito correctly complained. However (I agree) the complaint message is confusing for the multiple calls.</p>\n<p>SOLUTION: Ensure (first of all) you really called the method precisely 2 times (with any args).</p>\n"}],"owner":{"account_id":367127,"reputation":15366,"user_id":713106,"accept_rate":100,"display_name":"Brad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136692,"favorite_count":0,"down_vote_count":0,"up_vote_count":164,"accepted_answer_id":8505864,"answer_count":7,"score":164,"last_activity_date":1657490952,"creation_date":1323863872,"question_id":8504074,"body_markdown":"I have the following method that I wish to verify behaviour on.\r\n\r\n    public void methodToTest(Exception e, ActionErrors errors) {\r\n    \t...\r\n\r\n    \terrors.add(&quot;exception.message&quot;, \r\n    \t\t\tActionMessageFactory.createErrorMessage(e.toString()));\r\n    \r\n    \terrors.add(&quot;exception.detail&quot;,\r\n    \t\t\tActionMessageFactory.createErrorMessage(e.getStackTrace()[0].toString()));\r\n\r\n    \t...\r\n    }\r\n\r\nIn my @Test class I was hoping to do something like this to verify that `errors.add()` is called with &quot;exception.message&quot; and again with &quot;exception.detail&quot;\r\n\r\n    verify(errors).add(eq(&quot;exception.message&quot;), any(ActionError.class));\r\n    verify(errors).add(eq(&quot;exception.detail&quot;), any(ActionError.class));\r\n\r\nhowever Mockito complains as follows\r\n\r\n    Argument(s) are different! Wanted:\r\n    actionErrors.add(\r\n        &quot;exception.message&quot;,\r\n        &lt;any&gt;\r\n    );\r\n    \r\n    Actual invocation has different arguments:\r\n    actionErrors.add(\r\n        &quot;exception.detail&quot;,\r\n        org.apache.struts.action.ActionError@38063806\r\n    );\r\n\r\nHow can I tell Mockito to check for both values?","title":"How to verify multiple method calls with different params","body":"<p>I have the following method that I wish to verify behaviour on.</p>\n<pre><code>public void methodToTest(Exception e, ActionErrors errors) {\n    ...\n\n    errors.add(&quot;exception.message&quot;, \n            ActionMessageFactory.createErrorMessage(e.toString()));\n\n    errors.add(&quot;exception.detail&quot;,\n            ActionMessageFactory.createErrorMessage(e.getStackTrace()[0].toString()));\n\n    ...\n}\n</code></pre>\n<p>In my @Test class I was hoping to do something like this to verify that <code>errors.add()</code> is called with &quot;exception.message&quot; and again with &quot;exception.detail&quot;</p>\n<pre><code>verify(errors).add(eq(&quot;exception.message&quot;), any(ActionError.class));\nverify(errors).add(eq(&quot;exception.detail&quot;), any(ActionError.class));\n</code></pre>\n<p>however Mockito complains as follows</p>\n<pre><code>Argument(s) are different! Wanted:\nactionErrors.add(\n    &quot;exception.message&quot;,\n    &lt;any&gt;\n);\n\nActual invocation has different arguments:\nactionErrors.add(\n    &quot;exception.detail&quot;,\n    org.apache.struts.action.ActionError@38063806\n);\n</code></pre>\n<p>How can I tell Mockito to check for both values?</p>\n"},{"tags":["java","completable-future","aws-sdk-java-2.0"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1657491127,"post_id":72932178,"comment_id":128816342,"body_markdown":"It might be a way to properly handle cancellations. The thing about cancelling a `CompletableFuture` is that it only cancels _that stage_ by completing it exceptionally with a `CancellationException` (and obviously dependent stages can react to that). However, it does not affect previous/parent stages. Nor does cancelling a `CompletableFuture` interrupt any thread. This means you have to write rather convoluted code to watch for a cancellation and _actually stop_ doing what you&#39;re doing in the background.","body":"It might be a way to properly handle cancellations. The thing about cancelling a <code>CompletableFuture</code> is that it only cancels <i>that stage</i> by completing it exceptionally with a <code>CancellationException</code> (and obviously dependent stages can react to that). However, it does not affect previous/parent stages. Nor does cancelling a <code>CompletableFuture</code> interrupt any thread. This means you have to write rather convoluted code to watch for a cancellation and <i>actually stop</i> doing what you&#39;re doing in the background."},{"owner":{"account_id":4545799,"reputation":2469,"user_id":3692447,"accept_rate":100,"display_name":"Tomaz Fernandes"},"score":0,"creation_date":1657491431,"post_id":72932178,"comment_id":128816377,"body_markdown":"Thanks for your answer @Slaw. Why would we want to cancel previous stages - I reason they&#39;d already be completed and thus not eligible for cancelation. Or perhaps that&#39;s for some parallel execution kind of pipeline?","body":"Thanks for your answer @Slaw. Why would we want to cancel previous stages - I reason they&#39;d already be completed and thus not eligible for cancelation. Or perhaps that&#39;s for some parallel execution kind of pipeline?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1657491662,"post_id":72932178,"comment_id":128816411,"body_markdown":"I don&#39;t know the whole code, and obviously I&#39;m just guessing, but consider if you have stages `A -&gt; B`, and you have access to `B` via a method return. The bulk of the work, however, is being done by `A`. You want to cancel that work, so you call `cancel()` on `B`. That only completes `B` exceptionally. The `A` stage is still happily running in the background. So, you&#39;ve &quot;cancelled&quot; the work, but the work is still executing. Ideally, cancelling `B` will also stop `A` from continuing, but `CompletableFuture` does not really provide this functionality. Thus, the convoluted code.","body":"I don&#39;t know the whole code, and obviously I&#39;m just guessing, but consider if you have stages <code>A -&gt; B</code>, and you have access to <code>B</code> via a method return. The bulk of the work, however, is being done by <code>A</code>. You want to cancel that work, so you call <code>cancel()</code> on <code>B</code>. That only completes <code>B</code> exceptionally. The <code>A</code> stage is still happily running in the background. So, you&#39;ve &quot;cancelled&quot; the work, but the work is still executing. Ideally, cancelling <code>B</code> will also stop <code>A</code> from continuing, but <code>CompletableFuture</code> does not really provide this functionality. Thus, the convoluted code."},{"owner":{"account_id":4545799,"reputation":2469,"user_id":3692447,"accept_rate":100,"display_name":"Tomaz Fernandes"},"score":0,"creation_date":1657492079,"post_id":72932178,"comment_id":128816469,"body_markdown":"Makes total sense, thanks. If I understand correctly, if I have a `CompletableFuture` pipeline, and I have access to the first future, I can cancel it and it will send the `CancellationException` forward. OTOH, if I only have access to the last future, cancelling it is almost a no-ops if execution is still in a prior step - hence the need for this kind of code. Is that right?","body":"Makes total sense, thanks. If I understand correctly, if I have a <code>CompletableFuture</code> pipeline, and I have access to the first future, I can cancel it and it will send the <code>CancellationException</code> forward. OTOH, if I only have access to the last future, cancelling it is almost a no-ops if execution is still in a prior step - hence the need for this kind of code. Is that right?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1657492770,"post_id":72932178,"comment_id":128816562,"body_markdown":"Essentially, yeah. Though it&#39;s a little more complicated for the stage doing the actual work if you want said work to _stop_. And I&#39;d like to stress again that I&#39;m only guessing, and the real purpose might be tangential to what I&#39;m saying, or even something else entirely. Without reading the entire execution path in the source code, I can&#39;t be sure. Ideally, a definitive answer would be given by a developer of this code.","body":"Essentially, yeah. Though it&#39;s a little more complicated for the stage doing the actual work if you want said work to <i>stop</i>. And I&#39;d like to stress again that I&#39;m only guessing, and the real purpose might be tangential to what I&#39;m saying, or even something else entirely. Without reading the entire execution path in the source code, I can&#39;t be sure. Ideally, a definitive answer would be given by a developer of this code."},{"owner":{"account_id":4545799,"reputation":2469,"user_id":3692447,"accept_rate":100,"display_name":"Tomaz Fernandes"},"score":0,"creation_date":1657493082,"post_id":72932178,"comment_id":128816603,"body_markdown":"Sure, I&#39;ve tagged the AWS team here and on twitter, let&#39;s see if someone reaches out. But what you brought makes total sense and exception forwarding - and now that I see it, actually propagating exceptions backwards - seems to be a major concern throughout this pipeline. If you&#39;d be willing to write this as an answer, I think I&#39;ll keep the post open for a while, but I&#39;d at least upvote it, and sure should be helpful for anyone landing up here afterwards.","body":"Sure, I&#39;ve tagged the AWS team here and on twitter, let&#39;s see if someone reaches out. But what you brought makes total sense and exception forwarding - and now that I see it, actually propagating exceptions backwards - seems to be a major concern throughout this pipeline. If you&#39;d be willing to write this as an answer, I think I&#39;ll keep the post open for a while, but I&#39;d at least upvote it, and sure should be helpful for anyone landing up here afterwards."},{"owner":{"account_id":4545799,"reputation":2469,"user_id":3692447,"accept_rate":100,"display_name":"Tomaz Fernandes"},"score":0,"creation_date":1657493233,"post_id":72932178,"comment_id":128816624,"body_markdown":"One last question if you wouldn&#39;t mind - you mention cancelling the running future would be tricky - I understand that even if I have access to it directly or propagate the `CancellationException`. I&#39;ll sure do some more research on the topic, but is there any direction you can point me to regarding what would be a proper way for dealing with that?","body":"One last question if you wouldn&#39;t mind - you mention cancelling the running future would be tricky - I understand that even if I have access to it directly or propagate the <code>CancellationException</code>. I&#39;ll sure do some more research on the topic, but is there any direction you can point me to regarding what would be a proper way for dealing with that?"},{"owner":{"account_id":4545799,"reputation":2469,"user_id":3692447,"accept_rate":100,"display_name":"Tomaz Fernandes"},"score":0,"creation_date":1657551133,"post_id":72932178,"comment_id":128831217,"body_markdown":"Sure, it makes sense. Not sure if you&#39;ve seen the original file in the link, it has comments that corroborate your thinking. Going down the rabbit hole, this gets to their Netty NIO Client, and there&#39;s a `Promise` abstraction and that might properly react to cancellation. And it all makes sense considering the SDK returns a future to the user, so they want to react to user cancellation.","body":"Sure, it makes sense. Not sure if you&#39;ve seen the original file in the link, it has comments that corroborate your thinking. Going down the rabbit hole, this gets to their Netty NIO Client, and there&#39;s a <code>Promise</code> abstraction and that might properly react to cancellation. And it all makes sense considering the SDK returns a future to the user, so they want to react to user cancellation."},{"owner":{"account_id":4545799,"reputation":2469,"user_id":3692447,"accept_rate":100,"display_name":"Tomaz Fernandes"},"score":0,"creation_date":1657551524,"post_id":72932178,"comment_id":128831372,"body_markdown":"The happy news for me is that in my solution users have no access to underlying `CompletableFutures`. The API users have to stop execution shuts down the `Executor` passed to `supplyAsync`, so any running `Tasks` are properly interrupted - thus I might not need such wiring. I might still have some work to do to not have `InterruptedException` trigger usual `exceptionally` calls, since it might trigger yet another execution when probably users expect executions to end.","body":"The happy news for me is that in my solution users have no access to underlying <code>CompletableFutures</code>. The API users have to stop execution shuts down the <code>Executor</code> passed to <code>supplyAsync</code>, so any running <code>Tasks</code> are properly interrupted - thus I might not need such wiring. I might still have some work to do to not have <code>InterruptedException</code> trigger usual <code>exceptionally</code> calls, since it might trigger yet another execution when probably users expect executions to end."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1658485305,"post_id":72932178,"comment_id":129068519,"body_markdown":"The main reason most likely is that `executeHttpRequest` can throw *checked exceptions*, i.e. `IOException`, which a `Function` is not allowed to throw. So you need to deal with `CompletableFuture` manually, when you want to call `completeExceptionally` rather than wrapping the exception in another unchecked exception. It still could have been done simpler, though. There’s no point in this bidirectional `forwardExceptionTo(requestFuture, toReturn)`  plus `forwardExceptionTo(toReturn, requestFuture)`, as the second future can only fail after the first has been completed (`thenAccept` logic).","body":"The main reason most likely is that <code>executeHttpRequest</code> can throw <i>checked exceptions</i>, i.e. <code>IOException</code>, which a <code>Function</code> is not allowed to throw. So you need to deal with <code>CompletableFuture</code> manually, when you want to call <code>completeExceptionally</code> rather than wrapping the exception in another unchecked exception. It still could have been done simpler, though. There’s no point in this bidirectional <code>forwardExceptionTo(requestFuture, toReturn)</code>  plus <code>forwardExceptionTo(toReturn, requestFuture)</code>, as the second future can only fail after the first has been completed (<code>thenAccept</code> logic)."},{"owner":{"account_id":6011679,"reputation":2795,"user_id":4721937,"accept_rate":45,"display_name":"warownia1"},"score":0,"creation_date":1687445593,"post_id":72932178,"comment_id":134940777,"body_markdown":"If you need to throw an exception from a Function/Callable/Runnable inside a Future you wrap it in an unchecked CompletionException. This is what CompletableFuture does to all exceptions anyway.","body":"If you need to throw an exception from a Function/Callable/Runnable inside a Future you wrap it in an unchecked CompletionException. This is what CompletableFuture does to all exceptions anyway."}],"owner":{"account_id":4545799,"reputation":2469,"user_id":3692447,"accept_rate":100,"display_name":"Tomaz Fernandes"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657490598,"creation_date":1657490598,"question_id":72932178,"body_markdown":"I&#39;ve been digging into [AWS SDK Java v2](https://github.com/aws/aws-sdk-java-v2) async code, and I see [a lot](https://github.com/aws/aws-sdk-java-v2/blob/f1fd88e11d7fdf73f6ad1c87bf198588d2824c73/core/sdk-core/src/main/java/software/amazon/awssdk/core/internal/http/pipeline/stages/MakeAsyncHttpRequestStage.java#L82-L118) of this pattern:\r\n\r\n```java\r\n\r\nCompletableFuture&lt;Response&lt;OutputT&gt;&gt; toReturn = new CompletableFuture&lt;&gt;();\r\n(...)\r\nCompletableFutureUtils.forwardExceptionTo(requestFuture, toReturn);\r\n\r\nCompletableFutureUtils.forwardExceptionTo(toReturn, requestFuture);\r\n\r\nrequestFuture.thenAccept(request -&gt; {\r\n\r\n            try {\r\n                CompletableFuture&lt;Response&lt;OutputT&gt;&gt; executeFuture = executeHttpRequest(request, context);\r\n\r\n                executeFuture.whenComplete((r, t) -&gt; {\r\n                    if (t != null) {\r\n                        toReturn.completeExceptionally(t);\r\n                    } else {\r\n                        toReturn.complete(r);\r\n                    }\r\n                });\r\n\r\n                CompletableFutureUtils.forwardExceptionTo(toReturn, executeFuture);\r\n            } catch (Throwable t) {\r\n                toReturn.completeExceptionally(t);\r\n            }\r\n        });\r\n\r\nreturn toReturn;\r\n\r\n```\r\n\r\nWhat&#39;s the advantage of such manually wiring of the futures, instead of a more linear approach? Such as\r\n\r\n```java\r\nreturn requestFuture.thenAccept(request -&gt; executeHttpRequest(request, context));\r\n```\r\n\r\nThanks.","title":"Manually wiring CompletableFutures instead of using API","body":"<p>I've been digging into <a href=\"https://github.com/aws/aws-sdk-java-v2\" rel=\"nofollow noreferrer\">AWS SDK Java v2</a> async code, and I see <a href=\"https://github.com/aws/aws-sdk-java-v2/blob/f1fd88e11d7fdf73f6ad1c87bf198588d2824c73/core/sdk-core/src/main/java/software/amazon/awssdk/core/internal/http/pipeline/stages/MakeAsyncHttpRequestStage.java#L82-L118\" rel=\"nofollow noreferrer\">a lot</a> of this pattern:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nCompletableFuture&lt;Response&lt;OutputT&gt;&gt; toReturn = new CompletableFuture&lt;&gt;();\n(...)\nCompletableFutureUtils.forwardExceptionTo(requestFuture, toReturn);\n\nCompletableFutureUtils.forwardExceptionTo(toReturn, requestFuture);\n\nrequestFuture.thenAccept(request -&gt; {\n\n            try {\n                CompletableFuture&lt;Response&lt;OutputT&gt;&gt; executeFuture = executeHttpRequest(request, context);\n\n                executeFuture.whenComplete((r, t) -&gt; {\n                    if (t != null) {\n                        toReturn.completeExceptionally(t);\n                    } else {\n                        toReturn.complete(r);\n                    }\n                });\n\n                CompletableFutureUtils.forwardExceptionTo(toReturn, executeFuture);\n            } catch (Throwable t) {\n                toReturn.completeExceptionally(t);\n            }\n        });\n\nreturn toReturn;\n\n</code></pre>\n<p>What's the advantage of such manually wiring of the futures, instead of a more linear approach? Such as</p>\n<pre class=\"lang-java prettyprint-override\"><code>return requestFuture.thenAccept(request -&gt; executeHttpRequest(request, context));\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1657490300,"post_id":72932025,"comment_id":128816232,"body_markdown":"1) Don&#39;t do I/O in a painting method. The paintComponent method is for painting only. The image should be read in the constructor of your class so it is always available to be painted. 2) If you do custom painting, then you need to override the `getPreferredSize()` method of the component, otherwise the scrollbars will not work correctly. 3) There is no need to do custom painting. You can just add an `ImageIcon` to a `JLabel` and add the label to the scroll pane. The JLabel already implements the getreferredSize() method for you.","body":"1) Don&#39;t do I/O in a painting method. The paintComponent method is for painting only. The image should be read in the constructor of your class so it is always available to be painted. 2) If you do custom painting, then you need to override the <code>getPreferredSize()</code> method of the component, otherwise the scrollbars will not work correctly. 3) There is no need to do custom painting. You can just add an <code>ImageIcon</code> to a <code>JLabel</code> and add the label to the scroll pane. The JLabel already implements the getreferredSize() method for you."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657490595,"creation_date":1657490246,"answer_id":72932146,"question_id":72932025,"body_markdown":"Your problem is due to the JPanel&#39;s preferred size -- it needs to match the size of the image. I recommend overriding the `public Dimension getPreferredSize()` method and return a dimension that matches the size of the image.\r\n\r\nSide issue: Do *not* read in an image in a painting method such as paintComponent. These methods help determine the perceived responsiveness of your program and need to be as fast as possible. What is more, there is no reason to re-read the image in each time the JPanel gets a repaint, and instead read the image in once, say in the class&#39;s constructor. \r\n\r\ne.g.,\r\n\r\n```\r\npublic class MapPanel extends JPanel implements Pointable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    private List&lt;Shape&gt; shapes = new LinkedList&lt;&gt;();\r\n\tprivate BufferedImage image = null;\r\n\r\n\r\n    public MapPanel() throws IOException {\r\n        Commander.getInstance().addShapeContainer(this);\r\n        shapeContainerState = NoState.getInstance();\r\n        MouseHandler mouseHandler = new MouseHandler(this);\r\n        KeyListener keyListener = new KeyListener();\r\n\r\n        this.addMouseListener(mouseHandler);\r\n        this.addMouseMotionListener(mouseHandler);\r\n        this.addKeyListener(keyListener);\r\n        this.setBackground(Color.white);\r\n        this.setFocusable(true);\r\n        this.requestFocusInWindow();\r\n\t\t\r\n\t\timage = ImageIO.read(new File(&quot;earthmap1.jpg&quot;));\r\n    }\r\n\r\n\t@Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n\r\n\t\tif (image != null) {\r\n\t\t\tg.drawImage(image, 0, 0, null);\r\n\t\t}\r\n\t}\r\n\t\t\r\n\t@Override\r\n\tpublic Dimension getPreferredSize() {\r\n\t\tif (image == null) {\r\n\t\t\treturn super.getPreferredSize();\r\n\t\t} else {\r\n\t\t\tint w = image.getWidth();\r\n\t\t\tint h = image.getHeight();\r\n\t\t\treturn new Dimension(w, h);\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nNote: code has not been tested","title":"Java Swing - Cant add scrollbar to my panel","body":"<p>Your problem is due to the JPanel's preferred size -- it needs to match the size of the image. I recommend overriding the <code>public Dimension getPreferredSize()</code> method and return a dimension that matches the size of the image.</p>\n<p>Side issue: Do <em>not</em> read in an image in a painting method such as paintComponent. These methods help determine the perceived responsiveness of your program and need to be as fast as possible. What is more, there is no reason to re-read the image in each time the JPanel gets a repaint, and instead read the image in once, say in the class's constructor.</p>\n<p>e.g.,</p>\n<pre><code>public class MapPanel extends JPanel implements Pointable {\n\n    private static final long serialVersionUID = 1L;\n    private List&lt;Shape&gt; shapes = new LinkedList&lt;&gt;();\n    private BufferedImage image = null;\n\n\n    public MapPanel() throws IOException {\n        Commander.getInstance().addShapeContainer(this);\n        shapeContainerState = NoState.getInstance();\n        MouseHandler mouseHandler = new MouseHandler(this);\n        KeyListener keyListener = new KeyListener();\n\n        this.addMouseListener(mouseHandler);\n        this.addMouseMotionListener(mouseHandler);\n        this.addKeyListener(keyListener);\n        this.setBackground(Color.white);\n        this.setFocusable(true);\n        this.requestFocusInWindow();\n        \n        image = ImageIO.read(new File(&quot;earthmap1.jpg&quot;));\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        if (image != null) {\n            g.drawImage(image, 0, 0, null);\n        }\n    }\n        \n    @Override\n    public Dimension getPreferredSize() {\n        if (image == null) {\n            return super.getPreferredSize();\n        } else {\n            int w = image.getWidth();\n            int h = image.getHeight();\n            return new Dimension(w, h);\n        }\n    }\n    \n}\n</code></pre>\n<p>Note: code has not been tested</p>\n"}],"owner":{"account_id":17975995,"reputation":551,"user_id":13063551,"display_name":"Mr.Gomer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72932146,"answer_count":1,"score":0,"last_activity_date":1657490595,"creation_date":1657488463,"question_id":72932025,"body_markdown":"Im trying to create a small client where I can paint coordinates onto a map. \r\nI want to start by loading a map image on to a JPanel and then add that panel to a frame. \r\nThe image is very large hence you need to be able to scroll to see all of it. \r\n\r\nBut for some reason my scroll bar wont show up. I tried most guides but it wont work.\r\n\r\nhere is my panel class:\r\n\r\n    public class MapPanel extends JPanel implements Pointable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private List&lt;Shape&gt; shapes = new LinkedList&lt;&gt;();\r\n    \r\n    \r\n        public MapPanel() {\r\n            Commander.getInstance().addShapeContainer(this);\r\n            shapeContainerState = NoState.getInstance();\r\n            MouseHandler mouseHandler = new MouseHandler(this);\r\n            KeyListener keyListener = new KeyListener();\r\n    \r\n            this.addMouseListener(mouseHandler);\r\n            this.addMouseMotionListener(mouseHandler);\r\n            this.addKeyListener(keyListener);\r\n            this.setBackground(Color.white);\r\n            this.setFocusable(true);\r\n            this.requestFocusInWindow();\r\n        }\r\n    \r\n        public void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n    \r\n            BufferedImage image;\r\n            try {\r\n                image = ImageIO.read(new File(&quot;earthmap1.jpg&quot;));\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n            g.drawImage(image, 0, 0, null);\r\n    }\r\n\r\nAnd here is my JFrame class:\r\n\r\n    public class MapFrame extends JFrame {\r\n    \r\n     public MapFrame() {\r\n            buildTheUI();\r\n            setUpEventHandling();\r\n            mapPanel = new MapPanel();\r\n    \r\n            JScrollPane scrollPane = new JScrollPane(mapPanel);\r\n            scrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\r\n            scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\r\n    \r\n            this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            this.setSize(900, 800);\r\n            this.add(scrollPane);\r\n            this.setVisible(true);\r\n        }\r\n    }\r\n\r\nThe image is displayed fine and if i enlarge the window u can see more of it (as all of it is not displayed) but there are no scroll bars so i can see the rest of the image by scrolling.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/29DsS.jpg","title":"Java Swing - Cant add scrollbar to my panel","body":"<p>Im trying to create a small client where I can paint coordinates onto a map.\nI want to start by loading a map image on to a JPanel and then add that panel to a frame.\nThe image is very large hence you need to be able to scroll to see all of it.</p>\n<p>But for some reason my scroll bar wont show up. I tried most guides but it wont work.</p>\n<p>here is my panel class:</p>\n<pre><code>public class MapPanel extends JPanel implements Pointable {\n\n    private static final long serialVersionUID = 1L;\n    private List&lt;Shape&gt; shapes = new LinkedList&lt;&gt;();\n\n\n    public MapPanel() {\n        Commander.getInstance().addShapeContainer(this);\n        shapeContainerState = NoState.getInstance();\n        MouseHandler mouseHandler = new MouseHandler(this);\n        KeyListener keyListener = new KeyListener();\n\n        this.addMouseListener(mouseHandler);\n        this.addMouseMotionListener(mouseHandler);\n        this.addKeyListener(keyListener);\n        this.setBackground(Color.white);\n        this.setFocusable(true);\n        this.requestFocusInWindow();\n    }\n\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        BufferedImage image;\n        try {\n            image = ImageIO.read(new File(&quot;earthmap1.jpg&quot;));\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n        g.drawImage(image, 0, 0, null);\n}\n</code></pre>\n<p>And here is my JFrame class:</p>\n<pre><code>public class MapFrame extends JFrame {\n\n public MapFrame() {\n        buildTheUI();\n        setUpEventHandling();\n        mapPanel = new MapPanel();\n\n        JScrollPane scrollPane = new JScrollPane(mapPanel);\n        scrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\n\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setSize(900, 800);\n        this.add(scrollPane);\n        this.setVisible(true);\n    }\n}\n</code></pre>\n<p>The image is displayed fine and if i enlarge the window u can see more of it (as all of it is not displayed) but there are no scroll bars so i can see the rest of the image by scrolling.\n<a href=\"https://i.stack.imgur.com/29DsS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/29DsS.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":10944927,"reputation":491,"user_id":8043392,"display_name":"Shivaji Pote"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657490472,"creation_date":1657489154,"answer_id":72932072,"question_id":72931569,"body_markdown":"I think your blairhippo.com is running on different server(same machine but different application server) than sprig boot. When you run command `./mvnw -e spring-boot:run`, it launches new server(tomcat) on some port(default 8080). So your spring boot application is running independently on same machine as your blairhippo.com server. If you check the hostname of your that server and access url `http://&lt;your-hostname&gt;:8080/greeting`, probably it will work. If it doesn&#39;t, share your controller definition, `application.properties` and blairhippo.com hostname.\r\n","title":"How do I get a sample Spring Boot server running on my existing website?","body":"<p>I think your blairhippo.com is running on different server(same machine but different application server) than sprig boot. When you run command <code>./mvnw -e spring-boot:run</code>, it launches new server(tomcat) on some port(default 8080). So your spring boot application is running independently on same machine as your blairhippo.com server. If you check the hostname of your that server and access url <code>http://&lt;your-hostname&gt;:8080/greeting</code>, probably it will work. If it doesn't, share your controller definition, <code>application.properties</code> and blairhippo.com hostname.</p>\n"}],"owner":{"account_id":31467,"reputation":9522,"user_id":86404,"accept_rate":75,"display_name":"BlairHippo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657490533,"creation_date":1657483815,"question_id":72931569,"body_markdown":"I&#39;m trying to develop a web application as a side-project on my own. I&#39;m a long-time code monkey, but I&#39;ve never done much with project infrastructure, and my inexperience is showing.\r\n\r\nI&#39;ve decided to learn Spring Boot; I&#39;m not familiar with the framework, but I&#39;ve done a lot with Java, so it seemed like a decent choice. I&#39;m following the Getting Started tutorial (https://spring.io/guides/gs/serving-web-content/), and have created the necessary files.\r\n\r\nI have the files on a &quot;demo&quot; subdirectory on my existing website, blairhippo.com. I started the application via `./mvnw -e spring-boot:run`, and all looks well; I get a bunch of info messages, including this guy:\r\n```\r\n2022-07-10 19:49:02.991  INFO 54726 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n```\r\nSo as far as I can tell, everything is running.\r\n\r\nExcept I can&#39;t actually get to the application.\r\n\r\nAccording to the tutorial, the path `/greeting` should get me to my &quot;Hello World&quot; message. But the URLs that seem most likely (http://blairhippo.com:8080/greeting, http://blairhippo.com:8080/demo/greeting) don&#39;t actually do anything.\r\n\r\nIs there a config file that needs some attention? What do I need to do to get this running on my server?\r\n\r\n----------\r\n**EDIT:** Responding to Shivaji Pote below:\r\n\r\nThank you very much for the help. The host name is blairhippo.nfshost.com, and that DOES load a page (amusingly, one with no CSS defined). However, none of https://blairhippo.nfshost.com:8080/demo/greeting, https://blairhippo.nfshost.com:8080/greeting, or https://blairhippo.nfshost.com:8080 will return anything (and I&#39;ve double-checked that the Tomcat server is running).\r\n\r\nBoth `./target/classes/application.properties` and `./src/main/resources/application.properties` exist, but are empty.\r\n\r\nAnd the GreetingController.java code is boilerplate from the tutorial:\r\n```\r\npackage com.example.servingwebcontent;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\n\r\n@Controller\r\npublic class GreetingController {\r\n\r\n    @GetMapping(&quot;/greeting&quot;)\r\n    public String greeting(@RequestParam(name = &quot;name&quot;, required = false, defaultValue = &quot;World&quot;) String name,\r\n            Model model) {\r\n        model.addAttribute(&quot;name&quot;, name);\r\n        return &quot;greeting&quot;;\r\n    }\r\n\r\n}\r\n```\r\n","title":"How do I get a sample Spring Boot server running on my existing website?","body":"<p>I'm trying to develop a web application as a side-project on my own. I'm a long-time code monkey, but I've never done much with project infrastructure, and my inexperience is showing.</p>\n<p>I've decided to learn Spring Boot; I'm not familiar with the framework, but I've done a lot with Java, so it seemed like a decent choice. I'm following the Getting Started tutorial (<a href=\"https://spring.io/guides/gs/serving-web-content/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/serving-web-content/</a>), and have created the necessary files.</p>\n<p>I have the files on a &quot;demo&quot; subdirectory on my existing website, blairhippo.com. I started the application via <code>./mvnw -e spring-boot:run</code>, and all looks well; I get a bunch of info messages, including this guy:</p>\n<pre><code>2022-07-10 19:49:02.991  INFO 54726 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n</code></pre>\n<p>So as far as I can tell, everything is running.</p>\n<p>Except I can't actually get to the application.</p>\n<p>According to the tutorial, the path <code>/greeting</code> should get me to my &quot;Hello World&quot; message. But the URLs that seem most likely (<a href=\"http://blairhippo.com:8080/greeting\" rel=\"nofollow noreferrer\">http://blairhippo.com:8080/greeting</a>, <a href=\"http://blairhippo.com:8080/demo/greeting\" rel=\"nofollow noreferrer\">http://blairhippo.com:8080/demo/greeting</a>) don't actually do anything.</p>\n<p>Is there a config file that needs some attention? What do I need to do to get this running on my server?</p>\n<hr />\n<p><strong>EDIT:</strong> Responding to Shivaji Pote below:</p>\n<p>Thank you very much for the help. The host name is blairhippo.nfshost.com, and that DOES load a page (amusingly, one with no CSS defined). However, none of <a href=\"https://blairhippo.nfshost.com:8080/demo/greeting\" rel=\"nofollow noreferrer\">https://blairhippo.nfshost.com:8080/demo/greeting</a>, <a href=\"https://blairhippo.nfshost.com:8080/greeting\" rel=\"nofollow noreferrer\">https://blairhippo.nfshost.com:8080/greeting</a>, or <a href=\"https://blairhippo.nfshost.com:8080\" rel=\"nofollow noreferrer\">https://blairhippo.nfshost.com:8080</a> will return anything (and I've double-checked that the Tomcat server is running).</p>\n<p>Both <code>./target/classes/application.properties</code> and <code>./src/main/resources/application.properties</code> exist, but are empty.</p>\n<p>And the GreetingController.java code is boilerplate from the tutorial:</p>\n<pre><code>package com.example.servingwebcontent;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\n@Controller\npublic class GreetingController {\n\n    @GetMapping(&quot;/greeting&quot;)\n    public String greeting(@RequestParam(name = &quot;name&quot;, required = false, defaultValue = &quot;World&quot;) String name,\n            Model model) {\n        model.addAttribute(&quot;name&quot;, name);\n        return &quot;greeting&quot;;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","jwt","authorization","jwk"],"answers":[{"tags":[],"owner":{"account_id":18431035,"reputation":582,"user_id":13426164,"display_name":"Kris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657489890,"creation_date":1657489890,"answer_id":72932126,"question_id":72930625,"body_markdown":"Figured it out.\r\n\r\nCreating JWKS in the auth service:\r\n\r\n        public Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt; getPublicKeys(){\r\n\r\n        RSAPublicKey rsa;\r\n\r\n        try{\r\n            is = JwtBuilder.class.getResourceAsStream((&quot;/&quot; + signingKeyStore));\r\n            keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n            keyStore.load(is, signingKeyStorePassword.toCharArray());\r\n            rsa = (RSAPublicKey) keyStore.getCertificate(signingKeyId).getPublicKey();\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Failed to retrieve public key&quot;, e);\r\n        }\r\n\r\n        Map&lt;String, Object&gt; values = new HashMap&lt;&gt;();\r\n\r\n        values.put(&quot;kty&quot;, rsa.getAlgorithm()); // getAlgorithm() returns kty not algorithm\r\n        values.put(&quot;kid&quot;, signingKeyId);\r\n        values.put(&quot;n&quot;, Base64.getUrlEncoder().encodeToString(rsa.getModulus().toByteArray()));\r\n        values.put(&quot;e&quot;, Base64.getUrlEncoder().encodeToString(rsa.getPublicExponent().toByteArray()));\r\n        values.put(&quot;alg&quot;, &quot;RS256&quot;);\r\n        values.put(&quot;use&quot;, &quot;sig&quot;);\r\n\r\n        List&lt;Map&lt;String, Object&gt;&gt; keyList = new ArrayList&lt;&gt;();\r\n\r\n        keyList.add(values);\r\n\r\n        Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt; keys = new HashMap&lt;&gt;();\r\n\r\n        keys.put(&quot;keys&quot;, keyList);\r\n\r\n        return keys;\r\n    }\r\n\r\nDecoding and validating JWT in the resource service:\r\n\r\n    public DecodedJWT decodeAndVerifyJWT(String token){\r\n\r\n        DecodedJWT jwt;\r\n\r\n        try{\r\n            jwt = JWT.decode(token);\r\n            JwkProvider provider = new UrlJwkProvider(&quot;http://localhost:8090&quot;);\r\n            Jwk jwk = provider.get(jwt.getKeyId());\r\n            Algorithm algorithm = Algorithm.RSA256((RSAPublicKey) jwk.getPublicKey(), null);\r\n            algorithm.verify(jwt);\r\n        } catch (InvalidPublicKeyException e) {\r\n            throw new RuntimeException(&quot;Invalid Public key&quot;, e);\r\n        } catch (JwkException e) {\r\n            throw new RuntimeException(&quot;Couldn&#39;t verify JWT&quot;, e);\r\n        }\r\n\r\n        return jwt;\r\n    }","title":"Creating jwks endpoint spring boot","body":"<p>Figured it out.</p>\n<p>Creating JWKS in the auth service:</p>\n<pre><code>    public Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt; getPublicKeys(){\n\n    RSAPublicKey rsa;\n\n    try{\n        is = JwtBuilder.class.getResourceAsStream((&quot;/&quot; + signingKeyStore));\n        keyStore = KeyStore.getInstance(&quot;JKS&quot;);\n        keyStore.load(is, signingKeyStorePassword.toCharArray());\n        rsa = (RSAPublicKey) keyStore.getCertificate(signingKeyId).getPublicKey();\n    } catch (Exception e) {\n        throw new RuntimeException(&quot;Failed to retrieve public key&quot;, e);\n    }\n\n    Map&lt;String, Object&gt; values = new HashMap&lt;&gt;();\n\n    values.put(&quot;kty&quot;, rsa.getAlgorithm()); // getAlgorithm() returns kty not algorithm\n    values.put(&quot;kid&quot;, signingKeyId);\n    values.put(&quot;n&quot;, Base64.getUrlEncoder().encodeToString(rsa.getModulus().toByteArray()));\n    values.put(&quot;e&quot;, Base64.getUrlEncoder().encodeToString(rsa.getPublicExponent().toByteArray()));\n    values.put(&quot;alg&quot;, &quot;RS256&quot;);\n    values.put(&quot;use&quot;, &quot;sig&quot;);\n\n    List&lt;Map&lt;String, Object&gt;&gt; keyList = new ArrayList&lt;&gt;();\n\n    keyList.add(values);\n\n    Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt; keys = new HashMap&lt;&gt;();\n\n    keys.put(&quot;keys&quot;, keyList);\n\n    return keys;\n}\n</code></pre>\n<p>Decoding and validating JWT in the resource service:</p>\n<pre><code>public DecodedJWT decodeAndVerifyJWT(String token){\n\n    DecodedJWT jwt;\n\n    try{\n        jwt = JWT.decode(token);\n        JwkProvider provider = new UrlJwkProvider(&quot;http://localhost:8090&quot;);\n        Jwk jwk = provider.get(jwt.getKeyId());\n        Algorithm algorithm = Algorithm.RSA256((RSAPublicKey) jwk.getPublicKey(), null);\n        algorithm.verify(jwt);\n    } catch (InvalidPublicKeyException e) {\n        throw new RuntimeException(&quot;Invalid Public key&quot;, e);\n    } catch (JwkException e) {\n        throw new RuntimeException(&quot;Couldn't verify JWT&quot;, e);\n    }\n\n    return jwt;\n}\n</code></pre>\n"}],"owner":{"account_id":18431035,"reputation":582,"user_id":13426164,"display_name":"Kris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1631,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72932126,"answer_count":1,"score":1,"last_activity_date":1657489890,"creation_date":1657475121,"question_id":72930625,"body_markdown":"I am building a two service app in Java Spring Boot where one service is an auth service that generates a jwt and the other one is a resource service, that decodes the jwt and returns list of posts based on the jwt subject. \r\n\r\nMy current auth service setup has a .jks key pair stored in the resources and a login endpoint that:\r\n\r\n - checks that the username exists in MongoDB and that the password matches the stored encoded one\r\n - if the check passes, returns a jwt with the username in subject\r\n\r\nMy resource server has a method that decodes the jwt at the preHandle() stage and looks like this:\r\n\r\n    @Value(&quot;${jwt.key}&quot;)\r\n    private String publicKey;\r\n\r\n    public Claims decodeJWT(String jwt) {\r\n\r\n        KeyFactory kf;\r\n        PublicKey key;\r\n\r\n        publicKey = publicKey\r\n                .replace(&quot;-----BEGIN PUBLIC KEY-----&quot;, &quot;&quot;)\r\n                .replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;)\r\n                .replace(&quot;\\n&quot;, &quot;&quot;)\r\n                .trim();\r\n\r\n        try{\r\n            kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            X509EncodedKeySpec pubKeySpecX509EncodedKeySpec = new X509EncodedKeySpec(Base64.getDecoder().decode(publicKey));\r\n            key = kf.generatePublic(pubKeySpecX509EncodedKeySpec);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Failed to generate Public Key&quot;, e);\r\n        }\r\n\r\n        //This line will throw an exception if it is not a signed JWS (as expected)\r\n        return Jwts.parser()\r\n                .requireIssuer(&quot;auth-service&quot;)\r\n                .requireAudience(&quot;posts-service&quot;)\r\n                .setSigningKey(key)\r\n                .parseClaimsJws(jwt).getBody();\r\n    }\r\n\r\nMy only issue with this is that I need to manually export the public key from the auth service .jks file and store it in the resource service application.yml file.\r\n\r\nMy question therefore is: What would be the best way to create a jwks endpoint in the auth service, that returns the public key from the .jks file? and how to best add a call to it from the resource service?\r\n\r\nCheers\r\nKris\r\n","title":"Creating jwks endpoint spring boot","body":"<p>I am building a two service app in Java Spring Boot where one service is an auth service that generates a jwt and the other one is a resource service, that decodes the jwt and returns list of posts based on the jwt subject.</p>\n<p>My current auth service setup has a .jks key pair stored in the resources and a login endpoint that:</p>\n<ul>\n<li>checks that the username exists in MongoDB and that the password matches the stored encoded one</li>\n<li>if the check passes, returns a jwt with the username in subject</li>\n</ul>\n<p>My resource server has a method that decodes the jwt at the preHandle() stage and looks like this:</p>\n<pre><code>@Value(&quot;${jwt.key}&quot;)\nprivate String publicKey;\n\npublic Claims decodeJWT(String jwt) {\n\n    KeyFactory kf;\n    PublicKey key;\n\n    publicKey = publicKey\n            .replace(&quot;-----BEGIN PUBLIC KEY-----&quot;, &quot;&quot;)\n            .replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;)\n            .replace(&quot;\\n&quot;, &quot;&quot;)\n            .trim();\n\n    try{\n        kf = KeyFactory.getInstance(&quot;RSA&quot;);\n        X509EncodedKeySpec pubKeySpecX509EncodedKeySpec = new X509EncodedKeySpec(Base64.getDecoder().decode(publicKey));\n        key = kf.generatePublic(pubKeySpecX509EncodedKeySpec);\n    } catch (Exception e) {\n        throw new RuntimeException(&quot;Failed to generate Public Key&quot;, e);\n    }\n\n    //This line will throw an exception if it is not a signed JWS (as expected)\n    return Jwts.parser()\n            .requireIssuer(&quot;auth-service&quot;)\n            .requireAudience(&quot;posts-service&quot;)\n            .setSigningKey(key)\n            .parseClaimsJws(jwt).getBody();\n}\n</code></pre>\n<p>My only issue with this is that I need to manually export the public key from the auth service .jks file and store it in the resource service application.yml file.</p>\n<p>My question therefore is: What would be the best way to create a jwks endpoint in the auth service, that returns the public key from the .jks file? and how to best add a call to it from the resource service?</p>\n<p>Cheers\nKris</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657359367,"creation_date":1657359367,"answer_id":72920327,"question_id":72918736,"body_markdown":"I think you need to specify the schema in `@SequenceGenerator`:\r\n```\r\n@SequenceGenerator(name = &quot;action_id_seq &quot;, schema=&quot;COMMON&quot;, sequenceName = &quot;action_id_seq &quot;, allocationSize = 1)\r\n```","title":"Use sequence generated by postgres (GENERATED ALWAYS AS IDENTITY) in jpa","body":"<p>I think you need to specify the schema in <code>@SequenceGenerator</code>:</p>\n<pre><code>@SequenceGenerator(name = &quot;action_id_seq &quot;, schema=&quot;COMMON&quot;, sequenceName = &quot;action_id_seq &quot;, allocationSize = 1)\n</code></pre>\n"}],"owner":{"account_id":13678137,"reputation":5,"user_id":9869100,"display_name":"Zonix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657489839,"creation_date":1657337401,"question_id":72918736,"body_markdown":"I have a table :\r\n```\r\nCREATE TABLE COMMON.ACTION\r\n(\r\n    ID          INT GENERATED ALWAYS AS IDENTITY,\r\n    LABEL       VARCHAR(64) NOT NULL,\r\n);\r\nALTER TABLE COMMON.ACTION ADD PRIMARY KEY (ID);\r\n```\r\nwhich generates a sequence :\r\n```\r\nschemaname | sequencename  | datatype | ...\r\ncommon     | action_id_seq | integer  | ...\r\n```\r\n\r\nI&#39;m trying to use this sequence in my entity as :\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@MappedSuperclass\r\npublic abstract class BaseEntity implements Serializable {\r\n\r\n//    @Id\r\n//    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;ID_GEN&quot;)\r\n//    @Column(name = &quot;ID&quot;, updatable = false, insertable = false, nullable = false)\r\n//    private int id;\r\n\r\n    @Column(name = &quot;CREATED_BY&quot;, updatable = false, insertable = false, nullable = false)\r\n    @CreatedBy\r\n    private String createdBy;\r\n\r\n    @Column(name = &quot;UPDATED_BY&quot;, updatable = false, insertable = false, nullable = false)\r\n    @LastModifiedBy\r\n    private String updatedBy;\r\n\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@Entity\r\n@NoArgsConstructor\r\n@Table(name = &quot;ACTION&quot;, schema = &quot;COMMON&quot;)\r\npublic class ActionEntity extends BaseEntity implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;action_id_seq &quot;)\r\n    @SequenceGenerator(name = &quot;action_id_seq &quot;, sequenceName = &quot;action_id_seq &quot;, allocationSize = 1, schema=&quot;COMMON&quot;)\r\n    @Column(name = &quot;ID&quot;, nullable = false, insertable = false)\r\n    private Integer id;\r\n\r\n    @Column(nullable = false)\r\n    private String label;\r\n}\r\n```\r\n\r\nEven if the name of the sequence matches the one existing in the DB, I keep getting error:\r\n\r\n`[PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing sequence [action_id_seq]`\r\n\r\nWhen I use `@GeneratedValue(strategy = GenerationType.IDENTITY)`, everything works fine but I want to use sequence because of batch inserts. ","title":"Use sequence generated by postgres (GENERATED ALWAYS AS IDENTITY) in jpa","body":"<p>I have a table :</p>\n<pre><code>CREATE TABLE COMMON.ACTION\n(\n    ID          INT GENERATED ALWAYS AS IDENTITY,\n    LABEL       VARCHAR(64) NOT NULL,\n);\nALTER TABLE COMMON.ACTION ADD PRIMARY KEY (ID);\n</code></pre>\n<p>which generates a sequence :</p>\n<pre><code>schemaname | sequencename  | datatype | ...\ncommon     | action_id_seq | integer  | ...\n</code></pre>\n<p>I'm trying to use this sequence in my entity as :</p>\n<pre><code>@Getter\n@Setter\n@MappedSuperclass\npublic abstract class BaseEntity implements Serializable {\n\n//    @Id\n//    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;ID_GEN&quot;)\n//    @Column(name = &quot;ID&quot;, updatable = false, insertable = false, nullable = false)\n//    private int id;\n\n    @Column(name = &quot;CREATED_BY&quot;, updatable = false, insertable = false, nullable = false)\n    @CreatedBy\n    private String createdBy;\n\n    @Column(name = &quot;UPDATED_BY&quot;, updatable = false, insertable = false, nullable = false)\n    @LastModifiedBy\n    private String updatedBy;\n\n}\n\n@Getter\n@Setter\n@Entity\n@NoArgsConstructor\n@Table(name = &quot;ACTION&quot;, schema = &quot;COMMON&quot;)\npublic class ActionEntity extends BaseEntity implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;action_id_seq &quot;)\n    @SequenceGenerator(name = &quot;action_id_seq &quot;, sequenceName = &quot;action_id_seq &quot;, allocationSize = 1, schema=&quot;COMMON&quot;)\n    @Column(name = &quot;ID&quot;, nullable = false, insertable = false)\n    private Integer id;\n\n    @Column(nullable = false)\n    private String label;\n}\n</code></pre>\n<p>Even if the name of the sequence matches the one existing in the DB, I keep getting error:</p>\n<p><code>[PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing sequence [action_id_seq]</code></p>\n<p>When I use <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code>, everything works fine but I want to use sequence because of batch inserts.</p>\n"},{"tags":["java","csv","datetime","localdate","datetimeformatter"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1657529126,"post_id":72931604,"comment_id":128822809,"body_markdown":"A `LocalDate` cannot contain a format. It always prints in ISO 8601 format. Does this answer your question? [How to format LocalDate object to MM/dd/yyyy and have format persist](https://stackoverflow.com/questions/39689866/how-to-format-localdate-object-to-mm-dd-yyyy-and-have-format-persist)? Maybe in combnation with this? [DateTimeFormatter Support for Single Digit Day of Month and Month of Year](https://stackoverflow.com/questions/27571377/datetimeformatter-support-for-single-digit-day-of-month-and-month-of-year)","body":"A <code>LocalDate</code> cannot contain a format. It always prints in ISO 8601 format. Does this answer your question? <a href=\"https://stackoverflow.com/questions/39689866/how-to-format-localdate-object-to-mm-dd-yyyy-and-have-format-persist\">How to format LocalDate object to MM/dd/yyyy and have format persist</a>? Maybe in combnation with this? <a href=\"https://stackoverflow.com/questions/27571377/datetimeformatter-support-for-single-digit-day-of-month-and-month-of-year\">DateTimeFormatter Support for Single Digit Day of Month and Month of Year</a>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657486842,"creation_date":1657484850,"answer_id":72931661,"question_id":72931604,"body_markdown":"You&#39;re getting an exception while parsing your data because the minimum number of digits in the sample string representing the month (and I guess the day of the month as well) is `1` but according to your pattern expected `2`.\r\n\r\nYou need this formatter:\r\n\r\n```\r\nString date = &quot;5/14/1974&quot;;\r\n\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;M/d/yyyy&quot;);\r\n\r\nSystem.out.println(LocalDate.parse(date, formatter));\r\n```\r\nOn execution will print:\r\n```\r\n1974-05-14\r\n```\r\n\r\nHere&#39;s a quote from the [*documentation*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html)\r\n\r\n&gt; **Number:** If the count of letters is one, then the value is output using the **minimum number of digits** and without padding. Otherwise, the count of digits is used as the width of the output field, with the value zero-padded as necessary. The following pattern letters have constraints on the count of letters. Only one letter of &#39;c&#39; and &#39;F&#39; can be specified. Up to two letters of &#39;d&#39;, &#39;H&#39;, &#39;h&#39;, &#39;K&#39;, &#39;k&#39;, &#39;m&#39;, and &#39;s&#39; can be specified. Up to three letters of &#39;D&#39; can be specified. \r\n\r\nIf you want to produce a string from the parsed `LocalDate` formatted accordingly to another pattern, you can do it like that: \r\n\r\n```\r\nString dateString = &quot;3/7/1999&quot;;\r\n        \r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;M/d/yyyy&quot;);\r\n    \r\nLocalDate date = LocalDate.parse(dateString, formatter);\r\n        \r\nSystem.out.println(date);\r\n    \r\nDateTimeFormatter formatter1 = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\n        \r\nSystem.out.println(date.format(formatter1));\r\n```\r\n\r\nWe can specify a `Local` using `localizedBy()` while creating a `DateTimeFormatter` but in this case there&#39;s no need in doing this, because formatting would be entirely governed by the pattern.","title":"Cannot format in LocalDate instead of String in Java","body":"<p>You're getting an exception while parsing your data because the minimum number of digits in the sample string representing the month (and I guess the day of the month as well) is <code>1</code> but according to your pattern expected <code>2</code>.</p>\n<p>You need this formatter:</p>\n<pre><code>String date = &quot;5/14/1974&quot;;\n\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;M/d/yyyy&quot;);\n\nSystem.out.println(LocalDate.parse(date, formatter));\n</code></pre>\n<p>On execution will print:</p>\n<pre><code>1974-05-14\n</code></pre>\n<p>Here's a quote from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><em>documentation</em></a></p>\n<blockquote>\n<p><strong>Number:</strong> If the count of letters is one, then the value is output using the <strong>minimum number of digits</strong> and without padding. Otherwise, the count of digits is used as the width of the output field, with the value zero-padded as necessary. The following pattern letters have constraints on the count of letters. Only one letter of 'c' and 'F' can be specified. Up to two letters of 'd', 'H', 'h', 'K', 'k', 'm', and 's' can be specified. Up to three letters of 'D' can be specified.</p>\n</blockquote>\n<p>If you want to produce a string from the parsed <code>LocalDate</code> formatted accordingly to another pattern, you can do it like that:</p>\n<pre><code>String dateString = &quot;3/7/1999&quot;;\n        \nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;M/d/yyyy&quot;);\n    \nLocalDate date = LocalDate.parse(dateString, formatter);\n        \nSystem.out.println(date);\n    \nDateTimeFormatter formatter1 = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\n        \nSystem.out.println(date.format(formatter1));\n</code></pre>\n<p>We can specify a <code>Local</code> using <code>localizedBy()</code> while creating a <code>DateTimeFormatter</code> but in this case there's no need in doing this, because formatting would be entirely governed by the pattern.</p>\n"}],"owner":{"display_name":"user19522422"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657488742,"creation_date":1657484207,"question_id":72931604,"body_markdown":"I have the following field in an entity:\r\n\r\n```\r\nprivate LocalDate birthDate;\r\n```\r\n\r\nI try to get date fields from CSV file using [Apache Commons CSV](https://commons.apache.org/proper/commons-csv/user-guide.html#Defining_a_header_manually) and need to convert the read date field as `LocalDate` with the format I set in formatter:\r\n\r\n\r\n```\r\n\r\n// the read dates in the csv file are like that: 5/14/1974 \r\n\r\nprivate static DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\n\r\n// I also tried using the same format\r\n// private static DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;); \r\n\r\n// code omittted for brevity\r\n\r\nLocalDate.parse(csvRecord.get(Headers.BirthDate), formatter); // gives error\r\n```\r\n\r\n\r\n`csvRecord.get(Headers.BirthDate)` gives date correctly as `4/6/1986` in string format, but `LocalDate.parse(...)` cannot parse and gives &quot;*Text &#39;4/6/1986&#39; could not be parsed at index 0*&quot; error. So, what is wrong in my implementation? If I change date in csv file to `1986/6/1` then `LocalDate.parse()` working. Maybe I need to read the data in this format and then convert to desired format.\r\n\r\nI can use some approach like [that](https://mkyong.com/java8/java-8-how-to-convert-string-to-localdate/), but I need to get date as `LocalDate` format instead of `String` and that may be the factor causing error:\r\n\r\n\r\n```\r\n\r\npublic static void main(String[] args) {\r\n\r\n    Locale.setDefault(Locale.FRANCE);\r\n\r\n    // no problem now, DateTimeFormatter always uses Locale.US\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;d-MMM-yyyy&quot;, Locale.US);\r\n\r\n    String date = &quot;16-Aug-2016&quot;;\r\n\r\n    LocalDate localDate = LocalDate.parse(date, formatter);\r\n\r\n    System.out.println(localDate);  //default, print ISO_LOCAL_DATE\r\n\r\n    System.out.println(formatter.format(localDate)); // print formatted date\r\n\r\n}\r\n```","title":"Cannot format in LocalDate instead of String in Java","body":"<p>I have the following field in an entity:</p>\n<pre><code>private LocalDate birthDate;\n</code></pre>\n<p>I try to get date fields from CSV file using <a href=\"https://commons.apache.org/proper/commons-csv/user-guide.html#Defining_a_header_manually\" rel=\"nofollow noreferrer\">Apache Commons CSV</a> and need to convert the read date field as <code>LocalDate</code> with the format I set in formatter:</p>\n<pre><code>\n// the read dates in the csv file are like that: 5/14/1974 \n\nprivate static DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\n\n// I also tried using the same format\n// private static DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;); \n\n// code omittted for brevity\n\nLocalDate.parse(csvRecord.get(Headers.BirthDate), formatter); // gives error\n</code></pre>\n<p><code>csvRecord.get(Headers.BirthDate)</code> gives date correctly as <code>4/6/1986</code> in string format, but <code>LocalDate.parse(...)</code> cannot parse and gives &quot;<em>Text '4/6/1986' could not be parsed at index 0</em>&quot; error. So, what is wrong in my implementation? If I change date in csv file to <code>1986/6/1</code> then <code>LocalDate.parse()</code> working. Maybe I need to read the data in this format and then convert to desired format.</p>\n<p>I can use some approach like <a href=\"https://mkyong.com/java8/java-8-how-to-convert-string-to-localdate/\" rel=\"nofollow noreferrer\">that</a>, but I need to get date as <code>LocalDate</code> format instead of <code>String</code> and that may be the factor causing error:</p>\n<pre><code>\npublic static void main(String[] args) {\n\n    Locale.setDefault(Locale.FRANCE);\n\n    // no problem now, DateTimeFormatter always uses Locale.US\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;d-MMM-yyyy&quot;, Locale.US);\n\n    String date = &quot;16-Aug-2016&quot;;\n\n    LocalDate localDate = LocalDate.parse(date, formatter);\n\n    System.out.println(localDate);  //default, print ISO_LOCAL_DATE\n\n    System.out.println(formatter.format(localDate)); // print formatted date\n\n}\n</code></pre>\n"},{"tags":["java","oop","inheritance"],"comments":[{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":0,"creation_date":1657488507,"post_id":72932007,"comment_id":128816005,"body_markdown":"I think you either need to re-evaluate your class hierarchy (It&#39;s hard for me to tell what is &quot;right&quot; given what you&#39;ve shared) or you could add another method that can accept a `Position` that does not use methods on `Node`.","body":"I think you either need to re-evaluate your class hierarchy (It&#39;s hard for me to tell what is &quot;right&quot; given what you&#39;ve shared) or you could add another method that can accept a <code>Position</code> that does not use methods on <code>Node</code>."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1657489465,"post_id":72932007,"comment_id":128816135,"body_markdown":"Which JDK are you using? I tried reproducing your issue but things compile fine (JDK 17). Also, is it intentional for `Node&lt;E&gt;` to be static?","body":"Which JDK are you using? I tried reproducing your issue but things compile fine (JDK 17). Also, is it intentional for <code>Node&lt;E&gt;</code> to be static?"}],"owner":{"account_id":23961112,"reputation":11,"user_id":17951173,"display_name":"esokumamon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657488261,"creation_date":1657488261,"question_id":72932007,"body_markdown":"i have an interface position\r\n```\r\npublic interface Position&lt;E&gt; \r\n```\r\nand a class node that implements position\r\n```\r\nprotected static class Node&lt;E&gt; implements Position&lt;E&gt;\r\n```\r\n\r\ni have a function Traversal that takes Node&lt;E&gt; n as argument\r\n```\r\npublic Position&lt;E&gt; Traversal(Node&lt;E&gt; n){...}\r\n```\r\n\r\nnow i try to pass `Position&lt;String&gt; n` to Traversal as an argument\r\n```\r\nSystem.out.println(Traversal(n));\r\n```\r\nand get the error\r\n```\r\n Traversal(Node&lt;E&gt;) is not applicable for the arguments (Position&lt;String&gt;)\r\n```\r\nI can&#39;t change\r\n```\r\nPosition&lt;E&gt; Traversal(Node&lt;E&gt; n)\r\n```\r\nto \r\n```\r\nPosition&lt;E&gt; Traversal(Position&lt;E&gt; n)\r\n```\r\nsince I need to use methods in the Node class not defined in the position interface.\r\nSo how can I resolve this error? \r\n\r\n","title":"In Java How to Input an object defined as Its Interface as argument","body":"<p>i have an interface position</p>\n<pre><code>public interface Position&lt;E&gt; \n</code></pre>\n<p>and a class node that implements position</p>\n<pre><code>protected static class Node&lt;E&gt; implements Position&lt;E&gt;\n</code></pre>\n<p>i have a function Traversal that takes Node n as argument</p>\n<pre><code>public Position&lt;E&gt; Traversal(Node&lt;E&gt; n){...}\n</code></pre>\n<p>now i try to pass <code>Position&lt;String&gt; n</code> to Traversal as an argument</p>\n<pre><code>System.out.println(Traversal(n));\n</code></pre>\n<p>and get the error</p>\n<pre><code> Traversal(Node&lt;E&gt;) is not applicable for the arguments (Position&lt;String&gt;)\n</code></pre>\n<p>I can't change</p>\n<pre><code>Position&lt;E&gt; Traversal(Node&lt;E&gt; n)\n</code></pre>\n<p>to</p>\n<pre><code>Position&lt;E&gt; Traversal(Position&lt;E&gt; n)\n</code></pre>\n<p>since I need to use methods in the Node class not defined in the position interface.\nSo how can I resolve this error?</p>\n"},{"tags":["java","android","android-fragments","mobile","android-button"],"answers":[{"tags":[],"owner":{"account_id":2786826,"reputation":2172,"user_id":2398000,"display_name":"avalerio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657477794,"creation_date":1657477794,"answer_id":72930917,"question_id":72930889,"body_markdown":"In fragments the view is accessed in a different way.\r\n\r\nIn an Activity you use, `setContentView(R.layout.activity_main);` This allows the use of straight calls to `findViewById(R.id.button);`\r\n\r\nIn a Fragment `findViewById` only exists at the individual view level.\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_satis, container, false);\r\n        Button button = view.findViewById(R.id.button); //&lt;-- Here is your button\r\n        return view;\r\n    }","title":"I want to add fragment button but it is not working","body":"<p>In fragments the view is accessed in a different way.</p>\n<p>In an Activity you use, <code>setContentView(R.layout.activity_main);</code> This allows the use of straight calls to <code>findViewById(R.id.button);</code></p>\n<p>In a Fragment <code>findViewById</code> only exists at the individual view level.</p>\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_satis, container, false);\n    Button button = view.findViewById(R.id.button); //&lt;-- Here is your button\n    return view;\n}\n</code></pre>\n"}],"owner":{"account_id":22536412,"reputation":7,"user_id":16727652,"display_name":"Efe Bostancı"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657487413,"creation_date":1657477497,"question_id":72930889,"body_markdown":"i am new to android, i want to add fragment button like in activity, but i can&#39;t add it where do i add it (findViewById is not coming out when i try to add it anywhere)\r\n\r\n\r\n```public class SatisFragment extends Fragment {\r\n\r\n    private ImageView walleticon;\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n\r\n    public static SatisFragment newInstance(String param1, String param2) {\r\n        SatisFragment fragment = new SatisFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        return inflater.inflate(R.layout.fragment_satis, container, false);\r\n    }\r\n    public SatisFragment(){\r\n\r\n    }\r\n}```","title":"I want to add fragment button but it is not working","body":"<p>i am new to android, i want to add fragment button like in activity, but i can't add it where do i add it (findViewById is not coming out when i try to add it anywhere)</p>\n<pre><code>\n    private ImageView walleticon;\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    private String mParam1;\n    private String mParam2;\n\n\n    public static SatisFragment newInstance(String param1, String param2) {\n        SatisFragment fragment = new SatisFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        return inflater.inflate(R.layout.fragment_satis, container, false);\n    }\n    public SatisFragment(){\n\n    }\n}```\n</code></pre>\n"},{"tags":["java","spring","multithreading","spring-boot","concurrency"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656923235,"post_id":72852720,"comment_id":128680474,"body_markdown":"Is `HttpThreadBusinessContext` really a singleton? There is far too little information in this question to answer it. No configuration, no **full stacktrace**. The method is `private` so how are you calling this?","body":"Is <code>HttpThreadBusinessContext</code> really a singleton? There is far too little information in this question to answer it. No configuration, no <b>full stacktrace</b>. The method is <code>private</code> so how are you calling this?"},{"owner":{"account_id":9713597,"reputation":615,"user_id":7204683,"accept_rate":38,"display_name":"Umair"},"score":0,"creation_date":1656924567,"post_id":72852720,"comment_id":128680950,"body_markdown":"@M.Deinum I have updated question with full code and logs . Kindly look into it now.","body":"@M.Deinum I have updated question with full code and logs . Kindly look into it now."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656924834,"post_id":72852720,"comment_id":128681040,"body_markdown":"Still no configuration, full stacktrace or the class that is scoped that shouldn&#39;t be scoped.","body":"Still no configuration, full stacktrace or the class that is scoped that shouldn&#39;t be scoped."},{"owner":{"account_id":9713597,"reputation":615,"user_id":7204683,"accept_rate":38,"display_name":"Umair"},"score":0,"creation_date":1656926449,"post_id":72852720,"comment_id":128681594,"body_markdown":"@M.Deinum I have added the class (HttpBusinessContext)  the class that is scoped that shouldn&#39;t be scoped.","body":"@M.Deinum I have added the class (HttpBusinessContext)  the class that is scoped that shouldn&#39;t be scoped."},{"owner":{"account_id":9713597,"reputation":615,"user_id":7204683,"accept_rate":38,"display_name":"Umair"},"score":0,"creation_date":1656931363,"post_id":72852720,"comment_id":128683349,"body_markdown":"@M.Deinum I have added the stack trace and code, can you kindly look into it.","body":"@M.Deinum I have added the stack trace and code, can you kindly look into it."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656939398,"post_id":72852720,"comment_id":128685910,"body_markdown":"The `HttpThreadBusinessContext` isn&#39;t annotated so there must be an `@Configuration` with an `@Bean` (or an XML config) which makes this a bean.","body":"The <code>HttpThreadBusinessContext</code> isn&#39;t annotated so there must be an <code>@Configuration</code> with an <code>@Bean</code> (or an XML config) which makes this a bean."},{"owner":{"account_id":9713597,"reputation":615,"user_id":7204683,"accept_rate":38,"display_name":"Umair"},"score":0,"creation_date":1657486369,"post_id":72852720,"comment_id":128815669,"body_markdown":"yes @M.Deinum it is created in configuration class, as I have added in question part.","body":"yes @M.Deinum it is created in configuration class, as I have added in question part."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657518315,"post_id":72852720,"comment_id":128819860,"body_markdown":"And there you can clearly see `@RequestScope` so it is a scoped proxy and not a singleton as you mention.","body":"And there you can clearly see <code>@RequestScope</code> so it is a scoped proxy and not a singleton as you mention."},{"owner":{"account_id":9713597,"reputation":615,"user_id":7204683,"accept_rate":38,"display_name":"Umair"},"score":0,"creation_date":1657571828,"post_id":72852720,"comment_id":128838257,"body_markdown":"so @M.Deinum how can I resolve this error ? so that my this bean is accessible in aysnc call too ?","body":"so @M.Deinum how can I resolve this error ? so that my this bean is accessible in aysnc call too ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657603887,"post_id":72852720,"comment_id":128843536,"body_markdown":"It isn&#39;t accessible because it it tied to a request, your background task doesn&#39;t have access to the request nor the request scope.","body":"It isn&#39;t accessible because it it tied to a request, your background task doesn&#39;t have access to the request nor the request scope."},{"owner":{"account_id":9713597,"reputation":615,"user_id":7204683,"accept_rate":38,"display_name":"Umair"},"score":0,"creation_date":1657689269,"post_id":72852720,"comment_id":128867296,"body_markdown":"yes @M.Deinum but actually it is necessary to make it of `RequestScope` because we need separate object of `HttpThreadBusinessContext` for every request. So how can we resolve this issue that this object is separate for every request and is also accessible in async task ?","body":"yes @M.Deinum but actually it is necessary to make it of <code>RequestScope</code> because we need separate object of <code>HttpThreadBusinessContext</code> for every request. So how can we resolve this issue that this object is separate for every request and is also accessible in async task ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657692518,"post_id":72852720,"comment_id":128867920,"body_markdown":"You cannot have it both ways, it either is request scoped or it isn&#39;t. If it is request scoped you cannot use it in a thread launched from that request as a request is thread bound. You will need to copy the data to something else that is available in the thread.","body":"You cannot have it both ways, it either is request scoped or it isn&#39;t. If it is request scoped you cannot use it in a thread launched from that request as a request is thread bound. You will need to copy the data to something else that is available in the thread."}],"owner":{"account_id":9713597,"reputation":615,"user_id":7204683,"accept_rate":38,"display_name":"Umair"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657486451,"creation_date":1656917316,"question_id":72852720,"body_markdown":"I have a bean of `Httpbusinesscontext` at class level. It&#39;s scope is request. Now when I try to access it in one of the async call in same class. It throws Method threw &#39;org.springframework.beans.factory.support.ScopeNotActiveException&#39; exception&gt; I need help here that how can I resolve it. Do I need to change the scope of `Httpbusinesscontext` bean or there is some other way through which I can avoid this issue.\r\n\r\nHere is the stack trace I am getting:\r\n\r\n\r\norg.springframework.beans.factory.support.ScopeNotActiveException: Error creating bean with name &#39;scopedTarget.getHttpThreadContext&#39;: Scope &#39;request&#39; is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\r\n\r\nHere is the code of bean creation for `Httpbusinesscontext` class:\r\n\r\n    @Bean\r\n    @RequestScope\r\n    public HttpThreadBusinessContext getHttpThreadContext(){\r\n        return new HttpThreadBusinessContext();\r\n    }\r\n\r\n\r\nHere is the code:\r\n\r\n    /**\r\n     * This Service class will be used to handle business logic and complete processing if requestType = Details\r\n     */\r\n    @Service\r\n    public class OrderDetailsRequestOperator {\r\n    \r\n    \tprivate static final RxWrappedLogger logger = RxWrappedLogger.getWrappedLogger(OrderDetailsRequestOperator.class);\r\n    \tprivate static final AsyncRxWrappedLogger asyncWrappedLogger = AsyncRxWrappedLogger.getWrappedLogger(OrderDetailsRequestOperator.class);\r\n    \tprivate static final Gson gson = new GsonBuilder().disableHtmlEscaping().create();\r\n    \r\n    \t@Autowired\r\n    \tprivate HttpThreadBusinessContext httpThreadBusinessContext;\r\n    \r\n    \t@Autowired\r\n    \tprivate SyncSapsRequestGateKeeper syncSapsRequestGateKeeper;\r\n    \r\n    \t@Autowired\r\n    \tprivate FulfillmentOrderDtlRepo orderDtlRepo;\r\n    \r\n    \t@ManagedConfiguration\r\n    \tprivate IRoutingConfig ccmManagedRoutingConfig;\r\n    \r\n    \t@Autowired\r\n    \tprivate PatientRestrictionsCheckOperator patientRestrictionsCheckOperator;\r\n    \r\n    \t@Autowired\r\n    \tprivate FulfillmentOrderRepo orderRepo;\r\n    \r\n    \t/**\r\n    \t * Method to complete processing if requestType= Details\r\n    \t * @param request\r\n    \t * @return\r\n    \t */\r\n    \r\n    \tpublic OrderDetailsFulfillmentResponse processRequest(OrderDetailsFulfillmentRequest request) {\r\n    \r\n    \t\tOrderDetailsFulfillmentResponse response;\r\n    \t\tOrderDetailsStoreResponse storeResponse;\r\n    \t\t/*\r\n    \t\t * post to store for order details\r\n    \t\t */\r\n    \t\ttry {\r\n    \t\t\t//set readyForPickup to true to always filter rx&#39;s that are in resolution\r\n    \t\t\trequest.setIsReadyForPickup(true);\r\n    \t\t\t//Calling Downstream Store api for OrderDetail.\r\n    \t\t\tstoreResponse = syncSapsRequestGateKeeper.retryAbleCall(request.getSiteNbr(),ccmManagedRoutingConfig.getOrderDetailsUrl(),getHttpHeaders(),\r\n    \t\t\t\t\trequest,OrderDetailsStoreResponse.class);\r\n    \r\n    \t\t\tresponse = OrderInfoUtil.buildOrderDetailsResponseFromStoreResponse(storeResponse);\r\n    \t\t\tresponse.setSiteNbr(request.getSiteNbr());\r\n    \t\t\tresponse.setCountryCode(request.getCountryCode());\r\n    \t\t\tresponse.setRequestType(request.getRequestType());\r\n    \t\t\t//check if order details were found\r\n    \t\t\tif(!storeResponse.getResponseCode().equals(Constants.SUCCESS_CODE)) {\r\n    \t\t\t\treturn response;\r\n    \t\t\t}\r\n    \t\t\tlogger.info(httpThreadBusinessContext,&quot;Data Fetched successfully from SAPs&quot;);\r\n    \r\n    \t\t\t//save order to fulfillment_order table with setting is_source_dotcom value\r\n    \t\t\tupdateOrderInFulfillmentTable(storeResponse.getSiteNbr(),storeResponse.getOrderId(),storeResponse.getOrderDetails().getIsSourceDotcom());\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlogger.error(httpThreadBusinessContext,&quot;Error occurred during request to store&quot;, e);\r\n    \t\t\treturn CommonUtil.getFailResponse(request, Constants.INTERNAL_SERVER_ERROR_CODE,Constants.PASSTHROUGH_REQUEST_ERROR_MSG);\r\n    \t\t}\r\n    \r\n    \t\t/*\r\n    \t\t * Save order details to database\r\n    \t\t */\r\n    \t\ttry {\r\n    \t\t\tlogger.info(httpThreadBusinessContext,&quot;Going to save Order-dtl to DB&quot;);\r\n    \t\t\t//Saving Order-Detail to DB in case of Details request\r\n    \t\t\tsaveOrderDtlToDB(request,storeResponse);\r\n    \t\t\treturn response;\r\n    \r\n    \t\t} catch(Exception e) {\r\n    \t\t\tlogger.error(httpThreadBusinessContext,&quot;Database error occurred saving Order Details&quot;, e);\r\n    \t\t\treturn CommonUtil.getFailResponse(request, Constants.INTERNAL_SERVER_ERROR_CODE, Constants.DATABASE_ERROR_MSG);\r\n    \t\t}finally {\r\n    \t\t\t//populate patient flags asynchronously\r\n    \t\t\tif(storeResponse.getResponseCode().equals(Constants.SUCCESS_CODE)) {\r\n    \t\t\t\tthis.updatePatientRestrictionsFlagAsync(response, storeResponse);\r\n    \t\t\t\tlogger.debug(httpThreadBusinessContext, &quot;patient restriction flgs updated&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \t/**\r\n    \t * this method starts a process in a separate thread to update value of has_paper_reduction flag in order_dtl table\r\n    \t * @param response\r\n    \t * @param storeResponse\r\n    \t */\r\n    \tprivate void updatePatientRestrictionsFlagAsync(OrderDetailsFulfillmentResponse response, OrderDetailsStoreResponse storeResponse) {\r\n    \t\tlogger.info(httpThreadBusinessContext,&quot;updatePatientRestrictionsFlagAsync process initiated!&quot;);\r\n    \r\n    \t\t// Run this process asynchronously so it can happen in the background\r\n    \t\t//calculate and update value of has_paper_reduction flag in DB for each Patient/order-Seq-Nbr\r\n    \t\tInteger storeNumber = response.getSiteNbr();\r\n    \t\tif(storeResponse != null &amp;&amp; storeResponse.getOrderDetails() != null\r\n    \t\t\t\t&amp;&amp; storeResponse.getOrderDetails().getPatientDetails() != null){\r\n    \r\n    \t\t\tfor (StorePatientDetails patientDetails: storeResponse.getOrderDetails().getPatientDetails()) {\r\n    \t\t\t\tInteger patientId = patientDetails.getPatientId();\r\n    \r\n    \t\t\t\tif(isIntegerGreaterThanZero(storeNumber) &amp;&amp; isIntegerGreaterThanZero(patientId)){\r\n    \r\n    \t\t\t\t\t// It should have been created in child thread instead oif parent thread as it is to be used in child thread.\r\n    \t\t\t\t\tfinal AsyncHttpThreadBusinessContext asyncHttpThreadBusinessContext = new AsyncHttpThreadBusinessContext(httpThreadBusinessContext);\r\n    \r\n    \t\t\t\t\tCompletableFuture.supplyAsync(() -&gt; {\r\n    \t\t\t\t\t\treturn patientRestrictionsCheckOperator.getCloudPatientAPIResponse(storeNumber,patientId,asyncHttpThreadBusinessContext);\r\n    \t\t\t\t\t}).whenComplete((restrictList, t) -&gt; {  // child thread\r\n    \r\n    \t\t\t\t\t\t// solution 1 :\r\n    \r\n    \t\t\t\t\t\t// issue : The issue is that both threads are accessing same variable of logger and httpcontext at same time.\r\n    \t\t\t\t\t\t// i) convert the logger and context into bean.\r\n    \t\t\t\t\t\t// ii) create new object of looger and context every time in child thread.\r\n    \t\t\t\t\t\t// iii) change the scope of logger and context bean and set logger and context in interceptor the star tof request.\r\n    \r\n    \t\t\t\t\t\t// create\r\n    \t\t\t\t\t\t// it should be there\r\n    \t\t\t\t\t\tif (restrictList != null) {\r\n    \r\n    \t\t\t\t\t\t\t//Update the order details in the database with Has_paper_reduction flag.\r\n    \t\t\t\t\t\t\tboolean hasPaperReduced = patientRestrictionsCheckOperator.filterListByFLag(restrictList, RestrictionCode.HAS_PAPER_REDUCED.getKey(), asyncHttpThreadBusinessContext);\r\n    \t\t\t\t\t\t\tboolean isLargeFontLeaflet = patientRestrictionsCheckOperator.filterListByFLag(restrictList, RestrictionCode.LARGER_FONT_LEAFLET.getKey(), asyncHttpThreadBusinessContext);\r\n    \t\t\t\t\t\t\tboolean isVisuallyImpaired = patientRestrictionsCheckOperator.filterListByFLag(restrictList, RestrictionCode.VISUALLY_IMPAIRED.getKey(), asyncHttpThreadBusinessContext);\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\tthis.updatePatientRestrictionFlagsInOrderDtl(storeResponse.getOrderId(),storeNumber,\r\n    \t\t\t\t\t\t\t\t\tpatientDetails,hasPaperReduced,isLargeFontLeaflet,isVisuallyImpaired,asyncHttpThreadBusinessContext);\r\n    \t\t\t\t\t\t\tasyncWrappedLogger.info(asyncHttpThreadBusinessContext,&quot;updatePatientRestrictionFlagsAsync process completed ! has_paper_reduced : &quot;+ restrictList);\r\n    \t\t\t\t\t\t\tlogger.info(httpThreadBusinessContext,&quot;updatePatientRestrictionFlagsAsync process completed ! has_paper_reduced : &quot;+ restrictList);\r\n    \r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t});\r\n    \t\t\t\t}else{\r\n    \t\t\t\t\tlogger.warn(httpThreadBusinessContext,&quot;Error!Unable to compute patient restriction flags value,Invalid Params store:&quot;+storeNumber+&quot;, patientID:&quot;+patientId);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Save order Details to DB\r\n    \t * @param request\r\n    \t * @param response\r\n    \t */\r\n    \tprivate void saveOrderDtlToDB(OrderDetailsFulfillmentRequest request, OrderDetailsStoreResponse response) {\r\n    \t\t//loop through length of patients list and nested loop through rx list.  saving records on rx level\r\n    \t\tfor (StorePatientDetails patient : response.getOrderDetails().getPatientDetails()) {\r\n    \t\t\tfor(StoreRxDetails rx : patient.getRxDetails()) {\r\n    \t\t\t\tFulfillmentOrderDtlPK pk = new FulfillmentOrderDtlPK();\r\n    \t\t\t\tpk.setOrderId(request.getOrderId());\r\n    \t\t\t\tpk.setStoreNbr(request.getSiteNbr());\r\n    \t\t\t\tpk.setOrderSeqNbr(rx.getOrderSeqNbr());\r\n    \t\t\t\tFulfillmentOrderDtl row = new FulfillmentOrderDtl();\r\n    \t\t\t\trow.setOrderDtlPk(pk);\r\n    \t\t\t\trow.setPatientId(patient.getPatientId());\r\n    \t\t\t\trow.setFillSeqNbr(rx.getFillSeqNbr());\r\n    \t\t\t\trow.setRxFillId(rx.getRxFillId());\r\n    \t\t\t\trow.setRxNbr(rx.getRxNbr());\r\n    \t\t\t\trow.setRxPrice(rx.getRxPrice());\r\n    \t\t\t\trow.setPaymentComplete(false); // auto set to false here\r\n    \t\t\t\trow.setDrugCode(rx.getDrugCode());\r\n    \t\t\t\trow.setIsRefill(rx.getIsRefill()); // set value of isRefill to true or false\r\n    \t\t\t\trow.setPrefLangCode(response.getOrderDetails().getPatientDetails().get(0).getPreferredLanguage()); //only ever 1 patient in list\r\n    \t\t\t\tif(response.getOrderDetails().getCardOnFile()) {\r\n    \t\t\t\t\trow.setPaymentTypeCode(1); //1 for charge card, 2 for pay at register\r\n    \t\t\t\t}else {\r\n    \t\t\t\t\trow.setPaymentTypeCode(2);\r\n    \t\t\t\t}\r\n    \t\t\t\torderDtlRepo.save(row);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Update the order details in the database with Has_paper_reduction flag\r\n    \t * @param orderId OrderID to be updated\r\n    \t * @param siteNbr StoreNumber\r\n    \t * @param patientDetails patient Details\r\n    \t * @param hasPaperReduction\r\n    \t * @param  asyncHttpThreadBusinessContext asyncHttpThreadBusinessContext containing business info\r\n    \t */\r\n    \tprotected void updatePatientRestrictionFlagsInOrderDtl(String orderId,Integer siteNbr,StorePatientDetails patientDetails,Boolean hasPaperReduction,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t Boolean isLargeFontLeaflet, Boolean isVisuallyImpaired, AsyncHttpThreadBusinessContext asyncHttpThreadBusinessContext) {\r\n    \t\ttry {\r\n    \t\t\tList&lt;FulfillmentOrderDtlPK&gt; orderDetailsPkList = new ArrayList&lt;&gt;();\r\n    \t\t\tif(patientDetails != null &amp;&amp; !patientDetails.getRxDetails().isEmpty()){\r\n    \t\t\t\tfor (StoreRxDetails rxDetais : patientDetails.getRxDetails()) {\r\n    \t\t\t\t\tFulfillmentOrderDtlPK pk = new FulfillmentOrderDtlPK();\r\n    \t\t\t\t\tpk.setOrderId(orderId);\r\n    \t\t\t\t\tpk.setStoreNbr(siteNbr);\r\n    \t\t\t\t\tpk.setOrderSeqNbr(rxDetais.getOrderSeqNbr());\r\n    \t\t\t\t\torderDetailsPkList.add(pk);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tList&lt;FulfillmentOrderDtl&gt; orderDtlRows = orderDtlRepo.findAllById(orderDetailsPkList);\r\n    \t\t\tif (!orderDtlRows.isEmpty() &amp;&amp; isUpdateRequired(hasPaperReduction, isLargeFontLeaflet, isVisuallyImpaired, orderDtlRows)){\r\n    \t\t\t\t\torderDtlRepo.saveAll(orderDtlRows);\r\n    \t\t\t\t\tasyncWrappedLogger.info(asyncHttpThreadBusinessContext, &quot;Order Details updated with patient restriction flags in Cloud SQL DB&quot;);\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tasyncWrappedLogger.error(asyncHttpThreadBusinessContext,&quot;Unable to update has_paper_reduction flag in order details in DB&quot;,e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Validates if it needs to update flags containing restriction type codes value in the database\r\n    \t * @param hasPaperReduction flag to store restrictionTypeCode for paper reduction\r\n    \t * @param isLargeFontLeaflet flag to store restrictionTypeCode for large font leaflet\r\n    \t * @param isVisuallyImpaired flag to store restrictionTypeCode for visually Impaired indicator\r\n    \t * @param  orderDtlRows order Details to be updated\r\n    \t */\r\n    \tprivate boolean isUpdateRequired(Boolean hasPaperReduction, Boolean isLargeFontLeaflet, Boolean isVisuallyImpaired, List&lt;FulfillmentOrderDtl&gt; orderDtlRows) {\r\n    \t\tboolean updateRequired = false;\r\n    \t\tfor (FulfillmentOrderDtl orderDtl: orderDtlRows) {\r\n    \t\t\t//update only if value is different\r\n    \t\t\tif (orderDtl.getHasPaperReduction() == null ||\r\n    \t\t\t\t\t!orderDtl.getHasPaperReduction().equals(hasPaperReduction)) {\r\n    \t\t\t\torderDtl.setHasPaperReduction(hasPaperReduction);\r\n    \t\t\t\tupdateRequired = true;\r\n    \t\t\t}\r\n    \t\t\tif (orderDtl.getIsLargeFontLeaflet() == null ||\r\n    \t\t\t\t\t!orderDtl.getIsLargeFontLeaflet().equals(isLargeFontLeaflet)) {\r\n    \t\t\t\torderDtl.setIsLargeFontLeaflet(isLargeFontLeaflet);\r\n    \t\t\t\tupdateRequired = true;\r\n    \t\t\t}\r\n    \t\t\tif (orderDtl.getIsVisuallyImpaired() == null ||\r\n    \t\t\t\t\t!orderDtl.getIsVisuallyImpaired().equals(isVisuallyImpaired)) {\r\n    \t\t\t\torderDtl.setIsVisuallyImpaired(isVisuallyImpaired);\r\n    \t\t\t\tupdateRequired = true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn updateRequired;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * this method updates the value of isSourceDotCom column in order fulfillment table.\r\n    \t * @param siteNbr\r\n    \t * @param orderId\r\n    \t * @param isSourceDotCom\r\n    \t */\r\n    \tpublic int updateOrderInFulfillmentTable(Integer siteNbr, String orderId, Boolean isSourceDotCom) {\r\n    \t\treturn orderRepo.updateisSourceDotcomColumnValue(isSourceDotCom,siteNbr, Integer.valueOf(orderId));\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nand here is the **HttpBusinessContext** class.\r\n\r\n    //\r\n    // Source code recreated from a .class file by IntelliJ IDEA\r\n    // (powered by FernFlower decompiler)\r\n    //\r\n    import \r\n    \r\n    public class HttpThreadBusinessContext {\r\n        private Integer siteNbr;\r\n        private String countryCode;\r\n        private String endPoint;\r\n        private Object requestBody;\r\n        private Map&lt;String, Object&gt; requestIdentifier = new HashMap();\r\n        private String correlationId;\r\n    \r\n        public HttpThreadBusinessContext() {\r\n        }\r\n    \r\n        public Integer getSiteNbr() {\r\n            return this.siteNbr;\r\n        }\r\n    \r\n        public String getCountryCode() {\r\n            return this.countryCode;\r\n        }\r\n    \r\n        public String getEndPoint() {\r\n            return this.endPoint;\r\n        }\r\n    \r\n        public Object getRequestBody() {\r\n            return this.requestBody;\r\n        }\r\n    \r\n        public Map&lt;String, Object&gt; getRequestIdentifier() {\r\n            return this.requestIdentifier;\r\n        }\r\n    \r\n        public String getCorrelationId() {\r\n            return this.correlationId;\r\n        }\r\n    \r\n        public void setSiteNbr(Integer siteNbr) {\r\n            this.siteNbr = siteNbr;\r\n        }\r\n    \r\n        public void setCountryCode(String countryCode) {\r\n            this.countryCode = countryCode;\r\n        }\r\n    \r\n        public void setEndPoint(String endPoint) {\r\n            this.endPoint = endPoint;\r\n        }\r\n    \r\n        public void setRequestBody(Object requestBody) {\r\n            this.requestBody = requestBody;\r\n        }\r\n    \r\n        public void setRequestIdentifier(Map&lt;String, Object&gt; requestIdentifier) {\r\n            this.requestIdentifier = requestIdentifier;\r\n        }\r\n    \r\n        public void setCorrelationId(String correlationId) {\r\n            this.correlationId = correlationId;\r\n        }\r\n    \r\n        public InfoLog getInfoLog(String logMessage, Integer responseCode, String responseText) {\r\n            InfoLog infoLog = new InfoLog(logMessage, (Object)null, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, responseCode, responseText, (Map)null);\r\n            infoLog.setCorrelationId(this.correlationId);\r\n            return infoLog;\r\n        }\r\n    \r\n        public InfoLog getInfoLog(String logMessage) {\r\n            InfoLog infoLog = new InfoLog(logMessage, (Object)null, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (Integer)null, (String)null, (Map)null);\r\n            infoLog.setCorrelationId(this.correlationId);\r\n            return infoLog;\r\n        }\r\n    \r\n        public InfoLog getInfoLog(String logMessage, Map&lt;String, Object&gt; infoLogIdentifier) {\r\n            InfoLog infoLog = new InfoLog(logMessage, (Object)null, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (Integer)null, (String)null, infoLogIdentifier);\r\n            infoLog.setCorrelationId(this.correlationId);\r\n            return infoLog;\r\n        }\r\n    \r\n        public InfoLog getInfoLog(String logMessage, Integer responseCode, String responseText, Map&lt;String, Object&gt; infoLogIdentifier) {\r\n            InfoLog infoLog = new InfoLog(logMessage, (Object)null, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, responseCode, responseText, infoLogIdentifier);\r\n            infoLog.setCorrelationId(this.correlationId);\r\n            return infoLog;\r\n        }\r\n    \r\n        public ErrorLog getErrorLog(String logMessage, Integer responseCode, String responseText, Exception exception) {\r\n            ErrorLog errorLog = new ErrorLog(logMessage, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, responseCode, responseText, (Map)null, exception, (Map)null, (Map)null);\r\n            errorLog.setCorrelationId(this.correlationId);\r\n            return errorLog;\r\n        }\r\n    \r\n        public ErrorLog getErrorLog(String logMessage, Integer responseCode, String responseText) {\r\n            ErrorLog errorLog = new ErrorLog(logMessage, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, responseCode, responseText, (Map)null, (Exception)null, (Map)null, (Map)null);\r\n            errorLog.setCorrelationId(this.correlationId);\r\n            return errorLog;\r\n        }\r\n    \r\n        public ErrorLog getErrorLog(String logMessage) {\r\n            ErrorLog errorLog = new ErrorLog(logMessage, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (Integer)null, (String)null, (Map)null, (Exception)null, (Map)null, (Map)null);\r\n            errorLog.setCorrelationId(this.correlationId);\r\n            return errorLog;\r\n        }\r\n    \r\n        public ErrorLog getErrorLog(String logMessage, Exception exception) {\r\n            ErrorLog errorLog = new ErrorLog(logMessage, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (Integer)null, (String)null, (Map)null, exception, (Map)null, (Map)null);\r\n            errorLog.setCorrelationId(this.correlationId);\r\n            return errorLog;\r\n        }\r\n    \r\n        public ErrorLog getErrorLog(String logMessage, Exception exception, Map&lt;String, Object&gt; errorLogIdentifier) {\r\n            ErrorLog errorLog = new ErrorLog(logMessage, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (Integer)null, (String)null, (Map)null, exception, (Map)null, errorLogIdentifier);\r\n            errorLog.setCorrelationId(this.correlationId);\r\n            return errorLog;\r\n        }\r\n    \r\n        public ErrorLog getErrorLog(String logMessage, Integer responseCode, String responseText, Exception exception, Map&lt;String, Object&gt; errorLogIdentifier) {\r\n            ErrorLog errorLog = new ErrorLog(logMessage, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, responseCode, responseText, (Map)null, exception, (Map)null, errorLogIdentifier);\r\n            errorLog.setCorrelationId(this.correlationId);\r\n            return errorLog;\r\n        }\r\n    \r\n        public ErrorLog getErrorLog(String logMessage, Integer responseCode, String responseText, Map&lt;String, Object&gt; errorLogIdentifier) {\r\n            ErrorLog errorLog = new ErrorLog(logMessage, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, responseCode, responseText, (Map)null, (Exception)null, (Map)null, errorLogIdentifier);\r\n            errorLog.setCorrelationId(this.correlationId);\r\n            return errorLog;\r\n        }\r\n    \r\n        public DownStreamApiCallLog getDownStreamApiCallLog(long timeTakenInMillis, String downStreamApiUrl, Object downStreamRequestPayload, Object downStreamResponsePayload) {\r\n            DownStreamApiCallLog downStreamApiCallLog = new DownStreamApiCallLog((String)null, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, timeTakenInMillis, downStreamApiUrl, (Object)null, downStreamRequestPayload, downStreamResponsePayload, (String)null);\r\n            downStreamApiCallLog.setCorrelationId(this.correlationId);\r\n            return downStreamApiCallLog;\r\n        }\r\n    \r\n        public DownStreamApiCallLog getDownStreamApiCallLog(long timeTakenInMillis, String downStreamApiUrl, Object identificationFields) {\r\n            DownStreamApiCallLog downStreamApiCallLog = new DownStreamApiCallLog((String)null, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, timeTakenInMillis, downStreamApiUrl, identificationFields, (Object)null, (Object)null, (String)null);\r\n            downStreamApiCallLog.setCorrelationId(this.correlationId);\r\n            return downStreamApiCallLog;\r\n        }\r\n    \r\n        public DownStreamApiCallLog getDownStreamApiCallLog(long timeTakenInMillis, String downStreamApiUrl, Object identificationFields, String responseDetail) {\r\n            DownStreamApiCallLog downStreamApiCallLog = new DownStreamApiCallLog((String)null, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, timeTakenInMillis, downStreamApiUrl, identificationFields, (Object)null, (Object)null, responseDetail);\r\n            downStreamApiCallLog.setCorrelationId(this.correlationId);\r\n            return downStreamApiCallLog;\r\n        }\r\n    \r\n        public DebugLog getDebugLog(String message) {\r\n            DebugLog debugLog = new DebugLog(message, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (String)null, (Map)null);\r\n            debugLog.setCorrelationId(this.correlationId);\r\n            return debugLog;\r\n        }\r\n    \r\n        public DebugLog getDebugLog(String message, Object responseBody) {\r\n            DebugLog debugLog = new DebugLog(message, this.requestBody, responseBody, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (String)null, (Map)null);\r\n            debugLog.setCorrelationId(this.correlationId);\r\n            return debugLog;\r\n        }\r\n    \r\n        public DebugLog getDebugLog(String message, Map&lt;String, Object&gt; debugLogIdentifier) {\r\n            DebugLog debugLog = new DebugLog(message, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (String)null, debugLogIdentifier);\r\n            debugLog.setCorrelationId(this.correlationId);\r\n            return debugLog;\r\n        }\r\n    \r\n        public DebugLog getDebugLog(String message, Object requestBody, Object responseBody, Map&lt;String, Object&gt; debugLogIdentifier) {\r\n            DebugLog debugLog = new DebugLog(message, requestBody, requestBody, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (String)null, debugLogIdentifier);\r\n            debugLog.setCorrelationId(this.correlationId);\r\n            return debugLog;\r\n        }\r\n    \r\n        public WarnLog getWarnLog(String message) {\r\n            WarnLog warnLog = new WarnLog(message, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (Integer)null, (String)null, (Map)null, (Exception)null, (Map)null);\r\n            warnLog.setCorrelationId(this.correlationId);\r\n            return warnLog;\r\n        }\r\n    \r\n        public WarnLog getWarnLog(String message, Exception exception) {\r\n            WarnLog warnLog = new WarnLog(message, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (Integer)null, (String)null, (Map)null, exception, (Map)null);\r\n            warnLog.setCorrelationId(this.correlationId);\r\n            return warnLog;\r\n        }\r\n    \r\n        public WarnLog getWarnLog(String message, Exception exception, Map&lt;String, Object&gt; warnLogIdentifier) {\r\n            WarnLog warnLog = new WarnLog(message, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (Integer)null, (String)null, (Map)null, exception, warnLogIdentifier);\r\n            warnLog.setCorrelationId(this.correlationId);\r\n            return warnLog;\r\n        }\r\n    \r\n        public void setBusinessInfo(String countryCode, String endPoint, Integer siteNbr, Object requestPayload, Map&lt;String, Object&gt; requestIdentifier) {\r\n            this.setCountryCode(countryCode);\r\n            this.setEndPoint(endPoint);\r\n            this.setSiteNbr(siteNbr);\r\n            this.setRequestBody(requestPayload);\r\n            this.setRequestIdentifier(requestIdentifier);\r\n        }\r\n    \r\n        public void setBusinessInfo(String countryCode, String endPoint, Integer siteNbr, Map&lt;String, Object&gt; requestIdentifier) {\r\n            this.setCountryCode(countryCode);\r\n            this.setEndPoint(endPoint);\r\n            this.setSiteNbr(siteNbr);\r\n            this.setRequestIdentifier(requestIdentifier);\r\n        }\r\n    }","title":"Method threw &#39;org.springframework.beans.factory.support.ScopeNotActiveException&#39; exception, When I tried to access singleton bean in Async call","body":"<p>I have a bean of <code>Httpbusinesscontext</code> at class level. It's scope is request. Now when I try to access it in one of the async call in same class. It throws Method threw 'org.springframework.beans.factory.support.ScopeNotActiveException' exception&gt; I need help here that how can I resolve it. Do I need to change the scope of <code>Httpbusinesscontext</code> bean or there is some other way through which I can avoid this issue.</p>\n<p>Here is the stack trace I am getting:</p>\n<p>org.springframework.beans.factory.support.ScopeNotActiveException: Error creating bean with name 'scopedTarget.getHttpThreadContext': Scope 'request' is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.</p>\n<p>Here is the code of bean creation for <code>Httpbusinesscontext</code> class:</p>\n<pre><code>@Bean\n@RequestScope\npublic HttpThreadBusinessContext getHttpThreadContext(){\n    return new HttpThreadBusinessContext();\n}\n</code></pre>\n<p>Here is the code:</p>\n<pre><code>/**\n * This Service class will be used to handle business logic and complete processing if requestType = Details\n */\n@Service\npublic class OrderDetailsRequestOperator {\n\n    private static final RxWrappedLogger logger = RxWrappedLogger.getWrappedLogger(OrderDetailsRequestOperator.class);\n    private static final AsyncRxWrappedLogger asyncWrappedLogger = AsyncRxWrappedLogger.getWrappedLogger(OrderDetailsRequestOperator.class);\n    private static final Gson gson = new GsonBuilder().disableHtmlEscaping().create();\n\n    @Autowired\n    private HttpThreadBusinessContext httpThreadBusinessContext;\n\n    @Autowired\n    private SyncSapsRequestGateKeeper syncSapsRequestGateKeeper;\n\n    @Autowired\n    private FulfillmentOrderDtlRepo orderDtlRepo;\n\n    @ManagedConfiguration\n    private IRoutingConfig ccmManagedRoutingConfig;\n\n    @Autowired\n    private PatientRestrictionsCheckOperator patientRestrictionsCheckOperator;\n\n    @Autowired\n    private FulfillmentOrderRepo orderRepo;\n\n    /**\n     * Method to complete processing if requestType= Details\n     * @param request\n     * @return\n     */\n\n    public OrderDetailsFulfillmentResponse processRequest(OrderDetailsFulfillmentRequest request) {\n\n        OrderDetailsFulfillmentResponse response;\n        OrderDetailsStoreResponse storeResponse;\n        /*\n         * post to store for order details\n         */\n        try {\n            //set readyForPickup to true to always filter rx's that are in resolution\n            request.setIsReadyForPickup(true);\n            //Calling Downstream Store api for OrderDetail.\n            storeResponse = syncSapsRequestGateKeeper.retryAbleCall(request.getSiteNbr(),ccmManagedRoutingConfig.getOrderDetailsUrl(),getHttpHeaders(),\n                    request,OrderDetailsStoreResponse.class);\n\n            response = OrderInfoUtil.buildOrderDetailsResponseFromStoreResponse(storeResponse);\n            response.setSiteNbr(request.getSiteNbr());\n            response.setCountryCode(request.getCountryCode());\n            response.setRequestType(request.getRequestType());\n            //check if order details were found\n            if(!storeResponse.getResponseCode().equals(Constants.SUCCESS_CODE)) {\n                return response;\n            }\n            logger.info(httpThreadBusinessContext,&quot;Data Fetched successfully from SAPs&quot;);\n\n            //save order to fulfillment_order table with setting is_source_dotcom value\n            updateOrderInFulfillmentTable(storeResponse.getSiteNbr(),storeResponse.getOrderId(),storeResponse.getOrderDetails().getIsSourceDotcom());\n        } catch (Exception e) {\n            logger.error(httpThreadBusinessContext,&quot;Error occurred during request to store&quot;, e);\n            return CommonUtil.getFailResponse(request, Constants.INTERNAL_SERVER_ERROR_CODE,Constants.PASSTHROUGH_REQUEST_ERROR_MSG);\n        }\n\n        /*\n         * Save order details to database\n         */\n        try {\n            logger.info(httpThreadBusinessContext,&quot;Going to save Order-dtl to DB&quot;);\n            //Saving Order-Detail to DB in case of Details request\n            saveOrderDtlToDB(request,storeResponse);\n            return response;\n\n        } catch(Exception e) {\n            logger.error(httpThreadBusinessContext,&quot;Database error occurred saving Order Details&quot;, e);\n            return CommonUtil.getFailResponse(request, Constants.INTERNAL_SERVER_ERROR_CODE, Constants.DATABASE_ERROR_MSG);\n        }finally {\n            //populate patient flags asynchronously\n            if(storeResponse.getResponseCode().equals(Constants.SUCCESS_CODE)) {\n                this.updatePatientRestrictionsFlagAsync(response, storeResponse);\n                logger.debug(httpThreadBusinessContext, &quot;patient restriction flgs updated&quot;);\n            }\n        }\n\n    }\n    /**\n     * this method starts a process in a separate thread to update value of has_paper_reduction flag in order_dtl table\n     * @param response\n     * @param storeResponse\n     */\n    private void updatePatientRestrictionsFlagAsync(OrderDetailsFulfillmentResponse response, OrderDetailsStoreResponse storeResponse) {\n        logger.info(httpThreadBusinessContext,&quot;updatePatientRestrictionsFlagAsync process initiated!&quot;);\n\n        // Run this process asynchronously so it can happen in the background\n        //calculate and update value of has_paper_reduction flag in DB for each Patient/order-Seq-Nbr\n        Integer storeNumber = response.getSiteNbr();\n        if(storeResponse != null &amp;&amp; storeResponse.getOrderDetails() != null\n                &amp;&amp; storeResponse.getOrderDetails().getPatientDetails() != null){\n\n            for (StorePatientDetails patientDetails: storeResponse.getOrderDetails().getPatientDetails()) {\n                Integer patientId = patientDetails.getPatientId();\n\n                if(isIntegerGreaterThanZero(storeNumber) &amp;&amp; isIntegerGreaterThanZero(patientId)){\n\n                    // It should have been created in child thread instead oif parent thread as it is to be used in child thread.\n                    final AsyncHttpThreadBusinessContext asyncHttpThreadBusinessContext = new AsyncHttpThreadBusinessContext(httpThreadBusinessContext);\n\n                    CompletableFuture.supplyAsync(() -&gt; {\n                        return patientRestrictionsCheckOperator.getCloudPatientAPIResponse(storeNumber,patientId,asyncHttpThreadBusinessContext);\n                    }).whenComplete((restrictList, t) -&gt; {  // child thread\n\n                        // solution 1 :\n\n                        // issue : The issue is that both threads are accessing same variable of logger and httpcontext at same time.\n                        // i) convert the logger and context into bean.\n                        // ii) create new object of looger and context every time in child thread.\n                        // iii) change the scope of logger and context bean and set logger and context in interceptor the star tof request.\n\n                        // create\n                        // it should be there\n                        if (restrictList != null) {\n\n                            //Update the order details in the database with Has_paper_reduction flag.\n                            boolean hasPaperReduced = patientRestrictionsCheckOperator.filterListByFLag(restrictList, RestrictionCode.HAS_PAPER_REDUCED.getKey(), asyncHttpThreadBusinessContext);\n                            boolean isLargeFontLeaflet = patientRestrictionsCheckOperator.filterListByFLag(restrictList, RestrictionCode.LARGER_FONT_LEAFLET.getKey(), asyncHttpThreadBusinessContext);\n                            boolean isVisuallyImpaired = patientRestrictionsCheckOperator.filterListByFLag(restrictList, RestrictionCode.VISUALLY_IMPAIRED.getKey(), asyncHttpThreadBusinessContext);\n                            \n                            this.updatePatientRestrictionFlagsInOrderDtl(storeResponse.getOrderId(),storeNumber,\n                                    patientDetails,hasPaperReduced,isLargeFontLeaflet,isVisuallyImpaired,asyncHttpThreadBusinessContext);\n                            asyncWrappedLogger.info(asyncHttpThreadBusinessContext,&quot;updatePatientRestrictionFlagsAsync process completed ! has_paper_reduced : &quot;+ restrictList);\n                            logger.info(httpThreadBusinessContext,&quot;updatePatientRestrictionFlagsAsync process completed ! has_paper_reduced : &quot;+ restrictList);\n\n                        }\n                    });\n                }else{\n                    logger.warn(httpThreadBusinessContext,&quot;Error!Unable to compute patient restriction flags value,Invalid Params store:&quot;+storeNumber+&quot;, patientID:&quot;+patientId);\n                }\n\n            }\n        }\n\n    }\n\n    /**\n     * Save order Details to DB\n     * @param request\n     * @param response\n     */\n    private void saveOrderDtlToDB(OrderDetailsFulfillmentRequest request, OrderDetailsStoreResponse response) {\n        //loop through length of patients list and nested loop through rx list.  saving records on rx level\n        for (StorePatientDetails patient : response.getOrderDetails().getPatientDetails()) {\n            for(StoreRxDetails rx : patient.getRxDetails()) {\n                FulfillmentOrderDtlPK pk = new FulfillmentOrderDtlPK();\n                pk.setOrderId(request.getOrderId());\n                pk.setStoreNbr(request.getSiteNbr());\n                pk.setOrderSeqNbr(rx.getOrderSeqNbr());\n                FulfillmentOrderDtl row = new FulfillmentOrderDtl();\n                row.setOrderDtlPk(pk);\n                row.setPatientId(patient.getPatientId());\n                row.setFillSeqNbr(rx.getFillSeqNbr());\n                row.setRxFillId(rx.getRxFillId());\n                row.setRxNbr(rx.getRxNbr());\n                row.setRxPrice(rx.getRxPrice());\n                row.setPaymentComplete(false); // auto set to false here\n                row.setDrugCode(rx.getDrugCode());\n                row.setIsRefill(rx.getIsRefill()); // set value of isRefill to true or false\n                row.setPrefLangCode(response.getOrderDetails().getPatientDetails().get(0).getPreferredLanguage()); //only ever 1 patient in list\n                if(response.getOrderDetails().getCardOnFile()) {\n                    row.setPaymentTypeCode(1); //1 for charge card, 2 for pay at register\n                }else {\n                    row.setPaymentTypeCode(2);\n                }\n                orderDtlRepo.save(row);\n            }\n        }\n    }\n\n    /**\n     * Update the order details in the database with Has_paper_reduction flag\n     * @param orderId OrderID to be updated\n     * @param siteNbr StoreNumber\n     * @param patientDetails patient Details\n     * @param hasPaperReduction\n     * @param  asyncHttpThreadBusinessContext asyncHttpThreadBusinessContext containing business info\n     */\n    protected void updatePatientRestrictionFlagsInOrderDtl(String orderId,Integer siteNbr,StorePatientDetails patientDetails,Boolean hasPaperReduction,\n                                                         Boolean isLargeFontLeaflet, Boolean isVisuallyImpaired, AsyncHttpThreadBusinessContext asyncHttpThreadBusinessContext) {\n        try {\n            List&lt;FulfillmentOrderDtlPK&gt; orderDetailsPkList = new ArrayList&lt;&gt;();\n            if(patientDetails != null &amp;&amp; !patientDetails.getRxDetails().isEmpty()){\n                for (StoreRxDetails rxDetais : patientDetails.getRxDetails()) {\n                    FulfillmentOrderDtlPK pk = new FulfillmentOrderDtlPK();\n                    pk.setOrderId(orderId);\n                    pk.setStoreNbr(siteNbr);\n                    pk.setOrderSeqNbr(rxDetais.getOrderSeqNbr());\n                    orderDetailsPkList.add(pk);\n                }\n            }\n\n            List&lt;FulfillmentOrderDtl&gt; orderDtlRows = orderDtlRepo.findAllById(orderDetailsPkList);\n            if (!orderDtlRows.isEmpty() &amp;&amp; isUpdateRequired(hasPaperReduction, isLargeFontLeaflet, isVisuallyImpaired, orderDtlRows)){\n                    orderDtlRepo.saveAll(orderDtlRows);\n                    asyncWrappedLogger.info(asyncHttpThreadBusinessContext, &quot;Order Details updated with patient restriction flags in Cloud SQL DB&quot;);\n            }\n        } catch (Exception e) {\n            asyncWrappedLogger.error(asyncHttpThreadBusinessContext,&quot;Unable to update has_paper_reduction flag in order details in DB&quot;,e);\n        }\n    }\n\n    /**\n     * Validates if it needs to update flags containing restriction type codes value in the database\n     * @param hasPaperReduction flag to store restrictionTypeCode for paper reduction\n     * @param isLargeFontLeaflet flag to store restrictionTypeCode for large font leaflet\n     * @param isVisuallyImpaired flag to store restrictionTypeCode for visually Impaired indicator\n     * @param  orderDtlRows order Details to be updated\n     */\n    private boolean isUpdateRequired(Boolean hasPaperReduction, Boolean isLargeFontLeaflet, Boolean isVisuallyImpaired, List&lt;FulfillmentOrderDtl&gt; orderDtlRows) {\n        boolean updateRequired = false;\n        for (FulfillmentOrderDtl orderDtl: orderDtlRows) {\n            //update only if value is different\n            if (orderDtl.getHasPaperReduction() == null ||\n                    !orderDtl.getHasPaperReduction().equals(hasPaperReduction)) {\n                orderDtl.setHasPaperReduction(hasPaperReduction);\n                updateRequired = true;\n            }\n            if (orderDtl.getIsLargeFontLeaflet() == null ||\n                    !orderDtl.getIsLargeFontLeaflet().equals(isLargeFontLeaflet)) {\n                orderDtl.setIsLargeFontLeaflet(isLargeFontLeaflet);\n                updateRequired = true;\n            }\n            if (orderDtl.getIsVisuallyImpaired() == null ||\n                    !orderDtl.getIsVisuallyImpaired().equals(isVisuallyImpaired)) {\n                orderDtl.setIsVisuallyImpaired(isVisuallyImpaired);\n                updateRequired = true;\n            }\n        }\n        return updateRequired;\n    }\n\n    /**\n     * this method updates the value of isSourceDotCom column in order fulfillment table.\n     * @param siteNbr\n     * @param orderId\n     * @param isSourceDotCom\n     */\n    public int updateOrderInFulfillmentTable(Integer siteNbr, String orderId, Boolean isSourceDotCom) {\n        return orderRepo.updateisSourceDotcomColumnValue(isSourceDotCom,siteNbr, Integer.valueOf(orderId));\n\n    }\n\n}\n</code></pre>\n<p>and here is the <strong>HttpBusinessContext</strong> class.</p>\n<pre><code>//\n// Source code recreated from a .class file by IntelliJ IDEA\n// (powered by FernFlower decompiler)\n//\nimport \n\npublic class HttpThreadBusinessContext {\n    private Integer siteNbr;\n    private String countryCode;\n    private String endPoint;\n    private Object requestBody;\n    private Map&lt;String, Object&gt; requestIdentifier = new HashMap();\n    private String correlationId;\n\n    public HttpThreadBusinessContext() {\n    }\n\n    public Integer getSiteNbr() {\n        return this.siteNbr;\n    }\n\n    public String getCountryCode() {\n        return this.countryCode;\n    }\n\n    public String getEndPoint() {\n        return this.endPoint;\n    }\n\n    public Object getRequestBody() {\n        return this.requestBody;\n    }\n\n    public Map&lt;String, Object&gt; getRequestIdentifier() {\n        return this.requestIdentifier;\n    }\n\n    public String getCorrelationId() {\n        return this.correlationId;\n    }\n\n    public void setSiteNbr(Integer siteNbr) {\n        this.siteNbr = siteNbr;\n    }\n\n    public void setCountryCode(String countryCode) {\n        this.countryCode = countryCode;\n    }\n\n    public void setEndPoint(String endPoint) {\n        this.endPoint = endPoint;\n    }\n\n    public void setRequestBody(Object requestBody) {\n        this.requestBody = requestBody;\n    }\n\n    public void setRequestIdentifier(Map&lt;String, Object&gt; requestIdentifier) {\n        this.requestIdentifier = requestIdentifier;\n    }\n\n    public void setCorrelationId(String correlationId) {\n        this.correlationId = correlationId;\n    }\n\n    public InfoLog getInfoLog(String logMessage, Integer responseCode, String responseText) {\n        InfoLog infoLog = new InfoLog(logMessage, (Object)null, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, responseCode, responseText, (Map)null);\n        infoLog.setCorrelationId(this.correlationId);\n        return infoLog;\n    }\n\n    public InfoLog getInfoLog(String logMessage) {\n        InfoLog infoLog = new InfoLog(logMessage, (Object)null, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (Integer)null, (String)null, (Map)null);\n        infoLog.setCorrelationId(this.correlationId);\n        return infoLog;\n    }\n\n    public InfoLog getInfoLog(String logMessage, Map&lt;String, Object&gt; infoLogIdentifier) {\n        InfoLog infoLog = new InfoLog(logMessage, (Object)null, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (Integer)null, (String)null, infoLogIdentifier);\n        infoLog.setCorrelationId(this.correlationId);\n        return infoLog;\n    }\n\n    public InfoLog getInfoLog(String logMessage, Integer responseCode, String responseText, Map&lt;String, Object&gt; infoLogIdentifier) {\n        InfoLog infoLog = new InfoLog(logMessage, (Object)null, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, responseCode, responseText, infoLogIdentifier);\n        infoLog.setCorrelationId(this.correlationId);\n        return infoLog;\n    }\n\n    public ErrorLog getErrorLog(String logMessage, Integer responseCode, String responseText, Exception exception) {\n        ErrorLog errorLog = new ErrorLog(logMessage, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, responseCode, responseText, (Map)null, exception, (Map)null, (Map)null);\n        errorLog.setCorrelationId(this.correlationId);\n        return errorLog;\n    }\n\n    public ErrorLog getErrorLog(String logMessage, Integer responseCode, String responseText) {\n        ErrorLog errorLog = new ErrorLog(logMessage, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, responseCode, responseText, (Map)null, (Exception)null, (Map)null, (Map)null);\n        errorLog.setCorrelationId(this.correlationId);\n        return errorLog;\n    }\n\n    public ErrorLog getErrorLog(String logMessage) {\n        ErrorLog errorLog = new ErrorLog(logMessage, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (Integer)null, (String)null, (Map)null, (Exception)null, (Map)null, (Map)null);\n        errorLog.setCorrelationId(this.correlationId);\n        return errorLog;\n    }\n\n    public ErrorLog getErrorLog(String logMessage, Exception exception) {\n        ErrorLog errorLog = new ErrorLog(logMessage, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (Integer)null, (String)null, (Map)null, exception, (Map)null, (Map)null);\n        errorLog.setCorrelationId(this.correlationId);\n        return errorLog;\n    }\n\n    public ErrorLog getErrorLog(String logMessage, Exception exception, Map&lt;String, Object&gt; errorLogIdentifier) {\n        ErrorLog errorLog = new ErrorLog(logMessage, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (Integer)null, (String)null, (Map)null, exception, (Map)null, errorLogIdentifier);\n        errorLog.setCorrelationId(this.correlationId);\n        return errorLog;\n    }\n\n    public ErrorLog getErrorLog(String logMessage, Integer responseCode, String responseText, Exception exception, Map&lt;String, Object&gt; errorLogIdentifier) {\n        ErrorLog errorLog = new ErrorLog(logMessage, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, responseCode, responseText, (Map)null, exception, (Map)null, errorLogIdentifier);\n        errorLog.setCorrelationId(this.correlationId);\n        return errorLog;\n    }\n\n    public ErrorLog getErrorLog(String logMessage, Integer responseCode, String responseText, Map&lt;String, Object&gt; errorLogIdentifier) {\n        ErrorLog errorLog = new ErrorLog(logMessage, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, responseCode, responseText, (Map)null, (Exception)null, (Map)null, errorLogIdentifier);\n        errorLog.setCorrelationId(this.correlationId);\n        return errorLog;\n    }\n\n    public DownStreamApiCallLog getDownStreamApiCallLog(long timeTakenInMillis, String downStreamApiUrl, Object downStreamRequestPayload, Object downStreamResponsePayload) {\n        DownStreamApiCallLog downStreamApiCallLog = new DownStreamApiCallLog((String)null, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, timeTakenInMillis, downStreamApiUrl, (Object)null, downStreamRequestPayload, downStreamResponsePayload, (String)null);\n        downStreamApiCallLog.setCorrelationId(this.correlationId);\n        return downStreamApiCallLog;\n    }\n\n    public DownStreamApiCallLog getDownStreamApiCallLog(long timeTakenInMillis, String downStreamApiUrl, Object identificationFields) {\n        DownStreamApiCallLog downStreamApiCallLog = new DownStreamApiCallLog((String)null, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, timeTakenInMillis, downStreamApiUrl, identificationFields, (Object)null, (Object)null, (String)null);\n        downStreamApiCallLog.setCorrelationId(this.correlationId);\n        return downStreamApiCallLog;\n    }\n\n    public DownStreamApiCallLog getDownStreamApiCallLog(long timeTakenInMillis, String downStreamApiUrl, Object identificationFields, String responseDetail) {\n        DownStreamApiCallLog downStreamApiCallLog = new DownStreamApiCallLog((String)null, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, timeTakenInMillis, downStreamApiUrl, identificationFields, (Object)null, (Object)null, responseDetail);\n        downStreamApiCallLog.setCorrelationId(this.correlationId);\n        return downStreamApiCallLog;\n    }\n\n    public DebugLog getDebugLog(String message) {\n        DebugLog debugLog = new DebugLog(message, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (String)null, (Map)null);\n        debugLog.setCorrelationId(this.correlationId);\n        return debugLog;\n    }\n\n    public DebugLog getDebugLog(String message, Object responseBody) {\n        DebugLog debugLog = new DebugLog(message, this.requestBody, responseBody, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (String)null, (Map)null);\n        debugLog.setCorrelationId(this.correlationId);\n        return debugLog;\n    }\n\n    public DebugLog getDebugLog(String message, Map&lt;String, Object&gt; debugLogIdentifier) {\n        DebugLog debugLog = new DebugLog(message, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (String)null, debugLogIdentifier);\n        debugLog.setCorrelationId(this.correlationId);\n        return debugLog;\n    }\n\n    public DebugLog getDebugLog(String message, Object requestBody, Object responseBody, Map&lt;String, Object&gt; debugLogIdentifier) {\n        DebugLog debugLog = new DebugLog(message, requestBody, requestBody, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (String)null, debugLogIdentifier);\n        debugLog.setCorrelationId(this.correlationId);\n        return debugLog;\n    }\n\n    public WarnLog getWarnLog(String message) {\n        WarnLog warnLog = new WarnLog(message, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (Integer)null, (String)null, (Map)null, (Exception)null, (Map)null);\n        warnLog.setCorrelationId(this.correlationId);\n        return warnLog;\n    }\n\n    public WarnLog getWarnLog(String message, Exception exception) {\n        WarnLog warnLog = new WarnLog(message, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (Integer)null, (String)null, (Map)null, exception, (Map)null);\n        warnLog.setCorrelationId(this.correlationId);\n        return warnLog;\n    }\n\n    public WarnLog getWarnLog(String message, Exception exception, Map&lt;String, Object&gt; warnLogIdentifier) {\n        WarnLog warnLog = new WarnLog(message, this.requestBody, (Object)null, this.siteNbr, this.countryCode, this.endPoint, this.requestIdentifier, (Integer)null, (String)null, (Map)null, exception, warnLogIdentifier);\n        warnLog.setCorrelationId(this.correlationId);\n        return warnLog;\n    }\n\n    public void setBusinessInfo(String countryCode, String endPoint, Integer siteNbr, Object requestPayload, Map&lt;String, Object&gt; requestIdentifier) {\n        this.setCountryCode(countryCode);\n        this.setEndPoint(endPoint);\n        this.setSiteNbr(siteNbr);\n        this.setRequestBody(requestPayload);\n        this.setRequestIdentifier(requestIdentifier);\n    }\n\n    public void setBusinessInfo(String countryCode, String endPoint, Integer siteNbr, Map&lt;String, Object&gt; requestIdentifier) {\n        this.setCountryCode(countryCode);\n        this.setEndPoint(endPoint);\n        this.setSiteNbr(siteNbr);\n        this.setRequestIdentifier(requestIdentifier);\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","minimum-spanning-tree","prims-algorithm"],"answers":[{"tags":[],"owner":{"account_id":90694,"reputation":31596,"user_id":249538,"accept_rate":91,"display_name":"goat"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1353907097,"creation_date":1353888810,"answer_id":13557035,"question_id":13556705,"body_markdown":"If you use a Fibonacci heap, then extracting the min is `O(lg V)` amortized cost and updating an entry in it is `O(1)` amortized.\r\n\r\nIf we use this pseudo code\r\n\r\n    while priorityQueue not empty\r\n        u = priorityQueue.exractMin()\r\n    \tfor each v in u.adjacencies\r\n    \t    if priorityQueue.contains(v) and needsWeightReduction(u, v)\r\n    \t\t    priorityQueue.updateKeyWeight(u, v)\r\n\r\nAssume that the implementation has constant time for both `priorityQueue.contains(v)` and `needsWeightReduction(u, v)`.\r\n\r\n\r\nSomething to note is that you can bound slightly tighter for checking adjacencies. While the outer loop runs `V` times, and checking the adjacencies of any single node is at worst `V` operations, you can use aggregate analysis to realize that you will never check for more than `E` adjacencies(because theres only E edges). And `E &lt;= V^2`, so this is a slightly better bound.\r\n\r\nSo, you have the outer loop V times, and the inner loop E times. Extracting the min runs `V` times, and updating an entry in the heap runs `E` times.\r\n\r\n      V*lgV + E*1\r\n    = O(V lgV + E)\r\n\r\nAgain, since  `E &lt;= V^2` you could use this fact to substitute and get\r\n\r\n      O(V lgV + V^2)\r\n    = O(V^2)\r\n\r\nBut this is a looser bound when considering sparse graphs(although correct).\r\n","title":"Complexity of Prims Algorithm using Priority Queue?","body":"<p>If you use a Fibonacci heap, then extracting the min is <code>O(lg V)</code> amortized cost and updating an entry in it is <code>O(1)</code> amortized.</p>\n\n<p>If we use this pseudo code</p>\n\n<pre><code>while priorityQueue not empty\n    u = priorityQueue.exractMin()\n    for each v in u.adjacencies\n        if priorityQueue.contains(v) and needsWeightReduction(u, v)\n            priorityQueue.updateKeyWeight(u, v)\n</code></pre>\n\n<p>Assume that the implementation has constant time for both <code>priorityQueue.contains(v)</code> and <code>needsWeightReduction(u, v)</code>.</p>\n\n<p>Something to note is that you can bound slightly tighter for checking adjacencies. While the outer loop runs <code>V</code> times, and checking the adjacencies of any single node is at worst <code>V</code> operations, you can use aggregate analysis to realize that you will never check for more than <code>E</code> adjacencies(because theres only E edges). And <code>E &lt;= V^2</code>, so this is a slightly better bound.</p>\n\n<p>So, you have the outer loop V times, and the inner loop E times. Extracting the min runs <code>V</code> times, and updating an entry in the heap runs <code>E</code> times.</p>\n\n<pre><code>  V*lgV + E*1\n= O(V lgV + E)\n</code></pre>\n\n<p>Again, since  <code>E &lt;= V^2</code> you could use this fact to substitute and get</p>\n\n<pre><code>  O(V lgV + V^2)\n= O(V^2)\n</code></pre>\n\n<p>But this is a looser bound when considering sparse graphs(although correct).</p>\n"},{"tags":[],"owner":{"account_id":14856771,"reputation":11,"user_id":10729022,"display_name":"Kamala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543621085,"creation_date":1543620717,"answer_id":53566306,"question_id":13556705,"body_markdown":"Using a min heap-based priority queue, the time complexity is O(ElogV).\r\n \r\nAs you said, the outer while loop is O(V) because it is looping through every vertex since each one needs to be added to the MST once.  \r\n\r\nFor each vertex considered in the while loop, the following two steps need to happen:\r\n\r\n 1. The next edge is chosen to add to the MST.  According to the properties of a min heap-based priority queue, the root element will always be the smallest element.  Therefore choosing the next edge, the one with the lowest cost, will be an O(1) extraction of the root element.  The remaining values will need to be shifted after the extraction in a way that maintains the priority queue.  Since the queue represents a balanced binary tree, this shift can happen in O(logV) in the worst case.\r\n\r\n 2. The priority queue is updated.  Edges incident to the new vertex may need to have their costs updated in the queue because we will now consider the costs associated with the edges between the newly added vertex and its neighbors (however, if they neighbored a previously added vertex through an edge with a lower cost than the newly introduced edge, the cost will not be updated because we are looking for the minimum costs).  Again this will be O(logV) because in the worst case, a vertex will need to be shifted through the entire length of the balanced binary tree that represents the queue.\r\n \r\nStep 1 happens V times because it occurs once in the while loop, so it is O(VlogV) total, and step 2 happens E times in the worst case where every edge is attached to the current vertex and therefore they all need to be updated, which means it is O(ElogV) total.  The set-up is O(E) because it requires initializing each edge cost in the priority queue to be infinity.\r\n\r\nTotal time complexity using a min heap based priroty queue = O(E + VlogV + ElogV) = O(ElogV)\r\n \r\nWhen you’re reading that the complexity is O(V^2), you might be looking at implementations that don’t use heaps.  In this case, the outer while loop is still O(V).  The bottleneck is in the step that chooses the next vertex to add to the MST, which is O(V) because you’ll need to check the cost associated every neighboring node to find the lowest cost, which in the worst case means checking all other nodes.  Therefore the complexity is O(V*V) = O(V^2).\r\n\r\nAdditionally, O(ElogV) in very dense graphs becomes O(V^2) because in any graph there can be a maximum of E = V^2 total edges.","title":"Complexity of Prims Algorithm using Priority Queue?","body":"<p>Using a min heap-based priority queue, the time complexity is O(ElogV).</p>\n\n<p>As you said, the outer while loop is O(V) because it is looping through every vertex since each one needs to be added to the MST once.  </p>\n\n<p>For each vertex considered in the while loop, the following two steps need to happen:</p>\n\n<ol>\n<li><p>The next edge is chosen to add to the MST.  According to the properties of a min heap-based priority queue, the root element will always be the smallest element.  Therefore choosing the next edge, the one with the lowest cost, will be an O(1) extraction of the root element.  The remaining values will need to be shifted after the extraction in a way that maintains the priority queue.  Since the queue represents a balanced binary tree, this shift can happen in O(logV) in the worst case.</p></li>\n<li><p>The priority queue is updated.  Edges incident to the new vertex may need to have their costs updated in the queue because we will now consider the costs associated with the edges between the newly added vertex and its neighbors (however, if they neighbored a previously added vertex through an edge with a lower cost than the newly introduced edge, the cost will not be updated because we are looking for the minimum costs).  Again this will be O(logV) because in the worst case, a vertex will need to be shifted through the entire length of the balanced binary tree that represents the queue.</p></li>\n</ol>\n\n<p>Step 1 happens V times because it occurs once in the while loop, so it is O(VlogV) total, and step 2 happens E times in the worst case where every edge is attached to the current vertex and therefore they all need to be updated, which means it is O(ElogV) total.  The set-up is O(E) because it requires initializing each edge cost in the priority queue to be infinity.</p>\n\n<p>Total time complexity using a min heap based priroty queue = O(E + VlogV + ElogV) = O(ElogV)</p>\n\n<p>When you’re reading that the complexity is O(V^2), you might be looking at implementations that don’t use heaps.  In this case, the outer while loop is still O(V).  The bottleneck is in the step that chooses the next vertex to add to the MST, which is O(V) because you’ll need to check the cost associated every neighboring node to find the lowest cost, which in the worst case means checking all other nodes.  Therefore the complexity is O(V*V) = O(V^2).</p>\n\n<p>Additionally, O(ElogV) in very dense graphs becomes O(V^2) because in any graph there can be a maximum of E = V^2 total edges.</p>\n"},{"tags":[],"owner":{"account_id":25776077,"reputation":1,"user_id":19522555,"display_name":"Vijay Vardhan Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657486292,"creation_date":1657486113,"answer_id":72931795,"question_id":13556705,"body_markdown":"In case of priority queue if not used using binary heap\r\nIt includes two basic steps:\r\n1.Insertion\r\n    Insertion using insertion sorting algorithm time complexity is \r\n     O(E^2) in worst case \r\n2.Deletion\r\n    deletion take O(1) for every dequeue and dequeue is equivalent to \r\n    number of vertices, if use mapping otherwise will \r\n    be nearly same\r\nSo,total time complexity here is O(V+E^2)\r\n","title":"Complexity of Prims Algorithm using Priority Queue?","body":"<p>In case of priority queue if not used using binary heap\nIt includes two basic steps:\n1.Insertion\nInsertion using insertion sorting algorithm time complexity is\nO(E^2) in worst case\n2.Deletion\ndeletion take O(1) for every dequeue and dequeue is equivalent to\nnumber of vertices, if use mapping otherwise will\nbe nearly same\nSo,total time complexity here is O(V+E^2)</p>\n"}],"owner":{"account_id":2079685,"reputation":83,"user_id":1851974,"display_name":"Sachin Hadalgi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5166,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":13557035,"answer_count":3,"score":8,"last_activity_date":1657486292,"creation_date":1353886162,"question_id":13556705,"body_markdown":"I am using an adjacency matrix, priority queue is the data structure.\r\n\r\nBy my calculation, complexity is `V^3 log V`:\r\n\r\n* While loop: `V`\r\n* Checking adjacent Vertices: `V`\r\n* Checking the queue if the entry is already present, and updating the same: `V log v`\r\n\r\nBut, I read everywhere that the complexity is `V^2`\r\n\r\nPlease explain. ","title":"Complexity of Prims Algorithm using Priority Queue?","body":"<p>I am using an adjacency matrix, priority queue is the data structure.</p>\n\n<p>By my calculation, complexity is <code>V^3 log V</code>:</p>\n\n<ul>\n<li>While loop: <code>V</code></li>\n<li>Checking adjacent Vertices: <code>V</code></li>\n<li>Checking the queue if the entry is already present, and updating the same: <code>V log v</code></li>\n</ul>\n\n<p>But, I read everywhere that the complexity is <code>V^2</code></p>\n\n<p>Please explain. </p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1620882099,"post_id":67514035,"comment_id":119333374,"body_markdown":"[Related](https://stackoverflow.com/questions/17640754/zipping-streams-using-jdk8-with-lambda-java-util-stream-streams-zip).","body":"<a href=\"https://stackoverflow.com/questions/17640754/zipping-streams-using-jdk8-with-lambda-java-util-stream-streams-zip\">Related</a>."},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1657373156,"post_id":67514035,"comment_id":128797580,"body_markdown":"Stream may be a good hammer, but not all problems are nails. IMO using nested for-loop is the simplest and cleanest way to achieve what you want.","body":"Stream may be a good hammer, but not all problems are nails. IMO using nested for-loop is the simplest and cleanest way to achieve what you want."}],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620882667,"creation_date":1620882667,"answer_id":67514171,"question_id":67514035,"body_markdown":"Here&#39;s something that does what you&#39;re looking for (with a lot of assumptions) using the stream API. You judge for yourself whether that looks better:\r\n\r\n\tList&lt;List&lt;Integer&gt;&gt; sum = IntStream.range(0, val1.size())\r\n\t\t\t.mapToObj(i -&gt; IntStream.range(0, val1.get(i).size())\r\n\t\t\t\t\t\t   .mapToObj(e -&gt; val1.get(i).get(e) + val2.get(i).get(e))\r\n\t\t\t\t\t.collect(Collectors.toList()))\r\n\t\t\t.collect(Collectors.toList());\r\n\r\n    // results in [[2, 6, 1], [4, 4, 9], [1, 3, 6]]\r\n\r\nThat does the same thing as your loop (except for the potentially buggy `colIdx &lt; val2.get(0).size()`).\r\n\r\n\r\nAssumptions:\r\n\r\n* `val1` and `val2` have the same size\r\n* `val1` and `val2` have identically sized nested lists, element-wise\r\n* none of your `Integer` objects is null","title":"Java 8 stream 2 list of lists and sum corresponding index","body":"<p>Here's something that does what you're looking for (with a lot of assumptions) using the stream API. You judge for yourself whether that looks better:</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; sum = IntStream.range(0, val1.size())\n        .mapToObj(i -&gt; IntStream.range(0, val1.get(i).size())\n                       .mapToObj(e -&gt; val1.get(i).get(e) + val2.get(i).get(e))\n                .collect(Collectors.toList()))\n        .collect(Collectors.toList());\n\n// results in [[2, 6, 1], [4, 4, 9], [1, 3, 6]]\n</code></pre>\n<p>That does the same thing as your loop (except for the potentially buggy <code>colIdx &lt; val2.get(0).size()</code>).</p>\n<p>Assumptions:</p>\n<ul>\n<li><code>val1</code> and <code>val2</code> have the same size</li>\n<li><code>val1</code> and <code>val2</code> have identically sized nested lists, element-wise</li>\n<li>none of your <code>Integer</code> objects is null</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11953108,"reputation":1423,"user_id":8746228,"display_name":"adarsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620886817,"creation_date":1620886267,"answer_id":67514649,"question_id":67514035,"body_markdown":"[StreamEx][1] can be used here:\r\n\r\n```java\r\npublic class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\tvar listOne = List.of(List.of(1,2), List.of(3,4), List.of(10, 12));\r\n\t\tvar listTwo = List.of(List.of(10,12), List.of(13,24), List.of(10, 2));\r\n\t\tStreamEx.zip(listOne , listTwo, Test::zipBy).forEach(System.out::println);\r\n\t}\r\n\t\r\n\tpublic static List&lt;Integer&gt; zipBy(List&lt;Integer&gt; _1, List&lt;Integer&gt; _2) {\r\n\t\treturn StreamEx.zip(_1, _2, Integer::sum).toList();\r\n\t}\r\n}\r\n```\r\nOutput: &lt;br/&gt;\r\n```java\r\n[11, 14]\r\n[16, 28]\r\n[20, 14]\r\n\r\n```\r\n\r\n**EDIT:**&lt;br/&gt;\r\n\r\nThe code above can be made java-8 compatible by updating the list generation construct to:\r\n```java\r\nList&lt;List&lt;Integer&gt;&gt; listOne = Arrays.asList(Arrays.asList(1,2), Arrays.asList(3,4),Arrays.asList(10, 12));\r\nList&lt;List&lt;Integer&gt;&gt; listTwo =Arrays.asList(Arrays.asList(10,12), Arrays.asList(13,24), Arrays.asList(10, 2));\r\n```\r\n\r\n  [1]: https://github.com/amaembo/streamex","title":"Java 8 stream 2 list of lists and sum corresponding index","body":"<p><a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow noreferrer\">StreamEx</a> can be used here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n    public static void main(String[] args) {\n        var listOne = List.of(List.of(1,2), List.of(3,4), List.of(10, 12));\n        var listTwo = List.of(List.of(10,12), List.of(13,24), List.of(10, 2));\n        StreamEx.zip(listOne , listTwo, Test::zipBy).forEach(System.out::println);\n    }\n    \n    public static List&lt;Integer&gt; zipBy(List&lt;Integer&gt; _1, List&lt;Integer&gt; _2) {\n        return StreamEx.zip(_1, _2, Integer::sum).toList();\n    }\n}\n</code></pre>\n<p>Output: <br/></p>\n<pre class=\"lang-java prettyprint-override\"><code>[11, 14]\n[16, 28]\n[20, 14]\n\n</code></pre>\n<p><strong>EDIT:</strong><br/></p>\n<p>The code above can be made java-8 compatible by updating the list generation construct to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;Integer&gt;&gt; listOne = Arrays.asList(Arrays.asList(1,2), Arrays.asList(3,4),Arrays.asList(10, 12));\nList&lt;List&lt;Integer&gt;&gt; listTwo =Arrays.asList(Arrays.asList(10,12), Arrays.asList(13,24), Arrays.asList(10, 2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9008991,"reputation":4402,"user_id":6714426,"accept_rate":74,"display_name":"Prashant Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620887198,"creation_date":1620887198,"answer_id":67514794,"question_id":67514035,"body_markdown":"You can do something like this. I would love Java to have something like Reactor&#39;s `zip` operator to handle such scenarios:    \r\n\r\n    List&lt;Integer&gt; zippedList = IntStream.range(0, list1.size())\r\n                                        .map(idx -&gt; zipLists(list1.get(idx), list2.get(idx)))\r\n                                        .collect(toList());\r\n    \r\n    private List&lt;Integer&gt; zipLists(List&lt;Integer&gt; l1, List&lt;Integer&gt; l2) {\r\n        return IntStream.range(0, l1.size())\r\n                        .map(idx -&gt; l1.get(idx) + l2.get(idx))\r\n                        .collect(toList());\r\n    }","title":"Java 8 stream 2 list of lists and sum corresponding index","body":"<p>You can do something like this. I would love Java to have something like Reactor's <code>zip</code> operator to handle such scenarios:</p>\n<pre><code>List&lt;Integer&gt; zippedList = IntStream.range(0, list1.size())\n                                    .map(idx -&gt; zipLists(list1.get(idx), list2.get(idx)))\n                                    .collect(toList());\n\nprivate List&lt;Integer&gt; zipLists(List&lt;Integer&gt; l1, List&lt;Integer&gt; l2) {\n    return IntStream.range(0, l1.size())\n                    .map(idx -&gt; l1.get(idx) + l2.get(idx))\n                    .collect(toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620903962,"creation_date":1620889141,"answer_id":67515122,"question_id":67514035,"body_markdown":"*with the assumptions made –* `val1` *and* `val2` *and every list in* `val1` *and* `val2` *has the same size – you can add the integer values directly*\r\n\r\n    Stream&lt;List&lt;Integer&gt;&gt; s1 = val1.stream();\r\n    Stream&lt;List&lt;Integer&gt;&gt; s2 = val2.stream();\r\n\r\n    Iterator&lt;Integer&gt; it = s2.flatMap(List::stream).iterator();\r\n    List&lt;List&lt;Integer&gt;&gt; val3 = s1.map(l -&gt; l.stream().map(i -&gt; i + it.next())\r\n        .collect(toList())).collect(toList());\r\n","title":"Java 8 stream 2 list of lists and sum corresponding index","body":"<p><em>with the assumptions made –</em> <code>val1</code> <em>and</em> <code>val2</code> <em>and every list in</em> <code>val1</code> <em>and</em> <code>val2</code> <em>has the same size – you can add the integer values directly</em></p>\n<pre><code>Stream&lt;List&lt;Integer&gt;&gt; s1 = val1.stream();\nStream&lt;List&lt;Integer&gt;&gt; s2 = val2.stream();\n\nIterator&lt;Integer&gt; it = s2.flatMap(List::stream).iterator();\nList&lt;List&lt;Integer&gt;&gt; val3 = s1.map(l -&gt; l.stream().map(i -&gt; i + it.next())\n    .collect(toList())).collect(toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620921820,"creation_date":1620906223,"answer_id":67518664,"question_id":67514035,"body_markdown":"Assuming that outer and inner lists are the same length and you know size of inner Lists, you can collect to a new List by using stream of indexes of all inner elements and for each of them calculate index of it&#39;s row and column:\r\n```\r\nint colCnt = 3;\r\n\r\nList&lt;List&lt;Integer&gt;&gt; sum =\r\n    IntStream.rangeClosed(0, val1.size() * colCnt-1)\r\n             .collect(ArrayList::new,\r\n                      (list, elNum) -&gt; { int rowIdx = elNum / colCnt;\r\n                                         int colIdx = elNum % colCnt;\r\n                                         if (colIdx == 0) list.add(rowIdx, new ArrayList&lt;&gt;());\r\n                                         list.get(rowIdx)\r\n                                             .add(colIdx, val1.get(rowIdx).get(colIdx) +\r\n                                                          val2.get(rowIdx).get(colIdx));\r\n                                       },\r\n                      List::addAll);\r\n```\r\n","title":"Java 8 stream 2 list of lists and sum corresponding index","body":"<p>Assuming that outer and inner lists are the same length and you know size of inner Lists, you can collect to a new List by using stream of indexes of all inner elements and for each of them calculate index of it's row and column:</p>\n<pre><code>int colCnt = 3;\n\nList&lt;List&lt;Integer&gt;&gt; sum =\n    IntStream.rangeClosed(0, val1.size() * colCnt-1)\n             .collect(ArrayList::new,\n                      (list, elNum) -&gt; { int rowIdx = elNum / colCnt;\n                                         int colIdx = elNum % colCnt;\n                                         if (colIdx == 0) list.add(rowIdx, new ArrayList&lt;&gt;());\n                                         list.get(rowIdx)\n                                             .add(colIdx, val1.get(rowIdx).get(colIdx) +\n                                                          val2.get(rowIdx).get(colIdx));\n                                       },\n                      List::addAll);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4929159,"reputation":1,"user_id":3969524,"display_name":"Swapnil Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657485765,"creation_date":1657371348,"answer_id":72921538,"question_id":67514035,"body_markdown":"Try using `stream()` along with `map()` and `flatMap()` like so:\r\n \r\n```\r\nIterator&lt;Integer&gt; itr11 = val1.stream().flatMap(l1 -&gt; l1.stream()).collect(Collectors.toList()).iterator();\r\nList&lt;List&lt;Integer&gt;&gt; ans = val2.stream().map(list11 -&gt; list11.stream().map(i -&gt; i + itr11.next()).collect(Collectors.toList())).collect(Collectors.toList());\r\nans.stream().forEach(System.out::print);\r\n```\r\n\r\nMore info on the `flatMap()` method here: https://www.javatpoint.com/flatmap-method-in-java-8","title":"Java 8 stream 2 list of lists and sum corresponding index","body":"<p>Try using <code>stream()</code> along with <code>map()</code> and <code>flatMap()</code> like so:</p>\n<pre><code>Iterator&lt;Integer&gt; itr11 = val1.stream().flatMap(l1 -&gt; l1.stream()).collect(Collectors.toList()).iterator();\nList&lt;List&lt;Integer&gt;&gt; ans = val2.stream().map(list11 -&gt; list11.stream().map(i -&gt; i + itr11.next()).collect(Collectors.toList())).collect(Collectors.toList());\nans.stream().forEach(System.out::print);\n</code></pre>\n<p>More info on the <code>flatMap()</code> method here: <a href=\"https://www.javatpoint.com/flatmap-method-in-java-8\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/flatmap-method-in-java-8</a></p>\n"}],"owner":{"account_id":4940319,"reputation":556,"user_id":3977211,"accept_rate":93,"display_name":"Cael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1606,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":6,"score":3,"last_activity_date":1657485765,"creation_date":1620881504,"question_id":67514035,"body_markdown":"I have 2 list of lists as below:\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; val1 : [[2, 3, 0], [1, 3, 5], [0, 2, 4]]\r\n    List&lt;List&lt;Integer&gt;&gt; val2 : [[0, 3, 1], [3, 1, 4], [1, 1, 2]]\r\n\r\nI wish to compute a new list of lists (sum) that has the sum of corresponding index from the two lists above.\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; sum  : [[2, 6, 1], [4, 4, 9], [1, 3, 6]]\r\n\r\nIs there a better way of doing this using Java 8? Currently I&#39;m using a for loop to achieve this and it doesn&#39;t look nice.\r\n\r\n       for (int rowIdx = 0; rowIdx &lt; val1.size(); rowIdx++) {\r\n        for (int colIdx = 0; colIdx &lt; val2.get(0).size(); colIdx++) {\r\n         final int cumSum = val1.get(rowIdx).get(colIdx) + val2.get(rowIdx).get(colIdx);\r\n         sum.get(rowIdx).set(colIdx, cumSum);\r\n         }\r\n       }","title":"Java 8 stream 2 list of lists and sum corresponding index","body":"<p>I have 2 list of lists as below:</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; val1 : [[2, 3, 0], [1, 3, 5], [0, 2, 4]]\nList&lt;List&lt;Integer&gt;&gt; val2 : [[0, 3, 1], [3, 1, 4], [1, 1, 2]]\n</code></pre>\n<p>I wish to compute a new list of lists (sum) that has the sum of corresponding index from the two lists above.</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; sum  : [[2, 6, 1], [4, 4, 9], [1, 3, 6]]\n</code></pre>\n<p>Is there a better way of doing this using Java 8? Currently I'm using a for loop to achieve this and it doesn't look nice.</p>\n<pre><code>   for (int rowIdx = 0; rowIdx &lt; val1.size(); rowIdx++) {\n    for (int colIdx = 0; colIdx &lt; val2.get(0).size(); colIdx++) {\n     final int cumSum = val1.get(rowIdx).get(colIdx) + val2.get(rowIdx).get(colIdx);\n     sum.get(rowIdx).set(colIdx, cumSum);\n     }\n   }\n</code></pre>\n"},{"tags":["java","hibernate","jpa-2.2"],"answers":[{"tags":[],"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1554198496,"creation_date":1554198496,"answer_id":55471701,"question_id":55470977,"body_markdown":"Rename `hibernate.connection.dialect` to `hibernate.dialect` in your `persistence.xml`\r\n\r\nI would also suggest you use `MySQLInnoDBDialect` or `MySQLMyISAMDialect` directly.\r\n\r\nAnd it needs to be the full class name like this:\r\n\r\n    &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLInnoDBDialect&quot;/&gt;","title":"HHH000342: Could not obtain connection to query metadata : null","body":"<p>Rename <code>hibernate.connection.dialect</code> to <code>hibernate.dialect</code> in your <code>persistence.xml</code></p>\n\n<p>I would also suggest you use <code>MySQLInnoDBDialect</code> or <code>MySQLMyISAMDialect</code> directly.</p>\n\n<p>And it needs to be the full class name like this:</p>\n\n<pre><code>&lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.MySQLInnoDBDialect\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16738359,"reputation":11,"user_id":12098783,"display_name":"kiran mhetre"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657485327,"creation_date":1657485327,"answer_id":72931716,"question_id":55470977,"body_markdown":"I  resolved this problem by making proper version of MySQLDialect, MySQL dependency in pom.xml with respect to my MySQL Database version.\r\n ","title":"HHH000342: Could not obtain connection to query metadata : null","body":"<p>I  resolved this problem by making proper version of MySQLDialect, MySQL dependency in pom.xml with respect to my MySQL Database version.</p>\n"}],"owner":{"account_id":5137917,"reputation":718,"user_id":4116091,"accept_rate":100,"display_name":"Andres C&#225;rdenas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98116,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":55471701,"answer_count":2,"score":12,"last_activity_date":1657485327,"creation_date":1554196334,"question_id":55470977,"body_markdown":"Im trying to insert some simple data in my local mysql database using jpa-2.2 with hibernate in my java project\r\n\r\nthis is the pom related:\r\n    \r\n    &lt;!-- JPA --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- HIBERNATE --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.2.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- MYSQL --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.15&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nThis is my daoClass and the line where it breaks:\r\n\r\n    import beans.CulturalEvent;\r\n\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.persistence.EntityTransaction;\r\n    import javax.persistence.Persistence;\r\n    import java.util.ArrayList;\r\n\r\n    public class CulturalEventDao implements ICulturalEventDao {\r\n\r\n    // this lane gives error\r\n    private static final EntityManagerFactory ENTITY_MANAGER_FACTORY = Persistence\r\n            .createEntityManagerFactory(&quot;EventsPersistence&quot;);\r\n    private ArrayList&lt;CulturalEvent&gt; allEventsList = new ArrayList&lt;&gt;();\r\n\r\n    public void insertEvent (CulturalEvent event) throws Exception {\r\n        //code i want to try\r\n    }\r\n\r\n    }\r\n\r\nHere the stacktrace error:\r\n\r\n        abr 02, 2019 10:43:14 AM org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation\r\n    INFO: HHH000204: Processing PersistenceUnitInfo [name: EventsPersistence]\r\n    abr 02, 2019 10:43:14 AM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {5.4.2.Final}\r\n    abr 02, 2019 10:43:15 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\r\n    abr 02, 2019 10:58:09 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    WARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n    abr 02, 2019 10:58:09 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001005: using driver [com.mysql.cj.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/inventario]\r\n    abr 02, 2019 10:58:09 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001001: Connection properties: {user=root, password=****, dialect=MySQLDialect}\r\n    abr 02, 2019 10:58:09 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001003: Autocommit mode: false\r\n    abr 02, 2019 10:58:09 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\n    INFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\n    abr 02, 2019 10:58:10 AM org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator initiateService\r\n    WARN: HHH000342: Could not obtain connection to query metadata : null\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n    \tat Inventario.main(Inventario.java:25)\r\n    Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:116)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:41)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:58)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.addConnections(DriverManagerConnectionProviderImpl.java:321)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:240)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:218)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections$Builder.build(DriverManagerConnectionProviderImpl.java:359)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:98)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:73)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:145)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n    \tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n    \tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:175)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:900)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:931)\r\n    \tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\r\n    \tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n    \tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n    \tat models.dao.CulturalEventDao.&lt;clinit&gt;(CulturalEventDao.java:15)\r\n    \t... 1 more\r\n    Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set\r\n    \tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)\r\n    \tat org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137)\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\r\n    \t... 38 more\r\n\r\nBut I also found this error EntityManagerFactoryBuilderImpl.java(jpa class: org.hibernate.jpa.boot.internal) in method EntityManagerFactory build() in this line:\r\n\r\n[![build error image][1]][1]\r\n\r\nAnother interesting thing is that the configuration values from &#39;persistence.xml&#39; are correctly readed as you can see in this image [![configuration values working][2]][2]\r\n\r\n\r\nHere the persistence.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; version=&quot;2.0&quot;&gt;\r\n        \r\n            &lt;persistence-unit name=&quot;EventsPersistence&quot;&gt;\r\n                &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n                &lt;class&gt;beans.CulturalEvent&lt;/class&gt;\r\n                &lt;class&gt;beans.Location&lt;/class&gt;\r\n                &lt;properties&gt;\r\n                    &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://localhost:3306/inventario&quot;/&gt;\r\n                    &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\r\n                    &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;root&quot;/&gt;\r\n                    &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;0001&quot;/&gt;\r\n                    &lt;property name=&quot;hibernate.connection.dialect&quot; value=&quot;MySQLDialect&quot; /&gt;\r\n                    &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot;/&gt;\r\n                    &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n                    &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n                    &lt;property name=&quot;hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/persistence-unit&gt;\r\n        &lt;/persistence&gt;\r\n\r\nWell thanks for your time and help ^^\r\n\r\n  [1]: https://i.stack.imgur.com/EfQu9.png\r\n  [2]: https://i.stack.imgur.com/WqQWM.png","title":"HHH000342: Could not obtain connection to query metadata : null","body":"<p>Im trying to insert some simple data in my local mysql database using jpa-2.2 with hibernate in my java project</p>\n\n<p>this is the pom related:</p>\n\n<pre><code>&lt;!-- JPA --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- HIBERNATE --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.4.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- MYSQL --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.15&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>This is my daoClass and the line where it breaks:</p>\n\n<pre><code>import beans.CulturalEvent;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.EntityTransaction;\nimport javax.persistence.Persistence;\nimport java.util.ArrayList;\n\npublic class CulturalEventDao implements ICulturalEventDao {\n\n// this lane gives error\nprivate static final EntityManagerFactory ENTITY_MANAGER_FACTORY = Persistence\n        .createEntityManagerFactory(\"EventsPersistence\");\nprivate ArrayList&lt;CulturalEvent&gt; allEventsList = new ArrayList&lt;&gt;();\n\npublic void insertEvent (CulturalEvent event) throws Exception {\n    //code i want to try\n}\n\n}\n</code></pre>\n\n<p>Here the stacktrace error:</p>\n\n<pre><code>    abr 02, 2019 10:43:14 AM org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation\nINFO: HHH000204: Processing PersistenceUnitInfo [name: EventsPersistence]\nabr 02, 2019 10:43:14 AM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {5.4.2.Final}\nabr 02, 2019 10:43:15 AM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\nabr 02, 2019 10:58:09 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nabr 02, 2019 10:58:09 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [com.mysql.cj.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/inventario]\nabr 02, 2019 10:58:09 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {user=root, password=****, dialect=MySQLDialect}\nabr 02, 2019 10:58:09 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: false\nabr 02, 2019 10:58:09 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\nabr 02, 2019 10:58:10 AM org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator initiateService\nWARN: HHH000342: Could not obtain connection to query metadata : null\nException in thread \"main\" java.lang.ExceptionInInitializerError\n    at Inventario.main(Inventario.java:25)\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:116)\n    at org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:41)\n    at org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:58)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.addConnections(DriverManagerConnectionProviderImpl.java:321)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:240)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.&lt;init&gt;(DriverManagerConnectionProviderImpl.java:218)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections$Builder.build(DriverManagerConnectionProviderImpl.java:359)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:98)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:73)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:145)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:175)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:900)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:931)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at models.dao.CulturalEventDao.&lt;clinit&gt;(CulturalEventDao.java:15)\n    ... 1 more\nCaused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)\n    at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\n    ... 38 more\n</code></pre>\n\n<p>But I also found this error EntityManagerFactoryBuilderImpl.java(jpa class: org.hibernate.jpa.boot.internal) in method EntityManagerFactory build() in this line:</p>\n\n<p><a href=\"https://i.stack.imgur.com/EfQu9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EfQu9.png\" alt=\"build error image\"></a></p>\n\n<p>Another interesting thing is that the configuration values from 'persistence.xml' are correctly readed as you can see in this image <a href=\"https://i.stack.imgur.com/WqQWM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WqQWM.png\" alt=\"configuration values working\"></a></p>\n\n<p>Here the persistence.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;persistence xmlns=\"http://java.sun.com/xml/ns/persistence\" version=\"2.0\"&gt;\n\n        &lt;persistence-unit name=\"EventsPersistence\"&gt;\n            &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n            &lt;class&gt;beans.CulturalEvent&lt;/class&gt;\n            &lt;class&gt;beans.Location&lt;/class&gt;\n            &lt;properties&gt;\n                &lt;property name=\"hibernate.connection.url\" value=\"jdbc:mysql://localhost:3306/inventario\"/&gt;\n                &lt;property name=\"hibernate.connection.driver_class\" value=\"com.mysql.cj.jdbc.Driver\"/&gt;\n                &lt;property name=\"hibernate.connection.username\" value=\"root\"/&gt;\n                &lt;property name=\"hibernate.connection.password\" value=\"0001\"/&gt;\n                &lt;property name=\"hibernate.connection.dialect\" value=\"MySQLDialect\" /&gt;\n                &lt;property name=\"hibernate.archive.autodetection\" value=\"class\"/&gt;\n                &lt;property name=\"hibernate.show_sql\" value=\"true\"/&gt;\n                &lt;property name=\"hibernate.format_sql\" value=\"true\"/&gt;\n                &lt;property name=\"hbm2ddl.auto\" value=\"update\"/&gt;\n            &lt;/properties&gt;\n        &lt;/persistence-unit&gt;\n    &lt;/persistence&gt;\n</code></pre>\n\n<p>Well thanks for your time and help ^^</p>\n"},{"tags":["java","android","view"],"answers":[{"tags":[],"owner":{"account_id":25775598,"reputation":1,"user_id":19522338,"display_name":"over dose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657483965,"creation_date":1657483965,"answer_id":72931584,"question_id":72931480,"body_markdown":"I found the answer. The problem was in the way I changed between fragments.\r\n\r\n    public void onClick(View v){\r\n                getSupportFragmentManager().beginTransaction()\r\n                        .setReorderingAllowed(true)\r\n                        .add(R.id.fr_layout, TreatmentsFragment.class, null)\r\n                        .commit();\r\n            }\r\n\r\nis what I used, and \r\n\r\n    public void onClick(View v){\r\n                getSupportFragmentManager().beginTransaction()\r\n                        .setReorderingAllowed(true)\r\n                        .replace(R.id.fr_layout, TreatmentsFragment.class, null)\r\n                        .commit();\r\n            }\r\nis what resolved my issue.","title":"Showing dynamically elements from a thread in java/android","body":"<p>I found the answer. The problem was in the way I changed between fragments.</p>\n<pre><code>public void onClick(View v){\n            getSupportFragmentManager().beginTransaction()\n                    .setReorderingAllowed(true)\n                    .add(R.id.fr_layout, TreatmentsFragment.class, null)\n                    .commit();\n        }\n</code></pre>\n<p>is what I used, and</p>\n<pre><code>public void onClick(View v){\n            getSupportFragmentManager().beginTransaction()\n                    .setReorderingAllowed(true)\n                    .replace(R.id.fr_layout, TreatmentsFragment.class, null)\n                    .commit();\n        }\n</code></pre>\n<p>is what resolved my issue.</p>\n"}],"owner":{"account_id":25775598,"reputation":1,"user_id":19522338,"display_name":"over dose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657483965,"creation_date":1657482934,"question_id":72931480,"body_markdown":"I&#39;m debuting with Java developpment on Android, and I&#39;m encountering a difficulty.\r\n\r\nI want to fetch some elements from a database and then display them.\r\n\r\nMy app is composed of :\r\nMainActivity, which displays MainFragment. On MainActivity there is a button changing MainFragment to SecondFragment, or SecondFragment to MainFragment.\r\n\r\nDataBaseAccess class which I use to load and interact with a room database. In order to do so, I can&#39;t use the Main Thread so I use a Thread  to run the code that loads and gets info from the database. \r\nHere is my onCreateView in MainFragment :\r\n\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n       \r\n        View v = inflater.inflate(R.layout.fragment_main, container, false);\r\n     \r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                  String data_fetched = &quot;&quot;;\r\n                // Here there is code to load the database and put the data I want in data_fetched\r\n              \r\n                ((Activity)getContext()).runOnUiThread(new Runnable() {\r\n\r\n                    @Override\r\n                    public void run() {\r\n                        LinearLayout l = ((Activity) getContext()).findViewById(R.id.main_main_space);\r\n\r\n                        TextView text = new TextView(getContext());\r\n\r\n                        text.setText(&quot;Fetched info : &quot; +data_fetched);\r\n                        l.addView(text);\r\n\r\n                    }\r\n                });\r\n\r\n            }\r\n        }).start();\r\n        return v;\r\n\r\n\r\n\r\nMy problem is that the code works on the first time I load MainFragment, but when I load SecondFragment and reload MainFragment,  the text that I want to display doesn&#39;t print.\r\nMaybe my approach isn&#39;t correct, as I&#39;ve said I&#39;m new to android developpment so if there are better practices please correct me !","title":"Showing dynamically elements from a thread in java/android","body":"<p>I'm debuting with Java developpment on Android, and I'm encountering a difficulty.</p>\n<p>I want to fetch some elements from a database and then display them.</p>\n<p>My app is composed of :\nMainActivity, which displays MainFragment. On MainActivity there is a button changing MainFragment to SecondFragment, or SecondFragment to MainFragment.</p>\n<p>DataBaseAccess class which I use to load and interact with a room database. In order to do so, I can't use the Main Thread so I use a Thread  to run the code that loads and gets info from the database.\nHere is my onCreateView in MainFragment :</p>\n<pre><code>public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n   \n    View v = inflater.inflate(R.layout.fragment_main, container, false);\n \n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n              String data_fetched = &quot;&quot;;\n            // Here there is code to load the database and put the data I want in data_fetched\n          \n            ((Activity)getContext()).runOnUiThread(new Runnable() {\n\n                @Override\n                public void run() {\n                    LinearLayout l = ((Activity) getContext()).findViewById(R.id.main_main_space);\n\n                    TextView text = new TextView(getContext());\n\n                    text.setText(&quot;Fetched info : &quot; +data_fetched);\n                    l.addView(text);\n\n                }\n            });\n\n        }\n    }).start();\n    return v;\n</code></pre>\n<p>My problem is that the code works on the first time I load MainFragment, but when I load SecondFragment and reload MainFragment,  the text that I want to display doesn't print.\nMaybe my approach isn't correct, as I've said I'm new to android developpment so if there are better practices please correct me !</p>\n"},{"tags":["java","if-statement","while-loop","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":2660364,"reputation":637,"user_id":2300217,"display_name":"Kayz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657321014,"creation_date":1657321014,"answer_id":72917731,"question_id":72917654,"body_markdown":"you *really* should have a look at loops (and how to escape them)! \r\nIt could end up something like that: (pseudo-code)\r\n\r\n    boolean valid = false;\r\n    int counter = 0;\r\n    while(!valid &amp;&amp; counter &lt; 3) {\r\n      if (&quot;yes&quot;) {\r\n       ...\r\n       valid = true;\r\n      } else if (&quot;no&quot;) {\r\n        ...\r\n       valid = true;\r\n     } else {\r\n       counter++:\r\n     }\r\n    }","title":"How do I stop if statement after the first true return value?","body":"<p>you <em>really</em> should have a look at loops (and how to escape them)!\nIt could end up something like that: (pseudo-code)</p>\n<pre><code>boolean valid = false;\nint counter = 0;\nwhile(!valid &amp;&amp; counter &lt; 3) {\n  if (&quot;yes&quot;) {\n   ...\n   valid = true;\n  } else if (&quot;no&quot;) {\n    ...\n   valid = true;\n } else {\n   counter++:\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20233393,"reputation":432,"user_id":14839305,"display_name":"Rhett Harrison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657327339,"creation_date":1657321186,"answer_id":72917743,"question_id":72917654,"body_markdown":"You won&#39;t need to repeat typing the code. Instead let&#39;s use a while loop. This code will continue to run until the using has had 3 tries. At the very bottom is where we will add to the integer variable entries by one only if we make it to the end.\r\n\r\nThe reason the code is not stopping is because you haven&#39;t told it to stop. Once you reach a stopping point in the loop, you can use this break statement to exit the while loop.\r\n\r\nIf the user ever gets 3 entries (or more) the system will reply with too many entries\r\n\r\n```    \r\n\r\nimport java.util.*;\r\npublic class Equality {\r\n  public static void main(String[] args) {\r\n    int entries = 0;\r\n    while(entries &lt; 3) {\r\n\r\n      // Get the User&#39;s response\r\n      Scanner input = new Scanner(System.in);\r\n      System.out.println(&quot;Do you have a job?(yes/no): &quot;);\r\n      String response = input.next();\r\n\r\n      // Determine the response from System\r\n      if(response.equalsIgnoreCase(&quot;yes&quot;)) {\r\n        System.out.println(&quot;You are the breadwinner!&quot;);\r\n        break; // this will stop the while loop\r\n      }\r\n      else if(response.equalsIgnoreCase(&quot;no&quot;)) {\r\n        System.out.println(&quot;Keep trying, you will find one!&quot;);\r\n      }\r\n      else {\r\n        System.out.println(&quot;Invalid Entry! Try again!&quot;);\r\n      }\r\n      entries++;\r\n\r\n      // Let the user know they have had too many entries\r\n      if(entries &gt;= 3) {\r\n        System.out.println(&quot;Too many invalid entries&quot;);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\nHere are some resources to the new things I added to your code\r\n\r\nThe while loop: \r\nhttps://www.w3schools.com/java/java_while_loop.asp\r\n\r\nThe break statement:\r\nhttps://www.geeksforgeeks.org/break-statement-in-java/","title":"How do I stop if statement after the first true return value?","body":"<p>You won't need to repeat typing the code. Instead let's use a while loop. This code will continue to run until the using has had 3 tries. At the very bottom is where we will add to the integer variable entries by one only if we make it to the end.</p>\n<p>The reason the code is not stopping is because you haven't told it to stop. Once you reach a stopping point in the loop, you can use this break statement to exit the while loop.</p>\n<p>If the user ever gets 3 entries (or more) the system will reply with too many entries</p>\n<pre><code>\nimport java.util.*;\npublic class Equality {\n  public static void main(String[] args) {\n    int entries = 0;\n    while(entries &lt; 3) {\n\n      // Get the User's response\n      Scanner input = new Scanner(System.in);\n      System.out.println(&quot;Do you have a job?(yes/no): &quot;);\n      String response = input.next();\n\n      // Determine the response from System\n      if(response.equalsIgnoreCase(&quot;yes&quot;)) {\n        System.out.println(&quot;You are the breadwinner!&quot;);\n        break; // this will stop the while loop\n      }\n      else if(response.equalsIgnoreCase(&quot;no&quot;)) {\n        System.out.println(&quot;Keep trying, you will find one!&quot;);\n      }\n      else {\n        System.out.println(&quot;Invalid Entry! Try again!&quot;);\n      }\n      entries++;\n\n      // Let the user know they have had too many entries\n      if(entries &gt;= 3) {\n        System.out.println(&quot;Too many invalid entries&quot;);\n      }\n    }\n  }\n}\n\n</code></pre>\n<p>Here are some resources to the new things I added to your code</p>\n<p>The while loop:\n<a href=\"https://www.w3schools.com/java/java_while_loop.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/java/java_while_loop.asp</a></p>\n<p>The break statement:\n<a href=\"https://www.geeksforgeeks.org/break-statement-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/break-statement-in-java/</a></p>\n"},{"tags":[],"owner":{"account_id":20734100,"reputation":1,"user_id":15225323,"display_name":"ArshiaRx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657322662,"creation_date":1657321961,"answer_id":72917803,"question_id":72917654,"body_markdown":"You dont need to repeat it. You can either use a while loop or a for loop. Here is a sample\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Equality {\r\n        public static void main(String args[]) {\r\n            Scanner input = new Scanner(System.in);\r\n    \r\n            for (int i = 0; i &lt;= 2; i++) {\r\n                System.out.println(&quot;Do you have a job? (Yes/No): &quot;);\r\n                String response = input.next();\r\n                if (response.equalsIgnoreCase(&quot;Yes&quot;)) {\r\n                    System.out.println(&quot;You are the breadWinner&quot;);\r\n                    break;   //will exit it out of the loop\r\n                }\r\n                else if (response.equalsIgnoreCase(&quot;No&quot;)){\r\n                    System.out.println(&quot;Keep, trying you will find one!&quot;);\r\n                }\r\n                else {\r\n                    System.out.println(&quot;Invalid Value, Try again!&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How do I stop if statement after the first true return value?","body":"<p>You dont need to repeat it. You can either use a while loop or a for loop. Here is a sample</p>\n<pre><code>import java.util.Scanner;\n\npublic class Equality {\n    public static void main(String args[]) {\n        Scanner input = new Scanner(System.in);\n\n        for (int i = 0; i &lt;= 2; i++) {\n            System.out.println(&quot;Do you have a job? (Yes/No): &quot;);\n            String response = input.next();\n            if (response.equalsIgnoreCase(&quot;Yes&quot;)) {\n                System.out.println(&quot;You are the breadWinner&quot;);\n                break;   //will exit it out of the loop\n            }\n            else if (response.equalsIgnoreCase(&quot;No&quot;)){\n                System.out.println(&quot;Keep, trying you will find one!&quot;);\n            }\n            else {\n                System.out.println(&quot;Invalid Value, Try again!&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22302441,"reputation":94,"user_id":16527504,"display_name":"MegaBytten"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657366201,"creation_date":1657327043,"answer_id":72918147,"question_id":72917654,"body_markdown":"Because you have multiple if statements, you can&#39;t break away from the latter 2 if the first one is answered correctly. Regardless of the first if() { } statement&#39;s results, the following code and onwards will _always_ be called.\r\n\r\n(Your code)\r\n```\r\nif(response.equalsIgnoreCase(&quot;yes&quot;)){\r\n  System.out.println(&quot;You are the breadwinner!&quot;);\r\n} else if(response.equalsIgnoreCase(&quot;no&quot;)){\r\n  System.out.println(&quot;Keep trying, you will find one!&quot;);\r\n} else {\r\n  System.out.println(&quot;Invalid Entry! Try again!&quot;);\r\n}\r\n\r\n//this following code will always be run after your first if statement!\r\nresponse = input.next();\r\nif(response.equalsIgnoreCase(&quot;yes&quot;)){\r\n  System.out.println(&quot;You are the breadwinner!&quot;);\r\n}\r\n...\r\n```\r\n\r\nProbably the best way to do what you&#39;re trying to accomplish is by working with loops. Here is a good tutorial on how [while loops in Java](https://www.geeksforgeeks.org/java-while-loop-with-examples/) work. That tutorial should aid in understanding the following (improved) code, which: \r\n- Exits loop as soon as the user gets it correct\r\n- Allows a maximum of 3 attempts\r\n\r\n(New code)\r\n```\r\nimport java.util.*;\r\npublic class Equality {\r\n  public static void main(String[] args) {\r\n\r\n    //this int will be increased by 1 everytime the code completes\r\n    int attempts = 0;\r\n\r\n    //while attempts &lt; 3, all of the following code will be executed\r\n    //after it is completed, it will be run again! until attempts &gt;= 3\r\n    while(attempts &lt; 3) {\r\n      Scanner input = new Scanner(System.in);\r\n      System.out.println(&quot;Do you have a job?(yes/no): &quot;);\r\n      String response = input.next();\r\n\r\n      // Determine the User&#39;s response\r\n      if(response.equalsIgnoreCase(&quot;yes&quot;)) {\r\n        System.out.println(&quot;You are the breadwinner!&quot;);\r\n        break; // &#39;break&#39; is a keyword used to BREAK out of the loop = stop!\r\n      }\r\n      else if(response.equalsIgnoreCase(&quot;no&quot;)) {\r\n        System.out.println(&quot;Keep trying, you will find one!&quot;);\r\n      }\r\n      else {\r\n        System.out.println(&quot;Invalid Entry! Try again!&quot;);\r\n      }\r\n      attempts++; //this is a fancy line for attempts = attempts + 1\r\n\r\n      //After their last attempt, system will print a warning\r\n      if(attempts &gt;= 3) {\r\n        System.out.println(&quot;No More Remaining Attempts!&quot;);\r\n        //notice how we dont need a break statement here!\r\n        //this is because on the next iteration (loop) of the loop,\r\n        //attempts = 3, and while (attempts &lt; 3) is no longer true! = no loop\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nHope this helps! This is also my first Stack Overflow Answer so I apologise for any formatting/technical issues :D","title":"How do I stop if statement after the first true return value?","body":"<p>Because you have multiple if statements, you can't break away from the latter 2 if the first one is answered correctly. Regardless of the first if() { } statement's results, the following code and onwards will <em>always</em> be called.</p>\n<p>(Your code)</p>\n<pre><code>if(response.equalsIgnoreCase(&quot;yes&quot;)){\n  System.out.println(&quot;You are the breadwinner!&quot;);\n} else if(response.equalsIgnoreCase(&quot;no&quot;)){\n  System.out.println(&quot;Keep trying, you will find one!&quot;);\n} else {\n  System.out.println(&quot;Invalid Entry! Try again!&quot;);\n}\n\n//this following code will always be run after your first if statement!\nresponse = input.next();\nif(response.equalsIgnoreCase(&quot;yes&quot;)){\n  System.out.println(&quot;You are the breadwinner!&quot;);\n}\n...\n</code></pre>\n<p>Probably the best way to do what you're trying to accomplish is by working with loops. Here is a good tutorial on how <a href=\"https://www.geeksforgeeks.org/java-while-loop-with-examples/\" rel=\"nofollow noreferrer\">while loops in Java</a> work. That tutorial should aid in understanding the following (improved) code, which:</p>\n<ul>\n<li>Exits loop as soon as the user gets it correct</li>\n<li>Allows a maximum of 3 attempts</li>\n</ul>\n<p>(New code)</p>\n<pre><code>import java.util.*;\npublic class Equality {\n  public static void main(String[] args) {\n\n    //this int will be increased by 1 everytime the code completes\n    int attempts = 0;\n\n    //while attempts &lt; 3, all of the following code will be executed\n    //after it is completed, it will be run again! until attempts &gt;= 3\n    while(attempts &lt; 3) {\n      Scanner input = new Scanner(System.in);\n      System.out.println(&quot;Do you have a job?(yes/no): &quot;);\n      String response = input.next();\n\n      // Determine the User's response\n      if(response.equalsIgnoreCase(&quot;yes&quot;)) {\n        System.out.println(&quot;You are the breadwinner!&quot;);\n        break; // 'break' is a keyword used to BREAK out of the loop = stop!\n      }\n      else if(response.equalsIgnoreCase(&quot;no&quot;)) {\n        System.out.println(&quot;Keep trying, you will find one!&quot;);\n      }\n      else {\n        System.out.println(&quot;Invalid Entry! Try again!&quot;);\n      }\n      attempts++; //this is a fancy line for attempts = attempts + 1\n\n      //After their last attempt, system will print a warning\n      if(attempts &gt;= 3) {\n        System.out.println(&quot;No More Remaining Attempts!&quot;);\n        //notice how we dont need a break statement here!\n        //this is because on the next iteration (loop) of the loop,\n        //attempts = 3, and while (attempts &lt; 3) is no longer true! = no loop\n      }\n    }\n  }\n}\n</code></pre>\n<p>Hope this helps! This is also my first Stack Overflow Answer so I apologise for any formatting/technical issues :D</p>\n"}],"owner":{"account_id":25702684,"reputation":15,"user_id":19462505,"display_name":"jorge reyes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":4,"score":-1,"last_activity_date":1657483446,"creation_date":1657320124,"question_id":72917654,"body_markdown":"This code should print out a reply based on user input, user is given 3 tries to enter input after invalid tries. It works when they return all invalid values, but code still asks for user input after they have answered yes or no. \r\n\r\n```\r\n\r\nimport java.util.*;\r\npublic class Equality {\r\n    public static void main(String[] args) {\r\n        \r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Do you have a job?(yes/no): &quot;);\r\n        String response = input.next();\r\n        \r\n        if(response.equalsIgnoreCase(&quot;yes&quot;)) {\r\n            System.out.println(&quot;You are the breadwinner!&quot;);\r\n        }\r\n        else if(response.equalsIgnoreCase(&quot;no&quot;)) {\r\n            System.out.println(&quot;Keep trying, you will find one!&quot;);\r\n        }\r\n        else {\r\n            System.out.println(&quot;Invalid Entry! Try again!&quot;);\r\n        }\r\n        \r\n        response = input.next();\r\n        if(response.equalsIgnoreCase(&quot;yes&quot;)) {\r\n            System.out.println(&quot;You are the breadwinner!&quot;);\r\n        }\r\n        else if(response.equalsIgnoreCase(&quot;no&quot;)) {\r\n            System.out.println(&quot;Keep trying, you will find one!&quot;);\r\n        }\r\n        else {\r\n            System.out.println(&quot;Invalid Entry! Try again!&quot;);\r\n        }\r\n        \r\n        response = input.next();\r\n        if(response.equalsIgnoreCase(&quot;yes&quot;)) {\r\n            System.out.println(&quot;You are the breadwinner!&quot;);\r\n        }\r\n        else if(response.equalsIgnoreCase(&quot;no&quot;)) {\r\n            System.out.println(&quot;Keep trying, you will find one!&quot;);\r\n        }\r\n        else {\r\n            System.out.println(&quot;Too many invalid entries!&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"How do I stop if statement after the first true return value?","body":"<p>This code should print out a reply based on user input, user is given 3 tries to enter input after invalid tries. It works when they return all invalid values, but code still asks for user input after they have answered yes or no.</p>\n<pre><code>\nimport java.util.*;\npublic class Equality {\n    public static void main(String[] args) {\n        \n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;Do you have a job?(yes/no): &quot;);\n        String response = input.next();\n        \n        if(response.equalsIgnoreCase(&quot;yes&quot;)) {\n            System.out.println(&quot;You are the breadwinner!&quot;);\n        }\n        else if(response.equalsIgnoreCase(&quot;no&quot;)) {\n            System.out.println(&quot;Keep trying, you will find one!&quot;);\n        }\n        else {\n            System.out.println(&quot;Invalid Entry! Try again!&quot;);\n        }\n        \n        response = input.next();\n        if(response.equalsIgnoreCase(&quot;yes&quot;)) {\n            System.out.println(&quot;You are the breadwinner!&quot;);\n        }\n        else if(response.equalsIgnoreCase(&quot;no&quot;)) {\n            System.out.println(&quot;Keep trying, you will find one!&quot;);\n        }\n        else {\n            System.out.println(&quot;Invalid Entry! Try again!&quot;);\n        }\n        \n        response = input.next();\n        if(response.equalsIgnoreCase(&quot;yes&quot;)) {\n            System.out.println(&quot;You are the breadwinner!&quot;);\n        }\n        else if(response.equalsIgnoreCase(&quot;no&quot;)) {\n            System.out.println(&quot;Keep trying, you will find one!&quot;);\n        }\n        else {\n            System.out.println(&quot;Too many invalid entries!&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","filter"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1657483900,"post_id":72931402,"comment_id":128815202,"body_markdown":"In other words, the text of your question doesn&#39;t really tell us what is going on, and the example code doesn&#39;t really show anything either.  With this as is, it&#39;s unlikely to get a useful answer.","body":"In other words, the text of your question doesn&#39;t really tell us what is going on, and the example code doesn&#39;t really show anything either.  With this as is, it&#39;s unlikely to get a useful answer."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1657485558,"post_id":72931402,"comment_id":128815508,"body_markdown":"Use the `RowFilter.andFilter(...)` method. For example: https://stackoverflow.com/questions/17450644/jtable-row-filtering-based-on-values-of-two-different-columns/17451538#17451538","body":"Use the <code>RowFilter.andFilter(...)</code> method. For example: <a href=\"https://stackoverflow.com/questions/17450644/jtable-row-filtering-based-on-values-of-two-different-columns/17451538#17451538\" title=\"jtable row filtering based on values of two different columns\">stackoverflow.com/questions/17450644/&hellip;</a>"}],"owner":{"account_id":25548721,"reputation":9,"user_id":19333538,"display_name":"Cristian Carlos Bacarreza Cast"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1657485596,"answer_count":0,"score":0,"last_activity_date":1657483097,"creation_date":1657482149,"question_id":72931402,"body_markdown":"The method that I am using only works on a single piece of data, but I need more data to be filtered.\r\n\r\nTo filter the data, I&#39;m using a text box.\r\n\r\n    public void keyPressed(KeyEvent e) {\r\n        // TODO add your handling code here:\r\n        \r\n        textFecha.addKeyListener(new KeyAdapter() {\r\n            \r\n            @Override\r\n            public void keyReleased(KeyEvent ke) {\r\n                //super.keyReleased(e); //To change body of generated methods, choose Tools | Templates.\r\n                trs.setRowFilter(RowFilter.regexFilter(&quot;(?i)&quot; + textFecha.getText(), 0));\r\n                //trs.setRowFilter(RowFilter.regexFilter(&quot;?i&quot;+txtfiltro.getText(), 1));\r\n            }\r\n            \r\n            \r\n            //public void KeyReleased(final KeyEvent evt) {}\r\n        });\r\n        \r\n        trs = new TableRowSorter(dtm);\r\n        table.setRowSorter(trs);\r\n        \r\n        List&lt;RowSorter.SortKey&gt; sortKeys = new ArrayList&lt;&gt;();\r\n        int columnIndexToSort = 2;\r\n        \r\n        sortKeys.add(new RowSorter.SortKey(columnIndexToSort, SortOrder.ASCENDING));\r\n        trs.setSortKeys(sortKeys);\r\n        trs.sort();\r\n    }","title":"how to put more than one filter in a java table","body":"<p>The method that I am using only works on a single piece of data, but I need more data to be filtered.</p>\n<p>To filter the data, I'm using a text box.</p>\n<pre><code>public void keyPressed(KeyEvent e) {\n    // TODO add your handling code here:\n    \n    textFecha.addKeyListener(new KeyAdapter() {\n        \n        @Override\n        public void keyReleased(KeyEvent ke) {\n            //super.keyReleased(e); //To change body of generated methods, choose Tools | Templates.\n            trs.setRowFilter(RowFilter.regexFilter(&quot;(?i)&quot; + textFecha.getText(), 0));\n            //trs.setRowFilter(RowFilter.regexFilter(&quot;?i&quot;+txtfiltro.getText(), 1));\n        }\n        \n        \n        //public void KeyReleased(final KeyEvent evt) {}\n    });\n    \n    trs = new TableRowSorter(dtm);\n    table.setRowSorter(trs);\n    \n    List&lt;RowSorter.SortKey&gt; sortKeys = new ArrayList&lt;&gt;();\n    int columnIndexToSort = 2;\n    \n    sortKeys.add(new RowSorter.SortKey(columnIndexToSort, SortOrder.ASCENDING));\n    trs.setSortKeys(sortKeys);\n    trs.sort();\n}\n</code></pre>\n"},{"tags":["java","datetime","java-stream"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1655905429,"post_id":72716615,"comment_id":128442948,"body_markdown":"Make `Person` implement `Comparable`, compare the String to a `LocalDateTime` (avoid the old `java.util.Date`) and delegate the comparison so the `LocalDateTime` instances.","body":"Make <code>Person</code> implement <code>Comparable</code>, compare the String to a <code>LocalDateTime</code> (avoid the old <code>java.util.Date</code>) and delegate the comparison so the <code>LocalDateTime</code> instances."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":5,"creation_date":1655905624,"post_id":72716615,"comment_id":128443029,"body_markdown":"A birthdate really shouldnt be a `Date` object - this class is legacy, dont use it. It should be a `LocalDate` object instead. Or, if you actually want to capture the moment in time it happened, use an `Instant`. Tldr, learn your date/time-types.","body":"A birthdate really shouldnt be a <code>Date</code> object - this class is legacy, dont use it. It should be a <code>LocalDate</code> object instead. Or, if you actually want to capture the moment in time it happened, use an <code>Instant</code>. Tldr, learn your date/time-types."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1655905735,"post_id":72716615,"comment_id":128443096,"body_markdown":"Use a `LocalDate` here, it&#39;s the most suitable class because it only holds *date* values: day of month, month of year and year. Btw, your `dateOfBirth` even has a time zone / offset, which might have to be handled when parsing it to, let&#39;s say, a `ZonedDateTime`.","body":"Use a <code>LocalDate</code> here, it&#39;s the most suitable class because it only holds <i>date</i> values: day of month, month of year and year. Btw, your <code>dateOfBirth</code> even has a time zone / offset, which might have to be handled when parsing it to, let&#39;s say, a <code>ZonedDateTime</code>."},{"owner":{"account_id":19882544,"reputation":21,"user_id":14566234,"display_name":"Vanja Radovanovic"},"score":0,"creation_date":1655906037,"post_id":72716615,"comment_id":128443238,"body_markdown":"I can not change Person class. Thing is that I have Date of birth in ISO8601, and I can not change that also. I put person class so you all understand easy what is bordering me.  So my problem is I need to get salary from the youngest Person.","body":"I can not change Person class. Thing is that I have Date of birth in ISO8601, and I can not change that also. I put person class so you all understand easy what is bordering me.  So my problem is I need to get salary from the youngest Person."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1655906291,"post_id":72716615,"comment_id":128443358,"body_markdown":"[Sort ArrayList of custom Objects by property](https://stackoverflow.com/questions/2784514/sort-arraylist-of-custom-objects-by-property)","body":"<a href=\"https://stackoverflow.com/questions/2784514/sort-arraylist-of-custom-objects-by-property\">Sort ArrayList of custom Objects by property</a>"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":3,"creation_date":1655906303,"post_id":72716615,"comment_id":128443366,"body_markdown":"@VanjaRadovanovic None of what you just said changes anything here. What we are saying is that you should not parse your `String dateOfBirth` as `Date` object. But as `LocalDate` or `Instant` instead. All of them can easily parse ISO-8601 compliant strings. And then you can sort on those. If the string truly looks like what you showed, i.e. with full time and zone info in it, and all you want is to sort it chronologically, I would go for `Instant.parse(dateOfBirth)`. For example `persons.stream().min(Comparator.comparing(person -&gt; Instant.parse(dateOfBirth))).map(person -&gt; person.salary);`.","body":"@VanjaRadovanovic None of what you just said changes anything here. What we are saying is that you should not parse your <code>String dateOfBirth</code> as <code>Date</code> object. But as <code>LocalDate</code> or <code>Instant</code> instead. All of them can easily parse ISO-8601 compliant strings. And then you can sort on those. If the string truly looks like what you showed, i.e. with full time and zone info in it, and all you want is to sort it chronologically, I would go for <code>Instant.parse(dateOfBirth)</code>. For example <code>persons.stream().min(Comparator.comparing(person -&gt; Instant.parse(dateOfBirth))).map(person -&gt; person.salary);</code>."},{"owner":{"display_name":"user6073886"},"score":5,"creation_date":1655906628,"post_id":72716615,"comment_id":128443506,"body_markdown":"Why should he even parse the date at all? The good thing about  ISO-8601 dates is that their alphabetic order is the same as their natural order. He can just sort on the String without doing any parsing.","body":"Why should he even parse the date at all? The good thing about  ISO-8601 dates is that their alphabetic order is the same as their natural order. He can just sort on the String without doing any parsing."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1655906878,"post_id":72716615,"comment_id":128443624,"body_markdown":"@OHGODSPIDERS That is an interesting property, I was not aware either. Cool.","body":"@OHGODSPIDERS That is an interesting property, I was not aware either. Cool."}],"answers":[{"tags":[],"owner":{"account_id":14461800,"reputation":177,"user_id":10446433,"display_name":"SimpleJack"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655907373,"creation_date":1655906855,"answer_id":72717058,"question_id":72716615,"body_markdown":"As suggested by others, use `LocalDateTime`. `LocalDateTime` has very conveniant functions, that fit exactly your problem. You can directly parse your String into it, just remove the &quot;Z&quot; from your ISO string and you&#39;re good:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    LocalDateTime someBirthday = LocalDateTime.parse(&quot;2018-12-10T13:49:51.141&quot;);\r\n\r\nNext step, write a comparator:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class BirthdayComparator implements Comparator&lt;LocalDateTime&gt; {\r\n    \r\n        @Override\r\n        public int compare(LocalDateTime date1, LocalDateTime date2) {\r\n            if(date1.isAfter(date2)) {\r\n                return 1;\r\n            } else if (date1.equals(date2)) {\r\n                return 0;\r\n            } else {\r\n                return -1;\r\n            }\r\n        }\r\n    }\r\n\r\nThats it. You can now sort for birth dates.\r\n\r\n**Update**\r\n\r\nOne last word of caution: This code ignores time zones. To be precise, it implicitly assumes, all given birthdays are in the **same** time zone. This can be problematic, if you have to deal with persons all over the globe...","title":"Get youngest Person from List&lt;Person&gt; where Person has date of Birth in string ISO8601 fromat","body":"<p>As suggested by others, use <code>LocalDateTime</code>. <code>LocalDateTime</code> has very conveniant functions, that fit exactly your problem. You can directly parse your String into it, just remove the &quot;Z&quot; from your ISO string and you're good:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime someBirthday = LocalDateTime.parse(&quot;2018-12-10T13:49:51.141&quot;);\n</code></pre>\n<p>Next step, write a comparator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BirthdayComparator implements Comparator&lt;LocalDateTime&gt; {\n\n    @Override\n    public int compare(LocalDateTime date1, LocalDateTime date2) {\n        if(date1.isAfter(date2)) {\n            return 1;\n        } else if (date1.equals(date2)) {\n            return 0;\n        } else {\n            return -1;\n        }\n    }\n}\n</code></pre>\n<p>Thats it. You can now sort for birth dates.</p>\n<p><strong>Update</strong></p>\n<p>One last word of caution: This code ignores time zones. To be precise, it implicitly assumes, all given birthdays are in the <strong>same</strong> time zone. This can be problematic, if you have to deal with persons all over the globe...</p>\n"},{"tags":[],"owner":{"account_id":25619776,"reputation":89,"user_id":19391865,"display_name":"AGH"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1655907791,"creation_date":1655907791,"answer_id":72717304,"question_id":72716615,"body_markdown":"You can do like this \r\n\r\n```\r\nPerson youngestPerson = listOfPersons.stream()\r\n.reduce((p1, p2) -&gt; LocalDateTime.parse(p1.getStringDateofBirth()).isAfter(LocalDateTime.parse(p2.getStringDateofBirth()))?p1:p2)\r\n.orElse(null)\r\n```","title":"Get youngest Person from List&lt;Person&gt; where Person has date of Birth in string ISO8601 fromat","body":"<p>You can do like this</p>\n<pre><code>Person youngestPerson = listOfPersons.stream()\n.reduce((p1, p2) -&gt; LocalDateTime.parse(p1.getStringDateofBirth()).isAfter(LocalDateTime.parse(p2.getStringDateofBirth()))?p1:p2)\n.orElse(null)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1656003504,"creation_date":1655908746,"answer_id":72717544,"question_id":72716615,"body_markdown":"UTC ISO-8601 date strings can be compared lexicographically. The most elegant Java 8 solution in my opinion would therefore be:\r\n\r\n    Person youngest = listOfPersons.stream()\r\n        .max(Comparator.comparing(p -&gt; p.dateOfBirth)).get();\r\n\r\nIf you don&#39;t trust the string comparison, or your timezones are all over the place, you can parse the date if you wish:\r\n\r\n    Person youngest = listOfPersons.stream()\r\n        .max(Comparator.comparing(p -&gt; LocalDateTime.parse(p.dateOfBirth, DateTimeFormatter.ISO_DATE_TIME)))\r\n        .get();\r\n\r\n[Or even][1]:\r\n\r\n    Person youngest = listOfPersons.stream()\r\n        .max(Comparator.comparing(p -&gt; Instant.parse(p.dateOfBirth))).get();\r\n\r\nNote that you should probably use `LocalDateTime` (or `Instant`) rather than `Date`, as Java 8 has moved away from the old date/time APIs ([a good rundown here](https://www.baeldung.com/java-8-date-time-intro)). You&#39;ll need to use the [`ISO_DATE_TIME`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE_TIME) formatter to handle the `Z` zone at the end if you&#39;re using `LocalDateTime`.\r\n\r\n[Runnable example is here.](https://ideone.com/HNwcwM)\r\n\r\n---\r\n\r\nAPI of interest:\r\n\r\n- [`Stream`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html) is Java 8&#39;s sort of ... iterable transformation interface supporting lots of handy methods and method chaining. All `Collection` objects have a [`stream()`](https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#stream--) member for obtaining one.\r\n- [`Stream.max()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#max-java.util.Comparator-) returns the maximum value in a stream according to some `Comparator` that you specify (which could be a lambda function, or, as in the above case, just a `Comparator` object).\r\n  - The return value is actually an [`Optional&lt;Person&gt;`](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html) in this case (e.g. if the list was empty there might be no value), so `get()` gets the value, or you could just leave it as an `Optional` if you want, or you could use e.g. `orElse(null)` instead of `get()` if you&#39;d rather it be null for an empty list.\r\n- [`Comparator.comparing()`](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-) is a handy little utility that constructs a `Comparator&lt;T&gt;` given a function that maps a `T` to a comparable value.\r\n\r\nSo in the above code:\r\n- `p -&gt; p.dateOfBirth` (or `p -&gt; LocalDateTime.parse(p.dateOfBirth)`, your call) is a lambda function which maps a person to their birthdate.\r\n- `Comparator.comparing(...)`, when given said key mapping function, returns a `Comparator` that compares the birth date of two persons, performing the appropriate comparison depending on whether you used the `String` or the `LocalDateTime` version.\r\n- `max()` returns the object with the maximum date, i.e. the youngest person.\r\n- `get()` just gets the `Person` out of the `Optional&lt;Person&gt;`.\r\n\r\n---\r\n\r\nFull example (linked to ideone above):\r\n\r\n``` \r\nimport java.util.*;\r\nimport java.lang.*;\r\nimport java.io.*;\r\nimport java.time.*;\r\nimport java.time.format.*;\r\n\r\nclass Ideone {\r\n\r\n\tpublic static void main (String[] args) throws java.lang.Exception {\r\n\t\t\r\n\t\tPerson youngest;\r\n\t\t\r\n\t\t// you could do string comparison if you know the timezones are consistent:\r\n\t\t\r\n\t\tyoungest = listOfPersons.stream()\r\n\t\t    .max(Comparator.comparing(p -&gt; p.dateOfBirth)).get();\r\n\t\t\r\n\t\tSystem.out.println(&quot;youngest is: &quot; + youngest.name + &quot; &quot; + youngest.dateOfBirth);\r\n\r\n        // or you could just parse the date, a safer option:\r\n\t\t\r\n\t\tyoungest = listOfPersons.stream()\r\n\t\t    .max(Comparator.comparing(p -&gt; LocalDateTime.parse(p.dateOfBirth, DateTimeFormatter.ISO_DATE_TIME))).get();\r\n\t\t\r\n\t\tSystem.out.println(&quot;youngest is: &quot; + youngest.name + &quot; &quot; + youngest.dateOfBirth);\r\n\t\t\r\n\t}\r\n\r\n\t\r\n\t//------------------------------------\r\n\t// types from OP:\r\n\t\r\n\tstatic class Person{\r\n\t\tString name;\r\n\t\tString id;\r\n\t\tString dateOfBirth;\r\n\t\tint salary;\r\n\t}\r\n\r\n\tstatic List &lt;Person&gt; listOfPersons;\r\n\r\n\t\r\n\t//------------------------------------\r\n\t// boring example data initialization:\r\n\t\r\n\t// make an iso birthdate string given an age (for initializing data)\r\n\tstatic String fromAge (int years) {\r\n\t\t//return LocalDateTime.now().minusYears(years).toString();\r\n\t\t// add zone to emulate OP&#39;s input:\r\n\t\treturn LocalDateTime.now().minusYears(years).toString() + &#39;Z&#39;;\r\n\t}\r\n\t\r\n\t// make up some data\r\n\tstatic {\r\n\t\tlistOfPersons = List.of(\r\n\t\t\t// fine for example, but i wouldn&#39;t init like this in production\r\n\t\t\tnew Person() {{ name=&quot;helga&quot;; dateOfBirth=fromAge(22); }},\r\n\t\t\tnew Person() {{ name=&quot;mortimer&quot;; dateOfBirth=fromAge(48); }},\r\n\t\t\tnew Person() {{ name=&quot;gertrude&quot;; dateOfBirth=fromAge(6); }},\r\n\t\t\tnew Person() {{ name=&quot;jebediah&quot;; dateOfBirth=fromAge(39); }}\r\n\t\t);\r\n\t\tlistOfPersons.forEach(p -&gt; System.out.println(p.name + &#39; &#39; + p.dateOfBirth));\r\n\t}\r\n\r\n\t\r\n} \r\n```\r\n\r\nOutputs:\r\n\r\n```lang-none\r\nhelga 2000-06-23T03:07:26.084850Z\r\nmortimer 1974-06-23T03:07:26.126628Z\r\ngertrude 2016-06-23T03:07:26.126894Z\r\njebediah 1983-06-23T03:07:26.127948Z\r\nyoungest is: gertrude 2016-06-23T03:07:26.126894Z\r\nyoungest is: gertrude 2016-06-23T03:07:26.126894Z\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72721584/616460","title":"Get youngest Person from List&lt;Person&gt; where Person has date of Birth in string ISO8601 fromat","body":"<p>UTC ISO-8601 date strings can be compared lexicographically. The most elegant Java 8 solution in my opinion would therefore be:</p>\n<pre><code>Person youngest = listOfPersons.stream()\n    .max(Comparator.comparing(p -&gt; p.dateOfBirth)).get();\n</code></pre>\n<p>If you don't trust the string comparison, or your timezones are all over the place, you can parse the date if you wish:</p>\n<pre><code>Person youngest = listOfPersons.stream()\n    .max(Comparator.comparing(p -&gt; LocalDateTime.parse(p.dateOfBirth, DateTimeFormatter.ISO_DATE_TIME)))\n    .get();\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/72721584/616460\">Or even</a>:</p>\n<pre><code>Person youngest = listOfPersons.stream()\n    .max(Comparator.comparing(p -&gt; Instant.parse(p.dateOfBirth))).get();\n</code></pre>\n<p>Note that you should probably use <code>LocalDateTime</code> (or <code>Instant</code>) rather than <code>Date</code>, as Java 8 has moved away from the old date/time APIs (<a href=\"https://www.baeldung.com/java-8-date-time-intro\" rel=\"nofollow noreferrer\">a good rundown here</a>). You'll need to use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE_TIME\" rel=\"nofollow noreferrer\"><code>ISO_DATE_TIME</code></a> formatter to handle the <code>Z</code> zone at the end if you're using <code>LocalDateTime</code>.</p>\n<p><a href=\"https://ideone.com/HNwcwM\" rel=\"nofollow noreferrer\">Runnable example is here.</a></p>\n<hr />\n<p>API of interest:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>Stream</code></a> is Java 8's sort of ... iterable transformation interface supporting lots of handy methods and method chaining. All <code>Collection</code> objects have a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#stream--\" rel=\"nofollow noreferrer\"><code>stream()</code></a> member for obtaining one.</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#max-java.util.Comparator-\" rel=\"nofollow noreferrer\"><code>Stream.max()</code></a> returns the maximum value in a stream according to some <code>Comparator</code> that you specify (which could be a lambda function, or, as in the above case, just a <code>Comparator</code> object).\n<ul>\n<li>The return value is actually an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional&lt;Person&gt;</code></a> in this case (e.g. if the list was empty there might be no value), so <code>get()</code> gets the value, or you could just leave it as an <code>Optional</code> if you want, or you could use e.g. <code>orElse(null)</code> instead of <code>get()</code> if you'd rather it be null for an empty list.</li>\n</ul>\n</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Comparator.comparing()</code></a> is a handy little utility that constructs a <code>Comparator&lt;T&gt;</code> given a function that maps a <code>T</code> to a comparable value.</li>\n</ul>\n<p>So in the above code:</p>\n<ul>\n<li><code>p -&gt; p.dateOfBirth</code> (or <code>p -&gt; LocalDateTime.parse(p.dateOfBirth)</code>, your call) is a lambda function which maps a person to their birthdate.</li>\n<li><code>Comparator.comparing(...)</code>, when given said key mapping function, returns a <code>Comparator</code> that compares the birth date of two persons, performing the appropriate comparison depending on whether you used the <code>String</code> or the <code>LocalDateTime</code> version.</li>\n<li><code>max()</code> returns the object with the maximum date, i.e. the youngest person.</li>\n<li><code>get()</code> just gets the <code>Person</code> out of the <code>Optional&lt;Person&gt;</code>.</li>\n</ul>\n<hr />\n<p>Full example (linked to ideone above):</p>\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\nimport java.time.*;\nimport java.time.format.*;\n\nclass Ideone {\n\n    public static void main (String[] args) throws java.lang.Exception {\n        \n        Person youngest;\n        \n        // you could do string comparison if you know the timezones are consistent:\n        \n        youngest = listOfPersons.stream()\n            .max(Comparator.comparing(p -&gt; p.dateOfBirth)).get();\n        \n        System.out.println(&quot;youngest is: &quot; + youngest.name + &quot; &quot; + youngest.dateOfBirth);\n\n        // or you could just parse the date, a safer option:\n        \n        youngest = listOfPersons.stream()\n            .max(Comparator.comparing(p -&gt; LocalDateTime.parse(p.dateOfBirth, DateTimeFormatter.ISO_DATE_TIME))).get();\n        \n        System.out.println(&quot;youngest is: &quot; + youngest.name + &quot; &quot; + youngest.dateOfBirth);\n        \n    }\n\n    \n    //------------------------------------\n    // types from OP:\n    \n    static class Person{\n        String name;\n        String id;\n        String dateOfBirth;\n        int salary;\n    }\n\n    static List &lt;Person&gt; listOfPersons;\n\n    \n    //------------------------------------\n    // boring example data initialization:\n    \n    // make an iso birthdate string given an age (for initializing data)\n    static String fromAge (int years) {\n        //return LocalDateTime.now().minusYears(years).toString();\n        // add zone to emulate OP's input:\n        return LocalDateTime.now().minusYears(years).toString() + 'Z';\n    }\n    \n    // make up some data\n    static {\n        listOfPersons = List.of(\n            // fine for example, but i wouldn't init like this in production\n            new Person() {{ name=&quot;helga&quot;; dateOfBirth=fromAge(22); }},\n            new Person() {{ name=&quot;mortimer&quot;; dateOfBirth=fromAge(48); }},\n            new Person() {{ name=&quot;gertrude&quot;; dateOfBirth=fromAge(6); }},\n            new Person() {{ name=&quot;jebediah&quot;; dateOfBirth=fromAge(39); }}\n        );\n        listOfPersons.forEach(p -&gt; System.out.println(p.name + ' ' + p.dateOfBirth));\n    }\n\n    \n} \n</code></pre>\n<p>Outputs:</p>\n<pre class=\"lang-none prettyprint-override\"><code>helga 2000-06-23T03:07:26.084850Z\nmortimer 1974-06-23T03:07:26.126628Z\ngertrude 2016-06-23T03:07:26.126894Z\njebediah 1983-06-23T03:07:26.127948Z\nyoungest is: gertrude 2016-06-23T03:07:26.126894Z\nyoungest is: gertrude 2016-06-23T03:07:26.126894Z\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655930904,"creation_date":1655929514,"answer_id":72721584,"question_id":72716615,"body_markdown":"Here is one way.\r\n```\r\nrecord Person(String name, String id, String dateOfBirth,\r\n\t\t\t\tint salary) {}\r\n\t\t\r\nList&lt;Person&gt; list = new ArrayList&lt;&gt;(List.of(\r\n\t\tnew Person(&quot;Jim&quot;, &quot;10&quot;, &quot;2018-12-10T13:49:51.141Z&quot;,\r\n\t\t\t\t20),\r\n\t\tnew Person(&quot;Mary&quot;, &quot;11&quot;, &quot;2018-12-15T13:49:51.141Z&quot;,\r\n\t\t\t\t20),\r\n\t\tnew Person(&quot;Bob&quot;, &quot;12&quot;, &quot;2018-12-12T13:49:51.141Z&quot;,\r\n\t\t\t\t20)));\r\n```\r\n- use `maxBy` since the youngest person would be born futher away from the epoch.\r\n- parse with an `Instant` of time. You cannot parse your given format example using `LocalDateTime`\r\n```\r\nPerson youngest = list.stream().collect(Collectors.maxBy(Comparator\r\n\t\t.comparing(p -&gt; Instant.parse(p.dateOfBirth)))).get();\r\n\r\nSystem.out.println(youngest);\r\n```\r\nprints\r\n```\r\nPerson[name=Mary, id=11, dateOfBirth=2018-12-15T13:49:51.141Z, salary=20]\r\n```\r\nNote that `maxBy` returns an `Optional`, therefore the `get()` call at the end. You may want to return the `Optional&lt;Person&gt;` and then extract the date based on success of the lookup.","title":"Get youngest Person from List&lt;Person&gt; where Person has date of Birth in string ISO8601 fromat","body":"<p>Here is one way.</p>\n<pre><code>record Person(String name, String id, String dateOfBirth,\n                int salary) {}\n        \nList&lt;Person&gt; list = new ArrayList&lt;&gt;(List.of(\n        new Person(&quot;Jim&quot;, &quot;10&quot;, &quot;2018-12-10T13:49:51.141Z&quot;,\n                20),\n        new Person(&quot;Mary&quot;, &quot;11&quot;, &quot;2018-12-15T13:49:51.141Z&quot;,\n                20),\n        new Person(&quot;Bob&quot;, &quot;12&quot;, &quot;2018-12-12T13:49:51.141Z&quot;,\n                20)));\n</code></pre>\n<ul>\n<li>use <code>maxBy</code> since the youngest person would be born futher away from the epoch.</li>\n<li>parse with an <code>Instant</code> of time. You cannot parse your given format example using <code>LocalDateTime</code></li>\n</ul>\n<pre><code>Person youngest = list.stream().collect(Collectors.maxBy(Comparator\n        .comparing(p -&gt; Instant.parse(p.dateOfBirth)))).get();\n\nSystem.out.println(youngest);\n</code></pre>\n<p>prints</p>\n<pre><code>Person[name=Mary, id=11, dateOfBirth=2018-12-15T13:49:51.141Z, salary=20]\n</code></pre>\n<p>Note that <code>maxBy</code> returns an <code>Optional</code>, therefore the <code>get()</code> call at the end. You may want to return the <code>Optional&lt;Person&gt;</code> and then extract the date based on success of the lookup.</p>\n"}],"owner":{"account_id":19882544,"reputation":21,"user_id":14566234,"display_name":"Vanja Radovanovic"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":633,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72721584,"answer_count":4,"score":1,"last_activity_date":1657483037,"creation_date":1655905263,"question_id":72716615,"body_markdown":"``` \r\nclass Person {\r\n    String name;\r\n    String id;\r\n    String dateOfBirth;\r\n    int salary;\r\n }\r\n\r\n List &lt;Person&gt; listOfPersons; // Consider that list is filled with some data\r\n```\r\n\r\ne.g. `dateOfBirth = &quot;2018-12-10T13:49:51.141Z&quot;;`\r\n\r\nDate of birth is in ISO8601 and can be converted to `java.util.Date`\r\nwith `Date.from(Instant.parse(dateOfBirth));`\r\nif that can help to sort the list.\r\n\r\n\r\nSo is there any way of using streams or nice solution in JAVA 8 to get the youngest Person from list of persons?\r\n\r\nAdditional comment: Person class can not be changed. ","title":"Get youngest Person from List&lt;Person&gt; where Person has date of Birth in string ISO8601 fromat","body":"<pre><code>class Person {\n    String name;\n    String id;\n    String dateOfBirth;\n    int salary;\n }\n\n List &lt;Person&gt; listOfPersons; // Consider that list is filled with some data\n</code></pre>\n<p>e.g. <code>dateOfBirth = &quot;2018-12-10T13:49:51.141Z&quot;;</code></p>\n<p>Date of birth is in ISO8601 and can be converted to <code>java.util.Date</code>\nwith <code>Date.from(Instant.parse(dateOfBirth));</code>\nif that can help to sort the list.</p>\n<p>So is there any way of using streams or nice solution in JAVA 8 to get the youngest Person from list of persons?</p>\n<p>Additional comment: Person class can not be changed.</p>\n"},{"tags":["java","spring","email"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1657475257,"post_id":72930539,"comment_id":128813515,"body_markdown":"The error seems pretty clear to me. What have you tried, where and why are you stuck? Are you sure that you&#39;ve used your own mail address and password?","body":"The error seems pretty clear to me. What have you tried, where and why are you stuck? Are you sure that you&#39;ve used your own mail address and password?"}],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1657478471,"creation_date":1657478148,"answer_id":72930964,"question_id":72930539,"body_markdown":"Google has announced that it’s disabling the Less Secure Apps feature on some Google accounts from May 30th, 2022.\r\n\r\nTo be able to send messages through your gmail account, you can set up an app password in your Google account.\r\n\r\nAn app password works like an alternate password for your account. It can only be used by the applications you share it with, so it’s more secure than sharing your primary password\r\n\r\nIf you’d like to use an app password,[you’ll need to turn on two factor authentication for your Google account ][1]. After that, you can create an app specific password for WP Mail SMTP in the security settings for your Google account.\r\n\r\nTo do so, select Other (Custom name) as the app on the App passwords screen.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThen type in WP Mail SMTP or another name that will help you identify this password in the space provided.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nAfter that, you just need to click the Generate button to create your password.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n**Note**: any time you change your main Google account password, it will deactivate your app passwords as well. If you change your password frequently, this may not be the best workaround.\r\n\r\nAfter generating password, you put your generated password in password property of your property file:\r\n\r\n\r\n \r\n\r\n     mail:\r\n        host: smtp.gmail.com\r\n        username: mail@gmail.com\r\n        password: &lt;GENERATED_PASSWORD&gt;\r\n        port: 465\r\n        protocol: smtps\r\n\r\n\r\n  [1]: https://support.google.com/accounts/answer/185839\r\n  [2]: https://i.stack.imgur.com/TKMR0.png\r\n  [3]: https://i.stack.imgur.com/KmrhH.png\r\n  [4]: https://i.stack.imgur.com/xs8ay.png","title":"javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at","body":"<p>Google has announced that it’s disabling the Less Secure Apps feature on some Google accounts from May 30th, 2022.</p>\n<p>To be able to send messages through your gmail account, you can set up an app password in your Google account.</p>\n<p>An app password works like an alternate password for your account. It can only be used by the applications you share it with, so it’s more secure than sharing your primary password</p>\n<p>If you’d like to use an app password,<a href=\"https://support.google.com/accounts/answer/185839\" rel=\"noreferrer\">you’ll need to turn on two factor authentication for your Google account </a>. After that, you can create an app specific password for WP Mail SMTP in the security settings for your Google account.</p>\n<p>To do so, select Other (Custom name) as the app on the App passwords screen.</p>\n<p><a href=\"https://i.stack.imgur.com/TKMR0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TKMR0.png\" alt=\"enter image description here\" /></a></p>\n<p>Then type in WP Mail SMTP or another name that will help you identify this password in the space provided.</p>\n<p><a href=\"https://i.stack.imgur.com/KmrhH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KmrhH.png\" alt=\"enter image description here\" /></a></p>\n<p>After that, you just need to click the Generate button to create your password.</p>\n<p><a href=\"https://i.stack.imgur.com/xs8ay.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xs8ay.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Note</strong>: any time you change your main Google account password, it will deactivate your app passwords as well. If you change your password frequently, this may not be the best workaround.</p>\n<p>After generating password, you put your generated password in password property of your property file:</p>\n<pre><code> mail:\n    host: smtp.gmail.com\n    username: mail@gmail.com\n    password: &lt;GENERATED_PASSWORD&gt;\n    port: 465\n    protocol: smtps\n</code></pre>\n"}],"owner":{"account_id":23076022,"reputation":123,"user_id":17188947,"display_name":"Peter Shneider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3387,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1657500938,"accepted_answer_id":72930964,"answer_count":1,"score":1,"last_activity_date":1657482256,"creation_date":1657474409,"question_id":72930539,"body_markdown":"I&#39;m trying to send mails using my java app and gmail. Here is my config:\r\n\r\n      mail:\r\n        host: smtp.gmail.com\r\n        username: mail@gmail.com\r\n        password: password\r\n        port: 465\r\n        protocol: smtps\r\n\r\nBut, unfortunately I&#39;m getting following error: \r\n\r\n    javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at\r\n    535 5.7.8  https://support.google.com/mail/?p=BadCredentials l18-20020a056402345200b0043a5004e714sm3019845edc.64 - gsmtp\r\n    \r\n        \tat com.sun.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:947)\r\n        \tat com.sun.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:858)\r\n\r\nI have enabled access to less secured apps on my gmail account and I&#39;m sure that provided username and password are valid.\r\n\r\nCan someone help me with this?\r\n\r\nThanks","title":"javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at","body":"<p>I'm trying to send mails using my java app and gmail. Here is my config:</p>\n<pre><code>  mail:\n    host: smtp.gmail.com\n    username: mail@gmail.com\n    password: password\n    port: 465\n    protocol: smtps\n</code></pre>\n<p>But, unfortunately I'm getting following error:</p>\n<pre><code>javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials l18-20020a056402345200b0043a5004e714sm3019845edc.64 - gsmtp\n\n        at com.sun.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:947)\n        at com.sun.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:858)\n</code></pre>\n<p>I have enabled access to less secured apps on my gmail account and I'm sure that provided username and password are valid.</p>\n<p>Can someone help me with this?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":1,"creation_date":1657480879,"post_id":72931223,"comment_id":128814605,"body_markdown":"add `@Autowired` above `private C c;`. Without that annotation the bean will not be injected into the field. Also, class A or a subclass that extends it should be annotated with `@Component` or the annotation is ignored.","body":"add <code>@Autowired</code> above <code>private C c;</code>. Without that annotation the bean will not be injected into the field. Also, class A or a subclass that extends it should be annotated with <code>@Component</code> or the annotation is ignored."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1657481170,"post_id":72931223,"comment_id":128814660,"body_markdown":"btw its better to implement the method `afterPropertiesSet()` from the `Spring` interface `InitializingBean` then to use `@PostConstruct`. `@PostConstruct` has been deprecated.","body":"btw its better to implement the method <code>afterPropertiesSet()</code> from the <code>Spring</code> interface <code>InitializingBean</code> then to use <code>@PostConstruct</code>. <code>@PostConstruct</code> has been deprecated."}],"owner":{"account_id":25769719,"reputation":15,"user_id":19518751,"display_name":"ghostRider"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1657481461,"creation_date":1657480586,"question_id":72931223,"body_markdown":"I am new to Spring and trying to understand the behavior of PostConstruct in Spring\r\n\r\nCould anyone help me figure out why I get NPE on c, when its called from Caller class, when I am initialzing it in the init method.\r\n\r\n```\r\npublic abstract class A extends B {\r\n\t\r\n\tprivate C c;\r\n\t\r\n\t@PostConstruct\r\n\tpublic void init() {\r\n\t\t\r\n\t\tc = new C();\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic D testMethod() {\r\n\r\n\t c.callMethod()\t\t\r\n\t\r\n\t}\r\n\t\r\n}\r\n\r\n@Component\r\npublic class Caller {\r\n\t\r\n\t.....\r\n\t\r\n\tpublic void method() {\r\n\t\t// NPE on c \r\n\t\t&lt;code&gt;.testMethod()\r\n\t}\r\n\t\r\n}\r\n\r\n```","title":"Java Spring PostConstruct behavior","body":"<p>I am new to Spring and trying to understand the behavior of PostConstruct in Spring</p>\n<p>Could anyone help me figure out why I get NPE on c, when its called from Caller class, when I am initialzing it in the init method.</p>\n<pre><code>public abstract class A extends B {\n    \n    private C c;\n    \n    @PostConstruct\n    public void init() {\n        \n        c = new C();\n    }\n\n\n    @Override\n    public D testMethod() {\n\n     c.callMethod()     \n    \n    }\n    \n}\n\n@Component\npublic class Caller {\n    \n    .....\n    \n    public void method() {\n        // NPE on c \n        &lt;code&gt;.testMethod()\n    }\n    \n}\n\n</code></pre>\n"},{"tags":["java","hibernate","jboss7.x"],"comments":[{"owner":{"account_id":2406105,"reputation":15821,"user_id":2102532,"accept_rate":67,"display_name":"meskobalazs"},"score":1,"creation_date":1421418330,"post_id":27985924,"comment_id":44362959,"body_markdown":"You should configure your own logger for it. If that is log4j, take a look: http://stackoverflow.com/a/436687/2102532","body":"You should configure your own logger for it. If that is log4j, take a look: <a href=\"http://stackoverflow.com/a/436687/2102532\">stackoverflow.com/a/436687/2102532</a>"}],"answers":[{"tags":[],"owner":{"account_id":2730061,"reputation":1242,"user_id":2867361,"accept_rate":100,"display_name":"CHHIBI AMOR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421419391,"creation_date":1421419391,"answer_id":27986410,"question_id":27985924,"body_markdown":"You can enable or disable logging of the following categories (using a log4j.properties file here):\r\n\r\n**log4j.properties**\r\n\r\n    log4j.logger.org.hibernate=INFO, hb\r\n    log4j.logger.org.hibernate.SQL=DEBUG\r\n    log4j.logger.org.hibernate.type=TRACE\r\n    log4j.logger.org.hibernate.hql.ast.AST=info\r\n    log4j.logger.org.hibernate.tool.hbm2ddl=warn\r\n    log4j.logger.org.hibernate.hql=debug\r\n    log4j.logger.org.hibernate.cache=info\r\n    log4j.logger.org.hibernate.jdbc=debug\r\n\r\n    log4j.appender.hb=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.hb.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.hb.layout.ConversionPattern=HibernateLog --&gt; %d{HH:mm:ss} %-5p %c - %m%n\r\n    log4j.appender.hb.Threshold=TRACE\r\n\r\n**hibernate.cfg.xml**\r\n\r\n    &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n    &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n    &lt;property name=&quot;use_sql_comments&quot;&gt;true&lt;/property&gt;\r\n","title":"Show / Hide SQL queries in jBoss Logs","body":"<p>You can enable or disable logging of the following categories (using a log4j.properties file here):</p>\n\n<p><strong>log4j.properties</strong></p>\n\n<pre><code>log4j.logger.org.hibernate=INFO, hb\nlog4j.logger.org.hibernate.SQL=DEBUG\nlog4j.logger.org.hibernate.type=TRACE\nlog4j.logger.org.hibernate.hql.ast.AST=info\nlog4j.logger.org.hibernate.tool.hbm2ddl=warn\nlog4j.logger.org.hibernate.hql=debug\nlog4j.logger.org.hibernate.cache=info\nlog4j.logger.org.hibernate.jdbc=debug\n\nlog4j.appender.hb=org.apache.log4j.ConsoleAppender\nlog4j.appender.hb.layout=org.apache.log4j.PatternLayout\nlog4j.appender.hb.layout.ConversionPattern=HibernateLog --&gt; %d{HH:mm:ss} %-5p %c - %m%n\nlog4j.appender.hb.Threshold=TRACE\n</code></pre>\n\n<p><strong>hibernate.cfg.xml</strong></p>\n\n<pre><code>&lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n&lt;property name=\"format_sql\"&gt;true&lt;/property&gt;\n&lt;property name=\"use_sql_comments\"&gt;true&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2467988,"reputation":741,"user_id":2150601,"display_name":"Poornan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1461734438,"creation_date":1461734438,"answer_id":36880928,"question_id":27985924,"body_markdown":"in Jboss EAP 6.2.\r\n\r\nNeed to set environment variable by changing standalone.xml\r\n\r\n    &lt;system-properties&gt;\r\n      &lt;property name=&quot;org.jboss.as.logging.per-deployment&quot; value=&quot;false&quot;/&gt;\r\n    &lt;/system-properties&gt;\r\n\r\nAlternately, you can give it as a JVM option.\r\n\r\n    $ standalone.sh -Dorg.jboss.as.logging.per-deployment=false\r\nThen in standalone.xml add the following under `&lt;subsystem xmlns=&quot;urn:jboss:domain:logging:1.3&quot;&gt;` element\r\n\r\n    &lt;logger category=&quot;org.hibernate.SQL&quot;&gt;\r\n          &lt;level name=&quot;DEBUG&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\nAdd these to hibernate.cfg.xml\r\n\r\n    &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n    &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n    &lt;property name=&quot;use_sql_comments&quot;&gt;true&lt;/property&gt;","title":"Show / Hide SQL queries in jBoss Logs","body":"<p>in Jboss EAP 6.2.</p>\n\n<p>Need to set environment variable by changing standalone.xml</p>\n\n<pre><code>&lt;system-properties&gt;\n  &lt;property name=\"org.jboss.as.logging.per-deployment\" value=\"false\"/&gt;\n&lt;/system-properties&gt;\n</code></pre>\n\n<p>Alternately, you can give it as a JVM option.</p>\n\n<pre><code>$ standalone.sh -Dorg.jboss.as.logging.per-deployment=false\n</code></pre>\n\n<p>Then in standalone.xml add the following under <code>&lt;subsystem xmlns=\"urn:jboss:domain:logging:1.3\"&gt;</code> element</p>\n\n<pre><code>&lt;logger category=\"org.hibernate.SQL\"&gt;\n      &lt;level name=\"DEBUG\"/&gt;\n&lt;/logger&gt;\n</code></pre>\n\n<p>Add these to hibernate.cfg.xml</p>\n\n<pre><code>&lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n&lt;property name=\"format_sql\"&gt;true&lt;/property&gt;\n&lt;property name=\"use_sql_comments\"&gt;true&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10517283,"reputation":998,"user_id":7750999,"display_name":"Caffeine Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657481264,"creation_date":1657481264,"answer_id":72931300,"question_id":27985924,"body_markdown":"There are two straightforward configuration that can be done on Wildfly/Jboss standalone.xml to display the queries along with placeholder values-\r\n\r\n 1. Using Hibernate:\r\n[![enter image description here][1]][1]\r\n\r\n 2. Using spy:\r\n[![enter image description here][2]][2]\r\n\r\n\r\nthen adding `spy=&quot;true&quot;` property to the datasources you wish to get the queries logged for.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/li8c6.jpg\r\n  [2]: https://i.stack.imgur.com/ZT3nb.jpg","title":"Show / Hide SQL queries in jBoss Logs","body":"<p>There are two straightforward configuration that can be done on Wildfly/Jboss standalone.xml to display the queries along with placeholder values-</p>\n<ol>\n<li><p>Using Hibernate:\n<a href=\"https://i.stack.imgur.com/li8c6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/li8c6.jpg\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Using spy:\n<a href=\"https://i.stack.imgur.com/ZT3nb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZT3nb.jpg\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<p>then adding <code>spy=&quot;true&quot;</code> property to the datasources you wish to get the queries logged for.</p>\n"}],"owner":{"account_id":5496138,"reputation":408,"user_id":4367186,"display_name":"Sagar Koshti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21265,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1657481264,"creation_date":1421417873,"question_id":27985924,"body_markdown":"I know we can hide / show sql queries from `hibernate.cfg.xml` or `persistence.xml` with following code:\r\n\r\n    &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\nbut is there any way to do same from jBoss configuration files?","title":"Show / Hide SQL queries in jBoss Logs","body":"<p>I know we can hide / show sql queries from <code>hibernate.cfg.xml</code> or <code>persistence.xml</code> with following code:</p>\n\n<pre><code>&lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n</code></pre>\n\n<p>but is there any way to do same from jBoss configuration files?</p>\n"},{"tags":["java","arrays","methods"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1657431064,"post_id":72926327,"comment_id":128805835,"body_markdown":"Why do you have quote marks or ticks around your sentences of prose?","body":"Why do you have quote marks or ticks around your sentences of prose?"},{"owner":{"account_id":25770178,"reputation":11,"user_id":19519114,"display_name":"Tim"},"score":0,"creation_date":1657431461,"post_id":72926327,"comment_id":128805864,"body_markdown":"Sorry if this isn&#39;t the correct format. I&#39;m new to stack overflow and I was having issues properly formatting my question/code to post. Is this not the right convention? I&#39;m open for suggestions and I will edit my post.","body":"Sorry if this isn&#39;t the correct format. I&#39;m new to stack overflow and I was having issues properly formatting my question/code to post. Is this not the right convention? I&#39;m open for suggestions and I will edit my post."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1657432000,"post_id":72926327,"comment_id":128805894,"body_markdown":"Prose should be plain text, no need for any markup. Code should be either indented on all lines by four SPACE characters, or wrapped in a pair of triple back-ticks. Quotes start with an angle bracket, `&gt;`. You can remove those quote or tick marks around your prose.","body":"Prose should be plain text, no need for any markup. Code should be either indented on all lines by four SPACE characters, or wrapped in a pair of triple back-ticks. Quotes start with an angle bracket, <code>&gt;</code>. You can remove those quote or tick marks around your prose."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657480738,"creation_date":1657433633,"answer_id":72926490,"question_id":72926327,"body_markdown":"When things seem screwy, (a) check your assumptions, (b) engage a [debugger][1].\r\n\r\nYour assumption that `matrixA` has a length greater than zero is incorrect. A debugger would show the length to be zero.\r\n\r\nWhen you initialize a `static` variable within the declaration statement, that code executes when the class is loaded. So `new int [size] [size]` executed very early, before your other code. When that line executed, it used the current value of `size`, which was zero. Why zero? Because that is the default value assigned to a primitive `int`. \r\n\r\nLater, in your `setSize` method, you change the value of `size` from zero to the value input by the user. But that has no effect on your two-dimensional array. That array was initialized to a length of zero long before the `setSize` method executed. \r\n\r\nSee your [code run live at Ideone.com][2]. You can fork that code, and play with it.\r\n\r\nThe problem you experienced is one reason why I like to do all my initializing within a constructor. I rarely use initialization with declaration syntax. But other reasonable programmers may differ on this point.\r\n\r\n\r\n----------\r\n\r\nBy the way, your code has much room for improvement. \r\n\r\nFirst and foremost, you are likely overusing `static`. Anything marked `static` is not object-oriented. If you are writing much non-object-oriented code in Java, you are missing out on much of the value of Java. As a beginning student of Java, you should generally avoid using `static` in general. Even in real work, use `static` as a last-resort generally.\r\n\r\nAnother tip: \r\n\r\n - Separate user-interface code from business logic code. \r\n - Use local state generally. Avoid global variables. Pass needed info as arguments.\r\n - Close your resources such as `Scanner` when done using them. Use try-with-resources syntax to do so more easily and briefly.\r\n - Consider using a `static` factory method rather than a `public` constructor.\r\n\r\nTaking that all into account, write a class to represent our *problem domain*, the business matter of managing a matrix whose height and width are of equal dimensions.\r\n\r\n```java\r\npackage work.basil.example.squarematrix;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\npublic class SquareMatrix\r\n{\r\n    private int matrix[][];\r\n\r\n    private SquareMatrix ( final int size )\r\n    {\r\n        // … Add code here validate passed argument.\r\n        this.matrix = new int[ size ][ size ];\r\n        this.randomize();\r\n    }\r\n\r\n    public static SquareMatrix ofSize ( final int size )\r\n    {\r\n        return new SquareMatrix( size );\r\n    }\r\n\r\n    public void randomize ( )\r\n    {\r\n        for ( int[] row : matrix )\r\n        {\r\n            for ( int columnIndex = 0 ; columnIndex &lt; row.length ; columnIndex++ )\r\n            {\r\n                row[ columnIndex ] = ThreadLocalRandom.current().nextInt( 0 , 10 );  // ( inclusive , exclusive )\r\n            }\r\n        }\r\n    }\r\n\r\n    public int[][] toArray ( )\r\n    {\r\n        // Code taken from: https://stackoverflow.com/a/53397359/642706\r\n        int[][] copy = Arrays.stream( this.matrix ).map( int[] :: clone ).toArray( int[][] :: new );\r\n        return copy;\r\n    }\r\n\r\n    public CharSequence report ( )\r\n    {\r\n        StringBuilder sb = new StringBuilder();\r\n        for ( int[] row : this.matrix )\r\n        {\r\n            sb.append( Arrays.toString( row ) );\r\n            sb.append( &quot;\\n&quot; );  // Using Unix convention of LINE FEED as a delimiter. https://www.fileformat.info/info/unicode/char/000a/index.htm\r\n        }\r\n        return sb ;\r\n    }\r\n}\r\n```\r\n\r\nNotice how this class has a specific purpose: manage the content of our matrix. It is *not* responsible for interacting with a user. It is *not* responsible for running our larger app. \r\n\r\nAlso notice how the two-dimensional array is contained, and marked `private`. This is known as [*encapsulation*][3] in OOP. By encapsulating, we are free to internally use a two-dimensional array today, while leaving the door open to using some other data structure tomorrow. Other code calling upon our `SquareMatrix` class does not know or care anything about its internals. \r\n\r\nAnd notice how the `toArray` method makes a copy of our internally-managed two-dimensional array. We do not want to provide direct access to our internal array, for a couple reasons. One reason is that direct access would break the encapsulation discussed above. Another reason is that we cannot trust the calling programmer; he/she may alter the content. \r\n\r\nNext we create an &quot;app&quot; class, to provide a user-experience for accessing the bounty that is our square matrix.\r\n\r\n```java\r\npackage work.basil.example.squarematrix;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class SquareMatrixApp\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        SquareMatrixApp app = new SquareMatrixApp();\r\n\r\n        int size = app.askUserForSize();\r\n        SquareMatrix squareMatrix = SquareMatrix.ofSize( size );\r\n\r\n        CharSequence report = squareMatrix.report();\r\n        System.out.println( &quot;report = \\n&quot; + report );\r\n\r\n        int[][] array = squareMatrix.toArray();\r\n        System.out.println( &quot;array.length: &quot; + array.length );\r\n    }\r\n\r\n    private int askUserForSize ( )\r\n    {\r\n        try (\r\n                Scanner scanner = new Scanner( System.in ) ;\r\n        )\r\n        {\r\n            System.out.println( &quot;Enter size: &quot; );\r\n            int size = scanner.nextInt();\r\n            // … Add code here to validate inputs. For example, no negative numbers allowed.\r\n            return size;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNotice here how the code for interacting with the user to gather input is segregated to its own method. That user-interface code does not know about, nor does it care about, matrices. \r\n\r\nWhen run.\r\n\r\n```none\r\nEnter size: \r\n3\r\nreport = \r\n[9, 3, 7]\r\n[0, 7, 2]\r\n[0, 7, 7]\r\n\r\narray.length: 3\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Debugger\r\n  [2]: https://ideone.com/YcfKUK\r\n  [3]: https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)","title":"I am not getting any output with this java code. When I run the code without calling methods, that is all the code is in the main method, it works","body":"<p>When things seem screwy, (a) check your assumptions, (b) engage a <a href=\"https://en.wikipedia.org/wiki/Debugger\" rel=\"nofollow noreferrer\">debugger</a>.</p>\n<p>Your assumption that <code>matrixA</code> has a length greater than zero is incorrect. A debugger would show the length to be zero.</p>\n<p>When you initialize a <code>static</code> variable within the declaration statement, that code executes when the class is loaded. So <code>new int [size] [size]</code> executed very early, before your other code. When that line executed, it used the current value of <code>size</code>, which was zero. Why zero? Because that is the default value assigned to a primitive <code>int</code>.</p>\n<p>Later, in your <code>setSize</code> method, you change the value of <code>size</code> from zero to the value input by the user. But that has no effect on your two-dimensional array. That array was initialized to a length of zero long before the <code>setSize</code> method executed.</p>\n<p>See your <a href=\"https://ideone.com/YcfKUK\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>. You can fork that code, and play with it.</p>\n<p>The problem you experienced is one reason why I like to do all my initializing within a constructor. I rarely use initialization with declaration syntax. But other reasonable programmers may differ on this point.</p>\n<hr />\n<p>By the way, your code has much room for improvement.</p>\n<p>First and foremost, you are likely overusing <code>static</code>. Anything marked <code>static</code> is not object-oriented. If you are writing much non-object-oriented code in Java, you are missing out on much of the value of Java. As a beginning student of Java, you should generally avoid using <code>static</code> in general. Even in real work, use <code>static</code> as a last-resort generally.</p>\n<p>Another tip:</p>\n<ul>\n<li>Separate user-interface code from business logic code.</li>\n<li>Use local state generally. Avoid global variables. Pass needed info as arguments.</li>\n<li>Close your resources such as <code>Scanner</code> when done using them. Use try-with-resources syntax to do so more easily and briefly.</li>\n<li>Consider using a <code>static</code> factory method rather than a <code>public</code> constructor.</li>\n</ul>\n<p>Taking that all into account, write a class to represent our <em>problem domain</em>, the business matter of managing a matrix whose height and width are of equal dimensions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.squarematrix;\n\nimport java.util.Arrays;\nimport java.util.concurrent.ThreadLocalRandom;\n\npublic class SquareMatrix\n{\n    private int matrix[][];\n\n    private SquareMatrix ( final int size )\n    {\n        // … Add code here validate passed argument.\n        this.matrix = new int[ size ][ size ];\n        this.randomize();\n    }\n\n    public static SquareMatrix ofSize ( final int size )\n    {\n        return new SquareMatrix( size );\n    }\n\n    public void randomize ( )\n    {\n        for ( int[] row : matrix )\n        {\n            for ( int columnIndex = 0 ; columnIndex &lt; row.length ; columnIndex++ )\n            {\n                row[ columnIndex ] = ThreadLocalRandom.current().nextInt( 0 , 10 );  // ( inclusive , exclusive )\n            }\n        }\n    }\n\n    public int[][] toArray ( )\n    {\n        // Code taken from: https://stackoverflow.com/a/53397359/642706\n        int[][] copy = Arrays.stream( this.matrix ).map( int[] :: clone ).toArray( int[][] :: new );\n        return copy;\n    }\n\n    public CharSequence report ( )\n    {\n        StringBuilder sb = new StringBuilder();\n        for ( int[] row : this.matrix )\n        {\n            sb.append( Arrays.toString( row ) );\n            sb.append( &quot;\\n&quot; );  // Using Unix convention of LINE FEED as a delimiter. https://www.fileformat.info/info/unicode/char/000a/index.htm\n        }\n        return sb ;\n    }\n}\n</code></pre>\n<p>Notice how this class has a specific purpose: manage the content of our matrix. It is <em>not</em> responsible for interacting with a user. It is <em>not</em> responsible for running our larger app.</p>\n<p>Also notice how the two-dimensional array is contained, and marked <code>private</code>. This is known as <a href=\"https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)\" rel=\"nofollow noreferrer\"><em>encapsulation</em></a> in OOP. By encapsulating, we are free to internally use a two-dimensional array today, while leaving the door open to using some other data structure tomorrow. Other code calling upon our <code>SquareMatrix</code> class does not know or care anything about its internals.</p>\n<p>And notice how the <code>toArray</code> method makes a copy of our internally-managed two-dimensional array. We do not want to provide direct access to our internal array, for a couple reasons. One reason is that direct access would break the encapsulation discussed above. Another reason is that we cannot trust the calling programmer; he/she may alter the content.</p>\n<p>Next we create an &quot;app&quot; class, to provide a user-experience for accessing the bounty that is our square matrix.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.squarematrix;\n\nimport java.util.Scanner;\n\npublic class SquareMatrixApp\n{\n    public static void main ( String[] args )\n    {\n        SquareMatrixApp app = new SquareMatrixApp();\n\n        int size = app.askUserForSize();\n        SquareMatrix squareMatrix = SquareMatrix.ofSize( size );\n\n        CharSequence report = squareMatrix.report();\n        System.out.println( &quot;report = \\n&quot; + report );\n\n        int[][] array = squareMatrix.toArray();\n        System.out.println( &quot;array.length: &quot; + array.length );\n    }\n\n    private int askUserForSize ( )\n    {\n        try (\n                Scanner scanner = new Scanner( System.in ) ;\n        )\n        {\n            System.out.println( &quot;Enter size: &quot; );\n            int size = scanner.nextInt();\n            // … Add code here to validate inputs. For example, no negative numbers allowed.\n            return size;\n        }\n    }\n}\n</code></pre>\n<p>Notice here how the code for interacting with the user to gather input is segregated to its own method. That user-interface code does not know about, nor does it care about, matrices.</p>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter size: \n3\nreport = \n[9, 3, 7]\n[0, 7, 2]\n[0, 7, 7]\n\narray.length: 3\n</code></pre>\n"}],"owner":{"account_id":25770178,"reputation":11,"user_id":19519114,"display_name":"Tim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657480738,"creation_date":1657430904,"question_id":72926327,"body_markdown":"&#39;This declares matrixA, randomNumber, and size&#39;\r\n\r\n\tstatic int size;\r\n\tstatic int matrixA [][] = new int [size][size];\r\n\tstatic Random randomNumber = new Random();\r\n\r\n\r\n\r\n&#39;This method asks the user to enter an int. The input is used to set the size of an array&#39;\r\n\r\n\tstatic void setSize() {\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter size&quot;);\r\n\t\tsize = input.nextInt();\r\n\t}\r\n\r\n&#39;This method fills the array with random numbers and prints the array. This is producing no output.&#39;\r\n\r\n\tstatic void fillMatrixA() {\r\n\t\tfor (int i = 0; i &lt; matrixA.length; i++) {\r\n\t\t\tSystem.out.println();\r\n\t\t\tfor (int j = 0; j &lt; matrixA[i].length; j++) {\r\n\t\t\tmatrixA[i][j] = randomNumber.nextInt(10);\r\n\t\t\tSystem.out.println(matrixA[i][j]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n&#39;When I call this method in the main method there is no output. The program has only one class. What could the problem be?&#39;\t\r\n\r\n    ","title":"I am not getting any output with this java code. When I run the code without calling methods, that is all the code is in the main method, it works","body":"<p>'This declares matrixA, randomNumber, and size'</p>\n<pre><code>static int size;\nstatic int matrixA [][] = new int [size][size];\nstatic Random randomNumber = new Random();\n</code></pre>\n<p>'This method asks the user to enter an int. The input is used to set the size of an array'</p>\n<pre><code>static void setSize() {\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Enter size&quot;);\n    size = input.nextInt();\n}\n</code></pre>\n<p>'This method fills the array with random numbers and prints the array. This is producing no output.'</p>\n<pre><code>static void fillMatrixA() {\n    for (int i = 0; i &lt; matrixA.length; i++) {\n        System.out.println();\n        for (int j = 0; j &lt; matrixA[i].length; j++) {\n        matrixA[i][j] = randomNumber.nextInt(10);\n        System.out.println(matrixA[i][j]);\n        }\n    }\n}\n</code></pre>\n<p>'When I call this method in the main method there is no output. The program has only one class. What could the problem be?'</p>\n"},{"tags":["java","swing","jpanel","keylistener","mouselistener"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":4,"creation_date":1657478294,"post_id":72930895,"comment_id":128814102,"body_markdown":"`.setLayout(null);` is usually bad idea. Anyway `JPanel` is not focusable by default. You need to explicitly enable it, consider adding `this.setFocusable(true);` in `testjpanel` constructor. After that you can also add `this.grabFocus();` to *place* keyboard cursor there. BTW `setVisible(true);` should be called when all GUI is already set, not before.","body":"<code>.setLayout(null);</code> is usually bad idea. Anyway <code>JPanel</code> is not focusable by default. You need to explicitly enable it, consider adding <code>this.setFocusable(true);</code> in <code>testjpanel</code> constructor. After that you can also add <code>this.grabFocus();</code> to <i>place</i> keyboard cursor there. BTW <code>setVisible(true);</code> should be called when all GUI is already set, not before."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1657478797,"post_id":72930895,"comment_id":128814199,"body_markdown":"Also, favor use of [Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) over KeyListeners.","body":"Also, favor use of <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key Bindings</a> over KeyListeners."}],"owner":{"account_id":25117020,"reputation":15,"user_id":18965918,"display_name":"yebanko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657478430,"answer_count":0,"score":0,"last_activity_date":1657478801,"creation_date":1657477569,"question_id":72930895,"body_markdown":"I am trying to add a JPanel to a JFrame. The JPanel is supposed to listen to keyboard input and mouse input. When i open the window it does work for the mouse but the keyboard gets ignored and i just can&#39;t see the problem, since i wrote the same stuff for both Listeners.\r\n\r\nThis is the code for the Panel\r\n```\r\npublic class testjpanel extends JPanel implements MouseListener,KeyListener {\r\n\t\r\n\ttestjpanel (){\r\n\t\tthis.addMouseListener(this);\r\n\t\tthis.addKeyListener(this);\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyTyped(KeyEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyPressed(KeyEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(1);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyReleased(KeyEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(1);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mousePressed(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseReleased(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseEntered(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseExited(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\nand here is the rest\r\n```\r\npublic class main extends JFrame {\r\n\t\t\t\t\r\n\tpublic main() {\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tthis.setSize(500,500);\r\n\t\t\t\t\tthis.setVisible(true);\r\n\t\t\t\t\tthis.setLayout(null);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\ttestjpanel a= new testjpanel();\t\t\r\n\t\t\t\t\ta.setVisible(true);\r\n\t\t\t\t\ta.setBounds(0,0,500,500);\r\n\t\t\t\t\ta.setLayout(null);\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.add(a);\r\n\t\t\t\t\t\r\n\t}\r\n}\r\n```","title":"KeyListener will not respond to keyboard input","body":"<p>I am trying to add a JPanel to a JFrame. The JPanel is supposed to listen to keyboard input and mouse input. When i open the window it does work for the mouse but the keyboard gets ignored and i just can't see the problem, since i wrote the same stuff for both Listeners.</p>\n<p>This is the code for the Panel</p>\n<pre><code>public class testjpanel extends JPanel implements MouseListener,KeyListener {\n    \n    testjpanel (){\n        this.addMouseListener(this);\n        this.addKeyListener(this);\n        \n    }\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        // TODO Auto-generated method stub\n        System.out.println(1);\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        // TODO Auto-generated method stub\n        System.out.println(1);\n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n\n}\n</code></pre>\n<p>and here is the rest</p>\n<pre><code>public class main extends JFrame {\n                \n    public main() {\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setSize(500,500);\n                    this.setVisible(true);\n                    this.setLayout(null);\n                            \n                    testjpanel a= new testjpanel();     \n                    a.setVisible(true);\n                    a.setBounds(0,0,500,500);\n                    a.setLayout(null);\n                    \n                    this.add(a);\n                    \n    }\n}\n</code></pre>\n"},{"tags":["java","unix","memory","jvm"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1657478087,"post_id":72930921,"comment_id":128814064,"body_markdown":"You don&#39;t. Java does not allow or support &quot;low level memory stuff&quot;.","body":"You don&#39;t. Java does not allow or support &quot;low level memory stuff&quot;."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1657478595,"post_id":72930921,"comment_id":128814161,"body_markdown":"What exactly are you trying to accomplish?","body":"What exactly are you trying to accomplish?"},{"owner":{"account_id":6711918,"reputation":11,"user_id":5175043,"display_name":"Ann"},"score":0,"creation_date":1657482012,"post_id":72930921,"comment_id":128814826,"body_markdown":"I know java wont support this directly. I guess what i&#39;m looking for is where the JVM heap is in actual process memory.","body":"I know java wont support this directly. I guess what i&#39;m looking for is where the JVM heap is in actual process memory."},{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1657504676,"post_id":72930921,"comment_id":128817985,"body_markdown":"You&#39;re looking for a needle in a haystack. Run gcore and then search for the string in the generated file. The string might be encoded in ISO-8859-1 or UTF-16 (most likely little endian).","body":"You&#39;re looking for a needle in a haystack. Run gcore and then search for the string in the generated file. The string might be encoded in ISO-8859-1 or UTF-16 (most likely little endian)."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657526449,"post_id":72930921,"comment_id":128821969,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1657532218,"post_id":72930921,"comment_id":128823857,"body_markdown":"Given the garbage collector can **move** objects around in memory, doing this would be an extremely painful and error-prone exercise","body":"Given the garbage collector can <b>move</b> objects around in memory, doing this would be an extremely painful and error-prone exercise"}],"owner":{"account_id":6711918,"reputation":11,"user_id":5175043,"display_name":"Ann"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657477866,"creation_date":1657477866,"question_id":72930921,"body_markdown":"This might be a dumb question, sorry i&#39;m new to this low level memory stuff. If I have access to /proc/[pid]/maps and /proc/[pid]/mem of a JVM process would I be able to find the data of an object instance in the processes memory (lets say a particular string object)? or am I missing something obvious about how the JVM and memory work?","title":"Where are object instances stored in JVM processes memory?","body":"<p>This might be a dumb question, sorry i'm new to this low level memory stuff. If I have access to /proc/[pid]/maps and /proc/[pid]/mem of a JVM process would I be able to find the data of an object instance in the processes memory (lets say a particular string object)? or am I missing something obvious about how the JVM and memory work?</p>\n"},{"tags":["java","scala","tensorflow","keras","lstm"],"answers":[{"tags":[],"owner":{"account_id":10449668,"reputation":75,"user_id":7703705,"display_name":"Sudha Rajamanickam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657462439,"creation_date":1657462439,"answer_id":72929145,"question_id":72918570,"body_markdown":"As per this conversation this is something controlled by the model. https://github.com/tensorflow/java/issues/465","title":"How to disable Learning phase in Tensorflow Java/scala as we do in python tf.keras.backend.learning_phase(0)","body":"<p>As per this conversation this is something controlled by the model. <a href=\"https://github.com/tensorflow/java/issues/465\" rel=\"nofollow noreferrer\">https://github.com/tensorflow/java/issues/465</a></p>\n"}],"owner":{"account_id":10449668,"reputation":75,"user_id":7703705,"display_name":"Sudha Rajamanickam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72929145,"answer_count":1,"score":0,"last_activity_date":1657476073,"creation_date":1657334699,"question_id":72918570,"body_markdown":"I am using lstm model and loading the saved model as below\r\n\r\n \r\n\r\n    val modelFiles: List[String] = List(\r\n          &quot;saved_model.pb&quot;,\r\n          &quot;keras_metadata.pb&quot;,\r\n          &quot;variables/variables.data-00000-of-00001&quot;,\r\n          &quot;variables/variables.index&quot;\r\n        )\r\n        val modelDir = &quot;/Models/lstm_model_fullname_with_watchlist&quot;\r\n        val tempDirectory = Files.createTempDirectory(&quot;lstm&quot;).toFile\r\n     val savedModel = SavedModelBundle.load(tempDirectory.getAbsolutePath, &quot;serve&quot;)\r\n        new LSTMModel(\r\n          session = savedModel.session()\r\n        )\r\n\r\nand calling the prediction as below\r\n\r\n     val input1: Tensor[_] = Tensor.create(embed(name1))\r\n        val input2: Tensor[_] = Tensor.create(embed(name2))\r\n        val result: Tensor[_] = session.runner()\r\n          .fetch(&quot;StatefulPartitionedCall:0&quot;)\r\n          .feed(&quot;serving_default_input_1:0&quot;, input1)\r\n          .feed(&quot;serving_default_input_2:0&quot;, input2)\r\n          .run().get(0)\r\n\r\n  1. I need to check whether learning_phase is enabled or disabled?\r\n  2. How to disable learning phase in Scala or Java. I am using scala. but Java reference is also fine, I hope both would be similar.\r\n\r\nI came across this [link][1] by anychance this option itself not available ?\r\n\r\nmy current version of tensorflow is 1.15.0.\r\n\r\n\r\nThanks in advance ....\r\n\r\n\r\n  [1]: https://github.com/tensorflow/java/issues/217","title":"How to disable Learning phase in Tensorflow Java/scala as we do in python tf.keras.backend.learning_phase(0)","body":"<p>I am using lstm model and loading the saved model as below</p>\n<pre><code>val modelFiles: List[String] = List(\n      &quot;saved_model.pb&quot;,\n      &quot;keras_metadata.pb&quot;,\n      &quot;variables/variables.data-00000-of-00001&quot;,\n      &quot;variables/variables.index&quot;\n    )\n    val modelDir = &quot;/Models/lstm_model_fullname_with_watchlist&quot;\n    val tempDirectory = Files.createTempDirectory(&quot;lstm&quot;).toFile\n val savedModel = SavedModelBundle.load(tempDirectory.getAbsolutePath, &quot;serve&quot;)\n    new LSTMModel(\n      session = savedModel.session()\n    )\n</code></pre>\n<p>and calling the prediction as below</p>\n<pre><code> val input1: Tensor[_] = Tensor.create(embed(name1))\n    val input2: Tensor[_] = Tensor.create(embed(name2))\n    val result: Tensor[_] = session.runner()\n      .fetch(&quot;StatefulPartitionedCall:0&quot;)\n      .feed(&quot;serving_default_input_1:0&quot;, input1)\n      .feed(&quot;serving_default_input_2:0&quot;, input2)\n      .run().get(0)\n</code></pre>\n<ol>\n<li>I need to check whether learning_phase is enabled or disabled?</li>\n<li>How to disable learning phase in Scala or Java. I am using scala. but Java reference is also fine, I hope both would be similar.</li>\n</ol>\n<p>I came across this <a href=\"https://github.com/tensorflow/java/issues/217\" rel=\"nofollow noreferrer\">link</a> by anychance this option itself not available ?</p>\n<p>my current version of tensorflow is 1.15.0.</p>\n<p>Thanks in advance ....</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":130772,"reputation":71463,"user_id":330280,"accept_rate":92,"display_name":"aleroot"},"score":0,"creation_date":1324933921,"post_id":8639115,"comment_id":10729893,"body_markdown":"An example of code that produce that output ? What exactly do you want to do ? It is called exponential notation ...","body":"An example of code that produce that output ? What exactly do you want to do ? It is called exponential notation ..."},{"owner":{"account_id":483387,"reputation":6294,"user_id":898390,"accept_rate":69,"display_name":"Andrew"},"score":0,"creation_date":1324934066,"post_id":8639115,"comment_id":10729905,"body_markdown":"And how much is that number? I&#39;m using a few math techniques on minimizing some parameters. I know this should be a very small number, but how small is the question? (I ask how small since I don&#39;t know what that exponential notation does to it)","body":"And how much is that number? I&#39;m using a few math techniques on minimizing some parameters. I know this should be a very small number, but how small is the question? (I ask how small since I don&#39;t know what that exponential notation does to it)"},{"owner":{"account_id":130772,"reputation":71463,"user_id":330280,"accept_rate":92,"display_name":"aleroot"},"score":1,"creation_date":1324934277,"post_id":8639115,"comment_id":10729936,"body_markdown":"http://en.wikipedia.org/wiki/Scientific_notation","body":"<a href=\"http://en.wikipedia.org/wiki/Scientific_notation\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Scientific_notation</a>"}],"answers":[{"tags":[],"owner":{"account_id":183857,"reputation":15364,"user_id":419516,"accept_rate":87,"display_name":"user219882"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1550154262,"creation_date":1324934297,"answer_id":8639166,"question_id":8639115,"body_markdown":"You can use NumberFormat.\r\n\r\n`Code`  \r\n  \r\n    // you can format to any output you want\r\n    NumberFormat formatter = new DecimalFormat(&quot;0.00000000000&quot;);\r\n    String string = formatter.format(9.870699812169277E-4);\r\n    System.out.println(string);\r\n\r\n`Result`\r\n\r\n    0.00098706998\r\n\r\n**Related**\r\n\r\nhttps://stackoverflow.com/questions/5895338/java-format-double-with-decimals and \r\nhttps://stackoverflow.com/questions/5656289/format-numbers-in-java\r\n","title":"Java and decimals E numbers","body":"<p>You can use NumberFormat.</p>\n\n<p><code>Code</code>  </p>\n\n<pre><code>// you can format to any output you want\nNumberFormat formatter = new DecimalFormat(\"0.00000000000\");\nString string = formatter.format(9.870699812169277E-4);\nSystem.out.println(string);\n</code></pre>\n\n<p><code>Result</code></p>\n\n<pre><code>0.00098706998\n</code></pre>\n\n<p><strong>Related</strong></p>\n\n<p><a href=\"https://stackoverflow.com/questions/5895338/java-format-double-with-decimals\">Java: Format double with decimals</a> and \n<a href=\"https://stackoverflow.com/questions/5656289/format-numbers-in-java\">Format numbers in java</a></p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1324934331,"creation_date":1324934331,"answer_id":8639172,"question_id":8639115,"body_markdown":"I don&#39;t know of any language which doesn&#39;t support this notation (except perhaps machine code)  Even most calculators support it.\r\n\r\nI suspect the languages you have used before support this notation, however it just wasn&#39;t used.\r\n\r\n9.870699812169277E-4 is the same 9.870699812169277 * 10-4 or 0.0009870699812169277\r\n\r\nFor your interest there is a P notation e.g. `0x1.fffffffffffffP+1023` which is a hex notation for a double.","title":"Java and decimals E numbers","body":"<p>I don't know of any language which doesn't support this notation (except perhaps machine code)  Even most calculators support it.</p>\n\n<p>I suspect the languages you have used before support this notation, however it just wasn't used.</p>\n\n<p>9.870699812169277E-4 is the same 9.870699812169277 * 10-4 or 0.0009870699812169277</p>\n\n<p>For your interest there is a P notation e.g. <code>0x1.fffffffffffffP+1023</code> which is a hex notation for a double.</p>\n"}],"owner":{"account_id":483387,"reputation":6294,"user_id":898390,"accept_rate":69,"display_name":"Andrew"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10271,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":8639166,"answer_count":2,"score":6,"last_activity_date":1657475903,"creation_date":1324933734,"question_id":8639115,"body_markdown":"Java comes up with numbers like *9.870699812169277E-4* \r\n\r\nHow should I interpret it? Is there a way to parse it in Java and display without that E?\r\n","title":"Java and decimals E numbers","body":"<p>Java comes up with numbers like <em>9.870699812169277E-4</em></p>\n<p>How should I interpret it? Is there a way to parse it in Java and display without that E?</p>\n"},{"tags":["python","java","apache-spark","pyspark"],"answers":[{"tags":[],"owner":{"account_id":20967816,"reputation":22,"user_id":15405618,"display_name":"Sangram Mohanty"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1657474368,"creation_date":1657474368,"answer_id":72930533,"question_id":72682718,"body_markdown":"Hadoop comes pre-installed in hortonworks VM.\r\n\r\n 1. Install Oracle virtualbox \r\n 2. Run hortonworks sandbox in it","title":"Unable to launch pyspark in Windows 10","body":"<p>Hadoop comes pre-installed in hortonworks VM.</p>\n<ol>\n<li>Install Oracle virtualbox</li>\n<li>Run hortonworks sandbox in it</li>\n</ol>\n"}],"owner":{"account_id":11305264,"reputation":99,"user_id":8290076,"display_name":"Sangram_2020"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657474368,"creation_date":1655704176,"question_id":72682718,"body_markdown":"I am unable to start pyspark in Windows 10 PC. I followed all steps given in link &quot;[https://sparkbyexamples.com/spark/apache-spark-installation-on-windows/][1]&quot;\r\n\r\nI have installed Python 3.9, Java 8 and have set their path in environment variables : -\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThen I have set SPARK_HOME and HADOOP_HOME system variables as below : -\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nBut still unable to start pyspark in cmd as below : -\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\nCan anybody let me know how to fix this issue &quot;**Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make private java.nio.DirectByteBuffer(long,int) accessible: module java.base does not &quot;opens java.nio&quot; to unnamed module @4961f6a**f&quot;\r\n\r\nThis seems to be the root cause of this issue.\r\n\r\nThank you\r\n\r\n\r\n  [1]: https://sparkbyexamples.com/spark/apache-spark-installation-on-windows/\r\n  [2]: https://i.stack.imgur.com/ZTk8G.png\r\n  [3]: https://i.stack.imgur.com/7r21R.png\r\n  [4]: https://i.stack.imgur.com/V8IDx.png\r\n  [5]: https://i.stack.imgur.com/ni6r3.png","title":"Unable to launch pyspark in Windows 10","body":"<p>I am unable to start pyspark in Windows 10 PC. I followed all steps given in link &quot;<a href=\"https://sparkbyexamples.com/spark/apache-spark-installation-on-windows/\" rel=\"nofollow noreferrer\">https://sparkbyexamples.com/spark/apache-spark-installation-on-windows/</a>&quot;</p>\n<p>I have installed Python 3.9, Java 8 and have set their path in environment variables : -</p>\n<p><a href=\"https://i.stack.imgur.com/ZTk8G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZTk8G.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I have set SPARK_HOME and HADOOP_HOME system variables as below : -</p>\n<p><a href=\"https://i.stack.imgur.com/7r21R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7r21R.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/V8IDx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V8IDx.png\" alt=\"enter image description here\" /></a></p>\n<p>But still unable to start pyspark in cmd as below : -</p>\n<p><a href=\"https://i.stack.imgur.com/ni6r3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ni6r3.png\" alt=\"enter image description here\" /></a></p>\n<p>Can anybody let me know how to fix this issue &quot;<strong>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make private java.nio.DirectByteBuffer(long,int) accessible: module java.base does not &quot;opens java.nio&quot; to unnamed module @4961f6a</strong>f&quot;</p>\n<p>This seems to be the root cause of this issue.</p>\n<p>Thank you</p>\n"},{"tags":["java","string","char"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1657472420,"post_id":72930285,"comment_id":128812912,"body_markdown":"Try a debugger and step through the code - it looks like `t.substring(0, i)` will replace the the previous replacement which results in just the last replacement.  See also: `String.ReplaceAll(...)`","body":"Try a debugger and step through the code - it looks like <code>t.substring(0, i)</code> will replace the the previous replacement which results in just the last replacement.  See also: <code>String.ReplaceAll(...)</code>"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1657472471,"post_id":72930285,"comment_id":128812932,"body_markdown":"I think this is because for one, you assign the value of the new string to t1 after you concatenate &quot;\\\\&quot;, HOWEVER, you do not save the result to t, meaning t is unchanged original value. Because of this, during next iterations, if t.charAt(i) ==&#39;\\\\&#39;, it overwrites your changes","body":"I think this is because for one, you assign the value of the new string to t1 after you concatenate &quot;\\\\&quot;, HOWEVER, you do not save the result to t, meaning t is unchanged original value. Because of this, during next iterations, if t.charAt(i) ==&#39;\\\\&#39;, it overwrites your changes"},{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":1,"creation_date":1657472523,"post_id":72930285,"comment_id":128812942,"body_markdown":"As a side note: In Java backslashes for file path is not generic; use plain slashes instead and each platform in which java runs can handle it accordingly. Cf. https://stackoverflow.com/a/2417546/5841551","body":"As a side note: In Java backslashes for file path is not generic; use plain slashes instead and each platform in which java runs can handle it accordingly. Cf. <a href=\"https://stackoverflow.com/a/2417546/5841551\">stackoverflow.com/a/2417546/5841551</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1657472549,"post_id":72930285,"comment_id":128812946,"body_markdown":"It looks like you are looking for something like `String replacedText = text.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);`, but at the same time it may also be [XY problem](https://meta.stackexchange.com/q/66377) so try to clarify why you need that code (how/when do you want to use it).","body":"It looks like you are looking for something like <code>String replacedText = text.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);</code>, but at the same time it may also be <a href=\"https://meta.stackexchange.com/q/66377\">XY problem</a> so try to clarify why you need that code (how/when do you want to use it)."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1657472936,"post_id":72930285,"comment_id":128813030,"body_markdown":"It feels like you&#39;re trying to reinvent the [replaceAll](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)) method that Strings come with. Why do you feel you need to do that? Also note that your method name does not reflect what the method code does: you&#39;re not validating anything, so I&#39;d strongly recommend naming it after what it does instead (e.g. `escapePathString` or something).","body":"It feels like you&#39;re trying to reinvent the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">replaceAll</a> method that Strings come with. Why do you feel you need to do that? Also note that your method name does not reflect what the method code does: you&#39;re not validating anything, so I&#39;d strongly recommend naming it after what it does instead (e.g. <code>escapePathString</code> or something)."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1657473459,"post_id":72930285,"comment_id":128813128,"body_markdown":"Possibly related: [Replace backslash with double backslash](https://stackoverflow.com/q/15041111)","body":"Possibly related: <a href=\"https://stackoverflow.com/q/15041111\">Replace backslash with double backslash</a>"}],"answers":[{"tags":[],"owner":{"account_id":23784919,"reputation":345,"user_id":17797142,"display_name":"TheSmith1222"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657473241,"creation_date":1657473241,"answer_id":72930417,"question_id":72930285,"body_markdown":"With this simple code your problem should be solved, without using any loop.\r\n\r\n```\r\npublic class Main {\r\n    public static void main( String[] args ) {\r\n        String path_singleSlash = &quot;C:\\\\Users\\\\acer\\\\Desktop\\\\Test.docx&quot;;\r\n\r\n        String path_doubleSlash = path_singleSlash.replaceAll( &quot;\\\\\\\\&quot;, &quot;\\\\\\\\\\\\\\\\&quot; );\r\n\r\n        System.out.println( &quot;Single slash: &quot; + path_singleSlash );\r\n        System.out.println( &quot;Double slash: &quot; + path_doubleSlash );\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nSingle slash: C:\\Users\\acer\\Desktop\\Test.docx\r\nDouble slash: C:\\\\Users\\\\acer\\\\Desktop\\\\Test.docx\r\n```\r\nLet me know if it was helpful.\r\n","title":"Inserting char at a specific position in a String","body":"<p>With this simple code your problem should be solved, without using any loop.</p>\n<pre><code>public class Main {\n    public static void main( String[] args ) {\n        String path_singleSlash = &quot;C:\\\\Users\\\\acer\\\\Desktop\\\\Test.docx&quot;;\n\n        String path_doubleSlash = path_singleSlash.replaceAll( &quot;\\\\\\\\&quot;, &quot;\\\\\\\\\\\\\\\\&quot; );\n\n        System.out.println( &quot;Single slash: &quot; + path_singleSlash );\n        System.out.println( &quot;Double slash: &quot; + path_doubleSlash );\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Single slash: C:\\Users\\acer\\Desktop\\Test.docx\nDouble slash: C:\\\\Users\\\\acer\\\\Desktop\\\\Test.docx\n</code></pre>\n<p>Let me know if it was helpful.</p>\n"}],"owner":{"account_id":24298473,"reputation":3,"user_id":18242326,"display_name":"Mohammed Mustafa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72930417,"answer_count":1,"score":0,"last_activity_date":1657473241,"creation_date":1657472043,"question_id":72930285,"body_markdown":"I am writing a function to add a backslash after every backslash in a string, for example, I want a string like this `&quot;C:\\Users\\acer\\Desktop\\Test.docx&quot;` to turn into this `&quot;C:\\\\Users\\\\acer\\\\Desktop\\\\Test.docx&quot;`, but for some reason, I can&#39;t add backslashes anywhere except after the final backslash in the text.\r\n\r\n       public static String validate(String text) {\r\n        String t = text;\r\n        String t1 = &quot;&quot;;\r\n        for (int i = 0; i &lt; t.length(); i++) {\r\n            if (t.charAt(i) == &#39;\\\\&#39;) {\r\n                t1 = t.substring(0, i) + &quot;\\\\&quot; + t.substring(i);\r\n            }\r\n        }\r\n        t = t1;\r\n        return t;\r\n    }\r\n\r\n\r\nthe output is the following: `&quot;C:\\Users\\acer\\Desktop\\\\\\Test.docx&quot;` \r\n\r\n\r\n(used `&quot;C:\\Users\\acer\\Desktop\\Test.docx&quot;` as an example)","title":"Inserting char at a specific position in a String","body":"<p>I am writing a function to add a backslash after every backslash in a string, for example, I want a string like this <code>&quot;C:\\Users\\acer\\Desktop\\Test.docx&quot;</code> to turn into this <code>&quot;C:\\\\Users\\\\acer\\\\Desktop\\\\Test.docx&quot;</code>, but for some reason, I can't add backslashes anywhere except after the final backslash in the text.</p>\n<pre><code>   public static String validate(String text) {\n    String t = text;\n    String t1 = &quot;&quot;;\n    for (int i = 0; i &lt; t.length(); i++) {\n        if (t.charAt(i) == '\\\\') {\n            t1 = t.substring(0, i) + &quot;\\\\&quot; + t.substring(i);\n        }\n    }\n    t = t1;\n    return t;\n}\n</code></pre>\n<p>the output is the following: <code>&quot;C:\\Users\\acer\\Desktop\\\\\\Test.docx&quot;</code></p>\n<p>(used <code>&quot;C:\\Users\\acer\\Desktop\\Test.docx&quot;</code> as an example)</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1657474295,"post_id":72930395,"comment_id":128813320,"body_markdown":"That information is not generally available on modern versions of Android, for privacy and security reasons.","body":"That information is not generally available on modern versions of Android, for privacy and security reasons."},{"owner":{"account_id":23670935,"reputation":11,"user_id":17697700,"display_name":"Adi"},"score":0,"creation_date":1657474572,"post_id":72930395,"comment_id":128813381,"body_markdown":"any other method?","body":"any other method?"}],"owner":{"account_id":23670935,"reputation":11,"user_id":17697700,"display_name":"Adi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657473001,"creation_date":1657473001,"question_id":72930395,"body_markdown":"I want get background `RunningTask` for other apps by `specified Package`.\r\nExample: \r\nIf &#39;com.example.app&#39; is running on background, than show toast &#39;App is Running&#39;\r\nelse\r\nShow toast &#39;App is not running&#39;&lt;br&gt;\r\nThanks in advance.\r\n\r\nhere is my code example\r\n```\r\npublic boolean isRunningApp(String packageName) {\r\n        ActivityManager activityManager = (ActivityManager) getSystemService(ACTIVITY_SERVICE);\r\n        List&lt;ActivityManager.RunningAppProcessInfo&gt; runningProcesses = activityManager.getRunningAppProcesses();\r\n        for (ActivityManager.RunningAppProcessInfo processInfo : runningProcesses) {\r\n            if (processInfo.importance == ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND) {\r\n                for (String activeProcess : processInfo.pkgList) {\r\n                    if (activeProcess.equals(packageName)) { //Other app, which is running on background.\r\n                        Toast.makeText(this, &quot;App is running!&quot;, Toast.LENGTH_LONG).show();\r\n                    } else {\r\n                        Toast.makeText(this, &quot;App is not running!&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }","title":"How to get background RunningTasks for other apps in java?","body":"<p>I want get background <code>RunningTask</code> for other apps by <code>specified Package</code>.\nExample:\nIf 'com.example.app' is running on background, than show toast 'App is Running'\nelse\nShow toast 'App is not running'<br>\nThanks in advance.</p>\n<p>here is my code example</p>\n<pre><code>public boolean isRunningApp(String packageName) {\n        ActivityManager activityManager = (ActivityManager) getSystemService(ACTIVITY_SERVICE);\n        List&lt;ActivityManager.RunningAppProcessInfo&gt; runningProcesses = activityManager.getRunningAppProcesses();\n        for (ActivityManager.RunningAppProcessInfo processInfo : runningProcesses) {\n            if (processInfo.importance == ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND) {\n                for (String activeProcess : processInfo.pkgList) {\n                    if (activeProcess.equals(packageName)) { //Other app, which is running on background.\n                        Toast.makeText(this, &quot;App is running!&quot;, Toast.LENGTH_LONG).show();\n                    } else {\n                        Toast.makeText(this, &quot;App is not running!&quot;, Toast.LENGTH_LONG).show();\n                    }\n                }\n            }\n        }\n        return true;\n    }\n</code></pre>\n"},{"tags":["java","recursion","annotations","data-science"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1657468126,"post_id":72929694,"comment_id":128812035,"body_markdown":"The compiler _knows_ about the `@Override` annotation, but not about your custom one. So what exactly are you trying to achieve?","body":"The compiler <i>knows</i> about the <code>@Override</code> annotation, but not about your custom one. So what exactly are you trying to achieve?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1657468445,"post_id":72929694,"comment_id":128812109,"body_markdown":"There is nothing wrong with recursion (see quick sort)  What is it you want to avoid ?","body":"There is nothing wrong with recursion (see quick sort)  What is it you want to avoid ?"},{"owner":{"account_id":1006088,"reputation":5962,"user_id":1019850,"display_name":"David"},"score":0,"creation_date":1657472241,"post_id":72929694,"comment_id":128812881,"body_markdown":"I don&#39;t see how it could help, but you might be interested in iterative functions: https://en.wikipedia.org/wiki/Recursion_(computer_science)#Recursion_versus_iteration","body":"I don&#39;t see how it could help, but you might be interested in iterative functions: <a href=\"https://en.wikipedia.org/wiki/Recursion_(computer_science)#Recursion_versus_iteration\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1006088,"reputation":5962,"user_id":1019850,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657472917,"creation_date":1657472917,"answer_id":72930389,"question_id":72929694,"body_markdown":"The problem to discover recursive functions never seems too hard to solve, the function body just has to be scanned for the function name.  \r\nDue to namespaces the problem is getting a bit more complex and for a simple linter not solvable reliable, but if &quot;this-&gt;functionName()&quot; or &quot;self::functionName()&quot; are discovered it should be reliable probably.","title":"Adding an annotation that can only apply for recursive methods","body":"<p>The problem to discover recursive functions never seems too hard to solve, the function body just has to be scanned for the function name.<br />\nDue to namespaces the problem is getting a bit more complex and for a simple linter not solvable reliable, but if &quot;this-&gt;functionName()&quot; or &quot;self::functionName()&quot; are discovered it should be reliable probably.</p>\n"}],"owner":{"account_id":23954888,"reputation":31,"user_id":17945917,"display_name":"Michel Beṭar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1657472917,"creation_date":1657467125,"question_id":72929694,"body_markdown":"Java has the `@override` annotation which only applies for overriden methods. and it gives a compiler error if you apply it for something else.\r\n\r\nIn my project I am trying to use some thing similar. Since the project uses recursion too much. I created an annotation called `@recurisve` and I add it before recursive functions\r\n\r\nIt won&#39;t be a big deal but I&#39;d love if there&#39;s a way to make it actually detect recursive functions","title":"Adding an annotation that can only apply for recursive methods","body":"<p>Java has the <code>@override</code> annotation which only applies for overriden methods. and it gives a compiler error if you apply it for something else.</p>\n<p>In my project I am trying to use some thing similar. Since the project uses recursion too much. I created an annotation called <code>@recurisve</code> and I add it before recursive functions</p>\n<p>It won't be a big deal but I'd love if there's a way to make it actually detect recursive functions</p>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657528107,"post_id":72927445,"comment_id":128822521,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1657721681,"post_id":72927445,"comment_id":128878322,"body_markdown":"Hi, welcome to SOF. This place works best for you if you ask very specific questions, show exactly what you tried already and where you are stuck. Your question is a generic “how do I do X” question. This is too broad for SOF and better asked in a forum like LinkedIn. I suggest you read up here to learn how to ask great questions here: Use https://stackoverflow.com/help/how-to-ask and this article focused on AnyLogic: https://www.benjamin-schumann.com/blog/2021/4/1/how-to-win-at-anylogic-on-stackoverflow . Welcome again, we are all happy to help on specifics :)","body":"Hi, welcome to SOF. This place works best for you if you ask very specific questions, show exactly what you tried already and where you are stuck. Your question is a generic “how do I do X” question. This is too broad for SOF and better asked in a forum like LinkedIn. I suggest you read up here to learn how to ask great questions here: Use <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> and this article focused on AnyLogic: <a href=\"https://www.benjamin-schumann.com/blog/2021/4/1/how-to-win-at-anylogic-on-stackoverflow\" rel=\"nofollow noreferrer\">benjamin-schumann.com/blog/2021/4/1/&hellip;</a> . Welcome again, we are all happy to help on specifics :)"}],"owner":{"account_id":24205702,"reputation":1,"user_id":18162953,"display_name":"Ritika Saini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657472269,"creation_date":1657445135,"question_id":72927445,"body_markdown":"I am trying to store specific SKUs at &quot;specific slots&quot; location through &quot;store&quot; block in AnyLogic. I have an excel sheet in which data of specific SKUs locations are available. I want to get the storage according to the data I am having in the sheet. How can I do it? \r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WDwUN.png","title":"How to store the products at specific location using store block of material handling library in anylogic which are specified in database?","body":"<p>I am trying to store specific SKUs at &quot;specific slots&quot; location through &quot;store&quot; block in AnyLogic. I have an excel sheet in which data of specific SKUs locations are available. I want to get the storage according to the data I am having in the sheet. How can I do it?\n<a href=\"https://i.stack.imgur.com/WDwUN.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","concatenation","nested-loops"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1657424015,"post_id":72925967,"comment_id":128805209,"body_markdown":"`concat(...)` creates a new string.  You are throwing that new string away.   Should be `returnString = returnString.concat(S.charAt(i));`.  And there are better ways to write that.","body":"<code>concat(...)</code> creates a new string.  You are throwing that new string away.   Should be <code>returnString = returnString.concat(S.charAt(i));</code>.  And there are better ways to write that."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1657424183,"post_id":72925967,"comment_id":128805228,"body_markdown":"`charAt(...)` returns a `char`.  That is a primitive type.  Use `==` to compare primitive types.","body":"<code>charAt(...)</code> returns a <code>char</code>.  That is a primitive type.  Use <code>==</code> to compare primitive types."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1657424234,"post_id":72925967,"comment_id":128805233,"body_markdown":"A `String` does not have a (public) `length` field.  But it does have a `length()` method.","body":"A <code>String</code> does not have a (public) <code>length</code> field.  But it does have a <code>length()</code> method."}],"answers":[{"tags":[],"owner":{"account_id":21810142,"reputation":52,"user_id":16107797,"display_name":"Mr. 17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657426216,"creation_date":1657426216,"answer_id":72926090,"question_id":72925967,"body_markdown":"`char` is a reserved keyword in JAVA. So it cannot be used as a variable name.","title":"How to find duplicate characters in a string and concat them to a new string","body":"<p><code>char</code> is a reserved keyword in JAVA. So it cannot be used as a variable name.</p>\n"},{"tags":[],"owner":{"account_id":21174937,"reputation":11,"user_id":15570452,"display_name":"Kakarot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657431078,"creation_date":1657431078,"answer_id":72926336,"question_id":72925967,"body_markdown":"This Java program is used to find the duplicate characters in a string and prints all the duplicate characters when the loop terminates.\r\n\r\n    public class DuplicateString {\r\n    \r\n        public static void main(String args[]) {\r\n    \r\n            String str = &quot;Hello World&quot;;\r\n            String newString=&quot;&quot;;\r\n            int cnt = 0;\r\n            char[] inp = str.toCharArray();\r\n            System.out.println(&quot;Duplicate Characters are:&quot;);\r\n            for (int i = 0; i &lt; str.length(); i++) {\r\n                for (int j = i + 1; j &lt; str.length(); j++) {\r\n                    if (inp[i] == inp[j]) {\r\n                        newString+=inp[j];\r\n                        cnt++;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(newString);\r\n        }\r\n    }\r\n\r\nProgram Output:\r\n\r\n    Duplicate Characters are:\r\n    llo","title":"How to find duplicate characters in a string and concat them to a new string","body":"<p>This Java program is used to find the duplicate characters in a string and prints all the duplicate characters when the loop terminates.</p>\n<pre><code>public class DuplicateString {\n\n    public static void main(String args[]) {\n\n        String str = &quot;Hello World&quot;;\n        String newString=&quot;&quot;;\n        int cnt = 0;\n        char[] inp = str.toCharArray();\n        System.out.println(&quot;Duplicate Characters are:&quot;);\n        for (int i = 0; i &lt; str.length(); i++) {\n            for (int j = i + 1; j &lt; str.length(); j++) {\n                if (inp[i] == inp[j]) {\n                    newString+=inp[j];\n                    cnt++;\n                    break;\n                }\n            }\n        }\n        System.out.println(newString);\n    }\n}\n</code></pre>\n<p>Program Output:</p>\n<pre><code>Duplicate Characters are:\nllo\n</code></pre>\n"}],"owner":{"account_id":21688910,"reputation":342,"user_id":16003814,"display_name":"jgrewal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1657470972,"accepted_answer_id":72926090,"answer_count":2,"score":-1,"last_activity_date":1657470957,"creation_date":1657423862,"question_id":72925967,"body_markdown":"- I take in a string `aabullc`\r\n- returingStrin should be assigned `aall` after the loop since `a` and `l` are duplicates\r\n- strings with more then 1 dupe like example: (3x `a`). `aaabullc` will never be passed in\r\n\r\n\r\n      public static String rearrangeLetters(String S)\r\n      {\r\n\r\n      String returnString;\r\n\r\n       for(int i = 0; i&lt;S.length()-1; i++){\r\n           for(int j = i+1; i&lt;S.length()-1-i; j++){\r\n               if(S.charAt(i) == (S.charAt(j))){\r\n               String char1 = String.valueOf(S.charAt(i));\r\n               returnString = returnString.concat(char1);\r\n               }\r\n            }\r\n        }\r\n\r\n        System.out.println(returnString);\r\n\r\n          return returnString;\r\n      }\r\n\r\n**Code briefing:**\r\n\r\n- nested for loop starts at first letter in string and compares to the second letter until it reachs the end.\r\n- the inner loop length gets sorter depending on the outer loops.\r\n- if character matches we add it to `returningString`\r\n\r\n**Issue:**\r\ndoes not like `String char`","title":"How to find duplicate characters in a string and concat them to a new string","body":"<ul>\n<li><p>I take in a string <code>aabullc</code></p>\n</li>\n<li><p>returingStrin should be assigned <code>aall</code> after the loop since <code>a</code> and <code>l</code> are duplicates</p>\n</li>\n<li><p>strings with more then 1 dupe like example: (3x <code>a</code>). <code>aaabullc</code> will never be passed in</p>\n<pre><code>public static String rearrangeLetters(String S)\n{\n\nString returnString;\n\n for(int i = 0; i&lt;S.length()-1; i++){\n     for(int j = i+1; i&lt;S.length()-1-i; j++){\n         if(S.charAt(i) == (S.charAt(j))){\n         String char1 = String.valueOf(S.charAt(i));\n         returnString = returnString.concat(char1);\n         }\n      }\n  }\n\n  System.out.println(returnString);\n\n    return returnString;\n}\n</code></pre>\n</li>\n</ul>\n<p><strong>Code briefing:</strong></p>\n<ul>\n<li>nested for loop starts at first letter in string and compares to the second letter until it reachs the end.</li>\n<li>the inner loop length gets sorter depending on the outer loops.</li>\n<li>if character matches we add it to <code>returningString</code></li>\n</ul>\n<p><strong>Issue:</strong>\ndoes not like <code>String char</code></p>\n"},{"tags":["java","azure","azure-functions","serverless"],"answers":[{"tags":[],"owner":{"account_id":394950,"reputation":2790,"user_id":757661,"accept_rate":80,"display_name":"gordon613"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657470815,"creation_date":1657470815,"answer_id":72930137,"question_id":72901844,"body_markdown":"I assumed that because the *first* call to classes outside of `function.java` failed, all others would fail as well. However the problem was peculiar to `RecaptchaVerification.java`.\r\n\r\nThe class that I tried to call looked like this.\r\n\r\n    public class RecaptchaVerification extends HttpServlet {\r\n      /**\r\n    \t*\r\n    \t*/\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate static final String SECRET_PARAM = &quot;xxx&quot;;\r\n    \tprivate static final String RESPONSE_PARAM = &quot;xxxx&quot;;\r\n\r\nIf I removed the `extends HttpServlet` then everything works. Note that I do not know why this solves the problem - I do not think that I should have known this from the error message of `NoClassDefFoundError`. \r\n\r\n(In retrospect I should have posted the code to `RecaptchaVerification.java` as well in my question)\r\n\r\n\r\n","title":"Deployed Azure Serverless Function does not see classes besides Function","body":"<p>I assumed that because the <em>first</em> call to classes outside of <code>function.java</code> failed, all others would fail as well. However the problem was peculiar to <code>RecaptchaVerification.java</code>.</p>\n<p>The class that I tried to call looked like this.</p>\n<pre><code>public class RecaptchaVerification extends HttpServlet {\n  /**\n    *\n    */\n    private static final long serialVersionUID = 1L;\n    private static final String SECRET_PARAM = &quot;xxx&quot;;\n    private static final String RESPONSE_PARAM = &quot;xxxx&quot;;\n</code></pre>\n<p>If I removed the <code>extends HttpServlet</code> then everything works. Note that I do not know why this solves the problem - I do not think that I should have known this from the error message of <code>NoClassDefFoundError</code>.</p>\n<p>(In retrospect I should have posted the code to <code>RecaptchaVerification.java</code> as well in my question)</p>\n"}],"owner":{"account_id":394950,"reputation":2790,"user_id":757661,"accept_rate":80,"display_name":"gordon613"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72930137,"answer_count":1,"score":2,"last_activity_date":1657470815,"creation_date":1657213837,"question_id":72901844,"body_markdown":"I have developed an Azure Serverless Function in Eclipse.\r\nThe function works locally (Run As/Maven/Set Goals=test) but does not work once deployed.\r\nIt fails with the following error\r\n\r\n    [Error] Executed &#39;Functions.HttpExample&#39; (Failed, Id=0de9ae96-68c6-4620-ba05-63a1c1c99b97, \r\n    Duration=24ms)\r\n    Result: FailureException: NoClassDefFoundError: \r\n    javax/servlet/http/HttpServletStack: java.lang.reflect.InvocationTargetExceptionat\r\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)at \r\n\r\nI can see from looking at the code that it is failing at the following line.\r\n    \r\n    boolean tokenVerified = RecaptchaVerification.verifyRecaptchaSite(token);\r\n\r\nThis is the first line in the code that references a class not in `Function.java`\r\n\r\nHere is the structure of the code in Eclipse\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have used WinSCP and the publish profile credentials to examine what has been deployed.\r\n\r\nEverything is there\r\n\r\n[![enter image description here][2]][2]\r\n\r\nDoes anybody know how to solve this problem?\r\nI could put all the code into Function.java and this would work, but I would prefer to solve this properly. (Incidentally the same issue happened to me when I did development in Visual Studio Code)\r\n\r\n  [1]: https://i.stack.imgur.com/ZbpNP.png\r\n  [2]: https://i.stack.imgur.com/L9s0r.png\r\n\r\n**UPDATE:**\r\nI tried the following also - but to no avail.\r\n\r\n 1. I tried running on Java 11 instead of Java 8 (with appropriate changes to the pom.xml file) and trying different versions of `FUNCTIONS_EXTENSION_VERSION`. \r\n2.  I made sure the `artifactID` was different from the `functionAppName`, and that both were in lowercase. \r\n3.  I tried updating the `javax.servlet` version in `pom.xml`","title":"Deployed Azure Serverless Function does not see classes besides Function","body":"<p>I have developed an Azure Serverless Function in Eclipse.\nThe function works locally (Run As/Maven/Set Goals=test) but does not work once deployed.\nIt fails with the following error</p>\n<pre><code>[Error] Executed 'Functions.HttpExample' (Failed, Id=0de9ae96-68c6-4620-ba05-63a1c1c99b97, \nDuration=24ms)\nResult: FailureException: NoClassDefFoundError: \njavax/servlet/http/HttpServletStack: java.lang.reflect.InvocationTargetExceptionat\nsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)at \n</code></pre>\n<p>I can see from looking at the code that it is failing at the following line.</p>\n<pre><code>boolean tokenVerified = RecaptchaVerification.verifyRecaptchaSite(token);\n</code></pre>\n<p>This is the first line in the code that references a class not in <code>Function.java</code></p>\n<p>Here is the structure of the code in Eclipse</p>\n<p><a href=\"https://i.stack.imgur.com/ZbpNP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZbpNP.png\" alt=\"enter image description here\" /></a></p>\n<p>I have used WinSCP and the publish profile credentials to examine what has been deployed.</p>\n<p>Everything is there</p>\n<p><a href=\"https://i.stack.imgur.com/L9s0r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L9s0r.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anybody know how to solve this problem?\nI could put all the code into Function.java and this would work, but I would prefer to solve this properly. (Incidentally the same issue happened to me when I did development in Visual Studio Code)</p>\n<p><strong>UPDATE:</strong>\nI tried the following also - but to no avail.</p>\n<ol>\n<li>I tried running on Java 11 instead of Java 8 (with appropriate changes to the pom.xml file) and trying different versions of <code>FUNCTIONS_EXTENSION_VERSION</code>.</li>\n<li>I made sure the <code>artifactID</code> was different from the <code>functionAppName</code>, and that both were in lowercase.</li>\n<li>I tried updating the <code>javax.servlet</code> version in <code>pom.xml</code></li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1657131758,"post_id":72888240,"comment_id":128739855,"body_markdown":"I&#39;m not sure I&#39;m understanding correctly, but can&#39;t you just write a wrapper around an instance of that class?","body":"I&#39;m not sure I&#39;m understanding correctly, but can&#39;t you just write a wrapper around an instance of that class?"},{"owner":{"account_id":12624059,"reputation":112,"user_id":9178470,"display_name":"Roger Miranda Perez"},"score":0,"creation_date":1657131980,"post_id":72888240,"comment_id":128739898,"body_markdown":"@FedericoklezCulloca the object instances are inside the class that I can&#39;t modify","body":"@FedericoklezCulloca the object instances are inside the class that I can&#39;t modify"},{"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"score":0,"creation_date":1657133528,"post_id":72888240,"comment_id":128740392,"body_markdown":"Why you can not change the code? Is it a library? A .class file?","body":"Why you can not change the code? Is it a library? A .class file?"},{"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"score":0,"creation_date":1657133934,"post_id":72888240,"comment_id":128740541,"body_markdown":"More or less? If you have the source code right in your project source code, change it, don&#39;t be afraid. I don&#39;t understand why you think you can&#39;t do it.","body":"More or less? If you have the source code right in your project source code, change it, don&#39;t be afraid. I don&#39;t understand why you think you can&#39;t do it."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1657134028,"post_id":72888240,"comment_id":128740574,"body_markdown":"What’s wrong with the object normally returned by readCustomDrop?","body":"What’s wrong with the object normally returned by readCustomDrop?"},{"owner":{"account_id":12624059,"reputation":112,"user_id":9178470,"display_name":"Roger Miranda Perez"},"score":0,"creation_date":1657134062,"post_id":72888240,"comment_id":128740584,"body_markdown":"@CaptainPyscho it&#39;s a Minecraft Plugin, I&#39;m modifying it just a little to make it compatible with mine, I can&#39;t upload it entirely just changing 3 lines of code","body":"@CaptainPyscho it&#39;s a Minecraft Plugin, I&#39;m modifying it just a little to make it compatible with mine, I can&#39;t upload it entirely just changing 3 lines of code"},{"owner":{"account_id":12624059,"reputation":112,"user_id":9178470,"display_name":"Roger Miranda Perez"},"score":0,"creation_date":1657134204,"post_id":72888240,"comment_id":128740621,"body_markdown":"@VGR I need to add a property to the returned object if one of the arguments meets some requirements","body":"@VGR I need to add a property to the returned object if one of the arguments meets some requirements"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1657134309,"post_id":72888240,"comment_id":128740655,"body_markdown":"So create your own subclass of CustomDrop with that additional property, and copy the properties of the other CustomDrop into an instance of your subclass.","body":"So create your own subclass of CustomDrop with that additional property, and copy the properties of the other CustomDrop into an instance of your subclass."},{"owner":{"account_id":12624059,"reputation":112,"user_id":9178470,"display_name":"Roger Miranda Perez"},"score":0,"creation_date":1657134409,"post_id":72888240,"comment_id":128740684,"body_markdown":"That&#39;s what I&#39;m trying to do, but I can&#39;t because I can&#39;t modify the code","body":"That&#39;s what I&#39;m trying to do, but I can&#39;t because I can&#39;t modify the code"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1657134588,"post_id":72888240,"comment_id":128740741,"body_markdown":"Why do you need to modify that code?  *Read* from the object returned by that code, and create a *new, different* object which you yourself can modify and return in your method override.","body":"Why do you need to modify that code?  <i>Read</i> from the object returned by that code, and create a <i>new, different</i> object which you yourself can modify and return in your method override."},{"owner":{"account_id":12624059,"reputation":112,"user_id":9178470,"display_name":"Roger Miranda Perez"},"score":0,"creation_date":1657135047,"post_id":72888240,"comment_id":128740892,"body_markdown":"I have updated the description. If I could run some code when the object it&#39;s returned I could do that, but I don&#39;t know when the object will be changed (so, I don&#39;t know where to modify the object and change it to the new one).","body":"I have updated the description. If I could run some code when the object it&#39;s returned I could do that, but I don&#39;t know when the object will be changed (so, I don&#39;t know where to modify the object and change it to the new one)."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1657135446,"post_id":72888240,"comment_id":128741003,"body_markdown":"Thank you for the updates.  I am starting to understand the problem better.  Why do you need a different object to be used internally by Commands?  Is that object passed back to your code somehow?","body":"Thank you for the updates.  I am starting to understand the problem better.  Why do you need a different object to be used internally by Commands?  Is that object passed back to your code somehow?"},{"owner":{"account_id":12624059,"reputation":112,"user_id":9178470,"display_name":"Roger Miranda Perez"},"score":0,"creation_date":1657135640,"post_id":72888240,"comment_id":128741052,"body_markdown":"That&#39;s exactly what happens. The change it&#39;s invisible for the other&#39;s class, but once I read the object I can check if it&#39;s one of mines and get that extra property.","body":"That&#39;s exactly what happens. The change it&#39;s invisible for the other&#39;s class, but once I read the object I can check if it&#39;s one of mines and get that extra property."},{"owner":{"account_id":12624059,"reputation":112,"user_id":9178470,"display_name":"Roger Miranda Perez"},"score":0,"creation_date":1657214195,"post_id":72888240,"comment_id":128763690,"body_markdown":"@user16320675 your solution is the closest right now, but I don&#39;t know how to change an `execution` (it won&#39;t work with `call`) of an external, unloaded, library","body":"@user16320675 your solution is the closest right now, but I don&#39;t know how to change an <code>execution</code> (it won&#39;t work with <code>call</code>) of an external, unloaded, library"}],"answers":[{"tags":[],"owner":{"account_id":12624059,"reputation":112,"user_id":9178470,"display_name":"Roger Miranda Perez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657470661,"creation_date":1657470661,"answer_id":72930115,"question_id":72888240,"body_markdown":"Probably the best way to do this is Java Instrumentation, but it was too complex for me so I did the following (assuming you have the .jar, and the .jar it&#39;s not already loaded):\r\n\r\n 1. Open the .jar as a Zip using ZipFile class\r\n 2. Send the .java to ClassFileToJavaSourceDecompiler (from [JD-Core][1]) and decompile it\r\n 3. Change the .java code\r\n 4. Compile the new code running `javac` with `Runtime.getRuntime().exec` (note: you&#39;ll probably need to add the dependencies using `-classpath`)\r\n 5. Add the compiled .java to the .jar\r\n\r\n  [1]: https://github.com/java-decompiler/jd-core","title":"Java changing method return without access to the class Class","body":"<p>Probably the best way to do this is Java Instrumentation, but it was too complex for me so I did the following (assuming you have the .jar, and the .jar it's not already loaded):</p>\n<ol>\n<li>Open the .jar as a Zip using ZipFile class</li>\n<li>Send the .java to ClassFileToJavaSourceDecompiler (from <a href=\"https://github.com/java-decompiler/jd-core\" rel=\"nofollow noreferrer\">JD-Core</a>) and decompile it</li>\n<li>Change the .java code</li>\n<li>Compile the new code running <code>javac</code> with <code>Runtime.getRuntime().exec</code> (note: you'll probably need to add the dependencies using <code>-classpath</code>)</li>\n<li>Add the compiled .java to the .jar</li>\n</ol>\n"}],"owner":{"account_id":12624059,"reputation":112,"user_id":9178470,"display_name":"Roger Miranda Perez"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":72930115,"answer_count":1,"score":-4,"last_activity_date":1657470661,"creation_date":1657131539,"question_id":72888240,"body_markdown":"I&#39;m modifying someone else&#39;s code to implement a new functionality and I can&#39;t do it without changing the return of one of the functions. As I&#39;ve said, this is not my code, so I can&#39;t change a single line of code.\r\n\r\nThe function itself is the following:\r\n\r\n    package me.Mohamad82.MineableGems.Core;\r\n    \r\n    public class DropReader {\r\n      ...\r\n      public DropReader() {}\r\n      public CustomDrop readCustomDrop(ConfigurationSection section, String mined, @Nullable String sectionNumber) {\r\n        ...\r\n      }\r\n    }\r\n\r\nAnd I&#39;m trying to do something like this:\r\n\r\n    package com.rogermiranda1000.mineit;\r\n    \r\n    public class DropReader extends me.Mohamad82.MineableGems.Core.DropReader {\r\n        public DropReader() {\r\n            super();\r\n        }\r\n    \r\n        @Override\r\n        public CustomDrop readCustomDrop(ConfigurationSection section, String mined, @Nullable String sectionNumber) {\r\n            CustomDrop drop = super.readCustomDrop(section, mined, sectionNumber);\r\n            if (drop != null) {...}\r\n            return drop;\r\n        }\r\n    }\r\n\r\nThe problem is that I have no idea where to start. I can&#39;t change their code to call the other object, and I can&#39;t change the function call either.\r\n\r\nThe object is created every time (inside the functions that uses DropReader) so Reflection won&#39;t work, and searching I found something named Javassist but it won&#39;t work if the class is already loaded. I should be able to load by code before, but even with that I don&#39;t know if I&#39;m approaching to the problem correctly, what do you think?\r\n\r\n\r\nEdit: I&#39;ll try to explain better the situation. There&#39;s a class named **Commands** that runs the command `new DropReader().readCustomDrop(section, mined, sectionNumber)`. The problem is that **if `section.getString(&quot;mine&quot;) != null` I need to change the `readCustomDrop` return** (I need to add an aditional property).\r\n\r\n**I can&#39;t change Commands&#39;s code, nor DropReader. Commands MUST get the modified object.**\r\n\r\nEdit2: It should work on both Java 8 and 17.","title":"Java changing method return without access to the class Class","body":"<p>I'm modifying someone else's code to implement a new functionality and I can't do it without changing the return of one of the functions. As I've said, this is not my code, so I can't change a single line of code.</p>\n<p>The function itself is the following:</p>\n<pre><code>package me.Mohamad82.MineableGems.Core;\n\npublic class DropReader {\n  ...\n  public DropReader() {}\n  public CustomDrop readCustomDrop(ConfigurationSection section, String mined, @Nullable String sectionNumber) {\n    ...\n  }\n}\n</code></pre>\n<p>And I'm trying to do something like this:</p>\n<pre><code>package com.rogermiranda1000.mineit;\n\npublic class DropReader extends me.Mohamad82.MineableGems.Core.DropReader {\n    public DropReader() {\n        super();\n    }\n\n    @Override\n    public CustomDrop readCustomDrop(ConfigurationSection section, String mined, @Nullable String sectionNumber) {\n        CustomDrop drop = super.readCustomDrop(section, mined, sectionNumber);\n        if (drop != null) {...}\n        return drop;\n    }\n}\n</code></pre>\n<p>The problem is that I have no idea where to start. I can't change their code to call the other object, and I can't change the function call either.</p>\n<p>The object is created every time (inside the functions that uses DropReader) so Reflection won't work, and searching I found something named Javassist but it won't work if the class is already loaded. I should be able to load by code before, but even with that I don't know if I'm approaching to the problem correctly, what do you think?</p>\n<p>Edit: I'll try to explain better the situation. There's a class named <strong>Commands</strong> that runs the command <code>new DropReader().readCustomDrop(section, mined, sectionNumber)</code>. The problem is that <strong>if <code>section.getString(&quot;mine&quot;) != null</code> I need to change the <code>readCustomDrop</code> return</strong> (I need to add an aditional property).</p>\n<p><strong>I can't change Commands's code, nor DropReader. Commands MUST get the modified object.</strong></p>\n<p>Edit2: It should work on both Java 8 and 17.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":210415,"reputation":133,"user_id":462018,"display_name":"Rex the Strange"},"score":1,"creation_date":1553006001,"post_id":5925449,"comment_id":97219919,"body_markdown":"Actually, it&#39;s a brace:\n\n[] = brackets\n() = parentheses\n{} = braces","body":"Actually, it&#39;s a brace:  [] = brackets () = parentheses {} = braces"}],"answers":[{"tags":[],"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1304826904,"creation_date":1304826506,"answer_id":5925473,"question_id":5925449,"body_markdown":"From `Window &gt; Preferences`, go to `Java &gt; Editor` and Select `Matching brackets highlight` and pick a color that will stand out and also make sure Highlight matching brackets is checked :)\r\n\r\n![enter image description here][1]\r\n\r\n\r\nI changed mine to red and this is what it looks like now.(and I did not have to restart eclipse)\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/IXvh3.png\r\n  [2]: http://i.stack.imgur.com/rtMaQ.png","title":"Eclipse: make curly bracket more noticeable","body":"<p>From <code>Window &gt; Preferences</code>, go to <code>Java &gt; Editor</code> and Select <code>Matching brackets highlight</code> and pick a color that will stand out and also make sure Highlight matching brackets is checked :)</p>\n\n<p><img src=\"https://i.stack.imgur.com/IXvh3.png\" alt=\"enter image description here\"></p>\n\n<p>I changed mine to red and this is what it looks like now.(and I did not have to restart eclipse)</p>\n\n<p><img src=\"https://i.stack.imgur.com/rtMaQ.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":3167825,"reputation":21,"user_id":3912243,"display_name":"user245256"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407278869,"creation_date":1407278869,"answer_id":25149551,"question_id":5925449,"body_markdown":"Many thanks for tips. Indeed these are helpful. I also find following a convenient way to see how brackets can be matched. if you just want to see where the matching bracket is, use ctrl+shift+p to navigate to the matching bracket.\r\nThis is especially helpful for those who have used &quot;vi&quot; editor a lot and were used to &quot;%&quot; feature of &quot;vi&quot; to match brackets.","title":"Eclipse: make curly bracket more noticeable","body":"<p>Many thanks for tips. Indeed these are helpful. I also find following a convenient way to see how brackets can be matched. if you just want to see where the matching bracket is, use ctrl+shift+p to navigate to the matching bracket.\nThis is especially helpful for those who have used \"vi\" editor a lot and were used to \"%\" feature of \"vi\" to match brackets.</p>\n"},{"tags":[],"owner":{"account_id":3144114,"reputation":2334,"user_id":2658949,"accept_rate":41,"display_name":"arenaq"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437031981,"creation_date":1437031981,"answer_id":31448021,"question_id":5925449,"body_markdown":"In newer versions (mine is 4.2.1 installed with ADT) you can also select the type of Bracket highlighting to:\r\n\r\n - Matching bracket - you must have cursor right next to the bracket and it will highlight only the corresponding bracket\r\n - Matching bracket and caret location - same as matching bracket, only it will highlight both brackets\r\n - Enclosing brackets - highlight both brackets that enclosing the place where your cursor is located\r\n\r\nFor my, I prefer Enclosing brackets for better orientation in general with red color as Bala R has shown.","title":"Eclipse: make curly bracket more noticeable","body":"<p>In newer versions (mine is 4.2.1 installed with ADT) you can also select the type of Bracket highlighting to:</p>\n\n<ul>\n<li>Matching bracket - you must have cursor right next to the bracket and it will highlight only the corresponding bracket</li>\n<li>Matching bracket and caret location - same as matching bracket, only it will highlight both brackets</li>\n<li>Enclosing brackets - highlight both brackets that enclosing the place where your cursor is located</li>\n</ul>\n\n<p>For my, I prefer Enclosing brackets for better orientation in general with red color as Bala R has shown.</p>\n"},{"tags":[],"owner":{"account_id":6844658,"reputation":1061,"user_id":5263842,"display_name":"A W"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530003686,"creation_date":1530003686,"answer_id":51038890,"question_id":5925449,"body_markdown":"This worked for me . Go to **Window&gt;Preferences&gt;General&gt;Editors&gt;Structured Text Editors** . Select appropriate color and you are good to go.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RlYZE.png","title":"Eclipse: make curly bracket more noticeable","body":"<p>This worked for me . Go to <strong>Window>Preferences>General>Editors>Structured Text Editors</strong> . Select appropriate color and you are good to go.</p>\n\n<p><a href=\"https://i.stack.imgur.com/RlYZE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RlYZE.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":19817262,"reputation":145,"user_id":14514616,"display_name":"chikega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657470271,"creation_date":1657470271,"answer_id":72930077,"question_id":5925449,"body_markdown":"For Eclipse IDE Version 2022-06. \r\n\r\n - Windows and Linux: **Window &gt; Preferences &gt; Java &gt; Editor**\r\n - Mac: **Eclipse &gt; Preferences &gt; Java &gt; Editor**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2JiIf.png","title":"Eclipse: make curly bracket more noticeable","body":"<p>For Eclipse IDE Version 2022-06.</p>\n<ul>\n<li>Windows and Linux: <strong>Window &gt; Preferences &gt; Java &gt; Editor</strong></li>\n<li>Mac: <strong>Eclipse &gt; Preferences &gt; Java &gt; Editor</strong></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/2JiIf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2JiIf.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":101237,"reputation":17866,"user_id":272501,"accept_rate":96,"display_name":"test"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25547,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":5925473,"answer_count":5,"score":39,"last_activity_date":1657470271,"creation_date":1304826035,"question_id":5925449,"body_markdown":"I am using Eclipse. You see this ending curly bracket next to `catch(FileNotFoundException fne) {`:\r\n\r\n![enter image description here][1]\r\n\r\nHow do I make it more noticeable when I select on starting curly brackets so I can clearly see where it ends?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/i1Ux3.jpg\r\n","title":"Eclipse: make curly bracket more noticeable","body":"<p>I am using Eclipse. You see this ending curly bracket next to <code>catch(FileNotFoundException fne) {</code>:</p>\n\n<p><img src=\"https://i.stack.imgur.com/i1Ux3.jpg\" alt=\"enter image description here\"></p>\n\n<p>How do I make it more noticeable when I select on starting curly brackets so I can clearly see where it ends?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":25579403,"reputation":23,"user_id":19358254,"display_name":"Sunnyshechka"},"score":0,"creation_date":1657470450,"post_id":72930067,"comment_id":128812532,"body_markdown":"Oh, I noticed, that i didn&#39;t annotate DAO class with @Component in the example! But that is not the reason of my problem","body":"Oh, I noticed, that i didn&#39;t annotate DAO class with @Component in the example! But that is not the reason of my problem"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1657470744,"post_id":72930067,"comment_id":128812593,"body_markdown":"You don&#39;t need to use AnnotationConfigApplicationContext. Spring boot will load all the configuration when you run the application SpringApplication.run","body":"You don&#39;t need to use AnnotationConfigApplicationContext. Spring boot will load all the configuration when you run the application SpringApplication.run"},{"owner":{"account_id":25579403,"reputation":23,"user_id":19358254,"display_name":"Sunnyshechka"},"score":0,"creation_date":1657471260,"post_id":72930067,"comment_id":128812695,"body_markdown":"@ChetanAhirrao wow. But if i don&#39;t use AnnotationConfigApplicationContext how can I access the created UserDAO instance? For example, if I need to use some UserDAO object methods.","body":"@ChetanAhirrao wow. But if i don&#39;t use AnnotationConfigApplicationContext how can I access the created UserDAO instance? For example, if I need to use some UserDAO object methods."}],"owner":{"account_id":25579403,"reputation":23,"user_id":19358254,"display_name":"Sunnyshechka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657470224,"creation_date":1657470224,"question_id":72930067,"body_markdown":"I&#39;m new to Spring Framework and I trying to understand how Spring Beans work, but I get BeanCreationException and InstanceAlreadyExistsException every time when I use ApplicationConfig class.\r\n\r\nThis is my configuration-annotated class:\r\n\r\n    import org.springframework.boot.jdbc.DataSourceBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    @Configuration\r\n    @ComponentScan\r\n    public class ApplicationConfig {\r\n        @Bean\r\n        public DataSource dataSource(){\r\n            DataSourceBuilder dataSource = DataSourceBuilder.create();\r\n            dataSource.username(&quot;root&quot;);\r\n            dataSource.password(&quot;password&quot;);\r\n            dataSource.url(&quot;jdbc:mysql://localhost:3306/schedule&quot;);\r\n            dataSource.driverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            return dataSource.build();\r\n        }\r\n    }\r\n\r\nAnd this is my DAO class:\r\n\r\n    package com.example.demo;\r\n    import javax.sql.DataSource;\r\n    \r\n    public class UserDAO {\r\n        private DataSource dataSource;\r\n    \r\n        private UserDAO(DataSource dataSource) { // (1)\r\n            this.dataSource = dataSource;\r\n        }\r\n    }\r\n\r\nIf I create a new AnnotationConfigApplicationContext object in my MainApplication class\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n    \r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DemoApplication.class, args);\r\n            ApplicationContext ctx = new AnnotationConfigApplicationContext(ApplicationConfig.class);\r\n        }\r\n    \r\n    }\r\nI get this error code:\r\n\r\n    **Exception in thread &quot;restartedMain&quot; java.lang.reflect.InvocationTargetException**\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springApplicationAdminRegistrar&#39; defined in class path resource [org/springframework/boot/autoconfigure/admin/SpringApplicationAdminJmxAutoConfiguration.class]: Invocation of init method failed; nested exception is javax.management.InstanceAlreadyExistsException: org.springframework.boot:type=Admin,name=SpringApplication\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \tat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93)\r\n    \tat com.example.demo.DemoApplication.main(DemoApplication.java:13)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \t... 2 more\r\n    Caused by: **javax.management.InstanceAlreadyExistsException: org.springframework.boot:type=Admin,name=SpringApplication**\r\n    \tat java.management/com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:436)\r\n    \tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1862)\r\n    \tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:957)\r\n    \tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:892)\r\n    \tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:317)\r\n    \tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:523)\r\n    \tat org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar.afterPropertiesSet(SpringApplicationAdminMXBeanRegistrar.java:129)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\r\n    \t... 14 more\r\n\r\nI&#39;ve been trying to fix this since yesterday morning and I&#39;ve tried a million approaches. I hope I will find the answer here!\r\n","title":"InstanceAlreadyExistsExceplion while using ApplicationContext Spring Framework","body":"<p>I'm new to Spring Framework and I trying to understand how Spring Beans work, but I get BeanCreationException and InstanceAlreadyExistsException every time when I use ApplicationConfig class.</p>\n<p>This is my configuration-annotated class:</p>\n<pre><code>import org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.sql.DataSource;\n\n@Configuration\n@ComponentScan\npublic class ApplicationConfig {\n    @Bean\n    public DataSource dataSource(){\n        DataSourceBuilder dataSource = DataSourceBuilder.create();\n        dataSource.username(&quot;root&quot;);\n        dataSource.password(&quot;password&quot;);\n        dataSource.url(&quot;jdbc:mysql://localhost:3306/schedule&quot;);\n        dataSource.driverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        return dataSource.build();\n    }\n}\n</code></pre>\n<p>And this is my DAO class:</p>\n<pre><code>package com.example.demo;\nimport javax.sql.DataSource;\n\npublic class UserDAO {\n    private DataSource dataSource;\n\n    private UserDAO(DataSource dataSource) { // (1)\n        this.dataSource = dataSource;\n    }\n}\n</code></pre>\n<p>If I create a new AnnotationConfigApplicationContext object in my MainApplication class</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n        ApplicationContext ctx = new AnnotationConfigApplicationContext(ApplicationConfig.class);\n    }\n\n}\n</code></pre>\n<p>I get this error code:</p>\n<pre><code>**Exception in thread &quot;restartedMain&quot; java.lang.reflect.InvocationTargetException**\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springApplicationAdminRegistrar' defined in class path resource [org/springframework/boot/autoconfigure/admin/SpringApplicationAdminJmxAutoConfiguration.class]: Invocation of init method failed; nested exception is javax.management.InstanceAlreadyExistsException: org.springframework.boot:type=Admin,name=SpringApplication\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:93)\n    at com.example.demo.DemoApplication.main(DemoApplication.java:13)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 2 more\nCaused by: **javax.management.InstanceAlreadyExistsException: org.springframework.boot:type=Admin,name=SpringApplication**\n    at java.management/com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:436)\n    at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1862)\n    at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:957)\n    at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:892)\n    at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:317)\n    at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:523)\n    at org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar.afterPropertiesSet(SpringApplicationAdminMXBeanRegistrar.java:129)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\n    ... 14 more\n</code></pre>\n<p>I've been trying to fix this since yesterday morning and I've tried a million approaches. I hope I will find the answer here!</p>\n"},{"tags":["java","redis","jedis"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1657470234,"post_id":72899977,"comment_id":128812495,"body_markdown":"The error generally means that you ran out of disk space, and is reported by your OS to Redis, and then by Redis to you.","body":"The error generally means that you ran out of disk space, and is reported by your OS to Redis, and then by Redis to you."}],"owner":{"account_id":25751027,"reputation":21,"user_id":19503576,"display_name":"tcs hr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2438,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1657470175,"creation_date":1657205505,"question_id":72899977,"body_markdown":"I created a Redis cluster with 3 masters and 3 slaves. Each of the node has at least 20 maps with 2 million key-value each.\r\n\r\nI&#39;m trying to insert data in billions, after inserting certain millions of data facing below error while inserting more data\r\n\r\n    redis.clients.jedis.exceptions.JedisDataException: MISCONF Errors writing to the AOF file: \r\n        No space left on device\r\n        at redis.clients.jedis.Protocol.processError(Protocol.java:117)\r\n        at redis.clients.jedis.Protocol.process(Protocol.java:151)\r\n        at redis.clients.jedis.Protocol.read(Protocol.java:205)\r\n        at redis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:297)\r\n        at redis.clients.jedis.Connection.getIntegerReply(Connection.java:222)\r\n        at redis.clients.jedis.Jedis.hset(Jedis.java:606)\r\n        at redis.clients.jedis.JedisCluster$30.execute(JedisCluster.java:380)\r\n        at redis.clients.jedis.JedisCluster$30.execute(JedisCluster.java:377)\r\n        at redis.clients.jedis.JedisClusterCommand.runWithRetries(JedisClusterCommand.java:119)\r\n        at redis.clients.jedis.JedisClusterCommand.run(JedisClusterCommand.java:30)\r\n        at redis.clients.jedis.JedisCluster.hset(JedisCluster.java:382)\r\n        at RedisClusterImport.main(RedisClusterImport.java:31)\r\n\r\nmaxmemory is not set and its default which means it will use whole system memory if I&#39;m not wrong.\r\nPlease help me if anyone knows the solution for this.\r\n\r\n","title":"MISCONF Errors writing to the AOF file: No space left on dev","body":"<p>I created a Redis cluster with 3 masters and 3 slaves. Each of the node has at least 20 maps with 2 million key-value each.</p>\n<p>I'm trying to insert data in billions, after inserting certain millions of data facing below error while inserting more data</p>\n<pre><code>redis.clients.jedis.exceptions.JedisDataException: MISCONF Errors writing to the AOF file: \n    No space left on device\n    at redis.clients.jedis.Protocol.processError(Protocol.java:117)\n    at redis.clients.jedis.Protocol.process(Protocol.java:151)\n    at redis.clients.jedis.Protocol.read(Protocol.java:205)\n    at redis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:297)\n    at redis.clients.jedis.Connection.getIntegerReply(Connection.java:222)\n    at redis.clients.jedis.Jedis.hset(Jedis.java:606)\n    at redis.clients.jedis.JedisCluster$30.execute(JedisCluster.java:380)\n    at redis.clients.jedis.JedisCluster$30.execute(JedisCluster.java:377)\n    at redis.clients.jedis.JedisClusterCommand.runWithRetries(JedisClusterCommand.java:119)\n    at redis.clients.jedis.JedisClusterCommand.run(JedisClusterCommand.java:30)\n    at redis.clients.jedis.JedisCluster.hset(JedisCluster.java:382)\n    at RedisClusterImport.main(RedisClusterImport.java:31)\n</code></pre>\n<p>maxmemory is not set and its default which means it will use whole system memory if I'm not wrong.\nPlease help me if anyone knows the solution for this.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8795,"page":1197,"page_size":100}
