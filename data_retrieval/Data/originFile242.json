{"items":[{"tags":["java","fortify"],"answers":[{"comments":[{"owner":{"account_id":8566562,"reputation":135,"user_id":6418869,"display_name":"Shibina EC"},"score":0,"creation_date":1528971422,"post_id":47134317,"comment_id":88712807,"body_markdown":"I was searching solution for same fortify mass assignment issue,  whitelisting and black listing is a tedious task for my application.Is there any other way to fix this other than spring @InitBinder ?","body":"I was searching solution for same fortify mass assignment issue,  whitelisting and black listing is a tedious task for my application.Is there any other way to fix this other than spring @InitBinder ?"},{"owner":{"account_id":5707824,"reputation":779,"user_id":4510763,"accept_rate":50,"display_name":"Ben Cheng"},"score":0,"creation_date":1529029366,"post_id":47134317,"comment_id":88738641,"body_markdown":"In my project, i just use a dirty way to solve this issue. ie. @JsonIgnore","body":"In my project, i just use a dirty way to solve this issue. ie. @JsonIgnore"},{"owner":{"account_id":6577590,"reputation":121,"user_id":5082991,"display_name":"bourne2program"},"score":0,"creation_date":1547829143,"post_id":47134317,"comment_id":95340066,"body_markdown":"I tried JsonView which works for my project more than JsonIgnore since the objects are used for more than 1 endpoint. Yet Fortify doesn&#39;t seem to recognize it","body":"I tried JsonView which works for my project more than JsonIgnore since the objects are used for more than 1 endpoint. Yet Fortify doesn&#39;t seem to recognize it"},{"owner":{"account_id":5707824,"reputation":779,"user_id":4510763,"accept_rate":50,"display_name":"Ben Cheng"},"score":1,"creation_date":1547882713,"post_id":47134317,"comment_id":95353681,"body_markdown":"One more finding is that, Fortify is actually just to do scan to pop you warning. Some issue may not is solved, you just need to accept it with reason.","body":"One more finding is that, Fortify is actually just to do scan to pop you warning. Some issue may not is solved, you just need to accept it with reason."},{"owner":{"account_id":10553380,"reputation":2165,"user_id":10324087,"display_name":"viveknaskar"},"score":0,"creation_date":1562749700,"post_id":47134317,"comment_id":100471338,"body_markdown":"In my project, I have used something like @JsonIgnoreProperties(ignoreUnknown=true)","body":"In my project, I have used something like @JsonIgnoreProperties(ignoreUnknown=true)"},{"owner":{"account_id":5707824,"reputation":779,"user_id":4510763,"accept_rate":50,"display_name":"Ben Cheng"},"score":0,"creation_date":1562763076,"post_id":47134317,"comment_id":100478718,"body_markdown":"Could @JsonIgnoreProperties(ignoreUnknown=true) fix the issue in fortify?","body":"Could @JsonIgnoreProperties(ignoreUnknown=true) fix the issue in fortify?"},{"owner":{"account_id":4670821,"reputation":303,"user_id":3953227,"accept_rate":42,"display_name":"mvm"},"score":0,"creation_date":1569930836,"post_id":47134317,"comment_id":102748058,"body_markdown":"@BenCheng Is there any solution for spring boot application for this issue?","body":"@BenCheng Is there any solution for spring boot application for this issue?"},{"owner":{"account_id":5707824,"reputation":779,"user_id":4510763,"accept_rate":50,"display_name":"Ben Cheng"},"score":0,"creation_date":1570191136,"post_id":47134317,"comment_id":102845267,"body_markdown":"@nvm as I know, the same solution would be applied.","body":"@nvm as I know, the same solution would be applied."},{"owner":{"account_id":4670821,"reputation":303,"user_id":3953227,"accept_rate":42,"display_name":"mvm"},"score":0,"creation_date":1570540015,"post_id":47134317,"comment_id":102938682,"body_markdown":"@BenCheng I have implemented InitBinder in controller and JsonIgnoreProperties in Bean, but still the issue in fortify. Is there any option to solve this issue?","body":"@BenCheng I have implemented InitBinder in controller and JsonIgnoreProperties in Bean, but still the issue in fortify. Is there any option to solve this issue?"}],"tags":[],"owner":{"account_id":5707824,"reputation":779,"user_id":4510763,"accept_rate":50,"display_name":"Ben Cheng"},"comment_count":9,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1509962697,"creation_date":1509962697,"answer_id":47134317,"question_id":46840174,"body_markdown":"You may refer to the problem https://stackoverflow.com/questions/11565342/prevent-mass-assignment-in-spring-mvc-with-roo. \r\n\r\nIn your case, you can use **@InitBinder** provided by Spring MVC. **@InitBinder** would specify the white list for json and bean mapping. \r\n\r\nIn my experience, I used **@RequestBody** for auto-binding. I need to add **@JsonIgnore** to specify the property that would not include for the mapping. \r\n\r\n\r\n\r\n**SimpleController.java**\r\n\r\n    @RequestMapping(value=&quot;/simple&quot;)\r\n    public String simple(@Valid @RequestBody User user){\r\n       simpleService.doSomething();\r\n    }\r\n\r\n**User.java**\r\n\r\n    public class User{\r\n       private String name;\r\n  \r\n       @JsonIgnore\r\n       private String dummy;\r\n\r\n       public void getName(){return name;}\r\n       public void setName(name){this.name = name;}\r\n       public void getDummy(){return dummy;}\r\n       public void setDummy(dummy){this.dummy= dummy;}\r\n\r\n    }","title":"What is the solution for Mass Assignment: Insecure Binder Configuration Vulnerability?","body":"<p>You may refer to the problem <a href=\"https://stackoverflow.com/questions/11565342/prevent-mass-assignment-in-spring-mvc-with-roo\">Prevent mass assignment in Spring MVC with Roo</a>. </p>\n\n<p>In your case, you can use <strong>@InitBinder</strong> provided by Spring MVC. <strong>@InitBinder</strong> would specify the white list for json and bean mapping. </p>\n\n<p>In my experience, I used <strong>@RequestBody</strong> for auto-binding. I need to add <strong>@JsonIgnore</strong> to specify the property that would not include for the mapping. </p>\n\n<p><strong>SimpleController.java</strong></p>\n\n<pre><code>@RequestMapping(value=\"/simple\")\npublic String simple(@Valid @RequestBody User user){\n   simpleService.doSomething();\n}\n</code></pre>\n\n<p><strong>User.java</strong></p>\n\n<pre><code>public class User{\n   private String name;\n\n   @JsonIgnore\n   private String dummy;\n\n   public void getName(){return name;}\n   public void setName(name){this.name = name;}\n   public void getDummy(){return dummy;}\n   public void setDummy(dummy){this.dummy= dummy;}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17116621,"reputation":61,"user_id":12385945,"display_name":"lbndvs"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692342529,"creation_date":1658986742,"answer_id":73147751,"question_id":46840174,"body_markdown":"By adding **@JsonIgnoreProperties(ignoreUnknown = true)** annotation on the class level the issue can be resolve in case we don&#39;t know what to ignore.\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class className{\r\n\r\n    }\r\n\r\n\r\n","title":"What is the solution for Mass Assignment: Insecure Binder Configuration Vulnerability?","body":"<p>By adding <strong>@JsonIgnoreProperties(ignoreUnknown = true)</strong> annotation on the class level the issue can be resolve in case we don't know what to ignore.</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class className{\n\n}\n</code></pre>\n"}],"owner":{"account_id":11890129,"reputation":75,"user_id":8803845,"display_name":"Brayan Reyes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48251,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":47134317,"answer_count":2,"score":7,"last_activity_date":1692342529,"creation_date":1508454577,"question_id":46840174,"body_markdown":"I have this Controller in Java:\r\n\r\n    @Controller\r\n    public class AuthenticationController extends AbstractController {\r\n    \r\n      @RequestMapping(value = Constantes.MAPPING_AUTH_BASE_ASP, method = { RequestMethod.POST })\r\n      public String authenticate(@Valid ComunicationWithAspRequest comunicationWithAspRequest, BindingResult result,\r\n          RedirectAttributes redirectAttributes, HttpSession sesion) throws Exception {\r\n        ...\r\n        ...\r\n        ...\r\n      }\r\n    }\r\n\r\n\r\n\r\nWhen I scan my code in Fortify, the object comunicationWithAspRequest causes the Mass Assignment: Insecure Binder Configuration Vulnerability. Is possible to control which HTTP request parameters will be used in the binding process and which ones will be ignored?\r\n\r\n \r\n","title":"What is the solution for Mass Assignment: Insecure Binder Configuration Vulnerability?","body":"<p>I have this Controller in Java:</p>\n\n<pre><code>@Controller\npublic class AuthenticationController extends AbstractController {\n\n  @RequestMapping(value = Constantes.MAPPING_AUTH_BASE_ASP, method = { RequestMethod.POST })\n  public String authenticate(@Valid ComunicationWithAspRequest comunicationWithAspRequest, BindingResult result,\n      RedirectAttributes redirectAttributes, HttpSession sesion) throws Exception {\n    ...\n    ...\n    ...\n  }\n}\n</code></pre>\n\n<p>When I scan my code in Fortify, the object comunicationWithAspRequest causes the Mass Assignment: Insecure Binder Configuration Vulnerability. Is possible to control which HTTP request parameters will be used in the binding process and which ones will be ignored?</p>\n"},{"tags":["java","spring","spring-boot","initialization","spring-bean"],"comments":[{"owner":{"account_id":6878179,"reputation":4558,"user_id":5285908,"display_name":"Amith Kumar"},"score":1,"creation_date":1530914668,"post_id":51218086,"comment_id":89417363,"body_markdown":"You can access the bean from context right, and then just create a method `update` inside the bean class, which you can call based on your trigger to update the bean.","body":"You can access the bean from context right, and then just create a method <code>update</code> inside the bean class, which you can call based on your trigger to update the bean."},{"owner":{"account_id":11307370,"reputation":523,"user_id":8291538,"display_name":"Fip"},"score":0,"creation_date":1530916498,"post_id":51218086,"comment_id":89417869,"body_markdown":"My bean is a function inside a configuration class. Does a update function works for this constilation?","body":"My bean is a function inside a configuration class. Does a update function works for this constilation?"},{"owner":{"account_id":6878179,"reputation":4558,"user_id":5285908,"display_name":"Amith Kumar"},"score":0,"creation_date":1530918113,"post_id":51218086,"comment_id":89418176,"body_markdown":"Yes even if you create bean from a method, it is still an object inside spring context and can be accessed like any other bean.","body":"Yes even if you create bean from a method, it is still an object inside spring context and can be accessed like any other bean."}],"answers":[{"comments":[{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":1,"creation_date":1552931747,"post_id":51218781,"comment_id":97189365,"body_markdown":"It&#39;s so hard to reload properties.","body":"It&#39;s so hard to reload properties."},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1552933439,"post_id":51218781,"comment_id":97190166,"body_markdown":"Why not just `bean = applicationContext.getBean(Bean.class)`?","body":"Why not just <code>bean = applicationContext.getBean(Bean.class)</code>?"},{"owner":{"account_id":6878179,"reputation":4558,"user_id":5285908,"display_name":"Amith Kumar"},"score":4,"creation_date":1552933561,"post_id":51218781,"comment_id":97190212,"body_markdown":"Because it will just get you the already loaded bean from the context, and not refresh/reload it. I don&#39;t understand when you say, it&#39;s so hard ?","body":"Because it will just get you the already loaded bean from the context, and not refresh/reload it. I don&#39;t understand when you say, it&#39;s so hard ?"},{"owner":{"account_id":6878179,"reputation":4558,"user_id":5285908,"display_name":"Amith Kumar"},"score":0,"creation_date":1552934219,"post_id":51218781,"comment_id":97190552,"body_markdown":"Create a public init method to reload all properties, use the same in constructor &amp; reload call.","body":"Create a public init method to reload all properties, use the same in constructor &amp; reload call."},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":2,"creation_date":1552934828,"post_id":51218781,"comment_id":97190832,"body_markdown":"In my case new bean is returned on `applicationContext.getBean(Bean.class)`. It&#39;s because of \n`@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)`.","body":"In my case new bean is returned on <code>applicationContext.getBean(Bean.class)</code>. It&#39;s because of  <code>@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)</code>."},{"owner":{"account_id":6878179,"reputation":4558,"user_id":5285908,"display_name":"Amith Kumar"},"score":3,"creation_date":1552939656,"post_id":51218781,"comment_id":97193017,"body_markdown":"Yeah this question doesn&#39;t apply for non-singleton beans. Prototype scope is per use, so your bean is created new for every demand, so no question of reloading applies.","body":"Yeah this question doesn&#39;t apply for non-singleton beans. Prototype scope is per use, so your bean is created new for every demand, so no question of reloading applies."},{"owner":{"account_id":11464204,"reputation":487,"user_id":9832322,"display_name":"Abhilash"},"score":1,"creation_date":1592797926,"post_id":51218781,"comment_id":110542700,"body_markdown":"I have tried to fetch the DefaultSingletonBeanRegistry from the ApplicationContext\n`DefaultSingletonBeanRegistry registry = (DefaultSingletonBeanRegistry) context.getBeanFactory();`\nthe `context` object is of type `ApplicationContext`\nbut I got the following error `The method getBeanFactory() is undefined for the type ApplicationContext`\nAnd also suggests `change to getParentBeanFactory(..)`\nHelp is much appreciated","body":"I have tried to fetch the DefaultSingletonBeanRegistry from the ApplicationContext <code>DefaultSingletonBeanRegistry registry = (DefaultSingletonBeanRegistry) context.getBeanFactory();</code> the <code>context</code> object is of type <code>ApplicationContext</code> but I got the following error <code>The method getBeanFactory() is undefined for the type ApplicationContext</code> And also suggests <code>change to getParentBeanFactory(..)</code> Help is much appreciated"},{"owner":{"account_id":10302487,"reputation":371,"user_id":7600768,"display_name":"thmmy95"},"score":1,"creation_date":1699109895,"post_id":51218781,"comment_id":136491383,"body_markdown":"I&#39;ve found a wrong information in a tutorial &quot;The registerSingleton() method not only creates the bean in the context but also autowires it to the dependent objects.&quot; [baeldung](https://www.baeldung.com/spring-reinitialize-singleton-bean). I&#39;ve tested, and this reloading into dependent beans  doesn&#39;t exist, therefore this response it is still the best.","body":"I&#39;ve found a wrong information in a tutorial &quot;The registerSingleton() method not only creates the bean in the context but also autowires it to the dependent objects.&quot; <a href=\"https://www.baeldung.com/spring-reinitialize-singleton-bean\" rel=\"nofollow noreferrer\">baeldung</a>. I&#39;ve tested, and this reloading into dependent beans  doesn&#39;t exist, therefore this response it is still the best."},{"owner":{"account_id":6878179,"reputation":4558,"user_id":5285908,"display_name":"Amith Kumar"},"score":0,"creation_date":1701118850,"post_id":51218781,"comment_id":136733374,"body_markdown":"@Abhilash - Your question skipped my attention. And its very late to serve you any good but just putting my comments here so others can benefit in future.\n&gt;&gt; context is type `ConfigurableApplicationContext`.","body":"@Abhilash - Your question skipped my attention. And its very late to serve you any good but just putting my comments here so others can benefit in future. &gt;&gt; context is type <code>ConfigurableApplicationContext</code>."}],"tags":[],"owner":{"account_id":6878179,"reputation":4558,"user_id":5285908,"display_name":"Amith Kumar"},"comment_count":9,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1672307618,"creation_date":1530920282,"answer_id":51218781,"question_id":51218086,"body_markdown":"You have three options to update singleton bean in spring context, you can chose one suitable for your use case:\r\n\r\n**Reload method In the Bean**\r\n&lt;br&gt;Create a method in your bean which will update/reload its properties. Based on your trigger, access the bean from spring context, and then call the reload method to update bean properties (since singleton) it will also be updated in spring context &amp; everywhere it is autowired/injected.\r\n\r\n**Delete &amp; Register Bean in Registry**\r\n&lt;br&gt; You can use `DefaultSingletonBeanRegistry` to remove &amp; re-register your bean. The only drawback to this, it will not refresh/reload old instance of already autowired/injected bean in consumer classes.\r\n\r\n    DefaultSingletonBeanRegistry registry = (DefaultSingletonBeanRegistry) context.getBeanFactory();\r\n    registry.destroySingleton({yourbean}) //destroys the bean object\r\n    registry.registerSingleton({yourbeanname}, {newbeanobject}) //add to singleton beans cache\r\n\r\n**@RefreshScope**\r\n&lt;br&gt;Useful for refreshing bean value properties from config changes. But it has very limited &amp; specific purpose. [Resource](https://github.com/jeroenbellen/blog-manage-and-reload-spring-properties) to read more about it.\r\n\r\n","title":"How to reinitialize a Spring Bean?","body":"<p>You have three options to update singleton bean in spring context, you can chose one suitable for your use case:</p>\n<p><strong>Reload method In the Bean</strong>\n<br>Create a method in your bean which will update/reload its properties. Based on your trigger, access the bean from spring context, and then call the reload method to update bean properties (since singleton) it will also be updated in spring context &amp; everywhere it is autowired/injected.</p>\n<p><strong>Delete &amp; Register Bean in Registry</strong>\n<br> You can use <code>DefaultSingletonBeanRegistry</code> to remove &amp; re-register your bean. The only drawback to this, it will not refresh/reload old instance of already autowired/injected bean in consumer classes.</p>\n<pre><code>DefaultSingletonBeanRegistry registry = (DefaultSingletonBeanRegistry) context.getBeanFactory();\nregistry.destroySingleton({yourbean}) //destroys the bean object\nregistry.registerSingleton({yourbeanname}, {newbeanobject}) //add to singleton beans cache\n</code></pre>\n<p><strong>@RefreshScope</strong>\n<br>Useful for refreshing bean value properties from config changes. But it has very limited &amp; specific purpose. <a href=\"https://github.com/jeroenbellen/blog-manage-and-reload-spring-properties\" rel=\"noreferrer\">Resource</a> to read more about it.</p>\n"}],"owner":{"account_id":11307370,"reputation":523,"user_id":8291538,"display_name":"Fip"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72706,"favorite_count":0,"down_vote_count":1,"up_vote_count":31,"accepted_answer_id":51218781,"answer_count":1,"score":30,"last_activity_date":1692342374,"creation_date":1530914185,"question_id":51218086,"body_markdown":"Is it possible to reinitialize a Spring Bean on runtime?\r\n\r\nMy Bean uses static settings which in some cases change and then I have to reinitialize the Bean.","title":"How to reinitialize a Spring Bean?","body":"<p>Is it possible to reinitialize a Spring Bean on runtime?</p>\n<p>My Bean uses static settings which in some cases change and then I have to reinitialize the Bean.</p>\n"},{"tags":["java","spring","server"],"answers":[{"comments":[{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1692297308,"post_id":76922726,"comment_id":135607743,"body_markdown":"Thank you for your answer. I understand that there is no mechanism. My question is more as to why. And I wasn&#39;t necessarily thinking about DBs (though thank you for the info), also like what if your server needs to communicate with some other service and it hangs?","body":"Thank you for your answer. I understand that there is no mechanism. My question is more as to why. And I wasn&#39;t necessarily thinking about DBs (though thank you for the info), also like what if your server needs to communicate with some other service and it hangs?"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1692342662,"post_id":76922726,"comment_id":135612576,"body_markdown":"Added the info. I think you misunderstand - there&#39;s no mechanism for this **in Java**.","body":"Added the info. I think you misunderstand - there&#39;s no mechanism for this <b>in Java</b>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1692342850,"post_id":76922726,"comment_id":135612603,"body_markdown":"And the reason that there is no mechanism in Java ... because nobody has been able to figure out to implement `Thread.stop` etcetera safely.","body":"And the reason that there is no mechanism in Java ... because nobody has been able to figure out to implement <code>Thread.stop</code> etcetera safely."},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1692343191,"post_id":76922726,"comment_id":135612651,"body_markdown":"Thank you for the clarification, I did misunderstand :)","body":"Thank you for the clarification, I did misunderstand :)"},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1692345201,"post_id":76922726,"comment_id":135612993,"body_markdown":"To be clear though, when you talk about `connectionTimeout`, `socketTimeout`, and `RestTemplate` you&#39;re talking about client side right?","body":"To be clear though, when you talk about <code>connectionTimeout</code>, <code>socketTimeout</code>, and <code>RestTemplate</code> you&#39;re talking about client side right?"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":1,"creation_date":1692347151,"post_id":76922726,"comment_id":135613298,"body_markdown":"@MissSkooterstandswPalestine, yes, you can&#39;t fully control these things on the server side because the culprit of long connection could be in between (firewalls dropping packages).","body":"@MissSkooterstandswPalestine, yes, you can&#39;t fully control these things on the server side because the culprit of long connection could be in between (firewalls dropping packages)."}],"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692342254,"creation_date":1692284158,"answer_id":76922726,"question_id":76920662,"body_markdown":"#### There&#39;s no mechanism to stop a thread in Java\r\n\r\nThere used to be such mechanism (`Thread.stop()`), but it wasn&#39;t safe as it could leave objects in inconsistent state. This is because if threads can stopped abruptly, you can&#39;t guarantee happens-before behavior. Because the thread could&#39;ve stopped right in the middle of a critical section, see [Why is Thread.stop deprecated?][1].\r\n\r\n#### Instead politely ask to stop\r\n\r\nYou can try to `Thread.interrupt()`, but it&#39;s up to your business logic to check if that `Thread.isInterrupted()`. Do you? Probably not. So even if you could set some timeout, in a lot of cases it wouldn&#39;t work.\r\n\r\nMost web apps are actually DB-bound. Meaning, they spend most of the time doing some requests. If you really want to limit request time and your app is also DB-bound, you could set some timeouts on that level. E.g. **C3P0** provides some timeouts like [unreturnedConnectionTimeout][2], [checkoutTimeout][3] and DBs like **PostgeSQL** provides all sorts of options like [statement_timeout][4].\r\n\r\nSame with any other communication over the network - if you don&#39;t want the risk of hanging because of firewalls or other reasons, you need to set up connectionTimeout and socketTimeout. Tools like Spring&#39;s RestTemplate have such options. This will help with the cases when the other side doesn&#39;t respond. But it won&#39;t help if the other side responds very slowly, gradually.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html\r\n  [2]: https://www.mchange.com/projects/c3p0/#unreturnedConnectionTimeout\r\n  [3]: https://www.mchange.com/projects/c3p0/#checkoutTimeout\r\n  [4]: https://www.postgresql.org/docs/15/runtime-config-client.html","title":"Why is it not possible / discouraged to define a request timeout server side?","body":"<h4>There's no mechanism to stop a thread in Java</h4>\n<p>There used to be such mechanism (<code>Thread.stop()</code>), but it wasn't safe as it could leave objects in inconsistent state. This is because if threads can stopped abruptly, you can't guarantee happens-before behavior. Because the thread could've stopped right in the middle of a critical section, see <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html\" rel=\"nofollow noreferrer\">Why is Thread.stop deprecated?</a>.</p>\n<h4>Instead politely ask to stop</h4>\n<p>You can try to <code>Thread.interrupt()</code>, but it's up to your business logic to check if that <code>Thread.isInterrupted()</code>. Do you? Probably not. So even if you could set some timeout, in a lot of cases it wouldn't work.</p>\n<p>Most web apps are actually DB-bound. Meaning, they spend most of the time doing some requests. If you really want to limit request time and your app is also DB-bound, you could set some timeouts on that level. E.g. <strong>C3P0</strong> provides some timeouts like <a href=\"https://www.mchange.com/projects/c3p0/#unreturnedConnectionTimeout\" rel=\"nofollow noreferrer\">unreturnedConnectionTimeout</a>, <a href=\"https://www.mchange.com/projects/c3p0/#checkoutTimeout\" rel=\"nofollow noreferrer\">checkoutTimeout</a> and DBs like <strong>PostgeSQL</strong> provides all sorts of options like <a href=\"https://www.postgresql.org/docs/15/runtime-config-client.html\" rel=\"nofollow noreferrer\">statement_timeout</a>.</p>\n<p>Same with any other communication over the network - if you don't want the risk of hanging because of firewalls or other reasons, you need to set up connectionTimeout and socketTimeout. Tools like Spring's RestTemplate have such options. This will help with the cases when the other side doesn't respond. But it won't help if the other side responds very slowly, gradually.</p>\n"}],"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76922726,"answer_count":1,"score":1,"last_activity_date":1692342254,"creation_date":1692268227,"question_id":76920662,"body_markdown":"I&#39;ve been trying to find a tomcat property for defining a request timeout. Specifically, I was looking for a way to limit the amount of time the request takes from the server side.\r\n\r\nAfter doing some research, it seems [it is not possible](https://stackoverflow.com/a/61782472/13927534) and \r\n&gt; there is no way to guarantee that [a timeout] as [you cannot force the thread that is handling the request to stop](https://github.com/spring-projects/spring-boot/issues/21914#issuecomment-645170092).\r\n\r\nThis feels by design, which makes me wonder why.\r\n\r\nWhat are the reasons against having such a property? Or is it a technical limitation of the architecture?\r\n\r\nPS: I found that the same thing holds true for Tomcat, Httpd, and [apparently wakanda?](https://stackoverflow.com/q/36104725/13927534) which is why my question is about servers in general. Please correct me if I&#39;m wrong in that assumption.","title":"Why is it not possible / discouraged to define a request timeout server side?","body":"<p>I've been trying to find a tomcat property for defining a request timeout. Specifically, I was looking for a way to limit the amount of time the request takes from the server side.</p>\n<p>After doing some research, it seems <a href=\"https://stackoverflow.com/a/61782472/13927534\">it is not possible</a> and</p>\n<blockquote>\n<p>there is no way to guarantee that [a timeout] as <a href=\"https://github.com/spring-projects/spring-boot/issues/21914#issuecomment-645170092\" rel=\"nofollow noreferrer\">you cannot force the thread that is handling the request to stop</a>.</p>\n</blockquote>\n<p>This feels by design, which makes me wonder why.</p>\n<p>What are the reasons against having such a property? Or is it a technical limitation of the architecture?</p>\n<p>PS: I found that the same thing holds true for Tomcat, Httpd, and <a href=\"https://stackoverflow.com/q/36104725/13927534\">apparently wakanda?</a> which is why my question is about servers in general. Please correct me if I'm wrong in that assumption.</p>\n"},{"tags":["java","json","protocol-buffers"],"comments":[{"owner":{"account_id":1355771,"reputation":1302,"user_id":1294193,"display_name":"Rex Charles"},"score":0,"creation_date":1692190012,"post_id":76912708,"comment_id":135589780,"body_markdown":"Welcome to StackOverflow. See the following article for some help -&gt; https://www.baeldung.com/java-convert-json-protobuf.\n\nIf you are still having trouble after reading the article and trying a solution, then you can post the code you have tried and the errors you are running into.","body":"Welcome to StackOverflow. See the following article for some help -&gt; <a href=\"https://www.baeldung.com/java-convert-json-protobuf\" rel=\"nofollow noreferrer\">baeldung.com/java-convert-json-protobuf</a>.  If you are still having trouble after reading the article and trying a solution, then you can post the code you have tried and the errors you are running into."},{"owner":{"account_id":11479698,"reputation":11,"user_id":8414199,"display_name":"Kamesh"},"score":0,"creation_date":1692270049,"post_id":76912708,"comment_id":135601792,"body_markdown":"I want to convert .proto file to JSON schema without using any builder. Currently protobufjs lib does it in the Javascript.","body":"I want to convert .proto file to JSON schema without using any builder. Currently protobufjs lib does it in the Javascript."}],"answers":[{"tags":[],"owner":{"account_id":11479698,"reputation":11,"user_id":8414199,"display_name":"Kamesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692342018,"creation_date":1692339855,"answer_id":76926885,"question_id":76912708,"body_markdown":"\r\n convert .proto to .pb file  or use the proto generated java classes to get the Descriptor object. \r\n\r\n```\r\npublic static void main(String[] args) {\r\n        DescriptorProtos.FileDescriptorSet fileDescriptorSet = DescriptorProtos.FileDescriptorSet.parseFrom(ProtoToJsonSchemaConverter.class.getClassLoader().getResourceAsStream(&quot;desc.pb&quot;));\r\n\r\n//get the Descriptors.Descriptor object from DescriptorProtos.FileDescriptorSet \r\n\r\n// use the generated class to get the Descriptor object\r\nDescriptors.Descriptor descriptor = TestMessageProtos.testMessage.getDescriptor();\r\n\r\n        \r\nString schema = translateProtoToJsonSchema(descriptor.getFile().toProto());\r\n}\r\n String translateProtoToJsonSchema(DescriptorProtos.FileDescriptorProto fileDescriptorProto) {\r\n      \r\n        StringBuilder jsonSchema = new StringBuilder();\r\n        jsonSchema.append(&quot;{\\n&quot;);\r\n        jsonSchema.append(&quot;  \\&quot;type\\&quot;: \\&quot;object\\&quot;,\\n&quot;);\r\n        jsonSchema.append(&quot;  \\&quot;properties\\&quot;: {\\n&quot;);\r\n\r\n        for (DescriptorProtos.DescriptorProto message : fileDescriptorProto.getMessageTypeList()) {\r\n            jsonSchema.append(&quot;    \\&quot;&quot; + message.getName() + &quot;\\&quot;: {\\n&quot;);\r\n            jsonSchema.append(&quot;      \\&quot;type\\&quot;: \\&quot;object\\&quot;,\\n&quot;);\r\n            jsonSchema.append(&quot;      \\&quot;properties\\&quot;: {\\n&quot;);\r\n\r\n            for (DescriptorProtos.FieldDescriptorProto field : message.getFieldList()) {\r\n                jsonSchema.append(&quot;        \\&quot;&quot; + field.getName() + &quot;\\&quot;: {\\n&quot;);\r\n                jsonSchema.append(&quot;          \\&quot;type\\&quot;: \\&quot;&quot; + fieldTypeToJsonSchemaType(field.getType()) + &quot;\\&quot;\\n&quot;);\r\n                jsonSchema.append(&quot;        },\\n&quot;);\r\n            }\r\n\r\n            jsonSchema.append(&quot;      }\\n&quot;);\r\n            jsonSchema.append(&quot;    },\\n&quot;);\r\n        }\r\n\r\n        jsonSchema.append(&quot;  }\\n&quot;);\r\n        jsonSchema.append(&quot;}&quot;);\r\n\r\n        return jsonSchema.toString();\r\n    }\r\n   String fieldTypeToJsonSchemaType(DescriptorProtos.FieldDescriptorProto.Type fieldType) {\r\n       \r\n        switch (fieldType) {\r\n            case TYPE_STRING:\r\n                return &quot;string&quot;;\r\n            case TYPE_INT32:\r\n            case TYPE_INT64:\r\n                return &quot;integer&quot;;\r\n            case TYPE_DOUBLE:\r\n                return &quot;number&quot;;\r\n            case TYPE_BOOL:\r\n                return &quot;boolean&quot;;\r\n            // Add more cases for other types as needed\r\n            default:\r\n                return &quot;unknown&quot;;\r\n        }\r\n    }\r\n\r\n```","title":"How to convert .proto file to JSON schema by using Java and its Libraries","body":"<p>convert .proto to .pb file  or use the proto generated java classes to get the Descriptor object.</p>\n<pre><code>public static void main(String[] args) {\n        DescriptorProtos.FileDescriptorSet fileDescriptorSet = DescriptorProtos.FileDescriptorSet.parseFrom(ProtoToJsonSchemaConverter.class.getClassLoader().getResourceAsStream(&quot;desc.pb&quot;));\n\n//get the Descriptors.Descriptor object from DescriptorProtos.FileDescriptorSet \n\n// use the generated class to get the Descriptor object\nDescriptors.Descriptor descriptor = TestMessageProtos.testMessage.getDescriptor();\n\n        \nString schema = translateProtoToJsonSchema(descriptor.getFile().toProto());\n}\n String translateProtoToJsonSchema(DescriptorProtos.FileDescriptorProto fileDescriptorProto) {\n      \n        StringBuilder jsonSchema = new StringBuilder();\n        jsonSchema.append(&quot;{\\n&quot;);\n        jsonSchema.append(&quot;  \\&quot;type\\&quot;: \\&quot;object\\&quot;,\\n&quot;);\n        jsonSchema.append(&quot;  \\&quot;properties\\&quot;: {\\n&quot;);\n\n        for (DescriptorProtos.DescriptorProto message : fileDescriptorProto.getMessageTypeList()) {\n            jsonSchema.append(&quot;    \\&quot;&quot; + message.getName() + &quot;\\&quot;: {\\n&quot;);\n            jsonSchema.append(&quot;      \\&quot;type\\&quot;: \\&quot;object\\&quot;,\\n&quot;);\n            jsonSchema.append(&quot;      \\&quot;properties\\&quot;: {\\n&quot;);\n\n            for (DescriptorProtos.FieldDescriptorProto field : message.getFieldList()) {\n                jsonSchema.append(&quot;        \\&quot;&quot; + field.getName() + &quot;\\&quot;: {\\n&quot;);\n                jsonSchema.append(&quot;          \\&quot;type\\&quot;: \\&quot;&quot; + fieldTypeToJsonSchemaType(field.getType()) + &quot;\\&quot;\\n&quot;);\n                jsonSchema.append(&quot;        },\\n&quot;);\n            }\n\n            jsonSchema.append(&quot;      }\\n&quot;);\n            jsonSchema.append(&quot;    },\\n&quot;);\n        }\n\n        jsonSchema.append(&quot;  }\\n&quot;);\n        jsonSchema.append(&quot;}&quot;);\n\n        return jsonSchema.toString();\n    }\n   String fieldTypeToJsonSchemaType(DescriptorProtos.FieldDescriptorProto.Type fieldType) {\n       \n        switch (fieldType) {\n            case TYPE_STRING:\n                return &quot;string&quot;;\n            case TYPE_INT32:\n            case TYPE_INT64:\n                return &quot;integer&quot;;\n            case TYPE_DOUBLE:\n                return &quot;number&quot;;\n            case TYPE_BOOL:\n                return &quot;boolean&quot;;\n            // Add more cases for other types as needed\n            default:\n                return &quot;unknown&quot;;\n        }\n    }\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11479698,"reputation":11,"user_id":8414199,"display_name":"Kamesh"},"score":0,"creation_date":1692341397,"post_id":76926894,"comment_id":135612420,"body_markdown":"I completely agree with your answers, this is one my exploration scope or feasibility study because in online if you look you have converters for everything JSON &lt;-&gt; XML (XSD) and JSON -&gt; Proto not the proto to JSON. Really appreciate your response. :)","body":"I completely agree with your answers, this is one my exploration scope or feasibility study because in online if you look you have converters for everything JSON &lt;-&gt; XML (XSD) and JSON -&gt; Proto not the proto to JSON. Really appreciate your response. :)"}],"tags":[],"owner":{"account_id":2463651,"reputation":7815,"user_id":2147218,"display_name":"bazza"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692340002,"creation_date":1692340002,"answer_id":76926894,"question_id":76912708,"body_markdown":"The thing I&#39;m wondering is why one would ever need to do that?! \r\n\r\nThe Protobuf schema file is for the description of data, and one can generate classes that represent that data in pretty much any language one wants (including Java). These classes can serialise the data to/from Protobuf&#39;s binary wireformat as well as it&#39;s own dialect of JSON, validating the data content as they do so (i.e. the data contains the right fields of the right types with the right identity and structure). \r\n\r\nA JSON schema can also be used to validate JSON data, or possibly also used for code generation too. Doing so simply duplicates what you can already do with the Protobuf schema and the tools / libraries associated with it. So, converting the Protobuf schema to a JSON schema feels like it&#39;s not really getting you anywhere; so far as I can see, you&#39;ll get no new functionality from having done so. \r\n\r\nThere is an exception. JSON schema can define more things about data than a protobuf schema can (e.g. you can define constraints on the valid values of data in a JSON schema, something you cannot do in a Protobuf schema). However, if you&#39;re converting from a Protobuf schema to a JSON schema, such constraints will be absent anyway. If you want a JSON schema in order to be able to express constraints (something Protobuf cannot do), you&#39;ll have to hand-edit the JSON schema anyway to put them in; in which case, manual translation of the schema is probably not that great an extra burden. \r\n\r\nI&#39;m exploring this aspect of my lack of understanding of your needs just in case I&#39;m covering something you have not yet realised about what Protobufs can do for you out of the box. Or, possibly, we end up exploring more complex needs that are hinted at by your question :-)\r\n","title":"How to convert .proto file to JSON schema by using Java and its Libraries","body":"<p>The thing I'm wondering is why one would ever need to do that?!</p>\n<p>The Protobuf schema file is for the description of data, and one can generate classes that represent that data in pretty much any language one wants (including Java). These classes can serialise the data to/from Protobuf's binary wireformat as well as it's own dialect of JSON, validating the data content as they do so (i.e. the data contains the right fields of the right types with the right identity and structure).</p>\n<p>A JSON schema can also be used to validate JSON data, or possibly also used for code generation too. Doing so simply duplicates what you can already do with the Protobuf schema and the tools / libraries associated with it. So, converting the Protobuf schema to a JSON schema feels like it's not really getting you anywhere; so far as I can see, you'll get no new functionality from having done so.</p>\n<p>There is an exception. JSON schema can define more things about data than a protobuf schema can (e.g. you can define constraints on the valid values of data in a JSON schema, something you cannot do in a Protobuf schema). However, if you're converting from a Protobuf schema to a JSON schema, such constraints will be absent anyway. If you want a JSON schema in order to be able to express constraints (something Protobuf cannot do), you'll have to hand-edit the JSON schema anyway to put them in; in which case, manual translation of the schema is probably not that great an extra burden.</p>\n<p>I'm exploring this aspect of my lack of understanding of your needs just in case I'm covering something you have not yet realised about what Protobufs can do for you out of the box. Or, possibly, we end up exploring more complex needs that are hinted at by your question :-)</p>\n"}],"owner":{"account_id":11479698,"reputation":11,"user_id":8414199,"display_name":"Kamesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692342018,"creation_date":1692181765,"question_id":76912708,"body_markdown":"I have a .proto file and would like to change it to JSON schema by using Java and its libraries. What are the steps I should consider?\r\n\r\nI have tried to get the protobuffer and understand the filedescriptor which is not providing meaningful information until you build the schema.","title":"How to convert .proto file to JSON schema by using Java and its Libraries","body":"<p>I have a .proto file and would like to change it to JSON schema by using Java and its libraries. What are the steps I should consider?</p>\n<p>I have tried to get the protobuffer and understand the filedescriptor which is not providing meaningful information until you build the schema.</p>\n"},{"tags":["java","jcr","modeshape"],"owner":{"account_id":9832992,"reputation":155,"user_id":7284173,"display_name":"Felix H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692341977,"creation_date":1692341977,"question_id":76927079,"body_markdown":"In my web application, I have integrated a DMS using ModeShape. Usually, it works perfectly fine. However, from time to time, the application does not allow writing new files anymore due to an exception:&lt;br&gt;\r\n\r\n&gt; InvalidItemStateException: Node &#39;folder/filename&#39; is versionable but was not yet persisted via Session.save(), and therefore no version history is available yet\r\n\r\nMy code for adding a new file to the DMS looks like this.&lt;br&gt;\r\n\r\n    protected boolean addFile(Session session, String path, String filename, InputStream fileContent, boolean overwriteIfExist, boolean isAbsolutPath) {\r\n\t\ttry {\r\n\t\t\tNode folder=null;\r\n\t\t\tif(isAbsolutPath) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfolder = session.getNode(path);\r\n\t\t\t\t} catch (PathNotFoundException e) {\r\n\t\t\t\t    LOG.error(&quot;Path not found in DMS for path &quot;+path,e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tNode root = session.getRootNode();\r\n\t\t\t\tfolder = root.getNode(path);\r\n\t\t\t}\r\n\t\t\tif(folder!=null) {\r\n\t\t\t\tNode fileNode;\r\n\t\t\t\tVersionManager versionManager = null;  \r\n\t\t\t\t\r\n\t\t\t\tif(folder.hasNode(filename)){\r\n\t\t\t\t\tfileNode=folder.getNode(filename);\r\n\t\t\t\t\tif(!overwriteIfExist) {\r\n\t\t\t\t\t\t//create new Version if file exists and should not be overwritten\r\n\t\t\t\t\t\tversionManager = session.getWorkspace().getVersionManager();  \r\n\t\t\t\t\t\tversionManager.checkout(fileNode.getPath());  \r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tJcrTools jcrTools = new JcrTools(false);\r\n\t\t\t\t\t\tjcrTools.removeAllChildren(fileNode);  \r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t        LOG.error(&quot;Error while removing children nodes of node &quot;+fileNode.toString(),e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// Create an &#39;nt:file&#39; node at the supplied path ...\r\n\t\t\t\t\tfileNode = folder.addNode(filename,NodeType.NT_FILE);\r\n\t\t\t\t\tfileNode.addMixin(NodeType.MIX_VERSIONABLE);\r\n\t\t\t\t\tversionManager = session.getWorkspace().getVersionManager();  \r\n\t\t\t\t\tversionManager.checkout(fileNode.getPath());  \r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// Upload the file to that node ...\r\n\t\t\t\tNode contentNode = fileNode.hasNode(Property.JCR_CONTENT)?fileNode.getNode(Property.JCR_CONTENT):fileNode.addNode(Property.JCR_CONTENT, NodeType.NT_RESOURCE);\r\n\t\t\t\tif(!isNodeExist(session, contentNode))\r\n\t\t\t\t\tcontentNode=fileNode.addNode(Property.JCR_CONTENT,NodeType.NT_RESOURCE);\r\n\t\t\t\tBinary binary = session.getValueFactory().createBinary(fileContent);\r\n\t\t\t\tcontentNode.setProperty(Property.JCR_DATA, binary);\r\n\t\t\t\tsession.save();\r\n\t\t\t\t\r\n\t\t\t\tif(versionManager!=null) {\r\n\t\t\t\t\tversionManager.checkin(fileNode.getPath()); \r\n\t\t\t\t}\r\n\t\t\t\t// Save the session (and auto-created the properties) ...\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tLOG.warn(&quot;Could not find folder with given path &quot;+path+&quot; in the repository!&quot;);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t} catch (RepositoryException e) {\r\n\t\t\tLOG.error(&quot;Error handling the repository while adding file &quot;+filename,e);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\nDo you have an idea why this exception is occuring? As can be seen in the code, I am executing session.save() after writing a new file or writing a new version of a file. Thank you for the support in advance.","title":"ModeShape / JCR InvalidItemStateException blocks DMS","body":"<p>In my web application, I have integrated a DMS using ModeShape. Usually, it works perfectly fine. However, from time to time, the application does not allow writing new files anymore due to an exception:<br></p>\n<blockquote>\n<p>InvalidItemStateException: Node 'folder/filename' is versionable but was not yet persisted via Session.save(), and therefore no version history is available yet</p>\n</blockquote>\n<p>My code for adding a new file to the DMS looks like this.<br></p>\n<pre><code>protected boolean addFile(Session session, String path, String filename, InputStream fileContent, boolean overwriteIfExist, boolean isAbsolutPath) {\n    try {\n        Node folder=null;\n        if(isAbsolutPath) {\n            try {\n                folder = session.getNode(path);\n            } catch (PathNotFoundException e) {\n                LOG.error(&quot;Path not found in DMS for path &quot;+path,e);\n            }\n        }\n        else {\n            Node root = session.getRootNode();\n            folder = root.getNode(path);\n        }\n        if(folder!=null) {\n            Node fileNode;\n            VersionManager versionManager = null;  \n            \n            if(folder.hasNode(filename)){\n                fileNode=folder.getNode(filename);\n                if(!overwriteIfExist) {\n                    //create new Version if file exists and should not be overwritten\n                    versionManager = session.getWorkspace().getVersionManager();  \n                    versionManager.checkout(fileNode.getPath());  \n                }\n                try {\n                    JcrTools jcrTools = new JcrTools(false);\n                    jcrTools.removeAllChildren(fileNode);  \n                } catch (Exception e) {\n                    LOG.error(&quot;Error while removing children nodes of node &quot;+fileNode.toString(),e);\n                }\n            }\n            else {\n                // Create an 'nt:file' node at the supplied path ...\n                fileNode = folder.addNode(filename,NodeType.NT_FILE);\n                fileNode.addMixin(NodeType.MIX_VERSIONABLE);\n                versionManager = session.getWorkspace().getVersionManager();  \n                versionManager.checkout(fileNode.getPath());  \n            }\n            \n            // Upload the file to that node ...\n            Node contentNode = fileNode.hasNode(Property.JCR_CONTENT)?fileNode.getNode(Property.JCR_CONTENT):fileNode.addNode(Property.JCR_CONTENT, NodeType.NT_RESOURCE);\n            if(!isNodeExist(session, contentNode))\n                contentNode=fileNode.addNode(Property.JCR_CONTENT,NodeType.NT_RESOURCE);\n            Binary binary = session.getValueFactory().createBinary(fileContent);\n            contentNode.setProperty(Property.JCR_DATA, binary);\n            session.save();\n            \n            if(versionManager!=null) {\n                versionManager.checkin(fileNode.getPath()); \n            }\n            // Save the session (and auto-created the properties) ...\n            return true;\n        }\n        else {\n            LOG.warn(&quot;Could not find folder with given path &quot;+path+&quot; in the repository!&quot;);\n            return false;\n        }\n    } catch (RepositoryException e) {\n        LOG.error(&quot;Error handling the repository while adding file &quot;+filename,e);\n        return false;\n    }\n}\n</code></pre>\n<p>Do you have an idea why this exception is occuring? As can be seen in the code, I am executing session.save() after writing a new file or writing a new version of a file. Thank you for the support in advance.</p>\n"},{"tags":["java","visual-studio-code","code-snippets","vscode-snippets"],"comments":[{"owner":{"account_id":13770793,"reputation":25892,"user_id":9938317,"display_name":"rioV8"},"score":0,"creation_date":1692242809,"post_id":76918124,"comment_id":135597804,"body_markdown":"extensions can generate snippets on the fly, possibly the language server creates these in the completion provider, hard coded","body":"extensions can generate snippets on the fly, possibly the language server creates these in the completion provider, hard coded"}],"answers":[{"tags":[],"owner":{"account_id":24969164,"reputation":66,"user_id":18832481,"display_name":"n1nja88888"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692341675,"creation_date":1692251295,"answer_id":76918763,"question_id":76918124,"body_markdown":"Finally, I just figured out why it acts like that. Basically, it&#39;s because those snippets are defined on the server side as the comment said. Hence, we can&#39;t check and modify them in VS Code.\r\n&gt; For those who don&#39;t know what **server side** means here, plz check out this: [Language Server Protocol](https://en.wikipedia.org/wiki/Language_Server_Protocol).\r\n\r\nSo if you modify those snippets offered by the server, the only approach you can take is to modify the source code of the server and compile it again, and then replace the one located in the extension. Though, it&#39;s quite cumbersome.\r\n&gt; You can reference to [editing server.json doesn&#39;t work](https://github.com/redhat-developer/vscode-java/issues/3247) for the detailed steps for this extension *Language Support for Java(TM) by Red Hat*.","title":"VS Code suggests a code snippet that is not listed with the &quot;insert snippets&quot; command. Where/how is it defined?","body":"<p>Finally, I just figured out why it acts like that. Basically, it's because those snippets are defined on the server side as the comment said. Hence, we can't check and modify them in VS Code.</p>\n<blockquote>\n<p>For those who don't know what <strong>server side</strong> means here, plz check out this: <a href=\"https://en.wikipedia.org/wiki/Language_Server_Protocol\" rel=\"nofollow noreferrer\">Language Server Protocol</a>.</p>\n</blockquote>\n<p>So if you modify those snippets offered by the server, the only approach you can take is to modify the source code of the server and compile it again, and then replace the one located in the extension. Though, it's quite cumbersome.</p>\n<blockquote>\n<p>You can reference to <a href=\"https://github.com/redhat-developer/vscode-java/issues/3247\" rel=\"nofollow noreferrer\">editing server.json doesn't work</a> for the detailed steps for this extension <em>Language Support for Java(TM) by Red Hat</em>.</p>\n</blockquote>\n"}],"owner":{"account_id":24969164,"reputation":66,"user_id":18832481,"display_name":"n1nja88888"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76918763,"answer_count":1,"score":0,"last_activity_date":1692341675,"creation_date":1692239620,"question_id":76918124,"body_markdown":"when I type `if`, there&#39;s a snippet suggestion as below:\r\n[![][1]][1]\r\nBut I can&#39;t find this snippet by `insert snippets` command:\r\n[![][2]][2]\r\n\r\nit shows nothing:\r\n\r\n[![][3]][3]\r\n\r\nI just wonder why and the content of the `if` snippet ain&#39;t what I want. I want to edit it but I just can&#39;t even find where it is.\r\n\r\nI think it might have something to do with the extension *Language Support for Java(TM) by Red Hat*, since if I disable it, all the snippets are gone. But I didn&#39;t see any `if` related snippets in the snippet file offered by this extension. And I don&#39;t want to disable it simply just to inhibit those suggestions because this extension does more than suggest snippets.\r\n\r\n  [1]: https://i.stack.imgur.com/iaZ8u.png\r\n  [2]: https://i.stack.imgur.com/zuRm7.png\r\n  [3]: https://i.stack.imgur.com/kVRvy.png","title":"VS Code suggests a code snippet that is not listed with the &quot;insert snippets&quot; command. Where/how is it defined?","body":"<p>when I type <code>if</code>, there's a snippet suggestion as below:\n<a href=\"https://i.stack.imgur.com/iaZ8u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iaZ8u.png\" alt=\"\" /></a>\nBut I can't find this snippet by <code>insert snippets</code> command:\n<a href=\"https://i.stack.imgur.com/zuRm7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zuRm7.png\" alt=\"\" /></a></p>\n<p>it shows nothing:</p>\n<p><a href=\"https://i.stack.imgur.com/kVRvy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kVRvy.png\" alt=\"\" /></a></p>\n<p>I just wonder why and the content of the <code>if</code> snippet ain't what I want. I want to edit it but I just can't even find where it is.</p>\n<p>I think it might have something to do with the extension <em>Language Support for Java(TM) by Red Hat</em>, since if I disable it, all the snippets are gone. But I didn't see any <code>if</code> related snippets in the snippet file offered by this extension. And I don't want to disable it simply just to inhibit those suggestions because this extension does more than suggest snippets.</p>\n"},{"tags":["java","spring-boot","jpa","junit","mockito"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692340913,"post_id":76926407,"comment_id":135612343,"body_markdown":"what  is returning of `saveWorkingDay` ? is  CatDia entity class ?","body":"what  is returning of <code>saveWorkingDay</code> ? is  CatDia entity class ?"},{"owner":{"account_id":9015198,"reputation":141,"user_id":7552035,"display_name":"Root93"},"score":0,"creation_date":1692341025,"post_id":76926407,"comment_id":135612361,"body_markdown":"Its a void method, this method is the query to insert","body":"Its a void method, this method is the query to insert"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692341172,"post_id":76926407,"comment_id":135612379,"body_markdown":"usually a `save method` should return something, but if you dont want this you can just test invoke of this method in service with `verify() from mockito because it return nothing","body":"usually a <code>save method</code> should return something, but if you dont want this you can just test invoke of this method in service with `verify() from mockito because it return nothing"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1692341647,"post_id":76926407,"comment_id":135612453,"body_markdown":"i just added a correct way to test  what you want","body":"i just added a correct way to test  what you want"}],"answers":[{"comments":[{"owner":{"account_id":9015198,"reputation":141,"user_id":7552035,"display_name":"Root93"},"score":0,"creation_date":1692373444,"post_id":76927046,"comment_id":135618774,"body_markdown":"thanks, it works!!,  this also apply to the controller test?","body":"thanks, it works!!,  this also apply to the controller test?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692373740,"post_id":76927046,"comment_id":135618840,"body_markdown":"yes of course but for controller test you will mock service layer and test invoke of method also with verify, because it`s the same as repository with void return","body":"yes of course but for controller test you will mock service layer and test invoke of method also with verify, because it`s the same as repository with void return"},{"owner":{"account_id":9015198,"reputation":141,"user_id":7552035,"display_name":"Root93"},"score":0,"creation_date":1692381617,"post_id":76927046,"comment_id":135620282,"body_markdown":"yes, I already implemented it like this and it also works, Thank you  lot.                         how can I validate when it falls into the exception?","body":"yes, I already implemented it like this and it also works, Thank you  lot.                         how can I validate when it falls into the exception?"},{"owner":{"account_id":9015198,"reputation":141,"user_id":7552035,"display_name":"Root93"},"score":0,"creation_date":1692381651,"post_id":76927046,"comment_id":135620293,"body_markdown":"I don&#39;t know how to cover that scenario","body":"I don&#39;t know how to cover that scenario"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1692382552,"post_id":76927046,"comment_id":135620436,"body_markdown":"you can mock(simulate) a throwing of exception when call it with mockito library","body":"you can mock(simulate) a throwing of exception when call it with mockito library"}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692341605,"creation_date":1692341605,"answer_id":76927046,"question_id":76926407,"body_markdown":"In your case if repository return type is `void` you should test invoke of service with method your current test case will look so:\r\n\r\n    @Test\r\n    public void testAddNewRecord() {\r\n        catDiEnatity.setFechaInb(&quot;12/12/24&quot;);\r\n        catDiEnatity.setDescDiaInb(&quot;New day&quot;);\r\n        catDiEnatity.setInhaMx(&quot;1&quot;);\r\n        catDiEnatity.setInhabCh(&quot;0&quot;);\r\n\r\n        serviceImpl.addNewWorkingDay(catDiEnatity);\r\n\r\n        verify(catDiaRepository, times(1)).saveWorkingDay(catDiEnatity.getFechaInb(), catDiEnatity.getDescDiaInb(), \r\n                    catDiEnatity.getInhaMx(), catDiEnatity.getInhabCh());\r\n    }","title":"How to test a method in controller and service layer to insert a register with Junit Mocks?","body":"<p>In your case if repository return type is <code>void</code> you should test invoke of service with method your current test case will look so:</p>\n<pre><code>@Test\npublic void testAddNewRecord() {\n    catDiEnatity.setFechaInb(&quot;12/12/24&quot;);\n    catDiEnatity.setDescDiaInb(&quot;New day&quot;);\n    catDiEnatity.setInhaMx(&quot;1&quot;);\n    catDiEnatity.setInhabCh(&quot;0&quot;);\n\n    serviceImpl.addNewWorkingDay(catDiEnatity);\n\n    verify(catDiaRepository, times(1)).saveWorkingDay(catDiEnatity.getFechaInb(), catDiEnatity.getDescDiaInb(), \n                catDiEnatity.getInhaMx(), catDiEnatity.getInhabCh());\n}\n</code></pre>\n"}],"owner":{"account_id":9015198,"reputation":141,"user_id":7552035,"display_name":"Root93"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692341605,"creation_date":1692332211,"question_id":76926407,"body_markdown":"I have the following methods in a service layer an a repository to insert a new register in BD, I want to do the Unit test with Mocks but I dont know how\r\n\r\ncontroller\r\n\r\n        @PostMapping(&quot;/altaDiaInhabil&quot;)\r\n    \tprivate void addWorkingDay(@RequestBody CatDiaEntity day) throws Exception {\r\n    \t\ttry {\r\n    \t\t\tcatDiaInhabilService.addNewWorkingDay(day);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLOGGER.error(&quot;Error in CatDiaEntity Values &quot;);\r\n    \t\t\tthrow e;\r\n    \t\t}\r\n    \t}\r\n    \t\r\nserviceImpl\r\n\r\n        @Transactional\r\n    \t@Override\r\n    \tpublic void addNewWorkingDay(CatDiaEntity dayOff) throws Exception {\r\n    \t\ttry {\r\n    \t\t\tcatDiaRepository.saveWorkingDay(dayOff.getFechaInb(), dayOff.getDescDiaInb(),\r\n    \t\t\t\t\tdayOff.getInhaMx(), dayOff.getInhabCh());\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLOGGER.error(&quot;An error ocurred to insert CatDiaEntity Data&quot;);\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n\r\nI try to do the testcase like this for the service, but show the error message \r\n\r\n&gt; The method when in the type Mockito is not applicable for the\r\n&gt; arguments void\r\n\r\n\r\n   \r\n\r\n          @Mock\r\n    \tprivate CatDiaRepository catDiaRepository;\r\n    \r\n    \t@InjectMocks\r\n    \tprivate CatDiaServiceImpl serviceImpl;\r\n    \t\r\n    \t@BeforeEach\r\n    \tpublic void init() {\r\n    \t\tMockitoAnnotations.openMocks(this);\r\n    \t\tcatDiEnatity = new CatDiaEntity();\r\n    \r\n    \t}\r\n            @Test\r\n        \tpublic void testAddNewRecord() {\r\n        \t\tcatDiEnatity.setFechaInb(&quot;12/12/24&quot;);\r\n        \t\tcatDiEnatity.setDescDiaInb(&quot;New day&quot;);\r\n        \t\tcatDiEnatity.setInhaMx(&quot;1&quot;);\r\n        \t\tcatDiEnatity.setInhabCh(&quot;0&quot;);\r\n        \t\t\r\n        \t\tMockito.when(catDiaRepository.saveWorkingDay(catDiEnatity.getFechaInb(), catDiEnatity.getDescDiaInb(), \r\n        \t\t\t\tcatDiEnatity.getInhaMx(), catDiEnatity.getInhabCh())).thenReturn();\r\n        \t}\r\n\r\n\r\nHow can I test these two methods?","title":"How to test a method in controller and service layer to insert a register with Junit Mocks?","body":"<p>I have the following methods in a service layer an a repository to insert a new register in BD, I want to do the Unit test with Mocks but I dont know how</p>\n<p>controller</p>\n<pre><code>    @PostMapping(&quot;/altaDiaInhabil&quot;)\n    private void addWorkingDay(@RequestBody CatDiaEntity day) throws Exception {\n        try {\n            catDiaInhabilService.addNewWorkingDay(day);\n        } catch (Exception e) {\n            LOGGER.error(&quot;Error in CatDiaEntity Values &quot;);\n            throw e;\n        }\n    }\n    \n</code></pre>\n<p>serviceImpl</p>\n<pre><code>    @Transactional\n    @Override\n    public void addNewWorkingDay(CatDiaEntity dayOff) throws Exception {\n        try {\n            catDiaRepository.saveWorkingDay(dayOff.getFechaInb(), dayOff.getDescDiaInb(),\n                    dayOff.getInhaMx(), dayOff.getInhabCh());\n\n        } catch (Exception e) {\n            LOGGER.error(&quot;An error ocurred to insert CatDiaEntity Data&quot;);\n\n        }\n\n    }\n</code></pre>\n<p>I try to do the testcase like this for the service, but show the error message</p>\n<blockquote>\n<p>The method when in the type Mockito is not applicable for the\narguments void</p>\n</blockquote>\n<pre><code>      @Mock\n    private CatDiaRepository catDiaRepository;\n\n    @InjectMocks\n    private CatDiaServiceImpl serviceImpl;\n    \n    @BeforeEach\n    public void init() {\n        MockitoAnnotations.openMocks(this);\n        catDiEnatity = new CatDiaEntity();\n\n    }\n        @Test\n        public void testAddNewRecord() {\n            catDiEnatity.setFechaInb(&quot;12/12/24&quot;);\n            catDiEnatity.setDescDiaInb(&quot;New day&quot;);\n            catDiEnatity.setInhaMx(&quot;1&quot;);\n            catDiEnatity.setInhabCh(&quot;0&quot;);\n            \n            Mockito.when(catDiaRepository.saveWorkingDay(catDiEnatity.getFechaInb(), catDiEnatity.getDescDiaInb(), \n                    catDiEnatity.getInhaMx(), catDiEnatity.getInhabCh())).thenReturn();\n        }\n</code></pre>\n<p>How can I test these two methods?</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"comments":[{"owner":{"account_id":28765065,"reputation":33,"user_id":22030151,"display_name":"Nick McKinney"},"score":1,"creation_date":1692384071,"post_id":76925337,"comment_id":135620629,"body_markdown":"Good finds; it looks like those issues/PRs did not exist when this question was written, but now, yes, that&#39;s the answer.","body":"Good finds; it looks like those issues/PRs did not exist when this question was written, but now, yes, that&#39;s the answer."}],"tags":[],"owner":{"account_id":22533119,"reputation":26,"user_id":16724834,"display_name":"Farbfetzen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692341468,"creation_date":1692309264,"answer_id":76925337,"question_id":76424212,"body_markdown":"I had the same question and found these two issues in the Spring Security repository: [13436][1] and [13204][2]. It looks like there will be a new `.with()` method which will replace `.apply().and()`. This seems to be the one they are talking about: https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/AbstractConfiguredSecurityBuilder.java#L155.\r\nIt is already part of the 6.2.0-M1 release.\r\n\r\nEdit: Found the pull request: https://github.com/spring-projects/spring-security/pull/13432\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/issues/13436\r\n  [2]: https://github.com/spring-projects/spring-security/issues/13204\r\n  [3]: https://github.com/spring-projects/spring-security/pull/13432","title":"Spring Security 6.1 - Lambda DSL for Custom DSL","body":"<p>I had the same question and found these two issues in the Spring Security repository: <a href=\"https://github.com/spring-projects/spring-security/issues/13436\" rel=\"nofollow noreferrer\">13436</a> and <a href=\"https://github.com/spring-projects/spring-security/issues/13204\" rel=\"nofollow noreferrer\">13204</a>. It looks like there will be a new <code>.with()</code> method which will replace <code>.apply().and()</code>. This seems to be the one they are talking about: <a href=\"https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/AbstractConfiguredSecurityBuilder.java#L155\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/AbstractConfiguredSecurityBuilder.java#L155</a>.\nIt is already part of the 6.2.0-M1 release.</p>\n<p>Edit: Found the pull request: <a href=\"https://github.com/spring-projects/spring-security/pull/13432\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/pull/13432</a></p>\n"}],"owner":{"account_id":28765065,"reputation":33,"user_id":22030151,"display_name":"Nick McKinney"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":678,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76925337,"answer_count":1,"score":3,"last_activity_date":1692341468,"creation_date":1686146775,"question_id":76424212,"body_markdown":"In Spring Security 6.1, `SecurityConfigurerAdapter::and` has been deprecated for removal, and clients are encouraged to use the Lambda DSL: https://docs.spring.io/spring-security/reference/migration-7/configuration.html#_use_the_lambda_dsl\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeHttpRequests(authorize -&gt; authorize\r\n                .requestMatchers(&quot;/blog/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n            )\r\n            .formLogin(formLogin -&gt; formLogin\r\n                .loginPage(&quot;/login&quot;)\r\n                .permitAll()\r\n            )\r\n            .rememberMe(Customizer.withDefaults());\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nMeanwhile, the documentation for Custom DSLs still show use of the `apply()`-`and()` pattern:\r\nhttps://docs.spring.io/spring-security/reference/servlet/configuration/java.html#jc-custom-dsls\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class Config {\r\n\t@Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t.apply(customDsl())\r\n\t\t\t\t.flag(true)\r\n\t\t\t\t.and()\r\n\t\t\t...;\r\n\t\treturn http.build();\r\n\t}\r\n}\r\n```\r\n\r\nI don&#39;t see a mechanism in `HttpSecurity` or `AbstractConfiguredSecurityBuilder` to follow the lambda pattern for a custom `AbstractHttpConfigurer`, such as:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class Config {\r\n\t@Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t.apply(customDsl(), custom -&gt; custom\r\n\t\t\t\t.flag(true)\r\n\t\t\t)\r\n\t\t\t...;\r\n\t\treturn http.build();\r\n\t}\r\n}\r\n```\r\n\r\nSo I&#39;m stuck using the deprecated `and()` method if I want to keep the single-statement method-chaining pattern, until a future release adds a replacement for this pattern for Custom DSL.\r\n\r\nAm I missing something?","title":"Spring Security 6.1 - Lambda DSL for Custom DSL","body":"<p>In Spring Security 6.1, <code>SecurityConfigurerAdapter::and</code> has been deprecated for removal, and clients are encouraged to use the Lambda DSL: <a href=\"https://docs.spring.io/spring-security/reference/migration-7/configuration.html#_use_the_lambda_dsl\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/migration-7/configuration.html#_use_the_lambda_dsl</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests(authorize -&gt; authorize\n                .requestMatchers(&quot;/blog/**&quot;).permitAll()\n                .anyRequest().authenticated()\n            )\n            .formLogin(formLogin -&gt; formLogin\n                .loginPage(&quot;/login&quot;)\n                .permitAll()\n            )\n            .rememberMe(Customizer.withDefaults());\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>Meanwhile, the documentation for Custom DSLs still show use of the <code>apply()</code>-<code>and()</code> pattern:\n<a href=\"https://docs.spring.io/spring-security/reference/servlet/configuration/java.html#jc-custom-dsls\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/configuration/java.html#jc-custom-dsls</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class Config {\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .apply(customDsl())\n                .flag(true)\n                .and()\n            ...;\n        return http.build();\n    }\n}\n</code></pre>\n<p>I don't see a mechanism in <code>HttpSecurity</code> or <code>AbstractConfiguredSecurityBuilder</code> to follow the lambda pattern for a custom <code>AbstractHttpConfigurer</code>, such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class Config {\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .apply(customDsl(), custom -&gt; custom\n                .flag(true)\n            )\n            ...;\n        return http.build();\n    }\n}\n</code></pre>\n<p>So I'm stuck using the deprecated <code>and()</code> method if I want to keep the single-statement method-chaining pattern, until a future release adds a replacement for this pattern for Custom DSL.</p>\n<p>Am I missing something?</p>\n"},{"tags":["java","asynchronous","future"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1692337533,"post_id":76926530,"comment_id":135611929,"body_markdown":"The first argument of `completeOnTimeout` is the fallback value itself. That means it&#39;s evaluated eagerly. It has to be in order to be passed to the method as an argument. In other words, the `completeOnTimeout` **stage** is _not_ executing prematurely, you&#39;re just printing `&quot;timeout happens&quot;` too early. If you want to lazily compute the fallback value, use `orTimeout` followed by `exceptionally` (or `handle` or `whenComplete` if you want to handle the result or error in the same stage).","body":"The first argument of <code>completeOnTimeout</code> is the fallback value itself. That means it&#39;s evaluated eagerly. It has to be in order to be passed to the method as an argument. In other words, the <code>completeOnTimeout</code> <b>stage</b> is <i>not</i> executing prematurely, you&#39;re just printing <code>&quot;timeout happens&quot;</code> too early. If you want to lazily compute the fallback value, use <code>orTimeout</code> followed by <code>exceptionally</code> (or <code>handle</code> or <code>whenComplete</code> if you want to handle the result or error in the same stage)."},{"owner":{"account_id":29248783,"reputation":21,"user_id":22408580,"display_name":"Eugene Zimin"},"score":0,"creation_date":1692341326,"post_id":76926530,"comment_id":135612409,"body_markdown":"Thank you for that answer - I was looking for `handle` method","body":"Thank you for that answer - I was looking for <code>handle</code> method"}],"answers":[{"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1692337673,"post_id":76926683,"comment_id":135611949,"body_markdown":"Another option, if you want to stay within the &quot;chain&quot; of futures, is to use e.g., `orTimeout` followed by `exceptionally` where it&#39;s checked if the error is a `TimeoutException`.","body":"Another option, if you want to stay within the &quot;chain&quot; of futures, is to use e.g., <code>orTimeout</code> followed by <code>exceptionally</code> where it&#39;s checked if the error is a <code>TimeoutException</code>."},{"owner":{"account_id":29248783,"reputation":21,"user_id":22408580,"display_name":"Eugene Zimin"},"score":0,"creation_date":1692338133,"post_id":76926683,"comment_id":135612005,"body_markdown":"I thought about it actually and that was my guess, so thank you for confirming it. However using `get` operation will block execution and if I need to work with the stream of data, where futures are supposed to be resolved independently or get cancelled by timeout which may be a minute.\n\nThat&#39;s not what I expecting, but thank you!","body":"I thought about it actually and that was my guess, so thank you for confirming it. However using <code>get</code> operation will block execution and if I need to work with the stream of data, where futures are supposed to be resolved independently or get cancelled by timeout which may be a minute.  That&#39;s not what I expecting, but thank you!"}],"tags":[],"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692336985,"creation_date":1692336985,"answer_id":76926683,"question_id":76926530,"body_markdown":"Used method `#completeOnTimeout(T value, long timeout, TimeUnit unit)` accepts value instead of some sort of supplier. This means that this value is computed before passing it into the method.\r\n\r\nFor case of executing some logic only upon timeout - `#get(long timeout, TimeUnit unit)` can be utilized.\r\n\r\nSimplified version of the code:\r\n```\r\ntry {\r\n    CompletableFuture.runAsync(() -&gt; {\r\n        System.out.println(&quot;async operation&quot;);\r\n    }).get(1, TimeUnit.SECONDS);\r\n} catch (TimeoutException e) {\r\n    System.out.println(&quot;timeout happens&quot;);\r\n}\r\n```\r\n\r\nSuch approach will allow code execution upon encountering TimeoutException, which is thrown when future is not completed in specified time\r\n","title":"CompletableFuture runs out of order","body":"<p>Used method <code>#completeOnTimeout(T value, long timeout, TimeUnit unit)</code> accepts value instead of some sort of supplier. This means that this value is computed before passing it into the method.</p>\n<p>For case of executing some logic only upon timeout - <code>#get(long timeout, TimeUnit unit)</code> can be utilized.</p>\n<p>Simplified version of the code:</p>\n<pre><code>try {\n    CompletableFuture.runAsync(() -&gt; {\n        System.out.println(&quot;async operation&quot;);\n    }).get(1, TimeUnit.SECONDS);\n} catch (TimeoutException e) {\n    System.out.println(&quot;timeout happens&quot;);\n}\n</code></pre>\n<p>Such approach will allow code execution upon encountering TimeoutException, which is thrown when future is not completed in specified time</p>\n"},{"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1692369476,"post_id":76927019,"comment_id":135617901,"body_markdown":"Note the call to `f.cancel(true)` has no effect here. In order for the `handleAsync` stage to be executing, the parent stage, which is `f` in this case, _must_ have already completed. Thus, cancelling `f` does nothing. And keep in mind that `f` is the `orTimeout` stage, not the `supplyAsync` stage. Additionally, passing `true` to `cancel` indicates you expect a thread to be interrupted and stop the background task which timed out. That&#39;s unfortunately not how `CompletableFuture` works.","body":"Note the call to <code>f.cancel(true)</code> has no effect here. In order for the <code>handleAsync</code> stage to be executing, the parent stage, which is <code>f</code> in this case, <i>must</i> have already completed. Thus, cancelling <code>f</code> does nothing. And keep in mind that <code>f</code> is the <code>orTimeout</code> stage, not the <code>supplyAsync</code> stage. Additionally, passing <code>true</code> to <code>cancel</code> indicates you expect a thread to be interrupted and stop the background task which timed out. That&#39;s unfortunately not how <code>CompletableFuture</code> works."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692369616,"post_id":76927019,"comment_id":135617935,"body_markdown":"See the documentation of [`CompletableFuture#cancel(boolean)`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/CompletableFuture.html#cancel(boolean)) for more information.","body":"See the documentation of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/CompletableFuture.html#cancel(boolean)\" rel=\"nofollow noreferrer\"><code>CompletableFuture#cancel(boolean)</code></a> for more information."},{"owner":{"account_id":29248783,"reputation":21,"user_id":22408580,"display_name":"Eugene Zimin"},"score":0,"creation_date":1692897922,"post_id":76927019,"comment_id":135690133,"body_markdown":"Yup, you right, that call has no real meaning - `f` is finished at that when I call it, so that call is definitely redundant.\n\nContinue thinking then it means that `f` has 2 stages - `supplyAsync(...)` which is finished either by (hopefully) successful completion, or by next stage, which is `orTimeout(...)`. When I handle the exception and checking if it is a `TimeoutException` instance, it means that `f` is completed and I am gathering data whether it was completed successfully or by the next step - `orTimeout(...)`.\n\nThank you Slaw!","body":"Yup, you right, that call has no real meaning - <code>f</code> is finished at that when I call it, so that call is definitely redundant.  Continue thinking then it means that <code>f</code> has 2 stages - <code>supplyAsync(...)</code> which is finished either by (hopefully) successful completion, or by next stage, which is <code>orTimeout(...)</code>. When I handle the exception and checking if it is a <code>TimeoutException</code> instance, it means that <code>f</code> is completed and I am gathering data whether it was completed successfully or by the next step - <code>orTimeout(...)</code>.  Thank you Slaw!"}],"tags":[],"owner":{"account_id":29248783,"reputation":21,"user_id":22408580,"display_name":"Eugene Zimin"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692341291,"creation_date":1692341291,"answer_id":76927019,"question_id":76926530,"body_markdown":"Answering my own question - if it is necessary to run asynchronously CompletableFuture or cancel it by timeout expiration, as [Slaw](https://stackoverflow.com/users/6395627/slaw) suggested it is better to use `handle` method. I&#39;ve got the desired behavior with the following code:\r\n\r\n```\r\npackage com.test;\r\n\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.concurrent.TimeoutException;\r\n\r\npublic class Solution {\r\n\tpublic void startCompletableFutureExample() {\r\n\t\tCompletableFuture&lt;String&gt; f = CompletableFuture.supplyAsync(() -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(50);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n\t\t\treturn &quot;async operation&quot;;\r\n\t\t}).orTimeout(10, TimeUnit.MILLISECONDS);\r\n\r\n\t\tf.handleAsync((msg, ex) -&gt; {\r\n\t\t\tif (ex instanceof TimeoutException) {\r\n\t\t\t\tSystem.out.println(&quot;timeout happens&quot;);\r\n\t\t\t\tf.cancel(true);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(msg);\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\ttry {\r\n\t\t\tThread.sleep(1000);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nNow if I run it, I&#39;ll get a timeout reached first and thus the output would be only:\r\n```\r\ntimeout happens\r\n```\r\nHowever if I set `Thread.sleep(5)` instead of `Tread.sleep(50)`, I will get only:\r\n```\r\nasync operation\r\n```\r\nwhich is an expected value.","title":"CompletableFuture runs out of order","body":"<p>Answering my own question - if it is necessary to run asynchronously CompletableFuture or cancel it by timeout expiration, as <a href=\"https://stackoverflow.com/users/6395627/slaw\">Slaw</a> suggested it is better to use <code>handle</code> method. I've got the desired behavior with the following code:</p>\n<pre><code>package com.test;\n\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\n\npublic class Solution {\n    public void startCompletableFutureExample() {\n        CompletableFuture&lt;String&gt; f = CompletableFuture.supplyAsync(() -&gt; {\n            try {\n                Thread.sleep(50);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            return &quot;async operation&quot;;\n        }).orTimeout(10, TimeUnit.MILLISECONDS);\n\n        f.handleAsync((msg, ex) -&gt; {\n            if (ex instanceof TimeoutException) {\n                System.out.println(&quot;timeout happens&quot;);\n                f.cancel(true);\n            } else {\n                System.out.println(msg);\n            }\n            return null;\n        });\n\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>Now if I run it, I'll get a timeout reached first and thus the output would be only:</p>\n<pre><code>timeout happens\n</code></pre>\n<p>However if I set <code>Thread.sleep(5)</code> instead of <code>Tread.sleep(50)</code>, I will get only:</p>\n<pre><code>async operation\n</code></pre>\n<p>which is an expected value.</p>\n"}],"owner":{"account_id":29248783,"reputation":21,"user_id":22408580,"display_name":"Eugene Zimin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76927019,"answer_count":2,"score":-1,"last_activity_date":1692341291,"creation_date":1692334647,"question_id":76926530,"body_markdown":"I have the following code in Java (I use Oracle Java 17):\r\n\r\n```\r\npackage com.test;\r\n\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class Solution {\r\n\tpublic void startCompletableFutureExample() {\r\n\t\tCompletableFuture.runAsync(() -&gt; {\r\n\t\t\t\t\tSystem.out.println(&quot;async operation&quot;);\r\n\t\t\t\t})\r\n\t\t\t\t.completeOnTimeout(\r\n\t\t\t\t\t\ttimeout(), 10000, TimeUnit.MILLISECONDS);\r\n\t}\r\n\r\n\tprivate Void timeout() {\r\n\t\tSystem.out.println(&quot;timeout happens&quot;);\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n\r\nwhen I call the `startCompletableFutureExample()` method I have the following output:\r\n```\r\ntimeout happens\r\nasync operation\r\n```\r\nwhile I&#39;d expect to get the only one as timeout has not been even close:\r\n```\r\nasync operation\r\n```\r\nWhy do I have method `completeOnTimeout` to be run before `runAsync`? Am I doing something wrong?","title":"CompletableFuture runs out of order","body":"<p>I have the following code in Java (I use Oracle Java 17):</p>\n<pre><code>package com.test;\n\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.TimeUnit;\n\npublic class Solution {\n    public void startCompletableFutureExample() {\n        CompletableFuture.runAsync(() -&gt; {\n                    System.out.println(&quot;async operation&quot;);\n                })\n                .completeOnTimeout(\n                        timeout(), 10000, TimeUnit.MILLISECONDS);\n    }\n\n    private Void timeout() {\n        System.out.println(&quot;timeout happens&quot;);\n        return null;\n    }\n}\n</code></pre>\n<p>when I call the <code>startCompletableFutureExample()</code> method I have the following output:</p>\n<pre><code>timeout happens\nasync operation\n</code></pre>\n<p>while I'd expect to get the only one as timeout has not been even close:</p>\n<pre><code>async operation\n</code></pre>\n<p>Why do I have method <code>completeOnTimeout</code> to be run before <code>runAsync</code>? Am I doing something wrong?</p>\n"},{"tags":["java","android","audio","encode","m4a"],"answers":[{"comments":[{"owner":{"account_id":3273747,"reputation":20852,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1690914348,"post_id":76814060,"comment_id":135418532,"body_markdown":"&quot;*As stated by the documentation, MediaFormat.KEY_MAX_INPUT_SIZE is the maximum size of a buffer.*&quot; Source?","body":"&quot;<i>As stated by the documentation, MediaFormat.KEY_MAX_INPUT_SIZE is the maximum size of a buffer.</i>&quot; Source?"}],"tags":[],"owner":{"account_id":4453461,"reputation":3254,"user_id":3624545,"display_name":"Fedor Losev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692340059,"creation_date":1690911761,"answer_id":76814060,"question_id":72276268,"body_markdown":"As stated by the [documentation][1], MediaFormat.KEY_MAX_INPUT_SIZE is the maximum size of a buffer.\r\n\r\nA smaller buffer increases disk IO and other stream operations as it is flushed (for output) or read (for input) in smaller chunks and more frequently. Larger buffer decreases IO frequency but consumes more memory and may increase non-IO resources usage during larger transfers.\r\n\r\nRoughly, considerations are similar to these for BufferedInputStream/BufferedOutputStream size - usually, larger buffer = better performance, reduced IO, but with an increase of CPU or DMA usage at the time of transfer and longer/larger memory allocation (hence too big is not always good for a specific use case, there should be an optimal buffer/IO balance specific for the use case, data and the hardware). \r\n\r\nFor a media format, there are additional considerations, as too small buffer may trigger various bugs in the vendor/platform code (all this MediaXX framework is extremely buggy on many devices) or be too slow in the case of a live stream. Depending on the platform and usage case, the default may be inappropriate.\r\n\r\nThe most prominent difference the buffer size makes for video decoders, an inappropriate, too small buffer size for a large, complex video file (with the firmware default frequently being inappropriate for such a case) can result in an increase of IO operations by a magnitude of tens or even hundreds of thousands and decrease performance many folds and hog resources as well as trigger sporadic and very hard to track vendor bugs and failures.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/media/MediaFormat#KEY_MAX_INPUT_SIZE","title":"Setting MediaFormat.KEY_MAX_INPUT_SIZE","body":"<p>As stated by the <a href=\"https://developer.android.com/reference/android/media/MediaFormat#KEY_MAX_INPUT_SIZE\" rel=\"nofollow noreferrer\">documentation</a>, MediaFormat.KEY_MAX_INPUT_SIZE is the maximum size of a buffer.</p>\n<p>A smaller buffer increases disk IO and other stream operations as it is flushed (for output) or read (for input) in smaller chunks and more frequently. Larger buffer decreases IO frequency but consumes more memory and may increase non-IO resources usage during larger transfers.</p>\n<p>Roughly, considerations are similar to these for BufferedInputStream/BufferedOutputStream size - usually, larger buffer = better performance, reduced IO, but with an increase of CPU or DMA usage at the time of transfer and longer/larger memory allocation (hence too big is not always good for a specific use case, there should be an optimal buffer/IO balance specific for the use case, data and the hardware).</p>\n<p>For a media format, there are additional considerations, as too small buffer may trigger various bugs in the vendor/platform code (all this MediaXX framework is extremely buggy on many devices) or be too slow in the case of a live stream. Depending on the platform and usage case, the default may be inappropriate.</p>\n<p>The most prominent difference the buffer size makes for video decoders, an inappropriate, too small buffer size for a large, complex video file (with the firmware default frequently being inappropriate for such a case) can result in an increase of IO operations by a magnitude of tens or even hundreds of thousands and decrease performance many folds and hog resources as well as trigger sporadic and very hard to track vendor bugs and failures.</p>\n"}],"owner":{"account_id":1602625,"reputation":2339,"user_id":1483390,"accept_rate":52,"display_name":"Luis A. Florit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692340059,"creation_date":1652799393,"question_id":72276268,"body_markdown":"My app encodes a PCM file to a m4a file using MediaMuxer, MediaFormat, and MediaCodec.\r\nI read some code that sets things like this:\r\n\r\n    MediaFormat outputFormat = MediaFormat.createAudioFormat(&quot;audio/mp4a-latm&quot;, SampleRate, 1);\r\n    outputFormat.setInteger(MediaFormat.KEY_AAC_PROFILE, MediaCodecInfo.CodecProfileLevel.AACObjectLC);\r\n    outputFormat.setInteger(MediaFormat.KEY_BIT_RATE, 96000);\r\n    outputFormat.setInteger(MediaFormat.KEY_MAX_INPUT_SIZE, 16384);\r\n\r\nI searched for `MediaFormat.KEY_MAX_INPUT_SIZE`, but it is not clear to me why it is necessary to be set. I&#39;ve read that some Samsung devices crash without this, but I don&#39;t know if this is true.\r\n\r\nIs it necessary/good/advisable to set this? If so, to which value(s)?","title":"Setting MediaFormat.KEY_MAX_INPUT_SIZE","body":"<p>My app encodes a PCM file to a m4a file using MediaMuxer, MediaFormat, and MediaCodec.\nI read some code that sets things like this:</p>\n<pre><code>MediaFormat outputFormat = MediaFormat.createAudioFormat(&quot;audio/mp4a-latm&quot;, SampleRate, 1);\noutputFormat.setInteger(MediaFormat.KEY_AAC_PROFILE, MediaCodecInfo.CodecProfileLevel.AACObjectLC);\noutputFormat.setInteger(MediaFormat.KEY_BIT_RATE, 96000);\noutputFormat.setInteger(MediaFormat.KEY_MAX_INPUT_SIZE, 16384);\n</code></pre>\n<p>I searched for <code>MediaFormat.KEY_MAX_INPUT_SIZE</code>, but it is not clear to me why it is necessary to be set. I've read that some Samsung devices crash without this, but I don't know if this is true.</p>\n<p>Is it necessary/good/advisable to set this? If so, to which value(s)?</p>\n"},{"tags":["java","dependency-injection","guice","lombok"],"answers":[{"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692340150,"post_id":76926898,"comment_id":135612250,"body_markdown":"And in my opinion, that&#39;s a good thing. Lombok is great for boilerplate, but as soon as code is non-trivial, it&#39;s better to just write it out. And `onConstructor = @__(@Inject)` is getting close to that line already. Imagine adding more parameters on there.","body":"And in my opinion, that&#39;s a good thing. Lombok is great for boilerplate, but as soon as code is non-trivial, it&#39;s better to just write it out. And <code>onConstructor = @__(@Inject)</code> is getting close to that line already. Imagine adding more parameters on there."}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692340036,"creation_date":1692340036,"answer_id":76926898,"question_id":76925930,"body_markdown":"That&#39;s not a feature Lombok supports. [Here](https://projectlombok.org/features/constructor) is the full documentation of their `@*ArgsConstructor` annotation, and it doesn&#39;t mention annotations on parameters at all.\r\n\r\nYou&#39;ll have to write this constructor manually.","title":"Lombok inject named provider into arg constructor","body":"<p>That's not a feature Lombok supports. <a href=\"https://projectlombok.org/features/constructor\" rel=\"nofollow noreferrer\">Here</a> is the full documentation of their <code>@*ArgsConstructor</code> annotation, and it doesn't mention annotations on parameters at all.</p>\n<p>You'll have to write this constructor manually.</p>\n"}],"owner":{"account_id":12333263,"reputation":1,"user_id":8998415,"display_name":"ikmckenz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692340036,"creation_date":1692322037,"question_id":76925930,"body_markdown":"Using Lombok and Guice, I want to inject two different named providers from two different instances of calling code.\r\n\r\nSet up is currently:\r\n\r\n```\r\n@RequiredArgsConstructor(onConstructor = @__(@Inject))\r\nclass CallerA {\r\n    Strategy strategy;\r\n    public void run() {\r\n        // Do some things, and then\r\n        strategy.runMe();\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@RequiredArgsConstructor(onConstructor = @__(@Inject))\r\nclass Strategy {\r\n    Client client; // Client is an interface, I am adding a second implementation now\r\n    public void runMe() {\r\n        // Lots of logic that needs to run independent of client, and then\r\n        client.doThings();\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass ClientA implements Client {\r\n    @Builder\r\n    ClientA() {...}\r\n}\r\n```\r\n\r\nThen in the module:\r\n\r\n```\r\n@Provides\r\n@Named(&quot;ClientA&quot;) // I just added this name, it wasn&#39;t named before, previously there was only one implementation and so only one thing to inject = no need for Named\r\npublic Client providesClientA()\r\n```\r\n\r\nWhat I want is to add a named ClientB to the module, and have a CallerB which injects ClientB to it&#39;s strategy, before running it&#39;s strategy code.\r\n\r\n```\r\n@Provides\r\n@Named(&quot;ClientB&quot;) // I just added this name, it wasn&#39;t named before\r\npublic Client providesClientB()\r\n```\r\n\r\n```\r\n@SomeLombok/GuiceMagicAnnotation\r\nclass CallerB {\r\n    Strategy strategy; // But build/inject Strategy with ClientB named Provides\r\n    // ...\r\n}\r\n```\r\n\r\nI have tried messing around with various annotations and constructor patterns, but can&#39;t seem to figure out the right incantation to inject the correct client in the caller code.","title":"Lombok inject named provider into arg constructor","body":"<p>Using Lombok and Guice, I want to inject two different named providers from two different instances of calling code.</p>\n<p>Set up is currently:</p>\n<pre><code>@RequiredArgsConstructor(onConstructor = @__(@Inject))\nclass CallerA {\n    Strategy strategy;\n    public void run() {\n        // Do some things, and then\n        strategy.runMe();\n    }\n}\n</code></pre>\n<pre><code>@RequiredArgsConstructor(onConstructor = @__(@Inject))\nclass Strategy {\n    Client client; // Client is an interface, I am adding a second implementation now\n    public void runMe() {\n        // Lots of logic that needs to run independent of client, and then\n        client.doThings();\n    }\n}\n</code></pre>\n<pre><code>class ClientA implements Client {\n    @Builder\n    ClientA() {...}\n}\n</code></pre>\n<p>Then in the module:</p>\n<pre><code>@Provides\n@Named(&quot;ClientA&quot;) // I just added this name, it wasn't named before, previously there was only one implementation and so only one thing to inject = no need for Named\npublic Client providesClientA()\n</code></pre>\n<p>What I want is to add a named ClientB to the module, and have a CallerB which injects ClientB to it's strategy, before running it's strategy code.</p>\n<pre><code>@Provides\n@Named(&quot;ClientB&quot;) // I just added this name, it wasn't named before\npublic Client providesClientB()\n</code></pre>\n<pre><code>@SomeLombok/GuiceMagicAnnotation\nclass CallerB {\n    Strategy strategy; // But build/inject Strategy with ClientB named Provides\n    // ...\n}\n</code></pre>\n<p>I have tried messing around with various annotations and constructor patterns, but can't seem to figure out the right incantation to inject the correct client in the caller code.</p>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":8759114,"reputation":2085,"user_id":6549598,"accept_rate":75,"display_name":"nimi0112"},"score":0,"creation_date":1563177146,"post_id":57035360,"comment_id":100599162,"body_markdown":"What error are you getting?","body":"What error are you getting?"},{"owner":{"account_id":11153378,"reputation":31,"user_id":8185839,"display_name":"Viorii"},"score":0,"creation_date":1563177330,"post_id":57035360,"comment_id":100599253,"body_markdown":"Hi, there are no errors, but I am receiving null values when I try to place it in my recycler view.","body":"Hi, there are no errors, but I am receiving null values when I try to place it in my recycler view."}],"answers":[{"comments":[{"owner":{"account_id":14940437,"reputation":475,"user_id":10787285,"display_name":"Pooja"},"score":0,"creation_date":1692283094,"post_id":57035568,"comment_id":135604712,"body_markdown":"StackOverflow community should remove this answer because author of this answer has posted link to PAID article, not an answer. This is not the answer.","body":"StackOverflow community should remove this answer because author of this answer has posted link to PAID article, not an answer. This is not the answer."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1692339549,"creation_date":1563177834,"answer_id":57035568,"question_id":57035360,"body_markdown":"It looks like you are storing `OrderItems` objects within a single document. If you attach a listener on a particular object, the object that is returned is  of type [DocumentSnapshot][1]:\r\n\r\n&gt; A DocumentSnapshot contains data read from a document in your Firestore database. The data can be extracted with the getData() or get() methods.\r\n\r\nIf you intend to use [getData()](https://developers.google.com/android/reference/com/google/firebase/firestore/DocumentSnapshot.html#getData()), a `Map` object is returned, so you can simply iterate over it and get the desired data. But remember, you cannot get directly a list of `OrderItems` objects, you need to write code for that.\r\n\r\nI&#39;m not sure what you want to achieve, but in your case, a more appropriate solution would be to store those items as separate documents in a collection. In this way you can get all documents (OrderItems objects) within an order collection and display them in a `RecyclerView`, as explained in my answer from the following post:\r\n\r\n* https://stackoverflow.com/questions/49277797/how-to-display-data-from-firestore-in-a-recyclerview-with-android/49277842\r\n\r\n**Edit:**\r\n\r\nIf you need to map an array of custom objects into a list, please check the following article:\r\n\r\n* [How to map an array of objects from Cloud Firestore to a List of objects?](https://medium.com/firebase-tips-tricks/how-to-map-an-array-of-objects-from-cloud-firestore-to-a-list-of-objects-122e579eae10)\r\n\r\n\r\n  [1]: https://developers.google.com/android/reference/com/google/firebase/firestore/DocumentSnapshot","title":"Need help in retrieving hash map values from Firestore (Android)","body":"<p>It looks like you are storing <code>OrderItems</code> objects within a single document. If you attach a listener on a particular object, the object that is returned is  of type <a href=\"https://developers.google.com/android/reference/com/google/firebase/firestore/DocumentSnapshot\" rel=\"nofollow noreferrer\">DocumentSnapshot</a>:</p>\n<blockquote>\n<p>A DocumentSnapshot contains data read from a document in your Firestore database. The data can be extracted with the getData() or get() methods.</p>\n</blockquote>\n<p>If you intend to use <a href=\"https://developers.google.com/android/reference/com/google/firebase/firestore/DocumentSnapshot.html#getData()\" rel=\"nofollow noreferrer\">getData()</a>, a <code>Map</code> object is returned, so you can simply iterate over it and get the desired data. But remember, you cannot get directly a list of <code>OrderItems</code> objects, you need to write code for that.</p>\n<p>I'm not sure what you want to achieve, but in your case, a more appropriate solution would be to store those items as separate documents in a collection. In this way you can get all documents (OrderItems objects) within an order collection and display them in a <code>RecyclerView</code>, as explained in my answer from the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/49277797/how-to-display-data-from-firestore-in-a-recyclerview-with-android/49277842\">How to display data from Firestore in a RecyclerView with Android?</a></li>\n</ul>\n<p><strong>Edit:</strong></p>\n<p>If you need to map an array of custom objects into a list, please check the following article:</p>\n<ul>\n<li><a href=\"https://medium.com/firebase-tips-tricks/how-to-map-an-array-of-objects-from-cloud-firestore-to-a-list-of-objects-122e579eae10\" rel=\"nofollow noreferrer\">How to map an array of objects from Cloud Firestore to a List of objects?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14184067,"reputation":612,"user_id":10246652,"display_name":"Hritik Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1587556184,"creation_date":1587556184,"answer_id":61364415,"question_id":57035360,"body_markdown":"You need to cast your DocumentSnapshot to HashMap\r\n\r\n    db.collection(&quot;Deliveries&quot;).document(&quot;your_document_id&quot;).get()\r\n    .addOnSuccessListener {\r\n    val obj = it.get(&quot;Coconut&quot;) as HashMap&lt;*, *&gt;\r\n    Log.d(&quot;TAG&quot;,   it.get(&quot;Coconut&quot;).toString())\r\n    // This will print the whole map value\r\n    Log.d(&quot;TAG&quot;, obj.get(&quot;qty&quot;).toString())\r\n    }.addOnFailureListener {}","title":"Need help in retrieving hash map values from Firestore (Android)","body":"<p>You need to cast your DocumentSnapshot to HashMap</p>\n\n<pre><code>db.collection(\"Deliveries\").document(\"your_document_id\").get()\n.addOnSuccessListener {\nval obj = it.get(\"Coconut\") as HashMap&lt;*, *&gt;\nLog.d(\"TAG\",   it.get(\"Coconut\").toString())\n// This will print the whole map value\nLog.d(\"TAG\", obj.get(\"qty\").toString())\n}.addOnFailureListener {}\n</code></pre>\n"}],"owner":{"account_id":11153378,"reputation":31,"user_id":8185839,"display_name":"Viorii"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3396,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1692339549,"creation_date":1563176944,"question_id":57035360,"body_markdown":"I am having trouble retrieving hash map values from Firestore. I have no trouble in uploading the values, but I am having difficulty in retrieving them.\r\n![Here is my Firestore database.][1]\r\n\r\nHere are my constructors:\r\n```\r\npublic class OrderItems {\r\n    private String uid;\r\n    private String product;\r\n    private int qty;\r\n    private int price;\r\n    private int totalPrice;\r\n\r\n    public OrderItems(){\r\n\r\n    }\r\n\r\n    public OrderItems(String uid, String product, int qty, int price) {\r\n        this.uid = uid;\r\n        this.product = product;\r\n        this.qty = qty;\r\n        this.price = price;\r\n    }\r\n\r\n    public String getUid() {\r\n        return uid;\r\n    }\r\n\r\n    public String getProduct() {\r\n        return product;\r\n    }\r\n\r\n    public int getQty() {\r\n        return qty;\r\n    }\r\n\r\n    public int getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public int getTotalPrice() {\r\n        return qty * price;\r\n    }\r\n\r\n    public void setTotalPrice(int totalPrice) {\r\n        this.totalPrice = totalPrice;\r\n    }\r\n}\r\n```\r\nMy hash map constructor:\r\n```\r\npublic class OrderObject {\r\n\r\n    private HashMap&lt;String, OrderItems&gt; orders;\r\n\r\n    public OrderObject(){\r\n\r\n    }\r\n\r\n    public OrderObject(HashMap&lt;String, OrderItems&gt; orders) {\r\n        this.orders = orders;\r\n    }\r\n\r\n    public HashMap&lt;String, OrderItems&gt; getOrders() {\r\n        return orders;\r\n    }\r\n}\r\n```\r\nHow do I store the objects using a constructor through an array list? And how can I access the individual fields afterwards? Thank you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OLblQ.png\r\n ","title":"Need help in retrieving hash map values from Firestore (Android)","body":"<p>I am having trouble retrieving hash map values from Firestore. I have no trouble in uploading the values, but I am having difficulty in retrieving them.\n<img src=\"https://i.stack.imgur.com/OLblQ.png\" alt=\"Here is my Firestore database.\"></p>\n\n<p>Here are my constructors:</p>\n\n<pre><code>public class OrderItems {\n    private String uid;\n    private String product;\n    private int qty;\n    private int price;\n    private int totalPrice;\n\n    public OrderItems(){\n\n    }\n\n    public OrderItems(String uid, String product, int qty, int price) {\n        this.uid = uid;\n        this.product = product;\n        this.qty = qty;\n        this.price = price;\n    }\n\n    public String getUid() {\n        return uid;\n    }\n\n    public String getProduct() {\n        return product;\n    }\n\n    public int getQty() {\n        return qty;\n    }\n\n    public int getPrice() {\n        return price;\n    }\n\n    public int getTotalPrice() {\n        return qty * price;\n    }\n\n    public void setTotalPrice(int totalPrice) {\n        this.totalPrice = totalPrice;\n    }\n}\n</code></pre>\n\n<p>My hash map constructor:</p>\n\n<pre><code>public class OrderObject {\n\n    private HashMap&lt;String, OrderItems&gt; orders;\n\n    public OrderObject(){\n\n    }\n\n    public OrderObject(HashMap&lt;String, OrderItems&gt; orders) {\n        this.orders = orders;\n    }\n\n    public HashMap&lt;String, OrderItems&gt; getOrders() {\n        return orders;\n    }\n}\n</code></pre>\n\n<p>How do I store the objects using a constructor through an array list? And how can I access the individual fields afterwards? Thank you!</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1692324904,"post_id":76925174,"comment_id":135611044,"body_markdown":"Why do you need join table for one to one relationship? Because I generally do that for many to many","body":"Why do you need join table for one to one relationship? Because I generally do that for many to many"},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1692337035,"post_id":76925174,"comment_id":135611876,"body_markdown":"Okay. Since, it is one to one relationship, I though a separate table was not required.","body":"Okay. Since, it is one to one relationship, I though a separate table was not required."}],"answers":[{"comments":[{"owner":{"account_id":9442932,"reputation":2017,"user_id":7022735,"accept_rate":40,"display_name":"rvit34"},"score":0,"creation_date":1692337147,"post_id":76926362,"comment_id":135611887,"body_markdown":"Not sure how it helps. I do the same via factory methods.","body":"Not sure how it helps. I do the same via factory methods."},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1692337303,"post_id":76926362,"comment_id":135611906,"body_markdown":"When trying to save the version, this time the foreign key constraint won&#39;t fail because software entity id is already being set. If you also had done the same, then I wonder why the exception is occurring. It is working for me.","body":"When trying to save the version, this time the foreign key constraint won&#39;t fail because software entity id is already being set. If you also had done the same, then I wonder why the exception is occurring. It is working for me."}],"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692331190,"creation_date":1692331190,"answer_id":76926362,"question_id":76925174,"body_markdown":"You can explicitly set the ***software entity id*** and ***version entity id*** directly on the code itself:\r\n\r\n    @Id\r\n    private UUID id = UUID.randomUUID();\r\n\r\nAnd, you can save the software entity in this manner:\r\n\r\n    // Software entity id already set\r\n    SoftwareEntity softwareEntity = new SoftwareEntity();\r\n           \r\n    //version entity id already set\r\n    VersionEntity versionEntity = new VersionEntity();\r\n    //foreign key set\r\n    versionEntity.setSoftwareId(softwareEntity.getId());\r\n\r\n    softwareEntity.setCurrentVersion(versionEntity);\r\n    softwareEntityRepository.save(softwareEntity);\r\n\r\n","title":"Can&#39;t save parent-child with one-to-one relationship","body":"<p>You can explicitly set the <em><strong>software entity id</strong></em> and <em><strong>version entity id</strong></em> directly on the code itself:</p>\n<pre><code>@Id\nprivate UUID id = UUID.randomUUID();\n</code></pre>\n<p>And, you can save the software entity in this manner:</p>\n<pre><code>// Software entity id already set\nSoftwareEntity softwareEntity = new SoftwareEntity();\n       \n//version entity id already set\nVersionEntity versionEntity = new VersionEntity();\n//foreign key set\nversionEntity.setSoftwareId(softwareEntity.getId());\n\nsoftwareEntity.setCurrentVersion(versionEntity);\nsoftwareEntityRepository.save(softwareEntity);\n</code></pre>\n"}],"owner":{"account_id":9442932,"reputation":2017,"user_id":7022735,"accept_rate":40,"display_name":"rvit34"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692339312,"creation_date":1692306902,"question_id":76925174,"body_markdown":"Imagine, you have next entities:\r\n\r\n    @Entity(name = &quot;software&quot;)\r\n    @Table(name = &quot;software&quot;)\r\n    public class SoftwareEntity {\r\n    \r\n       @Id\r\n       UUID id;\r\n       String name;\r\n       String description;\r\n       // other properties\r\n     \r\n        @OneToOne(cascade = CascadeType.ALL)\r\n        @JoinTable(name = &quot;current_version&quot;,\r\n                        joinColumns = {@JoinColumn(name = &quot;sowtware_id&quot;)},\r\n                        inverseJoinColumns = {@JoinColumn(name = &quot;version_id&quot;)})\r\n    \r\n       VersionEntity currentVersion;\r\n    }\r\n    \r\n    @Entity(name = &quot;version&quot;)\r\n    @Table(name = &quot;version&quot;)\r\n    public class VersionEntity {\r\n    \r\n       @Id\r\n       @Column(&quot;version_id&quot;)\r\n       UUID versionId;\r\n    \r\n       @Column(&quot;software_id&quot;)\r\n       UUID softwareId;\r\n\r\n       // other properties\r\n    }\r\n\r\nIn Version entity, I don&#39;t like to hold the whole parent SoftwareEntity. I only need the identifier.\r\n\r\nIn database level I have next tables:\r\n\r\n    CREATE TABLE software {\r\n      id       UUID PRIMARY KEY,\r\n      name                    STRING,\r\n      description             STRING\r\n    }\r\n    \r\n    CREATE TABLE version {\r\n       version_id UUID PRIMARY KEY,\r\n       software_id UUID NOTNULL,\r\n    \r\n        FOREIGN KEY (software_id) REFERENCES software (id)\r\n    }\r\n    \r\n    CREATE TABLE current_version {\r\n         software_id       UUID NOT NULL UNIQUE,\r\n         version_id        UUID NOT NULL,\r\n    \r\n         PRIMARY KEY (software_id, version_id),\r\n    \r\n         FOREIGN KEY (software_id) REFERENCES software (id),\r\n         FOREIGN KEY (version_id) REFERENCES version (version_id)\r\n    }\r\n\r\nMy typical use case is the following:\r\n\r\n    var software = createNewSoftware();\r\n    var version = createNewVersion(software.id());\r\n    software.setCurrentVersion(version);\r\n    ...\r\n    softwareJpaRepository.save(software); // fails here\r\n\r\nWhen I do so, JPA is going to save version first but fails because new software entity is not saved yet and there is foreign key constraint in version table.\r\n(org.hibernate.exception.ConstraintViolationException)\r\n\r\nIf I disable cascade option in one-to-one relationship between software and version, JPA is seeking saving version first and also fails because such version is not yet saved. (javax.persistence.EntityNotFoundException)\r\n\r\nDoes anybody know how to fix it keeping the same/similar structure of entities and tables?\r\n","title":"Can&#39;t save parent-child with one-to-one relationship","body":"<p>Imagine, you have next entities:</p>\n<pre><code>@Entity(name = &quot;software&quot;)\n@Table(name = &quot;software&quot;)\npublic class SoftwareEntity {\n\n   @Id\n   UUID id;\n   String name;\n   String description;\n   // other properties\n \n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;current_version&quot;,\n                    joinColumns = {@JoinColumn(name = &quot;sowtware_id&quot;)},\n                    inverseJoinColumns = {@JoinColumn(name = &quot;version_id&quot;)})\n\n   VersionEntity currentVersion;\n}\n\n@Entity(name = &quot;version&quot;)\n@Table(name = &quot;version&quot;)\npublic class VersionEntity {\n\n   @Id\n   @Column(&quot;version_id&quot;)\n   UUID versionId;\n\n   @Column(&quot;software_id&quot;)\n   UUID softwareId;\n\n   // other properties\n}\n</code></pre>\n<p>In Version entity, I don't like to hold the whole parent SoftwareEntity. I only need the identifier.</p>\n<p>In database level I have next tables:</p>\n<pre><code>CREATE TABLE software {\n  id       UUID PRIMARY KEY,\n  name                    STRING,\n  description             STRING\n}\n\nCREATE TABLE version {\n   version_id UUID PRIMARY KEY,\n   software_id UUID NOTNULL,\n\n    FOREIGN KEY (software_id) REFERENCES software (id)\n}\n\nCREATE TABLE current_version {\n     software_id       UUID NOT NULL UNIQUE,\n     version_id        UUID NOT NULL,\n\n     PRIMARY KEY (software_id, version_id),\n\n     FOREIGN KEY (software_id) REFERENCES software (id),\n     FOREIGN KEY (version_id) REFERENCES version (version_id)\n}\n</code></pre>\n<p>My typical use case is the following:</p>\n<pre><code>var software = createNewSoftware();\nvar version = createNewVersion(software.id());\nsoftware.setCurrentVersion(version);\n...\nsoftwareJpaRepository.save(software); // fails here\n</code></pre>\n<p>When I do so, JPA is going to save version first but fails because new software entity is not saved yet and there is foreign key constraint in version table.\n(org.hibernate.exception.ConstraintViolationException)</p>\n<p>If I disable cascade option in one-to-one relationship between software and version, JPA is seeking saving version first and also fails because such version is not yet saved. (javax.persistence.EntityNotFoundException)</p>\n<p>Does anybody know how to fix it keeping the same/similar structure of entities and tables?</p>\n"},{"tags":["java","google-cloud-platform","gwt"],"answers":[{"comments":[{"owner":{"account_id":27654522,"reputation":11,"user_id":21108729,"display_name":"Nitin Kshirsagar"},"score":0,"creation_date":1692340289,"post_id":76926824,"comment_id":135612266,"body_markdown":"Thank you @Jorn for response i want to know one more thing currently we are deploying our application using google cloud tools from eclipse on google cloud is there any impact on this ?","body":"Thank you @Jorn for response i want to know one more thing currently we are deploying our application using google cloud tools from eclipse on google cloud is there any impact on this ?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692340531,"post_id":76926824,"comment_id":135612293,"body_markdown":"I don&#39;t see why there would be. But check the documentation for that plugin (I guess).","body":"I don&#39;t see why there would be. But check the documentation for that plugin (I guess)."},{"owner":{"account_id":27654522,"reputation":11,"user_id":21108729,"display_name":"Nitin Kshirsagar"},"score":0,"creation_date":1692340835,"post_id":76926824,"comment_id":135612331,"body_markdown":"okay thank you @Jorn","body":"okay thank you @Jorn"}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692339052,"creation_date":1692339052,"answer_id":76926824,"question_id":76926771,"body_markdown":"From [the documentation](https://cloud.google.com/java/docs/supported-java-versions):\r\n\r\n&gt; Java 8 will continue to be supported by Cloud Client Libraries for Java until at least September 2026.","title":"is it mandatory to migrate java 8 to java 11/17 on google cloud","body":"<p>From <a href=\"https://cloud.google.com/java/docs/supported-java-versions\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n<blockquote>\n<p>Java 8 will continue to be supported by Cloud Client Libraries for Java until at least September 2026.</p>\n</blockquote>\n"}],"owner":{"account_id":27654522,"reputation":11,"user_id":21108729,"display_name":"Nitin Kshirsagar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76926824,"answer_count":1,"score":-2,"last_activity_date":1692339052,"creation_date":1692338307,"question_id":76926771,"body_markdown":"Currently our project is on java 8 and we can deploy on google cloud using google cloud tools in eclipse.\r\n\r\nwe dont want to upgrade to java 11/17 it will any impact on our application ?\r\n \r\n if we dont migrate our application then our application will run on java 8 on google cloud lifetime ?\r\n\r\n and now currently using java 8 and eclipse google cloud tools we are deploying on google cloud it will support for lifetime ?\r\n\r\nplease help\r\n\r\nThanks in advance\r\n\r\n","title":"is it mandatory to migrate java 8 to java 11/17 on google cloud","body":"<p>Currently our project is on java 8 and we can deploy on google cloud using google cloud tools in eclipse.</p>\n<p>we dont want to upgrade to java 11/17 it will any impact on our application ?</p>\n<p>if we dont migrate our application then our application will run on java 8 on google cloud lifetime ?</p>\n<p>and now currently using java 8 and eclipse google cloud tools we are deploying on google cloud it will support for lifetime ?</p>\n<p>please help</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","jsp","spring-mvc","utf-8","character-encoding"],"comments":[{"owner":{"account_id":3149932,"reputation":2652,"user_id":2663579,"accept_rate":0,"display_name":"SachinSarawgi"},"score":0,"creation_date":1481543432,"post_id":41100189,"comment_id":69404502,"body_markdown":"It also says to edit server.xml file of Tomcat. Did you do that also??","body":"It also says to edit server.xml file of Tomcat. Did you do that also??"}],"answers":[{"tags":[],"owner":{"account_id":2020650,"reputation":1485,"user_id":1806914,"accept_rate":92,"display_name":"Utku Soyta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481544209,"creation_date":1481543684,"answer_id":41100319,"question_id":41100189,"body_markdown":"Try to add `URIEncoding = &quot;UTF-8&quot;` to `&lt;Connector &gt;` tag in server.xml under tomcat directory. Also if you are using Maven you can try to add this to `pom.xml`\r\n\r\n   \r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    ... \r\n    &lt;/properties&gt;","title":"Spring MVC UTF-8 Character Encoding","body":"<p>Try to add <code>URIEncoding = \"UTF-8\"</code> to <code>&lt;Connector &gt;</code> tag in server.xml under tomcat directory. Also if you are using Maven you can try to add this to <code>pom.xml</code></p>\n\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n... \n&lt;/properties&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2098938,"reputation":1532,"user_id":1867076,"accept_rate":100,"display_name":"Prometheus"},"score":0,"creation_date":1481545945,"post_id":41100802,"comment_id":69405977,"body_markdown":"How is this different from mine? What I mean is, I have this line in my **header.jsp** file, and I am implementing that **header.jsp** file to my all other **.jsp** files.","body":"How is this different from mine? What I mean is, I have this line in my <b>header.jsp</b> file, and I am implementing that <b>header.jsp</b> file to my all other <b>.jsp</b> files."},{"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"score":0,"creation_date":1481546378,"post_id":41100802,"comment_id":69406222,"body_markdown":"@Prometheus Du you have `pageEncoding` parameter?","body":"@Prometheus Du you have <code>pageEncoding</code> parameter?"},{"owner":{"account_id":2098938,"reputation":1532,"user_id":1867076,"accept_rate":100,"display_name":"Prometheus"},"score":0,"creation_date":1481546495,"post_id":41100802,"comment_id":69406283,"body_markdown":"Ah yes I don&#39;t have it. But I did add `pageEncoding` too now, and it didn&#39;t work. @dit","body":"Ah yes I don&#39;t have it. But I did add <code>pageEncoding</code> too now, and it didn&#39;t work. @dit"},{"owner":{"account_id":1178649,"reputation":5261,"user_id":1154065,"accept_rate":92,"display_name":"isah"},"score":1,"creation_date":1481546728,"post_id":41100802,"comment_id":69406412,"body_markdown":"@Prometheus If you have all of these and still the encoding is not working, it is well possible that what you&#39;re displaying(the text) is not actually UTF-8 encoded.","body":"@Prometheus If you have all of these and still the encoding is not working, it is well possible that what you&#39;re displaying(the text) is not actually UTF-8 encoded."}],"tags":[],"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481545192,"creation_date":1481545192,"answer_id":41100802,"question_id":41100189,"body_markdown":"**Every** jsp-file needs this line:\r\n\r\n    &lt;%@ page language=&quot;java&quot; pageEncoding=&quot;UTF-8&quot; contentType=&quot;text/html;charset=UTF-8&quot; %&gt;\r\n\r\nCheck also the encoding in your IDE.\r\n\r\n","title":"Spring MVC UTF-8 Character Encoding","body":"<p><strong>Every</strong> jsp-file needs this line:</p>\n\n<pre><code>&lt;%@ page language=\"java\" pageEncoding=\"UTF-8\" contentType=\"text/html;charset=UTF-8\" %&gt;\n</code></pre>\n\n<p>Check also the encoding in your IDE.</p>\n"},{"tags":[],"owner":{"account_id":6545324,"reputation":620,"user_id":5061516,"display_name":"Zafer Yilmaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1481546973,"creation_date":1481546403,"answer_id":41101164,"question_id":41100189,"body_markdown":"To set the encoding of all JSPs to UTF-8 add this snippet to web.xml:    \r\n\r\n    &lt;jsp-config&gt;\r\n        &lt;jsp-property-group&gt;\r\n            &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\r\n            &lt;page-encoding&gt;UTF-8&lt;/page-encoding&gt;\r\n        &lt;/jsp-property-group&gt;\r\n    &lt;/jsp-config&gt;\r\n\r\n\r\nsee here https://sorenpoulsen.com/utf-8-encoding-a-jsp-with-spring-mvc","title":"Spring MVC UTF-8 Character Encoding","body":"<p>To set the encoding of all JSPs to UTF-8 add this snippet to web.xml:    </p>\n\n<pre><code>&lt;jsp-config&gt;\n    &lt;jsp-property-group&gt;\n        &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\n        &lt;page-encoding&gt;UTF-8&lt;/page-encoding&gt;\n    &lt;/jsp-property-group&gt;\n&lt;/jsp-config&gt;\n</code></pre>\n\n<p>see here <a href=\"https://sorenpoulsen.com/utf-8-encoding-a-jsp-with-spring-mvc\" rel=\"nofollow noreferrer\">https://sorenpoulsen.com/utf-8-encoding-a-jsp-with-spring-mvc</a></p>\n"},{"tags":[],"owner":{"account_id":15936975,"reputation":1,"user_id":11499873,"display_name":"DoanTR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692337061,"creation_date":1692336287,"answer_id":76926632,"question_id":41100189,"body_markdown":"I just started studying Spring Boot 3.\r\nI use Spring boot create simple web app Spring MVC, to support JSP view page:\r\nadd this snippet to pom.xml :\r\n```\r\n&lt;dependencies&gt; \r\n        ... \r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;11.0.0-M4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        ....\r\n &lt;/dependencies&gt;  \r\n```\r\nand support UTF-8 Encoding: follow instructions of @alex  above. You seen &lt;https://stackoverflow.com/search?q=user%3A1614378+Every+jsp-file+needs+this+line%3A&gt;\r\n\r\n\r\n&gt; Every jsp-file needs this line:\r\n&gt; \r\n&gt; &lt;%@ page language=&quot;java&quot; pageEncoding=&quot;UTF-8&quot;\r\n&gt; contentType=&quot;text/html;charset=UTF-8&quot; %&gt;\r\n\r\n","title":"Spring MVC UTF-8 Character Encoding","body":"<p>I just started studying Spring Boot 3.\nI use Spring boot create simple web app Spring MVC, to support JSP view page:\nadd this snippet to pom.xml :</p>\n<pre><code>&lt;dependencies&gt; \n        ... \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;version&gt;11.0.0-M4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        ....\n &lt;/dependencies&gt;  \n</code></pre>\n<p>and support UTF-8 Encoding: follow instructions of @alex  above. You seen <a href=\"https://stackoverflow.com/search?q=user%3A1614378+Every+jsp-file+needs+this+line%3A\">https://stackoverflow.com/search?q=user%3A1614378+Every+jsp-file+needs+this+line%3A</a></p>\n<blockquote>\n<p>Every jsp-file needs this line:</p>\n<p>&lt;%@ page language=&quot;java&quot; pageEncoding=&quot;UTF-8&quot;\ncontentType=&quot;text/html;charset=UTF-8&quot; %&gt;</p>\n</blockquote>\n"}],"owner":{"account_id":2098938,"reputation":1532,"user_id":1867076,"accept_rate":100,"display_name":"Prometheus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7111,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":41101164,"answer_count":4,"score":3,"last_activity_date":1692337061,"creation_date":1481543279,"question_id":41100189,"body_markdown":"At the moment, I&#39;m trying to develop a website by using **Spring MVC**. But there is a problem in my *views*, that we can name it as character problem. I want to display **UTF-8** characters in my **JSP view pages**.\r\n\r\nIn view pages, I&#39;ve seperated my *headers*, *footers* and *bodies* in my JSP files, and I am implementing my headers and footers into my bodies. (in case to be an important thing to say).\r\n\r\nHere is my **header** intro:\r\n\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n    &lt;%@ taglib prefix=&quot;spring&quot; uri=&quot;http://www.springframework.org/tags&quot; %&gt;\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    \r\n    &lt;!--[if lt IE 7]&gt; &lt;html dir=&quot;ltr&quot; lang=&quot;en-US&quot; class=&quot;no-js lt-ie9 lt-ie8 lt-ie7&quot; &gt; &lt;![endif]--&gt;\r\n    &lt;!--[if IE 7]&gt;    &lt;html dir=&quot;ltr&quot; lang=&quot;en-US&quot; class=&quot;no-js ie7 lt-ie9 lt-ie8&quot;&gt; &lt;![endif]--&gt;\r\n    &lt;!--[if IE 8]&gt;    &lt;html dir=&quot;ltr&quot; lang=&quot;en-US&quot; class=&quot;no-js ie8 lt-ie9&quot;&gt; &lt;![endif]--&gt;\r\n    &lt;!--[if gt IE 8]&gt;&lt;!--&gt;\r\n    &lt;html dir=&quot;ltr&quot; lang=&quot;en-US&quot; class=&quot;no-js&quot;&gt;\r\n    &lt;!--&lt;![endif]--&gt;\r\n    \r\n    &lt;head&gt;\r\n        &lt;!-- Basic Page Needs\r\n      ================================================== --&gt;\r\n        &lt;meta charset=&quot;latin5&quot;&gt;\r\n        &lt;title&gt;orcunyilmaz.com&lt;/title&gt;\r\n        &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;\r\n        &lt;meta name=&quot;author&quot; content=&quot;&quot;&gt;\r\n        &lt;!-- Mobile Specific Metas\r\n      ================================================== --&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, maximum-scale=1&quot;&gt;\r\n        &lt;script src=&quot;http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;&lt;c:url value=&quot;/resources/js/galleria-1.4.2.min.js&quot;/&gt; &quot;&gt;&lt;/script&gt;\r\n        &lt;style&gt;\r\n            .galleria {\r\n                width: 600px;\r\n                height: 300px;\r\n                background: #000;\r\n            }\r\n        &lt;/style&gt;\r\n        &lt;!-- CSS\r\n      ================================================== --&gt;\r\n        &lt;link href=&#39;http://fonts.googleapis.com/css?family=Oswald&#39; rel=&#39;stylesheet&#39; type=&#39;text/css&#39;&gt;\r\n        &lt;link href=&quot;&lt;c:url value=&quot;/resources/css/foundation.css&quot;/&gt;&quot; rel=&quot;stylesheet&quot;&gt;\r\n        &lt;link href=&quot;&lt;c:url value=&quot;/resources/css/foundation-icons.css&quot;/&gt;&quot; rel=&quot;stylesheet&quot;&gt;\r\n        &lt;link href=&quot;&lt;c:url value=&quot;/resources/css/flexslider.css&quot;/&gt;&quot; rel=&quot;stylesheet&quot;&gt;\r\n        &lt;link href=&quot;&lt;c:url value=&quot;/resources/css/style.css&quot;/&gt;&quot; rel=&quot;stylesheet&quot;&gt;\r\n        &lt;link href=&quot;&lt;c:url value=&quot;/resources/css/mediaqueries.css&quot;/&gt;&quot; rel=&quot;stylesheet&quot;&gt;\r\n        &lt;link href=&quot;&lt;c:url value=&quot;/resources/colors/default.css&quot;/&gt;&quot; rel=&quot;stylesheet&quot;&gt;...\r\n\r\n\r\nAnd here is my home.jsp intro:\r\n\r\n    &lt;%@taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\r\n    &lt;%@ taglib prefix=&quot;spring&quot; uri=&quot;http://www.springframework.org/tags&quot; %&gt;\r\n    &lt;%@include file=&quot;/WEB-INF/views/template/header.jsp&quot; %&gt;\r\n\r\n    &lt;div id=&quot;page&quot;&gt;\r\n    &lt;div id=&quot;main&quot;&gt;\r\n        &lt;div class=&quot;row search-bar&quot;&gt;\r\n            &lt;div class=&quot;three columns&quot;&gt;&lt;/div&gt;\r\n            &lt;aside class=&quot;widget widget_search six columns&quot;&gt;\r\n                &lt;form action=&quot;/&quot; class=&quot;searchform&quot; method=&quot;get&quot; role=&quot;search&quot;&gt;\r\n                    &lt;input size=&quot;27&quot; type=&quot;text&quot; title=&quot;Ara..&quot; class=&quot;s&quot; name=&quot;s&quot;&gt; &lt;/form&gt;\r\n            &lt;/aside&gt;\r\n            &lt;div class=&quot;three columns&quot;&gt;&lt;/div&gt;...\r\n\r\n(If whole of the code is needed, I can paste it here)\r\nI&#39;ve found an answer in this post: https://stackoverflow.com/questions/5928046/spring-mvc-utf-8-encoding\r\n\r\nThat says I need to implement some filters into my **web.xml**, but it didn&#39;t work either. Here is the filter that I&#39;ve implemented to my **web.xml**:\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;encoding&lt;/param-name&gt;\r\n            &lt;param-value&gt;UTF-8&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\r\n            &lt;param-value&gt;true&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\nHere is the sctreenshot of a part:\r\n\r\n\r\n\r\n[![In conclusion, here is the screenshot of broken chars][1]][1]\r\n\r\nI need it to be seen as: **lan Tarihi** &amp; **lan No**. So any help will be greatly appreciated, thanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G7KAd.png","title":"Spring MVC UTF-8 Character Encoding","body":"<p>At the moment, I'm trying to develop a website by using <strong>Spring MVC</strong>. But there is a problem in my <em>views</em>, that we can name it as character problem. I want to display <strong>UTF-8</strong> characters in my <strong>JSP view pages</strong>.</p>\n\n<p>In view pages, I've seperated my <em>headers</em>, <em>footers</em> and <em>bodies</em> in my JSP files, and I am implementing my headers and footers into my bodies. (in case to be an important thing to say).</p>\n\n<p>Here is my <strong>header</strong> intro:</p>\n\n<pre><code>&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n&lt;%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %&gt;\n&lt;%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %&gt;\n\n&lt;!--[if lt IE 7]&gt; &lt;html dir=\"ltr\" lang=\"en-US\" class=\"no-js lt-ie9 lt-ie8 lt-ie7\" &gt; &lt;![endif]--&gt;\n&lt;!--[if IE 7]&gt;    &lt;html dir=\"ltr\" lang=\"en-US\" class=\"no-js ie7 lt-ie9 lt-ie8\"&gt; &lt;![endif]--&gt;\n&lt;!--[if IE 8]&gt;    &lt;html dir=\"ltr\" lang=\"en-US\" class=\"no-js ie8 lt-ie9\"&gt; &lt;![endif]--&gt;\n&lt;!--[if gt IE 8]&gt;&lt;!--&gt;\n&lt;html dir=\"ltr\" lang=\"en-US\" class=\"no-js\"&gt;\n&lt;!--&lt;![endif]--&gt;\n\n&lt;head&gt;\n    &lt;!-- Basic Page Needs\n  ================================================== --&gt;\n    &lt;meta charset=\"latin5\"&gt;\n    &lt;title&gt;orcunyilmaz.com&lt;/title&gt;\n    &lt;meta name=\"description\" content=\"\"&gt;\n    &lt;meta name=\"author\" content=\"\"&gt;\n    &lt;!-- Mobile Specific Metas\n  ================================================== --&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\"&gt;\n    &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"&lt;c:url value=\"/resources/js/galleria-1.4.2.min.js\"/&gt; \"&gt;&lt;/script&gt;\n    &lt;style&gt;\n        .galleria {\n            width: 600px;\n            height: 300px;\n            background: #000;\n        }\n    &lt;/style&gt;\n    &lt;!-- CSS\n  ================================================== --&gt;\n    &lt;link href='http://fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'&gt;\n    &lt;link href=\"&lt;c:url value=\"/resources/css/foundation.css\"/&gt;\" rel=\"stylesheet\"&gt;\n    &lt;link href=\"&lt;c:url value=\"/resources/css/foundation-icons.css\"/&gt;\" rel=\"stylesheet\"&gt;\n    &lt;link href=\"&lt;c:url value=\"/resources/css/flexslider.css\"/&gt;\" rel=\"stylesheet\"&gt;\n    &lt;link href=\"&lt;c:url value=\"/resources/css/style.css\"/&gt;\" rel=\"stylesheet\"&gt;\n    &lt;link href=\"&lt;c:url value=\"/resources/css/mediaqueries.css\"/&gt;\" rel=\"stylesheet\"&gt;\n    &lt;link href=\"&lt;c:url value=\"/resources/colors/default.css\"/&gt;\" rel=\"stylesheet\"&gt;...\n</code></pre>\n\n<p>And here is my home.jsp intro:</p>\n\n<pre><code>&lt;%@taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %&gt;\n&lt;%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %&gt;\n&lt;%@include file=\"/WEB-INF/views/template/header.jsp\" %&gt;\n\n&lt;div id=\"page\"&gt;\n&lt;div id=\"main\"&gt;\n    &lt;div class=\"row search-bar\"&gt;\n        &lt;div class=\"three columns\"&gt;&lt;/div&gt;\n        &lt;aside class=\"widget widget_search six columns\"&gt;\n            &lt;form action=\"/\" class=\"searchform\" method=\"get\" role=\"search\"&gt;\n                &lt;input size=\"27\" type=\"text\" title=\"Ara..\" class=\"s\" name=\"s\"&gt; &lt;/form&gt;\n        &lt;/aside&gt;\n        &lt;div class=\"three columns\"&gt;&lt;/div&gt;...\n</code></pre>\n\n<p>(If whole of the code is needed, I can paste it here)\nI've found an answer in this post: <a href=\"https://stackoverflow.com/questions/5928046/spring-mvc-utf-8-encoding\">Spring MVC UTF-8 Encoding</a></p>\n\n<p>That says I need to implement some filters into my <strong>web.xml</strong>, but it didn't work either. Here is the filter that I've implemented to my <strong>web.xml</strong>:</p>\n\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;encoding&lt;/param-name&gt;\n        &lt;param-value&gt;UTF-8&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>Here is the sctreenshot of a part:</p>\n\n<p><a href=\"https://i.stack.imgur.com/G7KAd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G7KAd.png\" alt=\"In conclusion, here is the screenshot of broken chars\"></a></p>\n\n<p>I need it to be seen as: <strong>lan Tarihi</strong> &amp; <strong>lan No</strong>. So any help will be greatly appreciated, thanks in advance.</p>\n"},{"tags":["java","xml","eclipse","maven"],"comments":[{"owner":{"account_id":1742696,"reputation":3996,"user_id":1593654,"accept_rate":94,"display_name":"Wouter"},"score":0,"creation_date":1383893004,"post_id":19852950,"comment_id":29526075,"body_markdown":"Please tell us what command you are running and what the output on the console is.","body":"Please tell us what command you are running and what the output on the console is."},{"owner":{"account_id":4910,"reputation":9204,"user_id":7616,"accept_rate":75,"display_name":"shyam"},"score":0,"creation_date":1383893300,"post_id":19852950,"comment_id":29526186,"body_markdown":"In the run configuration specify the goal as `install`","body":"In the run configuration specify the goal as <code>install</code>"}],"answers":[{"tags":[],"owner":{"account_id":1742696,"reputation":3996,"user_id":1593654,"accept_rate":94,"display_name":"Wouter"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1383899079,"creation_date":1383899079,"answer_id":19854509,"question_id":19852950,"body_markdown":"You should always give an argument to your maven command. Normally this is one of the lifecycles. For example:\r\n\r\n    mvn package\r\n\r\nPackage will create jars, wars, ears etc.\r\n\r\nFor more phases and their meaning, see: http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html","title":"specifying goal in pom.xml","body":"<p>You should always give an argument to your maven command. Normally this is one of the lifecycles. For example:</p>\n\n<pre><code>mvn package\n</code></pre>\n\n<p>Package will create jars, wars, ears etc.</p>\n\n<p>For more phases and their meaning, see: <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\">http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html</a></p>\n"},{"comments":[{"owner":{"account_id":92537,"reputation":6275,"user_id":253575,"accept_rate":83,"display_name":"IcedDante"},"score":1,"creation_date":1434396754,"post_id":21578290,"comment_id":49750337,"body_markdown":"This did work for me, but the error message and its fix seem so vague and unncessary","body":"This did work for me, but the error message and its fix seem so vague and unncessary"},{"owner":{"account_id":3112142,"reputation":474,"user_id":2633702,"display_name":"srinivas"},"score":1,"creation_date":1458799884,"post_id":21578290,"comment_id":60022415,"body_markdown":"How to add the goal in pom.xml  to make it available in &quot;Run as&quot; option of eclipse. \nex : to make a validate goal available(Maven validate).","body":"How to add the goal in pom.xml  to make it available in &quot;Run as&quot; option of eclipse.  ex : to make a validate goal available(Maven validate)."},{"owner":{"account_id":1671184,"reputation":918,"user_id":1537634,"display_name":"Narendra Rabari"},"score":0,"creation_date":1459259388,"post_id":21578290,"comment_id":60198286,"body_markdown":"Good question. I can not see option at this moment But i will check it and comment it here. Thanks","body":"Good question. I can not see option at this moment But i will check it and comment it here. Thanks"},{"owner":{"account_id":15210721,"reputation":161,"user_id":10975638,"display_name":"Tes"},"score":0,"creation_date":1598203653,"post_id":21578290,"comment_id":112374762,"body_markdown":"What to enter in the &quot;Profiles&quot; text field?","body":"What to enter in the &quot;Profiles&quot; text field?"}],"tags":[],"owner":{"account_id":1671184,"reputation":918,"user_id":1537634,"display_name":"Narendra Rabari"},"comment_count":4,"down_vote_count":1,"up_vote_count":87,"is_accepted":false,"score":86,"last_activity_date":1391605850,"creation_date":1391605850,"answer_id":21578290,"question_id":19852950,"body_markdown":"The error message which you specified is nothing but you are not specifying goal for maven build.\r\n\r\nyou can specify any goal in your run configuration for maven build like clear, compile, install, package.\r\n\r\nplease following below step to resolve it.\r\n\r\n1. right click on your project.\r\n2. click &#39;Run as&#39; and select &#39;Maven Build&#39;\r\n3. edit Configuration window will open. write any goal but your problem specific write &#39;package&#39; in Goal text box.\r\n4. click on &#39;Run&#39;","title":"specifying goal in pom.xml","body":"<p>The error message which you specified is nothing but you are not specifying goal for maven build.</p>\n\n<p>you can specify any goal in your run configuration for maven build like clear, compile, install, package.</p>\n\n<p>please following below step to resolve it.</p>\n\n<ol>\n<li>right click on your project.</li>\n<li>click 'Run as' and select 'Maven Build'</li>\n<li>edit Configuration window will open. write any goal but your problem specific write 'package' in Goal text box.</li>\n<li>click on 'Run'</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3557056,"reputation":1946,"user_id":2970553,"display_name":"Vahap Gencdal"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1407177294,"creation_date":1407177294,"answer_id":25125290,"question_id":19852950,"body_markdown":"**1**.right click on your project.&lt;br&gt;\r\n**2**.click &#39;Run as&#39; and select &#39;Maven Build&#39;&lt;br&gt;\r\n**3**. edit Configuration window will open. write any goal but your problem specific write &#39;package&#39; in Goal &lt;br&gt;\r\n**4** user settings: show your maven-&gt;directory-&gt;conf-&gt;settings.xml \r\nfor example;  C:\\maven\\conf\\settings.xml\r\n","title":"specifying goal in pom.xml","body":"<p><strong>1</strong>.right click on your project.<br>\n<strong>2</strong>.click 'Run as' and select 'Maven Build'<br>\n<strong>3</strong>. edit Configuration window will open. write any goal but your problem specific write 'package' in Goal <br>\n<strong>4</strong> user settings: show your maven->directory->conf->settings.xml \nfor example;  C:\\maven\\conf\\settings.xml</p>\n"},{"comments":[{"owner":{"account_id":983770,"reputation":5056,"user_id":1002790,"accept_rate":76,"display_name":"Salih Erikci"},"score":0,"creation_date":1583758905,"post_id":40590110,"comment_id":107212924,"body_markdown":"Excellent answer.","body":"Excellent answer."},{"owner":{"account_id":10296808,"reputation":695,"user_id":7596696,"accept_rate":78,"display_name":"Iqra."},"score":0,"creation_date":1596414404,"post_id":40590110,"comment_id":111795969,"body_markdown":"But what if I want to debug to hit the breakpoints?","body":"But what if I want to debug to hit the breakpoints?"}],"tags":[],"owner":{"account_id":5417072,"reputation":51,"user_id":4311938,"display_name":"timy kurian"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1479158097,"creation_date":1479130840,"answer_id":40590110,"question_id":19852950,"body_markdown":" 1. Go to Terminal \r\n 2. Do `mvn clean install`","title":"specifying goal in pom.xml","body":"<ol>\n<li>Go to Terminal </li>\n<li>Do <code>mvn clean install</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3381550,"reputation":1165,"user_id":2838491,"accept_rate":29,"display_name":"joao cenoura"},"comment_count":0,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1480941973,"creation_date":1480941973,"answer_id":40974605,"question_id":19852950,"body_markdown":"I&#39;ve bumped into this question because I actually wanted to define a default goal in pom.xml. You can define a default goal under build:\r\n\r\n\t&lt;build&gt;\r\n        &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\r\n    ...\r\n    &lt;/build&gt;\r\n\r\nAfter that change, you can then simply run `mvn` which will do exactly the same as `mvn install`.\r\n\r\nNote: I don&#39;t favor this as a default approach. My use case was to define a profile that downloaded a previous version of that project from Artifactory and wanted to tie that profile to a given phase. For convenience, I can run `mvn -Pdownload-jar -Dversion=0.0.9` and don&#39;t need to specify a goal/phase there. I think it&#39;s reasonable to define a `defaultGoal` in a profile which has a very specific function for a particular phase. ","title":"specifying goal in pom.xml","body":"<p>I've bumped into this question because I actually wanted to define a default goal in pom.xml. You can define a default goal under build:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\n...\n&lt;/build&gt;\n</code></pre>\n\n<p>After that change, you can then simply run <code>mvn</code> which will do exactly the same as <code>mvn install</code>.</p>\n\n<p>Note: I don't favor this as a default approach. My use case was to define a profile that downloaded a previous version of that project from Artifactory and wanted to tie that profile to a given phase. For convenience, I can run <code>mvn -Pdownload-jar -Dversion=0.0.9</code> and don't need to specify a goal/phase there. I think it's reasonable to define a <code>defaultGoal</code> in a profile which has a very specific function for a particular phase. </p>\n"},{"tags":[],"owner":{"account_id":11156848,"reputation":546,"user_id":8188304,"display_name":"Sidharth Taneja"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1540586098,"creation_date":1540586098,"answer_id":53015996,"question_id":19852950,"body_markdown":"Add the goal like -\r\n\r\n     &lt;build&gt;\r\n            &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\r\n            &lt;!-- Source directory configuration --&gt;\r\n            &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n    &lt;/build&gt;\r\n\r\nThis will solve the issue","title":"specifying goal in pom.xml","body":"<p>Add the goal like -</p>\n\n<pre><code> &lt;build&gt;\n        &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\n        &lt;!-- Source directory configuration --&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>This will solve the issue</p>\n"},{"tags":[],"owner":{"account_id":13706902,"reputation":36,"user_id":9890227,"display_name":"Sagar Tripathi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552723847,"creation_date":1552711918,"answer_id":55193553,"question_id":19852950,"body_markdown":"I am facing same Issue after run my build.\r\n\r\nThe error message tell us to specify your goal\r\n\r\n![Jenkins Issue related to goal for build][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YetsW.png\r\n\r\nSo I specify the goal Ex:-test.\r\n\r\nNow It&#39;s running fine\r\n","title":"specifying goal in pom.xml","body":"<p>I am facing same Issue after run my build.</p>\n\n<p>The error message tell us to specify your goal</p>\n\n<p><img src=\"https://i.stack.imgur.com/YetsW.png\" alt=\"Jenkins Issue related to goal for build\"></p>\n\n<p>So I specify the goal Ex:-test.</p>\n\n<p>Now It's running fine</p>\n"},{"tags":[],"owner":{"account_id":9831922,"reputation":11,"user_id":7283329,"display_name":"Shaked dounel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558531920,"creation_date":1558530670,"answer_id":56257636,"question_id":19852950,"body_markdown":"I stumbled upon this exception, and found out that I forgot to add a Main.  \r\nCheck out if you have `public static void main(String[] args)` correctly.\r\n\r\nGood luck!","title":"specifying goal in pom.xml","body":"<p>I stumbled upon this exception, and found out that I forgot to add a Main.<br>\nCheck out if you have <code>public static void main(String[] args)</code> correctly.</p>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":13753246,"reputation":11,"user_id":9924846,"display_name":"Sarvjeets"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692310127,"creation_date":1560947680,"answer_id":56667761,"question_id":19852950,"body_markdown":"You need to set the path of maven under Global setting \r\nlike \r\n\r\n    MAVEN_HOME\r\n\r\n    /user/share/maven\r\n\r\nand make sure the workbench have permission of read, write and delete\r\n&quot;777&quot;","title":"specifying goal in pom.xml","body":"<p>You need to set the path of maven under Global setting\nlike</p>\n<pre><code>MAVEN_HOME\n\n/user/share/maven\n</code></pre>\n<p>and make sure the workbench have permission of read, write and delete\n&quot;777&quot;</p>\n"},{"tags":[],"owner":{"account_id":2914032,"reputation":1876,"user_id":2497650,"accept_rate":54,"display_name":"Natus Drew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590185815,"creation_date":1590185815,"answer_id":61964689,"question_id":19852950,"body_markdown":"I ran into this when trying to run spring boot from the command line...\r\n\r\n```mvn spring-boot:run```\r\n\r\nI accidentally mis-typed the command as...\r\n\r\n```mvn spring-boot run```\r\n\r\nSo it was looking for the commands... run, build etc...","title":"specifying goal in pom.xml","body":"<p>I ran into this when trying to run spring boot from the command line...</p>\n\n<p><code>mvn spring-boot:run</code></p>\n\n<p>I accidentally mis-typed the command as...</p>\n\n<p><code>mvn spring-boot run</code></p>\n\n<p>So it was looking for the commands... run, build etc...</p>\n"},{"tags":[],"owner":{"account_id":8287385,"reputation":156,"user_id":6230110,"display_name":"alexis_dia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636635063,"creation_date":1636635063,"answer_id":69928604,"question_id":19852950,"body_markdown":"I&#39;ve faced with this error message and solution was pretty simple. It was just fixed by specifying a working directory at my IntelijIdea configuration and specifying a goal as the paramameter opposite &#39;Command-line param&#39;.","title":"specifying goal in pom.xml","body":"<p>I've faced with this error message and solution was pretty simple. It was just fixed by specifying a working directory at my IntelijIdea configuration and specifying a goal as the paramameter opposite 'Command-line param'.</p>\n"},{"tags":[],"owner":{"account_id":7006083,"reputation":11,"user_id":5370411,"display_name":"Anshul Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659450417,"creation_date":1659450417,"answer_id":73209260,"question_id":19852950,"body_markdown":"just add the below lines to your pom.xml\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;defaultGoal&gt;package&lt;/defaultGoal&gt;\r\n    &lt;/build&gt;","title":"specifying goal in pom.xml","body":"<p>just add the below lines to your pom.xml</p>\n<pre><code>&lt;build&gt;\n    &lt;defaultGoal&gt;package&lt;/defaultGoal&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339099,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"answer_count":12,"score":66,"last_activity_date":1692336769,"creation_date":1383892339,"question_id":19852950,"body_markdown":"I am creating a new maven project with `pom.xml` as below:-\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;firstRestlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;restlet1&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;restlet1&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;repositories&gt;\r\n    &lt;repository&gt;\r\n       &lt;id&gt;maven-restlet&lt;/id&gt;\r\n       &lt;name&gt;Public online Restlet repository&lt;/name&gt;\r\n       &lt;url&gt;http://maven.restlet.org&lt;/url&gt;\r\n    &lt;/repository&gt; \r\n    &lt;/repositories&gt;\r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nThe problem which i am facing is that target war file is not getting generated.\r\nOn eclipse console after i ran this `pom.xml` what i found was goals missing in `pom.xml`.\r\n\r\n**ECLIPSE CONSOLE MESSAGE:** \r\n\r\n    No goals have been specified for this build. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy. -&gt; [Help 1]\r\n    [ERROR] \r\n\r\nPlease tell me how to specify goals in `pom.xml`.\r\n\r\nAlso tell me how to create RESTLET project using maven as build tool.\r\n\r\nThanks &amp; Regards,","title":"specifying goal in pom.xml","body":"<p>I am creating a new maven project with <code>pom.xml</code> as below:-</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;firstRestlet&lt;/groupId&gt;\n  &lt;artifactId&gt;restlet1&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;name&gt;restlet1&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;repositories&gt;\n&lt;repository&gt;\n   &lt;id&gt;maven-restlet&lt;/id&gt;\n   &lt;name&gt;Public online Restlet repository&lt;/name&gt;\n   &lt;url&gt;http://maven.restlet.org&lt;/url&gt;\n&lt;/repository&gt; \n&lt;/repositories&gt;\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>The problem which i am facing is that target war file is not getting generated.\nOn eclipse console after i ran this <code>pom.xml</code> what i found was goals missing in <code>pom.xml</code>.</p>\n\n<p><strong>ECLIPSE CONSOLE MESSAGE:</strong> </p>\n\n<pre><code>No goals have been specified for this build. You must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-clean, clean, post-clean, pre-site, site, post-site, site-deploy. -&gt; [Help 1]\n[ERROR] \n</code></pre>\n\n<p>Please tell me how to specify goals in <code>pom.xml</code>.</p>\n\n<p>Also tell me how to create RESTLET project using maven as build tool.</p>\n\n<p>Thanks &amp; Regards,</p>\n"},{"tags":["java","maven","artifactory"],"comments":[{"owner":{"account_id":13695852,"reputation":164,"user_id":21577837,"display_name":"Berkay Kaplan"},"score":0,"creation_date":1692336430,"post_id":76926618,"comment_id":135611823,"body_markdown":"If you can run code on the Artifactory server, you can write a script to examine the dependency. I can&#39;t think of another way without downloading it.","body":"If you can run code on the Artifactory server, you can write a script to examine the dependency. I can&#39;t think of another way without downloading it."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1692336492,"post_id":76926618,"comment_id":135611830,"body_markdown":"Simple answer: No possbile. Reasons: A dependency which is written for JDK 8 could be used in JDK11+ but there could be dependencies which are multi release jars which could be used for JDK 8+ etc. and even JDK6 based deps coult be used in higher versions of Java... only verifiable via using it...","body":"Simple answer: No possbile. Reasons: A dependency which is written for JDK 8 could be used in JDK11+ but there could be dependencies which are multi release jars which could be used for JDK 8+ etc. and even JDK6 based deps coult be used in higher versions of Java... only verifiable via using it..."}],"answers":[{"tags":[],"owner":{"account_id":17106016,"reputation":460,"user_id":12378094,"display_name":"Yuvarajan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692336530,"creation_date":1692336530,"answer_id":76926646,"question_id":76926618,"body_markdown":"[File Listing][1], against the respective Maven repository would help to achieve this requirement. You may also prefer using JFrog CLI with AQL, with the example I have shared [here][2].\r\n\r\n\r\n  [1]: https://jfrog.com/help/r/jfrog-rest-apis/file-list\r\n  [2]: https://stackoverflow.com/a/73237422/12378094","title":"Find the target java version for a dependency","body":"<p><a href=\"https://jfrog.com/help/r/jfrog-rest-apis/file-list\" rel=\"nofollow noreferrer\">File Listing</a>, against the respective Maven repository would help to achieve this requirement. You may also prefer using JFrog CLI with AQL, with the example I have shared <a href=\"https://stackoverflow.com/a/73237422/12378094\">here</a>.</p>\n"}],"owner":{"account_id":2878276,"reputation":192,"user_id":2469698,"display_name":"himanshu_mps"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692336530,"creation_date":1692336087,"question_id":76926618,"body_markdown":"Is there any way that I can know what is the target java version (../6/../8/../11/../17/..) for a maven dependency. I have all my dependencies in JFROG artifactory and would like to do it without downloading the dependency, if possible.\r\n\r\nThanks,\r\nHimanshu ","title":"Find the target java version for a dependency","body":"<p>Is there any way that I can know what is the target java version (../6/../8/../11/../17/..) for a maven dependency. I have all my dependencies in JFROG artifactory and would like to do it without downloading the dependency, if possible.</p>\n<p>Thanks,\nHimanshu</p>\n"},{"tags":["java","spring-webflux","project-reactor","reactive"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1692321286,"post_id":76925811,"comment_id":135610726,"body_markdown":"There are few ways. You could use `window` with a `Publisher`, or use `windowUntil`, or even implement a very custom logic with `reduce`. But it all depends on what&#39;s your exact problem you want to solve.","body":"There are few ways. You could use <code>window</code> with a <code>Publisher</code>, or use <code>windowUntil</code>, or even implement a very custom logic with <code>reduce</code>. But it all depends on what&#39;s your exact problem you want to solve."},{"owner":{"account_id":1095840,"reputation":1606,"user_id":1089459,"accept_rate":86,"display_name":"krinklesaurus"},"score":0,"creation_date":1692325079,"post_id":76925811,"comment_id":135611053,"body_markdown":"the problem I wanna solve is that I wanna scale the window size over time up and down. the available window should be calculated by a simple function that returns an int. I tried with windowWhen but not sure  how it&#39;s supposed to be used. not sure about window Until either. I&#39;d appreciate some sample code how to do this","body":"the problem I wanna solve is that I wanna scale the window size over time up and down. the available window should be calculated by a simple function that returns an int. I tried with windowWhen but not sure  how it&#39;s supposed to be used. not sure about window Until either. I&#39;d appreciate some sample code how to do this"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1692325291,"post_id":76925811,"comment_id":135611061,"body_markdown":"It&#39;s hard to answer without understanding what didn&#39;t work for you. Any of them could work for the general situation as you explained. If you tell what exactly prevented you from using one of them, then maybe someone can give you a suggestion how you can fix it","body":"It&#39;s hard to answer without understanding what didn&#39;t work for you. Any of them could work for the general situation as you explained. If you tell what exactly prevented you from using one of them, then maybe someone can give you a suggestion how you can fix it"},{"owner":{"account_id":1095840,"reputation":1606,"user_id":1089459,"accept_rate":86,"display_name":"krinklesaurus"},"score":0,"creation_date":1692326236,"post_id":76925811,"comment_id":135611121,"body_markdown":"I just don&#39;t understand what I need to pass to windowWhen at all. The signatures with all the generics are just so confusing (like basically all Reactor signatures). The actual implementation how I calculate the window size should not matter I think","body":"I just don&#39;t understand what I need to pass to windowWhen at all. The signatures with all the generics are just so confusing (like basically all Reactor signatures). The actual implementation how I calculate the window size should not matter I think"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1692326967,"post_id":76925811,"comment_id":135611163,"body_markdown":"Maybe you can give an example of the logic behind the window boundaries? like how you want to split those strings into windows","body":"Maybe you can give an example of the logic behind the window boundaries? like how you want to split those strings into windows"},{"owner":{"account_id":1095840,"reputation":1606,"user_id":1089459,"accept_rate":86,"display_name":"krinklesaurus"},"score":0,"creation_date":1692327700,"post_id":76925811,"comment_id":135611220,"body_markdown":"ok I updated the question with some more code and comments, hope that helps","body":"ok I updated the question with some more code and comments, hope that helps"}],"answers":[{"tags":[],"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692329085,"creation_date":1692329085,"answer_id":76926272,"question_id":76925811,"body_markdown":"In general, when your window boundaries depends on items, like their count, etc., then `windowUntil` with a `Predicate&lt;T&gt;` would be a simplest choice. \r\n\r\nIt gets all the elements one by one, and returns `true` when the window should close. You can run a counter or other logic inside the predicate.\r\n\r\nFor your synthetic example something like this should work:\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Duration interval = Duration.ofSeconds(1);\r\n    \r\n        Flux&lt;String&gt; flux = Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;I&quot;, &quot;J&quot;);\r\n        flux\r\n                .repeat()\r\n                // on each emit from the publisher,\r\n                // a batch of a dynamic size is read\r\n                // could be just 1 item, 3 items, or even more\r\n                .windowUntil(boundaries())\r\n                .concatMap(Flux::collectList)\r\n                // since we only emit every 1 second\r\n                // the window size changes over time\r\n                .delayElements(interval)\r\n                .doOnNext(batch -&gt; {\r\n                    log.info(&quot;Processed batch: &quot; + batch + &quot; at &quot; + System.currentTimeMillis());\r\n                })\r\n                .subscribe();\r\n    \r\n        Thread.sleep(10_000); \r\n    }\r\n\r\n    private static Predicate&lt;String&gt; boundaries() {\r\n        AtomicInteger counter = new AtomicInteger(calcWindowSize());\r\n        return {\r\n           boolean done = counter.decrementAndGet() &lt;= 0;\r\n           if (done) {\r\n              counter.set(calcWindowSize());\r\n           }\r\n           done\r\n        }\r\n    }\r\n    \r\n    private static int calcWindowSize() {\r\n        // this calculation is a little more complex in reality\r\n        // so let&#39;s just use some random int here\r\n        return RandomUtils.nextInt(1, 10); \r\n    }\r\n\r\n","title":"Reactive Java: change window size at runtime","body":"<p>In general, when your window boundaries depends on items, like their count, etc., then <code>windowUntil</code> with a <code>Predicate&lt;T&gt;</code> would be a simplest choice.</p>\n<p>It gets all the elements one by one, and returns <code>true</code> when the window should close. You can run a counter or other logic inside the predicate.</p>\n<p>For your synthetic example something like this should work:</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    Duration interval = Duration.ofSeconds(1);\n\n    Flux&lt;String&gt; flux = Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;I&quot;, &quot;J&quot;);\n    flux\n            .repeat()\n            // on each emit from the publisher,\n            // a batch of a dynamic size is read\n            // could be just 1 item, 3 items, or even more\n            .windowUntil(boundaries())\n            .concatMap(Flux::collectList)\n            // since we only emit every 1 second\n            // the window size changes over time\n            .delayElements(interval)\n            .doOnNext(batch -&gt; {\n                log.info(&quot;Processed batch: &quot; + batch + &quot; at &quot; + System.currentTimeMillis());\n            })\n            .subscribe();\n\n    Thread.sleep(10_000); \n}\n\nprivate static Predicate&lt;String&gt; boundaries() {\n    AtomicInteger counter = new AtomicInteger(calcWindowSize());\n    return {\n       boolean done = counter.decrementAndGet() &lt;= 0;\n       if (done) {\n          counter.set(calcWindowSize());\n       }\n       done\n    }\n}\n\nprivate static int calcWindowSize() {\n    // this calculation is a little more complex in reality\n    // so let's just use some random int here\n    return RandomUtils.nextInt(1, 10); \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1692367010,"post_id":76926641,"comment_id":135617366,"body_markdown":"that&#39;s a very ineffective way of doing that. First, you do multiple subscriptions, which usually is not even available, and second you waste a lot of data. So the complexity is something like `O(n*m)` where `m` is the number of windows, though there is no reason to make it slower that `O(n)`","body":"that&#39;s a very ineffective way of doing that. First, you do multiple subscriptions, which usually is not even available, and second you waste a lot of data. So the complexity is something like <code>O(n*m)</code> where <code>m</code> is the number of windows, though there is no reason to make it slower that <code>O(n)</code>"}],"tags":[],"owner":{"account_id":1095840,"reputation":1606,"user_id":1089459,"accept_rate":86,"display_name":"krinklesaurus"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692336362,"creation_date":1692336362,"answer_id":76926641,"question_id":76925811,"body_markdown":"Turns out a combination of `skip` and `take` works for me. The `tick` is passed to calculateCount so I can do some fancy calculation for the next batch size.\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Flux&lt;String&gt; flux = Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;I&quot;, &quot;J&quot;).repeat();\r\n        Flux&lt;Long&gt; timerFlux = Flux.interval(Duration.ofSeconds(1));\r\n\r\n        AtomicInteger previous = new AtomicInteger(0);\r\n        timerFlux\r\n                .flatMap(tick -&gt; {\r\n                    int count = calculateCount(tick);\r\n                    int skipCount = previous.getAndAdd(count);\r\n                    // skip previously picked items, take next batch size\r\n                    return flux.skip(skipCount).take(count);\r\n                })\r\n                .doOnNext(batch -&gt; {\r\n                    log.info(&quot;Processed batch: &quot; + batch + &quot; at &quot; + System.currentTimeMillis());\r\n                })\r\n                .subscribe();\r\n\r\n        Thread.sleep(10_000);\r\n    }\r\n\r\n\r\n    private static int calculateCount(Long seconds) {\r\n        // Implement your logic here to calculate the subset size\r\n        // For example, you can return a constant value or a dynamic calculation\r\n        return 3; // Return a constant value of 3 as an example\r\n    }\r\n\r\n\r\nThe input string is on repeat and I skip all items that have previously been emitted.","title":"Reactive Java: change window size at runtime","body":"<p>Turns out a combination of <code>skip</code> and <code>take</code> works for me. The <code>tick</code> is passed to calculateCount so I can do some fancy calculation for the next batch size.</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    Flux&lt;String&gt; flux = Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;I&quot;, &quot;J&quot;).repeat();\n    Flux&lt;Long&gt; timerFlux = Flux.interval(Duration.ofSeconds(1));\n\n    AtomicInteger previous = new AtomicInteger(0);\n    timerFlux\n            .flatMap(tick -&gt; {\n                int count = calculateCount(tick);\n                int skipCount = previous.getAndAdd(count);\n                // skip previously picked items, take next batch size\n                return flux.skip(skipCount).take(count);\n            })\n            .doOnNext(batch -&gt; {\n                log.info(&quot;Processed batch: &quot; + batch + &quot; at &quot; + System.currentTimeMillis());\n            })\n            .subscribe();\n\n    Thread.sleep(10_000);\n}\n\n\nprivate static int calculateCount(Long seconds) {\n    // Implement your logic here to calculate the subset size\n    // For example, you can return a constant value or a dynamic calculation\n    return 3; // Return a constant value of 3 as an example\n}\n</code></pre>\n<p>The input string is on repeat and I skip all items that have previously been emitted.</p>\n"}],"owner":{"account_id":1095840,"reputation":1606,"user_id":1089459,"accept_rate":86,"display_name":"krinklesaurus"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692336362,"creation_date":1692318892,"question_id":76925811,"body_markdown":"I have a Flux emitting items every 1 seconds, on repeat. How can I change the window size dynamically?\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Duration interval = Duration.ofSeconds(1);\r\n\r\n        Flux&lt;String&gt; flux = Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;I&quot;, &quot;J&quot;);\r\n        flux\r\n                .repeat()\r\n                // on each emit from the publisher,\r\n                // a batch of a dynamic size is read\r\n                // could be just 1 item, 3 items, or even more\r\n                .window(calcWindowSize()))\r\n                .concatMap(Flux::collectList)\r\n                // since we only emit every 1 second\r\n                // the window size changes over time\r\n                .delayElements(interval)\r\n                .doOnNext(batch -&gt; {\r\n                    log.info(&quot;Processed batch: &quot; + batch + &quot; at &quot; + System.currentTimeMillis());\r\n                })\r\n                .subscribe();\r\n\r\n        Thread.sleep(10_000);\r\n    }\r\n\r\n    private static int calcWindowSize() {\r\n        // this calculation is a little more complex in reality\r\n        // so let&#39;s just use some random int here\r\n        return RandomUtils.nextInt(1, 10);\r\n    }\r\n\r\n\r\nThe code above is NOT working but hopefully illustrates what I want to achieve. I tried using `windowWhen` but don&#39;t understand its syntax. If I cannot dynamically change the window size, can I recreate the Flux maybe and continue from where I left on the second before?\r\n","title":"Reactive Java: change window size at runtime","body":"<p>I have a Flux emitting items every 1 seconds, on repeat. How can I change the window size dynamically?</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    Duration interval = Duration.ofSeconds(1);\n\n    Flux&lt;String&gt; flux = Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;I&quot;, &quot;J&quot;);\n    flux\n            .repeat()\n            // on each emit from the publisher,\n            // a batch of a dynamic size is read\n            // could be just 1 item, 3 items, or even more\n            .window(calcWindowSize()))\n            .concatMap(Flux::collectList)\n            // since we only emit every 1 second\n            // the window size changes over time\n            .delayElements(interval)\n            .doOnNext(batch -&gt; {\n                log.info(&quot;Processed batch: &quot; + batch + &quot; at &quot; + System.currentTimeMillis());\n            })\n            .subscribe();\n\n    Thread.sleep(10_000);\n}\n\nprivate static int calcWindowSize() {\n    // this calculation is a little more complex in reality\n    // so let's just use some random int here\n    return RandomUtils.nextInt(1, 10);\n}\n</code></pre>\n<p>The code above is NOT working but hopefully illustrates what I want to achieve. I tried using <code>windowWhen</code> but don't understand its syntax. If I cannot dynamically change the window size, can I recreate the Flux maybe and continue from where I left on the second before?</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1331128216,"post_id":9602683,"comment_id":12180817,"body_markdown":"yes is possible, can you please edit your question with a [SSCCE](http://sscce.org/) , maybe there are another choices","body":"yes is possible, can you please edit your question with a <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a> , maybe there are another choices"},{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":2,"creation_date":1331128249,"post_id":9602683,"comment_id":12180833,"body_markdown":"DO you mean isShowing()?: http://docs.oracle.com/javase/6/docs/api/java/awt/Component.html#isShowing()","body":"DO you mean isShowing()?: <a href=\"http://docs.oracle.com/javase/6/docs/api/java/awt/Component.html#isShowing()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/awt/&hellip;</a>"},{"owner":{"account_id":178914,"reputation":2104,"user_id":411186,"accept_rate":60,"display_name":"sajad"},"score":0,"creation_date":1331128563,"post_id":9602683,"comment_id":12180957,"body_markdown":"@mKorbel : is clear and I explained as I mean.","body":"@mKorbel : is clear and I explained as I mean."},{"owner":{"account_id":178914,"reputation":2104,"user_id":411186,"accept_rate":60,"display_name":"sajad"},"score":0,"creation_date":1331128575,"post_id":9602683,"comment_id":12180965,"body_markdown":"@Guillaume PoletIt: I have investigated it before but I didn&#39;t find my goal","body":"@Guillaume PoletIt: I have investigated it before but I didn&#39;t find my goal"},{"owner":{"account_id":451076,"reputation":2303,"user_id":846761,"display_name":"Moonbeam"},"score":0,"creation_date":1331128686,"post_id":9602683,"comment_id":12180998,"body_markdown":"@sajad, What is the goal? Your explanation of the problem did not help!","body":"@sajad, What is the goal? Your explanation of the problem did not help!"},{"owner":{"account_id":300992,"reputation":2677,"user_id":608457,"display_name":"raveturned"},"score":0,"creation_date":1331128751,"post_id":9602683,"comment_id":12181036,"body_markdown":"Also it&#39;s useful to know [what you have tried](http://mattgemmell.com/2008/12/08/what-have-you-tried/).","body":"Also it&#39;s useful to know <a href=\"http://mattgemmell.com/2008/12/08/what-have-you-tried/\" rel=\"nofollow noreferrer\">what you have tried</a>."},{"owner":{"account_id":178914,"reputation":2104,"user_id":411186,"accept_rate":60,"display_name":"sajad"},"score":0,"creation_date":1331128860,"post_id":9602683,"comment_id":12181082,"body_markdown":"@  Moonbeam: please see my edits","body":"@  Moonbeam: please see my edits"},{"owner":{"account_id":178914,"reputation":2104,"user_id":411186,"accept_rate":60,"display_name":"sajad"},"score":0,"creation_date":1331129524,"post_id":9602683,"comment_id":12181354,"body_markdown":"I added an example. Please see it.","body":"I added an example. Please see it."},{"owner":{"account_id":261048,"reputation":25820,"user_id":544983,"accept_rate":67,"display_name":"Juvanis"},"score":0,"creation_date":1331129708,"post_id":9602683,"comment_id":12181428,"body_markdown":"@sajad see my answer, it can solve your problem surely. you do not have to change so much code since mypanel extends jpanel.","body":"@sajad see my answer, it can solve your problem surely. you do not have to change so much code since mypanel extends jpanel."},{"owner":{"account_id":8217948,"reputation":360,"user_id":6183565,"accept_rate":83,"display_name":"Lakshya Goyal"},"score":1,"creation_date":1470539683,"post_id":9602683,"comment_id":64989091,"body_markdown":"What happens if the component is `setVisible(true)` but the bounds of the component are outside the JPanel so the user can&#39;t actually see it. What will `isVisible`, `isDisplayable` and `isShowing` output?","body":"What happens if the component is <code>setVisible(true)</code> but the bounds of the component are outside the JPanel so the user can&#39;t actually see it. What will <code>isVisible</code>, <code>isDisplayable</code> and <code>isShowing</code> output?"}],"answers":[{"comments":[{"owner":{"account_id":178914,"reputation":2104,"user_id":411186,"accept_rate":60,"display_name":"sajad"},"score":0,"creation_date":1331128765,"post_id":9602800,"comment_id":12181040,"body_markdown":"no Mr. I have several panels initiated before in my program and use them on my form as needed. I want to know for example jpanel1 in now on any of panels that now are present on my form.","body":"no Mr. I have several panels initiated before in my program and use them on my form as needed. I want to know for example jpanel1 in now on any of panels that now are present on my form."}],"tags":[],"owner":{"account_id":300992,"reputation":2677,"user_id":608457,"display_name":"raveturned"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331128568,"creation_date":1331128568,"answer_id":9602800,"question_id":9602683,"body_markdown":"If you&#39;re looking for children of a main panel, you could call `getComponents()` on the main panel to return an array of its Components, then iterate through them to check if any of them are the Panel you are looking for. You may need to call this recursively if the panel is not a direct child of the main panel.","title":"how to find out a java Component being displayed on screen","body":"<p>If you're looking for children of a main panel, you could call <code>getComponents()</code> on the main panel to return an array of its Components, then iterate through them to check if any of them are the Panel you are looking for. You may need to call this recursively if the panel is not a direct child of the main panel.</p>\n"},{"comments":[{"owner":{"account_id":178914,"reputation":2104,"user_id":411186,"accept_rate":60,"display_name":"sajad"},"score":1,"creation_date":1331129703,"post_id":9603033,"comment_id":12181424,"body_markdown":"thank you but this is not a very clean way. This is hard to apply this in all of my panels. I added an example of my pourpse. Please see it","body":"thank you but this is not a very clean way. This is hard to apply this in all of my panels. I added an example of my pourpse. Please see it"},{"owner":{"account_id":261048,"reputation":25820,"user_id":544983,"accept_rate":67,"display_name":"Juvanis"},"score":0,"creation_date":1331129941,"post_id":9603033,"comment_id":12181524,"body_markdown":"@sajad this is a very clean way. if you believe in the power of inheritance, extending jpanel shouldn&#39;t be difficult. anyway, it&#39;s just a suggestion, then you have to find another solution.","body":"@sajad this is a very clean way. if you believe in the power of inheritance, extending jpanel shouldn&#39;t be difficult. anyway, it&#39;s just a suggestion, then you have to find another solution."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1331376577,"post_id":9603033,"comment_id":12246430,"body_markdown":"-1 a) duplicating existing functionality, only worse (needs calling from client code to be effective) b) don&#39;t subclass if you don&#39;t have to (_shouldn&#39;t be difficult_ is not a good enough reason). @sajad well spotted :-)","body":"-1 a) duplicating existing functionality, only worse (needs calling from client code to be effective) b) don&#39;t subclass if you don&#39;t have to (<i>shouldn&#39;t be difficult</i> is not a good enough reason). @sajad well spotted :-)"}],"tags":[],"owner":{"account_id":261048,"reputation":25820,"user_id":544983,"accept_rate":67,"display_name":"Juvanis"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1331129798,"creation_date":1331129481,"answer_id":9603033,"question_id":9602683,"body_markdown":"Write your own panel class that extends `JPanel`. Add a new method to this class named `isOnTheScreen()` which return a *boolean* indicating whether the panel is added to the window or not.\r\n\r\n    public class MyPanel extends JPanel\r\n    {\r\n        boolean isAdded = false;\r\n\r\n        public boolean isOnTheScreen()\r\n        {\r\n           return isAdded;\r\n        }\r\n\r\n        public void setOnTheScreen(boolean isAdded)\r\n        {\r\n           this.isAdded = isAdded;\r\n        }\r\n    }\r\n\r\nAfter creating your own panel objects, use the methods above to learn whether a panel is added to main panel/frame or not. Suppose you have added a panel to a frame:\r\n\r\n    JFrame frame = new JFrame()\r\n    MyPanel panel = new MyPanel();\r\n    frame.getContentPane().add(panel);\r\n    panel.setOnTheScreen(true);\r\n\r\nAs soon as you add it to the main screen, in this case a frame, call `setOnTheScreen(true)`\r\nAnd similarly call `setOnTheScreen(false)` when you remove the panel.\r\n\r\nAfter this design you can determine whether a panel is added to the main window or not by just invoking `isOnTheScreen()` anywhere else in your code. I hope this design helps you.","title":"how to find out a java Component being displayed on screen","body":"<p>Write your own panel class that extends <code>JPanel</code>. Add a new method to this class named <code>isOnTheScreen()</code> which return a <em>boolean</em> indicating whether the panel is added to the window or not.</p>\n\n<pre><code>public class MyPanel extends JPanel\n{\n    boolean isAdded = false;\n\n    public boolean isOnTheScreen()\n    {\n       return isAdded;\n    }\n\n    public void setOnTheScreen(boolean isAdded)\n    {\n       this.isAdded = isAdded;\n    }\n}\n</code></pre>\n\n<p>After creating your own panel objects, use the methods above to learn whether a panel is added to main panel/frame or not. Suppose you have added a panel to a frame:</p>\n\n<pre><code>JFrame frame = new JFrame()\nMyPanel panel = new MyPanel();\nframe.getContentPane().add(panel);\npanel.setOnTheScreen(true);\n</code></pre>\n\n<p>As soon as you add it to the main screen, in this case a frame, call <code>setOnTheScreen(true)</code>\nAnd similarly call <code>setOnTheScreen(false)</code> when you remove the panel.</p>\n\n<p>After this design you can determine whether a panel is added to the main window or not by just invoking <code>isOnTheScreen()</code> anywhere else in your code. I hope this design helps you.</p>\n"},{"comments":[{"owner":{"account_id":261048,"reputation":25820,"user_id":544983,"accept_rate":67,"display_name":"Juvanis"},"score":0,"creation_date":1331132693,"post_id":9603665,"comment_id":12182812,"body_markdown":"@mKorbel so i reinvented the wheel? :)","body":"@mKorbel so i reinvented the wheel? :)"},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1331137257,"post_id":9603665,"comment_id":12184962,"body_markdown":"@deporter I think so no :-), basically your answer goes correct direction, because you must to know in every moments what, where and how your code works","body":"@deporter I think so no :-), basically your answer goes correct direction, because you must to know in every moments what, where and how your code works"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1331376725,"post_id":9603665,"comment_id":12246449,"body_markdown":"@mKorbel it&#39;s not a wheel, it&#39;s more like an triangle ;-)","body":"@mKorbel it&#39;s not a wheel, it&#39;s more like an triangle ;-)"},{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":4,"creation_date":1441914051,"post_id":9603665,"comment_id":52879710,"body_markdown":"In my application this method does _NOT_ return false if a component is not on screen.  The correct method to call is [`Component.isShowing()`](https://docs.oracle.com/javase/8/docs/api/java/awt/Component.html#isShowing--).  I say this, but I still cannot be sure `isShowing()` is the correct method, but I know `isDisplayable()` is incorrect.  Once someone verifies this and updates the answer I&#39;ll take away my down vote.","body":"In my application this method does <i>NOT</i> return false if a component is not on screen.  The correct method to call is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Component.html#isShowing--\" rel=\"nofollow noreferrer\"><code>Component.isShowing()</code></a>.  I say this, but I still cannot be sure <code>isShowing()</code> is the correct method, but I know <code>isDisplayable()</code> is incorrect.  Once someone verifies this and updates the answer I&#39;ll take away my down vote."},{"owner":{"account_id":8217948,"reputation":360,"user_id":6183565,"accept_rate":83,"display_name":"Lakshya Goyal"},"score":0,"creation_date":1470487495,"post_id":9603665,"comment_id":64977678,"body_markdown":"What happens if the component is `setVisible(true)` but the bounds of the component are outside the JPanel so the user can&#39;t actually see it. What will `isVisible`, `isDisplayable` and `isShowing` output?","body":"What happens if the component is <code>setVisible(true)</code> but the bounds of the component are outside the JPanel so the user can&#39;t actually see it. What will <code>isVisible</code>, <code>isDisplayable</code> and <code>isShowing</code> output?"}],"tags":[],"owner":{"account_id":178914,"reputation":2104,"user_id":411186,"accept_rate":60,"display_name":"sajad"},"comment_count":5,"down_vote_count":3,"up_vote_count":19,"is_accepted":true,"score":16,"last_activity_date":1331363569,"creation_date":1331131842,"answer_id":9603665,"question_id":9602683,"body_markdown":"After investigation I find out this method represents that the component is displayed on screen or not:\n\n&gt; isDisplayable()\n\nin my Example:\n\n&gt; `jPanel1.isDisplayable()` // returns true \n&gt;\n&gt; `jPanel2.isDisplayable()` // returns false\n\nas Simple as this!","title":"how to find out a java Component being displayed on screen","body":"<p>After investigation I find out this method represents that the component is displayed on screen or not:</p>\n<blockquote>\n<p>isDisplayable()</p>\n</blockquote>\n<p>in my Example:</p>\n<blockquote>\n<p><code>jPanel1.isDisplayable()</code> // returns true</p>\n<p><code>jPanel2.isDisplayable()</code> // returns false</p>\n</blockquote>\n<p>as Simple as this!</p>\n"},{"comments":[{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":1,"creation_date":1463840773,"post_id":36708539,"comment_id":62241365,"body_markdown":"Yes, `isShowing()` is working fine for components in tabs","body":"Yes, <code>isShowing()</code> is working fine for components in tabs"}],"tags":[],"owner":{"account_id":7961496,"reputation":175,"user_id":6009190,"accept_rate":67,"display_name":"Akshay Prabhu"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1466518527,"creation_date":1461040018,"answer_id":36708539,"question_id":9602683,"body_markdown":"`jPanel1.isVisible()==true`\r\n`jPanel1.isVisible()==false`\r\n\r\nfor panel\r\n`jPanel1.isShowing()` also works","title":"how to find out a java Component being displayed on screen","body":"<p><code>jPanel1.isVisible()==true</code>\n<code>jPanel1.isVisible()==false</code></p>\n\n<p>for panel\n<code>jPanel1.isShowing()</code> also works</p>\n"},{"tags":[],"owner":{"account_id":1544842,"reputation":486,"user_id":6036446,"display_name":"Juan C Nuno"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687284172,"creation_date":1687284172,"answer_id":76517368,"question_id":9602683,"body_markdown":"Call [Component::isShowing.](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Component.html#isShowing()) Even that comes with a couple of caveats.","title":"how to find out a java Component being displayed on screen","body":"<p>Call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Component.html#isShowing()\" rel=\"nofollow noreferrer\">Component::isShowing.</a> Even that comes with a couple of caveats.</p>\n"},{"tags":[],"owner":{"account_id":29118402,"reputation":3,"user_id":22306589,"display_name":"Tech of the Absence"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692336331,"creation_date":1692336331,"answer_id":76926637,"question_id":9602683,"body_markdown":"Note, that if the component is out of bounds of the JFrame, you won&#39;t see it, but each of these methods returns `true`. To find out whether the component is really visible, use `(jframe.getBounds().contains(jPanel.getBounds())&amp;&amp;jPanel.isShowing())`","title":"how to find out a java Component being displayed on screen","body":"<p>Note, that if the component is out of bounds of the JFrame, you won't see it, but each of these methods returns <code>true</code>. To find out whether the component is really visible, use <code>(jframe.getBounds().contains(jPanel.getBounds())&amp;&amp;jPanel.isShowing())</code></p>\n"}],"owner":{"account_id":178914,"reputation":2104,"user_id":411186,"accept_rate":60,"display_name":"sajad"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17105,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":9603665,"answer_count":6,"score":11,"last_activity_date":1692336331,"creation_date":1331128079,"question_id":9602683,"body_markdown":"I want to find out if a JPanel is on the screen or not. It doesn&#39;t mean that `isVisible()` method could be used for this situation. I mean I want to find out whether a component that has been initiated before, presently is one of components on my main panel or not.\r\n\r\nEdit and more explanation: I have several panels initiated before in my program and use them on my form as needed. I want to know for example `jpanel1` in now on any of panels that now are present on my form.\r\n\r\nExample:\r\n\r\n    public class GUI extends JFrame() {\r\n    \r\n        private JPanel1, jPanel2;\r\n        \r\n        public static void main(String[] args) {\r\n            GUI gui = new GUI();\r\n            jPanel1 = new JPanel();\r\n            jPanel2 = new JPanel();\r\n            gui.setContentpane(jPanel1);\r\n            gui.setVisible(true);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nnow `jPanel1` is visible on screen bu `jPanel2` is not visible.\r\nHow can I find out this?","title":"how to find out a java Component being displayed on screen","body":"<p>I want to find out if a JPanel is on the screen or not. It doesn't mean that <code>isVisible()</code> method could be used for this situation. I mean I want to find out whether a component that has been initiated before, presently is one of components on my main panel or not.</p>\n\n<p>Edit and more explanation: I have several panels initiated before in my program and use them on my form as needed. I want to know for example <code>jpanel1</code> in now on any of panels that now are present on my form.</p>\n\n<p>Example:</p>\n\n<pre><code>public class GUI extends JFrame() {\n\n    private JPanel1, jPanel2;\n\n    public static void main(String[] args) {\n        GUI gui = new GUI();\n        jPanel1 = new JPanel();\n        jPanel2 = new JPanel();\n        gui.setContentpane(jPanel1);\n        gui.setVisible(true);\n    }\n\n}\n</code></pre>\n\n<p>now <code>jPanel1</code> is visible on screen bu <code>jPanel2</code> is not visible.\nHow can I find out this?</p>\n"},{"tags":["java","lambda","csvreader"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1692334923,"post_id":76926507,"comment_id":135611727,"body_markdown":"If you create a class containing 2 strings, you can replace `.map(list -&gt; list.get(titleIndex))` with something which creates an instance of that class, i.e. `.map(list -&gt; new MyClass(list.get(titleIndex), list.get(otherIndex)))`. The downstream methods would, of course, also have to change to support the object instead of a string","body":"If you create a class containing 2 strings, you can replace <code>.map(list -&gt; list.get(titleIndex))</code> with something which creates an instance of that class, i.e. <code>.map(list -&gt; new MyClass(list.get(titleIndex), list.get(otherIndex)))</code>. The downstream methods would, of course, also have to change to support the object instead of a string"}],"answers":[{"comments":[{"owner":{"account_id":21834546,"reputation":29,"user_id":16129034,"display_name":"Selenium New bie"},"score":0,"creation_date":1692336573,"post_id":76926628,"comment_id":135611837,"body_markdown":"It is working as expected. Thanks a lot","body":"It is working as expected. Thanks a lot"},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1692336757,"post_id":76926628,"comment_id":135611856,"body_markdown":"Glad to hear. Could you please accept the answer if that was helpful.","body":"Glad to hear. Could you please accept the answer if that was helpful."},{"owner":{"account_id":21834546,"reputation":29,"user_id":16129034,"display_name":"Selenium New bie"},"score":0,"creation_date":1692337248,"post_id":76926628,"comment_id":135611899,"body_markdown":"Done ...........","body":"Done ..........."}],"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692336220,"creation_date":1692336220,"answer_id":76926628,"question_id":76926507,"body_markdown":"According to the csv shared by you, it is acually `col8` and not `col7`.\r\n\r\nMost of the work you have already done. Like you have fetched `col5`, you can fetch `col8` as well.\r\n\r\n1. As you have done for `col5`, define variable to hold `col8` as well:\r\n\r\n       String titleForCol8 = &quot;col8&quot;;\r\n\r\n2. Find the index for `col8`:\r\n\r\n       int col8Idex = columns.indexOf(titleForCol8);\r\n\r\n3. Append `col5` and `col8` in the result in the stream processing segment.\r\n\r\n       .map(list -&gt; list.get(titleIndex).concat(&quot;,&quot;).concat(list.get(col8Idex)))\r\n\r\n","title":"Read two columns by header from csv file using java 8","body":"<p>According to the csv shared by you, it is acually <code>col8</code> and not <code>col7</code>.</p>\n<p>Most of the work you have already done. Like you have fetched <code>col5</code>, you can fetch <code>col8</code> as well.</p>\n<ol>\n<li><p>As you have done for <code>col5</code>, define variable to hold <code>col8</code> as well:</p>\n<pre><code>String titleForCol8 = &quot;col8&quot;;\n</code></pre>\n</li>\n<li><p>Find the index for <code>col8</code>:</p>\n<pre><code>int col8Idex = columns.indexOf(titleForCol8);\n</code></pre>\n</li>\n<li><p>Append <code>col5</code> and <code>col8</code> in the result in the stream processing segment.</p>\n<pre><code>.map(list -&gt; list.get(titleIndex).concat(&quot;,&quot;).concat(list.get(col8Idex)))\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":21834546,"reputation":29,"user_id":16129034,"display_name":"Selenium New bie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76926628,"answer_count":1,"score":0,"last_activity_date":1692336220,"creation_date":1692334236,"question_id":76926507,"body_markdown":"I want to read two columns (col5 and col7) from csv file by header. \r\n\r\nWith below code I can read only one column header (col5). Is there any way to read two columns in the same map itself. \r\n\r\nWhy I choose map is I need to process data later.\r\n\r\n```\r\npublic static List&lt;String&gt; getData() throws IOException {\r\n\t\tString titleToSearchFor = &quot;col5&quot;;\r\n\t\tPath path = Paths.get(&quot;D:/blackduck_sample.txt&quot;);\r\n\r\n\t\tif (Files.exists(path)) {\r\n\t\t\tList&lt;String&gt; lines = Files.readAllLines(path);\r\n\r\n\t\t\tList&lt;String&gt; columns = Arrays.asList(lines.get(0).split(&quot;,&quot;));\r\n\r\n\t\t\tint titleIndex = columns.indexOf(titleToSearchFor);\r\n\r\n\t\t\tList&lt;String&gt; values = lines.stream().skip(1).map(line -&gt; Arrays.asList(line.split(&quot;,&quot;)))\r\n\t\t\t\t\t.map(list -&gt; list.get(titleIndex)).filter(Objects::nonNull).filter(s -&gt; s.trim().length() &gt; 0)\r\n\t\t\t\t\t.collect(Collectors.toList());\r\n\r\n\t\t\treturn values;\r\n\t\t}\r\n\r\n\t\treturn new ArrayList&lt;&gt;();\r\n\r\n\t}\r\n```\r\n\r\nMy sample CSV file\r\n\r\n    col1,col2,col3,col4,col5,col6,col7,col8\r\n    CVM Finding,12345,sdc,CAP,12345:sdc-posistion-svc:SnakeYAML:2.1:3,TRUE,FALSE,OverDue\r\n    CVM Finding,12345,sdc,CAP,12345:sdc-event-generation-svc:SpringBoot:2.1.2.Release:1,TRUE,FALSE,Overdue\r\n    CVM Finding,12345,sdc,CAP,12345:sdc-event-subscription-svc:Apache Tomcat:9.0.70:1,TRUE,FALSE,Due in &lt;= 90\r\n    CVM Finding,12345,sdc,CAP,12345:sdc-bh-registry-svc:Jettison - Json Stax implementation:1.5.3:1,TRUE,FALSE,Due in &lt;=90\r\n    CVM Finding,12345,sdc,CAP,12345:sdc-event-generation-svc:Apache Tomcat:9.0.70:2,TRUE,FALSE,Due in &gt;90\r\n    CVM Finding,12345,sdc,CAP,12345:sdc-posistion-svc:jackson-databind:2.14:1,TRUE,FALSE,OverDue\r\n    CVM Finding,12345,sdc,CAP,12345:sdc-event-subscription-svc:jackson-databind:2.14:1,TRUE,FALSE,Due in &lt;= 90\r\n    CVM Finding,12345,sdc,CAP,12345:sdc-event-subscription-svc:SpringBoot:2.1.2.Release:1,TRUE,FALSE,Overdue\r\n    CVM Finding,12345,sdc,CAP,12345:sdc-posistion-svc:SpringBoot:2.1.2.Release:1,TRUE,FALSE,OverDue\r\n\r\nI tried to search google and stackfoverflow and ended up with either one column or read by index \r\n```\r\nString[] cols = line.split(cvsSplitBy);\r\n    System.out.println(&quot;Coulmn 5= &quot; + cols[5] + &quot; , Column 7=&quot; + cols[7]);\r\n```\r\n\r\nThe output should be \r\n\r\n    12345:sdc-posistion-svc:SnakeYAML:2.1:3,OverDue\r\n    12345:sdc-event-generation-svc:SpringBoot:2.1.2.Release:1,Overdue\r\n    12345:sdc-event-subscription-svc:Apache Tomcat:9.0.70:1,Due in &lt;= 90\r\n    12345:sdc-bh-registry-svc:Jettison - Json Stax implementation:1.5.3:1,Due in &lt;=90\r\n    12345:sdc-event-generation-svc:Apache Tomcat:9.0.70:2,Due in &gt;90\r\n    12345:sdc-posistion-svc:jackson-databind:2.14:1,OverDue\r\n    12345:sdc-event-subscription-svc:jackson-databind:2.14:1,Due in &lt;= 90\r\n    12345:sdc-event-subscription-svc:SpringBoot:2.1.2.Release:1,Overdue\r\n    12345:sdc-posistion-svc:SpringBoot:2.1.2.Release:1,OverDue","title":"Read two columns by header from csv file using java 8","body":"<p>I want to read two columns (col5 and col7) from csv file by header.</p>\n<p>With below code I can read only one column header (col5). Is there any way to read two columns in the same map itself.</p>\n<p>Why I choose map is I need to process data later.</p>\n<pre><code>public static List&lt;String&gt; getData() throws IOException {\n        String titleToSearchFor = &quot;col5&quot;;\n        Path path = Paths.get(&quot;D:/blackduck_sample.txt&quot;);\n\n        if (Files.exists(path)) {\n            List&lt;String&gt; lines = Files.readAllLines(path);\n\n            List&lt;String&gt; columns = Arrays.asList(lines.get(0).split(&quot;,&quot;));\n\n            int titleIndex = columns.indexOf(titleToSearchFor);\n\n            List&lt;String&gt; values = lines.stream().skip(1).map(line -&gt; Arrays.asList(line.split(&quot;,&quot;)))\n                    .map(list -&gt; list.get(titleIndex)).filter(Objects::nonNull).filter(s -&gt; s.trim().length() &gt; 0)\n                    .collect(Collectors.toList());\n\n            return values;\n        }\n\n        return new ArrayList&lt;&gt;();\n\n    }\n</code></pre>\n<p>My sample CSV file</p>\n<pre><code>col1,col2,col3,col4,col5,col6,col7,col8\nCVM Finding,12345,sdc,CAP,12345:sdc-posistion-svc:SnakeYAML:2.1:3,TRUE,FALSE,OverDue\nCVM Finding,12345,sdc,CAP,12345:sdc-event-generation-svc:SpringBoot:2.1.2.Release:1,TRUE,FALSE,Overdue\nCVM Finding,12345,sdc,CAP,12345:sdc-event-subscription-svc:Apache Tomcat:9.0.70:1,TRUE,FALSE,Due in &lt;= 90\nCVM Finding,12345,sdc,CAP,12345:sdc-bh-registry-svc:Jettison - Json Stax implementation:1.5.3:1,TRUE,FALSE,Due in &lt;=90\nCVM Finding,12345,sdc,CAP,12345:sdc-event-generation-svc:Apache Tomcat:9.0.70:2,TRUE,FALSE,Due in &gt;90\nCVM Finding,12345,sdc,CAP,12345:sdc-posistion-svc:jackson-databind:2.14:1,TRUE,FALSE,OverDue\nCVM Finding,12345,sdc,CAP,12345:sdc-event-subscription-svc:jackson-databind:2.14:1,TRUE,FALSE,Due in &lt;= 90\nCVM Finding,12345,sdc,CAP,12345:sdc-event-subscription-svc:SpringBoot:2.1.2.Release:1,TRUE,FALSE,Overdue\nCVM Finding,12345,sdc,CAP,12345:sdc-posistion-svc:SpringBoot:2.1.2.Release:1,TRUE,FALSE,OverDue\n</code></pre>\n<p>I tried to search google and stackfoverflow and ended up with either one column or read by index</p>\n<pre><code>String[] cols = line.split(cvsSplitBy);\n    System.out.println(&quot;Coulmn 5= &quot; + cols[5] + &quot; , Column 7=&quot; + cols[7]);\n</code></pre>\n<p>The output should be</p>\n<pre><code>12345:sdc-posistion-svc:SnakeYAML:2.1:3,OverDue\n12345:sdc-event-generation-svc:SpringBoot:2.1.2.Release:1,Overdue\n12345:sdc-event-subscription-svc:Apache Tomcat:9.0.70:1,Due in &lt;= 90\n12345:sdc-bh-registry-svc:Jettison - Json Stax implementation:1.5.3:1,Due in &lt;=90\n12345:sdc-event-generation-svc:Apache Tomcat:9.0.70:2,Due in &gt;90\n12345:sdc-posistion-svc:jackson-databind:2.14:1,OverDue\n12345:sdc-event-subscription-svc:jackson-databind:2.14:1,Due in &lt;= 90\n12345:sdc-event-subscription-svc:SpringBoot:2.1.2.Release:1,Overdue\n12345:sdc-posistion-svc:SpringBoot:2.1.2.Release:1,OverDue\n</code></pre>\n"},{"tags":["java","gradle","pact","pact-broker","asynctest"],"answers":[{"comments":[{"owner":{"account_id":18024968,"reputation":15,"user_id":13101213,"display_name":"Allan Noguera"},"score":0,"creation_date":1692606416,"post_id":76926621,"comment_id":135641112,"body_markdown":"Thanks Matthew, for pointing this out. Also depending on the junit consumer dependency version the pactVersion arg is needed.\n\n`@PactTestFor(pactMethod = &quot;userCreatedMessagePact&quot;, providerType = ProviderType.ASYNCH, pactVersion = PactSpecVersion.V3)`","body":"Thanks Matthew, for pointing this out. Also depending on the junit consumer dependency version the pactVersion arg is needed.  <code>@PactTestFor(pactMethod = &quot;userCreatedMessagePact&quot;, providerType = ProviderType.ASYNCH, pactVersion = PactSpecVersion.V3)</code>"}],"tags":[],"owner":{"account_id":991358,"reputation":3832,"user_id":1008568,"display_name":"Matthew Fellows"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692336141,"creation_date":1692336141,"answer_id":76926621,"question_id":76921988,"body_markdown":"I don&#39;t think `setMessage` is a thing, or at least it&#39;s not anymore.\r\n\r\nAn example project using a relatively recent version can be found here: https://github.com/pactflow/example-consumer-java-kafka/blob/master/src/test/java/io/pactflow/example/kafka/ProductsPactTest.java#L49\r\n\r\n```java\r\n  @Test\r\n  @PactTestFor(pactMethod = &quot;createPact&quot;)\r\n  void test(List&lt;Message&gt; messages) throws Exception {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    System.out.println(&quot;Message received -&gt; &quot; + messages.get(0).contentsAsString());\r\n    Product product = mapper.readValue(messages.get(0).contentsAsString(), Product.class);\r\n\r\n    assertDoesNotThrow(() -&gt; {\r\n      listener.listen(product);\r\n    });\r\n  }\r\n```\r\n\r\nNote how the message is injected directly into the test.","title":"Pact Async Consumer Test is failing with message null","body":"<p>I don't think <code>setMessage</code> is a thing, or at least it's not anymore.</p>\n<p>An example project using a relatively recent version can be found here: <a href=\"https://github.com/pactflow/example-consumer-java-kafka/blob/master/src/test/java/io/pactflow/example/kafka/ProductsPactTest.java#L49\" rel=\"nofollow noreferrer\">https://github.com/pactflow/example-consumer-java-kafka/blob/master/src/test/java/io/pactflow/example/kafka/ProductsPactTest.java#L49</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Test\n  @PactTestFor(pactMethod = &quot;createPact&quot;)\n  void test(List&lt;Message&gt; messages) throws Exception {\n    ObjectMapper mapper = new ObjectMapper();\n    System.out.println(&quot;Message received -&gt; &quot; + messages.get(0).contentsAsString());\n    Product product = mapper.readValue(messages.get(0).contentsAsString(), Product.class);\n\n    assertDoesNotThrow(() -&gt; {\n      listener.listen(product);\n    });\n  }\n</code></pre>\n<p>Note how the message is injected directly into the test.</p>\n"}],"owner":{"account_id":18024968,"reputation":15,"user_id":13101213,"display_name":"Allan Noguera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76926621,"answer_count":1,"score":0,"last_activity_date":1692336141,"creation_date":1692278776,"question_id":76921988,"body_markdown":"I am testing to create a Async Pact for a test application, that uses RabbitMQ I got the application running but the test to create the pact fails with the following error.\r\n\r\n```\r\n%TESTS  3,verifyCreatePersonPact(io.reflectoring.MessageConsumerTest)\r\n\r\n%ERROR  3,verifyCreatePersonPact(io.reflectoring.MessageConsumerTest)\r\n%TRACES \r\njava.lang.NullPointerException: Cannot read the array length because &quot;bytes&quot; is null\r\n        at java.base/java.lang.String.&lt;init&gt;(String.java:1437)\r\n        at io.reflectoring.MessageConsumerTest.verifyCreatePersonPact(MessageConsumerTest.java:45)\r\n```\r\n\r\nHere is the gradle file:\r\n\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.0&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n\tid &#39;java&#39;\r\n\tid &#39;au.com.dius.pact&#39; version &#39;4.6.1&#39;\r\n\tid &#39;java-library&#39;\r\n}\r\n\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\n    sourceCompatibility = JavaVersion.VERSION_17\r\n    targetCompatibility = JavaVersion.VERSION_17\r\n}\r\n\r\nrepositories {\r\n    mavenLocal()\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39; \r\n    implementation &#39;org.springframework.boot:spring-boot-starter-amqp&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n \r\n    implementation &#39;com.h2database:h2:1.4.196&#39;\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.2&#39; \r\n    runtimeOnly &#39;javax.xml.bind:jaxb-api:2.3.1&#39;\r\n    runtimeOnly &#39;org.javassist:javassist:3.23.1-GA&#39;\r\n\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39; \r\n    testImplementation &#39;au.com.dius.pact.consumer:junit5:4.6.1&#39;\r\n}\r\n\r\ntest {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\nbootRun {\r\n    jvmArgs = [&quot;-Xdebug&quot;, &quot;-Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5005&quot;]\r\n}\r\n```\r\n\r\nAnd here is the Test file\r\n\r\n```\r\npackage io.reflectoring;\r\n\r\nimport java.io.IOException;\r\n\r\nimport au.com.dius.pact.consumer.MessagePactBuilder;\r\nimport au.com.dius.pact.consumer.dsl.PactDslJsonBody;\r\nimport au.com.dius.pact.consumer.junit5.PactConsumerTestExt;\r\nimport au.com.dius.pact.consumer.junit5.PactTestFor;\r\nimport au.com.dius.pact.consumer.junit5.ProviderType;\r\nimport au.com.dius.pact.core.model.annotations.Pact;\r\nimport au.com.dius.pact.core.model.messaging.MessagePact;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\n@ExtendWith(PactConsumerTestExt.class)\r\npublic class MessageConsumerTest {\r\n\r\n\tprivate byte[] currentMessage;\r\n\r\n\t@Autowired\r\n\tprivate MessageConsumer messageConsumer;\r\n\r\n\t@Pact(provider = &quot;userservice&quot;, consumer = &quot;userclient&quot;)\r\n\tpublic MessagePact userCreatedMessagePact(MessagePactBuilder builder){\r\n\t\tPactDslJsonBody body = new PactDslJsonBody();\r\n\t\tbody.stringType(&quot;messageUuid&quot;);\r\n\t\tbody.object(&quot;user&quot;)\r\n\t\t\t.numberType(&quot;id&quot;, 42L)\r\n\t\t\t.stringType(&quot;name&quot;, &quot;Zaphod Beeblebrox&quot;)\r\n\t\t\t\t\t\t.closeObject();\r\n\r\n\t\t// @formatter:off\r\n\t\treturn builder\r\n\t\t\t.expectsToReceive(&quot;a user created message&quot;)\r\n\t\t\t.withContent(body)\r\n\t\t\t.toPact();\r\n\t\t// @formatter:on\r\n\t}\r\n\r\n        @Test \r\n\t@PactTestFor(pactMethod = &quot;userCreatedMessagePact&quot;, providerType = ProviderType.ASYNCH)\r\n\tvoid verifyCreatePersonPact() throws IOException {\r\n\t\tmessageConsumer.consumeStringMessage(new String(this.currentMessage));\r\n\t}\r\n\r\n\t/**\r\n\t * This method is called by the Pact framework.\r\n\t */\r\n\tpublic void setMessage(byte[] message) {\r\n\t\tthis.currentMessage = message;\r\n\t}\r\n}\r\n```\r\n\r\nI am following this example: https://github.com/thombergs/code-examples/blob/master/pact/pact-message-consumer/src/test/java/io/reflectoring/MessageConsumerTest.java\r\n\r\nBut I am updating the java version, gradle and also the pact version.\r\n\r\nThanks for your help.\r\n\r\nSo I already tried adding @BeforeEach to the setMessage method. And crafting the message there too.\r\n\r\nIf someone could give me a hint on what could be failing? Also if it works with a later version of gradle it would be great.","title":"Pact Async Consumer Test is failing with message null","body":"<p>I am testing to create a Async Pact for a test application, that uses RabbitMQ I got the application running but the test to create the pact fails with the following error.</p>\n<pre><code>%TESTS  3,verifyCreatePersonPact(io.reflectoring.MessageConsumerTest)\n\n%ERROR  3,verifyCreatePersonPact(io.reflectoring.MessageConsumerTest)\n%TRACES \njava.lang.NullPointerException: Cannot read the array length because &quot;bytes&quot; is null\n        at java.base/java.lang.String.&lt;init&gt;(String.java:1437)\n        at io.reflectoring.MessageConsumerTest.verifyCreatePersonPact(MessageConsumerTest.java:45)\n</code></pre>\n<p>Here is the gradle file:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '3.1.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n    id 'java'\n    id 'au.com.dius.pact' version '4.6.1'\n    id 'java-library'\n}\n\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_17\n    targetCompatibility = JavaVersion.VERSION_17\n}\n\nrepositories {\n    mavenLocal()\n    mavenCentral()\n}\n\ndependencies {\n\n    implementation 'org.springframework.boot:spring-boot-starter-web' \n    implementation 'org.springframework.boot:spring-boot-starter-amqp'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n \n    implementation 'com.h2database:h2:1.4.196'\n    compileOnly 'org.projectlombok:lombok:1.18.2' \n    runtimeOnly 'javax.xml.bind:jaxb-api:2.3.1'\n    runtimeOnly 'org.javassist:javassist:3.23.1-GA'\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test' \n    testImplementation 'au.com.dius.pact.consumer:junit5:4.6.1'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\nbootRun {\n    jvmArgs = [&quot;-Xdebug&quot;, &quot;-Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5005&quot;]\n}\n</code></pre>\n<p>And here is the Test file</p>\n<pre><code>package io.reflectoring;\n\nimport java.io.IOException;\n\nimport au.com.dius.pact.consumer.MessagePactBuilder;\nimport au.com.dius.pact.consumer.dsl.PactDslJsonBody;\nimport au.com.dius.pact.consumer.junit5.PactConsumerTestExt;\nimport au.com.dius.pact.consumer.junit5.PactTestFor;\nimport au.com.dius.pact.consumer.junit5.ProviderType;\nimport au.com.dius.pact.core.model.annotations.Pact;\nimport au.com.dius.pact.core.model.messaging.MessagePact;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\n\n@ExtendWith(PactConsumerTestExt.class)\npublic class MessageConsumerTest {\n\n    private byte[] currentMessage;\n\n    @Autowired\n    private MessageConsumer messageConsumer;\n\n    @Pact(provider = &quot;userservice&quot;, consumer = &quot;userclient&quot;)\n    public MessagePact userCreatedMessagePact(MessagePactBuilder builder){\n        PactDslJsonBody body = new PactDslJsonBody();\n        body.stringType(&quot;messageUuid&quot;);\n        body.object(&quot;user&quot;)\n            .numberType(&quot;id&quot;, 42L)\n            .stringType(&quot;name&quot;, &quot;Zaphod Beeblebrox&quot;)\n                        .closeObject();\n\n        // @formatter:off\n        return builder\n            .expectsToReceive(&quot;a user created message&quot;)\n            .withContent(body)\n            .toPact();\n        // @formatter:on\n    }\n\n        @Test \n    @PactTestFor(pactMethod = &quot;userCreatedMessagePact&quot;, providerType = ProviderType.ASYNCH)\n    void verifyCreatePersonPact() throws IOException {\n        messageConsumer.consumeStringMessage(new String(this.currentMessage));\n    }\n\n    /**\n     * This method is called by the Pact framework.\n     */\n    public void setMessage(byte[] message) {\n        this.currentMessage = message;\n    }\n}\n</code></pre>\n<p>I am following this example: <a href=\"https://github.com/thombergs/code-examples/blob/master/pact/pact-message-consumer/src/test/java/io/reflectoring/MessageConsumerTest.java\" rel=\"nofollow noreferrer\">https://github.com/thombergs/code-examples/blob/master/pact/pact-message-consumer/src/test/java/io/reflectoring/MessageConsumerTest.java</a></p>\n<p>But I am updating the java version, gradle and also the pact version.</p>\n<p>Thanks for your help.</p>\n<p>So I already tried adding @BeforeEach to the setMessage method. And crafting the message there too.</p>\n<p>If someone could give me a hint on what could be failing? Also if it works with a later version of gradle it would be great.</p>\n"},{"tags":["java","spring-security","spring-boot"],"comments":[{"owner":{"account_id":36202,"reputation":5881,"user_id":103139,"accept_rate":79,"display_name":"bastijn"},"score":1,"creation_date":1457542048,"post_id":35896502,"comment_id":59455723,"body_markdown":"You added your custom filter that does the token verification _before_ the authorization filter supplied by spring security. Was that your intention? Now  login hits your filter before it has a chance to hit your authentication filter. I would expect token verification filters only after the authentication filter because you probably have no security context before your authorization filter is executed (unless you have another auth filter in front of your jwt filter which you didn&#39;t share here).","body":"You added your custom filter that does the token verification <i>before</i> the authorization filter supplied by spring security. Was that your intention? Now  login hits your filter before it has a chance to hit your authentication filter. I would expect token verification filters only after the authentication filter because you probably have no security context before your authorization filter is executed (unless you have another auth filter in front of your jwt filter which you didn&#39;t share here)."},{"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"score":0,"creation_date":1457542913,"post_id":35896502,"comment_id":59456353,"body_markdown":"`login` is a `POST` operation where the authentication is happening (skip this now if it&#39;s a good or bad; I know it&#39;s bad to implement it that way in REST). I just want to be able to hit `login` and `logout` without getting into the filter that checks for the token. Everything else is blocked by default.","body":"<code>login</code> is a <code>POST</code> operation where the authentication is happening (skip this now if it&#39;s a good or bad; I know it&#39;s bad to implement it that way in REST). I just want to be able to hit <code>login</code> and <code>logout</code> without getting into the filter that checks for the token. Everything else is blocked by default."},{"owner":{"account_id":36202,"reputation":5881,"user_id":103139,"accept_rate":79,"display_name":"bastijn"},"score":0,"creation_date":1457543057,"post_id":35896502,"comment_id":59456466,"body_markdown":"Do you want it to hit your authentication filter? If yes, move your jwt filter after the authentication filter and keep your permit all, that should work.","body":"Do you want it to hit your authentication filter? If yes, move your jwt filter after the authentication filter and keep your permit all, that should work."},{"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"score":0,"creation_date":1457543838,"post_id":35896502,"comment_id":59457031,"body_markdown":"So, what do I need to modify in the piece of code that is there in the answer. The authentication is taking place in an endpoint (`login`), there is no authentication filter.","body":"So, what do I need to modify in the piece of code that is there in the answer. The authentication is taking place in an endpoint (<code>login</code>), there is no authentication filter."},{"owner":{"account_id":36202,"reputation":5881,"user_id":103139,"accept_rate":79,"display_name":"bastijn"},"score":0,"creation_date":1457694956,"post_id":35896502,"comment_id":59533784,"body_markdown":".addFilterBefore(new JwtFilter(), BasicAuthenticationFilter.class) --&gt; .addFilterAfter(new JwtFilter(), BasicAuthenticationFilter.class) ?","body":".addFilterBefore(new JwtFilter(), BasicAuthenticationFilter.class) --&gt; .addFilterAfter(new JwtFilter(), BasicAuthenticationFilter.class) ?"}],"answers":[{"comments":[{"owner":{"account_id":1899270,"reputation":428,"user_id":1715487,"display_name":"Luiz Feij&#227;o Veronesi"},"score":14,"creation_date":1501003417,"post_id":38960531,"comment_id":77581873,"body_markdown":"Just can&#39;t manage to make this work. I only see this solution, but it does not work at all.","body":"Just can&#39;t manage to make this work. I only see this solution, but it does not work at all."},{"owner":{"account_id":2205708,"reputation":144,"user_id":1948992,"accept_rate":25,"display_name":"Jef"},"score":3,"creation_date":1615465047,"post_id":38960531,"comment_id":117701719,"body_markdown":"this doesn&#39;t work when a custom filter is added.","body":"this doesn&#39;t work when a custom filter is added."}],"tags":[],"owner":{"account_id":1020270,"reputation":887,"user_id":1030810,"display_name":"Pankaj"},"comment_count":2,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1471284614,"creation_date":1471284614,"answer_id":38960531,"question_id":35896502,"body_markdown":"Filters will be executed for all the endpoints that are configured through HttpSecurity. If you do not want filters to be applied for certain endpoints, include them in a method that configures WebSecurity. For example,\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        web\r\n          .ignoring()\r\n            .antMatchers(&quot;/api/login&quot;, &quot;/api/logout&quot;);\r\n    }\r\n\r\nPlease read [this post][1] for more details.\r\n\r\n \r\n\r\n\r\n  [1]: http://www.baeldung.com/security-none-filters-none-access-permitAll","title":"Spring Security bypass URL or Filter","body":"<p>Filters will be executed for all the endpoints that are configured through HttpSecurity. If you do not want filters to be applied for certain endpoints, include them in a method that configures WebSecurity. For example,</p>\n\n<pre><code>@Override\npublic void configure(WebSecurity web) throws Exception {\n    web\n      .ignoring()\n        .antMatchers(\"/api/login\", \"/api/logout\");\n}\n</code></pre>\n\n<p>Please read <a href=\"http://www.baeldung.com/security-none-filters-none-access-permitAll\" rel=\"noreferrer\">this post</a> for more details.</p>\n"},{"comments":[{"owner":{"account_id":1266731,"reputation":123,"user_id":1223879,"accept_rate":25,"display_name":"user1223879"},"score":0,"creation_date":1609703761,"post_id":62853733,"comment_id":115899858,"body_markdown":"You can try to implement your JWTFilter as a subclass of `AbstractAuthenticationProcessingFilter` and check if it is included in the SecurityChain. Please take a look at [this](https://www.toptal.com/java/rest-security-with-jwt-spring-security-and-java) post","body":"You can try to implement your JWTFilter as a subclass of <code>AbstractAuthenticationProcessingFilter</code> and check if it is included in the SecurityChain. Please take a look at <a href=\"https://www.toptal.com/java/rest-security-with-jwt-spring-security-and-java\" rel=\"nofollow noreferrer\">this</a> post"},{"owner":{"account_id":14477922,"reputation":169,"user_id":10458035,"display_name":"Saurabh Bhurle"},"score":0,"creation_date":1609911780,"post_id":62853733,"comment_id":115966638,"body_markdown":"as far as I came to problem you need to do only one thing.                                    \n           http\n            .authorizeRequests()\n        .antMatchers(&quot;loginAPI&quot;,&quot;logoutAPI**&quot;)\n            .permitAll()  this will help you.","body":"as far as I came to problem you need to do only one thing.                                                http             .authorizeRequests()         .antMatchers(&quot;loginAPI&quot;,&quot;logoutAPI**&quot;)             .permitAll()  this will help you."}],"tags":[],"owner":{"account_id":19056270,"reputation":1,"user_id":13913372,"display_name":"Ebby"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594537691,"creation_date":1594496390,"answer_id":62853733,"question_id":35896502,"body_markdown":"I am doing the same as mentioned in the solution \r\n\r\n```\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.cors()\r\n\t\t.and().csrf().ignoringAntMatchers(&quot;/api/auth/**&quot;).disable()\r\n\t\t.exceptionHandling().authenticationEntryPoint(unauthorizedHandler)\r\n\t\t.and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\t.and().authorizeRequests()\r\n\t\t.antMatchers(&quot;api/content/**&quot;).permitAll()\r\n\t\t.anyRequest().authenticated();\r\n\t\t\r\n\t\thttp.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\t}\r\n```\r\n\r\n```\r\n\t@Override\r\n\tpublic void configure(WebSecurity web) throws Exception {\r\n\t\tweb.ignoring().antMatchers(&quot;api/auth/signup&quot;);\r\n\t}\r\n```\r\n\r\nEvery signup request is still hitting the `doFilterInternal()` method which was is a custom method.\r\n\r\nWhile running `EnableWebSecurity` in debug mode i get :\r\n\r\n&gt;Security filter chain: \r\n[WebAsyncManagerIntegrationFilter  \r\n SecurityContextPersistenceFilter  \r\n HeaderWriterFilter   \r\n CorsFilter   \r\n LogoutFilter   \r\n AuthTokenFilter   \r\n RequestCacheAwareFilter   \r\n SecurityContextHolderAwareRequestFilter   \r\n AnonymousAuthenticationFilter   \r\n SessionManagementFilter   \r\n ExceptionTranslationFilter   \r\n FilterSecurityInterceptor ]\r\n\r\nWhat should i do to solve this ?","title":"Spring Security bypass URL or Filter","body":"<p>I am doing the same as mentioned in the solution</p>\n<pre><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors()\n        .and().csrf().ignoringAntMatchers(&quot;/api/auth/**&quot;).disable()\n        .exceptionHandling().authenticationEntryPoint(unauthorizedHandler)\n        .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and().authorizeRequests()\n        .antMatchers(&quot;api/content/**&quot;).permitAll()\n        .anyRequest().authenticated();\n        \n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n    }\n</code></pre>\n<pre><code>    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;api/auth/signup&quot;);\n    }\n</code></pre>\n<p>Every signup request is still hitting the <code>doFilterInternal()</code> method which was is a custom method.</p>\n<p>While running <code>EnableWebSecurity</code> in debug mode i get :</p>\n<blockquote>\n<p>Security filter chain:\n[WebAsyncManagerIntegrationFilter<br />\nSecurityContextPersistenceFilter<br />\nHeaderWriterFilter<br />\nCorsFilter<br />\nLogoutFilter<br />\nAuthTokenFilter<br />\nRequestCacheAwareFilter<br />\nSecurityContextHolderAwareRequestFilter<br />\nAnonymousAuthenticationFilter<br />\nSessionManagementFilter<br />\nExceptionTranslationFilter<br />\nFilterSecurityInterceptor ]</p>\n</blockquote>\n<p>What should i do to solve this ?</p>\n"},{"tags":[],"owner":{"account_id":10813053,"reputation":391,"user_id":10589484,"display_name":"kanik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692335089,"creation_date":1692335089,"answer_id":76926563,"question_id":35896502,"body_markdown":"    In Spring Boot, you can use annotations to control the execution of filters. You can achieve this using the @ConditionalOnProperty annotation to conditionally enable or disable a filter based on a specific property value.\r\n    \r\n    \r\n    In your application.properties or application.yml file, set the value of the property custom.filter.enabled to control whether the filter should be enabled or skipped\r\n       \r\n    \r\n    @Component\r\n    @ConditionalOnProperty(name = &quot;custom.filter.enabled&quot;, havingValue = &quot;true&quot;)\r\n    public class MyCustomFilter implements Filter {\r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n            // Initialization logic if needed\r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n                throws IOException, ServletException {\r\n            // Filter logic\r\n            // You can skip/filter out certain requests here if needed\r\n            chain.doFilter(request, response);\r\n        }\r\n    \r\n        @Override\r\n        public void destroy() {\r\n            // Cleanup logic if needed\r\n        }\r\n    }\r\n\r\n","title":"Spring Security bypass URL or Filter","body":"<pre><code>In Spring Boot, you can use annotations to control the execution of filters. You can achieve this using the @ConditionalOnProperty annotation to conditionally enable or disable a filter based on a specific property value.\n\n\nIn your application.properties or application.yml file, set the value of the property custom.filter.enabled to control whether the filter should be enabled or skipped\n   \n\n@Component\n@ConditionalOnProperty(name = &quot;custom.filter.enabled&quot;, havingValue = &quot;true&quot;)\npublic class MyCustomFilter implements Filter {\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        // Initialization logic if needed\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        // Filter logic\n        // You can skip/filter out certain requests here if needed\n        chain.doFilter(request, response);\n    }\n\n    @Override\n    public void destroy() {\n        // Cleanup logic if needed\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45656,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":38960531,"answer_count":3,"score":13,"last_activity_date":1692335089,"creation_date":1457539140,"question_id":35896502,"body_markdown":"I have a Spring Boot application that is only exposing a REST API. I need to secure it and I&#39;m using a token-based approach  specifically JWT.\r\n\r\nSo far, this is what I have implemented:\r\n\r\n    //\r\n    // The Spring Security configuration class\r\n    @EnableGlobalAuthentication\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n      @Override\r\n      protected void configure(final HttpSecurity http) throws Exception {\r\n        http\r\n            .csrf().disable()\r\n            .authorizeRequests()\r\n              .antMatchers(&quot;/api/login&quot;, &quot;/api/logout&quot;).permitAll()\r\n              .antMatchers(&quot;/api/**&quot;).authenticated()\r\n              .anyRequest().authenticated()\r\n            .and()\r\n              .addFilterBefore(new JwtFilter(), BasicAuthenticationFilter.class)\r\n              .sessionManagement()\r\n              .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n      }\r\n    }\r\n\r\n---\r\n    //\r\n    // The JWT filter class to check for the token in the HTTP request (headers)\r\n    public final class JwtFilter extends GenericFilterBean {\r\n      private final Logger logger = LoggerFactory.getLogger(this.getClass());\r\n\r\n      @Override\r\n      public void doFilter(final ServletRequest request, final ServletResponse response, final FilterChain chain) throws\r\n          IOException, ServletException {\r\n        final HttpServletRequest req = (HttpServletRequest)request;\r\n        final String header = req.getHeader(&quot;Authorization&quot;);\r\n    \r\n        logger.debug(&quot;{} {}&quot;, req.getMethod(), req.getRequestURI());\r\n        if ((null == header) || !header.startsWith(&quot;Bearer &quot;)) {\r\n          logger.debug(&quot;Missing or invalid Authorization header&quot;);\r\n        }\r\n        try {\r\n          // Check the token here; the implementation is not relevant here\r\n          /*SecurityContextHolder.getContext()\r\n              .setAuthentication(manager.authenticate(new JwtToken(JWTParser.parse(header.substring(7)))));*/\r\n          chain.doFilter(request, response);\r\n        } catch (final AuthenticationException e) {\r\n          SecurityContextHolder.clearContext();\r\n          // Do some other stuff here\r\n        } catch (final ParseException e) { /* ... */ }\r\n      }\r\n    }\r\n\r\nThe issue is that the filter executes correctly for every single URI, but I want to be able to exclude some endpoints from the same set. My API is placed in this context `/api/*` and I want to exclude, for instance, `/api/login` and `/api/logout`.\r\n\r\n**NOTE:** My Spring Boot `application.yml` file doesn&#39;t have settings to enable/modify any security-related features.","title":"Spring Security bypass URL or Filter","body":"<p>I have a Spring Boot application that is only exposing a REST API. I need to secure it and I'm using a token-based approach  specifically JWT.</p>\n\n<p>So far, this is what I have implemented:</p>\n\n<pre><code>//\n// The Spring Security configuration class\n@EnableGlobalAuthentication\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n  @Override\n  protected void configure(final HttpSecurity http) throws Exception {\n    http\n        .csrf().disable()\n        .authorizeRequests()\n          .antMatchers(\"/api/login\", \"/api/logout\").permitAll()\n          .antMatchers(\"/api/**\").authenticated()\n          .anyRequest().authenticated()\n        .and()\n          .addFilterBefore(new JwtFilter(), BasicAuthenticationFilter.class)\n          .sessionManagement()\n          .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n  }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>//\n// The JWT filter class to check for the token in the HTTP request (headers)\npublic final class JwtFilter extends GenericFilterBean {\n  private final Logger logger = LoggerFactory.getLogger(this.getClass());\n\n  @Override\n  public void doFilter(final ServletRequest request, final ServletResponse response, final FilterChain chain) throws\n      IOException, ServletException {\n    final HttpServletRequest req = (HttpServletRequest)request;\n    final String header = req.getHeader(\"Authorization\");\n\n    logger.debug(\"{} {}\", req.getMethod(), req.getRequestURI());\n    if ((null == header) || !header.startsWith(\"Bearer \")) {\n      logger.debug(\"Missing or invalid Authorization header\");\n    }\n    try {\n      // Check the token here; the implementation is not relevant here\n      /*SecurityContextHolder.getContext()\n          .setAuthentication(manager.authenticate(new JwtToken(JWTParser.parse(header.substring(7)))));*/\n      chain.doFilter(request, response);\n    } catch (final AuthenticationException e) {\n      SecurityContextHolder.clearContext();\n      // Do some other stuff here\n    } catch (final ParseException e) { /* ... */ }\n  }\n}\n</code></pre>\n\n<p>The issue is that the filter executes correctly for every single URI, but I want to be able to exclude some endpoints from the same set. My API is placed in this context <code>/api/*</code> and I want to exclude, for instance, <code>/api/login</code> and <code>/api/logout</code>.</p>\n\n<p><strong>NOTE:</strong> My Spring Boot <code>application.yml</code> file doesn't have settings to enable/modify any security-related features.</p>\n"},{"tags":["java","spring-boot","repository","azure-cosmosdb","findby"],"answers":[{"comments":[{"owner":{"account_id":544337,"reputation":1995,"user_id":913749,"accept_rate":64,"display_name":"adbdkb"},"score":0,"creation_date":1549717848,"post_id":54603229,"comment_id":96008226,"body_markdown":"When I tried that, I am getting    java.lang.IllegalArgumentException: unsupported keyword: CONTAINING (1): [IsContaining, Containing, Contains].","body":"When I tried that, I am getting    java.lang.IllegalArgumentException: unsupported keyword: CONTAINING (1): [IsContaining, Containing, Contains]."},{"owner":{"account_id":8991752,"reputation":74,"user_id":6703392,"display_name":"Ashish Gupta"},"score":0,"creation_date":1549721597,"post_id":54603229,"comment_id":96009205,"body_markdown":"I forgot the exact syntax but we had the same requirement in one of our last project and we did somewhat like this. Can you try with suggested keywords [IsContaining, Containing, Contains]?","body":"I forgot the exact syntax but we had the same requirement in one of our last project and we did somewhat like this. Can you try with suggested keywords [IsContaining, Containing, Contains]?"},{"owner":{"account_id":544337,"reputation":1995,"user_id":913749,"accept_rate":64,"display_name":"adbdkb"},"score":0,"creation_date":1549727108,"post_id":54603229,"comment_id":96010727,"body_markdown":"Actually I had tried it before adding the above comment.  ( and the one you had posted had one of the three words - &quot;Containing&quot;. )   Would you be able to find what you had to do and post.  Also, the DB I am using is Azure COSMOS, if that also makes any difference.   Thanks","body":"Actually I had tried it before adding the above comment.  ( and the one you had posted had one of the three words - &quot;Containing&quot;. )   Would you be able to find what you had to do and post.  Also, the DB I am using is Azure COSMOS, if that also makes any difference.   Thanks"}],"tags":[],"owner":{"account_id":8991752,"reputation":74,"user_id":6703392,"display_name":"Ashish Gupta"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549687134,"creation_date":1549687134,"answer_id":54603229,"question_id":54602801,"body_markdown":"Try findByChildrenAccountsListContaining(yourString)","title":"How to get List of Objects with value in array in Spring-Boot CrudRepository","body":"<p>Try findByChildrenAccountsListContaining(yourString)</p>\n"}],"owner":{"account_id":544337,"reputation":1995,"user_id":913749,"accept_rate":64,"display_name":"adbdkb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11416,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1692334935,"creation_date":1549682020,"question_id":54602801,"body_markdown":"I have an Object defined that has ChildAccountList of Strings as one of the attributes.\r\n\r\nIs there a findBy method that I can use such that it will return the list of all rows where one of the elements in the array equals the passed in parameter.\r\nI mean something like:\r\n\r\n    List &lt;String&gt; childrenAccountsList = Arrays.asList(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;);\r\n    List&lt;DBObjectType&gt; retList = findBy_{whatGoesHere} (String childValue);\r\n    List&lt;DBObjectType&gt; retList = findBy_{whatGoesHere} (&quot;A&quot;);\r\n\r\n\r\n**UPDATE ( with example )**\r\n\r\nHere are my class definitions\r\n\r\n**UserREF.java**\r\n\r\n    package test;\r\n\r\n\timport com.microsoft.azure.spring.data.documentdb.core.mapping.Document;\r\n\timport com.microsoft.azure.spring.data.documentdb.core.mapping.PartitionKey;\r\n\timport org.springframework.data.annotation.Id;\r\n\r\n\timport java.util.List;\r\n\r\n\t@Document(collection = &quot;user-management&quot;)\r\n\r\n\tpublic class UserREF{\r\n\t   @Id\r\n\t   private String id;\r\n\t   private String userId;\r\n\t   private String role;\r\n\t   private String primaryAccountId;\r\n\r\n\t   @PartitionKey\r\n\t   private String partition;\r\n\t   private String shipTo;\r\n\r\n\t//   @ElementCollection\r\n\t   private List&lt;ShipToAccounts&gt; childShipToAccounts;\r\n\r\n\t   public String getUserId(){\r\n\t\t  return userId;\r\n\t   }\r\n\t   public void setUserId(String userId){\r\n\t\t  this.userId = userId;\r\n\t   }\r\n\t   public String getRole(){\r\n\t\t  return role;\r\n\t   }\r\n\t   public void setRole(String role){\r\n\t\t  this.role = role;\r\n\t   }\r\n\t   public String getPrimaryAccountId(){\r\n\t\t  return primaryAccountId;\r\n\t   }\r\n\t   public void setPrimaryAccountId(String primaryAccountId) {\r\n\t\t  this.partition = primaryAccountId;\r\n\t\t  this.primaryAccountId = primaryAccountId;\r\n\t   }\r\n\r\n\t   public String getPartition() {\r\n\t\t  this.partition = this.primaryAccountId;\r\n\t\t  return this.partition;\r\n\t   }\r\n\r\n\t   public void setPartition(String partition) {\r\n\t\t  this.partition = this.primaryAccountId;\r\n\t   }\r\n\t   public String getShipTo(){\r\n\t\t  return shipTo;\r\n\t   }\r\n\t   public void setShipTo(String shipTo){\r\n\t\t  this.shipTo = shipTo;\r\n\t   }\r\n\t   public List&lt;ShipToAccounts&gt; getChildShipToAccounts(){\r\n\t\t  return childShipToAccounts;\r\n\t   }\r\n\t   public void setChildShipToAccounts(List&lt;ShipToAccounts&gt; shipToAccounts){\r\n\t\t  for (ShipToAccounts shipToAccount : shipToAccounts) {\r\n\t\t\t shipToAccount.setPrimaryAccountId(this.primaryAccountId);\r\n\t\t  }\r\n\t\t  this.childShipToAccounts = shipToAccounts;\r\n\t   }\r\n\t   public String getId(){\r\n\t\t  return id;\r\n\t   }\r\n\t   public void setId(String id){\r\n\t\t  this.id = id;\r\n\t   }\r\n\t}\r\n\r\n\r\n**ShipToAccounts.java**\r\n\r\n\r\n\r\n    package test;\r\n\r\n\r\n\tpublic class ShipToAccounts{\r\n\t   private String primaryAccountId;\r\n\t   private String accountId;\r\n\r\n\t   public String getPrimaryAccountId() {\r\n\t\t  return primaryAccountId;\r\n\t   }\r\n\r\n\t   public void setPrimaryAccountId(String primaryAccountId) {\r\n\t\t  this.primaryAccountId = primaryAccountId;\r\n\t   }\r\n\r\n\t   public String getAccountId(){\r\n\t\t  return accountId;\r\n\t   }\r\n\t   public void setAccountId(String input){\r\n\t\t  this.accountId = input;\r\n\t   }\r\n\t}\r\n\r\n\r\n**UserREFRepository.java**\r\n\r\n\r\n\tpackage test;\r\n\r\n\timport org.springframework.boot.autoconfigure.condition.ConditionalOnBean;\r\n\timport org.springframework.cache.annotation.Cacheable;\r\n\timport org.springframework.data.repository.query.Param;\r\n\timport org.springframework.stereotype.Repository;\r\n\r\n\timport com.microsoft.azure.spring.data.documentdb.core.DocumentDbOperations;\r\n\timport com.microsoft.azure.spring.data.documentdb.repository.DocumentDbRepository;\r\n\r\n\timport java.util.List;\r\n\r\n\t@Repository\r\n\t@ConditionalOnBean(DocumentDbOperations.class)\r\n\tpublic interface UserREFRepository  extends DocumentDbRepository&lt;UserREF, String&gt; {\r\n\r\n\t   @Override\r\n\t   @Cacheable(&quot;test_users&quot;)\r\n\t   UserREF findOne(String id, String partitionKeyValue);\r\n\r\n\t   List&lt;UserREF&gt; findByRole(String role);\r\n\r\n\t   List&lt;UserREF&gt; findByChildShipToAccounts_PrimaryAccountId (@Param(&quot;primaryAccountId&quot;) String primaryAccountId);\r\n\r\n\t   List&lt;UserREF&gt; findAllByChildShipToAccounts_PrimaryAccountId(String s);\r\n\r\n\r\n\t}\r\n\r\n\r\n**UserRefService.java**\r\n\r\n\tpackage test;\r\n\r\n\r\n\timport org.slf4j.Logger;\r\n\timport org.slf4j.LoggerFactory;\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.data.repository.query.Param;\r\n\timport org.springframework.stereotype.Service;\r\n\r\n\timport java.math.BigDecimal;\r\n\timport java.util.List;\r\n\r\n\t@Service\r\n\tpublic class UserRefService {\r\n\r\n\t   private static final Logger log = LoggerFactory.getLogger(UserRefService.class);\r\n\r\n\t   @Autowired\r\n\t   private UserREFRepository userREFRepository;\r\n\r\n\t   public UserREF save(UserREF inUser) {\r\n\t\t  List&lt;UserREF&gt; adminUsersList =  userREFRepository.findAllByChildShipToAccounts_PrimaryAccountId(&quot;123456&quot;);\r\n\t\t  System.out.println(&quot;users &quot; + adminUsersList);\r\n\t\t  UserREF newUser = userREFRepository.save(inUser);\r\n\t\t  return newUser;\r\n\t   }\r\n\r\n\t}\r\n\r\nAnd this is how my JSON document looks like\r\n\r\n    \t{\r\n\t\t&quot;role&quot;: &quot;admin&quot;,\r\n\t\t&quot;partition&quot;: &quot;123456&quot;,\r\n\t\t&quot;primaryAccountId&quot;: &quot;123456&quot;,\r\n\t\t&quot;childShipToAccounts&quot;: [\r\n\t\t\t{\r\n\t\t\t\t&quot;accountId&quot;: &quot;1111&quot;,\r\n\t\t\t\t&quot;primaryAccountId&quot;: &quot;123456&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;accountId&quot;: &quot;2222&quot;,\r\n\t\t\t\t&quot;primaryAccountId&quot;: &quot;123456&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;accountId&quot;: &quot;3333&quot;,\r\n\t\t\t\t&quot;primaryAccountId&quot;: &quot;123456&quot;\r\n\t\t\t}\r\n\t\t],\r\n\t\t&quot;id&quot;: &quot;1b6d8497-1aca-4cab-9e3d-f8be3ba4f71c&quot;,\r\n\t\t&quot;userId&quot;: &quot;22&quot;,\r\n\t\t&quot;shipTo&quot;: &quot;2222&quot;\r\n\t}\r\n\r\nI am getting below error on `List&lt;UserREF&gt; adminUsersList =  userREFRepository.findAllByChildShipToAccounts_PrimaryAccountId(&quot;123456&quot;);`\r\n\r\n    java.lang.IllegalStateException: com.microsoft.azure.documentdb.DocumentClientException: \r\n        Message: {&quot;Errors&quot;:[&quot;Invalid query. Specified parameter name &#39;@childShipToAccounts.primaryAccountId&#39; is invalid. \r\n        Parameter names should be in the format of symbol &#39;@&#39; followed by a valid identifier. E.g. @param1&quot;]}\r\n    ActivityId: fd188aac-f99c-4983-b442-713c529dc930, Microsoft.Azure.Documents.Common/2.1.0.0, StatusCode: BadRequest\r\n\r\nHow should I define my &quot;findBy&quot; method ?\r\n\r\nThanks\r\n","title":"How to get List of Objects with value in array in Spring-Boot CrudRepository","body":"<p>I have an Object defined that has ChildAccountList of Strings as one of the attributes.</p>\n\n<p>Is there a findBy method that I can use such that it will return the list of all rows where one of the elements in the array equals the passed in parameter.\nI mean something like:</p>\n\n<pre><code>List &lt;String&gt; childrenAccountsList = Arrays.asList(\"A\",\"B\",\"C\");\nList&lt;DBObjectType&gt; retList = findBy_{whatGoesHere} (String childValue);\nList&lt;DBObjectType&gt; retList = findBy_{whatGoesHere} (\"A\");\n</code></pre>\n\n<p><strong>UPDATE ( with example )</strong></p>\n\n<p>Here are my class definitions</p>\n\n<p><strong>UserREF.java</strong></p>\n\n<pre><code>package test;\n\nimport com.microsoft.azure.spring.data.documentdb.core.mapping.Document;\nimport com.microsoft.azure.spring.data.documentdb.core.mapping.PartitionKey;\nimport org.springframework.data.annotation.Id;\n\nimport java.util.List;\n\n@Document(collection = \"user-management\")\n\npublic class UserREF{\n   @Id\n   private String id;\n   private String userId;\n   private String role;\n   private String primaryAccountId;\n\n   @PartitionKey\n   private String partition;\n   private String shipTo;\n\n//   @ElementCollection\n   private List&lt;ShipToAccounts&gt; childShipToAccounts;\n\n   public String getUserId(){\n      return userId;\n   }\n   public void setUserId(String userId){\n      this.userId = userId;\n   }\n   public String getRole(){\n      return role;\n   }\n   public void setRole(String role){\n      this.role = role;\n   }\n   public String getPrimaryAccountId(){\n      return primaryAccountId;\n   }\n   public void setPrimaryAccountId(String primaryAccountId) {\n      this.partition = primaryAccountId;\n      this.primaryAccountId = primaryAccountId;\n   }\n\n   public String getPartition() {\n      this.partition = this.primaryAccountId;\n      return this.partition;\n   }\n\n   public void setPartition(String partition) {\n      this.partition = this.primaryAccountId;\n   }\n   public String getShipTo(){\n      return shipTo;\n   }\n   public void setShipTo(String shipTo){\n      this.shipTo = shipTo;\n   }\n   public List&lt;ShipToAccounts&gt; getChildShipToAccounts(){\n      return childShipToAccounts;\n   }\n   public void setChildShipToAccounts(List&lt;ShipToAccounts&gt; shipToAccounts){\n      for (ShipToAccounts shipToAccount : shipToAccounts) {\n         shipToAccount.setPrimaryAccountId(this.primaryAccountId);\n      }\n      this.childShipToAccounts = shipToAccounts;\n   }\n   public String getId(){\n      return id;\n   }\n   public void setId(String id){\n      this.id = id;\n   }\n}\n</code></pre>\n\n<p><strong>ShipToAccounts.java</strong></p>\n\n<pre><code>package test;\n\n\npublic class ShipToAccounts{\n   private String primaryAccountId;\n   private String accountId;\n\n   public String getPrimaryAccountId() {\n      return primaryAccountId;\n   }\n\n   public void setPrimaryAccountId(String primaryAccountId) {\n      this.primaryAccountId = primaryAccountId;\n   }\n\n   public String getAccountId(){\n      return accountId;\n   }\n   public void setAccountId(String input){\n      this.accountId = input;\n   }\n}\n</code></pre>\n\n<p><strong>UserREFRepository.java</strong></p>\n\n<pre><code>package test;\n\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnBean;\nimport org.springframework.cache.annotation.Cacheable;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Repository;\n\nimport com.microsoft.azure.spring.data.documentdb.core.DocumentDbOperations;\nimport com.microsoft.azure.spring.data.documentdb.repository.DocumentDbRepository;\n\nimport java.util.List;\n\n@Repository\n@ConditionalOnBean(DocumentDbOperations.class)\npublic interface UserREFRepository  extends DocumentDbRepository&lt;UserREF, String&gt; {\n\n   @Override\n   @Cacheable(\"test_users\")\n   UserREF findOne(String id, String partitionKeyValue);\n\n   List&lt;UserREF&gt; findByRole(String role);\n\n   List&lt;UserREF&gt; findByChildShipToAccounts_PrimaryAccountId (@Param(\"primaryAccountId\") String primaryAccountId);\n\n   List&lt;UserREF&gt; findAllByChildShipToAccounts_PrimaryAccountId(String s);\n\n\n}\n</code></pre>\n\n<p><strong>UserRefService.java</strong></p>\n\n<pre><code>package test;\n\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Service;\n\nimport java.math.BigDecimal;\nimport java.util.List;\n\n@Service\npublic class UserRefService {\n\n   private static final Logger log = LoggerFactory.getLogger(UserRefService.class);\n\n   @Autowired\n   private UserREFRepository userREFRepository;\n\n   public UserREF save(UserREF inUser) {\n      List&lt;UserREF&gt; adminUsersList =  userREFRepository.findAllByChildShipToAccounts_PrimaryAccountId(\"123456\");\n      System.out.println(\"users \" + adminUsersList);\n      UserREF newUser = userREFRepository.save(inUser);\n      return newUser;\n   }\n\n}\n</code></pre>\n\n<p>And this is how my JSON document looks like</p>\n\n<pre><code>    {\n    \"role\": \"admin\",\n    \"partition\": \"123456\",\n    \"primaryAccountId\": \"123456\",\n    \"childShipToAccounts\": [\n        {\n            \"accountId\": \"1111\",\n            \"primaryAccountId\": \"123456\"\n        },\n        {\n            \"accountId\": \"2222\",\n            \"primaryAccountId\": \"123456\"\n        },\n        {\n            \"accountId\": \"3333\",\n            \"primaryAccountId\": \"123456\"\n        }\n    ],\n    \"id\": \"1b6d8497-1aca-4cab-9e3d-f8be3ba4f71c\",\n    \"userId\": \"22\",\n    \"shipTo\": \"2222\"\n}\n</code></pre>\n\n<p>I am getting below error on <code>List&lt;UserREF&gt; adminUsersList =  userREFRepository.findAllByChildShipToAccounts_PrimaryAccountId(\"123456\");</code></p>\n\n<pre><code>java.lang.IllegalStateException: com.microsoft.azure.documentdb.DocumentClientException: \n    Message: {\"Errors\":[\"Invalid query. Specified parameter name '@childShipToAccounts.primaryAccountId' is invalid. \n    Parameter names should be in the format of symbol '@' followed by a valid identifier. E.g. @param1\"]}\nActivityId: fd188aac-f99c-4983-b442-713c529dc930, Microsoft.Azure.Documents.Common/2.1.0.0, StatusCode: BadRequest\n</code></pre>\n\n<p>How should I define my \"findBy\" method ?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":5101035,"reputation":1027,"user_id":4090651,"display_name":"Yonatan Wilkof"},"score":2,"creation_date":1583246574,"post_id":60509556,"comment_id":107046543,"body_markdown":"This [post](https://medium.com/innomizetech/dynamic-multi-database-application-with-spring-boot-7c61a743e914) could be relevant for you. You will need to have a routing data source which will depends on this thread&#39;s context (namely, the shard you will want to query). Setting the context can either be done explicitly or by aspect oriented programming.","body":"This <a href=\"https://medium.com/innomizetech/dynamic-multi-database-application-with-spring-boot-7c61a743e914\" rel=\"nofollow noreferrer\">post</a> could be relevant for you. You will need to have a routing data source which will depends on this thread&#39;s context (namely, the shard you will want to query). Setting the context can either be done explicitly or by aspect oriented programming."}],"owner":{"account_id":12712199,"reputation":43,"user_id":9235478,"display_name":"Hammaren"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2408,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1692334862,"creation_date":1583246154,"question_id":60509556,"body_markdown":"I want to connect a SpringBoot App to a legacy database system with manual sharding management.\r\n\r\nWith a carId given by a user, I can locate the shard where the car is saved.\r\n(examples: carId=1 is in shard 1, carId=2 is in shard2)\r\n\r\nI do not know how to do it in a proper way (autowiring?, Datasource?, ..). \r\n\r\nCan you help me?\r\n\r\n\r\nMy application\r\n\r\n```\r\n@SpringBootApplication\r\npublic class CarApiApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CarApiApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nMy controller\r\n\r\n```\r\n@RestController\r\npublic class CarController {\r\n\r\n    @Autowired\r\n    CarService carService;\r\n\r\n    @GetMapping(&quot;/car/{carId}&quot;)\r\n    public Optional&lt;Car&gt; car(\r\n            @PathVariable(value = &quot;carId&quot;) String carId\r\n    ) {\r\n        return carService.getTransaction(carId);\r\n    }\r\n}\r\n```\r\n\r\nMy service\r\n\r\n```@Service\r\npublic class CarService {\r\n\r\n    @Autowired\r\n    private CarJpaRepository carJpaRepository;\r\n\r\n    public Optional&lt;Car&gt; getCar(String carId) {\r\n        Optional&lt;Car&gt; car = carJpaRepository.findById(carId);\r\n        return car;\r\n    }\r\n}\r\n```\r\n\r\nMy Repository\r\n\r\n```@Repository\r\npublic interface CarJpaRepository extends JpaRepository&lt;Transaction, Long&gt; {\r\n    \r\n}\r\n```\r\n\r\nMy configuration\r\n\r\n```\r\nspring.shard1.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.shard1.url=jdbc:mysql://localhost:3306/shard1?serverTimezone=UTC&amp;useLegacyDatetimeCode=false\r\nspring.shard1.username=root\r\nspring.shard1.password=root\r\n\r\nspring.shard2.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.shard2.url=jdbc:mysql://localhost:3306/shard2?serverTimezone=UTC&amp;useLegacyDatetimeCode=false\r\nspring.shard2.username=root\r\nspring.shard2.password=root\r\n\r\nspring.shard3.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.shard3.url=jdbc:mysql://localhost:3306/shard3?serverTimezone=UTC&amp;useLegacyDatetimeCode=false\r\nspring.shard3.username=root\r\nspring.shard3.password=root\r\n\r\nspring.shard4.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.shard4.url=jdbc:mysql://localhost:3306/shard4?serverTimezone=UTC&amp;useLegacyDatetimeCode=false\r\nspring.shard4.username=root\r\nspring.shard4.password=root\r\n```\r\n\r\n","title":"SpringBoot datasource and manual sharding","body":"<p>I want to connect a SpringBoot App to a legacy database system with manual sharding management.</p>\n\n<p>With a carId given by a user, I can locate the shard where the car is saved.\n(examples: carId=1 is in shard 1, carId=2 is in shard2)</p>\n\n<p>I do not know how to do it in a proper way (autowiring?, Datasource?, ..). </p>\n\n<p>Can you help me?</p>\n\n<p>My application</p>\n\n<pre><code>@SpringBootApplication\npublic class CarApiApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CarApiApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>My controller</p>\n\n<pre><code>@RestController\npublic class CarController {\n\n    @Autowired\n    CarService carService;\n\n    @GetMapping(\"/car/{carId}\")\n    public Optional&lt;Car&gt; car(\n            @PathVariable(value = \"carId\") String carId\n    ) {\n        return carService.getTransaction(carId);\n    }\n}\n</code></pre>\n\n<p>My service</p>\n\n<pre><code>public class CarService {\n\n    @Autowired\n    private CarJpaRepository carJpaRepository;\n\n    public Optional&lt;Car&gt; getCar(String carId) {\n        Optional&lt;Car&gt; car = carJpaRepository.findById(carId);\n        return car;\n    }\n}\n</code></pre>\n\n<p>My Repository</p>\n\n<pre><code>public interface CarJpaRepository extends JpaRepository&lt;Transaction, Long&gt; {\n\n}\n</code></pre>\n\n<p>My configuration</p>\n\n<pre><code>spring.shard1.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.shard1.url=jdbc:mysql://localhost:3306/shard1?serverTimezone=UTC&amp;useLegacyDatetimeCode=false\nspring.shard1.username=root\nspring.shard1.password=root\n\nspring.shard2.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.shard2.url=jdbc:mysql://localhost:3306/shard2?serverTimezone=UTC&amp;useLegacyDatetimeCode=false\nspring.shard2.username=root\nspring.shard2.password=root\n\nspring.shard3.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.shard3.url=jdbc:mysql://localhost:3306/shard3?serverTimezone=UTC&amp;useLegacyDatetimeCode=false\nspring.shard3.username=root\nspring.shard3.password=root\n\nspring.shard4.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.shard4.url=jdbc:mysql://localhost:3306/shard4?serverTimezone=UTC&amp;useLegacyDatetimeCode=false\nspring.shard4.username=root\nspring.shard4.password=root\n</code></pre>\n"},{"tags":["java","spring-boot","graphql","java-annotations","spring-graphql"],"comments":[{"owner":{"account_id":27026595,"reputation":24,"user_id":20583761,"display_name":"arctic_fox"},"score":0,"creation_date":1692332629,"post_id":76922983,"comment_id":135616667,"body_markdown":"You can override intercept method of WebGraphQlInterceptor class in java and view request body and filter there and decide to continue with further steps or not. What exactly is your use case. Why do you want to intercept request then I can give some more info.","body":"You can override intercept method of WebGraphQlInterceptor class in java and view request body and filter there and decide to continue with further steps or not. What exactly is your use case. Why do you want to intercept request then I can give some more info."},{"owner":{"account_id":1008301,"reputation":7815,"user_id":1021426,"accept_rate":81,"display_name":"Mar"},"score":0,"creation_date":1692369893,"post_id":76922983,"comment_id":135617986,"body_markdown":"Use case is blocking queries/mutations individually based on user&#39;s permissions or lack thereof. I already have a request-level filter, I don&#39;t want to implement it there because I want each query/mutation to be evaluated separately because they have different permission requirements.","body":"Use case is blocking queries/mutations individually based on user&#39;s permissions or lack thereof. I already have a request-level filter, I don&#39;t want to implement it there because I want each query/mutation to be evaluated separately because they have different permission requirements."}],"owner":{"account_id":1008301,"reputation":7815,"user_id":1021426,"accept_rate":81,"display_name":"Mar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692332629,"creation_date":1692286139,"question_id":76922983,"body_markdown":"I want to add an annotation to my controller methods that is used to check if the user can perform an action or access a piece of data before the controller method is called.\r\n\r\nI want to be able to check each individual query/mutation, rather than each http request which may come with multiple queries or mutations.\r\n\r\nI assume Spring&#39;s GraphQL framework has a way of intercepting graphql queries/mutations before (and probably after) the corresponding controller method is run, but I don&#39;t know what to call it and thus haven&#39;t been able to find documentation or a tutorial on it.","title":"Spring Boot Graphql: How can I pre-process an individual query/mutation before it runs the controller method?","body":"<p>I want to add an annotation to my controller methods that is used to check if the user can perform an action or access a piece of data before the controller method is called.</p>\n<p>I want to be able to check each individual query/mutation, rather than each http request which may come with multiple queries or mutations.</p>\n<p>I assume Spring's GraphQL framework has a way of intercepting graphql queries/mutations before (and probably after) the corresponding controller method is run, but I don't know what to call it and thus haven't been able to find documentation or a tutorial on it.</p>\n"},{"tags":["java","string","conditional-statements","string-comparison","boolean-logic"],"comments":[{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":8,"creation_date":1283155798,"post_id":3598770,"comment_id":3777967,"body_markdown":"You should probably use `PreparedStatement` and such instead of constructing an SQL query by string concatenation primitives. Avoids all kinds of injection vulnerabilities, much more readable, etc.","body":"You should probably use <code>PreparedStatement</code> and such instead of constructing an SQL query by string concatenation primitives. Avoids all kinds of injection vulnerabilities, much more readable, etc."},{"owner":{"account_id":1612366,"reputation":780,"user_id":1490962,"accept_rate":60,"display_name":"Bhushankumar Lilapara"},"score":2,"creation_date":1369908669,"post_id":3598770,"comment_id":24270517,"body_markdown":"You can create class that will check for null values or null object.\nThat will help you improving reuse-ability..\nhttp://stackoverflow.com/a/16833309/1490962","body":"You can create class that will check for null values or null object. That will help you improving reuse-ability.. <a href=\"http://stackoverflow.com/a/16833309/1490962\">stackoverflow.com/a/16833309/1490962</a>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669983481,"post_id":3598770,"comment_id":131772541,"body_markdown":"This condition can be expressed as a *java.util.function.Predicate* in the following way `Predicate.&lt;String&gt;isEqual(null).or(String::isEmpty).negate()` as explained [here](https://stackoverflow.com/a/74649555/17949945).","body":"This condition can be expressed as a <i>java.util.function.Predicate</i> in the following way <code>Predicate.&lt;String&gt;isEqual(null).or(String::isEmpty).negate()</code> as explained <a href=\"https://stackoverflow.com/a/74649555/17949945\">here</a>."}],"answers":[{"comments":[{"owner":{"account_id":3683422,"reputation":1358,"user_id":3067802,"accept_rate":57,"display_name":"arn-arn"},"score":0,"creation_date":1425583065,"post_id":3598789,"comment_id":46032930,"body_markdown":"thanks...the str.length() worked for me. My case was that i&#39;m getting the values from the array after querying from the database. Even if the data was empty, when i did the str.length it was giving &quot;1&quot; length. Very strange but thanks for showing me this.","body":"thanks...the str.length() worked for me. My case was that i&#39;m getting the values from the array after querying from the database. Even if the data was empty, when i did the str.length it was giving &quot;1&quot; length. Very strange but thanks for showing me this."},{"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"score":0,"creation_date":1426192392,"post_id":3598789,"comment_id":46283122,"body_markdown":"That has to do with the internals of the database. Either it&#39;s a char field instead of a varchar field (so it pads with spaces) or the database doesn&#39;t like empty strings. I guess the best is to preprocess those values after/while querying (in the data access later of the app).","body":"That has to do with the internals of the database. Either it&#39;s a char field instead of a varchar field (so it pads with spaces) or the database doesn&#39;t like empty strings. I guess the best is to preprocess those values after/while querying (in the data access later of the app)."},{"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"score":0,"creation_date":1449680919,"post_id":3598789,"comment_id":56115783,"body_markdown":"I think checking the length is better than &#39;equals&#39; because it&#39;s an O(1) operation since the length is cached in case of String.","body":"I think checking the length is better than &#39;equals&#39; because it&#39;s an O(1) operation since the length is cached in case of String."}],"tags":[],"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"comment_count":3,"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1283155467,"creation_date":1283155467,"answer_id":3598789,"question_id":3598770,"body_markdown":"    str != null &amp;&amp; str.length() != 0\r\n\r\nalternatively\r\n\r\n    str != null &amp;&amp; !str.equals(&quot;&quot;)\r\n\r\nor\r\n\r\n    str != null &amp;&amp; !&quot;&quot;.equals(str)\r\n\r\nNote: The second check (first and second alternatives) assumes str is not null. It&#39;s ok only because the first check is doing that (and Java doesn&#39;t does the second check if the first is false)!\r\n\r\nIMPORTANT: DON&#39;T use == for string equality. == checks the pointer is equal, not the value. Two strings can be in different memory addresses (two instances) but have the same value!","title":"Check whether a String is not Null and not Empty","body":"<pre><code>str != null &amp;&amp; str.length() != 0\n</code></pre>\n\n<p>alternatively</p>\n\n<pre><code>str != null &amp;&amp; !str.equals(\"\")\n</code></pre>\n\n<p>or</p>\n\n<pre><code>str != null &amp;&amp; !\"\".equals(str)\n</code></pre>\n\n<p>Note: The second check (first and second alternatives) assumes str is not null. It's ok only because the first check is doing that (and Java doesn't does the second check if the first is false)!</p>\n\n<p>IMPORTANT: DON'T use == for string equality. == checks the pointer is equal, not the value. Two strings can be in different memory addresses (two instances) but have the same value!</p>\n"},{"comments":[{"owner":{"account_id":1665141,"reputation":1469,"user_id":1532705,"accept_rate":73,"display_name":"Mindwin Remember Monica"},"score":1,"creation_date":1368631188,"post_id":3598790,"comment_id":23806669,"body_markdown":"throws NullPointerException if str is NULL.","body":"throws NullPointerException if str is NULL."},{"owner":{"account_id":150475,"reputation":15047,"user_id":363701,"accept_rate":81,"display_name":"Zach Lysobey"},"score":14,"creation_date":1376517420,"post_id":3598790,"comment_id":26748662,"body_markdown":"@Mindwin That&#39;s not true. It will not execute the code to the right of the `&amp;&amp;` if str == null, thus preventing a NullPointerException. (Source: I just tried)","body":"@Mindwin That&#39;s not true. It will not execute the code to the right of the <code>&amp;&amp;</code> if str == null, thus preventing a NullPointerException. (Source: I just tried)"},{"owner":{"account_id":1665141,"reputation":1469,"user_id":1532705,"accept_rate":73,"display_name":"Mindwin Remember Monica"},"score":1,"creation_date":1392725707,"post_id":3598790,"comment_id":33081012,"body_markdown":"I stand corrected. Won&#39;t delete the comment out of shame so Zach and GI Joe won&#39;t be left with responses hanging out of nowhere. Lolz. BUT its nice to know that, this skipping might cause logical failures if you do something else other than just test stuff and return a boolean on the skipped method calls.","body":"I stand corrected. Won&#39;t delete the comment out of shame so Zach and GI Joe won&#39;t be left with responses hanging out of nowhere. Lolz. BUT its nice to know that, this skipping might cause logical failures if you do something else other than just test stuff and return a boolean on the skipped method calls."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1466735372,"post_id":3598790,"comment_id":63453296,"body_markdown":"@Mindwin It&#39;s nice to know how the language you are using actually works. If you don&#39;t understand short-circuit evaluation, either don&#39;t use it or, better still, learn about it.","body":"@Mindwin It&#39;s nice to know how the language you are using actually works. If you don&#39;t understand short-circuit evaluation, either don&#39;t use it or, better still, learn about it."}],"tags":[],"owner":{"account_id":80529,"reputation":448258,"user_id":227665,"accept_rate":33,"display_name":"codaddict"},"comment_count":4,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1283155492,"creation_date":1283155492,"answer_id":3598790,"question_id":3598770,"body_markdown":"How about:\r\n\r\n    if(str!= null &amp;&amp; str.length() != 0 )\r\n\r\n","title":"Check whether a String is not Null and not Empty","body":"<p>How about:</p>\n\n<pre><code>if(str!= null &amp;&amp; str.length() != 0 )\n</code></pre>\n"},{"comments":[{"owner":{"account_id":79742,"reputation":19393,"user_id":225899,"accept_rate":85,"display_name":"James P."},"score":83,"creation_date":1313324566,"post_id":3598792,"comment_id":8438741,"body_markdown":"Note that `isEmpty()` appears to require a String instance (non-static). Invoking this on a null reference will throw a NullPointerException.","body":"Note that <code>isEmpty()</code> appears to require a String instance (non-static). Invoking this on a null reference will throw a NullPointerException."},{"owner":{"account_id":142753,"reputation":3696,"user_id":350651,"accept_rate":64,"display_name":"PapaFreud"},"score":39,"creation_date":1385054105,"post_id":3598792,"comment_id":29995303,"body_markdown":"Or if(str != null &amp;&amp; !str.trim().isEmpty()), to ignore whitespace.","body":"Or if(str != null &amp;&amp; !str.trim().isEmpty()), to ignore whitespace."},{"owner":{"account_id":388581,"reputation":4166,"user_id":944571,"display_name":"jruzafa"},"score":0,"creation_date":1398715912,"post_id":3598792,"comment_id":35760567,"body_markdown":"if((txt.getText().length()) == 0 ) // get element from layout","body":"if((txt.getText().length()) == 0 ) // get element from layout"},{"owner":{"account_id":3692169,"reputation":1973,"user_id":3074515,"display_name":"George Maisuradze"},"score":37,"creation_date":1416432366,"post_id":3598792,"comment_id":42577624,"body_markdown":"I&#39;d recommend to use `TextUtils.isEmpty(String)` to check is string empty or null. Nice and short. The TextUtils class is a part of Android SDK.","body":"I&#39;d recommend to use <code>TextUtils.isEmpty(String)</code> to check is string empty or null. Nice and short. The TextUtils class is a part of Android SDK."},{"owner":{"account_id":1179053,"reputation":2329,"user_id":1154390,"accept_rate":31,"display_name":"user1154390"},"score":0,"creation_date":1416503860,"post_id":3598792,"comment_id":42609691,"body_markdown":"boolean check = (yourstring != null)  ?    (yourstring.length() &gt; 0 ? true : false) : false;","body":"boolean check = (yourstring != null)  ?    (yourstring.length() &gt; 0 ? true : false) : false;"},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":1,"creation_date":1440718655,"post_id":3598792,"comment_id":52401847,"body_markdown":"@user1154390: sometimes its worth explicitly using true and false for clarity, but when condition returns true for true and false for false, its unnecessary complexity. Simply say `(str != null &amp;&amp; str.length() &gt; 0)`.","body":"@user1154390: sometimes its worth explicitly using true and false for clarity, but when condition returns true for true and false for false, its unnecessary complexity. Simply say <code>(str != null &amp;&amp; str.length() &gt; 0)</code>."},{"owner":{"account_id":415813,"reputation":3152,"user_id":790839,"display_name":"Anver Sadhat"},"score":0,"creation_date":1539786855,"post_id":3598792,"comment_id":92629924,"body_markdown":"Need to use a simple Predicate to be on safe side.    Predicate&lt;String&gt; isBlank = str -&gt; str != null &amp;&amp; str.isBlank();","body":"Need to use a simple Predicate to be on safe side.    Predicate&lt;String&gt; isBlank = str -&gt; str != null &amp;&amp; str.isBlank();"}],"tags":[],"owner":{"account_id":185700,"reputation":91879,"user_id":422597,"display_name":"Colin Hebert"},"comment_count":7,"down_vote_count":4,"up_vote_count":1000,"is_accepted":true,"score":996,"last_activity_date":1538856980,"creation_date":1283155494,"answer_id":3598792,"question_id":3598770,"body_markdown":"What about [isEmpty()][1] ?\r\n\r\n    if(str != null &amp;&amp; !str.isEmpty())\r\n\r\nBe sure to use the parts of `&amp;&amp;` in this order, because java will not proceed to evaluate the second part if the first part of `&amp;&amp;` fails, thus ensuring you will not get a null pointer exception from `str.isEmpty()` if `str` is null.\r\n\r\nBeware, it&#39;s only available since Java SE 1.6. You have to check `str.length() == 0` on previous versions.\r\n\r\n---\r\n\r\nTo ignore whitespace as well:\r\n\r\n    if(str != null &amp;&amp; !str.trim().isEmpty())\r\n\r\n(since Java 11 `str.trim().isEmpty()` can be reduced to `str.isBlank()` which will also test for other Unicode white spaces)\r\n\r\n    \r\n\r\nWrapped in a handy function:\r\n\r\n    public static boolean empty( final String s ) {\r\n      // Null-safe, short-circuit evaluation.\r\n      return s == null || s.trim().isEmpty();\r\n    }\r\n\r\nBecomes:\r\n\r\n    if( !empty( str ) )\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/String.html#isEmpty()\r\n","title":"Check whether a String is not Null and not Empty","body":"<p>What about <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#isEmpty()\" rel=\"noreferrer\">isEmpty()</a> ?</p>\n\n<pre><code>if(str != null &amp;&amp; !str.isEmpty())\n</code></pre>\n\n<p>Be sure to use the parts of <code>&amp;&amp;</code> in this order, because java will not proceed to evaluate the second part if the first part of <code>&amp;&amp;</code> fails, thus ensuring you will not get a null pointer exception from <code>str.isEmpty()</code> if <code>str</code> is null.</p>\n\n<p>Beware, it's only available since Java SE 1.6. You have to check <code>str.length() == 0</code> on previous versions.</p>\n\n<hr>\n\n<p>To ignore whitespace as well:</p>\n\n<pre><code>if(str != null &amp;&amp; !str.trim().isEmpty())\n</code></pre>\n\n<p>(since Java 11 <code>str.trim().isEmpty()</code> can be reduced to <code>str.isBlank()</code> which will also test for other Unicode white spaces)</p>\n\n<p>Wrapped in a handy function:</p>\n\n<pre><code>public static boolean empty( final String s ) {\n  // Null-safe, short-circuit evaluation.\n  return s == null || s.trim().isEmpty();\n}\n</code></pre>\n\n<p>Becomes:</p>\n\n<pre><code>if( !empty( str ) )\n</code></pre>\n"},{"comments":[{"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"score":22,"creation_date":1283156769,"post_id":3598814,"comment_id":3778081,"body_markdown":"isn&#39;t Apache commons-lang an overkill if you can just use isEmpty? Just curious.","body":"isn&#39;t Apache commons-lang an overkill if you can just use isEmpty? Just curious."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":21,"creation_date":1283157011,"post_id":3598814,"comment_id":3778104,"body_markdown":"@zengr - no, because you most certainly would use other things as well :)","body":"@zengr - no, because you most certainly would use other things as well :)"},{"owner":{"account_id":13233,"reputation":79895,"user_id":26457,"accept_rate":80,"display_name":"Romain Linsolas"},"score":2,"creation_date":1283157614,"post_id":3598814,"comment_id":3778154,"body_markdown":"@zengr Indeed, if you only use `isEmpty` or `isBlank`, maybe it is not usefull to include a third-party library. You can simply create your own utility class to provide such method. However, as Bozho explain, the `commons-lang` project provide many usefull methods!","body":"@zengr Indeed, if you only use <code>isEmpty</code> or <code>isBlank</code>, maybe it is not usefull to include a third-party library. You can simply create your own utility class to provide such method. However, as Bozho explain, the <code>commons-lang</code> project provide many usefull methods!"},{"owner":{"account_id":213519,"reputation":149,"user_id":466949,"accept_rate":100,"display_name":"sdesciencelover"},"score":16,"creation_date":1359555932,"post_id":3598814,"comment_id":20393661,"body_markdown":"Because `StringUtils.isNotBlank(str)` does the null-checking as well.","body":"Because <code>StringUtils.isNotBlank(str)</code> does the null-checking as well."},{"owner":{"account_id":2160665,"reputation":313,"user_id":1914883,"accept_rate":100,"display_name":"linuxunil"},"score":4,"creation_date":1540490012,"post_id":3598814,"comment_id":92895691,"body_markdown":"If you use Spring Framework, this could be ALREADY bundled in the jars of the framework.","body":"If you use Spring Framework, this could be ALREADY bundled in the jars of the framework."},{"owner":{"account_id":3549742,"reputation":4749,"user_id":2964890,"accept_rate":72,"display_name":"javaPlease42"},"score":1,"creation_date":1614883223,"post_id":3598814,"comment_id":117528563,"body_markdown":"If your app is already using this Apache Commons then its fine. Note there is Apache Commons lang3 `org.apache.commons.lang3.StringUtils.isNotBlank`","body":"If your app is already using this Apache Commons then its fine. Note there is Apache Commons lang3 <code>org.apache.commons.lang3.StringUtils.isNotBlank</code>"}],"tags":[],"owner":{"account_id":13233,"reputation":79895,"user_id":26457,"accept_rate":80,"display_name":"Romain Linsolas"},"comment_count":6,"down_vote_count":3,"up_vote_count":249,"is_accepted":false,"score":246,"last_activity_date":1438788444,"creation_date":1283155731,"answer_id":3598814,"question_id":3598770,"body_markdown":"# Use [org.apache.commons.lang.StringUtils][2]\nI like to use Apache [commons-lang][1] for these kinds of things, and especially the [StringUtils][2] utility class:\n\n\n    import org.apache.commons.lang.StringUtils;\n\n    if (StringUtils.isNotBlank(str)) {\n        ...\n    } \n\n    if (StringUtils.isBlank(str)) {\n        ...\n    } \n\n\n\n  [1]: http://commons.apache.org/lang/\n  [2]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html","title":"Check whether a String is not Null and not Empty","body":"<h1>Use <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html\" rel=\"noreferrer\">org.apache.commons.lang.StringUtils</a></h1>\n<p>I like to use Apache <a href=\"http://commons.apache.org/lang/\" rel=\"noreferrer\">commons-lang</a> for these kinds of things, and especially the <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html\" rel=\"noreferrer\">StringUtils</a> utility class:</p>\n<pre><code>import org.apache.commons.lang.StringUtils;\n\nif (StringUtils.isNotBlank(str)) {\n    ...\n} \n\nif (StringUtils.isBlank(str)) {\n    ...\n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":7460150,"reputation":162,"user_id":5671924,"accept_rate":56,"display_name":"vicangel"},"score":0,"creation_date":1566306083,"post_id":3598844,"comment_id":101608814,"body_markdown":"I would like to ask why you recommend now this? I would like to know if there is a \n difference between the Strings.isNullOrEmpty(string) and  StringUtils.isEmpty(String)","body":"I would like to ask why you recommend now this? I would like to know if there is a   difference between the Strings.isNullOrEmpty(string) and  StringUtils.isEmpty(String)"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1566407220,"post_id":3598844,"comment_id":101649848,"body_markdown":"@vicangel Apache Commons methods are full of assumptions and things I didn&#39;t ask for. With Guava, I get exactly what I asked for and nothing more or less","body":"@vicangel Apache Commons methods are full of assumptions and things I didn&#39;t ask for. With Guava, I get exactly what I asked for and nothing more or less"}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":2,"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1496303108,"creation_date":1283155970,"answer_id":3598844,"question_id":3598770,"body_markdown":"Almost every library I know defines a utility class called `StringUtils`, `StringUtil` or `StringHelper`, and they usually include the method you are looking for.\r\n\r\n&lt;s&gt;My personal favorite is [Apache Commons / Lang][1], where in the [StringUtils][2] class, you get both the \r\n\r\n 1. [StringUtils.isEmpty(String)][3] and the\r\n 2. [StringUtils.isBlank(String)][4] method\r\n\r\n(The first checks whether a string is null or empty, the second checks whether it is null, empty or whitespace only)\r\n\r\nThere are similar utility classes in Spring, Wicket and lots of other libs. If you don&#39;t use external libraries, you might want to introduce a StringUtils class in your own project.\r\n&lt;/s&gt;\r\n\r\n----------\r\nUpdate: many years have passed, and these days I&#39;d recommend using [Guava][5]&#39;s [`Strings.isNullOrEmpty(string)`][6] method.\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/\r\n  [2]: http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/StringUtils.html\r\n  [3]: http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/StringUtils.html#isEmpty%28java.lang.String%29\r\n  [4]: http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/StringUtils.html#isBlank%28java.lang.String%29\r\n  [5]: https://code.google.com/p/guava-libraries/\r\n  [6]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Strings.html#isNullOrEmpty-java.lang.String-","title":"Check whether a String is not Null and not Empty","body":"<p>Almost every library I know defines a utility class called <code>StringUtils</code>, <code>StringUtil</code> or <code>StringHelper</code>, and they usually include the method you are looking for.</p>\n\n<p><s>My personal favorite is <a href=\"http://commons.apache.org/lang/\" rel=\"noreferrer\">Apache Commons / Lang</a>, where in the <a href=\"http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/StringUtils.html\" rel=\"noreferrer\">StringUtils</a> class, you get both the </p>\n\n<ol>\n<li><a href=\"http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/StringUtils.html#isEmpty%28java.lang.String%29\" rel=\"noreferrer\">StringUtils.isEmpty(String)</a> and the</li>\n<li><a href=\"http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/StringUtils.html#isBlank%28java.lang.String%29\" rel=\"noreferrer\">StringUtils.isBlank(String)</a> method</li>\n</ol>\n\n<p>(The first checks whether a string is null or empty, the second checks whether it is null, empty or whitespace only)</p>\n\n<p>There are similar utility classes in Spring, Wicket and lots of other libs. If you don't use external libraries, you might want to introduce a StringUtils class in your own project.\n</s></p>\n\n<hr>\n\n<p>Update: many years have passed, and these days I'd recommend using <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a>'s <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Strings.html#isNullOrEmpty-java.lang.String-\" rel=\"noreferrer\"><code>Strings.isNullOrEmpty(string)</code></a> method.</p>\n"},{"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1283157422,"post_id":3598866,"comment_id":3778138,"body_markdown":"No need to use apache commons from guava though, there is a Strings class in guava too: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/Strings.html","body":"No need to use apache commons from guava though, there is a Strings class in guava too: <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/Strings.html\" rel=\"nofollow noreferrer\">guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"score":0,"creation_date":1351628499,"post_id":3598866,"comment_id":17883346,"body_markdown":"I added some Guava examples for novice Java users that land on this question: http://stackoverflow.com/a/13146903/318174 .","body":"I added some Guava examples for novice Java users that land on this question: <a href=\"http://stackoverflow.com/a/13146903/318174\">stackoverflow.com/a/13146903/318174</a> ."}],"tags":[],"owner":{"account_id":145063,"reputation":1004,"user_id":354601,"accept_rate":50,"display_name":"BjornS"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1283156330,"creation_date":1283156330,"answer_id":3598866,"question_id":3598770,"body_markdown":"As seanizer said above, Apache StringUtils is fantastic for this, if you were to include guava you should do the following;\r\n\r\n    public List&lt;Employee&gt; findEmployees(String str, int dep) {\r\n     Preconditions.checkState(StringUtils.isNotBlank(str), &quot;Invalid input, input is blank or null&quot;);\r\n     /** code here **/\r\n    }\r\n\r\nMay I also recommend that you refer to the columns in your result set by name rather than by index, this will make your code much easier to maintain.","title":"Check whether a String is not Null and not Empty","body":"<p>As seanizer said above, Apache StringUtils is fantastic for this, if you were to include guava you should do the following;</p>\n\n<pre><code>public List&lt;Employee&gt; findEmployees(String str, int dep) {\n Preconditions.checkState(StringUtils.isNotBlank(str), \"Invalid input, input is blank or null\");\n /** code here **/\n}\n</code></pre>\n\n<p>May I also recommend that you refer to the columns in your result set by name rather than by index, this will make your code much easier to maintain.</p>\n"},{"comments":[{"owner":{"account_id":241158,"reputation":9333,"user_id":511804,"accept_rate":56,"display_name":"Alexandr"},"score":1,"creation_date":1321251893,"post_id":8076502,"comment_id":9957618,"body_markdown":"actually if str is null here, the statement returns true","body":"actually if str is null here, the statement returns true"},{"owner":{"account_id":155029,"reputation":2261,"user_id":371396,"accept_rate":69,"display_name":"A Null Pointer"},"score":0,"creation_date":1321261949,"post_id":8076502,"comment_id":9959289,"body_markdown":"Thats true , my bad !!\nInstead using apache-commons&#39; StringUtils.isNotEmpty(str) would do the job.","body":"Thats true , my bad !! Instead using apache-commons&#39; StringUtils.isNotEmpty(str) would do the job."}],"tags":[],"owner":{"account_id":155029,"reputation":2261,"user_id":371396,"accept_rate":69,"display_name":"A Null Pointer"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1428434579,"creation_date":1320912583,"answer_id":8076502,"question_id":3598770,"body_markdown":"Use Apache StringUtils&#39; isNotBlank method like \r\n\r\n    StringUtils.isNotBlank(str)\r\n\r\nIt will return true only if the str is not null and is not empty.","title":"Check whether a String is not Null and not Empty","body":"<p>Use Apache StringUtils' isNotBlank method like </p>\n\n<pre><code>StringUtils.isNotBlank(str)\n</code></pre>\n\n<p>It will return true only if the str is not null and is not empty.</p>\n"},{"comments":[{"owner":{"account_id":1295750,"reputation":2168,"user_id":1246862,"accept_rate":47,"display_name":"Thupten"},"score":0,"creation_date":1435586479,"post_id":13146903,"comment_id":50248502,"body_markdown":"second Guava too. Guava follows a convention of plural static classes. For String, try Strings for static methods like isNullOrEmpty(str).","body":"second Guava too. Guava follows a convention of plural static classes. For String, try Strings for static methods like isNullOrEmpty(str)."}],"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"comment_count":1,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1351628034,"creation_date":1351628034,"answer_id":13146903,"question_id":3598770,"body_markdown":"To add to @BJorn and @SeanPatrickFloyd The Guava way to do this is: \r\n\r\n    Strings.nullToEmpty(str).isEmpty(); \r\n    // or\r\n    Strings.isNullOrEmpty(str);\r\n\r\nCommons Lang is more readable at times but I have been slowly relying more on Guava plus sometimes Commons Lang is confusing when it comes to `isBlank()` (as in what is whitespace or not).\r\n\r\nGuava&#39;s version of Commons Lang `isBlank` would be:\r\n\r\n    Strings.nullToEmpty(str).trim().isEmpty()\r\n\r\nI will say code that doesn&#39;t allow `&quot;&quot;` (empty) **AND** `null` is suspicious and potentially buggy in that it probably doesn&#39;t handle all cases where is not allowing `null` makes sense (although for SQL I can understand as SQL/HQL is weird about `&#39;&#39;`).","title":"Check whether a String is not Null and not Empty","body":"<p>To add to @BJorn and @SeanPatrickFloyd The Guava way to do this is: </p>\n\n<pre><code>Strings.nullToEmpty(str).isEmpty(); \n// or\nStrings.isNullOrEmpty(str);\n</code></pre>\n\n<p>Commons Lang is more readable at times but I have been slowly relying more on Guava plus sometimes Commons Lang is confusing when it comes to <code>isBlank()</code> (as in what is whitespace or not).</p>\n\n<p>Guava's version of Commons Lang <code>isBlank</code> would be:</p>\n\n<pre><code>Strings.nullToEmpty(str).trim().isEmpty()\n</code></pre>\n\n<p>I will say code that doesn't allow <code>\"\"</code> (empty) <strong>AND</strong> <code>null</code> is suspicious and potentially buggy in that it probably doesn't handle all cases where is not allowing <code>null</code> makes sense (although for SQL I can understand as SQL/HQL is weird about <code>''</code>).</p>\n"},{"comments":[{"owner":{"account_id":219488,"reputation":925,"user_id":476419,"accept_rate":40,"display_name":"Nick"},"score":1,"creation_date":1418256484,"post_id":14511584,"comment_id":43270630,"body_markdown":"@staticx, The StringUtils method changed in Lang version 2.0.  It no longer trims the CharSequence.  That functionality is available in isBlank().","body":"@staticx, The StringUtils method changed in Lang version 2.0.  It no longer trims the CharSequence.  That functionality is available in isBlank()."}],"tags":[],"owner":{"account_id":217412,"reputation":14831,"user_id":473201,"accept_rate":50,"display_name":"phreakhead"},"comment_count":1,"down_vote_count":1,"up_vote_count":107,"is_accepted":false,"score":106,"last_activity_date":1359064770,"creation_date":1359064770,"answer_id":14511584,"question_id":3598770,"body_markdown":"Just adding Android in here:\r\n\r\n\r\n    import android.text.TextUtils;\r\n    \r\n    if (!TextUtils.isEmpty(str)) {\r\n    ...\r\n    }","title":"Check whether a String is not Null and not Empty","body":"<p>Just adding Android in here:</p>\n\n<pre><code>import android.text.TextUtils;\n\nif (!TextUtils.isEmpty(str)) {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":476103,"reputation":59,"user_id":886834,"display_name":"Tom"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1367260536,"creation_date":1367260536,"answer_id":16285802,"question_id":3598770,"body_markdown":"If you don&#39;t want to include the whole library; just include the code you want from it.  You&#39;ll have to maintain it yourself; but it&#39;s a pretty straight forward function.  Here it is copied from [commons.apache.org][1]\r\n\r\n    \t/**\r\n\t * &lt;p&gt;Checks if a String is whitespace, empty (&quot;&quot;) or null.&lt;/p&gt;\r\n\t *\r\n\t * &lt;pre&gt;\r\n\t * StringUtils.isBlank(null)      = true\r\n\t * StringUtils.isBlank(&quot;&quot;)        = true\r\n\t * StringUtils.isBlank(&quot; &quot;)       = true\r\n\t * StringUtils.isBlank(&quot;bob&quot;)     = false\r\n\t * StringUtils.isBlank(&quot;  bob  &quot;) = false\r\n\t * &lt;/pre&gt;\r\n\t *\r\n\t * @param str  the String to check, may be null\r\n\t * @return &lt;code&gt;true&lt;/code&gt; if the String is null, empty or whitespace\r\n\t * @since 2.0\r\n\t */\r\n\tpublic static boolean isBlank(String str) {\r\n\t\tint strLen;\r\n\t\tif (str == null || (strLen = str.length()) == 0) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tfor (int i = 0; i &lt; strLen; i++) {\r\n\t\t\tif ((Character.isWhitespace(str.charAt(i)) == false)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/src-html/org/apache/commons/lang/StringUtils.html#line.216","title":"Check whether a String is not Null and not Empty","body":"<p>If you don't want to include the whole library; just include the code you want from it.  You'll have to maintain it yourself; but it's a pretty straight forward function.  Here it is copied from <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/src-html/org/apache/commons/lang/StringUtils.html#line.216\" rel=\"noreferrer\">commons.apache.org</a></p>\n\n<pre><code>    /**\n * &lt;p&gt;Checks if a String is whitespace, empty (\"\") or null.&lt;/p&gt;\n *\n * &lt;pre&gt;\n * StringUtils.isBlank(null)      = true\n * StringUtils.isBlank(\"\")        = true\n * StringUtils.isBlank(\" \")       = true\n * StringUtils.isBlank(\"bob\")     = false\n * StringUtils.isBlank(\"  bob  \") = false\n * &lt;/pre&gt;\n *\n * @param str  the String to check, may be null\n * @return &lt;code&gt;true&lt;/code&gt; if the String is null, empty or whitespace\n * @since 2.0\n */\npublic static boolean isBlank(String str) {\n    int strLen;\n    if (str == null || (strLen = str.length()) == 0) {\n        return true;\n    }\n    for (int i = 0; i &lt; strLen; i++) {\n        if ((Character.isWhitespace(str.charAt(i)) == false)) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3077118,"reputation":3050,"user_id":2606178,"accept_rate":71,"display_name":"amdev"},"score":1,"creation_date":1542667446,"post_id":16569094,"comment_id":93643400,"body_markdown":"so why add never reached code `str != null`. `!&quot;&quot;.equals(str)` already do the job","body":"so why add never reached code <code>str != null</code>. <code>!&quot;&quot;.equals(str)</code> already do the job"}],"tags":[],"owner":{"account_id":1665141,"reputation":1469,"user_id":1532705,"accept_rate":73,"display_name":"Mindwin Remember Monica"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1368631540,"creation_date":1368631540,"answer_id":16569094,"question_id":3598770,"body_markdown":"test equals with an empty string and null in the same conditional:\r\n\r\n    if(!&quot;&quot;.equals(str) &amp;&amp; str != null) {\r\n        // do stuff.\r\n    }\r\n\r\nDoes not throws `NullPointerException` if str is null, since [`Object.equals()`][1] returns false if arg is `null`.\r\n\r\nthe other construct `str.equals(&quot;&quot;)` would throw the dreaded `NullPointerException`. Some might consider bad form using a String literal as the object upon wich `equals()` is called but it does the job. \r\n\r\nAlso check this answer: https://stackoverflow.com/a/531825/1532705\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals%28java.lang.Object%29","title":"Check whether a String is not Null and not Empty","body":"<p>test equals with an empty string and null in the same conditional:</p>\n\n<pre><code>if(!\"\".equals(str) &amp;&amp; str != null) {\n    // do stuff.\n}\n</code></pre>\n\n<p>Does not throws <code>NullPointerException</code> if str is null, since <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals%28java.lang.Object%29\" rel=\"nofollow noreferrer\"><code>Object.equals()</code></a> returns false if arg is <code>null</code>.</p>\n\n<p>the other construct <code>str.equals(\"\")</code> would throw the dreaded <code>NullPointerException</code>. Some might consider bad form using a String literal as the object upon wich <code>equals()</code> is called but it does the job. </p>\n\n<p>Also check this answer: <a href=\"https://stackoverflow.com/a/531825/1532705\">https://stackoverflow.com/a/531825/1532705</a></p>\n"},{"comments":[{"owner":{"account_id":371004,"reputation":5445,"user_id":719278,"accept_rate":75,"display_name":"Junchen Liu"},"score":3,"creation_date":1412158277,"post_id":17587774,"comment_id":40971213,"body_markdown":"&lt;dependency&gt;\n\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\n\t&lt;version&gt;12.0&lt;/version&gt;\n&lt;/dependency&gt;","body":"&lt;dependency&gt; \t&lt;groupId&gt;com.google.guava&lt;/groupId&gt; \t&lt;artifactId&gt;guava&lt;/artifactId&gt; \t&lt;version&gt;12.0&lt;/version&gt; &lt;/dependency&gt;"}],"tags":[],"owner":{"account_id":2316211,"reputation":2578,"user_id":2033223,"accept_rate":100,"display_name":"Javatar"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1373528768,"creation_date":1373528768,"answer_id":17587774,"question_id":3598770,"body_markdown":"This works for me:\r\n\r\n    import com.google.common.base.Strings;\r\n    \r\n    if (!Strings.isNullOrEmpty(myString)) {\r\n           return myString;\r\n    }\r\n\r\n&gt; Returns true if the given string is null or is the empty string.\r\n&gt; \r\n&gt; Consider normalizing your string references with nullToEmpty. If you\r\n&gt; do, you can use String.isEmpty() instead of this method, and you won&#39;t\r\n&gt; need special null-safe forms of methods like String.toUpperCase\r\n&gt; either. Or, if you&#39;d like to normalize &quot;in the other direction,&quot;\r\n&gt; converting empty strings to null, you can use emptyToNull.","title":"Check whether a String is not Null and not Empty","body":"<p>This works for me:</p>\n\n<pre><code>import com.google.common.base.Strings;\n\nif (!Strings.isNullOrEmpty(myString)) {\n       return myString;\n}\n</code></pre>\n\n<blockquote>\n  <p>Returns true if the given string is null or is the empty string.</p>\n  \n  <p>Consider normalizing your string references with nullToEmpty. If you\n  do, you can use String.isEmpty() instead of this method, and you won't\n  need special null-safe forms of methods like String.toUpperCase\n  either. Or, if you'd like to normalize \"in the other direction,\"\n  converting empty strings to null, you can use emptyToNull.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":2,"creation_date":1392127962,"post_id":19996436,"comment_id":32815849,"body_markdown":"Would be nicer to use the signature: `areSet(String... strings)` can then be invoked without the array creation: `if(!StringUtils.areSet(firstName, lastName, address))`","body":"Would be nicer to use the signature: <code>areSet(String... strings)</code> can then be invoked without the array creation: <code>if(!StringUtils.areSet(firstName, lastName, address))</code>"}],"tags":[],"owner":{"account_id":434849,"reputation":9817,"user_id":821110,"accept_rate":95,"display_name":"W.K.S"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1392184187,"creation_date":1384503275,"answer_id":19996436,"question_id":3598770,"body_markdown":"I&#39;ve made my own utility function to check several strings at once, rather than having an if statement full of `if(str != null &amp;&amp; !str.isEmpty &amp;&amp; str2 != null &amp;&amp; !str2.isEmpty)`. This is the function:\r\n\r\n    public class StringUtils{\r\n     \r\n        public static boolean areSet(String... strings)\r\n        {\r\n            for(String s : strings)\r\n                if(s == null || s.isEmpty)\r\n                    return false;\r\n    \r\n            return true;\r\n        }   \r\n    \r\n    }\r\n\r\nso I can simply write:\r\n\r\n    if(!StringUtils.areSet(firstName,lastName,address)\r\n    {\r\n        //do something\r\n    }\r\n\r\n","title":"Check whether a String is not Null and not Empty","body":"<p>I've made my own utility function to check several strings at once, rather than having an if statement full of <code>if(str != null &amp;&amp; !str.isEmpty &amp;&amp; str2 != null &amp;&amp; !str2.isEmpty)</code>. This is the function:</p>\n\n<pre><code>public class StringUtils{\n\n    public static boolean areSet(String... strings)\n    {\n        for(String s : strings)\n            if(s == null || s.isEmpty)\n                return false;\n\n        return true;\n    }   \n\n}\n</code></pre>\n\n<p>so I can simply write:</p>\n\n<pre><code>if(!StringUtils.areSet(firstName,lastName,address)\n{\n    //do something\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":66671,"reputation":3328,"user_id":2591612,"accept_rate":96,"display_name":"Engineer2021"},"score":0,"creation_date":1392411188,"post_id":21717399,"comment_id":32968032,"body_markdown":"Or just use `isNotBlank`","body":"Or just use <code>isNotBlank</code>"}],"tags":[],"owner":{"account_id":3317025,"reputation":1954,"user_id":2789764,"accept_rate":92,"display_name":"Vivek Vermani"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1392172162,"creation_date":1392172162,"answer_id":21717399,"question_id":3598770,"body_markdown":"You can use StringUtils.isEmpty(), It will result true if the string is either null or empty.\r\n\r\n     String str1 = &quot;&quot;;\r\n     String str2 = null;\r\n         \r\n     if(StringUtils.isEmpty(str)){\r\n         System.out.println(&quot;str1 is null or empty&quot;);\r\n     }\r\n     \r\n     if(StringUtils.isEmpty(str2)){\r\n         System.out.println(&quot;str2 is null or empty&quot;);\r\n     }\r\n\r\nwill result in\r\n\r\nstr1 is null or empty\r\n\r\nstr2 is null or empty","title":"Check whether a String is not Null and not Empty","body":"<p>You can use StringUtils.isEmpty(), It will result true if the string is either null or empty.</p>\n\n<pre><code> String str1 = \"\";\n String str2 = null;\n\n if(StringUtils.isEmpty(str)){\n     System.out.println(\"str1 is null or empty\");\n }\n\n if(StringUtils.isEmpty(str2)){\n     System.out.println(\"str2 is null or empty\");\n }\n</code></pre>\n\n<p>will result in</p>\n\n<p>str1 is null or empty</p>\n\n<p>str2 is null or empty</p>\n"},{"tags":[],"owner":{"account_id":78636,"reputation":15727,"user_id":223656,"accept_rate":79,"display_name":"gprasant"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1429566019,"creation_date":1429566019,"answer_id":29758907,"question_id":3598770,"body_markdown":"You should use `org.apache.commons.lang3.StringUtils.isNotBlank()` or `org.apache.commons.lang3.StringUtils.isNotEmpty`. The decision between these two is based on what you actually want to check for. \r\n\r\nThe [isNotBlank()](http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isNotBlank(java.lang.CharSequence)) checks that the input parameter is: \r\n\r\n - not Null,\r\n - not the empty string (&quot;&quot;)\r\n - not a sequence of whitespace characters (&quot;    &quot;)\r\n\r\nThe [isNotEmpty()](http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isNotEmpty(java.lang.CharSequence)) checks only that the input parameter is \r\n\r\n - not null\r\n - not the Empty String (&quot;&quot;)\r\n\r\n","title":"Check whether a String is not Null and not Empty","body":"<p>You should use <code>org.apache.commons.lang3.StringUtils.isNotBlank()</code> or <code>org.apache.commons.lang3.StringUtils.isNotEmpty</code>. The decision between these two is based on what you actually want to check for. </p>\n\n<p>The <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isNotBlank(java.lang.CharSequence)\" rel=\"noreferrer\">isNotBlank()</a> checks that the input parameter is: </p>\n\n<ul>\n<li>not Null,</li>\n<li>not the empty string (\"\")</li>\n<li>not a sequence of whitespace characters (\"    \")</li>\n</ul>\n\n<p>The <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isNotEmpty(java.lang.CharSequence)\" rel=\"noreferrer\">isNotEmpty()</a> checks only that the input parameter is </p>\n\n<ul>\n<li>not null</li>\n<li>not the Empty String (\"\")</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5696978,"reputation":4019,"user_id":4503189,"display_name":"BlondCode"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453131844,"creation_date":1453131844,"answer_id":34858658,"question_id":3598770,"body_markdown":"I would advise Guava or Apache Commons according to your actual need. Check the different behaviors in my example code:\r\n\r\n    import com.google.common.base.Strings;\r\n    import org.apache.commons.lang.StringUtils;\r\n\r\n    /**\r\n     * Created by hu0983 on 2016.01.13..\r\n     */\r\n    public class StringNotEmptyTesting {\r\n      public static void main(String[] args){\r\n            String a = &quot;  &quot;;\r\n            String b = &quot;&quot;;\r\n            String c=null;\r\n\r\n        System.out.println(&quot;Apache:&quot;);\r\n        if(!StringUtils.isNotBlank(a)){\r\n            System.out.println(&quot; a is blank&quot;);\r\n        }\r\n        if(!StringUtils.isNotBlank(b)){\r\n            System.out.println(&quot; b is blank&quot;);\r\n        }\r\n        if(!StringUtils.isNotBlank(c)){\r\n            System.out.println(&quot; c is blank&quot;);\r\n        }\r\n        System.out.println(&quot;Google:&quot;);\r\n\r\n        if(Strings.isNullOrEmpty(Strings.emptyToNull(a))){\r\n            System.out.println(&quot; a is NullOrEmpty&quot;);\r\n        }\r\n        if(Strings.isNullOrEmpty(b)){\r\n            System.out.println(&quot; b is NullOrEmpty&quot;);\r\n        }\r\n        if(Strings.isNullOrEmpty(c)){\r\n            System.out.println(&quot; c is NullOrEmpty&quot;);\r\n        }\r\n      }\r\n    }\r\n\r\nResult:&lt;br&gt;\r\nApache:&lt;br&gt;\r\n a is blank&lt;br&gt;\r\n b is blank&lt;br&gt;\r\n c is blank&lt;br&gt;\r\nGoogle:&lt;br&gt;\r\n b is NullOrEmpty&lt;br&gt;\r\n c is NullOrEmpty","title":"Check whether a String is not Null and not Empty","body":"<p>I would advise Guava or Apache Commons according to your actual need. Check the different behaviors in my example code:</p>\n\n<pre><code>import com.google.common.base.Strings;\nimport org.apache.commons.lang.StringUtils;\n\n/**\n * Created by hu0983 on 2016.01.13..\n */\npublic class StringNotEmptyTesting {\n  public static void main(String[] args){\n        String a = \"  \";\n        String b = \"\";\n        String c=null;\n\n    System.out.println(\"Apache:\");\n    if(!StringUtils.isNotBlank(a)){\n        System.out.println(\" a is blank\");\n    }\n    if(!StringUtils.isNotBlank(b)){\n        System.out.println(\" b is blank\");\n    }\n    if(!StringUtils.isNotBlank(c)){\n        System.out.println(\" c is blank\");\n    }\n    System.out.println(\"Google:\");\n\n    if(Strings.isNullOrEmpty(Strings.emptyToNull(a))){\n        System.out.println(\" a is NullOrEmpty\");\n    }\n    if(Strings.isNullOrEmpty(b)){\n        System.out.println(\" b is NullOrEmpty\");\n    }\n    if(Strings.isNullOrEmpty(c)){\n        System.out.println(\" c is NullOrEmpty\");\n    }\n  }\n}\n</code></pre>\n\n<p>Result:<br>\nApache:<br>\n a is blank<br>\n b is blank<br>\n c is blank<br>\nGoogle:<br>\n b is NullOrEmpty<br>\n c is NullOrEmpty</p>\n"},{"tags":[],"owner":{"account_id":2586414,"reputation":924,"user_id":2242019,"accept_rate":82,"display_name":"Shweta"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1468528211,"creation_date":1468528211,"answer_id":38383737,"question_id":3598770,"body_markdown":"Simple solution : \r\n      \r\n    private boolean stringNotEmptyOrNull(String st) {\r\n        return st != null &amp;&amp; !st.isEmpty();\r\n    }","title":"Check whether a String is not Null and not Empty","body":"<p>Simple solution : </p>\n\n<pre><code>private boolean stringNotEmptyOrNull(String st) {\n    return st != null &amp;&amp; !st.isEmpty();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1807696,"reputation":1138,"user_id":1644446,"display_name":"Supun Dharmarathne"},"score":0,"creation_date":1557472327,"post_id":43256394,"comment_id":98783759,"body_markdown":"we can use StringUtils.isEmpty(param) method.","body":"we can use StringUtils.isEmpty(param) method."}],"tags":[],"owner":{"account_id":5888165,"reputation":2184,"user_id":4635513,"accept_rate":100,"display_name":"AntiTiming"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1491484693,"creation_date":1491484693,"answer_id":43256394,"question_id":3598770,"body_markdown":"For completeness: If you are **already using the Spring framework**, the **[StringUtils][1]** provide the **method**\r\n\r\n    org.springframework.util.StringUtils.hasLength(String str)\r\n\r\n&gt; Returns:\r\n&gt; true if the String is not null and has length\r\n\r\n**as well as the method**\r\n\r\n    org.springframework.util.StringUtils.hasText(String str)\r\n\r\n&gt; Returns:\r\n&gt; true if the String is not null, its length is greater than 0, and it does not contain whitespace only\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/StringUtils.html","title":"Check whether a String is not Null and not Empty","body":"<p>For completeness: If you are <strong>already using the Spring framework</strong>, the <strong><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/StringUtils.html\" rel=\"noreferrer\">StringUtils</a></strong> provide the <strong>method</strong></p>\n\n<pre><code>org.springframework.util.StringUtils.hasLength(String str)\n</code></pre>\n\n<blockquote>\n  <p>Returns:\n  true if the String is not null and has length</p>\n</blockquote>\n\n<p><strong>as well as the method</strong></p>\n\n<pre><code>org.springframework.util.StringUtils.hasText(String str)\n</code></pre>\n\n<blockquote>\n  <p>Returns:\n  true if the String is not null, its length is greater than 0, and it does not contain whitespace only</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":368384,"reputation":153,"user_id":715170,"accept_rate":100,"display_name":"bachph"},"score":2,"creation_date":1502441739,"post_id":44417216,"comment_id":78220918,"body_markdown":"I would recommend using a map for the trim e.g:\n\n  Optional.ofNullable(str)\n      .map(String::trim)\n      .filter(String::isEmpty)\n      .ifPresent(this::setStringMethod);","body":"I would recommend using a map for the trim e.g:    Optional.ofNullable(str)       .map(String::trim)       .filter(String::isEmpty)       .ifPresent(this::setStringMethod);"}],"tags":[],"owner":{"account_id":2530531,"reputation":866,"user_id":2198922,"display_name":"pilot"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1669876015,"creation_date":1496850078,"answer_id":44417216,"question_id":3598770,"body_markdown":"You can use the functional style of checking:\r\n\r\n    Optional.ofNullable(str)\r\n\t\t.filter(s -&gt; !(s.trim().isEmpty()))\r\n\t\t.ifPresent(result -&gt; {\r\n           // your query setup goes here\r\n\t\t});\r\n\r\n","title":"Check whether a String is not Null and not Empty","body":"<p>You can use the functional style of checking:</p>\n<pre><code>Optional.ofNullable(str)\n    .filter(s -&gt; !(s.trim().isEmpty()))\n    .ifPresent(result -&gt; {\n       // your query setup goes here\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5282977,"reputation":32623,"user_id":4217744,"accept_rate":50,"display_name":"simhumileco"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508915888,"creation_date":1508915888,"answer_id":46926267,"question_id":3598770,"body_markdown":"Simply, to ignore white space as well:\r\n\r\n    if (str == null || str.trim().length() == 0) {\r\n        // str is empty\r\n    } else {\r\n        // str is not empty\r\n    }","title":"Check whether a String is not Null and not Empty","body":"<p>Simply, to ignore white space as well:</p>\n\n<pre><code>if (str == null || str.trim().length() == 0) {\n    // str is empty\n} else {\n    // str is not empty\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1116318,"reputation":10606,"user_id":1105562,"accept_rate":48,"display_name":"david.pfx"},"score":0,"creation_date":1585305123,"post_id":48398085,"comment_id":107718225,"body_markdown":"This is how I like to do it, when I&#39;m worried about performance cost or side-effects, and no imports readily to hand.","body":"This is how I like to do it, when I&#39;m worried about performance cost or side-effects, and no imports readily to hand."}],"tags":[],"owner":{"account_id":2377273,"reputation":3085,"user_id":2080264,"display_name":"araknoid"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516699259,"creation_date":1516699259,"answer_id":48398085,"question_id":3598770,"body_markdown":"In case you are using Java 8 and want to have a more Functional Programming approach, you can define a `Function` that manages the control and then you can reuse it and `apply()` whenever is needed.\r\n\r\nComing to practice, you can define the `Function` as \r\n\r\n    Function&lt;String, Boolean&gt; isNotEmpty = s -&gt; s != null &amp;&amp; !&quot;&quot;.equals(s)\r\n\r\nThen, you can use it by simply calling the `apply()` method as:\r\n\r\n    String emptyString = &quot;&quot;;\r\n    isNotEmpty.apply(emptyString); // this will return false\r\n\r\n    String notEmptyString = &quot;StackOverflow&quot;;\r\n    isNotEmpty.apply(notEmptyString); // this will return true\r\n\r\n\r\nIf you prefer, you can define a `Function` that checks if the `String` is empty and then negate it with `!`.\r\n\r\nIn this case, the `Function` will look like as :\r\n\r\n    Function&lt;String, Boolean&gt; isEmpty = s -&gt; s == null || &quot;&quot;.equals(s)\r\n\r\nThen, you can use it by simply calling the `apply()` method as:\r\n\r\n    String emptyString = &quot;&quot;;\r\n    !isEmpty.apply(emptyString); // this will return false\r\n\r\n    String notEmptyString = &quot;StackOverflow&quot;;\r\n    !isEmpty.apply(notEmptyString); // this will return true","title":"Check whether a String is not Null and not Empty","body":"<p>In case you are using Java 8 and want to have a more Functional Programming approach, you can define a <code>Function</code> that manages the control and then you can reuse it and <code>apply()</code> whenever is needed.</p>\n\n<p>Coming to practice, you can define the <code>Function</code> as </p>\n\n<pre><code>Function&lt;String, Boolean&gt; isNotEmpty = s -&gt; s != null &amp;&amp; !\"\".equals(s)\n</code></pre>\n\n<p>Then, you can use it by simply calling the <code>apply()</code> method as:</p>\n\n<pre><code>String emptyString = \"\";\nisNotEmpty.apply(emptyString); // this will return false\n\nString notEmptyString = \"StackOverflow\";\nisNotEmpty.apply(notEmptyString); // this will return true\n</code></pre>\n\n<p>If you prefer, you can define a <code>Function</code> that checks if the <code>String</code> is empty and then negate it with <code>!</code>.</p>\n\n<p>In this case, the <code>Function</code> will look like as :</p>\n\n<pre><code>Function&lt;String, Boolean&gt; isEmpty = s -&gt; s == null || \"\".equals(s)\n</code></pre>\n\n<p>Then, you can use it by simply calling the <code>apply()</code> method as:</p>\n\n<pre><code>String emptyString = \"\";\n!isEmpty.apply(emptyString); // this will return false\n\nString notEmptyString = \"StackOverflow\";\n!isEmpty.apply(notEmptyString); // this will return true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7530148,"reputation":123,"user_id":5718705,"display_name":"Koustubh Mokashi"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1516893141,"creation_date":1516890349,"answer_id":48445202,"question_id":3598770,"body_markdown":"Returns true or false based on input\r\n\r\n    Predicate&lt;String&gt; p = (s)-&gt; ( s != null &amp;&amp; !s.isEmpty());\r\n    p.test(string);","title":"Check whether a String is not Null and not Empty","body":"<p>Returns true or false based on input</p>\n\n<pre><code>Predicate&lt;String&gt; p = (s)-&gt; ( s != null &amp;&amp; !s.isEmpty());\np.test(string);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":994261,"reputation":137,"user_id":1010624,"display_name":"Fredrik Jons&#233;n"},"score":1,"creation_date":1543397083,"post_id":48540618,"comment_id":93900936,"body_markdown":"Note that the documentation for `StringUtils` explicitly states &quot;Mainly for internal use within the framework; consider Apache&#39;s Commons Lang for a more comprehensive suite of String utilities.&quot;","body":"Note that the documentation for <code>StringUtils</code> explicitly states &quot;Mainly for internal use within the framework; consider Apache&#39;s Commons Lang for a more comprehensive suite of String utilities.&quot;"}],"tags":[],"owner":{"account_id":6177253,"reputation":3107,"user_id":4813777,"display_name":"Taras Melnyk"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517396693,"creation_date":1517396693,"answer_id":48540618,"question_id":3598770,"body_markdown":"If you use Spring framework then you can use method:\r\n\r\n    org.springframework.util.StringUtils.isEmpty(@Nullable Object str);\r\nThis method accepts any Object as an argument, comparing it to null and the empty String. As a consequence, this method will never return true for a non-null non-String object.","title":"Check whether a String is not Null and not Empty","body":"<p>If you use Spring framework then you can use method:</p>\n\n<pre><code>org.springframework.util.StringUtils.isEmpty(@Nullable Object str);\n</code></pre>\n\n<p>This method accepts any Object as an argument, comparing it to null and the empty String. As a consequence, this method will never return true for a non-null non-String object.</p>\n"},{"tags":[],"owner":{"account_id":3346139,"reputation":14655,"user_id":2811258,"accept_rate":88,"display_name":"Johnny"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554970863,"creation_date":1527505087,"answer_id":50564819,"question_id":3598770,"body_markdown":"With [Java 8 Optional][1] you can do:\r\n\r\n    public Boolean isStringCorrect(String str) {\r\n        return Optional.ofNullable(str)\r\n                .map(String::trim)\r\n                .map(string -&gt; !str.isEmpty())\r\n                .orElse(false);\r\n    }\r\n\r\nIn this expression, you will handle `String`s that consist of spaces as well.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html","title":"Check whether a String is not Null and not Empty","body":"<p>With <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\">Java 8 Optional</a> you can do:</p>\n\n<pre><code>public Boolean isStringCorrect(String str) {\n    return Optional.ofNullable(str)\n            .map(String::trim)\n            .map(string -&gt; !str.isEmpty())\n            .orElse(false);\n}\n</code></pre>\n\n<p>In this expression, you will handle <code>String</code>s that consist of spaces as well.</p>\n"},{"tags":[],"owner":{"account_id":8598286,"reputation":11087,"user_id":6440704,"display_name":"Anton Balaniuc"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1599635093,"creation_date":1530141493,"answer_id":51072668,"question_id":3598770,"body_markdown":"There is a new method in [tag:java-11]: `String#isBlank`\r\n\r\n&gt; Returns true if the string is empty or contains only white space codepoints, otherwise false.\r\n\r\n    jshell&gt; &quot;&quot;.isBlank()\r\n    $7 ==&gt; true\r\n    \r\n    jshell&gt; &quot; &quot;.isBlank()\r\n    $8 ==&gt; true\r\n    \r\n    jshell&gt; &quot; ! &quot;.isBlank()\r\n    $9 ==&gt; false\r\n\r\nThis could be combined with `Optional` to check if string is null or empty\r\n\r\n    boolean isNullOrEmpty = Optional.ofNullable(str).map(String::isBlank).orElse(true);\r\n\r\n [String#isBlank][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#isBlank()","title":"Check whether a String is not Null and not Empty","body":"<p>There is a new method in <a href=\"/questions/tagged/java-11\" class=\"post-tag\" title=\"show questions tagged &#39;java-11&#39;\" rel=\"tag\">java-11</a>: <code>String#isBlank</code></p>\n<blockquote>\n<p>Returns true if the string is empty or contains only white space codepoints, otherwise false.</p>\n</blockquote>\n<pre><code>jshell&gt; &quot;&quot;.isBlank()\n$7 ==&gt; true\n\njshell&gt; &quot; &quot;.isBlank()\n$8 ==&gt; true\n\njshell&gt; &quot; ! &quot;.isBlank()\n$9 ==&gt; false\n</code></pre>\n<p>This could be combined with <code>Optional</code> to check if string is null or empty</p>\n<pre><code>boolean isNullOrEmpty = Optional.ofNullable(str).map(String::isBlank).orElse(true);\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#isBlank()\" rel=\"noreferrer\">String#isBlank</a></p>\n"},{"tags":[],"owner":{"account_id":13012833,"reputation":972,"user_id":9405186,"accept_rate":50,"display_name":"Bhanu Prakash Pasupula"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1532696545,"creation_date":1532696545,"answer_id":51558557,"question_id":3598770,"body_markdown":"  \r\n  \r\nThe better way to handle null in the string is,\r\n\r\n    str!=null &amp;&amp; !str.equalsIgnoreCase(&quot;null&quot;) &amp;&amp; !str.isEmpty()\r\n\r\n\r\nIn short,\r\n\r\n    str.length()&gt;0 &amp;&amp; !str.equalsIgnoreCase(&quot;null&quot;)","title":"Check whether a String is not Null and not Empty","body":"<p>The better way to handle null in the string is,</p>\n\n<pre><code>str!=null &amp;&amp; !str.equalsIgnoreCase(\"null\") &amp;&amp; !str.isEmpty()\n</code></pre>\n\n<p>In short,</p>\n\n<pre><code>str.length()&gt;0 &amp;&amp; !str.equalsIgnoreCase(\"null\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4347388,"reputation":575,"user_id":9400714,"display_name":"Lokeshkumar R"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550665122,"creation_date":1548746287,"answer_id":54415724,"question_id":3598770,"body_markdown":"To check on if all the string attributes in an object is empty(Instead of using !=null on all the field names following java reflection api approach  \r\n\r\n    private String name1;\r\n    private String name2;\r\n    private String name3;\r\n    \r\n    public boolean isEmpty()  {\r\n    \r\n        for (Field field : this.getClass().getDeclaredFields()) {\r\n            try {\r\n                field.setAccessible(true);\r\n                if (field.get(this) != null) {\r\n                    return false;\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Exception occurred in processing&quot;);\r\n            }\r\n        }\r\n        return true;\r\n    }\r\nThis method would return true if all the String field values are blank,It would return false if any one values is present in the String attributes ","title":"Check whether a String is not Null and not Empty","body":"<p>To check on if all the string attributes in an object is empty(Instead of using !=null on all the field names following java reflection api approach  </p>\n\n<pre><code>private String name1;\nprivate String name2;\nprivate String name3;\n\npublic boolean isEmpty()  {\n\n    for (Field field : this.getClass().getDeclaredFields()) {\n        try {\n            field.setAccessible(true);\n            if (field.get(this) != null) {\n                return false;\n            }\n        } catch (Exception e) {\n            System.out.println(\"Exception occurred in processing\");\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>This method would return true if all the String field values are blank,It would return false if any one values is present in the String attributes </p>\n"},{"tags":[],"owner":{"account_id":5790825,"reputation":842,"user_id":5101338,"accept_rate":12,"display_name":"Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549096175,"creation_date":1549096175,"answer_id":54491320,"question_id":3598770,"body_markdown":"If you are using Spring Boot then below code will do the Job\r\n\r\n    StringUtils.hasLength(str)\r\n\r\n","title":"Check whether a String is not Null and not Empty","body":"<p>If you are using Spring Boot then below code will do the Job</p>\n\n<pre><code>StringUtils.hasLength(str)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2047022,"reputation":1436,"user_id":1826893,"accept_rate":86,"display_name":"Edgar H"},"score":1,"creation_date":1557473756,"post_id":56072466,"comment_id":98784471,"body_markdown":"Adding a few words of explanation is better than just some code. For example, why did you import a library?","body":"Adding a few words of explanation is better than just some code. For example, why did you import a library?"}],"tags":[],"owner":{"account_id":11954532,"reputation":69,"user_id":8747290,"display_name":"Afroz Ahmad"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1557481008,"creation_date":1557472226,"answer_id":56072466,"question_id":3598770,"body_markdown":"    import android.text.TextUtils;\r\n    \r\n    if (!TextUtils.isEmpty(str)||!str.equalsIgnoreCase(&quot;&quot;) {\r\n        ...\r\n    }\r\n","title":"Check whether a String is not Null and not Empty","body":"<pre><code>import android.text.TextUtils;\n\nif (!TextUtils.isEmpty(str)||!str.equalsIgnoreCase(\"\") {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1561405,"reputation":3143,"user_id":1451197,"display_name":"Dave"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559903990,"creation_date":1559903990,"answer_id":56492753,"question_id":3598770,"body_markdown":"I&#39;ve encountered a situation where I must check that &quot;null&quot; (as a string) must be regarded as empty. Also white space and an actual ***null*** must return true.\r\nI&#39;ve finally settled on the following function...\r\n\r\n    public boolean isEmpty(String testString) {\r\n      return ((null==testString) || &quot;&quot;.equals((&quot;&quot;+testString).trim()) || &quot;null&quot;.equals((&quot;&quot;+testString).toLowerCase()));\r\n    }\r\n\r\n","title":"Check whether a String is not Null and not Empty","body":"<p>I've encountered a situation where I must check that \"null\" (as a string) must be regarded as empty. Also white space and an actual <strong><em>null</em></strong> must return true.\nI've finally settled on the following function...</p>\n\n<pre><code>public boolean isEmpty(String testString) {\n  return ((null==testString) || \"\".equals((\"\"+testString).trim()) || \"null\".equals((\"\"+testString).toLowerCase()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":998774,"reputation":581,"user_id":1686533,"display_name":"Marco Montel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589971865,"creation_date":1589971865,"answer_id":61911221,"question_id":3598770,"body_markdown":"In case you need to validate your method parameters you can use follow simple method\r\n    \r\n    public class StringUtils {\r\n        \r\n        static boolean anyEmptyString(String ... strings) {\r\n            return Stream.of(strings).anyMatch(s -&gt; s == null || s.isEmpty());\r\n        }\r\n        \r\n    }\r\n\r\nExample:\r\n\r\n    public String concatenate(String firstName, String lastName) {\r\n        if(StringUtils.anyBlankString(firstName, lastName)) {\r\n            throw new IllegalArgumentException(&quot;Empty field found&quot;);\r\n        }\r\n        return firstName + &quot; &quot; + lastName;\r\n    }","title":"Check whether a String is not Null and not Empty","body":"<p>In case you need to validate your method parameters you can use follow simple method</p>\n\n<pre><code>public class StringUtils {\n\n    static boolean anyEmptyString(String ... strings) {\n        return Stream.of(strings).anyMatch(s -&gt; s == null || s.isEmpty());\n    }\n\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>public String concatenate(String firstName, String lastName) {\n    if(StringUtils.anyBlankString(firstName, lastName)) {\n        throw new IllegalArgumentException(\"Empty field found\");\n    }\n    return firstName + \" \" + lastName;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4872826,"reputation":906,"user_id":3928747,"display_name":"Raviraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692332625,"creation_date":1604931528,"answer_id":64753360,"question_id":3598770,"body_markdown":"To check if a string is not empty you can check if it is `null` but this doesn&#39;t account for a string with whitespace. You could use `str.trim()` to trim all the whitespace and then chain `.isEmpty()` to ensure that the result is not empty. \r\n\r\n```java\r\nif(str != null &amp;&amp; !str.trim().isEmpty()) { /* do your stuffs here */ }\r\n","title":"Check whether a String is not Null and not Empty","body":"<p>To check if a string is not empty you can check if it is <code>null</code> but this doesn't account for a string with whitespace. You could use <code>str.trim()</code> to trim all the whitespace and then chain <code>.isEmpty()</code> to ensure that the result is not empty.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(str != null &amp;&amp; !str.trim().isEmpty()) { /* do your stuffs here */ }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8224283,"reputation":49,"user_id":6187033,"display_name":"Amarjit Kushwaha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644241242,"creation_date":1644241242,"answer_id":71019546,"question_id":3598770,"body_markdown":"Consider the below example, I have added 4 test cases in main method. three test cases will pass when you follow above commented snipts.\r\n\r\n    public class EmptyNullBlankWithNull {\r\n    \tpublic static boolean nullEmptyBlankWithNull(String passedStr) {\r\n    \t\tif (passedStr != null &amp;&amp; !passedStr.trim().isEmpty() &amp;&amp; !passedStr.trim().equals(&quot;null&quot;)) {\r\n    \t\t\t// TODO when string is null , Empty, Blank\r\n    \t\t\treturn true;\r\n    \t\t}else{\r\n    \t\t\t// TODO when string is null , Empty, Blank\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString stringNull = null; // test case 1\r\n    \t\tString stringEmpty = &quot;&quot;; // test case 2\r\n    \t\tString stringWhiteSpace = &quot;  &quot;; // test case 3\r\n    \t\tString stringWhiteSpaceWithNull = &quot; null&quot;; // test case 4\r\n    \t\tSystem.out.println(&quot;TestCase result:------ &quot;+nullEmptyBlankWithNull(stringWhiteSpaceWithNull));\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nBUT test case 4 will return true(it has white space before null) which is wrong: \r\n\r\n    String stringWhiteSpaceWithNull = &quot; null&quot;; // test case 4\r\n\r\nWe have to add below conditions to make it work propper:\r\n\r\n\r\n    !passedStr.trim().equals(&quot;null&quot;)\r\n\r\n","title":"Check whether a String is not Null and not Empty","body":"<p>Consider the below example, I have added 4 test cases in main method. three test cases will pass when you follow above commented snipts.</p>\n<pre><code>public class EmptyNullBlankWithNull {\n    public static boolean nullEmptyBlankWithNull(String passedStr) {\n        if (passedStr != null &amp;&amp; !passedStr.trim().isEmpty() &amp;&amp; !passedStr.trim().equals(&quot;null&quot;)) {\n            // TODO when string is null , Empty, Blank\n            return true;\n        }else{\n            // TODO when string is null , Empty, Blank\n            return false;\n        }\n    }\n\n    public static void main(String[] args) {\n        String stringNull = null; // test case 1\n        String stringEmpty = &quot;&quot;; // test case 2\n        String stringWhiteSpace = &quot;  &quot;; // test case 3\n        String stringWhiteSpaceWithNull = &quot; null&quot;; // test case 4\n        System.out.println(&quot;TestCase result:------ &quot;+nullEmptyBlankWithNull(stringWhiteSpaceWithNull));\n        \n    }\n}\n</code></pre>\n<p>BUT test case 4 will return true(it has white space before null) which is wrong:</p>\n<pre><code>String stringWhiteSpaceWithNull = &quot; null&quot;; // test case 4\n</code></pre>\n<p>We have to add below conditions to make it work propper:</p>\n<pre><code>!passedStr.trim().equals(&quot;null&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3826293,"reputation":543,"user_id":3173062,"display_name":"forhadmethun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666530939,"creation_date":1666530939,"answer_id":74171442,"question_id":3598770,"body_markdown":"If anyone using springboot, then the following option might be helpful, \r\n\r\n```\r\nimport static org.springframework.util.StringUtils.hasLength;\r\n```\r\n\r\n```java\r\nif (hasLength(str)) {\r\n  // do stuff\r\n}\r\n\r\n```","title":"Check whether a String is not Null and not Empty","body":"<p>If anyone using springboot, then the following option might be helpful,</p>\n<pre><code>import static org.springframework.util.StringUtils.hasLength;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>if (hasLength(str)) {\n  // do stuff\n}\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1276558,"reputation":1700,"user_id":1231693,"accept_rate":69,"display_name":"mellow-yellow"},"score":0,"creation_date":1678234723,"post_id":74649555,"comment_id":133493195,"body_markdown":"`public static final Predicate&lt;String&gt; NON_EMPTY_NON_NULL =\n    Predicate.not(Predicate.isEqual(null).or(String::isEmpty));` returns &quot;Non-static method cannot be referenced from a static context&quot;","body":"<code>public static final Predicate&lt;String&gt; NON_EMPTY_NON_NULL =     Predicate.not(Predicate.isEqual(null).or(String::isEmpty));</code> returns &quot;Non-static method cannot be referenced from a static context&quot;"},{"owner":{"account_id":1276558,"reputation":1700,"user_id":1231693,"accept_rate":69,"display_name":"mellow-yellow"},"score":0,"creation_date":1678239496,"post_id":74649555,"comment_id":133493824,"body_markdown":"apparently, you can fix the above by adding `&lt;String&gt;.isEqual` like this `public static final Predicate&lt;String&gt; NON_EMPTY_NON_NULL = Predicate.not(Predicate.&lt;String&gt;isEqual(null).or(String::isEmpty));`","body":"apparently, you can fix the above by adding <code>&lt;String&gt;.isEqual</code> like this <code>public static final Predicate&lt;String&gt; NON_EMPTY_NON_NULL = Predicate.not(Predicate.&lt;String&gt;isEqual(null).or(String::isE&zwnj;&#8203;mpty));</code>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1678369123,"post_id":74649555,"comment_id":133521565,"body_markdown":"@mellow-yellow You&#39;re right, without a type-witness the type of `Predicate.isEqual(null)` would be inferred by the compiler as `Predicate&lt;? extends Object&gt;`, hence we need to provide the type explicitly. Amended.","body":"@mellow-yellow You&#39;re right, without a type-witness the type of <code>Predicate.isEqual(null)</code> would be inferred by the compiler as <code>Predicate&lt;? extends Object&gt;</code>, hence we need to provide the type explicitly. Amended."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678368646,"creation_date":1669940155,"answer_id":74649555,"question_id":3598770,"body_markdown":"# TL;DR\r\n\r\n[`java.util.function.Predicate`][pred] is a *Functional interface* representing a *boolean-valued Function*.\r\n\r\n`Predicate` offers several `static` and `default` methods which allow to perform logical operations `AND` **&amp;&amp;**, `OR` **||**, `NOT` **!** and chain conditions in a fluent way.\r\n\r\nLogical condition *&quot;not empty &amp;&amp; not null&quot;* can be expressed in the following way:\r\n\r\n```java\r\nPredicate.not(Predicate.&lt;String&gt;isEqual(null).or(String::isEmpty));\r\n```\r\n\r\nOr, alternatively:\r\n\r\n```java\r\nPredicate.&lt;String&gt;isEqual(null).or(String::isEmpty).negate();\r\n```\r\n\r\nOr:\r\n\r\n```java\r\nPredicate.&lt;String&gt;isEqual(null).or(&quot;&quot;::equals).negate();\r\n```\r\n\r\n# [`Predicate.equal()`][equal] is your friend\r\n\r\nStatic method `Predicate.isEqual()` expects a reference to the target object for equality comparison (*an empty string in this case*). This comparison is **not hostile** to `null`, which means `isEqual()` performs a *null-check* internally as well as utility method `Objects.equals(Object, Object)`, so that comparison of `null` and `null` would return `true` without raising an exception.\r\n\r\nA quote from the [Javadoc][equal]:\r\n\r\n&gt; **Returns:**\r\n&gt; \r\n&gt; a predicate that tests if two arguments are equal according to\r\n&gt; `Objects.equals(Object, Object)`\r\n\r\nThe predicate the compares the given element against the `null` can be written as:\r\n\r\n```java\r\nPredicate.isEqual(null)\r\n```\r\n\r\n# [`Predicate.or()`][or] OR ||\r\n\r\nDefault method `Predicate.or()` allows chaining the conditions relationship among which can be expressed through logical `OR` **||**.\r\n\r\nThat&#39;s how we can combine the two conditions: *empty **||** null*\r\n\r\n```java\r\nPredicate.isEqual(null).or(String::isEmpty)\r\n```\r\n\r\nNow we need to negate this predicate\r\n\r\n# [`Predicate.not()`][not] &amp; [`Predicate.negete()`][negate]\r\n\r\nTo perform the logical negation, we have two options: `static` method `not()` and `default` method `negate()`.\r\n\r\nHere&#39;s how resulting predicates might be written:\r\n\r\n```java\r\npublic static final Predicate&lt;String&gt; NON_EMPTY_NON_NULL =\r\n    Predicate.&lt;String&gt;isEqual(null).or(String::isEmpty).negate();\r\n```\r\n\r\n***Note** that in this case the type of the predicate* `Predicate.isEqual(null)` *would be inferred as* `Predicate&lt;Object&gt;` *since* `null` *gives no clue to the compiler what should be the type of the argument, and we can resolve this issue using a so-called Type-witness* `&lt;String&gt;isEqual()`.\r\n\r\nOr, alternatively\r\n\r\n```java\r\npublic static final Predicate&lt;String&gt; NON_EMPTY_NON_NULL =\r\n    Predicate.not(Predicate.&lt;String&gt;isEqual(null).or(String::isEmpty));\r\n```\r\n\r\n***Note:** `String::isEmpty` *can be also written as* `&quot;&quot;::equals`, *and if you need to check whether the string is Blank (contains various forms of unprintable characters or empty) you can use method reference* `String::isBlank`. *And if you need to verify a few more conditions, you can add as many as you need by chaining them via* `or()` *and* `and()` *methods.*\r\n\r\n# Usage Example\r\n\r\n`Predicate` is used an argument of such method as `Stream.filter()`, `Collection.removeIf()`, `Collectors.partitioningBy()`, etc. and you can create your custom ones.\r\n\r\nConsider the following example:\r\n\r\n```java\r\nList&lt;String&gt; strings = Stream.of(&quot;foo&quot;, &quot;bar&quot;, &quot;&quot;, null, &quot;baz&quot;)\r\n    .filter(NON_EMPTY_NON_NULL)\r\n    .map(&quot;* &quot;::concat) // append a prefix to make sure that empty string can&#39;t sneak in\r\n    .toList();\r\n        \r\nstrings.forEach(System.out::println);\r\n```\r\n\r\n*Output:*\r\n\r\n```none\r\n* foo\r\n* bar\r\n* baz\r\n```\r\n\r\n\r\n   [pred]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html\r\n\r\n   [equal]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html#isEqual(java.lang.Object)\r\n\r\n   [or]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html#or(java.util.function.Predicate)\r\n\r\n   [not]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html#not(java.util.function.Predicate)\r\n\r\n   [negate]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html#negate()","title":"Check whether a String is not Null and not Empty","body":"<h1>TL;DR</h1>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html\" rel=\"nofollow noreferrer\"><code>java.util.function.Predicate</code></a> is a <em>Functional interface</em> representing a <em>boolean-valued Function</em>.</p>\n<p><code>Predicate</code> offers several <code>static</code> and <code>default</code> methods which allow to perform logical operations <code>AND</code> <strong>&amp;&amp;</strong>, <code>OR</code> <strong>||</strong>, <code>NOT</code> <strong>!</strong> and chain conditions in a fluent way.</p>\n<p>Logical condition <em>&quot;not empty &amp;&amp; not null&quot;</em> can be expressed in the following way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Predicate.not(Predicate.&lt;String&gt;isEqual(null).or(String::isEmpty));\n</code></pre>\n<p>Or, alternatively:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Predicate.&lt;String&gt;isEqual(null).or(String::isEmpty).negate();\n</code></pre>\n<p>Or:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Predicate.&lt;String&gt;isEqual(null).or(&quot;&quot;::equals).negate();\n</code></pre>\n<h1><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html#isEqual(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Predicate.equal()</code></a> is your friend</h1>\n<p>Static method <code>Predicate.isEqual()</code> expects a reference to the target object for equality comparison (<em>an empty string in this case</em>). This comparison is <strong>not hostile</strong> to <code>null</code>, which means <code>isEqual()</code> performs a <em>null-check</em> internally as well as utility method <code>Objects.equals(Object, Object)</code>, so that comparison of <code>null</code> and <code>null</code> would return <code>true</code> without raising an exception.</p>\n<p>A quote from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html#isEqual(java.lang.Object)\" rel=\"nofollow noreferrer\">Javadoc</a>:</p>\n<blockquote>\n<p><strong>Returns:</strong></p>\n<p>a predicate that tests if two arguments are equal according to\n<code>Objects.equals(Object, Object)</code></p>\n</blockquote>\n<p>The predicate the compares the given element against the <code>null</code> can be written as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Predicate.isEqual(null)\n</code></pre>\n<h1><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html#or(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>Predicate.or()</code></a> OR ||</h1>\n<p>Default method <code>Predicate.or()</code> allows chaining the conditions relationship among which can be expressed through logical <code>OR</code> <strong>||</strong>.</p>\n<p>That's how we can combine the two conditions: <em>empty <strong>||</strong> null</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>Predicate.isEqual(null).or(String::isEmpty)\n</code></pre>\n<p>Now we need to negate this predicate</p>\n<h1><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html#not(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>Predicate.not()</code></a> &amp; <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html#negate()\" rel=\"nofollow noreferrer\"><code>Predicate.negete()</code></a></h1>\n<p>To perform the logical negation, we have two options: <code>static</code> method <code>not()</code> and <code>default</code> method <code>negate()</code>.</p>\n<p>Here's how resulting predicates might be written:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final Predicate&lt;String&gt; NON_EMPTY_NON_NULL =\n    Predicate.&lt;String&gt;isEqual(null).or(String::isEmpty).negate();\n</code></pre>\n<p><em><strong>Note</strong> that in this case the type of the predicate</em> <code>Predicate.isEqual(null)</code> <em>would be inferred as</em> <code>Predicate&lt;Object&gt;</code> <em>since</em> <code>null</code> <em>gives no clue to the compiler what should be the type of the argument, and we can resolve this issue using a so-called Type-witness</em> <code>&lt;String&gt;isEqual()</code>.</p>\n<p>Or, alternatively</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final Predicate&lt;String&gt; NON_EMPTY_NON_NULL =\n    Predicate.not(Predicate.&lt;String&gt;isEqual(null).or(String::isEmpty));\n</code></pre>\n<p>*<strong>Note:</strong> <code>String::isEmpty</code> <em>can be also written as</em> <code>&quot;&quot;::equals</code>, <em>and if you need to check whether the string is Blank (contains various forms of unprintable characters or empty) you can use method reference</em> <code>String::isBlank</code>. <em>And if you need to verify a few more conditions, you can add as many as you need by chaining them via</em> <code>or()</code> <em>and</em> <code>and()</code> <em>methods.</em></p>\n<h1>Usage Example</h1>\n<p><code>Predicate</code> is used an argument of such method as <code>Stream.filter()</code>, <code>Collection.removeIf()</code>, <code>Collectors.partitioningBy()</code>, etc. and you can create your custom ones.</p>\n<p>Consider the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; strings = Stream.of(&quot;foo&quot;, &quot;bar&quot;, &quot;&quot;, null, &quot;baz&quot;)\n    .filter(NON_EMPTY_NON_NULL)\n    .map(&quot;* &quot;::concat) // append a prefix to make sure that empty string can't sneak in\n    .toList();\n        \nstrings.forEach(System.out::println);\n</code></pre>\n<p><em>Output:</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>* foo\n* bar\n* baz\n</code></pre>\n"}],"owner":{"display_name":"user405398"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1167482,"favorite_count":0,"down_vote_count":2,"up_vote_count":563,"accepted_answer_id":3598792,"answer_count":35,"score":561,"last_activity_date":1692332625,"creation_date":1283155307,"question_id":3598770,"body_markdown":"How can I check whether a string is not `null` and not empty?\r\n\r\n    public void doStuff(String str)\r\n    {\r\n\t\tif (str != null &amp;&amp; str != &quot;**here I want to check the &#39;str&#39; is empty or not**&quot;)\r\n\t\t{\r\n\t\t\t/* handle empty string */\r\n\t\t}\r\n        /* ... */\r\n\t}","title":"Check whether a String is not Null and not Empty","body":"<p>How can I check whether a string is not <code>null</code> and not empty?</p>\n<pre><code>public void doStuff(String str)\n{\n    if (str != null &amp;&amp; str != &quot;**here I want to check the 'str' is empty or not**&quot;)\n    {\n        /* handle empty string */\n    }\n    /* ... */\n}\n</code></pre>\n"},{"tags":["java","configuration","environment-variables"],"answers":[{"tags":[],"owner":{"account_id":4121,"reputation":2737,"user_id":6101,"accept_rate":90,"display_name":"Tom Duckering"},"comment_count":0,"down_vote_count":1,"up_vote_count":39,"is_accepted":true,"score":38,"last_activity_date":1266205079,"creation_date":1266205079,"answer_id":2263944,"question_id":2263929,"body_markdown":"You can put environment variables in your properties file, but Java will not automatically recognise them as environment variables and therefore will not resolve them.\r\n\r\nIn order to do this *you* will have to parse the values and resolve any environment variables you find.\r\n\r\nYou can get at environment variables from Java using various methods. For example: `Map&lt;String, String&gt; env = System.getenv();`\r\n\r\nThere&#39;s a basic tutorial here: http://java.sun.com/docs/books/tutorial/essential/environment/env.html\r\n\r\nHope that&#39;s of some help.","title":"Regarding application.properties file and environment variable","body":"<p>You can put environment variables in your properties file, but Java will not automatically recognise them as environment variables and therefore will not resolve them.</p>\n\n<p>In order to do this <em>you</em> will have to parse the values and resolve any environment variables you find.</p>\n\n<p>You can get at environment variables from Java using various methods. For example: <code>Map&lt;String, String&gt; env = System.getenv();</code></p>\n\n<p>There's a basic tutorial here: <a href=\"http://java.sun.com/docs/books/tutorial/essential/environment/env.html\" rel=\"noreferrer\">http://java.sun.com/docs/books/tutorial/essential/environment/env.html</a></p>\n\n<p>Hope that's of some help.</p>\n"},{"tags":[],"owner":{"account_id":40182,"reputation":8647,"user_id":116339,"accept_rate":90,"display_name":"objects"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1266207691,"creation_date":1266207691,"answer_id":2264025,"question_id":2263929,"body_markdown":"Have a look at [Commons configuration][1]\r\n\r\nOr alternatively use relative paths in your properties file, and load the base directory via command line as a system property. That way the property files remain independent of where the application is actually deployed.\r\n\r\n\r\n  [1]: http://commons.apache.org/configuration/","title":"Regarding application.properties file and environment variable","body":"<p>Have a look at <a href=\"http://commons.apache.org/configuration/\" rel=\"noreferrer\">Commons configuration</a></p>\n\n<p>Or alternatively use relative paths in your properties file, and load the base directory via command line as a system property. That way the property files remain independent of where the application is actually deployed.</p>\n"},{"comments":[{"owner":{"account_id":9728106,"reputation":546,"user_id":10381236,"display_name":"Idris Stack"},"score":3,"creation_date":1588026505,"post_id":9725352,"comment_id":108737131,"body_markdown":"Then, how do you connect it to `application.properties` ?","body":"Then, how do you connect it to <code>application.properties</code> ?"}],"tags":[],"owner":{"account_id":26175,"reputation":3355,"user_id":67865,"display_name":"Tim Lewis"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1331833977,"creation_date":1331833977,"answer_id":9725352,"question_id":2263929,"body_markdown":"Tom Duckering&#39;s answer is correct. Java doesn&#39;t handle this for you.\r\n\r\nHere&#39;s some code utilizing regular expressions that I wrote to handle environment variable substitution:\r\n\r\n\r\n\t/*\r\n\t * Returns input string with environment variable references expanded, e.g. $SOME_VAR or ${SOME_VAR}\r\n\t */\r\n\tprivate String resolveEnvVars(String input)\r\n\t{\r\n\t\tif (null == input)\r\n\t\t{\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t// match ${ENV_VAR_NAME} or $ENV_VAR_NAME\r\n\t\tPattern p = Pattern.compile(&quot;\\\\$\\\\{(\\\\w+)\\\\}|\\\\$(\\\\w+)&quot;);\r\n\t\tMatcher m = p.matcher(input); // get a matcher object\r\n\t\tStringBuffer sb = new StringBuffer();\r\n\t\twhile(m.find()){\r\n\t\t\tString envVarName = null == m.group(1) ? m.group(2) : m.group(1);\r\n\t\t\tString envVarValue = System.getenv(envVarName);\r\n\t\t\tm.appendReplacement(sb, null == envVarValue ? &quot;&quot; : envVarValue);\r\n\t\t}\r\n\t\tm.appendTail(sb);\r\n\t\treturn sb.toString();\r\n\t}","title":"Regarding application.properties file and environment variable","body":"<p>Tom Duckering's answer is correct. Java doesn't handle this for you.</p>\n\n<p>Here's some code utilizing regular expressions that I wrote to handle environment variable substitution:</p>\n\n<pre><code>/*\n * Returns input string with environment variable references expanded, e.g. $SOME_VAR or ${SOME_VAR}\n */\nprivate String resolveEnvVars(String input)\n{\n    if (null == input)\n    {\n        return null;\n    }\n    // match ${ENV_VAR_NAME} or $ENV_VAR_NAME\n    Pattern p = Pattern.compile(\"\\\\$\\\\{(\\\\w+)\\\\}|\\\\$(\\\\w+)\");\n    Matcher m = p.matcher(input); // get a matcher object\n    StringBuffer sb = new StringBuffer();\n    while(m.find()){\n        String envVarName = null == m.group(1) ? m.group(2) : m.group(1);\n        String envVarValue = System.getenv(envVarName);\n        m.appendReplacement(sb, null == envVarValue ? \"\" : envVarValue);\n    }\n    m.appendTail(sb);\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2935963,"reputation":161,"user_id":2514836,"display_name":"user2514836"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1376376455,"creation_date":1376375035,"answer_id":18202043,"question_id":2263929,"body_markdown":"That is right. Java does not handle substituting the value of the environment variables.\r\nAlso Java might not recognise variables like **$EXT_DIR**. While using such variables you might encounter ***FileNotFoundException***.\r\nBut Java will recognise the variables that are defined with ***-D*** in ***catalina.sh***. What I mean by this, is suppose you have such a definition in catalina.sh\r\n\r\n    CATALINA_OPTS=&quot;-Dweb.external.dir=&quot;$EXT_DIR&quot;\r\n\r\nIn your properties file use ***${web.external.dir}*** instead of using ***$EXT_DIR***.\r\nAnd while accessing this property in your code you could do it this way:\r\n\r\n    String webExtDir = System.getProperty(&quot;web.external.dir&quot;);\r\n\r\nHope this will help a lot of people so they won&#39;t have to pick bits and pieces from everywhere which takes really long to resolve an issue at hand.","title":"Regarding application.properties file and environment variable","body":"<p>That is right. Java does not handle substituting the value of the environment variables.\nAlso Java might not recognise variables like <strong>$EXT_DIR</strong>. While using such variables you might encounter <strong><em>FileNotFoundException</em></strong>.\nBut Java will recognise the variables that are defined with <strong><em>-D</em></strong> in <strong><em>catalina.sh</em></strong>. What I mean by this, is suppose you have such a definition in catalina.sh</p>\n\n<pre><code>CATALINA_OPTS=\"-Dweb.external.dir=\"$EXT_DIR\"\n</code></pre>\n\n<p>In your properties file use <strong><em>${web.external.dir}</em></strong> instead of using <strong>*$EXT_DIR*</strong>.\nAnd while accessing this property in your code you could do it this way:</p>\n\n<pre><code>String webExtDir = System.getProperty(\"web.external.dir\");\n</code></pre>\n\n<p>Hope this will help a lot of people so they won't have to pick bits and pieces from everywhere which takes really long to resolve an issue at hand.</p>\n"},{"tags":[],"owner":{"account_id":143752,"reputation":5048,"user_id":352319,"accept_rate":84,"display_name":"kc2001"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1584403026,"creation_date":1521123232,"answer_id":49301760,"question_id":2263929,"body_markdown":"The Apache Commons project has expanded handling of properties files that lets you [use environment variables][1] (in particular, see the Variable Interpolation section).  Then you should be able to get what you want using:\r\n\r\n    pathToInputFile=${env:TOM_DATA}/data/incoming/ready/\r\n\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-configuration/userguide/howto_basicfeatures.html","title":"Regarding application.properties file and environment variable","body":"<p>The Apache Commons project has expanded handling of properties files that lets you <a href=\"https://commons.apache.org/proper/commons-configuration/userguide/howto_basicfeatures.html\" rel=\"noreferrer\">use environment variables</a> (in particular, see the Variable Interpolation section).  Then you should be able to get what you want using:</p>\n\n<pre><code>pathToInputFile=${env:TOM_DATA}/data/incoming/ready/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3599501,"reputation":2344,"user_id":3003133,"display_name":"Kevin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602253336,"creation_date":1602253336,"answer_id":64281927,"question_id":2263929,"body_markdown":"Apache Tomcat has an optional script for setting environment variables. In the documentation, it says &quot;all environment variables can be specified in the &quot;setenv&quot; script&quot; (.bat for Windows and .sh for Linux).\r\n\r\nSection 3.4 in &lt;https://tomcat.apache.org/tomcat-9.0-doc/RUNNING.txt&gt;\r\n\r\nSince it is a script and not a static configuration, the properties file can be created from it. This patterned works for me for an environment configured S3 connection, but here it is re-written for your example, along with the bonus of how to set the properties file&#39;s location:\r\n\r\n``` sh\r\ncat &gt; &quot;${CATALINA_HOME}/conf/application.properties&quot; &lt;&lt;EOF\r\npathToInputFile=${TOM_DATA}/data/incoming/ready/\r\npathToInputFileProcess=${TOM_DATA}/data/incoming/work/\r\nEOF\r\nCATALINA_OPTS=&quot;${CATALINA_OPTS} -DTOM_DATA=${TOM_DATA}&quot;\r\nCATALINA_OPTS=&quot;${CATALINA_OPTS} -Dapplication.properties.location=${CATALINA_HOME}/conf/application.properties&quot;\r\n\r\nexport CATALINA_OPTS\r\n```\r\n\r\nYou may already be using this file if you configure runtime things like memory constraints, headless mode, or which garbage collect to use.\r\n\r\n*__NOTE:__ the documentation has caveats about when setenv would not be called and some exceptions as to a few environment variable that cannot configured in it.*","title":"Regarding application.properties file and environment variable","body":"<p>Apache Tomcat has an optional script for setting environment variables. In the documentation, it says &quot;all environment variables can be specified in the &quot;setenv&quot; script&quot; (.bat for Windows and .sh for Linux).</p>\n<p>Section 3.4 in <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/RUNNING.txt\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-9.0-doc/RUNNING.txt</a></p>\n<p>Since it is a script and not a static configuration, the properties file can be created from it. This patterned works for me for an environment configured S3 connection, but here it is re-written for your example, along with the bonus of how to set the properties file's location:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>cat &gt; &quot;${CATALINA_HOME}/conf/application.properties&quot; &lt;&lt;EOF\npathToInputFile=${TOM_DATA}/data/incoming/ready/\npathToInputFileProcess=${TOM_DATA}/data/incoming/work/\nEOF\nCATALINA_OPTS=&quot;${CATALINA_OPTS} -DTOM_DATA=${TOM_DATA}&quot;\nCATALINA_OPTS=&quot;${CATALINA_OPTS} -Dapplication.properties.location=${CATALINA_HOME}/conf/application.properties&quot;\n\nexport CATALINA_OPTS\n</code></pre>\n<p>You may already be using this file if you configure runtime things like memory constraints, headless mode, or which garbage collect to use.</p>\n<p><em><strong>NOTE:</strong> the documentation has caveats about when setenv would not be called and some exceptions as to a few environment variable that cannot configured in it.</em></p>\n"},{"tags":[],"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688039893,"creation_date":1688039893,"answer_id":76580837,"question_id":2263929,"body_markdown":"You can do:\r\n\r\n    your.key=${YOUR_ENV_VAR:#{false}}\r\n\r\nWhich will pick up the value of `$YOUR_ENV_VAR` or `false` in this case","title":"Regarding application.properties file and environment variable","body":"<p>You can do:</p>\n<pre><code>your.key=${YOUR_ENV_VAR:#{false}}\n</code></pre>\n<p>Which will pick up the value of <code>$YOUR_ENV_VAR</code> or <code>false</code> in this case</p>\n"},{"tags":[],"owner":{"account_id":8691447,"reputation":85,"user_id":7764512,"display_name":"Sanders Guti&#233;rrez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692332544,"creation_date":1692332544,"answer_id":76926423,"question_id":2263929,"body_markdown":"Here I leave a class for using as complement for the solution of @tim-lewis\r\n\r\n```java\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.util.Properties;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic final class Configuration {\r\n    public static String get(String envVarName) throws IOException {\r\n        try (FileInputStream in = new FileInputStream(&quot;src/main/resources/application.properties&quot;)) {\r\n            Properties properties = new Properties();\r\n            properties.load(in);\r\n            return resolveEnvVars(properties.getProperty(envVarName));\r\n        }\r\n    }\r\n\r\n    private static String resolveEnvVars(String input) {\r\n        if (null == input) throw new IllegalArgumentException();\r\n        Pattern p = Pattern.compile(&quot;\\\\$\\\\{(\\\\w+)\\\\}|\\\\$(\\\\w+)&quot;);\r\n        Matcher m = p.matcher(input);\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        while (m.find()) {\r\n            var envVarName = null == m.group(1) ? m.group(2) : m.group(1);\r\n            var envVarValue = System.getenv(envVarName);\r\n            m.appendReplacement(sb, null == envVarValue ? &quot;&quot; : envVarValue);\r\n        }\r\n        m.appendTail(sb);\r\n        return sb.toString();\r\n    }\r\n}\r\n```\r\n\r\n","title":"Regarding application.properties file and environment variable","body":"<p>Here I leave a class for using as complement for the solution of @tim-lewis</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.FileInputStream;\nimport java.io.IOException;\nimport java.util.Properties;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic final class Configuration {\n    public static String get(String envVarName) throws IOException {\n        try (FileInputStream in = new FileInputStream(&quot;src/main/resources/application.properties&quot;)) {\n            Properties properties = new Properties();\n            properties.load(in);\n            return resolveEnvVars(properties.getProperty(envVarName));\n        }\n    }\n\n    private static String resolveEnvVars(String input) {\n        if (null == input) throw new IllegalArgumentException();\n        Pattern p = Pattern.compile(&quot;\\\\$\\\\{(\\\\w+)\\\\}|\\\\$(\\\\w+)&quot;);\n        Matcher m = p.matcher(input);\n\n        StringBuilder sb = new StringBuilder();\n        while (m.find()) {\n            var envVarName = null == m.group(1) ? m.group(2) : m.group(1);\n            var envVarValue = System.getenv(envVarName);\n            m.appendReplacement(sb, null == envVarValue ? &quot;&quot; : envVarValue);\n        }\n        m.appendTail(sb);\n        return sb.toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":101592,"reputation":5017,"user_id":273212,"accept_rate":69,"display_name":"Arav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153828,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":2263944,"answer_count":8,"score":53,"last_activity_date":1692332544,"creation_date":1266204574,"question_id":2263929,"body_markdown":"Java successfully recognizes the path in my application.properties file when I have the path configured as below:\r\n\r\n    pathToInputFile=/kcs/data/incoming/ready/\r\n    pathToInputFileProcess=/kcs/data/incoming/work/\r\n\r\nIf I try using an environment variable, the Java program doesn&#39;t recognize the path.\r\n\r\n(the environmental variable `TOM_DATA` is set as /kcs.)\r\n\r\n    pathToInputFile=${TOM_DATA}/data/incoming/ready/\r\n    pathToInputFileProcess=${TOM_DATA}/data/incoming/work/\r\n\r\nCan I use an environment variable inside application.properties file?","title":"Regarding application.properties file and environment variable","body":"<p>Java successfully recognizes the path in my application.properties file when I have the path configured as below:</p>\n\n<pre><code>pathToInputFile=/kcs/data/incoming/ready/\npathToInputFileProcess=/kcs/data/incoming/work/\n</code></pre>\n\n<p>If I try using an environment variable, the Java program doesn't recognize the path.</p>\n\n<p>(the environmental variable <code>TOM_DATA</code> is set as /kcs.)</p>\n\n<pre><code>pathToInputFile=${TOM_DATA}/data/incoming/ready/\npathToInputFileProcess=${TOM_DATA}/data/incoming/work/\n</code></pre>\n\n<p>Can I use an environment variable inside application.properties file?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1384517,"reputation":1982,"user_id":1665095,"accept_rate":70,"display_name":"Jubin Patel"},"score":0,"creation_date":1392712554,"post_id":21848063,"comment_id":33071791,"body_markdown":"`rsf` or `jsf`? In the question title used `rsf` and in tagging used `jsf`?","body":"<code>rsf</code> or <code>jsf</code>? In the question title used <code>rsf</code> and in tagging used <code>jsf</code>?"},{"owner":{"account_id":544182,"reputation":11238,"user_id":913543,"accept_rate":89,"display_name":"LaurentG"},"score":0,"creation_date":1392802708,"post_id":21848063,"comment_id":33122642,"body_markdown":"@jubinPatel I think the OP is using [RSF](http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Main). I created a new [tag](http://stackoverflow.com/questions/tagged/rsf) for it.","body":"@jubinPatel I think the OP is using <a href=\"http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Main\" rel=\"nofollow noreferrer\">RSF</a>. I created a new <a href=\"http://stackoverflow.com/questions/tagged/rsf\">tag</a> for it."}],"answers":[{"tags":[],"owner":{"account_id":4018287,"reputation":482,"user_id":3309578,"display_name":"Sim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692332468,"creation_date":1392713031,"answer_id":21848300,"question_id":21848063,"body_markdown":"Copied from the Javadoc: \r\n\r\n&gt; Creates a command control which accepts a bound string (for example a UIMessage) as the textual label.\r\n\r\nhttp://java2s.com/Open-Source/Java/Web-Framework/RSF/uk/org/ponder/rsf/components/UICommand.java.htm\r\n\r\nYou may also find additional info here: http://www2.caret.cam.ac.uk/rsfwiki/Wiki.jsp\r\n\r\nThis looks like a very old framework, last updated in 2008, why do you want to use it?","title":"What does this code written in rsf producer class do?","body":"<p>Copied from the Javadoc:</p>\n<blockquote>\n<p>Creates a command control which accepts a bound string (for example a UIMessage) as the textual label.</p>\n</blockquote>\n<p><a href=\"http://java2s.com/Open-Source/Java/Web-Framework/RSF/uk/org/ponder/rsf/components/UICommand.java.htm\" rel=\"nofollow noreferrer\">http://java2s.com/Open-Source/Java/Web-Framework/RSF/uk/org/ponder/rsf/components/UICommand.java.htm</a></p>\n<p>You may also find additional info here: <a href=\"http://www2.caret.cam.ac.uk/rsfwiki/Wiki.jsp\" rel=\"nofollow noreferrer\">http://www2.caret.cam.ac.uk/rsfwiki/Wiki.jsp</a></p>\n<p>This looks like a very old framework, last updated in 2008, why do you want to use it?</p>\n"}],"owner":{"account_id":3344281,"reputation":163,"user_id":2809735,"accept_rate":43,"display_name":"Naresh Kallamadi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692332468,"creation_date":1392712343,"question_id":21848063,"body_markdown":"Can any explain the following line written in rsf producer class?\r\n\r\nActually I am looking for next control flow\r\n\r\n       UICommand.make(form, &quot;saveSettings&quot;, UIMessage.make(&quot;administrate.save.settings.button&quot;), null);","title":"What does this code written in rsf producer class do?","body":"<p>Can any explain the following line written in rsf producer class?</p>\n<p>Actually I am looking for next control flow</p>\n<pre><code>   UICommand.make(form, &quot;saveSettings&quot;, UIMessage.make(&quot;administrate.save.settings.button&quot;), null);\n</code></pre>\n"},{"tags":["java","junit","cucumber"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1645019459,"post_id":71142161,"comment_id":125758832,"body_markdown":"See this: https://github.com/cucumber/cucumber-jvm/issues/2471","body":"See this: <a href=\"https://github.com/cucumber/cucumber-jvm/issues/2471\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-jvm/issues/2471</a>"}],"answers":[{"comments":[{"owner":{"account_id":3281743,"reputation":1153,"user_id":2762187,"display_name":"vahid tajari"},"score":0,"creation_date":1648981715,"post_id":71724664,"comment_id":126756043,"body_markdown":"add context around the link","body":"add context around the link"}],"tags":[],"owner":{"account_id":24276174,"reputation":1,"user_id":18223453,"display_name":"vdones"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648984115,"creation_date":1648978594,"answer_id":71724664,"question_id":71142161,"body_markdown":"Unfortunately, as with JUnit 4, the domain of JUnit 5 does not have anything to express sub-test steps.\r\n\r\nWhile it would theoretically be possible to represent steps as individual tests this would result in various other issues such as miscounting executed tests, misreporting failures, complications executing in parallel, etc as seen with JUnit 4.\r\n\r\nDetailed answer: https://github.com/cucumber/cucumber-jvm/issues/2471","title":"Lack of step-notifications in cucumber-junit-platform","body":"<p>Unfortunately, as with JUnit 4, the domain of JUnit 5 does not have anything to express sub-test steps.</p>\n<p>While it would theoretically be possible to represent steps as individual tests this would result in various other issues such as miscounting executed tests, misreporting failures, complications executing in parallel, etc as seen with JUnit 4.</p>\n<p>Detailed answer: <a href=\"https://github.com/cucumber/cucumber-jvm/issues/2471\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/issues/2471</a></p>\n"},{"tags":[],"owner":{"account_id":5184052,"reputation":10218,"user_id":4148902,"display_name":"Sohail Ashraf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692330306,"creation_date":1692330306,"answer_id":76926323,"question_id":71142161,"body_markdown":"You could use the CucumberOption `junit = &quot;--step-notifications&quot;` to show the individual steps. \r\n\r\n```\r\n@CucumberOptions(\r\n   junit = &quot;--step-notifications&quot;\r\n   strict = true,\r\n   features=&quot;path to feature file&quot;,\r\n   glue=&quot;path to step definition file&quot;)\r\n```","title":"Lack of step-notifications in cucumber-junit-platform","body":"<p>You could use the CucumberOption <code>junit = &quot;--step-notifications&quot;</code> to show the individual steps.</p>\n<pre><code>@CucumberOptions(\n   junit = &quot;--step-notifications&quot;\n   strict = true,\n   features=&quot;path to feature file&quot;,\n   glue=&quot;path to step definition file&quot;)\n</code></pre>\n"}],"owner":{"account_id":24276174,"reputation":1,"user_id":18223453,"display_name":"vdones"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1034,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71724664,"answer_count":2,"score":0,"last_activity_date":1692330306,"creation_date":1645015653,"question_id":71142161,"body_markdown":"How can I set showing of test steps using Cucumber and JUnit 5(cucumber-junit-platform-engine)?\r\n\r\nPreviosly, with JUnit 4 it was possible by adding Cucumber Option stepNotifications = true\r\n\r\n    @CucumberOptions(\r\n    stepNotifications = true,\r\n    strict = true,\r\n    features=&quot;path to feature file&quot;,\r\n    glue=&quot;path to step definition file&quot;)\r\n\r\nIt is highly recomended to use junit-platform.properties in JUnit 5, but I was unable to find there corresponding property: https://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine#configuration-options","title":"Lack of step-notifications in cucumber-junit-platform","body":"<p>How can I set showing of test steps using Cucumber and JUnit 5(cucumber-junit-platform-engine)?</p>\n<p>Previosly, with JUnit 4 it was possible by adding Cucumber Option stepNotifications = true</p>\n<pre><code>@CucumberOptions(\nstepNotifications = true,\nstrict = true,\nfeatures=&quot;path to feature file&quot;,\nglue=&quot;path to step definition file&quot;)\n</code></pre>\n<p>It is highly recomended to use junit-platform.properties in JUnit 5, but I was unable to find there corresponding property: <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine#configuration-options\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine#configuration-options</a></p>\n"},{"tags":["python","java","time-complexity"],"comments":[{"owner":{"display_name":"user22390653"},"score":4,"creation_date":1692326902,"post_id":76926140,"comment_id":135611157,"body_markdown":"[Time complexity](https://en.wikipedia.org/wiki/Time_complexity) of an algorithm is language-agnostic. Are you talking about a program&#39;s runtime difference between platforms (Python vs Java)?","body":"<a href=\"https://en.wikipedia.org/wiki/Time_complexity\" rel=\"nofollow noreferrer\">Time complexity</a> of an algorithm is language-agnostic. Are you talking about a program&#39;s runtime difference between platforms (Python vs Java)?"},{"owner":{"account_id":8623377,"reputation":9580,"user_id":6457407,"display_name":"Frank Yellin"},"score":2,"creation_date":1692327986,"post_id":76926140,"comment_id":135611239,"body_markdown":"Time complexity is determining how the running time of the algorithm changes as the input gets larger.  It has nothing to do with what language it&#39;s written in.","body":"Time complexity is determining how the running time of the algorithm changes as the input gets larger.  It has nothing to do with what language it&#39;s written in."},{"owner":{"account_id":20690252,"reputation":3,"user_id":15376868,"display_name":"rockstone435"},"score":0,"creation_date":1692330643,"post_id":76926140,"comment_id":135611422,"body_markdown":"@PatioFurnitureIsCool, Frank Yellin I understand what you are saying. 1) How do you interpret this line: &quot;Can the authors present how the method compares with reference methods in terms of data processing time?&quot; 2) There are 10 other methods. How could I check their time complexity, and what if their papers don&#39;t report it?","body":"@PatioFurnitureIsCool, Frank Yellin I understand what you are saying. 1) How do you interpret this line: &quot;Can the authors present how the method compares with reference methods in terms of data processing time?&quot; 2) There are 10 other methods. How could I check their time complexity, and what if their papers don&#39;t report it?"}],"answers":[{"comments":[{"owner":{"account_id":20690252,"reputation":3,"user_id":15376868,"display_name":"rockstone435"},"score":0,"creation_date":1692330594,"post_id":76926275,"comment_id":135611419,"body_markdown":"I understand what you are saying. 1) How do you interpret this line: &quot;Can the authors present how the method compares with reference methods in terms of data processing time?&quot; 2) There are 10 other methods. How could I check their time complexity, and what if their papers don&#39;t report it?","body":"I understand what you are saying. 1) How do you interpret this line: &quot;Can the authors present how the method compares with reference methods in terms of data processing time?&quot; 2) There are 10 other methods. How could I check their time complexity, and what if their papers don&#39;t report it?"},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1692330771,"post_id":76926275,"comment_id":135611428,"body_markdown":"1. Data processing time just means the time complexity of the algorithms.\n2. It might not be explicitly mentioned on the paper obout the time complexity of the particular algorithm. You should figure out by looking at the code/pseudo code.","body":"1. Data processing time just means the time complexity of the algorithms. 2. It might not be explicitly mentioned on the paper obout the time complexity of the particular algorithm. You should figure out by looking at the code/pseudo code."}],"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692329207,"creation_date":1692329207,"answer_id":76926275,"question_id":76926140,"body_markdown":"The reviewers have clearly said that they want ***comparison between time complexity of algorithms***. \r\n\r\n1. Algorithms are independent of programming languages and exist on their own. So, I do not think you need to take into consideration the running time of a program in particular language. An algorithm implemented in Python with linear complexity will run leaps and bounds faster than the one written in Java with exponential complexity.\r\n\r\n2. You should analyze the approaches taken to solve the problem in both the cases and try to figure out the time and space complexity of them both. And, you should favor the one with less complexity.\r\n\r\nThis is the point of the whole exercise. \r\n\r\nAlso, the running time between java and python are very minimal in most of the cases to make any difference.","title":"Time Complexity Comparison between Algorithms built with Python and Java","body":"<p>The reviewers have clearly said that they want <em><strong>comparison between time complexity of algorithms</strong></em>.</p>\n<ol>\n<li><p>Algorithms are independent of programming languages and exist on their own. So, I do not think you need to take into consideration the running time of a program in particular language. An algorithm implemented in Python with linear complexity will run leaps and bounds faster than the one written in Java with exponential complexity.</p>\n</li>\n<li><p>You should analyze the approaches taken to solve the problem in both the cases and try to figure out the time and space complexity of them both. And, you should favor the one with less complexity.</p>\n</li>\n</ol>\n<p>This is the point of the whole exercise.</p>\n<p>Also, the running time between java and python are very minimal in most of the cases to make any difference.</p>\n"}],"owner":{"account_id":20690252,"reputation":3,"user_id":15376868,"display_name":"rockstone435"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1692329207,"creation_date":1692326608,"question_id":76926140,"body_markdown":"I have recently submitted a paper in a journal. The reviewers have asked to draw a time-complexity comparison between algorithms.\r\n\r\nMy algorithm was written in python, whereas the algorithms against which the comparison is to be made, are written in Java. \r\n\r\nGenerally, the algorithms built with Python are slow in my opinion as Java directly runs on the machine. So my algorithm is slower than those.\r\n\r\n\r\n\r\n1) Is my assumption or thought true regarding Python/Java. From random internet threads, it is. However, are there any research references I can cite?\r\n\r\n2) How should I build my argument in defense?","title":"Time Complexity Comparison between Algorithms built with Python and Java","body":"<p>I have recently submitted a paper in a journal. The reviewers have asked to draw a time-complexity comparison between algorithms.</p>\n<p>My algorithm was written in python, whereas the algorithms against which the comparison is to be made, are written in Java.</p>\n<p>Generally, the algorithms built with Python are slow in my opinion as Java directly runs on the machine. So my algorithm is slower than those.</p>\n<ol>\n<li><p>Is my assumption or thought true regarding Python/Java. From random internet threads, it is. However, are there any research references I can cite?</p>\n</li>\n<li><p>How should I build my argument in defense?</p>\n</li>\n</ol>\n"},{"tags":["java","spring-boot","soap","spring-ws","wss4j"],"owner":{"account_id":1223102,"reputation":1803,"user_id":1189332,"accept_rate":24,"display_name":"user1189332"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692328736,"creation_date":1692328736,"question_id":76926253,"body_markdown":"I&#39;m trying to expose a SOAP Webservice using spring-ws with the following requirements.\r\nMy Webservice will not have anything in the SOAP Body. The webservice payload will be encrypted, signed and everything would be in the SOAP Header.\r\n\r\nI would use the wss4j interceptor with spring to extract and verify that before it comes to the endpoint.\r\n\r\nMy endpoint merely acts as a method just to return a response to the caller. All of the processing happens before it comes to my endpoint.\r\n\r\nI&#39;m wondering how should be the mapping for this? Or are they any other patterns for use cases such as this?\r\n\r\nI tried with this:\r\n\r\n    @PayloadRoot(localPart = &quot;*&quot;, namespace = &quot;*&quot;)\r\n        @ResponsePayload public Element handleEmptyBody(@RequestPayload Element requestElement) {\r\n            // Handle empty SOAP body here\r\n            return requestElement;\r\n        }\r\n\r\nBut this doesn&#39;t work. It says it cannot find a mapping.\r\n\r\n\r\n\r\n","title":"Spring WS - Generic Endpoint to accept all the requests","body":"<p>I'm trying to expose a SOAP Webservice using spring-ws with the following requirements.\nMy Webservice will not have anything in the SOAP Body. The webservice payload will be encrypted, signed and everything would be in the SOAP Header.</p>\n<p>I would use the wss4j interceptor with spring to extract and verify that before it comes to the endpoint.</p>\n<p>My endpoint merely acts as a method just to return a response to the caller. All of the processing happens before it comes to my endpoint.</p>\n<p>I'm wondering how should be the mapping for this? Or are they any other patterns for use cases such as this?</p>\n<p>I tried with this:</p>\n<pre><code>@PayloadRoot(localPart = &quot;*&quot;, namespace = &quot;*&quot;)\n    @ResponsePayload public Element handleEmptyBody(@RequestPayload Element requestElement) {\n        // Handle empty SOAP body here\n        return requestElement;\n    }\n</code></pre>\n<p>But this doesn't work. It says it cannot find a mapping.</p>\n"},{"tags":["java","list","java-stream"],"comments":[{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1692306431,"post_id":76925076,"comment_id":135609280,"body_markdown":"have u tried anything ? or POC code ?","body":"have u tried anything ? or POC code ?"},{"owner":{"account_id":4309202,"reputation":441,"user_id":3520791,"display_name":"Alan"},"score":0,"creation_date":1692306752,"post_id":76925076,"comment_id":135609342,"body_markdown":"I tried reduce but not sure how to use the if condition to check the the condition i mentioned inside it. this is what i have which is wrong and not complete. ```final double[] cSum = {0};\ndouble rnd = random.nextDouble();\nint ind = weights.stream().reduce(weight -&gt; {\n                cSum[0] += weight;\n                if (rnd &lt; cSum[0])\n                    return weights.indexOf(weight);\n            }).get();```","body":"I tried reduce but not sure how to use the if condition to check the the condition i mentioned inside it. this is what i have which is wrong and not complete. <code>final double[] cSum = {0}; double rnd = random.nextDouble(); int ind = weights.stream().reduce(weight -&gt; {                 cSum[0] += weight;                 if (rnd &lt; cSum[0])                     return weights.indexOf(weight);             }).get();</code>"},{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1692307449,"post_id":76925076,"comment_id":135609436,"body_markdown":"i feel using classic for each loop with incremented value is good choice for performance also","body":"i feel using classic for each loop with incremented value is good choice for performance also"},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1692327709,"post_id":76925076,"comment_id":135611221,"body_markdown":"Streams aren&#39;t good for problems that process only part of a list.","body":"Streams aren&#39;t good for problems that process only part of a list."}],"answers":[{"tags":[],"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692327304,"creation_date":1692327304,"answer_id":76926172,"question_id":76925076,"body_markdown":"This is one of the problems where a `for` loop would be more readable over streams.\r\n\r\n```\r\nint sum = 0;\r\nint random = 4;\r\nint[] arr = {3, 5, 6, 1};\r\nint index = arr.length - 1;\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\n    sum += arr[i];\r\n    if (sum &gt; random) {\r\n        index = i;\r\n        break;\r\n    }\r\n} \r\n\r\nSystem.out.println(index);\r\n````\r\n\r\n----------\r\n\r\n&gt; I want to see if there are better, more Java, ways which use stream, reduce, parallel stream, or etc. that comes to your mind.\r\n\r\nA `for` loop through an `array` is extremely lightweight both in terms of heap and CPU usage. If raw speed and memory thriftiness is a priority, using a stream is worse. The decision whether to use Streams or not should not be driven by performance consideration, but rather by readability. When it really comes to performance, there are other considerations.\r\n\r\nStreams also follow lazy evaluation: Computation on the source data is only performed when the terminal operation is initiated, and source elements are consumed only as needed. All intermediate operations are lazy, so theyre not executed until a result of a processing is actually needed.\r\n\r\nWhat you want is intermediate results at every index to compare it with the random number, personally, I&#39;d prefer writing a normal `for` loop in this case.\r\n\r\n----------\r\n\r\n\r\nParallel Streams **do not guarantee** the order of traversal, so it&#39;d be the wrong implementation choice here.\r\n\r\n\r\n----------\r\n\r\n\r\n[You can read more about for loops vs streams here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44180101/in-java-what-are-the-advantages-of-streams-over-loops","title":"Best Concise Way Using Java for Weighed Selection of An Index","body":"<p>This is one of the problems where a <code>for</code> loop would be more readable over streams.</p>\n<pre><code>int sum = 0;\nint random = 4;\nint[] arr = {3, 5, 6, 1};\nint index = arr.length - 1;\nfor (int i = 0; i &lt; arr.length; i++) {\n    sum += arr[i];\n    if (sum &gt; random) {\n        index = i;\n        break;\n    }\n} \n\nSystem.out.println(index);\n</code></pre>\n<hr />\n<blockquote>\n<p>I want to see if there are better, more Java, ways which use stream, reduce, parallel stream, or etc. that comes to your mind.</p>\n</blockquote>\n<p>A <code>for</code> loop through an <code>array</code> is extremely lightweight both in terms of heap and CPU usage. If raw speed and memory thriftiness is a priority, using a stream is worse. The decision whether to use Streams or not should not be driven by performance consideration, but rather by readability. When it really comes to performance, there are other considerations.</p>\n<p>Streams also follow lazy evaluation: Computation on the source data is only performed when the terminal operation is initiated, and source elements are consumed only as needed. All intermediate operations are lazy, so theyre not executed until a result of a processing is actually needed.</p>\n<p>What you want is intermediate results at every index to compare it with the random number, personally, I'd prefer writing a normal <code>for</code> loop in this case.</p>\n<hr />\n<p>Parallel Streams <strong>do not guarantee</strong> the order of traversal, so it'd be the wrong implementation choice here.</p>\n<hr />\n<p><a href=\"https://stackoverflow.com/questions/44180101/in-java-what-are-the-advantages-of-streams-over-loops\">You can read more about for loops vs streams here</a></p>\n"}],"owner":{"account_id":4309202,"reputation":441,"user_id":3520791,"display_name":"Alan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692327304,"creation_date":1692305873,"question_id":76925076,"body_markdown":"If we have a list of doubles as `List&lt;Double&gt; weights` we want to select an index of it where the cumulative sum till that index is greater than a random number. If the loop reaches to the end of the list and still the condition is not met we return the last index inevitably. We can use a simple loop and do the check for that but I want to see if there are better, more Java, ways which use stream, reduce, parallel stream, or etc. that comes to your mind.\r\n\r\n```java\r\nfinal double[] cSum = { 0 };\r\ndouble rnd = random.nextDouble();\r\nint ind = weights.stream().reduce(weight -&gt; {\r\n\tcSum[0] += weight;\r\n\r\n\tif (rnd &lt; cSum[0]) {\r\n        return weights.indexOf(weight);\r\n    }\r\n}).get();\r\n```","title":"Best Concise Way Using Java for Weighed Selection of An Index","body":"<p>If we have a list of doubles as <code>List&lt;Double&gt; weights</code> we want to select an index of it where the cumulative sum till that index is greater than a random number. If the loop reaches to the end of the list and still the condition is not met we return the last index inevitably. We can use a simple loop and do the check for that but I want to see if there are better, more Java, ways which use stream, reduce, parallel stream, or etc. that comes to your mind.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final double[] cSum = { 0 };\ndouble rnd = random.nextDouble();\nint ind = weights.stream().reduce(weight -&gt; {\n    cSum[0] += weight;\n\n    if (rnd &lt; cSum[0]) {\n        return weights.indexOf(weight);\n    }\n}).get();\n</code></pre>\n"},{"tags":["java","android","android-studio","firebase-cloud-messaging","android-volley"],"owner":{"account_id":19451777,"reputation":1,"user_id":14228018,"display_name":"komutanlogar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692326990,"creation_date":1692326990,"question_id":76926159,"body_markdown":"    public class FcmNotificationSender {\r\n\r\n    String userFcmToken;\r\n    String title;\r\n    String body;\r\n    Context mContext;\r\n    Activity mActivity;\r\n\r\n    private RequestQueue requestQueue;\r\n    private final String postUrl = &quot;https://fcm.googleapis.com/fcm/send&quot;;\r\n    private final String fcmServerKey = &quot;AAAAKRewSZs:APA91bEjPfRvwIFaM_XpIpccHoA-E_8jLtAu4MS9lnHmE2OEeFInj2awH4MFFVBEwNET9w63ihSBWB9y8btoNS2TGbZ8jtbQZ4CokLFj6lz131CZmxEXv2tSTU7tMCyPc7cN9-mYzaFH&quot;;\r\n\r\n\r\n    public FcmNotificationSender(String userFcmToken, String title, String body, Context mContext,Activity mActivity) {\r\n        this.userFcmToken = userFcmToken;\r\n        this.title = title;\r\n        this.body = body;\r\n        this.mContext = mContext;\r\n        this.mActivity = mActivity;\r\n    }\r\n\r\n\r\n    public void sendNotification() {\r\n        requestQueue = Volley.newRequestQueue(mContext);\r\n\r\n        JSONObject mainObj = new JSONObject();\r\n        try {\r\n            mainObj.put(&quot;to&quot;, userFcmToken);\r\n\r\n            JSONObject notiObject = new JSONObject();\r\n            notiObject.put(&quot;title&quot;, title);\r\n            notiObject.put(&quot;body&quot;, body);\r\n            notiObject.put(&quot;icon&quot;, &quot;icon&quot;); // Buray isteinize g&#246;re g&#252;ncelleyebilirsiniz\r\n\r\n            mainObj.put(&quot;notification&quot;, notiObject);\r\n\r\n\r\n            JsonObjectRequest request = new JsonObjectRequest(Request.Method.POST, postUrl, mainObj, new Response.Listener&lt;JSONObject&gt;() {\r\n                @Override\r\n                public void onResponse(JSONObject response) {\r\n                    // Bildirim baaryla g&#246;nderildiinde yaplacak ilemler burada\r\n                }\r\n            }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    // Bildirim g&#246;nderilirken bir hata olutuunda yaplacak ilemler burada\r\n                    Log.d(&quot;FCMWEONG&quot;, &quot;onErrorResponse: &quot; + error.getMessage());\r\n                }\r\n            }) {\r\n                @Override\r\n                public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n                    headers.put(&quot;Authorization&quot;, &quot;key=&quot; + fcmServerKey); // FCM sunucu anahtarn ekliyoruz\r\n                    headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n                    return headers;\r\n                }\r\n            };\r\n\r\n            requestQueue.add(request);\r\n\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n\r\n\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nHello,\r\n\r\nI&#39;m trying to send notifications using Firebase Cloud Messaging (FCM) in my application, but I&#39;m encountering an issue. I&#39;m receiving the NetworkUtility.shouldRetryException: Unexpected response code 400 for https://fcm.googleapis.com/fcm/send error. \r\nAreas where I&#39;m facing the issue:\r\n\r\nI have ensured that the userFcmToken value is set correctly.\r\nI have checked the title and body values.\r\nI&#39;m certain that the fcmServerKey value is up-to-date.\r\nI&#39;ve performed the checks mentioned above, but I&#39;m still encountering this error. Do you have any suggestions or experiences that might help me find the cause and solution for this error? It&#39;s worth mentioning that the error.getMessage() in the logcat is displaying a null value.\r\n\r\nAny insights you can provide regarding the potential cause and resolution of this issue would be greatly appreciated.\r\n\r\nThank you.\r\n","title":"&quot;FCM Error: Unexpected Response Code 400 for https://fcm.googleapis.com/fcm/send&quot;","body":"<pre><code>public class FcmNotificationSender {\n\nString userFcmToken;\nString title;\nString body;\nContext mContext;\nActivity mActivity;\n\nprivate RequestQueue requestQueue;\nprivate final String postUrl = &quot;https://fcm.googleapis.com/fcm/send&quot;;\nprivate final String fcmServerKey = &quot;AAAAKRewSZs:APA91bEjPfRvwIFaM_XpIpccHoA-E_8jLtAu4MS9lnHmE2OEeFInj2awH4MFFVBEwNET9w63ihSBWB9y8btoNS2TGbZ8jtbQZ4CokLFj6lz131CZmxEXv2tSTU7tMCyPc7cN9-mYzaFH&quot;;\n\n\npublic FcmNotificationSender(String userFcmToken, String title, String body, Context mContext,Activity mActivity) {\n    this.userFcmToken = userFcmToken;\n    this.title = title;\n    this.body = body;\n    this.mContext = mContext;\n    this.mActivity = mActivity;\n}\n\n\npublic void sendNotification() {\n    requestQueue = Volley.newRequestQueue(mContext);\n\n    JSONObject mainObj = new JSONObject();\n    try {\n        mainObj.put(&quot;to&quot;, userFcmToken);\n\n        JSONObject notiObject = new JSONObject();\n        notiObject.put(&quot;title&quot;, title);\n        notiObject.put(&quot;body&quot;, body);\n        notiObject.put(&quot;icon&quot;, &quot;icon&quot;); // Buray isteinize gre gncelleyebilirsiniz\n\n        mainObj.put(&quot;notification&quot;, notiObject);\n\n\n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.POST, postUrl, mainObj, new Response.Listener&lt;JSONObject&gt;() {\n            @Override\n            public void onResponse(JSONObject response) {\n                // Bildirim baaryla gnderildiinde yaplacak ilemler burada\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                // Bildirim gnderilirken bir hata olutuunda yaplacak ilemler burada\n                Log.d(&quot;FCMWEONG&quot;, &quot;onErrorResponse: &quot; + error.getMessage());\n            }\n        }) {\n            @Override\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n                Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n                headers.put(&quot;Authorization&quot;, &quot;key=&quot; + fcmServerKey); // FCM sunucu anahtarn ekliyoruz\n                headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\n                return headers;\n            }\n        };\n\n        requestQueue.add(request);\n\n    } catch (JSONException e) {\n        e.printStackTrace();\n\n\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Hello,</p>\n<p>I'm trying to send notifications using Firebase Cloud Messaging (FCM) in my application, but I'm encountering an issue. I'm receiving the NetworkUtility.shouldRetryException: Unexpected response code 400 for <a href=\"https://fcm.googleapis.com/fcm/send\" rel=\"nofollow noreferrer\">https://fcm.googleapis.com/fcm/send</a> error.\nAreas where I'm facing the issue:</p>\n<p>I have ensured that the userFcmToken value is set correctly.\nI have checked the title and body values.\nI'm certain that the fcmServerKey value is up-to-date.\nI've performed the checks mentioned above, but I'm still encountering this error. Do you have any suggestions or experiences that might help me find the cause and solution for this error? It's worth mentioning that the error.getMessage() in the logcat is displaying a null value.</p>\n<p>Any insights you can provide regarding the potential cause and resolution of this issue would be greatly appreciated.</p>\n<p>Thank you.</p>\n"},{"tags":["java","json","minecraft-fabric"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692300261,"post_id":76921438,"comment_id":135608285,"body_markdown":"`Ctrl + C`  `Ctrl + V` isn&#39;t the best way to show your problem...","body":"<code>Ctrl + C</code>  <code>Ctrl + V</code> isn&#39;t the best way to show your problem..."},{"owner":{"account_id":29223066,"reputation":1,"user_id":22388443,"display_name":"Fireness"},"score":0,"creation_date":1692300854,"post_id":76921438,"comment_id":135608387,"body_markdown":"I will give you all the codes that will be needed. It&#39;s just a log of the game","body":"I will give you all the codes that will be needed. It&#39;s just a log of the game"}],"owner":{"account_id":29223066,"reputation":1,"user_id":22388443,"display_name":"Fireness"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692324405,"creation_date":1692274532,"question_id":76921438,"body_markdown":"I created mod, and as i can see, it caused by mixin and refmap, but idk what to do.\r\nDetails:\r\n\r\n```\r\nPicked up _JAVA_OPTIONS:  \r\n[15:59:48] [main/INFO]: Loading Minecraft 1.20.1 with Fabric Loader 0.14.21 \r\n[15:59:48] [main/INFO]: Loading 54 mods: - fabric-api 0.85.0+1.20.1 |-- fabric-api-base 0.4.29+b04edc7a77 |-- fabric-api-lookup-api-v1 1.6.34+4d8536c977 |-- fabric-biome-api-v1 13.0.10+b3afc78b77 |-- fabric-block-api-v1 1.0.9+e022e5d177 |-- fabric-blockrenderlayer-v1 1.1.39+b3afc78b77 |-- fabric-client-tags-api-v1 1.1.0+97bb207577 |-- fabric-command-api-v1 1.2.32+f71b366f77 |-- fabric-command-api-v2 2.2.11+b3afc78b77 |-- fabric-commands-v0 0.2.49+df3654b377 |-- fabric-containers-v0 0.1.61+df3654b377 |-- fabric-content-registries-v0 4.0.8+b3afc78b77 |-- fabric-convention-tags-v1 1.5.3+b3afc78b77 |-- fabric-crash-report-info-v1 0.2.18+aeb40ebe77 |-- fabric-data-generation-api-v1 12.1.12+b3afc78b77 |-- fabric-dimensions-v1 2.1.51+b3afc78b77 |-- fabric-entity-events-v1 1.5.21+b3afc78b77 |-- fabric-events-interaction-v0 0.6.0+b3afc78b77 |-- fabric-events-lifecycle-v0 0.2.61+df3654b377 |-- fabric-game-rule-api-v1 1.0.38+b04edc7a77 |-- fabric-item-api-v1 2.1.26+b3afc78b77 |-- fabric-item-group-api-v1 4.0.8+40e50c4677 |-- fabric-key-binding-api-v1 1.0.36+fb8d95da77 |-- fabric-keybindings-v0 0.2.34+df3654b377 |-- fabric-lifecycle-events-v1 2.2.20+b3afc78b77 |-- fabric-loot-api-v2 1.1.38+b3afc78b77 |-- fabric-loot-tables-v1 1.1.42+9e7660c677 |-- fabric-message-api-v1 5.1.6+b3afc78b77 |-- fabric-mining-level-api-v1 2.1.48+b3afc78b77 |-- fabric-models-v0 0.3.35+b3afc78b77 |-- fabric-networking-api-v1 1.3.8+b3afc78b77 |-- fabric-networking-v0 0.3.48+df3654b377 |-- fabric-object-builder-api-v1 11.1.0+6beca84877 |-- fabric-particles-v1 1.1.0+201a23a077 |-- fabric-recipe-api-v1 1.0.18+b3afc78b77 |-- fabric-registry-sync-v0 2.2.6+b3afc78b77 |-- fabric-renderer-api-v1 3.1.0+c154966e77 |-- fabric-renderer-indigo 1.4.0+c154966e77 |-- fabric-renderer-registries-v1 3.2.44+df3654b377 |-- fabric-rendering-data-attachment-v1 0.3.33+b3afc78b77 |-- fabric-rendering-fluids-v1 3.0.26+b3afc78b77 |-- fabric-rendering-v0 1.1.47+df3654b377 |-- fabric-rendering-v1 3.0.6+b3afc78b77 |-- fabric-resource-conditions-api-v1 2.3.5+ea08f9d877 |-- fabric-resource-loader-v0 0.11.8+e3d6ed2577 |-- fabric-screen-api-v1 2.0.6+b3afc78b77 |-- fabric-screen-handler-api-v1 1.3.27+b3afc78b77 |-- fabric-sound-api-v1 1.0.12+b3afc78b77 |-- fabric-transfer-api-v1 3.2.3+43a3fedd77 \\-- fabric-transitive-access-wideners-v1 4.2.0+b3afc78b77 - fabricloader 0.14.21 - gedrite 1.0.0 - java 17 - minecraft 1.20.1 \r\n[15:59:48] [main/INFO]: SpongePowered MIXIN Subsystem Version=0.8.5 Source=file:/C:/Users/User/AppData/Roaming/.minecraft/libraries/net/fabricmc/sponge-mixin/0.12.5+mixin.0.8.5/sponge-mixin-0.12.5+mixin.0.8.5.jar Service=Knot/Fabric Env=CLIENT \r\n[15:59:48] [main/INFO]: Compatibility level set to JAVA_16 \r\n[15:59:48] [main/INFO]: Compatibility level set to JAVA_17 \r\n[15:59:48] [main/WARN]: Reference map &#39;gedrite-refmap.json&#39; for gedrite.mixins.json could not be read. If this is a development environment you can ignore this message \r\n[15:59:48] [main/WARN]: Reference map &#39;client-gedrite-refmap.json&#39; for gedrite.client.mixins.json could not be read. If this is a development environment you can ignore this message \r\n[15:59:56] [Datafixer Bootstrap/INFO]: 188 Datafixer optimizations took 158 milliseconds \r\n[15:59:58] [Render thread/ERROR]: Mixin apply for mod gedrite failed gedrite.client.mixins.json:GedriteClientMixin from mod gedrite -&gt; net.minecraft.class_310: org.spongepowered.asm.mixin.injection.throwables.InvalidInjectionException Critical injection failure: @Inject annotation on run could not find any targets matching &#39;run&#39; in net.minecraft.class_310. No refMap loaded. [PREINJECT Applicator Phase -&gt; gedrite.client.mixins.json:GedriteClientMixin from mod gedrite -&gt; Prepare Injections -&gt;  -&gt; handler$zkc000$gedrite$run(Lorg/spongepowered/asm/mixin/injection/callback/CallbackInfo;)V -&gt; Parse] org.spongepowered.asm.mixin.injection.throwables.InvalidInjectionException: Critical injection failure: @Inject annotation on run could not find any targets matching &#39;run&#39; in net.minecraft.class_310. No refMap loaded. [PREINJECT Applicator Phase -&gt; gedrite.client.mixins.json:GedriteClientMixin from mod gedrite -&gt; Prepare Injections -&gt;  -&gt; handler$zkc000$gedrite$run(Lorg/spongepowered/asm/mixin/injection/callback/CallbackInfo;)V -&gt; Parse] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.validateTargets(InjectionInfo.java:656) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.findTargets(InjectionInfo.java:587) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.readAnnotation(InjectionInfo.java:330) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.&lt;init&gt;(InjectionInfo.java:316) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.&lt;init&gt;(InjectionInfo.java:308) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.CallbackInjectionInfo.&lt;init&gt;(CallbackInjectionInfo.java:46) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at jdk.internal.reflect.GeneratedConstructorAccessor60.newInstance(Unknown Source) ~[?:?] at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?] at java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[?:?] at java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[?:?] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo$InjectorEntry.create(InjectionInfo.java:149) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.parse(InjectionInfo.java:708) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTargetContext.prepareInjections(MixinTargetContext.java:1329) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.prepareInjections(MixinApplicatorStandard.java:1053) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.applyMixin(MixinApplicatorStandard.java:395) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:327) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:421) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:403) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112) ~[fabric-loader-0.14.21.jar:?] at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] at net.minecraft.client.main.Main.main(Main.java:211) ~[Fabric%201.20.1.jar:?] at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:468) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23) ~[fabric-loader-0.14.21.jar:?] \r\n[15:59:58] [Render thread/ERROR]: Mixin apply for mod gedrite failed gedrite.client.mixins.json:GedriteClientMixin from mod gedrite -&gt; net.minecraft.class_310: org.spongepowered.asm.mixin.injection.throwables.InvalidInjectionException Critical injection failure: @Inject annotation on run could not find any targets matching &#39;run&#39; in net.minecraft.class_310. No refMap loaded. [PREINJECT Applicator Phase -&gt; gedrite.client.mixins.json:GedriteClientMixin from mod gedrite -&gt; Prepare Injections -&gt;  -&gt; handler$zkc000$gedrite$run(Lorg/spongepowered/asm/mixin/injection/callback/CallbackInfo;)V -&gt; Parse] org.spongepowered.asm.mixin.injection.throwables.InvalidInjectionException: Critical injection failure: @Inject annotation on run could not find any targets matching &#39;run&#39; in net.minecraft.class_310. No refMap loaded. [PREINJECT Applicator Phase -&gt; gedrite.client.mixins.json:GedriteClientMixin from mod gedrite -&gt; Prepare Injections -&gt;  -&gt; handler$zkc000$gedrite$run(Lorg/spongepowered/asm/mixin/injection/callback/CallbackInfo;)V -&gt; Parse] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.validateTargets(InjectionInfo.java:656) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.findTargets(InjectionInfo.java:587) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.readAnnotation(InjectionInfo.java:330) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.&lt;init&gt;(InjectionInfo.java:316) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.&lt;init&gt;(InjectionInfo.java:308) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.CallbackInjectionInfo.&lt;init&gt;(CallbackInjectionInfo.java:46) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at jdk.internal.reflect.GeneratedConstructorAccessor60.newInstance(Unknown Source) ~[?:?] at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?] at java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[?:?] at java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[?:?] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo$InjectorEntry.create(InjectionInfo.java:149) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.parse(InjectionInfo.java:708) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTargetContext.prepareInjections(MixinTargetContext.java:1329) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.prepareInjections(MixinApplicatorStandard.java:1053) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.applyMixin(MixinApplicatorStandard.java:395) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:327) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:421) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:403) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112) ~[fabric-loader-0.14.21.jar:?] at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] at net.minecraft.client.main.Main.main(Main.java:220) ~[Fabric%201.20.1.jar:?] at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:468) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23) ~[fabric-loader-0.14.21.jar:?] \r\n[15:59:58] [Render thread/ERROR]: Minecraft has crashed! net.fabricmc.loader.impl.FormattedException: java.lang.RuntimeException: Mixin transformation of net.minecraft.class_310 failed at net.fabricmc.loader.impl.FormattedException.ofLocalized(FormattedException.java:63) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:470) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23) ~[fabric-loader-0.14.21.jar:?] Caused by: java.lang.RuntimeException: Mixin transformation of net.minecraft.class_310 failed at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:427) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112) ~[fabric-loader-0.14.21.jar:?] at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] at net.minecraft.client.main.Main.main(Main.java:220) ~[Fabric%201.20.1.jar:?] at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:468) ~[fabric-loader-0.14.21.jar:?] ... 2 more Caused by: org.spongepowered.asm.mixin.transformer.throwables.MixinTransformerError: An unexpected critical error was encountered at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:392) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112) ~[fabric-loader-0.14.21.jar:?] at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] at net.minecraft.client.main.Main.main(Main.java:220) ~[Fabric%201.20.1.jar:?] at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:468) ~[fabric-loader-0.14.21.jar:?] ... 2 more Caused by: org.spongepowered.asm.mixin.throwables.MixinApplyError: Mixin [gedrite.client.mixins.json:GedriteClientMixin from mod gedrite] from phase [DEFAULT] in config [gedrite.client.mixins.json] FAILED during APPLY at org.spongepowered.asm.mixin.transformer.MixinProcessor.handleMixinError(MixinProcessor.java:638) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinProcessor.handleMixinApplyError(MixinProcessor.java:589) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:379) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112) ~[fabric-loader-0.14.21.jar:?] at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] at net.minecraft.client.main.Main.main(Main.java:220) ~[Fabric%201.20.1.jar:?] at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:468) ~[fabric-loader-0.14.21.jar:?] ... 2 more Caused by: org.spongepowered.asm.mixin.injection.throwables.InvalidInjectionException: Critical injection failure: @Inject annotation on run could not find any targets matching &#39;run&#39; in net.minecraft.class_310. No refMap loaded. [PREINJECT Applicator Phase -&gt; gedrite.client.mixins.json:GedriteClientMixin from mod gedrite -&gt; Prepare Injections -&gt;  -&gt; handler$zkc000$gedrite$run(Lorg/spongepowered/asm/mixin/injection/callback/CallbackInfo;)V -&gt; Parse] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.validateTargets(InjectionInfo.java:656) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.findTargets(InjectionInfo.java:587) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.readAnnotation(InjectionInfo.java:330) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.&lt;init&gt;(InjectionInfo.java:316) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.&lt;init&gt;(InjectionInfo.java:308) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.CallbackInjectionInfo.&lt;init&gt;(CallbackInjectionInfo.java:46) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at jdk.internal.reflect.GeneratedConstructorAccessor60.newInstance(Unknown Source) ~[?:?] at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?] at java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[?:?] at java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[?:?] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo$InjectorEntry.create(InjectionInfo.java:149) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.parse(InjectionInfo.java:708) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTargetContext.prepareInjections(MixinTargetContext.java:1329) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.prepareInjections(MixinApplicatorStandard.java:1053) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.applyMixin(MixinApplicatorStandard.java:395) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:327) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:421) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:403) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112) ~[fabric-loader-0.14.21.jar:?] at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] at net.minecraft.client.main.Main.main(Main.java:220) ~[Fabric%201.20.1.jar:?] at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:468) ~[fabric-loader-0.14.21.jar:?] ... 2 more\r\n```\r\n","title":"Minecraft crashes. Mixin apply for mod gedrite failed gedrite.client.mixins.json:GedriteClientMixin from mod gedrite","body":"<p>I created mod, and as i can see, it caused by mixin and refmap, but idk what to do.\nDetails:</p>\n<pre><code>Picked up _JAVA_OPTIONS:  \n[15:59:48] [main/INFO]: Loading Minecraft 1.20.1 with Fabric Loader 0.14.21 \n[15:59:48] [main/INFO]: Loading 54 mods: - fabric-api 0.85.0+1.20.1 |-- fabric-api-base 0.4.29+b04edc7a77 |-- fabric-api-lookup-api-v1 1.6.34+4d8536c977 |-- fabric-biome-api-v1 13.0.10+b3afc78b77 |-- fabric-block-api-v1 1.0.9+e022e5d177 |-- fabric-blockrenderlayer-v1 1.1.39+b3afc78b77 |-- fabric-client-tags-api-v1 1.1.0+97bb207577 |-- fabric-command-api-v1 1.2.32+f71b366f77 |-- fabric-command-api-v2 2.2.11+b3afc78b77 |-- fabric-commands-v0 0.2.49+df3654b377 |-- fabric-containers-v0 0.1.61+df3654b377 |-- fabric-content-registries-v0 4.0.8+b3afc78b77 |-- fabric-convention-tags-v1 1.5.3+b3afc78b77 |-- fabric-crash-report-info-v1 0.2.18+aeb40ebe77 |-- fabric-data-generation-api-v1 12.1.12+b3afc78b77 |-- fabric-dimensions-v1 2.1.51+b3afc78b77 |-- fabric-entity-events-v1 1.5.21+b3afc78b77 |-- fabric-events-interaction-v0 0.6.0+b3afc78b77 |-- fabric-events-lifecycle-v0 0.2.61+df3654b377 |-- fabric-game-rule-api-v1 1.0.38+b04edc7a77 |-- fabric-item-api-v1 2.1.26+b3afc78b77 |-- fabric-item-group-api-v1 4.0.8+40e50c4677 |-- fabric-key-binding-api-v1 1.0.36+fb8d95da77 |-- fabric-keybindings-v0 0.2.34+df3654b377 |-- fabric-lifecycle-events-v1 2.2.20+b3afc78b77 |-- fabric-loot-api-v2 1.1.38+b3afc78b77 |-- fabric-loot-tables-v1 1.1.42+9e7660c677 |-- fabric-message-api-v1 5.1.6+b3afc78b77 |-- fabric-mining-level-api-v1 2.1.48+b3afc78b77 |-- fabric-models-v0 0.3.35+b3afc78b77 |-- fabric-networking-api-v1 1.3.8+b3afc78b77 |-- fabric-networking-v0 0.3.48+df3654b377 |-- fabric-object-builder-api-v1 11.1.0+6beca84877 |-- fabric-particles-v1 1.1.0+201a23a077 |-- fabric-recipe-api-v1 1.0.18+b3afc78b77 |-- fabric-registry-sync-v0 2.2.6+b3afc78b77 |-- fabric-renderer-api-v1 3.1.0+c154966e77 |-- fabric-renderer-indigo 1.4.0+c154966e77 |-- fabric-renderer-registries-v1 3.2.44+df3654b377 |-- fabric-rendering-data-attachment-v1 0.3.33+b3afc78b77 |-- fabric-rendering-fluids-v1 3.0.26+b3afc78b77 |-- fabric-rendering-v0 1.1.47+df3654b377 |-- fabric-rendering-v1 3.0.6+b3afc78b77 |-- fabric-resource-conditions-api-v1 2.3.5+ea08f9d877 |-- fabric-resource-loader-v0 0.11.8+e3d6ed2577 |-- fabric-screen-api-v1 2.0.6+b3afc78b77 |-- fabric-screen-handler-api-v1 1.3.27+b3afc78b77 |-- fabric-sound-api-v1 1.0.12+b3afc78b77 |-- fabric-transfer-api-v1 3.2.3+43a3fedd77 \\-- fabric-transitive-access-wideners-v1 4.2.0+b3afc78b77 - fabricloader 0.14.21 - gedrite 1.0.0 - java 17 - minecraft 1.20.1 \n[15:59:48] [main/INFO]: SpongePowered MIXIN Subsystem Version=0.8.5 Source=file:/C:/Users/User/AppData/Roaming/.minecraft/libraries/net/fabricmc/sponge-mixin/0.12.5+mixin.0.8.5/sponge-mixin-0.12.5+mixin.0.8.5.jar Service=Knot/Fabric Env=CLIENT \n[15:59:48] [main/INFO]: Compatibility level set to JAVA_16 \n[15:59:48] [main/INFO]: Compatibility level set to JAVA_17 \n[15:59:48] [main/WARN]: Reference map 'gedrite-refmap.json' for gedrite.mixins.json could not be read. If this is a development environment you can ignore this message \n[15:59:48] [main/WARN]: Reference map 'client-gedrite-refmap.json' for gedrite.client.mixins.json could not be read. If this is a development environment you can ignore this message \n[15:59:56] [Datafixer Bootstrap/INFO]: 188 Datafixer optimizations took 158 milliseconds \n[15:59:58] [Render thread/ERROR]: Mixin apply for mod gedrite failed gedrite.client.mixins.json:GedriteClientMixin from mod gedrite -&gt; net.minecraft.class_310: org.spongepowered.asm.mixin.injection.throwables.InvalidInjectionException Critical injection failure: @Inject annotation on run could not find any targets matching 'run' in net.minecraft.class_310. No refMap loaded. [PREINJECT Applicator Phase -&gt; gedrite.client.mixins.json:GedriteClientMixin from mod gedrite -&gt; Prepare Injections -&gt;  -&gt; handler$zkc000$gedrite$run(Lorg/spongepowered/asm/mixin/injection/callback/CallbackInfo;)V -&gt; Parse] org.spongepowered.asm.mixin.injection.throwables.InvalidInjectionException: Critical injection failure: @Inject annotation on run could not find any targets matching 'run' in net.minecraft.class_310. No refMap loaded. [PREINJECT Applicator Phase -&gt; gedrite.client.mixins.json:GedriteClientMixin from mod gedrite -&gt; Prepare Injections -&gt;  -&gt; handler$zkc000$gedrite$run(Lorg/spongepowered/asm/mixin/injection/callback/CallbackInfo;)V -&gt; Parse] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.validateTargets(InjectionInfo.java:656) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.findTargets(InjectionInfo.java:587) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.readAnnotation(InjectionInfo.java:330) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.&lt;init&gt;(InjectionInfo.java:316) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.&lt;init&gt;(InjectionInfo.java:308) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.CallbackInjectionInfo.&lt;init&gt;(CallbackInjectionInfo.java:46) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at jdk.internal.reflect.GeneratedConstructorAccessor60.newInstance(Unknown Source) ~[?:?] at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?] at java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[?:?] at java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[?:?] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo$InjectorEntry.create(InjectionInfo.java:149) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.parse(InjectionInfo.java:708) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTargetContext.prepareInjections(MixinTargetContext.java:1329) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.prepareInjections(MixinApplicatorStandard.java:1053) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.applyMixin(MixinApplicatorStandard.java:395) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:327) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:421) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:403) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112) ~[fabric-loader-0.14.21.jar:?] at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] at net.minecraft.client.main.Main.main(Main.java:211) ~[Fabric%201.20.1.jar:?] at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:468) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23) ~[fabric-loader-0.14.21.jar:?] \n[15:59:58] [Render thread/ERROR]: Mixin apply for mod gedrite failed gedrite.client.mixins.json:GedriteClientMixin from mod gedrite -&gt; net.minecraft.class_310: org.spongepowered.asm.mixin.injection.throwables.InvalidInjectionException Critical injection failure: @Inject annotation on run could not find any targets matching 'run' in net.minecraft.class_310. No refMap loaded. [PREINJECT Applicator Phase -&gt; gedrite.client.mixins.json:GedriteClientMixin from mod gedrite -&gt; Prepare Injections -&gt;  -&gt; handler$zkc000$gedrite$run(Lorg/spongepowered/asm/mixin/injection/callback/CallbackInfo;)V -&gt; Parse] org.spongepowered.asm.mixin.injection.throwables.InvalidInjectionException: Critical injection failure: @Inject annotation on run could not find any targets matching 'run' in net.minecraft.class_310. No refMap loaded. [PREINJECT Applicator Phase -&gt; gedrite.client.mixins.json:GedriteClientMixin from mod gedrite -&gt; Prepare Injections -&gt;  -&gt; handler$zkc000$gedrite$run(Lorg/spongepowered/asm/mixin/injection/callback/CallbackInfo;)V -&gt; Parse] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.validateTargets(InjectionInfo.java:656) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.findTargets(InjectionInfo.java:587) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.readAnnotation(InjectionInfo.java:330) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.&lt;init&gt;(InjectionInfo.java:316) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.&lt;init&gt;(InjectionInfo.java:308) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.CallbackInjectionInfo.&lt;init&gt;(CallbackInjectionInfo.java:46) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at jdk.internal.reflect.GeneratedConstructorAccessor60.newInstance(Unknown Source) ~[?:?] at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?] at java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[?:?] at java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[?:?] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo$InjectorEntry.create(InjectionInfo.java:149) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.parse(InjectionInfo.java:708) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTargetContext.prepareInjections(MixinTargetContext.java:1329) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.prepareInjections(MixinApplicatorStandard.java:1053) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.applyMixin(MixinApplicatorStandard.java:395) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:327) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:421) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:403) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112) ~[fabric-loader-0.14.21.jar:?] at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] at net.minecraft.client.main.Main.main(Main.java:220) ~[Fabric%201.20.1.jar:?] at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:468) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23) ~[fabric-loader-0.14.21.jar:?] \n[15:59:58] [Render thread/ERROR]: Minecraft has crashed! net.fabricmc.loader.impl.FormattedException: java.lang.RuntimeException: Mixin transformation of net.minecraft.class_310 failed at net.fabricmc.loader.impl.FormattedException.ofLocalized(FormattedException.java:63) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:470) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23) ~[fabric-loader-0.14.21.jar:?] Caused by: java.lang.RuntimeException: Mixin transformation of net.minecraft.class_310 failed at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:427) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112) ~[fabric-loader-0.14.21.jar:?] at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] at net.minecraft.client.main.Main.main(Main.java:220) ~[Fabric%201.20.1.jar:?] at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:468) ~[fabric-loader-0.14.21.jar:?] ... 2 more Caused by: org.spongepowered.asm.mixin.transformer.throwables.MixinTransformerError: An unexpected critical error was encountered at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:392) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112) ~[fabric-loader-0.14.21.jar:?] at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] at net.minecraft.client.main.Main.main(Main.java:220) ~[Fabric%201.20.1.jar:?] at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:468) ~[fabric-loader-0.14.21.jar:?] ... 2 more Caused by: org.spongepowered.asm.mixin.throwables.MixinApplyError: Mixin [gedrite.client.mixins.json:GedriteClientMixin from mod gedrite] from phase [DEFAULT] in config [gedrite.client.mixins.json] FAILED during APPLY at org.spongepowered.asm.mixin.transformer.MixinProcessor.handleMixinError(MixinProcessor.java:638) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinProcessor.handleMixinApplyError(MixinProcessor.java:589) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:379) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112) ~[fabric-loader-0.14.21.jar:?] at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] at net.minecraft.client.main.Main.main(Main.java:220) ~[Fabric%201.20.1.jar:?] at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:468) ~[fabric-loader-0.14.21.jar:?] ... 2 more Caused by: org.spongepowered.asm.mixin.injection.throwables.InvalidInjectionException: Critical injection failure: @Inject annotation on run could not find any targets matching 'run' in net.minecraft.class_310. No refMap loaded. [PREINJECT Applicator Phase -&gt; gedrite.client.mixins.json:GedriteClientMixin from mod gedrite -&gt; Prepare Injections -&gt;  -&gt; handler$zkc000$gedrite$run(Lorg/spongepowered/asm/mixin/injection/callback/CallbackInfo;)V -&gt; Parse] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.validateTargets(InjectionInfo.java:656) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.findTargets(InjectionInfo.java:587) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.readAnnotation(InjectionInfo.java:330) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.&lt;init&gt;(InjectionInfo.java:316) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.&lt;init&gt;(InjectionInfo.java:308) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.CallbackInjectionInfo.&lt;init&gt;(CallbackInjectionInfo.java:46) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at jdk.internal.reflect.GeneratedConstructorAccessor60.newInstance(Unknown Source) ~[?:?] at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?] at java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[?:?] at java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[?:?] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo$InjectorEntry.create(InjectionInfo.java:149) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.parse(InjectionInfo.java:708) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTargetContext.prepareInjections(MixinTargetContext.java:1329) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.prepareInjections(MixinApplicatorStandard.java:1053) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.applyMixin(MixinApplicatorStandard.java:395) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:327) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:421) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:403) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202) ~[sponge-mixin-0.12.5+mixin.0.8.5.jar:0.12.5+mixin.0.8.5] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218) ~[fabric-loader-0.14.21.jar:?] at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112) ~[fabric-loader-0.14.21.jar:?] at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] at net.minecraft.client.main.Main.main(Main.java:220) ~[Fabric%201.20.1.jar:?] at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:468) ~[fabric-loader-0.14.21.jar:?] ... 2 more\n</code></pre>\n"},{"tags":["java","getresource"],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":0,"down_vote_count":2,"up_vote_count":28,"is_accepted":true,"score":26,"last_activity_date":1299617055,"creation_date":1299617055,"answer_id":5238112,"question_id":5238048,"body_markdown":"`getResourceAsStream()` is using the CLASSPATH, and as such it will load from *wherever your classes are*, not your source files.\r\n\r\nI suspect you need to copy your XML to the same directory as your .class file.","title":"Junit + getResourceAsStream Returning Null","body":"<p><code>getResourceAsStream()</code> is using the CLASSPATH, and as such it will load from <em>wherever your classes are</em>, not your source files.</p>\n\n<p>I suspect you need to copy your XML to the same directory as your .class file.</p>\n"},{"tags":[],"owner":{"account_id":10135,"reputation":14548,"user_id":18995,"accept_rate":81,"display_name":"Paul Croarkin"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1299618658,"creation_date":1299618658,"answer_id":5238374,"question_id":5238048,"body_markdown":"Try MyClass.getResourceAsStream().\r\n\r\nAlso try putting the test.xml in your classpath. For instance, in an Eclipse web project put text.xml in webcontent/WEB-INF/classes\r\n\r\n\r\n","title":"Junit + getResourceAsStream Returning Null","body":"<p>Try MyClass.getResourceAsStream().</p>\n\n<p>Also try putting the test.xml in your classpath. For instance, in an Eclipse web project put text.xml in webcontent/WEB-INF/classes</p>\n"},{"comments":[{"owner":{"account_id":80182,"reputation":29519,"user_id":226895,"accept_rate":86,"display_name":"expert"},"score":0,"creation_date":1344030840,"post_id":5238382,"comment_id":15685477,"body_markdown":"First link helped me. Thanks.","body":"First link helped me. Thanks."},{"owner":{"account_id":199596,"reputation":2146,"user_id":2147987,"accept_rate":86,"display_name":"Dhana Krishnasamy"},"score":1,"creation_date":1445009704,"post_id":5238382,"comment_id":54156068,"body_markdown":"Like -&gt; I always experiment with adding &quot;/&quot; at the beginning or &quot;./&quot;.","body":"Like -&gt; I always experiment with adding &quot;/&quot; at the beginning or &quot;./&quot;."}],"tags":[],"owner":{"account_id":271909,"reputation":2677,"user_id":562699,"accept_rate":80,"display_name":"Sebastian askawiec"},"comment_count":2,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1299618756,"creation_date":1299618756,"answer_id":5238382,"question_id":5238048,"body_markdown":"I always have problem with this method. Here are 2 links, which might be useful:\r\n\r\n - [Describes diference between\r\n   getClass().getResource(); and\r\n   getClass().getClassLoader().getResource();][1]\r\n - [Simple utility which simplifies\r\n   these 2 approaches][2]\r\n\r\nI always experiment with adding &quot;/&quot; at the beginning or &quot;./&quot;. \r\n\r\nFrom my experience the best method is using FileInputStream. There is only one thing to remember (while using FileInputStream with Eclipse), with default settings, your working directory is set to projects root. You can always check where is your current directory (and what relative paths you need)using [this piece of code][3].\r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/javaqa/2002-11/02-qa-1122-resources.html\r\n  [2]: http://www.javaworld.com/javaworld/javaqa/2003-08/01-qa-0808-property.html?page=2\r\n  [3]: http://www.rgagnon.com/javadetails/java-0076.html","title":"Junit + getResourceAsStream Returning Null","body":"<p>I always have problem with this method. Here are 2 links, which might be useful:</p>\n\n<ul>\n<li><a href=\"http://www.javaworld.com/javaworld/javaqa/2002-11/02-qa-1122-resources.html\" rel=\"noreferrer\">Describes diference between\ngetClass().getResource(); and\ngetClass().getClassLoader().getResource();</a></li>\n<li><a href=\"http://www.javaworld.com/javaworld/javaqa/2003-08/01-qa-0808-property.html?page=2\" rel=\"noreferrer\">Simple utility which simplifies\nthese 2 approaches</a></li>\n</ul>\n\n<p>I always experiment with adding \"/\" at the beginning or \"./\". </p>\n\n<p>From my experience the best method is using FileInputStream. There is only one thing to remember (while using FileInputStream with Eclipse), with default settings, your working directory is set to projects root. You can always check where is your current directory (and what relative paths you need)using <a href=\"http://www.rgagnon.com/javadetails/java-0076.html\" rel=\"noreferrer\">this piece of code</a>.</p>\n"},{"tags":[],"owner":{"account_id":137377,"reputation":39554,"user_id":341508,"accept_rate":88,"display_name":"limc"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1299621106,"creation_date":1299621106,"answer_id":5238776,"question_id":5238048,"body_markdown":"Assuming `test.xml` is located right under your `test` root source folder, do this:-\r\n\r\n    InputStream source = this.getClass().getClassLoader().getResourceAsStream(&quot;test.xml&quot;);\r\n\r\n","title":"Junit + getResourceAsStream Returning Null","body":"<p>Assuming <code>test.xml</code> is located right under your <code>test</code> root source folder, do this:-</p>\n\n<pre><code>InputStream source = this.getClass().getClassLoader().getResourceAsStream(\"test.xml\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":400321,"reputation":4722,"user_id":766233,"accept_rate":83,"display_name":"jcalfee314"},"score":11,"creation_date":1372191049,"post_id":6541151,"comment_id":25098330,"body_markdown":"`System.out.println(MyClass.class.getResource(&quot;.&quot;).getPath());`","body":"<code>System.out.println(MyClass.class.getResource(&quot;.&quot;).getPath())&zwnj;&#8203;;</code>"},{"owner":{"account_id":2091800,"reputation":17275,"user_id":1861459,"accept_rate":81,"display_name":"pherris"},"score":4,"creation_date":1386886510,"post_id":6541151,"comment_id":30741250,"body_markdown":"System.out.println(this.getClass().getClassLoader().getResource(&quot;.&quot;).getPath());","body":"System.out.println(this.getClass().getClassLoader().getResou&zwnj;&#8203;rce(&quot;.&quot;).getPath());"},{"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"score":1,"creation_date":1589900168,"post_id":6541151,"comment_id":109473098,"body_markdown":"Yeah this helped! I could see what the folder was where things were being compiled, then I searched through that folder on the command line to see where my resources was, and loaded it relative to that.... Thanks!","body":"Yeah this helped! I could see what the folder was where things were being compiled, then I searched through that folder on the command line to see where my resources was, and loaded it relative to that.... Thanks!"}],"tags":[],"owner":{"account_id":64878,"reputation":3521,"user_id":191300,"accept_rate":55,"display_name":"surajz"},"comment_count":3,"down_vote_count":2,"up_vote_count":36,"is_accepted":false,"score":34,"last_activity_date":1309468322,"creation_date":1309468322,"answer_id":6541151,"question_id":5238048,"body_markdown":"It&#39;s  not finding the resource on the classpath. If you are using  junit and maven make sure the resources are copied on the target/test-classes by adding `&lt;include&gt;` file directive on `&lt;testResource&gt;` section\r\n\r\nYou can also find out the location of your class in the file system by using\r\n\r\n    this.getClass().getResource(&quot;.&quot;)\r\n\r\nand checking to see if the resource is there","title":"Junit + getResourceAsStream Returning Null","body":"<p>It's  not finding the resource on the classpath. If you are using  junit and maven make sure the resources are copied on the target/test-classes by adding <code>&lt;include&gt;</code> file directive on <code>&lt;testResource&gt;</code> section</p>\n\n<p>You can also find out the location of your class in the file system by using</p>\n\n<pre><code>this.getClass().getResource(\".\")\n</code></pre>\n\n<p>and checking to see if the resource is there</p>\n"},{"tags":[],"owner":{"account_id":1234681,"reputation":1,"user_id":1198520,"display_name":"Benedikt"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1328746865,"creation_date":1328746865,"answer_id":9203719,"question_id":5238048,"body_markdown":"Add the folder that your having your resource files in to the source folders of eclipse. Then the file should be automatically put in the bin directory.","title":"Junit + getResourceAsStream Returning Null","body":"<p>Add the folder that your having your resource files in to the source folders of eclipse. Then the file should be automatically put in the bin directory.</p>\n"},{"tags":[],"owner":{"account_id":157838,"reputation":49,"user_id":376058,"display_name":"Espen"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1371028246,"creation_date":1371028246,"answer_id":17061721,"question_id":5238048,"body_markdown":"From Java API:\r\n\r\nhttp://docs.oracle.com/javase/6/docs/api/java/lang/ClassLoader.html#getSystemResource(java.lang.String)\r\n\r\n*Find a resource of the specified name from the search path used to load classes. This method locates the resource through the system class loader*\r\n\r\nSo the syntax will for instance be:\r\nClassLoader.getSystemResource(&quot;test.xml&quot;).toString();\r\n\r\nWorks like a charm!","title":"Junit + getResourceAsStream Returning Null","body":"<p>From Java API:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/ClassLoader.html#getSystemResource(java.lang.String)\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/lang/ClassLoader.html#getSystemResource(java.lang.String)</a></p>\n\n<p><em>Find a resource of the specified name from the search path used to load classes. This method locates the resource through the system class loader</em></p>\n\n<p>So the syntax will for instance be:\nClassLoader.getSystemResource(\"test.xml\").toString();</p>\n\n<p>Works like a charm!</p>\n"},{"comments":[{"owner":{"account_id":2264978,"reputation":3734,"user_id":1993937,"accept_rate":47,"display_name":"TheJeff"},"score":1,"creation_date":1602512486,"post_id":29280102,"comment_id":113736565,"body_markdown":"Does this copy src/main/resources to a location where test files can access them?\n\nThis directory is the default for test resources already... so I&#39;m not sure why it needs to be specified?","body":"Does this copy src/main/resources to a location where test files can access them?  This directory is the default for test resources already... so I&#39;m not sure why it needs to be specified?"}],"tags":[],"owner":{"account_id":2144311,"reputation":9891,"user_id":1902296,"accept_rate":35,"display_name":"humkins"},"comment_count":1,"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1692322450,"creation_date":1427377527,"answer_id":29280102,"question_id":5238048,"body_markdown":"In case you are using Maven, add this part to your `pom.xml`\r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;testResources&gt;\r\n        &lt;testResource&gt;\r\n            &lt;directory&gt;${project.basedir}/src/test/resources&lt;/directory&gt;\r\n        &lt;/testResource&gt;\r\n    &lt;/testResources&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nYour `test.xml` and other resource files must be located in `src/test/resources`","title":"Junit + getResourceAsStream Returning Null","body":"<p>In case you are using Maven, add this part to your <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;testResources&gt;\n        &lt;testResource&gt;\n            &lt;directory&gt;${project.basedir}/src/test/resources&lt;/directory&gt;\n        &lt;/testResource&gt;\n    &lt;/testResources&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Your <code>test.xml</code> and other resource files must be located in <code>src/test/resources</code></p>\n"},{"comments":[{"owner":{"account_id":7559157,"reputation":874,"user_id":5737438,"display_name":"Yeikel"},"score":0,"creation_date":1634159065,"post_id":40557633,"comment_id":122954139,"body_markdown":"Where did you get ClassUtils from?","body":"Where did you get ClassUtils from?"}],"tags":[],"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1478905964,"creation_date":1478905964,"answer_id":40557633,"question_id":5238048,"body_markdown":"I had this problem with a Spring class. `System.class.getResourceAsStream(...)` worked in unit tests but not in Tomcat, `Thread.currentThread().getContextClassLoader().getResourceAsStream(...)` worked in Tomcat but not in unit tests.\r\n\r\nUlitimately I went with:\r\n\r\n    ClassUtils.getDefaultClassLoader()\r\n        .getResourceAsStream(&quot;com/example/mail/templates/invoice-past-due.html&quot;))\r\n\r\nI also found that once I did it this way, I did *not* need to have the path starting with a slash.","title":"Junit + getResourceAsStream Returning Null","body":"<p>I had this problem with a Spring class. <code>System.class.getResourceAsStream(...)</code> worked in unit tests but not in Tomcat, <code>Thread.currentThread().getContextClassLoader().getResourceAsStream(...)</code> worked in Tomcat but not in unit tests.</p>\n\n<p>Ulitimately I went with:</p>\n\n<pre><code>ClassUtils.getDefaultClassLoader()\n    .getResourceAsStream(\"com/example/mail/templates/invoice-past-due.html\"))\n</code></pre>\n\n<p>I also found that once I did it this way, I did <em>not</em> need to have the path starting with a slash.</p>\n"},{"tags":[],"owner":{"account_id":4458093,"reputation":8404,"user_id":3627736,"accept_rate":79,"display_name":"Yuliia Ashomok"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1501053797,"creation_date":1501053797,"answer_id":45320121,"question_id":5238048,"body_markdown":"You need to put the copy of your resource file to the test resources, in my example it is font file: &lt;br&gt; &lt;br&gt;\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bhhd7.png\r\n\r\nThen call next from your jUnit test:\r\n\r\n   \r\n\r\n     public static InputStream getFontAsStream() throws IOException {\r\n            return Thread.currentThread().getContextClassLoader()\r\n                        .getResourceAsStream(&quot;fonts/&quot; + &quot;FreeSans.ttf&quot;);\r\n        }\r\n","title":"Junit + getResourceAsStream Returning Null","body":"<p>You need to put the copy of your resource file to the test resources, in my example it is font file: <br> <br>\n<a href=\"https://i.stack.imgur.com/bhhd7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bhhd7.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then call next from your jUnit test:</p>\n\n<pre><code> public static InputStream getFontAsStream() throws IOException {\n        return Thread.currentThread().getContextClassLoader()\n                    .getResourceAsStream(\"fonts/\" + \"FreeSans.ttf\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9978017,"reputation":57,"user_id":7381884,"display_name":"egroque"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1513884062,"creation_date":1513884062,"answer_id":47931472,"question_id":5238048,"body_markdown":"I spent lot of time in this problem and it was missing me the following configuration: \r\nRight-click on an eclipse project and select **Properties -&gt; Java Build Path -&gt; Source**  and edit **Included** row and **add \\*.properties** (*.fileExtension)","title":"Junit + getResourceAsStream Returning Null","body":"<p>I spent lot of time in this problem and it was missing me the following configuration: \nRight-click on an eclipse project and select <strong>Properties -> Java Build Path -> Source</strong>  and edit <strong>Included</strong> row and <strong>add *.properties</strong> (*.fileExtension)</p>\n"},{"tags":[],"owner":{"account_id":1076689,"reputation":948,"user_id":1074677,"display_name":"Stuart McIntyre"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571809782,"creation_date":1571809782,"answer_id":58516236,"question_id":5238048,"body_markdown":"Put test.xml in the src/main/resources (or src/test/resources).\r\n\r\n    File file = ResourceUtils.getFile(&quot;classpath:test.xml&quot;);\r\n    String test = new String(Files.readAllBytes(file.toPath()));","title":"Junit + getResourceAsStream Returning Null","body":"<p>Put test.xml in the src/main/resources (or src/test/resources).</p>\n\n<pre><code>File file = ResourceUtils.getFile(\"classpath:test.xml\");\nString test = new String(Files.readAllBytes(file.toPath()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2785115,"reputation":734,"user_id":2396744,"display_name":"isgoed"},"score":0,"creation_date":1611243480,"post_id":60487494,"comment_id":116393485,"body_markdown":"Prepending `classpath:` to the path was crucial for me, so `&quot;classpath:/test.xml&quot;`","body":"Prepending <code>classpath:</code> to the path was crucial for me, so <code>&quot;classpath:&#47;test.xml&quot;</code>"},{"owner":{"account_id":1497191,"reputation":9670,"user_id":1402846,"accept_rate":90,"display_name":"Pang"},"score":0,"creation_date":1692322495,"post_id":60487494,"comment_id":135610848,"body_markdown":"Is this just a repeat of [this existing answer](https://stackoverflow.com/a/5238776)?","body":"Is this just a repeat of <a href=\"https://stackoverflow.com/a/5238776\">this existing answer</a>?"}],"tags":[],"owner":{"account_id":7488628,"reputation":99,"user_id":5691084,"display_name":"Bandikatla Sai charan"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1583146828,"creation_date":1583146828,"answer_id":60487494,"question_id":5238048,"body_markdown":"try using classloader \r\n\r\n    InputStream source = this.getClass().getClassLoader().getResourceAsStream(&quot;test.xml&quot;);\r\n","title":"Junit + getResourceAsStream Returning Null","body":"<p>try using classloader </p>\n\n<pre><code>InputStream source = this.getClass().getClassLoader().getResourceAsStream(\"test.xml\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4321794,"reputation":576,"user_id":3529744,"accept_rate":91,"display_name":"one stevy boi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664992127,"creation_date":1664992127,"answer_id":73964370,"question_id":5238048,"body_markdown":"Seems there are a lot of possible causes to this and mine was not found here. I figured out that my tests were no longer being detected/run by maven and [this baeldung post][1] also provided a lot of possible causes. My problem ended up being that at some point I altered the wrong pom and set my packaging to `pom`.\r\n\r\nThe test-compile step was being skipped completely and no new resources were ending up in the classpath. So, check your `target/test-classes` directory and make sure that your tests are actually compiling in the first place.\r\n\r\n\r\n  [1]: https://www.baeldung.com/maven-cant-find-junit-tests","title":"Junit + getResourceAsStream Returning Null","body":"<p>Seems there are a lot of possible causes to this and mine was not found here. I figured out that my tests were no longer being detected/run by maven and <a href=\"https://www.baeldung.com/maven-cant-find-junit-tests\" rel=\"nofollow noreferrer\">this baeldung post</a> also provided a lot of possible causes. My problem ended up being that at some point I altered the wrong pom and set my packaging to <code>pom</code>.</p>\n<p>The test-compile step was being skipped completely and no new resources were ending up in the classpath. So, check your <code>target/test-classes</code> directory and make sure that your tests are actually compiling in the first place.</p>\n"},{"tags":[],"owner":{"account_id":16773629,"reputation":23,"user_id":12125514,"display_name":"codersaty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665686927,"creation_date":1665686927,"answer_id":74060449,"question_id":5238048,"body_markdown":"I got a Similar issue. The problem in my case was that `getResourceAsStream()` was working fine for the main Application code but giving `Null` in case of unit-test. The problem was that for the main Application code it was looking in the  `target/classes` folder for the file but for the unit-test it was looking in the `target/test-classes`. I fixed the problem by adding my file in the `test/resources` folder.","title":"Junit + getResourceAsStream Returning Null","body":"<p>I got a Similar issue. The problem in my case was that <code>getResourceAsStream()</code> was working fine for the main Application code but giving <code>Null</code> in case of unit-test. The problem was that for the main Application code it was looking in the  <code>target/classes</code> folder for the file but for the unit-test it was looking in the <code>target/test-classes</code>. I fixed the problem by adding my file in the <code>test/resources</code> folder.</p>\n"}],"owner":{"account_id":63016,"reputation":13014,"user_id":186808,"accept_rate":69,"display_name":"bobber205"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54898,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":5238112,"answer_count":15,"score":55,"last_activity_date":1692322450,"creation_date":1299616648,"question_id":5238048,"body_markdown":"Not sure how this is possible. I re-read up on getResourceAsStream and it&#39;s always returning null.\r\n\r\n   \r\n\r\n    InputStream source = this.getClass().getResourceAsStream(&quot;test.xml&quot;);\r\n\r\nRight next to test.java in the Finder (using OS X and Eclipse) is test.xml\r\n\r\nI can open it in TextWrangler and view it as existing with data inside.\r\n\r\nThis is a Junit test if it makes any difference. I went and looked at existing Junit tests on our system and I&#39;m using it in the exactly same manner as a working example (as in where the file is located and the code itself).\r\n\r\nWhat small difference could there be preventing I assume getClass() from returning the right path?","title":"Junit + getResourceAsStream Returning Null","body":"<p>Not sure how this is possible. I re-read up on getResourceAsStream and it's always returning null.</p>\n<pre><code>InputStream source = this.getClass().getResourceAsStream(&quot;test.xml&quot;);\n</code></pre>\n<p>Right next to test.java in the Finder (using OS X and Eclipse) is test.xml</p>\n<p>I can open it in TextWrangler and view it as existing with data inside.</p>\n<p>This is a Junit test if it makes any difference. I went and looked at existing Junit tests on our system and I'm using it in the exactly same manner as a working example (as in where the file is located and the code itself).</p>\n<p>What small difference could there be preventing I assume getClass() from returning the right path?</p>\n"},{"tags":["java","spring","tomcat","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1691924809,"post_id":76893029,"comment_id":135554137,"body_markdown":"Why is your colleague using Ultimate, and you Community? Isn&#39;t your company providing you with an appropriate license?","body":"Why is your colleague using Ultimate, and you Community? Isn&#39;t your company providing you with an appropriate license?"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1691995394,"post_id":76893029,"comment_id":135560618,"body_markdown":"If Smart Tomcat plugin doesn&#39;t work as expected in your project you could try building/running the project via Maven / Gradle directly, for example by configuring Tomcat Maven plugin https://mvnrepository.com/artifact/org.apache.tomcat.maven  and configure corresponding run configuration in the IDE under `Run | Edit Configurations...`","body":"If Smart Tomcat plugin doesn&#39;t work as expected in your project you could try building/running the project via Maven / Gradle directly, for example by configuring Tomcat Maven plugin <a href=\"https://mvnrepository.com/artifact/org.apache.tomcat.maven\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.apache.tomcat.maven</a>  and configure corresponding run configuration in the IDE under <code>Run | Edit Configurations...</code>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1691995612,"post_id":76893029,"comment_id":135560647,"body_markdown":"Your colleague is using Tomcat 9, which is JavaEE, you are using Tomcat 10 which is JakartaEE. Use Tomcat 9 instead of Tomcat 10. This has nothing to do with the Intellij version in use but using not compatible versions of Tomcat (JavaEE and JakartaEE are not compatible).","body":"Your colleague is using Tomcat 9, which is JavaEE, you are using Tomcat 10 which is JakartaEE. Use Tomcat 9 instead of Tomcat 10. This has nothing to do with the Intellij version in use but using not compatible versions of Tomcat (JavaEE and JakartaEE are not compatible)."}],"answers":[{"tags":[],"owner":{"account_id":3825032,"reputation":21,"user_id":3172039,"display_name":"Traveller"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692322018,"creation_date":1692322018,"answer_id":76925928,"question_id":76893029,"body_markdown":"I found Polaris Tomcat Server plugin is available in Intellij Idea Community Edition recently. You can find the usage on the plugin page and [this document][1].\r\nIf you have further question, please let me know.\r\n\r\n\r\n  [1]: https://github.com/YingXingGuiHai/PolarisTomcatServer/tree/main#readme","title":"Differences between IntelliJ IDEA Ultimate&#39;s Tomcat server plugin and Community&#39;s Smart Tomcat plugin - missing features in startup/connection tab","body":"<p>I found Polaris Tomcat Server plugin is available in Intellij Idea Community Edition recently. You can find the usage on the plugin page and <a href=\"https://github.com/YingXingGuiHai/PolarisTomcatServer/tree/main#readme\" rel=\"nofollow noreferrer\">this document</a>.\nIf you have further question, please let me know.</p>\n"}],"owner":{"account_id":29216073,"reputation":1,"user_id":22382873,"display_name":"chander ankit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692322018,"creation_date":1691924388,"question_id":76893029,"body_markdown":"I recently started a new job and find myself in a situation where I&#39;m struggling to start a service developed in Spring. The service requires a startup script to run smoothly. Interestingly, my senior uses the Ultimate Edition of IntelliJ IDEA, while I&#39;m using the Community Edition.\r\n\r\nUpon investigating, I discovered that IntelliJ IDEA Community Edition comes with a &quot;Smart Tomcat&quot; plugin, but it appears to offer fewer features compared to the dedicated Tomcat server plugin available in IntelliJ IDEA Ultimate. Particularly, I&#39;m missing the capabilities provided in the &quot;Startup/Connection&quot; tab, which are present in the Ultimate version&#39;s Tomcat plugin.\r\n\r\nI am aware of the limitations of the Community version, but I&#39;m curious if there&#39;s a way to overcome this challenge and achieve similar functionality. Are there any alternative approaches, configuration settings, or additional plugins that I can leverage to enhance the &quot;Smart Tomcat&quot; plugin&#39;s startup and connection capabilities?\r\n\r\nIf you have faced a similar scenario or have insights into this matter, I would greatly appreciate any advice, workarounds, or suggestions you could provide. My objective is to optimize my development workflow as much as possible while working with the Community Edition of IntelliJ IDEA.\r\n\r\n[screenshot of smart tomcat](https://i.stack.imgur.com/isN5U.png)\r\n[ss of tomcat server](https://i.stack.imgur.com/GbZhT.png)\r\n\r\nWhat I tried:\r\n1. Configured the &quot;Smart Tomcat&quot; plugin in IntelliJ IDEA with appropriate settings.\r\n2. Deployed my Spring application (war file) using the plugin&#39;s deployment feature.\r\n3. Ran the &quot;Smart Tomcat&quot; server configuration.\r\n\r\nWhat I expected:\r\nI expected the &quot;Smart Tomcat&quot; plugin to successfully start the server, deploy my application, and make it accessible via the specified URL (e.g., http://localhost:8080/myapp).\r\n\r\nWhat actually resulted:\r\nUnfortunately, the server did not start as expected, and I encountered an error message indicating that the service failed to deploy. I checked the server logs, it show NullPointerException in Intializer Java Class  for loading the startup script containing properties files.\r\n\r\nI&#39;m seeking guidance on how to troubleshoot this problem and whether there are alternative approaches or configurations that could help me achieve successful deployment and startup.\r\n","title":"Differences between IntelliJ IDEA Ultimate&#39;s Tomcat server plugin and Community&#39;s Smart Tomcat plugin - missing features in startup/connection tab","body":"<p>I recently started a new job and find myself in a situation where I'm struggling to start a service developed in Spring. The service requires a startup script to run smoothly. Interestingly, my senior uses the Ultimate Edition of IntelliJ IDEA, while I'm using the Community Edition.</p>\n<p>Upon investigating, I discovered that IntelliJ IDEA Community Edition comes with a &quot;Smart Tomcat&quot; plugin, but it appears to offer fewer features compared to the dedicated Tomcat server plugin available in IntelliJ IDEA Ultimate. Particularly, I'm missing the capabilities provided in the &quot;Startup/Connection&quot; tab, which are present in the Ultimate version's Tomcat plugin.</p>\n<p>I am aware of the limitations of the Community version, but I'm curious if there's a way to overcome this challenge and achieve similar functionality. Are there any alternative approaches, configuration settings, or additional plugins that I can leverage to enhance the &quot;Smart Tomcat&quot; plugin's startup and connection capabilities?</p>\n<p>If you have faced a similar scenario or have insights into this matter, I would greatly appreciate any advice, workarounds, or suggestions you could provide. My objective is to optimize my development workflow as much as possible while working with the Community Edition of IntelliJ IDEA.</p>\n<p><a href=\"https://i.stack.imgur.com/isN5U.png\" rel=\"nofollow noreferrer\">screenshot of smart tomcat</a>\n<a href=\"https://i.stack.imgur.com/GbZhT.png\" rel=\"nofollow noreferrer\">ss of tomcat server</a></p>\n<p>What I tried:</p>\n<ol>\n<li>Configured the &quot;Smart Tomcat&quot; plugin in IntelliJ IDEA with appropriate settings.</li>\n<li>Deployed my Spring application (war file) using the plugin's deployment feature.</li>\n<li>Ran the &quot;Smart Tomcat&quot; server configuration.</li>\n</ol>\n<p>What I expected:\nI expected the &quot;Smart Tomcat&quot; plugin to successfully start the server, deploy my application, and make it accessible via the specified URL (e.g., http://localhost:8080/myapp).</p>\n<p>What actually resulted:\nUnfortunately, the server did not start as expected, and I encountered an error message indicating that the service failed to deploy. I checked the server logs, it show NullPointerException in Intializer Java Class  for loading the startup script containing properties files.</p>\n<p>I'm seeking guidance on how to troubleshoot this problem and whether there are alternative approaches or configurations that could help me achieve successful deployment and startup.</p>\n"},{"tags":["java","android","bash","owner"],"comments":[{"owner":{"account_id":1061549,"reputation":5123,"user_id":1063041,"accept_rate":100,"display_name":"eboix"},"score":1,"creation_date":1325357872,"post_id":8689818,"comment_id":10807312,"body_markdown":"https://github.com/keesj/gomo/wiki/AndroidUserAndGroups","body":"<a href=\"https://github.com/keesj/gomo/wiki/AndroidUserAndGroups\" rel=\"nofollow noreferrer\">github.com/keesj/gomo/wiki/AndroidUserAndGroups</a>"},{"owner":{"account_id":281431,"reputation":3966,"user_id":577732,"accept_rate":92,"display_name":"user577732"},"score":0,"creation_date":1325357924,"post_id":8689818,"comment_id":10807320,"body_markdown":"looks really promising thanks taking a look at it now","body":"looks really promising thanks taking a look at it now"},{"owner":{"account_id":1061549,"reputation":5123,"user_id":1063041,"accept_rate":100,"display_name":"eboix"},"score":0,"creation_date":1325358623,"post_id":8689818,"comment_id":10807409,"body_markdown":"Wait a second. Are you sure that you want the phone&#39;s hardcoded groups? Using AccountManager you can get their username@gmail.com and other accounts they have...... http://developer.android.com/reference/android/accounts/AccountManager.html#getAccounts()","body":"Wait a second. Are you sure that you want the phone&#39;s hardcoded groups? Using AccountManager you can get their username@gmail.com and other accounts they have...... <a href=\"http://developer.android.com/reference/android/accounts/AccountManager.html#getAccounts()\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/accounts/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":281431,"reputation":3966,"user_id":577732,"accept_rate":92,"display_name":"user577732"},"score":0,"creation_date":1325356643,"post_id":8689847,"comment_id":10807158,"body_markdown":"Working on android and when i run this getent isn&#39;t found on my device and isn&#39;t part of busybox. I checked passwd which i found in /etc/passwd it only contains &quot;root:x:0:0::/data/cron:/system/bin/sh and group doesn&#39;t exist in /etc any other ideas? thanks for the suggestion","body":"Working on android and when i run this getent isn&#39;t found on my device and isn&#39;t part of busybox. I checked passwd which i found in /etc/passwd it only contains &quot;root:x:0:0::/data/cron:/system/bin/sh and group doesn&#39;t exist in /etc any other ideas? thanks for the suggestion"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1325356806,"post_id":8689847,"comment_id":10807184,"body_markdown":"Have you had a look at `/etc/nsswitch.conf`? What does it define as valid sources for user names and groups? (that is, if such a file exists)","body":"Have you had a look at <code>&#47;etc&#47;nsswitch.conf</code>? What does it define as valid sources for user names and groups? (that is, if such a file exists)"},{"owner":{"account_id":390844,"reputation":27902,"user_id":751158,"accept_rate":100,"display_name":"ziesemer"},"score":0,"creation_date":1325356910,"post_id":8689847,"comment_id":10807193,"body_markdown":"Sorry - I didn&#39;t trust your &quot;android&quot; tag, given that it was the only mention of Android in the entire question.  :-)","body":"Sorry - I didn&#39;t trust your &quot;android&quot; tag, given that it was the only mention of Android in the entire question.  :-)"},{"owner":{"account_id":281431,"reputation":3966,"user_id":577732,"accept_rate":92,"display_name":"user577732"},"score":0,"creation_date":1325357183,"post_id":8689847,"comment_id":10807219,"body_markdown":"Sorry bout that should have been more descriptive about it being for android and @fge that file doesn&#39;t exist on my device gonna search for it on my device though but it&#39;s not at that path you gave","body":"Sorry bout that should have been more descriptive about it being for android and @fge that file doesn&#39;t exist on my device gonna search for it on my device though but it&#39;s not at that path you gave"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1325357397,"post_id":8689847,"comment_id":10807253,"body_markdown":"I suggest you search for the way Android looks up its user names and groups: it appears it does not use the standard mechanics in use on Linux distributions. By chance, do you have an `/etc/pam.d` directory? Maybe looking in the files in this directory will give you hints...","body":"I suggest you search for the way Android looks up its user names and groups: it appears it does not use the standard mechanics in use on Linux distributions. By chance, do you have an <code>&#47;etc&#47;pam.d</code> directory? Maybe looking in the files in this directory will give you hints..."},{"owner":{"account_id":281431,"reputation":3966,"user_id":577732,"accept_rate":92,"display_name":"user577732"},"score":0,"creation_date":1325357624,"post_id":8689847,"comment_id":10807275,"body_markdown":"@fge nope that directory doesn&#39;t exist and yea i&#39;ve been looking for a while and can&#39;t find how it looks up its user names been looking the past two days and finally broke down and decided to ask here ha","body":"@fge nope that directory doesn&#39;t exist and yea i&#39;ve been looking for a while and can&#39;t find how it looks up its user names been looking the past two days and finally broke down and decided to ask here ha"},{"owner":{"account_id":281431,"reputation":3966,"user_id":577732,"accept_rate":92,"display_name":"user577732"},"score":0,"creation_date":1325358049,"post_id":8689847,"comment_id":10807341,"body_markdown":"@eboix system/core/include/private/android_filesystem_config.h doesn&#39;t seem to exist on my phone either :(\nEdit: read again and i see it&#39;s in libraries so i&#39;m going to have to hardcode them and then read the user id of each app ugh ha but thanks a ton for the link","body":"@eboix system/core/include/private/android_filesystem_config.h doesn&#39;t seem to exist on my phone either :( Edit: read again and i see it&#39;s in libraries so i&#39;m going to have to hardcode them and then read the user id of each app ugh ha but thanks a ton for the link"},{"owner":{"account_id":281431,"reputation":3966,"user_id":577732,"accept_rate":92,"display_name":"user577732"},"score":0,"creation_date":1325359874,"post_id":8689847,"comment_id":10807548,"body_markdown":"who should i accept for this? ha i mean @eboix solved my issue but can&#39;t accept a comment gonna just accept ziesemer for now i guess","body":"who should i accept for this? ha i mean @eboix solved my issue but can&#39;t accept a comment gonna just accept ziesemer for now i guess"},{"owner":{"account_id":1061549,"reputation":5123,"user_id":1063041,"accept_rate":100,"display_name":"eboix"},"score":0,"creation_date":1325359903,"post_id":8689847,"comment_id":10807553,"body_markdown":"Okay @user577732. I&#39;ll post my answer as an answer. With AccountManager?","body":"Okay @user577732. I&#39;ll post my answer as an answer. With AccountManager?"},{"owner":{"account_id":390844,"reputation":27902,"user_id":751158,"accept_rate":100,"display_name":"ziesemer"},"score":0,"creation_date":1328016063,"post_id":8689847,"comment_id":11399870,"body_markdown":"@mice - Please refer to the above comments before down-voting.  This was an appropriate answer at the time.  (The question has since been edited.)  I&#39;d delete the answer, but there is useful information here (mostly in the comments) that should probably remain.","body":"@mice - Please refer to the above comments before down-voting.  This was an appropriate answer at the time.  (The question has since been edited.)  I&#39;d delete the answer, but there is useful information here (mostly in the comments) that should probably remain."}],"tags":[],"owner":{"account_id":390844,"reputation":27902,"user_id":751158,"accept_rate":100,"display_name":"ziesemer"},"comment_count":10,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1325356343,"creation_date":1325356343,"answer_id":8689847,"question_id":8689818,"body_markdown":"Using the shell (&quot;bash&quot;):\r\n\r\nFor users:\r\n\r\n    getent passwd\r\n\r\nFor groups:\r\n\r\n    getent group\r\n\r\nJust parse for the first field (before the colon) to get the actual names.","title":"List all possible owners and groups","body":"<p>Using the shell (\"bash\"):</p>\n\n<p>For users:</p>\n\n<pre><code>getent passwd\n</code></pre>\n\n<p>For groups:</p>\n\n<pre><code>getent group\n</code></pre>\n\n<p>Just parse for the first field (before the colon) to get the actual names.</p>\n"},{"comments":[{"owner":{"account_id":539739,"reputation":39728,"user_id":907695,"accept_rate":71,"display_name":"Pointer Null"},"score":0,"creation_date":1328004312,"post_id":8690144,"comment_id":11395956,"body_markdown":"Don&#39;t confuse Android Accounts with linux users/groups. These are not related.","body":"Don&#39;t confuse Android Accounts with linux users/groups. These are not related."}],"tags":[],"owner":{"account_id":1061549,"reputation":5123,"user_id":1063041,"accept_rate":100,"display_name":"eboix"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1692321689,"creation_date":1325360160,"answer_id":8690144,"question_id":8689818,"body_markdown":"[Groups in Android are hardcoded and &quot;are used to isolate processes and grant permissions.&quot;][1] However, if you want to get the online username, you can use [`AccountManager.getAccounts()`][2].\r\n\r\n\r\n  [1]: https://github.com/keesj/gomo/wiki/AndroidSecurityUserAndGroups\r\n  [2]: http://developer.android.com/reference/android/accounts/AccountManager.html#getAccounts%28%29","title":"List all possible owners and groups","body":"<p><a href=\"https://github.com/keesj/gomo/wiki/AndroidSecurityUserAndGroups\" rel=\"nofollow noreferrer\">Groups in Android are hardcoded and &quot;are used to isolate processes and grant permissions.&quot;</a> However, if you want to get the online username, you can use <a href=\"http://developer.android.com/reference/android/accounts/AccountManager.html#getAccounts%28%29\" rel=\"nofollow noreferrer\"><code>AccountManager.getAccounts()</code></a>.</p>\n"}],"owner":{"account_id":281431,"reputation":3966,"user_id":577732,"accept_rate":92,"display_name":"user577732"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2869,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":8690144,"answer_count":2,"score":3,"last_activity_date":1692321689,"creation_date":1325356088,"question_id":8689818,"body_markdown":"Using either Java or bash how can I list all possible owners and groups.\r\n\r\nFor instance if I was to do the following command in a shell with an obviously wrong owner:\r\n\r\n    chown ljafdj ~/Desktop/test.txt\r\n\r\nMy output would be\r\n\r\n&gt; chown: invalid user: `ljafdj&#39;\r\n\r\nThe same would be for `chgrp`\r\n\r\nSo how can I get a list of valid users using bash or Java?\r\n\r\nIt&#39;s for an Android application and I need to display the possibilities to my user so they can change if needed.","title":"List all possible owners and groups","body":"<p>Using either Java or bash how can I list all possible owners and groups.</p>\n\n<p>For instance if I was to do the following command in a shell with an obviously wrong owner:</p>\n\n<pre><code>chown ljafdj ~/Desktop/test.txt\n</code></pre>\n\n<p>My output would be</p>\n\n<blockquote>\n  <p>chown: invalid user: `ljafdj'</p>\n</blockquote>\n\n<p>The same would be for <code>chgrp</code></p>\n\n<p>So how can I get a list of valid users using bash or Java?</p>\n\n<p>It's for an Android application and I need to display the possibilities to my user so they can change if needed.</p>\n"},{"tags":["java","annotations"],"answers":[{"comments":[{"owner":{"account_id":5914097,"reputation":1175,"user_id":4653423,"accept_rate":44,"display_name":"Mukund Jalan"},"score":0,"creation_date":1434099251,"post_id":30798866,"comment_id":49646729,"body_markdown":"I&#39;ll see to the first option in detail, study it and see if this is possible for me as I have no idea about the said approach. But I didn&#39;t understand the second approach. Can you please relate it to my example?","body":"I&#39;ll see to the first option in detail, study it and see if this is possible for me as I have no idea about the said approach. But I didn&#39;t understand the second approach. Can you please relate it to my example?"},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1434114946,"post_id":30798866,"comment_id":49656394,"body_markdown":"@Mukund I think I misread your question. I&#39;ll remove the second approach. The first one should work.","body":"@Mukund I think I misread your question. I&#39;ll remove the second approach. The first one should work."}],"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1466956663,"creation_date":1434098493,"answer_id":30798866,"question_id":30798279,"body_markdown":"AFAIK, you can use an [annotation processor][1] to check the method signature at compile-time.\r\n\r\nI recommend to:\r\n\r\n - consider [AbstractProcessor][2] as a base class\r\n - consider to use the annotations provide by the [javax.annotation.processing][3] package\r\n - register the Processor as a [service][4] in META-INF/services\r\n - package the annotation processor and the annotations in the same jar - together with the registration as a service this will enable the processor whenever your custom annotation processor is used\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/annotation/processing/Processor.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/javax/annotation/processing/AbstractProcessor.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/javax/annotation/processing/package-summary.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html\r\n  [5]: https://github.com/Drombler/drombler-acp/blob/develop/drombler-acp-core-docking/src/main/java/org/drombler/acp/core/docking/impl/DockingAnnotationProcessor.java","title":"Compel a method with specific annotation to have specific parameters/signature","body":"<p>AFAIK, you can use an <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/annotation/processing/Processor.html\" rel=\"nofollow\">annotation processor</a> to check the method signature at compile-time.</p>\n\n<p>I recommend to:</p>\n\n<ul>\n<li>consider <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/annotation/processing/AbstractProcessor.html\" rel=\"nofollow\">AbstractProcessor</a> as a base class</li>\n<li>consider to use the annotations provide by the <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/annotation/processing/package-summary.html\" rel=\"nofollow\">javax.annotation.processing</a> package</li>\n<li>register the Processor as a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow\">service</a> in META-INF/services</li>\n<li>package the annotation processor and the annotations in the same jar - together with the registration as a service this will enable the processor whenever your custom annotation processor is used</li>\n</ul>\n"}],"owner":{"account_id":5914097,"reputation":1175,"user_id":4653423,"accept_rate":44,"display_name":"Mukund Jalan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2593,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1692321462,"creation_date":1434096449,"question_id":30798279,"body_markdown":"I have an annotation as:\r\n\r\n\timport java.lang.annotation.ElementType;\r\n\timport java.lang.annotation.Retention;\r\n\timport java.lang.annotation.RetentionPolicy;\r\n\timport java.lang.annotation.Target;\r\n\r\n\t@Target(ElementType.METHOD)\r\n\t@Retention(RetentionPolicy.RUNTIME)\r\n\tpublic @interface MyAnnotation {\r\n\t\tString annotationArgument1() default &quot;&quot;;\r\n\t\tString annotationArgument2();\r\n\t}\r\n\r\nI have two classes as:\r\n\r\n\tclass MyClass1 {\r\n\t\t@MyAnnotation(annotationArgument1=&quot;ABC&quot;, annotationArgument2=&quot;XYZ&quot;)\r\n\t\tpublic void method1(MyClass2 object) {\r\n\t\t\t//do something\r\n\t\t}\r\n\r\n\t\t@MyAnnotation(annotationArgument1=&quot;MNO&quot;, annotationArgument2=&quot;PQR&quot;)\r\n\t\tpublic void method2(MyClass2 object) {\r\n\t\t\t//do something\r\n\t\t}\r\n\t}\r\n\r\n\tclass MyClass2 {\r\n\t\tint num;\r\n\t}\r\n\r\nI want `method1` and `method2` (or any other method in any other class annotated with `@MyAnnotation`) to take only one argument as `MyClass2` because they are annotated with `@MyAnnotation`. If some other argument is passed, it must give a compile time error.\r\n\r\nIs it actually possible to do this?\r\nIf yes, how can it be done and if no, what is alternate to make this kind of behavior possible?","title":"Compel a method with specific annotation to have specific parameters/signature","body":"<p>I have an annotation as:</p>\n\n<pre><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface MyAnnotation {\n    String annotationArgument1() default \"\";\n    String annotationArgument2();\n}\n</code></pre>\n\n<p>I have two classes as:</p>\n\n<pre><code>class MyClass1 {\n    @MyAnnotation(annotationArgument1=\"ABC\", annotationArgument2=\"XYZ\")\n    public void method1(MyClass2 object) {\n        //do something\n    }\n\n    @MyAnnotation(annotationArgument1=\"MNO\", annotationArgument2=\"PQR\")\n    public void method2(MyClass2 object) {\n        //do something\n    }\n}\n\nclass MyClass2 {\n    int num;\n}\n</code></pre>\n\n<p>I want <code>method1</code> and <code>method2</code> (or any other method in any other class annotated with <code>@MyAnnotation</code>) to take only one argument as <code>MyClass2</code> because they are annotated with <code>@MyAnnotation</code>. If some other argument is passed, it must give a compile time error.</p>\n\n<p>Is it actually possible to do this?\nIf yes, how can it be done and if no, what is alternate to make this kind of behavior possible?</p>\n"},{"tags":["java","zgc"],"owner":{"account_id":29244340,"reputation":1,"user_id":22405118,"display_name":"Yida"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692320970,"creation_date":1692277041,"question_id":76921761,"body_markdown":"**ZGC used alot of cache after startup even there is no request**\r\n\r\nOS:  docker  \r\njdk: `openjdk version &quot;17.0.8&quot; 2023-07-18`\r\n\r\n\r\nThis is the start command for my container\r\n```dockerfile\r\nCMD [&quot;java&quot;,&quot;-Xms1g&quot;,&quot;-Xmx1g&quot;,&quot;-XX:+UseZGC&quot;,&quot;-jar&quot;,&quot;/root/access-1.0.0.jar&quot;]\r\n```\r\n\r\n**The `total_cache` is too high**\r\n```\r\n# cat /sys/fs/cgroup/memory/memory.stat\r\ncache 1074008064\r\nrss 185012224\r\nrss_huge 67108864\r\nshmem 1073741824\r\nmapped_file 439083008\r\ndirty 12288\r\nwriteback 0\r\nswap 0\r\npgpgin 1096435\r\npgpgout 807453\r\npgfault 949371\r\npgmajfault 2\r\ninactive_anon 1236013056\r\nactive_anon 12288\r\ninactive_file 22716416\r\nactive_file 229376\r\nunevictable 0\r\nhierarchical_memory_limit 9223372036854771712\r\nhierarchical_memsw_limit 9223372036854771712\r\ntotal_cache 1074008064\r\ntotal_rss 185012224\r\ntotal_rss_huge 67108864\r\ntotal_shmem 1073741824\r\ntotal_mapped_file 439083008\r\ntotal_dirty 12288\r\ntotal_writeback 0\r\ntotal_swap 0\r\ntotal_pgpgin 1096435\r\ntotal_pgpgout 807453\r\ntotal_pgfault 949371\r\ntotal_pgmajfault 2\r\ntotal_inactive_anon 1236013056\r\ntotal_active_anon 12288\r\ntotal_inactive_file 22716416\r\ntotal_active_file 229376\r\ntotal_unevictable 0\r\n```\r\n\r\n**But when I choose the g1 garbage collector, I don&#39;t have this problem**\r\n\r\n```dockerfile\r\nCMD [&quot;java&quot;,&quot;-Xms1g&quot;,&quot;-Xmx1g&quot;,&quot;-jar&quot;,&quot;/root/access-1.0.0.jar&quot;]\r\n```\r\n\r\n```\r\n# cat /sys/fs/cgroup/memory/memory.stat\r\ncache 53248\r\nrss 620097536\r\nrss_huge 360710144\r\nshmem 0\r\nmapped_file 32768\r\ndirty 45056\r\nwriteback 0\r\nswap 0\r\npgpgin 514950\r\npgpgout 451431\r\npgfault 537949\r\npgmajfault 0\r\ninactive_anon 611667968\r\nactive_anon 8192\r\ninactive_file 8093696\r\nactive_file 12288\r\nunevictable 0\r\nhierarchical_memory_limit 9223372036854771712\r\nhierarchical_memsw_limit 9223372036854771712\r\ntotal_cache 53248\r\ntotal_rss 620081152\r\ntotal_rss_huge 360710144\r\ntotal_shmem 0\r\ntotal_mapped_file 32768\r\ntotal_dirty 45056\r\ntotal_writeback 0\r\ntotal_swap 0\r\ntotal_pgpgin 514944\r\ntotal_pgpgout 451431\r\ntotal_pgfault 537942\r\ntotal_pgmajfault 0\r\ntotal_inactive_anon 611627008\r\ntotal_active_anon 8192\r\ntotal_inactive_file 8093696\r\ntotal_active_file 12288\r\ntotal_unevictable 0\r\n```\r\n\r\n\r\nI want to reduce the size of `total_cache` when using the zgc.\r\nOtherwise, my monitor will think that the pod&#39;s memory usage is too high and restart the pod.","title":"ZGC used a lot of cache after startup","body":"<p><strong>ZGC used alot of cache after startup even there is no request</strong></p>\n<p>OS:  docker<br />\njdk: <code>openjdk version &quot;17.0.8&quot; 2023-07-18</code></p>\n<p>This is the start command for my container</p>\n<pre><code>CMD [&quot;java&quot;,&quot;-Xms1g&quot;,&quot;-Xmx1g&quot;,&quot;-XX:+UseZGC&quot;,&quot;-jar&quot;,&quot;/root/access-1.0.0.jar&quot;]\n</code></pre>\n<p><strong>The <code>total_cache</code> is too high</strong></p>\n<pre><code># cat /sys/fs/cgroup/memory/memory.stat\ncache 1074008064\nrss 185012224\nrss_huge 67108864\nshmem 1073741824\nmapped_file 439083008\ndirty 12288\nwriteback 0\nswap 0\npgpgin 1096435\npgpgout 807453\npgfault 949371\npgmajfault 2\ninactive_anon 1236013056\nactive_anon 12288\ninactive_file 22716416\nactive_file 229376\nunevictable 0\nhierarchical_memory_limit 9223372036854771712\nhierarchical_memsw_limit 9223372036854771712\ntotal_cache 1074008064\ntotal_rss 185012224\ntotal_rss_huge 67108864\ntotal_shmem 1073741824\ntotal_mapped_file 439083008\ntotal_dirty 12288\ntotal_writeback 0\ntotal_swap 0\ntotal_pgpgin 1096435\ntotal_pgpgout 807453\ntotal_pgfault 949371\ntotal_pgmajfault 2\ntotal_inactive_anon 1236013056\ntotal_active_anon 12288\ntotal_inactive_file 22716416\ntotal_active_file 229376\ntotal_unevictable 0\n</code></pre>\n<p><strong>But when I choose the g1 garbage collector, I don't have this problem</strong></p>\n<pre><code>CMD [&quot;java&quot;,&quot;-Xms1g&quot;,&quot;-Xmx1g&quot;,&quot;-jar&quot;,&quot;/root/access-1.0.0.jar&quot;]\n</code></pre>\n<pre><code># cat /sys/fs/cgroup/memory/memory.stat\ncache 53248\nrss 620097536\nrss_huge 360710144\nshmem 0\nmapped_file 32768\ndirty 45056\nwriteback 0\nswap 0\npgpgin 514950\npgpgout 451431\npgfault 537949\npgmajfault 0\ninactive_anon 611667968\nactive_anon 8192\ninactive_file 8093696\nactive_file 12288\nunevictable 0\nhierarchical_memory_limit 9223372036854771712\nhierarchical_memsw_limit 9223372036854771712\ntotal_cache 53248\ntotal_rss 620081152\ntotal_rss_huge 360710144\ntotal_shmem 0\ntotal_mapped_file 32768\ntotal_dirty 45056\ntotal_writeback 0\ntotal_swap 0\ntotal_pgpgin 514944\ntotal_pgpgout 451431\ntotal_pgfault 537942\ntotal_pgmajfault 0\ntotal_inactive_anon 611627008\ntotal_active_anon 8192\ntotal_inactive_file 8093696\ntotal_active_file 12288\ntotal_unevictable 0\n</code></pre>\n<p>I want to reduce the size of <code>total_cache</code> when using the zgc.\nOtherwise, my monitor will think that the pod's memory usage is too high and restart the pod.</p>\n"},{"tags":["java","guice","java-17","james","apache-james"],"answers":[{"tags":[],"owner":{"account_id":3620288,"reputation":991,"user_id":3019198,"accept_rate":57,"display_name":"TheFunk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692320644,"creation_date":1692320644,"answer_id":76925870,"question_id":75972289,"body_markdown":"I resolved this by adding the missing configuration files for the embedded Apache James server. The server requires the configs found in [this example from their GitHub repo][1]\r\n\r\nYou must include the smtpserver.xml file, the mailrepositorystore.xml file and the mailetcontainer.xml file from the example in order for the server to start. You should also include the imapserver.xml file if you wish to use the IMAP functionalities.\r\n\r\nOne more thing to note is that the page above on the James website is not up to date (at time of writing) with the example project. If you look at the example in the GitHub there are a handful of differences between that example code and the website sample code.\r\n\r\nIf embedding in another web application like I am you&#39;ll want to store your XML configurations at the root of your resources folder for the least configuration to start.\r\n\r\n\r\n  [1]: https://github.com/apache/james-project/tree/master/examples/custom-james-assembly","title":"Java: Apache James In-Memory Mail Server Fails to Start?","body":"<p>I resolved this by adding the missing configuration files for the embedded Apache James server. The server requires the configs found in <a href=\"https://github.com/apache/james-project/tree/master/examples/custom-james-assembly\" rel=\"nofollow noreferrer\">this example from their GitHub repo</a></p>\n<p>You must include the smtpserver.xml file, the mailrepositorystore.xml file and the mailetcontainer.xml file from the example in order for the server to start. You should also include the imapserver.xml file if you wish to use the IMAP functionalities.</p>\n<p>One more thing to note is that the page above on the James website is not up to date (at time of writing) with the example project. If you look at the example in the GitHub there are a handful of differences between that example code and the website sample code.</p>\n<p>If embedding in another web application like I am you'll want to store your XML configurations at the root of your resources folder for the least configuration to start.</p>\n"}],"owner":{"account_id":3620288,"reputation":991,"user_id":3019198,"accept_rate":57,"display_name":"TheFunk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76925870,"answer_count":1,"score":0,"last_activity_date":1692320644,"creation_date":1681065992,"question_id":75972289,"body_markdown":"I am attempting to embed a memory only instance of Apache James in a Java application but running into an error.\r\n\r\nI&#39;m following the example here:\r\n\r\n[GitHub Sample Project][1]\r\n\r\n[Apache James Website][2]\r\n\r\nThe error I receive is:\r\n\r\n    Failed to start application (with profile [dev]): org.apache.commons.configuration2.ex.ConfigurationException: You need to configure a Processor with name error\r\n\r\nHere&#39;s my code:\r\n\r\n    private static final Module PROTOCOLS = Modules.combine(\r\n            new IMAPServerModule(),\r\n            new ProtocolHandlerModule(),\r\n            new MailRepositoryTaskSerializationModule(),\r\n            new SMTPServerModule());\r\n\r\n    private static final Module CUSTOM_SERVER_MODULE = Modules.combine(\r\n            new MailetProcessingModule(),\r\n            new MailboxModule(),\r\n            new MemoryDataModule(),\r\n            new MemoryEventStoreModule(),\r\n            new MemoryUsersRepositoryModule(),\r\n            new MemoryMailboxModule(),\r\n            new MemoryQuotaModule(),\r\n            new MemoryMailQueueModule(),\r\n            new TaskManagerModule(),\r\n            new RawPostDequeueDecoratorModule(),\r\n            binder -&gt; binder.bind(MailetContainerModule.DefaultProcessorsConfigurationSupplier.class)\r\n                    .toInstance(BaseHierarchicalConfiguration::new));\r\n\r\n    private static final Module CUSTOM_SERVER_AGGREGATE_MODULE = Modules.combine(\r\n            CUSTOM_SERVER_MODULE,\r\n            PROTOCOLS);\r\n\r\n    private final GuiceJamesServer inMemMailServer;\r\n\r\n    public MailServerImpl() {\r\n        Configuration config = Configuration.builder()\r\n                .workingDirectory(myConfigDir)\r\n                .configurationPath(new Configuration.ConfigurationPath(myConfigDir))\r\n                .build();\r\n\r\n        this.inMemMailServer = GuiceJamesServer\r\n                .forConfiguration(config)\r\n                .combineWith(CUSTOM_SERVER_AGGREGATE_MODULE);\r\n    }\r\n\r\n\r\n  [1]: https://github.com/apache/james-project/tree/master/server/container/guice/memory\r\n  [2]: https://james.apache.org/howTo/custom-james-assembly.html","title":"Java: Apache James In-Memory Mail Server Fails to Start?","body":"<p>I am attempting to embed a memory only instance of Apache James in a Java application but running into an error.</p>\n<p>I'm following the example here:</p>\n<p><a href=\"https://github.com/apache/james-project/tree/master/server/container/guice/memory\" rel=\"nofollow noreferrer\">GitHub Sample Project</a></p>\n<p><a href=\"https://james.apache.org/howTo/custom-james-assembly.html\" rel=\"nofollow noreferrer\">Apache James Website</a></p>\n<p>The error I receive is:</p>\n<pre><code>Failed to start application (with profile [dev]): org.apache.commons.configuration2.ex.ConfigurationException: You need to configure a Processor with name error\n</code></pre>\n<p>Here's my code:</p>\n<pre><code>private static final Module PROTOCOLS = Modules.combine(\n        new IMAPServerModule(),\n        new ProtocolHandlerModule(),\n        new MailRepositoryTaskSerializationModule(),\n        new SMTPServerModule());\n\nprivate static final Module CUSTOM_SERVER_MODULE = Modules.combine(\n        new MailetProcessingModule(),\n        new MailboxModule(),\n        new MemoryDataModule(),\n        new MemoryEventStoreModule(),\n        new MemoryUsersRepositoryModule(),\n        new MemoryMailboxModule(),\n        new MemoryQuotaModule(),\n        new MemoryMailQueueModule(),\n        new TaskManagerModule(),\n        new RawPostDequeueDecoratorModule(),\n        binder -&gt; binder.bind(MailetContainerModule.DefaultProcessorsConfigurationSupplier.class)\n                .toInstance(BaseHierarchicalConfiguration::new));\n\nprivate static final Module CUSTOM_SERVER_AGGREGATE_MODULE = Modules.combine(\n        CUSTOM_SERVER_MODULE,\n        PROTOCOLS);\n\nprivate final GuiceJamesServer inMemMailServer;\n\npublic MailServerImpl() {\n    Configuration config = Configuration.builder()\n            .workingDirectory(myConfigDir)\n            .configurationPath(new Configuration.ConfigurationPath(myConfigDir))\n            .build();\n\n    this.inMemMailServer = GuiceJamesServer\n            .forConfiguration(config)\n            .combineWith(CUSTOM_SERVER_AGGREGATE_MODULE);\n}\n</code></pre>\n"},{"tags":["java","json","parsing"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1588368136,"post_id":61550983,"comment_id":108878044,"body_markdown":"why? what possible use would that be?","body":"why? what possible use would that be?"},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1588368353,"post_id":61550983,"comment_id":108878116,"body_markdown":"so you want to minify it?","body":"so you want to minify it?"},{"owner":{"account_id":5378845,"reputation":136,"user_id":4284762,"display_name":"esahmo"},"score":1,"creation_date":1588368493,"post_id":61550983,"comment_id":108878168,"body_markdown":"I want to compare this json with the other json. But because of the extra space I am not able to compare.","body":"I want to compare this json with the other json. But because of the extra space I am not able to compare."},{"owner":{"account_id":4657551,"reputation":55619,"user_id":4492932,"accept_rate":100,"display_name":"DYZ"},"score":2,"creation_date":1588368575,"post_id":61550983,"comment_id":108878201,"body_markdown":"You should not compare it at the string level, anyway. Read the string as a Java object and compare it to the other Java object.","body":"You should not compare it at the string level, anyway. Read the string as a Java object and compare it to the other Java object."},{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":1,"creation_date":1588369290,"post_id":61550983,"comment_id":108878466,"body_markdown":"Parse both the JSONs and compare them. Avoid such manipulations.","body":"Parse both the JSONs and compare them. Avoid such manipulations."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1692319752,"post_id":61550983,"comment_id":135610613,"body_markdown":"Comparing json objects as strings is doomed in any case, since json objects do not have a defined order of fields.  `{&quot;a&quot;:1,&quot;b&quot;:2}` equals `{&quot;b&quot;:2,&quot;a&quot;:1}`.","body":"Comparing json objects as strings is doomed in any case, since json objects do not have a defined order of fields.  <code>{&quot;a&quot;:1,&quot;b&quot;:2}</code> equals <code>{&quot;b&quot;:2,&quot;a&quot;:1}</code>."}],"answers":[{"comments":[{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":0,"creation_date":1588371542,"post_id":61551135,"comment_id":108879197,"body_markdown":"Be careful parsing the string yourself like this, because it will fail if there is a quote mark embedded within a string, which _can_ happen. In JS this will create a failure case: `let myjsonstr = &#39;{&quot;Error&quot; : &quot;Invalid Method&quot;, &quot;ErrorCode&quot; : 405, &quot;ErrMsg&quot; : &quot;This \\\\\\&quot;Thing\\\\\\&quot; is not allowed&quot; }&#39;;` Something like this can just as easily be created in Java, or when read from a database or typed by a user.","body":"Be careful parsing the string yourself like this, because it will fail if there is a quote mark embedded within a string, which <i>can</i> happen. In JS this will create a failure case: <code>let myjsonstr = &#39;{&quot;Error&quot; : &quot;Invalid Method&quot;, &quot;ErrorCode&quot; : 405, &quot;ErrMsg&quot; : &quot;This \\\\\\&quot;Thing\\\\\\&quot; is not allowed&quot; }&#39;;</code> Something like this can just as easily be created in Java, or when read from a database or typed by a user."},{"owner":{"account_id":6654307,"reputation":503,"user_id":13429262,"display_name":"Fabian Zimbalev"},"score":0,"creation_date":1588375527,"post_id":61551135,"comment_id":108880327,"body_markdown":"@StephenP true, thanks for pointing it out. Adjusted the answer","body":"@StephenP true, thanks for pointing it out. Adjusted the answer"},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":1,"creation_date":1588376411,"post_id":61551135,"comment_id":108880575,"body_markdown":"&#128512; that will take care of the escaped-quote `\\&quot;` case but opens up a whole other can of worms; parsing is not easy.  What happens if you encounter `\\t` in a string? What about `\\\\t` or, like I used `\\\\\\&quot;`? Many things have special meaning when escaped with a backslash and it&#39;s not just &quot;print the char following the backslash&quot;  e.g. `\\t` should be turned into a tab character `0x09`. You can be safe using your method if you have a limited and known set of inputs, and that is probably the OPs case, but future readers may try to extrapolate this to a general case and that&#39;s why I pointed it out.","body":" that will take care of the escaped-quote <code>\\&quot;</code> case but opens up a whole other can of worms; parsing is not easy.  What happens if you encounter <code>\\t</code> in a string? What about <code>\\\\t</code> or, like I used <code>\\\\\\&quot;</code>? Many things have special meaning when escaped with a backslash and it&#39;s not just &quot;print the char following the backslash&quot;  e.g. <code>\\t</code> should be turned into a tab character <code>0x09</code>. You can be safe using your method if you have a limited and known set of inputs, and that is probably the OPs case, but future readers may try to extrapolate this to a general case and that&#39;s why I pointed it out."},{"owner":{"account_id":6654307,"reputation":503,"user_id":13429262,"display_name":"Fabian Zimbalev"},"score":0,"creation_date":1588377086,"post_id":61551135,"comment_id":108880767,"body_markdown":"@StephenP yep, should be pointed out for the further readers, anyways the scope was to replace whitespaces. It will not parse \\t in any way but it also does not get lost which means the Deserializer in the end should still be able to parse everything correctly I guess","body":"@StephenP yep, should be pointed out for the further readers, anyways the scope was to replace whitespaces. It will not parse \\t in any way but it also does not get lost which means the Deserializer in the end should still be able to parse everything correctly I guess"}],"tags":[],"owner":{"account_id":6654307,"reputation":503,"user_id":13429262,"display_name":"Fabian Zimbalev"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1588375466,"creation_date":1588368769,"answer_id":61551135,"question_id":61550983,"body_markdown":"I&#180;d go with something like this:\r\n    \r\n    public static void main(String[] args) {\r\n\t\tString json = &quot;{ \\&quot;Error\\&quot;: \\&quot;Inv\\\\\\&quot;alid HTTP Method\\&quot;, \\&quot;ErrorCode\\&quot;:\\&quot;405\\&quot;,\\&quot;ErrorDesc\\&quot;:\\&quot;Method Not Allowed\\&quot;}&quot;;\r\n\t\r\n\t\tSystem.out.println(removeWhitespaces(json));\r\n\t}\r\n\t\r\n\tpublic static String removeWhitespaces(String json) {\r\n\t\t\r\n\t\tboolean quoted = false;\r\n\t\tboolean escaped = false;\r\n\t\tString out = &quot;&quot;;\r\n\t\t\r\n\t\tfor(Character c : json.toCharArray()) {\r\n\r\n\t\t\tif(escaped) {\r\n\t\t\t\tout += c;\r\n\t\t\t\tescaped = false;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(c == &#39;&quot;&#39;) {\r\n\t\t\t\tquoted = !quoted;\r\n\t\t\t} else if(c == &#39;\\\\&#39;) {\r\n\t\t\t\tescaped = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(c == &#39; &#39; &amp;! quoted) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tout += c;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn out;\r\n\t\t\r\n\t}\r\n\r\nTestrun returns \r\n\r\n    {&quot;Error&quot;:&quot;Invalid HTTP Method&quot;,&quot;ErrorCode&quot;:&quot;405&quot;,&quot;ErrorDesc&quot;:&quot;Method Not Allowed&quot;}\r\n","title":"Remove extra white spaces from the json","body":"<p>Id go with something like this:</p>\n\n<pre><code>public static void main(String[] args) {\n    String json = \"{ \\\"Error\\\": \\\"Inv\\\\\\\"alid HTTP Method\\\", \\\"ErrorCode\\\":\\\"405\\\",\\\"ErrorDesc\\\":\\\"Method Not Allowed\\\"}\";\n\n    System.out.println(removeWhitespaces(json));\n}\n\npublic static String removeWhitespaces(String json) {\n\n    boolean quoted = false;\n    boolean escaped = false;\n    String out = \"\";\n\n    for(Character c : json.toCharArray()) {\n\n        if(escaped) {\n            out += c;\n            escaped = false;\n            continue;\n        }\n\n        if(c == '\"') {\n            quoted = !quoted;\n        } else if(c == '\\\\') {\n            escaped = true;\n        }\n\n        if(c == ' ' &amp;! quoted) {\n            continue;\n        }\n\n        out += c;\n\n    }\n\n    return out;\n\n}\n</code></pre>\n\n<p>Testrun returns </p>\n\n<pre><code>{\"Error\":\"Invalid HTTP Method\",\"ErrorCode\":\"405\",\"ErrorDesc\":\"Method Not Allowed\"}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5378845,"reputation":136,"user_id":4284762,"display_name":"esahmo"},"score":0,"creation_date":1588369342,"post_id":61551197,"comment_id":108878484,"body_markdown":"I have a org.JSONObject and I am converting this to a string. At the time of conversion I am trying to remove the extra spaces","body":"I have a org.JSONObject and I am converting this to a string. At the time of conversion I am trying to remove the extra spaces"}],"tags":[],"owner":{"account_id":18132414,"reputation":934,"user_id":13187363,"display_name":"IntoVoid"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588369058,"creation_date":1588369058,"answer_id":61551197,"question_id":61550983,"body_markdown":"If you are using a JsonWriter to create that Json code, you could do\r\n\r\n    jsonWriter.setIndent(&quot;&quot;);\r\n\r\nto remove all whitespaces in json code (Tested with Gson&#39;s Json Writer)","title":"Remove extra white spaces from the json","body":"<p>If you are using a JsonWriter to create that Json code, you could do</p>\n\n<pre><code>jsonWriter.setIndent(\"\");\n</code></pre>\n\n<p>to remove all whitespaces in json code (Tested with Gson's Json Writer)</p>\n"},{"comments":[{"owner":{"account_id":6654307,"reputation":503,"user_id":13429262,"display_name":"Fabian Zimbalev"},"score":1,"creation_date":1604292131,"post_id":61551361,"comment_id":114293054,"body_markdown":"Have you ever benchmarked this ? I&#180;m just curious if/when it gets more expensive to use charAt(i) compared to Enumeration.","body":"Have you ever benchmarked this ? I&#180;m just curious if/when it gets more expensive to use charAt(i) compared to Enumeration."},{"owner":{"account_id":18132414,"reputation":934,"user_id":13187363,"display_name":"IntoVoid"},"score":0,"creation_date":1604395515,"post_id":61551361,"comment_id":114328005,"body_markdown":"No I didn&#39;t benchmarked this, but how would you use an Enumaration on a String? I guess even JsonParser will read the chars one after another. What you could do to improve this by a lot is to tell the StringBuilder the capacity it needs to be. Just pass it json.length() in the StringBuilder&#39;s constructor. For all I know, this should be a pretty efficient implementation. What would you change to make it faster?","body":"No I didn&#39;t benchmarked this, but how would you use an Enumaration on a String? I guess even JsonParser will read the chars one after another. What you could do to improve this by a lot is to tell the StringBuilder the capacity it needs to be. Just pass it json.length() in the StringBuilder&#39;s constructor. For all I know, this should be a pretty efficient implementation. What would you change to make it faster?"},{"owner":{"account_id":18132414,"reputation":934,"user_id":13187363,"display_name":"IntoVoid"},"score":0,"creation_date":1604396081,"post_id":61551361,"comment_id":114328295,"body_markdown":"Also as @Andrei Kovrov mentioned you should also take escaped quotes into account. But you should defenetly tell the StringBuilder / StringBuffer in its constructor about the json&#39;s length.","body":"Also as @Andrei Kovrov mentioned you should also take escaped quotes into account. But you should defenetly tell the StringBuilder / StringBuffer in its constructor about the json&#39;s length."}],"tags":[],"owner":{"account_id":18132414,"reputation":934,"user_id":13187363,"display_name":"IntoVoid"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588369917,"creation_date":1588369917,"answer_id":61551361,"question_id":61550983,"body_markdown":"What @Fabian Z said would probably work, but could be optimized (You don&#39;t need to convert the entire String to a char array first to iterate it and you should also use a StringBuilder):\r\n\r\n    public static String removeWhitespaces(String json) {\r\n        boolean quoted = false;\r\n\r\n        StringBuilder builder = new StringBuilder();\r\n\r\n        int len = json.length();\r\n        for (int i = 0; i &lt; len; i++) {\r\n            char c = json.charAt(i);\r\n            if (c == &#39;\\&quot;&#39;)\r\n                quoted = !quoted;\r\n\r\n            if (quoted || !Character.isWhitespace(c))\r\n                builder.append(c);\r\n        }\r\n\r\n        return builder.toString();\r\n    }\r\n\r\nAlso when using\r\n\r\n    Character.isWhitespace(c)\r\n\r\nit will also remove line breaks","title":"Remove extra white spaces from the json","body":"<p>What @Fabian Z said would probably work, but could be optimized (You don't need to convert the entire String to a char array first to iterate it and you should also use a StringBuilder):</p>\n\n<pre><code>public static String removeWhitespaces(String json) {\n    boolean quoted = false;\n\n    StringBuilder builder = new StringBuilder();\n\n    int len = json.length();\n    for (int i = 0; i &lt; len; i++) {\n        char c = json.charAt(i);\n        if (c == '\\\"')\n            quoted = !quoted;\n\n        if (quoted || !Character.isWhitespace(c))\n            builder.append(c);\n    }\n\n    return builder.toString();\n}\n</code></pre>\n\n<p>Also when using</p>\n\n<pre><code>Character.isWhitespace(c)\n</code></pre>\n\n<p>it will also remove line breaks</p>\n"},{"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":1,"creation_date":1608126149,"post_id":61551531,"comment_id":115486775,"body_markdown":"Note that this solution might change content of data a little bit. For example, keys with null values seem to be filtered from the output. This might or might not be acceptable, but anyway it should be pointed out in the answer text!","body":"Note that this solution might change content of data a little bit. For example, keys with null values seem to be filtered from the output. This might or might not be acceptable, but anyway it should be pointed out in the answer text!"}],"tags":[],"owner":{"account_id":18132414,"reputation":934,"user_id":13187363,"display_name":"IntoVoid"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1588370813,"creation_date":1588370813,"answer_id":61551531,"question_id":61550983,"body_markdown":"An even simpler an safer solution would be to use the **Gson library** (Only a few lines needed):\r\n\r\n    public static String simplify(String json) {\r\n        Gson gson = new GsonBuilder().create();\r\n\r\n        JsonElement el = JsonParser.parseString(json);\r\n        return gson.toJson(el);\r\n    }\r\n\r\nand you can even reverse the entire process (**adding spaces**) with Gson&#39;s pretty printing option:\r\n\r\n    public static String beautify(String json) {\r\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n\r\n        JsonElement el = JsonParser.parseString(json);\r\n        return gson.toJson(el);\r\n    }\r\n\r\nHope this will help you\r\n\r\nYou get the latest version from here:\r\n[Gson Maven Repository][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.google.code.gson/gson","title":"Remove extra white spaces from the json","body":"<p>An even simpler an safer solution would be to use the <strong>Gson library</strong> (Only a few lines needed):</p>\n\n<pre><code>public static String simplify(String json) {\n    Gson gson = new GsonBuilder().create();\n\n    JsonElement el = JsonParser.parseString(json);\n    return gson.toJson(el);\n}\n</code></pre>\n\n<p>and you can even reverse the entire process (<strong>adding spaces</strong>) with Gson's pretty printing option:</p>\n\n<pre><code>public static String beautify(String json) {\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\n\n    JsonElement el = JsonParser.parseString(json);\n    return gson.toJson(el);\n}\n</code></pre>\n\n<p>Hope this will help you</p>\n\n<p>You get the latest version from here:\n<a href=\"https://mvnrepository.com/artifact/com.google.code.gson/gson\" rel=\"noreferrer\">Gson Maven Repository</a></p>\n"},{"tags":[],"owner":{"account_id":1032025,"reputation":2197,"user_id":6591962,"display_name":"Andrei Kovrov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588371973,"creation_date":1588371973,"answer_id":61551756,"question_id":61550983,"body_markdown":"Don&#39;t forget about escaped quotes ```\\&quot;```! \r\n\r\n    static String minimize(String input){\r\n         StringBuffer strBuffer = new StringBuffer();    \r\n         boolean qouteOpened = false;\r\n         boolean wasEscaped = false;\r\n         for(int i=0; i&lt;input.length(); i++){\r\n             char c = input.charAt(i);\r\n             if (c == &#39;\\\\&#39;) {\r\n                wasEscaped = true;\r\n             }\r\n             if(c == &#39;&quot;&#39;) {\r\n                 qouteOpened = wasEscaped ? qouteOpened : !qouteOpened;\r\n             }\r\n             if(!qouteOpened &amp;&amp; (c == &#39; &#39;)){\r\n                 continue;\r\n             }\r\n             if (c != &#39;\\\\&#39;) {\r\n                wasEscaped = false;\r\n             }\r\n             strBuffer.append(c);\r\n         }\r\n         return strBuffer.toString();\r\n    }","title":"Remove extra white spaces from the json","body":"<p>Don't forget about escaped quotes <code>\\\"</code>! </p>\n\n<pre><code>static String minimize(String input){\n     StringBuffer strBuffer = new StringBuffer();    \n     boolean qouteOpened = false;\n     boolean wasEscaped = false;\n     for(int i=0; i&lt;input.length(); i++){\n         char c = input.charAt(i);\n         if (c == '\\\\') {\n            wasEscaped = true;\n         }\n         if(c == '\"') {\n             qouteOpened = wasEscaped ? qouteOpened : !qouteOpened;\n         }\n         if(!qouteOpened &amp;&amp; (c == ' ')){\n             continue;\n         }\n         if (c != '\\\\') {\n            wasEscaped = false;\n         }\n         strBuffer.append(c);\n     }\n     return strBuffer.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18132414,"reputation":934,"user_id":13187363,"display_name":"IntoVoid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604409078,"creation_date":1604409078,"answer_id":64663503,"question_id":61550983,"body_markdown":"Ok this is probably my final answer to this post:\r\n\r\n    public static CharSequence removeWhitespaces(CharSequence json) {\r\n        int len = json.length();\r\n\r\n        StringBuilder builder = new StringBuilder(len);\r\n\r\n        boolean escaped = false, quoted = false;\r\n        for (int i = 0; i &lt; len; i++) {\r\n            char c = json.charAt(i);\r\n            if (c == &#39;\\&quot;&#39;) {\r\n                if (!escaped) quoted = !quoted;\r\n                else escaped = false;\r\n            } else if (quoted &amp;&amp; c == &#39;\\\\&#39;) {\r\n                escaped = true;\r\n            }\r\n\r\n            if (quoted || c != &#39; &#39;) {\r\n                builder.append(c);\r\n            }\r\n        }\r\n\r\n        return builder;\r\n    }\r\n\r\nOr if you want to assure that you got rid of all whitespace characters then use:\r\n\r\n    public static CharSequence removeWhitespaces(CharSequence json) {\r\n        int len = json.length();\r\n\r\n        StringBuilder builder = new StringBuilder(len);\r\n\r\n        boolean escaped = false, quoted = false;\r\n        for (int i = 0; i &lt; len; i++) {\r\n            char c = json.charAt(i);\r\n            if (c == &#39;\\&quot;&#39;) {\r\n                if (!escaped) quoted = !quoted;\r\n                else escaped = false;\r\n            } else if (quoted &amp;&amp; c == &#39;\\\\&#39;) {\r\n                escaped = true;\r\n            }\r\n\r\n            if (quoted || !Character.isWhitespace(c)) {\r\n                builder.append(c);\r\n            }\r\n        }\r\n\r\n        return builder;\r\n    }\r\n\r\nThis method is way more efficient than to first convert the string into a Json structure and back to a string, because that would be way to time consuming.\r\n\r\nTelling the StringBuilder in advance which start capacity it should have also speeds up the process by a lot, if you have a long input String.\r\n(Capacity is not equals to length, meaning that even if you tell the StringBuilder eg. it should have a capacity of 100 it will still only have a length of the text you put into it)\r\n\r\n**And since StringBuilder implements CharSequence you can directly return the entire StringBuilder instead of converting it back to a String. But if you need a String and not a CharSequence, just call builder.toString(); at the end of this method and set the return type to String.**","title":"Remove extra white spaces from the json","body":"<p>Ok this is probably my final answer to this post:</p>\n<pre><code>public static CharSequence removeWhitespaces(CharSequence json) {\n    int len = json.length();\n\n    StringBuilder builder = new StringBuilder(len);\n\n    boolean escaped = false, quoted = false;\n    for (int i = 0; i &lt; len; i++) {\n        char c = json.charAt(i);\n        if (c == '\\&quot;') {\n            if (!escaped) quoted = !quoted;\n            else escaped = false;\n        } else if (quoted &amp;&amp; c == '\\\\') {\n            escaped = true;\n        }\n\n        if (quoted || c != ' ') {\n            builder.append(c);\n        }\n    }\n\n    return builder;\n}\n</code></pre>\n<p>Or if you want to assure that you got rid of all whitespace characters then use:</p>\n<pre><code>public static CharSequence removeWhitespaces(CharSequence json) {\n    int len = json.length();\n\n    StringBuilder builder = new StringBuilder(len);\n\n    boolean escaped = false, quoted = false;\n    for (int i = 0; i &lt; len; i++) {\n        char c = json.charAt(i);\n        if (c == '\\&quot;') {\n            if (!escaped) quoted = !quoted;\n            else escaped = false;\n        } else if (quoted &amp;&amp; c == '\\\\') {\n            escaped = true;\n        }\n\n        if (quoted || !Character.isWhitespace(c)) {\n            builder.append(c);\n        }\n    }\n\n    return builder;\n}\n</code></pre>\n<p>This method is way more efficient than to first convert the string into a Json structure and back to a string, because that would be way to time consuming.</p>\n<p>Telling the StringBuilder in advance which start capacity it should have also speeds up the process by a lot, if you have a long input String.\n(Capacity is not equals to length, meaning that even if you tell the StringBuilder eg. it should have a capacity of 100 it will still only have a length of the text you put into it)</p>\n<p><strong>And since StringBuilder implements CharSequence you can directly return the entire StringBuilder instead of converting it back to a String. But if you need a String and not a CharSequence, just call builder.toString(); at the end of this method and set the return type to String.</strong></p>\n"}],"owner":{"account_id":5378845,"reputation":136,"user_id":4284762,"display_name":"esahmo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19811,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":61551135,"answer_count":6,"score":5,"last_activity_date":1692320463,"creation_date":1588367993,"question_id":61550983,"body_markdown":"In Java I have a json string and I want to remove the extra white spaces from it. I don&#39;t want to remove the space from the character in keys and values.\r\n\r\nActual JSON string \r\n\r\n    { &quot;Error&quot; : &quot;Invalid HTTP Method&quot; , &quot;ErrorCode&quot; : &quot;405&quot; , &quot;ErrorDesc&quot; : &quot;Method Not Allowed&quot; } \r\n\r\nRequired JSON\r\n\r\n    {&quot;Error&quot;:&quot;Invalid HTTP Method&quot;,&quot;ErrorCode&quot;:&quot;405&quot;,&quot;ErrorDesc&quot;:&quot;Method Not Allowed&quot;}\r\n\r\n\r\n\r\n","title":"Remove extra white spaces from the json","body":"<p>In Java I have a json string and I want to remove the extra white spaces from it. I don't want to remove the space from the character in keys and values.</p>\n\n<p>Actual JSON string </p>\n\n<pre><code>{ \"Error\" : \"Invalid HTTP Method\" , \"ErrorCode\" : \"405\" , \"ErrorDesc\" : \"Method Not Allowed\" } \n</code></pre>\n\n<p>Required JSON</p>\n\n<pre><code>{\"Error\":\"Invalid HTTP Method\",\"ErrorCode\":\"405\",\"ErrorDesc\":\"Method Not Allowed\"}\n</code></pre>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1342182530,"post_id":11470495,"comment_id":15143913,"body_markdown":"http://stackoverflow.com/a/71399/829571","body":"<a href=\"http://stackoverflow.com/a/71399/829571\">stackoverflow.com/a/71399/829571</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1692229876,"post_id":11470495,"comment_id":135596841,"body_markdown":"Yes you can. It isn&#39;t the `Serializable` class that needs a no-args constructor, it is its nearest non-`Serializable` base class. See the Object Serialization Specification.","body":"Yes you can. It isn&#39;t the <code>Serializable</code> class that needs a no-args constructor, it is its nearest non-<code>Serializable</code> base class. See the Object Serialization Specification."}],"answers":[{"tags":[],"owner":{"account_id":312560,"reputation":1308,"user_id":626698,"accept_rate":75,"display_name":"Mark Bakker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342182722,"creation_date":1342182722,"answer_id":11470586,"question_id":11470495,"body_markdown":"You can not Serializing/Deserializing Classes only instances of classes","title":"Serializing/Deserializing Singleton class or class with no default or no parameter constructor in java?","body":"<p>You can not Serializing/Deserializing Classes only instances of classes</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1692229817,"post_id":11470624,"comment_id":135596835,"body_markdown":"This is not necessary. Poor quality third-arty citation.","body":"This is not necessary. Poor quality third-arty citation."}],"tags":[],"owner":{"account_id":62515,"reputation":45036,"user_id":185722,"accept_rate":100,"display_name":"Alexander Pogrebnyak"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1692224871,"creation_date":1342182857,"answer_id":11470624,"question_id":11470495,"body_markdown":"You should create a proxy object for your Singleton and serialize it in the Singleton&#39;s stead.\r\n\r\nYou can read more about proxy serialization [here](https://web.archive.org/web/20120104100009/http://lingpipe-blog.com/2009/08/10/serializing-immutable-singletons-serialization-proxy/).","title":"Serializing/Deserializing Singleton class or class with no default or no parameter constructor in java?","body":"<p>You should create a proxy object for your Singleton and serialize it in the Singleton's stead.</p>\n<p>You can read more about proxy serialization <a href=\"https://web.archive.org/web/20120104100009/http://lingpipe-blog.com/2009/08/10/serializing-immutable-singletons-serialization-proxy/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":1080525,"reputation":2892,"user_id":1077644,"accept_rate":55,"display_name":"Jyotirup"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692319488,"creation_date":1342182367,"question_id":11470495,"body_markdown":"Can we serialize/deserialize a Singleton class or class with no default or no parameter constructor in java?\r\n\r\nif not what is the way to do it?? will creating a no parameter protected constructor help?","title":"Serializing/Deserializing Singleton class or class with no default or no parameter constructor in java?","body":"<p>Can we serialize/deserialize a Singleton class or class with no default or no parameter constructor in java?</p>\n<p>if not what is the way to do it?? will creating a no parameter protected constructor help?</p>\n"},{"tags":["java","c#","xamarin","xpath","xamarin.android"],"answers":[{"tags":[],"owner":{"account_id":3840794,"reputation":4083,"user_id":3183946,"accept_rate":93,"display_name":"sme"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692316802,"creation_date":1692316802,"answer_id":76925723,"question_id":76925602,"body_markdown":"After a bit of digging around the api.xml file, as well as some trial and error, I found you can add `@return=&#39;void&#39;` inside the `method[...]` part to target the specific method:\r\n\r\n    &lt;attr path=&quot;/api/package[@name=&#39;com.xiaomi.mipush.sdk&#39;]/class[@name=&#39;PushMessageHandler&#39;]/method[@name=&#39;a&#39; and count(parameter)=0 and @return=&#39;void&#39;]&quot; name=&quot;managedName&quot;&gt;AVoid&lt;/attr&gt;","title":"Java Binding Library generating two members with same name but different return types","body":"<p>After a bit of digging around the api.xml file, as well as some trial and error, I found you can add <code>@return='void'</code> inside the <code>method[...]</code> part to target the specific method:</p>\n<pre><code>&lt;attr path=&quot;/api/package[@name='com.xiaomi.mipush.sdk']/class[@name='PushMessageHandler']/method[@name='a' and count(parameter)=0 and @return='void']&quot; name=&quot;managedName&quot;&gt;AVoid&lt;/attr&gt;\n</code></pre>\n"}],"owner":{"account_id":3840794,"reputation":4083,"user_id":3183946,"accept_rate":93,"display_name":"sme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692316802,"creation_date":1692314053,"question_id":76925602,"body_markdown":"I am creating a Java/Android Binding Library using .AAR files. After compiling the C# Bindings Library project, it generates this error:\r\n\r\n`Type &#39;PushMessageHandler&#39; already defines a member called &#39;A&#39; with the same parameter types`\r\n\r\nThe problem is a class contains these two methods, with the same name but different return types:\r\n\r\n\t// Metadata.xml XPath method reference: path=&quot;/api/package[@name=&#39;com.xiaomi.mipush.sdk&#39;]/class[@name=&#39;PushMessageHandler&#39;]/method[@name=&#39;a&#39; and count(parameter)=0]&quot;\r\n\t[Register (&quot;a&quot;, &quot;()V&quot;, &quot;&quot;)]\r\n\tprotected static unsafe void A ()\r\n\t{\r\n\t\tconst string __id = &quot;a.()V&quot;;\r\n\t\ttry {\r\n\t\t\t_members.StaticMethods.InvokeVoidMethod (__id, null);\r\n\t\t} finally {\r\n\t\t}\r\n\t}\r\n    \r\n\t// Metadata.xml XPath method reference: path=&quot;/api/package[@name=&#39;com.xiaomi.mipush.sdk&#39;]/class[@name=&#39;PushMessageHandler&#39;]/method[@name=&#39;a&#39; and count(parameter)=0]&quot;\r\n\t[Register (&quot;a&quot;, &quot;()Z&quot;, &quot;GetAHandler&quot;)]\r\n\tprotected override unsafe bool A ()\r\n\t{\r\n\t\tconst string __id = &quot;a.()Z&quot;;\r\n\t\ttry {\r\n\t\t\tvar __rm = _members.InstanceMethods.InvokeVirtualBooleanMethod (__id, this, null);\r\n\t\t\treturn __rm;\r\n\t\t} finally {\r\n\t\t}\r\n\t}\r\n\r\nBut as you can see, the XPath method reference is the same for both methods:\r\n`path=&quot;/api/package[@name=&#39;com.xiaomi.mipush.sdk&#39;]/class[@name=&#39;PushMessageHandler&#39;]/method[@name=&#39;a&#39; and count(parameter)=0]&quot;`\r\n\r\nTherefore, when I try to change the method name of one of the methods in `Metadata.xml`, it changes the name of both methods and the same error persists.\r\n\r\n**Is there a way I can change the name of just one of the methods**? (Specifically the method with the void return type). Is there a way to include the return type in the XPath method reference?","title":"Java Binding Library generating two members with same name but different return types","body":"<p>I am creating a Java/Android Binding Library using .AAR files. After compiling the C# Bindings Library project, it generates this error:</p>\n<p><code>Type 'PushMessageHandler' already defines a member called 'A' with the same parameter types</code></p>\n<p>The problem is a class contains these two methods, with the same name but different return types:</p>\n<pre><code>// Metadata.xml XPath method reference: path=&quot;/api/package[@name='com.xiaomi.mipush.sdk']/class[@name='PushMessageHandler']/method[@name='a' and count(parameter)=0]&quot;\n[Register (&quot;a&quot;, &quot;()V&quot;, &quot;&quot;)]\nprotected static unsafe void A ()\n{\n    const string __id = &quot;a.()V&quot;;\n    try {\n        _members.StaticMethods.InvokeVoidMethod (__id, null);\n    } finally {\n    }\n}\n\n// Metadata.xml XPath method reference: path=&quot;/api/package[@name='com.xiaomi.mipush.sdk']/class[@name='PushMessageHandler']/method[@name='a' and count(parameter)=0]&quot;\n[Register (&quot;a&quot;, &quot;()Z&quot;, &quot;GetAHandler&quot;)]\nprotected override unsafe bool A ()\n{\n    const string __id = &quot;a.()Z&quot;;\n    try {\n        var __rm = _members.InstanceMethods.InvokeVirtualBooleanMethod (__id, this, null);\n        return __rm;\n    } finally {\n    }\n}\n</code></pre>\n<p>But as you can see, the XPath method reference is the same for both methods:\n<code>path=&quot;/api/package[@name='com.xiaomi.mipush.sdk']/class[@name='PushMessageHandler']/method[@name='a' and count(parameter)=0]&quot;</code></p>\n<p>Therefore, when I try to change the method name of one of the methods in <code>Metadata.xml</code>, it changes the name of both methods and the same error persists.</p>\n<p><strong>Is there a way I can change the name of just one of the methods</strong>? (Specifically the method with the void return type). Is there a way to include the return type in the XPath method reference?</p>\n"},{"tags":["java","date","jackson","null","response"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":1,"creation_date":1692185897,"post_id":76913129,"comment_id":135588879,"body_markdown":"What are you using to serialize the data as json?","body":"What are you using to serialize the data as json?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1692185930,"post_id":76913129,"comment_id":135588884,"body_markdown":"Were missing some context here. Which `SearchResponse` class is that? It seems you are neither using JDBC nor Hibernate for your database access, so what *are* you using? Also what prevents you from handling the absence of the field the same way you would have handled null?","body":"Were missing some context here. Which <code>SearchResponse</code> class is that? It seems you are neither using JDBC nor Hibernate for your database access, so what <i>are</i> you using? Also what prevents you from handling the absence of the field the same way you would have handled null?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1692186017,"post_id":76913129,"comment_id":135588895,"body_markdown":"Not what you asked, is there a way you can avoid using `java.util.Date`? Javas `Date` classes were poorly designed and are long outdated, For a date use `LocalDate` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"Not what you asked, is there a way you can avoid using <code>java.util.Date</code>? Javas <code>Date</code> classes were poorly designed and are long outdated, For a date use <code>LocalDate</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"comments":[{"owner":{"account_id":4113062,"reputation":435,"user_id":3375417,"accept_rate":0,"display_name":"wheelerlc64"},"score":0,"creation_date":1692199115,"post_id":76913234,"comment_id":135591919,"body_markdown":"that worked!  Thank you for the suggestion.  I&#39;ve marked this as the answer as it pertains to Jackson which is being used for serializing the data, and also for simplicity in the solution that is very useful.","body":"that worked!  Thank you for the suggestion.  I&#39;ve marked this as the answer as it pertains to Jackson which is being used for serializing the data, and also for simplicity in the solution that is very useful."},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1692199460,"post_id":76913234,"comment_id":135592004,"body_markdown":"Glad it helped.","body":"Glad it helped."}],"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692191101,"creation_date":1692186264,"answer_id":76913234,"question_id":76913129,"body_markdown":"If you are using Jackson for serialisation, putting `JsonInclude(JsonInclude.Include.ALWAYS)` on the `SearchResponse` class will always include all the class properties no matter their values. Thus, including the null values as well.","title":"Send date field as empty in response instead of setting to null and not sending in response","body":"<p>If you are using Jackson for serialisation, putting <code>JsonInclude(JsonInclude.Include.ALWAYS)</code> on the <code>SearchResponse</code> class will always include all the class properties no matter their values. Thus, including the null values as well.</p>\n"}],"owner":{"account_id":4113062,"reputation":435,"user_id":3375417,"accept_rate":0,"display_name":"wheelerlc64"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76913234,"answer_count":1,"score":0,"last_activity_date":1692314598,"creation_date":1692185370,"question_id":76913129,"body_markdown":"I am currently dealing with a scenario where in the DB I have a date column that has NULL values set.  When I test the below code and get my response, the field is not even coming in my response when that value is NULL.  How can I automatically send the field in the response and handle the NULL scenario, sending a blank value such as an empty string?  The field is required to send in the response (userIndDate which is a java.util.Date object).  I am using jackson to serialize the data.  I have not include my repo which is doing the db-&gt;object mapping just to condense the code.  Below is the code snippet?\r\n\r\n```\r\nvar newResponse =  SearchResponse.builder()\r\n            .item((Integer) row[0]).itemDesc((String) row[1])\r\n            .loc(String.valueOf((Integer ) row[2])).locDesc((String) row[3])\r\n            .ase((BigDecimal) (row[4]))\r\n            .aseStartDate((row[5] != null ? (java.util.Date)(row[5]) : null))\r\n            .indDate(row[6] != null ? (java.util.Date)(row[6]) : null)\r\n            .userIndDate((row[7] != null ? (java.util.Date)(row[7]) : null))\r\n            .seasonalProfileName((String) (row[8]))\r\n            .build();\r\n\r\n        resultStream.add(newResponse);\r\n        return newResponse;\r\n```\r\n\r\nResponse is below when the userIndDate column is NULL at db end (i.e. missing in the response):\r\n\r\n```\r\n{\r\n    &quot;searchResponse&quot;: [\r\n        {\r\n            &quot;loc&quot;: &quot;1&quot;,\r\n            &quot;item&quot;: 2,\r\n            &quot;itemDesc&quot;: &quot;someItemDesc&quot;,\r\n            &quot;locDesc&quot;: &quot;someLocDesc&quot;,\r\n            &quot;ase&quot;: 1.00000000000000000,\r\n            &quot;aseStartDate&quot;: &quot;2023-07-01&quot;,\r\n            &quot;indDate&quot;: &quot;2023-12-30&quot;\r\n        }\r\n    ],\r\n    &quot;message&quot;: &quot;&quot;,\r\n    &quot;warning&quot;: &quot;&quot;,\r\n    &quot;responseCode&quot;: &quot;0&quot;\r\n}\r\n```\r\n","title":"Send date field as empty in response instead of setting to null and not sending in response","body":"<p>I am currently dealing with a scenario where in the DB I have a date column that has NULL values set.  When I test the below code and get my response, the field is not even coming in my response when that value is NULL.  How can I automatically send the field in the response and handle the NULL scenario, sending a blank value such as an empty string?  The field is required to send in the response (userIndDate which is a java.util.Date object).  I am using jackson to serialize the data.  I have not include my repo which is doing the db-&gt;object mapping just to condense the code.  Below is the code snippet?</p>\n<pre><code>var newResponse =  SearchResponse.builder()\n            .item((Integer) row[0]).itemDesc((String) row[1])\n            .loc(String.valueOf((Integer ) row[2])).locDesc((String) row[3])\n            .ase((BigDecimal) (row[4]))\n            .aseStartDate((row[5] != null ? (java.util.Date)(row[5]) : null))\n            .indDate(row[6] != null ? (java.util.Date)(row[6]) : null)\n            .userIndDate((row[7] != null ? (java.util.Date)(row[7]) : null))\n            .seasonalProfileName((String) (row[8]))\n            .build();\n\n        resultStream.add(newResponse);\n        return newResponse;\n</code></pre>\n<p>Response is below when the userIndDate column is NULL at db end (i.e. missing in the response):</p>\n<pre><code>{\n    &quot;searchResponse&quot;: [\n        {\n            &quot;loc&quot;: &quot;1&quot;,\n            &quot;item&quot;: 2,\n            &quot;itemDesc&quot;: &quot;someItemDesc&quot;,\n            &quot;locDesc&quot;: &quot;someLocDesc&quot;,\n            &quot;ase&quot;: 1.00000000000000000,\n            &quot;aseStartDate&quot;: &quot;2023-07-01&quot;,\n            &quot;indDate&quot;: &quot;2023-12-30&quot;\n        }\n    ],\n    &quot;message&quot;: &quot;&quot;,\n    &quot;warning&quot;: &quot;&quot;,\n    &quot;responseCode&quot;: &quot;0&quot;\n}\n</code></pre>\n"},{"tags":["java","android","flutter"],"answers":[{"tags":[],"owner":{"account_id":9768582,"reputation":134,"user_id":9783584,"display_name":"Aia Ashraf"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692303033,"creation_date":1692303033,"answer_id":76924812,"question_id":76924367,"body_markdown":"Try to use Java 11 instead of 1.8","title":"Error when doing flutter doctor --android-licenses","body":"<p>Try to use Java 11 instead of 1.8</p>\n"},{"tags":[],"owner":{"account_id":29235329,"reputation":212,"user_id":22398078,"display_name":"MobileDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692313866,"creation_date":1692313866,"answer_id":76925596,"question_id":76924367,"body_markdown":"Installing Android SDK Command-line tools from Android SDK Manager may solve this problem. You can also have a look here for help. I hope it gets resolved.\r\nhttps://stackoverflow.com/questions/61993738/flutter-doctor-android-licenses-gives-a-java-error","title":"Error when doing flutter doctor --android-licenses","body":"<p>Installing Android SDK Command-line tools from Android SDK Manager may solve this problem. You can also have a look here for help. I hope it gets resolved.\n<a href=\"https://stackoverflow.com/questions/61993738/flutter-doctor-android-licenses-gives-a-java-error\">flutter doctor --android-licenses gives a java error</a></p>\n"}],"owner":{"account_id":12847990,"reputation":25,"user_id":9293764,"display_name":"Pamwamba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692313866,"creation_date":1692298389,"question_id":76924367,"body_markdown":"I&#39;m trying to install flutter, but when i put &quot;flutter doctor --android-licenses&quot; in my cmd, i got this error :\r\n\r\n```\r\nErreur : LinkageError lors du chargement de la classe principale com.android.sdklib.tool.sdkmanager.SdkManagerCli\r\n        java.lang.UnsupportedClassVersionError: com/android/sdklib/tool/sdkmanager/SdkManagerCli has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\nAndroid sdkmanager tool was found, but failed to run\r\n(C:\\Users\\PC\\AppData\\Local\\Android\\Sdk\\cmdline-tools\\latest\\bin\\sdkmanager.bat): &quot;exited code 1&quot;.\r\nTry re-installing or updating your Android SDK,\r\nvisit https://flutter.dev/docs/get-started/install/windows#android-setup for detailed instructions.\r\n```\r\n\r\n\r\nI saw many answer about this, saying that we should just update java, and I did.\r\n\r\nHere is my env variables :  \r\n\r\n[![env variables][2]][2]  \r\n[![env variable][3]][3]  \r\n\r\nAny idea ?  \r\n\r\nedit : I  tried to reinstall sdk but stil not work\r\n  \r\n  [2]: https://i.stack.imgur.com/XAAaK.png  \r\n  [3]: https://i.stack.imgur.com/BR3TB.png","title":"Error when doing flutter doctor --android-licenses","body":"<p>I'm trying to install flutter, but when i put &quot;flutter doctor --android-licenses&quot; in my cmd, i got this error :</p>\n<pre><code>Erreur : LinkageError lors du chargement de la classe principale com.android.sdklib.tool.sdkmanager.SdkManagerCli\n        java.lang.UnsupportedClassVersionError: com/android/sdklib/tool/sdkmanager/SdkManagerCli has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\nAndroid sdkmanager tool was found, but failed to run\n(C:\\Users\\PC\\AppData\\Local\\Android\\Sdk\\cmdline-tools\\latest\\bin\\sdkmanager.bat): &quot;exited code 1&quot;.\nTry re-installing or updating your Android SDK,\nvisit https://flutter.dev/docs/get-started/install/windows#android-setup for detailed instructions.\n</code></pre>\n<p>I saw many answer about this, saying that we should just update java, and I did.</p>\n<p>Here is my env variables :</p>\n<p><a href=\"https://i.stack.imgur.com/XAAaK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XAAaK.png\" alt=\"env variables\" /></a><br />\n<a href=\"https://i.stack.imgur.com/BR3TB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BR3TB.png\" alt=\"env variable\" /></a></p>\n<p>Any idea ?</p>\n<p>edit : I  tried to reinstall sdk but stil not work</p>\n"},{"tags":["java","android","xml","android-layout","android-studio-flamingo"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1686218507,"post_id":76430646,"comment_id":134770161,"body_markdown":"which line gives you this error?","body":"which line gives you this error?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1686218709,"post_id":76430646,"comment_id":134770207,"body_markdown":"your problem seems to be that in lines like this: case R.id.fifty: -&gt; the R.id.fifty is not a compile time constant","body":"your problem seems to be that in lines like this: case R.id.fifty: -&gt; the R.id.fifty is not a compile time constant"},{"owner":{"account_id":25125063,"reputation":61,"user_id":18972953,"display_name":"Kaylin Heru"},"score":0,"creation_date":1686225893,"post_id":76430646,"comment_id":134771594,"body_markdown":"@Stultuske all the id&#39;s i reference in each case give the error","body":"@Stultuske all the id&#39;s i reference in each case give the error"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1686225957,"post_id":76430646,"comment_id":134771605,"body_markdown":"yes, meaning that my previous comment applies to all of them.","body":"yes, meaning that my previous comment applies to all of them."}],"answers":[{"tags":[],"owner":{"account_id":28792153,"reputation":31,"user_id":22051192,"display_name":"Vishal Rathod"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686387020,"creation_date":1686387020,"answer_id":76445467,"question_id":76430646,"body_markdown":"Replace your switch statement with if condition like below\r\n\r\n```\r\n radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n        @Override\r\n        public void onCheckedChanged(RadioGroup group, int checkedId) {\r\n\r\n            if (checkedId == R.id.fifty) {\r\n                google_amount = 50;\r\n            } else if (checkedId == R.id.five_hundred) {\r\n                google_amount = 500;\r\n            } else if (checkedId == R.id.ten_thousand) {\r\n                google_amount = 10000;\r\n            }\r\n        }\r\n    });\r\n```\r\n\r\nIf you encounter the &quot;constant expression required&quot; error, ensure that the expression used in the switch statement is indeed a constant expression. If you need to evaluate a non-constant expression, you might consider using if-else statements instead.","title":"constant expression required when trying to create a switch case block","body":"<p>Replace your switch statement with if condition like below</p>\n<pre><code> radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(RadioGroup group, int checkedId) {\n\n            if (checkedId == R.id.fifty) {\n                google_amount = 50;\n            } else if (checkedId == R.id.five_hundred) {\n                google_amount = 500;\n            } else if (checkedId == R.id.ten_thousand) {\n                google_amount = 10000;\n            }\n        }\n    });\n</code></pre>\n<p>If you encounter the &quot;constant expression required&quot; error, ensure that the expression used in the switch statement is indeed a constant expression. If you need to evaluate a non-constant expression, you might consider using if-else statements instead.</p>\n"},{"tags":[],"owner":{"account_id":392004,"reputation":4854,"user_id":753000,"accept_rate":38,"display_name":"Till - Appviewer.io"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1690478699,"creation_date":1690477441,"answer_id":76782003,"question_id":76430646,"body_markdown":"Starting with Android Gradle Plugin 8.0.0, by default, your resources (e.g. `R.id. ...`) are no longer declared `final` (i.e. constant expressions) for optimized build speed, which is a prerequisite to be used in switch statements:\r\nhttps://developer.android.com/build/optimize-your-build#use-non-constant-r-classes\r\n\r\nIf you want to keep the old behavior, you can add this line in the `gradle.properties` file:\r\n\r\n    android.nonFinalResIds=false\r\n\r\nIf you want to fix it by converting it to if/else statements, Android Studio will help you with \r\n\r\n&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;1&lt;/kbd&gt; or \r\n\r\n&lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Enter&lt;/kbd&gt;\r\n\r\non the `switch` keyword.","title":"constant expression required when trying to create a switch case block","body":"<p>Starting with Android Gradle Plugin 8.0.0, by default, your resources (e.g. <code>R.id. ...</code>) are no longer declared <code>final</code> (i.e. constant expressions) for optimized build speed, which is a prerequisite to be used in switch statements:\n<a href=\"https://developer.android.com/build/optimize-your-build#use-non-constant-r-classes\" rel=\"noreferrer\">https://developer.android.com/build/optimize-your-build#use-non-constant-r-classes</a></p>\n<p>If you want to keep the old behavior, you can add this line in the <code>gradle.properties</code> file:</p>\n<pre><code>android.nonFinalResIds=false\n</code></pre>\n<p>If you want to fix it by converting it to if/else statements, Android Studio will help you with</p>\n<p><kbd>Ctrl</kbd> + <kbd>1</kbd> or</p>\n<p><kbd>Alt</kbd> + <kbd>Enter</kbd></p>\n<p>on the <code>switch</code> keyword.</p>\n"},{"tags":[],"owner":{"account_id":16616063,"reputation":119,"user_id":12068835,"display_name":"Roel Leal"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1692313647,"creation_date":1692313647,"answer_id":76925587,"question_id":76430646,"body_markdown":"Put this line\r\n\r\n    android.nonFinalResIds=false\r\n\r\nIn this file and sync\r\n\r\n    gradle.properties\r\n\r\nThat&#39;s works for me\r\n","title":"constant expression required when trying to create a switch case block","body":"<p>Put this line</p>\n<pre><code>android.nonFinalResIds=false\n</code></pre>\n<p>In this file and sync</p>\n<pre><code>gradle.properties\n</code></pre>\n<p>That's works for me</p>\n"}],"owner":{"account_id":25125063,"reputation":61,"user_id":18972953,"display_name":"Kaylin Heru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6107,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1692313647,"creation_date":1686218039,"question_id":76430646,"body_markdown":"\r\n\r\n`an error keeps saying &quot;constant expression required&quot; preventing me from running the app on a device to further develop the app.\r\n\r\nam trying to create a sort of google pay.. so i need the selected amounts. but am getting an error saying &quot;constant expression required&quot;.. the variable is declared private and not final so i dont know why am getting this error. the value is not even highlighted showing that it is being used. how can i solve this error. i tried innitialising the variable to zero but it still does not help..\r\n`\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\npackage com.example.greenearth;\r\n\r\nimport android.media.Image;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.Toast;\r\n\r\n\r\npublic class Donations extends Fragment {\r\n\r\n    RadioGroup radioGroup;\r\n    RadioButton minimum;\r\n    RadioButton average;\r\n    RadioButton maximum;\r\n    private int google_amount=0;\r\n\r\n    RelativeLayout rl;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_donations, container, false);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        radioGroup=view.findViewById(R.id.select);\r\n        minimum=view.findViewById(R.id.fifty);\r\n        average=view.findViewById(R.id.five_hundred);\r\n        maximum=view.findViewById(R.id.ten_thousand);\r\n        rl=view.findViewById(R.id.donater);\r\n\r\n        radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\r\n                switch (checkedId){\r\n                    case R.id.fifty:\r\n                        google_amount=50;\r\n                        break;\r\n\r\n                    case R.id.five_hundred:\r\n                        google_amount=500;\r\n                        break;\r\n\r\n                    case R.id.ten_thousand:\r\n                        google_amount=10000;\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n\r\n        rl.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                if (google_amount&gt;0) {\r\n                    //googlepay\r\n                } else {\r\n                    Toast.makeText(getContext(),&quot;Please choose an amount&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\n","title":"constant expression required when trying to create a switch case block","body":"<p>`an error keeps saying &quot;constant expression required&quot; preventing me from running the app on a device to further develop the app.</p>\n<p>am trying to create a sort of google pay.. so i need the selected amounts. but am getting an error saying &quot;constant expression required&quot;.. the variable is declared private and not final so i dont know why am getting this error. the value is not even highlighted showing that it is being used. how can i solve this error. i tried innitialising the variable to zero but it still does not help..\n`</p>\n<pre><code>\npackage com.example.greenearth;\n\nimport android.media.Image;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.RelativeLayout;\nimport android.widget.Toast;\n\n\npublic class Donations extends Fragment {\n\n    RadioGroup radioGroup;\n    RadioButton minimum;\n    RadioButton average;\n    RadioButton maximum;\n    private int google_amount=0;\n\n    RelativeLayout rl;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_donations, container, false);\n\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        radioGroup=view.findViewById(R.id.select);\n        minimum=view.findViewById(R.id.fifty);\n        average=view.findViewById(R.id.five_hundred);\n        maximum=view.findViewById(R.id.ten_thousand);\n        rl=view.findViewById(R.id.donater);\n\n        radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\n                switch (checkedId){\n                    case R.id.fifty:\n                        google_amount=50;\n                        break;\n\n                    case R.id.five_hundred:\n                        google_amount=500;\n                        break;\n\n                    case R.id.ten_thousand:\n                        google_amount=10000;\n                        break;\n                }\n            }\n        });\n\n        rl.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                if (google_amount&gt;0) {\n                    //googlepay\n                } else {\n                    Toast.makeText(getContext(),&quot;Please choose an amount&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n\n    }\n}\n</code></pre>\n"},{"tags":["java","cassandra","nosql","datastax-astra","vector-search"],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1692288131,"creation_date":1692287638,"answer_id":76923173,"question_id":76923172,"body_markdown":"So working with vector datatypes is a realtively new thing in both Java and Cassandra.  In fact, as of right now, the `CqlVector` type is only valid in Astra DB, and the Java `FloatVector` type doesn&#39;t match it.\r\n\r\nThat being said, there are a few ways to instantiate a new `CqlVector` object.  The `newInstance` method accepts either a `List&lt;Float&gt;` or a String representation of the vector.  The String representation can be tough to get right, so going the `List&lt;Float&gt;` route is probably the easiest path:\r\n\r\n    List&lt;Float&gt; vectorListFloat = new ArrayList&lt;&gt;();\r\n\r\n    vectorListFloat.add(collectionId);\r\n    vectorListFloat.add(genre1);\r\n    vectorListFloat.add(genre2);\r\n    vectorListFloat.add(genre3);\r\n    vectorListFloat.add(popularity);\r\n    vectorListFloat.add(voteAverage);\r\n    vectorListFloat.add(voteCount);\r\n\r\n    CqlVector cqlVector = CqlVector.newInstance(vectorListFloat);\r\n\r\nWith the `cqlVector` object instantated from `newInstance(vectorListFloat)`, this should now work:\r\n\r\n    movie.setVector(cqlVector);\r\n","title":"How to INSERT a vector into Cassandra with Java?","body":"<p>So working with vector datatypes is a realtively new thing in both Java and Cassandra.  In fact, as of right now, the <code>CqlVector</code> type is only valid in Astra DB, and the Java <code>FloatVector</code> type doesn't match it.</p>\n<p>That being said, there are a few ways to instantiate a new <code>CqlVector</code> object.  The <code>newInstance</code> method accepts either a <code>List&lt;Float&gt;</code> or a String representation of the vector.  The String representation can be tough to get right, so going the <code>List&lt;Float&gt;</code> route is probably the easiest path:</p>\n<pre><code>List&lt;Float&gt; vectorListFloat = new ArrayList&lt;&gt;();\n\nvectorListFloat.add(collectionId);\nvectorListFloat.add(genre1);\nvectorListFloat.add(genre2);\nvectorListFloat.add(genre3);\nvectorListFloat.add(popularity);\nvectorListFloat.add(voteAverage);\nvectorListFloat.add(voteCount);\n\nCqlVector cqlVector = CqlVector.newInstance(vectorListFloat);\n</code></pre>\n<p>With the <code>cqlVector</code> object instantated from <code>newInstance(vectorListFloat)</code>, this should now work:</p>\n<pre><code>movie.setVector(cqlVector);\n</code></pre>\n"}],"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76923173,"answer_count":1,"score":2,"last_activity_date":1692312360,"creation_date":1692287638,"question_id":76923172,"body_markdown":"I&#39;m having trouble mapping a Java Vector type to my Cassandra table (Astra DB) in Java.  The idea is to query by an ANN with Vector Search to return movie recommendations.\r\n\r\nHere is my table definition:\r\n\r\n    CREATE TABLE movies (\r\n      movie_id INT PRIMARY KEY,\r\n      title TEXT,\r\n      release_date DATE,\r\n      movie_vector vector&lt;float,7&gt;);\r\n\r\nWhich maps to the class:\r\n\r\n    public class Movie {\r\n        private int movieId;\r\n        private String title;\r\n        private LocalDate releaseDate;\r\n        private CqlVector&lt;Float&gt; vector;\r\n\r\n_(complete w/ getters &amp; setters)_\r\n\r\nAnd its properties get bound to a prepared statement with this CQL:\r\n\r\n\tprivate final static String strCQLINSERT = &quot;INSERT INTO movies &quot;\r\n            + &quot;(movie_id,title,release_date,movie_vector) &quot;\r\n            + &quot;VALUES (?,?,?,?)&quot;;\r\n\r\nI then define a vector from an array of `float` using the Java Vector API, and then try to map that into my class.\r\n\r\n\tMovie movie = new Movie();\r\n    // setting other properties on movie here\r\n    // ...\r\n    // create vector locally\r\n    float[] fltVector = {collectionId,genre1,genre2,genre3,popularity,rating,votes};\r\n    FloatVector vector = FloatVector.fromArray(FloatVector.SPECIES_MAX,fltVector,0);\r\n    // map vector to class\r\n    movie.setVector(vector);\r\n\r\nWhen setting to the `vector` property (of type `CqlVector`) on my Movie class, I get this error:\r\n\r\n&gt; The method `newInstance` in the type CqlVector is not applicable for the arguments FloatVector\r\n\r\nI&#39;ve also tried using the CqlVector type&#39;s `newInstance` method, but that doesn&#39;t seem to work, either.  How can I map the `fltVector` to my table so that I can INSERT data?","title":"How to INSERT a vector into Cassandra with Java?","body":"<p>I'm having trouble mapping a Java Vector type to my Cassandra table (Astra DB) in Java.  The idea is to query by an ANN with Vector Search to return movie recommendations.</p>\n<p>Here is my table definition:</p>\n<pre><code>CREATE TABLE movies (\n  movie_id INT PRIMARY KEY,\n  title TEXT,\n  release_date DATE,\n  movie_vector vector&lt;float,7&gt;);\n</code></pre>\n<p>Which maps to the class:</p>\n<pre><code>public class Movie {\n    private int movieId;\n    private String title;\n    private LocalDate releaseDate;\n    private CqlVector&lt;Float&gt; vector;\n</code></pre>\n<p><em>(complete w/ getters &amp; setters)</em></p>\n<p>And its properties get bound to a prepared statement with this CQL:</p>\n<pre><code>private final static String strCQLINSERT = &quot;INSERT INTO movies &quot;\n        + &quot;(movie_id,title,release_date,movie_vector) &quot;\n        + &quot;VALUES (?,?,?,?)&quot;;\n</code></pre>\n<p>I then define a vector from an array of <code>float</code> using the Java Vector API, and then try to map that into my class.</p>\n<pre><code>Movie movie = new Movie();\n// setting other properties on movie here\n// ...\n// create vector locally\nfloat[] fltVector = {collectionId,genre1,genre2,genre3,popularity,rating,votes};\nFloatVector vector = FloatVector.fromArray(FloatVector.SPECIES_MAX,fltVector,0);\n// map vector to class\nmovie.setVector(vector);\n</code></pre>\n<p>When setting to the <code>vector</code> property (of type <code>CqlVector</code>) on my Movie class, I get this error:</p>\n<blockquote>\n<p>The method <code>newInstance</code> in the type CqlVector is not applicable for the arguments FloatVector</p>\n</blockquote>\n<p>I've also tried using the CqlVector type's <code>newInstance</code> method, but that doesn't seem to work, either.  How can I map the <code>fltVector</code> to my table so that I can INSERT data?</p>\n"},{"tags":["java","gradle","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":1225248,"reputation":19779,"user_id":1190934,"accept_rate":60,"display_name":"James Oravec"},"score":0,"creation_date":1692139437,"post_id":76909470,"comment_id":135583062,"body_markdown":"Can you remove `jdk-17.0.1` from your path? If its earlier in the path, then it might be getting picked up first.","body":"Can you remove <code>jdk-17.0.1</code> from your path? If its earlier in the path, then it might be getting picked up first."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692139446,"post_id":76909470,"comment_id":135583064,"body_markdown":"What does `$env:JAVA_HOME` say?","body":"What does <code>$env:JAVA_HOME</code> say?"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1692140014,"post_id":76909470,"comment_id":135583117,"body_markdown":"What is the output of `java -version`?","body":"What is the output of <code>java -version</code>?"},{"owner":{"account_id":25184039,"reputation":64,"user_id":19025166,"display_name":"Voxel"},"score":0,"creation_date":1692140397,"post_id":76909470,"comment_id":135583152,"body_markdown":"@AbhijitSarkar java version &quot;17.0.1&quot; 2021-10-19 LTS\nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)","body":"@AbhijitSarkar java version &quot;17.0.1&quot; 2021-10-19 LTS Java(TM) SE Runtime Environment (build 17.0.1+12-LTS-39) Java HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)"},{"owner":{"account_id":25184039,"reputation":64,"user_id":19025166,"display_name":"Voxel"},"score":0,"creation_date":1692140435,"post_id":76909470,"comment_id":135583157,"body_markdown":"@g00se I&#39;m on Windows.","body":"@g00se I&#39;m on Windows."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1692140603,"post_id":76909470,"comment_id":135583178,"body_markdown":"Clearly, the shell you&#39;re using and the one used by Gradle aren&#39;t the same. I&#39;m not sure why, and no one can tell you without actually looking into your system.","body":"Clearly, the shell you&#39;re using and the one used by Gradle aren&#39;t the same. I&#39;m not sure why, and no one can tell you without actually looking into your system."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692141019,"post_id":76909470,"comment_id":135583200,"body_markdown":"@Voxel, that&#39;s a Powershell shortcut","body":"@Voxel, that&#39;s a Powershell shortcut"},{"owner":{"account_id":25184039,"reputation":64,"user_id":19025166,"display_name":"Voxel"},"score":0,"creation_date":1692141601,"post_id":76909470,"comment_id":135583242,"body_markdown":"@g00se Oh. It says C:\\Program Files\\Java\\jdk1.8.0_221... I wonder why it&#39;s different.","body":"@g00se Oh. It says C:\\Program Files\\Java\\jdk1.8.0_221... I wonder why it&#39;s different."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692145235,"post_id":76909470,"comment_id":135583512,"body_markdown":"Make sure you don&#39;t have some sort of Powershell profile file with some old values in it","body":"Make sure you don&#39;t have some sort of Powershell profile file with some old values in it"},{"owner":{"account_id":25184039,"reputation":64,"user_id":19025166,"display_name":"Voxel"},"score":0,"creation_date":1692146313,"post_id":76909470,"comment_id":135583588,"body_markdown":"@g00se I&#39;ve just created this project. I don&#39;t know how to fix this. This is inside the Terminal tab in IntelliJ.","body":"@g00se I&#39;ve just created this project. I don&#39;t know how to fix this. This is inside the Terminal tab in IntelliJ."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692170317,"post_id":76909470,"comment_id":135585821,"body_markdown":"OK. I don&#39;t use IntelliJ so can&#39;t tell what it does for/to its Powershell shell. My first recourse would be to open a &#39;real&#39; terminal. I would recommend using Powershell in due course but for now I would open cmd.exe in the build directory. Do that and let us know what you get for `echo %JAVA_HOME%` and `echo %PATH%`","body":"OK. I don&#39;t use IntelliJ so can&#39;t tell what it does for/to its Powershell shell. My first recourse would be to open a &#39;real&#39; terminal. I would recommend using Powershell in due course but for now I would open cmd.exe in the build directory. Do that and let us know what you get for <code>echo %JAVA_HOME%</code> and <code>echo %PATH%</code>"},{"owner":{"account_id":25184039,"reputation":64,"user_id":19025166,"display_name":"Voxel"},"score":0,"creation_date":1692199134,"post_id":76909470,"comment_id":135591923,"body_markdown":"@g00se Running `gradlew genSources` in Command Prompt in the same directory gives the same error.","body":"@g00se Running <code>gradlew genSources</code> in Command Prompt in the same directory gives the same error."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692202347,"post_id":76909470,"comment_id":135592596,"body_markdown":"You didn&#39;t answer the question","body":"You didn&#39;t answer the question"},{"owner":{"account_id":25184039,"reputation":64,"user_id":19025166,"display_name":"Voxel"},"score":0,"creation_date":1692216780,"post_id":76909470,"comment_id":135595175,"body_markdown":"@g00se Oh, sorry. The output is `C:\\Program Files\\Java\\jdk1.8.0_221`.","body":"@g00se Oh, sorry. The output is <code>C:\\Program Files\\Java\\jdk1.8.0_221</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692217160,"post_id":76909470,"comment_id":135595239,"body_markdown":"OK then, so that&#39;s more evidence (from an entirely different source) that you&#39;re wrong about *My JAVA_HOME is not set to jdk1.8.0_221, but jdk-17.0.1, and so is the variable in the PATH.*","body":"OK then, so that&#39;s more evidence (from an entirely different source) that you&#39;re wrong about <i>My JAVA_HOME is not set to jdk1.8.0_221, but jdk-17.0.1, and so is the variable in the PATH.</i>"},{"owner":{"account_id":25184039,"reputation":64,"user_id":19025166,"display_name":"Voxel"},"score":0,"creation_date":1692283335,"post_id":76909470,"comment_id":135604769,"body_markdown":"@g00se I just noticed something - when I run `echo %JAVA_HOME%` in another directory, it outputs `/usr/lib/jvm/default-java`, which is what I tried to do to fix this earlier. It&#39;s somehow different than in that directory.","body":"@g00se I just noticed something - when I run <code>echo %JAVA_HOME%</code> in another directory, it outputs <code>&#47;usr&#47;lib&#47;jvm&#47;default-java</code>, which is what I tried to do to fix this earlier. It&#39;s somehow different than in that directory."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692283456,"post_id":76909470,"comment_id":135604801,"body_markdown":"That&#39;s a path for an entirely different OS and not Windows ;) One thing you could check is that you don&#39;t have two different values set for both User and System. I personally never set user env vars in Windows. If you still can&#39;t get it to behave, you *should* be able to override the incorrect env var by setting it directly in the console before your Gradle command with `set JAVA_HOME=&quot;correct path quoted like this if containing spaces&quot;`","body":"That&#39;s a path for an entirely different OS and not Windows ;) One thing you could check is that you don&#39;t have two different values set for both User and System. I personally never set user env vars in Windows. If you still can&#39;t get it to behave, you <i>should</i> be able to override the incorrect env var by setting it directly in the console before your Gradle command with <code>set JAVA_HOME=&quot;correct path quoted like this if containing spaces&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":25184039,"reputation":64,"user_id":19025166,"display_name":"Voxel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692311105,"creation_date":1692311105,"answer_id":76925456,"question_id":76909470,"body_markdown":"I found out how to fix this:\r\n\r\nYou can set an environment variable in PowerShell (there&#39;s a difference in the environment variables between the PowerShell in the project and command prompt for some reason) with `$env:VARIABLE_NAME=&#39;C:\\path\\to\\folder` and verify that it&#39;s correct with `dir env:`.","title":"Can&#39;t run ./gradlew genSources","body":"<p>I found out how to fix this:</p>\n<p>You can set an environment variable in PowerShell (there's a difference in the environment variables between the PowerShell in the project and command prompt for some reason) with <code>$env:VARIABLE_NAME='C:\\path\\to\\folder</code> and verify that it's correct with <code>dir env:</code>.</p>\n"}],"owner":{"account_id":25184039,"reputation":64,"user_id":19025166,"display_name":"Voxel"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76925456,"answer_count":1,"score":-2,"last_activity_date":1692311105,"creation_date":1692138906,"question_id":76909470,"body_markdown":"I&#39;m following a tutorial to make a Fabric mod for Minecraft. I&#39;m trying to run genSources but it gives this error.\r\n\r\n```\r\nPS C:\\Users\\Voxe\\Minecraft\\Plugins\\AllianceClient&gt; ./gradlew genSources\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;C:\\Users\\Voxe\\Minecraft\\Plugins\\AllianceClient\\build.gradle&#39; line: 2\r\n\r\n* What went wrong:\r\nAn exception occurred applying plugin request [id: &#39;fabric-loom&#39;, version: &#39;1.2-SNAPSHOT&#39;]\r\n&gt; Failed to apply plugin &#39;fabric-loom&#39;.\r\n   &gt; You are using an outdated version of Java (8). Java 17 or higher is required.\r\n     The JAVA_HOME environment variable is currently set to (C:\\Program Files\\Java\\jdk1.8.0_221).\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1s\r\n```\r\n\r\nMy `JAVA_HOME` is not set to `jdk1.8.0_221`, but `jdk-17.0.1`, and so is the variable in the PATH.","title":"Can&#39;t run ./gradlew genSources","body":"<p>I'm following a tutorial to make a Fabric mod for Minecraft. I'm trying to run genSources but it gives this error.</p>\n<pre><code>PS C:\\Users\\Voxe\\Minecraft\\Plugins\\AllianceClient&gt; ./gradlew genSources\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'C:\\Users\\Voxe\\Minecraft\\Plugins\\AllianceClient\\build.gradle' line: 2\n\n* What went wrong:\nAn exception occurred applying plugin request [id: 'fabric-loom', version: '1.2-SNAPSHOT']\n&gt; Failed to apply plugin 'fabric-loom'.\n   &gt; You are using an outdated version of Java (8). Java 17 or higher is required.\n     The JAVA_HOME environment variable is currently set to (C:\\Program Files\\Java\\jdk1.8.0_221).\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\n</code></pre>\n<p>My <code>JAVA_HOME</code> is not set to <code>jdk1.8.0_221</code>, but <code>jdk-17.0.1</code>, and so is the variable in the PATH.</p>\n"},{"tags":["java","android","wear-os"],"comments":[{"owner":{"account_id":1497395,"reputation":830,"user_id":1403009,"display_name":"Naveen"},"score":0,"creation_date":1469211617,"post_id":38532928,"comment_id":64459703,"body_markdown":"Actually the NPE should have been occur right at fitnessDebugToggle = (ToggleButton) findViewById(R.id.fitnessDebugToggle); when Null is cast to ToggleButton. Were you able to access other fields in the layout ?","body":"Actually the NPE should have been occur right at fitnessDebugToggle = (ToggleButton) findViewById(R.id.fitnessDebugToggle); when Null is cast to ToggleButton. Were you able to access other fields in the layout ?"},{"owner":{"account_id":4797336,"reputation":472,"user_id":3874884,"accept_rate":90,"display_name":"Spotlight"},"score":0,"creation_date":1469211825,"post_id":38532928,"comment_id":64459827,"body_markdown":"@NaveenAechan Nope, sadly. I commented out setTransformationMethod and let it run down to a setOnCheckedChangeListener. It crashed as well, with the trace changed to `void android.widget.ToggleButton.setOnCheckedChangeListener(android.widget.CompoundButton$OnCheckedChangeListener`.","body":"@NaveenAechan Nope, sadly. I commented out setTransformationMethod and let it run down to a setOnCheckedChangeListener. It crashed as well, with the trace changed to <code>void android.widget.ToggleButton.setOnCheckedChangeListener(andro&zwnj;&#8203;id.widget.CompoundBu&zwnj;&#8203;tton$OnCheckedChange&zwnj;&#8203;Listener</code>."},{"owner":{"account_id":7759591,"reputation":3166,"user_id":5872782,"display_name":"Jinu P C"},"score":0,"creation_date":1469212024,"post_id":38532928,"comment_id":64459919,"body_markdown":"check your layout name is correct. Is it activity_main.xml or layout_main.xml. If it is activity_main then change  setContentView(R.layout.activity_main);","body":"check your layout name is correct. Is it activity_main.xml or layout_main.xml. If it is activity_main then change  setContentView(R.layout.activity_main);"},{"owner":{"account_id":4797336,"reputation":472,"user_id":3874884,"accept_rate":90,"display_name":"Spotlight"},"score":0,"creation_date":1469212140,"post_id":38532928,"comment_id":64459991,"body_markdown":"@JinuPC As far as I can tell the name is correct. I did rename them earlier, however after using grep on the source directory it looks that everything has been changed.","body":"@JinuPC As far as I can tell the name is correct. I did rename them earlier, however after using grep on the source directory it looks that everything has been changed."},{"owner":{"account_id":7759591,"reputation":3166,"user_id":5872782,"display_name":"Jinu P C"},"score":0,"creation_date":1469213039,"post_id":38532928,"comment_id":64460424,"body_markdown":"try this am not sure change the tools:context as tools:context=&quot;.MainActivity&quot;","body":"try this am not sure change the tools:context as tools:context=&quot;.MainActivity&quot;"},{"owner":{"account_id":4797336,"reputation":472,"user_id":3874884,"accept_rate":90,"display_name":"Spotlight"},"score":0,"creation_date":1469213249,"post_id":38532928,"comment_id":64460516,"body_markdown":"@JinuPC Thank you for the suggestion, but it still produced the same error.","body":"@JinuPC Thank you for the suggestion, but it still produced the same error."},{"owner":{"account_id":7759591,"reputation":3166,"user_id":5872782,"display_name":"Jinu P C"},"score":0,"creation_date":1469213332,"post_id":38532928,"comment_id":64460554,"body_markdown":"Check you import android.R if it is there remove it and import you gen R package","body":"Check you import android.R if it is there remove it and import you gen R package"},{"owner":{"account_id":4797336,"reputation":472,"user_id":3874884,"accept_rate":90,"display_name":"Spotlight"},"score":0,"creation_date":1469213963,"post_id":38532928,"comment_id":64460848,"body_markdown":"@JinuPC I deleted my R package, however I don&#39;t need to import it as Android Studio should handle that aspect there. It still crashed, however :/","body":"@JinuPC I deleted my R package, however I don&#39;t need to import it as Android Studio should handle that aspect there. It still crashed, however :/"},{"owner":{"account_id":7759591,"reputation":3166,"user_id":5872782,"display_name":"Jinu P C"},"score":1,"creation_date":1469214019,"post_id":38532928,"comment_id":64460882,"body_markdown":"am done sorry man :)","body":"am done sorry man :)"},{"owner":{"account_id":7759591,"reputation":3166,"user_id":5872782,"display_name":"Jinu P C"},"score":0,"creation_date":1469214075,"post_id":38532928,"comment_id":64460910,"body_markdown":"Try cleaning the project from Project -&gt; Clean and build it again.","body":"Try cleaning the project from Project -&gt; Clean and build it again."},{"owner":{"account_id":4797336,"reputation":472,"user_id":3874884,"accept_rate":90,"display_name":"Spotlight"},"score":0,"creation_date":1469214579,"post_id":38532928,"comment_id":64461177,"body_markdown":"@JinuPC Thanks for the suggestion, but still no luck.","body":"@JinuPC Thanks for the suggestion, but still no luck."}],"answers":[{"comments":[{"owner":{"account_id":4797336,"reputation":472,"user_id":3874884,"accept_rate":90,"display_name":"Spotlight"},"score":0,"creation_date":1469211908,"post_id":38533022,"comment_id":64459865,"body_markdown":"In the desktop app, I used null without if/else and was able to do it just fine, without it crashing.","body":"In the desktop app, I used null without if/else and was able to do it just fine, without it crashing."},{"owner":{"account_id":6732270,"reputation":13013,"user_id":5188159,"accept_rate":89,"display_name":"Charu"},"score":0,"creation_date":1469212179,"post_id":38533022,"comment_id":64460010,"body_markdown":"android:checked=&quot;false&quot;   in toggle xml and see as a hardcore","body":"android:checked=&quot;false&quot;   in toggle xml and see as a hardcore"},{"owner":{"account_id":4797336,"reputation":472,"user_id":3874884,"accept_rate":90,"display_name":"Spotlight"},"score":0,"creation_date":1469212466,"post_id":38533022,"comment_id":64460157,"body_markdown":"I added `android:checked=&quot;false&quot;` in both rect and round layout xmls, and it still crashed. I&#39;m not sure what you meant by hardcore, can you please elaborate?","body":"I added <code>android:checked=&quot;false&quot;</code> in both rect and round layout xmls, and it still crashed. I&#39;m not sure what you meant by hardcore, can you please elaborate?"},{"owner":{"account_id":6732270,"reputation":13013,"user_id":5188159,"accept_rate":89,"display_name":"Charu"},"score":0,"creation_date":1469213491,"post_id":38533022,"comment_id":64460633,"body_markdown":"i tested your code works fine \nso check these spots and see if any miss match \n&gt;   tools:context=&quot;me.package.etc.MainActivity&quot;\nor\n&gt;    setContentView(R.layout.layout_main);\n\nmay be ur devise needs a special define \nhttps://developer.android.com/training/wearables/ui/layouts.html","body":"i tested your code works fine  so check these spots and see if any miss match  &gt;   tools:context=&quot;me.package.etc.MainActivity&quot; or &gt;    setContentView(R.layout.layout_main);  may be ur devise needs a special define  <a href=\"https://developer.android.com/training/wearables/ui/layouts.html\" rel=\"nofollow noreferrer\">developer.android.com/training/wearables/ui/layouts.html</a>"},{"owner":{"account_id":4797336,"reputation":472,"user_id":3874884,"accept_rate":90,"display_name":"Spotlight"},"score":0,"creation_date":1469214447,"post_id":38533022,"comment_id":64461114,"body_markdown":"In my layout, I have specified those special defines. The one provided in my question is the rect/square layout.","body":"In my layout, I have specified those special defines. The one provided in my question is the rect/square layout."}],"tags":[],"owner":{"account_id":6732270,"reputation":13013,"user_id":5188159,"accept_rate":89,"display_name":"Charu"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469211581,"creation_date":1469211581,"answer_id":38533022,"question_id":38532928,"body_markdown":" you can use null only in one scenario like this try if else  \r\n\r\n    if(checked){\r\n                button.setTransformationMethod(null);\r\n            }else {\r\n                button.setTransformationMethod(new PasswordTransformationMethod());\r\n    \r\n            }","title":"Android ToggleButton provides null object reference","body":"<p>you can use null only in one scenario like this try if else  </p>\n\n<pre><code>if(checked){\n            button.setTransformationMethod(null);\n        }else {\n            button.setTransformationMethod(new PasswordTransformationMethod());\n\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4797336,"reputation":472,"user_id":3874884,"accept_rate":90,"display_name":"Spotlight"},"score":0,"creation_date":1469301554,"post_id":38538851,"comment_id":64482952,"body_markdown":"I&#39;m afraid that didn&#39;t work, but thank you for the suggestion!","body":"I&#39;m afraid that didn&#39;t work, but thank you for the suggestion!"}],"tags":[],"owner":{"account_id":7101305,"reputation":1989,"user_id":5432730,"accept_rate":100,"display_name":"Dharvik shah"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469254980,"creation_date":1469254980,"answer_id":38538851,"question_id":38532928,"body_markdown":"if you rename the xml file the try this option of android studio : \r\n\r\n    File -&gt; Invalidate Catches/Restart\r\n\r\nThen even problem occures the change ToggleButton id in xml and check is there java file gives error ? if yes then the id is perfectly integrated and updated in R.java.\r\n\r\nThen change onCreate methos as :\r\n\r\n        @Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n            setContentView(R.layout.layout_main);\r\n        }","title":"Android ToggleButton provides null object reference","body":"<p>if you rename the xml file the try this option of android studio : </p>\n\n<pre><code>File -&gt; Invalidate Catches/Restart\n</code></pre>\n\n<p>Then even problem occures the change ToggleButton id in xml and check is there java file gives error ? if yes then the id is perfectly integrated and updated in R.java.</p>\n\n<p>Then change onCreate methos as :</p>\n\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.layout_main);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29247471,"reputation":1,"user_id":22407576,"display_name":"pehg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692310083,"creation_date":1692310083,"answer_id":76925396,"question_id":38532928,"body_markdown":"I experienced a problem with `findViewById` returning null for all the elements of my layout. In the end, it was solved by just rebuilding the project.\r\nVery annoying problem.","title":"Android ToggleButton provides null object reference","body":"<p>I experienced a problem with <code>findViewById</code> returning null for all the elements of my layout. In the end, it was solved by just rebuilding the project.\nVery annoying problem.</p>\n"}],"owner":{"account_id":4797336,"reputation":472,"user_id":3874884,"accept_rate":90,"display_name":"Spotlight"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":880,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692310083,"creation_date":1469211268,"question_id":38532928,"body_markdown":"I&#39;m developing an Android Wear app, and I have a ToggleButton named `fitnessDebugToggle`. It&#39;s defined in my manifests and can be referenced by `findViewById`. However, whenever I access it any other way my application crashes.\r\n\r\nI&#39;m currently debugging my app on a square Wear device (&quot;Wear Square&quot;), so the following manifest is for a square device.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;me.package.etc.MainActivity&quot;\r\n        tools:deviceIds=&quot;wear_square&quot;&gt;\r\n    \r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;fill_parent&quot;\r\n            android:padding=&quot;10dp&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/fitnessDebugText&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_alignParentTop=&quot;true&quot;\r\n                android:layout_centerHorizontal=&quot;true&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;@string/fitnessDebugText&quot;\r\n                android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot; /&gt;\r\n    \r\n            &lt;ToggleButton\r\n                android:id=&quot;@+id/fitnessDebugToggle&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:textOff=&quot;@string/off&quot;\r\n                android:textOn=&quot;@string/on&quot;\r\n                android:layout_below=&quot;@+id/fitnessDebugText&quot;\r\n                android:layout_centerHorizontal=&quot;true&quot; /&gt;\r\n    \r\n        &lt;/RelativeLayout&gt;\r\n    \r\n    &lt;/ScrollView&gt;\r\n\r\nIn my MainActivity class, I&#39;m able to write the following:\r\n\r\n    public class MainActivity extends Activity {\r\n        ToggleButton fitnessDebugToggle;\r\n        MainActivity mainActivity;\r\n    \r\n        public MainActivity() {\r\n            mainActivity = this;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle bundle) {\r\n            // Show view\r\n            super.onCreate(bundle);\r\n            setContentView(R.layout.layout_main);\r\n    \r\n            // Setup\r\n            fitnessDebugToggle = (ToggleButton) findViewById(R.id.fitnessDebugToggle);\r\n        }\r\n    }\r\n\r\nHowever right below the `findViewById` call, if I put \r\n\r\n    fitnessDebugToggle.setTransformationMethod(null);\r\n\r\nit crashes with part of the stack trace being\r\n\r\n&gt; Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.ToggleButton.setTransformationMethod(android.text.method.TransformationMethod)&#39; on a null object reference\r\n\r\nat the line I added the `setTransformationMethod` call.\r\n\r\n\r\nI have looked at the question [Android studio  Attempt to invoke virtual method on a null object reference](https://stackoverflow.com/questions/30685422/android-studio-attempt-to-invoke-virtual-method-on-a-null-object-reference) however that deals with a NullPointerException on the `findViewById` call, not uponfurther  calls. My package name has also been changed in this example.\r\n\r\n---\r\n\r\nRegarding comments:\r\n\r\n - If I comment out `setTransformationMethod` and add a `setOnCheckedChangeListener` call, it crashes as well with a similar stack trace.\r\n - Changing the ToggleButton&#39;s default state to false still produced a crash, same reason as before.\r\n - In my layout XMLs, changing the context to &quot;.MainActivity&quot; still crashed with the same reason as before.","title":"Android ToggleButton provides null object reference","body":"<p>I'm developing an Android Wear app, and I have a ToggleButton named <code>fitnessDebugToggle</code>. It's defined in my manifests and can be referenced by <code>findViewById</code>. However, whenever I access it any other way my application crashes.</p>\n\n<p>I'm currently debugging my app on a square Wear device (\"Wear Square\"), so the following manifest is for a square device.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\"me.package.etc.MainActivity\"\n    tools:deviceIds=\"wear_square\"&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"fill_parent\"\n        android:padding=\"10dp\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/fitnessDebugText\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_alignParentTop=\"true\"\n            android:layout_centerHorizontal=\"true\"\n            android:gravity=\"center\"\n            android:text=\"@string/fitnessDebugText\"\n            android:textAppearance=\"?android:attr/textAppearanceSmall\" /&gt;\n\n        &lt;ToggleButton\n            android:id=\"@+id/fitnessDebugToggle\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:gravity=\"center\"\n            android:textOff=\"@string/off\"\n            android:textOn=\"@string/on\"\n            android:layout_below=\"@+id/fitnessDebugText\"\n            android:layout_centerHorizontal=\"true\" /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n&lt;/ScrollView&gt;\n</code></pre>\n\n<p>In my MainActivity class, I'm able to write the following:</p>\n\n<pre><code>public class MainActivity extends Activity {\n    ToggleButton fitnessDebugToggle;\n    MainActivity mainActivity;\n\n    public MainActivity() {\n        mainActivity = this;\n    }\n\n    @Override\n    public void onCreate(Bundle bundle) {\n        // Show view\n        super.onCreate(bundle);\n        setContentView(R.layout.layout_main);\n\n        // Setup\n        fitnessDebugToggle = (ToggleButton) findViewById(R.id.fitnessDebugToggle);\n    }\n}\n</code></pre>\n\n<p>However right below the <code>findViewById</code> call, if I put </p>\n\n<pre><code>fitnessDebugToggle.setTransformationMethod(null);\n</code></pre>\n\n<p>it crashes with part of the stack trace being</p>\n\n<blockquote>\n  <p>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.ToggleButton.setTransformationMethod(android.text.method.TransformationMethod)' on a null object reference</p>\n</blockquote>\n\n<p>at the line I added the <code>setTransformationMethod</code> call.</p>\n\n<p>I have looked at the question <a href=\"https://stackoverflow.com/questions/30685422/android-studio-attempt-to-invoke-virtual-method-on-a-null-object-reference\">Android studio  Attempt to invoke virtual method on a null object reference</a> however that deals with a NullPointerException on the <code>findViewById</code> call, not uponfurther  calls. My package name has also been changed in this example.</p>\n\n<hr>\n\n<p>Regarding comments:</p>\n\n<ul>\n<li>If I comment out <code>setTransformationMethod</code> and add a <code>setOnCheckedChangeListener</code> call, it crashes as well with a similar stack trace.</li>\n<li>Changing the ToggleButton's default state to false still produced a crash, same reason as before.</li>\n<li>In my layout XMLs, changing the context to \".MainActivity\" still crashed with the same reason as before.</li>\n</ul>\n"},{"tags":["javascript","java","spring","spring-boot","websocket"],"answers":[{"tags":[],"owner":{"account_id":23849157,"reputation":1,"user_id":20404632,"display_name":"Vidya Barge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667732093,"creation_date":1667463774,"answer_id":74299956,"question_id":67421263,"body_markdown":"I was also facing same issue. Update client code as\r\n\r\n```\r\nlet socket = new SockJS(&quot;/app/gameplay&quot;);\r\n```\r\n\r\nDon&#39;t modify below server code\r\n``` \r\nregistry.addEndpoint(&quot;/gameplay&quot;).withSockJS();\r\n```","title":"Can&#180;t establish connection to websocket &quot;Whoops! Lost connection to http://localhost:8080&quot;","body":"<p>I was also facing same issue. Update client code as</p>\n<pre><code>let socket = new SockJS(&quot;/app/gameplay&quot;);\n</code></pre>\n<p>Don't modify below server code</p>\n<pre><code>registry.addEndpoint(&quot;/gameplay&quot;).withSockJS();\n</code></pre>\n"}],"owner":{"account_id":15298713,"reputation":300,"user_id":11037922,"display_name":"Greta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2685,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692309474,"creation_date":1620314748,"question_id":67421263,"body_markdown":"I&#180;m trying to implement a websocket in my spring boot application, but I&#180;m unable to create a connection. \r\n\r\n\r\nI used this [video][1] and its corresponding [git-repo][2] to create the following config for the server and the javascript code for the client.\r\n\r\n\r\n**Server**\r\n----------\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n            registry.addEndpoint(&quot;/gameplay&quot;);\r\n            registry.addEndpoint(&quot;/gameplay&quot;).withSockJS();\r\n        }\r\n    \r\n        @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n            registry.enableSimpleBroker(&quot;/topic&quot;);\r\n            registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        }\r\n    }\r\n\r\n\r\n**Client**\r\n----------\r\n\r\n    const url = &#39;http://localhost:8080&#39;;\r\n    let stompClient;\r\n    let paymentId;\r\n\r\n    function connectToSocket() {\r\n        console.log(&quot;Trying to open connection to /gameplay&quot;);\r\n        let socket = new SockJS(&quot;/gameplay&quot;);\r\n        stompClient = Stomp.over(socket);\r\n        stompClient.connect({}, function (frame) {\r\n            console.log(&quot;connected to the frame: &quot; + frame);\r\n            stompClient.subscribe(&quot;/topic/game-progress&quot;, function (response) {\r\n                console.log(&quot;data&quot;);\r\n                let data = JSON.parse(response.body);\r\n                console.log(data);\r\n            })\r\n        })\r\n    }\r\n\r\n\r\nThe server-console doesn&#180;t have any entries, so I guess there is something wrong with the javascript part. In the browser-console it says:\r\n\r\n    Trying to open connection to /gameplay\r\n    Opening Web Socket...\r\n    GET http://localhost:8080/gameplay/info?t=1620312392571 404\r\n    Whoops! Lost connection to http://localhost:8080/gameplay\r\n\r\n\r\n\r\n**I tried...**\r\n--------------\r\n\r\n 1. using different URLs to establish the connection\r\n    - http://localhost:8080/gameplay\r\n    - http://localhost:8080/app/gameplay\r\n    - /gameplay\r\n    - /app/gameplay\r\n 2. Using the URLs from the first bullet point to establish a connection using Chrome&#180;s advanced REST client. I got the message &quot;Unknown error occured&quot;\r\n 3. Adding .setAllowedOrigins(&quot;*&quot;) to my stompEndpointRegistry like suggested [here][3]\r\n\r\n\r\n\r\n**Does anyone know...**\r\n-----------------------\r\n\r\n 1. Where the last part of the request (/info?t=1620312392571 )comes from and could it be causing the malfunction?\r\n 2. If I need to write &quot;http:localhost.8080&quot; before the socket URL? Some people [do that][4], [others don&#180;t][5].\r\n 3. How I can get this working?\r\n\r\n\r\nIn others questions the root of the problem had something to do with the dependencies. I included all the dependencies that fixed the problem for other users so I. don&#180;t think the dependencies are the problem. However, here is a link to my [pom.xml][6].\r\n\r\nI&#180;m thankful for all kind of help.\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=UP0GJPpMV3c\r\n  [2]: https://github.com/caligula95/tic-tac-toe\r\n  [3]: https://stackoverflow.com/questions/50170970/spring-boot-websocket-with-stomp-js-i-keep-getting-whoops-lost-connection-to-h\r\n  [4]: https://github.com/caligula95/tic-tac-toe/blob/master/src/main/resources/static/js/socket_js.js\r\n  [5]: https://www.baeldung.com/websockets-spring\r\n  [6]: https://gist.github.com/BlairBass/7d9f83a6ba0cf76e319d088f699fd927","title":"Can&#180;t establish connection to websocket &quot;Whoops! Lost connection to http://localhost:8080&quot;","body":"<p>Im trying to implement a websocket in my spring boot application, but Im unable to create a connection.</p>\n<p>I used this <a href=\"https://www.youtube.com/watch?v=UP0GJPpMV3c\" rel=\"nofollow noreferrer\">video</a> and its corresponding <a href=\"https://github.com/caligula95/tic-tac-toe\" rel=\"nofollow noreferrer\">git-repo</a> to create the following config for the server and the javascript code for the client.</p>\n<h2><strong>Server</strong></h2>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/gameplay&quot;);\n        registry.addEndpoint(&quot;/gameplay&quot;).withSockJS();\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\n        registry.enableSimpleBroker(&quot;/topic&quot;);\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n}\n</code></pre>\n<h2><strong>Client</strong></h2>\n<pre><code>const url = 'http://localhost:8080';\nlet stompClient;\nlet paymentId;\n\nfunction connectToSocket() {\n    console.log(&quot;Trying to open connection to /gameplay&quot;);\n    let socket = new SockJS(&quot;/gameplay&quot;);\n    stompClient = Stomp.over(socket);\n    stompClient.connect({}, function (frame) {\n        console.log(&quot;connected to the frame: &quot; + frame);\n        stompClient.subscribe(&quot;/topic/game-progress&quot;, function (response) {\n            console.log(&quot;data&quot;);\n            let data = JSON.parse(response.body);\n            console.log(data);\n        })\n    })\n}\n</code></pre>\n<p>The server-console doesnt have any entries, so I guess there is something wrong with the javascript part. In the browser-console it says:</p>\n<pre><code>Trying to open connection to /gameplay\nOpening Web Socket...\nGET http://localhost:8080/gameplay/info?t=1620312392571 404\nWhoops! Lost connection to http://localhost:8080/gameplay\n</code></pre>\n<h2><strong>I tried...</strong></h2>\n<ol>\n<li>using different URLs to establish the connection\n<ul>\n<li>http://localhost:8080/gameplay</li>\n<li>http://localhost:8080/app/gameplay</li>\n<li>/gameplay</li>\n<li>/app/gameplay</li>\n</ul>\n</li>\n<li>Using the URLs from the first bullet point to establish a connection using Chromes advanced REST client. I got the message &quot;Unknown error occured&quot;</li>\n<li>Adding .setAllowedOrigins(&quot;*&quot;) to my stompEndpointRegistry like suggested <a href=\"https://stackoverflow.com/questions/50170970/spring-boot-websocket-with-stomp-js-i-keep-getting-whoops-lost-connection-to-h\">here</a></li>\n</ol>\n<h2><strong>Does anyone know...</strong></h2>\n<ol>\n<li>Where the last part of the request (/info?t=1620312392571 )comes from and could it be causing the malfunction?</li>\n<li>If I need to write &quot;http:localhost.8080&quot; before the socket URL? Some people <a href=\"https://github.com/caligula95/tic-tac-toe/blob/master/src/main/resources/static/js/socket_js.js\" rel=\"nofollow noreferrer\">do that</a>, <a href=\"https://www.baeldung.com/websockets-spring\" rel=\"nofollow noreferrer\">others dont</a>.</li>\n<li>How I can get this working?</li>\n</ol>\n<p>In others questions the root of the problem had something to do with the dependencies. I included all the dependencies that fixed the problem for other users so I. dont think the dependencies are the problem. However, here is a link to my <a href=\"https://gist.github.com/BlairBass/7d9f83a6ba0cf76e319d088f699fd927\" rel=\"nofollow noreferrer\">pom.xml</a>.</p>\n<p>Im thankful for all kind of help.</p>\n"},{"tags":["java","unit-testing","junit","javafx-2"],"answers":[{"tags":[],"owner":{"account_id":927305,"reputation":34168,"user_id":1054140,"accept_rate":100,"display_name":"Sergey Grinev"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1575840293,"creation_date":1341782897,"answer_id":11386858,"question_id":11385604,"body_markdown":"Calling `launch()` from `@BeforeClass` is a correct approach. Just note that `launch()` doesn&#39;t return control to calling code. So you have to wrap it into `new Thread(...).start()`.\r\n\r\n**A 7 years later update:**\r\n\r\nUse [TestFX][1]! It will take care of launching in a proper way. E.g. you can extend your test from a TestFX&#39;s ApplicaionTest class and just use the same code:\r\n\r\n    public class MyTest extends ApplicationTest {\r\n\r\n    @Override\r\n    public void start (Stage stage) throws Exception {\r\n        FXMLLoader loader = new FXMLLoader(\r\n                getClass().getResource(&quot;mypage.fxml&quot;));\r\n        stage.setScene(scene = new Scene(loader.load(), 300, 300));\r\n        stage.show();\r\n    }\r\n\r\nand write tests like that:\r\n\r\n    @Test\r\n    public void testBlueHasOnlyOneEntry() {\r\n        clickOn(&quot;#tfSearch&quot;).write(&quot;blue&quot;);\r\n        verifyThat(&quot;#labelCount&quot;, hasText(&quot;1&quot;));\r\n    }\r\n\r\n\r\n  [1]: https://github.com/TestFX/TestFX","title":"How do you unit test a JavaFX controller with JUnit","body":"<p>Calling <code>launch()</code> from <code>@BeforeClass</code> is a correct approach. Just note that <code>launch()</code> doesn't return control to calling code. So you have to wrap it into <code>new Thread(...).start()</code>.</p>\n\n<p><strong>A 7 years later update:</strong></p>\n\n<p>Use <a href=\"https://github.com/TestFX/TestFX\" rel=\"noreferrer\">TestFX</a>! It will take care of launching in a proper way. E.g. you can extend your test from a TestFX's ApplicaionTest class and just use the same code:</p>\n\n<pre><code>public class MyTest extends ApplicationTest {\n\n@Override\npublic void start (Stage stage) throws Exception {\n    FXMLLoader loader = new FXMLLoader(\n            getClass().getResource(\"mypage.fxml\"));\n    stage.setScene(scene = new Scene(loader.load(), 300, 300));\n    stage.show();\n}\n</code></pre>\n\n<p>and write tests like that:</p>\n\n<pre><code>@Test\npublic void testBlueHasOnlyOneEntry() {\n    clickOn(\"#tfSearch\").write(\"blue\");\n    verifyThat(\"#labelCount\", hasText(\"1\"));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1416430287,"post_id":27025857,"comment_id":42576569,"body_markdown":"[Application.launch](It must not be called more than once or an exception will be thrown.) documentation states: &quot;It must not be called more than once or an exception will be thrown.&quot;, just something to be aware if if you try to run the setUpClass() method in this answer more than once.","body":"[Application.launch](It must not be called more than once or an exception will be thrown.) documentation states: &quot;It must not be called more than once or an exception will be thrown.&quot;, just something to be aware if if you try to run the setUpClass() method in this answer more than once."}],"tags":[],"owner":{"account_id":1480323,"reputation":273,"user_id":1389877,"accept_rate":0,"display_name":"Michael Ellis"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1416427094,"creation_date":1416427094,"answer_id":27025857,"question_id":11385604,"body_markdown":"I found this to work,... but only after adding a Thread.sleep(500) after starting the JavaFX application thread. Presumably it takes some time to get the FX environment up and ready (about 200ms on my MacBook Pro retina) \r\n\r\n    @BeforeClass\r\n    public static void setUpClass() throws InterruptedException {\r\n        // Initialise Java FX\r\n        \r\n        System.out.printf(&quot;About to launch FX App\\n&quot;);\r\n        Thread t = new Thread(&quot;JavaFX Init Thread&quot;) {\r\n            public void run() {\r\n                Application.launch(AsNonApp.class, new String[0]);\r\n            }\r\n        };\r\n        t.setDaemon(true);\r\n        t.start();\r\n        System.out.printf(&quot;FX App thread started\\n&quot;);\r\n        Thread.sleep(500);\r\n    }\r\n","title":"How do you unit test a JavaFX controller with JUnit","body":"<p>I found this to work,... but only after adding a Thread.sleep(500) after starting the JavaFX application thread. Presumably it takes some time to get the FX environment up and ready (about 200ms on my MacBook Pro retina) </p>\n\n<pre><code>@BeforeClass\npublic static void setUpClass() throws InterruptedException {\n    // Initialise Java FX\n\n    System.out.printf(\"About to launch FX App\\n\");\n    Thread t = new Thread(\"JavaFX Init Thread\") {\n        public void run() {\n            Application.launch(AsNonApp.class, new String[0]);\n        }\n    };\n    t.setDaemon(true);\n    t.start();\n    System.out.printf(\"FX App thread started\\n\");\n    Thread.sleep(500);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1454028,"reputation":1131,"user_id":1370154,"display_name":"Alex Suzuki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622024471,"creation_date":1622024471,"answer_id":67702999,"question_id":11385604,"body_markdown":"This works for me as well for testing code that uses JavaFX concurrency constructs such as `javafx.concurrent.Task`. Compared to the other solutions it does not need explicit Thread management or supplying a dummy `Application`.\r\n\r\n\r\n    @BeforeAll\r\n    public static void setUpJavaFXRuntime() throws InterruptedException {\r\n        CountDownLatch latch = new CountDownLatch(1);\r\n        Platform.startup(() -&gt; {\r\n            latch.countDown();\r\n        });\r\n        latch.await(5, TimeUnit.SECONDS);\r\n    }\r\n\r\n    @AfterAll\r\n    public static void tearDownJavaFXRuntime() throws InterruptedException {\r\n        Platform.exit();\r\n    }\r\n","title":"How do you unit test a JavaFX controller with JUnit","body":"<p>This works for me as well for testing code that uses JavaFX concurrency constructs such as <code>javafx.concurrent.Task</code>. Compared to the other solutions it does not need explicit Thread management or supplying a dummy <code>Application</code>.</p>\n<pre><code>@BeforeAll\npublic static void setUpJavaFXRuntime() throws InterruptedException {\n    CountDownLatch latch = new CountDownLatch(1);\n    Platform.startup(() -&gt; {\n        latch.countDown();\n    });\n    latch.await(5, TimeUnit.SECONDS);\n}\n\n@AfterAll\npublic static void tearDownJavaFXRuntime() throws InterruptedException {\n    Platform.exit();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692309472,"creation_date":1692309472,"answer_id":76925349,"question_id":11385604,"body_markdown":"That&#39;s all you need:\r\n\r\n    @BeforeAll\r\n\tstatic void initJfxRuntime() {\r\n\t\ttry {\r\n\t\t\tPlatform.runLater(() -&gt; {});\r\n\t\t} catch (Exception ex) {\r\n\t\t\tPlatform.startup(() -&gt; {});\r\n\t\t}\r\n\t}","title":"How do you unit test a JavaFX controller with JUnit","body":"<p>That's all you need:</p>\n<pre><code>@BeforeAll\nstatic void initJfxRuntime() {\n    try {\n        Platform.runLater(() -&gt; {});\n    } catch (Exception ex) {\n        Platform.startup(() -&gt; {});\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":112403,"reputation":4833,"user_id":296509,"accept_rate":95,"display_name":"metasim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21226,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":11386858,"answer_count":4,"score":25,"last_activity_date":1692309472,"creation_date":1341772427,"question_id":11385604,"body_markdown":"What&#39;s the proper way of initializing the JavaFX runtime so you can unit test (with JUnit) controllers that make use of the concurrency facilities and `Platform.runLater(Runnable)`?\r\n\r\n Calling `Application.launch(...)` from the `@BeforeClass` method results in a dead lock. If `Application.launch(...)` is not called then the following error is thrown:\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\njava.lang.IllegalStateException: Toolkit not initialized\r\n\tat com.sun.javafx.application.PlatformImpl.runLater(PlatformImpl.java:121)\r\n\tat com.sun.javafx.application.PlatformImpl.runLater(PlatformImpl.java:116)\r\n\tat javafx.application.Platform.runLater(Platform.java:52)\r\n\tat javafx.concurrent.Task.runLater(Task.java:1042)\r\n\tat javafx.concurrent.Task.updateMessage(Task.java:987)\r\n\tat com.xyz.AudioSegmentExtractor.call(AudioSegmentExtractor.java:64)\r\n\tat com.xyz.CompletionControllerTest.setUp(CompletionControllerTest.java:69)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:601)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:27)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:236)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n\r\n----------\r\n\r\nFollowup: this is the motif I&#39;ve been using based on recommendation by @SergeyGrinev.\r\n\r\n    ... // Inside test class\r\n\r\n    public static class AsNonApp extends Application {\r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception {\r\n            // noop\r\n        }\r\n    }\r\n    \r\n    @BeforeClass\r\n    public static void initJFX() {\r\n        Thread t = new Thread(&quot;JavaFX Init Thread&quot;) {\r\n            public void run() {\r\n                Application.launch(AsNonApp.class, new String[0]);\r\n            }\r\n        };\r\n        t.setDaemon(true);\r\n        t.start();\r\n    }\r\n    ... // controller tests follow...","title":"How do you unit test a JavaFX controller with JUnit","body":"<p>What's the proper way of initializing the JavaFX runtime so you can unit test (with JUnit) controllers that make use of the concurrency facilities and <code>Platform.runLater(Runnable)</code>?</p>\n\n<p>Calling <code>Application.launch(...)</code> from the <code>@BeforeClass</code> method results in a dead lock. If <code>Application.launch(...)</code> is not called then the following error is thrown:</p>\n\n<pre><code>\njava.lang.IllegalStateException: Toolkit not initialized\n    at com.sun.javafx.application.PlatformImpl.runLater(PlatformImpl.java:121)\n    at com.sun.javafx.application.PlatformImpl.runLater(PlatformImpl.java:116)\n    at javafx.application.Platform.runLater(Platform.java:52)\n    at javafx.concurrent.Task.runLater(Task.java:1042)\n    at javafx.concurrent.Task.updateMessage(Task.java:987)\n    at com.xyz.AudioSegmentExtractor.call(AudioSegmentExtractor.java:64)\n    at com.xyz.CompletionControllerTest.setUp(CompletionControllerTest.java:69)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:601)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:27)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:236)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n\n<hr>\n\n<p>Followup: this is the motif I've been using based on recommendation by @SergeyGrinev.</p>\n\n<pre><code>... // Inside test class\n\npublic static class AsNonApp extends Application {\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        // noop\n    }\n}\n\n@BeforeClass\npublic static void initJFX() {\n    Thread t = new Thread(\"JavaFX Init Thread\") {\n        public void run() {\n            Application.launch(AsNonApp.class, new String[0]);\n        }\n    };\n    t.setDaemon(true);\n    t.start();\n}\n... // controller tests follow...\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa","scheduled-tasks"],"comments":[{"owner":{"account_id":12154223,"reputation":223,"user_id":8873594,"accept_rate":75,"display_name":"Matze.N"},"score":0,"creation_date":1516953615,"post_id":48442286,"comment_id":83907760,"body_markdown":"@DN1 :thanks for your edit (suggestion) and clearing up that jpa is not the same as spring-data-jpa. There is no need for &quot;ffs&quot; though in your edit comment! (I was just about to reject your edit as I think that is an inappropriate way to tell people that they made a mistake...)","body":"@DN1 :thanks for your edit (suggestion) and clearing up that jpa is not the same as spring-data-jpa. There is no need for &quot;ffs&quot; though in your edit comment! (I was just about to reject your edit as I think that is an inappropriate way to tell people that they made a mistake...)"}],"answers":[{"comments":[{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1565588674,"post_id":48462270,"comment_id":101386123,"body_markdown":"Ive got the same problem and your solotion works fine. I also need to annotate the method with `@Transactional` and have to define a interface-method for it. Thanks for your detailed answer.","body":"Ive got the same problem and your solotion works fine. I also need to annotate the method with <code>@Transactional</code> and have to define a interface-method for it. Thanks for your detailed answer."},{"owner":{"account_id":4810247,"reputation":2473,"user_id":3883957,"accept_rate":78,"display_name":"yishaiz"},"score":0,"creation_date":1590072826,"post_id":48462270,"comment_id":109546900,"body_markdown":"wow, I got the exact same issue and it was very hard to debug. Thank you for your detailed answer.","body":"wow, I got the exact same issue and it was very hard to debug. Thank you for your detailed answer."}],"tags":[],"owner":{"account_id":12154223,"reputation":223,"user_id":8873594,"accept_rate":75,"display_name":"Matze.N"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1562076455,"creation_date":1516973225,"answer_id":48462270,"question_id":48442286,"body_markdown":"So I&#39;ve done a lot of research since that problem occured and finally found a solution to my rare case.\r\n\r\nWhat I first noticed was, that without future.get(), the `AnalysisCleaningThread` did run without any problem but the run method took took like 2 seconds for the first line to execute so I thought there must be something going on in the background before the database call could finally be made.\r\n\r\nWhat I found out through debugging in my original question edit was, that the application stops at a synchronize block `synchronized(this.singletonObjects)` in the `DefaultSingletonBeanRegistry.getSingleton` method on **line 93** so something must be holding that lock object. And it actually stopped at that line as soon as the iterating method calling `DefaultSingletonBeanRegistry.getSingleton` passed &quot;main&quot; as parameter &quot;beanName&quot; into `getSingleton`.\r\n\r\n*BTW that method (or better chain of methods) get&#39;s called in order to obtain an instance of the PlatformTransactionManager bean to make that service (database) call.*\r\n\r\nMy first thought then was, that it must be a deadlock.\r\n\r\n## Final Thoughts\r\nFrom my understanding the bean is still not finally ready within its lifecycle (still in its @PostConstruct `init()` method). As spring tries to a aquire an instance of the platform transaction manager in order to make the database query, the application deadlocks. It actually deadlocks because while iterating over all bean names to find the PlatformTansactionManager, it also tries to resolve the &quot;main&quot; bean which currently is waiting because of the future.get() in its @PostConstruct method. Therefore it cannot obtain an instance and is waiting forever for the lock to be released. \r\n\r\n##Solution\r\nAs I didn&#39;t want to put that code in another class because the Main.class is my entry point, I started to look for a hook which starts the tasks after the application has fully started up.\r\n\r\nI stumpled upon the `@EventListener` which in my case listens for `ApplicationReadyEvent.class` and voil&#224;, it works. Here is my code solution.\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(&quot;de. ... .analysis&quot;)\r\n    @EntityScan(&quot;de. ... .persistence&quot;)\r\n    @EnableJpaRepositories(&quot;de. ... .persistence.repositories&quot;)\r\n    @EnableAutoConfiguration\r\n    @PropertySources(value = {@PropertySource(&quot;classpath:application.properties&quot;)})\r\n    public class Main {\r\n    \r\n        private final static Logger LOGGER = LoggerFactory.getLogger(Main.class);\r\n    \r\n        private static SpringApplication application = new SpringApplication(Main.class);\r\n    \r\n        private TaskScheduler taskScheduler;\r\n    \r\n        private AnalysisProcessingThread processingThread;\r\n    \r\n        private AnalysisCleaningThread cleaningThread;\r\n    \r\n    \r\n        @Inject\r\n        public void setProcessingThread(AnalysisProcessingThread processingThread) {\r\n            this.processingThread = processingThread;\r\n        }\r\n    \r\n        @Inject\r\n        public void setCleaningThread(AnalysisCleaningThread cleaningThread) {\r\n            this.cleaningThread = cleaningThread;\r\n        }\r\n    \r\n        @Inject\r\n        public void setTaskScheduler(TaskScheduler taskScheduler) {\r\n            this.taskScheduler = taskScheduler;\r\n        }\r\n    \r\n        public static void main(String[] args)\r\n                throws Exception {\r\n    \r\n            try {\r\n    \r\n                //Do some setup\r\n    \r\n                application.run(args);\r\n    \r\n            } catch (Exception e) {\r\n    \r\n                LOGGER.error(e.getMessage(), e);\r\n            }\r\n        }\r\n    \r\n        @PostConstruct\r\n        public void init() throws Exception {\r\n    \r\n            //Do some other setup\r\n    \r\n        }\r\n    \r\n        @EventListener(ApplicationReadyEvent.class)\r\n        public void startAndScheduleTasks() {\r\n            ScheduledFuture scheduledFuture = null;\r\n            LOGGER.info(&quot;********** Scheduling one time Cleaning Thread. Starting in 5 seconds **********&quot;);\r\n            Date nowPlus5Seconds = Date.from(LocalTime.now().plus(5, ChronoUnit.SECONDS).atDate(LocalDate.now()).atZone(ZoneId.systemDefault()).toInstant());\r\n            scheduledFuture = this.taskScheduler.schedule(this.cleaningThread, nowPlus5Seconds);\r\n            try {\r\n                scheduledFuture.get();\r\n            } catch (InterruptedException | ExecutionException e) {\r\n                LOGGER.error(&quot;********** Cleaning Thread did not finish as expected! Stopping thread. Dirty analyses may still remain in database **********&quot;, e);\r\n                scheduledFuture.cancel(true);\r\n            }\r\n      }\r\n    }\r\n\r\n\r\n#Summary\r\nExecuting a spring data repository call from a `@PostConstruct` method can - under rare circumstances - deadlock if the method annoted with `@PostConstruct` does not end \r\nbefore spring can aquire the `PlatformTransactionManager` bean to execute the spring data repository query. It won&#39;t matter if its an endless loop or a future.get() method... . It also only occurs if the method, which iterates over all registered beanNames and finally calls `DefaultSingletonBeanRegistry.getSingleton` in order to find the PlatformTransactionManager bean, calls getSingleton with the bean name which currently is in the `@PostConstruct` method. If it finds the `PlatformTransactionManager` before that, then it won&#39;t happen.","title":"Deadlock in Spring Boot Application&#39;s @PostConstruct Method","body":"<p>So I've done a lot of research since that problem occured and finally found a solution to my rare case.</p>\n\n<p>What I first noticed was, that without future.get(), the <code>AnalysisCleaningThread</code> did run without any problem but the run method took took like 2 seconds for the first line to execute so I thought there must be something going on in the background before the database call could finally be made.</p>\n\n<p>What I found out through debugging in my original question edit was, that the application stops at a synchronize block <code>synchronized(this.singletonObjects)</code> in the <code>DefaultSingletonBeanRegistry.getSingleton</code> method on <strong>line 93</strong> so something must be holding that lock object. And it actually stopped at that line as soon as the iterating method calling <code>DefaultSingletonBeanRegistry.getSingleton</code> passed \"main\" as parameter \"beanName\" into <code>getSingleton</code>.</p>\n\n<p><em>BTW that method (or better chain of methods) get's called in order to obtain an instance of the PlatformTransactionManager bean to make that service (database) call.</em></p>\n\n<p>My first thought then was, that it must be a deadlock.</p>\n\n<h2>Final Thoughts</h2>\n\n<p>From my understanding the bean is still not finally ready within its lifecycle (still in its @PostConstruct <code>init()</code> method). As spring tries to a aquire an instance of the platform transaction manager in order to make the database query, the application deadlocks. It actually deadlocks because while iterating over all bean names to find the PlatformTansactionManager, it also tries to resolve the \"main\" bean which currently is waiting because of the future.get() in its @PostConstruct method. Therefore it cannot obtain an instance and is waiting forever for the lock to be released. </p>\n\n<h2>Solution</h2>\n\n<p>As I didn't want to put that code in another class because the Main.class is my entry point, I started to look for a hook which starts the tasks after the application has fully started up.</p>\n\n<p>I stumpled upon the <code>@EventListener</code> which in my case listens for <code>ApplicationReadyEvent.class</code> and voil, it works. Here is my code solution.</p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan(\"de. ... .analysis\")\n@EntityScan(\"de. ... .persistence\")\n@EnableJpaRepositories(\"de. ... .persistence.repositories\")\n@EnableAutoConfiguration\n@PropertySources(value = {@PropertySource(\"classpath:application.properties\")})\npublic class Main {\n\n    private final static Logger LOGGER = LoggerFactory.getLogger(Main.class);\n\n    private static SpringApplication application = new SpringApplication(Main.class);\n\n    private TaskScheduler taskScheduler;\n\n    private AnalysisProcessingThread processingThread;\n\n    private AnalysisCleaningThread cleaningThread;\n\n\n    @Inject\n    public void setProcessingThread(AnalysisProcessingThread processingThread) {\n        this.processingThread = processingThread;\n    }\n\n    @Inject\n    public void setCleaningThread(AnalysisCleaningThread cleaningThread) {\n        this.cleaningThread = cleaningThread;\n    }\n\n    @Inject\n    public void setTaskScheduler(TaskScheduler taskScheduler) {\n        this.taskScheduler = taskScheduler;\n    }\n\n    public static void main(String[] args)\n            throws Exception {\n\n        try {\n\n            //Do some setup\n\n            application.run(args);\n\n        } catch (Exception e) {\n\n            LOGGER.error(e.getMessage(), e);\n        }\n    }\n\n    @PostConstruct\n    public void init() throws Exception {\n\n        //Do some other setup\n\n    }\n\n    @EventListener(ApplicationReadyEvent.class)\n    public void startAndScheduleTasks() {\n        ScheduledFuture scheduledFuture = null;\n        LOGGER.info(\"********** Scheduling one time Cleaning Thread. Starting in 5 seconds **********\");\n        Date nowPlus5Seconds = Date.from(LocalTime.now().plus(5, ChronoUnit.SECONDS).atDate(LocalDate.now()).atZone(ZoneId.systemDefault()).toInstant());\n        scheduledFuture = this.taskScheduler.schedule(this.cleaningThread, nowPlus5Seconds);\n        try {\n            scheduledFuture.get();\n        } catch (InterruptedException | ExecutionException e) {\n            LOGGER.error(\"********** Cleaning Thread did not finish as expected! Stopping thread. Dirty analyses may still remain in database **********\", e);\n            scheduledFuture.cancel(true);\n        }\n  }\n}\n</code></pre>\n\n<h1>Summary</h1>\n\n<p>Executing a spring data repository call from a <code>@PostConstruct</code> method can - under rare circumstances - deadlock if the method annoted with <code>@PostConstruct</code> does not end \nbefore spring can aquire the <code>PlatformTransactionManager</code> bean to execute the spring data repository query. It won't matter if its an endless loop or a future.get() method... . It also only occurs if the method, which iterates over all registered beanNames and finally calls <code>DefaultSingletonBeanRegistry.getSingleton</code> in order to find the PlatformTransactionManager bean, calls getSingleton with the bean name which currently is in the <code>@PostConstruct</code> method. If it finds the <code>PlatformTransactionManager</code> before that, then it won't happen.</p>\n"}],"owner":{"account_id":12154223,"reputation":223,"user_id":8873594,"accept_rate":75,"display_name":"Matze.N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3890,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":48462270,"answer_count":1,"score":7,"last_activity_date":1692308488,"creation_date":1516881357,"question_id":48442286,"body_markdown":"I&#39;m using Spring TaskScheduler to schedule tasks (obviously...) on start of application.\r\n\r\nThe TaskScheduler is created in my SpringConfig:\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    public class SpringConfig {\r\n    \r\n        @Bean\r\n        public TaskScheduler taskScheduler() {\r\n            return new ThreadPoolTaskScheduler();\r\n        }\r\n   \r\n    }\r\n\r\nThe spring boot application is started in my Main.class and schedules tasks @PostConstruct\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(&quot;...&quot;)\r\n    @EntityScan(&quot;...&quot;)\r\n    @EnableJpaRepositories(&quot;... .repositories&quot;)\r\n    @EnableAutoConfiguration\r\n    @PropertySources(value = {@PropertySource(&quot;classpath:application.properties&quot;)})\r\n    public class Main {\r\n    \r\n        private final static Logger LOGGER = LoggerFactory.getLogger(Main.class);\r\n    \r\n        private static SpringApplication application = new SpringApplication(Main.class);\r\n        \r\n        private TaskScheduler taskScheduler;\r\n    \r\n        private AnalysisCleaningThread cleaningThread;\r\n    \r\n        @Inject\r\n        public void setCleaningThread(AnalysisCleaningThread cleaningThread) {\r\n            this.cleaningThread = cleaningThread;\r\n        }\r\n    \r\n        @Inject\r\n        public void setTaskScheduler(TaskScheduler taskScheduler) {\r\n            this.taskScheduler = taskScheduler;\r\n        }\r\n    \r\n        public static void main(String[] args)\r\n                throws Exception {\r\n    \r\n            try {\r\n    \r\n                //Do some setup\r\n\r\n                application.run(args);\r\n\r\n            } catch (Exception e) {\r\n    \r\n                LOGGER.error(e.getMessage(), e);\r\n            }\r\n        }\r\n    \r\n    \r\n        @PostConstruct\r\n        public void init()\r\n                throws Exception {\r\n    \r\n            //Do some setup as well\r\n    \r\n            ScheduledFuture scheduledFuture = null;\r\n            LOGGER.info(&quot;********** Scheduling one time Cleaning Thread. Starting in 5 seconds **********&quot;);\r\n            Date nowPlus5Seconds = Date.from(LocalTime.now().plus(5, ChronoUnit.SECONDS).atDate(LocalDate.now()).atZone(ZoneId.systemDefault()).toInstant());\r\n            scheduledFuture = this.taskScheduler.schedule(this.cleaningThread, nowPlus5Seconds);\r\n    \r\n\r\n    \r\n\r\n            while (true) {\r\n               //Somehow blocks thread from running\r\n               if (scheduledFuture.isDone()) {\r\n                   break;\r\n               }\r\n               Thread.sleep(2000);\r\n            }\r\n\r\n    \r\n    \r\n            //schedule next periodic thread\r\n        \r\n    }\r\n\r\nThe application must wait for the thread to complete because its task is to clean dirty database entries after an unexpected application shutdown. The next task is picking up the cleaned entries and processes them again.\r\nThe cleaning thread is implemented as follows:\r\n\r\n    @Named\r\n    @Singleton\r\n    public class AnalysisCleaningThread implements Runnable {\r\n    \r\n        private static Logger LOGGER = LoggerFactory.getLogger(AnalysisCleaningThread.class);\r\n    \r\n        private AnalysisService analysisService;\r\n    \r\n        @Inject\r\n        public void setAnalysisService(AnalysisService analysisService) {\r\n            this.analysisService = analysisService;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            List&lt;Analysis&gt; dirtyAnalyses = analysisService.findAllDirtyAnalyses();\r\n            if(dirtyAnalyses != null &amp;&amp; dirtyAnalyses.size() &gt; 0) {\r\n                LOGGER.info(&quot;Found &quot; + dirtyAnalyses.size() + &quot; dirty analyses. Cleaning... &quot;);\r\n                for (Analysis currentAnalysis : dirtyAnalyses) {\r\n                    //Reset AnalysisState so it is picked up by ProcessingThread on next run\r\n                    currentAnalysis.setAnalysisState(AnalysisState.CREATED);\r\n                }\r\n                analysisService.saveAll(dirtyAnalyses);\r\n            } else {\r\n                LOGGER.info(&quot;No dirty analyses found.&quot;);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nI put a breaking point on first line of run method and on the second line. If I use ScheduledFuture.get(), the first line is called, which then calls a JPA repository method, but it never returns... It doesn&#39;t generate a query in the console...\r\n\r\nIf I use ScheduledFuture.isDone() the run method isn&#39;t invoked at all...\r\n\r\n\r\nI dug further into that problem and this is what i found out where it stops working:\r\n\r\n 1. I used scheduledFuture.get() to wait for the task completion\r\n 2. First line of code in run() method of AnalysisCleaningThread gets called which should call the service to retrieve a List of Analysis\r\n 3. CglibAopProxy is called to intercept the method\r\n 4. ReflectiveMethodInvocation -&gt; TransactionInterceptor -&gt; TransactionAspectSupport -&gt; DefaultListableBeanFactory -&gt; AbstractBeanFactory is called to search and match the PlatformTransactionManager bean by type\r\n 5. DefaultSingletonBeanRegistry.getSingleton is called with beanName **&quot;main&quot;** and at **line 187** `synchronized(this.singletonObjects)` the application pauses and never continues\r\n\r\nFrom my point of view it seems like `this.singletonObjects` is currently in use so the thread cannot continue somehow...","title":"Deadlock in Spring Boot Application&#39;s @PostConstruct Method","body":"<p>I'm using Spring TaskScheduler to schedule tasks (obviously...) on start of application.</p>\n<p>The TaskScheduler is created in my SpringConfig:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\npublic class SpringConfig {\n\n    @Bean\n    public TaskScheduler taskScheduler() {\n        return new ThreadPoolTaskScheduler();\n    }\n\n}\n</code></pre>\n<p>The spring boot application is started in my Main.class and schedules tasks @PostConstruct</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(&quot;...&quot;)\n@EntityScan(&quot;...&quot;)\n@EnableJpaRepositories(&quot;... .repositories&quot;)\n@EnableAutoConfiguration\n@PropertySources(value = {@PropertySource(&quot;classpath:application.properties&quot;)})\npublic class Main {\n\n    private final static Logger LOGGER = LoggerFactory.getLogger(Main.class);\n\n    private static SpringApplication application = new SpringApplication(Main.class);\n    \n    private TaskScheduler taskScheduler;\n\n    private AnalysisCleaningThread cleaningThread;\n\n    @Inject\n    public void setCleaningThread(AnalysisCleaningThread cleaningThread) {\n        this.cleaningThread = cleaningThread;\n    }\n\n    @Inject\n    public void setTaskScheduler(TaskScheduler taskScheduler) {\n        this.taskScheduler = taskScheduler;\n    }\n\n    public static void main(String[] args)\n            throws Exception {\n\n        try {\n\n            //Do some setup\n\n            application.run(args);\n\n        } catch (Exception e) {\n\n            LOGGER.error(e.getMessage(), e);\n        }\n    }\n\n\n    @PostConstruct\n    public void init()\n            throws Exception {\n\n        //Do some setup as well\n\n        ScheduledFuture scheduledFuture = null;\n        LOGGER.info(&quot;********** Scheduling one time Cleaning Thread. Starting in 5 seconds **********&quot;);\n        Date nowPlus5Seconds = Date.from(LocalTime.now().plus(5, ChronoUnit.SECONDS).atDate(LocalDate.now()).atZone(ZoneId.systemDefault()).toInstant());\n        scheduledFuture = this.taskScheduler.schedule(this.cleaningThread, nowPlus5Seconds);\n\n\n\n\n        while (true) {\n           //Somehow blocks thread from running\n           if (scheduledFuture.isDone()) {\n               break;\n           }\n           Thread.sleep(2000);\n        }\n\n\n\n        //schedule next periodic thread\n    \n}\n</code></pre>\n<p>The application must wait for the thread to complete because its task is to clean dirty database entries after an unexpected application shutdown. The next task is picking up the cleaned entries and processes them again.\nThe cleaning thread is implemented as follows:</p>\n<pre><code>@Named\n@Singleton\npublic class AnalysisCleaningThread implements Runnable {\n\n    private static Logger LOGGER = LoggerFactory.getLogger(AnalysisCleaningThread.class);\n\n    private AnalysisService analysisService;\n\n    @Inject\n    public void setAnalysisService(AnalysisService analysisService) {\n        this.analysisService = analysisService;\n    }\n\n    @Override\n    public void run() {\n        List&lt;Analysis&gt; dirtyAnalyses = analysisService.findAllDirtyAnalyses();\n        if(dirtyAnalyses != null &amp;&amp; dirtyAnalyses.size() &gt; 0) {\n            LOGGER.info(&quot;Found &quot; + dirtyAnalyses.size() + &quot; dirty analyses. Cleaning... &quot;);\n            for (Analysis currentAnalysis : dirtyAnalyses) {\n                //Reset AnalysisState so it is picked up by ProcessingThread on next run\n                currentAnalysis.setAnalysisState(AnalysisState.CREATED);\n            }\n            analysisService.saveAll(dirtyAnalyses);\n        } else {\n            LOGGER.info(&quot;No dirty analyses found.&quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>I put a breaking point on first line of run method and on the second line. If I use ScheduledFuture.get(), the first line is called, which then calls a JPA repository method, but it never returns... It doesn't generate a query in the console...</p>\n<p>If I use ScheduledFuture.isDone() the run method isn't invoked at all...</p>\n<p>I dug further into that problem and this is what i found out where it stops working:</p>\n<ol>\n<li>I used scheduledFuture.get() to wait for the task completion</li>\n<li>First line of code in run() method of AnalysisCleaningThread gets called which should call the service to retrieve a List of Analysis</li>\n<li>CglibAopProxy is called to intercept the method</li>\n<li>ReflectiveMethodInvocation -&gt; TransactionInterceptor -&gt; TransactionAspectSupport -&gt; DefaultListableBeanFactory -&gt; AbstractBeanFactory is called to search and match the PlatformTransactionManager bean by type</li>\n<li>DefaultSingletonBeanRegistry.getSingleton is called with beanName <strong>&quot;main&quot;</strong> and at <strong>line 187</strong> <code>synchronized(this.singletonObjects)</code> the application pauses and never continues</li>\n</ol>\n<p>From my point of view it seems like <code>this.singletonObjects</code> is currently in use so the thread cannot continue somehow...</p>\n"},{"tags":["java","gradle","javafx","dependencies","javacv"],"comments":[{"owner":{"account_id":1408086,"reputation":3786,"user_id":1335245,"accept_rate":80,"display_name":"Charney Kaye"},"score":0,"creation_date":1692217777,"post_id":76908209,"comment_id":135595357,"body_markdown":"Similar to https://stackoverflow.com/questions/61819636/build-jar-with-binaries-for-required-platform-only-javacpp","body":"Similar to <a href=\"https://stackoverflow.com/questions/61819636/build-jar-with-binaries-for-required-platform-only-javacpp\" title=\"build jar with binaries for required platform only javacpp\">stackoverflow.com/questions/61819636/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1408086,"reputation":3786,"user_id":1335245,"accept_rate":80,"display_name":"Charney Kaye"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692308372,"creation_date":1692308372,"answer_id":76925273,"question_id":76908209,"body_markdown":"In brief: [Gradle JavaCPP](https://github.com/bytedeco/gradle-javacpp) accomplishes this:\r\n\r\n```\r\nplugins {\r\n  id &#39;org.bytedeco.gradle-javacpp-platform&#39; version &quot;1.5.9&quot;\r\n}\r\n\r\n// We can set this on the command line too this way: -PjavacppPlatform=linux-x86_64,macosx-x86_64,windows-x86_64,etc\r\next {\r\n    javacppPlatform = &#39;linux-x86_64,macosx-x86_64,windows-x86_64,etc&#39; // defaults to Loader.getPlatform()\r\n}\r\n```","title":"How to Gradle load JavaCV binaries only for current platform?","body":"<p>In brief: <a href=\"https://github.com/bytedeco/gradle-javacpp\" rel=\"nofollow noreferrer\">Gradle JavaCPP</a> accomplishes this:</p>\n<pre><code>plugins {\n  id 'org.bytedeco.gradle-javacpp-platform' version &quot;1.5.9&quot;\n}\n\n// We can set this on the command line too this way: -PjavacppPlatform=linux-x86_64,macosx-x86_64,windows-x86_64,etc\next {\n    javacppPlatform = 'linux-x86_64,macosx-x86_64,windows-x86_64,etc' // defaults to Loader.getPlatform()\n}\n</code></pre>\n"}],"owner":{"account_id":1408086,"reputation":3786,"user_id":1335245,"accept_rate":80,"display_name":"Charney Kaye"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76925273,"answer_count":1,"score":3,"last_activity_date":1692308372,"creation_date":1692122777,"question_id":76908209,"body_markdown":"I&#39;m building a Java desktop app using JavaCV.\r\n\r\n 1. When my app builds, it&#39;s supermassive (1.2GB which is almost all unused JavaCV dependencies). I&#39;m trying to pare down the deps that get loaded, since all I need are some entry-level ffmpeg GPL functions.\r\n\r\n 2. Additionally, my test suite is failing with a slew of errors like\r\n    &gt; Error occurred during initialization of boot layer\r\njava.lang.LayerInstantiationException: Package lib.x86 in both module org.bytedeco.artoolkitplus.android.x86 and module org.bytedeco.tesseract.android.x86\r\n\r\n \r\n\r\n**build.gradle**\r\n\r\n```groovy\r\nplugins {\r\n  id &#39;java&#39;\r\n  id &#39;application&#39;\r\n  id &#39;distribution&#39;\r\n  //\r\n  id &#39;de.undercouch.download&#39; version &quot;4.0.4&quot;\r\n  id &quot;org.beryx.jlink&quot; version &quot;2.24.1&quot;\r\n  id &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n  id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.14&#39;\r\n  id &#39;org.springframework.boot&#39; version &#39;3.1.2&#39; // must match springBootVersion below\r\n}\r\n\r\next {\r\n  javaFxVersion = &#39;18.0.2&#39;\r\n  junitVersion = &#39;5.9.2&#39;\r\n  logbackVersion = &#39;1.4.11&#39;\r\n  springBootVersion = &#39;3.1.2&#39;\r\n}\r\n\r\ngroup = &#39;io.xj&#39;\r\n\r\nsourceCompatibility = JavaVersion.VERSION_18\r\ntargetCompatibility = JavaVersion.VERSION_18\r\n\r\nmainClassName = &#39;io.xj.gui.WorkstationGuiApplication&#39;\r\n\r\ntasks.withType(JavaCompile).tap {\r\n  configureEach {\r\n    options.encoding = &#39;UTF-8&#39;\r\n  }\r\n}\r\n\r\napply plugin: &#39;java&#39;\r\n\r\nconfigurations {\r\n  implementation {\r\n    exclude group: &quot;commons-logging&quot;, module: &quot;commons-logging&quot;\r\n    exclude group: &#39;com.google.code.findbugs&#39;, module: &#39;jsr305&#39;\r\n  }\r\n}\r\n\r\nrepositories {\r\n  mavenCentral()\r\n  mavenLocal()\r\n  maven {\r\n    url = &#39;https://repo.maven.apache.org/maven2&#39;\r\n  }\r\n  maven {\r\n    url = &#39;https://packages.confluent.io/maven/&#39;\r\n  }\r\n}\r\n\r\njavafx {\r\n  version = &quot;${rootProject.ext.javaFxVersion}&quot;\r\n  modules = [&#39;javafx.base&#39;, &#39;javafx.controls&#39;, &#39;javafx.fxml&#39;, &#39;javafx.graphics&#39;]\r\n}\r\n\r\n//noinspection GroovyAssignabilityCheck\r\next.os = org.gradle.internal.os.OperatingSystem.current() as org.gradle.internal.os.OperatingSystem\r\n\r\njlink {\r\n  // imageZip = file(&quot;$buildDir/image-zip/javacv-example.zip&quot;)\r\n  // options = [&#39;--bind-services&#39;, &#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n  addExtraDependencies &#39;javafx&#39;\r\n\r\n  launcher {\r\n    name = &#39;javacv-example&#39;\r\n    noConsole = true\r\n  }\r\n  jpackage {\r\n    if (os.windows) {\r\n//      installerOptions = [&#39;--win-per-user-install&#39;, &#39;--win-dir-chooser&#39;, &#39;--win-menu&#39;]\r\n    }\r\n  }\r\n}\r\n\r\ndependencies {\r\n  implementation &quot;ch.qos.logback:logback-classic:${rootProject.ext.logbackVersion}&quot;\r\n  implementation &quot;ch.qos.logback:logback-core:${rootProject.ext.logbackVersion}&quot;\r\n  implementation &quot;org.openjfx:javafx-base:${rootProject.ext.javaFxVersion}&quot;\r\n  implementation &quot;org.openjfx:javafx-controls:${rootProject.ext.javaFxVersion}&quot;\r\n  implementation &quot;org.openjfx:javafx-fxml:${rootProject.ext.javaFxVersion}&quot;\r\n  implementation &quot;org.openjfx:javafx-graphics:${rootProject.ext.javaFxVersion}&quot;\r\n  implementation &quot;org.springframework.boot:spring-boot-starter-logging:${rootProject.ext.springBootVersion}&quot;\r\n  implementation &quot;org.springframework.boot:spring-boot-starter:${rootProject.ext.springBootVersion}&quot;\r\n  implementation &#39;commons-codec:commons-codec:1.15&#39;\r\n  implementation &#39;commons-io:commons-io:2.11.0&#39;\r\n  implementation &#39;org.bytedeco:ffmpeg-platform-gpl:6.0-1.5.9&#39; // Optional GPL builds with (almost) everything enabled\r\n  implementation &#39;org.bytedeco:flandmark-platform:1.07-1.5.8&#39; // Required by org.bytedeco.javacv\r\n  implementation &#39;org.bytedeco:javacv-platform:1.5.9&#39;\r\n  implementation &#39;org.reflections:reflections:0.10.2&#39;\r\n  testImplementation &quot;org.junit.jupiter:junit-jupiter-api:${rootProject.ext.junitVersion}&quot;\r\n  testImplementation &#39;org.hamcrest:hamcrest-library:2.2&#39;\r\n  testImplementation &#39;org.mockito:mockito-junit-jupiter&#39;\r\n  testRuntimeOnly &quot;org.junit.jupiter:junit-jupiter-engine:${rootProject.ext.junitVersion}&quot;\r\n}\r\n\r\n//noinspection ConfigurationAvoidance\r\ntask &#39;bootJarZip&#39;(type: Zip) {\r\n  dependsOn(&#39;bootJar&#39;)\r\n  from &quot;build/libs/&quot;\r\n  archiveBaseName = &#39;javacv-example&#39;\r\n  include &quot;javacv-example-${rootProject.version}.jar&quot;\r\n  destinationDirectory = file(&quot;$buildDir/dist&quot;)\r\n}\r\n\r\nbootJar {\r\n  launchScript()\r\n  archiveBaseName = &#39;javacv-example&#39;\r\n}\r\n\r\ntest {\r\n  useJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\n**module-info.java**\r\n\r\n```java\r\nmodule main {\r\n  requires ch.qos.logback.classic;\r\n  requires ch.qos.logback.core;\r\n  requires jakarta.annotation;\r\n  requires java.desktop;\r\n  requires javafx.base;\r\n  requires javafx.controls;\r\n  requires javafx.fxml;\r\n  requires javafx.graphics;\r\n  requires org.apache.commons.codec;\r\n  requires org.apache.commons.io;\r\n  requires org.bytedeco.ffmpeg;\r\n  requires org.bytedeco.flandmark.platform;\r\n  requires org.bytedeco.flandmark;\r\n  requires org.bytedeco.javacv.platform;\r\n  requires org.bytedeco.javacv;\r\n  requires org.slf4j;\r\n  requires spring.beans;\r\n  requires spring.boot.autoconfigure;\r\n  requires spring.boot;\r\n  requires spring.context;\r\n  requires spring.core;\r\n  requires spring.jcl;\r\n\r\n  opens io.xj.gui.controllers to javafx.graphics, javafx.base, javafx.fxml, javafx.controls, spring.beans;\r\n  opens io.xj.gui.events to javafx.base, javafx.controls, javafx.fxml, javafx.graphics, spring.beans, spring.context, spring.core;\r\n  opens io.xj.gui.listeners to javafx.base, javafx.controls, javafx.fxml, javafx.graphics, spring.beans, spring.context, spring.core, ch.qos.logback.core;\r\n  opens io.xj.gui.services to javafx.base, javafx.controls, javafx.fxml, javafx.graphics, spring.beans, spring.context, spring.core;\r\n  opens io.xj.gui to ch.qos.logback.core, javafx.base, javafx.controls, javafx.fxml, javafx.graphics, spring.beans, spring.context, spring.core;\r\n}\r\n```\r\n\r\nComplete demonstration [here](https://github.com/xjmusic/javacv-example)","title":"How to Gradle load JavaCV binaries only for current platform?","body":"<p>I'm building a Java desktop app using JavaCV.</p>\n<ol>\n<li><p>When my app builds, it's supermassive (1.2GB which is almost all unused JavaCV dependencies). I'm trying to pare down the deps that get loaded, since all I need are some entry-level ffmpeg GPL functions.</p>\n</li>\n<li><p>Additionally, my test suite is failing with a slew of errors like</p>\n<blockquote>\n<p>Error occurred during initialization of boot layer\njava.lang.LayerInstantiationException: Package lib.x86 in both module org.bytedeco.artoolkitplus.android.x86 and module org.bytedeco.tesseract.android.x86</p>\n</blockquote>\n</li>\n</ol>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\n  id 'java'\n  id 'application'\n  id 'distribution'\n  //\n  id 'de.undercouch.download' version &quot;4.0.4&quot;\n  id &quot;org.beryx.jlink&quot; version &quot;2.24.1&quot;\n  id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n  id 'org.openjfx.javafxplugin' version '0.0.14'\n  id 'org.springframework.boot' version '3.1.2' // must match springBootVersion below\n}\n\next {\n  javaFxVersion = '18.0.2'\n  junitVersion = '5.9.2'\n  logbackVersion = '1.4.11'\n  springBootVersion = '3.1.2'\n}\n\ngroup = 'io.xj'\n\nsourceCompatibility = JavaVersion.VERSION_18\ntargetCompatibility = JavaVersion.VERSION_18\n\nmainClassName = 'io.xj.gui.WorkstationGuiApplication'\n\ntasks.withType(JavaCompile).tap {\n  configureEach {\n    options.encoding = 'UTF-8'\n  }\n}\n\napply plugin: 'java'\n\nconfigurations {\n  implementation {\n    exclude group: &quot;commons-logging&quot;, module: &quot;commons-logging&quot;\n    exclude group: 'com.google.code.findbugs', module: 'jsr305'\n  }\n}\n\nrepositories {\n  mavenCentral()\n  mavenLocal()\n  maven {\n    url = 'https://repo.maven.apache.org/maven2'\n  }\n  maven {\n    url = 'https://packages.confluent.io/maven/'\n  }\n}\n\njavafx {\n  version = &quot;${rootProject.ext.javaFxVersion}&quot;\n  modules = ['javafx.base', 'javafx.controls', 'javafx.fxml', 'javafx.graphics']\n}\n\n//noinspection GroovyAssignabilityCheck\next.os = org.gradle.internal.os.OperatingSystem.current() as org.gradle.internal.os.OperatingSystem\n\njlink {\n  // imageZip = file(&quot;$buildDir/image-zip/javacv-example.zip&quot;)\n  // options = ['--bind-services', '--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n  addExtraDependencies 'javafx'\n\n  launcher {\n    name = 'javacv-example'\n    noConsole = true\n  }\n  jpackage {\n    if (os.windows) {\n//      installerOptions = ['--win-per-user-install', '--win-dir-chooser', '--win-menu']\n    }\n  }\n}\n\ndependencies {\n  implementation &quot;ch.qos.logback:logback-classic:${rootProject.ext.logbackVersion}&quot;\n  implementation &quot;ch.qos.logback:logback-core:${rootProject.ext.logbackVersion}&quot;\n  implementation &quot;org.openjfx:javafx-base:${rootProject.ext.javaFxVersion}&quot;\n  implementation &quot;org.openjfx:javafx-controls:${rootProject.ext.javaFxVersion}&quot;\n  implementation &quot;org.openjfx:javafx-fxml:${rootProject.ext.javaFxVersion}&quot;\n  implementation &quot;org.openjfx:javafx-graphics:${rootProject.ext.javaFxVersion}&quot;\n  implementation &quot;org.springframework.boot:spring-boot-starter-logging:${rootProject.ext.springBootVersion}&quot;\n  implementation &quot;org.springframework.boot:spring-boot-starter:${rootProject.ext.springBootVersion}&quot;\n  implementation 'commons-codec:commons-codec:1.15'\n  implementation 'commons-io:commons-io:2.11.0'\n  implementation 'org.bytedeco:ffmpeg-platform-gpl:6.0-1.5.9' // Optional GPL builds with (almost) everything enabled\n  implementation 'org.bytedeco:flandmark-platform:1.07-1.5.8' // Required by org.bytedeco.javacv\n  implementation 'org.bytedeco:javacv-platform:1.5.9'\n  implementation 'org.reflections:reflections:0.10.2'\n  testImplementation &quot;org.junit.jupiter:junit-jupiter-api:${rootProject.ext.junitVersion}&quot;\n  testImplementation 'org.hamcrest:hamcrest-library:2.2'\n  testImplementation 'org.mockito:mockito-junit-jupiter'\n  testRuntimeOnly &quot;org.junit.jupiter:junit-jupiter-engine:${rootProject.ext.junitVersion}&quot;\n}\n\n//noinspection ConfigurationAvoidance\ntask 'bootJarZip'(type: Zip) {\n  dependsOn('bootJar')\n  from &quot;build/libs/&quot;\n  archiveBaseName = 'javacv-example'\n  include &quot;javacv-example-${rootProject.version}.jar&quot;\n  destinationDirectory = file(&quot;$buildDir/dist&quot;)\n}\n\nbootJar {\n  launchScript()\n  archiveBaseName = 'javacv-example'\n}\n\ntest {\n  useJUnitPlatform()\n}\n\n</code></pre>\n<p><strong>module-info.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>module main {\n  requires ch.qos.logback.classic;\n  requires ch.qos.logback.core;\n  requires jakarta.annotation;\n  requires java.desktop;\n  requires javafx.base;\n  requires javafx.controls;\n  requires javafx.fxml;\n  requires javafx.graphics;\n  requires org.apache.commons.codec;\n  requires org.apache.commons.io;\n  requires org.bytedeco.ffmpeg;\n  requires org.bytedeco.flandmark.platform;\n  requires org.bytedeco.flandmark;\n  requires org.bytedeco.javacv.platform;\n  requires org.bytedeco.javacv;\n  requires org.slf4j;\n  requires spring.beans;\n  requires spring.boot.autoconfigure;\n  requires spring.boot;\n  requires spring.context;\n  requires spring.core;\n  requires spring.jcl;\n\n  opens io.xj.gui.controllers to javafx.graphics, javafx.base, javafx.fxml, javafx.controls, spring.beans;\n  opens io.xj.gui.events to javafx.base, javafx.controls, javafx.fxml, javafx.graphics, spring.beans, spring.context, spring.core;\n  opens io.xj.gui.listeners to javafx.base, javafx.controls, javafx.fxml, javafx.graphics, spring.beans, spring.context, spring.core, ch.qos.logback.core;\n  opens io.xj.gui.services to javafx.base, javafx.controls, javafx.fxml, javafx.graphics, spring.beans, spring.context, spring.core;\n  opens io.xj.gui to ch.qos.logback.core, javafx.base, javafx.controls, javafx.fxml, javafx.graphics, spring.beans, spring.context, spring.core;\n}\n</code></pre>\n<p>Complete demonstration <a href=\"https://github.com/xjmusic/javacv-example\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":["java","swing","jlist"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1692266259,"post_id":76918546,"comment_id":135601114,"body_markdown":"You need to post the source of *listListeners* btw [class names start upper case and should not be plurals unless encapsulating a Collection](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions) I suspect you&#39;re not ignoring, when true, `event.getValueIsAdjusting()`","body":"You need to post the source of <i>listListeners</i> btw <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">class names start upper case and should not be plurals unless encapsulating a Collection</a> I suspect you&#39;re not ignoring, when true, <code>event.getValueIsAdjusting()</code>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1692278221,"post_id":76918546,"comment_id":135603535,"body_markdown":"Class names SHOUILD start with an upper case character and NOT contain &quot;_&quot; characters. Learn and follow Java conventions. This is easy when you look at the class names in the API,","body":"Class names SHOUILD start with an upper case character and NOT contain &quot;_&quot; characters. Learn and follow Java conventions. This is easy when you look at the class names in the API,"},{"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"score":0,"creation_date":1692307032,"post_id":76918546,"comment_id":135609385,"body_markdown":"@g00se:- Unfortunately, I was missing the method `e.getValueIsAdjusting()`. It works fine now! Thank you for pointing out java notations","body":"@g00se:- Unfortunately, I was missing the method <code>e.getValueIsAdjusting()</code>. It works fine now! Thank you for pointing out java notations"}],"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692307752,"creation_date":1692247737,"question_id":76918546,"body_markdown":"I was trying to troubleshoot the code that why `JList` prints same values x2 times on console, but on GUI it shows only x1 time. I need ID on backend to do more functions, but it comes x2 time. The values are retrieving from DB.\r\nJList Initialization &amp; calling: -\r\n\r\n    CustomListModel listModel;\r\n    listModel = new CustomListModel(getListOfRoutes());\r\n    routeList = new JList&lt;tbl_bom_route&gt;(listModel);\r\n    ListSelectionListener myListener = new listListeners();\r\n    routeList.addListSelectionListener(myListener);\r\n    routeList.setCellRenderer(new routeListCellRenderer());\r\n    scrollPaneList.setViewportView(routeList);\r\n\r\n    class CustomListModel extends AbstractListModel&lt;tbl_bom_route&gt; {\r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \t\tprivate ArrayList&lt;tbl_bom_route&gt; items;\r\n    \t    public CustomListModel(ArrayList&lt;tbl_bom_route&gt; items) {\r\n    \t        this.items = items;\r\n    \t    }\r\n    \t    @Override\r\n    \t    public int getSize() {\r\n    \t        return items.size();\r\n    \t    }\r\n    \r\n    \t    @Override\r\n    \t    public tbl_bom_route getElementAt(int index) {\r\n    \t        return items.get(index);\r\n    \t    }\r\n    \t}\r\n\r\n     private ArrayList&lt;tbl_bom_route&gt; getListOfRoutes() {\r\n        \t\tArrayList&lt;tbl_bom_route&gt; itemsList = new ArrayList&lt;&gt;();\r\n        \t\ttry {\r\n        \t\t\titemsList = daoBomRouteObject.getAllListOfRoutes();\r\n        \t\t} catch (Exception e) {\r\n        \t\t\te.printStackTrace();\r\n        \t\t}\r\n        \t\treturn itemsList;\r\n        \t}\r\n\r\n    class routeListCellRenderer extends DefaultListCellRenderer {\r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \t\t@Override\r\n    \t\tpublic Component getListCellRendererComponent(JList&lt;?&gt; list, Object value, int index, boolean isSelected,\r\n    \t\t\t\tboolean cellHasFocus) {\r\n    \t\t\tsuper.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\r\n    \t\t\tif (value instanceof tbl_bom_route) {\r\n    \t\t\t\ttbl_bom_route item = (tbl_bom_route) value;\r\n    \t\t\t\tsetText(item.getRouteName());\r\n    \t\t\t}\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \t}\r\n\r\nConsole Output: -\r\n   - Route00476R1020ARDWN_No 4 Draw Bench\r\n   - ID186\r\n   - Route00476R1020ARDWN_No 4 Draw Bench\r\n   - ID186\r\n\r\n\r\nUpdated: -\r\n\r\n    private class RouteListListener implements ListSelectionListener {\r\n    \t\t@Override\r\n    \t\tpublic void valueChanged(ListSelectionEvent e) {\r\n    \t\t\tif (!e.getValueIsAdjusting()) {\r\n    \t\t\t\tint selectedIndex = routeList.getSelectedIndex();\r\n    \t\t\t\tif (selectedIndex != -1) {\r\n    \t\t\t\t\ttbl_bom_route selectedListValue = routeList.getSelectedValue();\r\n    \t\t\t\t\tSANDBOX_GROUP_ID = selectedListValue.getRouteGroupID();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"JList prints duplicate values on console, display single values on GUI","body":"<p>I was trying to troubleshoot the code that why <code>JList</code> prints same values x2 times on console, but on GUI it shows only x1 time. I need ID on backend to do more functions, but it comes x2 time. The values are retrieving from DB.\nJList Initialization &amp; calling: -</p>\n<pre><code>CustomListModel listModel;\nlistModel = new CustomListModel(getListOfRoutes());\nrouteList = new JList&lt;tbl_bom_route&gt;(listModel);\nListSelectionListener myListener = new listListeners();\nrouteList.addListSelectionListener(myListener);\nrouteList.setCellRenderer(new routeListCellRenderer());\nscrollPaneList.setViewportView(routeList);\n\nclass CustomListModel extends AbstractListModel&lt;tbl_bom_route&gt; {\n        private static final long serialVersionUID = 1L;\n        private ArrayList&lt;tbl_bom_route&gt; items;\n        public CustomListModel(ArrayList&lt;tbl_bom_route&gt; items) {\n            this.items = items;\n        }\n        @Override\n        public int getSize() {\n            return items.size();\n        }\n\n        @Override\n        public tbl_bom_route getElementAt(int index) {\n            return items.get(index);\n        }\n    }\n\n private ArrayList&lt;tbl_bom_route&gt; getListOfRoutes() {\n            ArrayList&lt;tbl_bom_route&gt; itemsList = new ArrayList&lt;&gt;();\n            try {\n                itemsList = daoBomRouteObject.getAllListOfRoutes();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            return itemsList;\n        }\n\nclass routeListCellRenderer extends DefaultListCellRenderer {\n        private static final long serialVersionUID = 1L;\n        @Override\n        public Component getListCellRendererComponent(JList&lt;?&gt; list, Object value, int index, boolean isSelected,\n                boolean cellHasFocus) {\n            super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\n            if (value instanceof tbl_bom_route) {\n                tbl_bom_route item = (tbl_bom_route) value;\n                setText(item.getRouteName());\n            }\n            return this;\n        }\n    }\n</code></pre>\n<p>Console Output: -</p>\n<ul>\n<li>Route00476R1020ARDWN_No 4 Draw Bench</li>\n<li>ID186</li>\n<li>Route00476R1020ARDWN_No 4 Draw Bench</li>\n<li>ID186</li>\n</ul>\n<p>Updated: -</p>\n<pre><code>private class RouteListListener implements ListSelectionListener {\n        @Override\n        public void valueChanged(ListSelectionEvent e) {\n            if (!e.getValueIsAdjusting()) {\n                int selectedIndex = routeList.getSelectedIndex();\n                if (selectedIndex != -1) {\n                    tbl_bom_route selectedListValue = routeList.getSelectedValue();\n                    SANDBOX_GROUP_ID = selectedListValue.getRouteGroupID();\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","jenkins","groovy","jenkins-pipeline","jenkins-groovy"],"comments":[{"owner":{"account_id":9028807,"reputation":524,"user_id":6727228,"display_name":"Ruslan"},"score":0,"creation_date":1692491862,"post_id":76925166,"comment_id":135630625,"body_markdown":"it works for me. remove everything in prepare stage and execute script { build_job(&quot;123&quot;,&quot;123&quot;,&quot;123&quot;) }.  then add your lines one by one \nif doesnt help update plugins","body":"it works for me. remove everything in prepare stage and execute script { build_job(&quot;123&quot;,&quot;123&quot;,&quot;123&quot;) }.  then add your lines one by one  if doesnt help update plugins"}],"owner":{"account_id":19256289,"reputation":679,"user_id":14073111,"display_name":"user14073111"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692306805,"creation_date":1692306805,"question_id":76925166,"body_markdown":"Basically I have this groovy script:\r\n\r\n    pipeline {\r\n        agent {\r\n            node {\r\n                label &#39;master&#39;\r\n            }\r\n        }\r\n        stages {\r\n            stage(&quot;prepare&quot;) {\r\n                steps {\r\n                    catchError(buildResult: &quot;SUCCESS&quot;, stageResult: &quot;SUCCESS&quot;) {\r\n                        step([$class: &#39;WsCleanup&#39;])\r\n                        git url: &quot;git@gitlab.com:tests.git&quot;, branch: &quot;master&quot;, credentialsId: &quot;test-keys&quot;\r\n                        script {\r\n                            def params = load(&quot;test_folder/test.gy&quot;)\r\n                            def yml = readYaml file: &quot;test_folder/test.yml&quot;\r\n                            def selectedJobsMap = yml.selected_jobs\r\n                            def extra_parameters = []\r\n    \r\n                            selectedJobsMap.each { param -&gt;\r\n                                def platformChoices = selectedJobsMap[param.key].collect { it.name as String }\r\n                                params.add (\r\n                                    extendedChoice(\r\n                                        name: &quot;${param.key}_PLATFORMS&quot;,\r\n                                        description: &quot;Select ${param.key} platforms that you want to run tests&quot;,\r\n                                        type: &#39;PT_CHECKBOX&#39;,\r\n                                        multiSelectDelimiter: &#39;,&#39;,\r\n                                        value: platformChoices.join(&#39;,&#39;)\r\n                                        )\r\n                                    )\r\n                                   extra_parameters.add(&quot;${param.key}_PLATFORMS&quot;)\r\n                            }\r\n                            properties([parameters(params)])\r\n                            def jobsToRun = []\r\n    \r\n                            extra_parameters.each { platformParam -&gt;\r\n                                def selectedPlatforms = this[platformParam]\r\n                                def exact_platform = &quot;${platformParam}&quot; - &quot;_PLATFORMS&quot;\r\n                                selectedPlatforms.tokenize(&#39;,&#39;).each { selectedPlatform -&gt;\r\n                                    def jobName = selectedJobsMap[exact_platform].find { it.name == selectedPlatform }?.job\r\n                                    if (jobName) {\r\n                                        jobsToRun.add(jobName)\r\n                                    }\r\n                                }\r\n                            }\r\n                            parallel jobsToRun.collectEntries { jobName -&gt;\r\n                                [&quot;Running $jobName&quot;: {\r\n                                    build_job(&quot;$jobName&quot;, &quot;${branch_test_code}&quot;, &quot;${project_name}&quot;)\r\n                                }]\r\n                            }\r\n                        }\r\n                        step([$class: &#39;WsCleanup&#39;])\r\n                    } // catchError\r\n                } // steps\r\n            } // stage\r\n        } // stages\r\n    }\r\n    \r\n    def build_job(job_name, branch_test_code, project_name) {\r\n        try {\r\n            timeout(time: 1, unit: &#39;HOURS&#39;) {\r\n                println(&quot;Test run started : &quot; + job_name.toString())\r\n                build job: job_name, parameters: [string(name: &quot;branch_test_code&quot;, value: branch_test_code),\r\n                                                  string(name: &quot;project_name&quot;, value: project_name))]\r\n            }\r\n        } catch (err) {\r\n            println(&quot;Job exited with an error:&quot;)\r\n            println(err.toString())\r\n        } finally {\r\n            try {\r\n                copyArtifacts( filter: &quot;testing/allure-results/*&quot;,\r\n                               projectName: job_name,\r\n                               selector: lastCompleted() )\r\n            } catch (err) {\r\n                println(&quot;Something went wrong when trying to copy artifacts:&quot;)\r\n                println(err.toString())\r\n            }\r\n        }\r\n    }\r\n\r\nThe problem that I am having is that when I use that build_job there, I am getting an error:\r\n\r\n    java.lang.NoSuchMethodError: No such DSL method &#39;build_job&#39; found among steps\r\nBut if I try a more simpler groovy script, it works fine:\r\n\r\n    def build_job(jobName) {\r\n        // Function logic\r\n        echo &quot;Building job: $jobName&quot;\r\n    }\r\n    \r\n    pipeline {\r\n        agent any\r\n        \r\n        stages {\r\n            stage(&#39;Call Function&#39;) {\r\n                steps {\r\n                    script {\r\n                        def myJobName = &#39;myJob&#39; // Set the job name here\r\n                        build_job(myJobName)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAny idea how to fix that one? I know that maybe I can declare it inside the Script block but somehow with that method it is not copying the artifacts in the master job. What is different in my complex groovy compared to the simpler one.  Only addition the first one has is the git clone step...\r\n","title":"Call a method inside a declarative pipeline groovy script","body":"<p>Basically I have this groovy script:</p>\n<pre><code>pipeline {\n    agent {\n        node {\n            label 'master'\n        }\n    }\n    stages {\n        stage(&quot;prepare&quot;) {\n            steps {\n                catchError(buildResult: &quot;SUCCESS&quot;, stageResult: &quot;SUCCESS&quot;) {\n                    step([$class: 'WsCleanup'])\n                    git url: &quot;git@gitlab.com:tests.git&quot;, branch: &quot;master&quot;, credentialsId: &quot;test-keys&quot;\n                    script {\n                        def params = load(&quot;test_folder/test.gy&quot;)\n                        def yml = readYaml file: &quot;test_folder/test.yml&quot;\n                        def selectedJobsMap = yml.selected_jobs\n                        def extra_parameters = []\n\n                        selectedJobsMap.each { param -&gt;\n                            def platformChoices = selectedJobsMap[param.key].collect { it.name as String }\n                            params.add (\n                                extendedChoice(\n                                    name: &quot;${param.key}_PLATFORMS&quot;,\n                                    description: &quot;Select ${param.key} platforms that you want to run tests&quot;,\n                                    type: 'PT_CHECKBOX',\n                                    multiSelectDelimiter: ',',\n                                    value: platformChoices.join(',')\n                                    )\n                                )\n                               extra_parameters.add(&quot;${param.key}_PLATFORMS&quot;)\n                        }\n                        properties([parameters(params)])\n                        def jobsToRun = []\n\n                        extra_parameters.each { platformParam -&gt;\n                            def selectedPlatforms = this[platformParam]\n                            def exact_platform = &quot;${platformParam}&quot; - &quot;_PLATFORMS&quot;\n                            selectedPlatforms.tokenize(',').each { selectedPlatform -&gt;\n                                def jobName = selectedJobsMap[exact_platform].find { it.name == selectedPlatform }?.job\n                                if (jobName) {\n                                    jobsToRun.add(jobName)\n                                }\n                            }\n                        }\n                        parallel jobsToRun.collectEntries { jobName -&gt;\n                            [&quot;Running $jobName&quot;: {\n                                build_job(&quot;$jobName&quot;, &quot;${branch_test_code}&quot;, &quot;${project_name}&quot;)\n                            }]\n                        }\n                    }\n                    step([$class: 'WsCleanup'])\n                } // catchError\n            } // steps\n        } // stage\n    } // stages\n}\n\ndef build_job(job_name, branch_test_code, project_name) {\n    try {\n        timeout(time: 1, unit: 'HOURS') {\n            println(&quot;Test run started : &quot; + job_name.toString())\n            build job: job_name, parameters: [string(name: &quot;branch_test_code&quot;, value: branch_test_code),\n                                              string(name: &quot;project_name&quot;, value: project_name))]\n        }\n    } catch (err) {\n        println(&quot;Job exited with an error:&quot;)\n        println(err.toString())\n    } finally {\n        try {\n            copyArtifacts( filter: &quot;testing/allure-results/*&quot;,\n                           projectName: job_name,\n                           selector: lastCompleted() )\n        } catch (err) {\n            println(&quot;Something went wrong when trying to copy artifacts:&quot;)\n            println(err.toString())\n        }\n    }\n}\n</code></pre>\n<p>The problem that I am having is that when I use that build_job there, I am getting an error:</p>\n<pre><code>java.lang.NoSuchMethodError: No such DSL method 'build_job' found among steps\n</code></pre>\n<p>But if I try a more simpler groovy script, it works fine:</p>\n<pre><code>def build_job(jobName) {\n    // Function logic\n    echo &quot;Building job: $jobName&quot;\n}\n\npipeline {\n    agent any\n    \n    stages {\n        stage('Call Function') {\n            steps {\n                script {\n                    def myJobName = 'myJob' // Set the job name here\n                    build_job(myJobName)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Any idea how to fix that one? I know that maybe I can declare it inside the Script block but somehow with that method it is not copying the artifacts in the master job. What is different in my complex groovy compared to the simpler one.  Only addition the first one has is the git clone step...</p>\n"},{"tags":["java","multithreading","concurrency","java.util.concurrent","completable-future"],"comments":[{"owner":{"account_id":9879926,"reputation":4097,"user_id":7316365,"accept_rate":80,"display_name":"Vivick"},"score":0,"creation_date":1692283173,"post_id":76922452,"comment_id":135604728,"body_markdown":"The docs state: The task may execute in a new thread or in an existing pooled thread","body":"The docs state: The task may execute in a new thread or in an existing pooled thread"},{"owner":{"account_id":12033000,"reputation":684,"user_id":8802609,"display_name":"nluk"},"score":0,"creation_date":1692283308,"post_id":76922452,"comment_id":135604762,"body_markdown":"Ok, but the `main` thread is not: 1. a new thread 2. a pooled thread. The &#39;existing&#39; part matches though. Also, the tasks (lambda bodies) run where they should, it&#39;s the `String decoratingThread = Thread.currentThread().getName();` part that runs on main.","body":"Ok, but the <code>main</code> thread is not: 1. a new thread 2. a pooled thread. The &#39;existing&#39; part matches though. Also, the tasks (lambda bodies) run where they should, it&#39;s the <code>String decoratingThread = Thread.currentThread().getName();</code> part that runs on main."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692284252,"post_id":76922452,"comment_id":135605022,"body_markdown":"Of course, that part just runs on the calling thread. Why wouldn&#39;t it?","body":"Of course, that part just runs on the calling thread. Why wouldn&#39;t it?"},{"owner":{"account_id":12033000,"reputation":684,"user_id":8802609,"display_name":"nluk"},"score":0,"creation_date":1692284608,"post_id":76922452,"comment_id":135605117,"body_markdown":"First time it should and does run on `main`, that&#39;s ok. But the second execution/decoration (of lambda in `thenApplyAsync`) it sometimes runs on `main` and sometimes on `firstExecutor`. That&#39;s why the next-to-last assertion does not fail 99% of test repeats.\n\nTo be precise: \n`String decoratingThread = Thread.currentThread().getName();` runs always on `main` for `supplyAsync`,  and randomly on `main` or `firstExecutor` for `thenApplyAsync`. The `supplyAsync` and `thenApplyAsync` lambdas always run where they should, so on `firstExecutor` and `secondExecutor`.","body":"First time it should and does run on <code>main</code>, that&#39;s ok. But the second execution/decoration (of lambda in <code>thenApplyAsync</code>) it sometimes runs on <code>main</code> and sometimes on <code>firstExecutor</code>. That&#39;s why the next-to-last assertion does not fail 99% of test repeats.  To be precise:  <code>String decoratingThread = Thread.currentThread().getName();</code> runs always on <code>main</code> for <code>supplyAsync</code>,  and randomly on <code>main</code> or <code>firstExecutor</code> for <code>thenApplyAsync</code>. The <code>supplyAsync</code> and <code>thenApplyAsync</code> lambdas always run where they should, so on <code>firstExecutor</code> and <code>secondExecutor</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1692284733,"post_id":76922452,"comment_id":135605149,"body_markdown":"Javadoc for [`Executor#execute`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/Executor.html#execute(java.lang.Runnable)) says (my emphasis): The command may execute in a new thread, in a pooled thread, *or in the calling thread*, at the discretion of the Executor implementation.","body":"Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/Executor.html#execute(java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>Executor#execute</code></a> says (my emphasis): The command may execute in a new thread, in a pooled thread, <i>or in the calling thread</i>, at the discretion of the Executor implementation."},{"owner":{"account_id":12033000,"reputation":684,"user_id":8802609,"display_name":"nluk"},"score":0,"creation_date":1692285156,"post_id":76922452,"comment_id":135605269,"body_markdown":"@BasilBourque That&#39;s a good catch. But I hoped that was the case just for certain implementations, for example the same docs show this implementation:\n`class DirectExecutor implements Executor {\n   public void execute(Runnable r) {\n     r.run();\n   }\n }\n`\nNow this obviously always runs on the caller thread. So my question should be why does the `ThreadPoolExecutor` (the parent/delegate) sometimes run on main. And are there any ExecutorService implementations that specify where do they run under given circumstances.","body":"@BasilBourque That&#39;s a good catch. But I hoped that was the case just for certain implementations, for example the same docs show this implementation: <code>class DirectExecutor implements Executor {    public void execute(Runnable r) {      r.run();    }  } </code> Now this obviously always runs on the caller thread. So my question should be why does the <code>ThreadPoolExecutor</code> (the parent/delegate) sometimes run on main. And are there any ExecutorService implementations that specify where do they run under given circumstances."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692290180,"post_id":76922452,"comment_id":135606368,"body_markdown":"Im no expert on this, but I believe if you want to avoid that possible behavior of `Executor#execute` then you should instead call [`ExecutorService#submit`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html#submit(java.lang.Runnable)) method (or others such as `invokeAll`).","body":"Im no expert on this, but I believe if you want to avoid that possible behavior of <code>Executor#execute</code> then you should instead call <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html#submit(java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>ExecutorService#submit</code></a> method (or others such as <code>invokeAll</code>)."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692290327,"post_id":76922452,"comment_id":135606392,"body_markdown":"Perhaps [some other sources](https://www.ecosia.org/search?q=java%20executor%20execute%20versus%20submit&amp;tts=st_asaf_iphone) can shed some light on the matter of `execute` versus `submit`","body":"Perhaps <a href=\"https://www.ecosia.org/search?q=java%20executor%20execute%20versus%20submit&amp;tts=st_asaf_iphone\" rel=\"nofollow noreferrer\">some other sources</a> can shed some light on the matter of <code>execute</code> versus <code>submit</code>"},{"owner":{"account_id":12033000,"reputation":684,"user_id":8802609,"display_name":"nluk"},"score":0,"creation_date":1692294821,"post_id":76922452,"comment_id":135607295,"body_markdown":"Unfortunately I don&#39;t explicitly call `execute`. It&#39;s something inside the `CompletableFuture` logic that uses the `execute` part of `ExecutorService` interface. And ithe behaviour varies according to some condition, which is unknown at the moment.","body":"Unfortunately I don&#39;t explicitly call <code>execute</code>. It&#39;s something inside the <code>CompletableFuture</code> logic that uses the <code>execute</code> part of <code>ExecutorService</code> interface. And ithe behaviour varies according to some condition, which is unknown at the moment."}],"answers":[{"comments":[{"owner":{"account_id":12033000,"reputation":684,"user_id":8802609,"display_name":"nluk"},"score":0,"creation_date":1692345756,"post_id":76925159,"comment_id":135613088,"body_markdown":"This is a great answer! But could you expand on this part: `It will do either main thread or a thread from the firstExecutor:` - why is the firstExecutor sometimes capable to submit the second lambda? You told me when, but why can&#39;t it always do that? From what I see in the implementation of `uniApplyStage` if we have the result, then the task will execute in executor, but will be submited by caller (main). But if there&#39;s no result we do an `unipush` and the submit will be performed by executor.","body":"This is a great answer! But could you expand on this part: <code>It will do either main thread or a thread from the firstExecutor:</code> - why is the firstExecutor sometimes capable to submit the second lambda? You told me when, but why can&#39;t it always do that? From what I see in the implementation of <code>uniApplyStage</code> if we have the result, then the task will execute in executor, but will be submited by caller (main). But if there&#39;s no result we do an <code>unipush</code> and the submit will be performed by executor."},{"owner":{"account_id":12033000,"reputation":684,"user_id":8802609,"display_name":"nluk"},"score":0,"creation_date":1692346294,"post_id":76925159,"comment_id":135613173,"body_markdown":"Or even if we call unipush, but get a result - we call `c.tryFire(SYNC)` inside.","body":"Or even if we call unipush, but get a result - we call <code>c.tryFire(SYNC)</code> inside."},{"owner":{"account_id":8666186,"reputation":7757,"user_id":6486622,"display_name":"Denis Zavedeev"},"score":0,"creation_date":1692369863,"post_id":76925159,"comment_id":135617983,"body_markdown":"&quot;why is the firstExecutor sometimes capable to submit the second lambda? You told me when, but why can&#39;t it always do that?&quot; I guess, this is for performance reasons. If we have submitted the task to the `firstExecutor` and it has been completed, then it&#39;s more performant to submit the task by the caller, rather than to create a new task for the `firstExecutor` to submit a new task to the `secondExecutor`","body":"&quot;why is the firstExecutor sometimes capable to submit the second lambda? You told me when, but why can&#39;t it always do that?&quot; I guess, this is for performance reasons. If we have submitted the task to the <code>firstExecutor</code> and it has been completed, then it&#39;s more performant to submit the task by the caller, rather than to create a new task for the <code>firstExecutor</code> to submit a new task to the <code>secondExecutor</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1692604208,"post_id":76925159,"comment_id":135640677,"body_markdown":"@nluk thats a simple matter of logic. Any thread can call `complete` on a `CompletableFuture` but the future has no possibility to force dependent actions to run on an arbitrary thread (the thread that completed the future). You are assuming that the completing thread will always belong to a pool and that the future remembers the pool and submits dependent actions to that pool but a) this doesnt have to be the case and b) even the pool could have been shut down in the meantime. So the former completing thread is irrelevant when chaining a dependent action on an already completed future.","body":"@nluk thats a simple matter of logic. Any thread can call <code>complete</code> on a <code>CompletableFuture</code> but the future has no possibility to force dependent actions to run on an arbitrary thread (the thread that completed the future). You are assuming that the completing thread will always belong to a pool and that the future remembers the pool and submits dependent actions to that pool but a) this doesnt have to be the case and b) even the pool could have been shut down in the meantime. So the former completing thread is irrelevant when chaining a dependent action on an already completed future."},{"owner":{"account_id":12033000,"reputation":684,"user_id":8802609,"display_name":"nluk"},"score":0,"creation_date":1692626241,"post_id":76925159,"comment_id":135645346,"body_markdown":"I understand that, but for me that seems like a poor abstraction on `CompletableFuture` side. And a pretty big oversight in dozens of MDC-related solutions here, like this one: https://stackoverflow.com/questions/6073019/how-to-use-mdc-with-thread-pools","body":"I understand that, but for me that seems like a poor abstraction on <code>CompletableFuture</code> side. And a pretty big oversight in dozens of MDC-related solutions here, like this one: <a href=\"https://stackoverflow.com/questions/6073019/how-to-use-mdc-with-thread-pools\" title=\"how to use mdc with thread pools\">stackoverflow.com/questions/6073019/&hellip;</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692696779,"post_id":76925159,"comment_id":135655993,"body_markdown":"@nluk if you want to decorate tasks, specify a dedicated `Executor`. If your code depends on which thread calls `submit`, the bad abstraction is on your side, not the `CompletableFuture`.","body":"@nluk if you want to decorate tasks, specify a dedicated <code>Executor</code>. If your code depends on which thread calls <code>submit</code>, the bad abstraction is on your side, not the <code>CompletableFuture</code>."},{"owner":{"account_id":12033000,"reputation":684,"user_id":8802609,"display_name":"nluk"},"score":0,"creation_date":1692698876,"post_id":76925159,"comment_id":135656451,"body_markdown":"I do use a dedicated Executor in both `supply` and `apply`, but the decoration is inconsistent. And I wouldn&#39;t say that it&#39;s &gt;my&lt; abstraction that&#39;s wrong. Did you look at the link? Or perhaps a Spring link would be better: https://spring.io/blog/2023/03/28/context-propagation-with-project-reactor-1-the-basics\n\nEveryone uses these decorators, but no one warns about the errors you can encounter when combining that with CompletableFuture. And I&#39;m not saying that CF are bad, just from the API user perspective I would expect more control and better, explicit guarantees.","body":"I do use a dedicated Executor in both <code>supply</code> and <code>apply</code>, but the decoration is inconsistent. And I wouldn&#39;t say that it&#39;s &gt;my&lt; abstraction that&#39;s wrong. Did you look at the link? Or perhaps a Spring link would be better: <a href=\"https://spring.io/blog/2023/03/28/context-propagation-with-project-reactor-1-the-basics\" rel=\"nofollow noreferrer\">spring.io/blog/2023/03/28/&hellip;</a>  Everyone uses these decorators, but no one warns about the errors you can encounter when combining that with CompletableFuture. And I&#39;m not saying that CF are bad, just from the API user perspective I would expect more control and better, explicit guarantees."}],"tags":[],"owner":{"account_id":8666186,"reputation":7757,"user_id":6486622,"display_name":"Denis Zavedeev"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692306761,"creation_date":1692306761,"answer_id":76925159,"question_id":76922452,"body_markdown":"&gt; Does it depend on how long it takes to complete the `Supplier` in `supplyAsync`?\r\n\r\nThis depends on whether or not the `supplyAsync` part has been completed before the `thenApplyAsync` call.\r\n\r\n### Explanation\r\n\r\nLet&#39;s split the `CompletableFuture` chain in the `testWhoCalled` test for explanation. Instead of:\r\n\r\n```java\r\nInteger result = CompletableFuture.supplyAsync(() -&gt; 1, firstExecutor)\r\n         .thenApplyAsync(supplyResult -&gt; supplyResult, secondExecutor)\r\n         .get();\r\n```\r\n\r\ndo:\r\n\r\n```\r\nCompletableFuture&lt;Integer&gt; firstFuture = CompletableFuture.supplyAsync(() -&gt; 1, firstExecutor);\r\nInteger result = firstFuture\r\n         .thenApplyAsync(supplyResult -&gt; supplyResult, secondExecutor)\r\n         .get();\r\n```\r\n\r\n_The test still fails for me sometimes. There are no changes in logic, but it will allow me easier to explain._\r\n\r\nWhen I create the `firstFuture` using the [`supplyAsync`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#supplyAsync(java.util.function.Supplier,java.util.concurrent.Executor)) method, the `firstExecutor` can already execute the lamba&#39;s (`Supplier`&#39;s) body.\r\n\r\nIn other words, computation can be _already_ running.\r\n_This is different from other frameworks. For example, in [Project Reactor nothing happens until you `subscribe`](https://projectreactor.io/docs/core/release/reference/#_from_imperative_to_reactive_programming)_.\r\n\r\nSo the computation _can be already running_ after we return from the `supplyAsync`.\r\nLet&#39;s understand what happens next.\r\nThere are two possibilities:\r\n\r\n1. `firstExecutor` has executed the `() -&gt; 1` lambda. And the `CompletableFuture` has the result\r\n2. The `() -&gt; 1` lambda is executing or will be executed later. We don&#39;t have result.\r\n\r\nNow we do:\r\n\r\n```java\r\nfirstFuture.thenApplyAsync(...)\r\n```\r\n\r\nWho will submit the second lambda into the `secondExecutor`?\r\n\r\nIt will do either `main` thread or a thread from the `firstExecutor`:\r\n\r\n* If we have the result, the `main` thread will submit the task into the `secondExecutor`. Because no one can do it here except the `main` thread: the task is already done, the `firstExecutor` can not submit the task to the `secondExecutor`\r\n* If we don&#39;t have the result a thread from the `firstExecutor` submits the task into the `secondExecutor`\r\n\r\n### Experiment: add sleep in between \r\n\r\nIf I add a `sleep` in the test like:\r\n\r\n```java\r\nCompletableFuture&lt;Integer&gt; firstFuture = CompletableFuture.supplyAsync(() -&gt; 1, firstExecutor);\r\nThread.sleep(1);\r\nInteger result = firstFuture\r\n        .thenApplyAsync(supplyResult -&gt; supplyResult, secondExecutor)\r\n        .get();\r\n```\r\n\r\nI have 9986 failures.\r\nThe `sleep` call increases the probability that the `firstExecutor` has completed the task before we add a new callback in `thenApplyAsync`.\r\n\r\nSee also [&quot;Asynchronous API with CompletableFuture: Performance Tips and Tricks&quot;](https://youtu.be/lyJBtg6Dgwc?t=1340) talk","title":"Why does the &#39;execute&#39; method of ExecutorService in applyAsync run on main thread sometimes","body":"<blockquote>\n<p>Does it depend on how long it takes to complete the <code>Supplier</code> in <code>supplyAsync</code>?</p>\n</blockquote>\n<p>This depends on whether or not the <code>supplyAsync</code> part has been completed before the <code>thenApplyAsync</code> call.</p>\n<h3>Explanation</h3>\n<p>Let's split the <code>CompletableFuture</code> chain in the <code>testWhoCalled</code> test for explanation. Instead of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer result = CompletableFuture.supplyAsync(() -&gt; 1, firstExecutor)\n         .thenApplyAsync(supplyResult -&gt; supplyResult, secondExecutor)\n         .get();\n</code></pre>\n<p>do:</p>\n<pre><code>CompletableFuture&lt;Integer&gt; firstFuture = CompletableFuture.supplyAsync(() -&gt; 1, firstExecutor);\nInteger result = firstFuture\n         .thenApplyAsync(supplyResult -&gt; supplyResult, secondExecutor)\n         .get();\n</code></pre>\n<p><em>The test still fails for me sometimes. There are no changes in logic, but it will allow me easier to explain.</em></p>\n<p>When I create the <code>firstFuture</code> using the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#supplyAsync(java.util.function.Supplier,java.util.concurrent.Executor)\" rel=\"nofollow noreferrer\"><code>supplyAsync</code></a> method, the <code>firstExecutor</code> can already execute the lamba's (<code>Supplier</code>'s) body.</p>\n<p>In other words, computation can be <em>already</em> running.\n<em>This is different from other frameworks. For example, in <a href=\"https://projectreactor.io/docs/core/release/reference/#_from_imperative_to_reactive_programming\" rel=\"nofollow noreferrer\">Project Reactor nothing happens until you <code>subscribe</code></a></em>.</p>\n<p>So the computation <em>can be already running</em> after we return from the <code>supplyAsync</code>.\nLet's understand what happens next.\nThere are two possibilities:</p>\n<ol>\n<li><code>firstExecutor</code> has executed the <code>() -&gt; 1</code> lambda. And the <code>CompletableFuture</code> has the result</li>\n<li>The <code>() -&gt; 1</code> lambda is executing or will be executed later. We don't have result.</li>\n</ol>\n<p>Now we do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>firstFuture.thenApplyAsync(...)\n</code></pre>\n<p>Who will submit the second lambda into the <code>secondExecutor</code>?</p>\n<p>It will do either <code>main</code> thread or a thread from the <code>firstExecutor</code>:</p>\n<ul>\n<li>If we have the result, the <code>main</code> thread will submit the task into the <code>secondExecutor</code>. Because no one can do it here except the <code>main</code> thread: the task is already done, the <code>firstExecutor</code> can not submit the task to the <code>secondExecutor</code></li>\n<li>If we don't have the result a thread from the <code>firstExecutor</code> submits the task into the <code>secondExecutor</code></li>\n</ul>\n<h3>Experiment: add sleep in between</h3>\n<p>If I add a <code>sleep</code> in the test like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Integer&gt; firstFuture = CompletableFuture.supplyAsync(() -&gt; 1, firstExecutor);\nThread.sleep(1);\nInteger result = firstFuture\n        .thenApplyAsync(supplyResult -&gt; supplyResult, secondExecutor)\n        .get();\n</code></pre>\n<p>I have 9986 failures.\nThe <code>sleep</code> call increases the probability that the <code>firstExecutor</code> has completed the task before we add a new callback in <code>thenApplyAsync</code>.</p>\n<p>See also <a href=\"https://youtu.be/lyJBtg6Dgwc?t=1340\" rel=\"nofollow noreferrer\">&quot;Asynchronous API with CompletableFuture: Performance Tips and Tricks&quot;</a> talk</p>\n"}],"owner":{"account_id":12033000,"reputation":684,"user_id":8802609,"display_name":"nluk"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76925159,"answer_count":1,"score":3,"last_activity_date":1692306761,"creation_date":1692282289,"question_id":76922452,"body_markdown":"I have overridden the `execute` method for `java.util.concurrent.Executor` in `ThreadPoolExecutor` implementation. The new implementation just decorates the runnable and then calls the original execute. The issue I&#39;m having is that if I have two such executors, then following:\r\n```java\r\nsupplyAsync(() -&gt; foo(), firstExecutor).thenApplyAsync(firstResult -&gt; bar(), secondExecutor)\r\n```\r\ntranslates to two `execute` calls. Usually they are executed by `main` and `firstExecutor`, but sometimes it&#39;s `main` two times.\r\n\r\nDoes it depend on how long it takes to complete the Suppplier in supplyAsync?\r\n\r\nHere&#39;s a minimal reproducible example (10k repeats, for me it fails about 3 times `java.lang.AssertionError: Unexpected second decorator: main`):\r\n\r\n```java\r\npackage com.foo;\r\n\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.RepeatedTest;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.LinkedBlockingQueue;\r\nimport java.util.concurrent.ThreadPoolExecutor;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nclass DecorationTest {\r\n\r\n    record WhoCalled(String decorator, String runnable) {}\r\n\r\n    static class DecoratedExecutor extends ThreadPoolExecutor{\r\n\r\n        private final List&lt;WhoCalled&gt; callers;\r\n\r\n        public DecoratedExecutor(List&lt;WhoCalled&gt; callers, String threadName) {\r\n            super(1, 1, 1, TimeUnit.MINUTES, new LinkedBlockingQueue&lt;&gt;(), runnable -&gt; new Thread(runnable, threadName));\r\n            this.callers = callers;\r\n        }\r\n\r\n        @Override\r\n        public void execute(final Runnable command) {\r\n            String decoratingThread = Thread.currentThread().getName();\r\n            Runnable decorated = () -&gt; {\r\n                String runningThread = Thread.currentThread().getName();\r\n                callers.add(new WhoCalled(decoratingThread, runningThread));\r\n                command.run();\r\n            };\r\n            super.execute(decorated);\r\n        }\r\n    }\r\n\r\n    List&lt;WhoCalled&gt; callers;\r\n    ExecutorService firstExecutor;\r\n    ExecutorService secondExecutor;\r\n\r\n    @BeforeEach\r\n    void beforeEach() {\r\n        callers = new ArrayList&lt;&gt;();\r\n        firstExecutor = new DecoratedExecutor(callers, &quot;firstExecutor&quot;);\r\n        secondExecutor = new DecoratedExecutor(callers, &quot;secondExecutor&quot;);\r\n    }\r\n\r\n    @AfterEach\r\n    void afterEach() {\r\n        firstExecutor.shutdown();\r\n        secondExecutor.shutdown();\r\n    }\r\n\r\n\r\n    @RepeatedTest(10_000)\r\n    void testWhoCalled() throws Exception {\r\n        Integer result = CompletableFuture.supplyAsync(() -&gt; 1, firstExecutor)\r\n                .thenApplyAsync(supplyResult -&gt; supplyResult, secondExecutor)\r\n                .get();\r\n\r\n        assert result == 1;\r\n\r\n        WhoCalled firstCallers = callers.get(0);\r\n        assert firstCallers.decorator().equals(&quot;main&quot;);\r\n        assert firstCallers.runnable().equals(&quot;firstExecutor&quot;);\r\n\r\n        WhoCalled secondCallers = callers.get(1);\r\n        assert secondCallers.decorator().equals(&quot;firstExecutor&quot;) : &quot;Unexpected second decorator: &quot; + secondCallers.decorator;\r\n        assert secondCallers.runnable().equals(&quot;secondExecutor&quot;);\r\n    }\r\n}\r\n```","title":"Why does the &#39;execute&#39; method of ExecutorService in applyAsync run on main thread sometimes","body":"<p>I have overridden the <code>execute</code> method for <code>java.util.concurrent.Executor</code> in <code>ThreadPoolExecutor</code> implementation. The new implementation just decorates the runnable and then calls the original execute. The issue I'm having is that if I have two such executors, then following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>supplyAsync(() -&gt; foo(), firstExecutor).thenApplyAsync(firstResult -&gt; bar(), secondExecutor)\n</code></pre>\n<p>translates to two <code>execute</code> calls. Usually they are executed by <code>main</code> and <code>firstExecutor</code>, but sometimes it's <code>main</code> two times.</p>\n<p>Does it depend on how long it takes to complete the Suppplier in supplyAsync?</p>\n<p>Here's a minimal reproducible example (10k repeats, for me it fails about 3 times <code>java.lang.AssertionError: Unexpected second decorator: main</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.foo;\n\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.RepeatedTest;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.LinkedBlockingQueue;\nimport java.util.concurrent.ThreadPoolExecutor;\nimport java.util.concurrent.TimeUnit;\n\nclass DecorationTest {\n\n    record WhoCalled(String decorator, String runnable) {}\n\n    static class DecoratedExecutor extends ThreadPoolExecutor{\n\n        private final List&lt;WhoCalled&gt; callers;\n\n        public DecoratedExecutor(List&lt;WhoCalled&gt; callers, String threadName) {\n            super(1, 1, 1, TimeUnit.MINUTES, new LinkedBlockingQueue&lt;&gt;(), runnable -&gt; new Thread(runnable, threadName));\n            this.callers = callers;\n        }\n\n        @Override\n        public void execute(final Runnable command) {\n            String decoratingThread = Thread.currentThread().getName();\n            Runnable decorated = () -&gt; {\n                String runningThread = Thread.currentThread().getName();\n                callers.add(new WhoCalled(decoratingThread, runningThread));\n                command.run();\n            };\n            super.execute(decorated);\n        }\n    }\n\n    List&lt;WhoCalled&gt; callers;\n    ExecutorService firstExecutor;\n    ExecutorService secondExecutor;\n\n    @BeforeEach\n    void beforeEach() {\n        callers = new ArrayList&lt;&gt;();\n        firstExecutor = new DecoratedExecutor(callers, &quot;firstExecutor&quot;);\n        secondExecutor = new DecoratedExecutor(callers, &quot;secondExecutor&quot;);\n    }\n\n    @AfterEach\n    void afterEach() {\n        firstExecutor.shutdown();\n        secondExecutor.shutdown();\n    }\n\n\n    @RepeatedTest(10_000)\n    void testWhoCalled() throws Exception {\n        Integer result = CompletableFuture.supplyAsync(() -&gt; 1, firstExecutor)\n                .thenApplyAsync(supplyResult -&gt; supplyResult, secondExecutor)\n                .get();\n\n        assert result == 1;\n\n        WhoCalled firstCallers = callers.get(0);\n        assert firstCallers.decorator().equals(&quot;main&quot;);\n        assert firstCallers.runnable().equals(&quot;firstExecutor&quot;);\n\n        WhoCalled secondCallers = callers.get(1);\n        assert secondCallers.decorator().equals(&quot;firstExecutor&quot;) : &quot;Unexpected second decorator: &quot; + secondCallers.decorator;\n        assert secondCallers.runnable().equals(&quot;secondExecutor&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","flutter","visual-studio-code","android-activity"],"answers":[{"tags":[],"owner":{"account_id":12159079,"reputation":109,"user_id":8877183,"display_name":"Miki Vanouek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644691039,"creation_date":1644691039,"answer_id":71094789,"question_id":70063286,"body_markdown":"For me, the solution was to simply run `flutter clean` and `flutter pub get` in the project directory.","title":"Flutter Unable to instantiate activity ComponentInfo Main Activity","body":"<p>For me, the solution was to simply run <code>flutter clean</code> and <code>flutter pub get</code> in the project directory.</p>\n"},{"tags":[],"owner":{"account_id":9576126,"reputation":21,"user_id":7310460,"display_name":"Nicolas Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650735510,"creation_date":1650735510,"answer_id":71982149,"question_id":70063286,"body_markdown":"For me the solution was to fix the name of the package in MainActivity.kt for some reason the last part was doubled.\r\n\r\n","title":"Flutter Unable to instantiate activity ComponentInfo Main Activity","body":"<p>For me the solution was to fix the name of the package in MainActivity.kt for some reason the last part was doubled.</p>\n"},{"tags":[],"owner":{"account_id":394275,"reputation":4356,"user_id":756630,"accept_rate":100,"display_name":"Jaja Harris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692306671,"creation_date":1692306671,"answer_id":76925150,"question_id":70063286,"body_markdown":"In case it helps someone, for me the fix was to go into the MainActivity.kt file under the Android folder and to fix the package import line so that it was using the correct app id name i.e. com.company.app.","title":"Flutter Unable to instantiate activity ComponentInfo Main Activity","body":"<p>In case it helps someone, for me the fix was to go into the MainActivity.kt file under the Android folder and to fix the package import line so that it was using the correct app id name i.e. com.company.app.</p>\n"}],"owner":{"account_id":21570843,"reputation":33,"user_id":15903738,"display_name":"Joh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2304,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1692306671,"creation_date":1637572203,"question_id":70063286,"body_markdown":"I&#39;m using vs code (to code) and android studio (to get virtual device).\r\nI just merged and pulled the project I&#39;m working on this morning, and first, have a very long time to wait to build my project. So i stopped all, uninstalled my app from my virtual device, then cleaned and run by &quot;flutter run&quot;. Now I have these errors:\r\n\r\n```\r\nUsing hardware rendering with device AOSP on IA Emulator. If you notice graphics artifacts, consider enabling software rendering with\r\n&quot;--enable-software-rendering&quot;.\r\nLaunching lib\\main.dart on AOSP on IA Emulator in debug mode...\r\nRunning Gradle task &#39;assembleDebug&#39;...                              6,0s\r\n  Built build\\app\\outputs\\flutter-apk\\app-debug.apk.\r\nE/AndroidRuntime(11190): FATAL EXCEPTION: main\r\nE/AndroidRuntime(11190): Process: com.example.coming_soon, PID: 11190\r\nE/AndroidRuntime(11190): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.coming_soon/com.example.coming_soon.MainActivity}: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.example.coming_soon.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.example.coming_soon-g9Xk6gs-AdO4Khd-H_dR3g==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.example.coming_soon-g9Xk6gs-AdO4Khd-H_dR3g==/lib/x86, /data/app/com.example.coming_soon-g9Xk6gs-AdO4Khd-H_dR3g==/base.apk!/lib/x86, /system/lib]]\r\nE/AndroidRuntime(11190):        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2843)\r\nE/AndroidRuntime(11190):        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\r\nE/AndroidRuntime(11190):        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\nE/AndroidRuntime(11190):        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\nE/AndroidRuntime(11190):        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\nE/AndroidRuntime(11190):        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\r\nE/AndroidRuntime(11190):        at android.os.Handler.dispatchMessage(Handler.java:106)\r\nE/AndroidRuntime(11190):        at android.os.Looper.loop(Looper.java:193)\r\nE/AndroidRuntime(11190):        at android.app.ActivityThread.main(ActivityThread.java:6669)\r\nE/AndroidRuntime(11190):        at java.lang.reflect.Method.invoke(Native Method)\r\nE/AndroidRuntime(11190):        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\nE/AndroidRuntime(11190):        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\nE/AndroidRuntime(11190): Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.example.coming_soon.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.example.coming_soon-g9Xk6gs-AdO4Khd-H_dR3g==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.example.coming_soon-g9Xk6gs-AdO4Khd-H_dR3g==/lib/x86, /data/app/com.example.coming_soon-g9Xk6gs-AdO4Khd-H_dR3g==/base.apk!/lib/x86, /system/lib]]\r\nE/AndroidRuntime(11190):        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:134)\r\nE/AndroidRuntime(11190):        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\nE/AndroidRuntime(11190):        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\nE/AndroidRuntime(11190):        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:69)\r\nE/AndroidRuntime(11190):        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:41)\r\nE/AndroidRuntime(11190):        at android.app.Instrumentation.newActivity(Instrumentation.java:1215)\r\nE/AndroidRuntime(11190):        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2831)\r\nE/AndroidRuntime(11190):        ... 11 more\r\n```\r\n\r\nHere is my flutter doctor -v\r\n\r\n```\r\n\r\n[] Flutter (Channel stable, 2.5.3, on Microsoft Windows [version 10.0.19043.1348], locale fr-FR)\r\n     Flutter version 2.5.3 at C:\\Users\\Johanne\\Development\\sdks\\flutter\r\n     Upstream repository https://github.com/flutter/flutter.git\r\n     Framework revision 18116933e7 (5 weeks ago), 2021-10-15 10:46:35 -0700\r\n     Engine revision d3ea636dc5\r\n     Dart version 2.14.4\r\n\r\n[] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\r\n     Android SDK at C:\\Users\\Johanne\\AppData\\Local\\Android\\sdk\r\n     Platform android-31, build-tools 31.0.0\r\n     Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\r\n     Java version OpenJDK Runtime Environment (build 11.0.10+0-b96-7249189)\r\n     All Android licenses accepted.\r\n\r\n[] Chrome - develop for the web\r\n     Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\r\n\r\n[] Android Studio (version 2020.3)\r\n     Android Studio at C:\\Program Files\\Android\\Android Studio\r\n     Flutter plugin can be installed from:\r\n       https://plugins.jetbrains.com/plugin/9212-flutter\r\n     Dart plugin can be installed from:\r\n       https://plugins.jetbrains.com/plugin/6351-dart\r\n     Java version OpenJDK Runtime Environment (build 11.0.10+0-b96-7249189)\r\n\r\n[] VS Code (version 1.62.2)\r\n     VS Code at C:\\Users\\Johanne\\AppData\\Local\\Programs\\Microsoft VS Code\r\n     Flutter extension version 3.28.0\r\n\r\n[] Connected device (3 available)\r\n     AOSP on IA Emulator (mobile)  emulator-5556  android-x86     Android 9 (API 28) (emulator)\r\n     Chrome (web)                  chrome         web-javascript  Google Chrome 95.0.4638.69\r\n     Edge (web)                    edge           web-javascript  Microsoft Edge 95.0.1020.44\r\n\r\n No issues found!\r\n\r\n```\r\nHere is my android.manifest :\r\n\r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.coming_soon&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALENDAR&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_CALENDAR&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;   \r\n&lt;application\r\n        android:label=&quot;coming_soon&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:launchMode=&quot;singleTop&quot;\r\n            android:theme=&quot;@style/LaunchTheme&quot;\r\n            android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\r\n            android:hardwareAccelerated=&quot;true&quot;\r\n            android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n            &lt;!-- Specifies an Android theme to apply to this Activity as soon as\r\n                 the Android process has started. This theme is visible to the user\r\n                 while the Flutter UI initializes. After that, this theme continues\r\n                 to determine the Window background behind the Flutter UI. --&gt;\r\n            &lt;meta-data\r\n              android:name=&quot;io.flutter.embedding.android.NormalTheme&quot;\r\n              android:resource=&quot;@style/NormalTheme&quot;\r\n              /&gt;\r\n            &lt;!-- Displays an Android View that continues showing the launch screen\r\n                 Drawable until Flutter paints its first frame, then this splash\r\n                 screen fades out. A splash screen is useful to avoid any visual\r\n                 gap between the end of Android&#39;s launch screen and the painting of\r\n                 Flutter&#39;s first frame. --&gt;\r\n            &lt;meta-data\r\n              android:name=&quot;io.flutter.embedding.android.SplashScreenDrawable&quot;\r\n              android:resource=&quot;@drawable/launch_background&quot;\r\n              /&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;!-- Don&#39;t delete the meta-data below.\r\n             This is used by the Flutter tool to generate GeneratedPluginRegistrant.java --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;flutterEmbedding&quot;\r\n            android:value=&quot;2&quot; /&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\n```\r\nI already searched and found similar issues, but I wasn&#39;t able to solve my problem.\r\nI tried to create a MainActivity.java file, but got new errors, so I deleted it.\r\nDid I miss something?\r\n","title":"Flutter Unable to instantiate activity ComponentInfo Main Activity","body":"<p>I'm using vs code (to code) and android studio (to get virtual device).\nI just merged and pulled the project I'm working on this morning, and first, have a very long time to wait to build my project. So i stopped all, uninstalled my app from my virtual device, then cleaned and run by &quot;flutter run&quot;. Now I have these errors:</p>\n<pre><code>Using hardware rendering with device AOSP on IA Emulator. If you notice graphics artifacts, consider enabling software rendering with\n&quot;--enable-software-rendering&quot;.\nLaunching lib\\main.dart on AOSP on IA Emulator in debug mode...\nRunning Gradle task 'assembleDebug'...                              6,0s\n  Built build\\app\\outputs\\flutter-apk\\app-debug.apk.\nE/AndroidRuntime(11190): FATAL EXCEPTION: main\nE/AndroidRuntime(11190): Process: com.example.coming_soon, PID: 11190\nE/AndroidRuntime(11190): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.coming_soon/com.example.coming_soon.MainActivity}: java.lang.ClassNotFoundException: Didn't find class &quot;com.example.coming_soon.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.example.coming_soon-g9Xk6gs-AdO4Khd-H_dR3g==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.example.coming_soon-g9Xk6gs-AdO4Khd-H_dR3g==/lib/x86, /data/app/com.example.coming_soon-g9Xk6gs-AdO4Khd-H_dR3g==/base.apk!/lib/x86, /system/lib]]\nE/AndroidRuntime(11190):        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2843)\nE/AndroidRuntime(11190):        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\nE/AndroidRuntime(11190):        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\nE/AndroidRuntime(11190):        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\nE/AndroidRuntime(11190):        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\nE/AndroidRuntime(11190):        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\nE/AndroidRuntime(11190):        at android.os.Handler.dispatchMessage(Handler.java:106)\nE/AndroidRuntime(11190):        at android.os.Looper.loop(Looper.java:193)\nE/AndroidRuntime(11190):        at android.app.ActivityThread.main(ActivityThread.java:6669)\nE/AndroidRuntime(11190):        at java.lang.reflect.Method.invoke(Native Method)\nE/AndroidRuntime(11190):        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\nE/AndroidRuntime(11190):        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\nE/AndroidRuntime(11190): Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.example.coming_soon.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.example.coming_soon-g9Xk6gs-AdO4Khd-H_dR3g==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.example.coming_soon-g9Xk6gs-AdO4Khd-H_dR3g==/lib/x86, /data/app/com.example.coming_soon-g9Xk6gs-AdO4Khd-H_dR3g==/base.apk!/lib/x86, /system/lib]]\nE/AndroidRuntime(11190):        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:134)\nE/AndroidRuntime(11190):        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\nE/AndroidRuntime(11190):        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\nE/AndroidRuntime(11190):        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:69)\nE/AndroidRuntime(11190):        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:41)\nE/AndroidRuntime(11190):        at android.app.Instrumentation.newActivity(Instrumentation.java:1215)\nE/AndroidRuntime(11190):        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2831)\nE/AndroidRuntime(11190):        ... 11 more\n</code></pre>\n<p>Here is my flutter doctor -v</p>\n<pre><code>\n[] Flutter (Channel stable, 2.5.3, on Microsoft Windows [version 10.0.19043.1348], locale fr-FR)\n     Flutter version 2.5.3 at C:\\Users\\Johanne\\Development\\sdks\\flutter\n     Upstream repository https://github.com/flutter/flutter.git\n     Framework revision 18116933e7 (5 weeks ago), 2021-10-15 10:46:35 -0700\n     Engine revision d3ea636dc5\n     Dart version 2.14.4\n\n[] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\n     Android SDK at C:\\Users\\Johanne\\AppData\\Local\\Android\\sdk\n     Platform android-31, build-tools 31.0.0\n     Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\n     Java version OpenJDK Runtime Environment (build 11.0.10+0-b96-7249189)\n     All Android licenses accepted.\n\n[] Chrome - develop for the web\n     Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[] Android Studio (version 2020.3)\n     Android Studio at C:\\Program Files\\Android\\Android Studio\n     Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n     Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n     Java version OpenJDK Runtime Environment (build 11.0.10+0-b96-7249189)\n\n[] VS Code (version 1.62.2)\n     VS Code at C:\\Users\\Johanne\\AppData\\Local\\Programs\\Microsoft VS Code\n     Flutter extension version 3.28.0\n\n[] Connected device (3 available)\n     AOSP on IA Emulator (mobile)  emulator-5556  android-x86     Android 9 (API 28) (emulator)\n     Chrome (web)                  chrome         web-javascript  Google Chrome 95.0.4638.69\n     Edge (web)                    edge           web-javascript  Microsoft Edge 95.0.1020.44\n\n No issues found!\n\n</code></pre>\n<p>Here is my android.manifest :</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.coming_soon&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALENDAR&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_CALENDAR&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;   \n&lt;application\n        android:label=&quot;coming_soon&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:launchMode=&quot;singleTop&quot;\n            android:theme=&quot;@style/LaunchTheme&quot;\n            android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\n            &lt;!-- Specifies an Android theme to apply to this Activity as soon as\n                 the Android process has started. This theme is visible to the user\n                 while the Flutter UI initializes. After that, this theme continues\n                 to determine the Window background behind the Flutter UI. --&gt;\n            &lt;meta-data\n              android:name=&quot;io.flutter.embedding.android.NormalTheme&quot;\n              android:resource=&quot;@style/NormalTheme&quot;\n              /&gt;\n            &lt;!-- Displays an Android View that continues showing the launch screen\n                 Drawable until Flutter paints its first frame, then this splash\n                 screen fades out. A splash screen is useful to avoid any visual\n                 gap between the end of Android's launch screen and the painting of\n                 Flutter's first frame. --&gt;\n            &lt;meta-data\n              android:name=&quot;io.flutter.embedding.android.SplashScreenDrawable&quot;\n              android:resource=&quot;@drawable/launch_background&quot;\n              /&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;!-- Don't delete the meta-data below.\n             This is used by the Flutter tool to generate GeneratedPluginRegistrant.java --&gt;\n        &lt;meta-data\n            android:name=&quot;flutterEmbedding&quot;\n            android:value=&quot;2&quot; /&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n\n</code></pre>\n<p>I already searched and found similar issues, but I wasn't able to solve my problem.\nI tried to create a MainActivity.java file, but got new errors, so I deleted it.\nDid I miss something?</p>\n"},{"tags":["java","spring-boot","maven"],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692306544,"creation_date":1692306544,"question_id":76925134,"body_markdown":"I&#39;ve discovered a situation where a SpringBoot service is using two maven dependencies that mostly deal with different things, but which happen to have at least one fully-qualified class name that is in both artifacts.  This service is failing at startup because it ends up using the class from one jar, where it really needs to get it from the other jar.\r\n\r\nI have another service that has the same two dependencies, but does not have this problem. but I see that in the fat jar, the order of the two jars is different from the one that has the problem.\r\n\r\nThere&#39;s no question that this is a stupid situation.  One of those jars should absolutely not have that class (and other classes in the same package), but I don&#39;t have any control over that artifact, and it&#39;s a legacy artifact.\r\n\r\nFrom what I understand, problems like this are dealt with using a custom &quot;classpath.idx&quot; file.  It&#39;s possible I can get away with that file just having two entries in it, the two jars that I need to control the ordering for.\r\n\r\nWhat I don&#39;t understand is how to get it there.  I assume that if I put the file in src/main/resources, that will dump it into BOOT-INF/classes, but it needs to go into BOOT-INF.\r\n\r\nI would have thought functionality around this would have been available in the spring-boot-maven-plugin, but I don&#39;t see anything. Perhaps it&#39;s so simple to do this that it wasn&#39;t deemed necessary.  If so, I don&#39;t see how to do it.\r\n\r\nI also wondered whether simply changing the order of dependencies in the maven pom.xml could do this, but I&#39;ve tried moving the artifact that references this problem artifact as a transient dependency to both first and last in the dependences list, but that made no difference.","title":"Need to create custom classpath.idx for springboot app to control jar loading order","body":"<p>I've discovered a situation where a SpringBoot service is using two maven dependencies that mostly deal with different things, but which happen to have at least one fully-qualified class name that is in both artifacts.  This service is failing at startup because it ends up using the class from one jar, where it really needs to get it from the other jar.</p>\n<p>I have another service that has the same two dependencies, but does not have this problem. but I see that in the fat jar, the order of the two jars is different from the one that has the problem.</p>\n<p>There's no question that this is a stupid situation.  One of those jars should absolutely not have that class (and other classes in the same package), but I don't have any control over that artifact, and it's a legacy artifact.</p>\n<p>From what I understand, problems like this are dealt with using a custom &quot;classpath.idx&quot; file.  It's possible I can get away with that file just having two entries in it, the two jars that I need to control the ordering for.</p>\n<p>What I don't understand is how to get it there.  I assume that if I put the file in src/main/resources, that will dump it into BOOT-INF/classes, but it needs to go into BOOT-INF.</p>\n<p>I would have thought functionality around this would have been available in the spring-boot-maven-plugin, but I don't see anything. Perhaps it's so simple to do this that it wasn't deemed necessary.  If so, I don't see how to do it.</p>\n<p>I also wondered whether simply changing the order of dependencies in the maven pom.xml could do this, but I've tried moving the artifact that references this problem artifact as a transient dependency to both first and last in the dependences list, but that made no difference.</p>\n"},{"tags":["java","sql-server","linux","ssl","jdbc"],"answers":[{"tags":[],"owner":{"account_id":1377055,"reputation":4155,"user_id":1310865,"accept_rate":50,"display_name":"2Aguy"},"comment_count":0,"down_vote_count":2,"up_vote_count":50,"is_accepted":true,"score":48,"last_activity_date":1497096208,"creation_date":1443110967,"answer_id":32766115,"question_id":32766114,"body_markdown":"I turned on SSL logging in the Java 8 JVM on a Linux instance which reproduces the problem.  SSL logging is turned on using  `-Djavax.net.debug=ssl:handshake:verbose`.  This revealed some useful information.  \r\n\r\nThe **workaround** that we are using in production and has proven to work for us is to set this parameter on the JVM:\r\n\r\n     -Djdk.tls.client.protocols=TLSv1\r\n\r\nIf you want more details, please read on.\r\n\r\nOn a server where the problem can be reproduced (again, only 5-10% of the time), I observed the following:\r\n\r\n    *** ClientHello, TLSv1.2\r\n    --- 8&lt;-- SNIP -----\r\n    main, WRITE: TLSv1.2 Handshake, length = 195\r\n    main, READ: TLSv1.2 Handshake, length = 1130\r\n    *** ServerHello, TLSv1.2\r\n    --- 8&lt;-- SNIP -----\r\n    %% Initialized:  [Session-79, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256]\r\n    ** TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\r\n    --- 8&lt;-- SNIP -----\r\n    Algorithm: [SHA1withRSA]\r\n    --- 8&lt;-- SNIP -----\r\n    *** Diffie-Hellman ServerKeyExchange\r\n    --- 8&lt;-- SNIP -----\r\n    *** ServerHelloDone\r\n    *** ClientKeyExchange, DH\r\n    --- 8&lt;-- SNIP -----\r\n    main, WRITE: TLSv1.2 Handshake, length = 133\r\n    --- 8&lt;-- SNIP -----\r\n    main, WRITE: TLSv1.2 Change Cipher Spec, length = 1\r\n    *** Finished\r\n    verify_data:  { 108, 116, 29, 115, 13, 26, 154, 198, 17, 125, 114, 166 }\r\n    ***\r\n    main, WRITE: TLSv1.2 Handshake, length = 40\r\n    main, called close()\r\n    main, called closeInternal(true)\r\n    main, SEND TLSv1.2 ALERT:  warning, description = close_notify\r\n    main, WRITE: TLSv1.2 Alert, length = 26\r\n    main, called closeSocket(true)\r\n    main, waiting for close_notify or alert: state 5\r\n    main, received EOFException: ignored\r\n    main, called closeInternal(false)\r\n    main, close invoked again; state = 5\r\n    main, handling exception: java.io.IOException: SQL Server returned an incomplete response. The connection has been closed. ClientConnectionId:12a722b3-d61d-4ce4-8319-af049a0a4415\r\n\r\nNotice that **TLSv1.2** is selected by the database server and used in this exchange.  I&#39;ve observed that, when connections fail from the problematic linux service, TLSv1.2 is ALWAYS the level which was selected. However, connections do not ALWAYS fail when TLSv1.2 is used.  They only fail 5-10% of the time.\r\n \r\nNow here is an exchange from a server that does NOT have the problem.  Everything else is equal. I.e.,  connecting to the same database, same version of the JVM (Java 1.8.0_60), same JDBC driver, etc.  Notice that, here, **TLSv1** is selected by the database server instead of TLSv1.2 as in the faulty server&#39;s case.\r\n\r\n    *** ClientHello, TLSv1.2\r\n    --- 8&lt;-- SNIP -----\r\n    main, WRITE: TLSv1.2 Handshake, length = 207\r\n    main, READ: TLSv1 Handshake, length = 604\r\n    *** ServerHello, TLSv1\r\n    --- 8&lt;-- SNIP -----\r\n    Cipher Suite: TLS_RSA_WITH_AES_128_CBC_SHA\r\n    --- 8&lt;-- SNIP -----\r\n    %% Initialized:  [Session-79, TLS_RSA_WITH_AES_128_CBC_SHA]\r\n    ** TLS_RSA_WITH_AES_128_CBC_SHA\r\n    --- 8&lt;-- SNIP -----\r\n    Algorithm: [SHA1withRSA]\r\n    --- 8&lt;-- SNIP -----\r\n    ***\r\n    *** ServerHelloDone\r\n    *** ClientKeyExchange, RSA PreMasterSecret, TLSv1\r\n    --- 8&lt;-- SNIP -----\r\n    main, WRITE: TLSv1 Handshake, length = 134\r\n    main, WRITE: TLSv1 Change Cipher Spec, length = 1\r\n    *** Finished\r\n    verify_data:  { 26, 155, 166, 89, 229, 193, 126, 39, 103, 206, 126, 21 }\r\n    ***\r\n    main, WRITE: TLSv1 Handshake, length = 48\r\n    main, READ: TLSv1 Change Cipher Spec, length = 1\r\n    main, READ: TLSv1 Handshake, length = 48\r\n    *** Finished\r\n\r\nSo, when TLSv1 is negotiated between the Linux JVM and the SQL Server, connections are ALWAYS successful.  When TLSv1.2 is negotiated, we get sporadic connection failures.  \r\n\r\n(Note: Java 7 (1.7.0_51) always negotiates TLSv1, which is why the problem never occurred for us with a Java 7 JVM.)\r\n\r\nThe open questions we still have are: \r\n\r\n 1. WHY is that the same Java 8 JVM run from 2 different Linux servers will always negotiate TLSv1, but when connecting from another Linux server it always negotiates TLSv1.2.  \r\n 2. And also why are TLSv1.2 negotiated connections successful most, but not all, of the time on that server?\r\n\r\n**Update 6/10/2017:**\r\n[This posting from Microsoft][1] describes the problem and their proposed solution.\r\n\r\n**Resources:**\r\n\r\nhttp://www.infoworld.com/article/2849292/operating-systems/more-patch-problems-reported-with-the-ms14-066-kb-2992611-winshock-mess.html\r\n\r\nhttp://www.infoworld.com/article/2849292/operating-systems/more-patch-problems-reported-with-the-ms14-066-kb-2992611-winshock-mess.html\r\n\r\nhttp://blogs.msdn.com/b/jdbcteam/archive/2008/09/09/the-driver-could-not-establish-a-secure-connection-to-sql-server-by-using-secure-sockets-layer-ssl-encryption.aspx\r\n\r\nhttps://stackoverflow.com/questions/30792156/java-8-jce-unlimited-strength-policy-and-ssl-handshake-over-tls\r\n\r\nhttp://blogs.msdn.com/b/saponsqlserver/archive/2013/05/10/analyzing-jdbc-connection-issues.aspx\r\n\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#descPhase2\r\n\r\nhttps://blogs.oracle.com/java-platform-group/entry/java_8_will_use_tls\r\n\r\n\r\n  [1]: https://blogs.msdn.microsoft.com/dataaccesstechnologies/2016/11/30/intermittent-jdbc-connectivity-issue-the-driver-could-not-establish-a-secure-connection-to-sql-server-by-using-secure-sockets-layer-ssl-encryption-error-sql-server-returned-an-incomplete-respons/","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>I turned on SSL logging in the Java 8 JVM on a Linux instance which reproduces the problem.  SSL logging is turned on using  <code>-Djavax.net.debug=ssl:handshake:verbose</code>.  This revealed some useful information.  </p>\n\n<p>The <strong>workaround</strong> that we are using in production and has proven to work for us is to set this parameter on the JVM:</p>\n\n<pre><code> -Djdk.tls.client.protocols=TLSv1\n</code></pre>\n\n<p>If you want more details, please read on.</p>\n\n<p>On a server where the problem can be reproduced (again, only 5-10% of the time), I observed the following:</p>\n\n<pre><code>*** ClientHello, TLSv1.2\n--- 8&lt;-- SNIP -----\nmain, WRITE: TLSv1.2 Handshake, length = 195\nmain, READ: TLSv1.2 Handshake, length = 1130\n*** ServerHello, TLSv1.2\n--- 8&lt;-- SNIP -----\n%% Initialized:  [Session-79, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256]\n** TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\n--- 8&lt;-- SNIP -----\nAlgorithm: [SHA1withRSA]\n--- 8&lt;-- SNIP -----\n*** Diffie-Hellman ServerKeyExchange\n--- 8&lt;-- SNIP -----\n*** ServerHelloDone\n*** ClientKeyExchange, DH\n--- 8&lt;-- SNIP -----\nmain, WRITE: TLSv1.2 Handshake, length = 133\n--- 8&lt;-- SNIP -----\nmain, WRITE: TLSv1.2 Change Cipher Spec, length = 1\n*** Finished\nverify_data:  { 108, 116, 29, 115, 13, 26, 154, 198, 17, 125, 114, 166 }\n***\nmain, WRITE: TLSv1.2 Handshake, length = 40\nmain, called close()\nmain, called closeInternal(true)\nmain, SEND TLSv1.2 ALERT:  warning, description = close_notify\nmain, WRITE: TLSv1.2 Alert, length = 26\nmain, called closeSocket(true)\nmain, waiting for close_notify or alert: state 5\nmain, received EOFException: ignored\nmain, called closeInternal(false)\nmain, close invoked again; state = 5\nmain, handling exception: java.io.IOException: SQL Server returned an incomplete response. The connection has been closed. ClientConnectionId:12a722b3-d61d-4ce4-8319-af049a0a4415\n</code></pre>\n\n<p>Notice that <strong>TLSv1.2</strong> is selected by the database server and used in this exchange.  I've observed that, when connections fail from the problematic linux service, TLSv1.2 is ALWAYS the level which was selected. However, connections do not ALWAYS fail when TLSv1.2 is used.  They only fail 5-10% of the time.</p>\n\n<p>Now here is an exchange from a server that does NOT have the problem.  Everything else is equal. I.e.,  connecting to the same database, same version of the JVM (Java 1.8.0_60), same JDBC driver, etc.  Notice that, here, <strong>TLSv1</strong> is selected by the database server instead of TLSv1.2 as in the faulty server's case.</p>\n\n<pre><code>*** ClientHello, TLSv1.2\n--- 8&lt;-- SNIP -----\nmain, WRITE: TLSv1.2 Handshake, length = 207\nmain, READ: TLSv1 Handshake, length = 604\n*** ServerHello, TLSv1\n--- 8&lt;-- SNIP -----\nCipher Suite: TLS_RSA_WITH_AES_128_CBC_SHA\n--- 8&lt;-- SNIP -----\n%% Initialized:  [Session-79, TLS_RSA_WITH_AES_128_CBC_SHA]\n** TLS_RSA_WITH_AES_128_CBC_SHA\n--- 8&lt;-- SNIP -----\nAlgorithm: [SHA1withRSA]\n--- 8&lt;-- SNIP -----\n***\n*** ServerHelloDone\n*** ClientKeyExchange, RSA PreMasterSecret, TLSv1\n--- 8&lt;-- SNIP -----\nmain, WRITE: TLSv1 Handshake, length = 134\nmain, WRITE: TLSv1 Change Cipher Spec, length = 1\n*** Finished\nverify_data:  { 26, 155, 166, 89, 229, 193, 126, 39, 103, 206, 126, 21 }\n***\nmain, WRITE: TLSv1 Handshake, length = 48\nmain, READ: TLSv1 Change Cipher Spec, length = 1\nmain, READ: TLSv1 Handshake, length = 48\n*** Finished\n</code></pre>\n\n<p>So, when TLSv1 is negotiated between the Linux JVM and the SQL Server, connections are ALWAYS successful.  When TLSv1.2 is negotiated, we get sporadic connection failures.  </p>\n\n<p>(Note: Java 7 (1.7.0_51) always negotiates TLSv1, which is why the problem never occurred for us with a Java 7 JVM.)</p>\n\n<p>The open questions we still have are: </p>\n\n<ol>\n<li>WHY is that the same Java 8 JVM run from 2 different Linux servers will always negotiate TLSv1, but when connecting from another Linux server it always negotiates TLSv1.2.  </li>\n<li>And also why are TLSv1.2 negotiated connections successful most, but not all, of the time on that server?</li>\n</ol>\n\n<p><strong>Update 6/10/2017:</strong>\n<a href=\"https://blogs.msdn.microsoft.com/dataaccesstechnologies/2016/11/30/intermittent-jdbc-connectivity-issue-the-driver-could-not-establish-a-secure-connection-to-sql-server-by-using-secure-sockets-layer-ssl-encryption-error-sql-server-returned-an-incomplete-respons/\" rel=\"noreferrer\">This posting from Microsoft</a> describes the problem and their proposed solution.</p>\n\n<p><strong>Resources:</strong></p>\n\n<p><a href=\"http://www.infoworld.com/article/2849292/operating-systems/more-patch-problems-reported-with-the-ms14-066-kb-2992611-winshock-mess.html\" rel=\"noreferrer\">http://www.infoworld.com/article/2849292/operating-systems/more-patch-problems-reported-with-the-ms14-066-kb-2992611-winshock-mess.html</a></p>\n\n<p><a href=\"http://www.infoworld.com/article/2849292/operating-systems/more-patch-problems-reported-with-the-ms14-066-kb-2992611-winshock-mess.html\" rel=\"noreferrer\">http://www.infoworld.com/article/2849292/operating-systems/more-patch-problems-reported-with-the-ms14-066-kb-2992611-winshock-mess.html</a></p>\n\n<p><a href=\"http://blogs.msdn.com/b/jdbcteam/archive/2008/09/09/the-driver-could-not-establish-a-secure-connection-to-sql-server-by-using-secure-sockets-layer-ssl-encryption.aspx\" rel=\"noreferrer\">http://blogs.msdn.com/b/jdbcteam/archive/2008/09/09/the-driver-could-not-establish-a-secure-connection-to-sql-server-by-using-secure-sockets-layer-ssl-encryption.aspx</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/30792156/java-8-jce-unlimited-strength-policy-and-ssl-handshake-over-tls\">Java 8 , JCE Unlimited Strength Policy and SSL Handshake over TLS</a></p>\n\n<p><a href=\"http://blogs.msdn.com/b/saponsqlserver/archive/2013/05/10/analyzing-jdbc-connection-issues.aspx\" rel=\"noreferrer\">http://blogs.msdn.com/b/saponsqlserver/archive/2013/05/10/analyzing-jdbc-connection-issues.aspx</a></p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#descPhase2\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#descPhase2</a></p>\n\n<p><a href=\"https://blogs.oracle.com/java-platform-group/entry/java_8_will_use_tls\" rel=\"noreferrer\">https://blogs.oracle.com/java-platform-group/entry/java_8_will_use_tls</a></p>\n"},{"comments":[{"owner":{"account_id":1377055,"reputation":4155,"user_id":1310865,"accept_rate":50,"display_name":"2Aguy"},"score":1,"creation_date":1443623446,"post_id":32826341,"comment_id":53569413,"body_markdown":"That is good information. However, the version 4.2 driver does not work under Java 7 (at least last I checked about a month ago).  Microsoft claims it is compatible with Java 6, 7 &amp; 8, but they apparently compiled the driver code with a Java 8 compiler. In our mixed environment of running Java 7 and Java 8, we are unable to run the 4.2 driver due to this problem. See https://social.msdn.microsoft.com/Forums/en-US/c8dd2e1e-a0ea-4971-887d-0a33c917118d/microsoft-jdbc-driver-42-for-sql-server-does-not-work-with-jre-17?forum=sqldataaccess","body":"That is good information. However, the version 4.2 driver does not work under Java 7 (at least last I checked about a month ago).  Microsoft claims it is compatible with Java 6, 7 &amp; 8, but they apparently compiled the driver code with a Java 8 compiler. In our mixed environment of running Java 7 and Java 8, we are unable to run the 4.2 driver due to this problem. See <a href=\"https://social.msdn.microsoft.com/Forums/en-US/c8dd2e1e-a0ea-4971-887d-0a33c917118d/microsoft-jdbc-driver-42-for-sql-server-does-not-work-with-jre-17?forum=sqldataaccess\" rel=\"nofollow noreferrer\">social.msdn.microsoft.com/Forums/en-US/&hellip;</a>"}],"tags":[],"owner":{"account_id":7028736,"reputation":61,"user_id":5385257,"display_name":"Tore Refsnes"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1521488467,"creation_date":1443453136,"answer_id":32826341,"question_id":32766114,"body_markdown":"This appears to have been fixed in version 4.2 of the MS SQL JDBC driver. I created a program where I connected to the server 1000 times, pausing 100ms between each attempt. With version 4.1 I was able to reproduce the problem every time, although it happened only sporadically. With version 4.2 I was unable to reproduce the problem.","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>This appears to have been fixed in version 4.2 of the MS SQL JDBC driver. I created a program where I connected to the server 1000 times, pausing 100ms between each attempt. With version 4.1 I was able to reproduce the problem every time, although it happened only sporadically. With version 4.2 I was unable to reproduce the problem.</p>\n"},{"comments":[{"owner":{"account_id":957324,"reputation":1544,"user_id":982392,"display_name":"Wojciech Jakubas"},"score":0,"creation_date":1637676505,"post_id":40045072,"comment_id":123886113,"body_markdown":"Upgraded jvm version to Java 1.8 and this is when I started to see the issue. Upgrading the driver did not help in my case.","body":"Upgraded jvm version to Java 1.8 and this is when I started to see the issue. Upgrading the driver did not help in my case."}],"tags":[],"owner":{"account_id":9438253,"reputation":61,"user_id":7019598,"display_name":"bbhagat"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1476455555,"creation_date":1476453636,"answer_id":40045072,"question_id":32766114,"body_markdown":"Before you upgrade SQL JDBC Driver, check the compatibility first:\r\n\r\n - Sqljdbc.jar requires a JRE of 5 and supports the JDBC 3.0 API \r\n - Sqljdbc4.jar requires a JRE of 6 and supports the JDBC 4.0 API \r\n - Sqljdbc41.jar requires a JRE of 7 and supports the JDBC 4.1 API \r\n - Sqljdbc42.jar requires a JRE of 8 and supports the JDBC 4.2 API \r\n\r\nSource: https://www.microsoft.com/en-us/download/details.aspx?id=11774","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>Before you upgrade SQL JDBC Driver, check the compatibility first:</p>\n\n<ul>\n<li>Sqljdbc.jar requires a JRE of 5 and supports the JDBC 3.0 API </li>\n<li>Sqljdbc4.jar requires a JRE of 6 and supports the JDBC 4.0 API </li>\n<li>Sqljdbc41.jar requires a JRE of 7 and supports the JDBC 4.1 API </li>\n<li>Sqljdbc42.jar requires a JRE of 8 and supports the JDBC 4.2 API </li>\n</ul>\n\n<p>Source: <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=11774\" rel=\"noreferrer\">https://www.microsoft.com/en-us/download/details.aspx?id=11774</a></p>\n"},{"tags":[],"owner":{"account_id":3588415,"reputation":570,"user_id":2995001,"display_name":"Nikhil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491422856,"creation_date":1491422856,"answer_id":43240694,"question_id":32766114,"body_markdown":"Microsoft Recently open sourced their driver. One can see [mssql-jdbc][1] driver activity on GitHub. I guess latest preview version is 6.1.5. \r\n\r\nAlso you can find all preview versions on maven too. Supporting both JDK7 &amp; JDK 8.\r\n\r\n\r\n  [1]: https://github.com/Microsoft/mssql-jdbc","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>Microsoft Recently open sourced their driver. One can see <a href=\"https://github.com/Microsoft/mssql-jdbc\" rel=\"nofollow noreferrer\">mssql-jdbc</a> driver activity on GitHub. I guess latest preview version is 6.1.5. </p>\n\n<p>Also you can find all preview versions on maven too. Supporting both JDK7 &amp; JDK 8.</p>\n"},{"tags":[],"owner":{"account_id":4218194,"reputation":21,"user_id":3453666,"display_name":"coolhand"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496974295,"creation_date":1496974295,"answer_id":44448225,"question_id":32766114,"body_markdown":"I&#39;ve also hit this issue on Windows Server 2012 R2, using JDBC driver 4.0 &amp; 4.1 with Java 7.  This [Microsoft article](https://blogs.msdn.microsoft.com/dataaccesstechnologies/2016/11/30/intermittent-jdbc-connectivity-issue-the-driver-could-not-establish-a-secure-connection-to-sql-server-by-using-secure-sockets-layer-ssl-encryption-error-sql-server-returned-an-incomplete-respons/) pins the blame on DHE ciphersuites, and recommends disabling them or reducing their priority if you cannot upgrade to JDBC driver 4.2","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>I've also hit this issue on Windows Server 2012 R2, using JDBC driver 4.0 &amp; 4.1 with Java 7.  This <a href=\"https://blogs.msdn.microsoft.com/dataaccesstechnologies/2016/11/30/intermittent-jdbc-connectivity-issue-the-driver-could-not-establish-a-secure-connection-to-sql-server-by-using-secure-sockets-layer-ssl-encryption-error-sql-server-returned-an-incomplete-respons/\" rel=\"nofollow noreferrer\">Microsoft article</a> pins the blame on DHE ciphersuites, and recommends disabling them or reducing their priority if you cannot upgrade to JDBC driver 4.2</p>\n"},{"comments":[{"owner":{"display_name":"user18270057"},"score":54,"creation_date":1648801855,"post_id":53377246,"comment_id":126721395,"body_markdown":"Hello from 2022, this worked for me in JetBrains DataGrip. I have my URL formatted like this jdbc:sqlserver://HOST_GOES_HERE;encrypt=true;trustServerCertificate=true;","body":"Hello from 2022, this worked for me in JetBrains DataGrip. I have my URL formatted like this jdbc:sqlserver://HOST_GOES_HERE;encrypt=true;trustServerCert&zwnj;&#8203;ificate=true;"},{"owner":{"account_id":14037924,"reputation":95,"user_id":10140162,"display_name":"Andrew"},"score":1,"creation_date":1652814394,"post_id":53377246,"comment_id":127696212,"body_markdown":"This is the source of the solution: https://learn.microsoft.com/en-us/sql/connect/jdbc/connecting-with-ssl-encryption?view=sql-server-ver15#configuring-the-connection","body":"This is the source of the solution: <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/connecting-with-ssl-encryption?view=sql-server-ver15#configuring-the-connection\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/connect/jdbc/&hellip;</a>"},{"owner":{"account_id":111226,"reputation":1631,"user_id":293956,"accept_rate":50,"display_name":"BoomShaka"},"score":4,"creation_date":1654018782,"post_id":53377246,"comment_id":127990859,"body_markdown":"The solution is seemingly NOT for production, link above clearly states:  the Microsoft JDBC Driver for SQL Server won&#39;t validate the SQL Server TLS certificate. This setting is common for allowing connections in test environments,...","body":"The solution is seemingly NOT for production, link above clearly states:  the Microsoft JDBC Driver for SQL Server won&#39;t validate the SQL Server TLS certificate. This setting is common for allowing connections in test environments,..."},{"owner":{"account_id":157077,"reputation":91,"user_id":374768,"accept_rate":50,"display_name":"jmatias"},"score":7,"creation_date":1655151769,"post_id":53377246,"comment_id":128259347,"body_markdown":"For IntelliJ/DataGrip folks, if adding encrypt=true;trustServerCertificate=true; is not working for you, make sure that &#39;encrypt&#39; and &#39;trustServerCertificate&#39; are not set to false in the &#39;advanced&#39; tab","body":"For IntelliJ/DataGrip folks, if adding encrypt=true;trustServerCertificate=true; is not working for you, make sure that &#39;encrypt&#39; and &#39;trustServerCertificate&#39; are not set to false in the &#39;advanced&#39; tab"},{"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"score":2,"creation_date":1688109782,"post_id":53377246,"comment_id":135032473,"body_markdown":"trustServerCertificate=true; part realy helped","body":"trustServerCertificate=true; part realy helped"},{"owner":{"account_id":1348130,"reputation":4308,"user_id":1288473,"accept_rate":89,"display_name":"Eternal21"},"score":1,"creation_date":1700097026,"post_id":53377246,"comment_id":136614176,"body_markdown":"Here in 2023.  In DataGirp connection properties, I went to Advanced tab and set `trustServerCertificate` to `true`.  That fixed the issue.","body":"Here in 2023.  In DataGirp connection properties, I went to Advanced tab and set <code>trustServerCertificate</code> to <code>true</code>.  That fixed the issue."}],"tags":[],"owner":{"account_id":14782139,"reputation":2029,"user_id":10675401,"display_name":"Sunil Kumar"},"comment_count":6,"down_vote_count":1,"up_vote_count":199,"is_accepted":false,"score":198,"last_activity_date":1542641179,"creation_date":1542639375,"answer_id":53377246,"question_id":32766114,"body_markdown":"Your url should be like below and add sql sqljdbc42.jar. This will resolve your issue\r\n\r\n    url = &quot;jdbc:sqlserver://&quot; +serverName + &quot;:1433;DatabaseName=&quot; + dbName + &quot;;encrypt=true;trustServerCertificate=true;","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>Your url should be like below and add sql sqljdbc42.jar. This will resolve your issue</p>\n\n<pre><code>url = \"jdbc:sqlserver://\" +serverName + \":1433;DatabaseName=\" + dbName + \";encrypt=true;trustServerCertificate=true;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":207659,"reputation":103,"user_id":457650,"display_name":"gemue"},"score":0,"creation_date":1568101601,"post_id":55192021,"comment_id":102157582,"body_markdown":"This solved the problem in my case, too. I have tried some of the other hints in this thread, but nothing worked. I guess, it depends on the encryption algorithm used by the server. In my case it was a rather old instance of SQL Server 2005.","body":"This solved the problem in my case, too. I have tried some of the other hints in this thread, but nothing worked. I guess, it depends on the encryption algorithm used by the server. In my case it was a rather old instance of SQL Server 2005."},{"owner":{"account_id":330384,"reputation":1345,"user_id":654471,"display_name":"cabaji99"},"score":0,"creation_date":1691197472,"post_id":55192021,"comment_id":135464023,"body_markdown":"Also i had the same error later on a new S.O. on RHEL8 the infraestructure forgot to  configure the crypto policy to legacy, so if you have check that is on legacy...   # update-crypto-policies --show\nDEFAULT ---&gt; if DEFAULT is show it will cause the error --&gt; update-crypto-policies --set LEGACY and restart the app","body":"Also i had the same error later on a new S.O. on RHEL8 the infraestructure forgot to  configure the crypto policy to legacy, so if you have check that is on legacy...   # update-crypto-policies --show DEFAULT ---&gt; if DEFAULT is show it will cause the error --&gt; update-crypto-policies --set LEGACY and restart the app"}],"tags":[],"owner":{"account_id":330384,"reputation":1345,"user_id":654471,"display_name":"cabaji99"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552693680,"creation_date":1552693680,"answer_id":55192021,"question_id":32766114,"body_markdown":"In my case i had a sql server using the 3DES_EDE_CBC algorithm, this is disabled by default on jdk 1.8 , so checking the \r\n\r\n&gt; /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/security/java.security\r\n\r\nAnd eliminating the algorithm from:\r\n\r\n&gt; jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt;\r\n&gt; 1024, \\\r\n&gt;     EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\r\n\r\nWorked for me.","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>In my case i had a sql server using the 3DES_EDE_CBC algorithm, this is disabled by default on jdk 1.8 , so checking the </p>\n\n<blockquote>\n  <p>/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre/lib/security/java.security</p>\n</blockquote>\n\n<p>And eliminating the algorithm from:</p>\n\n<blockquote>\n  <p>jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt;\n  1024, \\\n      EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL</p>\n</blockquote>\n\n<p>Worked for me.</p>\n"},{"tags":[],"owner":{"account_id":7704367,"reputation":111,"user_id":5835746,"display_name":"eby"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572373887,"creation_date":1572373887,"answer_id":58613453,"question_id":32766114,"body_markdown":"In my case, the issue was because the app was set to use spring-boot-ext-security-starter-credhub-credential and there were some issues with that setup.\r\n\r\nSo I removed credhub from the manifest file and pom and fetched credentials in a different way; then the error was gone.","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>In my case, the issue was because the app was set to use spring-boot-ext-security-starter-credhub-credential and there were some issues with that setup.</p>\n\n<p>So I removed credhub from the manifest file and pom and fetched credentials in a different way; then the error was gone.</p>\n"},{"tags":[],"owner":{"account_id":9559927,"reputation":385,"user_id":7101158,"accept_rate":83,"display_name":"yolob 21"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615375960,"creation_date":1615375960,"answer_id":66563921,"question_id":32766114,"body_markdown":"If the server name in the connection string does not match the server name in the SQL Server SSL certificate, the following error will be issued: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;java.security.cert.CertificateException: Failed to validate the server name in a certificate during Secure Sockets Layer (SSL) initialization.&quot;\r\n\r\nThis helped me resolve the issue. Was using the localhost in servername, finally changing in jdbc connection string to the same name as the CN was able to connect.\r\n\r\nRefer: https://wiki.deepnetsecurity.com/pages/viewpage.action?pageId=1410867 for more info","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>If the server name in the connection string does not match the server name in the SQL Server SSL certificate, the following error will be issued: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;java.security.cert.CertificateException: Failed to validate the server name in a certificate during Secure Sockets Layer (SSL) initialization.&quot;</p>\n<p>This helped me resolve the issue. Was using the localhost in servername, finally changing in jdbc connection string to the same name as the CN was able to connect.</p>\n<p>Refer: <a href=\"https://wiki.deepnetsecurity.com/pages/viewpage.action?pageId=1410867\" rel=\"nofollow noreferrer\">https://wiki.deepnetsecurity.com/pages/viewpage.action?pageId=1410867</a> for more info</p>\n"},{"comments":[{"owner":{"account_id":133384,"reputation":2171,"user_id":334719,"accept_rate":88,"display_name":"Auspex"},"score":0,"creation_date":1671574168,"post_id":68792695,"comment_id":132127735,"body_markdown":"I missed this one, so didnt try it, but I was finding that `encrypt=false` wasn&#39;t working at all, so a way to force TLSv1 was required. I did it in a more heavy-handed way by disabling the disabling of TLSv1 in /usr/lib/jvm/java-11-openjdk-amd64/conf/security/java.security. This option may have been better","body":"I missed this one, so didnt try it, but I was finding that <code>encrypt=false</code> wasn&#39;t working at all, so a way to force TLSv1 was required. I did it in a more heavy-handed way by disabling the disabling of TLSv1 in /usr/lib/jvm/java-11-openjdk-amd64/conf/security/java.securi&zwnj;&#8203;ty. This option may have been better"}],"tags":[],"owner":{"account_id":9090019,"reputation":99,"user_id":6766297,"display_name":"nby"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1629039750,"creation_date":1629039408,"answer_id":68792695,"question_id":32766114,"body_markdown":"Like @2Aguy wrote, you can change the JVM parameter. \r\nIn my case I couldn&#39;t change it, and used the connection string &quot;[sslProtocol](https://github.com/Microsoft/mssql-jdbc/wiki/SSLProtocol)&quot; parameter, lowering the connection to TLSV1.\r\n\r\n&gt; Connection String:\r\njdbc:sqlserver://\\&lt;HOST\\&gt;:\\&lt;PORT\\&gt;;encrypt=true;trustServerCertificate=true;sslProtocol=TLSv1;database=\\&lt;DB NAME\\&gt;","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>Like @2Aguy wrote, you can change the JVM parameter.\nIn my case I couldn't change it, and used the connection string &quot;<a href=\"https://github.com/Microsoft/mssql-jdbc/wiki/SSLProtocol\" rel=\"nofollow noreferrer\">sslProtocol</a>&quot; parameter, lowering the connection to TLSV1.</p>\n<blockquote>\n<p>Connection String:\njdbc:sqlserver://&lt;HOST&gt;:&lt;PORT&gt;;encrypt=true;trustServerCertificate=true;sslProtocol=TLSv1;database=&lt;DB NAME&gt;</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8520391,"reputation":190,"user_id":6387539,"display_name":"Martin Karari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631117682,"creation_date":1631117682,"answer_id":69106514,"question_id":32766114,"body_markdown":"I had this issue recently after doing a yum update in a client&#39;s server running RedHat 7. Since the above thread did not help me resolve my issue, I am posting this answer.\r\n\r\nIssue:-\r\nYum update in RedHat automatically reinstalls OpenJDK , my applications use oracle JDK. \r\nVerifying Default JDK:\r\n&gt; java version \r\nSwitch the default version:\r\n\r\n update-alternatives --config java\r\n\r\nThere are 2 programs which provide &#39;java&#39;.\r\n\r\n  Selection    Command\r\n-----------------------------------------------\r\n*  1           java-1.8.0-openjdk.x86_64 (/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64/jre/bin/java)\r\n + 2           /usr/java/jdk1.8.0_181-amd64/jre/bin/java\r\n\r\nEnter to keep the current selection[+], or type selection number:\r\n\r\nEnter the number alongside the appropriate version you want to us and hit enter.\r\n\r\n","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>I had this issue recently after doing a yum update in a client's server running RedHat 7. Since the above thread did not help me resolve my issue, I am posting this answer.</p>\n<p>Issue:-\nYum update in RedHat automatically reinstalls OpenJDK , my applications use oracle JDK.\nVerifying Default JDK:</p>\n<blockquote>\n<p>java version\nSwitch the default version:</p>\n</blockquote>\n<p>update-alternatives --config java</p>\n<p>There are 2 programs which provide 'java'.</p>\n<h2>Selection    Command</h2>\n<ul>\n<li>1           java-1.8.0-openjdk.x86_64 (/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el7_9.x86_64/jre/bin/java)</li>\n</ul>\n<ul>\n<li>2           /usr/java/jdk1.8.0_181-amd64/jre/bin/java</li>\n</ul>\n<p>Enter to keep the current selection[+], or type selection number:</p>\n<p>Enter the number alongside the appropriate version you want to us and hit enter.</p>\n"},{"tags":[],"owner":{"account_id":24262350,"reputation":19,"user_id":18211759,"display_name":"Leo"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1644917748,"creation_date":1644917748,"answer_id":71124098,"question_id":32766114,"body_markdown":"I have fixed the issue on my local enviroment, it mainly contains two steps below.\r\n\r\n 1. Switch the JDBC Driver dependency like below if your project is built by maven:\r\n\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jtds&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n  2.Replace the Driver Class Name additionally:\r\n\r\n    ru.yandex.clickhouse.ClickHouseDriver\r\n\r\n  3.Modify the JDBC URL like this:\r\n\r\n    jdbc:jtds:sqlserver://xxxx:1433;databaseName=xxx\r\n\r\n","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>I have fixed the issue on my local enviroment, it mainly contains two steps below.</p>\n<ol>\n<li>Switch the JDBC Driver dependency like below if your project is built by maven:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\n  &lt;artifactId&gt;jtds&lt;/artifactId&gt;\n  &lt;version&gt;1.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>2.Replace the Driver Class Name additionally:</p>\n<pre><code>ru.yandex.clickhouse.ClickHouseDriver\n</code></pre>\n<p>3.Modify the JDBC URL like this:</p>\n<pre><code>jdbc:jtds:sqlserver://xxxx:1433;databaseName=xxx\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1649372623,"post_id":71788357,"comment_id":126865594,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/71788357/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24864911,"reputation":41,"user_id":18740148,"display_name":"Application Automation"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1689234226,"creation_date":1649362217,"answer_id":71788357,"question_id":32766114,"body_markdown":"Thanks to @Sunil Kumar and @Joce.\r\nI used the jar and below syntax:\r\n```\r\nString myDriver = &quot;com.microsoft.jdbc.sqlserver.SQLServerDriver&quot;;\r\n\r\nString myURL = &quot;jdbc:sqlserver://DB_ipaddress\\\\DB_instance;&quot; +\r\n               &quot;databaseName=DB_name;&quot; +\r\n               &quot;user=myusername;&quot; +\r\n               &quot;password=mypass;&quot; +\r\n               &quot;encrypt=true;&quot; +\r\n               &quot;trustServerCertificate=true;&quot;; // here the semicolon will be twice like shown\r\n\r\nConnection con = DriverManager.getConnection(myURL);\r\n```","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>Thanks to @Sunil Kumar and @Joce.\nI used the jar and below syntax:</p>\n<pre><code>String myDriver = &quot;com.microsoft.jdbc.sqlserver.SQLServerDriver&quot;;\n\nString myURL = &quot;jdbc:sqlserver://DB_ipaddress\\\\DB_instance;&quot; +\n               &quot;databaseName=DB_name;&quot; +\n               &quot;user=myusername;&quot; +\n               &quot;password=mypass;&quot; +\n               &quot;encrypt=true;&quot; +\n               &quot;trustServerCertificate=true;&quot;; // here the semicolon will be twice like shown\n\nConnection con = DriverManager.getConnection(myURL);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13406436,"reputation":2199,"user_id":9895452,"display_name":"Sandeep Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652270503,"creation_date":1652270503,"answer_id":72200723,"question_id":32766114,"body_markdown":"I have also faced same issue while creating connection to the database with below connection string.\r\n\r\n    DriverManager.getConnection(&quot;jdbc:sqlserver://&quot; + host + &quot;:&quot; + port + &quot;;databaseName=&quot; + dbName + &quot;;user=&quot; + userName + &quot;;password=&quot; + password);\r\n\r\nAfter updating connection string as below, it worked.\r\n\r\n    Connection con = DriverManager.getConnection(&quot;jdbc:sqlserver://&quot; + host + &quot;:&quot; + port + &quot;;databaseName=&quot; + dbName + &quot;;encrypt=true;trustServerCertificate=true;user=&quot; + userName + &quot;;password=&quot; + password);\r\n\r\nhere i have added `encrypt=true;trustServerCertificate=true` after the database name.","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>I have also faced same issue while creating connection to the database with below connection string.</p>\n<pre><code>DriverManager.getConnection(&quot;jdbc:sqlserver://&quot; + host + &quot;:&quot; + port + &quot;;databaseName=&quot; + dbName + &quot;;user=&quot; + userName + &quot;;password=&quot; + password);\n</code></pre>\n<p>After updating connection string as below, it worked.</p>\n<pre><code>Connection con = DriverManager.getConnection(&quot;jdbc:sqlserver://&quot; + host + &quot;:&quot; + port + &quot;;databaseName=&quot; + dbName + &quot;;encrypt=true;trustServerCertificate=true;user=&quot; + userName + &quot;;password=&quot; + password);\n</code></pre>\n<p>here i have added <code>encrypt=true;trustServerCertificate=true</code> after the database name.</p>\n"},{"comments":[{"owner":{"account_id":4239422,"reputation":150,"user_id":3469755,"display_name":"Killgnom"},"score":0,"creation_date":1657540021,"post_id":72206760,"comment_id":128826566,"body_markdown":"Changed my POM from the autogenerated code from spring to the above posted code and it really solved the problem after a LONG search. I don&#39;t know how and why, but it does. +1","body":"Changed my POM from the autogenerated code from spring to the above posted code and it really solved the problem after a LONG search. I don&#39;t know how and why, but it does. +1"}],"tags":[],"owner":{"account_id":25139388,"reputation":126,"user_id":18985864,"display_name":"Ruhul Hussain"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1652297954,"creation_date":1652297954,"answer_id":72206760,"question_id":32766114,"body_markdown":"Issue got resolved for me when I changed the sqljdbc-4.2.0 jar with mssql-jdbc-8.4.1 jar\r\n\r\n    &lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;8.4.1.jre8&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\n","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>Issue got resolved for me when I changed the sqljdbc-4.2.0 jar with mssql-jdbc-8.4.1 jar</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n      &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n      &lt;version&gt;8.4.1.jre8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":1,"creation_date":1655805334,"post_id":72376020,"comment_id":128412840,"body_markdown":"Worked for connection from java 11 to sql server db too","body":"Worked for connection from java 11 to sql server db too"}],"tags":[],"owner":{"account_id":19187848,"reputation":566,"user_id":14018249,"display_name":"RepentAndBelieveTheGospel"},"comment_count":1,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1653474877,"creation_date":1653474877,"answer_id":72376020,"question_id":32766114,"body_markdown":"In case someone arrives here looking for a solution to connect to a database from PhpStorm, just add the following after the port in the URL:\r\n\r\n    ;encrypt=true;trustServerCertificate=true;\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI got the solution from this comment: https://stackoverflow.com/questions/32766114/sql-server-jdbc-error-on-java-8-the-driver-could-not-establish-a-secure-connect#comment126721395_53377246\r\n\r\nThank you so much! Can confirm it&#39;s working on PhpStorm 2022.1.1.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hkJiW.png","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>In case someone arrives here looking for a solution to connect to a database from PhpStorm, just add the following after the port in the URL:</p>\n<pre><code>;encrypt=true;trustServerCertificate=true;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hkJiW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hkJiW.png\" alt=\"enter image description here\" /></a></p>\n<p>I got the solution from this comment: <a href=\"https://stackoverflow.com/questions/32766114/sql-server-jdbc-error-on-java-8-the-driver-could-not-establish-a-secure-connect#comment126721395_53377246\">SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption</a></p>\n<p>Thank you so much! Can confirm it's working on PhpStorm 2022.1.1.</p>\n"},{"tags":[],"owner":{"account_id":20621322,"reputation":119,"user_id":15138287,"display_name":"S3D"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1681286979,"creation_date":1653832876,"answer_id":72424311,"question_id":32766114,"body_markdown":" - application.properties:\r\n```\r\n    spring.datasource.url=jdbc:sqlserver://&lt;YourServerName&gt;:1433;database=&lt;YourDatabaseName&gt;;encrypt=true;trustServerCertificate=true;\r\n    spring.datasource.username=root\r\n    spring.datasource.password=1234\r\n    spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\r\n    spring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\n    spring.jpa.hibernate.ddl-auto = create-drop\r\n```","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<ul>\n<li>application.properties:</li>\n</ul>\n<pre><code>    spring.datasource.url=jdbc:sqlserver://&lt;YourServerName&gt;:1433;database=&lt;YourDatabaseName&gt;;encrypt=true;trustServerCertificate=true;\n    spring.datasource.username=root\n    spring.datasource.password=1234\n    spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\n    spring.jpa.show-sql=true\n    spring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\n    spring.jpa.properties.hibernate.globally_quoted_identifiers=true\n    spring.jpa.hibernate.ddl-auto = create-drop\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16735950,"reputation":437,"user_id":12097072,"display_name":"stoneshishang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655470890,"creation_date":1655470890,"answer_id":72659806,"question_id":32766114,"body_markdown":"For me I add to add     `Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);`\r\n between the two lines      \r\n\r\n`DriverManager.registerDriver(new com.microsoft.sqlserver.jdbc.SQLServerDriver());`\r\n\r\n `Connection con = DriverManager.getConnection(connectionUrl);`\r\n\r\n\r\nSo the final code for the connection would be:\r\n\r\n        DriverManager.registerDriver(new com.microsoft.sqlserver.jdbc.SQLServerDriver());\r\n        Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n        Connection con = DriverManager.getConnection(connectionUrl);","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>For me I add to add     <code>Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);</code>\nbetween the two lines</p>\n<p><code>DriverManager.registerDriver(new com.microsoft.sqlserver.jdbc.SQLServerDriver());</code></p>\n<p><code>Connection con = DriverManager.getConnection(connectionUrl);</code></p>\n<p>So the final code for the connection would be:</p>\n<pre><code>    DriverManager.registerDriver(new com.microsoft.sqlserver.jdbc.SQLServerDriver());\n    Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n    Connection con = DriverManager.getConnection(connectionUrl);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11533061,"reputation":149,"user_id":8451437,"display_name":"Juan hernan jaime arias"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1657009656,"creation_date":1656942475,"answer_id":72857788,"question_id":32766114,"body_markdown":"Using openjdk 11 it&#39;s possible to add the following properties to the connection URL in order to force the use of SSL\r\n\r\n`;integratedSecurity=false;encrypt=false;trustServerCertificate=true;`","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>Using openjdk 11 it's possible to add the following properties to the connection URL in order to force the use of SSL</p>\n<p><code>;integratedSecurity=false;encrypt=false;trustServerCertificate=true;</code></p>\n"},{"tags":[],"owner":{"account_id":3532567,"reputation":349,"user_id":2951657,"display_name":"Thuan Tran"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1663257826,"creation_date":1663257496,"answer_id":73734198,"question_id":32766114,"body_markdown":"Add `;encrypt=true;trustServerCertificate=true` into connection.url. Example \r\n\r\njdbc:sqlserver://localhost\\\\SQLEXPRESS:1433;databaseName=testdb;encrypt=true;trustServerCertificate=true\r\n\r\nAnd check Compatible compiler version java in pom file with version jre of mssql-jdbc of maven. Like this\r\n\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\nAnd \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    \t&lt;version&gt;11.2.1.jre8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\ncompiler 1.8 and jre8 ","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>Add <code>;encrypt=true;trustServerCertificate=true</code> into connection.url. Example</p>\n<p>jdbc:sqlserver://localhost\\SQLEXPRESS:1433;databaseName=testdb;encrypt=true;trustServerCertificate=true</p>\n<p>And check Compatible compiler version java in pom file with version jre of mssql-jdbc of maven. Like this</p>\n<pre><code>&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n</code></pre>\n<p>And</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n    &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;11.2.1.jre8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>compiler 1.8 and jre8</p>\n"},{"tags":[],"owner":{"account_id":23074024,"reputation":1,"user_id":17187240,"display_name":"Benny Cohen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670285896,"creation_date":1670285896,"answer_id":74695879,"question_id":32766114,"body_markdown":"If you came here for Ignition 8.1+ error, and you&#39;re using MSSQL express on your local host, at your &quot;Connect URL&quot; put this: jdbc:sqlserver://localhost\\SQLEXPRESS; encrypt=true;trustServerCertificate=true;\r\n[URL settings][1]\r\n\r\n\r\n[Valid connection][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6J4Os.png\r\n  [2]: https://i.stack.imgur.com/g55t0.png","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>If you came here for Ignition 8.1+ error, and you're using MSSQL express on your local host, at your &quot;Connect URL&quot; put this: jdbc:sqlserver://localhost\\SQLEXPRESS; encrypt=true;trustServerCertificate=true;\n<a href=\"https://i.stack.imgur.com/6J4Os.png\" rel=\"nofollow noreferrer\">URL settings</a></p>\n<p><a href=\"https://i.stack.imgur.com/g55t0.png\" rel=\"nofollow noreferrer\">Valid connection</a></p>\n"},{"tags":[],"owner":{"account_id":17384819,"reputation":1,"user_id":12596334,"display_name":"Jaeger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677511501,"creation_date":1677143372,"answer_id":75542658,"question_id":32766114,"body_markdown":"    setTrustServerCertificate(true); \r\n\r\nWorked for me. ","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<pre><code>setTrustServerCertificate(true); \n</code></pre>\n<p>Worked for me.</p>\n"},{"tags":[],"owner":{"account_id":21954229,"reputation":31,"user_id":16233040,"display_name":"Nithin karthick"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678873443,"creation_date":1678873314,"answer_id":75742909,"question_id":32766114,"body_markdown":"I have faced this issue while connecting SQL database. Faced this issue because of incorrect JAR file. \r\n\r\nConnection URL that I used\r\n\r\n     &quot;jdbc:sqlserver://localhost:8080;databaseName=db_name;encrypt=true;trustServerCertificate=true&quot;;\r\n\r\nBefore I used **&quot;sqljdbc4-2.0.jar&quot;** JAR file, it won&#39;t work for me.\r\n\r\nOnce I changed this JAR file then it worked fine\r\n\r\n**mssql-jdbc-8.4.1.jre8.jar**","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>I have faced this issue while connecting SQL database. Faced this issue because of incorrect JAR file.</p>\n<p>Connection URL that I used</p>\n<pre><code> &quot;jdbc:sqlserver://localhost:8080;databaseName=db_name;encrypt=true;trustServerCertificate=true&quot;;\n</code></pre>\n<p>Before I used <strong>&quot;sqljdbc4-2.0.jar&quot;</strong> JAR file, it won't work for me.</p>\n<p>Once I changed this JAR file then it worked fine</p>\n<p><strong>mssql-jdbc-8.4.1.jre8.jar</strong></p>\n"},{"comments":[{"owner":{"account_id":12979921,"reputation":623,"user_id":9382725,"display_name":"Nol4635"},"score":1,"creation_date":1691273374,"post_id":76821767,"comment_id":135470284,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/late-answers/34784569)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/late-answers/34784569\">From Review</a>"}],"tags":[],"owner":{"account_id":8543734,"reputation":19,"user_id":6659239,"display_name":"Alireza Abolhasani"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690993302,"creation_date":1690992973,"answer_id":76821767,"question_id":32766114,"body_markdown":"We can find answer of this question in below page:\r\n\r\nhttps://learn.microsoft.com/en-us/sql/connect/jdbc/connecting-with-ssl-encryption?view=sql-server-ver16\r\n\r\nAnswer:&quot;;**integratedSecurity**=true;&quot; +\r\n     &quot;**encrypt**=true;**trustServerCertificate**=true&quot;;&quot;","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>We can find answer of this question in below page:</p>\n<p><a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/connecting-with-ssl-encryption?view=sql-server-ver16\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/sql/connect/jdbc/connecting-with-ssl-encryption?view=sql-server-ver16</a></p>\n<p>Answer:&quot;;<strong>integratedSecurity</strong>=true;&quot; +\n&quot;<strong>encrypt</strong>=true;<strong>trustServerCertificate</strong>=true&quot;;&quot;</p>\n"},{"tags":[],"owner":{"account_id":19317135,"reputation":177,"user_id":14121652,"display_name":"Gift Ntokozo Mavuso"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692306144,"creation_date":1692306144,"answer_id":76925107,"question_id":32766114,"body_markdown":"What ended up working for me was updating to the latest mssql jdbc driver and then making sure I use the fully qualified domain name as it appears on the SSL certificate of the SQL server.","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>What ended up working for me was updating to the latest mssql jdbc driver and then making sure I use the fully qualified domain name as it appears on the SSL certificate of the SQL server.</p>\n"}],"owner":{"account_id":1377055,"reputation":4155,"user_id":1310865,"accept_rate":50,"display_name":"2Aguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333174,"favorite_count":0,"down_vote_count":0,"up_vote_count":108,"accepted_answer_id":32766115,"answer_count":25,"score":108,"last_activity_date":1692306144,"creation_date":1443110967,"question_id":32766114,"body_markdown":"I am getting the following error when connecting to a SQL Server database using version the Microsoft JDBC Driver:\r\n\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;SQL Server returned an incomplete response. The connection has been closed. ClientConnectionId:98d0b6f4-f3ca-4683-939e-7c0a0fca5931&quot;.\r\n\r\nWe recently upgraded our applications from Java 6 &amp; Java 7 to Java 8.  All systems running Java are running SUSE Linux Enterprise Server 11 (x86_64), VERSION = 11, PATCHLEVEL = 3.\r\n\r\nHere are the facts I have collected with a Java program that I wrote which simply sequentially opens and closes 1,000 database connections.\r\n\r\n - Connections are dropped with this error about 5%-10% of the time.  The error DOES NOT occur on every connection.\r\n - The problem ONLY occurs with Java 8.  I ran the same program on Java 7 and the problem is not reproducible.  This is consistent with our experience in production prior to upgrading.  We&#39;ve had zero problems running under Java 7 in production.\r\n - The problem DOES NOT occur on all of our Linux servers running Java 8, it only occurs on some of them.  This is perplexing to me, but when I run the same test program on the same version of the Linux JVM (1.8.0_60, 64 bit) on different Linux instances, the problem does not occur on one of the Linux instances, but the problem does occur on others.  The Linux instances are running the same version of SUSE and they are at the same patch level.\r\n - The problem occurs when connecting to BOTH SQL Server 2008 and SQL Server 2014 servers/databases.\r\n - The problem occurs regardless if I am using the 4.0 version of the SQL Server JDBC driver or the newer 4.1 version of the driver.\r\n\r\nThe thing that makes my observations unique on this compared to others on the web is that although the problem happens ONLY on Java 8, I cannot get the problem to occur on one of the seemingly identical Linux servers that is running the same Java 8 JVM.  Other folks have seen this problem on earlier versions of Java as well, but that has not been our experience.\r\n\r\nAny input, suggestions, or observations you may have are appreciated.\r\n\r\n\r\n\r\n","title":"SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>I am getting the following error when connecting to a SQL Server database using version the Microsoft JDBC Driver:</p>\n\n<blockquote>\n  <p>com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: \"SQL Server returned an incomplete response. The connection has been closed. ClientConnectionId:98d0b6f4-f3ca-4683-939e-7c0a0fca5931\".</p>\n</blockquote>\n\n<p>We recently upgraded our applications from Java 6 &amp; Java 7 to Java 8.  All systems running Java are running SUSE Linux Enterprise Server 11 (x86_64), VERSION = 11, PATCHLEVEL = 3.</p>\n\n<p>Here are the facts I have collected with a Java program that I wrote which simply sequentially opens and closes 1,000 database connections.</p>\n\n<ul>\n<li>Connections are dropped with this error about 5%-10% of the time.  The error DOES NOT occur on every connection.</li>\n<li>The problem ONLY occurs with Java 8.  I ran the same program on Java 7 and the problem is not reproducible.  This is consistent with our experience in production prior to upgrading.  We've had zero problems running under Java 7 in production.</li>\n<li>The problem DOES NOT occur on all of our Linux servers running Java 8, it only occurs on some of them.  This is perplexing to me, but when I run the same test program on the same version of the Linux JVM (1.8.0_60, 64 bit) on different Linux instances, the problem does not occur on one of the Linux instances, but the problem does occur on others.  The Linux instances are running the same version of SUSE and they are at the same patch level.</li>\n<li>The problem occurs when connecting to BOTH SQL Server 2008 and SQL Server 2014 servers/databases.</li>\n<li>The problem occurs regardless if I am using the 4.0 version of the SQL Server JDBC driver or the newer 4.1 version of the driver.</li>\n</ul>\n\n<p>The thing that makes my observations unique on this compared to others on the web is that although the problem happens ONLY on Java 8, I cannot get the problem to occur on one of the seemingly identical Linux servers that is running the same Java 8 JVM.  Other folks have seen this problem on earlier versions of Java as well, but that has not been our experience.</p>\n\n<p>Any input, suggestions, or observations you may have are appreciated.</p>\n"},{"tags":["java","logging","configuration","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692305988,"creation_date":1692300734,"answer_id":76924586,"question_id":76919416,"body_markdown":"A Log4j [`Message`](https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/message/Message.html) is composed of:\r\n - a format and some parameters, which are interpolated to give you a formatted message. In your case it is:\r\n   ```\r\n   Initiating transaction rollback on application exception\r\n   ```\r\n - an optional `Throwable` that is formatted similarly to `Throwable#printStackTrace()`:\r\n   ```\r\n   javax.jms.IllegalStateException: JMS-131: Session is closed\r\n       at oracle.jms.AQjmsError.throwIllegalStateEx(AQjmsError.java:514) ~[aqapi-12.2.0.1.0.jar:?]\r\n       at oracle.jms.AQjmsSession.checkSessionStarted(AQjmsSession.java:5521) ~[aqapi-12.2.0.1.0.jar:?]\r\n       at oracle.jms.AQjmsSession.getTransacted(AQjmsSession.java:1015) ~[aqapi-12.2.0.1.0.jar:?]\r\n   ```\r\n\r\nThe `RegexFilter` (cf. [documentation](https://logging.apache.org/log4j/2.x/manual/filters.html#RegexFilter)) only matches the formatted (or unformatted) message. The throwable is not used by this filter or any other of the standard filters.\r\n\r\nFortunately Log4j Core is very extensible and writing a new filter is a couple dozen lines:\r\n```lang-java\r\n@Plugin(name = &quot;ThrowableMessageFilter&quot;, category = Node.CATEGORY, elementType = Filter.ELEMENT_TYPE)\r\npublic class ThrowableMessageFilter extends AbstractFilter {\r\n\r\n    @PluginFactory\r\n    public static ThrowableMessageFilter createFilter(@PluginAttribute(&quot;regex&quot;) final String regex,\r\n            @PluginAttribute(&quot;onMatch&quot;) final Result onMatch, @PluginAttribute(&quot;onMismatch&quot;) final Result onMismatch) {\r\n        if (regex == null) {\r\n            LOGGER.error(&quot;A regular expression must be provided for ThrowableMessageFilter&quot;);\r\n            return null;\r\n        }\r\n        return new ThrowableMessageFilter(Pattern.compile(regex), onMatch, onMismatch);\r\n    }\r\n\r\n    private final Pattern pattern;\r\n\r\n    private ThrowableMessageFilter(final Pattern pattern, final Result onMatch, final Result onMismatch) {\r\n        super(onMatch, onMismatch);\r\n        this.pattern = pattern;\r\n    }\r\n\r\n    private Result filter(final String message) {\r\n        if (message == null) {\r\n            return onMismatch;\r\n        }\r\n        final Matcher m = pattern.matcher(message);\r\n        return m.matches() ? onMatch : onMismatch;\r\n    }\r\n\r\n    @Override\r\n    public Result filter(LogEvent event) {\r\n        final Throwable t = event.getThrown();\r\n        return t != null ? filter(t.getMessage()) : onMismatch;\r\n    }\r\n}\r\n```\r\n\r\nYou can then use it as:\r\n```lang-xml\r\n&lt;Logger name=&quot;oracle.jms.AQjmsError&quot; additivity=&quot;false&quot;&gt;\r\n  &lt;AppenderRef ref=&quot;OtherFile&quot;&gt;\r\n    &lt;ThrowableMessageFilter regex=&quot;.*JMS-131.*&quot;\r\n                            onMatch=&quot;ACCEPT&quot;\r\n                            onMismatch=&quot;DENY&quot;/&gt;\r\n  &lt;/AppenderRef&gt;\r\n&lt;/Logger&gt;\r\n```\r\n&lt;/Logger&gt;\r\n\r\n**Edit:** For a temporary solution you can also use `ScriptFilter` (cf. [documentation](https://logging.apache.org/log4j/2.x/manual/filters.html#Script)). To use it you need:\r\n * a scripting engine like [Nashorn](https://github.com/openjdk/nashorn), which was available up to JRE 14 and is available standalone for JRE 15+,\r\n * add the scripting language used to the list of allowed languages by listing it in the system property `log4j2.scriptEnableLanguages` (e.g. by adding `-Dlog4j2.scriptEnableLanguages=javascript` to the JVM arguments),\r\n * write a script to match your exception, e.g.:\r\n   ```lang-xml\r\n   &lt;ScriptFilter onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;&gt;\r\n     &lt;Script language=&quot;javascript&quot;&gt;&lt;![CDATA[\r\n       var t = logEvent.getThrown();\r\n       if (t != null) {\r\n         var m = t.getMessage();\r\n         m != null ? m.contains(&quot;JMS-131&quot;) : false;\r\n       } else {\r\n         false;\r\n       }\r\n     ]]&gt;&lt;/Script&gt;\r\n   &lt;/ScriptFilter&gt;\r\n   ```","title":"Log4j - How to log specific exception into a separate file?","body":"<p>A Log4j <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/message/Message.html\" rel=\"nofollow noreferrer\"><code>Message</code></a> is composed of:</p>\n<ul>\n<li>a format and some parameters, which are interpolated to give you a formatted message. In your case it is:\n<pre><code>Initiating transaction rollback on application exception\n</code></pre>\n</li>\n<li>an optional <code>Throwable</code> that is formatted similarly to <code>Throwable#printStackTrace()</code>:\n<pre><code>javax.jms.IllegalStateException: JMS-131: Session is closed\n    at oracle.jms.AQjmsError.throwIllegalStateEx(AQjmsError.java:514) ~[aqapi-12.2.0.1.0.jar:?]\n    at oracle.jms.AQjmsSession.checkSessionStarted(AQjmsSession.java:5521) ~[aqapi-12.2.0.1.0.jar:?]\n    at oracle.jms.AQjmsSession.getTransacted(AQjmsSession.java:1015) ~[aqapi-12.2.0.1.0.jar:?]\n</code></pre>\n</li>\n</ul>\n<p>The <code>RegexFilter</code> (cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/filters.html#RegexFilter\" rel=\"nofollow noreferrer\">documentation</a>) only matches the formatted (or unformatted) message. The throwable is not used by this filter or any other of the standard filters.</p>\n<p>Fortunately Log4j Core is very extensible and writing a new filter is a couple dozen lines:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Plugin(name = &quot;ThrowableMessageFilter&quot;, category = Node.CATEGORY, elementType = Filter.ELEMENT_TYPE)\npublic class ThrowableMessageFilter extends AbstractFilter {\n\n    @PluginFactory\n    public static ThrowableMessageFilter createFilter(@PluginAttribute(&quot;regex&quot;) final String regex,\n            @PluginAttribute(&quot;onMatch&quot;) final Result onMatch, @PluginAttribute(&quot;onMismatch&quot;) final Result onMismatch) {\n        if (regex == null) {\n            LOGGER.error(&quot;A regular expression must be provided for ThrowableMessageFilter&quot;);\n            return null;\n        }\n        return new ThrowableMessageFilter(Pattern.compile(regex), onMatch, onMismatch);\n    }\n\n    private final Pattern pattern;\n\n    private ThrowableMessageFilter(final Pattern pattern, final Result onMatch, final Result onMismatch) {\n        super(onMatch, onMismatch);\n        this.pattern = pattern;\n    }\n\n    private Result filter(final String message) {\n        if (message == null) {\n            return onMismatch;\n        }\n        final Matcher m = pattern.matcher(message);\n        return m.matches() ? onMatch : onMismatch;\n    }\n\n    @Override\n    public Result filter(LogEvent event) {\n        final Throwable t = event.getThrown();\n        return t != null ? filter(t.getMessage()) : onMismatch;\n    }\n}\n</code></pre>\n<p>You can then use it as:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Logger name=&quot;oracle.jms.AQjmsError&quot; additivity=&quot;false&quot;&gt;\n  &lt;AppenderRef ref=&quot;OtherFile&quot;&gt;\n    &lt;ThrowableMessageFilter regex=&quot;.*JMS-131.*&quot;\n                            onMatch=&quot;ACCEPT&quot;\n                            onMismatch=&quot;DENY&quot;/&gt;\n  &lt;/AppenderRef&gt;\n&lt;/Logger&gt;\n</code></pre>\n\n<p><strong>Edit:</strong> For a temporary solution you can also use <code>ScriptFilter</code> (cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/filters.html#Script\" rel=\"nofollow noreferrer\">documentation</a>). To use it you need:</p>\n<ul>\n<li>a scripting engine like <a href=\"https://github.com/openjdk/nashorn\" rel=\"nofollow noreferrer\">Nashorn</a>, which was available up to JRE 14 and is available standalone for JRE 15+,</li>\n<li>add the scripting language used to the list of allowed languages by listing it in the system property <code>log4j2.scriptEnableLanguages</code> (e.g. by adding <code>-Dlog4j2.scriptEnableLanguages=javascript</code> to the JVM arguments),</li>\n<li>write a script to match your exception, e.g.:\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ScriptFilter onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;&gt;\n  &lt;Script language=&quot;javascript&quot;&gt;&lt;![CDATA[\n    var t = logEvent.getThrown();\n    if (t != null) {\n      var m = t.getMessage();\n      m != null ? m.contains(&quot;JMS-131&quot;) : false;\n    } else {\n      false;\n    }\n  ]]&gt;&lt;/Script&gt;\n&lt;/ScriptFilter&gt;\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":29241961,"reputation":1,"user_id":22403259,"display_name":"Display"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692305988,"creation_date":1692258221,"question_id":76919416,"body_markdown":"I&#39;m using a java application with apache tomcat, if a specific camel exception occurs then need to log it into a separate log file.\r\n\r\nFor example, the running log **(app.log)**, if specific exception **(JMS-131)** occurs then need to log it into a separate log file **(excp.log)**\r\n\r\n**log4j2 configuration**\r\n\r\n```\r\n&lt;Configuration status=&quot;DEBUG&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;LogToConsole&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n        &lt;/Console&gt;        \r\n        &lt;RollingFile name=&quot;LogToRollingFile&quot; fileName=&quot;logs/app.log&quot;\r\n                     filePattern=&quot;logs/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy/&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;100&quot;/&gt;\r\n        &lt;/RollingFile&gt;\r\n        &lt;RollingFile name=&quot;OtherFile&quot; fileName=&quot;logs/excp.log&quot;\r\n                     filePattern=&quot;logs/$${date:yyyy-MM}/excp-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy/&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;100&quot;/&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;com.test&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;LogToRollingFile&quot;/&gt;\r\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;logger name=&quot;oracle.jms.AQjmsError&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;OtherFile&quot;/&gt;\r\n\t&lt;/logger&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\n**app.log**\r\n\r\n```\r\norg.apache.camel.component.jms.DefaultJmsMessageListenerContainer [] - Initiating transaction rollback on listener exception\r\njavax.jms.IllegalStateException: JMS-131: Session is closed\r\n\tat oracle.jms.AQjmsError.throwIllegalStateEx(AQjmsError.java:514) ~[aqapi-12.2.0.1.0.jar:?]\r\n\tat oracle.jms.AQjmsSession.checkSessionStarted(AQjmsSession.java:5521) ~[aqapi-12.2.0.1.0.jar:?]\r\n\tat oracle.jms.AQjmsSession.getTransacted(AQjmsSession.java:1015) ~[aqapi-12.2.0.1.0.jar:?]\r\n```\r\n\r\nI&#39;ve tried using filter, RegexFilter &amp; routing appenders but nothing seems to work as expected. All I&#39;m able to achieve was to exclude the specific exception from the log.  \r\n  \r\nI&#39;m very new to this &amp; any help would be really appreciated. Thanks in advance!","title":"Log4j - How to log specific exception into a separate file?","body":"<p>I'm using a java application with apache tomcat, if a specific camel exception occurs then need to log it into a separate log file.</p>\n<p>For example, the running log <strong>(app.log)</strong>, if specific exception <strong>(JMS-131)</strong> occurs then need to log it into a separate log file <strong>(excp.log)</strong></p>\n<p><strong>log4j2 configuration</strong></p>\n<pre><code>&lt;Configuration status=&quot;DEBUG&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;LogToConsole&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n        &lt;/Console&gt;        \n        &lt;RollingFile name=&quot;LogToRollingFile&quot; fileName=&quot;logs/app.log&quot;\n                     filePattern=&quot;logs/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy/&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot;/&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;100&quot;/&gt;\n        &lt;/RollingFile&gt;\n        &lt;RollingFile name=&quot;OtherFile&quot; fileName=&quot;logs/excp.log&quot;\n                     filePattern=&quot;logs/$${date:yyyy-MM}/excp-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy/&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot;/&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;100&quot;/&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;com.test&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LogToRollingFile&quot;/&gt;\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;logger name=&quot;oracle.jms.AQjmsError&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;OtherFile&quot;/&gt;\n    &lt;/logger&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;LogToConsole&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p><strong>app.log</strong></p>\n<pre><code>org.apache.camel.component.jms.DefaultJmsMessageListenerContainer [] - Initiating transaction rollback on listener exception\njavax.jms.IllegalStateException: JMS-131: Session is closed\n    at oracle.jms.AQjmsError.throwIllegalStateEx(AQjmsError.java:514) ~[aqapi-12.2.0.1.0.jar:?]\n    at oracle.jms.AQjmsSession.checkSessionStarted(AQjmsSession.java:5521) ~[aqapi-12.2.0.1.0.jar:?]\n    at oracle.jms.AQjmsSession.getTransacted(AQjmsSession.java:1015) ~[aqapi-12.2.0.1.0.jar:?]\n</code></pre>\n<p>I've tried using filter, RegexFilter &amp; routing appenders but nothing seems to work as expected. All I'm able to achieve was to exclude the specific exception from the log.</p>\n<p>I'm very new to this &amp; any help would be really appreciated. Thanks in advance!</p>\n"},{"tags":["java","spring","spring-security","oauth-2.0"],"answers":[{"comments":[{"owner":{"account_id":4192655,"reputation":341,"user_id":3434906,"display_name":"Dec0de"},"score":0,"creation_date":1692298151,"post_id":76923411,"comment_id":135607882,"body_markdown":"Andrei, thank you for your response. I citated that part of the docs in my question, but ultimately can&#39;t grasp it :-(\nAs it stated: &quot;Resource Server will use this property to ...subsequently validate incoming JWTs&quot;. \nSo, does it meants that Resource Server will validate incoming JWTs [LOCALLY BY ITSELF], without querying OAuth for every check? So its just queries the keys once for local processing then.\nIn my opinion, the validation could just be proxied to the Authorization server instead of locally checking.","body":"Andrei, thank you for your response. I citated that part of the docs in my question, but ultimately can&#39;t grasp it :-( As it stated: &quot;Resource Server will use this property to ...subsequently validate incoming JWTs&quot;.  So, does it meants that Resource Server will validate incoming JWTs [LOCALLY BY ITSELF], without querying OAuth for every check? So its just queries the keys once for local processing then. In my opinion, the validation could just be proxied to the Authorization server instead of locally checking."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692300061,"post_id":76923411,"comment_id":135608241,"body_markdown":"i think that`s on oAuth2.0 side for more information you can check here [rfc7662](https://www.rfc-editor.org/rfc/rfc7662)","body":"i think that`s on oAuth2.0 side for more information you can check here <a href=\"https://www.rfc-editor.org/rfc/rfc7662\" rel=\"nofollow noreferrer\">rfc7662</a>"}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692293290,"creation_date":1692289622,"answer_id":76923411,"question_id":76923238,"body_markdown":"According to documentation: [resource-server][1]:\r\n     \r\nResource Server will use this property(`issuer-uri:`) to further self-configure, discover the authorization servers public keys, and subsequently validate incoming JWTs.\r\n\r\nIf Resource Server must be able to start up independently from the authorization server, then the `jwk-set-uri` can be supplied.\r\n\r\nI think that I give answers to your question for more details, read in your own documentation about resource server provided above there is a good explanation with examples.\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html","title":"Spring Security + OAuth: settings for local JWT validation","body":"<p>According to documentation: <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html\" rel=\"nofollow noreferrer\">resource-server</a>:</p>\n<p>Resource Server will use this property(<code>issuer-uri:</code>) to further self-configure, discover the authorization servers public keys, and subsequently validate incoming JWTs.</p>\n<p>If Resource Server must be able to start up independently from the authorization server, then the <code>jwk-set-uri</code> can be supplied.</p>\n<p>I think that I give answers to your question for more details, read in your own documentation about resource server provided above there is a good explanation with examples.</p>\n"},{"comments":[{"owner":{"account_id":4192655,"reputation":341,"user_id":3434906,"display_name":"Dec0de"},"score":0,"creation_date":1692304441,"post_id":76924168,"comment_id":135608944,"body_markdown":"Ch4mp, thank you for the detailed explanation! Thank you for pointing me on your tutorials and showing me other errors, I will fix this soon.\nBtw, for the sake of truth, I paused Keycloak&#39;s container, and ultimately my Resource Server is still able to validate the token. So, definitely, there is no excess additional roundtrip for every request, as you stated above.","body":"Ch4mp, thank you for the detailed explanation! Thank you for pointing me on your tutorials and showing me other errors, I will fix this soon. Btw, for the sake of truth, I paused Keycloak&#39;s container, and ultimately my Resource Server is still able to validate the token. So, definitely, there is no excess additional roundtrip for every request, as you stated above."}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692305690,"creation_date":1692296247,"answer_id":76924168,"question_id":76923238,"body_markdown":"When used alone, `issuer-uri` serves two purposes:\r\n- discover OpenID configuration (which usually stands at `{issuer-uri}/.well-known/openid-configuration`), read the JWKS endpoint URI from it, and then fetch public keys\r\n- setup an issuer validator in the JWT decoder: if the value of the `iss` claim in the token does not match exactly what is configured, an exception is thrown (even trailing slash, if any, is important).\r\n\r\nWhen `jwk-set-uri` is provided, public keys are fetched using it, whatever is configured as `issuer-uri` (which can be omitted, in which case the JWT decoder won&#39;t validate the issuer). **But tokens are still validated with a JWT decoder, so you are wrong when thinking that a round-trip to the authorization server is made for every request when you set `jwk-set-uri`.** This round-trip happens when you use access token introspection (instead of JWT decoding) or if you explicitly wire it in the authentication converter or manager (for instance use a REST client to call Keycloak&#39;s authorization service).\r\n\r\nIn my opinion, you should validate issuer, and therefore, provide with `issuer-uri`. In that case, you need to provide a `jwk-set-uri` only if, because of your network configuration, the resource server can&#39;t reach the authorization server using what it sets as audience claim (this happens when authorization server is misconfigured and puts a `localhost` URI as audience in a containerized environment). So, in the case of your configuration (where you reuse `issuer-uri` to define `jwk-set-uri`), just remove the `jwk-set-uri`, it will be inferred from OpenID configuration.\r\n\r\nP.S.\r\n\r\nAs already written in another question, you would really save time and efforts reading [my tutorials][1]: your resource server config still has a reference to `/login` (which it should not), CSRF protection is disabled but sessions are still enabled (this is a very bad idea), you are not explicitly returning 401 for unauthorized requests (default is 302 redirect to login which is non-sense for a resource server), there is nothing about CORS configuration which is something you&#39;ll probably bump into, and to finish, my guess is you still haven&#39;t written a serious `keykloakJwtAuthConverter`.\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials","title":"Spring Security + OAuth: settings for local JWT validation","body":"<p>When used alone, <code>issuer-uri</code> serves two purposes:</p>\n<ul>\n<li>discover OpenID configuration (which usually stands at <code>{issuer-uri}/.well-known/openid-configuration</code>), read the JWKS endpoint URI from it, and then fetch public keys</li>\n<li>setup an issuer validator in the JWT decoder: if the value of the <code>iss</code> claim in the token does not match exactly what is configured, an exception is thrown (even trailing slash, if any, is important).</li>\n</ul>\n<p>When <code>jwk-set-uri</code> is provided, public keys are fetched using it, whatever is configured as <code>issuer-uri</code> (which can be omitted, in which case the JWT decoder won't validate the issuer). <strong>But tokens are still validated with a JWT decoder, so you are wrong when thinking that a round-trip to the authorization server is made for every request when you set <code>jwk-set-uri</code>.</strong> This round-trip happens when you use access token introspection (instead of JWT decoding) or if you explicitly wire it in the authentication converter or manager (for instance use a REST client to call Keycloak's authorization service).</p>\n<p>In my opinion, you should validate issuer, and therefore, provide with <code>issuer-uri</code>. In that case, you need to provide a <code>jwk-set-uri</code> only if, because of your network configuration, the resource server can't reach the authorization server using what it sets as audience claim (this happens when authorization server is misconfigured and puts a <code>localhost</code> URI as audience in a containerized environment). So, in the case of your configuration (where you reuse <code>issuer-uri</code> to define <code>jwk-set-uri</code>), just remove the <code>jwk-set-uri</code>, it will be inferred from OpenID configuration.</p>\n<p>P.S.</p>\n<p>As already written in another question, you would really save time and efforts reading <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials\" rel=\"nofollow noreferrer\">my tutorials</a>: your resource server config still has a reference to <code>/login</code> (which it should not), CSRF protection is disabled but sessions are still enabled (this is a very bad idea), you are not explicitly returning 401 for unauthorized requests (default is 302 redirect to login which is non-sense for a resource server), there is nothing about CORS configuration which is something you'll probably bump into, and to finish, my guess is you still haven't written a serious <code>keykloakJwtAuthConverter</code>.</p>\n"}],"owner":{"account_id":4192655,"reputation":341,"user_id":3434906,"display_name":"Dec0de"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":707,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76924168,"answer_count":2,"score":1,"last_activity_date":1692305690,"creation_date":1692288225,"question_id":76923238,"body_markdown":"I&#39;m building microservices app, secured by Keycloak and want to secure each microservice. It was written here many times, that it&#39;s not a good idea to query Auth service (Keycloak - in my case) for every time you want to validate your token. So it&#39;s better to validate a signature locally, as soon as your request passes through API-Gateway to the microservices.\r\n\r\nSo, I want to setup my Spring-app this way. \r\n\r\n**Am I right stating that:**\r\n1. `jwt.jwk-set-uri` parameter is responsible for checking JWT keys locally. So when I&#39;m setting up this, open keys will be fetched from Keycloak&#39;s endpoint for the future checking of JWT-signature validity offline. Without accessing Keycloak&#39;s server per every check.\r\n2. If I set `issuer-uri` without `jwk-set-uri` there will be only on-line JWT-check per every request.\r\n\r\nIf all of above mentioned is false, please describe the right way in your opinion.\r\nUnfortunately, the [Spring&#39;s doc][1] is not so verbose on this, stating that:\r\n\r\n&gt; Consequently, Resource Server will not ping the authorization server at startup. We still specify the issuer-uri so that Resource Server still validates the iss claim on incoming JWTs.\r\n\r\nThe config I&#39;m talking about is here(application.yaml):\r\n```\r\n  security:\r\n    oauth2:\r\n      resourceserver:\r\n        jwt:\r\n          issuer-uri: http://localhost:3000/realms/msapp\r\n          jwk-set-uri: ${spring.security.oauth2.resourceserver.jwt.issuer-uri}/protocol/openid-connect/certs\r\n```\r\nSecurityConfig\r\n``` \r\n@EnableWebFluxSecurity\r\n@EnableReactiveMethodSecurity()\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\r\n        http\r\n            .csrf().disable()\r\n            .authorizeExchange()\r\n                .pathMatchers(&quot;/login&quot;).permitAll()\r\n            .anyExchange()\r\n                .authenticated().and()\r\n            .oauth2ResourceServer() \r\n                .jwt()\r\n                .jwtAuthenticationConverter(keykloakJwtAuthConverter());\r\n        return http.build();\r\n    }\r\n``` \r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/5.2.12.RELEASE/reference/html/oauth2.html","title":"Spring Security + OAuth: settings for local JWT validation","body":"<p>I'm building microservices app, secured by Keycloak and want to secure each microservice. It was written here many times, that it's not a good idea to query Auth service (Keycloak - in my case) for every time you want to validate your token. So it's better to validate a signature locally, as soon as your request passes through API-Gateway to the microservices.</p>\n<p>So, I want to setup my Spring-app this way.</p>\n<p><strong>Am I right stating that:</strong></p>\n<ol>\n<li><code>jwt.jwk-set-uri</code> parameter is responsible for checking JWT keys locally. So when I'm setting up this, open keys will be fetched from Keycloak's endpoint for the future checking of JWT-signature validity offline. Without accessing Keycloak's server per every check.</li>\n<li>If I set <code>issuer-uri</code> without <code>jwk-set-uri</code> there will be only on-line JWT-check per every request.</li>\n</ol>\n<p>If all of above mentioned is false, please describe the right way in your opinion.\nUnfortunately, the <a href=\"https://docs.spring.io/spring-security/site/docs/5.2.12.RELEASE/reference/html/oauth2.html\" rel=\"nofollow noreferrer\">Spring's doc</a> is not so verbose on this, stating that:</p>\n<blockquote>\n<p>Consequently, Resource Server will not ping the authorization server at startup. We still specify the issuer-uri so that Resource Server still validates the iss claim on incoming JWTs.</p>\n</blockquote>\n<p>The config I'm talking about is here(application.yaml):</p>\n<pre><code>  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          issuer-uri: http://localhost:3000/realms/msapp\n          jwk-set-uri: ${spring.security.oauth2.resourceserver.jwt.issuer-uri}/protocol/openid-connect/certs\n</code></pre>\n<p>SecurityConfig</p>\n<pre><code>@EnableWebFluxSecurity\n@EnableReactiveMethodSecurity()\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\n        http\n            .csrf().disable()\n            .authorizeExchange()\n                .pathMatchers(&quot;/login&quot;).permitAll()\n            .anyExchange()\n                .authenticated().and()\n            .oauth2ResourceServer() \n                .jwt()\n                .jwtAuthenticationConverter(keykloakJwtAuthConverter());\n        return http.build();\n    }\n</code></pre>\n"},{"tags":["java","smartgwt"],"owner":{"account_id":23528839,"reputation":109,"user_id":17630064,"display_name":"Norida Olivera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692304829,"creation_date":1692304829,"question_id":76924983,"body_markdown":"I have a test environment with the BuiltInDs project that uses the following components:\r\n - JDK 1.8 \r\n - SmartGWT Eval v13.0p_2023-08-16  \r\n\r\nIn the BuiltInDs project we added a formula field and modified the setCanFilter attribute so that it can be filtered, but when we try to filter and switch to another field we get a dot in the formula field filter.\r\nHere I attach a video of the behavior and the part of the code where we add the new field:\r\n\r\n[FormulaField][1]\r\n\r\n[![Code][2]][2]\r\n\r\n\r\n  [1]: https://youtu.be/yW_G9Gk0h3w\r\n  [2]: https://i.stack.imgur.com/2iajT.png","title":"Filters formula fields smartGWT13","body":"<p>I have a test environment with the BuiltInDs project that uses the following components:</p>\n<ul>\n<li>JDK 1.8</li>\n<li>SmartGWT Eval v13.0p_2023-08-16</li>\n</ul>\n<p>In the BuiltInDs project we added a formula field and modified the setCanFilter attribute so that it can be filtered, but when we try to filter and switch to another field we get a dot in the formula field filter.\nHere I attach a video of the behavior and the part of the code where we add the new field:</p>\n<p><a href=\"https://youtu.be/yW_G9Gk0h3w\" rel=\"nofollow noreferrer\">FormulaField</a></p>\n<p><a href=\"https://i.stack.imgur.com/2iajT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2iajT.png\" alt=\"Code\" /></a></p>\n"},{"tags":["java","spring-boot","liquibase"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1692305735,"post_id":76924865,"comment_id":135609176,"body_markdown":"In short, no, not in the automated ways your updates are applied anyway.","body":"In short, no, not in the automated ways your updates are applied anyway."}],"owner":{"account_id":16165507,"reputation":1,"user_id":11670582,"display_name":"Ahmed Essam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692303638,"creation_date":1692303638,"question_id":76924865,"body_markdown":"I&#39;m trying to run liquibase from spring boot jar unzip using maven command to get the liquibase maven plugin\r\n\r\nfor example \r\n\r\nmy jar like this xyz.jar and run this jar like this java -jar xyz.jar\r\nnow i wont to run liquibase rollback befour run the previous verison for xyz.jar.","title":"Can run liquibase rollback using command line out project path or using spring boot jar without unzip?","body":"<p>I'm trying to run liquibase from spring boot jar unzip using maven command to get the liquibase maven plugin</p>\n<p>for example</p>\n<p>my jar like this xyz.jar and run this jar like this java -jar xyz.jar\nnow i wont to run liquibase rollback befour run the previous verison for xyz.jar.</p>\n"},{"tags":["java","unit-testing","mockito","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":14822168,"reputation":38,"user_id":10704082,"display_name":"Israel Oluwole"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692303583,"creation_date":1692303583,"answer_id":76924857,"question_id":76919277,"body_markdown":"I used the @SpyBean annotation on the targetted service like so\r\n\r\n```java\r\n    ...\r\n    @Autowired\r\n    @SpyBean\r\n    private FirebaseService firebaseService\r\n    ...\r\n\r\n    ...\r\n    doReturn(...).when(firebaseService).doSomething();\r\n    ...\r\n```","title":"How do I fix java.lang.IllegalStateException: Failed to unwrap proxied object error","body":"<p>I used the @SpyBean annotation on the targetted service like so</p>\n<pre class=\"lang-java prettyprint-override\"><code>    ...\n    @Autowired\n    @SpyBean\n    private FirebaseService firebaseService\n    ...\n\n    ...\n    doReturn(...).when(firebaseService).doSomething();\n    ...\n</code></pre>\n"}],"owner":{"account_id":14822168,"reputation":38,"user_id":10704082,"display_name":"Israel Oluwole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692303583,"creation_date":1692256975,"question_id":76919277,"body_markdown":"I have this sample implementation and test but I get the error\r\n\r\n```\r\njava.lang.IllegalStateException: Failed to unwrap proxied object\r\n...\r\nE.g. thenReturn() may be missing.\r\nExamples of correct stubbing:\r\n    when(mock.isOk()).thenReturn(true);\r\n    when(mock.isOk()).thenThrow(exception);\r\n    doThrow(exception).when(mock).someVoidMethod();\r\nHints:\r\n 1. missing thenReturn()\r\n 2. you are trying to stub a final method, which is not supported\r\n 3. you are stubbing the behaviour of another mock inside before &#39;thenReturn&#39; instruction is completed\r\n...\r\n```\r\n\r\n```java\r\n...\r\n\r\n@Service\r\npublic class FirebaseService {\r\n    ...\r\n\r\n    public FirebaseService(...) {\r\n        ...\r\n    }\r\n\r\n\r\n    public FirebaseApp initializeApp() {\r\n\r\n        try {\r\n            ...\r\n            InputStream inputStream = getServiceAccountFileInputStream();\r\n            ...\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n\r\n    public InputStream getServiceAccountFileInputStream() throws IOException {\r\n        ...\r\n    }\r\n}\r\n\r\n...\r\n\r\n@ExtendWith(SpringExtension.class)\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\npublic class FirebaseServiceTest {\r\n\r\n    ...\r\n    @Autowired\r\n    private FirebaseService firebaseService;\r\n    ...\r\n\r\n    @Test\r\n    public void whenGetAppIsEmpty_thenReturnFirebaseAppInstanceFromInitializeApp() throws IOException {\r\n        ...\r\n        InputStream inputStream = mock(InputStream.class);\r\n        ...\r\n        FirebaseService firebaseServiceSpy = spy(firebaseService);\r\n\r\n// Specifically at this point       \r\ndoReturn(FileInputStream.nullInputStream()).when(firebaseServiceSpy).getServiceAccountFileInputStream();\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nI am new to testing so I appreciate the help of anyone that can help me realize what I have done wrong.\r\nThank you\r\n\r\nI tried spying on the autowired dependency like this and I am expecting the method to return the null input stream...\r\n\r\n```java\r\n...\r\nFirebaseService firebaseServiceSpy = spy(firebaseService);\r\ndoReturn(FileInputStream.nullInputStream()).when(firebaseServiceSpy).getServiceAccountFileInputStream();\r\n...\r\n```","title":"How do I fix java.lang.IllegalStateException: Failed to unwrap proxied object error","body":"<p>I have this sample implementation and test but I get the error</p>\n<pre><code>java.lang.IllegalStateException: Failed to unwrap proxied object\n...\nE.g. thenReturn() may be missing.\nExamples of correct stubbing:\n    when(mock.isOk()).thenReturn(true);\n    when(mock.isOk()).thenThrow(exception);\n    doThrow(exception).when(mock).someVoidMethod();\nHints:\n 1. missing thenReturn()\n 2. you are trying to stub a final method, which is not supported\n 3. you are stubbing the behaviour of another mock inside before 'thenReturn' instruction is completed\n...\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>...\n\n@Service\npublic class FirebaseService {\n    ...\n\n    public FirebaseService(...) {\n        ...\n    }\n\n\n    public FirebaseApp initializeApp() {\n\n        try {\n            ...\n            InputStream inputStream = getServiceAccountFileInputStream();\n            ...\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n\n    public InputStream getServiceAccountFileInputStream() throws IOException {\n        ...\n    }\n}\n\n...\n\n@ExtendWith(SpringExtension.class)\n@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class FirebaseServiceTest {\n\n    ...\n    @Autowired\n    private FirebaseService firebaseService;\n    ...\n\n    @Test\n    public void whenGetAppIsEmpty_thenReturnFirebaseAppInstanceFromInitializeApp() throws IOException {\n        ...\n        InputStream inputStream = mock(InputStream.class);\n        ...\n        FirebaseService firebaseServiceSpy = spy(firebaseService);\n\n// Specifically at this point       \ndoReturn(FileInputStream.nullInputStream()).when(firebaseServiceSpy).getServiceAccountFileInputStream();\n        ...\n    }\n}\n</code></pre>\n<p>I am new to testing so I appreciate the help of anyone that can help me realize what I have done wrong.\nThank you</p>\n<p>I tried spying on the autowired dependency like this and I am expecting the method to return the null input stream...</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nFirebaseService firebaseServiceSpy = spy(firebaseService);\ndoReturn(FileInputStream.nullInputStream()).when(firebaseServiceSpy).getServiceAccountFileInputStream();\n...\n</code></pre>\n"},{"tags":["java","eclipse","ubuntu"],"answers":[{"tags":[],"owner":{"account_id":8198,"reputation":176803,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1221620901,"creation_date":1221620901,"answer_id":79551,"question_id":79538,"body_markdown":"The Scanner class is new in Java 5. I do not know what Hardy&#39;s default Java environment is, but it is not Sun&#39;s and therefore may be outdated.\r\n\r\nI recommend installing the package sun-java6-jdk to get the most up-to-date version, then telling Eclipse to use it.","title":"Scanner cannot be resolved to a type","body":"<p>The Scanner class is new in Java 5. I do not know what Hardy's default Java environment is, but it is not Sun's and therefore may be outdated.</p>\n\n<p>I recommend installing the package sun-java6-jdk to get the most up-to-date version, then telling Eclipse to use it.</p>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221633722,"creation_date":1221621010,"answer_id":79557,"question_id":79538,"body_markdown":"If you are using a version of Java before 1.5, java.util.Scanner doesn&#39;t exist.\r\n\r\nWhich version of the JDK is your Eclipse project set up to use?\r\n\r\nHave a look at Project, Properties, Java Build Path -- look for the &#39;JRE System Library&#39; entry, which should have a version number next to it.","title":"Scanner cannot be resolved to a type","body":"<p>If you are using a version of Java before 1.5, java.util.Scanner doesn't exist.</p>\n\n<p>Which version of the JDK is your Eclipse project set up to use?</p>\n\n<p>Have a look at Project, Properties, Java Build Path -- look for the 'JRE System Library' entry, which should have a version number next to it.</p>\n"},{"tags":[],"owner":{"account_id":1425,"reputation":8501,"user_id":1900,"accept_rate":84,"display_name":"Lee Theobald"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221653880,"creation_date":1221653880,"answer_id":82475,"question_id":79538,"body_markdown":"It could also be that although you are have JDK 1.5 or higher, the project has some specific settings set that tell it to compile as 1.4.  You can test this via Project &gt;&gt; Properties &gt;&gt; Java Compiler and ensure the &quot;Compiler Compliance Level&quot; is set to 1.5 or higher.","title":"Scanner cannot be resolved to a type","body":"<p>It could also be that although you are have JDK 1.5 or higher, the project has some specific settings set that tell it to compile as 1.4.  You can test this via Project >> Properties >> Java Compiler and ensure the \"Compiler Compliance Level\" is set to 1.5 or higher.</p>\n"},{"tags":[],"owner":{"display_name":"h3lium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692303352,"creation_date":1232731934,"answer_id":473785,"question_id":79538,"body_markdown":"Under Ubuntu you need to set the java compiler &quot;javac&quot; to use sun&#39;s jdk instead of any other alternative. The difference to some of the answers posted so far is that I am talking about javac NOT java. To do so fire up a shell and do the following:\r\n\r\n1. As root or sudo type in at command line:\r\n\r\n`# update-alternatives --config javac`\r\n\r\n2. Locate the number pointing to sun&#39;s jdk, type in this number, and hit &quot;ENTER&quot;.   \r\n\r\n3. You can now use java.util.Scanner under Ubuntu.\r\n\r\n","title":"Scanner cannot be resolved to a type","body":"<p>Under Ubuntu you need to set the java compiler &quot;javac&quot; to use sun's jdk instead of any other alternative. The difference to some of the answers posted so far is that I am talking about javac NOT java. To do so fire up a shell and do the following:</p>\n<ol>\n<li>As root or sudo type in at command line:</li>\n</ol>\n<p><code># update-alternatives --config javac</code></p>\n<ol start=\"2\">\n<li><p>Locate the number pointing to sun's jdk, type in this number, and hit &quot;ENTER&quot;.</p>\n</li>\n<li><p>You can now use java.util.Scanner under Ubuntu.</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":5392262,"reputation":4671,"user_id":4294399,"display_name":"General Grievance"},"score":0,"creation_date":1692192411,"post_id":60959558,"comment_id":135590399,"body_markdown":"Not using the Scanner object will not result in the error in the question.","body":"Not using the Scanner object will not result in the error in the question."}],"tags":[],"owner":{"account_id":17719384,"reputation":86,"user_id":12864849,"display_name":"boi yeet"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1585687366,"creation_date":1585687366,"answer_id":60959558,"question_id":79538,"body_markdown":"You imported Scanner but you&#39;re not using it. You&#39;re using Scanner, which requires user inputs. You&#39;re trying to print out one thing, but you&#39;re exposing the your program to the fact that you are going to use your own input, so it decides to print &quot;Hello World&quot; after you give a user input. But since you are not deciding what the program will print, the system gets confused since it doesn&#39;t know what to print. You need something like `int a=sc.nextInt();` or `String b=sc.nextLine();` and then give your user input. But you said you want `Hello World!`, so Scanner is redundant.","title":"Scanner cannot be resolved to a type","body":"<p>You imported Scanner but you're not using it. You're using Scanner, which requires user inputs. You're trying to print out one thing, but you're exposing the your program to the fact that you are going to use your own input, so it decides to print \"Hello World\" after you give a user input. But since you are not deciding what the program will print, the system gets confused since it doesn't know what to print. You need something like <code>int a=sc.nextInt();</code> or <code>String b=sc.nextLine();</code> and then give your user input. But you said you want <code>Hello World!</code>, so Scanner is redundant.</p>\n"}],"owner":{"account_id":34394,"reputation":153,"user_id":97220,"accept_rate":54,"display_name":"Austin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":79551,"answer_count":5,"score":0,"last_activity_date":1692303352,"creation_date":1221620713,"question_id":79538,"body_markdown":"I just installed Ubuntu 8.04 and Eclipse. \r\n\r\nI made a very simple Hello World program in order to ensure that everything is running smoothly. When I attempted to use the Scanner class for acquiring some user input I got a very odd error.\r\n\r\nMy code:\r\n```java\r\nimport java.util.Scanner;\r\n\r\nclass Test {\r\n    public static void main (String [] args) {\r\n\t    Scanner sc = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;hi&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nError message\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n\tScanner cannot be resolved to a type\r\n\tScanner cannot be resolved to a type\r\n\r\n   at test.main(test.java:5)\r\n```\r\n","title":"Scanner cannot be resolved to a type","body":"<p>I just installed Ubuntu 8.04 and Eclipse.</p>\n<p>I made a very simple Hello World program in order to ensure that everything is running smoothly. When I attempted to use the Scanner class for acquiring some user input I got a very odd error.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\nclass Test {\n    public static void main (String [] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;hi&quot;);\n    }\n}\n</code></pre>\n<p>Error message</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n    Scanner cannot be resolved to a type\n    Scanner cannot be resolved to a type\n\n   at test.main(test.java:5)\n</code></pre>\n"},{"tags":["java","spring","http","spring-security"],"answers":[{"comments":[{"owner":{"account_id":8229771,"reputation":2191,"user_id":6190803,"accept_rate":50,"display_name":"Dylan"},"score":0,"creation_date":1505141840,"post_id":46157165,"comment_id":79279312,"body_markdown":"so this means I would have to do it for every url, since &quot;/index&quot; would be permit all but &quot;/**&quot; would require a login.","body":"so this means I would have to do it for every url, since &quot;/index&quot; would be permit all but &quot;/**&quot; would require a login."}],"tags":[],"owner":{"display_name":"user3906011"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505137265,"creation_date":1505137265,"answer_id":46157165,"question_id":46156978,"body_markdown":"We can use spring security tags    \r\nfor example:\r\n\r\n    &lt;sec:intercept-url pattern=&quot;/url/domestic/*&quot; access=&quot;!hasAuthority(&#39;systemAccessRole&#39;)&quot;/&gt;\r\n\r\nas above example use `!` and `(not)` operator.","title":"Spring Security - How do I block access to any url except a few listed by role?","body":"<p>We can use spring security tags<br>\nfor example:</p>\n\n<pre><code>&lt;sec:intercept-url pattern=\"/url/domestic/*\" access=\"!hasAuthority('systemAccessRole')\"/&gt;\n</code></pre>\n\n<p>as above example use <code>!</code> and <code>(not)</code> operator.</p>\n"},{"tags":[],"owner":{"account_id":8229771,"reputation":2191,"user_id":6190803,"accept_rate":50,"display_name":"Dylan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1505394651,"creation_date":1505144120,"answer_id":46159368,"question_id":46156978,"body_markdown":"To do what I needed I just had to add                 \r\n           \r\n `.antMatchers(&quot;/**&quot;).not().hasAuthority(&quot;ROLE_CANDIDATE&quot;)`\r\n\r\nafter any URL i wanted excluded from the matcher\r\n\r\n                .antMatchers(&quot;/&quot;).permitAll()\r\n                .antMatchers(&quot;/index&quot;).permitAll()\r\n                .antMatchers(&quot;/static/**&quot;).permitAll()\r\n                .antMatchers(&quot;/assets/**&quot;).permitAll()\r\n                .antMatchers(&quot;/register&quot;).permitAll()\r\n                .antMatchers(&quot;/skillRequest/**&quot;).permitAll()\r\n                .antMatchers(&quot;/skillRequest/skillFormUpdate/**&quot;).permitAll()\r\n                .antMatchers(&quot;/password/reset&quot;).permitAll()\r\n                .antMatchers(&quot;/password/reset/complete&quot;).permitAll()\r\n                .antMatchers(&quot;/email/verify&quot;).permitAll()\r\n                .antMatchers(&quot;/view/**&quot;).permitAll()\r\n                .antMatchers(&quot;/embed/**&quot;).permitAll()\r\n","title":"Spring Security - How do I block access to any url except a few listed by role?","body":"<p>To do what I needed I just had to add                 </p>\n\n<p><code>.antMatchers(\"/**\").not().hasAuthority(\"ROLE_CANDIDATE\")</code></p>\n\n<p>after any URL i wanted excluded from the matcher</p>\n\n<pre><code>            .antMatchers(\"/\").permitAll()\n            .antMatchers(\"/index\").permitAll()\n            .antMatchers(\"/static/**\").permitAll()\n            .antMatchers(\"/assets/**\").permitAll()\n            .antMatchers(\"/register\").permitAll()\n            .antMatchers(\"/skillRequest/**\").permitAll()\n            .antMatchers(\"/skillRequest/skillFormUpdate/**\").permitAll()\n            .antMatchers(\"/password/reset\").permitAll()\n            .antMatchers(\"/password/reset/complete\").permitAll()\n            .antMatchers(\"/email/verify\").permitAll()\n            .antMatchers(\"/view/**\").permitAll()\n            .antMatchers(\"/embed/**\").permitAll()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18989903,"reputation":158,"user_id":13859405,"display_name":"Melvin Kah Hoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692303115,"creation_date":1617179139,"answer_id":66884144,"question_id":46156978,"body_markdown":"    .antMatchers(&quot;/**&quot;).denyAll()\r\n\r\nI find putting the above line as the last antmatchers works for me. It block all the API that declare on previous antMatchers\r\n\r\n    .antMatchers(&quot;/index&quot;).permitAll()\r\n    .antMatchers(&quot;/assets/**&quot;).permitAll()\r\n    .antMatchers(&quot;/candidate/*&quot;).hasAuthority(&quot;ROLE_CANDIDATE&quot;)\r\n    .antMatchers(&quot;/**&quot;).denyAll()\r\n    .anyRequest().authenticated()","title":"Spring Security - How do I block access to any url except a few listed by role?","body":"<pre><code>.antMatchers(&quot;/**&quot;).denyAll()\n</code></pre>\n<p>I find putting the above line as the last antmatchers works for me. It block all the API that declare on previous antMatchers</p>\n<pre><code>.antMatchers(&quot;/index&quot;).permitAll()\n.antMatchers(&quot;/assets/**&quot;).permitAll()\n.antMatchers(&quot;/candidate/*&quot;).hasAuthority(&quot;ROLE_CANDIDATE&quot;)\n.antMatchers(&quot;/**&quot;).denyAll()\n.anyRequest().authenticated()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12243278,"reputation":762,"user_id":10275600,"display_name":"Shtefan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673336460,"creation_date":1673336460,"answer_id":75066843,"question_id":46156978,"body_markdown":"How about:\r\n\r\n    httpSecurity.httpBasic().and().\r\n    authorizeRequests().\r\n    antMatchers(&quot;/&quot;).hasRole(&quot;USER&quot;).\r\n    antMatchers(&quot;/public/**&quot;).permitAll().\r\n    antMatchers(&quot;/**&quot;).denyAll().\r\n    and().formLogin();\r\n","title":"Spring Security - How do I block access to any url except a few listed by role?","body":"<p>How about:</p>\n<pre><code>httpSecurity.httpBasic().and().\nauthorizeRequests().\nantMatchers(&quot;/&quot;).hasRole(&quot;USER&quot;).\nantMatchers(&quot;/public/**&quot;).permitAll().\nantMatchers(&quot;/**&quot;).denyAll().\nand().formLogin();\n</code></pre>\n"}],"owner":{"account_id":8229771,"reputation":2191,"user_id":6190803,"accept_rate":50,"display_name":"Dylan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11883,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46159368,"answer_count":4,"score":2,"last_activity_date":1692303115,"creation_date":1505136721,"question_id":46156978,"body_markdown":"So I have this web application that has three different sets of roles. One of which should allow anyone to view even if they are not logged in. Then there are a set of pages that the user must be logged into see but if they have the role of &quot;Candidate&quot; they cannot access. Finally, a role of &quot;Candidate&quot; may be able to only view their page at /candidate/ID\r\n\r\nBasically is there a way to block access to any url basically &quot;/**&quot; except the links listed below? Or do I need to specify each link like /dashboard /profile \r\n\r\n     http.authorizeRequests()\r\n                .antMatchers(&quot;/&quot;).permitAll()\r\n                .antMatchers(&quot;/index&quot;).permitAll()\r\n                .antMatchers(&quot;/static/**&quot;).permitAll()\r\n                .antMatchers(&quot;/assets/**&quot;).permitAll()\r\n                .antMatchers(&quot;/register&quot;).permitAll()\r\n                .antMatchers(&quot;/skillRequest/**&quot;).permitAll()\r\n                .antMatchers(&quot;/skillRequest/skillFormUpdate/**&quot;).permitAll()\r\n                .antMatchers(&quot;/password/reset&quot;).permitAll()\r\n                .antMatchers(&quot;/password/reset/complete&quot;).permitAll()\r\n                .antMatchers(&quot;/email/verify&quot;).permitAll()\r\n                .antMatchers(&quot;/view/**&quot;).permitAll()\r\n                .antMatchers(&quot;/embed/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .defaultSuccessUrl(&quot;/dashboard&quot;, false) //Force user to always go to the home page.  \r\n    //                .successHandler(successHandler())\r\n                .permitAll()\r\n                .and()\r\n                .httpBasic()\r\n                .and()\r\n                .logout()\r\n                .permitAll();","title":"Spring Security - How do I block access to any url except a few listed by role?","body":"<p>So I have this web application that has three different sets of roles. One of which should allow anyone to view even if they are not logged in. Then there are a set of pages that the user must be logged into see but if they have the role of \"Candidate\" they cannot access. Finally, a role of \"Candidate\" may be able to only view their page at /candidate/ID</p>\n\n<p>Basically is there a way to block access to any url basically \"/**\" except the links listed below? Or do I need to specify each link like /dashboard /profile </p>\n\n<pre><code> http.authorizeRequests()\n            .antMatchers(\"/\").permitAll()\n            .antMatchers(\"/index\").permitAll()\n            .antMatchers(\"/static/**\").permitAll()\n            .antMatchers(\"/assets/**\").permitAll()\n            .antMatchers(\"/register\").permitAll()\n            .antMatchers(\"/skillRequest/**\").permitAll()\n            .antMatchers(\"/skillRequest/skillFormUpdate/**\").permitAll()\n            .antMatchers(\"/password/reset\").permitAll()\n            .antMatchers(\"/password/reset/complete\").permitAll()\n            .antMatchers(\"/email/verify\").permitAll()\n            .antMatchers(\"/view/**\").permitAll()\n            .antMatchers(\"/embed/**\").permitAll()\n            .anyRequest().authenticated()\n            .and()\n            .formLogin()\n            .loginPage(\"/login\")\n            .defaultSuccessUrl(\"/dashboard\", false) //Force user to always go to the home page.  \n//                .successHandler(successHandler())\n            .permitAll()\n            .and()\n            .httpBasic()\n            .and()\n            .logout()\n            .permitAll();\n</code></pre>\n"},{"tags":["java","jenkins","groovy","jenkins-pipeline","jenkins-groovy"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":1,"creation_date":1692295137,"post_id":76923600,"comment_id":135607354,"body_markdown":"try something like: `println this[&quot;WINDOWS_PLATFORMS&quot;]`","body":"try something like: <code>println this[&quot;WINDOWS_PLATFORMS&quot;]</code>"},{"owner":{"account_id":19256289,"reputation":679,"user_id":14073111,"display_name":"user14073111"},"score":0,"creation_date":1692298300,"post_id":76923600,"comment_id":135607898,"body_markdown":"@daggett You are a life saver. Thanks! You can make it as answer, i will accept it.","body":"@daggett You are a life saver. Thanks! You can make it as answer, i will accept it."}],"answers":[{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692303074,"creation_date":1692300553,"answer_id":76924568,"question_id":76923600,"body_markdown":"https://www.jenkins.io/doc/book/pipeline/syntax/#parameters\r\n\r\n&gt; The parameters directive provides a list of parameters that a user should provide when triggering the Pipeline. The values for these user-specified parameters are made available to Pipeline steps via the `params` object\r\n\r\nso, after\r\n\r\n```lang-js\r\nparameters { \r\n  string(name: &#39;WINDOWS_PLATFORMS&#39;, defaultValue: &#39;staging&#39;, description: &#39;&#39;)\r\n}\r\n```\r\n\r\nyou should be able to access parameter value through `params` variable:\r\n\r\n```\r\nprintln params.WINDOWS_PLATFORMS\r\nprintln params[&#39;WINDOWS_PLATFORMS&#39;]\r\n//or dymamically\r\ndef key=&quot;WINDOWS&quot;\r\nprintln params[&quot;${key}_PLATFORMS&quot;]\r\n```\r\n\r\ni noticed that `this` is also working when using instead of `params`\r\n","title":"How to access parameters dynamically in groovy scripts","body":"<p><a href=\"https://www.jenkins.io/doc/book/pipeline/syntax/#parameters\" rel=\"nofollow noreferrer\">https://www.jenkins.io/doc/book/pipeline/syntax/#parameters</a></p>\n<blockquote>\n<p>The parameters directive provides a list of parameters that a user should provide when triggering the Pipeline. The values for these user-specified parameters are made available to Pipeline steps via the <code>params</code> object</p>\n</blockquote>\n<p>so, after</p>\n<pre class=\"lang-js prettyprint-override\"><code>parameters { \n  string(name: 'WINDOWS_PLATFORMS', defaultValue: 'staging', description: '')\n}\n</code></pre>\n<p>you should be able to access parameter value through <code>params</code> variable:</p>\n<pre><code>println params.WINDOWS_PLATFORMS\nprintln params['WINDOWS_PLATFORMS']\n//or dymamically\ndef key=&quot;WINDOWS&quot;\nprintln params[&quot;${key}_PLATFORMS&quot;]\n</code></pre>\n<p>i noticed that <code>this</code> is also working when using instead of <code>params</code></p>\n"}],"owner":{"account_id":19256289,"reputation":679,"user_id":14073111,"display_name":"user14073111"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76924568,"answer_count":1,"score":0,"last_activity_date":1692303074,"creation_date":1692291087,"question_id":76923600,"body_markdown":"Basically, I have a scenario where I have some parameters loaded from a file and additional parameters using a loop:\r\n\r\n    pipeline {\r\n    \tstages {\r\n    \t\tstage(&quot;prepare&quot;) {\r\n                steps {\r\n    \t\t\t\tscript {\r\n    \t\t\t\t\tdef params = load(&quot;parmas.gy&quot;)\r\n    \t\t\t\t\tdef yml = readYaml file: &quot;platforms.yml&quot;\r\n    \t\t\t\t\tdef selectedJobsMap = yml.selected_jobs\r\n    \t\t\t\t\tdef extra_parameters = []\r\n    \r\n    \t\t\t\t\tselectedJobsMap.each { param -&gt;\r\n    \t\t\t\t\t\tdef platformChoices = selectedJobsMap[param.key].collect { it.name as String }\r\n    \t\t\t\t\t\tparams.add (\r\n    \t\t\t\t\t\t\textendedChoice(\r\n    \t\t\t\t\t\t\t\tname: &quot;${param.key}_PLATFORMS&quot;,\r\n    \t\t\t\t\t\t\t\tdescription: &quot;Select ${param.key} platforms that you want to run tests&quot;,\r\n    \t\t\t\t\t\t\t\ttype: &#39;PT_CHECKBOX&#39;,\r\n    \t\t\t\t\t\t\t\tmultiSelectDelimiter: &#39;,&#39;,\r\n    \t\t\t\t\t\t\t\tvalue: platformChoices.join(&#39;,&#39;)\r\n    \t\t\t\t\t\t\t\t)\r\n    \t\t\t\t\t\t\t)\r\n    \t\t\t\t\t\t   extra_parameters.add(&quot;${param.key}_PLATFORMS&quot;)\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tproperties([parameters(params)])\r\n    \t\t\t\t\t\r\n    \t\t\t\t\textra_parameters.each { platformParam -&gt;\r\n    \t\t\t\t\t\tprintln(&quot;${platformParam}&quot;) // First print\r\n    \t\t\t\t\t\tprintln(&quot;${WINDOWS_PLATFORMS}&quot;) // Second print\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nMy YML file is like this (it is huge but mocked it):\r\n\r\n    selected_jobs:\r\n    \tWindows:\r\n    \t\t- { name: &#39;windows10&#39;, job: &#39;app-test_windows10_x86_64_vm&#39; }\r\n    \t\t- { name: &#39;windows2019&#39;, job: &#39;app-test_windows2019_x86_64_vm&#39; }\r\n    \t\t- { name: &#39;windows2022&#39;, job: &#39;app-test_windows2022_x86_64_vm&#39; }\r\n    \tRHEL:\r\n    \t    - { name: &#39;rhel_7&#39;, job: &#39;app-test_rhel7_x64_docker&#39; }\r\n    \t\t- { name: &#39;rhel_8&#39;, job: &#39;app-test_rhel_8_arm64_docker&#39; }\r\n\r\nSo, `extra_parameters` is a list which will be like this: `[&quot;WINDOWS_PLATFORMS&quot;, &quot;RHEL_PLATFORMS&quot;]` and my problem is that the first print from groovy script is giving different results from the second print. Basically, the first print is printing &quot;WINDOWS_PLATFORMS&quot; as a string, and the second print is printing the correct value, which is the value which is stored behind WINDOWS_PLATFORMS parameter (which is the value that is selected in the Jenkins job).\r\n\r\nAny idea how to fix it?\r\n\r\nBasically, this doesn&#39;t print the same thing:\r\n\r\n    def x1 = &quot;WINDOWS_PLATFORMS&quot;\r\n    println(&quot;${WINDOWS_PLATFORMS}&quot;)\r\n    println(&quot;${x1}&quot;)\r\n\r\n","title":"How to access parameters dynamically in groovy scripts","body":"<p>Basically, I have a scenario where I have some parameters loaded from a file and additional parameters using a loop:</p>\n<pre><code>pipeline {\n    stages {\n        stage(&quot;prepare&quot;) {\n            steps {\n                script {\n                    def params = load(&quot;parmas.gy&quot;)\n                    def yml = readYaml file: &quot;platforms.yml&quot;\n                    def selectedJobsMap = yml.selected_jobs\n                    def extra_parameters = []\n\n                    selectedJobsMap.each { param -&gt;\n                        def platformChoices = selectedJobsMap[param.key].collect { it.name as String }\n                        params.add (\n                            extendedChoice(\n                                name: &quot;${param.key}_PLATFORMS&quot;,\n                                description: &quot;Select ${param.key} platforms that you want to run tests&quot;,\n                                type: 'PT_CHECKBOX',\n                                multiSelectDelimiter: ',',\n                                value: platformChoices.join(',')\n                                )\n                            )\n                           extra_parameters.add(&quot;${param.key}_PLATFORMS&quot;)\n                    }\n                    properties([parameters(params)])\n                    \n                    extra_parameters.each { platformParam -&gt;\n                        println(&quot;${platformParam}&quot;) // First print\n                        println(&quot;${WINDOWS_PLATFORMS}&quot;) // Second print\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>My YML file is like this (it is huge but mocked it):</p>\n<pre><code>selected_jobs:\n    Windows:\n        - { name: 'windows10', job: 'app-test_windows10_x86_64_vm' }\n        - { name: 'windows2019', job: 'app-test_windows2019_x86_64_vm' }\n        - { name: 'windows2022', job: 'app-test_windows2022_x86_64_vm' }\n    RHEL:\n        - { name: 'rhel_7', job: 'app-test_rhel7_x64_docker' }\n        - { name: 'rhel_8', job: 'app-test_rhel_8_arm64_docker' }\n</code></pre>\n<p>So, <code>extra_parameters</code> is a list which will be like this: <code>[&quot;WINDOWS_PLATFORMS&quot;, &quot;RHEL_PLATFORMS&quot;]</code> and my problem is that the first print from groovy script is giving different results from the second print. Basically, the first print is printing &quot;WINDOWS_PLATFORMS&quot; as a string, and the second print is printing the correct value, which is the value which is stored behind WINDOWS_PLATFORMS parameter (which is the value that is selected in the Jenkins job).</p>\n<p>Any idea how to fix it?</p>\n<p>Basically, this doesn't print the same thing:</p>\n<pre><code>def x1 = &quot;WINDOWS_PLATFORMS&quot;\nprintln(&quot;${WINDOWS_PLATFORMS}&quot;)\nprintln(&quot;${x1}&quot;)\n</code></pre>\n"},{"tags":["java","android","amadeus"],"answers":[{"comments":[{"owner":{"account_id":19154357,"reputation":23,"user_id":13991520,"display_name":"shakirul islam"},"score":0,"creation_date":1692547946,"post_id":76924726,"comment_id":135635402,"body_markdown":"Hi! Thank you for your time and response. Right, I have fixed it. I have been reading the authentication documentation&#39;s Authorization Guide, and I think I am mistakenly passing the API KEY instead of the access_token in the header of performGetRequest. However, I didn&#39;t really understand how to get an access token. The documentary says &quot; you can generate an access token by sending a POST request to the authorization server:\nhttps://test.api.amadeus.com/v1/security/oauth2/token&quot;. This token should be passed in the header. However, I am not sure how to do this.","body":"Hi! Thank you for your time and response. Right, I have fixed it. I have been reading the authentication documentation&#39;s Authorization Guide, and I think I am mistakenly passing the API KEY instead of the access_token in the header of performGetRequest. However, I didn&#39;t really understand how to get an access token. The documentary says &quot; you can generate an access token by sending a POST request to the authorization server: <a href=\"https://test.api.amadeus.com/v1/security/oauth2/token\" rel=\"nofollow noreferrer\">test.api.amadeus.com/v1/security/oauth2/token</a>&quot;. This token should be passed in the header. However, I am not sure how to do this."}],"tags":[],"owner":{"account_id":9194285,"reputation":418,"user_id":8628330,"display_name":"Jamal N"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692302184,"creation_date":1692302184,"answer_id":76924726,"question_id":76924345,"body_markdown":"In the request builder you are calling the `url()` method tow times, that&#39;s the main cause of your problem.\r\n I am not sure of your use case but I think you will only need the second call `url(urlBuilder.build())` as this will contain the `baseUrl+endpoint+parameters` .","title":"Error Code: 38191, Invalid HTTP header when I visit the url I built using urlBuilder as shown below","body":"<p>In the request builder you are calling the <code>url()</code> method tow times, that's the main cause of your problem.\nI am not sure of your use case but I think you will only need the second call <code>url(urlBuilder.build())</code> as this will contain the <code>baseUrl+endpoint+parameters</code> .</p>\n"}],"owner":{"account_id":19154357,"reputation":23,"user_id":13991520,"display_name":"shakirul islam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692302184,"creation_date":1692298240,"question_id":76924345,"body_markdown":"I&#39;m currently working on an Android project that involves making HTTP requests to the Amadeus Flight Offers API. I&#39;ve encountered an issue with the API request, and I&#39;m hoping to get some guidance on how to resolve it.\r\n\r\nThe problem I&#39;m facing is related to the HTTP 401 (Unauthorized) error that I&#39;m receiving when trying to access the API. The error message specifically states that the &quot;Authorization&quot; header is missing or in an invalid format. I&#39;ve double-checked my code, and it seems like I&#39;m setting the header correctly. However, I might be missing something or mis-configuring it unintentionally.\r\n\r\nHere&#39;s a breakdown of my code where  I construct the base URL for the API:\r\n```\r\nHttpUrl baseHttpUrl = HttpUrl.parse(&quot;https://test.api.amadeus.com/v2/shopping/flight-offers&quot;);\r\n\r\n        if (baseHttpUrl != null) {\r\n            HttpUrl.Builder urlBuilder = baseHttpUrl.newBuilder();\r\n            urlBuilder.addQueryParameter(&quot;originLocationCode&quot;, origin);\r\n            urlBuilder.addQueryParameter(&quot;destinationLocationCode&quot;, destination);\r\n            urlBuilder.addQueryParameter(&quot;departureDate&quot;, fromDate);\r\n            urlBuilder.addQueryParameter(&quot;returnDate&quot;, toDate); // If round-trip search\r\n            Log.d(&quot;SearchActivity&quot;, &quot;URL: &quot; + urlBuilder.build());\r\n\r\n```\r\n\r\n\r\n**To be more specific, the URL I get from the log redirects me to a page saying** - \r\n\r\n\r\n\r\n&gt; errors\t\r\n0\t\r\ncode\t38191  \r\ntitle\t&quot;Invalid HTTP header&quot;  \r\ndetail\t&quot;Missing or invalid format for mandatory Authorization header&quot;  \r\nstatus\t401\r\n\r\n\r\n\r\nI feel I am making an error somewhere here, I attempt to perform the GET request using the following method - \r\n\r\n\r\n```\r\npublic String performGetRequest(String endpoint, HttpUrl.Builder urlBuilder) throws IOException {\r\n        Request request = new Request.Builder()\r\n                .url(BASE_URL + endpoint)\r\n                .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + API_KEY)\r\n                .url(urlBuilder.build())\r\n                .build();\r\n\r\n        try (Response response = client.newCall(request).execute()) {\r\n            if (response.isSuccessful()) {\r\n                return response.body().string();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\n\r\n\r\n","title":"Error Code: 38191, Invalid HTTP header when I visit the url I built using urlBuilder as shown below","body":"<p>I'm currently working on an Android project that involves making HTTP requests to the Amadeus Flight Offers API. I've encountered an issue with the API request, and I'm hoping to get some guidance on how to resolve it.</p>\n<p>The problem I'm facing is related to the HTTP 401 (Unauthorized) error that I'm receiving when trying to access the API. The error message specifically states that the &quot;Authorization&quot; header is missing or in an invalid format. I've double-checked my code, and it seems like I'm setting the header correctly. However, I might be missing something or mis-configuring it unintentionally.</p>\n<p>Here's a breakdown of my code where  I construct the base URL for the API:</p>\n<pre><code>HttpUrl baseHttpUrl = HttpUrl.parse(&quot;https://test.api.amadeus.com/v2/shopping/flight-offers&quot;);\n\n        if (baseHttpUrl != null) {\n            HttpUrl.Builder urlBuilder = baseHttpUrl.newBuilder();\n            urlBuilder.addQueryParameter(&quot;originLocationCode&quot;, origin);\n            urlBuilder.addQueryParameter(&quot;destinationLocationCode&quot;, destination);\n            urlBuilder.addQueryParameter(&quot;departureDate&quot;, fromDate);\n            urlBuilder.addQueryParameter(&quot;returnDate&quot;, toDate); // If round-trip search\n            Log.d(&quot;SearchActivity&quot;, &quot;URL: &quot; + urlBuilder.build());\n\n</code></pre>\n<p><strong>To be more specific, the URL I get from the log redirects me to a page saying</strong> -</p>\n<blockquote>\n<p>errors<br />\n0<br />\ncode    38191<br />\ntitle   &quot;Invalid HTTP header&quot;<br />\ndetail  &quot;Missing or invalid format for mandatory Authorization header&quot;<br />\nstatus  401</p>\n</blockquote>\n<p>I feel I am making an error somewhere here, I attempt to perform the GET request using the following method -</p>\n<pre><code>public String performGetRequest(String endpoint, HttpUrl.Builder urlBuilder) throws IOException {\n        Request request = new Request.Builder()\n                .url(BASE_URL + endpoint)\n                .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + API_KEY)\n                .url(urlBuilder.build())\n                .build();\n\n        try (Response response = client.newCall(request).execute()) {\n            if (response.isSuccessful()) {\n                return response.body().string();\n            }\n        }\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","arrays","byte","boxing"],"comments":[{"owner":{"account_id":84585,"reputation":7493,"user_id":236345,"accept_rate":87,"display_name":"Alfabravo"},"score":5,"creation_date":1350513232,"post_id":12944377,"comment_id":17545816,"body_markdown":"10 questions, ONE accepted? No good","body":"10 questions, ONE accepted? No good"},{"owner":{"account_id":251932,"reputation":37692,"user_id":529630,"accept_rate":86,"display_name":"Dunes"},"score":0,"creation_date":1350513497,"post_id":12944377,"comment_id":17545895,"body_markdown":"Why do you need/have a `Byte[]`? Doesn&#39;t seem like a good idea... either use `byte[]` or `List&lt;Byte&gt;`.","body":"Why do you need/have a <code>Byte[]</code>? Doesn&#39;t seem like a good idea... either use <code>byte[]</code> or <code>List&lt;Byte&gt;</code>."},{"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"score":0,"creation_date":1350513632,"post_id":12944377,"comment_id":17545927,"body_markdown":"Might be useful if the values can be null, though probably not very efficient (ie. wastes any space-benefit of storing bytes, because of all the object references)?","body":"Might be useful if the values can be null, though probably not very efficient (ie. wastes any space-benefit of storing bytes, because of all the object references)?"},{"owner":{"account_id":251932,"reputation":37692,"user_id":529630,"accept_rate":86,"display_name":"Dunes"},"score":0,"creation_date":1350513689,"post_id":12944377,"comment_id":17545936,"body_markdown":"But you can&#39;t convert a `Byte[]` to a `byte[]` if you have null references...","body":"But you can&#39;t convert a <code>Byte[]</code> to a <code>byte[]</code> if you have null references..."},{"owner":{"account_id":84585,"reputation":7493,"user_id":236345,"accept_rate":87,"display_name":"Alfabravo"},"score":0,"creation_date":1350513814,"post_id":12944377,"comment_id":17545969,"body_markdown":"@BalusC ok, 1 of 7. Haven&#39;t improved a lot!","body":"@BalusC ok, 1 of 7. Haven&#39;t improved a lot!"},{"owner":{"account_id":53155,"reputation":7742,"user_id":158876,"accept_rate":93,"display_name":"Ben"},"score":0,"creation_date":1382726731,"post_id":12944377,"comment_id":29087813,"body_markdown":"@Dunes One reason to have Byte[] is that it becomes an intermediate form of trying to call toArray on a List&lt;Byte&gt;. In this case, writing your own loop seems to be the easiest way.","body":"@Dunes One reason to have Byte[] is that it becomes an intermediate form of trying to call toArray on a List&lt;Byte&gt;. In this case, writing your own loop seems to be the easiest way."}],"answers":[{"comments":[{"owner":{"account_id":251932,"reputation":37692,"user_id":529630,"accept_rate":86,"display_name":"Dunes"},"score":4,"creation_date":1350513262,"post_id":12944413,"comment_id":17545825,"body_markdown":"Would definitely recommend `Byte.valueOf(b)` over `new Byte(b)`. I would be surprised if the Byte class didn&#39;t cache every single value for a byte.","body":"Would definitely recommend <code>Byte.valueOf(b)</code> over <code>new Byte(b)</code>. I would be surprised if the Byte class didn&#39;t cache every single value for a byte."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":2,"creation_date":1350513265,"post_id":12944413,"comment_id":17545826,"body_markdown":"I believe that it might be better to use `Byte.valueOf(byte)`. JavaDocs say that this method should generally be used in preference to the constructor `Byte(byte)`, as this method is likely to yield significantly better space and time performance since all byte values are cached.","body":"I believe that it might be better to use <code>Byte.valueOf(byte)</code>. JavaDocs say that this method should generally be used in preference to the constructor <code>Byte(byte)</code>, as this method is likely to yield significantly better space and time performance since all byte values are cached."},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":10,"creation_date":1350513276,"post_id":12944413,"comment_id":17545830,"body_markdown":"With autoboxing, you can simply do `byteObjects[i++] = b;`","body":"With autoboxing, you can simply do <code>byteObjects[i++] = b;</code>"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":5,"creation_date":1350513432,"post_id":12944413,"comment_id":17545877,"body_markdown":"I&#39;d use `new Byte[bytes.length];` instead of `new Byte[10];` to keep it sensible.","body":"I&#39;d use <code>new Byte[bytes.length];</code> instead of <code>new Byte[10];</code> to keep it sensible."},{"owner":{"account_id":236688,"reputation":955,"user_id":504342,"accept_rate":88,"display_name":"user504342"},"score":0,"creation_date":1386468446,"post_id":12944413,"comment_id":30551991,"body_markdown":"This answer isn&#39;t correct. The i++ and j++ in the for-each loop don&#39;t do anything useful. You need to use the basic for-loop: for (int i=0; i&lt;bytes.length;i++) { byteObjects[i] = b[i]; }. Same goes for unboxing.","body":"This answer isn&#39;t correct. The i++ and j++ in the for-each loop don&#39;t do anything useful. You need to use the basic for-loop: for (int i=0; i&lt;bytes.length;i++) { byteObjects[i] = b[i]; }. Same goes for unboxing."},{"owner":{"account_id":261048,"reputation":25820,"user_id":544983,"accept_rate":67,"display_name":"Juvanis"},"score":0,"creation_date":1386492218,"post_id":12944413,"comment_id":30556012,"body_markdown":"@user504342 have you ever debugged my code? with my code i and j goes from 0 to 10 and handles the job.","body":"@user504342 have you ever debugged my code? with my code i and j goes from 0 to 10 and handles the job."},{"owner":{"account_id":236688,"reputation":955,"user_id":504342,"accept_rate":88,"display_name":"user504342"},"score":3,"creation_date":1386509368,"post_id":12944413,"comment_id":30560146,"body_markdown":"@Juvanis aha, I see that you use two &quot;counters&quot; in the for-loop: one to iterate over the primitive byte array and/or Byte object array, and another one for incrementing the index of the primitive byte array and/or Byte object array. To me, this is bad practice. If this code is maintained by others, and someone would modify the counter &quot;i&quot; from 0 to another value, or would change the i++ into ++i, the indexes no longer match. I am not advocating anyone should modify the code in the first place, but it&#39;s a common pitfall for beginners. My suggestion keeps the indexes of both arrays in sync.","body":"@Juvanis aha, I see that you use two &quot;counters&quot; in the for-loop: one to iterate over the primitive byte array and/or Byte object array, and another one for incrementing the index of the primitive byte array and/or Byte object array. To me, this is bad practice. If this code is maintained by others, and someone would modify the counter &quot;i&quot; from 0 to another value, or would change the i++ into ++i, the indexes no longer match. I am not advocating anyone should modify the code in the first place, but it&#39;s a common pitfall for beginners. My suggestion keeps the indexes of both arrays in sync."}],"tags":[],"owner":{"account_id":261048,"reputation":25820,"user_id":544983,"accept_rate":67,"display_name":"Juvanis"},"comment_count":7,"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1536249237,"creation_date":1350513073,"answer_id":12944413,"question_id":12944377,"body_markdown":"`Byte` class is a *wrapper* for the primitive `byte`. This should do the work:\r\n    \r\n    byte[] bytes = new byte[10];\r\n    Byte[] byteObjects = new Byte[bytes.length];\r\n    \r\n    int i=0;    \r\n    // Associating Byte array values with bytes. (byte[] to Byte[])\r\n    for(byte b: bytes)\r\n       byteObjects[i++] = b;  // Autoboxing.\r\n\r\n    ....\r\n\r\n    int j=0;\r\n    // Unboxing Byte values. (Byte[] to byte[])\r\n    for(Byte b: byteObjects)\r\n        bytes[j++] = b.byteValue();\r\n       ","title":"How to convert byte[] to Byte[] and the other way around?","body":"<p><code>Byte</code> class is a <em>wrapper</em> for the primitive <code>byte</code>. This should do the work:</p>\n\n<pre><code>byte[] bytes = new byte[10];\nByte[] byteObjects = new Byte[bytes.length];\n\nint i=0;    \n// Associating Byte array values with bytes. (byte[] to Byte[])\nfor(byte b: bytes)\n   byteObjects[i++] = b;  // Autoboxing.\n\n....\n\nint j=0;\n// Unboxing Byte values. (Byte[] to byte[])\nfor(Byte b: byteObjects)\n    bytes[j++] = b.byteValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1350513252,"creation_date":1350513252,"answer_id":12944441,"question_id":12944377,"body_markdown":"From byte[] to Byte[]:\r\n\r\n\t\tbyte[] b = new byte[]{1,2};\r\n\t\tByte[] B = new Byte[b.length];\r\n\t\tfor (int i = 0; i &lt; b.length; i++)\r\n\t\t{\r\n\t\t\tB[i] = Byte.valueOf(b[i]);\r\n\t\t}\r\n\r\nFrom Byte[] to byte[] (using our previously-defined `B`):\r\n\r\n\t\tbyte[] b2 = new byte[B.length];\r\n\t\tfor (int i = 0; i &lt; B.length; i++)\r\n\t\t{\r\n\t\t\tb2[i] = B[i];\r\n\t\t}","title":"How to convert byte[] to Byte[] and the other way around?","body":"<p>From byte[] to Byte[]:</p>\n\n<pre><code>    byte[] b = new byte[]{1,2};\n    Byte[] B = new Byte[b.length];\n    for (int i = 0; i &lt; b.length; i++)\n    {\n        B[i] = Byte.valueOf(b[i]);\n    }\n</code></pre>\n\n<p>From Byte[] to byte[] (using our previously-defined <code>B</code>):</p>\n\n<pre><code>    byte[] b2 = new byte[B.length];\n    for (int i = 0; i &lt; B.length; i++)\n    {\n        b2[i] = B[i];\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1178234,"reputation":2476,"user_id":1153719,"accept_rate":77,"display_name":"ARRG"},"score":0,"creation_date":1394719416,"post_id":19925997,"comment_id":34022662,"body_markdown":"This is actually the best answer, at least for anyone for whom adding a dependency to commons-lang isn&#39;t an issue.","body":"This is actually the best answer, at least for anyone for whom adding a dependency to commons-lang isn&#39;t an issue."}],"tags":[],"owner":{"account_id":298997,"reputation":5316,"user_id":605328,"accept_rate":87,"display_name":"Giannis"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1384250170,"creation_date":1384250170,"answer_id":19925997,"question_id":12944377,"body_markdown":"You could use the toPrimitive method in the Apache Commons lang library ArrayUtils class,\r\nAs suggested here - https://stackoverflow.com/questions/6430841/java-byte-to-byte","title":"How to convert byte[] to Byte[] and the other way around?","body":"<p>You could use the toPrimitive method in the Apache Commons lang library ArrayUtils class,\nAs suggested here - <a href=\"https://stackoverflow.com/questions/6430841/java-byte-to-byte\">Java - Byte[] to byte[]</a></p>\n"},{"tags":[],"owner":{"account_id":1415830,"reputation":7284,"user_id":1341526,"accept_rate":96,"display_name":"jacktrades"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1402958623,"creation_date":1402958623,"answer_id":24253320,"question_id":12944377,"body_markdown":"    byte[] toPrimitives(Byte[] oBytes)\r\n    {\r\n\r\n        byte[] bytes = new byte[oBytes.length];\r\n        for(int i = 0; i &lt; oBytes.length; i++){\r\n            bytes[i] = oBytes[i];\r\n        }\r\n        return bytes;\r\n\r\n    }\r\nInverse:\r\n\r\n    //byte[] to Byte[]\r\n    Byte[] toObjects(byte[] bytesPrim) {\r\n\r\n        Byte[] bytes = new Byte[bytesPrim.length];\r\n        int i = 0;\r\n        for (byte b : bytesPrim) bytes[i++] = b; //Autoboxing\r\n        return bytes;\r\n\r\n    }","title":"How to convert byte[] to Byte[] and the other way around?","body":"<pre><code>byte[] toPrimitives(Byte[] oBytes)\n{\n\n    byte[] bytes = new byte[oBytes.length];\n    for(int i = 0; i &lt; oBytes.length; i++){\n        bytes[i] = oBytes[i];\n    }\n    return bytes;\n\n}\n</code></pre>\n\n<p>Inverse:</p>\n\n<pre><code>//byte[] to Byte[]\nByte[] toObjects(byte[] bytesPrim) {\n\n    Byte[] bytes = new Byte[bytesPrim.length];\n    int i = 0;\n    for (byte b : bytesPrim) bytes[i++] = b; //Autoboxing\n    return bytes;\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10494047,"reputation":336,"user_id":7734932,"display_name":"Liscare"},"score":0,"creation_date":1622190503,"post_id":24253371,"comment_id":119726133,"body_markdown":"Best answer for me. Simple code and no third-party library.","body":"Best answer for me. Simple code and no third-party library."}],"tags":[],"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"comment_count":1,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1402959032,"creation_date":1402959032,"answer_id":24253371,"question_id":12944377,"body_markdown":"Java 8 solution:\r\n\r\n    Byte[] toObjects(byte[] bytesPrim) {\r\n        Byte[] bytes = new Byte[bytesPrim.length];\r\n        Arrays.setAll(bytes, n -&gt; bytesPrim[n]);\r\n        return bytes;\r\n    }\r\n\r\nUnfortunately, you can&#39;t do this to convert from `Byte[]` to `byte[]`.  `Arrays` has `setAll` for `double[]`, `int[]`, and `long[]`, but not for other primitive types.\r\n       ","title":"How to convert byte[] to Byte[] and the other way around?","body":"<p>Java 8 solution:</p>\n\n<pre><code>Byte[] toObjects(byte[] bytesPrim) {\n    Byte[] bytes = new Byte[bytesPrim.length];\n    Arrays.setAll(bytes, n -&gt; bytesPrim[n]);\n    return bytes;\n}\n</code></pre>\n\n<p>Unfortunately, you can't do this to convert from <code>Byte[]</code> to <code>byte[]</code>.  <code>Arrays</code> has <code>setAll</code> for <code>double[]</code>, <code>int[]</code>, and <code>long[]</code>, but not for other primitive types.</p>\n"},{"comments":[{"owner":{"account_id":6679434,"reputation":3330,"user_id":5153116,"accept_rate":78,"display_name":"mvorisek"},"score":1,"creation_date":1512506358,"post_id":39329796,"comment_id":82283611,"body_markdown":"Why this is not the best answer? Any performace reason or just answered later?","body":"Why this is not the best answer? Any performace reason or just answered later?"},{"owner":{"account_id":6679434,"reputation":3330,"user_id":5153116,"accept_rate":78,"display_name":"mvorisek"},"score":45,"creation_date":1512506461,"post_id":39329796,"comment_id":82283660,"body_markdown":"Because the ArrayUtils are not a part of Java, but Apache lib.","body":"Because the ArrayUtils are not a part of Java, but Apache lib."},{"owner":{"account_id":4050761,"reputation":596,"user_id":3330432,"display_name":"Alex8752"},"score":0,"creation_date":1597331303,"post_id":39329796,"comment_id":112103735,"body_markdown":"I agree with @mvorisek, this should be considered the best answer. Just add org.apache.commons.lang3.ArrayUtils","body":"I agree with @mvorisek, this should be considered the best answer. Just add org.apache.commons.lang3.ArrayUtils"},{"owner":{"account_id":1765805,"reputation":5354,"user_id":1611714,"display_name":"Binita Bharati"},"score":1,"creation_date":1622615677,"post_id":39329796,"comment_id":119839199,"body_markdown":"Unfortunately, `ArrayUtils` is not part of standard Java packages.","body":"Unfortunately, <code>ArrayUtils</code> is not part of standard Java packages."},{"owner":{"account_id":4953443,"reputation":148,"user_id":3986743,"display_name":"Fr&#233;d&#233;ric Nobre"},"score":0,"creation_date":1653393221,"post_id":39329796,"comment_id":127836542,"body_markdown":"apache commons lang is a great package that should be part of any java project.","body":"apache commons lang is a great package that should be part of any java project."},{"owner":{"account_id":2999741,"reputation":1091,"user_id":2545439,"display_name":"Pieter De Bie"},"score":0,"creation_date":1701099246,"post_id":39329796,"comment_id":136729879,"body_markdown":"The question explicitly asks for a non third party library.","body":"The question explicitly asks for a non third party library."}],"tags":[],"owner":{"account_id":9060595,"reputation":935,"user_id":6747239,"display_name":"LaCrampe"},"comment_count":6,"down_vote_count":5,"up_vote_count":94,"is_accepted":false,"score":89,"last_activity_date":1692302147,"creation_date":1473075533,"answer_id":39329796,"question_id":12944377,"body_markdown":"byte[] to Byte[] :\r\n\r\n    byte[] bytes = ...;\r\n    Byte[] byteObject = ArrayUtils.toObject(bytes);\r\n    \r\nByte[] to byte[] :\r\n\r\n    Byte[] byteObject = new Byte[0];\r\n    byte[] bytes = ArrayUtils.toPrimitive(byteObject);\r\n\r\n\r\nNote: ArrayUtils are not a part of Java, but Apache lib","title":"How to convert byte[] to Byte[] and the other way around?","body":"<p>byte[] to Byte[] :</p>\n<pre><code>byte[] bytes = ...;\nByte[] byteObject = ArrayUtils.toObject(bytes);\n</code></pre>\n<p>Byte[] to byte[] :</p>\n<pre><code>Byte[] byteObject = new Byte[0];\nbyte[] bytes = ArrayUtils.toPrimitive(byteObject);\n</code></pre>\n<p>Note: ArrayUtils are not a part of Java, but Apache lib</p>\n"},{"comments":[{"owner":{"account_id":4190387,"reputation":1275,"user_id":3433137,"accept_rate":75,"display_name":"ElectRocnic"},"score":1,"creation_date":1595767709,"post_id":61099379,"comment_id":111582167,"body_markdown":"and the other way round?","body":"and the other way round?"},{"owner":{"account_id":2058509,"reputation":195,"user_id":1835668,"display_name":"mkalmo"},"score":0,"creation_date":1596274590,"post_id":61099379,"comment_id":111764163,"body_markdown":"I think you can&#39;t get byte[] from Stream. Stream api has mapToInt(), mapToDouble() and mapToLong() methods but not mapToByte().","body":"I think you can&#39;t get byte[] from Stream. Stream api has mapToInt(), mapToDouble() and mapToLong() methods but not mapToByte()."}],"tags":[],"owner":{"account_id":2058509,"reputation":195,"user_id":1835668,"display_name":"mkalmo"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1586344545,"creation_date":1586344545,"answer_id":61099379,"question_id":12944377,"body_markdown":"If someone preferes Stream API over ordinary loops.\r\n\r\n    private Byte[] toObjects(byte[] bytes) {\r\n        return IntStream.range(0, bytes.length)\r\n                .mapToObj(i -&gt; bytes[i])\r\n                .toArray(Byte[]::new);\r\n    }\r\n\r\n","title":"How to convert byte[] to Byte[] and the other way around?","body":"<p>If someone preferes Stream API over ordinary loops.</p>\n\n<pre><code>private Byte[] toObjects(byte[] bytes) {\n    return IntStream.range(0, bytes.length)\n            .mapToObj(i -&gt; bytes[i])\n            .toArray(Byte[]::new);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":241000,"reputation":815,"user_id":511554,"accept_rate":0,"display_name":"David Urry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645474851,"creation_date":1645474463,"answer_id":71212499,"question_id":12944377,"body_markdown":"Step back.  Look at the bigger picture.  You&#39;re stuck converting byte[] to Byte[] or vice versa because of Java&#39;s strict type casing with something like this \r\n\r\n&gt; List&lt; Byte&gt;\r\nor\r\n&gt;List&lt;Byte[]&gt;  \r\n\r\nNow you have byte[] and Byte[] and have to convert.  This will help.\r\n\r\nKeep all your byte[]s in a list like this:  List&lt;byte[]&gt; instead of List&lt; Byte&gt; or List&lt;Byte[]&gt;. (byte is a primitive, byte[] is an object)\r\n\r\nAs you acquire bytes do this (networking socket example):\r\n\r\n    ArrayList&lt;byte[]&gt; compiledMessage = new ArrayList&lt;byte[]&gt;;\r\n    ...\r\n    compiledMessage.add(packet.getData());\r\n\r\nThen, when you want to put all your bytes in a single message, do this:\r\n\r\n\tbyte[] fromListOfNotByteArray (List&lt;byte[]&gt; list) {\r\n\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\tObjectOutputStream oos;\r\n\t\ttry {\r\n\t\t\toos = new ObjectOutputStream(baos);\r\n\t\t\toos.writeObject(list);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn baos.toByteArray();\r\n\t}\r\n\r\nThat way, you can keep all your parts in List&lt;byte[]&gt; and your whole in byte[] without a bunch of crazy copy tasks in for loops with little baby byte[]s everywhere.  ;)\r\n\r\nNow you know -- teach others.\r\n","title":"How to convert byte[] to Byte[] and the other way around?","body":"<p>Step back.  Look at the bigger picture.  You're stuck converting byte[] to Byte[] or vice versa because of Java's strict type casing with something like this</p>\n<blockquote>\n<p>List&lt; Byte&gt;\nor\nList&lt;Byte[]&gt;</p>\n</blockquote>\n<p>Now you have byte[] and Byte[] and have to convert.  This will help.</p>\n<p>Keep all your byte[]s in a list like this:  List&lt;byte[]&gt; instead of List&lt; Byte&gt; or List&lt;Byte[]&gt;. (byte is a primitive, byte[] is an object)</p>\n<p>As you acquire bytes do this (networking socket example):</p>\n<pre><code>ArrayList&lt;byte[]&gt; compiledMessage = new ArrayList&lt;byte[]&gt;;\n...\ncompiledMessage.add(packet.getData());\n</code></pre>\n<p>Then, when you want to put all your bytes in a single message, do this:</p>\n<pre><code>byte[] fromListOfNotByteArray (List&lt;byte[]&gt; list) {\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    ObjectOutputStream oos;\n    try {\n        oos = new ObjectOutputStream(baos);\n        oos.writeObject(list);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return baos.toByteArray();\n}\n</code></pre>\n<p>That way, you can keep all your parts in List&lt;byte[]&gt; and your whole in byte[] without a bunch of crazy copy tasks in for loops with little baby byte[]s everywhere.  ;)</p>\n<p>Now you know -- teach others.</p>\n"},{"tags":[],"owner":{"account_id":1888633,"reputation":309,"user_id":1707311,"accept_rate":56,"display_name":"dani77"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675618095,"creation_date":1675618095,"answer_id":75354155,"question_id":12944377,"body_markdown":"Since Java 8:\r\n\r\n    byte[] bytes = new bytes[byteObject.length];\r\n    IntStream.range(0, byteObject.length).forEach(x -&gt; bytes [x] = byteObject[x]);","title":"How to convert byte[] to Byte[] and the other way around?","body":"<p>Since Java 8:</p>\n<pre><code>byte[] bytes = new bytes[byteObject.length];\nIntStream.range(0, byteObject.length).forEach(x -&gt; bytes [x] = byteObject[x]);\n</code></pre>\n"}],"owner":{"account_id":888003,"reputation":9435,"user_id":926958,"accept_rate":56,"display_name":"user926958"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126635,"favorite_count":0,"down_vote_count":0,"up_vote_count":96,"accepted_answer_id":12944413,"answer_count":9,"score":96,"last_activity_date":1692302147,"creation_date":1350512874,"question_id":12944377,"body_markdown":"How to convert `byte[]` to `Byte[]` and also `Byte[]` to `byte[]`, in the case of not using any 3rd party library?\r\n\r\nIs there a way to do it fast just using the standard library?\r\n","title":"How to convert byte[] to Byte[] and the other way around?","body":"<p>How to convert <code>byte[]</code> to <code>Byte[]</code> and also <code>Byte[]</code> to <code>byte[]</code>, in the case of not using any 3rd party library?</p>\n\n<p>Is there a way to do it fast just using the standard library?</p>\n"},{"tags":["java","arrays","spring","image"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1692227607,"post_id":76917529,"comment_id":135596633,"body_markdown":"If the file in question is, say, 2GB, you&#39;re going to run into `OutOfMemoryError`, or even if you don&#39;t, your system is _very_ constrained, needing __2GB__ for every concurrently running upload process. There are a few more reasons but that&#39;s one of the significant ones.","body":"If the file in question is, say, 2GB, you&#39;re going to run into <code>OutOfMemoryError</code>, or even if you don&#39;t, your system is <i>very</i> constrained, needing <b>2GB</b> for every concurrently running upload process. There are a few more reasons but that&#39;s one of the significant ones."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":1,"creation_date":1692227803,"post_id":76917529,"comment_id":135596651,"body_markdown":"You can use `byte[]`, but it could be less convenient: 1) you probably have to pass a filename. How would you wrap it together? 2) It could be more difficult to implement on a client side","body":"You can use <code>byte[]</code>, but it could be less convenient: 1) you probably have to pass a filename. How would you wrap it together? 2) It could be more difficult to implement on a client side"},{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1692228425,"post_id":76917529,"comment_id":135596700,"body_markdown":"More info: [How does HTTP file upload work?](https://stackoverflow.com/questions/8659808/how-does-http-file-upload-work)","body":"More info: <a href=\"https://stackoverflow.com/questions/8659808/how-does-http-file-upload-work\">How does HTTP file upload work?</a>"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1692346861,"post_id":76917529,"comment_id":135613260,"body_markdown":"That is how browsers implement multipart file upload using HTML forms. If you are just creating your own REST interface to transfer single files, I don&#39;t see any problems in just sending the entire file as the payload in a normal file transfer. I would recommend using `Input/OutputStream` over `byte[]` though, as that gives you more flexibility and less memory constraints (ie you can stream directly to/from disk, with a minimal byte buffer for better performance).","body":"That is how browsers implement multipart file upload using HTML forms. If you are just creating your own REST interface to transfer single files, I don&#39;t see any problems in just sending the entire file as the payload in a normal file transfer. I would recommend using <code>Input&#47;OutputStream</code> over <code>byte[]</code> though, as that gives you more flexibility and less memory constraints (ie you can stream directly to/from disk, with a minimal byte buffer for better performance)."}],"owner":{"account_id":9594227,"reputation":196,"user_id":7123940,"display_name":"apologiessirnoclue"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692302087,"creation_date":1692226507,"question_id":76917529,"body_markdown":"My application requires images, that I store on somthing like Amazon S3, until now I was getting images by retrieving URL from the client and downloading the file. However that solution is highly dependent on clients infrastructure, so the idea now is for client to send bytes to my API. Im writing the code in Spring Boot and it seems like the best way is to use `MultipartFile` class in Controller as a wrapper for the data, at least thats the only thing that internet is saying, however I cant figure out why not use `byte[]`, wouldnt it be quicker if I dont need anything else, just bytes that create the image?","title":"Why should I use MultipartFile instead of byte[]?","body":"<p>My application requires images, that I store on somthing like Amazon S3, until now I was getting images by retrieving URL from the client and downloading the file. However that solution is highly dependent on clients infrastructure, so the idea now is for client to send bytes to my API. Im writing the code in Spring Boot and it seems like the best way is to use <code>MultipartFile</code> class in Controller as a wrapper for the data, at least thats the only thing that internet is saying, however I cant figure out why not use <code>byte[]</code>, wouldnt it be quicker if I dont need anything else, just bytes that create the image?</p>\n"},{"tags":["java","properties","apache-camel","integration"],"owner":{"account_id":20747635,"reputation":1,"user_id":15235902,"display_name":"foumz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692302033,"creation_date":1692224940,"question_id":76917447,"body_markdown":"I&#39;m utilizing Apache Camel and facing an intricate situation. I retrieve certain properties via an API call and aim to use these properties across all my other routes. Initially, I employed caching to manage this, but it no longer serves its purpose.\r\n\r\n```\r\n&lt;route id=&quot;initializeProperties&quot;&gt;\r\n    &lt;from uri=&quot;timer://initTimer?repeatCount=1&quot;/&gt;\r\n    &lt;to uri=&quot;http4://127.0.0.1:8093/GETSINGLETONASJSON?Singleton=PROP&quot;/&gt;\r\n    &lt;setProperty propertyName=&quot;PropData&quot;&gt;\r\n        &lt;simple&gt;${body}&lt;/simple&gt;\r\n    &lt;/setProperty&gt;\r\n    &lt;log message=&quot;Data initialized: ${property.PropData}&quot;/&gt;\r\n&lt;/route&gt;\r\n\r\n&lt;route id=&quot;anotherRoute&quot;&gt;\r\n    &lt;from uri=&quot;timer://someTimer?fixedRate=true&amp;amp;period=30000&quot;/&gt;\r\n    &lt;setHeader headerName=&quot;config&quot;&gt;\r\n        &lt;simple&gt;${property.PropData}&lt;/simple&gt;                        \r\n    &lt;/setHeader&gt;\r\n    &lt;!-- ... other route configurations ... --&gt;\r\n&lt;/route&gt;\r\n\r\n```\r\nI attempted to use a property, but each of my other routes uses a timer. As a result, they don&#39;t seem to be able to access this property. An alternative I found was to use the &quot;direct&quot; component to invoke the route making the API call each time. However, I have around fifteen routes that operate rather frequently. This would translate to making multiple API calls per second, which is not feasible.\r\n\r\nIs there any credible alternative or solution within Camel&#39;s built-in components or patterns that would allow me to propagate these properties to all routes without bombarding the API?","title":"Need to propagate properties from an API call to all Apache Camel routes with timers without excessive API calls","body":"<p>I'm utilizing Apache Camel and facing an intricate situation. I retrieve certain properties via an API call and aim to use these properties across all my other routes. Initially, I employed caching to manage this, but it no longer serves its purpose.</p>\n<pre><code>&lt;route id=&quot;initializeProperties&quot;&gt;\n    &lt;from uri=&quot;timer://initTimer?repeatCount=1&quot;/&gt;\n    &lt;to uri=&quot;http4://127.0.0.1:8093/GETSINGLETONASJSON?Singleton=PROP&quot;/&gt;\n    &lt;setProperty propertyName=&quot;PropData&quot;&gt;\n        &lt;simple&gt;${body}&lt;/simple&gt;\n    &lt;/setProperty&gt;\n    &lt;log message=&quot;Data initialized: ${property.PropData}&quot;/&gt;\n&lt;/route&gt;\n\n&lt;route id=&quot;anotherRoute&quot;&gt;\n    &lt;from uri=&quot;timer://someTimer?fixedRate=true&amp;amp;period=30000&quot;/&gt;\n    &lt;setHeader headerName=&quot;config&quot;&gt;\n        &lt;simple&gt;${property.PropData}&lt;/simple&gt;                        \n    &lt;/setHeader&gt;\n    &lt;!-- ... other route configurations ... --&gt;\n&lt;/route&gt;\n\n</code></pre>\n<p>I attempted to use a property, but each of my other routes uses a timer. As a result, they don't seem to be able to access this property. An alternative I found was to use the &quot;direct&quot; component to invoke the route making the API call each time. However, I have around fifteen routes that operate rather frequently. This would translate to making multiple API calls per second, which is not feasible.</p>\n<p>Is there any credible alternative or solution within Camel's built-in components or patterns that would allow me to propagate these properties to all routes without bombarding the API?</p>\n"},{"tags":["java","spring-boot","rest","openfeign"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1615364605,"post_id":66560440,"comment_id":117664997,"body_markdown":"LockCodeDto has setters? Getters?.  Did you actually set values to your LockDto before sending it through the sendLockCodeToCloudbeds","body":"LockCodeDto has setters? Getters?.  Did you actually set values to your LockDto before sending it through the sendLockCodeToCloudbeds"},{"owner":{"account_id":20710855,"reputation":11,"user_id":15207511,"display_name":" "},"score":0,"creation_date":1615365789,"post_id":66560440,"comment_id":117665492,"body_markdown":"i use lombok annotation @Data\n`@Data\n@Builder\npublic class LockCodeDto {\n    private String bookingId;\n    private String codeValue;\n}`","body":"i use lombok annotation @Data <code>@Data @Builder public class LockCodeDto {     private String bookingId;     private String codeValue; }</code>"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1615366060,"post_id":66560440,"comment_id":117665599,"body_markdown":"shouldnt your public void cloudbeds(@RequestBody LockCodeDto dto) actually have a @RequestBody as well&gt;","body":"shouldnt your public void cloudbeds(@RequestBody LockCodeDto dto) actually have a @RequestBody as well&gt;"}],"answers":[{"tags":[],"owner":{"account_id":18923139,"reputation":1,"user_id":13806809,"display_name":"Gustavo Pedro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692301538,"creation_date":1692277670,"answer_id":76921833,"question_id":66560440,"body_markdown":"When you receive your request in the `localhost:8081` application, you need to put the `@RequestBody` before the `LockCodeDto`","title":"When sending data through openfeign, null is received","body":"<p>When you receive your request in the <code>localhost:8081</code> application, you need to put the <code>@RequestBody</code> before the <code>LockCodeDto</code></p>\n"}],"owner":{"account_id":20710855,"reputation":11,"user_id":15207511,"display_name":" "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692301538,"creation_date":1615362702,"question_id":66560440,"body_markdown":"I have a trouble. When i send dto by feign clients like this:\r\n\r\n    @FeignClient(url = &quot;${external.service.cloudbeds.url}&quot;, name = &quot;CloudbedsIntegrationClient&quot;)\r\n    public interface CloudbedsIntegrationClient {\r\n\r\n    @PostMapping(value = &quot;/integration/cloudbeds/lock-code&quot;)\r\n    String sendLockCodeToCloudbeds(@RequestBody LockCodeDto lockCodeDto);\r\n}\r\n\r\nand use this method \r\n\r\n    cloudbedsIntegrationClient.sendLockCodeToCloudbeds(lockCodeDto);\r\n\r\ni try recive this data on localhost:8081 by this RestController\r\n   \r\n    @PostMapping(&quot;/integration/cloudbeds/lock-code&quot;)\r\n    public void cloudbeds(LockCodeDto dto){\r\n       log.info(dto + &quot;  &quot;);\r\n    }\r\n\r\nbut i get null\r\n    \r\n    2021-03-10 10:45:55.817  INFO 27780 --- [nio-8081-exec-7] c.e.feigntest.FeigntestApplication       : LockCodeDto(bookingId=null, codeValue=null)  \r\n\r\nwhat i do wrong?\r\n\r\n","title":"When sending data through openfeign, null is received","body":"<p>I have a trouble. When i send dto by feign clients like this:</p>\n<pre><code>@FeignClient(url = &quot;${external.service.cloudbeds.url}&quot;, name = &quot;CloudbedsIntegrationClient&quot;)\npublic interface CloudbedsIntegrationClient {\n\n@PostMapping(value = &quot;/integration/cloudbeds/lock-code&quot;)\nString sendLockCodeToCloudbeds(@RequestBody LockCodeDto lockCodeDto);\n</code></pre>\n<p>}</p>\n<p>and use this method</p>\n<pre><code>cloudbedsIntegrationClient.sendLockCodeToCloudbeds(lockCodeDto);\n</code></pre>\n<p>i try recive this data on localhost:8081 by this RestController</p>\n<pre><code>@PostMapping(&quot;/integration/cloudbeds/lock-code&quot;)\npublic void cloudbeds(LockCodeDto dto){\n   log.info(dto + &quot;  &quot;);\n}\n</code></pre>\n<p>but i get null</p>\n<pre><code>2021-03-10 10:45:55.817  INFO 27780 --- [nio-8081-exec-7] c.e.feigntest.FeigntestApplication       : LockCodeDto(bookingId=null, codeValue=null)  \n</code></pre>\n<p>what i do wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":8,"creation_date":1692298002,"post_id":76924311,"comment_id":135607853,"body_markdown":"It sounds like you should really have an interface to implement...","body":"It sounds like you should really have an interface to implement..."},{"owner":{"account_id":106352,"reputation":14961,"user_id":283342,"accept_rate":91,"display_name":"Adrian"},"score":0,"creation_date":1692298129,"post_id":76924311,"comment_id":135607879,"body_markdown":"@JonSkeet Of course, I agree that that would be better for real-world code. I am simply asking because I am curious about whether the JVM implementation details would allow this.","body":"@JonSkeet Of course, I agree that that would be better for real-world code. I am simply asking because I am curious about whether the JVM implementation details would allow this."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":2,"creation_date":1692298188,"post_id":76924311,"comment_id":135607887,"body_markdown":"*&quot;if I don&#39;t want `Thing2` to inherit private fields of `Thing`?&quot;* how does a subclass in inherit private fields? Am I missing something?","body":"<i>&quot;if I don&#39;t want <code>Thing2</code> to inherit private fields of <code>Thing</code>?&quot;</i> how does a subclass in inherit private fields? Am I missing something?"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1692298573,"post_id":76924311,"comment_id":135607960,"body_markdown":"If  Java class &quot;Thing2&quot; inherits from super class &quot;Thing2&quot; ... then Thing2 *IS* a subclass.  Period.  Full stop.  ALTERNATIVES: Yes, you can generate bytecode on the fly:. \n For example: https://stackoverflow.com/questions/52867815/.  Better, it sounds like you simply want an &quot;interface&quot;: https://docs.oracle.com/javase/tutorial/java/concepts/interface.html","body":"If  Java class &quot;Thing2&quot; inherits from super class &quot;Thing2&quot; ... then Thing2 <i>IS</i> a subclass.  Period.  Full stop.  ALTERNATIVES: Yes, you can generate bytecode on the fly:.   For example: <a href=\"https://stackoverflow.com/questions/52867815/\">stackoverflow.com/questions/52867815</a>.  Better, it sounds like you simply want an &quot;interface&quot;: <a href=\"https://docs.oracle.com/javase/tutorial/java/concepts/interface.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/concepts/interface.html</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1692299837,"post_id":76924311,"comment_id":135608212,"body_markdown":"*&quot;for example, if I don&#39;t want Thing2 to inherit private fields of Thing?&quot;* Lousy example, since private members are not inherited anyway.","body":"<i>&quot;for example, if I don&#39;t want Thing2 to inherit private fields of Thing?&quot;</i> Lousy example, since private members are not inherited anyway."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1692308738,"post_id":76924311,"comment_id":135609632,"body_markdown":"If you don&#39;t use inheritance then you won&#39;t be able to pass _Thing2_ to  _myFunction_.  Possibly add an example of what you&#39;re trying to achieve.","body":"If you don&#39;t use inheritance then you won&#39;t be able to pass <i>Thing2</i> to  <i>myFunction</i>.  Possibly add an example of what you&#39;re trying to achieve."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1692313618,"post_id":76924311,"comment_id":135610090,"body_markdown":"First, if `Thing` is a class and you pass to your method an object that is not a `Thing` or a subclass of `Thing`, then you are getting a compile-time error. No way to avoid that. Second, it hardly applies to your imagined situation, but there are two cases where a subtype of a class type is not a subclass: (1) E.g., `ArrayList&lt;? extends Integer&gt;` is a subtype of `ArrayList&lt;? extends Number&gt;` but is still the same class, not a subclass. Wildcards in generics allow many such cases. (2) The type of `null` is a subtype of any type, so also a subtype of `Thing`. So yes, pass `null` .","body":"First, if <code>Thing</code> is a class and you pass to your method an object that is not a <code>Thing</code> or a subclass of <code>Thing</code>, then you are getting a compile-time error. No way to avoid that. Second, it hardly applies to your imagined situation, but there are two cases where a subtype of a class type is not a subclass: (1) E.g., <code>ArrayList&lt;? extends Integer&gt;</code> is a subtype of <code>ArrayList&lt;? extends Number&gt;</code> but is still the same class, not a subclass. Wildcards in generics allow many such cases. (2) The type of <code>null</code> is a subtype of any type, so also a subtype of <code>Thing</code>. So yes, pass <code>null</code> ."}],"answers":[{"comments":[{"owner":{"account_id":106352,"reputation":14961,"user_id":283342,"accept_rate":91,"display_name":"Adrian"},"score":0,"creation_date":1692298440,"post_id":76924341,"comment_id":135607927,"body_markdown":"I agree with everything you said but this really doesn&#39;t answer my question. I am asking a conceptual question about the JVM out of curiosity, not asking about what kinds of design patterns are good for actual code which one might use.","body":"I agree with everything you said but this really doesn&#39;t answer my question. I am asking a conceptual question about the JVM out of curiosity, not asking about what kinds of design patterns are good for actual code which one might use."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1692298526,"post_id":76924341,"comment_id":135607947,"body_markdown":"I see. I can&#39;t really prove a negative, but I&#39;m not aware of a way to make an unrelated class `Thing2` masquerade as an instance of `Thing` on the JVM. All casts are checked at the VM level, so there&#39;s no equivalent to C++&#39;s extremely unsafe `reinterpret_cast`.","body":"I see. I can&#39;t really prove a negative, but I&#39;m not aware of a way to make an unrelated class <code>Thing2</code> masquerade as an instance of <code>Thing</code> on the JVM. All casts are checked at the VM level, so there&#39;s no equivalent to C++&#39;s extremely unsafe <code>reinterpret_cast</code>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1692308982,"post_id":76924341,"comment_id":135609661,"body_markdown":"@SilvioMayolo, _&quot;frobnicate&quot;_, where did you possibly find this word?","body":"@SilvioMayolo, <i>&quot;frobnicate&quot;</i>, where did you possibly find this word?"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1692314674,"post_id":76924341,"comment_id":135610157,"body_markdown":"@Relias One of my professors used it. It&#39;s my go-to word for &quot;generic unnamed action&quot;, sort of my `foo` / `bar` but as a verb.","body":"@Relias One of my professors used it. It&#39;s my go-to word for &quot;generic unnamed action&quot;, sort of my <code>foo</code> / <code>bar</code> but as a verb."}],"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"comment_count":4,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1692298199,"creation_date":1692298199,"answer_id":76924341,"question_id":76924311,"body_markdown":"This is *exactly* what the D in [SOLID](https://en.wikipedia.org/wiki/SOLID) is talking about. The D stands for [Dependency inversion](https://en.wikipedia.org/wiki/Dependency_inversion_principle), and it can be phrased as: &quot;Abstractions should not depend on concrete implementations&quot;.\r\n\r\nWhat you have is a function that takes a `Thing`. A concrete class. But what you really *want* is a function that takes &quot;anything that happens to support my `frobnicate()` method&quot;. That means the function has the wrong signature. If the function only requires a specific interface, then you want an `interface` in Java. Rather than\r\n\r\n```\r\npublic class Thing {\r\n  private Foo lotsOfImplementationDetails;\r\n\r\n  public void frobnicate() {\r\n    ...\r\n  }\r\n}\r\n\r\nvoid myFunction(Thing x) {\r\n  // All I want is frobnicate(), but I depend on the *whole* state.\r\n  ...\r\n}\r\n```\r\n\r\nconsider\r\n\r\n```\r\npublic interface Frobnicatable {\r\n  public void frobnicate();\r\n}\r\n\r\npublic class Thing implements Frobnicatable {\r\n  private Foo lotsOfImplementationDetails;\r\n\r\n  @Override\r\n  public void frobnicate() {\r\n    ...\r\n  }\r\n}\r\n\r\nvoid myFunction(Frobnicatable x) {\r\n  // Anything will work, provided it has the right method.\r\n  ...\r\n}\r\n```\r\n","title":"Is it possible to subtype a class without creating a subclass?","body":"<p>This is <em>exactly</em> what the D in <a href=\"https://en.wikipedia.org/wiki/SOLID\" rel=\"nofollow noreferrer\">SOLID</a> is talking about. The D stands for <a href=\"https://en.wikipedia.org/wiki/Dependency_inversion_principle\" rel=\"nofollow noreferrer\">Dependency inversion</a>, and it can be phrased as: &quot;Abstractions should not depend on concrete implementations&quot;.</p>\n<p>What you have is a function that takes a <code>Thing</code>. A concrete class. But what you really <em>want</em> is a function that takes &quot;anything that happens to support my <code>frobnicate()</code> method&quot;. That means the function has the wrong signature. If the function only requires a specific interface, then you want an <code>interface</code> in Java. Rather than</p>\n<pre><code>public class Thing {\n  private Foo lotsOfImplementationDetails;\n\n  public void frobnicate() {\n    ...\n  }\n}\n\nvoid myFunction(Thing x) {\n  // All I want is frobnicate(), but I depend on the *whole* state.\n  ...\n}\n</code></pre>\n<p>consider</p>\n<pre><code>public interface Frobnicatable {\n  public void frobnicate();\n}\n\npublic class Thing implements Frobnicatable {\n  private Foo lotsOfImplementationDetails;\n\n  @Override\n  public void frobnicate() {\n    ...\n  }\n}\n\nvoid myFunction(Frobnicatable x) {\n  // Anything will work, provided it has the right method.\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":106352,"reputation":14961,"user_id":283342,"accept_rate":91,"display_name":"Adrian"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1692301533,"creation_date":1692297866,"question_id":76924311,"body_markdown":"Suppose I have a class `Thing` and some function/method that accepts a thing `myFunction(Thing x)`. I want to create a class `Thing2` which can be passed into `myFunction`, and which replicates the interface of `Thing` by supporting all the same public methods and fields etc. One way to do this would be to have `Thing2` be a subclass of `Thing`. But is there a way to have `Thing2` be a subtype of `Thing` without making it a subclass  for example, if I don&#39;t want `Thing2` to inherit private fields of `Thing`?\r\n\r\nAnd if it is not possible using regular Java, is it possible to do so by generating Java bytecode via some other means?\r\n\r\nI am asking this question purely out of curiosity, I don&#39;t actually have a specific problem that I am trying to solve.","title":"Is it possible to subtype a class without creating a subclass?","body":"<p>Suppose I have a class <code>Thing</code> and some function/method that accepts a thing <code>myFunction(Thing x)</code>. I want to create a class <code>Thing2</code> which can be passed into <code>myFunction</code>, and which replicates the interface of <code>Thing</code> by supporting all the same public methods and fields etc. One way to do this would be to have <code>Thing2</code> be a subclass of <code>Thing</code>. But is there a way to have <code>Thing2</code> be a subtype of <code>Thing</code> without making it a subclass  for example, if I don't want <code>Thing2</code> to inherit private fields of <code>Thing</code>?</p>\n<p>And if it is not possible using regular Java, is it possible to do so by generating Java bytecode via some other means?</p>\n<p>I am asking this question purely out of curiosity, I don't actually have a specific problem that I am trying to solve.</p>\n"},{"tags":["java","spring-boot","redis","spring-session","spring-boot-3"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692301258,"creation_date":1692301258,"answer_id":76924640,"question_id":76924020,"body_markdown":"According to Spring Boot 3.x [Migration Guide](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#spring-session-store-type)\r\n\r\nYou can define your own `SessionRepository` bean and cause the auto-configuration to back off.","title":"Can Spring Session be turned off in Spring Boot 3?","body":"<p>According to Spring Boot 3.x <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#spring-session-store-type\" rel=\"nofollow noreferrer\">Migration Guide</a></p>\n<p>You can define your own <code>SessionRepository</code> bean and cause the auto-configuration to back off.</p>\n"}],"owner":{"account_id":10525614,"reputation":414,"user_id":7756713,"accept_rate":86,"display_name":"Jon H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1692301258,"creation_date":1692294820,"question_id":76924020,"body_markdown":"In my `Spring Boot 2.7.4` project, I use `Spring Session` with `Redis` by including these dependencies:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-boot-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-session-data-redis&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nThis, along with a handful of application property settings to specify host, port, etc., this works fine.\r\n\r\nSetting the following property allows Spring Session to be switched off. This is very convenient when running the service in an IDE in a development environment, for example, where you may not have access to a running Redis instance.\r\n\r\n```\r\nspring.session.store-type=NONE\r\n```\r\n\r\nHowever, I have just upgraded to `Spring Boot 3.0.4` and have found that this property is no longer supported. I would be very grateful if anyone can suggest an alternative way to switch off `Spring Session` for development work, while still leaving the dependencies and configuration in place ready for formal deployments.","title":"Can Spring Session be turned off in Spring Boot 3?","body":"<p>In my <code>Spring Boot 2.7.4</code> project, I use <code>Spring Session</code> with <code>Redis</code> by including these dependencies:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>This, along with a handful of application property settings to specify host, port, etc., this works fine.</p>\n<p>Setting the following property allows Spring Session to be switched off. This is very convenient when running the service in an IDE in a development environment, for example, where you may not have access to a running Redis instance.</p>\n<pre><code>spring.session.store-type=NONE\n</code></pre>\n<p>However, I have just upgraded to <code>Spring Boot 3.0.4</code> and have found that this property is no longer supported. I would be very grateful if anyone can suggest an alternative way to switch off <code>Spring Session</code> for development work, while still leaving the dependencies and configuration in place ready for formal deployments.</p>\n"},{"tags":["java","java-11","java-io","beanshell","java.nio.file"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1692300789,"post_id":76924444,"comment_id":135608375,"body_markdown":"Are you sure the code youve shown us (`Path fnew = `) is your real code?  Files.exists(Path, LinkOption...) exists, and as long as the type of fnew is `Path`, the code should work.  However, there is no exists method (or any other method) which takes an argument of type WindowsPath, so if you declared your variable as `WindowsPath fnew = (WindowsPath) Path.of(Folder);` then the error youre seeing would make sense.","body":"Are you sure the code youve shown us (<code>Path fnew = </code>) is your real code?  Files.exists(Path, LinkOption...) exists, and as long as the type of fnew is <code>Path</code>, the code should work.  However, there is no exists method (or any other method) which takes an argument of type WindowsPath, so if you declared your variable as <code>WindowsPath fnew = (WindowsPath) Path.of(Folder);</code> then the error youre seeing would make sense."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1692301046,"post_id":76924444,"comment_id":135608419,"body_markdown":"Do you mean this beanshell: https://github.com/beanshell/beanshell ? This looks like a custom Java source interpreter. It looks like the wrong method is being looked up by that interpreter.","body":"Do you mean this beanshell: <a href=\"https://github.com/beanshell/beanshell\" rel=\"nofollow noreferrer\">github.com/beanshell/beanshell</a> ? This looks like a custom Java source interpreter. It looks like the wrong method is being looked up by that interpreter."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1692306624,"post_id":76924444,"comment_id":135609322,"body_markdown":"The old problem of using `getClass()` on the result of `Path.of` instead of using the return type of `Path.of` for further lookups.","body":"The old problem of using <code>getClass()</code> on the result of <code>Path.of</code> instead of using the return type of <code>Path.of</code> for further lookups."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1692638621,"post_id":76924444,"comment_id":135648041,"body_markdown":"@JohannesKuhn but taken up to eleven as there even is a formal declaration (`Path fnew `) but then ignored and wrongly replaced but the runtime type.","body":"@JohannesKuhn but taken up to eleven as there even is a formal declaration (<code>Path fnew </code>) but then ignored and wrongly replaced but the runtime type."}],"owner":{"account_id":29246506,"reputation":11,"user_id":22406850,"display_name":"Chris"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692301215,"creation_date":1692299068,"question_id":76924444,"body_markdown":"I am working in Java 11.0.11 with Amazon Corretto.\r\nThis code is running in a beanshell file as part of an identity governance system.\r\n\r\nI am trying to use java.nio methods with Windows network paths.\r\n\r\nI am able to create the path object using any method (path.of, Paths.get, File.toPath(), FileSystem.getPath, etc) and a sun.nio.fs.WindowsPath object is always returned.\r\n\r\nThen when I try to use the WindowsPath object with any java.nio methods I get the error:\r\n*methodName*(sun.nio.fs.WindowsPath) not found in class&#39;java.nio.*etc*.*etc*\r\n\r\nThis happens with Files.exists(*path*), Files.createDirectory(*path*), Files.getOwner(*path*), *etc*, *etc*\r\n\r\nI am failing to find related results in searching and I am even having issues when I go as far as to use the FileSystems.getDefault().getPath() as well as sun.nio.fs.WindowsFileSystem getPath and sun.nio.fs.WindowsPath toWindowsPath which all respond the same way. It can reach the method but there is no version of the method that supports an argument of type sun.nio.fs.WindowsPath.\r\n\r\nIf I fall back to java.io methods everything works fine but I am intending on supporting symbolicLinks which are much easier in nio not to mention the better error handling so I&#39;d prefer if I can get this working with nio.\r\n\r\nIs there any preexisting packages that handle managing windows network folders already?\r\n\r\nAlternatively, if I can&#39;t find a solution to get this working natively in java my plan is to just write a powershell script that will do the heavy lifting but I&#39;m facing more then a little bit of sunk cost fallacy with the logic I already fleshed out in java.\r\n\r\n\r\n```\r\nimport lava.lang.*;\r\nimport java.nio.*;\r\nimport java.io.*;\r\nString Folder = &quot;//idg-bridge/C$/TEMP/HomeDriveTest/testusername&quot;;\r\nPath fnew = Path.of(Folder,new String[0]);\r\nif(!Files.exists(fnew, LinkOption.NOFOLLOW_LINKS))\r\n{\r\n\tFiles.createDirectory(fnew);\r\n}\r\n```\r\n\r\n\r\nThis fails at Files.exists(fnew, LinkOption.NOFOLLOW_LINKS) with exception:\r\n\r\n    Error in method invocation: Static method exists( sun.nio.fs.WindowsPath, java.nio.file.LinkOption ) not found in class&#39;java.nio.file.Files&#39;\r\n\r\nIf I use java.io (new File(&quot;//idg-bridge/C$/TEMP/HomeDriveTest/testusername&quot;)).exists() it makes it past the exists check without issue and then fails in exactly the same way at Files.createDirectory(fnew) with exception:\r\n\r\n    Error in method invocation: Static method createDirectory( sun.nio.fs.WindowsPath ) not found in class&#39;java.nio.file.Files&#39;","title":"Static method exists( sun.nio.fs.WindowsPath, java.nio.file.LinkOption ) not found in class&#39;java.nio.file.Files&#39;","body":"<p>I am working in Java 11.0.11 with Amazon Corretto.\nThis code is running in a beanshell file as part of an identity governance system.</p>\n<p>I am trying to use java.nio methods with Windows network paths.</p>\n<p>I am able to create the path object using any method (path.of, Paths.get, File.toPath(), FileSystem.getPath, etc) and a sun.nio.fs.WindowsPath object is always returned.</p>\n<p>Then when I try to use the WindowsPath object with any java.nio methods I get the error:\n<em>methodName</em>(sun.nio.fs.WindowsPath) not found in class'java.nio.<em>etc</em>.<em>etc</em></p>\n<p>This happens with Files.exists(<em>path</em>), Files.createDirectory(<em>path</em>), Files.getOwner(<em>path</em>), <em>etc</em>, <em>etc</em></p>\n<p>I am failing to find related results in searching and I am even having issues when I go as far as to use the FileSystems.getDefault().getPath() as well as sun.nio.fs.WindowsFileSystem getPath and sun.nio.fs.WindowsPath toWindowsPath which all respond the same way. It can reach the method but there is no version of the method that supports an argument of type sun.nio.fs.WindowsPath.</p>\n<p>If I fall back to java.io methods everything works fine but I am intending on supporting symbolicLinks which are much easier in nio not to mention the better error handling so I'd prefer if I can get this working with nio.</p>\n<p>Is there any preexisting packages that handle managing windows network folders already?</p>\n<p>Alternatively, if I can't find a solution to get this working natively in java my plan is to just write a powershell script that will do the heavy lifting but I'm facing more then a little bit of sunk cost fallacy with the logic I already fleshed out in java.</p>\n<pre><code>import lava.lang.*;\nimport java.nio.*;\nimport java.io.*;\nString Folder = &quot;//idg-bridge/C$/TEMP/HomeDriveTest/testusername&quot;;\nPath fnew = Path.of(Folder,new String[0]);\nif(!Files.exists(fnew, LinkOption.NOFOLLOW_LINKS))\n{\n    Files.createDirectory(fnew);\n}\n</code></pre>\n<p>This fails at Files.exists(fnew, LinkOption.NOFOLLOW_LINKS) with exception:</p>\n<pre><code>Error in method invocation: Static method exists( sun.nio.fs.WindowsPath, java.nio.file.LinkOption ) not found in class'java.nio.file.Files'\n</code></pre>\n<p>If I use java.io (new File(&quot;//idg-bridge/C$/TEMP/HomeDriveTest/testusername&quot;)).exists() it makes it past the exists check without issue and then fails in exactly the same way at Files.createDirectory(fnew) with exception:</p>\n<pre><code>Error in method invocation: Static method createDirectory( sun.nio.fs.WindowsPath ) not found in class'java.nio.file.Files'\n</code></pre>\n"},{"tags":["java","spring-boot","junit","point"],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692300091,"creation_date":1692300091,"answer_id":76924531,"question_id":76908357,"body_markdown":"Here is the **solution** show below\r\n\r\n**1 -** Define a class named `PointRandomizer` extending from `AbstractRandomizer` to generate Point randomly.\r\n\r\n    class PointRandomizer extends AbstractRandomizer&lt;Point&gt; {\r\n    \r\n        @Override\r\n        public Point getRandomValue() {\r\n            Coordinate[] coordinates = new Coordinate[]{new Coordinate(40.991739, 29.024168)};\r\n            CoordinateSequence coordinateSequence = new CoordinateArraySequence(coordinates);\r\n            GeometryFactory geometryFactory = new GeometryFactory();\r\n            return geometryFactory.createPoint(coordinateSequence);\r\n        }\r\n    }\r\n\r\n**2 -** Define a static final variable named `PointRandomizer` \r\n\r\n    private static final PointRandomizer POINT_RANDOMIZER = new PointRandomizer();\r\n\r\n**3 -** Add `POINT_RANDOMIZER` to `EasyRandomParameters` to produce point values randomly \r\n\r\n    parameters.randomize(Point.class, POINT_RANDOMIZER);\r\n\r\nHere is the final `TestBuilder` class shown below\r\n\r\n    public abstract class TestDataBuilder&lt;T&gt; {\r\n        protected final EasyRandom generator;\r\n        protected T data;\r\n        protected Class&lt;T&gt; clazz;\r\n        private static final PositiveIntegerRandomizer POSITIVE_INTEGER_RANDOMIZER = new PositiveIntegerRandomizer();\r\n        private static final LongRangeRandomizer LONG_RANGE_RANDOMIZER = new LongRangeRandomizer(1L, Long.MAX_VALUE);\r\n        private static final CharacterRandomizer CHARACTER_RANDOMIZER = new CharacterRandomizer();\r\n    \r\n        private static final PointRandomizer POINT_RANDOMIZER = new PointRandomizer();\r\n    \r\n    \r\n        public TestDataBuilder(Class&lt;T&gt; clazz) {\r\n            this(clazz, false);\r\n        }\r\n        public TestDataBuilder(Class&lt;T&gt; clazz, boolean excludeRelations) {\r\n            this.clazz = clazz;\r\n            this.generator = new EasyRandom(this.getExclusionParameters(excludeRelations));\r\n            this.data = generator.nextObject(clazz);\r\n        }\r\n        public T build() {\r\n            return data;\r\n        }\r\n        private EasyRandomParameters getExclusionParameters(boolean excludeRelations) {\r\n            EasyRandomParameters parameters = new EasyRandomParameters();\r\n            parameters.randomize(Integer.class, POSITIVE_INTEGER_RANDOMIZER);\r\n            parameters.randomize(String.class, CHARACTER_RANDOMIZER);\r\n            parameters.randomize(Long.class, LONG_RANGE_RANDOMIZER);\r\n            parameters.randomize(Point.class, POINT_RANDOMIZER);\r\n    \r\n            if (!excludeRelations) return parameters;\r\n    \r\n            parameters.excludeField(\r\n                    FieldPredicates.isAnnotatedWith(ManyToOne.class, OneToMany.class, OneToOne.class)\r\n                            .or(named(&quot;id&quot;))\r\n            );\r\n            return parameters;\r\n        }\r\n    }\r\n    class PositiveIntegerRandomizer extends IntegerRangeRandomizer {\r\n        private static final int MIN = 0;\r\n        private static final int MAX = 100;\r\n        public PositiveIntegerRandomizer() {\r\n            super(MIN, MAX);\r\n        }\r\n        @Override\r\n        protected Integer getDefaultMinValue() {\r\n            return MIN;\r\n        }\r\n    }\r\n    class CharacterRandomizer extends StringRandomizer {\r\n        @Override\r\n        public String getRandomValue() {\r\n            return RandomStringUtils.randomAlphabetic(10);\r\n        }\r\n    }\r\n    \r\n    \r\n    class PointRandomizer extends AbstractRandomizer&lt;Point&gt; {\r\n    \r\n        @Override\r\n        public Point getRandomValue() {\r\n            Coordinate[] coordinates = new Coordinate[]{new Coordinate(40.991739, 29.024168)};\r\n            CoordinateSequence coordinateSequence = new CoordinateArraySequence(coordinates);\r\n            GeometryFactory geometryFactory = new GeometryFactory();\r\n            return geometryFactory.createPoint(coordinateSequence);\r\n        }\r\n    }","title":"Cannot handle with Point (Caused by: java.lang.InstantiationError: org.locationtech.jts.geom.CoordinateSequence) in JUnit Test of Spring Boot","body":"<p>Here is the <strong>solution</strong> show below</p>\n<p><strong>1 -</strong> Define a class named <code>PointRandomizer</code> extending from <code>AbstractRandomizer</code> to generate Point randomly.</p>\n<pre><code>class PointRandomizer extends AbstractRandomizer&lt;Point&gt; {\n\n    @Override\n    public Point getRandomValue() {\n        Coordinate[] coordinates = new Coordinate[]{new Coordinate(40.991739, 29.024168)};\n        CoordinateSequence coordinateSequence = new CoordinateArraySequence(coordinates);\n        GeometryFactory geometryFactory = new GeometryFactory();\n        return geometryFactory.createPoint(coordinateSequence);\n    }\n}\n</code></pre>\n<p><strong>2 -</strong> Define a static final variable named <code>PointRandomizer</code></p>\n<pre><code>private static final PointRandomizer POINT_RANDOMIZER = new PointRandomizer();\n</code></pre>\n<p><strong>3 -</strong> Add <code>POINT_RANDOMIZER</code> to <code>EasyRandomParameters</code> to produce point values randomly</p>\n<pre><code>parameters.randomize(Point.class, POINT_RANDOMIZER);\n</code></pre>\n<p>Here is the final <code>TestBuilder</code> class shown below</p>\n<pre><code>public abstract class TestDataBuilder&lt;T&gt; {\n    protected final EasyRandom generator;\n    protected T data;\n    protected Class&lt;T&gt; clazz;\n    private static final PositiveIntegerRandomizer POSITIVE_INTEGER_RANDOMIZER = new PositiveIntegerRandomizer();\n    private static final LongRangeRandomizer LONG_RANGE_RANDOMIZER = new LongRangeRandomizer(1L, Long.MAX_VALUE);\n    private static final CharacterRandomizer CHARACTER_RANDOMIZER = new CharacterRandomizer();\n\n    private static final PointRandomizer POINT_RANDOMIZER = new PointRandomizer();\n\n\n    public TestDataBuilder(Class&lt;T&gt; clazz) {\n        this(clazz, false);\n    }\n    public TestDataBuilder(Class&lt;T&gt; clazz, boolean excludeRelations) {\n        this.clazz = clazz;\n        this.generator = new EasyRandom(this.getExclusionParameters(excludeRelations));\n        this.data = generator.nextObject(clazz);\n    }\n    public T build() {\n        return data;\n    }\n    private EasyRandomParameters getExclusionParameters(boolean excludeRelations) {\n        EasyRandomParameters parameters = new EasyRandomParameters();\n        parameters.randomize(Integer.class, POSITIVE_INTEGER_RANDOMIZER);\n        parameters.randomize(String.class, CHARACTER_RANDOMIZER);\n        parameters.randomize(Long.class, LONG_RANGE_RANDOMIZER);\n        parameters.randomize(Point.class, POINT_RANDOMIZER);\n\n        if (!excludeRelations) return parameters;\n\n        parameters.excludeField(\n                FieldPredicates.isAnnotatedWith(ManyToOne.class, OneToMany.class, OneToOne.class)\n                        .or(named(&quot;id&quot;))\n        );\n        return parameters;\n    }\n}\nclass PositiveIntegerRandomizer extends IntegerRangeRandomizer {\n    private static final int MIN = 0;\n    private static final int MAX = 100;\n    public PositiveIntegerRandomizer() {\n        super(MIN, MAX);\n    }\n    @Override\n    protected Integer getDefaultMinValue() {\n        return MIN;\n    }\n}\nclass CharacterRandomizer extends StringRandomizer {\n    @Override\n    public String getRandomValue() {\n        return RandomStringUtils.randomAlphabetic(10);\n    }\n}\n\n\nclass PointRandomizer extends AbstractRandomizer&lt;Point&gt; {\n\n    @Override\n    public Point getRandomValue() {\n        Coordinate[] coordinates = new Coordinate[]{new Coordinate(40.991739, 29.024168)};\n        CoordinateSequence coordinateSequence = new CoordinateArraySequence(coordinates);\n        GeometryFactory geometryFactory = new GeometryFactory();\n        return geometryFactory.createPoint(coordinateSequence);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76924531,"answer_count":1,"score":0,"last_activity_date":1692300091,"creation_date":1692124581,"question_id":76908357,"body_markdown":"I tried to implement a junit test with the usage of Point in Spring Boot.\r\nI completed junit test but I have a problem to handle with Point issue in generateValidUserEntities method of AssignmentEntityBuilder.\r\n\r\nHow can I fix it?\r\n\r\n\r\nHere is the AssignmentEntity shown below\r\n\r\n    ...\r\n    public class AssignmentEntity extends BaseEntity {\r\n    \r\n        ...\r\n        \r\n        public void setPoint(double latitude, double longitude) {\r\n            Coordinate coordinate = new Coordinate(latitude, longitude);\r\n            GeometryFactory geometryFactory = new GeometryFactory();\r\n            this.point = geometryFactory.createPoint(coordinate);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nHere is the AssignmentEntityBuilder shown below\r\n\r\n    public class AssignmentEntityBuilder extends TestDataBuilder&lt;AssignmentEntity&gt; {\r\n    \r\n        public AssignmentEntityBuilder() {\r\n            super(AssignmentEntity.class);\r\n        }\r\n    \r\n        public static List&lt;AssignmentEntity&gt; generateValidUserEntities(int size) {\r\n            List&lt;AssignmentEntity&gt; userEntities = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; size; i++) {\r\n                AssignmentEntity assignmentEntity = new AssignmentEntityBuilder().withValidFields().build();\r\n                userEntities.add(assignmentEntity);\r\n            }\r\n            return userEntities;\r\n        }\r\n    \r\n        public AssignmentEntityBuilder withValidFields() {\r\n            InstitutionEntity institutionEntity = new InstitutionEntityBuilder().withValidFields().build();\r\n    \r\n            double x = Math.random();\r\n            double y = Math.random();\r\n            Point point = new GeometryFactory().createPoint(new Coordinate(x, y));\r\n    \r\n            return this\r\n                    .withId(AysRandomUtil.generateUUID())\r\n                    .withInstitutionId(institutionEntity.getId())\r\n                    .withInstitution(institutionEntity)\r\n                    .withPhoneNumber(new AysPhoneNumberBuilder().withValidFields().build())\r\n                    .withDescription(&quot;Description&quot;)\r\n                    .withFirstName(&quot;First Name&quot;)\r\n                    .withLastName(&quot;Last Name&quot;)\r\n                    .withStatus(AssignmentStatus.AVAILABLE)\r\n                    .withPoint(point);\r\n        }\r\n    \r\n        public AssignmentEntityBuilder withId(String id) {\r\n            data.setId(id);\r\n            return this;\r\n        }\r\n    \r\n        public AssignmentEntityBuilder withInstitutionId(String institutionId) {\r\n            data.setInstitutionId(institutionId);\r\n            return this;\r\n        }\r\n    \r\n        public AssignmentEntityBuilder withPhoneNumber(AysPhoneNumber phoneNumber) {\r\n            data.setCountryCode(phoneNumber.getCountryCode());\r\n            data.setLineNumber(phoneNumber.getLineNumber());\r\n            return this;\r\n        }\r\n    \r\n        public AssignmentEntityBuilder withInstitution(InstitutionEntity institution) {\r\n            data.setInstitution(institution);\r\n            return this;\r\n        }\r\n    \r\n        public AssignmentEntityBuilder withDescription(String description) {\r\n            data.setDescription(description);\r\n            return this;\r\n        }\r\n    \r\n        public AssignmentEntityBuilder withFirstName(String firstName) {\r\n            data.setFirstName(firstName);\r\n            return this;\r\n        }\r\n    \r\n        public AssignmentEntityBuilder withLastName(String lastName) {\r\n            data.setLastName(lastName);\r\n            return this;\r\n        }\r\n    \r\n        public AssignmentEntityBuilder withStatus(AssignmentStatus status) {\r\n            data.setStatus(status);\r\n            return this;\r\n        }\r\n    \r\n        public AssignmentEntityBuilder withPoint(Point point) {\r\n            data.setPoint(point);\r\n            return this;\r\n        }\r\n    \r\n    }\r\n\r\nHere is the service class shown below\r\n\r\n    class AssignmentSaveServiceImplTest extends AbstractUnitTest {\r\n    \r\n        @InjectMocks\r\n        private AssignmentSaveServiceImpl assignmentSaveService;\r\n    \r\n        @Mock\r\n        private AssignmentRepository assignmentRepository;\r\n    \r\n        @Mock\r\n        private AysIdentity identity;\r\n    \r\n        @Test\r\n        void givenValidAssignmentSaveRequest_whenAssignmentSaved_thenReturnAssignment() {\r\n    \r\n            // Given\r\n            AssignmentSaveRequest mockAssignmentSaveRequest = new AssignmentSaveRequestBuilder()\r\n                    .withValidFields()\r\n                    .build();\r\n    \r\n            List&lt;AssignmentEntity&gt; assignmentsFromDatabase = AssignmentEntityBuilder.generateValidUserEntities(10);  --- ERROR LINE\r\n    \r\n            AssignmentEntity mockAssignmentEntity = new AssignmentEntityBuilder()\r\n                    .withValidFields().build();\r\n    \r\n            // When\r\n            Mockito.when(assignmentRepository.findAll())\r\n                    .thenReturn(assignmentsFromDatabase);\r\n    \r\n            Mockito.when(assignmentRepository.save(Mockito.any(AssignmentEntity.class)))\r\n                    .thenReturn(mockAssignmentEntity);\r\n    \r\n            Mockito.when(identity.getInstitutionId())\r\n                    .thenReturn(AysRandomUtil.generateUUID());\r\n    \r\n            // Then\r\n            Assignment assignment = assignmentSaveService.saveAssignment(mockAssignmentSaveRequest);\r\n    \r\n            Assertions.assertEquals(mockAssignmentSaveRequest.getFirstName(), assignment.getFirstName());\r\n            Assertions.assertEquals(mockAssignmentSaveRequest.getLastName(), assignment.getLastName());\r\n            Assertions.assertEquals(mockAssignmentSaveRequest.getPhoneNumber().getLineNumber(), assignment.getPhoneNumber().getLineNumber());\r\n            Assertions.assertEquals(mockAssignmentSaveRequest.getPhoneNumber().getCountryCode(), assignment.getPhoneNumber().getCountryCode());\r\n            Assertions.assertEquals(mockAssignmentSaveRequest.getDescription(), assignment.getDescription());\r\n            Assertions.assertEquals(mockAssignmentSaveRequest.getDescription(), assignment.getDescription());\r\n            Assertions.assertEquals(mockAssignmentSaveRequest.getLongitude(), assignment.getLongitude());\r\n            Assertions.assertEquals(mockAssignmentSaveRequest.getLatitude(), assignment.getLatitude());\r\n    \r\n            Mockito.verify(assignmentRepository, Mockito.times(1)).findAll();\r\n            Mockito.verify(identity, Mockito.times(1)).getInstitutionId();\r\n        }\r\n    }\r\n\r\nHere is the error shown below\r\n\r\n    org.jeasy.random.ObjectCreationException: Unable to create a random instance of type class com.ays.assignment.model.entity.AssignmentEntity\r\n    \r\n    \tat org.jeasy.random.EasyRandom.doPopulateBean(EasyRandom.java:172)\r\n    \tat org.jeasy.random.EasyRandom.nextObject(EasyRandom.java:100)\r\n    \tat com.ays.common.model.TestDataBuilder.&lt;init&gt;(TestDataBuilder.java:39)\r\n    \tat com.ays.common.model.TestDataBuilder.&lt;init&gt;(TestDataBuilder.java:33)\r\n    \tat com.ays.assignment.model.entity.AssignmentEntityBuilder.&lt;init&gt;(AssignmentEntityBuilder.java:20)\r\n    \tat com.ays.assignment.model.entity.AssignmentEntityBuilder.generateValidUserEntities(AssignmentEntityBuilder.java:31)\r\n    \tat com.ays.assignment.service.impl.AssignmentSaveServiceImplTest.givenValidAssignmentSaveRequest_whenAssignmentSaved_thenReturnAssignment(AssignmentSaveServiceImplTest.java:41)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n    Caused by: org.jeasy.random.ObjectCreationException: Unable to create type: org.locationtech.jts.geom.Point for field: point of class: com.ays.assignment.model.entity.AssignmentEntity\r\n    \tat org.jeasy.random.FieldPopulator.populateField(FieldPopulator.java:98)\r\n    \tat org.jeasy.random.EasyRandom.populateField(EasyRandom.java:209)\r\n    \tat org.jeasy.random.EasyRandom.populateFields(EasyRandom.java:198)\r\n    \tat org.jeasy.random.EasyRandom.doPopulateBean(EasyRandom.java:165)\r\n    \t... 74 more\r\n    Caused by: org.jeasy.random.ObjectCreationException: Unable to create a random instance of type class org.locationtech.jts.geom.Point\r\n    \tat org.jeasy.random.EasyRandom.doPopulateBean(EasyRandom.java:172)\r\n    \tat org.jeasy.random.FieldPopulator.generateRandomValue(FieldPopulator.java:160)\r\n    \tat org.jeasy.random.FieldPopulator.populateField(FieldPopulator.java:93)\r\n    \t... 77 more\r\n    Caused by: org.jeasy.random.ObjectCreationException: Unable to create type: org.locationtech.jts.geom.CoordinateSequence for field: coordinates of class: org.locationtech.jts.geom.Point\r\n    \tat org.jeasy.random.FieldPopulator.populateField(FieldPopulator.java:98)\r\n    \tat org.jeasy.random.EasyRandom.populateField(EasyRandom.java:209)\r\n    \tat org.jeasy.random.EasyRandom.populateFields(EasyRandom.java:198)\r\n    \tat org.jeasy.random.EasyRandom.doPopulateBean(EasyRandom.java:165)\r\n    \t... 79 more\r\n    Caused by: org.jeasy.random.ObjectCreationException: Unable to create a random instance of type interface org.locationtech.jts.geom.CoordinateSequence\r\n    \tat org.jeasy.random.EasyRandom.doPopulateBean(EasyRandom.java:172)\r\n    \tat org.jeasy.random.FieldPopulator.generateRandomValue(FieldPopulator.java:160)\r\n    \tat org.jeasy.random.FieldPopulator.populateField(FieldPopulator.java:93)\r\n    \t... 82 more\r\n    Caused by: org.jeasy.random.ObjectCreationException: Unable to create an instance of type: interface org.locationtech.jts.geom.CoordinateSequence\r\n    \tat org.jeasy.random.ObjenesisObjectFactory.createInstance(ObjenesisObjectFactory.java:67)\r\n    \tat org.jeasy.random.EasyRandom.doPopulateBean(EasyRandom.java:147)\r\n    \t... 84 more\r\n    Caused by: java.lang.InstantiationError: org.locationtech.jts.geom.CoordinateSequence\r\n    \tat jdk.internal.reflect.GeneratedSerializationConstructorAccessor7.newInstance(Unknown Source)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\r\n    \tat org.objenesis.instantiator.sun.SunReflectionFactoryInstantiator.newInstance(SunReflectionFactoryInstantiator.java:48)\r\n    \tat org.objenesis.ObjenesisBase.newInstance(ObjenesisBase.java:73)\r\n    \tat org.jeasy.random.ObjenesisObjectFactory.createNewInstance(ObjenesisObjectFactory.java:78)\r\n    \tat org.jeasy.random.ObjenesisObjectFactory.createInstance(ObjenesisObjectFactory.java:65)\r\n    \t... 85 more","title":"Cannot handle with Point (Caused by: java.lang.InstantiationError: org.locationtech.jts.geom.CoordinateSequence) in JUnit Test of Spring Boot","body":"<p>I tried to implement a junit test with the usage of Point in Spring Boot.\nI completed junit test but I have a problem to handle with Point issue in generateValidUserEntities method of AssignmentEntityBuilder.</p>\n<p>How can I fix it?</p>\n<p>Here is the AssignmentEntity shown below</p>\n<pre><code>...\npublic class AssignmentEntity extends BaseEntity {\n\n    ...\n    \n    public void setPoint(double latitude, double longitude) {\n        Coordinate coordinate = new Coordinate(latitude, longitude);\n        GeometryFactory geometryFactory = new GeometryFactory();\n        this.point = geometryFactory.createPoint(coordinate);\n    }\n\n}\n</code></pre>\n<p>Here is the AssignmentEntityBuilder shown below</p>\n<pre><code>public class AssignmentEntityBuilder extends TestDataBuilder&lt;AssignmentEntity&gt; {\n\n    public AssignmentEntityBuilder() {\n        super(AssignmentEntity.class);\n    }\n\n    public static List&lt;AssignmentEntity&gt; generateValidUserEntities(int size) {\n        List&lt;AssignmentEntity&gt; userEntities = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; size; i++) {\n            AssignmentEntity assignmentEntity = new AssignmentEntityBuilder().withValidFields().build();\n            userEntities.add(assignmentEntity);\n        }\n        return userEntities;\n    }\n\n    public AssignmentEntityBuilder withValidFields() {\n        InstitutionEntity institutionEntity = new InstitutionEntityBuilder().withValidFields().build();\n\n        double x = Math.random();\n        double y = Math.random();\n        Point point = new GeometryFactory().createPoint(new Coordinate(x, y));\n\n        return this\n                .withId(AysRandomUtil.generateUUID())\n                .withInstitutionId(institutionEntity.getId())\n                .withInstitution(institutionEntity)\n                .withPhoneNumber(new AysPhoneNumberBuilder().withValidFields().build())\n                .withDescription(&quot;Description&quot;)\n                .withFirstName(&quot;First Name&quot;)\n                .withLastName(&quot;Last Name&quot;)\n                .withStatus(AssignmentStatus.AVAILABLE)\n                .withPoint(point);\n    }\n\n    public AssignmentEntityBuilder withId(String id) {\n        data.setId(id);\n        return this;\n    }\n\n    public AssignmentEntityBuilder withInstitutionId(String institutionId) {\n        data.setInstitutionId(institutionId);\n        return this;\n    }\n\n    public AssignmentEntityBuilder withPhoneNumber(AysPhoneNumber phoneNumber) {\n        data.setCountryCode(phoneNumber.getCountryCode());\n        data.setLineNumber(phoneNumber.getLineNumber());\n        return this;\n    }\n\n    public AssignmentEntityBuilder withInstitution(InstitutionEntity institution) {\n        data.setInstitution(institution);\n        return this;\n    }\n\n    public AssignmentEntityBuilder withDescription(String description) {\n        data.setDescription(description);\n        return this;\n    }\n\n    public AssignmentEntityBuilder withFirstName(String firstName) {\n        data.setFirstName(firstName);\n        return this;\n    }\n\n    public AssignmentEntityBuilder withLastName(String lastName) {\n        data.setLastName(lastName);\n        return this;\n    }\n\n    public AssignmentEntityBuilder withStatus(AssignmentStatus status) {\n        data.setStatus(status);\n        return this;\n    }\n\n    public AssignmentEntityBuilder withPoint(Point point) {\n        data.setPoint(point);\n        return this;\n    }\n\n}\n</code></pre>\n<p>Here is the service class shown below</p>\n<pre><code>class AssignmentSaveServiceImplTest extends AbstractUnitTest {\n\n    @InjectMocks\n    private AssignmentSaveServiceImpl assignmentSaveService;\n\n    @Mock\n    private AssignmentRepository assignmentRepository;\n\n    @Mock\n    private AysIdentity identity;\n\n    @Test\n    void givenValidAssignmentSaveRequest_whenAssignmentSaved_thenReturnAssignment() {\n\n        // Given\n        AssignmentSaveRequest mockAssignmentSaveRequest = new AssignmentSaveRequestBuilder()\n                .withValidFields()\n                .build();\n\n        List&lt;AssignmentEntity&gt; assignmentsFromDatabase = AssignmentEntityBuilder.generateValidUserEntities(10);  --- ERROR LINE\n\n        AssignmentEntity mockAssignmentEntity = new AssignmentEntityBuilder()\n                .withValidFields().build();\n\n        // When\n        Mockito.when(assignmentRepository.findAll())\n                .thenReturn(assignmentsFromDatabase);\n\n        Mockito.when(assignmentRepository.save(Mockito.any(AssignmentEntity.class)))\n                .thenReturn(mockAssignmentEntity);\n\n        Mockito.when(identity.getInstitutionId())\n                .thenReturn(AysRandomUtil.generateUUID());\n\n        // Then\n        Assignment assignment = assignmentSaveService.saveAssignment(mockAssignmentSaveRequest);\n\n        Assertions.assertEquals(mockAssignmentSaveRequest.getFirstName(), assignment.getFirstName());\n        Assertions.assertEquals(mockAssignmentSaveRequest.getLastName(), assignment.getLastName());\n        Assertions.assertEquals(mockAssignmentSaveRequest.getPhoneNumber().getLineNumber(), assignment.getPhoneNumber().getLineNumber());\n        Assertions.assertEquals(mockAssignmentSaveRequest.getPhoneNumber().getCountryCode(), assignment.getPhoneNumber().getCountryCode());\n        Assertions.assertEquals(mockAssignmentSaveRequest.getDescription(), assignment.getDescription());\n        Assertions.assertEquals(mockAssignmentSaveRequest.getDescription(), assignment.getDescription());\n        Assertions.assertEquals(mockAssignmentSaveRequest.getLongitude(), assignment.getLongitude());\n        Assertions.assertEquals(mockAssignmentSaveRequest.getLatitude(), assignment.getLatitude());\n\n        Mockito.verify(assignmentRepository, Mockito.times(1)).findAll();\n        Mockito.verify(identity, Mockito.times(1)).getInstitutionId();\n    }\n}\n</code></pre>\n<p>Here is the error shown below</p>\n<pre><code>org.jeasy.random.ObjectCreationException: Unable to create a random instance of type class com.ays.assignment.model.entity.AssignmentEntity\n\n    at org.jeasy.random.EasyRandom.doPopulateBean(EasyRandom.java:172)\n    at org.jeasy.random.EasyRandom.nextObject(EasyRandom.java:100)\n    at com.ays.common.model.TestDataBuilder.&lt;init&gt;(TestDataBuilder.java:39)\n    at com.ays.common.model.TestDataBuilder.&lt;init&gt;(TestDataBuilder.java:33)\n    at com.ays.assignment.model.entity.AssignmentEntityBuilder.&lt;init&gt;(AssignmentEntityBuilder.java:20)\n    at com.ays.assignment.model.entity.AssignmentEntityBuilder.generateValidUserEntities(AssignmentEntityBuilder.java:31)\n    at com.ays.assignment.service.impl.AssignmentSaveServiceImplTest.givenValidAssignmentSaveRequest_whenAssignmentSaved_thenReturnAssignment(AssignmentSaveServiceImplTest.java:41)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.jeasy.random.ObjectCreationException: Unable to create type: org.locationtech.jts.geom.Point for field: point of class: com.ays.assignment.model.entity.AssignmentEntity\n    at org.jeasy.random.FieldPopulator.populateField(FieldPopulator.java:98)\n    at org.jeasy.random.EasyRandom.populateField(EasyRandom.java:209)\n    at org.jeasy.random.EasyRandom.populateFields(EasyRandom.java:198)\n    at org.jeasy.random.EasyRandom.doPopulateBean(EasyRandom.java:165)\n    ... 74 more\nCaused by: org.jeasy.random.ObjectCreationException: Unable to create a random instance of type class org.locationtech.jts.geom.Point\n    at org.jeasy.random.EasyRandom.doPopulateBean(EasyRandom.java:172)\n    at org.jeasy.random.FieldPopulator.generateRandomValue(FieldPopulator.java:160)\n    at org.jeasy.random.FieldPopulator.populateField(FieldPopulator.java:93)\n    ... 77 more\nCaused by: org.jeasy.random.ObjectCreationException: Unable to create type: org.locationtech.jts.geom.CoordinateSequence for field: coordinates of class: org.locationtech.jts.geom.Point\n    at org.jeasy.random.FieldPopulator.populateField(FieldPopulator.java:98)\n    at org.jeasy.random.EasyRandom.populateField(EasyRandom.java:209)\n    at org.jeasy.random.EasyRandom.populateFields(EasyRandom.java:198)\n    at org.jeasy.random.EasyRandom.doPopulateBean(EasyRandom.java:165)\n    ... 79 more\nCaused by: org.jeasy.random.ObjectCreationException: Unable to create a random instance of type interface org.locationtech.jts.geom.CoordinateSequence\n    at org.jeasy.random.EasyRandom.doPopulateBean(EasyRandom.java:172)\n    at org.jeasy.random.FieldPopulator.generateRandomValue(FieldPopulator.java:160)\n    at org.jeasy.random.FieldPopulator.populateField(FieldPopulator.java:93)\n    ... 82 more\nCaused by: org.jeasy.random.ObjectCreationException: Unable to create an instance of type: interface org.locationtech.jts.geom.CoordinateSequence\n    at org.jeasy.random.ObjenesisObjectFactory.createInstance(ObjenesisObjectFactory.java:67)\n    at org.jeasy.random.EasyRandom.doPopulateBean(EasyRandom.java:147)\n    ... 84 more\nCaused by: java.lang.InstantiationError: org.locationtech.jts.geom.CoordinateSequence\n    at jdk.internal.reflect.GeneratedSerializationConstructorAccessor7.newInstance(Unknown Source)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\n    at org.objenesis.instantiator.sun.SunReflectionFactoryInstantiator.newInstance(SunReflectionFactoryInstantiator.java:48)\n    at org.objenesis.ObjenesisBase.newInstance(ObjenesisBase.java:73)\n    at org.jeasy.random.ObjenesisObjectFactory.createNewInstance(ObjenesisObjectFactory.java:78)\n    at org.jeasy.random.ObjenesisObjectFactory.createInstance(ObjenesisObjectFactory.java:65)\n    ... 85 more\n</code></pre>\n"},{"tags":["java","elasticsearch","elasticsearch-aggregation","elasticsearch-query","elasticsearch-high-level-restclient"],"answers":[{"tags":[],"owner":{"account_id":12414484,"reputation":131,"user_id":9044848,"display_name":"saw1k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692299384,"creation_date":1692299384,"answer_id":76924467,"question_id":76924144,"body_markdown":"You should change mapping for created field like this\r\n\r\n    &quot;created&quot;: {\r\n          &quot;type&quot;: &quot;date&quot;,\r\n          &quot;format&quot;:&quot;epoch_second&quot;\r\n        }\r\nThen on your aggregation change interval to &quot;day&quot; and add format field with date pattern like &quot;yyyy-MM-dd&quot;\r\n\r\nYou aggregation query should be something like this:\r\n\r\n     &quot;aggregations&quot;:{\r\n          &quot;date_count&quot;:{\r\n             &quot;date_histogram&quot;:{\r\n                &quot;field&quot;:&quot;created&quot;,\r\n                &quot;interval&quot;:&quot;day&quot;,\r\n                &quot;format&quot; : &quot;yyyy-MM-dd&quot;,\r\n                &quot;offset&quot;:0,\r\n                &quot;order&quot;:{\r\n                   &quot;_key&quot;:&quot;asc&quot;\r\n                },\r\n                &quot;keyed&quot;:false,\r\n                &quot;min_doc_count&quot;:0\r\n             }\r\n          }\r\n       }\r\n\r\nAnd the effect should be like this:\r\n\r\n    &quot;aggregations&quot; : {\r\n        &quot;date_count&quot; : {\r\n          &quot;buckets&quot; : {\r\n            &quot;2023-08-04&quot; : {\r\n              &quot;key_as_string&quot; : &quot;2023-08-04&quot;,\r\n              &quot;key&quot; : 1691107200000,\r\n              &quot;doc_count&quot; : 1\r\n            },\r\n            &quot;2023-08-05&quot; : {\r\n              &quot;key_as_string&quot; : &quot;2023-08-05&quot;,\r\n              &quot;key&quot; : 1691193600000,\r\n              &quot;doc_count&quot; : 1\r\n            },\r\n            &quot;2023-08-06&quot; : {\r\n              &quot;key_as_string&quot; : &quot;2023-08-06&quot;,\r\n              &quot;key&quot; : 1691280000000,\r\n              &quot;doc_count&quot; : 1\r\n            },\r\n            &quot;2023-08-07&quot; : {\r\n              &quot;key_as_string&quot; : &quot;2023-08-07&quot;,\r\n              &quot;key&quot; : 1691366400000,\r\n              &quot;doc_count&quot; : 0\r\n            },\r\n            &quot;2023-08-08&quot; : {\r\n              &quot;key_as_string&quot; : &quot;2023-08-08&quot;,\r\n              &quot;key&quot; : 1691452800000,\r\n              &quot;doc_count&quot; : 1\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\nOfcourse you can change interval for ex month :)","title":"Elasticsearch date histogram aggregation shows incorrect dates","body":"<p>You should change mapping for created field like this</p>\n<pre><code>&quot;created&quot;: {\n      &quot;type&quot;: &quot;date&quot;,\n      &quot;format&quot;:&quot;epoch_second&quot;\n    }\n</code></pre>\n<p>Then on your aggregation change interval to &quot;day&quot; and add format field with date pattern like &quot;yyyy-MM-dd&quot;</p>\n<p>You aggregation query should be something like this:</p>\n<pre><code> &quot;aggregations&quot;:{\n      &quot;date_count&quot;:{\n         &quot;date_histogram&quot;:{\n            &quot;field&quot;:&quot;created&quot;,\n            &quot;interval&quot;:&quot;day&quot;,\n            &quot;format&quot; : &quot;yyyy-MM-dd&quot;,\n            &quot;offset&quot;:0,\n            &quot;order&quot;:{\n               &quot;_key&quot;:&quot;asc&quot;\n            },\n            &quot;keyed&quot;:false,\n            &quot;min_doc_count&quot;:0\n         }\n      }\n   }\n</code></pre>\n<p>And the effect should be like this:</p>\n<pre><code>&quot;aggregations&quot; : {\n    &quot;date_count&quot; : {\n      &quot;buckets&quot; : {\n        &quot;2023-08-04&quot; : {\n          &quot;key_as_string&quot; : &quot;2023-08-04&quot;,\n          &quot;key&quot; : 1691107200000,\n          &quot;doc_count&quot; : 1\n        },\n        &quot;2023-08-05&quot; : {\n          &quot;key_as_string&quot; : &quot;2023-08-05&quot;,\n          &quot;key&quot; : 1691193600000,\n          &quot;doc_count&quot; : 1\n        },\n        &quot;2023-08-06&quot; : {\n          &quot;key_as_string&quot; : &quot;2023-08-06&quot;,\n          &quot;key&quot; : 1691280000000,\n          &quot;doc_count&quot; : 1\n        },\n        &quot;2023-08-07&quot; : {\n          &quot;key_as_string&quot; : &quot;2023-08-07&quot;,\n          &quot;key&quot; : 1691366400000,\n          &quot;doc_count&quot; : 0\n        },\n        &quot;2023-08-08&quot; : {\n          &quot;key_as_string&quot; : &quot;2023-08-08&quot;,\n          &quot;key&quot; : 1691452800000,\n          &quot;doc_count&quot; : 1\n        }\n      }\n    }\n  }\n</code></pre>\n<p>Ofcourse you can change interval for ex month :)</p>\n"}],"owner":{"account_id":26871811,"reputation":1,"user_id":20453687,"display_name":"roditoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692299384,"creation_date":1692296033,"question_id":76924144,"body_markdown":"Im using ES version 6.8, trying to do a query with the Java High Level REST Client. I&#39;m trying to use the Histogram Date Aggregation to get the count of documents by date.\r\nThis is my query:\r\n\r\n\r\n```\r\n{\r\n   &quot;query&quot;:{\r\n      &quot;bool&quot;:{\r\n         &quot;filter&quot;:[\r\n            {\r\n               &quot;terms&quot;:{\r\n                  &quot;userId&quot;:[\r\n                     &quot;123456&quot;, &quot;654321&quot;\r\n                  ],\r\n                  &quot;boost&quot;:1.0\r\n               }\r\n            },\r\n            {\r\n               &quot;range&quot;:{\r\n                  &quot;created&quot;:{\r\n                     &quot;from&quot;:1672531200000,\r\n                     &quot;to&quot;:1675123200000,\r\n                     &quot;include_lower&quot;:true,\r\n                     &quot;include_upper&quot;:true,\r\n                     &quot;boost&quot;:1.0\r\n                  }\r\n               }\r\n            }\r\n         ],\r\n         &quot;adjust_pure_negative&quot;:true,\r\n         &quot;boost&quot;:1.0\r\n      }\r\n   },\r\n   &quot;aggregations&quot;:{\r\n      &quot;date_count&quot;:{\r\n         &quot;date_histogram&quot;:{\r\n            &quot;field&quot;:&quot;created&quot;,\r\n            &quot;interval&quot;:&quot;1d&quot;,\r\n            &quot;offset&quot;:0,\r\n            &quot;order&quot;:{\r\n               &quot;_key&quot;:&quot;asc&quot;\r\n            },\r\n            &quot;keyed&quot;:false,\r\n            &quot;min_doc_count&quot;:0\r\n         }\r\n      }\r\n   }\r\n}\r\n```\r\nIm using the BoolQueryBuilder to filter by user id and by a range date.\r\n\r\nI expect that if I use a range date from &quot;2023-01-01&quot; to &quot;2023-01-31&quot;  it will return me the quantity of documents per day, also if the count is 0, but this is returning me empty buckets. \r\n\r\nThen I try adding one month from &quot;2023-01-01&quot; to &quot;2023-02-31&quot; and this returns me just 2 buckets, when I want one bucket per day from &quot;2023-01-01&quot; to &quot;2023-02-31&quot;.\r\n\r\n\r\n```\r\n{\r\n   &quot;aggregations&quot;:{\r\n      &quot;date_histogram#date_count&quot;:{\r\n         &quot;buckets&quot;:[\r\n            {\r\n               &quot;key&quot;:1675209600000,\r\n               &quot;doc_count&quot;:3\r\n            },\r\n            {\r\n               &quot;key&quot;:1675296000000,\r\n               &quot;doc_count&quot;:1\r\n            }\r\n         ]\r\n      }\r\n   }\r\n}\r\n```\r\nThe &quot;key&quot; is numeric because we use Long in the &quot;created&quot; field, then I parse to a date.\r\n\r\nDoes anyone know if I am doing something wrong in the query?\r\n\r\nThanks!","title":"Elasticsearch date histogram aggregation shows incorrect dates","body":"<p>Im using ES version 6.8, trying to do a query with the Java High Level REST Client. I'm trying to use the Histogram Date Aggregation to get the count of documents by date.\nThis is my query:</p>\n<pre><code>{\n   &quot;query&quot;:{\n      &quot;bool&quot;:{\n         &quot;filter&quot;:[\n            {\n               &quot;terms&quot;:{\n                  &quot;userId&quot;:[\n                     &quot;123456&quot;, &quot;654321&quot;\n                  ],\n                  &quot;boost&quot;:1.0\n               }\n            },\n            {\n               &quot;range&quot;:{\n                  &quot;created&quot;:{\n                     &quot;from&quot;:1672531200000,\n                     &quot;to&quot;:1675123200000,\n                     &quot;include_lower&quot;:true,\n                     &quot;include_upper&quot;:true,\n                     &quot;boost&quot;:1.0\n                  }\n               }\n            }\n         ],\n         &quot;adjust_pure_negative&quot;:true,\n         &quot;boost&quot;:1.0\n      }\n   },\n   &quot;aggregations&quot;:{\n      &quot;date_count&quot;:{\n         &quot;date_histogram&quot;:{\n            &quot;field&quot;:&quot;created&quot;,\n            &quot;interval&quot;:&quot;1d&quot;,\n            &quot;offset&quot;:0,\n            &quot;order&quot;:{\n               &quot;_key&quot;:&quot;asc&quot;\n            },\n            &quot;keyed&quot;:false,\n            &quot;min_doc_count&quot;:0\n         }\n      }\n   }\n}\n</code></pre>\n<p>Im using the BoolQueryBuilder to filter by user id and by a range date.</p>\n<p>I expect that if I use a range date from &quot;2023-01-01&quot; to &quot;2023-01-31&quot;  it will return me the quantity of documents per day, also if the count is 0, but this is returning me empty buckets.</p>\n<p>Then I try adding one month from &quot;2023-01-01&quot; to &quot;2023-02-31&quot; and this returns me just 2 buckets, when I want one bucket per day from &quot;2023-01-01&quot; to &quot;2023-02-31&quot;.</p>\n<pre><code>{\n   &quot;aggregations&quot;:{\n      &quot;date_histogram#date_count&quot;:{\n         &quot;buckets&quot;:[\n            {\n               &quot;key&quot;:1675209600000,\n               &quot;doc_count&quot;:3\n            },\n            {\n               &quot;key&quot;:1675296000000,\n               &quot;doc_count&quot;:1\n            }\n         ]\n      }\n   }\n}\n</code></pre>\n<p>The &quot;key&quot; is numeric because we use Long in the &quot;created&quot; field, then I parse to a date.</p>\n<p>Does anyone know if I am doing something wrong in the query?</p>\n<p>Thanks!</p>\n"},{"tags":["java","activemq","spring-jms"],"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692299241,"creation_date":1692293323,"question_id":76923867,"body_markdown":"I am trying to create Spring bean of JMS with ActiveMQ in following way:\r\n```xml\r\n&lt;!-- Spring JMS Template --&gt;\r\n&lt;bean id=&quot;refreshJmsTemplate&quot; class=&quot;org.springframework.jms.core.JmsTemplate&quot;&gt;\r\n    &lt;property name=&quot;connectionFactory&quot;&gt;\r\n        &lt;ref bean=&quot;refreshJmsFactory&quot;/&gt;\r\n    &lt;/property&gt;\r\n&lt;/bean&gt;\r\n\r\n&lt;!-- Queue --&gt;\r\n&lt;amq:topic id=&quot;refreshTopic&quot; physicalName=&quot;SystemRefreshTopic&quot;/&gt;\r\n\r\n&lt;!-- Publisher --&gt;\r\n&lt;bean id=&quot;refreshPublisher&quot; scope=&quot;prototype&quot;\r\n      class=&quot;com.pubsub.publisher.JMSRefreshMessagePublisher&quot; init-method=&quot;init&quot;&gt;\r\n    &lt;property name=&quot;destination&quot; ref=&quot;refreshTopic&quot;/&gt;\r\n    &lt;property name=&quot;jmsTemplate&quot; ref=&quot;refreshJmsTemplate&quot;/&gt;\r\n&lt;/bean&gt;\r\n```\r\nJava definition of RefreshMessagePublisher is as follows:\r\n```java\r\npublic class JMSRefreshMessagePublisher implements RefreshMessagePublisher, ApplicationContextAware {\r\n\r\n    private JmsTemplate jmsTemplate;\r\n\r\n    private ActiveMQDestination destination;\r\n\r\n    private ApplicationContext appContext;\r\n\r\n    /*\r\n        init() method to be called during bean init\r\n     */\r\n    public void init(String beanName, ApplicationContext appContext) {\r\n        final String topic = SystemConstants.SYSTEM_REFRESH_TOPIC + &quot;_&quot; + beanName;\r\n        final ActiveMQDestination destination = new ActiveMQTopic(topic);\r\n        this.setDestination(destination);\r\n    }\r\n\r\n\r\n    private void setDestination(ActiveMQDestination destination) {\r\n        this.destination = destination;\r\n    }\r\n\r\n    public void setJmsTemplate(JmsTemplate jmsTemplate) {\r\n        this.jmsTemplate = jmsTemplate;\r\n    }\r\n```\r\n\r\nWhen instantiating the bean i am getting following error \r\n```\r\nError setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property &#39;destination&#39; of bean class [com.pubsub.publisher.SystemRefreshMessagePublisher]: Bean property &#39;destination&#39; is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\r\n```","title":"Error in Spring bean of JMSPublisher using JMS AMQ topic","body":"<p>I am trying to create Spring bean of JMS with ActiveMQ in following way:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Spring JMS Template --&gt;\n&lt;bean id=&quot;refreshJmsTemplate&quot; class=&quot;org.springframework.jms.core.JmsTemplate&quot;&gt;\n    &lt;property name=&quot;connectionFactory&quot;&gt;\n        &lt;ref bean=&quot;refreshJmsFactory&quot;/&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;!-- Queue --&gt;\n&lt;amq:topic id=&quot;refreshTopic&quot; physicalName=&quot;SystemRefreshTopic&quot;/&gt;\n\n&lt;!-- Publisher --&gt;\n&lt;bean id=&quot;refreshPublisher&quot; scope=&quot;prototype&quot;\n      class=&quot;com.pubsub.publisher.JMSRefreshMessagePublisher&quot; init-method=&quot;init&quot;&gt;\n    &lt;property name=&quot;destination&quot; ref=&quot;refreshTopic&quot;/&gt;\n    &lt;property name=&quot;jmsTemplate&quot; ref=&quot;refreshJmsTemplate&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Java definition of RefreshMessagePublisher is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JMSRefreshMessagePublisher implements RefreshMessagePublisher, ApplicationContextAware {\n\n    private JmsTemplate jmsTemplate;\n\n    private ActiveMQDestination destination;\n\n    private ApplicationContext appContext;\n\n    /*\n        init() method to be called during bean init\n     */\n    public void init(String beanName, ApplicationContext appContext) {\n        final String topic = SystemConstants.SYSTEM_REFRESH_TOPIC + &quot;_&quot; + beanName;\n        final ActiveMQDestination destination = new ActiveMQTopic(topic);\n        this.setDestination(destination);\n    }\n\n\n    private void setDestination(ActiveMQDestination destination) {\n        this.destination = destination;\n    }\n\n    public void setJmsTemplate(JmsTemplate jmsTemplate) {\n        this.jmsTemplate = jmsTemplate;\n    }\n</code></pre>\n<p>When instantiating the bean i am getting following error</p>\n<pre><code>Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'destination' of bean class [com.pubsub.publisher.SystemRefreshMessagePublisher]: Bean property 'destination' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\n</code></pre>\n"},{"tags":["java","spring","spring-boot","logging","mockmvc"],"owner":{"account_id":2023908,"reputation":4939,"user_id":1809463,"accept_rate":84,"display_name":"mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692299098,"creation_date":1692279455,"question_id":76922063,"body_markdown":"I have trouble finding the right configuration that includes the console output generated by MockMvc (ie, *MockHttpServletRequest*, *MockHttpServletResponse* etc) in Logback&#39;s file and console appender. \r\n\r\nBelow the current console output I&#39;m getting in IntelliJ.    \r\n\r\n    2023-08-17T15:02:55.698+02:00  INFO 17720 --- [    Test worker] ish.user.UserApplicationMockedTests      : Started UserApplicationMockedTests in 5.549 seconds (process running for\r\n    8.227) 2023-08-17T15:02:55.943+02:00  INFO 17720 --- [    Test worker] ish.user.controller.UserController       : Getting user for ID: 100\r\n    \r\n    MockHttpServletRequest:\r\n          HTTP Method = GET\r\n          Request URI = /api/v1.0/users/100\r\n           Parameters = {}\r\n              Headers = []\r\n                 Body = null\r\n        Session Attrs = {}\r\n    \r\n    Handler:\r\n                 Type = ish.user.controller.UserController\r\n               Method = ish.user.controller.UserController#getUserById(long)\r\n    \r\n    Async:\r\n        Async started = false\r\n         Async result = null\r\n    \r\n    Resolved Exception:\r\n                 Type = null\r\n    \r\n    ModelAndView:\r\n            View name = null\r\n                 View = null\r\n                Model = null\r\n    \r\n    FlashMap:\r\n           Attributes = null\r\n    \r\n    MockHttpServletResponse:\r\n               Status = 200\r\n        Error message = null\r\n              Headers = [Vary:&quot;Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, Content-Type:&quot;application/json&quot;]\r\n         Content type = application/json\r\n                 Body = {&quot;id&quot;:100,&quot;mail&quot;:&quot;mitch.lee@hedberg.com&quot;,&quot;firstname&quot;:&quot;Mitchell&quot;,&quot;lastname&quot;:&quot;Hedberg&quot;}\r\n        Forwarded URL = null    Redirected URL = null\r\n              Cookies = []\r\n    2023-08-17T15:02:56.158+02:00  INFO 17720 --- [    Test worker] ish.user.controller.UserController       : Getting user for ID: 1001\r\n\r\nMy **application.yaml** is configured as follows\r\n\r\n    logging:\r\n      level:\r\n        ROOT: INFO\r\n        org.springframework.boot: INFO\r\n        org.springframework.boot.test.*: TRACE\r\n        org.springframework.test.web.servlet.*: TRACE\r\n        ish.user.*: DEBUG\r\n        org.hibernate.SQL: TRACE\r\n        org.hibernate.type.descriptor.sql.BasicBinder: TRACE\r\n        org.hibernate.type: INFO\r\n      config: classpath:logback-test.xml\r\n\r\nI&#39;ve added `org.springframework.boot.test.*` and `org.spring.framework.test.web.servlet.*` with logging level `TRACE`, but that didnt&#39; help.\r\n\r\nHere, also my **logback-test.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE configuration&gt;\r\n    &lt;configuration&gt;\r\n        &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n        &lt;statusListener class=&quot;ch.qos.logback.core.status.NopStatusListener&quot;/&gt;\r\n    \r\n        &lt;property name=&quot;APP&quot; value=&quot;ish-user-svc&quot;/&gt;\r\n        &lt;!-- or in Java with: System.setProperty(&quot;LOG_DIR&quot;, &quot;log&quot;); --&gt;\r\n        &lt;property name=&quot;LOG_DIR&quot; value=&quot;log&quot;/&gt;\r\n        &lt;property name=&quot;LOG_LEVEL&quot; value=&quot;TRACE&quot;/&gt;\r\n    \r\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n                &lt;level&gt;DEBUG&lt;/level&gt;\r\n            &lt;/filter&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;${CONSOLE_LOG_PATTERN}&lt;/pattern&gt;\r\n                &lt;charset&gt;utf8&lt;/charset&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;FILE_DEBUG&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n                &lt;level&gt;${LOG_LEVEL}&lt;/level&gt;\r\n            &lt;/filter&gt;\r\n    \r\n            &lt;file&gt;${LOG_DIR}/test.${APP}.${LOG_LEVEL}.log&lt;/file&gt;\r\n            &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n                &lt;pattern&gt;${FILE_LOG_PATTERN}&lt;/pattern&gt;\r\n                &lt;charset&gt;utf8&lt;/charset&gt;\r\n            &lt;/encoder&gt;\r\n    \r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n                &lt;fileNamePattern&gt;${LOG_DIR}/archived/test.${APP}-%d{yyyy-MM-dd}.%i.${LOG_LEVEL}.log&lt;/fileNamePattern&gt;\r\n                &lt;maxHistory&gt;10&lt;/maxHistory&gt;\r\n                &lt;totalSizeCap&gt;100MB&lt;/totalSizeCap&gt;\r\n                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\r\n            &lt;/rollingPolicy&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;root&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n            &lt;appender-ref ref=&quot;FILE_DEBUG&quot;/&gt;\r\n        &lt;/root&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n\r\n","title":"Logback configuration for MockMVC&#39;s logs when testing in Spring Boot","body":"<p>I have trouble finding the right configuration that includes the console output generated by MockMvc (ie, <em>MockHttpServletRequest</em>, <em>MockHttpServletResponse</em> etc) in Logback's file and console appender.</p>\n<p>Below the current console output I'm getting in IntelliJ.</p>\n<pre><code>2023-08-17T15:02:55.698+02:00  INFO 17720 --- [    Test worker] ish.user.UserApplicationMockedTests      : Started UserApplicationMockedTests in 5.549 seconds (process running for\n8.227) 2023-08-17T15:02:55.943+02:00  INFO 17720 --- [    Test worker] ish.user.controller.UserController       : Getting user for ID: 100\n\nMockHttpServletRequest:\n      HTTP Method = GET\n      Request URI = /api/v1.0/users/100\n       Parameters = {}\n          Headers = []\n             Body = null\n    Session Attrs = {}\n\nHandler:\n             Type = ish.user.controller.UserController\n           Method = ish.user.controller.UserController#getUserById(long)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 200\n    Error message = null\n          Headers = [Vary:&quot;Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, Content-Type:&quot;application/json&quot;]\n     Content type = application/json\n             Body = {&quot;id&quot;:100,&quot;mail&quot;:&quot;mitch.lee@hedberg.com&quot;,&quot;firstname&quot;:&quot;Mitchell&quot;,&quot;lastname&quot;:&quot;Hedberg&quot;}\n    Forwarded URL = null    Redirected URL = null\n          Cookies = []\n2023-08-17T15:02:56.158+02:00  INFO 17720 --- [    Test worker] ish.user.controller.UserController       : Getting user for ID: 1001\n</code></pre>\n<p>My <strong>application.yaml</strong> is configured as follows</p>\n<pre><code>logging:\n  level:\n    ROOT: INFO\n    org.springframework.boot: INFO\n    org.springframework.boot.test.*: TRACE\n    org.springframework.test.web.servlet.*: TRACE\n    ish.user.*: DEBUG\n    org.hibernate.SQL: TRACE\n    org.hibernate.type.descriptor.sql.BasicBinder: TRACE\n    org.hibernate.type: INFO\n  config: classpath:logback-test.xml\n</code></pre>\n<p>I've added <code>org.springframework.boot.test.*</code> and <code>org.spring.framework.test.web.servlet.*</code> with logging level <code>TRACE</code>, but that didnt' help.</p>\n<p>Here, also my <strong>logback-test.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE configuration&gt;\n&lt;configuration&gt;\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\n    &lt;statusListener class=&quot;ch.qos.logback.core.status.NopStatusListener&quot;/&gt;\n\n    &lt;property name=&quot;APP&quot; value=&quot;ish-user-svc&quot;/&gt;\n    &lt;!-- or in Java with: System.setProperty(&quot;LOG_DIR&quot;, &quot;log&quot;); --&gt;\n    &lt;property name=&quot;LOG_DIR&quot; value=&quot;log&quot;/&gt;\n    &lt;property name=&quot;LOG_LEVEL&quot; value=&quot;TRACE&quot;/&gt;\n\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n            &lt;level&gt;DEBUG&lt;/level&gt;\n        &lt;/filter&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;${CONSOLE_LOG_PATTERN}&lt;/pattern&gt;\n            &lt;charset&gt;utf8&lt;/charset&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;FILE_DEBUG&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n            &lt;level&gt;${LOG_LEVEL}&lt;/level&gt;\n        &lt;/filter&gt;\n\n        &lt;file&gt;${LOG_DIR}/test.${APP}.${LOG_LEVEL}.log&lt;/file&gt;\n        &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n            &lt;pattern&gt;${FILE_LOG_PATTERN}&lt;/pattern&gt;\n            &lt;charset&gt;utf8&lt;/charset&gt;\n        &lt;/encoder&gt;\n\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;${LOG_DIR}/archived/test.${APP}-%d{yyyy-MM-dd}.%i.${LOG_LEVEL}.log&lt;/fileNamePattern&gt;\n            &lt;maxHistory&gt;10&lt;/maxHistory&gt;\n            &lt;totalSizeCap&gt;100MB&lt;/totalSizeCap&gt;\n            &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\n        &lt;/rollingPolicy&gt;\n    &lt;/appender&gt;\n\n    &lt;root&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n        &lt;appender-ref ref=&quot;FILE_DEBUG&quot;/&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":125029,"reputation":330,"user_id":682256,"display_name":"Simon Logic"},"score":1,"creation_date":1540582990,"post_id":40061204,"comment_id":92934295,"body_markdown":"Is -Dspring.profiles.active=dev equivalent of -Dspring-boot.run.profiles=dev? It&#39;s frustrating... brrrr.","body":"Is -Dspring.profiles.active=dev equivalent of -Dspring-boot.run.profiles=dev? It&#39;s frustrating... brrrr."},{"owner":{"account_id":9029135,"reputation":444,"user_id":6727427,"display_name":"vmaldosan"},"score":0,"creation_date":1553801899,"post_id":40061204,"comment_id":97531848,"body_markdown":"@SimonLogic, see Amimo Benja&#39;s answer.","body":"@SimonLogic, see Amimo Benja&#39;s answer."},{"owner":{"account_id":553069,"reputation":695,"user_id":918394,"display_name":"John DeRegnaucourt"},"score":1,"creation_date":1571532236,"post_id":40061204,"comment_id":103272505,"body_markdown":"This answer does not work for me. Instead, see the answer from @francis, `mvn spring-boot:run -Dspring-boot.run.profiles=dev` works.","body":"This answer does not work for me. Instead, see the answer from @francis, <code>mvn spring-boot:run -Dspring-boot.run.profiles=dev</code> works."},{"owner":{"account_id":2288657,"reputation":1126,"user_id":2012120,"display_name":"Sumi Straessle"},"score":2,"creation_date":1587632918,"post_id":40061204,"comment_id":108589266,"body_markdown":"I&#39;m using [Spring Boot Maven Plugin](https://docs.spring.io/spring-boot/docs/current/maven-plugin/examples/run-profiles.html), so I do: `mvn spring-boot:run -Dspring-boot.run.profiles=foo,bar` (as stated in other answers way below).","body":"I&#39;m using <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/examples/run-profiles.html\" rel=\"nofollow noreferrer\">Spring Boot Maven Plugin</a>, so I do: <code>mvn spring-boot:run -Dspring-boot.run.profiles=foo,bar</code> (as stated in other answers way below)."}],"tags":[],"owner":{"account_id":2557553,"reputation":3975,"user_id":2219213,"accept_rate":69,"display_name":"Sergii Getman"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1476547126,"creation_date":1476547126,"answer_id":40061204,"question_id":40060989,"body_markdown":"You can specify properties according profiles in one *application.properties(yml)* like [here][1]. Then \n`mvn clean spring-boot:run -Dspring.profiles.active=dev` should run it correct. It works for me\n\n\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-profile-specific-properties","title":"How to use Spring Boot profiles?","body":"<p>You can specify properties according profiles in one <em>application.properties(yml)</em> like <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-profile-specific-properties\" rel=\"nofollow\">here</a>. Then \n<code>mvn clean spring-boot:run -Dspring.profiles.active=dev</code> should run it correct. It works for me</p>\n"},{"comments":[{"owner":{"account_id":8224865,"reputation":1686,"user_id":6187459,"accept_rate":8,"display_name":"twogoods"},"score":0,"creation_date":1476583601,"post_id":40061235,"comment_id":67406107,"body_markdown":"thanks,the way you gived should be ok,but as i say  I use `java -jar XXX.jar --spring.profiles.active=dev` to choose dev profile, console print so many logs and warns that i never see used ` java -jar XXX.jar`, and tell me `APPLICATION FAILED TO START` but build success. `mvn spring-boot:run -Drun.profiles=dev` and `java -jar -Dspring.profiles.active=dev XXX.jar` is same,`mvn spring-boot:run` and `java -jar ` can run well.i open debug mode accidentally???","body":"thanks,the way you gived should be ok,but as i say  I use <code>java -jar XXX.jar --spring.profiles.active=dev</code> to choose dev profile, console print so many logs and warns that i never see used ` java -jar XXX.jar<code>, and tell me </code>APPLICATION FAILED TO START` but build success. <code>mvn spring-boot:run -Drun.profiles=dev</code> and <code>java -jar -Dspring.profiles.active=dev XXX.jar</code> is same,<code>mvn spring-boot:run</code> and <code>java -jar </code> can run well.i open debug mode accidentally???"},{"owner":{"account_id":557859,"reputation":5979,"user_id":920457,"accept_rate":100,"display_name":"francis"},"score":0,"creation_date":1476588336,"post_id":40061235,"comment_id":67406811,"body_markdown":"The order is wrong, `java -jar XXX.jar --spring.profiles.active=dev` does **not** set the profile to dev. You need to use `java -jar -Dspring.profiles.active=dev XXX.jar`","body":"The order is wrong, <code>java -jar XXX.jar --spring.profiles.active=dev</code> does <b>not</b> set the profile to dev. You need to use <code>java -jar -Dspring.profiles.active=dev XXX.jar</code>"},{"owner":{"account_id":8224865,"reputation":1686,"user_id":6187459,"accept_rate":8,"display_name":"twogoods"},"score":1,"creation_date":1476597894,"post_id":40061235,"comment_id":67408420,"body_markdown":"i have use `java -jar -Dspring.profiles.active=dev XXX.jar` console print many logs, warns and debugs, and failed to start. `java -jar XXX.jar --spring.profiles.active=dev` this order is wrong but also console print many logs, warns and debugs,the same as use `java -jar -Dspring.profiles.active=dev XXX.jar`.and i have try the quickstart in documents, both order is ok can choose the profile .springboot version is 1.4.1","body":"i have use <code>java -jar -Dspring.profiles.active=dev XXX.jar</code> console print many logs, warns and debugs, and failed to start. <code>java -jar XXX.jar --spring.profiles.active=dev</code> this order is wrong but also console print many logs, warns and debugs,the same as use <code>java -jar -Dspring.profiles.active=dev XXX.jar</code>.and i have try the quickstart in documents, both order is ok can choose the profile .springboot version is 1.4.1"},{"owner":{"account_id":557859,"reputation":5979,"user_id":920457,"accept_rate":100,"display_name":"francis"},"score":1,"creation_date":1476627877,"post_id":40061235,"comment_id":67416011,"body_markdown":"In that case you most likely have a different problem not related to your profile","body":"In that case you most likely have a different problem not related to your profile"},{"owner":{"account_id":553069,"reputation":695,"user_id":918394,"display_name":"John DeRegnaucourt"},"score":0,"creation_date":1571532732,"post_id":40061235,"comment_id":103272586,"body_markdown":"What is nice about @twogoods answer above (`java -jar XXX.jar -Dspring.profiles.active=dev`), is that you do not need Maven installed to start the spring boot app.  For example, Maven may not be available on production server.","body":"What is nice about @twogoods answer above (<code>java -jar XXX.jar -Dspring.profiles.active=dev</code>), is that you do not need Maven installed to start the spring boot app.  For example, Maven may not be available on production server."}],"tags":[],"owner":{"account_id":557859,"reputation":5979,"user_id":920457,"accept_rate":100,"display_name":"francis"},"comment_count":5,"down_vote_count":1,"up_vote_count":213,"is_accepted":false,"score":212,"last_activity_date":1688318665,"creation_date":1476547309,"answer_id":40061235,"question_id":40060989,"body_markdown":"I&#39;m not sure I fully understand the question but I&#39;ll attempt to answer by providing a few details about profiles in Spring Boot.\r\n\r\nFor your **#1** example, according to the docs you can select the profile using the _Spring Boot Maven Plugin_ using `-Drun.profiles`.\r\n \r\n**Edit**: For Spring Boot 2.0+ `run` has been renamed to `spring-boot.run` and `run.profiles` has been renamed to `spring-boot.run.profiles`\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.profiles=dev\r\n\r\nFor more details look at: [Spring Boot Maven Plugin](https://docs.spring.io/spring-boot/docs/2.0.1.RELEASE/maven-plugin/examples/run-profiles.html)\r\n\r\nFrom your **#2** example, you are defining the active profile after the name of the jar. You need to provide the JVM argument before the name of the jar you are running.\r\n\r\n    java -jar -Dspring.profiles.active=dev XXX.jar\r\n\r\nGeneral info:\r\n\r\nYou mention that you have both an `application.yml` and a `application-dev.yml`. Running with the `dev` profile will actually load *both* config files. Values from `application-dev.yml` will override the same values provided by `application.yml` but values from both `yml` files will be loaded.\r\n\r\nThere are also multiple ways to define the active profile.\r\n\r\nYou can define them as you did, using `-Dspring.profiles.active` when running your jar. You can also set the profile using a `SPRING_PROFILES_ACTIVE` environment variable or a `spring.profiles.active` system property.\r\n\r\nMore info can be found here:\r\n[2.6. Set the Active Spring Profiles](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-set-active-spring-profiles)\r\n\r\n\r\n\r\n\r\n","title":"How to use Spring Boot profiles?","body":"<p>I'm not sure I fully understand the question but I'll attempt to answer by providing a few details about profiles in Spring Boot.</p>\n<p>For your <strong>#1</strong> example, according to the docs you can select the profile using the <em>Spring Boot Maven Plugin</em> using <code>-Drun.profiles</code>.</p>\n<p><strong>Edit</strong>: For Spring Boot 2.0+ <code>run</code> has been renamed to <code>spring-boot.run</code> and <code>run.profiles</code> has been renamed to <code>spring-boot.run.profiles</code></p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.profiles=dev\n</code></pre>\n<p>For more details look at: <a href=\"https://docs.spring.io/spring-boot/docs/2.0.1.RELEASE/maven-plugin/examples/run-profiles.html\" rel=\"noreferrer\">Spring Boot Maven Plugin</a></p>\n<p>From your <strong>#2</strong> example, you are defining the active profile after the name of the jar. You need to provide the JVM argument before the name of the jar you are running.</p>\n<pre><code>java -jar -Dspring.profiles.active=dev XXX.jar\n</code></pre>\n<p>General info:</p>\n<p>You mention that you have both an <code>application.yml</code> and a <code>application-dev.yml</code>. Running with the <code>dev</code> profile will actually load <em>both</em> config files. Values from <code>application-dev.yml</code> will override the same values provided by <code>application.yml</code> but values from both <code>yml</code> files will be loaded.</p>\n<p>There are also multiple ways to define the active profile.</p>\n<p>You can define them as you did, using <code>-Dspring.profiles.active</code> when running your jar. You can also set the profile using a <code>SPRING_PROFILES_ACTIVE</code> environment variable or a <code>spring.profiles.active</code> system property.</p>\n<p>More info can be found here:\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-set-active-spring-profiles\" rel=\"noreferrer\">2.6. Set the Active Spring Profiles</a></p>\n"},{"comments":[{"owner":{"account_id":61331,"reputation":988,"user_id":182840,"accept_rate":76,"display_name":"hypercube"},"score":1,"creation_date":1671474766,"post_id":49591444,"comment_id":132102727,"body_markdown":"Why would you need to do that? Config files tend to grow over time. Having all of them in a single file is a VERY bad idea, except if you like zapping through lines of code.","body":"Why would you need to do that? Config files tend to grow over time. Having all of them in a single file is a VERY bad idea, except if you like zapping through lines of code."}],"tags":[],"owner":{"account_id":9542529,"reputation":522,"user_id":7090067,"display_name":"sumit singh"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1522523523,"creation_date":1522523523,"answer_id":49591444,"question_id":40060989,"body_markdown":"You don&#39;t need three .yml files for this. You can have a single application.yml file and write profile specific properties in the same where each profile section is separated by 3 hyphen (---)\r\n\r\nNext, for selecting the current active profile, you can specify that as well in your application.yml file, like this :\r\n\r\n    spring:\r\n      profiles:\r\n        active:\r\n        - local\r\n\r\nHowever, this configuration will be overriden if you set an Environment variable, eg :\r\nSPRING_PROFILES_ACTIVE = dev\r\n\r\n\r\n----------\r\n\r\n\r\nHere is a sample file for you requirement:\r\n\r\n    # include common properties for every profile in this section\r\n    \r\n    server.port: 5000 \r\n    \r\n    spring:\r\n      profiles:\r\n        active:\r\n        - local\r\n      \r\n    ---\r\n    # profile specific properties\r\n    \r\n    spring:\r\n      profiles: local\r\n      \r\n      datasource:\r\n        url: jdbc:mysql://localhost:3306/\r\n        username: root\r\n        password: root\r\n    \t\r\n    ---\r\n    # profile specific properties\r\n    \r\n    spring:\r\n      profiles: dev\r\n      \r\n      datasource:\r\n        url: jdbc:mysql://&lt;dev db url&gt;\r\n        username: &lt;username&gt;\r\n        password: &lt;password&gt;\r\n    \t\r\n    \t","title":"How to use Spring Boot profiles?","body":"<p>You don't need three .yml files for this. You can have a single application.yml file and write profile specific properties in the same where each profile section is separated by 3 hyphen (---)</p>\n\n<p>Next, for selecting the current active profile, you can specify that as well in your application.yml file, like this :</p>\n\n<pre><code>spring:\n  profiles:\n    active:\n    - local\n</code></pre>\n\n<p>However, this configuration will be overriden if you set an Environment variable, eg :\nSPRING_PROFILES_ACTIVE = dev</p>\n\n<hr>\n\n<p>Here is a sample file for you requirement:</p>\n\n<pre><code># include common properties for every profile in this section\n\nserver.port: 5000 \n\nspring:\n  profiles:\n    active:\n    - local\n\n---\n# profile specific properties\n\nspring:\n  profiles: local\n\n  datasource:\n    url: jdbc:mysql://localhost:3306/\n    username: root\n    password: root\n\n---\n# profile specific properties\n\nspring:\n  profiles: dev\n\n  datasource:\n    url: jdbc:mysql://&lt;dev db url&gt;\n    username: &lt;username&gt;\n    password: &lt;password&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3597402,"reputation":1164,"user_id":3001675,"accept_rate":86,"display_name":"LIvanov"},"score":0,"creation_date":1680964750,"post_id":50156924,"comment_id":133984816,"body_markdown":"link doesnt work anymore","body":"link doesnt work anymore"},{"owner":{"account_id":9708017,"reputation":1819,"user_id":7200877,"display_name":"pedromorfeu"},"score":1,"creation_date":1681053352,"post_id":50156924,"comment_id":133993796,"body_markdown":"@LIvanov broken link fixed. Thanks for notifying.","body":"@LIvanov broken link fixed. Thanks for notifying."}],"tags":[],"owner":{"account_id":9708017,"reputation":1819,"user_id":7200877,"display_name":"pedromorfeu"},"comment_count":2,"down_vote_count":1,"up_vote_count":54,"is_accepted":false,"score":53,"last_activity_date":1681053292,"creation_date":1525356015,"answer_id":50156924,"question_id":40060989,"body_markdown":"If you are using the Spring Boot Maven Plugin, run:\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.profiles=foo,bar\r\n\r\n(https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using.overriding-command-line)","title":"How to use Spring Boot profiles?","body":"<p>If you are using the Spring Boot Maven Plugin, run:</p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.profiles=foo,bar\n</code></pre>\n<p>(<a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using.overriding-command-line\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using.overriding-command-line</a>)</p>\n"},{"tags":[],"owner":{"account_id":10880077,"reputation":1286,"user_id":7999311,"display_name":"Adam Ostrol&#237;k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536825866,"creation_date":1536825866,"answer_id":52309204,"question_id":40060989,"body_markdown":"&gt; The @Profile annotation allows you to indicate that a component is\r\n&gt; eligible for registration when one or more specified profiles are\r\n&gt; active. Using our example above, we can rewrite the dataSource\r\n&gt; configuration as follows:\r\n\r\n    @Configuration\r\n    @Profile(&quot;dev&quot;)\r\n    public class StandaloneDataConfig {\r\n    \r\n        @Bean\r\n        public DataSource dataSource() {\r\n            return new EmbeddedDatabaseBuilder()\r\n                .setType(EmbeddedDatabaseType.HSQL)\r\n                .addScript(&quot;classpath:com/bank/config/sql/schema.sql&quot;)\r\n                .addScript(&quot;classpath:com/bank/config/sql/test-data.sql&quot;)\r\n                .build();\r\n        }\r\n    }\r\n\r\n \r\nAnd other one:\r\n\r\n    @Configuration\r\n    @Profile(&quot;production&quot;)\r\n    public class JndiDataConfig {\r\n    \r\n        @Bean(destroyMethod=&quot;&quot;)\r\n        public DataSource dataSource() throws Exception {\r\n            Context ctx = new InitialContext();\r\n            return (DataSource) ctx.lookup(&quot;java:comp/env/jdbc/datasource&quot;);\r\n        }\r\n    }\r\n\r\n","title":"How to use Spring Boot profiles?","body":"<blockquote>\n  <p>The @Profile annotation allows you to indicate that a component is\n  eligible for registration when one or more specified profiles are\n  active. Using our example above, we can rewrite the dataSource\n  configuration as follows:</p>\n</blockquote>\n\n<pre><code>@Configuration\n@Profile(\"dev\")\npublic class StandaloneDataConfig {\n\n    @Bean\n    public DataSource dataSource() {\n        return new EmbeddedDatabaseBuilder()\n            .setType(EmbeddedDatabaseType.HSQL)\n            .addScript(\"classpath:com/bank/config/sql/schema.sql\")\n            .addScript(\"classpath:com/bank/config/sql/test-data.sql\")\n            .build();\n    }\n}\n</code></pre>\n\n<p>And other one:</p>\n\n<pre><code>@Configuration\n@Profile(\"production\")\npublic class JndiDataConfig {\n\n    @Bean(destroyMethod=\"\")\n    public DataSource dataSource() throws Exception {\n        Context ctx = new InitialContext();\n        return (DataSource) ctx.lookup(\"java:comp/env/jdbc/datasource\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10947378,"reputation":21,"user_id":8044957,"display_name":"Ishadi Gamage"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541226517,"creation_date":1541226196,"answer_id":53128962,"question_id":40060989,"body_markdown":"Create specific .yml files in the resources directory for each and every environment(Eg: dev,qa,stg etc.) that you need to run the application.\r\n[image of .yml files in resources directory][1]\r\n\r\nIf you are using spring-boot-maven-plugin 2.0.5.RELEASE in your pom.xml file you can add the profiles within the dependency tag as follows.\r\n[image of pom.xml spring-boot-maven-plugin][2]\r\n(you can configure multiple profiles using multiple profile tags)\r\n\r\nThen you can use the following commands to build and run the project.\r\n\r\n    1) mvn clean install\r\n    2) mvn spring-boot:run -Dspring-boot.run.default==qa\r\n\r\nThen you will see that the default profile is set as qa while running the project.\r\n[displaying the default profile when running the application][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7fjec.png\r\n  [2]: https://i.stack.imgur.com/1Awql.png\r\n  [3]: https://i.stack.imgur.com/TM64B.png","title":"How to use Spring Boot profiles?","body":"<p>Create specific .yml files in the resources directory for each and every environment(Eg: dev,qa,stg etc.) that you need to run the application.\n<a href=\"https://i.stack.imgur.com/7fjec.png\" rel=\"nofollow noreferrer\">image of .yml files in resources directory</a></p>\n\n<p>If you are using spring-boot-maven-plugin 2.0.5.RELEASE in your pom.xml file you can add the profiles within the dependency tag as follows.\n<a href=\"https://i.stack.imgur.com/1Awql.png\" rel=\"nofollow noreferrer\">image of pom.xml spring-boot-maven-plugin</a>\n(you can configure multiple profiles using multiple profile tags)</p>\n\n<p>Then you can use the following commands to build and run the project.</p>\n\n<pre><code>1) mvn clean install\n2) mvn spring-boot:run -Dspring-boot.run.default==qa\n</code></pre>\n\n<p>Then you will see that the default profile is set as qa while running the project.\n<a href=\"https://i.stack.imgur.com/TM64B.png\" rel=\"nofollow noreferrer\">displaying the default profile when running the application</a></p>\n"},{"comments":[{"owner":{"account_id":6460997,"reputation":7359,"user_id":5004822,"accept_rate":41,"display_name":"SledgeHammer"},"score":0,"creation_date":1579133015,"post_id":54231495,"comment_id":105667969,"body_markdown":"is this still supposed to work for any arbitrary property? I am looking at my generated war file and it has the original property in there still.","body":"is this still supposed to work for any arbitrary property? I am looking at my generated war file and it has the original property in there still."}],"tags":[],"owner":{"account_id":3685282,"reputation":545,"user_id":3069161,"display_name":"Amimo Benja"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1547712472,"creation_date":1547712472,"answer_id":54231495,"question_id":40060989,"body_markdown":"If you are using maven, define your profiles as shown below within your pom.xml\r\n\r\n    &lt;profiles&gt;\r\n\t&lt;profile&gt;\r\n\t\t&lt;id&gt;local&lt;/id&gt;\r\n\t\t&lt;activation&gt;\r\n\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n\t\t&lt;/activation&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;jdbc.url&gt;dbUrl&lt;/jdbc.url&gt;\r\n\t\t\t&lt;jdbc.username&gt;dbuser&lt;/jdbc.username&gt;\r\n\t\t\t&lt;jdbc.password&gt;dbPassword&lt;/jdbc.password&gt;\r\n\t\t\t&lt;jdbc.driver&gt;dbDriver&lt;/jdbc.driver&gt;\r\n\t\t&lt;/properties&gt;\r\n\t&lt;/profile&gt;\r\n\t&lt;profile&gt;\r\n\t\t&lt;id&gt;dev&lt;/id&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;jdbc.url&gt;dbUrl&lt;/jdbc.url&gt;\r\n\t\t\t&lt;jdbc.username&gt;dbuser&lt;/jdbc.username&gt;\r\n\t\t\t&lt;jdbc.password&gt;dbPassword&lt;/jdbc.password&gt;\r\n\t\t\t&lt;jdbc.driver&gt;dbDriver&lt;/jdbc.driver&gt;\r\n\t\t&lt;/properties&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/profile&gt;\r\n\t&lt;profile&gt;\r\n\t\t&lt;id&gt;prod&lt;/id&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;jdbc.url&gt;dbUrl&lt;/jdbc.url&gt;\r\n\t\t\t&lt;jdbc.username&gt;dbuser&lt;/jdbc.username&gt;\r\n\t\t\t&lt;jdbc.password&gt;dbPassword&lt;/jdbc.password&gt;\r\n\t\t\t&lt;jdbc.driver&gt;dbDriver&lt;/jdbc.driver&gt;\r\n\t\t&lt;/properties&gt;\r\n\t&lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n\r\nBy default, i.e if No profile is selected, the local profile will always be use.\r\n\r\nTo select a specific profile in Spring Boot 2.x.x, use the below command.\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.profiles=dev\r\n\r\nIf you want want to build/compile using properties of a specific profile, use the below command.\r\n\r\n    mvn clean install -Pdev -DprofileIdEnabled=true","title":"How to use Spring Boot profiles?","body":"<p>If you are using maven, define your profiles as shown below within your pom.xml</p>\n\n<pre><code>&lt;profiles&gt;\n&lt;profile&gt;\n    &lt;id&gt;local&lt;/id&gt;\n    &lt;activation&gt;\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n    &lt;/activation&gt;\n    &lt;properties&gt;\n        &lt;jdbc.url&gt;dbUrl&lt;/jdbc.url&gt;\n        &lt;jdbc.username&gt;dbuser&lt;/jdbc.username&gt;\n        &lt;jdbc.password&gt;dbPassword&lt;/jdbc.password&gt;\n        &lt;jdbc.driver&gt;dbDriver&lt;/jdbc.driver&gt;\n    &lt;/properties&gt;\n&lt;/profile&gt;\n&lt;profile&gt;\n    &lt;id&gt;dev&lt;/id&gt;\n    &lt;properties&gt;\n        &lt;jdbc.url&gt;dbUrl&lt;/jdbc.url&gt;\n        &lt;jdbc.username&gt;dbuser&lt;/jdbc.username&gt;\n        &lt;jdbc.password&gt;dbPassword&lt;/jdbc.password&gt;\n        &lt;jdbc.driver&gt;dbDriver&lt;/jdbc.driver&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/profile&gt;\n&lt;profile&gt;\n    &lt;id&gt;prod&lt;/id&gt;\n    &lt;properties&gt;\n        &lt;jdbc.url&gt;dbUrl&lt;/jdbc.url&gt;\n        &lt;jdbc.username&gt;dbuser&lt;/jdbc.username&gt;\n        &lt;jdbc.password&gt;dbPassword&lt;/jdbc.password&gt;\n        &lt;jdbc.driver&gt;dbDriver&lt;/jdbc.driver&gt;\n    &lt;/properties&gt;\n&lt;/profile&gt;\n</code></pre>\n\n<p></p>\n\n<p>By default, i.e if No profile is selected, the local profile will always be use.</p>\n\n<p>To select a specific profile in Spring Boot 2.x.x, use the below command.</p>\n\n<pre><code>mvn spring-boot:run -Dspring-boot.run.profiles=dev\n</code></pre>\n\n<p>If you want want to build/compile using properties of a specific profile, use the below command.</p>\n\n<pre><code>mvn clean install -Pdev -DprofileIdEnabled=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14699788,"reputation":1019,"user_id":10616141,"display_name":"kris"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1568887560,"creation_date":1568887560,"answer_id":58008570,"question_id":40060989,"body_markdown":"**`mvn spring-boot:run -Dspring-boot.run.profiles=foo,bar`**\r\n\r\n**Source- **https://docs.spring.io/spring-boot/docs/current/maven-plugin/examples/run-profiles.html\r\n\r\nBasically it is need when you multiple application-{environment}.properties is present inside in your project. by default, if you passed -Drun.profiles on command line or activeByDefault true in \r\n\r\n     &lt;profile&gt;\r\n        &lt;id&gt;dev&lt;/id&gt;\r\n        &lt;properties&gt;\r\n            &lt;activatedProperties&gt;dev&lt;/activatedProperties&gt;\r\n        &lt;/properties&gt;\r\n        &lt;activation&gt;\r\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n        &lt;/activation&gt;\r\n    &lt;/profile&gt;\r\n\r\n\r\nNothing defined like above it will choose by default application.properties otherwise you need to select by appending -Drun.profiles={dev/stage/prod}.\r\n\r\nTL;DR\r\n\r\n**`mvn spring-boot:run -Drun.profiles=dev`**\r\n\r\n","title":"How to use Spring Boot profiles?","body":"<p><strong><code>mvn spring-boot:run -Dspring-boot.run.profiles=foo,bar</code></strong></p>\n\n<p>**Source- **<a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/examples/run-profiles.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/maven-plugin/examples/run-profiles.html</a></p>\n\n<p>Basically it is need when you multiple application-{environment}.properties is present inside in your project. by default, if you passed -Drun.profiles on command line or activeByDefault true in </p>\n\n<pre><code> &lt;profile&gt;\n    &lt;id&gt;dev&lt;/id&gt;\n    &lt;properties&gt;\n        &lt;activatedProperties&gt;dev&lt;/activatedProperties&gt;\n    &lt;/properties&gt;\n    &lt;activation&gt;\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n    &lt;/activation&gt;\n&lt;/profile&gt;\n</code></pre>\n\n<p>Nothing defined like above it will choose by default application.properties otherwise you need to select by appending -Drun.profiles={dev/stage/prod}.</p>\n\n<p>TL;DR</p>\n\n<p><strong><code>mvn spring-boot:run -Drun.profiles=dev</code></strong></p>\n"},{"tags":[],"owner":{"account_id":2534655,"reputation":3537,"user_id":2202107,"accept_rate":56,"display_name":"Sida Zhou"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576209000,"creation_date":1576209000,"answer_id":59315887,"question_id":40060989,"body_markdown":"Working with Intellij, because I don&#39;t know how to set keyboard shortcut to `mvn spring-boot:run -Dspring.profiles.active=dev`, I have to do this:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;jvmArguments&gt;\r\n                -Dspring.profiles.active=dev\r\n            &lt;/jvmArguments&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"How to use Spring Boot profiles?","body":"<p>Working with Intellij, because I don't know how to set keyboard shortcut to <code>mvn spring-boot:run -Dspring.profiles.active=dev</code>, I have to do this:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;jvmArguments&gt;\n            -Dspring.profiles.active=dev\n        &lt;/jvmArguments&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":284829,"reputation":827,"user_id":583170,"accept_rate":25,"display_name":"harshit2811"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596395267,"creation_date":1596395267,"answer_id":63220007,"question_id":40060989,"body_markdown":"Use &quot;-Dspring-boot.run.profiles=foo,local&quot; in Intellij IDEA. It&#39;s working. Its sets 2 profiles &quot;foo and local&quot;. \r\n\r\nVerified with boot version &quot;2.3.2.RELEASE&quot; &amp; Intellij IDEA CE 2019.3. \r\n\r\n```\r\n&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n```\r\n\r\n**Setting profile with &quot;mvn spring-boot:run&quot;**\r\n[![enter image description here][1]][1]\r\n\r\n**Setting environment variable**\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u5hSu.png\r\n  [2]: https://i.stack.imgur.com/zYQsv.png","title":"How to use Spring Boot profiles?","body":"<p>Use &quot;-Dspring-boot.run.profiles=foo,local&quot; in Intellij IDEA. It's working. Its sets 2 profiles &quot;foo and local&quot;.</p>\n<p>Verified with boot version &quot;2.3.2.RELEASE&quot; &amp; Intellij IDEA CE 2019.3.</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n</code></pre>\n<p><strong>Setting profile with &quot;mvn spring-boot:run&quot;</strong>\n<a href=\"https://i.stack.imgur.com/u5hSu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u5hSu.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Setting environment variable</strong>\n<a href=\"https://i.stack.imgur.com/zYQsv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zYQsv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2767312,"reputation":348,"user_id":2382717,"display_name":"Randika Hapugoda"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598380435,"creation_date":1598380435,"answer_id":63585115,"question_id":40060989,"body_markdown":"If your using maven,\r\n```xml\r\n&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;profiles&gt;\r\n\t\t\t\t\t\t&lt;profile&gt;dev&lt;/profile&gt;\r\n\t\t\t\t\t&lt;/profiles&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\nthis set dev as active profile\r\n```bash\r\n./mvnw spring-boot:run\r\n```\r\nwill have dev as active profile.","title":"How to use Spring Boot profiles?","body":"<p>If your using maven,</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;profiles&gt;\n                        &lt;profile&gt;dev&lt;/profile&gt;\n                    &lt;/profiles&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>this set dev as active profile</p>\n<pre class=\"lang-sh prettyprint-override\"><code>./mvnw spring-boot:run\n</code></pre>\n<p>will have dev as active profile.</p>\n"},{"comments":[{"owner":{"account_id":14480334,"reputation":81,"user_id":10459753,"display_name":"echoaman"},"score":1,"creation_date":1621115998,"post_id":64854119,"comment_id":119399587,"body_markdown":"./mvnw spring-boot:run -Dspring-boot.run.arguments=&quot;--spring.profiles.active=prod&quot; , this worked, thanks a lot !","body":"./mvnw spring-boot:run -Dspring-boot.run.arguments=&quot;--spring.profiles.active=prod&quot; , this worked, thanks a lot !"}],"tags":[],"owner":{"account_id":1632225,"reputation":1661,"user_id":1506545,"display_name":"Avec"},"comment_count":1,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1645089756,"creation_date":1605511943,"answer_id":64854119,"question_id":40060989,"body_markdown":"**Since Spring Boot v2+** \r\n\r\nAlternatives below works with Spring Boot v2.0.0 and newer.\r\n\r\n**With Spring Boot Maven Plugin**\r\n\r\nYou can provide [commandline argument][1] like this:\r\n\r\n`mvn spring-boot:run -Dspring-boot.run.arguments=&quot;--spring.profiles.active=dev&quot;`\r\n\r\nYou can provide [JVM argument][2] like this:\r\n\r\n`mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Dspring.profiles.active=dev&quot;`\r\n\r\n**java -jar**\r\n\r\n`java -Dspring.profiles.active=dev -jar app.jar`\r\n(VM param)\r\n\r\nor\r\n\r\n`java -jar app.jar --spring.profiles.active=dev` (program param)\r\n\r\n**A note on Windows Powershell** \r\n\r\nPowershell will require you to wrap in double quotes like shown here since it otherwise will result in an error because of how it interpret a period:\r\n`java -D&quot;spring.profiles.active=dev&quot; -jar app.jar`\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.4.0/maven-plugin/reference/htmlsingle/#goals-run-parameters-details-commandlineArguments\r\n  [2]: https://docs.spring.io/spring-boot/docs/2.4.0/maven-plugin/reference/htmlsingle/#goals-run-parameters-details-jvmArguments\r\n  [3]: https://github.com/spring-projects/spring-boot/issues/16819","title":"How to use Spring Boot profiles?","body":"<p><strong>Since Spring Boot v2+</strong></p>\n<p>Alternatives below works with Spring Boot v2.0.0 and newer.</p>\n<p><strong>With Spring Boot Maven Plugin</strong></p>\n<p>You can provide <a href=\"https://docs.spring.io/spring-boot/docs/2.4.0/maven-plugin/reference/htmlsingle/#goals-run-parameters-details-commandlineArguments\" rel=\"noreferrer\">commandline argument</a> like this:</p>\n<p><code>mvn spring-boot:run -Dspring-boot.run.arguments=&quot;--spring.profiles.active=dev&quot;</code></p>\n<p>You can provide <a href=\"https://docs.spring.io/spring-boot/docs/2.4.0/maven-plugin/reference/htmlsingle/#goals-run-parameters-details-jvmArguments\" rel=\"noreferrer\">JVM argument</a> like this:</p>\n<p><code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Dspring.profiles.active=dev&quot;</code></p>\n<p><strong>java -jar</strong></p>\n<p><code>java -Dspring.profiles.active=dev -jar app.jar</code>\n(VM param)</p>\n<p>or</p>\n<p><code>java -jar app.jar --spring.profiles.active=dev</code> (program param)</p>\n<p><strong>A note on Windows Powershell</strong></p>\n<p>Powershell will require you to wrap in double quotes like shown here since it otherwise will result in an error because of how it interpret a period:\n<code>java -D&quot;spring.profiles.active=dev&quot; -jar app.jar</code></p>\n"},{"tags":[],"owner":{"account_id":17571893,"reputation":72,"user_id":12747476,"display_name":"selami tastan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608062894,"creation_date":1608062894,"answer_id":65312951,"question_id":40060989,"body_markdown":"\r\nAlternatively, the profile can be directly specified in the application.properties file by adding the line:\r\n\r\nspring.profiles.active=prod\r\n\r\nProfiles work in conjunction with Spring Boot properties files. By default, Spring Boot parses a file called application.properties  located in the src/main/resources directory  to identify configuration information.\r\n\r\nOur first task will be to add a parameter in that file which will tell Spring to use a different environment-specific property file corresponding to the active profile (i.e. the profile that the app is currently being run with). We can do this by adding the following to the application.properties file:\r\n\r\nspring.profiles.active=@activatedProperties@\r\n\r\nNow we need to create the two new environment-specific property files (in the same path as the existing application.properties file), one to be used by the DEV profile and one to be used by the PROD profile. These files need to be named the following:\r\n\r\napplication-dev.properties \r\n\r\napplication-prod.properties\r\n\r\nIn each case, we specify prod as the active profile, which causes the application-prod.properties file to be chosen for configuration purposes.","title":"How to use Spring Boot profiles?","body":"<p>Alternatively, the profile can be directly specified in the application.properties file by adding the line:</p>\n<p>spring.profiles.active=prod</p>\n<p>Profiles work in conjunction with Spring Boot properties files. By default, Spring Boot parses a file called application.properties  located in the src/main/resources directory  to identify configuration information.</p>\n<p>Our first task will be to add a parameter in that file which will tell Spring to use a different environment-specific property file corresponding to the active profile (i.e. the profile that the app is currently being run with). We can do this by adding the following to the application.properties file:</p>\n<p>spring.profiles.active=@activatedProperties@</p>\n<p>Now we need to create the two new environment-specific property files (in the same path as the existing application.properties file), one to be used by the DEV profile and one to be used by the PROD profile. These files need to be named the following:</p>\n<p>application-dev.properties</p>\n<p>application-prod.properties</p>\n<p>In each case, we specify prod as the active profile, which causes the application-prod.properties file to be chosen for configuration purposes.</p>\n"}],"owner":{"account_id":8224865,"reputation":1686,"user_id":6187459,"accept_rate":8,"display_name":"twogoods"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266227,"favorite_count":0,"down_vote_count":0,"up_vote_count":133,"answer_count":13,"score":133,"last_activity_date":1692297716,"creation_date":1476545949,"question_id":40060989,"body_markdown":"I have the `application.yml`, `application-dev.yml` and `application-dev.yml` files\r\n\r\n 1. I&#39;m using the maven command `mvn spring-boot:run -Dspring.profiles.active=dev` it doesn&#39;t work and I can not choose the `dev` profile using `mvn spring-boot:run`. How do I choose it?\r\n 2. The documentation says `java -jar XXX.jar --spring.profiles.active=dev` works, and I tried `-Dspring.profiles.active=dev` but it does not work. And in my project, I use `java -jar XXX.jar` it runs, but if I use `java -jar XXX.jar --spring.profiles.active=dev` to choose `dev` profile, console print so many logs and warns that I never see used `java -jar XXX.jar`,and tell me `APPLICATION FAILED TO START`  \r\n\r\nSo, how to solve these two problems?\r\n\r\nThanks.\r\n\r\n","title":"How to use Spring Boot profiles?","body":"<p>I have the <code>application.yml</code>, <code>application-dev.yml</code> and <code>application-dev.yml</code> files</p>\n<ol>\n<li>I'm using the maven command <code>mvn spring-boot:run -Dspring.profiles.active=dev</code> it doesn't work and I can not choose the <code>dev</code> profile using <code>mvn spring-boot:run</code>. How do I choose it?</li>\n<li>The documentation says <code>java -jar XXX.jar --spring.profiles.active=dev</code> works, and I tried <code>-Dspring.profiles.active=dev</code> but it does not work. And in my project, I use <code>java -jar XXX.jar</code> it runs, but if I use <code>java -jar XXX.jar --spring.profiles.active=dev</code> to choose <code>dev</code> profile, console print so many logs and warns that I never see used <code>java -jar XXX.jar</code>,and tell me <code>APPLICATION FAILED TO START</code></li>\n</ol>\n<p>So, how to solve these two problems?</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-boot","yaml"],"comments":[{"owner":{"account_id":70704,"reputation":49440,"user_id":204788,"display_name":"Biju Kunjummen"},"score":0,"creation_date":1435187862,"post_id":31038250,"comment_id":50101284,"body_markdown":"Can you please add your `bootRun` command line also","body":"Can you please add your <code>bootRun</code> command line also"},{"owner":{"account_id":2738653,"reputation":3819,"user_id":2360694,"accept_rate":67,"display_name":"Vinod Mohanan"},"score":1,"creation_date":1435238586,"post_id":31038250,"comment_id":50124235,"body_markdown":"I was running it from eclipse and not command line till now. But I tried running from using &quot;gradle bootRun -Dspring.config.location=C:\\Config\\ -Dspring.profiles.active=staging&quot; and got the same result.","body":"I was running it from eclipse and not command line till now. But I tried running from using &quot;gradle bootRun -Dspring.config.location=C:\\Config\\ -Dspring.profiles.active=staging&quot; and got the same result."}],"answers":[{"comments":[{"owner":{"account_id":2738653,"reputation":3819,"user_id":2360694,"accept_rate":67,"display_name":"Vinod Mohanan"},"score":0,"creation_date":1435238300,"post_id":31039253,"comment_id":50124017,"body_markdown":"Thank you for pointing it out. However, when I run  -Dspring.profiles.active=staging -Dspring.config.location=C:\\Config\\ also gives me the same issue.  Even active profile is not getting reflected. I think for some reason my command line is not getting passed over.","body":"Thank you for pointing it out. However, when I run  -Dspring.profiles.active=staging -Dspring.config.location=C:\\Config\\ also gives me the same issue.  Even active profile is not getting reflected. I think for some reason my command line is not getting passed over."},{"owner":{"account_id":6180360,"reputation":1697,"user_id":4816061,"display_name":"jst"},"score":1,"creation_date":1435243027,"post_id":31039253,"comment_id":50127945,"body_markdown":"You should follow the advice given in this question to pass the args to bootRun http://stackoverflow.com/questions/25079244/how-to-pass-jvm-options-from-bootrun","body":"You should follow the advice given in this question to pass the args to bootRun <a href=\"http://stackoverflow.com/questions/25079244/how-to-pass-jvm-options-from-bootrun\" title=\"how to pass jvm options from bootrun\">stackoverflow.com/questions/25079244/&hellip;</a>"},{"owner":{"account_id":2738653,"reputation":3819,"user_id":2360694,"accept_rate":67,"display_name":"Vinod Mohanan"},"score":0,"creation_date":1435255991,"post_id":31039253,"comment_id":50136575,"body_markdown":"Thank you. That really helped.","body":"Thank you. That really helped."}],"tags":[],"owner":{"account_id":6180360,"reputation":1697,"user_id":4816061,"display_name":"jst"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1435191455,"creation_date":1435191455,"answer_id":31039253,"question_id":31038250,"body_markdown":"I think your problem is likely related to your spring.config.location not ending the path with &quot;/&quot;.\r\n\r\nQuote the docs\r\n\r\n&gt; If spring.config.location contains directories (as opposed to files) they should end in / (and will be appended with the names generated from spring.config.name before being loaded).\r\n\r\n\r\nhttp://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-application-property-files","title":"Setting active profile and config location from command line in Spring Boot","body":"<p>I think your problem is likely related to your spring.config.location not ending the path with \"/\".</p>\n\n<p>Quote the docs</p>\n\n<blockquote>\n  <p>If spring.config.location contains directories (as opposed to files) they should end in / (and will be appended with the names generated from spring.config.name before being loaded).</p>\n</blockquote>\n\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-application-property-files\" rel=\"noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-application-property-files</a></p>\n"},{"comments":[{"owner":{"account_id":2761376,"reputation":2379,"user_id":2378213,"display_name":"edufinn"},"score":7,"creation_date":1460205647,"post_id":31057742,"comment_id":60639206,"body_markdown":"This can be even more simpler as following: `bootRun { systemProperties = System.properties }`. This command will copy all parameters passed with `-D` switch with the same keys to `systemProperty` map.","body":"This can be even more simpler as following: <code>bootRun { systemProperties = System.properties }</code>. This command will copy all parameters passed with <code>-D</code> switch with the same keys to <code>systemProperty</code> map."},{"owner":{"account_id":1967474,"reputation":3342,"user_id":1767316,"accept_rate":42,"display_name":"user1767316"},"score":1,"creation_date":1486456750,"post_id":31057742,"comment_id":71340780,"body_markdown":"this seems to be a gradle only solution, is there no genric solution ?","body":"this seems to be a gradle only solution, is there no genric solution ?"},{"owner":{"account_id":2844381,"reputation":429,"user_id":2443197,"accept_rate":50,"display_name":"Scala Enthusiast"},"score":2,"creation_date":1528931086,"post_id":31057742,"comment_id":88698372,"body_markdown":"Where exactly are you adding this? Anywhere in the build.gradle file or in a specific location within the file?","body":"Where exactly are you adding this? Anywhere in the build.gradle file or in a specific location within the file?"},{"owner":{"account_id":1246795,"reputation":421,"user_id":1208060,"accept_rate":100,"display_name":"vinicius gati"},"score":0,"creation_date":1610635540,"post_id":31057742,"comment_id":116199567,"body_markdown":"@user1767316 you can set a environment variable with SPRING_PROFILES_ACTIVE=profile, works like a charm","body":"@user1767316 you can set a environment variable with SPRING_PROFILES_ACTIVE=profile, works like a charm"}],"tags":[],"owner":{"account_id":2738653,"reputation":3819,"user_id":2360694,"accept_rate":67,"display_name":"Vinod Mohanan"},"comment_count":4,"down_vote_count":2,"up_vote_count":20,"is_accepted":true,"score":18,"last_activity_date":1435255958,"creation_date":1435255958,"answer_id":31057742,"question_id":31038250,"body_markdown":"I had to add this:\r\n\r\n    bootRun {\r\n    \tString activeProfile =  System.properties[&#39;spring.profiles.active&#39;]\r\n    \tString confLoc = System.properties[&#39;spring.config.location&#39;]\r\n    \tsystemProperty &quot;spring.profiles.active&quot;, activeProfile\r\n    \tsystemProperty &quot;spring.config.location&quot;, &quot;file:$confLoc&quot;\r\n    }\r\n\r\nAnd now bootRun picks up the profile and config locations.\r\n\r\nThanks a lot @jst for the pointer.","title":"Setting active profile and config location from command line in Spring Boot","body":"<p>I had to add this:</p>\n\n<pre><code>bootRun {\n    String activeProfile =  System.properties['spring.profiles.active']\n    String confLoc = System.properties['spring.config.location']\n    systemProperty \"spring.profiles.active\", activeProfile\n    systemProperty \"spring.config.location\", \"file:$confLoc\"\n}\n</code></pre>\n\n<p>And now bootRun picks up the profile and config locations.</p>\n\n<p>Thanks a lot @jst for the pointer.</p>\n"},{"comments":[{"owner":{"account_id":2372918,"reputation":4836,"user_id":2077101,"accept_rate":64,"display_name":"James Watkins"},"score":3,"creation_date":1459535678,"post_id":35004980,"comment_id":60346329,"body_markdown":"This causes error &quot;Unrecognized option: --spring.config.location&quot;","body":"This causes error &quot;Unrecognized option: --spring.config.location&quot;"},{"owner":{"account_id":996671,"reputation":1765,"user_id":1012435,"accept_rate":54,"display_name":"Xdg"},"score":2,"creation_date":1459967246,"post_id":35004980,"comment_id":60530878,"body_markdown":"-D is the correct way to set Java System properties. --something is a bash parameter.","body":"-D is the correct way to set Java System properties. --something is a bash parameter."},{"owner":{"account_id":2977730,"reputation":727,"user_id":2528433,"accept_rate":86,"display_name":"Pushkar"},"score":0,"creation_date":1463580760,"post_id":35004980,"comment_id":62126324,"body_markdown":"--spring.profiles.active work for me, same thing I referred from http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html","body":"--spring.profiles.active work for me, same thing I referred from <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":7236580,"reputation":16360,"user_id":5521607,"accept_rate":25,"display_name":"Olivier Boiss&#233;"},"score":0,"creation_date":1484418921,"post_id":35004980,"comment_id":70505706,"body_markdown":"This also works for me when using Run As -&gt; Java Application in Eclipse","body":"This also works for me when using Run As -&gt; Java Application in Eclipse"},{"owner":{"account_id":556695,"reputation":3222,"user_id":918858,"accept_rate":86,"display_name":"Dexter Legaspi"},"score":21,"creation_date":1548966178,"post_id":35004980,"comment_id":95745183,"body_markdown":"actually BOTH are correct, it depends on how it is used: it can be `java -Dspring.profiles.active=staging -Dspring.config.location=C:\\Config your-spring-boot-app.jar` OR `java your-spring-boot.jar --spring.profiles.active=staging --spring.config.location=C:\\Config`","body":"actually BOTH are correct, it depends on how it is used: it can be <code>java -Dspring.profiles.active=staging -Dspring.config.location=C:\\Config your-spring-boot-app.jar</code> OR <code>java your-spring-boot.jar --spring.profiles.active=staging --spring.config.location=C:\\Config</code>"}],"tags":[],"owner":{"account_id":6398408,"reputation":403,"user_id":4962008,"display_name":"Michael Yin"},"comment_count":5,"down_vote_count":6,"up_vote_count":41,"is_accepted":false,"score":35,"last_activity_date":1453769011,"creation_date":1453767709,"answer_id":35004980,"question_id":31038250,"body_markdown":"    -Dspring.profiles.active=staging -Dspring.config.location=C:\\Config\r\n\r\nis not correct.\r\n\r\nshould be:\r\n    \r\n    --spring.profiles.active=staging --spring.config.location=C:\\Config","title":"Setting active profile and config location from command line in Spring Boot","body":"<pre><code>-Dspring.profiles.active=staging -Dspring.config.location=C:\\Config\n</code></pre>\n\n<p>is not correct.</p>\n\n<p>should be:</p>\n\n<pre><code>--spring.profiles.active=staging --spring.config.location=C:\\Config\n</code></pre>\n"},{"tags":[],"owner":{"account_id":353439,"reputation":918,"user_id":691126,"accept_rate":43,"display_name":"Eric Taix"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1525156008,"creation_date":1461451943,"answer_id":36817353,"question_id":31038250,"body_markdown":"Michael Yin&#39;s answer is correct but a better explanation seems to be required!\r\n\r\nA lot of you mentioned that `-D` is the correct way to specify JVM parameters and you are absolutely right. But Michael is also right as mentioned in [Spring Boot Profiles][1] documentation.\r\n\r\nWhat is not clear in the documentation, is what kind of parameter it is: `--spring.profiles.active` is a not a standard JVM parameter so if you want to use it in your IDE fill the correct fields (i.e. program arguments)\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html","title":"Setting active profile and config location from command line in Spring Boot","body":"<p>Michael Yin's answer is correct but a better explanation seems to be required!</p>\n\n<p>A lot of you mentioned that <code>-D</code> is the correct way to specify JVM parameters and you are absolutely right. But Michael is also right as mentioned in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html\" rel=\"nofollow noreferrer\">Spring Boot Profiles</a> documentation.</p>\n\n<p>What is not clear in the documentation, is what kind of parameter it is: <code>--spring.profiles.active</code> is a not a standard JVM parameter so if you want to use it in your IDE fill the correct fields (i.e. program arguments)</p>\n"},{"comments":[{"owner":{"account_id":1374375,"reputation":1651,"user_id":1308680,"display_name":"martin"},"score":86,"creation_date":1482137904,"post_id":37439625,"comment_id":69636250,"body_markdown":"Order of the -D parameters is really important :)","body":"Order of the -D parameters is really important :)"},{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":4,"creation_date":1490600183,"post_id":37439625,"comment_id":73165411,"body_markdown":"how can you achieve this while deploying to say tomcat container? In that case I simply put my war to webapps folder of tomcat, how do I provide the profile info? by setting system properties?","body":"how can you achieve this while deploying to say tomcat container? In that case I simply put my war to webapps folder of tomcat, how do I provide the profile info? by setting system properties?"},{"owner":{"account_id":4821703,"reputation":5944,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":0,"creation_date":1494991789,"post_id":37439625,"comment_id":75057743,"body_markdown":"@prayagupd yes, you can have system properties set in your bash_profile.","body":"@prayagupd yes, you can have system properties set in your bash_profile."},{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":3,"creation_date":1495006519,"post_id":37439625,"comment_id":75063964,"body_markdown":"@maneesh yeah, I am using [env variable](https://github.com/prayagupd/eccount-rest/tree/REST-API-load-balancing) `SPRING_PROFILES_ACTIVE` exported via `~/.bash_profile`. `export SPRING_PROFILES_ACTIVE=e2e`","body":"@maneesh yeah, I am using <a href=\"https://github.com/prayagupd/eccount-rest/tree/REST-API-load-balancing\" rel=\"nofollow noreferrer\">env variable</a> <code>SPRING_PROFILES_ACTIVE</code> exported via <code>~&#47;.bash_profile</code>. <code>export SPRING_PROFILES_ACTIVE=e2e</code>"},{"owner":{"account_id":1349569,"reputation":878,"user_id":1289597,"accept_rate":53,"display_name":"sheldonkreger"},"score":0,"creation_date":1528568938,"post_id":37439625,"comment_id":88561607,"body_markdown":"Can anybody clarify how to tell what relative path IntelliJ is using when it runs this command? For example, if I didn&#39;t want to use an absolute path and instead specify  --spring.config.location=my/relative/path/config/","body":"Can anybody clarify how to tell what relative path IntelliJ is using when it runs this command? For example, if I didn&#39;t want to use an absolute path and instead specify  --spring.config.location=my/relative/path/config/"},{"owner":{"account_id":4884379,"reputation":766,"user_id":3937252,"accept_rate":50,"display_name":"kelgwiin"},"score":0,"creation_date":1547899866,"post_id":37439625,"comment_id":95357212,"body_markdown":"If you&#39;re using Intellij and you want override the spring variables so you should go to `edit Configuration -&gt; Spring Boot Config -&gt; Overrride parameters` and search for the `spring.profiles.active` and set the value that your desire.","body":"If you&#39;re using Intellij and you want override the spring variables so you should go to <code>edit Configuration -&gt; Spring Boot Config -&gt; Overrride parameters</code> and search for the <code>spring.profiles.active</code> and set the value that your desire."},{"owner":{"account_id":2057502,"reputation":811,"user_id":1834834,"accept_rate":56,"display_name":"Pramod Setlur"},"score":1,"creation_date":1560373747,"post_id":37439625,"comment_id":99719790,"body_markdown":"When you say the order is important: Can we pass in both args: -Dspring.profile.active and -Dspring.config.location such that, the profile is set according to the first argument and the property file is picked up according to the second args?\nEg: `java -Dspring.profiles.active=$ENV -Dspring.config.location=file:///aws-secrets-manager/properties/application-$ENV.properties /code/app.jar`","body":"When you say the order is important: Can we pass in both args: -Dspring.profile.active and -Dspring.config.location such that, the profile is set according to the first argument and the property file is picked up according to the second args? Eg: <code>java -Dspring.profiles.active=$ENV -Dspring.config.location=file:&#47;&#47;&#47;aws-secrets-manager&#47;propert&zwnj;&#8203;ies&#47;application-$ENV&zwnj;&#8203;.properties &#47;code&#47;app.jar</code>"},{"owner":{"account_id":1161198,"reputation":1653,"user_id":1140659,"accept_rate":75,"display_name":"Roeland Van Heddegem"},"score":2,"creation_date":1643647832,"post_id":37439625,"comment_id":125390167,"body_markdown":"Option 1 didn&#39;t work for me until I added quotes:  **java -jar -D&quot;spring.profiles.active&quot;=prod application.jar**","body":"Option 1 didn&#39;t work for me until I added quotes:  <b>java -jar -D&quot;spring.profiles.active&quot;=prod application.jar</b>"},{"owner":{"account_id":1836887,"reputation":147,"user_id":1667075,"accept_rate":25,"display_name":"Panda1667075"},"score":0,"creation_date":1693462726,"post_id":37439625,"comment_id":135764703,"body_markdown":"When you deploy your spring boot WAR app to tomcat, modify the **tomcat_home/conf/catalina.properties** by adding following properties  **spring.profiles.active=dev/qa/prod**. After the changes restart the tomcat server.","body":"When you deploy your spring boot WAR app to tomcat, modify the <b>tomcat_home/conf/catalina.properties</b> by adding following properties  <b>spring.profiles.active=dev/qa/prod</b>. After the changes restart the tomcat server."}],"tags":[],"owner":{"account_id":2233945,"reputation":10750,"user_id":1970870,"display_name":"RenRen"},"comment_count":9,"down_vote_count":0,"up_vote_count":605,"is_accepted":false,"score":605,"last_activity_date":1607858651,"creation_date":1464185219,"answer_id":37439625,"question_id":31038250,"body_markdown":"There are two different ways you can add/override spring properties on the command line.\r\n\r\n### Option 1: Java System Properties (VM Arguments)\r\n\r\nIt&#39;s important that the -D parameters are before your application.jar\r\notherwise they are not recognized.\r\n\r\n\r\n    java -jar -Dspring.profiles.active=prod application.jar\r\n\r\n### Option 2: Program arguments\r\n\r\n```    \r\njava -jar application.jar --spring.profiles.active=prod --spring.config.location=c:\\config\r\n```\r\n\r\n\r\n","title":"Setting active profile and config location from command line in Spring Boot","body":"<p>There are two different ways you can add/override spring properties on the command line.</p>\n<h3>Option 1: Java System Properties (VM Arguments)</h3>\n<p>It's important that the -D parameters are before your application.jar\notherwise they are not recognized.</p>\n<pre><code>java -jar -Dspring.profiles.active=prod application.jar\n</code></pre>\n<h3>Option 2: Program arguments</h3>\n<pre><code>java -jar application.jar --spring.profiles.active=prod --spring.config.location=c:\\config\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1044207,"reputation":507,"user_id":1049537,"accept_rate":25,"display_name":"Rollen Holt"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1466130663,"creation_date":1466130663,"answer_id":37872196,"question_id":31038250,"body_markdown":"you can use the following command line:\r\n\r\n    java -jar -Dspring.profiles.active=[yourProfileName] target/[yourJar].jar","title":"Setting active profile and config location from command line in Spring Boot","body":"<p>you can use the following command line:</p>\n\n<pre><code>java -jar -Dspring.profiles.active=[yourProfileName] target/[yourJar].jar\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3985474,"reputation":237,"user_id":3286178,"display_name":"rwenz3l"},"score":2,"creation_date":1550966072,"post_id":41960870,"comment_id":96467367,"body_markdown":"has changed to `mvn spring-boot:run -Dspring-boot.run.profiles=foo,bar`, see: https://docs.spring.io/spring-boot/docs/current/maven-plugin/examples/run-profiles.html","body":"has changed to <code>mvn spring-boot:run -Dspring-boot.run.profiles=foo,bar</code>, see: <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/examples/run-profiles.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/maven-plugin/example&zwnj;&#8203;s/&hellip;</a>"},{"owner":{"account_id":3454797,"reputation":452,"user_id":2893542,"display_name":"John Smith"},"score":0,"creation_date":1573696666,"post_id":41960870,"comment_id":103969910,"body_markdown":"@rwenz3l Thanks! that works for me, just upgraded a project from Spring Boot 1 to 2. Now I just add them all in my bashrc...  `springmvn=&quot;mvn clean spring-boot:run -Dspring.profiles.active=local -Dspring-boot.run.profiles=local&quot;`","body":"@rwenz3l Thanks! that works for me, just upgraded a project from Spring Boot 1 to 2. Now I just add them all in my bashrc...  <code>springmvn=&quot;mvn clean spring-boot:run -Dspring.profiles.active=local -Dspring-boot.run.profiles=local&quot;</code>"}],"tags":[],"owner":{"account_id":42845,"reputation":5288,"user_id":124982,"accept_rate":83,"display_name":"JARC"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1485875163,"creation_date":1485875163,"answer_id":41960870,"question_id":31038250,"body_markdown":"When setting the profile via the **Maven plugin** you must do it via `run.jvmArguments`\r\n\r\n    mvn spring-boot:run -Drun.jvmArguments=&quot;-Dspring.profiles.active=production&quot;\r\n\r\nWith debug option:\r\n\r\n    mvn spring-boot:run -Drun.jvmArguments=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5005 -Dspring.profiles.active=jpa&quot;\r\n\r\nI&#39;ve seen this trip a lot of people up..hope it helps\r\n","title":"Setting active profile and config location from command line in Spring Boot","body":"<p>When setting the profile via the <strong>Maven plugin</strong> you must do it via <code>run.jvmArguments</code></p>\n\n<pre><code>mvn spring-boot:run -Drun.jvmArguments=\"-Dspring.profiles.active=production\"\n</code></pre>\n\n<p>With debug option:</p>\n\n<pre><code>mvn spring-boot:run -Drun.jvmArguments=\"-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5005 -Dspring.profiles.active=jpa\"\n</code></pre>\n\n<p>I've seen this trip a lot of people up..hope it helps</p>\n"},{"comments":[{"owner":{"account_id":2911666,"reputation":4689,"user_id":2495717,"accept_rate":88,"display_name":"ben3000"},"score":1,"creation_date":1525151278,"post_id":43999548,"comment_id":87240377,"body_markdown":"Yes, and this avoids the need to muck around with the way Gradle hands system properties through to the application.","body":"Yes, and this avoids the need to muck around with the way Gradle hands system properties through to the application."},{"owner":{"account_id":1728044,"reputation":412,"user_id":1582284,"accept_rate":80,"display_name":"Igor Donin"},"score":1,"creation_date":1526393413,"post_id":43999548,"comment_id":87720743,"body_markdown":"This is the neat way. It should also be used to set database users and passwords and other sensitive configurations so they&#39;re not checked in version control.","body":"This is the neat way. It should also be used to set database users and passwords and other sensitive configurations so they&#39;re not checked in version control."}],"tags":[],"owner":{"account_id":6390967,"reputation":454,"user_id":4957149,"display_name":"Rothin Sen"},"comment_count":2,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1644268181,"creation_date":1494932231,"answer_id":43999548,"question_id":31038250,"body_markdown":"There&#39;s another way by setting the **OS** environment variable, **SPRING_PROFILES_ACTIVE**.\r\n\r\nfor eg :\r\n\r\n    SPRING_PROFILES_ACTIVE=dev gradle clean bootRun\r\n\r\nReference : [How to set active Spring profiles](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#howto-set-active-spring-profiles)\r\n","title":"Setting active profile and config location from command line in Spring Boot","body":"<p>There's another way by setting the <strong>OS</strong> environment variable, <strong>SPRING_PROFILES_ACTIVE</strong>.</p>\n<p>for eg :</p>\n<pre><code>SPRING_PROFILES_ACTIVE=dev gradle clean bootRun\n</code></pre>\n<p>Reference : <a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#howto-set-active-spring-profiles\" rel=\"noreferrer\">How to set active Spring profiles</a></p>\n"},{"comments":[{"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"score":0,"creation_date":1562749898,"post_id":55696983,"comment_id":100471458,"body_markdown":"You mean spring / spring-boot ? (Spring 1x and Spring 2x) !","body":"You mean spring / spring-boot ? (Spring 1x and Spring 2x) !"},{"owner":{"account_id":8684080,"reputation":3411,"user_id":6499075,"display_name":"Sma Ma"},"score":1,"creation_date":1562827957,"post_id":55696983,"comment_id":100501727,"body_markdown":"@smilyface spring boot. spring boot is also available in different versions: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot","body":"@smilyface spring boot. spring boot is also available in different versions: <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.springframework.boot/spring-b&zwnj;&#8203;oot</a>"},{"owner":{"account_id":2415504,"reputation":1856,"user_id":2109620,"accept_rate":0,"display_name":"Donghua Liu"},"score":4,"creation_date":1567413359,"post_id":55696983,"comment_id":101944143,"body_markdown":"I use spring-boot 2.1.3, and `-Dspring-boot.run.profiles=local` did not work, `-Dspring.profiles.active=local` worked.","body":"I use spring-boot 2.1.3, and <code>-Dspring-boot.run.profiles=local</code> did not work, <code>-Dspring.profiles.active=local</code> worked."},{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1586459583,"post_id":55696983,"comment_id":108143553,"body_markdown":"spring-boot 2.2.0: work both:  `-Dspring-boot.run.profiles` and `-Dspring.profiles.active`","body":"spring-boot 2.2.0: work both:  <code>-Dspring-boot.run.profiles</code> and <code>-Dspring.profiles.active</code>"},{"owner":{"account_id":373119,"reputation":3318,"user_id":722553,"display_name":"Dawngerpony"},"score":2,"creation_date":1611336502,"post_id":55696983,"comment_id":116427858,"body_markdown":"Docs for this answer: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run-example-active-profiles","body":"Docs for this answer: <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run-example-active-profiles\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/maven-plugin/referen&zwnj;&#8203;ce/&hellip;</a>"}],"tags":[],"owner":{"account_id":8684080,"reputation":3411,"user_id":6499075,"display_name":"Sma Ma"},"comment_count":5,"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1604034079,"creation_date":1555361107,"answer_id":55696983,"question_id":31038250,"body_markdown":"My best practice is to define this as a VM &quot;-D&quot; argument. Please note the differences between spring boot 1.x and 2.x.\r\n\r\nThe profiles to enable can be specified on the command line:\r\n\r\nSpring-Boot 2.x (works only with maven)\r\n```\r\n-Dspring-boot.run.profiles=local\r\n``` \r\n\r\nSpring-Boot 1.x\r\n```\r\n-Dspring.profiles.active=local\r\n```\r\n\r\n**example usage with maven:**\r\n\r\nSpring-Boot 2.x\r\n```\r\nmvn spring-boot:run -Dspring-boot.run.profiles=local\r\n``` \r\n\r\nSpring-Boot 1.x and 2.x\r\n```\r\nmvn spring-boot:run -Dspring.profiles.active=local\r\n```\r\n\r\nMake sure to separate them with a comma for multiple profiles:\r\n\r\n```\r\nmvn spring-boot:run -Dspring.profiles.active=local,foo,bar\r\n```\r\n\r\n```\r\nmvn spring-boot:run -Dspring-boot.run.profiles=local,foo,bar\r\n``` \r\n","title":"Setting active profile and config location from command line in Spring Boot","body":"<p>My best practice is to define this as a VM &quot;-D&quot; argument. Please note the differences between spring boot 1.x and 2.x.</p>\n<p>The profiles to enable can be specified on the command line:</p>\n<p>Spring-Boot 2.x (works only with maven)</p>\n<pre><code>-Dspring-boot.run.profiles=local\n</code></pre>\n<p>Spring-Boot 1.x</p>\n<pre><code>-Dspring.profiles.active=local\n</code></pre>\n<p><strong>example usage with maven:</strong></p>\n<p>Spring-Boot 2.x</p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.profiles=local\n</code></pre>\n<p>Spring-Boot 1.x and 2.x</p>\n<pre><code>mvn spring-boot:run -Dspring.profiles.active=local\n</code></pre>\n<p>Make sure to separate them with a comma for multiple profiles:</p>\n<pre><code>mvn spring-boot:run -Dspring.profiles.active=local,foo,bar\n</code></pre>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.profiles=local,foo,bar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7237174,"reputation":926,"user_id":5522002,"accept_rate":20,"display_name":"FredFlinstone"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574847116,"creation_date":1574847116,"answer_id":59067023,"question_id":31038250,"body_markdown":"If you use Gradle:\r\n\r\n    -Pspring.profiles.active=local","title":"Setting active profile and config location from command line in Spring Boot","body":"<p>If you use Gradle:</p>\n\n<pre><code>-Pspring.profiles.active=local\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1626421,"reputation":451,"user_id":1501890,"display_name":"Suneet Khurana"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601375100,"creation_date":1599292540,"answer_id":63751666,"question_id":31038250,"body_markdown":"We want to automatically pick property file based upon mentioned the profile name in `spring.profiles.active` and the path in `-Dspring.config.location`\r\n\r\n    application-dev.properties\r\n\r\nIf we are running jar in Unix OS then we have to use `/` at the end of `-Dspring.config.location` otherwise it will give below error.\r\n\r\n&gt; Error :: java.lang.IllegalStateException: File extension of config file location &#39;file:/home/xyz/projectName/cfg&#39; is not known to any PropertySourceLoader. If the location is meant to reference a directory, it must end in &#39;/&#39;\r\n\r\nExample\r\n----\r\n\r\n    java -Dspring.profiles.active=dev -Dspring.config.location=/home/xyz/projectName/cfg/ -jar /home/xyz/project/abc.jar\r\n\r\nor\r\n\r\n    java -jar /home/xyz/project/abc.jar --spring.profiles.active=dev --spring.config.location=/home/xyz/projectName/cfg/\r\n\r\n","title":"Setting active profile and config location from command line in Spring Boot","body":"<p>We want to automatically pick property file based upon mentioned the profile name in <code>spring.profiles.active</code> and the path in <code>-Dspring.config.location</code></p>\n<pre><code>application-dev.properties\n</code></pre>\n<p>If we are running jar in Unix OS then we have to use <code>/</code> at the end of <code>-Dspring.config.location</code> otherwise it will give below error.</p>\n<blockquote>\n<p>Error :: java.lang.IllegalStateException: File extension of config file location 'file:/home/xyz/projectName/cfg' is not known to any PropertySourceLoader. If the location is meant to reference a directory, it must end in '/'</p>\n</blockquote>\n<h2>Example</h2>\n<pre><code>java -Dspring.profiles.active=dev -Dspring.config.location=/home/xyz/projectName/cfg/ -jar /home/xyz/project/abc.jar\n</code></pre>\n<p>or</p>\n<pre><code>java -jar /home/xyz/project/abc.jar --spring.profiles.active=dev --spring.config.location=/home/xyz/projectName/cfg/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1246795,"reputation":421,"user_id":1208060,"accept_rate":100,"display_name":"vinicius gati"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1610635614,"creation_date":1610635614,"answer_id":65721190,"question_id":31038250,"body_markdown":"A way that i do this on intellij is setting an environment variable on the command like so:\r\n\r\n[![test setup on intellij][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EiL0d.png\r\n\r\n\r\nIn this case i am setting the profile to test","title":"Setting active profile and config location from command line in Spring Boot","body":"<p>A way that i do this on intellij is setting an environment variable on the command like so:</p>\n<p><a href=\"https://i.stack.imgur.com/EiL0d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EiL0d.png\" alt=\"test setup on intellij\" /></a></p>\n<p>In this case i am setting the profile to test</p>\n"},{"tags":[],"owner":{"account_id":4489017,"reputation":371,"user_id":3650655,"display_name":"user3650655"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1630609620,"creation_date":1630609620,"answer_id":69035844,"question_id":31038250,"body_markdown":"For me helped to add &quot;/&quot; at the end of profiles location.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    java -jar myjar.jar --spring.config.additional-location=env/ --spring.profiles.active=prod\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Setting active profile and config location from command line in Spring Boot","body":"<p>For me helped to add &quot;/&quot; at the end of profiles location.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>java -jar myjar.jar --spring.config.additional-location=env/ --spring.profiles.active=prod</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":14399098,"reputation":952,"user_id":10401397,"display_name":"O_K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646749349,"creation_date":1646749349,"answer_id":71396566,"question_id":31038250,"body_markdown":"I was facing similar issues to run tests with different profiles in command line in springboot. I fixed that by first setting the profile and then running the test command like below :\r\n\r\nStep 1 : export SPRING_PROFILES_ACTIVE=test(for mac/linux) or SET SPRING_PROFILES_ACTIVE=test(for windows)\r\n\r\nStep2 : ./gradlew test --tests &quot;com.maersk.snd.integrationtest.IntegrationTestPOC&quot;\r\n\r\nAbove commands can be clubbed together like below :\r\n\r\nexport SPRING_PROFILES_ACTIVE=test &amp;&amp; ./gradlew test --tests &quot;com.maersk.snd.integrationtest.IntegrationTestPOC&quot;  ","title":"Setting active profile and config location from command line in Spring Boot","body":"<p>I was facing similar issues to run tests with different profiles in command line in springboot. I fixed that by first setting the profile and then running the test command like below :</p>\n<p>Step 1 : export SPRING_PROFILES_ACTIVE=test(for mac/linux) or SET SPRING_PROFILES_ACTIVE=test(for windows)</p>\n<p>Step2 : ./gradlew test --tests &quot;com.maersk.snd.integrationtest.IntegrationTestPOC&quot;</p>\n<p>Above commands can be clubbed together like below :</p>\n<p>export SPRING_PROFILES_ACTIVE=test &amp;&amp; ./gradlew test --tests &quot;com.maersk.snd.integrationtest.IntegrationTestPOC&quot;</p>\n"},{"tags":[],"owner":{"account_id":7864424,"reputation":672,"user_id":5943689,"display_name":"Cozimetzer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646797416,"creation_date":1646797416,"answer_id":71404064,"question_id":31038250,"body_markdown":"Just as an addon, if you have a property mentioned in your `application.properties` file and you need to override that property from another config file you can use below property `spring.config.additional-location` (with -D since you pass from command line)\r\nWe used to use this because we have one `application.properties` inside the jar and one external one in each of our servers&#39; config folders, which is used to override any server specific properties.\r\n","title":"Setting active profile and config location from command line in Spring Boot","body":"<p>Just as an addon, if you have a property mentioned in your <code>application.properties</code> file and you need to override that property from another config file you can use below property <code>spring.config.additional-location</code> (with -D since you pass from command line)\nWe used to use this because we have one <code>application.properties</code> inside the jar and one external one in each of our servers' config folders, which is used to override any server specific properties.</p>\n"},{"comments":[{"owner":{"account_id":11067636,"reputation":165,"user_id":8126924,"display_name":"Vamsi Jayavarapu"},"score":0,"creation_date":1684498613,"post_id":73206679,"comment_id":134529867,"body_markdown":"its working, tq. why mvn spring-boot:run -Dspring.profiles.active=env not working?","body":"its working, tq. why mvn spring-boot:run -Dspring.profiles.active=env not working?"}],"tags":[],"owner":{"account_id":11602676,"reputation":103,"user_id":8499334,"display_name":"Vivek Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1659944529,"creation_date":1659439207,"answer_id":73206679,"question_id":31038250,"body_markdown":"This will fix your problem on windows : \r\n\r\n    mvn spring-boot:run -D&quot;spring-boot.run.profiles&quot;=env","title":"Setting active profile and config location from command line in Spring Boot","body":"<p>This will fix your problem on windows :</p>\n<pre><code>mvn spring-boot:run -D&quot;spring-boot.run.profiles&quot;=env\n</code></pre>\n"}],"owner":{"account_id":2738653,"reputation":3819,"user_id":2360694,"accept_rate":67,"display_name":"Vinod Mohanan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":574645,"favorite_count":0,"down_vote_count":1,"up_vote_count":317,"accepted_answer_id":31057742,"answer_count":16,"score":316,"last_activity_date":1692297613,"creation_date":1435185011,"question_id":31038250,"body_markdown":"I have a Spring Boot application.\r\n\r\nI have three profiles in my application-&gt; **development, staging and production**. So I have 3 files \r\n\r\n 1. application-development.yml\r\n 2. application-staging.yml\r\n 3. application-production.yml\r\n\r\nMy **application.yml** resides inside `src/main/resources`. I have set the active profile in application.yml as :\r\n\r\n    spring:\r\n      profiles.active: development\r\nThe other 3 profile specific config files are present in `C:\\config` folder. \r\n\r\nI am using gradle plugin for eclipse. When I try to do a &quot;**bootRun**&quot;, I am setting the command line arguments in my gradle configuration in eclipse as \r\n\r\n     -Dspring.profiles.active=staging -Dspring.config.location=C:\\Config\r\n\r\nHowever, the command line property is not getting reflected and my active profile is always getting set as development(which is the one that I have mentioned in the `applications.yml` file). Also *C:\\Config* folder is not searched for profile specific config files.\r\n\r\nI think I am missing something here. I have been trying to figure it out for the  past 2 days. But no luck. I would really appreciate any help.","title":"Setting active profile and config location from command line in Spring Boot","body":"<p>I have a Spring Boot application.</p>\n<p>I have three profiles in my application-&gt; <strong>development, staging and production</strong>. So I have 3 files</p>\n<ol>\n<li>application-development.yml</li>\n<li>application-staging.yml</li>\n<li>application-production.yml</li>\n</ol>\n<p>My <strong>application.yml</strong> resides inside <code>src/main/resources</code>. I have set the active profile in application.yml as :</p>\n<pre><code>spring:\n  profiles.active: development\n</code></pre>\n<p>The other 3 profile specific config files are present in <code>C:\\config</code> folder.</p>\n<p>I am using gradle plugin for eclipse. When I try to do a &quot;<strong>bootRun</strong>&quot;, I am setting the command line arguments in my gradle configuration in eclipse as</p>\n<pre><code> -Dspring.profiles.active=staging -Dspring.config.location=C:\\Config\n</code></pre>\n<p>However, the command line property is not getting reflected and my active profile is always getting set as development(which is the one that I have mentioned in the <code>applications.yml</code> file). Also <em>C:\\Config</em> folder is not searched for profile specific config files.</p>\n<p>I think I am missing something here. I have been trying to figure it out for the  past 2 days. But no luck. I would really appreciate any help.</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1692343330,"post_id":76924259,"comment_id":135612677,"body_markdown":"In the database, if you have only 1 top-level-comment only, no mentions, no reply but this one comment has 200 attachments, then you will get 200 times the same top-level-comment. Thats how leftjoin works.","body":"In the database, if you have only 1 top-level-comment only, no mentions, no reply but this one comment has 200 attachments, then you will get 200 times the same top-level-comment. Thats how leftjoin works."}],"owner":{"account_id":19541880,"reputation":33,"user_id":14299475,"display_name":"Jan Rojowski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692297385,"creation_date":1692297385,"question_id":76924259,"body_markdown":"I am having the n+1 problem with getting the collection of child entities. Let me share the model it will be easier to understand. These are comments and replies both having collection of attachments.\r\nThis is abstract Comment class having @ElementCollection of attachments:\r\n```@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@EntityListeners(AuditingEntityListener.class)\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\npublic abstract class Comment {\r\n\r\n    @Id\r\n    @UuidGenerator\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    @JdbcTypeCode(SqlTypes.VARCHAR)\r\n    private UUID id;\r\n\r\n    @ElementCollection(fetch = FetchType.EAGER)\r\n    @Column(name = &quot;attachment&quot;)\r\n    private Set&lt;String&gt; attachments;\r\n```\r\n\r\nTopLevelComment class which models high level comment:\r\n```\r\n@Entity\r\npublic class TopLevelComment extends Comment {\r\n\r\n    @OneToMany(mappedBy = &quot;parentComment&quot;, fetch = FetchType.EAGER)\r\n    @Getter(AccessLevel.NONE)\r\n    private Set&lt;Reply&gt; replies = new HashSet&lt;&gt;();\r\n```\r\nReply class which models the reply to TopLevelComment:\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class Reply extends Comment {\r\n\r\n    @ManyToOne(cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = &quot;parent_comment_id&quot;)\r\n    private Comment parentComment;\r\n}\r\n```\r\nNow I use this service method to get the TopLevelComments with selected Ids, and I want to fetch also the replies and the attachments for both levels:\r\n```\r\npublic List&lt;CommentDto&gt; getCommentsForObject(UUID commentedObjectId) {\r\n    return topLevelCommentRepository.getAllByIdIn(ids)\r\n            .stream()\r\n            .map(c -&gt; mapper.map(c, CommentDto.class))\r\n            .sorted(Comparator.comparing(CommentDto::getCreated))\r\n            .toList();\r\n}\r\n```\r\nAnd this is a custom @Query that I use to fetch it from database:\r\n```\r\n@Query(&quot;&quot;&quot;\r\n       SELECT c\r\n       from TopLevelComment c\r\n       left join fetch c.replies\r\n       left join fetch c.attachments\r\n       left join fetch c.mentions\r\n       WHERE c.id in :ids\r\n       &quot;&quot;&quot;)\r\nList&lt;TopLevelComment&gt; getAllByIdIn(List&lt;UUID&gt; ids);\r\n```\r\n\r\nNow in the database I do have one comment which has 2 replies. If I use the following method I got such queries executed by Hibernate:\r\n```\r\nHibernate: \r\n    select\r\n        t1_0.id,\r\n        a1_0.comment_id,\r\n        a1_0.attachment,\r\n        t1_0.commented_object_id,\r\n        r1_0.parent_comment_id,\r\n        r1_0.id,\r\n        r1_0.commented_object_id,\r\n    from\r\n        top_level_comment t1_0 \r\n    left join\r\n        reply r1_0 \r\n            on t1_0.id=r1_0.parent_comment_id \r\n    left join\r\n        comment_attachments a1_0 \r\n            on t1_0.id=a1_0.comment_id \r\n    where\r\n        t1_0.id in(?)\r\nHibernate: \r\n    select\r\n        a1_0.comment_id,\r\n        a1_0.attachment \r\n    from\r\n        comment_attachments a1_0 \r\n    where\r\n        a1_0.comment_id=?\r\nHibernate: \r\n    select\r\n        a1_0.comment_id,\r\n        a1_0.attachment \r\n    from\r\n        comment_attachments a1_0 \r\n    where\r\n        a1_0.comment_id=?\r\n```\r\n\r\nSo it generates one query in which it fetches correctly replies and attachments for the TopLevelCommnent but then it does n queries to fetch attachments for each n replies that I have :(\r\n\r\n```\r\n@Query(&quot;&quot;&quot;\r\n       SELECT c\r\n       from TopLevelComment c\r\n       left join fetch c.replies r\r\n       left join fetch c.attachments\r\n       left join fetch c.mentions\r\n       left join fetch r.attachments\r\n       WHERE c.id in :ids\r\n       &quot;&quot;&quot;)\r\nList&lt;TopLevelComment&gt; getAllByIdIn(List&lt;UUID&gt; ids);\r\n```\r\nSuch query also gives the same number of n+1 queries :(\r\n\r\nSo the question is the following: is it even feasible to somehow avoid the n+1?\r\nThanks in advance for your help!","title":"Hibernate n+1 problem with collection property of child entities","body":"<p>I am having the n+1 problem with getting the collection of child entities. Let me share the model it will be easier to understand. These are comments and replies both having collection of attachments.\nThis is abstract Comment class having @ElementCollection of attachments:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@EntityListeners(AuditingEntityListener.class)\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic abstract class Comment {\n\n    @Id\n    @UuidGenerator\n    @GeneratedValue(strategy = GenerationType.UUID)\n    @JdbcTypeCode(SqlTypes.VARCHAR)\n    private UUID id;\n\n    @ElementCollection(fetch = FetchType.EAGER)\n    @Column(name = &quot;attachment&quot;)\n    private Set&lt;String&gt; attachments;\n</code></pre>\n<p>TopLevelComment class which models high level comment:</p>\n<pre><code>@Entity\npublic class TopLevelComment extends Comment {\n\n    @OneToMany(mappedBy = &quot;parentComment&quot;, fetch = FetchType.EAGER)\n    @Getter(AccessLevel.NONE)\n    private Set&lt;Reply&gt; replies = new HashSet&lt;&gt;();\n</code></pre>\n<p>Reply class which models the reply to TopLevelComment:</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class Reply extends Comment {\n\n    @ManyToOne(cascade = CascadeType.PERSIST)\n    @JoinColumn(name = &quot;parent_comment_id&quot;)\n    private Comment parentComment;\n}\n</code></pre>\n<p>Now I use this service method to get the TopLevelComments with selected Ids, and I want to fetch also the replies and the attachments for both levels:</p>\n<pre><code>public List&lt;CommentDto&gt; getCommentsForObject(UUID commentedObjectId) {\n    return topLevelCommentRepository.getAllByIdIn(ids)\n            .stream()\n            .map(c -&gt; mapper.map(c, CommentDto.class))\n            .sorted(Comparator.comparing(CommentDto::getCreated))\n            .toList();\n}\n</code></pre>\n<p>And this is a custom @Query that I use to fetch it from database:</p>\n<pre><code>@Query(&quot;&quot;&quot;\n       SELECT c\n       from TopLevelComment c\n       left join fetch c.replies\n       left join fetch c.attachments\n       left join fetch c.mentions\n       WHERE c.id in :ids\n       &quot;&quot;&quot;)\nList&lt;TopLevelComment&gt; getAllByIdIn(List&lt;UUID&gt; ids);\n</code></pre>\n<p>Now in the database I do have one comment which has 2 replies. If I use the following method I got such queries executed by Hibernate:</p>\n<pre><code>Hibernate: \n    select\n        t1_0.id,\n        a1_0.comment_id,\n        a1_0.attachment,\n        t1_0.commented_object_id,\n        r1_0.parent_comment_id,\n        r1_0.id,\n        r1_0.commented_object_id,\n    from\n        top_level_comment t1_0 \n    left join\n        reply r1_0 \n            on t1_0.id=r1_0.parent_comment_id \n    left join\n        comment_attachments a1_0 \n            on t1_0.id=a1_0.comment_id \n    where\n        t1_0.id in(?)\nHibernate: \n    select\n        a1_0.comment_id,\n        a1_0.attachment \n    from\n        comment_attachments a1_0 \n    where\n        a1_0.comment_id=?\nHibernate: \n    select\n        a1_0.comment_id,\n        a1_0.attachment \n    from\n        comment_attachments a1_0 \n    where\n        a1_0.comment_id=?\n</code></pre>\n<p>So it generates one query in which it fetches correctly replies and attachments for the TopLevelCommnent but then it does n queries to fetch attachments for each n replies that I have :(</p>\n<pre><code>@Query(&quot;&quot;&quot;\n       SELECT c\n       from TopLevelComment c\n       left join fetch c.replies r\n       left join fetch c.attachments\n       left join fetch c.mentions\n       left join fetch r.attachments\n       WHERE c.id in :ids\n       &quot;&quot;&quot;)\nList&lt;TopLevelComment&gt; getAllByIdIn(List&lt;UUID&gt; ids);\n</code></pre>\n<p>Such query also gives the same number of n+1 queries :(</p>\n<p>So the question is the following: is it even feasible to somehow avoid the n+1?\nThanks in advance for your help!</p>\n"},{"tags":["java","twilio","whatsapp"],"answers":[{"tags":[],"owner":{"account_id":13978,"reputation":71456,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633911295,"creation_date":1633911295,"answer_id":69519864,"question_id":69493926,"body_markdown":"Twilio developer evangelist here.\r\n\r\nCurrently, as you have read, the [Twilio API for WhatsApp only supports adding buttons to messages via templates][1].\r\n\r\n\r\n  [1]: https://www.twilio.com/docs/whatsapp/buttons","title":"In Twilio, How can I use Whatsapp buttons or list option in 24hour session without using message templates","body":"<p>Twilio developer evangelist here.</p>\n<p>Currently, as you have read, the <a href=\"https://www.twilio.com/docs/whatsapp/buttons\" rel=\"nofollow noreferrer\">Twilio API for WhatsApp only supports adding buttons to messages via templates</a>.</p>\n"}],"owner":{"account_id":22879868,"reputation":1,"user_id":17021619,"display_name":"Chandra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":907,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692297339,"creation_date":1633686691,"question_id":69493926,"body_markdown":"In Twilio, How can I use Whatsapp buttons or list option in 24hour session without using message templates?&lt;br/&gt;\r\n\r\nThis is the exact [reference](https://developers.facebook.com/docs/whatsapp/guides/interactive-messages) that I am planning to implement. In this page, it doesn&#39;t mandate that I have to have message templates to implement interactive messaging.\r\n\r\nBut, in Twilio, I read it as messaging template is mandatory for Button/Quick Reply use cases in Twilio [documentation](https://www.twilio.com/docs/whatsapp/buttons?code-sample=code-send-a-whatsapp-message-with-buttons&amp;code-language=Java&amp;code-sdk-version=8.x#creating-templates-with-buttons)\r\n\r\nIs it possible to implement interactive messaging as described in [whatsapp documentation](https://developers.facebook.com/docs/whatsapp/guides/interactive-messages), with list options or buttons without the message templates using Twilio Java SDK? If Yes, please throw some light on the usage or share links of any such examples or any references.\r\n\r\nRegards,&lt;br/&gt;\r\nChandra","title":"In Twilio, How can I use Whatsapp buttons or list option in 24hour session without using message templates","body":"<p>In Twilio, How can I use Whatsapp buttons or list option in 24hour session without using message templates?<br/></p>\n<p>This is the exact <a href=\"https://developers.facebook.com/docs/whatsapp/guides/interactive-messages\" rel=\"nofollow noreferrer\">reference</a> that I am planning to implement. In this page, it doesn't mandate that I have to have message templates to implement interactive messaging.</p>\n<p>But, in Twilio, I read it as messaging template is mandatory for Button/Quick Reply use cases in Twilio <a href=\"https://www.twilio.com/docs/whatsapp/buttons?code-sample=code-send-a-whatsapp-message-with-buttons&amp;code-language=Java&amp;code-sdk-version=8.x#creating-templates-with-buttons\" rel=\"nofollow noreferrer\">documentation</a></p>\n<p>Is it possible to implement interactive messaging as described in <a href=\"https://developers.facebook.com/docs/whatsapp/guides/interactive-messages\" rel=\"nofollow noreferrer\">whatsapp documentation</a>, with list options or buttons without the message templates using Twilio Java SDK? If Yes, please throw some light on the usage or share links of any such examples or any references.</p>\n<p>Regards,<br/>\nChandra</p>\n"},{"tags":["java","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":6085540,"reputation":22143,"user_id":4751173,"display_name":"Glorfindel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692297261,"creation_date":1692296885,"answer_id":76924222,"question_id":76893504,"body_markdown":"After some more experimenting, I discovered that Spring will [*automatically* rollback all changes after completing a test method](https://stackoverflow.com/a/12626636/4751173), which I totally did not expect, given the SQL `INSERT` and `DELETE` statements I saw in the application log. I should&#39;ve known they were executed after a `BEGIN TRANSACTION`, but could not easily check the results because I&#39;m using HSQLDB for the unit tests without a management tool. And I have other &#39;unit tests&#39; in the project (not marked `@Transactional`, and a different database connection in the properties file) to generate some bootstrap data in a PostgreSQL database, which work as expected and do persist data.\r\n\r\nSo for now I&#39;ll just end the test without\r\n```\r\nAssert.assertEquals(1, countryRepository.count());\r\n```\r\nhoping I won&#39;t be stupid enough to catch `DataIntegrityViolationException`s in my main code...","title":"How can I rollback deleting an object which failed after flushing a JpaRepository?","body":"<p>After some more experimenting, I discovered that Spring will <a href=\"https://stackoverflow.com/a/12626636/4751173\"><em>automatically</em> rollback all changes after completing a test method</a>, which I totally did not expect, given the SQL <code>INSERT</code> and <code>DELETE</code> statements I saw in the application log. I should've known they were executed after a <code>BEGIN TRANSACTION</code>, but could not easily check the results because I'm using HSQLDB for the unit tests without a management tool. And I have other 'unit tests' in the project (not marked <code>@Transactional</code>, and a different database connection in the properties file) to generate some bootstrap data in a PostgreSQL database, which work as expected and do persist data.</p>\n<p>So for now I'll just end the test without</p>\n<pre><code>Assert.assertEquals(1, countryRepository.count());\n</code></pre>\n<p>hoping I won't be stupid enough to catch <code>DataIntegrityViolationException</code>s in my main code...</p>\n"}],"owner":{"account_id":6085540,"reputation":22143,"user_id":4751173,"display_name":"Glorfindel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76924222,"answer_count":1,"score":0,"last_activity_date":1692297261,"creation_date":1691932340,"question_id":76893504,"body_markdown":"I&#39;m trying to tweak the delete behaviour of the domain model of my application. Let&#39;s say I have Countries and Regions, and Countries should not be deleted if they have any Regions. The other classes / configuration will follow below, but the following code should test that. `countryRepository.flush();` throws a `DataIntegrityViolationException`, as expected, but the final call to `countryRepository.count()` throws the same Exception. In the logs you can see it&#39;s trying to execute the DELETE SQL command again.\r\n\r\nI was hoping on the `@Transactional` to rollback the situation, but apparently it doesn&#39;t - perhaps because it&#39;s caught by `assertThrows`?\r\n\r\n```\r\n@SpringBootTest\r\n@SpringBootApplication\r\n@TestPropertySource(locations = &quot;classpath:unit-tests.properties&quot;)\r\n@Transactional\r\npublic class Tests {\r\n\t@Autowired\r\n\tprivate CountryRepository countryRepository;\r\n\r\n\t@Autowired\r\n\tprivate RegionRepository regionRepository;\r\n\r\n\t@Test\r\n\tpublic void preventDeleteOfUsedObjects() {\r\n\t\t// Create objects\r\n\t\tCountry country = new Country();\r\n\t\tcountry.name = &quot;United Status&quot;;\r\n\t\tcountryRepository.save(country);\r\n\t\tcountryRepository.flush();\r\n\t\tRegion region = new Region();\r\n\t\tregion.name = &quot;California&quot;;\r\n\t\tregion.country = country;\r\n\t\tregionRepository.save(region);\r\n\t\tregionRepository.flush();\r\n\r\n\t\t// Deleting used countries should not be possible\r\n\t\tAssertions.assertThrows(DataIntegrityViolationException.class, () -&gt; {\r\n\t\t\tcountryRepository.delete(country);\r\n\t\t\tcountryRepository.flush();\r\n\t\t});\r\n\r\n\t\tAssert.assertEquals(1, countryRepository.count());\r\n\t}\r\n}\r\n```\r\n\r\nThe data model:\r\n```\r\n@Entity\r\n@Table(name = &quot;countries&quot;)\r\npublic class Country {\r\n\t@Id\r\n\tpublic String name;\r\n}\r\n```\r\n```\r\n@Entity\r\n@Table(name = &quot;regions&quot;)\r\npublic class Region {\r\n\t@Id\r\n\tpublic String name;\r\n\r\n\t@ManyToOne\r\n\tpublic Country country;\r\n}\r\n```\r\nthe corresponding repositories:\r\n```\r\npublic interface CountryRepository extends JpaRepository&lt;Country, String&gt; {\r\n}\r\n```\r\n```\r\npublic interface RegionRepository extends JpaRepository&lt;Region, String&gt; {\r\n}\r\n```\r\nunit-tests.properties:\r\n```none\r\nspring.datasource.url=jdbc:hsqldb:mem:model;sql.syntax_pgs=true\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\nspring.datasource.driver-class-name=org.hsqldb.jdbcDriver\r\nspring.jackson.default-property-inclusion=non_null\r\nspring.jpa.hibernate.ddl-auto=create\r\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\nlogging.level.root=INFO\r\n```\r\npom.xml:\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;artifactId&gt;example&lt;/artifactId&gt;\r\n\t&lt;name&gt;example&lt;/name&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n        \t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        \t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```","title":"How can I rollback deleting an object which failed after flushing a JpaRepository?","body":"<p>I'm trying to tweak the delete behaviour of the domain model of my application. Let's say I have Countries and Regions, and Countries should not be deleted if they have any Regions. The other classes / configuration will follow below, but the following code should test that. <code>countryRepository.flush();</code> throws a <code>DataIntegrityViolationException</code>, as expected, but the final call to <code>countryRepository.count()</code> throws the same Exception. In the logs you can see it's trying to execute the DELETE SQL command again.</p>\n<p>I was hoping on the <code>@Transactional</code> to rollback the situation, but apparently it doesn't - perhaps because it's caught by <code>assertThrows</code>?</p>\n<pre><code>@SpringBootTest\n@SpringBootApplication\n@TestPropertySource(locations = &quot;classpath:unit-tests.properties&quot;)\n@Transactional\npublic class Tests {\n    @Autowired\n    private CountryRepository countryRepository;\n\n    @Autowired\n    private RegionRepository regionRepository;\n\n    @Test\n    public void preventDeleteOfUsedObjects() {\n        // Create objects\n        Country country = new Country();\n        country.name = &quot;United Status&quot;;\n        countryRepository.save(country);\n        countryRepository.flush();\n        Region region = new Region();\n        region.name = &quot;California&quot;;\n        region.country = country;\n        regionRepository.save(region);\n        regionRepository.flush();\n\n        // Deleting used countries should not be possible\n        Assertions.assertThrows(DataIntegrityViolationException.class, () -&gt; {\n            countryRepository.delete(country);\n            countryRepository.flush();\n        });\n\n        Assert.assertEquals(1, countryRepository.count());\n    }\n}\n</code></pre>\n<p>The data model:</p>\n<pre><code>@Entity\n@Table(name = &quot;countries&quot;)\npublic class Country {\n    @Id\n    public String name;\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;regions&quot;)\npublic class Region {\n    @Id\n    public String name;\n\n    @ManyToOne\n    public Country country;\n}\n</code></pre>\n<p>the corresponding repositories:</p>\n<pre><code>public interface CountryRepository extends JpaRepository&lt;Country, String&gt; {\n}\n</code></pre>\n<pre><code>public interface RegionRepository extends JpaRepository&lt;Region, String&gt; {\n}\n</code></pre>\n<p>unit-tests.properties:</p>\n<pre class=\"lang-none prettyprint-override\"><code>spring.datasource.url=jdbc:hsqldb:mem:model;sql.syntax_pgs=true\nspring.datasource.username=sa\nspring.datasource.password=\nspring.datasource.driver-class-name=org.hsqldb.jdbcDriver\nspring.jackson.default-property-inclusion=non_null\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\nlogging.level.root=INFO\n</code></pre>\n<p>pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;example&lt;/artifactId&gt;\n    &lt;name&gt;example&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692190771,"post_id":76913785,"comment_id":135589956,"body_markdown":"Please include the imports and packages in your sources, as well specify which Spring Boot version you are using (or rather post your dependencies).","body":"Please include the imports and packages in your sources, as well specify which Spring Boot version you are using (or rather post your dependencies)."},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1692191591,"post_id":76913785,"comment_id":135590184,"body_markdown":"Did you miss @Entity annotation in Tmsdata.java by any chance?","body":"Did you miss @Entity annotation in Tmsdata.java by any chance?"}],"answers":[{"tags":[],"owner":{"account_id":17834484,"reputation":1,"user_id":12953783,"display_name":"mohamad allan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692296979,"creation_date":1692193038,"answer_id":76914135,"question_id":76913785,"body_markdown":"You need to add annotation `@Entity` to your entity class\r\n\r\nTry the following :\r\n\r\n```java\r\n@Entity\r\npublic class Tmsdata {\r\n  @Id\r\n  private Long record_id;\r\n}\r\n```\r\n\r\nIf you want to add a name for the table add `@Table` annotation like so:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;your-table-name&quot;)\r\npublic class Tmsdata {\r\n  @Id\r\n  private Long record_id;\r\n}\r\n```","title":"SpringBoot JPA data access App doesn&#39;t recognise Repository type","body":"<p>You need to add annotation <code>@Entity</code> to your entity class</p>\n<p>Try the following :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Tmsdata {\n  @Id\n  private Long record_id;\n}\n</code></pre>\n<p>If you want to add a name for the table add <code>@Table</code> annotation like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;your-table-name&quot;)\npublic class Tmsdata {\n  @Id\n  private Long record_id;\n}\n</code></pre>\n"}],"owner":{"account_id":423223,"reputation":5101,"user_id":802482,"accept_rate":67,"display_name":"Black"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692296979,"creation_date":1692190644,"question_id":76913785,"body_markdown":"\r\nI&#39;ve written a basic SpringBoot web app using Java 8 to read tuples from a table called Tmsdata.\r\n\r\n\r\n\r\nSyncApplication.java:\r\n\r\n    @SpringBootApplication\r\n    public class SyncApplication {\r\n\r\n      public static void main(String[] args) {\r\n        SpringApplication.run(SyncApplication.class, args);\r\n      }\r\n    }\r\n\r\nSyncController.java:\r\n\r\n    @Controller\r\n    public class SyncController {\r\n\r\n      @Autowired\r\n      private TmsdataService tmsdataService;\r\n\r\n\r\n      @GetMapping(&quot;/&quot;)\r\n      @ResponseBody\r\n      public String default() {\r\n\r\n        List&lt;Tmsdata&gt; a = tmsdataService.findAll();\r\n\r\n        return &quot;{ message: &#39;OK&#39;, count: &quot; + a.size() + &quot; }&quot;;\r\n      }\r\n \r\n    }\r\n\r\nTmsdataRepository.java:\r\n\r\n    @Repository\r\n    public interface TmsdataRepository extends JpaRepository&lt;Tmsdata, Long&gt; {\r\n        // Define custom query methods if needed\r\n\r\n    }\r\n\r\nTmsdataService:\r\n\r\n    @Service\r\n    public class TmsdataService {\r\n\r\n      @Autowired\r\n      private TmsdataRepository tmsdataRepository;\r\n\r\n      public List&lt;Tmsdata&gt; findAll() {\r\n\r\n        List&lt;Tmsdata&gt; a = tmsdataRepository.findAll();\r\n\r\n        return a;\r\n      }\r\n\r\n    }\r\n\r\nTmsdata.java:\r\n\r\n    public class Tmsdata {\r\n      @Id\r\n      private Long record_id;\r\n    }\r\n\r\n\r\nWhen I compile the project there are no issues, but when I do `mvn spring-boot:run` I get the following error:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    Description:\r\n    Field tmsdataRepository in com.company.sync.TmsdataService required a bean of type &#39;com.company.sync.TmsdataRepository&#39; that could not be found.\r\n    The injection point has the following annotations:\r\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    Action:\r\n    Consider defining a bean of type &#39;com.company.sync.TmsdataRepository&#39; in your configuration.\r\n\r\n\r\nAs you can see I already have defined the JPA Repository with that name.  What else could be going on here?\r\n","title":"SpringBoot JPA data access App doesn&#39;t recognise Repository type","body":"<p>I've written a basic SpringBoot web app using Java 8 to read tuples from a table called Tmsdata.</p>\n<p>SyncApplication.java:</p>\n<pre><code>@SpringBootApplication\npublic class SyncApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(SyncApplication.class, args);\n  }\n}\n</code></pre>\n<p>SyncController.java:</p>\n<pre><code>@Controller\npublic class SyncController {\n\n  @Autowired\n  private TmsdataService tmsdataService;\n\n\n  @GetMapping(&quot;/&quot;)\n  @ResponseBody\n  public String default() {\n\n    List&lt;Tmsdata&gt; a = tmsdataService.findAll();\n\n    return &quot;{ message: 'OK', count: &quot; + a.size() + &quot; }&quot;;\n  }\n\n}\n</code></pre>\n<p>TmsdataRepository.java:</p>\n<pre><code>@Repository\npublic interface TmsdataRepository extends JpaRepository&lt;Tmsdata, Long&gt; {\n    // Define custom query methods if needed\n\n}\n</code></pre>\n<p>TmsdataService:</p>\n<pre><code>@Service\npublic class TmsdataService {\n\n  @Autowired\n  private TmsdataRepository tmsdataRepository;\n\n  public List&lt;Tmsdata&gt; findAll() {\n\n    List&lt;Tmsdata&gt; a = tmsdataRepository.findAll();\n\n    return a;\n  }\n\n}\n</code></pre>\n<p>Tmsdata.java:</p>\n<pre><code>public class Tmsdata {\n  @Id\n  private Long record_id;\n}\n</code></pre>\n<p>When I compile the project there are no issues, but when I do <code>mvn spring-boot:run</code> I get the following error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\nDescription:\nField tmsdataRepository in com.company.sync.TmsdataService required a bean of type 'com.company.sync.TmsdataRepository' that could not be found.\nThe injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)\nAction:\nConsider defining a bean of type 'com.company.sync.TmsdataRepository' in your configuration.\n</code></pre>\n<p>As you can see I already have defined the JPA Repository with that name.  What else could be going on here?</p>\n"},{"tags":["java","yaml","filtering"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1692290646,"post_id":76923309,"comment_id":135606456,"body_markdown":"Can you clerify the input and the output of the function?","body":"Can you clerify the input and the output of the function?"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692291109,"post_id":76923309,"comment_id":135606562,"body_markdown":"What is the Java and dependencies version?","body":"What is the Java and dependencies version?"},{"owner":{"account_id":24371439,"reputation":13,"user_id":18304329,"display_name":"izzzzthewiz"},"score":0,"creation_date":1692291744,"post_id":76923309,"comment_id":135606690,"body_markdown":"@DiegoBorba Java corretto-17.0.7 and only dependencies in my Maven project (if that&#39;s what you mean) are io.papermc.paper.paper-api v1.20.1-R0.1-SNAPSHOT and com.github.MilkBowl.VaultAPI v1.7","body":"@DiegoBorba Java corretto-17.0.7 and only dependencies in my Maven project (if that&#39;s what you mean) are io.papermc.paper.paper-api v1.20.1-R0.1-SNAPSHOT and com.github.MilkBowl.VaultAPI v1.7"},{"owner":{"account_id":24371439,"reputation":13,"user_id":18304329,"display_name":"izzzzthewiz"},"score":0,"creation_date":1692291811,"post_id":76923309,"comment_id":135606708,"body_markdown":"@MaksimEliseev I&#39;m not sure what you mean","body":"@MaksimEliseev I&#39;m not sure what you mean"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692294307,"post_id":76923309,"comment_id":135607216,"body_markdown":"Please add your `pom` to the question","body":"Please add your <code>pom</code> to the question"}],"answers":[{"tags":[],"owner":{"account_id":24371439,"reputation":13,"user_id":18304329,"display_name":"izzzzthewiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692293093,"creation_date":1692293093,"answer_id":76923840,"question_id":76923309,"body_markdown":"After tinkering a bit, I found that I can use 2 methods - one essentially the same as the first and one to loop that function until nothing else can be added. Here is a link to the code - https://www.jdoodle.com/ia/KUJ","title":"Is there a filtering function to find links between lists in maps?","body":"<p>After tinkering a bit, I found that I can use 2 methods - one essentially the same as the first and one to loop that function until nothing else can be added. Here is a link to the code - <a href=\"https://www.jdoodle.com/ia/KUJ\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/ia/KUJ</a></p>\n"},{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692296227,"creation_date":1692296227,"answer_id":76924164,"question_id":76923309,"body_markdown":"&gt; After tinkering a bit, I found that I can use 2 methods - one\r\n&gt; essentially the same as the first and one to loop that function until\r\n&gt; nothing else can be added. Here is a link to the code -\r\n&gt; https://www.jdoodle.com/ia/KUJ\r\n\r\nConsidering your solution, I improved your code:\r\n\r\n```java\r\npublic static List&lt;String&gt; getAssociatedIPs(String ip) {\r\n\tList&lt;String&gt; aIPs = new ArrayList&lt;&gt;();\r\n\tipLog.values().stream().filter(ips -&gt; ips.contains(ip)).forEach(ips -&gt; aIPs.addAll(ips));\r\n\treturn aIPs.stream().distinct().collect(Collectors.toList());\r\n}\r\n\r\npublic static List&lt;String&gt; getDeeperAssociatedIPs(String ip) {\r\n\tList&lt;String&gt; checked = new ArrayList&lt;&gt;();\r\n\tList&lt;String&gt; aIPs = new ArrayList&lt;&gt;(getAssociatedIPs(ip));\r\n\tchecked.add(ip);\r\n\r\n\twhile (!aIPs.isEmpty()) {\r\n\t\tList&lt;String&gt; uncheckedIPs = aIPs.stream().filter(i -&gt; !checked.contains(i)).collect(Collectors.toList());\r\n\t\tfor (String uncheckedIP : uncheckedIPs) {\r\n\t\t\tchecked.add(uncheckedIP);\r\n\t\t\tList&lt;String&gt; associatedIPs = getAssociatedIPs(uncheckedIP);\r\n\t\t\taIPs.addAll(associatedIPs);\r\n\t\t}\r\n\t\taIPs.removeAll(checked);\r\n\t}\r\n\treturn checked;\r\n}\r\n``` \r\n\r\nImprovements:\r\n\r\n - **Stream Usage**: The code has been rewritten to use `Streams`,\r\n   making it clearer.\r\n - **Minimization of Loop Usage**: Instead of using explicit loops, the\r\n   method utilizes `Stream` functionality to process associated `IPs` more\r\n   efficiently.\r\n - **Reduction of Temporary Lists**: Rather than creating a new list for\r\n   unchecked `IPs` in each iteration, the code maintains the list `aIPs`\r\n   and removes the already verified `IPs` during each iteration.\r\n\r\n","title":"Is there a filtering function to find links between lists in maps?","body":"<blockquote>\n<p>After tinkering a bit, I found that I can use 2 methods - one\nessentially the same as the first and one to loop that function until\nnothing else can be added. Here is a link to the code -\n<a href=\"https://www.jdoodle.com/ia/KUJ\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/ia/KUJ</a></p>\n</blockquote>\n<p>Considering your solution, I improved your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;String&gt; getAssociatedIPs(String ip) {\n    List&lt;String&gt; aIPs = new ArrayList&lt;&gt;();\n    ipLog.values().stream().filter(ips -&gt; ips.contains(ip)).forEach(ips -&gt; aIPs.addAll(ips));\n    return aIPs.stream().distinct().collect(Collectors.toList());\n}\n\npublic static List&lt;String&gt; getDeeperAssociatedIPs(String ip) {\n    List&lt;String&gt; checked = new ArrayList&lt;&gt;();\n    List&lt;String&gt; aIPs = new ArrayList&lt;&gt;(getAssociatedIPs(ip));\n    checked.add(ip);\n\n    while (!aIPs.isEmpty()) {\n        List&lt;String&gt; uncheckedIPs = aIPs.stream().filter(i -&gt; !checked.contains(i)).collect(Collectors.toList());\n        for (String uncheckedIP : uncheckedIPs) {\n            checked.add(uncheckedIP);\n            List&lt;String&gt; associatedIPs = getAssociatedIPs(uncheckedIP);\n            aIPs.addAll(associatedIPs);\n        }\n        aIPs.removeAll(checked);\n    }\n    return checked;\n}\n</code></pre>\n<p>Improvements:</p>\n<ul>\n<li><strong>Stream Usage</strong>: The code has been rewritten to use <code>Streams</code>,\nmaking it clearer.</li>\n<li><strong>Minimization of Loop Usage</strong>: Instead of using explicit loops, the\nmethod utilizes <code>Stream</code> functionality to process associated <code>IPs</code> more\nefficiently.</li>\n<li><strong>Reduction of Temporary Lists</strong>: Rather than creating a new list for\nunchecked <code>IPs</code> in each iteration, the code maintains the list <code>aIPs</code>\nand removes the already verified <code>IPs</code> during each iteration.</li>\n</ul>\n"}],"owner":{"account_id":24371439,"reputation":13,"user_id":18304329,"display_name":"izzzzthewiz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76924164,"answer_count":2,"score":0,"last_activity_date":1692296227,"creation_date":1692288787,"question_id":76923309,"body_markdown":"I am tooling around for fun making a Minecraft plugin. In my plugin, there is a YML configuration containing a list of IP&#39;s for each player who has joined the server. I want to be able to loop through the other lists in the config to find accounts that may be associated by one or more of the same IP&#39;s. \r\n\r\nAs a visualization, here is an example YML file (ips.yml)\r\n```yaml\r\n98b7a77b-cd65-4f72-ad91-a6c399f1921e:\r\n   - 127.0.0.0\r\n   - 127.0.0.1\r\n1168c028-de65-4698-bbde-9ae674404829:\r\n   - 127.0.0.1\r\n   - 127.0.0.2\r\nbb88d2ab-2433-4c30-bbb8-e012edc19279:\r\n   - 127.0.0.2\r\n   - 127.0.0.3\r\nab6cad20-04ff-4317-939e-9af8ff50afd3:\r\n   - 127.0.0.3\r\n   - 127.0.0.4\r\n ```\r\n\r\nHere is my current filtering function: \r\n```java\r\nprivate static final Plugin plugin = Plugin.getPlugin();\r\nprivate static final File file = new File(plugin.getDataFolder());\r\nprivate static Map&lt;UUID, List&lt;String&gt;&gt; getIPsFromYAML() {\r\n    FileConfiguration ipLog = YamlConfiguration.loadConfiguration(file);\r\n    return ipLog.getKeys(false).stream().collect(Collectors.toMap(UUID::fromString, key -&gt; ipLog.getStringList(key)));\r\n}\r\npublic static List&lt;String&gt; getAssociatedIPs(String ip) {\r\n    List&lt;String&gt; associatedIPs = new ArrayList&lt;&gt;();\r\n    Map&lt;UUID, List&lt;String&gt;&gt; ipMap = getIPsFromYAML();\r\n    for (List&lt;String&gt; ips : ipMap.values()) {\r\n        if (ips.contains(ip)) {\r\n            for (String ip2 : ips) {\r\n                if (!associatedIPs.contains(ip2)) associatedIPs.add(ip2);\r\n            }\r\n        }\r\n    }\r\n    return associatedIps;\r\n}\r\n```\r\nHowever, in this function with this YML file, if you were to pass `&quot;127.0.0.1&quot;` in the method, you would only get a list with `{&quot;127.0.0&quot;,&quot;127.0.1&quot;,&quot;127.0.2&quot;}` as it only searches for what matches the original string when I want it to return all of the IP&#39;s because they are all linked somehow.\r\n\r\nAny help with this would be very appreciated.","title":"Is there a filtering function to find links between lists in maps?","body":"<p>I am tooling around for fun making a Minecraft plugin. In my plugin, there is a YML configuration containing a list of IP's for each player who has joined the server. I want to be able to loop through the other lists in the config to find accounts that may be associated by one or more of the same IP's.</p>\n<p>As a visualization, here is an example YML file (ips.yml)</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>98b7a77b-cd65-4f72-ad91-a6c399f1921e:\n   - 127.0.0.0\n   - 127.0.0.1\n1168c028-de65-4698-bbde-9ae674404829:\n   - 127.0.0.1\n   - 127.0.0.2\nbb88d2ab-2433-4c30-bbb8-e012edc19279:\n   - 127.0.0.2\n   - 127.0.0.3\nab6cad20-04ff-4317-939e-9af8ff50afd3:\n   - 127.0.0.3\n   - 127.0.0.4\n</code></pre>\n<p>Here is my current filtering function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final Plugin plugin = Plugin.getPlugin();\nprivate static final File file = new File(plugin.getDataFolder());\nprivate static Map&lt;UUID, List&lt;String&gt;&gt; getIPsFromYAML() {\n    FileConfiguration ipLog = YamlConfiguration.loadConfiguration(file);\n    return ipLog.getKeys(false).stream().collect(Collectors.toMap(UUID::fromString, key -&gt; ipLog.getStringList(key)));\n}\npublic static List&lt;String&gt; getAssociatedIPs(String ip) {\n    List&lt;String&gt; associatedIPs = new ArrayList&lt;&gt;();\n    Map&lt;UUID, List&lt;String&gt;&gt; ipMap = getIPsFromYAML();\n    for (List&lt;String&gt; ips : ipMap.values()) {\n        if (ips.contains(ip)) {\n            for (String ip2 : ips) {\n                if (!associatedIPs.contains(ip2)) associatedIPs.add(ip2);\n            }\n        }\n    }\n    return associatedIps;\n}\n</code></pre>\n<p>However, in this function with this YML file, if you were to pass <code>&quot;127.0.0.1&quot;</code> in the method, you would only get a list with <code>{&quot;127.0.0&quot;,&quot;127.0.1&quot;,&quot;127.0.2&quot;}</code> as it only searches for what matches the original string when I want it to return all of the IP's because they are all linked somehow.</p>\n<p>Any help with this would be very appreciated.</p>\n"},{"tags":["java","applet","apache-fop"],"answers":[{"comments":[{"owner":{"account_id":355628,"reputation":1042,"user_id":694677,"accept_rate":74,"display_name":"DominikM"},"score":2,"creation_date":1448615971,"post_id":26282077,"comment_id":55665859,"body_markdown":"Thank you. We are using maven shade plugin and the solution for me was to add a transformer to the shade plugin configuration \n\n`&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n\t\t\t\t\t\t\t\t\t&lt;resource&gt;META-INF/services/org.apache.xmlgraphics.image.loader.spi.ImagePreloader&lt;/resource&gt;\n\t\t\t\t\t\t\t\t&lt;/transformer&gt;`","body":"Thank you. We are using maven shade plugin and the solution for me was to add a transformer to the shade plugin configuration   <code>&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.Appe&zwnj;&#8203;ndingTransformer&quot;&gt; \t\t\t\t\t\t\t\t\t&lt;resource&gt;META-INF&#47;services&#47;org.apache.xmlgraphics.&zwnj;&#8203;image.loader.spi.Ima&zwnj;&#8203;gePreloader&lt;&#47;resourc&zwnj;&#8203;e&gt; \t\t\t\t\t\t\t\t&lt;&#47;transformer&gt;</code>"},{"owner":{"account_id":2211138,"reputation":1445,"user_id":1952956,"accept_rate":58,"display_name":"Oni1"},"score":0,"creation_date":1557209159,"post_id":26282077,"comment_id":98676680,"body_markdown":"Thank you! You saved my day.","body":"Thank you! You saved my day."}],"tags":[],"owner":{"account_id":5112043,"reputation":201,"user_id":4098345,"display_name":"Joseph Morris"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1412867835,"creation_date":1412867835,"answer_id":26282077,"question_id":26139301,"body_markdown":"In case anyone else has something similar, this turned out to be caused by the way the project was being built in Maven.\r\n\r\nFop 1.0 and above use the xml-graphics-commons library to facilitate the image rendering.  As mentioned in the question, this uses a plugin registry which is configured using the following files inside the JAR:\r\n\r\nMETA-INF/services/org.apache.xmlgraphics.image.loader.spi.ImageConverter&lt;BR&gt;\r\nMETA-INF/services/org.apache.xmlgraphics.image.loader.spi.ImageLoaderFactory&lt;BR&gt;\r\nMETA-INF/services/org.apache.xmlgraphics.image.loader.spi.ImagePreloader&lt;BR&gt;\r\n\r\n...each of these contains a list of the image decoders which will be supported.\r\n\r\nThe problem is that xml-graphics-common ships these files with a sensible list of defaults, while FOP also has a conflicting set of defaults, which for some weird reason disable all of the image decoders, and that one was taking priority.\r\n\r\nTo solve the problem, I made sure that my maven pom.xml file imported xml-graphics-common &lt;I&gt;before&lt;/I&gt; FOP, so that its defaults took precedence, and at that point everything sprang to life.\r\n\r\nI am still not sure why the code was working correctly as a standalone test program, but I suspect it was the way the classpath was being handled being different to it running in plugin mode.\r\n","title":"Apache FOP in a Java Applet - No ImagePreloader found for data","body":"<p>In case anyone else has something similar, this turned out to be caused by the way the project was being built in Maven.</p>\n\n<p>Fop 1.0 and above use the xml-graphics-commons library to facilitate the image rendering.  As mentioned in the question, this uses a plugin registry which is configured using the following files inside the JAR:</p>\n\n<p>META-INF/services/org.apache.xmlgraphics.image.loader.spi.ImageConverter<BR>\nMETA-INF/services/org.apache.xmlgraphics.image.loader.spi.ImageLoaderFactory<BR>\nMETA-INF/services/org.apache.xmlgraphics.image.loader.spi.ImagePreloader<BR></p>\n\n<p>...each of these contains a list of the image decoders which will be supported.</p>\n\n<p>The problem is that xml-graphics-common ships these files with a sensible list of defaults, while FOP also has a conflicting set of defaults, which for some weird reason disable all of the image decoders, and that one was taking priority.</p>\n\n<p>To solve the problem, I made sure that my maven pom.xml file imported xml-graphics-common <I>before</I> FOP, so that its defaults took precedence, and at that point everything sprang to life.</p>\n\n<p>I am still not sure why the code was working correctly as a standalone test program, but I suspect it was the way the classpath was being handled being different to it running in plugin mode.</p>\n"},{"tags":[],"owner":{"account_id":12256042,"reputation":11,"user_id":8945054,"display_name":"Kynx"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510747952,"creation_date":1510747952,"answer_id":47307105,"question_id":26139301,"body_markdown":"Just been struggling with this one. If you&#39;re using the maven-shade-plugin to create an uber jar, use the `ServicesResourceTransformer` to merge all the services configuration:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;!-- snip --&gt;\r\n          &lt;configuration&gt;\r\n            &lt;transformers&gt;\r\n              &lt;!-- snip --&gt;\r\n              &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n            &lt;/transformers&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"Apache FOP in a Java Applet - No ImagePreloader found for data","body":"<p>Just been struggling with this one. If you're using the maven-shade-plugin to create an uber jar, use the <code>ServicesResourceTransformer</code> to merge all the services configuration:</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.2&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;!-- snip --&gt;\n      &lt;configuration&gt;\n        &lt;transformers&gt;\n          &lt;!-- snip --&gt;\n          &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ServicesResourceTransformer\"/&gt;\n        &lt;/transformers&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":464362,"reputation":1084,"user_id":867816,"display_name":"Gernot"},"score":0,"creation_date":1675334730,"post_id":59358788,"comment_id":132908234,"body_markdown":"That answer pointed me into the right direction. We encountered that problem with the SVG Image Preloader. The dirty solution was to abuse classpath precendence and load Apache FOP 2.7 before xmlgraphics-commons-2.7. We had different behaviours when starting it on our Test-Environments and Eclipse: it worked in Eclipse and nowhere else.","body":"That answer pointed me into the right direction. We encountered that problem with the SVG Image Preloader. The dirty solution was to abuse classpath precendence and load Apache FOP 2.7 before xmlgraphics-commons-2.7. We had different behaviours when starting it on our Test-Environments and Eclipse: it worked in Eclipse and nowhere else."}],"tags":[],"owner":{"account_id":115173,"reputation":3150,"user_id":302517,"display_name":"JiP"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576507008,"creation_date":1576507008,"answer_id":59358788,"question_id":26139301,"body_markdown":"In my case the plugin registry loaded &lt;code&gt;ImagePreloader&lt;/code&gt;s from both the plugin files and mixed them together. Yet the error still appeared. I was inserting an SVG file into a PDF file. The root cause was incorrect version of &lt;code&gt;org.apache.xmlgraphics:batik-svg-dom&lt;/code&gt;. The &lt;code&gt;1.7&lt;/code&gt; version was required by the &lt;code&gt;org.apache.xmlgraphics:fop:1.1&lt;/code&gt;, however, the &lt;code&gt;1.8&lt;/code&gt; version was on the classpath.\r\n\r\nThere is a key difference between the two versions: the &lt;code&gt;org.apache.fop.image.loader.batik.PreloaderSVG&lt;/code&gt; class needs &lt;code&gt;org.apache.batik.dom.svg.SAXSVGDocumentFactory&lt;/code&gt; from the version &lt;code&gt;1.7&lt;/code&gt; on the classpath. If it gets &lt;code&gt;org.apache.batik.anim.dom.SAXSVGDocumentFactory&lt;/code&gt; from the &lt;code&gt;1.8&lt;/code&gt; version it does not work as expected.\r\n\r\nThis SO question: [Where has org.apache.batik.dom.svg.SVGDOMImplementation gone?][1] was helpful to me when resolving this issue.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30092651/where-has-org-apache-batik-dom-svg-svgdomimplementation-gone","title":"Apache FOP in a Java Applet - No ImagePreloader found for data","body":"<p>In my case the plugin registry loaded <code>ImagePreloader</code>s from both the plugin files and mixed them together. Yet the error still appeared. I was inserting an SVG file into a PDF file. The root cause was incorrect version of <code>org.apache.xmlgraphics:batik-svg-dom</code>. The <code>1.7</code> version was required by the <code>org.apache.xmlgraphics:fop:1.1</code>, however, the <code>1.8</code> version was on the classpath.</p>\n\n<p>There is a key difference between the two versions: the <code>org.apache.fop.image.loader.batik.PreloaderSVG</code> class needs <code>org.apache.batik.dom.svg.SAXSVGDocumentFactory</code> from the version <code>1.7</code> on the classpath. If it gets <code>org.apache.batik.anim.dom.SAXSVGDocumentFactory</code> from the <code>1.8</code> version it does not work as expected.</p>\n\n<p>This SO question: <a href=\"https://stackoverflow.com/questions/30092651/where-has-org-apache-batik-dom-svg-svgdomimplementation-gone\">Where has org.apache.batik.dom.svg.SVGDOMImplementation gone?</a> was helpful to me when resolving this issue.</p>\n"},{"tags":[],"owner":{"account_id":3088532,"reputation":71,"user_id":2615206,"display_name":"user2615206"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644397771,"creation_date":1644397771,"answer_id":71046706,"question_id":26139301,"body_markdown":"thanks for the post!\r\nI can assert that this also works by changing ordering in Eclipse!\r\nin my case, under Windows it was working fine, but same JAR file in RHEL raised an error","title":"Apache FOP in a Java Applet - No ImagePreloader found for data","body":"<p>thanks for the post!\nI can assert that this also works by changing ordering in Eclipse!\nin my case, under Windows it was working fine, but same JAR file in RHEL raised an error</p>\n"}],"owner":{"account_id":5112043,"reputation":201,"user_id":4098345,"display_name":"Joseph Morris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6434,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1692296135,"creation_date":1412159359,"question_id":26139301,"body_markdown":"I&#39;m looking at an issue in a mature commercial product.\r\n\r\nIn a nutshell, we are using part of the Apache POI library to read in a Word .DOC or .DOCX file, and convert it into XSL-FO so that we can do token replacements.  We then use FOP  embedded into the Java program - to convert the FO data into a PDF for printing.  The catch is, all this is being done on the client inside a Java applet running inside Internet Explorer.\r\n\r\nOriginally we were using FOP 0.93, which worked reasonably well.  However, it was not able to utilise the fonts inside the DOC file when generating the PDF and would map everything to Times, which one of the customers did not like.  In theory it could be made to work by adding some kind of font metrics data, but that would require a relatively complex definition for every font it was likely to encounter and we cant predict what the client is liable to use outside of the MS core fonts set.\r\n\r\nTo fix this, FOP was upgraded to 1.0, which added support for autodetecting the fonts from the operating system.  This worked, but we noticed that the image processing had stopped working and the letterheads had disappeared.\r\nWhat appears to have happened is that the image loader inside FOP was rewritten at some point between 0.93 and 0.95 so that instead of using Jimi and JAI it now uses ImageIO.  The earlier implementation worked fine, but the new code doesnt like being run as an applet.\r\n\r\nImages are embedded in URIs in the FO data so we get an error like this:\r\n2014-09-30 17:00:10,607 ERROR [org.apache.fop.apps.FOUserAgent] Image not available. URI:\r\ndata:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAABSCAIAAABysmn6AAA...\r\n...ggg==. Reason: org.apache.xmlgraphics.image.loader.ImageException: The file format is not supported. No ImagePreloader found for data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAABSCAIAAABysmn6AAAA...\r\n\r\nWhen run through a test harness, the correct output is generated, but when run as an applet inside the browser we get the above error which makes me suspect that the browser applet security is jamming the ImageIO plugin loader somehow.\r\n\r\nThe guts of the FOP transformation, i.e. the bit which is triggering the error is this:\r\n\r\n\t// Step 4: Setup JAXP using identity transformer\r\n\tTransformerFactory factory = TransformerFactory.newInstance();\r\n\tTransformer transformer = factory.newTransformer(); // identity transformer\r\n\t\r\n\ttransformer.transform(src, res);\r\n\r\n...which is all being run inside a PrivilegedAction block since in FOP 1.0 it needed file I/O access to manage the font cache.\r\n\r\nRunning the standalone FOP 0.93 and 1.0 programs under linux and using strace shows that it is writing out temporary files for the image data, but both 0.93 and 1.0 do similar things, so it shouldnt be that by itself, especially since it should have permission to create temp files already.\r\n\r\nI&#39;ve tried different versions of the JRE since some builds a few years back apparently had security issues with the ImageIO library, but to no avail.\r\n\r\nAny ideas?\r\n\r\nThanks,\r\n","title":"Apache FOP in a Java Applet - No ImagePreloader found for data","body":"<p>I'm looking at an issue in a mature commercial product.</p>\n\n<p>In a nutshell, we are using part of the Apache POI library to read in a Word .DOC or .DOCX file, and convert it into XSL-FO so that we can do token replacements.  We then use FOP  embedded into the Java program - to convert the FO data into a PDF for printing.  The catch is, all this is being done on the client inside a Java applet running inside Internet Explorer.</p>\n\n<p>Originally we were using FOP 0.93, which worked reasonably well.  However, it was not able to utilise the fonts inside the DOC file when generating the PDF and would map everything to Times, which one of the customers did not like.  In theory it could be made to work by adding some kind of font metrics data, but that would require a relatively complex definition for every font it was likely to encounter and we cant predict what the client is liable to use outside of the MS core fonts set.</p>\n\n<p>To fix this, FOP was upgraded to 1.0, which added support for autodetecting the fonts from the operating system.  This worked, but we noticed that the image processing had stopped working and the letterheads had disappeared.\nWhat appears to have happened is that the image loader inside FOP was rewritten at some point between 0.93 and 0.95 so that instead of using Jimi and JAI it now uses ImageIO.  The earlier implementation worked fine, but the new code doesnt like being run as an applet.</p>\n\n<p>Images are embedded in URIs in the FO data so we get an error like this:\n2014-09-30 17:00:10,607 ERROR [org.apache.fop.apps.FOUserAgent] Image not available. URI:\ndata:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAABSCAIAAABysmn6AAA...\n...ggg==. Reason: org.apache.xmlgraphics.image.loader.ImageException: The file format is not supported. No ImagePreloader found for data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAABSCAIAAABysmn6AAAA...</p>\n\n<p>When run through a test harness, the correct output is generated, but when run as an applet inside the browser we get the above error which makes me suspect that the browser applet security is jamming the ImageIO plugin loader somehow.</p>\n\n<p>The guts of the FOP transformation, i.e. the bit which is triggering the error is this:</p>\n\n<pre><code>// Step 4: Setup JAXP using identity transformer\nTransformerFactory factory = TransformerFactory.newInstance();\nTransformer transformer = factory.newTransformer(); // identity transformer\n\ntransformer.transform(src, res);\n</code></pre>\n\n<p>...which is all being run inside a PrivilegedAction block since in FOP 1.0 it needed file I/O access to manage the font cache.</p>\n\n<p>Running the standalone FOP 0.93 and 1.0 programs under linux and using strace shows that it is writing out temporary files for the image data, but both 0.93 and 1.0 do similar things, so it shouldnt be that by itself, especially since it should have permission to create temp files already.</p>\n\n<p>I've tried different versions of the JRE since some builds a few years back apparently had security issues with the ImageIO library, but to no avail.</p>\n\n<p>Any ideas?</p>\n\n<p>Thanks,</p>\n"},{"tags":["java","android","google-cloud-firestore","dependencies","google-cloud-pubsub"],"answers":[{"tags":[],"owner":{"account_id":15077170,"reputation":424,"user_id":10880930,"display_name":"Sumit Chandel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692296068,"creation_date":1692296068,"answer_id":76924147,"question_id":75976034,"body_markdown":"It looks like this is a known issue with two workarounds currently available to try out:\r\n\r\n 1. Exclude the `protolite-well-known-types` dependency from the Firebase libraries in your build configuration. There is an example for how to do this in a thread with a similar question [here](https://stackoverflow.com/questions/56922949/resolve-duplicate-classes-with-firebase-and-dialog-flow).\r\n 2. Try updating the Firestore SDK version you are using (or downgrading it). This would involve trying to match the versions of the `proto-well-known-types` from the pubsub libraries and the Firestore SDK to match up and eliminate the duplicate class conflict. Alternatively you could also try adjusting the version of the pub sub libraries you are using.\r\n\r\nAlso please [see this closed GitHub issue](https://github.com/firebase/firebase-android-sdk/issues/3109) that discusses a very similar issue and workaround as 1.\r\n\r\n","title":"Adding Pub/Sub with Firestore causes duplicate class errors","body":"<p>It looks like this is a known issue with two workarounds currently available to try out:</p>\n<ol>\n<li>Exclude the <code>protolite-well-known-types</code> dependency from the Firebase libraries in your build configuration. There is an example for how to do this in a thread with a similar question <a href=\"https://stackoverflow.com/questions/56922949/resolve-duplicate-classes-with-firebase-and-dialog-flow\">here</a>.</li>\n<li>Try updating the Firestore SDK version you are using (or downgrading it). This would involve trying to match the versions of the <code>proto-well-known-types</code> from the pubsub libraries and the Firestore SDK to match up and eliminate the duplicate class conflict. Alternatively you could also try adjusting the version of the pub sub libraries you are using.</li>\n</ol>\n<p>Also please <a href=\"https://github.com/firebase/firebase-android-sdk/issues/3109\" rel=\"nofollow noreferrer\">see this closed GitHub issue</a> that discusses a very similar issue and workaround as 1.</p>\n"}],"owner":{"account_id":4326895,"reputation":451,"user_id":3533465,"display_name":"momersaleem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692296068,"creation_date":1681120482,"question_id":75976034,"body_markdown":"Adding Pub/Sub library with Firestore causes duplicate class issues. Firestore without Pub/Sub working perfectly fine with the required functionality. I don&#39;t want to exclude anything from Firestore and Pub/Sub dependencies to fix conflicts as both have some kind of implementation conflict so as per my understanding nothing to exclude from both libraries to work properly with their dependencies. Please help me to fix this issue. \r\n\r\n**Build.gradle**\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &quot;com.google.protobuf&quot;\r\n\r\n\r\nandroid {\r\n    namespace &#39;com.example.lottieanimation&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.lottieanimation&quot;\r\n        minSdk 28\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    packagingOptions {\r\n        pickFirst &#39;lib/*/libc++_shared.so&#39;\r\n        exclude &#39;META-INF/*&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    //implementation project(path: &#39;:PubSubSync&#39;)\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n\r\n    implementation &#39;com.google.firebase:firebase-firestore:24.4.5&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.2.0&#39;\r\n    implementation &#39;com.google.auth:google-auth-library-oauth2-http:1.16.0&#39;\r\n\r\n    implementation(&#39;com.google.cloud:google-cloud-pubsub:1.123.7&#39;) {\r\n        exclude group: &#39;org.apache.httpcomponents&#39;\r\n    }\r\n}\r\n```\r\n\r\n**Errors:** There is a big list of duplicate class errors, just mentioning a few. You can recreate it on your end.\r\n\r\n&gt; Duplicate class com.google.api.Advice found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\nDuplicate class com.google.api.Advice$1 found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\nDuplicate class com.google.api.Advice$Builder found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\nDuplicate class com.google.api.AdviceOrBuilder found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\nDuplicate class com.google.api.AnnotationsProto found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\nDuplicate class com.google.api.AuthProto found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\nDuplicate class com.google.api.AuthProvider found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\nDuplicate class com.google.api.AuthProvider$1 found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\nDuplicate class com.google.api.AuthProvider$Builder found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\nDuplicate class com.google.api.AuthProviderOrBuilder found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\nDuplicate class com.google.api.AuthRequirement found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\nDuplicate class com.google.api.AuthRequirement$1 found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\nDuplicate class com.google.api.AuthRequirement$Builder found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\nDuplicate class com.google.api.AuthRequirementOrBuilder found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\nDuplicate class com.google.api.Authentication found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\nDuplicate class com.google.api.Authentication$1 found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\nDuplicate class com.google.api.Authentication$Builder found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\nDuplicate class com.google.api.AuthenticationOrBuilder found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\nDuplicate class com.google.api.AuthenticationRule found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\nDuplicate class com.google.api.AuthenticationRule$1 found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\r\nDuplicate class com.google.api.AuthenticationRule$Builder found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)","title":"Adding Pub/Sub with Firestore causes duplicate class errors","body":"<p>Adding Pub/Sub library with Firestore causes duplicate class issues. Firestore without Pub/Sub working perfectly fine with the required functionality. I don't want to exclude anything from Firestore and Pub/Sub dependencies to fix conflicts as both have some kind of implementation conflict so as per my understanding nothing to exclude from both libraries to work properly with their dependencies. Please help me to fix this issue.</p>\n<p><strong>Build.gradle</strong></p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: &quot;com.google.protobuf&quot;\n\n\nandroid {\n    namespace 'com.example.lottieanimation'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.lottieanimation&quot;\n        minSdk 28\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    packagingOptions {\n        pickFirst 'lib/*/libc++_shared.so'\n        exclude 'META-INF/*'\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    //implementation project(path: ':PubSubSync')\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n    implementation 'com.google.firebase:firebase-firestore:24.4.5'\n    implementation 'com.google.firebase:firebase-auth:21.2.0'\n    implementation 'com.google.auth:google-auth-library-oauth2-http:1.16.0'\n\n    implementation('com.google.cloud:google-cloud-pubsub:1.123.7') {\n        exclude group: 'org.apache.httpcomponents'\n    }\n}\n</code></pre>\n<p><strong>Errors:</strong> There is a big list of duplicate class errors, just mentioning a few. You can recreate it on your end.</p>\n<blockquote>\n<p>Duplicate class com.google.api.Advice found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\nDuplicate class com.google.api.Advice$1 found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\nDuplicate class com.google.api.Advice$Builder found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\nDuplicate class com.google.api.AdviceOrBuilder found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\nDuplicate class com.google.api.AnnotationsProto found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\nDuplicate class com.google.api.AuthProto found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\nDuplicate class com.google.api.AuthProvider found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\nDuplicate class com.google.api.AuthProvider$1 found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\nDuplicate class com.google.api.AuthProvider$Builder found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\nDuplicate class com.google.api.AuthProviderOrBuilder found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\nDuplicate class com.google.api.AuthRequirement found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\nDuplicate class com.google.api.AuthRequirement$1 found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\nDuplicate class com.google.api.AuthRequirement$Builder found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\nDuplicate class com.google.api.AuthRequirementOrBuilder found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\nDuplicate class com.google.api.Authentication found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\nDuplicate class com.google.api.Authentication$1 found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\nDuplicate class com.google.api.Authentication$Builder found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\nDuplicate class com.google.api.AuthenticationOrBuilder found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\nDuplicate class com.google.api.AuthenticationRule found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\nDuplicate class com.google.api.AuthenticationRule$1 found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)\nDuplicate class com.google.api.AuthenticationRule$Builder found in modules proto-google-common-protos-2.14.3 (com.google.api.grpc:proto-google-common-protos:2.14.3) and protolite-well-known-types-18.0.0-runtime (com.google.firebase:protolite-well-known-types:18.0.0)</p>\n</blockquote>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":447212,"reputation":3321,"user_id":840714,"accept_rate":62,"display_name":"Druckles"},"score":2,"creation_date":1669643466,"post_id":56915449,"comment_id":131682087,"body_markdown":"@MarkRotteveel Hi Mark, you closed this a couple of years ago as a dupe of the linked question, but this one specifically concerns how to do the conversion *without* an ObjectMapper (because it&#39;s not available). The other question might be for the more general case, but I&#39;d never use this method if I *did* have the ObjectMapper, so it wouldn&#39;t be a very suitable answer for the other question. Similarly, I&#39;d come here, not to the other question, if I was in a Deserializer.","body":"@MarkRotteveel Hi Mark, you closed this a couple of years ago as a dupe of the linked question, but this one specifically concerns how to do the conversion <i>without</i> an ObjectMapper (because it&#39;s not available). The other question might be for the more general case, but I&#39;d never use this method if I <i>did</i> have the ObjectMapper, so it wouldn&#39;t be a very suitable answer for the other question. Similarly, I&#39;d come here, not to the other question, if I was in a Deserializer."},{"owner":{"account_id":447212,"reputation":3321,"user_id":840714,"accept_rate":62,"display_name":"Druckles"},"score":0,"creation_date":1669643579,"post_id":56915449,"comment_id":131682141,"body_markdown":"That&#39;s why I think they&#39;re different questions. And this question also doesn&#39;t have an answer over there; just a comment.","body":"That&#39;s why I think they&#39;re different questions. And this question also doesn&#39;t have an answer over there; just a comment."},{"owner":{"account_id":49802,"reputation":46805,"user_id":148423,"accept_rate":74,"display_name":"Joe"},"score":0,"creation_date":1692295923,"post_id":56915449,"comment_id":135607496,"body_markdown":"I came across this question, and I agree, I don&#39;t think it&#39;s a duplicate. I&#39;ve edited and requested it be re-opened.","body":"I came across this question, and I agree, I don&#39;t think it&#39;s a duplicate. I&#39;ve edited and requested it be re-opened."}],"answers":[{"comments":[{"owner":{"account_id":234765,"reputation":7210,"user_id":501134,"accept_rate":54,"display_name":"mrdaliri"},"score":0,"creation_date":1674777608,"post_id":59445374,"comment_id":132791512,"body_markdown":"thanks for answering an old but unanswered question!","body":"thanks for answering an old but unanswered question!"}],"tags":[],"owner":{"account_id":447212,"reputation":3321,"user_id":840714,"accept_rate":62,"display_name":"Druckles"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1577027048,"creation_date":1577027048,"answer_id":59445374,"question_id":56915449,"body_markdown":"You can use the `ObjectCodec` in `JsonParser` like this:\r\n\r\n    jp.getCodec().treeToValue(root.get(&quot;user&quot;), User.class)\r\n\r\nThis will give you your `User` object back according to any other existing serialization rules.\r\n\r\nThanks to @galcyurio for the comment in https://stackoverflow.com/questions/19711695/convert-jsonnode-into-pojo:\r\n\r\n&gt; You can also use this method in StdDeserializer: p.codec.treeToValue","title":"Convert JsonNode to POJO inside a custom StdDeserializer, when ObjectMapper is not available","body":"<p>You can use the <code>ObjectCodec</code> in <code>JsonParser</code> like this:</p>\n\n<pre><code>jp.getCodec().treeToValue(root.get(\"user\"), User.class)\n</code></pre>\n\n<p>This will give you your <code>User</code> object back according to any other existing serialization rules.</p>\n\n<p>Thanks to @galcyurio for the comment in <a href=\"https://stackoverflow.com/questions/19711695/convert-jsonnode-into-pojo\">Convert JsonNode into POJO</a>:</p>\n\n<blockquote>\n  <p>You can also use this method in StdDeserializer: p.codec.treeToValue</p>\n</blockquote>\n"}],"owner":{"account_id":234765,"reputation":7210,"user_id":501134,"accept_rate":54,"display_name":"mrdaliri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1120,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1577261619,"accepted_answer_id":59445374,"answer_count":1,"score":4,"last_activity_date":1692295808,"creation_date":1562426966,"question_id":56915449,"body_markdown":"What I am trying to achieve is convert a `JsonNode` to a POJO (i.e. deserialize it) inside a custom deserializer.\r\n\r\nMost other answers, like [this one here](https://stackoverflow.com/questions/19711695/convert-jsonnode-into-pojo), suggest using `ObjectMapper`, but the `deserialize` method specifically does not have the object mapper, so the solutions do not work. This question is therefore not a duplicate. \r\n\r\nHere is my custom deserializer:\r\n\r\n```java\r\nclass AccountDeserializer extends StdDeserializer&lt;Input&gt; {\r\n    public AccountDeserializer() {\r\n        this(null);\r\n    }\r\n\r\n    public AccountDeserializer(Class&lt;?&gt; vc) {\r\n        super(vc);\r\n    }\r\n\r\n    @Override\r\n    public Account deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n        JsonNode root = jp.getCodec().readTree(jp);\r\n        User user = root.get(&quot;user&quot;).????;\r\n\r\n        // other statements\r\n\r\n        Account acc = new Account(user);\r\n        return acc;\r\n    }\r\n}\r\n```\r\n\r\n(`User` is a simple class)\r\n\r\n","title":"Convert JsonNode to POJO inside a custom StdDeserializer, when ObjectMapper is not available","body":"<p>What I am trying to achieve is convert a <code>JsonNode</code> to a POJO (i.e. deserialize it) inside a custom deserializer.</p>\n<p>Most other answers, like <a href=\"https://stackoverflow.com/questions/19711695/convert-jsonnode-into-pojo\">this one here</a>, suggest using <code>ObjectMapper</code>, but the <code>deserialize</code> method specifically does not have the object mapper, so the solutions do not work. This question is therefore not a duplicate.</p>\n<p>Here is my custom deserializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class AccountDeserializer extends StdDeserializer&lt;Input&gt; {\n    public AccountDeserializer() {\n        this(null);\n    }\n\n    public AccountDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public Account deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        JsonNode root = jp.getCodec().readTree(jp);\n        User user = root.get(&quot;user&quot;).????;\n\n        // other statements\n\n        Account acc = new Account(user);\n        return acc;\n    }\n}\n</code></pre>\n<p>(<code>User</code> is a simple class)</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692294706,"post_id":76922177,"comment_id":135607279,"body_markdown":"You should probably tag this as a JSON issue, as this has little to do with JPA and everything to do with how your java objects are being serialized into JSON (spring uses Jackson). Also notices the differences in your classes - Lombok is annoying, but one has getters and setters, the one that isn&#39;t working doesn&#39;t. Jackson uses property access unless you configure it to use fields.","body":"You should probably tag this as a JSON issue, as this has little to do with JPA and everything to do with how your java objects are being serialized into JSON (spring uses Jackson). Also notices the differences in your classes - Lombok is annoying, but one has getters and setters, the one that isn&#39;t working doesn&#39;t. Jackson uses property access unless you configure it to use fields."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692295076,"creation_date":1692295076,"answer_id":76924043,"question_id":76922177,"body_markdown":"This issue has to do with your java objects serialization (via Jackson) to JSON, not JPA or the mappings. If you look at what is serialized:\r\n  \r\n\r\n    &quot;rentalType&quot;: {}\r\nYou can tell that there is an object being serialized, it just doesn&#39;t have any attributes or data. This is because Jackson will use property access by default.\r\n\r\nIf you check your entity definitions, the one that has data, Rental has:\r\n \r\n\r\n    @Getter @Setter @AllArgsConstructor @NoArgsConstructor \r\n\r\nWhile the RentalType class is just using:\r\n\r\n    @NoArgsConstructor @AllArgsConstructor \r\n\r\nIf you add in the getters and setters, Jackson will be able to see the properties and include them in the object JSON.\r\n","title":"Many to One microservice response not appear in postman","body":"<p>This issue has to do with your java objects serialization (via Jackson) to JSON, not JPA or the mappings. If you look at what is serialized:</p>\n<pre><code>&quot;rentalType&quot;: {}\n</code></pre>\n<p>You can tell that there is an object being serialized, it just doesn't have any attributes or data. This is because Jackson will use property access by default.</p>\n<p>If you check your entity definitions, the one that has data, Rental has:</p>\n<pre><code>@Getter @Setter @AllArgsConstructor @NoArgsConstructor \n</code></pre>\n<p>While the RentalType class is just using:</p>\n<pre><code>@NoArgsConstructor @AllArgsConstructor \n</code></pre>\n<p>If you add in the getters and setters, Jackson will be able to see the properties and include them in the object JSON.</p>\n"}],"owner":{"account_id":15452971,"reputation":3,"user_id":11147867,"display_name":"Ehsan-ul-haq Dar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76924043,"answer_count":1,"score":0,"last_activity_date":1692295076,"creation_date":1692280340,"question_id":76922177,"body_markdown":"I make a microservice in controller my required values come from response but it not shown in postman but i post man i get the following response\r\n\r\n&gt; @RestController\r\n&gt; @RequestMapping(&quot;/rental&quot;)\r\n&gt; public class RentalController {\r\n&gt; \r\n&gt;     @Autowired\r\n&gt; private RentalService rentalService;\r\n&gt; \r\n&gt;     @GetMapping(&quot;/{id}&quot;)\r\n&gt; public ResponseEntity&lt;Rental&gt; getRental(@PathVariable(&quot;id&quot;) Long id){\r\n&gt; Rental rl = rentalService.findRentalById(id);\r\n&gt; return ResponseEntity.ok(rl);\r\n&gt;     }\r\n&gt; \r\n&gt;     @GetMapping(&quot;/viewAll&quot;)\r\n&gt; public List&lt;Rental&gt; getAllRental(){\r\n&gt; List&lt;Rental&gt; ls = rentalService.viewAllRental();\r\n&gt; return ls;\r\n&gt;     }\r\n&gt; \r\n&gt; }\r\n&gt; \r\n&gt; @Service\r\n&gt; public class RentalService {\r\n&gt; \r\n&gt;     @Autowired\r\n&gt; private RentalRepository rentalRepository;\r\n&gt; \r\n&gt;     @Autowired\r\n&gt; private RentalTypeRepository rentalTypeRepository;\r\n&gt; \r\n&gt;     @Autowired\r\n&gt; private SizeTypeRepository sizeTypeRepository;\r\n&gt;     @Autowired\r\n&gt; private SleepingArrangementRepository sleepingArrangementRepository;\r\n&gt; \r\n&gt; public Rental save(Rental rt) {\r\n&gt; return rentalRepository.save(rt);\r\n&gt;     }\r\n&gt; \r\n&gt; public Rental findRentalById(Long id) {\r\n&gt; return rentalRepository.findAllByRentalId(id);\r\n&gt;     }\r\n&gt; \r\n&gt; public List&lt;Rental&gt; viewAllRental(){\r\n&gt; List&lt;Rental&gt; lsRental= new ArrayList&lt;Rental&gt;();\r\n&gt; lsRental = rentalRepository.findAll();\r\n&gt; \r\n&gt; return lsRental;\r\n&gt;     }\r\n&gt; \r\n&gt; public List&lt;RentalType&gt; viewAllRentalType(){\r\n&gt; List&lt;RentalType&gt; lsRental= new ArrayList&lt;RentalType&gt;();\r\n&gt; lsRental = rentalTypeRepository.findAll();\r\n&gt; return lsRental;\r\n&gt;     }\r\n&gt; \r\n&gt; public List&lt;SizeType&gt; viewAllSizeType(){\r\n&gt; List&lt;SizeType&gt; lsSizeType= new ArrayList&lt;SizeType&gt;();\r\n&gt; lsSizeType = sizeTypeRepository.findAll();\r\n&gt; return lsSizeType;\r\n&gt;     }\r\n&gt; \r\n&gt; }\r\n&gt; \r\n&gt; @Repository\r\n&gt; public interface RentalRepository extends JpaRepository\\&lt;Rental, Long\\&gt; {\r\n&gt; \r\n&gt; public Rental findAllByRentalId(Long id);\r\n&gt; \r\n&gt; }\r\n&gt; \r\n&gt; @Entity\r\n&gt; @Getter\r\n&gt; @Setter\r\n&gt; @AllArgsConstructor\r\n&gt; @NoArgsConstructor\r\n&gt; @Table(name=&quot;rental&quot;,schema=&quot;bnb_pms&quot;)\r\n&gt; public class Rental {\r\n&gt; \r\n&gt;     @Id\r\n&gt;     @GeneratedValue(strategy = GenerationType.AUTO)\r\n&gt;     @Column(name=&quot;RENTAL_ID&quot;)\r\n&gt; private long rentalId;\r\n&gt; \r\n&gt;     @Column(name=&quot;RENTAL_NAME&quot;)\r\n&gt; private String rentalName;\r\n&gt; \r\n&gt;     @Column(name=&quot;INTERNAL_NAME&quot;)\r\n&gt; private String internalName;\r\n&gt; \r\n&gt;     @Column(name=&quot;DES&quot;)\r\n&gt; private String des;\r\n&gt; \r\n&gt;     @ManyToOne(cascade = { CascadeType.MERGE, CascadeType.PERSIST })\r\n&gt;     @JoinColumn(name=&quot;TYPE_ID&quot;)\r\n&gt; private RentalType rentalType;\r\n&gt; \r\n&gt;     @Column(name=&quot;RENTAL_SIZE&quot;)\r\n&gt; private int rentalSize;\r\n&gt; \r\n&gt;     @Column(name=&quot;GUEST_ACCOMODATE&quot;)\r\n&gt; private int guestAccomodate;\r\n&gt; \r\n&gt;     @Column(name=&quot;TOTAL_UNITS&quot;)\r\n&gt; private int totalUnits;\r\n&gt; \r\n&gt; }\r\n&gt; \r\n&gt; \r\n&gt; @Entity\r\n&gt; @NoArgsConstructor\r\n&gt; @AllArgsConstructor\r\n&gt; @Table(name=&quot;rental_type&quot;,schema=&quot;bnb_pms&quot;)\r\n&gt; public class RentalType {\r\n&gt; \r\n&gt;     @Id\r\n&gt;     @GeneratedValue(strategy = GenerationType.AUTO)\r\n&gt;     @Column(name=&quot;TYPE_ID&quot;)\r\n&gt; private long typeId;\r\n&gt; \r\n&gt;     @Column(name=&quot;TYPE_NAME&quot;)\r\n&gt; private String typeName;\r\n&gt; \r\n&gt; }\r\n\r\nIn response i get the value of rental type as shown in figure,\r\n[debugger image](https://i.stack.imgur.com/10mQ7.png)\r\n\r\nbut in postman rental type object is not shown. Postman response is as follow,\r\n\r\n&gt; {\r\n&gt;     &quot;rentalId&quot;: 453,\r\n&gt;     &quot;rentalName&quot;: &quot;Ehsan ulhaq Darrr1659&quot;,\r\n&gt;     &quot;internalName&quot;: &quot;Khadim Hussain Dar&quot;,\r\n&gt;     &quot;des&quot;: &quot;ehsandar@gmail.com&quot;,\r\n&gt;     &quot;rentalType&quot;: {},\r\n&gt;     &quot;rentalSize&quot;: 2,\r\n&gt;     &quot;guestAccomodate&quot;: 4,\r\n&gt;     &quot;totalUnits&quot;: 3\r\n&gt; }","title":"Many to One microservice response not appear in postman","body":"<p>I make a microservice in controller my required values come from response but it not shown in postman but i post man i get the following response</p>\n<blockquote>\n<p>@RestController\n@RequestMapping(&quot;/rental&quot;)\npublic class RentalController {</p>\n<pre><code>@Autowired\n</code></pre>\n<p>private RentalService rentalService;</p>\n<pre><code>@GetMapping(&quot;/{id}&quot;)\n</code></pre>\n<p>public ResponseEntity getRental(@PathVariable(&quot;id&quot;) Long id){\nRental rl = rentalService.findRentalById(id);\nreturn ResponseEntity.ok(rl);\n}</p>\n<pre><code>@GetMapping(&quot;/viewAll&quot;)\n</code></pre>\n<p>public List getAllRental(){\nList ls = rentalService.viewAllRental();\nreturn ls;\n}</p>\n<p>}</p>\n<p>@Service\npublic class RentalService {</p>\n<pre><code>@Autowired\n</code></pre>\n<p>private RentalRepository rentalRepository;</p>\n<pre><code>@Autowired\n</code></pre>\n<p>private RentalTypeRepository rentalTypeRepository;</p>\n<pre><code>@Autowired\n</code></pre>\n<p>private SizeTypeRepository sizeTypeRepository;\n@Autowired\nprivate SleepingArrangementRepository sleepingArrangementRepository;</p>\n<p>public Rental save(Rental rt) {\nreturn rentalRepository.save(rt);\n}</p>\n<p>public Rental findRentalById(Long id) {\nreturn rentalRepository.findAllByRentalId(id);\n}</p>\n<p>public List viewAllRental(){\nList lsRental= new ArrayList();\nlsRental = rentalRepository.findAll();</p>\n<p>return lsRental;\n}</p>\n<p>public List viewAllRentalType(){\nList lsRental= new ArrayList();\nlsRental = rentalTypeRepository.findAll();\nreturn lsRental;\n}</p>\n<p>public List viewAllSizeType(){\nList lsSizeType= new ArrayList();\nlsSizeType = sizeTypeRepository.findAll();\nreturn lsSizeType;\n}</p>\n<p>}</p>\n<p>@Repository\npublic interface RentalRepository extends JpaRepository&lt;Rental, Long&gt; {</p>\n<p>public Rental findAllByRentalId(Long id);</p>\n<p>}</p>\n<p>@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name=&quot;rental&quot;,schema=&quot;bnb_pms&quot;)\npublic class Rental {</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name=&quot;RENTAL_ID&quot;)\n</code></pre>\n<p>private long rentalId;</p>\n<pre><code>@Column(name=&quot;RENTAL_NAME&quot;)\n</code></pre>\n<p>private String rentalName;</p>\n<pre><code>@Column(name=&quot;INTERNAL_NAME&quot;)\n</code></pre>\n<p>private String internalName;</p>\n<pre><code>@Column(name=&quot;DES&quot;)\n</code></pre>\n<p>private String des;</p>\n<pre><code>@ManyToOne(cascade = { CascadeType.MERGE, CascadeType.PERSIST })\n@JoinColumn(name=&quot;TYPE_ID&quot;)\n</code></pre>\n<p>private RentalType rentalType;</p>\n<pre><code>@Column(name=&quot;RENTAL_SIZE&quot;)\n</code></pre>\n<p>private int rentalSize;</p>\n<pre><code>@Column(name=&quot;GUEST_ACCOMODATE&quot;)\n</code></pre>\n<p>private int guestAccomodate;</p>\n<pre><code>@Column(name=&quot;TOTAL_UNITS&quot;)\n</code></pre>\n<p>private int totalUnits;</p>\n<p>}</p>\n<p>@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name=&quot;rental_type&quot;,schema=&quot;bnb_pms&quot;)\npublic class RentalType {</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name=&quot;TYPE_ID&quot;)\n</code></pre>\n<p>private long typeId;</p>\n<pre><code>@Column(name=&quot;TYPE_NAME&quot;)\n</code></pre>\n<p>private String typeName;</p>\n<p>}</p>\n</blockquote>\n<p>In response i get the value of rental type as shown in figure,\n<a href=\"https://i.stack.imgur.com/10mQ7.png\" rel=\"nofollow noreferrer\">debugger image</a></p>\n<p>but in postman rental type object is not shown. Postman response is as follow,</p>\n<blockquote>\n<p>{\n&quot;rentalId&quot;: 453,\n&quot;rentalName&quot;: &quot;Ehsan ulhaq Darrr1659&quot;,\n&quot;internalName&quot;: &quot;Khadim Hussain Dar&quot;,\n&quot;des&quot;: &quot;ehsandar@gmail.com&quot;,\n&quot;rentalType&quot;: {},\n&quot;rentalSize&quot;: 2,\n&quot;guestAccomodate&quot;: 4,\n&quot;totalUnits&quot;: 3\n}</p>\n</blockquote>\n"},{"tags":["java","zebra-printers","printers"],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692294577,"creation_date":1692189677,"answer_id":76913640,"question_id":76912039,"body_markdown":"Im not clear on what `PrintServiceLookup.DRIVER` is.  I see no DRIVER field in [the PrintServiceLookup class](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/print/PrintServiceLookup.html).\r\n\r\nYou might be able to obtain the address from the PrintServices [PrinterURI](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/print/attribute/standard/PrinterURI.html) attribute.  (I have no printers here, so I dont currently have a way to verify whether this works.)\r\n\r\n    Optional&lt;InetAddress&gt; ipAddress = Optional.empty();\r\n\r\n    PrinterURI uriAttr = service.getAttribute(PrinterURI.class);\r\n    if (uriAttr != null) {\r\n        URI printerURI = uriAttr.getURI();\r\n        String hostname = printerURI.getHost();\r\n        if (hostname != null) {\r\n            ipAddress = Optional.of(InetAddress.getByName(hostname));\r\n        }\r\n    }\r\n","title":"how to find the ip address of a printer with its printer driver in java?","body":"<p>Im not clear on what <code>PrintServiceLookup.DRIVER</code> is.  I see no DRIVER field in <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/print/PrintServiceLookup.html\" rel=\"nofollow noreferrer\">the PrintServiceLookup class</a>.</p>\n<p>You might be able to obtain the address from the PrintServices <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/print/attribute/standard/PrinterURI.html\" rel=\"nofollow noreferrer\">PrinterURI</a> attribute.  (I have no printers here, so I dont currently have a way to verify whether this works.)</p>\n<pre><code>Optional&lt;InetAddress&gt; ipAddress = Optional.empty();\n\nPrinterURI uriAttr = service.getAttribute(PrinterURI.class);\nif (uriAttr != null) {\n    URI printerURI = uriAttr.getURI();\n    String hostname = printerURI.getHost();\n    if (hostname != null) {\n        ipAddress = Optional.of(InetAddress.getByName(hostname));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28602642,"reputation":1,"user_id":21899232,"display_name":"Aravind A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692294577,"creation_date":1692176460,"question_id":76912039,"body_markdown":"       PrintService[] printServices = PrintServiceLookup.lookupPrintServices(null, null);\r\n\r\n        System.out.println(&quot;Available Printer Drivers:&quot;);\r\n        for (PrintService service : printServices) {\r\n            String printerName = service.getName();\r\n            String driverClassName = (String) service.getAttribute(PrintServiceLookup.DRIVER);\r\n\r\n            System.out.println(&quot;Printer Name: &quot; + printerName);\r\n            System.out.println(&quot;Driver Class Name: &quot; + driverClassName);\r\n            System.out.println(&quot;--------------------------------------&quot;);\r\n        }\r\n    }\r\n\r\n\r\nthe above code will take the installed printer drivers and print that in console.\r\n\r\n\r\n\r\nwith that printer name i want to find the ip address assume every printer is connected to the wifi as the laptop.","title":"how to find the ip address of a printer with its printer driver in java?","body":"<pre><code>   PrintService[] printServices = PrintServiceLookup.lookupPrintServices(null, null);\n\n    System.out.println(&quot;Available Printer Drivers:&quot;);\n    for (PrintService service : printServices) {\n        String printerName = service.getName();\n        String driverClassName = (String) service.getAttribute(PrintServiceLookup.DRIVER);\n\n        System.out.println(&quot;Printer Name: &quot; + printerName);\n        System.out.println(&quot;Driver Class Name: &quot; + driverClassName);\n        System.out.println(&quot;--------------------------------------&quot;);\n    }\n}\n</code></pre>\n<p>the above code will take the installed printer drivers and print that in console.</p>\n<p>with that printer name i want to find the ip address assume every printer is connected to the wifi as the laptop.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692277178,"post_id":76921680,"comment_id":135603267,"body_markdown":"What is the implementation of `PhoneType`? Enum?","body":"What is the implementation of <code>PhoneType</code>? Enum?"},{"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"score":0,"creation_date":1692279836,"post_id":76921680,"comment_id":135603926,"body_markdown":"Can you post the output of `javap -v &#39;shared/vo/Phone$WhenMappings.class&#39;`?","body":"Can you post the output of <code>javap -v &#39;shared&#47;vo&#47;Phone$WhenMappings.class&#39;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692280312,"creation_date":1692277449,"answer_id":76921812,"question_id":76921680,"body_markdown":"When we compile the code, the compiler often has to generate some additional synthetic classes or members. This is the case e.g. if using `when` with an enum. In that case the compiler generates an array which maps enum ordinals into execution branches (`when` cases), so `when` can be executed much faster. It has to store this array somewhere, so it synthesizes an additional class for it. In the above case this additional class is named `Phone$WhenMappings`. I believe the Java compiler does a similar thing when using `switch` over an enum.\r\n\r\nFor this reason we can&#39;t expect there will be no &quot;regular&quot; classes in the bytecode. I think your tests should run only against classes that exists explicitly in the source code. I don&#39;t know ArchUnit and what are best practices for using it, but maybe you should ignore synthetic classes when running tests?\r\n\r\nYou will probably see similar problems if using other features of Kotlin, e.g. lambdas. They also require to generate synthetic classes in the bytecode and these classes don&#39;t meet your requirements.","title":"ArchUnit detects statement as an error - javap","body":"<p>When we compile the code, the compiler often has to generate some additional synthetic classes or members. This is the case e.g. if using <code>when</code> with an enum. In that case the compiler generates an array which maps enum ordinals into execution branches (<code>when</code> cases), so <code>when</code> can be executed much faster. It has to store this array somewhere, so it synthesizes an additional class for it. In the above case this additional class is named <code>Phone$WhenMappings</code>. I believe the Java compiler does a similar thing when using <code>switch</code> over an enum.</p>\n<p>For this reason we can't expect there will be no &quot;regular&quot; classes in the bytecode. I think your tests should run only against classes that exists explicitly in the source code. I don't know ArchUnit and what are best practices for using it, but maybe you should ignore synthetic classes when running tests?</p>\n<p>You will probably see similar problems if using other features of Kotlin, e.g. lambdas. They also require to generate synthetic classes in the bytecode and these classes don't meet your requirements.</p>\n"}],"owner":{"account_id":28614024,"reputation":23,"user_id":21908428,"display_name":"JonathanSessenioo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692294342,"creation_date":1692276443,"question_id":76921680,"body_markdown":"I have such a test that checks if the `shared` package has only interfaces, enums and data classes.\r\n\r\n    package demo\r\n    \r\n    class Phone {\r\n        fun doSomething(arg: Foo) = when(arg) {\r\n            Foo.ABC -&gt; &quot;abc&quot;\r\n            Foo.DEF -&gt; &quot;def&quot;\r\n        }\r\n    }\r\n    \r\n    enum class Foo {\r\n        ABC, DEF\r\n    }\r\n\r\nWe can see that Kotlin generates an additional synthetic class `Phone$WhenMappings`, and that ArchUnit rule tries to analyze it despite that it makes no sense.\r\n  ","title":"ArchUnit detects statement as an error - javap","body":"<p>I have such a test that checks if the <code>shared</code> package has only interfaces, enums and data classes.</p>\n<pre><code>package demo\n\nclass Phone {\n    fun doSomething(arg: Foo) = when(arg) {\n        Foo.ABC -&gt; &quot;abc&quot;\n        Foo.DEF -&gt; &quot;def&quot;\n    }\n}\n\nenum class Foo {\n    ABC, DEF\n}\n</code></pre>\n<p>We can see that Kotlin generates an additional synthetic class <code>Phone$WhenMappings</code>, and that ArchUnit rule tries to analyze it despite that it makes no sense.</p>\n"},{"tags":["java","visual-studio-code","formatting"],"comments":[{"owner":{"account_id":13650861,"reputation":49,"user_id":9848783,"display_name":"chip coint"},"score":1,"creation_date":1617620911,"post_id":66946766,"comment_id":118346103,"body_markdown":"i think this isn&#39;t possible, and you would have to edit the extension itself","body":"i think this isn&#39;t possible, and you would have to edit the extension itself"},{"owner":{"account_id":13523174,"reputation":1121,"user_id":12218938,"display_name":"wristbands"},"score":0,"creation_date":1617736769,"post_id":66946766,"comment_id":118387533,"body_markdown":"Ok thanks @chipcoint. That&#39;s what I was worried about but make sense.","body":"Ok thanks @chipcoint. That&#39;s what I was worried about but make sense."}],"answers":[{"comments":[{"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1617759564,"post_id":66962039,"comment_id":118393599,"body_markdown":"@wristbands. Try my answer and see if it solves your question.","body":"@wristbands. Try my answer and see if it solves your question."},{"owner":{"account_id":13523174,"reputation":1121,"user_id":12218938,"display_name":"wristbands"},"score":3,"creation_date":1618858034,"post_id":66962039,"comment_id":118725023,"body_markdown":"Sorry but that does not really help solve my problem. I did know that it was possible to wrap text onto the next line if it goes over a certain number of characters. But that&#39;s not what I was interested in doing. I wanted to be able to have the Java(TM) by Red Hat extension automatically reformat my text to break it into two lines *in a nice-looking way* once it surpassed 80 characters (it currently reformats at 120 characters). But according to chip coint&#39;s comment above, it appears that this is simply not possible unfortunately; it can only be set at 120 characters.","body":"Sorry but that does not really help solve my problem. I did know that it was possible to wrap text onto the next line if it goes over a certain number of characters. But that&#39;s not what I was interested in doing. I wanted to be able to have the Java(TM) by Red Hat extension automatically reformat my text to break it into two lines <i>in a nice-looking way</i> once it surpassed 80 characters (it currently reformats at 120 characters). But according to chip coint&#39;s comment above, it appears that this is simply not possible unfortunately; it can only be set at 120 characters."},{"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":1,"creation_date":1619753336,"post_id":66962039,"comment_id":119005876,"body_markdown":"@wristbands. This feature will be added in next extension update.","body":"@wristbands. This feature will be added in next extension update."},{"owner":{"account_id":13523174,"reputation":1121,"user_id":12218938,"display_name":"wristbands"},"score":0,"creation_date":1619810755,"post_id":66962039,"comment_id":119026413,"body_markdown":"Oh that&#39;s great to hear! Thanks for letting me know.","body":"Oh that&#39;s great to hear! Thanks for letting me know."}],"tags":[],"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617676612,"creation_date":1617676612,"answer_id":66962039,"question_id":66946766,"body_markdown":"In **Settings.json**, set\r\n\r\n    &quot;editor.wordWrap&quot;: &quot;wordWrapColumn&quot;,\r\n    &quot;editor.wordWrapColumn&quot;: 79,\r\n\r\nWhen code is over the max length, which is 80 now, it will turn to the next line:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter coding, right click in current .java file and choose **Format Document**, all code will be formatted by the wordWrap setting and the max length will be 80.\r\n\r\n  [1]: https://i.stack.imgur.com/XGsu0.gif","title":"How to change max line length for formatter provided by Language Support for Java(TM) by Red Hat extension in Visual Studio Code?","body":"<p>In <strong>Settings.json</strong>, set</p>\n<pre><code>&quot;editor.wordWrap&quot;: &quot;wordWrapColumn&quot;,\n&quot;editor.wordWrapColumn&quot;: 79,\n</code></pre>\n<p>When code is over the max length, which is 80 now, it will turn to the next line:</p>\n<p><a href=\"https://i.stack.imgur.com/XGsu0.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XGsu0.gif\" alt=\"enter image description here\" /></a></p>\n<p>After coding, right click in current .java file and choose <strong>Format Document</strong>, all code will be formatted by the wordWrap setting and the max length will be 80.</p>\n"},{"tags":[],"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689928636,"creation_date":1689928636,"answer_id":76736400,"question_id":66946766,"body_markdown":"The setting you&#39;re looking for is `org.eclipse.jdt.core.formatter.lineSplit` which is located in your java formatter style XML file. \r\n\r\nFirst open your settings json file and find the `java.format.settings.url` option. It is a file url pointing to the style XML file. Open the XML file for editing.\r\n\r\nIf you already have an `org.eclipse.jdt.core.formatter.lineSplit` setting then change it to `80`. If not then paste in the following:\r\n\r\n```\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.lineSplit&quot; value=&quot;80&quot;/&gt;\r\n```\r\n\r\nYou *must* restart vscode for the changes to take effect.\r\n\r\nI had the opposite problem to you and wanted to prevent vscode from breaking lines except in extreme cases so I set it to `200`.","title":"How to change max line length for formatter provided by Language Support for Java(TM) by Red Hat extension in Visual Studio Code?","body":"<p>The setting you're looking for is <code>org.eclipse.jdt.core.formatter.lineSplit</code> which is located in your java formatter style XML file.</p>\n<p>First open your settings json file and find the <code>java.format.settings.url</code> option. It is a file url pointing to the style XML file. Open the XML file for editing.</p>\n<p>If you already have an <code>org.eclipse.jdt.core.formatter.lineSplit</code> setting then change it to <code>80</code>. If not then paste in the following:</p>\n<pre><code>&lt;setting id=&quot;org.eclipse.jdt.core.formatter.lineSplit&quot; value=&quot;80&quot;/&gt;\n</code></pre>\n<p>You <em>must</em> restart vscode for the changes to take effect.</p>\n<p>I had the opposite problem to you and wanted to prevent vscode from breaking lines except in extreme cases so I set it to <code>200</code>.</p>\n"},{"tags":[],"owner":{"account_id":315536,"reputation":1786,"user_id":631272,"display_name":"Marquee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692294300,"creation_date":1692293542,"answer_id":76923883,"question_id":66946766,"body_markdown":"The answers in this GitHub issue fixed it for me: https://github.com/redhat-developer/vscode-java/issues/1709\r\n\r\nI particularly liked rgrunber&#39;s solution to place the prefs in the .vscode folder:\r\n\r\n1. Create `.vscode/settings.prefs` and add the following lines:\r\n\r\n```\r\norg.eclipse.jdt.core.formatter.lineSplit=80\r\norg.eclipse.jdt.core.formatter.comment.line_length=80\r\n```\r\n\r\n2. Update `settings.json`\r\n\r\n```\r\n{\r\n\t&quot;java.settings.url&quot;: &quot;.vscode/settings.prefs&quot;\r\n}\r\n```\r\n\r\nI expanded upon it and followed the same pattern for my exported eclipse formatter prefs that I have used for years:\r\n\r\n1. Create `.vscode/formatter-settings.xml`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;profiles version=&quot;21&quot;&gt;\r\n    &lt;profile kind=&quot;CodeFormatterProfile&quot; name=&quot;My Formatter&quot; version=&quot;21&quot;&gt;\r\n        &lt;setting id=&quot;org.eclipse.jdt.core.formatter.insert_space_after_ellipsis&quot; value=&quot;insert&quot;/&gt;\r\n        &lt;setting id=&quot;org.eclipse.jdt.core.formatter.insert_space_after_comma_in_enum_declarations&quot; value=&quot;insert&quot;/&gt;\r\n        &lt;setting id=&quot;org.eclipse.jdt.core.formatter.insert_space_before_comma_in_allocation_expression&quot; value=&quot;do not insert&quot;/&gt;\r\n        &lt;setting id=&quot;org.eclipse.jdt.core.formatter.parentheses_positions_in_for_statment&quot; value=&quot;common_lines&quot;/&gt;\r\n        &lt;setting id=&quot;org.eclipse.jdt.core.formatter.comment.new_lines_at_block_boundaries&quot; value=&quot;true&quot;/&gt;\r\n...\r\n    &lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n```\r\n\r\n2. Update `settings.json`:\r\n\r\n```\r\n{\r\n\t&quot;java.settings.url&quot;: &quot;.vscode/settings.prefs&quot;,\r\n\t&quot;java.format.settings.url&quot;: &quot;.vscode/formatter-settings.xml&quot;\r\n}\r\n```\r\n\r\nIf you want it to sync across devices, you could instead reference them from a public github repo (append ?raw=true) and set those uris instead.\r\n\r\n```\r\n{\r\n    &quot;java.settings.url&quot;: &quot;https://github.com/themarquee/vscode-settings/blob/main/settings.prefs?raw=true&quot;,\r\n    &quot;java.format.settings.url&quot;: &quot;https://github.com/themarquee/vscode-settings/blob/main/formatter-settings.xml?raw=true&quot;\r\n}\r\n```\r\n\r\nVoila! Finally after 2 years my vscode formats how I want it to!","title":"How to change max line length for formatter provided by Language Support for Java(TM) by Red Hat extension in Visual Studio Code?","body":"<p>The answers in this GitHub issue fixed it for me: <a href=\"https://github.com/redhat-developer/vscode-java/issues/1709\" rel=\"nofollow noreferrer\">https://github.com/redhat-developer/vscode-java/issues/1709</a></p>\n<p>I particularly liked rgrunber's solution to place the prefs in the .vscode folder:</p>\n<ol>\n<li>Create <code>.vscode/settings.prefs</code> and add the following lines:</li>\n</ol>\n<pre><code>org.eclipse.jdt.core.formatter.lineSplit=80\norg.eclipse.jdt.core.formatter.comment.line_length=80\n</code></pre>\n<ol start=\"2\">\n<li>Update <code>settings.json</code></li>\n</ol>\n<pre><code>{\n    &quot;java.settings.url&quot;: &quot;.vscode/settings.prefs&quot;\n}\n</code></pre>\n<p>I expanded upon it and followed the same pattern for my exported eclipse formatter prefs that I have used for years:</p>\n<ol>\n<li>Create <code>.vscode/formatter-settings.xml</code>:</li>\n</ol>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;profiles version=&quot;21&quot;&gt;\n    &lt;profile kind=&quot;CodeFormatterProfile&quot; name=&quot;My Formatter&quot; version=&quot;21&quot;&gt;\n        &lt;setting id=&quot;org.eclipse.jdt.core.formatter.insert_space_after_ellipsis&quot; value=&quot;insert&quot;/&gt;\n        &lt;setting id=&quot;org.eclipse.jdt.core.formatter.insert_space_after_comma_in_enum_declarations&quot; value=&quot;insert&quot;/&gt;\n        &lt;setting id=&quot;org.eclipse.jdt.core.formatter.insert_space_before_comma_in_allocation_expression&quot; value=&quot;do not insert&quot;/&gt;\n        &lt;setting id=&quot;org.eclipse.jdt.core.formatter.parentheses_positions_in_for_statment&quot; value=&quot;common_lines&quot;/&gt;\n        &lt;setting id=&quot;org.eclipse.jdt.core.formatter.comment.new_lines_at_block_boundaries&quot; value=&quot;true&quot;/&gt;\n...\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Update <code>settings.json</code>:</li>\n</ol>\n<pre><code>{\n    &quot;java.settings.url&quot;: &quot;.vscode/settings.prefs&quot;,\n    &quot;java.format.settings.url&quot;: &quot;.vscode/formatter-settings.xml&quot;\n}\n</code></pre>\n<p>If you want it to sync across devices, you could instead reference them from a public github repo (append ?raw=true) and set those uris instead.</p>\n<pre><code>{\n    &quot;java.settings.url&quot;: &quot;https://github.com/themarquee/vscode-settings/blob/main/settings.prefs?raw=true&quot;,\n    &quot;java.format.settings.url&quot;: &quot;https://github.com/themarquee/vscode-settings/blob/main/formatter-settings.xml?raw=true&quot;\n}\n</code></pre>\n<p>Voila! Finally after 2 years my vscode formats how I want it to!</p>\n"}],"owner":{"account_id":13523174,"reputation":1121,"user_id":12218938,"display_name":"wristbands"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4871,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1692294300,"creation_date":1617579329,"question_id":66946766,"body_markdown":"I have the *Language Support for Java(TM) by Red Hat* extension installed in Visual Studio Code. Among other features, this extension can auto-format java code. I have it set to do this whenever I save the file.\r\n\r\nIt appears to have the max line length set to 120 characters, but I would like to set it to 80 characters. I have been searching everywhere but I can&#39;t figure out where to find the relevant setting.\r\n\r\nIs it possible to set the formatter to a different max line length? If so, how?","title":"How to change max line length for formatter provided by Language Support for Java(TM) by Red Hat extension in Visual Studio Code?","body":"<p>I have the <em>Language Support for Java(TM) by Red Hat</em> extension installed in Visual Studio Code. Among other features, this extension can auto-format java code. I have it set to do this whenever I save the file.</p>\n<p>It appears to have the max line length set to 120 characters, but I would like to set it to 80 characters. I have been searching everywhere but I can't figure out where to find the relevant setting.</p>\n<p>Is it possible to set the formatter to a different max line length? If so, how?</p>\n"},{"tags":["java","jpa","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1453303987,"post_id":34902380,"comment_id":57544236,"body_markdown":"Do you have some component marked with @Transactional? Usually it is the source of transaction problems","body":"Do you have some component marked with @Transactional? Usually it is the source of transaction problems"},{"owner":{"account_id":7332995,"reputation":639,"user_id":5585279,"accept_rate":40,"display_name":"Gopi"},"score":0,"creation_date":1453374051,"post_id":34902380,"comment_id":57577543,"body_markdown":"Thank you for reply. I dont have @Transactional anywhere in my code. It is working when i setted the commit interval to 1 .if i setted to 100 or 1000 or 10000 it is failing.","body":"Thank you for reply. I dont have @Transactional anywhere in my code. It is working when i setted the commit interval to 1 .if i setted to 100 or 1000 or 10000 it is failing."}],"answers":[{"tags":[],"owner":{"account_id":13022667,"reputation":85,"user_id":9411531,"display_name":"Rakesh Gurung"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1550819385,"creation_date":1550819385,"answer_id":54821814,"question_id":34902380,"body_markdown":"I had same error &quot;Commit failed while step execution data was already updated. Reverting to old version&quot; and I solved it by using &quot;\t@Transactional(propagation = Propagation.REQUIRES_NEW)&quot; annotation above the method where the records were committed.","title":"Commit failed while step execution data was already updated","body":"<p>I had same error \"Commit failed while step execution data was already updated. Reverting to old version\" and I solved it by using \" @Transactional(propagation = Propagation.REQUIRES_NEW)\" annotation above the method where the records were committed.</p>\n"}],"owner":{"account_id":7332995,"reputation":639,"user_id":5585279,"accept_rate":40,"display_name":"Gopi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10543,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1692293801,"creation_date":1453299220,"question_id":34902380,"body_markdown":"I am getting Commit failed while step execution data was already updated error when spring batch try to commit the records. Any help would be greatly appreciated.\r\nI am using HIbernate JPA .\r\n\r\nIt is working for lesser number of records. Throwing error when the record count is high. \r\n\r\nStack Trace:\r\n\r\n    2016-01-20 08:49:45 INFO  TaskletStep:359 - Commit failed while step execution data was already updated. Reverting to old version.\r\n    2016-01-20 08:49:45 ERROR TaskletStep:370 - Rolling back with transaction in unknown state\r\n    2016-01-20 08:49:45 ERROR AbstractStep:225 - Encountered an error executing  step uploadFiles in job fileUploadJob\r\n    org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException:  Transaction marked as rollbackOnly\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:524)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:757)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:726)\r\n\r\n    ","title":"Commit failed while step execution data was already updated","body":"<p>I am getting Commit failed while step execution data was already updated error when spring batch try to commit the records. Any help would be greatly appreciated.\nI am using HIbernate JPA .</p>\n\n<p>It is working for lesser number of records. Throwing error when the record count is high. </p>\n\n<p>Stack Trace:</p>\n\n<pre><code>2016-01-20 08:49:45 INFO  TaskletStep:359 - Commit failed while step execution data was already updated. Reverting to old version.\n2016-01-20 08:49:45 ERROR TaskletStep:370 - Rolling back with transaction in unknown state\n2016-01-20 08:49:45 ERROR AbstractStep:225 - Encountered an error executing  step uploadFiles in job fileUploadJob\norg.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException:  Transaction marked as rollbackOnly\nat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:524)\nat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:757)\nat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:726)\n</code></pre>\n"},{"tags":["java","generics","tree","static","binary-tree"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":3,"creation_date":1692292971,"post_id":76923812,"comment_id":135606930,"body_markdown":"`rootNode` should **not** be static. Static belongs to the class, not the instance.","body":"<code>rootNode</code> should <b>not</b> be static. Static belongs to the class, not the instance."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1692293048,"post_id":76923812,"comment_id":135606952,"body_markdown":"Note that `T` in `BinaryTree&lt;T&gt;` is not the same as that in `Node&lt;T&gt;`. You may want to remove the latter declaration and make the class non-static.","body":"Note that <code>T</code> in <code>BinaryTree&lt;T&gt;</code> is not the same as that in <code>Node&lt;T&gt;</code>. You may want to remove the latter declaration and make the class non-static."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1692297761,"post_id":76923812,"comment_id":135607819,"body_markdown":"I recommend against trying to have Node&#39;s constructor interact with rootNode at all, whether it&#39;s static or not.","body":"I recommend against trying to have Node&#39;s constructor interact with rootNode at all, whether it&#39;s static or not."},{"owner":{"account_id":29238818,"reputation":13,"user_id":22400834,"display_name":"sof"},"score":0,"creation_date":1692387128,"post_id":76923812,"comment_id":135621096,"body_markdown":"@LouisWasserman Oh, why is that?","body":"@LouisWasserman Oh, why is that?"},{"owner":{"account_id":29238818,"reputation":13,"user_id":22400834,"display_name":"sof"},"score":0,"creation_date":1692387181,"post_id":76923812,"comment_id":135621107,"body_markdown":"@Chaosfire got it","body":"@Chaosfire got it"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1692409362,"post_id":76923812,"comment_id":135623413,"body_markdown":"BinaryTree should manage its own root.  Constructors shouldn&#39;t have any logic and certainly should never modify outside state.","body":"BinaryTree should manage its own root.  Constructors shouldn&#39;t have any logic and certainly should never modify outside state."}],"owner":{"account_id":29238818,"reputation":13,"user_id":22400834,"display_name":"sof"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692292979,"answer_count":0,"score":0,"last_activity_date":1692292903,"creation_date":1692292865,"question_id":76923812,"body_markdown":"I&#39;m encountering the error message &quot;non-static type variable T cannot be referenced from a static context&quot;. It shows **`Required type: Node &lt;T&gt; Provided: Node&lt;T&gt;`**\r\n\r\nI&#39;m struggling to understand what I am doing wrong, but as I understand, there&#39;s an issue with using the generic type T in static context. I would appreciate any help, thanks.\r\n\r\n\r\n```\r\nclass BinaryTree&lt;T&gt; {\r\n    private static Node&lt;T&gt; rootNode;\r\n\r\n    public static class Node&lt;T&gt; {\r\n        private final T value;\r\n        private Node&lt;T&gt; left;\r\n        private Node&lt;T&gt; right;\r\n\r\n        public Node(T value) {\r\n            this.value = value;\r\n            this.left = null;\r\n            this.right = null;\r\n            if (rootNode == null){\r\n                rootNode = this;\r\n            }\r\n        }\r\n    }\r\n\r\n    public BinaryTree() {\r\n        rootNode = null;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI am trying to implement a Binary Tree. I have a static inner class Node inside a BinaryTree class with a generic type. I want to set a static variable (rootNode) within the inner class based on a condition if it is null. \r\n\r\n","title":"Java: Non-Static Type Variable T Cannot be Referenced from a Static Context, for Binary Tree","body":"<p>I'm encountering the error message &quot;non-static type variable T cannot be referenced from a static context&quot;. It shows <strong><code>Required type: Node &lt;T&gt; Provided: Node&lt;T&gt;</code></strong></p>\n<p>I'm struggling to understand what I am doing wrong, but as I understand, there's an issue with using the generic type T in static context. I would appreciate any help, thanks.</p>\n<pre><code>class BinaryTree&lt;T&gt; {\n    private static Node&lt;T&gt; rootNode;\n\n    public static class Node&lt;T&gt; {\n        private final T value;\n        private Node&lt;T&gt; left;\n        private Node&lt;T&gt; right;\n\n        public Node(T value) {\n            this.value = value;\n            this.left = null;\n            this.right = null;\n            if (rootNode == null){\n                rootNode = this;\n            }\n        }\n    }\n\n    public BinaryTree() {\n        rootNode = null;\n    }\n}\n\n</code></pre>\n<p>I am trying to implement a Binary Tree. I have a static inner class Node inside a BinaryTree class with a generic type. I want to set a static variable (rootNode) within the inner class based on a condition if it is null.</p>\n"},{"tags":["java","spring-boot","swagger-ui","openapi"],"comments":[{"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"score":0,"creation_date":1692187309,"post_id":76912990,"comment_id":135589153,"body_markdown":"Please explain further, I don&#39;t really get what you are trying to achieve?","body":"Please explain further, I don&#39;t really get what you are trying to achieve?"},{"owner":{"account_id":21101638,"reputation":11,"user_id":15511411,"display_name":"Andrei Raskolnikov"},"score":0,"creation_date":1692189824,"post_id":76912990,"comment_id":135589736,"body_markdown":"Thank your interest in helping, Alex.\nMy problem is the following: Swagger-ui is providing an example of a JSON for one of the GET endpoints. The example does not include the field &quot;id&quot; of my DTO because it was previously annotated with @Schema(hidden=true). \n\nIt was annotated to be hidden because I don&#39;t want that field to be included in the JSON example provided by Swagger for the POST endpoint. But meanwhile, I want that field to be included in the JSON example provided for the GET endpoint.","body":"Thank your interest in helping, Alex. My problem is the following: Swagger-ui is providing an example of a JSON for one of the GET endpoints. The example does not include the field &quot;id&quot; of my DTO because it was previously annotated with @Schema(hidden=true).   It was annotated to be hidden because I don&#39;t want that field to be included in the JSON example provided by Swagger for the POST endpoint. But meanwhile, I want that field to be included in the JSON example provided for the GET endpoint."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692194078,"post_id":76912990,"comment_id":135590792,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":21101638,"reputation":11,"user_id":15511411,"display_name":"Andrei Raskolnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692292689,"creation_date":1692272743,"answer_id":76921207,"question_id":76912990,"body_markdown":"Ok I found a solution for my encounter. \r\n\r\nInstead of using `@Schema(hidden=true)` for the `id` field within my DTO. I switched to using: `@Schema(accessMode = Schema.AccessMode.READ_ONLY)`. \r\n\r\nWhich changed the behavior of Swagger as I wanted.","title":"SwaggerUI: show/hide a hidden schema field","body":"<p>Ok I found a solution for my encounter.</p>\n<p>Instead of using <code>@Schema(hidden=true)</code> for the <code>id</code> field within my DTO. I switched to using: <code>@Schema(accessMode = Schema.AccessMode.READ_ONLY)</code>.</p>\n<p>Which changed the behavior of Swagger as I wanted.</p>\n"}],"owner":{"account_id":21101638,"reputation":11,"user_id":15511411,"display_name":"Andrei Raskolnikov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76921207,"answer_count":1,"score":1,"last_activity_date":1692292689,"creation_date":1692184218,"question_id":76912990,"body_markdown":"I am trying to set-up an OpenApi documentation within a project. Currently, I am documenting an endpoint which receives a DTO and returns a DTO as a response.\r\n\r\nMy entity DTO has a private field hidden (via @Schema annotation: the id). I used this anno. for not having that field included in the example JSON for a POST..\r\n\r\nAll good so far, but I want to have the id displayed in the response example value JSON within swagger-ui.\r\n\r\nThe example is same for response and request:\r\n{\r\n  &quot;title&quot;: &quot;string&quot;,\r\n  &quot;subtitle&quot;: &quot;string&quot;,\r\n  &quot;publisher&quot;: &quot;string&quot;,\r\n  &quot;publishedDate&quot;: &quot;string&quot;,\r\n  &quot;description&quot;: &quot;string&quot;,\r\n  &quot;pageCount&quot;: 0,\r\n  &quot;language&quot;: &quot;string&quot;,\r\n  &quot;previewLink&quot;: &quot;string&quot;,\r\n  &quot;numberOfItems&quot;: 0\r\n}\r\n\r\nBut for the sake of documentation of the &quot;response&quot;, I want the below JSON to contain also the hidden schema field. Can I do this somehow?\r\n[Image example]\r\n(https://i.stack.imgur.com/PsXfJ.jpg)\r\n\r\nMy approach towards was the following:\r\n\r\n@ApiResponse(description = &quot;Successful response&quot;, responseCode = &quot;200&quot;,content = @Content(schema = @Schema(implementation = BookDto.class)))\r\n\r\nBut I am expecting to be able without making a custom @Content schema, to include in the API response documentation example the hidden field.","title":"SwaggerUI: show/hide a hidden schema field","body":"<p>I am trying to set-up an OpenApi documentation within a project. Currently, I am documenting an endpoint which receives a DTO and returns a DTO as a response.</p>\n<p>My entity DTO has a private field hidden (via @Schema annotation: the id). I used this anno. for not having that field included in the example JSON for a POST..</p>\n<p>All good so far, but I want to have the id displayed in the response example value JSON within swagger-ui.</p>\n<p>The example is same for response and request:\n{\n&quot;title&quot;: &quot;string&quot;,\n&quot;subtitle&quot;: &quot;string&quot;,\n&quot;publisher&quot;: &quot;string&quot;,\n&quot;publishedDate&quot;: &quot;string&quot;,\n&quot;description&quot;: &quot;string&quot;,\n&quot;pageCount&quot;: 0,\n&quot;language&quot;: &quot;string&quot;,\n&quot;previewLink&quot;: &quot;string&quot;,\n&quot;numberOfItems&quot;: 0\n}</p>\n<p>But for the sake of documentation of the &quot;response&quot;, I want the below JSON to contain also the hidden schema field. Can I do this somehow?\n[Image example]\n(<a href=\"https://i.stack.imgur.com/PsXfJ.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/PsXfJ.jpg</a>)</p>\n<p>My approach towards was the following:</p>\n<p>@ApiResponse(description = &quot;Successful response&quot;, responseCode = &quot;200&quot;,content = @Content(schema = @Schema(implementation = BookDto.class)))</p>\n<p>But I am expecting to be able without making a custom @Content schema, to include in the API response documentation example the hidden field.</p>\n"},{"tags":["java","android","video"],"comments":[{"owner":{"account_id":417862,"reputation":16982,"user_id":794088,"display_name":"petey"},"score":0,"creation_date":1449169522,"post_id":34074066,"comment_id":55901396,"body_markdown":"please change `e.printStackTrace();` to `Log.e(TAG, &quot;Exception&quot;, e);` and report what errors logcat says.","body":"please change <code>e.printStackTrace();</code> to <code>Log.e(TAG, &quot;Exception&quot;, e);</code> and report what errors logcat says."},{"owner":{"account_id":3683606,"reputation":5652,"user_id":3067928,"accept_rate":43,"display_name":"RNK"},"score":0,"creation_date":1449169593,"post_id":34074066,"comment_id":55901437,"body_markdown":"There is no exception message in there.","body":"There is no exception message in there."},{"owner":{"account_id":417862,"reputation":16982,"user_id":794088,"display_name":"petey"},"score":0,"creation_date":1449169606,"post_id":34074066,"comment_id":55901449,"body_markdown":"also,  https://www.youtube.com/watch?v=hS5CfP8n_js is not a url to a video,  its a url to a webpage that plays a video","body":"also,  <a href=\"https://www.youtube.com/watch?v=hS5CfP8n_js\" rel=\"nofollow noreferrer\">youtube.com/watch?v=hS5CfP8n_js</a> is not a url to a video,  its a url to a webpage that plays a video"},{"owner":{"account_id":3683606,"reputation":5652,"user_id":3067928,"accept_rate":43,"display_name":"RNK"},"score":0,"creation_date":1449169667,"post_id":34074066,"comment_id":55901491,"body_markdown":"How to get the URL from youtube by which we can download the video?","body":"How to get the URL from youtube by which we can download the video?"},{"owner":{"account_id":417862,"reputation":16982,"user_id":794088,"display_name":"petey"},"score":1,"creation_date":1449170732,"post_id":34074066,"comment_id":55902146,"body_markdown":"Sorry...thats not a programming question.  Try googling or searching on stackexchange.com.","body":"Sorry...thats not a programming question.  Try googling or searching on stackexchange.com."}],"answers":[{"tags":[],"owner":{"account_id":20076809,"reputation":11,"user_id":14720383,"display_name":"MOHAMMED SHAHBAZ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692292653,"creation_date":1692292653,"answer_id":76923789,"question_id":34074066,"body_markdown":"        //make sure to call it from a suspend function or coroutine   \r\n          \r\n        private suspend fun downloadVideo(videoUrl: String): File? = withContext(Dispatchers.IO) {\r\n                    try {\r\n                        val url = URL(videoUrl)\r\n                        val connection = url.openConnection() as HttpURLConnection\r\n                        connection.doInput = true\r\n                        connection.connect()\r\n            \r\n                        val inputStream = connection.inputStream\r\n                        val fileName = &quot;downloaded_video.mp4&quot; // Set the desired file name\r\n                        val file = File(context?.cacheDir, fileName) // Store the video in the app&#39;s cache directory\r\n            \r\n                        FileOutputStream(file).use { output -&gt;\r\n                            val buffer = ByteArray(4 * 1024) // 4KB buffer\r\n                            var bytesRead: Int\r\n                            while (inputStream.read(buffer).also { bytesRead = it } != -1) {\r\n                                output.write(buffer, 0, bytesRead)\r\n                            }\r\n                            output.flush()\r\n                        }\r\n            \r\n                        file\r\n                    } catch (e: Exception) {\r\n                        e.printStackTrace()\r\n                        null\r\n                    }\r\n                } \r\n         \r\n    \r\n    //by mohammed shahbaz \r\n","title":"Download video from URL and store it in android device","body":"<pre><code>    //make sure to call it from a suspend function or coroutine   \n      \n    private suspend fun downloadVideo(videoUrl: String): File? = withContext(Dispatchers.IO) {\n                try {\n                    val url = URL(videoUrl)\n                    val connection = url.openConnection() as HttpURLConnection\n                    connection.doInput = true\n                    connection.connect()\n        \n                    val inputStream = connection.inputStream\n                    val fileName = &quot;downloaded_video.mp4&quot; // Set the desired file name\n                    val file = File(context?.cacheDir, fileName) // Store the video in the app's cache directory\n        \n                    FileOutputStream(file).use { output -&gt;\n                        val buffer = ByteArray(4 * 1024) // 4KB buffer\n                        var bytesRead: Int\n                        while (inputStream.read(buffer).also { bytesRead = it } != -1) {\n                            output.write(buffer, 0, bytesRead)\n                        }\n                        output.flush()\n                    }\n        \n                    file\n                } catch (e: Exception) {\n                    e.printStackTrace()\n                    null\n                }\n            } \n     \n\n//by mohammed shahbaz \n</code></pre>\n"}],"owner":{"account_id":3683606,"reputation":5652,"user_id":3067928,"accept_rate":43,"display_name":"RNK"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2244,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692292653,"creation_date":1449169253,"question_id":34074066,"body_markdown":"I have below code to download video from URL:\r\n\r\nString videoUrl = &quot;https://www.youtube.com/watch?v=hS5CfP8n_js&quot;;\r\n\r\n    private class LongOperation extends AsyncTask&lt;String, Void, String&gt; {\r\n        private ProgressDialog dialog = new ProgressDialog(MainActivity.this);\r\n        private final int TIMEOUT_CONNECTION = 5000;//5sec\r\n        private final int TIMEOUT_SOCKET = 30000;//30sec\r\n        private String TAG = &quot;TAG&quot;;\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            dialog.setMessage(&quot;Downloading...&quot;);\r\n            dialog.show();\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(String... params) {\r\n            try {\r\n                url = new URL(videoUrl);\r\n                long startTime = System.currentTimeMillis();\r\n                Log.i(TAG, &quot;video download beginning: &quot; + videoUrl);\r\n\r\n                //Open a connection to that URL.\r\n                URLConnection ucon = url.openConnection();\r\n\r\n                //this timeout affects how long it takes for the app to realize there&#39;s a connection problem\r\n                ucon.setReadTimeout(TIMEOUT_CONNECTION);\r\n                ucon.setConnectTimeout(TIMEOUT_SOCKET);\r\n\r\n\r\n                //Define InputStreams to read from the URLConnection.\r\n                // uses 3KB download buffer\r\n                InputStream is = ucon.getInputStream();\r\n                BufferedInputStream inStream = new BufferedInputStream(is, 1024 * 5);\r\n                FileOutputStream outStream = new FileOutputStream(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MUSIC).toString()+&quot;/new.mp4&quot;);\r\n                byte[] buff = new byte[5 * 1024];\r\n\r\n                //Read bytes (and store them) until there is nothing more to read(-1)\r\n                int len;\r\n                while ((len = inStream.read(buff)) != -1) {\r\n                    outStream.write(buff, 0, len);\r\n                }\r\n\r\n                //clean up\r\n                outStream.flush();\r\n                outStream.close();\r\n                inStream.close();\r\n\r\n                Log.i(TAG, &quot;download completed in &quot;\r\n                        + ((System.currentTimeMillis() - startTime) / 1000)\r\n                        + &quot; sec&quot;);\r\n\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return &quot;Executed&quot;;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            Log.v(&quot;TEST&quot;, result);\r\n            dialog.dismiss();\r\n        }\r\n    }\r\n\r\nVideo file is there in folder. But, when I tried to play it in media player it&#39;s not playing. Is there anything wrong in code?","title":"Download video from URL and store it in android device","body":"<p>I have below code to download video from URL:</p>\n\n<p>String videoUrl = \"<a href=\"https://www.youtube.com/watch?v=hS5CfP8n_js\" rel=\"nofollow\">https://www.youtube.com/watch?v=hS5CfP8n_js</a>\";</p>\n\n<pre><code>private class LongOperation extends AsyncTask&lt;String, Void, String&gt; {\n    private ProgressDialog dialog = new ProgressDialog(MainActivity.this);\n    private final int TIMEOUT_CONNECTION = 5000;//5sec\n    private final int TIMEOUT_SOCKET = 30000;//30sec\n    private String TAG = \"TAG\";\n\n    @Override\n    protected void onPreExecute() {\n        dialog.setMessage(\"Downloading...\");\n        dialog.show();\n    }\n\n    @Override\n    protected String doInBackground(String... params) {\n        try {\n            url = new URL(videoUrl);\n            long startTime = System.currentTimeMillis();\n            Log.i(TAG, \"video download beginning: \" + videoUrl);\n\n            //Open a connection to that URL.\n            URLConnection ucon = url.openConnection();\n\n            //this timeout affects how long it takes for the app to realize there's a connection problem\n            ucon.setReadTimeout(TIMEOUT_CONNECTION);\n            ucon.setConnectTimeout(TIMEOUT_SOCKET);\n\n\n            //Define InputStreams to read from the URLConnection.\n            // uses 3KB download buffer\n            InputStream is = ucon.getInputStream();\n            BufferedInputStream inStream = new BufferedInputStream(is, 1024 * 5);\n            FileOutputStream outStream = new FileOutputStream(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MUSIC).toString()+\"/new.mp4\");\n            byte[] buff = new byte[5 * 1024];\n\n            //Read bytes (and store them) until there is nothing more to read(-1)\n            int len;\n            while ((len = inStream.read(buff)) != -1) {\n                outStream.write(buff, 0, len);\n            }\n\n            //clean up\n            outStream.flush();\n            outStream.close();\n            inStream.close();\n\n            Log.i(TAG, \"download completed in \"\n                    + ((System.currentTimeMillis() - startTime) / 1000)\n                    + \" sec\");\n\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return \"Executed\";\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n        Log.v(\"TEST\", result);\n        dialog.dismiss();\n    }\n}\n</code></pre>\n\n<p>Video file is there in folder. But, when I tried to play it in media player it's not playing. Is there anything wrong in code?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692289069,"post_id":76923295,"comment_id":135606144,"body_markdown":"Please, write a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please, write a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1692289447,"post_id":76923295,"comment_id":135606226,"body_markdown":"Your code is not valid Java. Method calls must be inside a method, constructor or (static) initializer block. You cannot have method calls directly inside a class body in Java.","body":"Your code is not valid Java. Method calls must be inside a method, constructor or (static) initializer block. You cannot have method calls directly inside a class body in Java."},{"owner":{"account_id":26218351,"reputation":1,"user_id":19896192,"display_name":"Collin"},"score":0,"creation_date":1692289567,"post_id":76923295,"comment_id":135606251,"body_markdown":"Actually running the code isn&#39;t the issue, it&#39;s that the method isn&#39;t recognized by Android Studio.  So, I don&#39;t really think reproducible code would help here.","body":"Actually running the code isn&#39;t the issue, it&#39;s that the method isn&#39;t recognized by Android Studio.  So, I don&#39;t really think reproducible code would help here."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692289680,"post_id":76923295,"comment_id":135606267,"body_markdown":"The code that you are using is **exactly the same** that is in the question?","body":"The code that you are using is <b>exactly the same</b> that is in the question?"},{"owner":{"account_id":26218351,"reputation":1,"user_id":19896192,"display_name":"Collin"},"score":0,"creation_date":1692290000,"post_id":76923295,"comment_id":135606328,"body_markdown":"Even within a method, I still get the same result. To clarify, when hovering over the text of &quot;.addView()&quot;, I cannot even see the documentation for it with CTRL+Q. It doesn&#39;t recognize it.","body":"Even within a method, I still get the same result. To clarify, when hovering over the text of &quot;.addView()&quot;, I cannot even see the documentation for it with CTRL+Q. It doesn&#39;t recognize it."},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1692290484,"post_id":76923295,"comment_id":135606416,"body_markdown":"Use an instance of ViewGroup to assure it works","body":"Use an instance of ViewGroup to assure it works"},{"owner":{"account_id":26218351,"reputation":1,"user_id":19896192,"display_name":"Collin"},"score":0,"creation_date":1692290846,"post_id":76923295,"comment_id":135606492,"body_markdown":"Thanks, Cmak. This works. I should be able to figure it out from here.","body":"Thanks, Cmak. This works. I should be able to figure it out from here."}],"owner":{"account_id":26218351,"reputation":1,"user_id":19896192,"display_name":"Collin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692291998,"creation_date":1692288683,"question_id":76923295,"body_markdown":"I&#39;m working on an application in Android Studio (Giraffe), written in Java, to which I need to add buttons to a ScrollView. I&#39;ve done some research and found that the addView method is likely what I&#39;d want to use. However, for some reason, my Android Studio does not recognize it as a method for the ViewGroup class. For instance, when I put the following:\r\n\r\n```\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.widget.ScrollView;\r\nimport android.widget.LinearLayout;\r\nimport android.view.View;\r\n\r\n\r\nclass Test {\r\n    ViewGroup.addView(someView);\r\n}\r\n```\r\n\r\n\r\nIt acts as though addView isn&#39;t a valid method, giving me the message of &quot;Cannot resolve symbol &#39;addView&#39;&quot;. Also, when being applied to an instantiated ScrollView, it reads as &quot;Cannot resolve method &#39;addView&#39; in &#39;View&#39;&quot;.\r\n\r\nWould anyone know why this is? From what I&#39;ve read online, nobody else really seems to have this issue. I&#39;ve already attempted a few troubleshooting steps- like rebuilding, restarting, and even reinstalling Android Studio, but I haven&#39;t gotten any results. I&#39;d really appreciate any feedback.\r\n\r\nEdit: Here is a functional example of code that produces the same error.\r\n\r\n```\r\nclass Test {\r\n    public static void someMethod() {\r\n        View someView = null;\r\n        ViewGroup.addView(someView);\r\n    }\r\n}\r\n```","title":"Android Studio doesn&#39;t recognize the addView method","body":"<p>I'm working on an application in Android Studio (Giraffe), written in Java, to which I need to add buttons to a ScrollView. I've done some research and found that the addView method is likely what I'd want to use. However, for some reason, my Android Studio does not recognize it as a method for the ViewGroup class. For instance, when I put the following:</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\nimport android.widget.ScrollView;\nimport android.widget.LinearLayout;\nimport android.view.View;\n\n\nclass Test {\n    ViewGroup.addView(someView);\n}\n</code></pre>\n<p>It acts as though addView isn't a valid method, giving me the message of &quot;Cannot resolve symbol 'addView'&quot;. Also, when being applied to an instantiated ScrollView, it reads as &quot;Cannot resolve method 'addView' in 'View'&quot;.</p>\n<p>Would anyone know why this is? From what I've read online, nobody else really seems to have this issue. I've already attempted a few troubleshooting steps- like rebuilding, restarting, and even reinstalling Android Studio, but I haven't gotten any results. I'd really appreciate any feedback.</p>\n<p>Edit: Here is a functional example of code that produces the same error.</p>\n<pre><code>class Test {\n    public static void someMethod() {\n        View someView = null;\n        ViewGroup.addView(someView);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1692294280,"post_id":76923711,"comment_id":135607214,"body_markdown":"The debugger uses the class itself to &#39;see&#39; the data, which causes it to be fetched. Groups is being fetched joined in, which you can see in the executed query, while the projectGroups is being fetched separately because you are accessing it through the debugger. Turn on SQL logging and let it run without debugging - if you don&#39;t see the query on ProjectMember, it isn&#39;t being fetched","body":"The debugger uses the class itself to &#39;see&#39; the data, which causes it to be fetched. Groups is being fetched joined in, which you can see in the executed query, while the projectGroups is being fetched separately because you are accessing it through the debugger. Turn on SQL logging and let it run without debugging - if you don&#39;t see the query on ProjectMember, it isn&#39;t being fetched"},{"owner":{"account_id":13176203,"reputation":195,"user_id":9517076,"display_name":"I have 10 fingers"},"score":0,"creation_date":1692317610,"post_id":76923711,"comment_id":135610407,"body_markdown":"@Chris But i can&#39;t see any related entities in debugger using this query `select p from Project p`. If debugger fetches to see the data somehow then this query should fetch other entities as well","body":"@Chris But i can&#39;t see any related entities in debugger using this query <code>select p from Project p</code>. If debugger fetches to see the data somehow then this query should fetch other entities as well"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692370981,"post_id":76923711,"comment_id":135618238,"body_markdown":"Check the logs - you should be able to determine when the query for ProjectMembers is issued. If it isn&#39;t issued, it isn&#39;t fetched. As for other queries - you should be able to see what is in the collection by expanding them. Have you maybe read in this Project instance before and had it fetch the projectMembers? You might be getting the cached instance from before. You need to see the query doing the fetch to figure out what is executing it - and it isn&#39;t in what you&#39;ve shown us","body":"Check the logs - you should be able to determine when the query for ProjectMembers is issued. If it isn&#39;t issued, it isn&#39;t fetched. As for other queries - you should be able to see what is in the collection by expanding them. Have you maybe read in this Project instance before and had it fetch the projectMembers? You might be getting the cached instance from before. You need to see the query doing the fetch to figure out what is executing it - and it isn&#39;t in what you&#39;ve shown us"},{"owner":{"account_id":13176203,"reputation":195,"user_id":9517076,"display_name":"I have 10 fingers"},"score":0,"creation_date":1692456985,"post_id":76923711,"comment_id":135627253,"body_markdown":"The member entity is only shown in the transaction then it is disappeared after transaction is finished. Also i cant see any logs related member entity so it is not actually fetched as you said but why other entities still remain as proxy. Showing as proxy is what unselected entities should be isnt it? Like i see when using default `findById`","body":"The member entity is only shown in the transaction then it is disappeared after transaction is finished. Also i cant see any logs related member entity so it is not actually fetched as you said but why other entities still remain as proxy. Showing as proxy is what unselected entities should be isnt it? Like i see when using default <code>findById</code>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692626971,"post_id":76923711,"comment_id":135645506,"body_markdown":"Are we debugging your debugger, or are you looking at debugging real world results in your application? I can only help guess at what you are seeing. If there is no query for the ProjectMembers occurring in your application at all - I could guess that maybe you have these Project instances and their ProjectMembers already cached from earlier application access. You&#39;ll have to figure out where/when they are fetched - maybe put a lock in the table and check to see if any threads are stuck blocked on it","body":"Are we debugging your debugger, or are you looking at debugging real world results in your application? I can only help guess at what you are seeing. If there is no query for the ProjectMembers occurring in your application at all - I could guess that maybe you have these Project instances and their ProjectMembers already cached from earlier application access. You&#39;ll have to figure out where/when they are fetched - maybe put a lock in the table and check to see if any threads are stuck blocked on it"},{"owner":{"account_id":13176203,"reputation":195,"user_id":9517076,"display_name":"I have 10 fingers"},"score":0,"creation_date":1692630571,"post_id":76923711,"comment_id":135646341,"body_markdown":"It appears on both local dev environment and the sample code i linked. I need to dig it in more since there is no explicit log. Thank you for your help anyways.","body":"It appears on both local dev environment and the sample code i linked. I need to dig it in more since there is no explicit log. Thank you for your help anyways."}],"owner":{"account_id":13176203,"reputation":195,"user_id":9517076,"display_name":"I have 10 fingers"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692291949,"creation_date":1692291949,"question_id":76923711,"body_markdown":"Recently i&#39;m facing weird issue while developing spring data jpa application.\r\n\r\nI thought lazy fetched collection type entity is only fetched when it is actually accessed or when i fetch it with fetch join. But i can see unspecified entity which is not located in select clause nor from, where clause during debugging time.\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;projects&quot;)\r\n@Getter\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\npublic class Project extends BaseTimeEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;project&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private final List&lt;ProjectGroup&gt; groups = new ArrayList&lt;&gt;();\r\n\r\n    @OneToMany(mappedBy = &quot;project&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private final List&lt;ProjectMember&gt; projectMembers = new ArrayList&lt;&gt;();\r\n\r\n    @Builder\r\n    public Project(\r\n        String name\r\n    ) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void addGroup(ProjectGroup group) {\r\n        this.groups.add(group);\r\n        group.setProject(this);\r\n    }\r\n\r\n    public void removeGroup(ProjectGroup group) {\r\n        this.groups.remove(group);\r\n        group.setProject(null);\r\n    }\r\n\r\n    public void addProjectMember(ProjectMember projectMember) {\r\n        this.projectMembers.add(projectMember);\r\n        projectMember.setProject(this);\r\n    }\r\n\r\n    public void removeProjectMember(ProjectMember projectMember) {\r\n        this.projectMembers.remove(projectMember);\r\n        projectMember.setProject(null);\r\n    }\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;project_groups&quot;)\r\n@Getter\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\npublic class ProjectGroup extends BaseTimeEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;project_id&quot;, foreignKey = @ForeignKey(name = &quot;FK_PROJECT_GROUP_PROJECT&quot;))\r\n    private Project project;\r\n\r\n    @Builder\r\n    public ProjectGroup(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setProject(Project project) {\r\n        this.project = project;\r\n    }\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;project_members&quot;)\r\n@Getter\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\npublic class ProjectMember extends BaseTimeEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;project_id&quot;, foreignKey = @ForeignKey(name = &quot;FK_PROJECT_MEMBER_PROJECT&quot;))\r\n    private Project project;\r\n\r\n    @Column(name = &quot;nickname&quot;)\r\n    private String nickname;\r\n\r\n    @Column(name = &quot;is_deleted&quot;)\r\n    private boolean isDeleted = false;\r\n\r\n    @Builder\r\n    public ProjectMember(\r\n        String nickname,\r\n        boolean isDeleted\r\n    ) {\r\n        this.nickname = nickname;\r\n        this.isDeleted = isDeleted;\r\n    }\r\n\r\n    public void setProject(Project project) {\r\n        this.project = project;\r\n    }\r\n}\r\n```\r\nThose are my entities as you can see all the collection type entities are set as `FetchType.LAZY` which is the default value. \r\n\r\nAnd this is my repository and service class\r\n```java\r\npublic interface ProjectRepository extends JpaRepository&lt;Project, Long&gt; {\r\n\r\n    @Query(&quot;&quot;&quot;\r\n        select distinct p\r\n        from Project p\r\n            left join fetch p.groups\r\n        where p.id = :id\r\n    &quot;&quot;&quot;)\r\n    Optional&lt;Project&gt; findWithProjectGroupsById(@Param(&quot;id&quot;) Long id);\r\n\r\n}\r\n\r\n@Service\r\n@Transactional\r\n@RequiredArgsConstructor\r\npublic class ProjectQueryServiceImpl implements ProjectQueryService {\r\n\r\n    private final ProjectRepository projectRepository;\r\n\r\n    @Override\r\n    public ProjectResponseDto fetchWithMembersAndGroups(Long id) {\r\n        return projectRepository.findWithProjectGroupsById(id)\r\n            .map(ProjectResponseDto::new)\r\n            .orElseThrow(EntityNotFoundException::new);\r\n    }\r\n}\r\n```\r\n\r\nThe service code is very simple it only fetch project with group entity with fetch join. You can see clearly there is no member entity in this query.\r\n\r\nAnd the generated query looks like this\r\n```sql\r\n    select\r\n        distinct project0_.id as id1_2_0_,\r\n        groups1_.id as id1_0_1_,\r\n        project0_.created_at as created_2_2_0_,\r\n        project0_.modified_at as modified3_2_0_,\r\n        project0_.name as name4_2_0_,\r\n        groups1_.created_at as created_2_0_1_,\r\n        groups1_.modified_at as modified3_0_1_,\r\n        groups1_.name as name4_0_1_,\r\n        groups1_.project_id as project_5_0_1_,\r\n        groups1_.project_id as project_5_0_0__,\r\n        groups1_.id as id1_0_0__ \r\n    from\r\n        projects project0_ \r\n    left outer join\r\n        project_groups groups1_ \r\n            on project0_.id=groups1_.project_id \r\n    where\r\n        project0_.id=?\r\n```\r\nBut when i set the break point right after the above query is executed i can see the unspecified member entity\r\n[![enter image description here][1]][1]\r\n\r\nDoes anyone know why this happens? I&#39;ve tried to find out but still couldn&#39;t find any reason.\r\n\r\nIf you want to reproducible [sample code][2] please use it and you can easily reproduce it when you run the test method and set break point in the `PostResponseDto` so that you can pause test right after executing repository method.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BjwEP.png\r\n  [2]: https://github.com/Y-k-Y/jpatest/","title":"Unspecified entity is shown during spring boot jpa transaction","body":"<p>Recently i'm facing weird issue while developing spring data jpa application.</p>\n<p>I thought lazy fetched collection type entity is only fetched when it is actually accessed or when i fetch it with fetch join. But i can see unspecified entity which is not located in select clause nor from, where clause during debugging time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;projects&quot;)\n@Getter\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\npublic class Project extends BaseTimeEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;project&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private final List&lt;ProjectGroup&gt; groups = new ArrayList&lt;&gt;();\n\n    @OneToMany(mappedBy = &quot;project&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private final List&lt;ProjectMember&gt; projectMembers = new ArrayList&lt;&gt;();\n\n    @Builder\n    public Project(\n        String name\n    ) {\n        this.name = name;\n    }\n\n    public void addGroup(ProjectGroup group) {\n        this.groups.add(group);\n        group.setProject(this);\n    }\n\n    public void removeGroup(ProjectGroup group) {\n        this.groups.remove(group);\n        group.setProject(null);\n    }\n\n    public void addProjectMember(ProjectMember projectMember) {\n        this.projectMembers.add(projectMember);\n        projectMember.setProject(this);\n    }\n\n    public void removeProjectMember(ProjectMember projectMember) {\n        this.projectMembers.remove(projectMember);\n        projectMember.setProject(null);\n    }\n}\n\n@Entity\n@Table(name = &quot;project_groups&quot;)\n@Getter\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\npublic class ProjectGroup extends BaseTimeEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;project_id&quot;, foreignKey = @ForeignKey(name = &quot;FK_PROJECT_GROUP_PROJECT&quot;))\n    private Project project;\n\n    @Builder\n    public ProjectGroup(String name) {\n        this.name = name;\n    }\n\n    public void setProject(Project project) {\n        this.project = project;\n    }\n}\n\n@Entity\n@Table(name = &quot;project_members&quot;)\n@Getter\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\npublic class ProjectMember extends BaseTimeEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;project_id&quot;, foreignKey = @ForeignKey(name = &quot;FK_PROJECT_MEMBER_PROJECT&quot;))\n    private Project project;\n\n    @Column(name = &quot;nickname&quot;)\n    private String nickname;\n\n    @Column(name = &quot;is_deleted&quot;)\n    private boolean isDeleted = false;\n\n    @Builder\n    public ProjectMember(\n        String nickname,\n        boolean isDeleted\n    ) {\n        this.nickname = nickname;\n        this.isDeleted = isDeleted;\n    }\n\n    public void setProject(Project project) {\n        this.project = project;\n    }\n}\n</code></pre>\n<p>Those are my entities as you can see all the collection type entities are set as <code>FetchType.LAZY</code> which is the default value.</p>\n<p>And this is my repository and service class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ProjectRepository extends JpaRepository&lt;Project, Long&gt; {\n\n    @Query(&quot;&quot;&quot;\n        select distinct p\n        from Project p\n            left join fetch p.groups\n        where p.id = :id\n    &quot;&quot;&quot;)\n    Optional&lt;Project&gt; findWithProjectGroupsById(@Param(&quot;id&quot;) Long id);\n\n}\n\n@Service\n@Transactional\n@RequiredArgsConstructor\npublic class ProjectQueryServiceImpl implements ProjectQueryService {\n\n    private final ProjectRepository projectRepository;\n\n    @Override\n    public ProjectResponseDto fetchWithMembersAndGroups(Long id) {\n        return projectRepository.findWithProjectGroupsById(id)\n            .map(ProjectResponseDto::new)\n            .orElseThrow(EntityNotFoundException::new);\n    }\n}\n</code></pre>\n<p>The service code is very simple it only fetch project with group entity with fetch join. You can see clearly there is no member entity in this query.</p>\n<p>And the generated query looks like this</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    select\n        distinct project0_.id as id1_2_0_,\n        groups1_.id as id1_0_1_,\n        project0_.created_at as created_2_2_0_,\n        project0_.modified_at as modified3_2_0_,\n        project0_.name as name4_2_0_,\n        groups1_.created_at as created_2_0_1_,\n        groups1_.modified_at as modified3_0_1_,\n        groups1_.name as name4_0_1_,\n        groups1_.project_id as project_5_0_1_,\n        groups1_.project_id as project_5_0_0__,\n        groups1_.id as id1_0_0__ \n    from\n        projects project0_ \n    left outer join\n        project_groups groups1_ \n            on project0_.id=groups1_.project_id \n    where\n        project0_.id=?\n</code></pre>\n<p>But when i set the break point right after the above query is executed i can see the unspecified member entity\n<a href=\"https://i.stack.imgur.com/BjwEP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BjwEP.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone know why this happens? I've tried to find out but still couldn't find any reason.</p>\n<p>If you want to reproducible <a href=\"https://github.com/Y-k-Y/jpatest/\" rel=\"nofollow noreferrer\">sample code</a> please use it and you can easily reproduce it when you run the test method and set break point in the <code>PostResponseDto</code> so that you can pause test right after executing repository method.</p>\n"},{"tags":["java","html","merge","report","jacoco-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":284924,"reputation":431,"user_id":583309,"accept_rate":24,"display_name":"Hussain Ashruf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692291769,"creation_date":1692291769,"answer_id":76923692,"question_id":76902649,"body_markdown":"For the second part use $ java -jar jacococli.jar report ....it generates the html report","title":"Separate java projects with jacoco code coverage reports are generated separately using maven. Consolidated report generated is blank","body":"<p>For the second part use $ java -jar jacococli.jar report ....it generates the html report</p>\n"}],"owner":{"account_id":284924,"reputation":431,"user_id":583309,"accept_rate":24,"display_name":"Hussain Ashruf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692291769,"creation_date":1692054806,"question_id":76902649,"body_markdown":"Having separate java projects (non-multi module projects) with jacoco code coverage reports are generated separately using maven. Each one having its own target\\jacoco.exec coverage file and Html reports; so having number of those. I am trying to consolidate all of those into one and generate one jacoco.exec and one html report. \r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.8.9&lt;/version&gt;...\r\n\r\n\r\n                &lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;merge-reports&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;merge&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;fileSets&gt;\r\n\t\t\t\t\t\t\t\t&lt;fileSet&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;directory&gt;lambda/face-email-handler/target/&lt;/directory&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;include&gt;*.exec&lt;/include&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t\t\t&lt;/fileSet&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- Repeat for other projects --&gt;\r\n\t\t\t\t\t\t\t&lt;/fileSets&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;report&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;dataFileIncludes&gt;\r\n\t\t\t\t\t\t\t\t&lt;dataFileInclude&gt;target/jacoco.exec&lt;/dataFileInclude&gt;\r\n\t\t\t\t\t\t\t&lt;/dataFileIncludes&gt;\r\n\t\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t\t&lt;include&gt;edu/uca/**&lt;/include&gt;\r\n\t\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;target/site/jacoco-coverage-aggregate&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;...\r\n\r\nSo able to have one jacoco.exec but html report being generated is blank. Specific direction is appreciated.\r\n[![Blank html consolidated code coverage report][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gNseA.png","title":"Separate java projects with jacoco code coverage reports are generated separately using maven. Consolidated report generated is blank","body":"<p>Having separate java projects (non-multi module projects) with jacoco code coverage reports are generated separately using maven. Each one having its own target\\jacoco.exec coverage file and Html reports; so having number of those. I am trying to consolidate all of those into one and generate one jacoco.exec and one html report.</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.8.9&lt;/version&gt;...\n\n\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;merge-reports&lt;/id&gt;\n                    &lt;phase&gt;test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;merge&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;fileSets&gt;\n                            &lt;fileSet&gt;\n                                &lt;directory&gt;lambda/face-email-handler/target/&lt;/directory&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;*.exec&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/fileSet&gt;\n                            &lt;!-- Repeat for other projects --&gt;\n                        &lt;/fileSets&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n\n                &lt;execution&gt;\n                    &lt;id&gt;report&lt;/id&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report-aggregate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;dataFileIncludes&gt;\n                            &lt;dataFileInclude&gt;target/jacoco.exec&lt;/dataFileInclude&gt;\n                        &lt;/dataFileIncludes&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;edu/uca/**&lt;/include&gt;\n                        &lt;/includes&gt;\n                        &lt;outputDirectory&gt;target/site/jacoco-coverage-aggregate&lt;/outputDirectory&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;...\n</code></pre>\n<p>So able to have one jacoco.exec but html report being generated is blank. Specific direction is appreciated.\n<a href=\"https://i.stack.imgur.com/gNseA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gNseA.png\" alt=\"Blank html consolidated code coverage report\" /></a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9892,"page":242,"page_size":100}
